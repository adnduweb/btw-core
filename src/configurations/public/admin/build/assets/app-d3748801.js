var zE=(Fe,_r)=>()=>(_r||Fe((_r={exports:{}}).exports,_r),_r.exports);var HE=zE((exports,module)=>{function _mergeNamespaces(Fe,_r){for(var $r=0;$r<_r.length;$r++){const Br=_r[$r];if(typeof Br!="string"&&!Array.isArray(Br)){for(const Fr in Br)if(Fr!=="default"&&!(Fr in Fe)){const zr=Object.getOwnPropertyDescriptor(Br,Fr);zr&&Object.defineProperty(Fe,Fr,zr.get?zr:{enumerable:!0,get:()=>Br[Fr]})}}}return Object.freeze(Object.defineProperty(Fe,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Fe){return Fe&&Fe.__esModule&&Object.prototype.hasOwnProperty.call(Fe,"default")?Fe.default:Fe}function getAugmentedNamespace(Fe){if(Fe.__esModule)return Fe;var _r=Fe.default;if(typeof _r=="function"){var $r=function Br(){return this instanceof Br?Reflect.construct(_r,arguments,this.constructor):_r.apply(this,arguments)};$r.prototype=_r.prototype}else $r={};return Object.defineProperty($r,"__esModule",{value:!0}),Object.keys(Fe).forEach(function(Br){var Fr=Object.getOwnPropertyDescriptor(Fe,Br);Object.defineProperty($r,Br,Fr.get?Fr:{enumerable:!0,get:function(){return Fe[Br]}})}),$r}var jquery={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(Fe){(function(_r,$r){Fe.exports=_r.document?$r(_r,!0):function(Br){if(!Br.document)throw new Error("jQuery requires a window with a document");return $r(Br)}})(typeof window<"u"?window:commonjsGlobal,function(_r,$r){var Br=[],Fr=Object.getPrototypeOf,zr=Br.slice,jr=Br.flat?function(An){return Br.flat.call(An)}:function(An){return Br.concat.apply([],An)},Ur=Br.push,Gr=Br.indexOf,Yr={},Kr=Yr.toString,Qr=Yr.hasOwnProperty,Jr=Qr.toString,rn=Jr.call(Object),an={},ln=function(Tn){return typeof Tn=="function"&&typeof Tn.nodeType!="number"&&typeof Tn.item!="function"},dn=function(Tn){return Tn!=null&&Tn===Tn.window},hn=_r.document,gn={type:!0,src:!0,nonce:!0,noModule:!0};function bn(An,Tn,$n){$n=$n||hn;var zn,Xn,Qn=$n.createElement("script");if(Qn.text=An,Tn)for(zn in gn)Xn=Tn[zn]||Tn.getAttribute&&Tn.getAttribute(zn),Xn&&Qn.setAttribute(zn,Xn);$n.head.appendChild(Qn).parentNode.removeChild(Qn)}function kn(An){return An==null?An+"":typeof An=="object"||typeof An=="function"?Yr[Kr.call(An)]||"object":typeof An}var Sn="3.7.1",_n=/HTML$/i,pn=function(An,Tn){return new pn.fn.init(An,Tn)};pn.fn=pn.prototype={jquery:Sn,constructor:pn,length:0,toArray:function(){return zr.call(this)},get:function(An){return An==null?zr.call(this):An<0?this[An+this.length]:this[An]},pushStack:function(An){var Tn=pn.merge(this.constructor(),An);return Tn.prevObject=this,Tn},each:function(An){return pn.each(this,An)},map:function(An){return this.pushStack(pn.map(this,function(Tn,$n){return An.call(Tn,$n,Tn)}))},slice:function(){return this.pushStack(zr.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(pn.grep(this,function(An,Tn){return(Tn+1)%2}))},odd:function(){return this.pushStack(pn.grep(this,function(An,Tn){return Tn%2}))},eq:function(An){var Tn=this.length,$n=+An+(An<0?Tn:0);return this.pushStack($n>=0&&$n<Tn?[this[$n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ur,sort:Br.sort,splice:Br.splice},pn.extend=pn.fn.extend=function(){var An,Tn,$n,zn,Xn,Qn,ii=arguments[0]||{},ki=1,yi=arguments.length,Ii=!1;for(typeof ii=="boolean"&&(Ii=ii,ii=arguments[ki]||{},ki++),typeof ii!="object"&&!ln(ii)&&(ii={}),ki===yi&&(ii=this,ki--);ki<yi;ki++)if((An=arguments[ki])!=null)for(Tn in An)zn=An[Tn],!(Tn==="__proto__"||ii===zn)&&(Ii&&zn&&(pn.isPlainObject(zn)||(Xn=Array.isArray(zn)))?($n=ii[Tn],Xn&&!Array.isArray($n)?Qn=[]:!Xn&&!pn.isPlainObject($n)?Qn={}:Qn=$n,Xn=!1,ii[Tn]=pn.extend(Ii,Qn,zn)):zn!==void 0&&(ii[Tn]=zn));return ii},pn.extend({expando:"jQuery"+(Sn+Math.random()).replace(/\D/g,""),isReady:!0,error:function(An){throw new Error(An)},noop:function(){},isPlainObject:function(An){var Tn,$n;return!An||Kr.call(An)!=="[object Object]"?!1:(Tn=Fr(An),Tn?($n=Qr.call(Tn,"constructor")&&Tn.constructor,typeof $n=="function"&&Jr.call($n)===rn):!0)},isEmptyObject:function(An){var Tn;for(Tn in An)return!1;return!0},globalEval:function(An,Tn,$n){bn(An,{nonce:Tn&&Tn.nonce},$n)},each:function(An,Tn){var $n,zn=0;if(Cn(An))for($n=An.length;zn<$n&&Tn.call(An[zn],zn,An[zn])!==!1;zn++);else for(zn in An)if(Tn.call(An[zn],zn,An[zn])===!1)break;return An},text:function(An){var Tn,$n="",zn=0,Xn=An.nodeType;if(!Xn)for(;Tn=An[zn++];)$n+=pn.text(Tn);return Xn===1||Xn===11?An.textContent:Xn===9?An.documentElement.textContent:Xn===3||Xn===4?An.nodeValue:$n},makeArray:function(An,Tn){var $n=Tn||[];return An!=null&&(Cn(Object(An))?pn.merge($n,typeof An=="string"?[An]:An):Ur.call($n,An)),$n},inArray:function(An,Tn,$n){return Tn==null?-1:Gr.call(Tn,An,$n)},isXMLDoc:function(An){var Tn=An&&An.namespaceURI,$n=An&&(An.ownerDocument||An).documentElement;return!_n.test(Tn||$n&&$n.nodeName||"HTML")},merge:function(An,Tn){for(var $n=+Tn.length,zn=0,Xn=An.length;zn<$n;zn++)An[Xn++]=Tn[zn];return An.length=Xn,An},grep:function(An,Tn,$n){for(var zn,Xn=[],Qn=0,ii=An.length,ki=!$n;Qn<ii;Qn++)zn=!Tn(An[Qn],Qn),zn!==ki&&Xn.push(An[Qn]);return Xn},map:function(An,Tn,$n){var zn,Xn,Qn=0,ii=[];if(Cn(An))for(zn=An.length;Qn<zn;Qn++)Xn=Tn(An[Qn],Qn,$n),Xn!=null&&ii.push(Xn);else for(Qn in An)Xn=Tn(An[Qn],Qn,$n),Xn!=null&&ii.push(Xn);return jr(ii)},guid:1,support:an}),typeof Symbol=="function"&&(pn.fn[Symbol.iterator]=Br[Symbol.iterator]),pn.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(An,Tn){Yr["[object "+Tn+"]"]=Tn.toLowerCase()});function Cn(An){var Tn=!!An&&"length"in An&&An.length,$n=kn(An);return ln(An)||dn(An)?!1:$n==="array"||Tn===0||typeof Tn=="number"&&Tn>0&&Tn-1 in An}function En(An,Tn){return An.nodeName&&An.nodeName.toLowerCase()===Tn.toLowerCase()}var Pn=Br.pop,On=Br.sort,jn=Br.splice,Fn="[\\x20\\t\\r\\n\\f]",Wn=new RegExp("^"+Fn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fn+"+$","g");pn.contains=function(An,Tn){var $n=Tn&&Tn.parentNode;return An===$n||!!($n&&$n.nodeType===1&&(An.contains?An.contains($n):An.compareDocumentPosition&&An.compareDocumentPosition($n)&16))};var Hn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function qn(An,Tn){return Tn?An==="\0"?"ï¿½":An.slice(0,-1)+"\\"+An.charCodeAt(An.length-1).toString(16)+" ":"\\"+An}pn.escapeSelector=function(An){return(An+"").replace(Hn,qn)};var ni=hn,oi=Ur;(function(){var An,Tn,$n,zn,Xn,Qn=oi,ii,ki,yi,Ii,qi,io=pn.expando,zi=0,fo=0,pa=pu(),Ga=pu(),ba=pu(),Ss=pu(),tl=function(di,Si){return di===Si&&(Xn=!0),0},ql="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Gl="(?:\\\\[\\da-fA-F]{1,6}"+Fn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Oa="\\["+Fn+"*("+Gl+")(?:"+Fn+"*([*^$|!~]?=)"+Fn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Gl+"))|)"+Fn+"*\\]",ws=":("+Gl+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Oa+")*)|.*)\\)|)",Qa=new RegExp(Fn+"+","g"),Ps=new RegExp("^"+Fn+"*,"+Fn+"*"),nc=new RegExp("^"+Fn+"*([>+~]|"+Fn+")"+Fn+"*"),qc=new RegExp(Fn+"|>"),Kl=new RegExp(ws),Zl=new RegExp("^"+Gl+"$"),Pl={ID:new RegExp("^#("+Gl+")"),CLASS:new RegExp("^\\.("+Gl+")"),TAG:new RegExp("^("+Gl+"|[*])"),ATTR:new RegExp("^"+Oa),PSEUDO:new RegExp("^"+ws),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Fn+"*(even|odd|(([+-]|)(\\d*)n|)"+Fn+"*(?:([+-]|)"+Fn+"*(\\d+)|))"+Fn+"*\\)|)","i"),bool:new RegExp("^(?:"+ql+")$","i"),needsContext:new RegExp("^"+Fn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Fn+"*((?:-\\d)?\\d*)"+Fn+"*\\)|)(?=[^-]|$)","i")},ic=/^(?:input|select|textarea|button)$/i,hc=/^h\d$/i,Ol=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Kc=/[+~]/,Xl=new RegExp("\\\\[\\da-fA-F]{1,6}"+Fn+"?|\\\\([^\\r\\n\\f])","g"),fc=function(di,Si){var Bi="0x"+di.slice(1)-65536;return Si||(Bi<0?String.fromCharCode(Bi+65536):String.fromCharCode(Bi>>10|55296,Bi&1023|56320))},Zc=function(){gc()},wc=Jc(function(di){return di.disabled===!0&&En(di,"fieldset")},{dir:"parentNode",next:"legend"});function Iu(){try{return ii.activeElement}catch{}}try{Qn.apply(Br=zr.call(ni.childNodes),ni.childNodes),Br[ni.childNodes.length].nodeType}catch{Qn={apply:function(Si,Bi){oi.apply(Si,zr.call(Bi))},call:function(Si){oi.apply(Si,zr.call(arguments,1))}}}function ls(di,Si,Bi,Hi){var Xi,Co,No,Ao,Bo,Ra,oa,ma=Si&&Si.ownerDocument,Va=Si?Si.nodeType:9;if(Bi=Bi||[],typeof di!="string"||!di||Va!==1&&Va!==9&&Va!==11)return Bi;if(!Hi&&(gc(Si),Si=Si||ii,yi)){if(Va!==11&&(Bo=Ol.exec(di)))if(Xi=Bo[1]){if(Va===9)if(No=Si.getElementById(Xi)){if(No.id===Xi)return Qn.call(Bi,No),Bi}else return Bi;else if(ma&&(No=ma.getElementById(Xi))&&ls.contains(Si,No)&&No.id===Xi)return Qn.call(Bi,No),Bi}else{if(Bo[2])return Qn.apply(Bi,Si.getElementsByTagName(di)),Bi;if((Xi=Bo[3])&&Si.getElementsByClassName)return Qn.apply(Bi,Si.getElementsByClassName(Xi)),Bi}if(!Ss[di+" "]&&(!Ii||!Ii.test(di))){if(oa=di,ma=Si,Va===1&&(qc.test(di)||nc.test(di))){for(ma=Kc.test(di)&&Xc(Si.parentNode)||Si,(ma!=Si||!an.scope)&&((Ao=Si.getAttribute("id"))?Ao=pn.escapeSelector(Ao):Si.setAttribute("id",Ao=io)),Ra=Rl(di),Co=Ra.length;Co--;)Ra[Co]=(Ao?"#"+Ao:":scope")+" "+Qc(Ra[Co]);oa=Ra.join(",")}try{return Qn.apply(Bi,ma.querySelectorAll(oa)),Bi}catch{Ss(di,!0)}finally{Ao===io&&Si.removeAttribute("id")}}}return vu(di.replace(Wn,"$1"),Si,Bi,Hi)}function pu(){var di=[];function Si(Bi,Hi){return di.push(Bi+" ")>Tn.cacheLength&&delete Si[di.shift()],Si[Bi+" "]=Hi}return Si}function qs(di){return di[io]=!0,di}function sl(di){var Si=ii.createElement("fieldset");try{return!!di(Si)}catch{return!1}finally{Si.parentNode&&Si.parentNode.removeChild(Si),Si=null}}function Ec(di){return function(Si){return En(Si,"input")&&Si.type===di}}function Ju(di){return function(Si){return(En(Si,"input")||En(Si,"button"))&&Si.type===di}}function ed(di){return function(Si){return"form"in Si?Si.parentNode&&Si.disabled===!1?"label"in Si?"label"in Si.parentNode?Si.parentNode.disabled===di:Si.disabled===di:Si.isDisabled===di||Si.isDisabled!==!di&&wc(Si)===di:Si.disabled===di:"label"in Si?Si.disabled===di:!1}}function pc(di){return qs(function(Si){return Si=+Si,qs(function(Bi,Hi){for(var Xi,Co=di([],Bi.length,Si),No=Co.length;No--;)Bi[Xi=Co[No]]&&(Bi[Xi]=!(Hi[Xi]=Bi[Xi]))})})}function Xc(di){return di&&typeof di.getElementsByTagName<"u"&&di}function gc(di){var Si,Bi=di?di.ownerDocument||di:ni;return Bi==ii||Bi.nodeType!==9||!Bi.documentElement||(ii=Bi,ki=ii.documentElement,yi=!pn.isXMLDoc(ii),qi=ki.matches||ki.webkitMatchesSelector||ki.msMatchesSelector,ki.msMatchesSelector&&ni!=ii&&(Si=ii.defaultView)&&Si.top!==Si&&Si.addEventListener("unload",Zc),an.getById=sl(function(Hi){return ki.appendChild(Hi).id=pn.expando,!ii.getElementsByName||!ii.getElementsByName(pn.expando).length}),an.disconnectedMatch=sl(function(Hi){return qi.call(Hi,"*")}),an.scope=sl(function(){return ii.querySelectorAll(":scope")}),an.cssHas=sl(function(){try{return ii.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),an.getById?(Tn.filter.ID=function(Hi){var Xi=Hi.replace(Xl,fc);return function(Co){return Co.getAttribute("id")===Xi}},Tn.find.ID=function(Hi,Xi){if(typeof Xi.getElementById<"u"&&yi){var Co=Xi.getElementById(Hi);return Co?[Co]:[]}}):(Tn.filter.ID=function(Hi){var Xi=Hi.replace(Xl,fc);return function(Co){var No=typeof Co.getAttributeNode<"u"&&Co.getAttributeNode("id");return No&&No.value===Xi}},Tn.find.ID=function(Hi,Xi){if(typeof Xi.getElementById<"u"&&yi){var Co,No,Ao,Bo=Xi.getElementById(Hi);if(Bo){if(Co=Bo.getAttributeNode("id"),Co&&Co.value===Hi)return[Bo];for(Ao=Xi.getElementsByName(Hi),No=0;Bo=Ao[No++];)if(Co=Bo.getAttributeNode("id"),Co&&Co.value===Hi)return[Bo]}return[]}}),Tn.find.TAG=function(Hi,Xi){return typeof Xi.getElementsByTagName<"u"?Xi.getElementsByTagName(Hi):Xi.querySelectorAll(Hi)},Tn.find.CLASS=function(Hi,Xi){if(typeof Xi.getElementsByClassName<"u"&&yi)return Xi.getElementsByClassName(Hi)},Ii=[],sl(function(Hi){var Xi;ki.appendChild(Hi).innerHTML="<a id='"+io+"' href='' disabled='disabled'></a><select id='"+io+"-\r\\' disabled='disabled'><option selected=''></option></select>",Hi.querySelectorAll("[selected]").length||Ii.push("\\["+Fn+"*(?:value|"+ql+")"),Hi.querySelectorAll("[id~="+io+"-]").length||Ii.push("~="),Hi.querySelectorAll("a#"+io+"+*").length||Ii.push(".#.+[+~]"),Hi.querySelectorAll(":checked").length||Ii.push(":checked"),Xi=ii.createElement("input"),Xi.setAttribute("type","hidden"),Hi.appendChild(Xi).setAttribute("name","D"),ki.appendChild(Hi).disabled=!0,Hi.querySelectorAll(":disabled").length!==2&&Ii.push(":enabled",":disabled"),Xi=ii.createElement("input"),Xi.setAttribute("name",""),Hi.appendChild(Xi),Hi.querySelectorAll("[name='']").length||Ii.push("\\["+Fn+"*name"+Fn+"*="+Fn+`*(?:''|"")`)}),an.cssHas||Ii.push(":has"),Ii=Ii.length&&new RegExp(Ii.join("|")),tl=function(Hi,Xi){if(Hi===Xi)return Xn=!0,0;var Co=!Hi.compareDocumentPosition-!Xi.compareDocumentPosition;return Co||(Co=(Hi.ownerDocument||Hi)==(Xi.ownerDocument||Xi)?Hi.compareDocumentPosition(Xi):1,Co&1||!an.sortDetached&&Xi.compareDocumentPosition(Hi)===Co?Hi===ii||Hi.ownerDocument==ni&&ls.contains(ni,Hi)?-1:Xi===ii||Xi.ownerDocument==ni&&ls.contains(ni,Xi)?1:zn?Gr.call(zn,Hi)-Gr.call(zn,Xi):0:Co&4?-1:1)}),ii}ls.matches=function(di,Si){return ls(di,null,null,Si)},ls.matchesSelector=function(di,Si){if(gc(di),yi&&!Ss[Si+" "]&&(!Ii||!Ii.test(Si)))try{var Bi=qi.call(di,Si);if(Bi||an.disconnectedMatch||di.document&&di.document.nodeType!==11)return Bi}catch{Ss(Si,!0)}return ls(Si,ii,null,[di]).length>0},ls.contains=function(di,Si){return(di.ownerDocument||di)!=ii&&gc(di),pn.contains(di,Si)},ls.attr=function(di,Si){(di.ownerDocument||di)!=ii&&gc(di);var Bi=Tn.attrHandle[Si.toLowerCase()],Hi=Bi&&Qr.call(Tn.attrHandle,Si.toLowerCase())?Bi(di,Si,!yi):void 0;return Hi!==void 0?Hi:di.getAttribute(Si)},ls.error=function(di){throw new Error("Syntax error, unrecognized expression: "+di)},pn.uniqueSort=function(di){var Si,Bi=[],Hi=0,Xi=0;if(Xn=!an.sortStable,zn=!an.sortStable&&zr.call(di,0),On.call(di,tl),Xn){for(;Si=di[Xi++];)Si===di[Xi]&&(Hi=Bi.push(Xi));for(;Hi--;)jn.call(di,Bi[Hi],1)}return zn=null,di},pn.fn.uniqueSort=function(){return this.pushStack(pn.uniqueSort(zr.apply(this)))},Tn=pn.expr={cacheLength:50,createPseudo:qs,match:Pl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(di){return di[1]=di[1].replace(Xl,fc),di[3]=(di[3]||di[4]||di[5]||"").replace(Xl,fc),di[2]==="~="&&(di[3]=" "+di[3]+" "),di.slice(0,4)},CHILD:function(di){return di[1]=di[1].toLowerCase(),di[1].slice(0,3)==="nth"?(di[3]||ls.error(di[0]),di[4]=+(di[4]?di[5]+(di[6]||1):2*(di[3]==="even"||di[3]==="odd")),di[5]=+(di[7]+di[8]||di[3]==="odd")):di[3]&&ls.error(di[0]),di},PSEUDO:function(di){var Si,Bi=!di[6]&&di[2];return Pl.CHILD.test(di[0])?null:(di[3]?di[2]=di[4]||di[5]||"":Bi&&Kl.test(Bi)&&(Si=Rl(Bi,!0))&&(Si=Bi.indexOf(")",Bi.length-Si)-Bi.length)&&(di[0]=di[0].slice(0,Si),di[2]=Bi.slice(0,Si)),di.slice(0,3))}},filter:{TAG:function(di){var Si=di.replace(Xl,fc).toLowerCase();return di==="*"?function(){return!0}:function(Bi){return En(Bi,Si)}},CLASS:function(di){var Si=pa[di+" "];return Si||(Si=new RegExp("(^|"+Fn+")"+di+"("+Fn+"|$)"))&&pa(di,function(Bi){return Si.test(typeof Bi.className=="string"&&Bi.className||typeof Bi.getAttribute<"u"&&Bi.getAttribute("class")||"")})},ATTR:function(di,Si,Bi){return function(Hi){var Xi=ls.attr(Hi,di);return Xi==null?Si==="!=":Si?(Xi+="",Si==="="?Xi===Bi:Si==="!="?Xi!==Bi:Si==="^="?Bi&&Xi.indexOf(Bi)===0:Si==="*="?Bi&&Xi.indexOf(Bi)>-1:Si==="$="?Bi&&Xi.slice(-Bi.length)===Bi:Si==="~="?(" "+Xi.replace(Qa," ")+" ").indexOf(Bi)>-1:Si==="|="?Xi===Bi||Xi.slice(0,Bi.length+1)===Bi+"-":!1):!0}},CHILD:function(di,Si,Bi,Hi,Xi){var Co=di.slice(0,3)!=="nth",No=di.slice(-4)!=="last",Ao=Si==="of-type";return Hi===1&&Xi===0?function(Bo){return!!Bo.parentNode}:function(Bo,Ra,oa){var ma,Va,ua,za,Hs,Vs=Co!==No?"nextSibling":"previousSibling",Ks=Bo.parentNode,Ql=Ao&&Bo.nodeName.toLowerCase(),$l=!oa&&!Ao,Xs=!1;if(Ks){if(Co){for(;Vs;){for(ua=Bo;ua=ua[Vs];)if(Ao?En(ua,Ql):ua.nodeType===1)return!1;Hs=Vs=di==="only"&&!Hs&&"nextSibling"}return!0}if(Hs=[No?Ks.firstChild:Ks.lastChild],No&&$l){for(Va=Ks[io]||(Ks[io]={}),ma=Va[di]||[],za=ma[0]===zi&&ma[1],Xs=za&&ma[2],ua=za&&Ks.childNodes[za];ua=++za&&ua&&ua[Vs]||(Xs=za=0)||Hs.pop();)if(ua.nodeType===1&&++Xs&&ua===Bo){Va[di]=[zi,za,Xs];break}}else if($l&&(Va=Bo[io]||(Bo[io]={}),ma=Va[di]||[],za=ma[0]===zi&&ma[1],Xs=za),Xs===!1)for(;(ua=++za&&ua&&ua[Vs]||(Xs=za=0)||Hs.pop())&&!((Ao?En(ua,Ql):ua.nodeType===1)&&++Xs&&($l&&(Va=ua[io]||(ua[io]={}),Va[di]=[zi,Xs]),ua===Bo)););return Xs-=Xi,Xs===Hi||Xs%Hi===0&&Xs/Hi>=0}}},PSEUDO:function(di,Si){var Bi,Hi=Tn.pseudos[di]||Tn.setFilters[di.toLowerCase()]||ls.error("unsupported pseudo: "+di);return Hi[io]?Hi(Si):Hi.length>1?(Bi=[di,di,"",Si],Tn.setFilters.hasOwnProperty(di.toLowerCase())?qs(function(Xi,Co){for(var No,Ao=Hi(Xi,Si),Bo=Ao.length;Bo--;)No=Gr.call(Xi,Ao[Bo]),Xi[No]=!(Co[No]=Ao[Bo])}):function(Xi){return Hi(Xi,0,Bi)}):Hi}},pseudos:{not:qs(function(di){var Si=[],Bi=[],Hi=mu(di.replace(Wn,"$1"));return Hi[io]?qs(function(Xi,Co,No,Ao){for(var Bo,Ra=Hi(Xi,null,Ao,[]),oa=Xi.length;oa--;)(Bo=Ra[oa])&&(Xi[oa]=!(Co[oa]=Bo))}):function(Xi,Co,No){return Si[0]=Xi,Hi(Si,null,No,Bi),Si[0]=null,!Bi.pop()}}),has:qs(function(di){return function(Si){return ls(di,Si).length>0}}),contains:qs(function(di){return di=di.replace(Xl,fc),function(Si){return(Si.textContent||pn.text(Si)).indexOf(di)>-1}}),lang:qs(function(di){return Zl.test(di||"")||ls.error("unsupported lang: "+di),di=di.replace(Xl,fc).toLowerCase(),function(Si){var Bi;do if(Bi=yi?Si.lang:Si.getAttribute("xml:lang")||Si.getAttribute("lang"))return Bi=Bi.toLowerCase(),Bi===di||Bi.indexOf(di+"-")===0;while((Si=Si.parentNode)&&Si.nodeType===1);return!1}}),target:function(di){var Si=_r.location&&_r.location.hash;return Si&&Si.slice(1)===di.id},root:function(di){return di===ki},focus:function(di){return di===Iu()&&ii.hasFocus()&&!!(di.type||di.href||~di.tabIndex)},enabled:ed(!1),disabled:ed(!0),checked:function(di){return En(di,"input")&&!!di.checked||En(di,"option")&&!!di.selected},selected:function(di){return di.parentNode&&di.parentNode.selectedIndex,di.selected===!0},empty:function(di){for(di=di.firstChild;di;di=di.nextSibling)if(di.nodeType<6)return!1;return!0},parent:function(di){return!Tn.pseudos.empty(di)},header:function(di){return hc.test(di.nodeName)},input:function(di){return ic.test(di.nodeName)},button:function(di){return En(di,"input")&&di.type==="button"||En(di,"button")},text:function(di){var Si;return En(di,"input")&&di.type==="text"&&((Si=di.getAttribute("type"))==null||Si.toLowerCase()==="text")},first:pc(function(){return[0]}),last:pc(function(di,Si){return[Si-1]}),eq:pc(function(di,Si,Bi){return[Bi<0?Bi+Si:Bi]}),even:pc(function(di,Si){for(var Bi=0;Bi<Si;Bi+=2)di.push(Bi);return di}),odd:pc(function(di,Si){for(var Bi=1;Bi<Si;Bi+=2)di.push(Bi);return di}),lt:pc(function(di,Si,Bi){var Hi;for(Bi<0?Hi=Bi+Si:Bi>Si?Hi=Si:Hi=Bi;--Hi>=0;)di.push(Hi);return di}),gt:pc(function(di,Si,Bi){for(var Hi=Bi<0?Bi+Si:Bi;++Hi<Si;)di.push(Hi);return di})}},Tn.pseudos.nth=Tn.pseudos.eq;for(An in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Tn.pseudos[An]=Ec(An);for(An in{submit:!0,reset:!0})Tn.pseudos[An]=Ju(An);function mc(){}mc.prototype=Tn.filters=Tn.pseudos,Tn.setFilters=new mc;function Rl(di,Si){var Bi,Hi,Xi,Co,No,Ao,Bo,Ra=Ga[di+" "];if(Ra)return Si?0:Ra.slice(0);for(No=di,Ao=[],Bo=Tn.preFilter;No;){(!Bi||(Hi=Ps.exec(No)))&&(Hi&&(No=No.slice(Hi[0].length)||No),Ao.push(Xi=[])),Bi=!1,(Hi=nc.exec(No))&&(Bi=Hi.shift(),Xi.push({value:Bi,type:Hi[0].replace(Wn," ")}),No=No.slice(Bi.length));for(Co in Tn.filter)(Hi=Pl[Co].exec(No))&&(!Bo[Co]||(Hi=Bo[Co](Hi)))&&(Bi=Hi.shift(),Xi.push({value:Bi,type:Co,matches:Hi}),No=No.slice(Bi.length));if(!Bi)break}return Si?No.length:No?ls.error(di):Ga(di,Ao).slice(0)}function Qc(di){for(var Si=0,Bi=di.length,Hi="";Si<Bi;Si++)Hi+=di[Si].value;return Hi}function Jc(di,Si,Bi){var Hi=Si.dir,Xi=Si.next,Co=Xi||Hi,No=Bi&&Co==="parentNode",Ao=fo++;return Si.first?function(Bo,Ra,oa){for(;Bo=Bo[Hi];)if(Bo.nodeType===1||No)return di(Bo,Ra,oa);return!1}:function(Bo,Ra,oa){var ma,Va,ua=[zi,Ao];if(oa){for(;Bo=Bo[Hi];)if((Bo.nodeType===1||No)&&di(Bo,Ra,oa))return!0}else for(;Bo=Bo[Hi];)if(Bo.nodeType===1||No)if(Va=Bo[io]||(Bo[io]={}),Xi&&En(Bo,Xi))Bo=Bo[Hi]||Bo;else{if((ma=Va[Co])&&ma[0]===zi&&ma[1]===Ao)return ua[2]=ma[2];if(Va[Co]=ua,ua[2]=di(Bo,Ra,oa))return!0}return!1}}function td(di){return di.length>1?function(Si,Bi,Hi){for(var Xi=di.length;Xi--;)if(!di[Xi](Si,Bi,Hi))return!1;return!0}:di[0]}function rd(di,Si,Bi){for(var Hi=0,Xi=Si.length;Hi<Xi;Hi++)ls(di,Si[Hi],Bi);return Bi}function Lu(di,Si,Bi,Hi,Xi){for(var Co,No=[],Ao=0,Bo=di.length,Ra=Si!=null;Ao<Bo;Ao++)(Co=di[Ao])&&(!Bi||Bi(Co,Hi,Xi))&&(No.push(Co),Ra&&Si.push(Ao));return No}function gu(di,Si,Bi,Hi,Xi,Co){return Hi&&!Hi[io]&&(Hi=gu(Hi)),Xi&&!Xi[io]&&(Xi=gu(Xi,Co)),qs(function(No,Ao,Bo,Ra){var oa,ma,Va,ua,za=[],Hs=[],Vs=Ao.length,Ks=No||rd(Si||"*",Bo.nodeType?[Bo]:Bo,[]),Ql=di&&(No||!Si)?Lu(Ks,za,di,Bo,Ra):Ks;if(Bi?(ua=Xi||(No?di:Vs||Hi)?[]:Ao,Bi(Ql,ua,Bo,Ra)):ua=Ql,Hi)for(oa=Lu(ua,Hs),Hi(oa,[],Bo,Ra),ma=oa.length;ma--;)(Va=oa[ma])&&(ua[Hs[ma]]=!(Ql[Hs[ma]]=Va));if(No){if(Xi||di){if(Xi){for(oa=[],ma=ua.length;ma--;)(Va=ua[ma])&&oa.push(Ql[ma]=Va);Xi(null,ua=[],oa,Ra)}for(ma=ua.length;ma--;)(Va=ua[ma])&&(oa=Xi?Gr.call(No,Va):za[ma])>-1&&(No[oa]=!(Ao[oa]=Va))}}else ua=Lu(ua===Ao?ua.splice(Vs,ua.length):ua),Xi?Xi(null,Ao,ua,Ra):Qn.apply(Ao,ua)})}function Pu(di){for(var Si,Bi,Hi,Xi=di.length,Co=Tn.relative[di[0].type],No=Co||Tn.relative[" "],Ao=Co?1:0,Bo=Jc(function(ma){return ma===Si},No,!0),Ra=Jc(function(ma){return Gr.call(Si,ma)>-1},No,!0),oa=[function(ma,Va,ua){var za=!Co&&(ua||Va!=$n)||((Si=Va).nodeType?Bo(ma,Va,ua):Ra(ma,Va,ua));return Si=null,za}];Ao<Xi;Ao++)if(Bi=Tn.relative[di[Ao].type])oa=[Jc(td(oa),Bi)];else{if(Bi=Tn.filter[di[Ao].type].apply(null,di[Ao].matches),Bi[io]){for(Hi=++Ao;Hi<Xi&&!Tn.relative[di[Hi].type];Hi++);return gu(Ao>1&&td(oa),Ao>1&&Qc(di.slice(0,Ao-1).concat({value:di[Ao-2].type===" "?"*":""})).replace(Wn,"$1"),Bi,Ao<Hi&&Pu(di.slice(Ao,Hi)),Hi<Xi&&Pu(di=di.slice(Hi)),Hi<Xi&&Qc(di))}oa.push(Bi)}return td(oa)}function eu(di,Si){var Bi=Si.length>0,Hi=di.length>0,Xi=function(Co,No,Ao,Bo,Ra){var oa,ma,Va,ua=0,za="0",Hs=Co&&[],Vs=[],Ks=$n,Ql=Co||Hi&&Tn.find.TAG("*",Ra),$l=zi+=Ks==null?1:Math.random()||.1,Xs=Ql.length;for(Ra&&($n=No==ii||No||Ra);za!==Xs&&(oa=Ql[za])!=null;za++){if(Hi&&oa){for(ma=0,!No&&oa.ownerDocument!=ii&&(gc(oa),Ao=!yi);Va=di[ma++];)if(Va(oa,No||ii,Ao)){Qn.call(Bo,oa);break}Ra&&(zi=$l)}Bi&&((oa=!Va&&oa)&&ua--,Co&&Hs.push(oa))}if(ua+=za,Bi&&za!==ua){for(ma=0;Va=Si[ma++];)Va(Hs,Vs,No,Ao);if(Co){if(ua>0)for(;za--;)Hs[za]||Vs[za]||(Vs[za]=Pn.call(Bo));Vs=Lu(Vs)}Qn.apply(Bo,Vs),Ra&&!Co&&Vs.length>0&&ua+Si.length>1&&pn.uniqueSort(Bo)}return Ra&&(zi=$l,$n=Ks),Hs};return Bi?qs(Xi):Xi}function mu(di,Si){var Bi,Hi=[],Xi=[],Co=ba[di+" "];if(!Co){for(Si||(Si=Rl(di)),Bi=Si.length;Bi--;)Co=Pu(Si[Bi]),Co[io]?Hi.push(Co):Xi.push(Co);Co=ba(di,eu(Xi,Hi)),Co.selector=di}return Co}function vu(di,Si,Bi,Hi){var Xi,Co,No,Ao,Bo,Ra=typeof di=="function"&&di,oa=!Hi&&Rl(di=Ra.selector||di);if(Bi=Bi||[],oa.length===1){if(Co=oa[0]=oa[0].slice(0),Co.length>2&&(No=Co[0]).type==="ID"&&Si.nodeType===9&&yi&&Tn.relative[Co[1].type]){if(Si=(Tn.find.ID(No.matches[0].replace(Xl,fc),Si)||[])[0],Si)Ra&&(Si=Si.parentNode);else return Bi;di=di.slice(Co.shift().value.length)}for(Xi=Pl.needsContext.test(di)?0:Co.length;Xi--&&(No=Co[Xi],!Tn.relative[Ao=No.type]);)if((Bo=Tn.find[Ao])&&(Hi=Bo(No.matches[0].replace(Xl,fc),Kc.test(Co[0].type)&&Xc(Si.parentNode)||Si))){if(Co.splice(Xi,1),di=Hi.length&&Qc(Co),!di)return Qn.apply(Bi,Hi),Bi;break}}return(Ra||mu(di,oa))(Hi,Si,!yi,Bi,!Si||Kc.test(di)&&Xc(Si.parentNode)||Si),Bi}an.sortStable=io.split("").sort(tl).join("")===io,gc(),an.sortDetached=sl(function(di){return di.compareDocumentPosition(ii.createElement("fieldset"))&1}),pn.find=ls,pn.expr[":"]=pn.expr.pseudos,pn.unique=pn.uniqueSort,ls.compile=mu,ls.select=vu,ls.setDocument=gc,ls.tokenize=Rl,ls.escape=pn.escapeSelector,ls.getText=pn.text,ls.isXML=pn.isXMLDoc,ls.selectors=pn.expr,ls.support=pn.support,ls.uniqueSort=pn.uniqueSort})();var wi=function(An,Tn,$n){for(var zn=[],Xn=$n!==void 0;(An=An[Tn])&&An.nodeType!==9;)if(An.nodeType===1){if(Xn&&pn(An).is($n))break;zn.push(An)}return zn},Ci=function(An,Tn){for(var $n=[];An;An=An.nextSibling)An.nodeType===1&&An!==Tn&&$n.push(An);return $n},Fi=pn.expr.match.needsContext,Zn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Gn(An,Tn,$n){return ln(Tn)?pn.grep(An,function(zn,Xn){return!!Tn.call(zn,Xn,zn)!==$n}):Tn.nodeType?pn.grep(An,function(zn){return zn===Tn!==$n}):typeof Tn!="string"?pn.grep(An,function(zn){return Gr.call(Tn,zn)>-1!==$n}):pn.filter(Tn,An,$n)}pn.filter=function(An,Tn,$n){var zn=Tn[0];return $n&&(An=":not("+An+")"),Tn.length===1&&zn.nodeType===1?pn.find.matchesSelector(zn,An)?[zn]:[]:pn.find.matches(An,pn.grep(Tn,function(Xn){return Xn.nodeType===1}))},pn.fn.extend({find:function(An){var Tn,$n,zn=this.length,Xn=this;if(typeof An!="string")return this.pushStack(pn(An).filter(function(){for(Tn=0;Tn<zn;Tn++)if(pn.contains(Xn[Tn],this))return!0}));for($n=this.pushStack([]),Tn=0;Tn<zn;Tn++)pn.find(An,Xn[Tn],$n);return zn>1?pn.uniqueSort($n):$n},filter:function(An){return this.pushStack(Gn(this,An||[],!1))},not:function(An){return this.pushStack(Gn(this,An||[],!0))},is:function(An){return!!Gn(this,typeof An=="string"&&Fi.test(An)?pn(An):An||[],!1).length}});var ui,Ni=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,$i=pn.fn.init=function(An,Tn,$n){var zn,Xn;if(!An)return this;if($n=$n||ui,typeof An=="string")if(An[0]==="<"&&An[An.length-1]===">"&&An.length>=3?zn=[null,An,null]:zn=Ni.exec(An),zn&&(zn[1]||!Tn))if(zn[1]){if(Tn=Tn instanceof pn?Tn[0]:Tn,pn.merge(this,pn.parseHTML(zn[1],Tn&&Tn.nodeType?Tn.ownerDocument||Tn:hn,!0)),Zn.test(zn[1])&&pn.isPlainObject(Tn))for(zn in Tn)ln(this[zn])?this[zn](Tn[zn]):this.attr(zn,Tn[zn]);return this}else return Xn=hn.getElementById(zn[2]),Xn&&(this[0]=Xn,this.length=1),this;else return!Tn||Tn.jquery?(Tn||$n).find(An):this.constructor(Tn).find(An);else{if(An.nodeType)return this[0]=An,this.length=1,this;if(ln(An))return $n.ready!==void 0?$n.ready(An):An(pn)}return pn.makeArray(An,this)};$i.prototype=pn.fn,ui=pn(hn);var Vi=/^(?:parents|prev(?:Until|All))/,ji={children:!0,contents:!0,next:!0,prev:!0};pn.fn.extend({has:function(An){var Tn=pn(An,this),$n=Tn.length;return this.filter(function(){for(var zn=0;zn<$n;zn++)if(pn.contains(this,Tn[zn]))return!0})},closest:function(An,Tn){var $n,zn=0,Xn=this.length,Qn=[],ii=typeof An!="string"&&pn(An);if(!Fi.test(An)){for(;zn<Xn;zn++)for($n=this[zn];$n&&$n!==Tn;$n=$n.parentNode)if($n.nodeType<11&&(ii?ii.index($n)>-1:$n.nodeType===1&&pn.find.matchesSelector($n,An))){Qn.push($n);break}}return this.pushStack(Qn.length>1?pn.uniqueSort(Qn):Qn)},index:function(An){return An?typeof An=="string"?Gr.call(pn(An),this[0]):Gr.call(this,An.jquery?An[0]:An):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(An,Tn){return this.pushStack(pn.uniqueSort(pn.merge(this.get(),pn(An,Tn))))},addBack:function(An){return this.add(An==null?this.prevObject:this.prevObject.filter(An))}});function lo(An,Tn){for(;(An=An[Tn])&&An.nodeType!==1;);return An}pn.each({parent:function(An){var Tn=An.parentNode;return Tn&&Tn.nodeType!==11?Tn:null},parents:function(An){return wi(An,"parentNode")},parentsUntil:function(An,Tn,$n){return wi(An,"parentNode",$n)},next:function(An){return lo(An,"nextSibling")},prev:function(An){return lo(An,"previousSibling")},nextAll:function(An){return wi(An,"nextSibling")},prevAll:function(An){return wi(An,"previousSibling")},nextUntil:function(An,Tn,$n){return wi(An,"nextSibling",$n)},prevUntil:function(An,Tn,$n){return wi(An,"previousSibling",$n)},siblings:function(An){return Ci((An.parentNode||{}).firstChild,An)},children:function(An){return Ci(An.firstChild)},contents:function(An){return An.contentDocument!=null&&Fr(An.contentDocument)?An.contentDocument:(En(An,"template")&&(An=An.content||An),pn.merge([],An.childNodes))}},function(An,Tn){pn.fn[An]=function($n,zn){var Xn=pn.map(this,Tn,$n);return An.slice(-5)!=="Until"&&(zn=$n),zn&&typeof zn=="string"&&(Xn=pn.filter(zn,Xn)),this.length>1&&(ji[An]||pn.uniqueSort(Xn),Vi.test(An)&&Xn.reverse()),this.pushStack(Xn)}});var ho=/[^\x20\t\r\n\f]+/g;function so(An){var Tn={};return pn.each(An.match(ho)||[],function($n,zn){Tn[zn]=!0}),Tn}pn.Callbacks=function(An){An=typeof An=="string"?so(An):pn.extend({},An);var Tn,$n,zn,Xn,Qn=[],ii=[],ki=-1,yi=function(){for(Xn=Xn||An.once,zn=Tn=!0;ii.length;ki=-1)for($n=ii.shift();++ki<Qn.length;)Qn[ki].apply($n[0],$n[1])===!1&&An.stopOnFalse&&(ki=Qn.length,$n=!1);An.memory||($n=!1),Tn=!1,Xn&&($n?Qn=[]:Qn="")},Ii={add:function(){return Qn&&($n&&!Tn&&(ki=Qn.length-1,ii.push($n)),function qi(io){pn.each(io,function(zi,fo){ln(fo)?(!An.unique||!Ii.has(fo))&&Qn.push(fo):fo&&fo.length&&kn(fo)!=="string"&&qi(fo)})}(arguments),$n&&!Tn&&yi()),this},remove:function(){return pn.each(arguments,function(qi,io){for(var zi;(zi=pn.inArray(io,Qn,zi))>-1;)Qn.splice(zi,1),zi<=ki&&ki--}),this},has:function(qi){return qi?pn.inArray(qi,Qn)>-1:Qn.length>0},empty:function(){return Qn&&(Qn=[]),this},disable:function(){return Xn=ii=[],Qn=$n="",this},disabled:function(){return!Qn},lock:function(){return Xn=ii=[],!$n&&!Tn&&(Qn=$n=""),this},locked:function(){return!!Xn},fireWith:function(qi,io){return Xn||(io=io||[],io=[qi,io.slice?io.slice():io],ii.push(io),Tn||yi()),this},fire:function(){return Ii.fireWith(this,arguments),this},fired:function(){return!!zn}};return Ii};function Ki(An){return An}function Ho(An){throw An}function Io(An,Tn,$n,zn){var Xn;try{An&&ln(Xn=An.promise)?Xn.call(An).done(Tn).fail($n):An&&ln(Xn=An.then)?Xn.call(An,Tn,$n):Tn.apply(void 0,[An].slice(zn))}catch(Qn){$n.apply(void 0,[Qn])}}pn.extend({Deferred:function(An){var Tn=[["notify","progress",pn.Callbacks("memory"),pn.Callbacks("memory"),2],["resolve","done",pn.Callbacks("once memory"),pn.Callbacks("once memory"),0,"resolved"],["reject","fail",pn.Callbacks("once memory"),pn.Callbacks("once memory"),1,"rejected"]],$n="pending",zn={state:function(){return $n},always:function(){return Xn.done(arguments).fail(arguments),this},catch:function(Qn){return zn.then(null,Qn)},pipe:function(){var Qn=arguments;return pn.Deferred(function(ii){pn.each(Tn,function(ki,yi){var Ii=ln(Qn[yi[4]])&&Qn[yi[4]];Xn[yi[1]](function(){var qi=Ii&&Ii.apply(this,arguments);qi&&ln(qi.promise)?qi.promise().progress(ii.notify).done(ii.resolve).fail(ii.reject):ii[yi[0]+"With"](this,Ii?[qi]:arguments)})}),Qn=null}).promise()},then:function(Qn,ii,ki){var yi=0;function Ii(qi,io,zi,fo){return function(){var pa=this,Ga=arguments,ba=function(){var tl,ql;if(!(qi<yi)){if(tl=zi.apply(pa,Ga),tl===io.promise())throw new TypeError("Thenable self-resolution");ql=tl&&(typeof tl=="object"||typeof tl=="function")&&tl.then,ln(ql)?fo?ql.call(tl,Ii(yi,io,Ki,fo),Ii(yi,io,Ho,fo)):(yi++,ql.call(tl,Ii(yi,io,Ki,fo),Ii(yi,io,Ho,fo),Ii(yi,io,Ki,io.notifyWith))):(zi!==Ki&&(pa=void 0,Ga=[tl]),(fo||io.resolveWith)(pa,Ga))}},Ss=fo?ba:function(){try{ba()}catch(tl){pn.Deferred.exceptionHook&&pn.Deferred.exceptionHook(tl,Ss.error),qi+1>=yi&&(zi!==Ho&&(pa=void 0,Ga=[tl]),io.rejectWith(pa,Ga))}};qi?Ss():(pn.Deferred.getErrorHook?Ss.error=pn.Deferred.getErrorHook():pn.Deferred.getStackHook&&(Ss.error=pn.Deferred.getStackHook()),_r.setTimeout(Ss))}}return pn.Deferred(function(qi){Tn[0][3].add(Ii(0,qi,ln(ki)?ki:Ki,qi.notifyWith)),Tn[1][3].add(Ii(0,qi,ln(Qn)?Qn:Ki)),Tn[2][3].add(Ii(0,qi,ln(ii)?ii:Ho))}).promise()},promise:function(Qn){return Qn!=null?pn.extend(Qn,zn):zn}},Xn={};return pn.each(Tn,function(Qn,ii){var ki=ii[2],yi=ii[5];zn[ii[1]]=ki.add,yi&&ki.add(function(){$n=yi},Tn[3-Qn][2].disable,Tn[3-Qn][3].disable,Tn[0][2].lock,Tn[0][3].lock),ki.add(ii[3].fire),Xn[ii[0]]=function(){return Xn[ii[0]+"With"](this===Xn?void 0:this,arguments),this},Xn[ii[0]+"With"]=ki.fireWith}),zn.promise(Xn),An&&An.call(Xn,Xn),Xn},when:function(An){var Tn=arguments.length,$n=Tn,zn=Array($n),Xn=zr.call(arguments),Qn=pn.Deferred(),ii=function(ki){return function(yi){zn[ki]=this,Xn[ki]=arguments.length>1?zr.call(arguments):yi,--Tn||Qn.resolveWith(zn,Xn)}};if(Tn<=1&&(Io(An,Qn.done(ii($n)).resolve,Qn.reject,!Tn),Qn.state()==="pending"||ln(Xn[$n]&&Xn[$n].then)))return Qn.then();for(;$n--;)Io(Xn[$n],ii($n),Qn.reject);return Qn.promise()}});var Ji=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pn.Deferred.exceptionHook=function(An,Tn){_r.console&&_r.console.warn&&An&&Ji.test(An.name)&&_r.console.warn("jQuery.Deferred exception: "+An.message,An.stack,Tn)},pn.readyException=function(An){_r.setTimeout(function(){throw An})};var Yo=pn.Deferred();pn.fn.ready=function(An){return Yo.then(An).catch(function(Tn){pn.readyException(Tn)}),this},pn.extend({isReady:!1,readyWait:1,ready:function(An){(An===!0?--pn.readyWait:pn.isReady)||(pn.isReady=!0,!(An!==!0&&--pn.readyWait>0)&&Yo.resolveWith(hn,[pn]))}}),pn.ready.then=Yo.then;function qo(){hn.removeEventListener("DOMContentLoaded",qo),_r.removeEventListener("load",qo),pn.ready()}hn.readyState==="complete"||hn.readyState!=="loading"&&!hn.documentElement.doScroll?_r.setTimeout(pn.ready):(hn.addEventListener("DOMContentLoaded",qo),_r.addEventListener("load",qo));var xo=function(An,Tn,$n,zn,Xn,Qn,ii){var ki=0,yi=An.length,Ii=$n==null;if(kn($n)==="object"){Xn=!0;for(ki in $n)xo(An,Tn,ki,$n[ki],!0,Qn,ii)}else if(zn!==void 0&&(Xn=!0,ln(zn)||(ii=!0),Ii&&(ii?(Tn.call(An,zn),Tn=null):(Ii=Tn,Tn=function(qi,io,zi){return Ii.call(pn(qi),zi)})),Tn))for(;ki<yi;ki++)Tn(An[ki],$n,ii?zn:zn.call(An[ki],ki,Tn(An[ki],$n)));return Xn?An:Ii?Tn.call(An):yi?Tn(An[0],$n):Qn},ka=/^-ms-/,Ua=/-([a-z])/g;function $a(An,Tn){return Tn.toUpperCase()}function Ya(An){return An.replace(ka,"ms-").replace(Ua,$a)}var Aa=function(An){return An.nodeType===1||An.nodeType===9||!+An.nodeType};function Ei(){this.expando=pn.expando+Ei.uid++}Ei.uid=1,Ei.prototype={cache:function(An){var Tn=An[this.expando];return Tn||(Tn={},Aa(An)&&(An.nodeType?An[this.expando]=Tn:Object.defineProperty(An,this.expando,{value:Tn,configurable:!0}))),Tn},set:function(An,Tn,$n){var zn,Xn=this.cache(An);if(typeof Tn=="string")Xn[Ya(Tn)]=$n;else for(zn in Tn)Xn[Ya(zn)]=Tn[zn];return Xn},get:function(An,Tn){return Tn===void 0?this.cache(An):An[this.expando]&&An[this.expando][Ya(Tn)]},access:function(An,Tn,$n){return Tn===void 0||Tn&&typeof Tn=="string"&&$n===void 0?this.get(An,Tn):(this.set(An,Tn,$n),$n!==void 0?$n:Tn)},remove:function(An,Tn){var $n,zn=An[this.expando];if(zn!==void 0){if(Tn!==void 0)for(Array.isArray(Tn)?Tn=Tn.map(Ya):(Tn=Ya(Tn),Tn=Tn in zn?[Tn]:Tn.match(ho)||[]),$n=Tn.length;$n--;)delete zn[Tn[$n]];(Tn===void 0||pn.isEmptyObject(zn))&&(An.nodeType?An[this.expando]=void 0:delete An[this.expando])}},hasData:function(An){var Tn=An[this.expando];return Tn!==void 0&&!pn.isEmptyObject(Tn)}};var hi=new Ei,Ai=new Ei,ri=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ai=/[A-Z]/g;function _i(An){return An==="true"?!0:An==="false"?!1:An==="null"?null:An===+An+""?+An:ri.test(An)?JSON.parse(An):An}function pi(An,Tn,$n){var zn;if($n===void 0&&An.nodeType===1)if(zn="data-"+Tn.replace(ai,"-$&").toLowerCase(),$n=An.getAttribute(zn),typeof $n=="string"){try{$n=_i($n)}catch{}Ai.set(An,Tn,$n)}else $n=void 0;return $n}pn.extend({hasData:function(An){return Ai.hasData(An)||hi.hasData(An)},data:function(An,Tn,$n){return Ai.access(An,Tn,$n)},removeData:function(An,Tn){Ai.remove(An,Tn)},_data:function(An,Tn,$n){return hi.access(An,Tn,$n)},_removeData:function(An,Tn){hi.remove(An,Tn)}}),pn.fn.extend({data:function(An,Tn){var $n,zn,Xn,Qn=this[0],ii=Qn&&Qn.attributes;if(An===void 0){if(this.length&&(Xn=Ai.get(Qn),Qn.nodeType===1&&!hi.get(Qn,"hasDataAttrs"))){for($n=ii.length;$n--;)ii[$n]&&(zn=ii[$n].name,zn.indexOf("data-")===0&&(zn=Ya(zn.slice(5)),pi(Qn,zn,Xn[zn])));hi.set(Qn,"hasDataAttrs",!0)}return Xn}return typeof An=="object"?this.each(function(){Ai.set(this,An)}):xo(this,function(ki){var yi;if(Qn&&ki===void 0)return yi=Ai.get(Qn,An),yi!==void 0||(yi=pi(Qn,An),yi!==void 0)?yi:void 0;this.each(function(){Ai.set(this,An,ki)})},null,Tn,arguments.length>1,null,!0)},removeData:function(An){return this.each(function(){Ai.remove(this,An)})}}),pn.extend({queue:function(An,Tn,$n){var zn;if(An)return Tn=(Tn||"fx")+"queue",zn=hi.get(An,Tn),$n&&(!zn||Array.isArray($n)?zn=hi.access(An,Tn,pn.makeArray($n)):zn.push($n)),zn||[]},dequeue:function(An,Tn){Tn=Tn||"fx";var $n=pn.queue(An,Tn),zn=$n.length,Xn=$n.shift(),Qn=pn._queueHooks(An,Tn),ii=function(){pn.dequeue(An,Tn)};Xn==="inprogress"&&(Xn=$n.shift(),zn--),Xn&&(Tn==="fx"&&$n.unshift("inprogress"),delete Qn.stop,Xn.call(An,ii,Qn)),!zn&&Qn&&Qn.empty.fire()},_queueHooks:function(An,Tn){var $n=Tn+"queueHooks";return hi.get(An,$n)||hi.access(An,$n,{empty:pn.Callbacks("once memory").add(function(){hi.remove(An,[Tn+"queue",$n])})})}}),pn.fn.extend({queue:function(An,Tn){var $n=2;return typeof An!="string"&&(Tn=An,An="fx",$n--),arguments.length<$n?pn.queue(this[0],An):Tn===void 0?this:this.each(function(){var zn=pn.queue(this,An,Tn);pn._queueHooks(this,An),An==="fx"&&zn[0]!=="inprogress"&&pn.dequeue(this,An)})},dequeue:function(An){return this.each(function(){pn.dequeue(this,An)})},clearQueue:function(An){return this.queue(An||"fx",[])},promise:function(An,Tn){var $n,zn=1,Xn=pn.Deferred(),Qn=this,ii=this.length,ki=function(){--zn||Xn.resolveWith(Qn,[Qn])};for(typeof An!="string"&&(Tn=An,An=void 0),An=An||"fx";ii--;)$n=hi.get(Qn[ii],An+"queueHooks"),$n&&$n.empty&&(zn++,$n.empty.add(ki));return ki(),Xn.promise(Tn)}});var xi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,co=new RegExp("^(?:([+-])=|)("+xi+")([a-z%]*)$","i"),go=["Top","Right","Bottom","Left"],uo=hn.documentElement,To=function(An){return pn.contains(An.ownerDocument,An)},Qo={composed:!0};uo.getRootNode&&(To=function(An){return pn.contains(An.ownerDocument,An)||An.getRootNode(Qo)===An.ownerDocument});var Ui=function(An,Tn){return An=Tn||An,An.style.display==="none"||An.style.display===""&&To(An)&&pn.css(An,"display")==="none"};function Lo(An,Tn,$n,zn){var Xn,Qn,ii=20,ki=zn?function(){return zn.cur()}:function(){return pn.css(An,Tn,"")},yi=ki(),Ii=$n&&$n[3]||(pn.cssNumber[Tn]?"":"px"),qi=An.nodeType&&(pn.cssNumber[Tn]||Ii!=="px"&&+yi)&&co.exec(pn.css(An,Tn));if(qi&&qi[3]!==Ii){for(yi=yi/2,Ii=Ii||qi[3],qi=+yi||1;ii--;)pn.style(An,Tn,qi+Ii),(1-Qn)*(1-(Qn=ki()/yi||.5))<=0&&(ii=0),qi=qi/Qn;qi=qi*2,pn.style(An,Tn,qi+Ii),$n=$n||[]}return $n&&(qi=+qi||+yi||0,Xn=$n[1]?qi+($n[1]+1)*$n[2]:+$n[2],zn&&(zn.unit=Ii,zn.start=qi,zn.end=Xn)),Xn}var oo={};function na(An){var Tn,$n=An.ownerDocument,zn=An.nodeName,Xn=oo[zn];return Xn||(Tn=$n.body.appendChild($n.createElement(zn)),Xn=pn.css(Tn,"display"),Tn.parentNode.removeChild(Tn),Xn==="none"&&(Xn="block"),oo[zn]=Xn,Xn)}function fa(An,Tn){for(var $n,zn,Xn=[],Qn=0,ii=An.length;Qn<ii;Qn++)zn=An[Qn],zn.style&&($n=zn.style.display,Tn?($n==="none"&&(Xn[Qn]=hi.get(zn,"display")||null,Xn[Qn]||(zn.style.display="")),zn.style.display===""&&Ui(zn)&&(Xn[Qn]=na(zn))):$n!=="none"&&(Xn[Qn]="none",hi.set(zn,"display",$n)));for(Qn=0;Qn<ii;Qn++)Xn[Qn]!=null&&(An[Qn].style.display=Xn[Qn]);return An}pn.fn.extend({show:function(){return fa(this,!0)},hide:function(){return fa(this)},toggle:function(An){return typeof An=="boolean"?An?this.show():this.hide():this.each(function(){Ui(this)?pn(this).show():pn(this).hide()})}});var Ms=/^(?:checkbox|radio)$/i,aa=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,os=/^$|^module$|\/(?:java|ecma)script/i;(function(){var An=hn.createDocumentFragment(),Tn=An.appendChild(hn.createElement("div")),$n=hn.createElement("input");$n.setAttribute("type","radio"),$n.setAttribute("checked","checked"),$n.setAttribute("name","t"),Tn.appendChild($n),an.checkClone=Tn.cloneNode(!0).cloneNode(!0).lastChild.checked,Tn.innerHTML="<textarea>x</textarea>",an.noCloneChecked=!!Tn.cloneNode(!0).lastChild.defaultValue,Tn.innerHTML="<option></option>",an.option=!!Tn.lastChild})();var Na={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Na.tbody=Na.tfoot=Na.colgroup=Na.caption=Na.thead,Na.th=Na.td,an.option||(Na.optgroup=Na.option=[1,"<select multiple='multiple'>","</select>"]);function As(An,Tn){var $n;return typeof An.getElementsByTagName<"u"?$n=An.getElementsByTagName(Tn||"*"):typeof An.querySelectorAll<"u"?$n=An.querySelectorAll(Tn||"*"):$n=[],Tn===void 0||Tn&&En(An,Tn)?pn.merge([An],$n):$n}function Zs(An,Tn){for(var $n=0,zn=An.length;$n<zn;$n++)hi.set(An[$n],"globalEval",!Tn||hi.get(Tn[$n],"globalEval"))}var gl=/<|&#?\w+;/;function us(An,Tn,$n,zn,Xn){for(var Qn,ii,ki,yi,Ii,qi,io=Tn.createDocumentFragment(),zi=[],fo=0,pa=An.length;fo<pa;fo++)if(Qn=An[fo],Qn||Qn===0)if(kn(Qn)==="object")pn.merge(zi,Qn.nodeType?[Qn]:Qn);else if(!gl.test(Qn))zi.push(Tn.createTextNode(Qn));else{for(ii=ii||io.appendChild(Tn.createElement("div")),ki=(aa.exec(Qn)||["",""])[1].toLowerCase(),yi=Na[ki]||Na._default,ii.innerHTML=yi[1]+pn.htmlPrefilter(Qn)+yi[2],qi=yi[0];qi--;)ii=ii.lastChild;pn.merge(zi,ii.childNodes),ii=io.firstChild,ii.textContent=""}for(io.textContent="",fo=0;Qn=zi[fo++];){if(zn&&pn.inArray(Qn,zn)>-1){Xn&&Xn.push(Qn);continue}if(Ii=To(Qn),ii=As(io.appendChild(Qn),"script"),Ii&&Zs(ii),$n)for(qi=0;Qn=ii[qi++];)os.test(Qn.type||"")&&$n.push(Qn)}return io}var jl=/^([^.]*)(?:\.(.+)|)/;function ml(){return!0}function hs(){return!1}function Ti(An,Tn,$n,zn,Xn,Qn){var ii,ki;if(typeof Tn=="object"){typeof $n!="string"&&(zn=zn||$n,$n=void 0);for(ki in Tn)Ti(An,ki,$n,zn,Tn[ki],Qn);return An}if(zn==null&&Xn==null?(Xn=$n,zn=$n=void 0):Xn==null&&(typeof $n=="string"?(Xn=zn,zn=void 0):(Xn=zn,zn=$n,$n=void 0)),Xn===!1)Xn=hs;else if(!Xn)return An;return Qn===1&&(ii=Xn,Xn=function(yi){return pn().off(yi),ii.apply(this,arguments)},Xn.guid=ii.guid||(ii.guid=pn.guid++)),An.each(function(){pn.event.add(this,Tn,Xn,zn,$n)})}pn.event={global:{},add:function(An,Tn,$n,zn,Xn){var Qn,ii,ki,yi,Ii,qi,io,zi,fo,pa,Ga,ba=hi.get(An);if(Aa(An))for($n.handler&&(Qn=$n,$n=Qn.handler,Xn=Qn.selector),Xn&&pn.find.matchesSelector(uo,Xn),$n.guid||($n.guid=pn.guid++),(yi=ba.events)||(yi=ba.events=Object.create(null)),(ii=ba.handle)||(ii=ba.handle=function(Ss){return typeof pn<"u"&&pn.event.triggered!==Ss.type?pn.event.dispatch.apply(An,arguments):void 0}),Tn=(Tn||"").match(ho)||[""],Ii=Tn.length;Ii--;)ki=jl.exec(Tn[Ii])||[],fo=Ga=ki[1],pa=(ki[2]||"").split(".").sort(),fo&&(io=pn.event.special[fo]||{},fo=(Xn?io.delegateType:io.bindType)||fo,io=pn.event.special[fo]||{},qi=pn.extend({type:fo,origType:Ga,data:zn,handler:$n,guid:$n.guid,selector:Xn,needsContext:Xn&&pn.expr.match.needsContext.test(Xn),namespace:pa.join(".")},Qn),(zi=yi[fo])||(zi=yi[fo]=[],zi.delegateCount=0,(!io.setup||io.setup.call(An,zn,pa,ii)===!1)&&An.addEventListener&&An.addEventListener(fo,ii)),io.add&&(io.add.call(An,qi),qi.handler.guid||(qi.handler.guid=$n.guid)),Xn?zi.splice(zi.delegateCount++,0,qi):zi.push(qi),pn.event.global[fo]=!0)},remove:function(An,Tn,$n,zn,Xn){var Qn,ii,ki,yi,Ii,qi,io,zi,fo,pa,Ga,ba=hi.hasData(An)&&hi.get(An);if(!(!ba||!(yi=ba.events))){for(Tn=(Tn||"").match(ho)||[""],Ii=Tn.length;Ii--;){if(ki=jl.exec(Tn[Ii])||[],fo=Ga=ki[1],pa=(ki[2]||"").split(".").sort(),!fo){for(fo in yi)pn.event.remove(An,fo+Tn[Ii],$n,zn,!0);continue}for(io=pn.event.special[fo]||{},fo=(zn?io.delegateType:io.bindType)||fo,zi=yi[fo]||[],ki=ki[2]&&new RegExp("(^|\\.)"+pa.join("\\.(?:.*\\.|)")+"(\\.|$)"),ii=Qn=zi.length;Qn--;)qi=zi[Qn],(Xn||Ga===qi.origType)&&(!$n||$n.guid===qi.guid)&&(!ki||ki.test(qi.namespace))&&(!zn||zn===qi.selector||zn==="**"&&qi.selector)&&(zi.splice(Qn,1),qi.selector&&zi.delegateCount--,io.remove&&io.remove.call(An,qi));ii&&!zi.length&&((!io.teardown||io.teardown.call(An,pa,ba.handle)===!1)&&pn.removeEvent(An,fo,ba.handle),delete yi[fo])}pn.isEmptyObject(yi)&&hi.remove(An,"handle events")}},dispatch:function(An){var Tn,$n,zn,Xn,Qn,ii,ki=new Array(arguments.length),yi=pn.event.fix(An),Ii=(hi.get(this,"events")||Object.create(null))[yi.type]||[],qi=pn.event.special[yi.type]||{};for(ki[0]=yi,Tn=1;Tn<arguments.length;Tn++)ki[Tn]=arguments[Tn];if(yi.delegateTarget=this,!(qi.preDispatch&&qi.preDispatch.call(this,yi)===!1)){for(ii=pn.event.handlers.call(this,yi,Ii),Tn=0;(Xn=ii[Tn++])&&!yi.isPropagationStopped();)for(yi.currentTarget=Xn.elem,$n=0;(Qn=Xn.handlers[$n++])&&!yi.isImmediatePropagationStopped();)(!yi.rnamespace||Qn.namespace===!1||yi.rnamespace.test(Qn.namespace))&&(yi.handleObj=Qn,yi.data=Qn.data,zn=((pn.event.special[Qn.origType]||{}).handle||Qn.handler).apply(Xn.elem,ki),zn!==void 0&&(yi.result=zn)===!1&&(yi.preventDefault(),yi.stopPropagation()));return qi.postDispatch&&qi.postDispatch.call(this,yi),yi.result}},handlers:function(An,Tn){var $n,zn,Xn,Qn,ii,ki=[],yi=Tn.delegateCount,Ii=An.target;if(yi&&Ii.nodeType&&!(An.type==="click"&&An.button>=1)){for(;Ii!==this;Ii=Ii.parentNode||this)if(Ii.nodeType===1&&!(An.type==="click"&&Ii.disabled===!0)){for(Qn=[],ii={},$n=0;$n<yi;$n++)zn=Tn[$n],Xn=zn.selector+" ",ii[Xn]===void 0&&(ii[Xn]=zn.needsContext?pn(Xn,this).index(Ii)>-1:pn.find(Xn,this,null,[Ii]).length),ii[Xn]&&Qn.push(zn);Qn.length&&ki.push({elem:Ii,handlers:Qn})}}return Ii=this,yi<Tn.length&&ki.push({elem:Ii,handlers:Tn.slice(yi)}),ki},addProp:function(An,Tn){Object.defineProperty(pn.Event.prototype,An,{enumerable:!0,configurable:!0,get:ln(Tn)?function(){if(this.originalEvent)return Tn(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[An]},set:function($n){Object.defineProperty(this,An,{enumerable:!0,configurable:!0,writable:!0,value:$n})}})},fix:function(An){return An[pn.expando]?An:new pn.Event(An)},special:{load:{noBubble:!0},click:{setup:function(An){var Tn=this||An;return Ms.test(Tn.type)&&Tn.click&&En(Tn,"input")&&Pi(Tn,"click",!0),!1},trigger:function(An){var Tn=this||An;return Ms.test(Tn.type)&&Tn.click&&En(Tn,"input")&&Pi(Tn,"click"),!0},_default:function(An){var Tn=An.target;return Ms.test(Tn.type)&&Tn.click&&En(Tn,"input")&&hi.get(Tn,"click")||En(Tn,"a")}},beforeunload:{postDispatch:function(An){An.result!==void 0&&An.originalEvent&&(An.originalEvent.returnValue=An.result)}}}};function Pi(An,Tn,$n){if(!$n){hi.get(An,Tn)===void 0&&pn.event.add(An,Tn,ml);return}hi.set(An,Tn,!1),pn.event.add(An,Tn,{namespace:!1,handler:function(zn){var Xn,Qn=hi.get(this,Tn);if(zn.isTrigger&1&&this[Tn]){if(Qn)(pn.event.special[Tn]||{}).delegateType&&zn.stopPropagation();else if(Qn=zr.call(arguments),hi.set(this,Tn,Qn),this[Tn](),Xn=hi.get(this,Tn),hi.set(this,Tn,!1),Qn!==Xn)return zn.stopImmediatePropagation(),zn.preventDefault(),Xn}else Qn&&(hi.set(this,Tn,pn.event.trigger(Qn[0],Qn.slice(1),this)),zn.stopPropagation(),zn.isImmediatePropagationStopped=ml)}})}pn.removeEvent=function(An,Tn,$n){An.removeEventListener&&An.removeEventListener(Tn,$n)},pn.Event=function(An,Tn){if(!(this instanceof pn.Event))return new pn.Event(An,Tn);An&&An.type?(this.originalEvent=An,this.type=An.type,this.isDefaultPrevented=An.defaultPrevented||An.defaultPrevented===void 0&&An.returnValue===!1?ml:hs,this.target=An.target&&An.target.nodeType===3?An.target.parentNode:An.target,this.currentTarget=An.currentTarget,this.relatedTarget=An.relatedTarget):this.type=An,Tn&&pn.extend(this,Tn),this.timeStamp=An&&An.timeStamp||Date.now(),this[pn.expando]=!0},pn.Event.prototype={constructor:pn.Event,isDefaultPrevented:hs,isPropagationStopped:hs,isImmediatePropagationStopped:hs,isSimulated:!1,preventDefault:function(){var An=this.originalEvent;this.isDefaultPrevented=ml,An&&!this.isSimulated&&An.preventDefault()},stopPropagation:function(){var An=this.originalEvent;this.isPropagationStopped=ml,An&&!this.isSimulated&&An.stopPropagation()},stopImmediatePropagation:function(){var An=this.originalEvent;this.isImmediatePropagationStopped=ml,An&&!this.isSimulated&&An.stopImmediatePropagation(),this.stopPropagation()}},pn.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},pn.event.addProp),pn.each({focus:"focusin",blur:"focusout"},function(An,Tn){function $n(zn){if(hn.documentMode){var Xn=hi.get(this,"handle"),Qn=pn.event.fix(zn);Qn.type=zn.type==="focusin"?"focus":"blur",Qn.isSimulated=!0,Xn(zn),Qn.target===Qn.currentTarget&&Xn(Qn)}else pn.event.simulate(Tn,zn.target,pn.event.fix(zn))}pn.event.special[An]={setup:function(){var zn;if(Pi(this,An,!0),hn.documentMode)zn=hi.get(this,Tn),zn||this.addEventListener(Tn,$n),hi.set(this,Tn,(zn||0)+1);else return!1},trigger:function(){return Pi(this,An),!0},teardown:function(){var zn;if(hn.documentMode)zn=hi.get(this,Tn)-1,zn?hi.set(this,Tn,zn):(this.removeEventListener(Tn,$n),hi.remove(this,Tn));else return!1},_default:function(zn){return hi.get(zn.target,An)},delegateType:Tn},pn.event.special[Tn]={setup:function(){var zn=this.ownerDocument||this.document||this,Xn=hn.documentMode?this:zn,Qn=hi.get(Xn,Tn);Qn||(hn.documentMode?this.addEventListener(Tn,$n):zn.addEventListener(An,$n,!0)),hi.set(Xn,Tn,(Qn||0)+1)},teardown:function(){var zn=this.ownerDocument||this.document||this,Xn=hn.documentMode?this:zn,Qn=hi.get(Xn,Tn)-1;Qn?hi.set(Xn,Tn,Qn):(hn.documentMode?this.removeEventListener(Tn,$n):zn.removeEventListener(An,$n,!0),hi.remove(Xn,Tn))}}}),pn.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(An,Tn){pn.event.special[An]={delegateType:Tn,bindType:Tn,handle:function($n){var zn,Xn=this,Qn=$n.relatedTarget,ii=$n.handleObj;return(!Qn||Qn!==Xn&&!pn.contains(Xn,Qn))&&($n.type=ii.origType,zn=ii.handler.apply(this,arguments),$n.type=Tn),zn}}}),pn.fn.extend({on:function(An,Tn,$n,zn){return Ti(this,An,Tn,$n,zn)},one:function(An,Tn,$n,zn){return Ti(this,An,Tn,$n,zn,1)},off:function(An,Tn,$n){var zn,Xn;if(An&&An.preventDefault&&An.handleObj)return zn=An.handleObj,pn(An.delegateTarget).off(zn.namespace?zn.origType+"."+zn.namespace:zn.origType,zn.selector,zn.handler),this;if(typeof An=="object"){for(Xn in An)this.off(Xn,Tn,An[Xn]);return this}return(Tn===!1||typeof Tn=="function")&&($n=Tn,Tn=void 0),$n===!1&&($n=hs),this.each(function(){pn.event.remove(this,An,$n,Tn)})}});var Zi=/<script|<style|<link/i,bo=/checked\s*(?:[^=]|=\s*.checked.)/i,Uo=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Do(An,Tn){return En(An,"table")&&En(Tn.nodeType!==11?Tn:Tn.firstChild,"tr")&&pn(An).children("tbody")[0]||An}function ko(An){return An.type=(An.getAttribute("type")!==null)+"/"+An.type,An}function La(An){return(An.type||"").slice(0,5)==="true/"?An.type=An.type.slice(5):An.removeAttribute("type"),An}function sa(An,Tn){var $n,zn,Xn,Qn,ii,ki,yi;if(Tn.nodeType===1){if(hi.hasData(An)&&(Qn=hi.get(An),yi=Qn.events,yi)){hi.remove(Tn,"handle events");for(Xn in yi)for($n=0,zn=yi[Xn].length;$n<zn;$n++)pn.event.add(Tn,Xn,yi[Xn][$n])}Ai.hasData(An)&&(ii=Ai.access(An),ki=pn.extend({},ii),Ai.set(Tn,ki))}}function Ro(An,Tn){var $n=Tn.nodeName.toLowerCase();$n==="input"&&Ms.test(An.type)?Tn.checked=An.checked:($n==="input"||$n==="textarea")&&(Tn.defaultValue=An.defaultValue)}function ya(An,Tn,$n,zn){Tn=jr(Tn);var Xn,Qn,ii,ki,yi,Ii,qi=0,io=An.length,zi=io-1,fo=Tn[0],pa=ln(fo);if(pa||io>1&&typeof fo=="string"&&!an.checkClone&&bo.test(fo))return An.each(function(Ga){var ba=An.eq(Ga);pa&&(Tn[0]=fo.call(this,Ga,ba.html())),ya(ba,Tn,$n,zn)});if(io&&(Xn=us(Tn,An[0].ownerDocument,!1,An,zn),Qn=Xn.firstChild,Xn.childNodes.length===1&&(Xn=Qn),Qn||zn)){for(ii=pn.map(As(Xn,"script"),ko),ki=ii.length;qi<io;qi++)yi=Xn,qi!==zi&&(yi=pn.clone(yi,!0,!0),ki&&pn.merge(ii,As(yi,"script"))),$n.call(An[qi],yi,qi);if(ki)for(Ii=ii[ii.length-1].ownerDocument,pn.map(ii,La),qi=0;qi<ki;qi++)yi=ii[qi],os.test(yi.type||"")&&!hi.access(yi,"globalEval")&&pn.contains(Ii,yi)&&(yi.src&&(yi.type||"").toLowerCase()!=="module"?pn._evalUrl&&!yi.noModule&&pn._evalUrl(yi.src,{nonce:yi.nonce||yi.getAttribute("nonce")},Ii):bn(yi.textContent.replace(Uo,""),yi,Ii))}return An}function Ha(An,Tn,$n){for(var zn,Xn=Tn?pn.filter(Tn,An):An,Qn=0;(zn=Xn[Qn])!=null;Qn++)!$n&&zn.nodeType===1&&pn.cleanData(As(zn)),zn.parentNode&&($n&&To(zn)&&Zs(As(zn,"script")),zn.parentNode.removeChild(zn));return An}pn.extend({htmlPrefilter:function(An){return An},clone:function(An,Tn,$n){var zn,Xn,Qn,ii,ki=An.cloneNode(!0),yi=To(An);if(!an.noCloneChecked&&(An.nodeType===1||An.nodeType===11)&&!pn.isXMLDoc(An))for(ii=As(ki),Qn=As(An),zn=0,Xn=Qn.length;zn<Xn;zn++)Ro(Qn[zn],ii[zn]);if(Tn)if($n)for(Qn=Qn||As(An),ii=ii||As(ki),zn=0,Xn=Qn.length;zn<Xn;zn++)sa(Qn[zn],ii[zn]);else sa(An,ki);return ii=As(ki,"script"),ii.length>0&&Zs(ii,!yi&&As(An,"script")),ki},cleanData:function(An){for(var Tn,$n,zn,Xn=pn.event.special,Qn=0;($n=An[Qn])!==void 0;Qn++)if(Aa($n)){if(Tn=$n[hi.expando]){if(Tn.events)for(zn in Tn.events)Xn[zn]?pn.event.remove($n,zn):pn.removeEvent($n,zn,Tn.handle);$n[hi.expando]=void 0}$n[Ai.expando]&&($n[Ai.expando]=void 0)}}}),pn.fn.extend({detach:function(An){return Ha(this,An,!0)},remove:function(An){return Ha(this,An)},text:function(An){return xo(this,function(Tn){return Tn===void 0?pn.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=Tn)})},null,An,arguments.length)},append:function(){return ya(this,arguments,function(An){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Tn=Do(this,An);Tn.appendChild(An)}})},prepend:function(){return ya(this,arguments,function(An){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Tn=Do(this,An);Tn.insertBefore(An,Tn.firstChild)}})},before:function(){return ya(this,arguments,function(An){this.parentNode&&this.parentNode.insertBefore(An,this)})},after:function(){return ya(this,arguments,function(An){this.parentNode&&this.parentNode.insertBefore(An,this.nextSibling)})},empty:function(){for(var An,Tn=0;(An=this[Tn])!=null;Tn++)An.nodeType===1&&(pn.cleanData(As(An,!1)),An.textContent="");return this},clone:function(An,Tn){return An=An??!1,Tn=Tn??An,this.map(function(){return pn.clone(this,An,Tn)})},html:function(An){return xo(this,function(Tn){var $n=this[0]||{},zn=0,Xn=this.length;if(Tn===void 0&&$n.nodeType===1)return $n.innerHTML;if(typeof Tn=="string"&&!Zi.test(Tn)&&!Na[(aa.exec(Tn)||["",""])[1].toLowerCase()]){Tn=pn.htmlPrefilter(Tn);try{for(;zn<Xn;zn++)$n=this[zn]||{},$n.nodeType===1&&(pn.cleanData(As($n,!1)),$n.innerHTML=Tn);$n=0}catch{}}$n&&this.empty().append(Tn)},null,An,arguments.length)},replaceWith:function(){var An=[];return ya(this,arguments,function(Tn){var $n=this.parentNode;pn.inArray(this,An)<0&&(pn.cleanData(As(this)),$n&&$n.replaceChild(Tn,this))},An)}}),pn.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(An,Tn){pn.fn[An]=function($n){for(var zn,Xn=[],Qn=pn($n),ii=Qn.length-1,ki=0;ki<=ii;ki++)zn=ki===ii?this:this.clone(!0),pn(Qn[ki])[Tn](zn),Ur.apply(Xn,zn.get());return this.pushStack(Xn)}});var ss=new RegExp("^("+xi+")(?!px)[a-z%]+$","i"),Ba=/^--/,qa=function(An){var Tn=An.ownerDocument.defaultView;return(!Tn||!Tn.opener)&&(Tn=_r),Tn.getComputedStyle(An)},la=function(An,Tn,$n){var zn,Xn,Qn={};for(Xn in Tn)Qn[Xn]=An.style[Xn],An.style[Xn]=Tn[Xn];zn=$n.call(An);for(Xn in Tn)An.style[Xn]=Qn[Xn];return zn},Jo=new RegExp(go.join("|"),"i");(function(){function An(){if(Ii){yi.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ii.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",uo.appendChild(yi).appendChild(Ii);var qi=_r.getComputedStyle(Ii);$n=qi.top!=="1%",ki=Tn(qi.marginLeft)===12,Ii.style.right="60%",Qn=Tn(qi.right)===36,zn=Tn(qi.width)===36,Ii.style.position="absolute",Xn=Tn(Ii.offsetWidth/3)===12,uo.removeChild(yi),Ii=null}}function Tn(qi){return Math.round(parseFloat(qi))}var $n,zn,Xn,Qn,ii,ki,yi=hn.createElement("div"),Ii=hn.createElement("div");Ii.style&&(Ii.style.backgroundClip="content-box",Ii.cloneNode(!0).style.backgroundClip="",an.clearCloneStyle=Ii.style.backgroundClip==="content-box",pn.extend(an,{boxSizingReliable:function(){return An(),zn},pixelBoxStyles:function(){return An(),Qn},pixelPosition:function(){return An(),$n},reliableMarginLeft:function(){return An(),ki},scrollboxSize:function(){return An(),Xn},reliableTrDimensions:function(){var qi,io,zi,fo;return ii==null&&(qi=hn.createElement("table"),io=hn.createElement("tr"),zi=hn.createElement("div"),qi.style.cssText="position:absolute;left:-11111px;border-collapse:separate",io.style.cssText="box-sizing:content-box;border:1px solid",io.style.height="1px",zi.style.height="9px",zi.style.display="block",uo.appendChild(qi).appendChild(io).appendChild(zi),fo=_r.getComputedStyle(io),ii=parseInt(fo.height,10)+parseInt(fo.borderTopWidth,10)+parseInt(fo.borderBottomWidth,10)===io.offsetHeight,uo.removeChild(qi)),ii}}))})();function ia(An,Tn,$n){var zn,Xn,Qn,ii,ki=Ba.test(Tn),yi=An.style;return $n=$n||qa(An),$n&&(ii=$n.getPropertyValue(Tn)||$n[Tn],ki&&ii&&(ii=ii.replace(Wn,"$1")||void 0),ii===""&&!To(An)&&(ii=pn.style(An,Tn)),!an.pixelBoxStyles()&&ss.test(ii)&&Jo.test(Tn)&&(zn=yi.width,Xn=yi.minWidth,Qn=yi.maxWidth,yi.minWidth=yi.maxWidth=yi.width=ii,ii=$n.width,yi.width=zn,yi.minWidth=Xn,yi.maxWidth=Qn)),ii!==void 0?ii+"":ii}function ea(An,Tn){return{get:function(){if(An()){delete this.get;return}return(this.get=Tn).apply(this,arguments)}}}var $o=["Webkit","Moz","ms"],bi=hn.createElement("div").style,ms={};function ha(An){for(var Tn=An[0].toUpperCase()+An.slice(1),$n=$o.length;$n--;)if(An=$o[$n]+Tn,An in bi)return An}function Bs(An){var Tn=pn.cssProps[An]||ms[An];return Tn||(An in bi?An:ms[An]=ha(An)||An)}var Ca=/^(none|table(?!-c[ea]).+)/,Fs={position:"absolute",visibility:"hidden",display:"block"},Js={letterSpacing:"0",fontWeight:"400"};function ul(An,Tn,$n){var zn=co.exec(Tn);return zn?Math.max(0,zn[2]-($n||0))+(zn[3]||"px"):Tn}function ro(An,Tn,$n,zn,Xn,Qn){var ii=Tn==="width"?1:0,ki=0,yi=0,Ii=0;if($n===(zn?"border":"content"))return 0;for(;ii<4;ii+=2)$n==="margin"&&(Ii+=pn.css(An,$n+go[ii],!0,Xn)),zn?($n==="content"&&(yi-=pn.css(An,"padding"+go[ii],!0,Xn)),$n!=="margin"&&(yi-=pn.css(An,"border"+go[ii]+"Width",!0,Xn))):(yi+=pn.css(An,"padding"+go[ii],!0,Xn),$n!=="padding"?yi+=pn.css(An,"border"+go[ii]+"Width",!0,Xn):ki+=pn.css(An,"border"+go[ii]+"Width",!0,Xn));return!zn&&Qn>=0&&(yi+=Math.max(0,Math.ceil(An["offset"+Tn[0].toUpperCase()+Tn.slice(1)]-Qn-yi-ki-.5))||0),yi+Ii}function Ko(An,Tn,$n){var zn=qa(An),Xn=!an.boxSizingReliable()||$n,Qn=Xn&&pn.css(An,"boxSizing",!1,zn)==="border-box",ii=Qn,ki=ia(An,Tn,zn),yi="offset"+Tn[0].toUpperCase()+Tn.slice(1);if(ss.test(ki)){if(!$n)return ki;ki="auto"}return(!an.boxSizingReliable()&&Qn||!an.reliableTrDimensions()&&En(An,"tr")||ki==="auto"||!parseFloat(ki)&&pn.css(An,"display",!1,zn)==="inline")&&An.getClientRects().length&&(Qn=pn.css(An,"boxSizing",!1,zn)==="border-box",ii=yi in An,ii&&(ki=An[yi])),ki=parseFloat(ki)||0,ki+ro(An,Tn,$n||(Qn?"border":"content"),ii,zn,ki)+"px"}pn.extend({cssHooks:{opacity:{get:function(An,Tn){if(Tn){var $n=ia(An,"opacity");return $n===""?"1":$n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(An,Tn,$n,zn){if(!(!An||An.nodeType===3||An.nodeType===8||!An.style)){var Xn,Qn,ii,ki=Ya(Tn),yi=Ba.test(Tn),Ii=An.style;if(yi||(Tn=Bs(ki)),ii=pn.cssHooks[Tn]||pn.cssHooks[ki],$n!==void 0){if(Qn=typeof $n,Qn==="string"&&(Xn=co.exec($n))&&Xn[1]&&($n=Lo(An,Tn,Xn),Qn="number"),$n==null||$n!==$n)return;Qn==="number"&&!yi&&($n+=Xn&&Xn[3]||(pn.cssNumber[ki]?"":"px")),!an.clearCloneStyle&&$n===""&&Tn.indexOf("background")===0&&(Ii[Tn]="inherit"),(!ii||!("set"in ii)||($n=ii.set(An,$n,zn))!==void 0)&&(yi?Ii.setProperty(Tn,$n):Ii[Tn]=$n)}else return ii&&"get"in ii&&(Xn=ii.get(An,!1,zn))!==void 0?Xn:Ii[Tn]}},css:function(An,Tn,$n,zn){var Xn,Qn,ii,ki=Ya(Tn),yi=Ba.test(Tn);return yi||(Tn=Bs(ki)),ii=pn.cssHooks[Tn]||pn.cssHooks[ki],ii&&"get"in ii&&(Xn=ii.get(An,!0,$n)),Xn===void 0&&(Xn=ia(An,Tn,zn)),Xn==="normal"&&Tn in Js&&(Xn=Js[Tn]),$n===""||$n?(Qn=parseFloat(Xn),$n===!0||isFinite(Qn)?Qn||0:Xn):Xn}}),pn.each(["height","width"],function(An,Tn){pn.cssHooks[Tn]={get:function($n,zn,Xn){if(zn)return Ca.test(pn.css($n,"display"))&&(!$n.getClientRects().length||!$n.getBoundingClientRect().width)?la($n,Fs,function(){return Ko($n,Tn,Xn)}):Ko($n,Tn,Xn)},set:function($n,zn,Xn){var Qn,ii=qa($n),ki=!an.scrollboxSize()&&ii.position==="absolute",yi=ki||Xn,Ii=yi&&pn.css($n,"boxSizing",!1,ii)==="border-box",qi=Xn?ro($n,Tn,Xn,Ii,ii):0;return Ii&&ki&&(qi-=Math.ceil($n["offset"+Tn[0].toUpperCase()+Tn.slice(1)]-parseFloat(ii[Tn])-ro($n,Tn,"border",!1,ii)-.5)),qi&&(Qn=co.exec(zn))&&(Qn[3]||"px")!=="px"&&($n.style[Tn]=zn,zn=pn.css($n,Tn)),ul($n,zn,qi)}}}),pn.cssHooks.marginLeft=ea(an.reliableMarginLeft,function(An,Tn){if(Tn)return(parseFloat(ia(An,"marginLeft"))||An.getBoundingClientRect().left-la(An,{marginLeft:0},function(){return An.getBoundingClientRect().left}))+"px"}),pn.each({margin:"",padding:"",border:"Width"},function(An,Tn){pn.cssHooks[An+Tn]={expand:function($n){for(var zn=0,Xn={},Qn=typeof $n=="string"?$n.split(" "):[$n];zn<4;zn++)Xn[An+go[zn]+Tn]=Qn[zn]||Qn[zn-2]||Qn[0];return Xn}},An!=="margin"&&(pn.cssHooks[An+Tn].set=ul)}),pn.fn.extend({css:function(An,Tn){return xo(this,function($n,zn,Xn){var Qn,ii,ki={},yi=0;if(Array.isArray(zn)){for(Qn=qa($n),ii=zn.length;yi<ii;yi++)ki[zn[yi]]=pn.css($n,zn[yi],!1,Qn);return ki}return Xn!==void 0?pn.style($n,zn,Xn):pn.css($n,zn)},An,Tn,arguments.length>1)}});function fs(An,Tn,$n,zn,Xn){return new fs.prototype.init(An,Tn,$n,zn,Xn)}pn.Tween=fs,fs.prototype={constructor:fs,init:function(An,Tn,$n,zn,Xn,Qn){this.elem=An,this.prop=$n,this.easing=Xn||pn.easing._default,this.options=Tn,this.start=this.now=this.cur(),this.end=zn,this.unit=Qn||(pn.cssNumber[$n]?"":"px")},cur:function(){var An=fs.propHooks[this.prop];return An&&An.get?An.get(this):fs.propHooks._default.get(this)},run:function(An){var Tn,$n=fs.propHooks[this.prop];return this.options.duration?this.pos=Tn=pn.easing[this.easing](An,this.options.duration*An,0,1,this.options.duration):this.pos=Tn=An,this.now=(this.end-this.start)*Tn+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),$n&&$n.set?$n.set(this):fs.propHooks._default.set(this),this}},fs.prototype.init.prototype=fs.prototype,fs.propHooks={_default:{get:function(An){var Tn;return An.elem.nodeType!==1||An.elem[An.prop]!=null&&An.elem.style[An.prop]==null?An.elem[An.prop]:(Tn=pn.css(An.elem,An.prop,""),!Tn||Tn==="auto"?0:Tn)},set:function(An){pn.fx.step[An.prop]?pn.fx.step[An.prop](An):An.elem.nodeType===1&&(pn.cssHooks[An.prop]||An.elem.style[Bs(An.prop)]!=null)?pn.style(An.elem,An.prop,An.now+An.unit):An.elem[An.prop]=An.now}}},fs.propHooks.scrollTop=fs.propHooks.scrollLeft={set:function(An){An.elem.nodeType&&An.elem.parentNode&&(An.elem[An.prop]=An.now)}},pn.easing={linear:function(An){return An},swing:function(An){return .5-Math.cos(An*Math.PI)/2},_default:"swing"},pn.fx=fs.prototype.init,pn.fx.step={};var vl,gi,li=/^(?:toggle|show|hide)$/,Mi=/queueHooks$/;function Ri(){gi&&(hn.hidden===!1&&_r.requestAnimationFrame?_r.requestAnimationFrame(Ri):_r.setTimeout(Ri,pn.fx.interval),pn.fx.tick())}function no(){return _r.setTimeout(function(){vl=void 0}),vl=Date.now()}function _o(An,Tn){var $n,zn=0,Xn={height:An};for(Tn=Tn?1:0;zn<4;zn+=2-Tn)$n=go[zn],Xn["margin"+$n]=Xn["padding"+$n]=An;return Tn&&(Xn.opacity=Xn.width=An),Xn}function Mo(An,Tn,$n){for(var zn,Xn=(Zo.tweeners[Tn]||[]).concat(Zo.tweeners["*"]),Qn=0,ii=Xn.length;Qn<ii;Qn++)if(zn=Xn[Qn].call($n,Tn,An))return zn}function vo(An,Tn,$n){var zn,Xn,Qn,ii,ki,yi,Ii,qi,io="width"in Tn||"height"in Tn,zi=this,fo={},pa=An.style,Ga=An.nodeType&&Ui(An),ba=hi.get(An,"fxshow");$n.queue||(ii=pn._queueHooks(An,"fx"),ii.unqueued==null&&(ii.unqueued=0,ki=ii.empty.fire,ii.empty.fire=function(){ii.unqueued||ki()}),ii.unqueued++,zi.always(function(){zi.always(function(){ii.unqueued--,pn.queue(An,"fx").length||ii.empty.fire()})}));for(zn in Tn)if(Xn=Tn[zn],li.test(Xn)){if(delete Tn[zn],Qn=Qn||Xn==="toggle",Xn===(Ga?"hide":"show"))if(Xn==="show"&&ba&&ba[zn]!==void 0)Ga=!0;else continue;fo[zn]=ba&&ba[zn]||pn.style(An,zn)}if(yi=!pn.isEmptyObject(Tn),!(!yi&&pn.isEmptyObject(fo))){io&&An.nodeType===1&&($n.overflow=[pa.overflow,pa.overflowX,pa.overflowY],Ii=ba&&ba.display,Ii==null&&(Ii=hi.get(An,"display")),qi=pn.css(An,"display"),qi==="none"&&(Ii?qi=Ii:(fa([An],!0),Ii=An.style.display||Ii,qi=pn.css(An,"display"),fa([An]))),(qi==="inline"||qi==="inline-block"&&Ii!=null)&&pn.css(An,"float")==="none"&&(yi||(zi.done(function(){pa.display=Ii}),Ii==null&&(qi=pa.display,Ii=qi==="none"?"":qi)),pa.display="inline-block")),$n.overflow&&(pa.overflow="hidden",zi.always(function(){pa.overflow=$n.overflow[0],pa.overflowX=$n.overflow[1],pa.overflowY=$n.overflow[2]})),yi=!1;for(zn in fo)yi||(ba?"hidden"in ba&&(Ga=ba.hidden):ba=hi.access(An,"fxshow",{display:Ii}),Qn&&(ba.hidden=!Ga),Ga&&fa([An],!0),zi.done(function(){Ga||fa([An]),hi.remove(An,"fxshow");for(zn in fo)pn.style(An,zn,fo[zn])})),yi=Mo(Ga?ba[zn]:0,zn,zi),zn in ba||(ba[zn]=yi.start,Ga&&(yi.end=yi.start,yi.start=0))}}function jo(An,Tn){var $n,zn,Xn,Qn,ii;for($n in An)if(zn=Ya($n),Xn=Tn[zn],Qn=An[$n],Array.isArray(Qn)&&(Xn=Qn[1],Qn=An[$n]=Qn[0]),$n!==zn&&(An[zn]=Qn,delete An[$n]),ii=pn.cssHooks[zn],ii&&"expand"in ii){Qn=ii.expand(Qn),delete An[zn];for($n in Qn)$n in An||(An[$n]=Qn[$n],Tn[$n]=Xn)}else Tn[zn]=Xn}function Zo(An,Tn,$n){var zn,Xn,Qn=0,ii=Zo.prefilters.length,ki=pn.Deferred().always(function(){delete yi.elem}),yi=function(){if(Xn)return!1;for(var io=vl||no(),zi=Math.max(0,Ii.startTime+Ii.duration-io),fo=zi/Ii.duration||0,pa=1-fo,Ga=0,ba=Ii.tweens.length;Ga<ba;Ga++)Ii.tweens[Ga].run(pa);return ki.notifyWith(An,[Ii,pa,zi]),pa<1&&ba?zi:(ba||ki.notifyWith(An,[Ii,1,0]),ki.resolveWith(An,[Ii]),!1)},Ii=ki.promise({elem:An,props:pn.extend({},Tn),opts:pn.extend(!0,{specialEasing:{},easing:pn.easing._default},$n),originalProperties:Tn,originalOptions:$n,startTime:vl||no(),duration:$n.duration,tweens:[],createTween:function(io,zi){var fo=pn.Tween(An,Ii.opts,io,zi,Ii.opts.specialEasing[io]||Ii.opts.easing);return Ii.tweens.push(fo),fo},stop:function(io){var zi=0,fo=io?Ii.tweens.length:0;if(Xn)return this;for(Xn=!0;zi<fo;zi++)Ii.tweens[zi].run(1);return io?(ki.notifyWith(An,[Ii,1,0]),ki.resolveWith(An,[Ii,io])):ki.rejectWith(An,[Ii,io]),this}}),qi=Ii.props;for(jo(qi,Ii.opts.specialEasing);Qn<ii;Qn++)if(zn=Zo.prefilters[Qn].call(Ii,An,qi,Ii.opts),zn)return ln(zn.stop)&&(pn._queueHooks(Ii.elem,Ii.opts.queue).stop=zn.stop.bind(zn)),zn;return pn.map(qi,Mo,Ii),ln(Ii.opts.start)&&Ii.opts.start.call(An,Ii),Ii.progress(Ii.opts.progress).done(Ii.opts.done,Ii.opts.complete).fail(Ii.opts.fail).always(Ii.opts.always),pn.fx.timer(pn.extend(yi,{elem:An,anim:Ii,queue:Ii.opts.queue})),Ii}pn.Animation=pn.extend(Zo,{tweeners:{"*":[function(An,Tn){var $n=this.createTween(An,Tn);return Lo($n.elem,An,co.exec(Tn),$n),$n}]},tweener:function(An,Tn){ln(An)?(Tn=An,An=["*"]):An=An.match(ho);for(var $n,zn=0,Xn=An.length;zn<Xn;zn++)$n=An[zn],Zo.tweeners[$n]=Zo.tweeners[$n]||[],Zo.tweeners[$n].unshift(Tn)},prefilters:[vo],prefilter:function(An,Tn){Tn?Zo.prefilters.unshift(An):Zo.prefilters.push(An)}}),pn.speed=function(An,Tn,$n){var zn=An&&typeof An=="object"?pn.extend({},An):{complete:$n||!$n&&Tn||ln(An)&&An,duration:An,easing:$n&&Tn||Tn&&!ln(Tn)&&Tn};return pn.fx.off?zn.duration=0:typeof zn.duration!="number"&&(zn.duration in pn.fx.speeds?zn.duration=pn.fx.speeds[zn.duration]:zn.duration=pn.fx.speeds._default),(zn.queue==null||zn.queue===!0)&&(zn.queue="fx"),zn.old=zn.complete,zn.complete=function(){ln(zn.old)&&zn.old.call(this),zn.queue&&pn.dequeue(this,zn.queue)},zn},pn.fn.extend({fadeTo:function(An,Tn,$n,zn){return this.filter(Ui).css("opacity",0).show().end().animate({opacity:Tn},An,$n,zn)},animate:function(An,Tn,$n,zn){var Xn=pn.isEmptyObject(An),Qn=pn.speed(Tn,$n,zn),ii=function(){var ki=Zo(this,pn.extend({},An),Qn);(Xn||hi.get(this,"finish"))&&ki.stop(!0)};return ii.finish=ii,Xn||Qn.queue===!1?this.each(ii):this.queue(Qn.queue,ii)},stop:function(An,Tn,$n){var zn=function(Xn){var Qn=Xn.stop;delete Xn.stop,Qn($n)};return typeof An!="string"&&($n=Tn,Tn=An,An=void 0),Tn&&this.queue(An||"fx",[]),this.each(function(){var Xn=!0,Qn=An!=null&&An+"queueHooks",ii=pn.timers,ki=hi.get(this);if(Qn)ki[Qn]&&ki[Qn].stop&&zn(ki[Qn]);else for(Qn in ki)ki[Qn]&&ki[Qn].stop&&Mi.test(Qn)&&zn(ki[Qn]);for(Qn=ii.length;Qn--;)ii[Qn].elem===this&&(An==null||ii[Qn].queue===An)&&(ii[Qn].anim.stop($n),Xn=!1,ii.splice(Qn,1));(Xn||!$n)&&pn.dequeue(this,An)})},finish:function(An){return An!==!1&&(An=An||"fx"),this.each(function(){var Tn,$n=hi.get(this),zn=$n[An+"queue"],Xn=$n[An+"queueHooks"],Qn=pn.timers,ii=zn?zn.length:0;for($n.finish=!0,pn.queue(this,An,[]),Xn&&Xn.stop&&Xn.stop.call(this,!0),Tn=Qn.length;Tn--;)Qn[Tn].elem===this&&Qn[Tn].queue===An&&(Qn[Tn].anim.stop(!0),Qn.splice(Tn,1));for(Tn=0;Tn<ii;Tn++)zn[Tn]&&zn[Tn].finish&&zn[Tn].finish.call(this);delete $n.finish})}}),pn.each(["toggle","show","hide"],function(An,Tn){var $n=pn.fn[Tn];pn.fn[Tn]=function(zn,Xn,Qn){return zn==null||typeof zn=="boolean"?$n.apply(this,arguments):this.animate(_o(Tn,!0),zn,Xn,Qn)}}),pn.each({slideDown:_o("show"),slideUp:_o("hide"),slideToggle:_o("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(An,Tn){pn.fn[An]=function($n,zn,Xn){return this.animate(Tn,$n,zn,Xn)}}),pn.timers=[],pn.fx.tick=function(){var An,Tn=0,$n=pn.timers;for(vl=Date.now();Tn<$n.length;Tn++)An=$n[Tn],!An()&&$n[Tn]===An&&$n.splice(Tn--,1);$n.length||pn.fx.stop(),vl=void 0},pn.fx.timer=function(An){pn.timers.push(An),pn.fx.start()},pn.fx.interval=13,pn.fx.start=function(){gi||(gi=!0,Ri())},pn.fx.stop=function(){gi=null},pn.fx.speeds={slow:600,fast:200,_default:400},pn.fn.delay=function(An,Tn){return An=pn.fx&&pn.fx.speeds[An]||An,Tn=Tn||"fx",this.queue(Tn,function($n,zn){var Xn=_r.setTimeout($n,An);zn.stop=function(){_r.clearTimeout(Xn)}})},function(){var An=hn.createElement("input"),Tn=hn.createElement("select"),$n=Tn.appendChild(hn.createElement("option"));An.type="checkbox",an.checkOn=An.value!=="",an.optSelected=$n.selected,An=hn.createElement("input"),An.value="t",An.type="radio",an.radioValue=An.value==="t"}();var Po,xa=pn.expr.attrHandle;pn.fn.extend({attr:function(An,Tn){return xo(this,pn.attr,An,Tn,arguments.length>1)},removeAttr:function(An){return this.each(function(){pn.removeAttr(this,An)})}}),pn.extend({attr:function(An,Tn,$n){var zn,Xn,Qn=An.nodeType;if(!(Qn===3||Qn===8||Qn===2)){if(typeof An.getAttribute>"u")return pn.prop(An,Tn,$n);if((Qn!==1||!pn.isXMLDoc(An))&&(Xn=pn.attrHooks[Tn.toLowerCase()]||(pn.expr.match.bool.test(Tn)?Po:void 0)),$n!==void 0){if($n===null){pn.removeAttr(An,Tn);return}return Xn&&"set"in Xn&&(zn=Xn.set(An,$n,Tn))!==void 0?zn:(An.setAttribute(Tn,$n+""),$n)}return Xn&&"get"in Xn&&(zn=Xn.get(An,Tn))!==null?zn:(zn=pn.find.attr(An,Tn),zn??void 0)}},attrHooks:{type:{set:function(An,Tn){if(!an.radioValue&&Tn==="radio"&&En(An,"input")){var $n=An.value;return An.setAttribute("type",Tn),$n&&(An.value=$n),Tn}}}},removeAttr:function(An,Tn){var $n,zn=0,Xn=Tn&&Tn.match(ho);if(Xn&&An.nodeType===1)for(;$n=Xn[zn++];)An.removeAttribute($n)}}),Po={set:function(An,Tn,$n){return Tn===!1?pn.removeAttr(An,$n):An.setAttribute($n,$n),$n}},pn.each(pn.expr.match.bool.source.match(/\w+/g),function(An,Tn){var $n=xa[Tn]||pn.find.attr;xa[Tn]=function(zn,Xn,Qn){var ii,ki,yi=Xn.toLowerCase();return Qn||(ki=xa[yi],xa[yi]=ii,ii=$n(zn,Xn,Qn)!=null?yi:null,xa[yi]=ki),ii}});var es=/^(?:input|select|textarea|button)$/i,Fa=/^(?:a|area)$/i;pn.fn.extend({prop:function(An,Tn){return xo(this,pn.prop,An,Tn,arguments.length>1)},removeProp:function(An){return this.each(function(){delete this[pn.propFix[An]||An]})}}),pn.extend({prop:function(An,Tn,$n){var zn,Xn,Qn=An.nodeType;if(!(Qn===3||Qn===8||Qn===2))return(Qn!==1||!pn.isXMLDoc(An))&&(Tn=pn.propFix[Tn]||Tn,Xn=pn.propHooks[Tn]),$n!==void 0?Xn&&"set"in Xn&&(zn=Xn.set(An,$n,Tn))!==void 0?zn:An[Tn]=$n:Xn&&"get"in Xn&&(zn=Xn.get(An,Tn))!==null?zn:An[Tn]},propHooks:{tabIndex:{get:function(An){var Tn=pn.find.attr(An,"tabindex");return Tn?parseInt(Tn,10):es.test(An.nodeName)||Fa.test(An.nodeName)&&An.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),an.optSelected||(pn.propHooks.selected={get:function(An){var Tn=An.parentNode;return Tn&&Tn.parentNode&&Tn.parentNode.selectedIndex,null},set:function(An){var Tn=An.parentNode;Tn&&(Tn.selectedIndex,Tn.parentNode&&Tn.parentNode.selectedIndex)}}),pn.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pn.propFix[this.toLowerCase()]=this});function ga(An){var Tn=An.match(ho)||[];return Tn.join(" ")}function Da(An){return An.getAttribute&&An.getAttribute("class")||""}function Ea(An){return Array.isArray(An)?An:typeof An=="string"?An.match(ho)||[]:[]}pn.fn.extend({addClass:function(An){var Tn,$n,zn,Xn,Qn,ii;return ln(An)?this.each(function(ki){pn(this).addClass(An.call(this,ki,Da(this)))}):(Tn=Ea(An),Tn.length?this.each(function(){if(zn=Da(this),$n=this.nodeType===1&&" "+ga(zn)+" ",$n){for(Qn=0;Qn<Tn.length;Qn++)Xn=Tn[Qn],$n.indexOf(" "+Xn+" ")<0&&($n+=Xn+" ");ii=ga($n),zn!==ii&&this.setAttribute("class",ii)}}):this)},removeClass:function(An){var Tn,$n,zn,Xn,Qn,ii;return ln(An)?this.each(function(ki){pn(this).removeClass(An.call(this,ki,Da(this)))}):arguments.length?(Tn=Ea(An),Tn.length?this.each(function(){if(zn=Da(this),$n=this.nodeType===1&&" "+ga(zn)+" ",$n){for(Qn=0;Qn<Tn.length;Qn++)for(Xn=Tn[Qn];$n.indexOf(" "+Xn+" ")>-1;)$n=$n.replace(" "+Xn+" "," ");ii=ga($n),zn!==ii&&this.setAttribute("class",ii)}}):this):this.attr("class","")},toggleClass:function(An,Tn){var $n,zn,Xn,Qn,ii=typeof An,ki=ii==="string"||Array.isArray(An);return ln(An)?this.each(function(yi){pn(this).toggleClass(An.call(this,yi,Da(this),Tn),Tn)}):typeof Tn=="boolean"&&ki?Tn?this.addClass(An):this.removeClass(An):($n=Ea(An),this.each(function(){if(ki)for(Qn=pn(this),Xn=0;Xn<$n.length;Xn++)zn=$n[Xn],Qn.hasClass(zn)?Qn.removeClass(zn):Qn.addClass(zn);else(An===void 0||ii==="boolean")&&(zn=Da(this),zn&&hi.set(this,"__className__",zn),this.setAttribute&&this.setAttribute("class",zn||An===!1?"":hi.get(this,"__className__")||""))}))},hasClass:function(An){var Tn,$n,zn=0;for(Tn=" "+An+" ";$n=this[zn++];)if($n.nodeType===1&&(" "+ga(Da($n))+" ").indexOf(Tn)>-1)return!0;return!1}});var Cs=/\r/g;pn.fn.extend({val:function(An){var Tn,$n,zn,Xn=this[0];return arguments.length?(zn=ln(An),this.each(function(Qn){var ii;this.nodeType===1&&(zn?ii=An.call(this,Qn,pn(this).val()):ii=An,ii==null?ii="":typeof ii=="number"?ii+="":Array.isArray(ii)&&(ii=pn.map(ii,function(ki){return ki==null?"":ki+""})),Tn=pn.valHooks[this.type]||pn.valHooks[this.nodeName.toLowerCase()],(!Tn||!("set"in Tn)||Tn.set(this,ii,"value")===void 0)&&(this.value=ii))})):Xn?(Tn=pn.valHooks[Xn.type]||pn.valHooks[Xn.nodeName.toLowerCase()],Tn&&"get"in Tn&&($n=Tn.get(Xn,"value"))!==void 0?$n:($n=Xn.value,typeof $n=="string"?$n.replace(Cs,""):$n??"")):void 0}}),pn.extend({valHooks:{option:{get:function(An){var Tn=pn.find.attr(An,"value");return Tn??ga(pn.text(An))}},select:{get:function(An){var Tn,$n,zn,Xn=An.options,Qn=An.selectedIndex,ii=An.type==="select-one",ki=ii?null:[],yi=ii?Qn+1:Xn.length;for(Qn<0?zn=yi:zn=ii?Qn:0;zn<yi;zn++)if($n=Xn[zn],($n.selected||zn===Qn)&&!$n.disabled&&(!$n.parentNode.disabled||!En($n.parentNode,"optgroup"))){if(Tn=pn($n).val(),ii)return Tn;ki.push(Tn)}return ki},set:function(An,Tn){for(var $n,zn,Xn=An.options,Qn=pn.makeArray(Tn),ii=Xn.length;ii--;)zn=Xn[ii],(zn.selected=pn.inArray(pn.valHooks.option.get(zn),Qn)>-1)&&($n=!0);return $n||(An.selectedIndex=-1),Qn}}}}),pn.each(["radio","checkbox"],function(){pn.valHooks[this]={set:function(An,Tn){if(Array.isArray(Tn))return An.checked=pn.inArray(pn(An).val(),Tn)>-1}},an.checkOn||(pn.valHooks[this].get=function(An){return An.getAttribute("value")===null?"on":An.value})});var Ka=_r.location,vs={guid:Date.now()},da=/\?/;pn.parseXML=function(An){var Tn,$n;if(!An||typeof An!="string")return null;try{Tn=new _r.DOMParser().parseFromString(An,"text/xml")}catch{}return $n=Tn&&Tn.getElementsByTagName("parsererror")[0],(!Tn||$n)&&pn.error("Invalid XML: "+($n?pn.map($n.childNodes,function(zn){return zn.textContent}).join(`
`):An)),Tn};var Pa=/^(?:focusinfocus|focusoutblur)$/,Ta=function(An){An.stopPropagation()};pn.extend(pn.event,{trigger:function(An,Tn,$n,zn){var Xn,Qn,ii,ki,yi,Ii,qi,io,zi=[$n||hn],fo=Qr.call(An,"type")?An.type:An,pa=Qr.call(An,"namespace")?An.namespace.split("."):[];if(Qn=io=ii=$n=$n||hn,!($n.nodeType===3||$n.nodeType===8)&&!Pa.test(fo+pn.event.triggered)&&(fo.indexOf(".")>-1&&(pa=fo.split("."),fo=pa.shift(),pa.sort()),yi=fo.indexOf(":")<0&&"on"+fo,An=An[pn.expando]?An:new pn.Event(fo,typeof An=="object"&&An),An.isTrigger=zn?2:3,An.namespace=pa.join("."),An.rnamespace=An.namespace?new RegExp("(^|\\.)"+pa.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,An.result=void 0,An.target||(An.target=$n),Tn=Tn==null?[An]:pn.makeArray(Tn,[An]),qi=pn.event.special[fo]||{},!(!zn&&qi.trigger&&qi.trigger.apply($n,Tn)===!1))){if(!zn&&!qi.noBubble&&!dn($n)){for(ki=qi.delegateType||fo,Pa.test(ki+fo)||(Qn=Qn.parentNode);Qn;Qn=Qn.parentNode)zi.push(Qn),ii=Qn;ii===($n.ownerDocument||hn)&&zi.push(ii.defaultView||ii.parentWindow||_r)}for(Xn=0;(Qn=zi[Xn++])&&!An.isPropagationStopped();)io=Qn,An.type=Xn>1?ki:qi.bindType||fo,Ii=(hi.get(Qn,"events")||Object.create(null))[An.type]&&hi.get(Qn,"handle"),Ii&&Ii.apply(Qn,Tn),Ii=yi&&Qn[yi],Ii&&Ii.apply&&Aa(Qn)&&(An.result=Ii.apply(Qn,Tn),An.result===!1&&An.preventDefault());return An.type=fo,!zn&&!An.isDefaultPrevented()&&(!qi._default||qi._default.apply(zi.pop(),Tn)===!1)&&Aa($n)&&yi&&ln($n[fo])&&!dn($n)&&(ii=$n[yi],ii&&($n[yi]=null),pn.event.triggered=fo,An.isPropagationStopped()&&io.addEventListener(fo,Ta),$n[fo](),An.isPropagationStopped()&&io.removeEventListener(fo,Ta),pn.event.triggered=void 0,ii&&($n[yi]=ii)),An.result}},simulate:function(An,Tn,$n){var zn=pn.extend(new pn.Event,$n,{type:An,isSimulated:!0});pn.event.trigger(zn,null,Tn)}}),pn.fn.extend({trigger:function(An,Tn){return this.each(function(){pn.event.trigger(An,Tn,this)})},triggerHandler:function(An,Tn){var $n=this[0];if($n)return pn.event.trigger(An,Tn,$n,!0)}});var _s=/\[\]$/,ts=/\r?\n/g,ps=/^(?:submit|button|image|reset|file)$/i,Is=/^(?:input|select|textarea|keygen)/i;function xs(An,Tn,$n,zn){var Xn;if(Array.isArray(Tn))pn.each(Tn,function(Qn,ii){$n||_s.test(An)?zn(An,ii):xs(An+"["+(typeof ii=="object"&&ii!=null?Qn:"")+"]",ii,$n,zn)});else if(!$n&&kn(Tn)==="object")for(Xn in Tn)xs(An+"["+Xn+"]",Tn[Xn],$n,zn);else zn(An,Tn)}pn.param=function(An,Tn){var $n,zn=[],Xn=function(Qn,ii){var ki=ln(ii)?ii():ii;zn[zn.length]=encodeURIComponent(Qn)+"="+encodeURIComponent(ki??"")};if(An==null)return"";if(Array.isArray(An)||An.jquery&&!pn.isPlainObject(An))pn.each(An,function(){Xn(this.name,this.value)});else for($n in An)xs($n,An[$n],Tn,Xn);return zn.join("&")},pn.fn.extend({serialize:function(){return pn.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var An=pn.prop(this,"elements");return An?pn.makeArray(An):this}).filter(function(){var An=this.type;return this.name&&!pn(this).is(":disabled")&&Is.test(this.nodeName)&&!ps.test(An)&&(this.checked||!Ms.test(An))}).map(function(An,Tn){var $n=pn(this).val();return $n==null?null:Array.isArray($n)?pn.map($n,function(zn){return{name:Tn.name,value:zn.replace(ts,`\r
`)}}):{name:Tn.name,value:$n.replace(ts,`\r
`)}}).get()}});var Cl=/%20/g,ol=/#.*$/,Ll=/([?&])_=[^&]*/,tc=/^(.*?):[ \t]*([^\r\n]*)$/mg,rc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ys=/^(?:GET|HEAD)$/,Dc=/^\/\//,yl={},xl={},rs="*/".concat("*"),Wi=hn.createElement("a");Wi.href=Ka.href;function Vo(An){return function(Tn,$n){typeof Tn!="string"&&($n=Tn,Tn="*");var zn,Xn=0,Qn=Tn.toLowerCase().match(ho)||[];if(ln($n))for(;zn=Qn[Xn++];)zn[0]==="+"?(zn=zn.slice(1)||"*",(An[zn]=An[zn]||[]).unshift($n)):(An[zn]=An[zn]||[]).push($n)}}function Xo(An,Tn,$n,zn){var Xn={},Qn=An===xl;function ii(ki){var yi;return Xn[ki]=!0,pn.each(An[ki]||[],function(Ii,qi){var io=qi(Tn,$n,zn);if(typeof io=="string"&&!Qn&&!Xn[io])return Tn.dataTypes.unshift(io),ii(io),!1;if(Qn)return!(yi=io)}),yi}return ii(Tn.dataTypes[0])||!Xn["*"]&&ii("*")}function ca(An,Tn){var $n,zn,Xn=pn.ajaxSettings.flatOptions||{};for($n in Tn)Tn[$n]!==void 0&&((Xn[$n]?An:zn||(zn={}))[$n]=Tn[$n]);return zn&&pn.extend(!0,An,zn),An}function Ma(An,Tn,$n){for(var zn,Xn,Qn,ii,ki=An.contents,yi=An.dataTypes;yi[0]==="*";)yi.shift(),zn===void 0&&(zn=An.mimeType||Tn.getResponseHeader("Content-Type"));if(zn){for(Xn in ki)if(ki[Xn]&&ki[Xn].test(zn)){yi.unshift(Xn);break}}if(yi[0]in $n)Qn=yi[0];else{for(Xn in $n){if(!yi[0]||An.converters[Xn+" "+yi[0]]){Qn=Xn;break}ii||(ii=Xn)}Qn=Qn||ii}if(Qn)return Qn!==yi[0]&&yi.unshift(Qn),$n[Qn]}function Za(An,Tn,$n,zn){var Xn,Qn,ii,ki,yi,Ii={},qi=An.dataTypes.slice();if(qi[1])for(ii in An.converters)Ii[ii.toLowerCase()]=An.converters[ii];for(Qn=qi.shift();Qn;)if(An.responseFields[Qn]&&($n[An.responseFields[Qn]]=Tn),!yi&&zn&&An.dataFilter&&(Tn=An.dataFilter(Tn,An.dataType)),yi=Qn,Qn=qi.shift(),Qn){if(Qn==="*")Qn=yi;else if(yi!=="*"&&yi!==Qn){if(ii=Ii[yi+" "+Qn]||Ii["* "+Qn],!ii){for(Xn in Ii)if(ki=Xn.split(" "),ki[1]===Qn&&(ii=Ii[yi+" "+ki[0]]||Ii["* "+ki[0]],ii)){ii===!0?ii=Ii[Xn]:Ii[Xn]!==!0&&(Qn=ki[0],qi.unshift(ki[1]));break}}if(ii!==!0)if(ii&&An.throws)Tn=ii(Tn);else try{Tn=ii(Tn)}catch(io){return{state:"parsererror",error:ii?io:"No conversion from "+yi+" to "+Qn}}}}return{state:"success",data:Tn}}pn.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ka.href,type:"GET",isLocal:rc.test(Ka.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pn.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(An,Tn){return Tn?ca(ca(An,pn.ajaxSettings),Tn):ca(pn.ajaxSettings,An)},ajaxPrefilter:Vo(yl),ajaxTransport:Vo(xl),ajax:function(An,Tn){typeof An=="object"&&(Tn=An,An=void 0),Tn=Tn||{};var $n,zn,Xn,Qn,ii,ki,yi,Ii,qi,io,zi=pn.ajaxSetup({},Tn),fo=zi.context||zi,pa=zi.context&&(fo.nodeType||fo.jquery)?pn(fo):pn.event,Ga=pn.Deferred(),ba=pn.Callbacks("once memory"),Ss=zi.statusCode||{},tl={},ql={},Gl="canceled",Oa={readyState:0,getResponseHeader:function(Qa){var Ps;if(yi){if(!Qn)for(Qn={};Ps=tc.exec(Xn);)Qn[Ps[1].toLowerCase()+" "]=(Qn[Ps[1].toLowerCase()+" "]||[]).concat(Ps[2]);Ps=Qn[Qa.toLowerCase()+" "]}return Ps==null?null:Ps.join(", ")},getAllResponseHeaders:function(){return yi?Xn:null},setRequestHeader:function(Qa,Ps){return yi==null&&(Qa=ql[Qa.toLowerCase()]=ql[Qa.toLowerCase()]||Qa,tl[Qa]=Ps),this},overrideMimeType:function(Qa){return yi==null&&(zi.mimeType=Qa),this},statusCode:function(Qa){var Ps;if(Qa)if(yi)Oa.always(Qa[Oa.status]);else for(Ps in Qa)Ss[Ps]=[Ss[Ps],Qa[Ps]];return this},abort:function(Qa){var Ps=Qa||Gl;return $n&&$n.abort(Ps),ws(0,Ps),this}};if(Ga.promise(Oa),zi.url=((An||zi.url||Ka.href)+"").replace(Dc,Ka.protocol+"//"),zi.type=Tn.method||Tn.type||zi.method||zi.type,zi.dataTypes=(zi.dataType||"*").toLowerCase().match(ho)||[""],zi.crossDomain==null){ki=hn.createElement("a");try{ki.href=zi.url,ki.href=ki.href,zi.crossDomain=Wi.protocol+"//"+Wi.host!=ki.protocol+"//"+ki.host}catch{zi.crossDomain=!0}}if(zi.data&&zi.processData&&typeof zi.data!="string"&&(zi.data=pn.param(zi.data,zi.traditional)),Xo(yl,zi,Tn,Oa),yi)return Oa;Ii=pn.event&&zi.global,Ii&&pn.active++===0&&pn.event.trigger("ajaxStart"),zi.type=zi.type.toUpperCase(),zi.hasContent=!Ys.test(zi.type),zn=zi.url.replace(ol,""),zi.hasContent?zi.data&&zi.processData&&(zi.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(zi.data=zi.data.replace(Cl,"+")):(io=zi.url.slice(zn.length),zi.data&&(zi.processData||typeof zi.data=="string")&&(zn+=(da.test(zn)?"&":"?")+zi.data,delete zi.data),zi.cache===!1&&(zn=zn.replace(Ll,"$1"),io=(da.test(zn)?"&":"?")+"_="+vs.guid+++io),zi.url=zn+io),zi.ifModified&&(pn.lastModified[zn]&&Oa.setRequestHeader("If-Modified-Since",pn.lastModified[zn]),pn.etag[zn]&&Oa.setRequestHeader("If-None-Match",pn.etag[zn])),(zi.data&&zi.hasContent&&zi.contentType!==!1||Tn.contentType)&&Oa.setRequestHeader("Content-Type",zi.contentType),Oa.setRequestHeader("Accept",zi.dataTypes[0]&&zi.accepts[zi.dataTypes[0]]?zi.accepts[zi.dataTypes[0]]+(zi.dataTypes[0]!=="*"?", "+rs+"; q=0.01":""):zi.accepts["*"]);for(qi in zi.headers)Oa.setRequestHeader(qi,zi.headers[qi]);if(zi.beforeSend&&(zi.beforeSend.call(fo,Oa,zi)===!1||yi))return Oa.abort();if(Gl="abort",ba.add(zi.complete),Oa.done(zi.success),Oa.fail(zi.error),$n=Xo(xl,zi,Tn,Oa),!$n)ws(-1,"No Transport");else{if(Oa.readyState=1,Ii&&pa.trigger("ajaxSend",[Oa,zi]),yi)return Oa;zi.async&&zi.timeout>0&&(ii=_r.setTimeout(function(){Oa.abort("timeout")},zi.timeout));try{yi=!1,$n.send(tl,ws)}catch(Qa){if(yi)throw Qa;ws(-1,Qa)}}function ws(Qa,Ps,nc,qc){var Kl,Zl,Pl,ic,hc,Ol=Ps;yi||(yi=!0,ii&&_r.clearTimeout(ii),$n=void 0,Xn=qc||"",Oa.readyState=Qa>0?4:0,Kl=Qa>=200&&Qa<300||Qa===304,nc&&(ic=Ma(zi,Oa,nc)),!Kl&&pn.inArray("script",zi.dataTypes)>-1&&pn.inArray("json",zi.dataTypes)<0&&(zi.converters["text script"]=function(){}),ic=Za(zi,ic,Oa,Kl),Kl?(zi.ifModified&&(hc=Oa.getResponseHeader("Last-Modified"),hc&&(pn.lastModified[zn]=hc),hc=Oa.getResponseHeader("etag"),hc&&(pn.etag[zn]=hc)),Qa===204||zi.type==="HEAD"?Ol="nocontent":Qa===304?Ol="notmodified":(Ol=ic.state,Zl=ic.data,Pl=ic.error,Kl=!Pl)):(Pl=Ol,(Qa||!Ol)&&(Ol="error",Qa<0&&(Qa=0))),Oa.status=Qa,Oa.statusText=(Ps||Ol)+"",Kl?Ga.resolveWith(fo,[Zl,Ol,Oa]):Ga.rejectWith(fo,[Oa,Ol,Pl]),Oa.statusCode(Ss),Ss=void 0,Ii&&pa.trigger(Kl?"ajaxSuccess":"ajaxError",[Oa,zi,Kl?Zl:Pl]),ba.fireWith(fo,[Oa,Ol]),Ii&&(pa.trigger("ajaxComplete",[Oa,zi]),--pn.active||pn.event.trigger("ajaxStop")))}return Oa},getJSON:function(An,Tn,$n){return pn.get(An,Tn,$n,"json")},getScript:function(An,Tn){return pn.get(An,void 0,Tn,"script")}}),pn.each(["get","post"],function(An,Tn){pn[Tn]=function($n,zn,Xn,Qn){return ln(zn)&&(Qn=Qn||Xn,Xn=zn,zn=void 0),pn.ajax(pn.extend({url:$n,type:Tn,dataType:Qn,data:zn,success:Xn},pn.isPlainObject($n)&&$n))}}),pn.ajaxPrefilter(function(An){var Tn;for(Tn in An.headers)Tn.toLowerCase()==="content-type"&&(An.contentType=An.headers[Tn]||"")}),pn._evalUrl=function(An,Tn,$n){return pn.ajax({url:An,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(zn){pn.globalEval(zn,Tn,$n)}})},pn.fn.extend({wrapAll:function(An){var Tn;return this[0]&&(ln(An)&&(An=An.call(this[0])),Tn=pn(An,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Tn.insertBefore(this[0]),Tn.map(function(){for(var $n=this;$n.firstElementChild;)$n=$n.firstElementChild;return $n}).append(this)),this},wrapInner:function(An){return ln(An)?this.each(function(Tn){pn(this).wrapInner(An.call(this,Tn))}):this.each(function(){var Tn=pn(this),$n=Tn.contents();$n.length?$n.wrapAll(An):Tn.append(An)})},wrap:function(An){var Tn=ln(An);return this.each(function($n){pn(this).wrapAll(Tn?An.call(this,$n):An)})},unwrap:function(An){return this.parent(An).not("body").each(function(){pn(this).replaceWith(this.childNodes)}),this}}),pn.expr.pseudos.hidden=function(An){return!pn.expr.pseudos.visible(An)},pn.expr.pseudos.visible=function(An){return!!(An.offsetWidth||An.offsetHeight||An.getClientRects().length)},pn.ajaxSettings.xhr=function(){try{return new _r.XMLHttpRequest}catch{}};var zs={0:200,1223:204},el=pn.ajaxSettings.xhr();an.cors=!!el&&"withCredentials"in el,an.ajax=el=!!el,pn.ajaxTransport(function(An){var Tn,$n;if(an.cors||el&&!An.crossDomain)return{send:function(zn,Xn){var Qn,ii=An.xhr();if(ii.open(An.type,An.url,An.async,An.username,An.password),An.xhrFields)for(Qn in An.xhrFields)ii[Qn]=An.xhrFields[Qn];An.mimeType&&ii.overrideMimeType&&ii.overrideMimeType(An.mimeType),!An.crossDomain&&!zn["X-Requested-With"]&&(zn["X-Requested-With"]="XMLHttpRequest");for(Qn in zn)ii.setRequestHeader(Qn,zn[Qn]);Tn=function(ki){return function(){Tn&&(Tn=$n=ii.onload=ii.onerror=ii.onabort=ii.ontimeout=ii.onreadystatechange=null,ki==="abort"?ii.abort():ki==="error"?typeof ii.status!="number"?Xn(0,"error"):Xn(ii.status,ii.statusText):Xn(zs[ii.status]||ii.status,ii.statusText,(ii.responseType||"text")!=="text"||typeof ii.responseText!="string"?{binary:ii.response}:{text:ii.responseText},ii.getAllResponseHeaders()))}},ii.onload=Tn(),$n=ii.onerror=ii.ontimeout=Tn("error"),ii.onabort!==void 0?ii.onabort=$n:ii.onreadystatechange=function(){ii.readyState===4&&_r.setTimeout(function(){Tn&&$n()})},Tn=Tn("abort");try{ii.send(An.hasContent&&An.data||null)}catch(ki){if(Tn)throw ki}},abort:function(){Tn&&Tn()}}}),pn.ajaxPrefilter(function(An){An.crossDomain&&(An.contents.script=!1)}),pn.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(An){return pn.globalEval(An),An}}}),pn.ajaxPrefilter("script",function(An){An.cache===void 0&&(An.cache=!1),An.crossDomain&&(An.type="GET")}),pn.ajaxTransport("script",function(An){if(An.crossDomain||An.scriptAttrs){var Tn,$n;return{send:function(zn,Xn){Tn=pn("<script>").attr(An.scriptAttrs||{}).prop({charset:An.scriptCharset,src:An.url}).on("load error",$n=function(Qn){Tn.remove(),$n=null,Qn&&Xn(Qn.type==="error"?404:200,Qn.type)}),hn.head.appendChild(Tn[0])},abort:function(){$n&&$n()}}}});var Sl=[],bl=/(=)\?(?=&|$)|\?\?/;pn.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var An=Sl.pop()||pn.expando+"_"+vs.guid++;return this[An]=!0,An}}),pn.ajaxPrefilter("json jsonp",function(An,Tn,$n){var zn,Xn,Qn,ii=An.jsonp!==!1&&(bl.test(An.url)?"url":typeof An.data=="string"&&(An.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&bl.test(An.data)&&"data");if(ii||An.dataTypes[0]==="jsonp")return zn=An.jsonpCallback=ln(An.jsonpCallback)?An.jsonpCallback():An.jsonpCallback,ii?An[ii]=An[ii].replace(bl,"$1"+zn):An.jsonp!==!1&&(An.url+=(da.test(An.url)?"&":"?")+An.jsonp+"="+zn),An.converters["script json"]=function(){return Qn||pn.error(zn+" was not called"),Qn[0]},An.dataTypes[0]="json",Xn=_r[zn],_r[zn]=function(){Qn=arguments},$n.always(function(){Xn===void 0?pn(_r).removeProp(zn):_r[zn]=Xn,An[zn]&&(An.jsonpCallback=Tn.jsonpCallback,Sl.push(zn)),Qn&&ln(Xn)&&Xn(Qn[0]),Qn=Xn=void 0}),"script"}),an.createHTMLDocument=function(){var An=hn.implementation.createHTMLDocument("").body;return An.innerHTML="<form></form><form></form>",An.childNodes.length===2}(),pn.parseHTML=function(An,Tn,$n){if(typeof An!="string")return[];typeof Tn=="boolean"&&($n=Tn,Tn=!1);var zn,Xn,Qn;return Tn||(an.createHTMLDocument?(Tn=hn.implementation.createHTMLDocument(""),zn=Tn.createElement("base"),zn.href=hn.location.href,Tn.head.appendChild(zn)):Tn=hn),Xn=Zn.exec(An),Qn=!$n&&[],Xn?[Tn.createElement(Xn[1])]:(Xn=us([An],Tn,Qn),Qn&&Qn.length&&pn(Qn).remove(),pn.merge([],Xn.childNodes))},pn.fn.load=function(An,Tn,$n){var zn,Xn,Qn,ii=this,ki=An.indexOf(" ");return ki>-1&&(zn=ga(An.slice(ki)),An=An.slice(0,ki)),ln(Tn)?($n=Tn,Tn=void 0):Tn&&typeof Tn=="object"&&(Xn="POST"),ii.length>0&&pn.ajax({url:An,type:Xn||"GET",dataType:"html",data:Tn}).done(function(yi){Qn=arguments,ii.html(zn?pn("<div>").append(pn.parseHTML(yi)).find(zn):yi)}).always($n&&function(yi,Ii){ii.each(function(){$n.apply(this,Qn||[yi.responseText,Ii,yi])})}),this},pn.expr.pseudos.animated=function(An){return pn.grep(pn.timers,function(Tn){return An===Tn.elem}).length},pn.offset={setOffset:function(An,Tn,$n){var zn,Xn,Qn,ii,ki,yi,Ii,qi=pn.css(An,"position"),io=pn(An),zi={};qi==="static"&&(An.style.position="relative"),ki=io.offset(),Qn=pn.css(An,"top"),yi=pn.css(An,"left"),Ii=(qi==="absolute"||qi==="fixed")&&(Qn+yi).indexOf("auto")>-1,Ii?(zn=io.position(),ii=zn.top,Xn=zn.left):(ii=parseFloat(Qn)||0,Xn=parseFloat(yi)||0),ln(Tn)&&(Tn=Tn.call(An,$n,pn.extend({},ki))),Tn.top!=null&&(zi.top=Tn.top-ki.top+ii),Tn.left!=null&&(zi.left=Tn.left-ki.left+Xn),"using"in Tn?Tn.using.call(An,zi):io.css(zi)}},pn.fn.extend({offset:function(An){if(arguments.length)return An===void 0?this:this.each(function(Xn){pn.offset.setOffset(this,An,Xn)});var Tn,$n,zn=this[0];if(zn)return zn.getClientRects().length?(Tn=zn.getBoundingClientRect(),$n=zn.ownerDocument.defaultView,{top:Tn.top+$n.pageYOffset,left:Tn.left+$n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var An,Tn,$n,zn=this[0],Xn={top:0,left:0};if(pn.css(zn,"position")==="fixed")Tn=zn.getBoundingClientRect();else{for(Tn=this.offset(),$n=zn.ownerDocument,An=zn.offsetParent||$n.documentElement;An&&(An===$n.body||An===$n.documentElement)&&pn.css(An,"position")==="static";)An=An.parentNode;An&&An!==zn&&An.nodeType===1&&(Xn=pn(An).offset(),Xn.top+=pn.css(An,"borderTopWidth",!0),Xn.left+=pn.css(An,"borderLeftWidth",!0))}return{top:Tn.top-Xn.top-pn.css(zn,"marginTop",!0),left:Tn.left-Xn.left-pn.css(zn,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var An=this.offsetParent;An&&pn.css(An,"position")==="static";)An=An.offsetParent;return An||uo})}}),pn.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(An,Tn){var $n=Tn==="pageYOffset";pn.fn[An]=function(zn){return xo(this,function(Xn,Qn,ii){var ki;if(dn(Xn)?ki=Xn:Xn.nodeType===9&&(ki=Xn.defaultView),ii===void 0)return ki?ki[Tn]:Xn[Qn];ki?ki.scrollTo($n?ki.pageXOffset:ii,$n?ii:ki.pageYOffset):Xn[Qn]=ii},An,zn,arguments.length)}}),pn.each(["top","left"],function(An,Tn){pn.cssHooks[Tn]=ea(an.pixelPosition,function($n,zn){if(zn)return zn=ia($n,Tn),ss.test(zn)?pn($n).position()[Tn]+"px":zn})}),pn.each({Height:"height",Width:"width"},function(An,Tn){pn.each({padding:"inner"+An,content:Tn,"":"outer"+An},function($n,zn){pn.fn[zn]=function(Xn,Qn){var ii=arguments.length&&($n||typeof Xn!="boolean"),ki=$n||(Xn===!0||Qn===!0?"margin":"border");return xo(this,function(yi,Ii,qi){var io;return dn(yi)?zn.indexOf("outer")===0?yi["inner"+An]:yi.document.documentElement["client"+An]:yi.nodeType===9?(io=yi.documentElement,Math.max(yi.body["scroll"+An],io["scroll"+An],yi.body["offset"+An],io["offset"+An],io["client"+An])):qi===void 0?pn.css(yi,Ii,ki):pn.style(yi,Ii,qi,ki)},Tn,ii?Xn:void 0,ii)}})}),pn.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(An,Tn){pn.fn[Tn]=function($n){return this.on(Tn,$n)}}),pn.fn.extend({bind:function(An,Tn,$n){return this.on(An,null,Tn,$n)},unbind:function(An,Tn){return this.off(An,null,Tn)},delegate:function(An,Tn,$n,zn){return this.on(Tn,An,$n,zn)},undelegate:function(An,Tn,$n){return arguments.length===1?this.off(An,"**"):this.off(Tn,An||"**",$n)},hover:function(An,Tn){return this.on("mouseenter",An).on("mouseleave",Tn||An)}}),pn.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(An,Tn){pn.fn[Tn]=function($n,zn){return arguments.length>0?this.on(Tn,null,$n,zn):this.trigger(Tn)}});var Dl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;pn.proxy=function(An,Tn){var $n,zn,Xn;if(typeof Tn=="string"&&($n=An[Tn],Tn=An,An=$n),!!ln(An))return zn=zr.call(arguments,2),Xn=function(){return An.apply(Tn||this,zn.concat(zr.call(arguments)))},Xn.guid=An.guid=An.guid||pn.guid++,Xn},pn.holdReady=function(An){An?pn.readyWait++:pn.ready(!0)},pn.isArray=Array.isArray,pn.parseJSON=JSON.parse,pn.nodeName=En,pn.isFunction=ln,pn.isWindow=dn,pn.camelCase=Ya,pn.type=kn,pn.now=Date.now,pn.isNumeric=function(An){var Tn=pn.type(An);return(Tn==="number"||Tn==="string")&&!isNaN(An-parseFloat(An))},pn.trim=function(An){return An==null?"":(An+"").replace(Dl,"$1")};var Ul=_r.jQuery,al=_r.$;return pn.noConflict=function(An){return _r.$===pn&&(_r.$=al),An&&_r.jQuery===pn&&(_r.jQuery=Ul),pn},typeof $r>"u"&&(_r.jQuery=_r.$=pn),pn})})(jquery);var jqueryExports=jquery.exports;const $$3=getDefaultExportFromCjs(jqueryExports);var intlTelInput$4={exports:{}};(function(Fe){(function(_r){Fe.exports?Fe.exports=_r():window.intlTelInput=_r()})(function(_r){return function(){for(var $r=[["Afghanistan (â«Ø§ÙØºØ§ÙØ³ØªØ§Ùâ¬â)","af","93"],["Albania (ShqipÃ«ri)","al","355"],["Algeria (â«Ø§ÙØ¬Ø²Ø§Ø¦Ø±â¬â)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (ÕÕ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶)","am","374"],["Aruba","aw","297"],["Ascension Island","ac","247"],["Australia","au","61",0],["Austria (Ãsterreich)","at","43"],["Azerbaijan (AzÉrbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (â«Ø§ÙØ¨Ø­Ø±ÙÙâ¬â)","bh","973"],["Bangladesh (à¦¬à¦¾à¦à¦²à¦¾à¦¦à§à¦¶)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (ÐÐµÐ»Ð°ÑÑÑÑ)","by","375"],["Belgium (BelgiÃ«)","be","32"],["Belize","bz","501"],["Benin (BÃ©nin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (à½ à½à¾²à½´à½)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (ÐÐ¾ÑÐ½Ð° Ð¸ Ð¥ÐµÑÑÐµÐ³Ð¾Ð²Ð¸Ð½Ð°)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (ÐÑÐ»Ð³Ð°ÑÐ¸Ñ)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (ááááá»áá¶)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","263","289","306","343","354","365","367","368","382","387","403","416","418","428","431","437","438","450","584","468","474","506","514","519","548","579","581","584","587","604","613","639","647","672","683","705","709","742","753","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (RÃ©publique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (ä¸­å½)","cn","86"],["Christmas Island","cx","61",2,["89164"]],["Cocos (Keeling) Islands","cc","61",1,["89162"]],["Colombia","co","57"],["Comoros (â«Ø¬Ø²Ø± Ø§ÙÙÙØ±â¬â)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["CÃ´te dâIvoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["CuraÃ§ao","cw","599",0],["Cyprus (ÎÏÏÏÎ¿Ï)","cy","357"],["Czech Republic (ÄeskÃ¡ republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (RepÃºblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (â«ÙØµØ±â¬â)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Eswatini","sz","268"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (FÃ¸royar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane franÃ§aise)","gf","594"],["French Polynesia (PolynÃ©sie franÃ§aise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (á¡áá¥áá ááááá)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (ÎÎ»Î»Î¬Î´Î±)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (GuinÃ©e)","gn","224"],["Guinea-Bissau (GuinÃ© Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (é¦æ¸¯)","hk","852"],["Hungary (MagyarorszÃ¡g)","hu","36"],["Iceland (Ãsland)","is","354"],["India (à¤­à¤¾à¤°à¤¤)","in","91"],["Indonesia","id","62"],["Iran (â«Ø§ÛØ±Ø§Ùâ¬â)","ir","98"],["Iraq (â«Ø§ÙØ¹Ø±Ø§Ùâ¬â)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (â«××©×¨××â¬â)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (æ¥æ¬)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (â«Ø§ÙØ£Ø±Ø¯Ùâ¬â)","jo","962"],["Kazakhstan (ÐÐ°Ð·Ð°ÑÑÑÐ°Ð½)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (â«Ø§ÙÙÙÙØªâ¬â)","kw","965"],["Kyrgyzstan (ÐÑÑÐ³ÑÐ·ÑÑÐ°Ð½)","kg","996"],["Laos (àº¥àº²àº§)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (â«ÙØ¨ÙØ§Ùâ¬â)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (â«ÙÙØ¨ÙØ§â¬â)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (æ¾³é)","mo","853"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (â«ÙÙØ±ÙØªØ§ÙÙØ§â¬â)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (MÃ©xico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (ÐÐ¾Ð½Ð³Ð¾Ð»)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (â«Ø§ÙÙØºØ±Ø¨â¬â)","ma","212",0],["Mozambique (MoÃ§ambique)","mz","258"],["Myanmar (Burma) (áá¼ááºáá¬)","mm","95"],["Namibia (NamibiÃ«)","na","264"],["Nauru","nr","674"],["Nepal (à¤¨à¥à¤ªà¤¾à¤²)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-CalÃ©donie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (ì¡°ì  ë¯¼ì£¼ì£¼ì ì¸ë¯¼ ê³µíêµ­)","kp","850"],["North Macedonia (Ð¡ÐµÐ²ÐµÑÐ½Ð° ÐÐ°ÐºÐµÐ´Ð¾Ð½Ð¸ÑÐ°)","mk","389"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (â«Ø¹ÙÙØ§Ùâ¬â)","om","968"],["Pakistan (â«Ù¾Ø§Ú©Ø³ØªØ§Ùâ¬â)","pk","92"],["Palau","pw","680"],["Palestine (â«ÙÙØ³Ø·ÙÙâ¬â)","ps","970"],["Panama (PanamÃ¡)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (PerÃº)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (â«ÙØ·Ø±â¬â)","qa","974"],["RÃ©union (La RÃ©union)","re","262",0],["Romania (RomÃ¢nia)","ro","40"],["Russia (Ð Ð¾ÑÑÐ¸Ñ)","ru","7",0],["Rwanda","rw","250"],["Saint BarthÃ©lemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie franÃ§aise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["SÃ£o TomÃ© and PrÃ­ncipe (SÃ£o TomÃ© e PrÃ­ncipe)","st","239"],["Saudi Arabia (â«Ø§ÙÙÙÙÙØ© Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙØ³Ø¹ÙØ¯ÙØ©â¬â)","sa","966"],["Senegal (SÃ©nÃ©gal)","sn","221"],["Serbia (Ð¡ÑÐ±Ð¸ÑÐ°)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (ëíë¯¼êµ­)","kr","82"],["South Sudan (â«Ø¬ÙÙØ¨ Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)","ss","211"],["Spain (EspaÃ±a)","es","34"],["Sri Lanka (à·à·âà¶»à· à¶½à¶à¶à·à·)","lk","94"],["Sudan (â«Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (â«Ø³ÙØ±ÙØ§â¬â)","sy","963"],["Taiwan (å°ç£)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (à¹à¸à¸¢)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (â«ØªÙÙØ³â¬â)","tn","216"],["Turkey (TÃ¼rkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (Ð£ÐºÑÐ°ÑÐ½Ð°)","ua","380"],["United Arab Emirates (â«Ø§ÙØ¥ÙØ§Ø±Ø§Øª Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙÙØªØ­Ø¯Ø©â¬â)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (OÊ»zbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (CittÃ  del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Viá»t Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (â«Ø§ÙØµØ­Ø±Ø§Ø¡ Ø§ÙØºØ±Ø¨ÙØ©â¬â)","eh","212",1,["5288","5289"]],["Yemen (â«Ø§ÙÙÙÙâ¬â)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Ãland Islands","ax","358",1,["18"]]],Br=0;Br<$r.length;Br++){var Fr=$r[Br];$r[Br]={name:Fr[0],iso2:Fr[1],dialCode:Fr[2],priority:Fr[3]||0,areaCodes:Fr[4]||null}}function zr(kn){for(var Sn=1;Sn<arguments.length;Sn++){var _n=arguments[Sn]!=null?Object(arguments[Sn]):{},pn=Object.keys(_n);typeof Object.getOwnPropertySymbols=="function"&&pn.push.apply(pn,Object.getOwnPropertySymbols(_n).filter(function(Cn){return Object.getOwnPropertyDescriptor(_n,Cn).enumerable})),pn.forEach(function(Cn){jr(kn,Cn,_n[Cn])})}return kn}function jr(kn,Sn,_n){return Sn=Kr(Sn),Sn in kn?Object.defineProperty(kn,Sn,{value:_n,enumerable:!0,configurable:!0,writable:!0}):kn[Sn]=_n,kn}function Ur(kn,Sn){if(!(kn instanceof Sn))throw new TypeError("Cannot call a class as a function")}function Gr(kn,Sn){for(var _n=0;_n<Sn.length;_n++){var pn=Sn[_n];pn.enumerable=pn.enumerable||!1,pn.configurable=!0,"value"in pn&&(pn.writable=!0),Object.defineProperty(kn,Kr(pn.key),pn)}}function Yr(kn,Sn,_n){return Sn&&Gr(kn.prototype,Sn),_n&&Gr(kn,_n),Object.defineProperty(kn,"prototype",{writable:!1}),kn}function Kr(kn){var Sn=Qr(kn,"string");return typeof Sn=="symbol"?Sn:String(Sn)}function Qr(kn,Sn){if(typeof kn!="object"||kn===null)return kn;var _n=kn[Symbol.toPrimitive];if(_n!==_r){var pn=_n.call(kn,Sn||"default");if(typeof pn!="object")return pn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Sn==="string"?String:Number)(kn)}var Jr={getInstance:function(Sn){var _n=Sn.getAttribute("data-intl-tel-input-id");return window.intlTelInputGlobals.instances[_n]},instances:{},documentReady:function(){return document.readyState==="complete"}};typeof window=="object"&&(window.intlTelInputGlobals=Jr);var rn=0,an={allowDropdown:!0,autoInsertDialCode:!1,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,showFlags:!0,utilsScript:""},ln=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"],dn=function(Sn,_n){for(var pn=Object.keys(Sn),Cn=0;Cn<pn.length;Cn++)_n(pn[Cn],Sn[pn[Cn]])},hn=function(Sn){dn(window.intlTelInputGlobals.instances,function(_n){window.intlTelInputGlobals.instances[_n][Sn]()})},gn=function(){function kn(Sn,_n){var pn=this;Ur(this,kn),this.id=rn++,this.telInput=Sn,this.activeItem=null,this.highlightedItem=null;var Cn=_n||{};this.options={},dn(an,function(En,Pn){pn.options[En]=Cn.hasOwnProperty(En)?Cn[En]:Pn}),this.hadInitialPlaceholder=!!Sn.getAttribute("placeholder")}return Yr(kn,[{key:"_init",value:function(){var _n=this;this.options.nationalMode&&(this.options.autoInsertDialCode=!1),this.options.separateDialCode&&(this.options.autoInsertDialCode=!1);var pn=this.options.allowDropdown&&!this.options.separateDialCode;if(!this.options.showFlags&&pn&&(this.options.showFlags=!0),this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobile&&(document.body.classList.add("iti-mobile"),this.options.dropdownContainer||(this.options.dropdownContainer=document.body)),this.isRTL=!!this.telInput.closest("[dir=rtl]"),typeof Promise<"u"){var Cn=new Promise(function(Pn,On){_n.resolveAutoCountryPromise=Pn,_n.rejectAutoCountryPromise=On}),En=new Promise(function(Pn,On){_n.resolveUtilsScriptPromise=Pn,_n.rejectUtilsScriptPromise=On});this.promise=Promise.all([Cn,En])}else this.resolveAutoCountryPromise=this.rejectAutoCountryPromise=function(){},this.resolveUtilsScriptPromise=this.rejectUtilsScriptPromise=function(){};this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}},{key:"_processCountryData",value:function(){this._processAllCountries(),this._processCountryCodes(),this._processPreferredCountries(),this.options.localizedCountries&&this._translateCountriesByLocale(),(this.options.onlyCountries.length||this.options.localizedCountries)&&this.countries.sort(this._countryNameSort)}},{key:"_addCountryCode",value:function(_n,pn,Cn){pn.length>this.countryCodeMaxLen&&(this.countryCodeMaxLen=pn.length),this.countryCodes.hasOwnProperty(pn)||(this.countryCodes[pn]=[]);for(var En=0;En<this.countryCodes[pn].length;En++)if(this.countryCodes[pn][En]===_n)return;var Pn=Cn!==_r?Cn:this.countryCodes[pn].length;this.countryCodes[pn][Pn]=_n}},{key:"_processAllCountries",value:function(){if(this.options.onlyCountries.length){var _n=this.options.onlyCountries.map(function(Cn){return Cn.toLowerCase()});this.countries=$r.filter(function(Cn){return _n.indexOf(Cn.iso2)>-1})}else if(this.options.excludeCountries.length){var pn=this.options.excludeCountries.map(function(Cn){return Cn.toLowerCase()});this.countries=$r.filter(function(Cn){return pn.indexOf(Cn.iso2)===-1})}else this.countries=$r}},{key:"_translateCountriesByLocale",value:function(){for(var _n=0;_n<this.countries.length;_n++){var pn=this.countries[_n].iso2.toLowerCase();this.options.localizedCountries.hasOwnProperty(pn)&&(this.countries[_n].name=this.options.localizedCountries[pn])}}},{key:"_countryNameSort",value:function(_n,pn){return _n.name<pn.name?-1:_n.name>pn.name?1:0}},{key:"_processCountryCodes",value:function(){this.countryCodeMaxLen=0,this.dialCodes={},this.countryCodes={};for(var _n=0;_n<this.countries.length;_n++){var pn=this.countries[_n];this.dialCodes[pn.dialCode]||(this.dialCodes[pn.dialCode]=!0),this._addCountryCode(pn.iso2,pn.dialCode,pn.priority)}for(var Cn=0;Cn<this.countries.length;Cn++){var En=this.countries[Cn];if(En.areaCodes)for(var Pn=this.countryCodes[En.dialCode][0],On=0;On<En.areaCodes.length;On++){for(var jn=En.areaCodes[On],Fn=1;Fn<jn.length;Fn++){var Wn=En.dialCode+jn.substr(0,Fn);this._addCountryCode(Pn,Wn),this._addCountryCode(En.iso2,Wn)}this._addCountryCode(En.iso2,En.dialCode+jn)}}}},{key:"_processPreferredCountries",value:function(){this.preferredCountries=[];for(var _n=0;_n<this.options.preferredCountries.length;_n++){var pn=this.options.preferredCountries[_n].toLowerCase(),Cn=this._getCountryData(pn,!1,!0);Cn&&this.preferredCountries.push(Cn)}}},{key:"_createEl",value:function(_n,pn,Cn){var En=document.createElement(_n);return pn&&dn(pn,function(Pn,On){return En.setAttribute(Pn,On)}),Cn&&Cn.appendChild(En),En}},{key:"_generateMarkup",value:function(){!this.telInput.hasAttribute("autocomplete")&&!(this.telInput.form&&this.telInput.form.hasAttribute("autocomplete"))&&this.telInput.setAttribute("autocomplete","off");var _n=this.options,pn=_n.allowDropdown,Cn=_n.separateDialCode,En=_n.showFlags,Pn=_n.customContainer,On=_n.hiddenInput,jn=_n.dropdownContainer,Fn="iti";pn&&(Fn+=" iti--allow-dropdown"),Cn&&(Fn+=" iti--separate-dial-code"),En&&(Fn+=" iti--show-flags"),Pn&&(Fn+=" ".concat(Pn));var Wn=this._createEl("div",{class:Fn});this.telInput.parentNode.insertBefore(Wn,this.telInput);var Hn=pn||En||Cn;if(Hn&&(this.flagsContainer=this._createEl("div",{class:"iti__flag-container"},Wn)),Wn.appendChild(this.telInput),Hn&&(this.selectedFlag=this._createEl("div",zr({class:"iti__selected-flag"},pn&&{role:"combobox","aria-haspopup":"listbox","aria-controls":"iti-".concat(this.id,"__country-listbox"),"aria-expanded":"false","aria-label":"Telephone country code"}),this.flagsContainer)),En&&(this.selectedFlagInner=this._createEl("div",{class:"iti__flag"},this.selectedFlag)),this.selectedFlag&&this.telInput.disabled&&this.selectedFlag.setAttribute("aria-disabled","true"),Cn&&(this.selectedDialCode=this._createEl("div",{class:"iti__selected-dial-code"},this.selectedFlag)),pn&&(this.telInput.disabled||this.selectedFlag.setAttribute("tabindex","0"),this.dropdownArrow=this._createEl("div",{class:"iti__arrow"},this.selectedFlag),this.countryList=this._createEl("ul",{class:"iti__country-list iti__hide",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox","aria-label":"List of countries"}),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"iti__preferred",!0),this._createEl("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.countryList)),this._appendListItems(this.countries,"iti__standard"),jn?(this.dropdown=this._createEl("div",{class:"iti iti--container"}),this.dropdown.appendChild(this.countryList)):this.flagsContainer.appendChild(this.countryList)),On){var qn=On,ni=this.telInput.getAttribute("name");if(ni){var oi=ni.lastIndexOf("[");oi!==-1&&(qn="".concat(ni.substr(0,oi),"[").concat(qn,"]"))}this.hiddenInput=this._createEl("input",{type:"hidden",name:qn}),Wn.appendChild(this.hiddenInput)}}},{key:"_appendListItems",value:function(_n,pn,Cn){for(var En="",Pn=0;Pn<_n.length;Pn++){var On=_n[Pn],jn=Cn?"-preferred":"";En+="<li class='iti__country ".concat(pn,"' tabIndex='-1' id='iti-").concat(this.id,"__item-").concat(On.iso2).concat(jn,"' role='option' data-dial-code='").concat(On.dialCode,"' data-country-code='").concat(On.iso2,"' aria-selected='false'>"),this.options.showFlags&&(En+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(On.iso2,"'></div></div>")),En+="<span class='iti__country-name'>".concat(On.name,"</span>"),En+="<span class='iti__dial-code'>+".concat(On.dialCode,"</span>"),En+="</li>"}this.countryList.insertAdjacentHTML("beforeend",En)}},{key:"_setInitialState",value:function(){var _n=this.telInput.getAttribute("value"),pn=this.telInput.value,Cn=_n&&_n.charAt(0)==="+"&&(!pn||pn.charAt(0)!=="+"),En=Cn?_n:pn,Pn=this._getDialCode(En),On=this._isRegionlessNanp(En),jn=this.options,Fn=jn.initialCountry,Wn=jn.autoInsertDialCode;Pn&&!On?this._updateFlagFromNumber(En):Fn!=="auto"&&(Fn?this._setFlag(Fn.toLowerCase()):Pn&&On?this._setFlag("us"):(this.defaultCountry=this.preferredCountries.length?this.preferredCountries[0].iso2:this.countries[0].iso2,En||this._setFlag(this.defaultCountry)),!En&&Wn&&(this.telInput.value="+".concat(this.selectedCountryData.dialCode))),En&&this._updateValFromNumber(En)}},{key:"_initListeners",value:function(){this._initKeyListeners(),this.options.autoInsertDialCode&&this._initBlurListeners(),this.options.allowDropdown&&this._initDropdownListeners(),this.hiddenInput&&this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function(){var _n=this;this._handleHiddenInputSubmit=function(){_n.hiddenInput.value=_n.getNumber()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_getClosestLabel",value:function(){for(var _n=this.telInput;_n&&_n.tagName!=="LABEL";)_n=_n.parentNode;return _n}},{key:"_initDropdownListeners",value:function(){var _n=this;this._handleLabelClick=function(Cn){_n.countryList.classList.contains("iti__hide")?_n.telInput.focus():Cn.preventDefault()};var pn=this._getClosestLabel();pn&&pn.addEventListener("click",this._handleLabelClick),this._handleClickSelectedFlag=function(){_n.countryList.classList.contains("iti__hide")&&!_n.telInput.disabled&&!_n.telInput.readOnly&&_n._showDropdown()},this.selectedFlag.addEventListener("click",this._handleClickSelectedFlag),this._handleFlagsContainerKeydown=function(Cn){var En=_n.countryList.classList.contains("iti__hide");En&&["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(Cn.key)!==-1&&(Cn.preventDefault(),Cn.stopPropagation(),_n._showDropdown()),Cn.key==="Tab"&&_n._closeDropdown()},this.flagsContainer.addEventListener("keydown",this._handleFlagsContainerKeydown)}},{key:"_initRequests",value:function(){var _n=this;this.options.utilsScript&&!window.intlTelInputUtils?window.intlTelInputGlobals.documentReady()?window.intlTelInputGlobals.loadUtils(this.options.utilsScript):window.addEventListener("load",function(){window.intlTelInputGlobals.loadUtils(_n.options.utilsScript)}):this.resolveUtilsScriptPromise(),this.options.initialCountry==="auto"?this._loadAutoCountry():this.resolveAutoCountryPromise()}},{key:"_loadAutoCountry",value:function(){window.intlTelInputGlobals.autoCountry?this.handleAutoCountry():window.intlTelInputGlobals.startedLoadingAutoCountry||(window.intlTelInputGlobals.startedLoadingAutoCountry=!0,typeof this.options.geoIpLookup=="function"&&this.options.geoIpLookup(function(_n){window.intlTelInputGlobals.autoCountry=_n.toLowerCase(),setTimeout(function(){return hn("handleAutoCountry")})},function(){return hn("rejectAutoCountryPromise")}))}},{key:"_initKeyListeners",value:function(){var _n=this;this._handleKeyupEvent=function(){_n._updateFlagFromNumber(_n.telInput.value)&&_n._triggerCountryChange()},this.telInput.addEventListener("keyup",this._handleKeyupEvent),this._handleClipboardEvent=function(){setTimeout(_n._handleKeyupEvent)},this.telInput.addEventListener("cut",this._handleClipboardEvent),this.telInput.addEventListener("paste",this._handleClipboardEvent)}},{key:"_cap",value:function(_n){var pn=this.telInput.getAttribute("maxlength");return pn&&_n.length>pn?_n.substr(0,pn):_n}},{key:"_initBlurListeners",value:function(){var _n=this;this._handleSubmitOrBlurEvent=function(){_n._removeEmptyDialCode()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.addEventListener("blur",this._handleSubmitOrBlurEvent)}},{key:"_removeEmptyDialCode",value:function(){if(this.telInput.value.charAt(0)==="+"){var _n=this._getNumeric(this.telInput.value);(!_n||this.selectedCountryData.dialCode===_n)&&(this.telInput.value="")}}},{key:"_getNumeric",value:function(_n){return _n.replace(/\D/g,"")}},{key:"_trigger",value:function(_n){var pn=document.createEvent("Event");pn.initEvent(_n,!0,!0),this.telInput.dispatchEvent(pn)}},{key:"_showDropdown",value:function(){this.countryList.classList.remove("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","true"),this._setDropdownPosition(),this.activeItem&&(this._highlightListItem(this.activeItem,!1),this._scrollTo(this.activeItem,!0)),this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}},{key:"_toggleClass",value:function(_n,pn,Cn){Cn&&!_n.classList.contains(pn)?_n.classList.add(pn):!Cn&&_n.classList.contains(pn)&&_n.classList.remove(pn)}},{key:"_setDropdownPosition",value:function(){var _n=this;if(this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),!this.isMobile){var pn=this.telInput.getBoundingClientRect(),Cn=window.pageYOffset||document.documentElement.scrollTop,En=pn.top+Cn,Pn=this.countryList.offsetHeight,On=En+this.telInput.offsetHeight+Pn<Cn+window.innerHeight,jn=En-Pn>Cn;if(this._toggleClass(this.countryList,"iti__country-list--dropup",!On&&jn),this.options.dropdownContainer){var Fn=!On&&jn?0:this.telInput.offsetHeight;this.dropdown.style.top="".concat(En+Fn,"px"),this.dropdown.style.left="".concat(pn.left+document.body.scrollLeft,"px"),this._handleWindowScroll=function(){return _n._closeDropdown()},window.addEventListener("scroll",this._handleWindowScroll)}}}},{key:"_getClosestListItem",value:function(_n){for(var pn=_n;pn&&pn!==this.countryList&&!pn.classList.contains("iti__country");)pn=pn.parentNode;return pn===this.countryList?null:pn}},{key:"_bindDropdownListeners",value:function(){var _n=this;this._handleMouseoverCountryList=function(Pn){var On=_n._getClosestListItem(Pn.target);On&&_n._highlightListItem(On,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=function(Pn){var On=_n._getClosestListItem(Pn.target);On&&_n._selectListItem(On)},this.countryList.addEventListener("click",this._handleClickCountryList);var pn=!0;this._handleClickOffToClose=function(){pn||_n._closeDropdown(),pn=!1},document.documentElement.addEventListener("click",this._handleClickOffToClose);var Cn="",En=null;this._handleKeydownOnDropdown=function(Pn){Pn.preventDefault(),Pn.key==="ArrowUp"||Pn.key==="Up"||Pn.key==="ArrowDown"||Pn.key==="Down"?_n._handleUpDownKey(Pn.key):Pn.key==="Enter"?_n._handleEnterKey():Pn.key==="Escape"?_n._closeDropdown():/^[a-zA-ZÃ-Ã¿Ð°-ÑÐ-Ð¯ ]$/.test(Pn.key)&&(En&&clearTimeout(En),Cn+=Pn.key.toLowerCase(),_n._searchForCountry(Cn),En=setTimeout(function(){Cn=""},1e3))},document.addEventListener("keydown",this._handleKeydownOnDropdown)}},{key:"_handleUpDownKey",value:function(_n){var pn=_n==="ArrowUp"||_n==="Up"?this.highlightedItem.previousElementSibling:this.highlightedItem.nextElementSibling;pn&&(pn.classList.contains("iti__divider")&&(pn=_n==="ArrowUp"||_n==="Up"?pn.previousElementSibling:pn.nextElementSibling),this._highlightListItem(pn,!0))}},{key:"_handleEnterKey",value:function(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function(_n){for(var pn=0;pn<this.countries.length;pn++)if(this._startsWith(this.countries[pn].name,_n)){var Cn=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(this.countries[pn].iso2));this._highlightListItem(Cn,!1),this._scrollTo(Cn,!0);break}}},{key:"_startsWith",value:function(_n,pn){return _n.substr(0,pn.length).toLowerCase()===pn}},{key:"_updateValFromNumber",value:function(_n){var pn=_n;if(this.options.formatOnDisplay&&window.intlTelInputUtils&&this.selectedCountryData){var Cn=this.options.nationalMode||pn.charAt(0)!=="+"&&!this.options.separateDialCode,En=intlTelInputUtils.numberFormat,Pn=En.NATIONAL,On=En.INTERNATIONAL,jn=Cn?Pn:On;pn=intlTelInputUtils.formatNumber(pn,this.selectedCountryData.iso2,jn)}pn=this._beforeSetNumber(pn),this.telInput.value=pn}},{key:"_updateFlagFromNumber",value:function(_n){var pn=_n,Cn=this.selectedCountryData.dialCode,En=Cn==="1";pn&&En&&pn.charAt(0)!=="+"&&(pn.charAt(0)!=="1"&&(pn="1".concat(pn)),pn="+".concat(pn)),this.options.separateDialCode&&Cn&&pn.charAt(0)!=="+"&&(pn="+".concat(Cn).concat(pn));var Pn=this._getDialCode(pn,!0),On=this._getNumeric(pn),jn=null;if(Pn){var Fn=this.countryCodes[this._getNumeric(Pn)],Wn=Fn.indexOf(this.selectedCountryData.iso2)!==-1&&On.length<=Pn.length-1,Hn=Cn==="1"&&this._isRegionlessNanp(On);if(!Hn&&!Wn){for(var qn=0;qn<Fn.length;qn++)if(Fn[qn]){jn=Fn[qn];break}}}else pn.charAt(0)==="+"&&On.length?jn="":(!pn||pn==="+")&&(jn=this.defaultCountry);return jn!==null?this._setFlag(jn):!1}},{key:"_isRegionlessNanp",value:function(_n){var pn=this._getNumeric(_n);if(pn.charAt(0)==="1"){var Cn=pn.substr(1,3);return ln.indexOf(Cn)!==-1}return!1}},{key:"_highlightListItem",value:function(_n,pn){var Cn=this.highlightedItem;Cn&&Cn.classList.remove("iti__highlight"),this.highlightedItem=_n,this.highlightedItem.classList.add("iti__highlight"),this.selectedFlag.setAttribute("aria-activedescendant",_n.getAttribute("id")),pn&&this.highlightedItem.focus()}},{key:"_getCountryData",value:function(_n,pn,Cn){for(var En=pn?$r:this.countries,Pn=0;Pn<En.length;Pn++)if(En[Pn].iso2===_n)return En[Pn];if(Cn)return null;throw new Error("No country data for '".concat(_n,"'"))}},{key:"_setFlag",value:function(_n){var pn=this.options,Cn=pn.allowDropdown,En=pn.separateDialCode,Pn=pn.showFlags,On=this.selectedCountryData.iso2?this.selectedCountryData:{};if(this.selectedCountryData=_n?this._getCountryData(_n,!1,!1):{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),Pn&&this.selectedFlagInner.setAttribute("class","iti__flag iti__".concat(_n)),this._setSelectedCountryFlagTitleAttribute(_n,En),En){var jn=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"";this.selectedDialCode.innerHTML=jn;var Fn=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.isRTL?this.telInput.style.paddingRight="".concat(Fn+6,"px"):this.telInput.style.paddingLeft="".concat(Fn+6,"px")}if(this._updatePlaceholder(),Cn){var Wn=this.activeItem;if(Wn&&(Wn.classList.remove("iti__active"),Wn.setAttribute("aria-selected","false")),_n){var Hn=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(_n,"-preferred"))||this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(_n));Hn.setAttribute("aria-selected","true"),Hn.classList.add("iti__active"),this.activeItem=Hn}}return On.iso2!==_n}},{key:"_setSelectedCountryFlagTitleAttribute",value:function(_n,pn){if(this.selectedFlag){var Cn;_n&&!pn?Cn="".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):_n?Cn=this.selectedCountryData.name:Cn="Unknown",this.selectedFlag.setAttribute("title",Cn)}}},{key:"_getHiddenSelectedFlagWidth",value:function(){var _n=this.telInput.parentNode.cloneNode();_n.style.visibility="hidden",document.body.appendChild(_n);var pn=this.flagsContainer.cloneNode();_n.appendChild(pn);var Cn=this.selectedFlag.cloneNode(!0);pn.appendChild(Cn);var En=Cn.offsetWidth;return _n.parentNode.removeChild(_n),En}},{key:"_updatePlaceholder",value:function(){var _n=this.options.autoPlaceholder==="aggressive"||!this.hadInitialPlaceholder&&this.options.autoPlaceholder==="polite";if(window.intlTelInputUtils&&_n){var pn=intlTelInputUtils.numberType[this.options.placeholderNumberType],Cn=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,pn):"";Cn=this._beforeSetNumber(Cn),typeof this.options.customPlaceholder=="function"&&(Cn=this.options.customPlaceholder(Cn,this.selectedCountryData)),this.telInput.setAttribute("placeholder",Cn)}}},{key:"_selectListItem",value:function(_n){var pn=this._setFlag(_n.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(_n.getAttribute("data-dial-code")),this.telInput.focus();var Cn=this.telInput.value.length;this.telInput.setSelectionRange(Cn,Cn),pn&&this._triggerCountryChange()}},{key:"_closeDropdown",value:function(){this.countryList.classList.add("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","false"),this.selectedFlag.removeAttribute("aria-activedescendant"),this.dropdownArrow.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._handleKeydownOnDropdown),document.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.isMobile||window.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function(_n,pn){var Cn=this.countryList,En=window.pageYOffset||document.documentElement.scrollTop,Pn=Cn.offsetHeight,On=Cn.getBoundingClientRect().top+En,jn=On+Pn,Fn=_n.offsetHeight,Wn=_n.getBoundingClientRect().top+En,Hn=Wn+Fn,qn=Wn-On+Cn.scrollTop,ni=Pn/2-Fn/2;if(Wn<On)pn&&(qn-=ni),Cn.scrollTop=qn;else if(Hn>jn){pn&&(qn+=ni);var oi=Pn-Fn;Cn.scrollTop=qn-oi}}},{key:"_updateDialCode",value:function(_n){var pn=this.telInput.value,Cn="+".concat(_n),En;if(pn.charAt(0)==="+"){var Pn=this._getDialCode(pn);Pn?En=pn.replace(Pn,Cn):En=Cn,this.telInput.value=En}else this.options.autoInsertDialCode&&(pn?En=Cn+pn:En=Cn,this.telInput.value=En)}},{key:"_getDialCode",value:function(_n,pn){var Cn="";if(_n.charAt(0)==="+")for(var En="",Pn=0;Pn<_n.length;Pn++){var On=_n.charAt(Pn);if(!isNaN(parseInt(On,10))){if(En+=On,pn)this.countryCodes[En]&&(Cn=_n.substr(0,Pn+1));else if(this.dialCodes[En]){Cn=_n.substr(0,Pn+1);break}if(En.length===this.countryCodeMaxLen)break}}return Cn}},{key:"_getFullNumber",value:function(){var _n=this.telInput.value.trim(),pn=this.selectedCountryData.dialCode,Cn,En=this._getNumeric(_n);return this.options.separateDialCode&&_n.charAt(0)!=="+"&&pn&&En?Cn="+".concat(pn):Cn="",Cn+_n}},{key:"_beforeSetNumber",value:function(_n){var pn=_n;if(this.options.separateDialCode){var Cn=this._getDialCode(pn);if(Cn){Cn="+".concat(this.selectedCountryData.dialCode);var En=pn[Cn.length]===" "||pn[Cn.length]==="-"?Cn.length+1:Cn.length;pn=pn.substr(En)}}return this._cap(pn)}},{key:"_triggerCountryChange",value:function(){this._trigger("countrychange")}},{key:"handleAutoCountry",value:function(){this.options.initialCountry==="auto"&&(this.defaultCountry=window.intlTelInputGlobals.autoCountry,this.telInput.value||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}},{key:"handleUtils",value:function(){window.intlTelInputUtils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this._updatePlaceholder()),this.resolveUtilsScriptPromise()}},{key:"destroy",value:function(){var _n=this.telInput.form;if(this.options.allowDropdown){this._closeDropdown(),this.selectedFlag.removeEventListener("click",this._handleClickSelectedFlag),this.flagsContainer.removeEventListener("keydown",this._handleFlagsContainerKeydown);var pn=this._getClosestLabel();pn&&pn.removeEventListener("click",this._handleLabelClick)}this.hiddenInput&&_n&&_n.removeEventListener("submit",this._handleHiddenInputSubmit),this.options.autoInsertDialCode&&(_n&&_n.removeEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.removeEventListener("blur",this._handleSubmitOrBlurEvent)),this.telInput.removeEventListener("keyup",this._handleKeyupEvent),this.telInput.removeEventListener("cut",this._handleClipboardEvent),this.telInput.removeEventListener("paste",this._handleClipboardEvent),this.telInput.removeAttribute("data-intl-tel-input-id");var Cn=this.telInput.parentNode;Cn.parentNode.insertBefore(this.telInput,Cn),Cn.parentNode.removeChild(Cn),delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}},{key:"getNumber",value:function(_n){if(window.intlTelInputUtils){var pn=this.selectedCountryData.iso2;return intlTelInputUtils.formatNumber(this._getFullNumber(),pn,_n)}return""}},{key:"getNumberType",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.selectedCountryData}},{key:"getValidationError",value:function(){if(window.intlTelInputUtils){var _n=this.selectedCountryData.iso2;return intlTelInputUtils.getValidationError(this._getFullNumber(),_n)}return-99}},{key:"isValidNumber",value:function(){var _n=this._getFullNumber().trim();return window.intlTelInputUtils?intlTelInputUtils.isValidNumber(_n,this.selectedCountryData.iso2):null}},{key:"isPossibleNumber",value:function(){var _n=this._getFullNumber().trim();return window.intlTelInputUtils?intlTelInputUtils.isPossibleNumber(_n,this.selectedCountryData.iso2):null}},{key:"setCountry",value:function(_n){var pn=_n.toLowerCase();this.selectedCountryData.iso2!==pn&&(this._setFlag(pn),this._updateDialCode(this.selectedCountryData.dialCode),this._triggerCountryChange())}},{key:"setNumber",value:function(_n){var pn=this._updateFlagFromNumber(_n);this._updateValFromNumber(_n),pn&&this._triggerCountryChange()}},{key:"setPlaceholderNumberType",value:function(_n){this.options.placeholderNumberType=_n,this._updatePlaceholder()}}]),kn}();Jr.getCountryData=function(){return $r};var bn=function(Sn,_n,pn){var Cn=document.createElement("script");Cn.onload=function(){hn("handleUtils"),_n&&_n()},Cn.onerror=function(){hn("rejectUtilsScriptPromise"),pn&&pn()},Cn.className="iti-load-utils",Cn.async=!0,Cn.src=Sn,document.body.appendChild(Cn)};return Jr.loadUtils=function(kn){if(!window.intlTelInputUtils&&!window.intlTelInputGlobals.startedLoadingUtilsScript){if(window.intlTelInputGlobals.startedLoadingUtilsScript=!0,typeof Promise<"u")return new Promise(function(Sn,_n){return bn(kn,Sn,_n)});bn(kn)}return null},Jr.defaults=an,Jr.version="18.2.1",function(kn,Sn){var _n=new gn(kn,Sn);return _n._init(),kn.setAttribute("data-intl-tel-input-id",_n.id),window.intlTelInputGlobals.instances[_n.id]=_n,_n}}()})})(intlTelInput$4);var intlTelInputExports=intlTelInput$4.exports,intlTelInput$2=intlTelInputExports;const intlTelInput$3=getDefaultExportFromCjs(intlTelInput$2);var Events=function(){function Fe(_r,$r){$r===void 0&&($r=[]),this._eventType=_r,this._eventFunctions=$r}return Fe.prototype.init=function(){var _r=this;this._eventFunctions.forEach(function($r){typeof window<"u"&&window.addEventListener(_r._eventType,$r)})},Fe}(),__assign$a=globalThis&&globalThis.__assign||function(){return __assign$a=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$a.apply(this,arguments)},Default$a={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},Accordion=function(){function Fe(_r,$r){_r===void 0&&(_r=[]),$r===void 0&&($r=Default$a),this._items=_r,this._options=__assign$a(__assign$a({},Default$a),$r),this._init()}return Fe.prototype._init=function(){var _r=this;this._items.length&&this._items.map(function($r){$r.active&&_r.open($r.id),$r.triggerEl.addEventListener("click",function(){_r.toggle($r.id)})})},Fe.prototype.getItem=function(_r){return this._items.filter(function($r){return $r.id===_r})[0]},Fe.prototype.open=function(_r){var $r,Br,Fr=this,zr=this.getItem(_r);this._options.alwaysOpen||this._items.map(function(jr){var Ur,Gr;jr!==zr&&((Ur=jr.triggerEl.classList).remove.apply(Ur,Fr._options.activeClasses.split(" ")),(Gr=jr.triggerEl.classList).add.apply(Gr,Fr._options.inactiveClasses.split(" ")),jr.targetEl.classList.add("hidden"),jr.triggerEl.setAttribute("aria-expanded","false"),jr.active=!1,jr.iconEl&&jr.iconEl.classList.remove("rotate-180"))}),($r=zr.triggerEl.classList).add.apply($r,this._options.activeClasses.split(" ")),(Br=zr.triggerEl.classList).remove.apply(Br,this._options.inactiveClasses.split(" ")),zr.triggerEl.setAttribute("aria-expanded","true"),zr.targetEl.classList.remove("hidden"),zr.active=!0,zr.iconEl&&zr.iconEl.classList.add("rotate-180"),this._options.onOpen(this,zr)},Fe.prototype.toggle=function(_r){var $r=this.getItem(_r);$r.active?this.close(_r):this.open(_r),this._options.onToggle(this,$r)},Fe.prototype.close=function(_r){var $r,Br,Fr=this.getItem(_r);($r=Fr.triggerEl.classList).remove.apply($r,this._options.activeClasses.split(" ")),(Br=Fr.triggerEl.classList).add.apply(Br,this._options.inactiveClasses.split(" ")),Fr.targetEl.classList.add("hidden"),Fr.triggerEl.setAttribute("aria-expanded","false"),Fr.active=!1,Fr.iconEl&&Fr.iconEl.classList.remove("rotate-180"),this._options.onClose(this,Fr)},Fe}();function initAccordions(){document.querySelectorAll("[data-accordion]").forEach(function(Fe){var _r=Fe.getAttribute("data-accordion"),$r=Fe.getAttribute("data-active-classes"),Br=Fe.getAttribute("data-inactive-classes"),Fr=[];Fe.querySelectorAll("[data-accordion-target]").forEach(function(zr){if(zr.closest("[data-accordion]")===Fe){var jr={id:zr.getAttribute("data-accordion-target"),triggerEl:zr,targetEl:document.querySelector(zr.getAttribute("data-accordion-target")),iconEl:zr.querySelector("[data-accordion-icon]"),active:zr.getAttribute("aria-expanded")==="true"};Fr.push(jr)}}),new Accordion(Fr,{alwaysOpen:_r==="open",activeClasses:$r||Default$a.activeClasses,inactiveClasses:Br||Default$a.inactiveClasses})})}typeof window<"u"&&(window.Accordion=Accordion,window.initAccordions=initAccordions);var __assign$9=globalThis&&globalThis.__assign||function(){return __assign$9=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$9.apply(this,arguments)},Default$9={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},Collapse=function(){function Fe(_r,$r,Br){_r===void 0&&(_r=null),$r===void 0&&($r=null),Br===void 0&&(Br=Default$9),this._targetEl=_r,this._triggerEl=$r,this._options=__assign$9(__assign$9({},Default$9),Br),this._visible=!1,this._init()}return Fe.prototype._init=function(){var _r=this;this._triggerEl&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",function(){_r.toggle()}))},Fe.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},Fe.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},Fe.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},Fe}();function initCollapses(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(Fe){var _r=Fe.getAttribute("data-collapse-toggle"),$r=document.getElementById(_r);$r?new Collapse($r,Fe):console.error('The target element with id "'.concat(_r,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Collapse,window.initCollapses=initCollapses);var __assign$8=globalThis&&globalThis.__assign||function(){return __assign$8=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$8.apply(this,arguments)},Default$8={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},Carousel=function(){function Fe(_r,$r){_r===void 0&&(_r=[]),$r===void 0&&($r=Default$8),this._items=_r,this._options=__assign$8(__assign$8(__assign$8({},Default$8),$r),{indicators:__assign$8(__assign$8({},Default$8.indicators),$r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._init()}return Fe.prototype._init=function(){var _r=this;this._items.map(function($r){$r.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function($r,Br){$r.el.addEventListener("click",function(){_r.slideTo(Br)})})},Fe.prototype.getItem=function(_r){return this._items[_r]},Fe.prototype.slideTo=function(_r){var $r=this._items[_r],Br={left:$r.position===0?this._items[this._items.length-1]:this._items[$r.position-1],middle:$r,right:$r.position===this._items.length-1?this._items[0]:this._items[$r.position+1]};this._rotate(Br),this._setActiveItem($r),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},Fe.prototype.next=function(){var _r=this._getActiveItem(),$r=null;_r.position===this._items.length-1?$r=this._items[0]:$r=this._items[_r.position+1],this.slideTo($r.position),this._options.onNext(this)},Fe.prototype.prev=function(){var _r=this._getActiveItem(),$r=null;_r.position===0?$r=this._items[this._items.length-1]:$r=this._items[_r.position-1],this.slideTo($r.position),this._options.onPrev(this)},Fe.prototype._rotate=function(_r){this._items.map(function($r){$r.el.classList.add("hidden")}),_r.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),_r.left.el.classList.add("-translate-x-full","z-10"),_r.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),_r.middle.el.classList.add("translate-x-0","z-20"),_r.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),_r.right.el.classList.add("translate-x-full","z-10")},Fe.prototype.cycle=function(){var _r=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){_r.next()},this._intervalDuration))},Fe.prototype.pause=function(){clearInterval(this._intervalInstance)},Fe.prototype._getActiveItem=function(){return this._activeItem},Fe.prototype._setActiveItem=function(_r){var $r,Br,Fr=this;this._activeItem=_r;var zr=_r.position;this._indicators.length&&(this._indicators.map(function(jr){var Ur,Gr;jr.el.setAttribute("aria-current","false"),(Ur=jr.el.classList).remove.apply(Ur,Fr._options.indicators.activeClasses.split(" ")),(Gr=jr.el.classList).add.apply(Gr,Fr._options.indicators.inactiveClasses.split(" "))}),($r=this._indicators[zr].el.classList).add.apply($r,this._options.indicators.activeClasses.split(" ")),(Br=this._indicators[zr].el.classList).remove.apply(Br,this._options.indicators.inactiveClasses.split(" ")),this._indicators[zr].el.setAttribute("aria-current","true"))},Fe}();function initCarousels(){document.querySelectorAll("[data-carousel]").forEach(function(Fe){var _r=Fe.getAttribute("data-carousel-interval"),$r=Fe.getAttribute("data-carousel")==="slide",Br=[],Fr=0;Fe.querySelectorAll("[data-carousel-item]").length&&Array.from(Fe.querySelectorAll("[data-carousel-item]")).map(function(Yr,Kr){Br.push({position:Kr,el:Yr}),Yr.getAttribute("data-carousel-item")==="active"&&(Fr=Kr)});var zr=[];Fe.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(Fe.querySelectorAll("[data-carousel-slide-to]")).map(function(Yr){zr.push({position:parseInt(Yr.getAttribute("data-carousel-slide-to")),el:Yr})});var jr=new Carousel(Br,{defaultPosition:Fr,indicators:{items:zr},interval:_r||Default$8.interval});$r&&jr.cycle();var Ur=Fe.querySelector("[data-carousel-next]"),Gr=Fe.querySelector("[data-carousel-prev]");Ur&&Ur.addEventListener("click",function(){jr.next()}),Gr&&Gr.addEventListener("click",function(){jr.prev()})})}typeof window<"u"&&(window.Carousel=Carousel,window.initCarousels=initCarousels);var __assign$7=globalThis&&globalThis.__assign||function(){return __assign$7=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$7.apply(this,arguments)},Default$7={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},Dismiss=function(){function Fe(_r,$r,Br){_r===void 0&&(_r=null),$r===void 0&&($r=null),Br===void 0&&(Br=Default$7),this._targetEl=_r,this._triggerEl=$r,this._options=__assign$7(__assign$7({},Default$7),Br),this._init()}return Fe.prototype._init=function(){var _r=this;this._triggerEl&&this._triggerEl.addEventListener("click",function(){_r.hide()})},Fe.prototype.hide=function(){var _r=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){_r._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},Fe}();function initDismisses(){document.querySelectorAll("[data-dismiss-target]").forEach(function(Fe){var _r=Fe.getAttribute("data-dismiss-target"),$r=document.querySelector(_r);$r?new Dismiss($r,Fe):console.error('The dismiss element with id "'.concat(_r,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=Dismiss,window.initDismisses=initDismisses);var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$2="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(Fe,_r){return Fe.concat([_r+"-"+start$2,_r+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(Fe,_r){return Fe.concat([_r,_r+"-"+start$2,_r+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(Fe){return Fe?(Fe.nodeName||"").toLowerCase():null}function getWindow(Fe){if(Fe==null)return window;if(Fe.toString()!=="[object Window]"){var _r=Fe.ownerDocument;return _r&&_r.defaultView||window}return Fe}function isElement(Fe){var _r=getWindow(Fe).Element;return Fe instanceof _r||Fe instanceof Element}function isHTMLElement(Fe){var _r=getWindow(Fe).HTMLElement;return Fe instanceof _r||Fe instanceof HTMLElement}function isShadowRoot(Fe){if(typeof ShadowRoot>"u")return!1;var _r=getWindow(Fe).ShadowRoot;return Fe instanceof _r||Fe instanceof ShadowRoot}function applyStyles(Fe){var _r=Fe.state;Object.keys(_r.elements).forEach(function($r){var Br=_r.styles[$r]||{},Fr=_r.attributes[$r]||{},zr=_r.elements[$r];!isHTMLElement(zr)||!getNodeName(zr)||(Object.assign(zr.style,Br),Object.keys(Fr).forEach(function(jr){var Ur=Fr[jr];Ur===!1?zr.removeAttribute(jr):zr.setAttribute(jr,Ur===!0?"":Ur)}))})}function effect$3(Fe){var _r=Fe.state,$r={popper:{position:_r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(_r.elements.popper.style,$r.popper),_r.styles=$r,_r.elements.arrow&&Object.assign(_r.elements.arrow.style,$r.arrow),function(){Object.keys(_r.elements).forEach(function(Br){var Fr=_r.elements[Br],zr=_r.attributes[Br]||{},jr=Object.keys(_r.styles.hasOwnProperty(Br)?_r.styles[Br]:$r[Br]),Ur=jr.reduce(function(Gr,Yr){return Gr[Yr]="",Gr},{});!isHTMLElement(Fr)||!getNodeName(Fr)||(Object.assign(Fr.style,Ur),Object.keys(zr).forEach(function(Gr){Fr.removeAttribute(Gr)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$3,requires:["computeStyles"]};function getBasePlacement(Fe){return Fe.split("-")[0]}var max$3=Math.max,min$3=Math.min,round$5=Math.round;function getUAString(){var Fe=navigator.userAgentData;return Fe!=null&&Fe.brands&&Array.isArray(Fe.brands)?Fe.brands.map(function(_r){return _r.brand+"/"+_r.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(Fe,_r,$r){_r===void 0&&(_r=!1),$r===void 0&&($r=!1);var Br=Fe.getBoundingClientRect(),Fr=1,zr=1;_r&&isHTMLElement(Fe)&&(Fr=Fe.offsetWidth>0&&round$5(Br.width)/Fe.offsetWidth||1,zr=Fe.offsetHeight>0&&round$5(Br.height)/Fe.offsetHeight||1);var jr=isElement(Fe)?getWindow(Fe):window,Ur=jr.visualViewport,Gr=!isLayoutViewport()&&$r,Yr=(Br.left+(Gr&&Ur?Ur.offsetLeft:0))/Fr,Kr=(Br.top+(Gr&&Ur?Ur.offsetTop:0))/zr,Qr=Br.width/Fr,Jr=Br.height/zr;return{width:Qr,height:Jr,top:Kr,right:Yr+Qr,bottom:Kr+Jr,left:Yr,x:Yr,y:Kr}}function getLayoutRect$1(Fe){var _r=getBoundingClientRect(Fe),$r=Fe.offsetWidth,Br=Fe.offsetHeight;return Math.abs(_r.width-$r)<=1&&($r=_r.width),Math.abs(_r.height-Br)<=1&&(Br=_r.height),{x:Fe.offsetLeft,y:Fe.offsetTop,width:$r,height:Br}}function contains(Fe,_r){var $r=_r.getRootNode&&_r.getRootNode();if(Fe.contains(_r))return!0;if($r&&isShadowRoot($r)){var Br=_r;do{if(Br&&Fe.isSameNode(Br))return!0;Br=Br.parentNode||Br.host}while(Br)}return!1}function getComputedStyle$2(Fe){return getWindow(Fe).getComputedStyle(Fe)}function isTableElement(Fe){return["table","td","th"].indexOf(getNodeName(Fe))>=0}function getDocumentElement(Fe){return((isElement(Fe)?Fe.ownerDocument:Fe.document)||window.document).documentElement}function getParentNode(Fe){return getNodeName(Fe)==="html"?Fe:Fe.assignedSlot||Fe.parentNode||(isShadowRoot(Fe)?Fe.host:null)||getDocumentElement(Fe)}function getTrueOffsetParent(Fe){return!isHTMLElement(Fe)||getComputedStyle$2(Fe).position==="fixed"?null:Fe.offsetParent}function getContainingBlock(Fe){var _r=/firefox/i.test(getUAString()),$r=/Trident/i.test(getUAString());if($r&&isHTMLElement(Fe)){var Br=getComputedStyle$2(Fe);if(Br.position==="fixed")return null}var Fr=getParentNode(Fe);for(isShadowRoot(Fr)&&(Fr=Fr.host);isHTMLElement(Fr)&&["html","body"].indexOf(getNodeName(Fr))<0;){var zr=getComputedStyle$2(Fr);if(zr.transform!=="none"||zr.perspective!=="none"||zr.contain==="paint"||["transform","perspective"].indexOf(zr.willChange)!==-1||_r&&zr.willChange==="filter"||_r&&zr.filter&&zr.filter!=="none")return Fr;Fr=Fr.parentNode}return null}function getOffsetParent(Fe){for(var _r=getWindow(Fe),$r=getTrueOffsetParent(Fe);$r&&isTableElement($r)&&getComputedStyle$2($r).position==="static";)$r=getTrueOffsetParent($r);return $r&&(getNodeName($r)==="html"||getNodeName($r)==="body"&&getComputedStyle$2($r).position==="static")?_r:$r||getContainingBlock(Fe)||_r}function getMainAxisFromPlacement(Fe){return["top","bottom"].indexOf(Fe)>=0?"x":"y"}function within(Fe,_r,$r){return max$3(Fe,min$3(_r,$r))}function withinMaxClamp(Fe,_r,$r){var Br=within(Fe,_r,$r);return Br>$r?$r:Br}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(Fe){return Object.assign({},getFreshSideObject(),Fe)}function expandToHashMap(Fe,_r){return _r.reduce(function($r,Br){return $r[Br]=Fe,$r},{})}var toPaddingObject=function(_r,$r){return _r=typeof _r=="function"?_r(Object.assign({},$r.rects,{placement:$r.placement})):_r,mergePaddingObject(typeof _r!="number"?_r:expandToHashMap(_r,basePlacements))};function arrow(Fe){var _r,$r=Fe.state,Br=Fe.name,Fr=Fe.options,zr=$r.elements.arrow,jr=$r.modifiersData.popperOffsets,Ur=getBasePlacement($r.placement),Gr=getMainAxisFromPlacement(Ur),Yr=[left,right].indexOf(Ur)>=0,Kr=Yr?"height":"width";if(!(!zr||!jr)){var Qr=toPaddingObject(Fr.padding,$r),Jr=getLayoutRect$1(zr),rn=Gr==="y"?top:left,an=Gr==="y"?bottom:right,ln=$r.rects.reference[Kr]+$r.rects.reference[Gr]-jr[Gr]-$r.rects.popper[Kr],dn=jr[Gr]-$r.rects.reference[Gr],hn=getOffsetParent(zr),gn=hn?Gr==="y"?hn.clientHeight||0:hn.clientWidth||0:0,bn=ln/2-dn/2,kn=Qr[rn],Sn=gn-Jr[Kr]-Qr[an],_n=gn/2-Jr[Kr]/2+bn,pn=within(kn,_n,Sn),Cn=Gr;$r.modifiersData[Br]=(_r={},_r[Cn]=pn,_r.centerOffset=pn-_n,_r)}}function effect$2(Fe){var _r=Fe.state,$r=Fe.options,Br=$r.element,Fr=Br===void 0?"[data-popper-arrow]":Br;Fr!=null&&(typeof Fr=="string"&&(Fr=_r.elements.popper.querySelector(Fr),!Fr)||contains(_r.elements.popper,Fr)&&(_r.elements.arrow=Fr))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(Fe){return Fe.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(Fe,_r){var $r=Fe.x,Br=Fe.y,Fr=_r.devicePixelRatio||1;return{x:round$5($r*Fr)/Fr||0,y:round$5(Br*Fr)/Fr||0}}function mapToStyles(Fe){var _r,$r=Fe.popper,Br=Fe.popperRect,Fr=Fe.placement,zr=Fe.variation,jr=Fe.offsets,Ur=Fe.position,Gr=Fe.gpuAcceleration,Yr=Fe.adaptive,Kr=Fe.roundOffsets,Qr=Fe.isFixed,Jr=jr.x,rn=Jr===void 0?0:Jr,an=jr.y,ln=an===void 0?0:an,dn=typeof Kr=="function"?Kr({x:rn,y:ln}):{x:rn,y:ln};rn=dn.x,ln=dn.y;var hn=jr.hasOwnProperty("x"),gn=jr.hasOwnProperty("y"),bn=left,kn=top,Sn=window;if(Yr){var _n=getOffsetParent($r),pn="clientHeight",Cn="clientWidth";if(_n===getWindow($r)&&(_n=getDocumentElement($r),getComputedStyle$2(_n).position!=="static"&&Ur==="absolute"&&(pn="scrollHeight",Cn="scrollWidth")),_n=_n,Fr===top||(Fr===left||Fr===right)&&zr===end$1){kn=bottom;var En=Qr&&_n===Sn&&Sn.visualViewport?Sn.visualViewport.height:_n[pn];ln-=En-Br.height,ln*=Gr?1:-1}if(Fr===left||(Fr===top||Fr===bottom)&&zr===end$1){bn=right;var Pn=Qr&&_n===Sn&&Sn.visualViewport?Sn.visualViewport.width:_n[Cn];rn-=Pn-Br.width,rn*=Gr?1:-1}}var On=Object.assign({position:Ur},Yr&&unsetSides),jn=Kr===!0?roundOffsetsByDPR({x:rn,y:ln},getWindow($r)):{x:rn,y:ln};if(rn=jn.x,ln=jn.y,Gr){var Fn;return Object.assign({},On,(Fn={},Fn[kn]=gn?"0":"",Fn[bn]=hn?"0":"",Fn.transform=(Sn.devicePixelRatio||1)<=1?"translate("+rn+"px, "+ln+"px)":"translate3d("+rn+"px, "+ln+"px, 0)",Fn))}return Object.assign({},On,(_r={},_r[kn]=gn?ln+"px":"",_r[bn]=hn?rn+"px":"",_r.transform="",_r))}function computeStyles(Fe){var _r=Fe.state,$r=Fe.options,Br=$r.gpuAcceleration,Fr=Br===void 0?!0:Br,zr=$r.adaptive,jr=zr===void 0?!0:zr,Ur=$r.roundOffsets,Gr=Ur===void 0?!0:Ur,Yr={placement:getBasePlacement(_r.placement),variation:getVariation(_r.placement),popper:_r.elements.popper,popperRect:_r.rects.popper,gpuAcceleration:Fr,isFixed:_r.options.strategy==="fixed"};_r.modifiersData.popperOffsets!=null&&(_r.styles.popper=Object.assign({},_r.styles.popper,mapToStyles(Object.assign({},Yr,{offsets:_r.modifiersData.popperOffsets,position:_r.options.strategy,adaptive:jr,roundOffsets:Gr})))),_r.modifiersData.arrow!=null&&(_r.styles.arrow=Object.assign({},_r.styles.arrow,mapToStyles(Object.assign({},Yr,{offsets:_r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Gr})))),_r.attributes.popper=Object.assign({},_r.attributes.popper,{"data-popper-placement":_r.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect$1(Fe){var _r=Fe.state,$r=Fe.instance,Br=Fe.options,Fr=Br.scroll,zr=Fr===void 0?!0:Fr,jr=Br.resize,Ur=jr===void 0?!0:jr,Gr=getWindow(_r.elements.popper),Yr=[].concat(_r.scrollParents.reference,_r.scrollParents.popper);return zr&&Yr.forEach(function(Kr){Kr.addEventListener("scroll",$r.update,passive)}),Ur&&Gr.addEventListener("resize",$r.update,passive),function(){zr&&Yr.forEach(function(Kr){Kr.removeEventListener("scroll",$r.update,passive)}),Ur&&Gr.removeEventListener("resize",$r.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect$1,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(Fe){return Fe.replace(/left|right|bottom|top/g,function(_r){return hash$1[_r]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(Fe){return Fe.replace(/start|end/g,function(_r){return hash[_r]})}function getWindowScroll(Fe){var _r=getWindow(Fe),$r=_r.pageXOffset,Br=_r.pageYOffset;return{scrollLeft:$r,scrollTop:Br}}function getWindowScrollBarX(Fe){return getBoundingClientRect(getDocumentElement(Fe)).left+getWindowScroll(Fe).scrollLeft}function getViewportRect(Fe,_r){var $r=getWindow(Fe),Br=getDocumentElement(Fe),Fr=$r.visualViewport,zr=Br.clientWidth,jr=Br.clientHeight,Ur=0,Gr=0;if(Fr){zr=Fr.width,jr=Fr.height;var Yr=isLayoutViewport();(Yr||!Yr&&_r==="fixed")&&(Ur=Fr.offsetLeft,Gr=Fr.offsetTop)}return{width:zr,height:jr,x:Ur+getWindowScrollBarX(Fe),y:Gr}}function getDocumentRect(Fe){var _r,$r=getDocumentElement(Fe),Br=getWindowScroll(Fe),Fr=(_r=Fe.ownerDocument)==null?void 0:_r.body,zr=max$3($r.scrollWidth,$r.clientWidth,Fr?Fr.scrollWidth:0,Fr?Fr.clientWidth:0),jr=max$3($r.scrollHeight,$r.clientHeight,Fr?Fr.scrollHeight:0,Fr?Fr.clientHeight:0),Ur=-Br.scrollLeft+getWindowScrollBarX(Fe),Gr=-Br.scrollTop;return getComputedStyle$2(Fr||$r).direction==="rtl"&&(Ur+=max$3($r.clientWidth,Fr?Fr.clientWidth:0)-zr),{width:zr,height:jr,x:Ur,y:Gr}}function isScrollParent(Fe){var _r=getComputedStyle$2(Fe),$r=_r.overflow,Br=_r.overflowX,Fr=_r.overflowY;return/auto|scroll|overlay|hidden/.test($r+Fr+Br)}function getScrollParent(Fe){return["html","body","#document"].indexOf(getNodeName(Fe))>=0?Fe.ownerDocument.body:isHTMLElement(Fe)&&isScrollParent(Fe)?Fe:getScrollParent(getParentNode(Fe))}function listScrollParents(Fe,_r){var $r;_r===void 0&&(_r=[]);var Br=getScrollParent(Fe),Fr=Br===(($r=Fe.ownerDocument)==null?void 0:$r.body),zr=getWindow(Br),jr=Fr?[zr].concat(zr.visualViewport||[],isScrollParent(Br)?Br:[]):Br,Ur=_r.concat(jr);return Fr?Ur:Ur.concat(listScrollParents(getParentNode(jr)))}function rectToClientRect(Fe){return Object.assign({},Fe,{left:Fe.x,top:Fe.y,right:Fe.x+Fe.width,bottom:Fe.y+Fe.height})}function getInnerBoundingClientRect(Fe,_r){var $r=getBoundingClientRect(Fe,!1,_r==="fixed");return $r.top=$r.top+Fe.clientTop,$r.left=$r.left+Fe.clientLeft,$r.bottom=$r.top+Fe.clientHeight,$r.right=$r.left+Fe.clientWidth,$r.width=Fe.clientWidth,$r.height=Fe.clientHeight,$r.x=$r.left,$r.y=$r.top,$r}function getClientRectFromMixedType(Fe,_r,$r){return _r===viewport?rectToClientRect(getViewportRect(Fe,$r)):isElement(_r)?getInnerBoundingClientRect(_r,$r):rectToClientRect(getDocumentRect(getDocumentElement(Fe)))}function getClippingParents(Fe){var _r=listScrollParents(getParentNode(Fe)),$r=["absolute","fixed"].indexOf(getComputedStyle$2(Fe).position)>=0,Br=$r&&isHTMLElement(Fe)?getOffsetParent(Fe):Fe;return isElement(Br)?_r.filter(function(Fr){return isElement(Fr)&&contains(Fr,Br)&&getNodeName(Fr)!=="body"}):[]}function getClippingRect(Fe,_r,$r,Br){var Fr=_r==="clippingParents"?getClippingParents(Fe):[].concat(_r),zr=[].concat(Fr,[$r]),jr=zr[0],Ur=zr.reduce(function(Gr,Yr){var Kr=getClientRectFromMixedType(Fe,Yr,Br);return Gr.top=max$3(Kr.top,Gr.top),Gr.right=min$3(Kr.right,Gr.right),Gr.bottom=min$3(Kr.bottom,Gr.bottom),Gr.left=max$3(Kr.left,Gr.left),Gr},getClientRectFromMixedType(Fe,jr,Br));return Ur.width=Ur.right-Ur.left,Ur.height=Ur.bottom-Ur.top,Ur.x=Ur.left,Ur.y=Ur.top,Ur}function computeOffsets(Fe){var _r=Fe.reference,$r=Fe.element,Br=Fe.placement,Fr=Br?getBasePlacement(Br):null,zr=Br?getVariation(Br):null,jr=_r.x+_r.width/2-$r.width/2,Ur=_r.y+_r.height/2-$r.height/2,Gr;switch(Fr){case top:Gr={x:jr,y:_r.y-$r.height};break;case bottom:Gr={x:jr,y:_r.y+_r.height};break;case right:Gr={x:_r.x+_r.width,y:Ur};break;case left:Gr={x:_r.x-$r.width,y:Ur};break;default:Gr={x:_r.x,y:_r.y}}var Yr=Fr?getMainAxisFromPlacement(Fr):null;if(Yr!=null){var Kr=Yr==="y"?"height":"width";switch(zr){case start$2:Gr[Yr]=Gr[Yr]-(_r[Kr]/2-$r[Kr]/2);break;case end$1:Gr[Yr]=Gr[Yr]+(_r[Kr]/2-$r[Kr]/2);break}}return Gr}function detectOverflow(Fe,_r){_r===void 0&&(_r={});var $r=_r,Br=$r.placement,Fr=Br===void 0?Fe.placement:Br,zr=$r.strategy,jr=zr===void 0?Fe.strategy:zr,Ur=$r.boundary,Gr=Ur===void 0?clippingParents:Ur,Yr=$r.rootBoundary,Kr=Yr===void 0?viewport:Yr,Qr=$r.elementContext,Jr=Qr===void 0?popper:Qr,rn=$r.altBoundary,an=rn===void 0?!1:rn,ln=$r.padding,dn=ln===void 0?0:ln,hn=mergePaddingObject(typeof dn!="number"?dn:expandToHashMap(dn,basePlacements)),gn=Jr===popper?reference:popper,bn=Fe.rects.popper,kn=Fe.elements[an?gn:Jr],Sn=getClippingRect(isElement(kn)?kn:kn.contextElement||getDocumentElement(Fe.elements.popper),Gr,Kr,jr),_n=getBoundingClientRect(Fe.elements.reference),pn=computeOffsets({reference:_n,element:bn,strategy:"absolute",placement:Fr}),Cn=rectToClientRect(Object.assign({},bn,pn)),En=Jr===popper?Cn:_n,Pn={top:Sn.top-En.top+hn.top,bottom:En.bottom-Sn.bottom+hn.bottom,left:Sn.left-En.left+hn.left,right:En.right-Sn.right+hn.right},On=Fe.modifiersData.offset;if(Jr===popper&&On){var jn=On[Fr];Object.keys(Pn).forEach(function(Fn){var Wn=[right,bottom].indexOf(Fn)>=0?1:-1,Hn=[top,bottom].indexOf(Fn)>=0?"y":"x";Pn[Fn]+=jn[Hn]*Wn})}return Pn}function computeAutoPlacement(Fe,_r){_r===void 0&&(_r={});var $r=_r,Br=$r.placement,Fr=$r.boundary,zr=$r.rootBoundary,jr=$r.padding,Ur=$r.flipVariations,Gr=$r.allowedAutoPlacements,Yr=Gr===void 0?placements:Gr,Kr=getVariation(Br),Qr=Kr?Ur?variationPlacements:variationPlacements.filter(function(an){return getVariation(an)===Kr}):basePlacements,Jr=Qr.filter(function(an){return Yr.indexOf(an)>=0});Jr.length===0&&(Jr=Qr);var rn=Jr.reduce(function(an,ln){return an[ln]=detectOverflow(Fe,{placement:ln,boundary:Fr,rootBoundary:zr,padding:jr})[getBasePlacement(ln)],an},{});return Object.keys(rn).sort(function(an,ln){return rn[an]-rn[ln]})}function getExpandedFallbackPlacements(Fe){if(getBasePlacement(Fe)===auto)return[];var _r=getOppositePlacement(Fe);return[getOppositeVariationPlacement(Fe),_r,getOppositeVariationPlacement(_r)]}function flip(Fe){var _r=Fe.state,$r=Fe.options,Br=Fe.name;if(!_r.modifiersData[Br]._skip){for(var Fr=$r.mainAxis,zr=Fr===void 0?!0:Fr,jr=$r.altAxis,Ur=jr===void 0?!0:jr,Gr=$r.fallbackPlacements,Yr=$r.padding,Kr=$r.boundary,Qr=$r.rootBoundary,Jr=$r.altBoundary,rn=$r.flipVariations,an=rn===void 0?!0:rn,ln=$r.allowedAutoPlacements,dn=_r.options.placement,hn=getBasePlacement(dn),gn=hn===dn,bn=Gr||(gn||!an?[getOppositePlacement(dn)]:getExpandedFallbackPlacements(dn)),kn=[dn].concat(bn).reduce(function(ui,Ni){return ui.concat(getBasePlacement(Ni)===auto?computeAutoPlacement(_r,{placement:Ni,boundary:Kr,rootBoundary:Qr,padding:Yr,flipVariations:an,allowedAutoPlacements:ln}):Ni)},[]),Sn=_r.rects.reference,_n=_r.rects.popper,pn=new Map,Cn=!0,En=kn[0],Pn=0;Pn<kn.length;Pn++){var On=kn[Pn],jn=getBasePlacement(On),Fn=getVariation(On)===start$2,Wn=[top,bottom].indexOf(jn)>=0,Hn=Wn?"width":"height",qn=detectOverflow(_r,{placement:On,boundary:Kr,rootBoundary:Qr,altBoundary:Jr,padding:Yr}),ni=Wn?Fn?right:left:Fn?bottom:top;Sn[Hn]>_n[Hn]&&(ni=getOppositePlacement(ni));var oi=getOppositePlacement(ni),wi=[];if(zr&&wi.push(qn[jn]<=0),Ur&&wi.push(qn[ni]<=0,qn[oi]<=0),wi.every(function(ui){return ui})){En=On,Cn=!1;break}pn.set(On,wi)}if(Cn)for(var Ci=an?3:1,Fi=function(Ni){var $i=kn.find(function(Vi){var ji=pn.get(Vi);if(ji)return ji.slice(0,Ni).every(function(lo){return lo})});if($i)return En=$i,"break"},Zn=Ci;Zn>0;Zn--){var Gn=Fi(Zn);if(Gn==="break")break}_r.placement!==En&&(_r.modifiersData[Br]._skip=!0,_r.placement=En,_r.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(Fe,_r,$r){return $r===void 0&&($r={x:0,y:0}),{top:Fe.top-_r.height-$r.y,right:Fe.right-_r.width+$r.x,bottom:Fe.bottom-_r.height+$r.y,left:Fe.left-_r.width-$r.x}}function isAnySideFullyClipped(Fe){return[top,right,bottom,left].some(function(_r){return Fe[_r]>=0})}function hide(Fe){var _r=Fe.state,$r=Fe.name,Br=_r.rects.reference,Fr=_r.rects.popper,zr=_r.modifiersData.preventOverflow,jr=detectOverflow(_r,{elementContext:"reference"}),Ur=detectOverflow(_r,{altBoundary:!0}),Gr=getSideOffsets(jr,Br),Yr=getSideOffsets(Ur,Fr,zr),Kr=isAnySideFullyClipped(Gr),Qr=isAnySideFullyClipped(Yr);_r.modifiersData[$r]={referenceClippingOffsets:Gr,popperEscapeOffsets:Yr,isReferenceHidden:Kr,hasPopperEscaped:Qr},_r.attributes.popper=Object.assign({},_r.attributes.popper,{"data-popper-reference-hidden":Kr,"data-popper-escaped":Qr})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(Fe,_r,$r){var Br=getBasePlacement(Fe),Fr=[left,top].indexOf(Br)>=0?-1:1,zr=typeof $r=="function"?$r(Object.assign({},_r,{placement:Fe})):$r,jr=zr[0],Ur=zr[1];return jr=jr||0,Ur=(Ur||0)*Fr,[left,right].indexOf(Br)>=0?{x:Ur,y:jr}:{x:jr,y:Ur}}function offset$1(Fe){var _r=Fe.state,$r=Fe.options,Br=Fe.name,Fr=$r.offset,zr=Fr===void 0?[0,0]:Fr,jr=placements.reduce(function(Kr,Qr){return Kr[Qr]=distanceAndSkiddingToXY(Qr,_r.rects,zr),Kr},{}),Ur=jr[_r.placement],Gr=Ur.x,Yr=Ur.y;_r.modifiersData.popperOffsets!=null&&(_r.modifiersData.popperOffsets.x+=Gr,_r.modifiersData.popperOffsets.y+=Yr),_r.modifiersData[Br]=jr}const offset$2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$1};function popperOffsets(Fe){var _r=Fe.state,$r=Fe.name;_r.modifiersData[$r]=computeOffsets({reference:_r.rects.reference,element:_r.rects.popper,strategy:"absolute",placement:_r.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(Fe){return Fe==="x"?"y":"x"}function preventOverflow(Fe){var _r=Fe.state,$r=Fe.options,Br=Fe.name,Fr=$r.mainAxis,zr=Fr===void 0?!0:Fr,jr=$r.altAxis,Ur=jr===void 0?!1:jr,Gr=$r.boundary,Yr=$r.rootBoundary,Kr=$r.altBoundary,Qr=$r.padding,Jr=$r.tether,rn=Jr===void 0?!0:Jr,an=$r.tetherOffset,ln=an===void 0?0:an,dn=detectOverflow(_r,{boundary:Gr,rootBoundary:Yr,padding:Qr,altBoundary:Kr}),hn=getBasePlacement(_r.placement),gn=getVariation(_r.placement),bn=!gn,kn=getMainAxisFromPlacement(hn),Sn=getAltAxis(kn),_n=_r.modifiersData.popperOffsets,pn=_r.rects.reference,Cn=_r.rects.popper,En=typeof ln=="function"?ln(Object.assign({},_r.rects,{placement:_r.placement})):ln,Pn=typeof En=="number"?{mainAxis:En,altAxis:En}:Object.assign({mainAxis:0,altAxis:0},En),On=_r.modifiersData.offset?_r.modifiersData.offset[_r.placement]:null,jn={x:0,y:0};if(_n){if(zr){var Fn,Wn=kn==="y"?top:left,Hn=kn==="y"?bottom:right,qn=kn==="y"?"height":"width",ni=_n[kn],oi=ni+dn[Wn],wi=ni-dn[Hn],Ci=rn?-Cn[qn]/2:0,Fi=gn===start$2?pn[qn]:Cn[qn],Zn=gn===start$2?-Cn[qn]:-pn[qn],Gn=_r.elements.arrow,ui=rn&&Gn?getLayoutRect$1(Gn):{width:0,height:0},Ni=_r.modifiersData["arrow#persistent"]?_r.modifiersData["arrow#persistent"].padding:getFreshSideObject(),$i=Ni[Wn],Vi=Ni[Hn],ji=within(0,pn[qn],ui[qn]),lo=bn?pn[qn]/2-Ci-ji-$i-Pn.mainAxis:Fi-ji-$i-Pn.mainAxis,ho=bn?-pn[qn]/2+Ci+ji+Vi+Pn.mainAxis:Zn+ji+Vi+Pn.mainAxis,so=_r.elements.arrow&&getOffsetParent(_r.elements.arrow),Ki=so?kn==="y"?so.clientTop||0:so.clientLeft||0:0,Ho=(Fn=On==null?void 0:On[kn])!=null?Fn:0,Io=ni+lo-Ho-Ki,Ji=ni+ho-Ho,Yo=within(rn?min$3(oi,Io):oi,ni,rn?max$3(wi,Ji):wi);_n[kn]=Yo,jn[kn]=Yo-ni}if(Ur){var qo,xo=kn==="x"?top:left,ka=kn==="x"?bottom:right,Ua=_n[Sn],$a=Sn==="y"?"height":"width",Ya=Ua+dn[xo],Aa=Ua-dn[ka],Ei=[top,left].indexOf(hn)!==-1,hi=(qo=On==null?void 0:On[Sn])!=null?qo:0,Ai=Ei?Ya:Ua-pn[$a]-Cn[$a]-hi+Pn.altAxis,ri=Ei?Ua+pn[$a]+Cn[$a]-hi-Pn.altAxis:Aa,ai=rn&&Ei?withinMaxClamp(Ai,Ua,ri):within(rn?Ai:Ya,Ua,rn?ri:Aa);_n[Sn]=ai,jn[Sn]=ai-Ua}_r.modifiersData[Br]=jn}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(Fe){return{scrollLeft:Fe.scrollLeft,scrollTop:Fe.scrollTop}}function getNodeScroll(Fe){return Fe===getWindow(Fe)||!isHTMLElement(Fe)?getWindowScroll(Fe):getHTMLElementScroll(Fe)}function isElementScaled(Fe){var _r=Fe.getBoundingClientRect(),$r=round$5(_r.width)/Fe.offsetWidth||1,Br=round$5(_r.height)/Fe.offsetHeight||1;return $r!==1||Br!==1}function getCompositeRect(Fe,_r,$r){$r===void 0&&($r=!1);var Br=isHTMLElement(_r),Fr=isHTMLElement(_r)&&isElementScaled(_r),zr=getDocumentElement(_r),jr=getBoundingClientRect(Fe,Fr,$r),Ur={scrollLeft:0,scrollTop:0},Gr={x:0,y:0};return(Br||!Br&&!$r)&&((getNodeName(_r)!=="body"||isScrollParent(zr))&&(Ur=getNodeScroll(_r)),isHTMLElement(_r)?(Gr=getBoundingClientRect(_r,!0),Gr.x+=_r.clientLeft,Gr.y+=_r.clientTop):zr&&(Gr.x=getWindowScrollBarX(zr))),{x:jr.left+Ur.scrollLeft-Gr.x,y:jr.top+Ur.scrollTop-Gr.y,width:jr.width,height:jr.height}}function order(Fe){var _r=new Map,$r=new Set,Br=[];Fe.forEach(function(zr){_r.set(zr.name,zr)});function Fr(zr){$r.add(zr.name);var jr=[].concat(zr.requires||[],zr.requiresIfExists||[]);jr.forEach(function(Ur){if(!$r.has(Ur)){var Gr=_r.get(Ur);Gr&&Fr(Gr)}}),Br.push(zr)}return Fe.forEach(function(zr){$r.has(zr.name)||Fr(zr)}),Br}function orderModifiers(Fe){var _r=order(Fe);return modifierPhases.reduce(function($r,Br){return $r.concat(_r.filter(function(Fr){return Fr.phase===Br}))},[])}function debounce$1(Fe){var _r;return function(){return _r||(_r=new Promise(function($r){Promise.resolve().then(function(){_r=void 0,$r(Fe())})})),_r}}function mergeByName(Fe){var _r=Fe.reduce(function($r,Br){var Fr=$r[Br.name];return $r[Br.name]=Fr?Object.assign({},Fr,Br,{options:Object.assign({},Fr.options,Br.options),data:Object.assign({},Fr.data,Br.data)}):Br,$r},{});return Object.keys(_r).map(function($r){return _r[$r]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var Fe=arguments.length,_r=new Array(Fe),$r=0;$r<Fe;$r++)_r[$r]=arguments[$r];return!_r.some(function(Br){return!(Br&&typeof Br.getBoundingClientRect=="function")})}function popperGenerator(Fe){Fe===void 0&&(Fe={});var _r=Fe,$r=_r.defaultModifiers,Br=$r===void 0?[]:$r,Fr=_r.defaultOptions,zr=Fr===void 0?DEFAULT_OPTIONS:Fr;return function(Ur,Gr,Yr){Yr===void 0&&(Yr=zr);var Kr={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,zr),modifiersData:{},elements:{reference:Ur,popper:Gr},attributes:{},styles:{}},Qr=[],Jr=!1,rn={state:Kr,setOptions:function(hn){var gn=typeof hn=="function"?hn(Kr.options):hn;ln(),Kr.options=Object.assign({},zr,Kr.options,gn),Kr.scrollParents={reference:isElement(Ur)?listScrollParents(Ur):Ur.contextElement?listScrollParents(Ur.contextElement):[],popper:listScrollParents(Gr)};var bn=orderModifiers(mergeByName([].concat(Br,Kr.options.modifiers)));return Kr.orderedModifiers=bn.filter(function(kn){return kn.enabled}),an(),rn.update()},forceUpdate:function(){if(!Jr){var hn=Kr.elements,gn=hn.reference,bn=hn.popper;if(areValidElements(gn,bn)){Kr.rects={reference:getCompositeRect(gn,getOffsetParent(bn),Kr.options.strategy==="fixed"),popper:getLayoutRect$1(bn)},Kr.reset=!1,Kr.placement=Kr.options.placement,Kr.orderedModifiers.forEach(function(Pn){return Kr.modifiersData[Pn.name]=Object.assign({},Pn.data)});for(var kn=0;kn<Kr.orderedModifiers.length;kn++){if(Kr.reset===!0){Kr.reset=!1,kn=-1;continue}var Sn=Kr.orderedModifiers[kn],_n=Sn.fn,pn=Sn.options,Cn=pn===void 0?{}:pn,En=Sn.name;typeof _n=="function"&&(Kr=_n({state:Kr,options:Cn,name:En,instance:rn})||Kr)}}}},update:debounce$1(function(){return new Promise(function(dn){rn.forceUpdate(),dn(Kr)})}),destroy:function(){ln(),Jr=!0}};if(!areValidElements(Ur,Gr))return rn;rn.setOptions(Yr).then(function(dn){!Jr&&Yr.onFirstUpdate&&Yr.onFirstUpdate(dn)});function an(){Kr.orderedModifiers.forEach(function(dn){var hn=dn.name,gn=dn.options,bn=gn===void 0?{}:gn,kn=dn.effect;if(typeof kn=="function"){var Sn=kn({state:Kr,name:hn,instance:rn,options:bn}),_n=function(){};Qr.push(Sn||_n)}})}function ln(){Qr.forEach(function(dn){return dn()}),Qr=[]}return rn}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$2,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),__assign$6=globalThis&&globalThis.__assign||function(){return __assign$6=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$6.apply(this,arguments)},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(Fe,_r,$r){if($r||arguments.length===2)for(var Br=0,Fr=_r.length,zr;Br<Fr;Br++)(zr||!(Br in _r))&&(zr||(zr=Array.prototype.slice.call(_r,0,Br)),zr[Br]=_r[Br]);return Fe.concat(zr||Array.prototype.slice.call(_r))},Default$6={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},Dropdown=function(){function Fe(_r,$r,Br){_r===void 0&&(_r=null),$r===void 0&&($r=null),Br===void 0&&(Br=Default$6),this._targetEl=_r,this._triggerEl=$r,this._options=__assign$6(__assign$6({},Default$6),Br),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return Fe.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},Fe.prototype._setupEventListeners=function(){var _r=this,$r=this._getTriggerEvents();this._options.triggerType==="click"&&$r.showEvents.forEach(function(Br){_r._triggerEl.addEventListener(Br,function(){_r.toggle()})}),this._options.triggerType==="hover"&&($r.showEvents.forEach(function(Br){_r._triggerEl.addEventListener(Br,function(){Br==="click"?_r.toggle():setTimeout(function(){_r.show()},_r._options.delay)}),_r._targetEl.addEventListener(Br,function(){_r.show()})}),$r.hideEvents.forEach(function(Br){_r._triggerEl.addEventListener(Br,function(){setTimeout(function(){_r._targetEl.matches(":hover")||_r.hide()},_r._options.delay)}),_r._targetEl.addEventListener(Br,function(){setTimeout(function(){_r._triggerEl.matches(":hover")||_r.hide()},_r._options.delay)})}))},Fe.prototype._createPopperInstance=function(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},Fe.prototype._setupClickOutsideListener=function(){var _r=this;this._clickOutsideEventListener=function($r){_r._handleClickOutside($r,_r._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._handleClickOutside=function(_r,$r){var Br=_r.target,Fr=this._options.ignoreClickOutsideClass,zr=!1;if(Fr){var jr=document.querySelectorAll(".".concat(Fr));jr.forEach(function(Ur){if(Ur.contains(Br)){zr=!0;return}})}Br!==$r&&!$r.contains(Br)&&!this._triggerEl.contains(Br)&&!zr&&this.isVisible()&&this.hide()},Fe.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},Fe.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},Fe.prototype.isVisible=function(){return this._visible},Fe.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(_r){return __assign$6(__assign$6({},_r),{modifiers:__spreadArray$2(__spreadArray$2([],_r.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},Fe.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(_r){return __assign$6(__assign$6({},_r),{modifiers:__spreadArray$2(__spreadArray$2([],_r.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},Fe}();function initDropdowns(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(Fe){var _r=Fe.getAttribute("data-dropdown-toggle"),$r=document.getElementById(_r);if($r){var Br=Fe.getAttribute("data-dropdown-placement"),Fr=Fe.getAttribute("data-dropdown-offset-skidding"),zr=Fe.getAttribute("data-dropdown-offset-distance"),jr=Fe.getAttribute("data-dropdown-trigger"),Ur=Fe.getAttribute("data-dropdown-delay"),Gr=Fe.getAttribute("data-dropdown-ignore-click-outside-class");new Dropdown($r,Fe,{placement:Br||Default$6.placement,triggerType:jr||Default$6.triggerType,offsetSkidding:Fr?parseInt(Fr):Default$6.offsetSkidding,offsetDistance:zr?parseInt(zr):Default$6.offsetDistance,delay:Ur?parseInt(Ur):Default$6.delay,ignoreClickOutsideClass:Gr||Default$6.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(_r,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=Dropdown,window.initDropdowns=initDropdowns);var __assign$5=globalThis&&globalThis.__assign||function(){return __assign$5=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$5.apply(this,arguments)},Default$5={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},Modal=function(){function Fe(_r,$r){_r===void 0&&(_r=null),$r===void 0&&($r=Default$5),this._targetEl=_r,this._options=__assign$5(__assign$5({},Default$5),$r),this._isHidden=!0,this._backdropEl=null,this._init()}return Fe.prototype._init=function(){var _r=this;this._targetEl&&this._getPlacementClasses().map(function($r){_r._targetEl.classList.add($r)})},Fe.prototype._createBackdrop=function(){var _r;if(this._isHidden){var $r=document.createElement("div");$r.setAttribute("modal-backdrop",""),(_r=$r.classList).add.apply(_r,this._options.backdropClasses.split(" ")),document.querySelector("body").append($r),this._backdropEl=$r}},Fe.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},Fe.prototype._setupModalCloseEventListeners=function(){var _r=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function($r){_r._handleOutsideClick($r.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function($r){$r.key==="Escape"&&_r.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._handleOutsideClick=function(_r){(_r===this._targetEl||_r===this._backdropEl&&this.isVisible())&&this.hide()},Fe.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},Fe.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},Fe.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.closable&&this._setupModalCloseEventListeners(),this._options.onShow(this))},Fe.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},Fe.prototype.isVisible=function(){return!this._isHidden},Fe.prototype.isHidden=function(){return this._isHidden},Fe}(),getModalInstance=function(Fe,_r){return _r.some(function($r){return $r.id===Fe})?_r.find(function($r){return $r.id===Fe}):null};function initModals(){var Fe=[];document.querySelectorAll("[data-modal-target]").forEach(function(_r){var $r=_r.getAttribute("data-modal-target"),Br=document.getElementById($r);if(Br){var Fr=Br.getAttribute("data-modal-placement"),zr=Br.getAttribute("data-modal-backdrop");getModalInstance($r,Fe)||Fe.push({id:$r,object:new Modal(Br,{placement:Fr||Default$5.placement,backdrop:zr||Default$5.backdrop})})}else console.error("Modal with id ".concat($r," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(_r){var $r=_r.getAttribute("data-modal-toggle"),Br=document.getElementById($r);if(Br){var Fr=Br.getAttribute("data-modal-placement"),zr=Br.getAttribute("data-modal-backdrop"),jr=getModalInstance($r,Fe);jr||(jr={id:$r,object:new Modal(Br,{placement:Fr||Default$5.placement,backdrop:zr||Default$5.backdrop})},Fe.push(jr)),_r.addEventListener("click",function(){jr.object.toggle()})}else console.error("Modal with id ".concat($r," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(_r){var $r=_r.getAttribute("data-modal-show"),Br=document.getElementById($r);if(Br){var Fr=getModalInstance($r,Fe);Fr?_r.addEventListener("click",function(){Fr.object.isHidden&&Fr.object.show()}):console.error("Modal with id ".concat($r," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat($r," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(_r){var $r=_r.getAttribute("data-modal-hide"),Br=document.getElementById($r);if(Br){var Fr=getModalInstance($r,Fe);Fr?_r.addEventListener("click",function(){Fr.object.isVisible&&Fr.object.hide()}):console.error("Modal with id ".concat($r," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat($r," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=Modal,window.initModals=initModals);var __assign$4=globalThis&&globalThis.__assign||function(){return __assign$4=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$4.apply(this,arguments)},Default$4={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},Drawer=function(){function Fe(_r,$r){_r===void 0&&(_r=null),$r===void 0&&($r=Default$4),this._targetEl=_r,this._options=__assign$4(__assign$4({},Default$4),$r),this._visible=!1,this._init()}return Fe.prototype._init=function(){var _r=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map(function($r){_r._targetEl.classList.add($r)}),document.addEventListener("keydown",function($r){$r.key==="Escape"&&_r.isVisible()&&_r.hide()})},Fe.prototype.hide=function(){var _r=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function($r){_r._targetEl.classList.remove($r)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function($r){_r._targetEl.classList.add($r)})):(this._getPlacementClasses(this._options.placement).active.map(function($r){_r._targetEl.classList.remove($r)}),this._getPlacementClasses(this._options.placement).inactive.map(function($r){_r._targetEl.classList.add($r)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},Fe.prototype.show=function(){var _r=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function($r){_r._targetEl.classList.add($r)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function($r){_r._targetEl.classList.remove($r)})):(this._getPlacementClasses(this._options.placement).active.map(function($r){_r._targetEl.classList.add($r)}),this._getPlacementClasses(this._options.placement).inactive.map(function($r){_r._targetEl.classList.remove($r)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},Fe.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},Fe.prototype._createBackdrop=function(){var _r,$r=this;if(!this._visible){var Br=document.createElement("div");Br.setAttribute("drawer-backdrop",""),(_r=Br.classList).add.apply(_r,this._options.backdropClasses.split(" ")),document.querySelector("body").append(Br),Br.addEventListener("click",function(){$r.hide()})}},Fe.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},Fe.prototype._getPlacementClasses=function(_r){switch(_r){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},Fe.prototype.isHidden=function(){return!this._visible},Fe.prototype.isVisible=function(){return this._visible},Fe}(),getDrawerInstance=function(Fe,_r){if(_r.some(function($r){return $r.id===Fe}))return _r.find(function($r){return $r.id===Fe})};function initDrawers(){var Fe=[];document.querySelectorAll("[data-drawer-target]").forEach(function(_r){var $r=_r.getAttribute("data-drawer-target"),Br=document.getElementById($r);if(Br){var Fr=_r.getAttribute("data-drawer-placement"),zr=_r.getAttribute("data-drawer-body-scrolling"),jr=_r.getAttribute("data-drawer-backdrop"),Ur=_r.getAttribute("data-drawer-edge"),Gr=_r.getAttribute("data-drawer-edge-offset");getDrawerInstance($r,Fe)||Fe.push({id:$r,object:new Drawer(Br,{placement:Fr||Default$4.placement,bodyScrolling:zr?zr==="true":Default$4.bodyScrolling,backdrop:jr?jr==="true":Default$4.backdrop,edge:Ur?Ur==="true":Default$4.edge,edgeOffset:Gr||Default$4.edgeOffset})})}else console.error("Drawer with id ".concat($r," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(_r){var $r=_r.getAttribute("data-drawer-toggle"),Br=document.getElementById($r);if(Br){var Fr=getDrawerInstance($r,Fe);Fr?_r.addEventListener("click",function(){Fr.object.toggle()}):console.error("Drawer with id ".concat($r," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat($r," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(_r){var $r=_r.getAttribute("data-drawer-dismiss")?_r.getAttribute("data-drawer-dismiss"):_r.getAttribute("data-drawer-hide"),Br=document.getElementById($r);if(Br){var Fr=getDrawerInstance($r,Fe);Fr?_r.addEventListener("click",function(){Fr.object.hide()}):console.error("Drawer with id ".concat($r," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat($r," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(_r){var $r=_r.getAttribute("data-drawer-show"),Br=document.getElementById($r);if(Br){var Fr=getDrawerInstance($r,Fe);Fr?_r.addEventListener("click",function(){Fr.object.show()}):console.error("Drawer with id ".concat($r," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat($r," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=Drawer,window.initDrawers=initDrawers);var __assign$3=globalThis&&globalThis.__assign||function(){return __assign$3=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$3.apply(this,arguments)},Default$3={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},Tabs=function(){function Fe(_r,$r){_r===void 0&&(_r=[]),$r===void 0&&($r=Default$3),this._items=_r,this._activeTab=$r?this.getTab($r.defaultTabId):null,this._options=__assign$3(__assign$3({},Default$3),$r),this._init()}return Fe.prototype._init=function(){var _r=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function($r){$r.triggerEl.addEventListener("click",function(){_r.show($r.id)})}))},Fe.prototype.getActiveTab=function(){return this._activeTab},Fe.prototype._setActiveTab=function(_r){this._activeTab=_r},Fe.prototype.getTab=function(_r){return this._items.filter(function($r){return $r.id===_r})[0]},Fe.prototype.show=function(_r,$r){var Br,Fr,zr=this;$r===void 0&&($r=!1);var jr=this.getTab(_r);jr===this._activeTab&&!$r||(this._items.map(function(Ur){var Gr,Yr;Ur!==jr&&((Gr=Ur.triggerEl.classList).remove.apply(Gr,zr._options.activeClasses.split(" ")),(Yr=Ur.triggerEl.classList).add.apply(Yr,zr._options.inactiveClasses.split(" ")),Ur.targetEl.classList.add("hidden"),Ur.triggerEl.setAttribute("aria-selected","false"))}),(Br=jr.triggerEl.classList).add.apply(Br,this._options.activeClasses.split(" ")),(Fr=jr.triggerEl.classList).remove.apply(Fr,this._options.inactiveClasses.split(" ")),jr.triggerEl.setAttribute("aria-selected","true"),jr.targetEl.classList.remove("hidden"),this._setActiveTab(jr),this._options.onShow(this,jr))},Fe}();function initTabs(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(Fe){var _r=[],$r=null;Fe.querySelectorAll('[role="tab"]').forEach(function(Br){var Fr=Br.getAttribute("aria-selected")==="true",zr={id:Br.getAttribute("data-tabs-target"),triggerEl:Br,targetEl:document.querySelector(Br.getAttribute("data-tabs-target"))};_r.push(zr),Fr&&($r=zr.id)}),new Tabs(_r,{defaultTabId:$r})})}typeof window<"u"&&(window.Tabs=Tabs,window.initTabs=initTabs);var __assign$2=globalThis&&globalThis.__assign||function(){return __assign$2=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$2.apply(this,arguments)},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(Fe,_r,$r){if($r||arguments.length===2)for(var Br=0,Fr=_r.length,zr;Br<Fr;Br++)(zr||!(Br in _r))&&(zr||(zr=Array.prototype.slice.call(_r,0,Br)),zr[Br]=_r[Br]);return Fe.concat(zr||Array.prototype.slice.call(_r))},Default$2={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Tooltip$1=function(){function Fe(_r,$r,Br){_r===void 0&&(_r=null),$r===void 0&&($r=null),Br===void 0&&(Br=Default$2),this._targetEl=_r,this._triggerEl=$r,this._options=__assign$2(__assign$2({},Default$2),Br),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return Fe.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},Fe.prototype._setupEventListeners=function(){var _r=this,$r=this._getTriggerEvents();$r.showEvents.forEach(function(Br){_r._triggerEl.addEventListener(Br,function(){_r.show()})}),$r.hideEvents.forEach(function(Br){_r._triggerEl.addEventListener(Br,function(){_r.hide()})})},Fe.prototype._createPopperInstance=function(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},Fe.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},Fe.prototype._setupKeydownListener=function(){var _r=this;this._keydownEventListener=function($r){$r.key==="Escape"&&_r.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._setupClickOutsideListener=function(){var _r=this;this._clickOutsideEventListener=function($r){_r._handleClickOutside($r,_r._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._handleClickOutside=function(_r,$r){var Br=_r.target;Br!==$r&&!$r.contains(Br)&&!this._triggerEl.contains(Br)&&this.isVisible()&&this.hide()},Fe.prototype.isVisible=function(){return this._visible},Fe.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},Fe.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(_r){return __assign$2(__assign$2({},_r),{modifiers:__spreadArray$1(__spreadArray$1([],_r.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},Fe.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(_r){return __assign$2(__assign$2({},_r),{modifiers:__spreadArray$1(__spreadArray$1([],_r.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},Fe}();function initTooltips(){document.querySelectorAll("[data-tooltip-target]").forEach(function(Fe){var _r=Fe.getAttribute("data-tooltip-target"),$r=document.getElementById(_r);if($r){var Br=Fe.getAttribute("data-tooltip-trigger"),Fr=Fe.getAttribute("data-tooltip-placement");new Tooltip$1($r,Fe,{placement:Fr||Default$2.placement,triggerType:Br||Default$2.triggerType})}else console.error('The tooltip element with id "'.concat(_r,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=Tooltip$1,window.initTooltips=initTooltips);var __assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign$1.apply(this,arguments)},__spreadArray=globalThis&&globalThis.__spreadArray||function(Fe,_r,$r){if($r||arguments.length===2)for(var Br=0,Fr=_r.length,zr;Br<Fr;Br++)(zr||!(Br in _r))&&(zr||(zr=Array.prototype.slice.call(_r,0,Br)),zr[Br]=_r[Br]);return Fe.concat(zr||Array.prototype.slice.call(_r))},Default$1={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Popover=function(){function Fe(_r,$r,Br){_r===void 0&&(_r=null),$r===void 0&&($r=null),Br===void 0&&(Br=Default$1),this._targetEl=_r,this._triggerEl=$r,this._options=__assign$1(__assign$1({},Default$1),Br),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return Fe.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},Fe.prototype._setupEventListeners=function(){var _r=this,$r=this._getTriggerEvents();$r.showEvents.forEach(function(Br){_r._triggerEl.addEventListener(Br,function(){_r.show()}),_r._targetEl.addEventListener(Br,function(){_r.show()})}),$r.hideEvents.forEach(function(Br){_r._triggerEl.addEventListener(Br,function(){setTimeout(function(){_r._targetEl.matches(":hover")||_r.hide()},100)}),_r._targetEl.addEventListener(Br,function(){setTimeout(function(){_r._triggerEl.matches(":hover")||_r.hide()},100)})})},Fe.prototype._createPopperInstance=function(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},Fe.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},Fe.prototype._setupKeydownListener=function(){var _r=this;this._keydownEventListener=function($r){$r.key==="Escape"&&_r.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._setupClickOutsideListener=function(){var _r=this;this._clickOutsideEventListener=function($r){_r._handleClickOutside($r,_r._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._handleClickOutside=function(_r,$r){var Br=_r.target;Br!==$r&&!$r.contains(Br)&&!this._triggerEl.contains(Br)&&this.isVisible()&&this.hide()},Fe.prototype.isVisible=function(){return this._visible},Fe.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},Fe.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(_r){return __assign$1(__assign$1({},_r),{modifiers:__spreadArray(__spreadArray([],_r.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},Fe.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(_r){return __assign$1(__assign$1({},_r),{modifiers:__spreadArray(__spreadArray([],_r.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},Fe}();function initPopovers(){document.querySelectorAll("[data-popover-target]").forEach(function(Fe){var _r=Fe.getAttribute("data-popover-target"),$r=document.getElementById(_r);if($r){var Br=Fe.getAttribute("data-popover-trigger"),Fr=Fe.getAttribute("data-popover-placement"),zr=Fe.getAttribute("data-popover-offset");new Popover($r,Fe,{placement:Fr||Default$1.placement,offset:zr?parseInt(zr):Default$1.offset,triggerType:Br||Default$1.triggerType})}else console.error('The popover element with id "'.concat(_r,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=Popover,window.initPopovers=initPopovers);var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(Fe){for(var _r,$r=1,Br=arguments.length;$r<Br;$r++){_r=arguments[$r];for(var Fr in _r)Object.prototype.hasOwnProperty.call(_r,Fr)&&(Fe[Fr]=_r[Fr])}return Fe},__assign.apply(this,arguments)},Default={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Dial=function(){function Fe(_r,$r,Br,Fr){_r===void 0&&(_r=null),$r===void 0&&($r=null),Br===void 0&&(Br=null),Fr===void 0&&(Fr=Default),this._parentEl=_r,this._triggerEl=$r,this._targetEl=Br,this._options=__assign(__assign({},Default),Fr),this._visible=!1,this._init()}return Fe.prototype._init=function(){var _r=this;if(this._triggerEl){var $r=this._getTriggerEventTypes(this._options.triggerType);$r.showEvents.forEach(function(Br){_r._triggerEl.addEventListener(Br,function(){_r.show()}),_r._targetEl.addEventListener(Br,function(){_r.show()})}),$r.hideEvents.forEach(function(Br){_r._parentEl.addEventListener(Br,function(){_r._parentEl.matches(":hover")||_r.hide()})})}},Fe.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},Fe.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},Fe.prototype.toggle=function(){this._visible?this.hide():this.show()},Fe.prototype.isHidden=function(){return!this._visible},Fe.prototype.isVisible=function(){return this._visible},Fe.prototype._getTriggerEventTypes=function(_r){switch(_r){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},Fe}();function initDials(){document.querySelectorAll("[data-dial-init]").forEach(function(Fe){var _r=Fe.querySelector("[data-dial-toggle]");if(_r){var $r=_r.getAttribute("data-dial-toggle"),Br=document.getElementById($r);if(Br){var Fr=_r.getAttribute("data-dial-trigger");new Dial(Fe,_r,Br,{triggerType:Fr||Default.triggerType})}else console.error("Dial with id ".concat($r," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(Fe.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=Dial,window.initDials=initDials);function initFlowbite(){initAccordions(),initCollapses(),initCarousels(),initDismisses(),initDropdowns(),initModals(),initDrawers(),initTabs(),initTooltips(),initPopovers(),initDials()}typeof window<"u"&&(window.initFlowbite=initFlowbite);var events=new Events("load",[initAccordions,initCollapses,initCarousels,initDismisses,initDropdowns,initModals,initDrawers,initTabs,initTooltips,initPopovers,initDials]);events.init();function createTagRepeat(Fe,_r,$r={},Br=0,Fr=""){const zr=Object.keys($r).reduce((Ur,Gr)=>{let Yr=$r[Gr];return typeof Yr=="function"&&(Yr=Yr(Br)),`${Ur} ${Gr}="${Yr}"`},Fe);Fr+=`<${zr}></${Fe}>`;const jr=Br+1;return jr<_r?createTagRepeat(Fe,_r,$r,jr,Fr):Fr}function optimizeTemplateHTML(Fe){return Fe.replace(/>\s+/g,">").replace(/\s+</,"<")}if(!Event.prototype.composedPath){const Fe=(_r,$r=[])=>{$r.push(_r);let Br;return _r.parentNode?Br=_r.parentNode:_r.host?Br=_r.host:_r.defaultView&&(Br=_r.defaultView),Br?Fe(Br,$r):$r};Event.prototype.composedPath=function(){return Fe(this.target)}}document.createRange();optimizeTemplateHTML(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`);optimizeTemplateHTML(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">${createTagRepeat("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">${createTagRepeat("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}</div>
</div>`);optimizeTemplateHTML(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">${createTagRepeat("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
</div>`);var sweetalert2$1={exports:{}};/*!
* sweetalert2 v11.9.0
* Released under the MIT License.
*/(function(Fe,_r){(function($r,Br){Fe.exports=Br()})(commonjsGlobal,function(){function $r(Ln,Bn){var ei=Fr(Ln,Bn,"get");return zr(Ln,ei)}function Br(Ln,Bn,ei){var mi=Fr(Ln,Bn,"set");return jr(Ln,mi,ei),ei}function Fr(Ln,Bn,ei){if(!Bn.has(Ln))throw new TypeError("attempted to "+ei+" private field on non-instance");return Bn.get(Ln)}function zr(Ln,Bn){return Bn.get?Bn.get.call(Ln):Bn.value}function jr(Ln,Bn,ei){if(Bn.set)Bn.set.call(Ln,ei);else{if(!Bn.writable)throw new TypeError("attempted to set read only private field");Bn.value=ei}}function Ur(Ln,Bn){if(Bn.has(Ln))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gr(Ln,Bn,ei){Ur(Ln,Bn),Bn.set(Ln,ei)}const Yr=100,Kr={},Qr=()=>{Kr.previousActiveElement instanceof HTMLElement?(Kr.previousActiveElement.focus(),Kr.previousActiveElement=null):document.body&&document.body.focus()},Jr=Ln=>new Promise(Bn=>{if(!Ln)return Bn();const ei=window.scrollX,mi=window.scrollY;Kr.restoreFocusTimeout=setTimeout(()=>{Qr(),Bn()},Yr),window.scrollTo(ei,mi)}),rn="swal2-",ln=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((Ln,Bn)=>(Ln[Bn]=rn+Bn,Ln),{}),hn=["success","warning","info","question","error"].reduce((Ln,Bn)=>(Ln[Bn]=rn+Bn,Ln),{}),gn="SweetAlert2:",bn=Ln=>Ln.charAt(0).toUpperCase()+Ln.slice(1),kn=Ln=>{console.warn("".concat(gn," ").concat(typeof Ln=="object"?Ln.join(" "):Ln))},Sn=Ln=>{console.error("".concat(gn," ").concat(Ln))},_n=[],pn=Ln=>{_n.includes(Ln)||(_n.push(Ln),kn(Ln))},Cn=(Ln,Bn)=>{pn('"'.concat(Ln,'" is deprecated and will be removed in the next major release. Please use "').concat(Bn,'" instead.'))},En=Ln=>typeof Ln=="function"?Ln():Ln,Pn=Ln=>Ln&&typeof Ln.toPromise=="function",On=Ln=>Pn(Ln)?Ln.toPromise():Promise.resolve(Ln),jn=Ln=>Ln&&Promise.resolve(Ln)===Ln,Fn=()=>document.body.querySelector(".".concat(ln.container)),Wn=Ln=>{const Bn=Fn();return Bn?Bn.querySelector(Ln):null},Hn=Ln=>Wn(".".concat(Ln)),qn=()=>Hn(ln.popup),ni=()=>Hn(ln.icon),oi=()=>Hn(ln["icon-content"]),wi=()=>Hn(ln.title),Ci=()=>Hn(ln["html-container"]),Fi=()=>Hn(ln.image),Zn=()=>Hn(ln["progress-steps"]),Gn=()=>Hn(ln["validation-message"]),ui=()=>Wn(".".concat(ln.actions," .").concat(ln.confirm)),Ni=()=>Wn(".".concat(ln.actions," .").concat(ln.cancel)),$i=()=>Wn(".".concat(ln.actions," .").concat(ln.deny)),Vi=()=>Hn(ln["input-label"]),ji=()=>Wn(".".concat(ln.loader)),lo=()=>Hn(ln.actions),ho=()=>Hn(ln.footer),so=()=>Hn(ln["timer-progress-bar"]),Ki=()=>Hn(ln.close),Ho=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Io=()=>{const Ln=qn();if(!Ln)return[];const Bn=Ln.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),ei=Array.from(Bn).sort((ta,Ja)=>{const ys=parseInt(ta.getAttribute("tabindex")||"0"),Us=parseInt(Ja.getAttribute("tabindex")||"0");return ys>Us?1:ys<Us?-1:0}),mi=Ln.querySelectorAll(Ho),Qi=Array.from(mi).filter(ta=>ta.getAttribute("tabindex")!=="-1");return[...new Set(ei.concat(Qi))].filter(ta=>uo(ta))},Ji=()=>ka(document.body,ln.shown)&&!ka(document.body,ln["toast-shown"])&&!ka(document.body,ln["no-backdrop"]),Yo=()=>{const Ln=qn();return Ln?ka(Ln,ln.toast):!1},qo=()=>{const Ln=qn();return Ln?Ln.hasAttribute("data-loading"):!1},xo=(Ln,Bn)=>{if(Ln.textContent="",Bn){const mi=new DOMParser().parseFromString(Bn,"text/html"),Qi=mi.querySelector("head");Qi&&Array.from(Qi.childNodes).forEach(Ja=>{Ln.appendChild(Ja)});const ta=mi.querySelector("body");ta&&Array.from(ta.childNodes).forEach(Ja=>{Ja instanceof HTMLVideoElement||Ja instanceof HTMLAudioElement?Ln.appendChild(Ja.cloneNode(!0)):Ln.appendChild(Ja)})}},ka=(Ln,Bn)=>{if(!Bn)return!1;const ei=Bn.split(/\s+/);for(let mi=0;mi<ei.length;mi++)if(!Ln.classList.contains(ei[mi]))return!1;return!0},Ua=(Ln,Bn)=>{Array.from(Ln.classList).forEach(ei=>{!Object.values(ln).includes(ei)&&!Object.values(hn).includes(ei)&&!Object.values(Bn.showClass||{}).includes(ei)&&Ln.classList.remove(ei)})},$a=(Ln,Bn,ei)=>{if(Ua(Ln,Bn),Bn.customClass&&Bn.customClass[ei]){if(typeof Bn.customClass[ei]!="string"&&!Bn.customClass[ei].forEach){kn("Invalid type of customClass.".concat(ei,'! Expected string or iterable object, got "').concat(typeof Bn.customClass[ei],'"'));return}hi(Ln,Bn.customClass[ei])}},Ya=(Ln,Bn)=>{if(!Bn)return null;switch(Bn){case"select":case"textarea":case"file":return Ln.querySelector(".".concat(ln.popup," > .").concat(ln[Bn]));case"checkbox":return Ln.querySelector(".".concat(ln.popup," > .").concat(ln.checkbox," input"));case"radio":return Ln.querySelector(".".concat(ln.popup," > .").concat(ln.radio," input:checked"))||Ln.querySelector(".".concat(ln.popup," > .").concat(ln.radio," input:first-child"));case"range":return Ln.querySelector(".".concat(ln.popup," > .").concat(ln.range," input"));default:return Ln.querySelector(".".concat(ln.popup," > .").concat(ln.input))}},Aa=Ln=>{if(Ln.focus(),Ln.type!=="file"){const Bn=Ln.value;Ln.value="",Ln.value=Bn}},Ei=(Ln,Bn,ei)=>{!Ln||!Bn||(typeof Bn=="string"&&(Bn=Bn.split(/\s+/).filter(Boolean)),Bn.forEach(mi=>{Array.isArray(Ln)?Ln.forEach(Qi=>{ei?Qi.classList.add(mi):Qi.classList.remove(mi)}):ei?Ln.classList.add(mi):Ln.classList.remove(mi)}))},hi=(Ln,Bn)=>{Ei(Ln,Bn,!0)},Ai=(Ln,Bn)=>{Ei(Ln,Bn,!1)},ri=(Ln,Bn)=>{const ei=Array.from(Ln.children);for(let mi=0;mi<ei.length;mi++){const Qi=ei[mi];if(Qi instanceof HTMLElement&&ka(Qi,Bn))return Qi}},ai=(Ln,Bn,ei)=>{ei==="".concat(parseInt(ei))&&(ei=parseInt(ei)),ei||parseInt(ei)===0?Ln.style[Bn]=typeof ei=="number"?"".concat(ei,"px"):ei:Ln.style.removeProperty(Bn)},_i=function(Ln){let Bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";Ln&&(Ln.style.display=Bn)},pi=Ln=>{Ln&&(Ln.style.display="none")},xi=function(Ln){let Bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";Ln&&new MutationObserver(()=>{go(Ln,Ln.innerHTML,Bn)}).observe(Ln,{childList:!0,subtree:!0})},co=(Ln,Bn,ei,mi)=>{const Qi=Ln.querySelector(Bn);Qi&&(Qi.style[ei]=mi)},go=function(Ln,Bn){let ei=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";Bn?_i(Ln,ei):pi(Ln)},uo=Ln=>!!(Ln&&(Ln.offsetWidth||Ln.offsetHeight||Ln.getClientRects().length)),To=()=>!uo(ui())&&!uo($i())&&!uo(Ni()),Qo=Ln=>Ln.scrollHeight>Ln.clientHeight,Ui=Ln=>{const Bn=window.getComputedStyle(Ln),ei=parseFloat(Bn.getPropertyValue("animation-duration")||"0"),mi=parseFloat(Bn.getPropertyValue("transition-duration")||"0");return ei>0||mi>0},Lo=function(Ln){let Bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const ei=so();ei&&uo(ei)&&(Bn&&(ei.style.transition="none",ei.style.width="100%"),setTimeout(()=>{ei.style.transition="width ".concat(Ln/1e3,"s linear"),ei.style.width="0%"},10))},oo=()=>{const Ln=so();if(!Ln)return;const Bn=parseInt(window.getComputedStyle(Ln).width);Ln.style.removeProperty("transition"),Ln.style.width="100%";const ei=parseInt(window.getComputedStyle(Ln).width),mi=Bn/ei*100;Ln.style.width="".concat(mi,"%")},na=()=>typeof window>"u"||typeof document>"u",fa=`
 <div aria-labelledby="`.concat(ln.title,'" aria-describedby="').concat(ln["html-container"],'" class="').concat(ln.popup,`" tabindex="-1">
   <button type="button" class="`).concat(ln.close,`"></button>
   <ul class="`).concat(ln["progress-steps"],`"></ul>
   <div class="`).concat(ln.icon,`"></div>
   <img class="`).concat(ln.image,`" />
   <h2 class="`).concat(ln.title,'" id="').concat(ln.title,`"></h2>
   <div class="`).concat(ln["html-container"],'" id="').concat(ln["html-container"],`"></div>
   <input class="`).concat(ln.input,'" id="').concat(ln.input,`" />
   <input type="file" class="`).concat(ln.file,`" />
   <div class="`).concat(ln.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(ln.select,'" id="').concat(ln.select,`"></select>
   <div class="`).concat(ln.radio,`"></div>
   <label class="`).concat(ln.checkbox,`">
     <input type="checkbox" id="`).concat(ln.checkbox,`" />
     <span class="`).concat(ln.label,`"></span>
   </label>
   <textarea class="`).concat(ln.textarea,'" id="').concat(ln.textarea,`"></textarea>
   <div class="`).concat(ln["validation-message"],'" id="').concat(ln["validation-message"],`"></div>
   <div class="`).concat(ln.actions,`">
     <div class="`).concat(ln.loader,`"></div>
     <button type="button" class="`).concat(ln.confirm,`"></button>
     <button type="button" class="`).concat(ln.deny,`"></button>
     <button type="button" class="`).concat(ln.cancel,`"></button>
   </div>
   <div class="`).concat(ln.footer,`"></div>
   <div class="`).concat(ln["timer-progress-bar-container"],`">
     <div class="`).concat(ln["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Ms=()=>{const Ln=Fn();return Ln?(Ln.remove(),Ai([document.documentElement,document.body],[ln["no-backdrop"],ln["toast-shown"],ln["has-column"]]),!0):!1},aa=()=>{Kr.currentInstance.resetValidationMessage()},os=()=>{const Ln=qn(),Bn=ri(Ln,ln.input),ei=ri(Ln,ln.file),mi=Ln.querySelector(".".concat(ln.range," input")),Qi=Ln.querySelector(".".concat(ln.range," output")),ta=ri(Ln,ln.select),Ja=Ln.querySelector(".".concat(ln.checkbox," input")),ys=ri(Ln,ln.textarea);Bn.oninput=aa,ei.onchange=aa,ta.onchange=aa,Ja.onchange=aa,ys.oninput=aa,mi.oninput=()=>{aa(),Qi.value=mi.value},mi.onchange=()=>{aa(),Qi.value=mi.value}},Na=Ln=>typeof Ln=="string"?document.querySelector(Ln):Ln,As=Ln=>{const Bn=qn();Bn.setAttribute("role",Ln.toast?"alert":"dialog"),Bn.setAttribute("aria-live",Ln.toast?"polite":"assertive"),Ln.toast||Bn.setAttribute("aria-modal","true")},Zs=Ln=>{window.getComputedStyle(Ln).direction==="rtl"&&hi(Fn(),ln.rtl)},gl=Ln=>{const Bn=Ms();if(na()){Sn("SweetAlert2 requires document to initialize");return}const ei=document.createElement("div");ei.className=ln.container,Bn&&hi(ei,ln["no-transition"]),xo(ei,fa);const mi=Na(Ln.target);mi.appendChild(ei),As(Ln),Zs(mi),os()},us=(Ln,Bn)=>{Ln instanceof HTMLElement?Bn.appendChild(Ln):typeof Ln=="object"?jl(Ln,Bn):Ln&&xo(Bn,Ln)},jl=(Ln,Bn)=>{Ln.jquery?ml(Bn,Ln):xo(Bn,Ln.toString())},ml=(Ln,Bn)=>{if(Ln.textContent="",0 in Bn)for(let ei=0;ei in Bn;ei++)Ln.appendChild(Bn[ei].cloneNode(!0));else Ln.appendChild(Bn.cloneNode(!0))},hs=(()=>{if(na())return!1;const Ln=document.createElement("div");return typeof Ln.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof Ln.style.animation<"u"?"animationend":!1})(),Ti=(Ln,Bn)=>{const ei=lo(),mi=ji();!ei||!mi||(!Bn.showConfirmButton&&!Bn.showDenyButton&&!Bn.showCancelButton?pi(ei):_i(ei),$a(ei,Bn,"actions"),Pi(ei,mi,Bn),xo(mi,Bn.loaderHtml||""),$a(mi,Bn,"loader"))};function Pi(Ln,Bn,ei){const mi=ui(),Qi=$i(),ta=Ni();!mi||!Qi||!ta||(bo(mi,"confirm",ei),bo(Qi,"deny",ei),bo(ta,"cancel",ei),Zi(mi,Qi,ta,ei),ei.reverseButtons&&(ei.toast?(Ln.insertBefore(ta,mi),Ln.insertBefore(Qi,mi)):(Ln.insertBefore(ta,Bn),Ln.insertBefore(Qi,Bn),Ln.insertBefore(mi,Bn))))}function Zi(Ln,Bn,ei,mi){if(!mi.buttonsStyling){Ai([Ln,Bn,ei],ln.styled);return}hi([Ln,Bn,ei],ln.styled),mi.confirmButtonColor&&(Ln.style.backgroundColor=mi.confirmButtonColor,hi(Ln,ln["default-outline"])),mi.denyButtonColor&&(Bn.style.backgroundColor=mi.denyButtonColor,hi(Bn,ln["default-outline"])),mi.cancelButtonColor&&(ei.style.backgroundColor=mi.cancelButtonColor,hi(ei,ln["default-outline"]))}function bo(Ln,Bn,ei){const mi=bn(Bn);go(Ln,ei["show".concat(mi,"Button")],"inline-block"),xo(Ln,ei["".concat(Bn,"ButtonText")]||""),Ln.setAttribute("aria-label",ei["".concat(Bn,"ButtonAriaLabel")]||""),Ln.className=ln[Bn],$a(Ln,ei,"".concat(Bn,"Button"))}const Uo=(Ln,Bn)=>{const ei=Ki();ei&&(xo(ei,Bn.closeButtonHtml||""),$a(ei,Bn,"closeButton"),go(ei,Bn.showCloseButton),ei.setAttribute("aria-label",Bn.closeButtonAriaLabel||""))},Do=(Ln,Bn)=>{const ei=Fn();ei&&(ko(ei,Bn.backdrop),La(ei,Bn.position),sa(ei,Bn.grow),$a(ei,Bn,"container"))};function ko(Ln,Bn){typeof Bn=="string"?Ln.style.background=Bn:Bn||hi([document.documentElement,document.body],ln["no-backdrop"])}function La(Ln,Bn){Bn&&(Bn in ln?hi(Ln,ln[Bn]):(kn('The "position" parameter is not valid, defaulting to "center"'),hi(Ln,ln.center)))}function sa(Ln,Bn){Bn&&hi(Ln,ln["grow-".concat(Bn)])}var Ro={innerParams:new WeakMap,domCache:new WeakMap};const ya=["input","file","range","select","radio","checkbox","textarea"],Ha=(Ln,Bn)=>{const ei=qn();if(!ei)return;const mi=Ro.innerParams.get(Ln),Qi=!mi||Bn.input!==mi.input;ya.forEach(ta=>{const Ja=ri(ei,ln[ta]);Ja&&(qa(ta,Bn.inputAttributes),Ja.className=ln[ta],Qi&&pi(Ja))}),Bn.input&&(Qi&&ss(Bn),la(Bn))},ss=Ln=>{if(!Ln.input)return;if(!bi[Ln.input]){Sn("Unexpected type of input! Expected ".concat(Object.keys(bi).join(" | "),', got "').concat(Ln.input,'"'));return}const Bn=ea(Ln.input),ei=bi[Ln.input](Bn,Ln);_i(Bn),Ln.inputAutoFocus&&setTimeout(()=>{Aa(ei)})},Ba=Ln=>{for(let Bn=0;Bn<Ln.attributes.length;Bn++){const ei=Ln.attributes[Bn].name;["id","type","value","style"].includes(ei)||Ln.removeAttribute(ei)}},qa=(Ln,Bn)=>{const ei=Ya(qn(),Ln);if(ei){Ba(ei);for(const mi in Bn)ei.setAttribute(mi,Bn[mi])}},la=Ln=>{const Bn=ea(Ln.input);typeof Ln.customClass=="object"&&hi(Bn,Ln.customClass.input)},Jo=(Ln,Bn)=>{(!Ln.placeholder||Bn.inputPlaceholder)&&(Ln.placeholder=Bn.inputPlaceholder)},ia=(Ln,Bn,ei)=>{if(ei.inputLabel){const mi=document.createElement("label"),Qi=ln["input-label"];mi.setAttribute("for",Ln.id),mi.className=Qi,typeof ei.customClass=="object"&&hi(mi,ei.customClass.inputLabel),mi.innerText=ei.inputLabel,Bn.insertAdjacentElement("beforebegin",mi)}},ea=Ln=>ri(qn(),ln[Ln]||ln.input),$o=(Ln,Bn)=>{["string","number"].includes(typeof Bn)?Ln.value="".concat(Bn):jn(Bn)||kn('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Bn,'"'))},bi={};bi.text=bi.email=bi.password=bi.number=bi.tel=bi.url=bi.search=bi.date=bi["datetime-local"]=bi.time=bi.week=bi.month=(Ln,Bn)=>($o(Ln,Bn.inputValue),ia(Ln,Ln,Bn),Jo(Ln,Bn),Ln.type=Bn.input,Ln),bi.file=(Ln,Bn)=>(ia(Ln,Ln,Bn),Jo(Ln,Bn),Ln),bi.range=(Ln,Bn)=>{const ei=Ln.querySelector("input"),mi=Ln.querySelector("output");return $o(ei,Bn.inputValue),ei.type=Bn.input,$o(mi,Bn.inputValue),ia(ei,Ln,Bn),Ln},bi.select=(Ln,Bn)=>{if(Ln.textContent="",Bn.inputPlaceholder){const ei=document.createElement("option");xo(ei,Bn.inputPlaceholder),ei.value="",ei.disabled=!0,ei.selected=!0,Ln.appendChild(ei)}return ia(Ln,Ln,Bn),Ln},bi.radio=Ln=>(Ln.textContent="",Ln),bi.checkbox=(Ln,Bn)=>{const ei=Ya(qn(),"checkbox");ei.value="1",ei.checked=!!Bn.inputValue;const mi=Ln.querySelector("span");return xo(mi,Bn.inputPlaceholder),ei},bi.textarea=(Ln,Bn)=>{$o(Ln,Bn.inputValue),Jo(Ln,Bn),ia(Ln,Ln,Bn);const ei=mi=>parseInt(window.getComputedStyle(mi).marginLeft)+parseInt(window.getComputedStyle(mi).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const mi=parseInt(window.getComputedStyle(qn()).width),Qi=()=>{if(!document.body.contains(Ln))return;const ta=Ln.offsetWidth+ei(Ln);ta>mi?qn().style.width="".concat(ta,"px"):ai(qn(),"width",Bn.width)};new MutationObserver(Qi).observe(Ln,{attributes:!0,attributeFilter:["style"]})}}),Ln};const ms=(Ln,Bn)=>{const ei=Ci();ei&&(xi(ei),$a(ei,Bn,"htmlContainer"),Bn.html?(us(Bn.html,ei),_i(ei,"block")):Bn.text?(ei.textContent=Bn.text,_i(ei,"block")):pi(ei),Ha(Ln,Bn))},ha=(Ln,Bn)=>{const ei=ho();ei&&(xi(ei),go(ei,Bn.footer,"block"),Bn.footer&&us(Bn.footer,ei),$a(ei,Bn,"footer"))},Bs=(Ln,Bn)=>{const ei=Ro.innerParams.get(Ln),mi=ni();if(mi){if(ei&&Bn.icon===ei.icon){ro(mi,Bn),Ca(mi,Bn);return}if(!Bn.icon&&!Bn.iconHtml){pi(mi);return}if(Bn.icon&&Object.keys(hn).indexOf(Bn.icon)===-1){Sn('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Bn.icon,'"')),pi(mi);return}_i(mi),ro(mi,Bn),Ca(mi,Bn),hi(mi,Bn.showClass&&Bn.showClass.icon)}},Ca=(Ln,Bn)=>{for(const[ei,mi]of Object.entries(hn))Bn.icon!==ei&&Ai(Ln,mi);hi(Ln,Bn.icon&&hn[Bn.icon]),Ko(Ln,Bn),Fs(),$a(Ln,Bn,"icon")},Fs=()=>{const Ln=qn();if(!Ln)return;const Bn=window.getComputedStyle(Ln).getPropertyValue("background-color"),ei=Ln.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let mi=0;mi<ei.length;mi++)ei[mi].style.backgroundColor=Bn},Js=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ul=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ro=(Ln,Bn)=>{if(!Bn.icon&&!Bn.iconHtml)return;let ei=Ln.innerHTML,mi="";Bn.iconHtml?mi=fs(Bn.iconHtml):Bn.icon==="success"?(mi=Js,ei=ei.replace(/ style=".*?"/g,"")):Bn.icon==="error"?mi=ul:Bn.icon&&(mi=fs({question:"?",warning:"!",info:"i"}[Bn.icon])),ei.trim()!==mi.trim()&&xo(Ln,mi)},Ko=(Ln,Bn)=>{if(Bn.iconColor){Ln.style.color=Bn.iconColor,Ln.style.borderColor=Bn.iconColor;for(const ei of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])co(Ln,ei,"backgroundColor",Bn.iconColor);co(Ln,".swal2-success-ring","borderColor",Bn.iconColor)}},fs=Ln=>'<div class="'.concat(ln["icon-content"],'">').concat(Ln,"</div>"),vl=(Ln,Bn)=>{const ei=Fi();if(ei){if(!Bn.imageUrl){pi(ei);return}_i(ei,""),ei.setAttribute("src",Bn.imageUrl),ei.setAttribute("alt",Bn.imageAlt||""),ai(ei,"width",Bn.imageWidth),ai(ei,"height",Bn.imageHeight),ei.className=ln.image,$a(ei,Bn,"image")}},gi=(Ln,Bn)=>{const ei=Fn(),mi=qn();if(!(!ei||!mi)){if(Bn.toast){ai(ei,"width",Bn.width),mi.style.width="100%";const Qi=ji();Qi&&mi.insertBefore(Qi,ni())}else ai(mi,"width",Bn.width);ai(mi,"padding",Bn.padding),Bn.color&&(mi.style.color=Bn.color),Bn.background&&(mi.style.background=Bn.background),pi(Gn()),li(mi,Bn)}},li=(Ln,Bn)=>{const ei=Bn.showClass||{};Ln.className="".concat(ln.popup," ").concat(uo(Ln)?ei.popup:""),Bn.toast?(hi([document.documentElement,document.body],ln["toast-shown"]),hi(Ln,ln.toast)):hi(Ln,ln.modal),$a(Ln,Bn,"popup"),typeof Bn.customClass=="string"&&hi(Ln,Bn.customClass),Bn.icon&&hi(Ln,ln["icon-".concat(Bn.icon)])},Mi=(Ln,Bn)=>{const ei=Zn();if(!ei)return;const{progressSteps:mi,currentProgressStep:Qi}=Bn;if(!mi||mi.length===0||Qi===void 0){pi(ei);return}_i(ei),ei.textContent="",Qi>=mi.length&&kn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),mi.forEach((ta,Ja)=>{const ys=Ri(ta);if(ei.appendChild(ys),Ja===Qi&&hi(ys,ln["active-progress-step"]),Ja!==mi.length-1){const Us=no(Bn);ei.appendChild(Us)}})},Ri=Ln=>{const Bn=document.createElement("li");return hi(Bn,ln["progress-step"]),xo(Bn,Ln),Bn},no=Ln=>{const Bn=document.createElement("li");return hi(Bn,ln["progress-step-line"]),Ln.progressStepsDistance&&ai(Bn,"width",Ln.progressStepsDistance),Bn},_o=(Ln,Bn)=>{const ei=wi();ei&&(xi(ei),go(ei,Bn.title||Bn.titleText,"block"),Bn.title&&us(Bn.title,ei),Bn.titleText&&(ei.innerText=Bn.titleText),$a(ei,Bn,"title"))},Mo=(Ln,Bn)=>{gi(Ln,Bn),Do(Ln,Bn),Mi(Ln,Bn),Bs(Ln,Bn),vl(Ln,Bn),_o(Ln,Bn),Uo(Ln,Bn),ms(Ln,Bn),Ti(Ln,Bn),ha(Ln,Bn);const ei=qn();typeof Bn.didRender=="function"&&ei&&Bn.didRender(ei)},vo=()=>uo(qn()),jo=()=>{var Ln;return(Ln=ui())===null||Ln===void 0?void 0:Ln.click()},Zo=()=>{var Ln;return(Ln=$i())===null||Ln===void 0?void 0:Ln.click()},Po=()=>{var Ln;return(Ln=Ni())===null||Ln===void 0?void 0:Ln.click()},xa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),es=Ln=>{Ln.keydownTarget&&Ln.keydownHandlerAdded&&(Ln.keydownTarget.removeEventListener("keydown",Ln.keydownHandler,{capture:Ln.keydownListenerCapture}),Ln.keydownHandlerAdded=!1)},Fa=(Ln,Bn,ei)=>{es(Ln),Bn.toast||(Ln.keydownHandler=mi=>Cs(Bn,mi,ei),Ln.keydownTarget=Bn.keydownListenerCapture?window:qn(),Ln.keydownListenerCapture=Bn.keydownListenerCapture,Ln.keydownTarget.addEventListener("keydown",Ln.keydownHandler,{capture:Ln.keydownListenerCapture}),Ln.keydownHandlerAdded=!0)},ga=(Ln,Bn)=>{var ei;const mi=Io();if(mi.length){Ln=Ln+Bn,Ln===mi.length?Ln=0:Ln===-1&&(Ln=mi.length-1),mi[Ln].focus();return}(ei=qn())===null||ei===void 0||ei.focus()},Da=["ArrowRight","ArrowDown"],Ea=["ArrowLeft","ArrowUp"],Cs=(Ln,Bn,ei)=>{Ln&&(Bn.isComposing||Bn.keyCode===229||(Ln.stopKeydownPropagation&&Bn.stopPropagation(),Bn.key==="Enter"?Ka(Bn,Ln):Bn.key==="Tab"?vs(Bn):[...Da,...Ea].includes(Bn.key)?da(Bn.key):Bn.key==="Escape"&&Pa(Bn,Ln,ei)))},Ka=(Ln,Bn)=>{if(!En(Bn.allowEnterKey))return;const ei=Ya(qn(),Bn.input);if(Ln.target&&ei&&Ln.target instanceof HTMLElement&&Ln.target.outerHTML===ei.outerHTML){if(["textarea","file"].includes(Bn.input))return;jo(),Ln.preventDefault()}},vs=Ln=>{const Bn=Ln.target,ei=Io();let mi=-1;for(let Qi=0;Qi<ei.length;Qi++)if(Bn===ei[Qi]){mi=Qi;break}Ln.shiftKey?ga(mi,-1):ga(mi,1),Ln.stopPropagation(),Ln.preventDefault()},da=Ln=>{const Bn=lo(),ei=ui(),mi=$i(),Qi=Ni();if(!Bn||!ei||!mi||!Qi)return;const ta=[ei,mi,Qi];if(document.activeElement instanceof HTMLElement&&!ta.includes(document.activeElement))return;const Ja=Da.includes(Ln)?"nextElementSibling":"previousElementSibling";let ys=document.activeElement;if(ys){for(let Us=0;Us<Bn.children.length;Us++){if(ys=ys[Ja],!ys)return;if(ys instanceof HTMLButtonElement&&uo(ys))break}ys instanceof HTMLButtonElement&&ys.focus()}},Pa=(Ln,Bn,ei)=>{En(Bn.allowEscapeKey)&&(Ln.preventDefault(),ei(xa.esc))};var Ta={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const _s=()=>{Array.from(document.body.children).forEach(Bn=>{Bn===Fn()||Bn.contains(Fn())||(Bn.hasAttribute("aria-hidden")&&Bn.setAttribute("data-previous-aria-hidden",Bn.getAttribute("aria-hidden")||""),Bn.setAttribute("aria-hidden","true"))})},ts=()=>{Array.from(document.body.children).forEach(Bn=>{Bn.hasAttribute("data-previous-aria-hidden")?(Bn.setAttribute("aria-hidden",Bn.getAttribute("data-previous-aria-hidden")||""),Bn.removeAttribute("data-previous-aria-hidden")):Bn.removeAttribute("aria-hidden")})},ps=typeof window<"u"&&!!window.GestureEvent,Is=()=>{if(ps&&!ka(document.body,ln.iosfix)){const Ln=document.body.scrollTop;document.body.style.top="".concat(Ln*-1,"px"),hi(document.body,ln.iosfix),xs()}},xs=()=>{const Ln=Fn();if(!Ln)return;let Bn;Ln.ontouchstart=ei=>{Bn=Cl(ei)},Ln.ontouchmove=ei=>{Bn&&(ei.preventDefault(),ei.stopPropagation())}},Cl=Ln=>{const Bn=Ln.target,ei=Fn(),mi=Ci();return!ei||!mi||ol(Ln)||Ll(Ln)?!1:Bn===ei||!Qo(ei)&&Bn instanceof HTMLElement&&Bn.tagName!=="INPUT"&&Bn.tagName!=="TEXTAREA"&&!(Qo(mi)&&mi.contains(Bn))},ol=Ln=>Ln.touches&&Ln.touches.length&&Ln.touches[0].touchType==="stylus",Ll=Ln=>Ln.touches&&Ln.touches.length>1,tc=()=>{if(ka(document.body,ln.iosfix)){const Ln=parseInt(document.body.style.top,10);Ai(document.body,ln.iosfix),document.body.style.top="",document.body.scrollTop=Ln*-1}},rc=()=>{const Ln=document.createElement("div");Ln.className=ln["scrollbar-measure"],document.body.appendChild(Ln);const Bn=Ln.getBoundingClientRect().width-Ln.clientWidth;return document.body.removeChild(Ln),Bn};let Ys=null;const Dc=Ln=>{Ys===null&&(document.body.scrollHeight>window.innerHeight||Ln==="scroll")&&(Ys=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ys+rc(),"px"))},yl=()=>{Ys!==null&&(document.body.style.paddingRight="".concat(Ys,"px"),Ys=null)};function xl(Ln,Bn,ei,mi){Yo()?el(Ln,mi):(Jr(ei).then(()=>el(Ln,mi)),es(Kr)),ps?(Bn.setAttribute("style","display:none !important"),Bn.removeAttribute("class"),Bn.innerHTML=""):Bn.remove(),Ji()&&(yl(),tc(),ts()),rs()}function rs(){Ai([document.documentElement,document.body],[ln.shown,ln["height-auto"],ln["no-backdrop"],ln["toast-shown"]])}function Wi(Ln){Ln=Ma(Ln);const Bn=Ta.swalPromiseResolve.get(this),ei=Vo(this);this.isAwaitingPromise?Ln.isDismissed||(ca(this),Bn(Ln)):ei&&Bn(Ln)}const Vo=Ln=>{const Bn=qn();if(!Bn)return!1;const ei=Ro.innerParams.get(Ln);if(!ei||ka(Bn,ei.hideClass.popup))return!1;Ai(Bn,ei.showClass.popup),hi(Bn,ei.hideClass.popup);const mi=Fn();return Ai(mi,ei.showClass.backdrop),hi(mi,ei.hideClass.backdrop),Za(Ln,Bn,ei),!0};function Xo(Ln){const Bn=Ta.swalPromiseReject.get(this);ca(this),Bn&&Bn(Ln)}const ca=Ln=>{Ln.isAwaitingPromise&&(delete Ln.isAwaitingPromise,Ro.innerParams.get(Ln)||Ln._destroy())},Ma=Ln=>typeof Ln>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},Ln),Za=(Ln,Bn,ei)=>{const mi=Fn(),Qi=hs&&Ui(Bn);typeof ei.willClose=="function"&&ei.willClose(Bn),Qi?zs(Ln,Bn,mi,ei.returnFocus,ei.didClose):xl(Ln,mi,ei.returnFocus,ei.didClose)},zs=(Ln,Bn,ei,mi,Qi)=>{hs&&(Kr.swalCloseEventFinishedCallback=xl.bind(null,Ln,ei,mi,Qi),Bn.addEventListener(hs,function(ta){ta.target===Bn&&(Kr.swalCloseEventFinishedCallback(),delete Kr.swalCloseEventFinishedCallback)}))},el=(Ln,Bn)=>{setTimeout(()=>{typeof Bn=="function"&&Bn.bind(Ln.params)(),Ln._destroy&&Ln._destroy()})},Sl=Ln=>{let Bn=qn();if(Bn||new Nu,Bn=qn(),!Bn)return;const ei=ji();Yo()?pi(ni()):bl(Bn,Ln),_i(ei),Bn.setAttribute("data-loading","true"),Bn.setAttribute("aria-busy","true"),Bn.focus()},bl=(Ln,Bn)=>{const ei=lo(),mi=ji();!ei||!mi||(!Bn&&uo(ui())&&(Bn=ui()),_i(ei),Bn&&(pi(Bn),mi.setAttribute("data-button-to-replace",Bn.className),ei.insertBefore(mi,Bn)),hi([Ln,ei],ln.loading))},Dl=(Ln,Bn)=>{Bn.input==="select"||Bn.input==="radio"?$n(Ln,Bn):["text","email","number","tel","textarea"].some(ei=>ei===Bn.input)&&(Pn(Bn.inputValue)||jn(Bn.inputValue))&&(Sl(ui()),zn(Ln,Bn))},Ul=(Ln,Bn)=>{const ei=Ln.getInput();if(!ei)return null;switch(Bn.input){case"checkbox":return al(ei);case"radio":return An(ei);case"file":return Tn(ei);default:return Bn.inputAutoTrim?ei.value.trim():ei.value}},al=Ln=>Ln.checked?1:0,An=Ln=>Ln.checked?Ln.value:null,Tn=Ln=>Ln.files&&Ln.files.length?Ln.getAttribute("multiple")!==null?Ln.files:Ln.files[0]:null,$n=(Ln,Bn)=>{const ei=qn();if(!ei)return;const mi=Qi=>{Bn.input==="select"?Xn(ei,ii(Qi),Bn):Bn.input==="radio"&&Qn(ei,ii(Qi),Bn)};Pn(Bn.inputOptions)||jn(Bn.inputOptions)?(Sl(ui()),On(Bn.inputOptions).then(Qi=>{Ln.hideLoading(),mi(Qi)})):typeof Bn.inputOptions=="object"?mi(Bn.inputOptions):Sn("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Bn.inputOptions))},zn=(Ln,Bn)=>{const ei=Ln.getInput();ei&&(pi(ei),On(Bn.inputValue).then(mi=>{ei.value=Bn.input==="number"?"".concat(parseFloat(mi)||0):"".concat(mi),_i(ei),ei.focus(),Ln.hideLoading()}).catch(mi=>{Sn("Error in inputValue promise: ".concat(mi)),ei.value="",_i(ei),ei.focus(),Ln.hideLoading()}))};function Xn(Ln,Bn,ei){const mi=ri(Ln,ln.select);if(!mi)return;const Qi=(ta,Ja,ys)=>{const Us=document.createElement("option");Us.value=ys,xo(Us,Ja),Us.selected=ki(ys,ei.inputValue),ta.appendChild(Us)};Bn.forEach(ta=>{const Ja=ta[0],ys=ta[1];if(Array.isArray(ys)){const Us=document.createElement("optgroup");Us.label=Ja,Us.disabled=!1,mi.appendChild(Us),ys.forEach(Mc=>Qi(Us,Mc[1],Mc[0]))}else Qi(mi,ys,Ja)}),mi.focus()}function Qn(Ln,Bn,ei){const mi=ri(Ln,ln.radio);if(!mi)return;Bn.forEach(ta=>{const Ja=ta[0],ys=ta[1],Us=document.createElement("input"),Mc=document.createElement("label");Us.type="radio",Us.name=ln.radio,Us.value=Ja,ki(Ja,ei.inputValue)&&(Us.checked=!0);const Bu=document.createElement("span");xo(Bu,ys),Bu.className=ln.label,Mc.appendChild(Us),Mc.appendChild(Bu),mi.appendChild(Mc)});const Qi=mi.querySelectorAll("input");Qi.length&&Qi[0].focus()}const ii=Ln=>{const Bn=[];return Ln instanceof Map?Ln.forEach((ei,mi)=>{let Qi=ei;typeof Qi=="object"&&(Qi=ii(Qi)),Bn.push([mi,Qi])}):Object.keys(Ln).forEach(ei=>{let mi=Ln[ei];typeof mi=="object"&&(mi=ii(mi)),Bn.push([ei,mi])}),Bn},ki=(Ln,Bn)=>!!Bn&&Bn.toString()===Ln.toString(),yi=Ln=>{const Bn=Ro.innerParams.get(Ln);Ln.disableButtons(),Bn.input?io(Ln,"confirm"):ba(Ln,!0)},Ii=Ln=>{const Bn=Ro.innerParams.get(Ln);Ln.disableButtons(),Bn.returnInputValueOnDeny?io(Ln,"deny"):fo(Ln,!1)},qi=(Ln,Bn)=>{Ln.disableButtons(),Bn(xa.cancel)},io=(Ln,Bn)=>{const ei=Ro.innerParams.get(Ln);if(!ei.input){Sn('The "input" parameter is needed to be set when using returnInputValueOn'.concat(bn(Bn)));return}const mi=Ln.getInput(),Qi=Ul(Ln,ei);ei.inputValidator?zi(Ln,Qi,Bn):mi&&!mi.checkValidity()?(Ln.enableButtons(),Ln.showValidationMessage(ei.validationMessage)):Bn==="deny"?fo(Ln,Qi):ba(Ln,Qi)},zi=(Ln,Bn,ei)=>{const mi=Ro.innerParams.get(Ln);Ln.disableInput(),Promise.resolve().then(()=>On(mi.inputValidator(Bn,mi.validationMessage))).then(ta=>{Ln.enableButtons(),Ln.enableInput(),ta?Ln.showValidationMessage(ta):ei==="deny"?fo(Ln,Bn):ba(Ln,Bn)})},fo=(Ln,Bn)=>{const ei=Ro.innerParams.get(Ln||void 0);ei.showLoaderOnDeny&&Sl($i()),ei.preDeny?(Ln.isAwaitingPromise=!0,Promise.resolve().then(()=>On(ei.preDeny(Bn,ei.validationMessage))).then(Qi=>{Qi===!1?(Ln.hideLoading(),ca(Ln)):Ln.close({isDenied:!0,value:typeof Qi>"u"?Bn:Qi})}).catch(Qi=>Ga(Ln||void 0,Qi))):Ln.close({isDenied:!0,value:Bn})},pa=(Ln,Bn)=>{Ln.close({isConfirmed:!0,value:Bn})},Ga=(Ln,Bn)=>{Ln.rejectPromise(Bn)},ba=(Ln,Bn)=>{const ei=Ro.innerParams.get(Ln||void 0);ei.showLoaderOnConfirm&&Sl(),ei.preConfirm?(Ln.resetValidationMessage(),Ln.isAwaitingPromise=!0,Promise.resolve().then(()=>On(ei.preConfirm(Bn,ei.validationMessage))).then(Qi=>{uo(Gn())||Qi===!1?(Ln.hideLoading(),ca(Ln)):pa(Ln,typeof Qi>"u"?Bn:Qi)}).catch(Qi=>Ga(Ln||void 0,Qi))):pa(Ln,Bn)};function Ss(){const Ln=Ro.innerParams.get(this);if(!Ln)return;const Bn=Ro.domCache.get(this);pi(Bn.loader),Yo()?Ln.icon&&_i(ni()):tl(Bn),Ai([Bn.popup,Bn.actions],ln.loading),Bn.popup.removeAttribute("aria-busy"),Bn.popup.removeAttribute("data-loading"),Bn.confirmButton.disabled=!1,Bn.denyButton.disabled=!1,Bn.cancelButton.disabled=!1}const tl=Ln=>{const Bn=Ln.popup.getElementsByClassName(Ln.loader.getAttribute("data-button-to-replace"));Bn.length?_i(Bn[0],"inline-block"):To()&&pi(Ln.actions)};function ql(){const Ln=Ro.innerParams.get(this),Bn=Ro.domCache.get(this);return Bn?Ya(Bn.popup,Ln.input):null}function Gl(Ln,Bn,ei){const mi=Ro.domCache.get(Ln);Bn.forEach(Qi=>{mi[Qi].disabled=ei})}function Oa(Ln,Bn){const ei=qn();if(!(!ei||!Ln))if(Ln.type==="radio"){const mi=ei.querySelectorAll('[name="'.concat(ln.radio,'"]'));for(let Qi=0;Qi<mi.length;Qi++)mi[Qi].disabled=Bn}else Ln.disabled=Bn}function ws(){Gl(this,["confirmButton","denyButton","cancelButton"],!1)}function Qa(){Gl(this,["confirmButton","denyButton","cancelButton"],!0)}function Ps(){Oa(this.getInput(),!1)}function nc(){Oa(this.getInput(),!0)}function qc(Ln){const Bn=Ro.domCache.get(this),ei=Ro.innerParams.get(this);xo(Bn.validationMessage,Ln),Bn.validationMessage.className=ln["validation-message"],ei.customClass&&ei.customClass.validationMessage&&hi(Bn.validationMessage,ei.customClass.validationMessage),_i(Bn.validationMessage);const mi=this.getInput();mi&&(mi.setAttribute("aria-invalid","true"),mi.setAttribute("aria-describedby",ln["validation-message"]),Aa(mi),hi(mi,ln.inputerror))}function Kl(){const Ln=Ro.domCache.get(this);Ln.validationMessage&&pi(Ln.validationMessage);const Bn=this.getInput();Bn&&(Bn.removeAttribute("aria-invalid"),Bn.removeAttribute("aria-describedby"),Ai(Bn,ln.inputerror))}const Zl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Pl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ic={},hc=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ol=Ln=>Object.prototype.hasOwnProperty.call(Zl,Ln),Kc=Ln=>Pl.indexOf(Ln)!==-1,Xl=Ln=>ic[Ln],fc=Ln=>{Ol(Ln)||kn('Unknown parameter "'.concat(Ln,'"'))},Zc=Ln=>{hc.includes(Ln)&&kn('The parameter "'.concat(Ln,'" is incompatible with toasts'))},wc=Ln=>{const Bn=Xl(Ln);Bn&&Cn(Ln,Bn)},Iu=Ln=>{Ln.backdrop===!1&&Ln.allowOutsideClick&&kn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Bn in Ln)fc(Bn),Ln.toast&&Zc(Bn),wc(Bn)};function ls(Ln){const Bn=qn(),ei=Ro.innerParams.get(this);if(!Bn||ka(Bn,ei.hideClass.popup)){kn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const mi=pu(Ln),Qi=Object.assign({},ei,mi);Mo(this,Qi),Ro.innerParams.set(this,Qi),Object.defineProperties(this,{params:{value:Object.assign({},this.params,Ln),writable:!1,enumerable:!0}})}const pu=Ln=>{const Bn={};return Object.keys(Ln).forEach(ei=>{Kc(ei)?Bn[ei]=Ln[ei]:kn("Invalid parameter to update: ".concat(ei))}),Bn};function qs(){const Ln=Ro.domCache.get(this),Bn=Ro.innerParams.get(this);if(!Bn){Ec(this);return}Ln.popup&&Kr.swalCloseEventFinishedCallback&&(Kr.swalCloseEventFinishedCallback(),delete Kr.swalCloseEventFinishedCallback),typeof Bn.didDestroy=="function"&&Bn.didDestroy(),sl(this)}const sl=Ln=>{Ec(Ln),delete Ln.params,delete Kr.keydownHandler,delete Kr.keydownTarget,delete Kr.currentInstance},Ec=Ln=>{Ln.isAwaitingPromise?(Ju(Ro,Ln),Ln.isAwaitingPromise=!0):(Ju(Ta,Ln),Ju(Ro,Ln),delete Ln.isAwaitingPromise,delete Ln.disableButtons,delete Ln.enableButtons,delete Ln.getInput,delete Ln.disableInput,delete Ln.enableInput,delete Ln.hideLoading,delete Ln.disableLoading,delete Ln.showValidationMessage,delete Ln.resetValidationMessage,delete Ln.close,delete Ln.closePopup,delete Ln.closeModal,delete Ln.closeToast,delete Ln.rejectPromise,delete Ln.update,delete Ln._destroy)},Ju=(Ln,Bn)=>{for(const ei in Ln)Ln[ei].delete(Bn)};var ed=Object.freeze({__proto__:null,_destroy:qs,close:Wi,closeModal:Wi,closePopup:Wi,closeToast:Wi,disableButtons:Qa,disableInput:nc,disableLoading:Ss,enableButtons:ws,enableInput:Ps,getInput:ql,handleAwaitingPromise:ca,hideLoading:Ss,rejectPromise:Xo,resetValidationMessage:Kl,showValidationMessage:qc,update:ls});const pc=(Ln,Bn,ei)=>{Ln.toast?Xc(Ln,Bn,ei):(Rl(Bn),Qc(Bn),Jc(Ln,Bn,ei))},Xc=(Ln,Bn,ei)=>{Bn.popup.onclick=()=>{Ln&&(gc(Ln)||Ln.timer||Ln.input)||ei(xa.close)}},gc=Ln=>!!(Ln.showConfirmButton||Ln.showDenyButton||Ln.showCancelButton||Ln.showCloseButton);let mc=!1;const Rl=Ln=>{Ln.popup.onmousedown=()=>{Ln.container.onmouseup=function(Bn){Ln.container.onmouseup=()=>{},Bn.target===Ln.container&&(mc=!0)}}},Qc=Ln=>{Ln.container.onmousedown=()=>{Ln.popup.onmouseup=function(Bn){Ln.popup.onmouseup=()=>{},(Bn.target===Ln.popup||Bn.target instanceof HTMLElement&&Ln.popup.contains(Bn.target))&&(mc=!0)}}},Jc=(Ln,Bn,ei)=>{Bn.container.onclick=mi=>{if(mc){mc=!1;return}mi.target===Bn.container&&En(Ln.allowOutsideClick)&&ei(xa.backdrop)}},td=Ln=>typeof Ln=="object"&&Ln.jquery,rd=Ln=>Ln instanceof Element||td(Ln),Lu=Ln=>{const Bn={};return typeof Ln[0]=="object"&&!rd(Ln[0])?Object.assign(Bn,Ln[0]):["title","html","icon"].forEach((ei,mi)=>{const Qi=Ln[mi];typeof Qi=="string"||rd(Qi)?Bn[ei]=Qi:Qi!==void 0&&Sn("Unexpected type of ".concat(ei,'! Expected "string" or "Element", got ').concat(typeof Qi))}),Bn};function gu(){const Ln=this;for(var Bn=arguments.length,ei=new Array(Bn),mi=0;mi<Bn;mi++)ei[mi]=arguments[mi];return new Ln(...ei)}function Pu(Ln){class Bn extends this{_main(mi,Qi){return super._main(mi,Object.assign({},Ln,Qi))}}return Bn}const eu=()=>Kr.timeout&&Kr.timeout.getTimerLeft(),mu=()=>{if(Kr.timeout)return oo(),Kr.timeout.stop()},vu=()=>{if(Kr.timeout){const Ln=Kr.timeout.start();return Lo(Ln),Ln}},di=()=>{const Ln=Kr.timeout;return Ln&&(Ln.running?mu():vu())},Si=Ln=>{if(Kr.timeout){const Bn=Kr.timeout.increase(Ln);return Lo(Bn,!0),Bn}},Bi=()=>!!(Kr.timeout&&Kr.timeout.isRunning());let Hi=!1;const Xi={};function Co(){let Ln=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Xi[Ln]=this,Hi||(document.body.addEventListener("click",No),Hi=!0)}const No=Ln=>{for(let Bn=Ln.target;Bn&&Bn!==document;Bn=Bn.parentNode)for(const ei in Xi){const mi=Bn.getAttribute(ei);if(mi){Xi[ei].fire({template:mi});return}}};var Ao=Object.freeze({__proto__:null,argsToParams:Lu,bindClickHandler:Co,clickCancel:Po,clickConfirm:jo,clickDeny:Zo,enableLoading:Sl,fire:gu,getActions:lo,getCancelButton:Ni,getCloseButton:Ki,getConfirmButton:ui,getContainer:Fn,getDenyButton:$i,getFocusableElements:Io,getFooter:ho,getHtmlContainer:Ci,getIcon:ni,getIconContent:oi,getImage:Fi,getInputLabel:Vi,getLoader:ji,getPopup:qn,getProgressSteps:Zn,getTimerLeft:eu,getTimerProgressBar:so,getTitle:wi,getValidationMessage:Gn,increaseTimer:Si,isDeprecatedParameter:Xl,isLoading:qo,isTimerRunning:Bi,isUpdatableParameter:Kc,isValidParameter:Ol,isVisible:vo,mixin:Pu,resumeTimer:vu,showLoading:Sl,stopTimer:mu,toggleTimer:di});class Bo{constructor(Bn,ei){this.callback=Bn,this.remaining=ei,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Bn){const ei=this.running;return ei&&this.stop(),this.remaining+=Bn,ei&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ra=["swal-title","swal-html","swal-footer"],oa=Ln=>{const Bn=typeof Ln.template=="string"?document.querySelector(Ln.template):Ln.template;if(!Bn)return{};const ei=Bn.content;return Ql(ei),Object.assign(ma(ei),Va(ei),ua(ei),za(ei),Hs(ei),Vs(ei),Ks(ei,Ra))},ma=Ln=>{const Bn={};return Array.from(Ln.querySelectorAll("swal-param")).forEach(mi=>{$l(mi,["name","value"]);const Qi=mi.getAttribute("name"),ta=mi.getAttribute("value");typeof Zl[Qi]=="boolean"?Bn[Qi]=ta!=="false":typeof Zl[Qi]=="object"?Bn[Qi]=JSON.parse(ta):Bn[Qi]=ta}),Bn},Va=Ln=>{const Bn={};return Array.from(Ln.querySelectorAll("swal-function-param")).forEach(mi=>{const Qi=mi.getAttribute("name"),ta=mi.getAttribute("value");Bn[Qi]=new Function("return ".concat(ta))()}),Bn},ua=Ln=>{const Bn={};return Array.from(Ln.querySelectorAll("swal-button")).forEach(mi=>{$l(mi,["type","color","aria-label"]);const Qi=mi.getAttribute("type");Bn["".concat(Qi,"ButtonText")]=mi.innerHTML,Bn["show".concat(bn(Qi),"Button")]=!0,mi.hasAttribute("color")&&(Bn["".concat(Qi,"ButtonColor")]=mi.getAttribute("color")),mi.hasAttribute("aria-label")&&(Bn["".concat(Qi,"ButtonAriaLabel")]=mi.getAttribute("aria-label"))}),Bn},za=Ln=>{const Bn={},ei=Ln.querySelector("swal-image");return ei&&($l(ei,["src","width","height","alt"]),ei.hasAttribute("src")&&(Bn.imageUrl=ei.getAttribute("src")),ei.hasAttribute("width")&&(Bn.imageWidth=ei.getAttribute("width")),ei.hasAttribute("height")&&(Bn.imageHeight=ei.getAttribute("height")),ei.hasAttribute("alt")&&(Bn.imageAlt=ei.getAttribute("alt"))),Bn},Hs=Ln=>{const Bn={},ei=Ln.querySelector("swal-icon");return ei&&($l(ei,["type","color"]),ei.hasAttribute("type")&&(Bn.icon=ei.getAttribute("type")),ei.hasAttribute("color")&&(Bn.iconColor=ei.getAttribute("color")),Bn.iconHtml=ei.innerHTML),Bn},Vs=Ln=>{const Bn={},ei=Ln.querySelector("swal-input");ei&&($l(ei,["type","label","placeholder","value"]),Bn.input=ei.getAttribute("type")||"text",ei.hasAttribute("label")&&(Bn.inputLabel=ei.getAttribute("label")),ei.hasAttribute("placeholder")&&(Bn.inputPlaceholder=ei.getAttribute("placeholder")),ei.hasAttribute("value")&&(Bn.inputValue=ei.getAttribute("value")));const mi=Array.from(Ln.querySelectorAll("swal-input-option"));return mi.length&&(Bn.inputOptions={},mi.forEach(Qi=>{$l(Qi,["value"]);const ta=Qi.getAttribute("value"),Ja=Qi.innerHTML;Bn.inputOptions[ta]=Ja})),Bn},Ks=(Ln,Bn)=>{const ei={};for(const mi in Bn){const Qi=Bn[mi],ta=Ln.querySelector(Qi);ta&&($l(ta,[]),ei[Qi.replace(/^swal-/,"")]=ta.innerHTML.trim())}return ei},Ql=Ln=>{const Bn=Ra.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(Ln.children).forEach(ei=>{const mi=ei.tagName.toLowerCase();Bn.includes(mi)||kn("Unrecognized element <".concat(mi,">"))})},$l=(Ln,Bn)=>{Array.from(Ln.attributes).forEach(ei=>{Bn.indexOf(ei.name)===-1&&kn(['Unrecognized attribute "'.concat(ei.name,'" on <').concat(Ln.tagName.toLowerCase(),">."),"".concat(Bn.length?"Allowed attributes are: ".concat(Bn.join(", ")):"To set the value, use HTML within the element.")])})},Xs=10,Sa=Ln=>{const Bn=Fn(),ei=qn();typeof Ln.willOpen=="function"&&Ln.willOpen(ei);const Qi=window.getComputedStyle(document.body).overflowY;Nc(Bn,ei,Ln),setTimeout(()=>{ns(Bn,ei)},Xs),Ji()&&(kc(Bn,Ln.scrollbarPadding,Qi),_s()),!Yo()&&!Kr.previousActiveElement&&(Kr.previousActiveElement=document.activeElement),typeof Ln.didOpen=="function"&&setTimeout(()=>Ln.didOpen(ei)),Ai(Bn,ln["no-transition"])},$c=Ln=>{const Bn=qn();if(Ln.target!==Bn||!hs)return;const ei=Fn();Bn.removeEventListener(hs,$c),ei.style.overflowY="auto"},ns=(Ln,Bn)=>{hs&&Ui(Bn)?(Ln.style.overflowY="hidden",Bn.addEventListener(hs,$c)):Ln.style.overflowY="auto"},kc=(Ln,Bn,ei)=>{Is(),Bn&&ei!=="hidden"&&Dc(ei),setTimeout(()=>{Ln.scrollTop=0})},Nc=(Ln,Bn,ei)=>{hi(Ln,ei.showClass.backdrop),Bn.style.setProperty("opacity","0","important"),_i(Bn,"grid"),setTimeout(()=>{hi(Bn,ei.showClass.popup),Bn.style.removeProperty("opacity")},Xs),hi([document.documentElement,document.body],ln.shown),ei.heightAuto&&ei.backdrop&&!ei.toast&&hi([document.documentElement,document.body],ln["height-auto"])};var Ou={email:(Ln,Bn)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(Ln)?Promise.resolve():Promise.resolve(Bn||"Invalid email address"),url:(Ln,Bn)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(Ln)?Promise.resolve():Promise.resolve(Bn||"Invalid URL")};function js(Ln){Ln.inputValidator||(Ln.input==="email"&&(Ln.inputValidator=Ou.email),Ln.input==="url"&&(Ln.inputValidator=Ou.url))}function nd(Ln){(!Ln.target||typeof Ln.target=="string"&&!document.querySelector(Ln.target)||typeof Ln.target!="string"&&!Ln.target.appendChild)&&(kn('Target parameter is not valid, defaulting to "body"'),Ln.target="body")}function Ru(Ln){js(Ln),Ln.showLoaderOnConfirm&&!Ln.preConfirm&&kn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),nd(Ln),typeof Ln.title=="string"&&(Ln.title=Ln.title.split(`
`).join("<br />")),gl(Ln)}let vc;var yu=new WeakMap;class Ia{constructor(){if(Gr(this,yu,{writable:!0,value:void 0}),typeof window>"u")return;vc=this;for(var Bn=arguments.length,ei=new Array(Bn),mi=0;mi<Bn;mi++)ei[mi]=arguments[mi];const Qi=Object.freeze(this.constructor.argsToParams(ei));this.params=Qi,this.isAwaitingPromise=!1,Br(this,yu,this._main(vc.params))}_main(Bn){let ei=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Iu(Object.assign({},ei,Bn)),Kr.currentInstance&&(Kr.currentInstance._destroy(),Ji()&&ts()),Kr.currentInstance=vc;const mi=Hd(Bn,ei);Ru(mi),Object.freeze(mi),Kr.timeout&&(Kr.timeout.stop(),delete Kr.timeout),clearTimeout(Kr.restoreFocusTimeout);const Qi=kd(vc);return Mo(vc,mi),Ro.innerParams.set(vc,mi),wd(vc,Qi,mi)}then(Bn){return $r(this,yu).then(Bn)}finally(Bn){return $r(this,yu).finally(Bn)}}const wd=(Ln,Bn,ei)=>new Promise((mi,Qi)=>{const ta=Ja=>{Ln.close({isDismissed:!0,dismiss:Ja})};Ta.swalPromiseResolve.set(Ln,mi),Ta.swalPromiseReject.set(Ln,Qi),Bn.confirmButton.onclick=()=>{yi(Ln)},Bn.denyButton.onclick=()=>{Ii(Ln)},Bn.cancelButton.onclick=()=>{qi(Ln,ta)},Bn.closeButton.onclick=()=>{ta(xa.close)},pc(ei,Bn,ta),Fa(Kr,ei,ta),Dl(Ln,ei),Sa(ei),$u(Kr,ei,ta),Ad(Bn,ei),setTimeout(()=>{Bn.container.scrollTop=0})}),Hd=(Ln,Bn)=>{const ei=oa(Ln),mi=Object.assign({},Zl,Bn,ei,Ln);return mi.showClass=Object.assign({},Zl.showClass,mi.showClass),mi.hideClass=Object.assign({},Zl.hideClass,mi.hideClass),mi},kd=Ln=>{const Bn={popup:qn(),container:Fn(),actions:lo(),confirmButton:ui(),denyButton:$i(),cancelButton:Ni(),loader:ji(),closeButton:Ki(),validationMessage:Gn(),progressSteps:Zn()};return Ro.domCache.set(Ln,Bn),Bn},$u=(Ln,Bn,ei)=>{const mi=so();pi(mi),Bn.timer&&(Ln.timeout=new Bo(()=>{ei("timer"),delete Ln.timeout},Bn.timer),Bn.timerProgressBar&&(_i(mi),$a(mi,Bn,"timerProgressBar"),setTimeout(()=>{Ln.timeout&&Ln.timeout.running&&Lo(Bn.timer)})))},Ad=(Ln,Bn)=>{if(!Bn.toast){if(!En(Bn.allowEnterKey)){Tc();return}Ac(Ln,Bn)||ga(-1,1)}},Ac=(Ln,Bn)=>Bn.focusDeny&&uo(Ln.denyButton)?(Ln.denyButton.focus(),!0):Bn.focusCancel&&uo(Ln.cancelButton)?(Ln.cancelButton.focus(),!0):Bn.focusConfirm&&uo(Ln.confirmButton)?(Ln.confirmButton.focus(),!0):!1,Tc=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const Ln=new Date,Bn=localStorage.getItem("swal-initiation");Bn?(Ln.getTime()-Date.parse(Bn))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const ei=document.createElement("audio");ei.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",ei.loop=!0,document.body.appendChild(ei),setTimeout(()=>{ei.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(Ln))}Ia.prototype.disableButtons=Qa,Ia.prototype.enableButtons=ws,Ia.prototype.getInput=ql,Ia.prototype.disableInput=nc,Ia.prototype.enableInput=Ps,Ia.prototype.hideLoading=Ss,Ia.prototype.disableLoading=Ss,Ia.prototype.showValidationMessage=qc,Ia.prototype.resetValidationMessage=Kl,Ia.prototype.close=Wi,Ia.prototype.closePopup=Wi,Ia.prototype.closeModal=Wi,Ia.prototype.closeToast=Wi,Ia.prototype.rejectPromise=Xo,Ia.prototype.update=ls,Ia.prototype._destroy=qs,Object.assign(Ia,Ao),Object.keys(ed).forEach(Ln=>{Ia[Ln]=function(){return vc&&vc[Ln]?vc[Ln](...arguments):null}}),Ia.DismissReason=xa,Ia.version="11.9.0";const Nu=Ia;return Nu.default=Nu,Nu}),typeof commonjsGlobal<"u"&&commonjsGlobal.Sweetalert2&&(commonjsGlobal.swal=commonjsGlobal.sweetAlert=commonjsGlobal.Swal=commonjsGlobal.SweetAlert=commonjsGlobal.Sweetalert2)})(sweetalert2$1);var sweetalert2Exports=sweetalert2$1.exports;const Swal$1=getDefaultExportFromCjs(sweetalert2Exports);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ownKeys$2(Fe,_r){var $r=Object.keys(Fe);if(Object.getOwnPropertySymbols){var Br=Object.getOwnPropertySymbols(Fe);_r&&(Br=Br.filter(function(Fr){return Object.getOwnPropertyDescriptor(Fe,Fr).enumerable})),$r.push.apply($r,Br)}return $r}function _objectSpread2$1(Fe){for(var _r=1;_r<arguments.length;_r++){var $r=arguments[_r]!=null?arguments[_r]:{};_r%2?ownKeys$2(Object($r),!0).forEach(function(Br){_defineProperty$2(Fe,Br,$r[Br])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fe,Object.getOwnPropertyDescriptors($r)):ownKeys$2(Object($r)).forEach(function(Br){Object.defineProperty(Fe,Br,Object.getOwnPropertyDescriptor($r,Br))})}return Fe}function _typeof(Fe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(_r){return typeof _r}:_typeof=function(_r){return _r&&typeof Symbol=="function"&&_r.constructor===Symbol&&_r!==Symbol.prototype?"symbol":typeof _r},_typeof(Fe)}function _defineProperty$2(Fe,_r,$r){return _r in Fe?Object.defineProperty(Fe,_r,{value:$r,enumerable:!0,configurable:!0,writable:!0}):Fe[_r]=$r,Fe}function _extends(){return _extends=Object.assign||function(Fe){for(var _r=1;_r<arguments.length;_r++){var $r=arguments[_r];for(var Br in $r)Object.prototype.hasOwnProperty.call($r,Br)&&(Fe[Br]=$r[Br])}return Fe},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(Fe,_r){if(Fe==null)return{};var $r={},Br=Object.keys(Fe),Fr,zr;for(zr=0;zr<Br.length;zr++)Fr=Br[zr],!(_r.indexOf(Fr)>=0)&&($r[Fr]=Fe[Fr]);return $r}function _objectWithoutProperties(Fe,_r){if(Fe==null)return{};var $r=_objectWithoutPropertiesLoose(Fe,_r),Br,Fr;if(Object.getOwnPropertySymbols){var zr=Object.getOwnPropertySymbols(Fe);for(Fr=0;Fr<zr.length;Fr++)Br=zr[Fr],!(_r.indexOf(Br)>=0)&&Object.prototype.propertyIsEnumerable.call(Fe,Br)&&($r[Br]=Fe[Br])}return $r}var version$2="1.15.0";function userAgent(Fe){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(Fe)}var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on$1(Fe,_r,$r){Fe.addEventListener(_r,$r,!IE11OrLess&&captureMode)}function off(Fe,_r,$r){Fe.removeEventListener(_r,$r,!IE11OrLess&&captureMode)}function matches$1(Fe,_r){if(_r){if(_r[0]===">"&&(_r=_r.substring(1)),Fe)try{if(Fe.matches)return Fe.matches(_r);if(Fe.msMatchesSelector)return Fe.msMatchesSelector(_r);if(Fe.webkitMatchesSelector)return Fe.webkitMatchesSelector(_r)}catch{return!1}return!1}}function getParentOrHost(Fe){return Fe.host&&Fe!==document&&Fe.host.nodeType?Fe.host:Fe.parentNode}function closest(Fe,_r,$r,Br){if(Fe){$r=$r||document;do{if(_r!=null&&(_r[0]===">"?Fe.parentNode===$r&&matches$1(Fe,_r):matches$1(Fe,_r))||Br&&Fe===$r)return Fe;if(Fe===$r)break}while(Fe=getParentOrHost(Fe))}return null}var R_SPACE=/\s+/g;function toggleClass(Fe,_r,$r){if(Fe&&_r)if(Fe.classList)Fe.classList[$r?"add":"remove"](_r);else{var Br=(" "+Fe.className+" ").replace(R_SPACE," ").replace(" "+_r+" "," ");Fe.className=(Br+($r?" "+_r:"")).replace(R_SPACE," ")}}function css(Fe,_r,$r){var Br=Fe&&Fe.style;if(Br){if($r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?$r=document.defaultView.getComputedStyle(Fe,""):Fe.currentStyle&&($r=Fe.currentStyle),_r===void 0?$r:$r[_r];!(_r in Br)&&_r.indexOf("webkit")===-1&&(_r="-webkit-"+_r),Br[_r]=$r+(typeof $r=="string"?"":"px")}}function matrix$1(Fe,_r){var $r="";if(typeof Fe=="string")$r=Fe;else do{var Br=css(Fe,"transform");Br&&Br!=="none"&&($r=Br+" "+$r)}while(!_r&&(Fe=Fe.parentNode));var Fr=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return Fr&&new Fr($r)}function find$1(Fe,_r,$r){if(Fe){var Br=Fe.getElementsByTagName(_r),Fr=0,zr=Br.length;if($r)for(;Fr<zr;Fr++)$r(Br[Fr],Fr);return Br}return[]}function getWindowScrollingElement(){var Fe=document.scrollingElement;return Fe||document.documentElement}function getRect(Fe,_r,$r,Br,Fr){if(!(!Fe.getBoundingClientRect&&Fe!==window)){var zr,jr,Ur,Gr,Yr,Kr,Qr;if(Fe!==window&&Fe.parentNode&&Fe!==getWindowScrollingElement()?(zr=Fe.getBoundingClientRect(),jr=zr.top,Ur=zr.left,Gr=zr.bottom,Yr=zr.right,Kr=zr.height,Qr=zr.width):(jr=0,Ur=0,Gr=window.innerHeight,Yr=window.innerWidth,Kr=window.innerHeight,Qr=window.innerWidth),(_r||$r)&&Fe!==window&&(Fr=Fr||Fe.parentNode,!IE11OrLess))do if(Fr&&Fr.getBoundingClientRect&&(css(Fr,"transform")!=="none"||$r&&css(Fr,"position")!=="static")){var Jr=Fr.getBoundingClientRect();jr-=Jr.top+parseInt(css(Fr,"border-top-width")),Ur-=Jr.left+parseInt(css(Fr,"border-left-width")),Gr=jr+zr.height,Yr=Ur+zr.width;break}while(Fr=Fr.parentNode);if(Br&&Fe!==window){var rn=matrix$1(Fr||Fe),an=rn&&rn.a,ln=rn&&rn.d;rn&&(jr/=ln,Ur/=an,Qr/=an,Kr/=ln,Gr=jr+Kr,Yr=Ur+Qr)}return{top:jr,left:Ur,bottom:Gr,right:Yr,width:Qr,height:Kr}}}function isScrolledPast(Fe,_r,$r){for(var Br=getParentAutoScrollElement(Fe,!0),Fr=getRect(Fe)[_r];Br;){var zr=getRect(Br)[$r],jr=void 0;if($r==="top"||$r==="left"?jr=Fr>=zr:jr=Fr<=zr,!jr)return Br;if(Br===getWindowScrollingElement())break;Br=getParentAutoScrollElement(Br,!1)}return!1}function getChild(Fe,_r,$r,Br){for(var Fr=0,zr=0,jr=Fe.children;zr<jr.length;){if(jr[zr].style.display!=="none"&&jr[zr]!==Sortable.ghost&&(Br||jr[zr]!==Sortable.dragged)&&closest(jr[zr],$r.draggable,Fe,!1)){if(Fr===_r)return jr[zr];Fr++}zr++}return null}function lastChild(Fe,_r){for(var $r=Fe.lastElementChild;$r&&($r===Sortable.ghost||css($r,"display")==="none"||_r&&!matches$1($r,_r));)$r=$r.previousElementSibling;return $r||null}function index(Fe,_r){var $r=0;if(!Fe||!Fe.parentNode)return-1;for(;Fe=Fe.previousElementSibling;)Fe.nodeName.toUpperCase()!=="TEMPLATE"&&Fe!==Sortable.clone&&(!_r||matches$1(Fe,_r))&&$r++;return $r}function getRelativeScrollOffset(Fe){var _r=0,$r=0,Br=getWindowScrollingElement();if(Fe)do{var Fr=matrix$1(Fe),zr=Fr.a,jr=Fr.d;_r+=Fe.scrollLeft*zr,$r+=Fe.scrollTop*jr}while(Fe!==Br&&(Fe=Fe.parentNode));return[_r,$r]}function indexOfObject(Fe,_r){for(var $r in Fe)if(Fe.hasOwnProperty($r)){for(var Br in _r)if(_r.hasOwnProperty(Br)&&_r[Br]===Fe[$r][Br])return Number($r)}return-1}function getParentAutoScrollElement(Fe,_r){if(!Fe||!Fe.getBoundingClientRect)return getWindowScrollingElement();var $r=Fe,Br=!1;do if($r.clientWidth<$r.scrollWidth||$r.clientHeight<$r.scrollHeight){var Fr=css($r);if($r.clientWidth<$r.scrollWidth&&(Fr.overflowX=="auto"||Fr.overflowX=="scroll")||$r.clientHeight<$r.scrollHeight&&(Fr.overflowY=="auto"||Fr.overflowY=="scroll")){if(!$r.getBoundingClientRect||$r===document.body)return getWindowScrollingElement();if(Br||_r)return $r;Br=!0}}while($r=$r.parentNode);return getWindowScrollingElement()}function extend$5(Fe,_r){if(Fe&&_r)for(var $r in _r)_r.hasOwnProperty($r)&&(Fe[$r]=_r[$r]);return Fe}function isRectEqual(Fe,_r){return Math.round(Fe.top)===Math.round(_r.top)&&Math.round(Fe.left)===Math.round(_r.left)&&Math.round(Fe.height)===Math.round(_r.height)&&Math.round(Fe.width)===Math.round(_r.width)}var _throttleTimeout;function throttle$2(Fe,_r){return function(){if(!_throttleTimeout){var $r=arguments,Br=this;$r.length===1?Fe.call(Br,$r[0]):Fe.apply(Br,$r),_throttleTimeout=setTimeout(function(){_throttleTimeout=void 0},_r)}}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(Fe,_r,$r){Fe.scrollLeft+=_r,Fe.scrollTop+=$r}function clone$7(Fe){var _r=window.Polymer,$r=window.jQuery||window.Zepto;return _r&&_r.dom?_r.dom(Fe).cloneNode(!0):$r?$r(Fe).clone(!0)[0]:Fe.cloneNode(!0)}var expando="Sortable"+new Date().getTime();function AnimationStateManager(){var Fe=[],_r;return{captureAnimationState:function(){if(Fe=[],!!this.options.animation){var Br=[].slice.call(this.el.children);Br.forEach(function(Fr){if(!(css(Fr,"display")==="none"||Fr===Sortable.ghost)){Fe.push({target:Fr,rect:getRect(Fr)});var zr=_objectSpread2$1({},Fe[Fe.length-1].rect);if(Fr.thisAnimationDuration){var jr=matrix$1(Fr,!0);jr&&(zr.top-=jr.f,zr.left-=jr.e)}Fr.fromRect=zr}})}},addAnimationState:function(Br){Fe.push(Br)},removeAnimationState:function(Br){Fe.splice(indexOfObject(Fe,{target:Br}),1)},animateAll:function(Br){var Fr=this;if(!this.options.animation){clearTimeout(_r),typeof Br=="function"&&Br();return}var zr=!1,jr=0;Fe.forEach(function(Ur){var Gr=0,Yr=Ur.target,Kr=Yr.fromRect,Qr=getRect(Yr),Jr=Yr.prevFromRect,rn=Yr.prevToRect,an=Ur.rect,ln=matrix$1(Yr,!0);ln&&(Qr.top-=ln.f,Qr.left-=ln.e),Yr.toRect=Qr,Yr.thisAnimationDuration&&isRectEqual(Jr,Qr)&&!isRectEqual(Kr,Qr)&&(an.top-Qr.top)/(an.left-Qr.left)===(Kr.top-Qr.top)/(Kr.left-Qr.left)&&(Gr=calculateRealTime(an,Jr,rn,Fr.options)),isRectEqual(Qr,Kr)||(Yr.prevFromRect=Kr,Yr.prevToRect=Qr,Gr||(Gr=Fr.options.animation),Fr.animate(Yr,an,Qr,Gr)),Gr&&(zr=!0,jr=Math.max(jr,Gr),clearTimeout(Yr.animationResetTimer),Yr.animationResetTimer=setTimeout(function(){Yr.animationTime=0,Yr.prevFromRect=null,Yr.fromRect=null,Yr.prevToRect=null,Yr.thisAnimationDuration=null},Gr),Yr.thisAnimationDuration=Gr)}),clearTimeout(_r),zr?_r=setTimeout(function(){typeof Br=="function"&&Br()},jr):typeof Br=="function"&&Br(),Fe=[]},animate:function(Br,Fr,zr,jr){if(jr){css(Br,"transition",""),css(Br,"transform","");var Ur=matrix$1(this.el),Gr=Ur&&Ur.a,Yr=Ur&&Ur.d,Kr=(Fr.left-zr.left)/(Gr||1),Qr=(Fr.top-zr.top)/(Yr||1);Br.animatingX=!!Kr,Br.animatingY=!!Qr,css(Br,"transform","translate3d("+Kr+"px,"+Qr+"px,0)"),this.forRepaintDummy=repaint(Br),css(Br,"transition","transform "+jr+"ms"+(this.options.easing?" "+this.options.easing:"")),css(Br,"transform","translate3d(0,0,0)"),typeof Br.animated=="number"&&clearTimeout(Br.animated),Br.animated=setTimeout(function(){css(Br,"transition",""),css(Br,"transform",""),Br.animated=!1,Br.animatingX=!1,Br.animatingY=!1},jr)}}}}function repaint(Fe){return Fe.offsetWidth}function calculateRealTime(Fe,_r,$r,Br){return Math.sqrt(Math.pow(_r.top-Fe.top,2)+Math.pow(_r.left-Fe.left,2))/Math.sqrt(Math.pow(_r.top-$r.top,2)+Math.pow(_r.left-$r.left,2))*Br.animation}var plugins=[],defaults$4={initializeByDefault:!0},PluginManager={mount:function(_r){for(var $r in defaults$4)defaults$4.hasOwnProperty($r)&&!($r in _r)&&(_r[$r]=defaults$4[$r]);plugins.forEach(function(Br){if(Br.pluginName===_r.pluginName)throw"Sortable: Cannot mount plugin ".concat(_r.pluginName," more than once")}),plugins.push(_r)},pluginEvent:function(_r,$r,Br){var Fr=this;this.eventCanceled=!1,Br.cancel=function(){Fr.eventCanceled=!0};var zr=_r+"Global";plugins.forEach(function(jr){$r[jr.pluginName]&&($r[jr.pluginName][zr]&&$r[jr.pluginName][zr](_objectSpread2$1({sortable:$r},Br)),$r.options[jr.pluginName]&&$r[jr.pluginName][_r]&&$r[jr.pluginName][_r](_objectSpread2$1({sortable:$r},Br)))})},initializePlugins:function(_r,$r,Br,Fr){plugins.forEach(function(Ur){var Gr=Ur.pluginName;if(!(!_r.options[Gr]&&!Ur.initializeByDefault)){var Yr=new Ur(_r,$r,_r.options);Yr.sortable=_r,Yr.options=_r.options,_r[Gr]=Yr,_extends(Br,Yr.defaults)}});for(var zr in _r.options)if(_r.options.hasOwnProperty(zr)){var jr=this.modifyOption(_r,zr,_r.options[zr]);typeof jr<"u"&&(_r.options[zr]=jr)}},getEventProperties:function(_r,$r){var Br={};return plugins.forEach(function(Fr){typeof Fr.eventProperties=="function"&&_extends(Br,Fr.eventProperties.call($r[Fr.pluginName],_r))}),Br},modifyOption:function(_r,$r,Br){var Fr;return plugins.forEach(function(zr){_r[zr.pluginName]&&zr.optionListeners&&typeof zr.optionListeners[$r]=="function"&&(Fr=zr.optionListeners[$r].call(_r[zr.pluginName],Br))}),Fr}};function dispatchEvent(Fe){var _r=Fe.sortable,$r=Fe.rootEl,Br=Fe.name,Fr=Fe.targetEl,zr=Fe.cloneEl,jr=Fe.toEl,Ur=Fe.fromEl,Gr=Fe.oldIndex,Yr=Fe.newIndex,Kr=Fe.oldDraggableIndex,Qr=Fe.newDraggableIndex,Jr=Fe.originalEvent,rn=Fe.putSortable,an=Fe.extraEventProperties;if(_r=_r||$r&&$r[expando],!!_r){var ln,dn=_r.options,hn="on"+Br.charAt(0).toUpperCase()+Br.substr(1);window.CustomEvent&&!IE11OrLess&&!Edge?ln=new CustomEvent(Br,{bubbles:!0,cancelable:!0}):(ln=document.createEvent("Event"),ln.initEvent(Br,!0,!0)),ln.to=jr||$r,ln.from=Ur||$r,ln.item=Fr||$r,ln.clone=zr,ln.oldIndex=Gr,ln.newIndex=Yr,ln.oldDraggableIndex=Kr,ln.newDraggableIndex=Qr,ln.originalEvent=Jr,ln.pullMode=rn?rn.lastPutMode:void 0;var gn=_objectSpread2$1(_objectSpread2$1({},an),PluginManager.getEventProperties(Br,_r));for(var bn in gn)ln[bn]=gn[bn];$r&&$r.dispatchEvent(ln),dn[hn]&&dn[hn].call(_r,ln)}}var _excluded=["evt"],pluginEvent=function(_r,$r){var Br=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Fr=Br.evt,zr=_objectWithoutProperties(Br,_excluded);PluginManager.pluginEvent.bind(Sortable)(_r,$r,_objectSpread2$1({dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,dragStarted:moved,putSortable,activeSortable:Sortable.active,originalEvent:Fr,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:function(){cloneHidden=!0},cloneNowShown:function(){cloneHidden=!1},dispatchSortableEvent:function(Ur){_dispatchEvent({sortable:$r,name:Ur,originalEvent:Fr})}},zr))};function _dispatchEvent(Fe){dispatchEvent(_objectSpread2$1({putSortable,cloneEl,targetEl:dragEl,rootEl,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex},Fe))}var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,pastFirstInvertThresh=!1,isCircumstantialInvert=!1,targetMoveDistance,ghostRelativeParent,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists=typeof document<"u",PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(documentExists){if(IE11OrLess)return!1;var Fe=document.createElement("x");return Fe.style.cssText="pointer-events:auto",Fe.style.pointerEvents==="auto"}}(),_detectDirection=function(_r,$r){var Br=css(_r),Fr=parseInt(Br.width)-parseInt(Br.paddingLeft)-parseInt(Br.paddingRight)-parseInt(Br.borderLeftWidth)-parseInt(Br.borderRightWidth),zr=getChild(_r,0,$r),jr=getChild(_r,1,$r),Ur=zr&&css(zr),Gr=jr&&css(jr),Yr=Ur&&parseInt(Ur.marginLeft)+parseInt(Ur.marginRight)+getRect(zr).width,Kr=Gr&&parseInt(Gr.marginLeft)+parseInt(Gr.marginRight)+getRect(jr).width;if(Br.display==="flex")return Br.flexDirection==="column"||Br.flexDirection==="column-reverse"?"vertical":"horizontal";if(Br.display==="grid")return Br.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(zr&&Ur.float&&Ur.float!=="none"){var Qr=Ur.float==="left"?"left":"right";return jr&&(Gr.clear==="both"||Gr.clear===Qr)?"vertical":"horizontal"}return zr&&(Ur.display==="block"||Ur.display==="flex"||Ur.display==="table"||Ur.display==="grid"||Yr>=Fr&&Br[CSSFloatProperty]==="none"||jr&&Br[CSSFloatProperty]==="none"&&Yr+Kr>Fr)?"vertical":"horizontal"},_dragElInRowColumn=function(_r,$r,Br){var Fr=Br?_r.left:_r.top,zr=Br?_r.right:_r.bottom,jr=Br?_r.width:_r.height,Ur=Br?$r.left:$r.top,Gr=Br?$r.right:$r.bottom,Yr=Br?$r.width:$r.height;return Fr===Ur||zr===Gr||Fr+jr/2===Ur+Yr/2},_detectNearestEmptySortable=function(_r,$r){var Br;return sortables.some(function(Fr){var zr=Fr[expando].options.emptyInsertThreshold;if(!(!zr||lastChild(Fr))){var jr=getRect(Fr),Ur=_r>=jr.left-zr&&_r<=jr.right+zr,Gr=$r>=jr.top-zr&&$r<=jr.bottom+zr;if(Ur&&Gr)return Br=Fr}}),Br},_prepareGroup=function(_r){function $r(zr,jr){return function(Ur,Gr,Yr,Kr){var Qr=Ur.options.group.name&&Gr.options.group.name&&Ur.options.group.name===Gr.options.group.name;if(zr==null&&(jr||Qr))return!0;if(zr==null||zr===!1)return!1;if(jr&&zr==="clone")return zr;if(typeof zr=="function")return $r(zr(Ur,Gr,Yr,Kr),jr)(Ur,Gr,Yr,Kr);var Jr=(jr?Ur:Gr).options.group.name;return zr===!0||typeof zr=="string"&&zr===Jr||zr.join&&zr.indexOf(Jr)>-1}}var Br={},Fr=_r.group;(!Fr||_typeof(Fr)!="object")&&(Fr={name:Fr}),Br.name=Fr.name,Br.checkPull=$r(Fr.pull,!0),Br.checkPut=$r(Fr.put),Br.revertClone=Fr.revertClone,_r.group=Br},_hideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},_unhideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")};documentExists&&!ChromeForAndroid&&document.addEventListener("click",function(Fe){if(ignoreNextClick)return Fe.preventDefault(),Fe.stopPropagation&&Fe.stopPropagation(),Fe.stopImmediatePropagation&&Fe.stopImmediatePropagation(),ignoreNextClick=!1,!1},!0);var nearestEmptyInsertDetectEvent=function(_r){if(dragEl){_r=_r.touches?_r.touches[0]:_r;var $r=_detectNearestEmptySortable(_r.clientX,_r.clientY);if($r){var Br={};for(var Fr in _r)_r.hasOwnProperty(Fr)&&(Br[Fr]=_r[Fr]);Br.target=Br.rootEl=$r,Br.preventDefault=void 0,Br.stopPropagation=void 0,$r[expando]._onDragOver(Br)}}},_checkOutsideTargetEl=function(_r){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(_r.target)};function Sortable(Fe,_r){if(!(Fe&&Fe.nodeType&&Fe.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(Fe));this.el=Fe,this.options=_r=_extends({},_r),Fe[expando]=this;var $r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(Fe.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(Fe,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(jr,Ur){jr.setData("Text",Ur.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Sortable.supportPointer!==!1&&"PointerEvent"in window&&!Safari,emptyInsertThreshold:5};PluginManager.initializePlugins(this,Fe,$r);for(var Br in $r)!(Br in _r)&&(_r[Br]=$r[Br]);_prepareGroup(_r);for(var Fr in this)Fr.charAt(0)==="_"&&typeof this[Fr]=="function"&&(this[Fr]=this[Fr].bind(this));this.nativeDraggable=_r.forceFallback?!1:supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),_r.supportPointer?on$1(Fe,"pointerdown",this._onTapStart):(on$1(Fe,"mousedown",this._onTapStart),on$1(Fe,"touchstart",this._onTapStart)),this.nativeDraggable&&(on$1(Fe,"dragover",this),on$1(Fe,"dragenter",this)),sortables.push(this.el),_r.store&&_r.store.get&&this.sort(_r.store.get(this)||[]),_extends(this,AnimationStateManager())}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function(_r){!this.el.contains(_r)&&_r!==this.el&&(lastTarget=null)},_getDirection:function(_r,$r){return typeof this.options.direction=="function"?this.options.direction.call(this,_r,$r,dragEl):this.options.direction},_onTapStart:function(_r){if(_r.cancelable){var $r=this,Br=this.el,Fr=this.options,zr=Fr.preventOnFilter,jr=_r.type,Ur=_r.touches&&_r.touches[0]||_r.pointerType&&_r.pointerType==="touch"&&_r,Gr=(Ur||_r).target,Yr=_r.target.shadowRoot&&(_r.path&&_r.path[0]||_r.composedPath&&_r.composedPath()[0])||Gr,Kr=Fr.filter;if(_saveInputCheckedState(Br),!dragEl&&!(/mousedown|pointerdown/.test(jr)&&_r.button!==0||Fr.disabled)&&!Yr.isContentEditable&&!(!this.nativeDraggable&&Safari&&Gr&&Gr.tagName.toUpperCase()==="SELECT")&&(Gr=closest(Gr,Fr.draggable,Br,!1),!(Gr&&Gr.animated)&&lastDownEl!==Gr)){if(oldIndex=index(Gr),oldDraggableIndex=index(Gr,Fr.draggable),typeof Kr=="function"){if(Kr.call(this,_r,Gr,this)){_dispatchEvent({sortable:$r,rootEl:Yr,name:"filter",targetEl:Gr,toEl:Br,fromEl:Br}),pluginEvent("filter",$r,{evt:_r}),zr&&_r.cancelable&&_r.preventDefault();return}}else if(Kr&&(Kr=Kr.split(",").some(function(Qr){if(Qr=closest(Yr,Qr.trim(),Br,!1),Qr)return _dispatchEvent({sortable:$r,rootEl:Qr,name:"filter",targetEl:Gr,fromEl:Br,toEl:Br}),pluginEvent("filter",$r,{evt:_r}),!0}),Kr)){zr&&_r.cancelable&&_r.preventDefault();return}Fr.handle&&!closest(Yr,Fr.handle,Br,!1)||this._prepareDragStart(_r,Ur,Gr)}}},_prepareDragStart:function(_r,$r,Br){var Fr=this,zr=Fr.el,jr=Fr.options,Ur=zr.ownerDocument,Gr;if(Br&&!dragEl&&Br.parentNode===zr){var Yr=getRect(Br);if(rootEl=zr,dragEl=Br,parentEl=dragEl.parentNode,nextEl=dragEl.nextSibling,lastDownEl=Br,activeGroup=jr.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:($r||_r).clientX,clientY:($r||_r).clientY},tapDistanceLeft=tapEvt.clientX-Yr.left,tapDistanceTop=tapEvt.clientY-Yr.top,this._lastX=($r||_r).clientX,this._lastY=($r||_r).clientY,dragEl.style["will-change"]="all",Gr=function(){if(pluginEvent("delayEnded",Fr,{evt:_r}),Sortable.eventCanceled){Fr._onDrop();return}Fr._disableDelayedDragEvents(),!FireFox&&Fr.nativeDraggable&&(dragEl.draggable=!0),Fr._triggerDragStart(_r,$r),_dispatchEvent({sortable:Fr,name:"choose",originalEvent:_r}),toggleClass(dragEl,jr.chosenClass,!0)},jr.ignore.split(",").forEach(function(Kr){find$1(dragEl,Kr.trim(),_disableDraggable)}),on$1(Ur,"dragover",nearestEmptyInsertDetectEvent),on$1(Ur,"mousemove",nearestEmptyInsertDetectEvent),on$1(Ur,"touchmove",nearestEmptyInsertDetectEvent),on$1(Ur,"mouseup",Fr._onDrop),on$1(Ur,"touchend",Fr._onDrop),on$1(Ur,"touchcancel",Fr._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt:_r}),jr.delay&&(!jr.delayOnTouchOnly||$r)&&(!this.nativeDraggable||!(Edge||IE11OrLess))){if(Sortable.eventCanceled){this._onDrop();return}on$1(Ur,"mouseup",Fr._disableDelayedDrag),on$1(Ur,"touchend",Fr._disableDelayedDrag),on$1(Ur,"touchcancel",Fr._disableDelayedDrag),on$1(Ur,"mousemove",Fr._delayedDragTouchMoveHandler),on$1(Ur,"touchmove",Fr._delayedDragTouchMoveHandler),jr.supportPointer&&on$1(Ur,"pointermove",Fr._delayedDragTouchMoveHandler),Fr._dragStartTimer=setTimeout(Gr,jr.delay)}else Gr()}},_delayedDragTouchMoveHandler:function(_r){var $r=_r.touches?_r.touches[0]:_r;Math.max(Math.abs($r.clientX-this._lastX),Math.abs($r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var _r=this.el.ownerDocument;off(_r,"mouseup",this._disableDelayedDrag),off(_r,"touchend",this._disableDelayedDrag),off(_r,"touchcancel",this._disableDelayedDrag),off(_r,"mousemove",this._delayedDragTouchMoveHandler),off(_r,"touchmove",this._delayedDragTouchMoveHandler),off(_r,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(_r,$r){$r=$r||_r.pointerType=="touch"&&_r,!this.nativeDraggable||$r?this.options.supportPointer?on$1(document,"pointermove",this._onTouchMove):$r?on$1(document,"touchmove",this._onTouchMove):on$1(document,"mousemove",this._onTouchMove):(on$1(dragEl,"dragend",this),on$1(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(_r,$r){if(awaitingDragStarted=!1,rootEl&&dragEl){pluginEvent("dragStarted",this,{evt:$r}),this.nativeDraggable&&on$1(document,"dragover",_checkOutsideTargetEl);var Br=this.options;!_r&&toggleClass(dragEl,Br.dragClass,!1),toggleClass(dragEl,Br.ghostClass,!0),Sortable.active=this,_r&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:$r})}else this._nulling()},_emulateDragOver:function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var _r=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),$r=_r;_r&&_r.shadowRoot&&(_r=_r.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY),_r!==$r);)$r=_r;if(dragEl.parentNode[expando]._isOutsideThisEl(_r),$r)do{if($r[expando]){var Br=void 0;if(Br=$r[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:_r,rootEl:$r}),Br&&!this.options.dragoverBubble)break}_r=$r}while($r=$r.parentNode);_unhideGhostForTarget()}},_onTouchMove:function(_r){if(tapEvt){var $r=this.options,Br=$r.fallbackTolerance,Fr=$r.fallbackOffset,zr=_r.touches?_r.touches[0]:_r,jr=ghostEl&&matrix$1(ghostEl,!0),Ur=ghostEl&&jr&&jr.a,Gr=ghostEl&&jr&&jr.d,Yr=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),Kr=(zr.clientX-tapEvt.clientX+Fr.x)/(Ur||1)+(Yr?Yr[0]-ghostRelativeParentInitialScroll[0]:0)/(Ur||1),Qr=(zr.clientY-tapEvt.clientY+Fr.y)/(Gr||1)+(Yr?Yr[1]-ghostRelativeParentInitialScroll[1]:0)/(Gr||1);if(!Sortable.active&&!awaitingDragStarted){if(Br&&Math.max(Math.abs(zr.clientX-this._lastX),Math.abs(zr.clientY-this._lastY))<Br)return;this._onDragStart(_r,!0)}if(ghostEl){jr?(jr.e+=Kr-(lastDx||0),jr.f+=Qr-(lastDy||0)):jr={a:1,b:0,c:0,d:1,e:Kr,f:Qr};var Jr="matrix(".concat(jr.a,",").concat(jr.b,",").concat(jr.c,",").concat(jr.d,",").concat(jr.e,",").concat(jr.f,")");css(ghostEl,"webkitTransform",Jr),css(ghostEl,"mozTransform",Jr),css(ghostEl,"msTransform",Jr),css(ghostEl,"transform",Jr),lastDx=Kr,lastDy=Qr,touchEvt=zr}_r.cancelable&&_r.preventDefault()}},_appendGhost:function(){if(!ghostEl){var _r=this.options.fallbackOnBody?document.body:rootEl,$r=getRect(dragEl,!0,PositionGhostAbsolutely,!0,_r),Br=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=_r;css(ghostRelativeParent,"position")==="static"&&css(ghostRelativeParent,"transform")==="none"&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),$r.top+=ghostRelativeParent.scrollTop,$r.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}ghostEl=dragEl.cloneNode(!0),toggleClass(ghostEl,Br.ghostClass,!1),toggleClass(ghostEl,Br.fallbackClass,!0),toggleClass(ghostEl,Br.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",$r.top),css(ghostEl,"left",$r.left),css(ghostEl,"width",$r.width),css(ghostEl,"height",$r.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,_r.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},_onDragStart:function(_r,$r){var Br=this,Fr=_r.dataTransfer,zr=Br.options;if(pluginEvent("dragStart",this,{evt:_r}),Sortable.eventCanceled){this._onDrop();return}pluginEvent("setupClone",this),Sortable.eventCanceled||(cloneEl=clone$7(dragEl),cloneEl.removeAttribute("id"),cloneEl.draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),Br.cloneId=_nextTick(function(){pluginEvent("clone",Br),!Sortable.eventCanceled&&(Br.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),Br._hideClone(),_dispatchEvent({sortable:Br,name:"clone"}))}),!$r&&toggleClass(dragEl,zr.dragClass,!0),$r?(ignoreNextClick=!0,Br._loopId=setInterval(Br._emulateDragOver,50)):(off(document,"mouseup",Br._onDrop),off(document,"touchend",Br._onDrop),off(document,"touchcancel",Br._onDrop),Fr&&(Fr.effectAllowed="move",zr.setData&&zr.setData.call(Br,Fr,dragEl)),on$1(document,"drop",Br),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,Br._dragStartId=_nextTick(Br._dragStarted.bind(Br,$r,_r)),on$1(document,"selectstart",Br),moved=!0,Safari&&css(document.body,"user-select","none")},_onDragOver:function(_r){var $r=this.el,Br=_r.target,Fr,zr,jr,Ur=this.options,Gr=Ur.group,Yr=Sortable.active,Kr=activeGroup===Gr,Qr=Ur.sort,Jr=putSortable||Yr,rn,an=this,ln=!1;if(_silent)return;function dn(oi,wi){pluginEvent(oi,an,_objectSpread2$1({evt:_r,isOwner:Kr,axis:rn?"vertical":"horizontal",revert:jr,dragRect:Fr,targetRect:zr,canSort:Qr,fromSortable:Jr,target:Br,completed:gn,onMove:function(Fi,Zn){return _onMove(rootEl,$r,dragEl,Fr,Fi,getRect(Fi),_r,Zn)},changed:bn},wi))}function hn(){dn("dragOverAnimationCapture"),an.captureAnimationState(),an!==Jr&&Jr.captureAnimationState()}function gn(oi){return dn("dragOverCompleted",{insertion:oi}),oi&&(Kr?Yr._hideClone():Yr._showClone(an),an!==Jr&&(toggleClass(dragEl,putSortable?putSortable.options.ghostClass:Yr.options.ghostClass,!1),toggleClass(dragEl,Ur.ghostClass,!0)),putSortable!==an&&an!==Sortable.active?putSortable=an:an===Sortable.active&&putSortable&&(putSortable=null),Jr===an&&(an._ignoreWhileAnimating=Br),an.animateAll(function(){dn("dragOverAnimationComplete"),an._ignoreWhileAnimating=null}),an!==Jr&&(Jr.animateAll(),Jr._ignoreWhileAnimating=null)),(Br===dragEl&&!dragEl.animated||Br===$r&&!Br.animated)&&(lastTarget=null),!Ur.dragoverBubble&&!_r.rootEl&&Br!==document&&(dragEl.parentNode[expando]._isOutsideThisEl(_r.target),!oi&&nearestEmptyInsertDetectEvent(_r)),!Ur.dragoverBubble&&_r.stopPropagation&&_r.stopPropagation(),ln=!0}function bn(){newIndex=index(dragEl),newDraggableIndex=index(dragEl,Ur.draggable),_dispatchEvent({sortable:an,name:"change",toEl:$r,newIndex,newDraggableIndex,originalEvent:_r})}if(_r.preventDefault!==void 0&&_r.cancelable&&_r.preventDefault(),Br=closest(Br,Ur.draggable,$r,!0),dn("dragOver"),Sortable.eventCanceled)return ln;if(dragEl.contains(_r.target)||Br.animated&&Br.animatingX&&Br.animatingY||an._ignoreWhileAnimating===Br)return gn(!1);if(ignoreNextClick=!1,Yr&&!Ur.disabled&&(Kr?Qr||(jr=parentEl!==rootEl):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,Yr,dragEl,_r))&&Gr.checkPut(this,Yr,dragEl,_r))){if(rn=this._getDirection(_r,Br)==="vertical",Fr=getRect(dragEl),dn("dragOverValid"),Sortable.eventCanceled)return ln;if(jr)return parentEl=rootEl,hn(),this._hideClone(),dn("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),gn(!0);var kn=lastChild($r,Ur.draggable);if(!kn||_ghostIsLast(_r,rn,this)&&!kn.animated){if(kn===dragEl)return gn(!1);if(kn&&$r===_r.target&&(Br=kn),Br&&(zr=getRect(Br)),_onMove(rootEl,$r,dragEl,Fr,Br,zr,_r,!!Br)!==!1)return hn(),kn&&kn.nextSibling?$r.insertBefore(dragEl,kn.nextSibling):$r.appendChild(dragEl),parentEl=$r,bn(),gn(!0)}else if(kn&&_ghostIsFirst(_r,rn,this)){var Sn=getChild($r,0,Ur,!0);if(Sn===dragEl)return gn(!1);if(Br=Sn,zr=getRect(Br),_onMove(rootEl,$r,dragEl,Fr,Br,zr,_r,!1)!==!1)return hn(),$r.insertBefore(dragEl,Sn),parentEl=$r,bn(),gn(!0)}else if(Br.parentNode===$r){zr=getRect(Br);var _n=0,pn,Cn=dragEl.parentNode!==$r,En=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||Fr,Br.animated&&Br.toRect||zr,rn),Pn=rn?"top":"left",On=isScrolledPast(Br,"top","top")||isScrolledPast(dragEl,"top","top"),jn=On?On.scrollTop:void 0;lastTarget!==Br&&(pn=zr[Pn],pastFirstInvertThresh=!1,isCircumstantialInvert=!En&&Ur.invertSwap||Cn),_n=_getSwapDirection(_r,Br,zr,rn,En?1:Ur.swapThreshold,Ur.invertedSwapThreshold==null?Ur.swapThreshold:Ur.invertedSwapThreshold,isCircumstantialInvert,lastTarget===Br);var Fn;if(_n!==0){var Wn=index(dragEl);do Wn-=_n,Fn=parentEl.children[Wn];while(Fn&&(css(Fn,"display")==="none"||Fn===ghostEl))}if(_n===0||Fn===Br)return gn(!1);lastTarget=Br,lastDirection=_n;var Hn=Br.nextElementSibling,qn=!1;qn=_n===1;var ni=_onMove(rootEl,$r,dragEl,Fr,Br,zr,_r,qn);if(ni!==!1)return(ni===1||ni===-1)&&(qn=ni===1),_silent=!0,setTimeout(_unsilent,30),hn(),qn&&!Hn?$r.appendChild(dragEl):Br.parentNode.insertBefore(dragEl,qn?Hn:Br),On&&scrollBy(On,0,jn-On.scrollTop),parentEl=dragEl.parentNode,pn!==void 0&&!isCircumstantialInvert&&(targetMoveDistance=Math.abs(pn-getRect(Br)[Pn])),bn(),gn(!0)}if($r.contains(dragEl))return gn(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},_offUpEvents:function(){var _r=this.el.ownerDocument;off(_r,"mouseup",this._onDrop),off(_r,"touchend",this._onDrop),off(_r,"pointerup",this._onDrop),off(_r,"touchcancel",this._onDrop),off(document,"selectstart",this)},_onDrop:function(_r){var $r=this.el,Br=this.options;if(newIndex=index(dragEl),newDraggableIndex=index(dragEl,Br.draggable),pluginEvent("drop",this,{evt:_r}),parentEl=dragEl&&dragEl.parentNode,newIndex=index(dragEl),newDraggableIndex=index(dragEl,Br.draggable),Sortable.eventCanceled){this._nulling();return}awaitingDragStarted=!1,isCircumstantialInvert=!1,pastFirstInvertThresh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off($r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),_r&&(moved&&(_r.cancelable&&_r.preventDefault(),!Br.dropBubble&&_r.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&putSortable.lastPutMode!=="clone")&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass(dragEl,putSortable?putSortable.options.ghostClass:this.options.ghostClass,!1),toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:_r}),rootEl!==parentEl?(newIndex>=0&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:_r}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:_r}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:_r}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:_r})),putSortable&&putSortable.save()):newIndex!==oldIndex&&newIndex>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:_r}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:_r})),Sortable.active&&((newIndex==null||newIndex===-1)&&(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:_r}),this.save()))),this._nulling()},_nulling:function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach(function(_r){_r.checked=!0}),savedInputChecked.length=lastDx=lastDy=0},handleEvent:function(_r){switch(_r.type){case"drop":case"dragend":this._onDrop(_r);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(_r),_globalDragOver(_r));break;case"selectstart":_r.preventDefault();break}},toArray:function(){for(var _r=[],$r,Br=this.el.children,Fr=0,zr=Br.length,jr=this.options;Fr<zr;Fr++)$r=Br[Fr],closest($r,jr.draggable,this.el,!1)&&_r.push($r.getAttribute(jr.dataIdAttr)||_generateId($r));return _r},sort:function(_r,$r){var Br={},Fr=this.el;this.toArray().forEach(function(zr,jr){var Ur=Fr.children[jr];closest(Ur,this.options.draggable,Fr,!1)&&(Br[zr]=Ur)},this),$r&&this.captureAnimationState(),_r.forEach(function(zr){Br[zr]&&(Fr.removeChild(Br[zr]),Fr.appendChild(Br[zr]))}),$r&&this.animateAll()},save:function(){var _r=this.options.store;_r&&_r.set&&_r.set(this)},closest:function(_r,$r){return closest(_r,$r||this.options.draggable,this.el,!1)},option:function(_r,$r){var Br=this.options;if($r===void 0)return Br[_r];var Fr=PluginManager.modifyOption(this,_r,$r);typeof Fr<"u"?Br[_r]=Fr:Br[_r]=$r,_r==="group"&&_prepareGroup(Br)},destroy:function(){pluginEvent("destroy",this);var _r=this.el;_r[expando]=null,off(_r,"mousedown",this._onTapStart),off(_r,"touchstart",this._onTapStart),off(_r,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(_r,"dragover",this),off(_r,"dragenter",this)),Array.prototype.forEach.call(_r.querySelectorAll("[draggable]"),function($r){$r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=_r=null},_hideClone:function(){if(!cloneHidden){if(pluginEvent("hideClone",this),Sortable.eventCanceled)return;css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0}},_showClone:function(_r){if(_r.lastPutMode!=="clone"){this._hideClone();return}if(cloneHidden){if(pluginEvent("showClone",this),Sortable.eventCanceled)return;dragEl.parentNode==rootEl&&!this.options.group.revertClone?rootEl.insertBefore(cloneEl,dragEl):nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1}}};function _globalDragOver(Fe){Fe.dataTransfer&&(Fe.dataTransfer.dropEffect="move"),Fe.cancelable&&Fe.preventDefault()}function _onMove(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr,Yr=Fe[expando],Kr=Yr.options.onMove,Qr;return window.CustomEvent&&!IE11OrLess&&!Edge?Gr=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(Gr=document.createEvent("Event"),Gr.initEvent("move",!0,!0)),Gr.to=_r,Gr.from=Fe,Gr.dragged=$r,Gr.draggedRect=Br,Gr.related=Fr||_r,Gr.relatedRect=zr||getRect(_r),Gr.willInsertAfter=Ur,Gr.originalEvent=jr,Fe.dispatchEvent(Gr),Kr&&(Qr=Kr.call(Yr,Gr,jr)),Qr}function _disableDraggable(Fe){Fe.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsFirst(Fe,_r,$r){var Br=getRect(getChild($r.el,0,$r.options,!0)),Fr=10;return _r?Fe.clientX<Br.left-Fr||Fe.clientY<Br.top&&Fe.clientX<Br.right:Fe.clientY<Br.top-Fr||Fe.clientY<Br.bottom&&Fe.clientX<Br.left}function _ghostIsLast(Fe,_r,$r){var Br=getRect(lastChild($r.el,$r.options.draggable)),Fr=10;return _r?Fe.clientX>Br.right+Fr||Fe.clientX<=Br.right&&Fe.clientY>Br.bottom&&Fe.clientX>=Br.left:Fe.clientX>Br.right&&Fe.clientY>Br.top||Fe.clientX<=Br.right&&Fe.clientY>Br.bottom+Fr}function _getSwapDirection(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr=Br?Fe.clientY:Fe.clientX,Yr=Br?$r.height:$r.width,Kr=Br?$r.top:$r.left,Qr=Br?$r.bottom:$r.right,Jr=!1;if(!jr){if(Ur&&targetMoveDistance<Yr*Fr){if(!pastFirstInvertThresh&&(lastDirection===1?Gr>Kr+Yr*zr/2:Gr<Qr-Yr*zr/2)&&(pastFirstInvertThresh=!0),pastFirstInvertThresh)Jr=!0;else if(lastDirection===1?Gr<Kr+targetMoveDistance:Gr>Qr-targetMoveDistance)return-lastDirection}else if(Gr>Kr+Yr*(1-Fr)/2&&Gr<Qr-Yr*(1-Fr)/2)return _getInsertDirection(_r)}return Jr=Jr||jr,Jr&&(Gr<Kr+Yr*zr/2||Gr>Qr-Yr*zr/2)?Gr>Kr+Yr/2?1:-1:0}function _getInsertDirection(Fe){return index(dragEl)<index(Fe)?1:-1}function _generateId(Fe){for(var _r=Fe.tagName+Fe.className+Fe.src+Fe.href+Fe.textContent,$r=_r.length,Br=0;$r--;)Br+=_r.charCodeAt($r);return Br.toString(36)}function _saveInputCheckedState(Fe){savedInputChecked.length=0;for(var _r=Fe.getElementsByTagName("input"),$r=_r.length;$r--;){var Br=_r[$r];Br.checked&&savedInputChecked.push(Br)}}function _nextTick(Fe){return setTimeout(Fe,0)}function _cancelNextTick(Fe){return clearTimeout(Fe)}documentExists&&on$1(document,"touchmove",function(Fe){(Sortable.active||awaitingDragStarted)&&Fe.cancelable&&Fe.preventDefault()});Sortable.utils={on:on$1,off,css,find:find$1,is:function(_r,$r){return!!closest(_r,$r,_r,!1)},extend:extend$5,throttle:throttle$2,closest,toggleClass,clone:clone$7,index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild};Sortable.get=function(Fe){return Fe[expando]};Sortable.mount=function(){for(var Fe=arguments.length,_r=new Array(Fe),$r=0;$r<Fe;$r++)_r[$r]=arguments[$r];_r[0].constructor===Array&&(_r=_r[0]),_r.forEach(function(Br){if(!Br.prototype||!Br.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(Br));Br.utils&&(Sortable.utils=_objectSpread2$1(_objectSpread2$1({},Sortable.utils),Br.utils)),PluginManager.mount(Br)})};Sortable.create=function(Fe,_r){return new Sortable(Fe,_r)};Sortable.version=version$2;var autoScrolls=[],scrollEl,scrollRootEl,scrolling=!1,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval;function AutoScrollPlugin(){function Fe(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var _r in this)_r.charAt(0)==="_"&&typeof this[_r]=="function"&&(this[_r]=this[_r].bind(this))}return Fe.prototype={dragStarted:function($r){var Br=$r.originalEvent;this.sortable.nativeDraggable?on$1(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on$1(document,"pointermove",this._handleFallbackAutoScroll):Br.touches?on$1(document,"touchmove",this._handleFallbackAutoScroll):on$1(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function($r){var Br=$r.originalEvent;!this.options.dragOverBubble&&!Br.rootEl&&this._handleAutoScroll(Br)},drop:function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},nulling:function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},_handleFallbackAutoScroll:function($r){this._handleAutoScroll($r,!0)},_handleAutoScroll:function($r,Br){var Fr=this,zr=($r.touches?$r.touches[0]:$r).clientX,jr=($r.touches?$r.touches[0]:$r).clientY,Ur=document.elementFromPoint(zr,jr);if(touchEvt$1=$r,Br||this.options.forceAutoScrollFallback||Edge||IE11OrLess||Safari){autoScroll($r,this.options,Ur,Br);var Gr=getParentAutoScrollElement(Ur,!0);scrolling&&(!pointerElemChangedInterval||zr!==lastAutoScrollX||jr!==lastAutoScrollY)&&(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval(function(){var Yr=getParentAutoScrollElement(document.elementFromPoint(zr,jr),!0);Yr!==Gr&&(Gr=Yr,clearAutoScrolls()),autoScroll($r,Fr.options,Yr,Br)},10),lastAutoScrollX=zr,lastAutoScrollY=jr)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(Ur,!0)===getWindowScrollingElement()){clearAutoScrolls();return}autoScroll($r,this.options,getParentAutoScrollElement(Ur,!1),!1)}}},_extends(Fe,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach(function(Fe){clearInterval(Fe.pid)}),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}var autoScroll=throttle$2(function(Fe,_r,$r,Br){if(_r.scroll){var Fr=(Fe.touches?Fe.touches[0]:Fe).clientX,zr=(Fe.touches?Fe.touches[0]:Fe).clientY,jr=_r.scrollSensitivity,Ur=_r.scrollSpeed,Gr=getWindowScrollingElement(),Yr=!1,Kr;scrollRootEl!==$r&&(scrollRootEl=$r,clearAutoScrolls(),scrollEl=_r.scroll,Kr=_r.scrollFn,scrollEl===!0&&(scrollEl=getParentAutoScrollElement($r,!0)));var Qr=0,Jr=scrollEl;do{var rn=Jr,an=getRect(rn),ln=an.top,dn=an.bottom,hn=an.left,gn=an.right,bn=an.width,kn=an.height,Sn=void 0,_n=void 0,pn=rn.scrollWidth,Cn=rn.scrollHeight,En=css(rn),Pn=rn.scrollLeft,On=rn.scrollTop;rn===Gr?(Sn=bn<pn&&(En.overflowX==="auto"||En.overflowX==="scroll"||En.overflowX==="visible"),_n=kn<Cn&&(En.overflowY==="auto"||En.overflowY==="scroll"||En.overflowY==="visible")):(Sn=bn<pn&&(En.overflowX==="auto"||En.overflowX==="scroll"),_n=kn<Cn&&(En.overflowY==="auto"||En.overflowY==="scroll"));var jn=Sn&&(Math.abs(gn-Fr)<=jr&&Pn+bn<pn)-(Math.abs(hn-Fr)<=jr&&!!Pn),Fn=_n&&(Math.abs(dn-zr)<=jr&&On+kn<Cn)-(Math.abs(ln-zr)<=jr&&!!On);if(!autoScrolls[Qr])for(var Wn=0;Wn<=Qr;Wn++)autoScrolls[Wn]||(autoScrolls[Wn]={});(autoScrolls[Qr].vx!=jn||autoScrolls[Qr].vy!=Fn||autoScrolls[Qr].el!==rn)&&(autoScrolls[Qr].el=rn,autoScrolls[Qr].vx=jn,autoScrolls[Qr].vy=Fn,clearInterval(autoScrolls[Qr].pid),(jn!=0||Fn!=0)&&(Yr=!0,autoScrolls[Qr].pid=setInterval((function(){Br&&this.layer===0&&Sortable.active._onTouchMove(touchEvt$1);var Hn=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*Ur:0,qn=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*Ur:0;typeof Kr=="function"&&Kr.call(Sortable.dragged.parentNode[expando],qn,Hn,Fe,touchEvt$1,autoScrolls[this.layer].el)!=="continue"||scrollBy(autoScrolls[this.layer].el,qn,Hn)}).bind({layer:Qr}),24))),Qr++}while(_r.bubbleScroll&&Jr!==Gr&&(Jr=getParentAutoScrollElement(Jr,!1)));scrolling=Yr}},30),drop=function(_r){var $r=_r.originalEvent,Br=_r.putSortable,Fr=_r.dragEl,zr=_r.activeSortable,jr=_r.dispatchSortableEvent,Ur=_r.hideGhostForTarget,Gr=_r.unhideGhostForTarget;if($r){var Yr=Br||zr;Ur();var Kr=$r.changedTouches&&$r.changedTouches.length?$r.changedTouches[0]:$r,Qr=document.elementFromPoint(Kr.clientX,Kr.clientY);Gr(),Yr&&!Yr.el.contains(Qr)&&(jr("spill"),this.onSpill({dragEl:Fr,putSortable:Br}))}};function Revert(){}Revert.prototype={startIndex:null,dragStart:function(_r){var $r=_r.oldDraggableIndex;this.startIndex=$r},onSpill:function(_r){var $r=_r.dragEl,Br=_r.putSortable;this.sortable.captureAnimationState(),Br&&Br.captureAnimationState();var Fr=getChild(this.sortable.el,this.startIndex,this.options);Fr?this.sortable.el.insertBefore($r,Fr):this.sortable.el.appendChild($r),this.sortable.animateAll(),Br&&Br.animateAll()},drop};_extends(Revert,{pluginName:"revertOnSpill"});function Remove(){}Remove.prototype={onSpill:function(_r){var $r=_r.dragEl,Br=_r.putSortable,Fr=Br||this.sortable;Fr.captureAnimationState(),$r.parentNode&&$r.parentNode.removeChild($r),Fr.animateAll()},drop};_extends(Remove,{pluginName:"removeOnSpill"});Sortable.mount(new AutoScrollPlugin);Sortable.mount(Remove,Revert);function _classCallCheck(Fe,_r){if(!(Fe instanceof _r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(Fe,_r){for(var $r=0;$r<_r.length;$r++){var Br=_r[$r];Br.enumerable=Br.enumerable||!1,Br.configurable=!0,"value"in Br&&(Br.writable=!0),Object.defineProperty(Fe,_toPropertyKey(Br.key),Br)}}function _createClass(Fe,_r,$r){return _r&&_defineProperties(Fe.prototype,_r),$r&&_defineProperties(Fe,$r),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe}function _defineProperty$1(Fe,_r,$r){return _r=_toPropertyKey(_r),_r in Fe?Object.defineProperty(Fe,_r,{value:$r,enumerable:!0,configurable:!0,writable:!0}):Fe[_r]=$r,Fe}function _toConsumableArray(Fe){return _arrayWithoutHoles(Fe)||_iterableToArray(Fe)||_unsupportedIterableToArray(Fe)||_nonIterableSpread()}function _arrayWithoutHoles(Fe){if(Array.isArray(Fe))return _arrayLikeToArray(Fe)}function _iterableToArray(Fe){if(typeof Symbol<"u"&&Fe[Symbol.iterator]!=null||Fe["@@iterator"]!=null)return Array.from(Fe)}function _unsupportedIterableToArray(Fe,_r){if(Fe){if(typeof Fe=="string")return _arrayLikeToArray(Fe,_r);var $r=Object.prototype.toString.call(Fe).slice(8,-1);if($r==="Object"&&Fe.constructor&&($r=Fe.constructor.name),$r==="Map"||$r==="Set")return Array.from(Fe);if($r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($r))return _arrayLikeToArray(Fe,_r)}}function _arrayLikeToArray(Fe,_r){(_r==null||_r>Fe.length)&&(_r=Fe.length);for(var $r=0,Br=new Array(_r);$r<_r;$r++)Br[$r]=Fe[$r];return Br}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(Fe,_r){if(typeof Fe!="object"||Fe===null)return Fe;var $r=Fe[Symbol.toPrimitive];if($r!==void 0){var Br=$r.call(Fe,_r||"default");if(typeof Br!="object")return Br;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_r==="string"?String:Number)(Fe)}function _toPropertyKey(Fe){var _r=_toPrimitive(Fe,"string");return typeof _r=="symbol"?_r:String(_r)}var DataEngine=function(){function Fe(_r){var $r=_r.data,Br=_r.propertyMap,Fr=Br===void 0?{}:Br,zr=_r.renderListItem;_classCallCheck(this,Fe),_defineProperty$1(this,"data",void 0),_defineProperty$1(this,"sortedData",void 0),_defineProperty$1(this,"sortedDataDomArray",void 0),_defineProperty$1(this,"propertyMap",void 0),_defineProperty$1(this,"renderListItem",void 0),_defineProperty$1(this,"boundGetItemPropProxyName",void 0),this.data=$r,this.sortedData=[],this.sortedDataDomArray=[],this.propertyMap=Fr,this.renderListItem=zr,this.boundGetItemPropProxyName=this.getItemPropProxyName.bind(this),this.maybeTransformData()}return _createClass(Fe,[{key:"addMappingProxyToItem",value:function($r){var Br=this;return new Proxy($r,{get:function(zr,jr,Ur){return Reflect.get(zr,Br.boundGetItemPropProxyName(jr),Ur)}})}},{key:"maybeTransformData",value:function(){!Object.keys(this.propertyMap).length||!Array.isArray(this.data)||(this.data=this.data.map(this.addMappingProxyToItem.bind(this)))}},{key:"getItemPropProxyName",value:function($r){return Object.prototype.hasOwnProperty.call(this.propertyMap,$r)?this.propertyMap[$r]:$r}},{key:"isTopLevelItem",value:function($r){return!$r.parent}},{key:"sortListItems",value:function(){var $r=this,Br=_toConsumableArray(this.data),Fr=Br.filter(function(jr){return $r.isTopLevelItem(jr)}).sort(function(jr,Ur){return jr.order&&Ur.order?jr.order-Ur.order:0}),zr=Br.filter(function(jr){return!$r.isTopLevelItem(jr)}).reduce(function(jr,Ur){return Ur.parent&&(Object.prototype.hasOwnProperty.call(jr,Ur.parent)?jr[Ur.parent].push(Ur):jr[Ur.parent]=[Ur]),jr},{});return Object.keys(zr).forEach(function(jr){zr[jr].sort(function(Ur,Gr){return Ur.order&&Gr.order?Ur.order-Gr.order:0})}),this.sortedData=[].concat(_toConsumableArray(Fr),_toConsumableArray(Object.values(zr).flat())),this.sortedData}},{key:"addNewItem",value:function($r){var Br=$r.item,Fr=$r.asLastChild,zr=Fr===void 0?!1:Fr,jr=this.addMappingProxyToItem(Br);return Array.isArray(this.data)&&this.data[zr?"push":"unshift"](jr),this.createItemElement(jr)}},{key:"createItemElement",value:function($r){var Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"li",Fr=$r.id,zr=$r.text,jr=document.createElement(Br);return jr.dataset.id=Fr,Br==="li"&&zr&&(jr.innerHTML=zr),Br==="li"&&typeof this.renderListItem=="function"?this.renderListItem(jr,$r):jr}},{key:"elementIsParentOfItem",value:function($r,Br){return $r.dataset.id==="".concat(Br.parent)}},{key:"getParentNodeOfItem",value:function($r,Br,Fr){return $r.querySelector("".concat(Fr,'[data-id="').concat(Br.parent,'"]'))}},{key:"elementIsAncestorOfItem",value:function($r,Br){return!!this.getParentNodeOfItem($r,Br,"li")}},{key:"getDirectListParentOfItem",value:function($r,Br){return this.getParentNodeOfItem($r,Br,"ol")}},{key:"maybeAppendItemToParentDom",value:function($r){var Br=this,Fr=$r.parent,zr=this.sortedDataDomArray.find(function(Yr){return Br.elementIsParentOfItem(Yr,$r)||Br.elementIsAncestorOfItem(Yr,$r)});if(!zr)return!1;var jr=this.createItemElement($r),Ur=this.getDirectListParentOfItem(zr,$r);if(!Ur){Ur=this.createItemElement({id:Fr},"ol");var Gr=this.getParentNodeOfItem(zr,$r,"li")||zr;Gr.appendChild(Ur)}return Ur.appendChild(jr),!0}},{key:"getListItemsDom",value:function(){var $r=this;this.sortedDataDomArray=[];for(var Br=[];Br.length!==this.sortListItems().length;)Br=this.sortedData.reduce(function(Fr,zr){if(!zr.id)return Fr;var jr=zr.id.toString();if(Fr.includes(jr))return Fr;var Ur;if(zr.parent)Ur=$r.maybeAppendItemToParentDom(zr);else{var Gr=$r.createItemElement(zr);$r.sortedDataDomArray.push(Gr),Ur=!0}return Ur&&Fr.push(jr),Fr},Br);return this.sortedDataDomArray}},{key:"convertDomToData",value:function($r){var Br=this;return Array.from(($r==null?void 0:$r.querySelectorAll("li"))||[]).map(function(Fr){var zr,jr=Fr.parentNode,Ur=jr.dataset.id,Gr=Array.from(jr.children).findIndex(function(Yr){return Yr===Fr})+1;return zr={},_defineProperty$1(zr,Br.getItemPropProxyName("id"),Fr.dataset.id),_defineProperty$1(zr,Br.getItemPropProxyName("parent"),Ur),_defineProperty$1(zr,Br.getItemPropProxyName("order"),Gr),zr})}},{key:"render",value:function(){var $r=document.createElement("ol");return this.getListItemsDom().forEach(function(Br){return $r.appendChild(Br)}),$r}}]),Fe}(),NestedSort=function(){function Fe(_r){var $r=_r.actions,Br=$r===void 0?{}:$r,Fr=_r.data,zr=_r.droppingEdge,jr=zr===void 0?15:zr,Ur=_r.el,Gr=_r.init,Yr=Gr===void 0?!0:Gr,Kr=_r.listClassNames,Qr=_r.listItemClassNames,Jr=_r.nestingLevels,rn=_r.propertyMap,an=rn===void 0?{}:rn,ln=_r.renderListItem;_classCallCheck(this,Fe),_defineProperty$1(this,"actions",void 0),_defineProperty$1(this,"classNames",void 0),_defineProperty$1(this,"cursor",void 0),_defineProperty$1(this,"data",void 0),_defineProperty$1(this,"dataEngine",void 0),_defineProperty$1(this,"distances",void 0),_defineProperty$1(this,"draggedNode",void 0),_defineProperty$1(this,"initialised",void 0),_defineProperty$1(this,"listClassNames",void 0),_defineProperty$1(this,"listEventListeners",void 0),_defineProperty$1(this,"listInterface",void 0),_defineProperty$1(this,"listItemClassNames",void 0),_defineProperty$1(this,"mainListClassName",void 0),_defineProperty$1(this,"nestingLevels",void 0),_defineProperty$1(this,"placeholderList",void 0),_defineProperty$1(this,"placeholderInUse",void 0),_defineProperty$1(this,"propertyMap",void 0),_defineProperty$1(this,"renderListItem",void 0),_defineProperty$1(this,"sortableList",void 0),_defineProperty$1(this,"targetedNode",void 0),_defineProperty$1(this,"targetNode",void 0),_defineProperty$1(this,"wrapper",void 0),this.renderListItem=ln;var dn=typeof Ur=="string"?document.querySelector(Ur):Ur,hn=dn instanceof HTMLOListElement||dn instanceof HTMLUListElement;this.wrapper=hn?void 0:dn,this.sortableList=hn?dn:null,this.data=Fr,this.listClassNames=this.createListClassNamesArray(Kr),this.mainListClassName=this.listClassNames[0]||"nested-sort",this.listItemClassNames=this.createListClassNamesArray(Qr),this.propertyMap=an,this.actions={onDrop:Br.onDrop},this.initialised=!1,this.distances={droppingEdge:jr},this.classNames={dragged:"ns-dragged",placeholder:"ns-placeholder",targeted:"ns-targeted"},this.listEventListeners={dragover:this.onDragOver.bind(this),dragstart:this.onDragStart.bind(this),dragenter:this.onDragEnter.bind(this),dragend:this.onDragEnd.bind(this),drop:this.onDrop.bind(this)};var gn=parseInt(Jr);this.nestingLevels=isNaN(gn)?-1:gn,this.listInterface=this.getListInterface(),this.maybeInitDataDom(),this.addListAttributes(),Yr&&this.initDragAndDrop()}return _createClass(Fe,[{key:"getListInterface",value:function(){return Array.isArray(this.data)&&this.data.length||this.sortableList instanceof HTMLOListElement?HTMLOListElement:HTMLUListElement}},{key:"getDataEngine",value:function(){return this.dataEngine?this.dataEngine:(this.dataEngine=new DataEngine({data:this.data,propertyMap:this.propertyMap,renderListItem:this.renderListItem}),this.dataEngine)}},{key:"createListClassNamesArray",value:function($r){return $r?Array.isArray($r)?$r:$r.split(" "):[]}},{key:"maybeInitDataDom",value:function(){if(Array.isArray(this.data)&&this.data.length&&this.wrapper){var $r=this.getDataEngine().render();this.wrapper.innerHTML="",this.wrapper.appendChild($r),this.sortableList=$r}}},{key:"getListTagName",value:function(){return this.listInterface===HTMLOListElement?"ol":"ul"}},{key:"getSortableList",value:function(){var $r;return this.sortableList instanceof this.listInterface?this.sortableList:(this.sortableList=($r=this.wrapper)===null||$r===void 0?void 0:$r.querySelector(this.getListTagName()),this.sortableList)}},{key:"addListAttributes",value:function(){var $r,Br=this,Fr=this.getSortableList();Fr&&(($r=Fr.classList).add.apply($r,_toConsumableArray(this.listClassNames.concat(this.mainListClassName))),Fr.querySelectorAll(this.getListTagName()).forEach(function(zr){var jr;(jr=zr.classList).add.apply(jr,_toConsumableArray(Br.listClassNames))}),Fr.querySelectorAll("li").forEach(function(zr){var jr;(jr=zr.classList).add.apply(jr,_toConsumableArray(Br.listItemClassNames))}))}},{key:"toggleMainListLifeCycleClassName",value:function(){var $r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Br=this.getSortableList();if(Br){var Fr="".concat(this.mainListClassName,"--enabled");$r?Br.classList.add(Fr):Br.classList.remove(Fr)}}},{key:"toggleListItemAttributes",value:function(){var $r,Br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;($r=this.getSortableList())===null||$r===void 0||$r.querySelectorAll("li").forEach(function(Fr){Fr.setAttribute("draggable",Br.toString())})}},{key:"toggleListEventListeners",value:function(){var $r=this,Br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Fr=this.getSortableList();Fr&&Object.keys(this.listEventListeners).forEach(function(zr){Br?Fr.removeEventListener(zr,$r.listEventListeners[zr]):Fr.addEventListener(zr,$r.listEventListeners[zr],!1)})}},{key:"initDragAndDrop",value:function(){this.initialised||(this.toggleListEventListeners(),this.initPlaceholderList(),this.toggleListItemAttributes(),this.toggleMainListLifeCycleClassName(),this.initialised=!0)}},{key:"init",value:function(){this.initDragAndDrop()}},{key:"destroy",value:function(){this.toggleListEventListeners(!0),this.toggleListItemAttributes(!1),this.toggleMainListLifeCycleClassName(!1),this.initialised=!1}},{key:"removeClassFromEl",value:function($r,Br){Br&&Br.classList.contains($r)&&Br.classList.remove($r)}},{key:"canBeTargeted",value:function($r){return!this.draggedNode||this.draggedNode===$r?!1:$r.nodeName==="LI"?!this.nestingThresholdReached($r):$r instanceof this.listInterface&&$r.classList.contains(this.classNames.placeholder)}},{key:"onDragStart",value:function($r){var Br;this.draggedNode=$r.target,this.draggedNode.classList.add(this.classNames.dragged),(Br=$r.dataTransfer)===null||Br===void 0||Br.setData("text","")}},{key:"onDragOver",value:function($r){$r.preventDefault(),this.updateCoordination($r),this.managePlaceholderLists()}},{key:"onDragEnter",value:function($r){this.canBeTargeted($r.target)&&(this.removeClassFromEl(this.classNames.targeted,this.targetedNode),this.targetedNode=$r.target,this.targetedNode.classList.add(this.classNames.targeted))}},{key:"onDragEnd",value:function($r){$r.stopPropagation(),this.removeClassFromEl(this.classNames.dragged,this.draggedNode),this.removeClassFromEl(this.classNames.targeted,this.targetedNode),this.cleanupPlaceholderLists(),delete this.draggedNode,delete this.targetedNode}},{key:"onDrop",value:function($r){$r.stopPropagation(),this.maybeDrop(),this.cleanupPlaceholderLists(),typeof this.actions.onDrop=="function"&&this.actions.onDrop(this.getDataEngine().convertDomToData(this.getSortableList()))}},{key:"updateCoordination",value:function($r){this.calcMouseCoords($r),this.calcMouseToTargetedElDist()}},{key:"getDropLocation",value:function(){if(this.canBeDropped()){var $r;if((($r=this.targetedNode)===null||$r===void 0?void 0:$r.nodeName)==="LI")return"before";if(this.targetedNode instanceof this.listInterface)return"inside"}}},{key:"maybeDrop",value:function(){var $r=this.getDropLocation();$r&&this.dropTheItem($r)}},{key:"dropTheItem",value:function($r){var Br,Fr,zr;switch($r){case"before":(Br=this.targetedNode)===null||Br===void 0||(Fr=Br.parentNode)===null||Fr===void 0||Fr.insertBefore(this.draggedNode,this.targetedNode);break;case"inside":(zr=this.targetedNode)===null||zr===void 0||zr.appendChild(this.draggedNode);break}}},{key:"calcMouseCoords",value:function($r){this.cursor={X:$r.clientX,Y:$r.clientY}}},{key:"calcMouseToTargetedElDist",value:function(){if(this.targetedNode){var $r=this.targetedNode.getBoundingClientRect();this.targetNode={X:$r.left,Y:$r.top};var Br=this.targetNode.Y-this.cursor.Y,Fr=Math.abs(Br);this.distances.mouseTo={targetedElTop:Br,targetedElTopAbs:Fr,targetedElBot:Fr-this.targetedNode.clientHeight}}}},{key:"areNested",value:function($r,Br){return!!$r&&!!Br&&Array.from(Br==null?void 0:Br.querySelectorAll("li")).some(function(Fr){return Fr===$r})}},{key:"cursorIsIndentedEnough",value:function(){return this.cursor.X-this.targetNode.X>50}},{key:"mouseIsTooCloseToTop",value:function(){var $r;return($r=this.distances)!==null&&$r!==void 0&&$r.droppingEdge?this.cursor.Y-this.targetNode.Y<this.distances.droppingEdge:!1}},{key:"managePlaceholderLists",value:function(){var $r=this,Br=this.analysePlaceHolderSituation();Br.forEach(function(Fr){switch(Fr){case"add":$r.cleanupPlaceholderLists(),$r.addPlaceholderList();break;case"cleanup":$r.cleanupPlaceholderLists();break}})}},{key:"targetedNodeIsPlaceholder",value:function(){return this.targetedNode instanceof this.listInterface&&this.targetedNode.classList.contains(this.classNames.placeholder)}},{key:"getNodeDepth",value:function($r){var Br=0,Fr=this.getSortableList(),zr=0;if(this.draggedNode){var jr=this.draggedNode.querySelectorAll("ul").length||0,Ur=this.draggedNode.querySelectorAll("ol").length||0;zr=jr>Ur?jr:Ur}for(;Fr!==((Gr=$r)===null||Gr===void 0?void 0:Gr.parentElement);){var Gr,Yr,Kr;((Yr=$r)===null||Yr===void 0?void 0:Yr.parentElement)instanceof this.listInterface&&Br++,$r=(Kr=$r)===null||Kr===void 0?void 0:Kr.parentElement}return Br+zr}},{key:"nestingThresholdReached",value:function($r){var Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.nestingLevels<0?!1:Br?this.getNodeDepth($r)>=this.nestingLevels:this.getNodeDepth($r)>this.nestingLevels}},{key:"analysePlaceHolderSituation",value:function(){if(!this.targetedNode||this.areNested(this.targetedNode,this.draggedNode))return[];var $r=[];return!this.cursorIsIndentedEnough()||this.mouseIsTooCloseToTop()?this.targetedNodeIsPlaceholder()||$r.push("cleanup"):this.targetedNode!==this.draggedNode&&this.targetedNode.nodeName==="LI"&&!this.targetedNode.querySelectorAll(this.getListTagName()).length&&!this.nestingThresholdReached(this.targetedNode,!0)&&$r.push("add"),$r}},{key:"animatePlaceholderList",value:function(){var $r;this.placeholderInUse.style.minHeight="0",this.placeholderInUse.style.transition="min-height ease .2s",this.placeholderInUse.style.minHeight="".concat(($r=this.draggedNode)===null||$r===void 0?void 0:$r.offsetHeight,"px")}},{key:"addPlaceholderList",value:function(){var $r;this.getPlaceholderList(),($r=this.targetedNode)===null||$r===void 0||$r.appendChild(this.placeholderInUse),this.animatePlaceholderList()}},{key:"targetNodeIsIdentified",value:function(){return!!this.targetedNode}},{key:"targetNodeIsBeingDragged",value:function(){return this.targetNodeIsIdentified()&&this.targetedNode===this.draggedNode}},{key:"targetNodeIsListWithItems",value:function(){return this.targetNodeIsIdentified()&&this.targetedNode instanceof this.listInterface&&!!this.targetedNode.querySelectorAll("li").length}},{key:"canBeDropped",value:function(){return this.targetNodeIsIdentified()&&!this.targetNodeIsBeingDragged()&&!this.targetNodeIsListWithItems()&&!this.areNested(this.targetedNode,this.draggedNode)}},{key:"cleanupPlaceholderLists",value:function(){var $r,Br=this,Fr=this.getListTagName(),zr=(($r=this.getSortableList())===null||$r===void 0?void 0:$r.querySelectorAll(Fr))||[];Array.from(zr).forEach(function(jr){jr.querySelectorAll("li").length?jr.classList.contains(Br.classNames.placeholder)&&(jr.classList.remove(Br.classNames.placeholder),jr.style.minHeight="auto",jr.dataset.id=jr.parentNode.dataset.id):jr.remove()})}},{key:"initPlaceholderList",value:function(){var $r;this.placeholderList=document.createElement(this.getListTagName()),($r=this.placeholderList.classList).add.apply($r,[this.classNames.placeholder].concat(_toConsumableArray(this.listClassNames)))}},{key:"getPlaceholderList",value:function(){return this.placeholderInUse=this.placeholderList.cloneNode(!0),this.placeholderInUse}},{key:"addNewItem",value:function($r){var Br,Fr=$r.item,zr=$r.asLastChild,jr=zr===void 0?!1:zr,Ur=this.getDataEngine().addNewItem({item:Fr,asLastChild:jr});return Ur.setAttribute("draggable",String(this.initialised)),(Br=this.getSortableList())===null||Br===void 0||Br[jr?"append":"prepend"](Ur),{data:this.getDataEngine().convertDomToData(this.getSortableList())}}}]),Fe}();function bind$3(Fe,_r){return function(){return Fe.apply(_r,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(Fe=>_r=>{const $r=toString$1.call(_r);return Fe[$r]||(Fe[$r]=$r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=Fe=>(Fe=Fe.toLowerCase(),_r=>kindOf(_r)===Fe),typeOfTest=Fe=>_r=>typeof _r===Fe,{isArray:isArray$4}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer(Fe){return Fe!==null&&!isUndefined$1(Fe)&&Fe.constructor!==null&&!isUndefined$1(Fe.constructor)&&isFunction$2(Fe.constructor.isBuffer)&&Fe.constructor.isBuffer(Fe)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(Fe){let _r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_r=ArrayBuffer.isView(Fe):_r=Fe&&Fe.buffer&&isArrayBuffer(Fe.buffer),_r}const isString$3=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$6=Fe=>Fe!==null&&typeof Fe=="object",isBoolean=Fe=>Fe===!0||Fe===!1,isPlainObject=Fe=>{if(kindOf(Fe)!=="object")return!1;const _r=getPrototypeOf(Fe);return(_r===null||_r===Object.prototype||Object.getPrototypeOf(_r)===null)&&!(Symbol.toStringTag in Fe)&&!(Symbol.iterator in Fe)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=Fe=>isObject$6(Fe)&&isFunction$2(Fe.pipe),isFormData=Fe=>{let _r;return Fe&&(typeof FormData=="function"&&Fe instanceof FormData||isFunction$2(Fe.append)&&((_r=kindOf(Fe))==="formdata"||_r==="object"&&isFunction$2(Fe.toString)&&Fe.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim$2=Fe=>Fe.trim?Fe.trim():Fe.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(Fe,_r,{allOwnKeys:$r=!1}={}){if(Fe===null||typeof Fe>"u")return;let Br,Fr;if(typeof Fe!="object"&&(Fe=[Fe]),isArray$4(Fe))for(Br=0,Fr=Fe.length;Br<Fr;Br++)_r.call(null,Fe[Br],Br,Fe);else{const zr=$r?Object.getOwnPropertyNames(Fe):Object.keys(Fe),jr=zr.length;let Ur;for(Br=0;Br<jr;Br++)Ur=zr[Br],_r.call(null,Fe[Ur],Ur,Fe)}}function findKey(Fe,_r){_r=_r.toLowerCase();const $r=Object.keys(Fe);let Br=$r.length,Fr;for(;Br-- >0;)if(Fr=$r[Br],_r===Fr.toLowerCase())return Fr;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=Fe=>!isUndefined$1(Fe)&&Fe!==_global;function merge$1(){const{caseless:Fe}=isContextDefined(this)&&this||{},_r={},$r=(Br,Fr)=>{const zr=Fe&&findKey(_r,Fr)||Fr;isPlainObject(_r[zr])&&isPlainObject(Br)?_r[zr]=merge$1(_r[zr],Br):isPlainObject(Br)?_r[zr]=merge$1({},Br):isArray$4(Br)?_r[zr]=Br.slice():_r[zr]=Br};for(let Br=0,Fr=arguments.length;Br<Fr;Br++)arguments[Br]&&forEach(arguments[Br],$r);return _r}const extend$4=(Fe,_r,$r,{allOwnKeys:Br}={})=>(forEach(_r,(Fr,zr)=>{$r&&isFunction$2(Fr)?Fe[zr]=bind$3(Fr,$r):Fe[zr]=Fr},{allOwnKeys:Br}),Fe),stripBOM=Fe=>(Fe.charCodeAt(0)===65279&&(Fe=Fe.slice(1)),Fe),inherits$1=(Fe,_r,$r,Br)=>{Fe.prototype=Object.create(_r.prototype,Br),Fe.prototype.constructor=Fe,Object.defineProperty(Fe,"super",{value:_r.prototype}),$r&&Object.assign(Fe.prototype,$r)},toFlatObject=(Fe,_r,$r,Br)=>{let Fr,zr,jr;const Ur={};if(_r=_r||{},Fe==null)return _r;do{for(Fr=Object.getOwnPropertyNames(Fe),zr=Fr.length;zr-- >0;)jr=Fr[zr],(!Br||Br(jr,Fe,_r))&&!Ur[jr]&&(_r[jr]=Fe[jr],Ur[jr]=!0);Fe=$r!==!1&&getPrototypeOf(Fe)}while(Fe&&(!$r||$r(Fe,_r))&&Fe!==Object.prototype);return _r},endsWith=(Fe,_r,$r)=>{Fe=String(Fe),($r===void 0||$r>Fe.length)&&($r=Fe.length),$r-=_r.length;const Br=Fe.indexOf(_r,$r);return Br!==-1&&Br===$r},toArray$1=Fe=>{if(!Fe)return null;if(isArray$4(Fe))return Fe;let _r=Fe.length;if(!isNumber$2(_r))return null;const $r=new Array(_r);for(;_r-- >0;)$r[_r]=Fe[_r];return $r},isTypedArray$1=(Fe=>_r=>Fe&&_r instanceof Fe)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(Fe,_r)=>{const Br=(Fe&&Fe[Symbol.iterator]).call(Fe);let Fr;for(;(Fr=Br.next())&&!Fr.done;){const zr=Fr.value;_r.call(Fe,zr[0],zr[1])}},matchAll=(Fe,_r)=>{let $r;const Br=[];for(;($r=Fe.exec(_r))!==null;)Br.push($r);return Br},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase$1=Fe=>Fe.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function($r,Br,Fr){return Br.toUpperCase()+Fr}),hasOwnProperty$1=(({hasOwnProperty:Fe})=>(_r,$r)=>Fe.call(_r,$r))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(Fe,_r)=>{const $r=Object.getOwnPropertyDescriptors(Fe),Br={};forEach($r,(Fr,zr)=>{let jr;(jr=_r(Fr,zr,Fe))!==!1&&(Br[zr]=jr||Fr)}),Object.defineProperties(Fe,Br)},freezeMethods=Fe=>{reduceDescriptors(Fe,(_r,$r)=>{if(isFunction$2(Fe)&&["arguments","caller","callee"].indexOf($r)!==-1)return!1;const Br=Fe[$r];if(isFunction$2(Br)){if(_r.enumerable=!1,"writable"in _r){_r.writable=!1;return}_r.set||(_r.set=()=>{throw Error("Can not rewrite read-only method '"+$r+"'")})}})},toObjectSet=(Fe,_r)=>{const $r={},Br=Fr=>{Fr.forEach(zr=>{$r[zr]=!0})};return isArray$4(Fe)?Br(Fe):Br(String(Fe).split(_r)),$r},noop$1=()=>{},toFiniteNumber=(Fe,_r)=>(Fe=+Fe,Number.isFinite(Fe)?Fe:_r),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(Fe=16,_r=ALPHABET.ALPHA_DIGIT)=>{let $r="";const{length:Br}=_r;for(;Fe--;)$r+=_r[Math.random()*Br|0];return $r};function isSpecCompliantForm(Fe){return!!(Fe&&isFunction$2(Fe.append)&&Fe[Symbol.toStringTag]==="FormData"&&Fe[Symbol.iterator])}const toJSONObject=Fe=>{const _r=new Array(10),$r=(Br,Fr)=>{if(isObject$6(Br)){if(_r.indexOf(Br)>=0)return;if(!("toJSON"in Br)){_r[Fr]=Br;const zr=isArray$4(Br)?[]:{};return forEach(Br,(jr,Ur)=>{const Gr=$r(jr,Fr+1);!isUndefined$1(Gr)&&(zr[Ur]=Gr)}),_r[Fr]=void 0,zr}}return Br};return $r(Fe,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=Fe=>Fe&&(isObject$6(Fe)||isFunction$2(Fe))&&isFunction$2(Fe.then)&&isFunction$2(Fe.catch),utils={isArray:isArray$4,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$3,isNumber:isNumber$2,isBoolean,isObject:isObject$6,isPlainObject,isUndefined:isUndefined$1,isDate:isDate$1,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge:merge$1,extend:extend$4,trim:trim$2,stripBOM,inherits:inherits$1,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase:toCamelCase$1,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(Fe,_r,$r,Br,Fr){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=Fe,this.name="AxiosError",_r&&(this.code=_r),$r&&(this.config=$r),Br&&(this.request=Br),Fr&&(this.response=Fr)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(Fe=>{descriptors[Fe]={value:Fe}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(Fe,_r,$r,Br,Fr,zr)=>{const jr=Object.create(prototype$1);return utils.toFlatObject(Fe,jr,function(Gr){return Gr!==Error.prototype},Ur=>Ur!=="isAxiosError"),AxiosError.call(jr,Fe.message,_r,$r,Br,Fr),jr.cause=Fe,jr.name=Fe.name,zr&&Object.assign(jr,zr),jr};const httpAdapter=null;function isVisitable(Fe){return utils.isPlainObject(Fe)||utils.isArray(Fe)}function removeBrackets(Fe){return utils.endsWith(Fe,"[]")?Fe.slice(0,-2):Fe}function renderKey(Fe,_r,$r){return Fe?Fe.concat(_r).map(function(Fr,zr){return Fr=removeBrackets(Fr),!$r&&zr?"["+Fr+"]":Fr}).join($r?".":""):_r}function isFlatArray(Fe){return utils.isArray(Fe)&&!Fe.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(_r){return/^is[A-Z]/.test(_r)});function toFormData(Fe,_r,$r){if(!utils.isObject(Fe))throw new TypeError("target must be an object");_r=_r||new FormData,$r=utils.toFlatObject($r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ln,dn){return!utils.isUndefined(dn[ln])});const Br=$r.metaTokens,Fr=$r.visitor||Kr,zr=$r.dots,jr=$r.indexes,Gr=($r.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(_r);if(!utils.isFunction(Fr))throw new TypeError("visitor must be a function");function Yr(an){if(an===null)return"";if(utils.isDate(an))return an.toISOString();if(!Gr&&utils.isBlob(an))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(an)||utils.isTypedArray(an)?Gr&&typeof Blob=="function"?new Blob([an]):Buffer.from(an):an}function Kr(an,ln,dn){let hn=an;if(an&&!dn&&typeof an=="object"){if(utils.endsWith(ln,"{}"))ln=Br?ln:ln.slice(0,-2),an=JSON.stringify(an);else if(utils.isArray(an)&&isFlatArray(an)||(utils.isFileList(an)||utils.endsWith(ln,"[]"))&&(hn=utils.toArray(an)))return ln=removeBrackets(ln),hn.forEach(function(bn,kn){!(utils.isUndefined(bn)||bn===null)&&_r.append(jr===!0?renderKey([ln],kn,zr):jr===null?ln:ln+"[]",Yr(bn))}),!1}return isVisitable(an)?!0:(_r.append(renderKey(dn,ln,zr),Yr(an)),!1)}const Qr=[],Jr=Object.assign(predicates,{defaultVisitor:Kr,convertValue:Yr,isVisitable});function rn(an,ln){if(!utils.isUndefined(an)){if(Qr.indexOf(an)!==-1)throw Error("Circular reference detected in "+ln.join("."));Qr.push(an),utils.forEach(an,function(hn,gn){(!(utils.isUndefined(hn)||hn===null)&&Fr.call(_r,hn,utils.isString(gn)?gn.trim():gn,ln,Jr))===!0&&rn(hn,ln?ln.concat(gn):[gn])}),Qr.pop()}}if(!utils.isObject(Fe))throw new TypeError("data must be an object");return rn(Fe),_r}function encode$1(Fe){const _r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(Fe).replace(/[!'()~]|%20|%00/g,function(Br){return _r[Br]})}function AxiosURLSearchParams(Fe,_r){this._pairs=[],Fe&&toFormData(Fe,this,_r)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(_r,$r){this._pairs.push([_r,$r])};prototype.toString=function(_r){const $r=_r?function(Br){return _r.call(this,Br,encode$1)}:encode$1;return this._pairs.map(function(Fr){return $r(Fr[0])+"="+$r(Fr[1])},"").join("&")};function encode(Fe){return encodeURIComponent(Fe).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(Fe,_r,$r){if(!_r)return Fe;const Br=$r&&$r.encode||encode,Fr=$r&&$r.serialize;let zr;if(Fr?zr=Fr(_r,$r):zr=utils.isURLSearchParams(_r)?_r.toString():new AxiosURLSearchParams(_r,$r).toString(Br),zr){const jr=Fe.indexOf("#");jr!==-1&&(Fe=Fe.slice(0,jr)),Fe+=(Fe.indexOf("?")===-1?"?":"&")+zr}return Fe}class InterceptorManager{constructor(){this.handlers=[]}use(_r,$r,Br){return this.handlers.push({fulfilled:_r,rejected:$r,synchronous:Br?Br.synchronous:!1,runWhen:Br?Br.runWhen:null}),this.handlers.length-1}eject(_r){this.handlers[_r]&&(this.handlers[_r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(_r){utils.forEach(this.handlers,function(Br){Br!==null&&_r(Br)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let Fe;return typeof navigator<"u"&&((Fe=navigator.product)==="ReactNative"||Fe==="NativeScript"||Fe==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(Fe,_r){return toFormData(Fe,new platform$1.classes.URLSearchParams,Object.assign({visitor:function($r,Br,Fr,zr){return platform$1.isNode&&utils.isBuffer($r)?(this.append(Br,$r.toString("base64")),!1):zr.defaultVisitor.apply(this,arguments)}},_r))}function parsePropPath(Fe){return utils.matchAll(/\w+|\[(\w*)]/g,Fe).map(_r=>_r[0]==="[]"?"":_r[1]||_r[0])}function arrayToObject(Fe){const _r={},$r=Object.keys(Fe);let Br;const Fr=$r.length;let zr;for(Br=0;Br<Fr;Br++)zr=$r[Br],_r[zr]=Fe[zr];return _r}function formDataToJSON(Fe){function _r($r,Br,Fr,zr){let jr=$r[zr++];const Ur=Number.isFinite(+jr),Gr=zr>=$r.length;return jr=!jr&&utils.isArray(Fr)?Fr.length:jr,Gr?(utils.hasOwnProp(Fr,jr)?Fr[jr]=[Fr[jr],Br]:Fr[jr]=Br,!Ur):((!Fr[jr]||!utils.isObject(Fr[jr]))&&(Fr[jr]=[]),_r($r,Br,Fr[jr],zr)&&utils.isArray(Fr[jr])&&(Fr[jr]=arrayToObject(Fr[jr])),!Ur)}if(utils.isFormData(Fe)&&utils.isFunction(Fe.entries)){const $r={};return utils.forEachEntry(Fe,(Br,Fr)=>{_r(parsePropPath(Br),Fr,$r,0)}),$r}return null}function stringifySafely(Fe,_r,$r){if(utils.isString(Fe))try{return(_r||JSON.parse)(Fe),utils.trim(Fe)}catch(Br){if(Br.name!=="SyntaxError")throw Br}return($r||JSON.stringify)(Fe)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(_r,$r){const Br=$r.getContentType()||"",Fr=Br.indexOf("application/json")>-1,zr=utils.isObject(_r);if(zr&&utils.isHTMLForm(_r)&&(_r=new FormData(_r)),utils.isFormData(_r))return Fr&&Fr?JSON.stringify(formDataToJSON(_r)):_r;if(utils.isArrayBuffer(_r)||utils.isBuffer(_r)||utils.isStream(_r)||utils.isFile(_r)||utils.isBlob(_r))return _r;if(utils.isArrayBufferView(_r))return _r.buffer;if(utils.isURLSearchParams(_r))return $r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),_r.toString();let Ur;if(zr){if(Br.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(_r,this.formSerializer).toString();if((Ur=utils.isFileList(_r))||Br.indexOf("multipart/form-data")>-1){const Gr=this.env&&this.env.FormData;return toFormData(Ur?{"files[]":_r}:_r,Gr&&new Gr,this.formSerializer)}}return zr||Fr?($r.setContentType("application/json",!1),stringifySafely(_r)):_r}],transformResponse:[function(_r){const $r=this.transitional||defaults$2.transitional,Br=$r&&$r.forcedJSONParsing,Fr=this.responseType==="json";if(_r&&utils.isString(_r)&&(Br&&!this.responseType||Fr)){const jr=!($r&&$r.silentJSONParsing)&&Fr;try{return JSON.parse(_r)}catch(Ur){if(jr)throw Ur.name==="SyntaxError"?AxiosError.from(Ur,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):Ur}}return _r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(_r){return _r>=200&&_r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils.forEach(["delete","get","head","post","put","patch"],Fe=>{defaults$2.headers[Fe]={}});const defaults$3=defaults$2,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=Fe=>{const _r={};let $r,Br,Fr;return Fe&&Fe.split(`
`).forEach(function(jr){Fr=jr.indexOf(":"),$r=jr.substring(0,Fr).trim().toLowerCase(),Br=jr.substring(Fr+1).trim(),!(!$r||_r[$r]&&ignoreDuplicateOf[$r])&&($r==="set-cookie"?_r[$r]?_r[$r].push(Br):_r[$r]=[Br]:_r[$r]=_r[$r]?_r[$r]+", "+Br:Br)}),_r},$internals=Symbol("internals");function normalizeHeader(Fe){return Fe&&String(Fe).trim().toLowerCase()}function normalizeValue(Fe){return Fe===!1||Fe==null?Fe:utils.isArray(Fe)?Fe.map(normalizeValue):String(Fe)}function parseTokens(Fe){const _r=Object.create(null),$r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Br;for(;Br=$r.exec(Fe);)_r[Br[1]]=Br[2];return _r}const isValidHeaderName=Fe=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Fe.trim());function matchHeaderValue(Fe,_r,$r,Br,Fr){if(utils.isFunction(Br))return Br.call(this,_r,$r);if(Fr&&(_r=$r),!!utils.isString(_r)){if(utils.isString(Br))return _r.indexOf(Br)!==-1;if(utils.isRegExp(Br))return Br.test(_r)}}function formatHeader(Fe){return Fe.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(_r,$r,Br)=>$r.toUpperCase()+Br)}function buildAccessors(Fe,_r){const $r=utils.toCamelCase(" "+_r);["get","set","has"].forEach(Br=>{Object.defineProperty(Fe,Br+$r,{value:function(Fr,zr,jr){return this[Br].call(this,_r,Fr,zr,jr)},configurable:!0})})}class AxiosHeaders{constructor(_r){_r&&this.set(_r)}set(_r,$r,Br){const Fr=this;function zr(Ur,Gr,Yr){const Kr=normalizeHeader(Gr);if(!Kr)throw new Error("header name must be a non-empty string");const Qr=utils.findKey(Fr,Kr);(!Qr||Fr[Qr]===void 0||Yr===!0||Yr===void 0&&Fr[Qr]!==!1)&&(Fr[Qr||Gr]=normalizeValue(Ur))}const jr=(Ur,Gr)=>utils.forEach(Ur,(Yr,Kr)=>zr(Yr,Kr,Gr));return utils.isPlainObject(_r)||_r instanceof this.constructor?jr(_r,$r):utils.isString(_r)&&(_r=_r.trim())&&!isValidHeaderName(_r)?jr(parseHeaders(_r),$r):_r!=null&&zr($r,_r,Br),this}get(_r,$r){if(_r=normalizeHeader(_r),_r){const Br=utils.findKey(this,_r);if(Br){const Fr=this[Br];if(!$r)return Fr;if($r===!0)return parseTokens(Fr);if(utils.isFunction($r))return $r.call(this,Fr,Br);if(utils.isRegExp($r))return $r.exec(Fr);throw new TypeError("parser must be boolean|regexp|function")}}}has(_r,$r){if(_r=normalizeHeader(_r),_r){const Br=utils.findKey(this,_r);return!!(Br&&this[Br]!==void 0&&(!$r||matchHeaderValue(this,this[Br],Br,$r)))}return!1}delete(_r,$r){const Br=this;let Fr=!1;function zr(jr){if(jr=normalizeHeader(jr),jr){const Ur=utils.findKey(Br,jr);Ur&&(!$r||matchHeaderValue(Br,Br[Ur],Ur,$r))&&(delete Br[Ur],Fr=!0)}}return utils.isArray(_r)?_r.forEach(zr):zr(_r),Fr}clear(_r){const $r=Object.keys(this);let Br=$r.length,Fr=!1;for(;Br--;){const zr=$r[Br];(!_r||matchHeaderValue(this,this[zr],zr,_r,!0))&&(delete this[zr],Fr=!0)}return Fr}normalize(_r){const $r=this,Br={};return utils.forEach(this,(Fr,zr)=>{const jr=utils.findKey(Br,zr);if(jr){$r[jr]=normalizeValue(Fr),delete $r[zr];return}const Ur=_r?formatHeader(zr):String(zr).trim();Ur!==zr&&delete $r[zr],$r[Ur]=normalizeValue(Fr),Br[Ur]=!0}),this}concat(..._r){return this.constructor.concat(this,..._r)}toJSON(_r){const $r=Object.create(null);return utils.forEach(this,(Br,Fr)=>{Br!=null&&Br!==!1&&($r[Fr]=_r&&utils.isArray(Br)?Br.join(", "):Br)}),$r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_r,$r])=>_r+": "+$r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_r){return _r instanceof this?_r:new this(_r)}static concat(_r,...$r){const Br=new this(_r);return $r.forEach(Fr=>Br.set(Fr)),Br}static accessor(_r){const Br=(this[$internals]=this[$internals]={accessors:{}}).accessors,Fr=this.prototype;function zr(jr){const Ur=normalizeHeader(jr);Br[Ur]||(buildAccessors(Fr,jr),Br[Ur]=!0)}return utils.isArray(_r)?_r.forEach(zr):zr(_r),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.reduceDescriptors(AxiosHeaders.prototype,({value:Fe},_r)=>{let $r=_r[0].toUpperCase()+_r.slice(1);return{get:()=>Fe,set(Br){this[$r]=Br}}});utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(Fe,_r){const $r=this||defaults$3,Br=_r||$r,Fr=AxiosHeaders$1.from(Br.headers);let zr=Br.data;return utils.forEach(Fe,function(Ur){zr=Ur.call($r,zr,Fr.normalize(),_r?_r.status:void 0)}),Fr.normalize(),zr}function isCancel(Fe){return!!(Fe&&Fe.__CANCEL__)}function CanceledError(Fe,_r,$r){AxiosError.call(this,Fe??"canceled",AxiosError.ERR_CANCELED,_r,$r),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(Fe,_r,$r){const Br=$r.config.validateStatus;!$r.status||!Br||Br($r.status)?Fe($r):_r(new AxiosError("Request failed with status code "+$r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor($r.status/100)-4],$r.config,$r.request,$r))}const cookies=platform$1.isStandardBrowserEnv?function(){return{write:function($r,Br,Fr,zr,jr,Ur){const Gr=[];Gr.push($r+"="+encodeURIComponent(Br)),utils.isNumber(Fr)&&Gr.push("expires="+new Date(Fr).toGMTString()),utils.isString(zr)&&Gr.push("path="+zr),utils.isString(jr)&&Gr.push("domain="+jr),Ur===!0&&Gr.push("secure"),document.cookie=Gr.join("; ")},read:function($r){const Br=document.cookie.match(new RegExp("(^|;\\s*)("+$r+")=([^;]*)"));return Br?decodeURIComponent(Br[3]):null},remove:function($r){this.write($r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(Fe){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Fe)}function combineURLs(Fe,_r){return _r?Fe.replace(/\/+$/,"")+"/"+_r.replace(/^\/+/,""):Fe}function buildFullPath(Fe,_r){return Fe&&!isAbsoluteURL(_r)?combineURLs(Fe,_r):_r}const isURLSameOrigin=platform$1.isStandardBrowserEnv?function(){const _r=/(msie|trident)/i.test(navigator.userAgent),$r=document.createElement("a");let Br;function Fr(zr){let jr=zr;return _r&&($r.setAttribute("href",jr),jr=$r.href),$r.setAttribute("href",jr),{href:$r.href,protocol:$r.protocol?$r.protocol.replace(/:$/,""):"",host:$r.host,search:$r.search?$r.search.replace(/^\?/,""):"",hash:$r.hash?$r.hash.replace(/^#/,""):"",hostname:$r.hostname,port:$r.port,pathname:$r.pathname.charAt(0)==="/"?$r.pathname:"/"+$r.pathname}}return Br=Fr(window.location.href),function(jr){const Ur=utils.isString(jr)?Fr(jr):jr;return Ur.protocol===Br.protocol&&Ur.host===Br.host}}():function(){return function(){return!0}}();function parseProtocol(Fe){const _r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Fe);return _r&&_r[1]||""}function speedometer(Fe,_r){Fe=Fe||10;const $r=new Array(Fe),Br=new Array(Fe);let Fr=0,zr=0,jr;return _r=_r!==void 0?_r:1e3,function(Gr){const Yr=Date.now(),Kr=Br[zr];jr||(jr=Yr),$r[Fr]=Gr,Br[Fr]=Yr;let Qr=zr,Jr=0;for(;Qr!==Fr;)Jr+=$r[Qr++],Qr=Qr%Fe;if(Fr=(Fr+1)%Fe,Fr===zr&&(zr=(zr+1)%Fe),Yr-jr<_r)return;const rn=Kr&&Yr-Kr;return rn?Math.round(Jr*1e3/rn):void 0}}function progressEventReducer(Fe,_r){let $r=0;const Br=speedometer(50,250);return Fr=>{const zr=Fr.loaded,jr=Fr.lengthComputable?Fr.total:void 0,Ur=zr-$r,Gr=Br(Ur),Yr=zr<=jr;$r=zr;const Kr={loaded:zr,total:jr,progress:jr?zr/jr:void 0,bytes:Ur,rate:Gr||void 0,estimated:Gr&&jr&&Yr?(jr-zr)/Gr:void 0,event:Fr};Kr[_r?"download":"upload"]=!0,Fe(Kr)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(Fe){return new Promise(function($r,Br){let Fr=Fe.data;const zr=AxiosHeaders$1.from(Fe.headers).normalize(),jr=Fe.responseType;let Ur;function Gr(){Fe.cancelToken&&Fe.cancelToken.unsubscribe(Ur),Fe.signal&&Fe.signal.removeEventListener("abort",Ur)}let Yr;utils.isFormData(Fr)&&(platform$1.isStandardBrowserEnv||platform$1.isStandardBrowserWebWorkerEnv?zr.setContentType(!1):zr.getContentType(/^\s*multipart\/form-data/)?utils.isString(Yr=zr.getContentType())&&zr.setContentType(Yr.replace(/^\s*(multipart\/form-data);+/,"$1")):zr.setContentType("multipart/form-data"));let Kr=new XMLHttpRequest;if(Fe.auth){const an=Fe.auth.username||"",ln=Fe.auth.password?unescape(encodeURIComponent(Fe.auth.password)):"";zr.set("Authorization","Basic "+btoa(an+":"+ln))}const Qr=buildFullPath(Fe.baseURL,Fe.url);Kr.open(Fe.method.toUpperCase(),buildURL(Qr,Fe.params,Fe.paramsSerializer),!0),Kr.timeout=Fe.timeout;function Jr(){if(!Kr)return;const an=AxiosHeaders$1.from("getAllResponseHeaders"in Kr&&Kr.getAllResponseHeaders()),dn={data:!jr||jr==="text"||jr==="json"?Kr.responseText:Kr.response,status:Kr.status,statusText:Kr.statusText,headers:an,config:Fe,request:Kr};settle(function(gn){$r(gn),Gr()},function(gn){Br(gn),Gr()},dn),Kr=null}if("onloadend"in Kr?Kr.onloadend=Jr:Kr.onreadystatechange=function(){!Kr||Kr.readyState!==4||Kr.status===0&&!(Kr.responseURL&&Kr.responseURL.indexOf("file:")===0)||setTimeout(Jr)},Kr.onabort=function(){Kr&&(Br(new AxiosError("Request aborted",AxiosError.ECONNABORTED,Fe,Kr)),Kr=null)},Kr.onerror=function(){Br(new AxiosError("Network Error",AxiosError.ERR_NETWORK,Fe,Kr)),Kr=null},Kr.ontimeout=function(){let ln=Fe.timeout?"timeout of "+Fe.timeout+"ms exceeded":"timeout exceeded";const dn=Fe.transitional||transitionalDefaults;Fe.timeoutErrorMessage&&(ln=Fe.timeoutErrorMessage),Br(new AxiosError(ln,dn.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,Fe,Kr)),Kr=null},platform$1.isStandardBrowserEnv){const an=isURLSameOrigin(Qr)&&Fe.xsrfCookieName&&cookies.read(Fe.xsrfCookieName);an&&zr.set(Fe.xsrfHeaderName,an)}Fr===void 0&&zr.setContentType(null),"setRequestHeader"in Kr&&utils.forEach(zr.toJSON(),function(ln,dn){Kr.setRequestHeader(dn,ln)}),utils.isUndefined(Fe.withCredentials)||(Kr.withCredentials=!!Fe.withCredentials),jr&&jr!=="json"&&(Kr.responseType=Fe.responseType),typeof Fe.onDownloadProgress=="function"&&Kr.addEventListener("progress",progressEventReducer(Fe.onDownloadProgress,!0)),typeof Fe.onUploadProgress=="function"&&Kr.upload&&Kr.upload.addEventListener("progress",progressEventReducer(Fe.onUploadProgress)),(Fe.cancelToken||Fe.signal)&&(Ur=an=>{Kr&&(Br(!an||an.type?new CanceledError(null,Fe,Kr):an),Kr.abort(),Kr=null)},Fe.cancelToken&&Fe.cancelToken.subscribe(Ur),Fe.signal&&(Fe.signal.aborted?Ur():Fe.signal.addEventListener("abort",Ur)));const rn=parseProtocol(Qr);if(rn&&platform$1.protocols.indexOf(rn)===-1){Br(new AxiosError("Unsupported protocol "+rn+":",AxiosError.ERR_BAD_REQUEST,Fe));return}Kr.send(Fr||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(Fe,_r)=>{if(Fe){try{Object.defineProperty(Fe,"name",{value:_r})}catch{}Object.defineProperty(Fe,"adapterName",{value:_r})}});const renderReason=Fe=>`- ${Fe}`,isResolvedHandle=Fe=>utils.isFunction(Fe)||Fe===null||Fe===!1,adapters={getAdapter:Fe=>{Fe=utils.isArray(Fe)?Fe:[Fe];const{length:_r}=Fe;let $r,Br;const Fr={};for(let zr=0;zr<_r;zr++){$r=Fe[zr];let jr;if(Br=$r,!isResolvedHandle($r)&&(Br=knownAdapters[(jr=String($r)).toLowerCase()],Br===void 0))throw new AxiosError(`Unknown adapter '${jr}'`);if(Br)break;Fr[jr||"#"+zr]=Br}if(!Br){const zr=Object.entries(Fr).map(([Ur,Gr])=>`adapter ${Ur} `+(Gr===!1?"is not supported by the environment":"is not available in the build"));let jr=_r?zr.length>1?`since :
`+zr.map(renderReason).join(`
`):" "+renderReason(zr[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+jr,"ERR_NOT_SUPPORT")}return Br},adapters:knownAdapters};function throwIfCancellationRequested(Fe){if(Fe.cancelToken&&Fe.cancelToken.throwIfRequested(),Fe.signal&&Fe.signal.aborted)throw new CanceledError(null,Fe)}function dispatchRequest(Fe){return throwIfCancellationRequested(Fe),Fe.headers=AxiosHeaders$1.from(Fe.headers),Fe.data=transformData.call(Fe,Fe.transformRequest),["post","put","patch"].indexOf(Fe.method)!==-1&&Fe.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(Fe.adapter||defaults$3.adapter)(Fe).then(function(Br){return throwIfCancellationRequested(Fe),Br.data=transformData.call(Fe,Fe.transformResponse,Br),Br.headers=AxiosHeaders$1.from(Br.headers),Br},function(Br){return isCancel(Br)||(throwIfCancellationRequested(Fe),Br&&Br.response&&(Br.response.data=transformData.call(Fe,Fe.transformResponse,Br.response),Br.response.headers=AxiosHeaders$1.from(Br.response.headers))),Promise.reject(Br)})}const headersToObject=Fe=>Fe instanceof AxiosHeaders$1?Fe.toJSON():Fe;function mergeConfig(Fe,_r){_r=_r||{};const $r={};function Br(Yr,Kr,Qr){return utils.isPlainObject(Yr)&&utils.isPlainObject(Kr)?utils.merge.call({caseless:Qr},Yr,Kr):utils.isPlainObject(Kr)?utils.merge({},Kr):utils.isArray(Kr)?Kr.slice():Kr}function Fr(Yr,Kr,Qr){if(utils.isUndefined(Kr)){if(!utils.isUndefined(Yr))return Br(void 0,Yr,Qr)}else return Br(Yr,Kr,Qr)}function zr(Yr,Kr){if(!utils.isUndefined(Kr))return Br(void 0,Kr)}function jr(Yr,Kr){if(utils.isUndefined(Kr)){if(!utils.isUndefined(Yr))return Br(void 0,Yr)}else return Br(void 0,Kr)}function Ur(Yr,Kr,Qr){if(Qr in _r)return Br(Yr,Kr);if(Qr in Fe)return Br(void 0,Yr)}const Gr={url:zr,method:zr,data:zr,baseURL:jr,transformRequest:jr,transformResponse:jr,paramsSerializer:jr,timeout:jr,timeoutMessage:jr,withCredentials:jr,adapter:jr,responseType:jr,xsrfCookieName:jr,xsrfHeaderName:jr,onUploadProgress:jr,onDownloadProgress:jr,decompress:jr,maxContentLength:jr,maxBodyLength:jr,beforeRedirect:jr,transport:jr,httpAgent:jr,httpsAgent:jr,cancelToken:jr,socketPath:jr,responseEncoding:jr,validateStatus:Ur,headers:(Yr,Kr)=>Fr(headersToObject(Yr),headersToObject(Kr),!0)};return utils.forEach(Object.keys(Object.assign({},Fe,_r)),function(Kr){const Qr=Gr[Kr]||Fr,Jr=Qr(Fe[Kr],_r[Kr],Kr);utils.isUndefined(Jr)&&Qr!==Ur||($r[Kr]=Jr)}),$r}const VERSION="1.6.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((Fe,_r)=>{validators$1[Fe]=function(Br){return typeof Br===Fe||"a"+(_r<1?"n ":" ")+Fe}});const deprecatedWarnings={};validators$1.transitional=function(_r,$r,Br){function Fr(zr,jr){return"[Axios v"+VERSION+"] Transitional option '"+zr+"'"+jr+(Br?". "+Br:"")}return(zr,jr,Ur)=>{if(_r===!1)throw new AxiosError(Fr(jr," has been removed"+($r?" in "+$r:"")),AxiosError.ERR_DEPRECATED);return $r&&!deprecatedWarnings[jr]&&(deprecatedWarnings[jr]=!0,console.warn(Fr(jr," has been deprecated since v"+$r+" and will be removed in the near future"))),_r?_r(zr,jr,Ur):!0}};function assertOptions(Fe,_r,$r){if(typeof Fe!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const Br=Object.keys(Fe);let Fr=Br.length;for(;Fr-- >0;){const zr=Br[Fr],jr=_r[zr];if(jr){const Ur=Fe[zr],Gr=Ur===void 0||jr(Ur,zr,Fe);if(Gr!==!0)throw new AxiosError("option "+zr+" must be "+Gr,AxiosError.ERR_BAD_OPTION_VALUE);continue}if($r!==!0)throw new AxiosError("Unknown option "+zr,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(_r){this.defaults=_r,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(_r,$r){typeof _r=="string"?($r=$r||{},$r.url=_r):$r=_r||{},$r=mergeConfig(this.defaults,$r);const{transitional:Br,paramsSerializer:Fr,headers:zr}=$r;Br!==void 0&&validator.assertOptions(Br,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),Fr!=null&&(utils.isFunction(Fr)?$r.paramsSerializer={serialize:Fr}:validator.assertOptions(Fr,{encode:validators.function,serialize:validators.function},!0)),$r.method=($r.method||this.defaults.method||"get").toLowerCase();let jr=zr&&utils.merge(zr.common,zr[$r.method]);zr&&utils.forEach(["delete","get","head","post","put","patch","common"],an=>{delete zr[an]}),$r.headers=AxiosHeaders$1.concat(jr,zr);const Ur=[];let Gr=!0;this.interceptors.request.forEach(function(ln){typeof ln.runWhen=="function"&&ln.runWhen($r)===!1||(Gr=Gr&&ln.synchronous,Ur.unshift(ln.fulfilled,ln.rejected))});const Yr=[];this.interceptors.response.forEach(function(ln){Yr.push(ln.fulfilled,ln.rejected)});let Kr,Qr=0,Jr;if(!Gr){const an=[dispatchRequest.bind(this),void 0];for(an.unshift.apply(an,Ur),an.push.apply(an,Yr),Jr=an.length,Kr=Promise.resolve($r);Qr<Jr;)Kr=Kr.then(an[Qr++],an[Qr++]);return Kr}Jr=Ur.length;let rn=$r;for(Qr=0;Qr<Jr;){const an=Ur[Qr++],ln=Ur[Qr++];try{rn=an(rn)}catch(dn){ln.call(this,dn);break}}try{Kr=dispatchRequest.call(this,rn)}catch(an){return Promise.reject(an)}for(Qr=0,Jr=Yr.length;Qr<Jr;)Kr=Kr.then(Yr[Qr++],Yr[Qr++]);return Kr}getUri(_r){_r=mergeConfig(this.defaults,_r);const $r=buildFullPath(_r.baseURL,_r.url);return buildURL($r,_r.params,_r.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(_r){Axios.prototype[_r]=function($r,Br){return this.request(mergeConfig(Br||{},{method:_r,url:$r,data:(Br||{}).data}))}});utils.forEach(["post","put","patch"],function(_r){function $r(Br){return function(zr,jr,Ur){return this.request(mergeConfig(Ur||{},{method:_r,headers:Br?{"Content-Type":"multipart/form-data"}:{},url:zr,data:jr}))}}Axios.prototype[_r]=$r(),Axios.prototype[_r+"Form"]=$r(!0)});const Axios$1=Axios;class CancelToken{constructor(_r){if(typeof _r!="function")throw new TypeError("executor must be a function.");let $r;this.promise=new Promise(function(zr){$r=zr});const Br=this;this.promise.then(Fr=>{if(!Br._listeners)return;let zr=Br._listeners.length;for(;zr-- >0;)Br._listeners[zr](Fr);Br._listeners=null}),this.promise.then=Fr=>{let zr;const jr=new Promise(Ur=>{Br.subscribe(Ur),zr=Ur}).then(Fr);return jr.cancel=function(){Br.unsubscribe(zr)},jr},_r(function(zr,jr,Ur){Br.reason||(Br.reason=new CanceledError(zr,jr,Ur),$r(Br.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_r){if(this.reason){_r(this.reason);return}this._listeners?this._listeners.push(_r):this._listeners=[_r]}unsubscribe(_r){if(!this._listeners)return;const $r=this._listeners.indexOf(_r);$r!==-1&&this._listeners.splice($r,1)}static source(){let _r;return{token:new CancelToken(function(Fr){_r=Fr}),cancel:_r}}}const CancelToken$1=CancelToken;function spread(Fe){return function($r){return Fe.apply(null,$r)}}function isAxiosError(Fe){return utils.isObject(Fe)&&Fe.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([Fe,_r])=>{HttpStatusCode[_r]=Fe});const HttpStatusCode$1=HttpStatusCode;function createInstance(Fe){const _r=new Axios$1(Fe),$r=bind$3(Axios$1.prototype.request,_r);return utils.extend($r,Axios$1.prototype,_r,{allOwnKeys:!0}),utils.extend($r,_r,null,{allOwnKeys:!0}),$r.create=function(Fr){return createInstance(mergeConfig(Fe,Fr))},$r}const axios=createInstance(defaults$3);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(_r){return Promise.all(_r)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=Fe=>formDataToJSON(utils.isHTMLForm(Fe)?new FormData(Fe):Fe);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;var select2$2={exports:{}};/*!
 * Select2 4.1.0-rc.0
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */(function(Fe){(function(_r){Fe.exports?Fe.exports=function($r,Br){return Br===void 0&&(typeof window<"u"?Br=jqueryExports:Br=jqueryExports($r)),_r(Br),Br}:_r(jQuery)})(function(_r){var $r=function(){if(_r&&_r.fn&&_r.fn.select2&&_r.fn.select2.amd)var Fr=_r.fn.select2.amd;var Fr;return function(){if(!Fr||!Fr.requirejs){Fr?jr=Fr:Fr={};/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */var zr,jr,Ur;(function(Gr){var Yr,Kr,Qr,Jr,rn={},an={},ln={},dn={},hn=Object.prototype.hasOwnProperty,gn=[].slice,bn=/\.js$/;function kn(Fn,Wn){return hn.call(Fn,Wn)}function Sn(Fn,Wn){var Hn,qn,ni,oi,wi,Ci,Fi,Zn,Gn,ui,Ni,$i,Vi=Wn&&Wn.split("/"),ji=ln.map,lo=ji&&ji["*"]||{};if(Fn){for(Fn=Fn.split("/"),wi=Fn.length-1,ln.nodeIdCompat&&bn.test(Fn[wi])&&(Fn[wi]=Fn[wi].replace(bn,"")),Fn[0].charAt(0)==="."&&Vi&&($i=Vi.slice(0,Vi.length-1),Fn=$i.concat(Fn)),Gn=0;Gn<Fn.length;Gn++)if(Ni=Fn[Gn],Ni===".")Fn.splice(Gn,1),Gn-=1;else if(Ni===".."){if(Gn===0||Gn===1&&Fn[2]===".."||Fn[Gn-1]==="..")continue;Gn>0&&(Fn.splice(Gn-1,2),Gn-=2)}Fn=Fn.join("/")}if((Vi||lo)&&ji){for(Hn=Fn.split("/"),Gn=Hn.length;Gn>0;Gn-=1){if(qn=Hn.slice(0,Gn).join("/"),Vi){for(ui=Vi.length;ui>0;ui-=1)if(ni=ji[Vi.slice(0,ui).join("/")],ni&&(ni=ni[qn],ni)){oi=ni,Ci=Gn;break}}if(oi)break;!Fi&&lo&&lo[qn]&&(Fi=lo[qn],Zn=Gn)}!oi&&Fi&&(oi=Fi,Ci=Zn),oi&&(Hn.splice(0,Ci,oi),Fn=Hn.join("/"))}return Fn}function _n(Fn,Wn){return function(){var Hn=gn.call(arguments,0);return typeof Hn[0]!="string"&&Hn.length===1&&Hn.push(null),Kr.apply(Gr,Hn.concat([Fn,Wn]))}}function pn(Fn){return function(Wn){return Sn(Wn,Fn)}}function Cn(Fn){return function(Wn){rn[Fn]=Wn}}function En(Fn){if(kn(an,Fn)){var Wn=an[Fn];delete an[Fn],dn[Fn]=!0,Yr.apply(Gr,Wn)}if(!kn(rn,Fn)&&!kn(dn,Fn))throw new Error("No "+Fn);return rn[Fn]}function Pn(Fn){var Wn,Hn=Fn?Fn.indexOf("!"):-1;return Hn>-1&&(Wn=Fn.substring(0,Hn),Fn=Fn.substring(Hn+1,Fn.length)),[Wn,Fn]}function On(Fn){return Fn?Pn(Fn):[]}Qr=function(Fn,Wn){var Hn,qn=Pn(Fn),ni=qn[0],oi=Wn[1];return Fn=qn[1],ni&&(ni=Sn(ni,oi),Hn=En(ni)),ni?Hn&&Hn.normalize?Fn=Hn.normalize(Fn,pn(oi)):Fn=Sn(Fn,oi):(Fn=Sn(Fn,oi),qn=Pn(Fn),ni=qn[0],Fn=qn[1],ni&&(Hn=En(ni))),{f:ni?ni+"!"+Fn:Fn,n:Fn,pr:ni,p:Hn}};function jn(Fn){return function(){return ln&&ln.config&&ln.config[Fn]||{}}}Jr={require:function(Fn){return _n(Fn)},exports:function(Fn){var Wn=rn[Fn];return typeof Wn<"u"?Wn:rn[Fn]={}},module:function(Fn){return{id:Fn,uri:"",exports:rn[Fn],config:jn(Fn)}}},Yr=function(Fn,Wn,Hn,qn){var ni,oi,wi,Ci,Fi,Zn,Gn=[],ui=typeof Hn,Ni;if(qn=qn||Fn,Zn=On(qn),ui==="undefined"||ui==="function"){for(Wn=!Wn.length&&Hn.length?["require","exports","module"]:Wn,Fi=0;Fi<Wn.length;Fi+=1)if(Ci=Qr(Wn[Fi],Zn),oi=Ci.f,oi==="require")Gn[Fi]=Jr.require(Fn);else if(oi==="exports")Gn[Fi]=Jr.exports(Fn),Ni=!0;else if(oi==="module")ni=Gn[Fi]=Jr.module(Fn);else if(kn(rn,oi)||kn(an,oi)||kn(dn,oi))Gn[Fi]=En(oi);else if(Ci.p)Ci.p.load(Ci.n,_n(qn,!0),Cn(oi),{}),Gn[Fi]=rn[oi];else throw new Error(Fn+" missing "+oi);wi=Hn?Hn.apply(rn[Fn],Gn):void 0,Fn&&(ni&&ni.exports!==Gr&&ni.exports!==rn[Fn]?rn[Fn]=ni.exports:(wi!==Gr||!Ni)&&(rn[Fn]=wi))}else Fn&&(rn[Fn]=Hn)},zr=jr=Kr=function(Fn,Wn,Hn,qn,ni){if(typeof Fn=="string")return Jr[Fn]?Jr[Fn](Wn):En(Qr(Fn,On(Wn)).f);if(!Fn.splice){if(ln=Fn,ln.deps&&Kr(ln.deps,ln.callback),!Wn)return;Wn.splice?(Fn=Wn,Wn=Hn,Hn=null):Fn=Gr}return Wn=Wn||function(){},typeof Hn=="function"&&(Hn=qn,qn=ni),qn?Yr(Gr,Fn,Wn,Hn):setTimeout(function(){Yr(Gr,Fn,Wn,Hn)},4),Kr},Kr.config=function(Fn){return Kr(Fn)},zr._defined=rn,Ur=function(Fn,Wn,Hn){if(typeof Fn!="string")throw new Error("See almond README: incorrect module build, no module name");Wn.splice||(Hn=Wn,Wn=[]),!kn(rn,Fn)&&!kn(an,Fn)&&(an[Fn]=[Fn,Wn,Hn])},Ur.amd={jQuery:!0}})(),Fr.requirejs=zr,Fr.require=jr,Fr.define=Ur}}(),Fr.define("almond",function(){}),Fr.define("jquery",[],function(){var zr=_r||$;return zr==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),zr}),Fr.define("select2/utils",["jquery"],function(zr){var jr={};jr.Extend=function(Kr,Qr){var Jr={}.hasOwnProperty;function rn(){this.constructor=Kr}for(var an in Qr)Jr.call(Qr,an)&&(Kr[an]=Qr[an]);return rn.prototype=Qr.prototype,Kr.prototype=new rn,Kr.__super__=Qr.prototype,Kr};function Ur(Kr){var Qr=Kr.prototype,Jr=[];for(var rn in Qr){var an=Qr[rn];typeof an=="function"&&rn!=="constructor"&&Jr.push(rn)}return Jr}jr.Decorate=function(Kr,Qr){var Jr=Ur(Qr),rn=Ur(Kr);function an(){var Sn=Array.prototype.unshift,_n=Qr.prototype.constructor.length,pn=Kr.prototype.constructor;_n>0&&(Sn.call(arguments,Kr.prototype.constructor),pn=Qr.prototype.constructor),pn.apply(this,arguments)}Qr.displayName=Kr.displayName;function ln(){this.constructor=an}an.prototype=new ln;for(var dn=0;dn<rn.length;dn++){var hn=rn[dn];an.prototype[hn]=Kr.prototype[hn]}for(var gn=function(Sn){var _n=function(){};Sn in an.prototype&&(_n=an.prototype[Sn]);var pn=Qr.prototype[Sn];return function(){var Cn=Array.prototype.unshift;return Cn.call(arguments,_n),pn.apply(this,arguments)}},bn=0;bn<Jr.length;bn++){var kn=Jr[bn];an.prototype[kn]=gn(kn)}return an};var Gr=function(){this.listeners={}};Gr.prototype.on=function(Kr,Qr){this.listeners=this.listeners||{},Kr in this.listeners?this.listeners[Kr].push(Qr):this.listeners[Kr]=[Qr]},Gr.prototype.trigger=function(Kr){var Qr=Array.prototype.slice,Jr=Qr.call(arguments,1);this.listeners=this.listeners||{},Jr==null&&(Jr=[]),Jr.length===0&&Jr.push({}),Jr[0]._type=Kr,Kr in this.listeners&&this.invoke(this.listeners[Kr],Qr.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},Gr.prototype.invoke=function(Kr,Qr){for(var Jr=0,rn=Kr.length;Jr<rn;Jr++)Kr[Jr].apply(this,Qr)},jr.Observable=Gr,jr.generateChars=function(Kr){for(var Qr="",Jr=0;Jr<Kr;Jr++){var rn=Math.floor(Math.random()*36);Qr+=rn.toString(36)}return Qr},jr.bind=function(Kr,Qr){return function(){Kr.apply(Qr,arguments)}},jr._convertData=function(Kr){for(var Qr in Kr){var Jr=Qr.split("-"),rn=Kr;if(Jr.length!==1){for(var an=0;an<Jr.length;an++){var ln=Jr[an];ln=ln.substring(0,1).toLowerCase()+ln.substring(1),ln in rn||(rn[ln]={}),an==Jr.length-1&&(rn[ln]=Kr[Qr]),rn=rn[ln]}delete Kr[Qr]}}return Kr},jr.hasScroll=function(Kr,Qr){var Jr=zr(Qr),rn=Qr.style.overflowX,an=Qr.style.overflowY;return rn===an&&(an==="hidden"||an==="visible")?!1:rn==="scroll"||an==="scroll"?!0:Jr.innerHeight()<Qr.scrollHeight||Jr.innerWidth()<Qr.scrollWidth},jr.escapeMarkup=function(Kr){var Qr={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof Kr!="string"?Kr:String(Kr).replace(/[&<>"'\/\\]/g,function(Jr){return Qr[Jr]})},jr.__cache={};var Yr=0;return jr.GetUniqueElementId=function(Kr){var Qr=Kr.getAttribute("data-select2-id");return Qr!=null||(Kr.id?Qr="select2-data-"+Kr.id:Qr="select2-data-"+(++Yr).toString()+"-"+jr.generateChars(4),Kr.setAttribute("data-select2-id",Qr)),Qr},jr.StoreData=function(Kr,Qr,Jr){var rn=jr.GetUniqueElementId(Kr);jr.__cache[rn]||(jr.__cache[rn]={}),jr.__cache[rn][Qr]=Jr},jr.GetData=function(Kr,Qr){var Jr=jr.GetUniqueElementId(Kr);return Qr?jr.__cache[Jr]&&jr.__cache[Jr][Qr]!=null?jr.__cache[Jr][Qr]:zr(Kr).data(Qr):jr.__cache[Jr]},jr.RemoveData=function(Kr){var Qr=jr.GetUniqueElementId(Kr);jr.__cache[Qr]!=null&&delete jr.__cache[Qr],Kr.removeAttribute("data-select2-id")},jr.copyNonInternalCssClasses=function(Kr,Qr){var Jr=Kr.getAttribute("class").trim().split(/\s+/);Jr=Jr.filter(function(ln){return ln.indexOf("select2-")===0});var rn=Qr.getAttribute("class").trim().split(/\s+/);rn=rn.filter(function(ln){return ln.indexOf("select2-")!==0});var an=Jr.concat(rn);Kr.setAttribute("class",an.join(" "))},jr}),Fr.define("select2/results",["jquery","./utils"],function(zr,jr){function Ur(Gr,Yr,Kr){this.$element=Gr,this.data=Kr,this.options=Yr,Ur.__super__.constructor.call(this)}return jr.Extend(Ur,jr.Observable),Ur.prototype.render=function(){var Gr=zr('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&Gr.attr("aria-multiselectable","true"),this.$results=Gr,Gr},Ur.prototype.clear=function(){this.$results.empty()},Ur.prototype.displayMessage=function(Gr){var Yr=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var Kr=zr('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),Qr=this.options.get("translations").get(Gr.message);Kr.append(Yr(Qr(Gr.args))),Kr[0].className+=" select2-results__message",this.$results.append(Kr)},Ur.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},Ur.prototype.append=function(Gr){this.hideLoading();var Yr=[];if(Gr.results==null||Gr.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}Gr.results=this.sort(Gr.results);for(var Kr=0;Kr<Gr.results.length;Kr++){var Qr=Gr.results[Kr],Jr=this.option(Qr);Yr.push(Jr)}this.$results.append(Yr)},Ur.prototype.position=function(Gr,Yr){var Kr=Yr.find(".select2-results");Kr.append(Gr)},Ur.prototype.sort=function(Gr){var Yr=this.options.get("sorter");return Yr(Gr)},Ur.prototype.highlightFirstItem=function(){var Gr=this.$results.find(".select2-results__option--selectable"),Yr=Gr.filter(".select2-results__option--selected");Yr.length>0?Yr.first().trigger("mouseenter"):Gr.first().trigger("mouseenter"),this.ensureHighlightVisible()},Ur.prototype.setClasses=function(){var Gr=this;this.data.current(function(Yr){var Kr=Yr.map(function(Jr){return Jr.id.toString()}),Qr=Gr.$results.find(".select2-results__option--selectable");Qr.each(function(){var Jr=zr(this),rn=jr.GetData(this,"data"),an=""+rn.id;rn.element!=null&&rn.element.selected||rn.element==null&&Kr.indexOf(an)>-1?(this.classList.add("select2-results__option--selected"),Jr.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),Jr.attr("aria-selected","false"))})})},Ur.prototype.showLoading=function(Gr){this.hideLoading();var Yr=this.options.get("translations").get("searching"),Kr={disabled:!0,loading:!0,text:Yr(Gr)},Qr=this.option(Kr);Qr.className+=" loading-results",this.$results.prepend(Qr)},Ur.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},Ur.prototype.option=function(Gr){var Yr=document.createElement("li");Yr.classList.add("select2-results__option"),Yr.classList.add("select2-results__option--selectable");var Kr={role:"option"},Qr=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(Gr.element!=null&&Qr.call(Gr.element,":disabled")||Gr.element==null&&Gr.disabled)&&(Kr["aria-disabled"]="true",Yr.classList.remove("select2-results__option--selectable"),Yr.classList.add("select2-results__option--disabled")),Gr.id==null&&Yr.classList.remove("select2-results__option--selectable"),Gr._resultId!=null&&(Yr.id=Gr._resultId),Gr.title&&(Yr.title=Gr.title),Gr.children&&(Kr.role="group",Kr["aria-label"]=Gr.text,Yr.classList.remove("select2-results__option--selectable"),Yr.classList.add("select2-results__option--group"));for(var Jr in Kr){var rn=Kr[Jr];Yr.setAttribute(Jr,rn)}if(Gr.children){var an=zr(Yr),ln=document.createElement("strong");ln.className="select2-results__group",this.template(Gr,ln);for(var dn=[],hn=0;hn<Gr.children.length;hn++){var gn=Gr.children[hn],bn=this.option(gn);dn.push(bn)}var kn=zr("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"});kn.append(dn),an.append(ln),an.append(kn)}else this.template(Gr,Yr);return jr.StoreData(Yr,"data",Gr),Yr},Ur.prototype.bind=function(Gr,Yr){var Kr=this,Qr=Gr.id+"-results";this.$results.attr("id",Qr),Gr.on("results:all",function(Jr){Kr.clear(),Kr.append(Jr.data),Gr.isOpen()&&(Kr.setClasses(),Kr.highlightFirstItem())}),Gr.on("results:append",function(Jr){Kr.append(Jr.data),Gr.isOpen()&&Kr.setClasses()}),Gr.on("query",function(Jr){Kr.hideMessages(),Kr.showLoading(Jr)}),Gr.on("select",function(){Gr.isOpen()&&(Kr.setClasses(),Kr.options.get("scrollAfterSelect")&&Kr.highlightFirstItem())}),Gr.on("unselect",function(){Gr.isOpen()&&(Kr.setClasses(),Kr.options.get("scrollAfterSelect")&&Kr.highlightFirstItem())}),Gr.on("open",function(){Kr.$results.attr("aria-expanded","true"),Kr.$results.attr("aria-hidden","false"),Kr.setClasses(),Kr.ensureHighlightVisible()}),Gr.on("close",function(){Kr.$results.attr("aria-expanded","false"),Kr.$results.attr("aria-hidden","true"),Kr.$results.removeAttr("aria-activedescendant")}),Gr.on("results:toggle",function(){var Jr=Kr.getHighlightedResults();Jr.length!==0&&Jr.trigger("mouseup")}),Gr.on("results:select",function(){var Jr=Kr.getHighlightedResults();if(Jr.length!==0){var rn=jr.GetData(Jr[0],"data");Jr.hasClass("select2-results__option--selected")?Kr.trigger("close",{}):Kr.trigger("select",{data:rn})}}),Gr.on("results:previous",function(){var Jr=Kr.getHighlightedResults(),rn=Kr.$results.find(".select2-results__option--selectable"),an=rn.index(Jr);if(!(an<=0)){var ln=an-1;Jr.length===0&&(ln=0);var dn=rn.eq(ln);dn.trigger("mouseenter");var hn=Kr.$results.offset().top,gn=dn.offset().top,bn=Kr.$results.scrollTop()+(gn-hn);ln===0?Kr.$results.scrollTop(0):gn-hn<0&&Kr.$results.scrollTop(bn)}}),Gr.on("results:next",function(){var Jr=Kr.getHighlightedResults(),rn=Kr.$results.find(".select2-results__option--selectable"),an=rn.index(Jr),ln=an+1;if(!(ln>=rn.length)){var dn=rn.eq(ln);dn.trigger("mouseenter");var hn=Kr.$results.offset().top+Kr.$results.outerHeight(!1),gn=dn.offset().top+dn.outerHeight(!1),bn=Kr.$results.scrollTop()+gn-hn;ln===0?Kr.$results.scrollTop(0):gn>hn&&Kr.$results.scrollTop(bn)}}),Gr.on("results:focus",function(Jr){Jr.element[0].classList.add("select2-results__option--highlighted"),Jr.element[0].setAttribute("aria-selected","true")}),Gr.on("results:message",function(Jr){Kr.displayMessage(Jr)}),zr.fn.mousewheel&&this.$results.on("mousewheel",function(Jr){var rn=Kr.$results.scrollTop(),an=Kr.$results.get(0).scrollHeight-rn+Jr.deltaY,ln=Jr.deltaY>0&&rn-Jr.deltaY<=0,dn=Jr.deltaY<0&&an<=Kr.$results.height();ln?(Kr.$results.scrollTop(0),Jr.preventDefault(),Jr.stopPropagation()):dn&&(Kr.$results.scrollTop(Kr.$results.get(0).scrollHeight-Kr.$results.height()),Jr.preventDefault(),Jr.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(Jr){var rn=zr(this),an=jr.GetData(this,"data");if(rn.hasClass("select2-results__option--selected")){Kr.options.get("multiple")?Kr.trigger("unselect",{originalEvent:Jr,data:an}):Kr.trigger("close",{});return}Kr.trigger("select",{originalEvent:Jr,data:an})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(Jr){var rn=jr.GetData(this,"data");Kr.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),Kr.trigger("results:focus",{data:rn,element:zr(this)})})},Ur.prototype.getHighlightedResults=function(){var Gr=this.$results.find(".select2-results__option--highlighted");return Gr},Ur.prototype.destroy=function(){this.$results.remove()},Ur.prototype.ensureHighlightVisible=function(){var Gr=this.getHighlightedResults();if(Gr.length!==0){var Yr=this.$results.find(".select2-results__option--selectable"),Kr=Yr.index(Gr),Qr=this.$results.offset().top,Jr=Gr.offset().top,rn=this.$results.scrollTop()+(Jr-Qr),an=Jr-Qr;rn-=Gr.outerHeight(!1)*2,Kr<=2?this.$results.scrollTop(0):(an>this.$results.outerHeight()||an<0)&&this.$results.scrollTop(rn)}},Ur.prototype.template=function(Gr,Yr){var Kr=this.options.get("templateResult"),Qr=this.options.get("escapeMarkup"),Jr=Kr(Gr,Yr);Jr==null?Yr.style.display="none":typeof Jr=="string"?Yr.innerHTML=Qr(Jr):zr(Yr).append(Jr)},Ur}),Fr.define("select2/keys",[],function(){var zr={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return zr}),Fr.define("select2/selection/base",["jquery","../utils","../keys"],function(zr,jr,Ur){function Gr(Yr,Kr){this.$element=Yr,this.options=Kr,Gr.__super__.constructor.call(this)}return jr.Extend(Gr,jr.Observable),Gr.prototype.render=function(){var Yr=zr('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,jr.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=jr.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),Yr.attr("title",this.$element.attr("title")),Yr.attr("tabindex",this._tabindex),Yr.attr("aria-disabled","false"),this.$selection=Yr,Yr},Gr.prototype.bind=function(Yr,Kr){var Qr=this,Jr=Yr.id+"-results";this.container=Yr,this.$selection.on("focus",function(rn){Qr.trigger("focus",rn)}),this.$selection.on("blur",function(rn){Qr._handleBlur(rn)}),this.$selection.on("keydown",function(rn){Qr.trigger("keypress",rn),rn.which===Ur.SPACE&&rn.preventDefault()}),Yr.on("results:focus",function(rn){Qr.$selection.attr("aria-activedescendant",rn.data._resultId)}),Yr.on("selection:update",function(rn){Qr.update(rn.data)}),Yr.on("open",function(){Qr.$selection.attr("aria-expanded","true"),Qr.$selection.attr("aria-owns",Jr),Qr._attachCloseHandler(Yr)}),Yr.on("close",function(){Qr.$selection.attr("aria-expanded","false"),Qr.$selection.removeAttr("aria-activedescendant"),Qr.$selection.removeAttr("aria-owns"),Qr.$selection.trigger("focus"),Qr._detachCloseHandler(Yr)}),Yr.on("enable",function(){Qr.$selection.attr("tabindex",Qr._tabindex),Qr.$selection.attr("aria-disabled","false")}),Yr.on("disable",function(){Qr.$selection.attr("tabindex","-1"),Qr.$selection.attr("aria-disabled","true")})},Gr.prototype._handleBlur=function(Yr){var Kr=this;window.setTimeout(function(){document.activeElement==Kr.$selection[0]||zr.contains(Kr.$selection[0],document.activeElement)||Kr.trigger("blur",Yr)},1)},Gr.prototype._attachCloseHandler=function(Yr){zr(document.body).on("mousedown.select2."+Yr.id,function(Kr){var Qr=zr(Kr.target),Jr=Qr.closest(".select2"),rn=zr(".select2.select2-container--open");rn.each(function(){if(this!=Jr[0]){var an=jr.GetData(this,"element");an.select2("close")}})})},Gr.prototype._detachCloseHandler=function(Yr){zr(document.body).off("mousedown.select2."+Yr.id)},Gr.prototype.position=function(Yr,Kr){var Qr=Kr.find(".selection");Qr.append(Yr)},Gr.prototype.destroy=function(){this._detachCloseHandler(this.container)},Gr.prototype.update=function(Yr){throw new Error("The `update` method must be defined in child classes.")},Gr.prototype.isEnabled=function(){return!this.isDisabled()},Gr.prototype.isDisabled=function(){return this.options.get("disabled")},Gr}),Fr.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(zr,jr,Ur,Gr){function Yr(){Yr.__super__.constructor.apply(this,arguments)}return Ur.Extend(Yr,jr),Yr.prototype.render=function(){var Kr=Yr.__super__.render.call(this);return Kr[0].classList.add("select2-selection--single"),Kr.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),Kr},Yr.prototype.bind=function(Kr,Qr){var Jr=this;Yr.__super__.bind.apply(this,arguments);var rn=Kr.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",rn).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",rn),this.$selection.attr("aria-controls",rn),this.$selection.on("mousedown",function(an){an.which===1&&Jr.trigger("toggle",{originalEvent:an})}),this.$selection.on("focus",function(an){}),this.$selection.on("blur",function(an){}),Kr.on("focus",function(an){Kr.isOpen()||Jr.$selection.trigger("focus")})},Yr.prototype.clear=function(){var Kr=this.$selection.find(".select2-selection__rendered");Kr.empty(),Kr.removeAttr("title")},Yr.prototype.display=function(Kr,Qr){var Jr=this.options.get("templateSelection"),rn=this.options.get("escapeMarkup");return rn(Jr(Kr,Qr))},Yr.prototype.selectionContainer=function(){return zr("<span></span>")},Yr.prototype.update=function(Kr){if(Kr.length===0){this.clear();return}var Qr=Kr[0],Jr=this.$selection.find(".select2-selection__rendered"),rn=this.display(Qr,Jr);Jr.empty().append(rn);var an=Qr.title||Qr.text;an?Jr.attr("title",an):Jr.removeAttr("title")},Yr}),Fr.define("select2/selection/multiple",["jquery","./base","../utils"],function(zr,jr,Ur){function Gr(Yr,Kr){Gr.__super__.constructor.apply(this,arguments)}return Ur.Extend(Gr,jr),Gr.prototype.render=function(){var Yr=Gr.__super__.render.call(this);return Yr[0].classList.add("select2-selection--multiple"),Yr.html('<ul class="select2-selection__rendered"></ul>'),Yr},Gr.prototype.bind=function(Yr,Kr){var Qr=this;Gr.__super__.bind.apply(this,arguments);var Jr=Yr.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",Jr),this.$selection.on("click",function(rn){Qr.trigger("toggle",{originalEvent:rn})}),this.$selection.on("click",".select2-selection__choice__remove",function(rn){if(!Qr.isDisabled()){var an=zr(this),ln=an.parent(),dn=Ur.GetData(ln[0],"data");Qr.trigger("unselect",{originalEvent:rn,data:dn})}}),this.$selection.on("keydown",".select2-selection__choice__remove",function(rn){Qr.isDisabled()||rn.stopPropagation()})},Gr.prototype.clear=function(){var Yr=this.$selection.find(".select2-selection__rendered");Yr.empty(),Yr.removeAttr("title")},Gr.prototype.display=function(Yr,Kr){var Qr=this.options.get("templateSelection"),Jr=this.options.get("escapeMarkup");return Jr(Qr(Yr,Kr))},Gr.prototype.selectionContainer=function(){var Yr=zr('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>');return Yr},Gr.prototype.update=function(Yr){if(this.clear(),Yr.length!==0){for(var Kr=[],Qr=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",Jr=0;Jr<Yr.length;Jr++){var rn=Yr[Jr],an=this.selectionContainer(),ln=this.display(rn,an),dn=Qr+Ur.generateChars(4)+"-";rn.id?dn+=rn.id:dn+=Ur.generateChars(4),an.find(".select2-selection__choice__display").append(ln).attr("id",dn);var hn=rn.title||rn.text;hn&&an.attr("title",hn);var gn=this.options.get("translations").get("removeItem"),bn=an.find(".select2-selection__choice__remove");bn.attr("title",gn()),bn.attr("aria-label",gn()),bn.attr("aria-describedby",dn),Ur.StoreData(an[0],"data",rn),Kr.push(an)}var kn=this.$selection.find(".select2-selection__rendered");kn.append(Kr)}},Gr}),Fr.define("select2/selection/placeholder",[],function(){function zr(jr,Ur,Gr){this.placeholder=this.normalizePlaceholder(Gr.get("placeholder")),jr.call(this,Ur,Gr)}return zr.prototype.normalizePlaceholder=function(jr,Ur){return typeof Ur=="string"&&(Ur={id:"",text:Ur}),Ur},zr.prototype.createPlaceholder=function(jr,Ur){var Gr=this.selectionContainer();Gr.html(this.display(Ur)),Gr[0].classList.add("select2-selection__placeholder"),Gr[0].classList.remove("select2-selection__choice");var Yr=Ur.title||Ur.text||Gr.text();return this.$selection.find(".select2-selection__rendered").attr("title",Yr),Gr},zr.prototype.update=function(jr,Ur){var Gr=Ur.length==1&&Ur[0].id!=this.placeholder.id,Yr=Ur.length>1;if(Yr||Gr)return jr.call(this,Ur);this.clear();var Kr=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(Kr)},zr}),Fr.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(zr,jr,Ur){function Gr(){}return Gr.prototype.bind=function(Yr,Kr,Qr){var Jr=this;Yr.call(this,Kr,Qr),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(rn){Jr._handleClear(rn)}),Kr.on("keypress",function(rn){Jr._handleKeyboardClear(rn,Kr)})},Gr.prototype._handleClear=function(Yr,Kr){if(!this.isDisabled()){var Qr=this.$selection.find(".select2-selection__clear");if(Qr.length!==0){Kr.stopPropagation();var Jr=Ur.GetData(Qr[0],"data"),rn=this.$element.val();this.$element.val(this.placeholder.id);var an={data:Jr};if(this.trigger("clear",an),an.prevented){this.$element.val(rn);return}for(var ln=0;ln<Jr.length;ln++)if(an={data:Jr[ln]},this.trigger("unselect",an),an.prevented){this.$element.val(rn);return}this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}},Gr.prototype._handleKeyboardClear=function(Yr,Kr,Qr){Qr.isOpen()||(Kr.which==jr.DELETE||Kr.which==jr.BACKSPACE)&&this._handleClear(Kr)},Gr.prototype.update=function(Yr,Kr){if(Yr.call(this,Kr),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),!(this.$selection.find(".select2-selection__placeholder").length>0||Kr.length===0)){var Qr=this.$selection.find(".select2-selection__rendered").attr("id"),Jr=this.options.get("translations").get("removeAllItems"),rn=zr('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>');rn.attr("title",Jr()),rn.attr("aria-label",Jr()),rn.attr("aria-describedby",Qr),Ur.StoreData(rn[0],"data",Kr),this.$selection.prepend(rn),this.$selection[0].classList.add("select2-selection--clearable")}},Gr}),Fr.define("select2/selection/search",["jquery","../utils","../keys"],function(zr,jr,Ur){function Gr(Yr,Kr,Qr){Yr.call(this,Kr,Qr)}return Gr.prototype.render=function(Yr){var Kr=this.options.get("translations").get("search"),Qr=zr('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');this.$searchContainer=Qr,this.$search=Qr.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",Kr());var Jr=Yr.call(this);return this._transferTabIndex(),Jr.append(this.$searchContainer),Jr},Gr.prototype.bind=function(Yr,Kr,Qr){var Jr=this,rn=Kr.id+"-results",an=Kr.id+"-container";Yr.call(this,Kr,Qr),Jr.$search.attr("aria-describedby",an),Kr.on("open",function(){Jr.$search.attr("aria-controls",rn),Jr.$search.trigger("focus")}),Kr.on("close",function(){Jr.$search.val(""),Jr.resizeSearch(),Jr.$search.removeAttr("aria-controls"),Jr.$search.removeAttr("aria-activedescendant"),Jr.$search.trigger("focus")}),Kr.on("enable",function(){Jr.$search.prop("disabled",!1),Jr._transferTabIndex()}),Kr.on("disable",function(){Jr.$search.prop("disabled",!0)}),Kr.on("focus",function(hn){Jr.$search.trigger("focus")}),Kr.on("results:focus",function(hn){hn.data._resultId?Jr.$search.attr("aria-activedescendant",hn.data._resultId):Jr.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(hn){Jr.trigger("focus",hn)}),this.$selection.on("focusout",".select2-search--inline",function(hn){Jr._handleBlur(hn)}),this.$selection.on("keydown",".select2-search--inline",function(hn){hn.stopPropagation(),Jr.trigger("keypress",hn),Jr._keyUpPrevented=hn.isDefaultPrevented();var gn=hn.which;if(gn===Ur.BACKSPACE&&Jr.$search.val()===""){var bn=Jr.$selection.find(".select2-selection__choice").last();if(bn.length>0){var kn=jr.GetData(bn[0],"data");Jr.searchRemoveChoice(kn),hn.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(hn){Jr.$search.val()&&hn.stopPropagation()});var ln=document.documentMode,dn=ln&&ln<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(hn){if(dn){Jr.$selection.off("input.search input.searchcheck");return}Jr.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(hn){if(dn&&hn.type==="input"){Jr.$selection.off("input.search input.searchcheck");return}var gn=hn.which;gn==Ur.SHIFT||gn==Ur.CTRL||gn==Ur.ALT||gn!=Ur.TAB&&Jr.handleSearch(hn)})},Gr.prototype._transferTabIndex=function(Yr){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},Gr.prototype.createPlaceholder=function(Yr,Kr){this.$search.attr("placeholder",Kr.text)},Gr.prototype.update=function(Yr,Kr){var Qr=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),Yr.call(this,Kr),this.resizeSearch(),Qr&&this.$search.trigger("focus")},Gr.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var Yr=this.$search.val();this.trigger("query",{term:Yr})}this._keyUpPrevented=!1},Gr.prototype.searchRemoveChoice=function(Yr,Kr){this.trigger("unselect",{data:Kr}),this.$search.val(Kr.text),this.handleSearch()},Gr.prototype.resizeSearch=function(){this.$search.css("width","25px");var Yr="100%";if(this.$search.attr("placeholder")===""){var Kr=this.$search.val().length+1;Yr=Kr*.75+"em"}this.$search.css("width",Yr)},Gr}),Fr.define("select2/selection/selectionCss",["../utils"],function(zr){function jr(){}return jr.prototype.render=function(Ur){var Gr=Ur.call(this),Yr=this.options.get("selectionCssClass")||"";return Yr.indexOf(":all:")!==-1&&(Yr=Yr.replace(":all:",""),zr.copyNonInternalCssClasses(Gr[0],this.$element[0])),Gr.addClass(Yr),Gr},jr}),Fr.define("select2/selection/eventRelay",["jquery"],function(zr){function jr(){}return jr.prototype.bind=function(Ur,Gr,Yr){var Kr=this,Qr=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],Jr=["opening","closing","selecting","unselecting","clearing"];Ur.call(this,Gr,Yr),Gr.on("*",function(rn,an){if(Qr.indexOf(rn)!==-1){an=an||{};var ln=zr.Event("select2:"+rn,{params:an});Kr.$element.trigger(ln),Jr.indexOf(rn)!==-1&&(an.prevented=ln.isDefaultPrevented())}})},jr}),Fr.define("select2/translation",["jquery","require"],function(zr,jr){function Ur(Gr){this.dict=Gr||{}}return Ur.prototype.all=function(){return this.dict},Ur.prototype.get=function(Gr){return this.dict[Gr]},Ur.prototype.extend=function(Gr){this.dict=zr.extend({},Gr.all(),this.dict)},Ur._cache={},Ur.loadPath=function(Gr){if(!(Gr in Ur._cache)){var Yr=jr(Gr);Ur._cache[Gr]=Yr}return new Ur(Ur._cache[Gr])},Ur}),Fr.define("select2/diacritics",[],function(){var zr={"â¶":"A",ï¼¡:"A",Ã:"A",Ã:"A",Ã:"A",áº¦:"A",áº¤:"A",áºª:"A",áº¨:"A",Ã:"A",Ä:"A",Ä:"A",áº°:"A",áº®:"A",áº´:"A",áº²:"A",È¦:"A",Ç :"A",Ã:"A",Ç:"A",áº¢:"A",Ã:"A",Çº:"A",Ç:"A",È:"A",È:"A",áº :"A",áº¬:"A",áº¶:"A",á¸:"A",Ä:"A","Èº":"A","â±¯":"A","ê²":"AA",Ã:"AE",Ç¼:"AE",Ç¢:"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B",ï¼¢:"B",á¸:"B",á¸:"B",á¸:"B","É":"B",Æ:"B",Æ:"B","â¸":"C",ï¼£:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ã:"C",á¸:"C",Æ:"C","È»":"C","ê¾":"C","â¹":"D",ï¼¤:"D",á¸:"D",Ä:"D",á¸:"D",á¸:"D",á¸:"D",á¸:"D",Ä:"D",Æ:"D",Æ:"D",Æ:"D","ê¹":"D",Ç±:"DZ",Ç:"DZ",Ç²:"Dz",Ç:"Dz","âº":"E",ï¼¥:"E",Ã:"E",Ã:"E",Ã:"E",á»:"E",áº¾:"E",á»:"E",á»:"E",áº¼:"E",Ä:"E",á¸:"E",á¸:"E",Ä:"E",Ä:"E",Ã:"E",áºº:"E",Ä:"E",È:"E",È:"E",áº¸:"E",á»:"E",È¨:"E",á¸:"E",Ä:"E",á¸:"E",á¸:"E",Æ:"E",Æ:"E","â»":"F",ï¼¦:"F",á¸:"F",Æ:"F","ê»":"F","â¼":"G",ï¼§:"G",Ç´:"G",Ä:"G",á¸ :"G",Ä:"G",Ä :"G",Ç¦:"G",Ä¢:"G",Ç¤:"G",Æ:"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H",ï¼¨:"H",Ä¤:"H",á¸¢:"H",á¸¦:"H",È:"H",á¸¤:"H",á¸¨:"H",á¸ª:"H",Ä¦:"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I",ï¼©:"I",Ã:"I",Ã:"I",Ã:"I",Ä¨:"I",Äª:"I",Ä¬:"I",Ä°:"I",Ã:"I",á¸®:"I",á»:"I",Ç:"I",È:"I",È:"I",á»:"I",Ä®:"I",á¸¬:"I",Æ:"I","â¿":"J",ï¼ª:"J",Ä´:"J","É":"J","â":"K",ï¼«:"K",á¸°:"K",Ç¨:"K",á¸²:"K",Ä¶:"K",á¸´:"K",Æ:"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L",ï¼¬:"L",Ä¿:"L",Ä¹:"L",Ä½:"L",á¸¶:"L",á¸¸:"L",Ä»:"L",á¸¼:"L",á¸º:"L",Å:"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L",Ç:"LJ",Ç:"Lj","â":"M",ï¼­:"M",á¸¾:"M",á¹:"M",á¹:"M","â±®":"M",Æ:"M","â":"N",ï¼®:"N",Ç¸:"N",Å:"N",Ã:"N",á¹:"N",Å:"N",á¹:"N",Å:"N",á¹:"N",á¹:"N","È ":"N",Æ:"N","ê":"N","ê¤":"N",Ç:"NJ",Ç:"Nj","â":"O",ï¼¯:"O",Ã:"O",Ã:"O",Ã:"O",á»:"O",á»:"O",á»:"O",á»:"O",Ã:"O",á¹:"O",È¬:"O",á¹:"O",Å:"O",á¹:"O",á¹:"O",Å:"O",È®:"O",È°:"O",Ã:"O",Èª:"O",á»:"O",Å:"O",Ç:"O",È:"O",È:"O",Æ :"O",á»:"O",á»:"O",á» :"O",á»:"O",á»¢:"O",á»:"O",á»:"O",Çª:"O",Ç¬:"O",Ã:"O",Ç¾:"O",Æ:"O",Æ:"O","ê":"O","ê":"O",Å:"OE",Æ¢:"OI","ê":"OO",È¢:"OU","â":"P",ï¼°:"P",á¹:"P",á¹:"P",Æ¤:"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q",ï¼±:"Q","ê":"Q","ê":"Q","É":"Q","â":"R",ï¼²:"R",Å:"R",á¹:"R",Å:"R",È:"R",È:"R",á¹:"R",á¹:"R",Å:"R",á¹:"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S",ï¼³:"S","áº":"S",Å:"S",á¹¤:"S",Å:"S",á¹ :"S",Å :"S",á¹¦:"S",á¹¢:"S",á¹¨:"S",È:"S",Å:"S","â±¾":"S","ê¨":"S","ê":"S","â":"T",ï¼´:"T",á¹ª:"T",Å¤:"T",á¹¬:"T",È:"T",Å¢:"T",á¹°:"T",á¹®:"T",Å¦:"T",Æ¬:"T",Æ®:"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U",ï¼µ:"U",Ã:"U",Ã:"U",Ã:"U",Å¨:"U",á¹¸:"U",Åª:"U",á¹º:"U",Å¬:"U",Ã:"U",Ç:"U",Ç:"U",Ç:"U",Ç:"U",á»¦:"U",Å®:"U",Å°:"U",Ç:"U",È:"U",È:"U",Æ¯:"U",á»ª:"U",á»¨:"U",á»®:"U",á»¬:"U",á»°:"U",á»¤:"U",á¹²:"U",Å²:"U",á¹¶:"U",á¹´:"U","É":"U","â":"V",ï¼¶:"V",á¹¼:"V",á¹¾:"V",Æ²:"V","ê":"V","É":"V","ê ":"VY","â":"W",ï¼·:"W",áº:"W",áº:"W",Å´:"W",áº:"W",áº:"W",áº:"W","â±²":"W","â":"X",ï¼¸:"X",áº:"X",áº:"X","â":"Y",ï¼¹:"Y",á»²:"Y",Ã:"Y",Å¶:"Y",á»¸:"Y",È²:"Y",áº:"Y",Å¸:"Y",á»¶:"Y",á»´:"Y",Æ³:"Y","É":"Y","á»¾":"Y","â":"Z",ï¼º:"Z",Å¹:"Z",áº:"Z",Å»:"Z",Å½:"Z",áº:"Z",áº:"Z",Æµ:"Z",È¤:"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a",ï½:"a",áº:"a",Ã :"a",Ã¡:"a",Ã¢:"a",áº§:"a",áº¥:"a",áº«:"a",áº©:"a",Ã£:"a",Ä:"a",Ä:"a",áº±:"a",áº¯:"a",áºµ:"a",áº³:"a",È§:"a",Ç¡:"a",Ã¤:"a",Ç:"a",áº£:"a",Ã¥:"a",Ç»:"a",Ç:"a",È:"a",È:"a",áº¡:"a",áº­:"a",áº·:"a",á¸:"a",Ä:"a","â±¥":"a",É:"a","ê³":"aa",Ã¦:"ae",Ç½:"ae",Ç£:"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b",ï½:"b",á¸:"b",á¸:"b",á¸:"b",Æ:"b",Æ:"b",É:"b","â":"c",ï½:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ã§:"c",á¸:"c",Æ:"c","È¼":"c","ê¿":"c","â":"c","â":"d",ï½:"d",á¸:"d",Ä:"d",á¸:"d",á¸:"d",á¸:"d",á¸:"d",Ä:"d",Æ:"d",É:"d",É:"d","êº":"d",Ç³:"dz",Ç:"dz","â":"e",ï½:"e",Ã¨:"e",Ã©:"e",Ãª:"e",á»:"e",áº¿:"e",á»:"e",á»:"e",áº½:"e",Ä:"e",á¸:"e",á¸:"e",Ä:"e",Ä:"e",Ã«:"e",áº»:"e",Ä:"e",È:"e",È:"e",áº¹:"e",á»:"e",È©:"e",á¸:"e",Ä:"e",á¸:"e",á¸:"e","É":"e",É:"e",Ç:"e","â":"f",ï½:"f",á¸:"f",Æ:"f","ê¼":"f","â":"g",ï½:"g",Çµ:"g",Ä:"g",á¸¡:"g",Ä:"g",Ä¡:"g",Ç§:"g",Ä£:"g",Ç¥:"g",É :"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h",ï½:"h",Ä¥:"h",á¸£:"h",á¸§:"h",È:"h",á¸¥:"h",á¸©:"h",á¸«:"h",áº:"h",Ä§:"h","â±¨":"h","â±¶":"h",É¥:"h",Æ:"hv","â":"i",ï½:"i",Ã¬:"i",Ã­:"i",Ã®:"i",Ä©:"i",Ä«:"i",Ä­:"i",Ã¯:"i",á¸¯:"i",á»:"i",Ç:"i",È:"i",È:"i",á»:"i",Ä¯:"i",á¸­:"i",É¨:"i",Ä±:"i","â":"j",ï½:"j",Äµ:"j",Ç°:"j","É":"j","â":"k",ï½:"k",á¸±:"k",Ç©:"k",á¸³:"k",Ä·:"k",á¸µ:"k",Æ:"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l",ï½:"l",Å:"l",Äº:"l",Ä¾:"l",á¸·:"l",á¸¹:"l",Ä¼:"l",á¸½:"l",á¸»:"l",Å¿:"l",Å:"l",Æ:"l",É«:"l","â±¡":"l","ê":"l","ê":"l","ê":"l",Ç:"lj","â":"m",ï½:"m",á¸¿:"m",á¹:"m",á¹:"m",É±:"m",É¯:"m","â":"n",ï½:"n",Ç¹:"n",Å:"n",Ã±:"n",á¹:"n",Å:"n",á¹:"n",Å:"n",á¹:"n",á¹:"n",Æ:"n",É²:"n",Å:"n","ê":"n","ê¥":"n",Ç:"nj","â":"o",ï½:"o",Ã²:"o",Ã³:"o",Ã´:"o",á»:"o",á»:"o",á»:"o",á»:"o",Ãµ:"o",á¹:"o",È­:"o",á¹:"o",Å:"o",á¹:"o",á¹:"o",Å:"o",È¯:"o",È±:"o",Ã¶:"o",È«:"o",á»:"o",Å:"o",Ç:"o",È:"o",È:"o",Æ¡:"o",á»:"o",á»:"o",á»¡:"o",á»:"o",á»£:"o",á»:"o",á»:"o",Ç«:"o",Ç­:"o",Ã¸:"o",Ç¿:"o",É:"o","ê":"o","ê":"o",Éµ:"o",Å:"oe",Æ£:"oi",È£:"ou","ê":"oo","â":"p",ï½:"p",á¹:"p",á¹:"p",Æ¥:"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q",ï½:"q","É":"q","ê":"q","ê":"q","â¡":"r",ï½:"r",Å:"r",á¹:"r",Å:"r",È:"r",È:"r",á¹:"r",á¹:"r",Å:"r",á¹:"r","É":"r",É½:"r","ê":"r","ê§":"r","ê":"r","â¢":"s",ï½:"s",Ã:"s",Å:"s",á¹¥:"s",Å:"s",á¹¡:"s",Å¡:"s",á¹§:"s",á¹£:"s",á¹©:"s",È:"s",Å:"s","È¿":"s","ê©":"s","ê":"s",áº:"s","â£":"t",ï½:"t",á¹«:"t",áº:"t",Å¥:"t",á¹­:"t",È:"t",Å£:"t",á¹±:"t",á¹¯:"t",Å§:"t",Æ­:"t",Ê:"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u",ï½:"u",Ã¹:"u",Ãº:"u",Ã»:"u",Å©:"u",á¹¹:"u",Å«:"u",á¹»:"u",Å­:"u",Ã¼:"u",Ç:"u",Ç:"u",Ç:"u",Ç:"u",á»§:"u",Å¯:"u",Å±:"u",Ç:"u",È:"u",È:"u",Æ°:"u",á»«:"u",á»©:"u",á»¯:"u",á»­:"u",á»±:"u",á»¥:"u",á¹³:"u",Å³:"u",á¹·:"u",á¹µ:"u",Ê:"u","â¥":"v",ï½:"v",á¹½:"v",á¹¿:"v",Ê:"v","ê":"v",Ê:"v","ê¡":"vy","â¦":"w",ï½:"w",áº:"w",áº:"w",Åµ:"w",áº:"w",áº:"w",áº:"w",áº:"w","â±³":"w","â§":"x",ï½:"x",áº:"x",áº:"x","â¨":"y",ï½:"y",á»³:"y",Ã½:"y",Å·:"y",á»¹:"y",È³:"y",áº:"y",Ã¿:"y",á»·:"y",áº:"y",á»µ:"y",Æ´:"y","É":"y","á»¿":"y","â©":"z",ï½:"z",Åº:"z",áº:"z",Å¼:"z",Å¾:"z",áº:"z",áº:"z",Æ¶:"z",È¥:"z","É":"z","â±¬":"z","ê£":"z",Î:"Î",Î:"Î",Î:"Î",Î:"Î",Îª:"Î",Î:"Î",Î:"Î¥",Î«:"Î¥",Î:"Î©",Î¬:"Î±",Î­:"Îµ",Î®:"Î·",Î¯:"Î¹",Ï:"Î¹",Î:"Î¹",Ï:"Î¿",Ï:"Ï",Ï:"Ï",Î°:"Ï",Ï:"Ï",Ï:"Ï","â":"'"};return zr}),Fr.define("select2/data/base",["../utils"],function(zr){function jr(Ur,Gr){jr.__super__.constructor.call(this)}return zr.Extend(jr,zr.Observable),jr.prototype.current=function(Ur){throw new Error("The `current` method must be defined in child classes.")},jr.prototype.query=function(Ur,Gr){throw new Error("The `query` method must be defined in child classes.")},jr.prototype.bind=function(Ur,Gr){},jr.prototype.destroy=function(){},jr.prototype.generateResultId=function(Ur,Gr){var Yr=Ur.id+"-result-";return Yr+=zr.generateChars(4),Gr.id!=null?Yr+="-"+Gr.id.toString():Yr+="-"+zr.generateChars(4),Yr},jr}),Fr.define("select2/data/select",["./base","../utils","jquery"],function(zr,jr,Ur){function Gr(Yr,Kr){this.$element=Yr,this.options=Kr,Gr.__super__.constructor.call(this)}return jr.Extend(Gr,zr),Gr.prototype.current=function(Yr){var Kr=this,Qr=Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(Jr){return Kr.item(Ur(Jr))});Yr(Qr)},Gr.prototype.select=function(Yr){var Kr=this;if(Yr.selected=!0,Yr.element!=null&&Yr.element.tagName.toLowerCase()==="option"){Yr.element.selected=!0,this.$element.trigger("input").trigger("change");return}if(this.$element.prop("multiple"))this.current(function(Jr){var rn=[];Yr=[Yr],Yr.push.apply(Yr,Jr);for(var an=0;an<Yr.length;an++){var ln=Yr[an].id;rn.indexOf(ln)===-1&&rn.push(ln)}Kr.$element.val(rn),Kr.$element.trigger("input").trigger("change")});else{var Qr=Yr.id;this.$element.val(Qr),this.$element.trigger("input").trigger("change")}},Gr.prototype.unselect=function(Yr){var Kr=this;if(this.$element.prop("multiple")){if(Yr.selected=!1,Yr.element!=null&&Yr.element.tagName.toLowerCase()==="option"){Yr.element.selected=!1,this.$element.trigger("input").trigger("change");return}this.current(function(Qr){for(var Jr=[],rn=0;rn<Qr.length;rn++){var an=Qr[rn].id;an!==Yr.id&&Jr.indexOf(an)===-1&&Jr.push(an)}Kr.$element.val(Jr),Kr.$element.trigger("input").trigger("change")})}},Gr.prototype.bind=function(Yr,Kr){var Qr=this;this.container=Yr,Yr.on("select",function(Jr){Qr.select(Jr.data)}),Yr.on("unselect",function(Jr){Qr.unselect(Jr.data)})},Gr.prototype.destroy=function(){this.$element.find("*").each(function(){jr.RemoveData(this)})},Gr.prototype.query=function(Yr,Kr){var Qr=[],Jr=this,rn=this.$element.children();rn.each(function(){if(!(this.tagName.toLowerCase()!=="option"&&this.tagName.toLowerCase()!=="optgroup")){var an=Ur(this),ln=Jr.item(an),dn=Jr.matches(Yr,ln);dn!==null&&Qr.push(dn)}}),Kr({results:Qr})},Gr.prototype.addOptions=function(Yr){this.$element.append(Yr)},Gr.prototype.option=function(Yr){var Kr;Yr.children?(Kr=document.createElement("optgroup"),Kr.label=Yr.text):(Kr=document.createElement("option"),Kr.textContent!==void 0?Kr.textContent=Yr.text:Kr.innerText=Yr.text),Yr.id!==void 0&&(Kr.value=Yr.id),Yr.disabled&&(Kr.disabled=!0),Yr.selected&&(Kr.selected=!0),Yr.title&&(Kr.title=Yr.title);var Qr=this._normalizeItem(Yr);return Qr.element=Kr,jr.StoreData(Kr,"data",Qr),Ur(Kr)},Gr.prototype.item=function(Yr){var Kr={};if(Kr=jr.GetData(Yr[0],"data"),Kr!=null)return Kr;var Qr=Yr[0];if(Qr.tagName.toLowerCase()==="option")Kr={id:Yr.val(),text:Yr.text(),disabled:Yr.prop("disabled"),selected:Yr.prop("selected"),title:Yr.prop("title")};else if(Qr.tagName.toLowerCase()==="optgroup"){Kr={text:Yr.prop("label"),children:[],title:Yr.prop("title")};for(var Jr=Yr.children("option"),rn=[],an=0;an<Jr.length;an++){var ln=Ur(Jr[an]),dn=this.item(ln);rn.push(dn)}Kr.children=rn}return Kr=this._normalizeItem(Kr),Kr.element=Yr[0],jr.StoreData(Yr[0],"data",Kr),Kr},Gr.prototype._normalizeItem=function(Yr){Yr!==Object(Yr)&&(Yr={id:Yr,text:Yr}),Yr=Ur.extend({},{text:""},Yr);var Kr={selected:!1,disabled:!1};return Yr.id!=null&&(Yr.id=Yr.id.toString()),Yr.text!=null&&(Yr.text=Yr.text.toString()),Yr._resultId==null&&Yr.id&&this.container!=null&&(Yr._resultId=this.generateResultId(this.container,Yr)),Ur.extend({},Kr,Yr)},Gr.prototype.matches=function(Yr,Kr){var Qr=this.options.get("matcher");return Qr(Yr,Kr)},Gr}),Fr.define("select2/data/array",["./select","../utils","jquery"],function(zr,jr,Ur){function Gr(Yr,Kr){this._dataToConvert=Kr.get("data")||[],Gr.__super__.constructor.call(this,Yr,Kr)}return jr.Extend(Gr,zr),Gr.prototype.bind=function(Yr,Kr){Gr.__super__.bind.call(this,Yr,Kr),this.addOptions(this.convertToOptions(this._dataToConvert))},Gr.prototype.select=function(Yr){var Kr=this.$element.find("option").filter(function(Qr,Jr){return Jr.value==Yr.id.toString()});Kr.length===0&&(Kr=this.option(Yr),this.addOptions(Kr)),Gr.__super__.select.call(this,Yr)},Gr.prototype.convertToOptions=function(Yr){var Kr=this,Qr=this.$element.find("option"),Jr=Qr.map(function(){return Kr.item(Ur(this)).id}).get(),rn=[];function an(pn){return function(){return Ur(this).val()==pn.id}}for(var ln=0;ln<Yr.length;ln++){var dn=this._normalizeItem(Yr[ln]);if(Jr.indexOf(dn.id)>=0){var hn=Qr.filter(an(dn)),gn=this.item(hn),bn=Ur.extend(!0,{},dn,gn),kn=this.option(bn);hn.replaceWith(kn);continue}var Sn=this.option(dn);if(dn.children){var _n=this.convertToOptions(dn.children);Sn.append(_n)}rn.push(Sn)}return rn},Gr}),Fr.define("select2/data/ajax",["./array","../utils","jquery"],function(zr,jr,Ur){function Gr(Yr,Kr){this.ajaxOptions=this._applyDefaults(Kr.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),Gr.__super__.constructor.call(this,Yr,Kr)}return jr.Extend(Gr,zr),Gr.prototype._applyDefaults=function(Yr){var Kr={data:function(Qr){return Ur.extend({},Qr,{q:Qr.term})},transport:function(Qr,Jr,rn){var an=Ur.ajax(Qr);return an.then(Jr),an.fail(rn),an}};return Ur.extend({},Kr,Yr,!0)},Gr.prototype.processResults=function(Yr){return Yr},Gr.prototype.query=function(Yr,Kr){var Qr=this;this._request!=null&&(typeof this._request.abort=="function"&&this._request.abort(),this._request=null);var Jr=Ur.extend({type:"GET"},this.ajaxOptions);typeof Jr.url=="function"&&(Jr.url=Jr.url.call(this.$element,Yr)),typeof Jr.data=="function"&&(Jr.data=Jr.data.call(this.$element,Yr));function rn(){var an=Jr.transport(Jr,function(ln){var dn=Qr.processResults(ln,Yr);Qr.options.get("debug")&&window.console&&console.error&&(!dn||!dn.results||!Array.isArray(dn.results))&&console.error("Select2: The AJAX results did not return an array in the `results` key of the response."),Kr(dn)},function(){"status"in an&&(an.status===0||an.status==="0")||Qr.trigger("results:message",{message:"errorLoading"})});Qr._request=an}this.ajaxOptions.delay&&Yr.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(rn,this.ajaxOptions.delay)):rn()},Gr}),Fr.define("select2/data/tags",["jquery"],function(zr){function jr(Ur,Gr,Yr){var Kr=Yr.get("tags"),Qr=Yr.get("createTag");Qr!==void 0&&(this.createTag=Qr);var Jr=Yr.get("insertTag");if(Jr!==void 0&&(this.insertTag=Jr),Ur.call(this,Gr,Yr),Array.isArray(Kr))for(var rn=0;rn<Kr.length;rn++){var an=Kr[rn],ln=this._normalizeItem(an),dn=this.option(ln);this.$element.append(dn)}}return jr.prototype.query=function(Ur,Gr,Yr){var Kr=this;if(this._removeOldTags(),Gr.term==null||Gr.page!=null){Ur.call(this,Gr,Yr);return}function Qr(Jr,rn){for(var an=Jr.results,ln=0;ln<an.length;ln++){var dn=an[ln],hn=dn.children!=null&&!Qr({results:dn.children},!0),gn=(dn.text||"").toUpperCase(),bn=(Gr.term||"").toUpperCase(),kn=gn===bn;if(kn||hn){if(rn)return!1;Jr.data=an,Yr(Jr);return}}if(rn)return!0;var Sn=Kr.createTag(Gr);if(Sn!=null){var _n=Kr.option(Sn);_n.attr("data-select2-tag","true"),Kr.addOptions([_n]),Kr.insertTag(an,Sn)}Jr.results=an,Yr(Jr)}Ur.call(this,Gr,Qr)},jr.prototype.createTag=function(Ur,Gr){if(Gr.term==null)return null;var Yr=Gr.term.trim();return Yr===""?null:{id:Yr,text:Yr}},jr.prototype.insertTag=function(Ur,Gr,Yr){Gr.unshift(Yr)},jr.prototype._removeOldTags=function(Ur){var Gr=this.$element.find("option[data-select2-tag]");Gr.each(function(){this.selected||zr(this).remove()})},jr}),Fr.define("select2/data/tokenizer",["jquery"],function(zr){function jr(Ur,Gr,Yr){var Kr=Yr.get("tokenizer");Kr!==void 0&&(this.tokenizer=Kr),Ur.call(this,Gr,Yr)}return jr.prototype.bind=function(Ur,Gr,Yr){Ur.call(this,Gr,Yr),this.$search=Gr.dropdown.$search||Gr.selection.$search||Yr.find(".select2-search__field")},jr.prototype.query=function(Ur,Gr,Yr){var Kr=this;function Qr(an){var ln=Kr._normalizeItem(an),dn=Kr.$element.find("option").filter(function(){return zr(this).val()===ln.id});if(!dn.length){var hn=Kr.option(ln);hn.attr("data-select2-tag",!0),Kr._removeOldTags(),Kr.addOptions([hn])}Jr(ln)}function Jr(an){Kr.trigger("select",{data:an})}Gr.term=Gr.term||"";var rn=this.tokenizer(Gr,this.options,Qr);rn.term!==Gr.term&&(this.$search.length&&(this.$search.val(rn.term),this.$search.trigger("focus")),Gr.term=rn.term),Ur.call(this,Gr,Yr)},jr.prototype.tokenizer=function(Ur,Gr,Yr,Kr){for(var Qr=Yr.get("tokenSeparators")||[],Jr=Gr.term,rn=0,an=this.createTag||function(bn){return{id:bn.term,text:bn.term}};rn<Jr.length;){var ln=Jr[rn];if(Qr.indexOf(ln)===-1){rn++;continue}var dn=Jr.substr(0,rn),hn=zr.extend({},Gr,{term:dn}),gn=an(hn);if(gn==null){rn++;continue}Kr(gn),Jr=Jr.substr(rn+1)||"",rn=0}return{term:Jr}},jr}),Fr.define("select2/data/minimumInputLength",[],function(){function zr(jr,Ur,Gr){this.minimumInputLength=Gr.get("minimumInputLength"),jr.call(this,Ur,Gr)}return zr.prototype.query=function(jr,Ur,Gr){if(Ur.term=Ur.term||"",Ur.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:Ur.term,params:Ur}});return}jr.call(this,Ur,Gr)},zr}),Fr.define("select2/data/maximumInputLength",[],function(){function zr(jr,Ur,Gr){this.maximumInputLength=Gr.get("maximumInputLength"),jr.call(this,Ur,Gr)}return zr.prototype.query=function(jr,Ur,Gr){if(Ur.term=Ur.term||"",this.maximumInputLength>0&&Ur.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:Ur.term,params:Ur}});return}jr.call(this,Ur,Gr)},zr}),Fr.define("select2/data/maximumSelectionLength",[],function(){function zr(jr,Ur,Gr){this.maximumSelectionLength=Gr.get("maximumSelectionLength"),jr.call(this,Ur,Gr)}return zr.prototype.bind=function(jr,Ur,Gr){var Yr=this;jr.call(this,Ur,Gr),Ur.on("select",function(){Yr._checkIfMaximumSelected()})},zr.prototype.query=function(jr,Ur,Gr){var Yr=this;this._checkIfMaximumSelected(function(){jr.call(Yr,Ur,Gr)})},zr.prototype._checkIfMaximumSelected=function(jr,Ur){var Gr=this;this.current(function(Yr){var Kr=Yr!=null?Yr.length:0;if(Gr.maximumSelectionLength>0&&Kr>=Gr.maximumSelectionLength){Gr.trigger("results:message",{message:"maximumSelected",args:{maximum:Gr.maximumSelectionLength}});return}Ur&&Ur()})},zr}),Fr.define("select2/dropdown",["jquery","./utils"],function(zr,jr){function Ur(Gr,Yr){this.$element=Gr,this.options=Yr,Ur.__super__.constructor.call(this)}return jr.Extend(Ur,jr.Observable),Ur.prototype.render=function(){var Gr=zr('<span class="select2-dropdown"><span class="select2-results"></span></span>');return Gr.attr("dir",this.options.get("dir")),this.$dropdown=Gr,Gr},Ur.prototype.bind=function(){},Ur.prototype.position=function(Gr,Yr){},Ur.prototype.destroy=function(){this.$dropdown.remove()},Ur}),Fr.define("select2/dropdown/search",["jquery"],function(zr){function jr(){}return jr.prototype.render=function(Ur){var Gr=Ur.call(this),Yr=this.options.get("translations").get("search"),Kr=zr('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=Kr,this.$search=Kr.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",Yr()),Gr.prepend(Kr),Gr},jr.prototype.bind=function(Ur,Gr,Yr){var Kr=this,Qr=Gr.id+"-results";Ur.call(this,Gr,Yr),this.$search.on("keydown",function(Jr){Kr.trigger("keypress",Jr),Kr._keyUpPrevented=Jr.isDefaultPrevented()}),this.$search.on("input",function(Jr){zr(this).off("keyup")}),this.$search.on("keyup input",function(Jr){Kr.handleSearch(Jr)}),Gr.on("open",function(){Kr.$search.attr("tabindex",0),Kr.$search.attr("aria-controls",Qr),Kr.$search.trigger("focus"),window.setTimeout(function(){Kr.$search.trigger("focus")},0)}),Gr.on("close",function(){Kr.$search.attr("tabindex",-1),Kr.$search.removeAttr("aria-controls"),Kr.$search.removeAttr("aria-activedescendant"),Kr.$search.val(""),Kr.$search.trigger("blur")}),Gr.on("focus",function(){Gr.isOpen()||Kr.$search.trigger("focus")}),Gr.on("results:all",function(Jr){if(Jr.query.term==null||Jr.query.term===""){var rn=Kr.showSearch(Jr);rn?Kr.$searchContainer[0].classList.remove("select2-search--hide"):Kr.$searchContainer[0].classList.add("select2-search--hide")}}),Gr.on("results:focus",function(Jr){Jr.data._resultId?Kr.$search.attr("aria-activedescendant",Jr.data._resultId):Kr.$search.removeAttr("aria-activedescendant")})},jr.prototype.handleSearch=function(Ur){if(!this._keyUpPrevented){var Gr=this.$search.val();this.trigger("query",{term:Gr})}this._keyUpPrevented=!1},jr.prototype.showSearch=function(Ur,Gr){return!0},jr}),Fr.define("select2/dropdown/hidePlaceholder",[],function(){function zr(jr,Ur,Gr,Yr){this.placeholder=this.normalizePlaceholder(Gr.get("placeholder")),jr.call(this,Ur,Gr,Yr)}return zr.prototype.append=function(jr,Ur){Ur.results=this.removePlaceholder(Ur.results),jr.call(this,Ur)},zr.prototype.normalizePlaceholder=function(jr,Ur){return typeof Ur=="string"&&(Ur={id:"",text:Ur}),Ur},zr.prototype.removePlaceholder=function(jr,Ur){for(var Gr=Ur.slice(0),Yr=Ur.length-1;Yr>=0;Yr--){var Kr=Ur[Yr];this.placeholder.id===Kr.id&&Gr.splice(Yr,1)}return Gr},zr}),Fr.define("select2/dropdown/infiniteScroll",["jquery"],function(zr){function jr(Ur,Gr,Yr,Kr){this.lastParams={},Ur.call(this,Gr,Yr,Kr),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return jr.prototype.append=function(Ur,Gr){this.$loadingMore.remove(),this.loading=!1,Ur.call(this,Gr),this.showLoadingMore(Gr)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},jr.prototype.bind=function(Ur,Gr,Yr){var Kr=this;Ur.call(this,Gr,Yr),Gr.on("query",function(Qr){Kr.lastParams=Qr,Kr.loading=!0}),Gr.on("query:append",function(Qr){Kr.lastParams=Qr,Kr.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},jr.prototype.loadMoreIfNeeded=function(){var Ur=zr.contains(document.documentElement,this.$loadingMore[0]);if(!(this.loading||!Ur)){var Gr=this.$results.offset().top+this.$results.outerHeight(!1),Yr=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1);Gr+50>=Yr&&this.loadMore()}},jr.prototype.loadMore=function(){this.loading=!0;var Ur=zr.extend({},{page:1},this.lastParams);Ur.page++,this.trigger("query:append",Ur)},jr.prototype.showLoadingMore=function(Ur,Gr){return Gr.pagination&&Gr.pagination.more},jr.prototype.createLoadingMore=function(){var Ur=zr('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),Gr=this.options.get("translations").get("loadingMore");return Ur.html(Gr(this.lastParams)),Ur},jr}),Fr.define("select2/dropdown/attachBody",["jquery","../utils"],function(zr,jr){function Ur(Gr,Yr,Kr){this.$dropdownParent=zr(Kr.get("dropdownParent")||document.body),Gr.call(this,Yr,Kr)}return Ur.prototype.bind=function(Gr,Yr,Kr){var Qr=this;Gr.call(this,Yr,Kr),Yr.on("open",function(){Qr._showDropdown(),Qr._attachPositioningHandler(Yr),Qr._bindContainerResultHandlers(Yr)}),Yr.on("close",function(){Qr._hideDropdown(),Qr._detachPositioningHandler(Yr)}),this.$dropdownContainer.on("mousedown",function(Jr){Jr.stopPropagation()})},Ur.prototype.destroy=function(Gr){Gr.call(this),this.$dropdownContainer.remove()},Ur.prototype.position=function(Gr,Yr,Kr){Yr.attr("class",Kr.attr("class")),Yr[0].classList.remove("select2"),Yr[0].classList.add("select2-container--open"),Yr.css({position:"absolute",top:-999999}),this.$container=Kr},Ur.prototype.render=function(Gr){var Yr=zr("<span></span>"),Kr=Gr.call(this);return Yr.append(Kr),this.$dropdownContainer=Yr,Yr},Ur.prototype._hideDropdown=function(Gr){this.$dropdownContainer.detach()},Ur.prototype._bindContainerResultHandlers=function(Gr,Yr){if(!this._containerResultsHandlersBound){var Kr=this;Yr.on("results:all",function(){Kr._positionDropdown(),Kr._resizeDropdown()}),Yr.on("results:append",function(){Kr._positionDropdown(),Kr._resizeDropdown()}),Yr.on("results:message",function(){Kr._positionDropdown(),Kr._resizeDropdown()}),Yr.on("select",function(){Kr._positionDropdown(),Kr._resizeDropdown()}),Yr.on("unselect",function(){Kr._positionDropdown(),Kr._resizeDropdown()}),this._containerResultsHandlersBound=!0}},Ur.prototype._attachPositioningHandler=function(Gr,Yr){var Kr=this,Qr="scroll.select2."+Yr.id,Jr="resize.select2."+Yr.id,rn="orientationchange.select2."+Yr.id,an=this.$container.parents().filter(jr.hasScroll);an.each(function(){jr.StoreData(this,"select2-scroll-position",{x:zr(this).scrollLeft(),y:zr(this).scrollTop()})}),an.on(Qr,function(ln){var dn=jr.GetData(this,"select2-scroll-position");zr(this).scrollTop(dn.y)}),zr(window).on(Qr+" "+Jr+" "+rn,function(ln){Kr._positionDropdown(),Kr._resizeDropdown()})},Ur.prototype._detachPositioningHandler=function(Gr,Yr){var Kr="scroll.select2."+Yr.id,Qr="resize.select2."+Yr.id,Jr="orientationchange.select2."+Yr.id,rn=this.$container.parents().filter(jr.hasScroll);rn.off(Kr),zr(window).off(Kr+" "+Qr+" "+Jr)},Ur.prototype._positionDropdown=function(){var Gr=zr(window),Yr=this.$dropdown[0].classList.contains("select2-dropdown--above"),Kr=this.$dropdown[0].classList.contains("select2-dropdown--below"),Qr=null,Jr=this.$container.offset();Jr.bottom=Jr.top+this.$container.outerHeight(!1);var rn={height:this.$container.outerHeight(!1)};rn.top=Jr.top,rn.bottom=Jr.top+rn.height;var an={height:this.$dropdown.outerHeight(!1)},ln={top:Gr.scrollTop(),bottom:Gr.scrollTop()+Gr.height()},dn=ln.top<Jr.top-an.height,hn=ln.bottom>Jr.bottom+an.height,gn={left:Jr.left,top:rn.bottom},bn=this.$dropdownParent;bn.css("position")==="static"&&(bn=bn.offsetParent());var kn={top:0,left:0};(zr.contains(document.body,bn[0])||bn[0].isConnected)&&(kn=bn.offset()),gn.top-=kn.top,gn.left-=kn.left,!Yr&&!Kr&&(Qr="below"),!hn&&dn&&!Yr?Qr="above":!dn&&hn&&Yr&&(Qr="below"),(Qr=="above"||Yr&&Qr!=="below")&&(gn.top=rn.top-kn.top-an.height),Qr!=null&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+Qr),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+Qr)),this.$dropdownContainer.css(gn)},Ur.prototype._resizeDropdown=function(){var Gr={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(Gr.minWidth=Gr.width,Gr.position="relative",Gr.width="auto"),this.$dropdown.css(Gr)},Ur.prototype._showDropdown=function(Gr){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},Ur}),Fr.define("select2/dropdown/minimumResultsForSearch",[],function(){function zr(Ur){for(var Gr=0,Yr=0;Yr<Ur.length;Yr++){var Kr=Ur[Yr];Kr.children?Gr+=zr(Kr.children):Gr++}return Gr}function jr(Ur,Gr,Yr,Kr){this.minimumResultsForSearch=Yr.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),Ur.call(this,Gr,Yr,Kr)}return jr.prototype.showSearch=function(Ur,Gr){return zr(Gr.data.results)<this.minimumResultsForSearch?!1:Ur.call(this,Gr)},jr}),Fr.define("select2/dropdown/selectOnClose",["../utils"],function(zr){function jr(){}return jr.prototype.bind=function(Ur,Gr,Yr){var Kr=this;Ur.call(this,Gr,Yr),Gr.on("close",function(Qr){Kr._handleSelectOnClose(Qr)})},jr.prototype._handleSelectOnClose=function(Ur,Gr){if(Gr&&Gr.originalSelect2Event!=null){var Yr=Gr.originalSelect2Event;if(Yr._type==="select"||Yr._type==="unselect")return}var Kr=this.getHighlightedResults();if(!(Kr.length<1)){var Qr=zr.GetData(Kr[0],"data");Qr.element!=null&&Qr.element.selected||Qr.element==null&&Qr.selected||this.trigger("select",{data:Qr})}},jr}),Fr.define("select2/dropdown/closeOnSelect",[],function(){function zr(){}return zr.prototype.bind=function(jr,Ur,Gr){var Yr=this;jr.call(this,Ur,Gr),Ur.on("select",function(Kr){Yr._selectTriggered(Kr)}),Ur.on("unselect",function(Kr){Yr._selectTriggered(Kr)})},zr.prototype._selectTriggered=function(jr,Ur){var Gr=Ur.originalEvent;Gr&&(Gr.ctrlKey||Gr.metaKey)||this.trigger("close",{originalEvent:Gr,originalSelect2Event:Ur})},zr}),Fr.define("select2/dropdown/dropdownCss",["../utils"],function(zr){function jr(){}return jr.prototype.render=function(Ur){var Gr=Ur.call(this),Yr=this.options.get("dropdownCssClass")||"";return Yr.indexOf(":all:")!==-1&&(Yr=Yr.replace(":all:",""),zr.copyNonInternalCssClasses(Gr[0],this.$element[0])),Gr.addClass(Yr),Gr},jr}),Fr.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(zr){function jr(){}return jr.prototype.highlightFirstItem=function(Ur){var Gr=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(Gr.length>0){var Yr=Gr.first(),Kr=zr.GetData(Yr[0],"data"),Qr=Kr.element;if(Qr&&Qr.getAttribute&&Qr.getAttribute("data-select2-tag")==="true"){Yr.trigger("mouseenter");return}}Ur.call(this)},jr}),Fr.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(zr){var jr=zr.input.length-zr.maximum,Ur="Please delete "+jr+" character";return jr!=1&&(Ur+="s"),Ur},inputTooShort:function(zr){var jr=zr.minimum-zr.input.length,Ur="Please enter "+jr+" or more characters";return Ur},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(zr){var jr="You can only select "+zr.maximum+" item";return zr.maximum!=1&&(jr+="s"),jr},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),Fr.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],function(zr,jr,Ur,Gr,Yr,Kr,Qr,Jr,rn,an,ln,dn,hn,gn,bn,kn,Sn,_n,pn,Cn,En,Pn,On,jn,Fn,Wn,Hn,qn,ni,oi,wi){function Ci(){this.reset()}Ci.prototype.apply=function(Zn){if(Zn=zr.extend(!0,{},this.defaults,Zn),Zn.dataAdapter==null&&(Zn.ajax!=null?Zn.dataAdapter=bn:Zn.data!=null?Zn.dataAdapter=gn:Zn.dataAdapter=hn,Zn.minimumInputLength>0&&(Zn.dataAdapter=an.Decorate(Zn.dataAdapter,_n)),Zn.maximumInputLength>0&&(Zn.dataAdapter=an.Decorate(Zn.dataAdapter,pn)),Zn.maximumSelectionLength>0&&(Zn.dataAdapter=an.Decorate(Zn.dataAdapter,Cn)),Zn.tags&&(Zn.dataAdapter=an.Decorate(Zn.dataAdapter,kn)),(Zn.tokenSeparators!=null||Zn.tokenizer!=null)&&(Zn.dataAdapter=an.Decorate(Zn.dataAdapter,Sn))),Zn.resultsAdapter==null&&(Zn.resultsAdapter=jr,Zn.ajax!=null&&(Zn.resultsAdapter=an.Decorate(Zn.resultsAdapter,jn)),Zn.placeholder!=null&&(Zn.resultsAdapter=an.Decorate(Zn.resultsAdapter,On)),Zn.selectOnClose&&(Zn.resultsAdapter=an.Decorate(Zn.resultsAdapter,Hn)),Zn.tags&&(Zn.resultsAdapter=an.Decorate(Zn.resultsAdapter,oi))),Zn.dropdownAdapter==null){if(Zn.multiple)Zn.dropdownAdapter=En;else{var Gn=an.Decorate(En,Pn);Zn.dropdownAdapter=Gn}Zn.minimumResultsForSearch!==0&&(Zn.dropdownAdapter=an.Decorate(Zn.dropdownAdapter,Wn)),Zn.closeOnSelect&&(Zn.dropdownAdapter=an.Decorate(Zn.dropdownAdapter,qn)),Zn.dropdownCssClass!=null&&(Zn.dropdownAdapter=an.Decorate(Zn.dropdownAdapter,ni)),Zn.dropdownAdapter=an.Decorate(Zn.dropdownAdapter,Fn)}Zn.selectionAdapter==null&&(Zn.multiple?Zn.selectionAdapter=Gr:Zn.selectionAdapter=Ur,Zn.placeholder!=null&&(Zn.selectionAdapter=an.Decorate(Zn.selectionAdapter,Yr)),Zn.allowClear&&(Zn.selectionAdapter=an.Decorate(Zn.selectionAdapter,Kr)),Zn.multiple&&(Zn.selectionAdapter=an.Decorate(Zn.selectionAdapter,Qr)),Zn.selectionCssClass!=null&&(Zn.selectionAdapter=an.Decorate(Zn.selectionAdapter,Jr)),Zn.selectionAdapter=an.Decorate(Zn.selectionAdapter,rn)),Zn.language=this._resolveLanguage(Zn.language),Zn.language.push("en");for(var ui=[],Ni=0;Ni<Zn.language.length;Ni++){var $i=Zn.language[Ni];ui.indexOf($i)===-1&&ui.push($i)}return Zn.language=ui,Zn.translations=this._processTranslations(Zn.language,Zn.debug),Zn},Ci.prototype.reset=function(){function Zn(ui){function Ni($i){return dn[$i]||$i}return ui.replace(/[^\u0000-\u007E]/g,Ni)}function Gn(ui,Ni){if(ui.term==null||ui.term.trim()==="")return Ni;if(Ni.children&&Ni.children.length>0){for(var $i=zr.extend(!0,{},Ni),Vi=Ni.children.length-1;Vi>=0;Vi--){var ji=Ni.children[Vi],lo=Gn(ui,ji);lo==null&&$i.children.splice(Vi,1)}return $i.children.length>0?$i:Gn(ui,$i)}var ho=Zn(Ni.text).toUpperCase(),so=Zn(ui.term).toUpperCase();return ho.indexOf(so)>-1?Ni:null}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:an.escapeMarkup,language:{},matcher:Gn,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(ui){return ui},templateResult:function(ui){return ui.text},templateSelection:function(ui){return ui.text},theme:"default",width:"resolve"}},Ci.prototype.applyFromElement=function(Zn,Gn){var ui=Zn.language,Ni=this.defaults.language,$i=Gn.prop("lang"),Vi=Gn.closest("[lang]").prop("lang"),ji=Array.prototype.concat.call(this._resolveLanguage($i),this._resolveLanguage(ui),this._resolveLanguage(Ni),this._resolveLanguage(Vi));return Zn.language=ji,Zn},Ci.prototype._resolveLanguage=function(Zn){if(!Zn)return[];if(zr.isEmptyObject(Zn))return[];if(zr.isPlainObject(Zn))return[Zn];var Gn;Array.isArray(Zn)?Gn=Zn:Gn=[Zn];for(var ui=[],Ni=0;Ni<Gn.length;Ni++)if(ui.push(Gn[Ni]),typeof Gn[Ni]=="string"&&Gn[Ni].indexOf("-")>0){var $i=Gn[Ni].split("-"),Vi=$i[0];ui.push(Vi)}return ui},Ci.prototype._processTranslations=function(Zn,Gn){for(var ui=new ln,Ni=0;Ni<Zn.length;Ni++){var $i=new ln,Vi=Zn[Ni];if(typeof Vi=="string")try{$i=ln.loadPath(Vi)}catch{try{Vi=this.defaults.amdLanguageBase+Vi,$i=ln.loadPath(Vi)}catch{Gn&&window.console&&console.warn&&console.warn('Select2: The language file for "'+Vi+'" could not be automatically loaded. A fallback will be used instead.')}}else zr.isPlainObject(Vi)?$i=new ln(Vi):$i=Vi;ui.extend($i)}return ui},Ci.prototype.set=function(Zn,Gn){var ui=zr.camelCase(Zn),Ni={};Ni[ui]=Gn;var $i=an._convertData(Ni);zr.extend(!0,this.defaults,$i)};var Fi=new Ci;return Fi}),Fr.define("select2/options",["jquery","./defaults","./utils"],function(zr,jr,Ur){function Gr(Yr,Kr){this.options=Yr,Kr!=null&&this.fromElement(Kr),Kr!=null&&(this.options=jr.applyFromElement(this.options,Kr)),this.options=jr.apply(this.options)}return Gr.prototype.fromElement=function(Yr){var Kr=["select2"];this.options.multiple==null&&(this.options.multiple=Yr.prop("multiple")),this.options.disabled==null&&(this.options.disabled=Yr.prop("disabled")),this.options.autocomplete==null&&Yr.prop("autocomplete")&&(this.options.autocomplete=Yr.prop("autocomplete")),this.options.dir==null&&(Yr.prop("dir")?this.options.dir=Yr.prop("dir"):Yr.closest("[dir]").prop("dir")?this.options.dir=Yr.closest("[dir]").prop("dir"):this.options.dir="ltr"),Yr.prop("disabled",this.options.disabled),Yr.prop("multiple",this.options.multiple),Ur.GetData(Yr[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),Ur.StoreData(Yr[0],"data",Ur.GetData(Yr[0],"select2Tags")),Ur.StoreData(Yr[0],"tags",!0)),Ur.GetData(Yr[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),Yr.attr("ajax--url",Ur.GetData(Yr[0],"ajaxUrl")),Ur.StoreData(Yr[0],"ajax-Url",Ur.GetData(Yr[0],"ajaxUrl")));var Qr={};function Jr(Sn,_n){return _n.toUpperCase()}for(var rn=0;rn<Yr[0].attributes.length;rn++){var an=Yr[0].attributes[rn].name,ln="data-";if(an.substr(0,ln.length)==ln){var dn=an.substring(ln.length),hn=Ur.GetData(Yr[0],dn),gn=dn.replace(/-([a-z])/g,Jr);Qr[gn]=hn}}zr.fn.jquery&&zr.fn.jquery.substr(0,2)=="1."&&Yr[0].dataset&&(Qr=zr.extend(!0,{},Yr[0].dataset,Qr));var bn=zr.extend(!0,{},Ur.GetData(Yr[0]),Qr);bn=Ur._convertData(bn);for(var kn in bn)Kr.indexOf(kn)>-1||(zr.isPlainObject(this.options[kn])?zr.extend(this.options[kn],bn[kn]):this.options[kn]=bn[kn]);return this},Gr.prototype.get=function(Yr){return this.options[Yr]},Gr.prototype.set=function(Yr,Kr){this.options[Yr]=Kr},Gr}),Fr.define("select2/core",["jquery","./options","./utils","./keys"],function(zr,jr,Ur,Gr){var Yr=function(Kr,Qr){Ur.GetData(Kr[0],"select2")!=null&&Ur.GetData(Kr[0],"select2").destroy(),this.$element=Kr,this.id=this._generateId(Kr),Qr=Qr||{},this.options=new jr(Qr,Kr),Yr.__super__.constructor.call(this);var Jr=Kr.attr("tabindex")||0;Ur.StoreData(Kr[0],"old-tabindex",Jr),Kr.attr("tabindex","-1");var rn=this.options.get("dataAdapter");this.dataAdapter=new rn(Kr,this.options);var an=this.render();this._placeContainer(an);var ln=this.options.get("selectionAdapter");this.selection=new ln(Kr,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,an);var dn=this.options.get("dropdownAdapter");this.dropdown=new dn(Kr,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,an);var hn=this.options.get("resultsAdapter");this.results=new hn(Kr,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var gn=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(bn){gn.trigger("selection:update",{data:bn})}),Kr[0].classList.add("select2-hidden-accessible"),Kr.attr("aria-hidden","true"),this._syncAttributes(),Ur.StoreData(Kr[0],"select2",this),Kr.data("select2",this)};return Ur.Extend(Yr,Ur.Observable),Yr.prototype._generateId=function(Kr){var Qr="";return Kr.attr("id")!=null?Qr=Kr.attr("id"):Kr.attr("name")!=null?Qr=Kr.attr("name")+"-"+Ur.generateChars(2):Qr=Ur.generateChars(4),Qr=Qr.replace(/(:|\.|\[|\]|,)/g,""),Qr="select2-"+Qr,Qr},Yr.prototype._placeContainer=function(Kr){Kr.insertAfter(this.$element);var Qr=this._resolveWidth(this.$element,this.options.get("width"));Qr!=null&&Kr.css("width",Qr)},Yr.prototype._resolveWidth=function(Kr,Qr){var Jr=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(Qr=="resolve"){var rn=this._resolveWidth(Kr,"style");return rn??this._resolveWidth(Kr,"element")}if(Qr=="element"){var an=Kr.outerWidth(!1);return an<=0?"auto":an+"px"}if(Qr=="style"){var ln=Kr.attr("style");if(typeof ln!="string")return null;for(var dn=ln.split(";"),hn=0,gn=dn.length;hn<gn;hn=hn+1){var bn=dn[hn].replace(/\s/g,""),kn=bn.match(Jr);if(kn!==null&&kn.length>=1)return kn[1]}return null}if(Qr=="computedstyle"){var Sn=window.getComputedStyle(Kr[0]);return Sn.width}return Qr},Yr.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},Yr.prototype._registerDomEvents=function(){var Kr=this;this.$element.on("change.select2",function(){Kr.dataAdapter.current(function(Qr){Kr.trigger("selection:update",{data:Qr})})}),this.$element.on("focus.select2",function(Qr){Kr.trigger("focus",Qr)}),this._syncA=Ur.bind(this._syncAttributes,this),this._syncS=Ur.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(Qr){Kr._syncA(),Kr._syncS(Qr)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},Yr.prototype._registerDataEvents=function(){var Kr=this;this.dataAdapter.on("*",function(Qr,Jr){Kr.trigger(Qr,Jr)})},Yr.prototype._registerSelectionEvents=function(){var Kr=this,Qr=["toggle","focus"];this.selection.on("toggle",function(){Kr.toggleDropdown()}),this.selection.on("focus",function(Jr){Kr.focus(Jr)}),this.selection.on("*",function(Jr,rn){Qr.indexOf(Jr)===-1&&Kr.trigger(Jr,rn)})},Yr.prototype._registerDropdownEvents=function(){var Kr=this;this.dropdown.on("*",function(Qr,Jr){Kr.trigger(Qr,Jr)})},Yr.prototype._registerResultsEvents=function(){var Kr=this;this.results.on("*",function(Qr,Jr){Kr.trigger(Qr,Jr)})},Yr.prototype._registerEvents=function(){var Kr=this;this.on("open",function(){Kr.$container[0].classList.add("select2-container--open")}),this.on("close",function(){Kr.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){Kr.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){Kr.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){Kr.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(Qr){Kr.isOpen()||Kr.trigger("open",{}),this.dataAdapter.query(Qr,function(Jr){Kr.trigger("results:all",{data:Jr,query:Qr})})}),this.on("query:append",function(Qr){this.dataAdapter.query(Qr,function(Jr){Kr.trigger("results:append",{data:Jr,query:Qr})})}),this.on("keypress",function(Qr){var Jr=Qr.which;Kr.isOpen()?Jr===Gr.ESC||Jr===Gr.UP&&Qr.altKey?(Kr.close(Qr),Qr.preventDefault()):Jr===Gr.ENTER||Jr===Gr.TAB?(Kr.trigger("results:select",{}),Qr.preventDefault()):Jr===Gr.SPACE&&Qr.ctrlKey?(Kr.trigger("results:toggle",{}),Qr.preventDefault()):Jr===Gr.UP?(Kr.trigger("results:previous",{}),Qr.preventDefault()):Jr===Gr.DOWN&&(Kr.trigger("results:next",{}),Qr.preventDefault()):(Jr===Gr.ENTER||Jr===Gr.SPACE||Jr===Gr.DOWN&&Qr.altKey)&&(Kr.open(),Qr.preventDefault())})},Yr.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},Yr.prototype._isChangeMutation=function(Kr){var Qr=this;if(Kr.addedNodes&&Kr.addedNodes.length>0)for(var Jr=0;Jr<Kr.addedNodes.length;Jr++){var rn=Kr.addedNodes[Jr];if(rn.selected)return!0}else{if(Kr.removedNodes&&Kr.removedNodes.length>0)return!0;if(Array.isArray(Kr))return Kr.some(function(an){return Qr._isChangeMutation(an)})}return!1},Yr.prototype._syncSubtree=function(Kr){var Qr=this._isChangeMutation(Kr),Jr=this;Qr&&this.dataAdapter.current(function(rn){Jr.trigger("selection:update",{data:rn})})},Yr.prototype.trigger=function(Kr,Qr){var Jr=Yr.__super__.trigger,rn={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(Qr===void 0&&(Qr={}),Kr in rn){var an=rn[Kr],ln={prevented:!1,name:Kr,args:Qr};if(Jr.call(this,an,ln),ln.prevented){Qr.prevented=!0;return}}Jr.call(this,Kr,Qr)},Yr.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},Yr.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},Yr.prototype.close=function(Kr){this.isOpen()&&this.trigger("close",{originalEvent:Kr})},Yr.prototype.isEnabled=function(){return!this.isDisabled()},Yr.prototype.isDisabled=function(){return this.options.get("disabled")},Yr.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},Yr.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},Yr.prototype.focus=function(Kr){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},Yr.prototype.enable=function(Kr){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(Kr==null||Kr.length===0)&&(Kr=[!0]);var Qr=!Kr[0];this.$element.prop("disabled",Qr)},Yr.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var Kr=[];return this.dataAdapter.current(function(Qr){Kr=Qr}),Kr},Yr.prototype.val=function(Kr){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),Kr==null||Kr.length===0)return this.$element.val();var Qr=Kr[0];Array.isArray(Qr)&&(Qr=Qr.map(function(Jr){return Jr.toString()})),this.$element.val(Qr).trigger("input").trigger("change")},Yr.prototype.destroy=function(){Ur.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",Ur.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),Ur.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},Yr.prototype.render=function(){var Kr=zr('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return Kr.attr("dir",this.options.get("dir")),this.$container=Kr,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),Ur.StoreData(Kr[0],"element",this.$element),Kr},Yr}),Fr.define("jquery-mousewheel",["jquery"],function(zr){return zr}),Fr.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(zr,jr,Ur,Gr,Yr){if(zr.fn.select2==null){var Kr=["open","close","destroy"];zr.fn.select2=function(Qr){if(Qr=Qr||{},typeof Qr=="object")return this.each(function(){var an=zr.extend(!0,{},Qr);new Ur(zr(this),an)}),this;if(typeof Qr=="string"){var Jr,rn=Array.prototype.slice.call(arguments,1);return this.each(function(){var an=Yr.GetData(this,"select2");an==null&&window.console&&console.error&&console.error("The select2('"+Qr+"') method was called on an element that is not using Select2."),Jr=an[Qr].apply(an,rn)}),Kr.indexOf(Qr)>-1?this:Jr}else throw new Error("Invalid arguments for Select2: "+Qr)}}return zr.fn.select2.defaults==null&&(zr.fn.select2.defaults=Gr),Ur}),{define:Fr.define,require:Fr.require}}(),Br=$r.require("jquery.select2");return _r.fn.select2.amd=$r,Br})})(select2$2);var select2Exports=select2$2.exports;const select2$1=getDefaultExportFromCjs(select2Exports);var daterangepicker$1={exports:{}};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(Fe){hookCallback=Fe}function isArray$3(Fe){return Fe instanceof Array||Object.prototype.toString.call(Fe)==="[object Array]"}function isObject$5(Fe){return Fe!=null&&Object.prototype.toString.call(Fe)==="[object Object]"}function hasOwnProp(Fe,_r){return Object.prototype.hasOwnProperty.call(Fe,_r)}function isObjectEmpty(Fe){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(Fe).length===0;var _r;for(_r in Fe)if(hasOwnProp(Fe,_r))return!1;return!0}function isUndefined(Fe){return Fe===void 0}function isNumber$1(Fe){return typeof Fe=="number"||Object.prototype.toString.call(Fe)==="[object Number]"}function isDate(Fe){return Fe instanceof Date||Object.prototype.toString.call(Fe)==="[object Date]"}function map$2(Fe,_r){var $r=[],Br,Fr=Fe.length;for(Br=0;Br<Fr;++Br)$r.push(_r(Fe[Br],Br));return $r}function extend$3(Fe,_r){for(var $r in _r)hasOwnProp(_r,$r)&&(Fe[$r]=_r[$r]);return hasOwnProp(_r,"toString")&&(Fe.toString=_r.toString),hasOwnProp(_r,"valueOf")&&(Fe.valueOf=_r.valueOf),Fe}function createUTC(Fe,_r,$r,Br){return createLocalOrUTC(Fe,_r,$r,Br,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(Fe){return Fe._pf==null&&(Fe._pf=defaultParsingFlags()),Fe._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(Fe){var _r=Object(this),$r=_r.length>>>0,Br;for(Br=0;Br<$r;Br++)if(Br in _r&&Fe.call(this,_r[Br],Br,_r))return!0;return!1};function isValid(Fe){if(Fe._isValid==null){var _r=getParsingFlags(Fe),$r=some.call(_r.parsedDateParts,function(Fr){return Fr!=null}),Br=!isNaN(Fe._d.getTime())&&_r.overflow<0&&!_r.empty&&!_r.invalidEra&&!_r.invalidMonth&&!_r.invalidWeekday&&!_r.weekdayMismatch&&!_r.nullInput&&!_r.invalidFormat&&!_r.userInvalidated&&(!_r.meridiem||_r.meridiem&&$r);if(Fe._strict&&(Br=Br&&_r.charsLeftOver===0&&_r.unusedTokens.length===0&&_r.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(Fe))Fe._isValid=Br;else return Br}return Fe._isValid}function createInvalid(Fe){var _r=createUTC(NaN);return Fe!=null?extend$3(getParsingFlags(_r),Fe):getParsingFlags(_r).userInvalidated=!0,_r}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(Fe,_r){var $r,Br,Fr,zr=momentProperties.length;if(isUndefined(_r._isAMomentObject)||(Fe._isAMomentObject=_r._isAMomentObject),isUndefined(_r._i)||(Fe._i=_r._i),isUndefined(_r._f)||(Fe._f=_r._f),isUndefined(_r._l)||(Fe._l=_r._l),isUndefined(_r._strict)||(Fe._strict=_r._strict),isUndefined(_r._tzm)||(Fe._tzm=_r._tzm),isUndefined(_r._isUTC)||(Fe._isUTC=_r._isUTC),isUndefined(_r._offset)||(Fe._offset=_r._offset),isUndefined(_r._pf)||(Fe._pf=getParsingFlags(_r)),isUndefined(_r._locale)||(Fe._locale=_r._locale),zr>0)for($r=0;$r<zr;$r++)Br=momentProperties[$r],Fr=_r[Br],isUndefined(Fr)||(Fe[Br]=Fr);return Fe}function Moment(Fe){copyConfig(this,Fe),this._d=new Date(Fe._d!=null?Fe._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(Fe){return Fe instanceof Moment||Fe!=null&&Fe._isAMomentObject!=null}function warn$2(Fe){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+Fe)}function deprecate(Fe,_r){var $r=!0;return extend$3(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,Fe),$r){var Br=[],Fr,zr,jr,Ur=arguments.length;for(zr=0;zr<Ur;zr++){if(Fr="",typeof arguments[zr]=="object"){Fr+=`
[`+zr+"] ";for(jr in arguments[0])hasOwnProp(arguments[0],jr)&&(Fr+=jr+": "+arguments[0][jr]+", ");Fr=Fr.slice(0,-2)}else Fr=arguments[zr];Br.push(Fr)}warn$2(Fe+`
Arguments: `+Array.prototype.slice.call(Br).join("")+`
`+new Error().stack),$r=!1}return _r.apply(this,arguments)},_r)}var deprecations={};function deprecateSimple(Fe,_r){hooks.deprecationHandler!=null&&hooks.deprecationHandler(Fe,_r),deprecations[Fe]||(warn$2(_r),deprecations[Fe]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$1(Fe){return typeof Function<"u"&&Fe instanceof Function||Object.prototype.toString.call(Fe)==="[object Function]"}function set$3(Fe){var _r,$r;for($r in Fe)hasOwnProp(Fe,$r)&&(_r=Fe[$r],isFunction$1(_r)?this[$r]=_r:this["_"+$r]=_r);this._config=Fe,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(Fe,_r){var $r=extend$3({},Fe),Br;for(Br in _r)hasOwnProp(_r,Br)&&(isObject$5(Fe[Br])&&isObject$5(_r[Br])?($r[Br]={},extend$3($r[Br],Fe[Br]),extend$3($r[Br],_r[Br])):_r[Br]!=null?$r[Br]=_r[Br]:delete $r[Br]);for(Br in Fe)hasOwnProp(Fe,Br)&&!hasOwnProp(_r,Br)&&isObject$5(Fe[Br])&&($r[Br]=extend$3({},$r[Br]));return $r}function Locale(Fe){Fe!=null&&this.set(Fe)}var keys$1;Object.keys?keys$1=Object.keys:keys$1=function(Fe){var _r,$r=[];for(_r in Fe)hasOwnProp(Fe,_r)&&$r.push(_r);return $r};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(Fe,_r,$r){var Br=this._calendar[Fe]||this._calendar.sameElse;return isFunction$1(Br)?Br.call(_r,$r):Br}function zeroFill(Fe,_r,$r){var Br=""+Math.abs(Fe),Fr=_r-Br.length,zr=Fe>=0;return(zr?$r?"+":"":"-")+Math.pow(10,Math.max(0,Fr)).toString().substr(1)+Br}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(Fe,_r,$r,Br){var Fr=Br;typeof Br=="string"&&(Fr=function(){return this[Br]()}),Fe&&(formatTokenFunctions[Fe]=Fr),_r&&(formatTokenFunctions[_r[0]]=function(){return zeroFill(Fr.apply(this,arguments),_r[1],_r[2])}),$r&&(formatTokenFunctions[$r]=function(){return this.localeData().ordinal(Fr.apply(this,arguments),Fe)})}function removeFormattingTokens(Fe){return Fe.match(/\[[\s\S]/)?Fe.replace(/^\[|\]$/g,""):Fe.replace(/\\/g,"")}function makeFormatFunction(Fe){var _r=Fe.match(formattingTokens),$r,Br;for($r=0,Br=_r.length;$r<Br;$r++)formatTokenFunctions[_r[$r]]?_r[$r]=formatTokenFunctions[_r[$r]]:_r[$r]=removeFormattingTokens(_r[$r]);return function(Fr){var zr="",jr;for(jr=0;jr<Br;jr++)zr+=isFunction$1(_r[jr])?_r[jr].call(Fr,Fe):_r[jr];return zr}}function formatMoment(Fe,_r){return Fe.isValid()?(_r=expandFormat(_r,Fe.localeData()),formatFunctions[_r]=formatFunctions[_r]||makeFormatFunction(_r),formatFunctions[_r](Fe)):Fe.localeData().invalidDate()}function expandFormat(Fe,_r){var $r=5;function Br(Fr){return _r.longDateFormat(Fr)||Fr}for(localFormattingTokens.lastIndex=0;$r>=0&&localFormattingTokens.test(Fe);)Fe=Fe.replace(localFormattingTokens,Br),localFormattingTokens.lastIndex=0,$r-=1;return Fe}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(Fe){var _r=this._longDateFormat[Fe],$r=this._longDateFormat[Fe.toUpperCase()];return _r||!$r?_r:(this._longDateFormat[Fe]=$r.match(formattingTokens).map(function(Br){return Br==="MMMM"||Br==="MM"||Br==="DD"||Br==="dddd"?Br.slice(1):Br}).join(""),this._longDateFormat[Fe])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(Fe){return this._ordinal.replace("%d",Fe)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(Fe,_r,$r,Br){var Fr=this._relativeTime[$r];return isFunction$1(Fr)?Fr(Fe,_r,$r,Br):Fr.replace(/%d/i,Fe)}function pastFuture(Fe,_r){var $r=this._relativeTime[Fe>0?"future":"past"];return isFunction$1($r)?$r(_r):$r.replace(/%s/i,_r)}var aliases={};function addUnitAlias(Fe,_r){var $r=Fe.toLowerCase();aliases[$r]=aliases[$r+"s"]=aliases[_r]=Fe}function normalizeUnits(Fe){return typeof Fe=="string"?aliases[Fe]||aliases[Fe.toLowerCase()]:void 0}function normalizeObjectUnits(Fe){var _r={},$r,Br;for(Br in Fe)hasOwnProp(Fe,Br)&&($r=normalizeUnits(Br),$r&&(_r[$r]=Fe[Br]));return _r}var priorities={};function addUnitPriority(Fe,_r){priorities[Fe]=_r}function getPrioritizedUnits(Fe){var _r=[],$r;for($r in Fe)hasOwnProp(Fe,$r)&&_r.push({unit:$r,priority:priorities[$r]});return _r.sort(function(Br,Fr){return Br.priority-Fr.priority}),_r}function isLeapYear(Fe){return Fe%4===0&&Fe%100!==0||Fe%400===0}function absFloor(Fe){return Fe<0?Math.ceil(Fe)||0:Math.floor(Fe)}function toInt(Fe){var _r=+Fe,$r=0;return _r!==0&&isFinite(_r)&&($r=absFloor(_r)),$r}function makeGetSet(Fe,_r){return function($r){return $r!=null?(set$1$2(this,Fe,$r),hooks.updateOffset(this,_r),this):get$2(this,Fe)}}function get$2(Fe,_r){return Fe.isValid()?Fe._d["get"+(Fe._isUTC?"UTC":"")+_r]():NaN}function set$1$2(Fe,_r,$r){Fe.isValid()&&!isNaN($r)&&(_r==="FullYear"&&isLeapYear(Fe.year())&&Fe.month()===1&&Fe.date()===29?($r=toInt($r),Fe._d["set"+(Fe._isUTC?"UTC":"")+_r]($r,Fe.month(),daysInMonth($r,Fe.month()))):Fe._d["set"+(Fe._isUTC?"UTC":"")+_r]($r))}function stringGet(Fe){return Fe=normalizeUnits(Fe),isFunction$1(this[Fe])?this[Fe]():this}function stringSet(Fe,_r){if(typeof Fe=="object"){Fe=normalizeObjectUnits(Fe);var $r=getPrioritizedUnits(Fe),Br,Fr=$r.length;for(Br=0;Br<Fr;Br++)this[$r[Br].unit](Fe[$r[Br].unit])}else if(Fe=normalizeUnits(Fe),isFunction$1(this[Fe]))return this[Fe](_r);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(Fe,_r,$r){regexes[Fe]=isFunction$1(_r)?_r:function(Br,Fr){return Br&&$r?$r:_r}}function getParseRegexForToken(Fe,_r){return hasOwnProp(regexes,Fe)?regexes[Fe](_r._strict,_r._locale):new RegExp(unescapeFormat(Fe))}function unescapeFormat(Fe){return regexEscape(Fe.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(_r,$r,Br,Fr,zr){return $r||Br||Fr||zr}))}function regexEscape(Fe){return Fe.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(Fe,_r){var $r,Br=_r,Fr;for(typeof Fe=="string"&&(Fe=[Fe]),isNumber$1(_r)&&(Br=function(zr,jr){jr[_r]=toInt(zr)}),Fr=Fe.length,$r=0;$r<Fr;$r++)tokens[Fe[$r]]=Br}function addWeekParseToken(Fe,_r){addParseToken(Fe,function($r,Br,Fr,zr){Fr._w=Fr._w||{},_r($r,Fr._w,Fr,zr)})}function addTimeToArrayFromToken(Fe,_r,$r){_r!=null&&hasOwnProp(tokens,Fe)&&tokens[Fe](_r,$r._a,$r,Fe)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod(Fe,_r){return(Fe%_r+_r)%_r}var indexOf$1;Array.prototype.indexOf?indexOf$1=Array.prototype.indexOf:indexOf$1=function(Fe){var _r;for(_r=0;_r<this.length;++_r)if(this[_r]===Fe)return _r;return-1};function daysInMonth(Fe,_r){if(isNaN(Fe)||isNaN(_r))return NaN;var $r=mod(_r,12);return Fe+=(_r-$r)/12,$r===1?isLeapYear(Fe)?29:28:31-$r%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(Fe){return this.localeData().monthsShort(this,Fe)});addFormatToken("MMMM",0,0,function(Fe){return this.localeData().months(this,Fe)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(Fe,_r){return _r.monthsShortRegex(Fe)});addRegexToken("MMMM",function(Fe,_r){return _r.monthsRegex(Fe)});addParseToken(["M","MM"],function(Fe,_r){_r[MONTH]=toInt(Fe)-1});addParseToken(["MMM","MMMM"],function(Fe,_r,$r,Br){var Fr=$r._locale.monthsParse(Fe,Br,$r._strict);Fr!=null?_r[MONTH]=Fr:getParsingFlags($r).invalidMonth=Fe});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(Fe,_r){return Fe?isArray$3(this._months)?this._months[Fe.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(_r)?"format":"standalone"][Fe.month()]:isArray$3(this._months)?this._months:this._months.standalone}function localeMonthsShort(Fe,_r){return Fe?isArray$3(this._monthsShort)?this._monthsShort[Fe.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(_r)?"format":"standalone"][Fe.month()]:isArray$3(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(Fe,_r,$r){var Br,Fr,zr,jr=Fe.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Br=0;Br<12;++Br)zr=createUTC([2e3,Br]),this._shortMonthsParse[Br]=this.monthsShort(zr,"").toLocaleLowerCase(),this._longMonthsParse[Br]=this.months(zr,"").toLocaleLowerCase();return $r?_r==="MMM"?(Fr=indexOf$1.call(this._shortMonthsParse,jr),Fr!==-1?Fr:null):(Fr=indexOf$1.call(this._longMonthsParse,jr),Fr!==-1?Fr:null):_r==="MMM"?(Fr=indexOf$1.call(this._shortMonthsParse,jr),Fr!==-1?Fr:(Fr=indexOf$1.call(this._longMonthsParse,jr),Fr!==-1?Fr:null)):(Fr=indexOf$1.call(this._longMonthsParse,jr),Fr!==-1?Fr:(Fr=indexOf$1.call(this._shortMonthsParse,jr),Fr!==-1?Fr:null))}function localeMonthsParse(Fe,_r,$r){var Br,Fr,zr;if(this._monthsParseExact)return handleStrictParse.call(this,Fe,_r,$r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Br=0;Br<12;Br++){if(Fr=createUTC([2e3,Br]),$r&&!this._longMonthsParse[Br]&&(this._longMonthsParse[Br]=new RegExp("^"+this.months(Fr,"").replace(".","")+"$","i"),this._shortMonthsParse[Br]=new RegExp("^"+this.monthsShort(Fr,"").replace(".","")+"$","i")),!$r&&!this._monthsParse[Br]&&(zr="^"+this.months(Fr,"")+"|^"+this.monthsShort(Fr,""),this._monthsParse[Br]=new RegExp(zr.replace(".",""),"i")),$r&&_r==="MMMM"&&this._longMonthsParse[Br].test(Fe))return Br;if($r&&_r==="MMM"&&this._shortMonthsParse[Br].test(Fe))return Br;if(!$r&&this._monthsParse[Br].test(Fe))return Br}}function setMonth(Fe,_r){var $r;if(!Fe.isValid())return Fe;if(typeof _r=="string"){if(/^\d+$/.test(_r))_r=toInt(_r);else if(_r=Fe.localeData().monthsParse(_r),!isNumber$1(_r))return Fe}return $r=Math.min(Fe.date(),daysInMonth(Fe.year(),_r)),Fe._d["set"+(Fe._isUTC?"UTC":"")+"Month"](_r,$r),Fe}function getSetMonth(Fe){return Fe!=null?(setMonth(this,Fe),hooks.updateOffset(this,!0),this):get$2(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(Fe){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Fe?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&Fe?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(Fe){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Fe?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&Fe?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function Fe(jr,Ur){return Ur.length-jr.length}var _r=[],$r=[],Br=[],Fr,zr;for(Fr=0;Fr<12;Fr++)zr=createUTC([2e3,Fr]),_r.push(this.monthsShort(zr,"")),$r.push(this.months(zr,"")),Br.push(this.months(zr,"")),Br.push(this.monthsShort(zr,""));for(_r.sort(Fe),$r.sort(Fe),Br.sort(Fe),Fr=0;Fr<12;Fr++)_r[Fr]=regexEscape(_r[Fr]),$r[Fr]=regexEscape($r[Fr]);for(Fr=0;Fr<24;Fr++)Br[Fr]=regexEscape(Br[Fr]);this._monthsRegex=new RegExp("^("+Br.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+$r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+_r.join("|")+")","i")}addFormatToken("Y",0,0,function(){var Fe=this.year();return Fe<=9999?zeroFill(Fe,4):"+"+Fe});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(Fe,_r){_r[YEAR]=Fe.length===2?hooks.parseTwoDigitYear(Fe):toInt(Fe)});addParseToken("YY",function(Fe,_r){_r[YEAR]=hooks.parseTwoDigitYear(Fe)});addParseToken("Y",function(Fe,_r){_r[YEAR]=parseInt(Fe,10)});function daysInYear(Fe){return isLeapYear(Fe)?366:365}hooks.parseTwoDigitYear=function(Fe){return toInt(Fe)+(toInt(Fe)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(Fe,_r,$r,Br,Fr,zr,jr){var Ur;return Fe<100&&Fe>=0?(Ur=new Date(Fe+400,_r,$r,Br,Fr,zr,jr),isFinite(Ur.getFullYear())&&Ur.setFullYear(Fe)):Ur=new Date(Fe,_r,$r,Br,Fr,zr,jr),Ur}function createUTCDate(Fe){var _r,$r;return Fe<100&&Fe>=0?($r=Array.prototype.slice.call(arguments),$r[0]=Fe+400,_r=new Date(Date.UTC.apply(null,$r)),isFinite(_r.getUTCFullYear())&&_r.setUTCFullYear(Fe)):_r=new Date(Date.UTC.apply(null,arguments)),_r}function firstWeekOffset(Fe,_r,$r){var Br=7+_r-$r,Fr=(7+createUTCDate(Fe,0,Br).getUTCDay()-_r)%7;return-Fr+Br-1}function dayOfYearFromWeeks(Fe,_r,$r,Br,Fr){var zr=(7+$r-Br)%7,jr=firstWeekOffset(Fe,Br,Fr),Ur=1+7*(_r-1)+zr+jr,Gr,Yr;return Ur<=0?(Gr=Fe-1,Yr=daysInYear(Gr)+Ur):Ur>daysInYear(Fe)?(Gr=Fe+1,Yr=Ur-daysInYear(Fe)):(Gr=Fe,Yr=Ur),{year:Gr,dayOfYear:Yr}}function weekOfYear(Fe,_r,$r){var Br=firstWeekOffset(Fe.year(),_r,$r),Fr=Math.floor((Fe.dayOfYear()-Br-1)/7)+1,zr,jr;return Fr<1?(jr=Fe.year()-1,zr=Fr+weeksInYear(jr,_r,$r)):Fr>weeksInYear(Fe.year(),_r,$r)?(zr=Fr-weeksInYear(Fe.year(),_r,$r),jr=Fe.year()+1):(jr=Fe.year(),zr=Fr),{week:zr,year:jr}}function weeksInYear(Fe,_r,$r){var Br=firstWeekOffset(Fe,_r,$r),Fr=firstWeekOffset(Fe+1,_r,$r);return(daysInYear(Fe)-Br+Fr)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(Fe,_r,$r,Br){_r[Br.substr(0,1)]=toInt(Fe)});function localeWeek(Fe){return weekOfYear(Fe,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(Fe){var _r=this.localeData().week(this);return Fe==null?_r:this.add((Fe-_r)*7,"d")}function getSetISOWeek(Fe){var _r=weekOfYear(this,1,4).week;return Fe==null?_r:this.add((Fe-_r)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(Fe){return this.localeData().weekdaysMin(this,Fe)});addFormatToken("ddd",0,0,function(Fe){return this.localeData().weekdaysShort(this,Fe)});addFormatToken("dddd",0,0,function(Fe){return this.localeData().weekdays(this,Fe)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(Fe,_r){return _r.weekdaysMinRegex(Fe)});addRegexToken("ddd",function(Fe,_r){return _r.weekdaysShortRegex(Fe)});addRegexToken("dddd",function(Fe,_r){return _r.weekdaysRegex(Fe)});addWeekParseToken(["dd","ddd","dddd"],function(Fe,_r,$r,Br){var Fr=$r._locale.weekdaysParse(Fe,Br,$r._strict);Fr!=null?_r.d=Fr:getParsingFlags($r).invalidWeekday=Fe});addWeekParseToken(["d","e","E"],function(Fe,_r,$r,Br){_r[Br]=toInt(Fe)});function parseWeekday(Fe,_r){return typeof Fe!="string"?Fe:isNaN(Fe)?(Fe=_r.weekdaysParse(Fe),typeof Fe=="number"?Fe:null):parseInt(Fe,10)}function parseIsoWeekday(Fe,_r){return typeof Fe=="string"?_r.weekdaysParse(Fe)%7||7:isNaN(Fe)?null:Fe}function shiftWeekdays(Fe,_r){return Fe.slice(_r,7).concat(Fe.slice(0,_r))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(Fe,_r){var $r=isArray$3(this._weekdays)?this._weekdays:this._weekdays[Fe&&Fe!==!0&&this._weekdays.isFormat.test(_r)?"format":"standalone"];return Fe===!0?shiftWeekdays($r,this._week.dow):Fe?$r[Fe.day()]:$r}function localeWeekdaysShort(Fe){return Fe===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):Fe?this._weekdaysShort[Fe.day()]:this._weekdaysShort}function localeWeekdaysMin(Fe){return Fe===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):Fe?this._weekdaysMin[Fe.day()]:this._weekdaysMin}function handleStrictParse$1(Fe,_r,$r){var Br,Fr,zr,jr=Fe.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Br=0;Br<7;++Br)zr=createUTC([2e3,1]).day(Br),this._minWeekdaysParse[Br]=this.weekdaysMin(zr,"").toLocaleLowerCase(),this._shortWeekdaysParse[Br]=this.weekdaysShort(zr,"").toLocaleLowerCase(),this._weekdaysParse[Br]=this.weekdays(zr,"").toLocaleLowerCase();return $r?_r==="dddd"?(Fr=indexOf$1.call(this._weekdaysParse,jr),Fr!==-1?Fr:null):_r==="ddd"?(Fr=indexOf$1.call(this._shortWeekdaysParse,jr),Fr!==-1?Fr:null):(Fr=indexOf$1.call(this._minWeekdaysParse,jr),Fr!==-1?Fr:null):_r==="dddd"?(Fr=indexOf$1.call(this._weekdaysParse,jr),Fr!==-1||(Fr=indexOf$1.call(this._shortWeekdaysParse,jr),Fr!==-1)?Fr:(Fr=indexOf$1.call(this._minWeekdaysParse,jr),Fr!==-1?Fr:null)):_r==="ddd"?(Fr=indexOf$1.call(this._shortWeekdaysParse,jr),Fr!==-1||(Fr=indexOf$1.call(this._weekdaysParse,jr),Fr!==-1)?Fr:(Fr=indexOf$1.call(this._minWeekdaysParse,jr),Fr!==-1?Fr:null)):(Fr=indexOf$1.call(this._minWeekdaysParse,jr),Fr!==-1||(Fr=indexOf$1.call(this._weekdaysParse,jr),Fr!==-1)?Fr:(Fr=indexOf$1.call(this._shortWeekdaysParse,jr),Fr!==-1?Fr:null))}function localeWeekdaysParse(Fe,_r,$r){var Br,Fr,zr;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,Fe,_r,$r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Br=0;Br<7;Br++){if(Fr=createUTC([2e3,1]).day(Br),$r&&!this._fullWeekdaysParse[Br]&&(this._fullWeekdaysParse[Br]=new RegExp("^"+this.weekdays(Fr,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Br]=new RegExp("^"+this.weekdaysShort(Fr,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Br]=new RegExp("^"+this.weekdaysMin(Fr,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Br]||(zr="^"+this.weekdays(Fr,"")+"|^"+this.weekdaysShort(Fr,"")+"|^"+this.weekdaysMin(Fr,""),this._weekdaysParse[Br]=new RegExp(zr.replace(".",""),"i")),$r&&_r==="dddd"&&this._fullWeekdaysParse[Br].test(Fe))return Br;if($r&&_r==="ddd"&&this._shortWeekdaysParse[Br].test(Fe))return Br;if($r&&_r==="dd"&&this._minWeekdaysParse[Br].test(Fe))return Br;if(!$r&&this._weekdaysParse[Br].test(Fe))return Br}}function getSetDayOfWeek(Fe){if(!this.isValid())return Fe!=null?this:NaN;var _r=this._isUTC?this._d.getUTCDay():this._d.getDay();return Fe!=null?(Fe=parseWeekday(Fe,this.localeData()),this.add(Fe-_r,"d")):_r}function getSetLocaleDayOfWeek(Fe){if(!this.isValid())return Fe!=null?this:NaN;var _r=(this.day()+7-this.localeData()._week.dow)%7;return Fe==null?_r:this.add(Fe-_r,"d")}function getSetISODayOfWeek(Fe){if(!this.isValid())return Fe!=null?this:NaN;if(Fe!=null){var _r=parseIsoWeekday(Fe,this.localeData());return this.day(this.day()%7?_r:_r-7)}else return this.day()||7}function weekdaysRegex(Fe){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Fe?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&Fe?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(Fe){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Fe?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&Fe?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(Fe){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Fe?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&Fe?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function Fe(Kr,Qr){return Qr.length-Kr.length}var _r=[],$r=[],Br=[],Fr=[],zr,jr,Ur,Gr,Yr;for(zr=0;zr<7;zr++)jr=createUTC([2e3,1]).day(zr),Ur=regexEscape(this.weekdaysMin(jr,"")),Gr=regexEscape(this.weekdaysShort(jr,"")),Yr=regexEscape(this.weekdays(jr,"")),_r.push(Ur),$r.push(Gr),Br.push(Yr),Fr.push(Ur),Fr.push(Gr),Fr.push(Yr);_r.sort(Fe),$r.sort(Fe),Br.sort(Fe),Fr.sort(Fe),this._weekdaysRegex=new RegExp("^("+Fr.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Br.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+$r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+_r.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(Fe,_r){addFormatToken(Fe,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),_r)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(Fe,_r){return _r._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(Fe,_r,$r){var Br=toInt(Fe);_r[HOUR]=Br===24?0:Br});addParseToken(["a","A"],function(Fe,_r,$r){$r._isPm=$r._locale.isPM(Fe),$r._meridiem=Fe});addParseToken(["h","hh"],function(Fe,_r,$r){_r[HOUR]=toInt(Fe),getParsingFlags($r).bigHour=!0});addParseToken("hmm",function(Fe,_r,$r){var Br=Fe.length-2;_r[HOUR]=toInt(Fe.substr(0,Br)),_r[MINUTE]=toInt(Fe.substr(Br)),getParsingFlags($r).bigHour=!0});addParseToken("hmmss",function(Fe,_r,$r){var Br=Fe.length-4,Fr=Fe.length-2;_r[HOUR]=toInt(Fe.substr(0,Br)),_r[MINUTE]=toInt(Fe.substr(Br,2)),_r[SECOND]=toInt(Fe.substr(Fr)),getParsingFlags($r).bigHour=!0});addParseToken("Hmm",function(Fe,_r,$r){var Br=Fe.length-2;_r[HOUR]=toInt(Fe.substr(0,Br)),_r[MINUTE]=toInt(Fe.substr(Br))});addParseToken("Hmmss",function(Fe,_r,$r){var Br=Fe.length-4,Fr=Fe.length-2;_r[HOUR]=toInt(Fe.substr(0,Br)),_r[MINUTE]=toInt(Fe.substr(Br,2)),_r[SECOND]=toInt(Fe.substr(Fr))});function localeIsPM(Fe){return(Fe+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(Fe,_r,$r){return Fe>11?$r?"pm":"PM":$r?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(Fe,_r){var $r,Br=Math.min(Fe.length,_r.length);for($r=0;$r<Br;$r+=1)if(Fe[$r]!==_r[$r])return $r;return Br}function normalizeLocale(Fe){return Fe&&Fe.toLowerCase().replace("_","-")}function chooseLocale(Fe){for(var _r=0,$r,Br,Fr,zr;_r<Fe.length;){for(zr=normalizeLocale(Fe[_r]).split("-"),$r=zr.length,Br=normalizeLocale(Fe[_r+1]),Br=Br?Br.split("-"):null;$r>0;){if(Fr=loadLocale(zr.slice(0,$r).join("-")),Fr)return Fr;if(Br&&Br.length>=$r&&commonPrefix(zr,Br)>=$r-1)break;$r--}_r++}return globalLocale}function isLocaleNameSane(Fe){return Fe.match("^[^/\\\\]*$")!=null}function loadLocale(Fe){var _r=null,$r;if(locales[Fe]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(Fe))try{_r=globalLocale._abbr,$r=require,$r("./locale/"+Fe),getSetGlobalLocale(_r)}catch{locales[Fe]=null}return locales[Fe]}function getSetGlobalLocale(Fe,_r){var $r;return Fe&&(isUndefined(_r)?$r=getLocale(Fe):$r=defineLocale(Fe,_r),$r?globalLocale=$r:typeof console<"u"&&console.warn&&console.warn("Locale "+Fe+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(Fe,_r){if(_r!==null){var $r,Br=baseConfig;if(_r.abbr=Fe,locales[Fe]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Br=locales[Fe]._config;else if(_r.parentLocale!=null)if(locales[_r.parentLocale]!=null)Br=locales[_r.parentLocale]._config;else if($r=loadLocale(_r.parentLocale),$r!=null)Br=$r._config;else return localeFamilies[_r.parentLocale]||(localeFamilies[_r.parentLocale]=[]),localeFamilies[_r.parentLocale].push({name:Fe,config:_r}),null;return locales[Fe]=new Locale(mergeConfigs(Br,_r)),localeFamilies[Fe]&&localeFamilies[Fe].forEach(function(Fr){defineLocale(Fr.name,Fr.config)}),getSetGlobalLocale(Fe),locales[Fe]}else return delete locales[Fe],null}function updateLocale(Fe,_r){if(_r!=null){var $r,Br,Fr=baseConfig;locales[Fe]!=null&&locales[Fe].parentLocale!=null?locales[Fe].set(mergeConfigs(locales[Fe]._config,_r)):(Br=loadLocale(Fe),Br!=null&&(Fr=Br._config),_r=mergeConfigs(Fr,_r),Br==null&&(_r.abbr=Fe),$r=new Locale(_r),$r.parentLocale=locales[Fe],locales[Fe]=$r),getSetGlobalLocale(Fe)}else locales[Fe]!=null&&(locales[Fe].parentLocale!=null?(locales[Fe]=locales[Fe].parentLocale,Fe===getSetGlobalLocale()&&getSetGlobalLocale(Fe)):locales[Fe]!=null&&delete locales[Fe]);return locales[Fe]}function getLocale(Fe){var _r;if(Fe&&Fe._locale&&Fe._locale._abbr&&(Fe=Fe._locale._abbr),!Fe)return globalLocale;if(!isArray$3(Fe)){if(_r=loadLocale(Fe),_r)return _r;Fe=[Fe]}return chooseLocale(Fe)}function listLocales(){return keys$1(locales)}function checkOverflow(Fe){var _r,$r=Fe._a;return $r&&getParsingFlags(Fe).overflow===-2&&(_r=$r[MONTH]<0||$r[MONTH]>11?MONTH:$r[DATE]<1||$r[DATE]>daysInMonth($r[YEAR],$r[MONTH])?DATE:$r[HOUR]<0||$r[HOUR]>24||$r[HOUR]===24&&($r[MINUTE]!==0||$r[SECOND]!==0||$r[MILLISECOND]!==0)?HOUR:$r[MINUTE]<0||$r[MINUTE]>59?MINUTE:$r[SECOND]<0||$r[SECOND]>59?SECOND:$r[MILLISECOND]<0||$r[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(Fe)._overflowDayOfYear&&(_r<YEAR||_r>DATE)&&(_r=DATE),getParsingFlags(Fe)._overflowWeeks&&_r===-1&&(_r=WEEK),getParsingFlags(Fe)._overflowWeekday&&_r===-1&&(_r=WEEKDAY),getParsingFlags(Fe).overflow=_r),Fe}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(Fe){var _r,$r,Br=Fe._i,Fr=extendedIsoRegex.exec(Br)||basicIsoRegex.exec(Br),zr,jr,Ur,Gr,Yr=isoDates.length,Kr=isoTimes.length;if(Fr){for(getParsingFlags(Fe).iso=!0,_r=0,$r=Yr;_r<$r;_r++)if(isoDates[_r][1].exec(Fr[1])){jr=isoDates[_r][0],zr=isoDates[_r][2]!==!1;break}if(jr==null){Fe._isValid=!1;return}if(Fr[3]){for(_r=0,$r=Kr;_r<$r;_r++)if(isoTimes[_r][1].exec(Fr[3])){Ur=(Fr[2]||" ")+isoTimes[_r][0];break}if(Ur==null){Fe._isValid=!1;return}}if(!zr&&Ur!=null){Fe._isValid=!1;return}if(Fr[4])if(tzRegex.exec(Fr[4]))Gr="Z";else{Fe._isValid=!1;return}Fe._f=jr+(Ur||"")+(Gr||""),configFromStringAndFormat(Fe)}else Fe._isValid=!1}function extractFromRFC2822Strings(Fe,_r,$r,Br,Fr,zr){var jr=[untruncateYear(Fe),defaultLocaleMonthsShort.indexOf(_r),parseInt($r,10),parseInt(Br,10),parseInt(Fr,10)];return zr&&jr.push(parseInt(zr,10)),jr}function untruncateYear(Fe){var _r=parseInt(Fe,10);return _r<=49?2e3+_r:_r<=999?1900+_r:_r}function preprocessRFC2822(Fe){return Fe.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(Fe,_r,$r){if(Fe){var Br=defaultLocaleWeekdaysShort.indexOf(Fe),Fr=new Date(_r[0],_r[1],_r[2]).getDay();if(Br!==Fr)return getParsingFlags($r).weekdayMismatch=!0,$r._isValid=!1,!1}return!0}function calculateOffset(Fe,_r,$r){if(Fe)return obsOffsets[Fe];if(_r)return 0;var Br=parseInt($r,10),Fr=Br%100,zr=(Br-Fr)/100;return zr*60+Fr}function configFromRFC2822(Fe){var _r=rfc2822.exec(preprocessRFC2822(Fe._i)),$r;if(_r){if($r=extractFromRFC2822Strings(_r[4],_r[3],_r[2],_r[5],_r[6],_r[7]),!checkWeekday(_r[1],$r,Fe))return;Fe._a=$r,Fe._tzm=calculateOffset(_r[8],_r[9],_r[10]),Fe._d=createUTCDate.apply(null,Fe._a),Fe._d.setUTCMinutes(Fe._d.getUTCMinutes()-Fe._tzm),getParsingFlags(Fe).rfc2822=!0}else Fe._isValid=!1}function configFromString(Fe){var _r=aspNetJsonRegex.exec(Fe._i);if(_r!==null){Fe._d=new Date(+_r[1]);return}if(configFromISO(Fe),Fe._isValid===!1)delete Fe._isValid;else return;if(configFromRFC2822(Fe),Fe._isValid===!1)delete Fe._isValid;else return;Fe._strict?Fe._isValid=!1:hooks.createFromInputFallback(Fe)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(Fe){Fe._d=new Date(Fe._i+(Fe._useUTC?" UTC":""))});function defaults$1(Fe,_r,$r){return Fe??_r??$r}function currentDateArray(Fe){var _r=new Date(hooks.now());return Fe._useUTC?[_r.getUTCFullYear(),_r.getUTCMonth(),_r.getUTCDate()]:[_r.getFullYear(),_r.getMonth(),_r.getDate()]}function configFromArray(Fe){var _r,$r,Br=[],Fr,zr,jr;if(!Fe._d){for(Fr=currentDateArray(Fe),Fe._w&&Fe._a[DATE]==null&&Fe._a[MONTH]==null&&dayOfYearFromWeekInfo(Fe),Fe._dayOfYear!=null&&(jr=defaults$1(Fe._a[YEAR],Fr[YEAR]),(Fe._dayOfYear>daysInYear(jr)||Fe._dayOfYear===0)&&(getParsingFlags(Fe)._overflowDayOfYear=!0),$r=createUTCDate(jr,0,Fe._dayOfYear),Fe._a[MONTH]=$r.getUTCMonth(),Fe._a[DATE]=$r.getUTCDate()),_r=0;_r<3&&Fe._a[_r]==null;++_r)Fe._a[_r]=Br[_r]=Fr[_r];for(;_r<7;_r++)Fe._a[_r]=Br[_r]=Fe._a[_r]==null?_r===2?1:0:Fe._a[_r];Fe._a[HOUR]===24&&Fe._a[MINUTE]===0&&Fe._a[SECOND]===0&&Fe._a[MILLISECOND]===0&&(Fe._nextDay=!0,Fe._a[HOUR]=0),Fe._d=(Fe._useUTC?createUTCDate:createDate).apply(null,Br),zr=Fe._useUTC?Fe._d.getUTCDay():Fe._d.getDay(),Fe._tzm!=null&&Fe._d.setUTCMinutes(Fe._d.getUTCMinutes()-Fe._tzm),Fe._nextDay&&(Fe._a[HOUR]=24),Fe._w&&typeof Fe._w.d<"u"&&Fe._w.d!==zr&&(getParsingFlags(Fe).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(Fe){var _r,$r,Br,Fr,zr,jr,Ur,Gr,Yr;_r=Fe._w,_r.GG!=null||_r.W!=null||_r.E!=null?(zr=1,jr=4,$r=defaults$1(_r.GG,Fe._a[YEAR],weekOfYear(createLocal(),1,4).year),Br=defaults$1(_r.W,1),Fr=defaults$1(_r.E,1),(Fr<1||Fr>7)&&(Gr=!0)):(zr=Fe._locale._week.dow,jr=Fe._locale._week.doy,Yr=weekOfYear(createLocal(),zr,jr),$r=defaults$1(_r.gg,Fe._a[YEAR],Yr.year),Br=defaults$1(_r.w,Yr.week),_r.d!=null?(Fr=_r.d,(Fr<0||Fr>6)&&(Gr=!0)):_r.e!=null?(Fr=_r.e+zr,(_r.e<0||_r.e>6)&&(Gr=!0)):Fr=zr),Br<1||Br>weeksInYear($r,zr,jr)?getParsingFlags(Fe)._overflowWeeks=!0:Gr!=null?getParsingFlags(Fe)._overflowWeekday=!0:(Ur=dayOfYearFromWeeks($r,Br,Fr,zr,jr),Fe._a[YEAR]=Ur.year,Fe._dayOfYear=Ur.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(Fe){if(Fe._f===hooks.ISO_8601){configFromISO(Fe);return}if(Fe._f===hooks.RFC_2822){configFromRFC2822(Fe);return}Fe._a=[],getParsingFlags(Fe).empty=!0;var _r=""+Fe._i,$r,Br,Fr,zr,jr,Ur=_r.length,Gr=0,Yr,Kr;for(Fr=expandFormat(Fe._f,Fe._locale).match(formattingTokens)||[],Kr=Fr.length,$r=0;$r<Kr;$r++)zr=Fr[$r],Br=(_r.match(getParseRegexForToken(zr,Fe))||[])[0],Br&&(jr=_r.substr(0,_r.indexOf(Br)),jr.length>0&&getParsingFlags(Fe).unusedInput.push(jr),_r=_r.slice(_r.indexOf(Br)+Br.length),Gr+=Br.length),formatTokenFunctions[zr]?(Br?getParsingFlags(Fe).empty=!1:getParsingFlags(Fe).unusedTokens.push(zr),addTimeToArrayFromToken(zr,Br,Fe)):Fe._strict&&!Br&&getParsingFlags(Fe).unusedTokens.push(zr);getParsingFlags(Fe).charsLeftOver=Ur-Gr,_r.length>0&&getParsingFlags(Fe).unusedInput.push(_r),Fe._a[HOUR]<=12&&getParsingFlags(Fe).bigHour===!0&&Fe._a[HOUR]>0&&(getParsingFlags(Fe).bigHour=void 0),getParsingFlags(Fe).parsedDateParts=Fe._a.slice(0),getParsingFlags(Fe).meridiem=Fe._meridiem,Fe._a[HOUR]=meridiemFixWrap(Fe._locale,Fe._a[HOUR],Fe._meridiem),Yr=getParsingFlags(Fe).era,Yr!==null&&(Fe._a[YEAR]=Fe._locale.erasConvertYear(Yr,Fe._a[YEAR])),configFromArray(Fe),checkOverflow(Fe)}function meridiemFixWrap(Fe,_r,$r){var Br;return $r==null?_r:Fe.meridiemHour!=null?Fe.meridiemHour(_r,$r):(Fe.isPM!=null&&(Br=Fe.isPM($r),Br&&_r<12&&(_r+=12),!Br&&_r===12&&(_r=0)),_r)}function configFromStringAndArray(Fe){var _r,$r,Br,Fr,zr,jr,Ur=!1,Gr=Fe._f.length;if(Gr===0){getParsingFlags(Fe).invalidFormat=!0,Fe._d=new Date(NaN);return}for(Fr=0;Fr<Gr;Fr++)zr=0,jr=!1,_r=copyConfig({},Fe),Fe._useUTC!=null&&(_r._useUTC=Fe._useUTC),_r._f=Fe._f[Fr],configFromStringAndFormat(_r),isValid(_r)&&(jr=!0),zr+=getParsingFlags(_r).charsLeftOver,zr+=getParsingFlags(_r).unusedTokens.length*10,getParsingFlags(_r).score=zr,Ur?zr<Br&&(Br=zr,$r=_r):(Br==null||zr<Br||jr)&&(Br=zr,$r=_r,jr&&(Ur=!0));extend$3(Fe,$r||_r)}function configFromObject(Fe){if(!Fe._d){var _r=normalizeObjectUnits(Fe._i),$r=_r.day===void 0?_r.date:_r.day;Fe._a=map$2([_r.year,_r.month,$r,_r.hour,_r.minute,_r.second,_r.millisecond],function(Br){return Br&&parseInt(Br,10)}),configFromArray(Fe)}}function createFromConfig(Fe){var _r=new Moment(checkOverflow(prepareConfig(Fe)));return _r._nextDay&&(_r.add(1,"d"),_r._nextDay=void 0),_r}function prepareConfig(Fe){var _r=Fe._i,$r=Fe._f;return Fe._locale=Fe._locale||getLocale(Fe._l),_r===null||$r===void 0&&_r===""?createInvalid({nullInput:!0}):(typeof _r=="string"&&(Fe._i=_r=Fe._locale.preparse(_r)),isMoment(_r)?new Moment(checkOverflow(_r)):(isDate(_r)?Fe._d=_r:isArray$3($r)?configFromStringAndArray(Fe):$r?configFromStringAndFormat(Fe):configFromInput(Fe),isValid(Fe)||(Fe._d=null),Fe))}function configFromInput(Fe){var _r=Fe._i;isUndefined(_r)?Fe._d=new Date(hooks.now()):isDate(_r)?Fe._d=new Date(_r.valueOf()):typeof _r=="string"?configFromString(Fe):isArray$3(_r)?(Fe._a=map$2(_r.slice(0),function($r){return parseInt($r,10)}),configFromArray(Fe)):isObject$5(_r)?configFromObject(Fe):isNumber$1(_r)?Fe._d=new Date(_r):hooks.createFromInputFallback(Fe)}function createLocalOrUTC(Fe,_r,$r,Br,Fr){var zr={};return(_r===!0||_r===!1)&&(Br=_r,_r=void 0),($r===!0||$r===!1)&&(Br=$r,$r=void 0),(isObject$5(Fe)&&isObjectEmpty(Fe)||isArray$3(Fe)&&Fe.length===0)&&(Fe=void 0),zr._isAMomentObject=!0,zr._useUTC=zr._isUTC=Fr,zr._l=$r,zr._i=Fe,zr._f=_r,zr._strict=Br,createFromConfig(zr)}function createLocal(Fe,_r,$r,Br){return createLocalOrUTC(Fe,_r,$r,Br,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Fe=createLocal.apply(null,arguments);return this.isValid()&&Fe.isValid()?Fe<this?this:Fe:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Fe=createLocal.apply(null,arguments);return this.isValid()&&Fe.isValid()?Fe>this?this:Fe:createInvalid()});function pickBy(Fe,_r){var $r,Br;if(_r.length===1&&isArray$3(_r[0])&&(_r=_r[0]),!_r.length)return createLocal();for($r=_r[0],Br=1;Br<_r.length;++Br)(!_r[Br].isValid()||_r[Br][Fe]($r))&&($r=_r[Br]);return $r}function min$2(){var Fe=[].slice.call(arguments,0);return pickBy("isBefore",Fe)}function max$2(){var Fe=[].slice.call(arguments,0);return pickBy("isAfter",Fe)}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(Fe){var _r,$r=!1,Br,Fr=ordering.length;for(_r in Fe)if(hasOwnProp(Fe,_r)&&!(indexOf$1.call(ordering,_r)!==-1&&(Fe[_r]==null||!isNaN(Fe[_r]))))return!1;for(Br=0;Br<Fr;++Br)if(Fe[ordering[Br]]){if($r)return!1;parseFloat(Fe[ordering[Br]])!==toInt(Fe[ordering[Br]])&&($r=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(Fe){var _r=normalizeObjectUnits(Fe),$r=_r.year||0,Br=_r.quarter||0,Fr=_r.month||0,zr=_r.week||_r.isoWeek||0,jr=_r.day||0,Ur=_r.hour||0,Gr=_r.minute||0,Yr=_r.second||0,Kr=_r.millisecond||0;this._isValid=isDurationValid(_r),this._milliseconds=+Kr+Yr*1e3+Gr*6e4+Ur*1e3*60*60,this._days=+jr+zr*7,this._months=+Fr+Br*3+$r*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(Fe){return Fe instanceof Duration}function absRound(Fe){return Fe<0?Math.round(-1*Fe)*-1:Math.round(Fe)}function compareArrays(Fe,_r,$r){var Br=Math.min(Fe.length,_r.length),Fr=Math.abs(Fe.length-_r.length),zr=0,jr;for(jr=0;jr<Br;jr++)($r&&Fe[jr]!==_r[jr]||!$r&&toInt(Fe[jr])!==toInt(_r[jr]))&&zr++;return zr+Fr}function offset(Fe,_r){addFormatToken(Fe,0,0,function(){var $r=this.utcOffset(),Br="+";return $r<0&&($r=-$r,Br="-"),Br+zeroFill(~~($r/60),2)+_r+zeroFill(~~$r%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(Fe,_r,$r){$r._useUTC=!0,$r._tzm=offsetFromString(matchShortOffset,Fe)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(Fe,_r){var $r=(_r||"").match(Fe),Br,Fr,zr;return $r===null?null:(Br=$r[$r.length-1]||[],Fr=(Br+"").match(chunkOffset)||["-",0,0],zr=+(Fr[1]*60)+toInt(Fr[2]),zr===0?0:Fr[0]==="+"?zr:-zr)}function cloneWithOffset(Fe,_r){var $r,Br;return _r._isUTC?($r=_r.clone(),Br=(isMoment(Fe)||isDate(Fe)?Fe.valueOf():createLocal(Fe).valueOf())-$r.valueOf(),$r._d.setTime($r._d.valueOf()+Br),hooks.updateOffset($r,!1),$r):createLocal(Fe).local()}function getDateOffset(Fe){return-Math.round(Fe._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(Fe,_r,$r){var Br=this._offset||0,Fr;if(!this.isValid())return Fe!=null?this:NaN;if(Fe!=null){if(typeof Fe=="string"){if(Fe=offsetFromString(matchShortOffset,Fe),Fe===null)return this}else Math.abs(Fe)<16&&!$r&&(Fe=Fe*60);return!this._isUTC&&_r&&(Fr=getDateOffset(this)),this._offset=Fe,this._isUTC=!0,Fr!=null&&this.add(Fr,"m"),Br!==Fe&&(!_r||this._changeInProgress?addSubtract(this,createDuration(Fe-Br,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Br:getDateOffset(this)}function getSetZone(Fe,_r){return Fe!=null?(typeof Fe!="string"&&(Fe=-Fe),this.utcOffset(Fe,_r),this):-this.utcOffset()}function setOffsetToUTC(Fe){return this.utcOffset(0,Fe)}function setOffsetToLocal(Fe){return this._isUTC&&(this.utcOffset(0,Fe),this._isUTC=!1,Fe&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var Fe=offsetFromString(matchOffset,this._i);Fe!=null?this.utcOffset(Fe):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(Fe){return this.isValid()?(Fe=Fe?createLocal(Fe).utcOffset():0,(this.utcOffset()-Fe)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var Fe={},_r;return copyConfig(Fe,this),Fe=prepareConfig(Fe),Fe._a?(_r=Fe._isUTC?createUTC(Fe._a):createLocal(Fe._a),this._isDSTShifted=this.isValid()&&compareArrays(Fe._a,_r.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(Fe,_r){var $r=Fe,Br=null,Fr,zr,jr;return isDuration(Fe)?$r={ms:Fe._milliseconds,d:Fe._days,M:Fe._months}:isNumber$1(Fe)||!isNaN(+Fe)?($r={},_r?$r[_r]=+Fe:$r.milliseconds=+Fe):(Br=aspNetRegex.exec(Fe))?(Fr=Br[1]==="-"?-1:1,$r={y:0,d:toInt(Br[DATE])*Fr,h:toInt(Br[HOUR])*Fr,m:toInt(Br[MINUTE])*Fr,s:toInt(Br[SECOND])*Fr,ms:toInt(absRound(Br[MILLISECOND]*1e3))*Fr}):(Br=isoRegex.exec(Fe))?(Fr=Br[1]==="-"?-1:1,$r={y:parseIso(Br[2],Fr),M:parseIso(Br[3],Fr),w:parseIso(Br[4],Fr),d:parseIso(Br[5],Fr),h:parseIso(Br[6],Fr),m:parseIso(Br[7],Fr),s:parseIso(Br[8],Fr)}):$r==null?$r={}:typeof $r=="object"&&("from"in $r||"to"in $r)&&(jr=momentsDifference(createLocal($r.from),createLocal($r.to)),$r={},$r.ms=jr.milliseconds,$r.M=jr.months),zr=new Duration($r),isDuration(Fe)&&hasOwnProp(Fe,"_locale")&&(zr._locale=Fe._locale),isDuration(Fe)&&hasOwnProp(Fe,"_isValid")&&(zr._isValid=Fe._isValid),zr}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(Fe,_r){var $r=Fe&&parseFloat(Fe.replace(",","."));return(isNaN($r)?0:$r)*_r}function positiveMomentsDifference(Fe,_r){var $r={};return $r.months=_r.month()-Fe.month()+(_r.year()-Fe.year())*12,Fe.clone().add($r.months,"M").isAfter(_r)&&--$r.months,$r.milliseconds=+_r-+Fe.clone().add($r.months,"M"),$r}function momentsDifference(Fe,_r){var $r;return Fe.isValid()&&_r.isValid()?(_r=cloneWithOffset(_r,Fe),Fe.isBefore(_r)?$r=positiveMomentsDifference(Fe,_r):($r=positiveMomentsDifference(_r,Fe),$r.milliseconds=-$r.milliseconds,$r.months=-$r.months),$r):{milliseconds:0,months:0}}function createAdder(Fe,_r){return function($r,Br){var Fr,zr;return Br!==null&&!isNaN(+Br)&&(deprecateSimple(_r,"moment()."+_r+"(period, number) is deprecated. Please use moment()."+_r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),zr=$r,$r=Br,Br=zr),Fr=createDuration($r,Br),addSubtract(this,Fr,Fe),this}}function addSubtract(Fe,_r,$r,Br){var Fr=_r._milliseconds,zr=absRound(_r._days),jr=absRound(_r._months);Fe.isValid()&&(Br=Br??!0,jr&&setMonth(Fe,get$2(Fe,"Month")+jr*$r),zr&&set$1$2(Fe,"Date",get$2(Fe,"Date")+zr*$r),Fr&&Fe._d.setTime(Fe._d.valueOf()+Fr*$r),Br&&hooks.updateOffset(Fe,zr||jr))}var add$2=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString$2(Fe){return typeof Fe=="string"||Fe instanceof String}function isMomentInput(Fe){return isMoment(Fe)||isDate(Fe)||isString$2(Fe)||isNumber$1(Fe)||isNumberOrStringArray(Fe)||isMomentInputObject(Fe)||Fe===null||Fe===void 0}function isMomentInputObject(Fe){var _r=isObject$5(Fe)&&!isObjectEmpty(Fe),$r=!1,Br=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Fr,zr,jr=Br.length;for(Fr=0;Fr<jr;Fr+=1)zr=Br[Fr],$r=$r||hasOwnProp(Fe,zr);return _r&&$r}function isNumberOrStringArray(Fe){var _r=isArray$3(Fe),$r=!1;return _r&&($r=Fe.filter(function(Br){return!isNumber$1(Br)&&isString$2(Fe)}).length===0),_r&&$r}function isCalendarSpec(Fe){var _r=isObject$5(Fe)&&!isObjectEmpty(Fe),$r=!1,Br=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Fr,zr;for(Fr=0;Fr<Br.length;Fr+=1)zr=Br[Fr],$r=$r||hasOwnProp(Fe,zr);return _r&&$r}function getCalendarFormat(Fe,_r){var $r=Fe.diff(_r,"days",!0);return $r<-6?"sameElse":$r<-1?"lastWeek":$r<0?"lastDay":$r<1?"sameDay":$r<2?"nextDay":$r<7?"nextWeek":"sameElse"}function calendar$1(Fe,_r){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(Fe=arguments[0],_r=void 0):isCalendarSpec(arguments[0])&&(_r=arguments[0],Fe=void 0):(Fe=void 0,_r=void 0));var $r=Fe||createLocal(),Br=cloneWithOffset($r,this).startOf("day"),Fr=hooks.calendarFormat(this,Br)||"sameElse",zr=_r&&(isFunction$1(_r[Fr])?_r[Fr].call(this,$r):_r[Fr]);return this.format(zr||this.localeData().calendar(Fr,this,createLocal($r)))}function clone$6(){return new Moment(this)}function isAfter(Fe,_r){var $r=isMoment(Fe)?Fe:createLocal(Fe);return this.isValid()&&$r.isValid()?(_r=normalizeUnits(_r)||"millisecond",_r==="millisecond"?this.valueOf()>$r.valueOf():$r.valueOf()<this.clone().startOf(_r).valueOf()):!1}function isBefore(Fe,_r){var $r=isMoment(Fe)?Fe:createLocal(Fe);return this.isValid()&&$r.isValid()?(_r=normalizeUnits(_r)||"millisecond",_r==="millisecond"?this.valueOf()<$r.valueOf():this.clone().endOf(_r).valueOf()<$r.valueOf()):!1}function isBetween(Fe,_r,$r,Br){var Fr=isMoment(Fe)?Fe:createLocal(Fe),zr=isMoment(_r)?_r:createLocal(_r);return this.isValid()&&Fr.isValid()&&zr.isValid()?(Br=Br||"()",(Br[0]==="("?this.isAfter(Fr,$r):!this.isBefore(Fr,$r))&&(Br[1]===")"?this.isBefore(zr,$r):!this.isAfter(zr,$r))):!1}function isSame(Fe,_r){var $r=isMoment(Fe)?Fe:createLocal(Fe),Br;return this.isValid()&&$r.isValid()?(_r=normalizeUnits(_r)||"millisecond",_r==="millisecond"?this.valueOf()===$r.valueOf():(Br=$r.valueOf(),this.clone().startOf(_r).valueOf()<=Br&&Br<=this.clone().endOf(_r).valueOf())):!1}function isSameOrAfter(Fe,_r){return this.isSame(Fe,_r)||this.isAfter(Fe,_r)}function isSameOrBefore(Fe,_r){return this.isSame(Fe,_r)||this.isBefore(Fe,_r)}function diff(Fe,_r,$r){var Br,Fr,zr;if(!this.isValid())return NaN;if(Br=cloneWithOffset(Fe,this),!Br.isValid())return NaN;switch(Fr=(Br.utcOffset()-this.utcOffset())*6e4,_r=normalizeUnits(_r),_r){case"year":zr=monthDiff(this,Br)/12;break;case"month":zr=monthDiff(this,Br);break;case"quarter":zr=monthDiff(this,Br)/3;break;case"second":zr=(this-Br)/1e3;break;case"minute":zr=(this-Br)/6e4;break;case"hour":zr=(this-Br)/36e5;break;case"day":zr=(this-Br-Fr)/864e5;break;case"week":zr=(this-Br-Fr)/6048e5;break;default:zr=this-Br}return $r?zr:absFloor(zr)}function monthDiff(Fe,_r){if(Fe.date()<_r.date())return-monthDiff(_r,Fe);var $r=(_r.year()-Fe.year())*12+(_r.month()-Fe.month()),Br=Fe.clone().add($r,"months"),Fr,zr;return _r-Br<0?(Fr=Fe.clone().add($r-1,"months"),zr=(_r-Br)/(Br-Fr)):(Fr=Fe.clone().add($r+1,"months"),zr=(_r-Br)/(Fr-Br)),-($r+zr)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(Fe){if(!this.isValid())return null;var _r=Fe!==!0,$r=_r?this.clone().utc():this;return $r.year()<0||$r.year()>9999?formatMoment($r,_r?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$1(Date.prototype.toISOString)?_r?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment($r,"Z")):formatMoment($r,_r?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Fe="moment",_r="",$r,Br,Fr,zr;return this.isLocal()||(Fe=this.utcOffset()===0?"moment.utc":"moment.parseZone",_r="Z"),$r="["+Fe+'("]',Br=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Fr="-MM-DD[T]HH:mm:ss.SSS",zr=_r+'[")]',this.format($r+Br+Fr+zr)}function format$2(Fe){Fe||(Fe=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var _r=formatMoment(this,Fe);return this.localeData().postformat(_r)}function from(Fe,_r){return this.isValid()&&(isMoment(Fe)&&Fe.isValid()||createLocal(Fe).isValid())?createDuration({to:this,from:Fe}).locale(this.locale()).humanize(!_r):this.localeData().invalidDate()}function fromNow(Fe){return this.from(createLocal(),Fe)}function to(Fe,_r){return this.isValid()&&(isMoment(Fe)&&Fe.isValid()||createLocal(Fe).isValid())?createDuration({from:this,to:Fe}).locale(this.locale()).humanize(!_r):this.localeData().invalidDate()}function toNow(Fe){return this.to(createLocal(),Fe)}function locale(Fe){var _r;return Fe===void 0?this._locale._abbr:(_r=getLocale(Fe),_r!=null&&(this._locale=_r),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Fe){return Fe===void 0?this.localeData():this.locale(Fe)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(Fe,_r){return(Fe%_r+_r)%_r}function localStartOfDate(Fe,_r,$r){return Fe<100&&Fe>=0?new Date(Fe+400,_r,$r)-MS_PER_400_YEARS:new Date(Fe,_r,$r).valueOf()}function utcStartOfDate(Fe,_r,$r){return Fe<100&&Fe>=0?Date.UTC(Fe+400,_r,$r)-MS_PER_400_YEARS:Date.UTC(Fe,_r,$r)}function startOf(Fe){var _r,$r;if(Fe=normalizeUnits(Fe),Fe===void 0||Fe==="millisecond"||!this.isValid())return this;switch($r=this._isUTC?utcStartOfDate:localStartOfDate,Fe){case"year":_r=$r(this.year(),0,1);break;case"quarter":_r=$r(this.year(),this.month()-this.month()%3,1);break;case"month":_r=$r(this.year(),this.month(),1);break;case"week":_r=$r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":_r=$r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":_r=$r(this.year(),this.month(),this.date());break;case"hour":_r=this._d.valueOf(),_r-=mod$1(_r+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":_r=this._d.valueOf(),_r-=mod$1(_r,MS_PER_MINUTE);break;case"second":_r=this._d.valueOf(),_r-=mod$1(_r,MS_PER_SECOND);break}return this._d.setTime(_r),hooks.updateOffset(this,!0),this}function endOf(Fe){var _r,$r;if(Fe=normalizeUnits(Fe),Fe===void 0||Fe==="millisecond"||!this.isValid())return this;switch($r=this._isUTC?utcStartOfDate:localStartOfDate,Fe){case"year":_r=$r(this.year()+1,0,1)-1;break;case"quarter":_r=$r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":_r=$r(this.year(),this.month()+1,1)-1;break;case"week":_r=$r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":_r=$r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":_r=$r(this.year(),this.month(),this.date()+1)-1;break;case"hour":_r=this._d.valueOf(),_r+=MS_PER_HOUR-mod$1(_r+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":_r=this._d.valueOf(),_r+=MS_PER_MINUTE-mod$1(_r,MS_PER_MINUTE)-1;break;case"second":_r=this._d.valueOf(),_r+=MS_PER_SECOND-mod$1(_r,MS_PER_SECOND)-1;break}return this._d.setTime(_r),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var Fe=this;return[Fe.year(),Fe.month(),Fe.date(),Fe.hour(),Fe.minute(),Fe.second(),Fe.millisecond()]}function toObject(){var Fe=this;return{years:Fe.year(),months:Fe.month(),date:Fe.date(),hours:Fe.hours(),minutes:Fe.minutes(),seconds:Fe.seconds(),milliseconds:Fe.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$3({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(Fe,_r,$r,Br){var Fr=$r._locale.erasParse(Fe,Br,$r._strict);Fr?getParsingFlags($r).era=Fr:getParsingFlags($r).invalidEra=Fe});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(Fe,_r,$r,Br){var Fr;$r._locale._eraYearOrdinalRegex&&(Fr=Fe.match($r._locale._eraYearOrdinalRegex)),$r._locale.eraYearOrdinalParse?_r[YEAR]=$r._locale.eraYearOrdinalParse(Fe,Fr):_r[YEAR]=parseInt(Fe,10)});function localeEras(Fe,_r){var $r,Br,Fr,zr=this._eras||getLocale("en")._eras;for($r=0,Br=zr.length;$r<Br;++$r){switch(typeof zr[$r].since){case"string":Fr=hooks(zr[$r].since).startOf("day"),zr[$r].since=Fr.valueOf();break}switch(typeof zr[$r].until){case"undefined":zr[$r].until=1/0;break;case"string":Fr=hooks(zr[$r].until).startOf("day").valueOf(),zr[$r].until=Fr.valueOf();break}}return zr}function localeErasParse(Fe,_r,$r){var Br,Fr,zr=this.eras(),jr,Ur,Gr;for(Fe=Fe.toUpperCase(),Br=0,Fr=zr.length;Br<Fr;++Br)if(jr=zr[Br].name.toUpperCase(),Ur=zr[Br].abbr.toUpperCase(),Gr=zr[Br].narrow.toUpperCase(),$r)switch(_r){case"N":case"NN":case"NNN":if(Ur===Fe)return zr[Br];break;case"NNNN":if(jr===Fe)return zr[Br];break;case"NNNNN":if(Gr===Fe)return zr[Br];break}else if([jr,Ur,Gr].indexOf(Fe)>=0)return zr[Br]}function localeErasConvertYear(Fe,_r){var $r=Fe.since<=Fe.until?1:-1;return _r===void 0?hooks(Fe.since).year():hooks(Fe.since).year()+(_r-Fe.offset)*$r}function getEraName(){var Fe,_r,$r,Br=this.localeData().eras();for(Fe=0,_r=Br.length;Fe<_r;++Fe)if($r=this.clone().startOf("day").valueOf(),Br[Fe].since<=$r&&$r<=Br[Fe].until||Br[Fe].until<=$r&&$r<=Br[Fe].since)return Br[Fe].name;return""}function getEraNarrow(){var Fe,_r,$r,Br=this.localeData().eras();for(Fe=0,_r=Br.length;Fe<_r;++Fe)if($r=this.clone().startOf("day").valueOf(),Br[Fe].since<=$r&&$r<=Br[Fe].until||Br[Fe].until<=$r&&$r<=Br[Fe].since)return Br[Fe].narrow;return""}function getEraAbbr(){var Fe,_r,$r,Br=this.localeData().eras();for(Fe=0,_r=Br.length;Fe<_r;++Fe)if($r=this.clone().startOf("day").valueOf(),Br[Fe].since<=$r&&$r<=Br[Fe].until||Br[Fe].until<=$r&&$r<=Br[Fe].since)return Br[Fe].abbr;return""}function getEraYear(){var Fe,_r,$r,Br,Fr=this.localeData().eras();for(Fe=0,_r=Fr.length;Fe<_r;++Fe)if($r=Fr[Fe].since<=Fr[Fe].until?1:-1,Br=this.clone().startOf("day").valueOf(),Fr[Fe].since<=Br&&Br<=Fr[Fe].until||Fr[Fe].until<=Br&&Br<=Fr[Fe].since)return(this.year()-hooks(Fr[Fe].since).year())*$r+Fr[Fe].offset;return this.year()}function erasNameRegex(Fe){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),Fe?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(Fe){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),Fe?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(Fe){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),Fe?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(Fe,_r){return _r.erasAbbrRegex(Fe)}function matchEraName(Fe,_r){return _r.erasNameRegex(Fe)}function matchEraNarrow(Fe,_r){return _r.erasNarrowRegex(Fe)}function matchEraYearOrdinal(Fe,_r){return _r._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var Fe=[],_r=[],$r=[],Br=[],Fr,zr,jr=this.eras();for(Fr=0,zr=jr.length;Fr<zr;++Fr)_r.push(regexEscape(jr[Fr].name)),Fe.push(regexEscape(jr[Fr].abbr)),$r.push(regexEscape(jr[Fr].narrow)),Br.push(regexEscape(jr[Fr].name)),Br.push(regexEscape(jr[Fr].abbr)),Br.push(regexEscape(jr[Fr].narrow));this._erasRegex=new RegExp("^("+Br.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+_r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+Fe.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+$r.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(Fe,_r){addFormatToken(0,[Fe,Fe.length],0,_r)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(Fe,_r,$r,Br){_r[Br.substr(0,2)]=toInt(Fe)});addWeekParseToken(["gg","GG"],function(Fe,_r,$r,Br){_r[Br]=hooks.parseTwoDigitYear(Fe)});function getSetWeekYear(Fe){return getSetWeekYearHelper.call(this,Fe,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(Fe){return getSetWeekYearHelper.call(this,Fe,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var Fe=this.localeData()._week;return weeksInYear(this.year(),Fe.dow,Fe.doy)}function getWeeksInWeekYear(){var Fe=this.localeData()._week;return weeksInYear(this.weekYear(),Fe.dow,Fe.doy)}function getSetWeekYearHelper(Fe,_r,$r,Br,Fr){var zr;return Fe==null?weekOfYear(this,Br,Fr).year:(zr=weeksInYear(Fe,Br,Fr),_r>zr&&(_r=zr),setWeekAll.call(this,Fe,_r,$r,Br,Fr))}function setWeekAll(Fe,_r,$r,Br,Fr){var zr=dayOfYearFromWeeks(Fe,_r,$r,Br,Fr),jr=createUTCDate(zr.year,0,zr.dayOfYear);return this.year(jr.getUTCFullYear()),this.month(jr.getUTCMonth()),this.date(jr.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(Fe,_r){_r[MONTH]=(toInt(Fe)-1)*3});function getSetQuarter(Fe){return Fe==null?Math.ceil((this.month()+1)/3):this.month((Fe-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(Fe,_r){return Fe?_r._dayOfMonthOrdinalParse||_r._ordinalParse:_r._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(Fe,_r){_r[DATE]=toInt(Fe.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(Fe,_r,$r){$r._dayOfYear=toInt(Fe)});function getSetDayOfYear(Fe){var _r=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return Fe==null?_r:this.add(Fe-_r,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(Fe,_r){_r[MILLISECOND]=toInt(("0."+Fe)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto$1=Moment.prototype;proto$1.add=add$2;proto$1.calendar=calendar$1;proto$1.clone=clone$6;proto$1.diff=diff;proto$1.endOf=endOf;proto$1.format=format$2;proto$1.from=from;proto$1.fromNow=fromNow;proto$1.to=to;proto$1.toNow=toNow;proto$1.get=stringGet;proto$1.invalidAt=invalidAt;proto$1.isAfter=isAfter;proto$1.isBefore=isBefore;proto$1.isBetween=isBetween;proto$1.isSame=isSame;proto$1.isSameOrAfter=isSameOrAfter;proto$1.isSameOrBefore=isSameOrBefore;proto$1.isValid=isValid$2;proto$1.lang=lang;proto$1.locale=locale;proto$1.localeData=localeData;proto$1.max=prototypeMax;proto$1.min=prototypeMin;proto$1.parsingFlags=parsingFlags;proto$1.set=stringSet;proto$1.startOf=startOf;proto$1.subtract=subtract;proto$1.toArray=toArray;proto$1.toObject=toObject;proto$1.toDate=toDate;proto$1.toISOString=toISOString;proto$1.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto$1[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto$1.toJSON=toJSON;proto$1.toString=toString;proto$1.unix=unix;proto$1.valueOf=valueOf;proto$1.creationData=creationData;proto$1.eraName=getEraName;proto$1.eraNarrow=getEraNarrow;proto$1.eraAbbr=getEraAbbr;proto$1.eraYear=getEraYear;proto$1.year=getSetYear;proto$1.isLeapYear=getIsLeapYear;proto$1.weekYear=getSetWeekYear;proto$1.isoWeekYear=getSetISOWeekYear;proto$1.quarter=proto$1.quarters=getSetQuarter;proto$1.month=getSetMonth;proto$1.daysInMonth=getDaysInMonth;proto$1.week=proto$1.weeks=getSetWeek;proto$1.isoWeek=proto$1.isoWeeks=getSetISOWeek;proto$1.weeksInYear=getWeeksInYear;proto$1.weeksInWeekYear=getWeeksInWeekYear;proto$1.isoWeeksInYear=getISOWeeksInYear;proto$1.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto$1.date=getSetDayOfMonth;proto$1.day=proto$1.days=getSetDayOfWeek;proto$1.weekday=getSetLocaleDayOfWeek;proto$1.isoWeekday=getSetISODayOfWeek;proto$1.dayOfYear=getSetDayOfYear;proto$1.hour=proto$1.hours=getSetHour;proto$1.minute=proto$1.minutes=getSetMinute;proto$1.second=proto$1.seconds=getSetSecond;proto$1.millisecond=proto$1.milliseconds=getSetMillisecond;proto$1.utcOffset=getSetOffset;proto$1.utc=setOffsetToUTC;proto$1.local=setOffsetToLocal;proto$1.parseZone=setOffsetToParsedOffset;proto$1.hasAlignedHourOffset=hasAlignedHourOffset;proto$1.isDST=isDaylightSavingTime;proto$1.isLocal=isLocal;proto$1.isUtcOffset=isUtcOffset;proto$1.isUtc=isUtc;proto$1.isUTC=isUtc;proto$1.zoneAbbr=getZoneAbbr;proto$1.zoneName=getZoneName;proto$1.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto$1.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto$1.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto$1.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto$1.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(Fe){return createLocal(Fe*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(Fe){return Fe}var proto$1$1=Locale.prototype;proto$1$1.calendar=calendar;proto$1$1.longDateFormat=longDateFormat;proto$1$1.invalidDate=invalidDate;proto$1$1.ordinal=ordinal;proto$1$1.preparse=preParsePostFormat;proto$1$1.postformat=preParsePostFormat;proto$1$1.relativeTime=relativeTime;proto$1$1.pastFuture=pastFuture;proto$1$1.set=set$3;proto$1$1.eras=localeEras;proto$1$1.erasParse=localeErasParse;proto$1$1.erasConvertYear=localeErasConvertYear;proto$1$1.erasAbbrRegex=erasAbbrRegex;proto$1$1.erasNameRegex=erasNameRegex;proto$1$1.erasNarrowRegex=erasNarrowRegex;proto$1$1.months=localeMonths;proto$1$1.monthsShort=localeMonthsShort;proto$1$1.monthsParse=localeMonthsParse;proto$1$1.monthsRegex=monthsRegex;proto$1$1.monthsShortRegex=monthsShortRegex;proto$1$1.week=localeWeek;proto$1$1.firstDayOfYear=localeFirstDayOfYear;proto$1$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1$1.weekdays=localeWeekdays;proto$1$1.weekdaysMin=localeWeekdaysMin;proto$1$1.weekdaysShort=localeWeekdaysShort;proto$1$1.weekdaysParse=localeWeekdaysParse;proto$1$1.weekdaysRegex=weekdaysRegex;proto$1$1.weekdaysShortRegex=weekdaysShortRegex;proto$1$1.weekdaysMinRegex=weekdaysMinRegex;proto$1$1.isPM=localeIsPM;proto$1$1.meridiem=localeMeridiem;function get$1$2(Fe,_r,$r,Br){var Fr=getLocale(),zr=createUTC().set(Br,_r);return Fr[$r](zr,Fe)}function listMonthsImpl(Fe,_r,$r){if(isNumber$1(Fe)&&(_r=Fe,Fe=void 0),Fe=Fe||"",_r!=null)return get$1$2(Fe,_r,$r,"month");var Br,Fr=[];for(Br=0;Br<12;Br++)Fr[Br]=get$1$2(Fe,Br,$r,"month");return Fr}function listWeekdaysImpl(Fe,_r,$r,Br){typeof Fe=="boolean"?(isNumber$1(_r)&&($r=_r,_r=void 0),_r=_r||""):(_r=Fe,$r=_r,Fe=!1,isNumber$1(_r)&&($r=_r,_r=void 0),_r=_r||"");var Fr=getLocale(),zr=Fe?Fr._week.dow:0,jr,Ur=[];if($r!=null)return get$1$2(_r,($r+zr)%7,Br,"day");for(jr=0;jr<7;jr++)Ur[jr]=get$1$2(_r,(jr+zr)%7,Br,"day");return Ur}function listMonths(Fe,_r){return listMonthsImpl(Fe,_r,"months")}function listMonthsShort(Fe,_r){return listMonthsImpl(Fe,_r,"monthsShort")}function listWeekdays(Fe,_r,$r){return listWeekdaysImpl(Fe,_r,$r,"weekdays")}function listWeekdaysShort(Fe,_r,$r){return listWeekdaysImpl(Fe,_r,$r,"weekdaysShort")}function listWeekdaysMin(Fe,_r,$r){return listWeekdaysImpl(Fe,_r,$r,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Fe){var _r=Fe%10,$r=toInt(Fe%100/10)===1?"th":_r===1?"st":_r===2?"nd":_r===3?"rd":"th";return Fe+$r}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs$3=Math.abs;function abs$1(){var Fe=this._data;return this._milliseconds=mathAbs$3(this._milliseconds),this._days=mathAbs$3(this._days),this._months=mathAbs$3(this._months),Fe.milliseconds=mathAbs$3(Fe.milliseconds),Fe.seconds=mathAbs$3(Fe.seconds),Fe.minutes=mathAbs$3(Fe.minutes),Fe.hours=mathAbs$3(Fe.hours),Fe.months=mathAbs$3(Fe.months),Fe.years=mathAbs$3(Fe.years),this}function addSubtract$1(Fe,_r,$r,Br){var Fr=createDuration(_r,$r);return Fe._milliseconds+=Br*Fr._milliseconds,Fe._days+=Br*Fr._days,Fe._months+=Br*Fr._months,Fe._bubble()}function add$1$1(Fe,_r){return addSubtract$1(this,Fe,_r,1)}function subtract$1(Fe,_r){return addSubtract$1(this,Fe,_r,-1)}function absCeil(Fe){return Fe<0?Math.floor(Fe):Math.ceil(Fe)}function bubble(){var Fe=this._milliseconds,_r=this._days,$r=this._months,Br=this._data,Fr,zr,jr,Ur,Gr;return Fe>=0&&_r>=0&&$r>=0||Fe<=0&&_r<=0&&$r<=0||(Fe+=absCeil(monthsToDays($r)+_r)*864e5,_r=0,$r=0),Br.milliseconds=Fe%1e3,Fr=absFloor(Fe/1e3),Br.seconds=Fr%60,zr=absFloor(Fr/60),Br.minutes=zr%60,jr=absFloor(zr/60),Br.hours=jr%24,_r+=absFloor(jr/24),Gr=absFloor(daysToMonths(_r)),$r+=Gr,_r-=absCeil(monthsToDays(Gr)),Ur=absFloor($r/12),$r%=12,Br.days=_r,Br.months=$r,Br.years=Ur,this}function daysToMonths(Fe){return Fe*4800/146097}function monthsToDays(Fe){return Fe*146097/4800}function as(Fe){if(!this.isValid())return NaN;var _r,$r,Br=this._milliseconds;if(Fe=normalizeUnits(Fe),Fe==="month"||Fe==="quarter"||Fe==="year")switch(_r=this._days+Br/864e5,$r=this._months+daysToMonths(_r),Fe){case"month":return $r;case"quarter":return $r/3;case"year":return $r/12}else switch(_r=this._days+Math.round(monthsToDays(this._months)),Fe){case"week":return _r/7+Br/6048e5;case"day":return _r+Br/864e5;case"hour":return _r*24+Br/36e5;case"minute":return _r*1440+Br/6e4;case"second":return _r*86400+Br/1e3;case"millisecond":return Math.floor(_r*864e5)+Br;default:throw new Error("Unknown unit "+Fe)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(Fe){return function(){return this.as(Fe)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1$1(){return createDuration(this)}function get$2$1(Fe){return Fe=normalizeUnits(Fe),this.isValid()?this[Fe+"s"]():NaN}function makeGetter(Fe){return function(){return this.isValid()?this._data[Fe]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$4=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(Fe,_r,$r,Br,Fr){return Fr.relativeTime(_r||1,!!$r,Fe,Br)}function relativeTime$1(Fe,_r,$r,Br){var Fr=createDuration(Fe).abs(),zr=round$4(Fr.as("s")),jr=round$4(Fr.as("m")),Ur=round$4(Fr.as("h")),Gr=round$4(Fr.as("d")),Yr=round$4(Fr.as("M")),Kr=round$4(Fr.as("w")),Qr=round$4(Fr.as("y")),Jr=zr<=$r.ss&&["s",zr]||zr<$r.s&&["ss",zr]||jr<=1&&["m"]||jr<$r.m&&["mm",jr]||Ur<=1&&["h"]||Ur<$r.h&&["hh",Ur]||Gr<=1&&["d"]||Gr<$r.d&&["dd",Gr];return $r.w!=null&&(Jr=Jr||Kr<=1&&["w"]||Kr<$r.w&&["ww",Kr]),Jr=Jr||Yr<=1&&["M"]||Yr<$r.M&&["MM",Yr]||Qr<=1&&["y"]||["yy",Qr],Jr[2]=_r,Jr[3]=+Fe>0,Jr[4]=Br,substituteTimeAgo.apply(null,Jr)}function getSetRelativeTimeRounding(Fe){return Fe===void 0?round$4:typeof Fe=="function"?(round$4=Fe,!0):!1}function getSetRelativeTimeThreshold(Fe,_r){return thresholds[Fe]===void 0?!1:_r===void 0?thresholds[Fe]:(thresholds[Fe]=_r,Fe==="s"&&(thresholds.ss=_r-1),!0)}function humanize(Fe,_r){if(!this.isValid())return this.localeData().invalidDate();var $r=!1,Br=thresholds,Fr,zr;return typeof Fe=="object"&&(_r=Fe,Fe=!1),typeof Fe=="boolean"&&($r=Fe),typeof _r=="object"&&(Br=Object.assign({},thresholds,_r),_r.s!=null&&_r.ss==null&&(Br.ss=_r.s-1)),Fr=this.localeData(),zr=relativeTime$1(this,!$r,Br,Fr),$r&&(zr=Fr.pastFuture(+this,zr)),Fr.postformat(zr)}var abs$1$1=Math.abs;function sign(Fe){return(Fe>0)-(Fe<0)||+Fe}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var Fe=abs$1$1(this._milliseconds)/1e3,_r=abs$1$1(this._days),$r=abs$1$1(this._months),Br,Fr,zr,jr,Ur=this.asSeconds(),Gr,Yr,Kr,Qr;return Ur?(Br=absFloor(Fe/60),Fr=absFloor(Br/60),Fe%=60,Br%=60,zr=absFloor($r/12),$r%=12,jr=Fe?Fe.toFixed(3).replace(/\.?0+$/,""):"",Gr=Ur<0?"-":"",Yr=sign(this._months)!==sign(Ur)?"-":"",Kr=sign(this._days)!==sign(Ur)?"-":"",Qr=sign(this._milliseconds)!==sign(Ur)?"-":"",Gr+"P"+(zr?Yr+zr+"Y":"")+($r?Yr+$r+"M":"")+(_r?Kr+_r+"D":"")+(Fr||Br||Fe?"T":"")+(Fr?Qr+Fr+"H":"")+(Br?Qr+Br+"M":"")+(Fe?Qr+jr+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs$1;proto$2.add=add$1$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(Fe,_r,$r){$r._d=new Date(parseFloat(Fe)*1e3)});addParseToken("x",function(Fe,_r,$r){$r._d=new Date(toInt(Fe))});//! moment.js
hooks.version="2.29.4";setHookCallback(createLocal);hooks.fn=proto$1;hooks.min=min$2;hooks.max=max$2;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto$1;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const moment$1=Object.freeze(Object.defineProperty({__proto__:null,default:hooks},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(moment$1);/**
* @version: 3.1
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: http://www.daterangepicker.com/
*/(function(Fe){(function(_r,$r){if(Fe.exports){var Br=typeof window<"u"?window.jQuery:void 0;Br||(Br=jqueryExports,Br.fn||(Br.fn={}));var Fr=typeof window<"u"&&typeof window.moment<"u"?window.moment:require$$1;Fe.exports=$r(Fr,Br)}else _r.daterangepicker=$r(_r.moment,_r.jQuery)})(commonjsGlobal,function(_r,$r){var Br=function(Fr,zr,jr){if(this.parentEl="body",this.element=$r(Fr),this.startDate=_r().startOf("day"),this.endDate=_r().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=_r().subtract(100,"year").format("YYYY"),this.maxYear=_r().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:_r.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:_r.weekdaysMin(),monthNames:_r.monthsShort(),firstDay:_r.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},(typeof zr!="object"||zr===null)&&(zr={}),zr=$r.extend(this.element.data(),zr),typeof zr.template!="string"&&!(zr.template instanceof $r)&&(zr.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=zr.parentEl&&$r(zr.parentEl).length?$r(zr.parentEl):$r(this.parentEl),this.container=$r(zr.template).appendTo(this.parentEl),typeof zr.locale=="object"&&(typeof zr.locale.direction=="string"&&(this.locale.direction=zr.locale.direction),typeof zr.locale.format=="string"&&(this.locale.format=zr.locale.format),typeof zr.locale.separator=="string"&&(this.locale.separator=zr.locale.separator),typeof zr.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=zr.locale.daysOfWeek.slice()),typeof zr.locale.monthNames=="object"&&(this.locale.monthNames=zr.locale.monthNames.slice()),typeof zr.locale.firstDay=="number"&&(this.locale.firstDay=zr.locale.firstDay),typeof zr.locale.applyLabel=="string"&&(this.locale.applyLabel=zr.locale.applyLabel),typeof zr.locale.cancelLabel=="string"&&(this.locale.cancelLabel=zr.locale.cancelLabel),typeof zr.locale.weekLabel=="string"&&(this.locale.weekLabel=zr.locale.weekLabel),typeof zr.locale.customRangeLabel=="string")){var Ur=document.createElement("textarea");Ur.innerHTML=zr.locale.customRangeLabel;var Gr=Ur.value;this.locale.customRangeLabel=Gr}if(this.container.addClass(this.locale.direction),typeof zr.startDate=="string"&&(this.startDate=_r(zr.startDate,this.locale.format)),typeof zr.endDate=="string"&&(this.endDate=_r(zr.endDate,this.locale.format)),typeof zr.minDate=="string"&&(this.minDate=_r(zr.minDate,this.locale.format)),typeof zr.maxDate=="string"&&(this.maxDate=_r(zr.maxDate,this.locale.format)),typeof zr.startDate=="object"&&(this.startDate=_r(zr.startDate)),typeof zr.endDate=="object"&&(this.endDate=_r(zr.endDate)),typeof zr.minDate=="object"&&(this.minDate=_r(zr.minDate)),typeof zr.maxDate=="object"&&(this.maxDate=_r(zr.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),typeof zr.applyButtonClasses=="string"&&(this.applyButtonClasses=zr.applyButtonClasses),typeof zr.applyClass=="string"&&(this.applyButtonClasses=zr.applyClass),typeof zr.cancelButtonClasses=="string"&&(this.cancelButtonClasses=zr.cancelButtonClasses),typeof zr.cancelClass=="string"&&(this.cancelButtonClasses=zr.cancelClass),typeof zr.maxSpan=="object"&&(this.maxSpan=zr.maxSpan),typeof zr.dateLimit=="object"&&(this.maxSpan=zr.dateLimit),typeof zr.opens=="string"&&(this.opens=zr.opens),typeof zr.drops=="string"&&(this.drops=zr.drops),typeof zr.showWeekNumbers=="boolean"&&(this.showWeekNumbers=zr.showWeekNumbers),typeof zr.showISOWeekNumbers=="boolean"&&(this.showISOWeekNumbers=zr.showISOWeekNumbers),typeof zr.buttonClasses=="string"&&(this.buttonClasses=zr.buttonClasses),typeof zr.buttonClasses=="object"&&(this.buttonClasses=zr.buttonClasses.join(" ")),typeof zr.showDropdowns=="boolean"&&(this.showDropdowns=zr.showDropdowns),typeof zr.minYear=="number"&&(this.minYear=zr.minYear),typeof zr.maxYear=="number"&&(this.maxYear=zr.maxYear),typeof zr.showCustomRangeLabel=="boolean"&&(this.showCustomRangeLabel=zr.showCustomRangeLabel),typeof zr.singleDatePicker=="boolean"&&(this.singleDatePicker=zr.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof zr.timePicker=="boolean"&&(this.timePicker=zr.timePicker),typeof zr.timePickerSeconds=="boolean"&&(this.timePickerSeconds=zr.timePickerSeconds),typeof zr.timePickerIncrement=="number"&&(this.timePickerIncrement=zr.timePickerIncrement),typeof zr.timePicker24Hour=="boolean"&&(this.timePicker24Hour=zr.timePicker24Hour),typeof zr.autoApply=="boolean"&&(this.autoApply=zr.autoApply),typeof zr.autoUpdateInput=="boolean"&&(this.autoUpdateInput=zr.autoUpdateInput),typeof zr.linkedCalendars=="boolean"&&(this.linkedCalendars=zr.linkedCalendars),typeof zr.isInvalidDate=="function"&&(this.isInvalidDate=zr.isInvalidDate),typeof zr.isCustomDate=="function"&&(this.isCustomDate=zr.isCustomDate),typeof zr.alwaysShowCalendars=="boolean"&&(this.alwaysShowCalendars=zr.alwaysShowCalendars),this.locale.firstDay!=0)for(var Yr=this.locale.firstDay;Yr>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),Yr--;var Kr,Qr,Jr;if(typeof zr.startDate>"u"&&typeof zr.endDate>"u"&&$r(this.element).is(":text")){var rn=$r(this.element).val(),an=rn.split(this.locale.separator);Kr=Qr=null,an.length==2?(Kr=_r(an[0],this.locale.format),Qr=_r(an[1],this.locale.format)):this.singleDatePicker&&rn!==""&&(Kr=_r(rn,this.locale.format),Qr=_r(rn,this.locale.format)),Kr!==null&&Qr!==null&&(this.setStartDate(Kr),this.setEndDate(Qr))}if(typeof zr.ranges=="object"){for(Jr in zr.ranges){typeof zr.ranges[Jr][0]=="string"?Kr=_r(zr.ranges[Jr][0],this.locale.format):Kr=_r(zr.ranges[Jr][0]),typeof zr.ranges[Jr][1]=="string"?Qr=_r(zr.ranges[Jr][1],this.locale.format):Qr=_r(zr.ranges[Jr][1]),this.minDate&&Kr.isBefore(this.minDate)&&(Kr=this.minDate.clone());var ln=this.maxDate;if(this.maxSpan&&ln&&Kr.clone().add(this.maxSpan).isAfter(ln)&&(ln=Kr.clone().add(this.maxSpan)),ln&&Qr.isAfter(ln)&&(Qr=ln.clone()),!(this.minDate&&Qr.isBefore(this.minDate,this.timepicker?"minute":"day")||ln&&Kr.isAfter(ln,this.timepicker?"minute":"day"))){var Ur=document.createElement("textarea");Ur.innerHTML=Jr;var Gr=Ur.value;this.ranges[Gr]=[Kr,Qr]}}var dn="<ul>";for(Jr in this.ranges)dn+='<li data-range-key="'+Jr+'">'+Jr+"</li>";this.showCustomRangeLabel&&(dn+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),dn+="</ul>",this.container.find(".ranges").prepend(dn)}typeof jr=="function"&&(this.callback=jr),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),typeof zr.ranges=="object"&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(typeof zr.ranges>"u"&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",$r.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",$r.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",$r.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",$r.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",$r.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",$r.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",$r.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",$r.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",$r.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",$r.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":$r.proxy(this.show,this),"focus.daterangepicker":$r.proxy(this.show,this),"keyup.daterangepicker":$r.proxy(this.elementChanged,this),"keydown.daterangepicker":$r.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",$r.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",$r.proxy(this.toggle,this))),this.updateElement()};return Br.prototype={constructor:Br,setStartDate:function(Fr){typeof Fr=="string"&&(this.startDate=_r(Fr,this.locale.format)),typeof Fr=="object"&&(this.startDate=_r(Fr)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(Fr){typeof Fr=="string"&&(this.endDate=_r(Fr,this.locale.format)),typeof Fr=="object"&&(this.endDate=_r(Fr)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),!this.linkedCalendars&&(this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year())?this.rightCalendar.month=this.endDate.clone().date(2):this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var Fr,zr,jr;if(this.endDate){if(Fr=parseInt(this.container.find(".left .hourselect").val(),10),zr=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(zr)&&(zr=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),jr=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var Ur=this.container.find(".left .ampmselect").val();Ur==="PM"&&Fr<12&&(Fr+=12),Ur==="AM"&&Fr===12&&(Fr=0)}}else if(Fr=parseInt(this.container.find(".right .hourselect").val(),10),zr=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(zr)&&(zr=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),jr=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var Ur=this.container.find(".right .ampmselect").val();Ur==="PM"&&Fr<12&&(Fr+=12),Ur==="AM"&&Fr===12&&(Fr=0)}this.leftCalendar.month.hour(Fr).minute(zr).second(jr),this.rightCalendar.month.hour(Fr).minute(zr).second(jr)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),this.endDate!=null&&this.calculateChosenLabel()},renderCalendar:function(Fr){var hn=Fr=="left"?this.leftCalendar:this.rightCalendar,zr=hn.month.month(),jr=hn.month.year(),Ur=hn.month.hour(),Gr=hn.month.minute(),Yr=hn.month.second(),Kr=_r([jr,zr]).daysInMonth(),Qr=_r([jr,zr,1]),Jr=_r([jr,zr,Kr]),rn=_r(Qr).subtract(1,"month").month(),an=_r(Qr).subtract(1,"month").year(),ln=_r([an,rn]).daysInMonth(),dn=Qr.day(),hn=[];hn.firstDay=Qr,hn.lastDay=Jr;for(var gn=0;gn<6;gn++)hn[gn]=[];var bn=ln-dn+this.locale.firstDay+1;bn>ln&&(bn-=7),dn==this.locale.firstDay&&(bn=ln-6);for(var kn=_r([an,rn,bn,12,Gr,Yr]),Sn,_n,gn=0,Sn=0,_n=0;gn<42;gn++,Sn++,kn=_r(kn).add(24,"hour"))gn>0&&Sn%7===0&&(Sn=0,_n++),hn[_n][Sn]=kn.clone().hour(Ur).minute(Gr).second(Yr),kn.hour(12),this.minDate&&hn[_n][Sn].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&hn[_n][Sn].isBefore(this.minDate)&&Fr=="left"&&(hn[_n][Sn]=this.minDate.clone()),this.maxDate&&hn[_n][Sn].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&hn[_n][Sn].isAfter(this.maxDate)&&Fr=="right"&&(hn[_n][Sn]=this.maxDate.clone());Fr=="left"?this.leftCalendar.calendar=hn:this.rightCalendar.calendar=hn;var pn=Fr=="left"?this.minDate:this.startDate,Cn=this.maxDate;Fr=="left"?this.startDate:this.endDate,this.locale.direction=="ltr";var En='<table class="table-condensed">';En+="<thead>",En+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(En+="<th></th>"),(!pn||pn.isBefore(hn.firstDay))&&(!this.linkedCalendars||Fr=="left")?En+='<th class="prev available"><span></span></th>':En+="<th></th>";var Pn=this.locale.monthNames[hn[1][1].month()]+hn[1][1].format(" YYYY");if(this.showDropdowns){for(var On=hn[1][1].month(),jn=hn[1][1].year(),Fn=Cn&&Cn.year()||this.maxYear,Wn=pn&&pn.year()||this.minYear,Hn=jn==Wn,qn=jn==Fn,ni='<select class="monthselect">',oi=0;oi<12;oi++)(!Hn||pn&&oi>=pn.month())&&(!qn||Cn&&oi<=Cn.month())?ni+="<option value='"+oi+"'"+(oi===On?" selected='selected'":"")+">"+this.locale.monthNames[oi]+"</option>":ni+="<option value='"+oi+"'"+(oi===On?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[oi]+"</option>";ni+="</select>";for(var wi='<select class="yearselect">',Ci=Wn;Ci<=Fn;Ci++)wi+='<option value="'+Ci+'"'+(Ci===jn?' selected="selected"':"")+">"+Ci+"</option>";wi+="</select>",Pn=ni+wi}if(En+='<th colspan="5" class="month">'+Pn+"</th>",(!Cn||Cn.isAfter(hn.lastDay))&&(!this.linkedCalendars||Fr=="right"||this.singleDatePicker)?En+='<th class="next available"><span></span></th>':En+="<th></th>",En+="</tr>",En+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(En+='<th class="week">'+this.locale.weekLabel+"</th>"),$r.each(this.locale.daysOfWeek,function($i,Vi){En+="<th>"+Vi+"</th>"}),En+="</tr>",En+="</thead>",En+="<tbody>",this.endDate==null&&this.maxSpan){var Fi=this.startDate.clone().add(this.maxSpan).endOf("day");(!Cn||Fi.isBefore(Cn))&&(Cn=Fi)}for(var _n=0;_n<6;_n++){En+="<tr>",this.showWeekNumbers?En+='<td class="week">'+hn[_n][0].week()+"</td>":this.showISOWeekNumbers&&(En+='<td class="week">'+hn[_n][0].isoWeek()+"</td>");for(var Sn=0;Sn<7;Sn++){var Zn=[];hn[_n][Sn].isSame(new Date,"day")&&Zn.push("today"),hn[_n][Sn].isoWeekday()>5&&Zn.push("weekend"),hn[_n][Sn].month()!=hn[1][1].month()&&Zn.push("off","ends"),this.minDate&&hn[_n][Sn].isBefore(this.minDate,"day")&&Zn.push("off","disabled"),Cn&&hn[_n][Sn].isAfter(Cn,"day")&&Zn.push("off","disabled"),this.isInvalidDate(hn[_n][Sn])&&Zn.push("off","disabled"),hn[_n][Sn].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&Zn.push("active","start-date"),this.endDate!=null&&hn[_n][Sn].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&Zn.push("active","end-date"),this.endDate!=null&&hn[_n][Sn]>this.startDate&&hn[_n][Sn]<this.endDate&&Zn.push("in-range");var Gn=this.isCustomDate(hn[_n][Sn]);Gn!==!1&&(typeof Gn=="string"?Zn.push(Gn):Array.prototype.push.apply(Zn,Gn));for(var ui="",Ni=!1,gn=0;gn<Zn.length;gn++)ui+=Zn[gn]+" ",Zn[gn]=="disabled"&&(Ni=!0);Ni||(ui+="available"),En+='<td class="'+ui.replace(/^\s+|\s+$/g,"")+'" data-title="r'+_n+"c"+Sn+'">'+hn[_n][Sn].date()+"</td>"}En+="</tr>"}En+="</tbody>",En+="</table>",this.container.find(".drp-calendar."+Fr+" .calendar-table").html(En)},renderTimePicker:function(Fr){if(!(Fr=="right"&&!this.endDate)){var zr,jr,Ur,Gr=this.maxDate;if(this.maxSpan&&(!this.maxDate||this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate))&&(Gr=this.startDate.clone().add(this.maxSpan)),Fr=="left")jr=this.startDate.clone(),Ur=this.minDate;else if(Fr=="right"){jr=this.endDate.clone(),Ur=this.startDate;var Yr=this.container.find(".drp-calendar.right .calendar-time");if(Yr.html()!=""&&(jr.hour(isNaN(jr.hour())?Yr.find(".hourselect option:selected").val():jr.hour()),jr.minute(isNaN(jr.minute())?Yr.find(".minuteselect option:selected").val():jr.minute()),jr.second(isNaN(jr.second())?Yr.find(".secondselect option:selected").val():jr.second()),!this.timePicker24Hour)){var Kr=Yr.find(".ampmselect option:selected").val();Kr==="PM"&&jr.hour()<12&&jr.hour(jr.hour()+12),Kr==="AM"&&jr.hour()===12&&jr.hour(0)}jr.isBefore(this.startDate)&&(jr=this.startDate.clone()),Gr&&jr.isAfter(Gr)&&(jr=Gr.clone())}zr='<select class="hourselect">';for(var Qr=this.timePicker24Hour?0:1,Jr=this.timePicker24Hour?23:12,rn=Qr;rn<=Jr;rn++){var an=rn;this.timePicker24Hour||(an=jr.hour()>=12?rn==12?12:rn+12:rn==12?0:rn);var ln=jr.clone().hour(an),dn=!1;Ur&&ln.minute(59).isBefore(Ur)&&(dn=!0),Gr&&ln.minute(0).isAfter(Gr)&&(dn=!0),an==jr.hour()&&!dn?zr+='<option value="'+rn+'" selected="selected">'+rn+"</option>":dn?zr+='<option value="'+rn+'" disabled="disabled" class="disabled">'+rn+"</option>":zr+='<option value="'+rn+'">'+rn+"</option>"}zr+="</select> ",zr+=': <select class="minuteselect">';for(var rn=0;rn<60;rn+=this.timePickerIncrement){var hn=rn<10?"0"+rn:rn,ln=jr.clone().minute(rn),dn=!1;Ur&&ln.second(59).isBefore(Ur)&&(dn=!0),Gr&&ln.second(0).isAfter(Gr)&&(dn=!0),jr.minute()==rn&&!dn?zr+='<option value="'+rn+'" selected="selected">'+hn+"</option>":dn?zr+='<option value="'+rn+'" disabled="disabled" class="disabled">'+hn+"</option>":zr+='<option value="'+rn+'">'+hn+"</option>"}if(zr+="</select> ",this.timePickerSeconds){zr+=': <select class="secondselect">';for(var rn=0;rn<60;rn++){var hn=rn<10?"0"+rn:rn,ln=jr.clone().second(rn),dn=!1;Ur&&ln.isBefore(Ur)&&(dn=!0),Gr&&ln.isAfter(Gr)&&(dn=!0),jr.second()==rn&&!dn?zr+='<option value="'+rn+'" selected="selected">'+hn+"</option>":dn?zr+='<option value="'+rn+'" disabled="disabled" class="disabled">'+hn+"</option>":zr+='<option value="'+rn+'">'+hn+"</option>"}zr+="</select> "}if(!this.timePicker24Hour){zr+='<select class="ampmselect">';var gn="",bn="";Ur&&jr.clone().hour(12).minute(0).second(0).isBefore(Ur)&&(gn=' disabled="disabled" class="disabled"'),Gr&&jr.clone().hour(0).minute(0).second(0).isAfter(Gr)&&(bn=' disabled="disabled" class="disabled"'),jr.hour()>=12?zr+='<option value="AM"'+gn+'>AM</option><option value="PM" selected="selected"'+bn+">PM</option>":zr+='<option value="AM" selected="selected"'+gn+'>AM</option><option value="PM"'+bn+">PM</option>",zr+="</select>"}this.container.find(".drp-calendar."+Fr+" .calendar-time").html(zr)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var Fr={top:0,left:0},zr,jr=this.drops,Ur=$r(window).width();switch(this.parentEl.is("body")||(Fr={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},Ur=this.parentEl[0].clientWidth+this.parentEl.offset().left),jr){case"auto":zr=this.element.offset().top+this.element.outerHeight()-Fr.top,zr+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(zr=this.element.offset().top-this.container.outerHeight()-Fr.top,jr="up");break;case"up":zr=this.element.offset().top-this.container.outerHeight()-Fr.top;break;default:zr=this.element.offset().top+this.element.outerHeight()-Fr.top;break}this.container.css({top:0,left:0,right:"auto"});var Gr=this.container.outerWidth();if(this.container.toggleClass("drop-up",jr=="up"),this.opens=="left"){var Yr=Ur-this.element.offset().left-this.element.outerWidth();Gr+Yr>$r(window).width()?this.container.css({top:zr,right:"auto",left:9}):this.container.css({top:zr,right:Yr,left:"auto"})}else if(this.opens=="center"){var Kr=this.element.offset().left-Fr.left+this.element.outerWidth()/2-Gr/2;Kr<0?this.container.css({top:zr,right:"auto",left:9}):Kr+Gr>$r(window).width()?this.container.css({top:zr,left:"auto",right:0}):this.container.css({top:zr,left:Kr,right:"auto"})}else{var Kr=this.element.offset().left-Fr.left;Kr+Gr>$r(window).width()?this.container.css({top:zr,left:"auto",right:0}):this.container.css({top:zr,left:Kr,right:"auto"})}},show:function(Fr){this.isShowing||(this._outsideClickProxy=$r.proxy(function(zr){this.outsideClick(zr)},this),$r(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),$r(window).on("resize.daterangepicker",$r.proxy(function(zr){this.move(zr)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(Fr){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),$r(document).off(".daterangepicker"),$r(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(Fr){this.isShowing?this.hide():this.show()},outsideClick:function(Fr){var zr=$r(Fr.target);Fr.type=="focusin"||zr.closest(this.element).length||zr.closest(this.container).length||zr.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(Fr){var zr=Fr.target.getAttribute("data-range-key");if(this.chosenLabel=zr,zr==this.locale.customRangeLabel)this.showCalendars();else{var jr=this.ranges[zr];this.startDate=jr[0],this.endDate=jr[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(Fr){var zr=$r(Fr.target).parents(".drp-calendar");zr.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(Fr){var zr=$r(Fr.target).parents(".drp-calendar");zr.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(Fr){if($r(Fr.target).hasClass("available")){var zr=$r(Fr.target).attr("data-title"),jr=zr.substr(1,1),Ur=zr.substr(3,1),Gr=$r(Fr.target).parents(".drp-calendar"),Yr=Gr.hasClass("left")?this.leftCalendar.calendar[jr][Ur]:this.rightCalendar.calendar[jr][Ur],Kr=this.leftCalendar,Qr=this.rightCalendar,Jr=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(rn,an){if(!$r(an).hasClass("week")){var ln=$r(an).attr("data-title"),dn=ln.substr(1,1),hn=ln.substr(3,1),gn=$r(an).parents(".drp-calendar"),bn=gn.hasClass("left")?Kr.calendar[dn][hn]:Qr.calendar[dn][hn];bn.isAfter(Jr)&&bn.isBefore(Yr)||bn.isSame(Yr,"day")?$r(an).addClass("in-range"):$r(an).removeClass("in-range")}})}},clickDate:function(Fr){if($r(Fr.target).hasClass("available")){var zr=$r(Fr.target).attr("data-title"),jr=zr.substr(1,1),Ur=zr.substr(3,1),Gr=$r(Fr.target).parents(".drp-calendar"),Yr=Gr.hasClass("left")?this.leftCalendar.calendar[jr][Ur]:this.rightCalendar.calendar[jr][Ur];if(this.endDate||Yr.isBefore(this.startDate,"day")){if(this.timePicker){var Kr=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var Qr=this.container.find(".left .ampmselect").val();Qr==="PM"&&Kr<12&&(Kr+=12),Qr==="AM"&&Kr===12&&(Kr=0)}var Jr=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(Jr)&&(Jr=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var rn=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;Yr=Yr.clone().hour(Kr).minute(Jr).second(rn)}this.endDate=null,this.setStartDate(Yr.clone())}else if(!this.endDate&&Yr.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var Kr=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var Qr=this.container.find(".right .ampmselect").val();Qr==="PM"&&Kr<12&&(Kr+=12),Qr==="AM"&&Kr===12&&(Kr=0)}var Jr=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(Jr)&&(Jr=parseInt(this.container.find(".right .minuteselect option:last").val(),10));var rn=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;Yr=Yr.clone().hour(Kr).minute(Jr).second(rn)}this.setEndDate(Yr.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),Fr.stopPropagation()}},calculateChosenLabel:function(){var Fr=!0,zr=0;for(var jr in this.ranges){if(this.timePicker){var Ur=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(Ur)==this.ranges[jr][0].format(Ur)&&this.endDate.format(Ur)==this.ranges[jr][1].format(Ur)){Fr=!1,this.chosenLabel=this.container.find(".ranges li:eq("+zr+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[jr][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[jr][1].format("YYYY-MM-DD")){Fr=!1,this.chosenLabel=this.container.find(".ranges li:eq("+zr+")").addClass("active").attr("data-range-key");break}zr++}Fr&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(Fr){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(Fr){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(Fr){var zr=$r(Fr.target).closest(".drp-calendar").hasClass("left"),jr=zr?"left":"right",Ur=this.container.find(".drp-calendar."+jr),Gr=parseInt(Ur.find(".monthselect").val(),10),Yr=Ur.find(".yearselect").val();zr||(Yr<this.startDate.year()||Yr==this.startDate.year()&&Gr<this.startDate.month())&&(Gr=this.startDate.month(),Yr=this.startDate.year()),this.minDate&&(Yr<this.minDate.year()||Yr==this.minDate.year()&&Gr<this.minDate.month())&&(Gr=this.minDate.month(),Yr=this.minDate.year()),this.maxDate&&(Yr>this.maxDate.year()||Yr==this.maxDate.year()&&Gr>this.maxDate.month())&&(Gr=this.maxDate.month(),Yr=this.maxDate.year()),zr?(this.leftCalendar.month.month(Gr).year(Yr),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(Gr).year(Yr),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(Fr){var zr=$r(Fr.target).closest(".drp-calendar"),jr=zr.hasClass("left"),Ur=parseInt(zr.find(".hourselect").val(),10),Gr=parseInt(zr.find(".minuteselect").val(),10);isNaN(Gr)&&(Gr=parseInt(zr.find(".minuteselect option:last").val(),10));var Yr=this.timePickerSeconds?parseInt(zr.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var Kr=zr.find(".ampmselect").val();Kr==="PM"&&Ur<12&&(Ur+=12),Kr==="AM"&&Ur===12&&(Ur=0)}if(jr){var Qr=this.startDate.clone();Qr.hour(Ur),Qr.minute(Gr),Qr.second(Yr),this.setStartDate(Qr),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==Qr.format("YYYY-MM-DD")&&this.endDate.isBefore(Qr)&&this.setEndDate(Qr.clone())}else if(this.endDate){var Jr=this.endDate.clone();Jr.hour(Ur),Jr.minute(Gr),Jr.second(Yr),this.setEndDate(Jr)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var Fr=this.element.val().split(this.locale.separator),zr=null,jr=null;Fr.length===2&&(zr=_r(Fr[0],this.locale.format),jr=_r(Fr[1],this.locale.format)),(this.singleDatePicker||zr===null||jr===null)&&(zr=_r(this.element.val(),this.locale.format),jr=zr),!(!zr.isValid()||!jr.isValid())&&(this.setStartDate(zr),this.setEndDate(jr),this.updateView())}},keydown:function(Fr){(Fr.keyCode===9||Fr.keyCode===13)&&this.hide(),Fr.keyCode===27&&(Fr.preventDefault(),Fr.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var Fr=this.startDate.format(this.locale.format);this.singleDatePicker||(Fr+=this.locale.separator+this.endDate.format(this.locale.format)),Fr!==this.element.val()&&this.element.val(Fr).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},$r.fn.daterangepicker=function(Fr,zr){var jr=$r.extend(!0,{},$r.fn.daterangepicker.defaultOptions,Fr);return this.each(function(){var Ur=$r(this);Ur.data("daterangepicker")&&Ur.data("daterangepicker").remove(),Ur.data("daterangepicker",new Br(Ur,jr,zr))}),this},Br})})(daterangepicker$1);var daterangepickerExports=daterangepicker$1.exports;const daterangepicker=getDefaultExportFromCjs(daterangepickerExports);var codemirror={exports:{}};(function(Fe,_r){(function($r,Br){Fe.exports=Br()})(commonjsGlobal,function(){var $r=navigator.userAgent,Br=navigator.platform,Fr=/gecko\/\d/i.test($r),zr=/MSIE \d/.test($r),jr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($r),Ur=/Edge\/(\d+)/.exec($r),Gr=zr||jr||Ur,Yr=Gr&&(zr?document.documentMode||6:+(Ur||jr)[1]),Kr=!Ur&&/WebKit\//.test($r),Qr=Kr&&/Qt\/\d+\.\d+/.test($r),Jr=!Ur&&/Chrome\/(\d+)/.exec($r),rn=Jr&&+Jr[1],an=/Opera\//.test($r),ln=/Apple Computer/.test(navigator.vendor),dn=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test($r),hn=/PhantomJS/.test($r),gn=ln&&(/Mobile\/\w+/.test($r)||navigator.maxTouchPoints>2),bn=/Android/.test($r),kn=gn||bn||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test($r),Sn=gn||/Mac/.test(Br),_n=/\bCrOS\b/.test($r),pn=/win/i.test(Br),Cn=an&&$r.match(/Version\/(\d*\.\d*)/);Cn&&(Cn=Number(Cn[1])),Cn&&Cn>=15&&(an=!1,Kr=!0);var En=Sn&&(Qr||an&&(Cn==null||Cn<12.11)),Pn=Fr||Gr&&Yr>=9;function On(nn){return new RegExp("(^|\\s)"+nn+"(?:$|\\s)\\s*")}var jn=function(nn,cn){var vn=nn.className,mn=On(cn).exec(vn);if(mn){var wn=vn.slice(mn.index+mn[0].length);nn.className=vn.slice(0,mn.index)+(wn?mn[1]+wn:"")}};function Fn(nn){for(var cn=nn.childNodes.length;cn>0;--cn)nn.removeChild(nn.firstChild);return nn}function Wn(nn,cn){return Fn(nn).appendChild(cn)}function Hn(nn,cn,vn,mn){var wn=document.createElement(nn);if(vn&&(wn.className=vn),mn&&(wn.style.cssText=mn),typeof cn=="string")wn.appendChild(document.createTextNode(cn));else if(cn)for(var In=0;In<cn.length;++In)wn.appendChild(cn[In]);return wn}function qn(nn,cn,vn,mn){var wn=Hn(nn,cn,vn,mn);return wn.setAttribute("role","presentation"),wn}var ni;document.createRange?ni=function(nn,cn,vn,mn){var wn=document.createRange();return wn.setEnd(mn||nn,vn),wn.setStart(nn,cn),wn}:ni=function(nn,cn,vn){var mn=document.body.createTextRange();try{mn.moveToElementText(nn.parentNode)}catch{return mn}return mn.collapse(!0),mn.moveEnd("character",vn),mn.moveStart("character",cn),mn};function oi(nn,cn){if(cn.nodeType==3&&(cn=cn.parentNode),nn.contains)return nn.contains(cn);do if(cn.nodeType==11&&(cn=cn.host),cn==nn)return!0;while(cn=cn.parentNode)}function wi(nn){var cn;try{cn=nn.activeElement}catch{cn=nn.body||null}for(;cn&&cn.shadowRoot&&cn.shadowRoot.activeElement;)cn=cn.shadowRoot.activeElement;return cn}function Ci(nn,cn){var vn=nn.className;On(cn).test(vn)||(nn.className+=(vn?" ":"")+cn)}function Fi(nn,cn){for(var vn=nn.split(" "),mn=0;mn<vn.length;mn++)vn[mn]&&!On(vn[mn]).test(cn)&&(cn+=" "+vn[mn]);return cn}var Zn=function(nn){nn.select()};gn?Zn=function(nn){nn.selectionStart=0,nn.selectionEnd=nn.value.length}:Gr&&(Zn=function(nn){try{nn.select()}catch{}});function Gn(nn){return nn.display.wrapper.ownerDocument}function ui(nn){return Gn(nn).defaultView}function Ni(nn){var cn=Array.prototype.slice.call(arguments,1);return function(){return nn.apply(null,cn)}}function $i(nn,cn,vn){cn||(cn={});for(var mn in nn)nn.hasOwnProperty(mn)&&(vn!==!1||!cn.hasOwnProperty(mn))&&(cn[mn]=nn[mn]);return cn}function Vi(nn,cn,vn,mn,wn){cn==null&&(cn=nn.search(/[^\s\u00a0]/),cn==-1&&(cn=nn.length));for(var In=mn||0,Nn=wn||0;;){var Vn=nn.indexOf("	",In);if(Vn<0||Vn>=cn)return Nn+(cn-In);Nn+=Vn-In,Nn+=vn-Nn%vn,In=Vn+1}}var ji=function(){this.id=null,this.f=null,this.time=0,this.handler=Ni(this.onTimeout,this)};ji.prototype.onTimeout=function(nn){nn.id=0,nn.time<=+new Date?nn.f():setTimeout(nn.handler,nn.time-+new Date)},ji.prototype.set=function(nn,cn){this.f=cn;var vn=+new Date+nn;(!this.id||vn<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,nn),this.time=vn)};function lo(nn,cn){for(var vn=0;vn<nn.length;++vn)if(nn[vn]==cn)return vn;return-1}var ho=50,so={toString:function(){return"CodeMirror.Pass"}},Ki={scroll:!1},Ho={origin:"*mouse"},Io={origin:"+move"};function Ji(nn,cn,vn){for(var mn=0,wn=0;;){var In=nn.indexOf("	",mn);In==-1&&(In=nn.length);var Nn=In-mn;if(In==nn.length||wn+Nn>=cn)return mn+Math.min(Nn,cn-wn);if(wn+=In-mn,wn+=vn-wn%vn,mn=In+1,wn>=cn)return mn}}var Yo=[""];function qo(nn){for(;Yo.length<=nn;)Yo.push(xo(Yo)+" ");return Yo[nn]}function xo(nn){return nn[nn.length-1]}function ka(nn,cn){for(var vn=[],mn=0;mn<nn.length;mn++)vn[mn]=cn(nn[mn],mn);return vn}function Ua(nn,cn,vn){for(var mn=0,wn=vn(cn);mn<nn.length&&vn(nn[mn])<=wn;)mn++;nn.splice(mn,0,cn)}function $a(){}function Ya(nn,cn){var vn;return Object.create?vn=Object.create(nn):($a.prototype=nn,vn=new $a),cn&&$i(cn,vn),vn}var Aa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ei(nn){return/\w/.test(nn)||nn>"Â"&&(nn.toUpperCase()!=nn.toLowerCase()||Aa.test(nn))}function hi(nn,cn){return cn?cn.source.indexOf("\\w")>-1&&Ei(nn)?!0:cn.test(nn):Ei(nn)}function Ai(nn){for(var cn in nn)if(nn.hasOwnProperty(cn)&&nn[cn])return!1;return!0}var ri=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ai(nn){return nn.charCodeAt(0)>=768&&ri.test(nn)}function _i(nn,cn,vn){for(;(vn<0?cn>0:cn<nn.length)&&ai(nn.charAt(cn));)cn+=vn;return cn}function pi(nn,cn,vn){for(var mn=cn>vn?-1:1;;){if(cn==vn)return cn;var wn=(cn+vn)/2,In=mn<0?Math.ceil(wn):Math.floor(wn);if(In==cn)return nn(In)?cn:vn;nn(In)?vn=In:cn=In+mn}}function xi(nn,cn,vn,mn){if(!nn)return mn(cn,vn,"ltr",0);for(var wn=!1,In=0;In<nn.length;++In){var Nn=nn[In];(Nn.from<vn&&Nn.to>cn||cn==vn&&Nn.to==cn)&&(mn(Math.max(Nn.from,cn),Math.min(Nn.to,vn),Nn.level==1?"rtl":"ltr",In),wn=!0)}wn||mn(cn,vn,"ltr")}var co=null;function go(nn,cn,vn){var mn;co=null;for(var wn=0;wn<nn.length;++wn){var In=nn[wn];if(In.from<cn&&In.to>cn)return wn;In.to==cn&&(In.from!=In.to&&vn=="before"?mn=wn:co=wn),In.from==cn&&(In.from!=In.to&&vn!="before"?mn=wn:co=wn)}return mn??co}var uo=function(){var nn="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",cn="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function vn(Jn){return Jn<=247?nn.charAt(Jn):1424<=Jn&&Jn<=1524?"R":1536<=Jn&&Jn<=1785?cn.charAt(Jn-1536):1774<=Jn&&Jn<=2220?"r":8192<=Jn&&Jn<=8203?"w":Jn==8204?"b":"L"}var mn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,wn=/[stwN]/,In=/[LRr]/,Nn=/[Lb1n]/,Vn=/[1n]/;function Yn(Jn,ci,vi){this.level=Jn,this.from=ci,this.to=vi}return function(Jn,ci){var vi=ci=="ltr"?"L":"R";if(Jn.length==0||ci=="ltr"&&!mn.test(Jn))return!1;for(var Oi=Jn.length,Di=[],Gi=0;Gi<Oi;++Gi)Di.push(vn(Jn.charCodeAt(Gi)));for(var ao=0,mo=vi;ao<Oi;++ao){var So=Di[ao];So=="m"?Di[ao]=mo:mo=So}for(var Oo=0,wo=vi;Oo<Oi;++Oo){var zo=Di[Oo];zo=="1"&&wo=="r"?Di[Oo]="n":In.test(zo)&&(wo=zo,zo=="r"&&(Di[Oo]="R"))}for(var ra=1,Wo=Di[0];ra<Oi-1;++ra){var ja=Di[ra];ja=="+"&&Wo=="1"&&Di[ra+1]=="1"?Di[ra]="1":ja==","&&Wo==Di[ra+1]&&(Wo=="1"||Wo=="n")&&(Di[ra]=Wo),Wo=ja}for(var Es=0;Es<Oi;++Es){var Tl=Di[Es];if(Tl==",")Di[Es]="N";else if(Tl=="%"){var Qs=void 0;for(Qs=Es+1;Qs<Oi&&Di[Qs]=="%";++Qs);for(var yc=Es&&Di[Es-1]=="!"||Qs<Oi&&Di[Qs]=="1"?"1":"N",sc=Es;sc<Qs;++sc)Di[sc]=yc;Es=Qs-1}}for(var fl=0,lc=vi;fl<Oi;++fl){var zl=Di[fl];lc=="L"&&zl=="1"?Di[fl]="L":In.test(zl)&&(lc=zl)}for(var wl=0;wl<Oi;++wl)if(wn.test(Di[wl])){var ll=void 0;for(ll=wl+1;ll<Oi&&wn.test(Di[ll]);++ll);for(var il=(wl?Di[wl-1]:vi)=="L",cc=(ll<Oi?Di[ll]:vi)=="L",cu=il==cc?il?"L":"R":vi,Wu=wl;Wu<ll;++Wu)Di[Wu]=cu;wl=ll-1}for(var Wl=[],uu,cl=0;cl<Oi;)if(Nn.test(Di[cl])){var Uf=cl;for(++cl;cl<Oi&&Nn.test(Di[cl]);++cl);Wl.push(new Yn(0,Uf,cl))}else{var xu=cl,pd=Wl.length,Yu=ci=="rtl"?1:0;for(++cl;cl<Oi&&Di[cl]!="L";++cl);for(var Jl=xu;Jl<cl;)if(Vn.test(Di[Jl])){xu<Jl&&(Wl.splice(pd,0,new Yn(1,xu,Jl)),pd+=Yu);var Od=Jl;for(++Jl;Jl<cl&&Vn.test(Di[Jl]);++Jl);Wl.splice(pd,0,new Yn(2,Od,Jl)),pd+=Yu,xu=Jl}else++Jl;xu<cl&&Wl.splice(pd,0,new Yn(1,xu,cl))}return ci=="ltr"&&(Wl[0].level==1&&(uu=Jn.match(/^\s+/))&&(Wl[0].from=uu[0].length,Wl.unshift(new Yn(0,0,uu[0].length))),xo(Wl).level==1&&(uu=Jn.match(/\s+$/))&&(xo(Wl).to-=uu[0].length,Wl.push(new Yn(0,Oi-uu[0].length,Oi)))),ci=="rtl"?Wl.reverse():Wl}}();function To(nn,cn){var vn=nn.order;return vn==null&&(vn=nn.order=uo(nn.text,cn)),vn}var Qo=[],Ui=function(nn,cn,vn){if(nn.addEventListener)nn.addEventListener(cn,vn,!1);else if(nn.attachEvent)nn.attachEvent("on"+cn,vn);else{var mn=nn._handlers||(nn._handlers={});mn[cn]=(mn[cn]||Qo).concat(vn)}};function Lo(nn,cn){return nn._handlers&&nn._handlers[cn]||Qo}function oo(nn,cn,vn){if(nn.removeEventListener)nn.removeEventListener(cn,vn,!1);else if(nn.detachEvent)nn.detachEvent("on"+cn,vn);else{var mn=nn._handlers,wn=mn&&mn[cn];if(wn){var In=lo(wn,vn);In>-1&&(mn[cn]=wn.slice(0,In).concat(wn.slice(In+1)))}}}function na(nn,cn){var vn=Lo(nn,cn);if(vn.length)for(var mn=Array.prototype.slice.call(arguments,2),wn=0;wn<vn.length;++wn)vn[wn].apply(null,mn)}function fa(nn,cn,vn){return typeof cn=="string"&&(cn={type:cn,preventDefault:function(){this.defaultPrevented=!0}}),na(nn,vn||cn.type,nn,cn),Zs(cn)||cn.codemirrorIgnore}function Ms(nn){var cn=nn._handlers&&nn._handlers.cursorActivity;if(cn)for(var vn=nn.curOp.cursorActivityHandlers||(nn.curOp.cursorActivityHandlers=[]),mn=0;mn<cn.length;++mn)lo(vn,cn[mn])==-1&&vn.push(cn[mn])}function aa(nn,cn){return Lo(nn,cn).length>0}function os(nn){nn.prototype.on=function(cn,vn){Ui(this,cn,vn)},nn.prototype.off=function(cn,vn){oo(this,cn,vn)}}function Na(nn){nn.preventDefault?nn.preventDefault():nn.returnValue=!1}function As(nn){nn.stopPropagation?nn.stopPropagation():nn.cancelBubble=!0}function Zs(nn){return nn.defaultPrevented!=null?nn.defaultPrevented:nn.returnValue==!1}function gl(nn){Na(nn),As(nn)}function us(nn){return nn.target||nn.srcElement}function jl(nn){var cn=nn.which;return cn==null&&(nn.button&1?cn=1:nn.button&2?cn=3:nn.button&4&&(cn=2)),Sn&&nn.ctrlKey&&cn==1&&(cn=3),cn}var ml=function(){if(Gr&&Yr<9)return!1;var nn=Hn("div");return"draggable"in nn||"dragDrop"in nn}(),hs;function Ti(nn){if(hs==null){var cn=Hn("span","â");Wn(nn,Hn("span",[cn,document.createTextNode("x")])),nn.firstChild.offsetHeight!=0&&(hs=cn.offsetWidth<=1&&cn.offsetHeight>2&&!(Gr&&Yr<8))}var vn=hs?Hn("span","â"):Hn("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return vn.setAttribute("cm-text",""),vn}var Pi;function Zi(nn){if(Pi!=null)return Pi;var cn=Wn(nn,document.createTextNode("AØ®A")),vn=ni(cn,0,1).getBoundingClientRect(),mn=ni(cn,1,2).getBoundingClientRect();return Fn(nn),!vn||vn.left==vn.right?!1:Pi=mn.right-vn.right<3}var bo=`

b`.split(/\n/).length!=3?function(nn){for(var cn=0,vn=[],mn=nn.length;cn<=mn;){var wn=nn.indexOf(`
`,cn);wn==-1&&(wn=nn.length);var In=nn.slice(cn,nn.charAt(wn-1)=="\r"?wn-1:wn),Nn=In.indexOf("\r");Nn!=-1?(vn.push(In.slice(0,Nn)),cn+=Nn+1):(vn.push(In),cn=wn+1)}return vn}:function(nn){return nn.split(/\r\n?|\n/)},Uo=window.getSelection?function(nn){try{return nn.selectionStart!=nn.selectionEnd}catch{return!1}}:function(nn){var cn;try{cn=nn.ownerDocument.selection.createRange()}catch{}return!cn||cn.parentElement()!=nn?!1:cn.compareEndPoints("StartToEnd",cn)!=0},Do=function(){var nn=Hn("div");return"oncopy"in nn?!0:(nn.setAttribute("oncopy","return;"),typeof nn.oncopy=="function")}(),ko=null;function La(nn){if(ko!=null)return ko;var cn=Wn(nn,Hn("span","x")),vn=cn.getBoundingClientRect(),mn=ni(cn,0,1).getBoundingClientRect();return ko=Math.abs(vn.left-mn.left)>1}var sa={},Ro={};function ya(nn,cn){arguments.length>2&&(cn.dependencies=Array.prototype.slice.call(arguments,2)),sa[nn]=cn}function Ha(nn,cn){Ro[nn]=cn}function ss(nn){if(typeof nn=="string"&&Ro.hasOwnProperty(nn))nn=Ro[nn];else if(nn&&typeof nn.name=="string"&&Ro.hasOwnProperty(nn.name)){var cn=Ro[nn.name];typeof cn=="string"&&(cn={name:cn}),nn=Ya(cn,nn),nn.name=cn.name}else{if(typeof nn=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(nn))return ss("application/xml");if(typeof nn=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(nn))return ss("application/json")}return typeof nn=="string"?{name:nn}:nn||{name:"null"}}function Ba(nn,cn){cn=ss(cn);var vn=sa[cn.name];if(!vn)return Ba(nn,"text/plain");var mn=vn(nn,cn);if(qa.hasOwnProperty(cn.name)){var wn=qa[cn.name];for(var In in wn)wn.hasOwnProperty(In)&&(mn.hasOwnProperty(In)&&(mn["_"+In]=mn[In]),mn[In]=wn[In])}if(mn.name=cn.name,cn.helperType&&(mn.helperType=cn.helperType),cn.modeProps)for(var Nn in cn.modeProps)mn[Nn]=cn.modeProps[Nn];return mn}var qa={};function la(nn,cn){var vn=qa.hasOwnProperty(nn)?qa[nn]:qa[nn]={};$i(cn,vn)}function Jo(nn,cn){if(cn===!0)return cn;if(nn.copyState)return nn.copyState(cn);var vn={};for(var mn in cn){var wn=cn[mn];wn instanceof Array&&(wn=wn.concat([])),vn[mn]=wn}return vn}function ia(nn,cn){for(var vn;nn.innerMode&&(vn=nn.innerMode(cn),!(!vn||vn.mode==nn));)cn=vn.state,nn=vn.mode;return vn||{mode:nn,state:cn}}function ea(nn,cn,vn){return nn.startState?nn.startState(cn,vn):!0}var $o=function(nn,cn,vn){this.pos=this.start=0,this.string=nn,this.tabSize=cn||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=vn};$o.prototype.eol=function(){return this.pos>=this.string.length},$o.prototype.sol=function(){return this.pos==this.lineStart},$o.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},$o.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},$o.prototype.eat=function(nn){var cn=this.string.charAt(this.pos),vn;if(typeof nn=="string"?vn=cn==nn:vn=cn&&(nn.test?nn.test(cn):nn(cn)),vn)return++this.pos,cn},$o.prototype.eatWhile=function(nn){for(var cn=this.pos;this.eat(nn););return this.pos>cn},$o.prototype.eatSpace=function(){for(var nn=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>nn},$o.prototype.skipToEnd=function(){this.pos=this.string.length},$o.prototype.skipTo=function(nn){var cn=this.string.indexOf(nn,this.pos);if(cn>-1)return this.pos=cn,!0},$o.prototype.backUp=function(nn){this.pos-=nn},$o.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Vi(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Vi(this.string,this.lineStart,this.tabSize):0)},$o.prototype.indentation=function(){return Vi(this.string,null,this.tabSize)-(this.lineStart?Vi(this.string,this.lineStart,this.tabSize):0)},$o.prototype.match=function(nn,cn,vn){if(typeof nn=="string"){var mn=function(Nn){return vn?Nn.toLowerCase():Nn},wn=this.string.substr(this.pos,nn.length);if(mn(wn)==mn(nn))return cn!==!1&&(this.pos+=nn.length),!0}else{var In=this.string.slice(this.pos).match(nn);return In&&In.index>0?null:(In&&cn!==!1&&(this.pos+=In[0].length),In)}},$o.prototype.current=function(){return this.string.slice(this.start,this.pos)},$o.prototype.hideFirstChars=function(nn,cn){this.lineStart+=nn;try{return cn()}finally{this.lineStart-=nn}},$o.prototype.lookAhead=function(nn){var cn=this.lineOracle;return cn&&cn.lookAhead(nn)},$o.prototype.baseToken=function(){var nn=this.lineOracle;return nn&&nn.baseToken(this.pos)};function bi(nn,cn){if(cn-=nn.first,cn<0||cn>=nn.size)throw new Error("There is no line "+(cn+nn.first)+" in the document.");for(var vn=nn;!vn.lines;)for(var mn=0;;++mn){var wn=vn.children[mn],In=wn.chunkSize();if(cn<In){vn=wn;break}cn-=In}return vn.lines[cn]}function ms(nn,cn,vn){var mn=[],wn=cn.line;return nn.iter(cn.line,vn.line+1,function(In){var Nn=In.text;wn==vn.line&&(Nn=Nn.slice(0,vn.ch)),wn==cn.line&&(Nn=Nn.slice(cn.ch)),mn.push(Nn),++wn}),mn}function ha(nn,cn,vn){var mn=[];return nn.iter(cn,vn,function(wn){mn.push(wn.text)}),mn}function Bs(nn,cn){var vn=cn-nn.height;if(vn)for(var mn=nn;mn;mn=mn.parent)mn.height+=vn}function Ca(nn){if(nn.parent==null)return null;for(var cn=nn.parent,vn=lo(cn.lines,nn),mn=cn.parent;mn;cn=mn,mn=mn.parent)for(var wn=0;mn.children[wn]!=cn;++wn)vn+=mn.children[wn].chunkSize();return vn+cn.first}function Fs(nn,cn){var vn=nn.first;e:do{for(var mn=0;mn<nn.children.length;++mn){var wn=nn.children[mn],In=wn.height;if(cn<In){nn=wn;continue e}cn-=In,vn+=wn.chunkSize()}return vn}while(!nn.lines);for(var Nn=0;Nn<nn.lines.length;++Nn){var Vn=nn.lines[Nn],Yn=Vn.height;if(cn<Yn)break;cn-=Yn}return vn+Nn}function Js(nn,cn){return cn>=nn.first&&cn<nn.first+nn.size}function ul(nn,cn){return String(nn.lineNumberFormatter(cn+nn.firstLineNumber))}function ro(nn,cn,vn){if(vn===void 0&&(vn=null),!(this instanceof ro))return new ro(nn,cn,vn);this.line=nn,this.ch=cn,this.sticky=vn}function Ko(nn,cn){return nn.line-cn.line||nn.ch-cn.ch}function fs(nn,cn){return nn.sticky==cn.sticky&&Ko(nn,cn)==0}function vl(nn){return ro(nn.line,nn.ch)}function gi(nn,cn){return Ko(nn,cn)<0?cn:nn}function li(nn,cn){return Ko(nn,cn)<0?nn:cn}function Mi(nn,cn){return Math.max(nn.first,Math.min(cn,nn.first+nn.size-1))}function Ri(nn,cn){if(cn.line<nn.first)return ro(nn.first,0);var vn=nn.first+nn.size-1;return cn.line>vn?ro(vn,bi(nn,vn).text.length):no(cn,bi(nn,cn.line).text.length)}function no(nn,cn){var vn=nn.ch;return vn==null||vn>cn?ro(nn.line,cn):vn<0?ro(nn.line,0):nn}function _o(nn,cn){for(var vn=[],mn=0;mn<cn.length;mn++)vn[mn]=Ri(nn,cn[mn]);return vn}var Mo=function(nn,cn){this.state=nn,this.lookAhead=cn},vo=function(nn,cn,vn,mn){this.state=cn,this.doc=nn,this.line=vn,this.maxLookAhead=mn||0,this.baseTokens=null,this.baseTokenPos=1};vo.prototype.lookAhead=function(nn){var cn=this.doc.getLine(this.line+nn);return cn!=null&&nn>this.maxLookAhead&&(this.maxLookAhead=nn),cn},vo.prototype.baseToken=function(nn){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=nn;)this.baseTokenPos+=2;var cn=this.baseTokens[this.baseTokenPos+1];return{type:cn&&cn.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-nn}},vo.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vo.fromSaved=function(nn,cn,vn){return cn instanceof Mo?new vo(nn,Jo(nn.mode,cn.state),vn,cn.lookAhead):new vo(nn,Jo(nn.mode,cn),vn)},vo.prototype.save=function(nn){var cn=nn!==!1?Jo(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Mo(cn,this.maxLookAhead):cn};function jo(nn,cn,vn,mn){var wn=[nn.state.modeGen],In={};Cs(nn,cn.text,nn.doc.mode,vn,function(Jn,ci){return wn.push(Jn,ci)},In,mn);for(var Nn=vn.state,Vn=function(Jn){vn.baseTokens=wn;var ci=nn.state.overlays[Jn],vi=1,Oi=0;vn.state=!0,Cs(nn,cn.text,ci.mode,vn,function(Di,Gi){for(var ao=vi;Oi<Di;){var mo=wn[vi];mo>Di&&wn.splice(vi,1,Di,wn[vi+1],mo),vi+=2,Oi=Math.min(Di,mo)}if(Gi)if(ci.opaque)wn.splice(ao,vi-ao,Di,"overlay "+Gi),vi=ao+2;else for(;ao<vi;ao+=2){var So=wn[ao+1];wn[ao+1]=(So?So+" ":"")+"overlay "+Gi}},In),vn.state=Nn,vn.baseTokens=null,vn.baseTokenPos=1},Yn=0;Yn<nn.state.overlays.length;++Yn)Vn(Yn);return{styles:wn,classes:In.bgClass||In.textClass?In:null}}function Zo(nn,cn,vn){if(!cn.styles||cn.styles[0]!=nn.state.modeGen){var mn=Po(nn,Ca(cn)),wn=cn.text.length>nn.options.maxHighlightLength&&Jo(nn.doc.mode,mn.state),In=jo(nn,cn,mn);wn&&(mn.state=wn),cn.stateAfter=mn.save(!wn),cn.styles=In.styles,In.classes?cn.styleClasses=In.classes:cn.styleClasses&&(cn.styleClasses=null),vn===nn.doc.highlightFrontier&&(nn.doc.modeFrontier=Math.max(nn.doc.modeFrontier,++nn.doc.highlightFrontier))}return cn.styles}function Po(nn,cn,vn){var mn=nn.doc,wn=nn.display;if(!mn.mode.startState)return new vo(mn,!0,cn);var In=Ka(nn,cn,vn),Nn=In>mn.first&&bi(mn,In-1).stateAfter,Vn=Nn?vo.fromSaved(mn,Nn,In):new vo(mn,ea(mn.mode),In);return mn.iter(In,cn,function(Yn){xa(nn,Yn.text,Vn);var Jn=Vn.line;Yn.stateAfter=Jn==cn-1||Jn%5==0||Jn>=wn.viewFrom&&Jn<wn.viewTo?Vn.save():null,Vn.nextLine()}),vn&&(mn.modeFrontier=Vn.line),Vn}function xa(nn,cn,vn,mn){var wn=nn.doc.mode,In=new $o(cn,nn.options.tabSize,vn);for(In.start=In.pos=mn||0,cn==""&&es(wn,vn.state);!In.eol();)Fa(wn,In,vn.state),In.start=In.pos}function es(nn,cn){if(nn.blankLine)return nn.blankLine(cn);if(nn.innerMode){var vn=ia(nn,cn);if(vn.mode.blankLine)return vn.mode.blankLine(vn.state)}}function Fa(nn,cn,vn,mn){for(var wn=0;wn<10;wn++){mn&&(mn[0]=ia(nn,vn).mode);var In=nn.token(cn,vn);if(cn.pos>cn.start)return In}throw new Error("Mode "+nn.name+" failed to advance stream.")}var ga=function(nn,cn,vn){this.start=nn.start,this.end=nn.pos,this.string=nn.current(),this.type=cn||null,this.state=vn};function Da(nn,cn,vn,mn){var wn=nn.doc,In=wn.mode,Nn;cn=Ri(wn,cn);var Vn=bi(wn,cn.line),Yn=Po(nn,cn.line,vn),Jn=new $o(Vn.text,nn.options.tabSize,Yn),ci;for(mn&&(ci=[]);(mn||Jn.pos<cn.ch)&&!Jn.eol();)Jn.start=Jn.pos,Nn=Fa(In,Jn,Yn.state),mn&&ci.push(new ga(Jn,Nn,Jo(wn.mode,Yn.state)));return mn?ci:new ga(Jn,Nn,Yn.state)}function Ea(nn,cn){if(nn)for(;;){var vn=nn.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!vn)break;nn=nn.slice(0,vn.index)+nn.slice(vn.index+vn[0].length);var mn=vn[1]?"bgClass":"textClass";cn[mn]==null?cn[mn]=vn[2]:new RegExp("(?:^|\\s)"+vn[2]+"(?:$|\\s)").test(cn[mn])||(cn[mn]+=" "+vn[2])}return nn}function Cs(nn,cn,vn,mn,wn,In,Nn){var Vn=vn.flattenSpans;Vn==null&&(Vn=nn.options.flattenSpans);var Yn=0,Jn=null,ci=new $o(cn,nn.options.tabSize,mn),vi,Oi=nn.options.addModeClass&&[null];for(cn==""&&Ea(es(vn,mn.state),In);!ci.eol();){if(ci.pos>nn.options.maxHighlightLength?(Vn=!1,Nn&&xa(nn,cn,mn,ci.pos),ci.pos=cn.length,vi=null):vi=Ea(Fa(vn,ci,mn.state,Oi),In),Oi){var Di=Oi[0].name;Di&&(vi="m-"+(vi?Di+" "+vi:Di))}if(!Vn||Jn!=vi){for(;Yn<ci.start;)Yn=Math.min(ci.start,Yn+5e3),wn(Yn,Jn);Jn=vi}ci.start=ci.pos}for(;Yn<ci.pos;){var Gi=Math.min(ci.pos,Yn+5e3);wn(Gi,Jn),Yn=Gi}}function Ka(nn,cn,vn){for(var mn,wn,In=nn.doc,Nn=vn?-1:cn-(nn.doc.mode.innerMode?1e3:100),Vn=cn;Vn>Nn;--Vn){if(Vn<=In.first)return In.first;var Yn=bi(In,Vn-1),Jn=Yn.stateAfter;if(Jn&&(!vn||Vn+(Jn instanceof Mo?Jn.lookAhead:0)<=In.modeFrontier))return Vn;var ci=Vi(Yn.text,null,nn.options.tabSize);(wn==null||mn>ci)&&(wn=Vn-1,mn=ci)}return wn}function vs(nn,cn){if(nn.modeFrontier=Math.min(nn.modeFrontier,cn),!(nn.highlightFrontier<cn-10)){for(var vn=nn.first,mn=cn-1;mn>vn;mn--){var wn=bi(nn,mn).stateAfter;if(wn&&(!(wn instanceof Mo)||mn+wn.lookAhead<cn)){vn=mn+1;break}}nn.highlightFrontier=Math.min(nn.highlightFrontier,vn)}}var da=!1,Pa=!1;function Ta(){da=!0}function _s(){Pa=!0}function ts(nn,cn,vn){this.marker=nn,this.from=cn,this.to=vn}function ps(nn,cn){if(nn)for(var vn=0;vn<nn.length;++vn){var mn=nn[vn];if(mn.marker==cn)return mn}}function Is(nn,cn){for(var vn,mn=0;mn<nn.length;++mn)nn[mn]!=cn&&(vn||(vn=[])).push(nn[mn]);return vn}function xs(nn,cn,vn){var mn=vn&&window.WeakSet&&(vn.markedSpans||(vn.markedSpans=new WeakSet));mn&&nn.markedSpans&&mn.has(nn.markedSpans)?nn.markedSpans.push(cn):(nn.markedSpans=nn.markedSpans?nn.markedSpans.concat([cn]):[cn],mn&&mn.add(nn.markedSpans)),cn.marker.attachLine(nn)}function Cl(nn,cn,vn){var mn;if(nn)for(var wn=0;wn<nn.length;++wn){var In=nn[wn],Nn=In.marker,Vn=In.from==null||(Nn.inclusiveLeft?In.from<=cn:In.from<cn);if(Vn||In.from==cn&&Nn.type=="bookmark"&&(!vn||!In.marker.insertLeft)){var Yn=In.to==null||(Nn.inclusiveRight?In.to>=cn:In.to>cn);(mn||(mn=[])).push(new ts(Nn,In.from,Yn?null:In.to))}}return mn}function ol(nn,cn,vn){var mn;if(nn)for(var wn=0;wn<nn.length;++wn){var In=nn[wn],Nn=In.marker,Vn=In.to==null||(Nn.inclusiveRight?In.to>=cn:In.to>cn);if(Vn||In.from==cn&&Nn.type=="bookmark"&&(!vn||In.marker.insertLeft)){var Yn=In.from==null||(Nn.inclusiveLeft?In.from<=cn:In.from<cn);(mn||(mn=[])).push(new ts(Nn,Yn?null:In.from-cn,In.to==null?null:In.to-cn))}}return mn}function Ll(nn,cn){if(cn.full)return null;var vn=Js(nn,cn.from.line)&&bi(nn,cn.from.line).markedSpans,mn=Js(nn,cn.to.line)&&bi(nn,cn.to.line).markedSpans;if(!vn&&!mn)return null;var wn=cn.from.ch,In=cn.to.ch,Nn=Ko(cn.from,cn.to)==0,Vn=Cl(vn,wn,Nn),Yn=ol(mn,In,Nn),Jn=cn.text.length==1,ci=xo(cn.text).length+(Jn?wn:0);if(Vn)for(var vi=0;vi<Vn.length;++vi){var Oi=Vn[vi];if(Oi.to==null){var Di=ps(Yn,Oi.marker);Di?Jn&&(Oi.to=Di.to==null?null:Di.to+ci):Oi.to=wn}}if(Yn)for(var Gi=0;Gi<Yn.length;++Gi){var ao=Yn[Gi];if(ao.to!=null&&(ao.to+=ci),ao.from==null){var mo=ps(Vn,ao.marker);mo||(ao.from=ci,Jn&&(Vn||(Vn=[])).push(ao))}else ao.from+=ci,Jn&&(Vn||(Vn=[])).push(ao)}Vn&&(Vn=tc(Vn)),Yn&&Yn!=Vn&&(Yn=tc(Yn));var So=[Vn];if(!Jn){var Oo=cn.text.length-2,wo;if(Oo>0&&Vn)for(var zo=0;zo<Vn.length;++zo)Vn[zo].to==null&&(wo||(wo=[])).push(new ts(Vn[zo].marker,null,null));for(var ra=0;ra<Oo;++ra)So.push(wo);So.push(Yn)}return So}function tc(nn){for(var cn=0;cn<nn.length;++cn){var vn=nn[cn];vn.from!=null&&vn.from==vn.to&&vn.marker.clearWhenEmpty!==!1&&nn.splice(cn--,1)}return nn.length?nn:null}function rc(nn,cn,vn){var mn=null;if(nn.iter(cn.line,vn.line+1,function(Di){if(Di.markedSpans)for(var Gi=0;Gi<Di.markedSpans.length;++Gi){var ao=Di.markedSpans[Gi].marker;ao.readOnly&&(!mn||lo(mn,ao)==-1)&&(mn||(mn=[])).push(ao)}}),!mn)return null;for(var wn=[{from:cn,to:vn}],In=0;In<mn.length;++In)for(var Nn=mn[In],Vn=Nn.find(0),Yn=0;Yn<wn.length;++Yn){var Jn=wn[Yn];if(!(Ko(Jn.to,Vn.from)<0||Ko(Jn.from,Vn.to)>0)){var ci=[Yn,1],vi=Ko(Jn.from,Vn.from),Oi=Ko(Jn.to,Vn.to);(vi<0||!Nn.inclusiveLeft&&!vi)&&ci.push({from:Jn.from,to:Vn.from}),(Oi>0||!Nn.inclusiveRight&&!Oi)&&ci.push({from:Vn.to,to:Jn.to}),wn.splice.apply(wn,ci),Yn+=ci.length-3}}return wn}function Ys(nn){var cn=nn.markedSpans;if(cn){for(var vn=0;vn<cn.length;++vn)cn[vn].marker.detachLine(nn);nn.markedSpans=null}}function Dc(nn,cn){if(cn){for(var vn=0;vn<cn.length;++vn)cn[vn].marker.attachLine(nn);nn.markedSpans=cn}}function yl(nn){return nn.inclusiveLeft?-1:0}function xl(nn){return nn.inclusiveRight?1:0}function rs(nn,cn){var vn=nn.lines.length-cn.lines.length;if(vn!=0)return vn;var mn=nn.find(),wn=cn.find(),In=Ko(mn.from,wn.from)||yl(nn)-yl(cn);if(In)return-In;var Nn=Ko(mn.to,wn.to)||xl(nn)-xl(cn);return Nn||cn.id-nn.id}function Wi(nn,cn){var vn=Pa&&nn.markedSpans,mn;if(vn)for(var wn=void 0,In=0;In<vn.length;++In)wn=vn[In],wn.marker.collapsed&&(cn?wn.from:wn.to)==null&&(!mn||rs(mn,wn.marker)<0)&&(mn=wn.marker);return mn}function Vo(nn){return Wi(nn,!0)}function Xo(nn){return Wi(nn,!1)}function ca(nn,cn){var vn=Pa&&nn.markedSpans,mn;if(vn)for(var wn=0;wn<vn.length;++wn){var In=vn[wn];In.marker.collapsed&&(In.from==null||In.from<cn)&&(In.to==null||In.to>cn)&&(!mn||rs(mn,In.marker)<0)&&(mn=In.marker)}return mn}function Ma(nn,cn,vn,mn,wn){var In=bi(nn,cn),Nn=Pa&&In.markedSpans;if(Nn)for(var Vn=0;Vn<Nn.length;++Vn){var Yn=Nn[Vn];if(Yn.marker.collapsed){var Jn=Yn.marker.find(0),ci=Ko(Jn.from,vn)||yl(Yn.marker)-yl(wn),vi=Ko(Jn.to,mn)||xl(Yn.marker)-xl(wn);if(!(ci>=0&&vi<=0||ci<=0&&vi>=0)&&(ci<=0&&(Yn.marker.inclusiveRight&&wn.inclusiveLeft?Ko(Jn.to,vn)>=0:Ko(Jn.to,vn)>0)||ci>=0&&(Yn.marker.inclusiveRight&&wn.inclusiveLeft?Ko(Jn.from,mn)<=0:Ko(Jn.from,mn)<0)))return!0}}}function Za(nn){for(var cn;cn=Vo(nn);)nn=cn.find(-1,!0).line;return nn}function zs(nn){for(var cn;cn=Xo(nn);)nn=cn.find(1,!0).line;return nn}function el(nn){for(var cn,vn;cn=Xo(nn);)nn=cn.find(1,!0).line,(vn||(vn=[])).push(nn);return vn}function Sl(nn,cn){var vn=bi(nn,cn),mn=Za(vn);return vn==mn?cn:Ca(mn)}function bl(nn,cn){if(cn>nn.lastLine())return cn;var vn=bi(nn,cn),mn;if(!Dl(nn,vn))return cn;for(;mn=Xo(vn);)vn=mn.find(1,!0).line;return Ca(vn)+1}function Dl(nn,cn){var vn=Pa&&cn.markedSpans;if(vn){for(var mn=void 0,wn=0;wn<vn.length;++wn)if(mn=vn[wn],!!mn.marker.collapsed){if(mn.from==null)return!0;if(!mn.marker.widgetNode&&mn.from==0&&mn.marker.inclusiveLeft&&Ul(nn,cn,mn))return!0}}}function Ul(nn,cn,vn){if(vn.to==null){var mn=vn.marker.find(1,!0);return Ul(nn,mn.line,ps(mn.line.markedSpans,vn.marker))}if(vn.marker.inclusiveRight&&vn.to==cn.text.length)return!0;for(var wn=void 0,In=0;In<cn.markedSpans.length;++In)if(wn=cn.markedSpans[In],wn.marker.collapsed&&!wn.marker.widgetNode&&wn.from==vn.to&&(wn.to==null||wn.to!=vn.from)&&(wn.marker.inclusiveLeft||vn.marker.inclusiveRight)&&Ul(nn,cn,wn))return!0}function al(nn){nn=Za(nn);for(var cn=0,vn=nn.parent,mn=0;mn<vn.lines.length;++mn){var wn=vn.lines[mn];if(wn==nn)break;cn+=wn.height}for(var In=vn.parent;In;vn=In,In=vn.parent)for(var Nn=0;Nn<In.children.length;++Nn){var Vn=In.children[Nn];if(Vn==vn)break;cn+=Vn.height}return cn}function An(nn){if(nn.height==0)return 0;for(var cn=nn.text.length,vn,mn=nn;vn=Vo(mn);){var wn=vn.find(0,!0);mn=wn.from.line,cn+=wn.from.ch-wn.to.ch}for(mn=nn;vn=Xo(mn);){var In=vn.find(0,!0);cn-=mn.text.length-In.from.ch,mn=In.to.line,cn+=mn.text.length-In.to.ch}return cn}function Tn(nn){var cn=nn.display,vn=nn.doc;cn.maxLine=bi(vn,vn.first),cn.maxLineLength=An(cn.maxLine),cn.maxLineChanged=!0,vn.iter(function(mn){var wn=An(mn);wn>cn.maxLineLength&&(cn.maxLineLength=wn,cn.maxLine=mn)})}var $n=function(nn,cn,vn){this.text=nn,Dc(this,cn),this.height=vn?vn(this):1};$n.prototype.lineNo=function(){return Ca(this)},os($n);function zn(nn,cn,vn,mn){nn.text=cn,nn.stateAfter&&(nn.stateAfter=null),nn.styles&&(nn.styles=null),nn.order!=null&&(nn.order=null),Ys(nn),Dc(nn,vn);var wn=mn?mn(nn):1;wn!=nn.height&&Bs(nn,wn)}function Xn(nn){nn.parent=null,Ys(nn)}var Qn={},ii={};function ki(nn,cn){if(!nn||/^\s*$/.test(nn))return null;var vn=cn.addModeClass?ii:Qn;return vn[nn]||(vn[nn]=nn.replace(/\S+/g,"cm-$&"))}function yi(nn,cn){var vn=qn("span",null,null,Kr?"padding-right: .1px":null),mn={pre:qn("pre",[vn],"CodeMirror-line"),content:vn,col:0,pos:0,cm:nn,trailingSpace:!1,splitSpaces:nn.getOption("lineWrapping")};cn.measure={};for(var wn=0;wn<=(cn.rest?cn.rest.length:0);wn++){var In=wn?cn.rest[wn-1]:cn.line,Nn=void 0;mn.pos=0,mn.addToken=qi,Zi(nn.display.measure)&&(Nn=To(In,nn.doc.direction))&&(mn.addToken=zi(mn.addToken,Nn)),mn.map=[];var Vn=cn!=nn.display.externalMeasured&&Ca(In);pa(In,mn,Zo(nn,In,Vn)),In.styleClasses&&(In.styleClasses.bgClass&&(mn.bgClass=Fi(In.styleClasses.bgClass,mn.bgClass||"")),In.styleClasses.textClass&&(mn.textClass=Fi(In.styleClasses.textClass,mn.textClass||""))),mn.map.length==0&&mn.map.push(0,0,mn.content.appendChild(Ti(nn.display.measure))),wn==0?(cn.measure.map=mn.map,cn.measure.cache={}):((cn.measure.maps||(cn.measure.maps=[])).push(mn.map),(cn.measure.caches||(cn.measure.caches=[])).push({}))}if(Kr){var Yn=mn.content.lastChild;(/\bcm-tab\b/.test(Yn.className)||Yn.querySelector&&Yn.querySelector(".cm-tab"))&&(mn.content.className="cm-tab-wrap-hack")}return na(nn,"renderLine",nn,cn.line,mn.pre),mn.pre.className&&(mn.textClass=Fi(mn.pre.className,mn.textClass||"")),mn}function Ii(nn){var cn=Hn("span","â¢","cm-invalidchar");return cn.title="\\u"+nn.charCodeAt(0).toString(16),cn.setAttribute("aria-label",cn.title),cn}function qi(nn,cn,vn,mn,wn,In,Nn){if(cn){var Vn=nn.splitSpaces?io(cn,nn.trailingSpace):cn,Yn=nn.cm.state.specialChars,Jn=!1,ci;if(!Yn.test(cn))nn.col+=cn.length,ci=document.createTextNode(Vn),nn.map.push(nn.pos,nn.pos+cn.length,ci),Gr&&Yr<9&&(Jn=!0),nn.pos+=cn.length;else{ci=document.createDocumentFragment();for(var vi=0;;){Yn.lastIndex=vi;var Oi=Yn.exec(cn),Di=Oi?Oi.index-vi:cn.length-vi;if(Di){var Gi=document.createTextNode(Vn.slice(vi,vi+Di));Gr&&Yr<9?ci.appendChild(Hn("span",[Gi])):ci.appendChild(Gi),nn.map.push(nn.pos,nn.pos+Di,Gi),nn.col+=Di,nn.pos+=Di}if(!Oi)break;vi+=Di+1;var ao=void 0;if(Oi[0]=="	"){var mo=nn.cm.options.tabSize,So=mo-nn.col%mo;ao=ci.appendChild(Hn("span",qo(So),"cm-tab")),ao.setAttribute("role","presentation"),ao.setAttribute("cm-text","	"),nn.col+=So}else Oi[0]=="\r"||Oi[0]==`
`?(ao=ci.appendChild(Hn("span",Oi[0]=="\r"?"â":"â¤","cm-invalidchar")),ao.setAttribute("cm-text",Oi[0]),nn.col+=1):(ao=nn.cm.options.specialCharPlaceholder(Oi[0]),ao.setAttribute("cm-text",Oi[0]),Gr&&Yr<9?ci.appendChild(Hn("span",[ao])):ci.appendChild(ao),nn.col+=1);nn.map.push(nn.pos,nn.pos+1,ao),nn.pos++}}if(nn.trailingSpace=Vn.charCodeAt(cn.length-1)==32,vn||mn||wn||Jn||In||Nn){var Oo=vn||"";mn&&(Oo+=mn),wn&&(Oo+=wn);var wo=Hn("span",[ci],Oo,In);if(Nn)for(var zo in Nn)Nn.hasOwnProperty(zo)&&zo!="style"&&zo!="class"&&wo.setAttribute(zo,Nn[zo]);return nn.content.appendChild(wo)}nn.content.appendChild(ci)}}function io(nn,cn){if(nn.length>1&&!/  /.test(nn))return nn;for(var vn=cn,mn="",wn=0;wn<nn.length;wn++){var In=nn.charAt(wn);In==" "&&vn&&(wn==nn.length-1||nn.charCodeAt(wn+1)==32)&&(In="Â "),mn+=In,vn=In==" "}return mn}function zi(nn,cn){return function(vn,mn,wn,In,Nn,Vn,Yn){wn=wn?wn+" cm-force-border":"cm-force-border";for(var Jn=vn.pos,ci=Jn+mn.length;;){for(var vi=void 0,Oi=0;Oi<cn.length&&(vi=cn[Oi],!(vi.to>Jn&&vi.from<=Jn));Oi++);if(vi.to>=ci)return nn(vn,mn,wn,In,Nn,Vn,Yn);nn(vn,mn.slice(0,vi.to-Jn),wn,In,null,Vn,Yn),In=null,mn=mn.slice(vi.to-Jn),Jn=vi.to}}}function fo(nn,cn,vn,mn){var wn=!mn&&vn.widgetNode;wn&&nn.map.push(nn.pos,nn.pos+cn,wn),!mn&&nn.cm.display.input.needsContentAttribute&&(wn||(wn=nn.content.appendChild(document.createElement("span"))),wn.setAttribute("cm-marker",vn.id)),wn&&(nn.cm.display.input.setUneditable(wn),nn.content.appendChild(wn)),nn.pos+=cn,nn.trailingSpace=!1}function pa(nn,cn,vn){var mn=nn.markedSpans,wn=nn.text,In=0;if(!mn){for(var Nn=1;Nn<vn.length;Nn+=2)cn.addToken(cn,wn.slice(In,In=vn[Nn]),ki(vn[Nn+1],cn.cm.options));return}for(var Vn=wn.length,Yn=0,Jn=1,ci="",vi,Oi,Di=0,Gi,ao,mo,So,Oo;;){if(Di==Yn){Gi=ao=mo=Oi="",Oo=null,So=null,Di=1/0;for(var wo=[],zo=void 0,ra=0;ra<mn.length;++ra){var Wo=mn[ra],ja=Wo.marker;if(ja.type=="bookmark"&&Wo.from==Yn&&ja.widgetNode)wo.push(ja);else if(Wo.from<=Yn&&(Wo.to==null||Wo.to>Yn||ja.collapsed&&Wo.to==Yn&&Wo.from==Yn)){if(Wo.to!=null&&Wo.to!=Yn&&Di>Wo.to&&(Di=Wo.to,ao=""),ja.className&&(Gi+=" "+ja.className),ja.css&&(Oi=(Oi?Oi+";":"")+ja.css),ja.startStyle&&Wo.from==Yn&&(mo+=" "+ja.startStyle),ja.endStyle&&Wo.to==Di&&(zo||(zo=[])).push(ja.endStyle,Wo.to),ja.title&&((Oo||(Oo={})).title=ja.title),ja.attributes)for(var Es in ja.attributes)(Oo||(Oo={}))[Es]=ja.attributes[Es];ja.collapsed&&(!So||rs(So.marker,ja)<0)&&(So=Wo)}else Wo.from>Yn&&Di>Wo.from&&(Di=Wo.from)}if(zo)for(var Tl=0;Tl<zo.length;Tl+=2)zo[Tl+1]==Di&&(ao+=" "+zo[Tl]);if(!So||So.from==Yn)for(var Qs=0;Qs<wo.length;++Qs)fo(cn,0,wo[Qs]);if(So&&(So.from||0)==Yn){if(fo(cn,(So.to==null?Vn+1:So.to)-Yn,So.marker,So.from==null),So.to==null)return;So.to==Yn&&(So=!1)}}if(Yn>=Vn)break;for(var yc=Math.min(Vn,Di);;){if(ci){var sc=Yn+ci.length;if(!So){var fl=sc>yc?ci.slice(0,yc-Yn):ci;cn.addToken(cn,fl,vi?vi+Gi:Gi,mo,Yn+fl.length==Di?ao:"",Oi,Oo)}if(sc>=yc){ci=ci.slice(yc-Yn),Yn=yc;break}Yn=sc,mo=""}ci=wn.slice(In,In=vn[Jn++]),vi=ki(vn[Jn++],cn.cm.options)}}}function Ga(nn,cn,vn){this.line=cn,this.rest=el(cn),this.size=this.rest?Ca(xo(this.rest))-vn+1:1,this.node=this.text=null,this.hidden=Dl(nn,cn)}function ba(nn,cn,vn){for(var mn=[],wn,In=cn;In<vn;In=wn){var Nn=new Ga(nn.doc,bi(nn.doc,In),In);wn=In+Nn.size,mn.push(Nn)}return mn}var Ss=null;function tl(nn){Ss?Ss.ops.push(nn):nn.ownsGroup=Ss={ops:[nn],delayedCallbacks:[]}}function ql(nn){var cn=nn.delayedCallbacks,vn=0;do{for(;vn<cn.length;vn++)cn[vn].call(null);for(var mn=0;mn<nn.ops.length;mn++){var wn=nn.ops[mn];if(wn.cursorActivityHandlers)for(;wn.cursorActivityCalled<wn.cursorActivityHandlers.length;)wn.cursorActivityHandlers[wn.cursorActivityCalled++].call(null,wn.cm)}}while(vn<cn.length)}function Gl(nn,cn){var vn=nn.ownsGroup;if(vn)try{ql(vn)}finally{Ss=null,cn(vn)}}var Oa=null;function ws(nn,cn){var vn=Lo(nn,cn);if(vn.length){var mn=Array.prototype.slice.call(arguments,2),wn;Ss?wn=Ss.delayedCallbacks:Oa?wn=Oa:(wn=Oa=[],setTimeout(Qa,0));for(var In=function(Vn){wn.push(function(){return vn[Vn].apply(null,mn)})},Nn=0;Nn<vn.length;++Nn)In(Nn)}}function Qa(){var nn=Oa;Oa=null;for(var cn=0;cn<nn.length;++cn)nn[cn]()}function Ps(nn,cn,vn,mn){for(var wn=0;wn<cn.changes.length;wn++){var In=cn.changes[wn];In=="text"?Zl(nn,cn):In=="gutter"?ic(nn,cn,vn,mn):In=="class"?Pl(nn,cn):In=="widget"&&hc(nn,cn,mn)}cn.changes=null}function nc(nn){return nn.node==nn.text&&(nn.node=Hn("div",null,null,"position: relative"),nn.text.parentNode&&nn.text.parentNode.replaceChild(nn.node,nn.text),nn.node.appendChild(nn.text),Gr&&Yr<8&&(nn.node.style.zIndex=2)),nn.node}function qc(nn,cn){var vn=cn.bgClass?cn.bgClass+" "+(cn.line.bgClass||""):cn.line.bgClass;if(vn&&(vn+=" CodeMirror-linebackground"),cn.background)vn?cn.background.className=vn:(cn.background.parentNode.removeChild(cn.background),cn.background=null);else if(vn){var mn=nc(cn);cn.background=mn.insertBefore(Hn("div",null,vn),mn.firstChild),nn.display.input.setUneditable(cn.background)}}function Kl(nn,cn){var vn=nn.display.externalMeasured;return vn&&vn.line==cn.line?(nn.display.externalMeasured=null,cn.measure=vn.measure,vn.built):yi(nn,cn)}function Zl(nn,cn){var vn=cn.text.className,mn=Kl(nn,cn);cn.text==cn.node&&(cn.node=mn.pre),cn.text.parentNode.replaceChild(mn.pre,cn.text),cn.text=mn.pre,mn.bgClass!=cn.bgClass||mn.textClass!=cn.textClass?(cn.bgClass=mn.bgClass,cn.textClass=mn.textClass,Pl(nn,cn)):vn&&(cn.text.className=vn)}function Pl(nn,cn){qc(nn,cn),cn.line.wrapClass?nc(cn).className=cn.line.wrapClass:cn.node!=cn.text&&(cn.node.className="");var vn=cn.textClass?cn.textClass+" "+(cn.line.textClass||""):cn.line.textClass;cn.text.className=vn||""}function ic(nn,cn,vn,mn){if(cn.gutter&&(cn.node.removeChild(cn.gutter),cn.gutter=null),cn.gutterBackground&&(cn.node.removeChild(cn.gutterBackground),cn.gutterBackground=null),cn.line.gutterClass){var wn=nc(cn);cn.gutterBackground=Hn("div",null,"CodeMirror-gutter-background "+cn.line.gutterClass,"left: "+(nn.options.fixedGutter?mn.fixedPos:-mn.gutterTotalWidth)+"px; width: "+mn.gutterTotalWidth+"px"),nn.display.input.setUneditable(cn.gutterBackground),wn.insertBefore(cn.gutterBackground,cn.text)}var In=cn.line.gutterMarkers;if(nn.options.lineNumbers||In){var Nn=nc(cn),Vn=cn.gutter=Hn("div",null,"CodeMirror-gutter-wrapper","left: "+(nn.options.fixedGutter?mn.fixedPos:-mn.gutterTotalWidth)+"px");if(Vn.setAttribute("aria-hidden","true"),nn.display.input.setUneditable(Vn),Nn.insertBefore(Vn,cn.text),cn.line.gutterClass&&(Vn.className+=" "+cn.line.gutterClass),nn.options.lineNumbers&&(!In||!In["CodeMirror-linenumbers"])&&(cn.lineNumber=Vn.appendChild(Hn("div",ul(nn.options,vn),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+mn.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+nn.display.lineNumInnerWidth+"px"))),In)for(var Yn=0;Yn<nn.display.gutterSpecs.length;++Yn){var Jn=nn.display.gutterSpecs[Yn].className,ci=In.hasOwnProperty(Jn)&&In[Jn];ci&&Vn.appendChild(Hn("div",[ci],"CodeMirror-gutter-elt","left: "+mn.gutterLeft[Jn]+"px; width: "+mn.gutterWidth[Jn]+"px"))}}}function hc(nn,cn,vn){cn.alignable&&(cn.alignable=null);for(var mn=On("CodeMirror-linewidget"),wn=cn.node.firstChild,In=void 0;wn;wn=In)In=wn.nextSibling,mn.test(wn.className)&&cn.node.removeChild(wn);Kc(nn,cn,vn)}function Ol(nn,cn,vn,mn){var wn=Kl(nn,cn);return cn.text=cn.node=wn.pre,wn.bgClass&&(cn.bgClass=wn.bgClass),wn.textClass&&(cn.textClass=wn.textClass),Pl(nn,cn),ic(nn,cn,vn,mn),Kc(nn,cn,mn),cn.node}function Kc(nn,cn,vn){if(Xl(nn,cn.line,cn,vn,!0),cn.rest)for(var mn=0;mn<cn.rest.length;mn++)Xl(nn,cn.rest[mn],cn,vn,!1)}function Xl(nn,cn,vn,mn,wn){if(cn.widgets)for(var In=nc(vn),Nn=0,Vn=cn.widgets;Nn<Vn.length;++Nn){var Yn=Vn[Nn],Jn=Hn("div",[Yn.node],"CodeMirror-linewidget"+(Yn.className?" "+Yn.className:""));Yn.handleMouseEvents||Jn.setAttribute("cm-ignore-events","true"),fc(Yn,Jn,vn,mn),nn.display.input.setUneditable(Jn),wn&&Yn.above?In.insertBefore(Jn,vn.gutter||vn.text):In.appendChild(Jn),ws(Yn,"redraw")}}function fc(nn,cn,vn,mn){if(nn.noHScroll){(vn.alignable||(vn.alignable=[])).push(cn);var wn=mn.wrapperWidth;cn.style.left=mn.fixedPos+"px",nn.coverGutter||(wn-=mn.gutterTotalWidth,cn.style.paddingLeft=mn.gutterTotalWidth+"px"),cn.style.width=wn+"px"}nn.coverGutter&&(cn.style.zIndex=5,cn.style.position="relative",nn.noHScroll||(cn.style.marginLeft=-mn.gutterTotalWidth+"px"))}function Zc(nn){if(nn.height!=null)return nn.height;var cn=nn.doc.cm;if(!cn)return 0;if(!oi(document.body,nn.node)){var vn="position: relative;";nn.coverGutter&&(vn+="margin-left: -"+cn.display.gutters.offsetWidth+"px;"),nn.noHScroll&&(vn+="width: "+cn.display.wrapper.clientWidth+"px;"),Wn(cn.display.measure,Hn("div",[nn.node],null,vn))}return nn.height=nn.node.parentNode.offsetHeight}function wc(nn,cn){for(var vn=us(cn);vn!=nn.wrapper;vn=vn.parentNode)if(!vn||vn.nodeType==1&&vn.getAttribute("cm-ignore-events")=="true"||vn.parentNode==nn.sizer&&vn!=nn.mover)return!0}function Iu(nn){return nn.lineSpace.offsetTop}function ls(nn){return nn.mover.offsetHeight-nn.lineSpace.offsetHeight}function pu(nn){if(nn.cachedPaddingH)return nn.cachedPaddingH;var cn=Wn(nn.measure,Hn("pre","x","CodeMirror-line-like")),vn=window.getComputedStyle?window.getComputedStyle(cn):cn.currentStyle,mn={left:parseInt(vn.paddingLeft),right:parseInt(vn.paddingRight)};return!isNaN(mn.left)&&!isNaN(mn.right)&&(nn.cachedPaddingH=mn),mn}function qs(nn){return ho-nn.display.nativeBarWidth}function sl(nn){return nn.display.scroller.clientWidth-qs(nn)-nn.display.barWidth}function Ec(nn){return nn.display.scroller.clientHeight-qs(nn)-nn.display.barHeight}function Ju(nn,cn,vn){var mn=nn.options.lineWrapping,wn=mn&&sl(nn);if(!cn.measure.heights||mn&&cn.measure.width!=wn){var In=cn.measure.heights=[];if(mn){cn.measure.width=wn;for(var Nn=cn.text.firstChild.getClientRects(),Vn=0;Vn<Nn.length-1;Vn++){var Yn=Nn[Vn],Jn=Nn[Vn+1];Math.abs(Yn.bottom-Jn.bottom)>2&&In.push((Yn.bottom+Jn.top)/2-vn.top)}}In.push(vn.bottom-vn.top)}}function ed(nn,cn,vn){if(nn.line==cn)return{map:nn.measure.map,cache:nn.measure.cache};if(nn.rest){for(var mn=0;mn<nn.rest.length;mn++)if(nn.rest[mn]==cn)return{map:nn.measure.maps[mn],cache:nn.measure.caches[mn]};for(var wn=0;wn<nn.rest.length;wn++)if(Ca(nn.rest[wn])>vn)return{map:nn.measure.maps[wn],cache:nn.measure.caches[wn],before:!0}}}function pc(nn,cn){cn=Za(cn);var vn=Ca(cn),mn=nn.display.externalMeasured=new Ga(nn.doc,cn,vn);mn.lineN=vn;var wn=mn.built=yi(nn,mn);return mn.text=wn.pre,Wn(nn.display.lineMeasure,wn.pre),mn}function Xc(nn,cn,vn,mn){return Rl(nn,mc(nn,cn),vn,mn)}function gc(nn,cn){if(cn>=nn.display.viewFrom&&cn<nn.display.viewTo)return nn.display.view[$c(nn,cn)];var vn=nn.display.externalMeasured;if(vn&&cn>=vn.lineN&&cn<vn.lineN+vn.size)return vn}function mc(nn,cn){var vn=Ca(cn),mn=gc(nn,vn);mn&&!mn.text?mn=null:mn&&mn.changes&&(Ps(nn,mn,vn,Ks(nn)),nn.curOp.forceUpdate=!0),mn||(mn=pc(nn,cn));var wn=ed(mn,cn,vn);return{line:cn,view:mn,rect:null,map:wn.map,cache:wn.cache,before:wn.before,hasHeights:!1}}function Rl(nn,cn,vn,mn,wn){cn.before&&(vn=-1);var In=vn+(mn||""),Nn;return cn.cache.hasOwnProperty(In)?Nn=cn.cache[In]:(cn.rect||(cn.rect=cn.view.text.getBoundingClientRect()),cn.hasHeights||(Ju(nn,cn.view,cn.rect),cn.hasHeights=!0),Nn=rd(nn,cn,vn,mn),Nn.bogus||(cn.cache[In]=Nn)),{left:Nn.left,right:Nn.right,top:wn?Nn.rtop:Nn.top,bottom:wn?Nn.rbottom:Nn.bottom}}var Qc={left:0,right:0,top:0,bottom:0};function Jc(nn,cn,vn){for(var mn,wn,In,Nn,Vn,Yn,Jn=0;Jn<nn.length;Jn+=3)if(Vn=nn[Jn],Yn=nn[Jn+1],cn<Vn?(wn=0,In=1,Nn="left"):cn<Yn?(wn=cn-Vn,In=wn+1):(Jn==nn.length-3||cn==Yn&&nn[Jn+3]>cn)&&(In=Yn-Vn,wn=In-1,cn>=Yn&&(Nn="right")),wn!=null){if(mn=nn[Jn+2],Vn==Yn&&vn==(mn.insertLeft?"left":"right")&&(Nn=vn),vn=="left"&&wn==0)for(;Jn&&nn[Jn-2]==nn[Jn-3]&&nn[Jn-1].insertLeft;)mn=nn[(Jn-=3)+2],Nn="left";if(vn=="right"&&wn==Yn-Vn)for(;Jn<nn.length-3&&nn[Jn+3]==nn[Jn+4]&&!nn[Jn+5].insertLeft;)mn=nn[(Jn+=3)+2],Nn="right";break}return{node:mn,start:wn,end:In,collapse:Nn,coverStart:Vn,coverEnd:Yn}}function td(nn,cn){var vn=Qc;if(cn=="left")for(var mn=0;mn<nn.length&&(vn=nn[mn]).left==vn.right;mn++);else for(var wn=nn.length-1;wn>=0&&(vn=nn[wn]).left==vn.right;wn--);return vn}function rd(nn,cn,vn,mn){var wn=Jc(cn.map,vn,mn),In=wn.node,Nn=wn.start,Vn=wn.end,Yn=wn.collapse,Jn;if(In.nodeType==3){for(var ci=0;ci<4;ci++){for(;Nn&&ai(cn.line.text.charAt(wn.coverStart+Nn));)--Nn;for(;wn.coverStart+Vn<wn.coverEnd&&ai(cn.line.text.charAt(wn.coverStart+Vn));)++Vn;if(Gr&&Yr<9&&Nn==0&&Vn==wn.coverEnd-wn.coverStart?Jn=In.parentNode.getBoundingClientRect():Jn=td(ni(In,Nn,Vn).getClientRects(),mn),Jn.left||Jn.right||Nn==0)break;Vn=Nn,Nn=Nn-1,Yn="right"}Gr&&Yr<11&&(Jn=Lu(nn.display.measure,Jn))}else{Nn>0&&(Yn=mn="right");var vi;nn.options.lineWrapping&&(vi=In.getClientRects()).length>1?Jn=vi[mn=="right"?vi.length-1:0]:Jn=In.getBoundingClientRect()}if(Gr&&Yr<9&&!Nn&&(!Jn||!Jn.left&&!Jn.right)){var Oi=In.parentNode.getClientRects()[0];Oi?Jn={left:Oi.left,right:Oi.left+Vs(nn.display),top:Oi.top,bottom:Oi.bottom}:Jn=Qc}for(var Di=Jn.top-cn.rect.top,Gi=Jn.bottom-cn.rect.top,ao=(Di+Gi)/2,mo=cn.view.measure.heights,So=0;So<mo.length-1&&!(ao<mo[So]);So++);var Oo=So?mo[So-1]:0,wo=mo[So],zo={left:(Yn=="right"?Jn.right:Jn.left)-cn.rect.left,right:(Yn=="left"?Jn.left:Jn.right)-cn.rect.left,top:Oo,bottom:wo};return!Jn.left&&!Jn.right&&(zo.bogus=!0),nn.options.singleCursorHeightPerLine||(zo.rtop=Di,zo.rbottom=Gi),zo}function Lu(nn,cn){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!La(nn))return cn;var vn=screen.logicalXDPI/screen.deviceXDPI,mn=screen.logicalYDPI/screen.deviceYDPI;return{left:cn.left*vn,right:cn.right*vn,top:cn.top*mn,bottom:cn.bottom*mn}}function gu(nn){if(nn.measure&&(nn.measure.cache={},nn.measure.heights=null,nn.rest))for(var cn=0;cn<nn.rest.length;cn++)nn.measure.caches[cn]={}}function Pu(nn){nn.display.externalMeasure=null,Fn(nn.display.lineMeasure);for(var cn=0;cn<nn.display.view.length;cn++)gu(nn.display.view[cn])}function eu(nn){Pu(nn),nn.display.cachedCharWidth=nn.display.cachedTextHeight=nn.display.cachedPaddingH=null,nn.options.lineWrapping||(nn.display.maxLineChanged=!0),nn.display.lineNumChars=null}function mu(nn){return Jr&&bn?-(nn.body.getBoundingClientRect().left-parseInt(getComputedStyle(nn.body).marginLeft)):nn.defaultView.pageXOffset||(nn.documentElement||nn.body).scrollLeft}function vu(nn){return Jr&&bn?-(nn.body.getBoundingClientRect().top-parseInt(getComputedStyle(nn.body).marginTop)):nn.defaultView.pageYOffset||(nn.documentElement||nn.body).scrollTop}function di(nn){var cn=Za(nn),vn=cn.widgets,mn=0;if(vn)for(var wn=0;wn<vn.length;++wn)vn[wn].above&&(mn+=Zc(vn[wn]));return mn}function Si(nn,cn,vn,mn,wn){if(!wn){var In=di(cn);vn.top+=In,vn.bottom+=In}if(mn=="line")return vn;mn||(mn="local");var Nn=al(cn);if(mn=="local"?Nn+=Iu(nn.display):Nn-=nn.display.viewOffset,mn=="page"||mn=="window"){var Vn=nn.display.lineSpace.getBoundingClientRect();Nn+=Vn.top+(mn=="window"?0:vu(Gn(nn)));var Yn=Vn.left+(mn=="window"?0:mu(Gn(nn)));vn.left+=Yn,vn.right+=Yn}return vn.top+=Nn,vn.bottom+=Nn,vn}function Bi(nn,cn,vn){if(vn=="div")return cn;var mn=cn.left,wn=cn.top;if(vn=="page")mn-=mu(Gn(nn)),wn-=vu(Gn(nn));else if(vn=="local"||!vn){var In=nn.display.sizer.getBoundingClientRect();mn+=In.left,wn+=In.top}var Nn=nn.display.lineSpace.getBoundingClientRect();return{left:mn-Nn.left,top:wn-Nn.top}}function Hi(nn,cn,vn,mn,wn){return mn||(mn=bi(nn.doc,cn.line)),Si(nn,mn,Xc(nn,mn,cn.ch,wn),vn)}function Xi(nn,cn,vn,mn,wn,In){mn=mn||bi(nn.doc,cn.line),wn||(wn=mc(nn,mn));function Nn(Gi,ao){var mo=Rl(nn,wn,Gi,ao?"right":"left",In);return ao?mo.left=mo.right:mo.right=mo.left,Si(nn,mn,mo,vn)}var Vn=To(mn,nn.doc.direction),Yn=cn.ch,Jn=cn.sticky;if(Yn>=mn.text.length?(Yn=mn.text.length,Jn="before"):Yn<=0&&(Yn=0,Jn="after"),!Vn)return Nn(Jn=="before"?Yn-1:Yn,Jn=="before");function ci(Gi,ao,mo){var So=Vn[ao],Oo=So.level==1;return Nn(mo?Gi-1:Gi,Oo!=mo)}var vi=go(Vn,Yn,Jn),Oi=co,Di=ci(Yn,vi,Jn=="before");return Oi!=null&&(Di.other=ci(Yn,Oi,Jn!="before")),Di}function Co(nn,cn){var vn=0;cn=Ri(nn.doc,cn),nn.options.lineWrapping||(vn=Vs(nn.display)*cn.ch);var mn=bi(nn.doc,cn.line),wn=al(mn)+Iu(nn.display);return{left:vn,right:vn,top:wn,bottom:wn+mn.height}}function No(nn,cn,vn,mn,wn){var In=ro(nn,cn,vn);return In.xRel=wn,mn&&(In.outside=mn),In}function Ao(nn,cn,vn){var mn=nn.doc;if(vn+=nn.display.viewOffset,vn<0)return No(mn.first,0,null,-1,-1);var wn=Fs(mn,vn),In=mn.first+mn.size-1;if(wn>In)return No(mn.first+mn.size-1,bi(mn,In).text.length,null,1,1);cn<0&&(cn=0);for(var Nn=bi(mn,wn);;){var Vn=ma(nn,Nn,wn,cn,vn),Yn=ca(Nn,Vn.ch+(Vn.xRel>0||Vn.outside>0?1:0));if(!Yn)return Vn;var Jn=Yn.find(1);if(Jn.line==wn)return Jn;Nn=bi(mn,wn=Jn.line)}}function Bo(nn,cn,vn,mn){mn-=di(cn);var wn=cn.text.length,In=pi(function(Nn){return Rl(nn,vn,Nn-1).bottom<=mn},wn,0);return wn=pi(function(Nn){return Rl(nn,vn,Nn).top>mn},In,wn),{begin:In,end:wn}}function Ra(nn,cn,vn,mn){vn||(vn=mc(nn,cn));var wn=Si(nn,cn,Rl(nn,vn,mn),"line").top;return Bo(nn,cn,vn,wn)}function oa(nn,cn,vn,mn){return nn.bottom<=vn?!1:nn.top>vn?!0:(mn?nn.left:nn.right)>cn}function ma(nn,cn,vn,mn,wn){wn-=al(cn);var In=mc(nn,cn),Nn=di(cn),Vn=0,Yn=cn.text.length,Jn=!0,ci=To(cn,nn.doc.direction);if(ci){var vi=(nn.options.lineWrapping?ua:Va)(nn,cn,vn,In,ci,mn,wn);Jn=vi.level!=1,Vn=Jn?vi.from:vi.to-1,Yn=Jn?vi.to:vi.from-1}var Oi=null,Di=null,Gi=pi(function(ra){var Wo=Rl(nn,In,ra);return Wo.top+=Nn,Wo.bottom+=Nn,oa(Wo,mn,wn,!1)?(Wo.top<=wn&&Wo.left<=mn&&(Oi=ra,Di=Wo),!0):!1},Vn,Yn),ao,mo,So=!1;if(Di){var Oo=mn-Di.left<Di.right-mn,wo=Oo==Jn;Gi=Oi+(wo?0:1),mo=wo?"after":"before",ao=Oo?Di.left:Di.right}else{!Jn&&(Gi==Yn||Gi==Vn)&&Gi++,mo=Gi==0?"after":Gi==cn.text.length?"before":Rl(nn,In,Gi-(Jn?1:0)).bottom+Nn<=wn==Jn?"after":"before";var zo=Xi(nn,ro(vn,Gi,mo),"line",cn,In);ao=zo.left,So=wn<zo.top?-1:wn>=zo.bottom?1:0}return Gi=_i(cn.text,Gi,1),No(vn,Gi,mo,So,mn-ao)}function Va(nn,cn,vn,mn,wn,In,Nn){var Vn=pi(function(vi){var Oi=wn[vi],Di=Oi.level!=1;return oa(Xi(nn,ro(vn,Di?Oi.to:Oi.from,Di?"before":"after"),"line",cn,mn),In,Nn,!0)},0,wn.length-1),Yn=wn[Vn];if(Vn>0){var Jn=Yn.level!=1,ci=Xi(nn,ro(vn,Jn?Yn.from:Yn.to,Jn?"after":"before"),"line",cn,mn);oa(ci,In,Nn,!0)&&ci.top>Nn&&(Yn=wn[Vn-1])}return Yn}function ua(nn,cn,vn,mn,wn,In,Nn){var Vn=Bo(nn,cn,mn,Nn),Yn=Vn.begin,Jn=Vn.end;/\s/.test(cn.text.charAt(Jn-1))&&Jn--;for(var ci=null,vi=null,Oi=0;Oi<wn.length;Oi++){var Di=wn[Oi];if(!(Di.from>=Jn||Di.to<=Yn)){var Gi=Di.level!=1,ao=Rl(nn,mn,Gi?Math.min(Jn,Di.to)-1:Math.max(Yn,Di.from)).right,mo=ao<In?In-ao+1e9:ao-In;(!ci||vi>mo)&&(ci=Di,vi=mo)}}return ci||(ci=wn[wn.length-1]),ci.from<Yn&&(ci={from:Yn,to:ci.to,level:ci.level}),ci.to>Jn&&(ci={from:ci.from,to:Jn,level:ci.level}),ci}var za;function Hs(nn){if(nn.cachedTextHeight!=null)return nn.cachedTextHeight;if(za==null){za=Hn("pre",null,"CodeMirror-line-like");for(var cn=0;cn<49;++cn)za.appendChild(document.createTextNode("x")),za.appendChild(Hn("br"));za.appendChild(document.createTextNode("x"))}Wn(nn.measure,za);var vn=za.offsetHeight/50;return vn>3&&(nn.cachedTextHeight=vn),Fn(nn.measure),vn||1}function Vs(nn){if(nn.cachedCharWidth!=null)return nn.cachedCharWidth;var cn=Hn("span","xxxxxxxxxx"),vn=Hn("pre",[cn],"CodeMirror-line-like");Wn(nn.measure,vn);var mn=cn.getBoundingClientRect(),wn=(mn.right-mn.left)/10;return wn>2&&(nn.cachedCharWidth=wn),wn||10}function Ks(nn){for(var cn=nn.display,vn={},mn={},wn=cn.gutters.clientLeft,In=cn.gutters.firstChild,Nn=0;In;In=In.nextSibling,++Nn){var Vn=nn.display.gutterSpecs[Nn].className;vn[Vn]=In.offsetLeft+In.clientLeft+wn,mn[Vn]=In.clientWidth}return{fixedPos:Ql(cn),gutterTotalWidth:cn.gutters.offsetWidth,gutterLeft:vn,gutterWidth:mn,wrapperWidth:cn.wrapper.clientWidth}}function Ql(nn){return nn.scroller.getBoundingClientRect().left-nn.sizer.getBoundingClientRect().left}function $l(nn){var cn=Hs(nn.display),vn=nn.options.lineWrapping,mn=vn&&Math.max(5,nn.display.scroller.clientWidth/Vs(nn.display)-3);return function(wn){if(Dl(nn.doc,wn))return 0;var In=0;if(wn.widgets)for(var Nn=0;Nn<wn.widgets.length;Nn++)wn.widgets[Nn].height&&(In+=wn.widgets[Nn].height);return vn?In+(Math.ceil(wn.text.length/mn)||1)*cn:In+cn}}function Xs(nn){var cn=nn.doc,vn=$l(nn);cn.iter(function(mn){var wn=vn(mn);wn!=mn.height&&Bs(mn,wn)})}function Sa(nn,cn,vn,mn){var wn=nn.display;if(!vn&&us(cn).getAttribute("cm-not-content")=="true")return null;var In,Nn,Vn=wn.lineSpace.getBoundingClientRect();try{In=cn.clientX-Vn.left,Nn=cn.clientY-Vn.top}catch{return null}var Yn=Ao(nn,In,Nn),Jn;if(mn&&Yn.xRel>0&&(Jn=bi(nn.doc,Yn.line).text).length==Yn.ch){var ci=Vi(Jn,Jn.length,nn.options.tabSize)-Jn.length;Yn=ro(Yn.line,Math.max(0,Math.round((In-pu(nn.display).left)/Vs(nn.display))-ci))}return Yn}function $c(nn,cn){if(cn>=nn.display.viewTo||(cn-=nn.display.viewFrom,cn<0))return null;for(var vn=nn.display.view,mn=0;mn<vn.length;mn++)if(cn-=vn[mn].size,cn<0)return mn}function ns(nn,cn,vn,mn){cn==null&&(cn=nn.doc.first),vn==null&&(vn=nn.doc.first+nn.doc.size),mn||(mn=0);var wn=nn.display;if(mn&&vn<wn.viewTo&&(wn.updateLineNumbers==null||wn.updateLineNumbers>cn)&&(wn.updateLineNumbers=cn),nn.curOp.viewChanged=!0,cn>=wn.viewTo)Pa&&Sl(nn.doc,cn)<wn.viewTo&&Nc(nn);else if(vn<=wn.viewFrom)Pa&&bl(nn.doc,vn+mn)>wn.viewFrom?Nc(nn):(wn.viewFrom+=mn,wn.viewTo+=mn);else if(cn<=wn.viewFrom&&vn>=wn.viewTo)Nc(nn);else if(cn<=wn.viewFrom){var In=Ou(nn,vn,vn+mn,1);In?(wn.view=wn.view.slice(In.index),wn.viewFrom=In.lineN,wn.viewTo+=mn):Nc(nn)}else if(vn>=wn.viewTo){var Nn=Ou(nn,cn,cn,-1);Nn?(wn.view=wn.view.slice(0,Nn.index),wn.viewTo=Nn.lineN):Nc(nn)}else{var Vn=Ou(nn,cn,cn,-1),Yn=Ou(nn,vn,vn+mn,1);Vn&&Yn?(wn.view=wn.view.slice(0,Vn.index).concat(ba(nn,Vn.lineN,Yn.lineN)).concat(wn.view.slice(Yn.index)),wn.viewTo+=mn):Nc(nn)}var Jn=wn.externalMeasured;Jn&&(vn<Jn.lineN?Jn.lineN+=mn:cn<Jn.lineN+Jn.size&&(wn.externalMeasured=null))}function kc(nn,cn,vn){nn.curOp.viewChanged=!0;var mn=nn.display,wn=nn.display.externalMeasured;if(wn&&cn>=wn.lineN&&cn<wn.lineN+wn.size&&(mn.externalMeasured=null),!(cn<mn.viewFrom||cn>=mn.viewTo)){var In=mn.view[$c(nn,cn)];if(In.node!=null){var Nn=In.changes||(In.changes=[]);lo(Nn,vn)==-1&&Nn.push(vn)}}}function Nc(nn){nn.display.viewFrom=nn.display.viewTo=nn.doc.first,nn.display.view=[],nn.display.viewOffset=0}function Ou(nn,cn,vn,mn){var wn=$c(nn,cn),In,Nn=nn.display.view;if(!Pa||vn==nn.doc.first+nn.doc.size)return{index:wn,lineN:vn};for(var Vn=nn.display.viewFrom,Yn=0;Yn<wn;Yn++)Vn+=Nn[Yn].size;if(Vn!=cn){if(mn>0){if(wn==Nn.length-1)return null;In=Vn+Nn[wn].size-cn,wn++}else In=Vn-cn;cn+=In,vn+=In}for(;Sl(nn.doc,vn)!=vn;){if(wn==(mn<0?0:Nn.length-1))return null;vn+=mn*Nn[wn-(mn<0?1:0)].size,wn+=mn}return{index:wn,lineN:vn}}function js(nn,cn,vn){var mn=nn.display,wn=mn.view;wn.length==0||cn>=mn.viewTo||vn<=mn.viewFrom?(mn.view=ba(nn,cn,vn),mn.viewFrom=cn):(mn.viewFrom>cn?mn.view=ba(nn,cn,mn.viewFrom).concat(mn.view):mn.viewFrom<cn&&(mn.view=mn.view.slice($c(nn,cn))),mn.viewFrom=cn,mn.viewTo<vn?mn.view=mn.view.concat(ba(nn,mn.viewTo,vn)):mn.viewTo>vn&&(mn.view=mn.view.slice(0,$c(nn,vn)))),mn.viewTo=vn}function nd(nn){for(var cn=nn.display.view,vn=0,mn=0;mn<cn.length;mn++){var wn=cn[mn];!wn.hidden&&(!wn.node||wn.changes)&&++vn}return vn}function Ru(nn){nn.display.input.showSelection(nn.display.input.prepareSelection())}function vc(nn,cn){cn===void 0&&(cn=!0);var vn=nn.doc,mn={},wn=mn.cursors=document.createDocumentFragment(),In=mn.selection=document.createDocumentFragment(),Nn=nn.options.$customCursor;Nn&&(cn=!0);for(var Vn=0;Vn<vn.sel.ranges.length;Vn++)if(!(!cn&&Vn==vn.sel.primIndex)){var Yn=vn.sel.ranges[Vn];if(!(Yn.from().line>=nn.display.viewTo||Yn.to().line<nn.display.viewFrom)){var Jn=Yn.empty();if(Nn){var ci=Nn(nn,Yn);ci&&yu(nn,ci,wn)}else(Jn||nn.options.showCursorWhenSelecting)&&yu(nn,Yn.head,wn);Jn||wd(nn,Yn,In)}}return mn}function yu(nn,cn,vn){var mn=Xi(nn,cn,"div",null,null,!nn.options.singleCursorHeightPerLine),wn=vn.appendChild(Hn("div","Â ","CodeMirror-cursor"));if(wn.style.left=mn.left+"px",wn.style.top=mn.top+"px",wn.style.height=Math.max(0,mn.bottom-mn.top)*nn.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(nn.getWrapperElement().className)){var In=Hi(nn,cn,"div",null,null),Nn=In.right-In.left;wn.style.width=(Nn>0?Nn:nn.defaultCharWidth())+"px"}if(mn.other){var Vn=vn.appendChild(Hn("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));Vn.style.display="",Vn.style.left=mn.other.left+"px",Vn.style.top=mn.other.top+"px",Vn.style.height=(mn.other.bottom-mn.other.top)*.85+"px"}}function Ia(nn,cn){return nn.top-cn.top||nn.left-cn.left}function wd(nn,cn,vn){var mn=nn.display,wn=nn.doc,In=document.createDocumentFragment(),Nn=pu(nn.display),Vn=Nn.left,Yn=Math.max(mn.sizerWidth,sl(nn)-mn.sizer.offsetLeft)-Nn.right,Jn=wn.direction=="ltr";function ci(wo,zo,ra,Wo){zo<0&&(zo=0),zo=Math.round(zo),Wo=Math.round(Wo),In.appendChild(Hn("div",null,"CodeMirror-selected","position: absolute; left: "+wo+`px;
                             top: `+zo+"px; width: "+(ra??Yn-wo)+`px;
                             height: `+(Wo-zo)+"px"))}function vi(wo,zo,ra){var Wo=bi(wn,wo),ja=Wo.text.length,Es,Tl;function Qs(fl,lc){return Hi(nn,ro(wo,fl),"div",Wo,lc)}function yc(fl,lc,zl){var wl=Ra(nn,Wo,null,fl),ll=lc=="ltr"==(zl=="after")?"left":"right",il=zl=="after"?wl.begin:wl.end-(/\s/.test(Wo.text.charAt(wl.end-1))?2:1);return Qs(il,ll)[ll]}var sc=To(Wo,wn.direction);return xi(sc,zo||0,ra??ja,function(fl,lc,zl,wl){var ll=zl=="ltr",il=Qs(fl,ll?"left":"right"),cc=Qs(lc-1,ll?"right":"left"),cu=zo==null&&fl==0,Wu=ra==null&&lc==ja,Wl=wl==0,uu=!sc||wl==sc.length-1;if(cc.top-il.top<=3){var cl=(Jn?cu:Wu)&&Wl,Uf=(Jn?Wu:cu)&&uu,xu=cl?Vn:(ll?il:cc).left,pd=Uf?Yn:(ll?cc:il).right;ci(xu,il.top,pd-xu,il.bottom)}else{var Yu,Jl,Od,zh;ll?(Yu=Jn&&cu&&Wl?Vn:il.left,Jl=Jn?Yn:yc(fl,zl,"before"),Od=Jn?Vn:yc(lc,zl,"after"),zh=Jn&&Wu&&uu?Yn:cc.right):(Yu=Jn?yc(fl,zl,"before"):Vn,Jl=!Jn&&cu&&Wl?Yn:il.right,Od=!Jn&&Wu&&uu?Vn:cc.left,zh=Jn?yc(lc,zl,"after"):Yn),ci(Yu,il.top,Jl-Yu,il.bottom),il.bottom<cc.top&&ci(Vn,il.bottom,null,cc.top),ci(Od,cc.top,zh-Od,cc.bottom)}(!Es||Ia(il,Es)<0)&&(Es=il),Ia(cc,Es)<0&&(Es=cc),(!Tl||Ia(il,Tl)<0)&&(Tl=il),Ia(cc,Tl)<0&&(Tl=cc)}),{start:Es,end:Tl}}var Oi=cn.from(),Di=cn.to();if(Oi.line==Di.line)vi(Oi.line,Oi.ch,Di.ch);else{var Gi=bi(wn,Oi.line),ao=bi(wn,Di.line),mo=Za(Gi)==Za(ao),So=vi(Oi.line,Oi.ch,mo?Gi.text.length+1:null).end,Oo=vi(Di.line,mo?0:null,Di.ch).start;mo&&(So.top<Oo.top-2?(ci(So.right,So.top,null,So.bottom),ci(Vn,Oo.top,Oo.left,Oo.bottom)):ci(So.right,So.top,Oo.left-So.right,So.bottom)),So.bottom<Oo.top&&ci(Vn,So.bottom,null,Oo.top)}vn.appendChild(In)}function Hd(nn){if(nn.state.focused){var cn=nn.display;clearInterval(cn.blinker);var vn=!0;cn.cursorDiv.style.visibility="",nn.options.cursorBlinkRate>0?cn.blinker=setInterval(function(){nn.hasFocus()||Ac(nn),cn.cursorDiv.style.visibility=(vn=!vn)?"":"hidden"},nn.options.cursorBlinkRate):nn.options.cursorBlinkRate<0&&(cn.cursorDiv.style.visibility="hidden")}}function kd(nn){nn.hasFocus()||(nn.display.input.focus(),nn.state.focused||Ad(nn))}function $u(nn){nn.state.delayingBlurEvent=!0,setTimeout(function(){nn.state.delayingBlurEvent&&(nn.state.delayingBlurEvent=!1,nn.state.focused&&Ac(nn))},100)}function Ad(nn,cn){nn.state.delayingBlurEvent&&!nn.state.draggingText&&(nn.state.delayingBlurEvent=!1),nn.options.readOnly!="nocursor"&&(nn.state.focused||(na(nn,"focus",nn,cn),nn.state.focused=!0,Ci(nn.display.wrapper,"CodeMirror-focused"),!nn.curOp&&nn.display.selForContextMenu!=nn.doc.sel&&(nn.display.input.reset(),Kr&&setTimeout(function(){return nn.display.input.reset(!0)},20)),nn.display.input.receivedFocus()),Hd(nn))}function Ac(nn,cn){nn.state.delayingBlurEvent||(nn.state.focused&&(na(nn,"blur",nn,cn),nn.state.focused=!1,jn(nn.display.wrapper,"CodeMirror-focused")),clearInterval(nn.display.blinker),setTimeout(function(){nn.state.focused||(nn.display.shift=!1)},150))}function Tc(nn){for(var cn=nn.display,vn=cn.lineDiv.offsetTop,mn=Math.max(0,cn.scroller.getBoundingClientRect().top),wn=cn.lineDiv.getBoundingClientRect().top,In=0,Nn=0;Nn<cn.view.length;Nn++){var Vn=cn.view[Nn],Yn=nn.options.lineWrapping,Jn=void 0,ci=0;if(!Vn.hidden){if(wn+=Vn.line.height,Gr&&Yr<8){var vi=Vn.node.offsetTop+Vn.node.offsetHeight;Jn=vi-vn,vn=vi}else{var Oi=Vn.node.getBoundingClientRect();Jn=Oi.bottom-Oi.top,!Yn&&Vn.text.firstChild&&(ci=Vn.text.firstChild.getBoundingClientRect().right-Oi.left-1)}var Di=Vn.line.height-Jn;if((Di>.005||Di<-.005)&&(wn<mn&&(In-=Di),Bs(Vn.line,Jn),Nu(Vn.line),Vn.rest))for(var Gi=0;Gi<Vn.rest.length;Gi++)Nu(Vn.rest[Gi]);if(ci>nn.display.sizerWidth){var ao=Math.ceil(ci/Vs(nn.display));ao>nn.display.maxLineLength&&(nn.display.maxLineLength=ao,nn.display.maxLine=Vn.line,nn.display.maxLineChanged=!0)}}}Math.abs(In)>2&&(cn.scroller.scrollTop+=In)}function Nu(nn){if(nn.widgets)for(var cn=0;cn<nn.widgets.length;++cn){var vn=nn.widgets[cn],mn=vn.node.parentNode;mn&&(vn.height=mn.offsetHeight)}}function Ln(nn,cn,vn){var mn=vn&&vn.top!=null?Math.max(0,vn.top):nn.scroller.scrollTop;mn=Math.floor(mn-Iu(nn));var wn=vn&&vn.bottom!=null?vn.bottom:mn+nn.wrapper.clientHeight,In=Fs(cn,mn),Nn=Fs(cn,wn);if(vn&&vn.ensure){var Vn=vn.ensure.from.line,Yn=vn.ensure.to.line;Vn<In?(In=Vn,Nn=Fs(cn,al(bi(cn,Vn))+nn.wrapper.clientHeight)):Math.min(Yn,cn.lastLine())>=Nn&&(In=Fs(cn,al(bi(cn,Yn))-nn.wrapper.clientHeight),Nn=Yn)}return{from:In,to:Math.max(Nn,In+1)}}function Bn(nn,cn){if(!fa(nn,"scrollCursorIntoView")){var vn=nn.display,mn=vn.sizer.getBoundingClientRect(),wn=null,In=vn.wrapper.ownerDocument;if(cn.top+mn.top<0?wn=!0:cn.bottom+mn.top>(In.defaultView.innerHeight||In.documentElement.clientHeight)&&(wn=!1),wn!=null&&!hn){var Nn=Hn("div","â",null,`position: absolute;
                         top: `+(cn.top-vn.viewOffset-Iu(nn.display))+`px;
                         height: `+(cn.bottom-cn.top+qs(nn)+vn.barHeight)+`px;
                         left: `+cn.left+"px; width: "+Math.max(2,cn.right-cn.left)+"px;");nn.display.lineSpace.appendChild(Nn),Nn.scrollIntoView(wn),nn.display.lineSpace.removeChild(Nn)}}}function ei(nn,cn,vn,mn){mn==null&&(mn=0);var wn;!nn.options.lineWrapping&&cn==vn&&(vn=cn.sticky=="before"?ro(cn.line,cn.ch+1,"before"):cn,cn=cn.ch?ro(cn.line,cn.sticky=="before"?cn.ch-1:cn.ch,"after"):cn);for(var In=0;In<5;In++){var Nn=!1,Vn=Xi(nn,cn),Yn=!vn||vn==cn?Vn:Xi(nn,vn);wn={left:Math.min(Vn.left,Yn.left),top:Math.min(Vn.top,Yn.top)-mn,right:Math.max(Vn.left,Yn.left),bottom:Math.max(Vn.bottom,Yn.bottom)+mn};var Jn=Qi(nn,wn),ci=nn.doc.scrollTop,vi=nn.doc.scrollLeft;if(Jn.scrollTop!=null&&(Vd(nn,Jn.scrollTop),Math.abs(nn.doc.scrollTop-ci)>1&&(Nn=!0)),Jn.scrollLeft!=null&&(id(nn,Jn.scrollLeft),Math.abs(nn.doc.scrollLeft-vi)>1&&(Nn=!0)),!Nn)break}return wn}function mi(nn,cn){var vn=Qi(nn,cn);vn.scrollTop!=null&&Vd(nn,vn.scrollTop),vn.scrollLeft!=null&&id(nn,vn.scrollLeft)}function Qi(nn,cn){var vn=nn.display,mn=Hs(nn.display);cn.top<0&&(cn.top=0);var wn=nn.curOp&&nn.curOp.scrollTop!=null?nn.curOp.scrollTop:vn.scroller.scrollTop,In=Ec(nn),Nn={};cn.bottom-cn.top>In&&(cn.bottom=cn.top+In);var Vn=nn.doc.height+ls(vn),Yn=cn.top<mn,Jn=cn.bottom>Vn-mn;if(cn.top<wn)Nn.scrollTop=Yn?0:cn.top;else if(cn.bottom>wn+In){var ci=Math.min(cn.top,(Jn?Vn:cn.bottom)-In);ci!=wn&&(Nn.scrollTop=ci)}var vi=nn.options.fixedGutter?0:vn.gutters.offsetWidth,Oi=nn.curOp&&nn.curOp.scrollLeft!=null?nn.curOp.scrollLeft:vn.scroller.scrollLeft-vi,Di=sl(nn)-vn.gutters.offsetWidth,Gi=cn.right-cn.left>Di;return Gi&&(cn.right=cn.left+Di),cn.left<10?Nn.scrollLeft=0:cn.left<Oi?Nn.scrollLeft=Math.max(0,cn.left+vi-(Gi?0:10)):cn.right>Di+Oi-3&&(Nn.scrollLeft=cn.right+(Gi?0:10)-Di),Nn}function ta(nn,cn){cn!=null&&(Mc(nn),nn.curOp.scrollTop=(nn.curOp.scrollTop==null?nn.doc.scrollTop:nn.curOp.scrollTop)+cn)}function Ja(nn){Mc(nn);var cn=nn.getCursor();nn.curOp.scrollToPos={from:cn,to:cn,margin:nn.options.cursorScrollMargin}}function ys(nn,cn,vn){(cn!=null||vn!=null)&&Mc(nn),cn!=null&&(nn.curOp.scrollLeft=cn),vn!=null&&(nn.curOp.scrollTop=vn)}function Us(nn,cn){Mc(nn),nn.curOp.scrollToPos=cn}function Mc(nn){var cn=nn.curOp.scrollToPos;if(cn){nn.curOp.scrollToPos=null;var vn=Co(nn,cn.from),mn=Co(nn,cn.to);Bu(nn,vn,mn,cn.margin)}}function Bu(nn,cn,vn,mn){var wn=Qi(nn,{left:Math.min(cn.left,vn.left),top:Math.min(cn.top,vn.top)-mn,right:Math.max(cn.right,vn.right),bottom:Math.max(cn.bottom,vn.bottom)+mn});ys(nn,wn.scrollLeft,wn.scrollTop)}function Vd(nn,cn){Math.abs(nn.doc.scrollTop-cn)<2||(Fr||Cc(nn,{top:cn}),ef(nn,cn,!0),Fr&&Cc(nn),Wd(nn,100))}function ef(nn,cn,vn){cn=Math.max(0,Math.min(nn.display.scroller.scrollHeight-nn.display.scroller.clientHeight,cn)),!(nn.display.scroller.scrollTop==cn&&!vn)&&(nn.doc.scrollTop=cn,nn.display.scrollbars.setScrollTop(cn),nn.display.scroller.scrollTop!=cn&&(nn.display.scroller.scrollTop=cn))}function id(nn,cn,vn,mn){cn=Math.max(0,Math.min(cn,nn.display.scroller.scrollWidth-nn.display.scroller.clientWidth)),!((vn?cn==nn.doc.scrollLeft:Math.abs(nn.doc.scrollLeft-cn)<2)&&!mn)&&(nn.doc.scrollLeft=cn,qd(nn),nn.display.scroller.scrollLeft!=cn&&(nn.display.scroller.scrollLeft=cn),nn.display.scrollbars.setScrollLeft(cn))}function jd(nn){var cn=nn.display,vn=cn.gutters.offsetWidth,mn=Math.round(nn.doc.height+ls(nn.display));return{clientHeight:cn.scroller.clientHeight,viewHeight:cn.wrapper.clientHeight,scrollWidth:cn.scroller.scrollWidth,clientWidth:cn.scroller.clientWidth,viewWidth:cn.wrapper.clientWidth,barLeft:nn.options.fixedGutter?vn:0,docHeight:mn,scrollHeight:mn+qs(nn)+cn.barHeight,nativeBarWidth:cn.nativeBarWidth,gutterWidth:vn}}var Xa=function(nn,cn,vn){this.cm=vn;var mn=this.vert=Hn("div",[Hn("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),wn=this.horiz=Hn("div",[Hn("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");mn.tabIndex=wn.tabIndex=-1,nn(mn),nn(wn),Ui(mn,"scroll",function(){mn.clientHeight&&cn(mn.scrollTop,"vertical")}),Ui(wn,"scroll",function(){wn.clientWidth&&cn(wn.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Gr&&Yr<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Xa.prototype.update=function(nn){var cn=nn.scrollWidth>nn.clientWidth+1,vn=nn.scrollHeight>nn.clientHeight+1,mn=nn.nativeBarWidth;if(vn){this.vert.style.display="block",this.vert.style.bottom=cn?mn+"px":"0";var wn=nn.viewHeight-(cn?mn:0);this.vert.firstChild.style.height=Math.max(0,nn.scrollHeight-nn.clientHeight+wn)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(cn){this.horiz.style.display="block",this.horiz.style.right=vn?mn+"px":"0",this.horiz.style.left=nn.barLeft+"px";var In=nn.viewWidth-nn.barLeft-(vn?mn:0);this.horiz.firstChild.style.width=Math.max(0,nn.scrollWidth-nn.clientWidth+In)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&nn.clientHeight>0&&(mn==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:vn?mn:0,bottom:cn?mn:0}},Xa.prototype.setScrollLeft=function(nn){this.horiz.scrollLeft!=nn&&(this.horiz.scrollLeft=nn),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Xa.prototype.setScrollTop=function(nn){this.vert.scrollTop!=nn&&(this.vert.scrollTop=nn),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Xa.prototype.zeroWidthHack=function(){var nn=Sn&&!dn?"12px":"18px";this.horiz.style.height=this.vert.style.width=nn,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ji,this.disableVert=new ji},Xa.prototype.enableZeroWidthBar=function(nn,cn,vn){nn.style.visibility="";function mn(){var wn=nn.getBoundingClientRect(),In=vn=="vert"?document.elementFromPoint(wn.right-1,(wn.top+wn.bottom)/2):document.elementFromPoint((wn.right+wn.left)/2,wn.bottom-1);In!=nn?nn.style.visibility="hidden":cn.set(1e3,mn)}cn.set(1e3,mn)},Xa.prototype.clear=function(){var nn=this.horiz.parentNode;nn.removeChild(this.horiz),nn.removeChild(this.vert)};var Ud=function(){};Ud.prototype.update=function(){return{bottom:0,right:0}},Ud.prototype.setScrollLeft=function(){},Ud.prototype.setScrollTop=function(){},Ud.prototype.clear=function(){};function Bc(nn,cn){cn||(cn=jd(nn));var vn=nn.display.barWidth,mn=nn.display.barHeight;Gd(nn,cn);for(var wn=0;wn<4&&vn!=nn.display.barWidth||mn!=nn.display.barHeight;wn++)vn!=nn.display.barWidth&&nn.options.lineWrapping&&Tc(nn),Gd(nn,jd(nn)),vn=nn.display.barWidth,mn=nn.display.barHeight}function Gd(nn,cn){var vn=nn.display,mn=vn.scrollbars.update(cn);vn.sizer.style.paddingRight=(vn.barWidth=mn.right)+"px",vn.sizer.style.paddingBottom=(vn.barHeight=mn.bottom)+"px",vn.heightForcer.style.borderBottom=mn.bottom+"px solid transparent",mn.right&&mn.bottom?(vn.scrollbarFiller.style.display="block",vn.scrollbarFiller.style.height=mn.bottom+"px",vn.scrollbarFiller.style.width=mn.right+"px"):vn.scrollbarFiller.style.display="",mn.bottom&&nn.options.coverGutterNextToScrollbar&&nn.options.fixedGutter?(vn.gutterFiller.style.display="block",vn.gutterFiller.style.height=mn.bottom+"px",vn.gutterFiller.style.width=cn.gutterWidth+"px"):vn.gutterFiller.style.display=""}var tf={native:Xa,null:Ud};function wh(nn){nn.display.scrollbars&&(nn.display.scrollbars.clear(),nn.display.scrollbars.addClass&&jn(nn.display.wrapper,nn.display.scrollbars.addClass)),nn.display.scrollbars=new tf[nn.options.scrollbarStyle](function(cn){nn.display.wrapper.insertBefore(cn,nn.display.scrollbarFiller),Ui(cn,"mousedown",function(){nn.state.focused&&setTimeout(function(){return nn.display.input.focus()},0)}),cn.setAttribute("cm-not-content","true")},function(cn,vn){vn=="horizontal"?id(nn,cn):Vd(nn,cn)},nn),nn.display.scrollbars.addClass&&Ci(nn.display.wrapper,nn.display.scrollbars.addClass)}var Nl=0;function od(nn){nn.curOp={cm:nn,viewChanged:!1,startHeight:nn.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Nl,markArrays:null},tl(nn.curOp)}function ad(nn){var cn=nn.curOp;cn&&Gl(cn,function(vn){for(var mn=0;mn<vn.ops.length;mn++)vn.ops[mn].cm.curOp=null;ip(vn)})}function ip(nn){for(var cn=nn.ops,vn=0;vn<cn.length;vn++)sg(cn[vn]);for(var mn=0;mn<cn.length;mn++)Fc(cn[mn]);for(var wn=0;wn<cn.length;wn++)_l(cn[wn]);for(var In=0;In<cn.length;In++)Ic(cn[In]);for(var Nn=0;Nn<cn.length;Nn++)tu(cn[Nn])}function sg(nn){var cn=nn.cm,vn=cn.display;lg(cn),nn.updateMaxLine&&Tn(cn),nn.mustUpdate=nn.viewChanged||nn.forceUpdate||nn.scrollTop!=null||nn.scrollToPos&&(nn.scrollToPos.from.line<vn.viewFrom||nn.scrollToPos.to.line>=vn.viewTo)||vn.maxLineChanged&&cn.options.lineWrapping,nn.update=nn.mustUpdate&&new zc(cn,nn.mustUpdate&&{top:nn.scrollTop,ensure:nn.scrollToPos},nn.forceUpdate)}function Fc(nn){nn.updatedDisplay=nn.mustUpdate&&rf(nn.cm,nn.update)}function _l(nn){var cn=nn.cm,vn=cn.display;nn.updatedDisplay&&Tc(cn),nn.barMeasure=jd(cn),vn.maxLineChanged&&!cn.options.lineWrapping&&(nn.adjustWidthTo=Xc(cn,vn.maxLine,vn.maxLine.text.length).left+3,cn.display.sizerWidth=nn.adjustWidthTo,nn.barMeasure.scrollWidth=Math.max(vn.scroller.clientWidth,vn.sizer.offsetLeft+nn.adjustWidthTo+qs(cn)+cn.display.barWidth),nn.maxScrollLeft=Math.max(0,vn.sizer.offsetLeft+nn.adjustWidthTo-sl(cn))),(nn.updatedDisplay||nn.selectionChanged)&&(nn.preparedSelection=vn.input.prepareSelection())}function Ic(nn){var cn=nn.cm;nn.adjustWidthTo!=null&&(cn.display.sizer.style.minWidth=nn.adjustWidthTo+"px",nn.maxScrollLeft<cn.doc.scrollLeft&&id(cn,Math.min(cn.display.scroller.scrollLeft,nn.maxScrollLeft),!0),cn.display.maxLineChanged=!1);var vn=nn.focus&&nn.focus==wi(Gn(cn));nn.preparedSelection&&cn.display.input.showSelection(nn.preparedSelection,vn),(nn.updatedDisplay||nn.startHeight!=cn.doc.height)&&Bc(cn,nn.barMeasure),nn.updatedDisplay&&kh(cn,nn.barMeasure),nn.selectionChanged&&Hd(cn),cn.state.focused&&nn.updateInput&&cn.display.input.reset(nn.typing),vn&&kd(nn.cm)}function tu(nn){var cn=nn.cm,vn=cn.display,mn=cn.doc;if(nn.updatedDisplay&&is(cn,nn.update),vn.wheelStartX!=null&&(nn.scrollTop!=null||nn.scrollLeft!=null||nn.scrollToPos)&&(vn.wheelStartX=vn.wheelStartY=null),nn.scrollTop!=null&&ef(cn,nn.scrollTop,nn.forceScroll),nn.scrollLeft!=null&&id(cn,nn.scrollLeft,!0,!0),nn.scrollToPos){var wn=ei(cn,Ri(mn,nn.scrollToPos.from),Ri(mn,nn.scrollToPos.to),nn.scrollToPos.margin);Bn(cn,wn)}var In=nn.maybeHiddenMarkers,Nn=nn.maybeUnhiddenMarkers;if(In)for(var Vn=0;Vn<In.length;++Vn)In[Vn].lines.length||na(In[Vn],"hide");if(Nn)for(var Yn=0;Yn<Nn.length;++Yn)Nn[Yn].lines.length&&na(Nn[Yn],"unhide");vn.wrapper.offsetHeight&&(mn.scrollTop=cn.display.scroller.scrollTop),nn.changeObjs&&na(cn,"changes",cn,nn.changeObjs),nn.update&&nn.update.finish()}function rl(nn,cn){if(nn.curOp)return cn();od(nn);try{return cn()}finally{ad(nn)}}function dl(nn,cn){return function(){if(nn.curOp)return cn.apply(nn,arguments);od(nn);try{return cn.apply(nn,arguments)}finally{ad(nn)}}}function Bl(nn){return function(){if(this.curOp)return nn.apply(this,arguments);od(this);try{return nn.apply(this,arguments)}finally{ad(this)}}}function hl(nn){return function(){var cn=this.cm;if(!cn||cn.curOp)return nn.apply(this,arguments);od(cn);try{return nn.apply(this,arguments)}finally{ad(cn)}}}function Wd(nn,cn){nn.doc.highlightFrontier<nn.display.viewTo&&nn.state.highlight.set(cn,Ni(op,nn))}function op(nn){var cn=nn.doc;if(!(cn.highlightFrontier>=nn.display.viewTo)){var vn=+new Date+nn.options.workTime,mn=Po(nn,cn.highlightFrontier),wn=[];cn.iter(mn.line,Math.min(cn.first+cn.size,nn.display.viewTo+500),function(In){if(mn.line>=nn.display.viewFrom){var Nn=In.styles,Vn=In.text.length>nn.options.maxHighlightLength?Jo(cn.mode,mn.state):null,Yn=jo(nn,In,mn,!0);Vn&&(mn.state=Vn),In.styles=Yn.styles;var Jn=In.styleClasses,ci=Yn.classes;ci?In.styleClasses=ci:Jn&&(In.styleClasses=null);for(var vi=!Nn||Nn.length!=In.styles.length||Jn!=ci&&(!Jn||!ci||Jn.bgClass!=ci.bgClass||Jn.textClass!=ci.textClass),Oi=0;!vi&&Oi<Nn.length;++Oi)vi=Nn[Oi]!=In.styles[Oi];vi&&wn.push(mn.line),In.stateAfter=mn.save(),mn.nextLine()}else In.text.length<=nn.options.maxHighlightLength&&xa(nn,In.text,mn),In.stateAfter=mn.line%5==0?mn.save():null,mn.nextLine();if(+new Date>vn)return Wd(nn,nn.options.workDelay),!0}),cn.highlightFrontier=mn.line,cn.modeFrontier=Math.max(cn.modeFrontier,mn.line),wn.length&&rl(nn,function(){for(var In=0;In<wn.length;In++)kc(nn,wn[In],"text")})}}var zc=function(nn,cn,vn){var mn=nn.display;this.viewport=cn,this.visible=Ln(mn,nn.doc,cn),this.editorIsHidden=!mn.wrapper.offsetWidth,this.wrapperHeight=mn.wrapper.clientHeight,this.wrapperWidth=mn.wrapper.clientWidth,this.oldDisplayWidth=sl(nn),this.force=vn,this.dims=Ks(nn),this.events=[]};zc.prototype.signal=function(nn,cn){aa(nn,cn)&&this.events.push(arguments)},zc.prototype.finish=function(){for(var nn=0;nn<this.events.length;nn++)na.apply(null,this.events[nn])};function lg(nn){var cn=nn.display;!cn.scrollbarsClipped&&cn.scroller.offsetWidth&&(cn.nativeBarWidth=cn.scroller.offsetWidth-cn.scroller.clientWidth,cn.heightForcer.style.height=qs(nn)+"px",cn.sizer.style.marginBottom=-cn.nativeBarWidth+"px",cn.sizer.style.borderRightWidth=qs(nn)+"px",cn.scrollbarsClipped=!0)}function Go(nn){if(nn.hasFocus())return null;var cn=wi(Gn(nn));if(!cn||!oi(nn.display.lineDiv,cn))return null;var vn={activeElt:cn};if(window.getSelection){var mn=ui(nn).getSelection();mn.anchorNode&&mn.extend&&oi(nn.display.lineDiv,mn.anchorNode)&&(vn.anchorNode=mn.anchorNode,vn.anchorOffset=mn.anchorOffset,vn.focusNode=mn.focusNode,vn.focusOffset=mn.focusOffset)}return vn}function ap(nn){if(!(!nn||!nn.activeElt||nn.activeElt==wi(nn.activeElt.ownerDocument))&&(nn.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(nn.activeElt.nodeName)&&nn.anchorNode&&oi(document.body,nn.anchorNode)&&oi(document.body,nn.focusNode))){var cn=nn.activeElt.ownerDocument,vn=cn.defaultView.getSelection(),mn=cn.createRange();mn.setEnd(nn.anchorNode,nn.anchorOffset),mn.collapse(!1),vn.removeAllRanges(),vn.addRange(mn),vn.extend(nn.focusNode,nn.focusOffset)}}function rf(nn,cn){var vn=nn.display,mn=nn.doc;if(cn.editorIsHidden)return Nc(nn),!1;if(!cn.force&&cn.visible.from>=vn.viewFrom&&cn.visible.to<=vn.viewTo&&(vn.updateLineNumbers==null||vn.updateLineNumbers>=vn.viewTo)&&vn.renderedView==vn.view&&nd(nn)==0)return!1;of(nn)&&(Nc(nn),cn.dims=Ks(nn));var wn=mn.first+mn.size,In=Math.max(cn.visible.from-nn.options.viewportMargin,mn.first),Nn=Math.min(wn,cn.visible.to+nn.options.viewportMargin);vn.viewFrom<In&&In-vn.viewFrom<20&&(In=Math.max(mn.first,vn.viewFrom)),vn.viewTo>Nn&&vn.viewTo-Nn<20&&(Nn=Math.min(wn,vn.viewTo)),Pa&&(In=Sl(nn.doc,In),Nn=bl(nn.doc,Nn));var Vn=In!=vn.viewFrom||Nn!=vn.viewTo||vn.lastWrapHeight!=cn.wrapperHeight||vn.lastWrapWidth!=cn.wrapperWidth;js(nn,In,Nn),vn.viewOffset=al(bi(nn.doc,vn.viewFrom)),nn.display.mover.style.top=vn.viewOffset+"px";var Yn=nd(nn);if(!Vn&&Yn==0&&!cn.force&&vn.renderedView==vn.view&&(vn.updateLineNumbers==null||vn.updateLineNumbers>=vn.viewTo))return!1;var Jn=Go(nn);return Yn>4&&(vn.lineDiv.style.display="none"),Yd(nn,vn.updateLineNumbers,cn.dims),Yn>4&&(vn.lineDiv.style.display=""),vn.renderedView=vn.view,ap(Jn),Fn(vn.cursorDiv),Fn(vn.selectionDiv),vn.gutters.style.height=vn.sizer.style.minHeight=0,Vn&&(vn.lastWrapHeight=cn.wrapperHeight,vn.lastWrapWidth=cn.wrapperWidth,Wd(nn,400)),vn.updateLineNumbers=null,!0}function is(nn,cn){for(var vn=cn.viewport,mn=!0;;mn=!1){if(!mn||!nn.options.lineWrapping||cn.oldDisplayWidth==sl(nn)){if(vn&&vn.top!=null&&(vn={top:Math.min(nn.doc.height+ls(nn.display)-Ec(nn),vn.top)}),cn.visible=Ln(nn.display,nn.doc,vn),cn.visible.from>=nn.display.viewFrom&&cn.visible.to<=nn.display.viewTo)break}else mn&&(cn.visible=Ln(nn.display,nn.doc,vn));if(!rf(nn,cn))break;Tc(nn);var wn=jd(nn);Ru(nn),Bc(nn,wn),kh(nn,wn),cn.force=!1}cn.signal(nn,"update",nn),(nn.display.viewFrom!=nn.display.reportedViewFrom||nn.display.viewTo!=nn.display.reportedViewTo)&&(cn.signal(nn,"viewportChange",nn,nn.display.viewFrom,nn.display.viewTo),nn.display.reportedViewFrom=nn.display.viewFrom,nn.display.reportedViewTo=nn.display.viewTo)}function Cc(nn,cn){var vn=new zc(nn,cn);if(rf(nn,vn)){Tc(nn),is(nn,vn);var mn=jd(nn);Ru(nn),Bc(nn,mn),kh(nn,mn),vn.finish()}}function Yd(nn,cn,vn){var mn=nn.display,wn=nn.options.lineNumbers,In=mn.lineDiv,Nn=In.firstChild;function Vn(Gi){var ao=Gi.nextSibling;return Kr&&Sn&&nn.display.currentWheelTarget==Gi?Gi.style.display="none":Gi.parentNode.removeChild(Gi),ao}for(var Yn=mn.view,Jn=mn.viewFrom,ci=0;ci<Yn.length;ci++){var vi=Yn[ci];if(!vi.hidden)if(!vi.node||vi.node.parentNode!=In){var Oi=Ol(nn,vi,Jn,vn);In.insertBefore(Oi,Nn)}else{for(;Nn!=vi.node;)Nn=Vn(Nn);var Di=wn&&cn!=null&&cn<=Jn&&vi.lineNumber;vi.changes&&(lo(vi.changes,"gutter")>-1&&(Di=!1),Ps(nn,vi,Jn,vn)),Di&&(Fn(vi.lineNumber),vi.lineNumber.appendChild(document.createTextNode(ul(nn.options,Jn)))),Nn=vi.node.nextSibling}Jn+=vi.size}for(;Nn;)Nn=Vn(Nn)}function nf(nn){var cn=nn.gutters.offsetWidth;nn.sizer.style.marginLeft=cn+"px",ws(nn,"gutterChanged",nn)}function kh(nn,cn){nn.display.sizer.style.minHeight=cn.docHeight+"px",nn.display.heightForcer.style.top=cn.docHeight+"px",nn.display.gutters.style.height=cn.docHeight+nn.display.barHeight+qs(nn)+"px"}function qd(nn){var cn=nn.display,vn=cn.view;if(!(!cn.alignWidgets&&(!cn.gutters.firstChild||!nn.options.fixedGutter))){for(var mn=Ql(cn)-cn.scroller.scrollLeft+nn.doc.scrollLeft,wn=cn.gutters.offsetWidth,In=mn+"px",Nn=0;Nn<vn.length;Nn++)if(!vn[Nn].hidden){nn.options.fixedGutter&&(vn[Nn].gutter&&(vn[Nn].gutter.style.left=In),vn[Nn].gutterBackground&&(vn[Nn].gutterBackground.style.left=In));var Vn=vn[Nn].alignable;if(Vn)for(var Yn=0;Yn<Vn.length;Yn++)Vn[Yn].style.left=In}nn.options.fixedGutter&&(cn.gutters.style.left=mn+wn+"px")}}function of(nn){if(!nn.options.lineNumbers)return!1;var cn=nn.doc,vn=ul(nn.options,cn.first+cn.size-1),mn=nn.display;if(vn.length!=mn.lineNumChars){var wn=mn.measure.appendChild(Hn("div",[Hn("div",vn)],"CodeMirror-linenumber CodeMirror-gutter-elt")),In=wn.firstChild.offsetWidth,Nn=wn.offsetWidth-In;return mn.lineGutter.style.width="",mn.lineNumInnerWidth=Math.max(In,mn.lineGutter.offsetWidth-Nn)+1,mn.lineNumWidth=mn.lineNumInnerWidth+Nn,mn.lineNumChars=mn.lineNumInnerWidth?vn.length:-1,mn.lineGutter.style.width=mn.lineNumWidth+"px",nf(nn.display),!0}return!1}function af(nn,cn){for(var vn=[],mn=!1,wn=0;wn<nn.length;wn++){var In=nn[wn],Nn=null;if(typeof In!="string"&&(Nn=In.style,In=In.className),In=="CodeMirror-linenumbers")if(cn)mn=!0;else continue;vn.push({className:In,style:Nn})}return cn&&!mn&&vn.push({className:"CodeMirror-linenumbers",style:null}),vn}function sp(nn){var cn=nn.gutters,vn=nn.gutterSpecs;Fn(cn),nn.lineGutter=null;for(var mn=0;mn<vn.length;++mn){var wn=vn[mn],In=wn.className,Nn=wn.style,Vn=cn.appendChild(Hn("div",null,"CodeMirror-gutter "+In));Nn&&(Vn.style.cssText=Nn),In=="CodeMirror-linenumbers"&&(nn.lineGutter=Vn,Vn.style.width=(nn.lineNumWidth||1)+"px")}cn.style.display=vn.length?"":"none",nf(nn)}function Kd(nn){sp(nn.display),ns(nn),qd(nn)}function lp(nn,cn,vn,mn){var wn=this;this.input=vn,wn.scrollbarFiller=Hn("div",null,"CodeMirror-scrollbar-filler"),wn.scrollbarFiller.setAttribute("cm-not-content","true"),wn.gutterFiller=Hn("div",null,"CodeMirror-gutter-filler"),wn.gutterFiller.setAttribute("cm-not-content","true"),wn.lineDiv=qn("div",null,"CodeMirror-code"),wn.selectionDiv=Hn("div",null,null,"position: relative; z-index: 1"),wn.cursorDiv=Hn("div",null,"CodeMirror-cursors"),wn.measure=Hn("div",null,"CodeMirror-measure"),wn.lineMeasure=Hn("div",null,"CodeMirror-measure"),wn.lineSpace=qn("div",[wn.measure,wn.lineMeasure,wn.selectionDiv,wn.cursorDiv,wn.lineDiv],null,"position: relative; outline: none");var In=qn("div",[wn.lineSpace],"CodeMirror-lines");wn.mover=Hn("div",[In],null,"position: relative"),wn.sizer=Hn("div",[wn.mover],"CodeMirror-sizer"),wn.sizerWidth=null,wn.heightForcer=Hn("div",null,null,"position: absolute; height: "+ho+"px; width: 1px;"),wn.gutters=Hn("div",null,"CodeMirror-gutters"),wn.lineGutter=null,wn.scroller=Hn("div",[wn.sizer,wn.heightForcer,wn.gutters],"CodeMirror-scroll"),wn.scroller.setAttribute("tabIndex","-1"),wn.wrapper=Hn("div",[wn.scrollbarFiller,wn.gutterFiller,wn.scroller],"CodeMirror"),Jr&&rn>=105&&(wn.wrapper.style.clipPath="inset(0px)"),wn.wrapper.setAttribute("translate","no"),Gr&&Yr<8&&(wn.gutters.style.zIndex=-1,wn.scroller.style.paddingRight=0),!Kr&&!(Fr&&kn)&&(wn.scroller.draggable=!0),nn&&(nn.appendChild?nn.appendChild(wn.wrapper):nn(wn.wrapper)),wn.viewFrom=wn.viewTo=cn.first,wn.reportedViewFrom=wn.reportedViewTo=cn.first,wn.view=[],wn.renderedView=null,wn.externalMeasured=null,wn.viewOffset=0,wn.lastWrapHeight=wn.lastWrapWidth=0,wn.updateLineNumbers=null,wn.nativeBarWidth=wn.barHeight=wn.barWidth=0,wn.scrollbarsClipped=!1,wn.lineNumWidth=wn.lineNumInnerWidth=wn.lineNumChars=null,wn.alignWidgets=!1,wn.cachedCharWidth=wn.cachedTextHeight=wn.cachedPaddingH=null,wn.maxLine=null,wn.maxLineLength=0,wn.maxLineChanged=!1,wn.wheelDX=wn.wheelDY=wn.wheelStartX=wn.wheelStartY=null,wn.shift=!1,wn.selForContextMenu=null,wn.activeTouch=null,wn.gutterSpecs=af(mn.gutters,mn.lineNumbers),sp(wn),vn.init(wn)}var Zd=0,ru=null;Gr?ru=-.53:Fr?ru=15:Jr?ru=-.7:ln&&(ru=-1/3);function sf(nn){var cn=nn.wheelDeltaX,vn=nn.wheelDeltaY;return cn==null&&nn.detail&&nn.axis==nn.HORIZONTAL_AXIS&&(cn=nn.detail),vn==null&&nn.detail&&nn.axis==nn.VERTICAL_AXIS?vn=nn.detail:vn==null&&(vn=nn.wheelDelta),{x:cn,y:vn}}function cp(nn){var cn=sf(nn);return cn.x*=ru,cn.y*=ru,cn}function lf(nn,cn){Jr&&rn==102&&(nn.display.chromeScrollHack==null?nn.display.sizer.style.pointerEvents="none":clearTimeout(nn.display.chromeScrollHack),nn.display.chromeScrollHack=setTimeout(function(){nn.display.chromeScrollHack=null,nn.display.sizer.style.pointerEvents=""},100));var vn=sf(cn),mn=vn.x,wn=vn.y,In=ru;cn.deltaMode===0&&(mn=cn.deltaX,wn=cn.deltaY,In=1);var Nn=nn.display,Vn=Nn.scroller,Yn=Vn.scrollWidth>Vn.clientWidth,Jn=Vn.scrollHeight>Vn.clientHeight;if(mn&&Yn||wn&&Jn){if(wn&&Sn&&Kr){e:for(var ci=cn.target,vi=Nn.view;ci!=Vn;ci=ci.parentNode)for(var Oi=0;Oi<vi.length;Oi++)if(vi[Oi].node==ci){nn.display.currentWheelTarget=ci;break e}}if(mn&&!Fr&&!an&&In!=null){wn&&Jn&&Vd(nn,Math.max(0,Vn.scrollTop+wn*In)),id(nn,Math.max(0,Vn.scrollLeft+mn*In)),(!wn||wn&&Jn)&&Na(cn),Nn.wheelStartX=null;return}if(wn&&In!=null){var Di=wn*In,Gi=nn.doc.scrollTop,ao=Gi+Nn.wrapper.clientHeight;Di<0?Gi=Math.max(0,Gi+Di-50):ao=Math.min(nn.doc.height,ao+Di+50),Cc(nn,{top:Gi,bottom:ao})}Zd<20&&cn.deltaMode!==0&&(Nn.wheelStartX==null?(Nn.wheelStartX=Vn.scrollLeft,Nn.wheelStartY=Vn.scrollTop,Nn.wheelDX=mn,Nn.wheelDY=wn,setTimeout(function(){if(Nn.wheelStartX!=null){var mo=Vn.scrollLeft-Nn.wheelStartX,So=Vn.scrollTop-Nn.wheelStartY,Oo=So&&Nn.wheelDY&&So/Nn.wheelDY||mo&&Nn.wheelDX&&mo/Nn.wheelDX;Nn.wheelStartX=Nn.wheelStartY=null,Oo&&(ru=(ru*Zd+Oo)/(Zd+1),++Zd)}},200)):(Nn.wheelDX+=mn,Nn.wheelDY+=wn))}}var Fl=function(nn,cn){this.ranges=nn,this.primIndex=cn};Fl.prototype.primary=function(){return this.ranges[this.primIndex]},Fl.prototype.equals=function(nn){if(nn==this)return!0;if(nn.primIndex!=this.primIndex||nn.ranges.length!=this.ranges.length)return!1;for(var cn=0;cn<this.ranges.length;cn++){var vn=this.ranges[cn],mn=nn.ranges[cn];if(!fs(vn.anchor,mn.anchor)||!fs(vn.head,mn.head))return!1}return!0},Fl.prototype.deepCopy=function(){for(var nn=[],cn=0;cn<this.ranges.length;cn++)nn[cn]=new cs(vl(this.ranges[cn].anchor),vl(this.ranges[cn].head));return new Fl(nn,this.primIndex)},Fl.prototype.somethingSelected=function(){for(var nn=0;nn<this.ranges.length;nn++)if(!this.ranges[nn].empty())return!0;return!1},Fl.prototype.contains=function(nn,cn){cn||(cn=nn);for(var vn=0;vn<this.ranges.length;vn++){var mn=this.ranges[vn];if(Ko(cn,mn.from())>=0&&Ko(nn,mn.to())<=0)return vn}return-1};var cs=function(nn,cn){this.anchor=nn,this.head=cn};cs.prototype.from=function(){return li(this.anchor,this.head)},cs.prototype.to=function(){return gi(this.anchor,this.head)},cs.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function xc(nn,cn,vn){var mn=nn&&nn.options.selectionsMayTouch,wn=cn[vn];cn.sort(function(Oi,Di){return Ko(Oi.from(),Di.from())}),vn=lo(cn,wn);for(var In=1;In<cn.length;In++){var Nn=cn[In],Vn=cn[In-1],Yn=Ko(Vn.to(),Nn.from());if(mn&&!Nn.empty()?Yn>0:Yn>=0){var Jn=li(Vn.from(),Nn.from()),ci=gi(Vn.to(),Nn.to()),vi=Vn.empty()?Nn.from()==Nn.head:Vn.from()==Vn.head;In<=vn&&--vn,cn.splice(--In,2,new cs(vi?ci:Jn,vi?Jn:ci))}}return new Fl(cn,vn)}function nu(nn,cn){return new Fl([new cs(nn,cn||nn)],0)}function bu(nn){return nn.text?ro(nn.from.line+nn.text.length-1,xo(nn.text).length+(nn.text.length==1?nn.from.ch:0)):nn.to}function cf(nn,cn){if(Ko(nn,cn.from)<0)return nn;if(Ko(nn,cn.to)<=0)return bu(cn);var vn=nn.line+cn.text.length-(cn.to.line-cn.from.line)-1,mn=nn.ch;return nn.line==cn.to.line&&(mn+=bu(cn).ch-cn.to.ch),ro(vn,mn)}function uf(nn,cn){for(var vn=[],mn=0;mn<nn.sel.ranges.length;mn++){var wn=nn.sel.ranges[mn];vn.push(new cs(cf(wn.anchor,cn),cf(wn.head,cn)))}return xc(nn.cm,vn,nn.sel.primIndex)}function df(nn,cn,vn){return nn.line==cn.line?ro(vn.line,nn.ch-cn.ch+vn.ch):ro(vn.line+(nn.line-cn.line),nn.ch)}function cg(nn,cn,vn){for(var mn=[],wn=ro(nn.first,0),In=wn,Nn=0;Nn<cn.length;Nn++){var Vn=cn[Nn],Yn=df(Vn.from,wn,In),Jn=df(bu(Vn),wn,In);if(wn=Vn.to,In=Jn,vn=="around"){var ci=nn.sel.ranges[Nn],vi=Ko(ci.head,ci.anchor)<0;mn[Nn]=new cs(vi?Jn:Yn,vi?Yn:Jn)}else mn[Nn]=new cs(Yn,Yn)}return new Fl(mn,nn.sel.primIndex)}function Ah(nn){nn.doc.mode=Ba(nn.options,nn.doc.modeOption),iu(nn)}function iu(nn){nn.doc.iter(function(cn){cn.stateAfter&&(cn.stateAfter=null),cn.styles&&(cn.styles=null)}),nn.doc.modeFrontier=nn.doc.highlightFrontier=nn.doc.first,Wd(nn,100),nn.state.modeGen++,nn.curOp&&ns(nn)}function hf(nn,cn){return cn.from.ch==0&&cn.to.ch==0&&xo(cn.text)==""&&(!nn.cm||nn.cm.options.wholeLineUpdateBefore)}function ff(nn,cn,vn,mn){function wn(Oo){return vn?vn[Oo]:null}function In(Oo,wo,zo){zn(Oo,wo,zo,mn),ws(Oo,"change",Oo,cn)}function Nn(Oo,wo){for(var zo=[],ra=Oo;ra<wo;++ra)zo.push(new $n(Jn[ra],wn(ra),mn));return zo}var Vn=cn.from,Yn=cn.to,Jn=cn.text,ci=bi(nn,Vn.line),vi=bi(nn,Yn.line),Oi=xo(Jn),Di=wn(Jn.length-1),Gi=Yn.line-Vn.line;if(cn.full)nn.insert(0,Nn(0,Jn.length)),nn.remove(Jn.length,nn.size-Jn.length);else if(hf(nn,cn)){var ao=Nn(0,Jn.length-1);In(vi,vi.text,Di),Gi&&nn.remove(Vn.line,Gi),ao.length&&nn.insert(Vn.line,ao)}else if(ci==vi)if(Jn.length==1)In(ci,ci.text.slice(0,Vn.ch)+Oi+ci.text.slice(Yn.ch),Di);else{var mo=Nn(1,Jn.length-1);mo.push(new $n(Oi+ci.text.slice(Yn.ch),Di,mn)),In(ci,ci.text.slice(0,Vn.ch)+Jn[0],wn(0)),nn.insert(Vn.line+1,mo)}else if(Jn.length==1)In(ci,ci.text.slice(0,Vn.ch)+Jn[0]+vi.text.slice(Yn.ch),wn(0)),nn.remove(Vn.line+1,Gi);else{In(ci,ci.text.slice(0,Vn.ch)+Jn[0],wn(0)),In(vi,Oi+vi.text.slice(Yn.ch),Di);var So=Nn(1,Jn.length-1);Gi>1&&nn.remove(Vn.line+1,Gi-1),nn.insert(Vn.line+1,So)}ws(nn,"change",nn,cn)}function gs(nn,cn,vn){function mn(wn,In,Nn){if(wn.linked)for(var Vn=0;Vn<wn.linked.length;++Vn){var Yn=wn.linked[Vn];if(Yn.doc!=In){var Jn=Nn&&Yn.sharedHist;vn&&!Jn||(cn(Yn.doc,Jn),mn(Yn.doc,wn,Jn))}}}mn(nn,null,!0)}function pf(nn,cn){if(cn.cm)throw new Error("This document is already in use.");nn.doc=cn,cn.cm=nn,Xs(nn),Ah(nn),up(nn),nn.options.direction=cn.direction,nn.options.lineWrapping||Tn(nn),nn.options.mode=cn.modeOption,ns(nn)}function up(nn){(nn.doc.direction=="rtl"?Ci:jn)(nn.display.lineDiv,"CodeMirror-rtl")}function Ch(nn){rl(nn,function(){up(nn),ns(nn)})}function Xd(nn){this.done=[],this.undone=[],this.undoDepth=nn?nn.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=nn?nn.maxGeneration:1}function gf(nn,cn){var vn={from:vl(cn.from),to:bu(cn),text:ms(nn,cn.from,cn.to)};return yf(nn,vn,cn.from.line,cn.to.line+1),gs(nn,function(mn){return yf(mn,vn,cn.from.line,cn.to.line+1)},!0),vn}function mf(nn){for(;nn.length;){var cn=xo(nn);if(cn.ranges)nn.pop();else break}}function ug(nn,cn){if(cn)return mf(nn.done),xo(nn.done);if(nn.done.length&&!xo(nn.done).ranges)return xo(nn.done);if(nn.done.length>1&&!nn.done[nn.done.length-2].ranges)return nn.done.pop(),xo(nn.done)}function vf(nn,cn,vn,mn){var wn=nn.history;wn.undone.length=0;var In=+new Date,Nn,Vn;if((wn.lastOp==mn||wn.lastOrigin==cn.origin&&cn.origin&&(cn.origin.charAt(0)=="+"&&wn.lastModTime>In-(nn.cm?nn.cm.options.historyEventDelay:500)||cn.origin.charAt(0)=="*"))&&(Nn=ug(wn,wn.lastOp==mn)))Vn=xo(Nn.changes),Ko(cn.from,cn.to)==0&&Ko(cn.from,Vn.to)==0?Vn.to=bu(cn):Nn.changes.push(gf(nn,cn));else{var Yn=xo(wn.done);for((!Yn||!Yn.ranges)&&Cd(nn.sel,wn.done),Nn={changes:[gf(nn,cn)],generation:wn.generation},wn.done.push(Nn);wn.done.length>wn.undoDepth;)wn.done.shift(),wn.done[0].ranges||wn.done.shift()}wn.done.push(vn),wn.generation=++wn.maxGeneration,wn.lastModTime=wn.lastSelTime=In,wn.lastOp=wn.lastSelOp=mn,wn.lastOrigin=wn.lastSelOrigin=cn.origin,Vn||na(nn,"historyAdded")}function dp(nn,cn,vn,mn){var wn=cn.charAt(0);return wn=="*"||wn=="+"&&vn.ranges.length==mn.ranges.length&&vn.somethingSelected()==mn.somethingSelected()&&new Date-nn.history.lastSelTime<=(nn.cm?nn.cm.options.historyEventDelay:500)}function dg(nn,cn,vn,mn){var wn=nn.history,In=mn&&mn.origin;vn==wn.lastSelOp||In&&wn.lastSelOrigin==In&&(wn.lastModTime==wn.lastSelTime&&wn.lastOrigin==In||dp(nn,In,xo(wn.done),cn))?wn.done[wn.done.length-1]=cn:Cd(cn,wn.done),wn.lastSelTime=+new Date,wn.lastSelOrigin=In,wn.lastSelOp=vn,mn&&mn.clearRedo!==!1&&mf(wn.undone)}function Cd(nn,cn){var vn=xo(cn);vn&&vn.ranges&&vn.equals(nn)||cn.push(nn)}function yf(nn,cn,vn,mn){var wn=cn["spans_"+nn.id],In=0;nn.iter(Math.max(nn.first,vn),Math.min(nn.first+nn.size,mn),function(Nn){Nn.markedSpans&&((wn||(wn=cn["spans_"+nn.id]={}))[In]=Nn.markedSpans),++In})}function hg(nn){if(!nn)return null;for(var cn,vn=0;vn<nn.length;++vn)nn[vn].marker.explicitlyCleared?cn||(cn=nn.slice(0,vn)):cn&&cn.push(nn[vn]);return cn?cn.length?cn:null:nn}function fg(nn,cn){var vn=cn["spans_"+nn.id];if(!vn)return null;for(var mn=[],wn=0;wn<cn.text.length;++wn)mn.push(hg(vn[wn]));return mn}function hp(nn,cn){var vn=fg(nn,cn),mn=Ll(nn,cn);if(!vn)return mn;if(!mn)return vn;for(var wn=0;wn<vn.length;++wn){var In=vn[wn],Nn=mn[wn];if(In&&Nn)e:for(var Vn=0;Vn<Nn.length;++Vn){for(var Yn=Nn[Vn],Jn=0;Jn<In.length;++Jn)if(In[Jn].marker==Yn.marker)continue e;In.push(Yn)}else Nn&&(vn[wn]=Nn)}return vn}function xd(nn,cn,vn){for(var mn=[],wn=0;wn<nn.length;++wn){var In=nn[wn];if(In.ranges){mn.push(vn?Fl.prototype.deepCopy.call(In):In);continue}var Nn=In.changes,Vn=[];mn.push({changes:Vn});for(var Yn=0;Yn<Nn.length;++Yn){var Jn=Nn[Yn],ci=void 0;if(Vn.push({from:Jn.from,to:Jn.to,text:Jn.text}),cn)for(var vi in Jn)(ci=vi.match(/^spans_(\d+)$/))&&lo(cn,Number(ci[1]))>-1&&(xo(Vn)[vi]=Jn[vi],delete Jn[vi])}}return mn}function xh(nn,cn,vn,mn){if(mn){var wn=nn.anchor;if(vn){var In=Ko(cn,wn)<0;In!=Ko(vn,wn)<0?(wn=cn,cn=vn):In!=Ko(cn,vn)<0&&(cn=vn)}return new cs(wn,cn)}else return new cs(vn||cn,cn)}function Sh(nn,cn,vn,mn,wn){wn==null&&(wn=nn.cm&&(nn.cm.display.shift||nn.extend)),El(nn,new Fl([xh(nn.sel.primary(),cn,vn,wn)],0),mn)}function Dh(nn,cn,vn){for(var mn=[],wn=nn.cm&&(nn.cm.display.shift||nn.extend),In=0;In<nn.sel.ranges.length;In++)mn[In]=xh(nn.sel.ranges[In],cn[In],null,wn);var Nn=xc(nn.cm,mn,nn.sel.primIndex);El(nn,Nn,vn)}function Qd(nn,cn,vn,mn){var wn=nn.sel.ranges.slice(0);wn[cn]=vn,El(nn,xc(nn.cm,wn,nn.sel.primIndex),mn)}function bf(nn,cn,vn,mn){El(nn,nu(cn,vn),mn)}function pg(nn,cn,vn){var mn={ranges:cn.ranges,update:function(wn){this.ranges=[];for(var In=0;In<wn.length;In++)this.ranges[In]=new cs(Ri(nn,wn[In].anchor),Ri(nn,wn[In].head))},origin:vn&&vn.origin};return na(nn,"beforeSelectionChange",nn,mn),nn.cm&&na(nn.cm,"beforeSelectionChange",nn.cm,mn),mn.ranges!=cn.ranges?xc(nn.cm,mn.ranges,mn.ranges.length-1):cn}function sd(nn,cn,vn){var mn=nn.history.done,wn=xo(mn);wn&&wn.ranges?(mn[mn.length-1]=cn,Jd(nn,cn,vn)):El(nn,cn,vn)}function El(nn,cn,vn){Jd(nn,cn,vn),dg(nn,nn.sel,nn.cm?nn.cm.curOp.id:NaN,vn)}function Jd(nn,cn,vn){(aa(nn,"beforeSelectionChange")||nn.cm&&aa(nn.cm,"beforeSelectionChange"))&&(cn=pg(nn,cn,vn));var mn=vn&&vn.bias||(Ko(cn.primary().head,nn.sel.primary().head)<0?-1:1);fp(nn,yo(nn,cn,mn,!0)),!(vn&&vn.scroll===!1)&&nn.cm&&nn.cm.getOption("readOnly")!="nocursor"&&Ja(nn.cm)}function fp(nn,cn){cn.equals(nn.sel)||(nn.sel=cn,nn.cm&&(nn.cm.curOp.updateInput=1,nn.cm.curOp.selectionChanged=!0,Ms(nn.cm)),ws(nn,"cursorActivity",nn))}function _f(nn){fp(nn,yo(nn,nn.sel,null,!1))}function yo(nn,cn,vn,mn){for(var wn,In=0;In<cn.ranges.length;In++){var Nn=cn.ranges[In],Vn=cn.ranges.length==nn.sel.ranges.length&&nn.sel.ranges[In],Yn=Wa(nn,Nn.anchor,Vn&&Vn.anchor,vn,mn),Jn=Nn.head==Nn.anchor?Yn:Wa(nn,Nn.head,Vn&&Vn.head,vn,mn);(wn||Yn!=Nn.anchor||Jn!=Nn.head)&&(wn||(wn=cn.ranges.slice(0,In)),wn[In]=new cs(Yn,Jn))}return wn?xc(nn.cm,wn,cn.primIndex):cn}function ld(nn,cn,vn,mn,wn){var In=bi(nn,cn.line);if(In.markedSpans)for(var Nn=0;Nn<In.markedSpans.length;++Nn){var Vn=In.markedSpans[Nn],Yn=Vn.marker,Jn="selectLeft"in Yn?!Yn.selectLeft:Yn.inclusiveLeft,ci="selectRight"in Yn?!Yn.selectRight:Yn.inclusiveRight;if((Vn.from==null||(Jn?Vn.from<=cn.ch:Vn.from<cn.ch))&&(Vn.to==null||(ci?Vn.to>=cn.ch:Vn.to>cn.ch))){if(wn&&(na(Yn,"beforeCursorEnter"),Yn.explicitlyCleared))if(In.markedSpans){--Nn;continue}else break;if(!Yn.atomic)continue;if(vn){var vi=Yn.find(mn<0?1:-1),Oi=void 0;if((mn<0?ci:Jn)&&(vi=wf(nn,vi,-mn,vi&&vi.line==cn.line?In:null)),vi&&vi.line==cn.line&&(Oi=Ko(vi,vn))&&(mn<0?Oi<0:Oi>0))return ld(nn,vi,cn,mn,wn)}var Di=Yn.find(mn<0?-1:1);return(mn<0?Jn:ci)&&(Di=wf(nn,Di,mn,Di.line==cn.line?In:null)),Di?ld(nn,Di,cn,mn,wn):null}}return cn}function Wa(nn,cn,vn,mn,wn){var In=mn||1,Nn=ld(nn,cn,vn,In,wn)||!wn&&ld(nn,cn,vn,In,!0)||ld(nn,cn,vn,-In,wn)||!wn&&ld(nn,cn,vn,-In,!0);return Nn||(nn.cantEdit=!0,ro(nn.first,0))}function wf(nn,cn,vn,mn){return vn<0&&cn.ch==0?cn.line>nn.first?Ri(nn,ro(cn.line-1)):null:vn>0&&cn.ch==(mn||bi(nn,cn.line)).text.length?cn.line<nn.first+nn.size-1?ro(cn.line+1,0):null:new ro(cn.line,cn.ch+vn)}function kf(nn){nn.setSelection(ro(nn.firstLine(),0),ro(nn.lastLine()),Ki)}function Af(nn,cn,vn){var mn={canceled:!1,from:cn.from,to:cn.to,text:cn.text,origin:cn.origin,cancel:function(){return mn.canceled=!0}};return vn&&(mn.update=function(wn,In,Nn,Vn){wn&&(mn.from=Ri(nn,wn)),In&&(mn.to=Ri(nn,In)),Nn&&(mn.text=Nn),Vn!==void 0&&(mn.origin=Vn)}),na(nn,"beforeChange",nn,mn),nn.cm&&na(nn.cm,"beforeChange",nn.cm,mn),mn.canceled?(nn.cm&&(nn.cm.curOp.updateInput=2),null):{from:mn.from,to:mn.to,text:mn.text,origin:mn.origin}}function cd(nn,cn,vn){if(nn.cm){if(!nn.cm.curOp)return dl(nn.cm,cd)(nn,cn,vn);if(nn.cm.state.suppressEdits)return}if(!((aa(nn,"beforeChange")||nn.cm&&aa(nn.cm,"beforeChange"))&&(cn=Af(nn,cn,!0),!cn))){var mn=da&&!vn&&rc(nn,cn.from,cn.to);if(mn)for(var wn=mn.length-1;wn>=0;--wn)eh(nn,{from:mn[wn].from,to:mn[wn].to,text:wn?[""]:cn.text,origin:cn.origin});else eh(nn,cn)}}function eh(nn,cn){if(!(cn.text.length==1&&cn.text[0]==""&&Ko(cn.from,cn.to)==0)){var vn=uf(nn,cn);vf(nn,cn,vn,nn.cm?nn.cm.curOp.id:NaN),th(nn,cn,vn,Ll(nn,cn));var mn=[];gs(nn,function(wn,In){!In&&lo(mn,wn.history)==-1&&(xf(wn.history,cn),mn.push(wn.history)),th(wn,cn,null,Ll(wn,cn))})}}function Eh(nn,cn,vn){var mn=nn.cm&&nn.cm.state.suppressEdits;if(!(mn&&!vn)){for(var wn=nn.history,In,Nn=nn.sel,Vn=cn=="undo"?wn.done:wn.undone,Yn=cn=="undo"?wn.undone:wn.done,Jn=0;Jn<Vn.length&&(In=Vn[Jn],!(vn?In.ranges&&!In.equals(nn.sel):!In.ranges));Jn++);if(Jn!=Vn.length){for(wn.lastOrigin=wn.lastSelOrigin=null;;)if(In=Vn.pop(),In.ranges){if(Cd(In,Yn),vn&&!In.equals(nn.sel)){El(nn,In,{clearRedo:!1});return}Nn=In}else if(mn){Vn.push(In);return}else break;var ci=[];Cd(Nn,Yn),Yn.push({changes:ci,generation:wn.generation}),wn.generation=In.generation||++wn.maxGeneration;for(var vi=aa(nn,"beforeChange")||nn.cm&&aa(nn.cm,"beforeChange"),Oi=function(ao){var mo=In.changes[ao];if(mo.origin=cn,vi&&!Af(nn,mo,!1))return Vn.length=0,{};ci.push(gf(nn,mo));var So=ao?uf(nn,mo):xo(Vn);th(nn,mo,So,hp(nn,mo)),!ao&&nn.cm&&nn.cm.scrollIntoView({from:mo.from,to:bu(mo)});var Oo=[];gs(nn,function(wo,zo){!zo&&lo(Oo,wo.history)==-1&&(xf(wo.history,mo),Oo.push(wo.history)),th(wo,mo,null,hp(wo,mo))})},Di=In.changes.length-1;Di>=0;--Di){var Gi=Oi(Di);if(Gi)return Gi.v}}}}function Cf(nn,cn){if(cn!=0&&(nn.first+=cn,nn.sel=new Fl(ka(nn.sel.ranges,function(wn){return new cs(ro(wn.anchor.line+cn,wn.anchor.ch),ro(wn.head.line+cn,wn.head.ch))}),nn.sel.primIndex),nn.cm)){ns(nn.cm,nn.first,nn.first-cn,cn);for(var vn=nn.cm.display,mn=vn.viewFrom;mn<vn.viewTo;mn++)kc(nn.cm,mn,"gutter")}}function th(nn,cn,vn,mn){if(nn.cm&&!nn.cm.curOp)return dl(nn.cm,th)(nn,cn,vn,mn);if(cn.to.line<nn.first){Cf(nn,cn.text.length-1-(cn.to.line-cn.from.line));return}if(!(cn.from.line>nn.lastLine())){if(cn.from.line<nn.first){var wn=cn.text.length-1-(nn.first-cn.from.line);Cf(nn,wn),cn={from:ro(nn.first,0),to:ro(cn.to.line+wn,cn.to.ch),text:[xo(cn.text)],origin:cn.origin}}var In=nn.lastLine();cn.to.line>In&&(cn={from:cn.from,to:ro(In,bi(nn,In).text.length),text:[cn.text[0]],origin:cn.origin}),cn.removed=ms(nn,cn.from,cn.to),vn||(vn=uf(nn,cn)),nn.cm?Th(nn.cm,cn,mn):ff(nn,cn,mn),Jd(nn,vn,Ki),nn.cantEdit&&Wa(nn,ro(nn.firstLine(),0))&&(nn.cantEdit=!1)}}function Th(nn,cn,vn){var mn=nn.doc,wn=nn.display,In=cn.from,Nn=cn.to,Vn=!1,Yn=In.line;nn.options.lineWrapping||(Yn=Ca(Za(bi(mn,In.line))),mn.iter(Yn,Nn.line+1,function(Di){if(Di==wn.maxLine)return Vn=!0,!0})),mn.sel.contains(cn.from,cn.to)>-1&&Ms(nn),ff(mn,cn,vn,$l(nn)),nn.options.lineWrapping||(mn.iter(Yn,In.line+cn.text.length,function(Di){var Gi=An(Di);Gi>wn.maxLineLength&&(wn.maxLine=Di,wn.maxLineLength=Gi,wn.maxLineChanged=!0,Vn=!1)}),Vn&&(nn.curOp.updateMaxLine=!0)),vs(mn,In.line),Wd(nn,400);var Jn=cn.text.length-(Nn.line-In.line)-1;cn.full?ns(nn):In.line==Nn.line&&cn.text.length==1&&!hf(nn.doc,cn)?kc(nn,In.line,"text"):ns(nn,In.line,Nn.line+1,Jn);var ci=aa(nn,"changes"),vi=aa(nn,"change");if(vi||ci){var Oi={from:In,to:Nn,text:cn.text,removed:cn.removed,origin:cn.origin};vi&&ws(nn,"change",nn,Oi),ci&&(nn.curOp.changeObjs||(nn.curOp.changeObjs=[])).push(Oi)}nn.display.selForContextMenu=null}function ud(nn,cn,vn,mn,wn){var In;mn||(mn=vn),Ko(mn,vn)<0&&(In=[mn,vn],vn=In[0],mn=In[1]),typeof cn=="string"&&(cn=nn.splitLines(cn)),cd(nn,{from:vn,to:mn,text:cn,origin:wn})}function pp(nn,cn,vn,mn){vn<nn.line?nn.line+=mn:cn<nn.line&&(nn.line=cn,nn.ch=0)}function Mh(nn,cn,vn,mn){for(var wn=0;wn<nn.length;++wn){var In=nn[wn],Nn=!0;if(In.ranges){In.copied||(In=nn[wn]=In.deepCopy(),In.copied=!0);for(var Vn=0;Vn<In.ranges.length;Vn++)pp(In.ranges[Vn].anchor,cn,vn,mn),pp(In.ranges[Vn].head,cn,vn,mn);continue}for(var Yn=0;Yn<In.changes.length;++Yn){var Jn=In.changes[Yn];if(vn<Jn.from.line)Jn.from=ro(Jn.from.line+mn,Jn.from.ch),Jn.to=ro(Jn.to.line+mn,Jn.to.ch);else if(cn<=Jn.to.line){Nn=!1;break}}Nn||(nn.splice(0,wn+1),wn=0)}}function xf(nn,cn){var vn=cn.from.line,mn=cn.to.line,wn=cn.text.length-(mn-vn)-1;Mh(nn.done,vn,mn,wn),Mh(nn.undone,vn,mn,wn)}function rh(nn,cn,vn,mn){var wn=cn,In=cn;return typeof cn=="number"?In=bi(nn,Mi(nn,cn)):wn=Ca(cn),wn==null?null:(mn(In,wn)&&nn.cm&&kc(nn.cm,wn,vn),In)}function Hc(nn){this.lines=nn,this.parent=null;for(var cn=0,vn=0;vn<nn.length;++vn)nn[vn].parent=this,cn+=nn[vn].height;this.height=cn}Hc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(nn,cn){for(var vn=nn,mn=nn+cn;vn<mn;++vn){var wn=this.lines[vn];this.height-=wn.height,Xn(wn),ws(wn,"delete")}this.lines.splice(nn,cn)},collapse:function(nn){nn.push.apply(nn,this.lines)},insertInner:function(nn,cn,vn){this.height+=vn,this.lines=this.lines.slice(0,nn).concat(cn).concat(this.lines.slice(nn));for(var mn=0;mn<cn.length;++mn)cn[mn].parent=this},iterN:function(nn,cn,vn){for(var mn=nn+cn;nn<mn;++nn)if(vn(this.lines[nn]))return!0}};function Sd(nn){this.children=nn;for(var cn=0,vn=0,mn=0;mn<nn.length;++mn){var wn=nn[mn];cn+=wn.chunkSize(),vn+=wn.height,wn.parent=this}this.size=cn,this.height=vn,this.parent=null}Sd.prototype={chunkSize:function(){return this.size},removeInner:function(nn,cn){this.size-=cn;for(var vn=0;vn<this.children.length;++vn){var mn=this.children[vn],wn=mn.chunkSize();if(nn<wn){var In=Math.min(cn,wn-nn),Nn=mn.height;if(mn.removeInner(nn,In),this.height-=Nn-mn.height,wn==In&&(this.children.splice(vn--,1),mn.parent=null),(cn-=In)==0)break;nn=0}else nn-=wn}if(this.size-cn<25&&(this.children.length>1||!(this.children[0]instanceof Hc))){var Vn=[];this.collapse(Vn),this.children=[new Hc(Vn)],this.children[0].parent=this}},collapse:function(nn){for(var cn=0;cn<this.children.length;++cn)this.children[cn].collapse(nn)},insertInner:function(nn,cn,vn){this.size+=cn.length,this.height+=vn;for(var mn=0;mn<this.children.length;++mn){var wn=this.children[mn],In=wn.chunkSize();if(nn<=In){if(wn.insertInner(nn,cn,vn),wn.lines&&wn.lines.length>50){for(var Nn=wn.lines.length%25+25,Vn=Nn;Vn<wn.lines.length;){var Yn=new Hc(wn.lines.slice(Vn,Vn+=25));wn.height-=Yn.height,this.children.splice(++mn,0,Yn),Yn.parent=this}wn.lines=wn.lines.slice(0,Nn),this.maybeSpill()}break}nn-=In}},maybeSpill:function(){if(!(this.children.length<=10)){var nn=this;do{var cn=nn.children.splice(nn.children.length-5,5),vn=new Sd(cn);if(nn.parent){nn.size-=vn.size,nn.height-=vn.height;var wn=lo(nn.parent.children,nn);nn.parent.children.splice(wn+1,0,vn)}else{var mn=new Sd(nn.children);mn.parent=nn,nn.children=[mn,vn],nn=mn}vn.parent=nn.parent}while(nn.children.length>10);nn.parent.maybeSpill()}},iterN:function(nn,cn,vn){for(var mn=0;mn<this.children.length;++mn){var wn=this.children[mn],In=wn.chunkSize();if(nn<In){var Nn=Math.min(cn,In-nn);if(wn.iterN(nn,Nn,vn))return!0;if((cn-=Nn)==0)break;nn=0}else nn-=In}}};var Vc=function(nn,cn,vn){if(vn)for(var mn in vn)vn.hasOwnProperty(mn)&&(this[mn]=vn[mn]);this.doc=nn,this.node=cn};Vc.prototype.clear=function(){var nn=this.doc.cm,cn=this.line.widgets,vn=this.line,mn=Ca(vn);if(!(mn==null||!cn)){for(var wn=0;wn<cn.length;++wn)cn[wn]==this&&cn.splice(wn--,1);cn.length||(vn.widgets=null);var In=Zc(this);Bs(vn,Math.max(0,vn.height-In)),nn&&(rl(nn,function(){Ls(nn,vn,-In),kc(nn,mn,"widget")}),ws(nn,"lineWidgetCleared",nn,this,mn))}},Vc.prototype.changed=function(){var nn=this,cn=this.height,vn=this.doc.cm,mn=this.line;this.height=null;var wn=Zc(this)-cn;wn&&(Dl(this.doc,mn)||Bs(mn,mn.height+wn),vn&&rl(vn,function(){vn.curOp.forceUpdate=!0,Ls(vn,mn,wn),ws(vn,"lineWidgetChanged",vn,nn,Ca(mn))}))},os(Vc);function Ls(nn,cn,vn){al(cn)<(nn.curOp&&nn.curOp.scrollTop||nn.doc.scrollTop)&&ta(nn,vn)}function ou(nn,cn,vn,mn){var wn=new Vc(nn,vn,mn),In=nn.cm;return In&&wn.noHScroll&&(In.display.alignWidgets=!0),rh(nn,cn,"widget",function(Nn){var Vn=Nn.widgets||(Nn.widgets=[]);if(wn.insertAt==null?Vn.push(wn):Vn.splice(Math.min(Vn.length,Math.max(0,wn.insertAt)),0,wn),wn.line=Nn,In&&!Dl(nn,Nn)){var Yn=al(Nn)<nn.scrollTop;Bs(Nn,Nn.height+Zc(wn)),Yn&&ta(In,wn.height),In.curOp.forceUpdate=!0}return!0}),In&&ws(In,"lineWidgetAdded",In,wn,typeof cn=="number"?cn:Ca(cn)),wn}var jc=0,_u=function(nn,cn){this.lines=[],this.type=cn,this.doc=nn,this.id=++jc};_u.prototype.clear=function(){if(!this.explicitlyCleared){var nn=this.doc.cm,cn=nn&&!nn.curOp;if(cn&&od(nn),aa(this,"clear")){var vn=this.find();vn&&ws(this,"clear",vn.from,vn.to)}for(var mn=null,wn=null,In=0;In<this.lines.length;++In){var Nn=this.lines[In],Vn=ps(Nn.markedSpans,this);nn&&!this.collapsed?kc(nn,Ca(Nn),"text"):nn&&(Vn.to!=null&&(wn=Ca(Nn)),Vn.from!=null&&(mn=Ca(Nn))),Nn.markedSpans=Is(Nn.markedSpans,Vn),Vn.from==null&&this.collapsed&&!Dl(this.doc,Nn)&&nn&&Bs(Nn,Hs(nn.display))}if(nn&&this.collapsed&&!nn.options.lineWrapping)for(var Yn=0;Yn<this.lines.length;++Yn){var Jn=Za(this.lines[Yn]),ci=An(Jn);ci>nn.display.maxLineLength&&(nn.display.maxLine=Jn,nn.display.maxLineLength=ci,nn.display.maxLineChanged=!0)}mn!=null&&nn&&this.collapsed&&ns(nn,mn,wn+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,nn&&_f(nn.doc)),nn&&ws(nn,"markerCleared",nn,this,mn,wn),cn&&ad(nn),this.parent&&this.parent.clear()}},_u.prototype.find=function(nn,cn){nn==null&&this.type=="bookmark"&&(nn=1);for(var vn,mn,wn=0;wn<this.lines.length;++wn){var In=this.lines[wn],Nn=ps(In.markedSpans,this);if(Nn.from!=null&&(vn=ro(cn?In:Ca(In),Nn.from),nn==-1))return vn;if(Nn.to!=null&&(mn=ro(cn?In:Ca(In),Nn.to),nn==1))return mn}return vn&&{from:vn,to:mn}},_u.prototype.changed=function(){var nn=this,cn=this.find(-1,!0),vn=this,mn=this.doc.cm;!cn||!mn||rl(mn,function(){var wn=cn.line,In=Ca(cn.line),Nn=gc(mn,In);if(Nn&&(gu(Nn),mn.curOp.selectionChanged=mn.curOp.forceUpdate=!0),mn.curOp.updateMaxLine=!0,!Dl(vn.doc,wn)&&vn.height!=null){var Vn=vn.height;vn.height=null;var Yn=Zc(vn)-Vn;Yn&&Bs(wn,wn.height+Yn)}ws(mn,"markerChanged",mn,nn)})},_u.prototype.attachLine=function(nn){if(!this.lines.length&&this.doc.cm){var cn=this.doc.cm.curOp;(!cn.maybeHiddenMarkers||lo(cn.maybeHiddenMarkers,this)==-1)&&(cn.maybeUnhiddenMarkers||(cn.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(nn)},_u.prototype.detachLine=function(nn){if(this.lines.splice(lo(this.lines,nn),1),!this.lines.length&&this.doc.cm){var cn=this.doc.cm.curOp;(cn.maybeHiddenMarkers||(cn.maybeHiddenMarkers=[])).push(this)}},os(_u);function Fu(nn,cn,vn,mn,wn){if(mn&&mn.shared)return gg(nn,cn,vn,mn,wn);if(nn.cm&&!nn.cm.curOp)return dl(nn.cm,Fu)(nn,cn,vn,mn,wn);var In=new _u(nn,wn),Nn=Ko(cn,vn);if(mn&&$i(mn,In,!1),Nn>0||Nn==0&&In.clearWhenEmpty!==!1)return In;if(In.replacedWith&&(In.collapsed=!0,In.widgetNode=qn("span",[In.replacedWith],"CodeMirror-widget"),mn.handleMouseEvents||In.widgetNode.setAttribute("cm-ignore-events","true"),mn.insertLeft&&(In.widgetNode.insertLeft=!0)),In.collapsed){if(Ma(nn,cn.line,cn,vn,In)||cn.line!=vn.line&&Ma(nn,vn.line,cn,vn,In))throw new Error("Inserting collapsed marker partially overlapping an existing one");_s()}In.addToHistory&&vf(nn,{from:cn,to:vn,origin:"markText"},nn.sel,NaN);var Vn=cn.line,Yn=nn.cm,Jn;if(nn.iter(Vn,vn.line+1,function(vi){Yn&&In.collapsed&&!Yn.options.lineWrapping&&Za(vi)==Yn.display.maxLine&&(Jn=!0),In.collapsed&&Vn!=cn.line&&Bs(vi,0),xs(vi,new ts(In,Vn==cn.line?cn.ch:null,Vn==vn.line?vn.ch:null),nn.cm&&nn.cm.curOp),++Vn}),In.collapsed&&nn.iter(cn.line,vn.line+1,function(vi){Dl(nn,vi)&&Bs(vi,0)}),In.clearOnEnter&&Ui(In,"beforeCursorEnter",function(){return In.clear()}),In.readOnly&&(Ta(),(nn.history.done.length||nn.history.undone.length)&&nn.clearHistory()),In.collapsed&&(In.id=++jc,In.atomic=!0),Yn){if(Jn&&(Yn.curOp.updateMaxLine=!0),In.collapsed)ns(Yn,cn.line,vn.line+1);else if(In.className||In.startStyle||In.endStyle||In.css||In.attributes||In.title)for(var ci=cn.line;ci<=vn.line;ci++)kc(Yn,ci,"text");In.atomic&&_f(Yn.doc),ws(Yn,"markerAdded",Yn,In)}return In}var zu=function(nn,cn){this.markers=nn,this.primary=cn;for(var vn=0;vn<nn.length;++vn)nn[vn].parent=this};zu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var nn=0;nn<this.markers.length;++nn)this.markers[nn].clear();ws(this,"clear")}},zu.prototype.find=function(nn,cn){return this.primary.find(nn,cn)},os(zu);function gg(nn,cn,vn,mn,wn){mn=$i(mn),mn.shared=!1;var In=[Fu(nn,cn,vn,mn,wn)],Nn=In[0],Vn=mn.widgetNode;return gs(nn,function(Yn){Vn&&(mn.widgetNode=Vn.cloneNode(!0)),In.push(Fu(Yn,Ri(Yn,cn),Ri(Yn,vn),mn,wn));for(var Jn=0;Jn<Yn.linked.length;++Jn)if(Yn.linked[Jn].isParent)return;Nn=xo(In)}),new zu(In,Nn)}function gp(nn){return nn.findMarks(ro(nn.first,0),nn.clipPos(ro(nn.lastLine())),function(cn){return cn.parent})}function mg(nn,cn){for(var vn=0;vn<cn.length;vn++){var mn=cn[vn],wn=mn.find(),In=nn.clipPos(wn.from),Nn=nn.clipPos(wn.to);if(Ko(In,Nn)){var Vn=Fu(nn,In,Nn,mn.primary,mn.primary.type);mn.markers.push(Vn),Vn.parent=mn}}}function Sf(nn){for(var cn=function(mn){var wn=nn[mn],In=[wn.primary.doc];gs(wn.primary.doc,function(Yn){return In.push(Yn)});for(var Nn=0;Nn<wn.markers.length;Nn++){var Vn=wn.markers[Nn];lo(In,Vn.doc)==-1&&(Vn.parent=null,wn.markers.splice(Nn--,1))}},vn=0;vn<nn.length;vn++)cn(vn)}var vg=0,oc=function(nn,cn,vn,mn,wn){if(!(this instanceof oc))return new oc(nn,cn,vn,mn,wn);vn==null&&(vn=0),Sd.call(this,[new Hc([new $n("",null)])]),this.first=vn,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=vn;var In=ro(vn,0);this.sel=nu(In),this.history=new Xd(null),this.id=++vg,this.modeOption=cn,this.lineSep=mn,this.direction=wn=="rtl"?"rtl":"ltr",this.extend=!1,typeof nn=="string"&&(nn=this.splitLines(nn)),ff(this,{from:In,to:In,text:nn}),El(this,nu(In),Ki)};oc.prototype=Ya(Sd.prototype,{constructor:oc,iter:function(nn,cn,vn){vn?this.iterN(nn-this.first,cn-nn,vn):this.iterN(this.first,this.first+this.size,nn)},insert:function(nn,cn){for(var vn=0,mn=0;mn<cn.length;++mn)vn+=cn[mn].height;this.insertInner(nn-this.first,cn,vn)},remove:function(nn,cn){this.removeInner(nn-this.first,cn)},getValue:function(nn){var cn=ha(this,this.first,this.first+this.size);return nn===!1?cn:cn.join(nn||this.lineSeparator())},setValue:hl(function(nn){var cn=ro(this.first,0),vn=this.first+this.size-1;cd(this,{from:cn,to:ro(vn,bi(this,vn).text.length),text:this.splitLines(nn),origin:"setValue",full:!0},!0),this.cm&&ys(this.cm,0,0),El(this,nu(cn),Ki)}),replaceRange:function(nn,cn,vn,mn){cn=Ri(this,cn),vn=vn?Ri(this,vn):cn,ud(this,nn,cn,vn,mn)},getRange:function(nn,cn,vn){var mn=ms(this,Ri(this,nn),Ri(this,cn));return vn===!1?mn:vn===""?mn.join(""):mn.join(vn||this.lineSeparator())},getLine:function(nn){var cn=this.getLineHandle(nn);return cn&&cn.text},getLineHandle:function(nn){if(Js(this,nn))return bi(this,nn)},getLineNumber:function(nn){return Ca(nn)},getLineHandleVisualStart:function(nn){return typeof nn=="number"&&(nn=bi(this,nn)),Za(nn)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(nn){return Ri(this,nn)},getCursor:function(nn){var cn=this.sel.primary(),vn;return nn==null||nn=="head"?vn=cn.head:nn=="anchor"?vn=cn.anchor:nn=="end"||nn=="to"||nn===!1?vn=cn.to():vn=cn.from(),vn},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:hl(function(nn,cn,vn){bf(this,Ri(this,typeof nn=="number"?ro(nn,cn||0):nn),null,vn)}),setSelection:hl(function(nn,cn,vn){bf(this,Ri(this,nn),Ri(this,cn||nn),vn)}),extendSelection:hl(function(nn,cn,vn){Sh(this,Ri(this,nn),cn&&Ri(this,cn),vn)}),extendSelections:hl(function(nn,cn){Dh(this,_o(this,nn),cn)}),extendSelectionsBy:hl(function(nn,cn){var vn=ka(this.sel.ranges,nn);Dh(this,_o(this,vn),cn)}),setSelections:hl(function(nn,cn,vn){if(nn.length){for(var mn=[],wn=0;wn<nn.length;wn++)mn[wn]=new cs(Ri(this,nn[wn].anchor),Ri(this,nn[wn].head||nn[wn].anchor));cn==null&&(cn=Math.min(nn.length-1,this.sel.primIndex)),El(this,xc(this.cm,mn,cn),vn)}}),addSelection:hl(function(nn,cn,vn){var mn=this.sel.ranges.slice(0);mn.push(new cs(Ri(this,nn),Ri(this,cn||nn))),El(this,xc(this.cm,mn,mn.length-1),vn)}),getSelection:function(nn){for(var cn=this.sel.ranges,vn,mn=0;mn<cn.length;mn++){var wn=ms(this,cn[mn].from(),cn[mn].to());vn=vn?vn.concat(wn):wn}return nn===!1?vn:vn.join(nn||this.lineSeparator())},getSelections:function(nn){for(var cn=[],vn=this.sel.ranges,mn=0;mn<vn.length;mn++){var wn=ms(this,vn[mn].from(),vn[mn].to());nn!==!1&&(wn=wn.join(nn||this.lineSeparator())),cn[mn]=wn}return cn},replaceSelection:function(nn,cn,vn){for(var mn=[],wn=0;wn<this.sel.ranges.length;wn++)mn[wn]=nn;this.replaceSelections(mn,cn,vn||"+input")},replaceSelections:hl(function(nn,cn,vn){for(var mn=[],wn=this.sel,In=0;In<wn.ranges.length;In++){var Nn=wn.ranges[In];mn[In]={from:Nn.from(),to:Nn.to(),text:this.splitLines(nn[In]),origin:vn}}for(var Vn=cn&&cn!="end"&&cg(this,mn,cn),Yn=mn.length-1;Yn>=0;Yn--)cd(this,mn[Yn]);Vn?sd(this,Vn):this.cm&&Ja(this.cm)}),undo:hl(function(){Eh(this,"undo")}),redo:hl(function(){Eh(this,"redo")}),undoSelection:hl(function(){Eh(this,"undo",!0)}),redoSelection:hl(function(){Eh(this,"redo",!0)}),setExtending:function(nn){this.extend=nn},getExtending:function(){return this.extend},historySize:function(){for(var nn=this.history,cn=0,vn=0,mn=0;mn<nn.done.length;mn++)nn.done[mn].ranges||++cn;for(var wn=0;wn<nn.undone.length;wn++)nn.undone[wn].ranges||++vn;return{undo:cn,redo:vn}},clearHistory:function(){var nn=this;this.history=new Xd(this.history),gs(this,function(cn){return cn.history=nn.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(nn){return nn&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(nn){return this.history.generation==(nn||this.cleanGeneration)},getHistory:function(){return{done:xd(this.history.done),undone:xd(this.history.undone)}},setHistory:function(nn){var cn=this.history=new Xd(this.history);cn.done=xd(nn.done.slice(0),null,!0),cn.undone=xd(nn.undone.slice(0),null,!0)},setGutterMarker:hl(function(nn,cn,vn){return rh(this,nn,"gutter",function(mn){var wn=mn.gutterMarkers||(mn.gutterMarkers={});return wn[cn]=vn,!vn&&Ai(wn)&&(mn.gutterMarkers=null),!0})}),clearGutter:hl(function(nn){var cn=this;this.iter(function(vn){vn.gutterMarkers&&vn.gutterMarkers[nn]&&rh(cn,vn,"gutter",function(){return vn.gutterMarkers[nn]=null,Ai(vn.gutterMarkers)&&(vn.gutterMarkers=null),!0})})}),lineInfo:function(nn){var cn;if(typeof nn=="number"){if(!Js(this,nn)||(cn=nn,nn=bi(this,nn),!nn))return null}else if(cn=Ca(nn),cn==null)return null;return{line:cn,handle:nn,text:nn.text,gutterMarkers:nn.gutterMarkers,textClass:nn.textClass,bgClass:nn.bgClass,wrapClass:nn.wrapClass,widgets:nn.widgets}},addLineClass:hl(function(nn,cn,vn){return rh(this,nn,cn=="gutter"?"gutter":"class",function(mn){var wn=cn=="text"?"textClass":cn=="background"?"bgClass":cn=="gutter"?"gutterClass":"wrapClass";if(!mn[wn])mn[wn]=vn;else{if(On(vn).test(mn[wn]))return!1;mn[wn]+=" "+vn}return!0})}),removeLineClass:hl(function(nn,cn,vn){return rh(this,nn,cn=="gutter"?"gutter":"class",function(mn){var wn=cn=="text"?"textClass":cn=="background"?"bgClass":cn=="gutter"?"gutterClass":"wrapClass",In=mn[wn];if(In)if(vn==null)mn[wn]=null;else{var Nn=In.match(On(vn));if(!Nn)return!1;var Vn=Nn.index+Nn[0].length;mn[wn]=In.slice(0,Nn.index)+(!Nn.index||Vn==In.length?"":" ")+In.slice(Vn)||null}else return!1;return!0})}),addLineWidget:hl(function(nn,cn,vn){return ou(this,nn,cn,vn)}),removeLineWidget:function(nn){nn.clear()},markText:function(nn,cn,vn){return Fu(this,Ri(this,nn),Ri(this,cn),vn,vn&&vn.type||"range")},setBookmark:function(nn,cn){var vn={replacedWith:cn&&(cn.nodeType==null?cn.widget:cn),insertLeft:cn&&cn.insertLeft,clearWhenEmpty:!1,shared:cn&&cn.shared,handleMouseEvents:cn&&cn.handleMouseEvents};return nn=Ri(this,nn),Fu(this,nn,nn,vn,"bookmark")},findMarksAt:function(nn){nn=Ri(this,nn);var cn=[],vn=bi(this,nn.line).markedSpans;if(vn)for(var mn=0;mn<vn.length;++mn){var wn=vn[mn];(wn.from==null||wn.from<=nn.ch)&&(wn.to==null||wn.to>=nn.ch)&&cn.push(wn.marker.parent||wn.marker)}return cn},findMarks:function(nn,cn,vn){nn=Ri(this,nn),cn=Ri(this,cn);var mn=[],wn=nn.line;return this.iter(nn.line,cn.line+1,function(In){var Nn=In.markedSpans;if(Nn)for(var Vn=0;Vn<Nn.length;Vn++){var Yn=Nn[Vn];!(Yn.to!=null&&wn==nn.line&&nn.ch>=Yn.to||Yn.from==null&&wn!=nn.line||Yn.from!=null&&wn==cn.line&&Yn.from>=cn.ch)&&(!vn||vn(Yn.marker))&&mn.push(Yn.marker.parent||Yn.marker)}++wn}),mn},getAllMarks:function(){var nn=[];return this.iter(function(cn){var vn=cn.markedSpans;if(vn)for(var mn=0;mn<vn.length;++mn)vn[mn].from!=null&&nn.push(vn[mn].marker)}),nn},posFromIndex:function(nn){var cn,vn=this.first,mn=this.lineSeparator().length;return this.iter(function(wn){var In=wn.text.length+mn;if(In>nn)return cn=nn,!0;nn-=In,++vn}),Ri(this,ro(vn,cn))},indexFromPos:function(nn){nn=Ri(this,nn);var cn=nn.ch;if(nn.line<this.first||nn.ch<0)return 0;var vn=this.lineSeparator().length;return this.iter(this.first,nn.line,function(mn){cn+=mn.text.length+vn}),cn},copy:function(nn){var cn=new oc(ha(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return cn.scrollTop=this.scrollTop,cn.scrollLeft=this.scrollLeft,cn.sel=this.sel,cn.extend=!1,nn&&(cn.history.undoDepth=this.history.undoDepth,cn.setHistory(this.getHistory())),cn},linkedDoc:function(nn){nn||(nn={});var cn=this.first,vn=this.first+this.size;nn.from!=null&&nn.from>cn&&(cn=nn.from),nn.to!=null&&nn.to<vn&&(vn=nn.to);var mn=new oc(ha(this,cn,vn),nn.mode||this.modeOption,cn,this.lineSep,this.direction);return nn.sharedHist&&(mn.history=this.history),(this.linked||(this.linked=[])).push({doc:mn,sharedHist:nn.sharedHist}),mn.linked=[{doc:this,isParent:!0,sharedHist:nn.sharedHist}],mg(mn,gp(this)),mn},unlinkDoc:function(nn){if(nn instanceof Os&&(nn=nn.doc),this.linked)for(var cn=0;cn<this.linked.length;++cn){var vn=this.linked[cn];if(vn.doc==nn){this.linked.splice(cn,1),nn.unlinkDoc(this),Sf(gp(this));break}}if(nn.history==this.history){var mn=[nn.id];gs(nn,function(wn){return mn.push(wn.id)},!0),nn.history=new Xd(null),nn.history.done=xd(this.history.done,mn),nn.history.undone=xd(this.history.undone,mn)}},iterLinkedDocs:function(nn){gs(this,nn)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(nn){return this.lineSep?nn.split(this.lineSep):bo(nn)},lineSeparator:function(){return this.lineSep||`
`},setDirection:hl(function(nn){nn!="rtl"&&(nn="ltr"),nn!=this.direction&&(this.direction=nn,this.iter(function(cn){return cn.order=null}),this.cm&&Ch(this.cm))})}),oc.prototype.eachLine=oc.prototype.iter;var mp=0;function yg(nn){var cn=this;if(vp(cn),!(fa(cn,nn)||wc(cn.display,nn))){Na(nn),Gr&&(mp=+new Date);var vn=Sa(cn,nn,!0),mn=nn.dataTransfer.files;if(!(!vn||cn.isReadOnly()))if(mn&&mn.length&&window.FileReader&&window.File)for(var wn=mn.length,In=Array(wn),Nn=0,Vn=function(){++Nn==wn&&dl(cn,function(){vn=Ri(cn.doc,vn);var Di={from:vn,to:vn,text:cn.doc.splitLines(In.filter(function(Gi){return Gi!=null}).join(cn.doc.lineSeparator())),origin:"paste"};cd(cn.doc,Di),sd(cn.doc,nu(Ri(cn.doc,vn),Ri(cn.doc,bu(Di))))})()},Yn=function(Di,Gi){if(cn.options.allowDropFileTypes&&lo(cn.options.allowDropFileTypes,Di.type)==-1){Vn();return}var ao=new FileReader;ao.onerror=function(){return Vn()},ao.onload=function(){var mo=ao.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(mo)){Vn();return}In[Gi]=mo,Vn()},ao.readAsText(Di)},Jn=0;Jn<mn.length;Jn++)Yn(mn[Jn],Jn);else{if(cn.state.draggingText&&cn.doc.sel.contains(vn)>-1){cn.state.draggingText(nn),setTimeout(function(){return cn.display.input.focus()},20);return}try{var ci=nn.dataTransfer.getData("Text");if(ci){var vi;if(cn.state.draggingText&&!cn.state.draggingText.copy&&(vi=cn.listSelections()),Jd(cn.doc,nu(vn,vn)),vi)for(var Oi=0;Oi<vi.length;++Oi)ud(cn.doc,"",vi[Oi].anchor,vi[Oi].head,"drag");cn.replaceSelection(ci,"around","paste"),cn.display.input.focus()}}catch{}}}}function bg(nn,cn){if(Gr&&(!nn.state.draggingText||+new Date-mp<100)){gl(cn);return}if(!(fa(nn,cn)||wc(nn.display,cn))&&(cn.dataTransfer.setData("Text",nn.getSelection()),cn.dataTransfer.effectAllowed="copyMove",cn.dataTransfer.setDragImage&&!ln)){var vn=Hn("img",null,null,"position: fixed; left: 0; top: 0;");vn.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",an&&(vn.width=vn.height=1,nn.display.wrapper.appendChild(vn),vn._top=vn.offsetTop),cn.dataTransfer.setDragImage(vn,0,0),an&&vn.parentNode.removeChild(vn)}}function _g(nn,cn){var vn=Sa(nn,cn);if(vn){var mn=document.createDocumentFragment();yu(nn,vn,mn),nn.display.dragCursor||(nn.display.dragCursor=Hn("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),nn.display.lineSpace.insertBefore(nn.display.dragCursor,nn.display.cursorDiv)),Wn(nn.display.dragCursor,mn)}}function vp(nn){nn.display.dragCursor&&(nn.display.lineSpace.removeChild(nn.display.dragCursor),nn.display.dragCursor=null)}function Df(nn){if(document.getElementsByClassName){for(var cn=document.getElementsByClassName("CodeMirror"),vn=[],mn=0;mn<cn.length;mn++){var wn=cn[mn].CodeMirror;wn&&vn.push(wn)}vn.length&&vn[0].operation(function(){for(var In=0;In<vn.length;In++)nn(vn[In])})}}var Ef=!1;function wg(){Ef||(Tf(),Ef=!0)}function Tf(){var nn;Ui(window,"resize",function(){nn==null&&(nn=setTimeout(function(){nn=null,Df(Mf)},100))}),Ui(window,"blur",function(){return Df(Ac)})}function Mf(nn){var cn=nn.display;cn.cachedCharWidth=cn.cachedTextHeight=cn.cachedPaddingH=null,cn.scrollbarsClipped=!1,nn.setSize()}for(var Hu={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},dd=0;dd<10;dd++)Hu[dd+48]=Hu[dd+96]=String(dd);for(var nh=65;nh<=90;nh++)Hu[nh]=String.fromCharCode(nh);for(var Dd=1;Dd<=12;Dd++)Hu[Dd+111]=Hu[Dd+63235]="F"+Dd;var wu={};wu.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},wu.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},wu.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},wu.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},wu.default=Sn?wu.macDefault:wu.pcDefault;function kg(nn){var cn=nn.split(/-(?!$)/);nn=cn[cn.length-1];for(var vn,mn,wn,In,Nn=0;Nn<cn.length-1;Nn++){var Vn=cn[Nn];if(/^(cmd|meta|m)$/i.test(Vn))In=!0;else if(/^a(lt)?$/i.test(Vn))vn=!0;else if(/^(c|ctrl|control)$/i.test(Vn))mn=!0;else if(/^s(hift)?$/i.test(Vn))wn=!0;else throw new Error("Unrecognized modifier name: "+Vn)}return vn&&(nn="Alt-"+nn),mn&&(nn="Ctrl-"+nn),In&&(nn="Cmd-"+nn),wn&&(nn="Shift-"+nn),nn}function Ag(nn){var cn={};for(var vn in nn)if(nn.hasOwnProperty(vn)){var mn=nn[vn];if(/^(name|fallthrough|(de|at)tach)$/.test(vn))continue;if(mn=="..."){delete nn[vn];continue}for(var wn=ka(vn.split(" "),kg),In=0;In<wn.length;In++){var Nn=void 0,Vn=void 0;In==wn.length-1?(Vn=wn.join(" "),Nn=mn):(Vn=wn.slice(0,In+1).join(" "),Nn="...");var Yn=cn[Vn];if(!Yn)cn[Vn]=Nn;else if(Yn!=Nn)throw new Error("Inconsistent bindings for "+Vn)}delete nn[vn]}for(var Jn in cn)nn[Jn]=cn[Jn];return nn}function ku(nn,cn,vn,mn){cn=Ed(cn);var wn=cn.call?cn.call(nn,mn):cn[nn];if(wn===!1)return"nothing";if(wn==="...")return"multi";if(wn!=null&&vn(wn))return"handled";if(cn.fallthrough){if(Object.prototype.toString.call(cn.fallthrough)!="[object Array]")return ku(nn,cn.fallthrough,vn,mn);for(var In=0;In<cn.fallthrough.length;In++){var Nn=ku(nn,cn.fallthrough[In],vn,mn);if(Nn)return Nn}}}function Ih(nn){var cn=typeof nn=="string"?nn:Hu[nn.keyCode];return cn=="Ctrl"||cn=="Alt"||cn=="Shift"||cn=="Mod"}function yp(nn,cn,vn){var mn=nn;return cn.altKey&&mn!="Alt"&&(nn="Alt-"+nn),(En?cn.metaKey:cn.ctrlKey)&&mn!="Ctrl"&&(nn="Ctrl-"+nn),(En?cn.ctrlKey:cn.metaKey)&&mn!="Mod"&&(nn="Cmd-"+nn),!vn&&cn.shiftKey&&mn!="Shift"&&(nn="Shift-"+nn),nn}function bp(nn,cn){if(an&&nn.keyCode==34&&nn.char)return!1;var vn=Hu[nn.keyCode];return vn==null||nn.altGraphKey?!1:(nn.keyCode==3&&nn.code&&(vn=nn.code),yp(vn,nn,cn))}function Ed(nn){return typeof nn=="string"?wu[nn]:nn}function Td(nn,cn){for(var vn=nn.doc.sel.ranges,mn=[],wn=0;wn<vn.length;wn++){for(var In=cn(vn[wn]);mn.length&&Ko(In.from,xo(mn).to)<=0;){var Nn=mn.pop();if(Ko(Nn.from,In.from)<0){In.from=Nn.from;break}}mn.push(In)}rl(nn,function(){for(var Vn=mn.length-1;Vn>=0;Vn--)ud(nn.doc,"",mn[Vn].from,mn[Vn].to,"+delete");Ja(nn)})}function If(nn,cn,vn){var mn=_i(nn.text,cn+vn,vn);return mn<0||mn>nn.text.length?null:mn}function Lf(nn,cn,vn){var mn=If(nn,cn.ch,vn);return mn==null?null:new ro(cn.line,mn,vn<0?"after":"before")}function Au(nn,cn,vn,mn,wn){if(nn){cn.doc.direction=="rtl"&&(wn=-wn);var In=To(vn,cn.doc.direction);if(In){var Nn=wn<0?xo(In):In[0],Vn=wn<0==(Nn.level==1),Yn=Vn?"after":"before",Jn;if(Nn.level>0||cn.doc.direction=="rtl"){var ci=mc(cn,vn);Jn=wn<0?vn.text.length-1:0;var vi=Rl(cn,ci,Jn).top;Jn=pi(function(Oi){return Rl(cn,ci,Oi).top==vi},wn<0==(Nn.level==1)?Nn.from:Nn.to-1,Jn),Yn=="before"&&(Jn=If(vn,Jn,1))}else Jn=wn<0?Nn.to:Nn.from;return new ro(mn,Jn,Yn)}}return new ro(mn,wn<0?vn.text.length:0,wn<0?"before":"after")}function Cg(nn,cn,vn,mn){var wn=To(cn,nn.doc.direction);if(!wn)return Lf(cn,vn,mn);vn.ch>=cn.text.length?(vn.ch=cn.text.length,vn.sticky="before"):vn.ch<=0&&(vn.ch=0,vn.sticky="after");var In=go(wn,vn.ch,vn.sticky),Nn=wn[In];if(nn.doc.direction=="ltr"&&Nn.level%2==0&&(mn>0?Nn.to>vn.ch:Nn.from<vn.ch))return Lf(cn,vn,mn);var Vn=function(So,Oo){return If(cn,So instanceof ro?So.ch:So,Oo)},Yn,Jn=function(So){return nn.options.lineWrapping?(Yn=Yn||mc(nn,cn),Ra(nn,cn,Yn,So)):{begin:0,end:cn.text.length}},ci=Jn(vn.sticky=="before"?Vn(vn,-1):vn.ch);if(nn.doc.direction=="rtl"||Nn.level==1){var vi=Nn.level==1==mn<0,Oi=Vn(vn,vi?1:-1);if(Oi!=null&&(vi?Oi<=Nn.to&&Oi<=ci.end:Oi>=Nn.from&&Oi>=ci.begin)){var Di=vi?"before":"after";return new ro(vn.line,Oi,Di)}}var Gi=function(So,Oo,wo){for(var zo=function(Es,Tl){return Tl?new ro(vn.line,Vn(Es,1),"before"):new ro(vn.line,Es,"after")};So>=0&&So<wn.length;So+=Oo){var ra=wn[So],Wo=Oo>0==(ra.level!=1),ja=Wo?wo.begin:Vn(wo.end,-1);if(ra.from<=ja&&ja<ra.to||(ja=Wo?ra.from:Vn(ra.to,-1),wo.begin<=ja&&ja<wo.end))return zo(ja,Wo)}},ao=Gi(In+mn,mn,ci);if(ao)return ao;var mo=mn>0?ci.end:Vn(ci.begin,-1);return mo!=null&&!(mn>0&&mo==cn.text.length)&&(ao=Gi(mn>0?0:wn.length-1,mn,Jn(mo)),ao)?ao:null}var Md={selectAll:kf,singleSelection:function(nn){return nn.setSelection(nn.getCursor("anchor"),nn.getCursor("head"),Ki)},killLine:function(nn){return Td(nn,function(cn){if(cn.empty()){var vn=bi(nn.doc,cn.head.line).text.length;return cn.head.ch==vn&&cn.head.line<nn.lastLine()?{from:cn.head,to:ro(cn.head.line+1,0)}:{from:cn.head,to:ro(cn.head.line,vn)}}else return{from:cn.from(),to:cn.to()}})},deleteLine:function(nn){return Td(nn,function(cn){return{from:ro(cn.from().line,0),to:Ri(nn.doc,ro(cn.to().line+1,0))}})},delLineLeft:function(nn){return Td(nn,function(cn){return{from:ro(cn.from().line,0),to:cn.from()}})},delWrappedLineLeft:function(nn){return Td(nn,function(cn){var vn=nn.charCoords(cn.head,"div").top+5,mn=nn.coordsChar({left:0,top:vn},"div");return{from:mn,to:cn.from()}})},delWrappedLineRight:function(nn){return Td(nn,function(cn){var vn=nn.charCoords(cn.head,"div").top+5,mn=nn.coordsChar({left:nn.display.lineDiv.offsetWidth+100,top:vn},"div");return{from:cn.from(),to:mn}})},undo:function(nn){return nn.undo()},redo:function(nn){return nn.redo()},undoSelection:function(nn){return nn.undoSelection()},redoSelection:function(nn){return nn.redoSelection()},goDocStart:function(nn){return nn.extendSelection(ro(nn.firstLine(),0))},goDocEnd:function(nn){return nn.extendSelection(ro(nn.lastLine()))},goLineStart:function(nn){return nn.extendSelectionsBy(function(cn){return _p(nn,cn.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(nn){return nn.extendSelectionsBy(function(cn){return wp(nn,cn.head)},{origin:"+move",bias:1})},goLineEnd:function(nn){return nn.extendSelectionsBy(function(cn){return xg(nn,cn.head.line)},{origin:"+move",bias:-1})},goLineRight:function(nn){return nn.extendSelectionsBy(function(cn){var vn=nn.cursorCoords(cn.head,"div").top+5;return nn.coordsChar({left:nn.display.lineDiv.offsetWidth+100,top:vn},"div")},Io)},goLineLeft:function(nn){return nn.extendSelectionsBy(function(cn){var vn=nn.cursorCoords(cn.head,"div").top+5;return nn.coordsChar({left:0,top:vn},"div")},Io)},goLineLeftSmart:function(nn){return nn.extendSelectionsBy(function(cn){var vn=nn.cursorCoords(cn.head,"div").top+5,mn=nn.coordsChar({left:0,top:vn},"div");return mn.ch<nn.getLine(mn.line).search(/\S/)?wp(nn,cn.head):mn},Io)},goLineUp:function(nn){return nn.moveV(-1,"line")},goLineDown:function(nn){return nn.moveV(1,"line")},goPageUp:function(nn){return nn.moveV(-1,"page")},goPageDown:function(nn){return nn.moveV(1,"page")},goCharLeft:function(nn){return nn.moveH(-1,"char")},goCharRight:function(nn){return nn.moveH(1,"char")},goColumnLeft:function(nn){return nn.moveH(-1,"column")},goColumnRight:function(nn){return nn.moveH(1,"column")},goWordLeft:function(nn){return nn.moveH(-1,"word")},goGroupRight:function(nn){return nn.moveH(1,"group")},goGroupLeft:function(nn){return nn.moveH(-1,"group")},goWordRight:function(nn){return nn.moveH(1,"word")},delCharBefore:function(nn){return nn.deleteH(-1,"codepoint")},delCharAfter:function(nn){return nn.deleteH(1,"char")},delWordBefore:function(nn){return nn.deleteH(-1,"word")},delWordAfter:function(nn){return nn.deleteH(1,"word")},delGroupBefore:function(nn){return nn.deleteH(-1,"group")},delGroupAfter:function(nn){return nn.deleteH(1,"group")},indentAuto:function(nn){return nn.indentSelection("smart")},indentMore:function(nn){return nn.indentSelection("add")},indentLess:function(nn){return nn.indentSelection("subtract")},insertTab:function(nn){return nn.replaceSelection("	")},insertSoftTab:function(nn){for(var cn=[],vn=nn.listSelections(),mn=nn.options.tabSize,wn=0;wn<vn.length;wn++){var In=vn[wn].from(),Nn=Vi(nn.getLine(In.line),In.ch,mn);cn.push(qo(mn-Nn%mn))}nn.replaceSelections(cn)},defaultTab:function(nn){nn.somethingSelected()?nn.indentSelection("add"):nn.execCommand("insertTab")},transposeChars:function(nn){return rl(nn,function(){for(var cn=nn.listSelections(),vn=[],mn=0;mn<cn.length;mn++)if(cn[mn].empty()){var wn=cn[mn].head,In=bi(nn.doc,wn.line).text;if(In){if(wn.ch==In.length&&(wn=new ro(wn.line,wn.ch-1)),wn.ch>0)wn=new ro(wn.line,wn.ch+1),nn.replaceRange(In.charAt(wn.ch-1)+In.charAt(wn.ch-2),ro(wn.line,wn.ch-2),wn,"+transpose");else if(wn.line>nn.doc.first){var Nn=bi(nn.doc,wn.line-1).text;Nn&&(wn=new ro(wn.line,1),nn.replaceRange(In.charAt(0)+nn.doc.lineSeparator()+Nn.charAt(Nn.length-1),ro(wn.line-1,Nn.length-1),wn,"+transpose"))}}vn.push(new cs(wn,wn))}nn.setSelections(vn)})},newlineAndIndent:function(nn){return rl(nn,function(){for(var cn=nn.listSelections(),vn=cn.length-1;vn>=0;vn--)nn.replaceRange(nn.doc.lineSeparator(),cn[vn].anchor,cn[vn].head,"+input");cn=nn.listSelections();for(var mn=0;mn<cn.length;mn++)nn.indentLine(cn[mn].from().line,null,!0);Ja(nn)})},openLine:function(nn){return nn.replaceSelection(`
`,"start")},toggleOverwrite:function(nn){return nn.toggleOverwrite()}};function _p(nn,cn){var vn=bi(nn.doc,cn),mn=Za(vn);return mn!=vn&&(cn=Ca(mn)),Au(!0,nn,mn,cn,1)}function xg(nn,cn){var vn=bi(nn.doc,cn),mn=zs(vn);return mn!=vn&&(cn=Ca(mn)),Au(!0,nn,vn,cn,-1)}function wp(nn,cn){var vn=_p(nn,cn.line),mn=bi(nn.doc,vn.line),wn=To(mn,nn.doc.direction);if(!wn||wn[0].level==0){var In=Math.max(vn.ch,mn.text.search(/\S/)),Nn=cn.line==vn.line&&cn.ch<=In&&cn.ch;return ro(vn.line,Nn?0:In,vn.sticky)}return vn}function Lh(nn,cn,vn){if(typeof cn=="string"&&(cn=Md[cn],!cn))return!1;nn.display.input.ensurePolled();var mn=nn.display.shift,wn=!1;try{nn.isReadOnly()&&(nn.state.suppressEdits=!0),vn&&(nn.display.shift=!1),wn=cn(nn)!=so}finally{nn.display.shift=mn,nn.state.suppressEdits=!1}return wn}function Um(nn,cn,vn){for(var mn=0;mn<nn.state.keyMaps.length;mn++){var wn=ku(cn,nn.state.keyMaps[mn],vn,nn);if(wn)return wn}return nn.options.extraKeys&&ku(cn,nn.options.extraKeys,vn,nn)||ku(cn,nn.options.keyMap,vn,nn)}var Sg=new ji;function ih(nn,cn,vn,mn){var wn=nn.state.keySeq;if(wn){if(Ih(cn))return"handled";if(/\'$/.test(cn)?nn.state.keySeq=null:Sg.set(50,function(){nn.state.keySeq==wn&&(nn.state.keySeq=null,nn.display.input.reset())}),kp(nn,wn+" "+cn,vn,mn))return!0}return kp(nn,cn,vn,mn)}function kp(nn,cn,vn,mn){var wn=Um(nn,cn,mn);return wn=="multi"&&(nn.state.keySeq=cn),wn=="handled"&&ws(nn,"keyHandled",nn,cn,vn),(wn=="handled"||wn=="multi")&&(Na(vn),Hd(nn)),!!wn}function Pf(nn,cn){var vn=bp(cn,!0);return vn?cn.shiftKey&&!nn.state.keySeq?ih(nn,"Shift-"+vn,cn,function(mn){return Lh(nn,mn,!0)})||ih(nn,vn,cn,function(mn){if(typeof mn=="string"?/^go[A-Z]/.test(mn):mn.motion)return Lh(nn,mn)}):ih(nn,vn,cn,function(mn){return Lh(nn,mn)}):!1}function Ap(nn,cn,vn){return ih(nn,"'"+vn+"'",cn,function(mn){return Lh(nn,mn,!0)})}var Of=null;function Cp(nn){var cn=this;if(!(nn.target&&nn.target!=cn.display.input.getField())&&(cn.curOp.focus=wi(Gn(cn)),!fa(cn,nn))){Gr&&Yr<11&&nn.keyCode==27&&(nn.returnValue=!1);var vn=nn.keyCode;cn.display.shift=vn==16||nn.shiftKey;var mn=Pf(cn,nn);an&&(Of=mn?vn:null,!mn&&vn==88&&!Do&&(Sn?nn.metaKey:nn.ctrlKey)&&cn.replaceSelection("",null,"cut")),Fr&&!Sn&&!mn&&vn==46&&nn.shiftKey&&!nn.ctrlKey&&document.execCommand&&document.execCommand("cut"),vn==18&&!/\bCodeMirror-crosshair\b/.test(cn.display.lineDiv.className)&&Dg(cn)}}function Dg(nn){var cn=nn.display.lineDiv;Ci(cn,"CodeMirror-crosshair");function vn(mn){(mn.keyCode==18||!mn.altKey)&&(jn(cn,"CodeMirror-crosshair"),oo(document,"keyup",vn),oo(document,"mouseover",vn))}Ui(document,"keyup",vn),Ui(document,"mouseover",vn)}function xp(nn){nn.keyCode==16&&(this.doc.sel.shift=!1),fa(this,nn)}function Ph(nn){var cn=this;if(!(nn.target&&nn.target!=cn.display.input.getField())&&!(wc(cn.display,nn)||fa(cn,nn)||nn.ctrlKey&&!nn.altKey||Sn&&nn.metaKey)){var vn=nn.keyCode,mn=nn.charCode;if(an&&vn==Of){Of=null,Na(nn);return}if(!(an&&(!nn.which||nn.which<10)&&Pf(cn,nn))){var wn=String.fromCharCode(mn??vn);wn!="\b"&&(Ap(cn,nn,wn)||cn.display.input.onKeyPress(nn))}}}var Rf=400,ac=function(nn,cn,vn){this.time=nn,this.pos=cn,this.button=vn};ac.prototype.compare=function(nn,cn,vn){return this.time+Rf>nn&&Ko(cn,this.pos)==0&&vn==this.button};var Id,Cu;function Sp(nn,cn){var vn=+new Date;return Cu&&Cu.compare(vn,nn,cn)?(Id=Cu=null,"triple"):Id&&Id.compare(vn,nn,cn)?(Cu=new ac(vn,nn,cn),Id=null,"double"):(Id=new ac(vn,nn,cn),Cu=null,"single")}function oh(nn){var cn=this,vn=cn.display;if(!(fa(cn,nn)||vn.activeTouch&&vn.input.supportsTouch())){if(vn.input.ensurePolled(),vn.shift=nn.shiftKey,wc(vn,nn)){Kr||(vn.scroller.draggable=!1,setTimeout(function(){return vn.scroller.draggable=!0},100));return}if(!Vu(cn,nn)){var mn=Sa(cn,nn),wn=jl(nn),In=mn?Sp(mn,wn):"single";ui(cn).focus(),wn==1&&cn.state.selectingText&&cn.state.selectingText(nn),!(mn&&Dp(cn,wn,mn,In,nn))&&(wn==1?mn?hd(cn,mn,In,nn):us(nn)==vn.scroller&&Na(nn):wn==2?(mn&&Sh(cn.doc,mn),setTimeout(function(){return vn.input.focus()},20)):wn==3&&(Pn?cn.display.input.onContextMenu(nn):$u(cn)))}}}function Dp(nn,cn,vn,mn,wn){var In="Click";return mn=="double"?In="Double"+In:mn=="triple"&&(In="Triple"+In),In=(cn==1?"Left":cn==2?"Middle":"Right")+In,ih(nn,yp(In,wn),wn,function(Nn){if(typeof Nn=="string"&&(Nn=Md[Nn]),!Nn)return!1;var Vn=!1;try{nn.isReadOnly()&&(nn.state.suppressEdits=!0),Vn=Nn(nn,vn)!=so}finally{nn.state.suppressEdits=!1}return Vn})}function Ep(nn,cn,vn){var mn=nn.getOption("configureMouse"),wn=mn?mn(nn,cn,vn):{};if(wn.unit==null){var In=_n?vn.shiftKey&&vn.metaKey:vn.altKey;wn.unit=In?"rectangle":cn=="single"?"char":cn=="double"?"word":"line"}return(wn.extend==null||nn.doc.extend)&&(wn.extend=nn.doc.extend||vn.shiftKey),wn.addNew==null&&(wn.addNew=Sn?vn.metaKey:vn.ctrlKey),wn.moveOnDrag==null&&(wn.moveOnDrag=!(Sn?vn.altKey:vn.ctrlKey)),wn}function hd(nn,cn,vn,mn){Gr?setTimeout(Ni(kd,nn),0):nn.curOp.focus=wi(Gn(nn));var wn=Ep(nn,vn,mn),In=nn.doc.sel,Nn;nn.options.dragDrop&&ml&&!nn.isReadOnly()&&vn=="single"&&(Nn=In.contains(cn))>-1&&(Ko((Nn=In.ranges[Nn]).from(),cn)<0||cn.xRel>0)&&(Ko(Nn.to(),cn)>0||cn.xRel<0)?Eo(nn,mn,cn,wn):Oh(nn,mn,cn,wn)}function Eo(nn,cn,vn,mn){var wn=nn.display,In=!1,Nn=dl(nn,function(Jn){Kr&&(wn.scroller.draggable=!1),nn.state.draggingText=!1,nn.state.delayingBlurEvent&&(nn.hasFocus()?nn.state.delayingBlurEvent=!1:$u(nn)),oo(wn.wrapper.ownerDocument,"mouseup",Nn),oo(wn.wrapper.ownerDocument,"mousemove",Vn),oo(wn.scroller,"dragstart",Yn),oo(wn.scroller,"drop",Nn),In||(Na(Jn),mn.addNew||Sh(nn.doc,vn,null,null,mn.extend),Kr&&!ln||Gr&&Yr==9?setTimeout(function(){wn.wrapper.ownerDocument.body.focus({preventScroll:!0}),wn.input.focus()},20):wn.input.focus())}),Vn=function(Jn){In=In||Math.abs(cn.clientX-Jn.clientX)+Math.abs(cn.clientY-Jn.clientY)>=10},Yn=function(){return In=!0};Kr&&(wn.scroller.draggable=!0),nn.state.draggingText=Nn,Nn.copy=!mn.moveOnDrag,Ui(wn.wrapper.ownerDocument,"mouseup",Nn),Ui(wn.wrapper.ownerDocument,"mousemove",Vn),Ui(wn.scroller,"dragstart",Yn),Ui(wn.scroller,"drop",Nn),nn.state.delayingBlurEvent=!0,setTimeout(function(){return wn.input.focus()},20),wn.scroller.dragDrop&&wn.scroller.dragDrop()}function va(nn,cn,vn){if(vn=="char")return new cs(cn,cn);if(vn=="word")return nn.findWordAt(cn);if(vn=="line")return new cs(ro(cn.line,0),Ri(nn.doc,ro(cn.line+1,0)));var mn=vn(nn,cn);return new cs(mn.from,mn.to)}function Oh(nn,cn,vn,mn){Gr&&$u(nn);var wn=nn.display,In=nn.doc;Na(cn);var Nn,Vn,Yn=In.sel,Jn=Yn.ranges;if(mn.addNew&&!mn.extend?(Vn=In.sel.contains(vn),Vn>-1?Nn=Jn[Vn]:Nn=new cs(vn,vn)):(Nn=In.sel.primary(),Vn=In.sel.primIndex),mn.unit=="rectangle")mn.addNew||(Nn=new cs(vn,vn)),vn=Sa(nn,cn,!0,!0),Vn=-1;else{var ci=va(nn,vn,mn.unit);mn.extend?Nn=xh(Nn,ci.anchor,ci.head,mn.extend):Nn=ci}mn.addNew?Vn==-1?(Vn=Jn.length,El(In,xc(nn,Jn.concat([Nn]),Vn),{scroll:!1,origin:"*mouse"})):Jn.length>1&&Jn[Vn].empty()&&mn.unit=="char"&&!mn.extend?(El(In,xc(nn,Jn.slice(0,Vn).concat(Jn.slice(Vn+1)),0),{scroll:!1,origin:"*mouse"}),Yn=In.sel):Qd(In,Vn,Nn,Ho):(Vn=0,El(In,new Fl([Nn],0),Ho),Yn=In.sel);var vi=vn;function Oi(wo){if(Ko(vi,wo)!=0)if(vi=wo,mn.unit=="rectangle"){for(var zo=[],ra=nn.options.tabSize,Wo=Vi(bi(In,vn.line).text,vn.ch,ra),ja=Vi(bi(In,wo.line).text,wo.ch,ra),Es=Math.min(Wo,ja),Tl=Math.max(Wo,ja),Qs=Math.min(vn.line,wo.line),yc=Math.min(nn.lastLine(),Math.max(vn.line,wo.line));Qs<=yc;Qs++){var sc=bi(In,Qs).text,fl=Ji(sc,Es,ra);Es==Tl?zo.push(new cs(ro(Qs,fl),ro(Qs,fl))):sc.length>fl&&zo.push(new cs(ro(Qs,fl),ro(Qs,Ji(sc,Tl,ra))))}zo.length||zo.push(new cs(vn,vn)),El(In,xc(nn,Yn.ranges.slice(0,Vn).concat(zo),Vn),{origin:"*mouse",scroll:!1}),nn.scrollIntoView(wo)}else{var lc=Nn,zl=va(nn,wo,mn.unit),wl=lc.anchor,ll;Ko(zl.anchor,wl)>0?(ll=zl.head,wl=li(lc.from(),zl.anchor)):(ll=zl.anchor,wl=gi(lc.to(),zl.head));var il=Yn.ranges.slice(0);il[Vn]=au(nn,new cs(Ri(In,wl),ll)),El(In,xc(nn,il,Vn),Ho)}}var Di=wn.wrapper.getBoundingClientRect(),Gi=0;function ao(wo){var zo=++Gi,ra=Sa(nn,wo,!0,mn.unit=="rectangle");if(ra)if(Ko(ra,vi)!=0){nn.curOp.focus=wi(Gn(nn)),Oi(ra);var Wo=Ln(wn,In);(ra.line>=Wo.to||ra.line<Wo.from)&&setTimeout(dl(nn,function(){Gi==zo&&ao(wo)}),150)}else{var ja=wo.clientY<Di.top?-20:wo.clientY>Di.bottom?20:0;ja&&setTimeout(dl(nn,function(){Gi==zo&&(wn.scroller.scrollTop+=ja,ao(wo))}),50)}}function mo(wo){nn.state.selectingText=!1,Gi=1/0,wo&&(Na(wo),wn.input.focus()),oo(wn.wrapper.ownerDocument,"mousemove",So),oo(wn.wrapper.ownerDocument,"mouseup",Oo),In.history.lastSelOrigin=null}var So=dl(nn,function(wo){wo.buttons===0||!jl(wo)?mo(wo):ao(wo)}),Oo=dl(nn,mo);nn.state.selectingText=Oo,Ui(wn.wrapper.ownerDocument,"mousemove",So),Ui(wn.wrapper.ownerDocument,"mouseup",Oo)}function au(nn,cn){var vn=cn.anchor,mn=cn.head,wn=bi(nn.doc,vn.line);if(Ko(vn,mn)==0&&vn.sticky==mn.sticky)return cn;var In=To(wn);if(!In)return cn;var Nn=go(In,vn.ch,vn.sticky),Vn=In[Nn];if(Vn.from!=vn.ch&&Vn.to!=vn.ch)return cn;var Yn=Nn+(Vn.from==vn.ch==(Vn.level!=1)?0:1);if(Yn==0||Yn==In.length)return cn;var Jn;if(mn.line!=vn.line)Jn=(mn.line-vn.line)*(nn.doc.direction=="ltr"?1:-1)>0;else{var ci=go(In,mn.ch,mn.sticky),vi=ci-Nn||(mn.ch-vn.ch)*(Vn.level==1?-1:1);ci==Yn-1||ci==Yn?Jn=vi<0:Jn=vi>0}var Oi=In[Yn+(Jn?-1:0)],Di=Jn==(Oi.level==1),Gi=Di?Oi.from:Oi.to,ao=Di?"after":"before";return vn.ch==Gi&&vn.sticky==ao?cn:new cs(new ro(vn.line,Gi,ao),mn)}function Rh(nn,cn,vn,mn){var wn,In;if(cn.touches)wn=cn.touches[0].clientX,In=cn.touches[0].clientY;else try{wn=cn.clientX,In=cn.clientY}catch{return!1}if(wn>=Math.floor(nn.display.gutters.getBoundingClientRect().right))return!1;mn&&Na(cn);var Nn=nn.display,Vn=Nn.lineDiv.getBoundingClientRect();if(In>Vn.bottom||!aa(nn,vn))return Zs(cn);In-=Vn.top-Nn.viewOffset;for(var Yn=0;Yn<nn.display.gutterSpecs.length;++Yn){var Jn=Nn.gutters.childNodes[Yn];if(Jn&&Jn.getBoundingClientRect().right>=wn){var ci=Fs(nn.doc,In),vi=nn.display.gutterSpecs[Yn];return na(nn,vn,nn,ci,vi.className,cn),Zs(cn)}}}function Vu(nn,cn){return Rh(nn,cn,"gutterClick",!0)}function $h(nn,cn){wc(nn.display,cn)||$f(nn,cn)||fa(nn,cn,"contextmenu")||Pn||nn.display.input.onContextMenu(cn)}function $f(nn,cn){return aa(nn,"gutterContextMenu")?Rh(nn,cn,"gutterContextMenu",!1):!1}function Ld(nn){nn.display.wrapper.className=nn.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+nn.options.theme.replace(/(^|\s)\s*/g," cm-s-"),eu(nn)}var Uc={toString:function(){return"CodeMirror.Init"}},Nf={},Pd={};function Nh(nn){var cn=nn.optionHandlers;function vn(mn,wn,In,Nn){nn.defaults[mn]=wn,In&&(cn[mn]=Nn?function(Vn,Yn,Jn){Jn!=Uc&&In(Vn,Yn,Jn)}:In)}nn.defineOption=vn,nn.Init=Uc,vn("value","",function(mn,wn){return mn.setValue(wn)},!0),vn("mode",null,function(mn,wn){mn.doc.modeOption=wn,Ah(mn)},!0),vn("indentUnit",2,Ah,!0),vn("indentWithTabs",!1),vn("smartIndent",!0),vn("tabSize",4,function(mn){iu(mn),eu(mn),ns(mn)},!0),vn("lineSeparator",null,function(mn,wn){if(mn.doc.lineSep=wn,!!wn){var In=[],Nn=mn.doc.first;mn.doc.iter(function(Yn){for(var Jn=0;;){var ci=Yn.text.indexOf(wn,Jn);if(ci==-1)break;Jn=ci+wn.length,In.push(ro(Nn,ci))}Nn++});for(var Vn=In.length-1;Vn>=0;Vn--)ud(mn.doc,wn,In[Vn],ro(In[Vn].line,In[Vn].ch+wn.length))}}),vn("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(mn,wn,In){mn.state.specialChars=new RegExp(wn.source+(wn.test("	")?"":"|	"),"g"),In!=Uc&&mn.refresh()}),vn("specialCharPlaceholder",Ii,function(mn){return mn.refresh()},!0),vn("electricChars",!0),vn("inputStyle",kn?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),vn("spellcheck",!1,function(mn,wn){return mn.getInputField().spellcheck=wn},!0),vn("autocorrect",!1,function(mn,wn){return mn.getInputField().autocorrect=wn},!0),vn("autocapitalize",!1,function(mn,wn){return mn.getInputField().autocapitalize=wn},!0),vn("rtlMoveVisually",!pn),vn("wholeLineUpdateBefore",!0),vn("theme","default",function(mn){Ld(mn),Kd(mn)},!0),vn("keyMap","default",function(mn,wn,In){var Nn=Ed(wn),Vn=In!=Uc&&Ed(In);Vn&&Vn.detach&&Vn.detach(mn,Nn),Nn.attach&&Nn.attach(mn,Vn||null)}),vn("extraKeys",null),vn("configureMouse",null),vn("lineWrapping",!1,Eg,!0),vn("gutters",[],function(mn,wn){mn.display.gutterSpecs=af(wn,mn.options.lineNumbers),Kd(mn)},!0),vn("fixedGutter",!0,function(mn,wn){mn.display.gutters.style.left=wn?Ql(mn.display)+"px":"0",mn.refresh()},!0),vn("coverGutterNextToScrollbar",!1,function(mn){return Bc(mn)},!0),vn("scrollbarStyle","native",function(mn){wh(mn),Bc(mn),mn.display.scrollbars.setScrollTop(mn.doc.scrollTop),mn.display.scrollbars.setScrollLeft(mn.doc.scrollLeft)},!0),vn("lineNumbers",!1,function(mn,wn){mn.display.gutterSpecs=af(mn.options.gutters,wn),Kd(mn)},!0),vn("firstLineNumber",1,Kd,!0),vn("lineNumberFormatter",function(mn){return mn},Kd,!0),vn("showCursorWhenSelecting",!1,Ru,!0),vn("resetSelectionOnContextMenu",!0),vn("lineWiseCopyCut",!0),vn("pasteLinesPerSelection",!0),vn("selectionsMayTouch",!1),vn("readOnly",!1,function(mn,wn){wn=="nocursor"&&(Ac(mn),mn.display.input.blur()),mn.display.input.readOnlyChanged(wn)}),vn("screenReaderLabel",null,function(mn,wn){wn=wn===""?null:wn,mn.display.input.screenReaderLabelChanged(wn)}),vn("disableInput",!1,function(mn,wn){wn||mn.display.input.reset()},!0),vn("dragDrop",!0,fd),vn("allowDropFileTypes",null),vn("cursorBlinkRate",530),vn("cursorScrollMargin",0),vn("cursorHeight",1,Ru,!0),vn("singleCursorHeightPerLine",!0,Ru,!0),vn("workTime",100),vn("workDelay",100),vn("flattenSpans",!0,iu,!0),vn("addModeClass",!1,iu,!0),vn("pollInterval",100),vn("undoDepth",200,function(mn,wn){return mn.doc.history.undoDepth=wn}),vn("historyEventDelay",1250),vn("viewportMargin",10,function(mn){return mn.refresh()},!0),vn("maxHighlightLength",1e4,iu,!0),vn("moveInputWithCursor",!0,function(mn,wn){wn||mn.display.input.resetPosition()}),vn("tabindex",null,function(mn,wn){return mn.display.input.getField().tabIndex=wn||""}),vn("autofocus",null),vn("direction","ltr",function(mn,wn){return mn.doc.setDirection(wn)},!0),vn("phrases",null)}function fd(nn,cn,vn){var mn=vn&&vn!=Uc;if(!cn!=!mn){var wn=nn.display.dragFunctions,In=cn?Ui:oo;In(nn.display.scroller,"dragstart",wn.start),In(nn.display.scroller,"dragenter",wn.enter),In(nn.display.scroller,"dragover",wn.over),In(nn.display.scroller,"dragleave",wn.leave),In(nn.display.scroller,"drop",wn.drop)}}function Eg(nn){nn.options.lineWrapping?(Ci(nn.display.wrapper,"CodeMirror-wrap"),nn.display.sizer.style.minWidth="",nn.display.sizerWidth=null):(jn(nn.display.wrapper,"CodeMirror-wrap"),Tn(nn)),Xs(nn),ns(nn),eu(nn),setTimeout(function(){return Bc(nn)},100)}function Os(nn,cn){var vn=this;if(!(this instanceof Os))return new Os(nn,cn);this.options=cn=cn?$i(cn):{},$i(Nf,cn,!1);var mn=cn.value;typeof mn=="string"?mn=new oc(mn,cn.mode,null,cn.lineSeparator,cn.direction):cn.mode&&(mn.modeOption=cn.mode),this.doc=mn;var wn=new Os.inputStyles[cn.inputStyle](this),In=this.display=new lp(nn,mn,wn,cn);In.wrapper.CodeMirror=this,Ld(this),cn.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),wh(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ji,keySeq:null,specialChars:null},cn.autofocus&&!kn&&In.input.focus(),Gr&&Yr<11&&setTimeout(function(){return vn.display.input.reset(!0)},20),Bf(this),wg(),od(this),this.curOp.forceUpdate=!0,pf(this,mn),cn.autofocus&&!kn||this.hasFocus()?setTimeout(function(){vn.hasFocus()&&!vn.state.focused&&Ad(vn)},20):Ac(this);for(var Nn in Pd)Pd.hasOwnProperty(Nn)&&Pd[Nn](this,cn[Nn],Uc);of(this),cn.finishInit&&cn.finishInit(this);for(var Vn=0;Vn<Ff.length;++Vn)Ff[Vn](this);ad(this),Kr&&cn.lineWrapping&&getComputedStyle(In.lineDiv).textRendering=="optimizelegibility"&&(In.lineDiv.style.textRendering="auto")}Os.defaults=Nf,Os.optionHandlers=Pd;function Bf(nn){var cn=nn.display;Ui(cn.scroller,"mousedown",dl(nn,oh)),Gr&&Yr<11?Ui(cn.scroller,"dblclick",dl(nn,function(Yn){if(!fa(nn,Yn)){var Jn=Sa(nn,Yn);if(!(!Jn||Vu(nn,Yn)||wc(nn.display,Yn))){Na(Yn);var ci=nn.findWordAt(Jn);Sh(nn.doc,ci.anchor,ci.head)}}})):Ui(cn.scroller,"dblclick",function(Yn){return fa(nn,Yn)||Na(Yn)}),Ui(cn.scroller,"contextmenu",function(Yn){return $h(nn,Yn)}),Ui(cn.input.getField(),"contextmenu",function(Yn){cn.scroller.contains(Yn.target)||$h(nn,Yn)});var vn,mn={end:0};function wn(){cn.activeTouch&&(vn=setTimeout(function(){return cn.activeTouch=null},1e3),mn=cn.activeTouch,mn.end=+new Date)}function In(Yn){if(Yn.touches.length!=1)return!1;var Jn=Yn.touches[0];return Jn.radiusX<=1&&Jn.radiusY<=1}function Nn(Yn,Jn){if(Jn.left==null)return!0;var ci=Jn.left-Yn.left,vi=Jn.top-Yn.top;return ci*ci+vi*vi>20*20}Ui(cn.scroller,"touchstart",function(Yn){if(!fa(nn,Yn)&&!In(Yn)&&!Vu(nn,Yn)){cn.input.ensurePolled(),clearTimeout(vn);var Jn=+new Date;cn.activeTouch={start:Jn,moved:!1,prev:Jn-mn.end<=300?mn:null},Yn.touches.length==1&&(cn.activeTouch.left=Yn.touches[0].pageX,cn.activeTouch.top=Yn.touches[0].pageY)}}),Ui(cn.scroller,"touchmove",function(){cn.activeTouch&&(cn.activeTouch.moved=!0)}),Ui(cn.scroller,"touchend",function(Yn){var Jn=cn.activeTouch;if(Jn&&!wc(cn,Yn)&&Jn.left!=null&&!Jn.moved&&new Date-Jn.start<300){var ci=nn.coordsChar(cn.activeTouch,"page"),vi;!Jn.prev||Nn(Jn,Jn.prev)?vi=new cs(ci,ci):!Jn.prev.prev||Nn(Jn,Jn.prev.prev)?vi=nn.findWordAt(ci):vi=new cs(ro(ci.line,0),Ri(nn.doc,ro(ci.line+1,0))),nn.setSelection(vi.anchor,vi.head),nn.focus(),Na(Yn)}wn()}),Ui(cn.scroller,"touchcancel",wn),Ui(cn.scroller,"scroll",function(){cn.scroller.clientHeight&&(Vd(nn,cn.scroller.scrollTop),id(nn,cn.scroller.scrollLeft,!0),na(nn,"scroll",nn))}),Ui(cn.scroller,"mousewheel",function(Yn){return lf(nn,Yn)}),Ui(cn.scroller,"DOMMouseScroll",function(Yn){return lf(nn,Yn)}),Ui(cn.wrapper,"scroll",function(){return cn.wrapper.scrollTop=cn.wrapper.scrollLeft=0}),cn.dragFunctions={enter:function(Yn){fa(nn,Yn)||gl(Yn)},over:function(Yn){fa(nn,Yn)||(_g(nn,Yn),gl(Yn))},start:function(Yn){return bg(nn,Yn)},drop:dl(nn,yg),leave:function(Yn){fa(nn,Yn)||vp(nn)}};var Vn=cn.input.getField();Ui(Vn,"keyup",function(Yn){return xp.call(nn,Yn)}),Ui(Vn,"keydown",dl(nn,Cp)),Ui(Vn,"keypress",dl(nn,Ph)),Ui(Vn,"focus",function(Yn){return Ad(nn,Yn)}),Ui(Vn,"blur",function(Yn){return Ac(nn,Yn)})}var Ff=[];Os.defineInitHook=function(nn){return Ff.push(nn)};function ju(nn,cn,vn,mn){var wn=nn.doc,In;vn==null&&(vn="add"),vn=="smart"&&(wn.mode.indent?In=Po(nn,cn).state:vn="prev");var Nn=nn.options.tabSize,Vn=bi(wn,cn),Yn=Vi(Vn.text,null,Nn);Vn.stateAfter&&(Vn.stateAfter=null);var Jn=Vn.text.match(/^\s*/)[0],ci;if(!mn&&!/\S/.test(Vn.text))ci=0,vn="not";else if(vn=="smart"&&(ci=wn.mode.indent(In,Vn.text.slice(Jn.length),Vn.text),ci==so||ci>150)){if(!mn)return;vn="prev"}vn=="prev"?cn>wn.first?ci=Vi(bi(wn,cn-1).text,null,Nn):ci=0:vn=="add"?ci=Yn+nn.options.indentUnit:vn=="subtract"?ci=Yn-nn.options.indentUnit:typeof vn=="number"&&(ci=Yn+vn),ci=Math.max(0,ci);var vi="",Oi=0;if(nn.options.indentWithTabs)for(var Di=Math.floor(ci/Nn);Di;--Di)Oi+=Nn,vi+="	";if(Oi<ci&&(vi+=qo(ci-Oi)),vi!=Jn)return ud(wn,vi,ro(cn,0),ro(cn,Jn.length),"+input"),Vn.stateAfter=null,!0;for(var Gi=0;Gi<wn.sel.ranges.length;Gi++){var ao=wn.sel.ranges[Gi];if(ao.head.line==cn&&ao.head.ch<Jn.length){var mo=ro(cn,Jn.length);Qd(wn,Gi,new cs(mo,mo));break}}}var Gc=null;function Bh(nn){Gc=nn}function ah(nn,cn,vn,mn,wn){var In=nn.doc;nn.display.shift=!1,mn||(mn=In.sel);var Nn=+new Date-200,Vn=wn=="paste"||nn.state.pasteIncoming>Nn,Yn=bo(cn),Jn=null;if(Vn&&mn.ranges.length>1)if(Gc&&Gc.text.join(`
`)==cn){if(mn.ranges.length%Gc.text.length==0){Jn=[];for(var ci=0;ci<Gc.text.length;ci++)Jn.push(In.splitLines(Gc.text[ci]))}}else Yn.length==mn.ranges.length&&nn.options.pasteLinesPerSelection&&(Jn=ka(Yn,function(So){return[So]}));for(var vi=nn.curOp.updateInput,Oi=mn.ranges.length-1;Oi>=0;Oi--){var Di=mn.ranges[Oi],Gi=Di.from(),ao=Di.to();Di.empty()&&(vn&&vn>0?Gi=ro(Gi.line,Gi.ch-vn):nn.state.overwrite&&!Vn?ao=ro(ao.line,Math.min(bi(In,ao.line).text.length,ao.ch+xo(Yn).length)):Vn&&Gc&&Gc.lineWise&&Gc.text.join(`
`)==Yn.join(`
`)&&(Gi=ao=ro(Gi.line,0)));var mo={from:Gi,to:ao,text:Jn?Jn[Oi%Jn.length]:Yn,origin:wn||(Vn?"paste":nn.state.cutIncoming>Nn?"cut":"+input")};cd(nn.doc,mo),ws(nn,"inputRead",nn,mo)}cn&&!Vn&&Uu(nn,cn),Ja(nn),nn.curOp.updateInput<2&&(nn.curOp.updateInput=vi),nn.curOp.typing=!0,nn.state.pasteIncoming=nn.state.cutIncoming=-1}function Tp(nn,cn){var vn=nn.clipboardData&&nn.clipboardData.getData("Text");if(vn)return nn.preventDefault(),!cn.isReadOnly()&&!cn.options.disableInput&&cn.hasFocus()&&rl(cn,function(){return ah(cn,vn,0,null,"paste")}),!0}function Uu(nn,cn){if(!(!nn.options.electricChars||!nn.options.smartIndent))for(var vn=nn.doc.sel,mn=vn.ranges.length-1;mn>=0;mn--){var wn=vn.ranges[mn];if(!(wn.head.ch>100||mn&&vn.ranges[mn-1].head.line==wn.head.line)){var In=nn.getModeAt(wn.head),Nn=!1;if(In.electricChars){for(var Vn=0;Vn<In.electricChars.length;Vn++)if(cn.indexOf(In.electricChars.charAt(Vn))>-1){Nn=ju(nn,wn.head.line,"smart");break}}else In.electricInput&&In.electricInput.test(bi(nn.doc,wn.head.line).text.slice(0,wn.head.ch))&&(Nn=ju(nn,wn.head.line,"smart"));Nn&&ws(nn,"electricInput",nn,wn.head.line)}}}function zf(nn){for(var cn=[],vn=[],mn=0;mn<nn.doc.sel.ranges.length;mn++){var wn=nn.doc.sel.ranges[mn].head.line,In={anchor:ro(wn,0),head:ro(wn+1,0)};vn.push(In),cn.push(nn.getRange(In.anchor,In.head))}return{text:cn,ranges:vn}}function sh(nn,cn,vn,mn){nn.setAttribute("autocorrect",vn?"on":"off"),nn.setAttribute("autocapitalize",mn?"on":"off"),nn.setAttribute("spellcheck",!!cn)}function Mp(){var nn=Hn("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),cn=Hn("div",[nn],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Kr?nn.style.width="1000px":nn.setAttribute("wrap","off"),gn&&(nn.style.border="1px solid black"),cn}function Ip(nn){var cn=nn.optionHandlers,vn=nn.helpers={};nn.prototype={constructor:nn,focus:function(){ui(this).focus(),this.display.input.focus()},setOption:function(mn,wn){var In=this.options,Nn=In[mn];In[mn]==wn&&mn!="mode"||(In[mn]=wn,cn.hasOwnProperty(mn)&&dl(this,cn[mn])(this,wn,Nn),na(this,"optionChange",this,mn))},getOption:function(mn){return this.options[mn]},getDoc:function(){return this.doc},addKeyMap:function(mn,wn){this.state.keyMaps[wn?"push":"unshift"](Ed(mn))},removeKeyMap:function(mn){for(var wn=this.state.keyMaps,In=0;In<wn.length;++In)if(wn[In]==mn||wn[In].name==mn)return wn.splice(In,1),!0},addOverlay:Bl(function(mn,wn){var In=mn.token?mn:nn.getMode(this.options,mn);if(In.startState)throw new Error("Overlays may not be stateful.");Ua(this.state.overlays,{mode:In,modeSpec:mn,opaque:wn&&wn.opaque,priority:wn&&wn.priority||0},function(Nn){return Nn.priority}),this.state.modeGen++,ns(this)}),removeOverlay:Bl(function(mn){for(var wn=this.state.overlays,In=0;In<wn.length;++In){var Nn=wn[In].modeSpec;if(Nn==mn||typeof mn=="string"&&Nn.name==mn){wn.splice(In,1),this.state.modeGen++,ns(this);return}}}),indentLine:Bl(function(mn,wn,In){typeof wn!="string"&&typeof wn!="number"&&(wn==null?wn=this.options.smartIndent?"smart":"prev":wn=wn?"add":"subtract"),Js(this.doc,mn)&&ju(this,mn,wn,In)}),indentSelection:Bl(function(mn){for(var wn=this.doc.sel.ranges,In=-1,Nn=0;Nn<wn.length;Nn++){var Vn=wn[Nn];if(Vn.empty())Vn.head.line>In&&(ju(this,Vn.head.line,mn,!0),In=Vn.head.line,Nn==this.doc.sel.primIndex&&Ja(this));else{var Yn=Vn.from(),Jn=Vn.to(),ci=Math.max(In,Yn.line);In=Math.min(this.lastLine(),Jn.line-(Jn.ch?0:1))+1;for(var vi=ci;vi<In;++vi)ju(this,vi,mn);var Oi=this.doc.sel.ranges;Yn.ch==0&&wn.length==Oi.length&&Oi[Nn].from().ch>0&&Qd(this.doc,Nn,new cs(Yn,Oi[Nn].to()),Ki)}}}),getTokenAt:function(mn,wn){return Da(this,mn,wn)},getLineTokens:function(mn,wn){return Da(this,ro(mn),wn,!0)},getTokenTypeAt:function(mn){mn=Ri(this.doc,mn);var wn=Zo(this,bi(this.doc,mn.line)),In=0,Nn=(wn.length-1)/2,Vn=mn.ch,Yn;if(Vn==0)Yn=wn[2];else for(;;){var Jn=In+Nn>>1;if((Jn?wn[Jn*2-1]:0)>=Vn)Nn=Jn;else if(wn[Jn*2+1]<Vn)In=Jn+1;else{Yn=wn[Jn*2+2];break}}var ci=Yn?Yn.indexOf("overlay "):-1;return ci<0?Yn:ci==0?null:Yn.slice(0,ci-1)},getModeAt:function(mn){var wn=this.doc.mode;return wn.innerMode?nn.innerMode(wn,this.getTokenAt(mn).state).mode:wn},getHelper:function(mn,wn){return this.getHelpers(mn,wn)[0]},getHelpers:function(mn,wn){var In=[];if(!vn.hasOwnProperty(wn))return In;var Nn=vn[wn],Vn=this.getModeAt(mn);if(typeof Vn[wn]=="string")Nn[Vn[wn]]&&In.push(Nn[Vn[wn]]);else if(Vn[wn])for(var Yn=0;Yn<Vn[wn].length;Yn++){var Jn=Nn[Vn[wn][Yn]];Jn&&In.push(Jn)}else Vn.helperType&&Nn[Vn.helperType]?In.push(Nn[Vn.helperType]):Nn[Vn.name]&&In.push(Nn[Vn.name]);for(var ci=0;ci<Nn._global.length;ci++){var vi=Nn._global[ci];vi.pred(Vn,this)&&lo(In,vi.val)==-1&&In.push(vi.val)}return In},getStateAfter:function(mn,wn){var In=this.doc;return mn=Mi(In,mn??In.first+In.size-1),Po(this,mn+1,wn).state},cursorCoords:function(mn,wn){var In,Nn=this.doc.sel.primary();return mn==null?In=Nn.head:typeof mn=="object"?In=Ri(this.doc,mn):In=mn?Nn.from():Nn.to(),Xi(this,In,wn||"page")},charCoords:function(mn,wn){return Hi(this,Ri(this.doc,mn),wn||"page")},coordsChar:function(mn,wn){return mn=Bi(this,mn,wn||"page"),Ao(this,mn.left,mn.top)},lineAtHeight:function(mn,wn){return mn=Bi(this,{top:mn,left:0},wn||"page").top,Fs(this.doc,mn+this.display.viewOffset)},heightAtLine:function(mn,wn,In){var Nn=!1,Vn;if(typeof mn=="number"){var Yn=this.doc.first+this.doc.size-1;mn<this.doc.first?mn=this.doc.first:mn>Yn&&(mn=Yn,Nn=!0),Vn=bi(this.doc,mn)}else Vn=mn;return Si(this,Vn,{top:0,left:0},wn||"page",In||Nn).top+(Nn?this.doc.height-al(Vn):0)},defaultTextHeight:function(){return Hs(this.display)},defaultCharWidth:function(){return Vs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(mn,wn,In,Nn,Vn){var Yn=this.display;mn=Xi(this,Ri(this.doc,mn));var Jn=mn.bottom,ci=mn.left;if(wn.style.position="absolute",wn.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(wn),Yn.sizer.appendChild(wn),Nn=="over")Jn=mn.top;else if(Nn=="above"||Nn=="near"){var vi=Math.max(Yn.wrapper.clientHeight,this.doc.height),Oi=Math.max(Yn.sizer.clientWidth,Yn.lineSpace.clientWidth);(Nn=="above"||mn.bottom+wn.offsetHeight>vi)&&mn.top>wn.offsetHeight?Jn=mn.top-wn.offsetHeight:mn.bottom+wn.offsetHeight<=vi&&(Jn=mn.bottom),ci+wn.offsetWidth>Oi&&(ci=Oi-wn.offsetWidth)}wn.style.top=Jn+"px",wn.style.left=wn.style.right="",Vn=="right"?(ci=Yn.sizer.clientWidth-wn.offsetWidth,wn.style.right="0px"):(Vn=="left"?ci=0:Vn=="middle"&&(ci=(Yn.sizer.clientWidth-wn.offsetWidth)/2),wn.style.left=ci+"px"),In&&mi(this,{left:ci,top:Jn,right:ci+wn.offsetWidth,bottom:Jn+wn.offsetHeight})},triggerOnKeyDown:Bl(Cp),triggerOnKeyPress:Bl(Ph),triggerOnKeyUp:xp,triggerOnMouseDown:Bl(oh),execCommand:function(mn){if(Md.hasOwnProperty(mn))return Md[mn].call(null,this)},triggerElectric:Bl(function(mn){Uu(this,mn)}),findPosH:function(mn,wn,In,Nn){var Vn=1;wn<0&&(Vn=-1,wn=-wn);for(var Yn=Ri(this.doc,mn),Jn=0;Jn<wn&&(Yn=lh(this.doc,Yn,Vn,In,Nn),!Yn.hitSide);++Jn);return Yn},moveH:Bl(function(mn,wn){var In=this;this.extendSelectionsBy(function(Nn){return In.display.shift||In.doc.extend||Nn.empty()?lh(In.doc,Nn.head,mn,wn,In.options.rtlMoveVisually):mn<0?Nn.from():Nn.to()},Io)}),deleteH:Bl(function(mn,wn){var In=this.doc.sel,Nn=this.doc;In.somethingSelected()?Nn.replaceSelection("",null,"+delete"):Td(this,function(Vn){var Yn=lh(Nn,Vn.head,mn,wn,!1);return mn<0?{from:Yn,to:Vn.head}:{from:Vn.head,to:Yn}})}),findPosV:function(mn,wn,In,Nn){var Vn=1,Yn=Nn;wn<0&&(Vn=-1,wn=-wn);for(var Jn=Ri(this.doc,mn),ci=0;ci<wn;++ci){var vi=Xi(this,Jn,"div");if(Yn==null?Yn=vi.left:vi.left=Yn,Jn=Hf(this,vi,Vn,In),Jn.hitSide)break}return Jn},moveV:Bl(function(mn,wn){var In=this,Nn=this.doc,Vn=[],Yn=!this.display.shift&&!Nn.extend&&Nn.sel.somethingSelected();if(Nn.extendSelectionsBy(function(ci){if(Yn)return mn<0?ci.from():ci.to();var vi=Xi(In,ci.head,"div");ci.goalColumn!=null&&(vi.left=ci.goalColumn),Vn.push(vi.left);var Oi=Hf(In,vi,mn,wn);return wn=="page"&&ci==Nn.sel.primary()&&ta(In,Hi(In,Oi,"div").top-vi.top),Oi},Io),Vn.length)for(var Jn=0;Jn<Nn.sel.ranges.length;Jn++)Nn.sel.ranges[Jn].goalColumn=Vn[Jn]}),findWordAt:function(mn){var wn=this.doc,In=bi(wn,mn.line).text,Nn=mn.ch,Vn=mn.ch;if(In){var Yn=this.getHelper(mn,"wordChars");(mn.sticky=="before"||Vn==In.length)&&Nn?--Nn:++Vn;for(var Jn=In.charAt(Nn),ci=hi(Jn,Yn)?function(vi){return hi(vi,Yn)}:/\s/.test(Jn)?function(vi){return/\s/.test(vi)}:function(vi){return!/\s/.test(vi)&&!hi(vi)};Nn>0&&ci(In.charAt(Nn-1));)--Nn;for(;Vn<In.length&&ci(In.charAt(Vn));)++Vn}return new cs(ro(mn.line,Nn),ro(mn.line,Vn))},toggleOverwrite:function(mn){mn!=null&&mn==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ci(this.display.cursorDiv,"CodeMirror-overwrite"):jn(this.display.cursorDiv,"CodeMirror-overwrite"),na(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==wi(Gn(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Bl(function(mn,wn){ys(this,mn,wn)}),getScrollInfo:function(){var mn=this.display.scroller;return{left:mn.scrollLeft,top:mn.scrollTop,height:mn.scrollHeight-qs(this)-this.display.barHeight,width:mn.scrollWidth-qs(this)-this.display.barWidth,clientHeight:Ec(this),clientWidth:sl(this)}},scrollIntoView:Bl(function(mn,wn){mn==null?(mn={from:this.doc.sel.primary().head,to:null},wn==null&&(wn=this.options.cursorScrollMargin)):typeof mn=="number"?mn={from:ro(mn,0),to:null}:mn.from==null&&(mn={from:mn,to:null}),mn.to||(mn.to=mn.from),mn.margin=wn||0,mn.from.line!=null?Us(this,mn):Bu(this,mn.from,mn.to,mn.margin)}),setSize:Bl(function(mn,wn){var In=this,Nn=function(Yn){return typeof Yn=="number"||/^\d+$/.test(String(Yn))?Yn+"px":Yn};mn!=null&&(this.display.wrapper.style.width=Nn(mn)),wn!=null&&(this.display.wrapper.style.height=Nn(wn)),this.options.lineWrapping&&Pu(this);var Vn=this.display.viewFrom;this.doc.iter(Vn,this.display.viewTo,function(Yn){if(Yn.widgets){for(var Jn=0;Jn<Yn.widgets.length;Jn++)if(Yn.widgets[Jn].noHScroll){kc(In,Vn,"widget");break}}++Vn}),this.curOp.forceUpdate=!0,na(this,"refresh",this)}),operation:function(mn){return rl(this,mn)},startOperation:function(){return od(this)},endOperation:function(){return ad(this)},refresh:Bl(function(){var mn=this.display.cachedTextHeight;ns(this),this.curOp.forceUpdate=!0,eu(this),ys(this,this.doc.scrollLeft,this.doc.scrollTop),nf(this.display),(mn==null||Math.abs(mn-Hs(this.display))>.5||this.options.lineWrapping)&&Xs(this),na(this,"refresh",this)}),swapDoc:Bl(function(mn){var wn=this.doc;return wn.cm=null,this.state.selectingText&&this.state.selectingText(),pf(this,mn),eu(this),this.display.input.reset(),ys(this,mn.scrollLeft,mn.scrollTop),this.curOp.forceScroll=!0,ws(this,"swapDoc",this,wn),wn}),phrase:function(mn){var wn=this.options.phrases;return wn&&Object.prototype.hasOwnProperty.call(wn,mn)?wn[mn]:mn},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},os(nn),nn.registerHelper=function(mn,wn,In){vn.hasOwnProperty(mn)||(vn[mn]=nn[mn]={_global:[]}),vn[mn][wn]=In},nn.registerGlobalHelper=function(mn,wn,In,Nn){nn.registerHelper(mn,wn,Nn),vn[mn]._global.push({pred:In,val:Nn})}}function lh(nn,cn,vn,mn,wn){var In=cn,Nn=vn,Vn=bi(nn,cn.line),Yn=wn&&nn.direction=="rtl"?-vn:vn;function Jn(){var Oo=cn.line+Yn;return Oo<nn.first||Oo>=nn.first+nn.size?!1:(cn=new ro(Oo,cn.ch,cn.sticky),Vn=bi(nn,Oo))}function ci(Oo){var wo;if(mn=="codepoint"){var zo=Vn.text.charCodeAt(cn.ch+(vn>0?0:-1));if(isNaN(zo))wo=null;else{var ra=vn>0?zo>=55296&&zo<56320:zo>=56320&&zo<57343;wo=new ro(cn.line,Math.max(0,Math.min(Vn.text.length,cn.ch+vn*(ra?2:1))),-vn)}}else wn?wo=Cg(nn.cm,Vn,cn,vn):wo=Lf(Vn,cn,vn);if(wo==null)if(!Oo&&Jn())cn=Au(wn,nn.cm,Vn,cn.line,Yn);else return!1;else cn=wo;return!0}if(mn=="char"||mn=="codepoint")ci();else if(mn=="column")ci(!0);else if(mn=="word"||mn=="group")for(var vi=null,Oi=mn=="group",Di=nn.cm&&nn.cm.getHelper(cn,"wordChars"),Gi=!0;!(vn<0&&!ci(!Gi));Gi=!1){var ao=Vn.text.charAt(cn.ch)||`
`,mo=hi(ao,Di)?"w":Oi&&ao==`
`?"n":!Oi||/\s/.test(ao)?null:"p";if(Oi&&!Gi&&!mo&&(mo="s"),vi&&vi!=mo){vn<0&&(vn=1,ci(),cn.sticky="after");break}if(mo&&(vi=mo),vn>0&&!ci(!Gi))break}var So=Wa(nn,cn,In,Nn,!0);return fs(In,So)&&(So.hitSide=!0),So}function Hf(nn,cn,vn,mn){var wn=nn.doc,In=cn.left,Nn;if(mn=="page"){var Vn=Math.min(nn.display.wrapper.clientHeight,ui(nn).innerHeight||wn(nn).documentElement.clientHeight),Yn=Math.max(Vn-.5*Hs(nn.display),3);Nn=(vn>0?cn.bottom:cn.top)+vn*Yn}else mn=="line"&&(Nn=vn>0?cn.bottom+3:cn.top-3);for(var Jn;Jn=Ao(nn,In,Nn),!!Jn.outside;){if(vn<0?Nn<=0:Nn>=wn.height){Jn.hitSide=!0;break}Nn+=vn*5}return Jn}var Ds=function(nn){this.cm=nn,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ji,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ds.prototype.init=function(nn){var cn=this,vn=this,mn=vn.cm,wn=vn.div=nn.lineDiv;wn.contentEditable=!0,sh(wn,mn.options.spellcheck,mn.options.autocorrect,mn.options.autocapitalize);function In(Vn){for(var Yn=Vn.target;Yn;Yn=Yn.parentNode){if(Yn==wn)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Yn.className))break}return!1}Ui(wn,"paste",function(Vn){!In(Vn)||fa(mn,Vn)||Tp(Vn,mn)||Yr<=11&&setTimeout(dl(mn,function(){return cn.updateFromDOM()}),20)}),Ui(wn,"compositionstart",function(Vn){cn.composing={data:Vn.data,done:!1}}),Ui(wn,"compositionupdate",function(Vn){cn.composing||(cn.composing={data:Vn.data,done:!1})}),Ui(wn,"compositionend",function(Vn){cn.composing&&(Vn.data!=cn.composing.data&&cn.readFromDOMSoon(),cn.composing.done=!0)}),Ui(wn,"touchstart",function(){return vn.forceCompositionEnd()}),Ui(wn,"input",function(){cn.composing||cn.readFromDOMSoon()});function Nn(Vn){if(!(!In(Vn)||fa(mn,Vn))){if(mn.somethingSelected())Bh({lineWise:!1,text:mn.getSelections()}),Vn.type=="cut"&&mn.replaceSelection("",null,"cut");else if(mn.options.lineWiseCopyCut){var Yn=zf(mn);Bh({lineWise:!0,text:Yn.text}),Vn.type=="cut"&&mn.operation(function(){mn.setSelections(Yn.ranges,0,Ki),mn.replaceSelection("",null,"cut")})}else return;if(Vn.clipboardData){Vn.clipboardData.clearData();var Jn=Gc.text.join(`
`);if(Vn.clipboardData.setData("Text",Jn),Vn.clipboardData.getData("Text")==Jn){Vn.preventDefault();return}}var ci=Mp(),vi=ci.firstChild;sh(vi),mn.display.lineSpace.insertBefore(ci,mn.display.lineSpace.firstChild),vi.value=Gc.text.join(`
`);var Oi=wi(wn.ownerDocument);Zn(vi),setTimeout(function(){mn.display.lineSpace.removeChild(ci),Oi.focus(),Oi==wn&&vn.showPrimarySelection()},50)}}Ui(wn,"copy",Nn),Ui(wn,"cut",Nn)},Ds.prototype.screenReaderLabelChanged=function(nn){nn?this.div.setAttribute("aria-label",nn):this.div.removeAttribute("aria-label")},Ds.prototype.prepareSelection=function(){var nn=vc(this.cm,!1);return nn.focus=wi(this.div.ownerDocument)==this.div,nn},Ds.prototype.showSelection=function(nn,cn){!nn||!this.cm.display.view.length||((nn.focus||cn)&&this.showPrimarySelection(),this.showMultipleSelections(nn))},Ds.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ds.prototype.showPrimarySelection=function(){var nn=this.getSelection(),cn=this.cm,vn=cn.doc.sel.primary(),mn=vn.from(),wn=vn.to();if(cn.display.viewTo==cn.display.viewFrom||mn.line>=cn.display.viewTo||wn.line<cn.display.viewFrom){nn.removeAllRanges();return}var In=ch(cn,nn.anchorNode,nn.anchorOffset),Nn=ch(cn,nn.focusNode,nn.focusOffset);if(!(In&&!In.bad&&Nn&&!Nn.bad&&Ko(li(In,Nn),mn)==0&&Ko(gi(In,Nn),wn)==0)){var Vn=cn.display.view,Yn=mn.line>=cn.display.viewFrom&&Vf(cn,mn)||{node:Vn[0].measure.map[2],offset:0},Jn=wn.line<cn.display.viewTo&&Vf(cn,wn);if(!Jn){var ci=Vn[Vn.length-1].measure,vi=ci.maps?ci.maps[ci.maps.length-1]:ci.map;Jn={node:vi[vi.length-1],offset:vi[vi.length-2]-vi[vi.length-3]}}if(!Yn||!Jn){nn.removeAllRanges();return}var Oi=nn.rangeCount&&nn.getRangeAt(0),Di;try{Di=ni(Yn.node,Yn.offset,Jn.offset,Jn.node)}catch{}Di&&(!Fr&&cn.state.focused?(nn.collapse(Yn.node,Yn.offset),Di.collapsed||(nn.removeAllRanges(),nn.addRange(Di))):(nn.removeAllRanges(),nn.addRange(Di)),Oi&&nn.anchorNode==null?nn.addRange(Oi):Fr&&this.startGracePeriod()),this.rememberSelection()}},Ds.prototype.startGracePeriod=function(){var nn=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){nn.gracePeriod=!1,nn.selectionChanged()&&nn.cm.operation(function(){return nn.cm.curOp.selectionChanged=!0})},20)},Ds.prototype.showMultipleSelections=function(nn){Wn(this.cm.display.cursorDiv,nn.cursors),Wn(this.cm.display.selectionDiv,nn.selection)},Ds.prototype.rememberSelection=function(){var nn=this.getSelection();this.lastAnchorNode=nn.anchorNode,this.lastAnchorOffset=nn.anchorOffset,this.lastFocusNode=nn.focusNode,this.lastFocusOffset=nn.focusOffset},Ds.prototype.selectionInEditor=function(){var nn=this.getSelection();if(!nn.rangeCount)return!1;var cn=nn.getRangeAt(0).commonAncestorContainer;return oi(this.div,cn)},Ds.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||wi(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ds.prototype.blur=function(){this.div.blur()},Ds.prototype.getField=function(){return this.div},Ds.prototype.supportsTouch=function(){return!0},Ds.prototype.receivedFocus=function(){var nn=this,cn=this;this.selectionInEditor()?setTimeout(function(){return nn.pollSelection()},20):rl(this.cm,function(){return cn.cm.curOp.selectionChanged=!0});function vn(){cn.cm.state.focused&&(cn.pollSelection(),cn.polling.set(cn.cm.options.pollInterval,vn))}this.polling.set(this.cm.options.pollInterval,vn)},Ds.prototype.selectionChanged=function(){var nn=this.getSelection();return nn.anchorNode!=this.lastAnchorNode||nn.anchorOffset!=this.lastAnchorOffset||nn.focusNode!=this.lastFocusNode||nn.focusOffset!=this.lastFocusOffset},Ds.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var nn=this.getSelection(),cn=this.cm;if(bn&&Jr&&this.cm.display.gutterSpecs.length&&jf(nn.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var vn=ch(cn,nn.anchorNode,nn.anchorOffset),mn=ch(cn,nn.focusNode,nn.focusOffset);vn&&mn&&rl(cn,function(){El(cn.doc,nu(vn,mn),Ki),(vn.bad||mn.bad)&&(cn.curOp.selectionChanged=!0)})}}},Ds.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var nn=this.cm,cn=nn.display,vn=nn.doc.sel.primary(),mn=vn.from(),wn=vn.to();if(mn.ch==0&&mn.line>nn.firstLine()&&(mn=ro(mn.line-1,bi(nn.doc,mn.line-1).length)),wn.ch==bi(nn.doc,wn.line).text.length&&wn.line<nn.lastLine()&&(wn=ro(wn.line+1,0)),mn.line<cn.viewFrom||wn.line>cn.viewTo-1)return!1;var In,Nn,Vn;mn.line==cn.viewFrom||(In=$c(nn,mn.line))==0?(Nn=Ca(cn.view[0].line),Vn=cn.view[0].node):(Nn=Ca(cn.view[In].line),Vn=cn.view[In-1].node.nextSibling);var Yn=$c(nn,wn.line),Jn,ci;if(Yn==cn.view.length-1?(Jn=cn.viewTo-1,ci=cn.lineDiv.lastChild):(Jn=Ca(cn.view[Yn+1].line)-1,ci=cn.view[Yn+1].node.previousSibling),!Vn)return!1;for(var vi=nn.doc.splitLines(Lp(nn,Vn,ci,Nn,Jn)),Oi=ms(nn.doc,ro(Nn,0),ro(Jn,bi(nn.doc,Jn).text.length));vi.length>1&&Oi.length>1;)if(xo(vi)==xo(Oi))vi.pop(),Oi.pop(),Jn--;else if(vi[0]==Oi[0])vi.shift(),Oi.shift(),Nn++;else break;for(var Di=0,Gi=0,ao=vi[0],mo=Oi[0],So=Math.min(ao.length,mo.length);Di<So&&ao.charCodeAt(Di)==mo.charCodeAt(Di);)++Di;for(var Oo=xo(vi),wo=xo(Oi),zo=Math.min(Oo.length-(vi.length==1?Di:0),wo.length-(Oi.length==1?Di:0));Gi<zo&&Oo.charCodeAt(Oo.length-Gi-1)==wo.charCodeAt(wo.length-Gi-1);)++Gi;if(vi.length==1&&Oi.length==1&&Nn==mn.line)for(;Di&&Di>mn.ch&&Oo.charCodeAt(Oo.length-Gi-1)==wo.charCodeAt(wo.length-Gi-1);)Di--,Gi++;vi[vi.length-1]=Oo.slice(0,Oo.length-Gi).replace(/^\u200b+/,""),vi[0]=vi[0].slice(Di).replace(/\u200b+$/,"");var ra=ro(Nn,Di),Wo=ro(Jn,Oi.length?xo(Oi).length-Gi:0);if(vi.length>1||vi[0]||Ko(ra,Wo))return ud(nn.doc,vi,ra,Wo,"+input"),!0},Ds.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ds.prototype.reset=function(){this.forceCompositionEnd()},Ds.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ds.prototype.readFromDOMSoon=function(){var nn=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(nn.readDOMTimeout=null,nn.composing)if(nn.composing.done)nn.composing=null;else return;nn.updateFromDOM()},80))},Ds.prototype.updateFromDOM=function(){var nn=this;(this.cm.isReadOnly()||!this.pollContent())&&rl(this.cm,function(){return ns(nn.cm)})},Ds.prototype.setUneditable=function(nn){nn.contentEditable="false"},Ds.prototype.onKeyPress=function(nn){nn.charCode==0||this.composing||(nn.preventDefault(),this.cm.isReadOnly()||dl(this.cm,ah)(this.cm,String.fromCharCode(nn.charCode==null?nn.keyCode:nn.charCode),0))},Ds.prototype.readOnlyChanged=function(nn){this.div.contentEditable=String(nn!="nocursor")},Ds.prototype.onContextMenu=function(){},Ds.prototype.resetPosition=function(){},Ds.prototype.needsContentAttribute=!0;function Vf(nn,cn){var vn=gc(nn,cn.line);if(!vn||vn.hidden)return null;var mn=bi(nn.doc,cn.line),wn=ed(vn,mn,cn.line),In=To(mn,nn.doc.direction),Nn="left";if(In){var Vn=go(In,cn.ch);Nn=Vn%2?"right":"left"}var Yn=Jc(wn.map,cn.ch,Nn);return Yn.offset=Yn.collapse=="right"?Yn.end:Yn.start,Yn}function jf(nn){for(var cn=nn;cn;cn=cn.parentNode)if(/CodeMirror-gutter-wrapper/.test(cn.className))return!0;return!1}function su(nn,cn){return cn&&(nn.bad=!0),nn}function Lp(nn,cn,vn,mn,wn){var In="",Nn=!1,Vn=nn.doc.lineSeparator(),Yn=!1;function Jn(Di){return function(Gi){return Gi.id==Di}}function ci(){Nn&&(In+=Vn,Yn&&(In+=Vn),Nn=Yn=!1)}function vi(Di){Di&&(ci(),In+=Di)}function Oi(Di){if(Di.nodeType==1){var Gi=Di.getAttribute("cm-text");if(Gi){vi(Gi);return}var ao=Di.getAttribute("cm-marker"),mo;if(ao){var So=nn.findMarks(ro(mn,0),ro(wn+1,0),Jn(+ao));So.length&&(mo=So[0].find(0))&&vi(ms(nn.doc,mo.from,mo.to).join(Vn));return}if(Di.getAttribute("contenteditable")=="false")return;var Oo=/^(pre|div|p|li|table|br)$/i.test(Di.nodeName);if(!/^br$/i.test(Di.nodeName)&&Di.textContent.length==0)return;Oo&&ci();for(var wo=0;wo<Di.childNodes.length;wo++)Oi(Di.childNodes[wo]);/^(pre|p)$/i.test(Di.nodeName)&&(Yn=!0),Oo&&(Nn=!0)}else Di.nodeType==3&&vi(Di.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Oi(cn),cn!=vn;)cn=cn.nextSibling,Yn=!1;return In}function ch(nn,cn,vn){var mn;if(cn==nn.display.lineDiv){if(mn=nn.display.lineDiv.childNodes[vn],!mn)return su(nn.clipPos(ro(nn.display.viewTo-1)),!0);cn=null,vn=0}else for(mn=cn;;mn=mn.parentNode){if(!mn||mn==nn.display.lineDiv)return null;if(mn.parentNode&&mn.parentNode==nn.display.lineDiv)break}for(var wn=0;wn<nn.display.view.length;wn++){var In=nn.display.view[wn];if(In.node==mn)return Pp(In,cn,vn)}}function Pp(nn,cn,vn){var mn=nn.text.firstChild,wn=!1;if(!cn||!oi(mn,cn))return su(ro(Ca(nn.line),0),!0);if(cn==mn&&(wn=!0,cn=mn.childNodes[vn],vn=0,!cn)){var In=nn.rest?xo(nn.rest):nn.line;return su(ro(Ca(In),In.text.length),wn)}var Nn=cn.nodeType==3?cn:null,Vn=cn;for(!Nn&&cn.childNodes.length==1&&cn.firstChild.nodeType==3&&(Nn=cn.firstChild,vn&&(vn=Nn.nodeValue.length));Vn.parentNode!=mn;)Vn=Vn.parentNode;var Yn=nn.measure,Jn=Yn.maps;function ci(mo,So,Oo){for(var wo=-1;wo<(Jn?Jn.length:0);wo++)for(var zo=wo<0?Yn.map:Jn[wo],ra=0;ra<zo.length;ra+=3){var Wo=zo[ra+2];if(Wo==mo||Wo==So){var ja=Ca(wo<0?nn.line:nn.rest[wo]),Es=zo[ra]+Oo;return(Oo<0||Wo!=mo)&&(Es=zo[ra+(Oo?1:0)]),ro(ja,Es)}}}var vi=ci(Nn,Vn,vn);if(vi)return su(vi,wn);for(var Oi=Vn.nextSibling,Di=Nn?Nn.nodeValue.length-vn:0;Oi;Oi=Oi.nextSibling){if(vi=ci(Oi,Oi.firstChild,0),vi)return su(ro(vi.line,vi.ch-Di),wn);Di+=Oi.textContent.length}for(var Gi=Vn.previousSibling,ao=vn;Gi;Gi=Gi.previousSibling){if(vi=ci(Gi,Gi.firstChild,-1),vi)return su(ro(vi.line,vi.ch+ao),wn);ao+=Gi.textContent.length}}var nl=function(nn){this.cm=nn,this.prevInput="",this.pollingFast=!1,this.polling=new ji,this.hasSelection=!1,this.composing=null,this.resetting=!1};nl.prototype.init=function(nn){var cn=this,vn=this,mn=this.cm;this.createField(nn);var wn=this.textarea;nn.wrapper.insertBefore(this.wrapper,nn.wrapper.firstChild),gn&&(wn.style.width="0px"),Ui(wn,"input",function(){Gr&&Yr>=9&&cn.hasSelection&&(cn.hasSelection=null),vn.poll()}),Ui(wn,"paste",function(Nn){fa(mn,Nn)||Tp(Nn,mn)||(mn.state.pasteIncoming=+new Date,vn.fastPoll())});function In(Nn){if(!fa(mn,Nn)){if(mn.somethingSelected())Bh({lineWise:!1,text:mn.getSelections()});else if(mn.options.lineWiseCopyCut){var Vn=zf(mn);Bh({lineWise:!0,text:Vn.text}),Nn.type=="cut"?mn.setSelections(Vn.ranges,null,Ki):(vn.prevInput="",wn.value=Vn.text.join(`
`),Zn(wn))}else return;Nn.type=="cut"&&(mn.state.cutIncoming=+new Date)}}Ui(wn,"cut",In),Ui(wn,"copy",In),Ui(nn.scroller,"paste",function(Nn){if(!(wc(nn,Nn)||fa(mn,Nn))){if(!wn.dispatchEvent){mn.state.pasteIncoming=+new Date,vn.focus();return}var Vn=new Event("paste");Vn.clipboardData=Nn.clipboardData,wn.dispatchEvent(Vn)}}),Ui(nn.lineSpace,"selectstart",function(Nn){wc(nn,Nn)||Na(Nn)}),Ui(wn,"compositionstart",function(){var Nn=mn.getCursor("from");vn.composing&&vn.composing.range.clear(),vn.composing={start:Nn,range:mn.markText(Nn,mn.getCursor("to"),{className:"CodeMirror-composing"})}}),Ui(wn,"compositionend",function(){vn.composing&&(vn.poll(),vn.composing.range.clear(),vn.composing=null)})},nl.prototype.createField=function(nn){this.wrapper=Mp(),this.textarea=this.wrapper.firstChild;var cn=this.cm.options;sh(this.textarea,cn.spellcheck,cn.autocorrect,cn.autocapitalize)},nl.prototype.screenReaderLabelChanged=function(nn){nn?this.textarea.setAttribute("aria-label",nn):this.textarea.removeAttribute("aria-label")},nl.prototype.prepareSelection=function(){var nn=this.cm,cn=nn.display,vn=nn.doc,mn=vc(nn);if(nn.options.moveInputWithCursor){var wn=Xi(nn,vn.sel.primary().head,"div"),In=cn.wrapper.getBoundingClientRect(),Nn=cn.lineDiv.getBoundingClientRect();mn.teTop=Math.max(0,Math.min(cn.wrapper.clientHeight-10,wn.top+Nn.top-In.top)),mn.teLeft=Math.max(0,Math.min(cn.wrapper.clientWidth-10,wn.left+Nn.left-In.left))}return mn},nl.prototype.showSelection=function(nn){var cn=this.cm,vn=cn.display;Wn(vn.cursorDiv,nn.cursors),Wn(vn.selectionDiv,nn.selection),nn.teTop!=null&&(this.wrapper.style.top=nn.teTop+"px",this.wrapper.style.left=nn.teLeft+"px")},nl.prototype.reset=function(nn){if(!(this.contextMenuPending||this.composing&&nn)){var cn=this.cm;if(this.resetting=!0,cn.somethingSelected()){this.prevInput="";var vn=cn.getSelection();this.textarea.value=vn,cn.state.focused&&Zn(this.textarea),Gr&&Yr>=9&&(this.hasSelection=vn)}else nn||(this.prevInput=this.textarea.value="",Gr&&Yr>=9&&(this.hasSelection=null));this.resetting=!1}},nl.prototype.getField=function(){return this.textarea},nl.prototype.supportsTouch=function(){return!1},nl.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!kn||wi(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},nl.prototype.blur=function(){this.textarea.blur()},nl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},nl.prototype.receivedFocus=function(){this.slowPoll()},nl.prototype.slowPoll=function(){var nn=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){nn.poll(),nn.cm.state.focused&&nn.slowPoll()})},nl.prototype.fastPoll=function(){var nn=!1,cn=this;cn.pollingFast=!0;function vn(){var mn=cn.poll();!mn&&!nn?(nn=!0,cn.polling.set(60,vn)):(cn.pollingFast=!1,cn.slowPoll())}cn.polling.set(20,vn)},nl.prototype.poll=function(){var nn=this,cn=this.cm,vn=this.textarea,mn=this.prevInput;if(this.contextMenuPending||this.resetting||!cn.state.focused||Uo(vn)&&!mn&&!this.composing||cn.isReadOnly()||cn.options.disableInput||cn.state.keySeq)return!1;var wn=vn.value;if(wn==mn&&!cn.somethingSelected())return!1;if(Gr&&Yr>=9&&this.hasSelection===wn||Sn&&/[\uf700-\uf7ff]/.test(wn))return cn.display.input.reset(),!1;if(cn.doc.sel==cn.display.selForContextMenu){var In=wn.charCodeAt(0);if(In==8203&&!mn&&(mn="â"),In==8666)return this.reset(),this.cm.execCommand("undo")}for(var Nn=0,Vn=Math.min(mn.length,wn.length);Nn<Vn&&mn.charCodeAt(Nn)==wn.charCodeAt(Nn);)++Nn;return rl(cn,function(){ah(cn,wn.slice(Nn),mn.length-Nn,null,nn.composing?"*compose":null),wn.length>1e3||wn.indexOf(`
`)>-1?vn.value=nn.prevInput="":nn.prevInput=wn,nn.composing&&(nn.composing.range.clear(),nn.composing.range=cn.markText(nn.composing.start,cn.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},nl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},nl.prototype.onKeyPress=function(){Gr&&Yr>=9&&(this.hasSelection=null),this.fastPoll()},nl.prototype.onContextMenu=function(nn){var cn=this,vn=cn.cm,mn=vn.display,wn=cn.textarea;cn.contextMenuPending&&cn.contextMenuPending();var In=Sa(vn,nn),Nn=mn.scroller.scrollTop;if(!In||an)return;var Vn=vn.options.resetSelectionOnContextMenu;Vn&&vn.doc.sel.contains(In)==-1&&dl(vn,El)(vn.doc,nu(In),Ki);var Yn=wn.style.cssText,Jn=cn.wrapper.style.cssText,ci=cn.wrapper.offsetParent.getBoundingClientRect();cn.wrapper.style.cssText="position: static",wn.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(nn.clientY-ci.top-5)+"px; left: "+(nn.clientX-ci.left-5)+`px;
      z-index: 1000; background: `+(Gr?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var vi;Kr&&(vi=wn.ownerDocument.defaultView.scrollY),mn.input.focus(),Kr&&wn.ownerDocument.defaultView.scrollTo(null,vi),mn.input.reset(),vn.somethingSelected()||(wn.value=cn.prevInput=" "),cn.contextMenuPending=Di,mn.selForContextMenu=vn.doc.sel,clearTimeout(mn.detectingSelectAll);function Oi(){if(wn.selectionStart!=null){var ao=vn.somethingSelected(),mo="â"+(ao?wn.value:"");wn.value="â",wn.value=mo,cn.prevInput=ao?"":"â",wn.selectionStart=1,wn.selectionEnd=mo.length,mn.selForContextMenu=vn.doc.sel}}function Di(){if(cn.contextMenuPending==Di&&(cn.contextMenuPending=!1,cn.wrapper.style.cssText=Jn,wn.style.cssText=Yn,Gr&&Yr<9&&mn.scrollbars.setScrollTop(mn.scroller.scrollTop=Nn),wn.selectionStart!=null)){(!Gr||Gr&&Yr<9)&&Oi();var ao=0,mo=function(){mn.selForContextMenu==vn.doc.sel&&wn.selectionStart==0&&wn.selectionEnd>0&&cn.prevInput=="â"?dl(vn,kf)(vn):ao++<10?mn.detectingSelectAll=setTimeout(mo,500):(mn.selForContextMenu=null,mn.input.reset())};mn.detectingSelectAll=setTimeout(mo,200)}}if(Gr&&Yr>=9&&Oi(),Pn){gl(nn);var Gi=function(){oo(window,"mouseup",Gi),setTimeout(Di,20)};Ui(window,"mouseup",Gi)}else setTimeout(Di,50)},nl.prototype.readOnlyChanged=function(nn){nn||this.reset(),this.textarea.disabled=nn=="nocursor",this.textarea.readOnly=!!nn},nl.prototype.setUneditable=function(){},nl.prototype.needsContentAttribute=!1;function lu(nn,cn){if(cn=cn?$i(cn):{},cn.value=nn.value,!cn.tabindex&&nn.tabIndex&&(cn.tabindex=nn.tabIndex),!cn.placeholder&&nn.placeholder&&(cn.placeholder=nn.placeholder),cn.autofocus==null){var vn=wi(nn.ownerDocument);cn.autofocus=vn==nn||nn.getAttribute("autofocus")!=null&&vn==document.body}function mn(){nn.value=Vn.getValue()}var wn;if(nn.form&&(Ui(nn.form,"submit",mn),!cn.leaveSubmitMethodAlone)){var In=nn.form;wn=In.submit;try{var Nn=In.submit=function(){mn(),In.submit=wn,In.submit(),In.submit=Nn}}catch{}}cn.finishInit=function(Yn){Yn.save=mn,Yn.getTextArea=function(){return nn},Yn.toTextArea=function(){Yn.toTextArea=isNaN,mn(),nn.parentNode.removeChild(Yn.getWrapperElement()),nn.style.display="",nn.form&&(oo(nn.form,"submit",mn),!cn.leaveSubmitMethodAlone&&typeof nn.form.submit=="function"&&(nn.form.submit=wn))}},nn.style.display="none";var Vn=Os(function(Yn){return nn.parentNode.insertBefore(Yn,nn.nextSibling)},cn);return Vn}function Fh(nn){nn.off=oo,nn.on=Ui,nn.wheelEventPixels=cp,nn.Doc=oc,nn.splitLines=bo,nn.countColumn=Vi,nn.findColumn=Ji,nn.isWordChar=Ei,nn.Pass=so,nn.signal=na,nn.Line=$n,nn.changeEnd=bu,nn.scrollbarModel=tf,nn.Pos=ro,nn.cmpPos=Ko,nn.modes=sa,nn.mimeModes=Ro,nn.resolveMode=ss,nn.getMode=Ba,nn.modeExtensions=qa,nn.extendMode=la,nn.copyState=Jo,nn.startState=ea,nn.innerMode=ia,nn.commands=Md,nn.keyMap=wu,nn.keyName=bp,nn.isModifierKey=Ih,nn.lookupKey=ku,nn.normalizeKeyMap=Ag,nn.StringStream=$o,nn.SharedTextMarker=zu,nn.TextMarker=_u,nn.LineWidget=Vc,nn.e_preventDefault=Na,nn.e_stopPropagation=As,nn.e_stop=gl,nn.addClass=Ci,nn.contains=oi,nn.rmClass=jn,nn.keyNames=Hu}Nh(Os),Ip(Os);var Sc="iter insert remove copy getEditor constructor".split(" ");for(var Gu in oc.prototype)oc.prototype.hasOwnProperty(Gu)&&lo(Sc,Gu)<0&&(Os.prototype[Gu]=function(nn){return function(){return nn.apply(this.doc,arguments)}}(oc.prototype[Gu]));return os(oc),Os.inputStyles={textarea:nl,contenteditable:Ds},Os.defineMode=function(nn){!Os.defaults.mode&&nn!="null"&&(Os.defaults.mode=nn),ya.apply(this,arguments)},Os.defineMIME=Ha,Os.defineMode("null",function(){return{token:function(nn){return nn.skipToEnd()}}}),Os.defineMIME("text/plain","null"),Os.defineExtension=function(nn,cn){Os.prototype[nn]=cn},Os.defineDocExtension=function(nn,cn){oc.prototype[nn]=cn},Os.fromTextArea=lu,Fh(Os),Os.version="5.65.15",Os})})(codemirror);var codemirrorExports=codemirror.exports;(function(Fe,_r){(function($r){$r(codemirrorExports)})(function($r){var Br=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,Fr=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,zr=/[*+-]\s/;$r.commands.newlineAndIndentContinueMarkdownList=function(Ur){if(Ur.getOption("disableInput"))return $r.Pass;for(var Gr=Ur.listSelections(),Yr=[],Kr=0;Kr<Gr.length;Kr++){var Qr=Gr[Kr].head,Jr=Ur.getStateAfter(Qr.line),rn=$r.innerMode(Ur.getMode(),Jr);if(rn.mode.name!=="markdown"&&rn.mode.helperType!=="markdown"){Ur.execCommand("newlineAndIndent");return}else Jr=rn.state;var an=Jr.list!==!1,ln=Jr.quote!==0,dn=Ur.getLine(Qr.line),hn=Br.exec(dn),gn=/^\s*$/.test(dn.slice(0,Qr.ch));if(!Gr[Kr].empty()||!an&&!ln||!hn||gn){Ur.execCommand("newlineAndIndent");return}if(Fr.test(dn)){var bn=ln&&/>\s*$/.test(dn),kn=!/>\s*$/.test(dn);(bn||kn)&&Ur.replaceRange("",{line:Qr.line,ch:0},{line:Qr.line,ch:Qr.ch+1}),Yr[Kr]=`
`}else{var Sn=hn[1],_n=hn[5],pn=!(zr.test(hn[2])||hn[2].indexOf(">")>=0),Cn=pn?parseInt(hn[3],10)+1+hn[4]:hn[2].replace("x"," ");Yr[Kr]=`
`+Sn+Cn+_n,pn&&jr(Ur,Qr)}}Ur.replaceSelections(Yr)};function jr(Ur,Gr){var Yr=Gr.line,Kr=0,Qr=0,Jr=Br.exec(Ur.getLine(Yr)),rn=Jr[1];do{Kr+=1;var an=Yr+Kr,ln=Ur.getLine(an),dn=Br.exec(ln);if(dn){var hn=dn[1],gn=parseInt(Jr[3],10)+Kr-Qr,bn=parseInt(dn[3],10),kn=bn;if(rn===hn&&!isNaN(bn))gn===bn&&(kn=bn+1),gn>bn&&(kn=gn+1),Ur.replaceRange(ln.replace(Br,hn+kn+dn[4]+dn[5]),{line:an,ch:0},{line:an,ch:ln.length});else{if(rn.length>hn.length||rn.length<hn.length&&Kr===1)return;Qr+=1}}}while(dn)}})})();var CodeMirror$1=codemirrorExports;CodeMirror$1.commands.tabAndIndentMarkdownList=function(Fe){var _r=Fe.listSelections(),$r=_r[0].head,Br=Fe.getStateAfter($r.line),Fr=Br.list!==!1;if(Fr){Fe.execCommand("indentMore");return}if(Fe.options.indentWithTabs)Fe.execCommand("insertTab");else{var zr=Array(Fe.options.tabSize+1).join(" ");Fe.replaceSelection(zr)}};CodeMirror$1.commands.shiftTabAndUnindentMarkdownList=function(Fe){var _r=Fe.listSelections(),$r=_r[0].head,Br=Fe.getStateAfter($r.line),Fr=Br.list!==!1;if(Fr){Fe.execCommand("indentLess");return}if(Fe.options.indentWithTabs)Fe.execCommand("insertTab");else{var zr=Array(Fe.options.tabSize+1).join(" ");Fe.replaceSelection(zr)}};(function(Fe,_r){(function($r){$r(codemirrorExports)})(function($r){$r.defineOption("fullScreen",!1,function(zr,jr,Ur){Ur==$r.Init&&(Ur=!1),!Ur!=!jr&&(jr?Br(zr):Fr(zr))});function Br(zr){var jr=zr.getWrapperElement();zr.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:jr.style.width,height:jr.style.height},jr.style.width="",jr.style.height="auto",jr.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",zr.refresh()}function Fr(zr){var jr=zr.getWrapperElement();jr.className=jr.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var Ur=zr.state.fullScreenRestore;jr.style.width=Ur.width,jr.style.height=Ur.height,window.scrollTo(Ur.scrollLeft,Ur.scrollTop),zr.refresh()}})})();var markdown={exports:{}},xml={exports:{}};(function(Fe,_r){(function($r){$r(codemirrorExports)})(function($r){var Br={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},Fr={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};$r.defineMode("xml",function(zr,jr){var Ur=zr.indentUnit,Gr={},Yr=jr.htmlMode?Br:Fr;for(var Kr in Yr)Gr[Kr]=Yr[Kr];for(var Kr in jr)Gr[Kr]=jr[Kr];var Qr,Jr;function rn(Hn,qn){function ni(Ci){return qn.tokenize=Ci,Ci(Hn,qn)}var oi=Hn.next();if(oi=="<")return Hn.eat("!")?Hn.eat("[")?Hn.match("CDATA[")?ni(dn("atom","]]>")):null:Hn.match("--")?ni(dn("comment","-->")):Hn.match("DOCTYPE",!0,!0)?(Hn.eatWhile(/[\w\._\-]/),ni(hn(1))):null:Hn.eat("?")?(Hn.eatWhile(/[\w\._\-]/),qn.tokenize=dn("meta","?>"),"meta"):(Qr=Hn.eat("/")?"closeTag":"openTag",qn.tokenize=an,"tag bracket");if(oi=="&"){var wi;return Hn.eat("#")?Hn.eat("x")?wi=Hn.eatWhile(/[a-fA-F\d]/)&&Hn.eat(";"):wi=Hn.eatWhile(/[\d]/)&&Hn.eat(";"):wi=Hn.eatWhile(/[\w\.\-:]/)&&Hn.eat(";"),wi?"atom":"error"}else return Hn.eatWhile(/[^&<]/),null}rn.isInText=!0;function an(Hn,qn){var ni=Hn.next();if(ni==">"||ni=="/"&&Hn.eat(">"))return qn.tokenize=rn,Qr=ni==">"?"endTag":"selfcloseTag","tag bracket";if(ni=="=")return Qr="equals",null;if(ni=="<"){qn.tokenize=rn,qn.state=_n,qn.tagName=qn.tagStart=null;var oi=qn.tokenize(Hn,qn);return oi?oi+" tag error":"tag error"}else return/[\'\"]/.test(ni)?(qn.tokenize=ln(ni),qn.stringStartCol=Hn.column(),qn.tokenize(Hn,qn)):(Hn.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function ln(Hn){var qn=function(ni,oi){for(;!ni.eol();)if(ni.next()==Hn){oi.tokenize=an;break}return"string"};return qn.isInAttribute=!0,qn}function dn(Hn,qn){return function(ni,oi){for(;!ni.eol();){if(ni.match(qn)){oi.tokenize=rn;break}ni.next()}return Hn}}function hn(Hn){return function(qn,ni){for(var oi;(oi=qn.next())!=null;){if(oi=="<")return ni.tokenize=hn(Hn+1),ni.tokenize(qn,ni);if(oi==">")if(Hn==1){ni.tokenize=rn;break}else return ni.tokenize=hn(Hn-1),ni.tokenize(qn,ni)}return"meta"}}function gn(Hn){return Hn&&Hn.toLowerCase()}function bn(Hn,qn,ni){this.prev=Hn.context,this.tagName=qn||"",this.indent=Hn.indented,this.startOfLine=ni,(Gr.doNotIndent.hasOwnProperty(qn)||Hn.context&&Hn.context.noIndent)&&(this.noIndent=!0)}function kn(Hn){Hn.context&&(Hn.context=Hn.context.prev)}function Sn(Hn,qn){for(var ni;;){if(!Hn.context||(ni=Hn.context.tagName,!Gr.contextGrabbers.hasOwnProperty(gn(ni))||!Gr.contextGrabbers[gn(ni)].hasOwnProperty(gn(qn))))return;kn(Hn)}}function _n(Hn,qn,ni){return Hn=="openTag"?(ni.tagStart=qn.column(),pn):Hn=="closeTag"?Cn:_n}function pn(Hn,qn,ni){return Hn=="word"?(ni.tagName=qn.current(),Jr="tag",On):Gr.allowMissingTagName&&Hn=="endTag"?(Jr="tag bracket",On(Hn,qn,ni)):(Jr="error",pn)}function Cn(Hn,qn,ni){if(Hn=="word"){var oi=qn.current();return ni.context&&ni.context.tagName!=oi&&Gr.implicitlyClosed.hasOwnProperty(gn(ni.context.tagName))&&kn(ni),ni.context&&ni.context.tagName==oi||Gr.matchClosing===!1?(Jr="tag",En):(Jr="tag error",Pn)}else return Gr.allowMissingTagName&&Hn=="endTag"?(Jr="tag bracket",En(Hn,qn,ni)):(Jr="error",Pn)}function En(Hn,qn,ni){return Hn!="endTag"?(Jr="error",En):(kn(ni),_n)}function Pn(Hn,qn,ni){return Jr="error",En(Hn,qn,ni)}function On(Hn,qn,ni){if(Hn=="word")return Jr="attribute",jn;if(Hn=="endTag"||Hn=="selfcloseTag"){var oi=ni.tagName,wi=ni.tagStart;return ni.tagName=ni.tagStart=null,Hn=="selfcloseTag"||Gr.autoSelfClosers.hasOwnProperty(gn(oi))?Sn(ni,oi):(Sn(ni,oi),ni.context=new bn(ni,oi,wi==ni.indented)),_n}return Jr="error",On}function jn(Hn,qn,ni){return Hn=="equals"?Fn:(Gr.allowMissing||(Jr="error"),On(Hn,qn,ni))}function Fn(Hn,qn,ni){return Hn=="string"?Wn:Hn=="word"&&Gr.allowUnquoted?(Jr="string",On):(Jr="error",On(Hn,qn,ni))}function Wn(Hn,qn,ni){return Hn=="string"?Wn:On(Hn,qn,ni)}return{startState:function(Hn){var qn={tokenize:rn,state:_n,indented:Hn||0,tagName:null,tagStart:null,context:null};return Hn!=null&&(qn.baseIndent=Hn),qn},token:function(Hn,qn){if(!qn.tagName&&Hn.sol()&&(qn.indented=Hn.indentation()),Hn.eatSpace())return null;Qr=null;var ni=qn.tokenize(Hn,qn);return(ni||Qr)&&ni!="comment"&&(Jr=null,qn.state=qn.state(Qr||ni,Hn,qn),Jr&&(ni=Jr=="error"?ni+" error":Jr)),ni},indent:function(Hn,qn,ni){var oi=Hn.context;if(Hn.tokenize.isInAttribute)return Hn.tagStart==Hn.indented?Hn.stringStartCol+1:Hn.indented+Ur;if(oi&&oi.noIndent)return $r.Pass;if(Hn.tokenize!=an&&Hn.tokenize!=rn)return ni?ni.match(/^(\s*)/)[0].length:0;if(Hn.tagName)return Gr.multilineTagIndentPastTag!==!1?Hn.tagStart+Hn.tagName.length+2:Hn.tagStart+Ur*(Gr.multilineTagIndentFactor||1);if(Gr.alignCDATA&&/<!\[CDATA\[/.test(qn))return 0;var wi=qn&&/^<(\/)?([\w_:\.-]*)/.exec(qn);if(wi&&wi[1])for(;oi;)if(oi.tagName==wi[2]){oi=oi.prev;break}else if(Gr.implicitlyClosed.hasOwnProperty(gn(oi.tagName)))oi=oi.prev;else break;else if(wi)for(;oi;){var Ci=Gr.contextGrabbers[gn(oi.tagName)];if(Ci&&Ci.hasOwnProperty(gn(wi[2])))oi=oi.prev;else break}for(;oi&&oi.prev&&!oi.startOfLine;)oi=oi.prev;return oi?oi.indent+Ur:Hn.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:Gr.htmlMode?"html":"xml",helperType:Gr.htmlMode?"html":"xml",skipAttribute:function(Hn){Hn.state==Fn&&(Hn.state=On)},xmlCurrentTag:function(Hn){return Hn.tagName?{name:Hn.tagName,close:Hn.type=="closeTag"}:null},xmlCurrentContext:function(Hn){for(var qn=[],ni=Hn.context;ni;ni=ni.prev)qn.push(ni.tagName);return qn.reverse()}}}),$r.defineMIME("text/xml","xml"),$r.defineMIME("application/xml","xml"),$r.mimeModes.hasOwnProperty("text/html")||$r.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var xmlExports=xml.exports,meta={exports:{}},hasRequiredMeta;function requireMeta(){return hasRequiredMeta||(hasRequiredMeta=1,function(Fe,_r){(function($r){$r(codemirrorExports)})(function($r){$r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var Br=0;Br<$r.modeInfo.length;Br++){var Fr=$r.modeInfo[Br];Fr.mimes&&(Fr.mime=Fr.mimes[0])}$r.findModeByMIME=function(zr){zr=zr.toLowerCase();for(var jr=0;jr<$r.modeInfo.length;jr++){var Ur=$r.modeInfo[jr];if(Ur.mime==zr)return Ur;if(Ur.mimes){for(var Gr=0;Gr<Ur.mimes.length;Gr++)if(Ur.mimes[Gr]==zr)return Ur}}if(/\+xml$/.test(zr))return $r.findModeByMIME("application/xml");if(/\+json$/.test(zr))return $r.findModeByMIME("application/json")},$r.findModeByExtension=function(zr){zr=zr.toLowerCase();for(var jr=0;jr<$r.modeInfo.length;jr++){var Ur=$r.modeInfo[jr];if(Ur.ext){for(var Gr=0;Gr<Ur.ext.length;Gr++)if(Ur.ext[Gr]==zr)return Ur}}},$r.findModeByFileName=function(zr){for(var jr=0;jr<$r.modeInfo.length;jr++){var Ur=$r.modeInfo[jr];if(Ur.file&&Ur.file.test(zr))return Ur}var Gr=zr.lastIndexOf("."),Yr=Gr>-1&&zr.substring(Gr+1,zr.length);if(Yr)return $r.findModeByExtension(Yr)},$r.findModeByName=function(zr){zr=zr.toLowerCase();for(var jr=0;jr<$r.modeInfo.length;jr++){var Ur=$r.modeInfo[jr];if(Ur.name.toLowerCase()==zr)return Ur;if(Ur.alias){for(var Gr=0;Gr<Ur.alias.length;Gr++)if(Ur.alias[Gr].toLowerCase()==zr)return Ur}}}})}()),meta.exports}(function(Fe,_r){(function($r){$r(codemirrorExports,xmlExports,requireMeta())})(function($r){$r.defineMode("markdown",function(Br,Fr){var zr=$r.getMode(Br,"text/html"),jr=zr.name=="null";function Ur(Zn){if($r.findModeByName){var Gn=$r.findModeByName(Zn);Gn&&(Zn=Gn.mime||Gn.mimes[0])}var ui=$r.getMode(Br,Zn);return ui.name=="null"?null:ui}Fr.highlightFormatting===void 0&&(Fr.highlightFormatting=!1),Fr.maxBlockquoteDepth===void 0&&(Fr.maxBlockquoteDepth=0),Fr.taskLists===void 0&&(Fr.taskLists=!1),Fr.strikethrough===void 0&&(Fr.strikethrough=!1),Fr.emoji===void 0&&(Fr.emoji=!1),Fr.fencedCodeBlockHighlighting===void 0&&(Fr.fencedCodeBlockHighlighting=!0),Fr.fencedCodeBlockDefaultMode===void 0&&(Fr.fencedCodeBlockDefaultMode="text/plain"),Fr.xml===void 0&&(Fr.xml=!0),Fr.tokenTypeOverrides===void 0&&(Fr.tokenTypeOverrides={});var Gr={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var Yr in Gr)Gr.hasOwnProperty(Yr)&&Fr.tokenTypeOverrides[Yr]&&(Gr[Yr]=Fr.tokenTypeOverrides[Yr]);var Kr=/^([*\-_])(?:\s*\1){2,}\s*$/,Qr=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,Jr=/^\[(x| )\](?=\s)/i,rn=Fr.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,an=/^ {0,3}(?:\={1,}|-{2,})\s*$/,ln=/^[^#!\[\]*_\\<>` "'(~:]+/,dn=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,hn=/^\s*\[[^\]]+?\]:.*$/,gn=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,bn="    ";function kn(Zn,Gn,ui){return Gn.f=Gn.inline=ui,ui(Zn,Gn)}function Sn(Zn,Gn,ui){return Gn.f=Gn.block=ui,ui(Zn,Gn)}function _n(Zn){return!Zn||!/\S/.test(Zn.string)}function pn(Zn){if(Zn.linkTitle=!1,Zn.linkHref=!1,Zn.linkText=!1,Zn.em=!1,Zn.strong=!1,Zn.strikethrough=!1,Zn.quote=0,Zn.indentedCode=!1,Zn.f==En){var Gn=jr;if(!Gn){var ui=$r.innerMode(zr,Zn.htmlState);Gn=ui.mode.name=="xml"&&ui.state.tagStart===null&&!ui.state.context&&ui.state.tokenize.isInText}Gn&&(Zn.f=Fn,Zn.block=Cn,Zn.htmlState=null)}return Zn.trailingSpace=0,Zn.trailingSpaceNewLine=!1,Zn.prevLine=Zn.thisLine,Zn.thisLine={stream:null},null}function Cn(Zn,Gn){var ui=Zn.column()===Gn.indentation,Ni=_n(Gn.prevLine.stream),$i=Gn.indentedCode,Vi=Gn.prevLine.hr,ji=Gn.list!==!1,lo=(Gn.listStack[Gn.listStack.length-1]||0)+3;Gn.indentedCode=!1;var ho=Gn.indentation;if(Gn.indentationDiff===null&&(Gn.indentationDiff=Gn.indentation,ji)){for(Gn.list=null;ho<Gn.listStack[Gn.listStack.length-1];)Gn.listStack.pop(),Gn.listStack.length?Gn.indentation=Gn.listStack[Gn.listStack.length-1]:Gn.list=!1;Gn.list!==!1&&(Gn.indentationDiff=ho-Gn.listStack[Gn.listStack.length-1])}var so=!Ni&&!Vi&&!Gn.prevLine.header&&(!ji||!$i)&&!Gn.prevLine.fencedCodeEnd,Ki=(Gn.list===!1||Vi||Ni)&&Gn.indentation<=lo&&Zn.match(Kr),Ho=null;if(Gn.indentationDiff>=4&&($i||Gn.prevLine.fencedCodeEnd||Gn.prevLine.header||Ni))return Zn.skipToEnd(),Gn.indentedCode=!0,Gr.code;if(Zn.eatSpace())return null;if(ui&&Gn.indentation<=lo&&(Ho=Zn.match(rn))&&Ho[1].length<=6)return Gn.quote=0,Gn.header=Ho[1].length,Gn.thisLine.header=!0,Fr.highlightFormatting&&(Gn.formatting="header"),Gn.f=Gn.inline,On(Gn);if(Gn.indentation<=lo&&Zn.eat(">"))return Gn.quote=ui?1:Gn.quote+1,Fr.highlightFormatting&&(Gn.formatting="quote"),Zn.eatSpace(),On(Gn);if(!Ki&&!Gn.setext&&ui&&Gn.indentation<=lo&&(Ho=Zn.match(Qr))){var Io=Ho[1]?"ol":"ul";return Gn.indentation=ho+Zn.current().length,Gn.list=!0,Gn.quote=0,Gn.listStack.push(Gn.indentation),Gn.em=!1,Gn.strong=!1,Gn.code=!1,Gn.strikethrough=!1,Fr.taskLists&&Zn.match(Jr,!1)&&(Gn.taskList=!0),Gn.f=Gn.inline,Fr.highlightFormatting&&(Gn.formatting=["list","list-"+Io]),On(Gn)}else{if(ui&&Gn.indentation<=lo&&(Ho=Zn.match(dn,!0)))return Gn.quote=0,Gn.fencedEndRE=new RegExp(Ho[1]+"+ *$"),Gn.localMode=Fr.fencedCodeBlockHighlighting&&Ur(Ho[2]||Fr.fencedCodeBlockDefaultMode),Gn.localMode&&(Gn.localState=$r.startState(Gn.localMode)),Gn.f=Gn.block=Pn,Fr.highlightFormatting&&(Gn.formatting="code-block"),Gn.code=-1,On(Gn);if(Gn.setext||(!so||!ji)&&!Gn.quote&&Gn.list===!1&&!Gn.code&&!Ki&&!hn.test(Zn.string)&&(Ho=Zn.lookAhead(1))&&(Ho=Ho.match(an)))return Gn.setext?(Gn.header=Gn.setext,Gn.setext=0,Zn.skipToEnd(),Fr.highlightFormatting&&(Gn.formatting="header")):(Gn.header=Ho[0].charAt(0)=="="?1:2,Gn.setext=Gn.header),Gn.thisLine.header=!0,Gn.f=Gn.inline,On(Gn);if(Ki)return Zn.skipToEnd(),Gn.hr=!0,Gn.thisLine.hr=!0,Gr.hr;if(Zn.peek()==="[")return kn(Zn,Gn,oi)}return kn(Zn,Gn,Gn.inline)}function En(Zn,Gn){var ui=zr.token(Zn,Gn.htmlState);if(!jr){var Ni=$r.innerMode(zr,Gn.htmlState);(Ni.mode.name=="xml"&&Ni.state.tagStart===null&&!Ni.state.context&&Ni.state.tokenize.isInText||Gn.md_inside&&Zn.current().indexOf(">")>-1)&&(Gn.f=Fn,Gn.block=Cn,Gn.htmlState=null)}return ui}function Pn(Zn,Gn){var ui=Gn.listStack[Gn.listStack.length-1]||0,Ni=Gn.indentation<ui,$i=ui+3;if(Gn.fencedEndRE&&Gn.indentation<=$i&&(Ni||Zn.match(Gn.fencedEndRE))){Fr.highlightFormatting&&(Gn.formatting="code-block");var Vi;return Ni||(Vi=On(Gn)),Gn.localMode=Gn.localState=null,Gn.block=Cn,Gn.f=Fn,Gn.fencedEndRE=null,Gn.code=0,Gn.thisLine.fencedCodeEnd=!0,Ni?Sn(Zn,Gn,Gn.block):Vi}else return Gn.localMode?Gn.localMode.token(Zn,Gn.localState):(Zn.skipToEnd(),Gr.code)}function On(Zn){var Gn=[];if(Zn.formatting){Gn.push(Gr.formatting),typeof Zn.formatting=="string"&&(Zn.formatting=[Zn.formatting]);for(var ui=0;ui<Zn.formatting.length;ui++)Gn.push(Gr.formatting+"-"+Zn.formatting[ui]),Zn.formatting[ui]==="header"&&Gn.push(Gr.formatting+"-"+Zn.formatting[ui]+"-"+Zn.header),Zn.formatting[ui]==="quote"&&(!Fr.maxBlockquoteDepth||Fr.maxBlockquoteDepth>=Zn.quote?Gn.push(Gr.formatting+"-"+Zn.formatting[ui]+"-"+Zn.quote):Gn.push("error"))}if(Zn.taskOpen)return Gn.push("meta"),Gn.length?Gn.join(" "):null;if(Zn.taskClosed)return Gn.push("property"),Gn.length?Gn.join(" "):null;if(Zn.linkHref?Gn.push(Gr.linkHref,"url"):(Zn.strong&&Gn.push(Gr.strong),Zn.em&&Gn.push(Gr.em),Zn.strikethrough&&Gn.push(Gr.strikethrough),Zn.emoji&&Gn.push(Gr.emoji),Zn.linkText&&Gn.push(Gr.linkText),Zn.code&&Gn.push(Gr.code),Zn.image&&Gn.push(Gr.image),Zn.imageAltText&&Gn.push(Gr.imageAltText,"link"),Zn.imageMarker&&Gn.push(Gr.imageMarker)),Zn.header&&Gn.push(Gr.header,Gr.header+"-"+Zn.header),Zn.quote&&(Gn.push(Gr.quote),!Fr.maxBlockquoteDepth||Fr.maxBlockquoteDepth>=Zn.quote?Gn.push(Gr.quote+"-"+Zn.quote):Gn.push(Gr.quote+"-"+Fr.maxBlockquoteDepth)),Zn.list!==!1){var Ni=(Zn.listStack.length-1)%3;Ni?Ni===1?Gn.push(Gr.list2):Gn.push(Gr.list3):Gn.push(Gr.list1)}return Zn.trailingSpaceNewLine?Gn.push("trailing-space-new-line"):Zn.trailingSpace&&Gn.push("trailing-space-"+(Zn.trailingSpace%2?"a":"b")),Gn.length?Gn.join(" "):null}function jn(Zn,Gn){if(Zn.match(ln,!0))return On(Gn)}function Fn(Zn,Gn){var ui=Gn.text(Zn,Gn);if(typeof ui<"u")return ui;if(Gn.list)return Gn.list=null,On(Gn);if(Gn.taskList){var Ni=Zn.match(Jr,!0)[1]===" ";return Ni?Gn.taskOpen=!0:Gn.taskClosed=!0,Fr.highlightFormatting&&(Gn.formatting="task"),Gn.taskList=!1,On(Gn)}if(Gn.taskOpen=!1,Gn.taskClosed=!1,Gn.header&&Zn.match(/^#+$/,!0))return Fr.highlightFormatting&&(Gn.formatting="header"),On(Gn);var $i=Zn.next();if(Gn.linkTitle){Gn.linkTitle=!1;var Vi=$i;$i==="("&&(Vi=")"),Vi=(Vi+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var ji="^\\s*(?:[^"+Vi+"\\\\]+|\\\\\\\\|\\\\.)"+Vi;if(Zn.match(new RegExp(ji),!0))return Gr.linkHref}if($i==="`"){var lo=Gn.formatting;Fr.highlightFormatting&&(Gn.formatting="code"),Zn.eatWhile("`");var ho=Zn.current().length;if(Gn.code==0&&(!Gn.quote||ho==1))return Gn.code=ho,On(Gn);if(ho==Gn.code){var so=On(Gn);return Gn.code=0,so}else return Gn.formatting=lo,On(Gn)}else if(Gn.code)return On(Gn);if($i==="\\"&&(Zn.next(),Fr.highlightFormatting)){var Ki=On(Gn),Ho=Gr.formatting+"-escape";return Ki?Ki+" "+Ho:Ho}if($i==="!"&&Zn.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Gn.imageMarker=!0,Gn.image=!0,Fr.highlightFormatting&&(Gn.formatting="image"),On(Gn);if($i==="["&&Gn.imageMarker&&Zn.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Gn.imageMarker=!1,Gn.imageAltText=!0,Fr.highlightFormatting&&(Gn.formatting="image"),On(Gn);if($i==="]"&&Gn.imageAltText){Fr.highlightFormatting&&(Gn.formatting="image");var Ki=On(Gn);return Gn.imageAltText=!1,Gn.image=!1,Gn.inline=Gn.f=Hn,Ki}if($i==="["&&!Gn.image)return Gn.linkText&&Zn.match(/^.*?\]/)||(Gn.linkText=!0,Fr.highlightFormatting&&(Gn.formatting="link")),On(Gn);if($i==="]"&&Gn.linkText){Fr.highlightFormatting&&(Gn.formatting="link");var Ki=On(Gn);return Gn.linkText=!1,Gn.inline=Gn.f=Zn.match(/\(.*?\)| ?\[.*?\]/,!1)?Hn:Fn,Ki}if($i==="<"&&Zn.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Gn.f=Gn.inline=Wn,Fr.highlightFormatting&&(Gn.formatting="link");var Ki=On(Gn);return Ki?Ki+=" ":Ki="",Ki+Gr.linkInline}if($i==="<"&&Zn.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Gn.f=Gn.inline=Wn,Fr.highlightFormatting&&(Gn.formatting="link");var Ki=On(Gn);return Ki?Ki+=" ":Ki="",Ki+Gr.linkEmail}if(Fr.xml&&$i==="<"&&Zn.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Io=Zn.string.indexOf(">",Zn.pos);if(Io!=-1){var Ji=Zn.string.substring(Zn.start,Io);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Ji)&&(Gn.md_inside=!0)}return Zn.backUp(1),Gn.htmlState=$r.startState(zr),Sn(Zn,Gn,En)}if(Fr.xml&&$i==="<"&&Zn.match(/^\/\w*?>/))return Gn.md_inside=!1,"tag";if($i==="*"||$i==="_"){for(var Yo=1,qo=Zn.pos==1?" ":Zn.string.charAt(Zn.pos-2);Yo<3&&Zn.eat($i);)Yo++;var xo=Zn.peek()||" ",ka=!/\s/.test(xo)&&(!gn.test(xo)||/\s/.test(qo)||gn.test(qo)),Ua=!/\s/.test(qo)&&(!gn.test(qo)||/\s/.test(xo)||gn.test(xo)),$a=null,Ya=null;if(Yo%2&&(!Gn.em&&ka&&($i==="*"||!Ua||gn.test(qo))?$a=!0:Gn.em==$i&&Ua&&($i==="*"||!ka||gn.test(xo))&&($a=!1)),Yo>1&&(!Gn.strong&&ka&&($i==="*"||!Ua||gn.test(qo))?Ya=!0:Gn.strong==$i&&Ua&&($i==="*"||!ka||gn.test(xo))&&(Ya=!1)),Ya!=null||$a!=null){Fr.highlightFormatting&&(Gn.formatting=$a==null?"strong":Ya==null?"em":"strong em"),$a===!0&&(Gn.em=$i),Ya===!0&&(Gn.strong=$i);var so=On(Gn);return $a===!1&&(Gn.em=!1),Ya===!1&&(Gn.strong=!1),so}}else if($i===" "&&(Zn.eat("*")||Zn.eat("_"))){if(Zn.peek()===" ")return On(Gn);Zn.backUp(1)}if(Fr.strikethrough){if($i==="~"&&Zn.eatWhile($i)){if(Gn.strikethrough){Fr.highlightFormatting&&(Gn.formatting="strikethrough");var so=On(Gn);return Gn.strikethrough=!1,so}else if(Zn.match(/^[^\s]/,!1))return Gn.strikethrough=!0,Fr.highlightFormatting&&(Gn.formatting="strikethrough"),On(Gn)}else if($i===" "&&Zn.match("~~",!0)){if(Zn.peek()===" ")return On(Gn);Zn.backUp(2)}}if(Fr.emoji&&$i===":"&&Zn.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Gn.emoji=!0,Fr.highlightFormatting&&(Gn.formatting="emoji");var Aa=On(Gn);return Gn.emoji=!1,Aa}return $i===" "&&(Zn.match(/^ +$/,!1)?Gn.trailingSpace++:Gn.trailingSpace&&(Gn.trailingSpaceNewLine=!0)),On(Gn)}function Wn(Zn,Gn){var ui=Zn.next();if(ui===">"){Gn.f=Gn.inline=Fn,Fr.highlightFormatting&&(Gn.formatting="link");var Ni=On(Gn);return Ni?Ni+=" ":Ni="",Ni+Gr.linkInline}return Zn.match(/^[^>]+/,!0),Gr.linkInline}function Hn(Zn,Gn){if(Zn.eatSpace())return null;var ui=Zn.next();return ui==="("||ui==="["?(Gn.f=Gn.inline=ni(ui==="("?")":"]"),Fr.highlightFormatting&&(Gn.formatting="link-string"),Gn.linkHref=!0,On(Gn)):"error"}var qn={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function ni(Zn){return function(Gn,ui){var Ni=Gn.next();if(Ni===Zn){ui.f=ui.inline=Fn,Fr.highlightFormatting&&(ui.formatting="link-string");var $i=On(ui);return ui.linkHref=!1,$i}return Gn.match(qn[Zn]),ui.linkHref=!0,On(ui)}}function oi(Zn,Gn){return Zn.match(/^([^\]\\]|\\.)*\]:/,!1)?(Gn.f=wi,Zn.next(),Fr.highlightFormatting&&(Gn.formatting="link"),Gn.linkText=!0,On(Gn)):kn(Zn,Gn,Fn)}function wi(Zn,Gn){if(Zn.match("]:",!0)){Gn.f=Gn.inline=Ci,Fr.highlightFormatting&&(Gn.formatting="link");var ui=On(Gn);return Gn.linkText=!1,ui}return Zn.match(/^([^\]\\]|\\.)+/,!0),Gr.linkText}function Ci(Zn,Gn){return Zn.eatSpace()?null:(Zn.match(/^[^\s]+/,!0),Zn.peek()===void 0?Gn.linkTitle=!0:Zn.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Gn.f=Gn.inline=Fn,Gr.linkHref+" url")}var Fi={startState:function(){return{f:Cn,prevLine:{stream:null},thisLine:{stream:null},block:Cn,htmlState:null,indentation:0,inline:Fn,text:jn,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(Zn){return{f:Zn.f,prevLine:Zn.prevLine,thisLine:Zn.thisLine,block:Zn.block,htmlState:Zn.htmlState&&$r.copyState(zr,Zn.htmlState),indentation:Zn.indentation,localMode:Zn.localMode,localState:Zn.localMode?$r.copyState(Zn.localMode,Zn.localState):null,inline:Zn.inline,text:Zn.text,formatting:!1,linkText:Zn.linkText,linkTitle:Zn.linkTitle,linkHref:Zn.linkHref,code:Zn.code,em:Zn.em,strong:Zn.strong,strikethrough:Zn.strikethrough,emoji:Zn.emoji,header:Zn.header,setext:Zn.setext,hr:Zn.hr,taskList:Zn.taskList,list:Zn.list,listStack:Zn.listStack.slice(0),quote:Zn.quote,indentedCode:Zn.indentedCode,trailingSpace:Zn.trailingSpace,trailingSpaceNewLine:Zn.trailingSpaceNewLine,md_inside:Zn.md_inside,fencedEndRE:Zn.fencedEndRE}},token:function(Zn,Gn){if(Gn.formatting=!1,Zn!=Gn.thisLine.stream){if(Gn.header=0,Gn.hr=!1,Zn.match(/^\s*$/,!0))return pn(Gn),null;if(Gn.prevLine=Gn.thisLine,Gn.thisLine={stream:Zn},Gn.taskList=!1,Gn.trailingSpace=0,Gn.trailingSpaceNewLine=!1,!Gn.localState&&(Gn.f=Gn.block,Gn.f!=En)){var ui=Zn.match(/^\s*/,!0)[0].replace(/\t/g,bn).length;if(Gn.indentation=ui,Gn.indentationDiff=null,ui>0)return null}}return Gn.f(Zn,Gn)},innerMode:function(Zn){return Zn.block==En?{state:Zn.htmlState,mode:zr}:Zn.localState?{state:Zn.localState,mode:Zn.localMode}:{state:Zn,mode:Fi}},indent:function(Zn,Gn,ui){return Zn.block==En&&zr.indent?zr.indent(Zn.htmlState,Gn,ui):Zn.localState&&Zn.localMode.indent?Zn.localMode.indent(Zn.localState,Gn,ui):$r.Pass},blankLine:pn,getType:On,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Fi},"xml"),$r.defineMIME("text/markdown","markdown"),$r.defineMIME("text/x-markdown","markdown")})})();var markdownExports=markdown.exports,overlay={exports:{}};(function(Fe,_r){(function($r){$r(codemirrorExports)})(function($r){$r.overlayMode=function(Br,Fr,zr){return{startState:function(){return{base:$r.startState(Br),overlay:$r.startState(Fr),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(jr){return{base:$r.copyState(Br,jr.base),overlay:$r.copyState(Fr,jr.overlay),basePos:jr.basePos,baseCur:null,overlayPos:jr.overlayPos,overlayCur:null}},token:function(jr,Ur){return(jr!=Ur.streamSeen||Math.min(Ur.basePos,Ur.overlayPos)<jr.start)&&(Ur.streamSeen=jr,Ur.basePos=Ur.overlayPos=jr.start),jr.start==Ur.basePos&&(Ur.baseCur=Br.token(jr,Ur.base),Ur.basePos=jr.pos),jr.start==Ur.overlayPos&&(jr.pos=jr.start,Ur.overlayCur=Fr.token(jr,Ur.overlay),Ur.overlayPos=jr.pos),jr.pos=Math.min(Ur.basePos,Ur.overlayPos),Ur.overlayCur==null?Ur.baseCur:Ur.baseCur!=null&&Ur.overlay.combineTokens||zr&&Ur.overlay.combineTokens==null?Ur.baseCur+" "+Ur.overlayCur:Ur.overlayCur},indent:Br.indent&&function(jr,Ur,Gr){return Br.indent(jr.base,Ur,Gr)},electricChars:Br.electricChars,innerMode:function(jr){return{state:jr.base,mode:Br}},blankLine:function(jr){var Ur,Gr;return Br.blankLine&&(Ur=Br.blankLine(jr.base)),Fr.blankLine&&(Gr=Fr.blankLine(jr.overlay)),Gr==null?Ur:zr&&Ur!=null?Ur+" "+Gr:Gr}}}})})();var overlayExports=overlay.exports;(function(Fe,_r){(function($r){$r(codemirrorExports)})(function($r){$r.defineOption("placeholder","",function(Yr,Kr,Qr){var Jr=Qr&&Qr!=$r.Init;if(Kr&&!Jr)Yr.on("blur",jr),Yr.on("change",Ur),Yr.on("swapDoc",Ur),$r.on(Yr.getInputField(),"compositionupdate",Yr.state.placeholderCompose=function(){zr(Yr)}),Ur(Yr);else if(!Kr&&Jr){Yr.off("blur",jr),Yr.off("change",Ur),Yr.off("swapDoc",Ur),$r.off(Yr.getInputField(),"compositionupdate",Yr.state.placeholderCompose),Br(Yr);var rn=Yr.getWrapperElement();rn.className=rn.className.replace(" CodeMirror-empty","")}Kr&&!Yr.hasFocus()&&jr(Yr)});function Br(Yr){Yr.state.placeholder&&(Yr.state.placeholder.parentNode.removeChild(Yr.state.placeholder),Yr.state.placeholder=null)}function Fr(Yr){Br(Yr);var Kr=Yr.state.placeholder=document.createElement("pre");Kr.style.cssText="height: 0; overflow: visible",Kr.style.direction=Yr.getOption("direction"),Kr.className="CodeMirror-placeholder CodeMirror-line-like";var Qr=Yr.getOption("placeholder");typeof Qr=="string"&&(Qr=document.createTextNode(Qr)),Kr.appendChild(Qr),Yr.display.lineSpace.insertBefore(Kr,Yr.display.lineSpace.firstChild)}function zr(Yr){setTimeout(function(){var Kr=!1;if(Yr.lineCount()==1){var Qr=Yr.getInputField();Kr=Qr.nodeName=="TEXTAREA"?!Yr.getLine(0).length:!/[^\u200b]/.test(Qr.querySelector(".CodeMirror-line").textContent)}Kr?Fr(Yr):Br(Yr)},20)}function jr(Yr){Gr(Yr)&&Fr(Yr)}function Ur(Yr){var Kr=Yr.getWrapperElement(),Qr=Gr(Yr);Kr.className=Kr.className.replace(" CodeMirror-empty","")+(Qr?" CodeMirror-empty":""),Qr?Fr(Yr):Br(Yr)}function Gr(Yr){return Yr.lineCount()===1&&Yr.getLine(0)===""}})})();(function(Fe,_r){(function($r){$r(codemirrorExports)})(function($r){$r.defineOption("autoRefresh",!1,function(zr,jr){zr.state.autoRefresh&&(Fr(zr,zr.state.autoRefresh),zr.state.autoRefresh=null),jr&&zr.display.wrapper.offsetHeight==0&&Br(zr,zr.state.autoRefresh={delay:jr.delay||250})});function Br(zr,jr){function Ur(){zr.display.wrapper.offsetHeight?(Fr(zr,jr),zr.display.lastWrapHeight!=zr.display.wrapper.clientHeight&&zr.refresh()):jr.timeout=setTimeout(Ur,jr.delay)}jr.timeout=setTimeout(Ur,jr.delay),jr.hurry=function(){clearTimeout(jr.timeout),jr.timeout=setTimeout(Ur,50)},$r.on(window,"mouseup",jr.hurry),$r.on(window,"keyup",jr.hurry)}function Fr(zr,jr){clearTimeout(jr.timeout),$r.off(window,"mouseup",jr.hurry),$r.off(window,"keyup",jr.hurry)}})})();(function(Fe,_r){(function($r){$r(codemirrorExports)})(function($r){$r.defineOption("styleSelectedText",!1,function(Jr,rn,an){var ln=an&&an!=$r.Init;rn&&!ln?(Jr.state.markedSelection=[],Jr.state.markedSelectionStyle=typeof rn=="string"?rn:"CodeMirror-selectedtext",Kr(Jr),Jr.on("cursorActivity",Br),Jr.on("change",Fr)):!rn&&ln&&(Jr.off("cursorActivity",Br),Jr.off("change",Fr),Yr(Jr),Jr.state.markedSelection=Jr.state.markedSelectionStyle=null)});function Br(Jr){Jr.state.markedSelection&&Jr.operation(function(){Qr(Jr)})}function Fr(Jr){Jr.state.markedSelection&&Jr.state.markedSelection.length&&Jr.operation(function(){Yr(Jr)})}var zr=8,jr=$r.Pos,Ur=$r.cmpPos;function Gr(Jr,rn,an,ln){if(Ur(rn,an)!=0)for(var dn=Jr.state.markedSelection,hn=Jr.state.markedSelectionStyle,gn=rn.line;;){var bn=gn==rn.line?rn:jr(gn,0),kn=gn+zr,Sn=kn>=an.line,_n=Sn?an:jr(kn,0),pn=Jr.markText(bn,_n,{className:hn});if(ln==null?dn.push(pn):dn.splice(ln++,0,pn),Sn)break;gn=kn}}function Yr(Jr){for(var rn=Jr.state.markedSelection,an=0;an<rn.length;++an)rn[an].clear();rn.length=0}function Kr(Jr){Yr(Jr);for(var rn=Jr.listSelections(),an=0;an<rn.length;an++)Gr(Jr,rn[an].from(),rn[an].to())}function Qr(Jr){if(!Jr.somethingSelected())return Yr(Jr);if(Jr.listSelections().length>1)return Kr(Jr);var rn=Jr.getCursor("start"),an=Jr.getCursor("end"),ln=Jr.state.markedSelection;if(!ln.length)return Gr(Jr,rn,an);var dn=ln[0].find(),hn=ln[ln.length-1].find();if(!dn||!hn||an.line-rn.line<=zr||Ur(rn,hn.to)>=0||Ur(an,dn.from)<=0)return Kr(Jr);for(;Ur(rn,dn.from)>0;)ln.shift().clear(),dn=ln[0].find();for(Ur(rn,dn.from)<0&&(dn.to.line-rn.line<zr?(ln.shift().clear(),Gr(Jr,rn,dn.to,0)):Gr(Jr,rn,dn.from,0));Ur(an,hn.to)<0;)ln.pop().clear(),hn=ln[ln.length-1].find();Ur(an,hn.to)>0&&(an.line-hn.from.line<zr?(ln.pop().clear(),Gr(Jr,hn.from,an)):Gr(Jr,hn.to,an))}})})();(function(Fe,_r){(function($r){$r(codemirrorExports)})(function($r){var Br=$r.Pos;function Fr(gn){var bn=gn.flags;return bn??(gn.ignoreCase?"i":"")+(gn.global?"g":"")+(gn.multiline?"m":"")}function zr(gn,bn){for(var kn=Fr(gn),Sn=kn,_n=0;_n<bn.length;_n++)Sn.indexOf(bn.charAt(_n))==-1&&(Sn+=bn.charAt(_n));return kn==Sn?gn:new RegExp(gn.source,Sn)}function jr(gn){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(gn.source)}function Ur(gn,bn,kn){bn=zr(bn,"g");for(var Sn=kn.line,_n=kn.ch,pn=gn.lastLine();Sn<=pn;Sn++,_n=0){bn.lastIndex=_n;var Cn=gn.getLine(Sn),En=bn.exec(Cn);if(En)return{from:Br(Sn,En.index),to:Br(Sn,En.index+En[0].length),match:En}}}function Gr(gn,bn,kn){if(!jr(bn))return Ur(gn,bn,kn);bn=zr(bn,"gm");for(var Sn,_n=1,pn=kn.line,Cn=gn.lastLine();pn<=Cn;){for(var En=0;En<_n&&!(pn>Cn);En++){var Pn=gn.getLine(pn++);Sn=Sn==null?Pn:Sn+`
`+Pn}_n=_n*2,bn.lastIndex=kn.ch;var On=bn.exec(Sn);if(On){var jn=Sn.slice(0,On.index).split(`
`),Fn=On[0].split(`
`),Wn=kn.line+jn.length-1,Hn=jn[jn.length-1].length;return{from:Br(Wn,Hn),to:Br(Wn+Fn.length-1,Fn.length==1?Hn+Fn[0].length:Fn[Fn.length-1].length),match:On}}}}function Yr(gn,bn,kn){for(var Sn,_n=0;_n<=gn.length;){bn.lastIndex=_n;var pn=bn.exec(gn);if(!pn)break;var Cn=pn.index+pn[0].length;if(Cn>gn.length-kn)break;(!Sn||Cn>Sn.index+Sn[0].length)&&(Sn=pn),_n=pn.index+1}return Sn}function Kr(gn,bn,kn){bn=zr(bn,"g");for(var Sn=kn.line,_n=kn.ch,pn=gn.firstLine();Sn>=pn;Sn--,_n=-1){var Cn=gn.getLine(Sn),En=Yr(Cn,bn,_n<0?0:Cn.length-_n);if(En)return{from:Br(Sn,En.index),to:Br(Sn,En.index+En[0].length),match:En}}}function Qr(gn,bn,kn){if(!jr(bn))return Kr(gn,bn,kn);bn=zr(bn,"gm");for(var Sn,_n=1,pn=gn.getLine(kn.line).length-kn.ch,Cn=kn.line,En=gn.firstLine();Cn>=En;){for(var Pn=0;Pn<_n&&Cn>=En;Pn++){var On=gn.getLine(Cn--);Sn=Sn==null?On:On+`
`+Sn}_n*=2;var jn=Yr(Sn,bn,pn);if(jn){var Fn=Sn.slice(0,jn.index).split(`
`),Wn=jn[0].split(`
`),Hn=Cn+Fn.length,qn=Fn[Fn.length-1].length;return{from:Br(Hn,qn),to:Br(Hn+Wn.length-1,Wn.length==1?qn+Wn[0].length:Wn[Wn.length-1].length),match:jn}}}}var Jr,rn;String.prototype.normalize?(Jr=function(gn){return gn.normalize("NFD").toLowerCase()},rn=function(gn){return gn.normalize("NFD")}):(Jr=function(gn){return gn.toLowerCase()},rn=function(gn){return gn});function an(gn,bn,kn,Sn){if(gn.length==bn.length)return kn;for(var _n=0,pn=kn+Math.max(0,gn.length-bn.length);;){if(_n==pn)return _n;var Cn=_n+pn>>1,En=Sn(gn.slice(0,Cn)).length;if(En==kn)return Cn;En>kn?pn=Cn:_n=Cn+1}}function ln(gn,bn,kn,Sn){if(!bn.length)return null;var _n=Sn?Jr:rn,pn=_n(bn).split(/\r|\n\r?/);e:for(var Cn=kn.line,En=kn.ch,Pn=gn.lastLine()+1-pn.length;Cn<=Pn;Cn++,En=0){var On=gn.getLine(Cn).slice(En),jn=_n(On);if(pn.length==1){var Fn=jn.indexOf(pn[0]);if(Fn==-1)continue e;var kn=an(On,jn,Fn,_n)+En;return{from:Br(Cn,an(On,jn,Fn,_n)+En),to:Br(Cn,an(On,jn,Fn+pn[0].length,_n)+En)}}else{var Wn=jn.length-pn[0].length;if(jn.slice(Wn)!=pn[0])continue e;for(var Hn=1;Hn<pn.length-1;Hn++)if(_n(gn.getLine(Cn+Hn))!=pn[Hn])continue e;var qn=gn.getLine(Cn+pn.length-1),ni=_n(qn),oi=pn[pn.length-1];if(ni.slice(0,oi.length)!=oi)continue e;return{from:Br(Cn,an(On,jn,Wn,_n)+En),to:Br(Cn+pn.length-1,an(qn,ni,oi.length,_n))}}}}function dn(gn,bn,kn,Sn){if(!bn.length)return null;var _n=Sn?Jr:rn,pn=_n(bn).split(/\r|\n\r?/);e:for(var Cn=kn.line,En=kn.ch,Pn=gn.firstLine()-1+pn.length;Cn>=Pn;Cn--,En=-1){var On=gn.getLine(Cn);En>-1&&(On=On.slice(0,En));var jn=_n(On);if(pn.length==1){var Fn=jn.lastIndexOf(pn[0]);if(Fn==-1)continue e;return{from:Br(Cn,an(On,jn,Fn,_n)),to:Br(Cn,an(On,jn,Fn+pn[0].length,_n))}}else{var Wn=pn[pn.length-1];if(jn.slice(0,Wn.length)!=Wn)continue e;for(var Hn=1,kn=Cn-pn.length+1;Hn<pn.length-1;Hn++)if(_n(gn.getLine(kn+Hn))!=pn[Hn])continue e;var qn=gn.getLine(Cn+1-pn.length),ni=_n(qn);if(ni.slice(ni.length-pn[0].length)!=pn[0])continue e;return{from:Br(Cn+1-pn.length,an(qn,ni,qn.length-pn[0].length,_n)),to:Br(Cn,an(On,jn,Wn.length,_n))}}}}function hn(gn,bn,kn,Sn){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=gn,kn=kn?gn.clipPos(kn):Br(0,0),this.pos={from:kn,to:kn};var _n;typeof Sn=="object"?_n=Sn.caseFold:(_n=Sn,Sn=null),typeof bn=="string"?(_n==null&&(_n=!1),this.matches=function(pn,Cn){return(pn?dn:ln)(gn,bn,Cn,_n)}):(bn=zr(bn,"gm"),!Sn||Sn.multiline!==!1?this.matches=function(pn,Cn){return(pn?Qr:Gr)(gn,bn,Cn)}:this.matches=function(pn,Cn){return(pn?Kr:Ur)(gn,bn,Cn)})}hn.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(gn){var bn=this.doc.clipPos(gn?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(bn=Br(bn.line,bn.ch),gn?(bn.ch--,bn.ch<0&&(bn.line--,bn.ch=(this.doc.getLine(bn.line)||"").length)):(bn.ch++,bn.ch>(this.doc.getLine(bn.line)||"").length&&(bn.ch=0,bn.line++)),$r.cmpPos(bn,this.doc.clipPos(bn))!=0))return this.atOccurrence=!1;var kn=this.matches(gn,bn);if(this.afterEmptyMatch=kn&&$r.cmpPos(kn.from,kn.to)==0,kn)return this.pos=kn,this.atOccurrence=!0,this.pos.match||!0;var Sn=Br(gn?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:Sn,to:Sn},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(gn,bn){if(this.atOccurrence){var kn=$r.splitLines(gn);this.doc.replaceRange(kn,this.pos.from,this.pos.to,bn),this.pos.to=Br(this.pos.from.line+kn.length-1,kn[kn.length-1].length+(kn.length==1?this.pos.from.ch:0))}}},$r.defineExtension("getSearchCursor",function(gn,bn,kn){return new hn(this.doc,gn,bn,kn)}),$r.defineDocExtension("getSearchCursor",function(gn,bn,kn){return new hn(this,gn,bn,kn)}),$r.defineExtension("selectMatches",function(gn,bn){for(var kn=[],Sn=this.getSearchCursor(gn,this.getCursor("from"),bn);Sn.findNext()&&!($r.cmpPos(Sn.to(),this.getCursor("to"))>0);)kn.push({anchor:Sn.from(),head:Sn.to()});kn.length&&this.setSelections(kn,0)})})})();(function(Fe,_r){(function($r){$r(codemirrorExports,markdownExports,overlayExports)})(function($r){var Br=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?Â«Â»ââââ]))/i;$r.defineMode("gfm",function(Fr,zr){var jr=0;function Ur(Qr){return Qr.code=!1,null}var Gr={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(Qr){return{code:Qr.code,codeBlock:Qr.codeBlock,ateSpace:Qr.ateSpace}},token:function(Qr,Jr){if(Jr.combineTokens=null,Jr.codeBlock)return Qr.match(/^```+/)?(Jr.codeBlock=!1,null):(Qr.skipToEnd(),null);if(Qr.sol()&&(Jr.code=!1),Qr.sol()&&Qr.match(/^```+/))return Qr.skipToEnd(),Jr.codeBlock=!0,null;if(Qr.peek()==="`"){Qr.next();var rn=Qr.pos;Qr.eatWhile("`");var an=1+Qr.pos-rn;return Jr.code?an===jr&&(Jr.code=!1):(jr=an,Jr.code=!0),null}else if(Jr.code)return Qr.next(),null;if(Qr.eatSpace())return Jr.ateSpace=!0,null;if((Qr.sol()||Jr.ateSpace)&&(Jr.ateSpace=!1,zr.gitHubSpice!==!1)){if(Qr.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return Jr.combineTokens=!0,"link";if(Qr.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return Jr.combineTokens=!0,"link"}return Qr.match(Br)&&Qr.string.slice(Qr.start-2,Qr.start)!="]("&&(Qr.start==0||/\W/.test(Qr.string.charAt(Qr.start-1)))?(Jr.combineTokens=!0,"link"):(Qr.next(),null)},blankLine:Ur},Yr={taskLists:!0,strikethrough:!0,emoji:!0};for(var Kr in zr)Yr[Kr]=zr[Kr];return Yr.name="markdown",$r.overlayMode($r.getMode(Fr,Yr),Gr)},"markdown"),$r.defineMIME("text/x-gfm","gfm")})})();function commonjsRequire(Fe){throw new Error('Could not dynamically require "'+Fe+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var typo={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(Fe){var _r;(function(){_r=function($r,Br,Fr,zr){zr=zr||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=zr.flags||{},this.memoized={},this.loaded=!1;var jr=this,Ur,Gr,Yr,Kr,Qr;$r&&(jr.dictionary=$r,Br&&Fr?ln():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(zr.dictionaryPath?Ur=zr.dictionaryPath:Ur="typo/dictionaries",Br||Jr(chrome.extension.getURL(Ur+"/"+$r+"/"+$r+".aff"),rn),Fr||Jr(chrome.extension.getURL(Ur+"/"+$r+"/"+$r+".dic"),an)):(zr.dictionaryPath?Ur=zr.dictionaryPath:typeof __dirname<"u"?Ur=__dirname+"/dictionaries":Ur="./dictionaries",Br||Jr(Ur+"/"+$r+"/"+$r+".aff",rn),Fr||Jr(Ur+"/"+$r+"/"+$r+".dic",an)));function Jr(dn,hn){var gn=jr._readFile(dn,null,zr.asyncLoad);zr.asyncLoad?gn.then(function(bn){hn(bn)}):hn(gn)}function rn(dn){Br=dn,Fr&&ln()}function an(dn){Fr=dn,Br&&ln()}function ln(){for(jr.rules=jr._parseAFF(Br),jr.compoundRuleCodes={},Gr=0,Kr=jr.compoundRules.length;Gr<Kr;Gr++){var dn=jr.compoundRules[Gr];for(Yr=0,Qr=dn.length;Yr<Qr;Yr++)jr.compoundRuleCodes[dn[Yr]]=[]}"ONLYINCOMPOUND"in jr.flags&&(jr.compoundRuleCodes[jr.flags.ONLYINCOMPOUND]=[]),jr.dictionaryTable=jr._parseDIC(Fr);for(Gr in jr.compoundRuleCodes)jr.compoundRuleCodes[Gr].length===0&&delete jr.compoundRuleCodes[Gr];for(Gr=0,Kr=jr.compoundRules.length;Gr<Kr;Gr++){var hn=jr.compoundRules[Gr],gn="";for(Yr=0,Qr=hn.length;Yr<Qr;Yr++){var bn=hn[Yr];bn in jr.compoundRuleCodes?gn+="("+jr.compoundRuleCodes[bn].join("|")+")":gn+=bn}jr.compoundRules[Gr]=new RegExp(gn,"i")}jr.loaded=!0,zr.asyncLoad&&zr.loadedCallback&&zr.loadedCallback(jr)}return this},_r.prototype={load:function($r){for(var Br in $r)$r.hasOwnProperty(Br)&&(this[Br]=$r[Br]);return this},_readFile:function($r,Br,Fr){if(Br=Br||"utf8",typeof XMLHttpRequest<"u"){var zr,jr=new XMLHttpRequest;return jr.open("GET",$r,Fr),Fr&&(zr=new Promise(function(Gr,Yr){jr.onload=function(){jr.status===200?Gr(jr.responseText):Yr(jr.statusText)},jr.onerror=function(){Yr(jr.statusText)}})),jr.overrideMimeType&&jr.overrideMimeType("text/plain; charset="+Br),jr.send(null),Fr?zr:jr.responseText}else if(typeof commonjsRequire<"u"){var Ur=require$$0;try{if(Ur.existsSync($r))return Ur.readFileSync($r,Br);console.log("Path "+$r+" does not exist.")}catch(Gr){return console.log(Gr),""}}},_parseAFF:function($r){var Br={},Fr,zr,jr,Ur,Gr,Yr,Kr,Qr,Jr=$r.split(/\r?\n/);for(Gr=0,Kr=Jr.length;Gr<Kr;Gr++)if(Fr=this._removeAffixComments(Jr[Gr]),Fr=Fr.trim(),!!Fr){var rn=Fr.split(/\s+/),an=rn[0];if(an=="PFX"||an=="SFX"){var ln=rn[1],dn=rn[2];jr=parseInt(rn[3],10);var hn=[];for(Yr=Gr+1,Qr=Gr+1+jr;Yr<Qr;Yr++){zr=Jr[Yr],Ur=zr.split(/\s+/);var gn=Ur[2],bn=Ur[3].split("/"),kn=bn[0];kn==="0"&&(kn="");var Sn=this.parseRuleCodes(bn[1]),_n=Ur[4],pn={};pn.add=kn,Sn.length>0&&(pn.continuationClasses=Sn),_n!=="."&&(an==="SFX"?pn.match=new RegExp(_n+"$"):pn.match=new RegExp("^"+_n)),gn!="0"&&(an==="SFX"?pn.remove=new RegExp(gn+"$"):pn.remove=gn),hn.push(pn)}Br[ln]={type:an,combineable:dn=="Y",entries:hn},Gr+=jr}else if(an==="COMPOUNDRULE"){for(jr=parseInt(rn[1],10),Yr=Gr+1,Qr=Gr+1+jr;Yr<Qr;Yr++)Fr=Jr[Yr],Ur=Fr.split(/\s+/),this.compoundRules.push(Ur[1]);Gr+=jr}else an==="REP"?(Ur=Fr.split(/\s+/),Ur.length===3&&this.replacementTable.push([Ur[1],Ur[2]])):this.flags[an]=rn[1]}return Br},_removeAffixComments:function($r){return $r.match(/^\s*#/,"")?"":$r},_parseDIC:function($r){$r=this._removeDicComments($r);var Br=$r.split(/\r?\n/),Fr={};function zr(On,jn){Fr.hasOwnProperty(On)||(Fr[On]=null),jn.length>0&&(Fr[On]===null&&(Fr[On]=[]),Fr[On].push(jn))}for(var jr=1,Ur=Br.length;jr<Ur;jr++){var Gr=Br[jr];if(Gr){var Yr=Gr.split("/",2),Kr=Yr[0];if(Yr.length>1){var Qr=this.parseRuleCodes(Yr[1]);(!("NEEDAFFIX"in this.flags)||Qr.indexOf(this.flags.NEEDAFFIX)==-1)&&zr(Kr,Qr);for(var Jr=0,rn=Qr.length;Jr<rn;Jr++){var an=Qr[Jr],ln=this.rules[an];if(ln)for(var dn=this._applyRule(Kr,ln),hn=0,gn=dn.length;hn<gn;hn++){var bn=dn[hn];if(zr(bn,[]),ln.combineable)for(var kn=Jr+1;kn<rn;kn++){var Sn=Qr[kn],_n=this.rules[Sn];if(_n&&_n.combineable&&ln.type!=_n.type)for(var pn=this._applyRule(bn,_n),Cn=0,En=pn.length;Cn<En;Cn++){var Pn=pn[Cn];zr(Pn,[])}}}an in this.compoundRuleCodes&&this.compoundRuleCodes[an].push(Kr)}}else zr(Kr.trim(),[])}}return Fr},_removeDicComments:function($r){return $r=$r.replace(/^\t.*$/mg,""),$r},parseRuleCodes:function($r){if($r)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var Br=[],Fr=0,zr=$r.length;Fr<zr;Fr+=2)Br.push($r.substr(Fr,2));return Br}else return this.flags.FLAG==="num"?$r.split(","):this.flags.FLAG==="UTF-8"?Array.from($r):$r.split("");else return $r.split("");else return[]},_applyRule:function($r,Br){for(var Fr=Br.entries,zr=[],jr=0,Ur=Fr.length;jr<Ur;jr++){var Gr=Fr[jr];if(!Gr.match||$r.match(Gr.match)){var Yr=$r;if(Gr.remove&&(Yr=Yr.replace(Gr.remove,"")),Br.type==="SFX"?Yr=Yr+Gr.add:Yr=Gr.add+Yr,zr.push(Yr),"continuationClasses"in Gr)for(var Kr=0,Qr=Gr.continuationClasses.length;Kr<Qr;Kr++){var Jr=this.rules[Gr.continuationClasses[Kr]];Jr&&(zr=zr.concat(this._applyRule(Yr,Jr)))}}}return zr},check:function($r){if(!this.loaded)throw"Dictionary not loaded.";var Br=$r.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(Br))return!0;if(Br.toUpperCase()===Br){var Fr=Br[0]+Br.substring(1).toLowerCase();if(this.hasFlag(Fr,"KEEPCASE"))return!1;if(this.checkExact(Fr)||this.checkExact(Br.toLowerCase()))return!0}var zr=Br[0].toLowerCase()+Br.substring(1);if(zr!==Br){if(this.hasFlag(zr,"KEEPCASE"))return!1;if(this.checkExact(zr))return!0}return!1},checkExact:function($r){if(!this.loaded)throw"Dictionary not loaded.";var Br=this.dictionaryTable[$r],Fr,zr;if(typeof Br>"u"){if("COMPOUNDMIN"in this.flags&&$r.length>=this.flags.COMPOUNDMIN){for(Fr=0,zr=this.compoundRules.length;Fr<zr;Fr++)if($r.match(this.compoundRules[Fr]))return!0}}else{if(Br===null)return!0;if(typeof Br=="object"){for(Fr=0,zr=Br.length;Fr<zr;Fr++)if(!this.hasFlag($r,"ONLYINCOMPOUND",Br[Fr]))return!0}}return!1},hasFlag:function($r,Br,Fr){if(!this.loaded)throw"Dictionary not loaded.";return!!(Br in this.flags&&(typeof Fr>"u"&&(Fr=Array.prototype.concat.apply([],this.dictionaryTable[$r])),Fr&&Fr.indexOf(this.flags[Br])!==-1))},alphabet:"",suggest:function($r,Br){if(!this.loaded)throw"Dictionary not loaded.";if(Br=Br||5,this.memoized.hasOwnProperty($r)){var Fr=this.memoized[$r].limit;if(Br<=Fr||this.memoized[$r].suggestions.length<Fr)return this.memoized[$r].suggestions.slice(0,Br)}if(this.check($r))return[];for(var zr=0,jr=this.replacementTable.length;zr<jr;zr++){var Ur=this.replacementTable[zr];if($r.indexOf(Ur[0])!==-1){var Gr=$r.replace(Ur[0],Ur[1]);if(this.check(Gr))return[Gr]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var Yr=this.alphabet.split("");Yr.sort();for(var Kr={},zr=0;zr<Yr.length;zr++)Kr[Yr[zr]]=!0;this.alphabet="";for(var zr in Kr)this.alphabet+=zr}var Qr=this;function Jr(an,ln){var dn={},hn,gn,bn,kn,Sn=Qr.alphabet.length;if(typeof an=="string"){var _n=an;an={},an[_n]=!0}for(var _n in an)for(hn=0,bn=_n.length+1;hn<bn;hn++){var pn=[_n.substring(0,hn),_n.substring(hn)];if(pn[1]&&(kn=pn[0]+pn[1].substring(1),(!ln||Qr.check(kn))&&(kn in dn?dn[kn]+=1:dn[kn]=1)),pn[1].length>1&&pn[1][1]!==pn[1][0]&&(kn=pn[0]+pn[1][1]+pn[1][0]+pn[1].substring(2),(!ln||Qr.check(kn))&&(kn in dn?dn[kn]+=1:dn[kn]=1)),pn[1]){var Cn=pn[1].substring(0,1).toUpperCase()===pn[1].substring(0,1)?"uppercase":"lowercase";for(gn=0;gn<Sn;gn++){var En=Qr.alphabet[gn];Cn==="uppercase"&&(En=En.toUpperCase()),En!=pn[1].substring(0,1)&&(kn=pn[0]+En+pn[1].substring(1),(!ln||Qr.check(kn))&&(kn in dn?dn[kn]+=1:dn[kn]=1))}}if(pn[1])for(gn=0;gn<Sn;gn++){var Cn=pn[0].substring(-1).toUpperCase()===pn[0].substring(-1)&&pn[1].substring(0,1).toUpperCase()===pn[1].substring(0,1)?"uppercase":"lowercase",En=Qr.alphabet[gn];Cn==="uppercase"&&(En=En.toUpperCase()),kn=pn[0]+En+pn[1],(!ln||Qr.check(kn))&&(kn in dn?dn[kn]+=1:dn[kn]=1)}}return dn}function rn(an){var ln=Jr(an),dn=Jr(ln,!0),hn=dn;for(var gn in ln)Qr.check(gn)&&(gn in hn?hn[gn]+=ln[gn]:hn[gn]=ln[gn]);var bn,kn=[];for(bn in hn)hn.hasOwnProperty(bn)&&kn.push([bn,hn[bn]]);function Sn(En,Pn){var On=En[1],jn=Pn[1];return On<jn?-1:On>jn?1:Pn[0].localeCompare(En[0])}kn.sort(Sn).reverse();var _n=[],pn="lowercase";an.toUpperCase()===an?pn="uppercase":an.substr(0,1).toUpperCase()+an.substr(1).toLowerCase()===an&&(pn="capitalized");var Cn=Br;for(bn=0;bn<Math.min(Cn,kn.length);bn++)pn==="uppercase"?kn[bn][0]=kn[bn][0].toUpperCase():pn==="capitalized"&&(kn[bn][0]=kn[bn][0].substr(0,1).toUpperCase()+kn[bn][0].substr(1)),!Qr.hasFlag(kn[bn][0],"NOSUGGEST")&&_n.indexOf(kn[bn][0])==-1?_n.push(kn[bn][0]):Cn++;return _n}return this.memoized[$r]={suggestions:rn($r),limit:Br},this.memoized[$r].suggestions}}})(),Fe.exports=_r})(typo);var typoExports=typo.exports,Typo=typoExports;function CodeMirrorSpellChecker$1(Fe){if(Fe=Fe||{},typeof Fe.codeMirrorInstance!="function"||typeof Fe.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),Fe.codeMirrorInstance.defineMode("spell-checker",function(_r){if(!CodeMirrorSpellChecker$1.aff_loading){CodeMirrorSpellChecker$1.aff_loading=!0;var $r=new XMLHttpRequest;$r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),$r.onload=function(){$r.readyState===4&&$r.status===200&&(CodeMirrorSpellChecker$1.aff_data=$r.responseText,CodeMirrorSpellChecker$1.num_loaded++,CodeMirrorSpellChecker$1.num_loaded==2&&(CodeMirrorSpellChecker$1.typo=new Typo("en_US",CodeMirrorSpellChecker$1.aff_data,CodeMirrorSpellChecker$1.dic_data,{platform:"any"})))},$r.send(null)}if(!CodeMirrorSpellChecker$1.dic_loading){CodeMirrorSpellChecker$1.dic_loading=!0;var Br=new XMLHttpRequest;Br.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),Br.onload=function(){Br.readyState===4&&Br.status===200&&(CodeMirrorSpellChecker$1.dic_data=Br.responseText,CodeMirrorSpellChecker$1.num_loaded++,CodeMirrorSpellChecker$1.num_loaded==2&&(CodeMirrorSpellChecker$1.typo=new Typo("en_US",CodeMirrorSpellChecker$1.aff_data,CodeMirrorSpellChecker$1.dic_data,{platform:"any"})))},Br.send(null)}var Fr='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',zr={token:function(Ur){var Gr=Ur.peek(),Yr="";if(Fr.includes(Gr))return Ur.next(),null;for(;(Gr=Ur.peek())!=null&&!Fr.includes(Gr);)Yr+=Gr,Ur.next();return CodeMirrorSpellChecker$1.typo&&!CodeMirrorSpellChecker$1.typo.check(Yr)?"spell-error":null}},jr=Fe.codeMirrorInstance.getMode(_r,_r.backdrop||"text/plain");return Fe.codeMirrorInstance.overlayMode(jr,zr,!0)})}CodeMirrorSpellChecker$1.num_loaded=0;CodeMirrorSpellChecker$1.aff_loading=!1;CodeMirrorSpellChecker$1.dic_loading=!1;CodeMirrorSpellChecker$1.aff_data="";CodeMirrorSpellChecker$1.dic_data="";CodeMirrorSpellChecker$1.typo;var spellChecker=CodeMirrorSpellChecker$1,marked$1={};(function(Fe){function _r(Ei,hi){for(var Ai=0;Ai<hi.length;Ai++){var ri=hi[Ai];ri.enumerable=ri.enumerable||!1,ri.configurable=!0,"value"in ri&&(ri.writable=!0),Object.defineProperty(Ei,Gr(ri.key),ri)}}function $r(Ei,hi,Ai){return hi&&_r(Ei.prototype,hi),Ai&&_r(Ei,Ai),Object.defineProperty(Ei,"prototype",{writable:!1}),Ei}function Br(){return Br=Object.assign?Object.assign.bind():function(Ei){for(var hi=1;hi<arguments.length;hi++){var Ai=arguments[hi];for(var ri in Ai)Object.prototype.hasOwnProperty.call(Ai,ri)&&(Ei[ri]=Ai[ri])}return Ei},Br.apply(this,arguments)}function Fr(Ei,hi){if(Ei){if(typeof Ei=="string")return zr(Ei,hi);var Ai=Object.prototype.toString.call(Ei).slice(8,-1);if(Ai==="Object"&&Ei.constructor&&(Ai=Ei.constructor.name),Ai==="Map"||Ai==="Set")return Array.from(Ei);if(Ai==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ai))return zr(Ei,hi)}}function zr(Ei,hi){(hi==null||hi>Ei.length)&&(hi=Ei.length);for(var Ai=0,ri=new Array(hi);Ai<hi;Ai++)ri[Ai]=Ei[Ai];return ri}function jr(Ei,hi){var Ai=typeof Symbol<"u"&&Ei[Symbol.iterator]||Ei["@@iterator"];if(Ai)return(Ai=Ai.call(Ei)).next.bind(Ai);if(Array.isArray(Ei)||(Ai=Fr(Ei))||hi&&Ei&&typeof Ei.length=="number"){Ai&&(Ei=Ai);var ri=0;return function(){return ri>=Ei.length?{done:!0}:{done:!1,value:Ei[ri++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ur(Ei,hi){if(typeof Ei!="object"||Ei===null)return Ei;var Ai=Ei[Symbol.toPrimitive];if(Ai!==void 0){var ri=Ai.call(Ei,hi||"default");if(typeof ri!="object")return ri;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hi==="string"?String:Number)(Ei)}function Gr(Ei){var hi=Ur(Ei,"string");return typeof hi=="symbol"?hi:String(hi)}function Yr(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Fe.defaults=Yr();function Kr(Ei){Fe.defaults=Ei}var Qr=/[&<>"']/,Jr=new RegExp(Qr.source,"g"),rn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,an=new RegExp(rn.source,"g"),ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dn=function(hi){return ln[hi]};function hn(Ei,hi){if(hi){if(Qr.test(Ei))return Ei.replace(Jr,dn)}else if(rn.test(Ei))return Ei.replace(an,dn);return Ei}var gn=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function bn(Ei){return Ei.replace(gn,function(hi,Ai){return Ai=Ai.toLowerCase(),Ai==="colon"?":":Ai.charAt(0)==="#"?Ai.charAt(1)==="x"?String.fromCharCode(parseInt(Ai.substring(2),16)):String.fromCharCode(+Ai.substring(1)):""})}var kn=/(^|[^\[])\^/g;function Sn(Ei,hi){Ei=typeof Ei=="string"?Ei:Ei.source,hi=hi||"";var Ai={replace:function(ai,_i){return _i=_i.source||_i,_i=_i.replace(kn,"$1"),Ei=Ei.replace(ai,_i),Ai},getRegex:function(){return new RegExp(Ei,hi)}};return Ai}var _n=/[^\w:]/g,pn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Cn(Ei,hi,Ai){if(Ei){var ri;try{ri=decodeURIComponent(bn(Ai)).replace(_n,"").toLowerCase()}catch{return null}if(ri.indexOf("javascript:")===0||ri.indexOf("vbscript:")===0||ri.indexOf("data:")===0)return null}hi&&!pn.test(Ai)&&(Ai=Fn(hi,Ai));try{Ai=encodeURI(Ai).replace(/%25/g,"%")}catch{return null}return Ai}var En={},Pn=/^[^:]+:\/*[^/]*$/,On=/^([^:]+:)[\s\S]*$/,jn=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Fn(Ei,hi){En[" "+Ei]||(Pn.test(Ei)?En[" "+Ei]=Ei+"/":En[" "+Ei]=qn(Ei,"/",!0)),Ei=En[" "+Ei];var Ai=Ei.indexOf(":")===-1;return hi.substring(0,2)==="//"?Ai?hi:Ei.replace(On,"$1")+hi:hi.charAt(0)==="/"?Ai?hi:Ei.replace(jn,"$1")+hi:Ei+hi}var Wn={exec:function(){}};function Hn(Ei,hi){var Ai=Ei.replace(/\|/g,function(_i,pi,xi){for(var co=!1,go=pi;--go>=0&&xi[go]==="\\";)co=!co;return co?"|":" |"}),ri=Ai.split(/ \|/),ai=0;if(ri[0].trim()||ri.shift(),ri.length>0&&!ri[ri.length-1].trim()&&ri.pop(),ri.length>hi)ri.splice(hi);else for(;ri.length<hi;)ri.push("");for(;ai<ri.length;ai++)ri[ai]=ri[ai].trim().replace(/\\\|/g,"|");return ri}function qn(Ei,hi,Ai){var ri=Ei.length;if(ri===0)return"";for(var ai=0;ai<ri;){var _i=Ei.charAt(ri-ai-1);if(_i===hi&&!Ai)ai++;else if(_i!==hi&&Ai)ai++;else break}return Ei.slice(0,ri-ai)}function ni(Ei,hi){if(Ei.indexOf(hi[1])===-1)return-1;for(var Ai=Ei.length,ri=0,ai=0;ai<Ai;ai++)if(Ei[ai]==="\\")ai++;else if(Ei[ai]===hi[0])ri++;else if(Ei[ai]===hi[1]&&(ri--,ri<0))return ai;return-1}function oi(Ei){Ei&&Ei.sanitize&&!Ei.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function wi(Ei,hi){if(hi<1)return"";for(var Ai="";hi>1;)hi&1&&(Ai+=Ei),hi>>=1,Ei+=Ei;return Ai+Ei}function Ci(Ei,hi,Ai,ri){var ai=hi.href,_i=hi.title?hn(hi.title):null,pi=Ei[1].replace(/\\([\[\]])/g,"$1");if(Ei[0].charAt(0)!=="!"){ri.state.inLink=!0;var xi={type:"link",raw:Ai,href:ai,title:_i,text:pi,tokens:ri.inlineTokens(pi)};return ri.state.inLink=!1,xi}return{type:"image",raw:Ai,href:ai,title:_i,text:hn(pi)}}function Fi(Ei,hi){var Ai=Ei.match(/^(\s+)(?:```)/);if(Ai===null)return hi;var ri=Ai[1];return hi.split(`
`).map(function(ai){var _i=ai.match(/^\s+/);if(_i===null)return ai;var pi=_i[0];return pi.length>=ri.length?ai.slice(ri.length):ai}).join(`
`)}var Zn=function(){function Ei(Ai){this.options=Ai||Fe.defaults}var hi=Ei.prototype;return hi.space=function(ri){var ai=this.rules.block.newline.exec(ri);if(ai&&ai[0].length>0)return{type:"space",raw:ai[0]}},hi.code=function(ri){var ai=this.rules.block.code.exec(ri);if(ai){var _i=ai[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ai[0],codeBlockStyle:"indented",text:this.options.pedantic?_i:qn(_i,`
`)}}},hi.fences=function(ri){var ai=this.rules.block.fences.exec(ri);if(ai){var _i=ai[0],pi=Fi(_i,ai[3]||"");return{type:"code",raw:_i,lang:ai[2]?ai[2].trim().replace(this.rules.inline._escapes,"$1"):ai[2],text:pi}}},hi.heading=function(ri){var ai=this.rules.block.heading.exec(ri);if(ai){var _i=ai[2].trim();if(/#$/.test(_i)){var pi=qn(_i,"#");(this.options.pedantic||!pi||/ $/.test(pi))&&(_i=pi.trim())}return{type:"heading",raw:ai[0],depth:ai[1].length,text:_i,tokens:this.lexer.inline(_i)}}},hi.hr=function(ri){var ai=this.rules.block.hr.exec(ri);if(ai)return{type:"hr",raw:ai[0]}},hi.blockquote=function(ri){var ai=this.rules.block.blockquote.exec(ri);if(ai){var _i=ai[0].replace(/^ *>[ \t]?/gm,""),pi=this.lexer.state.top;this.lexer.state.top=!0;var xi=this.lexer.blockTokens(_i);return this.lexer.state.top=pi,{type:"blockquote",raw:ai[0],tokens:xi,text:_i}}},hi.list=function(ri){var ai=this.rules.block.list.exec(ri);if(ai){var _i,pi,xi,co,go,uo,To,Qo,Ui,Lo,oo,na,fa=ai[1].trim(),Ms=fa.length>1,aa={type:"list",raw:"",ordered:Ms,start:Ms?+fa.slice(0,-1):"",loose:!1,items:[]};fa=Ms?"\\d{1,9}\\"+fa.slice(-1):"\\"+fa,this.options.pedantic&&(fa=Ms?fa:"[*+-]");for(var os=new RegExp("^( {0,3}"+fa+")((?:[	 ][^\\n]*)?(?:\\n|$))");ri&&(na=!1,!(!(ai=os.exec(ri))||this.rules.block.hr.test(ri)));){if(_i=ai[0],ri=ri.substring(_i.length),Qo=ai[2].split(`
`,1)[0].replace(/^\t+/,function(hs){return" ".repeat(3*hs.length)}),Ui=ri.split(`
`,1)[0],this.options.pedantic?(co=2,oo=Qo.trimLeft()):(co=ai[2].search(/[^ ]/),co=co>4?1:co,oo=Qo.slice(co),co+=ai[1].length),uo=!1,!Qo&&/^ *$/.test(Ui)&&(_i+=Ui+`
`,ri=ri.substring(Ui.length+1),na=!0),!na)for(var Na=new RegExp("^ {0,"+Math.min(3,co-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),As=new RegExp("^ {0,"+Math.min(3,co-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Zs=new RegExp("^ {0,"+Math.min(3,co-1)+"}(?:```|~~~)"),gl=new RegExp("^ {0,"+Math.min(3,co-1)+"}#");ri&&(Lo=ri.split(`
`,1)[0],Ui=Lo,this.options.pedantic&&(Ui=Ui.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Zs.test(Ui)||gl.test(Ui)||Na.test(Ui)||As.test(ri)));){if(Ui.search(/[^ ]/)>=co||!Ui.trim())oo+=`
`+Ui.slice(co);else{if(uo||Qo.search(/[^ ]/)>=4||Zs.test(Qo)||gl.test(Qo)||As.test(Qo))break;oo+=`
`+Ui}!uo&&!Ui.trim()&&(uo=!0),_i+=Lo+`
`,ri=ri.substring(Lo.length+1),Qo=Ui.slice(co)}aa.loose||(To?aa.loose=!0:/\n *\n *$/.test(_i)&&(To=!0)),this.options.gfm&&(pi=/^\[[ xX]\] /.exec(oo),pi&&(xi=pi[0]!=="[ ] ",oo=oo.replace(/^\[[ xX]\] +/,""))),aa.items.push({type:"list_item",raw:_i,task:!!pi,checked:xi,loose:!1,text:oo}),aa.raw+=_i}aa.items[aa.items.length-1].raw=_i.trimRight(),aa.items[aa.items.length-1].text=oo.trimRight(),aa.raw=aa.raw.trimRight();var us=aa.items.length;for(go=0;go<us;go++)if(this.lexer.state.top=!1,aa.items[go].tokens=this.lexer.blockTokens(aa.items[go].text,[]),!aa.loose){var jl=aa.items[go].tokens.filter(function(hs){return hs.type==="space"}),ml=jl.length>0&&jl.some(function(hs){return/\n.*\n/.test(hs.raw)});aa.loose=ml}if(aa.loose)for(go=0;go<us;go++)aa.items[go].loose=!0;return aa}},hi.html=function(ri){var ai=this.rules.block.html.exec(ri);if(ai){var _i={type:"html",raw:ai[0],pre:!this.options.sanitizer&&(ai[1]==="pre"||ai[1]==="script"||ai[1]==="style"),text:ai[0]};if(this.options.sanitize){var pi=this.options.sanitizer?this.options.sanitizer(ai[0]):hn(ai[0]);_i.type="paragraph",_i.text=pi,_i.tokens=this.lexer.inline(pi)}return _i}},hi.def=function(ri){var ai=this.rules.block.def.exec(ri);if(ai){var _i=ai[1].toLowerCase().replace(/\s+/g," "),pi=ai[2]?ai[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",xi=ai[3]?ai[3].substring(1,ai[3].length-1).replace(this.rules.inline._escapes,"$1"):ai[3];return{type:"def",tag:_i,raw:ai[0],href:pi,title:xi}}},hi.table=function(ri){var ai=this.rules.block.table.exec(ri);if(ai){var _i={type:"table",header:Hn(ai[1]).map(function(To){return{text:To}}),align:ai[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ai[3]&&ai[3].trim()?ai[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(_i.header.length===_i.align.length){_i.raw=ai[0];var pi=_i.align.length,xi,co,go,uo;for(xi=0;xi<pi;xi++)/^ *-+: *$/.test(_i.align[xi])?_i.align[xi]="right":/^ *:-+: *$/.test(_i.align[xi])?_i.align[xi]="center":/^ *:-+ *$/.test(_i.align[xi])?_i.align[xi]="left":_i.align[xi]=null;for(pi=_i.rows.length,xi=0;xi<pi;xi++)_i.rows[xi]=Hn(_i.rows[xi],_i.header.length).map(function(To){return{text:To}});for(pi=_i.header.length,co=0;co<pi;co++)_i.header[co].tokens=this.lexer.inline(_i.header[co].text);for(pi=_i.rows.length,co=0;co<pi;co++)for(uo=_i.rows[co],go=0;go<uo.length;go++)uo[go].tokens=this.lexer.inline(uo[go].text);return _i}}},hi.lheading=function(ri){var ai=this.rules.block.lheading.exec(ri);if(ai)return{type:"heading",raw:ai[0],depth:ai[2].charAt(0)==="="?1:2,text:ai[1],tokens:this.lexer.inline(ai[1])}},hi.paragraph=function(ri){var ai=this.rules.block.paragraph.exec(ri);if(ai){var _i=ai[1].charAt(ai[1].length-1)===`
`?ai[1].slice(0,-1):ai[1];return{type:"paragraph",raw:ai[0],text:_i,tokens:this.lexer.inline(_i)}}},hi.text=function(ri){var ai=this.rules.block.text.exec(ri);if(ai)return{type:"text",raw:ai[0],text:ai[0],tokens:this.lexer.inline(ai[0])}},hi.escape=function(ri){var ai=this.rules.inline.escape.exec(ri);if(ai)return{type:"escape",raw:ai[0],text:hn(ai[1])}},hi.tag=function(ri){var ai=this.rules.inline.tag.exec(ri);if(ai)return!this.lexer.state.inLink&&/^<a /i.test(ai[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ai[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ai[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ai[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ai[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ai[0]):hn(ai[0]):ai[0]}},hi.link=function(ri){var ai=this.rules.inline.link.exec(ri);if(ai){var _i=ai[2].trim();if(!this.options.pedantic&&/^</.test(_i)){if(!/>$/.test(_i))return;var pi=qn(_i.slice(0,-1),"\\");if((_i.length-pi.length)%2===0)return}else{var xi=ni(ai[2],"()");if(xi>-1){var co=ai[0].indexOf("!")===0?5:4,go=co+ai[1].length+xi;ai[2]=ai[2].substring(0,xi),ai[0]=ai[0].substring(0,go).trim(),ai[3]=""}}var uo=ai[2],To="";if(this.options.pedantic){var Qo=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(uo);Qo&&(uo=Qo[1],To=Qo[3])}else To=ai[3]?ai[3].slice(1,-1):"";return uo=uo.trim(),/^</.test(uo)&&(this.options.pedantic&&!/>$/.test(_i)?uo=uo.slice(1):uo=uo.slice(1,-1)),Ci(ai,{href:uo&&uo.replace(this.rules.inline._escapes,"$1"),title:To&&To.replace(this.rules.inline._escapes,"$1")},ai[0],this.lexer)}},hi.reflink=function(ri,ai){var _i;if((_i=this.rules.inline.reflink.exec(ri))||(_i=this.rules.inline.nolink.exec(ri))){var pi=(_i[2]||_i[1]).replace(/\s+/g," ");if(pi=ai[pi.toLowerCase()],!pi){var xi=_i[0].charAt(0);return{type:"text",raw:xi,text:xi}}return Ci(_i,pi,_i[0],this.lexer)}},hi.emStrong=function(ri,ai,_i){_i===void 0&&(_i="");var pi=this.rules.inline.emStrong.lDelim.exec(ri);if(pi&&!(pi[3]&&_i.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var xi=pi[1]||pi[2]||"";if(!xi||xi&&(_i===""||this.rules.inline.punctuation.exec(_i))){var co=pi[0].length-1,go,uo,To=co,Qo=0,Ui=pi[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ui.lastIndex=0,ai=ai.slice(-1*ri.length+co);(pi=Ui.exec(ai))!=null;)if(go=pi[1]||pi[2]||pi[3]||pi[4]||pi[5]||pi[6],!!go){if(uo=go.length,pi[3]||pi[4]){To+=uo;continue}else if((pi[5]||pi[6])&&co%3&&!((co+uo)%3)){Qo+=uo;continue}if(To-=uo,!(To>0)){uo=Math.min(uo,uo+To+Qo);var Lo=ri.slice(0,co+pi.index+(pi[0].length-go.length)+uo);if(Math.min(co,uo)%2){var oo=Lo.slice(1,-1);return{type:"em",raw:Lo,text:oo,tokens:this.lexer.inlineTokens(oo)}}var na=Lo.slice(2,-2);return{type:"strong",raw:Lo,text:na,tokens:this.lexer.inlineTokens(na)}}}}}},hi.codespan=function(ri){var ai=this.rules.inline.code.exec(ri);if(ai){var _i=ai[2].replace(/\n/g," "),pi=/[^ ]/.test(_i),xi=/^ /.test(_i)&&/ $/.test(_i);return pi&&xi&&(_i=_i.substring(1,_i.length-1)),_i=hn(_i,!0),{type:"codespan",raw:ai[0],text:_i}}},hi.br=function(ri){var ai=this.rules.inline.br.exec(ri);if(ai)return{type:"br",raw:ai[0]}},hi.del=function(ri){var ai=this.rules.inline.del.exec(ri);if(ai)return{type:"del",raw:ai[0],text:ai[2],tokens:this.lexer.inlineTokens(ai[2])}},hi.autolink=function(ri,ai){var _i=this.rules.inline.autolink.exec(ri);if(_i){var pi,xi;return _i[2]==="@"?(pi=hn(this.options.mangle?ai(_i[1]):_i[1]),xi="mailto:"+pi):(pi=hn(_i[1]),xi=pi),{type:"link",raw:_i[0],text:pi,href:xi,tokens:[{type:"text",raw:pi,text:pi}]}}},hi.url=function(ri,ai){var _i;if(_i=this.rules.inline.url.exec(ri)){var pi,xi;if(_i[2]==="@")pi=hn(this.options.mangle?ai(_i[0]):_i[0]),xi="mailto:"+pi;else{var co;do co=_i[0],_i[0]=this.rules.inline._backpedal.exec(_i[0])[0];while(co!==_i[0]);pi=hn(_i[0]),_i[1]==="www."?xi="http://"+_i[0]:xi=_i[0]}return{type:"link",raw:_i[0],text:pi,href:xi,tokens:[{type:"text",raw:pi,text:pi}]}}},hi.inlineText=function(ri,ai){var _i=this.rules.inline.text.exec(ri);if(_i){var pi;return this.lexer.state.inRawBlock?pi=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(_i[0]):hn(_i[0]):_i[0]:pi=hn(this.options.smartypants?ai(_i[0]):_i[0]),{type:"text",raw:_i[0],text:pi}}},Ei}(),Gn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Wn,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Gn._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Gn._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Gn.def=Sn(Gn.def).replace("label",Gn._label).replace("title",Gn._title).getRegex(),Gn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Gn.listItemStart=Sn(/^( *)(bull) */).replace("bull",Gn.bullet).getRegex(),Gn.list=Sn(Gn.list).replace(/bull/g,Gn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Gn.def.source+")").getRegex(),Gn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Gn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Gn.html=Sn(Gn.html,"i").replace("comment",Gn._comment).replace("tag",Gn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Gn.paragraph=Sn(Gn._paragraph).replace("hr",Gn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gn._tag).getRegex(),Gn.blockquote=Sn(Gn.blockquote).replace("paragraph",Gn.paragraph).getRegex(),Gn.normal=Br({},Gn),Gn.gfm=Br({},Gn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Gn.gfm.table=Sn(Gn.gfm.table).replace("hr",Gn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gn._tag).getRegex(),Gn.gfm.paragraph=Sn(Gn._paragraph).replace("hr",Gn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Gn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gn._tag).getRegex(),Gn.pedantic=Br({},Gn.normal,{html:Sn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Gn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Wn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Sn(Gn.normal._paragraph).replace("hr",Gn.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Gn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ui={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Wn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Wn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ui._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ui.punctuation=Sn(ui.punctuation).replace(/punctuation/g,ui._punctuation).getRegex(),ui.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ui.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,ui._comment=Sn(Gn._comment).replace("(?:-->|$)","-->").getRegex(),ui.emStrong.lDelim=Sn(ui.emStrong.lDelim).replace(/punct/g,ui._punctuation).getRegex(),ui.emStrong.rDelimAst=Sn(ui.emStrong.rDelimAst,"g").replace(/punct/g,ui._punctuation).getRegex(),ui.emStrong.rDelimUnd=Sn(ui.emStrong.rDelimUnd,"g").replace(/punct/g,ui._punctuation).getRegex(),ui._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ui._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ui._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ui.autolink=Sn(ui.autolink).replace("scheme",ui._scheme).replace("email",ui._email).getRegex(),ui._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ui.tag=Sn(ui.tag).replace("comment",ui._comment).replace("attribute",ui._attribute).getRegex(),ui._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ui._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ui._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ui.link=Sn(ui.link).replace("label",ui._label).replace("href",ui._href).replace("title",ui._title).getRegex(),ui.reflink=Sn(ui.reflink).replace("label",ui._label).replace("ref",Gn._label).getRegex(),ui.nolink=Sn(ui.nolink).replace("ref",Gn._label).getRegex(),ui.reflinkSearch=Sn(ui.reflinkSearch,"g").replace("reflink",ui.reflink).replace("nolink",ui.nolink).getRegex(),ui.normal=Br({},ui),ui.pedantic=Br({},ui.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Sn(/^!?\[(label)\]\((.*?)\)/).replace("label",ui._label).getRegex(),reflink:Sn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ui._label).getRegex()}),ui.gfm=Br({},ui.normal,{escape:Sn(ui.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ui.gfm.url=Sn(ui.gfm.url,"i").replace("email",ui.gfm._extended_email).getRegex(),ui.breaks=Br({},ui.gfm,{br:Sn(ui.br).replace("{2,}","*").getRegex(),text:Sn(ui.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ni(Ei){return Ei.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦")}function $i(Ei){var hi="",Ai,ri,ai=Ei.length;for(Ai=0;Ai<ai;Ai++)ri=Ei.charCodeAt(Ai),Math.random()>.5&&(ri="x"+ri.toString(16)),hi+="&#"+ri+";";return hi}var Vi=function(){function Ei(Ai){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ai||Fe.defaults,this.options.tokenizer=this.options.tokenizer||new Zn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var ri={block:Gn.normal,inline:ui.normal};this.options.pedantic?(ri.block=Gn.pedantic,ri.inline=ui.pedantic):this.options.gfm&&(ri.block=Gn.gfm,this.options.breaks?ri.inline=ui.breaks:ri.inline=ui.gfm),this.tokenizer.rules=ri}Ei.lex=function(ri,ai){var _i=new Ei(ai);return _i.lex(ri)},Ei.lexInline=function(ri,ai){var _i=new Ei(ai);return _i.inlineTokens(ri)};var hi=Ei.prototype;return hi.lex=function(ri){ri=ri.replace(/\r\n|\r/g,`
`),this.blockTokens(ri,this.tokens);for(var ai;ai=this.inlineQueue.shift();)this.inlineTokens(ai.src,ai.tokens);return this.tokens},hi.blockTokens=function(ri,ai){var _i=this;ai===void 0&&(ai=[]),this.options.pedantic?ri=ri.replace(/\t/g,"    ").replace(/^ +$/gm,""):ri=ri.replace(/^( *)(\t+)/gm,function(To,Qo,Ui){return Qo+"    ".repeat(Ui.length)});for(var pi,xi,co,go;ri;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(To){return(pi=To.call({lexer:_i},ri,ai))?(ri=ri.substring(pi.raw.length),ai.push(pi),!0):!1}))){if(pi=this.tokenizer.space(ri)){ri=ri.substring(pi.raw.length),pi.raw.length===1&&ai.length>0?ai[ai.length-1].raw+=`
`:ai.push(pi);continue}if(pi=this.tokenizer.code(ri)){ri=ri.substring(pi.raw.length),xi=ai[ai.length-1],xi&&(xi.type==="paragraph"||xi.type==="text")?(xi.raw+=`
`+pi.raw,xi.text+=`
`+pi.text,this.inlineQueue[this.inlineQueue.length-1].src=xi.text):ai.push(pi);continue}if(pi=this.tokenizer.fences(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.heading(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.hr(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.blockquote(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.list(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.html(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.def(ri)){ri=ri.substring(pi.raw.length),xi=ai[ai.length-1],xi&&(xi.type==="paragraph"||xi.type==="text")?(xi.raw+=`
`+pi.raw,xi.text+=`
`+pi.raw,this.inlineQueue[this.inlineQueue.length-1].src=xi.text):this.tokens.links[pi.tag]||(this.tokens.links[pi.tag]={href:pi.href,title:pi.title});continue}if(pi=this.tokenizer.table(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.lheading(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(co=ri,this.options.extensions&&this.options.extensions.startBlock&&function(){var To=1/0,Qo=ri.slice(1),Ui=void 0;_i.options.extensions.startBlock.forEach(function(Lo){Ui=Lo.call({lexer:this},Qo),typeof Ui=="number"&&Ui>=0&&(To=Math.min(To,Ui))}),To<1/0&&To>=0&&(co=ri.substring(0,To+1))}(),this.state.top&&(pi=this.tokenizer.paragraph(co))){xi=ai[ai.length-1],go&&xi.type==="paragraph"?(xi.raw+=`
`+pi.raw,xi.text+=`
`+pi.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=xi.text):ai.push(pi),go=co.length!==ri.length,ri=ri.substring(pi.raw.length);continue}if(pi=this.tokenizer.text(ri)){ri=ri.substring(pi.raw.length),xi=ai[ai.length-1],xi&&xi.type==="text"?(xi.raw+=`
`+pi.raw,xi.text+=`
`+pi.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=xi.text):ai.push(pi);continue}if(ri){var uo="Infinite loop on byte: "+ri.charCodeAt(0);if(this.options.silent){console.error(uo);break}else throw new Error(uo)}}return this.state.top=!0,ai},hi.inline=function(ri,ai){return ai===void 0&&(ai=[]),this.inlineQueue.push({src:ri,tokens:ai}),ai},hi.inlineTokens=function(ri,ai){var _i=this;ai===void 0&&(ai=[]);var pi,xi,co,go=ri,uo,To,Qo;if(this.tokens.links){var Ui=Object.keys(this.tokens.links);if(Ui.length>0)for(;(uo=this.tokenizer.rules.inline.reflinkSearch.exec(go))!=null;)Ui.includes(uo[0].slice(uo[0].lastIndexOf("[")+1,-1))&&(go=go.slice(0,uo.index)+"["+wi("a",uo[0].length-2)+"]"+go.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(uo=this.tokenizer.rules.inline.blockSkip.exec(go))!=null;)go=go.slice(0,uo.index)+"["+wi("a",uo[0].length-2)+"]"+go.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(uo=this.tokenizer.rules.inline.escapedEmSt.exec(go))!=null;)go=go.slice(0,uo.index+uo[0].length-2)+"++"+go.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;ri;)if(To||(Qo=""),To=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(oo){return(pi=oo.call({lexer:_i},ri,ai))?(ri=ri.substring(pi.raw.length),ai.push(pi),!0):!1}))){if(pi=this.tokenizer.escape(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.tag(ri)){ri=ri.substring(pi.raw.length),xi=ai[ai.length-1],xi&&pi.type==="text"&&xi.type==="text"?(xi.raw+=pi.raw,xi.text+=pi.text):ai.push(pi);continue}if(pi=this.tokenizer.link(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.reflink(ri,this.tokens.links)){ri=ri.substring(pi.raw.length),xi=ai[ai.length-1],xi&&pi.type==="text"&&xi.type==="text"?(xi.raw+=pi.raw,xi.text+=pi.text):ai.push(pi);continue}if(pi=this.tokenizer.emStrong(ri,go,Qo)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.codespan(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.br(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.del(ri)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(pi=this.tokenizer.autolink(ri,$i)){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(!this.state.inLink&&(pi=this.tokenizer.url(ri,$i))){ri=ri.substring(pi.raw.length),ai.push(pi);continue}if(co=ri,this.options.extensions&&this.options.extensions.startInline&&function(){var oo=1/0,na=ri.slice(1),fa=void 0;_i.options.extensions.startInline.forEach(function(Ms){fa=Ms.call({lexer:this},na),typeof fa=="number"&&fa>=0&&(oo=Math.min(oo,fa))}),oo<1/0&&oo>=0&&(co=ri.substring(0,oo+1))}(),pi=this.tokenizer.inlineText(co,Ni)){ri=ri.substring(pi.raw.length),pi.raw.slice(-1)!=="_"&&(Qo=pi.raw.slice(-1)),To=!0,xi=ai[ai.length-1],xi&&xi.type==="text"?(xi.raw+=pi.raw,xi.text+=pi.text):ai.push(pi);continue}if(ri){var Lo="Infinite loop on byte: "+ri.charCodeAt(0);if(this.options.silent){console.error(Lo);break}else throw new Error(Lo)}}return ai},$r(Ei,null,[{key:"rules",get:function(){return{block:Gn,inline:ui}}}]),Ei}(),ji=function(){function Ei(Ai){this.options=Ai||Fe.defaults}var hi=Ei.prototype;return hi.code=function(ri,ai,_i){var pi=(ai||"").match(/\S*/)[0];if(this.options.highlight){var xi=this.options.highlight(ri,pi);xi!=null&&xi!==ri&&(_i=!0,ri=xi)}return ri=ri.replace(/\n$/,"")+`
`,pi?'<pre><code class="'+this.options.langPrefix+hn(pi)+'">'+(_i?ri:hn(ri,!0))+`</code></pre>
`:"<pre><code>"+(_i?ri:hn(ri,!0))+`</code></pre>
`},hi.blockquote=function(ri){return`<blockquote>
`+ri+`</blockquote>
`},hi.html=function(ri){return ri},hi.heading=function(ri,ai,_i,pi){if(this.options.headerIds){var xi=this.options.headerPrefix+pi.slug(_i);return"<h"+ai+' id="'+xi+'">'+ri+"</h"+ai+`>
`}return"<h"+ai+">"+ri+"</h"+ai+`>
`},hi.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},hi.list=function(ri,ai,_i){var pi=ai?"ol":"ul",xi=ai&&_i!==1?' start="'+_i+'"':"";return"<"+pi+xi+`>
`+ri+"</"+pi+`>
`},hi.listitem=function(ri){return"<li>"+ri+`</li>
`},hi.checkbox=function(ri){return"<input "+(ri?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},hi.paragraph=function(ri){return"<p>"+ri+`</p>
`},hi.table=function(ri,ai){return ai&&(ai="<tbody>"+ai+"</tbody>"),`<table>
<thead>
`+ri+`</thead>
`+ai+`</table>
`},hi.tablerow=function(ri){return`<tr>
`+ri+`</tr>
`},hi.tablecell=function(ri,ai){var _i=ai.header?"th":"td",pi=ai.align?"<"+_i+' align="'+ai.align+'">':"<"+_i+">";return pi+ri+("</"+_i+`>
`)},hi.strong=function(ri){return"<strong>"+ri+"</strong>"},hi.em=function(ri){return"<em>"+ri+"</em>"},hi.codespan=function(ri){return"<code>"+ri+"</code>"},hi.br=function(){return this.options.xhtml?"<br/>":"<br>"},hi.del=function(ri){return"<del>"+ri+"</del>"},hi.link=function(ri,ai,_i){if(ri=Cn(this.options.sanitize,this.options.baseUrl,ri),ri===null)return _i;var pi='<a href="'+ri+'"';return ai&&(pi+=' title="'+ai+'"'),pi+=">"+_i+"</a>",pi},hi.image=function(ri,ai,_i){if(ri=Cn(this.options.sanitize,this.options.baseUrl,ri),ri===null)return _i;var pi='<img src="'+ri+'" alt="'+_i+'"';return ai&&(pi+=' title="'+ai+'"'),pi+=this.options.xhtml?"/>":">",pi},hi.text=function(ri){return ri},Ei}(),lo=function(){function Ei(){}var hi=Ei.prototype;return hi.strong=function(ri){return ri},hi.em=function(ri){return ri},hi.codespan=function(ri){return ri},hi.del=function(ri){return ri},hi.html=function(ri){return ri},hi.text=function(ri){return ri},hi.link=function(ri,ai,_i){return""+_i},hi.image=function(ri,ai,_i){return""+_i},hi.br=function(){return""},Ei}(),ho=function(){function Ei(){this.seen={}}var hi=Ei.prototype;return hi.serialize=function(ri){return ri.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},hi.getNextSafeSlug=function(ri,ai){var _i=ri,pi=0;if(this.seen.hasOwnProperty(_i)){pi=this.seen[ri];do pi++,_i=ri+"-"+pi;while(this.seen.hasOwnProperty(_i))}return ai||(this.seen[ri]=pi,this.seen[_i]=0),_i},hi.slug=function(ri,ai){ai===void 0&&(ai={});var _i=this.serialize(ri);return this.getNextSafeSlug(_i,ai.dryrun)},Ei}(),so=function(){function Ei(Ai){this.options=Ai||Fe.defaults,this.options.renderer=this.options.renderer||new ji,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new lo,this.slugger=new ho}Ei.parse=function(ri,ai){var _i=new Ei(ai);return _i.parse(ri)},Ei.parseInline=function(ri,ai){var _i=new Ei(ai);return _i.parseInline(ri)};var hi=Ei.prototype;return hi.parse=function(ri,ai){ai===void 0&&(ai=!0);var _i="",pi,xi,co,go,uo,To,Qo,Ui,Lo,oo,na,fa,Ms,aa,os,Na,As,Zs,gl,us=ri.length;for(pi=0;pi<us;pi++){if(oo=ri[pi],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[oo.type]&&(gl=this.options.extensions.renderers[oo.type].call({parser:this},oo),gl!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(oo.type))){_i+=gl||"";continue}switch(oo.type){case"space":continue;case"hr":{_i+=this.renderer.hr();continue}case"heading":{_i+=this.renderer.heading(this.parseInline(oo.tokens),oo.depth,bn(this.parseInline(oo.tokens,this.textRenderer)),this.slugger);continue}case"code":{_i+=this.renderer.code(oo.text,oo.lang,oo.escaped);continue}case"table":{for(Ui="",Qo="",go=oo.header.length,xi=0;xi<go;xi++)Qo+=this.renderer.tablecell(this.parseInline(oo.header[xi].tokens),{header:!0,align:oo.align[xi]});for(Ui+=this.renderer.tablerow(Qo),Lo="",go=oo.rows.length,xi=0;xi<go;xi++){for(To=oo.rows[xi],Qo="",uo=To.length,co=0;co<uo;co++)Qo+=this.renderer.tablecell(this.parseInline(To[co].tokens),{header:!1,align:oo.align[co]});Lo+=this.renderer.tablerow(Qo)}_i+=this.renderer.table(Ui,Lo);continue}case"blockquote":{Lo=this.parse(oo.tokens),_i+=this.renderer.blockquote(Lo);continue}case"list":{for(na=oo.ordered,fa=oo.start,Ms=oo.loose,go=oo.items.length,Lo="",xi=0;xi<go;xi++)os=oo.items[xi],Na=os.checked,As=os.task,aa="",os.task&&(Zs=this.renderer.checkbox(Na),Ms?os.tokens.length>0&&os.tokens[0].type==="paragraph"?(os.tokens[0].text=Zs+" "+os.tokens[0].text,os.tokens[0].tokens&&os.tokens[0].tokens.length>0&&os.tokens[0].tokens[0].type==="text"&&(os.tokens[0].tokens[0].text=Zs+" "+os.tokens[0].tokens[0].text)):os.tokens.unshift({type:"text",text:Zs}):aa+=Zs),aa+=this.parse(os.tokens,Ms),Lo+=this.renderer.listitem(aa,As,Na);_i+=this.renderer.list(Lo,na,fa);continue}case"html":{_i+=this.renderer.html(oo.text);continue}case"paragraph":{_i+=this.renderer.paragraph(this.parseInline(oo.tokens));continue}case"text":{for(Lo=oo.tokens?this.parseInline(oo.tokens):oo.text;pi+1<us&&ri[pi+1].type==="text";)oo=ri[++pi],Lo+=`
`+(oo.tokens?this.parseInline(oo.tokens):oo.text);_i+=ai?this.renderer.paragraph(Lo):Lo;continue}default:{var jl='Token with "'+oo.type+'" type was not found.';if(this.options.silent){console.error(jl);return}else throw new Error(jl)}}}return _i},hi.parseInline=function(ri,ai){ai=ai||this.renderer;var _i="",pi,xi,co,go=ri.length;for(pi=0;pi<go;pi++){if(xi=ri[pi],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[xi.type]&&(co=this.options.extensions.renderers[xi.type].call({parser:this},xi),co!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(xi.type))){_i+=co||"";continue}switch(xi.type){case"escape":{_i+=ai.text(xi.text);break}case"html":{_i+=ai.html(xi.text);break}case"link":{_i+=ai.link(xi.href,xi.title,this.parseInline(xi.tokens,ai));break}case"image":{_i+=ai.image(xi.href,xi.title,xi.text);break}case"strong":{_i+=ai.strong(this.parseInline(xi.tokens,ai));break}case"em":{_i+=ai.em(this.parseInline(xi.tokens,ai));break}case"codespan":{_i+=ai.codespan(xi.text);break}case"br":{_i+=ai.br();break}case"del":{_i+=ai.del(this.parseInline(xi.tokens,ai));break}case"text":{_i+=ai.text(xi.text);break}default:{var uo='Token with "'+xi.type+'" type was not found.';if(this.options.silent){console.error(uo);return}else throw new Error(uo)}}}return _i},Ei}(),Ki=function(){function Ei(Ai){this.options=Ai||Fe.defaults}var hi=Ei.prototype;return hi.preprocess=function(ri){return ri},hi.postprocess=function(ri){return ri},Ei}();Ki.passThroughHooks=new Set(["preprocess","postprocess"]);function Ho(Ei,hi,Ai){return function(ri){if(ri.message+=`
Please report this to https://github.com/markedjs/marked.`,Ei){var ai="<p>An error occurred:</p><pre>"+hn(ri.message+"",!0)+"</pre>";if(hi)return Promise.resolve(ai);if(Ai){Ai(null,ai);return}return ai}if(hi)return Promise.reject(ri);if(Ai){Ai(ri);return}throw ri}}function Io(Ei,hi){return function(Ai,ri,ai){typeof ri=="function"&&(ai=ri,ri=null);var _i=Br({},ri);ri=Br({},Ji.defaults,_i);var pi=Ho(ri.silent,ri.async,ai);if(typeof Ai>"u"||Ai===null)return pi(new Error("marked(): input parameter is undefined or null"));if(typeof Ai!="string")return pi(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ai)+", string expected"));if(oi(ri),ri.hooks&&(ri.hooks.options=ri),ai){var xi=ri.highlight,co;try{ri.hooks&&(Ai=ri.hooks.preprocess(Ai)),co=Ei(Ai,ri)}catch(Ui){return pi(Ui)}var go=function(Lo){var oo;if(!Lo)try{ri.walkTokens&&Ji.walkTokens(co,ri.walkTokens),oo=hi(co,ri),ri.hooks&&(oo=ri.hooks.postprocess(oo))}catch(na){Lo=na}return ri.highlight=xi,Lo?pi(Lo):ai(null,oo)};if(!xi||xi.length<3||(delete ri.highlight,!co.length))return go();var uo=0;Ji.walkTokens(co,function(Ui){Ui.type==="code"&&(uo++,setTimeout(function(){xi(Ui.text,Ui.lang,function(Lo,oo){if(Lo)return go(Lo);oo!=null&&oo!==Ui.text&&(Ui.text=oo,Ui.escaped=!0),uo--,uo===0&&go()})},0))}),uo===0&&go();return}if(ri.async)return Promise.resolve(ri.hooks?ri.hooks.preprocess(Ai):Ai).then(function(Ui){return Ei(Ui,ri)}).then(function(Ui){return ri.walkTokens?Promise.all(Ji.walkTokens(Ui,ri.walkTokens)).then(function(){return Ui}):Ui}).then(function(Ui){return hi(Ui,ri)}).then(function(Ui){return ri.hooks?ri.hooks.postprocess(Ui):Ui}).catch(pi);try{ri.hooks&&(Ai=ri.hooks.preprocess(Ai));var To=Ei(Ai,ri);ri.walkTokens&&Ji.walkTokens(To,ri.walkTokens);var Qo=hi(To,ri);return ri.hooks&&(Qo=ri.hooks.postprocess(Qo)),Qo}catch(Ui){return pi(Ui)}}}function Ji(Ei,hi,Ai){return Io(Vi.lex,so.parse)(Ei,hi,Ai)}Ji.options=Ji.setOptions=function(Ei){return Ji.defaults=Br({},Ji.defaults,Ei),Kr(Ji.defaults),Ji},Ji.getDefaults=Yr,Ji.defaults=Fe.defaults,Ji.use=function(){for(var Ei=Ji.defaults.extensions||{renderers:{},childTokens:{}},hi=arguments.length,Ai=new Array(hi),ri=0;ri<hi;ri++)Ai[ri]=arguments[ri];Ai.forEach(function(ai){var _i=Br({},ai);if(_i.async=Ji.defaults.async||_i.async||!1,ai.extensions&&(ai.extensions.forEach(function(xi){if(!xi.name)throw new Error("extension name required");if(xi.renderer){var co=Ei.renderers[xi.name];co?Ei.renderers[xi.name]=function(){for(var go=arguments.length,uo=new Array(go),To=0;To<go;To++)uo[To]=arguments[To];var Qo=xi.renderer.apply(this,uo);return Qo===!1&&(Qo=co.apply(this,uo)),Qo}:Ei.renderers[xi.name]=xi.renderer}if(xi.tokenizer){if(!xi.level||xi.level!=="block"&&xi.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Ei[xi.level]?Ei[xi.level].unshift(xi.tokenizer):Ei[xi.level]=[xi.tokenizer],xi.start&&(xi.level==="block"?Ei.startBlock?Ei.startBlock.push(xi.start):Ei.startBlock=[xi.start]:xi.level==="inline"&&(Ei.startInline?Ei.startInline.push(xi.start):Ei.startInline=[xi.start]))}xi.childTokens&&(Ei.childTokens[xi.name]=xi.childTokens)}),_i.extensions=Ei),ai.renderer&&function(){var xi=Ji.defaults.renderer||new ji,co=function(To){var Qo=xi[To];xi[To]=function(){for(var Ui=arguments.length,Lo=new Array(Ui),oo=0;oo<Ui;oo++)Lo[oo]=arguments[oo];var na=ai.renderer[To].apply(xi,Lo);return na===!1&&(na=Qo.apply(xi,Lo)),na}};for(var go in ai.renderer)co(go);_i.renderer=xi}(),ai.tokenizer&&function(){var xi=Ji.defaults.tokenizer||new Zn,co=function(To){var Qo=xi[To];xi[To]=function(){for(var Ui=arguments.length,Lo=new Array(Ui),oo=0;oo<Ui;oo++)Lo[oo]=arguments[oo];var na=ai.tokenizer[To].apply(xi,Lo);return na===!1&&(na=Qo.apply(xi,Lo)),na}};for(var go in ai.tokenizer)co(go);_i.tokenizer=xi}(),ai.hooks&&function(){var xi=Ji.defaults.hooks||new Ki,co=function(To){var Qo=xi[To];Ki.passThroughHooks.has(To)?xi[To]=function(Ui){if(Ji.defaults.async)return Promise.resolve(ai.hooks[To].call(xi,Ui)).then(function(oo){return Qo.call(xi,oo)});var Lo=ai.hooks[To].call(xi,Ui);return Qo.call(xi,Lo)}:xi[To]=function(){for(var Ui=arguments.length,Lo=new Array(Ui),oo=0;oo<Ui;oo++)Lo[oo]=arguments[oo];var na=ai.hooks[To].apply(xi,Lo);return na===!1&&(na=Qo.apply(xi,Lo)),na}};for(var go in ai.hooks)co(go);_i.hooks=xi}(),ai.walkTokens){var pi=Ji.defaults.walkTokens;_i.walkTokens=function(xi){var co=[];return co.push(ai.walkTokens.call(this,xi)),pi&&(co=co.concat(pi.call(this,xi))),co}}Ji.setOptions(_i)})},Ji.walkTokens=function(Ei,hi){for(var Ai=[],ri=function(){var xi=_i.value;switch(Ai=Ai.concat(hi.call(Ji,xi)),xi.type){case"table":{for(var co=jr(xi.header),go;!(go=co()).done;){var uo=go.value;Ai=Ai.concat(Ji.walkTokens(uo.tokens,hi))}for(var To=jr(xi.rows),Qo;!(Qo=To()).done;)for(var Ui=Qo.value,Lo=jr(Ui),oo;!(oo=Lo()).done;){var na=oo.value;Ai=Ai.concat(Ji.walkTokens(na.tokens,hi))}break}case"list":{Ai=Ai.concat(Ji.walkTokens(xi.items,hi));break}default:Ji.defaults.extensions&&Ji.defaults.extensions.childTokens&&Ji.defaults.extensions.childTokens[xi.type]?Ji.defaults.extensions.childTokens[xi.type].forEach(function(fa){Ai=Ai.concat(Ji.walkTokens(xi[fa],hi))}):xi.tokens&&(Ai=Ai.concat(Ji.walkTokens(xi.tokens,hi)))}},ai=jr(Ei),_i;!(_i=ai()).done;)ri();return Ai},Ji.parseInline=Io(Vi.lexInline,so.parseInline),Ji.Parser=so,Ji.parser=so.parse,Ji.Renderer=ji,Ji.TextRenderer=lo,Ji.Lexer=Vi,Ji.lexer=Vi.lex,Ji.Tokenizer=Zn,Ji.Slugger=ho,Ji.Hooks=Ki,Ji.parse=Ji;var Yo=Ji.options,qo=Ji.setOptions,xo=Ji.use,ka=Ji.walkTokens,Ua=Ji.parseInline,$a=Ji,Ya=so.parse,Aa=Vi.lex;Fe.Hooks=Ki,Fe.Lexer=Vi,Fe.Parser=so,Fe.Renderer=ji,Fe.Slugger=ho,Fe.TextRenderer=lo,Fe.Tokenizer=Zn,Fe.getDefaults=Yr,Fe.lexer=Aa,Fe.marked=Ji,Fe.options=Yo,Fe.parse=$a,Fe.parseInline=Ua,Fe.parser=Ya,Fe.setOptions=qo,Fe.use=xo,Fe.walkTokens=ka})(marked$1);var CodeMirror=codemirrorExports,CodeMirrorSpellChecker=spellChecker,marked=marked$1.marked,isMac=/Mac/.test(navigator.platform),anchorToExternalRegex=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),bindings={toggleBold,toggleItalic,drawLink,toggleHeadingSmaller,toggleHeadingBigger,drawImage,toggleBlockquote,toggleOrderedList,toggleUnorderedList,toggleCodeBlock,togglePreview,toggleStrikethrough,toggleHeading1,toggleHeading2,toggleHeading3,toggleHeading4,toggleHeading5,toggleHeading6,cleanBlock,drawTable,drawHorizontalRule,undo,redo,toggleSideBySide,toggleFullScreen},shortcuts={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},getBindingName=function(Fe){for(var _r in bindings)if(bindings[_r]===Fe)return _r;return null},isMobile=function(){var Fe=!1;return function(_r){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(_r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(_r.substr(0,4)))&&(Fe=!0)}(navigator.userAgent||navigator.vendor||window.opera),Fe};function addAnchorTargetBlank(Fe){for(var _r;(_r=anchorToExternalRegex.exec(Fe))!==null;){var $r=_r[0];if($r.indexOf("target=")===-1){var Br=$r.replace(/>$/,' target="_blank">');Fe=Fe.replace($r,Br)}}return Fe}function removeListStyleWhenCheckbox(Fe){for(var _r=new DOMParser,$r=_r.parseFromString(Fe,"text/html"),Br=$r.getElementsByTagName("li"),Fr=0;Fr<Br.length;Fr++)for(var zr=Br[Fr],jr=0;jr<zr.children.length;jr++){var Ur=zr.children[jr];Ur instanceof HTMLInputElement&&Ur.type==="checkbox"&&(zr.style.marginLeft="-1.5em",zr.style.listStyleType="none")}return $r.documentElement.innerHTML}function fixShortcut(Fe){return isMac?Fe=Fe.replace("Ctrl","Cmd"):Fe=Fe.replace("Cmd","Ctrl"),Fe}function createToolbarDropdown(Fe,_r,$r,Br){var Fr=createToolbarButton(Fe,!1,_r,$r,"button",Br);Fr.classList.add("easymde-dropdown"),Fr.onclick=function(){Fr.focus()};var zr=document.createElement("div");zr.className="easymde-dropdown-content";for(var jr=0;jr<Fe.children.length;jr++){var Ur=Fe.children[jr],Gr;typeof Ur=="string"&&Ur in toolbarBuiltInButtons?Gr=createToolbarButton(toolbarBuiltInButtons[Ur],!0,_r,$r,"button",Br):Gr=createToolbarButton(Ur,!0,_r,$r,"button",Br),Gr.addEventListener("click",function(Yr){Yr.stopPropagation()},!1),zr.appendChild(Gr)}return Fr.appendChild(zr),Fr}function createToolbarButton(Fe,_r,$r,Br,Fr,zr){Fe=Fe||{};var jr=document.createElement(Fr);if(Fe.attributes)for(var Ur in Fe.attributes)Object.prototype.hasOwnProperty.call(Fe.attributes,Ur)&&jr.setAttribute(Ur,Fe.attributes[Ur]);var Gr=zr.options.toolbarButtonClassPrefix?zr.options.toolbarButtonClassPrefix+"-":"";jr.className=Gr+Fe.name,jr.setAttribute("type",Fr),$r=$r??!0,Fe.text&&(jr.innerText=Fe.text),Fe.name&&Fe.name in Br&&(bindings[Fe.name]=Fe.action),Fe.title&&$r&&(jr.title=createTooltip(Fe.title,Fe.action,Br),isMac&&(jr.title=jr.title.replace("Ctrl","â"),jr.title=jr.title.replace("Alt","â¥"))),Fe.title&&jr.setAttribute("aria-label",Fe.title),Fe.noDisable&&jr.classList.add("no-disable"),Fe.noMobile&&jr.classList.add("no-mobile");var Yr=[];typeof Fe.className<"u"&&(Yr=Fe.className.split(" "));for(var Kr=[],Qr=0;Qr<Yr.length;Qr++){var Jr=Yr[Qr];Jr.match(/^fa([srlb]|(-[\w-]*)|$)/)?Kr.push(Jr):jr.classList.add(Jr)}if(jr.tabIndex=-1,Kr.length>0){for(var rn=document.createElement("i"),an=0;an<Kr.length;an++){var ln=Kr[an];rn.classList.add(ln)}jr.appendChild(rn)}return typeof Fe.icon<"u"&&(jr.innerHTML=Fe.icon),Fe.action&&_r&&(typeof Fe.action=="function"?jr.onclick=function(dn){dn.preventDefault(),Fe.action(zr)}:typeof Fe.action=="string"&&(jr.onclick=function(dn){dn.preventDefault(),window.open(Fe.action,"_blank")})),jr}function createSep(){var Fe=document.createElement("i");return Fe.className="separator",Fe.innerHTML="|",Fe}function createTooltip(Fe,_r,$r){var Br,Fr=Fe;return _r&&(Br=getBindingName(_r),$r[Br]&&(Fr+=" ("+fixShortcut($r[Br])+")")),Fr}function getState(Fe,_r){_r=_r||Fe.getCursor("start");var $r=Fe.getTokenAt(_r);if(!$r.type)return{};for(var Br=$r.type.split(" "),Fr={},zr,jr,Ur=0;Ur<Br.length;Ur++)zr=Br[Ur],zr==="strong"?Fr.bold=!0:zr==="variable-2"?(jr=Fe.getLine(_r.line),/^\s*\d+\.\s/.test(jr)?Fr["ordered-list"]=!0:Fr["unordered-list"]=!0):zr==="atom"?Fr.quote=!0:zr==="em"?Fr.italic=!0:zr==="quote"?Fr.quote=!0:zr==="strikethrough"?Fr.strikethrough=!0:zr==="comment"?Fr.code=!0:zr==="link"&&!Fr.image?Fr.link=!0:zr==="image"?Fr.image=!0:zr.match(/^header(-[1-6])?$/)&&(Fr[zr.replace("header","heading")]=!0);return Fr}var saved_overflow="";function toggleFullScreen(Fe){var _r=Fe.codemirror;_r.setOption("fullScreen",!_r.getOption("fullScreen")),_r.getOption("fullScreen")?(saved_overflow=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=saved_overflow;var $r=_r.getWrapperElement(),Br=$r.nextSibling;if(Br.classList.contains("editor-preview-active-side"))if(Fe.options.sideBySideFullscreen===!1){var Fr=$r.parentNode;_r.getOption("fullScreen")?Fr.classList.remove("sided--no-fullscreen"):Fr.classList.add("sided--no-fullscreen")}else toggleSideBySide(Fe);if(Fe.options.onToggleFullScreen&&Fe.options.onToggleFullScreen(_r.getOption("fullScreen")||!1),typeof Fe.options.maxHeight<"u"&&(_r.getOption("fullScreen")?(_r.getScrollerElement().style.removeProperty("height"),Br.style.removeProperty("height")):(_r.getScrollerElement().style.height=Fe.options.maxHeight,Fe.setPreviewMaxHeight())),Fe.toolbar_div.classList.toggle("fullscreen"),Fe.toolbarElements&&Fe.toolbarElements.fullscreen){var zr=Fe.toolbarElements.fullscreen;zr.classList.toggle("active")}}function toggleBold(Fe){_toggleBlock(Fe,"bold",Fe.options.blockStyles.bold)}function toggleItalic(Fe){_toggleBlock(Fe,"italic",Fe.options.blockStyles.italic)}function toggleStrikethrough(Fe){_toggleBlock(Fe,"strikethrough","~~")}function toggleCodeBlock(Fe){var _r=Fe.options.blockStyles.code;function $r(Wn){if(typeof Wn!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Wn+": "+Wn;return Wn.styles&&Wn.styles[2]&&Wn.styles[2].indexOf("formatting-code-block")!==-1}function Br(Wn){return Wn.state.base.base||Wn.state.base}function Fr(Wn,Hn,qn,ni,oi){qn=qn||Wn.getLineHandle(Hn),ni=ni||Wn.getTokenAt({line:Hn,ch:1}),oi=oi||!!qn.text&&Wn.getTokenAt({line:Hn,ch:qn.text.length-1});var wi=ni.type?ni.type.split(" "):[];return oi&&Br(oi).indentedCode?"indented":wi.indexOf("comment")===-1?!1:Br(ni).fencedChars||Br(oi).fencedChars||$r(qn)?"fenced":"single"}function zr(Wn,Hn,qn,ni){var oi=Hn.line+1,wi=qn.line+1,Ci=Hn.line!==qn.line,Fi=ni+`
`,Zn=`
`+ni;Ci&&wi++,Ci&&qn.ch===0&&(Zn=ni+`
`,wi--),_replaceSelection(Wn,!1,[Fi,Zn]),Wn.setSelection({line:oi,ch:0},{line:wi,ch:0})}var jr=Fe.codemirror,Ur=jr.getCursor("start"),Gr=jr.getCursor("end"),Yr=jr.getTokenAt({line:Ur.line,ch:Ur.ch||1}),Kr=jr.getLineHandle(Ur.line),Qr=Fr(jr,Ur.line,Kr,Yr),Jr,rn,an;if(Qr==="single"){var ln=Kr.text.slice(0,Ur.ch).replace("`",""),dn=Kr.text.slice(Ur.ch).replace("`","");jr.replaceRange(ln+dn,{line:Ur.line,ch:0},{line:Ur.line,ch:99999999999999}),Ur.ch--,Ur!==Gr&&Gr.ch--,jr.setSelection(Ur,Gr),jr.focus()}else if(Qr==="fenced")if(Ur.line!==Gr.line||Ur.ch!==Gr.ch){for(Jr=Ur.line;Jr>=0&&(Kr=jr.getLineHandle(Jr),!$r(Kr));Jr--);var hn=jr.getTokenAt({line:Jr,ch:1}),gn=Br(hn).fencedChars,bn,kn,Sn,_n;$r(jr.getLineHandle(Ur.line))?(bn="",kn=Ur.line):$r(jr.getLineHandle(Ur.line-1))?(bn="",kn=Ur.line-1):(bn=gn+`
`,kn=Ur.line),$r(jr.getLineHandle(Gr.line))?(Sn="",_n=Gr.line,Gr.ch===0&&(_n+=1)):Gr.ch!==0&&$r(jr.getLineHandle(Gr.line+1))?(Sn="",_n=Gr.line+1):(Sn=gn+`
`,_n=Gr.line+1),Gr.ch===0&&(_n-=1),jr.operation(function(){jr.replaceRange(Sn,{line:_n,ch:0},{line:_n+(Sn?0:1),ch:0}),jr.replaceRange(bn,{line:kn,ch:0},{line:kn+(bn?0:1),ch:0})}),jr.setSelection({line:kn+(bn?1:0),ch:0},{line:_n+(bn?1:-1),ch:0}),jr.focus()}else{var pn=Ur.line;if($r(jr.getLineHandle(Ur.line))&&(Fr(jr,Ur.line+1)==="fenced"?(Jr=Ur.line,pn=Ur.line+1):(rn=Ur.line,pn=Ur.line-1)),Jr===void 0)for(Jr=pn;Jr>=0&&(Kr=jr.getLineHandle(Jr),!$r(Kr));Jr--);if(rn===void 0)for(an=jr.lineCount(),rn=pn;rn<an&&(Kr=jr.getLineHandle(rn),!$r(Kr));rn++);jr.operation(function(){jr.replaceRange("",{line:Jr,ch:0},{line:Jr+1,ch:0}),jr.replaceRange("",{line:rn-1,ch:0},{line:rn,ch:0})}),jr.focus()}else if(Qr==="indented"){if(Ur.line!==Gr.line||Ur.ch!==Gr.ch)Jr=Ur.line,rn=Gr.line,Gr.ch===0&&rn--;else{for(Jr=Ur.line;Jr>=0;Jr--)if(Kr=jr.getLineHandle(Jr),!Kr.text.match(/^\s*$/)&&Fr(jr,Jr,Kr)!=="indented"){Jr+=1;break}for(an=jr.lineCount(),rn=Ur.line;rn<an;rn++)if(Kr=jr.getLineHandle(rn),!Kr.text.match(/^\s*$/)&&Fr(jr,rn,Kr)!=="indented"){rn-=1;break}}var Cn=jr.getLineHandle(rn+1),En=Cn&&jr.getTokenAt({line:rn+1,ch:Cn.text.length-1}),Pn=En&&Br(En).indentedCode;Pn&&jr.replaceRange(`
`,{line:rn+1,ch:0});for(var On=Jr;On<=rn;On++)jr.indentLine(On,"subtract");jr.focus()}else{var jn=Ur.line===Gr.line&&Ur.ch===Gr.ch&&Ur.ch===0,Fn=Ur.line!==Gr.line;jn||Fn?zr(jr,Ur,Gr,_r):_replaceSelection(jr,!1,["`","`"])}}function toggleBlockquote(Fe){_toggleLine(Fe.codemirror,"quote")}function toggleHeadingSmaller(Fe){_toggleHeading(Fe.codemirror,"smaller")}function toggleHeadingBigger(Fe){_toggleHeading(Fe.codemirror,"bigger")}function toggleHeading1(Fe){_toggleHeading(Fe.codemirror,void 0,1)}function toggleHeading2(Fe){_toggleHeading(Fe.codemirror,void 0,2)}function toggleHeading3(Fe){_toggleHeading(Fe.codemirror,void 0,3)}function toggleHeading4(Fe){_toggleHeading(Fe.codemirror,void 0,4)}function toggleHeading5(Fe){_toggleHeading(Fe.codemirror,void 0,5)}function toggleHeading6(Fe){_toggleHeading(Fe.codemirror,void 0,6)}function toggleUnorderedList(Fe){var _r=Fe.codemirror,$r="*";["-","+","*"].includes(Fe.options.unorderedListStyle)&&($r=Fe.options.unorderedListStyle),_toggleLine(_r,"unordered-list",$r)}function toggleOrderedList(Fe){_toggleLine(Fe.codemirror,"ordered-list")}function cleanBlock(Fe){_cleanBlock(Fe.codemirror)}function drawLink(Fe){var _r=Fe.options,$r="https://";if(_r.promptURLs){var Br=prompt(_r.promptTexts.link,$r);if(!Br)return!1;$r=escapePromptURL(Br)}_toggleLink(Fe,"link",_r.insertTexts.link,$r)}function drawImage(Fe){var _r=Fe.options,$r="https://";if(_r.promptURLs){var Br=prompt(_r.promptTexts.image,$r);if(!Br)return!1;$r=escapePromptURL(Br)}_toggleLink(Fe,"image",_r.insertTexts.image,$r)}function escapePromptURL(Fe){return encodeURI(Fe).replace(/([\\()])/g,"\\$1")}function drawUploadedImage(Fe){Fe.openBrowseFileWindow()}function afterImageUploaded(Fe,_r){var $r=Fe.codemirror,Br=getState($r),Fr=Fe.options,zr=_r.substr(_r.lastIndexOf("/")+1),jr=zr.substring(zr.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(jr))_replaceSelection($r,Br.image,Fr.insertTexts.uploadedImage,_r);else{var Ur=Fr.insertTexts.link;Ur[0]="["+zr,_replaceSelection($r,Br.link,Ur,_r)}Fe.updateStatusBar("upload-image",Fe.options.imageTexts.sbOnUploaded.replace("#image_name#",zr)),setTimeout(function(){Fe.updateStatusBar("upload-image",Fe.options.imageTexts.sbInit)},1e3)}function drawTable(Fe){var _r=Fe.codemirror,$r=getState(_r),Br=Fe.options;_replaceSelection(_r,$r.table,Br.insertTexts.table)}function drawHorizontalRule(Fe){var _r=Fe.codemirror,$r=getState(_r),Br=Fe.options;_replaceSelection(_r,$r.image,Br.insertTexts.horizontalRule)}function undo(Fe){var _r=Fe.codemirror;_r.undo(),_r.focus()}function redo(Fe){var _r=Fe.codemirror;_r.redo(),_r.focus()}function toggleSideBySide(Fe){var _r=Fe.codemirror,$r=_r.getWrapperElement(),Br=$r.nextSibling,Fr=Fe.toolbarElements&&Fe.toolbarElements["side-by-side"],zr=!1,jr=$r.parentNode;Br.classList.contains("editor-preview-active-side")?(Fe.options.sideBySideFullscreen===!1&&jr.classList.remove("sided--no-fullscreen"),Br.classList.remove("editor-preview-active-side"),Fr&&Fr.classList.remove("active"),$r.classList.remove("CodeMirror-sided")):(setTimeout(function(){_r.getOption("fullScreen")||(Fe.options.sideBySideFullscreen===!1?jr.classList.add("sided--no-fullscreen"):toggleFullScreen(Fe)),Br.classList.add("editor-preview-active-side")},1),Fr&&Fr.classList.add("active"),$r.classList.add("CodeMirror-sided"),zr=!0);var Ur=$r.lastChild;if(Ur.classList.contains("editor-preview-active")){Ur.classList.remove("editor-preview-active");var Gr=Fe.toolbarElements.preview,Yr=Fe.toolbar_div;Gr.classList.remove("active"),Yr.classList.remove("disabled-for-preview")}var Kr=function(){var Jr=Fe.options.previewRender(Fe.value(),Br);Jr!=null&&(Br.innerHTML=Jr)};if(_r.sideBySideRenderingFunction||(_r.sideBySideRenderingFunction=Kr),zr){var Qr=Fe.options.previewRender(Fe.value(),Br);Qr!=null&&(Br.innerHTML=Qr),_r.on("update",_r.sideBySideRenderingFunction)}else _r.off("update",_r.sideBySideRenderingFunction);_r.refresh()}function togglePreview(Fe){var _r=Fe.codemirror,$r=_r.getWrapperElement(),Br=Fe.toolbar_div,Fr=Fe.options.toolbar?Fe.toolbarElements.preview:!1,zr=$r.lastChild,jr=_r.getWrapperElement().nextSibling;if(jr.classList.contains("editor-preview-active-side")&&toggleSideBySide(Fe),!zr||!zr.classList.contains("editor-preview-full")){if(zr=document.createElement("div"),zr.className="editor-preview-full",Fe.options.previewClass)if(Array.isArray(Fe.options.previewClass))for(var Ur=0;Ur<Fe.options.previewClass.length;Ur++)zr.classList.add(Fe.options.previewClass[Ur]);else typeof Fe.options.previewClass=="string"&&zr.classList.add(Fe.options.previewClass);$r.appendChild(zr)}zr.classList.contains("editor-preview-active")?(zr.classList.remove("editor-preview-active"),Fr&&(Fr.classList.remove("active"),Br.classList.remove("disabled-for-preview"))):(setTimeout(function(){zr.classList.add("editor-preview-active")},1),Fr&&(Fr.classList.add("active"),Br.classList.add("disabled-for-preview")));var Gr=Fe.options.previewRender(Fe.value(),zr);Gr!==null&&(zr.innerHTML=Gr)}function _replaceSelection(Fe,_r,$r,Br){if(!Fe.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var Fr,zr=$r[0],jr=$r[1],Ur={},Gr={};Object.assign(Ur,Fe.getCursor("start")),Object.assign(Gr,Fe.getCursor("end")),Br&&(zr=zr.replace("#url#",Br),jr=jr.replace("#url#",Br)),_r?(Fr=Fe.getLine(Ur.line),zr=Fr.slice(0,Ur.ch),jr=Fr.slice(Ur.ch),Fe.replaceRange(zr+jr,{line:Ur.line,ch:0})):(Fr=Fe.getSelection(),Fe.replaceSelection(zr+Fr+jr),Ur.ch+=zr.length,Ur!==Gr&&(Gr.ch+=zr.length)),Fe.setSelection(Ur,Gr),Fe.focus()}}function _toggleHeading(Fe,_r,$r){if(!Fe.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var Br=Fe.getCursor("start"),Fr=Fe.getCursor("end"),zr=Br.line;zr<=Fr.line;zr++)(function(jr){var Ur=Fe.getLine(jr),Gr=Ur.search(/[^#]/);_r!==void 0?Gr<=0?_r=="bigger"?Ur="###### "+Ur:Ur="# "+Ur:Gr==6&&_r=="smaller"?Ur=Ur.substr(7):Gr==1&&_r=="bigger"?Ur=Ur.substr(2):_r=="bigger"?Ur=Ur.substr(1):Ur="#"+Ur:Gr<=0?Ur="#".repeat($r)+" "+Ur:Gr==$r?Ur=Ur.substr(Gr+1):Ur="#".repeat($r)+" "+Ur.substr(Gr+1),Fe.replaceRange(Ur,{line:jr,ch:0},{line:jr,ch:99999999999999})})(zr);Fe.focus()}}function _toggleLine(Fe,_r,$r){if(!Fe.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var Br=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,Fr=/^\s*/,zr=getState(Fe),jr=Fe.getCursor("start"),Ur=Fe.getCursor("end"),Gr={quote:/^(\s*)>\s+/,"unordered-list":Br,"ordered-list":Br},Yr=function(an,ln){var dn={quote:">","unordered-list":$r,"ordered-list":"%%i."};return dn[an].replace("%%i",ln)},Kr=function(an,ln){var dn={quote:">","unordered-list":"\\"+$r,"ordered-list":"\\d+."},hn=new RegExp(dn[an]);return ln&&hn.test(ln)},Qr=function(an,ln,dn){var hn=Br.exec(ln),gn=Yr(an,Jr);return hn!==null?(Kr(an,hn[2])&&(gn=""),ln=hn[1]+gn+hn[3]+ln.replace(Fr,"").replace(Gr[an],"$1")):dn==!1&&(ln=gn+" "+ln),ln},Jr=1,rn=jr.line;rn<=Ur.line;rn++)(function(an){var ln=Fe.getLine(an);zr[_r]?ln=ln.replace(Gr[_r],"$1"):(_r=="unordered-list"&&(ln=Qr("ordered-list",ln,!0)),ln=Qr(_r,ln,!1),Jr+=1),Fe.replaceRange(ln,{line:an,ch:0},{line:an,ch:99999999999999})})(rn);Fe.focus()}}function _toggleLink(Fe,_r,$r,Br){if(!(!Fe.codemirror||Fe.isPreviewActive())){var Fr=Fe.codemirror,zr=getState(Fr),jr=zr[_r];if(!jr){_replaceSelection(Fr,jr,$r,Br);return}var Ur=Fr.getCursor("start"),Gr=Fr.getCursor("end"),Yr=Fr.getLine(Ur.line),Kr=Yr.slice(0,Ur.ch),Qr=Yr.slice(Ur.ch);_r=="link"?Kr=Kr.replace(/(.*)[^!]\[/,"$1"):_r=="image"&&(Kr=Kr.replace(/(.*)!\[$/,"$1")),Qr=Qr.replace(/]\(.*?\)/,""),Fr.replaceRange(Kr+Qr,{line:Ur.line,ch:0},{line:Ur.line,ch:99999999999999}),Ur.ch-=$r[0].length,Ur!==Gr&&(Gr.ch-=$r[0].length),Fr.setSelection(Ur,Gr),Fr.focus()}}function _toggleBlock(Fe,_r,$r,Br){if(!(!Fe.codemirror||Fe.isPreviewActive())){Br=typeof Br>"u"?$r:Br;var Fr=Fe.codemirror,zr=getState(Fr),jr,Ur=$r,Gr=Br,Yr=Fr.getCursor("start"),Kr=Fr.getCursor("end");zr[_r]?(jr=Fr.getLine(Yr.line),Ur=jr.slice(0,Yr.ch),Gr=jr.slice(Yr.ch),_r=="bold"?(Ur=Ur.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),Gr=Gr.replace(/(\*\*|__)/,"")):_r=="italic"?(Ur=Ur.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),Gr=Gr.replace(/(\*|_)/,"")):_r=="strikethrough"&&(Ur=Ur.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),Gr=Gr.replace(/(\*\*|~~)/,"")),Fr.replaceRange(Ur+Gr,{line:Yr.line,ch:0},{line:Yr.line,ch:99999999999999}),_r=="bold"||_r=="strikethrough"?(Yr.ch-=2,Yr!==Kr&&(Kr.ch-=2)):_r=="italic"&&(Yr.ch-=1,Yr!==Kr&&(Kr.ch-=1))):(jr=Fr.getSelection(),_r=="bold"?(jr=jr.split("**").join(""),jr=jr.split("__").join("")):_r=="italic"?(jr=jr.split("*").join(""),jr=jr.split("_").join("")):_r=="strikethrough"&&(jr=jr.split("~~").join("")),Fr.replaceSelection(Ur+jr+Gr),Yr.ch+=$r.length,Kr.ch=Yr.ch+jr.length),Fr.setSelection(Yr,Kr),Fr.focus()}}function _cleanBlock(Fe){if(!Fe.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var _r=Fe.getCursor("start"),$r=Fe.getCursor("end"),Br,Fr=_r.line;Fr<=$r.line;Fr++)Br=Fe.getLine(Fr),Br=Br.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),Fe.replaceRange(Br,{line:Fr,ch:0},{line:Fr,ch:99999999999999})}function humanFileSize(Fe,_r){if(Math.abs(Fe)<1024)return""+Fe+_r[0];var $r=0;do Fe/=1024,++$r;while(Math.abs(Fe)>=1024&&$r<_r.length);return""+Fe.toFixed(1)+_r[$r]}function _mergeProperties(Fe,_r){for(var $r in _r)Object.prototype.hasOwnProperty.call(_r,$r)&&(_r[$r]instanceof Array?Fe[$r]=_r[$r].concat(Fe[$r]instanceof Array?Fe[$r]:[]):_r[$r]!==null&&typeof _r[$r]=="object"&&_r[$r].constructor===Object?Fe[$r]=_mergeProperties(Fe[$r]||{},_r[$r]):Fe[$r]=_r[$r]);return Fe}function extend$2(Fe){for(var _r=1;_r<arguments.length;_r++)Fe=_mergeProperties(Fe,arguments[_r]);return Fe}function wordCount(Fe){var _r=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,$r=Fe.match(_r),Br=0;if($r===null)return Br;for(var Fr=0;Fr<$r.length;Fr++)$r[Fr].charCodeAt(0)>=19968?Br+=$r[Fr].length:Br+=1;return Br}var iconClassMap={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},toolbarBuiltInButtons={bold:{name:"bold",action:toggleBold,className:iconClassMap.bold,title:"Bold",default:!0},italic:{name:"italic",action:toggleItalic,className:iconClassMap.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:toggleStrikethrough,className:iconClassMap.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:toggleHeadingSmaller,className:iconClassMap.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:toggleHeadingSmaller,className:iconClassMap["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:toggleHeadingBigger,className:iconClassMap["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:toggleHeading1,className:iconClassMap["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:toggleHeading2,className:iconClassMap["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:toggleHeading3,className:iconClassMap["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:toggleCodeBlock,className:iconClassMap.code,title:"Code"},quote:{name:"quote",action:toggleBlockquote,className:iconClassMap.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:toggleUnorderedList,className:iconClassMap["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:toggleOrderedList,className:iconClassMap["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:cleanBlock,className:iconClassMap["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:drawLink,className:iconClassMap.link,title:"Create Link",default:!0},image:{name:"image",action:drawImage,className:iconClassMap.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:drawUploadedImage,className:iconClassMap["upload-image"],title:"Import an image"},table:{name:"table",action:drawTable,className:iconClassMap.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:drawHorizontalRule,className:iconClassMap["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:togglePreview,className:iconClassMap.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:toggleSideBySide,className:iconClassMap["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:toggleFullScreen,className:iconClassMap.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:iconClassMap.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:undo,className:iconClassMap.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:redo,className:iconClassMap.redo,noDisable:!0,title:"Redo"}},insertTexts={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},promptTexts={link:"URL for the link:",image:"URL of the image:"},timeFormat={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},blockStyles={bold:"**",code:"```",italic:"*"},imageTexts={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},errorMessages={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function EasyMDE(Fe){Fe=Fe||{},Fe.parent=this;var _r=!0;if(Fe.autoDownloadFontAwesome===!1&&(_r=!1),Fe.autoDownloadFontAwesome!==!0)for(var $r=document.styleSheets,Br=0;Br<$r.length;Br++)$r[Br].href&&$r[Br].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(_r=!1);if(_r){var Fr=document.createElement("link");Fr.rel="stylesheet",Fr.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(Fr)}if(Fe.element)this.element=Fe.element;else if(Fe.element===null){console.log("EasyMDE: Error. No element was found.");return}if(Fe.toolbar===void 0){Fe.toolbar=[];for(var zr in toolbarBuiltInButtons)Object.prototype.hasOwnProperty.call(toolbarBuiltInButtons,zr)&&(zr.indexOf("separator-")!=-1&&Fe.toolbar.push("|"),(toolbarBuiltInButtons[zr].default===!0||Fe.showIcons&&Fe.showIcons.constructor===Array&&Fe.showIcons.indexOf(zr)!=-1)&&Fe.toolbar.push(zr))}if(Object.prototype.hasOwnProperty.call(Fe,"previewClass")||(Fe.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(Fe,"status")||(Fe.status=["autosave","lines","words","cursor"],Fe.uploadImage&&Fe.status.unshift("upload-image")),Fe.previewRender||(Fe.previewRender=function(Ur){return this.parent.markdown(Ur)}),Fe.parsingConfig=extend$2({highlightFormatting:!0},Fe.parsingConfig||{}),Fe.insertTexts=extend$2({},insertTexts,Fe.insertTexts||{}),Fe.promptTexts=extend$2({},promptTexts,Fe.promptTexts||{}),Fe.blockStyles=extend$2({},blockStyles,Fe.blockStyles||{}),Fe.autosave!=null&&(Fe.autosave.timeFormat=extend$2({},timeFormat,Fe.autosave.timeFormat||{})),Fe.iconClassMap=extend$2({},iconClassMap,Fe.iconClassMap||{}),Fe.shortcuts=extend$2({},shortcuts,Fe.shortcuts||{}),Fe.maxHeight=Fe.maxHeight||void 0,Fe.direction=Fe.direction||"ltr",typeof Fe.maxHeight<"u"?Fe.minHeight=Fe.maxHeight:Fe.minHeight=Fe.minHeight||"300px",Fe.errorCallback=Fe.errorCallback||function(Ur){alert(Ur)},Fe.uploadImage=Fe.uploadImage||!1,Fe.imageMaxSize=Fe.imageMaxSize||2097152,Fe.imageAccept=Fe.imageAccept||"image/png, image/jpeg, image/gif, image/avif",Fe.imageTexts=extend$2({},imageTexts,Fe.imageTexts||{}),Fe.errorMessages=extend$2({},errorMessages,Fe.errorMessages||{}),Fe.imagePathAbsolute=Fe.imagePathAbsolute||!1,Fe.imageCSRFName=Fe.imageCSRFName||"csrfmiddlewaretoken",Fe.imageCSRFHeader=Fe.imageCSRFHeader||!1,Fe.autosave!=null&&Fe.autosave.unique_id!=null&&Fe.autosave.unique_id!=""&&(Fe.autosave.uniqueId=Fe.autosave.unique_id),Fe.overlayMode&&Fe.overlayMode.combine===void 0&&(Fe.overlayMode.combine=!0),this.options=Fe,this.render(),Fe.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(Fe.initialValue),Fe.uploadImage){var jr=this;this.codemirror.on("dragenter",function(Ur,Gr){jr.updateStatusBar("upload-image",jr.options.imageTexts.sbOnDragEnter),Gr.stopPropagation(),Gr.preventDefault()}),this.codemirror.on("dragend",function(Ur,Gr){jr.updateStatusBar("upload-image",jr.options.imageTexts.sbInit),Gr.stopPropagation(),Gr.preventDefault()}),this.codemirror.on("dragleave",function(Ur,Gr){jr.updateStatusBar("upload-image",jr.options.imageTexts.sbInit),Gr.stopPropagation(),Gr.preventDefault()}),this.codemirror.on("dragover",function(Ur,Gr){jr.updateStatusBar("upload-image",jr.options.imageTexts.sbOnDragEnter),Gr.stopPropagation(),Gr.preventDefault()}),this.codemirror.on("drop",function(Ur,Gr){Gr.stopPropagation(),Gr.preventDefault(),Fe.imageUploadFunction?jr.uploadImagesUsingCustomFunction(Fe.imageUploadFunction,Gr.dataTransfer.files):jr.uploadImages(Gr.dataTransfer.files)}),this.codemirror.on("paste",function(Ur,Gr){Fe.imageUploadFunction?jr.uploadImagesUsingCustomFunction(Fe.imageUploadFunction,Gr.clipboardData.files):jr.uploadImages(Gr.clipboardData.files)})}}EasyMDE.prototype.uploadImages=function(Fe,_r,$r){if(Fe.length!==0){for(var Br=[],Fr=0;Fr<Fe.length;Fr++)Br.push(Fe[Fr].name),this.uploadImage(Fe[Fr],_r,$r);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",Br.join(", ")))}};EasyMDE.prototype.uploadImagesUsingCustomFunction=function(Fe,_r){if(_r.length!==0){for(var $r=[],Br=0;Br<_r.length;Br++)$r.push(_r[Br].name),this.uploadImageUsingCustomFunction(Fe,_r[Br]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",$r.join(", ")))}};EasyMDE.prototype.updateStatusBar=function(Fe,_r){if(this.gui.statusbar){var $r=this.gui.statusbar.getElementsByClassName(Fe);$r.length===1?this.gui.statusbar.getElementsByClassName(Fe)[0].textContent=_r:$r.length===0?console.log("EasyMDE: status bar item "+Fe+" was not found."):console.log("EasyMDE: Several status bar items named "+Fe+" was found.")}};EasyMDE.prototype.markdown=function(Fe){if(marked){var _r;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?_r=this.options.renderingConfig.markedOptions:_r={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?_r.breaks=!1:_r.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var $r=this.options.renderingConfig.hljs||window.hljs;$r&&(_r.highlight=function(Fr,zr){return zr&&$r.getLanguage(zr)?$r.highlight(zr,Fr).value:$r.highlightAuto(Fr).value})}marked.setOptions(_r);var Br=marked.parse(Fe);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(Br=this.options.renderingConfig.sanitizerFunction.call(this,Br)),Br=addAnchorTargetBlank(Br),Br=removeListStyleWhenCheckbox(Br),Br}};EasyMDE.prototype.render=function(Fe){if(Fe||(Fe=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===Fe)return;this.element=Fe;var _r=this.options,$r=this,Br={};for(var Fr in _r.shortcuts)_r.shortcuts[Fr]!==null&&bindings[Fr]!==null&&function(dn){Br[fixShortcut(_r.shortcuts[dn])]=function(){var hn=bindings[dn];typeof hn=="function"?hn($r):typeof hn=="string"&&window.open(hn,"_blank")}}(Fr);Br.Enter="newlineAndIndentContinueMarkdownList",Br.Tab="tabAndIndentMarkdownList",Br["Shift-Tab"]="shiftTabAndUnindentMarkdownList",Br.Esc=function(dn){dn.getOption("fullScreen")&&toggleFullScreen($r)},this.documentOnKeyDown=function(dn){dn=dn||window.event,dn.keyCode==27&&$r.codemirror.getOption("fullScreen")&&toggleFullScreen($r)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var zr,jr;_r.overlayMode?(CodeMirror.defineMode("overlay-mode",function(dn){return CodeMirror.overlayMode(CodeMirror.getMode(dn,_r.spellChecker!==!1?"spell-checker":"gfm"),_r.overlayMode.mode,_r.overlayMode.combine)}),zr="overlay-mode",jr=_r.parsingConfig,jr.gitHubSpice=!1):(zr=_r.parsingConfig,zr.name="gfm",zr.gitHubSpice=!1),_r.spellChecker!==!1&&(zr="spell-checker",jr=_r.parsingConfig,jr.name="gfm",jr.gitHubSpice=!1,typeof _r.spellChecker=="function"?_r.spellChecker({codeMirrorInstance:CodeMirror}):CodeMirrorSpellChecker({codeMirrorInstance:CodeMirror}));function Ur(dn,hn,gn){return{addNew:!1}}if(this.codemirror=CodeMirror.fromTextArea(Fe,{mode:zr,backdrop:jr,theme:_r.theme!=null?_r.theme:"easymde",tabSize:_r.tabSize!=null?_r.tabSize:2,indentUnit:_r.tabSize!=null?_r.tabSize:2,indentWithTabs:_r.indentWithTabs!==!1,lineNumbers:_r.lineNumbers===!0,autofocus:_r.autofocus===!0,extraKeys:Br,direction:_r.direction,lineWrapping:_r.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:_r.placeholder||Fe.getAttribute("placeholder")||"",styleSelectedText:_r.styleSelectedText!=null?_r.styleSelectedText:!isMobile(),scrollbarStyle:_r.scrollbarStyle!=null?_r.scrollbarStyle:"native",configureMouse:Ur,inputStyle:_r.inputStyle!=null?_r.inputStyle:isMobile()?"contenteditable":"textarea",spellcheck:_r.nativeSpellcheck!=null?_r.nativeSpellcheck:!0,autoRefresh:_r.autoRefresh!=null?_r.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=_r.minHeight,typeof _r.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=_r.maxHeight),_r.forceSync===!0){var Gr=this.codemirror;Gr.on("change",function(){Gr.save()})}this.gui={};var Yr=document.createElement("div");Yr.classList.add("EasyMDEContainer"),Yr.setAttribute("role","application");var Kr=this.codemirror.getWrapperElement();Kr.parentNode.insertBefore(Yr,Kr),Yr.appendChild(Kr),_r.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),_r.status!==!1&&(this.gui.statusbar=this.createStatusbar()),_r.autosave!=null&&_r.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout($r._autosave_timeout),$r._autosave_timeout=setTimeout(function(){$r.autosave()},$r.options.autosave.submit_delay||$r.options.autosave.delay||1e3)}));function Qr(dn,hn){var gn,bn=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return dn<bn?gn=hn+"px":gn=hn/dn*100+"%",gn}var Jr=this;function rn(dn,hn){dn.setAttribute("data-img-src",hn.url),dn.setAttribute("style","--bg-image:url("+hn.url+");--width:"+hn.naturalWidth+"px;--height:"+Qr(hn.naturalWidth,hn.naturalHeight)),Jr.codemirror.setSize()}function an(){_r.previewImagesInEditor&&Yr.querySelectorAll(".cm-image-marker").forEach(function(dn){var hn=dn.parentElement;if(hn.innerText.match(/^!\[.*?\]\(.*\)/g)&&!hn.hasAttribute("data-img-src")){var gn=hn.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),gn&&gn.length>=2){var bn=gn[1];if(_r.imagesPreviewHandler){var kn=_r.imagesPreviewHandler(gn[1]);typeof kn=="string"&&(bn=kn)}if(window.EMDEimagesCache[bn])rn(hn,window.EMDEimagesCache[bn]);else{var Sn=document.createElement("img");Sn.onload=function(){window.EMDEimagesCache[bn]={naturalWidth:Sn.naturalWidth,naturalHeight:Sn.naturalHeight,url:bn},rn(hn,window.EMDEimagesCache[bn])},Sn.src=bn}}}})}this.codemirror.on("update",function(){an()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(_r.autofocus===!0||Fe.autofocus)&&this.codemirror.focus();var ln=this.codemirror;setTimeout((function(){ln.refresh()}).bind(ln),0)};EasyMDE.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function isLocalStorageAvailable(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}EasyMDE.prototype.autosave=function(){if(isLocalStorageAvailable()){var Fe=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(Fe.element.form!=null&&Fe.element.form!=null&&Fe.element.form.addEventListener("submit",function(){clearTimeout(Fe.autosaveTimeoutId),Fe.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+Fe.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var _r=Fe.value();_r!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,_r):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var $r=document.getElementById("autosaved");if($r!=null&&$r!=null&&$r!=""){var Br=new Date,Fr=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(Br),zr=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;$r.innerHTML=zr+Fr}}else console.log("EasyMDE: localStorage not available, cannot autosave")};EasyMDE.prototype.clearAutosavedValue=function(){if(isLocalStorageAvailable()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};EasyMDE.prototype.openBrowseFileWindow=function(Fe,_r){var $r=this,Br=this.gui.toolbar.getElementsByClassName("imageInput")[0];Br.click();function Fr(zr){$r.options.imageUploadFunction?$r.uploadImagesUsingCustomFunction($r.options.imageUploadFunction,zr.target.files):$r.uploadImages(zr.target.files,Fe,_r),Br.removeEventListener("change",Fr)}Br.addEventListener("change",Fr)};EasyMDE.prototype.uploadImage=function(Fe,_r,$r){var Br=this;_r=_r||function(Yr){afterImageUploaded(Br,Yr)};function Fr(Gr){Br.updateStatusBar("upload-image",Gr),setTimeout(function(){Br.updateStatusBar("upload-image",Br.options.imageTexts.sbInit)},1e4),$r&&typeof $r=="function"&&$r(Gr),Br.options.errorCallback(Gr)}function zr(Gr){var Yr=Br.options.imageTexts.sizeUnits.split(",");return Gr.replace("#image_name#",Fe.name).replace("#image_size#",humanFileSize(Fe.size,Yr)).replace("#image_max_size#",humanFileSize(Br.options.imageMaxSize,Yr))}if(Fe.size>this.options.imageMaxSize){Fr(zr(this.options.errorMessages.fileTooLarge));return}var jr=new FormData;jr.append("image",Fe),Br.options.imageCSRFToken&&!Br.options.imageCSRFHeader&&jr.append(Br.options.imageCSRFName,Br.options.imageCSRFToken);var Ur=new XMLHttpRequest;Ur.upload.onprogress=function(Gr){if(Gr.lengthComputable){var Yr=""+Math.round(Gr.loaded*100/Gr.total);Br.updateStatusBar("upload-image",Br.options.imageTexts.sbProgress.replace("#file_name#",Fe.name).replace("#progress#",Yr))}},Ur.open("POST",this.options.imageUploadEndpoint),Br.options.imageCSRFToken&&Br.options.imageCSRFHeader&&Ur.setRequestHeader(Br.options.imageCSRFName,Br.options.imageCSRFToken),Ur.onload=function(){try{var Gr=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),Fr(zr(Br.options.errorMessages.importError));return}this.status===200&&Gr&&!Gr.error&&Gr.data&&Gr.data.filePath?_r((Br.options.imagePathAbsolute?"":window.location.origin+"/")+Gr.data.filePath):Gr.error&&Gr.error in Br.options.errorMessages?Fr(zr(Br.options.errorMessages[Gr.error])):Gr.error?Fr(zr(Gr.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),Fr(zr(Br.options.errorMessages.importError)))},Ur.onerror=function(Gr){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+Gr.target.status+" ("+Gr.target.statusText+")"),Fr(Br.options.errorMessages.importError)},Ur.send(jr)};EasyMDE.prototype.uploadImageUsingCustomFunction=function(Fe,_r){var $r=this;function Br(jr){afterImageUploaded($r,jr)}function Fr(jr){var Ur=zr(jr);$r.updateStatusBar("upload-image",Ur),setTimeout(function(){$r.updateStatusBar("upload-image",$r.options.imageTexts.sbInit)},1e4),$r.options.errorCallback(Ur)}function zr(jr){var Ur=$r.options.imageTexts.sizeUnits.split(",");return jr.replace("#image_name#",_r.name).replace("#image_size#",humanFileSize(_r.size,Ur)).replace("#image_max_size#",humanFileSize($r.options.imageMaxSize,Ur))}Fe.apply(this,[_r,Br,Fr])};EasyMDE.prototype.setPreviewMaxHeight=function(){var Fe=this.codemirror,_r=Fe.getWrapperElement(),$r=_r.nextSibling,Br=parseInt(window.getComputedStyle(_r).paddingTop),Fr=parseInt(window.getComputedStyle(_r).borderTopWidth),zr=parseInt(this.options.maxHeight),jr=zr+Br*2+Fr*2,Ur=jr.toString()+"px";$r.style.height=Ur};EasyMDE.prototype.createSideBySide=function(){var Fe=this.codemirror,_r=Fe.getWrapperElement(),$r=_r.nextSibling;if(!$r||!$r.classList.contains("editor-preview-side")){if($r=document.createElement("div"),$r.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var Br=0;Br<this.options.previewClass.length;Br++)$r.classList.add(this.options.previewClass[Br]);else typeof this.options.previewClass=="string"&&$r.classList.add(this.options.previewClass);_r.parentNode.insertBefore($r,_r.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return $r;var Fr=!1,zr=!1;return Fe.on("scroll",function(jr){if(Fr){Fr=!1;return}zr=!0;var Ur=jr.getScrollInfo().height-jr.getScrollInfo().clientHeight,Gr=parseFloat(jr.getScrollInfo().top)/Ur,Yr=($r.scrollHeight-$r.clientHeight)*Gr;$r.scrollTop=Yr}),$r.onscroll=function(){if(zr){zr=!1;return}Fr=!0;var jr=$r.scrollHeight-$r.clientHeight,Ur=parseFloat($r.scrollTop)/jr,Gr=(Fe.getScrollInfo().height-Fe.getScrollInfo().clientHeight)*Ur;Fe.scrollTo(0,Gr)},$r};EasyMDE.prototype.createToolbar=function(Fe){if(Fe=Fe||this.options.toolbar,!(!Fe||Fe.length===0)){var _r;for(_r=0;_r<Fe.length;_r++)toolbarBuiltInButtons[Fe[_r]]!=null&&(Fe[_r]=toolbarBuiltInButtons[Fe[_r]]);var $r=document.createElement("div");$r.className="editor-toolbar",$r.setAttribute("role","toolbar");var Br=this,Fr={};for(Br.toolbar=Fe,_r=0;_r<Fe.length;_r++)if(!(Fe[_r].name=="guide"&&Br.options.toolbarGuideIcon===!1)&&!(Br.options.hideIcons&&Br.options.hideIcons.indexOf(Fe[_r].name)!=-1)&&!((Fe[_r].name=="fullscreen"||Fe[_r].name=="side-by-side")&&isMobile())){if(Fe[_r]==="|"){for(var zr=!1,jr=_r+1;jr<Fe.length;jr++)Fe[jr]!=="|"&&(!Br.options.hideIcons||Br.options.hideIcons.indexOf(Fe[jr].name)==-1)&&(zr=!0);if(!zr)continue}(function(Yr){var Kr;if(Yr==="|"?Kr=createSep():Yr.children?Kr=createToolbarDropdown(Yr,Br.options.toolbarTips,Br.options.shortcuts,Br):Kr=createToolbarButton(Yr,!0,Br.options.toolbarTips,Br.options.shortcuts,"button",Br),Fr[Yr.name||Yr]=Kr,$r.appendChild(Kr),Yr.name==="upload-image"){var Qr=document.createElement("input");Qr.className="imageInput",Qr.type="file",Qr.multiple=!0,Qr.name="image",Qr.accept=Br.options.imageAccept,Qr.style.display="none",Qr.style.opacity=0,$r.appendChild(Qr)}})(Fe[_r])}Br.toolbar_div=$r,Br.toolbarElements=Fr;var Ur=this.codemirror;Ur.on("cursorActivity",function(){var Yr=getState(Ur);for(var Kr in Fr)(function(Qr){var Jr=Fr[Qr];Yr[Qr]?Jr.classList.add("active"):Qr!="fullscreen"&&Qr!="side-by-side"&&Jr.classList.remove("active")})(Kr)});var Gr=Ur.getWrapperElement();return Gr.parentNode.insertBefore($r,Gr),$r}};EasyMDE.prototype.createStatusbar=function(Fe){Fe=Fe||this.options.status;var _r=this.options,$r=this.codemirror;if(!(!Fe||Fe.length===0)){var Br=[],Fr,zr,jr,Ur;for(Fr=0;Fr<Fe.length;Fr++)if(zr=void 0,jr=void 0,Ur=void 0,typeof Fe[Fr]=="object")Br.push({className:Fe[Fr].className,defaultValue:Fe[Fr].defaultValue,onUpdate:Fe[Fr].onUpdate,onActivity:Fe[Fr].onActivity});else{var Gr=Fe[Fr];Gr==="words"?(Ur=function(rn){rn.innerHTML=wordCount($r.getValue())},zr=function(rn){rn.innerHTML=wordCount($r.getValue())}):Gr==="lines"?(Ur=function(rn){rn.innerHTML=$r.lineCount()},zr=function(rn){rn.innerHTML=$r.lineCount()}):Gr==="cursor"?(Ur=function(rn){rn.innerHTML="1:1"},jr=function(rn){var an=$r.getCursor(),ln=an.line+1,dn=an.ch+1;rn.innerHTML=ln+":"+dn}):Gr==="autosave"?Ur=function(rn){_r.autosave!=null&&_r.autosave.enabled===!0&&rn.setAttribute("id","autosaved")}:Gr==="upload-image"&&(Ur=function(rn){rn.innerHTML=_r.imageTexts.sbInit}),Br.push({className:Gr,defaultValue:Ur,onUpdate:zr,onActivity:jr})}var Yr=document.createElement("div");for(Yr.className="editor-statusbar",Fr=0;Fr<Br.length;Fr++){var Kr=Br[Fr],Qr=document.createElement("span");Qr.className=Kr.className,typeof Kr.defaultValue=="function"&&Kr.defaultValue(Qr),typeof Kr.onUpdate=="function"&&this.codemirror.on("update",function(rn,an){return function(){an.onUpdate(rn)}}(Qr,Kr)),typeof Kr.onActivity=="function"&&this.codemirror.on("cursorActivity",function(rn,an){return function(){an.onActivity(rn)}}(Qr,Kr)),Yr.appendChild(Qr)}var Jr=this.codemirror.getWrapperElement();return Jr.parentNode.insertBefore(Yr,Jr.nextSibling),Yr}};EasyMDE.prototype.value=function(Fe){var _r=this.codemirror;if(Fe===void 0)return _r.getValue();if(_r.getDoc().setValue(Fe),this.isPreviewActive()){var $r=_r.getWrapperElement(),Br=$r.lastChild,Fr=this.options.previewRender(Fe,Br);Fr!==null&&(Br.innerHTML=Fr)}return this};EasyMDE.toggleBold=toggleBold;EasyMDE.toggleItalic=toggleItalic;EasyMDE.toggleStrikethrough=toggleStrikethrough;EasyMDE.toggleBlockquote=toggleBlockquote;EasyMDE.toggleHeadingSmaller=toggleHeadingSmaller;EasyMDE.toggleHeadingBigger=toggleHeadingBigger;EasyMDE.toggleHeading1=toggleHeading1;EasyMDE.toggleHeading2=toggleHeading2;EasyMDE.toggleHeading3=toggleHeading3;EasyMDE.toggleHeading4=toggleHeading4;EasyMDE.toggleHeading5=toggleHeading5;EasyMDE.toggleHeading6=toggleHeading6;EasyMDE.toggleCodeBlock=toggleCodeBlock;EasyMDE.toggleUnorderedList=toggleUnorderedList;EasyMDE.toggleOrderedList=toggleOrderedList;EasyMDE.cleanBlock=cleanBlock;EasyMDE.drawLink=drawLink;EasyMDE.drawImage=drawImage;EasyMDE.drawUploadedImage=drawUploadedImage;EasyMDE.drawTable=drawTable;EasyMDE.drawHorizontalRule=drawHorizontalRule;EasyMDE.undo=undo;EasyMDE.redo=redo;EasyMDE.togglePreview=togglePreview;EasyMDE.toggleSideBySide=toggleSideBySide;EasyMDE.toggleFullScreen=toggleFullScreen;EasyMDE.prototype.toggleBold=function(){toggleBold(this)};EasyMDE.prototype.toggleItalic=function(){toggleItalic(this)};EasyMDE.prototype.toggleStrikethrough=function(){toggleStrikethrough(this)};EasyMDE.prototype.toggleBlockquote=function(){toggleBlockquote(this)};EasyMDE.prototype.toggleHeadingSmaller=function(){toggleHeadingSmaller(this)};EasyMDE.prototype.toggleHeadingBigger=function(){toggleHeadingBigger(this)};EasyMDE.prototype.toggleHeading1=function(){toggleHeading1(this)};EasyMDE.prototype.toggleHeading2=function(){toggleHeading2(this)};EasyMDE.prototype.toggleHeading3=function(){toggleHeading3(this)};EasyMDE.prototype.toggleHeading4=function(){toggleHeading4(this)};EasyMDE.prototype.toggleHeading5=function(){toggleHeading5(this)};EasyMDE.prototype.toggleHeading6=function(){toggleHeading6(this)};EasyMDE.prototype.toggleCodeBlock=function(){toggleCodeBlock(this)};EasyMDE.prototype.toggleUnorderedList=function(){toggleUnorderedList(this)};EasyMDE.prototype.toggleOrderedList=function(){toggleOrderedList(this)};EasyMDE.prototype.cleanBlock=function(){cleanBlock(this)};EasyMDE.prototype.drawLink=function(){drawLink(this)};EasyMDE.prototype.drawImage=function(){drawImage(this)};EasyMDE.prototype.drawUploadedImage=function(){drawUploadedImage(this)};EasyMDE.prototype.drawTable=function(){drawTable(this)};EasyMDE.prototype.drawHorizontalRule=function(){drawHorizontalRule(this)};EasyMDE.prototype.undo=function(){undo(this)};EasyMDE.prototype.redo=function(){redo(this)};EasyMDE.prototype.togglePreview=function(){togglePreview(this)};EasyMDE.prototype.toggleSideBySide=function(){toggleSideBySide(this)};EasyMDE.prototype.toggleFullScreen=function(){toggleFullScreen(this)};EasyMDE.prototype.isPreviewActive=function(){var Fe=this.codemirror,_r=Fe.getWrapperElement(),$r=_r.lastChild;return $r.classList.contains("editor-preview-active")};EasyMDE.prototype.isSideBySideActive=function(){var Fe=this.codemirror,_r=Fe.getWrapperElement(),$r=_r.nextSibling;return $r.classList.contains("editor-preview-active-side")};EasyMDE.prototype.isFullscreenActive=function(){var Fe=this.codemirror;return Fe.getOption("fullScreen")};EasyMDE.prototype.getState=function(){var Fe=this.codemirror;return getState(Fe)};EasyMDE.prototype.toTextArea=function(){var Fe=this.codemirror,_r=Fe.getWrapperElement(),$r=_r.parentNode;$r&&(this.gui.toolbar&&$r.removeChild(this.gui.toolbar),this.gui.statusbar&&$r.removeChild(this.gui.statusbar),this.gui.sideBySide&&$r.removeChild(this.gui.sideBySide)),$r.parentNode.insertBefore(_r,$r),$r.remove(),Fe.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var easymde=EasyMDE;const EasyMDE$1=getDefaultExportFromCjs(easymde);var ckeditor={exports:{}};ckeditor.exports;(function(Fe,_r){(function($r){const Br=$r.en=$r.en||{};Br.dictionary=Object.assign(Br.dictionary||{},{"%0 of %1":"%0 of %1","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerâroman":"Lowerâroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerâlatin list style":"Toggle the lowerâlatin list style","Toggle the lowerâroman list style":"Toggle the lowerâroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperâlatin list style":"Toggle the upperâlatin list style","Toggle the upperâroman list style":"Toggle the upperâroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function($r,Br){Fe.exports=Br()}(self,()=>(()=>{var $r={4959:(jr,Ur,Gr)=>{const Yr=Gr(1103),Kr={};for(const Jr of Object.keys(Yr))Kr[Yr[Jr]]=Jr;const Qr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};jr.exports=Qr;for(const Jr of Object.keys(Qr)){if(!("channels"in Qr[Jr]))throw new Error("missing channels property: "+Jr);if(!("labels"in Qr[Jr]))throw new Error("missing channel labels property: "+Jr);if(Qr[Jr].labels.length!==Qr[Jr].channels)throw new Error("channel and label counts mismatch: "+Jr);const{channels:rn,labels:an}=Qr[Jr];delete Qr[Jr].channels,delete Qr[Jr].labels,Object.defineProperty(Qr[Jr],"channels",{value:rn}),Object.defineProperty(Qr[Jr],"labels",{value:an})}Qr.rgb.hsl=function(Jr){const rn=Jr[0]/255,an=Jr[1]/255,ln=Jr[2]/255,dn=Math.min(rn,an,ln),hn=Math.max(rn,an,ln),gn=hn-dn;let bn,kn;hn===dn?bn=0:rn===hn?bn=(an-ln)/gn:an===hn?bn=2+(ln-rn)/gn:ln===hn&&(bn=4+(rn-an)/gn),bn=Math.min(60*bn,360),bn<0&&(bn+=360);const Sn=(dn+hn)/2;return kn=hn===dn?0:Sn<=.5?gn/(hn+dn):gn/(2-hn-dn),[bn,100*kn,100*Sn]},Qr.rgb.hsv=function(Jr){let rn,an,ln,dn,hn;const gn=Jr[0]/255,bn=Jr[1]/255,kn=Jr[2]/255,Sn=Math.max(gn,bn,kn),_n=Sn-Math.min(gn,bn,kn),pn=function(Cn){return(Sn-Cn)/6/_n+.5};return _n===0?(dn=0,hn=0):(hn=_n/Sn,rn=pn(gn),an=pn(bn),ln=pn(kn),gn===Sn?dn=ln-an:bn===Sn?dn=.3333333333333333+rn-ln:kn===Sn&&(dn=.6666666666666666+an-rn),dn<0?dn+=1:dn>1&&(dn-=1)),[360*dn,100*hn,100*Sn]},Qr.rgb.hwb=function(Jr){const rn=Jr[0],an=Jr[1];let ln=Jr[2];const dn=Qr.rgb.hsl(Jr)[0],hn=1/255*Math.min(rn,Math.min(an,ln));return ln=1-.00392156862745098*Math.max(rn,Math.max(an,ln)),[dn,100*hn,100*ln]},Qr.rgb.cmyk=function(Jr){const rn=Jr[0]/255,an=Jr[1]/255,ln=Jr[2]/255,dn=Math.min(1-rn,1-an,1-ln);return[100*((1-rn-dn)/(1-dn)||0),100*((1-an-dn)/(1-dn)||0),100*((1-ln-dn)/(1-dn)||0),100*dn]},Qr.rgb.keyword=function(Jr){const rn=Kr[Jr];if(rn)return rn;let an,ln=1/0;for(const gn of Object.keys(Yr)){const bn=Yr[gn],kn=(hn=bn,((dn=Jr)[0]-hn[0])**2+(dn[1]-hn[1])**2+(dn[2]-hn[2])**2);kn<ln&&(ln=kn,an=gn)}var dn,hn;return an},Qr.keyword.rgb=function(Jr){return Yr[Jr]},Qr.rgb.xyz=function(Jr){let rn=Jr[0]/255,an=Jr[1]/255,ln=Jr[2]/255;return rn=rn>.04045?((rn+.055)/1.055)**2.4:rn/12.92,an=an>.04045?((an+.055)/1.055)**2.4:an/12.92,ln=ln>.04045?((ln+.055)/1.055)**2.4:ln/12.92,[100*(.4124*rn+.3576*an+.1805*ln),100*(.2126*rn+.7152*an+.0722*ln),100*(.0193*rn+.1192*an+.9505*ln)]},Qr.rgb.lab=function(Jr){const rn=Qr.rgb.xyz(Jr);let an=rn[0],ln=rn[1],dn=rn[2];return an/=95.047,ln/=100,dn/=108.883,an=an>.008856?an**.3333333333333333:7.787*an+.13793103448275862,ln=ln>.008856?ln**.3333333333333333:7.787*ln+.13793103448275862,dn=dn>.008856?dn**.3333333333333333:7.787*dn+.13793103448275862,[116*ln-16,500*(an-ln),200*(ln-dn)]},Qr.hsl.rgb=function(Jr){const rn=Jr[0]/360,an=Jr[1]/100,ln=Jr[2]/100;let dn,hn,gn;if(an===0)return gn=255*ln,[gn,gn,gn];dn=ln<.5?ln*(1+an):ln+an-ln*an;const bn=2*ln-dn,kn=[0,0,0];for(let Sn=0;Sn<3;Sn++)hn=rn+.3333333333333333*-(Sn-1),hn<0&&hn++,hn>1&&hn--,gn=6*hn<1?bn+6*(dn-bn)*hn:2*hn<1?dn:3*hn<2?bn+(dn-bn)*(.6666666666666666-hn)*6:bn,kn[Sn]=255*gn;return kn},Qr.hsl.hsv=function(Jr){const rn=Jr[0];let an=Jr[1]/100,ln=Jr[2]/100,dn=an;const hn=Math.max(ln,.01);return ln*=2,an*=ln<=1?ln:2-ln,dn*=hn<=1?hn:2-hn,[rn,100*(ln===0?2*dn/(hn+dn):2*an/(ln+an)),100*((ln+an)/2)]},Qr.hsv.rgb=function(Jr){const rn=Jr[0]/60,an=Jr[1]/100;let ln=Jr[2]/100;const dn=Math.floor(rn)%6,hn=rn-Math.floor(rn),gn=255*ln*(1-an),bn=255*ln*(1-an*hn),kn=255*ln*(1-an*(1-hn));switch(ln*=255,dn){case 0:return[ln,kn,gn];case 1:return[bn,ln,gn];case 2:return[gn,ln,kn];case 3:return[gn,bn,ln];case 4:return[kn,gn,ln];case 5:return[ln,gn,bn]}},Qr.hsv.hsl=function(Jr){const rn=Jr[0],an=Jr[1]/100,ln=Jr[2]/100,dn=Math.max(ln,.01);let hn,gn;gn=(2-an)*ln;const bn=(2-an)*dn;return hn=an*dn,hn/=bn<=1?bn:2-bn,hn=hn||0,gn/=2,[rn,100*hn,100*gn]},Qr.hwb.rgb=function(Jr){const rn=Jr[0]/360;let an=Jr[1]/100,ln=Jr[2]/100;const dn=an+ln;let hn;dn>1&&(an/=dn,ln/=dn);const gn=Math.floor(6*rn),bn=1-ln;hn=6*rn-gn,1&gn&&(hn=1-hn);const kn=an+hn*(bn-an);let Sn,_n,pn;switch(gn){default:case 6:case 0:Sn=bn,_n=kn,pn=an;break;case 1:Sn=kn,_n=bn,pn=an;break;case 2:Sn=an,_n=bn,pn=kn;break;case 3:Sn=an,_n=kn,pn=bn;break;case 4:Sn=kn,_n=an,pn=bn;break;case 5:Sn=bn,_n=an,pn=kn}return[255*Sn,255*_n,255*pn]},Qr.cmyk.rgb=function(Jr){const rn=Jr[0]/100,an=Jr[1]/100,ln=Jr[2]/100,dn=Jr[3]/100;return[255*(1-Math.min(1,rn*(1-dn)+dn)),255*(1-Math.min(1,an*(1-dn)+dn)),255*(1-Math.min(1,ln*(1-dn)+dn))]},Qr.xyz.rgb=function(Jr){const rn=Jr[0]/100,an=Jr[1]/100,ln=Jr[2]/100;let dn,hn,gn;return dn=3.2406*rn+-1.5372*an+-.4986*ln,hn=-.9689*rn+1.8758*an+.0415*ln,gn=.0557*rn+-.204*an+1.057*ln,dn=dn>.0031308?1.055*dn**.4166666666666667-.055:12.92*dn,hn=hn>.0031308?1.055*hn**.4166666666666667-.055:12.92*hn,gn=gn>.0031308?1.055*gn**.4166666666666667-.055:12.92*gn,dn=Math.min(Math.max(0,dn),1),hn=Math.min(Math.max(0,hn),1),gn=Math.min(Math.max(0,gn),1),[255*dn,255*hn,255*gn]},Qr.xyz.lab=function(Jr){let rn=Jr[0],an=Jr[1],ln=Jr[2];return rn/=95.047,an/=100,ln/=108.883,rn=rn>.008856?rn**.3333333333333333:7.787*rn+.13793103448275862,an=an>.008856?an**.3333333333333333:7.787*an+.13793103448275862,ln=ln>.008856?ln**.3333333333333333:7.787*ln+.13793103448275862,[116*an-16,500*(rn-an),200*(an-ln)]},Qr.lab.xyz=function(Jr){let rn,an,ln;an=(Jr[0]+16)/116,rn=Jr[1]/500+an,ln=an-Jr[2]/200;const dn=an**3,hn=rn**3,gn=ln**3;return an=dn>.008856?dn:(an-.13793103448275862)/7.787,rn=hn>.008856?hn:(rn-.13793103448275862)/7.787,ln=gn>.008856?gn:(ln-.13793103448275862)/7.787,rn*=95.047,an*=100,ln*=108.883,[rn,an,ln]},Qr.lab.lch=function(Jr){const rn=Jr[0],an=Jr[1],ln=Jr[2];let dn;return dn=360*Math.atan2(ln,an)/2/Math.PI,dn<0&&(dn+=360),[rn,Math.sqrt(an*an+ln*ln),dn]},Qr.lch.lab=function(Jr){const rn=Jr[0],an=Jr[1],ln=Jr[2]/360*2*Math.PI;return[rn,an*Math.cos(ln),an*Math.sin(ln)]},Qr.rgb.ansi16=function(Jr,rn=null){const[an,ln,dn]=Jr;let hn=rn===null?Qr.rgb.hsv(Jr)[2]:rn;if(hn=Math.round(hn/50),hn===0)return 30;let gn=30+(Math.round(dn/255)<<2|Math.round(ln/255)<<1|Math.round(an/255));return hn===2&&(gn+=60),gn},Qr.hsv.ansi16=function(Jr){return Qr.rgb.ansi16(Qr.hsv.rgb(Jr),Jr[2])},Qr.rgb.ansi256=function(Jr){const rn=Jr[0],an=Jr[1],ln=Jr[2];return rn===an&&an===ln?rn<8?16:rn>248?231:Math.round((rn-8)/247*24)+232:16+36*Math.round(rn/255*5)+6*Math.round(an/255*5)+Math.round(ln/255*5)},Qr.ansi16.rgb=function(Jr){let rn=Jr%10;if(rn===0||rn===7)return Jr>50&&(rn+=3.5),rn=rn/10.5*255,[rn,rn,rn];const an=.5*(1+~~(Jr>50));return[(1&rn)*an*255,(rn>>1&1)*an*255,(rn>>2&1)*an*255]},Qr.ansi256.rgb=function(Jr){if(Jr>=232){const an=10*(Jr-232)+8;return[an,an,an]}let rn;return Jr-=16,[Math.floor(Jr/36)/5*255,Math.floor((rn=Jr%36)/6)/5*255,rn%6/5*255]},Qr.rgb.hex=function(Jr){const rn=(((255&Math.round(Jr[0]))<<16)+((255&Math.round(Jr[1]))<<8)+(255&Math.round(Jr[2]))).toString(16).toUpperCase();return"000000".substring(rn.length)+rn},Qr.hex.rgb=function(Jr){const rn=Jr.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!rn)return[0,0,0];let an=rn[0];rn[0].length===3&&(an=an.split("").map(dn=>dn+dn).join(""));const ln=parseInt(an,16);return[ln>>16&255,ln>>8&255,255&ln]},Qr.rgb.hcg=function(Jr){const rn=Jr[0]/255,an=Jr[1]/255,ln=Jr[2]/255,dn=Math.max(Math.max(rn,an),ln),hn=Math.min(Math.min(rn,an),ln),gn=dn-hn;let bn,kn;return bn=gn<1?hn/(1-gn):0,kn=gn<=0?0:dn===rn?(an-ln)/gn%6:dn===an?2+(ln-rn)/gn:4+(rn-an)/gn,kn/=6,kn%=1,[360*kn,100*gn,100*bn]},Qr.hsl.hcg=function(Jr){const rn=Jr[1]/100,an=Jr[2]/100,ln=an<.5?2*rn*an:2*rn*(1-an);let dn=0;return ln<1&&(dn=(an-.5*ln)/(1-ln)),[Jr[0],100*ln,100*dn]},Qr.hsv.hcg=function(Jr){const rn=Jr[1]/100,an=Jr[2]/100,ln=rn*an;let dn=0;return ln<1&&(dn=(an-ln)/(1-ln)),[Jr[0],100*ln,100*dn]},Qr.hcg.rgb=function(Jr){const rn=Jr[0]/360,an=Jr[1]/100,ln=Jr[2]/100;if(an===0)return[255*ln,255*ln,255*ln];const dn=[0,0,0],hn=rn%1*6,gn=hn%1,bn=1-gn;let kn=0;switch(Math.floor(hn)){case 0:dn[0]=1,dn[1]=gn,dn[2]=0;break;case 1:dn[0]=bn,dn[1]=1,dn[2]=0;break;case 2:dn[0]=0,dn[1]=1,dn[2]=gn;break;case 3:dn[0]=0,dn[1]=bn,dn[2]=1;break;case 4:dn[0]=gn,dn[1]=0,dn[2]=1;break;default:dn[0]=1,dn[1]=0,dn[2]=bn}return kn=(1-an)*ln,[255*(an*dn[0]+kn),255*(an*dn[1]+kn),255*(an*dn[2]+kn)]},Qr.hcg.hsv=function(Jr){const rn=Jr[1]/100,an=rn+Jr[2]/100*(1-rn);let ln=0;return an>0&&(ln=rn/an),[Jr[0],100*ln,100*an]},Qr.hcg.hsl=function(Jr){const rn=Jr[1]/100,an=Jr[2]/100*(1-rn)+.5*rn;let ln=0;return an>0&&an<.5?ln=rn/(2*an):an>=.5&&an<1&&(ln=rn/(2*(1-an))),[Jr[0],100*ln,100*an]},Qr.hcg.hwb=function(Jr){const rn=Jr[1]/100,an=rn+Jr[2]/100*(1-rn);return[Jr[0],100*(an-rn),100*(1-an)]},Qr.hwb.hcg=function(Jr){const rn=Jr[1]/100,an=1-Jr[2]/100,ln=an-rn;let dn=0;return ln<1&&(dn=(an-ln)/(1-ln)),[Jr[0],100*ln,100*dn]},Qr.apple.rgb=function(Jr){return[Jr[0]/65535*255,Jr[1]/65535*255,Jr[2]/65535*255]},Qr.rgb.apple=function(Jr){return[Jr[0]/255*65535,Jr[1]/255*65535,Jr[2]/255*65535]},Qr.gray.rgb=function(Jr){return[Jr[0]/100*255,Jr[0]/100*255,Jr[0]/100*255]},Qr.gray.hsl=function(Jr){return[0,0,Jr[0]]},Qr.gray.hsv=Qr.gray.hsl,Qr.gray.hwb=function(Jr){return[0,100,Jr[0]]},Qr.gray.cmyk=function(Jr){return[0,0,0,Jr[0]]},Qr.gray.lab=function(Jr){return[Jr[0],0,0]},Qr.gray.hex=function(Jr){const rn=255&Math.round(Jr[0]/100*255),an=((rn<<16)+(rn<<8)+rn).toString(16).toUpperCase();return"000000".substring(an.length)+an},Qr.rgb.gray=function(Jr){return[(Jr[0]+Jr[1]+Jr[2])/3/255*100]}},841:(jr,Ur,Gr)=>{const Yr=Gr(4959),Kr=Gr(9325),Qr={};Object.keys(Yr).forEach(Jr=>{Qr[Jr]={},Object.defineProperty(Qr[Jr],"channels",{value:Yr[Jr].channels}),Object.defineProperty(Qr[Jr],"labels",{value:Yr[Jr].labels});const rn=Kr(Jr);Object.keys(rn).forEach(an=>{const ln=rn[an];Qr[Jr][an]=function(dn){const hn=function(...gn){const bn=gn[0];if(bn==null)return bn;bn.length>1&&(gn=bn);const kn=dn(gn);if(typeof kn=="object")for(let Sn=kn.length,_n=0;_n<Sn;_n++)kn[_n]=Math.round(kn[_n]);return kn};return"conversion"in dn&&(hn.conversion=dn.conversion),hn}(ln),Qr[Jr][an].raw=function(dn){const hn=function(...gn){const bn=gn[0];return bn==null?bn:(bn.length>1&&(gn=bn),dn(gn))};return"conversion"in dn&&(hn.conversion=dn.conversion),hn}(ln)})}),jr.exports=Qr},9325:(jr,Ur,Gr)=>{const Yr=Gr(4959);function Kr(rn){const an=function(){const dn={},hn=Object.keys(Yr);for(let gn=hn.length,bn=0;bn<gn;bn++)dn[hn[bn]]={distance:-1,parent:null};return dn}(),ln=[rn];for(an[rn].distance=0;ln.length;){const dn=ln.pop(),hn=Object.keys(Yr[dn]);for(let gn=hn.length,bn=0;bn<gn;bn++){const kn=hn[bn],Sn=an[kn];Sn.distance===-1&&(Sn.distance=an[dn].distance+1,Sn.parent=dn,ln.unshift(kn))}}return an}function Qr(rn,an){return function(ln){return an(rn(ln))}}function Jr(rn,an){const ln=[an[rn].parent,rn];let dn=Yr[an[rn].parent][rn],hn=an[rn].parent;for(;an[hn].parent;)ln.unshift(an[hn].parent),dn=Qr(Yr[an[hn].parent][hn],dn),hn=an[hn].parent;return dn.conversion=ln,dn}jr.exports=function(rn){const an=Kr(rn),ln={},dn=Object.keys(an);for(let hn=dn.length,gn=0;gn<hn;gn++){const bn=dn[gn];an[bn].parent!==null&&(ln[bn]=Jr(bn,an))}return ln}},1103:jr=>{jr.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const rn=Jr},3062:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const rn=Jr},903:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const rn=Jr},3143:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},4717:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const rn=Jr},9315:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const rn=Jr},8733:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const rn=Jr},3508:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},2640:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const rn=Jr},3535:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const rn=Jr},1568:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},6270:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const rn=Jr},5083:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},4036:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const rn=Jr},3773:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const rn=Jr},3689:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const rn=Jr},1905:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},9773:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const rn=Jr},2347:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},7754:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},111:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const rn=Jr},4721:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},5730:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const rn=Jr},4564:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},6082:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},2417:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},1199:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const rn=Jr},4652:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const rn=Jr},7442:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readâonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},9292:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},7368:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},4070:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},9247:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},1613:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const rn=Jr},6306:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const rn=Jr},2128:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-color-table-caption-background:#f7f7f7;--ck-color-table-caption-text:#333;--ck-color-table-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-table-caption-background);caption-side:top;color:var(--ck-color-table-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-table-caption-highlighted-background)}to{background-color:var(--ck-color-table-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAMC,yDAA0D,CAJ1D,gBAAiB,CAGjB,wCAAyC,CAJzC,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-caption-background: hsl(0, 0%, 97%);
	--ck-color-table-caption-text: hsl(0, 0%, 20%);
	--ck-color-table-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-table-caption-text);
	background-color: var(--ck-color-table-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-table-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-table-caption-background);
	}
}
`],sourceRoot:""}]);const rn=Jr},5087:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},4101:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,iEAAkE,CAClE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,2DAA4D,CAC5D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-table-column-resizer-hover);
	opacity: 0.25;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const rn=Jr},3881:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},6237:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},7341:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},6945:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},4906:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const rn=Jr},5332:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingâpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const rn=Jr},6781:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const rn=Jr},3398:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAMD,CAJC,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const rn=Jr},5485:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},3949:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},7686:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},7339:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const rn=Jr},9688:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const rn=Jr},8847:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const rn=Jr},6574:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},4879:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const rn=Jr},3662:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const rn=Jr},2577:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},1046:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},8793:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const rn=Jr},4650:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const rn=Jr},7676:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const rn=Jr},5868:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const rn=Jr},6764:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const rn=Jr},9695:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const rn=Jr},5542:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const rn=Jr},3332:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const rn=Jr},4793:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const rn=Jr},3488:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const rn=Jr},8506:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const rn=Jr},4921:(jr,Ur,Gr)=>{Gr.d(Ur,{Z:()=>rn});var Yr=Gr(1799),Kr=Gr.n(Yr),Qr=Gr(2609),Jr=Gr.n(Qr)()(Kr());Jr.push([jr.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const rn=Jr},2609:jr=>{jr.exports=function(Ur){var Gr=[];return Gr.toString=function(){return this.map(function(Yr){var Kr=Ur(Yr);return Yr[2]?"@media ".concat(Yr[2]," {").concat(Kr,"}"):Kr}).join("")},Gr.i=function(Yr,Kr,Qr){typeof Yr=="string"&&(Yr=[[null,Yr,""]]);var Jr={};if(Qr)for(var rn=0;rn<this.length;rn++){var an=this[rn][0];an!=null&&(Jr[an]=!0)}for(var ln=0;ln<Yr.length;ln++){var dn=[].concat(Yr[ln]);Qr&&Jr[dn[0]]||(Kr&&(dn[2]?dn[2]="".concat(Kr," and ").concat(dn[2]):dn[2]=Kr),Gr.push(dn))}},Gr}},1799:jr=>{function Ur(Yr,Kr){return function(Qr){if(Array.isArray(Qr))return Qr}(Yr)||function(Qr,Jr){var rn=Qr&&(typeof Symbol<"u"&&Qr[Symbol.iterator]||Qr["@@iterator"]);if(rn!=null){var an,ln,dn=[],hn=!0,gn=!1;try{for(rn=rn.call(Qr);!(hn=(an=rn.next()).done)&&(dn.push(an.value),!Jr||dn.length!==Jr);hn=!0);}catch(bn){gn=!0,ln=bn}finally{try{hn||rn.return==null||rn.return()}finally{if(gn)throw ln}}return dn}}(Yr,Kr)||function(Qr,Jr){if(Qr){if(typeof Qr=="string")return Gr(Qr,Jr);var rn=Object.prototype.toString.call(Qr).slice(8,-1);if(rn==="Object"&&Qr.constructor&&(rn=Qr.constructor.name),rn==="Map"||rn==="Set")return Array.from(Qr);if(rn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rn))return Gr(Qr,Jr)}}(Yr,Kr)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gr(Yr,Kr){(Kr==null||Kr>Yr.length)&&(Kr=Yr.length);for(var Qr=0,Jr=new Array(Kr);Qr<Kr;Qr++)Jr[Qr]=Yr[Qr];return Jr}jr.exports=function(Yr){var Kr=Ur(Yr,4),Qr=Kr[1],Jr=Kr[3];if(!Jr)return Qr;if(typeof btoa=="function"){var rn=btoa(unescape(encodeURIComponent(JSON.stringify(Jr)))),an="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(rn),ln="/*# ".concat(an," */"),dn=Jr.sources.map(function(hn){return"/*# sourceURL=".concat(Jr.sourceRoot||"").concat(hn," */")});return[Qr].concat(dn).concat([ln]).join(`
`)}return[Qr].join(`
`)}},6062:(jr,Ur,Gr)=>{var Yr,Kr=function(){return Yr===void 0&&(Yr=!!(window&&document&&document.all&&!window.atob)),Yr},Qr=function(){var pn={};return function(Cn){if(pn[Cn]===void 0){var En=document.querySelector(Cn);if(window.HTMLIFrameElement&&En instanceof window.HTMLIFrameElement)try{En=En.contentDocument.head}catch{En=null}pn[Cn]=En}return pn[Cn]}}(),Jr=[];function rn(pn){for(var Cn=-1,En=0;En<Jr.length;En++)if(Jr[En].identifier===pn){Cn=En;break}return Cn}function an(pn,Cn){for(var En={},Pn=[],On=0;On<pn.length;On++){var jn=pn[On],Fn=Cn.base?jn[0]+Cn.base:jn[0],Wn=En[Fn]||0,Hn="".concat(Fn," ").concat(Wn);En[Fn]=Wn+1;var qn=rn(Hn),ni={css:jn[1],media:jn[2],sourceMap:jn[3]};qn!==-1?(Jr[qn].references++,Jr[qn].updater(ni)):Jr.push({identifier:Hn,updater:_n(ni,Cn),references:1}),Pn.push(Hn)}return Pn}function ln(pn){var Cn=document.createElement("style"),En=pn.attributes||{};if(En.nonce===void 0){var Pn=Gr.nc;Pn&&(En.nonce=Pn)}if(Object.keys(En).forEach(function(jn){Cn.setAttribute(jn,En[jn])}),typeof pn.insert=="function")pn.insert(Cn);else{var On=Qr(pn.insert||"head");if(!On)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");On.appendChild(Cn)}return Cn}var dn,hn=(dn=[],function(pn,Cn){return dn[pn]=Cn,dn.filter(Boolean).join(`
`)});function gn(pn,Cn,En,Pn){var On=En?"":Pn.media?"@media ".concat(Pn.media," {").concat(Pn.css,"}"):Pn.css;if(pn.styleSheet)pn.styleSheet.cssText=hn(Cn,On);else{var jn=document.createTextNode(On),Fn=pn.childNodes;Fn[Cn]&&pn.removeChild(Fn[Cn]),Fn.length?pn.insertBefore(jn,Fn[Cn]):pn.appendChild(jn)}}function bn(pn,Cn,En){var Pn=En.css,On=En.media,jn=En.sourceMap;if(On?pn.setAttribute("media",On):pn.removeAttribute("media"),jn&&typeof btoa<"u"&&(Pn+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(jn))))," */")),pn.styleSheet)pn.styleSheet.cssText=Pn;else{for(;pn.firstChild;)pn.removeChild(pn.firstChild);pn.appendChild(document.createTextNode(Pn))}}var kn=null,Sn=0;function _n(pn,Cn){var En,Pn,On;if(Cn.singleton){var jn=Sn++;En=kn||(kn=ln(Cn)),Pn=gn.bind(null,En,jn,!1),On=gn.bind(null,En,jn,!0)}else En=ln(Cn),Pn=bn.bind(null,En,Cn),On=function(){(function(Fn){if(Fn.parentNode===null)return!1;Fn.parentNode.removeChild(Fn)})(En)};return Pn(pn),function(Fn){if(Fn){if(Fn.css===pn.css&&Fn.media===pn.media&&Fn.sourceMap===pn.sourceMap)return;Pn(pn=Fn)}else On()}}jr.exports=function(pn,Cn){(Cn=Cn||{}).singleton||typeof Cn.singleton=="boolean"||(Cn.singleton=Kr());var En=an(pn=pn||[],Cn);return function(Pn){if(Pn=Pn||[],Object.prototype.toString.call(Pn)==="[object Array]"){for(var On=0;On<En.length;On++){var jn=rn(En[On]);Jr[jn].references--}for(var Fn=an(Pn,Cn),Wn=0;Wn<En.length;Wn++){var Hn=rn(En[Wn]);Jr[Hn].references===0&&(Jr[Hn].updater(),Jr.splice(Hn,1))}En=Fn}}}}},Br={};function Fr(jr){var Ur=Br[jr];if(Ur!==void 0)return Ur.exports;var Gr=Br[jr]={id:jr,exports:{}};return $r[jr](Gr,Gr.exports,Fr),Gr.exports}Fr.n=jr=>{var Ur=jr&&jr.__esModule?()=>jr.default:()=>jr;return Fr.d(Ur,{a:Ur}),Ur},Fr.d=(jr,Ur)=>{for(var Gr in Ur)Fr.o(Ur,Gr)&&!Fr.o(jr,Gr)&&Object.defineProperty(jr,Gr,{enumerable:!0,get:Ur[Gr]})},Fr.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Fr.o=(jr,Ur)=>Object.prototype.hasOwnProperty.call(jr,Ur),Fr.nc=void 0;var zr={};return(()=>{function jr({emitter:en,activator:Vr,callback:Wr,contextElements:Zr}){en.listenTo(document,"mousedown",(tn,sn)=>{if(!Vr())return;const un=typeof sn.composedPath=="function"?sn.composedPath():[],fn=typeof Zr=="function"?Zr():Zr;for(const yn of fn)if(yn.contains(sn.target)||un.includes(yn))return;Wr()})}function Ur(en){return class extends en{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...Vr){super(...Vr),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Gr({view:en}){en.listenTo(en.element,"submit",(Vr,Wr)=>{Wr.preventDefault(),en.fire("submit")},{useCapture:!0})}Fr.d(zr,{default:()=>jm});const Yr=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var Kr;const Qr={isMac:Jr(Yr),isWindows:(Kr=Yr,Kr.indexOf("windows")>-1),isGecko:function(en){return!!en.match(/gecko\/\d+/)}(Yr),isSafari:function(en){return en.indexOf(" applewebkit/")>-1&&en.indexOf("chrome")===-1}(Yr),isiOS:function(en){return!!en.match(/iphone|ipad/i)||Jr(en)&&navigator.maxTouchPoints>0}(Yr),isAndroid:function(en){return en.indexOf("android")>-1}(Yr),isBlink:function(en){return en.indexOf("chrome/")>-1&&en.indexOf("edge/")<0}(Yr),features:{isRegExpUnicodePropertySupported:function(){let en=!1;try{en="Ä".search(new RegExp("[\\p{L}]","u"))===0}catch{}return en}()}};function Jr(en){return en.indexOf("macintosh")>-1}function rn(en,Vr,Wr,Zr){Wr=Wr||function(yn,xn){return yn===xn};const tn=Array.isArray(en)?en:Array.prototype.slice.call(en),sn=Array.isArray(Vr)?Vr:Array.prototype.slice.call(Vr),un=function(yn,xn,Dn){const Mn=an(yn,xn,Dn);if(Mn===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const Rn=ln(yn,Mn),Un=ln(xn,Mn),Kn=an(Rn,Un,Dn),ti=yn.length-Kn,si=xn.length-Kn;return{firstIndex:Mn,lastIndexOld:ti,lastIndexNew:si}}(tn,sn,Wr);return Zr?function(yn,xn){const{firstIndex:Dn,lastIndexOld:Mn,lastIndexNew:Rn}=yn;if(Dn===-1)return Array(xn).fill("equal");let Un=[];return Dn>0&&(Un=Un.concat(Array(Dn).fill("equal"))),Rn-Dn>0&&(Un=Un.concat(Array(Rn-Dn).fill("insert"))),Mn-Dn>0&&(Un=Un.concat(Array(Mn-Dn).fill("delete"))),Rn<xn&&(Un=Un.concat(Array(xn-Rn).fill("equal"))),Un}(un,sn.length):function(yn,xn){const Dn=[],{firstIndex:Mn,lastIndexOld:Rn,lastIndexNew:Un}=xn;return Un-Mn>0&&Dn.push({index:Mn,type:"insert",values:yn.slice(Mn,Un)}),Rn-Mn>0&&Dn.push({index:Mn+(Un-Mn),type:"delete",howMany:Rn-Mn}),Dn}(sn,un)}function an(en,Vr,Wr){for(let Zr=0;Zr<Math.max(en.length,Vr.length);Zr++)if(en[Zr]===void 0||Vr[Zr]===void 0||!Wr(en[Zr],Vr[Zr]))return Zr;return-1}function ln(en,Vr){return en.slice(Vr).reverse()}function dn(en,Vr,Wr){Wr=Wr||function(ti,si){return ti===si};const Zr=en.length,tn=Vr.length;if(Zr>200||tn>200||Zr+tn>300)return dn.fastDiff(en,Vr,Wr,!0);let sn,un;if(tn<Zr){const ti=en;en=Vr,Vr=ti,sn="delete",un="insert"}else sn="insert",un="delete";const fn=en.length,yn=Vr.length,xn=yn-fn,Dn={},Mn={};function Rn(ti){const si=(Mn[ti-1]!==void 0?Mn[ti-1]:-1)+1,fi=Mn[ti+1]!==void 0?Mn[ti+1]:-1,Li=si>fi?-1:1;Dn[ti+Li]&&(Dn[ti]=Dn[ti+Li].slice(0)),Dn[ti]||(Dn[ti]=[]),Dn[ti].push(si>fi?sn:un);let eo=Math.max(si,fi),Fo=eo-ti;for(;Fo<fn&&eo<yn&&Wr(en[Fo],Vr[eo]);)Fo++,eo++,Dn[ti].push("equal");return eo}let Un,Kn=0;do{for(Un=-Kn;Un<xn;Un++)Mn[Un]=Rn(Un);for(Un=xn+Kn;Un>xn;Un--)Mn[Un]=Rn(Un);Mn[xn]=Rn(xn),Kn++}while(Mn[xn]!==yn);return Dn[xn].slice(1)}dn.fastDiff=rn;const hn=function(){return function en(){en.called=!0}};class gn{constructor(Vr,Wr){this.source=Vr,this.name=Wr,this.path=[],this.stop=hn(),this.off=hn()}}const bn=new Array(256).fill("").map((en,Vr)=>("0"+Vr.toString(16)).slice(-2));function kn(){const en=4294967296*Math.random()>>>0,Vr=4294967296*Math.random()>>>0,Wr=4294967296*Math.random()>>>0,Zr=4294967296*Math.random()>>>0;return"e"+bn[en>>0&255]+bn[en>>8&255]+bn[en>>16&255]+bn[en>>24&255]+bn[Vr>>0&255]+bn[Vr>>8&255]+bn[Vr>>16&255]+bn[Vr>>24&255]+bn[Wr>>0&255]+bn[Wr>>8&255]+bn[Wr>>16&255]+bn[Wr>>24&255]+bn[Zr>>0&255]+bn[Zr>>8&255]+bn[Zr>>16&255]+bn[Zr>>24&255]}const Sn={get(en="normal"){return typeof en!="number"?this[en]||this.normal:en},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function _n(en,Vr){const Wr=Sn.get(Vr.priority);for(let Zr=0;Zr<en.length;Zr++)if(Sn.get(en[Zr].priority)<Wr)return void en.splice(Zr,0,Vr);en.push(Vr)}const pn="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class Cn extends Error{constructor(Vr,Wr,Zr){super(function(tn,sn){const un=new WeakSet,fn=(Dn,Mn)=>{if(typeof Mn=="object"&&Mn!==null){if(un.has(Mn))return`[object ${Mn.constructor.name}]`;un.add(Mn)}return Mn},yn=sn?` ${JSON.stringify(sn,fn)}`:"",xn=On(tn);return tn+yn+xn}(Vr,Zr)),this.name="CKEditorError",this.context=Wr,this.data=Zr}is(Vr){return Vr==="CKEditorError"}static rethrowUnexpectedError(Vr,Wr){if(Vr.is&&Vr.is("CKEditorError"))throw Vr;const Zr=new Cn(Vr.message,Wr);throw Zr.stack=Vr.stack,Zr}}function En(en,Vr){console.warn(...jn(en,Vr))}function Pn(en,Vr){console.error(...jn(en,Vr))}function On(en){return`
Read more: ${pn}#error-${en}`}function jn(en,Vr){const Wr=On(en);return Vr?[en,Vr,Wr]:[en,Wr]}const Fn="38.1.1",Wn=new Date(2023,6,11),Hn=typeof window=="object"?window:Fr.g;if(Hn.CKEDITOR_VERSION)throw new Cn("ckeditor-duplicated-modules",null);Hn.CKEDITOR_VERSION=Fn;const qn=Symbol("listeningTo"),ni=Symbol("emitterId"),oi=Symbol("delegations"),wi=Ci(Object);function Ci(en){return en?class extends en{on(Vr,Wr,Zr){this.listenTo(this,Vr,Wr,Zr)}once(Vr,Wr,Zr){let tn=!1;this.listenTo(this,Vr,(sn,...un)=>{tn||(tn=!0,sn.off(),Wr.call(this,sn,...un))},Zr)}off(Vr,Wr){this.stopListening(this,Vr,Wr)}listenTo(Vr,Wr,Zr,tn={}){let sn,un;this[qn]||(this[qn]={});const fn=this[qn];Zn(Vr)||Fi(Vr);const yn=Zn(Vr);(sn=fn[yn])||(sn=fn[yn]={emitter:Vr,callbacks:{}}),(un=sn.callbacks[Wr])||(un=sn.callbacks[Wr]=[]),un.push(Zr),function(xn,Dn,Mn,Rn,Un){Dn._addEventListener?Dn._addEventListener(Mn,Rn,Un):xn._addEventListener.call(Dn,Mn,Rn,Un)}(this,Vr,Wr,Zr,tn)}stopListening(Vr,Wr,Zr){const tn=this[qn];let sn=Vr&&Zn(Vr);const un=tn&&sn?tn[sn]:void 0,fn=un&&Wr?un.callbacks[Wr]:void 0;if(!(!tn||Vr&&!un||Wr&&!fn))if(Zr)Vi(this,Vr,Wr,Zr),fn.indexOf(Zr)!==-1&&(fn.length===1?delete un.callbacks[Wr]:Vi(this,Vr,Wr,Zr));else if(fn){for(;Zr=fn.pop();)Vi(this,Vr,Wr,Zr);delete un.callbacks[Wr]}else if(un){for(Wr in un.callbacks)this.stopListening(Vr,Wr);delete tn[sn]}else{for(sn in tn)this.stopListening(tn[sn].emitter);delete this[qn]}}fire(Vr,...Wr){try{const Zr=Vr instanceof gn?Vr:new gn(this,Vr),tn=Zr.name;let sn=Ni(this,tn);if(Zr.path.push(this),sn){const fn=[Zr,...Wr];sn=Array.from(sn);for(let yn=0;yn<sn.length&&(sn[yn].callback.apply(this,fn),Zr.off.called&&(delete Zr.off.called,this._removeEventListener(tn,sn[yn].callback)),!Zr.stop.called);yn++);}const un=this[oi];if(un){const fn=un.get(tn),yn=un.get("*");fn&&$i(fn,Zr,Wr),yn&&$i(yn,Zr,Wr)}return Zr.return}catch(Zr){Cn.rethrowUnexpectedError(Zr,this)}}delegate(...Vr){return{to:(Wr,Zr)=>{this[oi]||(this[oi]=new Map),Vr.forEach(tn=>{const sn=this[oi].get(tn);sn?sn.set(Wr,Zr):this[oi].set(tn,new Map([[Wr,Zr]]))})}}}stopDelegating(Vr,Wr){if(this[oi])if(Vr)if(Wr){const Zr=this[oi].get(Vr);Zr&&Zr.delete(Wr)}else this[oi].delete(Vr);else this[oi].clear()}_addEventListener(Vr,Wr,Zr){(function(un,fn){const yn=Gn(un);if(yn[fn])return;let xn=fn,Dn=null;const Mn=[];for(;xn!==""&&!yn[xn];)yn[xn]={callbacks:[],childEvents:[]},Mn.push(yn[xn]),Dn&&yn[xn].childEvents.push(Dn),Dn=xn,xn=xn.substr(0,xn.lastIndexOf(":"));if(xn!==""){for(const Rn of Mn)Rn.callbacks=yn[xn].callbacks.slice();yn[xn].childEvents.push(Dn)}})(this,Vr);const tn=ui(this,Vr),sn={callback:Wr,priority:Sn.get(Zr.priority)};for(const un of tn)_n(un,sn)}_removeEventListener(Vr,Wr){const Zr=ui(this,Vr);for(const tn of Zr)for(let sn=0;sn<tn.length;sn++)tn[sn].callback==Wr&&(tn.splice(sn,1),sn--)}}:wi}function Fi(en,Vr){en[ni]||(en[ni]=Vr||kn())}function Zn(en){return en[ni]}function Gn(en){return en._events||Object.defineProperty(en,"_events",{value:{}}),en._events}function ui(en,Vr){const Wr=Gn(en)[Vr];if(!Wr)return[];let Zr=[Wr.callbacks];for(let tn=0;tn<Wr.childEvents.length;tn++){const sn=ui(en,Wr.childEvents[tn]);Zr=Zr.concat(sn)}return Zr}function Ni(en,Vr){let Wr;return en._events&&(Wr=en._events[Vr])&&Wr.callbacks.length?Wr.callbacks:Vr.indexOf(":")>-1?Ni(en,Vr.substr(0,Vr.lastIndexOf(":"))):null}function $i(en,Vr,Wr){for(let[Zr,tn]of en){tn?typeof tn=="function"&&(tn=tn(Vr.name)):tn=Vr.name;const sn=new gn(Vr.source,tn);sn.path=[...Vr.path],Zr.fire(sn,...Wr)}}function Vi(en,Vr,Wr,Zr){Vr._removeEventListener?Vr._removeEventListener(Wr,Zr):en._removeEventListener.call(Vr,Wr,Zr)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(en=>{Ci[en]=wi.prototype[en]});const ji=function(en){var Vr=typeof en;return en!=null&&(Vr=="object"||Vr=="function")},lo=Symbol("observableProperties"),ho=Symbol("boundObservables"),so=Symbol("boundProperties"),Ki=Symbol("decoratedMethods"),Ho=Symbol("decoratedOriginal"),Io=Ji(Ci());function Ji(en){return en?class extends en{set(Vr,Wr){if(ji(Vr))return void Object.keys(Vr).forEach(tn=>{this.set(tn,Vr[tn])},this);Yo(this);const Zr=this[lo];if(Vr in this&&!Zr.has(Vr))throw new Cn("observable-set-cannot-override",this);Object.defineProperty(this,Vr,{enumerable:!0,configurable:!0,get:()=>Zr.get(Vr),set(tn){const sn=Zr.get(Vr);let un=this.fire(`set:${Vr}`,Vr,tn,sn);un===void 0&&(un=tn),sn===un&&Zr.has(Vr)||(Zr.set(Vr,un),this.fire(`change:${Vr}`,Vr,un,sn))}}),this[Vr]=Wr}bind(...Vr){if(!Vr.length||!ka(Vr))throw new Cn("observable-bind-wrong-properties",this);if(new Set(Vr).size!==Vr.length)throw new Cn("observable-bind-duplicate-properties",this);Yo(this);const Wr=this[so];Vr.forEach(tn=>{if(Wr.has(tn))throw new Cn("observable-bind-rebind",this)});const Zr=new Map;return Vr.forEach(tn=>{const sn={property:tn,to:[]};Wr.set(tn,sn),Zr.set(tn,sn)}),{to:qo,toMany:xo,_observable:this,_bindProperties:Vr,_to:[],_bindings:Zr}}unbind(...Vr){if(!this[lo])return;const Wr=this[so],Zr=this[ho];if(Vr.length){if(!ka(Vr))throw new Cn("observable-unbind-wrong-properties",this);Vr.forEach(tn=>{const sn=Wr.get(tn);sn&&(sn.to.forEach(([un,fn])=>{const yn=Zr.get(un),xn=yn[fn];xn.delete(sn),xn.size||delete yn[fn],Object.keys(yn).length||(Zr.delete(un),this.stopListening(un,"change"))}),Wr.delete(tn))})}else Zr.forEach((tn,sn)=>{this.stopListening(sn,"change")}),Zr.clear(),Wr.clear()}decorate(Vr){Yo(this);const Wr=this[Vr];if(!Wr)throw new Cn("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:Vr});this.on(Vr,(Zr,tn)=>{Zr.return=Wr.apply(this,tn)}),this[Vr]=function(...Zr){return this.fire(Vr,Zr)},this[Vr][Ho]=Wr,this[Ki]||(this[Ki]=[]),this[Ki].push(Vr)}stopListening(Vr,Wr,Zr){if(!Vr&&this[Ki]){for(const tn of this[Ki])this[tn]=this[tn][Ho];delete this[Ki]}super.stopListening(Vr,Wr,Zr)}}:Io}function Yo(en){en[lo]||(Object.defineProperty(en,lo,{value:new Map}),Object.defineProperty(en,ho,{value:new Map}),Object.defineProperty(en,so,{value:new Map}))}function qo(...en){const Vr=function(...sn){if(!sn.length)throw new Cn("observable-bind-to-parse-error",null);const un={to:[]};let fn;return typeof sn[sn.length-1]=="function"&&(un.callback=sn.pop()),sn.forEach(yn=>{if(typeof yn=="string")fn.properties.push(yn);else{if(typeof yn!="object")throw new Cn("observable-bind-to-parse-error",null);fn={observable:yn,properties:[]},un.to.push(fn)}}),un}(...en),Wr=Array.from(this._bindings.keys()),Zr=Wr.length;if(!Vr.callback&&Vr.to.length>1)throw new Cn("observable-bind-to-no-callback",this);if(Zr>1&&Vr.callback)throw new Cn("observable-bind-to-extra-callback",this);var tn;Vr.to.forEach(sn=>{if(sn.properties.length&&sn.properties.length!==Zr)throw new Cn("observable-bind-to-properties-length",this);sn.properties.length||(sn.properties=this._bindProperties)}),this._to=Vr.to,Vr.callback&&(this._bindings.get(Wr[0]).callback=Vr.callback),tn=this._observable,this._to.forEach(sn=>{const un=tn[ho];let fn;un.get(sn.observable)||tn.listenTo(sn.observable,"change",(yn,xn)=>{fn=un.get(sn.observable)[xn],fn&&fn.forEach(Dn=>{Ua(tn,Dn.property)})})}),function(sn){let un;sn._bindings.forEach((fn,yn)=>{sn._to.forEach(xn=>{un=xn.properties[fn.callback?0:sn._bindProperties.indexOf(yn)],fn.to.push([xn.observable,un]),function(Dn,Mn,Rn,Un){const Kn=Dn[ho],ti=Kn.get(Rn),si=ti||{};si[Un]||(si[Un]=new Set),si[Un].add(Mn),ti||Kn.set(Rn,si)}(sn._observable,fn,xn.observable,un)})})}(this),this._bindProperties.forEach(sn=>{Ua(this._observable,sn)})}function xo(en,Vr,Wr){if(this._bindings.size>1)throw new Cn("observable-bind-to-many-not-one-binding",this);this.to(...function(Zr,tn){const sn=Zr.map(un=>[un,tn]);return Array.prototype.concat.apply([],sn)}(en,Vr),Wr)}function ka(en){return en.every(Vr=>typeof Vr=="string")}function Ua(en,Vr){const Wr=en[so].get(Vr);let Zr;Wr.callback?Zr=Wr.callback.apply(en,Wr.to.map(tn=>tn[0][tn[1]])):(Zr=Wr.to[0],Zr=Zr[0][Zr[1]]),Object.prototype.hasOwnProperty.call(en,Vr)?en[Vr]=Zr:en.set(Vr,Zr)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(en=>{Ji[en]=Io.prototype[en]});class $a{constructor(){this._replacedElements=[]}replace(Vr,Wr){this._replacedElements.push({element:Vr,newElement:Wr}),Vr.style.display="none",Wr&&Vr.parentNode.insertBefore(Wr,Vr.nextSibling)}restore(){this._replacedElements.forEach(({element:Vr,newElement:Wr})=>{Vr.style.display="",Wr&&Wr.remove()}),this._replacedElements=[]}}function Ya(en){let Vr=0;for(const Wr of en)Vr++;return Vr}function Aa(en,Vr){const Wr=Math.min(en.length,Vr.length);for(let Zr=0;Zr<Wr;Zr++)if(en[Zr]!=Vr[Zr])return Zr;return en.length==Vr.length?"same":en.length<Vr.length?"prefix":"extension"}function Ei(en){return!(!en||!en[Symbol.iterator])}const hi=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;var Ai=typeof self=="object"&&self&&self.Object===Object&&self;const ri=hi||Ai||Function("return this")(),ai=ri.Symbol;var _i=Object.prototype,pi=_i.hasOwnProperty,xi=_i.toString,co=ai?ai.toStringTag:void 0;const go=function(en){var Vr=pi.call(en,co),Wr=en[co];try{en[co]=void 0;var Zr=!0}catch{}var tn=xi.call(en);return Zr&&(Vr?en[co]=Wr:delete en[co]),tn};var uo=Object.prototype.toString;const To=function(en){return uo.call(en)};var Qo=ai?ai.toStringTag:void 0;const Ui=function(en){return en==null?en===void 0?"[object Undefined]":"[object Null]":Qo&&Qo in Object(en)?go(en):To(en)},Lo=Array.isArray,oo=function(en){return en!=null&&typeof en=="object"},na=function(en){return typeof en=="string"||!Lo(en)&&oo(en)&&Ui(en)=="[object String]"};function fa(en,Vr,Wr={},Zr=[]){const tn=Wr&&Wr.xmlns,sn=tn?en.createElementNS(tn,Vr):en.createElement(Vr);for(const un in Wr)sn.setAttribute(un,Wr[un]);!na(Zr)&&Ei(Zr)||(Zr=[Zr]);for(let un of Zr)na(un)&&(un=en.createTextNode(un)),sn.appendChild(un);return sn}const Ms=function(en,Vr){return function(Wr){return en(Vr(Wr))}},aa=Ms(Object.getPrototypeOf,Object);var os=Function.prototype,Na=Object.prototype,As=os.toString,Zs=Na.hasOwnProperty,gl=As.call(Object);const us=function(en){if(!oo(en)||Ui(en)!="[object Object]")return!1;var Vr=aa(en);if(Vr===null)return!0;var Wr=Zs.call(Vr,"constructor")&&Vr.constructor;return typeof Wr=="function"&&Wr instanceof Wr&&As.call(Wr)==gl},jl=function(){this.__data__=[],this.size=0},ml=function(en,Vr){return en===Vr||en!=en&&Vr!=Vr},hs=function(en,Vr){for(var Wr=en.length;Wr--;)if(ml(en[Wr][0],Vr))return Wr;return-1};var Ti=Array.prototype.splice;const Pi=function(en){var Vr=this.__data__,Wr=hs(Vr,en);return!(Wr<0)&&(Wr==Vr.length-1?Vr.pop():Ti.call(Vr,Wr,1),--this.size,!0)},Zi=function(en){var Vr=this.__data__,Wr=hs(Vr,en);return Wr<0?void 0:Vr[Wr][1]},bo=function(en){return hs(this.__data__,en)>-1},Uo=function(en,Vr){var Wr=this.__data__,Zr=hs(Wr,en);return Zr<0?(++this.size,Wr.push([en,Vr])):Wr[Zr][1]=Vr,this};function Do(en){var Vr=-1,Wr=en==null?0:en.length;for(this.clear();++Vr<Wr;){var Zr=en[Vr];this.set(Zr[0],Zr[1])}}Do.prototype.clear=jl,Do.prototype.delete=Pi,Do.prototype.get=Zi,Do.prototype.has=bo,Do.prototype.set=Uo;const ko=Do,La=function(){this.__data__=new ko,this.size=0},sa=function(en){var Vr=this.__data__,Wr=Vr.delete(en);return this.size=Vr.size,Wr},Ro=function(en){return this.__data__.get(en)},ya=function(en){return this.__data__.has(en)},Ha=function(en){if(!ji(en))return!1;var Vr=Ui(en);return Vr=="[object Function]"||Vr=="[object GeneratorFunction]"||Vr=="[object AsyncFunction]"||Vr=="[object Proxy]"},ss=ri["__core-js_shared__"];var Ba=function(){var en=/[^.]+$/.exec(ss&&ss.keys&&ss.keys.IE_PROTO||"");return en?"Symbol(src)_1."+en:""}();const qa=function(en){return!!Ba&&Ba in en};var la=Function.prototype.toString;const Jo=function(en){if(en!=null){try{return la.call(en)}catch{}try{return en+""}catch{}}return""};var ia=/^\[object .+?Constructor\]$/,ea=Function.prototype,$o=Object.prototype,bi=ea.toString,ms=$o.hasOwnProperty,ha=RegExp("^"+bi.call(ms).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Bs=function(en){return!(!ji(en)||qa(en))&&(Ha(en)?ha:ia).test(Jo(en))},Ca=function(en,Vr){return en==null?void 0:en[Vr]},Fs=function(en,Vr){var Wr=Ca(en,Vr);return Bs(Wr)?Wr:void 0},Js=Fs(ri,"Map"),ul=Fs(Object,"create"),ro=function(){this.__data__=ul?ul(null):{},this.size=0},Ko=function(en){var Vr=this.has(en)&&delete this.__data__[en];return this.size-=Vr?1:0,Vr};var fs=Object.prototype.hasOwnProperty;const vl=function(en){var Vr=this.__data__;if(ul){var Wr=Vr[en];return Wr==="__lodash_hash_undefined__"?void 0:Wr}return fs.call(Vr,en)?Vr[en]:void 0};var gi=Object.prototype.hasOwnProperty;const li=function(en){var Vr=this.__data__;return ul?Vr[en]!==void 0:gi.call(Vr,en)},Mi=function(en,Vr){var Wr=this.__data__;return this.size+=this.has(en)?0:1,Wr[en]=ul&&Vr===void 0?"__lodash_hash_undefined__":Vr,this};function Ri(en){var Vr=-1,Wr=en==null?0:en.length;for(this.clear();++Vr<Wr;){var Zr=en[Vr];this.set(Zr[0],Zr[1])}}Ri.prototype.clear=ro,Ri.prototype.delete=Ko,Ri.prototype.get=vl,Ri.prototype.has=li,Ri.prototype.set=Mi;const no=Ri,_o=function(){this.size=0,this.__data__={hash:new no,map:new(Js||ko),string:new no}},Mo=function(en){var Vr=typeof en;return Vr=="string"||Vr=="number"||Vr=="symbol"||Vr=="boolean"?en!=="__proto__":en===null},vo=function(en,Vr){var Wr=en.__data__;return Mo(Vr)?Wr[typeof Vr=="string"?"string":"hash"]:Wr.map},jo=function(en){var Vr=vo(this,en).delete(en);return this.size-=Vr?1:0,Vr},Zo=function(en){return vo(this,en).get(en)},Po=function(en){return vo(this,en).has(en)},xa=function(en,Vr){var Wr=vo(this,en),Zr=Wr.size;return Wr.set(en,Vr),this.size+=Wr.size==Zr?0:1,this};function es(en){var Vr=-1,Wr=en==null?0:en.length;for(this.clear();++Vr<Wr;){var Zr=en[Vr];this.set(Zr[0],Zr[1])}}es.prototype.clear=_o,es.prototype.delete=jo,es.prototype.get=Zo,es.prototype.has=Po,es.prototype.set=xa;const Fa=es,ga=function(en,Vr){var Wr=this.__data__;if(Wr instanceof ko){var Zr=Wr.__data__;if(!Js||Zr.length<199)return Zr.push([en,Vr]),this.size=++Wr.size,this;Wr=this.__data__=new Fa(Zr)}return Wr.set(en,Vr),this.size=Wr.size,this};function Da(en){var Vr=this.__data__=new ko(en);this.size=Vr.size}Da.prototype.clear=La,Da.prototype.delete=sa,Da.prototype.get=Ro,Da.prototype.has=ya,Da.prototype.set=ga;const Ea=Da,Cs=function(en,Vr){for(var Wr=-1,Zr=en==null?0:en.length;++Wr<Zr&&Vr(en[Wr],Wr,en)!==!1;);return en},Ka=function(){try{var en=Fs(Object,"defineProperty");return en({},"",{}),en}catch{}}(),vs=function(en,Vr,Wr){Vr=="__proto__"&&Ka?Ka(en,Vr,{configurable:!0,enumerable:!0,value:Wr,writable:!0}):en[Vr]=Wr};var da=Object.prototype.hasOwnProperty;const Pa=function(en,Vr,Wr){var Zr=en[Vr];da.call(en,Vr)&&ml(Zr,Wr)&&(Wr!==void 0||Vr in en)||vs(en,Vr,Wr)},Ta=function(en,Vr,Wr,Zr){var tn=!Wr;Wr||(Wr={});for(var sn=-1,un=Vr.length;++sn<un;){var fn=Vr[sn],yn=Zr?Zr(Wr[fn],en[fn],fn,Wr,en):void 0;yn===void 0&&(yn=en[fn]),tn?vs(Wr,fn,yn):Pa(Wr,fn,yn)}return Wr},_s=function(en,Vr){for(var Wr=-1,Zr=Array(en);++Wr<en;)Zr[Wr]=Vr(Wr);return Zr},ts=function(en){return oo(en)&&Ui(en)=="[object Arguments]"};var ps=Object.prototype,Is=ps.hasOwnProperty,xs=ps.propertyIsEnumerable;const Cl=ts(function(){return arguments}())?ts:function(en){return oo(en)&&Is.call(en,"callee")&&!xs.call(en,"callee")},ol=function(){return!1};var Ll=_r&&!_r.nodeType&&_r,tc=Ll&&!0&&Fe&&!Fe.nodeType&&Fe,rc=tc&&tc.exports===Ll?ri.Buffer:void 0;const Ys=(rc?rc.isBuffer:void 0)||ol;var Dc=/^(?:0|[1-9]\d*)$/;const yl=function(en,Vr){var Wr=typeof en;return!!(Vr=Vr??9007199254740991)&&(Wr=="number"||Wr!="symbol"&&Dc.test(en))&&en>-1&&en%1==0&&en<Vr},xl=function(en){return typeof en=="number"&&en>-1&&en%1==0&&en<=9007199254740991};var rs={};rs["[object Float32Array]"]=rs["[object Float64Array]"]=rs["[object Int8Array]"]=rs["[object Int16Array]"]=rs["[object Int32Array]"]=rs["[object Uint8Array]"]=rs["[object Uint8ClampedArray]"]=rs["[object Uint16Array]"]=rs["[object Uint32Array]"]=!0,rs["[object Arguments]"]=rs["[object Array]"]=rs["[object ArrayBuffer]"]=rs["[object Boolean]"]=rs["[object DataView]"]=rs["[object Date]"]=rs["[object Error]"]=rs["[object Function]"]=rs["[object Map]"]=rs["[object Number]"]=rs["[object Object]"]=rs["[object RegExp]"]=rs["[object Set]"]=rs["[object String]"]=rs["[object WeakMap]"]=!1;const Wi=function(en){return oo(en)&&xl(en.length)&&!!rs[Ui(en)]},Vo=function(en){return function(Vr){return en(Vr)}};var Xo=_r&&!_r.nodeType&&_r,ca=Xo&&!0&&Fe&&!Fe.nodeType&&Fe,Ma=ca&&ca.exports===Xo&&hi.process;const Za=function(){try{var en=ca&&ca.require&&ca.require("util").types;return en||Ma&&Ma.binding&&Ma.binding("util")}catch{}}();var zs=Za&&Za.isTypedArray;const el=zs?Vo(zs):Wi;var Sl=Object.prototype.hasOwnProperty;const bl=function(en,Vr){var Wr=Lo(en),Zr=!Wr&&Cl(en),tn=!Wr&&!Zr&&Ys(en),sn=!Wr&&!Zr&&!tn&&el(en),un=Wr||Zr||tn||sn,fn=un?_s(en.length,String):[],yn=fn.length;for(var xn in en)!Vr&&!Sl.call(en,xn)||un&&(xn=="length"||tn&&(xn=="offset"||xn=="parent")||sn&&(xn=="buffer"||xn=="byteLength"||xn=="byteOffset")||yl(xn,yn))||fn.push(xn);return fn};var Dl=Object.prototype;const Ul=function(en){var Vr=en&&en.constructor;return en===(typeof Vr=="function"&&Vr.prototype||Dl)},al=Ms(Object.keys,Object);var An=Object.prototype.hasOwnProperty;const Tn=function(en){if(!Ul(en))return al(en);var Vr=[];for(var Wr in Object(en))An.call(en,Wr)&&Wr!="constructor"&&Vr.push(Wr);return Vr},$n=function(en){return en!=null&&xl(en.length)&&!Ha(en)},zn=function(en){return $n(en)?bl(en):Tn(en)},Xn=function(en,Vr){return en&&Ta(Vr,zn(Vr),en)},Qn=function(en){var Vr=[];if(en!=null)for(var Wr in Object(en))Vr.push(Wr);return Vr};var ii=Object.prototype.hasOwnProperty;const ki=function(en){if(!ji(en))return Qn(en);var Vr=Ul(en),Wr=[];for(var Zr in en)(Zr!="constructor"||!Vr&&ii.call(en,Zr))&&Wr.push(Zr);return Wr},yi=function(en){return $n(en)?bl(en,!0):ki(en)},Ii=function(en,Vr){return en&&Ta(Vr,yi(Vr),en)};var qi=_r&&!_r.nodeType&&_r,io=qi&&!0&&Fe&&!Fe.nodeType&&Fe,zi=io&&io.exports===qi?ri.Buffer:void 0,fo=zi?zi.allocUnsafe:void 0;const pa=function(en,Vr){if(Vr)return en.slice();var Wr=en.length,Zr=fo?fo(Wr):new en.constructor(Wr);return en.copy(Zr),Zr},Ga=function(en,Vr){var Wr=-1,Zr=en.length;for(Vr||(Vr=Array(Zr));++Wr<Zr;)Vr[Wr]=en[Wr];return Vr},ba=function(en,Vr){for(var Wr=-1,Zr=en==null?0:en.length,tn=0,sn=[];++Wr<Zr;){var un=en[Wr];Vr(un,Wr,en)&&(sn[tn++]=un)}return sn},Ss=function(){return[]};var tl=Object.prototype.propertyIsEnumerable,ql=Object.getOwnPropertySymbols;const Gl=ql?function(en){return en==null?[]:(en=Object(en),ba(ql(en),function(Vr){return tl.call(en,Vr)}))}:Ss,Oa=function(en,Vr){return Ta(en,Gl(en),Vr)},ws=function(en,Vr){for(var Wr=-1,Zr=Vr.length,tn=en.length;++Wr<Zr;)en[tn+Wr]=Vr[Wr];return en},Qa=Object.getOwnPropertySymbols?function(en){for(var Vr=[];en;)ws(Vr,Gl(en)),en=aa(en);return Vr}:Ss,Ps=function(en,Vr){return Ta(en,Qa(en),Vr)},nc=function(en,Vr,Wr){var Zr=Vr(en);return Lo(en)?Zr:ws(Zr,Wr(en))},qc=function(en){return nc(en,zn,Gl)},Kl=function(en){return nc(en,yi,Qa)},Zl=Fs(ri,"DataView"),Pl=Fs(ri,"Promise"),ic=Fs(ri,"Set"),hc=Fs(ri,"WeakMap");var Ol="[object Map]",Kc="[object Promise]",Xl="[object Set]",fc="[object WeakMap]",Zc="[object DataView]",wc=Jo(Zl),Iu=Jo(Js),ls=Jo(Pl),pu=Jo(ic),qs=Jo(hc),sl=Ui;(Zl&&sl(new Zl(new ArrayBuffer(1)))!=Zc||Js&&sl(new Js)!=Ol||Pl&&sl(Pl.resolve())!=Kc||ic&&sl(new ic)!=Xl||hc&&sl(new hc)!=fc)&&(sl=function(en){var Vr=Ui(en),Wr=Vr=="[object Object]"?en.constructor:void 0,Zr=Wr?Jo(Wr):"";if(Zr)switch(Zr){case wc:return Zc;case Iu:return Ol;case ls:return Kc;case pu:return Xl;case qs:return fc}return Vr});const Ec=sl;var Ju=Object.prototype.hasOwnProperty;const ed=function(en){var Vr=en.length,Wr=new en.constructor(Vr);return Vr&&typeof en[0]=="string"&&Ju.call(en,"index")&&(Wr.index=en.index,Wr.input=en.input),Wr},pc=ri.Uint8Array,Xc=function(en){var Vr=new en.constructor(en.byteLength);return new pc(Vr).set(new pc(en)),Vr},gc=function(en,Vr){var Wr=Vr?Xc(en.buffer):en.buffer;return new en.constructor(Wr,en.byteOffset,en.byteLength)};var mc=/\w*$/;const Rl=function(en){var Vr=new en.constructor(en.source,mc.exec(en));return Vr.lastIndex=en.lastIndex,Vr};var Qc=ai?ai.prototype:void 0,Jc=Qc?Qc.valueOf:void 0;const td=function(en){return Jc?Object(Jc.call(en)):{}},rd=function(en,Vr){var Wr=Vr?Xc(en.buffer):en.buffer;return new en.constructor(Wr,en.byteOffset,en.length)},Lu=function(en,Vr,Wr){var Zr=en.constructor;switch(Vr){case"[object ArrayBuffer]":return Xc(en);case"[object Boolean]":case"[object Date]":return new Zr(+en);case"[object DataView]":return gc(en,Wr);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return rd(en,Wr);case"[object Map]":case"[object Set]":return new Zr;case"[object Number]":case"[object String]":return new Zr(en);case"[object RegExp]":return Rl(en);case"[object Symbol]":return td(en)}};var gu=Object.create;const Pu=function(){function en(){}return function(Vr){if(!ji(Vr))return{};if(gu)return gu(Vr);en.prototype=Vr;var Wr=new en;return en.prototype=void 0,Wr}}(),eu=function(en){return typeof en.constructor!="function"||Ul(en)?{}:Pu(aa(en))},mu=function(en){return oo(en)&&Ec(en)=="[object Map]"};var vu=Za&&Za.isMap;const di=vu?Vo(vu):mu,Si=function(en){return oo(en)&&Ec(en)=="[object Set]"};var Bi=Za&&Za.isSet;const Hi=Bi?Vo(Bi):Si;var Xi="[object Arguments]",Co="[object Function]",No="[object Object]",Ao={};Ao[Xi]=Ao["[object Array]"]=Ao["[object ArrayBuffer]"]=Ao["[object DataView]"]=Ao["[object Boolean]"]=Ao["[object Date]"]=Ao["[object Float32Array]"]=Ao["[object Float64Array]"]=Ao["[object Int8Array]"]=Ao["[object Int16Array]"]=Ao["[object Int32Array]"]=Ao["[object Map]"]=Ao["[object Number]"]=Ao[No]=Ao["[object RegExp]"]=Ao["[object Set]"]=Ao["[object String]"]=Ao["[object Symbol]"]=Ao["[object Uint8Array]"]=Ao["[object Uint8ClampedArray]"]=Ao["[object Uint16Array]"]=Ao["[object Uint32Array]"]=!0,Ao["[object Error]"]=Ao[Co]=Ao["[object WeakMap]"]=!1;const Bo=function en(Vr,Wr,Zr,tn,sn,un){var fn,yn=1&Wr,xn=2&Wr,Dn=4&Wr;if(Zr&&(fn=sn?Zr(Vr,tn,sn,un):Zr(Vr)),fn!==void 0)return fn;if(!ji(Vr))return Vr;var Mn=Lo(Vr);if(Mn){if(fn=ed(Vr),!yn)return Ga(Vr,fn)}else{var Rn=Ec(Vr),Un=Rn==Co||Rn=="[object GeneratorFunction]";if(Ys(Vr))return pa(Vr,yn);if(Rn==No||Rn==Xi||Un&&!sn){if(fn=xn||Un?{}:eu(Vr),!yn)return xn?Ps(Vr,Ii(fn,Vr)):Oa(Vr,Xn(fn,Vr))}else{if(!Ao[Rn])return sn?Vr:{};fn=Lu(Vr,Rn,yn)}}un||(un=new Ea);var Kn=un.get(Vr);if(Kn)return Kn;un.set(Vr,fn),Hi(Vr)?Vr.forEach(function(si){fn.add(en(si,Wr,Zr,si,Vr,un))}):di(Vr)&&Vr.forEach(function(si,fi){fn.set(fi,en(si,Wr,Zr,fi,Vr,un))});var ti=Mn?void 0:(Dn?xn?Kl:qc:xn?yi:zn)(Vr);return Cs(ti||Vr,function(si,fi){ti&&(si=Vr[fi=si]),Pa(fn,fi,en(si,Wr,Zr,fi,Vr,un))}),fn},Ra=function(en,Vr){return Bo(en,5,Vr=typeof Vr=="function"?Vr:void 0)},oa=function(en){return oo(en)&&en.nodeType===1&&!us(en)};class ma{constructor(Vr,Wr){this._config={},Wr&&this.define(Va(Wr)),Vr&&this._setObjectToTarget(this._config,Vr)}set(Vr,Wr){this._setToTarget(this._config,Vr,Wr)}define(Vr,Wr){this._setToTarget(this._config,Vr,Wr,!0)}get(Vr){return this._getFromSource(this._config,Vr)}*names(){for(const Vr of Object.keys(this._config))yield Vr}_setToTarget(Vr,Wr,Zr,tn=!1){if(us(Wr))return void this._setObjectToTarget(Vr,Wr,tn);const sn=Wr.split(".");Wr=sn.pop();for(const un of sn)us(Vr[un])||(Vr[un]={}),Vr=Vr[un];if(us(Zr))return us(Vr[Wr])||(Vr[Wr]={}),Vr=Vr[Wr],void this._setObjectToTarget(Vr,Zr,tn);tn&&Vr[Wr]!==void 0||(Vr[Wr]=Zr)}_getFromSource(Vr,Wr){const Zr=Wr.split(".");Wr=Zr.pop();for(const tn of Zr){if(!us(Vr[tn])){Vr=null;break}Vr=Vr[tn]}return Vr?Va(Vr[Wr]):void 0}_setObjectToTarget(Vr,Wr,Zr){Object.keys(Wr).forEach(tn=>{this._setToTarget(Vr,tn,Wr[tn],Zr)})}}function Va(en){return Ra(en,ua)}function ua(en){return oa(en)?en:void 0}function za(en){if(en){if(en.defaultView)return en instanceof en.defaultView.Document;if(en.ownerDocument&&en.ownerDocument.defaultView)return en instanceof en.ownerDocument.defaultView.Node}return!1}function Hs(en){const Vr=Object.prototype.toString.apply(en);return Vr=="[object Window]"||Vr=="[object global]"}const Vs=Ks(Ci());function Ks(en){return en?class extends en{listenTo(Vr,Wr,Zr,tn={}){if(za(Vr)||Hs(Vr)){const sn={capture:!!tn.useCapture,passive:!!tn.usePassive},un=this._getProxyEmitter(Vr,sn)||new Ql(Vr,sn);this.listenTo(un,Wr,Zr,tn)}else super.listenTo(Vr,Wr,Zr,tn)}stopListening(Vr,Wr,Zr){if(za(Vr)||Hs(Vr)){const tn=this._getAllProxyEmitters(Vr);for(const sn of tn)this.stopListening(sn,Wr,Zr)}else super.stopListening(Vr,Wr,Zr)}_getProxyEmitter(Vr,Wr){return function(Zr,tn){const sn=Zr[qn];return sn&&sn[tn]?sn[tn].emitter:null}(this,$l(Vr,Wr))}_getAllProxyEmitters(Vr){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(Wr=>this._getProxyEmitter(Vr,Wr)).filter(Wr=>!!Wr)}}:Vs}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(en=>{Ks[en]=Vs.prototype[en]});class Ql extends Ci(){constructor(Vr,Wr){super(),Fi(this,$l(Vr,Wr)),this._domNode=Vr,this._options=Wr}attach(Vr){if(this._domListeners&&this._domListeners[Vr])return;const Wr=this._createDomListener(Vr);this._domNode.addEventListener(Vr,Wr,this._options),this._domListeners||(this._domListeners={}),this._domListeners[Vr]=Wr}detach(Vr){let Wr;!this._domListeners[Vr]||(Wr=this._events[Vr])&&Wr.callbacks.length||this._domListeners[Vr].removeListener()}_addEventListener(Vr,Wr,Zr){this.attach(Vr),Ci().prototype._addEventListener.call(this,Vr,Wr,Zr)}_removeEventListener(Vr,Wr){Ci().prototype._removeEventListener.call(this,Vr,Wr),this.detach(Vr)}_createDomListener(Vr){const Wr=Zr=>{this.fire(Vr,Zr)};return Wr.removeListener=()=>{this._domNode.removeEventListener(Vr,Wr,this._options),delete this._domListeners[Vr]},Wr}}function $l(en,Vr){let Wr=function(Zr){return Zr["data-ck-expando"]||(Zr["data-ck-expando"]=kn())}(en);for(const Zr of Object.keys(Vr).sort())Vr[Zr]&&(Wr+="-"+Zr);return Wr}let Xs;try{Xs={window,document}}catch{Xs={window:{},document:{}}}const Sa=Xs;function $c(en){const Vr=[];let Wr=en;for(;Wr&&Wr.nodeType!=Node.DOCUMENT_NODE;)Vr.unshift(Wr),Wr=Wr.parentNode;return Vr}function ns(en){return Object.prototype.toString.call(en)=="[object Text]"}function kc(en){return Object.prototype.toString.apply(en)=="[object Range]"}function Nc(en){const Vr=en.ownerDocument.defaultView.getComputedStyle(en);return{top:parseInt(Vr.borderTopWidth,10),right:parseInt(Vr.borderRightWidth,10),bottom:parseInt(Vr.borderBottomWidth,10),left:parseInt(Vr.borderLeftWidth,10)}}const Ou=["top","right","bottom","left","width","height"];class js{constructor(Vr){const Wr=kc(Vr);if(Object.defineProperty(this,"_source",{value:Vr._source||Vr,writable:!0,enumerable:!1}),vc(Vr)||Wr)if(Wr){const Zr=js.getDomRangeRects(Vr);nd(this,js.getBoundingRect(Zr))}else nd(this,Vr.getBoundingClientRect());else if(Hs(Vr)){const{innerWidth:Zr,innerHeight:tn}=Vr;nd(this,{top:0,right:Zr,bottom:tn,left:0,width:Zr,height:tn})}else nd(this,Vr)}clone(){return new js(this)}moveTo(Vr,Wr){return this.top=Wr,this.right=Vr+this.width,this.bottom=Wr+this.height,this.left=Vr,this}moveBy(Vr,Wr){return this.top+=Wr,this.right+=Vr,this.left+=Vr,this.bottom+=Wr,this}getIntersection(Vr){const Wr={top:Math.max(this.top,Vr.top),right:Math.min(this.right,Vr.right),bottom:Math.min(this.bottom,Vr.bottom),left:Math.max(this.left,Vr.left),width:0,height:0};return Wr.width=Wr.right-Wr.left,Wr.height=Wr.bottom-Wr.top,Wr.width<0||Wr.height<0?null:new js(Wr)}getIntersectionArea(Vr){const Wr=this.getIntersection(Vr);return Wr?Wr.getArea():0}getArea(){return this.width*this.height}getVisible(){const Vr=this._source;let Wr=this.clone();if(Ru(Vr))return Wr;let Zr,tn=Vr,sn=Vr.parentNode||Vr.commonAncestorContainer;for(;sn&&!Ru(sn);){if(tn instanceof HTMLElement&&yu(tn)==="absolute"&&(Zr=tn),Zr&&(yu(sn)!=="relative"||(un=sn).ownerDocument.defaultView.getComputedStyle(un).overflow==="visible")){tn=sn,sn=sn.parentNode;continue}const fn=new js(sn),yn=Wr.getIntersection(fn);if(!yn)return null;yn.getArea()<Wr.getArea()&&(Wr=yn),tn=sn,sn=sn.parentNode}var un;return Wr}isEqual(Vr){for(const Wr of Ou)if(this[Wr]!==Vr[Wr])return!1;return!0}contains(Vr){const Wr=this.getIntersection(Vr);return!(!Wr||!Wr.isEqual(Vr))}excludeScrollbarsAndBorders(){const Vr=this._source;let Wr,Zr,tn;if(Hs(Vr))Wr=Vr.innerWidth-Vr.document.documentElement.clientWidth,Zr=Vr.innerHeight-Vr.document.documentElement.clientHeight,tn=Vr.getComputedStyle(Vr.document.documentElement).direction;else{const sn=Nc(Vr);Wr=Vr.offsetWidth-Vr.clientWidth-sn.left-sn.right,Zr=Vr.offsetHeight-Vr.clientHeight-sn.top-sn.bottom,tn=Vr.ownerDocument.defaultView.getComputedStyle(Vr).direction,this.left+=sn.left,this.top+=sn.top,this.right-=sn.right,this.bottom-=sn.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=Wr,tn==="ltr"?this.right-=Wr:this.left+=Wr,this.height-=Zr,this.bottom-=Zr,this}static getDomRangeRects(Vr){const Wr=[],Zr=Array.from(Vr.getClientRects());if(Zr.length)for(const tn of Zr)Wr.push(new js(tn));else{let tn=Vr.startContainer;ns(tn)&&(tn=tn.parentNode);const sn=new js(tn.getBoundingClientRect());sn.right=sn.left,sn.width=0,Wr.push(sn)}return Wr}static getBoundingRect(Vr){const Wr={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let Zr=0;for(const tn of Vr)Zr++,Wr.left=Math.min(Wr.left,tn.left),Wr.top=Math.min(Wr.top,tn.top),Wr.right=Math.max(Wr.right,tn.right),Wr.bottom=Math.max(Wr.bottom,tn.bottom);return Zr==0?null:(Wr.width=Wr.right-Wr.left,Wr.height=Wr.bottom-Wr.top,new js(Wr))}}function nd(en,Vr){for(const Wr of Ou)en[Wr]=Vr[Wr]}function Ru(en){return!!vc(en)&&en===en.ownerDocument.body}function vc(en){return en!==null&&typeof en=="object"&&en.nodeType===1&&typeof en.getBoundingClientRect=="function"}function yu(en){return en.ownerDocument.defaultView.getComputedStyle(en).position}const Ia=class{constructor(en,Vr){Ia._observerInstance||Ia._createObserver(),this._element=en,this._callback=Vr,Ia._addElementCallback(en,Vr),Ia._observerInstance.observe(en)}get element(){return this._element}destroy(){Ia._deleteElementCallback(this._element,this._callback)}static _addElementCallback(en,Vr){Ia._elementCallbacks||(Ia._elementCallbacks=new Map);let Wr=Ia._elementCallbacks.get(en);Wr||(Wr=new Set,Ia._elementCallbacks.set(en,Wr)),Wr.add(Vr)}static _deleteElementCallback(en,Vr){const Wr=Ia._getElementCallbacks(en);Wr&&(Wr.delete(Vr),Wr.size||(Ia._elementCallbacks.delete(en),Ia._observerInstance.unobserve(en))),Ia._elementCallbacks&&!Ia._elementCallbacks.size&&(Ia._observerInstance=null,Ia._elementCallbacks=null)}static _getElementCallbacks(en){return Ia._elementCallbacks?Ia._elementCallbacks.get(en):null}static _createObserver(){Ia._observerInstance=new Sa.window.ResizeObserver(en=>{for(const Vr of en){const Wr=Ia._getElementCallbacks(Vr.target);if(Wr)for(const Zr of Wr)Zr(Vr)}})}};let wd=Ia;function Hd(en,Vr){en instanceof HTMLTextAreaElement&&(en.value=Vr),en.innerHTML=Vr}function kd(en){return Vr=>Vr+en}function $u(en){let Vr=0;for(;en.previousSibling;)en=en.previousSibling,Vr++;return Vr}function Ad(en,Vr,Wr){en.insertBefore(Wr,en.childNodes[Vr]||null)}function Ac(en){return en&&en.nodeType===Node.COMMENT_NODE}function Tc(en){return!!(en&&en.getClientRects&&en.getClientRects().length)}wd._observerInstance=null,wd._elementCallbacks=null;var Nu=Math.pow;function Ln({element:en,target:Vr,positions:Wr,limiter:Zr,fitInViewport:tn,viewportOffsetConfig:sn}){Ha(Vr)&&(Vr=Vr()),Ha(Zr)&&(Zr=Zr());const un=function(Rn){return Rn&&Rn.parentNode?Rn.offsetParent===Sa.document.body?null:Rn.offsetParent:null}(en),fn=new js(en),yn=new js(Vr);let xn;const Dn=tn&&function(Rn){Rn=Object.assign({top:0,bottom:0,left:0,right:0},Rn);const Un=new js(Sa.window);return Un.top+=Rn.top,Un.height-=Rn.top,Un.bottom-=Rn.bottom,Un.height-=Rn.bottom,Un}(sn)||null,Mn={targetRect:yn,elementRect:fn,positionedElementAncestor:un,viewportRect:Dn};if(Zr||tn){const Rn=Zr&&new js(Zr).getVisible();Object.assign(Mn,{limiterRect:Rn,viewportRect:Dn}),xn=function(Un,Kn){const{elementRect:ti}=Kn,si=ti.getArea(),fi=Un.map(Fo=>new ei(Fo,Kn)).filter(Fo=>!!Fo.name);let Li=0,eo=null;for(const Fo of fi){const{limiterIntersectionArea:wa,viewportIntersectionArea:Ns}=Fo;if(wa===si)return Fo;const ds=Nu(Ns,2)+Nu(wa,2);ds>Li&&(Li=ds,eo=Fo)}return eo}(Wr,Mn)||new ei(Wr[0],Mn)}else xn=new ei(Wr[0],Mn);return xn}function Bn(en){const{scrollX:Vr,scrollY:Wr}=Sa.window;return en.clone().moveBy(Vr,Wr)}class ei{constructor(Vr,Wr){const Zr=Vr(Wr.targetRect,Wr.elementRect,Wr.viewportRect);if(!Zr)return;const{left:tn,top:sn,name:un,config:fn}=Zr;this.name=un,this.config=fn,this._positioningFunctionCorrdinates={left:tn,top:sn},this._options=Wr}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const Vr=this._options.limiterRect;if(Vr){const Wr=this._options.viewportRect;if(!Wr)return Vr.getIntersectionArea(this._rect);{const Zr=Vr.getIntersection(Wr);if(Zr)return Zr.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const Vr=this._options.viewportRect;return Vr?Vr.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Bn(this._rect),this._options.positionedElementAncestor&&function(Vr,Wr){const Zr=Bn(new js(Wr)),tn=Nc(Wr);let sn=0,un=0;sn-=Zr.left,un-=Zr.top,sn+=Wr.scrollLeft,un+=Wr.scrollTop,sn-=tn.left,un-=tn.top,Vr.moveBy(sn,un)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function mi(en){const Vr=en.parentNode;Vr&&Vr.removeChild(en)}function Qi({window:en,rect:Vr,alignToTop:Wr,forceScroll:Zr,viewportOffset:tn}){const sn=Vr.clone().moveBy(0,tn.bottom),un=Vr.clone().moveBy(0,-tn.top),fn=new js(en).excludeScrollbarsAndBorders(),yn=Wr&&Zr,xn=[un,sn].every(Kn=>fn.contains(Kn));let{scrollX:Dn,scrollY:Mn}=en;const Rn=Dn,Un=Mn;yn?Mn-=fn.top-Vr.top+tn.top:xn||(ys(un,fn)?Mn-=fn.top-Vr.top+tn.top:Ja(sn,fn)&&(Mn+=Wr?Vr.top-fn.top-tn.top:Vr.bottom-fn.bottom+tn.bottom)),xn||(Us(Vr,fn)?Dn-=fn.left-Vr.left+tn.left:Mc(Vr,fn)&&(Dn+=Vr.right-fn.right+tn.right)),Dn==Rn&&Mn===Un||en.scrollTo(Dn,Mn)}function ta({parent:en,getRect:Vr,alignToTop:Wr,forceScroll:Zr,ancestorOffset:tn=0}){const sn=Bu(en),un=Wr&&Zr;let fn,yn,xn;for(;en!=sn.document.body;)yn=Vr(),fn=new js(en).excludeScrollbarsAndBorders(),xn=fn.contains(yn),un?en.scrollTop-=fn.top-yn.top+tn:xn||(ys(yn,fn)?en.scrollTop-=fn.top-yn.top+tn:Ja(yn,fn)&&(en.scrollTop+=Wr?yn.top-fn.top-tn:yn.bottom-fn.bottom+tn)),xn||(Us(yn,fn)?en.scrollLeft-=fn.left-yn.left+tn:Mc(yn,fn)&&(en.scrollLeft+=yn.right-fn.right+tn)),en=en.parentNode}function Ja(en,Vr){return en.bottom>Vr.bottom}function ys(en,Vr){return en.top<Vr.top}function Us(en,Vr){return en.left<Vr.left}function Mc(en,Vr){return en.right>Vr.right}function Bu(en){return kc(en)?en.startContainer.ownerDocument.defaultView:en.ownerDocument.defaultView}function Vd(en){if(kc(en)){let Vr=en.commonAncestorContainer;return ns(Vr)&&(Vr=Vr.parentNode),Vr}return en.parentNode}function ef(en,Vr){const Wr=Bu(en),Zr=new js(en);if(Wr===Vr)return Zr;{let tn=Wr;for(;tn!=Vr;){const sn=tn.frameElement,un=new js(sn).excludeScrollbarsAndBorders();Zr.moveBy(un.left,un.top),tn=tn.parent}}return Zr}const id={ctrl:"â",cmd:"â",alt:"â¥",shift:"â§"},jd={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Xa=function(){const en={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let Vr=65;Vr<=90;Vr++)en[String.fromCharCode(Vr).toLowerCase()]=Vr;for(let Vr=48;Vr<=57;Vr++)en[Vr-48]=Vr;for(let Vr=112;Vr<=123;Vr++)en["f"+(Vr-111)]=Vr;for(const Vr of"`-=[];',./\\")en[Vr]=Vr.charCodeAt(0);return en}(),Ud=Object.fromEntries(Object.entries(Xa).map(([en,Vr])=>[Vr,en.charAt(0).toUpperCase()+en.slice(1)]));function Bc(en){let Vr;if(typeof en=="string"){if(Vr=Xa[en.toLowerCase()],!Vr)throw new Cn("keyboard-unknown-key",null,{key:en})}else Vr=en.keyCode+(en.altKey?Xa.alt:0)+(en.ctrlKey?Xa.ctrl:0)+(en.shiftKey?Xa.shift:0)+(en.metaKey?Xa.cmd:0);return Vr}function Gd(en){return typeof en=="string"&&(en=function(Vr){return Vr.split("+").map(Wr=>Wr.trim())}(en)),en.map(Vr=>typeof Vr=="string"?function(Wr){if(Wr.endsWith("!"))return Bc(Wr.slice(0,-1));const Zr=Bc(Wr);return Qr.isMac&&Zr==Xa.ctrl?Xa.cmd:Zr}(Vr):Vr).reduce((Vr,Wr)=>Wr+Vr,0)}function tf(en){let Vr=Gd(en);return Object.entries(Qr.isMac?id:jd).reduce((Wr,[Zr,tn])=>(Vr&Xa[Zr]&&(Vr&=~Xa[Zr],Wr+=tn),Wr),"")+(Vr?Ud[Vr]:"")}function wh(en,Vr){const Wr=Vr==="ltr";switch(en){case Xa.arrowleft:return Wr?"left":"right";case Xa.arrowright:return Wr?"right":"left";case Xa.arrowup:return"up";case Xa.arrowdown:return"down"}}function Nl(en){return Array.isArray(en)?en:[en]}function od(en,Vr,Wr=1){if(typeof Wr!="number")throw new Cn("translation-service-quantity-not-a-number",null,{quantity:Wr});const Zr=Object.keys(Sa.window.CKEDITOR_TRANSLATIONS).length;Zr===1&&(en=Object.keys(Sa.window.CKEDITOR_TRANSLATIONS)[0]);const tn=Vr.id||Vr.string;if(Zr===0||!function(yn,xn){return!!Sa.window.CKEDITOR_TRANSLATIONS[yn]&&!!Sa.window.CKEDITOR_TRANSLATIONS[yn].dictionary[xn]}(en,tn))return Wr!==1?Vr.plural:Vr.string;const sn=Sa.window.CKEDITOR_TRANSLATIONS[en].dictionary,un=Sa.window.CKEDITOR_TRANSLATIONS[en].getPluralForm||(yn=>yn===1?0:1),fn=sn[tn];return typeof fn=="string"?fn:fn[Number(un(Wr))]}Sa.window.CKEDITOR_TRANSLATIONS||(Sa.window.CKEDITOR_TRANSLATIONS={});const ad=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function ip(en){return ad.includes(en)?"rtl":"ltr"}class sg{constructor({uiLanguage:Vr="en",contentLanguage:Wr}={}){this.uiLanguage=Vr,this.contentLanguage=Wr||this.uiLanguage,this.uiLanguageDirection=ip(this.uiLanguage),this.contentLanguageDirection=ip(this.contentLanguage),this.t=(Zr,tn)=>this._t(Zr,tn)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(Vr,Wr=[]){Wr=Nl(Wr),typeof Vr=="string"&&(Vr={string:Vr});const Zr=Vr.plural?Wr[0]:1;return function(tn,sn){return tn.replace(/%(\d+)/g,(un,fn)=>fn<sn.length?sn[fn]:un)}(od(this.uiLanguage,Vr,Zr),Wr)}}class Fc extends Ci(){constructor(Vr={},Wr={}){super();const Zr=Ei(Vr);if(Zr||(Wr=Vr),this._items=[],this._itemMap=new Map,this._idProperty=Wr.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],Zr)for(const tn of Vr)this._items.push(tn),this._itemMap.set(this._getItemIdBeforeAdding(tn),tn)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(Vr,Wr){return this.addMany([Vr],Wr)}addMany(Vr,Wr){if(Wr===void 0)Wr=this._items.length;else if(Wr>this._items.length||Wr<0)throw new Cn("collection-add-item-invalid-index",this);let Zr=0;for(const tn of Vr){const sn=this._getItemIdBeforeAdding(tn),un=Wr+Zr;this._items.splice(un,0,tn),this._itemMap.set(sn,tn),this.fire("add",tn,un),Zr++}return this.fire("change",{added:Vr,removed:[],index:Wr}),this}get(Vr){let Wr;if(typeof Vr=="string")Wr=this._itemMap.get(Vr);else{if(typeof Vr!="number")throw new Cn("collection-get-invalid-arg",this);Wr=this._items[Vr]}return Wr||null}has(Vr){if(typeof Vr=="string")return this._itemMap.has(Vr);{const Wr=Vr[this._idProperty];return Wr&&this._itemMap.has(Wr)}}getIndex(Vr){let Wr;return Wr=typeof Vr=="string"?this._itemMap.get(Vr):Vr,Wr?this._items.indexOf(Wr):-1}remove(Vr){const[Wr,Zr]=this._remove(Vr);return this.fire("change",{added:[],removed:[Wr],index:Zr}),Wr}map(Vr,Wr){return this._items.map(Vr,Wr)}find(Vr,Wr){return this._items.find(Vr,Wr)}filter(Vr,Wr){return this._items.filter(Vr,Wr)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const Vr=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:Vr,index:0})}bindTo(Vr){if(this._bindToCollection)throw new Cn("collection-bind-to-rebind",this);return this._bindToCollection=Vr,{as:Wr=>{this._setUpBindToBinding(Zr=>new Wr(Zr))},using:Wr=>{typeof Wr=="function"?this._setUpBindToBinding(Wr):this._setUpBindToBinding(Zr=>Zr[Wr])}}}_setUpBindToBinding(Vr){const Wr=this._bindToCollection,Zr=(tn,sn,un)=>{const fn=Wr._bindToCollection==this,yn=Wr._bindToInternalToExternalMap.get(sn);if(fn&&yn)this._bindToExternalToInternalMap.set(sn,yn),this._bindToInternalToExternalMap.set(yn,sn);else{const xn=Vr(sn);if(!xn)return void this._skippedIndexesFromExternal.push(un);let Dn=un;for(const Mn of this._skippedIndexesFromExternal)un>Mn&&Dn--;for(const Mn of Wr._skippedIndexesFromExternal)Dn>=Mn&&Dn++;this._bindToExternalToInternalMap.set(sn,xn),this._bindToInternalToExternalMap.set(xn,sn),this.add(xn,Dn);for(let Mn=0;Mn<Wr._skippedIndexesFromExternal.length;Mn++)Dn<=Wr._skippedIndexesFromExternal[Mn]&&Wr._skippedIndexesFromExternal[Mn]++}};for(const tn of Wr)Zr(0,tn,Wr.getIndex(tn));this.listenTo(Wr,"add",Zr),this.listenTo(Wr,"remove",(tn,sn,un)=>{const fn=this._bindToExternalToInternalMap.get(sn);fn&&this.remove(fn),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((yn,xn)=>(un<xn&&yn.push(xn-1),un>xn&&yn.push(xn),yn),[])})}_getItemIdBeforeAdding(Vr){const Wr=this._idProperty;let Zr;if(Wr in Vr){if(Zr=Vr[Wr],typeof Zr!="string")throw new Cn("collection-add-invalid-id",this);if(this.get(Zr))throw new Cn("collection-add-item-already-exists",this)}else Vr[Wr]=Zr=kn();return Zr}_remove(Vr){let Wr,Zr,tn,sn=!1;const un=this._idProperty;if(typeof Vr=="string"?(Zr=Vr,tn=this._itemMap.get(Zr),sn=!tn,tn&&(Wr=this._items.indexOf(tn))):typeof Vr=="number"?(Wr=Vr,tn=this._items[Wr],sn=!tn,tn&&(Zr=tn[un])):(tn=Vr,Zr=tn[un],Wr=this._items.indexOf(tn),sn=Wr==-1||!this._itemMap.get(Zr)),sn)throw new Cn("collection-remove-404",this);this._items.splice(Wr,1),this._itemMap.delete(Zr);const fn=this._bindToInternalToExternalMap.get(tn);return this._bindToInternalToExternalMap.delete(tn),this._bindToExternalToInternalMap.delete(fn),this.fire("remove",tn,Wr),[tn,Wr]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function _l(en){const Vr=en.next();return Vr.done?null:Vr.value}class Ic extends Ks(Ji()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(Vr){if(this._elements.has(Vr))throw new Cn("focustracker-add-element-already-exist",this);this.listenTo(Vr,"focus",()=>this._focus(Vr),{useCapture:!0}),this.listenTo(Vr,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(Vr)}remove(Vr){Vr===this.focusedElement&&this._blur(),this._elements.has(Vr)&&(this.stopListening(Vr),this._elements.delete(Vr))}destroy(){this.stopListening()}_focus(Vr){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=Vr,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class tu{constructor(){this._listener=new(Ks())}listenTo(Vr){this._listener.listenTo(Vr,"keydown",(Wr,Zr)=>{this._listener.fire("_keydown:"+Bc(Zr),Zr)})}set(Vr,Wr,Zr={}){const tn=Gd(Vr),sn=Zr.priority;this._listener.listenTo(this._listener,"_keydown:"+tn,(un,fn)=>{Wr(fn,()=>{fn.preventDefault(),fn.stopPropagation(),un.stop()}),un.return=!0},{priority:sn})}press(Vr){return!!this._listener.fire("_keydown:"+Bc(Vr),Vr)}stopListening(Vr){this._listener.stopListening(Vr)}destroy(){this.stopListening()}}function rl(en){return Ei(en)?new Map(en):function(Vr){const Wr=new Map;for(const Zr in Vr)Wr.set(Zr,Vr[Zr]);return Wr}(en)}function dl(en,Vr){let Wr;function Zr(...tn){Zr.cancel(),Wr=setTimeout(()=>en(...tn),Vr)}return Zr.cancel=()=>{clearTimeout(Wr)},Zr}function Bl(en,Vr){return!!(Wr=en.charAt(Vr-1))&&Wr.length==1&&/[\ud800-\udbff]/.test(Wr)&&function(Zr){return!!Zr&&Zr.length==1&&/[\udc00-\udfff]/.test(Zr)}(en.charAt(Vr));var Wr}function hl(en,Vr){return!!(Wr=en.charAt(Vr))&&Wr.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(Wr);var Wr}const Wd=function(){const en=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],Vr=new RegExp("\\p{Regional_Indicator}{2}","u").source,Wr="(?:"+en.map(Zr=>Zr.source).join("|")+")";return new RegExp(`${Vr}|${Wr}(?:â${Wr})*`,"ug")}();function op(en,Vr){const Wr=String(en).matchAll(Wd);return Array.from(Wr).some(Zr=>Zr.index<Vr&&Vr<Zr.index+Zr[0].length)}class zc extends Fc{constructor(Vr=[]){super(Vr,{idProperty:"viewUid"}),this.on("add",(Wr,Zr,tn)=>{this._renderViewIntoCollectionParent(Zr,tn)}),this.on("remove",(Wr,Zr)=>{Zr.element&&this._parentElement&&Zr.element.remove()}),this._parentElement=null}destroy(){this.map(Vr=>Vr.destroy())}setParent(Vr){this._parentElement=Vr;for(const Wr of this)this._renderViewIntoCollectionParent(Wr)}delegate(...Vr){if(!Vr.length||!Vr.every(Wr=>typeof Wr=="string"))throw new Cn("ui-viewcollection-delegate-wrong-events",this);return{to:Wr=>{for(const Zr of this)for(const tn of Vr)Zr.delegate(tn).to(Wr);this.on("add",(Zr,tn)=>{for(const sn of Vr)tn.delegate(sn).to(Wr)}),this.on("remove",(Zr,tn)=>{for(const sn of Vr)tn.stopDelegating(sn,Wr)})}}}_renderViewIntoCollectionParent(Vr,Wr){Vr.isRendered||Vr.render(),Vr.element&&this._parentElement&&this._parentElement.insertBefore(Vr.element,this._parentElement.children[Wr])}remove(Vr){return super.remove(Vr)}}var lg=Fr(6062),Go=Fr.n(lg),ap=Fr(4793),rf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(ap.Z,rf),ap.Z.locals;class is extends Ks(Ji()){constructor(Vr){super(),this.element=null,this.isRendered=!1,this.locale=Vr,this.t=Vr&&Vr.t,this._viewCollections=new Fc,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(Wr,Zr)=>{Zr.locale=Vr,Zr.t=Vr&&Vr.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Cc.bind(this,this)}createCollection(Vr){const Wr=new zc(Vr);return this._viewCollections.add(Wr),Wr}registerChild(Vr){Ei(Vr)||(Vr=[Vr]);for(const Wr of Vr)this._unboundChildren.add(Wr)}deregisterChild(Vr){Ei(Vr)||(Vr=[Vr]);for(const Wr of Vr)this._unboundChildren.remove(Wr)}setTemplate(Vr){this.template=new Cc(Vr)}extendTemplate(Vr){Cc.extend(this.template,Vr)}render(){if(this.isRendered)throw new Cn("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(Vr=>Vr.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Cc extends Ci(){constructor(Vr){super(),Object.assign(this,Zd(lp(Vr))),this._isRendered=!1,this._revertData=null}render(){const Vr=this._renderNode({intoFragment:!0});return this._isRendered=!0,Vr}apply(Vr){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:Vr,intoFragment:!1,isApplying:!0,revertData:this._revertData}),Vr}revert(Vr){if(!this._revertData)throw new Cn("ui-template-revert-not-applied",[this,Vr]);this._revertTemplateFromNode(Vr,this._revertData)}*getViews(){yield*function*Vr(Wr){if(Wr.children)for(const Zr of Wr.children)cs(Zr)?yield Zr:xc(Zr)&&(yield*Vr(Zr))}(this)}static bind(Vr,Wr){return{to:(Zr,tn)=>new nf({eventNameOrFunction:Zr,attribute:Zr,observable:Vr,emitter:Wr,callback:tn}),if:(Zr,tn,sn)=>new kh({observable:Vr,emitter:Wr,attribute:Zr,valueIfTrue:tn,callback:sn})}}static extend(Vr,Wr){if(Vr._isRendered)throw new Cn("template-extend-render",[this,Vr]);lf(Vr,Zd(lp(Wr)))}_renderNode(Vr){let Wr;if(Wr=Vr.node?this.tag&&this.text:this.tag?this.text:!this.text,Wr)throw new Cn("ui-template-wrong-syntax",this);return this.text?this._renderText(Vr):this._renderElement(Vr)}_renderElement(Vr){let Wr=Vr.node;return Wr||(Wr=Vr.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(Vr),this._renderElementChildren(Vr),this._setUpListeners(Vr),Wr}_renderText(Vr){let Wr=Vr.node;return Wr?Vr.revertData.text=Wr.textContent:Wr=Vr.node=document.createTextNode(""),qd(this.text)?this._bindToObservable({schema:this.text,updater:af(Wr),data:Vr}):Wr.textContent=this.text.join(""),Wr}_renderAttributes(Vr){if(!this.attributes)return;const Wr=Vr.node,Zr=Vr.revertData;for(const tn in this.attributes){const sn=Wr.getAttribute(tn),un=this.attributes[tn];Zr&&(Zr.attributes[tn]=sn);const fn=bu(un)?un[0].ns:null;if(qd(un)){const yn=bu(un)?un[0].value:un;Zr&&cf(tn)&&yn.unshift(sn),this._bindToObservable({schema:yn,updater:sp(Wr,tn,fn),data:Vr})}else if(tn=="style"&&typeof un[0]!="string")this._renderStyleAttribute(un[0],Vr);else{Zr&&sn&&cf(tn)&&un.unshift(sn);const yn=un.map(xn=>xn&&xn.value||xn).reduce((xn,Dn)=>xn.concat(Dn),[]).reduce(sf,"");Fl(yn)||Wr.setAttributeNS(fn,tn,yn)}}}_renderStyleAttribute(Vr,Wr){const Zr=Wr.node;for(const tn in Vr){const sn=Vr[tn];qd(sn)?this._bindToObservable({schema:[sn],updater:Kd(Zr,tn),data:Wr}):Zr.style[tn]=sn}}_renderElementChildren(Vr){const Wr=Vr.node,Zr=Vr.intoFragment?document.createDocumentFragment():Wr,tn=Vr.isApplying;let sn=0;for(const un of this.children)if(nu(un)){if(!tn){un.setParent(Wr);for(const fn of un)Zr.appendChild(fn.element)}}else if(cs(un))tn||(un.isRendered||un.render(),Zr.appendChild(un.element));else if(za(un))Zr.appendChild(un);else if(tn){const fn={children:[],bindings:[],attributes:{}};Vr.revertData.children.push(fn),un._renderNode({intoFragment:!1,node:Zr.childNodes[sn++],isApplying:!0,revertData:fn})}else Zr.appendChild(un.render());Vr.intoFragment&&Wr.appendChild(Zr)}_setUpListeners(Vr){if(this.eventListeners)for(const Wr in this.eventListeners){const Zr=this.eventListeners[Wr].map(tn=>{const[sn,un]=Wr.split("@");return tn.activateDomEventListener(sn,un,Vr)});Vr.revertData&&Vr.revertData.bindings.push(Zr)}}_bindToObservable({schema:Vr,updater:Wr,data:Zr}){const tn=Zr.revertData;of(Vr,Wr,Zr);const sn=Vr.filter(un=>!Fl(un)).filter(un=>un.observable).map(un=>un.activateAttributeListener(Vr,Wr,Zr));tn&&tn.bindings.push(sn)}_revertTemplateFromNode(Vr,Wr){for(const tn of Wr.bindings)for(const sn of tn)sn();if(Wr.text)return void(Vr.textContent=Wr.text);const Zr=Vr;for(const tn in Wr.attributes){const sn=Wr.attributes[tn];sn===null?Zr.removeAttribute(tn):Zr.setAttribute(tn,sn)}for(let tn=0;tn<Wr.children.length;++tn)this._revertTemplateFromNode(Zr.childNodes[tn],Wr.children[tn])}}class Yd{constructor(Vr){this.attribute=Vr.attribute,this.observable=Vr.observable,this.emitter=Vr.emitter,this.callback=Vr.callback}getValue(Vr){const Wr=this.observable[this.attribute];return this.callback?this.callback(Wr,Vr):Wr}activateAttributeListener(Vr,Wr,Zr){const tn=()=>of(Vr,Wr,Zr);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,tn),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,tn)}}}class nf extends Yd{constructor(Vr){super(Vr),this.eventNameOrFunction=Vr.eventNameOrFunction}activateDomEventListener(Vr,Wr,Zr){const tn=(sn,un)=>{Wr&&!un.target.matches(Wr)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(un):this.observable.fire(this.eventNameOrFunction,un))};return this.emitter.listenTo(Zr.node,Vr,tn),()=>{this.emitter.stopListening(Zr.node,Vr,tn)}}}class kh extends Yd{constructor(Vr){super(Vr),this.valueIfTrue=Vr.valueIfTrue}getValue(Vr){return!Fl(super.getValue(Vr))&&(this.valueIfTrue||!0)}}function qd(en){return!!en&&(en.value&&(en=en.value),Array.isArray(en)?en.some(qd):en instanceof Yd)}function of(en,Vr,{node:Wr}){const Zr=function(sn,un){return sn.map(fn=>fn instanceof Yd?fn.getValue(un):fn)}(en,Wr);let tn;tn=en.length==1&&en[0]instanceof kh?Zr[0]:Zr.reduce(sf,""),Fl(tn)?Vr.remove():Vr.set(tn)}function af(en){return{set(Vr){en.textContent=Vr},remove(){en.textContent=""}}}function sp(en,Vr,Wr){return{set(Zr){en.setAttributeNS(Wr,Vr,Zr)},remove(){en.removeAttributeNS(Wr,Vr)}}}function Kd(en,Vr){return{set(Wr){en.style[Vr]=Wr},remove(){en.style[Vr]=null}}}function lp(en){return Ra(en,Vr=>{if(Vr&&(Vr instanceof Yd||xc(Vr)||cs(Vr)||nu(Vr)))return Vr})}function Zd(en){if(typeof en=="string"?en=function(Vr){return{text:[Vr]}}(en):en.text&&function(Vr){Vr.text=Nl(Vr.text)}(en),en.on&&(en.eventListeners=function(Vr){for(const Wr in Vr)ru(Vr,Wr);return Vr}(en.on),delete en.on),!en.text){en.attributes&&function(Wr){for(const Zr in Wr)Wr[Zr].value&&(Wr[Zr].value=Nl(Wr[Zr].value)),ru(Wr,Zr)}(en.attributes);const Vr=[];if(en.children)if(nu(en.children))Vr.push(en.children);else for(const Wr of en.children)xc(Wr)||cs(Wr)||za(Wr)?Vr.push(Wr):Vr.push(new Cc(Wr));en.children=Vr}return en}function ru(en,Vr){en[Vr]=Nl(en[Vr])}function sf(en,Vr){return Fl(Vr)?en:Fl(en)?Vr:`${en} ${Vr}`}function cp(en,Vr){for(const Wr in Vr)en[Wr]?en[Wr].push(...Vr[Wr]):en[Wr]=Vr[Wr]}function lf(en,Vr){if(Vr.attributes&&(en.attributes||(en.attributes={}),cp(en.attributes,Vr.attributes)),Vr.eventListeners&&(en.eventListeners||(en.eventListeners={}),cp(en.eventListeners,Vr.eventListeners)),Vr.text&&en.text.push(...Vr.text),Vr.children&&Vr.children.length){if(en.children.length!=Vr.children.length)throw new Cn("ui-template-extend-children-mismatch",en);let Wr=0;for(const Zr of Vr.children)lf(en.children[Wr++],Zr)}}function Fl(en){return!en&&en!==0}function cs(en){return en instanceof is}function xc(en){return en instanceof Cc}function nu(en){return en instanceof zc}function bu(en){return ji(en[0])&&en[0].ns}function cf(en){return en=="class"||en=="style"}class uf extends zc{constructor(Vr,Wr=[]){super(Wr),this.locale=Vr}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Cc({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let Vr=document.querySelector(".ck-body-wrapper");Vr||(Vr=fa(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(Vr)),Vr.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const Vr=document.querySelector(".ck-body-wrapper");Vr&&Vr.childElementCount==0&&Vr.remove()}}var df=Fr(6574),cg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(df.Z,cg),df.Z.locals;const Ah=class extends is{constructor(){super();const en=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",en.if("isColorInherited","ck-icon_inherit-color")],viewBox:en.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const en=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),Vr=en.getAttribute("viewBox");Vr&&(this.viewBox=Vr);for(const{name:Wr,value:Zr}of Array.from(en.attributes))Ah.presentationalAttributeNames.includes(Wr)&&this.element.setAttribute(Wr,Zr);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;en.childNodes.length>0;)this.element.appendChild(en.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(en=>{en.style.fill=this.fillColor})}};let iu=Ah;iu.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var hf=Fr(4906),ff={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(hf.Z,ff),hf.Z.locals;class gs extends is{constructor(Vr){super(Vr),this._focusDelayed=null;const Wr=this.bindTemplate,Zr=kn();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${Zr}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new iu,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const tn={tag:"button",attributes:{class:["ck","ck-button",Wr.to("class"),Wr.if("isEnabled","ck-disabled",sn=>!sn),Wr.if("isVisible","ck-hidden",sn=>!sn),Wr.to("isOn",sn=>sn?"ck-on":"ck-off"),Wr.if("withText","ck-button_with-text"),Wr.if("withKeystroke","ck-button_with-keystroke")],role:Wr.to("role"),type:Wr.to("type",sn=>sn||"button"),tabindex:Wr.to("tabindex"),"aria-label":Wr.to("ariaLabel"),"aria-labelledby":Wr.to("ariaLabelledBy"),"aria-disabled":Wr.if("isEnabled",!0,sn=>!sn),"aria-checked":Wr.to("isOn"),"aria-pressed":Wr.to("isOn",sn=>!!this.isToggleable&&String(!!sn)),"data-cke-tooltip-text":Wr.to("_tooltipString"),"data-cke-tooltip-position":Wr.to("tooltipPosition")},children:this.children,on:{click:Wr.to(sn=>{this.isEnabled?this.fire("execute"):sn.preventDefault()})}};Qr.isSafari&&(this._focusDelayed||(this._focusDelayed=dl(()=>this.focus(),0)),tn.on.mousedown=Wr.to(()=>{this._focusDelayed()}),tn.on.mouseup=Wr.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(tn)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const Vr=new is,Wr=this.bindTemplate;return Vr.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:Wr.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:Wr.to("label")}]}),Vr}_createKeystrokeView(){const Vr=new is;return Vr.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",Wr=>tf(Wr))}]}),Vr}_getTooltipString(Vr,Wr,Zr){return Vr?typeof Vr=="string"?Vr:(Zr&&(Zr=tf(Zr)),Vr instanceof Function?Vr(Wr,Zr):`${Wr}${Zr?` (${Zr})`:""}`):""}}var pf=Fr(5332),up={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(pf.Z,up),pf.Z.locals;class Ch extends gs{constructor(Vr){super(Vr),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const Vr=new is;return Vr.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),Vr}}var Xd=Fr(6781),gf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Xd.Z,gf),Xd.Z.locals,Fr(1103),Fr(841);var mf=Fr(3662),ug={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(mf.Z,ug),mf.Z.locals;class vf extends is{constructor(Vr){super(Vr),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${kn()}`;const Wr=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:Wr.to("for")},children:[{text:Wr.to("text")}]})}}var dp=Fr(2577),dg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(dp.Z,dg),dp.Z.locals;class Cd extends is{constructor(Vr,Wr){super(Vr);const Zr=`ck-labeled-field-view-${kn()}`,tn=`ck-labeled-field-view-status-${kn()}`;this.fieldView=Wr(this,Zr,tn),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(Zr),this.statusView=this._createStatusView(tn),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(un,fn)=>un||fn);const sn=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",sn.to("class"),sn.if("isEnabled","ck-disabled",un=>!un),sn.if("isEmpty","ck-labeled-field-view_empty"),sn.if("isFocused","ck-labeled-field-view_focused"),sn.if("placeholder","ck-labeled-field-view_placeholder"),sn.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(Vr){const Wr=new vf(this.locale);return Wr.for=Vr,Wr.bind("text").to(this,"label"),Wr}_createStatusView(Vr){const Wr=new is(this.locale),Zr=this.bindTemplate;return Wr.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",Zr.if("errorText","ck-labeled-field-view__status_error"),Zr.if("_statusText","ck-hidden",tn=>!tn)],id:Vr,role:Zr.if("errorText","alert")},children:[{text:Zr.to("_statusText")}]}),Wr}focus(){this.fieldView.focus()}}var yf=Fr(4879),hg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(yf.Z,hg),yf.Z.locals;class fg extends is{constructor(Vr){super(Vr),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Ic,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const Wr=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",Wr.if("isFocused","ck-input_focused"),Wr.if("isEmpty","ck-input-text_empty"),Wr.if("hasError","ck-error")],id:Wr.to("id"),placeholder:Wr.to("placeholder"),readonly:Wr.to("isReadOnly"),inputmode:Wr.to("inputMode"),"aria-invalid":Wr.if("hasError",!0),"aria-describedby":Wr.to("ariaDescribedById")},on:{input:Wr.to((...Zr)=>{this.fire("input",...Zr),this._updateIsEmpty()}),change:Wr.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(Vr,Wr,Zr)=>{this._setDomElementValue(Zr),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(Vr){this.element.value=Vr||Vr===0?Vr:""}}class hp extends fg{constructor(Vr){super(Vr),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class xd extends is{constructor(Vr){super(Vr);const Wr=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",Wr.to("position",Zr=>`ck-dropdown__panel_${Zr}`),Wr.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:Wr.to(Zr=>{Zr.target.tagName.toLocaleLowerCase()!=="input"&&Zr.preventDefault()})}})}focus(){if(this.children.length){const Vr=this.children.first;typeof Vr.focus=="function"?Vr.focus():En("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const Vr=this.children.last;typeof Vr.focusLast=="function"?Vr.focusLast():Vr.focus()}}}var xh=Fr(5485),Sh={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(xh.Z,Sh),xh.Z.locals;const Dh=class extends is{constructor(en,Vr,Wr){super(en);const Zr=this.bindTemplate;this.buttonView=Vr,this.panelView=Wr,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new tu,this.focusTracker=new Ic,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",Zr.to("class"),Zr.if("isEnabled","ck-disabled",tn=>!tn)],id:Zr.to("id"),"aria-describedby":Zr.to("ariaDescribedById")},children:[Vr,Wr]}),Vr.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":Zr.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(Vr,Wr,Zr)=>{Zr&&(this.panelPosition==="auto"?this.panelView.position=Dh._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const en=(Vr,Wr)=>{this.isOpen&&(this.isOpen=!1,Wr())};this.keystrokes.set("arrowdown",(Vr,Wr)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,Wr())}),this.keystrokes.set("arrowright",(Vr,Wr)=>{this.isOpen&&Wr()}),this.keystrokes.set("arrowleft",en),this.keystrokes.set("esc",en)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:en,north:Vr,southEast:Wr,southWest:Zr,northEast:tn,northWest:sn,southMiddleEast:un,southMiddleWest:fn,northMiddleEast:yn,northMiddleWest:xn}=Dh.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[Wr,Zr,un,fn,en,tn,sn,yn,xn,Vr]:[Zr,Wr,fn,un,en,sn,tn,xn,yn,Vr]}};let Qd=Dh;Qd.defaultPanelPositions={south:(en,Vr)=>({top:en.bottom,left:en.left-(Vr.width-en.width)/2,name:"s"}),southEast:en=>({top:en.bottom,left:en.left,name:"se"}),southWest:(en,Vr)=>({top:en.bottom,left:en.left-Vr.width+en.width,name:"sw"}),southMiddleEast:(en,Vr)=>({top:en.bottom,left:en.left-(Vr.width-en.width)/4,name:"sme"}),southMiddleWest:(en,Vr)=>({top:en.bottom,left:en.left-3*(Vr.width-en.width)/4,name:"smw"}),north:(en,Vr)=>({top:en.top-Vr.height,left:en.left-(Vr.width-en.width)/2,name:"n"}),northEast:(en,Vr)=>({top:en.top-Vr.height,left:en.left,name:"ne"}),northWest:(en,Vr)=>({top:en.top-Vr.height,left:en.left-Vr.width+en.width,name:"nw"}),northMiddleEast:(en,Vr)=>({top:en.top-Vr.height,left:en.left-(Vr.width-en.width)/4,name:"nme"}),northMiddleWest:(en,Vr)=>({top:en.top-Vr.height,left:en.left-3*(Vr.width-en.width)/4,name:"nmw"})},Qd._getOptimalPosition=Ln;const bf='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class pg extends gs{constructor(Vr){super(Vr),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",Wr=>String(Wr))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const Vr=new iu;return Vr.content=bf,Vr.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),Vr}}class sd{constructor(Vr){if(this.focusables=Vr.focusables,this.focusTracker=Vr.focusTracker,this.keystrokeHandler=Vr.keystrokeHandler,this.actions=Vr.actions,Vr.actions&&Vr.keystrokeHandler)for(const Wr in Vr.actions){let Zr=Vr.actions[Wr];typeof Zr=="string"&&(Zr=[Zr]);for(const tn of Zr)Vr.keystrokeHandler.set(tn,(sn,un)=>{this[Wr](),un()})}}get first(){return this.focusables.find(El)||null}get last(){return this.focusables.filter(El).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let Vr=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((Wr,Zr)=>{const tn=Wr.element===this.focusTracker.focusedElement;return tn&&(Vr=Zr),tn}),Vr)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(Vr){Vr&&Vr.focus()}_getFocusableItem(Vr){const Wr=this.current,Zr=this.focusables.length;if(!Zr)return null;if(Wr===null)return this[Vr===1?"first":"last"];let tn=(Wr+Zr+Vr)%Zr;do{const sn=this.focusables.get(tn);if(El(sn))return sn;tn=(tn+Zr+Vr)%Zr}while(tn!==Wr);return null}}function El(en){return!(!en.focus||!Tc(en.element))}class Jd extends is{constructor(Vr){super(Vr),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class fp extends is{constructor(Vr){super(Vr),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function _f(en){return Array.isArray(en)?{items:en,removeItems:[]}:en?Object.assign({items:[],removeItems:[]},en):{items:[],removeItems:[]}}class yo extends Ji(){constructor(Vr){super(),this._disableStack=new Set,this.editor=Vr,this.set("isEnabled",!0)}forceDisabled(Vr){this._disableStack.add(Vr),this._disableStack.size==1&&(this.on("set:isEnabled",ld,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(Vr){this._disableStack.delete(Vr),this._disableStack.size==0&&(this.off("set:isEnabled",ld),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function ld(en){en.return=!1,en.stop()}class Wa extends Ji(){constructor(Vr){super(),this.editor=Vr,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(Vr,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",Wr=>{this.affectsData&&(Vr.isReadOnly||this._isEnabledBasedOnSelection&&!Vr.model.canEditAt(Vr.model.document.selection))&&(Wr.return=!1,Wr.stop())},{priority:"highest"}),this.on("execute",Wr=>{this.isEnabled||Wr.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(Vr){this._affectsData=Vr}refresh(){this.isEnabled=!0}forceDisabled(Vr){this._disableStack.add(Vr),this._disableStack.size==1&&(this.on("set:isEnabled",wf,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(Vr){this._disableStack.delete(Vr),this._disableStack.size==0&&(this.off("set:isEnabled",wf),this.refresh())}execute(...Vr){}destroy(){this.stopListening()}}function wf(en){en.return=!1,en.stop()}class kf extends Wa{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...Vr){const Wr=this._getFirstEnabledCommand();return!!Wr&&Wr.execute(Vr)}registerChildCommand(Vr,Wr={}){_n(this._childCommandsDefinitions,{command:Vr,priority:Wr.priority||"normal"}),Vr.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const Vr=this._childCommandsDefinitions.find(({command:Wr})=>Wr.isEnabled);return Vr&&Vr.command}}class Af extends Ci(){constructor(Vr,Wr=[],Zr=[]){super(),this._plugins=new Map,this._context=Vr,this._availablePlugins=new Map;for(const tn of Wr)tn.pluginName&&this._availablePlugins.set(tn.pluginName,tn);this._contextPlugins=new Map;for(const[tn,sn]of Zr)this._contextPlugins.set(tn,sn),this._contextPlugins.set(sn,tn),tn.pluginName&&this._availablePlugins.set(tn.pluginName,tn)}*[Symbol.iterator](){for(const Vr of this._plugins)typeof Vr[0]=="function"&&(yield Vr)}get(Vr){const Wr=this._plugins.get(Vr);if(!Wr){let Zr=Vr;throw typeof Vr=="function"&&(Zr=Vr.pluginName||Vr.name),new Cn("plugincollection-plugin-not-loaded",this._context,{plugin:Zr})}return Wr}has(Vr){return this._plugins.has(Vr)}init(Vr,Wr=[],Zr=[]){const tn=this,sn=this._context;(function Kn(ti,si=new Set){ti.forEach(fi=>{yn(fi)&&(si.has(fi)||(si.add(fi),fi.pluginName&&!tn._availablePlugins.has(fi.pluginName)&&tn._availablePlugins.set(fi.pluginName,fi),fi.requires&&Kn(fi.requires,si)))})})(Vr),Rn(Vr);const un=[...function Kn(ti,si=new Set){return ti.map(fi=>yn(fi)?fi:tn._availablePlugins.get(fi)).reduce((fi,Li)=>si.has(Li)?fi:(si.add(Li),Li.requires&&(Rn(Li.requires,Li),Kn(Li.requires,si).forEach(eo=>fi.add(eo))),fi.add(Li)),new Set)}(Vr.filter(Kn=>!Dn(Kn,Wr)))];(function(Kn,ti){for(const si of ti){if(typeof si!="function")throw new Cn("plugincollection-replace-plugin-invalid-type",null,{pluginItem:si});const fi=si.pluginName;if(!fi)throw new Cn("plugincollection-replace-plugin-missing-name",null,{pluginItem:si});if(si.requires&&si.requires.length)throw new Cn("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:fi});const Li=tn._availablePlugins.get(fi);if(!Li)throw new Cn("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:fi});const eo=Kn.indexOf(Li);if(eo===-1){if(tn._contextPlugins.has(Li))return;throw new Cn("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:fi})}if(Li.requires&&Li.requires.length)throw new Cn("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:fi});Kn.splice(eo,1,si),tn._availablePlugins.set(fi,si)}})(un,Zr);const fn=un.map(Kn=>{let ti=tn._contextPlugins.get(Kn);return ti=ti||new Kn(sn),tn._add(Kn,ti),ti});return Un(fn,"init").then(()=>Un(fn,"afterInit")).then(()=>fn);function yn(Kn){return typeof Kn=="function"}function xn(Kn){return yn(Kn)&&!!Kn.isContextPlugin}function Dn(Kn,ti){return ti.some(si=>si===Kn||Mn(Kn)===si||Mn(si)===Kn)}function Mn(Kn){return yn(Kn)?Kn.pluginName||Kn.name:Kn}function Rn(Kn,ti=null){Kn.map(si=>yn(si)?si:tn._availablePlugins.get(si)||si).forEach(si=>{(function(fi,Li){if(!yn(fi))throw Li?new Cn("plugincollection-soft-required",sn,{missingPlugin:fi,requiredBy:Mn(Li)}):new Cn("plugincollection-plugin-not-found",sn,{plugin:fi})})(si,ti),function(fi,Li){if(xn(Li)&&!xn(fi))throw new Cn("plugincollection-context-required",sn,{plugin:Mn(fi),requiredBy:Mn(Li)})}(si,ti),function(fi,Li){if(Li&&Dn(fi,Wr))throw new Cn("plugincollection-required",sn,{plugin:Mn(fi),requiredBy:Mn(Li)})}(si,ti)})}function Un(Kn,ti){return Kn.reduce((si,fi)=>fi[ti]?tn._contextPlugins.has(fi)?si:si.then(fi[ti].bind(fi)):si,Promise.resolve())}}destroy(){const Vr=[];for(const[,Wr]of this)typeof Wr.destroy!="function"||this._contextPlugins.has(Wr)||Vr.push(Wr.destroy());return Promise.all(Vr)}_add(Vr,Wr){this._plugins.set(Vr,Wr);const Zr=Vr.pluginName;if(Zr){if(this._plugins.has(Zr))throw new Cn("plugincollection-plugin-name-conflict",null,{pluginName:Zr,plugin1:this._plugins.get(Zr).constructor,plugin2:Vr});this._plugins.set(Zr,Wr)}}}class cd{constructor(Vr){this._contextOwner=null,this.config=new ma(Vr,this.constructor.defaultConfig);const Wr=this.constructor.builtinPlugins;this.config.define("plugins",Wr),this.plugins=new Af(this,Wr);const Zr=this.config.get("language")||{};this.locale=new sg({uiLanguage:typeof Zr=="string"?Zr:Zr.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Fc}initPlugins(){const Vr=this.config.get("plugins")||[],Wr=this.config.get("substitutePlugins")||[];for(const Zr of Vr.concat(Wr)){if(typeof Zr!="function")throw new Cn("context-initplugins-constructor-only",null,{Plugin:Zr});if(Zr.isContextPlugin!==!0)throw new Cn("context-initplugins-invalid-plugin",null,{Plugin:Zr})}return this.plugins.init(Vr,[],Wr)}destroy(){return Promise.all(Array.from(this.editors,Vr=>Vr.destroy())).then(()=>this.plugins.destroy())}_addEditor(Vr,Wr){if(this._contextOwner)throw new Cn("context-addeditor-private-context");this.editors.add(Vr),Wr&&(this._contextOwner=Vr)}_removeEditor(Vr){return this.editors.has(Vr)&&this.editors.remove(Vr),this._contextOwner===Vr?this.destroy():Promise.resolve()}_getEditorConfig(){const Vr={};for(const Wr of this.config.names())["plugins","removePlugins","extraPlugins"].includes(Wr)||(Vr[Wr]=this.config.get(Wr));return Vr}static create(Vr){return new Promise(Wr=>{const Zr=new this(Vr);Wr(Zr.initPlugins().then(()=>Zr))})}}class eh extends Ji(){constructor(Vr){super(),this.context=Vr}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Eh extends tu{constructor(Vr){super(),this.editor=Vr}set(Vr,Wr,Zr={}){if(typeof Wr=="string"){const tn=Wr;Wr=(sn,un)=>{this.editor.execute(tn),un()}}super.set(Vr,Wr,Zr)}}var Cf=Fr(4717),th={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Cf.Z,th),Cf.Z.locals;const Th=new WeakMap;function ud({view:en,element:Vr,text:Wr,isDirectHost:Zr=!0,keepOnFocus:tn=!1}){const sn=en.document;Th.has(sn)||(Th.set(sn,new Map),sn.registerPostFixer(un=>Mh(sn,un)),sn.on("change:isComposing",()=>{en.change(un=>Mh(sn,un))},{priority:"high"})),Th.get(sn).set(Vr,{text:Wr,isDirectHost:Zr,keepOnFocus:tn,hostElement:Zr?Vr:null}),en.change(un=>Mh(sn,un))}function pp(en,Vr){return!!Vr.hasClass("ck-placeholder")&&(en.removeClass("ck-placeholder",Vr),!0)}function Mh(en,Vr){const Wr=Th.get(en),Zr=[];let tn=!1;for(const[sn,un]of Wr)un.isDirectHost&&(Zr.push(sn),xf(Vr,sn,un)&&(tn=!0));for(const[sn,un]of Wr){if(un.isDirectHost)continue;const fn=rh(sn);fn&&(Zr.includes(fn)||(un.hostElement=fn,xf(Vr,sn,un)&&(tn=!0)))}return tn}function xf(en,Vr,Wr){const{text:Zr,isDirectHost:tn,hostElement:sn}=Wr;let un=!1;return sn.getAttribute("data-placeholder")!==Zr&&(en.setAttribute("data-placeholder",Zr,sn),un=!0),(tn||Vr.childCount==1)&&function(fn,yn){if(!fn.isAttached()||Array.from(fn.getChildren()).some(Mn=>!Mn.is("uiElement")))return!1;const xn=fn.document,Dn=xn.selection.anchor;return!(xn.isComposing&&Dn&&Dn.parent===fn||!yn&&xn.isFocused&&(!Dn||Dn.parent===fn))}(sn,Wr.keepOnFocus)?function(fn,yn){return!yn.hasClass("ck-placeholder")&&(fn.addClass("ck-placeholder",yn),!0)}(en,sn)&&(un=!0):pp(en,sn)&&(un=!0),un}function rh(en){if(en.childCount){const Vr=en.getChild(0);if(Vr.is("element")&&!Vr.is("uiElement")&&!Vr.is("attributeElement"))return Vr}return null}class Hc{is(){throw new Error("is() method is abstract")}}const Sd=function(en){return Bo(en,4)};class Vc extends Ci(Hc){constructor(Vr){super(),this.document=Vr,this.parent=null}get index(){let Vr;if(!this.parent)return null;if((Vr=this.parent.getChildIndex(this))==-1)throw new Cn("view-node-not-found-in-parent",this);return Vr}get nextSibling(){const Vr=this.index;return Vr!==null&&this.parent.getChild(Vr+1)||null}get previousSibling(){const Vr=this.index;return Vr!==null&&this.parent.getChild(Vr-1)||null}get root(){let Vr=this;for(;Vr.parent;)Vr=Vr.parent;return Vr}isAttached(){return this.root.is("rootElement")}getPath(){const Vr=[];let Wr=this;for(;Wr.parent;)Vr.unshift(Wr.index),Wr=Wr.parent;return Vr}getAncestors(Vr={}){const Wr=[];let Zr=Vr.includeSelf?this:this.parent;for(;Zr;)Wr[Vr.parentFirst?"push":"unshift"](Zr),Zr=Zr.parent;return Wr}getCommonAncestor(Vr,Wr={}){const Zr=this.getAncestors(Wr),tn=Vr.getAncestors(Wr);let sn=0;for(;Zr[sn]==tn[sn]&&Zr[sn];)sn++;return sn===0?null:Zr[sn-1]}isBefore(Vr){if(this==Vr||this.root!==Vr.root)return!1;const Wr=this.getPath(),Zr=Vr.getPath(),tn=Aa(Wr,Zr);switch(tn){case"prefix":return!0;case"extension":return!1;default:return Wr[tn]<Zr[tn]}}isAfter(Vr){return this!=Vr&&this.root===Vr.root&&!this.isBefore(Vr)}_remove(){this.parent._removeChildren(this.index)}_fireChange(Vr,Wr){this.fire(`change:${Vr}`,Wr),this.parent&&this.parent._fireChange(Vr,Wr)}toJSON(){const Vr=Sd(this);return delete Vr.parent,Vr}}Vc.prototype.is=function(en){return en==="node"||en==="view:node"};class Ls extends Vc{constructor(Vr,Wr){super(Vr),this._textData=Wr}get data(){return this._textData}get _data(){return this.data}set _data(Vr){this._fireChange("text",this),this._textData=Vr}isSimilar(Vr){return Vr instanceof Ls&&(this===Vr||this.data===Vr.data)}_clone(){return new Ls(this.document,this.data)}}Ls.prototype.is=function(en){return en==="$text"||en==="view:$text"||en==="text"||en==="view:text"||en==="node"||en==="view:node"};class ou extends Hc{constructor(Vr,Wr,Zr){if(super(),this.textNode=Vr,Wr<0||Wr>Vr.data.length)throw new Cn("view-textproxy-wrong-offsetintext",this);if(Zr<0||Wr+Zr>Vr.data.length)throw new Cn("view-textproxy-wrong-length",this);this.data=Vr.data.substring(Wr,Wr+Zr),this.offsetInText=Wr}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(Vr={}){const Wr=[];let Zr=Vr.includeSelf?this.textNode:this.parent;for(;Zr!==null;)Wr[Vr.parentFirst?"push":"unshift"](Zr),Zr=Zr.parent;return Wr}}ou.prototype.is=function(en){return en==="$textProxy"||en==="view:$textProxy"||en==="textProxy"||en==="view:textProxy"};class jc{constructor(...Vr){this._patterns=[],this.add(...Vr)}add(...Vr){for(let Wr of Vr)(typeof Wr=="string"||Wr instanceof RegExp)&&(Wr={name:Wr}),this._patterns.push(Wr)}match(...Vr){for(const Wr of Vr)for(const Zr of this._patterns){const tn=_u(Wr,Zr);if(tn)return{element:Wr,pattern:Zr,match:tn}}return null}matchAll(...Vr){const Wr=[];for(const Zr of Vr)for(const tn of this._patterns){const sn=_u(Zr,tn);sn&&Wr.push({element:Zr,pattern:tn,match:sn})}return Wr.length>0?Wr:null}getElementName(){if(this._patterns.length!==1)return null;const Vr=this._patterns[0],Wr=Vr.name;return typeof Vr=="function"||!Wr||Wr instanceof RegExp?null:Wr}}function _u(en,Vr){if(typeof Vr=="function")return Vr(en);const Wr={};return Vr.name&&(Wr.name=function(Zr,tn){return Zr instanceof RegExp?!!tn.match(Zr):Zr===tn}(Vr.name,en.name),!Wr.name)||Vr.attributes&&(Wr.attributes=function(Zr,tn){const sn=new Set(tn.getAttributeKeys());return us(Zr)?(Zr.style!==void 0&&En("matcher-pattern-deprecated-attributes-style-key",Zr),Zr.class!==void 0&&En("matcher-pattern-deprecated-attributes-class-key",Zr)):(sn.delete("style"),sn.delete("class")),Fu(Zr,sn,un=>tn.getAttribute(un))}(Vr.attributes,en),!Wr.attributes)||Vr.classes&&(Wr.classes=function(Zr,tn){return Fu(Zr,tn.getClassNames(),()=>{})}(Vr.classes,en),!Wr.classes)||Vr.styles&&(Wr.styles=function(Zr,tn){return Fu(Zr,tn.getStyleNames(!0),sn=>tn.getStyle(sn))}(Vr.styles,en),!Wr.styles)?null:Wr}function Fu(en,Vr,Wr){const Zr=function(un){return Array.isArray(un)?un.map(fn=>us(fn)?(fn.key!==void 0&&fn.value!==void 0||En("matcher-pattern-missing-key-or-value",fn),[fn.key,fn.value]):[fn,!0]):us(un)?Object.entries(un):[[un,!0]]}(en),tn=Array.from(Vr),sn=[];if(Zr.forEach(([un,fn])=>{tn.forEach(yn=>{(function(xn,Dn){return xn===!0||xn===Dn||xn instanceof RegExp&&Dn.match(xn)})(un,yn)&&function(xn,Dn,Mn){if(xn===!0)return!0;const Rn=Mn(Dn);return xn===Rn||xn instanceof RegExp&&!!String(Rn).match(xn)}(fn,yn,Wr)&&sn.push(yn)})}),Zr.length&&!(sn.length<Zr.length))return sn}const zu=function(en){return typeof en=="symbol"||oo(en)&&Ui(en)=="[object Symbol]"};var gg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gp=/^\w*$/;const mg=function(en,Vr){if(Lo(en))return!1;var Wr=typeof en;return!(Wr!="number"&&Wr!="symbol"&&Wr!="boolean"&&en!=null&&!zu(en))||gp.test(en)||!gg.test(en)||Vr!=null&&en in Object(Vr)};function Sf(en,Vr){if(typeof en!="function"||Vr!=null&&typeof Vr!="function")throw new TypeError("Expected a function");var Wr=function(){var Zr=arguments,tn=Vr?Vr.apply(this,Zr):Zr[0],sn=Wr.cache;if(sn.has(tn))return sn.get(tn);var un=en.apply(this,Zr);return Wr.cache=sn.set(tn,un)||sn,un};return Wr.cache=new(Sf.Cache||Fa),Wr}Sf.Cache=Fa;const vg=Sf,oc=function(en){var Vr=vg(en,function(Zr){return Wr.size===500&&Wr.clear(),Zr}),Wr=Vr.cache;return Vr};var mp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yg=/\\(\\)?/g,bg=oc(function(en){var Vr=[];return en.charCodeAt(0)===46&&Vr.push(""),en.replace(mp,function(Wr,Zr,tn,sn){Vr.push(tn?sn.replace(yg,"$1"):Zr||Wr)}),Vr});const _g=bg,vp=function(en,Vr){for(var Wr=-1,Zr=en==null?0:en.length,tn=Array(Zr);++Wr<Zr;)tn[Wr]=Vr(en[Wr],Wr,en);return tn};var Df=ai?ai.prototype:void 0,Ef=Df?Df.toString:void 0;const wg=function en(Vr){if(typeof Vr=="string")return Vr;if(Lo(Vr))return vp(Vr,en)+"";if(zu(Vr))return Ef?Ef.call(Vr):"";var Wr=Vr+"";return Wr=="0"&&1/Vr==-1/0?"-0":Wr},Tf=function(en){return en==null?"":wg(en)},Mf=function(en,Vr){return Lo(en)?en:mg(en,Vr)?[en]:_g(Tf(en))},Hu=function(en){var Vr=en==null?0:en.length;return Vr?en[Vr-1]:void 0},dd=function(en){if(typeof en=="string"||zu(en))return en;var Vr=en+"";return Vr=="0"&&1/en==-1/0?"-0":Vr},nh=function(en,Vr){for(var Wr=0,Zr=(Vr=Mf(Vr,en)).length;en!=null&&Wr<Zr;)en=en[dd(Vr[Wr++])];return Wr&&Wr==Zr?en:void 0},Dd=function(en,Vr,Wr){var Zr=-1,tn=en.length;Vr<0&&(Vr=-Vr>tn?0:tn+Vr),(Wr=Wr>tn?tn:Wr)<0&&(Wr+=tn),tn=Vr>Wr?0:Wr-Vr>>>0,Vr>>>=0;for(var sn=Array(tn);++Zr<tn;)sn[Zr]=en[Zr+Vr];return sn},wu=function(en,Vr){return Vr.length<2?en:nh(en,Dd(Vr,0,-1))},kg=function(en,Vr){return Vr=Mf(Vr,en),(en=wu(en,Vr))==null||delete en[dd(Hu(Vr))]},Ag=function(en,Vr){return en==null||kg(en,Vr)},ku=function(en,Vr,Wr){var Zr=en==null?void 0:nh(en,Vr);return Zr===void 0?Wr:Zr},Ih=function(en,Vr,Wr){(Wr!==void 0&&!ml(en[Vr],Wr)||Wr===void 0&&!(Vr in en))&&vs(en,Vr,Wr)},yp=function(en){return function(Vr,Wr,Zr){for(var tn=-1,sn=Object(Vr),un=Zr(Vr),fn=un.length;fn--;){var yn=un[en?fn:++tn];if(Wr(sn[yn],yn,sn)===!1)break}return Vr}}(),bp=function(en){return oo(en)&&$n(en)},Ed=function(en,Vr){if((Vr!=="constructor"||typeof en[Vr]!="function")&&Vr!="__proto__")return en[Vr]},Td=function(en){return Ta(en,yi(en))},If=function(en,Vr,Wr,Zr,tn,sn,un){var fn=Ed(en,Wr),yn=Ed(Vr,Wr),xn=un.get(yn);if(xn)Ih(en,Wr,xn);else{var Dn=sn?sn(fn,yn,Wr+"",en,Vr,un):void 0,Mn=Dn===void 0;if(Mn){var Rn=Lo(yn),Un=!Rn&&Ys(yn),Kn=!Rn&&!Un&&el(yn);Dn=yn,Rn||Un||Kn?Lo(fn)?Dn=fn:bp(fn)?Dn=Ga(fn):Un?(Mn=!1,Dn=pa(yn,!0)):Kn?(Mn=!1,Dn=rd(yn,!0)):Dn=[]:us(yn)||Cl(yn)?(Dn=fn,Cl(fn)?Dn=Td(fn):ji(fn)&&!Ha(fn)||(Dn=eu(yn))):Mn=!1}Mn&&(un.set(yn,Dn),tn(Dn,yn,Zr,sn,un),un.delete(yn)),Ih(en,Wr,Dn)}},Lf=function en(Vr,Wr,Zr,tn,sn){Vr!==Wr&&yp(Wr,function(un,fn){if(sn||(sn=new Ea),ji(un))If(Vr,Wr,fn,Zr,en,tn,sn);else{var yn=tn?tn(Ed(Vr,fn),un,fn+"",Vr,Wr,sn):void 0;yn===void 0&&(yn=un),Ih(Vr,fn,yn)}},yi)},Au=function(en){return en},Cg=function(en,Vr,Wr){switch(Wr.length){case 0:return en.call(Vr);case 1:return en.call(Vr,Wr[0]);case 2:return en.call(Vr,Wr[0],Wr[1]);case 3:return en.call(Vr,Wr[0],Wr[1],Wr[2])}return en.apply(Vr,Wr)};var Md=Math.max;const _p=function(en,Vr,Wr){return Vr=Md(Vr===void 0?en.length-1:Vr,0),function(){for(var Zr=arguments,tn=-1,sn=Md(Zr.length-Vr,0),un=Array(sn);++tn<sn;)un[tn]=Zr[Vr+tn];tn=-1;for(var fn=Array(Vr+1);++tn<Vr;)fn[tn]=Zr[tn];return fn[Vr]=Wr(un),Cg(en,this,fn)}},xg=function(en){return function(){return en}},wp=Ka?function(en,Vr){return Ka(en,"toString",{configurable:!0,enumerable:!1,value:xg(Vr),writable:!0})}:Au;var Lh=Date.now;const Sg=function(en){var Vr=0,Wr=0;return function(){var Zr=Lh(),tn=16-(Zr-Wr);if(Wr=Zr,tn>0){if(++Vr>=800)return arguments[0]}else Vr=0;return en.apply(void 0,arguments)}}(wp),ih=function(en,Vr){return Sg(_p(en,Vr,Au),en+"")},kp=function(en,Vr,Wr){if(!ji(Wr))return!1;var Zr=typeof Vr;return!!(Zr=="number"?$n(Wr)&&yl(Vr,Wr.length):Zr=="string"&&Vr in Wr)&&ml(Wr[Vr],en)},Pf=function(en){return ih(function(Vr,Wr){var Zr=-1,tn=Wr.length,sn=tn>1?Wr[tn-1]:void 0,un=tn>2?Wr[2]:void 0;for(sn=en.length>3&&typeof sn=="function"?(tn--,sn):void 0,un&&kp(Wr[0],Wr[1],un)&&(sn=tn<3?void 0:sn,tn=1),Vr=Object(Vr);++Zr<tn;){var fn=Wr[Zr];fn&&en(Vr,fn,Zr,sn)}return Vr})},Ap=Pf(function(en,Vr,Wr){Lf(en,Vr,Wr)}),Of=function(en,Vr,Wr,Zr){if(!ji(en))return en;for(var tn=-1,sn=(Vr=Mf(Vr,en)).length,un=sn-1,fn=en;fn!=null&&++tn<sn;){var yn=dd(Vr[tn]),xn=Wr;if(yn==="__proto__"||yn==="constructor"||yn==="prototype")return en;if(tn!=un){var Dn=fn[yn];(xn=Zr?Zr(Dn,yn,fn):void 0)===void 0&&(xn=ji(Dn)?Dn:yl(Vr[tn+1])?[]:{})}Pa(fn,yn,xn),fn=fn[yn]}return en},Cp=function(en,Vr,Wr){return en==null?en:Of(en,Vr,Wr)};class Dg{constructor(Vr){this._styles={},this._styleProcessor=Vr}get isEmpty(){const Vr=Object.entries(this._styles);return!Array.from(Vr).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(Vr){this.clear();const Wr=Array.from(function(Zr){let tn=null,sn=0,un=0,fn=null;const yn=new Map;if(Zr==="")return yn;Zr.charAt(Zr.length-1)!=";"&&(Zr+=";");for(let xn=0;xn<Zr.length;xn++){const Dn=Zr.charAt(xn);if(tn===null)switch(Dn){case":":fn||(fn=Zr.substr(sn,xn-sn),un=xn+1);break;case'"':case"'":tn=Dn;break;case";":{const Mn=Zr.substr(un,xn-un);fn&&yn.set(fn.trim(),Mn.trim()),fn=null,sn=xn+1;break}}else Dn===tn&&(tn=null)}return yn}(Vr).entries());for(const[Zr,tn]of Wr)this._styleProcessor.toNormalizedForm(Zr,tn,this._styles)}has(Vr){if(this.isEmpty)return!1;const Wr=this._styleProcessor.getReducedForm(Vr,this._styles).find(([Zr])=>Zr===Vr);return Array.isArray(Wr)}set(Vr,Wr){if(ji(Vr))for(const[Zr,tn]of Object.entries(Vr))this._styleProcessor.toNormalizedForm(Zr,tn,this._styles);else this._styleProcessor.toNormalizedForm(Vr,Wr,this._styles)}remove(Vr){const Wr=Ph(Vr);Ag(this._styles,Wr),delete this._styles[Vr],this._cleanEmptyObjectsOnPath(Wr)}getNormalized(Vr){return this._styleProcessor.getNormalized(Vr,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(Vr=>Vr.join(":")).sort().join(";")+";"}getAsString(Vr){if(this.isEmpty)return;if(this._styles[Vr]&&!ji(this._styles[Vr]))return this._styles[Vr];const Wr=this._styleProcessor.getReducedForm(Vr,this._styles).find(([Zr])=>Zr===Vr);return Array.isArray(Wr)?Wr[1]:void 0}getStyleNames(Vr=!1){return this.isEmpty?[]:Vr?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([Wr])=>Wr)}clear(){this._styles={}}_getStylesEntries(){const Vr=[],Wr=Object.keys(this._styles);for(const Zr of Wr)Vr.push(...this._styleProcessor.getReducedForm(Zr,this._styles));return Vr}_cleanEmptyObjectsOnPath(Vr){const Wr=Vr.split(".");if(!(Wr.length>1))return;const Zr=Wr.splice(0,Wr.length-1).join("."),tn=ku(this._styles,Zr);tn&&!Array.from(Object.keys(tn)).length&&this.remove(Zr)}}class xp{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(Vr,Wr,Zr){if(ji(Wr))Rf(Zr,Ph(Vr),Wr);else if(this._normalizers.has(Vr)){const tn=this._normalizers.get(Vr),{path:sn,value:un}=tn(Wr);Rf(Zr,sn,un)}else Rf(Zr,Vr,Wr)}getNormalized(Vr,Wr){if(!Vr)return Ap({},Wr);if(Wr[Vr]!==void 0)return Wr[Vr];if(this._extractors.has(Vr)){const Zr=this._extractors.get(Vr);if(typeof Zr=="string")return ku(Wr,Zr);const tn=Zr(Vr,Wr);if(tn)return tn}return ku(Wr,Ph(Vr))}getReducedForm(Vr,Wr){const Zr=this.getNormalized(Vr,Wr);return Zr===void 0?[]:this._reducers.has(Vr)?this._reducers.get(Vr)(Zr):[[Vr,Zr]]}getStyleNames(Vr){const Wr=Array.from(this._consumables.keys()).filter(tn=>{const sn=this.getNormalized(tn,Vr);return sn&&typeof sn=="object"?Object.keys(sn).length:sn}),Zr=new Set([...Wr,...Object.keys(Vr)]);return Array.from(Zr.values())}getRelatedStyles(Vr){return this._consumables.get(Vr)||[]}setNormalizer(Vr,Wr){this._normalizers.set(Vr,Wr)}setExtractor(Vr,Wr){this._extractors.set(Vr,Wr)}setReducer(Vr,Wr){this._reducers.set(Vr,Wr)}setStyleRelation(Vr,Wr){this._mapStyleNames(Vr,Wr);for(const Zr of Wr)this._mapStyleNames(Zr,[Vr])}_mapStyleNames(Vr,Wr){this._consumables.has(Vr)||this._consumables.set(Vr,[]),this._consumables.get(Vr).push(...Wr)}}function Ph(en){return en.replace("-",".")}function Rf(en,Vr,Wr){let Zr=Wr;ji(Wr)&&(Zr=Ap({},ku(en,Vr),Wr)),Cp(en,Vr,Zr)}class ac extends Vc{constructor(Vr,Wr,Zr,tn){if(super(Vr),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=Wr,this._attrs=function(sn){const un=rl(sn);for(const[fn,yn]of un)yn===null?un.delete(fn):typeof yn!="string"&&un.set(fn,String(yn));return un}(Zr),this._children=[],tn&&this._insertChild(0,tn),this._classes=new Set,this._attrs.has("class")){const sn=this._attrs.get("class");Id(this._classes,sn),this._attrs.delete("class")}this._styles=new Dg(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(Vr){return this._children[Vr]}getChildIndex(Vr){return this._children.indexOf(Vr)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(Vr){if(Vr=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(Vr=="style"){const Wr=this._styles.toString();return Wr==""?void 0:Wr}return this._attrs.get(Vr)}hasAttribute(Vr){return Vr=="class"?this._classes.size>0:Vr=="style"?!this._styles.isEmpty:this._attrs.has(Vr)}isSimilar(Vr){if(!(Vr instanceof ac))return!1;if(this===Vr)return!0;if(this.name!=Vr.name||this._attrs.size!==Vr._attrs.size||this._classes.size!==Vr._classes.size||this._styles.size!==Vr._styles.size)return!1;for(const[Wr,Zr]of this._attrs)if(!Vr._attrs.has(Wr)||Vr._attrs.get(Wr)!==Zr)return!1;for(const Wr of this._classes)if(!Vr._classes.has(Wr))return!1;for(const Wr of this._styles.getStyleNames())if(!Vr._styles.has(Wr)||Vr._styles.getAsString(Wr)!==this._styles.getAsString(Wr))return!1;return!0}hasClass(...Vr){for(const Wr of Vr)if(!this._classes.has(Wr))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(Vr){return this._styles.getAsString(Vr)}getNormalizedStyle(Vr){return this._styles.getNormalized(Vr)}getStyleNames(Vr){return this._styles.getStyleNames(Vr)}hasStyle(...Vr){for(const Wr of Vr)if(!this._styles.has(Wr))return!1;return!0}findAncestor(...Vr){const Wr=new jc(...Vr);let Zr=this.parent;for(;Zr&&!Zr.is("documentFragment");){if(Wr.match(Zr))return Zr;Zr=Zr.parent}return null}getCustomProperty(Vr){return this._customProperties.get(Vr)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const Vr=Array.from(this._classes).sort().join(","),Wr=this._styles.toString(),Zr=Array.from(this._attrs).map(tn=>`${tn[0]}="${tn[1]}"`).sort().join(" ");return this.name+(Vr==""?"":` class="${Vr}"`)+(Wr?` style="${Wr}"`:"")+(Zr==""?"":` ${Zr}`)}shouldRenderUnsafeAttribute(Vr){return this._unsafeAttributesToRender.includes(Vr)}_clone(Vr=!1){const Wr=[];if(Vr)for(const tn of this.getChildren())Wr.push(tn._clone(Vr));const Zr=new this.constructor(this.document,this.name,this._attrs,Wr);return Zr._classes=new Set(this._classes),Zr._styles.set(this._styles.getNormalized()),Zr._customProperties=new Map(this._customProperties),Zr.getFillerOffset=this.getFillerOffset,Zr._unsafeAttributesToRender=this._unsafeAttributesToRender,Zr}_appendChild(Vr){return this._insertChild(this.childCount,Vr)}_insertChild(Vr,Wr){this._fireChange("children",this);let Zr=0;const tn=function(sn,un){return typeof un=="string"?[new Ls(sn,un)]:(Ei(un)||(un=[un]),Array.from(un).map(fn=>typeof fn=="string"?new Ls(sn,fn):fn instanceof ou?new Ls(sn,fn.data):fn))}(this.document,Wr);for(const sn of tn)sn.parent!==null&&sn._remove(),sn.parent=this,sn.document=this.document,this._children.splice(Vr,0,sn),Vr++,Zr++;return Zr}_removeChildren(Vr,Wr=1){this._fireChange("children",this);for(let Zr=Vr;Zr<Vr+Wr;Zr++)this._children[Zr].parent=null;return this._children.splice(Vr,Wr)}_setAttribute(Vr,Wr){const Zr=String(Wr);this._fireChange("attributes",this),Vr=="class"?Id(this._classes,Zr):Vr=="style"?this._styles.setTo(Zr):this._attrs.set(Vr,Zr)}_removeAttribute(Vr){return this._fireChange("attributes",this),Vr=="class"?this._classes.size>0&&(this._classes.clear(),!0):Vr=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(Vr)}_addClass(Vr){this._fireChange("attributes",this);for(const Wr of Nl(Vr))this._classes.add(Wr)}_removeClass(Vr){this._fireChange("attributes",this);for(const Wr of Nl(Vr))this._classes.delete(Wr)}_setStyle(Vr,Wr){this._fireChange("attributes",this),typeof Vr!="string"?this._styles.set(Vr):this._styles.set(Vr,Wr)}_removeStyle(Vr){this._fireChange("attributes",this);for(const Wr of Nl(Vr))this._styles.remove(Wr)}_setCustomProperty(Vr,Wr){this._customProperties.set(Vr,Wr)}_removeCustomProperty(Vr){return this._customProperties.delete(Vr)}}function Id(en,Vr){const Wr=Vr.split(/\s+/);en.clear(),Wr.forEach(Zr=>en.add(Zr))}ac.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="element"||en==="view:element"):en==="element"||en==="view:element"||en==="node"||en==="view:node"};class Cu extends ac{constructor(Vr,Wr,Zr,tn){super(Vr,Wr,Zr,tn),this.getFillerOffset=Sp}}function Sp(){const en=[...this.getChildren()],Vr=en[this.childCount-1];if(Vr&&Vr.is("element","br"))return this.childCount;for(const Wr of en)if(!Wr.is("uiElement"))return null;return this.childCount}Cu.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="containerElement"||en==="view:containerElement"||en==="element"||en==="view:element"):en==="containerElement"||en==="view:containerElement"||en==="element"||en==="view:element"||en==="node"||en==="view:node"};class oh extends Ji(Cu){constructor(Vr,Wr,Zr,tn){super(Vr,Wr,Zr,tn),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(Vr),this.bind("isFocused").to(Vr,"isFocused",sn=>sn&&Vr.selection.editableElement==this),this.listenTo(Vr.selection,"change",()=>{this.isFocused=Vr.isFocused&&Vr.selection.editableElement==this})}destroy(){this.stopListening()}}oh.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="editableElement"||en==="view:editableElement"||en==="containerElement"||en==="view:containerElement"||en==="element"||en==="view:element"):en==="editableElement"||en==="view:editableElement"||en==="containerElement"||en==="view:containerElement"||en==="element"||en==="view:element"||en==="node"||en==="view:node"};const Dp=Symbol("rootName");class Ep extends oh{constructor(Vr,Wr){super(Vr,Wr),this.rootName="main"}get rootName(){return this.getCustomProperty(Dp)}set rootName(Vr){this._setCustomProperty(Dp,Vr)}set _name(Vr){this.name=Vr}}Ep.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="rootElement"||en==="view:rootElement"||en==="editableElement"||en==="view:editableElement"||en==="containerElement"||en==="view:containerElement"||en==="element"||en==="view:element"):en==="rootElement"||en==="view:rootElement"||en==="editableElement"||en==="view:editableElement"||en==="containerElement"||en==="view:containerElement"||en==="element"||en==="view:element"||en==="node"||en==="view:node"};class hd{constructor(Vr={}){if(!Vr.boundaries&&!Vr.startPosition)throw new Cn("view-tree-walker-no-start-position",null);if(Vr.direction&&Vr.direction!="forward"&&Vr.direction!="backward")throw new Cn("view-tree-walker-unknown-direction",Vr.startPosition,{direction:Vr.direction});this.boundaries=Vr.boundaries||null,Vr.startPosition?this._position=Eo._createAt(Vr.startPosition):this._position=Eo._createAt(Vr.boundaries[Vr.direction=="backward"?"end":"start"]),this.direction=Vr.direction||"forward",this.singleCharacters=!!Vr.singleCharacters,this.shallow=!!Vr.shallow,this.ignoreElementEnd=!!Vr.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(Vr){let Wr,Zr;do Zr=this.position,Wr=this.next();while(!Wr.done&&Vr(Wr.value));Wr.done||(this._position=Zr)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let Vr=this.position.clone();const Wr=this.position,Zr=Vr.parent;if(Zr.parent===null&&Vr.offset===Zr.childCount)return{done:!0,value:void 0};if(Zr===this._boundaryEndParent&&Vr.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let tn;if(Zr instanceof Ls){if(Vr.isAtEnd)return this._position=Eo._createAfter(Zr),this._next();tn=Zr.data[Vr.offset]}else tn=Zr.getChild(Vr.offset);if(tn instanceof ac){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(Vr))return{done:!0,value:void 0};Vr.offset++}else Vr=new Eo(tn,0);return this._position=Vr,this._formatReturnValue("elementStart",tn,Wr,Vr,1)}if(tn instanceof Ls){if(this.singleCharacters)return Vr=new Eo(tn,0),this._position=Vr,this._next();let sn,un=tn.data.length;return tn==this._boundaryEndParent?(un=this.boundaries.end.offset,sn=new ou(tn,0,un),Vr=Eo._createAfter(sn)):(sn=new ou(tn,0,tn.data.length),Vr.offset++),this._position=Vr,this._formatReturnValue("text",sn,Wr,Vr,un)}if(typeof tn=="string"){let sn;this.singleCharacters?sn=1:sn=(Zr===this._boundaryEndParent?this.boundaries.end.offset:Zr.data.length)-Vr.offset;const un=new ou(Zr,Vr.offset,sn);return Vr.offset+=sn,this._position=Vr,this._formatReturnValue("text",un,Wr,Vr,sn)}return Vr=Eo._createAfter(Zr),this._position=Vr,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",Zr,Wr,Vr)}_previous(){let Vr=this.position.clone();const Wr=this.position,Zr=Vr.parent;if(Zr.parent===null&&Vr.offset===0)return{done:!0,value:void 0};if(Zr==this._boundaryStartParent&&Vr.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let tn;if(Zr instanceof Ls){if(Vr.isAtStart)return this._position=Eo._createBefore(Zr),this._previous();tn=Zr.data[Vr.offset-1]}else tn=Zr.getChild(Vr.offset-1);if(tn instanceof ac)return this.shallow?(Vr.offset--,this._position=Vr,this._formatReturnValue("elementStart",tn,Wr,Vr,1)):(Vr=new Eo(tn,tn.childCount),this._position=Vr,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",tn,Wr,Vr));if(tn instanceof Ls){if(this.singleCharacters)return Vr=new Eo(tn,tn.data.length),this._position=Vr,this._previous();let sn,un=tn.data.length;if(tn==this._boundaryStartParent){const fn=this.boundaries.start.offset;sn=new ou(tn,fn,tn.data.length-fn),un=sn.data.length,Vr=Eo._createBefore(sn)}else sn=new ou(tn,0,tn.data.length),Vr.offset--;return this._position=Vr,this._formatReturnValue("text",sn,Wr,Vr,un)}if(typeof tn=="string"){let sn;if(this.singleCharacters)sn=1;else{const fn=Zr===this._boundaryStartParent?this.boundaries.start.offset:0;sn=Vr.offset-fn}Vr.offset-=sn;const un=new ou(Zr,Vr.offset,sn);return this._position=Vr,this._formatReturnValue("text",un,Wr,Vr,sn)}return Vr=Eo._createBefore(Zr),this._position=Vr,this._formatReturnValue("elementStart",Zr,Wr,Vr,1)}_formatReturnValue(Vr,Wr,Zr,tn,sn){return Wr instanceof ou&&(Wr.offsetInText+Wr.data.length==Wr.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?Zr=Eo._createAfter(Wr.textNode):(tn=Eo._createAfter(Wr.textNode),this._position=tn)),Wr.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?Zr=Eo._createBefore(Wr.textNode):(tn=Eo._createBefore(Wr.textNode),this._position=tn))),{done:!1,value:{type:Vr,item:Wr,previousPosition:Zr,nextPosition:tn,length:sn}}}}class Eo extends Hc{constructor(Vr,Wr){super(),this.parent=Vr,this.offset=Wr}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const Vr=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===Vr}get root(){return this.parent.root}get editableElement(){let Vr=this.parent;for(;!(Vr instanceof oh);){if(!Vr.parent)return null;Vr=Vr.parent}return Vr}getShiftedBy(Vr){const Wr=Eo._createAt(this),Zr=Wr.offset+Vr;return Wr.offset=Zr<0?0:Zr,Wr}getLastMatchingPosition(Vr,Wr={}){Wr.startPosition=this;const Zr=new hd(Wr);return Zr.skip(Vr),Zr.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(Vr){const Wr=this.getAncestors(),Zr=Vr.getAncestors();let tn=0;for(;Wr[tn]==Zr[tn]&&Wr[tn];)tn++;return tn===0?null:Wr[tn-1]}isEqual(Vr){return this.parent==Vr.parent&&this.offset==Vr.offset}isBefore(Vr){return this.compareWith(Vr)=="before"}isAfter(Vr){return this.compareWith(Vr)=="after"}compareWith(Vr){if(this.root!==Vr.root)return"different";if(this.isEqual(Vr))return"same";const Wr=this.parent.is("node")?this.parent.getPath():[],Zr=Vr.parent.is("node")?Vr.parent.getPath():[];Wr.push(this.offset),Zr.push(Vr.offset);const tn=Aa(Wr,Zr);switch(tn){case"prefix":return"before";case"extension":return"after";default:return Wr[tn]<Zr[tn]?"before":"after"}}getWalker(Vr={}){return Vr.startPosition=this,new hd(Vr)}clone(){return new Eo(this.parent,this.offset)}static _createAt(Vr,Wr){if(Vr instanceof Eo)return new this(Vr.parent,Vr.offset);{const Zr=Vr;if(Wr=="end")Wr=Zr.is("$text")?Zr.data.length:Zr.childCount;else{if(Wr=="before")return this._createBefore(Zr);if(Wr=="after")return this._createAfter(Zr);if(Wr!==0&&!Wr)throw new Cn("view-createpositionat-offset-required",Zr)}return new Eo(Zr,Wr)}}static _createAfter(Vr){if(Vr.is("$textProxy"))return new Eo(Vr.textNode,Vr.offsetInText+Vr.data.length);if(!Vr.parent)throw new Cn("view-position-after-root",Vr,{root:Vr});return new Eo(Vr.parent,Vr.index+1)}static _createBefore(Vr){if(Vr.is("$textProxy"))return new Eo(Vr.textNode,Vr.offsetInText);if(!Vr.parent)throw new Cn("view-position-before-root",Vr,{root:Vr});return new Eo(Vr.parent,Vr.index)}}Eo.prototype.is=function(en){return en==="position"||en==="view:position"};class va extends Hc{constructor(Vr,Wr=null){super(),this.start=Vr.clone(),this.end=Wr?Wr.clone():Vr.clone()}*[Symbol.iterator](){yield*new hd({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let Vr=this.start.getLastMatchingPosition(Oh,{direction:"backward"}),Wr=this.end.getLastMatchingPosition(Oh);return Vr.parent.is("$text")&&Vr.isAtStart&&(Vr=Eo._createBefore(Vr.parent)),Wr.parent.is("$text")&&Wr.isAtEnd&&(Wr=Eo._createAfter(Wr.parent)),new va(Vr,Wr)}getTrimmed(){let Vr=this.start.getLastMatchingPosition(Oh);if(Vr.isAfter(this.end)||Vr.isEqual(this.end))return new va(Vr,Vr);let Wr=this.end.getLastMatchingPosition(Oh,{direction:"backward"});const Zr=Vr.nodeAfter,tn=Wr.nodeBefore;return Zr&&Zr.is("$text")&&(Vr=new Eo(Zr,0)),tn&&tn.is("$text")&&(Wr=new Eo(tn,tn.data.length)),new va(Vr,Wr)}isEqual(Vr){return this==Vr||this.start.isEqual(Vr.start)&&this.end.isEqual(Vr.end)}containsPosition(Vr){return Vr.isAfter(this.start)&&Vr.isBefore(this.end)}containsRange(Vr,Wr=!1){Vr.isCollapsed&&(Wr=!1);const Zr=this.containsPosition(Vr.start)||Wr&&this.start.isEqual(Vr.start),tn=this.containsPosition(Vr.end)||Wr&&this.end.isEqual(Vr.end);return Zr&&tn}getDifference(Vr){const Wr=[];return this.isIntersecting(Vr)?(this.containsPosition(Vr.start)&&Wr.push(new va(this.start,Vr.start)),this.containsPosition(Vr.end)&&Wr.push(new va(Vr.end,this.end))):Wr.push(this.clone()),Wr}getIntersection(Vr){if(this.isIntersecting(Vr)){let Wr=this.start,Zr=this.end;return this.containsPosition(Vr.start)&&(Wr=Vr.start),this.containsPosition(Vr.end)&&(Zr=Vr.end),new va(Wr,Zr)}return null}getWalker(Vr={}){return Vr.boundaries=this,new hd(Vr)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let Vr=this.start.nodeAfter,Wr=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(Vr=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(Wr=this.end.parent.previousSibling),Vr&&Vr.is("element")&&Vr===Wr?Vr:null}clone(){return new va(this.start,this.end)}*getItems(Vr={}){Vr.boundaries=this,Vr.ignoreElementEnd=!0;const Wr=new hd(Vr);for(const Zr of Wr)yield Zr.item}*getPositions(Vr={}){Vr.boundaries=this;const Wr=new hd(Vr);yield Wr.position;for(const Zr of Wr)yield Zr.nextPosition}isIntersecting(Vr){return this.start.isBefore(Vr.end)&&this.end.isAfter(Vr.start)}static _createFromParentsAndOffsets(Vr,Wr,Zr,tn){return new this(new Eo(Vr,Wr),new Eo(Zr,tn))}static _createFromPositionAndShift(Vr,Wr){const Zr=Vr,tn=Vr.getShiftedBy(Wr);return Wr>0?new this(Zr,tn):new this(tn,Zr)}static _createIn(Vr){return this._createFromParentsAndOffsets(Vr,0,Vr,Vr.childCount)}static _createOn(Vr){const Wr=Vr.is("$textProxy")?Vr.offsetSize:1;return this._createFromPositionAndShift(Eo._createBefore(Vr),Wr)}}function Oh(en){return!(!en.item.is("attributeElement")&&!en.item.is("uiElement"))}va.prototype.is=function(en){return en==="range"||en==="view:range"};class au extends Ci(Hc){constructor(...Vr){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",Vr.length&&this.setTo(...Vr)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const Vr=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?Vr.end:Vr.start).clone()}get focus(){if(!this._ranges.length)return null;const Vr=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?Vr.start:Vr.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const Vr of this._ranges)yield Vr.clone()}getFirstRange(){let Vr=null;for(const Wr of this._ranges)Vr&&!Wr.start.isBefore(Vr.start)||(Vr=Wr);return Vr?Vr.clone():null}getLastRange(){let Vr=null;for(const Wr of this._ranges)Vr&&!Wr.end.isAfter(Vr.end)||(Vr=Wr);return Vr?Vr.clone():null}getFirstPosition(){const Vr=this.getFirstRange();return Vr?Vr.start.clone():null}getLastPosition(){const Vr=this.getLastRange();return Vr?Vr.end.clone():null}isEqual(Vr){if(this.isFake!=Vr.isFake||this.isFake&&this.fakeSelectionLabel!=Vr.fakeSelectionLabel||this.rangeCount!=Vr.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(Vr.anchor)||!this.focus.isEqual(Vr.focus))return!1;for(const Wr of this._ranges){let Zr=!1;for(const tn of Vr._ranges)if(Wr.isEqual(tn)){Zr=!0;break}if(!Zr)return!1}return!0}isSimilar(Vr){if(this.isBackward!=Vr.isBackward)return!1;const Wr=Ya(this.getRanges());if(Wr!=Ya(Vr.getRanges()))return!1;if(Wr==0)return!0;for(let Zr of this.getRanges()){Zr=Zr.getTrimmed();let tn=!1;for(let sn of Vr.getRanges())if(sn=sn.getTrimmed(),Zr.start.isEqual(sn.start)&&Zr.end.isEqual(sn.end)){tn=!0;break}if(!tn)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...Vr){let[Wr,Zr,tn]=Vr;if(typeof Zr=="object"&&(tn=Zr,Zr=void 0),Wr===null)this._setRanges([]),this._setFakeOptions(tn);else if(Wr instanceof au||Wr instanceof Rh)this._setRanges(Wr.getRanges(),Wr.isBackward),this._setFakeOptions({fake:Wr.isFake,label:Wr.fakeSelectionLabel});else if(Wr instanceof va)this._setRanges([Wr],tn&&tn.backward),this._setFakeOptions(tn);else if(Wr instanceof Eo)this._setRanges([new va(Wr)]),this._setFakeOptions(tn);else if(Wr instanceof Vc){const sn=!!tn&&!!tn.backward;let un;if(Zr===void 0)throw new Cn("view-selection-setto-required-second-parameter",this);un=Zr=="in"?va._createIn(Wr):Zr=="on"?va._createOn(Wr):new va(Eo._createAt(Wr,Zr)),this._setRanges([un],sn),this._setFakeOptions(tn)}else{if(!Ei(Wr))throw new Cn("view-selection-setto-not-selectable",this);this._setRanges(Wr,tn&&tn.backward),this._setFakeOptions(tn)}this.fire("change")}setFocus(Vr,Wr){if(this.anchor===null)throw new Cn("view-selection-setfocus-no-ranges",this);const Zr=Eo._createAt(Vr,Wr);if(Zr.compareWith(this.focus)=="same")return;const tn=this.anchor;this._ranges.pop(),Zr.compareWith(tn)=="before"?this._addRange(new va(Zr,tn),!0):this._addRange(new va(tn,Zr)),this.fire("change")}_setRanges(Vr,Wr=!1){Vr=Array.from(Vr),this._ranges=[];for(const Zr of Vr)this._addRange(Zr);this._lastRangeBackward=!!Wr}_setFakeOptions(Vr={}){this._isFake=!!Vr.fake,this._fakeSelectionLabel=Vr.fake&&Vr.label||""}_addRange(Vr,Wr=!1){if(!(Vr instanceof va))throw new Cn("view-selection-add-range-not-range",this);this._pushRange(Vr),this._lastRangeBackward=!!Wr}_pushRange(Vr){for(const Wr of this._ranges)if(Vr.isIntersecting(Wr))throw new Cn("view-selection-range-intersects",this,{addedRange:Vr,intersectingRange:Wr});this._ranges.push(new va(Vr.start,Vr.end))}}au.prototype.is=function(en){return en==="selection"||en==="view:selection"};class Rh extends Ci(Hc){constructor(...Vr){super(),this._selection=new au,this._selection.delegate("change").to(this),Vr.length&&this._selection.setTo(...Vr)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(Vr){return this._selection.isEqual(Vr)}isSimilar(Vr){return this._selection.isSimilar(Vr)}_setTo(...Vr){this._selection.setTo(...Vr)}_setFocus(Vr,Wr){this._selection.setFocus(Vr,Wr)}}Rh.prototype.is=function(en){return en==="selection"||en=="documentSelection"||en=="view:selection"||en=="view:documentSelection"};class Vu extends gn{constructor(Vr,Wr,Zr){super(Vr,Wr),this.startRange=Zr,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const $h=Symbol("bubbling contexts");function $f(en){return class extends en{fire(Vr,...Wr){try{const Zr=Vr instanceof gn?Vr:new gn(this,Vr),tn=Pd(this);if(!tn.size)return;if(Ld(Zr,"capturing",this),Uc(tn,"$capture",Zr,...Wr))return Zr.return;const sn=Zr.startRange||this.selection.getFirstRange(),un=sn?sn.getContainedElement():null,fn=!!un&&!!Nf(tn,un);let yn=un||function(xn){if(!xn)return null;const Dn=xn.start.parent,Mn=xn.end.parent,Rn=Dn.getPath(),Un=Mn.getPath();return Rn.length>Un.length?Dn:Mn}(sn);if(Ld(Zr,"atTarget",yn),!fn){if(Uc(tn,"$text",Zr,...Wr))return Zr.return;Ld(Zr,"bubbling",yn)}for(;yn;){if(yn.is("rootElement")){if(Uc(tn,"$root",Zr,...Wr))return Zr.return}else if(yn.is("element")&&Uc(tn,yn.name,Zr,...Wr))return Zr.return;if(Uc(tn,yn,Zr,...Wr))return Zr.return;yn=yn.parent,Ld(Zr,"bubbling",yn)}return Ld(Zr,"bubbling",this),Uc(tn,"$document",Zr,...Wr),Zr.return}catch(Zr){Cn.rethrowUnexpectedError(Zr,this)}}_addEventListener(Vr,Wr,Zr){const tn=Nl(Zr.context||"$document"),sn=Pd(this);for(const un of tn){let fn=sn.get(un);fn||(fn=new(Ci()),sn.set(un,fn)),this.listenTo(fn,Vr,Wr,Zr)}}_removeEventListener(Vr,Wr){const Zr=Pd(this);for(const tn of Zr.values())this.stopListening(tn,Vr,Wr)}}}{const en=$f(Object);["fire","_addEventListener","_removeEventListener"].forEach(Vr=>{$f[Vr]=en.prototype[Vr]})}function Ld(en,Vr,Wr){en instanceof Vu&&(en._eventPhase=Vr,en._currentTarget=Wr)}function Uc(en,Vr,Wr,...Zr){const tn=typeof Vr=="string"?en.get(Vr):Nf(en,Vr);return!!tn&&(tn.fire(Wr,...Zr),Wr.stop.called)}function Nf(en,Vr){for(const[Wr,Zr]of en)if(typeof Wr=="function"&&Wr(Vr))return Zr;return null}function Pd(en){return en[$h]||(en[$h]=new Map),en[$h]}class Nh extends $f(Ji()){constructor(Vr){super(),this._postFixers=new Set,this.selection=new Rh,this.roots=new Fc({idProperty:"rootName"}),this.stylesProcessor=Vr,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(Vr="main"){return this.roots.get(Vr)}registerPostFixer(Vr){this._postFixers.add(Vr)}destroy(){this.roots.map(Vr=>Vr.destroy()),this.stopListening()}_callPostFixers(Vr){let Wr=!1;do for(const Zr of this._postFixers)if(Wr=Zr(Vr),Wr)break;while(Wr)}}class fd extends ac{constructor(Vr,Wr,Zr,tn){super(Vr,Wr,Zr,tn),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=Eg}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new Cn("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(Vr){return this.id!==null||Vr.id!==null?this.id===Vr.id:super.isSimilar(Vr)&&this.priority==Vr.priority}_clone(Vr=!1){const Wr=super._clone(Vr);return Wr._priority=this._priority,Wr._id=this._id,Wr}}function Eg(){if(Os(this))return null;let en=this.parent;for(;en&&en.is("attributeElement");){if(Os(en)>1)return null;en=en.parent}return!en||Os(en)>1?null:this.childCount}function Os(en){return Array.from(en.getChildren()).filter(Vr=>!Vr.is("uiElement")).length}fd.DEFAULT_PRIORITY=10,fd.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="attributeElement"||en==="view:attributeElement"||en==="element"||en==="view:element"):en==="attributeElement"||en==="view:attributeElement"||en==="element"||en==="view:element"||en==="node"||en==="view:node"};class Bf extends ac{constructor(Vr,Wr,Zr,tn){super(Vr,Wr,Zr,tn),this.getFillerOffset=Ff}_insertChild(Vr,Wr){if(Wr&&(Wr instanceof Vc||Array.from(Wr).length>0))throw new Cn("view-emptyelement-cannot-add",[this,Wr]);return 0}}function Ff(){return null}Bf.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="emptyElement"||en==="view:emptyElement"||en==="element"||en==="view:element"):en==="emptyElement"||en==="view:emptyElement"||en==="element"||en==="view:element"||en==="node"||en==="view:node"};class ju extends ac{constructor(Vr,Wr,Zr,tn){super(Vr,Wr,Zr,tn),this.getFillerOffset=Bh}_insertChild(Vr,Wr){if(Wr&&(Wr instanceof Vc||Array.from(Wr).length>0))throw new Cn("view-uielement-cannot-add",[this,Wr]);return 0}render(Vr,Wr){return this.toDomElement(Vr)}toDomElement(Vr){const Wr=Vr.createElement(this.name);for(const Zr of this.getAttributeKeys())Wr.setAttribute(Zr,this.getAttribute(Zr));return Wr}}function Gc(en){en.document.on("arrowKey",(Vr,Wr)=>function(Zr,tn,sn){if(tn.keyCode==Xa.arrowright){const un=tn.domTarget.ownerDocument.defaultView.getSelection(),fn=un.rangeCount==1&&un.getRangeAt(0).collapsed;if(fn||tn.shiftKey){const yn=un.focusNode,xn=un.focusOffset,Dn=sn.domPositionToView(yn,xn);if(Dn===null)return;let Mn=!1;const Rn=Dn.getLastMatchingPosition(Un=>(Un.item.is("uiElement")&&(Mn=!0),!(!Un.item.is("uiElement")&&!Un.item.is("attributeElement"))));if(Mn){const Un=sn.viewPositionToDom(Rn);fn?un.collapse(Un.parent,Un.offset):un.extend(Un.parent,Un.offset)}}}}(0,Wr,en.domConverter),{priority:"low"})}function Bh(){return null}ju.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="uiElement"||en==="view:uiElement"||en==="element"||en==="view:element"):en==="uiElement"||en==="view:uiElement"||en==="element"||en==="view:element"||en==="node"||en==="view:node"};class ah extends ac{constructor(Vr,Wr,Zr,tn){super(Vr,Wr,Zr,tn),this.getFillerOffset=Tp}_insertChild(Vr,Wr){if(Wr&&(Wr instanceof Vc||Array.from(Wr).length>0))throw new Cn("view-rawelement-cannot-add",[this,Wr]);return 0}render(Vr,Wr){}}function Tp(){return null}ah.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="rawElement"||en==="view:rawElement"||en==="element"||en==="view:element"):en==="rawElement"||en==="view:rawElement"||en===this.name||en==="view:"+this.name||en==="element"||en==="view:element"||en==="node"||en==="view:node"};class Uu extends Ci(Hc){constructor(Vr,Wr){super(),this._children=[],this._customProperties=new Map,this.document=Vr,Wr&&this._insertChild(0,Wr)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(Vr){return this._customProperties.get(Vr)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(Vr){return this._insertChild(this.childCount,Vr)}getChild(Vr){return this._children[Vr]}getChildIndex(Vr){return this._children.indexOf(Vr)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(Vr,Wr){this._fireChange("children",this);let Zr=0;const tn=function(sn,un){return typeof un=="string"?[new Ls(sn,un)]:(Ei(un)||(un=[un]),Array.from(un).map(fn=>typeof fn=="string"?new Ls(sn,fn):fn instanceof ou?new Ls(sn,fn.data):fn))}(this.document,Wr);for(const sn of tn)sn.parent!==null&&sn._remove(),sn.parent=this,this._children.splice(Vr,0,sn),Vr++,Zr++;return Zr}_removeChildren(Vr,Wr=1){this._fireChange("children",this);for(let Zr=Vr;Zr<Vr+Wr;Zr++)this._children[Zr].parent=null;return this._children.splice(Vr,Wr)}_fireChange(Vr,Wr){this.fire("change:"+Vr,Wr)}_setCustomProperty(Vr,Wr){this._customProperties.set(Vr,Wr)}_removeCustomProperty(Vr){return this._customProperties.delete(Vr)}}Uu.prototype.is=function(en){return en==="documentFragment"||en==="view:documentFragment"};class zf{constructor(Vr){this._cloneGroups=new Map,this._slotFactory=null,this.document=Vr}setSelection(...Vr){this.document.selection._setTo(...Vr)}setSelectionFocus(Vr,Wr){this.document.selection._setFocus(Vr,Wr)}createDocumentFragment(Vr){return new Uu(this.document,Vr)}createText(Vr){return new Ls(this.document,Vr)}createAttributeElement(Vr,Wr,Zr={}){const tn=new fd(this.document,Vr,Wr);return typeof Zr.priority=="number"&&(tn._priority=Zr.priority),Zr.id&&(tn._id=Zr.id),Zr.renderUnsafeAttributes&&tn._unsafeAttributesToRender.push(...Zr.renderUnsafeAttributes),tn}createContainerElement(Vr,Wr,Zr={},tn={}){let sn=null;us(Zr)?tn=Zr:sn=Zr;const un=new Cu(this.document,Vr,Wr,sn);return tn.renderUnsafeAttributes&&un._unsafeAttributesToRender.push(...tn.renderUnsafeAttributes),un}createEditableElement(Vr,Wr,Zr={}){const tn=new oh(this.document,Vr,Wr);return Zr.renderUnsafeAttributes&&tn._unsafeAttributesToRender.push(...Zr.renderUnsafeAttributes),tn}createEmptyElement(Vr,Wr,Zr={}){const tn=new Bf(this.document,Vr,Wr);return Zr.renderUnsafeAttributes&&tn._unsafeAttributesToRender.push(...Zr.renderUnsafeAttributes),tn}createUIElement(Vr,Wr,Zr){const tn=new ju(this.document,Vr,Wr);return Zr&&(tn.render=Zr),tn}createRawElement(Vr,Wr,Zr,tn={}){const sn=new ah(this.document,Vr,Wr);return Zr&&(sn.render=Zr),tn.renderUnsafeAttributes&&sn._unsafeAttributesToRender.push(...tn.renderUnsafeAttributes),sn}setAttribute(Vr,Wr,Zr){Zr._setAttribute(Vr,Wr)}removeAttribute(Vr,Wr){Wr._removeAttribute(Vr)}addClass(Vr,Wr){Wr._addClass(Vr)}removeClass(Vr,Wr){Wr._removeClass(Vr)}setStyle(Vr,Wr,Zr){us(Vr)&&Zr===void 0?Wr._setStyle(Vr):Zr._setStyle(Vr,Wr)}removeStyle(Vr,Wr){Wr._removeStyle(Vr)}setCustomProperty(Vr,Wr,Zr){Zr._setCustomProperty(Vr,Wr)}removeCustomProperty(Vr,Wr){return Wr._removeCustomProperty(Vr)}breakAttributes(Vr){return Vr instanceof Eo?this._breakAttributes(Vr):this._breakAttributesRange(Vr)}breakContainer(Vr){const Wr=Vr.parent;if(!Wr.is("containerElement"))throw new Cn("view-writer-break-non-container-element",this.document);if(!Wr.parent)throw new Cn("view-writer-break-root",this.document);if(Vr.isAtStart)return Eo._createBefore(Wr);if(!Vr.isAtEnd){const Zr=Wr._clone(!1);this.insert(Eo._createAfter(Wr),Zr);const tn=new va(Vr,Eo._createAt(Wr,"end")),sn=new Eo(Zr,0);this.move(tn,sn)}return Eo._createAfter(Wr)}mergeAttributes(Vr){const Wr=Vr.offset,Zr=Vr.parent;if(Zr.is("$text"))return Vr;if(Zr.is("attributeElement")&&Zr.childCount===0){const un=Zr.parent,fn=Zr.index;return Zr._remove(),this._removeFromClonedElementsGroup(Zr),this.mergeAttributes(new Eo(un,fn))}const tn=Zr.getChild(Wr-1),sn=Zr.getChild(Wr);if(!tn||!sn)return Vr;if(tn.is("$text")&&sn.is("$text"))return Hf(tn,sn);if(tn.is("attributeElement")&&sn.is("attributeElement")&&tn.isSimilar(sn)){const un=tn.childCount;return tn._appendChild(sn.getChildren()),sn._remove(),this._removeFromClonedElementsGroup(sn),this.mergeAttributes(new Eo(tn,un))}return Vr}mergeContainers(Vr){const Wr=Vr.nodeBefore,Zr=Vr.nodeAfter;if(!(Wr&&Zr&&Wr.is("containerElement")&&Zr.is("containerElement")))throw new Cn("view-writer-merge-containers-invalid-position",this.document);const tn=Wr.getChild(Wr.childCount-1),sn=tn instanceof Ls?Eo._createAt(tn,"end"):Eo._createAt(Wr,"end");return this.move(va._createIn(Zr),Eo._createAt(Wr,"end")),this.remove(va._createOn(Zr)),sn}insert(Vr,Wr){Vf(Wr=Ei(Wr)?[...Wr]:[Wr],this.document);const Zr=Wr.reduce((un,fn)=>{const yn=un[un.length-1],xn=!fn.is("uiElement");return yn&&yn.breakAttributes==xn?yn.nodes.push(fn):un.push({breakAttributes:xn,nodes:[fn]}),un},[]);let tn=null,sn=Vr;for(const{nodes:un,breakAttributes:fn}of Zr){const yn=this._insertNodes(sn,un,fn);tn||(tn=yn.start),sn=yn.end}return tn?new va(tn,sn):new va(Vr)}remove(Vr){const Wr=Vr instanceof va?Vr:va._createOn(Vr);if(su(Wr,this.document),Wr.isCollapsed)return new Uu(this.document);const{start:Zr,end:tn}=this._breakAttributesRange(Wr,!0),sn=Zr.parent,un=tn.offset-Zr.offset,fn=sn._removeChildren(Zr.offset,un);for(const xn of fn)this._removeFromClonedElementsGroup(xn);const yn=this.mergeAttributes(Zr);return Wr.start=yn,Wr.end=yn.clone(),new Uu(this.document,fn)}clear(Vr,Wr){su(Vr,this.document);const Zr=Vr.getWalker({direction:"backward",ignoreElementEnd:!0});for(const tn of Zr){const sn=tn.item;let un;if(sn.is("element")&&Wr.isSimilar(sn))un=va._createOn(sn);else if(!tn.nextPosition.isAfter(Vr.start)&&sn.is("$textProxy")){const fn=sn.getAncestors().find(yn=>yn.is("element")&&Wr.isSimilar(yn));fn&&(un=va._createIn(fn))}un&&(un.end.isAfter(Vr.end)&&(un.end=Vr.end),un.start.isBefore(Vr.start)&&(un.start=Vr.start),this.remove(un))}}move(Vr,Wr){let Zr;if(Wr.isAfter(Vr.end)){const tn=(Wr=this._breakAttributes(Wr,!0)).parent,sn=tn.childCount;Vr=this._breakAttributesRange(Vr,!0),Zr=this.remove(Vr),Wr.offset+=tn.childCount-sn}else Zr=this.remove(Vr);return this.insert(Wr,Zr)}wrap(Vr,Wr){if(!(Wr instanceof fd))throw new Cn("view-writer-wrap-invalid-attribute",this.document);if(su(Vr,this.document),Vr.isCollapsed){let tn=Vr.start;tn.parent.is("element")&&(Zr=tn.parent,!Array.from(Zr.getChildren()).some(un=>!un.is("uiElement")))&&(tn=tn.getLastMatchingPosition(un=>un.item.is("uiElement"))),tn=this._wrapPosition(tn,Wr);const sn=this.document.selection;return sn.isCollapsed&&sn.getFirstPosition().isEqual(Vr.start)&&this.setSelection(tn),new va(tn)}return this._wrapRange(Vr,Wr);var Zr}unwrap(Vr,Wr){if(!(Wr instanceof fd))throw new Cn("view-writer-unwrap-invalid-attribute",this.document);if(su(Vr,this.document),Vr.isCollapsed)return Vr;const{start:Zr,end:tn}=this._breakAttributesRange(Vr,!0),sn=Zr.parent,un=this._unwrapChildren(sn,Zr.offset,tn.offset,Wr),fn=this.mergeAttributes(un.start);fn.isEqual(un.start)||un.end.offset--;const yn=this.mergeAttributes(un.end);return new va(fn,yn)}rename(Vr,Wr){const Zr=new Cu(this.document,Vr,Wr.getAttributes());return this.insert(Eo._createAfter(Wr),Zr),this.move(va._createIn(Wr),Eo._createAt(Zr,0)),this.remove(va._createOn(Wr)),Zr}clearClonedElementsGroup(Vr){this._cloneGroups.delete(Vr)}createPositionAt(Vr,Wr){return Eo._createAt(Vr,Wr)}createPositionAfter(Vr){return Eo._createAfter(Vr)}createPositionBefore(Vr){return Eo._createBefore(Vr)}createRange(Vr,Wr){return new va(Vr,Wr)}createRangeOn(Vr){return va._createOn(Vr)}createRangeIn(Vr){return va._createIn(Vr)}createSelection(...Vr){return new au(...Vr)}createSlot(Vr="children"){if(!this._slotFactory)throw new Cn("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,Vr)}_registerSlotFactory(Vr){this._slotFactory=Vr}_clearSlotFactory(){this._slotFactory=null}_insertNodes(Vr,Wr,Zr){let tn,sn;if(tn=Zr?sh(Vr):Vr.parent.is("$text")?Vr.parent.parent:Vr.parent,!tn)throw new Cn("view-writer-invalid-position-container",this.document);sn=Zr?this._breakAttributes(Vr,!0):Vr.parent.is("$text")?lh(Vr):Vr;const un=tn._insertChild(sn.offset,Wr);for(const Dn of Wr)this._addToClonedElementsGroup(Dn);const fn=sn.getShiftedBy(un),yn=this.mergeAttributes(sn);yn.isEqual(sn)||fn.offset--;const xn=this.mergeAttributes(fn);return new va(yn,xn)}_wrapChildren(Vr,Wr,Zr,tn){let sn=Wr;const un=[];for(;sn<Zr;){const yn=Vr.getChild(sn),xn=yn.is("$text"),Dn=yn.is("attributeElement");if(Dn&&this._wrapAttributeElement(tn,yn))un.push(new Eo(Vr,sn));else if(xn||!Dn||Mp(tn,yn)){const Mn=tn._clone();yn._remove(),Mn._appendChild(yn),Vr._insertChild(sn,Mn),this._addToClonedElementsGroup(Mn),un.push(new Eo(Vr,sn))}else this._wrapChildren(yn,0,yn.childCount,tn);sn++}let fn=0;for(const yn of un)yn.offset-=fn,yn.offset!=Wr&&(this.mergeAttributes(yn).isEqual(yn)||(fn++,Zr--));return va._createFromParentsAndOffsets(Vr,Wr,Vr,Zr)}_unwrapChildren(Vr,Wr,Zr,tn){let sn=Wr;const un=[];for(;sn<Zr;){const yn=Vr.getChild(sn);if(yn.is("attributeElement"))if(yn.isSimilar(tn)){const xn=yn.getChildren(),Dn=yn.childCount;yn._remove(),Vr._insertChild(sn,xn),this._removeFromClonedElementsGroup(yn),un.push(new Eo(Vr,sn),new Eo(Vr,sn+Dn)),sn+=Dn,Zr+=Dn-1}else this._unwrapAttributeElement(tn,yn)?(un.push(new Eo(Vr,sn),new Eo(Vr,sn+1)),sn++):(this._unwrapChildren(yn,0,yn.childCount,tn),sn++);else sn++}let fn=0;for(const yn of un)yn.offset-=fn,!(yn.offset==Wr||yn.offset==Zr)&&(this.mergeAttributes(yn).isEqual(yn)||(fn++,Zr--));return va._createFromParentsAndOffsets(Vr,Wr,Vr,Zr)}_wrapRange(Vr,Wr){const{start:Zr,end:tn}=this._breakAttributesRange(Vr,!0),sn=Zr.parent,un=this._wrapChildren(sn,Zr.offset,tn.offset,Wr),fn=this.mergeAttributes(un.start);fn.isEqual(un.start)||un.end.offset--;const yn=this.mergeAttributes(un.end);return new va(fn,yn)}_wrapPosition(Vr,Wr){if(Wr.isSimilar(Vr.parent))return Ip(Vr.clone());Vr.parent.is("$text")&&(Vr=lh(Vr));const Zr=this.createAttributeElement("_wrapPosition-fake-element");Zr._priority=Number.POSITIVE_INFINITY,Zr.isSimilar=()=>!1,Vr.parent._insertChild(Vr.offset,Zr);const tn=new va(Vr,Vr.getShiftedBy(1));this.wrap(tn,Wr);const sn=new Eo(Zr.parent,Zr.index);Zr._remove();const un=sn.nodeBefore,fn=sn.nodeAfter;return un instanceof Ls&&fn instanceof Ls?Hf(un,fn):Ip(sn)}_wrapAttributeElement(Vr,Wr){if(!Lp(Vr,Wr)||Vr.name!==Wr.name||Vr.priority!==Wr.priority)return!1;for(const Zr of Vr.getAttributeKeys())if(Zr!=="class"&&Zr!=="style"&&Wr.hasAttribute(Zr)&&Wr.getAttribute(Zr)!==Vr.getAttribute(Zr))return!1;for(const Zr of Vr.getStyleNames())if(Wr.hasStyle(Zr)&&Wr.getStyle(Zr)!==Vr.getStyle(Zr))return!1;for(const Zr of Vr.getAttributeKeys())Zr!=="class"&&Zr!=="style"&&(Wr.hasAttribute(Zr)||this.setAttribute(Zr,Vr.getAttribute(Zr),Wr));for(const Zr of Vr.getStyleNames())Wr.hasStyle(Zr)||this.setStyle(Zr,Vr.getStyle(Zr),Wr);for(const Zr of Vr.getClassNames())Wr.hasClass(Zr)||this.addClass(Zr,Wr);return!0}_unwrapAttributeElement(Vr,Wr){if(!Lp(Vr,Wr)||Vr.name!==Wr.name||Vr.priority!==Wr.priority)return!1;for(const Zr of Vr.getAttributeKeys())if(Zr!=="class"&&Zr!=="style"&&(!Wr.hasAttribute(Zr)||Wr.getAttribute(Zr)!==Vr.getAttribute(Zr)))return!1;if(!Wr.hasClass(...Vr.getClassNames()))return!1;for(const Zr of Vr.getStyleNames())if(!Wr.hasStyle(Zr)||Wr.getStyle(Zr)!==Vr.getStyle(Zr))return!1;for(const Zr of Vr.getAttributeKeys())Zr!=="class"&&Zr!=="style"&&this.removeAttribute(Zr,Wr);return this.removeClass(Array.from(Vr.getClassNames()),Wr),this.removeStyle(Array.from(Vr.getStyleNames()),Wr),!0}_breakAttributesRange(Vr,Wr=!1){const Zr=Vr.start,tn=Vr.end;if(su(Vr,this.document),Vr.isCollapsed){const yn=this._breakAttributes(Vr.start,Wr);return new va(yn,yn)}const sn=this._breakAttributes(tn,Wr),un=sn.parent.childCount,fn=this._breakAttributes(Zr,Wr);return sn.offset+=sn.parent.childCount-un,new va(fn,sn)}_breakAttributes(Vr,Wr=!1){const Zr=Vr.offset,tn=Vr.parent;if(Vr.parent.is("emptyElement"))throw new Cn("view-writer-cannot-break-empty-element",this.document);if(Vr.parent.is("uiElement"))throw new Cn("view-writer-cannot-break-ui-element",this.document);if(Vr.parent.is("rawElement"))throw new Cn("view-writer-cannot-break-raw-element",this.document);if(!Wr&&tn.is("$text")&&jf(tn.parent)||jf(tn))return Vr.clone();if(tn.is("$text"))return this._breakAttributes(lh(Vr),Wr);if(Zr==tn.childCount){const sn=new Eo(tn.parent,tn.index+1);return this._breakAttributes(sn,Wr)}if(Zr===0){const sn=new Eo(tn.parent,tn.index);return this._breakAttributes(sn,Wr)}{const sn=tn.index+1,un=tn._clone();tn.parent._insertChild(sn,un),this._addToClonedElementsGroup(un);const fn=tn.childCount-Zr,yn=tn._removeChildren(Zr,fn);un._appendChild(yn);const xn=new Eo(tn.parent,sn);return this._breakAttributes(xn,Wr)}}_addToClonedElementsGroup(Vr){if(!Vr.root.is("rootElement"))return;if(Vr.is("element"))for(const tn of Vr.getChildren())this._addToClonedElementsGroup(tn);const Wr=Vr.id;if(!Wr)return;let Zr=this._cloneGroups.get(Wr);Zr||(Zr=new Set,this._cloneGroups.set(Wr,Zr)),Zr.add(Vr),Vr._clonesGroup=Zr}_removeFromClonedElementsGroup(Vr){if(Vr.is("element"))for(const tn of Vr.getChildren())this._removeFromClonedElementsGroup(tn);const Wr=Vr.id;if(!Wr)return;const Zr=this._cloneGroups.get(Wr);Zr&&Zr.delete(Vr)}}function sh(en){let Vr=en.parent;for(;!jf(Vr);){if(!Vr)return;Vr=Vr.parent}return Vr}function Mp(en,Vr){return en.priority<Vr.priority||!(en.priority>Vr.priority)&&en.getIdentity()<Vr.getIdentity()}function Ip(en){const Vr=en.nodeBefore;if(Vr&&Vr.is("$text"))return new Eo(Vr,Vr.data.length);const Wr=en.nodeAfter;return Wr&&Wr.is("$text")?new Eo(Wr,0):en}function lh(en){if(en.offset==en.parent.data.length)return new Eo(en.parent.parent,en.parent.index+1);if(en.offset===0)return new Eo(en.parent.parent,en.parent.index);const Vr=en.parent.data.slice(en.offset);return en.parent._data=en.parent.data.slice(0,en.offset),en.parent.parent._insertChild(en.parent.index+1,new Ls(en.root.document,Vr)),new Eo(en.parent.parent,en.parent.index+1)}function Hf(en,Vr){const Wr=en.data.length;return en._data+=Vr.data,Vr._remove(),new Eo(en,Wr)}const Ds=[Ls,fd,Cu,Bf,ah,ju];function Vf(en,Vr){for(const Wr of en){if(!Ds.some(Zr=>Wr instanceof Zr))throw new Cn("view-writer-insert-invalid-node-type",Vr);Wr.is("$text")||Vf(Wr.getChildren(),Vr)}}function jf(en){return en&&(en.is("containerElement")||en.is("documentFragment"))}function su(en,Vr){const Wr=sh(en.start),Zr=sh(en.end);if(!Wr||!Zr||Wr!==Zr)throw new Cn("view-writer-invalid-range-container",Vr)}function Lp(en,Vr){return en.id===null&&Vr.id===null}const ch=en=>en.createTextNode("Â "),Pp=en=>{const Vr=en.createElement("span");return Vr.dataset.ckeFiller="true",Vr.innerText="Â ",Vr},nl=en=>{const Vr=en.createElement("br");return Vr.dataset.ckeFiller="true",Vr},lu=7,Fh="â ".repeat(lu);function Sc(en){return ns(en)&&en.data.substr(0,lu)===Fh}function Gu(en){return en.data.length==lu&&Sc(en)}function nn(en){return Sc(en)?en.data.slice(lu):en.data}function cn(en,Vr){if(Vr.keyCode==Xa.arrowleft){const Wr=Vr.domTarget.ownerDocument.defaultView.getSelection();if(Wr.rangeCount==1&&Wr.getRangeAt(0).collapsed){const Zr=Wr.getRangeAt(0).startContainer,tn=Wr.getRangeAt(0).startOffset;Sc(Zr)&&tn<=lu&&Wr.collapse(Zr,0)}}}var vn=Fr(9315),mn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(vn.Z,mn),vn.Z.locals;class wn extends Ji(){constructor(Vr,Wr){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=Vr,this.selection=Wr,this.set("isFocused",!1),this.set("isSelecting",!1),Qr.isBlink&&!Qr.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(Vr,Wr){if(Vr==="text")this.domConverter.mapViewToDom(Wr.parent)&&this.markedTexts.add(Wr);else{if(!this.domConverter.mapViewToDom(Wr))return;if(Vr==="attributes")this.markedAttributes.add(Wr);else{if(Vr!=="children")throw new Cn("view-renderer-unknown-type",this);this.markedChildren.add(Wr)}}}render(){if(this.isComposing&&!Qr.isAndroid)return;let Vr=null;const Wr=!(Qr.isBlink&&!Qr.isAndroid)||!this.isSelecting;for(const Zr of this.markedChildren)this._updateChildrenMappings(Zr);Wr?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?Vr=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(Vr=this.selection.getFirstPosition(),this.markedChildren.add(Vr.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(Vr=this.domConverter.domPositionToView(this._inlineFiller),Vr&&Vr.parent.is("$text")&&(Vr=Eo._createBefore(Vr.parent)));for(const Zr of this.markedAttributes)this._updateAttrs(Zr);for(const Zr of this.markedChildren)this._updateChildren(Zr,{inlineFillerPosition:Vr});for(const Zr of this.markedTexts)!this.markedChildren.has(Zr.parent)&&this.domConverter.mapViewToDom(Zr.parent)&&this._updateText(Zr,{inlineFillerPosition:Vr});if(Wr)if(Vr){const Zr=this.domConverter.viewPositionToDom(Vr),tn=Zr.parent.ownerDocument;Sc(Zr.parent)?this._inlineFiller=Zr.parent:this._inlineFiller=In(tn,Zr.parent,Zr.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(Vr){if(!this.domConverter.mapViewToDom(Vr))return;const Wr=Array.from(this.domConverter.mapViewToDom(Vr).childNodes),Zr=Array.from(this.domConverter.viewChildrenToDom(Vr,{withChildren:!1})),tn=this._diffNodeLists(Wr,Zr),sn=this._findUpdateActions(tn,Wr,Zr,Nn);if(sn.indexOf("update")!==-1){const un={equal:0,insert:0,delete:0};for(const fn of sn)if(fn==="update"){const yn=un.equal+un.insert,xn=un.equal+un.delete,Dn=Vr.getChild(yn);!Dn||Dn.is("uiElement")||Dn.is("rawElement")||this._updateElementMappings(Dn,Wr[xn]),mi(Zr[yn]),un.equal++}else un[fn]++}}_updateElementMappings(Vr,Wr){this.domConverter.unbindDomElement(Wr),this.domConverter.bindElements(Wr,Vr),this.markedChildren.add(Vr),this.markedAttributes.add(Vr)}_getInlineFillerPosition(){const Vr=this.selection.getFirstPosition();return Vr.parent.is("$text")?Eo._createBefore(Vr.parent):Vr}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const Vr=this.selection.getFirstPosition(),Wr=this.domConverter.viewPositionToDom(Vr);return!!(Wr&&ns(Wr.parent)&&Sc(Wr.parent))}_removeInlineFiller(){const Vr=this._inlineFiller;if(!Sc(Vr))throw new Cn("view-renderer-filler-was-lost",this);Gu(Vr)?Vr.remove():Vr.data=Vr.data.substr(lu),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const Vr=this.selection.getFirstPosition(),Wr=Vr.parent,Zr=Vr.offset;if(!this.domConverter.mapViewToDom(Wr.root)||!Wr.is("element")||!function(un){if(un.getAttribute("contenteditable")=="false")return!1;const fn=un.findAncestor(yn=>yn.hasAttribute("contenteditable"));return!fn||fn.getAttribute("contenteditable")=="true"}(Wr)||Zr===Wr.getFillerOffset())return!1;const tn=Vr.nodeBefore,sn=Vr.nodeAfter;return!(tn instanceof Ls||sn instanceof Ls)&&(!Qr.isAndroid||!tn&&!sn)}_updateText(Vr,Wr){const Zr=this.domConverter.findCorrespondingDomText(Vr);let tn=this.domConverter.viewToDom(Vr).data;const sn=Wr.inlineFillerPosition;sn&&sn.parent==Vr.parent&&sn.offset==Vr.index&&(tn=Fh+tn),Jn(Zr,tn)}_updateAttrs(Vr){const Wr=this.domConverter.mapViewToDom(Vr);if(!Wr)return;const Zr=Array.from(Wr.attributes).map(sn=>sn.name),tn=Vr.getAttributeKeys();for(const sn of tn)this.domConverter.setDomElementAttribute(Wr,sn,Vr.getAttribute(sn),Vr);for(const sn of Zr)Vr.hasAttribute(sn)||this.domConverter.removeDomElementAttribute(Wr,sn)}_updateChildren(Vr,Wr){const Zr=this.domConverter.mapViewToDom(Vr);if(!Zr)return;if(Qr.isAndroid){let Mn=null;for(const Rn of Array.from(Zr.childNodes)){if(Mn&&ns(Mn)&&ns(Rn)){Zr.normalize();break}Mn=Rn}}const tn=Wr.inlineFillerPosition,sn=Zr.childNodes,un=Array.from(this.domConverter.viewChildrenToDom(Vr,{bind:!0}));tn&&tn.parent===Vr&&In(Zr.ownerDocument,un,tn.offset);const fn=this._diffNodeLists(sn,un),yn=this._findUpdateActions(fn,sn,un,Vn);let xn=0;const Dn=new Set;for(const Mn of yn)Mn==="delete"?(Dn.add(sn[xn]),mi(sn[xn])):Mn!=="equal"&&Mn!=="update"||xn++;xn=0;for(const Mn of yn)Mn==="insert"?(Ad(Zr,xn,un[xn]),xn++):Mn==="update"?(Jn(sn[xn],un[xn].data),xn++):Mn==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(un[xn])),xn++);for(const Mn of Dn)Mn.parentNode||this.domConverter.unbindDomElement(Mn)}_diffNodeLists(Vr,Wr){return Vr=function(Zr,tn){const sn=Array.from(Zr);return sn.length==0||!tn||sn[sn.length-1]==tn&&sn.pop(),sn}(Vr,this._fakeSelectionContainer),dn(Vr,Wr,Yn.bind(null,this.domConverter))}_findUpdateActions(Vr,Wr,Zr,tn){if(Vr.indexOf("insert")===-1||Vr.indexOf("delete")===-1)return Vr;let sn=[],un=[],fn=[];const yn={equal:0,insert:0,delete:0};for(const xn of Vr)xn==="insert"?fn.push(Zr[yn.equal+yn.insert]):xn==="delete"?un.push(Wr[yn.equal+yn.delete]):(sn=sn.concat(dn(un,fn,tn).map(Dn=>Dn==="equal"?"update":Dn)),sn.push("equal"),un=[],fn=[]),yn[xn]++;return sn.concat(dn(un,fn,tn).map(xn=>xn==="equal"?"update":xn))}_markDescendantTextToSync(Vr){if(Vr){if(Vr.is("$text"))this.markedTexts.add(Vr);else if(Vr.is("element"))for(const Wr of Vr.getChildren())this._markDescendantTextToSync(Wr)}}_updateSelection(){if(Qr.isBlink&&!Qr.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const Vr=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&Vr&&(this.selection.isFake?this._updateFakeSelection(Vr):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(Vr)):this.isComposing&&Qr.isAndroid||this._updateDomSelection(Vr))}_updateFakeSelection(Vr){const Wr=Vr.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(un){const fn=un.createElement("div");return fn.className="ck-fake-selection-container",Object.assign(fn.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),fn.textContent="Â ",fn}(Wr));const Zr=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(Zr,this.selection),!this._fakeSelectionNeedsUpdate(Vr))return;Zr.parentElement&&Zr.parentElement==Vr||Vr.appendChild(Zr),Zr.textContent=this.selection.fakeSelectionLabel||"Â ";const tn=Wr.getSelection(),sn=Wr.createRange();tn.removeAllRanges(),sn.selectNodeContents(Zr),tn.addRange(sn)}_updateDomSelection(Vr){const Wr=Vr.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(Wr))return;const Zr=this.domConverter.viewPositionToDom(this.selection.anchor),tn=this.domConverter.viewPositionToDom(this.selection.focus);Wr.collapse(Zr.parent,Zr.offset),Wr.extend(tn.parent,tn.offset),Qr.isGecko&&function(sn,un){const fn=sn.parent;if(fn.nodeType!=Node.ELEMENT_NODE||sn.offset!=fn.childNodes.length-1)return;const yn=fn.childNodes[sn.offset];yn&&yn.tagName=="BR"&&un.addRange(un.getRangeAt(0))}(tn,Wr)}_domSelectionNeedsUpdate(Vr){if(!this.domConverter.isDomSelectionCorrect(Vr))return!0;const Wr=Vr&&this.domConverter.domSelectionToView(Vr);return(!Wr||!this.selection.isEqual(Wr))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(Wr))}_fakeSelectionNeedsUpdate(Vr){const Wr=this._fakeSelectionContainer,Zr=Vr.ownerDocument.getSelection();return!Wr||Wr.parentElement!==Vr||Zr.anchorNode!==Wr&&!Wr.contains(Zr.anchorNode)||Wr.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const Vr of this.domDocuments){const Wr=Vr.getSelection();if(Wr.rangeCount){const Zr=Vr.activeElement,tn=this.domConverter.mapDomToView(Zr);Zr&&tn&&Wr.removeAllRanges()}}}_removeFakeSelection(){const Vr=this._fakeSelectionContainer;Vr&&Vr.remove()}_updateFocus(){if(this.isFocused){const Vr=this.selection.editableElement;Vr&&this.domConverter.focus(Vr)}}}function In(en,Vr,Wr){const Zr=Vr instanceof Array?Vr:Vr.childNodes,tn=Zr[Wr];if(ns(tn))return tn.data=Fh+tn.data,tn;{const sn=en.createTextNode(Fh);return Array.isArray(Vr)?Zr.splice(Wr,0,sn):Ad(Vr,Wr,sn),sn}}function Nn(en,Vr){return za(en)&&za(Vr)&&!ns(en)&&!ns(Vr)&&!Ac(en)&&!Ac(Vr)&&en.tagName.toLowerCase()===Vr.tagName.toLowerCase()}function Vn(en,Vr){return za(en)&&za(Vr)&&ns(en)&&ns(Vr)}function Yn(en,Vr,Wr){return Vr===Wr||(ns(Vr)&&ns(Wr)?Vr.data===Wr.data:!(!en.isBlockFiller(Vr)||!en.isBlockFiller(Wr)))}function Jn(en,Vr){const Wr=en.data;if(Wr==Vr)return;const Zr=rn(Wr,Vr);for(const tn of Zr)tn.type==="insert"?en.insertData(tn.index,tn.values.join("")):en.deleteData(tn.index,tn.howMany)}const ci=nl(Sa.document),vi=ch(Sa.document),Oi=Pp(Sa.document),Di="data-ck-unsafe-attribute-",Gi="data-ck-unsafe-element";class ao{constructor(Vr,{blockFillerMode:Wr,renderingMode:Zr="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new jc,this._encounteredRawContentDomNodes=new WeakSet,this.document=Vr,this.renderingMode=Zr,this.blockFillerMode=Wr||(Zr==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Sa.document:Sa.document.implementation.createHTMLDocument("")}bindFakeSelection(Vr,Wr){this._fakeSelectionMapping.set(Vr,new au(Wr))}fakeSelectionToView(Vr){return this._fakeSelectionMapping.get(Vr)}bindElements(Vr,Wr){this._domToViewMapping.set(Vr,Wr),this._viewToDomMapping.set(Wr,Vr)}unbindDomElement(Vr){const Wr=this._domToViewMapping.get(Vr);if(Wr){this._domToViewMapping.delete(Vr),this._viewToDomMapping.delete(Wr);for(const Zr of Array.from(Vr.children))this.unbindDomElement(Zr)}}bindDocumentFragments(Vr,Wr){this._domToViewMapping.set(Vr,Wr),this._viewToDomMapping.set(Wr,Vr)}shouldRenderAttribute(Vr,Wr,Zr){return this.renderingMode==="data"||!(Vr=Vr.toLowerCase()).startsWith("on")&&(Vr!=="srcdoc"||!Wr.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(Zr==="img"&&(Vr==="src"||Vr==="srcset")||Zr==="source"&&Vr==="srcset"||!Wr.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(Vr,Wr){if(this.renderingMode==="data")return void(Vr.innerHTML=Wr);const Zr=new DOMParser().parseFromString(Wr,"text/html"),tn=Zr.createDocumentFragment(),sn=Zr.body.childNodes;for(;sn.length>0;)tn.appendChild(sn[0]);const un=Zr.createTreeWalker(tn,NodeFilter.SHOW_ELEMENT),fn=[];let yn;for(;yn=un.nextNode();)fn.push(yn);for(const xn of fn){for(const Mn of xn.getAttributeNames())this.setDomElementAttribute(xn,Mn,xn.getAttribute(Mn));const Dn=xn.tagName.toLowerCase();this._shouldRenameElement(Dn)&&(Oo(Dn),xn.replaceWith(this._createReplacementDomElement(Dn,xn)))}for(;Vr.firstChild;)Vr.firstChild.remove();Vr.append(tn)}viewToDom(Vr,Wr={}){if(Vr.is("$text")){const Zr=this._processDataFromViewText(Vr);return this._domDocument.createTextNode(Zr)}{if(this.mapViewToDom(Vr))return this.mapViewToDom(Vr);let Zr;if(Vr.is("documentFragment"))Zr=this._domDocument.createDocumentFragment(),Wr.bind&&this.bindDocumentFragments(Zr,Vr);else{if(Vr.is("uiElement"))return Zr=Vr.name==="$comment"?this._domDocument.createComment(Vr.getCustomProperty("$rawContent")):Vr.render(this._domDocument,this),Wr.bind&&this.bindElements(Zr,Vr),Zr;this._shouldRenameElement(Vr.name)?(Oo(Vr.name),Zr=this._createReplacementDomElement(Vr.name)):Zr=Vr.hasAttribute("xmlns")?this._domDocument.createElementNS(Vr.getAttribute("xmlns"),Vr.name):this._domDocument.createElement(Vr.name),Vr.is("rawElement")&&Vr.render(Zr,this),Wr.bind&&this.bindElements(Zr,Vr);for(const tn of Vr.getAttributeKeys())this.setDomElementAttribute(Zr,tn,Vr.getAttribute(tn),Vr)}if(Wr.withChildren!==!1)for(const tn of this.viewChildrenToDom(Vr,Wr))Zr.appendChild(tn);return Zr}}setDomElementAttribute(Vr,Wr,Zr,tn){const sn=this.shouldRenderAttribute(Wr,Zr,Vr.tagName.toLowerCase())||tn&&tn.shouldRenderUnsafeAttribute(Wr);sn||En("domconverter-unsafe-attribute-detected",{domElement:Vr,key:Wr,value:Zr}),function(un){try{Sa.document.createAttribute(un)}catch{return!1}return!0}(Wr)?(Vr.hasAttribute(Wr)&&!sn?Vr.removeAttribute(Wr):Vr.hasAttribute(Di+Wr)&&sn&&Vr.removeAttribute(Di+Wr),Vr.setAttribute(sn?Wr:Di+Wr,Zr)):En("domconverter-invalid-attribute-detected",{domElement:Vr,key:Wr,value:Zr})}removeDomElementAttribute(Vr,Wr){Wr!=Gi&&(Vr.removeAttribute(Wr),Vr.removeAttribute(Di+Wr))}*viewChildrenToDom(Vr,Wr={}){const Zr=Vr.getFillerOffset&&Vr.getFillerOffset();let tn=0;for(const sn of Vr.getChildren()){Zr===tn&&(yield this._getBlockFiller());const un=sn.is("element")&&!!sn.getCustomProperty("dataPipeline:transparentRendering")&&!_l(sn.getAttributes());un&&this.renderingMode=="data"?yield*this.viewChildrenToDom(sn,Wr):(un&&En("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:sn}),yield this.viewToDom(sn,Wr)),tn++}Zr===tn&&(yield this._getBlockFiller())}viewRangeToDom(Vr){const Wr=this.viewPositionToDom(Vr.start),Zr=this.viewPositionToDom(Vr.end),tn=this._domDocument.createRange();return tn.setStart(Wr.parent,Wr.offset),tn.setEnd(Zr.parent,Zr.offset),tn}viewPositionToDom(Vr){const Wr=Vr.parent;if(Wr.is("$text")){const Zr=this.findCorrespondingDomText(Wr);if(!Zr)return null;let tn=Vr.offset;return Sc(Zr)&&(tn+=lu),{parent:Zr,offset:tn}}{let Zr,tn,sn;if(Vr.offset===0){if(Zr=this.mapViewToDom(Wr),!Zr)return null;sn=Zr.childNodes[0]}else{const un=Vr.nodeBefore;if(tn=un.is("$text")?this.findCorrespondingDomText(un):this.mapViewToDom(un),!tn)return null;Zr=tn.parentNode,sn=tn.nextSibling}return ns(sn)&&Sc(sn)?{parent:sn,offset:lu}:{parent:Zr,offset:tn?$u(tn)+1:0}}}domToView(Vr,Wr={}){if(this.isBlockFiller(Vr))return null;const Zr=this.getHostViewElement(Vr);if(Zr)return Zr;if(Ac(Vr)&&Wr.skipComments)return null;if(ns(Vr)){if(Gu(Vr))return null;{const tn=this._processDataFromDomText(Vr);return tn===""?null:new Ls(this.document,tn)}}{if(this.mapDomToView(Vr))return this.mapDomToView(Vr);let tn;if(this.isDocumentFragment(Vr))tn=new Uu(this.document),Wr.bind&&this.bindDocumentFragments(Vr,tn);else{tn=this._createViewElement(Vr,Wr),Wr.bind&&this.bindElements(Vr,tn);const sn=Vr.attributes;if(sn)for(let un=sn.length,fn=0;fn<un;fn++)tn._setAttribute(sn[fn].name,sn[fn].value);if(this._isViewElementWithRawContent(tn,Wr)||Ac(Vr)){const un=Ac(Vr)?Vr.data:Vr.innerHTML;return tn._setCustomProperty("$rawContent",un),this._encounteredRawContentDomNodes.add(Vr),tn}}if(Wr.withChildren!==!1)for(const sn of this.domChildrenToView(Vr,Wr))tn._appendChild(sn);return tn}}*domChildrenToView(Vr,Wr){for(let Zr=0;Zr<Vr.childNodes.length;Zr++){const tn=Vr.childNodes[Zr],sn=this.domToView(tn,Wr);sn!==null&&(yield sn)}}domSelectionToView(Vr){if(Vr.rangeCount===1){let tn=Vr.getRangeAt(0).startContainer;ns(tn)&&(tn=tn.parentNode);const sn=this.fakeSelectionToView(tn);if(sn)return sn}const Wr=this.isDomSelectionBackward(Vr),Zr=[];for(let tn=0;tn<Vr.rangeCount;tn++){const sn=Vr.getRangeAt(tn),un=this.domRangeToView(sn);un&&Zr.push(un)}return new au(Zr,{backward:Wr})}domRangeToView(Vr){const Wr=this.domPositionToView(Vr.startContainer,Vr.startOffset),Zr=this.domPositionToView(Vr.endContainer,Vr.endOffset);return Wr&&Zr?new va(Wr,Zr):null}domPositionToView(Vr,Wr=0){if(this.isBlockFiller(Vr))return this.domPositionToView(Vr.parentNode,$u(Vr));const Zr=this.mapDomToView(Vr);if(Zr&&(Zr.is("uiElement")||Zr.is("rawElement")))return Eo._createBefore(Zr);if(ns(Vr)){if(Gu(Vr))return this.domPositionToView(Vr.parentNode,$u(Vr));const tn=this.findCorrespondingViewText(Vr);let sn=Wr;return tn?(Sc(Vr)&&(sn-=lu,sn=sn<0?0:sn),new Eo(tn,sn)):null}if(Wr===0){const tn=this.mapDomToView(Vr);if(tn)return new Eo(tn,0)}else{const tn=Vr.childNodes[Wr-1];if(ns(tn)&&Gu(tn)||tn&&this.isBlockFiller(tn))return this.domPositionToView(tn.parentNode,$u(tn));const sn=ns(tn)?this.findCorrespondingViewText(tn):this.mapDomToView(tn);if(sn&&sn.parent)return new Eo(sn.parent,sn.index+1)}return null}mapDomToView(Vr){return this.getHostViewElement(Vr)||this._domToViewMapping.get(Vr)}findCorrespondingViewText(Vr){if(Gu(Vr))return null;const Wr=this.getHostViewElement(Vr);if(Wr)return Wr;const Zr=Vr.previousSibling;if(Zr){if(!this.isElement(Zr))return null;const tn=this.mapDomToView(Zr);if(tn){const sn=tn.nextSibling;return sn instanceof Ls?sn:null}}else{const tn=this.mapDomToView(Vr.parentNode);if(tn){const sn=tn.getChild(0);return sn instanceof Ls?sn:null}}return null}mapViewToDom(Vr){return this._viewToDomMapping.get(Vr)}findCorrespondingDomText(Vr){const Wr=Vr.previousSibling;return Wr&&this.mapViewToDom(Wr)?this.mapViewToDom(Wr).nextSibling:!Wr&&Vr.parent&&this.mapViewToDom(Vr.parent)?this.mapViewToDom(Vr.parent).childNodes[0]:null}focus(Vr){const Wr=this.mapViewToDom(Vr);if(Wr&&Wr.ownerDocument.activeElement!==Wr){const{scrollX:Zr,scrollY:tn}=Sa.window,sn=[];mo(Wr,un=>{const{scrollLeft:fn,scrollTop:yn}=un;sn.push([fn,yn])}),Wr.focus(),mo(Wr,un=>{const[fn,yn]=sn.shift();un.scrollLeft=fn,un.scrollTop=yn}),Sa.window.scrollTo(Zr,tn)}}isElement(Vr){return Vr&&Vr.nodeType==Node.ELEMENT_NODE}isDocumentFragment(Vr){return Vr&&Vr.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(Vr){return this.blockFillerMode=="br"?Vr.isEqualNode(ci):!(Vr.tagName!=="BR"||!So(Vr,this.blockElements)||Vr.parentNode.childNodes.length!==1)||Vr.isEqualNode(Oi)||function(Wr,Zr){return Wr.isEqualNode(vi)&&So(Wr,Zr)&&Wr.parentNode.childNodes.length===1}(Vr,this.blockElements)}isDomSelectionBackward(Vr){if(Vr.isCollapsed)return!1;const Wr=this._domDocument.createRange();try{Wr.setStart(Vr.anchorNode,Vr.anchorOffset),Wr.setEnd(Vr.focusNode,Vr.focusOffset)}catch{return!1}const Zr=Wr.collapsed;return Wr.detach(),Zr}getHostViewElement(Vr){const Wr=$c(Vr);for(Wr.pop();Wr.length;){const Zr=Wr.pop(),tn=this._domToViewMapping.get(Zr);if(tn&&(tn.is("uiElement")||tn.is("rawElement")))return tn}return null}isDomSelectionCorrect(Vr){return this._isDomSelectionPositionCorrect(Vr.anchorNode,Vr.anchorOffset)&&this._isDomSelectionPositionCorrect(Vr.focusNode,Vr.focusOffset)}registerRawContentMatcher(Vr){this._rawContentElementMatcher.add(Vr)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return ch(this._domDocument);case"markedNbsp":return Pp(this._domDocument);case"br":return nl(this._domDocument)}}_isDomSelectionPositionCorrect(Vr,Wr){if(ns(Vr)&&Sc(Vr)&&Wr<lu||this.isElement(Vr)&&Sc(Vr.childNodes[Wr]))return!1;const Zr=this.mapDomToView(Vr);return!Zr||!Zr.is("uiElement")&&!Zr.is("rawElement")}_processDataFromViewText(Vr){let Wr=Vr.data;if(Vr.getAncestors().some(Zr=>this.preElements.includes(Zr.name)))return Wr;if(Wr.charAt(0)==" "){const Zr=this._getTouchingInlineViewNode(Vr,!1);!(Zr&&Zr.is("$textProxy")&&this._nodeEndsWithSpace(Zr))&&Zr||(Wr="Â "+Wr.substr(1))}if(Wr.charAt(Wr.length-1)==" "){const Zr=this._getTouchingInlineViewNode(Vr,!0),tn=Zr&&Zr.is("$textProxy")&&Zr.data.charAt(0)==" ";Wr.charAt(Wr.length-2)!=" "&&Zr&&!tn||(Wr=Wr.substr(0,Wr.length-1)+"Â ")}return Wr.replace(/ {2}/g," Â ")}_nodeEndsWithSpace(Vr){if(Vr.getAncestors().some(Zr=>this.preElements.includes(Zr.name)))return!1;const Wr=this._processDataFromViewText(Vr);return Wr.charAt(Wr.length-1)==" "}_processDataFromDomText(Vr){let Wr=Vr.data;if(function(xn,Dn){return $c(xn).some(Rn=>Rn.tagName&&Dn.includes(Rn.tagName.toLowerCase()))}(Vr,this.preElements))return nn(Vr);Wr=Wr.replace(/[ \n\t\r]{1,}/g," ");const Zr=this._getTouchingInlineDomNode(Vr,!1),tn=this._getTouchingInlineDomNode(Vr,!0),sn=this._checkShouldLeftTrimDomText(Vr,Zr),un=this._checkShouldRightTrimDomText(Vr,tn);sn&&(Wr=Wr.replace(/^ /,"")),un&&(Wr=Wr.replace(/ $/,"")),Wr=nn(new Text(Wr)),Wr=Wr.replace(/ \u00A0/g,"  ");const fn=tn&&this.isElement(tn)&&tn.tagName!="BR",yn=tn&&ns(tn)&&tn.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(Wr)||!tn||fn||yn)&&(Wr=Wr.replace(/\u00A0$/," ")),(sn||Zr&&this.isElement(Zr)&&Zr.tagName!="BR")&&(Wr=Wr.replace(/^\u00A0/," ")),Wr}_checkShouldLeftTrimDomText(Vr,Wr){return!Wr||(this.isElement(Wr)?Wr.tagName==="BR":!this._encounteredRawContentDomNodes.has(Vr.previousSibling)&&/[^\S\u00A0]/.test(Wr.data.charAt(Wr.data.length-1)))}_checkShouldRightTrimDomText(Vr,Wr){return!Wr&&!Sc(Vr)}_getTouchingInlineViewNode(Vr,Wr){const Zr=new hd({startPosition:Wr?Eo._createAfter(Vr):Eo._createBefore(Vr),direction:Wr?"forward":"backward"});for(const tn of Zr){if(tn.item.is("element")&&this.inlineObjectElements.includes(tn.item.name))return tn.item;if(tn.item.is("containerElement")||tn.item.is("element","br"))return null;if(tn.item.is("$textProxy"))return tn.item}return null}_getTouchingInlineDomNode(Vr,Wr){if(!Vr.parentNode)return null;const Zr=Wr?"firstChild":"lastChild",tn=Wr?"nextSibling":"previousSibling";let sn=!0,un=Vr;do if(!sn&&un[Zr]?un=un[Zr]:un[tn]?(un=un[tn],sn=!1):(un=un.parentNode,sn=!0),!un||this._isBlockElement(un))return null;while(!ns(un)&&un.tagName!="BR"&&!this._isInlineObjectElement(un));return un}_isBlockElement(Vr){return this.isElement(Vr)&&this.blockElements.includes(Vr.tagName.toLowerCase())}_isInlineObjectElement(Vr){return this.isElement(Vr)&&this.inlineObjectElements.includes(Vr.tagName.toLowerCase())}_createViewElement(Vr,Wr){if(Ac(Vr))return new ju(this.document,"$comment");const Zr=Wr.keepOriginalCase?Vr.tagName:Vr.tagName.toLowerCase();return new ac(this.document,Zr)}_isViewElementWithRawContent(Vr,Wr){return Wr.withChildren!==!1&&!!this._rawContentElementMatcher.match(Vr)}_shouldRenameElement(Vr){const Wr=Vr.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(Wr)}_createReplacementDomElement(Vr,Wr){const Zr=this._domDocument.createElement("span");if(Zr.setAttribute(Gi,Vr),Wr){for(;Wr.firstChild;)Zr.appendChild(Wr.firstChild);for(const tn of Wr.getAttributeNames())Zr.setAttribute(tn,Wr.getAttribute(tn))}return Zr}}function mo(en,Vr){let Wr=en;for(;Wr;)Vr(Wr),Wr=Wr.parentElement}function So(en,Vr){const Wr=en.parentNode;return!!Wr&&!!Wr.tagName&&Vr.includes(Wr.tagName.toLowerCase())}function Oo(en){en==="script"&&En("domconverter-unsafe-script-element-detected"),en==="style"&&En("domconverter-unsafe-style-element-detected")}class wo extends Ks(){constructor(Vr){super(),this._isEnabled=!1,this.view=Vr,this.document=Vr.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(Vr){return Vr&&Vr.nodeType===3&&(Vr=Vr.parentNode),!(!Vr||Vr.nodeType!==1)&&Vr.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const zo=Pf(function(en,Vr){Ta(Vr,yi(Vr),en)});class ra{constructor(Vr,Wr,Zr){this.view=Vr,this.document=Vr.document,this.domEvent=Wr,this.domTarget=Wr.target,zo(this,Zr)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Wo extends wo{constructor(){super(...arguments),this.useCapture=!1}observe(Vr){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(Wr=>{this.listenTo(Vr,Wr,(Zr,tn)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(tn.target)&&this.onDomEvent(tn)},{useCapture:this.useCapture})})}stopObserving(Vr){this.stopListening(Vr)}fire(Vr,Wr,Zr){this.isEnabled&&this.document.fire(Vr,new ra(this.view,Wr,Zr))}}class ja extends Wo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(Vr){const Wr={keyCode:Vr.keyCode,altKey:Vr.altKey,ctrlKey:Vr.ctrlKey,shiftKey:Vr.shiftKey,metaKey:Vr.metaKey,get keystroke(){return Bc(this)}};this.fire(Vr.type,Vr,Wr)}}const Es=function(){return ri.Date.now()};var Tl=/\s/;const Qs=function(en){for(var Vr=en.length;Vr--&&Tl.test(en.charAt(Vr)););return Vr};var yc=/^\s+/;const sc=function(en){return en&&en.slice(0,Qs(en)+1).replace(yc,"")};var fl=/^[-+]0x[0-9a-f]+$/i,lc=/^0b[01]+$/i,zl=/^0o[0-7]+$/i,wl=parseInt;const ll=function(en){if(typeof en=="number")return en;if(zu(en))return NaN;if(ji(en)){var Vr=typeof en.valueOf=="function"?en.valueOf():en;en=ji(Vr)?Vr+"":Vr}if(typeof en!="string")return en===0?en:+en;en=sc(en);var Wr=lc.test(en);return Wr||zl.test(en)?wl(en.slice(2),Wr?2:8):fl.test(en)?NaN:+en};var il=Math.max,cc=Math.min;const cu=function(en,Vr,Wr){var Zr,tn,sn,un,fn,yn,xn=0,Dn=!1,Mn=!1,Rn=!0;if(typeof en!="function")throw new TypeError("Expected a function");function Un(Li){var eo=Zr,Fo=tn;return Zr=tn=void 0,xn=Li,un=en.apply(Fo,eo)}function Kn(Li){var eo=Li-yn;return yn===void 0||eo>=Vr||eo<0||Mn&&Li-xn>=sn}function ti(){var Li=Es();if(Kn(Li))return si(Li);fn=setTimeout(ti,function(eo){var Fo=Vr-(eo-yn);return Mn?cc(Fo,sn-(eo-xn)):Fo}(Li))}function si(Li){return fn=void 0,Rn&&Zr?Un(Li):(Zr=tn=void 0,un)}function fi(){var Li=Es(),eo=Kn(Li);if(Zr=arguments,tn=this,yn=Li,eo){if(fn===void 0)return function(Fo){return xn=Fo,fn=setTimeout(ti,Vr),Dn?Un(Fo):un}(yn);if(Mn)return clearTimeout(fn),fn=setTimeout(ti,Vr),Un(yn)}return fn===void 0&&(fn=setTimeout(ti,Vr)),un}return Vr=ll(Vr)||0,ji(Wr)&&(Dn=!!Wr.leading,sn=(Mn="maxWait"in Wr)?il(ll(Wr.maxWait)||0,Vr):sn,Rn="trailing"in Wr?!!Wr.trailing:Rn),fi.cancel=function(){fn!==void 0&&clearTimeout(fn),xn=0,Zr=yn=tn=fn=void 0},fi.flush=function(){return fn===void 0?un:si(Es())},fi};class Wu extends wo{constructor(Vr){super(Vr),this._fireSelectionChangeDoneDebounced=cu(Wr=>{this.document.fire("selectionChangeDone",Wr)},200)}observe(){const Vr=this.document;Vr.on("arrowKey",(Wr,Zr)=>{Vr.selection.isFake&&this.isEnabled&&Zr.preventDefault()},{context:"$capture"}),Vr.on("arrowKey",(Wr,Zr)=>{Vr.selection.isFake&&this.isEnabled&&this._handleSelectionMove(Zr.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(Vr){const Wr=this.document.selection,Zr=new au(Wr.getRanges(),{backward:Wr.isBackward,fake:!1});Vr!=Xa.arrowleft&&Vr!=Xa.arrowup||Zr.setTo(Zr.getFirstPosition()),Vr!=Xa.arrowright&&Vr!=Xa.arrowdown||Zr.setTo(Zr.getLastPosition());const tn={oldSelection:Wr,newSelection:Zr,domSelection:null};this.document.fire("selectionChange",tn),this._fireSelectionChangeDoneDebounced(tn)}}const Wl=function(en){return this.__data__.set(en,"__lodash_hash_undefined__"),this},uu=function(en){return this.__data__.has(en)};function cl(en){var Vr=-1,Wr=en==null?0:en.length;for(this.__data__=new Fa;++Vr<Wr;)this.add(en[Vr])}cl.prototype.add=cl.prototype.push=Wl,cl.prototype.has=uu;const Uf=cl,xu=function(en,Vr){for(var Wr=-1,Zr=en==null?0:en.length;++Wr<Zr;)if(Vr(en[Wr],Wr,en))return!0;return!1},pd=function(en,Vr){return en.has(Vr)},Yu=function(en,Vr,Wr,Zr,tn,sn){var un=1&Wr,fn=en.length,yn=Vr.length;if(fn!=yn&&!(un&&yn>fn))return!1;var xn=sn.get(en),Dn=sn.get(Vr);if(xn&&Dn)return xn==Vr&&Dn==en;var Mn=-1,Rn=!0,Un=2&Wr?new Uf:void 0;for(sn.set(en,Vr),sn.set(Vr,en);++Mn<fn;){var Kn=en[Mn],ti=Vr[Mn];if(Zr)var si=un?Zr(ti,Kn,Mn,Vr,en,sn):Zr(Kn,ti,Mn,en,Vr,sn);if(si!==void 0){if(si)continue;Rn=!1;break}if(Un){if(!xu(Vr,function(fi,Li){if(!pd(Un,Li)&&(Kn===fi||tn(Kn,fi,Wr,Zr,sn)))return Un.push(Li)})){Rn=!1;break}}else if(Kn!==ti&&!tn(Kn,ti,Wr,Zr,sn)){Rn=!1;break}}return sn.delete(en),sn.delete(Vr),Rn},Jl=function(en){var Vr=-1,Wr=Array(en.size);return en.forEach(function(Zr,tn){Wr[++Vr]=[tn,Zr]}),Wr},Od=function(en){var Vr=-1,Wr=Array(en.size);return en.forEach(function(Zr){Wr[++Vr]=Zr}),Wr};var zh=ai?ai.prototype:void 0,Tg=zh?zh.valueOf:void 0;const r1=function(en,Vr,Wr,Zr,tn,sn,un){switch(Wr){case"[object DataView]":if(en.byteLength!=Vr.byteLength||en.byteOffset!=Vr.byteOffset)return!1;en=en.buffer,Vr=Vr.buffer;case"[object ArrayBuffer]":return!(en.byteLength!=Vr.byteLength||!sn(new pc(en),new pc(Vr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ml(+en,+Vr);case"[object Error]":return en.name==Vr.name&&en.message==Vr.message;case"[object RegExp]":case"[object String]":return en==Vr+"";case"[object Map]":var fn=Jl;case"[object Set]":var yn=1&Zr;if(fn||(fn=Od),en.size!=Vr.size&&!yn)return!1;var xn=un.get(en);if(xn)return xn==Vr;Zr|=2,un.set(en,Vr);var Dn=Yu(fn(en),fn(Vr),Zr,tn,sn,un);return un.delete(en),Dn;case"[object Symbol]":if(Tg)return Tg.call(en)==Tg.call(Vr)}return!1};var n1=Object.prototype.hasOwnProperty;const i1=function(en,Vr,Wr,Zr,tn,sn){var un=1&Wr,fn=qc(en),yn=fn.length;if(yn!=qc(Vr).length&&!un)return!1;for(var xn=yn;xn--;){var Dn=fn[xn];if(!(un?Dn in Vr:n1.call(Vr,Dn)))return!1}var Mn=sn.get(en),Rn=sn.get(Vr);if(Mn&&Rn)return Mn==Vr&&Rn==en;var Un=!0;sn.set(en,Vr),sn.set(Vr,en);for(var Kn=un;++xn<yn;){var ti=en[Dn=fn[xn]],si=Vr[Dn];if(Zr)var fi=un?Zr(si,ti,Dn,Vr,en,sn):Zr(ti,si,Dn,en,Vr,sn);if(!(fi===void 0?ti===si||tn(ti,si,Wr,Zr,sn):fi)){Un=!1;break}Kn||(Kn=Dn=="constructor")}if(Un&&!Kn){var Li=en.constructor,eo=Vr.constructor;Li==eo||!("constructor"in en)||!("constructor"in Vr)||typeof Li=="function"&&Li instanceof Li&&typeof eo=="function"&&eo instanceof eo||(Un=!1)}return sn.delete(en),sn.delete(Vr),Un};var Gm="[object Arguments]",Wm="[object Array]",Op="[object Object]",Ym=Object.prototype.hasOwnProperty;const o1=function(en,Vr,Wr,Zr,tn,sn){var un=Lo(en),fn=Lo(Vr),yn=un?Wm:Ec(en),xn=fn?Wm:Ec(Vr),Dn=(yn=yn==Gm?Op:yn)==Op,Mn=(xn=xn==Gm?Op:xn)==Op,Rn=yn==xn;if(Rn&&Ys(en)){if(!Ys(Vr))return!1;un=!0,Dn=!1}if(Rn&&!Dn)return sn||(sn=new Ea),un||el(en)?Yu(en,Vr,Wr,Zr,tn,sn):r1(en,Vr,yn,Wr,Zr,tn,sn);if(!(1&Wr)){var Un=Dn&&Ym.call(en,"__wrapped__"),Kn=Mn&&Ym.call(Vr,"__wrapped__");if(Un||Kn){var ti=Un?en.value():en,si=Kn?Vr.value():Vr;return sn||(sn=new Ea),tn(ti,si,Wr,Zr,sn)}}return!!Rn&&(sn||(sn=new Ea),i1(en,Vr,Wr,Zr,tn,sn))},qm=function en(Vr,Wr,Zr,tn,sn){return Vr===Wr||(Vr==null||Wr==null||!oo(Vr)&&!oo(Wr)?Vr!=Vr&&Wr!=Wr:o1(Vr,Wr,Zr,tn,en,sn))},a1=function(en,Vr,Wr){var Zr=(Wr=typeof Wr=="function"?Wr:void 0)?Wr(en,Vr):void 0;return Zr===void 0?qm(en,Vr,void 0,Wr):!!Zr};class Km extends wo{constructor(Vr){super(Vr),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=Vr.domConverter,this.renderer=Vr._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(Vr){this._domElements.add(Vr),this.isEnabled&&this._mutationObserver.observe(Vr,this._config)}stopObserving(Vr){if(this._domElements.delete(Vr),this.isEnabled){this._mutationObserver.disconnect();for(const Wr of this._domElements)this._mutationObserver.observe(Wr,this._config)}}enable(){super.enable();for(const Vr of this._domElements)this._mutationObserver.observe(Vr,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(Vr){if(Vr.length===0)return;const Wr=this.domConverter,Zr=new Set,tn=new Set;for(const un of Vr){const fn=Wr.mapDomToView(un.target);fn&&(fn.is("uiElement")||fn.is("rawElement")||un.type!=="childList"||this._isBogusBrMutation(un)||tn.add(fn))}for(const un of Vr){const fn=Wr.mapDomToView(un.target);if((!fn||!fn.is("uiElement")&&!fn.is("rawElement"))&&un.type==="characterData"){const yn=Wr.findCorrespondingViewText(un.target);yn&&!tn.has(yn.parent)?Zr.add(yn):!yn&&Sc(un.target)&&tn.add(Wr.mapDomToView(un.target.parentNode))}}let sn=!1;for(const un of Zr)sn=!0,this.renderer.markToSync("text",un);for(const un of tn){const fn=Wr.mapViewToDom(un),yn=Array.from(un.getChildren()),xn=Array.from(Wr.domChildrenToView(fn,{withChildren:!1}));a1(yn,xn,s1)||(sn=!0,this.renderer.markToSync("children",un))}sn&&this.view.forceRender()}_isBogusBrMutation(Vr){let Wr=null;return Vr.nextSibling===null&&Vr.removedNodes.length===0&&Vr.addedNodes.length==1&&(Wr=this.domConverter.domToView(Vr.addedNodes[0],{withChildren:!1})),Wr&&Wr.is("element","br")}}function s1(en,Vr){if(!Array.isArray(en))return en===Vr||!(!en.is("$text")||!Vr.is("$text"))&&en.data===Vr.data}class Mg extends Wo{constructor(Vr){super(Vr),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const Wr=this.document;Wr.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),Vr.change(()=>{})},50)}),Wr.on("blur",(Zr,tn)=>{const sn=Wr.selection.editableElement;sn!==null&&sn!==tn.target||(Wr.isFocused=!1,this._isFocusChanging=!1,Vr.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(Vr){this.fire(Vr.type,Vr)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class l1 extends wo{constructor(Vr){super(Vr),this.mutationObserver=Vr.getObserver(Km),this.focusObserver=Vr.getObserver(Mg),this.selection=this.document.selection,this.domConverter=Vr.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=cu(Wr=>{this.document.fire("selectionChangeDone",Wr)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=cu(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(Vr){const Wr=Vr.ownerDocument,Zr=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,Wr),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(Vr,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(Vr,"keydown",Zr,{priority:"highest",useCapture:!0}),this.listenTo(Vr,"keyup",Zr,{priority:"highest",useCapture:!0}),this._documents.has(Wr)||(this.listenTo(Wr,"mouseup",Zr,{priority:"highest",useCapture:!0}),this.listenTo(Wr,"selectionchange",(tn,sn)=>{this.document.isComposing&&!Qr.isAndroid||(this._handleSelectionChange(sn,Wr),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(Wr))}stopObserving(Vr){this.stopListening(Vr)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(Vr,Wr){if(!this.isEnabled)return;const Zr=Wr.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(Zr.anchorNode))return;this.mutationObserver.flush();const tn=this.domConverter.domSelectionToView(Zr);if(tn.rangeCount!=0){if(this.view.hasDomSelection=!0,!this.selection.isEqual(tn)||!this.domConverter.isDomSelectionCorrect(Zr))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.focusObserver.flush(),this.selection.isSimilar(tn))this.view.forceRender();else{const sn={oldSelection:this.selection,newSelection:tn,domSelection:Zr};this.document.fire("selectionChange",sn),this._fireSelectionChangeDoneDebounced(sn)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class c1 extends Wo{constructor(Vr){super(Vr),this.domEventType=["compositionstart","compositionupdate","compositionend"];const Wr=this.document;Wr.on("compositionstart",()=>{Wr.isComposing=!0},{priority:"low"}),Wr.on("compositionend",()=>{Wr.isComposing=!1},{priority:"low"})}onDomEvent(Vr){this.fire(Vr.type,Vr,{data:Vr.data})}}class Zm{constructor(Vr,Wr={}){this._files=Wr.cacheFiles?Xm(Vr):null,this._native=Vr}get files(){return this._files||(this._files=Xm(this._native)),this._files}get types(){return this._native.types}getData(Vr){return this._native.getData(Vr)}setData(Vr,Wr){this._native.setData(Vr,Wr)}set effectAllowed(Vr){this._native.effectAllowed=Vr}get effectAllowed(){return this._native.effectAllowed}set dropEffect(Vr){this._native.dropEffect=Vr}get dropEffect(){return this._native.dropEffect}setDragImage(Vr,Wr,Zr){this._native.setDragImage(Vr,Wr,Zr)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Xm(en){const Vr=Array.from(en.files||[]),Wr=Array.from(en.items||[]);return Vr.length?Vr:Wr.filter(Zr=>Zr.kind==="file").map(Zr=>Zr.getAsFile())}class u1 extends Wo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(Vr){const Wr=Vr.getTargetRanges(),Zr=this.view,tn=Zr.document;let sn=null,un=null,fn=[];if(Vr.dataTransfer&&(sn=new Zm(Vr.dataTransfer)),Vr.data!==null?un=Vr.data:sn&&(un=sn.getData("text/plain")),tn.selection.isFake)fn=Array.from(tn.selection.getRanges());else if(Wr.length)fn=Wr.map(yn=>{const xn=Zr.domConverter.domPositionToView(yn.startContainer,yn.startOffset),Dn=Zr.domConverter.domPositionToView(yn.endContainer,yn.endOffset);return xn?Zr.createRange(xn,Dn):Dn?Zr.createRange(Dn):void 0}).filter(yn=>!!yn);else if(Qr.isAndroid){const yn=Vr.target.ownerDocument.defaultView.getSelection();fn=Array.from(Zr.domConverter.domSelectionToView(yn).getRanges())}if(Qr.isAndroid&&Vr.inputType=="insertCompositionText"&&un&&un.endsWith(`
`))this.fire(Vr.type,Vr,{inputType:"insertParagraph",targetRanges:[Zr.createRange(fn[0].end)]});else if(Vr.inputType=="insertText"&&un&&un.includes(`
`)){const yn=un.split(/\n{1,2}/g);let xn=fn;for(let Dn=0;Dn<yn.length;Dn++){const Mn=yn[Dn];Mn!=""&&(this.fire(Vr.type,Vr,{data:Mn,dataTransfer:sn,targetRanges:xn,inputType:Vr.inputType,isComposing:Vr.isComposing}),xn=[tn.selection.getFirstRange()]),Dn+1<yn.length&&(this.fire(Vr.type,Vr,{inputType:"insertParagraph",targetRanges:xn}),xn=[tn.selection.getFirstRange()])}}else this.fire(Vr.type,Vr,{data:un,dataTransfer:sn,targetRanges:fn,inputType:Vr.inputType,isComposing:Vr.isComposing})}}class d1 extends wo{constructor(Vr){super(Vr),this.document.on("keydown",(Wr,Zr)=>{if(this.isEnabled&&((tn=Zr.keyCode)==Xa.arrowright||tn==Xa.arrowleft||tn==Xa.arrowup||tn==Xa.arrowdown)){const sn=new Vu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(sn,Zr),sn.stop.called&&Wr.stop()}var tn})}observe(){}stopObserving(){}}class h1 extends wo{constructor(Vr){super(Vr);const Wr=this.document;Wr.on("keydown",(Zr,tn)=>{if(!this.isEnabled||tn.keyCode!=Xa.tab||tn.ctrlKey)return;const sn=new Vu(Wr,"tab",Wr.selection.getFirstRange());Wr.fire(sn,tn),sn.stop.called&&Zr.stop()})}observe(){}stopObserving(){}}const Rd=function(en){return Bo(en,5)};class f1 extends Ji(){constructor(Vr){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Nh(Vr),this.domConverter=new ao(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new wn(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new zf(this.document),this.addObserver(Km),this.addObserver(Mg),this.addObserver(l1),this.addObserver(ja),this.addObserver(Wu),this.addObserver(c1),this.addObserver(d1),this.addObserver(u1),this.addObserver(h1),this.document.on("arrowKey",cn,{priority:"low"}),Gc(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(Vr,Wr="main"){const Zr=this.document.getRoot(Wr);Zr._name=Vr.tagName.toLowerCase();const tn={};for(const{name:un,value:fn}of Array.from(Vr.attributes))tn[un]=fn,un==="class"?this._writer.addClass(fn.split(" "),Zr):this._writer.setAttribute(un,fn,Zr);this._initialDomRootAttributes.set(Vr,tn);const sn=()=>{this._writer.setAttribute("contenteditable",(!Zr.isReadOnly).toString(),Zr),Zr.isReadOnly?this._writer.addClass("ck-read-only",Zr):this._writer.removeClass("ck-read-only",Zr)};sn(),this.domRoots.set(Wr,Vr),this.domConverter.bindElements(Vr,Zr),this._renderer.markToSync("children",Zr),this._renderer.markToSync("attributes",Zr),this._renderer.domDocuments.add(Vr.ownerDocument),Zr.on("change:children",(un,fn)=>this._renderer.markToSync("children",fn)),Zr.on("change:attributes",(un,fn)=>this._renderer.markToSync("attributes",fn)),Zr.on("change:text",(un,fn)=>this._renderer.markToSync("text",fn)),Zr.on("change:isReadOnly",()=>this.change(sn)),Zr.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const un of this._observers.values())un.observe(Vr,Wr)}detachDomRoot(Vr){const Wr=this.domRoots.get(Vr);Array.from(Wr.attributes).forEach(({name:tn})=>Wr.removeAttribute(tn));const Zr=this._initialDomRootAttributes.get(Wr);for(const tn in Zr)Wr.setAttribute(tn,Zr[tn]);this.domRoots.delete(Vr),this.domConverter.unbindDomElement(Wr);for(const tn of this._observers.values())tn.stopObserving(Wr)}getDomRoot(Vr="main"){return this.domRoots.get(Vr)}addObserver(Vr){let Wr=this._observers.get(Vr);if(Wr)return Wr;Wr=new Vr(this),this._observers.set(Vr,Wr);for(const[Zr,tn]of this.domRoots)Wr.observe(tn,Zr);return Wr.enable(),Wr}getObserver(Vr){return this._observers.get(Vr)}disableObservers(){for(const Vr of this._observers.values())Vr.disable()}enableObservers(){for(const Vr of this._observers.values())Vr.enable()}scrollToTheSelection({alignToTop:Vr,forceScroll:Wr,viewportOffset:Zr=20,ancestorOffset:tn=20}={}){const sn=this.document.selection.getFirstRange();if(!sn)return;const un=Rd({alignToTop:Vr,forceScroll:Wr,viewportOffset:Zr,ancestorOffset:tn});typeof Zr=="number"&&(Zr={top:Zr,bottom:Zr,left:Zr,right:Zr});const fn={target:this.domConverter.viewRangeToDom(sn),viewportOffset:Zr,ancestorOffset:tn,alignToTop:Vr,forceScroll:Wr};this.fire("scrollToTheSelection",fn,un),function({target:yn,viewportOffset:xn=0,ancestorOffset:Dn=0,alignToTop:Mn,forceScroll:Rn}){const Un=Bu(yn);let Kn=Un,ti=null;for(xn=function(si){return typeof si=="number"?{top:si,bottom:si,left:si,right:si}:si}(xn);Kn;){let si;si=Vd(Kn==Un?yn:ti),ta({parent:si,getRect:()=>ef(yn,Kn),alignToTop:Mn,ancestorOffset:Dn,forceScroll:Rn});const fi=ef(yn,Kn);if(Qi({window:Kn,rect:fi,viewportOffset:xn,alignToTop:Mn,forceScroll:Rn}),Kn.parent!=Kn){if(ti=Kn.frameElement,Kn=Kn.parent,!ti)return}else Kn=null}}(fn)}focus(){if(!this.document.isFocused){const Vr=this.document.selection.editableElement;Vr&&(this.domConverter.focus(Vr),this.forceRender())}}change(Vr){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Cn("cannot-change-view-tree",this);try{if(this._ongoingChange)return Vr(this._writer);this._ongoingChange=!0;const Wr=Vr(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),Wr}catch(Wr){Cn.rethrowUnexpectedError(Wr,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Mg).flush(),this.change(()=>{})}destroy(){for(const Vr of this._observers.values())Vr.destroy();this.document.destroy(),this.stopListening()}createPositionAt(Vr,Wr){return Eo._createAt(Vr,Wr)}createPositionAfter(Vr){return Eo._createAfter(Vr)}createPositionBefore(Vr){return Eo._createBefore(Vr)}createRange(Vr,Wr){return new va(Vr,Wr)}createRangeOn(Vr){return va._createOn(Vr)}createRangeIn(Vr){return va._createIn(Vr)}createSelection(...Vr){return new au(...Vr)}_disableRendering(Vr){this._renderingDisabled=Vr,Vr==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class $d{is(){throw new Error("is() method is abstract")}}class uh extends $d{constructor(Vr){super(),this.parent=null,this._attrs=rl(Vr)}get document(){return null}get index(){let Vr;if(!this.parent)return null;if((Vr=this.parent.getChildIndex(this))===null)throw new Cn("model-node-not-found-in-parent",this);return Vr}get startOffset(){let Vr;if(!this.parent)return null;if((Vr=this.parent.getChildStartOffset(this))===null)throw new Cn("model-node-not-found-in-parent",this);return Vr}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const Vr=this.index;return Vr!==null&&this.parent.getChild(Vr+1)||null}get previousSibling(){const Vr=this.index;return Vr!==null&&this.parent.getChild(Vr-1)||null}get root(){let Vr=this;for(;Vr.parent;)Vr=Vr.parent;return Vr}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const Vr=[];let Wr=this;for(;Wr.parent;)Vr.unshift(Wr.startOffset),Wr=Wr.parent;return Vr}getAncestors(Vr={}){const Wr=[];let Zr=Vr.includeSelf?this:this.parent;for(;Zr;)Wr[Vr.parentFirst?"push":"unshift"](Zr),Zr=Zr.parent;return Wr}getCommonAncestor(Vr,Wr={}){const Zr=this.getAncestors(Wr),tn=Vr.getAncestors(Wr);let sn=0;for(;Zr[sn]==tn[sn]&&Zr[sn];)sn++;return sn===0?null:Zr[sn-1]}isBefore(Vr){if(this==Vr||this.root!==Vr.root)return!1;const Wr=this.getPath(),Zr=Vr.getPath(),tn=Aa(Wr,Zr);switch(tn){case"prefix":return!0;case"extension":return!1;default:return Wr[tn]<Zr[tn]}}isAfter(Vr){return this!=Vr&&this.root===Vr.root&&!this.isBefore(Vr)}hasAttribute(Vr){return this._attrs.has(Vr)}getAttribute(Vr){return this._attrs.get(Vr)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const Vr={};return this._attrs.size&&(Vr.attributes=Array.from(this._attrs).reduce((Wr,Zr)=>(Wr[Zr[0]]=Zr[1],Wr),{})),Vr}_clone(Vr){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(Vr,Wr){this._attrs.set(Vr,Wr)}_setAttributesTo(Vr){this._attrs=rl(Vr)}_removeAttribute(Vr){return this._attrs.delete(Vr)}_clearAttributes(){this._attrs.clear()}}uh.prototype.is=function(en){return en==="node"||en==="model:node"};class Gf{constructor(Vr){this._nodes=[],Vr&&this._insertNodes(0,Vr)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((Vr,Wr)=>Vr+Wr.offsetSize,0)}getNode(Vr){return this._nodes[Vr]||null}getNodeIndex(Vr){const Wr=this._nodes.indexOf(Vr);return Wr==-1?null:Wr}getNodeStartOffset(Vr){const Wr=this.getNodeIndex(Vr);return Wr===null?null:this._nodes.slice(0,Wr).reduce((Zr,tn)=>Zr+tn.offsetSize,0)}indexToOffset(Vr){if(Vr==this._nodes.length)return this.maxOffset;const Wr=this._nodes[Vr];if(!Wr)throw new Cn("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(Wr)}offsetToIndex(Vr){let Wr=0;for(const Zr of this._nodes){if(Vr>=Wr&&Vr<Wr+Zr.offsetSize)return this.getNodeIndex(Zr);Wr+=Zr.offsetSize}if(Wr!=Vr)throw new Cn("model-nodelist-offset-out-of-bounds",this,{offset:Vr,nodeList:this});return this.length}_insertNodes(Vr,Wr){for(const Zr of Wr)if(!(Zr instanceof uh))throw new Cn("model-nodelist-insertnodes-not-node",this);this._nodes=function(Zr,tn,sn,un){if(Math.max(tn.length,Zr.length)>1e4)return Zr.slice(0,sn).concat(tn).concat(Zr.slice(sn+un,Zr.length));{const fn=Array.from(Zr);return fn.splice(sn,un,...tn),fn}}(this._nodes,Array.from(Wr),Vr,0)}_removeNodes(Vr,Wr=1){return this._nodes.splice(Vr,Wr)}toJSON(){return this._nodes.map(Vr=>Vr.toJSON())}}class Gs extends uh{constructor(Vr,Wr){super(Wr),this._data=Vr||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const Vr=super.toJSON();return Vr.data=this.data,Vr}_clone(){return new Gs(this.data,this.getAttributes())}static fromJSON(Vr){return new Gs(Vr.data,Vr.attributes)}}Gs.prototype.is=function(en){return en==="$text"||en==="model:$text"||en==="text"||en==="model:text"||en==="node"||en==="model:node"};class Su extends $d{constructor(Vr,Wr,Zr){if(super(),this.textNode=Vr,Wr<0||Wr>Vr.offsetSize)throw new Cn("model-textproxy-wrong-offsetintext",this);if(Zr<0||Wr+Zr>Vr.offsetSize)throw new Cn("model-textproxy-wrong-length",this);this.data=Vr.data.substring(Wr,Wr+Zr),this.offsetInText=Wr}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const Vr=this.textNode.getPath();return Vr.length>0&&(Vr[Vr.length-1]+=this.offsetInText),Vr}getAncestors(Vr={}){const Wr=[];let Zr=Vr.includeSelf?this:this.parent;for(;Zr;)Wr[Vr.parentFirst?"push":"unshift"](Zr),Zr=Zr.parent;return Wr}hasAttribute(Vr){return this.textNode.hasAttribute(Vr)}getAttribute(Vr){return this.textNode.getAttribute(Vr)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Su.prototype.is=function(en){return en==="$textProxy"||en==="model:$textProxy"||en==="textProxy"||en==="model:textProxy"};class Rs extends uh{constructor(Vr,Wr,Zr){super(Wr),this._children=new Gf,this.name=Vr,Zr&&this._insertChild(0,Zr)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(Vr){return this._children.getNode(Vr)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(Vr){return this._children.getNodeIndex(Vr)}getChildStartOffset(Vr){return this._children.getNodeStartOffset(Vr)}offsetToIndex(Vr){return this._children.offsetToIndex(Vr)}getNodeByPath(Vr){let Wr=this;for(const Zr of Vr)Wr=Wr.getChild(Wr.offsetToIndex(Zr));return Wr}findAncestor(Vr,Wr={}){let Zr=Wr.includeSelf?this:this.parent;for(;Zr;){if(Zr.name===Vr)return Zr;Zr=Zr.parent}return null}toJSON(){const Vr=super.toJSON();if(Vr.name=this.name,this._children.length>0){Vr.children=[];for(const Wr of this._children)Vr.children.push(Wr.toJSON())}return Vr}_clone(Vr=!1){const Wr=Vr?Array.from(this._children).map(Zr=>Zr._clone(!0)):void 0;return new Rs(this.name,this.getAttributes(),Wr)}_appendChild(Vr){this._insertChild(this.childCount,Vr)}_insertChild(Vr,Wr){const Zr=function(tn){return typeof tn=="string"?[new Gs(tn)]:(Ei(tn)||(tn=[tn]),Array.from(tn).map(sn=>typeof sn=="string"?new Gs(sn):sn instanceof Su?new Gs(sn.data,sn.getAttributes()):sn))}(Wr);for(const tn of Zr)tn.parent!==null&&tn._remove(),tn.parent=this;this._children._insertNodes(Vr,Zr)}_removeChildren(Vr,Wr=1){const Zr=this._children._removeNodes(Vr,Wr);for(const tn of Zr)tn.parent=null;return Zr}static fromJSON(Vr){let Wr;if(Vr.children){Wr=[];for(const Zr of Vr.children)Zr.name?Wr.push(Rs.fromJSON(Zr)):Wr.push(Gs.fromJSON(Zr))}return new Rs(Vr.name,Vr.attributes,Wr)}}Rs.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="element"||en==="model:element"):en==="element"||en==="model:element"||en==="node"||en==="model:node"};class qu{constructor(Vr){if(!Vr||!Vr.boundaries&&!Vr.startPosition)throw new Cn("model-tree-walker-no-start-position",null);const Wr=Vr.direction||"forward";if(Wr!="forward"&&Wr!="backward")throw new Cn("model-tree-walker-unknown-direction",Vr,{direction:Wr});this.direction=Wr,this.boundaries=Vr.boundaries||null,Vr.startPosition?this._position=Vr.startPosition.clone():this._position=po._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!Vr.singleCharacters,this.shallow=!!Vr.shallow,this.ignoreElementEnd=!!Vr.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(Vr){let Wr,Zr,tn,sn;do tn=this.position,sn=this._visitedParent,{done:Wr,value:Zr}=this.next();while(!Wr&&Vr(Zr));Wr||(this._position=tn,this._visitedParent=sn)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const Vr=this.position,Wr=this.position.clone(),Zr=this._visitedParent;if(Zr.parent===null&&Wr.offset===Zr.maxOffset)return{done:!0,value:void 0};if(Zr===this._boundaryEndParent&&Wr.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const tn=Wf(Wr,Zr),sn=tn||Qm(Wr,Zr,tn);if(sn instanceof Rs){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(Wr))return{done:!0,value:void 0};Wr.offset++}else Wr.path.push(0),this._visitedParent=sn;return this._position=Wr,dh("elementStart",sn,Vr,Wr,1)}if(sn instanceof Gs){let un;if(this.singleCharacters)un=1;else{let xn=sn.endOffset;this._boundaryEndParent==Zr&&this.boundaries.end.offset<xn&&(xn=this.boundaries.end.offset),un=xn-Wr.offset}const fn=Wr.offset-sn.startOffset,yn=new Su(sn,fn,un);return Wr.offset+=un,this._position=Wr,dh("text",yn,Vr,Wr,un)}return Wr.path.pop(),Wr.offset++,this._position=Wr,this._visitedParent=Zr.parent,this.ignoreElementEnd?this._next():dh("elementEnd",Zr,Vr,Wr)}_previous(){const Vr=this.position,Wr=this.position.clone(),Zr=this._visitedParent;if(Zr.parent===null&&Wr.offset===0)return{done:!0,value:void 0};if(Zr==this._boundaryStartParent&&Wr.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const tn=Wr.parent,sn=Wf(Wr,tn),un=sn||Jm(Wr,tn,sn);if(un instanceof Rs)return Wr.offset--,this.shallow?(this._position=Wr,dh("elementStart",un,Vr,Wr,1)):(Wr.path.push(un.maxOffset),this._position=Wr,this._visitedParent=un,this.ignoreElementEnd?this._previous():dh("elementEnd",un,Vr,Wr));if(un instanceof Gs){let fn;if(this.singleCharacters)fn=1;else{let Dn=un.startOffset;this._boundaryStartParent==Zr&&this.boundaries.start.offset>Dn&&(Dn=this.boundaries.start.offset),fn=Wr.offset-Dn}const yn=Wr.offset-un.startOffset,xn=new Su(un,yn-fn,fn);return Wr.offset-=fn,this._position=Wr,dh("text",xn,Vr,Wr,fn)}return Wr.path.pop(),this._position=Wr,this._visitedParent=Zr.parent,dh("elementStart",Zr,Vr,Wr,1)}}function dh(en,Vr,Wr,Zr,tn){return{done:!1,value:{type:en,item:Vr,previousPosition:Wr,nextPosition:Zr,length:tn}}}class po extends $d{constructor(Vr,Wr,Zr="toNone"){if(super(),!Vr.is("element")&&!Vr.is("documentFragment"))throw new Cn("model-position-root-invalid",Vr);if(!(Wr instanceof Array)||Wr.length===0)throw new Cn("model-position-path-incorrect-format",Vr,{path:Wr});Vr.is("rootElement")?Wr=Wr.slice():(Wr=[...Vr.getPath(),...Wr],Vr=Vr.root),this.root=Vr,this.path=Wr,this.stickiness=Zr}get offset(){return this.path[this.path.length-1]}set offset(Vr){this.path[this.path.length-1]=Vr}get parent(){let Vr=this.root;for(let Wr=0;Wr<this.path.length-1;Wr++)if(Vr=Vr.getChild(Vr.offsetToIndex(this.path[Wr])),!Vr)throw new Cn("model-position-path-incorrect",this,{position:this});if(Vr.is("$text"))throw new Cn("model-position-path-incorrect",this,{position:this});return Vr}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Wf(this,this.parent)}get nodeAfter(){const Vr=this.parent;return Qm(this,Vr,Wf(this,Vr))}get nodeBefore(){const Vr=this.parent;return Jm(this,Vr,Wf(this,Vr))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(Vr){if(this.root!=Vr.root)return"different";const Wr=Aa(this.path,Vr.path);switch(Wr){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[Wr]<Vr.path[Wr]?"before":"after"}}getLastMatchingPosition(Vr,Wr={}){Wr.startPosition=this;const Zr=new qu(Wr);return Zr.skip(Vr),Zr.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const Vr=this.parent;return Vr.is("documentFragment")?[Vr]:Vr.getAncestors({includeSelf:!0})}findAncestor(Vr){const Wr=this.parent;return Wr.is("element")?Wr.findAncestor(Vr,{includeSelf:!0}):null}getCommonPath(Vr){if(this.root!=Vr.root)return[];const Wr=Aa(this.path,Vr.path),Zr=typeof Wr=="string"?Math.min(this.path.length,Vr.path.length):Wr;return this.path.slice(0,Zr)}getCommonAncestor(Vr){const Wr=this.getAncestors(),Zr=Vr.getAncestors();let tn=0;for(;Wr[tn]==Zr[tn]&&Wr[tn];)tn++;return tn===0?null:Wr[tn-1]}getShiftedBy(Vr){const Wr=this.clone(),Zr=Wr.offset+Vr;return Wr.offset=Zr<0?0:Zr,Wr}isAfter(Vr){return this.compareWith(Vr)=="after"}isBefore(Vr){return this.compareWith(Vr)=="before"}isEqual(Vr){return this.compareWith(Vr)=="same"}isTouching(Vr){if(this.root!==Vr.root)return!1;const Wr=Math.min(this.path.length,Vr.path.length);for(let Zr=0;Zr<Wr;Zr++){const tn=this.path[Zr]-Vr.path[Zr];if(tn<-1||tn>1)return!1;if(tn===1)return ev(Vr,this,Zr);if(tn===-1)return ev(this,Vr,Zr)}return this.path.length===Vr.path.length||(this.path.length>Vr.path.length?Ig(this.path,Wr):Ig(Vr.path,Wr))}hasSameParentAs(Vr){return this.root!==Vr.root?!1:Aa(this.getParentPath(),Vr.getParentPath())=="same"}getTransformedByOperation(Vr){let Wr;switch(Vr.type){case"insert":Wr=this._getTransformedByInsertOperation(Vr);break;case"move":case"remove":case"reinsert":Wr=this._getTransformedByMoveOperation(Vr);break;case"split":Wr=this._getTransformedBySplitOperation(Vr);break;case"merge":Wr=this._getTransformedByMergeOperation(Vr);break;default:Wr=po._createAt(this)}return Wr}_getTransformedByInsertOperation(Vr){return this._getTransformedByInsertion(Vr.position,Vr.howMany)}_getTransformedByMoveOperation(Vr){return this._getTransformedByMove(Vr.sourcePosition,Vr.targetPosition,Vr.howMany)}_getTransformedBySplitOperation(Vr){const Wr=Vr.movedRange;return Wr.containsPosition(this)||Wr.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(Vr.splitPosition,Vr.moveTargetPosition):Vr.graveyardPosition?this._getTransformedByMove(Vr.graveyardPosition,Vr.insertionPosition,1):this._getTransformedByInsertion(Vr.insertionPosition,1)}_getTransformedByMergeOperation(Vr){const Wr=Vr.movedRange;let Zr;return Wr.containsPosition(this)||Wr.start.isEqual(this)?(Zr=this._getCombined(Vr.sourcePosition,Vr.targetPosition),Vr.sourcePosition.isBefore(Vr.targetPosition)&&(Zr=Zr._getTransformedByDeletion(Vr.deletionPosition,1))):Zr=this.isEqual(Vr.deletionPosition)?po._createAt(Vr.deletionPosition):this._getTransformedByMove(Vr.deletionPosition,Vr.graveyardPosition,1),Zr}_getTransformedByDeletion(Vr,Wr){const Zr=po._createAt(this);if(this.root!=Vr.root)return Zr;if(Aa(Vr.getParentPath(),this.getParentPath())=="same"){if(Vr.offset<this.offset){if(Vr.offset+Wr>this.offset)return null;Zr.offset-=Wr}}else if(Aa(Vr.getParentPath(),this.getParentPath())=="prefix"){const tn=Vr.path.length-1;if(Vr.offset<=this.path[tn]){if(Vr.offset+Wr>this.path[tn])return null;Zr.path[tn]-=Wr}}return Zr}_getTransformedByInsertion(Vr,Wr){const Zr=po._createAt(this);if(this.root!=Vr.root)return Zr;if(Aa(Vr.getParentPath(),this.getParentPath())=="same")(Vr.offset<this.offset||Vr.offset==this.offset&&this.stickiness!="toPrevious")&&(Zr.offset+=Wr);else if(Aa(Vr.getParentPath(),this.getParentPath())=="prefix"){const tn=Vr.path.length-1;Vr.offset<=this.path[tn]&&(Zr.path[tn]+=Wr)}return Zr}_getTransformedByMove(Vr,Wr,Zr){if(Wr=Wr._getTransformedByDeletion(Vr,Zr),Vr.isEqual(Wr))return po._createAt(this);const tn=this._getTransformedByDeletion(Vr,Zr);return tn===null||Vr.isEqual(this)&&this.stickiness=="toNext"||Vr.getShiftedBy(Zr).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(Vr,Wr):tn._getTransformedByInsertion(Wr,Zr)}_getCombined(Vr,Wr){const Zr=Vr.path.length-1,tn=po._createAt(Wr);return tn.stickiness=this.stickiness,tn.offset=tn.offset+this.path[Zr]-Vr.offset,tn.path=[...tn.path,...this.path.slice(Zr+1)],tn}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(Vr,Wr,Zr="toNone"){if(Vr instanceof po)return new po(Vr.root,Vr.path,Vr.stickiness);{const tn=Vr;if(Wr=="end")Wr=tn.maxOffset;else{if(Wr=="before")return this._createBefore(tn,Zr);if(Wr=="after")return this._createAfter(tn,Zr);if(Wr!==0&&!Wr)throw new Cn("model-createpositionat-offset-required",[this,Vr])}if(!tn.is("element")&&!tn.is("documentFragment"))throw new Cn("model-position-parent-incorrect",[this,Vr]);const sn=tn.getPath();return sn.push(Wr),new this(tn.root,sn,Zr)}}static _createAfter(Vr,Wr){if(!Vr.parent)throw new Cn("model-position-after-root",[this,Vr],{root:Vr});return this._createAt(Vr.parent,Vr.endOffset,Wr)}static _createBefore(Vr,Wr){if(!Vr.parent)throw new Cn("model-position-before-root",Vr,{root:Vr});return this._createAt(Vr.parent,Vr.startOffset,Wr)}static fromJSON(Vr,Wr){if(Vr.root==="$graveyard"){const Zr=new po(Wr.graveyard,Vr.path);return Zr.stickiness=Vr.stickiness,Zr}if(!Wr.getRoot(Vr.root))throw new Cn("model-position-fromjson-no-root",Wr,{rootName:Vr.root});return new po(Wr.getRoot(Vr.root),Vr.path,Vr.stickiness)}}function Wf(en,Vr){const Wr=Vr.getChild(Vr.offsetToIndex(en.offset));return Wr&&Wr.is("$text")&&Wr.startOffset<en.offset?Wr:null}function Qm(en,Vr,Wr){return Wr!==null?null:Vr.getChild(Vr.offsetToIndex(en.offset))}function Jm(en,Vr,Wr){return Wr!==null?null:Vr.getChild(Vr.offsetToIndex(en.offset)-1)}function ev(en,Vr,Wr){return Wr+1!==en.path.length&&!!Ig(Vr.path,Wr+1)&&!!function(Zr,tn){let sn=Zr.parent,un=Zr.path.length-1,fn=0;for(;un>=tn;){if(Zr.path[un]+fn!==sn.maxOffset)return!1;fn=1,un--,sn=sn.parent}return!0}(en,Wr+1)}function Ig(en,Vr){for(;Vr<en.length;){if(en[Vr]!==0)return!1;Vr++}return!0}po.prototype.is=function(en){return en==="position"||en==="model:position"};class Yi extends $d{constructor(Vr,Wr){super(),this.start=po._createAt(Vr),this.end=Wr?po._createAt(Wr):po._createAt(Vr),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new qu({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Aa(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(Vr){return Vr.isAfter(this.start)&&Vr.isBefore(this.end)}containsRange(Vr,Wr=!1){Vr.isCollapsed&&(Wr=!1);const Zr=this.containsPosition(Vr.start)||Wr&&this.start.isEqual(Vr.start),tn=this.containsPosition(Vr.end)||Wr&&this.end.isEqual(Vr.end);return Zr&&tn}containsItem(Vr){const Wr=po._createBefore(Vr);return this.containsPosition(Wr)||this.start.isEqual(Wr)}isEqual(Vr){return this.start.isEqual(Vr.start)&&this.end.isEqual(Vr.end)}isIntersecting(Vr){return this.start.isBefore(Vr.end)&&this.end.isAfter(Vr.start)}getDifference(Vr){const Wr=[];return this.isIntersecting(Vr)?(this.containsPosition(Vr.start)&&Wr.push(new Yi(this.start,Vr.start)),this.containsPosition(Vr.end)&&Wr.push(new Yi(Vr.end,this.end))):Wr.push(new Yi(this.start,this.end)),Wr}getIntersection(Vr){if(this.isIntersecting(Vr)){let Wr=this.start,Zr=this.end;return this.containsPosition(Vr.start)&&(Wr=Vr.start),this.containsPosition(Vr.end)&&(Zr=Vr.end),new Yi(Wr,Zr)}return null}getJoined(Vr,Wr=!1){let Zr=this.isIntersecting(Vr);if(Zr||(Zr=this.start.isBefore(Vr.start)?Wr?this.end.isTouching(Vr.start):this.end.isEqual(Vr.start):Wr?Vr.end.isTouching(this.start):Vr.end.isEqual(this.start)),!Zr)return null;let tn=this.start,sn=this.end;return Vr.start.isBefore(tn)&&(tn=Vr.start),Vr.end.isAfter(sn)&&(sn=Vr.end),new Yi(tn,sn)}getMinimalFlatRanges(){const Vr=[],Wr=this.start.getCommonPath(this.end).length,Zr=po._createAt(this.start);let tn=Zr.parent;for(;Zr.path.length>Wr+1;){const sn=tn.maxOffset-Zr.offset;sn!==0&&Vr.push(new Yi(Zr,Zr.getShiftedBy(sn))),Zr.path=Zr.path.slice(0,-1),Zr.offset++,tn=tn.parent}for(;Zr.path.length<=this.end.path.length;){const sn=this.end.path[Zr.path.length-1],un=sn-Zr.offset;un!==0&&Vr.push(new Yi(Zr,Zr.getShiftedBy(un))),Zr.offset=sn,Zr.path.push(0)}return Vr}getWalker(Vr={}){return Vr.boundaries=this,new qu(Vr)}*getItems(Vr={}){Vr.boundaries=this,Vr.ignoreElementEnd=!0;const Wr=new qu(Vr);for(const Zr of Wr)yield Zr.item}*getPositions(Vr={}){Vr.boundaries=this;const Wr=new qu(Vr);yield Wr.position;for(const Zr of Wr)yield Zr.nextPosition}getTransformedByOperation(Vr){switch(Vr.type){case"insert":return this._getTransformedByInsertOperation(Vr);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(Vr);case"split":return[this._getTransformedBySplitOperation(Vr)];case"merge":return[this._getTransformedByMergeOperation(Vr)]}return[new Yi(this.start,this.end)]}getTransformedByOperations(Vr){const Wr=[new Yi(this.start,this.end)];for(const Zr of Vr)for(let tn=0;tn<Wr.length;tn++){const sn=Wr[tn].getTransformedByOperation(Zr);Wr.splice(tn,1,...sn),tn+=sn.length-1}for(let Zr=0;Zr<Wr.length;Zr++){const tn=Wr[Zr];for(let sn=Zr+1;sn<Wr.length;sn++){const un=Wr[sn];(tn.containsRange(un)||un.containsRange(tn)||tn.isEqual(un))&&Wr.splice(sn,1)}}return Wr}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const Vr=this.start.nodeAfter,Wr=this.end.nodeBefore;return Vr&&Vr.is("element")&&Vr===Wr?Vr:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(Vr,Wr=!1){return this._getTransformedByInsertion(Vr.position,Vr.howMany,Wr)}_getTransformedByMoveOperation(Vr,Wr=!1){const Zr=Vr.sourcePosition,tn=Vr.howMany,sn=Vr.targetPosition;return this._getTransformedByMove(Zr,sn,tn,Wr)}_getTransformedBySplitOperation(Vr){const Wr=this.start._getTransformedBySplitOperation(Vr);let Zr=this.end._getTransformedBySplitOperation(Vr);return this.end.isEqual(Vr.insertionPosition)&&(Zr=this.end.getShiftedBy(1)),Wr.root!=Zr.root&&(Zr=this.end.getShiftedBy(-1)),new Yi(Wr,Zr)}_getTransformedByMergeOperation(Vr){if(this.start.isEqual(Vr.targetPosition)&&this.end.isEqual(Vr.deletionPosition))return new Yi(this.start);let Wr=this.start._getTransformedByMergeOperation(Vr),Zr=this.end._getTransformedByMergeOperation(Vr);return Wr.root!=Zr.root&&(Zr=this.end.getShiftedBy(-1)),Wr.isAfter(Zr)?(Vr.sourcePosition.isBefore(Vr.targetPosition)?(Wr=po._createAt(Zr),Wr.offset=0):(Vr.deletionPosition.isEqual(Wr)||(Zr=Vr.deletionPosition),Wr=Vr.targetPosition),new Yi(Wr,Zr)):new Yi(Wr,Zr)}_getTransformedByInsertion(Vr,Wr,Zr=!1){if(Zr&&this.containsPosition(Vr))return[new Yi(this.start,Vr),new Yi(Vr.getShiftedBy(Wr),this.end._getTransformedByInsertion(Vr,Wr))];{const tn=new Yi(this.start,this.end);return tn.start=tn.start._getTransformedByInsertion(Vr,Wr),tn.end=tn.end._getTransformedByInsertion(Vr,Wr),[tn]}}_getTransformedByMove(Vr,Wr,Zr,tn=!1){if(this.isCollapsed){const Mn=this.start._getTransformedByMove(Vr,Wr,Zr);return[new Yi(Mn)]}const sn=Yi._createFromPositionAndShift(Vr,Zr),un=Wr._getTransformedByDeletion(Vr,Zr);if(this.containsPosition(Wr)&&!tn&&(sn.containsPosition(this.start)||sn.containsPosition(this.end))){const Mn=this.start._getTransformedByMove(Vr,Wr,Zr),Rn=this.end._getTransformedByMove(Vr,Wr,Zr);return[new Yi(Mn,Rn)]}let fn;const yn=this.getDifference(sn);let xn=null;const Dn=this.getIntersection(sn);if(yn.length==1?xn=new Yi(yn[0].start._getTransformedByDeletion(Vr,Zr),yn[0].end._getTransformedByDeletion(Vr,Zr)):yn.length==2&&(xn=new Yi(this.start,this.end._getTransformedByDeletion(Vr,Zr))),fn=xn?xn._getTransformedByInsertion(un,Zr,Dn!==null||tn):[],Dn){const Mn=new Yi(Dn.start._getCombined(sn.start,un),Dn.end._getCombined(sn.start,un));fn.length==2?fn.splice(1,0,Mn):fn.push(Mn)}return fn}_getTransformedByDeletion(Vr,Wr){let Zr=this.start._getTransformedByDeletion(Vr,Wr),tn=this.end._getTransformedByDeletion(Vr,Wr);return Zr==null&&tn==null?null:(Zr==null&&(Zr=Vr),tn==null&&(tn=Vr),new Yi(Zr,tn))}static _createFromPositionAndShift(Vr,Wr){const Zr=Vr,tn=Vr.getShiftedBy(Wr);return Wr>0?new this(Zr,tn):new this(tn,Zr)}static _createIn(Vr){return new this(po._createAt(Vr,0),po._createAt(Vr,Vr.maxOffset))}static _createOn(Vr){return this._createFromPositionAndShift(po._createBefore(Vr),Vr.offsetSize)}static _createFromRanges(Vr){if(Vr.length===0)throw new Cn("range-create-from-ranges-empty-array",null);if(Vr.length==1)return Vr[0].clone();const Wr=Vr[0];Vr.sort((sn,un)=>sn.start.isAfter(un.start)?1:-1);const Zr=Vr.indexOf(Wr),tn=new this(Wr.start,Wr.end);if(Zr>0)for(let sn=Zr-1;Vr[sn].end.isEqual(tn.start);sn++)tn.start=po._createAt(Vr[sn].start);for(let sn=Zr+1;sn<Vr.length&&Vr[sn].start.isEqual(tn.end);sn++)tn.end=po._createAt(Vr[sn].end);return tn}static fromJSON(Vr,Wr){return new this(po.fromJSON(Vr.start,Wr),po.fromJSON(Vr.end,Wr))}}Yi.prototype.is=function(en){return en==="range"||en==="model:range"};class tv extends Ci(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(Vr,Wr)=>{if(Wr.viewPosition)return;const Zr=this._modelToViewMapping.get(Wr.modelPosition.parent);if(!Zr)throw new Cn("mapping-model-position-view-parent-not-found",this,{modelPosition:Wr.modelPosition});Wr.viewPosition=this.findPositionIn(Zr,Wr.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(Vr,Wr)=>{if(Wr.modelPosition)return;const Zr=this.findMappedViewAncestor(Wr.viewPosition),tn=this._viewToModelMapping.get(Zr),sn=this._toModelOffset(Wr.viewPosition.parent,Wr.viewPosition.offset,Zr);Wr.modelPosition=po._createAt(tn,sn)},{priority:"low"})}bindElements(Vr,Wr){this._modelToViewMapping.set(Vr,Wr),this._viewToModelMapping.set(Wr,Vr)}unbindViewElement(Vr,Wr={}){const Zr=this.toModelElement(Vr);if(this._elementToMarkerNames.has(Vr))for(const tn of this._elementToMarkerNames.get(Vr))this._unboundMarkerNames.add(tn);Wr.defer?this._deferredBindingRemovals.set(Vr,Vr.root):(this._viewToModelMapping.delete(Vr),this._modelToViewMapping.get(Zr)==Vr&&this._modelToViewMapping.delete(Zr))}unbindModelElement(Vr){const Wr=this.toViewElement(Vr);this._modelToViewMapping.delete(Vr),this._viewToModelMapping.get(Wr)==Vr&&this._viewToModelMapping.delete(Wr)}bindElementToMarker(Vr,Wr){const Zr=this._markerNameToElements.get(Wr)||new Set;Zr.add(Vr);const tn=this._elementToMarkerNames.get(Vr)||new Set;tn.add(Wr),this._markerNameToElements.set(Wr,Zr),this._elementToMarkerNames.set(Vr,tn)}unbindElementFromMarkerName(Vr,Wr){const Zr=this._markerNameToElements.get(Wr);Zr&&(Zr.delete(Vr),Zr.size==0&&this._markerNameToElements.delete(Wr));const tn=this._elementToMarkerNames.get(Vr);tn&&(tn.delete(Wr),tn.size==0&&this._elementToMarkerNames.delete(Vr))}flushUnboundMarkerNames(){const Vr=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),Vr}flushDeferredBindings(){for(const[Vr,Wr]of this._deferredBindingRemovals)Vr.root==Wr&&this.unbindViewElement(Vr);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(Vr){return this._viewToModelMapping.get(Vr)}toViewElement(Vr){return this._modelToViewMapping.get(Vr)}toModelRange(Vr){return new Yi(this.toModelPosition(Vr.start),this.toModelPosition(Vr.end))}toViewRange(Vr){return new va(this.toViewPosition(Vr.start),this.toViewPosition(Vr.end))}toModelPosition(Vr){const Wr={viewPosition:Vr,mapper:this};return this.fire("viewToModelPosition",Wr),Wr.modelPosition}toViewPosition(Vr,Wr={}){const Zr={modelPosition:Vr,mapper:this,isPhantom:Wr.isPhantom};return this.fire("modelToViewPosition",Zr),Zr.viewPosition}markerNameToElements(Vr){const Wr=this._markerNameToElements.get(Vr);if(!Wr)return null;const Zr=new Set;for(const tn of Wr)if(tn.is("attributeElement"))for(const sn of tn.getElementsWithSameId())Zr.add(sn);else Zr.add(tn);return Zr}registerViewToModelLength(Vr,Wr){this._viewToModelLengthCallbacks.set(Vr,Wr)}findMappedViewAncestor(Vr){let Wr=Vr.parent;for(;!this._viewToModelMapping.has(Wr);)Wr=Wr.parent;return Wr}_toModelOffset(Vr,Wr,Zr){if(Zr!=Vr)return this._toModelOffset(Vr.parent,Vr.index,Zr)+this._toModelOffset(Vr,Wr,Vr);if(Vr.is("$text"))return Wr;let tn=0;for(let sn=0;sn<Wr;sn++)tn+=this.getModelLength(Vr.getChild(sn));return tn}getModelLength(Vr){if(this._viewToModelLengthCallbacks.get(Vr.name))return this._viewToModelLengthCallbacks.get(Vr.name)(Vr);if(this._viewToModelMapping.has(Vr))return 1;if(Vr.is("$text"))return Vr.data.length;if(Vr.is("uiElement"))return 0;{let Wr=0;for(const Zr of Vr.getChildren())Wr+=this.getModelLength(Zr);return Wr}}findPositionIn(Vr,Wr){let Zr,tn=0,sn=0,un=0;if(Vr.is("$text"))return new Eo(Vr,Wr);for(;sn<Wr;)Zr=Vr.getChild(un),tn=this.getModelLength(Zr),sn+=tn,un++;return sn==Wr?this._moveViewPositionToTextNode(new Eo(Vr,un)):this.findPositionIn(Zr,Wr-(sn-tn))}_moveViewPositionToTextNode(Vr){const Wr=Vr.nodeBefore,Zr=Vr.nodeAfter;return Wr instanceof Ls?new Eo(Wr,Wr.data.length):Zr instanceof Ls?new Eo(Zr,0):Vr}}class p1{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(Vr,Wr){Wr=Rp(Wr),Vr instanceof Su&&(Vr=this._getSymbolForTextProxy(Vr)),this._consumable.has(Vr)||this._consumable.set(Vr,new Map),this._consumable.get(Vr).set(Wr,!0)}consume(Vr,Wr){return Wr=Rp(Wr),Vr instanceof Su&&(Vr=this._getSymbolForTextProxy(Vr)),!!this.test(Vr,Wr)&&(this._consumable.get(Vr).set(Wr,!1),!0)}test(Vr,Wr){Wr=Rp(Wr),Vr instanceof Su&&(Vr=this._getSymbolForTextProxy(Vr));const Zr=this._consumable.get(Vr);if(Zr===void 0)return null;const tn=Zr.get(Wr);return tn===void 0?null:tn}revert(Vr,Wr){Wr=Rp(Wr),Vr instanceof Su&&(Vr=this._getSymbolForTextProxy(Vr));const Zr=this.test(Vr,Wr);return Zr===!1?(this._consumable.get(Vr).set(Wr,!0),!0):Zr!==!0&&null}verifyAllConsumed(Vr){const Wr=[];for(const[Zr,tn]of this._consumable)for(const[sn,un]of tn){const fn=sn.split(":")[0];un&&Vr==fn&&Wr.push({event:sn,item:Zr.name||Zr.description})}if(Wr.length)throw new Cn("conversion-model-consumable-not-consumed",null,{items:Wr})}_getSymbolForTextProxy(Vr){let Wr=null;const Zr=this._textProxyRegistry.get(Vr.startOffset);if(Zr){const tn=Zr.get(Vr.endOffset);tn&&(Wr=tn.get(Vr.parent))}return Wr||(Wr=this._addSymbolForTextProxy(Vr)),Wr}_addSymbolForTextProxy(Vr){const Wr=Vr.startOffset,Zr=Vr.endOffset,tn=Vr.parent,sn=Symbol("$textProxy:"+Vr.data);let un,fn;return un=this._textProxyRegistry.get(Wr),un||(un=new Map,this._textProxyRegistry.set(Wr,un)),fn=un.get(Zr),fn||(fn=new Map,un.set(Zr,fn)),fn.set(tn,sn),sn}}function Rp(en){const Vr=en.split(":");return Vr[0]=="insert"?Vr[0]:Vr[0]=="addMarker"||Vr[0]=="removeMarker"?en:Vr.length>1?Vr[0]+":"+Vr[1]:Vr[0]}var g1=Object.defineProperty,m1=Object.defineProperties,y1=Object.getOwnPropertyDescriptors,rv=Object.getOwnPropertySymbols,b1=Object.prototype.hasOwnProperty,_1=Object.prototype.propertyIsEnumerable,nv=(en,Vr,Wr)=>Vr in en?g1(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr,Lg=(en,Vr)=>{for(var Wr in Vr||(Vr={}))b1.call(Vr,Wr)&&nv(en,Wr,Vr[Wr]);if(rv)for(var Wr of rv(Vr))_1.call(Vr,Wr)&&nv(en,Wr,Vr[Wr]);return en},iv=(en,Vr)=>m1(en,y1(Vr));class ov extends Ci(){constructor(Vr){super(),this._conversionApi=Lg({dispatcher:this},Vr),this._firedEventsMap=new WeakMap}convertChanges(Vr,Wr,Zr){const tn=this._createConversionApi(Zr,Vr.getRefreshedItems());for(const un of Vr.getMarkersToRemove())this._convertMarkerRemove(un.name,un.range,tn);const sn=this._reduceChanges(Vr.getChanges());for(const un of sn)un.type==="insert"?this._convertInsert(Yi._createFromPositionAndShift(un.position,un.length),tn):un.type==="reinsert"?this._convertReinsert(Yi._createFromPositionAndShift(un.position,un.length),tn):un.type==="remove"?this._convertRemove(un.position,un.length,un.name,tn):this._convertAttribute(un.range,un.attributeKey,un.attributeOldValue,un.attributeNewValue,tn);for(const un of tn.mapper.flushUnboundMarkerNames()){const fn=Wr.get(un).getRange();this._convertMarkerRemove(un,fn,tn),this._convertMarkerAdd(un,fn,tn)}for(const un of Vr.getMarkersToAdd())this._convertMarkerAdd(un.name,un.range,tn);tn.mapper.flushDeferredBindings(),tn.consumable.verifyAllConsumed("insert")}convert(Vr,Wr,Zr,tn={}){const sn=this._createConversionApi(Zr,void 0,tn);this._convertInsert(Vr,sn);for(const[un,fn]of Wr)this._convertMarkerAdd(un,fn,sn);sn.consumable.verifyAllConsumed("insert")}convertSelection(Vr,Wr,Zr){const tn=Array.from(Wr.getMarkersAtPosition(Vr.getFirstPosition())),sn=this._createConversionApi(Zr);if(this._addConsumablesForSelection(sn.consumable,Vr,tn),this.fire("selection",{selection:Vr},sn),Vr.isCollapsed){for(const un of tn){const fn=un.getRange();if(!w1(Vr.getFirstPosition(),un,sn.mapper))continue;const yn={item:Vr,markerName:un.name,markerRange:fn};sn.consumable.test(Vr,"addMarker:"+un.name)&&this.fire(`addMarker:${un.name}`,yn,sn)}for(const un of Vr.getAttributeKeys()){const fn={item:Vr,range:Vr.getFirstRange(),attributeKey:un,attributeOldValue:null,attributeNewValue:Vr.getAttribute(un)};sn.consumable.test(Vr,"attribute:"+fn.attributeKey)&&this.fire(`attribute:${fn.attributeKey}:$text`,fn,sn)}}}_convertInsert(Vr,Wr,Zr={}){Zr.doNotAddConsumables||this._addConsumablesForInsert(Wr.consumable,Array.from(Vr));for(const tn of Array.from(Vr.getWalker({shallow:!0})).map(av))this._testAndFire("insert",tn,Wr)}_convertRemove(Vr,Wr,Zr,tn){this.fire(`remove:${Zr}`,{position:Vr,length:Wr},tn)}_convertAttribute(Vr,Wr,Zr,tn,sn){this._addConsumablesForRange(sn.consumable,Vr,`attribute:${Wr}`);for(const un of Vr){const fn={item:un.item,range:Yi._createFromPositionAndShift(un.previousPosition,un.length),attributeKey:Wr,attributeOldValue:Zr,attributeNewValue:tn};this._testAndFire(`attribute:${Wr}`,fn,sn)}}_convertReinsert(Vr,Wr){const Zr=Array.from(Vr.getWalker({shallow:!0}));this._addConsumablesForInsert(Wr.consumable,Zr);for(const tn of Zr.map(av))this._testAndFire("insert",iv(Lg({},tn),{reconversion:!0}),Wr)}_convertMarkerAdd(Vr,Wr,Zr){if(Wr.root.rootName=="$graveyard")return;const tn=`addMarker:${Vr}`;if(Zr.consumable.add(Wr,tn),this.fire(tn,{markerName:Vr,markerRange:Wr},Zr),Zr.consumable.consume(Wr,tn)){this._addConsumablesForRange(Zr.consumable,Wr,tn);for(const sn of Wr.getItems()){if(!Zr.consumable.test(sn,tn))continue;const un={item:sn,range:Yi._createOn(sn),markerName:Vr,markerRange:Wr};this.fire(tn,un,Zr)}}}_convertMarkerRemove(Vr,Wr,Zr){Wr.root.rootName!="$graveyard"&&this.fire(`removeMarker:${Vr}`,{markerName:Vr,markerRange:Wr},Zr)}_reduceChanges(Vr){const Wr={changes:Vr};return this.fire("reduceChanges",Wr),Wr.changes}_addConsumablesForInsert(Vr,Wr){for(const Zr of Wr){const tn=Zr.item;if(Vr.test(tn,"insert")===null){Vr.add(tn,"insert");for(const sn of tn.getAttributeKeys())Vr.add(tn,"attribute:"+sn)}}return Vr}_addConsumablesForRange(Vr,Wr,Zr){for(const tn of Wr.getItems())Vr.add(tn,Zr);return Vr}_addConsumablesForSelection(Vr,Wr,Zr){Vr.add(Wr,"selection");for(const tn of Zr)Vr.add(Wr,"addMarker:"+tn.name);for(const tn of Wr.getAttributeKeys())Vr.add(Wr,"attribute:"+tn);return Vr}_testAndFire(Vr,Wr,Zr){const tn=function(yn,xn){const Dn=xn.item.is("element")?xn.item.name:"$text";return`${yn}:${Dn}`}(Vr,Wr),sn=Wr.item.is("$textProxy")?Zr.consumable._getSymbolForTextProxy(Wr.item):Wr.item,un=this._firedEventsMap.get(Zr),fn=un.get(sn);if(fn){if(fn.has(tn))return;fn.add(tn)}else un.set(sn,new Set([tn]));this.fire(tn,Wr,Zr)}_testAndFireAddAttributes(Vr,Wr){const Zr={item:Vr,range:Yi._createOn(Vr)};for(const tn of Zr.item.getAttributeKeys())Zr.attributeKey=tn,Zr.attributeOldValue=null,Zr.attributeNewValue=Zr.item.getAttribute(tn),this._testAndFire(`attribute:${tn}`,Zr,Wr)}_createConversionApi(Vr,Wr=new Set,Zr={}){const tn=iv(Lg({},this._conversionApi),{consumable:new p1,writer:Vr,options:Zr,convertItem:sn=>this._convertInsert(Yi._createOn(sn),tn),convertChildren:sn=>this._convertInsert(Yi._createIn(sn),tn,{doNotAddConsumables:!0}),convertAttributes:sn=>this._testAndFireAddAttributes(sn,tn),canReuseView:sn=>!Wr.has(tn.mapper.toModelElement(sn))});return this._firedEventsMap.set(tn,new Map),tn}}function w1(en,Vr,Wr){const Zr=Vr.getRange(),tn=Array.from(en.getAncestors());return tn.shift(),tn.reverse(),!tn.some(sn=>{if(Zr.containsItem(sn))return!!Wr.toViewElement(sn).getCustomProperty("addHighlight")})}function av(en){return{item:en.item,range:Yi._createFromPositionAndShift(en.previousPosition,en.length)}}class Wc extends Ci($d){constructor(...Vr){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],Vr.length&&this.setTo(...Vr)}get anchor(){if(this._ranges.length>0){const Vr=this._ranges[this._ranges.length-1];return this._lastRangeBackward?Vr.end:Vr.start}return null}get focus(){if(this._ranges.length>0){const Vr=this._ranges[this._ranges.length-1];return this._lastRangeBackward?Vr.start:Vr.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(Vr){if(this.rangeCount!=Vr.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(Vr.anchor)||!this.focus.isEqual(Vr.focus))return!1;for(const Wr of this._ranges){let Zr=!1;for(const tn of Vr._ranges)if(Wr.isEqual(tn)){Zr=!0;break}if(!Zr)return!1}return!0}*getRanges(){for(const Vr of this._ranges)yield new Yi(Vr.start,Vr.end)}getFirstRange(){let Vr=null;for(const Wr of this._ranges)Vr&&!Wr.start.isBefore(Vr.start)||(Vr=Wr);return Vr?new Yi(Vr.start,Vr.end):null}getLastRange(){let Vr=null;for(const Wr of this._ranges)Vr&&!Wr.end.isAfter(Vr.end)||(Vr=Wr);return Vr?new Yi(Vr.start,Vr.end):null}getFirstPosition(){const Vr=this.getFirstRange();return Vr?Vr.start.clone():null}getLastPosition(){const Vr=this.getLastRange();return Vr?Vr.end.clone():null}setTo(...Vr){let[Wr,Zr,tn]=Vr;if(typeof Zr=="object"&&(tn=Zr,Zr=void 0),Wr===null)this._setRanges([]);else if(Wr instanceof Wc)this._setRanges(Wr.getRanges(),Wr.isBackward);else if(Wr&&typeof Wr.getRanges=="function")this._setRanges(Wr.getRanges(),Wr.isBackward);else if(Wr instanceof Yi)this._setRanges([Wr],!!tn&&!!tn.backward);else if(Wr instanceof po)this._setRanges([new Yi(Wr)]);else if(Wr instanceof uh){const sn=!!tn&&!!tn.backward;let un;if(Zr=="in")un=Yi._createIn(Wr);else if(Zr=="on")un=Yi._createOn(Wr);else{if(Zr===void 0)throw new Cn("model-selection-setto-required-second-parameter",[this,Wr]);un=new Yi(po._createAt(Wr,Zr))}this._setRanges([un],sn)}else{if(!Ei(Wr))throw new Cn("model-selection-setto-not-selectable",[this,Wr]);this._setRanges(Wr,tn&&!!tn.backward)}}_setRanges(Vr,Wr=!1){const Zr=Array.from(Vr),tn=Zr.some(sn=>{if(!(sn instanceof Yi))throw new Cn("model-selection-set-ranges-not-range",[this,Vr]);return this._ranges.every(un=>!un.isEqual(sn))});(Zr.length!==this._ranges.length||tn)&&(this._replaceAllRanges(Zr),this._lastRangeBackward=!!Wr,this.fire("change:range",{directChange:!0}))}setFocus(Vr,Wr){if(this.anchor===null)throw new Cn("model-selection-setfocus-no-ranges",[this,Vr]);const Zr=po._createAt(Vr,Wr);if(Zr.compareWith(this.focus)=="same")return;const tn=this.anchor;this._ranges.length&&this._popRange(),Zr.compareWith(tn)=="before"?(this._pushRange(new Yi(Zr,tn)),this._lastRangeBackward=!0):(this._pushRange(new Yi(tn,Zr)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(Vr){return this._attrs.get(Vr)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(Vr){return this._attrs.has(Vr)}removeAttribute(Vr){this.hasAttribute(Vr)&&(this._attrs.delete(Vr),this.fire("change:attribute",{attributeKeys:[Vr],directChange:!0}))}setAttribute(Vr,Wr){this.getAttribute(Vr)!==Wr&&(this._attrs.set(Vr,Wr),this.fire("change:attribute",{attributeKeys:[Vr],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const Vr=new WeakSet;for(const Wr of this.getRanges()){const Zr=lv(Wr.start,Vr);A1(Zr,Wr)&&(yield Zr);for(const sn of Wr.getWalker()){const un=sn.item;sn.type=="elementEnd"&&k1(un,Vr,Wr)&&(yield un)}const tn=lv(Wr.end,Vr);C1(tn,Wr)&&(yield tn)}}containsEntireContent(Vr=this.anchor.root){const Wr=po._createAt(Vr,0),Zr=po._createAt(Vr,"end");return Wr.isTouching(this.getFirstPosition())&&Zr.isTouching(this.getLastPosition())}_pushRange(Vr){this._checkRange(Vr),this._ranges.push(new Yi(Vr.start,Vr.end))}_checkRange(Vr){for(let Wr=0;Wr<this._ranges.length;Wr++)if(Vr.isIntersecting(this._ranges[Wr]))throw new Cn("model-selection-range-intersects",[this,Vr],{addedRange:Vr,intersectingRange:this._ranges[Wr]})}_replaceAllRanges(Vr){this._removeAllRanges();for(const Wr of Vr)this._pushRange(Wr)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function sv(en,Vr){return!Vr.has(en)&&(Vr.add(en),en.root.document.model.schema.isBlock(en)&&!!en.parent)}function k1(en,Vr,Wr){return sv(en,Vr)&&Pg(en,Wr)}function lv(en,Vr){const Wr=en.parent.root.document.model.schema,Zr=en.parent.getAncestors({parentFirst:!0,includeSelf:!0});let tn=!1;const sn=Zr.find(un=>!tn&&(tn=Wr.isLimit(un),!tn&&sv(un,Vr)));return Zr.forEach(un=>Vr.add(un)),sn}function Pg(en,Vr){const Wr=function(Zr){const tn=Zr.root.document.model.schema;let sn=Zr.parent;for(;sn;){if(tn.isBlock(sn))return sn;sn=sn.parent}}(en);return Wr?!Vr.containsRange(Yi._createOn(Wr),!0):!0}function A1(en,Vr){return!!en&&(!(!Vr.isCollapsed&&!en.isEmpty)||!Vr.start.isTouching(po._createAt(en,en.maxOffset))&&Pg(en,Vr))}function C1(en,Vr){return!!en&&(!(!Vr.isCollapsed&&!en.isEmpty)||!Vr.end.isTouching(po._createAt(en,0))&&Pg(en,Vr))}Wc.prototype.is=function(en){return en==="selection"||en==="model:selection"};class Du extends Ci(Yi){constructor(Vr,Wr){super(Vr,Wr),x1.call(this)}detach(){this.stopListening()}toRange(){return new Yi(this.start,this.end)}static fromRange(Vr){return new Du(Vr.start,Vr.end)}}function x1(){this.listenTo(this.root.document.model,"applyOperation",(en,Vr)=>{const Wr=Vr[0];Wr.isDocumentOperation&&S1.call(this,Wr)},{priority:"low"})}function S1(en){const Vr=this.getTransformedByOperation(en),Wr=Yi._createFromRanges(Vr),Zr=!Wr.isEqual(this),tn=function(un,fn){switch(fn.type){case"insert":return un.containsPosition(fn.position);case"move":case"remove":case"reinsert":case"merge":return un.containsPosition(fn.sourcePosition)||un.start.isEqual(fn.sourcePosition)||un.containsPosition(fn.targetPosition);case"split":return un.containsPosition(fn.splitPosition)||un.containsPosition(fn.insertionPosition)}return!1}(this,en);let sn=null;if(Zr){Wr.root.rootName=="$graveyard"&&(sn=en.type=="remove"?en.sourcePosition:en.deletionPosition);const un=this.toRange();this.start=Wr.start,this.end=Wr.end,this.fire("change:range",un,{deletionPosition:sn})}else tn&&this.fire("change:content",this.toRange(),{deletionPosition:sn})}Du.prototype.is=function(en){return en==="liveRange"||en==="model:liveRange"||en=="range"||en==="model:range"};const $p="selection:";class Eu extends Ci($d){constructor(Vr){super(),this._selection=new D1(Vr),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(Vr){return this._selection.containsEntireContent(Vr)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(Vr){return this._selection.getAttribute(Vr)}hasAttribute(Vr){return this._selection.hasAttribute(Vr)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(Vr){this._selection.observeMarkers(Vr)}_setFocus(Vr,Wr){this._selection.setFocus(Vr,Wr)}_setTo(...Vr){this._selection.setTo(...Vr)}_setAttribute(Vr,Wr){this._selection.setAttribute(Vr,Wr)}_removeAttribute(Vr){this._selection.removeAttribute(Vr)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(Vr){this._selection.restoreGravity(Vr)}static _getStoreAttributeKey(Vr){return $p+Vr}static _isStoreAttributeKey(Vr){return Vr.startsWith($p)}}Eu.prototype.is=function(en){return en==="selection"||en=="model:selection"||en=="documentSelection"||en=="model:documentSelection"};class D1 extends Wc{constructor(Vr){super(),this.markers=new Fc({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=Vr.model,this._document=Vr,this.listenTo(this._model,"applyOperation",(Wr,Zr)=>{const tn=Zr[0];tn.isDocumentOperation&&tn.type!="marker"&&tn.type!="rename"&&tn.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(Wr,Zr,tn,sn)=>{this._updateMarker(Zr,sn)}),this.listenTo(this._document,"change",(Wr,Zr)=>{(function(tn,sn){const un=tn.document.differ;for(const fn of un.getChanges()){if(fn.type!="insert")continue;const yn=fn.position.parent;fn.length===yn.maxOffset&&tn.enqueueChange(sn,xn=>{const Dn=Array.from(yn.getAttributeKeys()).filter(Mn=>Mn.startsWith($p));for(const Mn of Dn)xn.removeAttribute(Mn,yn)})}})(this._model,Zr)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let Vr=0;Vr<this._ranges.length;Vr++)this._ranges[Vr].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...Vr){super.setTo(...Vr),this._updateAttributes(!0),this.updateMarkers()}setFocus(Vr,Wr){super.setFocus(Vr,Wr),this._updateAttributes(!0),this.updateMarkers()}setAttribute(Vr,Wr){if(this._setAttribute(Vr,Wr)){const Zr=[Vr];this.fire("change:attribute",{attributeKeys:Zr,directChange:!0})}}removeAttribute(Vr){if(this._removeAttribute(Vr)){const Wr=[Vr];this.fire("change:attribute",{attributeKeys:Wr,directChange:!0})}}overrideGravity(){const Vr=kn();return this._overriddenGravityRegister.add(Vr),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),Vr}restoreGravity(Vr){if(!this._overriddenGravityRegister.has(Vr))throw new Cn("document-selection-gravity-wrong-restore",this,{uid:Vr});this._overriddenGravityRegister.delete(Vr),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(Vr){this._observedMarkers.add(Vr),this.updateMarkers()}_replaceAllRanges(Vr){this._validateSelectionRanges(Vr),super._replaceAllRanges(Vr)}_popRange(){this._ranges.pop().detach()}_pushRange(Vr){const Wr=this._prepareRange(Vr);Wr&&this._ranges.push(Wr)}_validateSelectionRanges(Vr){for(const Wr of Vr)if(!this._document._validateSelectionRange(Wr))throw new Cn("document-selection-wrong-position",this,{range:Wr})}_prepareRange(Vr){if(this._checkRange(Vr),Vr.root==this._document.graveyard)return;const Wr=Du.fromRange(Vr);return Wr.on("change:range",(Zr,tn,sn)=>{if(this._hasChangedRange=!0,Wr.root==this._document.graveyard){this._selectionRestorePosition=sn.deletionPosition;const un=this._ranges.indexOf(Wr);this._ranges.splice(un,1),Wr.detach()}}),Wr}updateMarkers(){if(!this._observedMarkers.size)return;const Vr=[];let Wr=!1;for(const tn of this._model.markers){const sn=tn.name.split(":",1)[0];if(!this._observedMarkers.has(sn))continue;const un=tn.getRange();for(const fn of this.getRanges())un.containsRange(fn,!fn.isCollapsed)&&Vr.push(tn)}const Zr=Array.from(this.markers);for(const tn of Vr)this.markers.has(tn)||(this.markers.add(tn),Wr=!0);for(const tn of Array.from(this.markers))Vr.includes(tn)||(this.markers.remove(tn),Wr=!0);Wr&&this.fire("change:marker",{oldMarkers:Zr,directChange:!1})}_updateMarker(Vr,Wr){const Zr=Vr.name.split(":",1)[0];if(!this._observedMarkers.has(Zr))return;let tn=!1;const sn=Array.from(this.markers),un=this.markers.has(Vr);if(Wr){let fn=!1;for(const yn of this.getRanges())if(Wr.containsRange(yn,!yn.isCollapsed)){fn=!0;break}fn&&!un?(this.markers.add(Vr),tn=!0):!fn&&un&&(this.markers.remove(Vr),tn=!0)}else un&&(this.markers.remove(Vr),tn=!0);tn&&this.fire("change:marker",{oldMarkers:sn,directChange:!1})}_updateAttributes(Vr){const Wr=rl(this._getSurroundingAttributes()),Zr=rl(this.getAttributes());if(Vr)this._attributePriority=new Map,this._attrs=new Map;else for(const[sn,un]of this._attributePriority)un=="low"&&(this._attrs.delete(sn),this._attributePriority.delete(sn));this._setAttributesTo(Wr);const tn=[];for(const[sn,un]of this.getAttributes())Zr.has(sn)&&Zr.get(sn)===un||tn.push(sn);for(const[sn]of Zr)this.hasAttribute(sn)||tn.push(sn);tn.length>0&&this.fire("change:attribute",{attributeKeys:tn,directChange:!1})}_setAttribute(Vr,Wr,Zr=!0){const tn=Zr?"normal":"low";return tn=="low"&&this._attributePriority.get(Vr)=="normal"?!1:super.getAttribute(Vr)!==Wr&&(this._attrs.set(Vr,Wr),this._attributePriority.set(Vr,tn),!0)}_removeAttribute(Vr,Wr=!0){const Zr=Wr?"normal":"low";return(Zr!="low"||this._attributePriority.get(Vr)!="normal")&&(this._attributePriority.set(Vr,Zr),!!super.hasAttribute(Vr)&&(this._attrs.delete(Vr),!0))}_setAttributesTo(Vr){const Wr=new Set;for(const[Zr,tn]of this.getAttributes())Vr.get(Zr)!==tn&&this._removeAttribute(Zr,!1);for(const[Zr,tn]of Vr)this._setAttribute(Zr,tn,!1)&&Wr.add(Zr);return Wr}*getStoredAttributes(){const Vr=this.getFirstPosition().parent;if(this.isCollapsed&&Vr.isEmpty)for(const Wr of Vr.getAttributeKeys())Wr.startsWith($p)&&(yield[Wr.substr(10),Vr.getAttribute(Wr)])}_getSurroundingAttributes(){const Vr=this.getFirstPosition(),Wr=this._model.schema;let Zr=null;if(this.isCollapsed){const tn=Vr.textNode?Vr.textNode:Vr.nodeBefore,sn=Vr.textNode?Vr.textNode:Vr.nodeAfter;if(this.isGravityOverridden||(Zr=Np(tn,Wr)),Zr||(Zr=Np(sn,Wr)),!this.isGravityOverridden&&!Zr){let un=tn;for(;un&&!Zr;)un=un.previousSibling,Zr=Np(un,Wr)}if(!Zr){let un=sn;for(;un&&!Zr;)un=un.nextSibling,Zr=Np(un,Wr)}Zr||(Zr=this.getStoredAttributes())}else{const tn=this.getFirstRange();for(const sn of tn){if(sn.item.is("element")&&Wr.isObject(sn.item))break;if(sn.type=="text"){Zr=sn.item.getAttributes();break}}}return Zr}_fixGraveyardSelection(Vr){const Wr=this._model.schema.getNearestSelectionRange(Vr);Wr&&this._pushRange(Wr)}}function Np(en,Vr){if(!en)return null;if(en instanceof Su||en instanceof Gs)return en.getAttributes();if(!Vr.isInline(en))return null;if(!Vr.isObject(en))return[];const Wr=[];for(const[Zr,tn]of en.getAttributes())Vr.checkAttribute("$text",Zr)&&Wr.push([Zr,tn]);return Wr}class cv{constructor(Vr){this._dispatchers=Vr}add(Vr){for(const Wr of this._dispatchers)Vr(Wr);return this}}class E1 extends cv{elementToElement(Vr){return this.add(function(Wr){const Zr=hv(Wr.model),tn=Yf(Wr.view,"container");return Zr.attributes.length&&(Zr.children=!0),sn=>{sn.on(`insert:${Zr.name}`,function(un,fn=M1){return(yn,xn,Dn)=>{if(!fn(xn.item,Dn.consumable,{preflight:!0}))return;const Mn=un(xn.item,Dn,xn);if(!Mn)return;fn(xn.item,Dn.consumable);const Rn=Dn.mapper.toViewPosition(xn.range.start);Dn.mapper.bindElements(xn.item,Mn),Dn.writer.insert(Rn,Mn),Dn.convertAttributes(xn.item),vv(Mn,xn.item.getChildren(),Dn,{reconversion:xn.reconversion})}}(tn,mv(Zr)),{priority:Wr.converterPriority||"normal"}),(Zr.children||Zr.attributes.length)&&sn.on("reduceChanges",gv(Zr),{priority:"low"})}}(Vr))}elementToStructure(Vr){return this.add(function(Wr){const Zr=hv(Wr.model),tn=Yf(Wr.view,"container");return Zr.children=!0,sn=>{if(sn._conversionApi.schema.checkChild(Zr.name,"$text"))throw new Cn("conversion-element-to-structure-disallowed-text",sn,{elementName:Zr.name});var un,fn;sn.on(`insert:${Zr.name}`,(un=tn,fn=mv(Zr),(yn,xn,Dn)=>{if(!fn(xn.item,Dn.consumable,{preflight:!0}))return;const Mn=new Map;Dn.writer._registerSlotFactory(function(Kn,ti,si){return(fi,Li)=>{const eo=fi.createContainerElement("$slot");let Fo=null;if(Li==="children")Fo=Array.from(Kn.getChildren());else{if(typeof Li!="function")throw new Cn("conversion-slot-mode-unknown",si.dispatcher,{modeOrFilter:Li});Fo=Array.from(Kn.getChildren()).filter(wa=>Li(wa))}return ti.set(eo,Fo),eo}}(xn.item,Mn,Dn));const Rn=un(xn.item,Dn,xn);if(Dn.writer._clearSlotFactory(),!Rn)return;(function(Kn,ti,si){const fi=Array.from(ti.values()).flat(),Li=new Set(fi);if(Li.size!=fi.length)throw new Cn("conversion-slot-filter-overlap",si.dispatcher,{element:Kn});if(Li.size!=Kn.childCount)throw new Cn("conversion-slot-filter-incomplete",si.dispatcher,{element:Kn})})(xn.item,Mn,Dn),fn(xn.item,Dn.consumable);const Un=Dn.mapper.toViewPosition(xn.range.start);Dn.mapper.bindElements(xn.item,Rn),Dn.writer.insert(Un,Rn),Dn.convertAttributes(xn.item),function(Kn,ti,si,fi){si.mapper.on("modelToViewPosition",Fo,{priority:"highest"});let Li=null,eo=null;for([Li,eo]of ti)vv(Kn,eo,si,fi),si.writer.move(si.writer.createRangeIn(Li),si.writer.createPositionBefore(Li)),si.writer.remove(Li);function Fo(wa,Ns){const ds=Ns.modelPosition.nodeAfter,Yl=eo.indexOf(ds);Yl<0||(Ns.viewPosition=Ns.mapper.findPositionIn(Li,Yl))}si.mapper.off("modelToViewPosition",Fo)}(Rn,Mn,Dn,{reconversion:xn.reconversion})}),{priority:Wr.converterPriority||"normal"}),sn.on("reduceChanges",gv(Zr),{priority:"low"})}}(Vr))}attributeToElement(Vr){return this.add(function(Wr){Wr=Rd(Wr);let Zr=Wr.model;typeof Zr=="string"&&(Zr={key:Zr});let tn=`attribute:${Zr.key}`;if(Zr.name&&(tn+=":"+Zr.name),Zr.values)for(const un of Zr.values)Wr.view[un]=Yf(Wr.view[un],"attribute");else Wr.view=Yf(Wr.view,"attribute");const sn=fv(Wr);return un=>{un.on(tn,function(fn){return(yn,xn,Dn)=>{if(!Dn.consumable.test(xn.item,yn.name))return;const Mn=fn(xn.attributeOldValue,Dn,xn),Rn=fn(xn.attributeNewValue,Dn,xn);if(!Mn&&!Rn)return;Dn.consumable.consume(xn.item,yn.name);const Un=Dn.writer,Kn=Un.document.selection;if(xn.item instanceof Wc||xn.item instanceof Eu)Un.wrap(Kn.getFirstRange(),Rn);else{let ti=Dn.mapper.toViewRange(xn.range);xn.attributeOldValue!==null&&Mn&&(ti=Un.unwrap(ti,Mn)),xn.attributeNewValue!==null&&Rn&&Un.wrap(ti,Rn)}}}(sn),{priority:Wr.converterPriority||"normal"})}}(Vr))}attributeToAttribute(Vr){return this.add(function(Wr){Wr=Rd(Wr);let Zr=Wr.model;typeof Zr=="string"&&(Zr={key:Zr});let tn=`attribute:${Zr.key}`;if(Zr.name&&(tn+=":"+Zr.name),Zr.values)for(const un of Zr.values)Wr.view[un]=pv(Wr.view[un]);else Wr.view=pv(Wr.view);const sn=fv(Wr);return un=>{var fn;un.on(tn,(fn=sn,(yn,xn,Dn)=>{if(!Dn.consumable.test(xn.item,yn.name))return;const Mn=fn(xn.attributeOldValue,Dn,xn),Rn=fn(xn.attributeNewValue,Dn,xn);if(!Mn&&!Rn)return;Dn.consumable.consume(xn.item,yn.name);const Un=Dn.mapper.toViewElement(xn.item),Kn=Dn.writer;if(!Un)throw new Cn("conversion-attribute-to-attribute-on-text",Dn.dispatcher,xn);if(xn.attributeOldValue!==null&&Mn)if(Mn.key=="class"){const ti=Nl(Mn.value);for(const si of ti)Kn.removeClass(si,Un)}else if(Mn.key=="style"){const ti=Object.keys(Mn.value);for(const si of ti)Kn.removeStyle(si,Un)}else Kn.removeAttribute(Mn.key,Un);if(xn.attributeNewValue!==null&&Rn)if(Rn.key=="class"){const ti=Nl(Rn.value);for(const si of ti)Kn.addClass(si,Un)}else if(Rn.key=="style"){const ti=Object.keys(Rn.value);for(const si of ti)Kn.setStyle(si,Rn.value[si],Un)}else Kn.setAttribute(Rn.key,Rn.value,Un)}),{priority:Wr.converterPriority||"normal"})}}(Vr))}markerToElement(Vr){return this.add(function(Wr){const Zr=Yf(Wr.view,"ui");return tn=>{var sn;tn.on(`addMarker:${Wr.model}`,(sn=Zr,(un,fn,yn)=>{fn.isOpening=!0;const xn=sn(fn,yn);fn.isOpening=!1;const Dn=sn(fn,yn);if(!xn||!Dn)return;const Mn=fn.markerRange;if(Mn.isCollapsed&&!yn.consumable.consume(Mn,un.name))return;for(const Kn of Mn)if(!yn.consumable.consume(Kn.item,un.name))return;const Rn=yn.mapper,Un=yn.writer;Un.insert(Rn.toViewPosition(Mn.start),xn),yn.mapper.bindElementToMarker(xn,fn.markerName),Mn.isCollapsed||(Un.insert(Rn.toViewPosition(Mn.end),Dn),yn.mapper.bindElementToMarker(Dn,fn.markerName)),un.stop()}),{priority:Wr.converterPriority||"normal"}),tn.on(`removeMarker:${Wr.model}`,(un,fn,yn)=>{const xn=yn.mapper.markerNameToElements(fn.markerName);if(xn){for(const Dn of xn)yn.mapper.unbindElementFromMarkerName(Dn,fn.markerName),yn.writer.clear(yn.writer.createRangeOn(Dn),Dn);yn.writer.clearClonedElementsGroup(fn.markerName),un.stop()}},{priority:Wr.converterPriority||"normal"})}}(Vr))}markerToHighlight(Vr){return this.add(function(Wr){return Zr=>{var tn;Zr.on(`addMarker:${Wr.model}`,(tn=Wr.view,(sn,un,fn)=>{if(!un.item||!(un.item instanceof Wc||un.item instanceof Eu||un.item.is("$textProxy")))return;const yn=Og(tn,un,fn);if(!yn||!fn.consumable.consume(un.item,sn.name))return;const xn=fn.writer,Dn=uv(xn,yn),Mn=xn.document.selection;if(un.item instanceof Wc||un.item instanceof Eu)xn.wrap(Mn.getFirstRange(),Dn);else{const Rn=fn.mapper.toViewRange(un.range),Un=xn.wrap(Rn,Dn);for(const Kn of Un.getItems())if(Kn.is("attributeElement")&&Kn.isSimilar(Dn)){fn.mapper.bindElementToMarker(Kn,un.markerName);break}}}),{priority:Wr.converterPriority||"normal"}),Zr.on(`addMarker:${Wr.model}`,function(sn){return(un,fn,yn)=>{if(!fn.item||!(fn.item instanceof Rs))return;const xn=Og(sn,fn,yn);if(!xn||!yn.consumable.test(fn.item,un.name))return;const Dn=yn.mapper.toViewElement(fn.item);if(Dn&&Dn.getCustomProperty("addHighlight")){yn.consumable.consume(fn.item,un.name);for(const Mn of Yi._createIn(fn.item))yn.consumable.consume(Mn.item,un.name);Dn.getCustomProperty("addHighlight")(Dn,xn,yn.writer),yn.mapper.bindElementToMarker(Dn,fn.markerName)}}}(Wr.view),{priority:Wr.converterPriority||"normal"}),Zr.on(`removeMarker:${Wr.model}`,function(sn){return(un,fn,yn)=>{if(fn.markerRange.isCollapsed)return;const xn=Og(sn,fn,yn);if(!xn)return;const Dn=uv(yn.writer,xn),Mn=yn.mapper.markerNameToElements(fn.markerName);if(Mn){for(const Rn of Mn)yn.mapper.unbindElementFromMarkerName(Rn,fn.markerName),Rn.is("attributeElement")?yn.writer.unwrap(yn.writer.createRangeOn(Rn),Dn):Rn.getCustomProperty("removeHighlight")(Rn,xn.id,yn.writer);yn.writer.clearClonedElementsGroup(fn.markerName),un.stop()}}}(Wr.view),{priority:Wr.converterPriority||"normal"})}}(Vr))}markerToData(Vr){return this.add(function(Wr){Wr=Rd(Wr);const Zr=Wr.model;let tn=Wr.view;return tn||(tn=sn=>({group:Zr,name:sn.substr(Wr.model.length+1)})),sn=>{var un;sn.on(`addMarker:${Zr}`,(un=tn,(fn,yn,xn)=>{const Dn=un(yn.markerName,xn);if(!Dn)return;const Mn=yn.markerRange;xn.consumable.consume(Mn,fn.name)&&(dv(Mn,!1,xn,yn,Dn),dv(Mn,!0,xn,yn,Dn),fn.stop())}),{priority:Wr.converterPriority||"normal"}),sn.on(`removeMarker:${Zr}`,function(fn){return(yn,xn,Dn)=>{const Mn=fn(xn.markerName,Dn);if(!Mn)return;const Rn=Dn.mapper.markerNameToElements(xn.markerName);if(Rn){for(const Kn of Rn)Dn.mapper.unbindElementFromMarkerName(Kn,xn.markerName),Kn.is("containerElement")?(Un(`data-${Mn.group}-start-before`,Kn),Un(`data-${Mn.group}-start-after`,Kn),Un(`data-${Mn.group}-end-before`,Kn),Un(`data-${Mn.group}-end-after`,Kn)):Dn.writer.clear(Dn.writer.createRangeOn(Kn),Kn);Dn.writer.clearClonedElementsGroup(xn.markerName),yn.stop()}function Un(Kn,ti){if(ti.hasAttribute(Kn)){const si=new Set(ti.getAttribute(Kn).split(","));si.delete(Mn.name),si.size==0?Dn.writer.removeAttribute(Kn,ti):Dn.writer.setAttribute(Kn,Array.from(si).join(","),ti)}}}}(tn),{priority:Wr.converterPriority||"normal"})}}(Vr))}}function uv(en,Vr){const Wr=en.createAttributeElement("span",Vr.attributes);return Vr.classes&&Wr._addClass(Vr.classes),typeof Vr.priority=="number"&&(Wr._priority=Vr.priority),Wr._id=Vr.id,Wr}function dv(en,Vr,Wr,Zr,tn){const sn=Vr?en.start:en.end,un=sn.nodeAfter&&sn.nodeAfter.is("element")?sn.nodeAfter:null,fn=sn.nodeBefore&&sn.nodeBefore.is("element")?sn.nodeBefore:null;if(un||fn){let yn,xn;Vr&&un||!Vr&&!fn?(yn=un,xn=!0):(yn=fn,xn=!1);const Dn=Wr.mapper.toViewElement(yn);if(Dn)return void function(Mn,Rn,Un,Kn,ti,si){const fi=`data-${si.group}-${Rn?"start":"end"}-${Un?"before":"after"}`,Li=Mn.hasAttribute(fi)?Mn.getAttribute(fi).split(","):[];Li.unshift(si.name),Kn.writer.setAttribute(fi,Li.join(","),Mn),Kn.mapper.bindElementToMarker(Mn,ti.markerName)}(Dn,Vr,xn,Wr,Zr,tn)}(function(yn,xn,Dn,Mn,Rn){const Un=`${Rn.group}-${xn?"start":"end"}`,Kn=Rn.name?{name:Rn.name}:null,ti=Dn.writer.createUIElement(Un,Kn);Dn.writer.insert(yn,ti),Dn.mapper.bindElementToMarker(ti,Mn.markerName)})(Wr.mapper.toViewPosition(sn),Vr,Wr,Zr,tn)}function hv(en){return typeof en=="string"&&(en={name:en}),en.attributes?Array.isArray(en.attributes)||(en.attributes=[en.attributes]):en.attributes=[],en.children=!!en.children,en}function Yf(en,Vr){return typeof en=="function"?en:(Wr,Zr)=>function(tn,sn,un){typeof tn=="string"&&(tn={name:tn});let fn;const yn=sn.writer,xn=Object.assign({},tn.attributes);if(un=="container")fn=yn.createContainerElement(tn.name,xn);else if(un=="attribute"){const Dn={priority:tn.priority||fd.DEFAULT_PRIORITY};fn=yn.createAttributeElement(tn.name,xn,Dn)}else fn=yn.createUIElement(tn.name,xn);if(tn.styles){const Dn=Object.keys(tn.styles);for(const Mn of Dn)yn.setStyle(Mn,tn.styles[Mn],fn)}if(tn.classes){const Dn=tn.classes;if(typeof Dn=="string")yn.addClass(Dn,fn);else for(const Mn of Dn)yn.addClass(Mn,fn)}return fn}(en,Zr,Vr)}function fv(en){return en.model.values?(Vr,Wr,Zr)=>{const tn=en.view[Vr];return tn?tn(Vr,Wr,Zr):null}:en.view}function pv(en){return typeof en=="string"?Vr=>({key:en,value:Vr}):typeof en=="object"?en.value?()=>en:Vr=>({key:en.key,value:Vr}):en}function Og(en,Vr,Wr){const Zr=typeof en=="function"?en(Vr,Wr):en;return Zr?(Zr.priority||(Zr.priority=10),Zr.id||(Zr.id=Vr.markerName),Zr):null}function gv(en){const Vr=function(Wr){return(Zr,tn)=>{if(!Zr.is("element",Wr.name))return!1;if(tn.type=="attribute"){if(Wr.attributes.includes(tn.attributeKey))return!0}else if(Wr.children)return!0;return!1}}(en);return(Wr,Zr)=>{const tn=[];Zr.reconvertedElements||(Zr.reconvertedElements=new Set);for(const sn of Zr.changes){const un=sn.type=="attribute"?sn.range.start.nodeAfter:sn.position.parent;if(un&&Vr(un,sn)){if(!Zr.reconvertedElements.has(un)){Zr.reconvertedElements.add(un);const fn=po._createBefore(un);let yn=tn.length;for(let xn=tn.length-1;xn>=0;xn--){const Dn=tn[xn],Mn=(Dn.type=="attribute"?Dn.range.start:Dn.position).compareWith(fn);if(Mn=="before"||Dn.type=="remove"&&Mn=="same")break;yn=xn}tn.splice(yn,0,{type:"remove",name:un.name,position:fn,length:1},{type:"reinsert",name:un.name,position:fn,length:1})}}else tn.push(sn)}Zr.changes=tn}}function mv(en){return(Vr,Wr,Zr={})=>{const tn=["insert"];for(const sn of en.attributes)Vr.hasAttribute(sn)&&tn.push(`attribute:${sn}`);return!!tn.every(sn=>Wr.test(Vr,sn))&&(Zr.preflight||tn.forEach(sn=>Wr.consume(Vr,sn)),!0)}}function vv(en,Vr,Wr,Zr){for(const tn of Vr)T1(en.root,tn,Wr,Zr)||Wr.convertItem(tn)}function T1(en,Vr,Wr,Zr){const{writer:tn,mapper:sn}=Wr;if(!Zr.reconversion)return!1;const un=sn.toViewElement(Vr);return!(!un||un.root==en)&&!!Wr.canReuseView(un)&&(tn.move(tn.createRangeOn(un),sn.toViewPosition(po._createBefore(Vr))),!0)}function M1(en,Vr,{preflight:Wr}={}){return Wr?Vr.test(en,"insert"):Vr.consume(en,"insert")}function yv(en){const{schema:Vr,document:Wr}=en.model;for(const Zr of Wr.getRootNames()){const tn=Wr.getRoot(Zr);if(tn.isEmpty&&!Vr.checkChild(tn,"$text")&&Vr.checkChild(tn,"paragraph"))return en.insertElement("paragraph",tn),!0}return!1}function bv(en,Vr,Wr){const Zr=Wr.createContext(en);return!!Wr.checkChild(Zr,"paragraph")&&!!Wr.checkChild(Zr.push("paragraph"),Vr)}function _v(en,Vr){const Wr=Vr.createElement("paragraph");return Vr.insert(Wr,en),Vr.createPositionAt(Wr,0)}var I1=Object.defineProperty,L1=Object.defineProperties,P1=Object.getOwnPropertyDescriptors,wv=Object.getOwnPropertySymbols,O1=Object.prototype.hasOwnProperty,R1=Object.prototype.propertyIsEnumerable,kv=(en,Vr,Wr)=>Vr in en?I1(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr;class $1 extends cv{elementToElement(Vr){return this.add(Av(Vr))}elementToAttribute(Vr){return this.add(function(Wr){Wr=Rd(Wr),Cv(Wr);const Zr=xv(Wr,!1),tn=Rg(Wr.view),sn=tn?`element:${tn}`:"element";return un=>{un.on(sn,Zr,{priority:Wr.converterPriority||"low"})}}(Vr))}attributeToAttribute(Vr){return this.add(function(Wr){Wr=Rd(Wr);let Zr=null;(typeof Wr.view=="string"||Wr.view.key)&&(Zr=function(sn){typeof sn.view=="string"&&(sn.view={key:sn.view});const un=sn.view.key;let fn;return un=="class"||un=="style"?fn={[un=="class"?"classes":"styles"]:sn.view.value}:fn={attributes:{[un]:sn.view.value===void 0?/[\s\S]*/:sn.view.value}},sn.view.name&&(fn.name=sn.view.name),sn.view=fn,un}(Wr)),Cv(Wr,Zr);const tn=xv(Wr,!0);return sn=>{sn.on("element",tn,{priority:Wr.converterPriority||"low"})}}(Vr))}elementToMarker(Vr){return this.add(function(Wr){const Zr=function(un){return(fn,yn)=>{const xn=typeof un=="string"?un:un(fn,yn);return yn.writer.createElement("$marker",{"data-name":xn})}}(Wr.model);return Av((tn=((un,fn)=>{for(var yn in fn||(fn={}))O1.call(fn,yn)&&kv(un,yn,fn[yn]);if(wv)for(var yn of wv(fn))R1.call(fn,yn)&&kv(un,yn,fn[yn]);return un})({},Wr),sn={model:Zr},L1(tn,P1(sn))));var tn,sn}(Vr))}dataToMarker(Vr){return this.add(function(Wr){Wr=Rd(Wr),Wr.model||(Wr.model=un=>un?Wr.view+":"+un:Wr.view);const Zr={view:Wr.view,model:Wr.model},tn=$g(Sv(Zr,"start")),sn=$g(Sv(Zr,"end"));return un=>{un.on(`element:${Wr.view}-start`,tn,{priority:Wr.converterPriority||"normal"}),un.on(`element:${Wr.view}-end`,sn,{priority:Wr.converterPriority||"normal"});const fn=Sn.low,yn=Sn.highest,xn=Sn.get(Wr.converterPriority)/yn;un.on("element",function(Dn){return(Mn,Rn,Un)=>{const Kn=`data-${Dn.view}`;function ti(si,fi){for(const Li of fi){const eo=Dn.model(Li,Un),Fo=Un.writer.createElement("$marker",{"data-name":eo});Un.writer.insert(Fo,si),Rn.modelCursor.isEqual(si)?Rn.modelCursor=Rn.modelCursor.getShiftedBy(1):Rn.modelCursor=Rn.modelCursor._getTransformedByInsertion(si,1),Rn.modelRange=Rn.modelRange._getTransformedByInsertion(si,1)[0]}}(Un.consumable.test(Rn.viewItem,{attributes:Kn+"-end-after"})||Un.consumable.test(Rn.viewItem,{attributes:Kn+"-start-after"})||Un.consumable.test(Rn.viewItem,{attributes:Kn+"-end-before"})||Un.consumable.test(Rn.viewItem,{attributes:Kn+"-start-before"}))&&(Rn.modelRange||Object.assign(Rn,Un.convertChildren(Rn.viewItem,Rn.modelCursor)),Un.consumable.consume(Rn.viewItem,{attributes:Kn+"-end-after"})&&ti(Rn.modelRange.end,Rn.viewItem.getAttribute(Kn+"-end-after").split(",")),Un.consumable.consume(Rn.viewItem,{attributes:Kn+"-start-after"})&&ti(Rn.modelRange.end,Rn.viewItem.getAttribute(Kn+"-start-after").split(",")),Un.consumable.consume(Rn.viewItem,{attributes:Kn+"-end-before"})&&ti(Rn.modelRange.start,Rn.viewItem.getAttribute(Kn+"-end-before").split(",")),Un.consumable.consume(Rn.viewItem,{attributes:Kn+"-start-before"})&&ti(Rn.modelRange.start,Rn.viewItem.getAttribute(Kn+"-start-before").split(",")))}}(Zr),{priority:fn+xn})}}(Vr))}}function Av(en){const Vr=$g(en=Rd(en)),Wr=Rg(en.view),Zr=Wr?`element:${Wr}`:"element";return tn=>{tn.on(Zr,Vr,{priority:en.converterPriority||"normal"})}}function Rg(en){return typeof en=="string"?en:typeof en=="object"&&typeof en.name=="string"?en.name:null}function $g(en){const Vr=new jc(en.view);return(Wr,Zr,tn)=>{const sn=Vr.match(Zr.viewItem);if(!sn)return;const un=sn.match;if(un.name=!0,!tn.consumable.test(Zr.viewItem,un))return;const fn=function(yn,xn,Dn){return yn instanceof Function?yn(xn,Dn):Dn.writer.createElement(yn)}(en.model,Zr.viewItem,tn);fn&&tn.safeInsert(fn,Zr.modelCursor)&&(tn.consumable.consume(Zr.viewItem,un),tn.convertChildren(Zr.viewItem,fn),tn.updateConversionResult(fn,Zr))}}function Cv(en,Vr=null){const Wr=Vr===null||(sn=>sn.getAttribute(Vr)),Zr=typeof en.model!="object"?en.model:en.model.key,tn=typeof en.model!="object"||en.model.value===void 0?Wr:en.model.value;en.model={key:Zr,value:tn}}function xv(en,Vr){const Wr=new jc(en.view);return(Zr,tn,sn)=>{if(!tn.modelRange&&Vr)return;const un=Wr.match(tn.viewItem);if(!un||(function(Dn,Mn){const Rn=typeof Dn=="function"?Dn(Mn):Dn;return typeof Rn=="object"&&!Rg(Rn)?!1:!Rn.classes&&!Rn.attributes&&!Rn.styles}(en.view,tn.viewItem)?un.match.name=!0:delete un.match.name,!sn.consumable.test(tn.viewItem,un.match)))return;const fn=en.model.key,yn=typeof en.model.value=="function"?en.model.value(tn.viewItem,sn):en.model.value;if(yn===null)return;tn.modelRange||Object.assign(tn,sn.convertChildren(tn.viewItem,tn.modelCursor)),function(Dn,Mn,Rn,Un){let Kn=!1;for(const ti of Array.from(Dn.getItems({shallow:Rn})))Un.schema.checkAttribute(ti,Mn.key)&&(Kn=!0,ti.hasAttribute(Mn.key)||Un.writer.setAttribute(Mn.key,Mn.value,ti));return Kn}(tn.modelRange,{key:fn,value:yn},Vr,sn)&&(sn.consumable.test(tn.viewItem,{name:!0})&&(un.match.name=!0),sn.consumable.consume(tn.viewItem,un.match))}}function Sv(en,Vr){return{view:`${en.view}-${Vr}`,model:(Wr,Zr)=>{const tn=Wr.getAttribute("name"),sn=en.model(tn,Zr);return Zr.writer.createElement("$marker",{"data-name":sn})}}}function N1(en){en.document.registerPostFixer(Vr=>function(Wr,Zr){const tn=Zr.document.selection,sn=Zr.schema,un=[];let fn=!1;for(const yn of tn.getRanges()){const xn=Dv(yn,sn);xn&&!xn.isEqual(yn)?(un.push(xn),fn=!0):un.push(yn)}return fn&&Wr.setSelection(function(yn){const xn=[...yn],Dn=new Set;let Mn=1;for(;Mn<xn.length;){const Rn=xn[Mn],Un=xn.slice(0,Mn);for(const[Kn,ti]of Un.entries())if(!Dn.has(Kn)){if(Rn.isEqual(ti))Dn.add(Kn);else if(Rn.isIntersecting(ti)){Dn.add(Kn),Dn.add(Mn);const si=Rn.getJoined(ti);xn.push(si)}}Mn++}return xn.filter((Rn,Un)=>!Dn.has(Un))}(un),{backward:tn.isBackward}),!1}(Vr,en))}function Dv(en,Vr){return en.isCollapsed?function(Wr,Zr){const tn=Wr.start,sn=Zr.getNearestSelectionRange(tn);if(!sn){const fn=tn.getAncestors().reverse().find(yn=>Zr.isObject(yn));return fn?Yi._createOn(fn):null}if(!sn.isCollapsed)return sn;const un=sn.start;return tn.isEqual(un)?null:new Yi(un)}(en,Vr):function(Wr,Zr){const{start:tn,end:sn}=Wr,un=Zr.checkChild(tn,"$text"),fn=Zr.checkChild(sn,"$text"),yn=Zr.getLimitElement(tn),xn=Zr.getLimitElement(sn);if(yn===xn){if(un&&fn)return null;if(function(Rn,Un,Kn){const ti=Rn.nodeAfter&&!Kn.isLimit(Rn.nodeAfter)||Kn.checkChild(Rn,"$text"),si=Un.nodeBefore&&!Kn.isLimit(Un.nodeBefore)||Kn.checkChild(Un,"$text");return ti||si}(tn,sn,Zr)){const Rn=tn.nodeAfter&&Zr.isSelectable(tn.nodeAfter)?null:Zr.getNearestSelectionRange(tn,"forward"),Un=sn.nodeBefore&&Zr.isSelectable(sn.nodeBefore)?null:Zr.getNearestSelectionRange(sn,"backward"),Kn=Rn?Rn.start:tn,ti=Un?Un.end:sn;return new Yi(Kn,ti)}}const Dn=yn&&!yn.is("rootElement"),Mn=xn&&!xn.is("rootElement");if(Dn||Mn){const Rn=tn.nodeAfter&&sn.nodeBefore&&tn.nodeAfter.parent===sn.nodeBefore.parent,Un=Dn&&(!Rn||!Tv(tn.nodeAfter,Zr)),Kn=Mn&&(!Rn||!Tv(sn.nodeBefore,Zr));let ti=tn,si=sn;return Un&&(ti=po._createBefore(Ev(yn,Zr))),Kn&&(si=po._createAfter(Ev(xn,Zr))),new Yi(ti,si)}return null}(en,Vr)}function Ev(en,Vr){let Wr=en,Zr=Wr;for(;Vr.isLimit(Zr)&&Zr.parent;)Wr=Zr,Zr=Zr.parent;return Wr}function Tv(en,Vr){return en&&Vr.isSelectable(en)}class B1 extends Ji(){constructor(Vr,Wr){super(),this.model=Vr,this.view=new f1(Wr),this.mapper=new tv,this.downcastDispatcher=new ov({mapper:this.mapper,schema:Vr.schema});const Zr=this.model.document,tn=Zr.selection,sn=this.model.markers;var un,fn,yn;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(Zr,"change",()=>{this.view.change(xn=>{this.downcastDispatcher.convertChanges(Zr.differ,sn,xn),this.downcastDispatcher.convertSelection(tn,sn,xn)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(xn,Dn){return(Mn,Rn)=>{const Un=Rn.newSelection,Kn=[];for(const si of Un.getRanges())Kn.push(Dn.toModelRange(si));const ti=xn.createSelection(Kn,{backward:Un.isBackward});ti.isEqual(xn.document.selection)||xn.change(si=>{si.setSelection(ti)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(un=this.mapper,fn=this.model.schema,yn=this.view,(xn,Dn)=>{if(!yn.document.isComposing||Qr.isAndroid)for(let Mn=0;Mn<Dn.targetRanges.length;Mn++){const Rn=Dn.targetRanges[Mn],Un=un.toModelRange(Rn),Kn=Dv(Un,fn);Kn&&!Kn.isEqual(Un)&&(Dn.targetRanges[Mn]=un.toViewRange(Kn))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(xn,Dn,Mn)=>{if(!Mn.consumable.consume(Dn.item,xn.name))return;const Rn=Mn.writer,Un=Mn.mapper.toViewPosition(Dn.range.start),Kn=Rn.createText(Dn.item.data);Rn.insert(Un,Kn)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(xn,Dn,Mn)=>{Mn.convertAttributes(Dn.item),Dn.reconversion||!Dn.item.is("element")||Dn.item.isEmpty||Mn.convertChildren(Dn.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(xn,Dn,Mn)=>{const Rn=Mn.mapper.toViewPosition(Dn.position),Un=Dn.position.getShiftedBy(Dn.length),Kn=Mn.mapper.toViewPosition(Un,{isPhantom:!0}),ti=Mn.writer.createRange(Rn,Kn),si=Mn.writer.remove(ti.getTrimmed());for(const fi of Mn.writer.createRangeIn(si).getItems())Mn.mapper.unbindViewElement(fi,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(xn,Dn,Mn)=>{const Rn=Mn.writer,Un=Rn.document.selection;for(const Kn of Un.getRanges())Kn.isCollapsed&&Kn.end.parent.isAttached()&&Mn.writer.mergeAttributes(Kn.start);Rn.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(xn,Dn,Mn)=>{const Rn=Dn.selection;if(Rn.isCollapsed||!Mn.consumable.consume(Rn,"selection"))return;const Un=[];for(const Kn of Rn.getRanges())Un.push(Mn.mapper.toViewRange(Kn));Mn.writer.setSelection(Un,{backward:Rn.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(xn,Dn,Mn)=>{const Rn=Dn.selection;if(!Rn.isCollapsed||!Mn.consumable.consume(Rn,"selection"))return;const Un=Mn.writer,Kn=Rn.getFirstPosition(),ti=Mn.mapper.toViewPosition(Kn),si=Un.breakAttributes(ti);Un.setSelection(si)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(xn=>{if(xn.rootName=="$graveyard")return null;const Dn=new Ep(this.view.document,xn.name);return Dn.rootName=xn.rootName,this.mapper.bindElements(xn,Dn),Dn})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(Vr){const Wr=typeof Vr=="string"?Vr:Vr.name,Zr=this.model.markers.get(Wr);if(!Zr)throw new Cn("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:Wr});this.model.change(()=>{this.model.markers._refresh(Zr)})}reconvertItem(Vr){this.model.change(()=>{this.model.document.differ._refreshItem(Vr)})}}class qf{constructor(){this._consumables=new Map}add(Vr,Wr){let Zr;Vr.is("$text")||Vr.is("documentFragment")?this._consumables.set(Vr,!0):(this._consumables.has(Vr)?Zr=this._consumables.get(Vr):(Zr=new F1(Vr),this._consumables.set(Vr,Zr)),Zr.add(Wr))}test(Vr,Wr){const Zr=this._consumables.get(Vr);return Zr===void 0?null:Vr.is("$text")||Vr.is("documentFragment")?Zr:Zr.test(Wr)}consume(Vr,Wr){return!!this.test(Vr,Wr)&&(Vr.is("$text")||Vr.is("documentFragment")?this._consumables.set(Vr,!1):this._consumables.get(Vr).consume(Wr),!0)}revert(Vr,Wr){const Zr=this._consumables.get(Vr);Zr!==void 0&&(Vr.is("$text")||Vr.is("documentFragment")?this._consumables.set(Vr,!0):Zr.revert(Wr))}static consumablesFromElement(Vr){const Wr={element:Vr,name:!0,attributes:[],classes:[],styles:[]},Zr=Vr.getAttributeKeys();for(const un of Zr)un!="style"&&un!="class"&&Wr.attributes.push(un);const tn=Vr.getClassNames();for(const un of tn)Wr.classes.push(un);const sn=Vr.getStyleNames();for(const un of sn)Wr.styles.push(un);return Wr}static createFrom(Vr,Wr){if(Wr||(Wr=new qf),Vr.is("$text"))return Wr.add(Vr),Wr;Vr.is("element")&&Wr.add(Vr,qf.consumablesFromElement(Vr)),Vr.is("documentFragment")&&Wr.add(Vr);for(const Zr of Vr.getChildren())Wr=qf.createFrom(Zr,Wr);return Wr}}const Bp=["attributes","classes","styles"];class F1{constructor(Vr){this.element=Vr,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(Vr){Vr.name&&(this._canConsumeName=!0);for(const Wr of Bp)Wr in Vr&&this._add(Wr,Vr[Wr])}test(Vr){if(Vr.name&&!this._canConsumeName)return this._canConsumeName;for(const Wr of Bp)if(Wr in Vr){const Zr=this._test(Wr,Vr[Wr]);if(Zr!==!0)return Zr}return!0}consume(Vr){Vr.name&&(this._canConsumeName=!1);for(const Wr of Bp)Wr in Vr&&this._consume(Wr,Vr[Wr])}revert(Vr){Vr.name&&(this._canConsumeName=!0);for(const Wr of Bp)Wr in Vr&&this._revert(Wr,Vr[Wr])}_add(Vr,Wr){const Zr=Lo(Wr)?Wr:[Wr],tn=this._consumables[Vr];for(const sn of Zr){if(Vr==="attributes"&&(sn==="class"||sn==="style"))throw new Cn("viewconsumable-invalid-attribute",this);if(tn.set(sn,!0),Vr==="styles")for(const un of this.element.document.stylesProcessor.getRelatedStyles(sn))tn.set(un,!0)}}_test(Vr,Wr){const Zr=Lo(Wr)?Wr:[Wr],tn=this._consumables[Vr];for(const sn of Zr)if(Vr!=="attributes"||sn!=="class"&&sn!=="style"){const un=tn.get(sn);if(un===void 0)return null;if(!un)return!1}else{const un=sn=="class"?"classes":"styles",fn=this._test(un,[...this._consumables[un].keys()]);if(fn!==!0)return fn}return!0}_consume(Vr,Wr){const Zr=Lo(Wr)?Wr:[Wr],tn=this._consumables[Vr];for(const sn of Zr)if(Vr!=="attributes"||sn!=="class"&&sn!=="style"){if(tn.set(sn,!1),Vr=="styles")for(const un of this.element.document.stylesProcessor.getRelatedStyles(sn))tn.set(un,!1)}else{const un=sn=="class"?"classes":"styles";this._consume(un,[...this._consumables[un].keys()])}}_revert(Vr,Wr){const Zr=Lo(Wr)?Wr:[Wr],tn=this._consumables[Vr];for(const sn of Zr)if(Vr!=="attributes"||sn!=="class"&&sn!=="style")tn.get(sn)===!1&&tn.set(sn,!0);else{const un=sn=="class"?"classes":"styles";this._revert(un,[...this._consumables[un].keys()])}}}class z1 extends Ji(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(Vr,Wr)=>{Wr[0]=new hh(Wr[0])},{priority:"highest"}),this.on("checkChild",(Vr,Wr)=>{Wr[0]=new hh(Wr[0]),Wr[1]=this.getDefinition(Wr[1])},{priority:"highest"})}register(Vr,Wr){if(this._sourceDefinitions[Vr])throw new Cn("schema-cannot-register-item-twice",this,{itemName:Vr});this._sourceDefinitions[Vr]=[Object.assign({},Wr)],this._clearCache()}extend(Vr,Wr){if(!this._sourceDefinitions[Vr])throw new Cn("schema-cannot-extend-missing-item",this,{itemName:Vr});this._sourceDefinitions[Vr].push(Object.assign({},Wr)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(Vr){let Wr;return Wr=typeof Vr=="string"?Vr:"is"in Vr&&(Vr.is("$text")||Vr.is("$textProxy"))?"$text":Vr.name,this.getDefinitions()[Wr]}isRegistered(Vr){return!!this.getDefinition(Vr)}isBlock(Vr){const Wr=this.getDefinition(Vr);return!(!Wr||!Wr.isBlock)}isLimit(Vr){const Wr=this.getDefinition(Vr);return!!Wr&&!(!Wr.isLimit&&!Wr.isObject)}isObject(Vr){const Wr=this.getDefinition(Vr);return!!Wr&&!!(Wr.isObject||Wr.isLimit&&Wr.isSelectable&&Wr.isContent)}isInline(Vr){const Wr=this.getDefinition(Vr);return!(!Wr||!Wr.isInline)}isSelectable(Vr){const Wr=this.getDefinition(Vr);return!!Wr&&!(!Wr.isSelectable&&!Wr.isObject)}isContent(Vr){const Wr=this.getDefinition(Vr);return!!Wr&&!(!Wr.isContent&&!Wr.isObject)}checkChild(Vr,Wr){return!!Wr&&this._checkContextMatch(Wr,Vr)}checkAttribute(Vr,Wr){const Zr=this.getDefinition(Vr.last);return!!Zr&&Zr.allowAttributes.includes(Wr)}checkMerge(Vr,Wr){if(Vr instanceof po){const Zr=Vr.nodeBefore,tn=Vr.nodeAfter;if(!(Zr instanceof Rs))throw new Cn("schema-check-merge-no-element-before",this);if(!(tn instanceof Rs))throw new Cn("schema-check-merge-no-element-after",this);return this.checkMerge(Zr,tn)}for(const Zr of Wr.getChildren())if(!this.checkChild(Vr,Zr))return!1;return!0}addChildCheck(Vr){this.on("checkChild",(Wr,[Zr,tn])=>{if(!tn)return;const sn=Vr(Zr,tn);typeof sn=="boolean"&&(Wr.stop(),Wr.return=sn)},{priority:"high"})}addAttributeCheck(Vr){this.on("checkAttribute",(Wr,[Zr,tn])=>{const sn=Vr(Zr,tn);typeof sn=="boolean"&&(Wr.stop(),Wr.return=sn)},{priority:"high"})}setAttributeProperties(Vr,Wr){this._attributeProperties[Vr]=Object.assign(this.getAttributeProperties(Vr),Wr)}getAttributeProperties(Vr){return this._attributeProperties[Vr]||{}}getLimitElement(Vr){let Wr;for(Vr instanceof po?Wr=Vr.parent:Wr=(Vr instanceof Yi?[Vr]:Array.from(Vr.getRanges())).reduce((Zr,tn)=>{const sn=tn.getCommonAncestor();return Zr?Zr.getCommonAncestor(sn,{includeSelf:!0}):sn},null);!this.isLimit(Wr)&&Wr.parent;)Wr=Wr.parent;return Wr}checkAttributeInSelection(Vr,Wr){if(Vr.isCollapsed){const Zr=[...Vr.getFirstPosition().getAncestors(),new Gs("",Vr.getAttributes())];return this.checkAttribute(Zr,Wr)}{const Zr=Vr.getRanges();for(const tn of Zr)for(const sn of tn)if(this.checkAttribute(sn.item,Wr))return!0}return!1}*getValidRanges(Vr,Wr){Vr=function*(Zr){for(const tn of Zr)yield*tn.getMinimalFlatRanges()}(Vr);for(const Zr of Vr)yield*this._getValidRangesForRange(Zr,Wr)}getNearestSelectionRange(Vr,Wr="both"){if(this.checkChild(Vr,"$text"))return new Yi(Vr);let Zr,tn;const sn=Vr.getAncestors().reverse().find(un=>this.isLimit(un))||Vr.root;Wr!="both"&&Wr!="backward"||(Zr=new qu({boundaries:Yi._createIn(sn),startPosition:Vr,direction:"backward"})),Wr!="both"&&Wr!="forward"||(tn=new qu({boundaries:Yi._createIn(sn),startPosition:Vr}));for(const un of function*(fn,yn){let xn=!1;for(;!xn;){if(xn=!0,fn){const Dn=fn.next();Dn.done||(xn=!1,yield{walker:fn,value:Dn.value})}if(yn){const Dn=yn.next();Dn.done||(xn=!1,yield{walker:yn,value:Dn.value})}}}(Zr,tn)){const fn=un.walker==Zr?"elementEnd":"elementStart",yn=un.value;if(yn.type==fn&&this.isObject(yn.item))return Yi._createOn(yn.item);if(this.checkChild(yn.nextPosition,"$text"))return new Yi(yn.nextPosition)}return null}findAllowedParent(Vr,Wr){let Zr=Vr.parent;for(;Zr;){if(this.checkChild(Zr,Wr))return Zr;if(this.isLimit(Zr))return null;Zr=Zr.parent}return null}setAllowedAttributes(Vr,Wr,Zr){const tn=Zr.model;for(const[sn,un]of Object.entries(Wr))tn.schema.checkAttribute(Vr,sn)&&Zr.setAttribute(sn,un,Vr)}removeDisallowedAttributes(Vr,Wr){for(const Zr of Vr)if(Zr.is("$text"))Mv(this,Zr,Wr);else{const tn=Yi._createIn(Zr).getPositions();for(const sn of tn)Mv(this,sn.nodeBefore||sn.parent,Wr)}}getAttributesWithProperty(Vr,Wr,Zr){const tn={};for(const[sn,un]of Vr.getAttributes()){const fn=this.getAttributeProperties(sn);fn[Wr]!==void 0&&(Zr!==void 0&&Zr!==fn[Wr]||(tn[sn]=un))}return tn}createContext(Vr){return new hh(Vr)}_clearCache(){this._compiledDefinitions=null}_compile(){const Vr={},Wr=this._sourceDefinitions,Zr=Object.keys(Wr);for(const tn of Zr)Vr[tn]=H1(Wr[tn],tn);for(const tn of Zr)V1(Vr,tn);for(const tn of Zr)j1(Vr,tn);for(const tn of Zr)U1(Vr,tn);for(const tn of Zr)G1(Vr,tn),W1(Vr,tn);for(const tn of Zr)Y1(Vr,tn),q1(Vr,tn),K1(Vr,tn);this._compiledDefinitions=Vr}_checkContextMatch(Vr,Wr,Zr=Wr.length-1){const tn=Wr.getItem(Zr);if(Vr.allowIn.includes(tn.name)){if(Zr==0)return!0;{const sn=this.getDefinition(tn);return this._checkContextMatch(sn,Wr,Zr-1)}}return!1}*_getValidRangesForRange(Vr,Wr){let Zr=Vr.start,tn=Vr.start;for(const sn of Vr.getItems({shallow:!0}))sn.is("element")&&(yield*this._getValidRangesForRange(Yi._createIn(sn),Wr)),this.checkAttribute(sn,Wr)||(Zr.isEqual(tn)||(yield new Yi(Zr,tn)),Zr=po._createAfter(sn)),tn=po._createAfter(sn);Zr.isEqual(tn)||(yield new Yi(Zr,tn))}}class hh{constructor(Vr){if(Vr instanceof hh)return Vr;let Wr;Wr=typeof Vr=="string"?[Vr]:Array.isArray(Vr)?Vr:Vr.getAncestors({includeSelf:!0}),this._items=Wr.map(X1)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(Vr){const Wr=new hh([Vr]);return Wr._items=[...this._items,...Wr._items],Wr}getItem(Vr){return this._items[Vr]}*getNames(){yield*this._items.map(Vr=>Vr.name)}endsWith(Vr){return Array.from(this.getNames()).join(" ").endsWith(Vr)}startsWith(Vr){return Array.from(this.getNames()).join(" ").startsWith(Vr)}}function H1(en,Vr){const Wr={name:Vr,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(Zr,tn){for(const sn of Zr){const un=Object.keys(sn).filter(fn=>fn.startsWith("is"));for(const fn of un)tn[fn]=!!sn[fn]}}(en,Wr),fh(en,Wr,"allowIn"),fh(en,Wr,"allowContentOf"),fh(en,Wr,"allowWhere"),fh(en,Wr,"allowAttributes"),fh(en,Wr,"allowAttributesOf"),fh(en,Wr,"allowChildren"),fh(en,Wr,"inheritTypesFrom"),function(Zr,tn){for(const sn of Zr){const un=sn.inheritAllFrom;un&&(tn.allowContentOf.push(un),tn.allowWhere.push(un),tn.allowAttributesOf.push(un),tn.inheritTypesFrom.push(un))}}(en,Wr),Wr}function V1(en,Vr){const Wr=en[Vr];for(const Zr of Wr.allowChildren){const tn=en[Zr];tn&&tn.allowIn.push(Vr)}Wr.allowChildren.length=0}function j1(en,Vr){for(const Wr of en[Vr].allowContentOf)en[Wr]&&Z1(en,Wr).forEach(Zr=>{Zr.allowIn.push(Vr)});delete en[Vr].allowContentOf}function U1(en,Vr){for(const Wr of en[Vr].allowWhere){const Zr=en[Wr];if(Zr){const tn=Zr.allowIn;en[Vr].allowIn.push(...tn)}}delete en[Vr].allowWhere}function G1(en,Vr){for(const Wr of en[Vr].allowAttributesOf){const Zr=en[Wr];if(Zr){const tn=Zr.allowAttributes;en[Vr].allowAttributes.push(...tn)}}delete en[Vr].allowAttributesOf}function W1(en,Vr){const Wr=en[Vr];for(const Zr of Wr.inheritTypesFrom){const tn=en[Zr];if(tn){const sn=Object.keys(tn).filter(un=>un.startsWith("is"));for(const un of sn)un in Wr||(Wr[un]=tn[un])}}delete Wr.inheritTypesFrom}function Y1(en,Vr){const Wr=en[Vr],Zr=Wr.allowIn.filter(tn=>en[tn]);Wr.allowIn=Array.from(new Set(Zr))}function q1(en,Vr){const Wr=en[Vr];for(const Zr of Wr.allowIn)en[Zr].allowChildren.push(Vr)}function K1(en,Vr){const Wr=en[Vr];Wr.allowAttributes=Array.from(new Set(Wr.allowAttributes))}function fh(en,Vr,Wr){for(const Zr of en){const tn=Zr[Wr];typeof tn=="string"?Vr[Wr].push(tn):Array.isArray(tn)&&Vr[Wr].push(...tn)}}function Z1(en,Vr){const Wr=en[Vr];return(Zr=en,Object.keys(Zr).map(tn=>Zr[tn])).filter(tn=>tn.allowIn.includes(Wr.name));var Zr}function X1(en){return typeof en=="string"||en.is("documentFragment")?{name:typeof en=="string"?en:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:en.is("element")?en.name:"$text",*getAttributeKeys(){yield*en.getAttributeKeys()},getAttribute:Vr=>en.getAttribute(Vr)}}function Mv(en,Vr,Wr){for(const Zr of Vr.getAttributeKeys())en.checkAttribute(Vr,Zr)||Wr.removeAttribute(Zr,Vr)}var Q1=Object.defineProperty,J1=Object.defineProperties,ek=Object.getOwnPropertyDescriptors,Iv=Object.getOwnPropertySymbols,tk=Object.prototype.hasOwnProperty,rk=Object.prototype.propertyIsEnumerable,Lv=(en,Vr,Wr)=>Vr in en?Q1(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr;class nk extends Ci(){constructor(Vr){var Wr;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(Wr=((Zr,tn)=>{for(var sn in tn||(tn={}))tk.call(tn,sn)&&Lv(Zr,sn,tn[sn]);if(Iv)for(var sn of Iv(tn))rk.call(tn,sn)&&Lv(Zr,sn,tn[sn]);return Zr})({},Vr),J1(Wr,ek({consumable:null,writer:null,store:null,convertItem:(Zr,tn)=>this._convertItem(Zr,tn),convertChildren:(Zr,tn)=>this._convertChildren(Zr,tn),safeInsert:(Zr,tn)=>this._safeInsert(Zr,tn),updateConversionResult:(Zr,tn)=>this._updateConversionResult(Zr,tn),splitToAllowedParent:(Zr,tn)=>this._splitToAllowedParent(Zr,tn),getSplitParts:Zr=>this._getSplitParts(Zr),keepEmptyElement:Zr=>this._keepEmptyElement(Zr)})))}convert(Vr,Wr,Zr=["$root"]){this.fire("viewCleanup",Vr),this._modelCursor=function(un,fn){let yn;for(const xn of new hh(un)){const Dn={};for(const Rn of xn.getAttributeKeys())Dn[Rn]=xn.getAttribute(Rn);const Mn=fn.createElement(xn.name,Dn);yn&&fn.insert(Mn,yn),yn=po._createAt(Mn,0)}return yn}(Zr,Wr),this.conversionApi.writer=Wr,this.conversionApi.consumable=qf.createFrom(Vr),this.conversionApi.store={};const{modelRange:tn}=this._convertItem(Vr,this._modelCursor),sn=Wr.createDocumentFragment();if(tn){this._removeEmptyElements();for(const un of Array.from(this._modelCursor.parent.getChildren()))Wr.append(un,sn);sn.markers=function(un,fn){const yn=new Set,xn=new Map,Dn=Yi._createIn(un).getItems();for(const Mn of Dn)Mn.is("element","$marker")&&yn.add(Mn);for(const Mn of yn){const Rn=Mn.getAttribute("data-name"),Un=fn.createPositionBefore(Mn);xn.has(Rn)?xn.get(Rn).end=Un.clone():xn.set(Rn,new Yi(Un.clone())),fn.remove(Mn)}return xn}(sn,Wr)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,sn}_convertItem(Vr,Wr){const Zr={viewItem:Vr,modelCursor:Wr,modelRange:null};if(Vr.is("element")?this.fire(`element:${Vr.name}`,Zr,this.conversionApi):Vr.is("$text")?this.fire("text",Zr,this.conversionApi):this.fire("documentFragment",Zr,this.conversionApi),Zr.modelRange&&!(Zr.modelRange instanceof Yi))throw new Cn("view-conversion-dispatcher-incorrect-result",this);return{modelRange:Zr.modelRange,modelCursor:Zr.modelCursor}}_convertChildren(Vr,Wr){let Zr=Wr.is("position")?Wr:po._createAt(Wr,0);const tn=new Yi(Zr);for(const sn of Array.from(Vr.getChildren())){const un=this._convertItem(sn,Zr);un.modelRange instanceof Yi&&(tn.end=un.modelRange.end,Zr=un.modelCursor)}return{modelRange:tn,modelCursor:Zr}}_safeInsert(Vr,Wr){const Zr=this._splitToAllowedParent(Vr,Wr);return!!Zr&&(this.conversionApi.writer.insert(Vr,Zr.position),!0)}_updateConversionResult(Vr,Wr){const Zr=this._getSplitParts(Vr),tn=this.conversionApi.writer;Wr.modelRange||(Wr.modelRange=tn.createRange(tn.createPositionBefore(Vr),tn.createPositionAfter(Zr[Zr.length-1])));const sn=this._cursorParents.get(Vr);Wr.modelCursor=sn?tn.createPositionAt(sn,0):Wr.modelRange.end}_splitToAllowedParent(Vr,Wr){const{schema:Zr,writer:tn}=this.conversionApi;let sn=Zr.findAllowedParent(Wr,Vr);if(sn){if(sn===Wr.parent)return{position:Wr};this._modelCursor.parent.getAncestors().includes(sn)&&(sn=null)}if(!sn)return bv(Wr,Vr,Zr)?{position:_v(Wr,tn)}:null;const un=this.conversionApi.writer.split(Wr,sn),fn=[];for(const xn of un.range.getWalker())if(xn.type=="elementEnd")fn.push(xn.item);else{const Dn=fn.pop(),Mn=xn.item;this._registerSplitPair(Dn,Mn)}const yn=un.range.end.parent;return this._cursorParents.set(Vr,yn),{position:un.position,cursorParent:yn}}_registerSplitPair(Vr,Wr){this._splitParts.has(Vr)||this._splitParts.set(Vr,[Vr]);const Zr=this._splitParts.get(Vr);this._splitParts.set(Wr,Zr),Zr.push(Wr)}_getSplitParts(Vr){let Wr;return Wr=this._splitParts.has(Vr)?this._splitParts.get(Vr):[Vr],Wr}_keepEmptyElement(Vr){this._emptyElementsToKeep.add(Vr)}_removeEmptyElements(){let Vr=!1;for(const Wr of this._splitParts.keys())Wr.isEmpty&&!this._emptyElementsToKeep.has(Wr)&&(this.conversionApi.writer.remove(Wr),this._splitParts.delete(Wr),Vr=!0);Vr&&this._removeEmptyElements()}}class ik{getHtml(Vr){const Wr=document.implementation.createHTMLDocument("").createElement("div");return Wr.appendChild(Vr),Wr.innerHTML}}class ok{constructor(Vr){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new ao(Vr,{renderingMode:"data"}),this.htmlWriter=new ik}toData(Vr){const Wr=this.domConverter.viewToDom(Vr);return this.htmlWriter.getHtml(Wr)}toView(Vr){const Wr=this._toDom(Vr);return this.domConverter.domToView(Wr,{skipComments:this.skipComments})}registerRawContentMatcher(Vr){this.domConverter.registerRawContentMatcher(Vr)}useFillerType(Vr){this.domConverter.blockFillerMode=Vr=="marked"?"markedNbsp":"nbsp"}_toDom(Vr){Vr.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(Vr=`<body>${Vr}</body>`);const Wr=this.domParser.parseFromString(Vr,"text/html"),Zr=Wr.createDocumentFragment(),tn=Wr.body.childNodes;for(;tn.length>0;)Zr.appendChild(tn[0]);return Zr}}class ak extends Ci(){constructor(Vr,Wr){super(),this.model=Vr,this.mapper=new tv,this.downcastDispatcher=new ov({mapper:this.mapper,schema:Vr.schema}),this.downcastDispatcher.on("insert:$text",(Zr,tn,sn)=>{if(!sn.consumable.consume(tn.item,Zr.name))return;const un=sn.writer,fn=sn.mapper.toViewPosition(tn.range.start),yn=un.createText(tn.item.data);un.insert(fn,yn)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(Zr,tn,sn)=>{sn.convertAttributes(tn.item),tn.reconversion||!tn.item.is("element")||tn.item.isEmpty||sn.convertChildren(tn.item)},{priority:"lowest"}),this.upcastDispatcher=new nk({schema:Vr.schema}),this.viewDocument=new Nh(Wr),this.stylesProcessor=Wr,this.htmlProcessor=new ok(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new zf(this.viewDocument),this.upcastDispatcher.on("text",(Zr,tn,{schema:sn,consumable:un,writer:fn})=>{let yn=tn.modelCursor;if(!un.test(tn.viewItem))return;if(!sn.checkChild(yn,"$text")){if(!bv(yn,"$text",sn)||tn.viewItem.data.trim().length==0)return;const Dn=yn.nodeBefore;yn=_v(yn,fn),Dn&&Dn.is("element","$marker")&&(fn.move(fn.createRangeOn(Dn),yn),yn=fn.createPositionAfter(Dn))}un.consume(tn.viewItem);const xn=fn.createText(tn.viewItem.data);fn.insert(xn,yn),tn.modelRange=fn.createRange(yn,yn.getShiftedBy(xn.offsetSize)),tn.modelCursor=tn.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(Zr,tn,sn)=>{if(!tn.modelRange&&sn.consumable.consume(tn.viewItem,{name:!0})){const{modelRange:un,modelCursor:fn}=sn.convertChildren(tn.viewItem,tn.modelCursor);tn.modelRange=un,tn.modelCursor=fn}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(Zr,tn,sn)=>{if(!tn.modelRange&&sn.consumable.consume(tn.viewItem,{name:!0})){const{modelRange:un,modelCursor:fn}=sn.convertChildren(tn.viewItem,tn.modelCursor);tn.modelRange=un,tn.modelCursor=fn}},{priority:"lowest"}),Ji().prototype.decorate.call(this,"init"),Ji().prototype.decorate.call(this,"set"),Ji().prototype.decorate.call(this,"get"),Ji().prototype.decorate.call(this,"toView"),Ji().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},yv)},{priority:"lowest"})}get(Vr={}){const{rootName:Wr="main",trim:Zr="empty"}=Vr;if(!this._checkIfRootsExists([Wr]))throw new Cn("datacontroller-get-non-existent-root",this);const tn=this.model.document.getRoot(Wr);return tn.isAttached()||En("datacontroller-get-detached-root",this),Zr!=="empty"||this.model.hasContent(tn,{ignoreWhitespaces:!0})?this.stringify(tn,Vr):""}stringify(Vr,Wr={}){const Zr=this.toView(Vr,Wr);return this.processor.toData(Zr)}toView(Vr,Wr={}){const Zr=this.viewDocument,tn=this._viewWriter;this.mapper.clearBindings();const sn=Yi._createIn(Vr),un=new Uu(Zr);this.mapper.bindElements(Vr,un);const fn=Vr.is("documentFragment")?Vr.markers:function(yn){const xn=[],Dn=yn.root.document;if(!Dn)return new Map;const Mn=Yi._createIn(yn);for(const Rn of Dn.model.markers){const Un=Rn.getRange(),Kn=Un.isCollapsed,ti=Un.start.isEqual(Mn.start)||Un.end.isEqual(Mn.end);if(Kn&&ti)xn.push([Rn.name,Un]);else{const si=Mn.getIntersection(Un);si&&xn.push([Rn.name,si])}}return xn.sort(([Rn,Un],[Kn,ti])=>{if(Un.end.compareWith(ti.start)!=="after")return 1;if(Un.start.compareWith(ti.end)!=="before")return-1;switch(Un.start.compareWith(ti.start)){case"before":return 1;case"after":return-1;default:switch(Un.end.compareWith(ti.end)){case"before":return 1;case"after":return-1;default:return Kn.localeCompare(Rn)}}}),new Map(xn)}(Vr);return this.downcastDispatcher.convert(sn,fn,tn,Wr),un}init(Vr){if(this.model.document.version)throw new Cn("datacontroller-init-document-not-empty",this);let Wr={};if(typeof Vr=="string"?Wr.main=Vr:Wr=Vr,!this._checkIfRootsExists(Object.keys(Wr)))throw new Cn("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},Zr=>{for(const tn of Object.keys(Wr)){const sn=this.model.document.getRoot(tn);Zr.insert(this.parse(Wr[tn],sn),sn,0)}}),Promise.resolve()}set(Vr,Wr={}){let Zr={};if(typeof Vr=="string"?Zr.main=Vr:Zr=Vr,!this._checkIfRootsExists(Object.keys(Zr)))throw new Cn("datacontroller-set-non-existent-root",this);this.model.enqueueChange(Wr.batchType||{},tn=>{tn.setSelection(null),tn.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const sn of Object.keys(Zr)){const un=this.model.document.getRoot(sn);tn.remove(tn.createRangeIn(un)),tn.insert(this.parse(Zr[sn],un),un,0)}})}parse(Vr,Wr="$root"){const Zr=this.processor.toView(Vr);return this.toModel(Zr,Wr)}toModel(Vr,Wr="$root"){return this.model.change(Zr=>this.upcastDispatcher.convert(Vr,Zr,Wr))}addStyleProcessorRules(Vr){Vr(this.stylesProcessor)}registerRawContentMatcher(Vr){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(Vr),this.htmlProcessor.registerRawContentMatcher(Vr)}destroy(){this.stopListening()}_checkIfRootsExists(Vr){for(const Wr of Vr)if(!this.model.document.getRoot(Wr))return!1;return!0}}class sk{constructor(Vr,Wr){this._helpers=new Map,this._downcast=Nl(Vr),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Nl(Wr),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(Vr,Wr){const Zr=this._downcast.includes(Wr);if(!this._upcast.includes(Wr)&&!Zr)throw new Cn("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:Vr,dispatchers:[Wr],isDowncast:Zr})}for(Vr){if(!this._helpers.has(Vr))throw new Cn("conversion-for-unknown-group",this);return this._helpers.get(Vr)}elementToElement(Vr){this.for("downcast").elementToElement(Vr);for(const{model:Wr,view:Zr}of Ng(Vr))this.for("upcast").elementToElement({model:Wr,view:Zr,converterPriority:Vr.converterPriority})}attributeToElement(Vr){this.for("downcast").attributeToElement(Vr);for(const{model:Wr,view:Zr}of Ng(Vr))this.for("upcast").elementToAttribute({view:Zr,model:Wr,converterPriority:Vr.converterPriority})}attributeToAttribute(Vr){this.for("downcast").attributeToAttribute(Vr);for(const{model:Wr,view:Zr}of Ng(Vr))this.for("upcast").attributeToAttribute({view:Zr,model:Wr})}_createConversionHelpers({name:Vr,dispatchers:Wr,isDowncast:Zr}){if(this._helpers.has(Vr))throw new Cn("conversion-group-exists",this);const tn=Zr?new E1(Wr):new $1(Wr);this._helpers.set(Vr,tn)}}function*Ng(en){if(en.model.values)for(const Vr of en.model.values){const Wr={key:en.model.key,value:Vr},Zr=en.view[Vr],tn=en.upcastAlso?en.upcastAlso[Vr]:void 0;yield*Pv(Wr,Zr,tn)}else yield*Pv(en.model,en.view,en.upcastAlso)}function*Pv(en,Vr,Wr){if(yield{model:en,view:Vr},Wr)for(const Zr of Nl(Wr))yield{model:en,view:Zr}}class Yc{constructor(Vr){this.baseVersion=Vr,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const Vr=Object.assign({},this);return Vr.__className=this.constructor.className,delete Vr.batch,delete Vr.isDocumentOperation,Vr}static get className(){return"Operation"}static fromJSON(Vr,Wr){return new this(Vr.baseVersion)}}function Bg(en,Vr){const Wr=Rv(Vr),Zr=Wr.reduce((un,fn)=>un+fn.offsetSize,0),tn=en.parent;Xf(en);const sn=en.index;return tn._insertChild(sn,Wr),Zf(tn,sn+Wr.length),Zf(tn,sn),new Yi(en,en.getShiftedBy(Zr))}function Ov(en){if(!en.isFlat)throw new Cn("operation-utils-remove-range-not-flat",this);const Vr=en.start.parent;Xf(en.start),Xf(en.end);const Wr=Vr._removeChildren(en.start.index,en.end.index-en.start.index);return Zf(Vr,en.start.index),Wr}function Kf(en,Vr){if(!en.isFlat)throw new Cn("operation-utils-move-range-not-flat",this);const Wr=Ov(en);return Bg(Vr=Vr._getTransformedByDeletion(en.start,en.end.offset-en.start.offset),Wr)}function Rv(en){const Vr=[];(function Wr(Zr){if(typeof Zr=="string")Vr.push(new Gs(Zr));else if(Zr instanceof Su)Vr.push(new Gs(Zr.data,Zr.getAttributes()));else if(Zr instanceof uh)Vr.push(Zr);else if(Ei(Zr))for(const tn of Zr)Wr(tn)})(en);for(let Wr=1;Wr<Vr.length;Wr++){const Zr=Vr[Wr],tn=Vr[Wr-1];Zr instanceof Gs&&tn instanceof Gs&&$v(Zr,tn)&&(Vr.splice(Wr-1,2,new Gs(tn.data+Zr.data,tn.getAttributes())),Wr--)}return Vr}function Zf(en,Vr){const Wr=en.getChild(Vr-1),Zr=en.getChild(Vr);if(Wr&&Zr&&Wr.is("$text")&&Zr.is("$text")&&$v(Wr,Zr)){const tn=new Gs(Wr.data+Zr.data,Wr.getAttributes());en._removeChildren(Vr-1,2),en._insertChild(Vr-1,tn)}}function Xf(en){const Vr=en.textNode,Wr=en.parent;if(Vr){const Zr=en.offset-Vr.startOffset,tn=Vr.index;Wr._removeChildren(tn,1);const sn=new Gs(Vr.data.substr(0,Zr),Vr.getAttributes()),un=new Gs(Vr.data.substr(Zr),Vr.getAttributes());Wr._insertChild(tn,[sn,un])}}function $v(en,Vr){const Wr=en.getAttributes(),Zr=Vr.getAttributes();for(const tn of Wr){if(tn[1]!==Vr.getAttribute(tn[0]))return!1;Zr.next()}return Zr.next().done}class Ts extends Yc{constructor(Vr,Wr,Zr,tn){super(tn),this.sourcePosition=Vr.clone(),this.sourcePosition.stickiness="toNext",this.howMany=Wr,this.targetPosition=Zr.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Yi._createFromPositionAndShift(this.sourcePosition,this.howMany),Yi._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Ts(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const Vr=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Ts(this.getMovedRangeStart(),this.howMany,Vr,this.baseVersion+1)}_validate(){const Vr=this.sourcePosition.parent,Wr=this.targetPosition.parent,Zr=this.sourcePosition.offset,tn=this.targetPosition.offset;if(Zr+this.howMany>Vr.maxOffset)throw new Cn("move-operation-nodes-do-not-exist",this);if(Vr===Wr&&Zr<tn&&tn<Zr+this.howMany)throw new Cn("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Aa(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const sn=this.sourcePosition.path.length-1;if(this.targetPosition.path[sn]>=Zr&&this.targetPosition.path[sn]<Zr+this.howMany)throw new Cn("move-operation-node-into-itself",this)}}_execute(){Kf(Yi._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const Vr=super.toJSON();return Vr.sourcePosition=this.sourcePosition.toJSON(),Vr.targetPosition=this.targetPosition.toJSON(),Vr}static get className(){return"MoveOperation"}static fromJSON(Vr,Wr){const Zr=po.fromJSON(Vr.sourcePosition,Wr),tn=po.fromJSON(Vr.targetPosition,Wr);return new this(Zr,Vr.howMany,tn,Vr.baseVersion)}}class ec extends Yc{constructor(Vr,Wr,Zr){super(Zr),this.position=Vr.clone(),this.position.stickiness="toNone",this.nodes=new Gf(Rv(Wr)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const Vr=new Gf([...this.nodes].map(Zr=>Zr._clone(!0))),Wr=new ec(this.position,Vr,this.baseVersion);return Wr.shouldReceiveAttributes=this.shouldReceiveAttributes,Wr}getReversed(){const Vr=this.position.root.document.graveyard,Wr=new po(Vr,[0]);return new Ts(this.position,this.nodes.maxOffset,Wr,this.baseVersion+1)}_validate(){const Vr=this.position.parent;if(!Vr||Vr.maxOffset<this.position.offset)throw new Cn("insert-operation-position-invalid",this)}_execute(){const Vr=this.nodes;this.nodes=new Gf([...Vr].map(Wr=>Wr._clone(!0))),Bg(this.position,Vr)}toJSON(){const Vr=super.toJSON();return Vr.position=this.position.toJSON(),Vr.nodes=this.nodes.toJSON(),Vr}static get className(){return"InsertOperation"}static fromJSON(Vr,Wr){const Zr=[];for(const sn of Vr.nodes)sn.name?Zr.push(Rs.fromJSON(sn)):Zr.push(Gs.fromJSON(sn));const tn=new ec(po.fromJSON(Vr.position,Wr),Zr,Vr.baseVersion);return tn.shouldReceiveAttributes=Vr.shouldReceiveAttributes,tn}}class Ws extends Yc{constructor(Vr,Wr,Zr,tn,sn){super(sn),this.splitPosition=Vr.clone(),this.splitPosition.stickiness="toNext",this.howMany=Wr,this.insertionPosition=Zr,this.graveyardPosition=tn?tn.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const Vr=this.insertionPosition.path.slice();return Vr.push(0),new po(this.insertionPosition.root,Vr)}get movedRange(){const Vr=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Yi(this.splitPosition,Vr)}get affectedSelectable(){const Vr=[Yi._createFromPositionAndShift(this.splitPosition,0),Yi._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&Vr.push(Yi._createFromPositionAndShift(this.graveyardPosition,0)),Vr}clone(){return new Ws(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const Vr=this.splitPosition.root.document.graveyard,Wr=new po(Vr,[0]);return new kl(this.moveTargetPosition,this.howMany,this.splitPosition,Wr,this.baseVersion+1)}_validate(){const Vr=this.splitPosition.parent,Wr=this.splitPosition.offset;if(!Vr||Vr.maxOffset<Wr)throw new Cn("split-operation-position-invalid",this);if(!Vr.parent)throw new Cn("split-operation-split-in-root",this);if(this.howMany!=Vr.maxOffset-this.splitPosition.offset)throw new Cn("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Cn("split-operation-graveyard-position-invalid",this)}_execute(){const Vr=this.splitPosition.parent;if(this.graveyardPosition)Kf(Yi._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const Wr=Vr._clone();Bg(this.insertionPosition,Wr)}Kf(new Yi(po._createAt(Vr,this.splitPosition.offset),po._createAt(Vr,Vr.maxOffset)),this.moveTargetPosition)}toJSON(){const Vr=super.toJSON();return Vr.splitPosition=this.splitPosition.toJSON(),Vr.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(Vr.graveyardPosition=this.graveyardPosition.toJSON()),Vr}static get className(){return"SplitOperation"}static getInsertionPosition(Vr){const Wr=Vr.path.slice(0,-1);return Wr[Wr.length-1]++,new po(Vr.root,Wr,"toPrevious")}static fromJSON(Vr,Wr){const Zr=po.fromJSON(Vr.splitPosition,Wr),tn=po.fromJSON(Vr.insertionPosition,Wr),sn=Vr.graveyardPosition?po.fromJSON(Vr.graveyardPosition,Wr):null;return new this(Zr,Vr.howMany,tn,sn,Vr.baseVersion)}}class kl extends Yc{constructor(Vr,Wr,Zr,tn,sn){super(sn),this.sourcePosition=Vr.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=Wr,this.targetPosition=Zr.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=tn.clone()}get type(){return"merge"}get deletionPosition(){return new po(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const Vr=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Yi(this.sourcePosition,Vr)}get affectedSelectable(){const Vr=this.sourcePosition.parent;return[Yi._createOn(Vr),Yi._createFromPositionAndShift(this.targetPosition,0),Yi._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new kl(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const Vr=this.targetPosition._getTransformedByMergeOperation(this),Wr=this.sourcePosition.path.slice(0,-1),Zr=new po(this.sourcePosition.root,Wr)._getTransformedByMergeOperation(this);return new Ws(Vr,this.howMany,Zr,this.graveyardPosition,this.baseVersion+1)}_validate(){const Vr=this.sourcePosition.parent,Wr=this.targetPosition.parent;if(!Vr.parent)throw new Cn("merge-operation-source-position-invalid",this);if(!Wr.parent)throw new Cn("merge-operation-target-position-invalid",this);if(this.howMany!=Vr.maxOffset)throw new Cn("merge-operation-how-many-invalid",this)}_execute(){const Vr=this.sourcePosition.parent;Kf(Yi._createIn(Vr),this.targetPosition),Kf(Yi._createOn(Vr),this.graveyardPosition)}toJSON(){const Vr=super.toJSON();return Vr.sourcePosition=Vr.sourcePosition.toJSON(),Vr.targetPosition=Vr.targetPosition.toJSON(),Vr.graveyardPosition=Vr.graveyardPosition.toJSON(),Vr}static get className(){return"MergeOperation"}static fromJSON(Vr,Wr){const Zr=po.fromJSON(Vr.sourcePosition,Wr),tn=po.fromJSON(Vr.targetPosition,Wr),sn=po.fromJSON(Vr.graveyardPosition,Wr);return new this(Zr,Vr.howMany,tn,sn,Vr.baseVersion)}}class Lc extends Yc{constructor(Vr,Wr,Zr,tn,sn,un){super(un),this.name=Vr,this.oldRange=Wr?Wr.clone():null,this.newRange=Zr?Zr.clone():null,this.affectsData=sn,this._markers=tn}get type(){return"marker"}get affectedSelectable(){const Vr=[];return this.oldRange&&Vr.push(this.oldRange.clone()),this.newRange&&(this.oldRange?Vr.push(...this.newRange.getDifference(this.oldRange)):Vr.push(this.newRange.clone())),Vr}clone(){return new Lc(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Lc(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const Vr=super.toJSON();return this.oldRange&&(Vr.oldRange=this.oldRange.toJSON()),this.newRange&&(Vr.newRange=this.newRange.toJSON()),delete Vr._markers,Vr}static get className(){return"MarkerOperation"}static fromJSON(Vr,Wr){return new Lc(Vr.name,Vr.oldRange?Yi.fromJSON(Vr.oldRange,Wr):null,Vr.newRange?Yi.fromJSON(Vr.newRange,Wr):null,Wr.model.markers,Vr.affectsData,Vr.baseVersion)}}const Nv=function(en,Vr){return qm(en,Vr)};class Ml extends Yc{constructor(Vr,Wr,Zr,tn,sn){super(sn),this.range=Vr.clone(),this.key=Wr,this.oldValue=Zr===void 0?null:Zr,this.newValue=tn===void 0?null:tn}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Ml(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ml(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const Vr=super.toJSON();return Vr.range=this.range.toJSON(),Vr}_validate(){if(!this.range.isFlat)throw new Cn("attribute-operation-range-not-flat",this);for(const Vr of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Nv(Vr.getAttribute(this.key),this.oldValue))throw new Cn("attribute-operation-wrong-old-value",this,{item:Vr,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&Vr.hasAttribute(this.key))throw new Cn("attribute-operation-attribute-exists",this,{node:Vr,key:this.key})}}_execute(){Nv(this.oldValue,this.newValue)||function(Vr,Wr,Zr){Xf(Vr.start),Xf(Vr.end);for(const tn of Vr.getItems({shallow:!0})){const sn=tn.is("$textProxy")?tn.textNode:tn;Zr!==null?sn._setAttribute(Wr,Zr):sn._removeAttribute(Wr),Zf(sn.parent,sn.index)}Zf(Vr.end.parent,Vr.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(Vr,Wr){return new Ml(Yi.fromJSON(Vr.range,Wr),Vr.key,Vr.oldValue,Vr.newValue,Vr.baseVersion)}}class Hl extends Yc{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Hl(this.baseVersion)}getReversed(){return new Hl(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Pc extends Yc{constructor(Vr,Wr,Zr,tn){super(tn),this.position=Vr,this.position.stickiness="toNext",this.oldName=Wr,this.newName=Zr}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Pc(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Pc(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const Vr=this.position.nodeAfter;if(!(Vr instanceof Rs))throw new Cn("rename-operation-wrong-position",this);if(Vr.name!==this.oldName)throw new Cn("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const Vr=super.toJSON();return Vr.position=this.position.toJSON(),Vr}static get className(){return"RenameOperation"}static fromJSON(Vr,Wr){return new Pc(po.fromJSON(Vr.position,Wr),Vr.oldName,Vr.newName,Vr.baseVersion)}}class gd extends Yc{constructor(Vr,Wr,Zr,tn,sn){super(sn),this.root=Vr,this.key=Wr,this.oldValue=Zr===void 0?null:Zr,this.newValue=tn===void 0?null:tn}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new gd(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new gd(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Cn("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new Cn("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new Cn("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const Vr=super.toJSON();return Vr.root=this.root.toJSON(),Vr}static get className(){return"RootAttributeOperation"}static fromJSON(Vr,Wr){if(!Wr.getRoot(Vr.root))throw new Cn("rootattribute-operation-fromjson-no-root",this,{rootName:Vr.root});return new gd(Wr.getRoot(Vr.root),Vr.key,Vr.oldValue,Vr.newValue,Vr.baseVersion)}}class Ku extends Yc{constructor(Vr,Wr,Zr,tn,sn){super(sn),this.rootName=Vr,this.elementName=Wr,this.isAdd=Zr,this._document=tn,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ku(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ku(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const Vr=this._document.getRoot(this.rootName);if(Vr.isAttached()&&this.isAdd)throw new Cn("root-operation-root-attached",this);if(!Vr.isAttached()&&!this.isAdd)throw new Cn("root-operation-root-detached",this)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const Vr=super.toJSON();return delete Vr._document,Vr}static get className(){return"RootOperation"}static fromJSON(Vr,Wr){return new Ku(Vr.rootName,Vr.elementName,Vr.isAdd,Wr,Vr.baseVersion)}}const du={};du[Ml.className]=Ml,du[ec.className]=ec,du[Lc.className]=Lc,du[Ts.className]=Ts,du[Hl.className]=Hl,du[Yc.className]=Yc,du[Pc.className]=Pc,du[gd.className]=gd,du[Ku.className]=Ku,du[Ws.className]=Ws,du[kl.className]=kl;class lk{static fromJSON(Vr,Wr){return du[Vr.__className].fromJSON(Vr,Wr)}}const Fg=new Map;function bs(en,Vr,Wr){let Zr=Fg.get(en);Zr||(Zr=new Map,Fg.set(en,Zr)),Zr.set(Vr,Wr)}function ck(en){return[en]}function Bv(en,Vr,Wr={}){const Zr=function(tn,sn){const un=Fg.get(tn);return un&&un.has(sn)?un.get(sn):ck}(en.constructor,Vr.constructor);try{return Zr(en=en.clone(),Vr,Wr)}catch(tn){throw tn}}function uk(en,Vr,Wr){en=en.slice(),Vr=Vr.slice();const Zr=new dk(Wr.document,Wr.useRelations,Wr.forceWeakRemove);Zr.setOriginalOperations(en),Zr.setOriginalOperations(Vr);const tn=Zr.originalOperations;if(en.length==0||Vr.length==0)return{operationsA:en,operationsB:Vr,originalOperations:tn};const sn=new WeakMap;for(const yn of en)sn.set(yn,0);const un={nextBaseVersionA:en[en.length-1].baseVersion+1,nextBaseVersionB:Vr[Vr.length-1].baseVersion+1,originalOperationsACount:en.length,originalOperationsBCount:Vr.length};let fn=0;for(;fn<en.length;){const yn=en[fn],xn=sn.get(yn);if(xn==Vr.length){fn++;continue}const Dn=Vr[xn],Mn=Bv(yn,Dn,Zr.getContext(yn,Dn,!0)),Rn=Bv(Dn,yn,Zr.getContext(Dn,yn,!1));Zr.updateRelation(yn,Dn),Zr.setOriginalOperations(Mn,yn),Zr.setOriginalOperations(Rn,Dn);for(const Un of Mn)sn.set(Un,xn+Rn.length);en.splice(fn,1,...Mn),Vr.splice(xn,1,...Rn)}if(Wr.padWithNoOps){const yn=en.length-un.originalOperationsACount,xn=Vr.length-un.originalOperationsBCount;zv(en,xn-yn),zv(Vr,yn-xn)}return Fv(en,un.nextBaseVersionB),Fv(Vr,un.nextBaseVersionA),{operationsA:en,operationsB:Vr,originalOperations:tn}}class dk{constructor(Vr,Wr,Zr=!1){this.originalOperations=new Map,this._history=Vr.history,this._useRelations=Wr,this._forceWeakRemove=!!Zr,this._relations=new Map}setOriginalOperations(Vr,Wr=null){const Zr=Wr?this.originalOperations.get(Wr):null;for(const tn of Vr)this.originalOperations.set(tn,Zr||tn)}updateRelation(Vr,Wr){if(Vr instanceof Ts)Wr instanceof kl?Vr.targetPosition.isEqual(Wr.sourcePosition)||Wr.movedRange.containsPosition(Vr.targetPosition)?this._setRelation(Vr,Wr,"insertAtSource"):Vr.targetPosition.isEqual(Wr.deletionPosition)?this._setRelation(Vr,Wr,"insertBetween"):Vr.targetPosition.isAfter(Wr.sourcePosition)&&this._setRelation(Vr,Wr,"moveTargetAfter"):Wr instanceof Ts&&(Vr.targetPosition.isEqual(Wr.sourcePosition)||Vr.targetPosition.isBefore(Wr.sourcePosition)?this._setRelation(Vr,Wr,"insertBefore"):this._setRelation(Vr,Wr,"insertAfter"));else if(Vr instanceof Ws){if(Wr instanceof kl)Vr.splitPosition.isBefore(Wr.sourcePosition)&&this._setRelation(Vr,Wr,"splitBefore");else if(Wr instanceof Ts)if(Vr.splitPosition.isEqual(Wr.sourcePosition)||Vr.splitPosition.isBefore(Wr.sourcePosition))this._setRelation(Vr,Wr,"splitBefore");else{const Zr=Yi._createFromPositionAndShift(Wr.sourcePosition,Wr.howMany);if(Vr.splitPosition.hasSameParentAs(Wr.sourcePosition)&&Zr.containsPosition(Vr.splitPosition)){const tn=Zr.end.offset-Vr.splitPosition.offset,sn=Vr.splitPosition.offset-Zr.start.offset;this._setRelation(Vr,Wr,{howMany:tn,offset:sn})}}}else if(Vr instanceof kl)Wr instanceof kl?(Vr.targetPosition.isEqual(Wr.sourcePosition)||this._setRelation(Vr,Wr,"mergeTargetNotMoved"),Vr.sourcePosition.isEqual(Wr.targetPosition)&&this._setRelation(Vr,Wr,"mergeSourceNotMoved"),Vr.sourcePosition.isEqual(Wr.sourcePosition)&&this._setRelation(Vr,Wr,"mergeSameElement")):Wr instanceof Ws&&Vr.sourcePosition.isEqual(Wr.splitPosition)&&this._setRelation(Vr,Wr,"splitAtSource");else if(Vr instanceof Lc){const Zr=Vr.newRange;if(!Zr)return;if(Wr instanceof Ts){const tn=Yi._createFromPositionAndShift(Wr.sourcePosition,Wr.howMany),sn=tn.containsPosition(Zr.start)||tn.start.isEqual(Zr.start),un=tn.containsPosition(Zr.end)||tn.end.isEqual(Zr.end);!sn&&!un||tn.containsRange(Zr)||this._setRelation(Vr,Wr,{side:sn?"left":"right",path:sn?Zr.start.path.slice():Zr.end.path.slice()})}else if(Wr instanceof kl){const tn=Zr.start.isEqual(Wr.targetPosition),sn=Zr.start.isEqual(Wr.deletionPosition),un=Zr.end.isEqual(Wr.deletionPosition),fn=Zr.end.isEqual(Wr.sourcePosition);(tn||sn||un||fn)&&this._setRelation(Vr,Wr,{wasInLeftElement:tn,wasStartBeforeMergedElement:sn,wasEndBeforeMergedElement:un,wasInRightElement:fn})}}}getContext(Vr,Wr,Zr){return{aIsStrong:Zr,aWasUndone:this._wasUndone(Vr),bWasUndone:this._wasUndone(Wr),abRelation:this._useRelations?this._getRelation(Vr,Wr):null,baRelation:this._useRelations?this._getRelation(Wr,Vr):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(Vr){const Wr=this.originalOperations.get(Vr);return Wr.wasUndone||this._history.isUndoneOperation(Wr)}_getRelation(Vr,Wr){const Zr=this.originalOperations.get(Wr),tn=this._history.getUndoneOperation(Zr);if(!tn)return null;const sn=this.originalOperations.get(Vr),un=this._relations.get(sn);return un&&un.get(tn)||null}_setRelation(Vr,Wr,Zr){const tn=this.originalOperations.get(Vr),sn=this.originalOperations.get(Wr);let un=this._relations.get(tn);un||(un=new Map,this._relations.set(tn,un)),un.set(sn,Zr)}}function Fv(en,Vr){for(const Wr of en)Wr.baseVersion=Vr++}function zv(en,Vr){for(let Wr=0;Wr<Vr;Wr++)en.push(new Hl(0))}function Hv(en,Vr,Wr){const Zr=en.nodes.getNode(0).getAttribute(Vr);if(Zr==Wr)return null;const tn=new Yi(en.position,en.position.getShiftedBy(en.howMany));return new Ml(tn,Vr,Zr,Wr,0)}function Vv(en,Vr){return en.targetPosition._getTransformedByDeletion(Vr.sourcePosition,Vr.howMany)===null}function Hh(en,Vr){const Wr=[];for(let Zr=0;Zr<en.length;Zr++){const tn=en[Zr],sn=new Ts(tn.start,tn.end.offset-tn.start.offset,Vr,0);Wr.push(sn);for(let un=Zr+1;un<en.length;un++)en[un]=en[un]._getTransformedByMove(sn.sourcePosition,sn.targetPosition,sn.howMany)[0];Vr=Vr._getTransformedByMove(sn.sourcePosition,sn.targetPosition,sn.howMany)}return Wr}bs(Ml,Ml,(en,Vr,Wr)=>{if(en.key===Vr.key&&en.range.start.hasSameParentAs(Vr.range.start)){const Zr=en.range.getDifference(Vr.range).map(sn=>new Ml(sn,en.key,en.oldValue,en.newValue,0)),tn=en.range.getIntersection(Vr.range);return tn&&Wr.aIsStrong&&Zr.push(new Ml(tn,Vr.key,Vr.newValue,en.newValue,0)),Zr.length==0?[new Hl(0)]:Zr}return[en]}),bs(Ml,ec,(en,Vr)=>{if(en.range.start.hasSameParentAs(Vr.position)&&en.range.containsPosition(Vr.position)){const Wr=en.range._getTransformedByInsertion(Vr.position,Vr.howMany,!Vr.shouldReceiveAttributes).map(Zr=>new Ml(Zr,en.key,en.oldValue,en.newValue,en.baseVersion));if(Vr.shouldReceiveAttributes){const Zr=Hv(Vr,en.key,en.oldValue);Zr&&Wr.unshift(Zr)}return Wr}return en.range=en.range._getTransformedByInsertion(Vr.position,Vr.howMany,!1)[0],[en]}),bs(Ml,kl,(en,Vr)=>{const Wr=[];en.range.start.hasSameParentAs(Vr.deletionPosition)&&(en.range.containsPosition(Vr.deletionPosition)||en.range.start.isEqual(Vr.deletionPosition))&&Wr.push(Yi._createFromPositionAndShift(Vr.graveyardPosition,1));const Zr=en.range._getTransformedByMergeOperation(Vr);return Zr.isCollapsed||Wr.push(Zr),Wr.map(tn=>new Ml(tn,en.key,en.oldValue,en.newValue,en.baseVersion))}),bs(Ml,Ts,(en,Vr)=>function(Zr,tn){const sn=Yi._createFromPositionAndShift(tn.sourcePosition,tn.howMany);let un=null,fn=[];sn.containsRange(Zr,!0)?un=Zr:Zr.start.hasSameParentAs(sn.start)?(fn=Zr.getDifference(sn),un=Zr.getIntersection(sn)):fn=[Zr];const yn=[];for(let xn of fn){xn=xn._getTransformedByDeletion(tn.sourcePosition,tn.howMany);const Dn=tn.getMovedRangeStart(),Mn=xn.start.hasSameParentAs(Dn),Rn=xn._getTransformedByInsertion(Dn,tn.howMany,Mn);yn.push(...Rn)}return un&&yn.push(un._getTransformedByMove(tn.sourcePosition,tn.targetPosition,tn.howMany,!1)[0]),yn}(en.range,Vr).map(Zr=>new Ml(Zr,en.key,en.oldValue,en.newValue,en.baseVersion))),bs(Ml,Ws,(en,Vr)=>{if(en.range.end.isEqual(Vr.insertionPosition))return Vr.graveyardPosition||en.range.end.offset++,[en];if(en.range.start.hasSameParentAs(Vr.splitPosition)&&en.range.containsPosition(Vr.splitPosition)){const Wr=en.clone();return Wr.range=new Yi(Vr.moveTargetPosition.clone(),en.range.end._getCombined(Vr.splitPosition,Vr.moveTargetPosition)),en.range.end=Vr.splitPosition.clone(),en.range.end.stickiness="toPrevious",[en,Wr]}return en.range=en.range._getTransformedBySplitOperation(Vr),[en]}),bs(ec,Ml,(en,Vr)=>{const Wr=[en];if(en.shouldReceiveAttributes&&en.position.hasSameParentAs(Vr.range.start)&&Vr.range.containsPosition(en.position)){const Zr=Hv(en,Vr.key,Vr.newValue);Zr&&Wr.push(Zr)}return Wr}),bs(ec,ec,(en,Vr,Wr)=>(en.position.isEqual(Vr.position)&&Wr.aIsStrong||(en.position=en.position._getTransformedByInsertOperation(Vr)),[en])),bs(ec,Ts,(en,Vr)=>(en.position=en.position._getTransformedByMoveOperation(Vr),[en])),bs(ec,Ws,(en,Vr)=>(en.position=en.position._getTransformedBySplitOperation(Vr),[en])),bs(ec,kl,(en,Vr)=>(en.position=en.position._getTransformedByMergeOperation(Vr),[en])),bs(Lc,ec,(en,Vr)=>(en.oldRange&&(en.oldRange=en.oldRange._getTransformedByInsertOperation(Vr)[0]),en.newRange&&(en.newRange=en.newRange._getTransformedByInsertOperation(Vr)[0]),[en])),bs(Lc,Lc,(en,Vr,Wr)=>{if(en.name==Vr.name){if(!Wr.aIsStrong)return[new Hl(0)];en.oldRange=Vr.newRange?Vr.newRange.clone():null}return[en]}),bs(Lc,kl,(en,Vr)=>(en.oldRange&&(en.oldRange=en.oldRange._getTransformedByMergeOperation(Vr)),en.newRange&&(en.newRange=en.newRange._getTransformedByMergeOperation(Vr)),[en])),bs(Lc,Ts,(en,Vr,Wr)=>{if(en.oldRange&&(en.oldRange=Yi._createFromRanges(en.oldRange._getTransformedByMoveOperation(Vr))),en.newRange){if(Wr.abRelation){const Zr=Yi._createFromRanges(en.newRange._getTransformedByMoveOperation(Vr));if(Wr.abRelation.side=="left"&&Vr.targetPosition.isEqual(en.newRange.start))return en.newRange.end=Zr.end,en.newRange.start.path=Wr.abRelation.path,[en];if(Wr.abRelation.side=="right"&&Vr.targetPosition.isEqual(en.newRange.end))return en.newRange.start=Zr.start,en.newRange.end.path=Wr.abRelation.path,[en]}en.newRange=Yi._createFromRanges(en.newRange._getTransformedByMoveOperation(Vr))}return[en]}),bs(Lc,Ws,(en,Vr,Wr)=>{if(en.oldRange&&(en.oldRange=en.oldRange._getTransformedBySplitOperation(Vr)),en.newRange){if(Wr.abRelation){const Zr=en.newRange._getTransformedBySplitOperation(Vr);return en.newRange.start.isEqual(Vr.splitPosition)&&Wr.abRelation.wasStartBeforeMergedElement?en.newRange.start=po._createAt(Vr.insertionPosition):en.newRange.start.isEqual(Vr.splitPosition)&&!Wr.abRelation.wasInLeftElement&&(en.newRange.start=po._createAt(Vr.moveTargetPosition)),en.newRange.end.isEqual(Vr.splitPosition)&&Wr.abRelation.wasInRightElement?en.newRange.end=po._createAt(Vr.moveTargetPosition):en.newRange.end.isEqual(Vr.splitPosition)&&Wr.abRelation.wasEndBeforeMergedElement?en.newRange.end=po._createAt(Vr.insertionPosition):en.newRange.end=Zr.end,[en]}en.newRange=en.newRange._getTransformedBySplitOperation(Vr)}return[en]}),bs(kl,ec,(en,Vr)=>(en.sourcePosition.hasSameParentAs(Vr.position)&&(en.howMany+=Vr.howMany),en.sourcePosition=en.sourcePosition._getTransformedByInsertOperation(Vr),en.targetPosition=en.targetPosition._getTransformedByInsertOperation(Vr),[en])),bs(kl,kl,(en,Vr,Wr)=>{if(en.sourcePosition.isEqual(Vr.sourcePosition)&&en.targetPosition.isEqual(Vr.targetPosition)){if(Wr.bWasUndone){const Zr=Vr.graveyardPosition.path.slice();return Zr.push(0),en.sourcePosition=new po(Vr.graveyardPosition.root,Zr),en.howMany=0,[en]}return[new Hl(0)]}if(en.sourcePosition.isEqual(Vr.sourcePosition)&&!en.targetPosition.isEqual(Vr.targetPosition)&&!Wr.bWasUndone&&Wr.abRelation!="splitAtSource"){const Zr=en.targetPosition.root.rootName=="$graveyard",tn=Vr.targetPosition.root.rootName=="$graveyard";if(tn&&!Zr||!(Zr&&!tn)&&Wr.aIsStrong){const sn=Vr.targetPosition._getTransformedByMergeOperation(Vr),un=en.targetPosition._getTransformedByMergeOperation(Vr);return[new Ts(sn,en.howMany,un,0)]}return[new Hl(0)]}return en.sourcePosition.hasSameParentAs(Vr.targetPosition)&&(en.howMany+=Vr.howMany),en.sourcePosition=en.sourcePosition._getTransformedByMergeOperation(Vr),en.targetPosition=en.targetPosition._getTransformedByMergeOperation(Vr),en.graveyardPosition.isEqual(Vr.graveyardPosition)&&Wr.aIsStrong||(en.graveyardPosition=en.graveyardPosition._getTransformedByMergeOperation(Vr)),[en]}),bs(kl,Ts,(en,Vr,Wr)=>{const Zr=Yi._createFromPositionAndShift(Vr.sourcePosition,Vr.howMany);return Vr.type=="remove"&&!Wr.bWasUndone&&!Wr.forceWeakRemove&&en.deletionPosition.hasSameParentAs(Vr.sourcePosition)&&Zr.containsPosition(en.sourcePosition)?[new Hl(0)]:(en.sourcePosition.hasSameParentAs(Vr.targetPosition)&&(en.howMany+=Vr.howMany),en.sourcePosition.hasSameParentAs(Vr.sourcePosition)&&(en.howMany-=Vr.howMany),en.sourcePosition=en.sourcePosition._getTransformedByMoveOperation(Vr),en.targetPosition=en.targetPosition._getTransformedByMoveOperation(Vr),en.graveyardPosition.isEqual(Vr.targetPosition)||(en.graveyardPosition=en.graveyardPosition._getTransformedByMoveOperation(Vr)),[en])}),bs(kl,Ws,(en,Vr,Wr)=>{if(Vr.graveyardPosition&&(en.graveyardPosition=en.graveyardPosition._getTransformedByDeletion(Vr.graveyardPosition,1),en.deletionPosition.isEqual(Vr.graveyardPosition)&&(en.howMany=Vr.howMany)),en.targetPosition.isEqual(Vr.splitPosition)){const Zr=Vr.howMany!=0,tn=Vr.graveyardPosition&&en.deletionPosition.isEqual(Vr.graveyardPosition);if(Zr||tn||Wr.abRelation=="mergeTargetNotMoved")return en.sourcePosition=en.sourcePosition._getTransformedBySplitOperation(Vr),[en]}if(en.sourcePosition.isEqual(Vr.splitPosition)){if(Wr.abRelation=="mergeSourceNotMoved")return en.howMany=0,en.targetPosition=en.targetPosition._getTransformedBySplitOperation(Vr),[en];if(Wr.abRelation=="mergeSameElement"||en.sourcePosition.offset>0)return en.sourcePosition=Vr.moveTargetPosition.clone(),en.targetPosition=en.targetPosition._getTransformedBySplitOperation(Vr),[en]}return en.sourcePosition.hasSameParentAs(Vr.splitPosition)&&(en.howMany=Vr.splitPosition.offset),en.sourcePosition=en.sourcePosition._getTransformedBySplitOperation(Vr),en.targetPosition=en.targetPosition._getTransformedBySplitOperation(Vr),[en]}),bs(Ts,ec,(en,Vr)=>{const Wr=Yi._createFromPositionAndShift(en.sourcePosition,en.howMany)._getTransformedByInsertOperation(Vr,!1)[0];return en.sourcePosition=Wr.start,en.howMany=Wr.end.offset-Wr.start.offset,en.targetPosition.isEqual(Vr.position)||(en.targetPosition=en.targetPosition._getTransformedByInsertOperation(Vr)),[en]}),bs(Ts,Ts,(en,Vr,Wr)=>{const Zr=Yi._createFromPositionAndShift(en.sourcePosition,en.howMany),tn=Yi._createFromPositionAndShift(Vr.sourcePosition,Vr.howMany);let sn,un=Wr.aIsStrong,fn=!Wr.aIsStrong;if(Wr.abRelation=="insertBefore"||Wr.baRelation=="insertAfter"?fn=!0:Wr.abRelation!="insertAfter"&&Wr.baRelation!="insertBefore"||(fn=!1),sn=en.targetPosition.isEqual(Vr.targetPosition)&&fn?en.targetPosition._getTransformedByDeletion(Vr.sourcePosition,Vr.howMany):en.targetPosition._getTransformedByMove(Vr.sourcePosition,Vr.targetPosition,Vr.howMany),Vv(en,Vr)&&Vv(Vr,en))return[Vr.getReversed()];if(Zr.containsPosition(Vr.targetPosition)&&Zr.containsRange(tn,!0))return Zr.start=Zr.start._getTransformedByMove(Vr.sourcePosition,Vr.targetPosition,Vr.howMany),Zr.end=Zr.end._getTransformedByMove(Vr.sourcePosition,Vr.targetPosition,Vr.howMany),Hh([Zr],sn);if(tn.containsPosition(en.targetPosition)&&tn.containsRange(Zr,!0))return Zr.start=Zr.start._getCombined(Vr.sourcePosition,Vr.getMovedRangeStart()),Zr.end=Zr.end._getCombined(Vr.sourcePosition,Vr.getMovedRangeStart()),Hh([Zr],sn);const yn=Aa(en.sourcePosition.getParentPath(),Vr.sourcePosition.getParentPath());if(yn=="prefix"||yn=="extension")return Zr.start=Zr.start._getTransformedByMove(Vr.sourcePosition,Vr.targetPosition,Vr.howMany),Zr.end=Zr.end._getTransformedByMove(Vr.sourcePosition,Vr.targetPosition,Vr.howMany),Hh([Zr],sn);en.type!="remove"||Vr.type=="remove"||Wr.aWasUndone||Wr.forceWeakRemove?en.type=="remove"||Vr.type!="remove"||Wr.bWasUndone||Wr.forceWeakRemove||(un=!1):un=!0;const xn=[],Dn=Zr.getDifference(tn);for(const Rn of Dn){Rn.start=Rn.start._getTransformedByDeletion(Vr.sourcePosition,Vr.howMany),Rn.end=Rn.end._getTransformedByDeletion(Vr.sourcePosition,Vr.howMany);const Un=Aa(Rn.start.getParentPath(),Vr.getMovedRangeStart().getParentPath())=="same",Kn=Rn._getTransformedByInsertion(Vr.getMovedRangeStart(),Vr.howMany,Un);xn.push(...Kn)}const Mn=Zr.getIntersection(tn);return Mn!==null&&un&&(Mn.start=Mn.start._getCombined(Vr.sourcePosition,Vr.getMovedRangeStart()),Mn.end=Mn.end._getCombined(Vr.sourcePosition,Vr.getMovedRangeStart()),xn.length===0?xn.push(Mn):xn.length==1?tn.start.isBefore(Zr.start)||tn.start.isEqual(Zr.start)?xn.unshift(Mn):xn.push(Mn):xn.splice(1,0,Mn)),xn.length===0?[new Hl(en.baseVersion)]:Hh(xn,sn)}),bs(Ts,Ws,(en,Vr,Wr)=>{let Zr=en.targetPosition.clone();en.targetPosition.isEqual(Vr.insertionPosition)&&Vr.graveyardPosition&&Wr.abRelation!="moveTargetAfter"||(Zr=en.targetPosition._getTransformedBySplitOperation(Vr));const tn=Yi._createFromPositionAndShift(en.sourcePosition,en.howMany);if(tn.end.isEqual(Vr.insertionPosition))return Vr.graveyardPosition||en.howMany++,en.targetPosition=Zr,[en];if(tn.start.hasSameParentAs(Vr.splitPosition)&&tn.containsPosition(Vr.splitPosition)){let un=new Yi(Vr.splitPosition,tn.end);return un=un._getTransformedBySplitOperation(Vr),Hh([new Yi(tn.start,Vr.splitPosition),un],Zr)}en.targetPosition.isEqual(Vr.splitPosition)&&Wr.abRelation=="insertAtSource"&&(Zr=Vr.moveTargetPosition),en.targetPosition.isEqual(Vr.insertionPosition)&&Wr.abRelation=="insertBetween"&&(Zr=en.targetPosition);const sn=[tn._getTransformedBySplitOperation(Vr)];if(Vr.graveyardPosition){const un=tn.start.isEqual(Vr.graveyardPosition)||tn.containsPosition(Vr.graveyardPosition);en.howMany>1&&un&&!Wr.aWasUndone&&sn.push(Yi._createFromPositionAndShift(Vr.insertionPosition,1))}return Hh(sn,Zr)}),bs(Ts,kl,(en,Vr,Wr)=>{const Zr=Yi._createFromPositionAndShift(en.sourcePosition,en.howMany);if(Vr.deletionPosition.hasSameParentAs(en.sourcePosition)&&Zr.containsPosition(Vr.sourcePosition)){if(en.type!="remove"||Wr.forceWeakRemove){if(en.howMany==1)return Wr.bWasUndone?(en.sourcePosition=Vr.graveyardPosition.clone(),en.targetPosition=en.targetPosition._getTransformedByMergeOperation(Vr),[en]):[new Hl(0)]}else if(!Wr.aWasUndone){const sn=[];let un=Vr.graveyardPosition.clone(),fn=Vr.targetPosition._getTransformedByMergeOperation(Vr);en.howMany>1&&(sn.push(new Ts(en.sourcePosition,en.howMany-1,en.targetPosition,0)),un=un._getTransformedByMove(en.sourcePosition,en.targetPosition,en.howMany-1),fn=fn._getTransformedByMove(en.sourcePosition,en.targetPosition,en.howMany-1));const yn=Vr.deletionPosition._getCombined(en.sourcePosition,en.targetPosition),xn=new Ts(un,1,yn,0),Dn=xn.getMovedRangeStart().path.slice();Dn.push(0);const Mn=new po(xn.targetPosition.root,Dn);fn=fn._getTransformedByMove(un,yn,1);const Rn=new Ts(fn,Vr.howMany,Mn,0);return sn.push(xn),sn.push(Rn),sn}}const tn=Yi._createFromPositionAndShift(en.sourcePosition,en.howMany)._getTransformedByMergeOperation(Vr);return en.sourcePosition=tn.start,en.howMany=tn.end.offset-tn.start.offset,en.targetPosition=en.targetPosition._getTransformedByMergeOperation(Vr),[en]}),bs(Pc,ec,(en,Vr)=>(en.position=en.position._getTransformedByInsertOperation(Vr),[en])),bs(Pc,kl,(en,Vr)=>en.position.isEqual(Vr.deletionPosition)?(en.position=Vr.graveyardPosition.clone(),en.position.stickiness="toNext",[en]):(en.position=en.position._getTransformedByMergeOperation(Vr),[en])),bs(Pc,Ts,(en,Vr)=>(en.position=en.position._getTransformedByMoveOperation(Vr),[en])),bs(Pc,Pc,(en,Vr,Wr)=>{if(en.position.isEqual(Vr.position)){if(!Wr.aIsStrong)return[new Hl(0)];en.oldName=Vr.newName}return[en]}),bs(Pc,Ws,(en,Vr)=>{if(Aa(en.position.path,Vr.splitPosition.getParentPath())=="same"&&!Vr.graveyardPosition){const Wr=new Pc(en.position.getShiftedBy(1),en.oldName,en.newName,0);return[en,Wr]}return en.position=en.position._getTransformedBySplitOperation(Vr),[en]}),bs(gd,gd,(en,Vr,Wr)=>{if(en.root===Vr.root&&en.key===Vr.key){if(!Wr.aIsStrong||en.newValue===Vr.newValue)return[new Hl(0)];en.oldValue=Vr.newValue}return[en]}),bs(Ku,Ku,(en,Vr,Wr)=>en.rootName!==Vr.rootName||en.isAdd!==Vr.isAdd||Wr.bWasUndone?[en]:[new Hl(0)]),bs(Ws,ec,(en,Vr)=>(en.splitPosition.hasSameParentAs(Vr.position)&&en.splitPosition.offset<Vr.position.offset&&(en.howMany+=Vr.howMany),en.splitPosition=en.splitPosition._getTransformedByInsertOperation(Vr),en.insertionPosition=en.insertionPosition._getTransformedByInsertOperation(Vr),[en])),bs(Ws,kl,(en,Vr,Wr)=>{if(!en.graveyardPosition&&!Wr.bWasUndone&&en.splitPosition.hasSameParentAs(Vr.sourcePosition)){const Zr=Vr.graveyardPosition.path.slice();Zr.push(0);const tn=new po(Vr.graveyardPosition.root,Zr),sn=Ws.getInsertionPosition(new po(Vr.graveyardPosition.root,Zr)),un=new Ws(tn,0,sn,null,0);return en.splitPosition=en.splitPosition._getTransformedByMergeOperation(Vr),en.insertionPosition=Ws.getInsertionPosition(en.splitPosition),en.graveyardPosition=un.insertionPosition.clone(),en.graveyardPosition.stickiness="toNext",[un,en]}return en.splitPosition.hasSameParentAs(Vr.deletionPosition)&&!en.splitPosition.isAfter(Vr.deletionPosition)&&en.howMany--,en.splitPosition.hasSameParentAs(Vr.targetPosition)&&(en.howMany+=Vr.howMany),en.splitPosition=en.splitPosition._getTransformedByMergeOperation(Vr),en.insertionPosition=Ws.getInsertionPosition(en.splitPosition),en.graveyardPosition&&(en.graveyardPosition=en.graveyardPosition._getTransformedByMergeOperation(Vr)),[en]}),bs(Ws,Ts,(en,Vr,Wr)=>{const Zr=Yi._createFromPositionAndShift(Vr.sourcePosition,Vr.howMany);if(en.graveyardPosition){const sn=Zr.start.isEqual(en.graveyardPosition)||Zr.containsPosition(en.graveyardPosition);if(!Wr.bWasUndone&&sn){const un=en.splitPosition._getTransformedByMoveOperation(Vr),fn=en.graveyardPosition._getTransformedByMoveOperation(Vr),yn=fn.path.slice();yn.push(0);const xn=new po(fn.root,yn);return[new Ts(un,en.howMany,xn,0)]}en.graveyardPosition=en.graveyardPosition._getTransformedByMoveOperation(Vr)}const tn=en.splitPosition.isEqual(Vr.targetPosition);if(tn&&(Wr.baRelation=="insertAtSource"||Wr.abRelation=="splitBefore"))return en.howMany+=Vr.howMany,en.splitPosition=en.splitPosition._getTransformedByDeletion(Vr.sourcePosition,Vr.howMany),en.insertionPosition=Ws.getInsertionPosition(en.splitPosition),[en];if(tn&&Wr.abRelation&&Wr.abRelation.howMany){const{howMany:sn,offset:un}=Wr.abRelation;return en.howMany+=sn,en.splitPosition=en.splitPosition.getShiftedBy(un),[en]}if(en.splitPosition.hasSameParentAs(Vr.sourcePosition)&&Zr.containsPosition(en.splitPosition)){const sn=Vr.howMany-(en.splitPosition.offset-Vr.sourcePosition.offset);return en.howMany-=sn,en.splitPosition.hasSameParentAs(Vr.targetPosition)&&en.splitPosition.offset<Vr.targetPosition.offset&&(en.howMany+=Vr.howMany),en.splitPosition=Vr.sourcePosition.clone(),en.insertionPosition=Ws.getInsertionPosition(en.splitPosition),[en]}return Vr.sourcePosition.isEqual(Vr.targetPosition)||(en.splitPosition.hasSameParentAs(Vr.sourcePosition)&&en.splitPosition.offset<=Vr.sourcePosition.offset&&(en.howMany-=Vr.howMany),en.splitPosition.hasSameParentAs(Vr.targetPosition)&&en.splitPosition.offset<Vr.targetPosition.offset&&(en.howMany+=Vr.howMany)),en.splitPosition.stickiness="toNone",en.splitPosition=en.splitPosition._getTransformedByMoveOperation(Vr),en.splitPosition.stickiness="toNext",en.graveyardPosition?en.insertionPosition=en.insertionPosition._getTransformedByMoveOperation(Vr):en.insertionPosition=Ws.getInsertionPosition(en.splitPosition),[en]}),bs(Ws,Ws,(en,Vr,Wr)=>{if(en.splitPosition.isEqual(Vr.splitPosition)){if(!en.graveyardPosition&&!Vr.graveyardPosition)return[new Hl(0)];if(en.graveyardPosition&&Vr.graveyardPosition&&en.graveyardPosition.isEqual(Vr.graveyardPosition))return[new Hl(0)];if(Wr.abRelation=="splitBefore")return en.howMany=0,en.graveyardPosition=en.graveyardPosition._getTransformedBySplitOperation(Vr),[en]}if(en.graveyardPosition&&Vr.graveyardPosition&&en.graveyardPosition.isEqual(Vr.graveyardPosition)){const Zr=en.splitPosition.root.rootName=="$graveyard",tn=Vr.splitPosition.root.rootName=="$graveyard";if(tn&&!Zr||!(Zr&&!tn)&&Wr.aIsStrong){const sn=[];return Vr.howMany&&sn.push(new Ts(Vr.moveTargetPosition,Vr.howMany,Vr.splitPosition,0)),en.howMany&&sn.push(new Ts(en.splitPosition,en.howMany,en.moveTargetPosition,0)),sn}return[new Hl(0)]}if(en.graveyardPosition&&(en.graveyardPosition=en.graveyardPosition._getTransformedBySplitOperation(Vr)),en.splitPosition.isEqual(Vr.insertionPosition)&&Wr.abRelation=="splitBefore")return en.howMany++,[en];if(Vr.splitPosition.isEqual(en.insertionPosition)&&Wr.baRelation=="splitBefore"){const Zr=Vr.insertionPosition.path.slice();Zr.push(0);const tn=new po(Vr.insertionPosition.root,Zr);return[en,new Ts(en.insertionPosition,1,tn,0)]}return en.splitPosition.hasSameParentAs(Vr.splitPosition)&&en.splitPosition.offset<Vr.splitPosition.offset&&(en.howMany-=Vr.howMany),en.splitPosition=en.splitPosition._getTransformedBySplitOperation(Vr),en.insertionPosition=Ws.getInsertionPosition(en.splitPosition),[en]});class uc extends Ci(po){constructor(Vr,Wr,Zr="toNone"){if(super(Vr,Wr,Zr),!this.root.is("rootElement"))throw new Cn("model-liveposition-root-not-rootelement",Vr);hk.call(this)}detach(){this.stopListening()}toPosition(){return new po(this.root,this.path.slice(),this.stickiness)}static fromPosition(Vr,Wr){return new this(Vr.root,Vr.path.slice(),Wr||Vr.stickiness)}}function hk(){this.listenTo(this.root.document.model,"applyOperation",(en,Vr)=>{const Wr=Vr[0];Wr.isDocumentOperation&&fk.call(this,Wr)},{priority:"low"})}function fk(en){const Vr=this.getTransformedByOperation(en);if(!this.isEqual(Vr)){const Wr=this.toPosition();this.path=Vr.path,this.root=Vr.root,this.fire("change",Wr)}}uc.prototype.is=function(en){return en==="livePosition"||en==="model:livePosition"||en=="position"||en==="model:position"};class Vh{constructor(Vr={}){typeof Vr=="string"&&(Vr=Vr==="transparent"?{isUndoable:!1}:{},En("batch-constructor-deprecated-string-type"));const{isUndoable:Wr=!0,isLocal:Zr=!0,isUndo:tn=!1,isTyping:sn=!1}=Vr;this.operations=[],this.isUndoable=Wr,this.isLocal=Zr,this.isUndo=tn,this.isTyping=sn}get type(){return En("batch-type-deprecated"),"default"}get baseVersion(){for(const Vr of this.operations)if(Vr.baseVersion!==null)return Vr.baseVersion;return null}addOperation(Vr){return Vr.batch=this,this.operations.push(Vr),Vr}}var pk=Object.defineProperty,jv=Object.getOwnPropertySymbols,gk=Object.prototype.hasOwnProperty,mk=Object.prototype.propertyIsEnumerable,Uv=(en,Vr,Wr)=>Vr in en?pk(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr;class vk{constructor(Vr){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=Vr}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(Vr){const Wr=Vr;switch(Wr.type){case"insert":if(this._isInInsertedElement(Wr.position.parent))return;this._markInsert(Wr.position.parent,Wr.position.offset,Wr.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const Zr of Wr.range.getItems({shallow:!0}))this._isInInsertedElement(Zr.parent)||this._markAttribute(Zr);break;case"remove":case"move":case"reinsert":{if(Wr.sourcePosition.isEqual(Wr.targetPosition)||Wr.sourcePosition.getShiftedBy(Wr.howMany).isEqual(Wr.targetPosition))return;const Zr=this._isInInsertedElement(Wr.sourcePosition.parent),tn=this._isInInsertedElement(Wr.targetPosition.parent);Zr||this._markRemove(Wr.sourcePosition.parent,Wr.sourcePosition.offset,Wr.howMany),tn||this._markInsert(Wr.targetPosition.parent,Wr.getMovedRangeStart().offset,Wr.howMany);break}case"rename":{if(this._isInInsertedElement(Wr.position.parent))return;this._markRemove(Wr.position.parent,Wr.position.offset,1),this._markInsert(Wr.position.parent,Wr.position.offset,1);const Zr=Yi._createFromPositionAndShift(Wr.position,1);for(const tn of this._markerCollection.getMarkersIntersectingRange(Zr)){const sn=tn.getData();this.bufferMarkerChange(tn.name,sn,sn)}break}case"split":{const Zr=Wr.splitPosition.parent;this._isInInsertedElement(Zr)||this._markRemove(Zr,Wr.splitPosition.offset,Wr.howMany),this._isInInsertedElement(Wr.insertionPosition.parent)||this._markInsert(Wr.insertionPosition.parent,Wr.insertionPosition.offset,1),Wr.graveyardPosition&&this._markRemove(Wr.graveyardPosition.parent,Wr.graveyardPosition.offset,1);break}case"merge":{const Zr=Wr.sourcePosition.parent;this._isInInsertedElement(Zr.parent)||this._markRemove(Zr.parent,Zr.startOffset,1);const tn=Wr.graveyardPosition.parent;this._markInsert(tn,Wr.graveyardPosition.offset,1);const sn=Wr.targetPosition.parent;this._isInInsertedElement(sn)||this._markInsert(sn,Wr.targetPosition.offset,Zr.maxOffset);break}case"detachRoot":case"addRoot":this._bufferRootStateChange(Wr.rootName,Wr.isAdd);break;case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const Zr=Wr.root.rootName;this._bufferRootAttributeChange(Zr,Wr.key,Wr.oldValue,Wr.newValue);break}}this._cachedChanges=null}bufferMarkerChange(Vr,Wr,Zr){const tn=this._changedMarkers.get(Vr);tn?(tn.newMarkerData=Zr,tn.oldMarkerData.range==null&&Zr.range==null&&this._changedMarkers.delete(Vr)):this._changedMarkers.set(Vr,{newMarkerData:Zr,oldMarkerData:Wr})}getMarkersToRemove(){const Vr=[];for(const[Wr,Zr]of this._changedMarkers)Zr.oldMarkerData.range!=null&&Vr.push({name:Wr,range:Zr.oldMarkerData.range});return Vr}getMarkersToAdd(){const Vr=[];for(const[Wr,Zr]of this._changedMarkers)Zr.newMarkerData.range!=null&&Vr.push({name:Wr,range:Zr.newMarkerData.range});return Vr}getChangedMarkers(){return Array.from(this._changedMarkers).map(([Vr,Wr])=>({name:Vr,data:{oldRange:Wr.oldMarkerData.range,newRange:Wr.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:Vr,oldMarkerData:Wr}of this._changedMarkers.values()){if(Vr.affectsData!==Wr.affectsData)return!0;if(Vr.affectsData){const Zr=Vr.range&&!Wr.range,tn=!Vr.range&&Wr.range,sn=Vr.range&&Wr.range&&!Vr.range.isEqual(Wr.range);if(Zr||tn||sn)return!0}}return!1}getChanges(Vr={}){if(this._cachedChanges)return Vr.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let Wr=[];for(const Zr of this._changesInElement.keys()){const tn=this._changesInElement.get(Zr).sort((Dn,Mn)=>Dn.offset===Mn.offset?Dn.type!=Mn.type?Dn.type=="remove"?-1:1:0:Dn.offset<Mn.offset?-1:1),sn=this._elementSnapshots.get(Zr),un=Gv(Zr.getChildren()),fn=yk(sn.length,tn);let yn=0,xn=0;for(const Dn of fn)if(Dn==="i")Wr.push(this._getInsertDiff(Zr,yn,un[yn])),yn++;else if(Dn==="r")Wr.push(this._getRemoveDiff(Zr,yn,sn[xn])),xn++;else if(Dn==="a"){const Mn=un[yn].attributes,Rn=sn[xn].attributes;let Un;if(un[yn].name=="$text")Un=new Yi(po._createAt(Zr,yn),po._createAt(Zr,yn+1));else{const Kn=Zr.offsetToIndex(yn);Un=new Yi(po._createAt(Zr,yn),po._createAt(Zr.getChild(Kn),0))}Wr.push(...this._getAttributesDiff(Un,Rn,Mn)),yn++,xn++}else yn++,xn++}Wr.sort((Zr,tn)=>Zr.position.root!=tn.position.root?Zr.position.root.rootName<tn.position.root.rootName?-1:1:Zr.position.isEqual(tn.position)?Zr.changeCount-tn.changeCount:Zr.position.isBefore(tn.position)?-1:1);for(let Zr=1,tn=0;Zr<Wr.length;Zr++){const sn=Wr[tn],un=Wr[Zr],fn=sn.type=="remove"&&un.type=="remove"&&sn.name=="$text"&&un.name=="$text"&&sn.position.isEqual(un.position),yn=sn.type=="insert"&&un.type=="insert"&&sn.name=="$text"&&un.name=="$text"&&sn.position.parent==un.position.parent&&sn.position.offset+sn.length==un.position.offset,xn=sn.type=="attribute"&&un.type=="attribute"&&sn.position.parent==un.position.parent&&sn.range.isFlat&&un.range.isFlat&&sn.position.offset+sn.length==un.position.offset&&sn.attributeKey==un.attributeKey&&sn.attributeOldValue==un.attributeOldValue&&sn.attributeNewValue==un.attributeNewValue;fn||yn||xn?(sn.length++,xn&&(sn.range.end=sn.range.end.getShiftedBy(1)),Wr[Zr]=null):tn=Zr}Wr=Wr.filter(Zr=>Zr);for(const Zr of Wr)delete Zr.changeCount,Zr.type=="attribute"&&(delete Zr.position,delete Zr.length);return this._changeCount=0,this._cachedChangesWithGraveyard=Wr,this._cachedChanges=Wr.filter(bk),Vr.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(Vr=>{const Wr=((Zr,tn)=>{for(var sn in tn||(tn={}))gk.call(tn,sn)&&Uv(Zr,sn,tn[sn]);if(jv)for(var sn of jv(tn))mk.call(tn,sn)&&Uv(Zr,sn,tn[sn]);return Zr})({},Vr);return Wr.state!==void 0&&delete Wr.attributes,Wr})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(Vr,Wr){if(!this._changedRoots.has(Vr))return void this._changedRoots.set(Vr,{name:Vr,state:Wr?"attached":"detached"});const Zr=this._changedRoots.get(Vr);Zr.state!==void 0?(delete Zr.state,Zr.attributes===void 0&&this._changedRoots.delete(Vr)):Zr.state=Wr?"attached":"detached"}_bufferRootAttributeChange(Vr,Wr,Zr,tn){const sn=this._changedRoots.get(Vr)||{name:Vr},un=sn.attributes||{};if(un[Wr]){const fn=un[Wr];tn===fn.oldValue?delete un[Wr]:fn.newValue=tn}else un[Wr]={oldValue:Zr,newValue:tn};Object.entries(un).length===0?(delete sn.attributes,sn.state===void 0&&this._changedRoots.delete(Vr)):(sn.attributes=un,this._changedRoots.set(Vr,sn))}_refreshItem(Vr){if(this._isInInsertedElement(Vr.parent))return;this._markRemove(Vr.parent,Vr.startOffset,Vr.offsetSize),this._markInsert(Vr.parent,Vr.startOffset,Vr.offsetSize),this._refreshedItems.add(Vr);const Wr=Yi._createOn(Vr);for(const Zr of this._markerCollection.getMarkersIntersectingRange(Wr)){const tn=Zr.getData();this.bufferMarkerChange(Zr.name,tn,tn)}this._cachedChanges=null}_markInsert(Vr,Wr,Zr){const tn={type:"insert",offset:Wr,howMany:Zr,count:this._changeCount++};this._markChange(Vr,tn)}_markRemove(Vr,Wr,Zr){const tn={type:"remove",offset:Wr,howMany:Zr,count:this._changeCount++};this._markChange(Vr,tn),this._removeAllNestedChanges(Vr,Wr,Zr)}_markAttribute(Vr){const Wr={type:"attribute",offset:Vr.startOffset,howMany:Vr.offsetSize,count:this._changeCount++};this._markChange(Vr.parent,Wr)}_markChange(Vr,Wr){this._makeSnapshot(Vr);const Zr=this._getChangesForElement(Vr);this._handleChange(Wr,Zr),Zr.push(Wr);for(let tn=0;tn<Zr.length;tn++)Zr[tn].howMany<1&&(Zr.splice(tn,1),tn--)}_getChangesForElement(Vr){let Wr;return this._changesInElement.has(Vr)?Wr=this._changesInElement.get(Vr):(Wr=[],this._changesInElement.set(Vr,Wr)),Wr}_makeSnapshot(Vr){this._elementSnapshots.has(Vr)||this._elementSnapshots.set(Vr,Gv(Vr.getChildren()))}_handleChange(Vr,Wr){Vr.nodesToHandle=Vr.howMany;for(const Zr of Wr){const tn=Vr.offset+Vr.howMany,sn=Zr.offset+Zr.howMany;if(Vr.type=="insert"&&(Zr.type=="insert"&&(Vr.offset<=Zr.offset?Zr.offset+=Vr.howMany:Vr.offset<sn&&(Zr.howMany+=Vr.nodesToHandle,Vr.nodesToHandle=0)),Zr.type=="remove"&&Vr.offset<Zr.offset&&(Zr.offset+=Vr.howMany),Zr.type=="attribute")){if(Vr.offset<=Zr.offset)Zr.offset+=Vr.howMany;else if(Vr.offset<sn){const un=Zr.howMany;Zr.howMany=Vr.offset-Zr.offset,Wr.unshift({type:"attribute",offset:tn,howMany:un-Zr.howMany,count:this._changeCount++})}}if(Vr.type=="remove"){if(Zr.type=="insert"){if(tn<=Zr.offset)Zr.offset-=Vr.howMany;else if(tn<=sn)if(Vr.offset<Zr.offset){const un=tn-Zr.offset;Zr.offset=Vr.offset,Zr.howMany-=un,Vr.nodesToHandle-=un}else Zr.howMany-=Vr.nodesToHandle,Vr.nodesToHandle=0;else if(Vr.offset<=Zr.offset)Vr.nodesToHandle-=Zr.howMany,Zr.howMany=0;else if(Vr.offset<sn){const un=sn-Vr.offset;Zr.howMany-=un,Vr.nodesToHandle-=un}}if(Zr.type=="remove"&&(tn<=Zr.offset?Zr.offset-=Vr.howMany:Vr.offset<Zr.offset&&(Vr.nodesToHandle+=Zr.howMany,Zr.howMany=0)),Zr.type=="attribute"){if(tn<=Zr.offset)Zr.offset-=Vr.howMany;else if(Vr.offset<Zr.offset){const un=tn-Zr.offset;Zr.offset=Vr.offset,Zr.howMany-=un}else if(Vr.offset<sn)if(tn<=sn){const un=Zr.howMany;Zr.howMany=Vr.offset-Zr.offset;const fn=un-Zr.howMany-Vr.nodesToHandle;Wr.unshift({type:"attribute",offset:Vr.offset,howMany:fn,count:this._changeCount++})}else Zr.howMany-=sn-Vr.offset}}if(Vr.type=="attribute"){if(Zr.type=="insert")if(Vr.offset<Zr.offset&&tn>Zr.offset){if(tn>sn){const un={type:"attribute",offset:sn,howMany:tn-sn,count:this._changeCount++};this._handleChange(un,Wr),Wr.push(un)}Vr.nodesToHandle=Zr.offset-Vr.offset,Vr.howMany=Vr.nodesToHandle}else Vr.offset>=Zr.offset&&Vr.offset<sn&&(tn>sn?(Vr.nodesToHandle=tn-sn,Vr.offset=sn):Vr.nodesToHandle=0);if(Zr.type=="remove"&&Vr.offset<Zr.offset&&tn>Zr.offset){const un={type:"attribute",offset:Zr.offset,howMany:tn-Zr.offset,count:this._changeCount++};this._handleChange(un,Wr),Wr.push(un),Vr.nodesToHandle=Zr.offset-Vr.offset,Vr.howMany=Vr.nodesToHandle}Zr.type=="attribute"&&(Vr.offset>=Zr.offset&&tn<=sn?(Vr.nodesToHandle=0,Vr.howMany=0,Vr.offset=0):Vr.offset<=Zr.offset&&tn>=sn&&(Zr.howMany=0))}}Vr.howMany=Vr.nodesToHandle,delete Vr.nodesToHandle}_getInsertDiff(Vr,Wr,Zr){return{type:"insert",position:po._createAt(Vr,Wr),name:Zr.name,attributes:new Map(Zr.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(Vr,Wr,Zr){return{type:"remove",position:po._createAt(Vr,Wr),name:Zr.name,attributes:new Map(Zr.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(Vr,Wr,Zr){const tn=[];Zr=new Map(Zr);for(const[sn,un]of Wr){const fn=Zr.has(sn)?Zr.get(sn):null;fn!==un&&tn.push({type:"attribute",position:Vr.start,range:Vr.clone(),length:1,attributeKey:sn,attributeOldValue:un,attributeNewValue:fn,changeCount:this._changeCount++}),Zr.delete(sn)}for(const[sn,un]of Zr)tn.push({type:"attribute",position:Vr.start,range:Vr.clone(),length:1,attributeKey:sn,attributeOldValue:null,attributeNewValue:un,changeCount:this._changeCount++});return tn}_isInInsertedElement(Vr){const Wr=Vr.parent;if(!Wr)return!1;const Zr=this._changesInElement.get(Wr),tn=Vr.startOffset;if(Zr){for(const sn of Zr)if(sn.type=="insert"&&tn>=sn.offset&&tn<sn.offset+sn.howMany)return!0}return this._isInInsertedElement(Wr)}_removeAllNestedChanges(Vr,Wr,Zr){const tn=new Yi(po._createAt(Vr,Wr),po._createAt(Vr,Wr+Zr));for(const sn of tn.getItems({shallow:!0}))sn.is("element")&&(this._elementSnapshots.delete(sn),this._changesInElement.delete(sn),this._removeAllNestedChanges(sn,0,sn.maxOffset))}}function Gv(en){const Vr=[];for(const Wr of en)if(Wr.is("$text"))for(let Zr=0;Zr<Wr.data.length;Zr++)Vr.push({name:"$text",attributes:new Map(Wr.getAttributes())});else Vr.push({name:Wr.name,attributes:new Map(Wr.getAttributes())});return Vr}function yk(en,Vr){const Wr=[];let Zr=0,tn=0;for(const sn of Vr){if(sn.offset>Zr){for(let un=0;un<sn.offset-Zr;un++)Wr.push("e");tn+=sn.offset-Zr}if(sn.type=="insert"){for(let un=0;un<sn.howMany;un++)Wr.push("i");Zr=sn.offset+sn.howMany}else if(sn.type=="remove"){for(let un=0;un<sn.howMany;un++)Wr.push("r");Zr=sn.offset,tn+=sn.howMany}else Wr.push(..."a".repeat(sn.howMany).split("")),Zr=sn.offset+sn.howMany,tn+=sn.howMany}if(tn<en)for(let sn=0;sn<en-tn-Zr;sn++)Wr.push("e");return Wr}function bk(en){const Vr="position"in en&&en.position.root.rootName=="$graveyard",Wr="range"in en&&en.range.root.rootName=="$graveyard";return!Vr&&!Wr}class _k{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(Vr){this._operations.length&&Vr>this._version+1&&this._gaps.set(this._version,Vr),this._version=Vr}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(Vr){if(Vr.baseVersion!==this.version)throw new Cn("model-document-history-addoperation-incorrect-version",this,{operation:Vr,historyVersion:this.version});this._operations.push(Vr),this._version++,this._baseVersionToOperationIndex.set(Vr.baseVersion,this._operations.length-1)}getOperations(Vr,Wr=this.version){if(!this._operations.length)return[];const Zr=this._operations[0];Vr===void 0&&(Vr=Zr.baseVersion);let tn=Wr-1;for(const[fn,yn]of this._gaps)Vr>fn&&Vr<yn&&(Vr=yn),tn>fn&&tn<yn&&(tn=fn-1);if(tn<Zr.baseVersion||Vr>this.lastOperation.baseVersion)return[];let sn=this._baseVersionToOperationIndex.get(Vr);sn===void 0&&(sn=0);let un=this._baseVersionToOperationIndex.get(tn);return un===void 0&&(un=this._operations.length-1),this._operations.slice(sn,un+1)}getOperation(Vr){const Wr=this._baseVersionToOperationIndex.get(Vr);if(Wr!==void 0)return this._operations[Wr]}setOperationAsUndone(Vr,Wr){this._undoPairs.set(Wr,Vr),this._undoneOperations.add(Vr)}isUndoingOperation(Vr){return this._undoPairs.has(Vr)}isUndoneOperation(Vr){return this._undoneOperations.has(Vr)}getUndoneOperation(Vr){return this._undoPairs.get(Vr)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Fp extends Rs{constructor(Vr,Wr,Zr="main"){super(Wr),this._isAttached=!0,this._document=Vr,this.rootName=Zr}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Fp.prototype.is=function(en,Vr){return Vr?Vr===this.name&&(en==="rootElement"||en==="model:rootElement"||en==="element"||en==="model:element"):en==="rootElement"||en==="model:rootElement"||en==="element"||en==="model:element"||en==="node"||en==="model:node"};var wk=Object.defineProperty,kk=Object.defineProperties,Ak=Object.getOwnPropertyDescriptors,Wv=Object.getOwnPropertySymbols,Ck=Object.prototype.hasOwnProperty,xk=Object.prototype.propertyIsEnumerable,Yv=(en,Vr,Wr)=>Vr in en?wk(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr,qv=(en,Vr)=>{for(var Wr in Vr||(Vr={}))Ck.call(Vr,Wr)&&Yv(en,Wr,Vr[Wr]);if(Wv)for(var Wr of Wv(Vr))xk.call(Vr,Wr)&&Yv(en,Wr,Vr[Wr]);return en},Kv=(en,Vr)=>kk(en,Ak(Vr));const zg="$graveyard";class Sk extends Ci(){constructor(Vr){super(),this.model=Vr,this.history=new _k,this.selection=new Eu(this),this.roots=new Fc({idProperty:"rootName"}),this.differ=new vk(Vr.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",zg),this.listenTo(Vr,"applyOperation",(Wr,Zr)=>{const tn=Zr[0];tn.isDocumentOperation&&this.differ.bufferOperation(tn)},{priority:"high"}),this.listenTo(Vr,"applyOperation",(Wr,Zr)=>{const tn=Zr[0];tn.isDocumentOperation&&this.history.addOperation(tn)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(Vr.markers,"update",(Wr,Zr,tn,sn,un)=>{const fn=Kv(qv({},Zr.getData()),{range:sn});this.differ.bufferMarkerChange(Zr.name,un,fn),tn===null&&Zr.on("change",(yn,xn)=>{const Dn=Zr.getData();this.differ.bufferMarkerChange(Zr.name,Kv(qv({},Dn),{range:xn}),Dn)})}),this.registerPostFixer(Wr=>{let Zr=!1;for(const tn of this.roots)tn.isAttached()||tn.isEmpty||(Wr.remove(Wr.createRangeIn(tn)),Zr=!0);for(const tn of this.model.markers)tn.getRange().root.isAttached()||(Wr.removeMarker(tn),Zr=!0);return Zr})}get version(){return this.history.version}set version(Vr){this.history.version=Vr}get graveyard(){return this.getRoot(zg)}createRoot(Vr="$root",Wr="main"){if(this.roots.get(Wr))throw new Cn("model-document-createroot-name-exists",this,{name:Wr});const Zr=new Fp(this,Vr,Wr);return this.roots.add(Zr),Zr}destroy(){this.selection.destroy(),this.stopListening()}getRoot(Vr="main"){return this.roots.get(Vr)}getRootNames(Vr=!1){return Array.from(this.roots).filter(Wr=>Wr.rootName!=zg&&(Vr||Wr.isAttached())).map(Wr=>Wr.rootName)}registerPostFixer(Vr){this._postFixers.add(Vr)}toJSON(){const Vr=Sd(this);return Vr.selection="[engine.model.DocumentSelection]",Vr.model="[engine.model.Model]",Vr}_handleChangeBlock(Vr){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(Vr),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",Vr.batch):this.fire("change",Vr.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const Vr of this.roots)if(Vr!==this.graveyard)return Vr;return this.graveyard}_getDefaultRange(){const Vr=this._getDefaultRoot(),Wr=this.model,Zr=Wr.schema,tn=Wr.createPositionFromPath(Vr,[0]);return Zr.getNearestSelectionRange(tn)||Wr.createRange(tn)}_validateSelectionRange(Vr){return Zv(Vr.start)&&Zv(Vr.end)}_callPostFixers(Vr){let Wr=!1;do for(const Zr of this._postFixers)if(this.selection.refresh(),Wr=Zr(Vr),Wr)break;while(Wr)}}function Zv(en){const Vr=en.textNode;if(Vr){const Wr=Vr.data,Zr=en.offset-Vr.startOffset;return!Bl(Wr,Zr)&&!hl(Wr,Zr)}return!0}var Dk=Object.defineProperty,Ek=Object.defineProperties,Tk=Object.getOwnPropertyDescriptors,Xv=Object.getOwnPropertySymbols,Mk=Object.prototype.hasOwnProperty,Ik=Object.prototype.propertyIsEnumerable,Qv=(en,Vr,Wr)=>Vr in en?Dk(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr;class Lk extends Ci(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(Vr){const Wr=Vr instanceof jh?Vr.name:Vr;return this._markers.has(Wr)}get(Vr){return this._markers.get(Vr)||null}_set(Vr,Wr,Zr=!1,tn=!1){const sn=Vr instanceof jh?Vr.name:Vr;if(sn.includes(","))throw new Cn("markercollection-incorrect-marker-name",this);const un=this._markers.get(sn);if(un){const Dn=un.getData(),Mn=un.getRange();let Rn=!1;return Mn.isEqual(Wr)||(un._attachLiveRange(Du.fromRange(Wr)),Rn=!0),Zr!=un.managedUsingOperations&&(un._managedUsingOperations=Zr,Rn=!0),typeof tn=="boolean"&&tn!=un.affectsData&&(un._affectsData=tn,Rn=!0),Rn&&this.fire(`update:${sn}`,un,Mn,Wr,Dn),un}const fn=Du.fromRange(Wr),yn=new jh(sn,fn,Zr,tn);var xn;return this._markers.set(sn,yn),this.fire(`update:${sn}`,yn,null,Wr,(xn=((Dn,Mn)=>{for(var Rn in Mn||(Mn={}))Mk.call(Mn,Rn)&&Qv(Dn,Rn,Mn[Rn]);if(Xv)for(var Rn of Xv(Mn))Ik.call(Mn,Rn)&&Qv(Dn,Rn,Mn[Rn]);return Dn})({},yn.getData()),Ek(xn,Tk({range:null})))),yn}_remove(Vr){const Wr=Vr instanceof jh?Vr.name:Vr,Zr=this._markers.get(Wr);return!!Zr&&(this._markers.delete(Wr),this.fire(`update:${Wr}`,Zr,Zr.getRange(),null,Zr.getData()),this._destroyMarker(Zr),!0)}_refresh(Vr){const Wr=Vr instanceof jh?Vr.name:Vr,Zr=this._markers.get(Wr);if(!Zr)throw new Cn("markercollection-refresh-marker-not-exists",this);const tn=Zr.getRange();this.fire(`update:${Wr}`,Zr,tn,tn,Zr.getData())}*getMarkersAtPosition(Vr){for(const Wr of this)Wr.getRange().containsPosition(Vr)&&(yield Wr)}*getMarkersIntersectingRange(Vr){for(const Wr of this)Wr.getRange().getIntersection(Vr)!==null&&(yield Wr)}destroy(){for(const Vr of this._markers.values())this._destroyMarker(Vr);this._markers=null,this.stopListening()}*getMarkersGroup(Vr){for(const Wr of this._markers.values())Wr.name.startsWith(Vr+":")&&(yield Wr)}_destroyMarker(Vr){Vr.stopListening(),Vr._detachLiveRange()}}class jh extends Ci($d){constructor(Vr,Wr,Zr,tn){super(),this.name=Vr,this._liveRange=this._attachLiveRange(Wr),this._managedUsingOperations=Zr,this._affectsData=tn}get managedUsingOperations(){if(!this._liveRange)throw new Cn("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new Cn("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new Cn("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new Cn("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new Cn("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(Vr){return this._liveRange&&this._detachLiveRange(),Vr.delegate("change:range").to(this),Vr.delegate("change:content").to(this),this._liveRange=Vr,Vr}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}jh.prototype.is=function(en){return en==="marker"||en==="model:marker"};class Pk extends Yc{constructor(Vr,Wr){super(null),this.sourcePosition=Vr.clone(),this.howMany=Wr}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const Vr=super.toJSON();return Vr.sourcePosition=this.sourcePosition.toJSON(),Vr}_validate(){if(this.sourcePosition.root.document)throw new Cn("detach-operation-on-document-node",this)}_execute(){Ov(Yi._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class md extends $d{constructor(Vr){super(),this.markers=new Map,this._children=new Gf,Vr&&this._insertChild(0,Vr)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(Vr){return this._children.getNode(Vr)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(Vr){return this._children.getNodeIndex(Vr)}getChildStartOffset(Vr){return this._children.getNodeStartOffset(Vr)}getPath(){return[]}getNodeByPath(Vr){let Wr=this;for(const Zr of Vr)Wr=Wr.getChild(Wr.offsetToIndex(Zr));return Wr}offsetToIndex(Vr){return this._children.offsetToIndex(Vr)}toJSON(){const Vr=[];for(const Wr of this._children)Vr.push(Wr.toJSON());return Vr}static fromJSON(Vr){const Wr=[];for(const Zr of Vr)Zr.name?Wr.push(Rs.fromJSON(Zr)):Wr.push(Gs.fromJSON(Zr));return new md(Wr)}_appendChild(Vr){this._insertChild(this.childCount,Vr)}_insertChild(Vr,Wr){const Zr=function(tn){return typeof tn=="string"?[new Gs(tn)]:(Ei(tn)||(tn=[tn]),Array.from(tn).map(sn=>typeof sn=="string"?new Gs(sn):sn instanceof Su?new Gs(sn.data,sn.getAttributes()):sn))}(Wr);for(const tn of Zr)tn.parent!==null&&tn._remove(),tn.parent=this;this._children._insertNodes(Vr,Zr)}_removeChildren(Vr,Wr=1){const Zr=this._children._removeNodes(Vr,Wr);for(const tn of Zr)tn.parent=null;return Zr}}md.prototype.is=function(en){return en==="documentFragment"||en==="model:documentFragment"};class Ok{constructor(Vr,Wr){this.model=Vr,this.batch=Wr}createText(Vr,Wr){return new Gs(Vr,Wr)}createElement(Vr,Wr){return new Rs(Vr,Wr)}createDocumentFragment(){return new md}cloneElement(Vr,Wr=!0){return Vr._clone(Wr)}insert(Vr,Wr,Zr=0){if(this._assertWriterUsedCorrectly(),Vr instanceof Gs&&Vr.data=="")return;const tn=po._createAt(Wr,Zr);if(Vr.parent){if(ty(Vr.root,tn.root))return void this.move(Yi._createOn(Vr),tn);if(Vr.root.document)throw new Cn("model-writer-insert-forbidden-move",this);this.remove(Vr)}const sn=tn.root.document?tn.root.document.version:null,un=new ec(tn,Vr,sn);if(Vr instanceof Gs&&(un.shouldReceiveAttributes=!0),this.batch.addOperation(un),this.model.applyOperation(un),Vr instanceof md)for(const[fn,yn]of Vr.markers){const xn=po._createAt(yn.root,0),Dn={range:new Yi(yn.start._getCombined(xn,tn),yn.end._getCombined(xn,tn)),usingOperation:!0,affectsData:!0};this.model.markers.has(fn)?this.updateMarker(fn,Dn):this.addMarker(fn,Dn)}}insertText(Vr,Wr,Zr,tn){Wr instanceof md||Wr instanceof Rs||Wr instanceof po?this.insert(this.createText(Vr),Wr,Zr):this.insert(this.createText(Vr,Wr),Zr,tn)}insertElement(Vr,Wr,Zr,tn){Wr instanceof md||Wr instanceof Rs||Wr instanceof po?this.insert(this.createElement(Vr),Wr,Zr):this.insert(this.createElement(Vr,Wr),Zr,tn)}append(Vr,Wr){this.insert(Vr,Wr,"end")}appendText(Vr,Wr,Zr){Wr instanceof md||Wr instanceof Rs?this.insert(this.createText(Vr),Wr,"end"):this.insert(this.createText(Vr,Wr),Zr,"end")}appendElement(Vr,Wr,Zr){Wr instanceof md||Wr instanceof Rs?this.insert(this.createElement(Vr),Wr,"end"):this.insert(this.createElement(Vr,Wr),Zr,"end")}setAttribute(Vr,Wr,Zr){if(this._assertWriterUsedCorrectly(),Zr instanceof Yi){const tn=Zr.getMinimalFlatRanges();for(const sn of tn)Jv(this,Vr,Wr,sn)}else ey(this,Vr,Wr,Zr)}setAttributes(Vr,Wr){for(const[Zr,tn]of rl(Vr))this.setAttribute(Zr,tn,Wr)}removeAttribute(Vr,Wr){if(this._assertWriterUsedCorrectly(),Wr instanceof Yi){const Zr=Wr.getMinimalFlatRanges();for(const tn of Zr)Jv(this,Vr,null,tn)}else ey(this,Vr,null,Wr)}clearAttributes(Vr){this._assertWriterUsedCorrectly();const Wr=Zr=>{for(const tn of Zr.getAttributeKeys())this.removeAttribute(tn,Zr)};if(Vr instanceof Yi)for(const Zr of Vr.getItems())Wr(Zr);else Wr(Vr)}move(Vr,Wr,Zr){if(this._assertWriterUsedCorrectly(),!(Vr instanceof Yi))throw new Cn("writer-move-invalid-range",this);if(!Vr.isFlat)throw new Cn("writer-move-range-not-flat",this);const tn=po._createAt(Wr,Zr);if(tn.isEqual(Vr.start))return;if(this._addOperationForAffectedMarkers("move",Vr),!ty(Vr.root,tn.root))throw new Cn("writer-move-different-document",this);const sn=Vr.root.document?Vr.root.document.version:null,un=new Ts(Vr.start,Vr.end.offset-Vr.start.offset,tn,sn);this.batch.addOperation(un),this.model.applyOperation(un)}remove(Vr){this._assertWriterUsedCorrectly();const Wr=(Vr instanceof Yi?Vr:Yi._createOn(Vr)).getMinimalFlatRanges().reverse();for(const Zr of Wr)this._addOperationForAffectedMarkers("move",Zr),Rk(Zr.start,Zr.end.offset-Zr.start.offset,this.batch,this.model)}merge(Vr){this._assertWriterUsedCorrectly();const Wr=Vr.nodeBefore,Zr=Vr.nodeAfter;if(this._addOperationForAffectedMarkers("merge",Vr),!(Wr instanceof Rs))throw new Cn("writer-merge-no-element-before",this);if(!(Zr instanceof Rs))throw new Cn("writer-merge-no-element-after",this);Vr.root.document?this._merge(Vr):this._mergeDetached(Vr)}createPositionFromPath(Vr,Wr,Zr){return this.model.createPositionFromPath(Vr,Wr,Zr)}createPositionAt(Vr,Wr){return this.model.createPositionAt(Vr,Wr)}createPositionAfter(Vr){return this.model.createPositionAfter(Vr)}createPositionBefore(Vr){return this.model.createPositionBefore(Vr)}createRange(Vr,Wr){return this.model.createRange(Vr,Wr)}createRangeIn(Vr){return this.model.createRangeIn(Vr)}createRangeOn(Vr){return this.model.createRangeOn(Vr)}createSelection(...Vr){return this.model.createSelection(...Vr)}_mergeDetached(Vr){const Wr=Vr.nodeBefore,Zr=Vr.nodeAfter;this.move(Yi._createIn(Zr),po._createAt(Wr,"end")),this.remove(Zr)}_merge(Vr){const Wr=po._createAt(Vr.nodeBefore,"end"),Zr=po._createAt(Vr.nodeAfter,0),tn=Vr.root.document.graveyard,sn=new po(tn,[0]),un=Vr.root.document.version,fn=new kl(Zr,Vr.nodeAfter.maxOffset,Wr,sn,un);this.batch.addOperation(fn),this.model.applyOperation(fn)}rename(Vr,Wr){if(this._assertWriterUsedCorrectly(),!(Vr instanceof Rs))throw new Cn("writer-rename-not-element-instance",this);const Zr=Vr.root.document?Vr.root.document.version:null,tn=new Pc(po._createBefore(Vr),Vr.name,Wr,Zr);this.batch.addOperation(tn),this.model.applyOperation(tn)}split(Vr,Wr){this._assertWriterUsedCorrectly();let Zr,tn,sn=Vr.parent;if(!sn.parent)throw new Cn("writer-split-element-no-parent",this);if(Wr||(Wr=sn.parent),!Vr.parent.getAncestors({includeSelf:!0}).includes(Wr))throw new Cn("writer-split-invalid-limit-element",this);do{const un=sn.root.document?sn.root.document.version:null,fn=sn.maxOffset-Vr.offset,yn=Ws.getInsertionPosition(Vr),xn=new Ws(Vr,fn,yn,null,un);this.batch.addOperation(xn),this.model.applyOperation(xn),Zr||tn||(Zr=sn,tn=Vr.parent.nextSibling),sn=(Vr=this.createPositionAfter(Vr.parent)).parent}while(sn!==Wr);return{position:Vr,range:new Yi(po._createAt(Zr,"end"),po._createAt(tn,0))}}wrap(Vr,Wr){if(this._assertWriterUsedCorrectly(),!Vr.isFlat)throw new Cn("writer-wrap-range-not-flat",this);const Zr=Wr instanceof Rs?Wr:new Rs(Wr);if(Zr.childCount>0)throw new Cn("writer-wrap-element-not-empty",this);if(Zr.parent!==null)throw new Cn("writer-wrap-element-attached",this);this.insert(Zr,Vr.start);const tn=new Yi(Vr.start.getShiftedBy(1),Vr.end.getShiftedBy(1));this.move(tn,po._createAt(Zr,0))}unwrap(Vr){if(this._assertWriterUsedCorrectly(),Vr.parent===null)throw new Cn("writer-unwrap-element-no-parent",this);this.move(Yi._createIn(Vr),this.createPositionAfter(Vr)),this.remove(Vr)}addMarker(Vr,Wr){if(this._assertWriterUsedCorrectly(),!Wr||typeof Wr.usingOperation!="boolean")throw new Cn("writer-addmarker-no-usingoperation",this);const Zr=Wr.usingOperation,tn=Wr.range,sn=Wr.affectsData!==void 0&&Wr.affectsData;if(this.model.markers.has(Vr))throw new Cn("writer-addmarker-marker-exists",this);if(!tn)throw new Cn("writer-addmarker-no-range",this);return Zr?(Qf(this,Vr,null,tn,sn),this.model.markers.get(Vr)):this.model.markers._set(Vr,tn,Zr,sn)}updateMarker(Vr,Wr){this._assertWriterUsedCorrectly();const Zr=typeof Vr=="string"?Vr:Vr.name,tn=this.model.markers.get(Zr);if(!tn)throw new Cn("writer-updatemarker-marker-not-exists",this);if(!Wr)return En("writer-updatemarker-reconvert-using-editingcontroller",{markerName:Zr}),void this.model.markers._refresh(tn);const sn=typeof Wr.usingOperation=="boolean",un=typeof Wr.affectsData=="boolean",fn=un?Wr.affectsData:tn.affectsData;if(!sn&&!Wr.range&&!un)throw new Cn("writer-updatemarker-wrong-options",this);const yn=tn.getRange(),xn=Wr.range?Wr.range:yn;sn&&Wr.usingOperation!==tn.managedUsingOperations?Wr.usingOperation?Qf(this,Zr,null,xn,fn):(Qf(this,Zr,yn,null,fn),this.model.markers._set(Zr,xn,void 0,fn)):tn.managedUsingOperations?Qf(this,Zr,yn,xn,fn):this.model.markers._set(Zr,xn,void 0,fn)}removeMarker(Vr){this._assertWriterUsedCorrectly();const Wr=typeof Vr=="string"?Vr:Vr.name;if(!this.model.markers.has(Wr))throw new Cn("writer-removemarker-no-marker",this);const Zr=this.model.markers.get(Wr);if(!Zr.managedUsingOperations)return void this.model.markers._remove(Wr);Qf(this,Wr,Zr.getRange(),null,Zr.affectsData)}addRoot(Vr,Wr="$root"){this._assertWriterUsedCorrectly();const Zr=this.model.document.getRoot(Vr);if(Zr&&Zr.isAttached())throw new Cn("writer-addroot-root-exists",this);const tn=this.model.document,sn=new Ku(Vr,Wr,!0,tn,tn.version);return this.batch.addOperation(sn),this.model.applyOperation(sn),this.model.document.getRoot(Vr)}detachRoot(Vr){this._assertWriterUsedCorrectly();const Wr=typeof Vr=="string"?this.model.document.getRoot(Vr):Vr;if(!Wr||!Wr.isAttached())throw new Cn("writer-detachroot-no-root",this);for(const sn of this.model.markers)sn.getRange().root===Wr&&this.removeMarker(sn);for(const sn of Wr.getAttributeKeys())this.removeAttribute(sn,Wr);this.remove(this.createRangeIn(Wr));const Zr=this.model.document,tn=new Ku(Wr.rootName,Wr.name,!1,Zr,Zr.version);this.batch.addOperation(tn),this.model.applyOperation(tn)}setSelection(...Vr){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...Vr)}setSelectionFocus(Vr,Wr){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(Vr,Wr)}setSelectionAttribute(Vr,Wr){if(this._assertWriterUsedCorrectly(),typeof Vr=="string")this._setSelectionAttribute(Vr,Wr);else for(const[Zr,tn]of rl(Vr))this._setSelectionAttribute(Zr,tn)}removeSelectionAttribute(Vr){if(this._assertWriterUsedCorrectly(),typeof Vr=="string")this._removeSelectionAttribute(Vr);else for(const Wr of Vr)this._removeSelectionAttribute(Wr)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(Vr){this.model.document.selection._restoreGravity(Vr)}_setSelectionAttribute(Vr,Wr){const Zr=this.model.document.selection;if(Zr.isCollapsed&&Zr.anchor.parent.isEmpty){const tn=Eu._getStoreAttributeKey(Vr);this.setAttribute(tn,Wr,Zr.anchor.parent)}Zr._setAttribute(Vr,Wr)}_removeSelectionAttribute(Vr){const Wr=this.model.document.selection;if(Wr.isCollapsed&&Wr.anchor.parent.isEmpty){const Zr=Eu._getStoreAttributeKey(Vr);this.removeAttribute(Zr,Wr.anchor.parent)}Wr._removeAttribute(Vr)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Cn("writer-incorrect-use",this)}_addOperationForAffectedMarkers(Vr,Wr){for(const Zr of this.model.markers){if(!Zr.managedUsingOperations)continue;const tn=Zr.getRange();let sn=!1;if(Vr==="move"){const un=Wr;sn=un.containsPosition(tn.start)||un.start.isEqual(tn.start)||un.containsPosition(tn.end)||un.end.isEqual(tn.end)}else{const un=Wr,fn=un.nodeBefore,yn=un.nodeAfter,xn=tn.start.parent==fn&&tn.start.isAtEnd,Dn=tn.end.parent==yn&&tn.end.offset==0,Mn=tn.end.nodeAfter==yn,Rn=tn.start.nodeAfter==yn;sn=xn||Dn||Mn||Rn}sn&&this.updateMarker(Zr.name,{range:tn})}}}function Jv(en,Vr,Wr,Zr){const tn=en.model,sn=tn.document;let un,fn,yn,xn=Zr.start;for(const Mn of Zr.getWalker({shallow:!0}))yn=Mn.item.getAttribute(Vr),un&&fn!=yn&&(fn!=Wr&&Dn(),xn=un),un=Mn.nextPosition,fn=yn;function Dn(){const Mn=new Yi(xn,un),Rn=Mn.root.document?sn.version:null,Un=new Ml(Mn,Vr,fn,Wr,Rn);en.batch.addOperation(Un),tn.applyOperation(Un)}un instanceof po&&un!=xn&&fn!=Wr&&Dn()}function ey(en,Vr,Wr,Zr){const tn=en.model,sn=tn.document,un=Zr.getAttribute(Vr);let fn,yn;if(un!=Wr){if(Zr.root===Zr){const xn=Zr.document?sn.version:null;yn=new gd(Zr,Vr,un,Wr,xn)}else{fn=new Yi(po._createBefore(Zr),en.createPositionAfter(Zr));const xn=fn.root.document?sn.version:null;yn=new Ml(fn,Vr,un,Wr,xn)}en.batch.addOperation(yn),tn.applyOperation(yn)}}function Qf(en,Vr,Wr,Zr,tn){const sn=en.model,un=sn.document,fn=new Lc(Vr,Wr,Zr,sn.markers,!!tn,un.version);en.batch.addOperation(fn),sn.applyOperation(fn)}function Rk(en,Vr,Wr,Zr){let tn;if(en.root.document){const sn=Zr.document,un=new po(sn.graveyard,[0]);tn=new Ts(en,Vr,un,sn.version)}else tn=new Pk(en,Vr);Wr.addOperation(tn),Zr.applyOperation(tn)}function ty(en,Vr){return en===Vr||en instanceof Fp&&Vr instanceof Fp}function $k(en,Vr,Wr={}){if(Vr.isCollapsed)return;const Zr=Vr.getFirstRange();if(Zr.root.rootName=="$graveyard")return;const tn=en.schema;en.change(sn=>{if(!Wr.doNotResetEntireContent&&function(xn,Dn){const Mn=xn.getLimitElement(Dn);if(!Dn.containsEntireContent(Mn))return!1;const Rn=Dn.getFirstRange();return Rn.start.parent==Rn.end.parent?!1:xn.checkChild(Mn,"paragraph")}(tn,Vr))return void function(xn,Dn){const Mn=xn.model.schema.getLimitElement(Dn);xn.remove(xn.createRangeIn(Mn)),iy(xn,xn.createPositionAt(Mn,0),Dn)}(sn,Vr);const un={};if(!Wr.doNotAutoparagraph){const xn=Vr.getSelectedElement();xn&&Object.assign(un,tn.getAttributesWithProperty(xn,"copyOnReplace",!0))}const[fn,yn]=function(xn){const Dn=xn.root.document.model,Mn=xn.start;let Rn=xn.end;if(Dn.hasContent(xn,{ignoreMarkers:!0})){const Un=function(Kn){const ti=Kn.parent,si=ti.root.document.model.schema,fi=ti.getAncestors({parentFirst:!0,includeSelf:!0});for(const Li of fi){if(si.isLimit(Li))return null;if(si.isBlock(Li))return Li}}(Rn);if(Un&&Rn.isTouching(Dn.createPositionAt(Un,0))){const Kn=Dn.createSelection(xn);Dn.modifySelection(Kn,{direction:"backward"});const ti=Kn.getLastPosition(),si=Dn.createRange(ti,Rn);Dn.hasContent(si,{ignoreMarkers:!0})||(Rn=ti)}}return[uc.fromPosition(Mn,"toPrevious"),uc.fromPosition(Rn,"toNext")]}(Zr);fn.isTouching(yn)||sn.remove(sn.createRange(fn,yn)),Wr.leaveUnmerged||(function(xn,Dn,Mn){const Rn=xn.model;if(!Hg(xn.model.schema,Dn,Mn))return;const[Un,Kn]=function(ti,si){const fi=ti.getAncestors(),Li=si.getAncestors();let eo=0;for(;fi[eo]&&fi[eo]==Li[eo];)eo++;return[fi[eo],Li[eo]]}(Dn,Mn);!Un||!Kn||(!Rn.hasContent(Un,{ignoreMarkers:!0})&&Rn.hasContent(Kn,{ignoreMarkers:!0})?ny(xn,Dn,Mn,Un.parent):ry(xn,Dn,Mn,Un.parent))}(sn,fn,yn),tn.removeDisallowedAttributes(fn.parent.getChildren(),sn)),oy(sn,Vr,fn),!Wr.doNotAutoparagraph&&function(xn,Dn){const Mn=xn.checkChild(Dn,"$text"),Rn=xn.checkChild(Dn,"paragraph");return!Mn&&Rn}(tn,fn)&&iy(sn,fn,Vr,un),fn.detach(),yn.detach()})}function ry(en,Vr,Wr,Zr){const tn=Vr.parent,sn=Wr.parent;if(tn!=Zr&&sn!=Zr){for(Vr=en.createPositionAfter(tn),(Wr=en.createPositionBefore(sn)).isEqual(Vr)||en.insert(sn,Vr),en.merge(Vr);Wr.parent.isEmpty;){const un=Wr.parent;Wr=en.createPositionBefore(un),en.remove(un)}Hg(en.model.schema,Vr,Wr)&&ry(en,Vr,Wr,Zr)}}function ny(en,Vr,Wr,Zr){const tn=Vr.parent,sn=Wr.parent;if(tn!=Zr&&sn!=Zr){for(Vr=en.createPositionAfter(tn),(Wr=en.createPositionBefore(sn)).isEqual(Vr)||en.insert(tn,Wr);Vr.parent.isEmpty;){const un=Vr.parent;Vr=en.createPositionBefore(un),en.remove(un)}Wr=en.createPositionBefore(sn),function(un,fn){const yn=fn.nodeBefore,xn=fn.nodeAfter;yn.name!=xn.name&&un.rename(yn,xn.name),un.clearAttributes(yn),un.setAttributes(Object.fromEntries(xn.getAttributes()),yn),un.merge(fn)}(en,Wr),Hg(en.model.schema,Vr,Wr)&&ny(en,Vr,Wr,Zr)}}function Hg(en,Vr,Wr){const Zr=Vr.parent,tn=Wr.parent;return Zr!=tn&&!en.isLimit(Zr)&&!en.isLimit(tn)&&function(sn,un,fn){const yn=new Yi(sn,un);for(const xn of yn.getWalker())if(fn.isLimit(xn.item))return!1;return!0}(Vr,Wr,en)}function iy(en,Vr,Wr,Zr={}){const tn=en.createElement("paragraph");en.model.schema.setAllowedAttributes(tn,Zr,en),en.insert(tn,Vr),oy(en,Wr,en.createPositionAt(tn,0))}function oy(en,Vr,Wr){Vr instanceof Eu?en.setSelection(Wr):Vr.setTo(Wr)}function ay(en,Vr){const Wr=[];Array.from(en.getItems({direction:"backward"})).map(Zr=>Vr.createRangeOn(Zr)).filter(Zr=>(Zr.start.isAfter(en.start)||Zr.start.isEqual(en.start))&&(Zr.end.isBefore(en.end)||Zr.end.isEqual(en.end))).forEach(Zr=>{Wr.push(Zr.start.parent),Vr.remove(Zr)}),Wr.forEach(Zr=>{let tn=Zr;for(;tn.parent&&tn.isEmpty;){const sn=Vr.createRangeOn(tn);tn=tn.parent,Vr.remove(sn)}})}class Nk{constructor(Vr,Wr,Zr){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=Vr,this.writer=Wr,this.position=Zr,this.canMergeWith=new Set([this.position.parent]),this.schema=Vr.schema,this._documentFragment=Wr.createDocumentFragment(),this._documentFragmentPosition=Wr.createPositionAt(this._documentFragment,0)}handleNodes(Vr){for(const Wr of Array.from(Vr))this._handleNode(Wr);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(Vr){const Wr=this.writer.createPositionAfter(this._lastNode),Zr=this.writer.createPositionAfter(Vr);if(Zr.isAfter(Wr)){if(this._lastNode=Vr,this.position.parent!=Vr||!this.position.isAtEnd)throw new Cn("insertcontent-invalid-insertion-position",this);this.position=Zr,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Yi._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Yi(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(Vr){if(this.schema.isObject(Vr))return void this._handleObject(Vr);let Wr=this._checkAndAutoParagraphToAllowedPosition(Vr);Wr||(Wr=this._checkAndSplitToAllowedPosition(Vr),Wr)?(this._appendToFragment(Vr),this._firstNode||(this._firstNode=Vr),this._lastNode=Vr):this._handleDisallowedNode(Vr)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const Vr=uc.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=Vr.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=Vr.toPosition(),Vr.detach()}_handleObject(Vr){this._checkAndSplitToAllowedPosition(Vr)?this._appendToFragment(Vr):this._tryAutoparagraphing(Vr)}_handleDisallowedNode(Vr){Vr.is("element")?this.handleNodes(Vr.getChildren()):this._tryAutoparagraphing(Vr)}_appendToFragment(Vr){if(!this.schema.checkChild(this.position,Vr))throw new Cn("insertcontent-wrong-position",this,{node:Vr,position:this.position});this.writer.insert(Vr,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(Vr.offsetSize),this.schema.isObject(Vr)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=Vr:this._nodeToSelect=null,this._filterAttributesOf.push(Vr)}_setAffectedBoundaries(Vr){this._affectedStart||(this._affectedStart=uc.fromPosition(Vr,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(Vr)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=uc.fromPosition(Vr,"toNext"))}_mergeOnLeft(){const Vr=this._firstNode;if(!(Vr instanceof Rs)||!this._canMergeLeft(Vr))return;const Wr=uc._createBefore(Vr);Wr.stickiness="toNext";const Zr=uc.fromPosition(this.position,"toNext");this._affectedStart.isEqual(Wr)&&(this._affectedStart.detach(),this._affectedStart=uc._createAt(Wr.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=Wr.nodeBefore,this._lastNode=Wr.nodeBefore),this.writer.merge(Wr),Wr.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=uc._createAt(Wr.nodeBefore,"end","toNext")),this.position=Zr.toPosition(),Zr.detach(),this._filterAttributesOf.push(this.position.parent),Wr.detach()}_mergeOnRight(){const Vr=this._lastNode;if(!(Vr instanceof Rs)||!this._canMergeRight(Vr))return;const Wr=uc._createAfter(Vr);if(Wr.stickiness="toNext",!this.position.isEqual(Wr))throw new Cn("insertcontent-invalid-insertion-position",this);this.position=po._createAt(Wr.nodeBefore,"end");const Zr=uc.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(Wr)&&(this._affectedEnd.detach(),this._affectedEnd=uc._createAt(Wr.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=Wr.nodeBefore,this._lastNode=Wr.nodeBefore),this.writer.merge(Wr),Wr.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=uc._createAt(Wr.nodeBefore,0,"toPrevious")),this.position=Zr.toPosition(),Zr.detach(),this._filterAttributesOf.push(this.position.parent),Wr.detach()}_canMergeLeft(Vr){const Wr=Vr.previousSibling;return Wr instanceof Rs&&this.canMergeWith.has(Wr)&&this.model.schema.checkMerge(Wr,Vr)}_canMergeRight(Vr){const Wr=Vr.nextSibling;return Wr instanceof Rs&&this.canMergeWith.has(Wr)&&this.model.schema.checkMerge(Vr,Wr)}_tryAutoparagraphing(Vr){const Wr=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,Wr)&&this.schema.checkChild(Wr,Vr)&&(Wr._appendChild(Vr),this._handleNode(Wr))}_checkAndAutoParagraphToAllowedPosition(Vr){if(this.schema.checkChild(this.position.parent,Vr))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",Vr))return!1;this._insertPartialFragment();const Wr=this.writer.createElement("paragraph");return this.writer.insert(Wr,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=Wr,this.position=this.writer.createPositionAt(Wr,0),!0}_checkAndSplitToAllowedPosition(Vr){const Wr=this._getAllowedIn(this.position.parent,Vr);if(!Wr)return!1;for(Wr!=this.position.parent&&this._insertPartialFragment();Wr!=this.position.parent;)if(this.position.isAtStart){const Zr=this.position.parent;this.position=this.writer.createPositionBefore(Zr),Zr.isEmpty&&Zr.parent===Wr&&this.writer.remove(Zr)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const Zr=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=Zr,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(Vr,Wr){return this.schema.checkChild(Vr,Wr)?Vr:this.schema.isLimit(Vr)?null:this._getAllowedIn(Vr.parent,Wr)}}function sy(en,Vr,Wr="auto"){const Zr=en.getSelectedElement();if(Zr&&Vr.schema.isObject(Zr)&&!Vr.schema.isInline(Zr))return Wr=="before"||Wr=="after"?Vr.createRange(Vr.createPositionAt(Zr,Wr)):Vr.createRangeOn(Zr);const tn=_l(en.getSelectedBlocks());if(!tn)return Vr.createRange(en.focus);if(tn.isEmpty)return Vr.createRange(Vr.createPositionAt(tn,0));const sn=Vr.createPositionAfter(tn);return en.focus.isTouching(sn)?Vr.createRange(sn):Vr.createRange(Vr.createPositionBefore(tn))}function Bk(en,Vr,Wr,Zr={}){if(!en.schema.isObject(Vr))throw new Cn("insertobject-element-not-an-object",en,{object:Vr});const tn=Wr||en.document.selection;let sn=tn;Zr.findOptimalPosition&&en.schema.isBlock(Vr)&&(sn=en.createSelection(sy(tn,en,Zr.findOptimalPosition)));const un=_l(tn.getSelectedBlocks()),fn={};return un&&Object.assign(fn,en.schema.getAttributesWithProperty(un,"copyOnReplace",!0)),en.change(yn=>{sn.isCollapsed||en.deleteContent(sn,{doNotAutoparagraph:!0});let xn=Vr;const Dn=sn.anchor.parent;!en.schema.checkChild(Dn,Vr)&&en.schema.checkChild(Dn,"paragraph")&&en.schema.checkChild("paragraph",Vr)&&(xn=yn.createElement("paragraph"),yn.insert(Vr,xn)),en.schema.setAllowedAttributes(xn,fn,yn);const Mn=en.insertContent(xn,sn);return Mn.isCollapsed||Zr.setSelection&&function(Rn,Un,Kn,ti){const si=Rn.model;if(Kn=="on")return void Rn.setSelection(Un,"on");if(Kn!="after")throw new Cn("insertobject-invalid-place-parameter-value",si);let fi=Un.nextSibling;if(si.schema.isInline(Un))return void Rn.setSelection(Un,"after");!(fi&&si.schema.checkChild(fi,"$text"))&&si.schema.checkChild(Un.parent,"paragraph")&&(fi=Rn.createElement("paragraph"),si.schema.setAllowedAttributes(fi,ti,Rn),si.insertContent(fi,Rn.createPositionAfter(Un))),fi&&Rn.setSelection(fi,0)}(yn,Vr,Zr.setSelection,fn),Mn})}const Fk=' ,.?!:;"-()';function zk(en,Vr){const{isForward:Wr,walker:Zr,unit:tn,schema:sn,treatEmojiAsSingleUnit:un}=en,{type:fn,item:yn,nextPosition:xn}=Vr;if(fn=="text")return en.unit==="word"?function(Dn,Mn){let Rn=Dn.position.textNode;for(Rn||(Rn=Mn?Dn.position.nodeAfter:Dn.position.nodeBefore);Rn&&Rn.is("$text");){const Un=Dn.position.offset-Rn.startOffset;if(jk(Rn,Un,Mn))Rn=Mn?Dn.position.nodeAfter:Dn.position.nodeBefore;else{if(Vk(Rn.data,Un,Mn))break;Dn.next()}}return Dn.position}(Zr,Wr):function(Dn,Mn,Rn){const Un=Dn.position.textNode;if(Un){const Kn=Un.data;let ti=Dn.position.offset-Un.startOffset;for(;Bl(Kn,ti)||Mn=="character"&&hl(Kn,ti)||Rn&&op(Kn,ti);)Dn.next(),ti=Dn.position.offset-Un.startOffset}return Dn.position}(Zr,tn,un);if(fn==(Wr?"elementStart":"elementEnd")){if(sn.isSelectable(yn))return po._createAt(yn,Wr?"after":"before");if(sn.checkChild(xn,"$text"))return xn}else{if(sn.isLimit(yn))return void Zr.skip(()=>!0);if(sn.checkChild(xn,"$text"))return xn}}function Hk(en,Vr){const Wr=en.root,Zr=po._createAt(Wr,Vr?"end":0);return Vr?new Yi(en,Zr):new Yi(Zr,en)}function Vk(en,Vr,Wr){const Zr=Vr+(Wr?0:-1);return Fk.includes(en.charAt(Zr))}function jk(en,Vr,Wr){return Vr===(Wr?en.offsetSize:0)}class Uk extends Ji(){constructor(){super(),this.markers=new Lk,this.document=new Sk(this),this.schema=new z1,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(Vr=>this.decorate(Vr)),this.on("applyOperation",(Vr,Wr)=>{Wr[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((Vr,Wr)=>{if(Wr.name==="$marker")return!0}),N1(this),this.document.registerPostFixer(yv),this.on("insertContent",(Vr,[Wr,Zr])=>{Vr.return=function(tn,sn,un){return tn.change(fn=>{const yn=un||tn.document.selection;yn.isCollapsed||tn.deleteContent(yn,{doNotAutoparagraph:!0});const xn=new Nk(tn,fn,yn.anchor),Dn=[];let Mn;if(sn.is("documentFragment")){if(sn.markers.size){const Kn=[];for(const[ti,si]of sn.markers){const{start:fi,end:Li}=si,eo=fi.isEqual(Li);Kn.push({position:fi,name:ti,isCollapsed:eo},{position:Li,name:ti,isCollapsed:eo})}Kn.sort(({position:ti},{position:si})=>ti.isBefore(si)?1:-1);for(const{position:ti,name:si,isCollapsed:fi}of Kn){let Li=null,eo=null;const Fo=ti.parent===sn&&ti.isAtStart,wa=ti.parent===sn&&ti.isAtEnd;Fo||wa?fi&&(eo=Fo?"start":"end"):(Li=fn.createElement("$marker"),fn.insert(Li,ti)),Dn.push({name:si,element:Li,collapsed:eo})}}Mn=sn.getChildren()}else Mn=[sn];xn.handleNodes(Mn);let Rn=xn.getSelectionRange();if(sn.is("documentFragment")&&Dn.length){const Kn=Rn?Du.fromRange(Rn):null,ti={};for(let si=Dn.length-1;si>=0;si--){const{name:fi,element:Li,collapsed:eo}=Dn[si],Fo=!ti[fi];if(Fo&&(ti[fi]=[]),Li){const wa=fn.createPositionAt(Li,"before");ti[fi].push(wa),fn.remove(Li)}else{const wa=xn.getAffectedRange();if(!wa){eo&&ti[fi].push(xn.position);continue}eo?ti[fi].push(wa[eo]):ti[fi].push(Fo?wa.start:wa.end)}}for(const[si,[fi,Li]]of Object.entries(ti))fi&&Li&&fi.root===Li.root&&fn.addMarker(si,{usingOperation:!0,affectsData:!0,range:new Yi(fi,Li)});Kn&&(Rn=Kn.toRange(),Kn.detach())}Rn&&(yn instanceof Eu?fn.setSelection(Rn):yn.setTo(Rn));const Un=xn.getAffectedRange()||tn.createRange(yn.anchor);return xn.destroy(),Un})}(this,Wr,Zr)}),this.on("insertObject",(Vr,[Wr,Zr,tn])=>{Vr.return=Bk(this,Wr,Zr,tn)}),this.on("canEditAt",Vr=>{const Wr=!this.document.isReadOnly;Vr.return=Wr,Wr||Vr.stop()})}change(Vr){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Vh,callback:Vr}),this._runPendingChanges()[0]):Vr(this._currentWriter)}catch(Wr){Cn.rethrowUnexpectedError(Wr,this)}}enqueueChange(Vr,Wr){try{Vr?typeof Vr=="function"?(Wr=Vr,Vr=new Vh):Vr instanceof Vh||(Vr=new Vh(Vr)):Vr=new Vh,this._pendingChanges.push({batch:Vr,callback:Wr}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(Zr){Cn.rethrowUnexpectedError(Zr,this)}}applyOperation(Vr){Vr._execute()}insertContent(Vr,Wr,Zr,...tn){const sn=Vg(Wr,Zr);return this.fire("insertContent",[Vr,sn,Zr,...tn])}insertObject(Vr,Wr,Zr,tn,...sn){const un=Vg(Wr,Zr);return this.fire("insertObject",[Vr,un,tn,tn,...sn])}deleteContent(Vr,Wr){$k(this,Vr,Wr)}modifySelection(Vr,Wr){(function(Zr,tn,sn={}){const un=Zr.schema,fn=sn.direction!="backward",yn=sn.unit?sn.unit:"character",xn=!!sn.treatEmojiAsSingleUnit,Dn=tn.focus,Mn=new qu({boundaries:Hk(Dn,fn),singleCharacters:!0,direction:fn?"forward":"backward"}),Rn={walker:Mn,schema:un,isForward:fn,unit:yn,treatEmojiAsSingleUnit:xn};let Un;for(;Un=Mn.next();){if(Un.done)return;const Kn=zk(Rn,Un.value);if(Kn)return void(tn instanceof Eu?Zr.change(ti=>{ti.setSelectionFocus(Kn)}):tn.setFocus(Kn))}})(this,Vr,Wr)}getSelectedContent(Vr){return function(Wr,Zr){return Wr.change(tn=>{const sn=tn.createDocumentFragment(),un=Zr.getFirstRange();if(!un||un.isCollapsed)return sn;const fn=un.start.root,yn=un.start.getCommonPath(un.end),xn=fn.getNodeByPath(yn);let Dn;Dn=un.start.parent==un.end.parent?un:tn.createRange(tn.createPositionAt(xn,un.start.path[yn.length]),tn.createPositionAt(xn,un.end.path[yn.length]+1));const Mn=Dn.end.offset-Dn.start.offset;for(const Rn of Dn.getItems({shallow:!0}))Rn.is("$textProxy")?tn.appendText(Rn.data,Rn.getAttributes(),sn):tn.append(tn.cloneElement(Rn,!0),sn);if(Dn!=un){const Rn=un._getTransformedByMove(Dn.start,tn.createPositionAt(sn,0),Mn)[0],Un=tn.createRange(tn.createPositionAt(sn,0),Rn.start);ay(tn.createRange(Rn.end,tn.createPositionAt(sn,"end")),tn),ay(Un,tn)}return sn})}(this,Vr)}hasContent(Vr,Wr={}){const Zr=Vr instanceof Yi?Vr:Yi._createIn(Vr);if(Zr.isCollapsed)return!1;const{ignoreWhitespaces:tn=!1,ignoreMarkers:sn=!1}=Wr;if(!sn){for(const un of this.markers.getMarkersIntersectingRange(Zr))if(un.affectsData)return!0}for(const un of Zr.getItems())if(this.schema.isContent(un)&&(!un.is("$textProxy")||!tn||un.data.search(/\S/)!==-1))return!0;return!1}canEditAt(Vr){const Wr=Vg(Vr);return this.fire("canEditAt",[Wr])}createPositionFromPath(Vr,Wr,Zr){return new po(Vr,Wr,Zr)}createPositionAt(Vr,Wr){return po._createAt(Vr,Wr)}createPositionAfter(Vr){return po._createAfter(Vr)}createPositionBefore(Vr){return po._createBefore(Vr)}createRange(Vr,Wr){return new Yi(Vr,Wr)}createRangeIn(Vr){return Yi._createIn(Vr)}createRangeOn(Vr){return Yi._createOn(Vr)}createSelection(...Vr){return new Wc(...Vr)}createBatch(Vr){return new Vh(Vr)}createOperationFromJSON(Vr){return lk.fromJSON(Vr,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const Vr=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const Wr=this._pendingChanges[0].batch;this._currentWriter=new Ok(this,Wr);const Zr=this._pendingChanges[0].callback(this._currentWriter);Vr.push(Zr),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return Vr}}function Vg(en,Vr){if(en)return en instanceof Wc||en instanceof Eu?en:en instanceof uh?Vr||Vr===0?new Wc(en,Vr):en.is("rootElement")?new Wc(en,"in"):new Wc(en,"on"):new Wc(en)}class Gk extends Wo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(Vr){this.fire(Vr.type,Vr)}}class jg extends Wo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(Vr){this.fire(Vr.type,Vr)}}class ph{constructor(Vr){this.document=Vr}createDocumentFragment(Vr){return new Uu(this.document,Vr)}createElement(Vr,Wr,Zr){return new ac(this.document,Vr,Wr,Zr)}createText(Vr){return new Ls(this.document,Vr)}clone(Vr,Wr=!1){return Vr._clone(Wr)}appendChild(Vr,Wr){return Wr._appendChild(Vr)}insertChild(Vr,Wr,Zr){return Zr._insertChild(Vr,Wr)}removeChildren(Vr,Wr,Zr){return Zr._removeChildren(Vr,Wr)}remove(Vr){const Wr=Vr.parent;return Wr?this.removeChildren(Wr.getChildIndex(Vr),1,Wr):[]}replace(Vr,Wr){const Zr=Vr.parent;if(Zr){const tn=Zr.getChildIndex(Vr);return this.removeChildren(tn,1,Zr),this.insertChild(tn,Wr,Zr),!0}return!1}unwrapElement(Vr){const Wr=Vr.parent;if(Wr){const Zr=Wr.getChildIndex(Vr);this.remove(Vr),this.insertChild(Zr,Vr.getChildren(),Wr)}}rename(Vr,Wr){const Zr=new ac(this.document,Vr,Wr.getAttributes(),Wr.getChildren());return this.replace(Wr,Zr)?Zr:null}setAttribute(Vr,Wr,Zr){Zr._setAttribute(Vr,Wr)}removeAttribute(Vr,Wr){Wr._removeAttribute(Vr)}addClass(Vr,Wr){Wr._addClass(Vr)}removeClass(Vr,Wr){Wr._removeClass(Vr)}setStyle(Vr,Wr,Zr){us(Vr)&&Zr===void 0?Wr._setStyle(Vr):Zr._setStyle(Vr,Wr)}removeStyle(Vr,Wr){Wr._removeStyle(Vr)}setCustomProperty(Vr,Wr,Zr){Zr._setCustomProperty(Vr,Wr)}removeCustomProperty(Vr,Wr){return Wr._removeCustomProperty(Vr)}createPositionAt(Vr,Wr){return Eo._createAt(Vr,Wr)}createPositionAfter(Vr){return Eo._createAfter(Vr)}createPositionBefore(Vr){return Eo._createBefore(Vr)}createRange(Vr,Wr){return new va(Vr,Wr)}createRangeOn(Vr){return va._createOn(Vr)}createRangeIn(Vr){return va._createIn(Vr)}createSelection(...Vr){return new au(...Vr)}}class Wk{constructor(){this._commands=new Map}add(Vr,Wr){this._commands.set(Vr,Wr)}get(Vr){return this._commands.get(Vr)}execute(Vr,...Wr){const Zr=this.get(Vr);if(!Zr)throw new Cn("commandcollection-command-not-found",this,{commandName:Vr});return Zr.execute(...Wr)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const Vr of this.commands())Vr.destroy()}}class Yk extends Ji(){constructor(Vr={}){super();const Wr=this.constructor,Zr=Vr.language||Wr.defaultConfig&&Wr.defaultConfig.language;this._context=Vr.context||new cd({language:Zr}),this._context._addEditor(this,!Vr.context);const tn=Array.from(Wr.builtinPlugins||[]);this.config=new ma(Vr,Wr.defaultConfig),this.config.define("plugins",tn),this.config.define(this._context._getEditorConfig()),this.plugins=new Af(this,tn,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Wk,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Uk,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const sn=new xp;this.data=new ak(this.model,sn),this.editing=new B1(this.model,sn),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new sk([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Eh(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(Vr){throw new Cn("editor-isreadonly-has-no-setter")}enableReadOnlyMode(Vr){if(typeof Vr!="string"&&typeof Vr!="symbol")throw new Cn("editor-read-only-lock-id-invalid",null,{lockId:Vr});this._readOnlyLocks.has(Vr)||(this._readOnlyLocks.add(Vr),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(Vr){if(typeof Vr!="string"&&typeof Vr!="symbol")throw new Cn("editor-read-only-lock-id-invalid",null,{lockId:Vr});this._readOnlyLocks.has(Vr)&&(this._readOnlyLocks.delete(Vr),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const Vr=this.config,Wr=Vr.get("plugins"),Zr=Vr.get("removePlugins")||[],tn=Vr.get("extraPlugins")||[],sn=Vr.get("substitutePlugins")||[];return this.plugins.init(Wr.concat(tn),Zr,sn)}destroy(){let Vr=Promise.resolve();return this.state=="initializing"&&(Vr=new Promise(Wr=>this.once("ready",Wr))),Vr.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(Vr,...Wr){try{return this.commands.execute(Vr,...Wr)}catch(Zr){Cn.rethrowUnexpectedError(Zr,this)}}focus(){this.editing.view.focus()}static create(...Vr){throw new Error("This is an abstract method.")}}function zp(en){return class extends en{setData(Vr){this.data.set(Vr)}getData(Vr){return this.data.get(Vr)}}}{const en=zp(Object);zp.setData=en.prototype.setData,zp.getData=en.prototype.getData}function Ug(en){return class extends en{updateSourceElement(Vr=this.data.get()){if(!this.sourceElement)throw new Cn("editor-missing-sourceelement",this);const Wr=this.config.get("updateSourceElementOnDestroy"),Zr=this.sourceElement instanceof HTMLTextAreaElement;Hd(this.sourceElement,Wr||Zr?Vr:"")}}}Ug.updateSourceElement=Ug(Object).prototype.updateSourceElement;class ly extends eh{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Fc({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(Vr){if(typeof Vr!="string")throw new Cn("pendingactions-add-invalid-message",this);const Wr=new(Ji());return Wr.set("message",Vr),this._actions.add(Wr),this.hasAny=!0,Wr}remove(Vr){this._actions.remove(Vr),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Il={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var cy=Fr(5542),qk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(cy.Z,qk),cy.Z.locals;const{threeVerticalDots:uy}=Il,Kk={alignLeft:Il.alignLeft,bold:Il.bold,importExport:Il.importExport,paragraph:Il.paragraph,plus:Il.plus,text:Il.text,threeVerticalDots:Il.threeVerticalDots};class Gg extends is{constructor(Vr,Wr){super(Vr);const Zr=this.bindTemplate,tn=this.t;this.options=Wr||{},this.set("ariaLabel",tn("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Ic,this.keystrokes=new tu,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Zk(Vr),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const sn=Vr.uiLanguageDirection==="rtl";this._focusCycler=new sd({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[sn?"arrowright":"arrowleft","arrowup"],focusNext:[sn?"arrowleft":"arrowright","arrowdown"]}});const un=["ck","ck-toolbar",Zr.to("class"),Zr.if("isCompact","ck-toolbar_compact")];var fn;this.options.shouldGroupWhenFull&&this.options.isFloating&&un.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:un,role:"toolbar","aria-label":Zr.to("ariaLabel"),style:{maxWidth:Zr.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(fn=this,fn.bindTemplate.to(yn=>{yn.target===fn.element&&yn.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Qk(this):new Xk(this)}render(){super.render(),this.focusTracker.add(this.element);for(const Vr of this.items)this.focusTracker.add(Vr.element);this.items.on("add",(Vr,Wr)=>{this.focusTracker.add(Wr.element)}),this.items.on("remove",(Vr,Wr)=>{this.focusTracker.remove(Wr.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(Vr,Wr,Zr){this.items.addMany(this._buildItemsFromConfig(Vr,Wr,Zr))}_buildItemsFromConfig(Vr,Wr,Zr){const tn=_f(Vr),sn=Zr||tn.removeItems;return this._cleanItemsConfiguration(tn.items,Wr,sn).map(un=>ji(un)?this._createNestedToolbarDropdown(un,Wr,sn):un==="|"?new Jd:un==="-"?new fp:Wr.create(un)).filter(un=>!!un)}_cleanItemsConfiguration(Vr,Wr,Zr){const tn=Vr.filter((sn,un,fn)=>sn==="|"||Zr.indexOf(sn)===-1&&(sn==="-"?!this.options.shouldGroupWhenFull||(En("toolbarview-line-break-ignored-when-grouping-items",fn),!1):!(!ji(sn)&&!Wr.has(sn))||(En("toolbarview-item-unavailable",{item:sn}),!1)));return this._cleanSeparatorsAndLineBreaks(tn)}_cleanSeparatorsAndLineBreaks(Vr){const Wr=un=>un!=="-"&&un!=="|",Zr=Vr.length,tn=Vr.findIndex(Wr);if(tn===-1)return[];const sn=Zr-Vr.slice().reverse().findIndex(Wr);return Vr.slice(tn,sn).filter((un,fn,yn)=>Wr(un)?!0:!(fn>0&&yn[fn-1]===un))}_createNestedToolbarDropdown(Vr,Wr,Zr){let{label:tn,icon:sn,items:un,tooltip:fn=!0,withText:yn=!1}=Vr;if(un=this._cleanItemsConfiguration(un,Wr,Zr),!un.length)return null;const xn=Nd(this.locale);return tn||En("toolbarview-nested-toolbar-dropdown-missing-label",Vr),xn.class="ck-toolbar__nested-toolbar-dropdown",xn.buttonView.set({label:tn,tooltip:fn,withText:!!yn}),sn!==!1?xn.buttonView.icon=Kk[sn]||sn||uy:xn.buttonView.withText=!0,Yg(xn,()=>xn.toolbarView._buildItemsFromConfig(un,Wr,Zr)),xn}}class Zk extends is{constructor(Vr){super(Vr),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Xk{constructor(Vr){const Wr=Vr.bindTemplate;Vr.set("isVertical",!1),Vr.itemsView.children.bindTo(Vr.items).using(Zr=>Zr),Vr.focusables.bindTo(Vr.items).using(Zr=>Zr),Vr.extendTemplate({attributes:{class:[Wr.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Qk{constructor(Vr){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=Vr,this.viewChildren=Vr.children,this.viewFocusables=Vr.focusables,this.viewItemsView=Vr.itemsView,this.viewFocusTracker=Vr.focusTracker,this.viewLocale=Vr.locale,this.ungroupedItems=Vr.createCollection(),this.groupedItems=Vr.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),Vr.itemsView.children.bindTo(this.ungroupedItems).using(Wr=>Wr),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),Vr.children.on("change",this._updateFocusCycleableItems.bind(this)),Vr.items.on("change",(Wr,Zr)=>{const tn=Zr.index,sn=Array.from(Zr.added);for(const un of Zr.removed)tn>=this.ungroupedItems.length?this.groupedItems.remove(un):this.ungroupedItems.remove(un);for(let un=tn;un<tn+sn.length;un++){const fn=sn[un-tn];un>this.ungroupedItems.length?this.groupedItems.add(fn,un-this.ungroupedItems.length):this.ungroupedItems.add(fn,un)}this._updateGrouping()}),Vr.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(Vr){this.viewElement=Vr.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(Vr)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Tc(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const Vr=this.groupedItems.length;let Wr;for(;this._areItemsOverflowing;)this._groupLastItem(),Wr=!0;if(!Wr&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==Vr&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const Vr=this.viewElement,Wr=this.viewLocale.uiLanguageDirection,Zr=new js(Vr.lastChild),tn=new js(Vr);if(!this.cachedPadding){const sn=Sa.window.getComputedStyle(Vr),un=Wr==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(sn[un])}return Wr==="ltr"?Zr.right>tn.right-this.cachedPadding:Zr.left<tn.left+this.cachedPadding}_enableGroupingOnResize(){let Vr;this.resizeObserver=new wd(this.viewElement,Wr=>{Vr&&Vr===Wr.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),Vr=Wr.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(Vr){Vr.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Jd),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const Vr=this.viewLocale,Wr=Vr.t,Zr=Nd(Vr);return Zr.class="ck-toolbar__grouped-dropdown",Zr.panelPosition=Vr.uiLanguageDirection==="ltr"?"sw":"se",Yg(Zr,this.groupedItems),Zr.buttonView.set({label:Wr("Show more items"),tooltip:!0,tooltipPosition:Vr.uiLanguageDirection==="rtl"?"se":"sw",icon:uy}),Zr}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(Vr=>{this.viewFocusables.add(Vr)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var dy=Fr(1046),Jk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(dy.Z,Jk),dy.Z.locals;class eA extends is{constructor(Vr){super(Vr);const Wr=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Ic,this.keystrokes=new tu,this._focusCycler=new sd({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:Wr.to("role"),"aria-label":Wr.to("ariaLabel")},children:this.items})}render(){super.render();for(const Vr of this.items)this.focusTracker.add(Vr.element);this.items.on("add",(Vr,Wr)=>{this.focusTracker.add(Wr.element)}),this.items.on("remove",(Vr,Wr)=>{this.focusTracker.remove(Wr.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class hy extends is{constructor(Vr){super(Vr);const Wr=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",Wr.if("isVisible","ck-hidden",Zr=>!Zr)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class tA extends is{constructor(Vr){super(Vr),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var fy=Fr(7686),rA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(fy.Z,rA),fy.Z.locals;class Wg extends is{constructor(Vr){super(Vr);const Wr=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new tu,this.focusTracker=new Ic,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",Wr.to("class"),Wr.if("isVisible","ck-hidden",Zr=>!Zr),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(Vr,Wr)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),Wr())}),this.keystrokes.set("arrowleft",(Vr,Wr)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),Wr())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const Vr=new gs;return Vr.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),Vr.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),Vr.delegate("execute").to(this),Vr}_createArrowView(){const Vr=new gs,Wr=Vr.bindTemplate;return Vr.icon=bf,Vr.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":Wr.to("isOn"),"aria-haspopup":!0,"aria-expanded":Wr.to("isOn",Zr=>String(Zr))}}),Vr.bind("isEnabled").to(this),Vr.bind("label").to(this),Vr.bind("tooltip").to(this),Vr.delegate("execute").to(this,"open"),Vr}}var py=Fr(7339),nA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(py.Z,nA),py.Z.locals;var gy=Fr(3949),iA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(gy.Z,iA),gy.Z.locals;function Nd(en,Vr=pg){const Wr=new Vr(en),Zr=new xd(en),tn=new Qd(en,Wr,Zr);return Wr.bind("isEnabled").to(tn),Wr instanceof Wg?Wr.arrowView.bind("isOn").to(tn,"isOpen"):Wr.bind("isOn").to(tn,"isOpen"),function(sn){(function(un){un.on("render",()=>{jr({emitter:un,activator:()=>un.isOpen,callback:()=>{un.isOpen=!1},contextElements:[un.element]})})})(sn),function(un){un.on("execute",fn=>{fn.source instanceof Ch||(un.isOpen=!1)})}(sn),function(un){un.focusTracker.on("change:isFocused",(fn,yn,xn)=>{un.isOpen&&!xn&&(un.isOpen=!1)})}(sn),function(un){un.keystrokes.set("arrowdown",(fn,yn)=>{un.isOpen&&(un.panelView.focus(),yn())}),un.keystrokes.set("arrowup",(fn,yn)=>{un.isOpen&&(un.panelView.focusLast(),yn())})}(sn),function(un){un.on("change:isOpen",(fn,yn,xn)=>{if(xn)return;const Dn=un.panelView.element;Dn&&Dn.contains(Sa.document.activeElement)&&un.buttonView.focus()})}(sn),function(un){un.on("change:isOpen",(fn,yn,xn)=>{xn&&un.panelView.focus()},{priority:"low"})}(sn)}(tn),tn}function Yg(en,Vr,Wr={}){en.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),en.isOpen?my(en,Vr,Wr):en.once("change:isOpen",()=>my(en,Vr,Wr),{priority:"highest"}),Wr.enableActiveItemFocusOnDropdownOpen&&by(en,()=>en.toolbarView.items.find(Zr=>Zr.isOn))}function my(en,Vr,Wr){const Zr=en.locale,tn=Zr.t,sn=en.toolbarView=new Gg(Zr),un=typeof Vr=="function"?Vr():Vr;sn.ariaLabel=Wr.ariaLabel||tn("Dropdown toolbar"),Wr.maxWidth&&(sn.maxWidth=Wr.maxWidth),Wr.class&&(sn.class=Wr.class),Wr.isCompact&&(sn.isCompact=Wr.isCompact),Wr.isVertical&&(sn.isVertical=!0),un instanceof zc?sn.items.bindTo(un).using(fn=>fn):sn.items.addMany(un),en.panelView.children.add(sn),sn.items.delegate("execute").to(en)}function vy(en,Vr,Wr={}){en.isOpen?yy(en,Vr,Wr):en.once("change:isOpen",()=>yy(en,Vr,Wr),{priority:"highest"}),by(en,()=>en.listView.items.find(Zr=>Zr instanceof hy&&Zr.children.first.isOn))}function yy(en,Vr,Wr){const Zr=en.locale,tn=en.listView=new eA(Zr),sn=typeof Vr=="function"?Vr():Vr;tn.ariaLabel=Wr.ariaLabel,tn.role=Wr.role,tn.items.bindTo(sn).using(un=>{if(un.type==="separator")return new tA(Zr);if(un.type==="button"||un.type==="switchbutton"){const fn=new hy(Zr);let yn;return yn=un.type==="button"?new gs(Zr):new Ch(Zr),yn.bind(...Object.keys(un.model)).to(un.model),yn.delegate("execute").to(fn),fn.children.add(yn),fn}return null}),en.panelView.children.add(tn),tn.items.delegate("execute").to(en)}function by(en,Vr){en.on("change:isOpen",()=>{if(!en.isOpen)return;const Wr=Vr();Wr&&(typeof Wr.focus=="function"?Wr.focus():En("ui-dropdown-focus-child-on-open-child-missing-focus",{view:Wr}))},{priority:Sn.low-10})}function qg(en,Vr,Wr){const Zr=new hp(en.locale);return Zr.set({id:Vr,ariaDescribedById:Wr}),Zr.bind("isReadOnly").to(en,"isEnabled",tn=>!tn),Zr.bind("hasError").to(en,"errorText",tn=>!!tn),Zr.on("input",()=>{en.errorText=null}),en.bind("isEmpty","isFocused","placeholder").to(Zr),Zr}const Jf=(en,Vr=0,Wr=1)=>en>Wr?Wr:en<Vr?Vr:en,dc=(en,Vr=0,Wr=Math.pow(10,Vr))=>Math.round(Wr*en)/Wr,Kg=en=>(en[0]==="#"&&(en=en.substring(1)),en.length<6?{r:parseInt(en[0]+en[0],16),g:parseInt(en[1]+en[1],16),b:parseInt(en[2]+en[2],16),a:en.length===4?dc(parseInt(en[3]+en[3],16)/255,2):1}:{r:parseInt(en.substring(0,2),16),g:parseInt(en.substring(2,4),16),b:parseInt(en.substring(4,6),16),a:en.length===8?dc(parseInt(en.substring(6,8),16)/255,2):1}),oA=({h:en,s:Vr,v:Wr,a:Zr})=>{const tn=(200-Vr)*Wr/100;return{h:dc(en),s:dc(tn>0&&tn<200?Vr*Wr/100/(tn<=100?tn:200-tn)*100:0),l:dc(tn/2),a:dc(Zr,2)}},Zg=en=>{const{h:Vr,s:Wr,l:Zr}=oA(en);return`hsl(${Vr}, ${Wr}%, ${Zr}%)`},aA=({h:en,s:Vr,v:Wr,a:Zr})=>{en=en/360*6,Vr/=100,Wr/=100;const tn=Math.floor(en),sn=Wr*(1-Vr),un=Wr*(1-(en-tn)*Vr),fn=Wr*(1-(1-en+tn)*Vr),yn=tn%6;return{r:dc(255*[Wr,un,sn,sn,fn,Wr][yn]),g:dc(255*[fn,Wr,Wr,un,sn,sn][yn]),b:dc(255*[sn,sn,fn,Wr,Wr,un][yn]),a:dc(Zr,2)}},Hp=en=>{const Vr=en.toString(16);return Vr.length<2?"0"+Vr:Vr},sA=({r:en,g:Vr,b:Wr,a:Zr})=>{const tn=Zr<1?Hp(dc(255*Zr)):"";return"#"+Hp(en)+Hp(Vr)+Hp(Wr)+tn},lA=({r:en,g:Vr,b:Wr,a:Zr})=>{const tn=Math.max(en,Vr,Wr),sn=tn-Math.min(en,Vr,Wr),un=sn?tn===en?(Vr-Wr)/sn:tn===Vr?2+(Wr-en)/sn:4+(en-Vr)/sn:0;return{h:dc(60*(un<0?un+6:un)),s:dc(tn?sn/tn*100:0),v:dc(tn/255*100),a:Zr}},_y=(en,Vr)=>{if(en===Vr)return!0;for(const Wr in en)if(en[Wr]!==Vr[Wr])return!1;return!0},wy={},ky=en=>{let Vr=wy[en];return Vr||(Vr=document.createElement("template"),Vr.innerHTML=en,wy[en]=Vr),Vr},Xg=(en,Vr,Wr)=>{en.dispatchEvent(new CustomEvent(Vr,{bubbles:!0,detail:Wr}))};let Uh=!1;const Qg=en=>"touches"in en,Ay=(en,Vr)=>{const Wr=Qg(Vr)?Vr.touches[0]:Vr,Zr=en.el.getBoundingClientRect();Xg(en.el,"move",en.getMove({x:Jf((Wr.pageX-(Zr.left+window.pageXOffset))/Zr.width),y:Jf((Wr.pageY-(Zr.top+window.pageYOffset))/Zr.height)}))};class Cy{constructor(Vr,Wr,Zr,tn){const sn=ky(`<div role="slider" tabindex="0" part="${Wr}" ${Zr}><div part="${Wr}-pointer"></div></div>`);Vr.appendChild(sn.content.cloneNode(!0));const un=Vr.querySelector(`[part=${Wr}]`);un.addEventListener("mousedown",this),un.addEventListener("touchstart",this),un.addEventListener("keydown",this),this.el=un,this.xy=tn,this.nodes=[un.firstChild,un]}set dragging(Vr){const Wr=Vr?document.addEventListener:document.removeEventListener;Wr(Uh?"touchmove":"mousemove",this),Wr(Uh?"touchend":"mouseup",this)}handleEvent(Vr){switch(Vr.type){case"mousedown":case"touchstart":if(Vr.preventDefault(),!(Wr=>!(Uh&&!Qg(Wr)||(Uh||(Uh=Qg(Wr)),0)))(Vr)||!Uh&&Vr.button!=0)return;this.el.focus(),Ay(this,Vr),this.dragging=!0;break;case"mousemove":case"touchmove":Vr.preventDefault(),Ay(this,Vr);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((Wr,Zr)=>{const tn=Zr.keyCode;tn>40||Wr.xy&&tn<37||tn<33||(Zr.preventDefault(),Xg(Wr.el,"move",Wr.getMove({x:tn===39?.01:tn===37?-.01:tn===34?.05:tn===33?-.05:tn===35?1:tn===36?-1:0,y:tn===40?.01:tn===38?-.01:0},!0)))})(this,Vr)}}style(Vr){Vr.forEach((Wr,Zr)=>{for(const tn in Wr)this.nodes[Zr].style.setProperty(tn,Wr[tn])})}}class cA extends Cy{constructor(Vr){super(Vr,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:Vr}){this.h=Vr,this.style([{left:Vr/360*100+"%",color:Zg({h:Vr,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${dc(Vr)}`)}getMove(Vr,Wr){return{h:Wr?Jf(this.h+360*Vr.x,0,360):360*Vr.x}}}class uA extends Cy{constructor(Vr){super(Vr,"saturation",'aria-label="Color"',!0)}update(Vr){this.hsva=Vr,this.style([{top:100-Vr.v+"%",left:`${Vr.s}%`,color:Zg(Vr)},{"background-color":Zg({h:Vr.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${dc(Vr.s)}%, Brightness ${dc(Vr.v)}%`)}getMove(Vr,Wr){return{s:Wr?Jf(this.hsva.s+100*Vr.x,0,100):100*Vr.x,v:Wr?Jf(this.hsva.v-100*Vr.y,0,100):Math.round(100-100*Vr.y)}}}const Vp=Symbol("same"),Jg=Symbol("color"),xy=Symbol("hsva"),em=Symbol("update"),Sy=Symbol("parts"),Dy=Symbol("css"),Ey=Symbol("sliders");class dA extends HTMLElement{static get observedAttributes(){return["color"]}get[Dy](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[Ey](){return[uA,cA]}get color(){return this[Jg]}set color(Vr){if(!this[Vp](Vr)){const Wr=this.colorModel.toHsva(Vr);this[em](Wr),this[Jg]=Vr}}constructor(){super();const Vr=ky(`<style>${this[Dy].join("")}</style>`),Wr=this.attachShadow({mode:"open"});Wr.appendChild(Vr.content.cloneNode(!0)),Wr.addEventListener("move",this),this[Sy]=this[Ey].map(Zr=>new Zr(Wr))}connectedCallback(){if(this.hasOwnProperty("color")){const Vr=this.color;delete this.color,this.color=Vr}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(Vr,Wr,Zr){const tn=this.colorModel.fromAttr(Zr);this[Vp](tn)||(this.color=tn)}handleEvent(Vr){const Wr=this[xy],Zr={...Wr,...Vr.detail};let tn;this[em](Zr),_y(Zr,Wr)||this[Vp](tn=this.colorModel.fromHsva(Zr))||(this[Jg]=tn,Xg(this,"color-changed",{value:tn}))}[Vp](Vr){return this.color&&this.colorModel.equal(Vr,this.color)}[em](Vr){this[xy]=Vr,this[Sy].forEach(Wr=>Wr.update(Vr))}}const hA={defaultColor:"#000",toHsva:en=>lA(Kg(en)),fromHsva:({h:en,s:Vr,v:Wr})=>sA(aA({h:en,s:Vr,v:Wr,a:1})),equal:(en,Vr)=>en.toLowerCase()===Vr.toLowerCase()||_y(Kg(en),Kg(Vr)),fromAttr:en=>en};class fA extends dA{get colorModel(){return hA}}customElements.define("hex-color-picker",class extends fA{});var Ty=Fr(3398),pA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Ty.Z,pA),Ty.Z.locals;class gA{constructor(Vr){this._components=new Map,this.editor=Vr}*names(){for(const Vr of this._components.values())yield Vr.originalName}add(Vr,Wr){this._components.set(tm(Vr),{callback:Wr,originalName:Vr})}create(Vr){if(!this.has(Vr))throw new Cn("componentfactory-item-missing",this,{name:Vr});return this._components.get(tm(Vr)).callback(this.editor.locale)}has(Vr){return this._components.has(tm(Vr))}}function tm(en){return String(en).toLowerCase()}var My=Fr(8793),mA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(My.Z,mA),My.Z.locals;var vA=Object.defineProperty,Iy=Object.getOwnPropertySymbols,yA=Object.prototype.hasOwnProperty,bA=Object.prototype.propertyIsEnumerable,Ly=(en,Vr,Wr)=>Vr in en?vA(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr,ks=(en,Vr)=>{for(var Wr in Vr||(Vr={}))yA.call(Vr,Wr)&&Ly(en,Wr,Vr[Wr]);if(Iy)for(var Wr of Iy(Vr))bA.call(Vr,Wr)&&Ly(en,Wr,Vr[Wr]);return en};const Py=kd("px"),Oy=Sa.document.body,rm=class extends is{constructor(en){super(en);const Vr=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",Vr.to("position",Wr=>`ck-balloon-panel_${Wr}`),Vr.if("isVisible","ck-balloon-panel_visible"),Vr.if("withArrow","ck-balloon-panel_with-arrow"),Vr.to("class")],style:{top:Vr.to("top",Py),left:Vr.to("left",Py)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(en){this.show();const Vr=rm.defaultPositions,Wr=Object.assign({},{element:this.element,positions:[Vr.southArrowNorth,Vr.southArrowNorthMiddleWest,Vr.southArrowNorthMiddleEast,Vr.southArrowNorthWest,Vr.southArrowNorthEast,Vr.northArrowSouth,Vr.northArrowSouthMiddleWest,Vr.northArrowSouthMiddleEast,Vr.northArrowSouthWest,Vr.northArrowSouthEast,Vr.viewportStickyNorth],limiter:Oy,fitInViewport:!0},en),Zr=rm._getOptimalPosition(Wr),tn=parseInt(Zr.left),sn=parseInt(Zr.top),un=Zr.name,fn=Zr.config||{},{withArrow:yn=!0}=fn;this.top=sn,this.left=tn,this.position=un,this.withArrow=yn}pin(en){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(en):this._stopPinning()},this._startPinning(en),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(en){this.attachTo(en);const Vr=nm(en.target),Wr=en.limiter?nm(en.limiter):Oy;this.listenTo(Sa.document,"scroll",(Zr,tn)=>{const sn=tn.target,un=Vr&&sn.contains(Vr),fn=Wr&&sn.contains(Wr);!un&&!fn&&Vr&&Wr||this.attachTo(en)},{useCapture:!0}),this.listenTo(Sa.window,"resize",()=>{this.attachTo(en)})}_stopPinning(){this.stopListening(Sa.document,"scroll"),this.stopListening(Sa.window,"resize")}};let Oc=rm;function nm(en){return oa(en)?en:kc(en)?en.commonAncestorContainer:typeof en=="function"?nm(en()):null}function Ry(en={}){const{sideOffset:Vr=Oc.arrowSideOffset,heightOffset:Wr=Oc.arrowHeightOffset,stickyVerticalOffset:Zr=Oc.stickyVerticalOffset,config:tn}=en;return{northWestArrowSouthWest:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left-Vr,name:"arrow_sw"},tn&&{config:tn}),northWestArrowSouthMiddleWest:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left-.25*yn.width-Vr,name:"arrow_smw"},tn&&{config:tn}),northWestArrowSouth:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left-yn.width/2,name:"arrow_s"},tn&&{config:tn}),northWestArrowSouthMiddleEast:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left-.75*yn.width+Vr,name:"arrow_sme"},tn&&{config:tn}),northWestArrowSouthEast:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left-yn.width+Vr,name:"arrow_se"},tn&&{config:tn}),northArrowSouthWest:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left+fn.width/2-Vr,name:"arrow_sw"},tn&&{config:tn}),northArrowSouthMiddleWest:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left+fn.width/2-.25*yn.width-Vr,name:"arrow_smw"},tn&&{config:tn}),northArrowSouth:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left+fn.width/2-yn.width/2,name:"arrow_s"},tn&&{config:tn}),northArrowSouthMiddleEast:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left+fn.width/2-.75*yn.width+Vr,name:"arrow_sme"},tn&&{config:tn}),northArrowSouthEast:(fn,yn)=>ks({top:sn(fn,yn),left:fn.left+fn.width/2-yn.width+Vr,name:"arrow_se"},tn&&{config:tn}),northEastArrowSouthWest:(fn,yn)=>ks({top:sn(fn,yn),left:fn.right-Vr,name:"arrow_sw"},tn&&{config:tn}),northEastArrowSouthMiddleWest:(fn,yn)=>ks({top:sn(fn,yn),left:fn.right-.25*yn.width-Vr,name:"arrow_smw"},tn&&{config:tn}),northEastArrowSouth:(fn,yn)=>ks({top:sn(fn,yn),left:fn.right-yn.width/2,name:"arrow_s"},tn&&{config:tn}),northEastArrowSouthMiddleEast:(fn,yn)=>ks({top:sn(fn,yn),left:fn.right-.75*yn.width+Vr,name:"arrow_sme"},tn&&{config:tn}),northEastArrowSouthEast:(fn,yn)=>ks({top:sn(fn,yn),left:fn.right-yn.width+Vr,name:"arrow_se"},tn&&{config:tn}),southWestArrowNorthWest:fn=>ks({top:un(fn),left:fn.left-Vr,name:"arrow_nw"},tn&&{config:tn}),southWestArrowNorthMiddleWest:(fn,yn)=>ks({top:un(fn),left:fn.left-.25*yn.width-Vr,name:"arrow_nmw"},tn&&{config:tn}),southWestArrowNorth:(fn,yn)=>ks({top:un(fn),left:fn.left-yn.width/2,name:"arrow_n"},tn&&{config:tn}),southWestArrowNorthMiddleEast:(fn,yn)=>ks({top:un(fn),left:fn.left-.75*yn.width+Vr,name:"arrow_nme"},tn&&{config:tn}),southWestArrowNorthEast:(fn,yn)=>ks({top:un(fn),left:fn.left-yn.width+Vr,name:"arrow_ne"},tn&&{config:tn}),southArrowNorthWest:fn=>ks({top:un(fn),left:fn.left+fn.width/2-Vr,name:"arrow_nw"},tn&&{config:tn}),southArrowNorthMiddleWest:(fn,yn)=>ks({top:un(fn),left:fn.left+fn.width/2-.25*yn.width-Vr,name:"arrow_nmw"},tn&&{config:tn}),southArrowNorth:(fn,yn)=>ks({top:un(fn),left:fn.left+fn.width/2-yn.width/2,name:"arrow_n"},tn&&{config:tn}),southArrowNorthMiddleEast:(fn,yn)=>ks({top:un(fn),left:fn.left+fn.width/2-.75*yn.width+Vr,name:"arrow_nme"},tn&&{config:tn}),southArrowNorthEast:(fn,yn)=>ks({top:un(fn),left:fn.left+fn.width/2-yn.width+Vr,name:"arrow_ne"},tn&&{config:tn}),southEastArrowNorthWest:fn=>ks({top:un(fn),left:fn.right-Vr,name:"arrow_nw"},tn&&{config:tn}),southEastArrowNorthMiddleWest:(fn,yn)=>ks({top:un(fn),left:fn.right-.25*yn.width-Vr,name:"arrow_nmw"},tn&&{config:tn}),southEastArrowNorth:(fn,yn)=>ks({top:un(fn),left:fn.right-yn.width/2,name:"arrow_n"},tn&&{config:tn}),southEastArrowNorthMiddleEast:(fn,yn)=>ks({top:un(fn),left:fn.right-.75*yn.width+Vr,name:"arrow_nme"},tn&&{config:tn}),southEastArrowNorthEast:(fn,yn)=>ks({top:un(fn),left:fn.right-yn.width+Vr,name:"arrow_ne"},tn&&{config:tn}),westArrowEast:(fn,yn)=>ks({top:fn.top+fn.height/2-yn.height/2,left:fn.left-yn.width-Wr,name:"arrow_e"},tn&&{config:tn}),eastArrowWest:(fn,yn)=>ks({top:fn.top+fn.height/2-yn.height/2,left:fn.right+Wr,name:"arrow_w"},tn&&{config:tn}),viewportStickyNorth:(fn,yn,xn)=>fn.getIntersection(xn)?{top:xn.top+Zr,left:fn.left+fn.width/2-yn.width/2,name:"arrowless",config:ks({withArrow:!1},tn)}:null};function sn(fn,yn){return fn.top-yn.height-Wr}function un(fn){return fn.bottom+Wr}}Oc.arrowSideOffset=25,Oc.arrowHeightOffset=10,Oc.stickyVerticalOffset=20,Oc._getOptimalPosition=Ln,Oc.defaultPositions=Ry();var $y=Fr(3332),_A={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()($y.Z,_A),$y.Z.locals;const Ny="ck-tooltip",Rc=class extends Ks(){constructor(en){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Rc._editors.add(en),Rc._instance)return Rc._instance;Rc._instance=this,this.tooltipTextView=new is(en.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Oc(en.locale),this.balloonPanelView.class=Ny,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=cu(this._pinTooltip,600),this.listenTo(Sa.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Sa.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Sa.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Sa.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Sa.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(en){const Vr=en.ui.view&&en.ui.view.body;Rc._editors.delete(en),this.stopListening(en.ui),Vr&&Vr.has(this.balloonPanelView)&&Vr.remove(this.balloonPanelView),Rc._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Rc._instance=null)}static getPositioningFunctions(en){const Vr=Rc.defaultBalloonPositions;return{s:[Vr.southArrowNorth,Vr.southArrowNorthEast,Vr.southArrowNorthWest],n:[Vr.northArrowSouth],e:[Vr.eastArrowWest],w:[Vr.westArrowEast],sw:[Vr.southArrowNorthEast],se:[Vr.southArrowNorthWest]}[en]}_onEnterOrFocus(en,{target:Vr}){const Wr=im(Vr);var Zr;Wr&&Wr!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(Wr,{text:(Zr=Wr).dataset.ckeTooltipText,position:Zr.dataset.ckeTooltipPosition||"s",cssClass:Zr.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(en,{target:Vr,relatedTarget:Wr}){if(en.name==="mouseleave"){if(!oa(Vr)||this._currentElementWithTooltip&&Vr!==this._currentElementWithTooltip)return;const Zr=im(Vr),tn=im(Wr);Zr&&Zr!==tn&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&Vr!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(en,{target:Vr}){this._currentElementWithTooltip&&(Vr.contains(this.balloonPanelView.element)&&Vr.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(en,{text:Vr,position:Wr,cssClass:Zr}){const tn=_l(Rc._editors.values()).ui.view.body;tn.has(this.balloonPanelView)||tn.add(this.balloonPanelView),this.tooltipTextView.text=Vr,this.balloonPanelView.pin({target:en,positions:Rc.getPositioningFunctions(Wr)}),this._resizeObserver=new wd(en,()=>{Tc(en)||this._unpinTooltip()}),this.balloonPanelView.class=[Ny,Zr].filter(sn=>sn).join(" ");for(const sn of Rc._editors)this.listenTo(sn.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=en,this._currentTooltipPosition=Wr}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const en of Rc._editors)this.stopListening(en.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Tc(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Rc.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let jp=Rc;function im(en){return oa(en)?en.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}jp.defaultBalloonPositions=Ry({heightOffset:5,sideOffset:13}),jp._editors=new Set,jp._instance=null;const om=function(en,Vr,Wr){var Zr=!0,tn=!0;if(typeof en!="function")throw new TypeError("Expected a function");return ji(Wr)&&(Zr="leading"in Wr?!!Wr.leading:Zr,tn="trailing"in Wr?!!Wr.trailing:tn),cu(en,Vr,{leading:Zr,maxWait:Vr,trailing:tn})};var wA=Object.defineProperty,By=Object.getOwnPropertySymbols,kA=Object.prototype.hasOwnProperty,AA=Object.prototype.propertyIsEnumerable,Fy=(en,Vr,Wr)=>Vr in en?wA(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr,CA=(en,Vr)=>{for(var Wr in Vr||(Vr={}))kA.call(Vr,Wr)&&Fy(en,Wr,Vr[Wr]);if(By)for(var Wr of By(Vr))AA.call(Vr,Wr)&&Fy(en,Wr,Vr[Wr]);return en};const xA=50,SA=350,DA="Powered by",Up={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class EA extends Ks(){constructor(Vr){super(),this.editor=Vr,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=om(this._showBalloon.bind(this),50,{leading:!0}),Vr.on("ready",this._handleEditorReady.bind(this))}destroy(){const Vr=this._balloonView;Vr&&(Vr.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const Vr=this.editor;(Vr.config.get("ui.poweredBy.forceVisible")||function(Wr){function Zr(Un){return Un.length>=40&&Un.length<=255?"VALID":"INVALID"}if(!Wr)return"INVALID";let tn="";try{tn=atob(Wr)}catch{return"INVALID"}const sn=tn.split("-"),un=sn[0],fn=sn[1];if(!fn)return Zr(Wr);try{atob(fn)}catch{try{if(atob(un),!atob(un).length)return Zr(Wr)}catch{return Zr(Wr)}}if(un.length<40||un.length>255)return"INVALID";let yn="";try{atob(un),yn=atob(fn)}catch{return"INVALID"}if(yn.length!==8)return"INVALID";const xn=Number(yn.substring(0,4)),Dn=Number(yn.substring(4,6))-1,Mn=Number(yn.substring(6,8)),Rn=new Date(xn,Dn,Mn);return Rn<Wn||isNaN(Number(Rn))?"INVALID":"VALID"}(Vr.config.get("licenseKey"))!=="VALID")&&Vr.ui.view&&(Vr.ui.focusTracker.on("change:isFocused",(Wr,Zr,tn)=>{this._updateLastFocusedEditableElement(),tn?this._showBalloon():this._hideBalloon()}),Vr.ui.focusTracker.on("change:focusedElement",(Wr,Zr,tn)=>{this._updateLastFocusedEditableElement(),tn&&this._showBalloon()}),Vr.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const Vr=this.editor,Wr=this._balloonView=new Oc,Zr=Hy(Vr),tn=new TA(Vr.locale,Zr.label);Wr.content.add(tn),Wr.set({class:"ck-powered-by-balloon"}),Vr.ui.view.body.add(Wr),Vr.ui.focusTracker.add(Wr.element),this._balloonView=Wr}_showBalloon(){if(!this._lastFocusedEditableElement)return;const Vr=function(Wr,Zr){const tn=Hy(Wr),sn=tn.side==="right"?function(un,fn){return zy(un,fn,(yn,xn)=>yn.left+yn.width-xn.width-fn.horizontalOffset)}(Zr,tn):function(un,fn){return zy(un,fn,yn=>yn.left+fn.horizontalOffset)}(Zr,tn);return{target:Zr,positions:[sn]}}(this.editor,this._lastFocusedEditableElement);Vr&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(Vr))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const Vr=this.editor,Wr=Vr.ui.focusTracker.isFocused,Zr=Vr.ui.focusTracker.focusedElement;if(!Wr||!Zr)return void(this._lastFocusedEditableElement=null);const tn=Array.from(Vr.ui.getEditableElementsNames()).map(sn=>Vr.ui.getEditableElement(sn));tn.includes(Zr)?this._lastFocusedEditableElement=Zr:this._lastFocusedEditableElement=tn[0]}}class TA extends is{constructor(Vr,Wr){super(Vr);const Zr=new iu,tn=this.bindTemplate;Zr.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),Zr.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...Wr?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[Wr]}]:[],Zr],on:{dragstart:tn.to(sn=>sn.preventDefault())}}]})}}function zy(en,Vr,Wr){return(Zr,tn)=>{const sn=Zr.getVisible();if(!sn||Zr.width<SA||Zr.height<xA)return Up;let un;un=Vr.position==="inside"?Zr.bottom-tn.height:Zr.bottom-tn.height/2,un-=Vr.verticalOffset;const fn=Wr(Zr,tn);if(Vr.position==="inside"){const yn=tn.clone().moveTo(fn,un);if(yn.getIntersectionArea(sn)<yn.getArea())return Up}else{const yn=function(xn){let Dn=xn.parentElement;if(!Dn)return null;for(;Dn.tagName!="BODY";){const Mn=Dn.style.overflowY||Sa.window.getComputedStyle(Dn).overflowY;if(Mn==="auto"||Mn==="scroll")break;if(Dn=Dn.parentElement,!Dn)return null}return Dn}(en);if(yn){const xn=new js(yn);if(sn.bottom+tn.height/2>xn.bottom)return Up}}return{top:un,left:fn,name:`position_${Vr.position}-side_${Vr.side}`,config:{withArrow:!1}}}}function Hy(en){const Vr=en.config.get("ui.poweredBy"),Wr=Vr&&Vr.position||"border";return CA({position:Wr,label:DA,verticalOffset:Wr==="inside"?5:0,horizontalOffset:5,side:en.locale.contentLanguageDirection==="ltr"?"right":"left"},Vr)}var MA=Object.defineProperty,Vy=Object.getOwnPropertySymbols,IA=Object.prototype.hasOwnProperty,LA=Object.prototype.propertyIsEnumerable,jy=(en,Vr,Wr)=>Vr in en?MA(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr;class PA extends Ji(){constructor(Vr){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const Wr=Vr.editing.view;this.editor=Vr,this.componentFactory=new gA(Vr),this.focusTracker=new Ic,this.tooltipManager=new jp(Vr),this.poweredBy=new EA(Vr),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(Wr.document,"layoutChanged",this.update.bind(this)),this.listenTo(Wr,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const Vr of this._editableElementsMap.values())Vr.ckeditorInstance=null,this.editor.keystrokes.stopListening(Vr);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(Vr,Wr){this._editableElementsMap.set(Vr,Wr),Wr.ckeditorInstance||(Wr.ckeditorInstance=this.editor),this.focusTracker.add(Wr);const Zr=()=>{this.editor.editing.view.getDomRoot(Vr)||this.editor.keystrokes.listenTo(Wr)};this.isReady?Zr():this.once("ready",Zr)}removeEditableElement(Vr){const Wr=this._editableElementsMap.get(Vr);Wr&&(this._editableElementsMap.delete(Vr),this.editor.keystrokes.stopListening(Wr),this.focusTracker.remove(Wr),Wr.ckeditorInstance=null)}getEditableElement(Vr="main"){return this._editableElementsMap.get(Vr)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(Vr,Wr={}){Vr.isRendered?(this.focusTracker.add(Vr.element),this.editor.keystrokes.listenTo(Vr.element)):Vr.once("render",()=>{this.focusTracker.add(Vr.element),this.editor.keystrokes.listenTo(Vr.element)}),this._focusableToolbarDefinitions.push({toolbarView:Vr,options:Wr})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const Vr=this.editor,Wr=Vr.config.get("ui.viewportOffset");if(Wr)return Wr;const Zr=Vr.config.get("toolbar.viewportTopOffset");return Zr?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:Zr}):{top:0}}_initFocusTracking(){const Vr=this.editor,Wr=Vr.editing.view;let Zr,tn;Vr.keystrokes.set("Alt+F10",(sn,un)=>{const fn=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(fn)&&!Array.from(Wr.domRoots.values()).includes(fn)&&(Zr=fn);const yn=this._getCurrentFocusedToolbarDefinition();yn&&tn||(tn=this._getFocusableCandidateToolbarDefinitions());for(let xn=0;xn<tn.length;xn++){const Dn=tn.shift();if(tn.push(Dn),Dn!==yn&&this._focusFocusableCandidateToolbar(Dn)){yn&&yn.options.afterBlur&&yn.options.afterBlur();break}}un()}),Vr.keystrokes.set("Esc",(sn,un)=>{const fn=this._getCurrentFocusedToolbarDefinition();fn&&(Zr?(Zr.focus(),Zr=null):Vr.editing.view.focus(),fn.options.afterBlur&&fn.options.afterBlur(),un())})}_getFocusableCandidateToolbarDefinitions(){const Vr=[];for(const Wr of this._focusableToolbarDefinitions){const{toolbarView:Zr,options:tn}=Wr;(Tc(Zr.element)||tn.beforeFocus)&&Vr.push(Wr)}return Vr.sort((Wr,Zr)=>Uy(Wr)-Uy(Zr)),Vr}_getCurrentFocusedToolbarDefinition(){for(const Vr of this._focusableToolbarDefinitions)if(Vr.toolbarView.element&&Vr.toolbarView.element.contains(this.focusTracker.focusedElement))return Vr;return null}_focusFocusableCandidateToolbar(Vr){const{toolbarView:Wr,options:{beforeFocus:Zr}}=Vr;return Zr&&Zr(),!!Tc(Wr.element)&&(Wr.focus(),!0)}_handleScrollToTheSelection(Vr,Wr){const Zr=((tn,sn)=>{for(var un in sn||(sn={}))IA.call(sn,un)&&jy(tn,un,sn[un]);if(Vy)for(var un of Vy(sn))LA.call(sn,un)&&jy(tn,un,sn[un]);return tn})({top:0,bottom:0,left:0,right:0},this.viewportOffset);Wr.viewportOffset.top+=Zr.top,Wr.viewportOffset.bottom+=Zr.bottom,Wr.viewportOffset.left+=Zr.left,Wr.viewportOffset.right+=Zr.right}}function Uy(en){const{toolbarView:Vr,options:Wr}=en;let Zr=10;return Tc(Vr.element)&&Zr--,Wr.isContextual&&Zr--,Zr}var Gy=Fr(9688),OA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Gy.Z,OA),Gy.Z.locals;class RA extends is{constructor(Vr){super(Vr),this.body=new uf(Vr)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class $A extends RA{constructor(Vr){super(Vr),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:Vr.uiLanguageDirection,lang:Vr.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const Vr=this.t,Wr=new vf;return Wr.text=Vr("Rich Text Editor"),Wr.extendTemplate({attributes:{class:"ck-voice-label"}}),Wr}}class NA extends is{constructor(Vr,Wr,Zr){super(Vr),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:Vr.contentLanguage,dir:Vr.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=Zr,this._hasExternalElement=!!this._editableElement,this._editingView=Wr}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const Vr=this._editingView;function Wr(Zr){Vr.change(tn=>{const sn=Vr.document.getRoot(Zr.name);tn.addClass(Zr.isFocused?"ck-focused":"ck-blurred",sn),tn.removeClass(Zr.isFocused?"ck-blurred":"ck-focused",sn)})}Vr.isRenderingInProgress?function Zr(tn){Vr.once("change:isRenderingInProgress",(sn,un,fn)=>{fn?Zr(tn):Wr(tn)})}(this):Wr(this)}}class BA extends NA{constructor(Vr,Wr,Zr,tn={}){super(Vr,Wr,Zr);const sn=Vr.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=tn.label||(()=>sn("Editor editing area: %0",this.name))}render(){super.render();const Vr=this._editingView;Vr.change(Wr=>{const Zr=Vr.document.getRoot(this.name);Wr.setAttribute("aria-label",this._generateLabel(this),Zr)})}}var Wy=Fr(8847),FA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Wy.Z,FA),Wy.Z.locals;class am extends eh{static get pluginName(){return"Notification"}init(){this.on("show:warning",(Vr,Wr)=>{window.alert(Wr.message)},{priority:"lowest"})}showSuccess(Vr,Wr={}){this._showNotification({message:Vr,type:"success",namespace:Wr.namespace,title:Wr.title})}showInfo(Vr,Wr={}){this._showNotification({message:Vr,type:"info",namespace:Wr.namespace,title:Wr.title})}showWarning(Vr,Wr={}){this._showNotification({message:Vr,type:"warning",namespace:Wr.namespace,title:Wr.title})}_showNotification(Vr){const Wr=Vr.namespace?`show:${Vr.type}:${Vr.namespace}`:`show:${Vr.type}`;this.fire(Wr,{message:Vr.message,type:Vr.type,title:Vr.title||""})}}class Yy extends Ji(){constructor(Vr,Wr){super(),Wr&&zo(this,Wr),Vr&&this.set(Vr)}}var qy=Fr(4650),zA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(qy.Z,zA),qy.Z.locals;var Ky=Fr(7676),HA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Ky.Z,HA),Ky.Z.locals;const Gp=kd("px");class Wp extends yo{constructor(Vr){super(Vr),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const Wr=this.editor.editing.view,Zr=Wr.document.selection.editableElement;return Zr?Wr.domConverter.mapViewToDom(Zr.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(Vr){return Array.from(this._viewToStack.keys()).includes(Vr)}add(Vr){if(this._view||this._createPanelView(),this.hasView(Vr.view))throw new Cn("contextualballoon-add-view-exist",[this,Vr]);const Wr=Vr.stackId||"main";if(!this._idToStack.has(Wr))return this._idToStack.set(Wr,new Map([[Vr.view,Vr]])),this._viewToStack.set(Vr.view,this._idToStack.get(Wr)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!Vr.singleViewMode||this.showStack(Wr));const Zr=this._idToStack.get(Wr);Vr.singleViewMode&&this.showStack(Wr),Zr.set(Vr.view,Vr),this._viewToStack.set(Vr.view,Zr),Zr===this._visibleStack&&this._showView(Vr)}remove(Vr){if(!this.hasView(Vr))throw new Cn("contextualballoon-remove-view-not-exist",[this,Vr]);const Wr=this._viewToStack.get(Vr);this._singleViewMode&&this.visibleView===Vr&&(this._singleViewMode=!1),this.visibleView===Vr&&(Wr.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(Wr.values())[Wr.size-2])),Wr.size===1?(this._idToStack.delete(this._getStackId(Wr)),this._numberOfStacks=this._idToStack.size):Wr.delete(Vr),this._viewToStack.delete(Vr)}updatePosition(Vr){Vr&&(this._visibleStack.get(this.visibleView).position=Vr),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(Vr){this.visibleStack=Vr;const Wr=this._idToStack.get(Vr);if(!Wr)throw new Cn("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==Wr&&this._showView(Array.from(Wr.values()).pop())}_createPanelView(){this._view=new Oc(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(Vr){return Array.from(this._idToStack.entries()).find(Wr=>Wr[1]===Vr)[0]}_showNextStack(){const Vr=Array.from(this._idToStack.values());let Wr=Vr.indexOf(this._visibleStack)+1;Vr[Wr]||(Wr=0),this.showStack(this._getStackId(Vr[Wr]))}_showPrevStack(){const Vr=Array.from(this._idToStack.values());let Wr=Vr.indexOf(this._visibleStack)-1;Vr[Wr]||(Wr=Vr.length-1),this.showStack(this._getStackId(Vr[Wr]))}_createRotatorView(){const Vr=new VA(this.editor.locale),Wr=this.editor.locale.t;return this.view.content.add(Vr),Vr.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(Zr,tn)=>!tn&&Zr>1),Vr.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),Vr.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(Zr,tn)=>{if(tn<2)return"";const sn=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return Wr("%0 of %1",[sn,tn])}),Vr.buttonNextView.on("execute",()=>{Vr.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),Vr.buttonPrevView.on("execute",()=>{Vr.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),Vr}_createFakePanelsView(){const Vr=new jA(this.editor.locale,this.view);return Vr.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(Wr,Zr)=>!Zr&&Wr>=2?Math.min(Wr-1,2):0),Vr.listenTo(this.view,"change:top",()=>Vr.updatePosition()),Vr.listenTo(this.view,"change:left",()=>Vr.updatePosition()),this.editor.ui.view.body.add(Vr),Vr}_showView({view:Vr,balloonClassName:Wr="",withArrow:Zr=!0,singleViewMode:tn=!1}){this.view.class=Wr,this.view.withArrow=Zr,this._rotatorView.showView(Vr),this.visibleView=Vr,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),tn&&(this._singleViewMode=!0)}_getBalloonPosition(){let Vr=Array.from(this._visibleStack.values()).pop().position;return Vr&&(Vr.limiter||(Vr=Object.assign({},Vr,{limiter:this.positionLimiter})),Vr=Object.assign({},Vr,{viewportOffsetConfig:this.editor.ui.viewportOffset})),Vr}}class VA extends is{constructor(Vr){super(Vr);const Wr=Vr.t,Zr=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ic,this.buttonPrevView=this._createButtonView(Wr("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(Wr("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",Zr.to("isNavigationVisible",tn=>tn?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:Zr.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(Vr){this.hideView(),this.content.add(Vr)}hideView(){this.content.clear()}_createButtonView(Vr,Wr){const Zr=new gs(this.locale);return Zr.set({label:Vr,icon:Wr,tooltip:!0}),Zr}}class jA extends is{constructor(Vr,Wr){super(Vr);const Zr=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=Wr,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",Zr.to("numberOfPanels",tn=>tn?"":"ck-hidden")],style:{top:Zr.to("top",Gp),left:Zr.to("left",Gp),width:Zr.to("width",Gp),height:Zr.to("height",Gp)}},children:this.content}),this.on("change:numberOfPanels",(tn,sn,un,fn)=>{un>fn?this._addPanels(un-fn):this._removePanels(fn-un),this.updatePosition()})}_addPanels(Vr){for(;Vr--;){const Wr=new is;Wr.setTemplate({tag:"div"}),this.content.add(Wr),this.registerChild(Wr)}}_removePanels(Vr){for(;Vr--;){const Wr=this.content.last;this.content.remove(Wr),this.deregisterChild(Wr),Wr.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:Vr,left:Wr}=this._balloonPanelView,{width:Zr,height:tn}=new js(this._balloonPanelView.element);Object.assign(this,{top:Vr,left:Wr,width:Zr,height:tn})}}}var Zy=Fr(5868),UA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Zy.Z,UA),Zy.Z.locals;const ep=kd("px");class GA extends is{constructor(Vr){super(Vr);const Wr=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Cc({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:Wr.to("isSticky",Zr=>Zr?"block":"none"),height:Wr.to("isSticky",Zr=>Zr?ep(this._panelRect.height):null)}}}).render(),this._contentPanel=new Cc({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",Wr.if("isSticky","ck-sticky-panel__content_sticky"),Wr.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:Wr.to("isSticky",Zr=>Zr?ep(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:Wr.to("_hasViewportTopOffset",Zr=>Zr?ep(this.viewportTopOffset):null),bottom:Wr.to("_isStickyToTheLimiter",Zr=>Zr?ep(this.limiterBottomOffset):null),marginLeft:Wr.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Sa.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const Vr=this._panelRect=this._contentPanel.getBoundingClientRect();let Wr;this.limiterElement?(Wr=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&Wr.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<Wr.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=Wr.bottom<Vr.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:ep(-Sa.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var Xy=Fr(9695),WA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Xy.Z,WA),Xy.Z.locals;class YA extends PA{constructor(Vr,Wr){super(Vr),this.view=Wr,this._toolbarConfig=_f(Vr.config.get("toolbar")),this._elementReplacer=new $a,this.listenTo(Vr.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(Vr){const Wr=this.editor,Zr=this.view,tn=Wr.editing.view,sn=Zr.editable,un=tn.document.getRoot();sn.name=un.rootName,Zr.render();const fn=sn.element;this.setEditableElement(sn.name,fn),Zr.editable.bind("isFocused").to(this.focusTracker),tn.attachDomRoot(fn),Vr&&this._elementReplacer.replace(Vr,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const Vr=this.view,Wr=this.editor.editing.view;this._elementReplacer.restore(),Wr.detachDomRoot(Vr.editable.name),Vr.destroy()}_initToolbar(){const Vr=this.view;Vr.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),Vr.stickyPanel.limiterElement=Vr.element,Vr.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:Wr})=>Wr||0),Vr.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(Vr.toolbar)}_initPlaceholder(){const Vr=this.editor,Wr=Vr.editing.view,Zr=Wr.document.getRoot(),tn=Vr.sourceElement;let sn;const un=Vr.config.get("placeholder");un&&(sn=typeof un=="string"?un:un[this.view.editable.name]),!sn&&tn&&tn.tagName.toLowerCase()==="textarea"&&(sn=tn.getAttribute("placeholder")),sn&&ud({view:Wr,element:Zr,text:sn,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(Vr,Wr,Zr){const tn=this.view.stickyPanel;if(tn.isSticky){const sn=new js(tn.element).height;Wr.viewportOffset.top+=sn}else{const sn=()=>{this.editor.editing.view.scrollToTheSelection(Zr)};this.listenTo(tn,"change:isSticky",sn),setTimeout(()=>{this.stopListening(tn,"change:isSticky",sn)},20)}}}var Qy=Fr(3143),qA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Qy.Z,qA),Qy.Z.locals;class KA extends $A{constructor(Vr,Wr,Zr={}){super(Vr),this.stickyPanel=new GA(Vr),this.toolbar=new Gg(Vr,{shouldGroupWhenFull:Zr.shouldToolbarGroupWhenFull}),this.editable=new BA(Vr,Wr)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Jy{constructor(Vr){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof Vr.crashNumberLimit=="number"?Vr.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof Vr.minimumNonErrorTimePeriod=="number"?Vr.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=Wr=>{const Zr="error"in Wr?Wr.error:Wr.reason;Zr instanceof Error&&this._handleError(Zr,Wr)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(Vr,Wr){this._listeners[Vr]||(this._listeners[Vr]=[]),this._listeners[Vr].push(Wr)}off(Vr,Wr){this._listeners[Vr]=this._listeners[Vr].filter(Zr=>Zr!==Wr)}_fire(Vr,...Wr){const Zr=this._listeners[Vr]||[];for(const tn of Zr)tn.apply(this,[null,...Wr])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(Vr,Wr){if(this._shouldReactToError(Vr)){this.crashes.push({message:Vr.message,stack:Vr.stack,filename:Wr instanceof ErrorEvent?Wr.filename:void 0,lineno:Wr instanceof ErrorEvent?Wr.lineno:void 0,colno:Wr instanceof ErrorEvent?Wr.colno:void 0,date:this._now()});const Zr=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:Vr,causesRestart:Zr}),Zr?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(Vr){return Vr.is&&Vr.is("CKEditorError")&&Vr.context!==void 0&&Vr.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(Vr)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function sm(en,Vr=new Set){const Wr=[en],Zr=new Set;let tn=0;for(;Wr.length>tn;){const sn=Wr[tn++];if(!Zr.has(sn)&&ZA(sn)&&!Vr.has(sn))if(Zr.add(sn),Symbol.iterator in sn)try{for(const un of sn)Wr.push(un)}catch{}else for(const un in sn)un!=="defaultValue"&&Wr.push(sn[un])}return Zr}function ZA(en){const Vr=Object.prototype.toString.call(en),Wr=typeof en;return!(Wr==="number"||Wr==="boolean"||Wr==="string"||Wr==="symbol"||Wr==="function"||Vr==="[object Date]"||Vr==="[object RegExp]"||Vr==="[object Module]"||en==null||en._watchdogExcluded||en instanceof EventTarget||en instanceof Event)}function eb(en,Vr,Wr=new Set){if(en===Vr&&typeof(Zr=en)=="object"&&Zr!==null)return!0;var Zr;const tn=sm(en,Wr),sn=sm(Vr,Wr);for(const un of tn)if(sn.has(un))return!0;return!1}class tb extends Jy{constructor(Vr,Wr={}){super(Wr),this._editor=null,this._throttledSave=om(this._save.bind(this),typeof Wr.saveInterval=="number"?Wr.saveInterval:5e3),Vr&&(this._creator=(Zr,tn)=>Vr.create(Zr,tn)),this._destructor=Zr=>Zr.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(Vr){this._creator=Vr}setDestructor(Vr){this._destructor=Vr}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(Vr=>{console.error("An error happened during the editor destroying.",Vr)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const Vr=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,Vr,Vr.context)}}).then(()=>{this._fire("restart")})}create(Vr=this._elementOrData,Wr=this._config,Zr){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=Vr,this._config=this._cloneEditorConfiguration(Wr)||{},this._config.context=Zr,this._creator(Vr,this._config))).then(tn=>{this._editor=tn,tn.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=tn.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const Vr=this._editor;return this._editor=null,Vr.model.document.off("change:data",this._throttledSave),this._destructor(Vr)})}_save(){const Vr=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=Vr}catch(Wr){console.error(Wr,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(Vr){this._excludedProps=Vr}_getData(){const Vr={};for(const Wr of this._editor.model.document.getRootNames())Vr[Wr]=this._editor.data.get({rootName:Wr});return Vr}_isErrorComingFromThisItem(Vr){return eb(this._editor,Vr.context,this._excludedProps)}_cloneEditorConfiguration(Vr){return Ra(Vr,(Wr,Zr)=>oa(Wr)||Zr==="context"?Wr:void 0)}}const tp=Symbol("MainQueueId");class XA{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(Vr){this._onEmptyCallbacks.push(Vr)}enqueue(Vr,Wr){const Zr=Vr===tp;this._activeActions++,this._queues.get(Vr)||this._queues.set(Vr,Promise.resolve());const tn=(Zr?Promise.all(this._queues.values()):Promise.all([this._queues.get(tp),this._queues.get(Vr)])).then(Wr),sn=tn.catch(()=>{});return this._queues.set(Vr,sn),tn.finally(()=>{this._activeActions--,this._queues.get(Vr)===sn&&this._activeActions===0&&this._onEmptyCallbacks.forEach(un=>un())})}}function nb(en){return Array.isArray(en)?en:[en]}class Yp extends zp(Ug(Yk)){constructor(Vr,Wr={}){if(!qp(Vr)&&Wr.initialData!==void 0)throw new Cn("editor-create-initial-data",null);super(Wr),this.config.get("initialData")===void 0&&this.config.set("initialData",function(sn){return qp(sn)?(un=sn,un instanceof HTMLTextAreaElement?un.value:un.innerHTML):sn;var un}(Vr)),qp(Vr)&&(this.sourceElement=Vr),this.model.document.createRoot();const Zr=!this.config.get("toolbar.shouldNotGroupWhenFull"),tn=new KA(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:Zr});this.ui=new YA(this,tn),function(sn){if(!Ha(sn.updateSourceElement))throw new Cn("attachtoform-missing-elementapi-interface",sn);const un=sn.sourceElement;if(function(fn){return!!fn&&fn.tagName.toLowerCase()==="textarea"}(un)&&un.form){let fn;const yn=un.form,xn=()=>sn.updateSourceElement();Ha(yn.submit)&&(fn=yn.submit,yn.submit=()=>{xn(),fn.apply(yn)}),yn.addEventListener("submit",xn),sn.on("destroy",()=>{yn.removeEventListener("submit",xn),fn&&(yn.submit=fn)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(Vr,Wr={}){return new Promise(Zr=>{const tn=new this(Vr,Wr);Zr(tn.initPlugins().then(()=>tn.ui.init(qp(Vr)?Vr:null)).then(()=>tn.data.init(tn.config.get("initialData"))).then(()=>tn.fire("ready")).then(()=>tn))})}}function qp(en){return oa(en)}Yp.Context=cd,Yp.EditorWatchdog=tb,Yp.ContextWatchdog=class extends Jy{constructor(en,Vr={}){super(Vr),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new XA,this._watchdogConfig=Vr,this._creator=Wr=>en.create(Wr),this._destructor=Wr=>Wr.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(en){this._creator=en}setDestructor(en){this._destructor=en}get context(){return this._context}create(en={}){return this._actionQueues.enqueue(tp,()=>(this._contextConfig=en,this._create()))}getItem(en){return this._getWatchdog(en)._item}getItemState(en){return this._getWatchdog(en).state}add(en){const Vr=nb(en);return Promise.all(Vr.map(Wr=>this._actionQueues.enqueue(Wr.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Zr;if(this._watchdogs.has(Wr.id))throw new Error(`Item with the given id is already added: '${Wr.id}'.`);if(Wr.type==="editor")return Zr=new tb(null,this._watchdogConfig),Zr.setCreator(Wr.creator),Zr._setExcludedProperties(this._contextProps),Wr.destructor&&Zr.setDestructor(Wr.destructor),this._watchdogs.set(Wr.id,Zr),Zr.on("error",(tn,{error:sn,causesRestart:un})=>{this._fire("itemError",{itemId:Wr.id,error:sn}),un&&this._actionQueues.enqueue(Wr.id,()=>new Promise(fn=>{const yn=()=>{Zr.off("restart",yn),this._fire("itemRestart",{itemId:Wr.id}),fn()};Zr.on("restart",yn)}))}),Zr.create(Wr.sourceElementOrData,Wr.config,this._context);throw new Error(`Not supported item type: '${Wr.type}'.`)})))}remove(en){const Vr=nb(en);return Promise.all(Vr.map(Wr=>this._actionQueues.enqueue(Wr,()=>{const Zr=this._getWatchdog(Wr);return this._watchdogs.delete(Wr),Zr.destroy()})))}destroy(){return this._actionQueues.enqueue(tp,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(tp,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(en=>{console.error("An error happened during destroying the context or items.",en)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(en=>(this._context=en,this._contextProps=sm(this._context),Promise.all(Array.from(this._watchdogs.values()).map(Vr=>(Vr._setExcludedProperties(this._contextProps),Vr.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const en=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(Vr=>Vr.destroy())).then(()=>this._destructor(en))})}_getWatchdog(en){const Vr=this._watchdogs.get(en);if(!Vr)throw new Error(`Item with the given id was not registered: ${en}.`);return Vr}_isErrorComingFromThisItem(en){for(const Vr of this._watchdogs.values())if(Vr._isErrorComingFromThisItem(en))return!1;return eb(this._context,en.context)}};class lm extends Wo{constructor(Vr){super(Vr),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const Wr=this.document;function Zr(tn){return(sn,un)=>{un.preventDefault();const fn=un.dropRange?[un.dropRange]:null,yn=new gn(Wr,tn);Wr.fire(yn,{dataTransfer:un.dataTransfer,method:sn.name,targetRanges:fn,target:un.target,domEvent:un.domEvent}),yn.stop.called&&un.stopPropagation()}}this.listenTo(Wr,"paste",Zr("clipboardInput"),{priority:"low"}),this.listenTo(Wr,"drop",Zr("clipboardInput"),{priority:"low"}),this.listenTo(Wr,"dragover",Zr("dragging"),{priority:"low"})}onDomEvent(Vr){const Wr="clipboardData"in Vr?Vr.clipboardData:Vr.dataTransfer,Zr=Vr.type=="drop"||Vr.type=="paste",tn={dataTransfer:new Zm(Wr,{cacheFiles:Zr})};Vr.type!="drop"&&Vr.type!="dragover"||(tn.dropRange=function(sn,un){const fn=un.target.ownerDocument,yn=un.clientX,xn=un.clientY;let Dn;return fn.caretRangeFromPoint&&fn.caretRangeFromPoint(yn,xn)?Dn=fn.caretRangeFromPoint(yn,xn):un.rangeParent&&(Dn=fn.createRange(),Dn.setStart(un.rangeParent,un.rangeOffset),Dn.collapse(!0)),Dn?sn.domConverter.domRangeToView(Dn):null}(this.view,Vr)),this.fire(Vr.type,Vr,tn)}}const ib=["figcaption","li"];function ob(en){let Vr="";if(en.is("$text")||en.is("$textProxy"))Vr=en.data;else if(en.is("element","img")&&en.hasAttribute("alt"))Vr=en.getAttribute("alt");else if(en.is("element","br"))Vr=`
`;else{let Wr=null;for(const Zr of en.getChildren()){const tn=ob(Zr);Wr&&(Wr.is("containerElement")||Zr.is("containerElement"))&&(ib.includes(Wr.name)||ib.includes(Zr.name)?Vr+=`
`:Vr+=`

`),Vr+=tn,Wr=Zr}}return Vr}class Zu extends yo{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(lm),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.editing.view,tn=Zr.document;this.listenTo(tn,"clipboardInput",(sn,un)=>{un.method!="paste"||Vr.model.canEditAt(Vr.model.document.selection)||sn.stop()},{priority:"highest"}),this.listenTo(tn,"clipboardInput",(sn,un)=>{const fn=un.dataTransfer;let yn;if(un.content)yn=un.content;else{let Mn="";fn.getData("text/html")?Mn=function(Rn){return Rn.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(Un,Kn)=>Kn.length==1?" ":Kn).replace(/<!--[\s\S]*?-->/g,"")}(fn.getData("text/html")):fn.getData("text/plain")&&(((xn=(xn=fn.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||xn.includes("<br>"))&&(xn=`<p>${xn}</p>`),Mn=xn),yn=this.editor.data.htmlProcessor.toView(Mn)}var xn;const Dn=new gn(this,"inputTransformation");this.fire(Dn,{content:yn,dataTransfer:fn,targetRanges:un.targetRanges,method:un.method}),Dn.stop.called&&sn.stop(),Zr.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(sn,un)=>{if(un.content.isEmpty)return;const fn=this.editor.data.toModel(un.content,"$clipboardHolder");fn.childCount!=0&&(sn.stop(),Wr.change(()=>{this.fire("contentInsertion",{content:fn,method:un.method,dataTransfer:un.dataTransfer,targetRanges:un.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(sn,un)=>{un.resultRange=Wr.insertContent(un.content)},{priority:"low"})}_setupCopyCut(){const Vr=this.editor,Wr=Vr.model.document,Zr=Vr.editing.view.document,tn=(sn,un)=>{const fn=un.dataTransfer;un.preventDefault();const yn=Vr.data.toView(Vr.model.getSelectedContent(Wr.selection));Zr.fire("clipboardOutput",{dataTransfer:fn,content:yn,method:sn.name})};this.listenTo(Zr,"copy",tn,{priority:"low"}),this.listenTo(Zr,"cut",(sn,un)=>{Vr.model.canEditAt(Vr.model.document.selection)?tn(sn,un):un.preventDefault()},{priority:"low"}),this.listenTo(Zr,"clipboardOutput",(sn,un)=>{un.content.isEmpty||(un.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(un.content)),un.dataTransfer.setData("text/plain",ob(un.content))),un.method=="cut"&&Vr.model.deleteContent(Wr.selection)},{priority:"low"})}}class ab{constructor(Vr,Wr=20){this._batch=null,this.model=Vr,this._size=0,this.limit=Wr,this._isLocked=!1,this._changeCallback=(Zr,tn)=>{tn.isLocal&&tn.isUndoable&&tn!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(Vr){this._size+=Vr,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(Vr=!1){this.isLocked&&!Vr||(this._batch=null,this._size=0)}}class QA extends Wa{constructor(Vr,Wr){super(Vr),this._buffer=new ab(Vr.model,Wr),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(Vr={}){const Wr=this.editor.model,Zr=Wr.document,tn=Vr.text||"",sn=tn.length;let un=Zr.selection;if(Vr.selection?un=Vr.selection:Vr.range&&(un=Wr.createSelection(Vr.range)),!Wr.canEditAt(un))return;const fn=Vr.resultRange;Wr.enqueueChange(this._buffer.batch,yn=>{this._buffer.lock(),Wr.deleteContent(un),tn&&Wr.insertContent(yn.createText(tn,Zr.selection.getAttributes()),un),fn?yn.setSelection(fn):un.is("documentSelection")||yn.setSelection(un),this._buffer.unlock(),this._buffer.input(sn)})}}const sb=["insertText","insertReplacementText"];class JA extends wo{constructor(Vr){super(Vr),Qr.isAndroid&&sb.push("insertCompositionText");const Wr=Vr.document;Wr.on("beforeinput",(Zr,tn)=>{if(!this.isEnabled)return;const{data:sn,targetRanges:un,inputType:fn,domEvent:yn}=tn;if(!sb.includes(fn))return;const xn=new gn(Wr,"insertText");Wr.fire(xn,new ra(Vr,yn,{text:sn,selection:Vr.createSelection(un)})),xn.stop.called&&Zr.stop()}),Wr.on("compositionend",(Zr,{data:tn,domEvent:sn})=>{this.isEnabled&&!Qr.isAndroid&&tn&&Wr.fire("insertText",new ra(Vr,sn,{text:tn,selection:Wr.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class cb extends yo{static get pluginName(){return"Input"}init(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.editing.view,tn=Wr.document.selection;Zr.addObserver(JA);const sn=new QA(Vr,Vr.config.get("typing.undoStep")||20);Vr.commands.add("insertText",sn),Vr.commands.add("input",sn),this.listenTo(Zr.document,"insertText",(un,fn)=>{Zr.document.isComposing||fn.preventDefault();const{text:yn,selection:xn,resultRange:Dn}=fn,Mn=Array.from(xn.getRanges()).map(Kn=>Vr.editing.mapper.toModelRange(Kn));let Rn=yn;if(Qr.isAndroid){const Kn=Array.from(Mn[0].getItems()).reduce((ti,si)=>ti+(si.is("$textProxy")?si.data:""),"");Kn&&(Kn.length<=Rn.length?Rn.startsWith(Kn)&&(Rn=Rn.substring(Kn.length),Mn[0].start=Mn[0].start.getShiftedBy(Kn.length)):Kn.startsWith(Rn)&&(Mn[0].start=Mn[0].start.getShiftedBy(Rn.length),Rn=""))}const Un={text:Rn,selection:Wr.createSelection(Mn)};Dn&&(Un.resultRange=Vr.editing.mapper.toModelRange(Dn)),Vr.execute("insertText",Un)}),Qr.isAndroid?this.listenTo(Zr.document,"keydown",(un,fn)=>{!tn.isCollapsed&&fn.keyCode==229&&Zr.document.isComposing&&ub(Wr,sn)}):this.listenTo(Zr.document,"compositionstart",()=>{tn.isCollapsed||ub(Wr,sn)})}}function ub(en,Vr){if(!Vr.isEnabled)return;const Wr=Vr.buffer;Wr.lock(),en.enqueueChange(Wr.batch,()=>{en.deleteContent(en.document.selection)}),Wr.unlock()}class db extends Wa{constructor(Vr,Wr){super(Vr),this.direction=Wr,this._buffer=new ab(Vr.model,Vr.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(Vr={}){const Wr=this.editor.model,Zr=Wr.document;Wr.enqueueChange(this._buffer.batch,tn=>{this._buffer.lock();const sn=tn.createSelection(Vr.selection||Zr.selection);if(!Wr.canEditAt(sn))return;const un=Vr.sequence||1,fn=sn.isCollapsed;if(sn.isCollapsed&&Wr.modifySelection(sn,{direction:this.direction,unit:Vr.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(un))return void this._replaceEntireContentWithParagraph(tn);if(this._shouldReplaceFirstBlockWithParagraph(sn,un))return void this.editor.execute("paragraph",{selection:sn});if(sn.isCollapsed)return;let yn=0;sn.getFirstRange().getMinimalFlatRanges().forEach(xn=>{yn+=Ya(xn.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),Wr.deleteContent(sn,{doNotResetEntireContent:fn,direction:this.direction}),this._buffer.input(yn),tn.setSelection(sn),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(Vr){if(Vr>1)return!1;const Wr=this.editor.model,Zr=Wr.document.selection,tn=Wr.schema.getLimitElement(Zr);if(!(Zr.isCollapsed&&Zr.containsEntireContent(tn))||!Wr.schema.checkChild(tn,"paragraph"))return!1;const sn=tn.getChild(0);return!sn||!sn.is("element","paragraph")}_replaceEntireContentWithParagraph(Vr){const Wr=this.editor.model,Zr=Wr.document.selection,tn=Wr.schema.getLimitElement(Zr),sn=Vr.createElement("paragraph");Vr.remove(Vr.createRangeIn(tn)),Vr.insert(sn,tn),Vr.setSelection(sn,0)}_shouldReplaceFirstBlockWithParagraph(Vr,Wr){const Zr=this.editor.model;if(Wr>1||this.direction!="backward"||!Vr.isCollapsed)return!1;const tn=Vr.getFirstPosition(),sn=Zr.schema.getLimitElement(tn),un=sn.getChild(0);return tn.parent==un&&!!Vr.containsEntireContent(un)&&!!Zr.schema.checkChild(sn,"paragraph")&&un.name!="paragraph"}}const hb="word",Bd="selection",Gh="backward",rp="forward",fb={deleteContent:{unit:Bd,direction:Gh},deleteContentBackward:{unit:"codePoint",direction:Gh},deleteWordBackward:{unit:hb,direction:Gh},deleteHardLineBackward:{unit:Bd,direction:Gh},deleteSoftLineBackward:{unit:Bd,direction:Gh},deleteContentForward:{unit:"character",direction:rp},deleteWordForward:{unit:hb,direction:rp},deleteHardLineForward:{unit:Bd,direction:rp},deleteSoftLineForward:{unit:Bd,direction:rp}};class eC extends wo{constructor(Vr){super(Vr);const Wr=Vr.document;let Zr=0;Wr.on("keydown",()=>{Zr++}),Wr.on("keyup",()=>{Zr=0}),Wr.on("beforeinput",(tn,sn)=>{if(!this.isEnabled)return;const{targetRanges:un,domEvent:fn,inputType:yn}=sn,xn=fb[yn];if(!xn)return;const Dn={direction:xn.direction,unit:xn.unit,sequence:Zr};Dn.unit==Bd&&(Dn.selectionToRemove=Vr.createSelection(un[0])),yn==="deleteContentBackward"&&(Qr.isAndroid&&(Dn.sequence=1),function(Rn){if(Rn.length!=1||Rn[0].isCollapsed)return!1;const Un=Rn[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let Kn=0;for(const{nextPosition:ti}of Un){if(ti.parent.is("$text")){const si=ti.parent.data,fi=ti.offset;if(Bl(si,fi)||hl(si,fi)||op(si,fi))continue;Kn++}else Kn++;if(Kn>1)return!0}return!1}(un)&&(Dn.unit=Bd,Dn.selectionToRemove=Vr.createSelection(un)));const Mn=new Vu(Wr,"delete",un[0]);Wr.fire(Mn,new ra(Vr,fn,Dn)),Mn.stop.called&&tn.stop()}),Qr.isBlink&&function(tn){const sn=tn.view,un=sn.document;let fn=null,yn=!1;function xn(Mn){return Mn==Xa.backspace||Mn==Xa.delete}function Dn(Mn){return Mn==Xa.backspace?Gh:rp}un.on("keydown",(Mn,{keyCode:Rn})=>{fn=Rn,yn=!1}),un.on("keyup",(Mn,{keyCode:Rn,domEvent:Un})=>{const Kn=un.selection,ti=tn.isEnabled&&Rn==fn&&xn(Rn)&&!Kn.isCollapsed&&!yn;if(fn=null,ti){const si=Kn.getFirstRange(),fi=new Vu(un,"delete",si),Li={unit:Bd,direction:Dn(Rn),selectionToRemove:Kn};un.fire(fi,new ra(sn,Un,Li))}}),un.on("beforeinput",(Mn,{inputType:Rn})=>{const Un=fb[Rn];xn(fn)&&Un&&Un.direction==Dn(fn)&&(yn=!0)},{priority:"high"}),un.on("beforeinput",(Mn,{inputType:Rn,data:Un})=>{fn==Xa.delete&&Rn=="insertText"&&Un==""&&Mn.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class vd extends yo{static get pluginName(){return"Delete"}init(){const Vr=this.editor,Wr=Vr.editing.view,Zr=Wr.document,tn=Vr.model.document;Wr.addObserver(eC),this._undoOnBackspace=!1;const sn=new db(Vr,"forward");Vr.commands.add("deleteForward",sn),Vr.commands.add("forwardDelete",sn),Vr.commands.add("delete",new db(Vr,"backward")),this.listenTo(Zr,"delete",(un,fn)=>{Zr.isComposing||fn.preventDefault();const{direction:yn,sequence:xn,selectionToRemove:Dn,unit:Mn}=fn,Rn=yn==="forward"?"deleteForward":"delete",Un={sequence:xn};if(Mn=="selection"){const Kn=Array.from(Dn.getRanges()).map(ti=>Vr.editing.mapper.toModelRange(ti));Un.selection=Vr.model.createSelection(Kn)}else Un.unit=Mn;Vr.execute(Rn,Un),Wr.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(Zr,"delete",(un,fn)=>{this._undoOnBackspace&&fn.direction=="backward"&&fn.sequence==1&&fn.unit=="codePoint"&&(this._undoOnBackspace=!1,Vr.execute("undo"),fn.preventDefault(),un.stop())},{context:"$capture"}),this.listenTo(tn,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class tC extends yo{static get requires(){return[cb,vd]}static get pluginName(){return"Typing"}}function pb(en,Vr){let Wr=en.start;return{text:Array.from(en.getWalker({ignoreElementEnd:!1})).reduce((Zr,{item:tn})=>tn.is("$text")||tn.is("$textProxy")?Zr+tn.data:(Wr=Vr.createPositionAfter(tn),""),""),range:Vr.createRange(Wr,en.end)}}class gb extends Ji(){constructor(Vr,Wr){super(),this.model=Vr,this.testCallback=Wr,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(Vr.document.selection),this.stopListening(Vr.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const Vr=this.model.document;this.listenTo(Vr.selection,"change:range",(Wr,{directChange:Zr})=>{Zr&&(Vr.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(Vr,"change:data",(Wr,Zr)=>{!Zr.isUndo&&Zr.isLocal&&this._evaluateTextBeforeSelection("data",{batch:Zr})})}_evaluateTextBeforeSelection(Vr,Wr={}){const Zr=this.model,tn=Zr.document.selection,sn=Zr.createRange(Zr.createPositionAt(tn.focus.parent,0),tn.focus),{text:un,range:fn}=pb(sn,Zr),yn=this.testCallback(un);if(!yn&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!yn,yn){const xn=Object.assign(Wr,{text:un,range:fn});typeof yn=="object"&&Object.assign(xn,yn),this.fire(`matched:${Vr}`,xn)}}}class mb extends yo{constructor(Vr){super(Vr),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.editing.view,tn=Vr.locale,sn=Wr.document.selection;this.listenTo(Zr.document,"arrowKey",(un,fn)=>{if(!sn.isCollapsed||fn.shiftKey||fn.altKey||fn.ctrlKey)return;const yn=fn.keyCode==Xa.arrowright,xn=fn.keyCode==Xa.arrowleft;if(!yn&&!xn)return;const Dn=tn.contentLanguageDirection;let Mn=!1;Mn=Dn==="ltr"&&yn||Dn==="rtl"&&xn?this._handleForwardMovement(fn):this._handleBackwardMovement(fn),Mn===!0&&un.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(sn,"change:range",(un,fn)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!fn.directChange&&Zp(sn.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(Vr){this.attributes.add(Vr)}_handleForwardMovement(Vr){const Wr=this.attributes,Zr=this.editor.model.document.selection,tn=Zr.getFirstPosition();return!this._isGravityOverridden&&(!tn.isAtStart||!cm(Zr,Wr))&&!!Zp(tn,Wr)&&(Kp(Vr),this._overrideGravity(),!0)}_handleBackwardMovement(Vr){const Wr=this.attributes,Zr=this.editor.model,tn=Zr.document.selection,sn=tn.getFirstPosition();return this._isGravityOverridden?(Kp(Vr),this._restoreGravity(),um(Zr,Wr,sn),!0):sn.isAtStart?!!cm(tn,Wr)&&(Kp(Vr),um(Zr,Wr,sn),!0):!!function(un,fn){const yn=un.getShiftedBy(-1);return Zp(yn,fn)}(sn,Wr)&&(sn.isAtEnd&&!cm(tn,Wr)&&Zp(sn,Wr)?(Kp(Vr),um(Zr,Wr,sn),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(Vr=>Vr.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(Vr=>{Vr.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function cm(en,Vr){for(const Wr of Vr)if(en.hasAttribute(Wr))return!0;return!1}function um(en,Vr,Wr){const Zr=Wr.nodeBefore;en.change(tn=>{Zr?tn.setSelectionAttribute(Zr.getAttributes()):tn.removeSelectionAttribute(Vr)})}function Kp(en){en.preventDefault()}function Zp(en,Vr){const{nodeBefore:Wr,nodeAfter:Zr}=en;for(const tn of Vr){const sn=Wr?Wr.getAttribute(tn):void 0;if((Zr?Zr.getAttribute(tn):void 0)!==sn)return!0}return!1}var vb=/[\\^$.*+?()[\]{}|]/g,rC=RegExp(vb.source);const nC=function(en){return(en=Tf(en))&&rC.test(en)?en.replace(vb,"\\$&"):en},yb={copyright:{from:"(c)",to:"Â©"},registeredTrademark:{from:"(r)",to:"Â®"},trademark:{from:"(tm)",to:"â¢"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"Â½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"â",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"â",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"Â¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"Â¾",null]},lessThanOrEqual:{from:"<=",to:"â¤"},greaterThanOrEqual:{from:">=",to:"â¥"},notEqual:{from:"!=",to:"â "},arrowLeft:{from:"<-",to:"â"},arrowRight:{from:"->",to:"â"},horizontalEllipsis:{from:"...",to:"â¦"},enDash:{from:/(^| )(--)( )$/,to:[null,"â",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"â",null]},quotesPrimary:{from:Wh('"'),to:[null,"â",null,"â"]},quotesSecondary:{from:Wh("'"),to:[null,"â",null,"â"]},quotesPrimaryEnGb:{from:Wh("'"),to:[null,"â",null,"â"]},quotesSecondaryEnGb:{from:Wh('"'),to:[null,"â",null,"â"]},quotesPrimaryPl:{from:Wh('"'),to:[null,"â",null,"â"]},quotesSecondaryPl:{from:Wh("'"),to:[null,"â",null,"â"]}},bb={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},iC=["symbols","mathematical","typography","quotes"];function oC(en){return typeof en=="string"?new RegExp(`(${nC(en)})$`):en}function aC(en){return typeof en=="string"?()=>[en]:en instanceof Array?()=>en:en}function sC(en){return(en.textNode?en.textNode:en.nodeAfter).getAttributes()}function Wh(en){return new RegExp(`(^|\\s)(${en})([^${en}]*)(${en})$`)}function Yh(en,Vr,Wr,Zr){return Zr.createRange(wb(en,Vr,Wr,!0,Zr),wb(en,Vr,Wr,!1,Zr))}function wb(en,Vr,Wr,Zr,tn){let sn=en.textNode||(Zr?en.nodeBefore:en.nodeAfter),un=null;for(;sn&&sn.getAttribute(Vr)==Wr;)un=sn,sn=Zr?sn.previousSibling:sn.nextSibling;return un?tn.createPositionAt(un,Zr?"before":"after"):en}function*kb(en,Vr){for(const Wr of Vr)Wr&&en.getAttributeProperties(Wr[0]).copyOnEnter&&(yield Wr)}class lC extends Wa{execute(){this.editor.model.change(Vr=>{this.enterBlock(Vr),this.fire("afterExecute",{writer:Vr})})}enterBlock(Vr){const Wr=this.editor.model,Zr=Wr.document.selection,tn=Wr.schema,sn=Zr.isCollapsed,un=Zr.getFirstRange(),fn=un.start.parent,yn=un.end.parent;if(tn.isLimit(fn)||tn.isLimit(yn))return sn||fn!=yn||Wr.deleteContent(Zr),!1;if(sn){const xn=kb(Vr.model.schema,Zr.getAttributes());return Ab(Vr,un.start),Vr.setSelectionAttribute(xn),!0}{const xn=!(un.start.isAtStart&&un.end.isAtEnd),Dn=fn==yn;if(Wr.deleteContent(Zr,{leaveUnmerged:xn}),xn){if(Dn)return Ab(Vr,Zr.focus),!0;Vr.setSelection(yn,0)}}return!1}}function Ab(en,Vr){en.split(Vr),en.setSelection(Vr.parent.nextSibling,0)}const cC={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Cb extends wo{constructor(Vr){super(Vr);const Wr=this.document;let Zr=!1;Wr.on("keydown",(tn,sn)=>{Zr=sn.shiftKey}),Wr.on("beforeinput",(tn,sn)=>{if(!this.isEnabled)return;let un=sn.inputType;Qr.isSafari&&Zr&&un=="insertParagraph"&&(un="insertLineBreak");const fn=sn.domEvent,yn=cC[un];if(!yn)return;const xn=new Vu(Wr,"enter",sn.targetRanges[0]);Wr.fire(xn,new ra(Vr,fn,{isSoft:yn.isSoft})),xn.stop.called&&tn.stop()})}observe(){}stopObserving(){}}class Xp extends yo{static get pluginName(){return"Enter"}init(){const Vr=this.editor,Wr=Vr.editing.view,Zr=Wr.document;Wr.addObserver(Cb),Vr.commands.add("enter",new lC(Vr)),this.listenTo(Zr,"enter",(tn,sn)=>{Zr.isComposing||sn.preventDefault(),sn.isSoft||(Vr.execute("enter"),Wr.scrollToTheSelection())},{priority:"low"})}}class uC extends Wa{execute(){const Vr=this.editor.model,Wr=Vr.document;Vr.change(Zr=>{(function(tn,sn,un){const fn=un.isCollapsed,yn=un.getFirstRange(),xn=yn.start.parent,Dn=yn.end.parent,Mn=xn==Dn;if(fn){const Rn=kb(tn.schema,un.getAttributes());xb(tn,sn,yn.end),sn.removeSelectionAttribute(un.getAttributeKeys()),sn.setSelectionAttribute(Rn)}else{const Rn=!(yn.start.isAtStart&&yn.end.isAtEnd);tn.deleteContent(un,{leaveUnmerged:Rn}),Mn?xb(tn,sn,un.focus):Rn&&sn.setSelection(Dn,0)}})(Vr,Zr,Wr.selection),this.fire("afterExecute",{writer:Zr})})}refresh(){const Vr=this.editor.model,Wr=Vr.document;this.isEnabled=function(Zr,tn){if(tn.rangeCount>1)return!1;const sn=tn.anchor;if(!sn||!Zr.checkChild(sn,"softBreak"))return!1;const un=tn.getFirstRange(),fn=un.start.parent,yn=un.end.parent;return!((dm(fn,Zr)||dm(yn,Zr))&&fn!==yn)}(Vr.schema,Wr.selection)}}function xb(en,Vr,Wr){const Zr=Vr.createElement("softBreak");en.insertContent(Zr,Wr),Vr.setSelection(Zr,"after")}function dm(en,Vr){return!en.is("rootElement")&&(Vr.isLimit(en)||dm(en.parent,Vr))}class dC extends yo{static get pluginName(){return"ShiftEnter"}init(){const Vr=this.editor,Wr=Vr.model.schema,Zr=Vr.conversion,tn=Vr.editing.view,sn=tn.document;Wr.register("softBreak",{allowWhere:"$text",isInline:!0}),Zr.for("upcast").elementToElement({model:"softBreak",view:"br"}),Zr.for("downcast").elementToElement({model:"softBreak",view:(un,{writer:fn})=>fn.createEmptyElement("br")}),tn.addObserver(Cb),Vr.commands.add("shiftEnter",new uC(Vr)),this.listenTo(sn,"enter",(un,fn)=>{sn.isComposing||fn.preventDefault(),fn.isSoft&&(Vr.execute("shiftEnter"),tn.scrollToTheSelection())},{priority:"low"})}}class hC extends Ci(){constructor(){super(...arguments),this._stack=[]}add(Vr,Wr){const Zr=this._stack,tn=Zr[0];this._insertDescriptor(Vr);const sn=Zr[0];tn===sn||hm(tn,sn)||this.fire("change:top",{oldDescriptor:tn,newDescriptor:sn,writer:Wr})}remove(Vr,Wr){const Zr=this._stack,tn=Zr[0];this._removeDescriptor(Vr);const sn=Zr[0];tn===sn||hm(tn,sn)||this.fire("change:top",{oldDescriptor:tn,newDescriptor:sn,writer:Wr})}_insertDescriptor(Vr){const Wr=this._stack,Zr=Wr.findIndex(sn=>sn.id===Vr.id);if(hm(Vr,Wr[Zr]))return;Zr>-1&&Wr.splice(Zr,1);let tn=0;for(;Wr[tn]&&fC(Wr[tn],Vr);)tn++;Wr.splice(tn,0,Vr)}_removeDescriptor(Vr){const Wr=this._stack,Zr=Wr.findIndex(tn=>tn.id===Vr);Zr>-1&&Wr.splice(Zr,1)}}function hm(en,Vr){return en&&Vr&&en.priority==Vr.priority&&Qp(en.classes)==Qp(Vr.classes)}function fC(en,Vr){return en.priority>Vr.priority||!(en.priority<Vr.priority)&&Qp(en.classes)>Qp(Vr.classes)}function Qp(en){return Array.isArray(en)?en.sort().join(","):en}const pC='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',gC="ck-widget",Sb="ck-widget_selected";function pl(en){return!!en.is("element")&&!!en.getCustomProperty("widget")}function fm(en,Vr,Wr={}){if(!en.is("containerElement"))throw new Cn("widget-to-widget-wrong-element-type",null,{element:en});return Vr.setAttribute("contenteditable","false",en),Vr.addClass(gC,en),Vr.setCustomProperty("widget",!0,en),en.getFillerOffset=yC,Vr.setCustomProperty("widgetLabel",[],en),Wr.label&&function(Zr,tn){Zr.getCustomProperty("widgetLabel").push(tn)}(en,Wr.label),Wr.hasSelectionHandle&&function(Zr,tn){const sn=tn.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(un){const fn=this.toDomElement(un),yn=new iu;return yn.set("content",pC),yn.render(),fn.appendChild(yn.element),fn});tn.insert(tn.createPositionAt(Zr,0),sn),tn.addClass(["ck-widget_with-selection-handle"],Zr)}(en,Vr),Db(en,Vr),en}function mC(en,Vr,Wr){if(Vr.classes&&Wr.addClass(Nl(Vr.classes),en),Vr.attributes)for(const Zr in Vr.attributes)Wr.setAttribute(Zr,Vr.attributes[Zr],en)}function vC(en,Vr,Wr){if(Vr.classes&&Wr.removeClass(Nl(Vr.classes),en),Vr.attributes)for(const Zr in Vr.attributes)Wr.removeAttribute(Zr,en)}function Db(en,Vr,Wr=mC,Zr=vC){const tn=new hC;tn.on("change:top",(sn,un)=>{un.oldDescriptor&&Zr(en,un.oldDescriptor,un.writer),un.newDescriptor&&Wr(en,un.newDescriptor,un.writer)}),Vr.setCustomProperty("addHighlight",(sn,un,fn)=>tn.add(un,fn),en),Vr.setCustomProperty("removeHighlight",(sn,un,fn)=>tn.remove(un,fn),en)}function Eb(en,Vr,Wr={}){return Vr.addClass(["ck-editor__editable","ck-editor__nested-editable"],en),Vr.setAttribute("role","textbox",en),Wr.label&&Vr.setAttribute("aria-label",Wr.label,en),Vr.setAttribute("contenteditable",en.isReadOnly?"false":"true",en),en.on("change:isReadOnly",(Zr,tn,sn)=>{Vr.setAttribute("contenteditable",sn?"false":"true",en)}),en.on("change:isFocused",(Zr,tn,sn)=>{sn?Vr.addClass("ck-editor__nested-editable_focused",en):Vr.removeClass("ck-editor__nested-editable_focused",en)}),Db(en,Vr),en}function Tb(en,Vr){const Wr=en.getSelectedElement();if(Wr){const Zr=Fd(en);if(Zr)return Vr.createRange(Vr.createPositionAt(Wr,Zr))}return sy(en,Vr)}function yC(){return null}const yd="widget-type-around";function gh(en,Vr,Wr){return!!en&&pl(en)&&!Wr.isInline(Vr)}function Fd(en){return en.getAttribute(yd)}var Mb=Fr(4921),bC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Mb.Z,bC),Mb.Z.locals;const Ib=["before","after"],_C=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Lb="ck-widget__type-around_disabled";class wC extends yo{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Xp,vd]}init(){const Vr=this.editor,Wr=Vr.editing.view;this.on("change:isEnabled",(Zr,tn,sn)=>{Wr.change(un=>{for(const fn of Wr.document.roots)sn?un.removeClass(Lb,fn):un.addClass(Lb,fn)}),sn||Vr.model.change(un=>{un.removeSelectionAttribute(yd)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(Vr,Wr){const Zr=this.editor,tn=Zr.editing.view,sn=Zr.model.schema.getAttributesWithProperty(Vr,"copyOnReplace",!0);Zr.execute("insertParagraph",{position:Zr.model.createPositionAt(Vr,Wr),attributes:sn}),tn.focus(),tn.scrollToTheSelection()}_listenToIfEnabled(Vr,Wr,Zr,tn){this.listenTo(Vr,Wr,(...sn)=>{this.isEnabled&&Zr(...sn)},tn)}_insertParagraphAccordingToFakeCaretPosition(){const Vr=this.editor.model.document.selection,Wr=Fd(Vr);if(!Wr)return!1;const Zr=Vr.getSelectedElement();return this._insertParagraph(Zr,Wr),!0}_enableTypeAroundUIInjection(){const Vr=this.editor,Wr=Vr.model.schema,Zr=Vr.locale.t,tn={before:Zr("Insert paragraph before block"),after:Zr("Insert paragraph after block")};Vr.editing.downcastDispatcher.on("insert",(sn,un,fn)=>{const yn=fn.mapper.toViewElement(un.item);yn&&gh(yn,un.item,Wr)&&(function(xn,Dn,Mn){const Rn=xn.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Un){const Kn=this.toDomElement(Un);return function(ti,si){for(const fi of Ib){const Li=new Cc({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${fi}`],title:si[fi],"aria-hidden":"true"},children:[ti.ownerDocument.importNode(_C,!0)]});ti.appendChild(Li.render())}}(Kn,Dn),function(ti){const si=new Cc({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});ti.appendChild(si.render())}(Kn),Kn});xn.insert(xn.createPositionAt(Mn,"end"),Rn)}(fn.writer,tn,yn),yn.getCustomProperty("widgetLabel").push(()=>this.isEnabled?Zr("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const Vr=this.editor,Wr=Vr.model,Zr=Wr.document.selection,tn=Wr.schema,sn=Vr.editing.view;function un(fn){return`ck-widget_type-around_show-fake-caret_${fn}`}this._listenToIfEnabled(sn.document,"arrowKey",(fn,yn)=>{this._handleArrowKeyPress(fn,yn)},{context:[pl,"$text"],priority:"high"}),this._listenToIfEnabled(Zr,"change:range",(fn,yn)=>{yn.directChange&&Vr.model.change(xn=>{xn.removeSelectionAttribute(yd)})}),this._listenToIfEnabled(Wr.document,"change:data",()=>{const fn=Zr.getSelectedElement();fn&&gh(Vr.editing.mapper.toViewElement(fn),fn,tn)||Vr.model.change(yn=>{yn.removeSelectionAttribute(yd)})}),this._listenToIfEnabled(Vr.editing.downcastDispatcher,"selection",(fn,yn,xn)=>{const Dn=xn.writer;if(this._currentFakeCaretModelElement){const Kn=xn.mapper.toViewElement(this._currentFakeCaretModelElement);Kn&&(Dn.removeClass(Ib.map(un),Kn),this._currentFakeCaretModelElement=null)}const Mn=yn.selection.getSelectedElement();if(!Mn)return;const Rn=xn.mapper.toViewElement(Mn);if(!gh(Rn,Mn,tn))return;const Un=Fd(yn.selection);Un&&(Dn.addClass(un(Un),Rn),this._currentFakeCaretModelElement=Mn)}),this._listenToIfEnabled(Vr.ui.focusTracker,"change:isFocused",(fn,yn,xn)=>{xn||Vr.model.change(Dn=>{Dn.removeSelectionAttribute(yd)})})}_handleArrowKeyPress(Vr,Wr){const Zr=this.editor,tn=Zr.model,sn=tn.document.selection,un=tn.schema,fn=Zr.editing.view,yn=function(Mn,Rn){const Un=wh(Mn,Rn);return Un==="down"||Un==="right"}(Wr.keyCode,Zr.locale.contentLanguageDirection),xn=fn.document.selection.getSelectedElement();let Dn;gh(xn,Zr.editing.mapper.toModelElement(xn),un)?Dn=this._handleArrowKeyPressOnSelectedWidget(yn):sn.isCollapsed?Dn=this._handleArrowKeyPressWhenSelectionNextToAWidget(yn):Wr.shiftKey||(Dn=this._handleArrowKeyPressWhenNonCollapsedSelection(yn)),Dn&&(Wr.preventDefault(),Vr.stop())}_handleArrowKeyPressOnSelectedWidget(Vr){const Wr=this.editor.model,Zr=Fd(Wr.document.selection);return Wr.change(tn=>Zr?Zr!==(Vr?"after":"before")?(tn.removeSelectionAttribute(yd),!0):!1:(tn.setSelectionAttribute(yd,Vr?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(Vr){const Wr=this.editor,Zr=Wr.model,tn=Zr.schema,sn=Wr.plugins.get("Widget"),un=sn._getObjectElementNextToSelection(Vr);return!!gh(Wr.editing.mapper.toViewElement(un),un,tn)&&(Zr.change(fn=>{sn._setSelectionOverElement(un),fn.setSelectionAttribute(yd,Vr?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(Vr){const Wr=this.editor,Zr=Wr.model,tn=Zr.schema,sn=Wr.editing.mapper,un=Zr.document.selection,fn=Vr?un.getLastPosition().nodeBefore:un.getFirstPosition().nodeAfter;return!!gh(sn.toViewElement(fn),fn,tn)&&(Zr.change(yn=>{yn.setSelection(fn,"on"),yn.setSelectionAttribute(yd,Vr?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const Vr=this.editor,Wr=Vr.editing.view;this._listenToIfEnabled(Wr.document,"mousedown",(Zr,tn)=>{const sn=tn.domTarget.closest(".ck-widget__type-around__button");if(!sn)return;const un=function(xn){return xn.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(sn),fn=function(xn,Dn){const Mn=xn.closest(".ck-widget");return Dn.mapDomToView(Mn)}(sn,Wr.domConverter),yn=Vr.editing.mapper.toModelElement(fn);this._insertParagraph(yn,un),tn.preventDefault(),Zr.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const Vr=this.editor,Wr=Vr.model.document.selection,Zr=Vr.editing.view;this._listenToIfEnabled(Zr.document,"enter",(tn,sn)=>{if(tn.eventPhase!="atTarget")return;const un=Wr.getSelectedElement(),fn=Vr.editing.mapper.toViewElement(un),yn=Vr.model.schema;let xn;this._insertParagraphAccordingToFakeCaretPosition()?xn=!0:gh(fn,un,yn)&&(this._insertParagraph(un,sn.isSoft?"before":"after"),xn=!0),xn&&(sn.preventDefault(),tn.stop())},{context:pl})}_enableInsertingParagraphsOnTypingKeystroke(){const Vr=this.editor.editing.view.document;this._listenToIfEnabled(Vr,"insertText",(Wr,Zr)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(Zr.selection=Vr.selection)},{priority:"high"}),Qr.isAndroid?this._listenToIfEnabled(Vr,"keydown",(Wr,Zr)=>{Zr.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(Vr,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const Vr=this.editor,Wr=Vr.editing.view,Zr=Vr.model,tn=Zr.schema;this._listenToIfEnabled(Wr.document,"delete",(sn,un)=>{if(sn.eventPhase!="atTarget")return;const fn=Fd(Zr.document.selection);if(!fn)return;const yn=un.direction,xn=Zr.document.selection.getSelectedElement(),Dn=yn=="forward";if(fn==="before"===Dn)Vr.execute("delete",{selection:Zr.createSelection(xn,"on")});else{const Mn=tn.getNearestSelectionRange(Zr.createPositionAt(xn,fn),yn);if(Mn)if(Mn.isCollapsed){const Rn=Zr.createSelection(Mn.start);if(Zr.modifySelection(Rn,{direction:yn}),Rn.focus.isEqual(Mn.start)){const Un=function(Kn,ti){let si=ti;for(const fi of ti.getAncestors({parentFirst:!0})){if(fi.childCount>1||Kn.isLimit(fi))break;si=fi}return si}(tn,Mn.start.parent);Zr.deleteContent(Zr.createSelection(Un,"on"),{doNotAutoparagraph:!0})}else Zr.change(Un=>{Un.setSelection(Mn),Vr.execute(Dn?"deleteForward":"delete")})}else Zr.change(Rn=>{Rn.setSelection(Mn),Vr.execute(Dn?"deleteForward":"delete")})}un.preventDefault(),sn.stop()},{context:pl})}_enableInsertContentIntegration(){const Vr=this.editor,Wr=this.editor.model,Zr=Wr.document.selection;this._listenToIfEnabled(Vr.model,"insertContent",(tn,[sn,un])=>{if(un&&!un.is("documentSelection"))return;const fn=Fd(Zr);return fn?(tn.stop(),Wr.change(yn=>{const xn=Zr.getSelectedElement(),Dn=Wr.createPositionAt(xn,fn),Mn=yn.createSelection(Dn),Rn=Wr.insertContent(sn,Mn);return yn.setSelection(Mn),Rn})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const Vr=this.editor,Wr=this.editor.model.document.selection;this._listenToIfEnabled(Vr.model,"insertObject",(Zr,tn)=>{const[,sn,un={}]=tn;if(sn&&!sn.is("documentSelection"))return;const fn=Fd(Wr);fn&&(un.findOptimalPosition=fn,tn[3]=un)},{priority:"high"})}_enableDeleteContentIntegration(){const Vr=this.editor,Wr=this.editor.model.document.selection;this._listenToIfEnabled(Vr.model,"deleteContent",(Zr,[tn])=>{tn&&!tn.is("documentSelection")||Fd(Wr)&&Zr.stop()},{priority:"high"})}}function kC(en){const Vr=en.model;return(Wr,Zr)=>{const tn=Zr.keyCode==Xa.arrowup,sn=Zr.keyCode==Xa.arrowdown,un=Zr.shiftKey,fn=Vr.document.selection;if(!tn&&!sn)return;const yn=sn;if(un&&function(Dn,Mn){return!Dn.isCollapsed&&Dn.isBackward==Mn}(fn,yn))return;const xn=function(Dn,Mn,Rn){const Un=Dn.model;if(Rn){const Kn=Mn.isCollapsed?Mn.focus:Mn.getLastPosition(),ti=Pb(Un,Kn,"forward");if(!ti)return null;const si=Un.createRange(Kn,ti),fi=Ob(Un.schema,si,"backward");return fi?Un.createRange(Kn,fi):null}{const Kn=Mn.isCollapsed?Mn.focus:Mn.getFirstPosition(),ti=Pb(Un,Kn,"backward");if(!ti)return null;const si=Un.createRange(ti,Kn),fi=Ob(Un.schema,si,"forward");return fi?Un.createRange(fi,Kn):null}}(en,fn,yn);if(xn){if(xn.isCollapsed&&(fn.isCollapsed||un))return;(xn.isCollapsed||function(Dn,Mn,Rn){const Un=Dn.model,Kn=Dn.view.domConverter;if(Rn){const eo=Un.createSelection(Mn.start);Un.modifySelection(eo),eo.focus.isAtEnd||Mn.start.isEqual(eo.focus)||(Mn=Un.createRange(eo.focus,Mn.end))}const ti=Dn.mapper.toViewRange(Mn),si=Kn.viewRangeToDom(ti),fi=js.getDomRangeRects(si);let Li;for(const eo of fi)if(Li!==void 0){if(Math.round(eo.top)>=Li)return!1;Li=Math.max(Li,Math.round(eo.bottom))}else Li=Math.round(eo.bottom);return!0}(en,xn,yn))&&(Vr.change(Dn=>{const Mn=yn?xn.end:xn.start;if(un){const Rn=Vr.createSelection(fn.anchor);Rn.setFocus(Mn),Dn.setSelection(Rn)}else Dn.setSelection(Mn)}),Wr.stop(),Zr.preventDefault(),Zr.stopPropagation())}}}function Pb(en,Vr,Wr){const Zr=en.schema,tn=en.createRangeIn(Vr.root),sn=Wr=="forward"?"elementStart":"elementEnd";for(const{previousPosition:un,item:fn,type:yn}of tn.getWalker({startPosition:Vr,direction:Wr})){if(Zr.isLimit(fn)&&!Zr.isInline(fn))return un;if(yn==sn&&Zr.isBlock(fn))return null}return null}function Ob(en,Vr,Wr){const Zr=Wr=="backward"?Vr.end:Vr.start;if(en.checkChild(Zr,"$text"))return Zr;for(const{nextPosition:tn}of Vr.getWalker({direction:Wr}))if(en.checkChild(tn,"$text"))return tn;return null}var Rb=Fr(3488),AC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Rb.Z,AC),Rb.Z.locals;class np extends yo{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[wC,vd]}init(){const Vr=this.editor,Wr=Vr.editing.view,Zr=Wr.document;this.editor.editing.downcastDispatcher.on("selection",(tn,sn,un)=>{const fn=un.writer,yn=sn.selection;if(yn.isCollapsed)return;const xn=yn.getSelectedElement();if(!xn)return;const Dn=Vr.editing.mapper.toViewElement(xn);var Mn;pl(Dn)&&un.consumable.consume(yn,"selection")&&fn.setSelection(fn.createRangeOn(Dn),{fake:!0,label:(Mn=Dn,Mn.getCustomProperty("widgetLabel").reduce((Rn,Un)=>typeof Un=="function"?Rn?Rn+". "+Un():Un():Rn?Rn+". "+Un:Un,""))})}),this.editor.editing.downcastDispatcher.on("selection",(tn,sn,un)=>{this._clearPreviouslySelectedWidgets(un.writer);const fn=un.writer,yn=fn.document.selection;let xn=null;for(const Dn of yn.getRanges())for(const Mn of Dn){const Rn=Mn.item;pl(Rn)&&!CC(Rn,xn)&&(fn.addClass(Sb,Rn),this._previouslySelected.add(Rn),xn=Rn)}},{priority:"low"}),Wr.addObserver(jg),this.listenTo(Zr,"mousedown",(...tn)=>this._onMousedown(...tn)),this.listenTo(Zr,"arrowKey",(...tn)=>{this._handleSelectionChangeOnArrowKeyPress(...tn)},{context:[pl,"$text"]}),this.listenTo(Zr,"arrowKey",(...tn)=>{this._preventDefaultOnArrowKeyPress(...tn)},{context:"$root"}),this.listenTo(Zr,"arrowKey",kC(this.editor.editing),{context:"$text"}),this.listenTo(Zr,"delete",(tn,sn)=>{this._handleDelete(sn.direction=="forward")&&(sn.preventDefault(),tn.stop())},{context:"$root"})}_onMousedown(Vr,Wr){const Zr=this.editor,tn=Zr.editing.view,sn=tn.document;let un=Wr.target;if(function(yn){let xn=yn;for(;xn;){if(xn.is("editableElement")&&!xn.is("rootElement"))return!0;if(pl(xn))return!1;xn=xn.parent}return!1}(un)){if((Qr.isSafari||Qr.isGecko)&&Wr.domEvent.detail>=3){const yn=Zr.editing.mapper,xn=un.is("attributeElement")?un.findAncestor(Mn=>!Mn.is("attributeElement")):un,Dn=yn.toModelElement(xn);Wr.preventDefault(),this.editor.model.change(Mn=>{Mn.setSelection(Dn,"in")})}return}if(!pl(un)&&(un=un.findAncestor(pl),!un))return;Qr.isAndroid&&Wr.preventDefault(),sn.isFocused||tn.focus();const fn=Zr.editing.mapper.toModelElement(un);this._setSelectionOverElement(fn)}_handleSelectionChangeOnArrowKeyPress(Vr,Wr){const Zr=Wr.keyCode,tn=this.editor.model,sn=tn.schema,un=tn.document.selection,fn=un.getSelectedElement(),yn=wh(Zr,this.editor.locale.contentLanguageDirection),xn=yn=="down"||yn=="right",Dn=yn=="up"||yn=="down";if(fn&&sn.isObject(fn)){const Rn=xn?un.getLastPosition():un.getFirstPosition(),Un=sn.getNearestSelectionRange(Rn,xn?"forward":"backward");return void(Un&&(tn.change(Kn=>{Kn.setSelection(Un)}),Wr.preventDefault(),Vr.stop()))}if(!un.isCollapsed&&!Wr.shiftKey){const Rn=un.getFirstPosition(),Un=un.getLastPosition(),Kn=Rn.nodeAfter,ti=Un.nodeBefore;return void((Kn&&sn.isObject(Kn)||ti&&sn.isObject(ti))&&(tn.change(si=>{si.setSelection(xn?Un:Rn)}),Wr.preventDefault(),Vr.stop()))}if(!un.isCollapsed)return;const Mn=this._getObjectElementNextToSelection(xn);if(Mn&&sn.isObject(Mn)){if(sn.isInline(Mn)&&Dn)return;this._setSelectionOverElement(Mn),Wr.preventDefault(),Vr.stop()}}_preventDefaultOnArrowKeyPress(Vr,Wr){const Zr=this.editor.model,tn=Zr.schema,sn=Zr.document.selection.getSelectedElement();sn&&tn.isObject(sn)&&(Wr.preventDefault(),Vr.stop())}_handleDelete(Vr){const Wr=this.editor.model.document.selection;if(!this.editor.model.canEditAt(Wr)||!Wr.isCollapsed)return;const Zr=this._getObjectElementNextToSelection(Vr);return Zr?(this.editor.model.change(tn=>{let sn=Wr.anchor.parent;for(;sn.isEmpty;){const un=sn;sn=un.parent,tn.remove(un)}this._setSelectionOverElement(Zr)}),!0):void 0}_setSelectionOverElement(Vr){this.editor.model.change(Wr=>{Wr.setSelection(Wr.createRangeOn(Vr))})}_getObjectElementNextToSelection(Vr){const Wr=this.editor.model,Zr=Wr.schema,tn=Wr.document.selection,sn=Wr.createSelection(tn);if(Wr.modifySelection(sn,{direction:Vr?"forward":"backward"}),sn.isEqual(tn))return null;const un=Vr?sn.focus.nodeBefore:sn.focus.nodeAfter;return un&&Zr.isObject(un)?un:null}_clearPreviouslySelectedWidgets(Vr){for(const Wr of this._previouslySelected)Vr.removeClass(Sb,Wr);this._previouslySelected.clear()}}function CC(en,Vr){return!!Vr&&Array.from(en.getAncestors()).includes(Vr)}class Jp extends yo{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Wp]}static get pluginName(){return"WidgetToolbarRepository"}init(){const Vr=this.editor;if(Vr.plugins.has("BalloonToolbar")){const Wr=Vr.plugins.get("BalloonToolbar");this.listenTo(Wr,"show",Zr=>{(function(tn){const sn=tn.getSelectedElement();return!(!sn||!pl(sn))})(Vr.editing.view.document.selection)&&Zr.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(Vr.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(Vr.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const Vr of this._toolbarDefinitions.values())Vr.view.destroy()}register(Vr,{ariaLabel:Wr,items:Zr,getRelatedElement:tn,balloonClassName:sn="ck-toolbar-container"}){if(!Zr.length)return void En("widget-toolbar-no-items",{toolbarId:Vr});const un=this.editor,fn=un.t,yn=new Gg(un.locale);if(yn.ariaLabel=Wr||fn("Widget toolbar"),this._toolbarDefinitions.has(Vr))throw new Cn("widget-toolbar-duplicated",this,{toolbarId:Vr});const xn={view:yn,getRelatedElement:tn,balloonClassName:sn,itemsConfig:Zr,initialized:!1};un.ui.addToolbar(yn,{isContextual:!0,beforeFocus:()=>{const Dn=tn(un.editing.view.document.selection);Dn&&this._showToolbar(xn,Dn)},afterBlur:()=>{this._hideToolbar(xn)}}),this._toolbarDefinitions.set(Vr,xn)}_updateToolbarsVisibility(){let Vr=0,Wr=null,Zr=null;for(const tn of this._toolbarDefinitions.values()){const sn=tn.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&sn)if(this.editor.ui.focusTracker.isFocused){const un=sn.getAncestors().length;un>Vr&&(Vr=un,Wr=sn,Zr=tn)}else this._isToolbarVisible(tn)&&this._hideToolbar(tn);else this._isToolbarInBalloon(tn)&&this._hideToolbar(tn)}Zr&&this._showToolbar(Zr,Wr)}_hideToolbar(Vr){this._balloon.remove(Vr.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(Vr,Wr){this._isToolbarVisible(Vr)?$b(this.editor,Wr):this._isToolbarInBalloon(Vr)||(Vr.initialized||(Vr.initialized=!0,Vr.view.fillFromConfig(Vr.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:Vr.view,position:Nb(this.editor,Wr),balloonClassName:Vr.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const Zr of this._toolbarDefinitions.values())if(this._isToolbarVisible(Zr)){const tn=Zr.getRelatedElement(this.editor.editing.view.document.selection);$b(this.editor,tn)}}))}_isToolbarVisible(Vr){return this._balloon.visibleView===Vr.view}_isToolbarInBalloon(Vr){return this._balloon.hasView(Vr.view)}}function $b(en,Vr){const Wr=en.plugins.get("ContextualBalloon"),Zr=Nb(en,Vr);Wr.updatePosition(Zr)}function Nb(en,Vr){const Wr=en.editing.view,Zr=Oc.defaultPositions;return{target:Wr.domConverter.mapViewToDom(Vr),positions:[Zr.northArrowSouth,Zr.northArrowSouthWest,Zr.northArrowSouthEast,Zr.southArrowNorth,Zr.southArrowNorthWest,Zr.southArrowNorthEast,Zr.viewportStickyNorth]}}var Bb=Fr(8506),xC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Bb.Z,xC),Bb.Z.locals;var Fb=Fr(903),SC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Fb.Z,SC),Fb.Z.locals;class DC extends yo{static get pluginName(){return"DragDrop"}static get requires(){return[Zu,np]}init(){const Vr=this.editor,Wr=Vr.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=om(Zr=>this._updateDropMarker(Zr),40),this._removeDropMarkerDelayed=dl(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=dl(()=>this._clearDraggableAttributes(),40),Vr.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(Wr.addObserver(lm),Wr.addObserver(jg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(Vr,"change:isReadOnly",(Zr,tn,sn)=>{sn?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(Zr,tn,sn)=>{sn||this._finalizeDragging(!1)}),Qr.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const Vr=this.editor,Wr=Vr.model,Zr=Wr.document,tn=Vr.editing.view,sn=tn.document;this.listenTo(sn,"dragstart",(un,fn)=>{const yn=Zr.selection;if(fn.target&&fn.target.is("editableElement"))return void fn.preventDefault();const xn=fn.target?Vb(fn.target):null;if(xn){const Un=Vr.editing.mapper.toModelElement(xn);this._draggedRange=Du.fromRange(Wr.createRangeOn(Un)),Vr.plugins.has("WidgetToolbarRepository")&&Vr.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!sn.selection.isCollapsed){const Un=sn.selection.getSelectedElement();Un&&pl(Un)||(this._draggedRange=Du.fromRange(yn.getFirstRange()))}if(!this._draggedRange)return void fn.preventDefault();this._draggingUid=kn();const Dn=this.isEnabled&&Vr.model.canEditAt(this._draggedRange);fn.dataTransfer.effectAllowed=Dn?"copyMove":"copy",fn.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const Mn=Wr.createSelection(this._draggedRange.toRange()),Rn=Vr.data.toView(Wr.getSelectedContent(Mn));sn.fire("clipboardOutput",{dataTransfer:fn.dataTransfer,content:Rn,method:"dragstart"}),Dn||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(sn,"dragend",(un,fn)=>{this._finalizeDragging(!fn.dataTransfer.isCanceled&&fn.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(sn,"dragenter",()=>{this.isEnabled&&tn.focus()}),this.listenTo(sn,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(sn,"dragging",(un,fn)=>{if(!this.isEnabled)return void(fn.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const yn=zb(Vr,fn.targetRanges,fn.target);Vr.model.canEditAt(yn)?(this._draggedRange||(fn.dataTransfer.dropEffect="copy"),Qr.isGecko||(fn.dataTransfer.effectAllowed=="copy"?fn.dataTransfer.dropEffect="copy":["all","copyMove"].includes(fn.dataTransfer.effectAllowed)&&(fn.dataTransfer.dropEffect="move")),yn&&this._updateDropMarkerThrottled(yn)):fn.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const Vr=this.editor,Wr=Vr.editing.view.document;this.listenTo(Wr,"clipboardInput",(Zr,tn)=>{if(tn.method!="drop")return;const sn=zb(Vr,tn.targetRanges,tn.target);if(this._removeDropMarker(),!sn||!Vr.model.canEditAt(sn))return this._finalizeDragging(!1),void Zr.stop();if(this._draggedRange&&this._draggingUid!=tn.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Hb(tn.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(sn,!0))return this._finalizeDragging(!1),void Zr.stop();tn.targetRanges=[Vr.editing.mapper.toViewRange(sn)]},{priority:"high"})}_setupContentInsertionIntegration(){const Vr=this.editor.plugins.get(Zu);Vr.on("contentInsertion",(Wr,Zr)=>{if(!this.isEnabled||Zr.method!=="drop")return;const tn=Zr.targetRanges.map(sn=>this.editor.editing.mapper.toModelRange(sn));this.editor.model.change(sn=>sn.setSelection(tn))},{priority:"high"}),Vr.on("contentInsertion",(Wr,Zr)=>{if(!this.isEnabled||Zr.method!=="drop")return;const tn=Hb(Zr.dataTransfer)=="move",sn=!Zr.resultRange||!Zr.resultRange.isCollapsed;this._finalizeDragging(sn&&tn)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const Vr=this.editor,Wr=Vr.editing.view,Zr=Wr.document;this.listenTo(Zr,"mousedown",(tn,sn)=>{if(Qr.isAndroid||!sn)return;this._clearDraggableAttributesDelayed.cancel();let un=Vb(sn.target);if(Qr.isBlink&&!un&&!Zr.selection.isCollapsed){const fn=Zr.selection.getSelectedElement();if(!fn||!pl(fn)){const yn=Zr.selection.editableElement;yn&&!yn.isReadOnly&&(un=yn)}}un&&(Wr.change(fn=>{fn.setAttribute("draggable","true",un)}),this._draggableElement=Vr.editing.mapper.toModelElement(un))}),this.listenTo(Zr,"mouseup",()=>{Qr.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const Vr=this.editor.editing;Vr.view.change(Wr=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&Wr.removeAttribute("draggable",Vr.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const Vr=this.editor;Vr.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),Vr.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(Wr,{writer:Zr})=>{if(Vr.model.schema.checkChild(Wr.markerRange.start,"$text"))return Zr.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(tn){const sn=this.toDomElement(tn);return sn.append("â ",tn.createElement("span"),"â "),sn})}})}_updateDropMarker(Vr){const Wr=this.editor,Zr=Wr.model.markers;Wr.model.change(tn=>{Zr.has("drop-target")?Zr.get("drop-target").getRange().isEqual(Vr)||tn.updateMarker("drop-target",{range:Vr}):tn.addMarker("drop-target",{range:Vr,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const Vr=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),Vr.markers.has("drop-target")&&Vr.change(Wr=>{Wr.removeMarker("drop-target")})}_finalizeDragging(Vr){const Wr=this.editor,Zr=Wr.model;this._removeDropMarker(),this._clearDraggableAttributes(),Wr.plugins.has("WidgetToolbarRepository")&&Wr.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(Vr&&this.isEnabled&&Zr.deleteContent(Zr.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function zb(en,Vr,Wr){const Zr=en.model,tn=en.editing.mapper;let sn=null;const un=Vr?Vr[0].start:null;if(Wr.is("uiElement")&&(Wr=Wr.parent),sn=function(xn,Dn){const Mn=xn.model,Rn=xn.editing.mapper;if(pl(Dn))return Mn.createRangeOn(Rn.toModelElement(Dn));if(!Dn.is("editableElement")){const Un=Dn.findAncestor(Kn=>pl(Kn)||Kn.is("editableElement"));if(pl(Un))return Mn.createRangeOn(Rn.toModelElement(Un))}return null}(en,Wr),sn)return sn;const fn=function(xn,Dn){const Mn=xn.editing.mapper,Rn=xn.editing.view,Un=Mn.toModelElement(Dn);if(Un)return Un;const Kn=Rn.createPositionBefore(Dn),ti=Mn.findMappedViewAncestor(Kn);return Mn.toModelElement(ti)}(en,Wr),yn=un?tn.toModelPosition(un):null;return yn?(sn=function(xn,Dn,Mn){const Rn=xn.model;if(!Rn.schema.checkChild(Mn,"$block"))return null;const Un=Rn.createPositionAt(Mn,0),Kn=Dn.path.slice(0,Un.path.length),ti=Rn.createPositionFromPath(Dn.root,Kn),si=ti.nodeAfter;return si&&Rn.schema.isObject(si)?Rn.createRangeOn(si):null}(en,yn,fn),sn||(sn=Zr.schema.getNearestSelectionRange(yn,Qr.isGecko?"forward":"backward"),sn||function(xn,Dn){const Mn=xn.model;let Rn=Dn;for(;Rn;){if(Mn.schema.isObject(Rn))return Mn.createRangeOn(Rn);Rn=Rn.parent}return null}(en,yn.parent))):function(xn,Dn){const Mn=xn.model,Rn=Mn.schema,Un=Mn.createPositionAt(Dn,0);return Rn.getNearestSelectionRange(Un,"forward")}(en,fn)}function Hb(en){return Qr.isGecko?en.dropEffect:["all","copyMove"].includes(en.effectAllowed)?"move":"copy"}function Vb(en){if(en.is("editableElement"))return null;if(en.hasClass("ck-widget__selection-handle"))return en.findAncestor(pl);if(pl(en))return en;const Vr=en.findAncestor(Wr=>pl(Wr)||Wr.is("editableElement"));return pl(Vr)?Vr:null}class EC extends yo{static get pluginName(){return"PastePlainText"}static get requires(){return[Zu]}init(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.editing.view,tn=Zr.document,sn=Wr.document.selection;let un=!1;Zr.addObserver(lm),this.listenTo(tn,"keydown",(fn,yn)=>{un=yn.shiftKey}),Vr.plugins.get(Zu).on("contentInsertion",(fn,yn)=>{(un||function(xn,Dn){if(xn.childCount>1)return!1;const Mn=xn.getChild(0);return Dn.isObject(Mn)?!1:Array.from(Mn.getAttributeKeys()).length==0}(yn.content,Wr.schema))&&Wr.change(xn=>{const Dn=Array.from(sn.getAttributes()).filter(([Rn])=>Wr.schema.getAttributeProperties(Rn).isFormatting);sn.isCollapsed||Wr.deleteContent(sn,{doNotAutoparagraph:!0}),Dn.push(...sn.getAttributes());const Mn=xn.createRangeIn(yn.content);for(const Rn of Mn.getItems())Rn.is("$textProxy")&&xn.setAttributes(Dn,Rn)})})}}class jb extends yo{static get pluginName(){return"Clipboard"}static get requires(){return[Zu,DC,EC]}}class TC extends Wa{constructor(Vr){super(Vr),this.affectsData=!1}execute(){const Vr=this.editor.model,Wr=Vr.document.selection;let Zr=Vr.schema.getLimitElement(Wr);if(Wr.containsEntireContent(Zr)||!Ub(Vr.schema,Zr))do if(Zr=Zr.parent,!Zr)return;while(!Ub(Vr.schema,Zr));Vr.change(tn=>{tn.setSelection(Zr,"in")})}}function Ub(en,Vr){return en.isLimit(Vr)&&(en.checkChild(Vr,"$text")||en.checkChild(Vr,"paragraph"))}const MC=Gd("Ctrl+A");class IC extends yo{static get pluginName(){return"SelectAllEditing"}init(){const Vr=this.editor,Wr=Vr.editing.view.document;Vr.commands.add("selectAll",new TC(Vr)),this.listenTo(Wr,"keydown",(Zr,tn)=>{Bc(tn)===MC&&(Vr.execute("selectAll"),tn.preventDefault())})}}class LC extends yo{static get pluginName(){return"SelectAllUI"}init(){const Vr=this.editor;Vr.ui.componentFactory.add("selectAll",Wr=>{const Zr=Vr.commands.get("selectAll"),tn=new gs(Wr),sn=Wr.t;return tn.set({label:sn("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),tn.bind("isEnabled").to(Zr,"isEnabled"),this.listenTo(tn,"execute",()=>{Vr.execute("selectAll"),Vr.editing.view.focus()}),tn})}}class PC extends yo{static get requires(){return[IC,LC]}static get pluginName(){return"SelectAll"}}var OC=Object.defineProperty,Gb=Object.getOwnPropertySymbols,RC=Object.prototype.hasOwnProperty,$C=Object.prototype.propertyIsEnumerable,Wb=(en,Vr,Wr)=>Vr in en?OC(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr;class Yb extends Wa{constructor(Vr){super(Vr),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(Vr.data,"set",(Wr,Zr)=>{Zr[1]=((sn,un)=>{for(var fn in un||(un={}))RC.call(un,fn)&&Wb(sn,fn,un[fn]);if(Gb)for(var fn of Gb(un))$C.call(un,fn)&&Wb(sn,fn,un[fn]);return sn})({},Zr[1]);const tn=Zr[1];tn.batchType||(tn.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(Vr.data,"set",(Wr,Zr)=>{Zr[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(Vr){const Wr=this.editor.model.document.selection,Zr={ranges:Wr.hasOwnRange?Array.from(Wr.getRanges()):[],isBackward:Wr.isBackward};this._stack.push({batch:Vr,selection:Zr}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(Vr,Wr,Zr){const tn=this.editor.model,sn=tn.document,un=[],fn=Vr.map(xn=>xn.getTransformedByOperations(Zr)),yn=fn.flat();for(const xn of fn){const Dn=xn.filter(Mn=>Mn.root!=sn.graveyard).filter(Mn=>!BC(Mn,yn));Dn.length&&(NC(Dn),un.push(Dn[0]))}un.length&&tn.change(xn=>{xn.setSelection(un,{backward:Wr})})}_undo(Vr,Wr){const Zr=this.editor.model,tn=Zr.document;this._createdBatches.add(Wr);const sn=Vr.operations.slice().filter(un=>un.isDocumentOperation);sn.reverse();for(const un of sn){const fn=un.baseVersion+1,yn=Array.from(tn.history.getOperations(fn)),xn=uk([un.getReversed()],yn,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let Dn of xn){const Mn=Dn.affectedSelectable;Mn&&!Zr.canEditAt(Mn)&&(Dn=new Hl(Dn.baseVersion)),Wr.addOperation(Dn),Zr.applyOperation(Dn),tn.history.setOperationAsUndone(un,Dn)}}}}function NC(en){en.sort((Vr,Wr)=>Vr.start.isBefore(Wr.start)?-1:1);for(let Vr=1;Vr<en.length;Vr++){const Wr=en[Vr-1].getJoined(en[Vr],!0);Wr&&(Vr--,en.splice(Vr,2,Wr))}}function BC(en,Vr){return Vr.some(Wr=>Wr!==en&&Wr.containsRange(en,!0))}class FC extends Yb{execute(Vr=null){const Wr=Vr?this._stack.findIndex(sn=>sn.batch==Vr):this._stack.length-1,Zr=this._stack.splice(Wr,1)[0],tn=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(tn,()=>{this._undo(Zr.batch,tn);const sn=this.editor.model.document.history.getOperations(Zr.batch.baseVersion);this._restoreSelection(Zr.selection.ranges,Zr.selection.isBackward,sn),this.fire("revert",Zr.batch,tn)}),this.refresh()}}class zC extends Yb{execute(){const Vr=this._stack.pop(),Wr=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(Wr,()=>{const Zr=Vr.batch.operations[Vr.batch.operations.length-1].baseVersion+1,tn=this.editor.model.document.history.getOperations(Zr);this._restoreSelection(Vr.selection.ranges,Vr.selection.isBackward,tn),this._undo(Vr.batch,Wr)}),this.refresh()}}class HC extends yo{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const Vr=this.editor;this._undoCommand=new FC(Vr),this._redoCommand=new zC(Vr),Vr.commands.add("undo",this._undoCommand),Vr.commands.add("redo",this._redoCommand),this.listenTo(Vr.model,"applyOperation",(Wr,Zr)=>{const tn=Zr[0];if(!tn.isDocumentOperation)return;const sn=tn.batch,un=this._redoCommand.createdBatches.has(sn),fn=this._undoCommand.createdBatches.has(sn);this._batchRegistry.has(sn)||(this._batchRegistry.add(sn),sn.isUndoable&&(un?this._undoCommand.addBatch(sn):fn||(this._undoCommand.addBatch(sn),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(Wr,Zr,tn)=>{this._redoCommand.addBatch(tn)}),Vr.keystrokes.set("CTRL+Z","undo"),Vr.keystrokes.set("CTRL+Y","redo"),Vr.keystrokes.set("CTRL+SHIFT+Z","redo")}}const qb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Kb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class VC extends yo{static get pluginName(){return"UndoUI"}init(){const Vr=this.editor,Wr=Vr.locale,Zr=Vr.t,tn=Wr.uiLanguageDirection=="ltr"?qb:Kb,sn=Wr.uiLanguageDirection=="ltr"?Kb:qb;this._addButton("undo",Zr("Undo"),"CTRL+Z",tn),this._addButton("redo",Zr("Redo"),"CTRL+Y",sn)}_addButton(Vr,Wr,Zr,tn){const sn=this.editor;sn.ui.componentFactory.add(Vr,un=>{const fn=sn.commands.get(Vr),yn=new gs(un);return yn.set({label:Wr,icon:tn,keystroke:Zr,tooltip:!0}),yn.bind("isEnabled").to(fn,"isEnabled"),this.listenTo(yn,"execute",()=>{sn.execute(Vr),sn.editing.view.focus()}),yn})}}class Zb extends yo{static get requires(){return[HC,VC]}static get pluginName(){return"Undo"}}class jC extends Ji(){constructor(){super();const Vr=new window.FileReader;this._reader=Vr,this._data=void 0,this.set("loaded",0),Vr.onprogress=Wr=>{this.loaded=Wr.loaded}}get error(){return this._reader.error}get data(){return this._data}read(Vr){const Wr=this._reader;return this.total=Vr.size,new Promise((Zr,tn)=>{Wr.onload=()=>{const sn=Wr.result;this._data=sn,Zr(sn)},Wr.onerror=()=>{tn("error")},Wr.onabort=()=>{tn("aborted")},this._reader.readAsDataURL(Vr)})}abort(){this._reader.abort()}}class Tu extends yo{constructor(){super(...arguments),this.loaders=new Fc,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[ly]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(Vr,Wr)=>Wr?Vr/Wr*100:0)}getLoader(Vr){return this._loadersMap.get(Vr)||null}createLoader(Vr){if(!this.createUploadAdapter)return En("filerepository-no-upload-adapter"),null;const Wr=new Xb(Promise.resolve(Vr),this.createUploadAdapter);return this.loaders.add(Wr),this._loadersMap.set(Vr,Wr),Vr instanceof Promise&&Wr.file.then(Zr=>{this._loadersMap.set(Zr,Wr)}).catch(()=>{}),Wr.on("change:uploaded",()=>{let Zr=0;for(const tn of this.loaders)Zr+=tn.uploaded;this.uploaded=Zr}),Wr.on("change:uploadTotal",()=>{let Zr=0;for(const tn of this.loaders)tn.uploadTotal&&(Zr+=tn.uploadTotal);this.uploadTotal=Zr}),Wr}destroyLoader(Vr){const Wr=Vr instanceof Xb?Vr:this.getLoader(Vr);Wr._destroy(),this.loaders.remove(Wr),this._loadersMap.forEach((Zr,tn)=>{Zr===Wr&&this._loadersMap.delete(tn)})}_updatePendingAction(){const Vr=this.editor.plugins.get(ly);if(this.loaders.length){if(!this._pendingAction){const Wr=this.editor.t,Zr=tn=>`${Wr("Upload in progress")} ${parseInt(tn)}%.`;this._pendingAction=Vr.add(Zr(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",Zr)}}else Vr.remove(this._pendingAction),this._pendingAction=null}}class Xb extends Ji(){constructor(Vr,Wr){super(),this.id=kn(),this._filePromiseWrapper=this._createFilePromiseWrapper(Vr),this._adapter=Wr(this),this._reader=new jC,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(Zr,tn)=>tn?Zr/tn*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(Vr=>this._filePromiseWrapper?Vr:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new Cn("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(Vr=>this._reader.read(Vr)).then(Vr=>{if(this.status!=="reading")throw this.status;return this.status="idle",Vr}).catch(Vr=>{throw Vr==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:Vr)})}upload(){if(this.status!="idle")throw new Cn("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(Vr=>(this.uploadResponse=Vr,this.status="idle",Vr)).catch(Vr=>{throw this.status==="aborted"?"aborted":(this.status="error",Vr)})}abort(){const Vr=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?Vr=="reading"?this._reader.abort():Vr=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(Vr){const Wr={};return Wr.promise=new Promise((Zr,tn)=>{Wr.rejecter=tn,Wr.isFulfilled=!1,Vr.then(sn=>{Wr.isFulfilled=!0,Zr(sn)}).catch(sn=>{Wr.isFulfilled=!0,tn(sn)})}),Wr}}class UC extends is{constructor(Vr){super(Vr),this.buttonView=new gs(Vr),this._fileInputView=new GC(Vr),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class GC extends is{constructor(Vr){super(Vr),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const Wr=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:Wr.to("acceptedType"),multiple:Wr.to("allowMultipleFiles")},on:{change:Wr.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Qb="ckCsrfToken",Jb="abcdefghijklmnopqrstuvwxyz0123456789";function WC(){let en=function(Zr){Zr=Zr.toLowerCase();const tn=document.cookie.split(";");for(const sn of tn){const un=sn.split("=");if(decodeURIComponent(un[0].trim().toLowerCase())===Zr)return decodeURIComponent(un[1])}return null}(Qb);var Vr,Wr;return en&&en.length==40||(en=function(Zr){let tn="";const sn=new Uint8Array(Zr);window.crypto.getRandomValues(sn);for(let un=0;un<sn.length;un++){const fn=Jb.charAt(sn[un]%Jb.length);tn+=Math.random()>.5?fn.toUpperCase():fn}return tn}(40),Vr=Qb,Wr=en,document.cookie=encodeURIComponent(Vr)+"="+encodeURIComponent(Wr)+";path=/"),en}class YC{constructor(Vr,Wr,Zr){this.loader=Vr,this.url=Wr,this.t=Zr}upload(){return this.loader.file.then(Vr=>new Promise((Wr,Zr)=>{this._initRequest(),this._initListeners(Wr,Zr,Vr),this._sendRequest(Vr)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const Vr=this.xhr=new XMLHttpRequest;Vr.open("POST",this.url,!0),Vr.responseType="json"}_initListeners(Vr,Wr,Zr){const tn=this.xhr,sn=this.loader,un=(0,this.t)("Cannot upload file:")+` ${Zr.name}.`;tn.addEventListener("error",()=>Wr(un)),tn.addEventListener("abort",()=>Wr()),tn.addEventListener("load",()=>{const fn=tn.response;if(!fn||!fn.uploaded)return Wr(fn&&fn.error&&fn.error.message?fn.error.message:un);Vr({default:fn.url})}),tn.upload&&tn.upload.addEventListener("progress",fn=>{fn.lengthComputable&&(sn.uploadTotal=fn.total,sn.uploaded=fn.loaded)})}_sendRequest(Vr){const Wr=new FormData;Wr.append("upload",Vr),Wr.append("ckCsrfToken",WC()),this.xhr.send(Wr)}}function zd(en,Vr,Wr,Zr){let tn,sn=null;typeof Zr=="function"?tn=Zr:(sn=en.commands.get(Zr),tn=()=>{en.execute(Zr)}),en.model.document.on("change:data",(un,fn)=>{if(sn&&!sn.isEnabled||!Vr.isEnabled)return;const yn=_l(en.model.document.selection.getRanges());if(!yn.isCollapsed||fn.isUndo||!fn.isLocal)return;const xn=Array.from(en.model.document.differ.getChanges()),Dn=xn[0];if(xn.length!=1||Dn.type!=="insert"||Dn.name!="$text"||Dn.length!=1)return;const Mn=Dn.position.parent;if(Mn.is("element","codeBlock")||Mn.is("element","listItem")&&typeof Zr!="function"&&!["numberedList","bulletedList","todoList"].includes(Zr)||sn&&sn.value===!0)return;const Rn=Mn.getChild(0),Un=en.model.createRangeOn(Rn);if(!Un.containsRange(yn)&&!yn.end.isEqual(Un.end))return;const Kn=Wr.exec(Rn.data.substr(0,yn.end.offset));Kn&&en.model.enqueueChange(ti=>{const si=ti.createPositionAt(Mn,0),fi=ti.createPositionAt(Mn,Kn[0].length),Li=new Du(si,fi);if(tn({match:Kn})!==!1){ti.remove(Li);const eo=en.model.document.selection.getFirstRange(),Fo=ti.createRangeIn(Mn);!Mn.isEmpty||Fo.isEqual(eo)||Fo.containsRange(eo,!0)||ti.remove(Mn)}Li.detach(),en.model.enqueueChange(()=>{en.plugins.get("Delete").requestUndoOnBackspace()})})})}function qh(en,Vr,Wr,Zr){let tn,sn;Wr instanceof RegExp?tn=Wr:sn=Wr,sn=sn||(un=>{let fn;const yn=[],xn=[];for(;(fn=tn.exec(un))!==null&&!(fn&&fn.length<4);){let{index:Dn,1:Mn,2:Rn,3:Un}=fn;const Kn=Mn+Rn+Un;Dn+=fn[0].length-Kn.length;const ti=[Dn,Dn+Mn.length],si=[Dn+Mn.length+Rn.length,Dn+Mn.length+Rn.length+Un.length];yn.push(ti),yn.push(si),xn.push([Dn+Mn.length,Dn+Mn.length+Rn.length])}return{remove:yn,format:xn}}),en.model.document.on("change:data",(un,fn)=>{if(fn.isUndo||!fn.isLocal||!Vr.isEnabled)return;const yn=en.model,xn=yn.document.selection;if(!xn.isCollapsed)return;const Dn=Array.from(yn.document.differ.getChanges()),Mn=Dn[0];if(Dn.length!=1||Mn.type!=="insert"||Mn.name!="$text"||Mn.length!=1)return;const Rn=xn.focus,Un=Rn.parent,{text:Kn,range:ti}=function(eo,Fo){let wa=eo.start;return{text:Array.from(eo.getItems()).reduce((ds,Yl)=>!Yl.is("$text")&&!Yl.is("$textProxy")||Yl.getAttribute("code")?(wa=Fo.createPositionAfter(Yl),""):ds+Yl.data,""),range:Fo.createRange(wa,eo.end)}}(yn.createRange(yn.createPositionAt(Un,0),Rn),yn),si=sn(Kn),fi=e0(ti.start,si.format,yn),Li=e0(ti.start,si.remove,yn);fi.length&&Li.length&&yn.enqueueChange(eo=>{if(Zr(eo,fi)!==!1){for(const Fo of Li.reverse())eo.remove(Fo);yn.enqueueChange(()=>{en.plugins.get("Delete").requestUndoOnBackspace()})}})})}function e0(en,Vr,Wr){return Vr.filter(Zr=>Zr[0]!==void 0&&Zr[1]!==void 0).map(Zr=>Wr.createRange(en.getShiftedBy(Zr[0]),en.getShiftedBy(Zr[1])))}function eg(en,Vr){return(Wr,Zr)=>{if(!en.commands.get(Vr).isEnabled)return!1;const tn=en.model.schema.getValidRanges(Zr,Vr);for(const sn of tn)Wr.setAttribute(Vr,!0,sn);Wr.removeSelectionAttribute(Vr)}}class t0 extends Wa{constructor(Vr,Wr){super(Vr),this.attributeKey=Wr}refresh(){const Vr=this.editor.model,Wr=Vr.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=Vr.schema.checkAttributeInSelection(Wr.selection,this.attributeKey)}execute(Vr={}){const Wr=this.editor.model,Zr=Wr.document.selection,tn=Vr.forceValue===void 0?!this.value:Vr.forceValue;Wr.change(sn=>{if(Zr.isCollapsed)tn?sn.setSelectionAttribute(this.attributeKey,!0):sn.removeSelectionAttribute(this.attributeKey);else{const un=Wr.schema.getValidRanges(Zr.getRanges(),this.attributeKey);for(const fn of un)tn?sn.setAttribute(this.attributeKey,tn,fn):sn.removeAttribute(this.attributeKey,fn)}})}_getValueFromFirstAllowedNode(){const Vr=this.editor.model,Wr=Vr.schema,Zr=Vr.document.selection;if(Zr.isCollapsed)return Zr.hasAttribute(this.attributeKey);for(const tn of Zr.getRanges())for(const sn of tn.getItems())if(Wr.checkAttribute(sn,this.attributeKey))return sn.hasAttribute(this.attributeKey);return!1}}const Kh="bold";class qC extends yo{static get pluginName(){return"BoldEditing"}init(){const Vr=this.editor;Vr.model.schema.extend("$text",{allowAttributes:Kh}),Vr.model.schema.setAttributeProperties(Kh,{isFormatting:!0,copyOnEnter:!0}),Vr.conversion.attributeToElement({model:Kh,view:"strong",upcastAlso:["b",Wr=>{const Zr=Wr.getStyle("font-weight");return Zr&&(Zr=="bold"||Number(Zr)>=600)?{name:!0,styles:["font-weight"]}:null}]}),Vr.commands.add(Kh,new t0(Vr,Kh)),Vr.keystrokes.set("CTRL+B",Kh)}}const pm="bold";class KC extends yo{static get pluginName(){return"BoldUI"}init(){const Vr=this.editor,Wr=Vr.t;Vr.ui.componentFactory.add(pm,Zr=>{const tn=Vr.commands.get(pm),sn=new gs(Zr);return sn.set({label:Wr("Bold"),icon:Il.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),sn.bind("isOn","isEnabled").to(tn,"value","isEnabled"),this.listenTo(sn,"execute",()=>{Vr.execute(pm),Vr.editing.view.focus()}),sn})}}var r0=Fr(8603),ZC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(r0.Z,ZC),r0.Z.locals;const Zh="italic";class XC extends yo{static get pluginName(){return"ItalicEditing"}init(){const Vr=this.editor;Vr.model.schema.extend("$text",{allowAttributes:Zh}),Vr.model.schema.setAttributeProperties(Zh,{isFormatting:!0,copyOnEnter:!0}),Vr.conversion.attributeToElement({model:Zh,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),Vr.commands.add(Zh,new t0(Vr,Zh)),Vr.keystrokes.set("CTRL+I",Zh)}}const gm="italic";class QC extends yo{static get pluginName(){return"ItalicUI"}init(){const Vr=this.editor,Wr=Vr.t;Vr.ui.componentFactory.add(gm,Zr=>{const tn=Vr.commands.get(gm),sn=new gs(Zr);return sn.set({label:Wr("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),sn.bind("isOn","isEnabled").to(tn,"value","isEnabled"),this.listenTo(sn,"execute",()=>{Vr.execute(gm),Vr.editing.view.focus()}),sn})}}class JC extends Wa{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(Vr={}){const Wr=this.editor.model,Zr=Wr.schema,tn=Wr.document.selection,sn=Array.from(tn.getSelectedBlocks()),un=Vr.forceValue===void 0?!this.value:Vr.forceValue;Wr.change(fn=>{if(un){const yn=sn.filter(xn=>tg(xn)||i0(Zr,xn));this._applyQuote(fn,yn)}else this._removeQuote(fn,sn.filter(tg))})}_getValue(){const Vr=_l(this.editor.model.document.selection.getSelectedBlocks());return!(!Vr||!tg(Vr))}_checkEnabled(){if(this.value)return!0;const Vr=this.editor.model.document.selection,Wr=this.editor.model.schema,Zr=_l(Vr.getSelectedBlocks());return!!Zr&&i0(Wr,Zr)}_removeQuote(Vr,Wr){n0(Vr,Wr).reverse().forEach(Zr=>{if(Zr.start.isAtStart&&Zr.end.isAtEnd)return void Vr.unwrap(Zr.start.parent);if(Zr.start.isAtStart){const sn=Vr.createPositionBefore(Zr.start.parent);return void Vr.move(Zr,sn)}Zr.end.isAtEnd||Vr.split(Zr.end);const tn=Vr.createPositionAfter(Zr.end.parent);Vr.move(Zr,tn)})}_applyQuote(Vr,Wr){const Zr=[];n0(Vr,Wr).reverse().forEach(tn=>{let sn=tg(tn.start);sn||(sn=Vr.createElement("blockQuote"),Vr.wrap(tn,sn)),Zr.push(sn)}),Zr.reverse().reduce((tn,sn)=>tn.nextSibling==sn?(Vr.merge(Vr.createPositionAfter(tn)),tn):sn)}}function tg(en){return en.parent.name=="blockQuote"?en.parent:null}function n0(en,Vr){let Wr,Zr=0;const tn=[];for(;Zr<Vr.length;){const sn=Vr[Zr],un=Vr[Zr+1];Wr||(Wr=en.createPositionBefore(sn)),un&&sn.nextSibling==un||(tn.push(en.createRange(Wr,en.createPositionAfter(sn))),Wr=null),Zr++}return tn}function i0(en,Vr){const Wr=en.checkChild(Vr.parent,"blockQuote"),Zr=en.checkChild(["$root","blockQuote"],Vr);return Wr&&Zr}class ex extends yo{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Xp,vd]}init(){const Vr=this.editor,Wr=Vr.model.schema;Vr.commands.add("blockQuote",new JC(Vr)),Wr.register("blockQuote",{inheritAllFrom:"$container"}),Vr.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),Vr.model.document.registerPostFixer(un=>{const fn=Vr.model.document.differ.getChanges();for(const yn of fn)if(yn.type=="insert"){const xn=yn.position.nodeAfter;if(!xn)continue;if(xn.is("element","blockQuote")&&xn.isEmpty)return un.remove(xn),!0;if(xn.is("element","blockQuote")&&!Wr.checkChild(yn.position,xn))return un.unwrap(xn),!0;if(xn.is("element")){const Dn=un.createRangeIn(xn);for(const Mn of Dn.getItems())if(Mn.is("element","blockQuote")&&!Wr.checkChild(un.createPositionBefore(Mn),Mn))return un.unwrap(Mn),!0}}else if(yn.type=="remove"){const xn=yn.position.parent;if(xn.is("element","blockQuote")&&xn.isEmpty)return un.remove(xn),!0}return!1});const Zr=this.editor.editing.view.document,tn=Vr.model.document.selection,sn=Vr.commands.get("blockQuote");this.listenTo(Zr,"enter",(un,fn)=>{!tn.isCollapsed||!sn.value||tn.getLastPosition().parent.isEmpty&&(Vr.execute("blockQuote"),Vr.editing.view.scrollToTheSelection(),fn.preventDefault(),un.stop())},{context:"blockquote"}),this.listenTo(Zr,"delete",(un,fn)=>{if(fn.direction!="backward"||!tn.isCollapsed||!sn.value)return;const yn=tn.getLastPosition().parent;yn.isEmpty&&!yn.previousSibling&&(Vr.execute("blockQuote"),Vr.editing.view.scrollToTheSelection(),fn.preventDefault(),un.stop())},{context:"blockquote"})}}var o0=Fr(3062),tx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(o0.Z,tx),o0.Z.locals;class rx extends yo{static get pluginName(){return"BlockQuoteUI"}init(){const Vr=this.editor,Wr=Vr.t;Vr.ui.componentFactory.add("blockQuote",Zr=>{const tn=Vr.commands.get("blockQuote"),sn=new gs(Zr);return sn.set({label:Wr("Block quote"),icon:Il.quote,tooltip:!0,isToggleable:!0}),sn.bind("isOn","isEnabled").to(tn,"value","isEnabled"),this.listenTo(sn,"execute",()=>{Vr.execute("blockQuote"),Vr.editing.view.focus()}),sn})}}class nx extends yo{static get pluginName(){return"CKBoxUI"}afterInit(){const Vr=this.editor,Wr=Vr.commands.get("ckbox");if(!Wr)return;const Zr=Vr.t;Vr.ui.componentFactory.add("ckbox",tn=>{const sn=new gs(tn);return sn.set({label:Zr("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),sn.bind("isOn","isEnabled").to(Wr,"value","isEnabled"),sn.on("execute",()=>{Vr.execute("ckbox")}),sn})}}const ix=4e3,ox=80,ax=10;function a0({token:en,id:Vr,origin:Wr,width:Zr,extension:tn}){const sn=s0(en),un=function(yn){const xn=[yn*ax/100,ox],Dn=Math.floor(Math.max(...xn)),Mn=[Math.min(yn,ix)];let Rn=Mn[0];for(;Rn-Dn>=Dn;)Rn-=Dn,Mn.unshift(Rn);return Mn}(Zr),fn=function(yn){return yn==="bmp"||yn==="tiff"||yn==="jpg"?"jpeg":yn}(tn);return{imageFallbackUrl:l0({environmentId:sn,id:Vr,origin:Wr,width:Zr,extension:fn}),imageSources:[{srcset:un.map(yn=>`${l0({environmentId:sn,id:Vr,origin:Wr,width:yn,extension:"webp"})} ${yn}w`).join(","),sizes:`(max-width: ${Zr}px) 100vw, ${Zr}px`,type:"image/webp"}]}}function s0(en){const[,Vr]=en.value.split(".");return JSON.parse(atob(Vr)).aud}function l0({environmentId:en,id:Vr,origin:Wr,width:Zr,extension:tn}){return new URL(`${en}/assets/${Vr}/images/${Zr}.${tn}`,Wr).toString()}class sx extends Wa{constructor(Vr){super(Vr),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const Vr=this.editor.commands.get("insertImage"),Wr=this.editor.commands.get("link");return!(!Vr.isEnabled&&!Wr.isEnabled)}_prepareOptions(){const Vr=this.editor.config.get("ckbox");return{theme:Vr.theme,language:Vr.language,tokenUrl:Vr.tokenUrl,serviceOrigin:Vr.serviceOrigin,assetsOrigin:Vr.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:Wr=>this.fire("ckbox:choose",Wr)}}}_initListeners(){const Vr=this.editor,Wr=Vr.model,Zr=!Vr.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=fa(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(tn,sn)=>{if(!this.isEnabled)return;const un=Vr.commands.get("insertImage"),fn=Vr.commands.get("link"),yn=Vr.plugins.get("CKBoxEditing"),xn=function({assets:Dn,origin:Mn,token:Rn,isImageAllowed:Un,isLinkAllowed:Kn}){return Dn.map(ti=>function(si){const fi=si.data.metadata;return fi?fi.width&&fi.height:!1}(ti)?{id:ti.data.id,type:"image",attributes:lx(ti,Rn,Mn)}:{id:ti.data.id,type:"link",attributes:cx(ti,Rn,Mn)}).filter(ti=>ti.type==="image"?Un:Kn)}({assets:sn,origin:Vr.config.get("ckbox.assetsOrigin"),token:yn.getToken(),isImageAllowed:un.isEnabled,isLinkAllowed:fn.isEnabled});xn.length!==0&&Wr.change(Dn=>{for(const Mn of xn){const Rn=Mn===xn[xn.length-1];this._insertAsset(Mn,Rn,Dn),Zr&&(setTimeout(()=>this._chosenAssets.delete(Mn),1e3),this._chosenAssets.add(Mn))}})}),this.listenTo(Vr,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(Vr,Wr,Zr){const tn=this.editor.model.document.selection;Zr.removeSelectionAttribute("linkHref"),Vr.type==="image"?this._insertImage(Vr):this._insertLink(Vr,Zr),Wr||Zr.setSelection(tn.getLastPosition())}_insertImage(Vr){const Wr=this.editor,{imageFallbackUrl:Zr,imageSources:tn,imageTextAlternative:sn}=Vr.attributes;Wr.execute("insertImage",{source:{src:Zr,sources:tn,alt:sn}})}_insertLink(Vr,Wr){const Zr=this.editor,tn=Zr.model,sn=tn.document.selection,{linkName:un,linkHref:fn}=Vr.attributes;if(sn.isCollapsed){const yn=rl(sn.getAttributes()),xn=Wr.createText(un,yn),Dn=tn.insertContent(xn);Wr.setSelection(Dn)}Zr.execute("link",fn)}}function lx(en,Vr,Wr){const{imageFallbackUrl:Zr,imageSources:tn}=a0({token:Vr,origin:Wr,id:en.data.id,width:en.data.metadata.width,extension:en.data.extension});return{imageFallbackUrl:Zr,imageSources:tn,imageTextAlternative:en.data.metadata.description||""}}function cx(en,Vr,Wr){return{linkName:en.data.name,linkHref:ux(en,Vr,Wr)}}function ux(en,Vr,Wr){const Zr=s0(Vr),tn=new URL(`${Zr}/assets/${en.data.id}/file`,Wr);return tn.searchParams.set("download","true"),tn.toString()}var mh=(en,Vr,Wr)=>new Promise((Zr,tn)=>{var sn=yn=>{try{fn(Wr.next(yn))}catch(xn){tn(xn)}},un=yn=>{try{fn(Wr.throw(yn))}catch(xn){tn(xn)}},fn=yn=>yn.done?Zr(yn.value):Promise.resolve(yn.value).then(sn,un);fn((Wr=Wr.apply(en,Vr)).next())});class dx extends yo{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Tu,mm]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return mh(this,null,function*(){const Vr=this.editor,Wr=!!Vr.config.get("ckbox"),Zr=!!window.CKBox;if(!Wr&&!Zr)return;const tn=Vr.plugins.get(Tu),sn=Vr.plugins.get(mm);tn.createUploadAdapter=yn=>new hx(yn,sn.getToken(),Vr);const un=!Vr.config.get("ckbox.ignoreDataId"),fn=Vr.plugins.get("ImageUploadEditing");un&&fn.on("uploadComplete",(yn,{imageElement:xn,data:Dn})=>{Vr.model.change(Mn=>{Mn.setAttribute("ckboxImageId",Dn.ckboxImageId,xn)})})})}}class hx{constructor(Vr,Wr,Zr){this.loader=Vr,this.token=Wr,this.editor=Zr,this.controller=new AbortController,this.serviceOrigin=Zr.config.get("ckbox.serviceOrigin"),this.assetsOrigin=Zr.config.get("ckbox.assetsOrigin")}getAvailableCategories(Vr=0){return mh(this,null,function*(){const Wr=new URL("categories",this.serviceOrigin);return Wr.searchParams.set("limit",50 .toString()),Wr.searchParams.set("offset",Vr.toString()),this._sendHttpRequest({url:Wr}).then(Zr=>mh(this,null,function*(){if(Zr.totalCount-(Vr+50)>0){const tn=yield this.getAvailableCategories(Vr+50);return[...Zr.items,...tn]}return Zr.items})).catch(()=>{this.controller.signal.throwIfAborted(),Pn("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(Vr){return mh(this,null,function*(){const Wr=c0(Vr.name),Zr=yield this.getAvailableCategories();if(!Zr)return null;const tn=this.editor.config.get("ckbox.defaultUploadCategories");if(tn){const un=Object.keys(tn).find(fn=>tn[fn].includes(Wr));if(un){const fn=Zr.find(yn=>yn.id===un||yn.name===un);return fn?fn.id:null}}const sn=Zr.find(un=>un.extensions.includes(Wr));return sn?sn.id:null})}upload(){return mh(this,null,function*(){const Vr=this.editor.t,Wr=Vr("Cannot determine a category for the uploaded file."),Zr=yield this.loader.file,tn=yield this.getCategoryIdForFile(Zr);if(!tn)return Promise.reject(Wr);const sn=new URL("assets",this.serviceOrigin),un=new FormData;un.append("categoryId",tn),un.append("file",Zr);const fn={method:"POST",url:sn,data:un,onUploadProgress:yn=>{yn.lengthComputable&&(this.loader.uploadTotal=yn.total,this.loader.uploaded=yn.loaded)}};return this._sendHttpRequest(fn).then(yn=>mh(this,null,function*(){const xn=yield this._getImageWidth(),Dn=c0(Zr.name),Mn=a0({token:this.token,id:yn.id,origin:this.assetsOrigin,width:xn,extension:Dn});return{ckboxImageId:yn.id,default:Mn.imageFallbackUrl,sources:Mn.imageSources}})).catch(()=>{const yn=Vr("Cannot upload file:")+` ${Zr.name}.`;return Promise.reject(yn)})})}abort(){this.controller.abort()}_sendHttpRequest({url:Vr,method:Wr="GET",data:Zr,onUploadProgress:tn}){const sn=this.controller.signal,un=new XMLHttpRequest;un.open(Wr,Vr.toString(),!0),un.setRequestHeader("Authorization",this.token.value),un.setRequestHeader("CKBox-Version","CKEditor 5"),un.responseType="json";const fn=()=>{un.abort()};return new Promise((yn,xn)=>{sn.addEventListener("abort",fn),un.addEventListener("loadstart",()=>{sn.addEventListener("abort",fn)}),un.addEventListener("loadend",()=>{sn.removeEventListener("abort",fn)}),un.addEventListener("error",()=>{xn()}),un.addEventListener("abort",()=>{xn()}),un.addEventListener("load",()=>mh(this,null,function*(){const Dn=un.response;return!Dn||Dn.statusCode>=400?xn(Dn&&Dn.message):yn(Dn)})),tn&&un.upload.addEventListener("progress",Dn=>{tn(Dn)}),un.send(Zr)})}_getImageWidth(){return new Promise(Vr=>{const Wr=new Image;Wr.onload=()=>{URL.revokeObjectURL(Wr.src),Vr(Wr.width)},Wr.src=this.loader.data})}}function c0(en){const Vr=new RegExp("\\.(?<ext>[^.]+)$");return en.match(Vr).groups.ext}class mm extends yo{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",dx]}init(){return Vr=this,Wr=null,Zr=function*(){const tn=this.editor,sn=!!tn.config.get("ckbox"),un=!!window.CKBox;if(!sn&&!un)return;this._initConfig();const fn=tn.plugins.get("CloudServicesCore"),yn=tn.config.get("ckbox.tokenUrl");if(yn===tn.config.get("cloudServices.tokenUrl")){const xn=tn.plugins.get("CloudServices");this._token=xn.token}else this._token=yield fn.createToken(yn).init();tn.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),un&&tn.commands.add("ckbox",new sx(tn))},new Promise((tn,sn)=>{var un=xn=>{try{yn(Zr.next(xn))}catch(Dn){sn(Dn)}},fn=xn=>{try{yn(Zr.throw(xn))}catch(Dn){sn(Dn)}},yn=xn=>xn.done?tn(xn.value):Promise.resolve(xn.value).then(un,fn);yn((Zr=Zr.apply(Vr,Wr)).next())});var Vr,Wr,Zr}getToken(){return this._token}_initConfig(){const Vr=this.editor;if(Vr.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:Vr.locale.uiLanguage,theme:"default",tokenUrl:Vr.config.get("cloudServices.tokenUrl")}),!Vr.config.get("ckbox.tokenUrl"))throw new Cn("ckbox-plugin-missing-token-url",this);Vr.plugins.has("ImageBlockEditing")||Vr.plugins.has("ImageInlineEditing")||Pn("ckbox-plugin-image-feature-missing",Vr)}_initSchema(){const Vr=this.editor.model.schema;Vr.extend("$text",{allowAttributes:"ckboxLinkId"}),Vr.isRegistered("imageBlock")&&Vr.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),Vr.isRegistered("imageInline")&&Vr.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),Vr.addAttributeCheck((Wr,Zr)=>{if(!Wr.last.getAttribute("linkHref")&&Zr==="ckboxLinkId")return!1})}_initConversion(){const Vr=this.editor;Vr.conversion.for("downcast").add(Wr=>{Wr.on("attribute:ckboxLinkId:imageBlock",(Zr,tn,sn)=>{const{writer:un,mapper:fn,consumable:yn}=sn;if(!yn.consume(tn.item,Zr.name))return;const xn=[...fn.toViewElement(tn.item).getChildren()].find(Dn=>Dn.name==="a");xn&&(tn.item.hasAttribute("ckboxLinkId")?un.setAttribute("data-ckbox-resource-id",tn.item.getAttribute("ckboxLinkId"),xn):un.removeAttribute("data-ckbox-resource-id",xn))},{priority:"low"}),Wr.on("attribute:ckboxLinkId",(Zr,tn,sn)=>{const{writer:un,mapper:fn,consumable:yn}=sn;if(yn.consume(tn.item,Zr.name)){if(tn.attributeOldValue){const xn=u0(un,tn.attributeOldValue);un.unwrap(fn.toViewRange(tn.range),xn)}if(tn.attributeNewValue){const xn=u0(un,tn.attributeNewValue);if(tn.item.is("selection")){const Dn=un.document.selection;un.wrap(Dn.getFirstRange(),xn)}else un.wrap(fn.toViewRange(tn.range),xn)}}},{priority:"low"})}),Vr.conversion.for("upcast").add(Wr=>{Wr.on("element:a",(Zr,tn,sn)=>{const{writer:un,consumable:fn}=sn;if(!tn.viewItem.getAttribute("href")||!fn.consume(tn.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const yn=tn.viewItem.getAttribute("data-ckbox-resource-id");if(yn)if(tn.modelRange)for(let xn of tn.modelRange.getItems())xn.is("$textProxy")&&(xn=xn.textNode),px(xn)&&un.setAttribute("ckboxLinkId",yn,xn);else{const xn=tn.modelCursor.nodeBefore||tn.modelCursor.parent;un.setAttribute("ckboxLinkId",yn,xn)}},{priority:"low"})}),Vr.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),Vr.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:Wr=>Wr.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const Vr=this.editor,Wr=Vr.model,Zr=Wr.document.selection;Wr.document.registerPostFixer(function(tn){return sn=>{let un=!1;const fn=tn.model,yn=tn.commands.get("ckbox");if(!yn)return un;for(const xn of fn.document.differ.getChanges()){if(xn.type!=="insert"&&xn.type!=="attribute")continue;const Dn=xn.type==="insert"?new Yi(xn.position,xn.position.getShiftedBy(xn.length)):xn.range,Mn=xn.type==="attribute"&&xn.attributeKey==="linkHref"&&xn.attributeNewValue===null;for(const Rn of Dn.getItems()){if(Mn&&Rn.hasAttribute("ckboxLinkId")){sn.removeAttribute("ckboxLinkId",Rn),un=!0;continue}const Un=fx(Rn,yn._chosenAssets);for(const Kn of Un){const ti=Kn.type==="image"?"ckboxImageId":"ckboxLinkId";Kn.id!==Rn.getAttribute(ti)&&(sn.setAttribute(ti,Kn.id,Rn),un=!0)}}}return un}}(Vr)),Wr.document.registerPostFixer(function(tn){return sn=>!(tn.hasAttribute("linkHref")||!tn.hasAttribute("ckboxLinkId"))&&(sn.removeSelectionAttribute("ckboxLinkId"),!0)}(Zr))}}function fx(en,Vr){const Wr=en.is("element","imageInline")||en.is("element","imageBlock"),Zr=en.hasAttribute("linkHref");return[...Vr].filter(tn=>tn.type==="image"&&Wr?tn.attributes.imageFallbackUrl===en.getAttribute("src"):tn.type==="link"&&Zr?tn.attributes.linkHref===en.getAttribute("linkHref"):void 0)}function u0(en,Vr){const Wr=en.createAttributeElement("a",{"data-ckbox-resource-id":Vr},{priority:5});return en.setCustomProperty("link",!0,Wr),Wr}function px(en){return!!en.is("$text")||!(!en.is("element","imageInline")&&!en.is("element","imageBlock"))}class gx extends yo{static get pluginName(){return"CKFinderUI"}init(){const Vr=this.editor,Wr=Vr.ui.componentFactory,Zr=Vr.t;Wr.add("ckfinder",tn=>{const sn=Vr.commands.get("ckfinder"),un=new gs(tn);return un.set({label:Zr("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),un.bind("isEnabled").to(sn),un.on("execute",()=>{Vr.execute("ckfinder"),Vr.editing.view.focus()}),un})}}class mx extends Wa{constructor(Vr){super(Vr),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const Vr=this.editor.commands.get("insertImage"),Wr=this.editor.commands.get("link");this.isEnabled=Vr.isEnabled||Wr.isEnabled}execute(){const Vr=this.editor,Wr=this.editor.config.get("ckfinder.openerMethod")||"modal";if(Wr!="popup"&&Wr!="modal")throw new Cn("ckfinder-unknown-openermethod",Vr);const Zr=this.editor.config.get("ckfinder.options")||{};Zr.chooseFiles=!0;const tn=Zr.onInit;Zr.language||(Zr.language=Vr.locale.uiLanguage),Zr.onInit=sn=>{tn&&tn(sn),sn.on("files:choose",un=>{const fn=un.data.files.toArray(),yn=fn.filter(Mn=>!Mn.isImage()),xn=fn.filter(Mn=>Mn.isImage());for(const Mn of yn)Vr.execute("link",Mn.getUrl());const Dn=[];for(const Mn of xn){const Rn=Mn.getUrl();Dn.push(Rn||sn.request("file:getProxyUrl",{file:Mn}))}Dn.length&&d0(Vr,Dn)}),sn.on("file:choose:resizedImage",un=>{const fn=un.data.resizedUrl;if(fn)d0(Vr,[fn]);else{const yn=Vr.plugins.get("Notification"),xn=Vr.locale.t;yn.showWarning(xn("Could not obtain resized image URL."),{title:xn("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[Wr](Zr)}}function d0(en,Vr){if(en.commands.get("insertImage").isEnabled)en.execute("insertImage",{source:Vr});else{const Wr=en.plugins.get("Notification"),Zr=en.locale.t;Wr.showWarning(Zr("Could not insert image at the current position."),{title:Zr("Inserting image failed"),namespace:"ckfinder"})}}class vx extends yo{static get pluginName(){return"CKFinderEditing"}static get requires(){return[am,"LinkEditing"]}init(){const Vr=this.editor;if(!Vr.plugins.has("ImageBlockEditing")&&!Vr.plugins.has("ImageInlineEditing"))throw new Cn("ckfinder-missing-image-plugin",Vr);Vr.commands.add("ckfinder",new mx(Vr))}}class yx extends yo{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Tu]}init(){const Vr=this.editor,Wr=Vr.plugins.get("CloudServices"),Zr=Wr.token,tn=Wr.uploadUrl;if(!Zr)return;const sn=Vr.plugins.get("CloudServicesCore");this._uploadGateway=sn.createUploadGateway(Zr,tn),Vr.plugins.get(Tu).createUploadAdapter=un=>new bx(this._uploadGateway,un)}}class bx{constructor(Vr,Wr){this.uploadGateway=Vr,this.loader=Wr}upload(){return this.loader.file.then(Vr=>(this.fileUploader=this.uploadGateway.upload(Vr),this.fileUploader.on("progress",(Wr,Zr)=>{this.loader.uploadTotal=Zr.total,this.loader.uploaded=Zr.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class _x extends Wa{constructor(Vr){super(Vr),this._isEnabledBasedOnSelection=!1}refresh(){const Vr=this.editor.model,Wr=_l(Vr.document.selection.getSelectedBlocks());this.value=!!Wr&&Wr.is("element","paragraph"),this.isEnabled=!!Wr&&h0(Wr,Vr.schema)}execute(Vr={}){const Wr=this.editor.model,Zr=Wr.document,tn=Vr.selection||Zr.selection;Wr.canEditAt(tn)&&Wr.change(sn=>{const un=tn.getSelectedBlocks();for(const fn of un)!fn.is("element","paragraph")&&h0(fn,Wr.schema)&&sn.rename(fn,"paragraph")})}}function h0(en,Vr){return Vr.checkChild(en.parent,"paragraph")&&!Vr.isObject(en)}class kx extends Wa{constructor(Vr){super(Vr),this._isEnabledBasedOnSelection=!1}execute(Vr){const Wr=this.editor.model,Zr=Vr.attributes;let tn=Vr.position;Wr.canEditAt(tn)&&Wr.change(sn=>{const un=sn.createElement("paragraph");if(Zr&&Wr.schema.setAllowedAttributes(un,Zr,sn),!Wr.schema.checkChild(tn.parent,un)){const fn=Wr.schema.findAllowedParent(tn,un);if(!fn)return;tn=sn.split(tn,fn).position}Wr.insertContent(un,tn),sn.setSelection(un,"in")})}}const f0=class extends yo{static get pluginName(){return"Paragraph"}init(){const en=this.editor,Vr=en.model;en.commands.add("paragraph",new _x(en)),en.commands.add("insertParagraph",new kx(en)),Vr.schema.register("paragraph",{inheritAllFrom:"$block"}),en.conversion.elementToElement({model:"paragraph",view:"p"}),en.conversion.for("upcast").elementToElement({model:(Wr,{writer:Zr})=>f0.paragraphLikeElements.has(Wr.name)?Wr.isEmpty?null:Zr.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let vm=f0;vm.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Ax extends Wa{constructor(Vr,Wr){super(Vr),this.modelElements=Wr}refresh(){const Vr=_l(this.editor.model.document.selection.getSelectedBlocks());this.value=!!Vr&&this.modelElements.includes(Vr.name)&&Vr.name,this.isEnabled=!!Vr&&this.modelElements.some(Wr=>p0(Vr,Wr,this.editor.model.schema))}execute(Vr){const Wr=this.editor.model,Zr=Wr.document,tn=Vr.value;Wr.change(sn=>{const un=Array.from(Zr.selection.getSelectedBlocks()).filter(fn=>p0(fn,tn,Wr.schema));for(const fn of un)fn.is("element",tn)||sn.rename(fn,tn)})}}function p0(en,Vr,Wr){return Wr.checkChild(en.parent,Vr)&&!Wr.isObject(en)}const g0="paragraph";class Cx extends yo{static get pluginName(){return"HeadingEditing"}constructor(Vr){super(Vr),Vr.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[vm]}init(){const Vr=this.editor,Wr=Vr.config.get("heading.options"),Zr=[];for(const tn of Wr)tn.model!=="paragraph"&&(Vr.model.schema.register(tn.model,{inheritAllFrom:"$block"}),Vr.conversion.elementToElement(tn),Zr.push(tn.model));this._addDefaultH1Conversion(Vr),Vr.commands.add("heading",new Ax(Vr,Zr))}afterInit(){const Vr=this.editor,Wr=Vr.commands.get("enter"),Zr=Vr.config.get("heading.options");Wr&&this.listenTo(Wr,"afterExecute",(tn,sn)=>{const un=Vr.model.document.selection.getFirstPosition().parent;Zr.some(fn=>un.is("element",fn.model))&&!un.is("element",g0)&&un.childCount===0&&sn.writer.rename(un,g0)})}_addDefaultH1Conversion(Vr){Vr.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Sn.low+1})}}var m0=Fr(8733),xx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(m0.Z,xx),m0.Z.locals;class Sx extends yo{static get pluginName(){return"HeadingUI"}init(){const Vr=this.editor,Wr=Vr.t,Zr=function(un){const fn=un.t,yn={Paragraph:fn("Paragraph"),"Heading 1":fn("Heading 1"),"Heading 2":fn("Heading 2"),"Heading 3":fn("Heading 3"),"Heading 4":fn("Heading 4"),"Heading 5":fn("Heading 5"),"Heading 6":fn("Heading 6")};return un.config.get("heading.options").map(xn=>{const Dn=yn[xn.title];return Dn&&Dn!=xn.title&&(xn.title=Dn),xn})}(Vr),tn=Wr("Choose heading"),sn=Wr("Heading");Vr.ui.componentFactory.add("heading",un=>{const fn={},yn=new Fc,xn=Vr.commands.get("heading"),Dn=Vr.commands.get("paragraph"),Mn=[xn];for(const Un of Zr){const Kn={type:"button",model:new Yy({label:Un.title,class:Un.class,role:"menuitemradio",withText:!0})};Un.model==="paragraph"?(Kn.model.bind("isOn").to(Dn,"value"),Kn.model.set("commandName","paragraph"),Mn.push(Dn)):(Kn.model.bind("isOn").to(xn,"value",ti=>ti===Un.model),Kn.model.set({commandName:"heading",commandValue:Un.model})),yn.add(Kn),fn[Un.model]=Un.title}const Rn=Nd(un);return vy(Rn,yn,{ariaLabel:sn,role:"menu"}),Rn.buttonView.set({ariaLabel:sn,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:sn}),Rn.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),Rn.bind("isEnabled").toMany(Mn,"isEnabled",(...Un)=>Un.some(Kn=>Kn)),Rn.buttonView.bind("label").to(xn,"value",Dn,"value",(Un,Kn)=>{const ti=Un||Kn&&"paragraph";return typeof ti=="boolean"?tn:fn[ti]?fn[ti]:tn}),this.listenTo(Rn,"execute",Un=>{const{commandName:Kn,commandValue:ti}=Un.source;Vr.execute(Kn,ti?{value:ti}:void 0),Vr.editing.view.focus()}),Rn})}}function v0(en){return en.createContainerElement("figure",{class:"image"},[en.createEmptyElement("img"),en.createSlot("children")])}function y0(en,Vr){const Wr=en.plugins.get("ImageUtils"),Zr=en.plugins.has("ImageInlineEditing")&&en.plugins.has("ImageBlockEditing");return sn=>Wr.isInlineImageView(sn)?Zr&&(sn.getStyle("display")=="block"||sn.findAncestor(Wr.isBlockImageView)?"imageBlock":"imageInline")!==Vr?null:tn(sn):null;function tn(sn){const un={name:!0};return sn.hasAttribute("src")&&(un.attributes=["src"]),un}}function ym(en,Vr){const Wr=_l(Vr.getSelectedBlocks());return!Wr||en.isObject(Wr)||Wr.isEmpty&&Wr.name!="listItem"?"imageBlock":"imageInline"}var Dx=Object.defineProperty,b0=Object.getOwnPropertySymbols,Ex=Object.prototype.hasOwnProperty,Tx=Object.prototype.propertyIsEnumerable,_0=(en,Vr,Wr)=>Vr in en?Dx(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr,w0=(en,Vr)=>{for(var Wr in Vr||(Vr={}))Ex.call(Vr,Wr)&&_0(en,Wr,Vr[Wr]);if(b0)for(var Wr of b0(Vr))Tx.call(Vr,Wr)&&_0(en,Wr,Vr[Wr]);return en};class Mu extends yo{static get pluginName(){return"ImageUtils"}isImage(Vr){return this.isInlineImage(Vr)||this.isBlockImage(Vr)}isInlineImageView(Vr){return!!Vr&&Vr.is("element","img")}isBlockImageView(Vr){return!!Vr&&Vr.is("element","figure")&&Vr.hasClass("image")}insertImage(Vr={},Wr=null,Zr=null){const tn=this.editor,sn=tn.model,un=sn.document.selection;Zr=k0(tn,Wr||un,Zr),Vr=w0(w0({},Object.fromEntries(un.getAttributes())),Vr);for(const fn in Vr)sn.schema.checkAttribute(Zr,fn)||delete Vr[fn];return sn.change(fn=>{const yn=fn.createElement(Zr,Vr);return sn.insertObject(yn,Wr,null,{setSelection:"on",findOptimalPosition:Wr||Zr=="imageInline"?void 0:"auto"}),yn.parent?yn:null})}getClosestSelectedImageWidget(Vr){const Wr=Vr.getFirstPosition();if(!Wr)return null;const Zr=Vr.getSelectedElement();if(Zr&&this.isImageWidget(Zr))return Zr;let tn=Wr.parent;for(;tn;){if(tn.is("element")&&this.isImageWidget(tn))return tn;tn=tn.parent}return null}getClosestSelectedImageElement(Vr){const Wr=Vr.getSelectedElement();return this.isImage(Wr)?Wr:Vr.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const Vr=this.editor.model.document.selection;return function(Wr,Zr){if(k0(Wr,Zr,null)=="imageBlock"){const sn=function(un,fn){const yn=Tb(un,fn),xn=yn.start.parent;return xn.isEmpty&&!xn.is("element","$root")?xn.parent:xn}(Zr,Wr.model);if(Wr.model.schema.checkChild(sn,"imageBlock"))return!0}else if(Wr.model.schema.checkChild(Zr.focus,"imageInline"))return!0;return!1}(this.editor,Vr)&&function(Wr){return[...Wr.focus.getAncestors()].every(Zr=>!Zr.is("element","imageBlock"))}(Vr)}toImageWidget(Vr,Wr,Zr){return Wr.setCustomProperty("image",!0,Vr),fm(Vr,Wr,{label:()=>{const tn=this.findViewImgElement(Vr).getAttribute("alt");return tn?`${tn} ${Zr}`:Zr}})}isImageWidget(Vr){return!!Vr.getCustomProperty("image")&&pl(Vr)}isBlockImage(Vr){return!!Vr&&Vr.is("element","imageBlock")}isInlineImage(Vr){return!!Vr&&Vr.is("element","imageInline")}findViewImgElement(Vr){if(this.isInlineImageView(Vr))return Vr;const Wr=this.editor.editing.view;for(const{item:Zr}of Wr.createRangeIn(Vr))if(this.isInlineImageView(Zr))return Zr}}function k0(en,Vr,Wr){const Zr=en.model.schema,tn=en.config.get("image.insert.type");return en.plugins.has("ImageBlockEditing")?en.plugins.has("ImageInlineEditing")?Wr||(tn==="inline"?"imageInline":tn==="block"?"imageBlock":Vr.is("selection")?ym(Zr,Vr):Zr.checkChild(Vr,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Mx extends Wa{refresh(){const Vr=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!Vr,this.isEnabled&&Vr.hasAttribute("alt")?this.value=Vr.getAttribute("alt"):this.value=!1}execute(Vr){const Wr=this.editor,Zr=Wr.plugins.get("ImageUtils"),tn=Wr.model,sn=Zr.getClosestSelectedImageElement(tn.document.selection);tn.change(un=>{un.setAttribute("alt",Vr.newValue,sn)})}}class Ix extends yo{static get requires(){return[Mu]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Mx(this.editor))}}var A0=Fr(1905),Lx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(A0.Z,Lx),A0.Z.locals;var C0=Fr(6764),Px={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(C0.Z,Px),C0.Z.locals;class Ox extends is{constructor(Vr){super(Vr);const Wr=this.locale.t;this.focusTracker=new Ic,this.keystrokes=new tu,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(Wr("Save"),Il.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Wr("Cancel"),Il.cancel,"ck-button-cancel","cancel"),this._focusables=new zc,this._focusCycler=new sd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Gr({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(Vr=>{this._focusables.add(Vr),this.focusTracker.add(Vr.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(Vr,Wr,Zr,tn){const sn=new gs(this.locale);return sn.set({label:Vr,icon:Wr,tooltip:!0}),sn.extendTemplate({attributes:{class:Zr}}),tn&&sn.delegate("execute").to(this,tn),sn}_createLabeledInputView(){const Vr=this.locale.t,Wr=new Cd(this.locale,qg);return Wr.label=Vr("Text alternative"),Wr}}function x0(en){const Vr=en.editing.view,Wr=Oc.defaultPositions,Zr=en.plugins.get("ImageUtils");return{target:Vr.domConverter.mapViewToDom(Zr.getClosestSelectedImageWidget(Vr.document.selection)),positions:[Wr.northArrowSouth,Wr.northArrowSouthWest,Wr.northArrowSouthEast,Wr.southArrowNorth,Wr.southArrowNorthWest,Wr.southArrowNorthEast,Wr.viewportStickyNorth]}}class Rx extends yo{static get requires(){return[Wp]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const Vr=this.editor,Wr=Vr.t;Vr.ui.componentFactory.add("imageTextAlternative",Zr=>{const tn=Vr.commands.get("imageTextAlternative"),sn=new gs(Zr);return sn.set({label:Wr("Change image text alternative"),icon:Il.lowVision,tooltip:!0}),sn.bind("isEnabled").to(tn,"isEnabled"),sn.bind("isOn").to(tn,"value",un=>!!un),this.listenTo(sn,"execute",()=>{this._showForm()}),sn})}_createForm(){const Vr=this.editor,Wr=Vr.editing.view.document,Zr=Vr.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Ur(Ox))(Vr.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{Vr.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(tn,sn)=>{this._hideForm(!0),sn()}),this.listenTo(Vr.ui,"update",()=>{Zr.getClosestSelectedImageWidget(Wr.selection)?this._isVisible&&function(tn){const sn=tn.plugins.get("ContextualBalloon");if(tn.plugins.get("ImageUtils").getClosestSelectedImageWidget(tn.editing.view.document.selection)){const un=x0(tn);sn.updatePosition(un)}}(Vr):this._hideForm(!0)}),jr({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const Vr=this.editor,Wr=Vr.commands.get("imageTextAlternative"),Zr=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:x0(Vr)}),Zr.fieldView.value=Zr.fieldView.element.value=Wr.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(Vr=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),Vr&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class S0 extends yo{static get requires(){return[Ix,Rx]}static get pluginName(){return"ImageTextAlternative"}}function D0(en,Vr){const Wr=(Zr,tn,sn)=>{if(!sn.consumable.consume(tn.item,Zr.name))return;const un=sn.writer,fn=sn.mapper.toViewElement(tn.item),yn=en.findViewImgElement(fn);if(tn.attributeNewValue===null){const xn=tn.attributeOldValue;xn&&xn.data&&(un.removeAttribute("srcset",yn),un.removeAttribute("sizes",yn),xn.width&&un.removeAttribute("width",yn))}else{const xn=tn.attributeNewValue;xn&&xn.data&&(un.setAttribute("srcset",xn.data,yn),un.setAttribute("sizes","100vw",yn),xn.width&&un.setAttribute("width",xn.width,yn))}};return Zr=>{Zr.on(`attribute:srcset:${Vr}`,Wr)}}function rg(en,Vr,Wr){const Zr=(tn,sn,un)=>{if(!un.consumable.consume(sn.item,tn.name))return;const fn=un.writer,yn=un.mapper.toViewElement(sn.item),xn=en.findViewImgElement(yn);fn.setAttribute(sn.attributeKey,sn.attributeNewValue||"",xn)};return tn=>{tn.on(`attribute:${Wr}:${Vr}`,Zr)}}class $x extends wo{observe(Vr){this.listenTo(Vr,"load",(Wr,Zr)=>{const tn=Zr.target;this.checkShouldIgnoreEventFromTarget(tn)||tn.tagName=="IMG"&&this._fireEvents(Zr)},{useCapture:!0})}stopObserving(Vr){this.stopListening(Vr)}_fireEvents(Vr){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",Vr))}}var Nx=Object.defineProperty,E0=Object.getOwnPropertySymbols,Bx=Object.prototype.hasOwnProperty,Fx=Object.prototype.propertyIsEnumerable,T0=(en,Vr,Wr)=>Vr in en?Nx(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr,ng=(en,Vr)=>{for(var Wr in Vr||(Vr={}))Bx.call(Vr,Wr)&&T0(en,Wr,Vr[Wr]);if(E0)for(var Wr of E0(Vr))Fx.call(Vr,Wr)&&T0(en,Wr,Vr[Wr]);return en};class zx extends Wa{constructor(Vr){super(Vr);const Wr=Vr.config.get("image.insert.type");Vr.plugins.has("ImageBlockEditing")||Wr==="block"&&En("image-block-plugin-required"),Vr.plugins.has("ImageInlineEditing")||Wr==="inline"&&En("image-inline-plugin-required")}refresh(){const Vr=this.editor.plugins.get("ImageUtils");this.isEnabled=Vr.isImageAllowed()}execute(Vr){const Wr=Nl(Vr.source),Zr=this.editor.model.document.selection,tn=this.editor.plugins.get("ImageUtils"),sn=Object.fromEntries(Zr.getAttributes());Wr.forEach((un,fn)=>{const yn=Zr.getSelectedElement();if(typeof un=="string"&&(un={src:un}),fn&&yn&&tn.isImage(yn)){const xn=this.editor.model.createPositionAfter(yn);tn.insertImage(ng(ng({},un),sn),xn)}else tn.insertImage(ng(ng({},un),sn))})}}class Hx extends Wa{refresh(){const Vr=this.editor.plugins.get("ImageUtils"),Wr=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Vr.isImage(Wr),this.value=this.isEnabled?Wr.getAttribute("src"):null}execute(Vr){const Wr=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(Zr=>{Zr.setAttribute("src",Vr.source,Wr),Zr.removeAttribute("srcset",Wr),Zr.removeAttribute("sizes",Wr)})}}class bm extends yo{static get requires(){return[Mu]}static get pluginName(){return"ImageEditing"}init(){const Vr=this.editor,Wr=Vr.conversion;Vr.editing.view.addObserver($x),Wr.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:sn=>{const un={data:sn.getAttribute("srcset")};return sn.hasAttribute("width")&&(un.width=sn.getAttribute("width")),un}}});const Zr=new zx(Vr),tn=new Hx(Vr);Vr.commands.add("insertImage",Zr),Vr.commands.add("replaceImageSource",tn),Vr.commands.add("imageInsert",Zr)}}class M0 extends Wa{constructor(Vr,Wr){super(Vr),this._modelElementName=Wr}refresh(){const Vr=this.editor.plugins.get("ImageUtils"),Wr=Vr.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=Vr.isInlineImage(Wr):this.isEnabled=Vr.isBlockImage(Wr)}execute(){const Vr=this.editor,Wr=this.editor.model,Zr=Vr.plugins.get("ImageUtils"),tn=Zr.getClosestSelectedImageElement(Wr.document.selection),sn=Object.fromEntries(tn.getAttributes());return sn.src||sn.uploadId?Wr.change(un=>{const fn=Array.from(Wr.markers).filter(Dn=>Dn.getRange().containsItem(tn)),yn=Zr.insertImage(sn,Wr.createSelection(tn,"on"),this._modelElementName);if(!yn)return null;const xn=un.createRangeOn(yn);for(const Dn of fn){const Mn=Dn.getRange(),Rn=Mn.root.rootName!="$graveyard"?Mn.getJoined(xn,!0):xn;un.updateMarker(Dn,{range:Rn})}return{oldElement:tn,newElement:yn}}):null}}class I0 extends yo{static get requires(){return[bm,Mu,Zu]}static get pluginName(){return"ImageBlockEditing"}init(){const Vr=this.editor;Vr.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),Vr.plugins.has("ImageInlineEditing")&&(Vr.commands.add("imageTypeBlock",new M0(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const Vr=this.editor,Wr=Vr.t,Zr=Vr.conversion,tn=Vr.plugins.get("ImageUtils");Zr.for("dataDowncast").elementToStructure({model:"imageBlock",view:(sn,{writer:un})=>v0(un)}),Zr.for("editingDowncast").elementToStructure({model:"imageBlock",view:(sn,{writer:un})=>tn.toImageWidget(v0(un),un,Wr("image widget"))}),Zr.for("downcast").add(rg(tn,"imageBlock","src")).add(rg(tn,"imageBlock","alt")).add(D0(tn,"imageBlock")),Zr.for("upcast").elementToElement({view:y0(Vr,"imageBlock"),model:(sn,{writer:un})=>un.createElement("imageBlock",sn.hasAttribute("src")?{src:sn.getAttribute("src")}:void 0)}).add(function(sn){const un=(fn,yn,xn)=>{if(!xn.consumable.test(yn.viewItem,{name:!0,classes:"image"}))return;const Dn=sn.findViewImgElement(yn.viewItem);if(!Dn||!xn.consumable.test(Dn,{name:!0}))return;xn.consumable.consume(yn.viewItem,{name:!0,classes:"image"});const Mn=_l(xn.convertItem(Dn,yn.modelCursor).modelRange.getItems());Mn?(xn.convertChildren(yn.viewItem,Mn),xn.updateConversionResult(Mn,yn)):xn.consumable.revert(yn.viewItem,{name:!0,classes:"image"})};return fn=>{fn.on("element:figure",un)}}(tn))}_setupClipboardIntegration(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.editing.view,tn=Vr.plugins.get("ImageUtils"),sn=Vr.plugins.get("ClipboardPipeline");this.listenTo(sn,"inputTransformation",(un,fn)=>{const yn=Array.from(fn.content.getChildren());let xn;if(!yn.every(tn.isInlineImageView))return;xn=fn.targetRanges?Vr.editing.mapper.toModelRange(fn.targetRanges[0]):Wr.document.selection.getFirstRange();const Dn=Wr.createSelection(xn);if(ym(Wr.schema,Dn)==="imageBlock"){const Mn=new ph(Zr.document),Rn=yn.map(Un=>Mn.createElement("figure",{class:"image"},Un));fn.content=Mn.createDocumentFragment(Rn)}})}}var L0=Fr(3508),Vx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(L0.Z,Vx),L0.Z.locals;class jx extends yo{static get requires(){return[I0,np,S0]}static get pluginName(){return"ImageBlock"}}class Ux extends yo{static get requires(){return[bm,Mu,Zu]}static get pluginName(){return"ImageInlineEditing"}init(){const Vr=this.editor,Wr=Vr.model.schema;Wr.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),Wr.addChildCheck((Zr,tn)=>{if(Zr.endsWith("caption")&&tn.name==="imageInline")return!1}),this._setupConversion(),Vr.plugins.has("ImageBlockEditing")&&(Vr.commands.add("imageTypeInline",new M0(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const Vr=this.editor,Wr=Vr.t,Zr=Vr.conversion,tn=Vr.plugins.get("ImageUtils");Zr.for("dataDowncast").elementToElement({model:"imageInline",view:(sn,{writer:un})=>un.createEmptyElement("img")}),Zr.for("editingDowncast").elementToStructure({model:"imageInline",view:(sn,{writer:un})=>tn.toImageWidget(function(fn){return fn.createContainerElement("span",{class:"image-inline"},fn.createEmptyElement("img"))}(un),un,Wr("image widget"))}),Zr.for("downcast").add(rg(tn,"imageInline","src")).add(rg(tn,"imageInline","alt")).add(D0(tn,"imageInline")),Zr.for("upcast").elementToElement({view:y0(Vr,"imageInline"),model:(sn,{writer:un})=>un.createElement("imageInline",sn.hasAttribute("src")?{src:sn.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.editing.view,tn=Vr.plugins.get("ImageUtils"),sn=Vr.plugins.get("ClipboardPipeline");this.listenTo(sn,"inputTransformation",(un,fn)=>{const yn=Array.from(fn.content.getChildren());let xn;if(!yn.every(tn.isBlockImageView))return;xn=fn.targetRanges?Vr.editing.mapper.toModelRange(fn.targetRanges[0]):Wr.document.selection.getFirstRange();const Dn=Wr.createSelection(xn);if(ym(Wr.schema,Dn)==="imageInline"){const Mn=new ph(Zr.document),Rn=yn.map(Un=>Un.childCount===1?(Array.from(Un.getAttributes()).forEach(Kn=>Mn.setAttribute(...Kn,tn.findViewImgElement(Un))),Un.getChild(0)):Un);fn.content=Mn.createDocumentFragment(Rn)}})}}class Gx extends yo{static get requires(){return[Ux,np,S0]}static get pluginName(){return"ImageInline"}}class P0 extends yo{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Mu]}getCaptionFromImageModelElement(Vr){for(const Wr of Vr.getChildren())if(Wr&&Wr.is("element","caption"))return Wr;return null}getCaptionFromModelSelection(Vr){const Wr=this.editor.plugins.get("ImageUtils"),Zr=Vr.getFirstPosition().findAncestor("caption");return Zr&&Wr.isBlockImage(Zr.parent)?Zr:null}matchImageCaptionViewElement(Vr){const Wr=this.editor.plugins.get("ImageUtils");return Vr.name=="figcaption"&&Wr.isBlockImageView(Vr.parent)?{name:!0}:null}}class Wx extends Wa{refresh(){const Vr=this.editor,Wr=Vr.plugins.get("ImageCaptionUtils"),Zr=Vr.plugins.get("ImageUtils");if(!Vr.plugins.has(I0))return this.isEnabled=!1,void(this.value=!1);const tn=Vr.model.document.selection,sn=tn.getSelectedElement();if(!sn){const un=Wr.getCaptionFromModelSelection(tn);return this.isEnabled=!!un,void(this.value=!!un)}this.isEnabled=Zr.isImage(sn),this.isEnabled?this.value=!!Wr.getCaptionFromImageModelElement(sn):this.value=!1}execute(Vr={}){const{focusCaptionOnShow:Wr}=Vr;this.editor.model.change(Zr=>{this.value?this._hideImageCaption(Zr):this._showImageCaption(Zr,Wr)})}_showImageCaption(Vr,Wr){const Zr=this.editor.model.document.selection,tn=this.editor.plugins.get("ImageCaptionEditing"),sn=this.editor.plugins.get("ImageUtils");let un=Zr.getSelectedElement();const fn=tn._getSavedCaption(un);sn.isInlineImage(un)&&(this.editor.execute("imageTypeBlock"),un=Zr.getSelectedElement());const yn=fn||Vr.createElement("caption");Vr.append(yn,un),Wr&&Vr.setSelection(yn,"in")}_hideImageCaption(Vr){const Wr=this.editor,Zr=Wr.model.document.selection,tn=Wr.plugins.get("ImageCaptionEditing"),sn=Wr.plugins.get("ImageCaptionUtils");let un,fn=Zr.getSelectedElement();fn?un=sn.getCaptionFromImageModelElement(fn):(un=sn.getCaptionFromModelSelection(Zr),fn=un.parent),tn._saveCaption(fn,un),Vr.setSelection(fn,"on"),Vr.remove(un)}}class Yx extends yo{constructor(Vr){super(Vr),this._savedCaptionsMap=new WeakMap}static get requires(){return[Mu,P0]}static get pluginName(){return"ImageCaptionEditing"}init(){const Vr=this.editor,Wr=Vr.model.schema;Wr.isRegistered("caption")?Wr.extend("caption",{allowIn:"imageBlock"}):Wr.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),Vr.commands.add("toggleImageCaption",new Wx(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const Vr=this.editor,Wr=Vr.editing.view,Zr=Vr.plugins.get("ImageUtils"),tn=Vr.plugins.get("ImageCaptionUtils"),sn=Vr.t;Vr.conversion.for("upcast").elementToElement({view:un=>tn.matchImageCaptionViewElement(un),model:"caption"}),Vr.conversion.for("dataDowncast").elementToElement({model:"caption",view:(un,{writer:fn})=>Zr.isBlockImage(un.parent)?fn.createContainerElement("figcaption"):null}),Vr.conversion.for("editingDowncast").elementToElement({model:"caption",view:(un,{writer:fn})=>{if(!Zr.isBlockImage(un.parent))return null;const yn=fn.createEditableElement("figcaption");fn.setCustomProperty("imageCaption",!0,yn),ud({view:Wr,element:yn,text:sn("Enter image caption"),keepOnFocus:!0});const xn=un.parent.getAttribute("alt");return Eb(yn,fn,{label:xn?sn("Caption for image: %0",[xn]):sn("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const Vr=this.editor,Wr=Vr.plugins.get("ImageUtils"),Zr=Vr.plugins.get("ImageCaptionUtils"),tn=Vr.commands.get("imageTypeInline"),sn=Vr.commands.get("imageTypeBlock"),un=fn=>{if(!fn.return)return;const{oldElement:yn,newElement:xn}=fn.return;if(!yn)return;if(Wr.isBlockImage(yn)){const Mn=Zr.getCaptionFromImageModelElement(yn);if(Mn)return void this._saveCaption(xn,Mn)}const Dn=this._getSavedCaption(yn);Dn&&this._saveCaption(xn,Dn)};tn&&this.listenTo(tn,"execute",un,{priority:"low"}),sn&&this.listenTo(sn,"execute",un,{priority:"low"})}_getSavedCaption(Vr){const Wr=this._savedCaptionsMap.get(Vr);return Wr?Rs.fromJSON(Wr):null}_saveCaption(Vr,Wr){this._savedCaptionsMap.set(Vr,Wr.toJSON())}_registerCaptionReconversion(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.plugins.get("ImageUtils"),tn=Vr.plugins.get("ImageCaptionUtils");Wr.document.on("change:data",()=>{const sn=Wr.document.differ.getChanges();for(const un of sn){if(un.attributeKey!=="alt")continue;const fn=un.range.start.nodeAfter;if(Zr.isBlockImage(fn)){const yn=tn.getCaptionFromImageModelElement(fn);if(!yn)return;Vr.editing.reconvertItem(yn)}}})}}class qx extends yo{static get requires(){return[P0]}static get pluginName(){return"ImageCaptionUI"}init(){const Vr=this.editor,Wr=Vr.editing.view,Zr=Vr.plugins.get("ImageCaptionUtils"),tn=Vr.t;Vr.ui.componentFactory.add("toggleImageCaption",sn=>{const un=Vr.commands.get("toggleImageCaption"),fn=new gs(sn);return fn.set({icon:Il.caption,tooltip:!0,isToggleable:!0}),fn.bind("isOn","isEnabled").to(un,"value","isEnabled"),fn.bind("label").to(un,"value",yn=>tn(yn?"Toggle caption off":"Toggle caption on")),this.listenTo(fn,"execute",()=>{Vr.execute("toggleImageCaption",{focusCaptionOnShow:!0});const yn=Zr.getCaptionFromModelSelection(Vr.model.document.selection);if(yn){const xn=Vr.editing.mapper.toViewElement(yn);Wr.scrollToTheSelection(),Wr.change(Dn=>{Dn.addClass("image__caption_highlighted",xn)})}Vr.editing.view.focus()}),fn})}}var O0=Fr(2640),Kx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(O0.Z,Kx),O0.Z.locals;function R0(en){const Vr=en.map(Wr=>Wr.replace("+","\\+"));return new RegExp(`^image\\/(${Vr.join("|")})$`)}function Zx(en){return new Promise((Vr,Wr)=>{const Zr=en.getAttribute("src");fetch(Zr).then(tn=>tn.blob()).then(tn=>{const sn=$0(tn,Zr),un=sn.replace("image/",""),fn=new File([tn],`image.${un}`,{type:sn});Vr(fn)}).catch(tn=>tn&&tn.name==="TypeError"?function(sn){return function(un){return new Promise((fn,yn)=>{const xn=Sa.document.createElement("img");xn.addEventListener("load",()=>{const Dn=Sa.document.createElement("canvas");Dn.width=xn.width,Dn.height=xn.height,Dn.getContext("2d").drawImage(xn,0,0),Dn.toBlob(Mn=>Mn?fn(Mn):yn())}),xn.addEventListener("error",()=>yn()),xn.src=un})}(sn).then(un=>{const fn=$0(un,sn),yn=fn.replace("image/","");return new File([un],`image.${yn}`,{type:fn})})}(Zr).then(Vr).catch(Wr):Wr(tn))})}function $0(en,Vr){return en.type?en.type:Vr.match(/data:(image\/\w+);base64/)?Vr.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Xx extends yo{static get pluginName(){return"ImageUploadUI"}init(){const Vr=this.editor,Wr=Vr.t,Zr=tn=>{const sn=new UC(tn),un=Vr.commands.get("uploadImage"),fn=Vr.config.get("image.upload.types"),yn=R0(fn);return sn.set({acceptedType:fn.map(xn=>`image/${xn}`).join(","),allowMultipleFiles:!0}),sn.buttonView.set({label:Wr("Insert image"),icon:Il.image,tooltip:!0}),sn.buttonView.bind("isEnabled").to(un),sn.on("done",(xn,Dn)=>{const Mn=Array.from(Dn).filter(Rn=>yn.test(Rn.type));Mn.length&&(Vr.execute("uploadImage",{file:Mn}),Vr.editing.view.focus())}),sn};Vr.ui.componentFactory.add("uploadImage",Zr),Vr.ui.componentFactory.add("imageUpload",Zr)}}var N0=Fr(3689),Qx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(N0.Z,Qx),N0.Z.locals;var B0=Fr(4036),Jx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(B0.Z,Jx),B0.Z.locals;var F0=Fr(3773),eS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(F0.Z,eS),F0.Z.locals;class tS extends yo{constructor(Vr){super(Vr),this.uploadStatusChange=(Wr,Zr,tn)=>{const sn=this.editor,un=Zr.item,fn=un.getAttribute("uploadId");if(!tn.consumable.consume(Zr.item,Wr.name))return;const yn=sn.plugins.get("ImageUtils"),xn=sn.plugins.get(Tu),Dn=fn?Zr.attributeNewValue:null,Mn=this.placeholder,Rn=sn.editing.mapper.toViewElement(un),Un=tn.writer;if(Dn=="reading")return z0(Rn,Un),void H0(yn,Mn,Rn,Un);if(Dn=="uploading"){const Kn=xn.loaders.get(fn);return z0(Rn,Un),void(Kn?(V0(Rn,Un),function(ti,si,fi,Li){const eo=function(Fo){const wa=Fo.createUIElement("div",{class:"ck-progress-bar"});return Fo.setCustomProperty("progressBar",!0,wa),wa}(si);si.insert(si.createPositionAt(ti,"end"),eo),fi.on("change:uploadedPercent",(Fo,wa,Ns)=>{Li.change(ds=>{ds.setStyle("width",Ns+"%",eo)})})}(Rn,Un,Kn,sn.editing.view),function(ti,si,fi,Li){if(Li.data){const eo=ti.findViewImgElement(si);fi.setAttribute("src",Li.data,eo)}}(yn,Rn,Un,Kn)):H0(yn,Mn,Rn,Un))}Dn=="complete"&&xn.loaders.get(fn)&&function(Kn,ti,si){const fi=ti.createUIElement("div",{class:"ck-image-upload-complete-icon"});ti.insert(ti.createPositionAt(Kn,"end"),fi),setTimeout(()=>{si.change(Li=>Li.remove(Li.createRangeOn(fi)))},3e3)}(Rn,Un,sn.editing.view),function(Kn,ti){U0(Kn,ti,"progressBar")}(Rn,Un),V0(Rn,Un),function(Kn,ti){ti.removeClass("ck-appear",Kn)}(Rn,Un)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const Vr=this.editor;Vr.plugins.has("ImageBlockEditing")&&Vr.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),Vr.plugins.has("ImageInlineEditing")&&Vr.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function z0(en,Vr){en.hasClass("ck-appear")||Vr.addClass("ck-appear",en)}function H0(en,Vr,Wr,Zr){Wr.hasClass("ck-image-upload-placeholder")||Zr.addClass("ck-image-upload-placeholder",Wr);const tn=en.findViewImgElement(Wr);tn.getAttribute("src")!==Vr&&Zr.setAttribute("src",Vr,tn),j0(Wr,"placeholder")||Zr.insert(Zr.createPositionAfter(tn),function(sn){const un=sn.createUIElement("div",{class:"ck-upload-placeholder-loader"});return sn.setCustomProperty("placeholder",!0,un),un}(Zr))}function V0(en,Vr){en.hasClass("ck-image-upload-placeholder")&&Vr.removeClass("ck-image-upload-placeholder",en),U0(en,Vr,"placeholder")}function j0(en,Vr){for(const Wr of en.getChildren())if(Wr.getCustomProperty(Vr))return Wr}function U0(en,Vr,Wr){const Zr=j0(en,Wr);Zr&&Vr.remove(Vr.createRangeOn(Zr))}var rS=Object.defineProperty,nS=Object.defineProperties,iS=Object.getOwnPropertyDescriptors,G0=Object.getOwnPropertySymbols,oS=Object.prototype.hasOwnProperty,aS=Object.prototype.propertyIsEnumerable,W0=(en,Vr,Wr)=>Vr in en?rS(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr;class sS extends Wa{refresh(){const Vr=this.editor,Wr=Vr.plugins.get("ImageUtils"),Zr=Vr.model.document.selection.getSelectedElement();this.isEnabled=Wr.isImageAllowed()||Wr.isImage(Zr)}execute(Vr){const Wr=Nl(Vr.file),Zr=this.editor.model.document.selection,tn=this.editor.plugins.get("ImageUtils"),sn=Object.fromEntries(Zr.getAttributes());Wr.forEach((un,fn)=>{const yn=Zr.getSelectedElement();if(fn&&yn&&tn.isImage(yn)){const xn=this.editor.model.createPositionAfter(yn);this._uploadImage(un,sn,xn)}else this._uploadImage(un,sn)})}_uploadImage(Vr,Wr,Zr){const tn=this.editor,sn=tn.plugins.get(Tu).createLoader(Vr),un=tn.plugins.get("ImageUtils");var fn,yn;sn&&un.insertImage((fn=((xn,Dn)=>{for(var Mn in Dn||(Dn={}))oS.call(Dn,Mn)&&W0(xn,Mn,Dn[Mn]);if(G0)for(var Mn of G0(Dn))aS.call(Dn,Mn)&&W0(xn,Mn,Dn[Mn]);return xn})({},Wr),yn={uploadId:sn.id},nS(fn,iS(yn))),Zr)}}class lS extends yo{constructor(Vr){super(Vr),Vr.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Tu,am,Zu,Mu]}static get pluginName(){return"ImageUploadEditing"}init(){const Vr=this.editor,Wr=Vr.model.document,Zr=Vr.conversion,tn=Vr.plugins.get(Tu),sn=Vr.plugins.get("ImageUtils"),un=Vr.plugins.get("ClipboardPipeline"),fn=R0(Vr.config.get("image.upload.types")),yn=new sS(Vr);Vr.commands.add("uploadImage",yn),Vr.commands.add("imageUpload",yn),Zr.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(Vr.editing.view.document,"clipboardInput",(xn,Dn)=>{if(Mn=Dn.dataTransfer,Array.from(Mn.types).includes("text/html")&&Mn.getData("text/html")!=="")return;var Mn;const Rn=Array.from(Dn.dataTransfer.files).filter(Un=>!!Un&&fn.test(Un.type));Rn.length&&(xn.stop(),Vr.model.change(Un=>{Dn.targetRanges&&Un.setSelection(Dn.targetRanges.map(Kn=>Vr.editing.mapper.toModelRange(Kn))),Vr.model.enqueueChange(()=>{Vr.execute("uploadImage",{file:Rn})})}))}),this.listenTo(un,"inputTransformation",(xn,Dn)=>{const Mn=Array.from(Vr.editing.view.createRangeIn(Dn.content)).map(Un=>Un.item).filter(Un=>function(Kn,ti){return!(!Kn.isInlineImageView(ti)||!ti.getAttribute("src")||!ti.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!ti.getAttribute("src").match(/^blob:/g))}(sn,Un)&&!Un.getAttribute("uploadProcessed")).map(Un=>({promise:Zx(Un),imageElement:Un}));if(!Mn.length)return;const Rn=new ph(Vr.editing.view.document);for(const Un of Mn){Rn.setAttribute("uploadProcessed",!0,Un.imageElement);const Kn=tn.createLoader(Un.promise);Kn&&(Rn.setAttribute("src","",Un.imageElement),Rn.setAttribute("uploadId",Kn.id,Un.imageElement))}}),Vr.editing.view.document.on("dragover",(xn,Dn)=>{Dn.preventDefault()}),Wr.on("change",()=>{const xn=Wr.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),Dn=new Set;for(const Mn of xn)if(Mn.type=="insert"&&Mn.name!="$text"){const Rn=Mn.position.nodeAfter,Un=Mn.position.root.rootName=="$graveyard";for(const Kn of cS(Vr,Rn)){const ti=Kn.getAttribute("uploadId");if(!ti)continue;const si=tn.loaders.get(ti);si&&(Un?Dn.has(ti)||si.abort():(Dn.add(ti),this._uploadImageElements.set(ti,Kn),si.status=="idle"&&this._readAndUpload(si)))}}}),this.on("uploadComplete",(xn,{imageElement:Dn,data:Mn})=>{const Rn=Mn.urls?Mn.urls:Mn;this.editor.model.change(Un=>{Un.setAttribute("src",Rn.default,Dn),this._parseAndSetSrcsetAttributeOnImage(Rn,Dn,Un)})},{priority:"low"})}afterInit(){const Vr=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&Vr.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&Vr.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(Vr){const Wr=this.editor,Zr=Wr.model,tn=Wr.locale.t,sn=Wr.plugins.get(Tu),un=Wr.plugins.get(am),fn=Wr.plugins.get("ImageUtils"),yn=this._uploadImageElements;return Zr.enqueueChange({isUndoable:!1},Dn=>{Dn.setAttribute("uploadStatus","reading",yn.get(Vr.id))}),Vr.read().then(()=>{const Dn=Vr.upload(),Mn=yn.get(Vr.id);if(Qr.isSafari){const Rn=Wr.editing.mapper.toViewElement(Mn),Un=fn.findViewImgElement(Rn);Wr.editing.view.once("render",()=>{if(!Un.parent)return;const Kn=Wr.editing.view.domConverter.mapViewToDom(Un.parent);if(!Kn)return;const ti=Kn.style.display;Kn.style.display="none",Kn._ckHack=Kn.offsetHeight,Kn.style.display=ti})}return Zr.enqueueChange({isUndoable:!1},Rn=>{Rn.setAttribute("uploadStatus","uploading",Mn)}),Dn}).then(Dn=>{Zr.enqueueChange({isUndoable:!1},Mn=>{const Rn=yn.get(Vr.id);Mn.setAttribute("uploadStatus","complete",Rn),this.fire("uploadComplete",{data:Dn,imageElement:Rn})}),xn()}).catch(Dn=>{if(Vr.status!=="error"&&Vr.status!=="aborted")throw Dn;Vr.status=="error"&&Dn&&un.showWarning(Dn,{title:tn("Upload failed"),namespace:"upload"}),Zr.enqueueChange({isUndoable:!1},Mn=>{Mn.remove(yn.get(Vr.id))}),xn()});function xn(){Zr.enqueueChange({isUndoable:!1},Dn=>{const Mn=yn.get(Vr.id);Dn.removeAttribute("uploadId",Mn),Dn.removeAttribute("uploadStatus",Mn),yn.delete(Vr.id)}),sn.destroyLoader(Vr)}}_parseAndSetSrcsetAttributeOnImage(Vr,Wr,Zr){let tn=0;const sn=Object.keys(Vr).filter(un=>{const fn=parseInt(un,10);if(!isNaN(fn))return tn=Math.max(tn,fn),!0}).map(un=>`${Vr[un]} ${un}w`).join(", ");sn!=""&&Zr.setAttribute("srcset",{data:sn,width:tn},Wr)}}function cS(en,Vr){const Wr=en.plugins.get("ImageUtils");return Array.from(en.model.createRangeOn(Vr)).filter(Zr=>Wr.isImage(Zr.item)).map(Zr=>Zr.item)}var Y0=Fr(1568),uS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Y0.Z,uS),Y0.Z.locals;var q0=Fr(3535),dS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(q0.Z,dS),q0.Z.locals;var K0=Fr(6270),hS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(K0.Z,hS),K0.Z.locals;class fS extends Wa{constructor(Vr,Wr){super(Vr),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(Wr.map(Zr=>{if(Zr.isDefault)for(const tn of Zr.modelElements)this._defaultStyles[tn]=Zr.name;return[Zr.name,Zr]}))}refresh(){const Vr=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!Vr,this.isEnabled?Vr.hasAttribute("imageStyle")?this.value=Vr.getAttribute("imageStyle"):this.value=this._defaultStyles[Vr.name]:this.value=!1}execute(Vr={}){const Wr=this.editor,Zr=Wr.model,tn=Wr.plugins.get("ImageUtils");Zr.change(sn=>{const un=Vr.value;let fn=tn.getClosestSelectedImageElement(Zr.document.selection);un&&this.shouldConvertImageType(un,fn)&&(this.editor.execute(tn.isBlockImage(fn)?"imageTypeInline":"imageTypeBlock"),fn=tn.getClosestSelectedImageElement(Zr.document.selection)),!un||this._styles.get(un).isDefault?sn.removeAttribute("imageStyle",fn):sn.setAttribute("imageStyle",un,fn)})}shouldConvertImageType(Vr,Wr){return!this._styles.get(Vr).modelElements.includes(Wr.name)}}var pS=Object.defineProperty,Z0=Object.getOwnPropertySymbols,gS=Object.prototype.hasOwnProperty,mS=Object.prototype.propertyIsEnumerable,X0=(en,Vr,Wr)=>Vr in en?pS(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr,Q0=(en,Vr)=>{for(var Wr in Vr||(Vr={}))gS.call(Vr,Wr)&&X0(en,Wr,Vr[Wr]);if(Z0)for(var Wr of Z0(Vr))mS.call(Vr,Wr)&&X0(en,Wr,Vr[Wr]);return en};const{objectFullWidth:vS,objectInline:J0,objectLeft:e_,objectRight:_m,objectCenter:wm,objectBlockLeft:t_,objectBlockRight:r_}=Il,ig={get inline(){return{name:"inline",title:"In line",icon:J0,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:e_,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:t_,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:wm,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:_m,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:r_,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:wm,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:_m,modelElements:["imageBlock"],className:"image-style-side"}}},n_={full:vS,left:t_,right:r_,center:wm,inlineLeft:e_,inlineRight:_m,inline:J0},i_=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function o_(en){En("image-style-configuration-definition-invalid",en)}const km={normalizeStyles:function(en){return(en.configuredStyles.options||[]).map(Vr=>function(Wr){return Wr=typeof Wr=="string"?ig[Wr]?Q0({},ig[Wr]):{name:Wr}:function(Zr,tn){const sn=Q0({},tn);for(const un in Zr)Object.prototype.hasOwnProperty.call(tn,un)||(sn[un]=Zr[un]);return sn}(ig[Wr.name],Wr),typeof Wr.icon=="string"&&(Wr.icon=n_[Wr.icon]||Wr.icon),Wr}(Vr)).filter(Vr=>function(Wr,{isBlockPluginLoaded:Zr,isInlinePluginLoaded:tn}){const{modelElements:sn,name:un}=Wr;if(!(sn&&sn.length&&un))return o_({style:Wr}),!1;{const fn=[Zr?"imageBlock":null,tn?"imageInline":null];if(!sn.some(yn=>fn.includes(yn)))return En("image-style-missing-dependency",{style:Wr,missingPlugins:sn.map(yn=>yn==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(Vr,en))},getDefaultStylesConfiguration:function(en,Vr){return en&&Vr?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:en?{options:["block","side"]}:Vr?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(en){return en.has("ImageBlockEditing")&&en.has("ImageInlineEditing")?[...i_]:[]},warnInvalidStyle:o_,DEFAULT_OPTIONS:ig,DEFAULT_ICONS:n_,DEFAULT_DROPDOWN_DEFINITIONS:i_};function a_(en,Vr){for(const Wr of Vr)if(Wr.name===en)return Wr}class s_ extends yo{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Mu]}init(){const{normalizeStyles:Vr,getDefaultStylesConfiguration:Wr}=km,Zr=this.editor,tn=Zr.plugins.has("ImageBlockEditing"),sn=Zr.plugins.has("ImageInlineEditing");Zr.config.define("image.styles",Wr(tn,sn)),this.normalizedStyles=Vr({configuredStyles:Zr.config.get("image.styles"),isBlockPluginLoaded:tn,isInlinePluginLoaded:sn}),this._setupConversion(tn,sn),this._setupPostFixer(),Zr.commands.add("imageStyle",new fS(Zr,this.normalizedStyles))}_setupConversion(Vr,Wr){const Zr=this.editor,tn=Zr.model.schema,sn=(un=this.normalizedStyles,(yn,xn,Dn)=>{if(!Dn.consumable.consume(xn.item,yn.name))return;const Mn=a_(xn.attributeNewValue,un),Rn=a_(xn.attributeOldValue,un),Un=Dn.mapper.toViewElement(xn.item),Kn=Dn.writer;Rn&&Kn.removeClass(Rn.className,Un),Mn&&Kn.addClass(Mn.className,Un)});var un;const fn=function(yn){const xn={imageInline:yn.filter(Dn=>!Dn.isDefault&&Dn.modelElements.includes("imageInline")),imageBlock:yn.filter(Dn=>!Dn.isDefault&&Dn.modelElements.includes("imageBlock"))};return(Dn,Mn,Rn)=>{if(!Mn.modelRange)return;const Un=Mn.viewItem,Kn=_l(Mn.modelRange.getItems());if(Kn&&Rn.schema.checkAttribute(Kn,"imageStyle"))for(const ti of xn[Kn.name])Rn.consumable.consume(Un,{classes:ti.className})&&Rn.writer.setAttribute("imageStyle",ti.name,Kn)}}(this.normalizedStyles);Zr.editing.downcastDispatcher.on("attribute:imageStyle",sn),Zr.data.downcastDispatcher.on("attribute:imageStyle",sn),Vr&&(tn.extend("imageBlock",{allowAttributes:"imageStyle"}),Zr.data.upcastDispatcher.on("element:figure",fn,{priority:"low"})),Wr&&(tn.extend("imageInline",{allowAttributes:"imageStyle"}),Zr.data.upcastDispatcher.on("element:img",fn,{priority:"low"}))}_setupPostFixer(){const Vr=this.editor,Wr=Vr.model.document,Zr=Vr.plugins.get(Mu),tn=new Map(this.normalizedStyles.map(sn=>[sn.name,sn]));Wr.registerPostFixer(sn=>{let un=!1;for(const fn of Wr.differ.getChanges())if(fn.type=="insert"||fn.type=="attribute"&&fn.attributeKey=="imageStyle"){let yn=fn.type=="insert"?fn.position.nodeAfter:fn.range.start.nodeAfter;if(yn&&yn.is("element","paragraph")&&yn.childCount>0&&(yn=yn.getChild(0)),!Zr.isImage(yn))continue;const xn=yn.getAttribute("imageStyle");if(!xn)continue;const Dn=tn.get(xn);Dn&&Dn.modelElements.includes(yn.name)||(sn.removeAttribute("imageStyle",yn),un=!0)}return un})}}var l_=Fr(5083),yS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(l_.Z,yS),l_.Z.locals;class bS extends yo{static get requires(){return[s_]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const Vr=this.editor.t;return{"Wrap text":Vr("Wrap text"),"Break text":Vr("Break text"),"In line":Vr("In line"),"Full size image":Vr("Full size image"),"Side image":Vr("Side image"),"Left aligned image":Vr("Left aligned image"),"Centered image":Vr("Centered image"),"Right aligned image":Vr("Right aligned image")}}init(){const Vr=this.editor.plugins,Wr=this.editor.config.get("image.toolbar")||[],Zr=c_(Vr.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const sn of Zr)this._createButton(sn);const tn=c_([...Wr.filter(ji),...km.getDefaultDropdownDefinitions(Vr)],this.localizedDefaultStylesTitles);for(const sn of tn)this._createDropdown(sn,Zr)}_createDropdown(Vr,Wr){const Zr=this.editor.ui.componentFactory;Zr.add(Vr.name,tn=>{let sn;const{defaultItem:un,items:fn,title:yn}=Vr,xn=fn.filter(Un=>Wr.find(({name:Kn})=>u_(Kn)===Un)).map(Un=>{const Kn=Zr.create(Un);return Un===un&&(sn=Kn),Kn});fn.length!==xn.length&&km.warnInvalidStyle({dropdown:Vr});const Dn=Nd(tn,Wg),Mn=Dn.buttonView,Rn=Mn.arrowView;return Yg(Dn,xn,{enableActiveItemFocusOnDropdownOpen:!0}),Mn.set({label:d_(yn,sn.label),class:null,tooltip:!0}),Rn.unbind("label"),Rn.set({label:yn}),Mn.bind("icon").toMany(xn,"isOn",(...Un)=>{const Kn=Un.findIndex(Au);return Kn<0?sn.icon:xn[Kn].icon}),Mn.bind("label").toMany(xn,"isOn",(...Un)=>{const Kn=Un.findIndex(Au);return d_(yn,Kn<0?sn.label:xn[Kn].label)}),Mn.bind("isOn").toMany(xn,"isOn",(...Un)=>Un.some(Au)),Mn.bind("class").toMany(xn,"isOn",(...Un)=>Un.some(Au)?"ck-splitbutton_flatten":void 0),Mn.on("execute",()=>{xn.some(({isOn:Un})=>Un)?Dn.isOpen=!Dn.isOpen:sn.fire("execute")}),Dn.bind("isEnabled").toMany(xn,"isEnabled",(...Un)=>Un.some(Au)),this.listenTo(Dn,"execute",()=>{this.editor.editing.view.focus()}),Dn})}_createButton(Vr){const Wr=Vr.name;this.editor.ui.componentFactory.add(u_(Wr),Zr=>{const tn=this.editor.commands.get("imageStyle"),sn=new gs(Zr);return sn.set({label:Vr.title,icon:Vr.icon,tooltip:!0,isToggleable:!0}),sn.bind("isEnabled").to(tn,"isEnabled"),sn.bind("isOn").to(tn,"value",un=>un===Wr),sn.on("execute",this._executeCommand.bind(this,Wr)),sn})}_executeCommand(Vr){this.editor.execute("imageStyle",{value:Vr}),this.editor.editing.view.focus()}}function c_(en,Vr){for(const Wr of en)Vr[Wr.title]&&(Wr.title=Vr[Wr.title]);return en}function u_(en){return`imageStyle:${en}`}function d_(en,Vr){return(en?en+": ":"")+Vr}class _S extends yo{static get pluginName(){return"IndentEditing"}init(){const Vr=this.editor;Vr.commands.add("indent",new kf(Vr)),Vr.commands.add("outdent",new kf(Vr))}}const h_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',f_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class wS extends yo{static get pluginName(){return"IndentUI"}init(){const Vr=this.editor,Wr=Vr.locale,Zr=Vr.t,tn=Wr.uiLanguageDirection=="ltr"?h_:f_,sn=Wr.uiLanguageDirection=="ltr"?f_:h_;this._defineButton("indent",Zr("Increase indent"),tn),this._defineButton("outdent",Zr("Decrease indent"),sn)}_defineButton(Vr,Wr,Zr){const tn=this.editor;tn.ui.componentFactory.add(Vr,sn=>{const un=tn.commands.get(Vr),fn=new gs(sn);return fn.set({label:Wr,icon:Zr,tooltip:!0}),fn.bind("isEnabled").to(un,"isEnabled"),this.listenTo(fn,"execute",()=>{tn.execute(Vr),tn.editing.view.focus()}),fn})}}class kS{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(Vr){Array.isArray(Vr)?Vr.forEach(Wr=>this._definitions.add(Wr)):this._definitions.add(Vr)}getDispatcher(){return Vr=>{Vr.on("attribute:linkHref",(Wr,Zr,tn)=>{if(!tn.consumable.test(Zr.item,"attribute:linkHref")||!Zr.item.is("selection")&&!tn.schema.isInline(Zr.item))return;const sn=tn.writer,un=sn.document.selection;for(const fn of this._definitions){const yn=sn.createAttributeElement("a",fn.attributes,{priority:5});fn.classes&&sn.addClass(fn.classes,yn);for(const xn in fn.styles)sn.setStyle(xn,fn.styles[xn],yn);sn.setCustomProperty("link",!0,yn),fn.callback(Zr.attributeNewValue)?Zr.item.is("selection")?sn.wrap(un.getFirstRange(),yn):sn.wrap(tn.mapper.toViewRange(Zr.range),yn):sn.unwrap(tn.mapper.toViewRange(Zr.range),yn)}},{priority:"high"})}}getDispatcherForLinkedImage(){return Vr=>{Vr.on("attribute:linkHref:imageBlock",(Wr,Zr,{writer:tn,mapper:sn})=>{const un=sn.toViewElement(Zr.item),fn=Array.from(un.getChildren()).find(yn=>yn.is("element","a"));for(const yn of this._definitions){const xn=rl(yn.attributes);if(yn.callback(Zr.attributeNewValue)){for(const[Dn,Mn]of xn)Dn==="class"?tn.addClass(Mn,fn):tn.setAttribute(Dn,Mn,fn);yn.classes&&tn.addClass(yn.classes,fn);for(const Dn in yn.styles)tn.setStyle(Dn,yn.styles[Dn],fn)}else{for(const[Dn,Mn]of xn)Dn==="class"?tn.removeClass(Mn,fn):tn.removeAttribute(Dn,fn);yn.classes&&tn.removeClass(yn.classes,fn);for(const Dn in yn.styles)tn.removeStyle(Dn,fn)}}})}}}const AS=function(en,Vr,Wr){var Zr=en.length;return Wr=Wr===void 0?Zr:Wr,!Vr&&Wr>=Zr?en:Dd(en,Vr,Wr)};var CS=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const p_=function(en){return CS.test(en)},xS=function(en){return en.split("")};var g_="\\ud800-\\udfff",SS="["+g_+"]",Am="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Cm="\\ud83c[\\udffb-\\udfff]",m_="[^"+g_+"]",v_="(?:\\ud83c[\\udde6-\\uddff]){2}",y_="[\\ud800-\\udbff][\\udc00-\\udfff]",b_="(?:"+Am+"|"+Cm+")?",__="[\\ufe0e\\ufe0f]?",DS=__+b_+("(?:\\u200d(?:"+[m_,v_,y_].join("|")+")"+__+b_+")*"),ES="(?:"+[m_+Am+"?",Am,v_,y_,SS].join("|")+")",TS=RegExp(Cm+"(?="+Cm+")|"+ES+DS,"g");const MS=function(en){return en.match(TS)||[]},IS=function(en){return p_(en)?MS(en):xS(en)},LS=function(en){return function(Vr){Vr=Tf(Vr);var Wr=p_(Vr)?IS(Vr):void 0,Zr=Wr?Wr[0]:Vr.charAt(0),tn=Wr?AS(Wr,1).join(""):Vr.slice(1);return Zr[en]()+tn}}("toUpperCase"),PS=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,OS=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,RS=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,$S=/^((\w+:(\/{2,})?)|(\W))/i,xm="Ctrl+K";function w_(en,{writer:Vr}){const Wr=Vr.createAttributeElement("a",{href:en},{priority:5});return Vr.setCustomProperty("link",!0,Wr),Wr}function k_(en){const Vr=String(en);return function(Wr){return!!Wr.replace(PS,"").match(OS)}(Vr)?Vr:"#"}function Sm(en,Vr){return!!en&&Vr.checkAttribute(en.name,"linkHref")}function Dm(en,Vr){const Wr=(Zr=en,RS.test(Zr)?"mailto:":Vr);var Zr;const tn=!!Wr&&!A_(en);return en&&tn?Wr+en:en}function A_(en){return $S.test(en)}function C_(en){window.open(en,"_blank","noopener")}class NS extends Wa{constructor(){super(...arguments),this.manualDecorators=new Fc,this.automaticDecorators=new kS}restoreManualDecoratorStates(){for(const Vr of this.manualDecorators)Vr.value=this._getDecoratorStateFromModel(Vr.id)}refresh(){const Vr=this.editor.model,Wr=Vr.document.selection,Zr=Wr.getSelectedElement()||_l(Wr.getSelectedBlocks());Sm(Zr,Vr.schema)?(this.value=Zr.getAttribute("linkHref"),this.isEnabled=Vr.schema.checkAttribute(Zr,"linkHref")):(this.value=Wr.getAttribute("linkHref"),this.isEnabled=Vr.schema.checkAttributeInSelection(Wr,"linkHref"));for(const tn of this.manualDecorators)tn.value=this._getDecoratorStateFromModel(tn.id)}execute(Vr,Wr={}){const Zr=this.editor.model,tn=Zr.document.selection,sn=[],un=[];for(const fn in Wr)Wr[fn]?sn.push(fn):un.push(fn);Zr.change(fn=>{if(tn.isCollapsed){const yn=tn.getFirstPosition();if(tn.hasAttribute("linkHref")){const xn=x_(tn);let Dn=Yh(yn,"linkHref",tn.getAttribute("linkHref"),Zr);tn.getAttribute("linkHref")===xn&&(Dn=this._updateLinkContent(Zr,fn,Dn,Vr)),fn.setAttribute("linkHref",Vr,Dn),sn.forEach(Mn=>{fn.setAttribute(Mn,!0,Dn)}),un.forEach(Mn=>{fn.removeAttribute(Mn,Dn)}),fn.setSelection(fn.createPositionAfter(Dn.end.nodeBefore))}else if(Vr!==""){const xn=rl(tn.getAttributes());xn.set("linkHref",Vr),sn.forEach(Mn=>{xn.set(Mn,!0)});const{end:Dn}=Zr.insertContent(fn.createText(Vr,xn),yn);fn.setSelection(Dn)}["linkHref",...sn,...un].forEach(xn=>{fn.removeSelectionAttribute(xn)})}else{const yn=Zr.schema.getValidRanges(tn.getRanges(),"linkHref"),xn=[];for(const Mn of tn.getSelectedBlocks())Zr.schema.checkAttribute(Mn,"linkHref")&&xn.push(fn.createRangeOn(Mn));const Dn=xn.slice();for(const Mn of yn)this._isRangeToUpdate(Mn,xn)&&Dn.push(Mn);for(const Mn of Dn){let Rn=Mn;if(Dn.length===1){const Un=x_(tn);tn.getAttribute("linkHref")===Un&&(Rn=this._updateLinkContent(Zr,fn,Mn,Vr),fn.setSelection(fn.createSelection(Rn)))}fn.setAttribute("linkHref",Vr,Rn),sn.forEach(Un=>{fn.setAttribute(Un,!0,Rn)}),un.forEach(Un=>{fn.removeAttribute(Un,Rn)})}}})}_getDecoratorStateFromModel(Vr){const Wr=this.editor.model,Zr=Wr.document.selection,tn=Zr.getSelectedElement();return Sm(tn,Wr.schema)?tn.getAttribute(Vr):Zr.getAttribute(Vr)}_isRangeToUpdate(Vr,Wr){for(const Zr of Wr)if(Zr.containsRange(Vr))return!1;return!0}_updateLinkContent(Vr,Wr,Zr,tn){const sn=Wr.createText(tn,{linkHref:tn});return Vr.insertContent(sn,Zr)}}function x_(en){if(en.isCollapsed){const Vr=en.getFirstPosition();return Vr.textNode&&Vr.textNode.data}{const Vr=Array.from(en.getFirstRange().getItems());if(Vr.length>1)return null;const Wr=Vr[0];return Wr.is("$text")||Wr.is("$textProxy")?Wr.data:null}}class BS extends Wa{refresh(){const Vr=this.editor.model,Wr=Vr.document.selection,Zr=Wr.getSelectedElement();Sm(Zr,Vr.schema)?this.isEnabled=Vr.schema.checkAttribute(Zr,"linkHref"):this.isEnabled=Vr.schema.checkAttributeInSelection(Wr,"linkHref")}execute(){const Vr=this.editor,Wr=this.editor.model,Zr=Wr.document.selection,tn=Vr.commands.get("link");Wr.change(sn=>{const un=Zr.isCollapsed?[Yh(Zr.getFirstPosition(),"linkHref",Zr.getAttribute("linkHref"),Wr)]:Wr.schema.getValidRanges(Zr.getRanges(),"linkHref");for(const fn of un)if(sn.removeAttribute("linkHref",fn),tn)for(const yn of tn.manualDecorators)sn.removeAttribute(yn.id,fn)})}}class FS extends Ji(){constructor({id:Vr,label:Wr,attributes:Zr,classes:tn,styles:sn,defaultValue:un}){super(),this.id=Vr,this.set("value",void 0),this.defaultValue=un,this.label=Wr,this.attributes=Zr,this.classes=tn,this.styles=sn}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var S_=Fr(9773),zS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(S_.Z,zS),S_.Z.locals;var HS=Object.defineProperty,D_=Object.getOwnPropertySymbols,VS=Object.prototype.hasOwnProperty,jS=Object.prototype.propertyIsEnumerable,E_=(en,Vr,Wr)=>Vr in en?HS(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr,US=(en,Vr)=>{for(var Wr in Vr||(Vr={}))VS.call(Vr,Wr)&&E_(en,Wr,Vr[Wr]);if(D_)for(var Wr of D_(Vr))jS.call(Vr,Wr)&&E_(en,Wr,Vr[Wr]);return en};const T_="automatic",GS=/^(https?:)?\/\//;class WS extends yo{static get pluginName(){return"LinkEditing"}static get requires(){return[mb,cb,Zu]}constructor(Vr){super(Vr),Vr.config.define("link",{addTargetToExternalLinks:!1})}init(){const Vr=this.editor;Vr.model.schema.extend("$text",{allowAttributes:"linkHref"}),Vr.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:w_}),Vr.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(Zr,tn)=>w_(k_(Zr),tn)}),Vr.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:Zr=>Zr.getAttribute("href")}}),Vr.commands.add("link",new NS(Vr)),Vr.commands.add("unlink",new BS(Vr));const Wr=function(Zr,tn){const sn={"Open in a new tab":Zr("Open in a new tab"),Downloadable:Zr("Downloadable")};return tn.forEach(un=>("label"in un&&sn[un.label]&&(un.label=sn[un.label]),un)),tn}(Vr.t,function(Zr){const tn=[];if(Zr)for(const[sn,un]of Object.entries(Zr)){const fn=Object.assign({},un,{id:`link${LS(sn)}`});tn.push(fn)}return tn}(Vr.config.get("link.decorators")));this._enableAutomaticDecorators(Wr.filter(Zr=>Zr.mode===T_)),this._enableManualDecorators(Wr.filter(Zr=>Zr.mode==="manual")),Vr.plugins.get(mb).registerAttribute("linkHref"),function(Zr,tn,sn,un){const fn=Zr.editing.view,yn=new Set;fn.document.registerPostFixer(xn=>{const Dn=Zr.model.document.selection;let Mn=!1;if(Dn.hasAttribute(tn)){const Rn=Yh(Dn.getFirstPosition(),tn,Dn.getAttribute(tn),Zr.model),Un=Zr.editing.mapper.toViewRange(Rn);for(const Kn of Un.getItems())Kn.is("element",sn)&&!Kn.hasClass(un)&&(xn.addClass(un,Kn),yn.add(Kn),Mn=!0)}return Mn}),Zr.conversion.for("editingDowncast").add(xn=>{function Dn(){fn.change(Mn=>{for(const Rn of yn.values())Mn.removeClass(un,Rn),yn.delete(Rn)})}xn.on("insert",Dn,{priority:"highest"}),xn.on("remove",Dn,{priority:"highest"}),xn.on("attribute",Dn,{priority:"highest"}),xn.on("selection",Dn,{priority:"highest"})})}(Vr,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(Vr){const Wr=this.editor,Zr=Wr.commands.get("link").automaticDecorators;Wr.config.get("link.addTargetToExternalLinks")&&Zr.add({id:"linkIsExternal",mode:T_,callback:tn=>!!tn&&GS.test(tn),attributes:{target:"_blank",rel:"noopener noreferrer"}}),Zr.add(Vr),Zr.length&&Wr.conversion.for("downcast").add(Zr.getDispatcher())}_enableManualDecorators(Vr){if(!Vr.length)return;const Wr=this.editor,Zr=Wr.commands.get("link").manualDecorators;Vr.forEach(tn=>{Wr.model.schema.extend("$text",{allowAttributes:tn.id});const sn=new FS(tn);Zr.add(sn),Wr.conversion.for("downcast").attributeToElement({model:sn.id,view:(un,{writer:fn,schema:yn},{item:xn})=>{if((xn.is("selection")||yn.isInline(xn))&&un){const Dn=fn.createAttributeElement("a",sn.attributes,{priority:5});sn.classes&&fn.addClass(sn.classes,Dn);for(const Mn in sn.styles)fn.setStyle(Mn,sn.styles[Mn],Dn);return fn.setCustomProperty("link",!0,Dn),Dn}}}),Wr.conversion.for("upcast").elementToAttribute({view:US({name:"a"},sn._createPattern()),model:{key:sn.id}})})}_enableLinkOpen(){const Vr=this.editor,Wr=Vr.editing.view.document;this.listenTo(Wr,"click",(Zr,tn)=>{if(!(Qr.isMac?tn.domEvent.metaKey:tn.domEvent.ctrlKey))return;let sn=tn.domTarget;if(sn.tagName.toLowerCase()!="a"&&(sn=sn.closest("a")),!sn)return;const un=sn.getAttribute("href");un&&(Zr.stop(),tn.preventDefault(),C_(un))},{context:"$capture"}),this.listenTo(Wr,"keydown",(Zr,tn)=>{const sn=Vr.commands.get("link").value;sn&&tn.keyCode===Xa.enter&&tn.altKey&&(Zr.stop(),C_(sn))})}_enableInsertContentSelectionAttributesFixer(){const Vr=this.editor.model,Wr=Vr.document.selection;this.listenTo(Vr,"insertContent",()=>{const Zr=Wr.anchor.nodeBefore,tn=Wr.anchor.nodeAfter;Wr.hasAttribute("linkHref")&&Zr&&Zr.hasAttribute("linkHref")&&(tn&&tn.hasAttribute("linkHref")||Vr.change(sn=>{Em(sn,Tm(Vr.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const Vr=this.editor,Wr=Vr.model;Vr.editing.view.addObserver(jg);let Zr=!1;this.listenTo(Vr.editing.view.document,"mousedown",()=>{Zr=!0}),this.listenTo(Vr.editing.view.document,"selectionChange",()=>{if(!Zr)return;Zr=!1;const tn=Wr.document.selection;if(!tn.isCollapsed||!tn.hasAttribute("linkHref"))return;const sn=tn.getFirstPosition(),un=Yh(sn,"linkHref",tn.getAttribute("linkHref"),Wr);(sn.isTouching(un.start)||sn.isTouching(un.end))&&Wr.change(fn=>{Em(fn,Tm(Wr.schema))})})}_enableTypingOverLink(){const Vr=this.editor,Wr=Vr.editing.view;let Zr=null,tn=!1;this.listenTo(Wr.document,"delete",()=>{tn=!0},{priority:"high"}),this.listenTo(Vr.model,"deleteContent",()=>{const sn=Vr.model.document.selection;sn.isCollapsed||(tn?tn=!1:M_(Vr)&&function(un){const fn=un.document.selection,yn=fn.getFirstPosition(),xn=fn.getLastPosition(),Dn=yn.nodeAfter;if(!Dn||!Dn.is("$text")||!Dn.hasAttribute("linkHref"))return!1;const Mn=xn.textNode||xn.nodeBefore;return Dn===Mn?!0:Yh(yn,"linkHref",Dn.getAttribute("linkHref"),un).containsRange(un.createRange(yn,xn),!0)}(Vr.model)&&(Zr=sn.getAttributes()))},{priority:"high"}),this.listenTo(Vr.model,"insertContent",(sn,[un])=>{tn=!1,M_(Vr)&&Zr&&(Vr.model.change(fn=>{for(const[yn,xn]of Zr)fn.setAttribute(yn,xn,un)}),Zr=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const Vr=this.editor,Wr=Vr.model,Zr=Wr.document.selection,tn=Vr.editing.view;let sn=!1,un=!1;this.listenTo(tn.document,"delete",(fn,yn)=>{un=yn.direction==="backward"},{priority:"high"}),this.listenTo(Wr,"deleteContent",()=>{sn=!1;const fn=Zr.getFirstPosition(),yn=Zr.getAttribute("linkHref");if(!yn)return;const xn=Yh(fn,"linkHref",yn,Wr);sn=xn.containsPosition(fn)||xn.end.isEqual(fn)},{priority:"high"}),this.listenTo(Wr,"deleteContent",()=>{un&&(un=!1,sn||Vr.model.enqueueChange(fn=>{Em(fn,Tm(Wr.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const Vr=this.editor,Wr=Vr.model,Zr=this.editor.config.get("link.defaultProtocol");Zr&&this.listenTo(Vr.plugins.get("ClipboardPipeline"),"contentInsertion",(tn,sn)=>{Wr.change(un=>{const fn=un.createRangeIn(sn.content);for(const yn of fn.getItems())if(yn.hasAttribute("linkHref")){const xn=Dm(yn.getAttribute("linkHref"),Zr);un.setAttribute("linkHref",xn,yn)}})})}}function Em(en,Vr){en.removeSelectionAttribute("linkHref");for(const Wr of Vr)en.removeSelectionAttribute(Wr)}function M_(en){return en.model.change(Vr=>Vr.batch).isTyping}function Tm(en){return en.getDefinition("$text").allowAttributes.filter(Vr=>Vr.startsWith("link"))}var I_=Fr(7754),YS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(I_.Z,YS),I_.Z.locals;class qS extends is{constructor(Vr,Wr){super(Vr),this.focusTracker=new Ic,this.keystrokes=new tu,this._focusables=new zc;const Zr=Vr.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(Zr("Save"),Il.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Zr("Cancel"),Il.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(Wr),this.children=this._createFormChildren(Wr.manualDecorators),this._focusCycler=new sd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const tn=["ck","ck-link-form","ck-responsive-form"];Wr.manualDecorators.length&&tn.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:tn,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((Vr,Wr)=>(Vr[Wr.name]=Wr.isOn,Vr),{})}render(){super.render(),Gr({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(Vr=>{this._focusables.add(Vr),this.focusTracker.add(Vr.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const Vr=this.locale.t,Wr=new Cd(this.locale,qg);return Wr.label=Vr("Link URL"),Wr}_createButton(Vr,Wr,Zr,tn){const sn=new gs(this.locale);return sn.set({label:Vr,icon:Wr,tooltip:!0}),sn.extendTemplate({attributes:{class:Zr}}),tn&&sn.delegate("execute").to(this,tn),sn}_createManualDecoratorSwitches(Vr){const Wr=this.createCollection();for(const Zr of Vr.manualDecorators){const tn=new Ch(this.locale);tn.set({name:Zr.id,label:Zr.label,withText:!0}),tn.bind("isOn").toMany([Zr,Vr],"value",(sn,un)=>un===void 0&&sn===void 0?!!Zr.defaultValue:!!sn),tn.on("execute",()=>{Zr.set("value",!tn.isOn)}),Wr.add(tn)}return Wr}_createFormChildren(Vr){const Wr=this.createCollection();if(Wr.add(this.urlInputView),Vr.length){const Zr=new is;Zr.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(tn=>({tag:"li",children:[tn],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),Wr.add(Zr)}return Wr.add(this.saveButtonView),Wr.add(this.cancelButtonView),Wr}}var L_=Fr(2347),KS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(L_.Z,KS),L_.Z.locals;class ZS extends is{constructor(Vr){super(Vr),this.focusTracker=new Ic,this.keystrokes=new tu,this._focusables=new zc;const Wr=Vr.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(Wr("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(Wr("Edit link"),Il.pencil,"edit"),this.set("href",void 0),this._focusCycler=new sd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(Vr=>{this._focusables.add(Vr),this.focusTracker.add(Vr.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(Vr,Wr,Zr){const tn=new gs(this.locale);return tn.set({label:Vr,icon:Wr,tooltip:!0}),tn.delegate("execute").to(this,Zr),tn}_createPreviewButton(){const Vr=new gs(this.locale),Wr=this.bindTemplate,Zr=this.t;return Vr.set({withText:!0,tooltip:Zr("Open link in new tab")}),Vr.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:Wr.to("href",tn=>tn&&k_(tn)),target:"_blank",rel:"noopener noreferrer"}}),Vr.bind("label").to(this,"href",tn=>tn||Zr("This link has no URL")),Vr.bind("isEnabled").to(this,"href",tn=>!!tn),Vr.template.tag="a",Vr.template.eventListeners={},Vr}}const Xu="link-ui";class XS extends yo{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Wp]}static get pluginName(){return"LinkUI"}init(){const Vr=this.editor;Vr.editing.view.addObserver(Gk),this._balloon=Vr.plugins.get(Wp),this._createToolbarLinkButton(),this._enableBalloonActivators(),Vr.conversion.for("editingDowncast").markerToHighlight({model:Xu,view:{classes:["ck-fake-link-selection"]}}),Vr.conversion.for("editingDowncast").markerToElement({model:Xu,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const Vr=this.editor,Wr=new ZS(Vr.locale),Zr=Vr.commands.get("link"),tn=Vr.commands.get("unlink");return Wr.bind("href").to(Zr,"value"),Wr.editButtonView.bind("isEnabled").to(Zr),Wr.unlinkButtonView.bind("isEnabled").to(tn),this.listenTo(Wr,"edit",()=>{this._addFormView()}),this.listenTo(Wr,"unlink",()=>{Vr.execute("unlink"),this._hideUI()}),Wr.keystrokes.set("Esc",(sn,un)=>{this._hideUI(),un()}),Wr.keystrokes.set(xm,(sn,un)=>{this._addFormView(),un()}),Wr}_createFormView(){const Vr=this.editor,Wr=Vr.commands.get("link"),Zr=Vr.config.get("link.defaultProtocol"),tn=new(Ur(qS))(Vr.locale,Wr);return tn.urlInputView.fieldView.bind("value").to(Wr,"value"),tn.urlInputView.bind("isEnabled").to(Wr,"isEnabled"),tn.saveButtonView.bind("isEnabled").to(Wr),this.listenTo(tn,"submit",()=>{const{value:sn}=tn.urlInputView.fieldView.element,un=Dm(sn,Zr);Vr.execute("link",un,tn.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(tn,"cancel",()=>{this._closeFormView()}),tn.keystrokes.set("Esc",(sn,un)=>{this._closeFormView(),un()}),tn}_createToolbarLinkButton(){const Vr=this.editor,Wr=Vr.commands.get("link"),Zr=Vr.t;Vr.ui.componentFactory.add("link",tn=>{const sn=new gs(tn);return sn.isEnabled=!0,sn.label=Zr("Link"),sn.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',sn.keystroke=xm,sn.tooltip=!0,sn.isToggleable=!0,sn.bind("isEnabled").to(Wr,"isEnabled"),sn.bind("isOn").to(Wr,"value",un=>!!un),this.listenTo(sn,"execute",()=>this._showUI(!0)),sn})}_enableBalloonActivators(){const Vr=this.editor,Wr=Vr.editing.view.document;this.listenTo(Wr,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),Vr.keystrokes.set(xm,(Zr,tn)=>{tn(),Vr.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(Vr,Wr)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),Wr())},{priority:"high"}),this.editor.keystrokes.set("Esc",(Vr,Wr)=>{this._isUIVisible&&(this._hideUI(),Wr())}),jr({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const Vr=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=Vr.value||""}_closeFormView(){const Vr=this.editor.commands.get("link");Vr.restoreManualDecoratorStates(),Vr.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(Vr=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),Vr&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),Vr&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const Vr=this.editor;this.stopListening(Vr.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),Vr.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const Vr=this.editor,Wr=Vr.editing.view.document;let Zr=this._getSelectedLinkElement(),tn=un();const sn=()=>{const fn=this._getSelectedLinkElement(),yn=un();Zr&&!fn||!Zr&&yn!==tn?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),Zr=fn,tn=yn};function un(){return Wr.selection.focus.getAncestors().reverse().find(fn=>fn.is("element"))}this.listenTo(Vr.ui,"update",sn),this.listenTo(this._balloon,"change:visibleView",sn)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const Vr=this._balloon.visibleView;return!!this.formView&&Vr==this.formView||this._areActionsVisible}_getBalloonPositionData(){const Vr=this.editor.editing.view,Wr=this.editor.model,Zr=Vr.document;let tn;if(Wr.markers.has(Xu)){const sn=Array.from(this.editor.editing.mapper.markerNameToElements(Xu)),un=Vr.createRange(Vr.createPositionBefore(sn[0]),Vr.createPositionAfter(sn[sn.length-1]));tn=Vr.domConverter.viewRangeToDom(un)}else tn=()=>{const sn=this._getSelectedLinkElement();return sn?Vr.domConverter.mapViewToDom(sn):Vr.domConverter.viewRangeToDom(Zr.selection.getFirstRange())};return{target:tn}}_getSelectedLinkElement(){const Vr=this.editor.editing.view,Wr=Vr.document.selection,Zr=Wr.getSelectedElement();if(Wr.isCollapsed||Zr&&pl(Zr))return Mm(Wr.getFirstPosition());{const tn=Wr.getFirstRange().getTrimmed(),sn=Mm(tn.start),un=Mm(tn.end);return sn&&sn==un&&Vr.createRangeIn(sn).getTrimmed().isEqual(tn)?sn:null}}_showFakeVisualSelection(){const Vr=this.editor.model;Vr.change(Wr=>{const Zr=Vr.document.selection.getFirstRange();if(Vr.markers.has(Xu))Wr.updateMarker(Xu,{range:Zr});else if(Zr.start.isAtEnd){const tn=Zr.start.getLastMatchingPosition(({item:sn})=>!Vr.schema.isContent(sn),{boundaries:Zr});Wr.addMarker(Xu,{usingOperation:!1,affectsData:!1,range:Wr.createRange(tn,Zr.end)})}else Wr.addMarker(Xu,{usingOperation:!1,affectsData:!1,range:Zr})})}_hideFakeVisualSelection(){const Vr=this.editor.model;Vr.markers.has(Xu)&&Vr.change(Wr=>{Wr.removeMarker(Xu)})}}function Mm(en){return en.getAncestors().find(Vr=>{return(Wr=Vr).is("attributeElement")&&!!Wr.getCustomProperty("link");var Wr})||null}const QS=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class JS extends yo{static get requires(){return[vd]}static get pluginName(){return"AutoLink"}init(){const Vr=this.editor.model.document.selection;Vr.on("change:range",()=>{this.isEnabled=!Vr.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const Vr=this.editor,Wr=new gb(Vr.model,Zr=>{if(!function(sn){return sn.length>4&&sn[sn.length-1]===" "&&sn[sn.length-2]!==" "}(Zr))return;const tn=P_(Zr.substr(0,Zr.length-1));return tn?{url:tn}:void 0});Wr.on("matched:data",(Zr,tn)=>{const{batch:sn,range:un,url:fn}=tn;if(!sn.isTyping)return;const yn=un.end.getShiftedBy(-1),xn=yn.getShiftedBy(-fn.length),Dn=Vr.model.createRange(xn,yn);this._applyAutoLink(fn,Dn)}),Wr.bind("isEnabled").to(this)}_enableEnterHandling(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.commands.get("enter");Zr&&Zr.on("execute",()=>{const tn=Wr.document.selection.getFirstPosition();if(!tn.parent.previousSibling)return;const sn=Wr.createRangeIn(tn.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(sn)})}_enableShiftEnterHandling(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.commands.get("shiftEnter");Zr&&Zr.on("execute",()=>{const tn=Wr.document.selection.getFirstPosition(),sn=Wr.createRange(Wr.createPositionAt(tn.parent,0),tn.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(sn)})}_checkAndApplyAutoLinkOnRange(Vr){const Wr=this.editor.model,{text:Zr,range:tn}=pb(Vr,Wr),sn=P_(Zr);if(sn){const un=Wr.createRange(tn.end.getShiftedBy(-sn.length),tn.end);this._applyAutoLink(sn,un)}}_applyAutoLink(Vr,Wr){const Zr=this.editor.model,tn=Dm(Vr,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(sn,un){return un.schema.checkAttributeInSelection(un.createSelection(sn),"linkHref")}(Wr,Zr)&&A_(tn)&&!function(sn){const un=sn.start.nodeAfter;return!!un&&un.hasAttribute("linkHref")}(Wr)&&this._persistAutoLink(tn,Wr)}_persistAutoLink(Vr,Wr){const Zr=this.editor.model,tn=this.editor.plugins.get("Delete");Zr.enqueueChange(sn=>{sn.setAttribute("linkHref",Vr,Wr),Zr.enqueueChange(()=>{tn.requestUndoOnBackspace()})})}}function P_(en){const Vr=QS.exec(en);return Vr?Vr[2]:null}var O_=Fr(111),eD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(O_.Z,eD),O_.Z.locals;var R_=Fr(5730),tD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(R_.Z,tD),R_.Z.locals;var $_=Fr(4564),rD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()($_.Z,rD),$_.Z.locals;function nD(en,Vr){const Wr=Vr.mapper,Zr=Vr.writer,tn=en.getAttribute("listType")=="numbered"?"ol":"ul",sn=function(fn){const yn=fn.createContainerElement("li");return yn.getFillerOffset=aD,yn}(Zr),un=Zr.createContainerElement(tn,null);return Zr.insert(Zr.createPositionAt(un,0),sn),Wr.bindElements(en,sn),sn}function N_(en,Vr,Wr,Zr){const tn=Vr.parent,sn=Wr.mapper,un=Wr.writer;let fn=sn.toViewPosition(Zr.createPositionBefore(en));const yn=F_(en.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:en.getAttribute("listIndent")}),xn=en.previousSibling;if(yn&&yn.getAttribute("listIndent")==en.getAttribute("listIndent")){const Dn=sn.toViewElement(yn);fn=un.breakContainer(un.createPositionAfter(Dn))}else if(xn&&xn.name=="listItem"){fn=sn.toViewPosition(Zr.createPositionAt(xn,"end"));const Dn=sn.findMappedViewAncestor(fn),Mn=function(Rn){for(const Un of Rn.getChildren())if(Un.name=="ul"||Un.name=="ol")return Un;return null}(Dn);fn=Mn?un.createPositionBefore(Mn):un.createPositionAt(Dn,"end")}else fn=sn.toViewPosition(Zr.createPositionBefore(en));if(fn=B_(fn),un.insert(fn,tn),xn&&xn.name=="listItem"){const Dn=sn.toViewElement(xn),Mn=un.createRange(un.createPositionAt(Dn,0),fn).getWalker({ignoreElementEnd:!0});for(const Rn of Mn)if(Rn.item.is("element","li")){const Un=un.breakContainer(un.createPositionBefore(Rn.item)),Kn=Rn.item.parent,ti=un.createPositionAt(Vr,"end");hu(un,ti.nodeBefore,ti.nodeAfter),un.move(un.createRangeOn(Kn),ti),Mn._position=Un}}else{const Dn=tn.nextSibling;if(Dn&&(Dn.is("element","ul")||Dn.is("element","ol"))){let Mn=null;for(const Rn of Dn.getChildren()){const Un=sn.toModelElement(Rn);if(!(Un&&Un.getAttribute("listIndent")>en.getAttribute("listIndent")))break;Mn=Rn}Mn&&(un.breakContainer(un.createPositionAfter(Mn)),un.move(un.createRangeOn(Mn.parent),un.createPositionAt(Vr,"end")))}}hu(un,tn,tn.nextSibling),hu(un,tn.previousSibling,tn)}function hu(en,Vr,Wr){return!Vr||!Wr||Vr.name!="ul"&&Vr.name!="ol"||Vr.name!=Wr.name||Vr.getAttribute("class")!==Wr.getAttribute("class")?null:en.mergeContainers(en.createPositionAfter(Vr))}function B_(en){return en.getLastMatchingPosition(Vr=>Vr.item.is("uiElement"))}function F_(en,Vr){const Wr=!!Vr.sameIndent,Zr=!!Vr.smallerIndent,tn=Vr.listIndent;let sn=en;for(;sn&&sn.name=="listItem";){const un=sn.getAttribute("listIndent");if(Wr&&tn==un||Zr&&tn>un)return sn;sn=Vr.direction==="forward"?sn.nextSibling:sn.previousSibling}return null}function z_(en,Vr,Wr,Zr){en.ui.componentFactory.add(Vr,tn=>{const sn=en.commands.get(Vr),un=new gs(tn);return un.set({label:Wr,icon:Zr,tooltip:!0,isToggleable:!0}),un.bind("isOn","isEnabled").to(sn,"value","isEnabled"),un.on("execute",()=>{en.execute(Vr),en.editing.view.focus()}),un})}function Im(en,Vr){const Wr=[],Zr=en.parent,tn={ignoreElementEnd:!1,startPosition:en,shallow:!0,direction:Vr},sn=Zr.getAttribute("listIndent"),un=[...new qu(tn)].filter(fn=>fn.item.is("element")).map(fn=>fn.item);for(const fn of un){if(!fn.is("element","listItem")||fn.getAttribute("listIndent")<sn)break;if(!(fn.getAttribute("listIndent")>sn)){if(fn.getAttribute("listType")!==Zr.getAttribute("listType")||fn.getAttribute("listStyle")!==Zr.getAttribute("listStyle")||fn.getAttribute("listReversed")!==Zr.getAttribute("listReversed")||fn.getAttribute("listStart")!==Zr.getAttribute("listStart"))break;Vr==="backward"?Wr.unshift(fn):Wr.push(fn)}}return Wr}const iD=["disc","circle","square"],oD=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function aD(){const en=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||en?0:Sp.call(this)}class sD extends yo{static get pluginName(){return"ListUI"}init(){const Vr=this.editor.t;z_(this.editor,"numberedList",Vr("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),z_(this.editor,"bulletedList",Vr("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const lD=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:en,typeAttribute:Vr,listType:Wr}of lD);var H_=Fr(4721),cD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(H_.Z,cD),H_.Z.locals;var V_=Fr(6082),uD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(V_.Z,uD),V_.Z.locals;var j_=Fr(2417),dD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(j_.Z,dD),j_.Z.locals;class U_ extends Wa{constructor(Vr,Wr){super(Vr),this._indentBy=Wr=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const Vr=this.editor.model,Wr=Vr.document;let Zr=Array.from(Wr.selection.getSelectedBlocks());Vr.change(tn=>{const sn=Zr[Zr.length-1];let un=sn.nextSibling;for(;un&&un.name=="listItem"&&un.getAttribute("listIndent")>sn.getAttribute("listIndent");)Zr.push(un),un=un.nextSibling;this._indentBy<0&&(Zr=Zr.reverse());for(const fn of Zr){const yn=fn.getAttribute("listIndent")+this._indentBy;yn<0?tn.rename(fn,"paragraph"):tn.setAttribute("listIndent",yn,fn)}this.fire("_executeCleanup",Zr)})}_checkEnabled(){const Vr=_l(this.editor.model.document.selection.getSelectedBlocks());if(!Vr||!Vr.is("element","listItem"))return!1;if(this._indentBy>0){const Wr=Vr.getAttribute("listIndent"),Zr=Vr.getAttribute("listType");let tn=Vr.previousSibling;for(;tn&&tn.is("element","listItem")&&tn.getAttribute("listIndent")>=Wr;){if(tn.getAttribute("listIndent")==Wr)return tn.getAttribute("listType")==Zr;tn=tn.previousSibling}return!1}return!0}}class G_ extends Wa{constructor(Vr,Wr){super(Vr),this.type=Wr}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(Vr={}){const Wr=this.editor.model,Zr=Wr.document,tn=Array.from(Zr.selection.getSelectedBlocks()).filter(un=>Y_(un,Wr.schema)),sn=Vr.forceValue!==void 0?!Vr.forceValue:this.value;Wr.change(un=>{if(sn){let fn=tn[tn.length-1].nextSibling,yn=Number.POSITIVE_INFINITY,xn=[];for(;fn&&fn.name=="listItem"&&fn.getAttribute("listIndent")!==0;){const Dn=fn.getAttribute("listIndent");Dn<yn&&(yn=Dn);const Mn=Dn-yn;xn.push({element:fn,listIndent:Mn}),fn=fn.nextSibling}xn=xn.reverse();for(const Dn of xn)un.setAttribute("listIndent",Dn.listIndent,Dn.element)}if(!sn){let fn=Number.POSITIVE_INFINITY;for(const yn of tn)yn.is("element","listItem")&&yn.getAttribute("listIndent")<fn&&(fn=yn.getAttribute("listIndent"));fn=fn===0?1:fn,W_(tn,!0,fn),W_(tn,!1,fn)}for(const fn of tn.reverse())sn&&fn.name=="listItem"?un.rename(fn,"paragraph"):sn||fn.name=="listItem"?sn||fn.name!="listItem"||fn.getAttribute("listType")==this.type||un.setAttribute("listType",this.type,fn):(un.setAttributes({listType:this.type,listIndent:0},fn),un.rename(fn,"listItem"));this.fire("_executeCleanup",tn)})}_getValue(){const Vr=_l(this.editor.model.document.selection.getSelectedBlocks());return!!Vr&&Vr.is("element","listItem")&&Vr.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const Vr=this.editor.model.document.selection,Wr=this.editor.model.schema,Zr=_l(Vr.getSelectedBlocks());return!!Zr&&Y_(Zr,Wr)}}function W_(en,Vr,Wr){const Zr=Vr?en[0]:en[en.length-1];if(Zr.is("element","listItem")){let tn=Zr[Vr?"previousSibling":"nextSibling"],sn=Zr.getAttribute("listIndent");for(;tn&&tn.is("element","listItem")&&tn.getAttribute("listIndent")>=Wr;)sn>tn.getAttribute("listIndent")&&(sn=tn.getAttribute("listIndent")),tn.getAttribute("listIndent")==sn&&en[Vr?"unshift":"push"](tn),tn=tn[Vr?"previousSibling":"nextSibling"]}}function Y_(en,Vr){return Vr.checkChild(en.parent,"listItem")&&!Vr.isObject(en)}class hD extends yo{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(Vr){return function(Wr){return iD.includes(Wr)?"bulleted":oD.includes(Wr)?"numbered":null}(Vr)}getSelectedListItems(Vr){return function(Wr){let Zr=[...Wr.document.selection.getSelectedBlocks()].filter(tn=>tn.is("element","listItem")).map(tn=>{const sn=Wr.change(un=>un.createPositionAt(tn,0));return[...Im(sn,"backward"),...Im(sn,"forward")]}).flat();return Zr=[...new Set(Zr)],Zr}(Vr)}getSiblingNodes(Vr,Wr){return Im(Vr,Wr)}}function q_(en){return(Vr,Wr,Zr)=>{const tn=Zr.consumable;if(!tn.test(Wr.item,"insert")||!tn.test(Wr.item,"attribute:listType")||!tn.test(Wr.item,"attribute:listIndent"))return;tn.consume(Wr.item,"insert"),tn.consume(Wr.item,"attribute:listType"),tn.consume(Wr.item,"attribute:listIndent");const sn=Wr.item;N_(sn,nD(sn,Zr),Zr,en)}}const fD=(en,Vr,Wr)=>{if(!Wr.consumable.test(Vr.item,en.name))return;const Zr=Wr.mapper.toViewElement(Vr.item),tn=Wr.writer;tn.breakContainer(tn.createPositionBefore(Zr)),tn.breakContainer(tn.createPositionAfter(Zr));const sn=Zr.parent,un=Vr.attributeNewValue=="numbered"?"ol":"ul";tn.rename(un,sn)},pD=(en,Vr,Wr)=>{Wr.consumable.consume(Vr.item,en.name);const Zr=Wr.mapper.toViewElement(Vr.item).parent,tn=Wr.writer;hu(tn,Zr,Zr.nextSibling),hu(tn,Zr.previousSibling,Zr)},K_=(en,Vr,Wr)=>{if(Wr.consumable.test(Vr.item,en.name)&&Vr.item.name!="listItem"){let Zr=Wr.mapper.toViewPosition(Vr.range.start);const tn=Wr.writer,sn=[];for(;(Zr.parent.name=="ul"||Zr.parent.name=="ol")&&(Zr=tn.breakContainer(Zr),Zr.parent.name=="li");){const un=Zr,fn=tn.createPositionAt(Zr.parent,"end");if(!un.isEqual(fn)){const yn=tn.remove(tn.createRange(un,fn));sn.push(yn)}Zr=tn.createPositionAfter(Zr.parent)}if(sn.length>0){for(let un=0;un<sn.length;un++){const fn=Zr.nodeBefore;if(Zr=tn.insert(Zr,sn[un]).end,un>0){const yn=hu(tn,fn,fn.nextSibling);yn&&yn.parent==fn&&Zr.offset--}}hu(tn,Zr.nodeBefore,Zr.nodeAfter)}}},gD=(en,Vr,Wr)=>{const Zr=Wr.mapper.toViewPosition(Vr.position),tn=Zr.nodeBefore,sn=Zr.nodeAfter;hu(Wr.writer,tn,sn)},mD=(en,Vr,Wr)=>{if(Wr.consumable.consume(Vr.viewItem,{name:!0})){const Zr=Wr.writer,tn=Zr.createElement("listItem"),sn=function(yn){let xn=0,Dn=yn.parent;for(;Dn;){if(Dn.is("element","li"))xn++;else{const Mn=Dn.previousSibling;Mn&&Mn.is("element","li")&&xn++}Dn=Dn.parent}return xn}(Vr.viewItem);Zr.setAttribute("listIndent",sn,tn);const un=Vr.viewItem.parent&&Vr.viewItem.parent.name=="ol"?"numbered":"bulleted";if(Zr.setAttribute("listType",un,tn),!Wr.safeInsert(tn,Vr.modelCursor))return;const fn=function(yn,xn,Dn){const{writer:Mn,schema:Rn}=Dn;let Un=Mn.createPositionAfter(yn);for(const Kn of xn)if(Kn.name=="ul"||Kn.name=="ol")Un=Dn.convertItem(Kn,Un).modelCursor;else{const ti=Dn.convertItem(Kn,Mn.createPositionAt(yn,"end")),si=ti.modelRange.start.nodeAfter;si&&si.is("element")&&!Rn.checkChild(yn,si.name)&&(yn=ti.modelCursor.parent.is("element","listItem")?ti.modelCursor.parent:bD(ti.modelCursor),Un=Mn.createPositionAfter(yn))}return Un}(tn,Vr.viewItem.getChildren(),Wr);Vr.modelRange=Zr.createRange(Vr.modelCursor,fn),Wr.updateConversionResult(tn,Vr)}},Z_=(en,Vr,Wr)=>{if(Wr.consumable.test(Vr.viewItem,{name:!0})){const Zr=Array.from(Vr.viewItem.getChildren());for(const tn of Zr)!(tn.is("element","li")||Xh(tn))&&tn._remove()}},vD=(en,Vr,Wr)=>{if(Wr.consumable.test(Vr.viewItem,{name:!0})){if(Vr.viewItem.childCount===0)return;const Zr=[...Vr.viewItem.getChildren()];let tn=!1;for(const sn of Zr)tn&&!Xh(sn)&&sn._remove(),Xh(sn)&&(tn=!0)}};function X_(en){return(Vr,Wr)=>{if(Wr.isPhantom)return;const Zr=Wr.modelPosition.nodeBefore;if(Zr&&Zr.is("element","listItem")){const tn=Wr.mapper.toViewElement(Zr),sn=tn.getAncestors().find(Xh),un=en.createPositionAt(tn,0).getWalker();for(const fn of un){if(fn.type=="elementStart"&&fn.item.is("element","li")){Wr.viewPosition=fn.previousPosition;break}if(fn.type=="elementEnd"&&fn.item==sn){Wr.viewPosition=fn.nextPosition;break}}}}}const yD=function(en,[Vr,Wr]){const Zr=this;let tn,sn=Vr.is("documentFragment")?Vr.getChild(0):Vr;if(tn=Wr?Zr.createSelection(Wr):Zr.document.selection,sn&&sn.is("element","listItem")){const un=tn.getFirstPosition();let fn=null;if(un.parent.is("element","listItem")?fn=un.parent:un.nodeBefore&&un.nodeBefore.is("element","listItem")&&(fn=un.nodeBefore),fn){const yn=fn.getAttribute("listIndent");if(yn>0)for(;sn&&sn.is("element","listItem");)sn._setAttribute("listIndent",sn.getAttribute("listIndent")+yn),sn=sn.nextSibling}}};function bD(en){const Vr=new qu({startPosition:en});let Wr;do Wr=Vr.next();while(!Wr.value.item.is("element","listItem"));return Wr.value.item}function Q_(en,Vr,Wr,Zr,tn,sn){const un=F_(Vr.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:en}),fn=tn.mapper,yn=tn.writer,xn=un?un.getAttribute("listIndent"):null;let Dn;if(un)if(xn==en){const Mn=fn.toViewElement(un).parent;Dn=yn.createPositionAfter(Mn)}else{const Mn=sn.createPositionAt(un,"end");Dn=fn.toViewPosition(Mn)}else Dn=Wr;Dn=B_(Dn);for(const Mn of[...Zr.getChildren()])Xh(Mn)&&(Dn=yn.move(yn.createRangeOn(Mn),Dn).end,hu(yn,Mn,Mn.nextSibling),hu(yn,Mn.previousSibling,Mn))}function Xh(en){return en.is("element","ol")||en.is("element","ul")}class _D extends yo{static get pluginName(){return"ListEditing"}static get requires(){return[Xp,vd,hD]}init(){const Vr=this.editor;Vr.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const Wr=Vr.data,Zr=Vr.editing;var tn;Vr.model.document.registerPostFixer(un=>function(fn,yn){const xn=fn.document.differ.getChanges(),Dn=new Map;let Mn=!1;for(const ti of xn)if(ti.type=="insert"&&ti.name=="listItem")Rn(ti.position);else if(ti.type=="insert"&&ti.name!="listItem"){if(ti.name!="$text"){const si=ti.position.nodeAfter;si.hasAttribute("listIndent")&&(yn.removeAttribute("listIndent",si),Mn=!0),si.hasAttribute("listType")&&(yn.removeAttribute("listType",si),Mn=!0),si.hasAttribute("listStyle")&&(yn.removeAttribute("listStyle",si),Mn=!0),si.hasAttribute("listReversed")&&(yn.removeAttribute("listReversed",si),Mn=!0),si.hasAttribute("listStart")&&(yn.removeAttribute("listStart",si),Mn=!0);for(const fi of Array.from(fn.createRangeIn(si)).filter(Li=>Li.item.is("element","listItem")))Rn(fi.previousPosition)}Rn(ti.position.getShiftedBy(ti.length))}else ti.type=="remove"&&ti.name=="listItem"?Rn(ti.position):(ti.type=="attribute"&&ti.attributeKey=="listIndent"||ti.type=="attribute"&&ti.attributeKey=="listType")&&Rn(ti.range.start);for(const ti of Dn.values())Un(ti),Kn(ti);return Mn;function Rn(ti){const si=ti.nodeBefore;if(si&&si.is("element","listItem")){let fi=si;if(Dn.has(fi))return;for(let Li=fi.previousSibling;Li&&Li.is("element","listItem");Li=fi.previousSibling)if(fi=Li,Dn.has(fi))return;Dn.set(si,fi)}else{const fi=ti.nodeAfter;fi&&fi.is("element","listItem")&&Dn.set(fi,fi)}}function Un(ti){let si=0,fi=null;for(;ti&&ti.is("element","listItem");){const Li=ti.getAttribute("listIndent");if(Li>si){let eo;fi===null?(fi=Li-si,eo=si):(fi>Li&&(fi=Li),eo=Li-fi),yn.setAttribute("listIndent",eo,ti),Mn=!0}else fi=null,si=ti.getAttribute("listIndent")+1;ti=ti.nextSibling}}function Kn(ti){let si=[],fi=null;for(;ti&&ti.is("element","listItem");){const Li=ti.getAttribute("listIndent");if(fi&&fi.getAttribute("listIndent")>Li&&(si=si.slice(0,Li+1)),Li!=0)if(si[Li]){const eo=si[Li];ti.getAttribute("listType")!=eo&&(yn.setAttribute("listType",eo,ti),Mn=!0)}else si[Li]=ti.getAttribute("listType");fi=ti,ti=ti.nextSibling}}}(Vr.model,un)),Zr.mapper.registerViewToModelLength("li",Lm),Wr.mapper.registerViewToModelLength("li",Lm),Zr.mapper.on("modelToViewPosition",X_(Zr.view)),Zr.mapper.on("viewToModelPosition",(tn=Vr.model,(un,fn)=>{const yn=fn.viewPosition,xn=yn.parent,Dn=fn.mapper;if(xn.name=="ul"||xn.name=="ol"){if(yn.isAtEnd){const Mn=Dn.toModelElement(yn.nodeBefore),Rn=Dn.getModelLength(yn.nodeBefore);fn.modelPosition=tn.createPositionBefore(Mn).getShiftedBy(Rn)}else{const Mn=Dn.toModelElement(yn.nodeAfter);fn.modelPosition=tn.createPositionBefore(Mn)}un.stop()}else if(xn.name=="li"&&yn.nodeBefore&&(yn.nodeBefore.name=="ul"||yn.nodeBefore.name=="ol")){const Mn=Dn.toModelElement(xn);let Rn=1,Un=yn.nodeBefore;for(;Un&&Xh(Un);)Rn+=Dn.getModelLength(Un),Un=Un.previousSibling;fn.modelPosition=tn.createPositionBefore(Mn).getShiftedBy(Rn),un.stop()}})),Wr.mapper.on("modelToViewPosition",X_(Zr.view)),Vr.conversion.for("editingDowncast").add(un=>{un.on("insert",K_,{priority:"high"}),un.on("insert:listItem",q_(Vr.model)),un.on("attribute:listType:listItem",fD,{priority:"high"}),un.on("attribute:listType:listItem",pD,{priority:"low"}),un.on("attribute:listIndent:listItem",function(fn){return(yn,xn,Dn)=>{if(!Dn.consumable.consume(xn.item,"attribute:listIndent"))return;const Mn=Dn.mapper.toViewElement(xn.item),Rn=Dn.writer;Rn.breakContainer(Rn.createPositionBefore(Mn)),Rn.breakContainer(Rn.createPositionAfter(Mn));const Un=Mn.parent,Kn=Un.previousSibling,ti=Rn.createRangeOn(Un);Rn.remove(ti),Kn&&Kn.nextSibling&&hu(Rn,Kn,Kn.nextSibling),Q_(xn.attributeOldValue+1,xn.range.start,ti.start,Mn,Dn,fn),N_(xn.item,Mn,Dn,fn);for(const si of xn.item.getChildren())Dn.consumable.consume(si,"insert")}}(Vr.model)),un.on("remove:listItem",function(fn){return(yn,xn,Dn)=>{const Mn=Dn.mapper.toViewPosition(xn.position).getLastMatchingPosition(fi=>!fi.item.is("element","li")).nodeAfter,Rn=Dn.writer;Rn.breakContainer(Rn.createPositionBefore(Mn)),Rn.breakContainer(Rn.createPositionAfter(Mn));const Un=Mn.parent,Kn=Un.previousSibling,ti=Rn.createRangeOn(Un),si=Rn.remove(ti);Kn&&Kn.nextSibling&&hu(Rn,Kn,Kn.nextSibling),Q_(Dn.mapper.toModelElement(Mn).getAttribute("listIndent")+1,xn.position,ti.start,Mn,Dn,fn);for(const fi of Rn.createRangeIn(si).getItems())Dn.mapper.unbindViewElement(fi);yn.stop()}}(Vr.model)),un.on("remove",gD,{priority:"low"})}),Vr.conversion.for("dataDowncast").add(un=>{un.on("insert",K_,{priority:"high"}),un.on("insert:listItem",q_(Vr.model))}),Vr.conversion.for("upcast").add(un=>{un.on("element:ul",Z_,{priority:"high"}),un.on("element:ol",Z_,{priority:"high"}),un.on("element:li",vD,{priority:"high"}),un.on("element:li",mD)}),Vr.model.on("insertContent",yD,{priority:"high"}),Vr.commands.add("numberedList",new G_(Vr,"numbered")),Vr.commands.add("bulletedList",new G_(Vr,"bulleted")),Vr.commands.add("indentList",new U_(Vr,"forward")),Vr.commands.add("outdentList",new U_(Vr,"backward"));const sn=Zr.view.document;this.listenTo(sn,"enter",(un,fn)=>{const yn=this.editor.model.document,xn=yn.selection.getLastPosition().parent;yn.selection.isCollapsed&&xn.name=="listItem"&&xn.isEmpty&&(this.editor.execute("outdentList"),fn.preventDefault(),un.stop())},{context:"li"}),this.listenTo(sn,"delete",(un,fn)=>{if(fn.direction!=="backward")return;const yn=this.editor.model.document.selection;if(!yn.isCollapsed)return;const xn=yn.getFirstPosition();if(!xn.isAtStart)return;const Dn=xn.parent;Dn.name==="listItem"&&(Dn.previousSibling&&Dn.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),fn.preventDefault(),un.stop()))},{context:"li"}),this.listenTo(Vr.editing.view.document,"tab",(un,fn)=>{const yn=fn.shiftKey?"outdentList":"indentList";this.editor.commands.get(yn).isEnabled&&(Vr.execute(yn),fn.stopPropagation(),fn.preventDefault(),un.stop())},{context:"li"})}afterInit(){const Vr=this.editor.commands,Wr=Vr.get("indent"),Zr=Vr.get("outdent");Wr&&Wr.registerChildCommand(Vr.get("indentList")),Zr&&Zr.registerChildCommand(Vr.get("outdentList"))}}function Lm(en){let Vr=1;for(const Wr of en.getChildren())if(Wr.name=="ul"||Wr.name=="ol")for(const Zr of Wr.getChildren())Vr+=Lm(Zr);return Vr}Gd("Ctrl+Enter");var J_=Fr(1199),wD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(J_.Z,wD),J_.Z.locals;function ew(en,Vr){const Wr=(Zr,tn,sn)=>{if(!sn.consumable.consume(tn.item,Zr.name))return;const un=tn.attributeNewValue,fn=sn.writer,yn=sn.mapper.toViewElement(tn.item),xn=[...yn.getChildren()].find(Mn=>Mn.getCustomProperty("media-content"));fn.remove(xn);const Dn=en.getMediaViewElement(fn,un,Vr);fn.insert(fn.createPositionAt(yn,0),Dn)};return Zr=>{Zr.on("attribute:url:media",Wr)}}function tw(en,Vr,Wr,Zr){return en.createContainerElement("figure",{class:"media"},[Vr.getMediaViewElement(en,Wr,Zr),en.createSlot()])}function rw(en){const Vr=en.getSelectedElement();return Vr&&Vr.is("element","media")?Vr:null}function nw(en,Vr,Wr,Zr){en.change(tn=>{const sn=tn.createElement("media",{url:Vr});en.insertObject(sn,Wr,null,{setSelection:"on",findOptimalPosition:Zr?"auto":void 0})})}class kD extends Wa{refresh(){const Vr=this.editor.model,Wr=Vr.document.selection,Zr=rw(Wr);this.value=Zr?Zr.getAttribute("url"):void 0,this.isEnabled=function(tn){const sn=tn.getSelectedElement();return!!sn&&sn.name==="media"}(Wr)||function(tn,sn){let fn=Tb(tn,sn).start.parent;return fn.isEmpty&&!sn.schema.isLimit(fn)&&(fn=fn.parent),sn.schema.checkChild(fn,"media")}(Wr,Vr)}execute(Vr){const Wr=this.editor.model,Zr=Wr.document.selection,tn=rw(Zr);tn?Wr.change(sn=>{sn.setAttribute("url",Vr,tn)}):nw(Wr,Vr,Zr,!0)}}class AD{constructor(Vr,Wr){const Zr=Wr.providers,tn=Wr.extraProviders||[],sn=new Set(Wr.removeProviders),un=Zr.concat(tn).filter(fn=>{const yn=fn.name;return yn?!sn.has(yn):(En("media-embed-no-provider-name",{provider:fn}),!1)});this.locale=Vr,this.providerDefinitions=un}hasMedia(Vr){return!!this._getMedia(Vr)}getMediaViewElement(Vr,Wr,Zr){return this._getMedia(Wr).getViewElement(Vr,Zr)}_getMedia(Vr){if(!Vr)return new iw(this.locale);Vr=Vr.trim();for(const Wr of this.providerDefinitions){const Zr=Wr.html,tn=Nl(Wr.url);for(const sn of tn){const un=this._getUrlMatches(Vr,sn);if(un)return new iw(this.locale,Vr,un,Zr)}}return null}_getUrlMatches(Vr,Wr){let Zr=Vr.match(Wr);if(Zr)return Zr;let tn=Vr.replace(/^https?:\/\//,"");return Zr=tn.match(Wr),Zr||(tn=tn.replace(/^www\./,""),Zr=tn.match(Wr),Zr||null)}}class iw{constructor(Vr,Wr,Zr,tn){this.url=this._getValidUrl(Wr),this._locale=Vr,this._match=Zr,this._previewRenderer=tn}getViewElement(Vr,Wr){const Zr={};let tn;if(Wr.renderForEditingView||Wr.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(Zr["data-oembed-url"]=this.url),Wr.renderForEditingView&&(Zr.class="ck-media__wrapper");const sn=this._getPreviewHtml(Wr);tn=Vr.createRawElement("div",Zr,(un,fn)=>{fn.setContentOf(un,sn)})}else this.url&&(Zr.url=this.url),tn=Vr.createEmptyElement(Wr.elementName,Zr);return Vr.setCustomProperty("media-content",!0,tn),tn}_getPreviewHtml(Vr){return this._previewRenderer?this._previewRenderer(this._match):this.url&&Vr.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const Vr=new iu,Wr=this._locale.t;return Vr.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',Vr.viewBox="0 0 64 42",new Cc({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[Vr]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":Wr("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(Vr){return Vr?Vr.match(/^https?/)?Vr:"https://"+Vr:null}}var ow=Fr(7442),CD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(ow.Z,CD),ow.Z.locals;class og extends yo{constructor(Vr){super(Vr),Vr.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:Wr=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${Wr[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:Wr=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${Wr[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:Wr=>{const Zr=Wr[1],tn=Wr[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${Zr}${tn?`?start=${tn}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:Wr=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${Wr[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new AD(Vr.locale,Vr.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const Vr=this.editor,Wr=Vr.model.schema,Zr=Vr.t,tn=Vr.conversion,sn=Vr.config.get("mediaEmbed.previewsInData"),un=Vr.config.get("mediaEmbed.elementName"),fn=this.registry;Vr.commands.add("mediaEmbed",new kD(Vr)),Wr.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),tn.for("dataDowncast").elementToStructure({model:"media",view:(yn,{writer:xn})=>{const Dn=yn.getAttribute("url");return tw(xn,fn,Dn,{elementName:un,renderMediaPreview:!!Dn&&sn})}}),tn.for("dataDowncast").add(ew(fn,{elementName:un,renderMediaPreview:sn})),tn.for("editingDowncast").elementToStructure({model:"media",view:(yn,{writer:xn})=>{const Dn=yn.getAttribute("url");return function(Mn,Rn,Un){return Rn.setCustomProperty("media",!0,Mn),fm(Mn,Rn,{label:Un})}(tw(xn,fn,Dn,{elementName:un,renderForEditingView:!0}),xn,Zr("media widget"))}}),tn.for("editingDowncast").add(ew(fn,{elementName:un,renderForEditingView:!0})),tn.for("upcast").elementToElement({view:yn=>["oembed",un].includes(yn.name)&&yn.getAttribute("url")?{name:!0}:null,model:(yn,{writer:xn})=>{const Dn=yn.getAttribute("url");return fn.hasMedia(Dn)?xn.createElement("media",{url:Dn}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(yn,{writer:xn})=>{const Dn=yn.getAttribute("data-oembed-url");return fn.hasMedia(Dn)?xn.createElement("media",{url:Dn}):null}}).add(yn=>{yn.on("element:figure",(xn,Dn,Mn)=>{if(!Mn.consumable.consume(Dn.viewItem,{name:!0,classes:"media"}))return;const{modelRange:Rn,modelCursor:Un}=Mn.convertChildren(Dn.viewItem,Dn.modelCursor);Dn.modelRange=Rn,Dn.modelCursor=Un,_l(Rn.getItems())||Mn.consumable.revert(Dn.viewItem,{name:!0,classes:"media"})})})}}const xD=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class SD extends yo{constructor(Vr){super(Vr),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[jb,vd,Zb]}static get pluginName(){return"AutoMediaEmbed"}init(){const Vr=this.editor,Wr=Vr.model.document,Zr=Vr.plugins.get("ClipboardPipeline");this.listenTo(Zr,"inputTransformation",()=>{const tn=Wr.selection.getFirstRange(),sn=uc.fromPosition(tn.start);sn.stickiness="toPrevious";const un=uc.fromPosition(tn.end);un.stickiness="toNext",Wr.once("change:data",()=>{this._embedMediaBetweenPositions(sn,un),sn.detach(),un.detach()},{priority:"high"})}),Vr.commands.get("undo").on("execute",()=>{this._timeoutId&&(Sa.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(Vr,Wr){const Zr=this.editor,tn=Zr.plugins.get(og).registry,sn=new Du(Vr,Wr),un=sn.getWalker({ignoreElementEnd:!0});let fn="";for(const yn of un)yn.item.is("$textProxy")&&(fn+=yn.item.data);if(fn=fn.trim(),!fn.match(xD)||!tn.hasMedia(fn))return void sn.detach();Zr.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=uc.fromPosition(Vr),this._timeoutId=Sa.window.setTimeout(()=>{Zr.model.change(yn=>{this._timeoutId=null,yn.remove(sn),sn.detach();let xn=null;this._positionToInsert.root.rootName!=="$graveyard"&&(xn=this._positionToInsert),nw(Zr.model,fn,xn,!1),this._positionToInsert.detach(),this._positionToInsert=null}),Zr.plugins.get(vd).requestUndoOnBackspace()},100)):sn.detach()}}var aw=Fr(9292),DD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(aw.Z,DD),aw.Z.locals;class ED extends is{constructor(Vr,Wr){super(Wr);const Zr=Wr.t;this.focusTracker=new Ic,this.keystrokes=new tu,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(Zr("Save"),Il.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",tn=>!!tn),this.cancelButtonView=this._createButton(Zr("Cancel"),Il.cancel,"ck-button-cancel","cancel"),this._focusables=new zc,this._focusCycler=new sd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=Vr,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Gr({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(Wr=>{this._focusables.add(Wr),this.focusTracker.add(Wr.element)}),this.keystrokes.listenTo(this.element);const Vr=Wr=>Wr.stopPropagation();this.keystrokes.set("arrowright",Vr),this.keystrokes.set("arrowleft",Vr),this.keystrokes.set("arrowup",Vr),this.keystrokes.set("arrowdown",Vr)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(Vr){this.urlInputView.fieldView.element.value=Vr.trim()}isValid(){this.resetFormStatus();for(const Vr of this._validators){const Wr=Vr(this);if(Wr)return this.urlInputView.errorText=Wr,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const Vr=this.locale.t,Wr=new Cd(this.locale,qg),Zr=Wr.fieldView;return this._urlInputViewInfoDefault=Vr("Paste the media URL in the input."),this._urlInputViewInfoTip=Vr("Tip: Paste the URL into the content to embed faster."),Wr.label=Vr("Media URL"),Wr.infoText=this._urlInputViewInfoDefault,Zr.on("input",()=>{Wr.infoText=Zr.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=Zr.element.value.trim()}),Wr}_createButton(Vr,Wr,Zr,tn){const sn=new gs(this.locale);return sn.set({label:Vr,icon:Wr,tooltip:!0}),sn.extendTemplate({attributes:{class:Zr}}),tn&&sn.delegate("execute").to(this,tn),sn}}class TD extends yo{static get requires(){return[og]}static get pluginName(){return"MediaEmbedUI"}init(){const Vr=this.editor,Wr=Vr.commands.get("mediaEmbed");Vr.ui.componentFactory.add("mediaEmbed",Zr=>{const tn=Nd(Zr);return this._setUpDropdown(tn,Wr),tn})}_setUpDropdown(Vr,Wr){const Zr=this.editor,tn=Zr.t,sn=Vr.buttonView,un=Zr.plugins.get(og).registry;Vr.once("change:isOpen",()=>{const fn=new(Ur(ED))(function(yn,xn){return[Dn=>{if(!Dn.url.length)return yn("The URL must not be empty.")},Dn=>{if(!xn.hasMedia(Dn.url))return yn("This media URL is not supported.")}]}(Zr.t,un),Zr.locale);Vr.panelView.children.add(fn),sn.on("open",()=>{fn.disableCssTransitions(),fn.url=Wr.value||"",fn.urlInputView.fieldView.select(),fn.enableCssTransitions()},{priority:"low"}),Vr.on("submit",()=>{fn.isValid()&&(Zr.execute("mediaEmbed",fn.url),Zr.editing.view.focus())}),Vr.on("change:isOpen",()=>fn.resetFormStatus()),Vr.on("cancel",()=>{Zr.editing.view.focus()}),fn.delegate("submit","cancel").to(Vr),fn.urlInputView.fieldView.bind("value").to(Wr,"value"),fn.urlInputView.bind("isEnabled").to(Wr,"isEnabled")}),Vr.bind("isEnabled").to(Wr),sn.set({label:tn("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var sw=Fr(4652),MD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(sw.Z,MD),sw.Z.locals;function ID(en,Vr){if(!en.childCount)return;const Wr=new ph(en.document),Zr=function(un,fn){const yn=fn.createRangeIn(un),xn=new jc({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),Dn=[];for(const Mn of yn)if(Mn.type==="elementStart"&&xn.match(Mn.item)){const Rn=PD(Mn.item);Dn.push({element:Mn.item,id:Rn.id,order:Rn.order,indent:Rn.indent})}return Dn}(en,Wr);if(!Zr.length)return;let tn=null,sn=1;Zr.forEach((un,fn)=>{const yn=function(Kn,ti){if(!Kn)return!0;if(Kn.id!==ti.id)return ti.indent-Kn.indent!=1;const si=ti.element.previousSibling;if(!si)return!0;return fi=si,!(fi.is("element","ol")||fi.is("element","ul"));var fi}(Zr[fn-1],un),xn=yn?null:Zr[fn-1],Dn=(Rn=un,(Mn=xn)?Rn.indent-Mn.indent:Rn.indent-1);var Mn,Rn;if(yn&&(tn=null,sn=1),!tn||Dn!==0){const Kn=function(ti,si){const fi=new RegExp(`@list l${ti.id}:level${ti.indent}\\s*({[^}]*)`,"gi"),Li=/mso-level-number-format:([^;]{0,100});/gi,eo=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,Fo=fi.exec(si);let wa="decimal",Ns="ol",ds=null;if(Fo&&Fo[1]){const Yl=Li.exec(Fo[1]);if(Yl&&Yl[1]&&(wa=Yl[1].trim(),Ns=wa!=="bullet"&&wa!=="image"?"ol":"ul"),wa==="bullet"){const Vl=function(Jh){const Qu=function(bd){if(bd.getChild(0).is("$text"))return null;for(const _d of bd.getChildren()){if(!_d.is("element","span"))continue;const _h=_d.getChild(0);if(_h)return _h.is("$text")?_h:_h.getChild(0)}return null}(Jh);if(!Qu)return null;const fu=Qu._data;return fu==="o"?"circle":fu==="Â·"?"disc":fu==="Â§"?"square":null}(ti.element);Vl&&(wa=Vl)}else{const Vl=eo.exec(Fo[1]);Vl&&Vl[1]&&(ds=parseInt(Vl[1]))}}return{type:Ns,startIndex:ds,style:LD(wa)}}(un,Vr);if(tn){if(un.indent>sn){const ti=tn.getChild(tn.childCount-1),si=ti.getChild(ti.childCount-1);tn=lw(Kn,si,Wr),sn+=1}else if(un.indent<sn){const ti=sn-un.indent;tn=function(si,fi){const Li=si.getAncestors({parentFirst:!0});let eo=null,Fo=0;for(const wa of Li)if((wa.is("element","ul")||wa.is("element","ol"))&&Fo++,Fo===fi){eo=wa;break}return eo}(tn,ti),sn=un.indent}}else tn=lw(Kn,un.element,Wr);un.indent<=sn&&(tn.is("element",Kn.type)||(tn=Wr.rename(Kn.type,tn)))}const Un=function(Kn,ti){return function(si,fi){const Li=new jc({name:"span",styles:{"mso-list":"Ignore"}}),eo=fi.createRangeIn(si);for(const Fo of eo)Fo.type==="elementStart"&&Li.match(Fo.item)&&fi.remove(Fo.item)}(Kn,ti),ti.removeStyle("text-indent",Kn),ti.rename("li",Kn)}(un.element,Wr);Wr.appendChild(Un,tn)})}function LD(en){if(en.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(en){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return en;default:return null}}function lw(en,Vr,Wr){const Zr=Vr.parent,tn=Wr.createElement(en.type),sn=Zr.getChildIndex(Vr)+1;return Wr.insertChild(sn,tn,Zr),en.style&&Wr.setStyle("list-style-type",en.style,tn),en.startIndex&&en.startIndex>1&&Wr.setAttribute("start",en.startIndex,tn),tn}function PD(en){const Vr={},Wr=en.getStyle("mso-list");if(Wr){const Zr=Wr.match(/(^|\s{1,100})l(\d+)/i),tn=Wr.match(/\s{0,100}lfo(\d+)/i),sn=Wr.match(/\s{0,100}level(\d+)/i);Zr&&tn&&sn&&(Vr.id=Zr[2],Vr.order=tn[1],Vr.indent=parseInt(sn[1]))}return Vr}function OD(en,Vr){if(!en.childCount)return;const Wr=new ph(en.document),Zr=function(sn,un){const fn=un.createRangeIn(sn),yn=new jc({name:/v:(.+)/}),xn=[];for(const Dn of fn){if(Dn.type!="elementStart")continue;const Mn=Dn.item,Rn=Mn.previousSibling,Un=Rn&&Rn.is("element")?Rn.name:null;yn.match(Mn)&&Mn.getAttribute("o:gfxdata")&&Un!=="v:shapetype"&&xn.push(Dn.item.getAttribute("id"))}return xn}(en,Wr);(function(sn,un,fn){const yn=fn.createRangeIn(un),xn=new jc({name:"img"}),Dn=[];for(const Mn of yn)if(Mn.item.is("element")&&xn.match(Mn.item)){const Rn=Mn.item,Un=Rn.getAttribute("v:shapes")?Rn.getAttribute("v:shapes").split(" "):[];Un.length&&Un.every(Kn=>sn.indexOf(Kn)>-1)?Dn.push(Rn):Rn.getAttribute("src")||Dn.push(Rn)}for(const Mn of Dn)fn.remove(Mn)})(Zr,en,Wr),function(sn,un,fn){const yn=fn.createRangeIn(un),xn=[];for(const Rn of yn)if(Rn.type=="elementStart"&&Rn.item.is("element","v:shape")){const Un=Rn.item.getAttribute("id");if(sn.includes(Un))continue;Dn(Rn.item.parent.getChildren(),Un)||xn.push(Rn.item)}for(const Rn of xn){const Un={src:Mn(Rn)};Rn.hasAttribute("alt")&&(Un.alt=Rn.getAttribute("alt"));const Kn=fn.createElement("img",Un);fn.insertChild(Rn.index+1,Kn,Rn.parent)}function Dn(Rn,Un){for(const Kn of Rn)if(Kn.is("element")&&(Kn.name=="img"&&Kn.getAttribute("v:shapes")==Un||Dn(Kn.getChildren(),Un)))return!0;return!1}function Mn(Rn){for(const Un of Rn.getChildren())if(Un.is("element")&&Un.getAttribute("src"))return Un.getAttribute("src")}}(Zr,en,Wr),function(sn,un){const fn=un.createRangeIn(sn),yn=new jc({name:/v:(.+)/}),xn=[];for(const Dn of fn)Dn.type=="elementStart"&&yn.match(Dn.item)&&xn.push(Dn.item);for(const Dn of xn)un.remove(Dn)}(en,Wr);const tn=function(sn,un){const fn=un.createRangeIn(sn),yn=new jc({name:"img"}),xn=[];for(const Dn of fn)Dn.item.is("element")&&yn.match(Dn.item)&&Dn.item.getAttribute("src").startsWith("file://")&&xn.push(Dn.item);return xn}(en,Wr);tn.length&&function(sn,un,fn){if(sn.length===un.length)for(let yn=0;yn<sn.length;yn++){const xn=`data:${un[yn].type};base64,${RD(un[yn].hex)}`;fn.setAttribute("src",xn,sn[yn])}}(tn,function(sn){if(!sn)return[];const un=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,fn=new RegExp("(?:("+un.source+"))([\\da-fA-F\\s]+)\\}","g"),yn=sn.match(fn),xn=[];if(yn)for(const Dn of yn){let Mn=!1;Dn.includes("\\pngblip")?Mn="image/png":Dn.includes("\\jpegblip")&&(Mn="image/jpeg"),Mn&&xn.push({hex:Dn.replace(un,"").replace(/[^\da-fA-F]/g,""),type:Mn})}return xn}(Vr),Wr)}function RD(en){return btoa(en.match(/\w{2}/g).map(Vr=>String.fromCharCode(parseInt(Vr,16))).join(""))}const $D=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,ND=/xmlns:o="urn:schemas-microsoft-com/i;class BD{constructor(Vr){this.document=Vr}isActive(Vr){return $D.test(Vr)||ND.test(Vr)}execute(Vr){const{body:Wr,stylesString:Zr}=Vr._parsedData;ID(Wr,Zr),OD(Wr,Vr.dataTransfer.getData("text/rtf")),Vr.content=Wr}}function cw(en,Vr,Wr,{blockElements:Zr,inlineObjectElements:tn}){let sn=Wr.createPositionAt(en,Vr=="forward"?"after":"before");return sn=sn.getLastMatchingPosition(({item:un})=>un.is("element")&&!Zr.includes(un.name)&&!tn.includes(un.name),{direction:Vr}),Vr=="forward"?sn.nodeAfter:sn.nodeBefore}function uw(en,Vr){return!!en&&en.is("element")&&Vr.includes(en.name)}const FD=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class zD{constructor(Vr){this.document=Vr}isActive(Vr){return FD.test(Vr)}execute(Vr){const Wr=new ph(this.document),{body:Zr}=Vr._parsedData;(function(tn,sn){for(const un of tn.getChildren())if(un.is("element","b")&&un.getStyle("font-weight")==="normal"){const fn=tn.getChildIndex(un);sn.remove(un),sn.insertChild(fn,un.getChildren(),tn)}})(Zr,Wr),function(tn,sn){for(const un of sn.createRangeIn(tn)){const fn=un.item;if(fn.is("element","li")){const yn=fn.getChild(0);yn&&yn.is("element","p")&&sn.unwrapElement(yn)}}}(Zr,Wr),function(tn,sn){const un=new Nh(sn.document.stylesProcessor),fn=new ao(un,{renderingMode:"data"}),yn=fn.blockElements,xn=fn.inlineObjectElements,Dn=[];for(const Mn of sn.createRangeIn(tn)){const Rn=Mn.item;if(Rn.is("element","br")){const Un=cw(Rn,"forward",sn,{blockElements:yn,inlineObjectElements:xn}),Kn=cw(Rn,"backward",sn,{blockElements:yn,inlineObjectElements:xn}),ti=uw(Un,yn);(uw(Kn,yn)||ti)&&Dn.push(Rn)}}for(const Mn of Dn)Mn.hasClass("Apple-interchange-newline")?sn.remove(Mn):sn.replace(Mn,sn.createElement("p"))}(Zr,Wr),Vr.content=Zr}}const HD=/<google-sheets-html-origin/i;class VD{constructor(Vr){this.document=Vr}isActive(Vr){return HD.test(Vr)}execute(Vr){const Wr=new ph(this.document),{body:Zr}=Vr._parsedData;(function(tn,sn){for(const un of tn.getChildren())if(un.is("element","google-sheets-html-origin")){const fn=tn.getChildIndex(un);sn.remove(un),sn.insertChild(fn,un.getChildren(),tn)}})(Zr,Wr),function(tn,sn){for(const un of tn.getChildren())un.is("element","table")&&un.hasAttribute("xmlns")&&sn.removeAttribute("xmlns",un)}(Zr,Wr),function(tn,sn){for(const un of tn.getChildren())un.is("element","table")&&un.getStyle("width")==="0px"&&sn.removeStyle("width",un)}(Zr,Wr),function(tn,sn){for(const un of Array.from(tn.getChildren()))un.is("element","style")&&sn.remove(un)}(Zr,Wr),Vr.content=Zr}}function dw(en){return en.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(Vr,Wr)=>Wr.length===1?" ":Array(Wr.length+1).join("Â  ").substr(0,Wr.length))}function jD(en,Vr){const Wr=new DOMParser,Zr=function(yn){return dw(dw(yn)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"Â </").replace(/ <o:p><\/o:p>/g,"Â <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(yn){const xn="</body>",Dn="</html>",Mn=yn.indexOf(xn);if(Mn<0)return yn;const Rn=yn.indexOf(Dn,Mn+xn.length);return yn.substring(0,Mn+xn.length)+(Rn>=0?yn.substring(Rn):"")}(en=en.replace(/<!--\[if gte vml 1]>/g,""))),tn=Wr.parseFromString(Zr,"text/html");(function(yn){yn.querySelectorAll("span[style*=spacerun]").forEach(xn=>{const Dn=xn,Mn=Dn.innerText.length||0;Dn.innerText=Array(Mn+1).join("Â  ").substr(0,Mn)})})(tn);const sn=tn.body.innerHTML,un=function(yn,xn){const Dn=new Nh(xn),Mn=new ao(Dn,{renderingMode:"data"}),Rn=yn.createDocumentFragment(),Un=yn.body.childNodes;for(;Un.length>0;)Rn.appendChild(Un[0]);return Mn.domToView(Rn,{skipComments:!0})}(tn,Vr),fn=function(yn){const xn=[],Dn=[],Mn=Array.from(yn.getElementsByTagName("style"));for(const Rn of Mn)Rn.sheet&&Rn.sheet.cssRules&&Rn.sheet.cssRules.length&&(xn.push(Rn.sheet),Dn.push(Rn.innerHTML));return{styles:xn,stylesString:Dn.join(" ")}}(tn);return{body:un,bodyString:sn,styles:fn.styles,stylesString:fn.stylesString}}function Al(en,Vr,Wr,Zr,tn=1){Vr!=null&&tn!=null&&Vr>tn?Zr.setAttribute(en,Vr,Wr):Zr.removeAttribute(en,Wr)}function vh(en,Vr,Wr={}){const Zr=en.createElement("tableCell",Wr);return en.insertElement("paragraph",Zr),en.insert(Zr,Vr),Zr}function Pm(en,Vr){const Wr=Vr.parent.parent,Zr=parseInt(Wr.getAttribute("headingColumns")||"0"),{column:tn}=en.getCellLocation(Vr);return!!Zr&&tn<Zr}function UD(){return en=>{en.on("element:table",(Vr,Wr,Zr)=>{const tn=Wr.viewItem;if(!Zr.consumable.test(tn,{name:!0}))return;const{rows:sn,headingRows:un,headingColumns:fn}=function(Dn){let Mn,Rn=0;const Un=[],Kn=[];let ti;for(const si of Array.from(Dn.getChildren())){if(si.name!=="tbody"&&si.name!=="thead"&&si.name!=="tfoot")continue;si.name!=="thead"||ti||(ti=si);const fi=Array.from(si.getChildren()).filter(Li=>Li.is("element","tr"));for(const Li of fi)if(ti&&si===ti||si.name==="tbody"&&Array.from(Li.getChildren()).length&&Array.from(Li.getChildren()).every(eo=>eo.is("element","th")))Rn++,Un.push(Li);else{Kn.push(Li);const eo=GD(Li);(!Mn||eo<Mn)&&(Mn=eo)}}return{headingRows:Rn,headingColumns:Mn||0,rows:[...Un,...Kn]}}(tn),yn={};fn&&(yn.headingColumns=fn),un&&(yn.headingRows=un);const xn=Zr.writer.createElement("table",yn);if(Zr.safeInsert(xn,Wr.modelCursor)){if(Zr.consumable.consume(tn,{name:!0}),sn.forEach(Dn=>Zr.convertItem(Dn,Zr.writer.createPositionAt(xn,"end"))),Zr.convertChildren(tn,Zr.writer.createPositionAt(xn,"end")),xn.isEmpty){const Dn=Zr.writer.createElement("tableRow");Zr.writer.insert(Dn,Zr.writer.createPositionAt(xn,"end")),vh(Zr.writer,Zr.writer.createPositionAt(Dn,"end"))}Zr.updateConversionResult(xn,Wr)}})}}function hw(en){return Vr=>{Vr.on(`element:${en}`,(Wr,Zr,{writer:tn})=>{if(!Zr.modelRange)return;const sn=Zr.modelRange.start.nodeAfter,un=tn.createPositionAt(sn,0);if(Zr.viewItem.isEmpty)return void tn.insertElement("paragraph",un);const fn=Array.from(sn.getChildren());if(fn.every(yn=>yn.is("element","$marker"))){const yn=tn.createElement("paragraph");tn.insert(yn,tn.createPositionAt(sn,0));for(const xn of fn)tn.move(tn.createRangeOn(xn),tn.createPositionAt(yn,"end"))}},{priority:"low"})}}function GD(en){let Vr=0,Wr=0;const Zr=Array.from(en.getChildren()).filter(tn=>tn.name==="th"||tn.name==="td");for(;Wr<Zr.length&&Zr[Wr].name==="th";){const tn=Zr[Wr];Vr+=parseInt(tn.getAttribute("colspan")||"1"),Wr++}return Vr}class $s{constructor(Vr,Wr={}){this._table=Vr,this._startRow=Wr.row!==void 0?Wr.row:Wr.startRow||0,this._endRow=Wr.row!==void 0?Wr.row:Wr.endRow,this._startColumn=Wr.column!==void 0?Wr.column:Wr.startColumn||0,this._endColumn=Wr.column!==void 0?Wr.column:Wr.endColumn,this._includeAllSlots=!!Wr.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const Vr=this._table.getChild(this._rowIndex);if(!Vr||this._isOverEndRow())return{done:!0,value:void 0};if(!Vr.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let Wr=null;const Zr=this._getSpanned();if(Zr)this._includeAllSlots&&!this._shouldSkipSlot()&&(Wr=this._formatOutValue(Zr.cell,Zr.row,Zr.column));else{const tn=Vr.getChild(this._cellIndex);if(!tn)return this._advanceToNextRow();const sn=parseInt(tn.getAttribute("colspan")||"1"),un=parseInt(tn.getAttribute("rowspan")||"1");(sn>1||un>1)&&this._recordSpans(tn,un,sn),this._shouldSkipSlot()||(Wr=this._formatOutValue(tn)),this._nextCellAtColumn=this._column+sn}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,Wr||this.next()}skipRow(Vr){this._skipRows.add(Vr)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(Vr,Wr=this._row,Zr=this._column){return{done:!1,value:new WD(this,Vr,Wr,Zr)}}_shouldSkipSlot(){const Vr=this._skipRows.has(this._row),Wr=this._row<this._startRow,Zr=this._column<this._startColumn,tn=this._endColumn!==void 0&&this._column>this._endColumn;return Vr||Wr||Zr||tn}_getSpanned(){const Vr=this._spannedCells.get(this._row);return Vr&&Vr.get(this._column)||null}_recordSpans(Vr,Wr,Zr){const tn={cell:Vr,row:this._row,column:this._column};for(let sn=this._row;sn<this._row+Wr;sn++)for(let un=this._column;un<this._column+Zr;un++)sn==this._row&&un==this._column||this._markSpannedCell(sn,un,tn)}_markSpannedCell(Vr,Wr,Zr){this._spannedCells.has(Vr)||this._spannedCells.set(Vr,new Map),this._spannedCells.get(Vr).set(Wr,Zr)}}class WD{constructor(Vr,Wr,Zr,tn){this.cell=Wr,this.row=Vr._row,this.column=Vr._column,this.cellAnchorRow=Zr,this.cellAnchorColumn=tn,this._cellIndex=Vr._cellIndex,this._rowIndex=Vr._rowIndex,this._table=Vr._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function fw(en,Vr){return(Wr,{writer:Zr})=>{const tn=Wr.getAttribute("headingRows")||0,sn=Zr.createContainerElement("table",null,[]),un=Zr.createContainerElement("figure",{class:"table"},sn);tn>0&&Zr.insert(Zr.createPositionAt(sn,"end"),Zr.createContainerElement("thead",null,Zr.createSlot(fn=>fn.is("element","tableRow")&&fn.index<tn))),tn<en.getRows(Wr)&&Zr.insert(Zr.createPositionAt(sn,"end"),Zr.createContainerElement("tbody",null,Zr.createSlot(fn=>fn.is("element","tableRow")&&fn.index>=tn)));for(const{positionOffset:fn,filter:yn}of Vr.additionalSlots)Zr.insert(Zr.createPositionAt(sn,fn),Zr.createSlot(yn));return Zr.insert(Zr.createPositionAt(sn,"after"),Zr.createSlot(fn=>!fn.is("element","tableRow")&&!Vr.additionalSlots.some(({filter:yn})=>yn(fn)))),Vr.asWidget?function(fn,yn){return yn.setCustomProperty("table",!0,fn),fm(fn,yn,{hasSelectionHandle:!0})}(un,Zr):un}}function pw(en={}){return(Vr,{writer:Wr})=>{const Zr=Vr.parent,tn=Zr.parent,sn=tn.getChildIndex(Zr),un=new $s(tn,{row:sn}),fn=tn.getAttribute("headingRows")||0,yn=tn.getAttribute("headingColumns")||0;let xn=null;for(const Dn of un)if(Dn.cell==Vr){const Mn=Dn.row<fn||Dn.column<yn?"th":"td";xn=en.asWidget?Eb(Wr.createEditableElement(Mn),Wr):Wr.createContainerElement(Mn);break}return xn}}function gw(en={}){return(Vr,{writer:Wr})=>{if(!Vr.parent.is("element","tableCell")||!mw(Vr))return null;if(en.asWidget)return Wr.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const Zr=Wr.createContainerElement("p");return Wr.setCustomProperty("dataPipeline:transparentRendering",!0,Zr),Zr}}}function mw(en){return en.parent.childCount==1&&!!en.getAttributeKeys().next().done}class YD extends Wa{refresh(){const Vr=this.editor.model,Wr=Vr.document.selection,Zr=Vr.schema;this.isEnabled=function(tn,sn){const un=tn.getFirstPosition().parent,fn=un===un.root?un:un.parent;return sn.checkChild(fn,"table")}(Wr,Zr)}execute(Vr={}){const Wr=this.editor,Zr=Wr.model,tn=Wr.plugins.get("TableUtils"),sn=Wr.config.get("table.defaultHeadings.rows"),un=Wr.config.get("table.defaultHeadings.columns");Vr.headingRows===void 0&&sn&&(Vr.headingRows=sn),Vr.headingColumns===void 0&&un&&(Vr.headingColumns=un),Zr.change(fn=>{const yn=tn.createTable(fn,Vr);Zr.insertObject(yn,null,null,{findOptimalPosition:"auto"}),fn.setSelection(fn.createPositionAt(yn.getNodeByPath([0,0,0]),0))})}}class vw extends Wa{constructor(Vr,Wr={}){super(Vr),this.order=Wr.order||"below"}refresh(){const Vr=this.editor.model.document.selection,Wr=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(Vr).length;this.isEnabled=Wr}execute(){const Vr=this.editor,Wr=Vr.model.document.selection,Zr=Vr.plugins.get("TableUtils"),tn=this.order==="above",sn=Zr.getSelectionAffectedTableCells(Wr),un=Zr.getRowIndexes(sn),fn=tn?un.first:un.last,yn=sn[0].findAncestor("table");Zr.insertRows(yn,{at:tn?fn:fn+1,copyStructureFromAbove:!tn})}}class yw extends Wa{constructor(Vr,Wr={}){super(Vr),this.order=Wr.order||"right"}refresh(){const Vr=this.editor.model.document.selection,Wr=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(Vr).length;this.isEnabled=Wr}execute(){const Vr=this.editor,Wr=Vr.model.document.selection,Zr=Vr.plugins.get("TableUtils"),tn=this.order==="left",sn=Zr.getSelectionAffectedTableCells(Wr),un=Zr.getColumnIndexes(sn),fn=tn?un.first:un.last,yn=sn[0].findAncestor("table");Zr.insertColumns(yn,{columns:1,at:tn?fn:fn+1})}}class bw extends Wa{constructor(Vr,Wr={}){super(Vr),this.direction=Wr.direction||"horizontally"}refresh(){const Vr=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=Vr.length===1}execute(){const Vr=this.editor.plugins.get("TableUtils"),Wr=Vr.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?Vr.splitCellHorizontally(Wr,2):Vr.splitCellVertically(Wr,2)}}function _w(en,Vr,Wr){const{startRow:Zr,startColumn:tn,endRow:sn,endColumn:un}=Vr,fn=Wr.createElement("table"),yn=sn-Zr+1;for(let Dn=0;Dn<yn;Dn++)Wr.insertElement("tableRow",fn,"end");const xn=[...new $s(en,{startRow:Zr,endRow:sn,startColumn:tn,endColumn:un,includeAllSlots:!0})];for(const{row:Dn,column:Mn,cell:Rn,isAnchor:Un,cellAnchorRow:Kn,cellAnchorColumn:ti}of xn){const si=Dn-Zr,fi=fn.getChild(si);if(Un){const Li=Wr.cloneElement(Rn);Wr.append(Li,fi),xw(Li,Dn,Mn,sn,un,Wr)}else(Kn<Zr||ti<tn)&&vh(Wr,Wr.createPositionAt(fi,"end"))}return function(Dn,Mn,Rn,Un,Kn){const ti=parseInt(Mn.getAttribute("headingRows")||"0");ti>0&&Al("headingRows",ti-Rn,Dn,Kn,0);const si=parseInt(Mn.getAttribute("headingColumns")||"0");si>0&&Al("headingColumns",si-Un,Dn,Kn,0)}(fn,en,Zr,tn,Wr),fn}function ww(en,Vr,Wr=0){const Zr=[],tn=new $s(en,{startRow:Wr,endRow:Vr-1});for(const sn of tn){const{row:un,cellHeight:fn}=sn;un<Vr&&Vr<=un+fn-1&&Zr.push(sn)}return Zr}function kw(en,Vr,Wr){const Zr=en.parent,tn=Zr.parent,sn=Zr.index,un=Vr-sn,fn={},yn=parseInt(en.getAttribute("rowspan"))-un;yn>1&&(fn.rowspan=yn);const xn=parseInt(en.getAttribute("colspan")||"1");xn>1&&(fn.colspan=xn);const Dn=sn+un,Mn=[...new $s(tn,{startRow:sn,endRow:Dn,includeAllSlots:!0})];let Rn,Un=null;for(const Kn of Mn){const{row:ti,column:si,cell:fi}=Kn;fi===en&&Rn===void 0&&(Rn=si),Rn!==void 0&&Rn===si&&ti===Dn&&(Un=vh(Wr,Kn.getPositionBefore(),fn))}return Al("rowspan",un,en,Wr),Un}function Aw(en,Vr){const Wr=[],Zr=new $s(en);for(const tn of Zr){const{column:sn,cellWidth:un}=tn;sn<Vr&&Vr<=sn+un-1&&Wr.push(tn)}return Wr}function Cw(en,Vr,Wr,Zr){const tn=Wr-Vr,sn={},un=parseInt(en.getAttribute("colspan"))-tn;un>1&&(sn.colspan=un);const fn=parseInt(en.getAttribute("rowspan")||"1");fn>1&&(sn.rowspan=fn);const yn=vh(Zr,Zr.createPositionAfter(en),sn);return Al("colspan",tn,en,Zr),yn}function xw(en,Vr,Wr,Zr,tn,sn){const un=parseInt(en.getAttribute("colspan")||"1"),fn=parseInt(en.getAttribute("rowspan")||"1");Wr+un-1>tn&&Al("colspan",tn-Wr+1,en,sn,1),Vr+fn-1>Zr&&Al("rowspan",Zr-Vr+1,en,sn,1)}function Om(en,Vr){const Wr=Vr.getColumns(en),Zr=new Array(Wr).fill(0);for(const{column:sn}of new $s(en))Zr[sn]++;const tn=Zr.reduce((sn,un,fn)=>un?sn:[...sn,fn],[]);if(tn.length>0){const sn=tn[tn.length-1];return Vr.removeColumns(en,{at:sn}),!0}return!1}function Rm(en,Vr){const Wr=[],Zr=Vr.getRows(en);for(let tn=0;tn<Zr;tn++)en.getChild(tn).isEmpty&&Wr.push(tn);if(Wr.length>0){const tn=Wr[Wr.length-1];return Vr.removeRows(en,{at:tn}),!0}return!1}function $m(en,Vr){Om(en,Vr)||Rm(en,Vr)}function Sw(en,Vr){const Wr=Array.from(new $s(en,{startColumn:Vr.firstColumn,endColumn:Vr.lastColumn,row:Vr.lastRow}));if(Wr.every(({cellHeight:tn})=>tn===1))return Vr.lastRow;const Zr=Wr[0].cellHeight-1;return Vr.lastRow+Zr}function Dw(en,Vr){const Wr=Array.from(new $s(en,{startRow:Vr.firstRow,endRow:Vr.lastRow,column:Vr.lastColumn}));if(Wr.every(({cellWidth:tn})=>tn===1))return Vr.lastColumn;const Zr=Wr[0].cellWidth-1;return Vr.lastColumn+Zr}class ag extends Wa{constructor(Vr,Wr){super(Vr),this.direction=Wr.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const Vr=this._getMergeableCell();this.value=Vr,this.isEnabled=!!Vr}execute(){const Vr=this.editor.model,Wr=Vr.document,Zr=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(Wr.selection)[0],tn=this.value,sn=this.direction;Vr.change(un=>{const fn=sn=="right"||sn=="down",yn=fn?Zr:tn,xn=fn?tn:Zr,Dn=xn.parent;(function(ti,si,fi){Ew(ti)||(Ew(si)&&fi.remove(fi.createRangeIn(si)),fi.move(fi.createRangeIn(ti),fi.createPositionAt(si,"end"))),fi.remove(ti)})(xn,yn,un);const Mn=this.isHorizontal?"colspan":"rowspan",Rn=parseInt(Zr.getAttribute(Mn)||"1"),Un=parseInt(tn.getAttribute(Mn)||"1");un.setAttribute(Mn,Rn+Un,yn),un.setSelection(un.createRangeIn(yn));const Kn=this.editor.plugins.get("TableUtils");$m(Dn.findAncestor("table"),Kn)})}_getMergeableCell(){const Vr=this.editor.model.document,Wr=this.editor.plugins.get("TableUtils"),Zr=Wr.getTableCellsContainingSelection(Vr.selection)[0];if(!Zr)return;const tn=this.isHorizontal?function(fn,yn,xn){const Dn=fn.parent,Mn=Dn.parent,Rn=yn=="right"?fn.nextSibling:fn.previousSibling,Un=(Mn.getAttribute("headingColumns")||0)>0;if(!Rn)return;const Kn=yn=="right"?fn:Rn,ti=yn=="right"?Rn:fn,{column:si}=xn.getCellLocation(Kn),{column:fi}=xn.getCellLocation(ti),Li=parseInt(Kn.getAttribute("colspan")||"1"),eo=Pm(xn,Kn),Fo=Pm(xn,ti);if(!(Un&&eo!=Fo))return si+Li===fi?Rn:void 0}(Zr,this.direction,Wr):function(fn,yn,xn){const Dn=fn.parent,Mn=Dn.parent,Rn=Mn.getChildIndex(Dn);if(yn=="down"&&Rn===xn.getRows(Mn)-1||yn=="up"&&Rn===0)return null;const Un=parseInt(fn.getAttribute("rowspan")||"1"),Kn=Mn.getAttribute("headingRows")||0,ti=yn=="down"&&Rn+Un===Kn,si=yn=="up"&&Rn===Kn;if(Kn&&(ti||si))return null;const fi=parseInt(fn.getAttribute("rowspan")||"1"),Li=yn=="down"?Rn+fi:Rn,eo=[...new $s(Mn,{endRow:Li})],Fo=eo.find(ds=>ds.cell===fn),wa=Fo.column,Ns=eo.find(({row:ds,cellHeight:Yl,column:Vl})=>Vl===wa&&(yn=="down"?ds===Li:Li===ds+Yl));return Ns&&Ns.cell?Ns.cell:null}(Zr,this.direction,Wr);if(!tn)return;const sn=this.isHorizontal?"rowspan":"colspan",un=parseInt(Zr.getAttribute(sn)||"1");return parseInt(tn.getAttribute(sn)||"1")===un?tn:void 0}}function Ew(en){const Vr=en.getChild(0);return en.childCount==1&&Vr.is("element","paragraph")&&Vr.isEmpty}class qD extends Wa{refresh(){const Vr=this.editor.plugins.get("TableUtils"),Wr=Vr.getSelectionAffectedTableCells(this.editor.model.document.selection),Zr=Wr[0];if(Zr){const tn=Zr.findAncestor("table"),sn=Vr.getRows(tn)-1,un=Vr.getRowIndexes(Wr),fn=un.first===0&&un.last===sn;this.isEnabled=!fn}else this.isEnabled=!1}execute(){const Vr=this.editor.model,Wr=this.editor.plugins.get("TableUtils"),Zr=Wr.getSelectionAffectedTableCells(Vr.document.selection),tn=Wr.getRowIndexes(Zr),sn=Zr[0],un=sn.findAncestor("table"),fn=Wr.getCellLocation(sn).column;Vr.change(yn=>{const xn=tn.last-tn.first+1;Wr.removeRows(un,{at:tn.first,rows:xn});const Dn=function(Mn,Rn,Un,Kn){const ti=Mn.getChild(Math.min(Rn,Kn-1));let si=ti.getChild(0),fi=0;for(const Li of ti.getChildren()){if(fi>Un)return si;si=Li,fi+=parseInt(Li.getAttribute("colspan")||"1")}return si}(un,tn.first,fn,Wr.getRows(un));yn.setSelection(yn.createPositionAt(Dn,0))})}}class KD extends Wa{refresh(){const Vr=this.editor.plugins.get("TableUtils"),Wr=Vr.getSelectionAffectedTableCells(this.editor.model.document.selection),Zr=Wr[0];if(Zr){const tn=Zr.findAncestor("table"),sn=Vr.getColumns(tn),{first:un,last:fn}=Vr.getColumnIndexes(Wr);this.isEnabled=fn-un<sn-1}else this.isEnabled=!1}execute(){const Vr=this.editor.plugins.get("TableUtils"),[Wr,Zr]=function(yn,xn){const Dn=xn.getSelectionAffectedTableCells(yn),Mn=Dn[0],Rn=Dn.pop(),Un=[Mn,Rn];return Mn.isBefore(Rn)?Un:Un.reverse()}(this.editor.model.document.selection,Vr),tn=Wr.parent.parent,sn=[...new $s(tn)],un={first:sn.find(yn=>yn.cell===Wr).column,last:sn.find(yn=>yn.cell===Zr).column},fn=function(yn,xn,Dn,Mn){return parseInt(Dn.getAttribute("colspan")||"1")>1?Dn:xn.previousSibling||Dn.nextSibling?Dn.nextSibling||xn.previousSibling:Mn.first?yn.reverse().find(({column:Un})=>Un<Mn.first).cell:yn.reverse().find(({column:Un})=>Un>Mn.last).cell}(sn,Wr,Zr,un);this.editor.model.change(yn=>{const xn=un.last-un.first+1;Vr.removeColumns(tn,{at:un.first,columns:xn}),yn.setSelection(yn.createPositionAt(fn,0))})}}class ZD extends Wa{refresh(){const Vr=this.editor.plugins.get("TableUtils"),Wr=this.editor.model,Zr=Vr.getSelectionAffectedTableCells(Wr.document.selection),tn=Zr.length>0;this.isEnabled=tn,this.value=tn&&Zr.every(sn=>this._isInHeading(sn,sn.parent.parent))}execute(Vr={}){if(Vr.forceValue===this.value)return;const Wr=this.editor.plugins.get("TableUtils"),Zr=this.editor.model,tn=Wr.getSelectionAffectedTableCells(Zr.document.selection),sn=tn[0].findAncestor("table"),{first:un,last:fn}=Wr.getRowIndexes(tn),yn=this.value?un:fn+1,xn=sn.getAttribute("headingRows")||0;Zr.change(Dn=>{if(yn){const Mn=ww(sn,yn,yn>xn?xn:0);for(const{cell:Rn}of Mn)kw(Rn,yn,Dn)}Al("headingRows",yn,sn,Dn,0)})}_isInHeading(Vr,Wr){const Zr=parseInt(Wr.getAttribute("headingRows")||"0");return!!Zr&&Vr.parent.index<Zr}}class XD extends Wa{refresh(){const Vr=this.editor.model,Wr=this.editor.plugins.get("TableUtils"),Zr=Wr.getSelectionAffectedTableCells(Vr.document.selection),tn=Zr.length>0;this.isEnabled=tn,this.value=tn&&Zr.every(sn=>Pm(Wr,sn))}execute(Vr={}){if(Vr.forceValue===this.value)return;const Wr=this.editor.plugins.get("TableUtils"),Zr=this.editor.model,tn=Wr.getSelectionAffectedTableCells(Zr.document.selection),sn=tn[0].findAncestor("table"),{first:un,last:fn}=Wr.getColumnIndexes(tn),yn=this.value?un:fn+1;Zr.change(xn=>{if(yn){const Dn=Aw(sn,yn);for(const{cell:Mn,column:Rn}of Dn)Cw(Mn,Rn,yn,xn)}Al("headingColumns",yn,sn,xn,0)})}}class bc extends yo{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(Vr){const Wr=Vr.parent,Zr=Wr.parent,tn=Zr.getChildIndex(Wr),sn=new $s(Zr,{row:tn});for(const{cell:un,row:fn,column:yn}of sn)if(un===Vr)return{row:fn,column:yn}}createTable(Vr,Wr){const Zr=Vr.createElement("table"),tn=Wr.rows||2,sn=Wr.columns||2;return Nm(Vr,Zr,0,tn,sn),Wr.headingRows&&Al("headingRows",Math.min(Wr.headingRows,tn),Zr,Vr,0),Wr.headingColumns&&Al("headingColumns",Math.min(Wr.headingColumns,sn),Zr,Vr,0),Zr}insertRows(Vr,Wr={}){const Zr=this.editor.model,tn=Wr.at||0,sn=Wr.rows||1,un=Wr.copyStructureFromAbove!==void 0,fn=Wr.copyStructureFromAbove?tn-1:tn,yn=this.getRows(Vr),xn=this.getColumns(Vr);if(tn>yn)throw new Cn("tableutils-insertrows-insert-out-of-range",this,{options:Wr});Zr.change(Dn=>{const Mn=Vr.getAttribute("headingRows")||0;if(Mn>tn&&Al("headingRows",Mn+sn,Vr,Dn,0),!un&&(tn===0||tn===yn))return void Nm(Dn,Vr,tn,sn,xn);const Rn=un?Math.max(tn,fn):tn,Un=new $s(Vr,{endRow:Rn}),Kn=new Array(xn).fill(1);for(const{row:ti,column:si,cellHeight:fi,cellWidth:Li,cell:eo}of Un){const Fo=ti+fi-1,wa=ti<=fn&&fn<=Fo;ti<tn&&tn<=Fo?(Dn.setAttribute("rowspan",fi+sn,eo),Kn[si]=-Li):un&&wa&&(Kn[si]=Li)}for(let ti=0;ti<sn;ti++){const si=Dn.createElement("tableRow");Dn.insert(si,Vr,tn);for(let fi=0;fi<Kn.length;fi++){const Li=Kn[fi],eo=Dn.createPositionAt(si,"end");Li>0&&vh(Dn,eo,Li>1?{colspan:Li}:void 0),fi+=Math.abs(Li)-1}}})}insertColumns(Vr,Wr={}){const Zr=this.editor.model,tn=Wr.at||0,sn=Wr.columns||1;Zr.change(un=>{const fn=Vr.getAttribute("headingColumns");tn<fn&&un.setAttribute("headingColumns",fn+sn,Vr);const yn=this.getColumns(Vr);if(tn===0||yn===tn){for(const Dn of Vr.getChildren())Dn.is("element","tableRow")&&Qh(sn,un,un.createPositionAt(Dn,tn?"end":0));return}const xn=new $s(Vr,{column:tn,includeAllSlots:!0});for(const Dn of xn){const{row:Mn,cell:Rn,cellAnchorColumn:Un,cellAnchorRow:Kn,cellWidth:ti,cellHeight:si}=Dn;if(Un<tn){un.setAttribute("colspan",ti+sn,Rn);const fi=Kn+si-1;for(let Li=Mn;Li<=fi;Li++)xn.skipRow(Li)}else Qh(sn,un,Dn.getPositionBefore())}})}removeRows(Vr,Wr){const Zr=this.editor.model,tn=Wr.rows||1,sn=this.getRows(Vr),un=Wr.at,fn=un+tn-1;if(fn>sn-1)throw new Cn("tableutils-removerows-row-index-out-of-range",this,{table:Vr,options:Wr});Zr.change(yn=>{const xn={first:un,last:fn},{cellsToMove:Dn,cellsToTrim:Mn}=function(Rn,{first:Un,last:Kn}){const ti=new Map,si=[];for(const{row:fi,column:Li,cellHeight:eo,cell:Fo}of new $s(Rn,{endRow:Kn})){const wa=fi+eo-1;if(fi>=Un&&fi<=Kn&&wa>Kn){const Ns=eo-(Kn-fi+1);ti.set(Li,{cell:Fo,rowspan:Ns})}if(fi<Un&&wa>=Un){let Ns;Ns=wa>=Kn?Kn-Un+1:wa-Un+1,si.push({cell:Fo,rowspan:eo-Ns})}}return{cellsToMove:ti,cellsToTrim:si}}(Vr,xn);Dn.size&&function(Rn,Un,Kn,ti){const si=new $s(Rn,{includeAllSlots:!0,row:Un}),fi=[...si],Li=Rn.getChild(Un);let eo;for(const{column:Fo,cell:wa,isAnchor:Ns}of fi)if(Kn.has(Fo)){const{cell:ds,rowspan:Yl}=Kn.get(Fo),Vl=eo?ti.createPositionAfter(eo):ti.createPositionAt(Li,0);ti.move(ti.createRangeOn(ds),Vl),Al("rowspan",Yl,ds,ti),eo=ds}else Ns&&(eo=wa)}(Vr,fn+1,Dn,yn);for(let Rn=fn;Rn>=un;Rn--)yn.remove(Vr.getChild(Rn));for(const{rowspan:Rn,cell:Un}of Mn)Al("rowspan",Rn,Un,yn);(function(Rn,{first:Un,last:Kn},ti){const si=Rn.getAttribute("headingRows")||0;Un<si&&Al("headingRows",Kn<si?si-(Kn-Un+1):Un,Rn,ti,0)})(Vr,xn,yn),Om(Vr,this)||Rm(Vr,this)})}removeColumns(Vr,Wr){const Zr=this.editor.model,tn=Wr.at,sn=Wr.columns||1,un=Wr.at+sn-1;Zr.change(fn=>{(function(yn,xn,Dn){const Mn=yn.getAttribute("headingColumns")||0;if(Mn&&xn.first<Mn){const Rn=Math.min(Mn-1,xn.last)-xn.first+1;Dn.setAttribute("headingColumns",Mn-Rn,yn)}})(Vr,{first:tn,last:un},fn);for(let yn=un;yn>=tn;yn--)for(const{cell:xn,column:Dn,cellWidth:Mn}of[...new $s(Vr)])Dn<=yn&&Mn>1&&Dn+Mn>yn?Al("colspan",Mn-1,xn,fn):Dn===yn&&fn.remove(xn);Rm(Vr,this)||Om(Vr,this)})}splitCellVertically(Vr,Wr=2){const Zr=this.editor.model,tn=Vr.parent.parent,sn=parseInt(Vr.getAttribute("rowspan")||"1"),un=parseInt(Vr.getAttribute("colspan")||"1");Zr.change(fn=>{if(un>1){const{newCellsSpan:yn,updatedSpan:xn}=Tw(un,Wr);Al("colspan",xn,Vr,fn);const Dn={};yn>1&&(Dn.colspan=yn),sn>1&&(Dn.rowspan=sn),Qh(un>Wr?Wr-1:un-1,fn,fn.createPositionAfter(Vr),Dn)}if(un<Wr){const yn=Wr-un,xn=[...new $s(tn)],{column:Dn}=xn.find(({cell:Kn})=>Kn===Vr),Mn=xn.filter(({cell:Kn,cellWidth:ti,column:si})=>Kn!==Vr&&si===Dn||si<Dn&&si+ti>Dn);for(const{cell:Kn,cellWidth:ti}of Mn)fn.setAttribute("colspan",ti+yn,Kn);const Rn={};sn>1&&(Rn.rowspan=sn),Qh(yn,fn,fn.createPositionAfter(Vr),Rn);const Un=tn.getAttribute("headingColumns")||0;Un>Dn&&Al("headingColumns",Un+yn,tn,fn)}})}splitCellHorizontally(Vr,Wr=2){const Zr=this.editor.model,tn=Vr.parent,sn=tn.parent,un=sn.getChildIndex(tn),fn=parseInt(Vr.getAttribute("rowspan")||"1"),yn=parseInt(Vr.getAttribute("colspan")||"1");Zr.change(xn=>{if(fn>1){const Dn=[...new $s(sn,{startRow:un,endRow:un+fn-1,includeAllSlots:!0})],{newCellsSpan:Mn,updatedSpan:Rn}=Tw(fn,Wr);Al("rowspan",Rn,Vr,xn);const{column:Un}=Dn.find(({cell:ti})=>ti===Vr),Kn={};Mn>1&&(Kn.rowspan=Mn),yn>1&&(Kn.colspan=yn);for(const ti of Dn){const{column:si,row:fi}=ti;fi>=un+Rn&&si===Un&&(fi+un+Rn)%Mn==0&&Qh(1,xn,ti.getPositionBefore(),Kn)}}if(fn<Wr){const Dn=Wr-fn,Mn=[...new $s(sn,{startRow:0,endRow:un})];for(const{cell:Kn,cellHeight:ti,row:si}of Mn)if(Kn!==Vr&&si+ti>un){const fi=ti+Dn;xn.setAttribute("rowspan",fi,Kn)}const Rn={};yn>1&&(Rn.colspan=yn),Nm(xn,sn,un+1,Dn,1,Rn);const Un=sn.getAttribute("headingRows")||0;Un>un&&Al("headingRows",Un+Dn,sn,xn)}})}getColumns(Vr){return[...Vr.getChild(0).getChildren()].reduce((Wr,Zr)=>Wr+parseInt(Zr.getAttribute("colspan")||"1"),0)}getRows(Vr){return Array.from(Vr.getChildren()).reduce((Wr,Zr)=>Zr.is("element","tableRow")?Wr+1:Wr,0)}createTableWalker(Vr,Wr={}){return new $s(Vr,Wr)}getSelectedTableCells(Vr){const Wr=[];for(const Zr of this.sortRanges(Vr.getRanges())){const tn=Zr.getContainedElement();tn&&tn.is("element","tableCell")&&Wr.push(tn)}return Wr}getTableCellsContainingSelection(Vr){const Wr=[];for(const Zr of Vr.getRanges()){const tn=Zr.start.findAncestor("tableCell");tn&&Wr.push(tn)}return Wr}getSelectionAffectedTableCells(Vr){const Wr=this.getSelectedTableCells(Vr);return Wr.length?Wr:this.getTableCellsContainingSelection(Vr)}getRowIndexes(Vr){const Wr=Vr.map(Zr=>Zr.parent.index);return this._getFirstLastIndexesObject(Wr)}getColumnIndexes(Vr){const Wr=Vr[0].findAncestor("table"),Zr=[...new $s(Wr)].filter(tn=>Vr.includes(tn.cell)).map(tn=>tn.column);return this._getFirstLastIndexesObject(Zr)}isSelectionRectangular(Vr){if(Vr.length<2||!this._areCellInTheSameTableSection(Vr))return!1;const Wr=new Set,Zr=new Set;let tn=0;for(const un of Vr){const{row:fn,column:yn}=this.getCellLocation(un),xn=parseInt(un.getAttribute("rowspan"))||1,Dn=parseInt(un.getAttribute("colspan"))||1;Wr.add(fn),Zr.add(yn),xn>1&&Wr.add(fn+xn-1),Dn>1&&Zr.add(yn+Dn-1),tn+=xn*Dn}return function(un,fn){const yn=Array.from(un.values()),xn=Array.from(fn.values()),Dn=Math.max(...yn),Mn=Math.min(...yn),Rn=Math.max(...xn),Un=Math.min(...xn);return(Dn-Mn+1)*(Rn-Un+1)}(Wr,Zr)==tn}sortRanges(Vr){return Array.from(Vr).sort(QD)}_getFirstLastIndexesObject(Vr){const Wr=Vr.sort((Zr,tn)=>Zr-tn);return{first:Wr[0],last:Wr[Wr.length-1]}}_areCellInTheSameTableSection(Vr){const Wr=Vr[0].findAncestor("table"),Zr=this.getRowIndexes(Vr),tn=parseInt(Wr.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(Zr,tn))return!1;const sn=this.getColumnIndexes(Vr),un=parseInt(Wr.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(sn,un)}_areIndexesInSameSection({first:Vr,last:Wr},Zr){return Vr<Zr==Wr<Zr}}function Nm(en,Vr,Wr,Zr,tn,sn={}){for(let un=0;un<Zr;un++){const fn=en.createElement("tableRow");en.insert(fn,Vr,Wr),Qh(tn,en,en.createPositionAt(fn,"end"),sn)}}function Qh(en,Vr,Wr,Zr={}){for(let tn=0;tn<en;tn++)vh(Vr,Wr,Zr)}function Tw(en,Vr){if(en<Vr)return{newCellsSpan:1,updatedSpan:1};const Wr=Math.floor(en/Vr);return{newCellsSpan:Wr,updatedSpan:en-Wr*Vr+Wr}}function QD(en,Vr){const Wr=en.start,Zr=Vr.start;return Wr.isBefore(Zr)?-1:1}class JD extends Wa{refresh(){const Vr=this.editor.plugins.get(bc),Wr=Vr.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=Vr.isSelectionRectangular(Wr)}execute(){const Vr=this.editor.model,Wr=this.editor.plugins.get(bc);Vr.change(Zr=>{const tn=Wr.getSelectedTableCells(Vr.document.selection),sn=tn.shift(),{mergeWidth:un,mergeHeight:fn}=function(yn,xn,Dn){let Mn=0,Rn=0;for(const fi of xn){const{row:Li,column:eo}=Dn.getCellLocation(fi);Mn=Iw(fi,eo,Mn,"colspan"),Rn=Iw(fi,Li,Rn,"rowspan")}const{row:Un,column:Kn}=Dn.getCellLocation(yn),ti=Mn-Kn,si=Rn-Un;return{mergeWidth:ti,mergeHeight:si}}(sn,tn,Wr);Al("colspan",un,sn,Zr),Al("rowspan",fn,sn,Zr);for(const yn of tn)eE(yn,sn,Zr);$m(sn.findAncestor("table"),Wr),Zr.setSelection(sn,"in")})}}function eE(en,Vr,Wr){Mw(en)||(Mw(Vr)&&Wr.remove(Wr.createRangeIn(Vr)),Wr.move(Wr.createRangeIn(en),Wr.createPositionAt(Vr,"end"))),Wr.remove(en)}function Mw(en){const Vr=en.getChild(0);return en.childCount==1&&Vr.is("element","paragraph")&&Vr.isEmpty}function Iw(en,Vr,Wr,Zr){const tn=parseInt(en.getAttribute(Zr)||"1");return Math.max(Wr,Vr+tn)}class tE extends Wa{constructor(Vr){super(Vr),this.affectsData=!1}refresh(){const Vr=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=Vr.length>0}execute(){const Vr=this.editor.model,Wr=this.editor.plugins.get("TableUtils"),Zr=Wr.getSelectionAffectedTableCells(Vr.document.selection),tn=Wr.getRowIndexes(Zr),sn=Zr[0].findAncestor("table"),un=[];for(let fn=tn.first;fn<=tn.last;fn++)for(const yn of sn.getChild(fn).getChildren())un.push(Vr.createRangeOn(yn));Vr.change(fn=>{fn.setSelection(un)})}}class rE extends Wa{constructor(Vr){super(Vr),this.affectsData=!1}refresh(){const Vr=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=Vr.length>0}execute(){const Vr=this.editor.plugins.get("TableUtils"),Wr=this.editor.model,Zr=Vr.getSelectionAffectedTableCells(Wr.document.selection),tn=Zr[0],sn=Zr.pop(),un=tn.findAncestor("table"),fn=Vr.getCellLocation(tn),yn=Vr.getCellLocation(sn),xn=Math.min(fn.column,yn.column),Dn=Math.max(fn.column,yn.column),Mn=[];for(const Rn of new $s(un,{startColumn:xn,endColumn:Dn}))Mn.push(Wr.createRangeOn(Rn.cell));Wr.change(Rn=>{Rn.setSelection(Mn)})}}function nE(en){en.document.registerPostFixer(Vr=>function(Wr,Zr){const tn=Zr.document.differ.getChanges();let sn=!1;const un=new Set;for(const fn of tn){let yn=null;fn.type=="insert"&&fn.name=="table"&&(yn=fn.position.nodeAfter),fn.type!="insert"&&fn.type!="remove"||fn.name!="tableRow"&&fn.name!="tableCell"||(yn=fn.position.findAncestor("table")),aE(fn)&&(yn=fn.range.start.findAncestor("table")),yn&&!un.has(yn)&&(sn=iE(yn,Wr)||sn,sn=oE(yn,Wr)||sn,un.add(yn))}return sn}(Vr,en))}function iE(en,Vr){let Wr=!1;const Zr=function(tn){const sn=parseInt(tn.getAttribute("headingRows")||"0"),un=Array.from(tn.getChildren()).reduce((yn,xn)=>xn.is("element","tableRow")?yn+1:yn,0),fn=[];for(const{row:yn,cell:xn,cellHeight:Dn}of new $s(tn)){if(Dn<2)continue;const Mn=yn<sn?sn:un;if(yn+Dn>Mn){const Rn=Mn-yn;fn.push({cell:xn,rowspan:Rn})}}return fn}(en);if(Zr.length){Wr=!0;for(const tn of Zr)Al("rowspan",tn.rowspan,tn.cell,Vr,1)}return Wr}function oE(en,Vr){let Wr=!1;const Zr=function(fn){const yn=new Array(fn.childCount).fill(0);for(const{rowIndex:xn}of new $s(fn,{includeAllSlots:!0}))yn[xn]++;return yn}(en),tn=[];for(const[fn,yn]of Zr.entries())!yn&&en.getChild(fn).is("element","tableRow")&&tn.push(fn);if(tn.length){Wr=!0;for(const fn of tn.reverse())Vr.remove(en.getChild(fn)),Zr.splice(fn,1)}const sn=Zr.filter((fn,yn)=>en.getChild(yn).is("element","tableRow")),un=sn[0];if(!sn.every(fn=>fn===un)){const fn=sn.reduce((yn,xn)=>xn>yn?xn:yn,0);for(const[yn,xn]of sn.entries()){const Dn=fn-xn;if(Dn){for(let Mn=0;Mn<Dn;Mn++)vh(Vr,Vr.createPositionAt(en.getChild(yn),"end"));Wr=!0}}}return Wr}function aE(en){if(en.type!=="attribute")return!1;const Vr=en.attributeKey;return Vr==="headingRows"||Vr==="colspan"||Vr==="rowspan"}function sE(en){en.document.registerPostFixer(Vr=>function(Wr,Zr){const tn=Zr.document.differ.getChanges();let sn=!1;for(const un of tn)un.type=="insert"&&un.name=="table"&&(sn=lE(un.position.nodeAfter,Wr)||sn),un.type=="insert"&&un.name=="tableRow"&&(sn=Lw(un.position.nodeAfter,Wr)||sn),un.type=="insert"&&un.name=="tableCell"&&(sn=Bm(un.position.nodeAfter,Wr)||sn),un.type!="remove"&&un.type!="insert"||!cE(un)||(sn=Bm(un.position.parent,Wr)||sn);return sn}(Vr,en))}function lE(en,Vr){let Wr=!1;for(const Zr of en.getChildren())Zr.is("element","tableRow")&&(Wr=Lw(Zr,Vr)||Wr);return Wr}function Lw(en,Vr){let Wr=!1;for(const Zr of en.getChildren())Wr=Bm(Zr,Vr)||Wr;return Wr}function Bm(en,Vr){if(en.childCount==0)return Vr.insertElement("paragraph",en),!0;const Wr=Array.from(en.getChildren()).filter(Zr=>Zr.is("$text"));for(const Zr of Wr)Vr.wrap(Vr.createRangeOn(Zr),"paragraph");return!!Wr.length}function cE(en){return!!en.position.parent.is("element","tableCell")&&(en.type=="insert"&&en.name=="$text"||en.type=="remove")}function uE(en,Vr){if(!en.is("element","paragraph"))return!1;const Wr=Vr.toViewElement(en);return!!Wr&&mw(en)!==Wr.is("element","span")}var Pw=Fr(3881),dE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Pw.Z,dE),Pw.Z.locals;class hE extends yo{constructor(Vr){super(Vr),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[bc]}init(){const Vr=this.editor,Wr=Vr.model,Zr=Wr.schema,tn=Vr.conversion,sn=Vr.plugins.get(bc);Zr.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),Zr.register("tableRow",{allowIn:"table",isLimit:!0}),Zr.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),tn.for("upcast").add(un=>{un.on("element:figure",(fn,yn,xn)=>{if(!xn.consumable.test(yn.viewItem,{name:!0,classes:"table"}))return;const Dn=function(Rn){for(const Un of Rn.getChildren())if(Un.is("element","table"))return Un}(yn.viewItem);if(!Dn||!xn.consumable.test(Dn,{name:!0}))return;xn.consumable.consume(yn.viewItem,{name:!0,classes:"table"});const Mn=_l(xn.convertItem(Dn,yn.modelCursor).modelRange.getItems());Mn?(xn.convertChildren(yn.viewItem,xn.writer.createPositionAt(Mn,"end")),xn.updateConversionResult(Mn,yn)):xn.consumable.revert(yn.viewItem,{name:!0,classes:"table"})})}),tn.for("upcast").add(UD()),tn.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:fw(sn,{asWidget:!0,additionalSlots:this._additionalSlots})}),tn.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:fw(sn,{additionalSlots:this._additionalSlots})}),tn.for("upcast").elementToElement({model:"tableRow",view:"tr"}),tn.for("upcast").add(un=>{un.on("element:tr",(fn,yn)=>{yn.viewItem.isEmpty&&yn.modelCursor.index==0&&fn.stop()},{priority:"high"})}),tn.for("downcast").elementToElement({model:"tableRow",view:(un,{writer:fn})=>un.isEmpty?fn.createEmptyElement("tr"):fn.createContainerElement("tr")}),tn.for("upcast").elementToElement({model:"tableCell",view:"td"}),tn.for("upcast").elementToElement({model:"tableCell",view:"th"}),tn.for("upcast").add(hw("td")),tn.for("upcast").add(hw("th")),tn.for("editingDowncast").elementToElement({model:"tableCell",view:pw({asWidget:!0})}),tn.for("dataDowncast").elementToElement({model:"tableCell",view:pw()}),tn.for("editingDowncast").elementToElement({model:"paragraph",view:gw({asWidget:!0}),converterPriority:"high"}),tn.for("dataDowncast").elementToElement({model:"paragraph",view:gw(),converterPriority:"high"}),tn.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),tn.for("upcast").attributeToAttribute({model:{key:"colspan",value:Ow("colspan")},view:"colspan"}),tn.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),tn.for("upcast").attributeToAttribute({model:{key:"rowspan",value:Ow("rowspan")},view:"rowspan"}),Vr.config.define("table.defaultHeadings.rows",0),Vr.config.define("table.defaultHeadings.columns",0),Vr.commands.add("insertTable",new YD(Vr)),Vr.commands.add("insertTableRowAbove",new vw(Vr,{order:"above"})),Vr.commands.add("insertTableRowBelow",new vw(Vr,{order:"below"})),Vr.commands.add("insertTableColumnLeft",new yw(Vr,{order:"left"})),Vr.commands.add("insertTableColumnRight",new yw(Vr,{order:"right"})),Vr.commands.add("removeTableRow",new qD(Vr)),Vr.commands.add("removeTableColumn",new KD(Vr)),Vr.commands.add("splitTableCellVertically",new bw(Vr,{direction:"vertically"})),Vr.commands.add("splitTableCellHorizontally",new bw(Vr,{direction:"horizontally"})),Vr.commands.add("mergeTableCells",new JD(Vr)),Vr.commands.add("mergeTableCellRight",new ag(Vr,{direction:"right"})),Vr.commands.add("mergeTableCellLeft",new ag(Vr,{direction:"left"})),Vr.commands.add("mergeTableCellDown",new ag(Vr,{direction:"down"})),Vr.commands.add("mergeTableCellUp",new ag(Vr,{direction:"up"})),Vr.commands.add("setTableColumnHeader",new XD(Vr)),Vr.commands.add("setTableRowHeader",new ZD(Vr)),Vr.commands.add("selectTableRow",new tE(Vr)),Vr.commands.add("selectTableColumn",new rE(Vr)),nE(Wr),sE(Wr),this.listenTo(Wr.document,"change:data",()=>{(function(un,fn){const yn=un.document.differ;for(const xn of yn.getChanges()){let Dn,Mn=!1;if(xn.type=="attribute"){const ti=xn.range.start.nodeAfter;if(!ti||!ti.is("element","table")||xn.attributeKey!="headingRows"&&xn.attributeKey!="headingColumns")continue;Dn=ti,Mn=xn.attributeKey=="headingRows"}else xn.name!="tableRow"&&xn.name!="tableCell"||(Dn=xn.position.findAncestor("table"),Mn=xn.name=="tableRow");if(!Dn)continue;const Rn=Dn.getAttribute("headingRows")||0,Un=Dn.getAttribute("headingColumns")||0,Kn=new $s(Dn);for(const ti of Kn){const si=ti.row<Rn||ti.column<Un?"th":"td",fi=fn.mapper.toViewElement(ti.cell);fi&&fi.is("element")&&fi.name!=si&&fn.reconvertItem(Mn?ti.cell.parent:ti.cell)}}})(Wr,Vr.editing),function(un,fn){const yn=un.document.differ,xn=new Set;for(const Dn of yn.getChanges()){const Mn=Dn.type=="attribute"?Dn.range.start.parent:Dn.position.parent;Mn.is("element","tableCell")&&xn.add(Mn)}for(const Dn of xn.values()){const Mn=Array.from(Dn.getChildren()).filter(Rn=>uE(Rn,fn.mapper));for(const Rn of Mn)fn.reconvertItem(Rn)}}(Wr,Vr.editing)})}registerAdditionalSlot(Vr){this._additionalSlots.push(Vr)}}function Ow(en){return Vr=>{const Wr=parseInt(Vr.getAttribute(en));return Number.isNaN(Wr)||Wr<=0?null:Wr}}var Rw=Fr(1613),fE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Rw.Z,fE),Rw.Z.locals;class pE extends is{constructor(Vr){super(Vr);const Wr=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new tu,this.focusTracker=new Ic,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(Zr,tn)=>`${tn} Ã ${Zr}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":Wr.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:Wr.to("label")}]}],on:{mousedown:Wr.to(Zr=>{Zr.preventDefault()}),click:Wr.to(()=>{this.fire("execute")})}}),this.on("boxover",(Zr,tn)=>{const{row:sn,column:un}=tn.target.dataset;this.items.get(10*(parseInt(sn,10)-1)+(parseInt(un,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(Zr,tn,sn)=>{if(!sn)return;const{row:un,column:fn}=sn.dataset;this.set({rows:parseInt(un),columns:parseInt(fn)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:Vr,focusTracker:Wr,gridItems:Zr,numberOfColumns:tn,uiLanguageDirection:sn}){const un=typeof tn=="number"?()=>tn:tn;function fn(Dn){return Mn=>{const Rn=Zr.find(ti=>ti.element===Wr.focusedElement),Un=Zr.getIndex(Rn),Kn=Dn(Un,Zr);Zr.get(Kn).focus(),Mn.stopPropagation(),Mn.preventDefault()}}function yn(Dn,Mn){return Dn===Mn-1?0:Dn+1}function xn(Dn,Mn){return Dn===0?Mn-1:Dn-1}Vr.set("arrowright",fn((Dn,Mn)=>sn==="rtl"?xn(Dn,Mn.length):yn(Dn,Mn.length))),Vr.set("arrowleft",fn((Dn,Mn)=>sn==="rtl"?yn(Dn,Mn.length):xn(Dn,Mn.length))),Vr.set("arrowup",fn((Dn,Mn)=>{let Rn=Dn-un();return Rn<0&&(Rn=Dn+un()*Math.floor(Mn.length/un()),Rn>Mn.length-1&&(Rn-=un())),Rn})),Vr.set("arrowdown",fn((Dn,Mn)=>{let Rn=Dn+un();return Rn>Mn.length-1&&(Rn=Dn%un()),Rn}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const Vr of this.items)this.focusTracker.add(Vr.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const Vr=this.rows,Wr=this.columns;this.items.map((Zr,tn)=>{const sn=Math.floor(tn/10)<Vr&&tn%10<Wr;Zr.set("isOn",sn)})}_createGridButton(Vr,Wr,Zr,tn){const sn=new gs(Vr);return sn.set({label:tn,class:"ck-insert-table-dropdown-grid-box"}),sn.extendTemplate({attributes:{"data-row":Wr,"data-column":Zr}}),sn}_createGridCollection(){const Vr=[];for(let Wr=0;Wr<100;Wr++){const Zr=Math.floor(Wr/10),tn=Wr%10,sn=`${Zr+1} Ã ${tn+1}`;Vr.push(this._createGridButton(this.locale,Zr+1,tn+1,sn))}return this.createCollection(Vr)}}class gE extends yo{static get pluginName(){return"TableUI"}init(){const Vr=this.editor,Wr=this.editor.t,Zr=Vr.locale.contentLanguageDirection==="ltr";Vr.ui.componentFactory.add("insertTable",tn=>{const sn=Vr.commands.get("insertTable"),un=Nd(tn);let fn;return un.bind("isEnabled").to(sn),un.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:Wr("Insert table"),tooltip:!0}),un.on("change:isOpen",()=>{fn||(fn=new pE(tn),un.panelView.children.add(fn),fn.delegate("execute").to(un),un.on("execute",()=>{Vr.execute("insertTable",{rows:fn.rows,columns:fn.columns}),Vr.editing.view.focus()}))}),un}),Vr.ui.componentFactory.add("tableColumn",tn=>{const sn=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:Wr("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:Zr?"insertTableColumnLeft":"insertTableColumnRight",label:Wr("Insert column left")}},{type:"button",model:{commandName:Zr?"insertTableColumnRight":"insertTableColumnLeft",label:Wr("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:Wr("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:Wr("Select column")}}];return this._prepareDropdown(Wr("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',sn,tn)}),Vr.ui.componentFactory.add("tableRow",tn=>{const sn=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:Wr("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:Wr("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:Wr("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:Wr("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:Wr("Select row")}}];return this._prepareDropdown(Wr("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',sn,tn)}),Vr.ui.componentFactory.add("mergeTableCells",tn=>{const sn=[{type:"button",model:{commandName:"mergeTableCellUp",label:Wr("Merge cell up")}},{type:"button",model:{commandName:Zr?"mergeTableCellRight":"mergeTableCellLeft",label:Wr("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:Wr("Merge cell down")}},{type:"button",model:{commandName:Zr?"mergeTableCellLeft":"mergeTableCellRight",label:Wr("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:Wr("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:Wr("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(Wr("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',sn,tn)})}_prepareDropdown(Vr,Wr,Zr,tn){const sn=this.editor,un=Nd(tn),fn=this._fillDropdownWithListOptions(un,Zr);return un.buttonView.set({label:Vr,icon:Wr,tooltip:!0}),un.bind("isEnabled").toMany(fn,"isEnabled",(...yn)=>yn.some(xn=>xn)),this.listenTo(un,"execute",yn=>{sn.execute(yn.source.commandName),yn.source instanceof Ch||sn.editing.view.focus()}),un}_prepareMergeSplitButtonDropdown(Vr,Wr,Zr,tn){const sn=this.editor,un=Nd(tn,Wg),fn="mergeTableCells",yn=sn.commands.get(fn),xn=this._fillDropdownWithListOptions(un,Zr);return un.buttonView.set({label:Vr,icon:Wr,tooltip:!0,isEnabled:!0}),un.bind("isEnabled").toMany([yn,...xn],"isEnabled",(...Dn)=>Dn.some(Mn=>Mn)),this.listenTo(un.buttonView,"execute",()=>{sn.execute(fn),sn.editing.view.focus()}),this.listenTo(un,"execute",Dn=>{sn.execute(Dn.source.commandName),sn.editing.view.focus()}),un}_fillDropdownWithListOptions(Vr,Wr){const Zr=this.editor,tn=[],sn=new Fc;for(const un of Wr)mE(un,Zr,tn,sn);return vy(Vr,sn),tn}}function mE(en,Vr,Wr,Zr){if(en.type==="button"||en.type==="switchbutton"){const tn=en.model=new Yy(en.model),{commandName:sn,bindIsOn:un}=en.model,fn=Vr.commands.get(sn);Wr.push(fn),tn.set({commandName:sn}),tn.bind("isEnabled").to(fn),un&&tn.bind("isOn").to(fn,"value"),tn.set({withText:!0})}Zr.add(en)}var $w=Fr(6945),vE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()($w.Z,vE),$w.Z.locals;class yh extends yo{static get pluginName(){return"TableSelection"}static get requires(){return[bc,bc]}init(){const Vr=this.editor,Wr=Vr.model,Zr=Vr.editing.view;this.listenTo(Wr,"deleteContent",(tn,sn)=>this._handleDeleteContent(tn,sn),{priority:"high"}),this.listenTo(Zr.document,"insertText",(tn,sn)=>this._handleInsertTextEvent(tn,sn),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const Vr=this.editor.plugins.get(bc),Wr=this.editor.model.document.selection,Zr=Vr.getSelectedTableCells(Wr);return Zr.length==0?null:Zr}getSelectionAsFragment(){const Vr=this.editor.plugins.get(bc),Wr=this.getSelectedTableCells();return Wr?this.editor.model.change(Zr=>{const tn=Zr.createDocumentFragment(),{first:sn,last:un}=Vr.getColumnIndexes(Wr),{first:fn,last:yn}=Vr.getRowIndexes(Wr),xn=Wr[0].findAncestor("table");let Dn=yn,Mn=un;if(Vr.isSelectionRectangular(Wr)){const Un={firstColumn:sn,lastColumn:un,firstRow:fn,lastRow:yn};Dn=Sw(xn,Un),Mn=Dw(xn,Un)}const Rn=_w(xn,{startRow:fn,startColumn:sn,endRow:Dn,endColumn:Mn},Zr);return Zr.insert(Rn,tn,0),tn}):null}setCellSelection(Vr,Wr){const Zr=this._getCellsToSelect(Vr,Wr);this.editor.model.change(tn=>{tn.setSelection(Zr.cells.map(sn=>tn.createRangeOn(sn)),{backward:Zr.backward})})}getFocusCell(){const Vr=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return Vr&&Vr.is("element","tableCell")?Vr:null}getAnchorCell(){const Vr=_l(this.editor.model.document.selection.getRanges()).getContainedElement();return Vr&&Vr.is("element","tableCell")?Vr:null}_defineSelectionConverter(){const Vr=this.editor,Wr=new Set;Vr.conversion.for("editingDowncast").add(Zr=>Zr.on("selection",(tn,sn,un)=>{const fn=un.writer;(function(Dn){for(const Mn of Wr)Dn.removeClass("ck-editor__editable_selected",Mn);Wr.clear()})(fn);const yn=this.getSelectedTableCells();if(!yn)return;for(const Dn of yn){const Mn=un.mapper.toViewElement(Dn);fn.addClass("ck-editor__editable_selected",Mn),Wr.add(Mn)}const xn=un.mapper.toViewElement(yn[yn.length-1]);fn.setSelection(xn,0)},{priority:"lowest"}))}_enablePluginDisabling(){const Vr=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const Wr=this.getSelectedTableCells();if(!Wr)return;Vr.model.change(Zr=>{const tn=Zr.createPositionAt(Wr[0],0),sn=Vr.model.schema.getNearestSelectionRange(tn);Zr.setSelection(sn)})}})}_handleDeleteContent(Vr,Wr){const Zr=this.editor.plugins.get(bc),tn=Wr[0],sn=Wr[1],un=this.editor.model,fn=!sn||sn.direction=="backward",yn=Zr.getSelectedTableCells(tn);yn.length&&(Vr.stop(),un.change(xn=>{const Dn=yn[fn?yn.length-1:0];un.change(Rn=>{for(const Un of yn)un.deleteContent(Rn.createSelection(Un,"in"))});const Mn=un.schema.getNearestSelectionRange(xn.createPositionAt(Dn,0));tn.is("documentSelection")?xn.setSelection(Mn):tn.setTo(Mn)}))}_handleInsertTextEvent(Vr,Wr){const Zr=this.editor,tn=this.getSelectedTableCells();if(!tn)return;const sn=Zr.editing.view,un=Zr.editing.mapper,fn=tn.map(yn=>sn.createRangeOn(un.toViewElement(yn)));Wr.selection=sn.createSelection(fn)}_getCellsToSelect(Vr,Wr){const Zr=this.editor.plugins.get("TableUtils"),tn=Zr.getCellLocation(Vr),sn=Zr.getCellLocation(Wr),un=Math.min(tn.row,sn.row),fn=Math.max(tn.row,sn.row),yn=Math.min(tn.column,sn.column),xn=Math.max(tn.column,sn.column),Dn=new Array(fn-un+1).fill(null).map(()=>[]),Mn={startRow:un,endRow:fn,startColumn:yn,endColumn:xn};for(const{row:Kn,cell:ti}of new $s(Vr.findAncestor("table"),Mn))Dn[Kn-un].push(ti);const Rn=sn.row<tn.row,Un=sn.column<tn.column;return Rn&&Dn.reverse(),Un&&Dn.forEach(Kn=>Kn.reverse()),{cells:Dn.flat(),backward:Rn||Un}}}class yE extends yo{static get pluginName(){return"TableClipboard"}static get requires(){return[yh,bc]}init(){const Vr=this.editor,Wr=Vr.editing.view.document;this.listenTo(Wr,"copy",(Zr,tn)=>this._onCopyCut(Zr,tn)),this.listenTo(Wr,"cut",(Zr,tn)=>this._onCopyCut(Zr,tn)),this.listenTo(Vr.model,"insertContent",(Zr,[tn,sn])=>this._onInsertContent(Zr,tn,sn),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(Vr,Wr){const Zr=this.editor.plugins.get(yh);if(!Zr.getSelectedTableCells()||Vr.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;Wr.preventDefault(),Vr.stop();const tn=this.editor.data,sn=this.editor.editing.view.document,un=tn.toView(Zr.getSelectionAsFragment());sn.fire("clipboardOutput",{dataTransfer:Wr.dataTransfer,content:un,method:Vr.name})}_onInsertContent(Vr,Wr,Zr){if(Zr&&!Zr.is("documentSelection"))return;const tn=this.editor.model,sn=this.editor.plugins.get(bc);let un=this.getTableIfOnlyTableInContent(Wr,tn);if(!un)return;const fn=sn.getSelectionAffectedTableCells(tn.document.selection);fn.length?(Vr.stop(),tn.change(yn=>{const xn={width:sn.getColumns(un),height:sn.getRows(un)},Dn=function(si,fi,Li,eo){const Fo=si[0].findAncestor("table"),wa=eo.getColumnIndexes(si),Ns=eo.getRowIndexes(si),ds={firstColumn:wa.first,lastColumn:wa.last,firstRow:Ns.first,lastRow:Ns.last},Yl=si.length===1;return Yl&&(ds.lastRow+=fi.height-1,ds.lastColumn+=fi.width-1,function(Vl,Jh,Qu,fu){const bd=fu.getColumns(Vl),_d=fu.getRows(Vl);Qu>bd&&fu.insertColumns(Vl,{at:bd,columns:Qu-bd}),Jh>_d&&fu.insertRows(Vl,{at:_d,rows:Jh-_d})}(Fo,ds.lastRow+1,ds.lastColumn+1,eo)),Yl||!eo.isSelectionRectangular(si)?function(Vl,Jh,Qu){const{firstRow:fu,lastRow:bd,firstColumn:_d,lastColumn:_h}=Jh,e1={first:fu,last:bd},t1={first:_d,last:_h};zm(Vl,_d,e1,Qu),zm(Vl,_h+1,e1,Qu),Fm(Vl,fu,t1,Qu),Fm(Vl,bd+1,t1,Qu,fu)}(Fo,ds,Li):(ds.lastRow=Sw(Fo,ds),ds.lastColumn=Dw(Fo,ds)),ds}(fn,xn,yn,sn),Mn=Dn.lastRow-Dn.firstRow+1,Rn=Dn.lastColumn-Dn.firstColumn+1,Un={startRow:0,startColumn:0,endRow:Math.min(Mn,xn.height)-1,endColumn:Math.min(Rn,xn.width)-1};un=_w(un,Un,yn);const Kn=fn[0].findAncestor("table"),ti=this._replaceSelectedCellsWithPasted(un,xn,Kn,Dn,yn);if(this.editor.plugins.get("TableSelection").isEnabled){const si=sn.sortRanges(ti.map(fi=>yn.createRangeOn(fi)));yn.setSelection(si)}else yn.setSelection(ti[0],0)})):$m(un,sn)}_replaceSelectedCellsWithPasted(Vr,Wr,Zr,tn,sn){const{width:un,height:fn}=Wr,yn=function(si,fi,Li){const eo=new Array(Li).fill(null).map(()=>new Array(fi).fill(null));for(const{column:Fo,row:wa,cell:Ns}of new $s(si))eo[wa][Fo]=Ns;return eo}(Vr,un,fn),xn=[...new $s(Zr,{startRow:tn.firstRow,endRow:tn.lastRow,startColumn:tn.firstColumn,endColumn:tn.lastColumn,includeAllSlots:!0})],Dn=[];let Mn;for(const si of xn){const{row:fi,column:Li}=si;Li===tn.firstColumn&&(Mn=si.getPositionBefore());const eo=fi-tn.firstRow,Fo=Li-tn.firstColumn,wa=yn[eo%fn][Fo%un],Ns=wa?sn.cloneElement(wa):null,ds=this._replaceTableSlotCell(si,Ns,Mn,sn);ds&&(xw(ds,fi,Li,tn.lastRow,tn.lastColumn,sn),Dn.push(ds),Mn=sn.createPositionAfter(ds))}const Rn=parseInt(Zr.getAttribute("headingRows")||"0"),Un=parseInt(Zr.getAttribute("headingColumns")||"0"),Kn=tn.firstRow<Rn&&Rn<=tn.lastRow,ti=tn.firstColumn<Un&&Un<=tn.lastColumn;if(Kn){const si=Fm(Zr,Rn,{first:tn.firstColumn,last:tn.lastColumn},sn,tn.firstRow);Dn.push(...si)}if(ti){const si=zm(Zr,Un,{first:tn.firstRow,last:tn.lastRow},sn);Dn.push(...si)}return Dn}_replaceTableSlotCell(Vr,Wr,Zr,tn){const{cell:sn,isAnchor:un}=Vr;return un&&tn.remove(sn),Wr?(tn.insert(Wr,Zr),Wr):null}getTableIfOnlyTableInContent(Vr,Wr){if(!Vr.is("documentFragment")&&!Vr.is("element"))return null;if(Vr.is("element","table"))return Vr;if(Vr.childCount==1&&Vr.getChild(0).is("element","table"))return Vr.getChild(0);const Zr=Wr.createRangeIn(Vr);for(const tn of Zr.getItems())if(tn.is("element","table")){const sn=Wr.createRange(Zr.start,Wr.createPositionBefore(tn));if(Wr.hasContent(sn,{ignoreWhitespaces:!0}))return null;const un=Wr.createRange(Wr.createPositionAfter(tn),Zr.end);return Wr.hasContent(un,{ignoreWhitespaces:!0})?null:tn}return null}}function Fm(en,Vr,Wr,Zr,tn=0){if(!(Vr<1))return ww(en,Vr,tn).filter(({column:sn,cellWidth:un})=>Nw(sn,un,Wr)).map(({cell:sn})=>kw(sn,Vr,Zr))}function zm(en,Vr,Wr,Zr){if(!(Vr<1))return Aw(en,Vr).filter(({row:tn,cellHeight:sn})=>Nw(tn,sn,Wr)).map(({cell:tn,column:sn})=>Cw(tn,sn,Vr,Zr))}function Nw(en,Vr,Wr){const Zr=en+Vr-1,{first:tn,last:sn}=Wr;return en>=tn&&en<=sn||en<tn&&Zr>=tn}class bE extends yo{static get pluginName(){return"TableKeyboard"}static get requires(){return[yh,bc]}init(){const Vr=this.editor.editing.view.document;this.listenTo(Vr,"arrowKey",(...Wr)=>this._onArrowKey(...Wr),{context:"table"}),this.listenTo(Vr,"tab",(...Wr)=>this._handleTabOnSelectedTable(...Wr),{context:"figure"}),this.listenTo(Vr,"tab",(...Wr)=>this._handleTab(...Wr),{context:["th","td"]})}_handleTabOnSelectedTable(Vr,Wr){const Zr=this.editor,tn=Zr.model.document.selection.getSelectedElement();tn&&tn.is("element","table")&&(Wr.preventDefault(),Wr.stopPropagation(),Vr.stop(),Zr.model.change(sn=>{sn.setSelection(sn.createRangeIn(tn.getChild(0).getChild(0)))}))}_handleTab(Vr,Wr){const Zr=this.editor,tn=this.editor.plugins.get(bc),sn=this.editor.plugins.get("TableSelection"),un=Zr.model.document.selection,fn=!Wr.shiftKey;let yn=tn.getTableCellsContainingSelection(un)[0];if(yn||(yn=sn.getFocusCell()),!yn)return;Wr.preventDefault(),Wr.stopPropagation(),Vr.stop();const xn=yn.parent,Dn=xn.parent,Mn=Dn.getChildIndex(xn),Rn=xn.getChildIndex(yn),Un=Rn===0;if(!fn&&Un&&Mn===0)return void Zr.model.change(fi=>{fi.setSelection(fi.createRangeOn(Dn))});const Kn=Rn===xn.childCount-1,ti=Mn===tn.getRows(Dn)-1;if(fn&&ti&&Kn&&(Zr.execute("insertTableRowBelow"),Mn===tn.getRows(Dn)-1))return void Zr.model.change(fi=>{fi.setSelection(fi.createRangeOn(Dn))});let si;if(fn&&Kn)si=Dn.getChild(Mn+1).getChild(0);else if(!fn&&Un){const fi=Dn.getChild(Mn-1);si=fi.getChild(fi.childCount-1)}else si=xn.getChild(Rn+(fn?1:-1));Zr.model.change(fi=>{fi.setSelection(fi.createRangeIn(si))})}_onArrowKey(Vr,Wr){const Zr=this.editor,tn=wh(Wr.keyCode,Zr.locale.contentLanguageDirection);this._handleArrowKeys(tn,Wr.shiftKey)&&(Wr.preventDefault(),Wr.stopPropagation(),Vr.stop())}_handleArrowKeys(Vr,Wr){const Zr=this.editor.plugins.get(bc),tn=this.editor.plugins.get("TableSelection"),sn=this.editor.model,un=sn.document.selection,fn=["right","down"].includes(Vr),yn=Zr.getSelectedTableCells(un);if(yn.length){let Dn;return Dn=Wr?tn.getFocusCell():fn?yn[yn.length-1]:yn[0],this._navigateFromCellInDirection(Dn,Vr,Wr),!0}const xn=un.focus.findAncestor("tableCell");if(!xn)return!1;if(!un.isCollapsed)if(Wr){if(un.isBackward==fn&&!un.containsEntireContent(xn))return!1}else{const Dn=un.getSelectedElement();if(!Dn||!sn.schema.isObject(Dn))return!1}return!!this._isSelectionAtCellEdge(un,xn,fn)&&(this._navigateFromCellInDirection(xn,Vr,Wr),!0)}_isSelectionAtCellEdge(Vr,Wr,Zr){const tn=this.editor.model,sn=this.editor.model.schema,un=Zr?Vr.getLastPosition():Vr.getFirstPosition();if(!sn.getLimitElement(un).is("element","tableCell"))return tn.createPositionAt(Wr,Zr?"end":0).isTouching(un);const fn=tn.createSelection(un);return tn.modifySelection(fn,{direction:Zr?"forward":"backward"}),un.isEqual(fn.focus)}_navigateFromCellInDirection(Vr,Wr,Zr=!1){const tn=this.editor.model,sn=Vr.findAncestor("table"),un=[...new $s(sn,{includeAllSlots:!0})],{row:fn,column:yn}=un[un.length-1],xn=un.find(({cell:ti})=>ti==Vr);let{row:Dn,column:Mn}=xn;switch(Wr){case"left":Mn--;break;case"up":Dn--;break;case"right":Mn+=xn.cellWidth;break;case"down":Dn+=xn.cellHeight}if(Dn<0||Dn>fn||Mn<0&&Dn<=0||Mn>yn&&Dn>=fn)return void tn.change(ti=>{ti.setSelection(ti.createRangeOn(sn))});Mn<0?(Mn=Zr?0:yn,Dn--):Mn>yn&&(Mn=Zr?yn:0,Dn++);const Rn=un.find(ti=>ti.row==Dn&&ti.column==Mn).cell,Un=["right","down"].includes(Wr),Kn=this.editor.plugins.get("TableSelection");if(Zr&&Kn.isEnabled){const ti=Kn.getAnchorCell()||Vr;Kn.setCellSelection(ti,Rn)}else{const ti=tn.createPositionAt(Rn,Un?0:"end");tn.change(si=>{si.setSelection(ti)})}}}class _E extends Wo{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(Vr){this.fire(Vr.type,Vr)}}class wE extends yo{static get pluginName(){return"TableMouse"}static get requires(){return[yh,bc]}init(){this.editor.editing.view.addObserver(_E),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const Vr=this.editor,Wr=Vr.plugins.get(bc);let Zr=!1;const tn=Vr.plugins.get(yh);this.listenTo(Vr.editing.view.document,"mousedown",(sn,un)=>{const fn=Vr.model.document.selection;if(!this.isEnabled||!tn.isEnabled||!un.domEvent.shiftKey)return;const yn=tn.getAnchorCell()||Wr.getTableCellsContainingSelection(fn)[0];if(!yn)return;const xn=this._getModelTableCellFromDomEvent(un);xn&&Bw(yn,xn)&&(Zr=!0,tn.setCellSelection(yn,xn),un.preventDefault())}),this.listenTo(Vr.editing.view.document,"mouseup",()=>{Zr=!1}),this.listenTo(Vr.editing.view.document,"selectionChange",sn=>{Zr&&sn.stop()},{priority:"highest"})}_enableMouseDragSelection(){const Vr=this.editor;let Wr,Zr,tn=!1,sn=!1;const un=Vr.plugins.get(yh);this.listenTo(Vr.editing.view.document,"mousedown",(fn,yn)=>{this.isEnabled&&un.isEnabled&&(yn.domEvent.shiftKey||yn.domEvent.ctrlKey||yn.domEvent.altKey||(Wr=this._getModelTableCellFromDomEvent(yn)))}),this.listenTo(Vr.editing.view.document,"mousemove",(fn,yn)=>{if(!yn.domEvent.buttons||!Wr)return;const xn=this._getModelTableCellFromDomEvent(yn);xn&&Bw(Wr,xn)&&(Zr=xn,tn||Zr==Wr||(tn=!0)),tn&&(sn=!0,un.setCellSelection(Wr,Zr),yn.preventDefault())}),this.listenTo(Vr.editing.view.document,"mouseup",()=>{tn=!1,sn=!1,Wr=null,Zr=null}),this.listenTo(Vr.editing.view.document,"selectionChange",fn=>{sn&&fn.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(Vr){const Wr=Vr.target,Zr=this.editor.editing.view.createPositionAt(Wr,0);return this.editor.editing.mapper.toModelPosition(Zr).parent.findAncestor("tableCell",{includeSelf:!0})}}function Bw(en,Vr){return en.parent.parent==Vr.parent.parent}var Fw=Fr(6306),kE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Fw.Z,kE),Fw.Z.locals;function AE(en){const Vr=en.getSelectedElement();return Vr&&zw(Vr)?Vr:null}function CE(en){const Vr=en.getFirstPosition();if(!Vr)return null;let Wr=Vr.parent;for(;Wr;){if(Wr.is("element")&&zw(Wr))return Wr;Wr=Wr.parent}return null}function zw(en){return!!en.getCustomProperty("table")&&pl(en)}var Hw=Fr(7368),xE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Hw.Z,xE),Hw.Z.locals;var Vw=Fr(9247),SE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Vw.Z,SE),Vw.Z.locals;var jw=Fr(4070),DE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(jw.Z,DE),jw.Z.locals;var Uw=Fr(6237),EE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Uw.Z,EE),Uw.Z.locals;var Gw=Fr(5087),TE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Gw.Z,TE),Gw.Z.locals;const bh=Oc.defaultPositions;bh.northArrowSouth,bh.northArrowSouthWest,bh.northArrowSouthEast,bh.southArrowNorth,bh.southArrowNorthWest,bh.southArrowNorthEast,bh.viewportStickyNorth;var Ww=Fr(7341),ME={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Ww.Z,ME),Ww.Z.locals;var Yw=Fr(2128),IE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(Yw.Z,IE),Yw.Z.locals;var qw=Fr(4101),LE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Go()(qw.Z,LE),qw.Z.locals;var PE=Object.defineProperty,Kw=Object.getOwnPropertySymbols,OE=Object.prototype.hasOwnProperty,RE=Object.prototype.propertyIsEnumerable,Zw=(en,Vr,Wr)=>Vr in en?PE(en,Vr,{enumerable:!0,configurable:!0,writable:!0,value:Wr}):en[Vr]=Wr,Xw=(en,Vr)=>{for(var Wr in Vr||(Vr={}))OE.call(Vr,Wr)&&Zw(en,Wr,Vr[Wr]);if(Kw)for(var Wr of Kw(Vr))RE.call(Vr,Wr)&&Zw(en,Wr,Vr[Wr]);return en};const $E={autoRefresh:!0},Qw=36e5;class Hm extends Ji(){constructor(Vr,Wr={}){if(super(),!Vr)throw new Cn("token-missing-token-url",this);Wr.initValue&&this._validateTokenValue(Wr.initValue),this.set("value",Wr.initValue),this._refresh=typeof Vr=="function"?Vr:()=>{return Zr=Vr,new Promise((tn,sn)=>{const un=new XMLHttpRequest;un.open("GET",Zr),un.addEventListener("load",()=>{const fn=un.status,yn=un.response;return fn<200||fn>299?sn(new Cn("token-cannot-download-new-token",null)):tn(yn)}),un.addEventListener("error",()=>sn(new Error("Network Error"))),un.addEventListener("abort",()=>sn(new Error("Abort"))),un.send()});var Zr},this._options=Xw(Xw({},$E),Wr)}init(){return new Promise((Vr,Wr)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),Vr(this)):this.refreshToken().then(Vr).catch(Wr)})}refreshToken(){return this._refresh().then(Vr=>(this._validateTokenValue(Vr),this.set("value",Vr),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(Vr){const Wr=typeof Vr=="string",Zr=!/^".*"$/.test(Vr),tn=Wr&&Vr.split(".").length===3;if(!Zr||!tn)throw new Cn("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const Vr=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},Vr)}_getTokenRefreshTimeoutTime(){try{const[,Vr]=this.value.split("."),{exp:Wr}=JSON.parse(atob(Vr));return Wr?Math.floor((1e3*Wr-Date.now())/2):Qw}catch{return Qw}}static create(Vr,Wr={}){return new Hm(Vr,Wr).init()}}const Vm=/^data:(\S*?);base64,/;class NE extends Ci(){constructor(Vr,Wr,Zr){if(super(),!Vr)throw new Cn("fileuploader-missing-file",null);if(!Wr)throw new Cn("fileuploader-missing-token",null);if(!Zr)throw new Cn("fileuploader-missing-api-address",null);this.file=function(tn){if(typeof tn!="string")return!1;const sn=tn.match(Vm);return!(!sn||!sn.length)}(Vr)?function(tn,sn=512){try{const un=tn.match(Vm)[1],fn=atob(tn.replace(Vm,"")),yn=[];for(let xn=0;xn<fn.length;xn+=sn){const Dn=fn.slice(xn,xn+sn),Mn=new Array(Dn.length);for(let Rn=0;Rn<Dn.length;Rn++)Mn[Rn]=Dn.charCodeAt(Rn);yn.push(new Uint8Array(Mn))}return new Blob(yn,{type:un})}catch{throw new Cn("fileuploader-decoding-image-data-error",null)}}(Vr):Vr,this._token=Wr,this._apiAddress=Zr}onProgress(Vr){return this.on("progress",(Wr,Zr)=>Vr(Zr)),this}onError(Vr){return this.once("error",(Wr,Zr)=>Vr(Zr)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const Vr=new XMLHttpRequest;Vr.open("POST",this._apiAddress),Vr.setRequestHeader("Authorization",this._token.value),Vr.responseType="json",this.xhr=Vr}_attachXHRListeners(){const Vr=this.xhr,Wr=Zr=>()=>this.fire("error",Zr);Vr.addEventListener("error",Wr("Network Error")),Vr.addEventListener("abort",Wr("Abort")),Vr.upload&&Vr.upload.addEventListener("progress",Zr=>{Zr.lengthComputable&&this.fire("progress",{total:Zr.total,uploaded:Zr.loaded})}),Vr.addEventListener("load",()=>{const Zr=Vr.status,tn=Vr.response;if(Zr<200||Zr>299)return this.fire("error",tn.message||tn.error)})}_sendRequest(){const Vr=new FormData,Wr=this.xhr;return Vr.append("file",this.file),new Promise((Zr,tn)=>{Wr.addEventListener("load",()=>{const sn=Wr.status,un=Wr.response;return sn<200||sn>299?un.message?tn(new Cn("fileuploader-uploading-data-failed",this,{message:un.message})):tn(un.error):Zr(un)}),Wr.addEventListener("error",()=>tn(new Error("Network Error"))),Wr.addEventListener("abort",()=>tn(new Error("Abort"))),Wr.send(Vr)})}}class BE{constructor(Vr,Wr){if(!Vr)throw new Cn("uploadgateway-missing-token",null);if(!Wr)throw new Cn("uploadgateway-missing-api-address",null);this._token=Vr,this._apiAddress=Wr}upload(Vr){return new NE(Vr,this._token,this._apiAddress)}}class FE extends eh{static get pluginName(){return"CloudServicesCore"}createToken(Vr,Wr){return new Hm(Vr,Wr)}createUploadGateway(Vr,Wr){return new BE(Vr,Wr)}}var Jw=(en,Vr,Wr)=>new Promise((Zr,tn)=>{var sn=yn=>{try{fn(Wr.next(yn))}catch(xn){tn(xn)}},un=yn=>{try{fn(Wr.throw(yn))}catch(xn){tn(xn)}},fn=yn=>yn.done?Zr(yn.value):Promise.resolve(yn.value).then(sn,un);fn((Wr=Wr.apply(en,Vr)).next())});class jm extends Yp{}jm.builtinPlugins=[class extends yo{static get requires(){return[jb,Xp,PC,dC,tC,Zb]}static get pluginName(){return"Essentials"}},class extends yo{static get requires(){return[Tu]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const en=this.editor.config.get("ckfinder.uploadUrl");en&&(this.editor.plugins.get(Tu).createUploadAdapter=Vr=>new YC(Vr,en,this.editor.t))}},class extends yo{static get requires(){return[vd]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const en=this.editor.commands;en.get("bulletedList")&&zd(this.editor,this,/^[*-]\s$/,"bulletedList"),en.get("numberedList")&&zd(this.editor,this,/^1[.|)]\s$/,"numberedList"),en.get("todoList")&&zd(this.editor,this,/^\[\s?\]\s$/,"todoList"),en.get("checkTodoList")&&zd(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const en=this.editor.commands;if(en.get("bold")){const Vr=eg(this.editor,"bold");qh(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,Vr),qh(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,Vr)}if(en.get("italic")){const Vr=eg(this.editor,"italic");qh(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,Vr),qh(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,Vr)}if(en.get("code")){const Vr=eg(this.editor,"code");qh(this.editor,this,/(`)([^`]+)(`)$/g,Vr)}if(en.get("strikethrough")){const Vr=eg(this.editor,"strikethrough");qh(this.editor,this,/(~~)([^~]+)(~~)$/g,Vr)}}_addHeadingAutoformats(){const en=this.editor.commands.get("heading");en&&en.modelElements.filter(Vr=>Vr.match(/^heading[1-6]$/)).forEach(Vr=>{const Wr=Vr[7],Zr=new RegExp(`^(#{${Wr}})\\s$`);zd(this.editor,this,Zr,()=>{if(!en.isEnabled||en.value===Vr)return!1;this.editor.execute("heading",{value:Vr})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&zd(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const en=this.editor,Vr=en.model.document.selection;en.commands.get("codeBlock")&&zd(en,this,/^```$/,()=>{if(Vr.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&zd(this.editor,this,/^---$/,"horizontalLine")}},class extends yo{static get requires(){return[qC,KC]}static get pluginName(){return"Bold"}},class extends yo{static get requires(){return[XC,QC]}static get pluginName(){return"Italic"}},class extends yo{static get requires(){return[ex,rx]}static get pluginName(){return"BlockQuote"}},class extends yo{static get pluginName(){return"CKBox"}static get requires(){return[mm,nx]}},class extends yo{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",vx,gx]}},class extends eh{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[FE]}init(){return Jw(this,null,function*(){const en=this.context.config.get("cloudServices")||{};for(const[Wr,Zr]of Object.entries(en))this[Wr]=Zr;if(!this.tokenUrl)return void(this.token=null);const Vr=this.context.plugins.get("CloudServicesCore");this.token=yield Vr.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(en){return Jw(this,null,function*(){if(this._tokens.has(en))return this.getTokenFor(en);const Vr=this.context.plugins.get("CloudServicesCore"),Wr=yield Vr.createToken(en).init();return this._tokens.set(en,Wr),Wr})}getTokenFor(en){const Vr=this._tokens.get(en);if(!Vr)throw new Cn("cloudservices-token-not-registered",this);return Vr}destroy(){super.destroy();for(const en of this._tokens.values())en.destroy()}},class extends yo{static get pluginName(){return"EasyImage"}static get requires(){return[yx,"ImageUpload"]}init(){const en=this.editor;en.plugins.has("ImageBlockEditing")||en.plugins.has("ImageInlineEditing")||En("easy-image-image-feature-missing",en)}},class extends yo{static get requires(){return[Cx,Sx]}static get pluginName(){return"Heading"}},class extends yo{static get requires(){return[jx,Gx]}static get pluginName(){return"Image"}},class extends yo{static get requires(){return[Yx,qx]}static get pluginName(){return"ImageCaption"}},class extends yo{static get requires(){return[s_,bS]}static get pluginName(){return"ImageStyle"}},class extends yo{static get requires(){return[Jp,Mu]}static get pluginName(){return"ImageToolbar"}afterInit(){const en=this.editor,Vr=en.t,Wr=en.plugins.get(Jp),Zr=en.plugins.get("ImageUtils");var tn;Wr.register("image",{ariaLabel:Vr("Image toolbar"),items:(tn=en.config.get("image.toolbar")||[],tn.map(sn=>ji(sn)?sn.name:sn)),getRelatedElement:sn=>Zr.getClosestSelectedImageWidget(sn)})}},class extends yo{static get pluginName(){return"ImageUpload"}static get requires(){return[lS,Xx,tS]}},class extends yo{static get pluginName(){return"Indent"}static get requires(){return[_S,wS]}},class extends yo{static get requires(){return[WS,XS,JS]}static get pluginName(){return"Link"}},class extends yo{static get requires(){return[_D,sD]}static get pluginName(){return"List"}},class extends yo{static get requires(){return[og,TD,SD,np]}static get pluginName(){return"MediaEmbed"}},vm,class extends yo{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Zu]}init(){const en=this.editor,Vr=en.plugins.get("ClipboardPipeline"),Wr=en.editing.view.document,Zr=[];Zr.push(new BD(Wr)),Zr.push(new zD(Wr)),Zr.push(new VD(Wr)),Vr.on("inputTransformation",(tn,sn)=>{if(sn._isTransformedWithPasteFromOffice||en.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const un=sn.dataTransfer.getData("text/html"),fn=Zr.find(yn=>yn.isActive(un));fn&&(sn._parsedData||(sn._parsedData=jD(un,Wr.stylesProcessor)),fn.execute(sn),sn._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends yo{static get requires(){return[bm,Mu]}static get pluginName(){return"PictureEditing"}afterInit(){const en=this.editor;en.plugins.has("ImageBlockEditing")&&en.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),en.plugins.has("ImageInlineEditing")&&en.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const en=this.editor,Vr=en.conversion,Wr=en.plugins.get("ImageUtils");Vr.for("upcast").add(function(Zr){const tn=["srcset","media","type","sizes"],sn=(un,fn,yn)=>{const xn=fn.viewItem;if(!yn.consumable.test(xn,{name:!0}))return;const Dn=new Map;for(const Un of xn.getChildren())if(Un.is("element","source")){const Kn={};for(const ti of tn)Un.hasAttribute(ti)&&yn.consumable.test(Un,{attributes:ti})&&(Kn[ti]=Un.getAttribute(ti));Object.keys(Kn).length&&Dn.set(Un,Kn)}const Mn=Zr.findViewImgElement(xn);if(!Mn)return;let Rn=fn.modelCursor.parent;if(!Rn.is("element","imageBlock")){const Un=yn.convertItem(Mn,fn.modelCursor);fn.modelRange=Un.modelRange,fn.modelCursor=Un.modelCursor,Rn=_l(Un.modelRange.getItems())}yn.consumable.consume(xn,{name:!0});for(const[Un,Kn]of Dn)yn.consumable.consume(Un,{attributes:Object.keys(Kn)});Dn.size&&yn.writer.setAttribute("sources",Array.from(Dn.values()),Rn),yn.convertChildren(xn,Rn)};return un=>{un.on("element:picture",sn)}}(Wr)),Vr.for("downcast").add(function(Zr){const tn=(sn,un,fn)=>{if(!fn.consumable.consume(un.item,sn.name))return;const yn=fn.writer,xn=fn.mapper.toViewElement(un.item),Dn=Zr.findViewImgElement(xn),Mn=un.attributeNewValue;if(Mn&&Mn.length){const Rn=yn.createContainerElement("picture",null,Mn.map(ti=>yn.createEmptyElement("source",ti))),Un=[];let Kn=Dn.parent;for(;Kn&&Kn.is("attributeElement");){const ti=Kn.parent;yn.unwrap(yn.createRangeOn(Dn),Kn),Un.unshift(Kn),Kn=ti}yn.insert(yn.createPositionBefore(Dn),Rn),yn.move(yn.createRangeOn(Dn),yn.createPositionAt(Rn,"end"));for(const ti of Un)yn.wrap(yn.createRangeOn(Rn),ti)}else if(Dn.parent.is("element","picture")){const Rn=Dn.parent;yn.move(yn.createRangeOn(Dn),yn.createPositionBefore(Rn)),yn.remove(Rn)}};return sn=>{sn.on("attribute:sources:imageBlock",tn),sn.on("attribute:sources:imageInline",tn)}}(Wr))}_setupImageUploadEditingIntegration(){const en=this.editor;if(!en.plugins.has("ImageUploadEditing"))return;const Vr=en.plugins.get("ImageUploadEditing");this.listenTo(Vr,"uploadComplete",(Wr,{imageElement:Zr,data:tn})=>{const sn=tn.sources;sn&&en.model.change(un=>{un.setAttributes({sources:sn},Zr)})})}},class extends yo{static get requires(){return[hE,gE,yh,wE,bE,yE,np]}static get pluginName(){return"Table"}},class extends yo{static get requires(){return[Jp]}static get pluginName(){return"TableToolbar"}afterInit(){const en=this.editor,Vr=en.t,Wr=en.plugins.get(Jp),Zr=en.config.get("table.contentToolbar"),tn=en.config.get("table.tableToolbar");Zr&&Wr.register("tableContent",{ariaLabel:Vr("Table toolbar"),items:Zr,getRelatedElement:CE}),tn&&Wr.register("table",{ariaLabel:Vr("Table toolbar"),items:tn,getRelatedElement:AE})}},class extends yo{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(en){super(en),en.config.define("typing",{transformations:{include:iC}})}init(){const en=this.editor.model.document.selection;en.on("change:range",()=>{this.isEnabled=!en.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const en=this.editor,Vr=en.model,Wr=en.plugins.get("Delete"),Zr=function(sn){const un=sn.extra||[],fn=sn.remove||[],yn=xn=>!fn.includes(xn);return function(xn){const Dn=new Set;for(const Mn of xn)if(typeof Mn=="string"&&bb[Mn])for(const Rn of bb[Mn])Dn.add(Rn);else Dn.add(Mn);return Array.from(Dn)}(sn.include.concat(un).filter(yn)).filter(yn).map(xn=>typeof xn=="string"&&yb[xn]?yb[xn]:xn).filter(xn=>typeof xn=="object").map(xn=>({from:oC(xn.from),to:aC(xn.to)}))}(en.config.get("typing.transformations")),tn=new gb(en.model,sn=>{for(const un of Zr)if(un.from.test(sn))return{normalizedTransformation:un}});tn.on("matched:data",(sn,un)=>{if(!un.batch.isTyping)return;const{from:fn,to:yn}=un.normalizedTransformation,xn=fn.exec(un.text),Dn=yn(xn.slice(1)),Mn=un.range;let Rn=xn.index;Vr.enqueueChange(Un=>{for(let Kn=1;Kn<xn.length;Kn++){const ti=xn[Kn],si=Dn[Kn-1];if(si==null){Rn+=ti.length;continue}const fi=Mn.start.getShiftedBy(Rn),Li=Vr.createRange(fi,fi.getShiftedBy(ti.length)),eo=sC(fi);Vr.insertContent(Un.createText(si,eo),Li),Rn+=si.length}Vr.enqueueChange(()=>{Wr.requestUndoOnBackspace()})})}),tn.bind("isEnabled").to(this)}}],jm.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),zr=zr.default})())})(ckeditor,ckeditor.exports);var ckeditorExports=ckeditor.exports;const ClassicEditor=getDefaultExportFromCjs(ckeditorExports);var flushPending=!1,flushing=!1,queue=[],lastFlushedIndex=-1;function scheduler(Fe){queueJob(Fe)}function queueJob(Fe){queue.includes(Fe)||queue.push(Fe),queueFlush()}function dequeueJob(Fe){let _r=queue.indexOf(Fe);_r!==-1&&_r>lastFlushedIndex&&queue.splice(_r,1)}function queueFlush(){!flushing&&!flushPending&&(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let Fe=0;Fe<queue.length;Fe++)queue[Fe](),lastFlushedIndex=Fe;queue.length=0,lastFlushedIndex=-1,flushing=!1}var reactive,effect,release$1,raw,shouldSchedule=!0;function disableEffectScheduling(Fe){shouldSchedule=!1,Fe(),shouldSchedule=!0}function setReactivityEngine(Fe){reactive=Fe.reactive,release$1=Fe.release,effect=_r=>Fe.effect(_r,{scheduler:$r=>{shouldSchedule?scheduler($r):$r()}}),raw=Fe.raw}function overrideEffect(Fe){effect=Fe}function elementBoundEffect(Fe){let _r=()=>{};return[Br=>{let Fr=effect(Br);return Fe._x_effects||(Fe._x_effects=new Set,Fe._x_runEffects=()=>{Fe._x_effects.forEach(zr=>zr())}),Fe._x_effects.add(Fr),_r=()=>{Fr!==void 0&&(Fe._x_effects.delete(Fr),release$1(Fr))},Fr},()=>{_r()}]}function dispatch(Fe,_r,$r={}){Fe.dispatchEvent(new CustomEvent(_r,{detail:$r,bubbles:!0,composed:!0,cancelable:!0}))}function walk(Fe,_r){if(typeof ShadowRoot=="function"&&Fe instanceof ShadowRoot){Array.from(Fe.children).forEach(Fr=>walk(Fr,_r));return}let $r=!1;if(_r(Fe,()=>$r=!0),$r)return;let Br=Fe.firstElementChild;for(;Br;)walk(Br,_r),Br=Br.nextElementSibling}function warn$1(Fe,..._r){console.warn(`Alpine Warning: ${Fe}`,..._r)}var started=!1;function start$1(){started&&warn$1("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),started=!0,document.body||warn$1("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded(_r=>initTree(_r,walk)),onElRemoved(_r=>destroyTree(_r)),onAttributesAdded((_r,$r)=>{directives(_r,$r).forEach(Br=>Br())});let Fe=_r=>!closestRoot(_r.parentElement,!0);Array.from(document.querySelectorAll(allSelectors())).filter(Fe).forEach(_r=>{initTree(_r)}),dispatch(document,"alpine:initialized")}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map(Fe=>Fe())}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map(Fe=>Fe())}function addRootSelector(Fe){rootSelectorCallbacks.push(Fe)}function addInitSelector(Fe){initSelectorCallbacks.push(Fe)}function closestRoot(Fe,_r=!1){return findClosest(Fe,$r=>{if((_r?allSelectors():rootSelectors()).some(Fr=>$r.matches(Fr)))return!0})}function findClosest(Fe,_r){if(Fe){if(_r(Fe))return Fe;if(Fe._x_teleportBack&&(Fe=Fe._x_teleportBack),!!Fe.parentElement)return findClosest(Fe.parentElement,_r)}}function isRoot(Fe){return rootSelectors().some(_r=>Fe.matches(_r))}var initInterceptors=[];function interceptInit(Fe){initInterceptors.push(Fe)}function initTree(Fe,_r=walk,$r=()=>{}){deferHandlingDirectives(()=>{_r(Fe,(Br,Fr)=>{$r(Br,Fr),initInterceptors.forEach(zr=>zr(Br,Fr)),directives(Br,Br.attributes).forEach(zr=>zr()),Br._x_ignore&&Fr()})})}function destroyTree(Fe){walk(Fe,_r=>{cleanupAttributes(_r),cleanupElement(_r)})}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(Fe){onElAddeds.push(Fe)}function onElRemoved(Fe,_r){typeof _r=="function"?(Fe._x_cleanups||(Fe._x_cleanups=[]),Fe._x_cleanups.push(_r)):(_r=Fe,onElRemoveds.push(_r))}function onAttributesAdded(Fe){onAttributeAddeds.push(Fe)}function onAttributeRemoved(Fe,_r,$r){Fe._x_attributeCleanups||(Fe._x_attributeCleanups={}),Fe._x_attributeCleanups[_r]||(Fe._x_attributeCleanups[_r]=[]),Fe._x_attributeCleanups[_r].push($r)}function cleanupAttributes(Fe,_r){Fe._x_attributeCleanups&&Object.entries(Fe._x_attributeCleanups).forEach(([$r,Br])=>{(_r===void 0||_r.includes($r))&&(Br.forEach(Fr=>Fr()),delete Fe._x_attributeCleanups[$r])})}function cleanupElement(Fe){if(Fe._x_cleanups)for(;Fe._x_cleanups.length;)Fe._x_cleanups.pop()()}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var recordQueue=[],willProcessRecordQueue=!1;function flushObserver(){recordQueue=recordQueue.concat(observer.takeRecords()),recordQueue.length&&!willProcessRecordQueue&&(willProcessRecordQueue=!0,queueMicrotask(()=>{processRecordQueue(),willProcessRecordQueue=!1}))}function processRecordQueue(){onMutate(recordQueue),recordQueue.length=0}function mutateDom(Fe){if(!currentlyObserving)return Fe();stopObservingMutations();let _r=Fe();return startObservingMutations(),_r}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(Fe){if(isCollecting){deferredMutations=deferredMutations.concat(Fe);return}let _r=[],$r=[],Br=new Map,Fr=new Map;for(let zr=0;zr<Fe.length;zr++)if(!Fe[zr].target._x_ignoreMutationObserver&&(Fe[zr].type==="childList"&&(Fe[zr].addedNodes.forEach(jr=>jr.nodeType===1&&_r.push(jr)),Fe[zr].removedNodes.forEach(jr=>jr.nodeType===1&&$r.push(jr))),Fe[zr].type==="attributes")){let jr=Fe[zr].target,Ur=Fe[zr].attributeName,Gr=Fe[zr].oldValue,Yr=()=>{Br.has(jr)||Br.set(jr,[]),Br.get(jr).push({name:Ur,value:jr.getAttribute(Ur)})},Kr=()=>{Fr.has(jr)||Fr.set(jr,[]),Fr.get(jr).push(Ur)};jr.hasAttribute(Ur)&&Gr===null?Yr():jr.hasAttribute(Ur)?(Kr(),Yr()):Kr()}Fr.forEach((zr,jr)=>{cleanupAttributes(jr,zr)}),Br.forEach((zr,jr)=>{onAttributeAddeds.forEach(Ur=>Ur(jr,zr))});for(let zr of $r)_r.includes(zr)||(onElRemoveds.forEach(jr=>jr(zr)),destroyTree(zr));_r.forEach(zr=>{zr._x_ignoreSelf=!0,zr._x_ignore=!0});for(let zr of _r)$r.includes(zr)||zr.isConnected&&(delete zr._x_ignoreSelf,delete zr._x_ignore,onElAddeds.forEach(jr=>jr(zr)),zr._x_ignore=!0,zr._x_ignoreSelf=!0);_r.forEach(zr=>{delete zr._x_ignoreSelf,delete zr._x_ignore}),_r=null,$r=null,Br=null,Fr=null}function scope(Fe){return mergeProxies(closestDataStack(Fe))}function addScopeToNode(Fe,_r,$r){return Fe._x_dataStack=[_r,...closestDataStack($r||Fe)],()=>{Fe._x_dataStack=Fe._x_dataStack.filter(Br=>Br!==_r)}}function closestDataStack(Fe){return Fe._x_dataStack?Fe._x_dataStack:typeof ShadowRoot=="function"&&Fe instanceof ShadowRoot?closestDataStack(Fe.host):Fe.parentNode?closestDataStack(Fe.parentNode):[]}function mergeProxies(Fe){return new Proxy({objects:Fe},mergeProxyTrap)}var mergeProxyTrap={ownKeys({objects:Fe}){return Array.from(new Set(Fe.flatMap(_r=>Object.keys(_r))))},has({objects:Fe},_r){return _r==Symbol.unscopables?!1:Fe.some($r=>Object.prototype.hasOwnProperty.call($r,_r))},get({objects:Fe},_r,$r){return _r=="toJSON"?collapseProxies:Reflect.get(Fe.find(Br=>Object.prototype.hasOwnProperty.call(Br,_r))||{},_r,$r)},set({objects:Fe},_r,$r,Br){const Fr=Fe.find(jr=>Object.prototype.hasOwnProperty.call(jr,_r))||Fe[Fe.length-1],zr=Object.getOwnPropertyDescriptor(Fr,_r);return zr!=null&&zr.set&&(zr!=null&&zr.get)?Reflect.set(Fr,_r,$r,Br):Reflect.set(Fr,_r,$r)}};function collapseProxies(){return Reflect.ownKeys(this).reduce((_r,$r)=>(_r[$r]=Reflect.get(this,$r),_r),{})}function initInterceptors2(Fe){let _r=Br=>typeof Br=="object"&&!Array.isArray(Br)&&Br!==null,$r=(Br,Fr="")=>{Object.entries(Object.getOwnPropertyDescriptors(Br)).forEach(([zr,{value:jr,enumerable:Ur}])=>{if(Ur===!1||jr===void 0)return;let Gr=Fr===""?zr:`${Fr}.${zr}`;typeof jr=="object"&&jr!==null&&jr._x_interceptor?Br[zr]=jr.initialize(Fe,Gr,zr):_r(jr)&&jr!==Br&&!(jr instanceof Element)&&$r(jr,Gr)})};return $r(Fe)}function interceptor(Fe,_r=()=>{}){let $r={initialValue:void 0,_x_interceptor:!0,initialize(Br,Fr,zr){return Fe(this.initialValue,()=>get$1(Br,Fr),jr=>set$2(Br,Fr,jr),Fr,zr)}};return _r($r),Br=>{if(typeof Br=="object"&&Br!==null&&Br._x_interceptor){let Fr=$r.initialize.bind($r);$r.initialize=(zr,jr,Ur)=>{let Gr=Br.initialize(zr,jr,Ur);return $r.initialValue=Gr,Fr(zr,jr,Ur)}}else $r.initialValue=Br;return $r}}function get$1(Fe,_r){return _r.split(".").reduce(($r,Br)=>$r[Br],Fe)}function set$2(Fe,_r,$r){if(typeof _r=="string"&&(_r=_r.split(".")),_r.length===1)Fe[_r[0]]=$r;else{if(_r.length===0)throw error;return Fe[_r[0]]||(Fe[_r[0]]={}),set$2(Fe[_r[0]],_r.slice(1),$r)}}var magics={};function magic(Fe,_r){magics[Fe]=_r}function injectMagics(Fe,_r){return Object.entries(magics).forEach(([$r,Br])=>{let Fr=null;function zr(){if(Fr)return Fr;{let[jr,Ur]=getElementBoundUtilities(_r);return Fr={interceptor,...jr},onElRemoved(_r,Ur),Fr}}Object.defineProperty(Fe,`$${$r}`,{get(){return Br(_r,zr())},enumerable:!1})}),Fe}function tryCatch(Fe,_r,$r,...Br){try{return $r(...Br)}catch(Fr){handleError(Fr,Fe,_r)}}function handleError(Fe,_r,$r=void 0){Object.assign(Fe,{el:_r,expression:$r}),console.warn(`Alpine Expression Error: ${Fe.message}

${$r?'Expression: "'+$r+`"

`:""}`,_r),setTimeout(()=>{throw Fe},0)}var shouldAutoEvaluateFunctions=!0;function dontAutoEvaluateFunctions(Fe){let _r=shouldAutoEvaluateFunctions;shouldAutoEvaluateFunctions=!1;let $r=Fe();return shouldAutoEvaluateFunctions=_r,$r}function evaluate(Fe,_r,$r={}){let Br;return evaluateLater(Fe,_r)(Fr=>Br=Fr,$r),Br}function evaluateLater(...Fe){return theEvaluatorFunction(...Fe)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(Fe){theEvaluatorFunction=Fe}function normalEvaluator(Fe,_r){let $r={};injectMagics($r,Fe);let Br=[$r,...closestDataStack(Fe)],Fr=typeof _r=="function"?generateEvaluatorFromFunction(Br,_r):generateEvaluatorFromString(Br,_r,Fe);return tryCatch.bind(null,Fe,_r,Fr)}function generateEvaluatorFromFunction(Fe,_r){return($r=()=>{},{scope:Br={},params:Fr=[]}={})=>{let zr=_r.apply(mergeProxies([Br,...Fe]),Fr);runIfTypeOfFunction($r,zr)}}var evaluatorMemo={};function generateFunctionFromString(Fe,_r){if(evaluatorMemo[Fe])return evaluatorMemo[Fe];let $r=Object.getPrototypeOf(async function(){}).constructor,Br=/^[\n\s]*if.*\(.*\)/.test(Fe.trim())||/^(let|const)\s/.test(Fe.trim())?`(async()=>{ ${Fe} })()`:Fe,zr=(()=>{try{let jr=new $r(["__self","scope"],`with (scope) { __self.result = ${Br} }; __self.finished = true; return __self.result;`);return Object.defineProperty(jr,"name",{value:`[Alpine] ${Fe}`}),jr}catch(jr){return handleError(jr,_r,Fe),Promise.resolve()}})();return evaluatorMemo[Fe]=zr,zr}function generateEvaluatorFromString(Fe,_r,$r){let Br=generateFunctionFromString(_r,$r);return(Fr=()=>{},{scope:zr={},params:jr=[]}={})=>{Br.result=void 0,Br.finished=!1;let Ur=mergeProxies([zr,...Fe]);if(typeof Br=="function"){let Gr=Br(Br,Ur).catch(Yr=>handleError(Yr,$r,_r));Br.finished?(runIfTypeOfFunction(Fr,Br.result,Ur,jr,$r),Br.result=void 0):Gr.then(Yr=>{runIfTypeOfFunction(Fr,Yr,Ur,jr,$r)}).catch(Yr=>handleError(Yr,$r,_r)).finally(()=>Br.result=void 0)}}}function runIfTypeOfFunction(Fe,_r,$r,Br,Fr){if(shouldAutoEvaluateFunctions&&typeof _r=="function"){let zr=_r.apply($r,Br);zr instanceof Promise?zr.then(jr=>runIfTypeOfFunction(Fe,jr,$r,Br)).catch(jr=>handleError(jr,Fr,_r)):Fe(zr)}else typeof _r=="object"&&_r instanceof Promise?_r.then(zr=>Fe(zr)):Fe(_r)}var prefixAsString="x-";function prefix(Fe=""){return prefixAsString+Fe}function setPrefix(Fe){prefixAsString=Fe}var directiveHandlers={};function directive(Fe,_r){return directiveHandlers[Fe]=_r,{before($r){if(!directiveHandlers[$r]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const Br=directiveOrder.indexOf($r);directiveOrder.splice(Br>=0?Br:directiveOrder.indexOf("DEFAULT"),0,Fe)}}}function directives(Fe,_r,$r){if(_r=Array.from(_r),Fe._x_virtualDirectives){let zr=Object.entries(Fe._x_virtualDirectives).map(([Ur,Gr])=>({name:Ur,value:Gr})),jr=attributesOnly(zr);zr=zr.map(Ur=>jr.find(Gr=>Gr.name===Ur.name)?{name:`x-bind:${Ur.name}`,value:`"${Ur.value}"`}:Ur),_r=_r.concat(zr)}let Br={};return _r.map(toTransformedAttributes((zr,jr)=>Br[zr]=jr)).filter(outNonAlpineAttributes).map(toParsedDirectives(Br,$r)).sort(byPriority).map(zr=>getDirectiveHandler(Fe,zr))}function attributesOnly(Fe){return Array.from(Fe).map(toTransformedAttributes()).filter(_r=>!outNonAlpineAttributes(_r))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(Fe){isDeferringHandlers=!0;let _r=Symbol();currentHandlerStackKey=_r,directiveHandlerStacks.set(_r,[]);let $r=()=>{for(;directiveHandlerStacks.get(_r).length;)directiveHandlerStacks.get(_r).shift()();directiveHandlerStacks.delete(_r)},Br=()=>{isDeferringHandlers=!1,$r()};Fe($r),Br()}function getElementBoundUtilities(Fe){let _r=[],$r=Ur=>_r.push(Ur),[Br,Fr]=elementBoundEffect(Fe);return _r.push(Fr),[{Alpine:alpine_default,effect:Br,cleanup:$r,evaluateLater:evaluateLater.bind(evaluateLater,Fe),evaluate:evaluate.bind(evaluate,Fe)},()=>_r.forEach(Ur=>Ur())]}function getDirectiveHandler(Fe,_r){let $r=()=>{},Br=directiveHandlers[_r.type]||$r,[Fr,zr]=getElementBoundUtilities(Fe);onAttributeRemoved(Fe,_r.original,zr);let jr=()=>{Fe._x_ignore||Fe._x_ignoreSelf||(Br.inline&&Br.inline(Fe,_r,Fr),Br=Br.bind(Br,Fe,_r,Fr),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(Br):Br())};return jr.runCleanups=zr,jr}var startingWith=(Fe,_r)=>({name:$r,value:Br})=>($r.startsWith(Fe)&&($r=$r.replace(Fe,_r)),{name:$r,value:Br}),into=Fe=>Fe;function toTransformedAttributes(Fe=()=>{}){return({name:_r,value:$r})=>{let{name:Br,value:Fr}=attributeTransformers.reduce((zr,jr)=>jr(zr),{name:_r,value:$r});return Br!==_r&&Fe(Br,_r),{name:Br,value:Fr}}}var attributeTransformers=[];function mapAttributes(Fe){attributeTransformers.push(Fe)}function outNonAlpineAttributes({name:Fe}){return alpineAttributeRegex().test(Fe)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(Fe,_r){return({name:$r,value:Br})=>{let Fr=$r.match(alpineAttributeRegex()),zr=$r.match(/:([a-zA-Z0-9\-_:]+)/),jr=$r.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],Ur=_r||Fe[$r]||$r;return{type:Fr?Fr[1]:null,value:zr?zr[1]:null,modifiers:jr.map(Gr=>Gr.replace(".","")),expression:Br,original:Ur}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",DEFAULT,"teleport"];function byPriority(Fe,_r){let $r=directiveOrder.indexOf(Fe.type)===-1?DEFAULT:Fe.type,Br=directiveOrder.indexOf(_r.type)===-1?DEFAULT:_r.type;return directiveOrder.indexOf($r)-directiveOrder.indexOf(Br)}var tickStack=[],isHolding=!1;function nextTick(Fe=()=>{}){return queueMicrotask(()=>{isHolding||setTimeout(()=>{releaseNextTicks()})}),new Promise(_r=>{tickStack.push(()=>{Fe(),_r()})})}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function setClasses(Fe,_r){return Array.isArray(_r)?setClassesFromString(Fe,_r.join(" ")):typeof _r=="object"&&_r!==null?setClassesFromObject(Fe,_r):typeof _r=="function"?setClasses(Fe,_r()):setClassesFromString(Fe,_r)}function setClassesFromString(Fe,_r){let $r=Fr=>Fr.split(" ").filter(zr=>!Fe.classList.contains(zr)).filter(Boolean),Br=Fr=>(Fe.classList.add(...Fr),()=>{Fe.classList.remove(...Fr)});return _r=_r===!0?_r="":_r||"",Br($r(_r))}function setClassesFromObject(Fe,_r){let $r=Ur=>Ur.split(" ").filter(Boolean),Br=Object.entries(_r).flatMap(([Ur,Gr])=>Gr?$r(Ur):!1).filter(Boolean),Fr=Object.entries(_r).flatMap(([Ur,Gr])=>Gr?!1:$r(Ur)).filter(Boolean),zr=[],jr=[];return Fr.forEach(Ur=>{Fe.classList.contains(Ur)&&(Fe.classList.remove(Ur),jr.push(Ur))}),Br.forEach(Ur=>{Fe.classList.contains(Ur)||(Fe.classList.add(Ur),zr.push(Ur))}),()=>{jr.forEach(Ur=>Fe.classList.add(Ur)),zr.forEach(Ur=>Fe.classList.remove(Ur))}}function setStyles(Fe,_r){return typeof _r=="object"&&_r!==null?setStylesFromObject(Fe,_r):setStylesFromString(Fe,_r)}function setStylesFromObject(Fe,_r){let $r={};return Object.entries(_r).forEach(([Br,Fr])=>{$r[Br]=Fe.style[Br],Br.startsWith("--")||(Br=kebabCase(Br)),Fe.style.setProperty(Br,Fr)}),setTimeout(()=>{Fe.style.length===0&&Fe.removeAttribute("style")}),()=>{setStyles(Fe,$r)}}function setStylesFromString(Fe,_r){let $r=Fe.getAttribute("style",_r);return Fe.setAttribute("style",_r),()=>{Fe.setAttribute("style",$r||"")}}function kebabCase(Fe){return Fe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once(Fe,_r=()=>{}){let $r=!1;return function(){$r?_r.apply(this,arguments):($r=!0,Fe.apply(this,arguments))}}directive("transition",(Fe,{value:_r,modifiers:$r,expression:Br},{evaluate:Fr})=>{typeof Br=="function"&&(Br=Fr(Br)),Br!==!1&&(!Br||typeof Br=="boolean"?registerTransitionsFromHelper(Fe,$r,_r):registerTransitionsFromClassString(Fe,Br,_r))});function registerTransitionsFromClassString(Fe,_r,$r){registerTransitionObject(Fe,setClasses,""),{enter:Fr=>{Fe._x_transition.enter.during=Fr},"enter-start":Fr=>{Fe._x_transition.enter.start=Fr},"enter-end":Fr=>{Fe._x_transition.enter.end=Fr},leave:Fr=>{Fe._x_transition.leave.during=Fr},"leave-start":Fr=>{Fe._x_transition.leave.start=Fr},"leave-end":Fr=>{Fe._x_transition.leave.end=Fr}}[$r](_r)}function registerTransitionsFromHelper(Fe,_r,$r){registerTransitionObject(Fe,setStyles);let Br=!_r.includes("in")&&!_r.includes("out")&&!$r,Fr=Br||_r.includes("in")||["enter"].includes($r),zr=Br||_r.includes("out")||["leave"].includes($r);_r.includes("in")&&!Br&&(_r=_r.filter((hn,gn)=>gn<_r.indexOf("out"))),_r.includes("out")&&!Br&&(_r=_r.filter((hn,gn)=>gn>_r.indexOf("out")));let jr=!_r.includes("opacity")&&!_r.includes("scale"),Ur=jr||_r.includes("opacity"),Gr=jr||_r.includes("scale"),Yr=Ur?0:1,Kr=Gr?modifierValue$1(_r,"scale",95)/100:1,Qr=modifierValue$1(_r,"delay",0)/1e3,Jr=modifierValue$1(_r,"origin","center"),rn="opacity, transform",an=modifierValue$1(_r,"duration",150)/1e3,ln=modifierValue$1(_r,"duration",75)/1e3,dn="cubic-bezier(0.4, 0.0, 0.2, 1)";Fr&&(Fe._x_transition.enter.during={transformOrigin:Jr,transitionDelay:`${Qr}s`,transitionProperty:rn,transitionDuration:`${an}s`,transitionTimingFunction:dn},Fe._x_transition.enter.start={opacity:Yr,transform:`scale(${Kr})`},Fe._x_transition.enter.end={opacity:1,transform:"scale(1)"}),zr&&(Fe._x_transition.leave.during={transformOrigin:Jr,transitionDelay:`${Qr}s`,transitionProperty:rn,transitionDuration:`${ln}s`,transitionTimingFunction:dn},Fe._x_transition.leave.start={opacity:1,transform:"scale(1)"},Fe._x_transition.leave.end={opacity:Yr,transform:`scale(${Kr})`})}function registerTransitionObject(Fe,_r,$r={}){Fe._x_transition||(Fe._x_transition={enter:{during:$r,start:$r,end:$r},leave:{during:$r,start:$r,end:$r},in(Br=()=>{},Fr=()=>{}){transition(Fe,_r,{during:this.enter.during,start:this.enter.start,end:this.enter.end},Br,Fr)},out(Br=()=>{},Fr=()=>{}){transition(Fe,_r,{during:this.leave.during,start:this.leave.start,end:this.leave.end},Br,Fr)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(Fe,_r,$r,Br){const Fr=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let zr=()=>Fr($r);if(_r){Fe._x_transition&&(Fe._x_transition.enter||Fe._x_transition.leave)?Fe._x_transition.enter&&(Object.entries(Fe._x_transition.enter.during).length||Object.entries(Fe._x_transition.enter.start).length||Object.entries(Fe._x_transition.enter.end).length)?Fe._x_transition.in($r):zr():Fe._x_transition?Fe._x_transition.in($r):zr();return}Fe._x_hidePromise=Fe._x_transition?new Promise((jr,Ur)=>{Fe._x_transition.out(()=>{},()=>jr(Br)),Fe._x_transitioning.beforeCancel(()=>Ur({isFromCancelledTransition:!0}))}):Promise.resolve(Br),queueMicrotask(()=>{let jr=closestHide(Fe);jr?(jr._x_hideChildren||(jr._x_hideChildren=[]),jr._x_hideChildren.push(Fe)):Fr(()=>{let Ur=Gr=>{let Yr=Promise.all([Gr._x_hidePromise,...(Gr._x_hideChildren||[]).map(Ur)]).then(([Kr])=>Kr());return delete Gr._x_hidePromise,delete Gr._x_hideChildren,Yr};Ur(Fe).catch(Gr=>{if(!Gr.isFromCancelledTransition)throw Gr})})})};function closestHide(Fe){let _r=Fe.parentNode;if(_r)return _r._x_hidePromise?_r:closestHide(_r)}function transition(Fe,_r,{during:$r,start:Br,end:Fr}={},zr=()=>{},jr=()=>{}){if(Fe._x_transitioning&&Fe._x_transitioning.cancel(),Object.keys($r).length===0&&Object.keys(Br).length===0&&Object.keys(Fr).length===0){zr(),jr();return}let Ur,Gr,Yr;performTransition(Fe,{start(){Ur=_r(Fe,Br)},during(){Gr=_r(Fe,$r)},before:zr,end(){Ur(),Yr=_r(Fe,Fr)},after:jr,cleanup(){Gr(),Yr()}})}function performTransition(Fe,_r){let $r,Br,Fr,zr=once(()=>{mutateDom(()=>{$r=!0,Br||_r.before(),Fr||(_r.end(),releaseNextTicks()),_r.after(),Fe.isConnected&&_r.cleanup(),delete Fe._x_transitioning})});Fe._x_transitioning={beforeCancels:[],beforeCancel(jr){this.beforeCancels.push(jr)},cancel:once(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();zr()}),finish:zr},mutateDom(()=>{_r.start(),_r.during()}),holdNextTicks(),requestAnimationFrame(()=>{if($r)return;let jr=Number(getComputedStyle(Fe).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,Ur=Number(getComputedStyle(Fe).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;jr===0&&(jr=Number(getComputedStyle(Fe).animationDuration.replace("s",""))*1e3),mutateDom(()=>{_r.before()}),Br=!0,requestAnimationFrame(()=>{$r||(mutateDom(()=>{_r.end()}),releaseNextTicks(),setTimeout(Fe._x_transitioning.finish,jr+Ur),Fr=!0)})})}function modifierValue$1(Fe,_r,$r){if(Fe.indexOf(_r)===-1)return $r;const Br=Fe[Fe.indexOf(_r)+1];if(!Br||_r==="scale"&&isNaN(Br))return $r;if(_r==="duration"||_r==="delay"){let Fr=Br.match(/([0-9]+)ms/);if(Fr)return Fr[1]}return _r==="origin"&&["top","right","left","center","bottom"].includes(Fe[Fe.indexOf(_r)+2])?[Br,Fe[Fe.indexOf(_r)+2]].join(" "):Br}var isCloning=!1;function skipDuringClone(Fe,_r=()=>{}){return(...$r)=>isCloning?_r(...$r):Fe(...$r)}function onlyDuringClone(Fe){return(..._r)=>isCloning&&Fe(..._r)}function cloneNode(Fe,_r){Fe._x_dataStack&&(_r._x_dataStack=Fe._x_dataStack,_r.setAttribute("data-has-alpine-state",!0)),isCloning=!0,dontRegisterReactiveSideEffects(()=>{initTree(_r,($r,Br)=>{Br($r,()=>{})})}),isCloning=!1}var isCloningLegacy=!1;function clone$5(Fe,_r){_r._x_dataStack||(_r._x_dataStack=Fe._x_dataStack),isCloning=!0,isCloningLegacy=!0,dontRegisterReactiveSideEffects(()=>{cloneTree(_r)}),isCloning=!1,isCloningLegacy=!1}function cloneTree(Fe){let _r=!1;initTree(Fe,(Br,Fr)=>{walk(Br,(zr,jr)=>{if(_r&&isRoot(zr))return jr();_r=!0,Fr(zr,jr)})})}function dontRegisterReactiveSideEffects(Fe){let _r=effect;overrideEffect(($r,Br)=>{let Fr=_r($r);return release$1(Fr),()=>{}}),Fe(),overrideEffect(_r)}function shouldSkipRegisteringDataDuringClone(Fe){return isCloning?isCloningLegacy?!0:Fe.hasAttribute("data-has-alpine-state"):!1}function bind$2(Fe,_r,$r,Br=[]){switch(Fe._x_bindings||(Fe._x_bindings=reactive({})),Fe._x_bindings[_r]=$r,_r=Br.includes("camel")?camelCase(_r):_r,_r){case"value":bindInputValue(Fe,$r);break;case"style":bindStyles(Fe,$r);break;case"class":bindClasses(Fe,$r);break;case"selected":case"checked":bindAttributeAndProperty(Fe,_r,$r);break;default:bindAttribute(Fe,_r,$r);break}}function bindInputValue(Fe,_r){if(Fe.type==="radio")Fe.attributes.value===void 0&&(Fe.value=_r),window.fromModel&&(Fe.checked=checkedAttrLooseCompare(Fe.value,_r));else if(Fe.type==="checkbox")Number.isInteger(_r)?Fe.value=_r:!Array.isArray(_r)&&typeof _r!="boolean"&&![null,void 0].includes(_r)?Fe.value=String(_r):Array.isArray(_r)?Fe.checked=_r.some($r=>checkedAttrLooseCompare($r,Fe.value)):Fe.checked=!!_r;else if(Fe.tagName==="SELECT")updateSelect(Fe,_r);else{if(Fe.value===_r)return;Fe.value=_r===void 0?"":_r}}function bindClasses(Fe,_r){Fe._x_undoAddedClasses&&Fe._x_undoAddedClasses(),Fe._x_undoAddedClasses=setClasses(Fe,_r)}function bindStyles(Fe,_r){Fe._x_undoAddedStyles&&Fe._x_undoAddedStyles(),Fe._x_undoAddedStyles=setStyles(Fe,_r)}function bindAttributeAndProperty(Fe,_r,$r){bindAttribute(Fe,_r,$r),setPropertyIfChanged(Fe,_r,$r)}function bindAttribute(Fe,_r,$r){[null,void 0,!1].includes($r)&&attributeShouldntBePreservedIfFalsy(_r)?Fe.removeAttribute(_r):(isBooleanAttr(_r)&&($r=_r),setIfChanged(Fe,_r,$r))}function setIfChanged(Fe,_r,$r){Fe.getAttribute(_r)!=$r&&Fe.setAttribute(_r,$r)}function setPropertyIfChanged(Fe,_r,$r){Fe[_r]!==$r&&(Fe[_r]=$r)}function updateSelect(Fe,_r){const $r=[].concat(_r).map(Br=>Br+"");Array.from(Fe.options).forEach(Br=>{Br.selected=$r.includes(Br.value)})}function camelCase(Fe){return Fe.toLowerCase().replace(/-(\w)/g,(_r,$r)=>$r.toUpperCase())}function checkedAttrLooseCompare(Fe,_r){return Fe==_r}function isBooleanAttr(Fe){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(Fe)}function attributeShouldntBePreservedIfFalsy(Fe){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(Fe)}function getBinding(Fe,_r,$r){return Fe._x_bindings&&Fe._x_bindings[_r]!==void 0?Fe._x_bindings[_r]:getAttributeBinding(Fe,_r,$r)}function extractProp(Fe,_r,$r,Br=!0){if(Fe._x_bindings&&Fe._x_bindings[_r]!==void 0)return Fe._x_bindings[_r];if(Fe._x_inlineBindings&&Fe._x_inlineBindings[_r]!==void 0){let Fr=Fe._x_inlineBindings[_r];return Fr.extract=Br,dontAutoEvaluateFunctions(()=>evaluate(Fe,Fr.expression))}return getAttributeBinding(Fe,_r,$r)}function getAttributeBinding(Fe,_r,$r){let Br=Fe.getAttribute(_r);return Br===null?typeof $r=="function"?$r():$r:Br===""?!0:isBooleanAttr(_r)?!![_r,"true"].includes(Br):Br}function debounce(Fe,_r){var $r;return function(){var Br=this,Fr=arguments,zr=function(){$r=null,Fe.apply(Br,Fr)};clearTimeout($r),$r=setTimeout(zr,_r)}}function throttle$1(Fe,_r){let $r;return function(){let Br=this,Fr=arguments;$r||(Fe.apply(Br,Fr),$r=!0,setTimeout(()=>$r=!1,_r))}}function entangle({get:Fe,set:_r},{get:$r,set:Br}){let Fr=!0,zr,jr=effect(()=>{const Ur=Fe(),Gr=$r();if(Fr)Br(cloneIfObject(Ur)),Fr=!1,zr=JSON.stringify(Ur);else{const Yr=JSON.stringify(Ur);Yr!==zr?(Br(cloneIfObject(Ur)),zr=Yr):(_r(cloneIfObject(Gr)),zr=JSON.stringify(Gr))}JSON.stringify($r()),JSON.stringify(Fe())});return()=>{release$1(jr)}}function cloneIfObject(Fe){return typeof Fe=="object"?JSON.parse(JSON.stringify(Fe)):Fe}function plugin(Fe){(Array.isArray(Fe)?Fe:[Fe]).forEach($r=>$r(alpine_default))}var stores={},isReactive=!1;function store(Fe,_r){if(isReactive||(stores=reactive(stores),isReactive=!0),_r===void 0)return stores[Fe];stores[Fe]=_r,typeof _r=="object"&&_r!==null&&_r.hasOwnProperty("init")&&typeof _r.init=="function"&&stores[Fe].init(),initInterceptors2(stores[Fe])}function getStores(){return stores}var binds={};function bind2(Fe,_r){let $r=typeof _r!="function"?()=>_r:_r;return Fe instanceof Element?applyBindingsObject(Fe,$r()):(binds[Fe]=$r,()=>{})}function injectBindingProviders(Fe){return Object.entries(binds).forEach(([_r,$r])=>{Object.defineProperty(Fe,_r,{get(){return(...Br)=>$r(...Br)}})}),Fe}function applyBindingsObject(Fe,_r,$r){let Br=[];for(;Br.length;)Br.pop()();let Fr=Object.entries(_r).map(([jr,Ur])=>({name:jr,value:Ur})),zr=attributesOnly(Fr);return Fr=Fr.map(jr=>zr.find(Ur=>Ur.name===jr.name)?{name:`x-bind:${jr.name}`,value:`"${jr.value}"`}:jr),directives(Fe,Fr,$r).map(jr=>{Br.push(jr.runCleanups),jr()}),()=>{for(;Br.length;)Br.pop()()}}var datas={};function data(Fe,_r){datas[Fe]=_r}function injectDataProviders(Fe,_r){return Object.entries(datas).forEach(([$r,Br])=>{Object.defineProperty(Fe,$r,{get(){return(...Fr)=>Br.bind(_r)(...Fr)},enumerable:!1})}),Fe}var Alpine$1={get reactive(){return reactive},get release(){return release$1},get effect(){return effect},get raw(){return raw},version:"3.13.2",flushAndStopDeferringMutations,dontAutoEvaluateFunctions,disableEffectScheduling,startObservingMutations,stopObservingMutations,setReactivityEngine,onAttributeRemoved,onAttributesAdded,closestDataStack,skipDuringClone,onlyDuringClone,addRootSelector,addInitSelector,addScopeToNode,deferMutations,mapAttributes,evaluateLater,interceptInit,setEvaluator,mergeProxies,extractProp,findClosest,onElRemoved,closestRoot,destroyTree,interceptor,transition,setStyles,mutateDom,directive,entangle,throttle:throttle$1,debounce,evaluate,initTree,nextTick,prefixed:prefix,prefix:setPrefix,plugin,magic,store,start:start$1,clone:clone$5,cloneNode,bound:getBinding,$data:scope,walk,data,bind:bind2},alpine_default=Alpine$1;function makeMap(Fe,_r){const $r=Object.create(null),Br=Fe.split(",");for(let Fr=0;Fr<Br.length;Fr++)$r[Br[Fr]]=!0;return _r?Fr=>!!$r[Fr.toLowerCase()]:Fr=>!!$r[Fr]}var EMPTY_OBJ$1=Object.freeze({}),hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn$1=(Fe,_r)=>hasOwnProperty.call(Fe,_r),isArray$2=Array.isArray,isMap=Fe=>toTypeString(Fe)==="[object Map]",isString$1=Fe=>typeof Fe=="string",isSymbol=Fe=>typeof Fe=="symbol",isObject$4=Fe=>Fe!==null&&typeof Fe=="object",objectToString=Object.prototype.toString,toTypeString=Fe=>objectToString.call(Fe),toRawType=Fe=>toTypeString(Fe).slice(8,-1),isIntegerKey=Fe=>isString$1(Fe)&&Fe!=="NaN"&&Fe[0]!=="-"&&""+parseInt(Fe,10)===Fe,cacheStringFunction=Fe=>{const _r=Object.create(null);return $r=>_r[$r]||(_r[$r]=Fe($r))},capitalize=cacheStringFunction(Fe=>Fe.charAt(0).toUpperCase()+Fe.slice(1)),hasChanged=(Fe,_r)=>Fe!==_r&&(Fe===Fe||_r===_r),targetMap=new WeakMap,effectStack=[],activeEffect,ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");function isEffect(Fe){return Fe&&Fe._isEffect===!0}function effect2(Fe,_r=EMPTY_OBJ$1){isEffect(Fe)&&(Fe=Fe.raw);const $r=createReactiveEffect(Fe,_r);return _r.lazy||$r(),$r}function stop$1(Fe){Fe.active&&(cleanup(Fe),Fe.options.onStop&&Fe.options.onStop(),Fe.active=!1)}var uid=0;function createReactiveEffect(Fe,_r){const $r=function(){if(!$r.active)return Fe();if(!effectStack.includes($r)){cleanup($r);try{return enableTracking(),effectStack.push($r),activeEffect=$r,Fe()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return $r.id=uid++,$r.allowRecurse=!!_r.allowRecurse,$r._isEffect=!0,$r.active=!0,$r.raw=Fe,$r.deps=[],$r.options=_r,$r}function cleanup(Fe){const{deps:_r}=Fe;if(_r.length){for(let $r=0;$r<_r.length;$r++)_r[$r].delete(Fe);_r.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const Fe=trackStack.pop();shouldTrack=Fe===void 0?!0:Fe}function track(Fe,_r,$r){if(!shouldTrack||activeEffect===void 0)return;let Br=targetMap.get(Fe);Br||targetMap.set(Fe,Br=new Map);let Fr=Br.get($r);Fr||Br.set($r,Fr=new Set),Fr.has(activeEffect)||(Fr.add(activeEffect),activeEffect.deps.push(Fr),activeEffect.options.onTrack&&activeEffect.options.onTrack({effect:activeEffect,target:Fe,type:_r,key:$r}))}function trigger$2(Fe,_r,$r,Br,Fr,zr){const jr=targetMap.get(Fe);if(!jr)return;const Ur=new Set,Gr=Kr=>{Kr&&Kr.forEach(Qr=>{(Qr!==activeEffect||Qr.allowRecurse)&&Ur.add(Qr)})};if(_r==="clear")jr.forEach(Gr);else if($r==="length"&&isArray$2(Fe))jr.forEach((Kr,Qr)=>{(Qr==="length"||Qr>=Br)&&Gr(Kr)});else switch($r!==void 0&&Gr(jr.get($r)),_r){case"add":isArray$2(Fe)?isIntegerKey($r)&&Gr(jr.get("length")):(Gr(jr.get(ITERATE_KEY)),isMap(Fe)&&Gr(jr.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(Fe)||(Gr(jr.get(ITERATE_KEY)),isMap(Fe)&&Gr(jr.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(Fe)&&Gr(jr.get(ITERATE_KEY));break}const Yr=Kr=>{Kr.options.onTrigger&&Kr.options.onTrigger({effect:Kr,target:Fe,key:$r,type:_r,newValue:Br,oldValue:Fr,oldTarget:zr}),Kr.options.scheduler?Kr.options.scheduler(Kr):Kr()};Ur.forEach(Yr)}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(Fe=>Symbol[Fe]).filter(isSymbol)),get2=createGetter(),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const Fe={};return["includes","indexOf","lastIndexOf"].forEach(_r=>{Fe[_r]=function(...$r){const Br=toRaw(this);for(let zr=0,jr=this.length;zr<jr;zr++)track(Br,"get",zr+"");const Fr=Br[_r](...$r);return Fr===-1||Fr===!1?Br[_r](...$r.map(toRaw)):Fr}}),["push","pop","shift","unshift","splice"].forEach(_r=>{Fe[_r]=function(...$r){pauseTracking();const Br=toRaw(this)[_r].apply(this,$r);return resetTracking(),Br}}),Fe}function createGetter(Fe=!1,_r=!1){return function(Br,Fr,zr){if(Fr==="__v_isReactive")return!Fe;if(Fr==="__v_isReadonly")return Fe;if(Fr==="__v_raw"&&zr===(Fe?_r?shallowReadonlyMap:readonlyMap:_r?shallowReactiveMap:reactiveMap).get(Br))return Br;const jr=isArray$2(Br);if(!Fe&&jr&&hasOwn$1(arrayInstrumentations,Fr))return Reflect.get(arrayInstrumentations,Fr,zr);const Ur=Reflect.get(Br,Fr,zr);return(isSymbol(Fr)?builtInSymbols.has(Fr):isNonTrackableKeys(Fr))||(Fe||track(Br,"get",Fr),_r)?Ur:isRef(Ur)?!jr||!isIntegerKey(Fr)?Ur.value:Ur:isObject$4(Ur)?Fe?readonly(Ur):reactive2(Ur):Ur}}var set2=createSetter();function createSetter(Fe=!1){return function($r,Br,Fr,zr){let jr=$r[Br];if(!Fe&&(Fr=toRaw(Fr),jr=toRaw(jr),!isArray$2($r)&&isRef(jr)&&!isRef(Fr)))return jr.value=Fr,!0;const Ur=isArray$2($r)&&isIntegerKey(Br)?Number(Br)<$r.length:hasOwn$1($r,Br),Gr=Reflect.set($r,Br,Fr,zr);return $r===toRaw(zr)&&(Ur?hasChanged(Fr,jr)&&trigger$2($r,"set",Br,Fr,jr):trigger$2($r,"add",Br,Fr)),Gr}}function deleteProperty(Fe,_r){const $r=hasOwn$1(Fe,_r),Br=Fe[_r],Fr=Reflect.deleteProperty(Fe,_r);return Fr&&$r&&trigger$2(Fe,"delete",_r,void 0,Br),Fr}function has$2(Fe,_r){const $r=Reflect.has(Fe,_r);return(!isSymbol(_r)||!builtInSymbols.has(_r))&&track(Fe,"has",_r),$r}function ownKeys$1(Fe){return track(Fe,"iterate",isArray$2(Fe)?"length":ITERATE_KEY),Reflect.ownKeys(Fe)}var mutableHandlers={get:get2,set:set2,deleteProperty,has:has$2,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(Fe,_r){return console.warn(`Set operation on key "${String(_r)}" failed: target is readonly.`,Fe),!0},deleteProperty(Fe,_r){return console.warn(`Delete operation on key "${String(_r)}" failed: target is readonly.`,Fe),!0}},toReactive=Fe=>isObject$4(Fe)?reactive2(Fe):Fe,toReadonly=Fe=>isObject$4(Fe)?readonly(Fe):Fe,toShallow=Fe=>Fe,getProto=Fe=>Reflect.getPrototypeOf(Fe);function get$1$1(Fe,_r,$r=!1,Br=!1){Fe=Fe.__v_raw;const Fr=toRaw(Fe),zr=toRaw(_r);_r!==zr&&!$r&&track(Fr,"get",_r),!$r&&track(Fr,"get",zr);const{has:jr}=getProto(Fr),Ur=Br?toShallow:$r?toReadonly:toReactive;if(jr.call(Fr,_r))return Ur(Fe.get(_r));if(jr.call(Fr,zr))return Ur(Fe.get(zr));Fe!==Fr&&Fe.get(_r)}function has$1$1(Fe,_r=!1){const $r=this.__v_raw,Br=toRaw($r),Fr=toRaw(Fe);return Fe!==Fr&&!_r&&track(Br,"has",Fe),!_r&&track(Br,"has",Fr),Fe===Fr?$r.has(Fe):$r.has(Fe)||$r.has(Fr)}function size(Fe,_r=!1){return Fe=Fe.__v_raw,!_r&&track(toRaw(Fe),"iterate",ITERATE_KEY),Reflect.get(Fe,"size",Fe)}function add$1(Fe){Fe=toRaw(Fe);const _r=toRaw(this);return getProto(_r).has.call(_r,Fe)||(_r.add(Fe),trigger$2(_r,"add",Fe,Fe)),this}function set$1$1(Fe,_r){_r=toRaw(_r);const $r=toRaw(this),{has:Br,get:Fr}=getProto($r);let zr=Br.call($r,Fe);zr?checkIdentityKeys($r,Br,Fe):(Fe=toRaw(Fe),zr=Br.call($r,Fe));const jr=Fr.call($r,Fe);return $r.set(Fe,_r),zr?hasChanged(_r,jr)&&trigger$2($r,"set",Fe,_r,jr):trigger$2($r,"add",Fe,_r),this}function deleteEntry(Fe){const _r=toRaw(this),{has:$r,get:Br}=getProto(_r);let Fr=$r.call(_r,Fe);Fr?checkIdentityKeys(_r,$r,Fe):(Fe=toRaw(Fe),Fr=$r.call(_r,Fe));const zr=Br?Br.call(_r,Fe):void 0,jr=_r.delete(Fe);return Fr&&trigger$2(_r,"delete",Fe,void 0,zr),jr}function clear$2(){const Fe=toRaw(this),_r=Fe.size!==0,$r=isMap(Fe)?new Map(Fe):new Set(Fe),Br=Fe.clear();return _r&&trigger$2(Fe,"clear",void 0,void 0,$r),Br}function createForEach(Fe,_r){return function(Br,Fr){const zr=this,jr=zr.__v_raw,Ur=toRaw(jr),Gr=_r?toShallow:Fe?toReadonly:toReactive;return!Fe&&track(Ur,"iterate",ITERATE_KEY),jr.forEach((Yr,Kr)=>Br.call(Fr,Gr(Yr),Gr(Kr),zr))}}function createIterableMethod(Fe,_r,$r){return function(...Br){const Fr=this.__v_raw,zr=toRaw(Fr),jr=isMap(zr),Ur=Fe==="entries"||Fe===Symbol.iterator&&jr,Gr=Fe==="keys"&&jr,Yr=Fr[Fe](...Br),Kr=$r?toShallow:_r?toReadonly:toReactive;return!_r&&track(zr,"iterate",Gr?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Qr,done:Jr}=Yr.next();return Jr?{value:Qr,done:Jr}:{value:Ur?[Kr(Qr[0]),Kr(Qr[1])]:Kr(Qr),done:Jr}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(Fe){return function(..._r){{const $r=_r[0]?`on key "${_r[0]}" `:"";console.warn(`${capitalize(Fe)} operation ${$r}failed: target is readonly.`,toRaw(this))}return Fe==="delete"?!1:this}}function createInstrumentations(){const Fe={get(zr){return get$1$1(this,zr)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!1)},_r={get(zr){return get$1$1(this,zr,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!0)},$r={get(zr){return get$1$1(this,zr,!0)},get size(){return size(this,!0)},has(zr){return has$1$1.call(this,zr,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},Br={get(zr){return get$1$1(this,zr,!0,!0)},get size(){return size(this,!0)},has(zr){return has$1$1.call(this,zr,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(zr=>{Fe[zr]=createIterableMethod(zr,!1,!1),$r[zr]=createIterableMethod(zr,!0,!1),_r[zr]=createIterableMethod(zr,!1,!0),Br[zr]=createIterableMethod(zr,!0,!0)}),[Fe,$r,_r,Br]}var[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(Fe,_r){const $r=_r?Fe?shallowReadonlyInstrumentations:shallowInstrumentations:Fe?readonlyInstrumentations:mutableInstrumentations;return(Br,Fr,zr)=>Fr==="__v_isReactive"?!Fe:Fr==="__v_isReadonly"?Fe:Fr==="__v_raw"?Br:Reflect.get(hasOwn$1($r,Fr)&&Fr in Br?$r:Br,Fr,zr)}var mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)};function checkIdentityKeys(Fe,_r,$r){const Br=toRaw($r);if(Br!==$r&&_r.call(Fe,Br)){const Fr=toRawType(Fe);console.warn(`Reactive ${Fr} contains both the raw and reactive versions of the same object${Fr==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(Fe){switch(Fe){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(Fe){return Fe.__v_skip||!Object.isExtensible(Fe)?0:targetTypeMap(toRawType(Fe))}function reactive2(Fe){return Fe&&Fe.__v_isReadonly?Fe:createReactiveObject(Fe,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(Fe){return createReactiveObject(Fe,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(Fe,_r,$r,Br,Fr){if(!isObject$4(Fe))return console.warn(`value cannot be made reactive: ${String(Fe)}`),Fe;if(Fe.__v_raw&&!(_r&&Fe.__v_isReactive))return Fe;const zr=Fr.get(Fe);if(zr)return zr;const jr=getTargetType(Fe);if(jr===0)return Fe;const Ur=new Proxy(Fe,jr===2?Br:$r);return Fr.set(Fe,Ur),Ur}function toRaw(Fe){return Fe&&toRaw(Fe.__v_raw)||Fe}function isRef(Fe){return!!(Fe&&Fe.__v_isRef===!0)}magic("nextTick",()=>nextTick);magic("dispatch",Fe=>dispatch.bind(dispatch,Fe));magic("watch",(Fe,{evaluateLater:_r,effect:$r})=>(Br,Fr)=>{let zr=_r(Br),jr=!0,Ur,Gr=$r(()=>zr(Yr=>{JSON.stringify(Yr),jr?Ur=Yr:queueMicrotask(()=>{Fr(Yr,Ur),Ur=Yr}),jr=!1}));Fe._x_effects.delete(Gr)});magic("store",getStores);magic("data",Fe=>scope(Fe));magic("root",Fe=>closestRoot(Fe));magic("refs",Fe=>(Fe._x_refs_proxy||(Fe._x_refs_proxy=mergeProxies(getArrayOfRefObject(Fe))),Fe._x_refs_proxy));function getArrayOfRefObject(Fe){let _r=[],$r=Fe;for(;$r;)$r._x_refs&&_r.push($r._x_refs),$r=$r.parentNode;return _r}var globalIdMemo={};function findAndIncrementId(Fe){return globalIdMemo[Fe]||(globalIdMemo[Fe]=0),++globalIdMemo[Fe]}function closestIdRoot(Fe,_r){return findClosest(Fe,$r=>{if($r._x_ids&&$r._x_ids[_r])return!0})}function setIdRoot(Fe,_r){Fe._x_ids||(Fe._x_ids={}),Fe._x_ids[_r]||(Fe._x_ids[_r]=findAndIncrementId(_r))}magic("id",Fe=>(_r,$r=null)=>{let Br=closestIdRoot(Fe,_r),Fr=Br?Br._x_ids[_r]:findAndIncrementId(_r);return $r?`${_r}-${Fr}-${$r}`:`${_r}-${Fr}`});magic("el",Fe=>Fe);warnMissingPluginMagic("Focus","focus","focus");warnMissingPluginMagic("Persist","persist","persist");function warnMissingPluginMagic(Fe,_r,$r){magic(_r,Br=>warn$1(`You can't use [$${_r}] without first installing the "${Fe}" plugin here: https://alpinejs.dev/plugins/${$r}`,Br))}directive("modelable",(Fe,{expression:_r},{effect:$r,evaluateLater:Br,cleanup:Fr})=>{let zr=Br(_r),jr=()=>{let Kr;return zr(Qr=>Kr=Qr),Kr},Ur=Br(`${_r} = __placeholder`),Gr=Kr=>Ur(()=>{},{scope:{__placeholder:Kr}}),Yr=jr();Gr(Yr),queueMicrotask(()=>{if(!Fe._x_model)return;Fe._x_removeModelListeners.default();let Kr=Fe._x_model.get,Qr=Fe._x_model.set,Jr=entangle({get(){return Kr()},set(rn){Qr(rn)}},{get(){return jr()},set(rn){Gr(rn)}});Fr(Jr)})});directive("teleport",(Fe,{modifiers:_r,expression:$r},{cleanup:Br})=>{Fe.tagName.toLowerCase()!=="template"&&warn$1("x-teleport can only be used on a <template> tag",Fe);let Fr=getTarget($r),zr=Fe.content.cloneNode(!0).firstElementChild;Fe._x_teleport=zr,zr._x_teleportBack=Fe,Fe.setAttribute("data-teleport-template",!0),zr.setAttribute("data-teleport-target",!0),Fe._x_forwardEvents&&Fe._x_forwardEvents.forEach(Ur=>{zr.addEventListener(Ur,Gr=>{Gr.stopPropagation(),Fe.dispatchEvent(new Gr.constructor(Gr.type,Gr))})}),addScopeToNode(zr,{},Fe);let jr=(Ur,Gr,Yr)=>{Yr.includes("prepend")?Gr.parentNode.insertBefore(Ur,Gr):Yr.includes("append")?Gr.parentNode.insertBefore(Ur,Gr.nextSibling):Gr.appendChild(Ur)};mutateDom(()=>{jr(zr,Fr,_r),initTree(zr),zr._x_ignore=!0}),Fe._x_teleportPutBack=()=>{let Ur=getTarget($r);mutateDom(()=>{jr(Fe._x_teleport,Ur,_r)})},Br(()=>zr.remove())});var teleportContainerDuringClone=document.createElement("div");function getTarget(Fe){let _r=skipDuringClone(()=>document.querySelector(Fe),()=>teleportContainerDuringClone)();return _r||warn$1(`Cannot find x-teleport element for selector: "${Fe}"`),_r}var handler=()=>{};handler.inline=(Fe,{modifiers:_r},{cleanup:$r})=>{_r.includes("self")?Fe._x_ignoreSelf=!0:Fe._x_ignore=!0,$r(()=>{_r.includes("self")?delete Fe._x_ignoreSelf:delete Fe._x_ignore})};directive("ignore",handler);directive("effect",(Fe,{expression:_r},{effect:$r})=>$r(evaluateLater(Fe,_r)));function on(Fe,_r,$r,Br){let Fr=Fe,zr=Gr=>Br(Gr),jr={},Ur=(Gr,Yr)=>Kr=>Yr(Gr,Kr);if($r.includes("dot")&&(_r=dotSyntax(_r)),$r.includes("camel")&&(_r=camelCase2(_r)),$r.includes("passive")&&(jr.passive=!0),$r.includes("capture")&&(jr.capture=!0),$r.includes("window")&&(Fr=window),$r.includes("document")&&(Fr=document),$r.includes("debounce")){let Gr=$r[$r.indexOf("debounce")+1]||"invalid-wait",Yr=isNumeric$1(Gr.split("ms")[0])?Number(Gr.split("ms")[0]):250;zr=debounce(zr,Yr)}if($r.includes("throttle")){let Gr=$r[$r.indexOf("throttle")+1]||"invalid-wait",Yr=isNumeric$1(Gr.split("ms")[0])?Number(Gr.split("ms")[0]):250;zr=throttle$1(zr,Yr)}return $r.includes("prevent")&&(zr=Ur(zr,(Gr,Yr)=>{Yr.preventDefault(),Gr(Yr)})),$r.includes("stop")&&(zr=Ur(zr,(Gr,Yr)=>{Yr.stopPropagation(),Gr(Yr)})),$r.includes("self")&&(zr=Ur(zr,(Gr,Yr)=>{Yr.target===Fe&&Gr(Yr)})),($r.includes("away")||$r.includes("outside"))&&(Fr=document,zr=Ur(zr,(Gr,Yr)=>{Fe.contains(Yr.target)||Yr.target.isConnected!==!1&&(Fe.offsetWidth<1&&Fe.offsetHeight<1||Fe._x_isShown!==!1&&Gr(Yr))})),$r.includes("once")&&(zr=Ur(zr,(Gr,Yr)=>{Gr(Yr),Fr.removeEventListener(_r,zr,jr)})),zr=Ur(zr,(Gr,Yr)=>{isKeyEvent(_r)&&isListeningForASpecificKeyThatHasntBeenPressed(Yr,$r)||Gr(Yr)}),Fr.addEventListener(_r,zr,jr),()=>{Fr.removeEventListener(_r,zr,jr)}}function dotSyntax(Fe){return Fe.replace(/-/g,".")}function camelCase2(Fe){return Fe.toLowerCase().replace(/-(\w)/g,(_r,$r)=>$r.toUpperCase())}function isNumeric$1(Fe){return!Array.isArray(Fe)&&!isNaN(Fe)}function kebabCase2(Fe){return[" ","_"].includes(Fe)?Fe:Fe.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(Fe){return["keydown","keyup"].includes(Fe)}function isListeningForASpecificKeyThatHasntBeenPressed(Fe,_r){let $r=_r.filter(zr=>!["window","document","prevent","stop","once","capture"].includes(zr));if($r.includes("debounce")){let zr=$r.indexOf("debounce");$r.splice(zr,isNumeric$1(($r[zr+1]||"invalid-wait").split("ms")[0])?2:1)}if($r.includes("throttle")){let zr=$r.indexOf("throttle");$r.splice(zr,isNumeric$1(($r[zr+1]||"invalid-wait").split("ms")[0])?2:1)}if($r.length===0||$r.length===1&&keyToModifiers(Fe.key).includes($r[0]))return!1;const Fr=["ctrl","shift","alt","meta","cmd","super"].filter(zr=>$r.includes(zr));return $r=$r.filter(zr=>!Fr.includes(zr)),!(Fr.length>0&&Fr.filter(jr=>((jr==="cmd"||jr==="super")&&(jr="meta"),Fe[`${jr}Key`])).length===Fr.length&&keyToModifiers(Fe.key).includes($r[0]))}function keyToModifiers(Fe){if(!Fe)return[];Fe=kebabCase2(Fe);let _r={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return _r[Fe]=Fe,Object.keys(_r).map($r=>{if(_r[$r]===Fe)return $r}).filter($r=>$r)}directive("model",(Fe,{modifiers:_r,expression:$r},{effect:Br,cleanup:Fr})=>{let zr=Fe;_r.includes("parent")&&(zr=Fe.parentNode);let jr=evaluateLater(zr,$r),Ur;typeof $r=="string"?Ur=evaluateLater(zr,`${$r} = __placeholder`):typeof $r=="function"&&typeof $r()=="string"?Ur=evaluateLater(zr,`${$r()} = __placeholder`):Ur=()=>{};let Gr=()=>{let Jr;return jr(rn=>Jr=rn),isGetterSetter(Jr)?Jr.get():Jr},Yr=Jr=>{let rn;jr(an=>rn=an),isGetterSetter(rn)?rn.set(Jr):Ur(()=>{},{scope:{__placeholder:Jr}})};typeof $r=="string"&&Fe.type==="radio"&&mutateDom(()=>{Fe.hasAttribute("name")||Fe.setAttribute("name",$r)});var Kr=Fe.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(Fe.type)||_r.includes("lazy")?"change":"input";let Qr=isCloning?()=>{}:on(Fe,Kr,_r,Jr=>{Yr(getInputValue(Fe,_r,Jr,Gr()))});if(_r.includes("fill")&&([null,""].includes(Gr())||Fe.type==="checkbox"&&Array.isArray(Gr()))&&Fe.dispatchEvent(new Event(Kr,{})),Fe._x_removeModelListeners||(Fe._x_removeModelListeners={}),Fe._x_removeModelListeners.default=Qr,Fr(()=>Fe._x_removeModelListeners.default()),Fe.form){let Jr=on(Fe.form,"reset",[],rn=>{nextTick(()=>Fe._x_model&&Fe._x_model.set(Fe.value))});Fr(()=>Jr())}Fe._x_model={get(){return Gr()},set(Jr){Yr(Jr)}},Fe._x_forceModelUpdate=Jr=>{Jr===void 0&&typeof $r=="string"&&$r.match(/\./)&&(Jr=""),window.fromModel=!0,mutateDom(()=>bind$2(Fe,"value",Jr)),delete window.fromModel},Br(()=>{let Jr=Gr();_r.includes("unintrusive")&&document.activeElement.isSameNode(Fe)||Fe._x_forceModelUpdate(Jr)})});function getInputValue(Fe,_r,$r,Br){return mutateDom(()=>{if($r instanceof CustomEvent&&$r.detail!==void 0)return $r.detail!==null&&$r.detail!==void 0?$r.detail:$r.target.value;if(Fe.type==="checkbox")if(Array.isArray(Br)){let Fr=_r.includes("number")?safeParseNumber($r.target.value):$r.target.value;return $r.target.checked?Br.concat([Fr]):Br.filter(zr=>!checkedAttrLooseCompare2(zr,Fr))}else return $r.target.checked;else{if(Fe.tagName.toLowerCase()==="select"&&Fe.multiple)return _r.includes("number")?Array.from($r.target.selectedOptions).map(Fr=>{let zr=Fr.value||Fr.text;return safeParseNumber(zr)}):Array.from($r.target.selectedOptions).map(Fr=>Fr.value||Fr.text);{let Fr=$r.target.value;return _r.includes("number")?safeParseNumber(Fr):_r.includes("trim")?Fr.trim():Fr}}})}function safeParseNumber(Fe){let _r=Fe?parseFloat(Fe):null;return isNumeric2(_r)?_r:Fe}function checkedAttrLooseCompare2(Fe,_r){return Fe==_r}function isNumeric2(Fe){return!Array.isArray(Fe)&&!isNaN(Fe)}function isGetterSetter(Fe){return Fe!==null&&typeof Fe=="object"&&typeof Fe.get=="function"&&typeof Fe.set=="function"}directive("cloak",Fe=>queueMicrotask(()=>mutateDom(()=>Fe.removeAttribute(prefix("cloak")))));addInitSelector(()=>`[${prefix("init")}]`);directive("init",skipDuringClone((Fe,{expression:_r},{evaluate:$r})=>typeof _r=="string"?!!_r.trim()&&$r(_r,{},!1):$r(_r,{},!1)));directive("text",(Fe,{expression:_r},{effect:$r,evaluateLater:Br})=>{let Fr=Br(_r);$r(()=>{Fr(zr=>{mutateDom(()=>{Fe.textContent=zr})})})});directive("html",(Fe,{expression:_r},{effect:$r,evaluateLater:Br})=>{let Fr=Br(_r);$r(()=>{Fr(zr=>{mutateDom(()=>{Fe.innerHTML=zr,Fe._x_ignoreSelf=!0,initTree(Fe),delete Fe._x_ignoreSelf})})})});mapAttributes(startingWith(":",into(prefix("bind:"))));var handler2=(Fe,{value:_r,modifiers:$r,expression:Br,original:Fr},{effect:zr})=>{if(!_r){let Ur={};injectBindingProviders(Ur),evaluateLater(Fe,Br)(Yr=>{applyBindingsObject(Fe,Yr,Fr)},{scope:Ur});return}if(_r==="key")return storeKeyForXFor(Fe,Br);if(Fe._x_inlineBindings&&Fe._x_inlineBindings[_r]&&Fe._x_inlineBindings[_r].extract)return;let jr=evaluateLater(Fe,Br);zr(()=>jr(Ur=>{Ur===void 0&&typeof Br=="string"&&Br.match(/\./)&&(Ur=""),mutateDom(()=>bind$2(Fe,_r,Ur,$r))}))};handler2.inline=(Fe,{value:_r,modifiers:$r,expression:Br})=>{_r&&(Fe._x_inlineBindings||(Fe._x_inlineBindings={}),Fe._x_inlineBindings[_r]={expression:Br,extract:!1})};directive("bind",handler2);function storeKeyForXFor(Fe,_r){Fe._x_keyExpression=_r}addRootSelector(()=>`[${prefix("data")}]`);directive("data",(Fe,{expression:_r},{cleanup:$r})=>{if(shouldSkipRegisteringDataDuringClone(Fe))return;_r=_r===""?"{}":_r;let Br={};injectMagics(Br,Fe);let Fr={};injectDataProviders(Fr,Br);let zr=evaluate(Fe,_r,{scope:Fr});(zr===void 0||zr===!0)&&(zr={}),injectMagics(zr,Fe);let jr=reactive(zr);initInterceptors2(jr);let Ur=addScopeToNode(Fe,jr);jr.init&&evaluate(Fe,jr.init),$r(()=>{jr.destroy&&evaluate(Fe,jr.destroy),Ur()})});directive("show",(Fe,{modifiers:_r,expression:$r},{effect:Br})=>{let Fr=evaluateLater(Fe,$r);Fe._x_doHide||(Fe._x_doHide=()=>{mutateDom(()=>{Fe.style.setProperty("display","none",_r.includes("important")?"important":void 0)})}),Fe._x_doShow||(Fe._x_doShow=()=>{mutateDom(()=>{Fe.style.length===1&&Fe.style.display==="none"?Fe.removeAttribute("style"):Fe.style.removeProperty("display")})});let zr=()=>{Fe._x_doHide(),Fe._x_isShown=!1},jr=()=>{Fe._x_doShow(),Fe._x_isShown=!0},Ur=()=>setTimeout(jr),Gr=once(Qr=>Qr?jr():zr(),Qr=>{typeof Fe._x_toggleAndCascadeWithTransitions=="function"?Fe._x_toggleAndCascadeWithTransitions(Fe,Qr,jr,zr):Qr?Ur():zr()}),Yr,Kr=!0;Br(()=>Fr(Qr=>{!Kr&&Qr===Yr||(_r.includes("immediate")&&(Qr?Ur():zr()),Gr(Qr),Yr=Qr,Kr=!1)}))});directive("for",(Fe,{expression:_r},{effect:$r,cleanup:Br})=>{let Fr=parseForExpression(_r),zr=evaluateLater(Fe,Fr.items),jr=evaluateLater(Fe,Fe._x_keyExpression||"index");Fe._x_prevKeys=[],Fe._x_lookup={},$r(()=>loop(Fe,Fr,zr,jr)),Br(()=>{Object.values(Fe._x_lookup).forEach(Ur=>Ur.remove()),delete Fe._x_prevKeys,delete Fe._x_lookup})});function loop(Fe,_r,$r,Br){let Fr=jr=>typeof jr=="object"&&!Array.isArray(jr),zr=Fe;$r(jr=>{isNumeric3(jr)&&jr>=0&&(jr=Array.from(Array(jr).keys(),dn=>dn+1)),jr===void 0&&(jr=[]);let Ur=Fe._x_lookup,Gr=Fe._x_prevKeys,Yr=[],Kr=[];if(Fr(jr))jr=Object.entries(jr).map(([dn,hn])=>{let gn=getIterationScopeVariables(_r,hn,dn,jr);Br(bn=>Kr.push(bn),{scope:{index:dn,...gn}}),Yr.push(gn)});else for(let dn=0;dn<jr.length;dn++){let hn=getIterationScopeVariables(_r,jr[dn],dn,jr);Br(gn=>Kr.push(gn),{scope:{index:dn,...hn}}),Yr.push(hn)}let Qr=[],Jr=[],rn=[],an=[];for(let dn=0;dn<Gr.length;dn++){let hn=Gr[dn];Kr.indexOf(hn)===-1&&rn.push(hn)}Gr=Gr.filter(dn=>!rn.includes(dn));let ln="template";for(let dn=0;dn<Kr.length;dn++){let hn=Kr[dn],gn=Gr.indexOf(hn);if(gn===-1)Gr.splice(dn,0,hn),Qr.push([ln,dn]);else if(gn!==dn){let bn=Gr.splice(dn,1)[0],kn=Gr.splice(gn-1,1)[0];Gr.splice(dn,0,kn),Gr.splice(gn,0,bn),Jr.push([bn,kn])}else an.push(hn);ln=hn}for(let dn=0;dn<rn.length;dn++){let hn=rn[dn];Ur[hn]._x_effects&&Ur[hn]._x_effects.forEach(dequeueJob),Ur[hn].remove(),Ur[hn]=null,delete Ur[hn]}for(let dn=0;dn<Jr.length;dn++){let[hn,gn]=Jr[dn],bn=Ur[hn],kn=Ur[gn],Sn=document.createElement("div");mutateDom(()=>{kn||warn$1('x-for ":key" is undefined or invalid',zr),kn.after(Sn),bn.after(kn),kn._x_currentIfEl&&kn.after(kn._x_currentIfEl),Sn.before(bn),bn._x_currentIfEl&&bn.after(bn._x_currentIfEl),Sn.remove()}),kn._x_refreshXForScope(Yr[Kr.indexOf(gn)])}for(let dn=0;dn<Qr.length;dn++){let[hn,gn]=Qr[dn],bn=hn==="template"?zr:Ur[hn];bn._x_currentIfEl&&(bn=bn._x_currentIfEl);let kn=Yr[gn],Sn=Kr[gn],_n=document.importNode(zr.content,!0).firstElementChild,pn=reactive(kn);addScopeToNode(_n,pn,zr),_n._x_refreshXForScope=Cn=>{Object.entries(Cn).forEach(([En,Pn])=>{pn[En]=Pn})},mutateDom(()=>{bn.after(_n),initTree(_n)}),typeof Sn=="object"&&warn$1("x-for key cannot be an object, it must be a string or an integer",zr),Ur[Sn]=_n}for(let dn=0;dn<an.length;dn++)Ur[an[dn]]._x_refreshXForScope(Yr[Kr.indexOf(an[dn])]);zr._x_prevKeys=Kr})}function parseForExpression(Fe){let _r=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,$r=/^\s*\(|\)\s*$/g,Br=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Fr=Fe.match(Br);if(!Fr)return;let zr={};zr.items=Fr[2].trim();let jr=Fr[1].replace($r,"").trim(),Ur=jr.match(_r);return Ur?(zr.item=jr.replace(_r,"").trim(),zr.index=Ur[1].trim(),Ur[2]&&(zr.collection=Ur[2].trim())):zr.item=jr,zr}function getIterationScopeVariables(Fe,_r,$r,Br){let Fr={};return/^\[.*\]$/.test(Fe.item)&&Array.isArray(_r)?Fe.item.replace("[","").replace("]","").split(",").map(jr=>jr.trim()).forEach((jr,Ur)=>{Fr[jr]=_r[Ur]}):/^\{.*\}$/.test(Fe.item)&&!Array.isArray(_r)&&typeof _r=="object"?Fe.item.replace("{","").replace("}","").split(",").map(jr=>jr.trim()).forEach(jr=>{Fr[jr]=_r[jr]}):Fr[Fe.item]=_r,Fe.index&&(Fr[Fe.index]=$r),Fe.collection&&(Fr[Fe.collection]=Br),Fr}function isNumeric3(Fe){return!Array.isArray(Fe)&&!isNaN(Fe)}function handler3(){}handler3.inline=(Fe,{expression:_r},{cleanup:$r})=>{let Br=closestRoot(Fe);Br._x_refs||(Br._x_refs={}),Br._x_refs[_r]=Fe,$r(()=>delete Br._x_refs[_r])};directive("ref",handler3);directive("if",(Fe,{expression:_r},{effect:$r,cleanup:Br})=>{Fe.tagName.toLowerCase()!=="template"&&warn$1("x-if can only be used on a <template> tag",Fe);let Fr=evaluateLater(Fe,_r),zr=()=>{if(Fe._x_currentIfEl)return Fe._x_currentIfEl;let Ur=Fe.content.cloneNode(!0).firstElementChild;return addScopeToNode(Ur,{},Fe),mutateDom(()=>{Fe.after(Ur),initTree(Ur)}),Fe._x_currentIfEl=Ur,Fe._x_undoIf=()=>{walk(Ur,Gr=>{Gr._x_effects&&Gr._x_effects.forEach(dequeueJob)}),Ur.remove(),delete Fe._x_currentIfEl},Ur},jr=()=>{Fe._x_undoIf&&(Fe._x_undoIf(),delete Fe._x_undoIf)};$r(()=>Fr(Ur=>{Ur?zr():jr()})),Br(()=>Fe._x_undoIf&&Fe._x_undoIf())});directive("id",(Fe,{expression:_r},{evaluate:$r})=>{$r(_r).forEach(Fr=>setIdRoot(Fe,Fr))});mapAttributes(startingWith("@",into(prefix("on:"))));directive("on",skipDuringClone((Fe,{value:_r,modifiers:$r,expression:Br},{cleanup:Fr})=>{let zr=Br?evaluateLater(Fe,Br):()=>{};Fe.tagName.toLowerCase()==="template"&&(Fe._x_forwardEvents||(Fe._x_forwardEvents=[]),Fe._x_forwardEvents.includes(_r)||Fe._x_forwardEvents.push(_r));let jr=on(Fe,_r,$r,Ur=>{zr(()=>{},{scope:{$event:Ur},params:[Ur]})});Fr(()=>jr())}));warnMissingPluginDirective("Collapse","collapse","collapse");warnMissingPluginDirective("Intersect","intersect","intersect");warnMissingPluginDirective("Focus","trap","focus");warnMissingPluginDirective("Mask","mask","mask");function warnMissingPluginDirective(Fe,_r,$r){directive(_r,Br=>warn$1(`You can't use [x-${_r}] without first installing the "${Fe}" plugin here: https://alpinejs.dev/plugins/${$r}`,Br))}alpine_default.setEvaluator(normalEvaluator);alpine_default.setReactivityEngine({reactive:reactive2,effect:effect2,release:stop$1,raw:toRaw});var src_default$6=alpine_default,module_default$6=src_default$6;function src_default$5(Fe){let _r=()=>{let $r,Br;try{Br=localStorage}catch(Fr){console.error(Fr),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let zr=new Map;Br={getItem:zr.get.bind(zr),setItem:zr.set.bind(zr)}}return Fe.interceptor((Fr,zr,jr,Ur,Gr)=>{let Yr=$r||`_x_${Ur}`,Kr=storageHas(Yr,Br)?storageGet(Yr,Br):Fr;return jr(Kr),Fe.effect(()=>{let Qr=zr();storageSet(Yr,Qr,Br),jr(Qr)}),Kr},Fr=>{Fr.as=zr=>($r=zr,Fr),Fr.using=zr=>(Br=zr,Fr)})};Object.defineProperty(Fe,"$persist",{get:()=>_r()}),Fe.magic("persist",_r),Fe.persist=($r,{get:Br,set:Fr},zr=localStorage)=>{let jr=storageHas($r,zr)?storageGet($r,zr):Br();Fr(jr),Fe.effect(()=>{let Ur=Br();storageSet($r,Ur,zr),Fr(Ur)})}}function storageHas(Fe,_r){return _r.getItem(Fe)!==null}function storageGet(Fe,_r){return JSON.parse(_r.getItem(Fe,_r))}function storageSet(Fe,_r,$r){$r.setItem(Fe,JSON.stringify(_r))}var module_default$5=src_default$5,candidateSelectors=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],candidateSelector=candidateSelectors.join(","),NoElement=typeof Element>"u",matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(Fe){return Fe.getRootNode()}:function(Fe){return Fe.ownerDocument},getCandidates=function(_r,$r,Br){var Fr=Array.prototype.slice.apply(_r.querySelectorAll(candidateSelector));return $r&&matches.call(_r,candidateSelector)&&Fr.unshift(_r),Fr=Fr.filter(Br),Fr},getCandidatesIteratively=function Fe(_r,$r,Br){for(var Fr=[],zr=Array.from(_r);zr.length;){var jr=zr.shift();if(jr.tagName==="SLOT"){var Ur=jr.assignedElements(),Gr=Ur.length?Ur:jr.children,Yr=Fe(Gr,!0,Br);Br.flatten?Fr.push.apply(Fr,Yr):Fr.push({scope:jr,candidates:Yr})}else{var Kr=matches.call(jr,candidateSelector);Kr&&Br.filter(jr)&&($r||!_r.includes(jr))&&Fr.push(jr);var Qr=jr.shadowRoot||typeof Br.getShadowRoot=="function"&&Br.getShadowRoot(jr),Jr=!Br.shadowRootFilter||Br.shadowRootFilter(jr);if(Qr&&Jr){var rn=Fe(Qr===!0?jr.children:Qr.children,!0,Br);Br.flatten?Fr.push.apply(Fr,rn):Fr.push({scope:jr,candidates:rn})}else zr.unshift.apply(zr,jr.children)}}return Fr},getTabindex=function(_r,$r){return _r.tabIndex<0&&($r||/^(AUDIO|VIDEO|DETAILS)$/.test(_r.tagName)||_r.isContentEditable)&&isNaN(parseInt(_r.getAttribute("tabindex"),10))?0:_r.tabIndex},sortOrderedTabbables=function(_r,$r){return _r.tabIndex===$r.tabIndex?_r.documentOrder-$r.documentOrder:_r.tabIndex-$r.tabIndex},isInput=function(_r){return _r.tagName==="INPUT"},isHiddenInput=function(_r){return isInput(_r)&&_r.type==="hidden"},isDetailsWithSummary=function(_r){var $r=_r.tagName==="DETAILS"&&Array.prototype.slice.apply(_r.children).some(function(Br){return Br.tagName==="SUMMARY"});return $r},getCheckedRadio=function(_r,$r){for(var Br=0;Br<_r.length;Br++)if(_r[Br].checked&&_r[Br].form===$r)return _r[Br]},isTabbableRadio=function(_r){if(!_r.name)return!0;var $r=_r.form||getRootNode(_r),Br=function(Ur){return $r.querySelectorAll('input[type="radio"][name="'+Ur+'"]')},Fr;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")Fr=Br(window.CSS.escape(_r.name));else try{Fr=Br(_r.name)}catch(jr){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",jr.message),!1}var zr=getCheckedRadio(Fr,_r.form);return!zr||zr===_r},isRadio=function(_r){return isInput(_r)&&_r.type==="radio"},isNonTabbableRadio=function(_r){return isRadio(_r)&&!isTabbableRadio(_r)},isZeroArea=function(_r){var $r=_r.getBoundingClientRect(),Br=$r.width,Fr=$r.height;return Br===0&&Fr===0},isHidden=function(_r,$r){var Br=$r.displayCheck,Fr=$r.getShadowRoot;if(getComputedStyle(_r).visibility==="hidden")return!0;var zr=matches.call(_r,"details>summary:first-of-type"),jr=zr?_r.parentElement:_r;if(matches.call(jr,"details:not([open]) *"))return!0;var Ur=getRootNode(_r).host,Gr=(Ur==null?void 0:Ur.ownerDocument.contains(Ur))||_r.ownerDocument.contains(_r);if(!Br||Br==="full"){if(typeof Fr=="function"){for(var Yr=_r;_r;){var Kr=_r.parentElement,Qr=getRootNode(_r);if(Kr&&!Kr.shadowRoot&&Fr(Kr)===!0)return isZeroArea(_r);_r.assignedSlot?_r=_r.assignedSlot:!Kr&&Qr!==_r.ownerDocument?_r=Qr.host:_r=Kr}_r=Yr}if(Gr)return!_r.getClientRects().length}else if(Br==="non-zero-area")return isZeroArea(_r);return!1},isDisabledFromFieldset=function(_r){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(_r.tagName))for(var $r=_r.parentElement;$r;){if($r.tagName==="FIELDSET"&&$r.disabled){for(var Br=0;Br<$r.children.length;Br++){var Fr=$r.children.item(Br);if(Fr.tagName==="LEGEND")return matches.call($r,"fieldset[disabled] *")?!0:!Fr.contains(_r)}return!0}$r=$r.parentElement}return!1},isNodeMatchingSelectorFocusable=function(_r,$r){return!($r.disabled||isHiddenInput($r)||isHidden($r,_r)||isDetailsWithSummary($r)||isDisabledFromFieldset($r))},isNodeMatchingSelectorTabbable=function(_r,$r){return!(isNonTabbableRadio($r)||getTabindex($r)<0||!isNodeMatchingSelectorFocusable(_r,$r))},isValidShadowRootTabbable=function(_r){var $r=parseInt(_r.getAttribute("tabindex"),10);return!!(isNaN($r)||$r>=0)},sortByOrder=function Fe(_r){var $r=[],Br=[];return _r.forEach(function(Fr,zr){var jr=!!Fr.scope,Ur=jr?Fr.scope:Fr,Gr=getTabindex(Ur,jr),Yr=jr?Fe(Fr.candidates):Ur;Gr===0?jr?$r.push.apply($r,Yr):$r.push(Ur):Br.push({documentOrder:zr,tabIndex:Gr,item:Fr,isScope:jr,content:Yr})}),Br.sort(sortOrderedTabbables).reduce(function(Fr,zr){return zr.isScope?Fr.push.apply(Fr,zr.content):Fr.push(zr.content),Fr},[]).concat($r)},tabbable=function(_r,$r){$r=$r||{};var Br;return $r.getShadowRoot?Br=getCandidatesIteratively([_r],$r.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,$r),flatten:!1,getShadowRoot:$r.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):Br=getCandidates(_r,$r.includeContainer,isNodeMatchingSelectorTabbable.bind(null,$r)),sortByOrder(Br)},focusable=function(_r,$r){$r=$r||{};var Br;return $r.getShadowRoot?Br=getCandidatesIteratively([_r],$r.includeContainer,{filter:isNodeMatchingSelectorFocusable.bind(null,$r),flatten:!0,getShadowRoot:$r.getShadowRoot}):Br=getCandidates(_r,$r.includeContainer,isNodeMatchingSelectorFocusable.bind(null,$r)),Br},isTabbable=function(_r,$r){if($r=$r||{},!_r)throw new Error("No node provided");return matches.call(_r,candidateSelector)===!1?!1:isNodeMatchingSelectorTabbable($r,_r)},focusableCandidateSelector=candidateSelectors.concat("iframe").join(","),isFocusable=function(_r,$r){if($r=$r||{},!_r)throw new Error("No node provided");return matches.call(_r,focusableCandidateSelector)===!1?!1:isNodeMatchingSelectorFocusable($r,_r)};function ownKeys(Fe,_r){var $r=Object.keys(Fe);if(Object.getOwnPropertySymbols){var Br=Object.getOwnPropertySymbols(Fe);_r&&(Br=Br.filter(function(Fr){return Object.getOwnPropertyDescriptor(Fe,Fr).enumerable})),$r.push.apply($r,Br)}return $r}function _objectSpread2(Fe){for(var _r=1;_r<arguments.length;_r++){var $r=arguments[_r]!=null?arguments[_r]:{};_r%2?ownKeys(Object($r),!0).forEach(function(Br){_defineProperty(Fe,Br,$r[Br])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fe,Object.getOwnPropertyDescriptors($r)):ownKeys(Object($r)).forEach(function(Br){Object.defineProperty(Fe,Br,Object.getOwnPropertyDescriptor($r,Br))})}return Fe}function _defineProperty(Fe,_r,$r){return _r in Fe?Object.defineProperty(Fe,_r,{value:$r,enumerable:!0,configurable:!0,writable:!0}):Fe[_r]=$r,Fe}var activeFocusTraps=function(){var Fe=[];return{activateTrap:function($r){if(Fe.length>0){var Br=Fe[Fe.length-1];Br!==$r&&Br.pause()}var Fr=Fe.indexOf($r);Fr===-1||Fe.splice(Fr,1),Fe.push($r)},deactivateTrap:function($r){var Br=Fe.indexOf($r);Br!==-1&&Fe.splice(Br,1),Fe.length>0&&Fe[Fe.length-1].unpause()}}}(),isSelectableInput=function(_r){return _r.tagName&&_r.tagName.toLowerCase()==="input"&&typeof _r.select=="function"},isEscapeEvent=function(_r){return _r.key==="Escape"||_r.key==="Esc"||_r.keyCode===27},isTabEvent=function(_r){return _r.key==="Tab"||_r.keyCode===9},delay=function(_r){return setTimeout(_r,0)},findIndex=function(_r,$r){var Br=-1;return _r.every(function(Fr,zr){return $r(Fr)?(Br=zr,!1):!0}),Br},valueOrHandler=function(_r){for(var $r=arguments.length,Br=new Array($r>1?$r-1:0),Fr=1;Fr<$r;Fr++)Br[Fr-1]=arguments[Fr];return typeof _r=="function"?_r.apply(void 0,Br):_r},getActualTarget=function(_r){return _r.target.shadowRoot&&typeof _r.composedPath=="function"?_r.composedPath()[0]:_r.target},createFocusTrap=function(_r,$r){var Br=($r==null?void 0:$r.document)||document,Fr=_objectSpread2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},$r),zr={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},jr,Ur=function(_n,pn,Cn){return _n&&_n[pn]!==void 0?_n[pn]:Fr[Cn||pn]},Gr=function(_n){return zr.containerGroups.findIndex(function(pn){var Cn=pn.container,En=pn.tabbableNodes;return Cn.contains(_n)||En.find(function(Pn){return Pn===_n})})},Yr=function(_n){var pn=Fr[_n];if(typeof pn=="function"){for(var Cn=arguments.length,En=new Array(Cn>1?Cn-1:0),Pn=1;Pn<Cn;Pn++)En[Pn-1]=arguments[Pn];pn=pn.apply(void 0,En)}if(pn===!0&&(pn=void 0),!pn){if(pn===void 0||pn===!1)return pn;throw new Error("`".concat(_n,"` was specified but was not a node, or did not return a node"))}var On=pn;if(typeof pn=="string"&&(On=Br.querySelector(pn),!On))throw new Error("`".concat(_n,"` as selector refers to no known node"));return On},Kr=function(){var _n=Yr("initialFocus");if(_n===!1)return!1;if(_n===void 0)if(Gr(Br.activeElement)>=0)_n=Br.activeElement;else{var pn=zr.tabbableGroups[0],Cn=pn&&pn.firstTabbableNode;_n=Cn||Yr("fallbackFocus")}if(!_n)throw new Error("Your focus-trap needs to have at least one focusable element");return _n},Qr=function(){if(zr.containerGroups=zr.containers.map(function(_n){var pn=tabbable(_n,Fr.tabbableOptions),Cn=focusable(_n,Fr.tabbableOptions);return{container:_n,tabbableNodes:pn,focusableNodes:Cn,firstTabbableNode:pn.length>0?pn[0]:null,lastTabbableNode:pn.length>0?pn[pn.length-1]:null,nextTabbableNode:function(Pn){var On=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,jn=Cn.findIndex(function(Fn){return Fn===Pn});if(!(jn<0))return On?Cn.slice(jn+1).find(function(Fn){return isTabbable(Fn,Fr.tabbableOptions)}):Cn.slice(0,jn).reverse().find(function(Fn){return isTabbable(Fn,Fr.tabbableOptions)})}}}),zr.tabbableGroups=zr.containerGroups.filter(function(_n){return _n.tabbableNodes.length>0}),zr.tabbableGroups.length<=0&&!Yr("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},Jr=function Sn(_n){if(_n!==!1&&_n!==Br.activeElement){if(!_n||!_n.focus){Sn(Kr());return}_n.focus({preventScroll:!!Fr.preventScroll}),zr.mostRecentlyFocusedNode=_n,isSelectableInput(_n)&&_n.select()}},rn=function(_n){var pn=Yr("setReturnFocus",_n);return pn||(pn===!1?!1:_n)},an=function(_n){var pn=getActualTarget(_n);if(!(Gr(pn)>=0)){if(valueOrHandler(Fr.clickOutsideDeactivates,_n)){jr.deactivate({returnFocus:Fr.returnFocusOnDeactivate&&!isFocusable(pn,Fr.tabbableOptions)});return}valueOrHandler(Fr.allowOutsideClick,_n)||_n.preventDefault()}},ln=function(_n){var pn=getActualTarget(_n),Cn=Gr(pn)>=0;Cn||pn instanceof Document?Cn&&(zr.mostRecentlyFocusedNode=pn):(_n.stopImmediatePropagation(),Jr(zr.mostRecentlyFocusedNode||Kr()))},dn=function(_n){var pn=getActualTarget(_n);Qr();var Cn=null;if(zr.tabbableGroups.length>0){var En=Gr(pn),Pn=En>=0?zr.containerGroups[En]:void 0;if(En<0)_n.shiftKey?Cn=zr.tabbableGroups[zr.tabbableGroups.length-1].lastTabbableNode:Cn=zr.tabbableGroups[0].firstTabbableNode;else if(_n.shiftKey){var On=findIndex(zr.tabbableGroups,function(ni){var oi=ni.firstTabbableNode;return pn===oi});if(On<0&&(Pn.container===pn||isFocusable(pn,Fr.tabbableOptions)&&!isTabbable(pn,Fr.tabbableOptions)&&!Pn.nextTabbableNode(pn,!1))&&(On=En),On>=0){var jn=On===0?zr.tabbableGroups.length-1:On-1,Fn=zr.tabbableGroups[jn];Cn=Fn.lastTabbableNode}}else{var Wn=findIndex(zr.tabbableGroups,function(ni){var oi=ni.lastTabbableNode;return pn===oi});if(Wn<0&&(Pn.container===pn||isFocusable(pn,Fr.tabbableOptions)&&!isTabbable(pn,Fr.tabbableOptions)&&!Pn.nextTabbableNode(pn))&&(Wn=En),Wn>=0){var Hn=Wn===zr.tabbableGroups.length-1?0:Wn+1,qn=zr.tabbableGroups[Hn];Cn=qn.firstTabbableNode}}}else Cn=Yr("fallbackFocus");Cn&&(_n.preventDefault(),Jr(Cn))},hn=function(_n){if(isEscapeEvent(_n)&&valueOrHandler(Fr.escapeDeactivates,_n)!==!1){_n.preventDefault(),jr.deactivate();return}if(isTabEvent(_n)){dn(_n);return}},gn=function(_n){var pn=getActualTarget(_n);Gr(pn)>=0||valueOrHandler(Fr.clickOutsideDeactivates,_n)||valueOrHandler(Fr.allowOutsideClick,_n)||(_n.preventDefault(),_n.stopImmediatePropagation())},bn=function(){if(zr.active)return activeFocusTraps.activateTrap(jr),zr.delayInitialFocusTimer=Fr.delayInitialFocus?delay(function(){Jr(Kr())}):Jr(Kr()),Br.addEventListener("focusin",ln,!0),Br.addEventListener("mousedown",an,{capture:!0,passive:!1}),Br.addEventListener("touchstart",an,{capture:!0,passive:!1}),Br.addEventListener("click",gn,{capture:!0,passive:!1}),Br.addEventListener("keydown",hn,{capture:!0,passive:!1}),jr},kn=function(){if(zr.active)return Br.removeEventListener("focusin",ln,!0),Br.removeEventListener("mousedown",an,!0),Br.removeEventListener("touchstart",an,!0),Br.removeEventListener("click",gn,!0),Br.removeEventListener("keydown",hn,!0),jr};return jr={get active(){return zr.active},get paused(){return zr.paused},activate:function(_n){if(zr.active)return this;var pn=Ur(_n,"onActivate"),Cn=Ur(_n,"onPostActivate"),En=Ur(_n,"checkCanFocusTrap");En||Qr(),zr.active=!0,zr.paused=!1,zr.nodeFocusedBeforeActivation=Br.activeElement,pn&&pn();var Pn=function(){En&&Qr(),bn(),Cn&&Cn()};return En?(En(zr.containers.concat()).then(Pn,Pn),this):(Pn(),this)},deactivate:function(_n){if(!zr.active)return this;var pn=_objectSpread2({onDeactivate:Fr.onDeactivate,onPostDeactivate:Fr.onPostDeactivate,checkCanReturnFocus:Fr.checkCanReturnFocus},_n);clearTimeout(zr.delayInitialFocusTimer),zr.delayInitialFocusTimer=void 0,kn(),zr.active=!1,zr.paused=!1,activeFocusTraps.deactivateTrap(jr);var Cn=Ur(pn,"onDeactivate"),En=Ur(pn,"onPostDeactivate"),Pn=Ur(pn,"checkCanReturnFocus"),On=Ur(pn,"returnFocus","returnFocusOnDeactivate");Cn&&Cn();var jn=function(){delay(function(){On&&Jr(rn(zr.nodeFocusedBeforeActivation)),En&&En()})};return On&&Pn?(Pn(rn(zr.nodeFocusedBeforeActivation)).then(jn,jn),this):(jn(),this)},pause:function(){return zr.paused||!zr.active?this:(zr.paused=!0,kn(),this)},unpause:function(){return!zr.paused||!zr.active?this:(zr.paused=!1,Qr(),bn(),this)},updateContainerElements:function(_n){var pn=[].concat(_n).filter(Boolean);return zr.containers=pn.map(function(Cn){return typeof Cn=="string"?Br.querySelector(Cn):Cn}),zr.active&&Qr(),this}},jr.updateContainerElements(_r),jr};function src_default$4(Fe){let _r,$r;window.addEventListener("focusin",()=>{_r=$r,$r=document.activeElement}),Fe.magic("focus",Br=>{let Fr=Br;return{__noscroll:!1,__wrapAround:!1,within(zr){return Fr=zr,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(zr){return isFocusable(zr)},previouslyFocused(){return _r},lastFocused(){return _r},focused(){return $r},focusables(){return Array.isArray(Fr)?Fr:focusable(Fr,{displayCheck:"none"})},all(){return this.focusables()},isFirst(zr){let jr=this.all();return jr[0]&&jr[0].isSameNode(zr)},isLast(zr){let jr=this.all();return jr.length&&jr.slice(-1)[0].isSameNode(zr)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let zr=this.all(),jr=document.activeElement;if(zr.indexOf(jr)!==-1)return this.__wrapAround&&zr.indexOf(jr)===zr.length-1?zr[0]:zr[zr.indexOf(jr)+1]},getPrevious(){let zr=this.all(),jr=document.activeElement;if(zr.indexOf(jr)!==-1)return this.__wrapAround&&zr.indexOf(jr)===0?zr.slice(-1)[0]:zr[zr.indexOf(jr)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(zr){zr&&setTimeout(()=>{zr.hasAttribute("tabindex")||zr.setAttribute("tabindex","0"),zr.focus({preventScroll:this._noscroll})})}}}),Fe.directive("trap",Fe.skipDuringClone((Br,{expression:Fr,modifiers:zr},{effect:jr,evaluateLater:Ur,cleanup:Gr})=>{let Yr=Ur(Fr),Kr=!1,Qr={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>Br},Jr=Br.querySelector("[autofocus]");Jr&&(Qr.initialFocus=Jr);let rn=createFocusTrap(Br,Qr),an=()=>{},ln=()=>{};const dn=()=>{an(),an=()=>{},ln(),ln=()=>{},rn.deactivate({returnFocus:!zr.includes("noreturn")})};jr(()=>Yr(hn=>{Kr!==hn&&(hn&&!Kr&&setTimeout(()=>{zr.includes("inert")&&(an=setInert(Br)),zr.includes("noscroll")&&(ln=disableScrolling()),rn.activate()}),!hn&&Kr&&dn(),Kr=!!hn)})),Gr(dn)},(Br,{expression:Fr,modifiers:zr},{evaluate:jr})=>{zr.includes("inert")&&jr(Fr)&&setInert(Br)}))}function setInert(Fe){let _r=[];return crawlSiblingsUp(Fe,$r=>{let Br=$r.hasAttribute("aria-hidden");$r.setAttribute("aria-hidden","true"),_r.push(()=>Br||$r.removeAttribute("aria-hidden"))}),()=>{for(;_r.length;)_r.pop()()}}function crawlSiblingsUp(Fe,_r){Fe.isSameNode(document.body)||!Fe.parentNode||Array.from(Fe.parentNode.children).forEach($r=>{$r.isSameNode(Fe)?crawlSiblingsUp(Fe.parentNode,_r):_r($r)})}function disableScrolling(){let Fe=document.documentElement.style.overflow,_r=document.documentElement.style.paddingRight,$r=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${$r}px`,()=>{document.documentElement.style.overflow=Fe,document.documentElement.style.paddingRight=_r}}var module_default$4=src_default$4;/*! Bundled license information:

tabbable/dist/index.esm.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/function morph(Fe,_r,$r){monkeyPatchDomSetAttributeToAllowAtSymbols();let Br,Fr,zr,jr,Ur,Gr,Yr,Kr,Qr;function Jr(_n={}){let pn=En=>En.getAttribute("key"),Cn=()=>{};jr=_n.updating||Cn,Ur=_n.updated||Cn,Gr=_n.removing||Cn,Yr=_n.removed||Cn,Kr=_n.adding||Cn,Qr=_n.added||Cn,Fr=_n.key||pn,zr=_n.lookahead||!1}function rn(_n,pn){if(an(_n,pn))return ln(_n,pn);let Cn=!1;if(!shouldSkip(jr,_n,pn,()=>Cn=!0)){if(_n.nodeType===1&&window.Alpine&&window.Alpine.cloneNode(_n,pn),textOrComment(pn)){dn(_n,pn),Ur(_n,pn);return}Cn||hn(_n,pn),Ur(_n,pn),gn(_n,pn)}}function an(_n,pn){return _n.nodeType!=pn.nodeType||_n.nodeName!=pn.nodeName||bn(_n)!=bn(pn)}function ln(_n,pn){if(shouldSkip(Gr,_n))return;let Cn=pn.cloneNode(!0);shouldSkip(Kr,Cn)||(_n.replaceWith(Cn),Yr(_n),Qr(Cn))}function dn(_n,pn){let Cn=pn.nodeValue;_n.nodeValue!==Cn&&(_n.nodeValue=Cn)}function hn(_n,pn){if(_n._x_transitioning||_n._x_isShown&&!pn._x_isShown||!_n._x_isShown&&pn._x_isShown)return;let Cn=Array.from(_n.attributes),En=Array.from(pn.attributes);for(let Pn=Cn.length-1;Pn>=0;Pn--){let On=Cn[Pn].name;pn.hasAttribute(On)||_n.removeAttribute(On)}for(let Pn=En.length-1;Pn>=0;Pn--){let On=En[Pn].name,jn=En[Pn].value;_n.getAttribute(On)!==jn&&_n.setAttribute(On,jn)}}function gn(_n,pn){let Cn=kn(_n.children),En={},Pn=getFirstNode(pn),On=getFirstNode(_n);for(;Pn;){let Fn=bn(Pn),Wn=bn(On);if(!On)if(Fn&&En[Fn]){let oi=En[Fn];_n.appendChild(oi),On=oi}else{if(!shouldSkip(Kr,Pn)){let oi=Pn.cloneNode(!0);_n.appendChild(oi),Qr(oi)}Pn=getNextSibling(pn,Pn);continue}let Hn=oi=>oi&&oi.nodeType===8&&oi.textContent==="[if BLOCK]><![endif]",qn=oi=>oi&&oi.nodeType===8&&oi.textContent==="[if ENDBLOCK]><![endif]";if(Hn(Pn)&&Hn(On)){let oi=0,wi=On;for(;On;){let Ni=getNextSibling(_n,On);if(Hn(Ni))oi++;else if(qn(Ni)&&oi>0)oi--;else if(qn(Ni)&&oi===0){On=Ni;break}On=Ni}let Ci=On;oi=0;let Fi=Pn;for(;Pn;){let Ni=getNextSibling(pn,Pn);if(Hn(Ni))oi++;else if(qn(Ni)&&oi>0)oi--;else if(qn(Ni)&&oi===0){Pn=Ni;break}Pn=Ni}let Zn=Pn,Gn=new Block(wi,Ci),ui=new Block(Fi,Zn);gn(Gn,ui);continue}if(On.nodeType===1&&zr&&!On.isEqualNode(Pn)){let oi=getNextSibling(pn,Pn),wi=!1;for(;!wi&&oi;)oi.nodeType===1&&On.isEqualNode(oi)&&(wi=!0,On=Sn(_n,Pn,On),Wn=bn(On)),oi=getNextSibling(pn,oi)}if(Fn!==Wn){if(!Fn&&Wn){En[Wn]=On,On=Sn(_n,Pn,On),En[Wn].remove(),On=getNextSibling(_n,On),Pn=getNextSibling(pn,Pn);continue}if(Fn&&!Wn&&Cn[Fn]&&(On.replaceWith(Cn[Fn]),On=Cn[Fn]),Fn&&Wn){let oi=Cn[Fn];if(oi)En[Wn]=On,On.replaceWith(oi),On=oi;else{En[Wn]=On,On=Sn(_n,Pn,On),En[Wn].remove(),On=getNextSibling(_n,On),Pn=getNextSibling(pn,Pn);continue}}}let ni=On&&getNextSibling(_n,On);rn(On,Pn),Pn=Pn&&getNextSibling(pn,Pn),On=ni}let jn=[];for(;On;)shouldSkip(Gr,On)||jn.push(On),On=getNextSibling(_n,On);for(;jn.length;){let Fn=jn.shift();Fn.remove(),Yr(Fn)}}function bn(_n){return _n&&_n.nodeType===1&&Fr(_n)}function kn(_n){let pn={};for(let Cn of _n){let En=bn(Cn);En&&(pn[En]=Cn)}return pn}function Sn(_n,pn,Cn){if(!shouldSkip(Kr,pn)){let En=pn.cloneNode(!0);return _n.insertBefore(En,Cn),Qr(En),En}return pn}return Jr($r),Br=typeof _r=="string"?createElement$1(_r):_r,window.Alpine&&window.Alpine.closestDataStack&&!Fe._x_dataStack&&(Br._x_dataStack=window.Alpine.closestDataStack(Fe),Br._x_dataStack&&window.Alpine.cloneNode(Fe,Br)),rn(Fe,Br),Br=void 0,Fe}morph.step=()=>{};morph.log=()=>{};function shouldSkip(Fe,..._r){let $r=!1;return Fe(..._r,()=>$r=!0),$r}var patched=!1;function createElement$1(Fe){const _r=document.createElement("template");return _r.innerHTML=Fe,_r.content.firstElementChild}function textOrComment(Fe){return Fe.nodeType===3||Fe.nodeType===8}var Block=class{constructor(Fe,_r){this.startComment=Fe,this.endComment=_r}get children(){let Fe=[],_r=this.startComment.nextSibling;for(;_r&&_r!==this.endComment;)Fe.push(_r),_r=_r.nextSibling;return Fe}appendChild(Fe){this.endComment.before(Fe)}get firstChild(){let Fe=this.startComment.nextSibling;if(Fe!==this.endComment)return Fe}nextNode(Fe){let _r=Fe.nextSibling;if(_r!==this.endComment)return _r}insertBefore(Fe,_r){return _r.before(Fe),Fe}};function getFirstNode(Fe){return Fe.firstChild}function getNextSibling(Fe,_r){if(_r._x_teleport)return _r._x_teleport;let $r;return Fe instanceof Block?$r=Fe.nextNode(_r):$r=_r.nextSibling,$r}function monkeyPatchDomSetAttributeToAllowAtSymbols(){if(patched)return;patched=!0;let Fe=Element.prototype.setAttribute,_r=document.createElement("div");Element.prototype.setAttribute=function(Br,Fr){if(!Br.includes("@"))return Fe.call(this,Br,Fr);_r.innerHTML=`<span ${Br}="${Fr}"></span>`;let zr=_r.firstElementChild.getAttributeNode(Br);_r.firstElementChild.removeAttributeNode(zr),this.setAttributeNode(zr)}}function src_default$3(Fe){Fe.morph=morph}var module_default$3=src_default$3;let onCopy=()=>{};const copy$2=(Fe,_r=void 0)=>(typeof Fe=="function"&&(Fe=Fe()),typeof Fe=="object"&&(Fe=JSON.stringify(Fe)),_r!==void 0?window.navigator.clipboard.write([new ClipboardItem({[_r]:new Blob([Fe],{type:_r})})]).then(onCopy):window.navigator.clipboard.writeText(Fe).then(onCopy));function Clipboard(Fe){Fe.magic("clipboard",()=>copy$2),Fe.directive("clipboard",(_r,{modifiers:$r,expression:Br},{evaluateLater:Fr,cleanup:zr})=>{const jr=$r.includes("raw")?Gr=>Gr(Br):Fr(Br),Ur=()=>jr(copy$2);_r.addEventListener("click",Ur),zr(()=>{_r.removeEventListener("click",Ur)})})}Clipboard.configure=Fe=>(Fe.hasOwnProperty("onCopy")&&typeof Fe.onCopy=="function"&&(onCopy=Fe.onCopy),Clipboard);var __create=Object.create,__defProp=Object.defineProperty,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__markAsModule=Fe=>__defProp(Fe,"__esModule",{value:!0}),__commonJS=(Fe,_r)=>()=>(_r||(_r={exports:{}},Fe(_r.exports,_r)),_r.exports),__exportStar=(Fe,_r,$r)=>{if(_r&&typeof _r=="object"||typeof _r=="function")for(let Br of __getOwnPropNames(_r))!__hasOwnProp.call(Fe,Br)&&Br!=="default"&&__defProp(Fe,Br,{get:()=>_r[Br],enumerable:!($r=__getOwnPropDesc(_r,Br))||$r.enumerable});return Fe},__toModule=Fe=>__exportStar(__markAsModule(__defProp(Fe!=null?__create(__getProtoOf(Fe)):{},"default",Fe&&Fe.__esModule&&"default"in Fe?{get:()=>Fe.default,enumerable:!0}:{value:Fe,enumerable:!0})),Fe),require_popper=__commonJS(Fe=>{Object.defineProperty(Fe,"__esModule",{value:!0});function _r(gi){var li=gi.getBoundingClientRect();return{width:li.width,height:li.height,top:li.top,right:li.right,bottom:li.bottom,left:li.left,x:li.left,y:li.top}}function $r(gi){if(gi==null)return window;if(gi.toString()!=="[object Window]"){var li=gi.ownerDocument;return li&&li.defaultView||window}return gi}function Br(gi){var li=$r(gi),Mi=li.pageXOffset,Ri=li.pageYOffset;return{scrollLeft:Mi,scrollTop:Ri}}function Fr(gi){var li=$r(gi).Element;return gi instanceof li||gi instanceof Element}function zr(gi){var li=$r(gi).HTMLElement;return gi instanceof li||gi instanceof HTMLElement}function jr(gi){if(typeof ShadowRoot>"u")return!1;var li=$r(gi).ShadowRoot;return gi instanceof li||gi instanceof ShadowRoot}function Ur(gi){return{scrollLeft:gi.scrollLeft,scrollTop:gi.scrollTop}}function Gr(gi){return gi===$r(gi)||!zr(gi)?Br(gi):Ur(gi)}function Yr(gi){return gi?(gi.nodeName||"").toLowerCase():null}function Kr(gi){return((Fr(gi)?gi.ownerDocument:gi.document)||window.document).documentElement}function Qr(gi){return _r(Kr(gi)).left+Br(gi).scrollLeft}function Jr(gi){return $r(gi).getComputedStyle(gi)}function rn(gi){var li=Jr(gi),Mi=li.overflow,Ri=li.overflowX,no=li.overflowY;return/auto|scroll|overlay|hidden/.test(Mi+no+Ri)}function an(gi,li,Mi){Mi===void 0&&(Mi=!1);var Ri=Kr(li),no=_r(gi),_o=zr(li),Mo={scrollLeft:0,scrollTop:0},vo={x:0,y:0};return(_o||!_o&&!Mi)&&((Yr(li)!=="body"||rn(Ri))&&(Mo=Gr(li)),zr(li)?(vo=_r(li),vo.x+=li.clientLeft,vo.y+=li.clientTop):Ri&&(vo.x=Qr(Ri))),{x:no.left+Mo.scrollLeft-vo.x,y:no.top+Mo.scrollTop-vo.y,width:no.width,height:no.height}}function ln(gi){var li=_r(gi),Mi=gi.offsetWidth,Ri=gi.offsetHeight;return Math.abs(li.width-Mi)<=1&&(Mi=li.width),Math.abs(li.height-Ri)<=1&&(Ri=li.height),{x:gi.offsetLeft,y:gi.offsetTop,width:Mi,height:Ri}}function dn(gi){return Yr(gi)==="html"?gi:gi.assignedSlot||gi.parentNode||(jr(gi)?gi.host:null)||Kr(gi)}function hn(gi){return["html","body","#document"].indexOf(Yr(gi))>=0?gi.ownerDocument.body:zr(gi)&&rn(gi)?gi:hn(dn(gi))}function gn(gi,li){var Mi;li===void 0&&(li=[]);var Ri=hn(gi),no=Ri===((Mi=gi.ownerDocument)==null?void 0:Mi.body),_o=$r(Ri),Mo=no?[_o].concat(_o.visualViewport||[],rn(Ri)?Ri:[]):Ri,vo=li.concat(Mo);return no?vo:vo.concat(gn(dn(Mo)))}function bn(gi){return["table","td","th"].indexOf(Yr(gi))>=0}function kn(gi){return!zr(gi)||Jr(gi).position==="fixed"?null:gi.offsetParent}function Sn(gi){var li=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,Mi=navigator.userAgent.indexOf("Trident")!==-1;if(Mi&&zr(gi)){var Ri=Jr(gi);if(Ri.position==="fixed")return null}for(var no=dn(gi);zr(no)&&["html","body"].indexOf(Yr(no))<0;){var _o=Jr(no);if(_o.transform!=="none"||_o.perspective!=="none"||_o.contain==="paint"||["transform","perspective"].indexOf(_o.willChange)!==-1||li&&_o.willChange==="filter"||li&&_o.filter&&_o.filter!=="none")return no;no=no.parentNode}return null}function _n(gi){for(var li=$r(gi),Mi=kn(gi);Mi&&bn(Mi)&&Jr(Mi).position==="static";)Mi=kn(Mi);return Mi&&(Yr(Mi)==="html"||Yr(Mi)==="body"&&Jr(Mi).position==="static")?li:Mi||Sn(gi)||li}var pn="top",Cn="bottom",En="right",Pn="left",On="auto",jn=[pn,Cn,En,Pn],Fn="start",Wn="end",Hn="clippingParents",qn="viewport",ni="popper",oi="reference",wi=jn.reduce(function(gi,li){return gi.concat([li+"-"+Fn,li+"-"+Wn])},[]),Ci=[].concat(jn,[On]).reduce(function(gi,li){return gi.concat([li,li+"-"+Fn,li+"-"+Wn])},[]),Fi="beforeRead",Zn="read",Gn="afterRead",ui="beforeMain",Ni="main",$i="afterMain",Vi="beforeWrite",ji="write",lo="afterWrite",ho=[Fi,Zn,Gn,ui,Ni,$i,Vi,ji,lo];function so(gi){var li=new Map,Mi=new Set,Ri=[];gi.forEach(function(_o){li.set(_o.name,_o)});function no(_o){Mi.add(_o.name);var Mo=[].concat(_o.requires||[],_o.requiresIfExists||[]);Mo.forEach(function(vo){if(!Mi.has(vo)){var jo=li.get(vo);jo&&no(jo)}}),Ri.push(_o)}return gi.forEach(function(_o){Mi.has(_o.name)||no(_o)}),Ri}function Ki(gi){var li=so(gi);return ho.reduce(function(Mi,Ri){return Mi.concat(li.filter(function(no){return no.phase===Ri}))},[])}function Ho(gi){var li;return function(){return li||(li=new Promise(function(Mi){Promise.resolve().then(function(){li=void 0,Mi(gi())})})),li}}function Io(gi){for(var li=arguments.length,Mi=new Array(li>1?li-1:0),Ri=1;Ri<li;Ri++)Mi[Ri-1]=arguments[Ri];return[].concat(Mi).reduce(function(no,_o){return no.replace(/%s/,_o)},gi)}var Ji='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Yo='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',qo=["name","enabled","phase","fn","effect","requires","options"];function xo(gi){gi.forEach(function(li){Object.keys(li).forEach(function(Mi){switch(Mi){case"name":typeof li.name!="string"&&console.error(Io(Ji,String(li.name),'"name"','"string"','"'+String(li.name)+'"'));break;case"enabled":typeof li.enabled!="boolean"&&console.error(Io(Ji,li.name,'"enabled"','"boolean"','"'+String(li.enabled)+'"'));case"phase":ho.indexOf(li.phase)<0&&console.error(Io(Ji,li.name,'"phase"',"either "+ho.join(", "),'"'+String(li.phase)+'"'));break;case"fn":typeof li.fn!="function"&&console.error(Io(Ji,li.name,'"fn"','"function"','"'+String(li.fn)+'"'));break;case"effect":typeof li.effect!="function"&&console.error(Io(Ji,li.name,'"effect"','"function"','"'+String(li.fn)+'"'));break;case"requires":Array.isArray(li.requires)||console.error(Io(Ji,li.name,'"requires"','"array"','"'+String(li.requires)+'"'));break;case"requiresIfExists":Array.isArray(li.requiresIfExists)||console.error(Io(Ji,li.name,'"requiresIfExists"','"array"','"'+String(li.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+li.name+'" modifier, valid properties are '+qo.map(function(Ri){return'"'+Ri+'"'}).join(", ")+'; but "'+Mi+'" was provided.')}li.requires&&li.requires.forEach(function(Ri){gi.find(function(no){return no.name===Ri})==null&&console.error(Io(Yo,String(li.name),Ri,Ri))})})})}function ka(gi,li){var Mi=new Set;return gi.filter(function(Ri){var no=li(Ri);if(!Mi.has(no))return Mi.add(no),!0})}function Ua(gi){return gi.split("-")[0]}function $a(gi){var li=gi.reduce(function(Mi,Ri){var no=Mi[Ri.name];return Mi[Ri.name]=no?Object.assign({},no,Ri,{options:Object.assign({},no.options,Ri.options),data:Object.assign({},no.data,Ri.data)}):Ri,Mi},{});return Object.keys(li).map(function(Mi){return li[Mi]})}function Ya(gi){var li=$r(gi),Mi=Kr(gi),Ri=li.visualViewport,no=Mi.clientWidth,_o=Mi.clientHeight,Mo=0,vo=0;return Ri&&(no=Ri.width,_o=Ri.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Mo=Ri.offsetLeft,vo=Ri.offsetTop)),{width:no,height:_o,x:Mo+Qr(gi),y:vo}}var Aa=Math.max,Ei=Math.min,hi=Math.round;function Ai(gi){var li,Mi=Kr(gi),Ri=Br(gi),no=(li=gi.ownerDocument)==null?void 0:li.body,_o=Aa(Mi.scrollWidth,Mi.clientWidth,no?no.scrollWidth:0,no?no.clientWidth:0),Mo=Aa(Mi.scrollHeight,Mi.clientHeight,no?no.scrollHeight:0,no?no.clientHeight:0),vo=-Ri.scrollLeft+Qr(gi),jo=-Ri.scrollTop;return Jr(no||Mi).direction==="rtl"&&(vo+=Aa(Mi.clientWidth,no?no.clientWidth:0)-_o),{width:_o,height:Mo,x:vo,y:jo}}function ri(gi,li){var Mi=li.getRootNode&&li.getRootNode();if(gi.contains(li))return!0;if(Mi&&jr(Mi)){var Ri=li;do{if(Ri&&gi.isSameNode(Ri))return!0;Ri=Ri.parentNode||Ri.host}while(Ri)}return!1}function ai(gi){return Object.assign({},gi,{left:gi.x,top:gi.y,right:gi.x+gi.width,bottom:gi.y+gi.height})}function _i(gi){var li=_r(gi);return li.top=li.top+gi.clientTop,li.left=li.left+gi.clientLeft,li.bottom=li.top+gi.clientHeight,li.right=li.left+gi.clientWidth,li.width=gi.clientWidth,li.height=gi.clientHeight,li.x=li.left,li.y=li.top,li}function pi(gi,li){return li===qn?ai(Ya(gi)):zr(li)?_i(li):ai(Ai(Kr(gi)))}function xi(gi){var li=gn(dn(gi)),Mi=["absolute","fixed"].indexOf(Jr(gi).position)>=0,Ri=Mi&&zr(gi)?_n(gi):gi;return Fr(Ri)?li.filter(function(no){return Fr(no)&&ri(no,Ri)&&Yr(no)!=="body"}):[]}function co(gi,li,Mi){var Ri=li==="clippingParents"?xi(gi):[].concat(li),no=[].concat(Ri,[Mi]),_o=no[0],Mo=no.reduce(function(vo,jo){var Zo=pi(gi,jo);return vo.top=Aa(Zo.top,vo.top),vo.right=Ei(Zo.right,vo.right),vo.bottom=Ei(Zo.bottom,vo.bottom),vo.left=Aa(Zo.left,vo.left),vo},pi(gi,_o));return Mo.width=Mo.right-Mo.left,Mo.height=Mo.bottom-Mo.top,Mo.x=Mo.left,Mo.y=Mo.top,Mo}function go(gi){return gi.split("-")[1]}function uo(gi){return["top","bottom"].indexOf(gi)>=0?"x":"y"}function To(gi){var li=gi.reference,Mi=gi.element,Ri=gi.placement,no=Ri?Ua(Ri):null,_o=Ri?go(Ri):null,Mo=li.x+li.width/2-Mi.width/2,vo=li.y+li.height/2-Mi.height/2,jo;switch(no){case pn:jo={x:Mo,y:li.y-Mi.height};break;case Cn:jo={x:Mo,y:li.y+li.height};break;case En:jo={x:li.x+li.width,y:vo};break;case Pn:jo={x:li.x-Mi.width,y:vo};break;default:jo={x:li.x,y:li.y}}var Zo=no?uo(no):null;if(Zo!=null){var Po=Zo==="y"?"height":"width";switch(_o){case Fn:jo[Zo]=jo[Zo]-(li[Po]/2-Mi[Po]/2);break;case Wn:jo[Zo]=jo[Zo]+(li[Po]/2-Mi[Po]/2);break}}return jo}function Qo(){return{top:0,right:0,bottom:0,left:0}}function Ui(gi){return Object.assign({},Qo(),gi)}function Lo(gi,li){return li.reduce(function(Mi,Ri){return Mi[Ri]=gi,Mi},{})}function oo(gi,li){li===void 0&&(li={});var Mi=li,Ri=Mi.placement,no=Ri===void 0?gi.placement:Ri,_o=Mi.boundary,Mo=_o===void 0?Hn:_o,vo=Mi.rootBoundary,jo=vo===void 0?qn:vo,Zo=Mi.elementContext,Po=Zo===void 0?ni:Zo,xa=Mi.altBoundary,es=xa===void 0?!1:xa,Fa=Mi.padding,ga=Fa===void 0?0:Fa,Da=Ui(typeof ga!="number"?ga:Lo(ga,jn)),Ea=Po===ni?oi:ni,Cs=gi.elements.reference,Ka=gi.rects.popper,vs=gi.elements[es?Ea:Po],da=co(Fr(vs)?vs:vs.contextElement||Kr(gi.elements.popper),Mo,jo),Pa=_r(Cs),Ta=To({reference:Pa,element:Ka,strategy:"absolute",placement:no}),_s=ai(Object.assign({},Ka,Ta)),ts=Po===ni?_s:Pa,ps={top:da.top-ts.top+Da.top,bottom:ts.bottom-da.bottom+Da.bottom,left:da.left-ts.left+Da.left,right:ts.right-da.right+Da.right},Is=gi.modifiersData.offset;if(Po===ni&&Is){var xs=Is[no];Object.keys(ps).forEach(function(Cl){var ol=[En,Cn].indexOf(Cl)>=0?1:-1,Ll=[pn,Cn].indexOf(Cl)>=0?"y":"x";ps[Cl]+=xs[Ll]*ol})}return ps}var na="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",fa="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",Ms={placement:"bottom",modifiers:[],strategy:"absolute"};function aa(){for(var gi=arguments.length,li=new Array(gi),Mi=0;Mi<gi;Mi++)li[Mi]=arguments[Mi];return!li.some(function(Ri){return!(Ri&&typeof Ri.getBoundingClientRect=="function")})}function os(gi){gi===void 0&&(gi={});var li=gi,Mi=li.defaultModifiers,Ri=Mi===void 0?[]:Mi,no=li.defaultOptions,_o=no===void 0?Ms:no;return function(vo,jo,Zo){Zo===void 0&&(Zo=_o);var Po={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ms,_o),modifiersData:{},elements:{reference:vo,popper:jo},attributes:{},styles:{}},xa=[],es=!1,Fa={state:Po,setOptions:function(Cs){Da(),Po.options=Object.assign({},_o,Po.options,Cs),Po.scrollParents={reference:Fr(vo)?gn(vo):vo.contextElement?gn(vo.contextElement):[],popper:gn(jo)};var Ka=Ki($a([].concat(Ri,Po.options.modifiers)));Po.orderedModifiers=Ka.filter(function(Is){return Is.enabled});{var vs=ka([].concat(Ka,Po.options.modifiers),function(Is){var xs=Is.name;return xs});if(xo(vs),Ua(Po.options.placement)===On){var da=Po.orderedModifiers.find(function(Is){var xs=Is.name;return xs==="flip"});da||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var Pa=Jr(jo),Ta=Pa.marginTop,_s=Pa.marginRight,ts=Pa.marginBottom,ps=Pa.marginLeft;[Ta,_s,ts,ps].some(function(Is){return parseFloat(Is)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return ga(),Fa.update()},forceUpdate:function(){if(!es){var Cs=Po.elements,Ka=Cs.reference,vs=Cs.popper;if(!aa(Ka,vs)){console.error(na);return}Po.rects={reference:an(Ka,_n(vs),Po.options.strategy==="fixed"),popper:ln(vs)},Po.reset=!1,Po.placement=Po.options.placement,Po.orderedModifiers.forEach(function(xs){return Po.modifiersData[xs.name]=Object.assign({},xs.data)});for(var da=0,Pa=0;Pa<Po.orderedModifiers.length;Pa++){if(da+=1,da>100){console.error(fa);break}if(Po.reset===!0){Po.reset=!1,Pa=-1;continue}var Ta=Po.orderedModifiers[Pa],_s=Ta.fn,ts=Ta.options,ps=ts===void 0?{}:ts,Is=Ta.name;typeof _s=="function"&&(Po=_s({state:Po,options:ps,name:Is,instance:Fa})||Po)}}},update:Ho(function(){return new Promise(function(Ea){Fa.forceUpdate(),Ea(Po)})}),destroy:function(){Da(),es=!0}};if(!aa(vo,jo))return console.error(na),Fa;Fa.setOptions(Zo).then(function(Ea){!es&&Zo.onFirstUpdate&&Zo.onFirstUpdate(Ea)});function ga(){Po.orderedModifiers.forEach(function(Ea){var Cs=Ea.name,Ka=Ea.options,vs=Ka===void 0?{}:Ka,da=Ea.effect;if(typeof da=="function"){var Pa=da({state:Po,name:Cs,instance:Fa,options:vs}),Ta=function(){};xa.push(Pa||Ta)}})}function Da(){xa.forEach(function(Ea){return Ea()}),xa=[]}return Fa}}var Na={passive:!0};function As(gi){var li=gi.state,Mi=gi.instance,Ri=gi.options,no=Ri.scroll,_o=no===void 0?!0:no,Mo=Ri.resize,vo=Mo===void 0?!0:Mo,jo=$r(li.elements.popper),Zo=[].concat(li.scrollParents.reference,li.scrollParents.popper);return _o&&Zo.forEach(function(Po){Po.addEventListener("scroll",Mi.update,Na)}),vo&&jo.addEventListener("resize",Mi.update,Na),function(){_o&&Zo.forEach(function(Po){Po.removeEventListener("scroll",Mi.update,Na)}),vo&&jo.removeEventListener("resize",Mi.update,Na)}}var Zs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:As,data:{}};function gl(gi){var li=gi.state,Mi=gi.name;li.modifiersData[Mi]=To({reference:li.rects.reference,element:li.rects.popper,strategy:"absolute",placement:li.placement})}var us={name:"popperOffsets",enabled:!0,phase:"read",fn:gl,data:{}},jl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ml(gi){var li=gi.x,Mi=gi.y,Ri=window,no=Ri.devicePixelRatio||1;return{x:hi(hi(li*no)/no)||0,y:hi(hi(Mi*no)/no)||0}}function hs(gi){var li,Mi=gi.popper,Ri=gi.popperRect,no=gi.placement,_o=gi.offsets,Mo=gi.position,vo=gi.gpuAcceleration,jo=gi.adaptive,Zo=gi.roundOffsets,Po=Zo===!0?ml(_o):typeof Zo=="function"?Zo(_o):_o,xa=Po.x,es=xa===void 0?0:xa,Fa=Po.y,ga=Fa===void 0?0:Fa,Da=_o.hasOwnProperty("x"),Ea=_o.hasOwnProperty("y"),Cs=Pn,Ka=pn,vs=window;if(jo){var da=_n(Mi),Pa="clientHeight",Ta="clientWidth";da===$r(Mi)&&(da=Kr(Mi),Jr(da).position!=="static"&&(Pa="scrollHeight",Ta="scrollWidth")),da=da,no===pn&&(Ka=Cn,ga-=da[Pa]-Ri.height,ga*=vo?1:-1),no===Pn&&(Cs=En,es-=da[Ta]-Ri.width,es*=vo?1:-1)}var _s=Object.assign({position:Mo},jo&&jl);if(vo){var ts;return Object.assign({},_s,(ts={},ts[Ka]=Ea?"0":"",ts[Cs]=Da?"0":"",ts.transform=(vs.devicePixelRatio||1)<2?"translate("+es+"px, "+ga+"px)":"translate3d("+es+"px, "+ga+"px, 0)",ts))}return Object.assign({},_s,(li={},li[Ka]=Ea?ga+"px":"",li[Cs]=Da?es+"px":"",li.transform="",li))}function Ti(gi){var li=gi.state,Mi=gi.options,Ri=Mi.gpuAcceleration,no=Ri===void 0?!0:Ri,_o=Mi.adaptive,Mo=_o===void 0?!0:_o,vo=Mi.roundOffsets,jo=vo===void 0?!0:vo;{var Zo=Jr(li.elements.popper).transitionProperty||"";Mo&&["transform","top","right","bottom","left"].some(function(xa){return Zo.indexOf(xa)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var Po={placement:Ua(li.placement),popper:li.elements.popper,popperRect:li.rects.popper,gpuAcceleration:no};li.modifiersData.popperOffsets!=null&&(li.styles.popper=Object.assign({},li.styles.popper,hs(Object.assign({},Po,{offsets:li.modifiersData.popperOffsets,position:li.options.strategy,adaptive:Mo,roundOffsets:jo})))),li.modifiersData.arrow!=null&&(li.styles.arrow=Object.assign({},li.styles.arrow,hs(Object.assign({},Po,{offsets:li.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:jo})))),li.attributes.popper=Object.assign({},li.attributes.popper,{"data-popper-placement":li.placement})}var Pi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ti,data:{}};function Zi(gi){var li=gi.state;Object.keys(li.elements).forEach(function(Mi){var Ri=li.styles[Mi]||{},no=li.attributes[Mi]||{},_o=li.elements[Mi];!zr(_o)||!Yr(_o)||(Object.assign(_o.style,Ri),Object.keys(no).forEach(function(Mo){var vo=no[Mo];vo===!1?_o.removeAttribute(Mo):_o.setAttribute(Mo,vo===!0?"":vo)}))})}function bo(gi){var li=gi.state,Mi={popper:{position:li.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(li.elements.popper.style,Mi.popper),li.styles=Mi,li.elements.arrow&&Object.assign(li.elements.arrow.style,Mi.arrow),function(){Object.keys(li.elements).forEach(function(Ri){var no=li.elements[Ri],_o=li.attributes[Ri]||{},Mo=Object.keys(li.styles.hasOwnProperty(Ri)?li.styles[Ri]:Mi[Ri]),vo=Mo.reduce(function(jo,Zo){return jo[Zo]="",jo},{});!zr(no)||!Yr(no)||(Object.assign(no.style,vo),Object.keys(_o).forEach(function(jo){no.removeAttribute(jo)}))})}}var Uo={name:"applyStyles",enabled:!0,phase:"write",fn:Zi,effect:bo,requires:["computeStyles"]};function Do(gi,li,Mi){var Ri=Ua(gi),no=[Pn,pn].indexOf(Ri)>=0?-1:1,_o=typeof Mi=="function"?Mi(Object.assign({},li,{placement:gi})):Mi,Mo=_o[0],vo=_o[1];return Mo=Mo||0,vo=(vo||0)*no,[Pn,En].indexOf(Ri)>=0?{x:vo,y:Mo}:{x:Mo,y:vo}}function ko(gi){var li=gi.state,Mi=gi.options,Ri=gi.name,no=Mi.offset,_o=no===void 0?[0,0]:no,Mo=Ci.reduce(function(Po,xa){return Po[xa]=Do(xa,li.rects,_o),Po},{}),vo=Mo[li.placement],jo=vo.x,Zo=vo.y;li.modifiersData.popperOffsets!=null&&(li.modifiersData.popperOffsets.x+=jo,li.modifiersData.popperOffsets.y+=Zo),li.modifiersData[Ri]=Mo}var La={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ko},sa={left:"right",right:"left",bottom:"top",top:"bottom"};function Ro(gi){return gi.replace(/left|right|bottom|top/g,function(li){return sa[li]})}var ya={start:"end",end:"start"};function Ha(gi){return gi.replace(/start|end/g,function(li){return ya[li]})}function ss(gi,li){li===void 0&&(li={});var Mi=li,Ri=Mi.placement,no=Mi.boundary,_o=Mi.rootBoundary,Mo=Mi.padding,vo=Mi.flipVariations,jo=Mi.allowedAutoPlacements,Zo=jo===void 0?Ci:jo,Po=go(Ri),xa=Po?vo?wi:wi.filter(function(ga){return go(ga)===Po}):jn,es=xa.filter(function(ga){return Zo.indexOf(ga)>=0});es.length===0&&(es=xa,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var Fa=es.reduce(function(ga,Da){return ga[Da]=oo(gi,{placement:Da,boundary:no,rootBoundary:_o,padding:Mo})[Ua(Da)],ga},{});return Object.keys(Fa).sort(function(ga,Da){return Fa[ga]-Fa[Da]})}function Ba(gi){if(Ua(gi)===On)return[];var li=Ro(gi);return[Ha(gi),li,Ha(li)]}function qa(gi){var li=gi.state,Mi=gi.options,Ri=gi.name;if(!li.modifiersData[Ri]._skip){for(var no=Mi.mainAxis,_o=no===void 0?!0:no,Mo=Mi.altAxis,vo=Mo===void 0?!0:Mo,jo=Mi.fallbackPlacements,Zo=Mi.padding,Po=Mi.boundary,xa=Mi.rootBoundary,es=Mi.altBoundary,Fa=Mi.flipVariations,ga=Fa===void 0?!0:Fa,Da=Mi.allowedAutoPlacements,Ea=li.options.placement,Cs=Ua(Ea),Ka=Cs===Ea,vs=jo||(Ka||!ga?[Ro(Ea)]:Ba(Ea)),da=[Ea].concat(vs).reduce(function(Xo,ca){return Xo.concat(Ua(ca)===On?ss(li,{placement:ca,boundary:Po,rootBoundary:xa,padding:Zo,flipVariations:ga,allowedAutoPlacements:Da}):ca)},[]),Pa=li.rects.reference,Ta=li.rects.popper,_s=new Map,ts=!0,ps=da[0],Is=0;Is<da.length;Is++){var xs=da[Is],Cl=Ua(xs),ol=go(xs)===Fn,Ll=[pn,Cn].indexOf(Cl)>=0,tc=Ll?"width":"height",rc=oo(li,{placement:xs,boundary:Po,rootBoundary:xa,altBoundary:es,padding:Zo}),Ys=Ll?ol?En:Pn:ol?Cn:pn;Pa[tc]>Ta[tc]&&(Ys=Ro(Ys));var Dc=Ro(Ys),yl=[];if(_o&&yl.push(rc[Cl]<=0),vo&&yl.push(rc[Ys]<=0,rc[Dc]<=0),yl.every(function(Xo){return Xo})){ps=xs,ts=!1;break}_s.set(xs,yl)}if(ts)for(var xl=ga?3:1,rs=function(ca){var Ma=da.find(function(Za){var zs=_s.get(Za);if(zs)return zs.slice(0,ca).every(function(el){return el})});if(Ma)return ps=Ma,"break"},Wi=xl;Wi>0;Wi--){var Vo=rs(Wi);if(Vo==="break")break}li.placement!==ps&&(li.modifiersData[Ri]._skip=!0,li.placement=ps,li.reset=!0)}}var la={name:"flip",enabled:!0,phase:"main",fn:qa,requiresIfExists:["offset"],data:{_skip:!1}};function Jo(gi){return gi==="x"?"y":"x"}function ia(gi,li,Mi){return Aa(gi,Ei(li,Mi))}function ea(gi){var li=gi.state,Mi=gi.options,Ri=gi.name,no=Mi.mainAxis,_o=no===void 0?!0:no,Mo=Mi.altAxis,vo=Mo===void 0?!1:Mo,jo=Mi.boundary,Zo=Mi.rootBoundary,Po=Mi.altBoundary,xa=Mi.padding,es=Mi.tether,Fa=es===void 0?!0:es,ga=Mi.tetherOffset,Da=ga===void 0?0:ga,Ea=oo(li,{boundary:jo,rootBoundary:Zo,padding:xa,altBoundary:Po}),Cs=Ua(li.placement),Ka=go(li.placement),vs=!Ka,da=uo(Cs),Pa=Jo(da),Ta=li.modifiersData.popperOffsets,_s=li.rects.reference,ts=li.rects.popper,ps=typeof Da=="function"?Da(Object.assign({},li.rects,{placement:li.placement})):Da,Is={x:0,y:0};if(Ta){if(_o||vo){var xs=da==="y"?pn:Pn,Cl=da==="y"?Cn:En,ol=da==="y"?"height":"width",Ll=Ta[da],tc=Ta[da]+Ea[xs],rc=Ta[da]-Ea[Cl],Ys=Fa?-ts[ol]/2:0,Dc=Ka===Fn?_s[ol]:ts[ol],yl=Ka===Fn?-ts[ol]:-_s[ol],xl=li.elements.arrow,rs=Fa&&xl?ln(xl):{width:0,height:0},Wi=li.modifiersData["arrow#persistent"]?li.modifiersData["arrow#persistent"].padding:Qo(),Vo=Wi[xs],Xo=Wi[Cl],ca=ia(0,_s[ol],rs[ol]),Ma=vs?_s[ol]/2-Ys-ca-Vo-ps:Dc-ca-Vo-ps,Za=vs?-_s[ol]/2+Ys+ca+Xo+ps:yl+ca+Xo+ps,zs=li.elements.arrow&&_n(li.elements.arrow),el=zs?da==="y"?zs.clientTop||0:zs.clientLeft||0:0,Sl=li.modifiersData.offset?li.modifiersData.offset[li.placement][da]:0,bl=Ta[da]+Ma-Sl-el,Dl=Ta[da]+Za-Sl;if(_o){var Ul=ia(Fa?Ei(tc,bl):tc,Ll,Fa?Aa(rc,Dl):rc);Ta[da]=Ul,Is[da]=Ul-Ll}if(vo){var al=da==="x"?pn:Pn,An=da==="x"?Cn:En,Tn=Ta[Pa],$n=Tn+Ea[al],zn=Tn-Ea[An],Xn=ia(Fa?Ei($n,bl):$n,Tn,Fa?Aa(zn,Dl):zn);Ta[Pa]=Xn,Is[Pa]=Xn-Tn}}li.modifiersData[Ri]=Is}}var $o={name:"preventOverflow",enabled:!0,phase:"main",fn:ea,requiresIfExists:["offset"]},bi=function(li,Mi){return li=typeof li=="function"?li(Object.assign({},Mi.rects,{placement:Mi.placement})):li,Ui(typeof li!="number"?li:Lo(li,jn))};function ms(gi){var li,Mi=gi.state,Ri=gi.name,no=gi.options,_o=Mi.elements.arrow,Mo=Mi.modifiersData.popperOffsets,vo=Ua(Mi.placement),jo=uo(vo),Zo=[Pn,En].indexOf(vo)>=0,Po=Zo?"height":"width";if(!(!_o||!Mo)){var xa=bi(no.padding,Mi),es=ln(_o),Fa=jo==="y"?pn:Pn,ga=jo==="y"?Cn:En,Da=Mi.rects.reference[Po]+Mi.rects.reference[jo]-Mo[jo]-Mi.rects.popper[Po],Ea=Mo[jo]-Mi.rects.reference[jo],Cs=_n(_o),Ka=Cs?jo==="y"?Cs.clientHeight||0:Cs.clientWidth||0:0,vs=Da/2-Ea/2,da=xa[Fa],Pa=Ka-es[Po]-xa[ga],Ta=Ka/2-es[Po]/2+vs,_s=ia(da,Ta,Pa),ts=jo;Mi.modifiersData[Ri]=(li={},li[ts]=_s,li.centerOffset=_s-Ta,li)}}function ha(gi){var li=gi.state,Mi=gi.options,Ri=Mi.element,no=Ri===void 0?"[data-popper-arrow]":Ri;if(no!=null&&!(typeof no=="string"&&(no=li.elements.popper.querySelector(no),!no))){if(zr(no)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),!ri(li.elements.popper,no)){console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}li.elements.arrow=no}}var Bs={name:"arrow",enabled:!0,phase:"main",fn:ms,effect:ha,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ca(gi,li,Mi){return Mi===void 0&&(Mi={x:0,y:0}),{top:gi.top-li.height-Mi.y,right:gi.right-li.width+Mi.x,bottom:gi.bottom-li.height+Mi.y,left:gi.left-li.width-Mi.x}}function Fs(gi){return[pn,En,Cn,Pn].some(function(li){return gi[li]>=0})}function Js(gi){var li=gi.state,Mi=gi.name,Ri=li.rects.reference,no=li.rects.popper,_o=li.modifiersData.preventOverflow,Mo=oo(li,{elementContext:"reference"}),vo=oo(li,{altBoundary:!0}),jo=Ca(Mo,Ri),Zo=Ca(vo,no,_o),Po=Fs(jo),xa=Fs(Zo);li.modifiersData[Mi]={referenceClippingOffsets:jo,popperEscapeOffsets:Zo,isReferenceHidden:Po,hasPopperEscaped:xa},li.attributes.popper=Object.assign({},li.attributes.popper,{"data-popper-reference-hidden":Po,"data-popper-escaped":xa})}var ul={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Js},ro=[Zs,us,Pi,Uo],Ko=os({defaultModifiers:ro}),fs=[Zs,us,Pi,Uo,La,la,$o,Bs,ul],vl=os({defaultModifiers:fs});Fe.applyStyles=Uo,Fe.arrow=Bs,Fe.computeStyles=Pi,Fe.createPopper=vl,Fe.createPopperLite=Ko,Fe.defaultModifiers=fs,Fe.detectOverflow=oo,Fe.eventListeners=Zs,Fe.flip=la,Fe.hide=ul,Fe.offset=La,Fe.popperGenerator=os,Fe.popperOffsets=us,Fe.preventOverflow=$o}),require_tippy_cjs=__commonJS(Fe=>{Object.defineProperty(Fe,"__esModule",{value:!0});var _r=require_popper(),$r='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',Br="tippy-box",Fr="tippy-content",zr="tippy-backdrop",jr="tippy-arrow",Ur="tippy-svg-arrow",Gr={passive:!0,capture:!0};function Yr(Ti,Pi){return{}.hasOwnProperty.call(Ti,Pi)}function Kr(Ti,Pi,Zi){if(Array.isArray(Ti)){var bo=Ti[Pi];return bo??(Array.isArray(Zi)?Zi[Pi]:Zi)}return Ti}function Qr(Ti,Pi){var Zi={}.toString.call(Ti);return Zi.indexOf("[object")===0&&Zi.indexOf(Pi+"]")>-1}function Jr(Ti,Pi){return typeof Ti=="function"?Ti.apply(void 0,Pi):Ti}function rn(Ti,Pi){if(Pi===0)return Ti;var Zi;return function(bo){clearTimeout(Zi),Zi=setTimeout(function(){Ti(bo)},Pi)}}function an(Ti,Pi){var Zi=Object.assign({},Ti);return Pi.forEach(function(bo){delete Zi[bo]}),Zi}function ln(Ti){return Ti.split(/\s+/).filter(Boolean)}function dn(Ti){return[].concat(Ti)}function hn(Ti,Pi){Ti.indexOf(Pi)===-1&&Ti.push(Pi)}function gn(Ti){return Ti.filter(function(Pi,Zi){return Ti.indexOf(Pi)===Zi})}function bn(Ti){return Ti.split("-")[0]}function kn(Ti){return[].slice.call(Ti)}function Sn(Ti){return Object.keys(Ti).reduce(function(Pi,Zi){return Ti[Zi]!==void 0&&(Pi[Zi]=Ti[Zi]),Pi},{})}function _n(){return document.createElement("div")}function pn(Ti){return["Element","Fragment"].some(function(Pi){return Qr(Ti,Pi)})}function Cn(Ti){return Qr(Ti,"NodeList")}function En(Ti){return Qr(Ti,"MouseEvent")}function Pn(Ti){return!!(Ti&&Ti._tippy&&Ti._tippy.reference===Ti)}function On(Ti){return pn(Ti)?[Ti]:Cn(Ti)?kn(Ti):Array.isArray(Ti)?Ti:kn(document.querySelectorAll(Ti))}function jn(Ti,Pi){Ti.forEach(function(Zi){Zi&&(Zi.style.transitionDuration=Pi+"ms")})}function Fn(Ti,Pi){Ti.forEach(function(Zi){Zi&&Zi.setAttribute("data-state",Pi)})}function Wn(Ti){var Pi,Zi=dn(Ti),bo=Zi[0];return!(bo==null||(Pi=bo.ownerDocument)==null)&&Pi.body?bo.ownerDocument:document}function Hn(Ti,Pi){var Zi=Pi.clientX,bo=Pi.clientY;return Ti.every(function(Uo){var Do=Uo.popperRect,ko=Uo.popperState,La=Uo.props,sa=La.interactiveBorder,Ro=bn(ko.placement),ya=ko.modifiersData.offset;if(!ya)return!0;var Ha=Ro==="bottom"?ya.top.y:0,ss=Ro==="top"?ya.bottom.y:0,Ba=Ro==="right"?ya.left.x:0,qa=Ro==="left"?ya.right.x:0,la=Do.top-bo+Ha>sa,Jo=bo-Do.bottom-ss>sa,ia=Do.left-Zi+Ba>sa,ea=Zi-Do.right-qa>sa;return la||Jo||ia||ea})}function qn(Ti,Pi,Zi){var bo=Pi+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(Uo){Ti[bo](Uo,Zi)})}var ni={isTouch:!1},oi=0;function wi(){ni.isTouch||(ni.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ci))}function Ci(){var Ti=performance.now();Ti-oi<20&&(ni.isTouch=!1,document.removeEventListener("mousemove",Ci)),oi=Ti}function Fi(){var Ti=document.activeElement;if(Pn(Ti)){var Pi=Ti._tippy;Ti.blur&&!Pi.state.isVisible&&Ti.blur()}}function Zn(){document.addEventListener("touchstart",wi,Gr),window.addEventListener("blur",Fi)}var Gn=typeof window<"u"&&typeof document<"u",ui=Gn?navigator.userAgent:"",Ni=/MSIE |Trident\//.test(ui);function $i(Ti){var Pi=Ti==="destroy"?"n already-":" ";return[Ti+"() was called on a"+Pi+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Vi(Ti){var Pi=/[ \t]{2,}/g,Zi=/^[ \t]*/gm;return Ti.replace(Pi," ").replace(Zi,"").trim()}function ji(Ti){return Vi(`
  %ctippy.js

  %c`+Vi(Ti)+`

  %cð·â This is a development-only message. It will be removed in production.
  `)}function lo(Ti){return[ji(Ti),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var ho;so();function so(){ho=new Set}function Ki(Ti,Pi){if(Ti&&!ho.has(Pi)){var Zi;ho.add(Pi),(Zi=console).warn.apply(Zi,lo(Pi))}}function Ho(Ti,Pi){if(Ti&&!ho.has(Pi)){var Zi;ho.add(Pi),(Zi=console).error.apply(Zi,lo(Pi))}}function Io(Ti){var Pi=!Ti,Zi=Object.prototype.toString.call(Ti)==="[object Object]"&&!Ti.addEventListener;Ho(Pi,["tippy() was passed","`"+String(Ti)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Ho(Zi,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var Ji={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Yo={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},qo=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ji,{},Yo),xo=Object.keys(qo),ka=function(Pi){Aa(Pi,[]);var Zi=Object.keys(Pi);Zi.forEach(function(bo){qo[bo]=Pi[bo]})};function Ua(Ti){var Pi=Ti.plugins||[],Zi=Pi.reduce(function(bo,Uo){var Do=Uo.name,ko=Uo.defaultValue;return Do&&(bo[Do]=Ti[Do]!==void 0?Ti[Do]:ko),bo},{});return Object.assign({},Ti,{},Zi)}function $a(Ti,Pi){var Zi=Pi?Object.keys(Ua(Object.assign({},qo,{plugins:Pi}))):xo,bo=Zi.reduce(function(Uo,Do){var ko=(Ti.getAttribute("data-tippy-"+Do)||"").trim();if(!ko)return Uo;if(Do==="content")Uo[Do]=ko;else try{Uo[Do]=JSON.parse(ko)}catch{Uo[Do]=ko}return Uo},{});return bo}function Ya(Ti,Pi){var Zi=Object.assign({},Pi,{content:Jr(Pi.content,[Ti])},Pi.ignoreAttributes?{}:$a(Ti,Pi.plugins));return Zi.aria=Object.assign({},qo.aria,{},Zi.aria),Zi.aria={expanded:Zi.aria.expanded==="auto"?Pi.interactive:Zi.aria.expanded,content:Zi.aria.content==="auto"?Pi.interactive?null:"describedby":Zi.aria.content},Zi}function Aa(Ti,Pi){Ti===void 0&&(Ti={}),Pi===void 0&&(Pi=[]);var Zi=Object.keys(Ti);Zi.forEach(function(bo){var Uo=an(qo,Object.keys(Ji)),Do=!Yr(Uo,bo);Do&&(Do=Pi.filter(function(ko){return ko.name===bo}).length===0),Ki(Do,["`"+bo+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Ei=function(){return"innerHTML"};function hi(Ti,Pi){Ti[Ei()]=Pi}function Ai(Ti){var Pi=_n();return Ti===!0?Pi.className=jr:(Pi.className=Ur,pn(Ti)?Pi.appendChild(Ti):hi(Pi,Ti)),Pi}function ri(Ti,Pi){pn(Pi.content)?(hi(Ti,""),Ti.appendChild(Pi.content)):typeof Pi.content!="function"&&(Pi.allowHTML?hi(Ti,Pi.content):Ti.textContent=Pi.content)}function ai(Ti){var Pi=Ti.firstElementChild,Zi=kn(Pi.children);return{box:Pi,content:Zi.find(function(bo){return bo.classList.contains(Fr)}),arrow:Zi.find(function(bo){return bo.classList.contains(jr)||bo.classList.contains(Ur)}),backdrop:Zi.find(function(bo){return bo.classList.contains(zr)})}}function _i(Ti){var Pi=_n(),Zi=_n();Zi.className=Br,Zi.setAttribute("data-state","hidden"),Zi.setAttribute("tabindex","-1");var bo=_n();bo.className=Fr,bo.setAttribute("data-state","hidden"),ri(bo,Ti.props),Pi.appendChild(Zi),Zi.appendChild(bo),Uo(Ti.props,Ti.props);function Uo(Do,ko){var La=ai(Pi),sa=La.box,Ro=La.content,ya=La.arrow;ko.theme?sa.setAttribute("data-theme",ko.theme):sa.removeAttribute("data-theme"),typeof ko.animation=="string"?sa.setAttribute("data-animation",ko.animation):sa.removeAttribute("data-animation"),ko.inertia?sa.setAttribute("data-inertia",""):sa.removeAttribute("data-inertia"),sa.style.maxWidth=typeof ko.maxWidth=="number"?ko.maxWidth+"px":ko.maxWidth,ko.role?sa.setAttribute("role",ko.role):sa.removeAttribute("role"),(Do.content!==ko.content||Do.allowHTML!==ko.allowHTML)&&ri(Ro,Ti.props),ko.arrow?ya?Do.arrow!==ko.arrow&&(sa.removeChild(ya),sa.appendChild(Ai(ko.arrow))):sa.appendChild(Ai(ko.arrow)):ya&&sa.removeChild(ya)}return{popper:Pi,onUpdate:Uo}}_i.$$tippy=!0;var pi=1,xi=[],co=[];function go(Ti,Pi){var Zi=Ya(Ti,Object.assign({},qo,{},Ua(Sn(Pi)))),bo,Uo,Do,ko=!1,La=!1,sa=!1,Ro=!1,ya,Ha,ss,Ba=[],qa=rn(Ka,Zi.interactiveDebounce),la,Jo=pi++,ia=null,ea=gn(Zi.plugins),$o={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},bi={id:Jo,reference:Ti,popper:_n(),popperInstance:ia,props:Zi,state:$o,plugins:ea,clearDelayTimeouts:Ll,setProps:tc,setContent:rc,show:Ys,hide:Dc,hideWithInteractivity:yl,enable:Cl,disable:ol,unmount:xl,destroy:rs};if(!Zi.render)return Ho(!0,"render() function has not been supplied."),bi;var ms=Zi.render(bi),ha=ms.popper,Bs=ms.onUpdate;ha.setAttribute("data-tippy-root",""),ha.id="tippy-"+bi.id,bi.popper=ha,Ti._tippy=bi,ha._tippy=bi;var Ca=ea.map(function(Wi){return Wi.fn(bi)}),Fs=Ti.hasAttribute("aria-expanded");return Da(),no(),li(),Mi("onCreate",[bi]),Zi.showOnCreate&&Is(),ha.addEventListener("mouseenter",function(){bi.props.interactive&&bi.state.isVisible&&bi.clearDelayTimeouts()}),ha.addEventListener("mouseleave",function(Wi){bi.props.interactive&&bi.props.trigger.indexOf("mouseenter")>=0&&(fs().addEventListener("mousemove",qa),qa(Wi))}),bi;function Js(){var Wi=bi.props.touch;return Array.isArray(Wi)?Wi:[Wi,0]}function ul(){return Js()[0]==="hold"}function ro(){var Wi;return!!((Wi=bi.props.render)!=null&&Wi.$$tippy)}function Ko(){return la||Ti}function fs(){var Wi=Ko().parentNode;return Wi?Wn(Wi):document}function vl(){return ai(ha)}function gi(Wi){return bi.state.isMounted&&!bi.state.isVisible||ni.isTouch||ya&&ya.type==="focus"?0:Kr(bi.props.delay,Wi?0:1,qo.delay)}function li(){ha.style.pointerEvents=bi.props.interactive&&bi.state.isVisible?"":"none",ha.style.zIndex=""+bi.props.zIndex}function Mi(Wi,Vo,Xo){if(Xo===void 0&&(Xo=!0),Ca.forEach(function(Ma){Ma[Wi]&&Ma[Wi].apply(void 0,Vo)}),Xo){var ca;(ca=bi.props)[Wi].apply(ca,Vo)}}function Ri(){var Wi=bi.props.aria;if(Wi.content){var Vo="aria-"+Wi.content,Xo=ha.id,ca=dn(bi.props.triggerTarget||Ti);ca.forEach(function(Ma){var Za=Ma.getAttribute(Vo);if(bi.state.isVisible)Ma.setAttribute(Vo,Za?Za+" "+Xo:Xo);else{var zs=Za&&Za.replace(Xo,"").trim();zs?Ma.setAttribute(Vo,zs):Ma.removeAttribute(Vo)}})}}function no(){if(!(Fs||!bi.props.aria.expanded)){var Wi=dn(bi.props.triggerTarget||Ti);Wi.forEach(function(Vo){bi.props.interactive?Vo.setAttribute("aria-expanded",bi.state.isVisible&&Vo===Ko()?"true":"false"):Vo.removeAttribute("aria-expanded")})}}function _o(){fs().removeEventListener("mousemove",qa),xi=xi.filter(function(Wi){return Wi!==qa})}function Mo(Wi){if(!(ni.isTouch&&(sa||Wi.type==="mousedown"))&&!(bi.props.interactive&&ha.contains(Wi.target))){if(Ko().contains(Wi.target)){if(ni.isTouch||bi.state.isVisible&&bi.props.trigger.indexOf("click")>=0)return}else Mi("onClickOutside",[bi,Wi]);bi.props.hideOnClick===!0&&(bi.clearDelayTimeouts(),bi.hide(),La=!0,setTimeout(function(){La=!1}),bi.state.isMounted||Po())}}function vo(){sa=!0}function jo(){sa=!1}function Zo(){var Wi=fs();Wi.addEventListener("mousedown",Mo,!0),Wi.addEventListener("touchend",Mo,Gr),Wi.addEventListener("touchstart",jo,Gr),Wi.addEventListener("touchmove",vo,Gr)}function Po(){var Wi=fs();Wi.removeEventListener("mousedown",Mo,!0),Wi.removeEventListener("touchend",Mo,Gr),Wi.removeEventListener("touchstart",jo,Gr),Wi.removeEventListener("touchmove",vo,Gr)}function xa(Wi,Vo){Fa(Wi,function(){!bi.state.isVisible&&ha.parentNode&&ha.parentNode.contains(ha)&&Vo()})}function es(Wi,Vo){Fa(Wi,Vo)}function Fa(Wi,Vo){var Xo=vl().box;function ca(Ma){Ma.target===Xo&&(qn(Xo,"remove",ca),Vo())}if(Wi===0)return Vo();qn(Xo,"remove",Ha),qn(Xo,"add",ca),Ha=ca}function ga(Wi,Vo,Xo){Xo===void 0&&(Xo=!1);var ca=dn(bi.props.triggerTarget||Ti);ca.forEach(function(Ma){Ma.addEventListener(Wi,Vo,Xo),Ba.push({node:Ma,eventType:Wi,handler:Vo,options:Xo})})}function Da(){ul()&&(ga("touchstart",Cs,{passive:!0}),ga("touchend",vs,{passive:!0})),ln(bi.props.trigger).forEach(function(Wi){if(Wi!=="manual")switch(ga(Wi,Cs),Wi){case"mouseenter":ga("mouseleave",vs);break;case"focus":ga(Ni?"focusout":"blur",da);break;case"focusin":ga("focusout",da);break}})}function Ea(){Ba.forEach(function(Wi){var Vo=Wi.node,Xo=Wi.eventType,ca=Wi.handler,Ma=Wi.options;Vo.removeEventListener(Xo,ca,Ma)}),Ba=[]}function Cs(Wi){var Vo,Xo=!1;if(!(!bi.state.isEnabled||Pa(Wi)||La)){var ca=((Vo=ya)==null?void 0:Vo.type)==="focus";ya=Wi,la=Wi.currentTarget,no(),!bi.state.isVisible&&En(Wi)&&xi.forEach(function(Ma){return Ma(Wi)}),Wi.type==="click"&&(bi.props.trigger.indexOf("mouseenter")<0||ko)&&bi.props.hideOnClick!==!1&&bi.state.isVisible?Xo=!0:Is(Wi),Wi.type==="click"&&(ko=!Xo),Xo&&!ca&&xs(Wi)}}function Ka(Wi){var Vo=Wi.target,Xo=Ko().contains(Vo)||ha.contains(Vo);if(!(Wi.type==="mousemove"&&Xo)){var ca=ps().concat(ha).map(function(Ma){var Za,zs=Ma._tippy,el=(Za=zs.popperInstance)==null?void 0:Za.state;return el?{popperRect:Ma.getBoundingClientRect(),popperState:el,props:Zi}:null}).filter(Boolean);Hn(ca,Wi)&&(_o(),xs(Wi))}}function vs(Wi){var Vo=Pa(Wi)||bi.props.trigger.indexOf("click")>=0&&ko;if(!Vo){if(bi.props.interactive){bi.hideWithInteractivity(Wi);return}xs(Wi)}}function da(Wi){bi.props.trigger.indexOf("focusin")<0&&Wi.target!==Ko()||bi.props.interactive&&Wi.relatedTarget&&ha.contains(Wi.relatedTarget)||xs(Wi)}function Pa(Wi){return ni.isTouch?ul()!==Wi.type.indexOf("touch")>=0:!1}function Ta(){_s();var Wi=bi.props,Vo=Wi.popperOptions,Xo=Wi.placement,ca=Wi.offset,Ma=Wi.getReferenceClientRect,Za=Wi.moveTransition,zs=ro()?ai(ha).arrow:null,el=Ma?{getBoundingClientRect:Ma,contextElement:Ma.contextElement||Ko()}:Ti,Sl={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ul){var al=Ul.state;if(ro()){var An=vl(),Tn=An.box;["placement","reference-hidden","escaped"].forEach(function($n){$n==="placement"?Tn.setAttribute("data-placement",al.placement):al.attributes.popper["data-popper-"+$n]?Tn.setAttribute("data-"+$n,""):Tn.removeAttribute("data-"+$n)}),al.attributes.popper={}}}},bl=[{name:"offset",options:{offset:ca}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Za}},Sl];ro()&&zs&&bl.push({name:"arrow",options:{element:zs,padding:3}}),bl.push.apply(bl,(Vo==null?void 0:Vo.modifiers)||[]),bi.popperInstance=_r.createPopper(el,ha,Object.assign({},Vo,{placement:Xo,onFirstUpdate:ss,modifiers:bl}))}function _s(){bi.popperInstance&&(bi.popperInstance.destroy(),bi.popperInstance=null)}function ts(){var Wi=bi.props.appendTo,Vo,Xo=Ko();bi.props.interactive&&Wi===qo.appendTo||Wi==="parent"?Vo=Xo.parentNode:Vo=Jr(Wi,[Xo]),Vo.contains(ha)||Vo.appendChild(ha),Ta(),Ki(bi.props.interactive&&Wi===qo.appendTo&&Xo.nextElementSibling!==ha,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function ps(){return kn(ha.querySelectorAll("[data-tippy-root]"))}function Is(Wi){bi.clearDelayTimeouts(),Wi&&Mi("onTrigger",[bi,Wi]),Zo();var Vo=gi(!0),Xo=Js(),ca=Xo[0],Ma=Xo[1];ni.isTouch&&ca==="hold"&&Ma&&(Vo=Ma),Vo?bo=setTimeout(function(){bi.show()},Vo):bi.show()}function xs(Wi){if(bi.clearDelayTimeouts(),Mi("onUntrigger",[bi,Wi]),!bi.state.isVisible){Po();return}if(!(bi.props.trigger.indexOf("mouseenter")>=0&&bi.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Wi.type)>=0&&ko)){var Vo=gi(!1);Vo?Uo=setTimeout(function(){bi.state.isVisible&&bi.hide()},Vo):Do=requestAnimationFrame(function(){bi.hide()})}}function Cl(){bi.state.isEnabled=!0}function ol(){bi.hide(),bi.state.isEnabled=!1}function Ll(){clearTimeout(bo),clearTimeout(Uo),cancelAnimationFrame(Do)}function tc(Wi){if(Ki(bi.state.isDestroyed,$i("setProps")),!bi.state.isDestroyed){Mi("onBeforeUpdate",[bi,Wi]),Ea();var Vo=bi.props,Xo=Ya(Ti,Object.assign({},bi.props,{},Wi,{ignoreAttributes:!0}));bi.props=Xo,Da(),Vo.interactiveDebounce!==Xo.interactiveDebounce&&(_o(),qa=rn(Ka,Xo.interactiveDebounce)),Vo.triggerTarget&&!Xo.triggerTarget?dn(Vo.triggerTarget).forEach(function(ca){ca.removeAttribute("aria-expanded")}):Xo.triggerTarget&&Ti.removeAttribute("aria-expanded"),no(),li(),Bs&&Bs(Vo,Xo),bi.popperInstance&&(Ta(),ps().forEach(function(ca){requestAnimationFrame(ca._tippy.popperInstance.forceUpdate)})),Mi("onAfterUpdate",[bi,Wi])}}function rc(Wi){bi.setProps({content:Wi})}function Ys(){Ki(bi.state.isDestroyed,$i("show"));var Wi=bi.state.isVisible,Vo=bi.state.isDestroyed,Xo=!bi.state.isEnabled,ca=ni.isTouch&&!bi.props.touch,Ma=Kr(bi.props.duration,0,qo.duration);if(!(Wi||Vo||Xo||ca)&&!Ko().hasAttribute("disabled")&&(Mi("onShow",[bi],!1),bi.props.onShow(bi)!==!1)){if(bi.state.isVisible=!0,ro()&&(ha.style.visibility="visible"),li(),Zo(),bi.state.isMounted||(ha.style.transition="none"),ro()){var Za=vl(),zs=Za.box,el=Za.content;jn([zs,el],0)}ss=function(){var bl;if(!(!bi.state.isVisible||Ro)){if(Ro=!0,ha.offsetHeight,ha.style.transition=bi.props.moveTransition,ro()&&bi.props.animation){var Dl=vl(),Ul=Dl.box,al=Dl.content;jn([Ul,al],Ma),Fn([Ul,al],"visible")}Ri(),no(),hn(co,bi),(bl=bi.popperInstance)==null||bl.forceUpdate(),bi.state.isMounted=!0,Mi("onMount",[bi]),bi.props.animation&&ro()&&es(Ma,function(){bi.state.isShown=!0,Mi("onShown",[bi])})}},ts()}}function Dc(){Ki(bi.state.isDestroyed,$i("hide"));var Wi=!bi.state.isVisible,Vo=bi.state.isDestroyed,Xo=!bi.state.isEnabled,ca=Kr(bi.props.duration,1,qo.duration);if(!(Wi||Vo||Xo)&&(Mi("onHide",[bi],!1),bi.props.onHide(bi)!==!1)){if(bi.state.isVisible=!1,bi.state.isShown=!1,Ro=!1,ko=!1,ro()&&(ha.style.visibility="hidden"),_o(),Po(),li(),ro()){var Ma=vl(),Za=Ma.box,zs=Ma.content;bi.props.animation&&(jn([Za,zs],ca),Fn([Za,zs],"hidden"))}Ri(),no(),bi.props.animation?ro()&&xa(ca,bi.unmount):bi.unmount()}}function yl(Wi){Ki(bi.state.isDestroyed,$i("hideWithInteractivity")),fs().addEventListener("mousemove",qa),hn(xi,qa),qa(Wi)}function xl(){Ki(bi.state.isDestroyed,$i("unmount")),bi.state.isVisible&&bi.hide(),bi.state.isMounted&&(_s(),ps().forEach(function(Wi){Wi._tippy.unmount()}),ha.parentNode&&ha.parentNode.removeChild(ha),co=co.filter(function(Wi){return Wi!==bi}),bi.state.isMounted=!1,Mi("onHidden",[bi]))}function rs(){Ki(bi.state.isDestroyed,$i("destroy")),!bi.state.isDestroyed&&(bi.clearDelayTimeouts(),bi.unmount(),Ea(),delete Ti._tippy,bi.state.isDestroyed=!0,Mi("onDestroy",[bi]))}}function uo(Ti,Pi){Pi===void 0&&(Pi={});var Zi=qo.plugins.concat(Pi.plugins||[]);Io(Ti),Aa(Pi,Zi),Zn();var bo=Object.assign({},Pi,{plugins:Zi}),Uo=On(Ti);{var Do=pn(bo.content),ko=Uo.length>1;Ki(Do&&ko,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var La=Uo.reduce(function(sa,Ro){var ya=Ro&&go(Ro,bo);return ya&&sa.push(ya),sa},[]);return pn(Ti)?La[0]:La}uo.defaultProps=qo,uo.setDefaultProps=ka,uo.currentInput=ni;var To=function(Pi){var Zi=Pi===void 0?{}:Pi,bo=Zi.exclude,Uo=Zi.duration;co.forEach(function(Do){var ko=!1;if(bo&&(ko=Pn(bo)?Do.reference===bo:Do.popper===bo.popper),!ko){var La=Do.props.duration;Do.setProps({duration:Uo}),Do.hide(),Do.state.isDestroyed||Do.setProps({duration:La})}})},Qo=Object.assign({},_r.applyStyles,{effect:function(Pi){var Zi=Pi.state,bo={popper:{position:Zi.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(Zi.elements.popper.style,bo.popper),Zi.styles=bo,Zi.elements.arrow&&Object.assign(Zi.elements.arrow.style,bo.arrow)}}),Ui=function(Pi,Zi){var bo;Zi===void 0&&(Zi={}),Ho(!Array.isArray(Pi),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(Pi)].join(" "));var Uo=Pi,Do=[],ko,La=Zi.overrides,sa=[],Ro=!1;function ya(){Do=Uo.map(function(ea){return ea.reference})}function Ha(ea){Uo.forEach(function($o){ea?$o.enable():$o.disable()})}function ss(ea){return Uo.map(function($o){var bi=$o.setProps;return $o.setProps=function(ms){bi(ms),$o.reference===ko&&ea.setProps(ms)},function(){$o.setProps=bi}})}function Ba(ea,$o){var bi=Do.indexOf($o);if($o!==ko){ko=$o;var ms=(La||[]).concat("content").reduce(function(ha,Bs){return ha[Bs]=Uo[bi].props[Bs],ha},{});ea.setProps(Object.assign({},ms,{getReferenceClientRect:typeof ms.getReferenceClientRect=="function"?ms.getReferenceClientRect:function(){return $o.getBoundingClientRect()}}))}}Ha(!1),ya();var qa={fn:function(){return{onDestroy:function(){Ha(!0)},onHidden:function(){ko=null},onClickOutside:function(bi){bi.props.showOnCreate&&!Ro&&(Ro=!0,ko=null)},onShow:function(bi){bi.props.showOnCreate&&!Ro&&(Ro=!0,Ba(bi,Do[0]))},onTrigger:function(bi,ms){Ba(bi,ms.currentTarget)}}}},la=uo(_n(),Object.assign({},an(Zi,["overrides"]),{plugins:[qa].concat(Zi.plugins||[]),triggerTarget:Do,popperOptions:Object.assign({},Zi.popperOptions,{modifiers:[].concat(((bo=Zi.popperOptions)==null?void 0:bo.modifiers)||[],[Qo])})})),Jo=la.show;la.show=function(ea){if(Jo(),!ko&&ea==null)return Ba(la,Do[0]);if(!(ko&&ea==null)){if(typeof ea=="number")return Do[ea]&&Ba(la,Do[ea]);if(Uo.includes(ea)){var $o=ea.reference;return Ba(la,$o)}if(Do.includes(ea))return Ba(la,ea)}},la.showNext=function(){var ea=Do[0];if(!ko)return la.show(0);var $o=Do.indexOf(ko);la.show(Do[$o+1]||ea)},la.showPrevious=function(){var ea=Do[Do.length-1];if(!ko)return la.show(ea);var $o=Do.indexOf(ko),bi=Do[$o-1]||ea;la.show(bi)};var ia=la.setProps;return la.setProps=function(ea){La=ea.overrides||La,ia(ea)},la.setInstances=function(ea){Ha(!0),sa.forEach(function($o){return $o()}),Uo=ea,Ha(!1),ya(),ss(la),la.setProps({triggerTarget:Do})},sa=ss(la),la},Lo={mouseover:"mouseenter",focusin:"focus",click:"click"};function oo(Ti,Pi){Ho(!(Pi&&Pi.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var Zi=[],bo=[],Uo=!1,Do=Pi.target,ko=an(Pi,["target"]),La=Object.assign({},ko,{trigger:"manual",touch:!1}),sa=Object.assign({},ko,{showOnCreate:!0}),Ro=uo(Ti,La),ya=dn(Ro);function Ha(Jo){if(!(!Jo.target||Uo)){var ia=Jo.target.closest(Do);if(ia){var ea=ia.getAttribute("data-tippy-trigger")||Pi.trigger||qo.trigger;if(!ia._tippy&&!(Jo.type==="touchstart"&&typeof sa.touch=="boolean")&&!(Jo.type!=="touchstart"&&ea.indexOf(Lo[Jo.type])<0)){var $o=uo(ia,sa);$o&&(bo=bo.concat($o))}}}}function ss(Jo,ia,ea,$o){$o===void 0&&($o=!1),Jo.addEventListener(ia,ea,$o),Zi.push({node:Jo,eventType:ia,handler:ea,options:$o})}function Ba(Jo){var ia=Jo.reference;ss(ia,"touchstart",Ha,Gr),ss(ia,"mouseover",Ha),ss(ia,"focusin",Ha),ss(ia,"click",Ha)}function qa(){Zi.forEach(function(Jo){var ia=Jo.node,ea=Jo.eventType,$o=Jo.handler,bi=Jo.options;ia.removeEventListener(ea,$o,bi)}),Zi=[]}function la(Jo){var ia=Jo.destroy,ea=Jo.enable,$o=Jo.disable;Jo.destroy=function(bi){bi===void 0&&(bi=!0),bi&&bo.forEach(function(ms){ms.destroy()}),bo=[],qa(),ia()},Jo.enable=function(){ea(),bo.forEach(function(bi){return bi.enable()}),Uo=!1},Jo.disable=function(){$o(),bo.forEach(function(bi){return bi.disable()}),Uo=!0},Ba(Jo)}return ya.forEach(la),Ro}var na={name:"animateFill",defaultValue:!1,fn:function(Pi){var Zi;if(!((Zi=Pi.props.render)!=null&&Zi.$$tippy))return Ho(Pi.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var bo=ai(Pi.popper),Uo=bo.box,Do=bo.content,ko=Pi.props.animateFill?fa():null;return{onCreate:function(){ko&&(Uo.insertBefore(ko,Uo.firstElementChild),Uo.setAttribute("data-animatefill",""),Uo.style.overflow="hidden",Pi.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(ko){var sa=Uo.style.transitionDuration,Ro=Number(sa.replace("ms",""));Do.style.transitionDelay=Math.round(Ro/10)+"ms",ko.style.transitionDuration=sa,Fn([ko],"visible")}},onShow:function(){ko&&(ko.style.transitionDuration="0ms")},onHide:function(){ko&&Fn([ko],"hidden")}}}};function fa(){var Ti=_n();return Ti.className=zr,Fn([Ti],"hidden"),Ti}var Ms={clientX:0,clientY:0},aa=[];function os(Ti){var Pi=Ti.clientX,Zi=Ti.clientY;Ms={clientX:Pi,clientY:Zi}}function Na(Ti){Ti.addEventListener("mousemove",os)}function As(Ti){Ti.removeEventListener("mousemove",os)}var Zs={name:"followCursor",defaultValue:!1,fn:function(Pi){var Zi=Pi.reference,bo=Wn(Pi.props.triggerTarget||Zi),Uo=!1,Do=!1,ko=!0,La=Pi.props;function sa(){return Pi.props.followCursor==="initial"&&Pi.state.isVisible}function Ro(){bo.addEventListener("mousemove",ss)}function ya(){bo.removeEventListener("mousemove",ss)}function Ha(){Uo=!0,Pi.setProps({getReferenceClientRect:null}),Uo=!1}function ss(la){var Jo=la.target?Zi.contains(la.target):!0,ia=Pi.props.followCursor,ea=la.clientX,$o=la.clientY,bi=Zi.getBoundingClientRect(),ms=ea-bi.left,ha=$o-bi.top;(Jo||!Pi.props.interactive)&&Pi.setProps({getReferenceClientRect:function(){var Ca=Zi.getBoundingClientRect(),Fs=ea,Js=$o;ia==="initial"&&(Fs=Ca.left+ms,Js=Ca.top+ha);var ul=ia==="horizontal"?Ca.top:Js,ro=ia==="vertical"?Ca.right:Fs,Ko=ia==="horizontal"?Ca.bottom:Js,fs=ia==="vertical"?Ca.left:Fs;return{width:ro-fs,height:Ko-ul,top:ul,right:ro,bottom:Ko,left:fs}}})}function Ba(){Pi.props.followCursor&&(aa.push({instance:Pi,doc:bo}),Na(bo))}function qa(){aa=aa.filter(function(la){return la.instance!==Pi}),aa.filter(function(la){return la.doc===bo}).length===0&&As(bo)}return{onCreate:Ba,onDestroy:qa,onBeforeUpdate:function(){La=Pi.props},onAfterUpdate:function(Jo,ia){var ea=ia.followCursor;Uo||ea!==void 0&&La.followCursor!==ea&&(qa(),ea?(Ba(),Pi.state.isMounted&&!Do&&!sa()&&Ro()):(ya(),Ha()))},onMount:function(){Pi.props.followCursor&&!Do&&(ko&&(ss(Ms),ko=!1),sa()||Ro())},onTrigger:function(Jo,ia){En(ia)&&(Ms={clientX:ia.clientX,clientY:ia.clientY}),Do=ia.type==="focus"},onHidden:function(){Pi.props.followCursor&&(Ha(),ya(),ko=!0)}}}};function gl(Ti,Pi){var Zi;return{popperOptions:Object.assign({},Ti.popperOptions,{modifiers:[].concat((((Zi=Ti.popperOptions)==null?void 0:Zi.modifiers)||[]).filter(function(bo){var Uo=bo.name;return Uo!==Pi.name}),[Pi])})}}var us={name:"inlinePositioning",defaultValue:!1,fn:function(Pi){var Zi=Pi.reference;function bo(){return!!Pi.props.inlinePositioning}var Uo,Do=-1,ko=!1,La={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(ss){var Ba=ss.state;bo()&&(Uo!==Ba.placement&&Pi.setProps({getReferenceClientRect:function(){return sa(Ba.placement)}}),Uo=Ba.placement)}};function sa(Ha){return jl(bn(Ha),Zi.getBoundingClientRect(),kn(Zi.getClientRects()),Do)}function Ro(Ha){ko=!0,Pi.setProps(Ha),ko=!1}function ya(){ko||Ro(gl(Pi.props,La))}return{onCreate:ya,onAfterUpdate:ya,onTrigger:function(ss,Ba){if(En(Ba)){var qa=kn(Pi.reference.getClientRects()),la=qa.find(function(Jo){return Jo.left-2<=Ba.clientX&&Jo.right+2>=Ba.clientX&&Jo.top-2<=Ba.clientY&&Jo.bottom+2>=Ba.clientY});Do=qa.indexOf(la)}},onUntrigger:function(){Do=-1}}}};function jl(Ti,Pi,Zi,bo){if(Zi.length<2||Ti===null)return Pi;if(Zi.length===2&&bo>=0&&Zi[0].left>Zi[1].right)return Zi[bo]||Pi;switch(Ti){case"top":case"bottom":{var Uo=Zi[0],Do=Zi[Zi.length-1],ko=Ti==="top",La=Uo.top,sa=Do.bottom,Ro=ko?Uo.left:Do.left,ya=ko?Uo.right:Do.right,Ha=ya-Ro,ss=sa-La;return{top:La,bottom:sa,left:Ro,right:ya,width:Ha,height:ss}}case"left":case"right":{var Ba=Math.min.apply(Math,Zi.map(function(ha){return ha.left})),qa=Math.max.apply(Math,Zi.map(function(ha){return ha.right})),la=Zi.filter(function(ha){return Ti==="left"?ha.left===Ba:ha.right===qa}),Jo=la[0].top,ia=la[la.length-1].bottom,ea=Ba,$o=qa,bi=$o-ea,ms=ia-Jo;return{top:Jo,bottom:ia,left:ea,right:$o,width:bi,height:ms}}default:return Pi}}var ml={name:"sticky",defaultValue:!1,fn:function(Pi){var Zi=Pi.reference,bo=Pi.popper;function Uo(){return Pi.popperInstance?Pi.popperInstance.state.elements.reference:Zi}function Do(Ro){return Pi.props.sticky===!0||Pi.props.sticky===Ro}var ko=null,La=null;function sa(){var Ro=Do("reference")?Uo().getBoundingClientRect():null,ya=Do("popper")?bo.getBoundingClientRect():null;(Ro&&hs(ko,Ro)||ya&&hs(La,ya))&&Pi.popperInstance&&Pi.popperInstance.update(),ko=Ro,La=ya,Pi.state.isMounted&&requestAnimationFrame(sa)}return{onMount:function(){Pi.props.sticky&&sa()}}}};function hs(Ti,Pi){return Ti&&Pi?Ti.top!==Pi.top||Ti.right!==Pi.right||Ti.bottom!==Pi.bottom||Ti.left!==Pi.left:!0}uo.setDefaultProps({render:_i}),Fe.animateFill=na,Fe.createSingleton=Ui,Fe.default=uo,Fe.delegate=oo,Fe.followCursor=Zs,Fe.hideAll=To,Fe.inlinePositioning=us,Fe.roundArrow=$r,Fe.sticky=ml}),import_tippy2=__toModule(require_tippy_cjs()),import_tippy=__toModule(require_tippy_cjs()),buildConfigFromModifiers=Fe=>{const _r={plugins:[]},$r=Br=>Fe[Fe.indexOf(Br)+1];if(Fe.includes("animation")&&(_r.animation=$r("animation")),Fe.includes("duration")&&(_r.duration=parseInt($r("duration"))),Fe.includes("delay")){const Br=$r("delay");_r.delay=Br.includes("-")?Br.split("-").map(Fr=>parseInt(Fr)):parseInt(Br)}if(Fe.includes("cursor")){_r.plugins.push(import_tippy.followCursor);const Br=$r("cursor");["x","initial"].includes(Br)?_r.followCursor=Br==="x"?"horizontal":"initial":_r.followCursor=!0}return Fe.includes("on")&&(_r.trigger=$r("on")),Fe.includes("arrowless")&&(_r.arrow=!1),Fe.includes("html")&&(_r.allowHTML=!0),Fe.includes("interactive")&&(_r.interactive=!0),Fe.includes("border")&&_r.interactive&&(_r.interactiveBorder=parseInt($r("border"))),Fe.includes("debounce")&&_r.interactive&&(_r.interactiveDebounce=parseInt($r("debounce"))),Fe.includes("max-width")&&(_r.maxWidth=parseInt($r("max-width"))),Fe.includes("theme")&&(_r.theme=$r("theme")),Fe.includes("placement")&&(_r.placement=$r("placement")),_r};function Tooltip(Fe){Fe.magic("tooltip",_r=>($r,Br={})=>{const Fr=(0,import_tippy2.default)(_r,{content:$r,trigger:"manual",...Br});Fr.show(),setTimeout(()=>{Fr.hide(),setTimeout(()=>Fr.destroy(),Br.duration||300)},Br.timeout||2e3)}),Fe.directive("tooltip",(_r,{modifiers:$r,expression:Br},{evaluateLater:Fr,effect:zr})=>{const jr=$r.length>0?buildConfigFromModifiers($r):{};_r.__x_tippy||(_r.__x_tippy=(0,import_tippy2.default)(_r,jr));const Ur=()=>_r.__x_tippy.enable(),Gr=()=>_r.__x_tippy.disable(),Yr=Kr=>{Kr?(Ur(),_r.__x_tippy.setContent(Kr)):Gr()};if($r.includes("raw"))Yr(Br);else{const Kr=Fr(Br);zr(()=>{Kr(Qr=>{typeof Qr=="object"?(_r.__x_tippy.setProps(Qr),Ur()):Yr(Qr)})})}})}Tooltip.defaultProps=Fe=>(import_tippy2.default.setDefaultProps(Fe),Tooltip);var src_default$2=Tooltip,module_default$2=src_default$2;function src_default$1(Fe){Fe.directive("collapse",_r),_r.inline=($r,{modifiers:Br})=>{Br.includes("min")&&($r._x_doShow=()=>{},$r._x_doHide=()=>{})};function _r($r,{modifiers:Br}){let Fr=modifierValue(Br,"duration",250)/1e3,zr=modifierValue(Br,"min",0),jr=!Br.includes("min");$r._x_isShown||($r.style.height=`${zr}px`),!$r._x_isShown&&jr&&($r.hidden=!0),$r._x_isShown||($r.style.overflow="hidden");let Ur=(Yr,Kr)=>{let Qr=Fe.setStyles(Yr,Kr);return Kr.height?()=>{}:Qr},Gr={transitionProperty:"height",transitionDuration:`${Fr}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};$r._x_transition={in(Yr=()=>{},Kr=()=>{}){jr&&($r.hidden=!1),jr&&($r.style.display=null);let Qr=$r.getBoundingClientRect().height;$r.style.height="auto";let Jr=$r.getBoundingClientRect().height;Qr===Jr&&(Qr=zr),Fe.transition($r,Fe.setStyles,{during:Gr,start:{height:Qr+"px"},end:{height:Jr+"px"}},()=>$r._x_isShown=!0,()=>{$r.getBoundingClientRect().height==Jr&&($r.style.overflow=null)})},out(Yr=()=>{},Kr=()=>{}){let Qr=$r.getBoundingClientRect().height;Fe.transition($r,Ur,{during:Gr,start:{height:Qr+"px"},end:{height:zr+"px"}},()=>$r.style.overflow="hidden",()=>{$r._x_isShown=!1,$r.style.height==`${zr}px`&&jr&&($r.style.display="none",$r.hidden=!0)})}}}}function modifierValue(Fe,_r,$r){if(Fe.indexOf(_r)===-1)return $r;const Br=Fe[Fe.indexOf(_r)+1];if(!Br)return $r;if(_r==="duration"){let Fr=Br.match(/([0-9]+)ms/);if(Fr)return Fr[1]}if(_r==="min"){let Fr=Br.match(/([0-9]+)px/);if(Fr)return Fr[1]}return Br}var module_default$1=src_default$1;function src_default(Fe){Fe.directive("mask",(_r,{value:$r,expression:Br},{effect:Fr,evaluateLater:zr})=>{let jr=()=>Br,Ur="";queueMicrotask(()=>{if(["function","dynamic"].includes($r)){let Kr=zr(Br);Fr(()=>{jr=Qr=>{let Jr;return Fe.dontAutoEvaluateFunctions(()=>{Kr(rn=>{Jr=typeof rn=="function"?rn(Qr):rn},{scope:{$input:Qr,$money:formatMoney.bind({el:_r})}})}),Jr},Gr(_r,!1)})}else Gr(_r,!1);_r._x_model&&_r._x_model.set(_r.value)}),_r.addEventListener("input",()=>Gr(_r)),_r.addEventListener("blur",()=>Gr(_r,!1));function Gr(Kr,Qr=!0){let Jr=Kr.value,rn=jr(Jr);if(!rn||rn==="false")return!1;if(Ur.length-Kr.value.length===1)return Ur=Kr.value;let an=()=>{Ur=Kr.value=Yr(Jr,rn)};Qr?restoreCursorPosition(Kr,rn,()=>{an()}):an()}function Yr(Kr,Qr){if(Kr==="")return"";let Jr=stripDown(Qr,Kr);return buildUp(Qr,Jr)}}).before("model")}function restoreCursorPosition(Fe,_r,$r){let Br=Fe.selectionStart,Fr=Fe.value;$r();let zr=Fr.slice(0,Br),jr=buildUp(_r,stripDown(_r,zr)).length;Fe.setSelectionRange(jr,jr)}function stripDown(Fe,_r){let $r=_r,Br="",Fr={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},zr="";for(let jr=0;jr<Fe.length;jr++){if(["9","a","*"].includes(Fe[jr])){zr+=Fe[jr];continue}for(let Ur=0;Ur<$r.length;Ur++)if($r[Ur]===Fe[jr]){$r=$r.slice(0,Ur)+$r.slice(Ur+1);break}}for(let jr=0;jr<zr.length;jr++){let Ur=!1;for(let Gr=0;Gr<$r.length;Gr++)if(Fr[zr[jr]].test($r[Gr])){Br+=$r[Gr],$r=$r.slice(0,Gr)+$r.slice(Gr+1),Ur=!0;break}if(!Ur)break}return Br}function buildUp(Fe,_r){let $r=Array.from(_r),Br="";for(let Fr=0;Fr<Fe.length;Fr++){if(!["9","a","*"].includes(Fe[Fr])){Br+=Fe[Fr];continue}if($r.length===0)break;Br+=$r.shift()}return Br}function formatMoney(Fe,_r=".",$r,Br=2){if(Fe==="-")return"-";if(/^\D+$/.test(Fe))return"9";$r==null&&($r=_r===","?".":",");let Fr=(Gr,Yr)=>{let Kr="",Qr=0;for(let Jr=Gr.length-1;Jr>=0;Jr--)Gr[Jr]!==Yr&&(Qr===3?(Kr=Gr[Jr]+Yr+Kr,Qr=0):Kr=Gr[Jr]+Kr,Qr++);return Kr},zr=Fe.startsWith("-")?"-":"",jr=Fe.replaceAll(new RegExp(`[^0-9\\${_r}]`,"g"),""),Ur=Array.from({length:jr.split(_r)[0].length}).fill("9").join("");return Ur=`${zr}${Fr(Ur,$r)}`,Br>0&&Fe.includes(_r)&&(Ur+=`${_r}`+"9".repeat(Br)),queueMicrotask(()=>{this.el.value.endsWith(_r)||this.el.value[this.el.selectionStart-1]===_r&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),Ur}var module_default=src_default;/*! DataTables 1.13.7
 * Â©2008-2023 SpryMedia Ltd - datatables.net/license
 */var $$2=$$3,DataTable=function(Fe,_r){if(DataTable.factory(Fe,_r))return DataTable;if(this instanceof DataTable)return $$2(Fe).DataTable(_r);_r=Fe,this.$=function(jr,Ur){return this.api(!0).$(jr,Ur)},this._=function(jr,Ur){return this.api(!0).rows(jr,Ur).data()},this.api=function(jr){return jr?new _Api(_fnSettingsFromNode(this[_ext.iApiIndex])):new _Api(this)},this.fnAddData=function(jr,Ur){var Gr=this.api(!0),Yr=Array.isArray(jr)&&(Array.isArray(jr[0])||$$2.isPlainObject(jr[0]))?Gr.rows.add(jr):Gr.row.add(jr);return(Ur===void 0||Ur)&&Gr.draw(),Yr.flatten().toArray()},this.fnAdjustColumnSizing=function(jr){var Ur=this.api(!0).columns.adjust(),Gr=Ur.settings()[0],Yr=Gr.oScroll;jr===void 0||jr?Ur.draw(!1):(Yr.sX!==""||Yr.sY!=="")&&_fnScrollDraw(Gr)},this.fnClearTable=function(jr){var Ur=this.api(!0).clear();(jr===void 0||jr)&&Ur.draw()},this.fnClose=function(jr){this.api(!0).row(jr).child.hide()},this.fnDeleteRow=function(jr,Ur,Gr){var Yr=this.api(!0),Kr=Yr.rows(jr),Qr=Kr.settings()[0],Jr=Qr.aoData[Kr[0][0]];return Kr.remove(),Ur&&Ur.call(this,Qr,Jr),(Gr===void 0||Gr)&&Yr.draw(),Jr},this.fnDestroy=function(jr){this.api(!0).destroy(jr)},this.fnDraw=function(jr){this.api(!0).draw(jr)},this.fnFilter=function(jr,Ur,Gr,Yr,Kr,Qr){var Jr=this.api(!0);Ur==null?Jr.search(jr,Gr,Yr,Qr):Jr.column(Ur).search(jr,Gr,Yr,Qr),Jr.draw()},this.fnGetData=function(jr,Ur){var Gr=this.api(!0);if(jr!==void 0){var Yr=jr.nodeName?jr.nodeName.toLowerCase():"";return Ur!==void 0||Yr=="td"||Yr=="th"?Gr.cell(jr,Ur).data():Gr.row(jr).data()||null}return Gr.data().toArray()},this.fnGetNodes=function(jr){var Ur=this.api(!0);return jr!==void 0?Ur.row(jr).node():Ur.rows().nodes().flatten().toArray()},this.fnGetPosition=function(jr){var Ur=this.api(!0),Gr=jr.nodeName.toUpperCase();if(Gr=="TR")return Ur.row(jr).index();if(Gr=="TD"||Gr=="TH"){var Yr=Ur.cell(jr).index();return[Yr.row,Yr.columnVisible,Yr.column]}return null},this.fnIsOpen=function(jr){return this.api(!0).row(jr).child.isShown()},this.fnOpen=function(jr,Ur,Gr){return this.api(!0).row(jr).child(Ur,Gr).show().child()[0]},this.fnPageChange=function(jr,Ur){var Gr=this.api(!0).page(jr);(Ur===void 0||Ur)&&Gr.draw(!1)},this.fnSetColumnVis=function(jr,Ur,Gr){var Yr=this.api(!0).column(jr).visible(Ur);(Gr===void 0||Gr)&&Yr.columns.adjust().draw()},this.fnSettings=function(){return _fnSettingsFromNode(this[_ext.iApiIndex])},this.fnSort=function(jr){this.api(!0).order(jr).draw()},this.fnSortListener=function(jr,Ur,Gr){this.api(!0).order.listener(jr,Ur,Gr)},this.fnUpdate=function(jr,Ur,Gr,Yr,Kr){var Qr=this.api(!0);return Gr==null?Qr.row(Ur).data(jr):Qr.cell(Ur,Gr).data(jr),(Kr===void 0||Kr)&&Qr.columns.adjust(),(Yr===void 0||Yr)&&Qr.draw(),0},this.fnVersionCheck=_ext.fnVersionCheck;var $r=this,Br=_r===void 0,Fr=this.length;Br&&(_r={}),this.oApi=this.internal=_ext.internal;for(var zr in DataTable.ext.internal)zr&&(this[zr]=_fnExternApiFunc(zr));return this.each(function(){var jr={},Ur=Fr>1?_fnExtend(jr,_r,!0):_r,Gr=0,Yr,Kr=this.getAttribute("id"),Qr=!1,Jr=DataTable.defaults,rn=$$2(this);if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}_fnCompatOpts(Jr),_fnCompatCols(Jr.column),_fnCamelToHungarian(Jr,Jr,!0),_fnCamelToHungarian(Jr.column,Jr.column,!0),_fnCamelToHungarian(Jr,$$2.extend(Ur,rn.data()),!0);var an=DataTable.settings;for(Gr=0,Yr=an.length;Gr<Yr;Gr++){var ln=an[Gr];if(ln.nTable==this||ln.nTHead&&ln.nTHead.parentNode==this||ln.nTFoot&&ln.nTFoot.parentNode==this){var dn=Ur.bRetrieve!==void 0?Ur.bRetrieve:Jr.bRetrieve,hn=Ur.bDestroy!==void 0?Ur.bDestroy:Jr.bDestroy;if(Br||dn)return ln.oInstance;if(hn){ln.oInstance.fnDestroy();break}else{_fnLog(ln,0,"Cannot reinitialise DataTable",3);return}}if(ln.sTableId==this.id){an.splice(Gr,1);break}}(Kr===null||Kr==="")&&(Kr="DataTables_Table_"+DataTable.ext._unique++,this.id=Kr);var gn=$$2.extend(!0,{},DataTable.models.oSettings,{sDestroyWidth:rn[0].style.width,sInstance:Kr,sTableId:Kr});gn.nTable=this,gn.oApi=$r.internal,gn.oInit=Ur,an.push(gn),gn.oInstance=$r.length===1?$r:rn.dataTable(),_fnCompatOpts(Ur),_fnLanguageCompat(Ur.oLanguage),Ur.aLengthMenu&&!Ur.iDisplayLength&&(Ur.iDisplayLength=Array.isArray(Ur.aLengthMenu[0])?Ur.aLengthMenu[0][0]:Ur.aLengthMenu[0]),Ur=_fnExtend($$2.extend(!0,{},Jr),Ur),_fnMap(gn.oFeatures,Ur,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),_fnMap(gn,Ur,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),_fnMap(gn.oScroll,Ur,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),_fnMap(gn.oLanguage,Ur,"fnInfoCallback"),_fnCallbackReg(gn,"aoDrawCallback",Ur.fnDrawCallback,"user"),_fnCallbackReg(gn,"aoServerParams",Ur.fnServerParams,"user"),_fnCallbackReg(gn,"aoStateSaveParams",Ur.fnStateSaveParams,"user"),_fnCallbackReg(gn,"aoStateLoadParams",Ur.fnStateLoadParams,"user"),_fnCallbackReg(gn,"aoStateLoaded",Ur.fnStateLoaded,"user"),_fnCallbackReg(gn,"aoRowCallback",Ur.fnRowCallback,"user"),_fnCallbackReg(gn,"aoRowCreatedCallback",Ur.fnCreatedRow,"user"),_fnCallbackReg(gn,"aoHeaderCallback",Ur.fnHeaderCallback,"user"),_fnCallbackReg(gn,"aoFooterCallback",Ur.fnFooterCallback,"user"),_fnCallbackReg(gn,"aoInitComplete",Ur.fnInitComplete,"user"),_fnCallbackReg(gn,"aoPreDrawCallback",Ur.fnPreDrawCallback,"user"),gn.rowIdFn=_fnGetObjectDataFn(Ur.rowId),_fnBrowserDetect(gn);var bn=gn.oClasses;if($$2.extend(bn,DataTable.ext.classes,Ur.oClasses),rn.addClass(bn.sTable),gn.iInitDisplayStart===void 0&&(gn.iInitDisplayStart=Ur.iDisplayStart,gn._iDisplayStart=Ur.iDisplayStart),Ur.iDeferLoading!==null){gn.bDeferLoading=!0;var kn=Array.isArray(Ur.iDeferLoading);gn._iRecordsDisplay=kn?Ur.iDeferLoading[0]:Ur.iDeferLoading,gn._iRecordsTotal=kn?Ur.iDeferLoading[1]:Ur.iDeferLoading}var Sn=gn.oLanguage;$$2.extend(!0,Sn,Ur.oLanguage),Sn.sUrl?($$2.ajax({dataType:"json",url:Sn.sUrl,success:function(Wn){_fnCamelToHungarian(Jr.oLanguage,Wn),_fnLanguageCompat(Wn),$$2.extend(!0,Sn,Wn,gn.oInit.oLanguage),_fnCallbackFire(gn,null,"i18n",[gn]),_fnInitialise(gn)},error:function(){_fnInitialise(gn)}}),Qr=!0):_fnCallbackFire(gn,null,"i18n",[gn]),Ur.asStripeClasses===null&&(gn.asStripeClasses=[bn.sStripeOdd,bn.sStripeEven]);var _n=gn.asStripeClasses,pn=rn.children("tbody").find("tr").eq(0);$$2.inArray(!0,$$2.map(_n,function(Wn,Hn){return pn.hasClass(Wn)}))!==-1&&($$2("tbody tr",this).removeClass(_n.join(" ")),gn.asDestroyStripes=_n.slice());var Cn=[],En,Pn=this.getElementsByTagName("thead");if(Pn.length!==0&&(_fnDetectHeader(gn.aoHeader,Pn[0]),Cn=_fnGetUniqueThs(gn)),Ur.aoColumns===null)for(En=[],Gr=0,Yr=Cn.length;Gr<Yr;Gr++)En.push(null);else En=Ur.aoColumns;for(Gr=0,Yr=En.length;Gr<Yr;Gr++)_fnAddColumn(gn,Cn?Cn[Gr]:null);if(_fnApplyColumnDefs(gn,Ur.aoColumnDefs,En,function(Wn,Hn){_fnColumnOptions(gn,Wn,Hn)}),pn.length){var On=function(Wn,Hn){return Wn.getAttribute("data-"+Hn)!==null?Hn:null};$$2(pn[0]).children("th, td").each(function(Wn,Hn){var qn=gn.aoColumns[Wn];if(qn||_fnLog(gn,0,"Incorrect column count",18),qn.mData===Wn){var ni=On(Hn,"sort")||On(Hn,"order"),oi=On(Hn,"filter")||On(Hn,"search");(ni!==null||oi!==null)&&(qn.mData={_:Wn+".display",sort:ni!==null?Wn+".@data-"+ni:void 0,type:ni!==null?Wn+".@data-"+ni:void 0,filter:oi!==null?Wn+".@data-"+oi:void 0},qn._isArrayHost=!0,_fnColumnOptions(gn,Wn))}})}var jn=gn.oFeatures,Fn=function(){if(Ur.aaSorting===void 0){var Wn=gn.aaSorting;for(Gr=0,Yr=Wn.length;Gr<Yr;Gr++)Wn[Gr][1]=gn.aoColumns[Gr].asSorting[0]}_fnSortingClasses(gn),jn.bSort&&_fnCallbackReg(gn,"aoDrawCallback",function(){if(gn.bSorted){var wi=_fnSortFlatten(gn),Ci={};$$2.each(wi,function(Fi,Zn){Ci[Zn.src]=Zn.dir}),_fnCallbackFire(gn,null,"order",[gn,wi,Ci]),_fnSortAria(gn)}}),_fnCallbackReg(gn,"aoDrawCallback",function(){(gn.bSorted||_fnDataSource(gn)==="ssp"||jn.bDeferRender)&&_fnSortingClasses(gn)},"sc");var Hn=rn.children("caption").each(function(){this._captionSide=$$2(this).css("caption-side")}),qn=rn.children("thead");qn.length===0&&(qn=$$2("<thead/>").appendTo(rn)),gn.nTHead=qn[0];var ni=rn.children("tbody");ni.length===0&&(ni=$$2("<tbody/>").insertAfter(qn)),gn.nTBody=ni[0];var oi=rn.children("tfoot");if(oi.length===0&&Hn.length>0&&(gn.oScroll.sX!==""||gn.oScroll.sY!=="")&&(oi=$$2("<tfoot/>").appendTo(rn)),oi.length===0||oi.children().length===0?rn.addClass(bn.sNoFooter):oi.length>0&&(gn.nTFoot=oi[0],_fnDetectHeader(gn.aoFooter,gn.nTFoot)),Ur.aaData)for(Gr=0;Gr<Ur.aaData.length;Gr++)_fnAddData(gn,Ur.aaData[Gr]);else(gn.bDeferLoading||_fnDataSource(gn)=="dom")&&_fnAddTr(gn,$$2(gn.nTBody).children("tr"));gn.aiDisplay=gn.aiDisplayMaster.slice(),gn.bInitialised=!0,Qr===!1&&_fnInitialise(gn)};_fnCallbackReg(gn,"aoDrawCallback",_fnSaveState,"state_save"),Ur.bStateSave?(jn.bStateSave=!0,_fnLoadState(gn,Ur,Fn)):Fn()}),$r=null,this},_ext,_Api,_api_register,_api_registerPlural,_re_dic={},_re_new_lines=/[\r\n\u2028]/g,_re_html=/<.*?>/g,_re_date=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,_re_escape_regex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),_re_formatted_numeric=/['\u00A0,$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,_empty=function(Fe){return!Fe||Fe===!0||Fe==="-"},_intVal=function(Fe){var _r=parseInt(Fe,10);return!isNaN(_r)&&isFinite(Fe)?_r:null},_numToDecimal=function(Fe,_r){return _re_dic[_r]||(_re_dic[_r]=new RegExp(_fnEscapeRegex(_r),"g")),typeof Fe=="string"&&_r!=="."?Fe.replace(/\./g,"").replace(_re_dic[_r],"."):Fe},_isNumber=function(Fe,_r,$r){var Br=typeof Fe,Fr=Br==="string";return Br==="number"||Br==="bigint"||_empty(Fe)?!0:(_r&&Fr&&(Fe=_numToDecimal(Fe,_r)),$r&&Fr&&(Fe=Fe.replace(_re_formatted_numeric,"")),!isNaN(parseFloat(Fe))&&isFinite(Fe))},_isHtml=function(Fe){return _empty(Fe)||typeof Fe=="string"},_htmlNumeric=function(Fe,_r,$r){if(_empty(Fe))return!0;var Br=_isHtml(Fe);return Br&&_isNumber(_stripHtml(Fe),_r,$r)?!0:null},_pluck=function(Fe,_r,$r){var Br=[],Fr=0,zr=Fe.length;if($r!==void 0)for(;Fr<zr;Fr++)Fe[Fr]&&Fe[Fr][_r]&&Br.push(Fe[Fr][_r][$r]);else for(;Fr<zr;Fr++)Fe[Fr]&&Br.push(Fe[Fr][_r]);return Br},_pluck_order=function(Fe,_r,$r,Br){var Fr=[],zr=0,jr=_r.length;if(Br!==void 0)for(;zr<jr;zr++)Fe[_r[zr]][$r]&&Fr.push(Fe[_r[zr]][$r][Br]);else for(;zr<jr;zr++)Fr.push(Fe[_r[zr]][$r]);return Fr},_range=function(Fe,_r){var $r=[],Br;_r===void 0?(_r=0,Br=Fe):(Br=_r,_r=Fe);for(var Fr=_r;Fr<Br;Fr++)$r.push(Fr);return $r},_removeEmpty=function(Fe){for(var _r=[],$r=0,Br=Fe.length;$r<Br;$r++)Fe[$r]&&_r.push(Fe[$r]);return _r},_stripHtml=function(Fe){return Fe.replace(_re_html,"").replace(/<script/i,"")},_areAllUnique=function(Fe){if(Fe.length<2)return!0;for(var _r=Fe.slice().sort(),$r=_r[0],Br=1,Fr=_r.length;Br<Fr;Br++){if(_r[Br]===$r)return!1;$r=_r[Br]}return!0},_unique=function(Fe){if(_areAllUnique(Fe))return Fe.slice();var _r=[],$r,Br,Fr=Fe.length,zr,jr=0;e:for(Br=0;Br<Fr;Br++){for($r=Fe[Br],zr=0;zr<jr;zr++)if(_r[zr]===$r)continue e;_r.push($r),jr++}return _r},_flatten=function(Fe,_r){if(Array.isArray(_r))for(var $r=0;$r<_r.length;$r++)_flatten(Fe,_r[$r]);else Fe.push(_r);return Fe},_includes=function(Fe,_r){return _r===void 0&&(_r=0),this.indexOf(Fe,_r)!==-1};Array.isArray||(Array.isArray=function(Fe){return Object.prototype.toString.call(Fe)==="[object Array]"});Array.prototype.includes||(Array.prototype.includes=_includes);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=_includes);DataTable.util={throttle:function(Fe,_r){var $r=_r!==void 0?_r:200,Br,Fr;return function(){var zr=this,jr=+new Date,Ur=arguments;Br&&jr<Br+$r?(clearTimeout(Fr),Fr=setTimeout(function(){Br=void 0,Fe.apply(zr,Ur)},$r)):(Br=jr,Fe.apply(zr,Ur))}},escapeRegex:function(Fe){return Fe.replace(_re_escape_regex,"\\$1")},set:function(Fe){if($$2.isPlainObject(Fe))return DataTable.util.set(Fe._);if(Fe===null)return function(){};if(typeof Fe=="function")return function($r,Br,Fr){Fe($r,"set",Br,Fr)};if(typeof Fe=="string"&&(Fe.indexOf(".")!==-1||Fe.indexOf("[")!==-1||Fe.indexOf("(")!==-1)){var _r=function($r,Br,Fr){for(var zr=_fnSplitObjNotation(Fr),jr,Ur=zr[zr.length-1],Gr,Yr,Kr,Qr,Jr=0,rn=zr.length-1;Jr<rn;Jr++){if(zr[Jr]==="__proto__"||zr[Jr]==="constructor")throw new Error("Cannot set prototype values");if(Gr=zr[Jr].match(__reArray),Yr=zr[Jr].match(__reFn),Gr){if(zr[Jr]=zr[Jr].replace(__reArray,""),$r[zr[Jr]]=[],jr=zr.slice(),jr.splice(0,Jr+1),Qr=jr.join("."),Array.isArray(Br))for(var an=0,ln=Br.length;an<ln;an++)Kr={},_r(Kr,Br[an],Qr),$r[zr[Jr]].push(Kr);else $r[zr[Jr]]=Br;return}else Yr&&(zr[Jr]=zr[Jr].replace(__reFn,""),$r=$r[zr[Jr]](Br));($r[zr[Jr]]===null||$r[zr[Jr]]===void 0)&&($r[zr[Jr]]={}),$r=$r[zr[Jr]]}Ur.match(__reFn)?$r=$r[Ur.replace(__reFn,"")](Br):$r[Ur.replace(__reArray,"")]=Br};return function($r,Br){return _r($r,Br,Fe)}}else return function($r,Br){$r[Fe]=Br}},get:function(Fe){if($$2.isPlainObject(Fe)){var _r={};return $$2.each(Fe,function(Br,Fr){Fr&&(_r[Br]=DataTable.util.get(Fr))}),function(Br,Fr,zr,jr){var Ur=_r[Fr]||_r._;return Ur!==void 0?Ur(Br,Fr,zr,jr):Br}}else{if(Fe===null)return function(Br){return Br};if(typeof Fe=="function")return function(Br,Fr,zr,jr){return Fe(Br,Fr,zr,jr)};if(typeof Fe=="string"&&(Fe.indexOf(".")!==-1||Fe.indexOf("[")!==-1||Fe.indexOf("(")!==-1)){var $r=function(Br,Fr,zr){var jr,Ur,Gr,Yr;if(zr!=="")for(var Kr=_fnSplitObjNotation(zr),Qr=0,Jr=Kr.length;Qr<Jr;Qr++){if(jr=Kr[Qr].match(__reArray),Ur=Kr[Qr].match(__reFn),jr){if(Kr[Qr]=Kr[Qr].replace(__reArray,""),Kr[Qr]!==""&&(Br=Br[Kr[Qr]]),Gr=[],Kr.splice(0,Qr+1),Yr=Kr.join("."),Array.isArray(Br))for(var rn=0,an=Br.length;rn<an;rn++)Gr.push($r(Br[rn],Fr,Yr));var ln=jr[0].substring(1,jr[0].length-1);Br=ln===""?Gr:Gr.join(ln);break}else if(Ur){Kr[Qr]=Kr[Qr].replace(__reFn,""),Br=Br[Kr[Qr]]();continue}if(Br===null||Br[Kr[Qr]]===null)return null;if(Br===void 0||Br[Kr[Qr]]===void 0)return;Br=Br[Kr[Qr]]}return Br};return function(Br,Fr){return $r(Br,Fr,Fe)}}else return function(Br,Fr){return Br[Fe]}}}};function _fnHungarianMap(Fe){var _r="a aa ai ao as b fn i m o s ",$r,Br,Fr={};$$2.each(Fe,function(zr,jr){$r=zr.match(/^([^A-Z]+?)([A-Z])/),$r&&_r.indexOf($r[1]+" ")!==-1&&(Br=zr.replace($r[0],$r[2].toLowerCase()),Fr[Br]=zr,$r[1]==="o"&&_fnHungarianMap(Fe[zr]))}),Fe._hungarianMap=Fr}function _fnCamelToHungarian(Fe,_r,$r){Fe._hungarianMap||_fnHungarianMap(Fe);var Br;$$2.each(_r,function(Fr,zr){Br=Fe._hungarianMap[Fr],Br!==void 0&&($r||_r[Br]===void 0)&&(Br.charAt(0)==="o"?(_r[Br]||(_r[Br]={}),$$2.extend(!0,_r[Br],_r[Fr]),_fnCamelToHungarian(Fe[Br],_r[Br],$r)):_r[Br]=_r[Fr])})}function _fnLanguageCompat(Fe){var _r=DataTable.defaults.oLanguage,$r=_r.sDecimal;if($r&&_addNumericSort($r),Fe){var Br=Fe.sZeroRecords;!Fe.sEmptyTable&&Br&&_r.sEmptyTable==="No data available in table"&&_fnMap(Fe,Fe,"sZeroRecords","sEmptyTable"),!Fe.sLoadingRecords&&Br&&_r.sLoadingRecords==="Loading..."&&_fnMap(Fe,Fe,"sZeroRecords","sLoadingRecords"),Fe.sInfoThousands&&(Fe.sThousands=Fe.sInfoThousands);var Fr=Fe.sDecimal;Fr&&$r!==Fr&&_addNumericSort(Fr)}}var _fnCompatMap=function(Fe,_r,$r){Fe[_r]!==void 0&&(Fe[$r]=Fe[_r])};function _fnCompatOpts(Fe){_fnCompatMap(Fe,"ordering","bSort"),_fnCompatMap(Fe,"orderMulti","bSortMulti"),_fnCompatMap(Fe,"orderClasses","bSortClasses"),_fnCompatMap(Fe,"orderCellsTop","bSortCellsTop"),_fnCompatMap(Fe,"order","aaSorting"),_fnCompatMap(Fe,"orderFixed","aaSortingFixed"),_fnCompatMap(Fe,"paging","bPaginate"),_fnCompatMap(Fe,"pagingType","sPaginationType"),_fnCompatMap(Fe,"pageLength","iDisplayLength"),_fnCompatMap(Fe,"searching","bFilter"),typeof Fe.sScrollX=="boolean"&&(Fe.sScrollX=Fe.sScrollX?"100%":""),typeof Fe.scrollX=="boolean"&&(Fe.scrollX=Fe.scrollX?"100%":"");var _r=Fe.aoSearchCols;if(_r)for(var $r=0,Br=_r.length;$r<Br;$r++)_r[$r]&&_fnCamelToHungarian(DataTable.models.oSearch,_r[$r])}function _fnCompatCols(Fe){_fnCompatMap(Fe,"orderable","bSortable"),_fnCompatMap(Fe,"orderData","aDataSort"),_fnCompatMap(Fe,"orderSequence","asSorting"),_fnCompatMap(Fe,"orderDataType","sortDataType");var _r=Fe.aDataSort;typeof _r=="number"&&!Array.isArray(_r)&&(Fe.aDataSort=[_r])}function _fnBrowserDetect(Fe){if(!DataTable.__browser){var _r={};DataTable.__browser=_r;var $r=$$2("<div/>").css({position:"fixed",top:0,left:$$2(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append($$2("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append($$2("<div/>").css({width:"100%",height:10}))).appendTo("body"),Br=$r.children(),Fr=Br.children();_r.barWidth=Br[0].offsetWidth-Br[0].clientWidth,_r.bScrollOversize=Fr[0].offsetWidth===100&&Br[0].clientWidth!==100,_r.bScrollbarLeft=Math.round(Fr.offset().left)!==1,_r.bBounding=!!$r[0].getBoundingClientRect().width,$r.remove()}$$2.extend(Fe.oBrowser,DataTable.__browser),Fe.oScroll.iBarWidth=DataTable.__browser.barWidth}function _fnReduce(Fe,_r,$r,Br,Fr,zr){var jr=Br,Ur,Gr=!1;for($r!==void 0&&(Ur=$r,Gr=!0);jr!==Fr;)Fe.hasOwnProperty(jr)&&(Ur=Gr?_r(Ur,Fe[jr],jr,Fe):Fe[jr],Gr=!0,jr+=zr);return Ur}function _fnAddColumn(Fe,_r){var $r=DataTable.defaults.column,Br=Fe.aoColumns.length,Fr=$$2.extend({},DataTable.models.oColumn,$r,{nTh:_r||document.createElement("th"),sTitle:$r.sTitle?$r.sTitle:_r?_r.innerHTML:"",aDataSort:$r.aDataSort?$r.aDataSort:[Br],mData:$r.mData?$r.mData:Br,idx:Br});Fe.aoColumns.push(Fr);var zr=Fe.aoPreSearchCols;zr[Br]=$$2.extend({},DataTable.models.oSearch,zr[Br]),_fnColumnOptions(Fe,Br,$$2(_r).data())}function _fnColumnOptions(Fe,_r,$r){var Br=Fe.aoColumns[_r],Fr=Fe.oClasses,zr=$$2(Br.nTh);if(!Br.sWidthOrig){Br.sWidthOrig=zr.attr("width")||null;var jr=(zr.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);jr&&(Br.sWidthOrig=jr[1])}if($r!=null){_fnCompatCols($r),_fnCamelToHungarian(DataTable.defaults.column,$r,!0),$r.mDataProp!==void 0&&!$r.mData&&($r.mData=$r.mDataProp),$r.sType&&(Br._sManualType=$r.sType),$r.className&&!$r.sClass&&($r.sClass=$r.className),$r.sClass&&zr.addClass($r.sClass);var Ur=Br.sClass;$$2.extend(Br,$r),_fnMap(Br,$r,"sWidth","sWidthOrig"),Ur!==Br.sClass&&(Br.sClass=Ur+" "+Br.sClass),$r.iDataSort!==void 0&&(Br.aDataSort=[$r.iDataSort]),_fnMap(Br,$r,"aDataSort"),Br.ariaTitle||(Br.ariaTitle=zr.attr("aria-label"))}var Gr=Br.mData,Yr=_fnGetObjectDataFn(Gr),Kr=Br.mRender?_fnGetObjectDataFn(Br.mRender):null,Qr=function(an){return typeof an=="string"&&an.indexOf("@")!==-1};Br._bAttrSrc=$$2.isPlainObject(Gr)&&(Qr(Gr.sort)||Qr(Gr.type)||Qr(Gr.filter)),Br._setter=null,Br.fnGetData=function(an,ln,dn){var hn=Yr(an,ln,void 0,dn);return Kr&&ln?Kr(hn,ln,an,dn):hn},Br.fnSetData=function(an,ln,dn){return _fnSetObjectDataFn(Gr)(an,ln,dn)},typeof Gr!="number"&&!Br._isArrayHost&&(Fe._rowReadObject=!0),Fe.oFeatures.bSort||(Br.bSortable=!1,zr.addClass(Fr.sSortableNone));var Jr=$$2.inArray("asc",Br.asSorting)!==-1,rn=$$2.inArray("desc",Br.asSorting)!==-1;!Br.bSortable||!Jr&&!rn?(Br.sSortingClass=Fr.sSortableNone,Br.sSortingClassJUI=""):Jr&&!rn?(Br.sSortingClass=Fr.sSortableAsc,Br.sSortingClassJUI=Fr.sSortJUIAscAllowed):!Jr&&rn?(Br.sSortingClass=Fr.sSortableDesc,Br.sSortingClassJUI=Fr.sSortJUIDescAllowed):(Br.sSortingClass=Fr.sSortable,Br.sSortingClassJUI=Fr.sSortJUI)}function _fnAdjustColumnSizing(Fe){if(Fe.oFeatures.bAutoWidth!==!1){var _r=Fe.aoColumns;_fnCalculateColumnWidths(Fe);for(var $r=0,Br=_r.length;$r<Br;$r++)_r[$r].nTh.style.width=_r[$r].sWidth}var Fr=Fe.oScroll;(Fr.sY!==""||Fr.sX!=="")&&_fnScrollDraw(Fe),_fnCallbackFire(Fe,null,"column-sizing",[Fe])}function _fnVisibleToColumnIndex(Fe,_r){var $r=_fnGetColumns(Fe,"bVisible");return typeof $r[_r]=="number"?$r[_r]:null}function _fnColumnIndexToVisible(Fe,_r){var $r=_fnGetColumns(Fe,"bVisible"),Br=$$2.inArray(_r,$r);return Br!==-1?Br:null}function _fnVisbleColumns(Fe){var _r=0;return $$2.each(Fe.aoColumns,function($r,Br){Br.bVisible&&$$2(Br.nTh).css("display")!=="none"&&_r++}),_r}function _fnGetColumns(Fe,_r){var $r=[];return $$2.map(Fe.aoColumns,function(Br,Fr){Br[_r]&&$r.push(Fr)}),$r}function _fnColumnTypes(Fe){var _r=Fe.aoColumns,$r=Fe.aoData,Br=DataTable.ext.type.detect,Fr,zr,jr,Ur,Gr,Yr,Kr,Qr,Jr;for(Fr=0,zr=_r.length;Fr<zr;Fr++)if(Kr=_r[Fr],Jr=[],!Kr.sType&&Kr._sManualType)Kr.sType=Kr._sManualType;else if(!Kr.sType){for(jr=0,Ur=Br.length;jr<Ur;jr++){for(Gr=0,Yr=$r.length;Gr<Yr&&(Jr[Gr]===void 0&&(Jr[Gr]=_fnGetCellData(Fe,Gr,Fr,"type")),Qr=Br[jr](Jr[Gr],Fe),!(!Qr&&jr!==Br.length-1||Qr==="html"&&!_empty(Jr[Gr])));Gr++);if(Qr){Kr.sType=Qr;break}}Kr.sType||(Kr.sType="string")}}function _fnApplyColumnDefs(Fe,_r,$r,Br){var Fr,zr,jr,Ur,Gr,Yr,Kr,Qr=Fe.aoColumns;if(_r)for(Fr=_r.length-1;Fr>=0;Fr--){Kr=_r[Fr];var Jr=Kr.target!==void 0?Kr.target:Kr.targets!==void 0?Kr.targets:Kr.aTargets;for(Array.isArray(Jr)||(Jr=[Jr]),jr=0,Ur=Jr.length;jr<Ur;jr++)if(typeof Jr[jr]=="number"&&Jr[jr]>=0){for(;Qr.length<=Jr[jr];)_fnAddColumn(Fe);Br(Jr[jr],Kr)}else if(typeof Jr[jr]=="number"&&Jr[jr]<0)Br(Qr.length+Jr[jr],Kr);else if(typeof Jr[jr]=="string")for(Gr=0,Yr=Qr.length;Gr<Yr;Gr++)(Jr[jr]=="_all"||$$2(Qr[Gr].nTh).hasClass(Jr[jr]))&&Br(Gr,Kr)}if($r)for(Fr=0,zr=$r.length;Fr<zr;Fr++)Br(Fr,$r[Fr])}function _fnAddData(Fe,_r,$r,Br){var Fr=Fe.aoData.length,zr=$$2.extend(!0,{},DataTable.models.oRow,{src:$r?"dom":"data",idx:Fr});zr._aData=_r,Fe.aoData.push(zr);for(var jr=Fe.aoColumns,Ur=0,Gr=jr.length;Ur<Gr;Ur++)jr[Ur].sType=null;Fe.aiDisplayMaster.push(Fr);var Yr=Fe.rowIdFn(_r);return Yr!==void 0&&(Fe.aIds[Yr]=zr),($r||!Fe.oFeatures.bDeferRender)&&_fnCreateTr(Fe,Fr,$r,Br),Fr}function _fnAddTr(Fe,_r){var $r;return _r instanceof $$2||(_r=$$2(_r)),_r.map(function(Br,Fr){return $r=_fnGetRowElements(Fe,Fr),_fnAddData(Fe,$r.data,Fr,$r.cells)})}function _fnNodeToDataIndex(Fe,_r){return _r._DT_RowIndex!==void 0?_r._DT_RowIndex:null}function _fnNodeToColumnIndex(Fe,_r,$r){return $$2.inArray($r,Fe.aoData[_r].anCells)}function _fnGetCellData(Fe,_r,$r,Br){Br==="search"?Br="filter":Br==="order"&&(Br="sort");var Fr=Fe.iDraw,zr=Fe.aoColumns[$r],jr=Fe.aoData[_r]._aData,Ur=zr.sDefaultContent,Gr=zr.fnGetData(jr,Br,{settings:Fe,row:_r,col:$r});if(Gr===void 0)return Fe.iDrawError!=Fr&&Ur===null&&(_fnLog(Fe,0,"Requested unknown parameter "+(typeof zr.mData=="function"?"{function}":"'"+zr.mData+"'")+" for row "+_r+", column "+$r,4),Fe.iDrawError=Fr),Ur;if((Gr===jr||Gr===null)&&Ur!==null&&Br!==void 0)Gr=Ur;else if(typeof Gr=="function")return Gr.call(jr);if(Gr===null&&Br==="display")return"";if(Br==="filter"){var Yr=DataTable.ext.type.search;Yr[zr.sType]&&(Gr=Yr[zr.sType](Gr))}return Gr}function _fnSetCellData(Fe,_r,$r,Br){var Fr=Fe.aoColumns[$r],zr=Fe.aoData[_r]._aData;Fr.fnSetData(zr,Br,{settings:Fe,row:_r,col:$r})}var __reArray=/\[.*?\]$/,__reFn=/\(\)$/;function _fnSplitObjNotation(Fe){return $$2.map(Fe.match(/(\\.|[^\.])+/g)||[""],function(_r){return _r.replace(/\\\./g,".")})}var _fnGetObjectDataFn=DataTable.util.get,_fnSetObjectDataFn=DataTable.util.set;function _fnGetDataMaster(Fe){return _pluck(Fe.aoData,"_aData")}function _fnClearTable(Fe){Fe.aoData.length=0,Fe.aiDisplayMaster.length=0,Fe.aiDisplay.length=0,Fe.aIds={}}function _fnDeleteIndex(Fe,_r,$r){for(var Br=-1,Fr=0,zr=Fe.length;Fr<zr;Fr++)Fe[Fr]==_r?Br=Fr:Fe[Fr]>_r&&Fe[Fr]--;Br!=-1&&$r===void 0&&Fe.splice(Br,1)}function _fnInvalidate(Fe,_r,$r,Br){var Fr=Fe.aoData[_r],zr,jr,Ur=function(Kr,Qr){for(;Kr.childNodes.length;)Kr.removeChild(Kr.firstChild);Kr.innerHTML=_fnGetCellData(Fe,_r,Qr,"display")};if($r==="dom"||(!$r||$r==="auto")&&Fr.src==="dom")Fr._aData=_fnGetRowElements(Fe,Fr,Br,Br===void 0?void 0:Fr._aData).data;else{var Gr=Fr.anCells;if(Gr)if(Br!==void 0)Ur(Gr[Br],Br);else for(zr=0,jr=Gr.length;zr<jr;zr++)Ur(Gr[zr],zr)}Fr._aSortData=null,Fr._aFilterData=null;var Yr=Fe.aoColumns;if(Br!==void 0)Yr[Br].sType=null;else{for(zr=0,jr=Yr.length;zr<jr;zr++)Yr[zr].sType=null;_fnRowAttributes(Fe,Fr)}}function _fnGetRowElements(Fe,_r,$r,Br){var Fr=[],zr=_r.firstChild,jr,Ur,Gr=0,Yr,Kr=Fe.aoColumns,Qr=Fe._rowReadObject;Br=Br!==void 0?Br:Qr?{}:[];var Jr=function(gn,bn){if(typeof gn=="string"){var kn=gn.indexOf("@");if(kn!==-1){var Sn=gn.substring(kn+1),_n=_fnSetObjectDataFn(gn);_n(Br,bn.getAttribute(Sn))}}},rn=function(gn){if($r===void 0||$r===Gr)if(Ur=Kr[Gr],Yr=gn.innerHTML.trim(),Ur&&Ur._bAttrSrc){var bn=_fnSetObjectDataFn(Ur.mData._);bn(Br,Yr),Jr(Ur.mData.sort,gn),Jr(Ur.mData.type,gn),Jr(Ur.mData.filter,gn)}else Qr?(Ur._setter||(Ur._setter=_fnSetObjectDataFn(Ur.mData)),Ur._setter(Br,Yr)):Br[Gr]=Yr;Gr++};if(zr)for(;zr;)jr=zr.nodeName.toUpperCase(),(jr=="TD"||jr=="TH")&&(rn(zr),Fr.push(zr)),zr=zr.nextSibling;else{Fr=_r.anCells;for(var an=0,ln=Fr.length;an<ln;an++)rn(Fr[an])}var dn=_r.firstChild?_r:_r.nTr;if(dn){var hn=dn.getAttribute("id");hn&&_fnSetObjectDataFn(Fe.rowId)(Br,hn)}return{data:Br,cells:Fr}}function _fnCreateTr(Fe,_r,$r,Br){var Fr=Fe.aoData[_r],zr=Fr._aData,jr=[],Ur,Gr,Yr,Kr,Qr,Jr;if(Fr.nTr===null){for(Ur=$r||document.createElement("tr"),Fr.nTr=Ur,Fr.anCells=jr,Ur._DT_RowIndex=_r,_fnRowAttributes(Fe,Fr),Kr=0,Qr=Fe.aoColumns.length;Kr<Qr;Kr++)Yr=Fe.aoColumns[Kr],Jr=!$r,Gr=Jr?document.createElement(Yr.sCellType):Br[Kr],Gr||_fnLog(Fe,0,"Incorrect column count",18),Gr._DT_CellIndex={row:_r,column:Kr},jr.push(Gr),(Jr||(Yr.mRender||Yr.mData!==Kr)&&(!$$2.isPlainObject(Yr.mData)||Yr.mData._!==Kr+".display"))&&(Gr.innerHTML=_fnGetCellData(Fe,_r,Kr,"display")),Yr.sClass&&(Gr.className+=" "+Yr.sClass),Yr.bVisible&&!$r?Ur.appendChild(Gr):!Yr.bVisible&&$r&&Gr.parentNode.removeChild(Gr),Yr.fnCreatedCell&&Yr.fnCreatedCell.call(Fe.oInstance,Gr,_fnGetCellData(Fe,_r,Kr),zr,_r,Kr);_fnCallbackFire(Fe,"aoRowCreatedCallback",null,[Ur,zr,_r,jr])}}function _fnRowAttributes(Fe,_r){var $r=_r.nTr,Br=_r._aData;if($r){var Fr=Fe.rowIdFn(Br);if(Fr&&($r.id=Fr),Br.DT_RowClass){var zr=Br.DT_RowClass.split(" ");_r.__rowc=_r.__rowc?_unique(_r.__rowc.concat(zr)):zr,$$2($r).removeClass(_r.__rowc.join(" ")).addClass(Br.DT_RowClass)}Br.DT_RowAttr&&$$2($r).attr(Br.DT_RowAttr),Br.DT_RowData&&$$2($r).data(Br.DT_RowData)}}function _fnBuildHead(Fe){var _r,$r,Br,Fr,zr,jr=Fe.nTHead,Ur=Fe.nTFoot,Gr=$$2("th, td",jr).length===0,Yr=Fe.oClasses,Kr=Fe.aoColumns;for(Gr&&(Fr=$$2("<tr/>").appendTo(jr)),_r=0,$r=Kr.length;_r<$r;_r++)zr=Kr[_r],Br=$$2(zr.nTh).addClass(zr.sClass),Gr&&Br.appendTo(Fr),Fe.oFeatures.bSort&&(Br.addClass(zr.sSortingClass),zr.bSortable!==!1&&(Br.attr("tabindex",Fe.iTabIndex).attr("aria-controls",Fe.sTableId),_fnSortAttachListener(Fe,zr.nTh,_r))),zr.sTitle!=Br[0].innerHTML&&Br.html(zr.sTitle),_fnRenderer(Fe,"header")(Fe,Br,zr,Yr);if(Gr&&_fnDetectHeader(Fe.aoHeader,jr),$$2(jr).children("tr").children("th, td").addClass(Yr.sHeaderTH),$$2(Ur).children("tr").children("th, td").addClass(Yr.sFooterTH),Ur!==null){var Qr=Fe.aoFooter[0];for(_r=0,$r=Qr.length;_r<$r;_r++)zr=Kr[_r],zr?(zr.nTf=Qr[_r].cell,zr.sClass&&$$2(zr.nTf).addClass(zr.sClass)):_fnLog(Fe,0,"Incorrect column count",18)}}function _fnDrawHead(Fe,_r,$r){var Br,Fr,zr,jr,Ur,Gr,Yr,Kr=[],Qr=[],Jr=Fe.aoColumns.length,rn,an;if(_r){for($r===void 0&&($r=!1),Br=0,Fr=_r.length;Br<Fr;Br++){for(Kr[Br]=_r[Br].slice(),Kr[Br].nTr=_r[Br].nTr,zr=Jr-1;zr>=0;zr--)!Fe.aoColumns[zr].bVisible&&!$r&&Kr[Br].splice(zr,1);Qr.push([])}for(Br=0,Fr=Kr.length;Br<Fr;Br++){if(Yr=Kr[Br].nTr,Yr)for(;Gr=Yr.firstChild;)Yr.removeChild(Gr);for(zr=0,jr=Kr[Br].length;zr<jr;zr++)if(rn=1,an=1,Qr[Br][zr]===void 0){for(Yr.appendChild(Kr[Br][zr].cell),Qr[Br][zr]=1;Kr[Br+rn]!==void 0&&Kr[Br][zr].cell==Kr[Br+rn][zr].cell;)Qr[Br+rn][zr]=1,rn++;for(;Kr[Br][zr+an]!==void 0&&Kr[Br][zr].cell==Kr[Br][zr+an].cell;){for(Ur=0;Ur<rn;Ur++)Qr[Br+Ur][zr+an]=1;an++}$$2(Kr[Br][zr].cell).attr("rowspan",rn).attr("colspan",an)}}}}function _fnDraw(Fe,_r){_fnStart(Fe);var $r=_fnCallbackFire(Fe,"aoPreDrawCallback","preDraw",[Fe]);if($$2.inArray(!1,$r)!==-1){_fnProcessingDisplay(Fe,!1);return}var Br=[],Fr=0,zr=Fe.asStripeClasses,jr=zr.length,Ur=Fe.oLanguage,Gr=_fnDataSource(Fe)=="ssp",Yr=Fe.aiDisplay,Kr=Fe._iDisplayStart,Qr=Fe.fnDisplayEnd();if(Fe.bDrawing=!0,Fe.bDeferLoading)Fe.bDeferLoading=!1,Fe.iDraw++,_fnProcessingDisplay(Fe,!1);else if(!Gr)Fe.iDraw++;else if(!Fe.bDestroying&&!_r){_fnAjaxUpdate(Fe);return}if(Yr.length!==0)for(var Jr=Gr?0:Kr,rn=Gr?Fe.aoData.length:Qr,an=Jr;an<rn;an++){var ln=Yr[an],dn=Fe.aoData[ln];dn.nTr===null&&_fnCreateTr(Fe,ln);var hn=dn.nTr;if(jr!==0){var gn=zr[Fr%jr];dn._sRowStripe!=gn&&($$2(hn).removeClass(dn._sRowStripe).addClass(gn),dn._sRowStripe=gn)}_fnCallbackFire(Fe,"aoRowCallback",null,[hn,dn._aData,Fr,an,ln]),Br.push(hn),Fr++}else{var bn=Ur.sZeroRecords;Fe.iDraw==1&&_fnDataSource(Fe)=="ajax"?bn=Ur.sLoadingRecords:Ur.sEmptyTable&&Fe.fnRecordsTotal()===0&&(bn=Ur.sEmptyTable),Br[0]=$$2("<tr/>",{class:jr?zr[0]:""}).append($$2("<td />",{valign:"top",colSpan:_fnVisbleColumns(Fe),class:Fe.oClasses.sRowEmpty}).html(bn))[0]}_fnCallbackFire(Fe,"aoHeaderCallback","header",[$$2(Fe.nTHead).children("tr")[0],_fnGetDataMaster(Fe),Kr,Qr,Yr]),_fnCallbackFire(Fe,"aoFooterCallback","footer",[$$2(Fe.nTFoot).children("tr")[0],_fnGetDataMaster(Fe),Kr,Qr,Yr]);var kn=$$2(Fe.nTBody);kn.children().detach(),kn.append($$2(Br)),_fnCallbackFire(Fe,"aoDrawCallback","draw",[Fe]),Fe.bSorted=!1,Fe.bFiltered=!1,Fe.bDrawing=!1}function _fnReDraw(Fe,_r){var $r=Fe.oFeatures,Br=$r.bSort,Fr=$r.bFilter;Br&&_fnSort(Fe),Fr?_fnFilterComplete(Fe,Fe.oPreviousSearch):Fe.aiDisplay=Fe.aiDisplayMaster.slice(),_r!==!0&&(Fe._iDisplayStart=0),Fe._drawHold=_r,_fnDraw(Fe),Fe._drawHold=!1}function _fnAddOptionsHtml(Fe){var _r=Fe.oClasses,$r=$$2(Fe.nTable),Br=$$2("<div/>").insertBefore($r),Fr=Fe.oFeatures,zr=$$2("<div/>",{id:Fe.sTableId+"_wrapper",class:_r.sWrapper+(Fe.nTFoot?"":" "+_r.sNoFooter)});Fe.nHolding=Br[0],Fe.nTableWrapper=zr[0],Fe.nTableReinsertBefore=Fe.nTable.nextSibling;for(var jr=Fe.sDom.split(""),Ur,Gr,Yr,Kr,Qr,Jr,rn=0;rn<jr.length;rn++){if(Ur=null,Gr=jr[rn],Gr=="<"){if(Yr=$$2("<div/>")[0],Kr=jr[rn+1],Kr=="'"||Kr=='"'){for(Qr="",Jr=2;jr[rn+Jr]!=Kr;)Qr+=jr[rn+Jr],Jr++;if(Qr=="H"?Qr=_r.sJUIHeader:Qr=="F"&&(Qr=_r.sJUIFooter),Qr.indexOf(".")!=-1){var an=Qr.split(".");Yr.id=an[0].substr(1,an[0].length-1),Yr.className=an[1]}else Qr.charAt(0)=="#"?Yr.id=Qr.substr(1,Qr.length-1):Yr.className=Qr;rn+=Jr}zr.append(Yr),zr=$$2(Yr)}else if(Gr==">")zr=zr.parent();else if(Gr=="l"&&Fr.bPaginate&&Fr.bLengthChange)Ur=_fnFeatureHtmlLength(Fe);else if(Gr=="f"&&Fr.bFilter)Ur=_fnFeatureHtmlFilter(Fe);else if(Gr=="r"&&Fr.bProcessing)Ur=_fnFeatureHtmlProcessing(Fe);else if(Gr=="t")Ur=_fnFeatureHtmlTable(Fe);else if(Gr=="i"&&Fr.bInfo)Ur=_fnFeatureHtmlInfo(Fe);else if(Gr=="p"&&Fr.bPaginate)Ur=_fnFeatureHtmlPaginate(Fe);else if(DataTable.ext.feature.length!==0){for(var ln=DataTable.ext.feature,dn=0,hn=ln.length;dn<hn;dn++)if(Gr==ln[dn].cFeature){Ur=ln[dn].fnInit(Fe);break}}if(Ur){var gn=Fe.aanFeatures;gn[Gr]||(gn[Gr]=[]),gn[Gr].push(Ur),zr.append(Ur)}}Br.replaceWith(zr),Fe.nHolding=null}function _fnDetectHeader(Fe,_r){var $r=$$2(_r).children("tr"),Br,Fr,zr,jr,Ur,Gr,Yr,Kr,Qr,Jr,rn,an=function(ln,dn,hn){for(var gn=ln[dn];gn[hn];)hn++;return hn};for(Fe.splice(0,Fe.length),zr=0,Gr=$r.length;zr<Gr;zr++)Fe.push([]);for(zr=0,Gr=$r.length;zr<Gr;zr++)for(Br=$r[zr],Kr=0,Fr=Br.firstChild;Fr;){if(Fr.nodeName.toUpperCase()=="TD"||Fr.nodeName.toUpperCase()=="TH")for(Qr=Fr.getAttribute("colspan")*1,Jr=Fr.getAttribute("rowspan")*1,Qr=!Qr||Qr===0||Qr===1?1:Qr,Jr=!Jr||Jr===0||Jr===1?1:Jr,Yr=an(Fe,zr,Kr),rn=Qr===1,Ur=0;Ur<Qr;Ur++)for(jr=0;jr<Jr;jr++)Fe[zr+jr][Yr+Ur]={cell:Fr,unique:rn},Fe[zr+jr].nTr=Br;Fr=Fr.nextSibling}}function _fnGetUniqueThs(Fe,_r,$r){var Br=[];$r||($r=Fe.aoHeader,_r&&($r=[],_fnDetectHeader($r,_r)));for(var Fr=0,zr=$r.length;Fr<zr;Fr++)for(var jr=0,Ur=$r[Fr].length;jr<Ur;jr++)$r[Fr][jr].unique&&(!Br[jr]||!Fe.bSortCellsTop)&&(Br[jr]=$r[Fr][jr].cell);return Br}function _fnStart(Fe){var _r=_fnDataSource(Fe)=="ssp",$r=Fe.iInitDisplayStart;$r!==void 0&&$r!==-1&&(Fe._iDisplayStart=_r?$r:$r>=Fe.fnRecordsDisplay()?0:$r,Fe.iInitDisplayStart=-1)}function _fnBuildAjax(Fe,_r,$r){if(_fnCallbackFire(Fe,"aoServerParams","serverParams",[_r]),_r&&Array.isArray(_r)){var Br={},Fr=/(.*?)\[\]$/;$$2.each(_r,function(Qr,Jr){var rn=Jr.name.match(Fr);if(rn){var an=rn[0];Br[an]||(Br[an]=[]),Br[an].push(Jr.value)}else Br[Jr.name]=Jr.value}),_r=Br}var zr,jr=Fe.ajax,Ur=Fe.oInstance,Gr=function(Qr){var Jr=Fe.jqXHR?Fe.jqXHR.status:null;(Qr===null||typeof Jr=="number"&&Jr==204)&&(Qr={},_fnAjaxDataSrc(Fe,Qr,[]));var rn=Qr.error||Qr.sError;rn&&_fnLog(Fe,0,rn),Fe.json=Qr,_fnCallbackFire(Fe,null,"xhr",[Fe,Qr,Fe.jqXHR]),$r(Qr)};if($$2.isPlainObject(jr)&&jr.data){zr=jr.data;var Yr=typeof zr=="function"?zr(_r,Fe):zr;_r=typeof zr=="function"&&Yr?Yr:$$2.extend(!0,_r,Yr),delete jr.data}var Kr={data:_r,success:Gr,dataType:"json",cache:!1,type:Fe.sServerMethod,error:function(Qr,Jr,rn){var an=_fnCallbackFire(Fe,null,"xhr",[Fe,null,Fe.jqXHR]);$$2.inArray(!0,an)===-1&&(Jr=="parsererror"?_fnLog(Fe,0,"Invalid JSON response",1):Qr.readyState===4&&_fnLog(Fe,0,"Ajax error",7)),_fnProcessingDisplay(Fe,!1)}};Fe.oAjaxData=_r,_fnCallbackFire(Fe,null,"preXhr",[Fe,_r]),Fe.fnServerData?Fe.fnServerData.call(Ur,Fe.sAjaxSource,$$2.map(_r,function(Qr,Jr){return{name:Jr,value:Qr}}),Gr,Fe):Fe.sAjaxSource||typeof jr=="string"?Fe.jqXHR=$$2.ajax($$2.extend(Kr,{url:jr||Fe.sAjaxSource})):typeof jr=="function"?Fe.jqXHR=jr.call(Ur,_r,Gr,Fe):(Fe.jqXHR=$$2.ajax($$2.extend(Kr,jr)),jr.data=zr)}function _fnAjaxUpdate(Fe){Fe.iDraw++,_fnProcessingDisplay(Fe,!0);var _r=Fe._drawHold;_fnBuildAjax(Fe,_fnAjaxParameters(Fe),function($r){Fe._drawHold=_r,_fnAjaxUpdateDraw(Fe,$r),Fe._drawHold=!1})}function _fnAjaxParameters(Fe){var _r=Fe.aoColumns,$r=_r.length,Br=Fe.oFeatures,Fr=Fe.oPreviousSearch,zr=Fe.aoPreSearchCols,jr,Ur=[],Gr,Yr,Kr,Qr=_fnSortFlatten(Fe),Jr=Fe._iDisplayStart,rn=Br.bPaginate!==!1?Fe._iDisplayLength:-1,an=function(hn,gn){Ur.push({name:hn,value:gn})};an("sEcho",Fe.iDraw),an("iColumns",$r),an("sColumns",_pluck(_r,"sName").join(",")),an("iDisplayStart",Jr),an("iDisplayLength",rn);var ln={draw:Fe.iDraw,columns:[],order:[],start:Jr,length:rn,search:{value:Fr.sSearch,regex:Fr.bRegex}};for(jr=0;jr<$r;jr++)Yr=_r[jr],Kr=zr[jr],Gr=typeof Yr.mData=="function"?"function":Yr.mData,ln.columns.push({data:Gr,name:Yr.sName,searchable:Yr.bSearchable,orderable:Yr.bSortable,search:{value:Kr.sSearch,regex:Kr.bRegex}}),an("mDataProp_"+jr,Gr),Br.bFilter&&(an("sSearch_"+jr,Kr.sSearch),an("bRegex_"+jr,Kr.bRegex),an("bSearchable_"+jr,Yr.bSearchable)),Br.bSort&&an("bSortable_"+jr,Yr.bSortable);Br.bFilter&&(an("sSearch",Fr.sSearch),an("bRegex",Fr.bRegex)),Br.bSort&&($$2.each(Qr,function(hn,gn){ln.order.push({column:gn.col,dir:gn.dir}),an("iSortCol_"+hn,gn.col),an("sSortDir_"+hn,gn.dir)}),an("iSortingCols",Qr.length));var dn=DataTable.ext.legacy.ajax;return dn===null?Fe.sAjaxSource?Ur:ln:dn?Ur:ln}function _fnAjaxUpdateDraw(Fe,_r){var $r=function(Yr,Kr){return _r[Yr]!==void 0?_r[Yr]:_r[Kr]},Br=_fnAjaxDataSrc(Fe,_r),Fr=$r("sEcho","draw"),zr=$r("iTotalRecords","recordsTotal"),jr=$r("iTotalDisplayRecords","recordsFiltered");if(Fr!==void 0){if(Fr*1<Fe.iDraw)return;Fe.iDraw=Fr*1}Br||(Br=[]),_fnClearTable(Fe),Fe._iRecordsTotal=parseInt(zr,10),Fe._iRecordsDisplay=parseInt(jr,10);for(var Ur=0,Gr=Br.length;Ur<Gr;Ur++)_fnAddData(Fe,Br[Ur]);Fe.aiDisplay=Fe.aiDisplayMaster.slice(),_fnDraw(Fe,!0),Fe._bInitComplete||_fnInitComplete(Fe,_r),_fnProcessingDisplay(Fe,!1)}function _fnAjaxDataSrc(Fe,_r,$r){var Br=$$2.isPlainObject(Fe.ajax)&&Fe.ajax.dataSrc!==void 0?Fe.ajax.dataSrc:Fe.sAjaxDataProp;if(!$r)return Br==="data"?_r.aaData||_r[Br]:Br!==""?_fnGetObjectDataFn(Br)(_r):_r;_fnSetObjectDataFn(Br)(_r,$r)}function _fnFeatureHtmlFilter(Fe){var _r=Fe.oClasses,$r=Fe.sTableId,Br=Fe.oLanguage,Fr=Fe.oPreviousSearch,zr=Fe.aanFeatures,jr='<input type="search" class="'+_r.sFilterInput+'"/>',Ur=Br.sSearch;Ur=Ur.match(/_INPUT_/)?Ur.replace("_INPUT_",jr):Ur+jr;var Gr=$$2("<div/>",{id:zr.f?null:$r+"_filter",class:_r.sFilter}).append($$2("<label/>").append(Ur)),Yr=function(Jr){zr.f;var rn=this.value?this.value:"";Fr.return&&Jr.key!=="Enter"||rn!=Fr.sSearch&&(_fnFilterComplete(Fe,{sSearch:rn,bRegex:Fr.bRegex,bSmart:Fr.bSmart,bCaseInsensitive:Fr.bCaseInsensitive,return:Fr.return}),Fe._iDisplayStart=0,_fnDraw(Fe))},Kr=Fe.searchDelay!==null?Fe.searchDelay:_fnDataSource(Fe)==="ssp"?400:0,Qr=$$2("input",Gr).val(Fr.sSearch).attr("placeholder",Br.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",Kr?_fnThrottle(Yr,Kr):Yr).on("mouseup.DT",function(Jr){setTimeout(function(){Yr.call(Qr[0],Jr)},10)}).on("keypress.DT",function(Jr){if(Jr.keyCode==13)return!1}).attr("aria-controls",$r);return $$2(Fe.nTable).on("search.dt.DT",function(Jr,rn){if(Fe===rn)try{Qr[0]!==document.activeElement&&Qr.val(Fr.sSearch)}catch{}}),Gr[0]}function _fnFilterComplete(Fe,_r,$r){var Br=Fe.oPreviousSearch,Fr=Fe.aoPreSearchCols,zr=function(Gr){Br.sSearch=Gr.sSearch,Br.bRegex=Gr.bRegex,Br.bSmart=Gr.bSmart,Br.bCaseInsensitive=Gr.bCaseInsensitive,Br.return=Gr.return},jr=function(Gr){return Gr.bEscapeRegex!==void 0?!Gr.bEscapeRegex:Gr.bRegex};if(_fnColumnTypes(Fe),_fnDataSource(Fe)!="ssp"){_fnFilter(Fe,_r.sSearch,$r,jr(_r),_r.bSmart,_r.bCaseInsensitive),zr(_r);for(var Ur=0;Ur<Fr.length;Ur++)_fnFilterColumn(Fe,Fr[Ur].sSearch,Ur,jr(Fr[Ur]),Fr[Ur].bSmart,Fr[Ur].bCaseInsensitive);_fnFilterCustom(Fe)}else zr(_r);Fe.bFiltered=!0,_fnCallbackFire(Fe,null,"search",[Fe])}function _fnFilterCustom(Fe){for(var _r=DataTable.ext.search,$r=Fe.aiDisplay,Br,Fr,zr=0,jr=_r.length;zr<jr;zr++){for(var Ur=[],Gr=0,Yr=$r.length;Gr<Yr;Gr++)Fr=$r[Gr],Br=Fe.aoData[Fr],_r[zr](Fe,Br._aFilterData,Fr,Br._aData,Gr)&&Ur.push(Fr);$r.length=0,$$2.merge($r,Ur)}}function _fnFilterColumn(Fe,_r,$r,Br,Fr,zr){if(_r!==""){for(var jr,Ur=[],Gr=Fe.aiDisplay,Yr=_fnFilterCreateSearch(_r,Br,Fr,zr),Kr=0;Kr<Gr.length;Kr++)jr=Fe.aoData[Gr[Kr]]._aFilterData[$r],Yr.test(jr)&&Ur.push(Gr[Kr]);Fe.aiDisplay=Ur}}function _fnFilter(Fe,_r,$r,Br,Fr,zr){var jr=_fnFilterCreateSearch(_r,Br,Fr,zr),Ur=Fe.oPreviousSearch.sSearch,Gr=Fe.aiDisplayMaster,Yr,Kr,Qr,Jr=[];if(DataTable.ext.search.length!==0&&($r=!0),Kr=_fnFilterData(Fe),_r.length<=0)Fe.aiDisplay=Gr.slice();else{for((Kr||$r||Br||Ur.length>_r.length||_r.indexOf(Ur)!==0||Fe.bSorted)&&(Fe.aiDisplay=Gr.slice()),Yr=Fe.aiDisplay,Qr=0;Qr<Yr.length;Qr++)jr.test(Fe.aoData[Yr[Qr]]._sFilterRow)&&Jr.push(Yr[Qr]);Fe.aiDisplay=Jr}}function _fnFilterCreateSearch(Fe,_r,$r,Br){if(Fe=_r?Fe:_fnEscapeRegex(Fe),$r){var Fr=$$2.map(Fe.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(zr){if(zr.charAt(0)==='"'){var jr=zr.match(/^"(.*)"$/);zr=jr?jr[1]:zr}else if(zr.charAt(0)==="â"){var jr=zr.match(/^\u201C(.*)\u201D$/);zr=jr?jr[1]:zr}return zr.replace('"',"")});Fe="^(?=.*?"+Fr.join(")(?=.*?")+").*$"}return new RegExp(Fe,Br?"i":"")}var _fnEscapeRegex=DataTable.util.escapeRegex,__filter_div=$$2("<div>")[0],__filter_div_textContent=__filter_div.textContent!==void 0;function _fnFilterData(Fe){var _r=Fe.aoColumns,$r,Br,Fr,zr,jr,Ur,Gr,Yr,Kr=!1;for(Br=0,zr=Fe.aoData.length;Br<zr;Br++)if(Yr=Fe.aoData[Br],!Yr._aFilterData){for(Ur=[],Fr=0,jr=_r.length;Fr<jr;Fr++)$r=_r[Fr],$r.bSearchable?(Gr=_fnGetCellData(Fe,Br,Fr,"filter"),Gr===null&&(Gr=""),typeof Gr!="string"&&Gr.toString&&(Gr=Gr.toString())):Gr="",Gr.indexOf&&Gr.indexOf("&")!==-1&&(__filter_div.innerHTML=Gr,Gr=__filter_div_textContent?__filter_div.textContent:__filter_div.innerText),Gr.replace&&(Gr=Gr.replace(/[\r\n\u2028]/g,"")),Ur.push(Gr);Yr._aFilterData=Ur,Yr._sFilterRow=Ur.join("  "),Kr=!0}return Kr}function _fnSearchToCamel(Fe){return{search:Fe.sSearch,smart:Fe.bSmart,regex:Fe.bRegex,caseInsensitive:Fe.bCaseInsensitive}}function _fnSearchToHung(Fe){return{sSearch:Fe.search,bSmart:Fe.smart,bRegex:Fe.regex,bCaseInsensitive:Fe.caseInsensitive}}function _fnFeatureHtmlInfo(Fe){var _r=Fe.sTableId,$r=Fe.aanFeatures.i,Br=$$2("<div/>",{class:Fe.oClasses.sInfo,id:$r?null:_r+"_info"});return $r||(Fe.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),Br.attr("role","status").attr("aria-live","polite"),$$2(Fe.nTable).attr("aria-describedby",_r+"_info")),Br[0]}function _fnUpdateInfo(Fe){var _r=Fe.aanFeatures.i;if(_r.length!==0){var $r=Fe.oLanguage,Br=Fe._iDisplayStart+1,Fr=Fe.fnDisplayEnd(),zr=Fe.fnRecordsTotal(),jr=Fe.fnRecordsDisplay(),Ur=jr?$r.sInfo:$r.sInfoEmpty;jr!==zr&&(Ur+=" "+$r.sInfoFiltered),Ur+=$r.sInfoPostFix,Ur=_fnInfoMacros(Fe,Ur);var Gr=$r.fnInfoCallback;Gr!==null&&(Ur=Gr.call(Fe.oInstance,Fe,Br,Fr,zr,jr,Ur)),$$2(_r).html(Ur)}}function _fnInfoMacros(Fe,_r){var $r=Fe.fnFormatNumber,Br=Fe._iDisplayStart+1,Fr=Fe._iDisplayLength,zr=Fe.fnRecordsDisplay(),jr=Fr===-1;return _r.replace(/_START_/g,$r.call(Fe,Br)).replace(/_END_/g,$r.call(Fe,Fe.fnDisplayEnd())).replace(/_MAX_/g,$r.call(Fe,Fe.fnRecordsTotal())).replace(/_TOTAL_/g,$r.call(Fe,zr)).replace(/_PAGE_/g,$r.call(Fe,jr?1:Math.ceil(Br/Fr))).replace(/_PAGES_/g,$r.call(Fe,jr?1:Math.ceil(zr/Fr)))}function _fnInitialise(Fe){var _r,$r,Br=Fe.iInitDisplayStart,Fr=Fe.aoColumns,zr,jr=Fe.oFeatures,Ur=Fe.bDeferLoading;if(!Fe.bInitialised){setTimeout(function(){_fnInitialise(Fe)},200);return}for(_fnAddOptionsHtml(Fe),_fnBuildHead(Fe),_fnDrawHead(Fe,Fe.aoHeader),_fnDrawHead(Fe,Fe.aoFooter),_fnProcessingDisplay(Fe,!0),jr.bAutoWidth&&_fnCalculateColumnWidths(Fe),_r=0,$r=Fr.length;_r<$r;_r++)zr=Fr[_r],zr.sWidth&&(zr.nTh.style.width=_fnStringToCss(zr.sWidth));_fnCallbackFire(Fe,null,"preInit",[Fe]),_fnReDraw(Fe);var Gr=_fnDataSource(Fe);(Gr!="ssp"||Ur)&&(Gr=="ajax"?_fnBuildAjax(Fe,[],function(Yr){var Kr=_fnAjaxDataSrc(Fe,Yr);for(_r=0;_r<Kr.length;_r++)_fnAddData(Fe,Kr[_r]);Fe.iInitDisplayStart=Br,_fnReDraw(Fe),_fnProcessingDisplay(Fe,!1),_fnInitComplete(Fe,Yr)}):(_fnProcessingDisplay(Fe,!1),_fnInitComplete(Fe)))}function _fnInitComplete(Fe,_r){Fe._bInitComplete=!0,(_r||Fe.oInit.aaData)&&_fnAdjustColumnSizing(Fe),_fnCallbackFire(Fe,null,"plugin-init",[Fe,_r]),_fnCallbackFire(Fe,"aoInitComplete","init",[Fe,_r])}function _fnLengthChange(Fe,_r){var $r=parseInt(_r,10);Fe._iDisplayLength=$r,_fnLengthOverflow(Fe),_fnCallbackFire(Fe,null,"length",[Fe,$r])}function _fnFeatureHtmlLength(Fe){for(var _r=Fe.oClasses,$r=Fe.sTableId,Br=Fe.aLengthMenu,Fr=Array.isArray(Br[0]),zr=Fr?Br[0]:Br,jr=Fr?Br[1]:Br,Ur=$$2("<select/>",{name:$r+"_length","aria-controls":$r,class:_r.sLengthSelect}),Gr=0,Yr=zr.length;Gr<Yr;Gr++)Ur[0][Gr]=new Option(typeof jr[Gr]=="number"?Fe.fnFormatNumber(jr[Gr]):jr[Gr],zr[Gr]);var Kr=$$2("<div><label/></div>").addClass(_r.sLength);return Fe.aanFeatures.l||(Kr[0].id=$r+"_length"),Kr.children().append(Fe.oLanguage.sLengthMenu.replace("_MENU_",Ur[0].outerHTML)),$$2("select",Kr).val(Fe._iDisplayLength).on("change.DT",function(Qr){_fnLengthChange(Fe,$$2(this).val()),_fnDraw(Fe)}),$$2(Fe.nTable).on("length.dt.DT",function(Qr,Jr,rn){Fe===Jr&&$$2("select",Kr).val(rn)}),Kr[0]}function _fnFeatureHtmlPaginate(Fe){var _r=Fe.sPaginationType,$r=DataTable.ext.pager[_r],Br=typeof $r=="function",Fr=function(Ur){_fnDraw(Ur)},zr=$$2("<div/>").addClass(Fe.oClasses.sPaging+_r)[0],jr=Fe.aanFeatures;return Br||$r.fnInit(Fe,zr,Fr),jr.p||(zr.id=Fe.sTableId+"_paginate",Fe.aoDrawCallback.push({fn:function(Ur){if(Br){var Gr=Ur._iDisplayStart,Yr=Ur._iDisplayLength,Kr=Ur.fnRecordsDisplay(),Qr=Yr===-1,Jr=Qr?0:Math.ceil(Gr/Yr),rn=Qr?1:Math.ceil(Kr/Yr),an=$r(Jr,rn),ln,dn;for(ln=0,dn=jr.p.length;ln<dn;ln++)_fnRenderer(Ur,"pageButton")(Ur,jr.p[ln],ln,an,Jr,rn)}else $r.fnUpdate(Ur,Fr)},sName:"pagination"})),zr}function _fnPageChange(Fe,_r,$r){var Br=Fe._iDisplayStart,Fr=Fe._iDisplayLength,zr=Fe.fnRecordsDisplay();zr===0||Fr===-1?Br=0:typeof _r=="number"?(Br=_r*Fr,Br>zr&&(Br=0)):_r=="first"?Br=0:_r=="previous"?(Br=Fr>=0?Br-Fr:0,Br<0&&(Br=0)):_r=="next"?Br+Fr<zr&&(Br+=Fr):_r=="last"?Br=Math.floor((zr-1)/Fr)*Fr:_fnLog(Fe,0,"Unknown paging action: "+_r,5);var jr=Fe._iDisplayStart!==Br;return Fe._iDisplayStart=Br,jr?(_fnCallbackFire(Fe,null,"page",[Fe]),$r&&_fnDraw(Fe)):_fnCallbackFire(Fe,null,"page-nc",[Fe]),jr}function _fnFeatureHtmlProcessing(Fe){return $$2("<div/>",{id:Fe.aanFeatures.r?null:Fe.sTableId+"_processing",class:Fe.oClasses.sProcessing,role:"status"}).html(Fe.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(Fe.nTable)[0]}function _fnProcessingDisplay(Fe,_r){Fe.oFeatures.bProcessing&&$$2(Fe.aanFeatures.r).css("display",_r?"block":"none"),_fnCallbackFire(Fe,null,"processing",[Fe,_r])}function _fnFeatureHtmlTable(Fe){var _r=$$2(Fe.nTable),$r=Fe.oScroll;if($r.sX===""&&$r.sY==="")return Fe.nTable;var Br=$r.sX,Fr=$r.sY,zr=Fe.oClasses,jr=_r.children("caption"),Ur=jr.length?jr[0]._captionSide:null,Gr=$$2(_r[0].cloneNode(!1)),Yr=$$2(_r[0].cloneNode(!1)),Kr=_r.children("tfoot"),Qr="<div/>",Jr=function(gn){return gn?_fnStringToCss(gn):null};Kr.length||(Kr=null);var rn=$$2(Qr,{class:zr.sScrollWrapper}).append($$2(Qr,{class:zr.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:Br?Jr(Br):"100%"}).append($$2(Qr,{class:zr.sScrollHeadInner}).css({"box-sizing":"content-box",width:$r.sXInner||"100%"}).append(Gr.removeAttr("id").css("margin-left",0).append(Ur==="top"?jr:null).append(_r.children("thead"))))).append($$2(Qr,{class:zr.sScrollBody}).css({position:"relative",overflow:"auto",width:Jr(Br)}).append(_r));Kr&&rn.append($$2(Qr,{class:zr.sScrollFoot}).css({overflow:"hidden",border:0,width:Br?Jr(Br):"100%"}).append($$2(Qr,{class:zr.sScrollFootInner}).append(Yr.removeAttr("id").css("margin-left",0).append(Ur==="bottom"?jr:null).append(_r.children("tfoot")))));var an=rn.children(),ln=an[0],dn=an[1],hn=Kr?an[2]:null;return Br&&$$2(dn).on("scroll.DT",function(gn){var bn=this.scrollLeft;ln.scrollLeft=bn,Kr&&(hn.scrollLeft=bn)}),$$2(dn).css("max-height",Fr),$r.bCollapse||$$2(dn).css("height",Fr),Fe.nScrollHead=ln,Fe.nScrollBody=dn,Fe.nScrollFoot=hn,Fe.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),rn[0]}function _fnScrollDraw(Fe){var _r=Fe.oScroll,$r=_r.sX,Br=_r.sXInner,Fr=_r.sY,zr=_r.iBarWidth,jr=$$2(Fe.nScrollHead),Ur=jr[0].style,Gr=jr.children("div"),Yr=Gr[0].style,Kr=Gr.children("table"),Qr=Fe.nScrollBody,Jr=$$2(Qr),rn=Qr.style,an=$$2(Fe.nScrollFoot),ln=an.children("div"),dn=ln.children("table"),hn=$$2(Fe.nTHead),gn=$$2(Fe.nTable),bn=gn[0],kn=bn.style,Sn=Fe.nTFoot?$$2(Fe.nTFoot):null,_n=Fe.oBrowser,pn=_n.bScrollOversize;_pluck(Fe.aoColumns,"nTh");var Cn,En,Pn,On,jn,Fn,Wn=[],Hn=[],qn=[],ni=[],oi,wi,Ci,Fi=function($i){var Vi=$i.style;Vi.paddingTop="0",Vi.paddingBottom="0",Vi.borderTopWidth="0",Vi.borderBottomWidth="0",Vi.height=0},Zn=Qr.scrollHeight>Qr.clientHeight;if(Fe.scrollBarVis!==Zn&&Fe.scrollBarVis!==void 0){Fe.scrollBarVis=Zn,_fnAdjustColumnSizing(Fe);return}else Fe.scrollBarVis=Zn;gn.children("thead, tfoot").remove(),Sn&&(Fn=Sn.clone().prependTo(gn),En=Sn.find("tr"),On=Fn.find("tr"),Fn.find("[id]").removeAttr("id")),jn=hn.clone().prependTo(gn),Cn=hn.find("tr"),Pn=jn.find("tr"),jn.find("th, td").removeAttr("tabindex"),jn.find("[id]").removeAttr("id"),$r||(rn.width="100%",jr[0].style.width="100%"),$$2.each(_fnGetUniqueThs(Fe,jn),function($i,Vi){oi=_fnVisibleToColumnIndex(Fe,$i),Vi.style.width=Fe.aoColumns[oi].sWidth}),Sn&&_fnApplyToChildren(function($i){$i.style.width=""},On),Ci=gn.outerWidth(),$r===""?(kn.width="100%",pn&&(gn.find("tbody").height()>Qr.offsetHeight||Jr.css("overflow-y")=="scroll")&&(kn.width=_fnStringToCss(gn.outerWidth()-zr)),Ci=gn.outerWidth()):Br!==""&&(kn.width=_fnStringToCss(Br),Ci=gn.outerWidth()),_fnApplyToChildren(Fi,Pn),_fnApplyToChildren(function($i){var Vi=window.getComputedStyle?window.getComputedStyle($i).width:_fnStringToCss($$2($i).width());qn.push($i.innerHTML),Wn.push(Vi)},Pn),_fnApplyToChildren(function($i,Vi){$i.style.width=Wn[Vi]},Cn),$$2(Pn).css("height",0),Sn&&(_fnApplyToChildren(Fi,On),_fnApplyToChildren(function($i){ni.push($i.innerHTML),Hn.push(_fnStringToCss($$2($i).css("width")))},On),_fnApplyToChildren(function($i,Vi){$i.style.width=Hn[Vi]},En),$$2(On).height(0)),_fnApplyToChildren(function($i,Vi){$i.innerHTML='<div class="dataTables_sizing">'+qn[Vi]+"</div>",$i.childNodes[0].style.height="0",$i.childNodes[0].style.overflow="hidden",$i.style.width=Wn[Vi]},Pn),Sn&&_fnApplyToChildren(function($i,Vi){$i.innerHTML='<div class="dataTables_sizing">'+ni[Vi]+"</div>",$i.childNodes[0].style.height="0",$i.childNodes[0].style.overflow="hidden",$i.style.width=Hn[Vi]},On),Math.round(gn.outerWidth())<Math.round(Ci)?(wi=Qr.scrollHeight>Qr.offsetHeight||Jr.css("overflow-y")=="scroll"?Ci+zr:Ci,pn&&(Qr.scrollHeight>Qr.offsetHeight||Jr.css("overflow-y")=="scroll")&&(kn.width=_fnStringToCss(wi-zr)),($r===""||Br!=="")&&_fnLog(Fe,1,"Possible column misalignment",6)):wi="100%",rn.width=_fnStringToCss(wi),Ur.width=_fnStringToCss(wi),Sn&&(Fe.nScrollFoot.style.width=_fnStringToCss(wi)),Fr||pn&&(rn.height=_fnStringToCss(bn.offsetHeight+zr));var Gn=gn.outerWidth();Kr[0].style.width=_fnStringToCss(Gn),Yr.width=_fnStringToCss(Gn);var ui=gn.height()>Qr.clientHeight||Jr.css("overflow-y")=="scroll",Ni="padding"+(_n.bScrollbarLeft?"Left":"Right");Yr[Ni]=ui?zr+"px":"0px",Sn&&(dn[0].style.width=_fnStringToCss(Gn),ln[0].style.width=_fnStringToCss(Gn),ln[0].style[Ni]=ui?zr+"px":"0px"),gn.children("colgroup").insertBefore(gn.children("thead")),Jr.trigger("scroll"),(Fe.bSorted||Fe.bFiltered)&&!Fe._drawHold&&(Qr.scrollTop=0)}function _fnApplyToChildren(Fe,_r,$r){for(var Br=0,Fr=0,zr=_r.length,jr,Ur;Fr<zr;){for(jr=_r[Fr].firstChild,Ur=$r?$r[Fr].firstChild:null;jr;)jr.nodeType===1&&($r?Fe(jr,Ur,Br):Fe(jr,Br),Br++),jr=jr.nextSibling,Ur=$r?Ur.nextSibling:null;Fr++}}var __re_html_remove=/<.*?>/g;function _fnCalculateColumnWidths(Fe){var _r=Fe.nTable,$r=Fe.aoColumns,Br=Fe.oScroll,Fr=Br.sY,zr=Br.sX,jr=Br.sXInner,Ur=$r.length,Gr=_fnGetColumns(Fe,"bVisible"),Yr=$$2("th",Fe.nTHead),Kr=_r.getAttribute("width"),Qr=_r.parentNode,Jr=!1,rn,an,ln,dn=Fe.oBrowser,hn=dn.bScrollOversize,gn=_r.style.width;gn&&gn.indexOf("%")!==-1&&(Kr=gn);var bn=_fnConvertToWidth(_pluck($r,"sWidthOrig"),Qr);for(rn=0;rn<Gr.length;rn++)an=$r[Gr[rn]],an.sWidth!==null&&(an.sWidth=bn[rn],Jr=!0);if(hn||!Jr&&!zr&&!Fr&&Ur==_fnVisbleColumns(Fe)&&Ur==Yr.length)for(rn=0;rn<Ur;rn++){var kn=_fnVisibleToColumnIndex(Fe,rn);kn!==null&&($r[kn].sWidth=_fnStringToCss(Yr.eq(rn).width()))}else{var Sn=$$2(_r).clone().css("visibility","hidden").removeAttr("id");Sn.find("tbody tr").remove();var _n=$$2("<tr/>").appendTo(Sn.find("tbody"));for(Sn.find("thead, tfoot").remove(),Sn.append($$2(Fe.nTHead).clone()).append($$2(Fe.nTFoot).clone()),Sn.find("tfoot th, tfoot td").css("width",""),Yr=_fnGetUniqueThs(Fe,Sn.find("thead")[0]),rn=0;rn<Gr.length;rn++)an=$r[Gr[rn]],Yr[rn].style.width=an.sWidthOrig!==null&&an.sWidthOrig!==""?_fnStringToCss(an.sWidthOrig):"",an.sWidthOrig&&zr&&$$2(Yr[rn]).append($$2("<div/>").css({width:an.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(Fe.aoData.length)for(rn=0;rn<Gr.length;rn++)ln=Gr[rn],an=$r[ln],$$2(_fnGetWidestNode(Fe,ln)).clone(!1).append(an.sContentPadding).appendTo(_n);$$2("[name]",Sn).removeAttr("name");var pn=$$2("<div/>").css(zr||Fr?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(Sn).appendTo(Qr);zr&&jr?Sn.width(jr):zr?(Sn.css("width","auto"),Sn.removeAttr("width"),Sn.width()<Qr.clientWidth&&Kr&&Sn.width(Qr.clientWidth)):Fr?Sn.width(Qr.clientWidth):Kr&&Sn.width(Kr);var Cn=0;for(rn=0;rn<Gr.length;rn++){var En=$$2(Yr[rn]),Pn=En.outerWidth()-En.width(),On=dn.bBounding?Math.ceil(Yr[rn].getBoundingClientRect().width):En.outerWidth();Cn+=On,$r[Gr[rn]].sWidth=_fnStringToCss(On-Pn)}_r.style.width=_fnStringToCss(Cn),pn.remove()}if(Kr&&(_r.style.width=_fnStringToCss(Kr)),(Kr||zr)&&!Fe._reszEvt){var jn=function(){$$2(window).on("resize.DT-"+Fe.sInstance,_fnThrottle(function(){_fnAdjustColumnSizing(Fe)}))};hn?setTimeout(jn,1e3):jn(),Fe._reszEvt=!0}}var _fnThrottle=DataTable.util.throttle;function _fnConvertToWidth(Fe,_r){for(var $r=[],Br=[],Fr=0;Fr<Fe.length;Fr++)Fe[Fr]?$r.push($$2("<div/>").css("width",_fnStringToCss(Fe[Fr])).appendTo(_r||document.body)):$r.push(null);for(var Fr=0;Fr<Fe.length;Fr++)Br.push($r[Fr]?$r[Fr][0].offsetWidth:null);return $$2($r).remove(),Br}function _fnGetWidestNode(Fe,_r){var $r=_fnGetMaxLenString(Fe,_r);if($r<0)return null;var Br=Fe.aoData[$r];return Br.nTr?Br.anCells[_r]:$$2("<td/>").html(_fnGetCellData(Fe,$r,_r,"display"))[0]}function _fnGetMaxLenString(Fe,_r){for(var $r,Br=-1,Fr=-1,zr=0,jr=Fe.aoData.length;zr<jr;zr++)$r=_fnGetCellData(Fe,zr,_r,"display")+"",$r=$r.replace(__re_html_remove,""),$r=$r.replace(/&nbsp;/g," "),$r.length>Br&&(Br=$r.length,Fr=zr);return Fr}function _fnStringToCss(Fe){return Fe===null?"0px":typeof Fe=="number"?Fe<0?"0px":Fe+"px":Fe.match(/\d$/)?Fe+"px":Fe}function _fnSortFlatten(Fe){var _r,$r,Br,Fr=[],zr=Fe.aoColumns,jr,Ur,Gr,Yr,Kr=Fe.aaSortingFixed,Qr=$$2.isPlainObject(Kr),Jr=[],rn=function(an){an.length&&!Array.isArray(an[0])?Jr.push(an):$$2.merge(Jr,an)};for(Array.isArray(Kr)&&rn(Kr),Qr&&Kr.pre&&rn(Kr.pre),rn(Fe.aaSorting),Qr&&Kr.post&&rn(Kr.post),_r=0;_r<Jr.length;_r++)for(Yr=Jr[_r][0],jr=zr[Yr].aDataSort,$r=0,Br=jr.length;$r<Br;$r++)Ur=jr[$r],Gr=zr[Ur].sType||"string",Jr[_r]._idx===void 0&&(Jr[_r]._idx=$$2.inArray(Jr[_r][1],zr[Ur].asSorting)),Fr.push({src:Yr,col:Ur,dir:Jr[_r][1],index:Jr[_r]._idx,type:Gr,formatter:DataTable.ext.type.order[Gr+"-pre"]});return Fr}function _fnSort(Fe){var _r,$r,Br,Fr=[],zr=DataTable.ext.type.order,jr=Fe.aoData;Fe.aoColumns;var Ur=0,Gr,Yr=Fe.aiDisplayMaster,Kr;for(_fnColumnTypes(Fe),Kr=_fnSortFlatten(Fe),_r=0,$r=Kr.length;_r<$r;_r++)Gr=Kr[_r],Gr.formatter&&Ur++,_fnSortData(Fe,Gr.col);if(_fnDataSource(Fe)!="ssp"&&Kr.length!==0){for(_r=0,Br=Yr.length;_r<Br;_r++)Fr[Yr[_r]]=_r;Ur===Kr.length?Yr.sort(function(Qr,Jr){var rn,an,ln,dn,hn,gn=Kr.length,bn=jr[Qr]._aSortData,kn=jr[Jr]._aSortData;for(ln=0;ln<gn;ln++)if(hn=Kr[ln],rn=bn[hn.col],an=kn[hn.col],dn=rn<an?-1:rn>an?1:0,dn!==0)return hn.dir==="asc"?dn:-dn;return rn=Fr[Qr],an=Fr[Jr],rn<an?-1:rn>an?1:0}):Yr.sort(function(Qr,Jr){var rn,an,ln,dn,hn,gn,bn=Kr.length,kn=jr[Qr]._aSortData,Sn=jr[Jr]._aSortData;for(ln=0;ln<bn;ln++)if(hn=Kr[ln],rn=kn[hn.col],an=Sn[hn.col],gn=zr[hn.type+"-"+hn.dir]||zr["string-"+hn.dir],dn=gn(rn,an),dn!==0)return dn;return rn=Fr[Qr],an=Fr[Jr],rn<an?-1:rn>an?1:0})}Fe.bSorted=!0}function _fnSortAria(Fe){for(var _r,$r,Br=Fe.aoColumns,Fr=_fnSortFlatten(Fe),zr=Fe.oLanguage.oAria,jr=0,Ur=Br.length;jr<Ur;jr++){var Gr=Br[jr],Yr=Gr.asSorting,Kr=Gr.ariaTitle||Gr.sTitle.replace(/<.*?>/g,""),Qr=Gr.nTh;Qr.removeAttribute("aria-sort"),Gr.bSortable?(Fr.length>0&&Fr[0].col==jr?(Qr.setAttribute("aria-sort",Fr[0].dir=="asc"?"ascending":"descending"),$r=Yr[Fr[0].index+1]||Yr[0]):$r=Yr[0],_r=Kr+($r==="asc"?zr.sSortAscending:zr.sSortDescending)):_r=Kr,Qr.setAttribute("aria-label",_r)}}function _fnSortListener(Fe,_r,$r,Br){var Fr=Fe.aoColumns[_r],zr=Fe.aaSorting,jr=Fr.asSorting,Ur,Gr=function(Kr,Qr){var Jr=Kr._idx;return Jr===void 0&&(Jr=$$2.inArray(Kr[1],jr)),Jr+1<jr.length?Jr+1:Qr?null:0};if(typeof zr[0]=="number"&&(zr=Fe.aaSorting=[zr]),$r&&Fe.oFeatures.bSortMulti){var Yr=$$2.inArray(_r,_pluck(zr,"0"));Yr!==-1?(Ur=Gr(zr[Yr],!0),Ur===null&&zr.length===1&&(Ur=0),Ur===null?zr.splice(Yr,1):(zr[Yr][1]=jr[Ur],zr[Yr]._idx=Ur)):(zr.push([_r,jr[0],0]),zr[zr.length-1]._idx=0)}else zr.length&&zr[0][0]==_r?(Ur=Gr(zr[0]),zr.length=1,zr[0][1]=jr[Ur],zr[0]._idx=Ur):(zr.length=0,zr.push([_r,jr[0]]),zr[0]._idx=0);_fnReDraw(Fe),typeof Br=="function"&&Br(Fe)}function _fnSortAttachListener(Fe,_r,$r,Br){var Fr=Fe.aoColumns[$r];_fnBindAction(_r,{},function(zr){Fr.bSortable!==!1&&(Fe.oFeatures.bProcessing?(_fnProcessingDisplay(Fe,!0),setTimeout(function(){_fnSortListener(Fe,$r,zr.shiftKey,Br),_fnDataSource(Fe)!=="ssp"&&_fnProcessingDisplay(Fe,!1)},0)):_fnSortListener(Fe,$r,zr.shiftKey,Br))})}function _fnSortingClasses(Fe){var _r=Fe.aLastSort,$r=Fe.oClasses.sSortColumn,Br=_fnSortFlatten(Fe),Fr=Fe.oFeatures,zr,jr,Ur;if(Fr.bSort&&Fr.bSortClasses){for(zr=0,jr=_r.length;zr<jr;zr++)Ur=_r[zr].src,$$2(_pluck(Fe.aoData,"anCells",Ur)).removeClass($r+(zr<2?zr+1:3));for(zr=0,jr=Br.length;zr<jr;zr++)Ur=Br[zr].src,$$2(_pluck(Fe.aoData,"anCells",Ur)).addClass($r+(zr<2?zr+1:3))}Fe.aLastSort=Br}function _fnSortData(Fe,_r){var $r=Fe.aoColumns[_r],Br=DataTable.ext.order[$r.sSortDataType],Fr;Br&&(Fr=Br.call(Fe.oInstance,Fe,_r,_fnColumnIndexToVisible(Fe,_r)));for(var zr,jr,Ur=DataTable.ext.type.order[$r.sType+"-pre"],Gr=0,Yr=Fe.aoData.length;Gr<Yr;Gr++)zr=Fe.aoData[Gr],zr._aSortData||(zr._aSortData=[]),(!zr._aSortData[_r]||Br)&&(jr=Br?Fr[Gr]:_fnGetCellData(Fe,Gr,_r,"sort"),zr._aSortData[_r]=Ur?Ur(jr):jr)}function _fnSaveState(Fe){if(!Fe._bLoadingState){var _r={time:+new Date,start:Fe._iDisplayStart,length:Fe._iDisplayLength,order:$$2.extend(!0,[],Fe.aaSorting),search:_fnSearchToCamel(Fe.oPreviousSearch),columns:$$2.map(Fe.aoColumns,function($r,Br){return{visible:$r.bVisible,search:_fnSearchToCamel(Fe.aoPreSearchCols[Br])}})};Fe.oSavedState=_r,_fnCallbackFire(Fe,"aoStateSaveParams","stateSaveParams",[Fe,_r]),Fe.oFeatures.bStateSave&&!Fe.bDestroying&&Fe.fnStateSaveCallback.call(Fe.oInstance,Fe,_r)}}function _fnLoadState(Fe,_r,$r){if(!Fe.oFeatures.bStateSave){$r();return}var Br=function(zr){_fnImplementState(Fe,zr,$r)},Fr=Fe.fnStateLoadCallback.call(Fe.oInstance,Fe,Br);return Fr!==void 0&&_fnImplementState(Fe,Fr,$r),!0}function _fnImplementState(Fe,_r,$r){var Br,Fr,zr=Fe.aoColumns;Fe._bLoadingState=!0;var jr=Fe._bInitComplete?new DataTable.Api(Fe):null;if(!_r||!_r.time){Fe._bLoadingState=!1,$r();return}var Ur=_fnCallbackFire(Fe,"aoStateLoadParams","stateLoadParams",[Fe,_r]);if($$2.inArray(!1,Ur)!==-1){Fe._bLoadingState=!1,$r();return}var Gr=Fe.iStateDuration;if(Gr>0&&_r.time<+new Date-Gr*1e3){Fe._bLoadingState=!1,$r();return}if(_r.columns&&zr.length!==_r.columns.length){Fe._bLoadingState=!1,$r();return}if(Fe.oLoadedState=$$2.extend(!0,{},_r),_r.length!==void 0&&(jr?jr.page.len(_r.length):Fe._iDisplayLength=_r.length),_r.start!==void 0&&(jr===null?(Fe._iDisplayStart=_r.start,Fe.iInitDisplayStart=_r.start):_fnPageChange(Fe,_r.start/Fe._iDisplayLength)),_r.order!==void 0&&(Fe.aaSorting=[],$$2.each(_r.order,function(Kr,Qr){Fe.aaSorting.push(Qr[0]>=zr.length?[0,Qr[1]]:Qr)})),_r.search!==void 0&&$$2.extend(Fe.oPreviousSearch,_fnSearchToHung(_r.search)),_r.columns){for(Br=0,Fr=_r.columns.length;Br<Fr;Br++){var Yr=_r.columns[Br];Yr.visible!==void 0&&(jr?jr.column(Br).visible(Yr.visible,!1):zr[Br].bVisible=Yr.visible),Yr.search!==void 0&&$$2.extend(Fe.aoPreSearchCols[Br],_fnSearchToHung(Yr.search))}jr&&jr.columns.adjust()}Fe._bLoadingState=!1,_fnCallbackFire(Fe,"aoStateLoaded","stateLoaded",[Fe,_r]),$r()}function _fnSettingsFromNode(Fe){var _r=DataTable.settings,$r=$$2.inArray(Fe,_pluck(_r,"nTable"));return $r!==-1?_r[$r]:null}function _fnLog(Fe,_r,$r,Br){if($r="DataTables warning: "+(Fe?"table id="+Fe.sTableId+" - ":"")+$r,Br&&($r+=". For more information about this error, please see https://datatables.net/tn/"+Br),_r)window.console&&console.log&&console.log($r);else{var Fr=DataTable.ext,zr=Fr.sErrMode||Fr.errMode;if(Fe&&_fnCallbackFire(Fe,null,"error",[Fe,Br,$r]),zr=="alert")alert($r);else{if(zr=="throw")throw new Error($r);typeof zr=="function"&&zr(Fe,Br,$r)}}}function _fnMap(Fe,_r,$r,Br){if(Array.isArray($r)){$$2.each($r,function(Fr,zr){Array.isArray(zr)?_fnMap(Fe,_r,zr[0],zr[1]):_fnMap(Fe,_r,zr)});return}Br===void 0&&(Br=$r),_r[$r]!==void 0&&(Fe[Br]=_r[$r])}function _fnExtend(Fe,_r,$r){var Br;for(var Fr in _r)_r.hasOwnProperty(Fr)&&(Br=_r[Fr],$$2.isPlainObject(Br)?($$2.isPlainObject(Fe[Fr])||(Fe[Fr]={}),$$2.extend(!0,Fe[Fr],Br)):$r&&Fr!=="data"&&Fr!=="aaData"&&Array.isArray(Br)?Fe[Fr]=Br.slice():Fe[Fr]=Br);return Fe}function _fnBindAction(Fe,_r,$r){$$2(Fe).on("click.DT",_r,function(Br){$$2(Fe).trigger("blur"),$r(Br)}).on("keypress.DT",_r,function(Br){Br.which===13&&(Br.preventDefault(),$r(Br))}).on("selectstart.DT",function(){return!1})}function _fnCallbackReg(Fe,_r,$r,Br){$r&&Fe[_r].push({fn:$r,sName:Br})}function _fnCallbackFire(Fe,_r,$r,Br){var Fr=[];if(_r&&(Fr=$$2.map(Fe[_r].slice().reverse(),function(Ur,Gr){return Ur.fn.apply(Fe.oInstance,Br)})),$r!==null){var zr=$$2.Event($r+".dt"),jr=$$2(Fe.nTable);jr.trigger(zr,Br),jr.parents("body").length===0&&$$2("body").trigger(zr,Br),Fr.push(zr.result)}return Fr}function _fnLengthOverflow(Fe){var _r=Fe._iDisplayStart,$r=Fe.fnDisplayEnd(),Br=Fe._iDisplayLength;_r>=$r&&(_r=$r-Br),_r-=_r%Br,(Br===-1||_r<0)&&(_r=0),Fe._iDisplayStart=_r}function _fnRenderer(Fe,_r){var $r=Fe.renderer,Br=DataTable.ext.renderer[_r];return $$2.isPlainObject($r)&&$r[_r]?Br[$r[_r]]||Br._:typeof $r=="string"&&Br[$r]||Br._}function _fnDataSource(Fe){return Fe.oFeatures.bServerSide?"ssp":Fe.ajax||Fe.sAjaxSource?"ajax":"dom"}var __apiStruct=[],__arrayProto=Array.prototype,_toSettings=function(Fe){var _r,$r,Br=DataTable.settings,Fr=$$2.map(Br,function(zr,jr){return zr.nTable});if(Fe){if(Fe.nTable&&Fe.oApi)return[Fe];if(Fe.nodeName&&Fe.nodeName.toLowerCase()==="table")return _r=$$2.inArray(Fe,Fr),_r!==-1?[Br[_r]]:null;if(Fe&&typeof Fe.settings=="function")return Fe.settings().toArray();typeof Fe=="string"?$r=$$2(Fe):Fe instanceof $$2&&($r=Fe)}else return[];if($r)return $r.map(function(zr){return _r=$$2.inArray(this,Fr),_r!==-1?Br[_r]:null}).toArray()};_Api=function(Fe,_r){if(!(this instanceof _Api))return new _Api(Fe,_r);var $r=[],Br=function(jr){var Ur=_toSettings(jr);Ur&&$r.push.apply($r,Ur)};if(Array.isArray(Fe))for(var Fr=0,zr=Fe.length;Fr<zr;Fr++)Br(Fe[Fr]);else Br(Fe);this.context=_unique($r),_r&&$$2.merge(this,_r),this.selector={rows:null,cols:null,opts:null},_Api.extend(this,this,__apiStruct)};DataTable.Api=_Api;$$2.extend(_Api.prototype,{any:function(){return this.count()!==0},concat:__arrayProto.concat,context:[],count:function(){return this.flatten().length},each:function(Fe){for(var _r=0,$r=this.length;_r<$r;_r++)Fe.call(this,this[_r],_r,this);return this},eq:function(Fe){var _r=this.context;return _r.length>Fe?new _Api(_r[Fe],this[Fe]):null},filter:function(Fe){var _r=[];if(__arrayProto.filter)_r=__arrayProto.filter.call(this,Fe,this);else for(var $r=0,Br=this.length;$r<Br;$r++)Fe.call(this,this[$r],$r,this)&&_r.push(this[$r]);return new _Api(this.context,_r)},flatten:function(){var Fe=[];return new _Api(this.context,Fe.concat.apply(Fe,this.toArray()))},join:__arrayProto.join,indexOf:__arrayProto.indexOf||function(Fe,_r){for(var $r=_r||0,Br=this.length;$r<Br;$r++)if(this[$r]===Fe)return $r;return-1},iterator:function(Fe,_r,$r,Br){var Fr=[],zr,jr,Ur,Gr,Yr,Kr=this.context,Qr,Jr,rn,an=this.selector;for(typeof Fe=="string"&&(Br=$r,$r=_r,_r=Fe,Fe=!1),jr=0,Ur=Kr.length;jr<Ur;jr++){var ln=new _Api(Kr[jr]);if(_r==="table")zr=$r.call(ln,Kr[jr],jr),zr!==void 0&&Fr.push(zr);else if(_r==="columns"||_r==="rows")zr=$r.call(ln,Kr[jr],this[jr],jr),zr!==void 0&&Fr.push(zr);else if(_r==="column"||_r==="column-rows"||_r==="row"||_r==="cell")for(Jr=this[jr],_r==="column-rows"&&(Qr=_selector_row_indexes(Kr[jr],an.opts)),Gr=0,Yr=Jr.length;Gr<Yr;Gr++)rn=Jr[Gr],_r==="cell"?zr=$r.call(ln,Kr[jr],rn.row,rn.column,jr,Gr):zr=$r.call(ln,Kr[jr],rn,jr,Gr,Qr),zr!==void 0&&Fr.push(zr)}if(Fr.length||Br){var dn=new _Api(Kr,Fe?Fr.concat.apply([],Fr):Fr),hn=dn.selector;return hn.rows=an.rows,hn.cols=an.cols,hn.opts=an.opts,dn}return this},lastIndexOf:__arrayProto.lastIndexOf||function(Fe,_r){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(Fe){var _r=[];if(__arrayProto.map)_r=__arrayProto.map.call(this,Fe,this);else for(var $r=0,Br=this.length;$r<Br;$r++)_r.push(Fe.call(this,this[$r],$r));return new _Api(this.context,_r)},pluck:function(Fe){var _r=DataTable.util.get(Fe);return this.map(function($r){return _r($r)})},pop:__arrayProto.pop,push:__arrayProto.push,reduce:__arrayProto.reduce||function(Fe,_r){return _fnReduce(this,Fe,_r,0,this.length,1)},reduceRight:__arrayProto.reduceRight||function(Fe,_r){return _fnReduce(this,Fe,_r,this.length-1,-1,-1)},reverse:__arrayProto.reverse,selector:null,shift:__arrayProto.shift,slice:function(){return new _Api(this.context,this)},sort:__arrayProto.sort,splice:__arrayProto.splice,toArray:function(){return __arrayProto.slice.call(this)},to$:function(){return $$2(this)},toJQuery:function(){return $$2(this)},unique:function(){return new _Api(this.context,_unique(this))},unshift:__arrayProto.unshift});_Api.extend=function(Fe,_r,$r){if(!(!$r.length||!_r||!(_r instanceof _Api)&&!_r.__dt_wrapper)){var Br,Fr,zr,jr=function(Ur,Gr,Yr){return function(){var Kr=Gr.apply(Ur,arguments);return _Api.extend(Kr,Kr,Yr.methodExt),Kr}};for(Br=0,Fr=$r.length;Br<Fr;Br++)zr=$r[Br],_r[zr.name]=zr.type==="function"?jr(Fe,zr.val,zr):zr.type==="object"?{}:zr.val,_r[zr.name].__dt_wrapper=!0,_Api.extend(Fe,_r[zr.name],zr.propExt)}};_Api.register=_api_register=function(Fe,_r){if(Array.isArray(Fe)){for(var $r=0,Br=Fe.length;$r<Br;$r++)_Api.register(Fe[$r],_r);return}var Fr,zr,jr=Fe.split("."),Ur=__apiStruct,Gr,Yr,Kr=function(Jr,rn){for(var an=0,ln=Jr.length;an<ln;an++)if(Jr[an].name===rn)return Jr[an];return null};for(Fr=0,zr=jr.length;Fr<zr;Fr++){Yr=jr[Fr].indexOf("()")!==-1,Gr=Yr?jr[Fr].replace("()",""):jr[Fr];var Qr=Kr(Ur,Gr);Qr||(Qr={name:Gr,val:{},methodExt:[],propExt:[],type:"object"},Ur.push(Qr)),Fr===zr-1?(Qr.val=_r,Qr.type=typeof _r=="function"?"function":$$2.isPlainObject(_r)?"object":"other"):Ur=Yr?Qr.methodExt:Qr.propExt}};_Api.registerPlural=_api_registerPlural=function(Fe,_r,$r){_Api.register(Fe,$r),_Api.register(_r,function(){var Br=$r.apply(this,arguments);return Br===this?this:Br instanceof _Api?Br.length?Array.isArray(Br[0])?new _Api(Br.context,Br[0]):Br[0]:void 0:Br})};var __table_selector=function(Fe,_r){if(Array.isArray(Fe))return $$2.map(Fe,function(Br){return __table_selector(Br,_r)});if(typeof Fe=="number")return[_r[Fe]];var $r=$$2.map(_r,function(Br,Fr){return Br.nTable});return $$2($r).filter(Fe).map(function(Br){var Fr=$$2.inArray(this,$r);return _r[Fr]}).toArray()};_api_register("tables()",function(Fe){return Fe!=null?new _Api(__table_selector(Fe,this.context)):this});_api_register("table()",function(Fe){var _r=this.tables(Fe),$r=_r.context;return $r.length?new _Api($r[0]):_r});_api_registerPlural("tables().nodes()","table().node()",function(){return this.iterator("table",function(Fe){return Fe.nTable},1)});_api_registerPlural("tables().body()","table().body()",function(){return this.iterator("table",function(Fe){return Fe.nTBody},1)});_api_registerPlural("tables().header()","table().header()",function(){return this.iterator("table",function(Fe){return Fe.nTHead},1)});_api_registerPlural("tables().footer()","table().footer()",function(){return this.iterator("table",function(Fe){return Fe.nTFoot},1)});_api_registerPlural("tables().containers()","table().container()",function(){return this.iterator("table",function(Fe){return Fe.nTableWrapper},1)});_api_register("draw()",function(Fe){return this.iterator("table",function(_r){Fe==="page"?_fnDraw(_r):(typeof Fe=="string"&&(Fe=Fe!=="full-hold"),_fnReDraw(_r,Fe===!1))})});_api_register("page()",function(Fe){return Fe===void 0?this.page.info().page:this.iterator("table",function(_r){_fnPageChange(_r,Fe)})});_api_register("page.info()",function(Fe){if(this.context.length!==0){var _r=this.context[0],$r=_r._iDisplayStart,Br=_r.oFeatures.bPaginate?_r._iDisplayLength:-1,Fr=_r.fnRecordsDisplay(),zr=Br===-1;return{page:zr?0:Math.floor($r/Br),pages:zr?1:Math.ceil(Fr/Br),start:$r,end:_r.fnDisplayEnd(),length:Br,recordsTotal:_r.fnRecordsTotal(),recordsDisplay:Fr,serverSide:_fnDataSource(_r)==="ssp"}}});_api_register("page.len()",function(Fe){return Fe===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(_r){_fnLengthChange(_r,Fe)})});var __reload=function(Fe,_r,$r){if($r){var Br=new _Api(Fe);Br.one("draw",function(){$r(Br.ajax.json())})}if(_fnDataSource(Fe)=="ssp")_fnReDraw(Fe,_r);else{_fnProcessingDisplay(Fe,!0);var Fr=Fe.jqXHR;Fr&&Fr.readyState!==4&&Fr.abort(),_fnBuildAjax(Fe,[],function(zr){_fnClearTable(Fe);for(var jr=_fnAjaxDataSrc(Fe,zr),Ur=0,Gr=jr.length;Ur<Gr;Ur++)_fnAddData(Fe,jr[Ur]);_fnReDraw(Fe,_r),_fnProcessingDisplay(Fe,!1)})}};_api_register("ajax.json()",function(){var Fe=this.context;if(Fe.length>0)return Fe[0].json});_api_register("ajax.params()",function(){var Fe=this.context;if(Fe.length>0)return Fe[0].oAjaxData});_api_register("ajax.reload()",function(Fe,_r){return this.iterator("table",function($r){__reload($r,_r===!1,Fe)})});_api_register("ajax.url()",function(Fe){var _r=this.context;return Fe===void 0?_r.length===0?void 0:(_r=_r[0],_r.ajax?$$2.isPlainObject(_r.ajax)?_r.ajax.url:_r.ajax:_r.sAjaxSource):this.iterator("table",function($r){$$2.isPlainObject($r.ajax)?$r.ajax.url=Fe:$r.ajax=Fe})});_api_register("ajax.url().load()",function(Fe,_r){return this.iterator("table",function($r){__reload($r,_r===!1,Fe)})});var _selector_run=function(Fe,_r,$r,Br,Fr){var zr=[],jr,Ur,Gr,Yr,Kr,Qr,Jr=typeof _r;for((!_r||Jr==="string"||Jr==="function"||_r.length===void 0)&&(_r=[_r]),Gr=0,Yr=_r.length;Gr<Yr;Gr++)for(Ur=_r[Gr]&&_r[Gr].split&&!_r[Gr].match(/[\[\(:]/)?_r[Gr].split(","):[_r[Gr]],Kr=0,Qr=Ur.length;Kr<Qr;Kr++)jr=$r(typeof Ur[Kr]=="string"?Ur[Kr].trim():Ur[Kr]),jr&&jr.length&&(zr=zr.concat(jr));var rn=_ext.selector[Fe];if(rn.length)for(Gr=0,Yr=rn.length;Gr<Yr;Gr++)zr=rn[Gr](Br,Fr,zr);return _unique(zr)},_selector_opts=function(Fe){return Fe||(Fe={}),Fe.filter&&Fe.search===void 0&&(Fe.search=Fe.filter),$$2.extend({search:"none",order:"current",page:"all"},Fe)},_selector_first=function(Fe){for(var _r=0,$r=Fe.length;_r<$r;_r++)if(Fe[_r].length>0)return Fe[0]=Fe[_r],Fe[0].length=1,Fe.length=1,Fe.context=[Fe.context[_r]],Fe;return Fe.length=0,Fe},_selector_row_indexes=function(Fe,_r){var $r,Br,Fr,zr=[],jr=Fe.aiDisplay,Ur=Fe.aiDisplayMaster,Gr=_r.search,Yr=_r.order,Kr=_r.page;if(_fnDataSource(Fe)=="ssp")return Gr==="removed"?[]:_range(0,Ur.length);if(Kr=="current")for($r=Fe._iDisplayStart,Br=Fe.fnDisplayEnd();$r<Br;$r++)zr.push(jr[$r]);else if(Yr=="current"||Yr=="applied"){if(Gr=="none")zr=Ur.slice();else if(Gr=="applied")zr=jr.slice();else if(Gr=="removed"){for(var Qr={},$r=0,Br=jr.length;$r<Br;$r++)Qr[jr[$r]]=null;zr=$$2.map(Ur,function(Jr){return Qr.hasOwnProperty(Jr)?null:Jr})}}else if(Yr=="index"||Yr=="original")for($r=0,Br=Fe.aoData.length;$r<Br;$r++)Gr=="none"?zr.push($r):(Fr=$$2.inArray($r,jr),(Fr===-1&&Gr=="removed"||Fr>=0&&Gr=="applied")&&zr.push($r));return zr},__row_selector=function(Fe,_r,$r){var Br,Fr=function(zr){var jr=_intVal(zr),Ur=Fe.aoData;if(jr!==null&&!$r)return[jr];if(Br||(Br=_selector_row_indexes(Fe,$r)),jr!==null&&$$2.inArray(jr,Br)!==-1)return[jr];if(zr==null||zr==="")return Br;if(typeof zr=="function")return $$2.map(Br,function(rn){var an=Ur[rn];return zr(rn,an._aData,an.nTr)?rn:null});if(zr.nodeName){var Gr=zr._DT_RowIndex,Yr=zr._DT_CellIndex;if(Gr!==void 0)return Ur[Gr]&&Ur[Gr].nTr===zr?[Gr]:[];if(Yr)return Ur[Yr.row]&&Ur[Yr.row].nTr===zr.parentNode?[Yr.row]:[];var Kr=$$2(zr).closest("*[data-dt-row]");return Kr.length?[Kr.data("dt-row")]:[]}if(typeof zr=="string"&&zr.charAt(0)==="#"){var Qr=Fe.aIds[zr.replace(/^#/,"")];if(Qr!==void 0)return[Qr.idx]}var Jr=_removeEmpty(_pluck_order(Fe.aoData,Br,"nTr"));return $$2(Jr).filter(zr).map(function(){return this._DT_RowIndex}).toArray()};return _selector_run("row",_r,Fr,Fe,$r)};_api_register("rows()",function(Fe,_r){Fe===void 0?Fe="":$$2.isPlainObject(Fe)&&(_r=Fe,Fe=""),_r=_selector_opts(_r);var $r=this.iterator("table",function(Br){return __row_selector(Br,Fe,_r)},1);return $r.selector.rows=Fe,$r.selector.opts=_r,$r});_api_register("rows().nodes()",function(){return this.iterator("row",function(Fe,_r){return Fe.aoData[_r].nTr||void 0},1)});_api_register("rows().data()",function(){return this.iterator(!0,"rows",function(Fe,_r){return _pluck_order(Fe.aoData,_r,"_aData")},1)});_api_registerPlural("rows().cache()","row().cache()",function(Fe){return this.iterator("row",function(_r,$r){var Br=_r.aoData[$r];return Fe==="search"?Br._aFilterData:Br._aSortData},1)});_api_registerPlural("rows().invalidate()","row().invalidate()",function(Fe){return this.iterator("row",function(_r,$r){_fnInvalidate(_r,$r,Fe)})});_api_registerPlural("rows().indexes()","row().index()",function(){return this.iterator("row",function(Fe,_r){return _r},1)});_api_registerPlural("rows().ids()","row().id()",function(Fe){for(var _r=[],$r=this.context,Br=0,Fr=$r.length;Br<Fr;Br++)for(var zr=0,jr=this[Br].length;zr<jr;zr++){var Ur=$r[Br].rowIdFn($r[Br].aoData[this[Br][zr]]._aData);_r.push((Fe===!0?"#":"")+Ur)}return new _Api($r,_r)});_api_registerPlural("rows().remove()","row().remove()",function(){var Fe=this;return this.iterator("row",function(_r,$r,Br){var Fr=_r.aoData,zr=Fr[$r],jr,Ur,Gr,Yr,Kr,Qr;for(Fr.splice($r,1),jr=0,Ur=Fr.length;jr<Ur;jr++)if(Kr=Fr[jr],Qr=Kr.anCells,Kr.nTr!==null&&(Kr.nTr._DT_RowIndex=jr),Qr!==null)for(Gr=0,Yr=Qr.length;Gr<Yr;Gr++)Qr[Gr]._DT_CellIndex.row=jr;_fnDeleteIndex(_r.aiDisplayMaster,$r),_fnDeleteIndex(_r.aiDisplay,$r),_fnDeleteIndex(Fe[Br],$r,!1),_r._iRecordsDisplay>0&&_r._iRecordsDisplay--,_fnLengthOverflow(_r);var Jr=_r.rowIdFn(zr._aData);Jr!==void 0&&delete _r.aIds[Jr]}),this.iterator("table",function(_r){for(var $r=0,Br=_r.aoData.length;$r<Br;$r++)_r.aoData[$r].idx=$r}),this});_api_register("rows.add()",function(Fe){var _r=this.iterator("table",function(Br){var Fr,zr,jr,Ur=[];for(zr=0,jr=Fe.length;zr<jr;zr++)Fr=Fe[zr],Fr.nodeName&&Fr.nodeName.toUpperCase()==="TR"?Ur.push(_fnAddTr(Br,Fr)[0]):Ur.push(_fnAddData(Br,Fr));return Ur},1),$r=this.rows(-1);return $r.pop(),$$2.merge($r,_r),$r});_api_register("row()",function(Fe,_r){return _selector_first(this.rows(Fe,_r))});_api_register("row().data()",function(Fe){var _r=this.context;if(Fe===void 0)return _r.length&&this.length?_r[0].aoData[this[0]]._aData:void 0;var $r=_r[0].aoData[this[0]];return $r._aData=Fe,Array.isArray(Fe)&&$r.nTr&&$r.nTr.id&&_fnSetObjectDataFn(_r[0].rowId)(Fe,$r.nTr.id),_fnInvalidate(_r[0],this[0],"data"),this});_api_register("row().node()",function(){var Fe=this.context;return Fe.length&&this.length&&Fe[0].aoData[this[0]].nTr||null});_api_register("row.add()",function(Fe){Fe instanceof $$2&&Fe.length&&(Fe=Fe[0]);var _r=this.iterator("table",function($r){return Fe.nodeName&&Fe.nodeName.toUpperCase()==="TR"?_fnAddTr($r,Fe)[0]:_fnAddData($r,Fe)});return this.row(_r[0])});$$2(document).on("plugin-init.dt",function(Fe,_r){var $r=new _Api(_r),Br="on-plugin-init",Fr="stateSaveParams."+Br,zr="destroy. "+Br;$r.on(Fr,function(Ur,Gr,Yr){for(var Kr=Gr.rowIdFn,Qr=Gr.aoData,Jr=[],rn=0;rn<Qr.length;rn++)Qr[rn]._detailsShow&&Jr.push("#"+Kr(Qr[rn]._aData));Yr.childRows=Jr}),$r.on(zr,function(){$r.off(Fr+" "+zr)});var jr=$r.state.loaded();jr&&jr.childRows&&$r.rows($$2.map(jr.childRows,function(Ur){return Ur.replace(/:/g,"\\:")})).every(function(){_fnCallbackFire(_r,null,"requestChild",[this])})});var __details_add=function(Fe,_r,$r,Br){var Fr=[],zr=function(jr,Ur){if(Array.isArray(jr)||jr instanceof $$2){for(var Gr=0,Yr=jr.length;Gr<Yr;Gr++)zr(jr[Gr],Ur);return}if(jr.nodeName&&jr.nodeName.toLowerCase()==="tr")Fr.push(jr);else{var Kr=$$2("<tr><td></td></tr>").addClass(Ur);$$2("td",Kr).addClass(Ur).html(jr)[0].colSpan=_fnVisbleColumns(Fe),Fr.push(Kr[0])}};zr($r,Br),_r._details&&_r._details.detach(),_r._details=$$2(Fr),_r._detailsShow&&_r._details.insertAfter(_r.nTr)},__details_state=DataTable.util.throttle(function(Fe){_fnSaveState(Fe[0])},500),__details_remove=function(Fe,_r){var $r=Fe.context;if($r.length){var Br=$r[0].aoData[_r!==void 0?_r:Fe[0]];Br&&Br._details&&(Br._details.remove(),Br._detailsShow=void 0,Br._details=void 0,$$2(Br.nTr).removeClass("dt-hasChild"),__details_state($r))}},__details_display=function(Fe,_r){var $r=Fe.context;if($r.length&&Fe.length){var Br=$r[0].aoData[Fe[0]];Br._details&&(Br._detailsShow=_r,_r?(Br._details.insertAfter(Br.nTr),$$2(Br.nTr).addClass("dt-hasChild")):(Br._details.detach(),$$2(Br.nTr).removeClass("dt-hasChild")),_fnCallbackFire($r[0],null,"childRow",[_r,Fe.row(Fe[0])]),__details_events($r[0]),__details_state($r))}},__details_events=function(Fe){var _r=new _Api(Fe),$r=".dt.DT_details",Br="draw"+$r,Fr="column-sizing"+$r,zr="destroy"+$r,jr=Fe.aoData;_r.off(Br+" "+Fr+" "+zr),_pluck(jr,"_details").length>0&&(_r.on(Br,function(Ur,Gr){Fe===Gr&&_r.rows({page:"current"}).eq(0).each(function(Yr){var Kr=jr[Yr];Kr._detailsShow&&Kr._details.insertAfter(Kr.nTr)})}),_r.on(Fr,function(Ur,Gr,Yr,Kr){if(Fe===Gr)for(var Qr,Jr=_fnVisbleColumns(Gr),rn=0,an=jr.length;rn<an;rn++)Qr=jr[rn],Qr._details&&Qr._details.children("td[colspan]").attr("colspan",Jr)}),_r.on(zr,function(Ur,Gr){if(Fe===Gr)for(var Yr=0,Kr=jr.length;Yr<Kr;Yr++)jr[Yr]._details&&__details_remove(_r,Yr)}))},_emp="",_child_obj=_emp+"row().child",_child_mth=_child_obj+"()";_api_register(_child_mth,function(Fe,_r){var $r=this.context;return Fe===void 0?$r.length&&this.length?$r[0].aoData[this[0]]._details:void 0:(Fe===!0?this.child.show():Fe===!1?__details_remove(this):$r.length&&this.length&&__details_add($r[0],$r[0].aoData[this[0]],Fe,_r),this)});_api_register([_child_obj+".show()",_child_mth+".show()"],function(Fe){return __details_display(this,!0),this});_api_register([_child_obj+".hide()",_child_mth+".hide()"],function(){return __details_display(this,!1),this});_api_register([_child_obj+".remove()",_child_mth+".remove()"],function(){return __details_remove(this),this});_api_register(_child_obj+".isShown()",function(){var Fe=this.context;return Fe.length&&this.length&&Fe[0].aoData[this[0]]._detailsShow||!1});var __re_column_selector=/^([^:]+):(name|visIdx|visible)$/,__columnData=function(Fe,_r,$r,Br,Fr){for(var zr=[],jr=0,Ur=Fr.length;jr<Ur;jr++)zr.push(_fnGetCellData(Fe,Fr[jr],_r));return zr},__column_selector=function(Fe,_r,$r){var Br=Fe.aoColumns,Fr=_pluck(Br,"sName"),zr=_pluck(Br,"nTh"),jr=function(Ur){var Gr=_intVal(Ur);if(Ur==="")return _range(Br.length);if(Gr!==null)return[Gr>=0?Gr:Br.length+Gr];if(typeof Ur=="function"){var Yr=_selector_row_indexes(Fe,$r);return $$2.map(Br,function(ln,dn){return Ur(dn,__columnData(Fe,dn,0,0,Yr),zr[dn])?dn:null})}var Kr=typeof Ur=="string"?Ur.match(__re_column_selector):"";if(Kr)switch(Kr[2]){case"visIdx":case"visible":var Qr=parseInt(Kr[1],10);if(Qr<0){var Jr=$$2.map(Br,function(ln,dn){return ln.bVisible?dn:null});return[Jr[Jr.length+Qr]]}return[_fnVisibleToColumnIndex(Fe,Qr)];case"name":return $$2.map(Fr,function(ln,dn){return ln===Kr[1]?dn:null});default:return[]}if(Ur.nodeName&&Ur._DT_CellIndex)return[Ur._DT_CellIndex.column];var rn=$$2(zr).filter(Ur).map(function(){return $$2.inArray(this,zr)}).toArray();if(rn.length||!Ur.nodeName)return rn;var an=$$2(Ur).closest("*[data-dt-column]");return an.length?[an.data("dt-column")]:[]};return _selector_run("column",_r,jr,Fe,$r)},__setColumnVis=function(Fe,_r,$r){var Br=Fe.aoColumns,Fr=Br[_r],zr=Fe.aoData,jr,Ur,Gr,Yr;if($r===void 0)return Fr.bVisible;if(Fr.bVisible!==$r){if($r){var Kr=$$2.inArray(!0,_pluck(Br,"bVisible"),_r+1);for(Ur=0,Gr=zr.length;Ur<Gr;Ur++)Yr=zr[Ur].nTr,jr=zr[Ur].anCells,Yr&&Yr.insertBefore(jr[_r],jr[Kr]||null)}else $$2(_pluck(Fe.aoData,"anCells",_r)).detach();Fr.bVisible=$r}};_api_register("columns()",function(Fe,_r){Fe===void 0?Fe="":$$2.isPlainObject(Fe)&&(_r=Fe,Fe=""),_r=_selector_opts(_r);var $r=this.iterator("table",function(Br){return __column_selector(Br,Fe,_r)},1);return $r.selector.cols=Fe,$r.selector.opts=_r,$r});_api_registerPlural("columns().header()","column().header()",function(Fe,_r){return this.iterator("column",function($r,Br){return $r.aoColumns[Br].nTh},1)});_api_registerPlural("columns().footer()","column().footer()",function(Fe,_r){return this.iterator("column",function($r,Br){return $r.aoColumns[Br].nTf},1)});_api_registerPlural("columns().data()","column().data()",function(){return this.iterator("column-rows",__columnData,1)});_api_registerPlural("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(Fe,_r){return Fe.aoColumns[_r].mData},1)});_api_registerPlural("columns().cache()","column().cache()",function(Fe){return this.iterator("column-rows",function(_r,$r,Br,Fr,zr){return _pluck_order(_r.aoData,zr,Fe==="search"?"_aFilterData":"_aSortData",$r)},1)});_api_registerPlural("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(Fe,_r,$r,Br,Fr){return _pluck_order(Fe.aoData,Fr,"anCells",_r)},1)});_api_registerPlural("columns().visible()","column().visible()",function(Fe,_r){var $r=this,Br=this.iterator("column",function(Fr,zr){if(Fe===void 0)return Fr.aoColumns[zr].bVisible;__setColumnVis(Fr,zr,Fe)});return Fe!==void 0&&this.iterator("table",function(Fr){_fnDrawHead(Fr,Fr.aoHeader),_fnDrawHead(Fr,Fr.aoFooter),Fr.aiDisplay.length||$$2(Fr.nTBody).find("td[colspan]").attr("colspan",_fnVisbleColumns(Fr)),_fnSaveState(Fr),$r.iterator("column",function(zr,jr){_fnCallbackFire(zr,null,"column-visibility",[zr,jr,Fe,_r])}),(_r===void 0||_r)&&$r.columns.adjust()}),Br});_api_registerPlural("columns().indexes()","column().index()",function(Fe){return this.iterator("column",function(_r,$r){return Fe==="visible"?_fnColumnIndexToVisible(_r,$r):$r},1)});_api_register("columns.adjust()",function(){return this.iterator("table",function(Fe){_fnAdjustColumnSizing(Fe)},1)});_api_register("column.index()",function(Fe,_r){if(this.context.length!==0){var $r=this.context[0];if(Fe==="fromVisible"||Fe==="toData")return _fnVisibleToColumnIndex($r,_r);if(Fe==="fromData"||Fe==="toVisible")return _fnColumnIndexToVisible($r,_r)}});_api_register("column()",function(Fe,_r){return _selector_first(this.columns(Fe,_r))});var __cell_selector=function(Fe,_r,$r){var Br=Fe.aoData,Fr=_selector_row_indexes(Fe,$r),zr=_removeEmpty(_pluck_order(Br,Fr,"anCells")),jr=$$2(_flatten([],zr)),Ur,Gr=Fe.aoColumns.length,Yr,Kr,Qr,Jr,rn,an,ln=function(dn){var hn=typeof dn=="function";if(dn==null||hn){for(Yr=[],Kr=0,Qr=Fr.length;Kr<Qr;Kr++)for(Ur=Fr[Kr],Jr=0;Jr<Gr;Jr++)rn={row:Ur,column:Jr},hn?(an=Br[Ur],dn(rn,_fnGetCellData(Fe,Ur,Jr),an.anCells?an.anCells[Jr]:null)&&Yr.push(rn)):Yr.push(rn);return Yr}if($$2.isPlainObject(dn))return dn.column!==void 0&&dn.row!==void 0&&$$2.inArray(dn.row,Fr)!==-1?[dn]:[];var gn=jr.filter(dn).map(function(bn,kn){return{row:kn._DT_CellIndex.row,column:kn._DT_CellIndex.column}}).toArray();return gn.length||!dn.nodeName?gn:(an=$$2(dn).closest("*[data-dt-row]"),an.length?[{row:an.data("dt-row"),column:an.data("dt-column")}]:[])};return _selector_run("cell",_r,ln,Fe,$r)};_api_register("cells()",function(Fe,_r,$r){if($$2.isPlainObject(Fe)&&(Fe.row===void 0?($r=Fe,Fe=null):($r=_r,_r=null)),$$2.isPlainObject(_r)&&($r=_r,_r=null),_r==null)return this.iterator("table",function(Jr){return __cell_selector(Jr,Fe,_selector_opts($r))});var Br=$r?{page:$r.page,order:$r.order,search:$r.search}:{},Fr=this.columns(_r,Br),zr=this.rows(Fe,Br),jr,Ur,Gr,Yr,Kr=this.iterator("table",function(Jr,rn){var an=[];for(jr=0,Ur=zr[rn].length;jr<Ur;jr++)for(Gr=0,Yr=Fr[rn].length;Gr<Yr;Gr++)an.push({row:zr[rn][jr],column:Fr[rn][Gr]});return an},1),Qr=$r&&$r.selected?this.cells(Kr,$r):Kr;return $$2.extend(Qr.selector,{cols:_r,rows:Fe,opts:$r}),Qr});_api_registerPlural("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(Fe,_r,$r){var Br=Fe.aoData[_r];return Br&&Br.anCells?Br.anCells[$r]:void 0},1)});_api_register("cells().data()",function(){return this.iterator("cell",function(Fe,_r,$r){return _fnGetCellData(Fe,_r,$r)},1)});_api_registerPlural("cells().cache()","cell().cache()",function(Fe){return Fe=Fe==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(_r,$r,Br){return _r.aoData[$r][Fe][Br]},1)});_api_registerPlural("cells().render()","cell().render()",function(Fe){return this.iterator("cell",function(_r,$r,Br){return _fnGetCellData(_r,$r,Br,Fe)},1)});_api_registerPlural("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(Fe,_r,$r){return{row:_r,column:$r,columnVisible:_fnColumnIndexToVisible(Fe,$r)}},1)});_api_registerPlural("cells().invalidate()","cell().invalidate()",function(Fe){return this.iterator("cell",function(_r,$r,Br){_fnInvalidate(_r,$r,Fe,Br)})});_api_register("cell()",function(Fe,_r,$r){return _selector_first(this.cells(Fe,_r,$r))});_api_register("cell().data()",function(Fe){var _r=this.context,$r=this[0];return Fe===void 0?_r.length&&$r.length?_fnGetCellData(_r[0],$r[0].row,$r[0].column):void 0:(_fnSetCellData(_r[0],$r[0].row,$r[0].column,Fe),_fnInvalidate(_r[0],$r[0].row,"data",$r[0].column),this)});_api_register("order()",function(Fe,_r){var $r=this.context;return Fe===void 0?$r.length!==0?$r[0].aaSorting:void 0:(typeof Fe=="number"?Fe=[[Fe,_r]]:Fe.length&&!Array.isArray(Fe[0])&&(Fe=Array.prototype.slice.call(arguments)),this.iterator("table",function(Br){Br.aaSorting=Fe.slice()}))});_api_register("order.listener()",function(Fe,_r,$r){return this.iterator("table",function(Br){_fnSortAttachListener(Br,Fe,_r,$r)})});_api_register("order.fixed()",function(Fe){if(!Fe){var _r=this.context,$r=_r.length?_r[0].aaSortingFixed:void 0;return Array.isArray($r)?{pre:$r}:$r}return this.iterator("table",function(Br){Br.aaSortingFixed=$$2.extend(!0,{},Fe)})});_api_register(["columns().order()","column().order()"],function(Fe){var _r=this;return this.iterator("table",function($r,Br){var Fr=[];$$2.each(_r[Br],function(zr,jr){Fr.push([jr,Fe])}),$r.aaSorting=Fr})});_api_register("search()",function(Fe,_r,$r,Br){var Fr=this.context;return Fe===void 0?Fr.length!==0?Fr[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(zr){zr.oFeatures.bFilter&&_fnFilterComplete(zr,$$2.extend({},zr.oPreviousSearch,{sSearch:Fe+"",bRegex:_r===null?!1:_r,bSmart:$r===null?!0:$r,bCaseInsensitive:Br===null?!0:Br}),1)})});_api_registerPlural("columns().search()","column().search()",function(Fe,_r,$r,Br){return this.iterator("column",function(Fr,zr){var jr=Fr.aoPreSearchCols;if(Fe===void 0)return jr[zr].sSearch;Fr.oFeatures.bFilter&&($$2.extend(jr[zr],{sSearch:Fe+"",bRegex:_r===null?!1:_r,bSmart:$r===null?!0:$r,bCaseInsensitive:Br===null?!0:Br}),_fnFilterComplete(Fr,Fr.oPreviousSearch,1))})});_api_register("state()",function(){return this.context.length?this.context[0].oSavedState:null});_api_register("state.clear()",function(){return this.iterator("table",function(Fe){Fe.fnStateSaveCallback.call(Fe.oInstance,Fe,{})})});_api_register("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});_api_register("state.save()",function(){return this.iterator("table",function(Fe){_fnSaveState(Fe)})});DataTable.use=function(Fe,_r){_r==="lib"||Fe.fn?$$2=Fe:_r=="win"||Fe.document?(window=Fe,document=Fe.document):(_r==="datetime"||Fe.type==="DateTime")&&(DataTable.DateTime=Fe)};DataTable.factory=function(Fe,_r){var $r=!1;return Fe&&Fe.document&&(window=Fe,document=Fe.document),_r&&_r.fn&&_r.fn.jquery&&($$2=_r,$r=!0),$r};DataTable.versionCheck=DataTable.fnVersionCheck=function(Fe){for(var _r=DataTable.version.split("."),$r=Fe.split("."),Br,Fr,zr=0,jr=$r.length;zr<jr;zr++)if(Br=parseInt(_r[zr],10)||0,Fr=parseInt($r[zr],10)||0,Br!==Fr)return Br>Fr;return!0};DataTable.isDataTable=DataTable.fnIsDataTable=function(Fe){var _r=$$2(Fe).get(0),$r=!1;return Fe instanceof DataTable.Api?!0:($$2.each(DataTable.settings,function(Br,Fr){var zr=Fr.nScrollHead?$$2("table",Fr.nScrollHead)[0]:null,jr=Fr.nScrollFoot?$$2("table",Fr.nScrollFoot)[0]:null;(Fr.nTable===_r||zr===_r||jr===_r)&&($r=!0)}),$r)};DataTable.tables=DataTable.fnTables=function(Fe){var _r=!1;$$2.isPlainObject(Fe)&&(_r=Fe.api,Fe=Fe.visible);var $r=$$2.map(DataTable.settings,function(Br){if(!Fe||Fe&&$$2(Br.nTable).is(":visible"))return Br.nTable});return _r?new _Api($r):$r};DataTable.camelToHungarian=_fnCamelToHungarian;_api_register("$()",function(Fe,_r){var $r=this.rows(_r).nodes(),Br=$$2($r);return $$2([].concat(Br.filter(Fe).toArray(),Br.find(Fe).toArray()))});$$2.each(["on","one","off"],function(Fe,_r){_api_register(_r+"()",function(){var $r=Array.prototype.slice.call(arguments);$r[0]=$$2.map($r[0].split(/\s/),function(Fr){return Fr.match(/\.dt\b/)?Fr:Fr+".dt"}).join(" ");var Br=$$2(this.tables().nodes());return Br[_r].apply(Br,$r),this})});_api_register("clear()",function(){return this.iterator("table",function(Fe){_fnClearTable(Fe)})});_api_register("settings()",function(){return new _Api(this.context,this.context)});_api_register("init()",function(){var Fe=this.context;return Fe.length?Fe[0].oInit:null});_api_register("data()",function(){return this.iterator("table",function(Fe){return _pluck(Fe.aoData,"_aData")}).flatten()});_api_register("destroy()",function(Fe){return Fe=Fe||!1,this.iterator("table",function(_r){var $r=_r.oClasses,Br=_r.nTable,Fr=_r.nTBody,zr=_r.nTHead,jr=_r.nTFoot,Ur=$$2(Br),Gr=$$2(Fr),Yr=$$2(_r.nTableWrapper),Kr=$$2.map(_r.aoData,function(ln){return ln.nTr}),Qr;_r.bDestroying=!0,_fnCallbackFire(_r,"aoDestroyCallback","destroy",[_r]),Fe||new _Api(_r).columns().visible(!0),Yr.off(".DT").find(":not(tbody *)").off(".DT"),$$2(window).off(".DT-"+_r.sInstance),Br!=zr.parentNode&&(Ur.children("thead").detach(),Ur.append(zr)),jr&&Br!=jr.parentNode&&(Ur.children("tfoot").detach(),Ur.append(jr)),_r.aaSorting=[],_r.aaSortingFixed=[],_fnSortingClasses(_r),$$2(Kr).removeClass(_r.asStripeClasses.join(" ")),$$2("th, td",zr).removeClass($r.sSortable+" "+$r.sSortableAsc+" "+$r.sSortableDesc+" "+$r.sSortableNone),Gr.children().detach(),Gr.append(Kr);var Jr=_r.nTableWrapper.parentNode,rn=Fe?"remove":"detach";Ur[rn](),Yr[rn](),!Fe&&Jr&&(Jr.insertBefore(Br,_r.nTableReinsertBefore),Ur.css("width",_r.sDestroyWidth).removeClass($r.sTable),Qr=_r.asDestroyStripes.length,Qr&&Gr.children().each(function(ln){$$2(this).addClass(_r.asDestroyStripes[ln%Qr])}));var an=$$2.inArray(_r,DataTable.settings);an!==-1&&DataTable.settings.splice(an,1)})});$$2.each(["column","row","cell"],function(Fe,_r){_api_register(_r+"s().every()",function($r){var Br=this.selector.opts,Fr=this;return this.iterator(_r,function(zr,jr,Ur,Gr,Yr){$r.call(Fr[_r](jr,_r==="cell"?Ur:Br,_r==="cell"?Br:void 0),jr,Ur,Gr,Yr)})})});_api_register("i18n()",function(Fe,_r,$r){var Br=this.context[0],Fr=_fnGetObjectDataFn(Fe)(Br.oLanguage);return Fr===void 0&&(Fr=_r),$r!==void 0&&$$2.isPlainObject(Fr)&&(Fr=Fr[$r]!==void 0?Fr[$r]:Fr._),typeof Fr=="string"?Fr.replace("%d",$r):Fr});DataTable.version="1.13.7";DataTable.settings=[];DataTable.models={};DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1};DataTable.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};DataTable.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(Fe){return Fe.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(Fe){try{return JSON.parse((Fe.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+Fe.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(Fe,_r){try{(Fe.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+Fe.sInstance+"_"+location.pathname,JSON.stringify(_r))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$$2.extend({},DataTable.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};_fnHungarianMap(DataTable.defaults);DataTable.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};_fnHungarianMap(DataTable.defaults.column);DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return _fnDataSource(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return _fnDataSource(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var Fe=this._iDisplayLength,_r=this._iDisplayStart,$r=_r+Fe,Br=this.aiDisplay.length,Fr=this.oFeatures,zr=Fr.bPaginate;return Fr.bServerSide?zr===!1||Fe===-1?_r+Br:Math.min(_r+Fe,this._iRecordsDisplay):!zr||$r>Br||Fe===-1?Br:$r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};DataTable.ext=_ext={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:DataTable.version};$$2.extend(_ext,{afnFiltering:_ext.search,aTypes:_ext.type.detect,ofnSearch:_ext.type.search,oSort:_ext.type.order,afnSortData:_ext.order,aoFeatures:_ext.feature,oApi:_ext.internal,oStdClasses:_ext.classes,oPagination:_ext.pager});$$2.extend(DataTable.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var extPagination=DataTable.ext.pager;function _numbers(Fe,_r){var $r=[],Br=extPagination.numbers_length,Fr=Math.floor(Br/2);return _r<=Br?$r=_range(0,_r):Fe<=Fr?($r=_range(0,Br-2),$r.push("ellipsis"),$r.push(_r-1)):Fe>=_r-1-Fr?($r=_range(_r-(Br-2),_r),$r.splice(0,0,"ellipsis"),$r.splice(0,0,0)):($r=_range(Fe-Fr+2,Fe+Fr-1),$r.push("ellipsis"),$r.push(_r-1),$r.splice(0,0,"ellipsis"),$r.splice(0,0,0)),$r.DT_el="span",$r}$$2.extend(extPagination,{simple:function(Fe,_r){return["previous","next"]},full:function(Fe,_r){return["first","previous","next","last"]},numbers:function(Fe,_r){return[_numbers(Fe,_r)]},simple_numbers:function(Fe,_r){return["previous",_numbers(Fe,_r),"next"]},full_numbers:function(Fe,_r){return["first","previous",_numbers(Fe,_r),"next","last"]},first_last_numbers:function(Fe,_r){return["first",_numbers(Fe,_r),"last"]},_numbers,numbers_length:7});$$2.extend(!0,DataTable.ext.renderer,{pageButton:{_:function(Fe,_r,$r,Br,Fr,zr){var jr=Fe.oClasses,Ur=Fe.oLanguage.oPaginate,Gr=Fe.oLanguage.oAria.paginate||{},Yr,Kr,Qr=function(rn,an){var ln,dn,hn,gn,bn=jr.sPageButtonDisabled,kn=function(Cn){_fnPageChange(Fe,Cn.data.action,!0)};for(ln=0,dn=an.length;ln<dn;ln++)if(gn=an[ln],Array.isArray(gn)){var Sn=$$2("<"+(gn.DT_el||"div")+"/>").appendTo(rn);Qr(Sn,gn)}else{var _n=!1;switch(Yr=null,Kr=gn,gn){case"ellipsis":rn.append('<span class="ellipsis">&#x2026;</span>');break;case"first":Yr=Ur.sFirst,Fr===0&&(_n=!0);break;case"previous":Yr=Ur.sPrevious,Fr===0&&(_n=!0);break;case"next":Yr=Ur.sNext,(zr===0||Fr===zr-1)&&(_n=!0);break;case"last":Yr=Ur.sLast,(zr===0||Fr===zr-1)&&(_n=!0);break;default:Yr=Fe.fnFormatNumber(gn+1),Kr=Fr===gn?jr.sPageButtonActive:"";break}if(Yr!==null){var pn=Fe.oInit.pagingTag||"a";_n&&(Kr+=" "+bn),hn=$$2("<"+pn+">",{class:jr.sPageButton+" "+Kr,"aria-controls":Fe.sTableId,"aria-disabled":_n?"true":null,"aria-label":Gr[gn],role:"link","aria-current":Kr===jr.sPageButtonActive?"page":null,"data-dt-idx":gn,tabindex:_n?-1:Fe.iTabIndex,id:$r===0&&typeof gn=="string"?Fe.sTableId+"_"+gn:null}).html(Yr).appendTo(rn),_fnBindAction(hn,{action:gn},kn)}}},Jr;try{Jr=$$2(_r).find(document.activeElement).data("dt-idx")}catch{}Qr($$2(_r).empty(),Br),Jr!==void 0&&$$2(_r).find("[data-dt-idx="+Jr+"]").trigger("focus")}}});$$2.extend(DataTable.ext.type.detect,[function(Fe,_r){var $r=_r.oLanguage.sDecimal;return _isNumber(Fe,$r)?"num"+$r:null},function(Fe,_r){if(Fe&&!(Fe instanceof Date)&&!_re_date.test(Fe))return null;var $r=Date.parse(Fe);return $r!==null&&!isNaN($r)||_empty(Fe)?"date":null},function(Fe,_r){var $r=_r.oLanguage.sDecimal;return _isNumber(Fe,$r,!0)?"num-fmt"+$r:null},function(Fe,_r){var $r=_r.oLanguage.sDecimal;return _htmlNumeric(Fe,$r)?"html-num"+$r:null},function(Fe,_r){var $r=_r.oLanguage.sDecimal;return _htmlNumeric(Fe,$r,!0)?"html-num-fmt"+$r:null},function(Fe,_r){return _empty(Fe)||typeof Fe=="string"&&Fe.indexOf("<")!==-1?"html":null}]);$$2.extend(DataTable.ext.type.search,{html:function(Fe){return _empty(Fe)?Fe:typeof Fe=="string"?Fe.replace(_re_new_lines," ").replace(_re_html,""):""},string:function(Fe){return _empty(Fe)?Fe:typeof Fe=="string"?Fe.replace(_re_new_lines," "):Fe}});var __numericReplace=function(Fe,_r,$r,Br){if(Fe!==0&&(!Fe||Fe==="-"))return-1/0;var Fr=typeof Fe;return Fr==="number"||Fr==="bigint"?Fe:(_r&&(Fe=_numToDecimal(Fe,_r)),Fe.replace&&($r&&(Fe=Fe.replace($r,"")),Br&&(Fe=Fe.replace(Br,""))),Fe*1)};function _addNumericSort(Fe){$$2.each({num:function(_r){return __numericReplace(_r,Fe)},"num-fmt":function(_r){return __numericReplace(_r,Fe,_re_formatted_numeric)},"html-num":function(_r){return __numericReplace(_r,Fe,_re_html)},"html-num-fmt":function(_r){return __numericReplace(_r,Fe,_re_html,_re_formatted_numeric)}},function(_r,$r){_ext.type.order[_r+Fe+"-pre"]=$r,_r.match(/^html\-/)&&(_ext.type.search[_r+Fe]=_ext.type.search.html)})}$$2.extend(_ext.type.order,{"date-pre":function(Fe){var _r=Date.parse(Fe);return isNaN(_r)?-1/0:_r},"html-pre":function(Fe){return _empty(Fe)?"":Fe.replace?Fe.replace(/<.*?>/g,"").toLowerCase():Fe+""},"string-pre":function(Fe){return _empty(Fe)?"":typeof Fe=="string"?Fe.toLowerCase():Fe.toString?Fe.toString():""},"string-asc":function(Fe,_r){return Fe<_r?-1:Fe>_r?1:0},"string-desc":function(Fe,_r){return Fe<_r?1:Fe>_r?-1:0}});_addNumericSort("");$$2.extend(!0,DataTable.ext.renderer,{header:{_:function(Fe,_r,$r,Br){$$2(Fe.nTable).on("order.dt.DT",function(Fr,zr,jr,Ur){if(Fe===zr){var Gr=$r.idx;_r.removeClass(Br.sSortAsc+" "+Br.sSortDesc).addClass(Ur[Gr]=="asc"?Br.sSortAsc:Ur[Gr]=="desc"?Br.sSortDesc:$r.sSortingClass)}})},jqueryui:function(Fe,_r,$r,Br){$$2("<div/>").addClass(Br.sSortJUIWrapper).append(_r.contents()).append($$2("<span/>").addClass(Br.sSortIcon+" "+$r.sSortingClassJUI)).appendTo(_r),$$2(Fe.nTable).on("order.dt.DT",function(Fr,zr,jr,Ur){if(Fe===zr){var Gr=$r.idx;_r.removeClass(Br.sSortAsc+" "+Br.sSortDesc).addClass(Ur[Gr]=="asc"?Br.sSortAsc:Ur[Gr]=="desc"?Br.sSortDesc:$r.sSortingClass),_r.find("span."+Br.sSortIcon).removeClass(Br.sSortJUIAsc+" "+Br.sSortJUIDesc+" "+Br.sSortJUI+" "+Br.sSortJUIAscAllowed+" "+Br.sSortJUIDescAllowed).addClass(Ur[Gr]=="asc"?Br.sSortJUIAsc:Ur[Gr]=="desc"?Br.sSortJUIDesc:$r.sSortingClassJUI)}})}}});var __htmlEscapeEntities=function(Fe){return Array.isArray(Fe)&&(Fe=Fe.join(",")),typeof Fe=="string"?Fe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):Fe};function __mld(Fe,_r,$r,Br,Fr){return window.moment?Fe[_r](Fr):window.luxon?Fe[$r](Fr):Br?Fe[Br](Fr):Fe}var __mlWarning=!1;function __mldObj(Fe,_r,$r){var Br;if(window.moment){if(Br=window.moment.utc(Fe,_r,$r,!0),!Br.isValid())return null}else if(window.luxon){if(Br=_r&&typeof Fe=="string"?window.luxon.DateTime.fromFormat(Fe,_r):window.luxon.DateTime.fromISO(Fe),!Br.isValid)return null;Br.setLocale($r)}else _r?(__mlWarning||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),__mlWarning=!0):Br=new Date(Fe);return Br}function __mlHelper(Fe){return function(_r,$r,Br,Fr){arguments.length===0?(Br="en",$r=null,_r=null):arguments.length===1?(Br="en",$r=_r,_r=null):arguments.length===2&&(Br=$r,$r=_r,_r=null);var zr="datetime-"+$r;return DataTable.ext.type.order[zr]||(DataTable.ext.type.detect.unshift(function(jr){return jr===zr?zr:!1}),DataTable.ext.type.order[zr+"-asc"]=function(jr,Ur){var Gr=jr.valueOf(),Yr=Ur.valueOf();return Gr===Yr?0:Gr<Yr?-1:1},DataTable.ext.type.order[zr+"-desc"]=function(jr,Ur){var Gr=jr.valueOf(),Yr=Ur.valueOf();return Gr===Yr?0:Gr>Yr?-1:1}),function(jr,Ur){if(jr==null)if(Fr==="--now"){var Gr=new Date;jr=new Date(Date.UTC(Gr.getFullYear(),Gr.getMonth(),Gr.getDate(),Gr.getHours(),Gr.getMinutes(),Gr.getSeconds()))}else jr="";if(Ur==="type")return zr;if(jr==="")return Ur!=="sort"?"":__mldObj("0000-01-01 00:00:00",null,Br);if($r!==null&&_r===$r&&Ur!=="sort"&&Ur!=="type"&&!(jr instanceof Date))return jr;var Yr=__mldObj(jr,_r,Br);if(Yr===null)return jr;if(Ur==="sort")return Yr;var Kr=$r===null?__mld(Yr,"toDate","toJSDate","")[Fe]():__mld(Yr,"format","toFormat","toISOString",$r);return Ur==="display"?__htmlEscapeEntities(Kr):Kr}}}var __thousands=",",__decimal=".";if(window.Intl!==void 0)try{for(var num=new Intl.NumberFormat().formatToParts(100000.1),i$1=0;i$1<num.length;i$1++)num[i$1].type==="group"?__thousands=num[i$1].value:num[i$1].type==="decimal"&&(__decimal=num[i$1].value)}catch{}DataTable.datetime=function(Fe,_r){var $r="datetime-detect-"+Fe;_r||(_r="en"),DataTable.ext.type.order[$r]||(DataTable.ext.type.detect.unshift(function(Br){var Fr=__mldObj(Br,Fe,_r);return Br===""||Fr?$r:!1}),DataTable.ext.type.order[$r+"-pre"]=function(Br){return __mldObj(Br,Fe,_r)||0})};DataTable.render={date:__mlHelper("toLocaleDateString"),datetime:__mlHelper("toLocaleString"),time:__mlHelper("toLocaleTimeString"),number:function(Fe,_r,$r,Br,Fr){return Fe==null&&(Fe=__thousands),_r==null&&(_r=__decimal),{display:function(zr){if(typeof zr!="number"&&typeof zr!="string"||zr===""||zr===null)return zr;var jr=zr<0?"-":"",Ur=parseFloat(zr);if(isNaN(Ur))return __htmlEscapeEntities(zr);Ur=Ur.toFixed($r),zr=Math.abs(Ur);var Gr=parseInt(zr,10),Yr=$r?_r+(zr-Gr).toFixed($r).substring(2):"";return Gr===0&&parseFloat(Yr)===0&&(jr=""),jr+(Br||"")+Gr.toString().replace(/\B(?=(\d{3})+(?!\d))/g,Fe)+Yr+(Fr||"")}}},text:function(){return{display:__htmlEscapeEntities,filter:__htmlEscapeEntities}}};function _fnExternApiFunc(Fe){return function(){var _r=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.internal[Fe].apply(this,_r)}}$$2.extend(DataTable.ext.internal,{_fnExternApiFunc,_fnBuildAjax,_fnAjaxUpdate,_fnAjaxParameters,_fnAjaxUpdateDraw,_fnAjaxDataSrc,_fnAddColumn,_fnColumnOptions,_fnAdjustColumnSizing,_fnVisibleToColumnIndex,_fnColumnIndexToVisible,_fnVisbleColumns,_fnGetColumns,_fnColumnTypes,_fnApplyColumnDefs,_fnHungarianMap,_fnCamelToHungarian,_fnLanguageCompat,_fnBrowserDetect,_fnAddData,_fnAddTr,_fnNodeToDataIndex,_fnNodeToColumnIndex,_fnGetCellData,_fnSetCellData,_fnSplitObjNotation,_fnGetObjectDataFn,_fnSetObjectDataFn,_fnGetDataMaster,_fnClearTable,_fnDeleteIndex,_fnInvalidate,_fnGetRowElements,_fnCreateTr,_fnBuildHead,_fnDrawHead,_fnDraw,_fnReDraw,_fnAddOptionsHtml,_fnDetectHeader,_fnGetUniqueThs,_fnFeatureHtmlFilter,_fnFilterComplete,_fnFilterCustom,_fnFilterColumn,_fnFilter,_fnFilterCreateSearch,_fnEscapeRegex,_fnFilterData,_fnFeatureHtmlInfo,_fnUpdateInfo,_fnInfoMacros,_fnInitialise,_fnInitComplete,_fnLengthChange,_fnFeatureHtmlLength,_fnFeatureHtmlPaginate,_fnPageChange,_fnFeatureHtmlProcessing,_fnProcessingDisplay,_fnFeatureHtmlTable,_fnScrollDraw,_fnApplyToChildren,_fnCalculateColumnWidths,_fnThrottle,_fnConvertToWidth,_fnGetWidestNode,_fnGetMaxLenString,_fnStringToCss,_fnSortFlatten,_fnSort,_fnSortAria,_fnSortListener,_fnSortAttachListener,_fnSortingClasses,_fnSortData,_fnSaveState,_fnLoadState,_fnImplementState,_fnSettingsFromNode,_fnLog,_fnMap,_fnBindAction,_fnCallbackReg,_fnCallbackFire,_fnLengthOverflow,_fnRenderer,_fnDataSource,_fnRowAttributes,_fnExtend,_fnCalculateEnd:function(){}});$$2.fn.dataTable=DataTable;DataTable.$=$$2;$$2.fn.dataTableSettings=DataTable.settings;$$2.fn.dataTableExt=DataTable.ext;$$2.fn.DataTable=function(Fe){return $$2(this).dataTable(Fe).api()};$$2.each(DataTable,function(Fe,_r){$$2.fn.DataTable[Fe]=_r});/*! Responsive 2.5.0
 * Â© SpryMedia Ltd - datatables.net/license
 */let $$1=$$3;var Responsive=function(Fe,_r){if(!DataTable.versionCheck||!DataTable.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={childNodeStore:{},columns:[],current:[],dt:new DataTable.Api(Fe)},!this.s.dt.settings()[0].responsive&&(_r&&typeof _r.details=="string"?_r.details={type:_r.details}:_r&&_r.details===!1?_r.details={type:!1}:_r&&_r.details===!0&&(_r.details={type:"inline"}),this.c=$$1.extend(!0,{},Responsive.defaults,DataTable.defaults.responsive,_r),Fe.responsive=this,this._constructor())};$$1.extend(Responsive.prototype,{_constructor:function(){var Fe=this,_r=this.s.dt,$r=_r.settings()[0],Br=$$1(window).innerWidth();_r.settings()[0]._responsive=this,$$1(window).on("resize.dtr orientationchange.dtr",DataTable.util.throttle(function(){var zr=$$1(window).innerWidth();zr!==Br&&(Fe._resize(),Br=zr)})),$r.oApi._fnCallbackReg($r,"aoRowCreatedCallback",function(zr,jr,Ur){$$1.inArray(!1,Fe.s.current)!==-1&&$$1(">td, >th",zr).each(function(Gr){var Yr=_r.column.index("toData",Gr);Fe.s.current[Yr]===!1&&$$1(this).css("display","none")})}),_r.on("destroy.dtr",function(){_r.off(".dtr"),$$1(_r.table().body()).off(".dtr"),$$1(window).off("resize.dtr orientationchange.dtr"),_r.cells(".dtr-control").nodes().to$().removeClass("dtr-control"),$$1.each(Fe.s.current,function(zr,jr){jr===!1&&Fe._setColumnVis(zr,!0)})}),this.c.breakpoints.sort(function(zr,jr){return zr.width<jr.width?1:zr.width>jr.width?-1:0}),this._classLogic(),this._resizeAuto();var Fr=this.c.details;Fr.type!==!1&&(Fe._detailsInit(),_r.on("column-visibility.dtr",function(){Fe._timer&&clearTimeout(Fe._timer),Fe._timer=setTimeout(function(){Fe._timer=null,Fe._classLogic(),Fe._resizeAuto(),Fe._resize(!0),Fe._redrawChildren()},100)}),_r.on("draw.dtr",function(){Fe._redrawChildren()}),$$1(_r.table().node()).addClass("dtr-"+Fr.type)),_r.on("column-reorder.dtr",function(zr,jr,Ur){Fe._classLogic(),Fe._resizeAuto(),Fe._resize(!0)}),_r.on("column-sizing.dtr",function(){Fe._resizeAuto(),Fe._resize()}),_r.on("column-calc.dt",function(zr,jr){for(var Ur=Fe.s.current,Gr=0;Gr<Ur.length;Gr++){var Yr=jr.visible.indexOf(Gr);Ur[Gr]===!1&&Yr>=0&&jr.visible.splice(Yr,1)}}),_r.on("preXhr.dtr",function(){var zr=[];_r.rows().every(function(){this.child.isShown()&&zr.push(this.id(!0))}),_r.one("draw.dtr",function(){Fe._resizeAuto(),Fe._resize(),_r.rows(zr).every(function(){Fe._detailsDisplay(this,!1)})})}),_r.on("draw.dtr",function(){Fe._controlClass()}).on("init.dtr",function(zr,jr,Ur){zr.namespace==="dt"&&(Fe._resizeAuto(),Fe._resize(),$$1.inArray(!1,Fe.s.current)&&_r.columns.adjust())}),this._resize()},_childNodes:function(Fe,_r,$r){var Br=_r+"-"+$r;if(this.s.childNodeStore[Br])return this.s.childNodeStore[Br];for(var Fr=[],zr=Fe.cell(_r,$r).node().childNodes,jr=0,Ur=zr.length;jr<Ur;jr++)Fr.push(zr[jr]);return this.s.childNodeStore[Br]=Fr,Fr},_childNodesRestore:function(Fe,_r,$r){var Br=_r+"-"+$r;if(this.s.childNodeStore[Br]){for(var Fr=Fe.cell(_r,$r).node(),zr=this.s.childNodeStore[Br],jr=zr[0].parentNode,Ur=jr.childNodes,Gr=[],Yr=0,Kr=Ur.length;Yr<Kr;Yr++)Gr.push(Ur[Yr]);for(var Qr=0,Jr=Gr.length;Qr<Jr;Qr++)Fr.appendChild(Gr[Qr]);this.s.childNodeStore[Br]=void 0}},_columnsVisiblity:function(Fe){var _r=this.s.dt,$r=this.s.columns,Br,Fr,zr=$r.map(function(ln,dn){return{columnIdx:dn,priority:ln.priority}}).sort(function(ln,dn){return ln.priority!==dn.priority?ln.priority-dn.priority:ln.columnIdx-dn.columnIdx}),jr=$$1.map($r,function(ln,dn){return _r.column(dn).visible()===!1?"not-visible":ln.auto&&ln.minWidth===null?!1:ln.auto===!0?"-":$$1.inArray(Fe,ln.includeIn)!==-1}),Ur=0;for(Br=0,Fr=jr.length;Br<Fr;Br++)jr[Br]===!0&&(Ur+=$r[Br].minWidth);var Gr=_r.settings()[0].oScroll,Yr=Gr.sY||Gr.sX?Gr.iBarWidth:0,Kr=_r.table().container().offsetWidth-Yr,Qr=Kr-Ur;for(Br=0,Fr=jr.length;Br<Fr;Br++)$r[Br].control&&(Qr-=$r[Br].minWidth);var Jr=!1;for(Br=0,Fr=zr.length;Br<Fr;Br++){var rn=zr[Br].columnIdx;jr[rn]==="-"&&!$r[rn].control&&$r[rn].minWidth&&(Jr||Qr-$r[rn].minWidth<0?(Jr=!0,jr[rn]=!1):jr[rn]=!0,Qr-=$r[rn].minWidth)}var an=!1;for(Br=0,Fr=$r.length;Br<Fr;Br++)if(!$r[Br].control&&!$r[Br].never&&jr[Br]===!1){an=!0;break}for(Br=0,Fr=$r.length;Br<Fr;Br++)$r[Br].control&&(jr[Br]=an),jr[Br]==="not-visible"&&(jr[Br]=!1);return $$1.inArray(!0,jr)===-1&&(jr[0]=!0),jr},_classLogic:function(){var Fe=this,_r=this.c.breakpoints,$r=this.s.dt,Br=$r.columns().eq(0).map(function(jr){var Ur=this.column(jr),Gr=Ur.header().className,Yr=$r.settings()[0].aoColumns[jr].responsivePriority,Kr=Ur.header().getAttribute("data-priority");return Yr===void 0&&(Yr=Kr==null?1e4:Kr*1),{className:Gr,includeIn:[],auto:!1,control:!1,never:!!Gr.match(/\b(dtr\-)?never\b/),priority:Yr}}),Fr=function(jr,Ur){var Gr=Br[jr].includeIn;$$1.inArray(Ur,Gr)===-1&&Gr.push(Ur)},zr=function(jr,Ur,Gr,Yr){var Kr,Qr,Jr;if(!Gr)Br[jr].includeIn.push(Ur);else if(Gr==="max-")for(Kr=Fe._find(Ur).width,Qr=0,Jr=_r.length;Qr<Jr;Qr++)_r[Qr].width<=Kr&&Fr(jr,_r[Qr].name);else if(Gr==="min-")for(Kr=Fe._find(Ur).width,Qr=0,Jr=_r.length;Qr<Jr;Qr++)_r[Qr].width>=Kr&&Fr(jr,_r[Qr].name);else if(Gr==="not-")for(Qr=0,Jr=_r.length;Qr<Jr;Qr++)_r[Qr].name.indexOf(Yr)===-1&&Fr(jr,_r[Qr].name)};Br.each(function(jr,Ur){for(var Gr=jr.className.split(" "),Yr=!1,Kr=0,Qr=Gr.length;Kr<Qr;Kr++){var Jr=Gr[Kr].trim();if(Jr==="all"||Jr==="dtr-all"){Yr=!0,jr.includeIn=$$1.map(_r,function(rn){return rn.name});return}else if(Jr==="none"||Jr==="dtr-none"||jr.never){Yr=!0;return}else if(Jr==="control"||Jr==="dtr-control"){Yr=!0,jr.control=!0;return}$$1.each(_r,function(rn,an){var ln=an.name.split("-"),dn=new RegExp("(min\\-|max\\-|not\\-)?("+ln[0]+")(\\-[_a-zA-Z0-9])?"),hn=Jr.match(dn);hn&&(Yr=!0,hn[2]===ln[0]&&hn[3]==="-"+ln[1]?zr(Ur,an.name,hn[1],hn[2]+hn[3]):hn[2]===ln[0]&&!hn[3]&&zr(Ur,an.name,hn[1],hn[2]))})}Yr||(jr.auto=!0)}),this.s.columns=Br},_controlClass:function(){if(this.c.details.type==="inline"){var Fe=this.s.dt,_r=this.s.current,$r=$$1.inArray(!0,_r);Fe.cells(null,function(Br){return Br!==$r},{page:"current"}).nodes().to$().filter(".dtr-control").removeClass("dtr-control"),Fe.cells(null,$r,{page:"current"}).nodes().to$().addClass("dtr-control")}},_detailsDisplay:function(Fe,_r){var $r=this,Br=this.s.dt,Fr=this.c.details,zr=function(Gr){$$1(Fe.node()).toggleClass("parent",Gr!==!1),$$1(Br.table().node()).triggerHandler("responsive-display.dt",[Br,Fe,Gr,_r])};if(Fr&&Fr.type!==!1){var jr=typeof Fr.renderer=="string"?Responsive.renderer[Fr.renderer]():Fr.renderer,Ur=Fr.display(Fe,_r,function(){return jr.call($r,Br,Fe[0],$r._detailsObj(Fe[0]))},function(){zr(!1)});typeof Ur=="boolean"&&zr(Ur)}},_detailsInit:function(){var Fe=this,_r=this.s.dt,$r=this.c.details;$r.type==="inline"&&($r.target="td.dtr-control, th.dtr-control"),_r.on("draw.dtr",function(){Fe._tabIndexes()}),Fe._tabIndexes(),$$1(_r.table().body()).on("keyup.dtr","td, th",function(zr){zr.keyCode===13&&$$1(this).data("dtr-keyboard")&&$$1(this).click()});var Br=$r.target,Fr=typeof Br=="string"?Br:"td, th";(Br!==void 0||Br!==null)&&$$1(_r.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",Fr,function(zr){if($$1(_r.table().node()).hasClass("collapsed")&&$$1.inArray($$1(this).closest("tr").get(0),_r.rows().nodes().toArray())!==-1){if(typeof Br=="number"){var jr=Br<0?_r.columns().eq(0).length+Br:Br;if(_r.cell(this).index().column!==jr)return}var Ur=_r.row($$1(this).closest("tr"));zr.type==="click"?Fe._detailsDisplay(Ur,!1):zr.type==="mousedown"?$$1(this).css("outline","none"):zr.type==="mouseup"&&$$1(this).trigger("blur").css("outline","")}})},_detailsObj:function(Fe){var _r=this,$r=this.s.dt;return $$1.map(this.s.columns,function(Br,Fr){if(!(Br.never||Br.control)){var zr=$r.settings()[0].aoColumns[Fr];return{className:zr.sClass,columnIndex:Fr,data:$r.cell(Fe,Fr).render(_r.c.orthogonal),hidden:$r.column(Fr).visible()&&!_r.s.current[Fr],rowIndex:Fe,title:zr.sTitle!==null?zr.sTitle:$$1($r.column(Fr).header()).text()}}})},_find:function(Fe){for(var _r=this.c.breakpoints,$r=0,Br=_r.length;$r<Br;$r++)if(_r[$r].name===Fe)return _r[$r]},_redrawChildren:function(){var Fe=this,_r=this.s.dt;_r.rows({page:"current"}).iterator("row",function($r,Br){Fe._detailsDisplay(_r.row(Br),!0)})},_resize:function(Fe){var _r=this,$r=this.s.dt,Br=$$1(window).innerWidth(),Fr=this.c.breakpoints,zr=Fr[0].name,jr=this.s.columns,Ur,Gr,Yr=this.s.current.slice();for(Ur=Fr.length-1;Ur>=0;Ur--)if(Br<=Fr[Ur].width){zr=Fr[Ur].name;break}var Kr=this._columnsVisiblity(zr);this.s.current=Kr;var Qr=!1;for(Ur=0,Gr=jr.length;Ur<Gr;Ur++)if(Kr[Ur]===!1&&!jr[Ur].never&&!jr[Ur].control&&$r.column(Ur).visible()){Qr=!0;break}$$1($r.table().node()).toggleClass("collapsed",Qr);var Jr=!1,rn=0;$r.columns().eq(0).each(function(an,ln){Kr[ln]===!0&&rn++,(Fe||Kr[ln]!==Yr[ln])&&(Jr=!0,_r._setColumnVis(an,Kr[ln]))}),this._redrawChildren(),Jr&&($$1($r.table().node()).trigger("responsive-resize.dt",[$r,this.s.current]),$r.page.info().recordsDisplay===0&&$$1("td",$r.table().body()).eq(0).attr("colspan",rn)),_r._controlClass()},_resizeAuto:function(){var Fe=this.s.dt,_r=this.s.columns,$r=this;if(this.c.auto&&$$1.inArray(!0,$$1.map(_r,function(Qr){return Qr.auto}))!==-1){$$1.isEmptyObject(this.s.childNodeStore)||$$1.each(this.s.childNodeStore,function(Qr){var Jr=Qr.split("-");$r._childNodesRestore(Fe,Jr[0]*1,Jr[1]*1)}),Fe.table().node().offsetWidth,Fe.columns;var Br=Fe.table().node().cloneNode(!1),Fr=$$1(Fe.table().header().cloneNode(!1)).appendTo(Br),zr=$$1(Fe.table().body()).clone(!1,!1).empty().appendTo(Br);Br.style.width="auto";var jr=Fe.columns().header().filter(function(Qr){return Fe.column(Qr).visible()}).to$().clone(!1).css("display","table-cell").css("width","auto").css("min-width",0);$$1(zr).append($$1(Fe.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");var Ur=Fe.table().footer();if(Ur){var Gr=$$1(Ur.cloneNode(!1)).appendTo(Br),Yr=Fe.columns().footer().filter(function(Qr){return Fe.column(Qr).visible()}).to$().clone(!1).css("display","table-cell");$$1("<tr/>").append(Yr).appendTo(Gr)}$$1("<tr/>").append(jr).appendTo(Fr),this.c.details.type==="inline"&&$$1(Br).addClass("dtr-inline collapsed"),$$1(Br).find("[name]").removeAttr("name"),$$1(Br).css("position","relative");var Kr=$$1("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(Br);Kr.insertBefore(Fe.table().node()),jr.each(function(Qr){var Jr=Fe.column.index("fromVisible",Qr);_r[Jr].minWidth=this.offsetWidth||0}),Kr.remove()}},_responsiveOnlyHidden:function(){var Fe=this.s.dt;return $$1.map(this.s.current,function(_r,$r){return Fe.column($r).visible()===!1?!0:_r})},_setColumnVis:function(Fe,_r){var $r=this,Br=this.s.dt,Fr=_r?"":"none";$$1(Br.column(Fe).header()).css("display",Fr).toggleClass("dtr-hidden",!_r),$$1(Br.column(Fe).footer()).css("display",Fr).toggleClass("dtr-hidden",!_r),Br.column(Fe).nodes().to$().css("display",Fr).toggleClass("dtr-hidden",!_r),$$1.isEmptyObject(this.s.childNodeStore)||Br.cells(null,Fe).indexes().each(function(zr){$r._childNodesRestore(Br,zr.row,zr.column)})},_tabIndexes:function(){var Fe=this.s.dt,_r=Fe.cells({page:"current"}).nodes().to$(),$r=Fe.settings()[0],Br=this.c.details.target;_r.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),typeof Br=="number"?Fe.cells(null,Br,{page:"current"}).nodes().to$().attr("tabIndex",$r.iTabIndex).data("dtr-keyboard",1):(Br==="td:first-child, th:first-child"&&(Br=">td:first-child, >th:first-child"),$$1(Br,Fe.rows({page:"current"}).nodes()).attr("tabIndex",$r.iTabIndex).data("dtr-keyboard",1))}});Responsive.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];Responsive.display={childRow:function(Fe,_r,$r){if(_r){if($$1(Fe.node()).hasClass("parent"))return Fe.child($r(),"child").show(),!0}else return Fe.child.isShown()?(Fe.child(!1),!1):(Fe.child($r(),"child").show(),!0)},childRowImmediate:function(Fe,_r,$r){return!_r&&Fe.child.isShown()||!Fe.responsive.hasHidden()?(Fe.child(!1),!1):(Fe.child($r(),"child").show(),!0)},modal:function(Fe){return function(_r,$r,Br,Fr){if($r){var jr=$$1("div.dtr-modal-content");if(jr.length&&_r.index()===jr.data("dtr-row-idx"))jr.empty().append(Br());else return null}else{var zr=function(){jr.remove(),$$1(document).off("keypress.dtr"),$$1(_r.node()).removeClass("parent"),Fr()},jr=$$1('<div class="dtr-modal"/>').append($$1('<div class="dtr-modal-display"/>').append($$1('<div class="dtr-modal-content"/>').data("dtr-row-idx",_r.index()).append(Br())).append($$1('<div class="dtr-modal-close">&times;</div>').click(function(){zr()}))).append($$1('<div class="dtr-modal-background"/>').click(function(){zr()})).appendTo("body");$$1(_r.node()).addClass("parent"),$$1(document).on("keyup.dtr",function(Ur){Ur.keyCode===27&&(Ur.stopPropagation(),zr())})}return Fe&&Fe.header&&$$1("div.dtr-modal-content").prepend("<h2>"+Fe.header(_r)+"</h2>"),!0}}};Responsive.renderer={listHiddenNodes:function(){return function(Fe,_r,$r){var Br=this,Fr=$$1('<ul data-dtr-index="'+_r+'" class="dtr-details"/>'),zr=!1;return $$1.each($r,function(jr,Ur){if(Ur.hidden){var Gr=Ur.className?'class="'+Ur.className+'"':"";$$1("<li "+Gr+' data-dtr-index="'+Ur.columnIndex+'" data-dt-row="'+Ur.rowIndex+'" data-dt-column="'+Ur.columnIndex+'"><span class="dtr-title">'+Ur.title+"</span> </li>").append($$1('<span class="dtr-data"/>').append(Br._childNodes(Fe,Ur.rowIndex,Ur.columnIndex))).appendTo(Fr),zr=!0}}),zr?Fr:!1}},listHidden:function(){return function(Fe,_r,$r){var Br=$$1.map($r,function(Fr){var zr=Fr.className?'class="'+Fr.className+'"':"";return Fr.hidden?"<li "+zr+' data-dtr-index="'+Fr.columnIndex+'" data-dt-row="'+Fr.rowIndex+'" data-dt-column="'+Fr.columnIndex+'"><span class="dtr-title">'+Fr.title+'</span> <span class="dtr-data">'+Fr.data+"</span></li>":""}).join("");return Br?$$1('<ul data-dtr-index="'+_r+'" class="dtr-details"/>').append(Br):!1}},tableAll:function(Fe){return Fe=$$1.extend({tableClass:""},Fe),function(_r,$r,Br){var Fr=$$1.map(Br,function(zr){var jr=zr.className?'class="'+zr.className+'"':"";return"<tr "+jr+' data-dt-row="'+zr.rowIndex+'" data-dt-column="'+zr.columnIndex+'"><td>'+zr.title+":</td> <td>"+zr.data+"</td></tr>"}).join("");return $$1('<table class="'+Fe.tableClass+' dtr-details" width="100%"/>').append(Fr)}}};Responsive.defaults={breakpoints:Responsive.breakpoints,auto:!0,details:{display:Responsive.display.childRow,renderer:Responsive.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var Api=$$1.fn.dataTable.Api;Api.register("responsive()",function(){return this});Api.register("responsive.index()",function(Fe){return Fe=$$1(Fe),{column:Fe.data("dtr-index"),row:Fe.parent().data("dtr-index")}});Api.register("responsive.rebuild()",function(){return this.iterator("table",function(Fe){Fe._responsive&&Fe._responsive._classLogic()})});Api.register("responsive.recalc()",function(){return this.iterator("table",function(Fe){Fe._responsive&&(Fe._responsive._resizeAuto(),Fe._responsive._resize())})});Api.register("responsive.hasHidden()",function(){var Fe=this.context[0];return Fe._responsive?$$1.inArray(!1,Fe._responsive._responsiveOnlyHidden())!==-1:!1});Api.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(Fe,_r){return Fe._responsive?Fe._responsive._responsiveOnlyHidden()[_r]:!1},1)});Responsive.version="2.5.0";$$1.fn.dataTable.Responsive=Responsive;$$1.fn.DataTable.Responsive=Responsive;$$1(document).on("preInit.dt.dtr",function(Fe,_r,$r){if(Fe.namespace==="dt"&&($$1(_r.nTable).hasClass("responsive")||$$1(_r.nTable).hasClass("dt-responsive")||_r.oInit.responsive||DataTable.defaults.responsive)){var Br=_r.oInit.responsive;Br!==!1&&new Responsive(_r,$$1.isPlainObject(Br)?Br:{})}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(Fe,_r){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($r,Br){$r.__proto__=Br}||function($r,Br){for(var Fr in Br)Object.prototype.hasOwnProperty.call(Br,Fr)&&($r[Fr]=Br[Fr])},extendStatics(Fe,_r)};function __extends(Fe,_r){if(typeof _r!="function"&&_r!==null)throw new TypeError("Class extends value "+String(_r)+" is not a constructor or null");extendStatics(Fe,_r);function $r(){this.constructor=Fe}Fe.prototype=_r===null?Object.create(_r):($r.prototype=_r.prototype,new $r)}var Browser=function(){function Fe(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return Fe}(),Env=function(){function Fe(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return Fe}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(Fe,_r){var $r=_r.browser,Br=Fe.match(/Firefox\/([\d.]+)/),Fr=Fe.match(/MSIE\s([\d.]+)/)||Fe.match(/Trident\/.+?rv:(([\d.]+))/),zr=Fe.match(/Edge?\/([\d.]+)/),jr=/micromessenger/i.test(Fe);Br&&($r.firefox=!0,$r.version=Br[1]),Fr&&($r.ie=!0,$r.version=Fr[1]),zr&&($r.edge=!0,$r.version=zr[1],$r.newEdge=+zr[1].split(".")[0]>18),jr&&($r.weChat=!0),_r.svgSupported=typeof SVGRect<"u",_r.touchEventsSupported="ontouchstart"in window&&!$r.ie&&!$r.edge,_r.pointerEventsSupported="onpointerdown"in window&&($r.edge||$r.ie&&+$r.version>=11),_r.domSupported=typeof document<"u";var Ur=document.documentElement.style;_r.transform3dSupported=($r.ie&&"transition"in Ur||$r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in Ur)&&!("OTransition"in Ur),_r.transformSupported=_r.transform3dSupported||$r.ie&&+$r.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(Fe){var _r={};if(typeof JSON>"u")return _r;for(var $r=0;$r<Fe.length;$r++){var Br=String.fromCharCode($r+32),Fr=(Fe.charCodeAt($r)-OFFSET)/SCALE;_r[Br]=Fr}return _r}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var Fe,_r;return function($r,Br){if(!Fe){var Fr=platformApi.createCanvas();Fe=Fr&&Fr.getContext("2d")}if(Fe)return _r!==Br&&(_r=Fe.font=Br||DEFAULT_FONT),Fe.measureText($r);$r=$r||"",Br=Br||DEFAULT_FONT;var zr=/(\d+)px/.exec(Br),jr=zr&&+zr[1]||DEFAULT_FONT_SIZE,Ur=0;if(Br.indexOf("mono")>=0)Ur=jr*$r.length;else for(var Gr=0;Gr<$r.length;Gr++){var Yr=DEFAULT_TEXT_WIDTH_MAP[$r[Gr]];Ur+=Yr==null?jr:Yr*jr}return{width:Ur}}}(),loadImage:function(Fe,_r,$r){var Br=new Image;return Br.onload=_r,Br.onerror=$r,Br.src=Fe,Br}};function setPlatformAPI(Fe){for(var _r in platformApi)Fe[_r]&&(platformApi[_r]=Fe[_r])}var BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(Fe,_r){return Fe["[object "+_r+"]"]=!0,Fe},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(Fe,_r){return Fe["[object "+_r+"Array]"]=!0,Fe},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError$1(){for(var Fe=[],_r=0;_r<arguments.length;_r++)Fe[_r]=arguments[_r];typeof console<"u"&&console.error.apply(console,Fe)}function clone$4(Fe){if(Fe==null||typeof Fe!="object")return Fe;var _r=Fe,$r=objToString.call(Fe);if($r==="[object Array]"){if(!isPrimitive(Fe)){_r=[];for(var Br=0,Fr=Fe.length;Br<Fr;Br++)_r[Br]=clone$4(Fe[Br])}}else if(TYPED_ARRAY[$r]){if(!isPrimitive(Fe)){var zr=Fe.constructor;if(zr.from)_r=zr.from(Fe);else{_r=new zr(Fe.length);for(var Br=0,Fr=Fe.length;Br<Fr;Br++)_r[Br]=Fe[Br]}}}else if(!BUILTIN_OBJECT[$r]&&!isPrimitive(Fe)&&!isDom(Fe)){_r={};for(var jr in Fe)Fe.hasOwnProperty(jr)&&jr!==protoKey&&(_r[jr]=clone$4(Fe[jr]))}return _r}function merge(Fe,_r,$r){if(!isObject$3(_r)||!isObject$3(Fe))return $r?clone$4(_r):Fe;for(var Br in _r)if(_r.hasOwnProperty(Br)&&Br!==protoKey){var Fr=Fe[Br],zr=_r[Br];isObject$3(zr)&&isObject$3(Fr)&&!isArray$1(zr)&&!isArray$1(Fr)&&!isDom(zr)&&!isDom(Fr)&&!isBuiltInObject(zr)&&!isBuiltInObject(Fr)&&!isPrimitive(zr)&&!isPrimitive(Fr)?merge(Fr,zr,$r):($r||!(Br in Fe))&&(Fe[Br]=clone$4(_r[Br]))}return Fe}function mergeAll(Fe,_r){for(var $r=Fe[0],Br=1,Fr=Fe.length;Br<Fr;Br++)$r=merge($r,Fe[Br],_r);return $r}function extend$1(Fe,_r){if(Object.assign)Object.assign(Fe,_r);else for(var $r in _r)_r.hasOwnProperty($r)&&$r!==protoKey&&(Fe[$r]=_r[$r]);return Fe}function defaults(Fe,_r,$r){for(var Br=keys(_r),Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr];($r?_r[zr]!=null:Fe[zr]==null)&&(Fe[zr]=_r[zr])}return Fe}var createCanvas=platformApi.createCanvas;function indexOf(Fe,_r){if(Fe){if(Fe.indexOf)return Fe.indexOf(_r);for(var $r=0,Br=Fe.length;$r<Br;$r++)if(Fe[$r]===_r)return $r}return-1}function inherits(Fe,_r){var $r=Fe.prototype;function Br(){}Br.prototype=_r.prototype,Fe.prototype=new Br;for(var Fr in $r)$r.hasOwnProperty(Fr)&&(Fe.prototype[Fr]=$r[Fr]);Fe.prototype.constructor=Fe,Fe.superClass=_r}function mixin(Fe,_r,$r){if(Fe="prototype"in Fe?Fe.prototype:Fe,_r="prototype"in _r?_r.prototype:_r,Object.getOwnPropertyNames)for(var Br=Object.getOwnPropertyNames(_r),Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr];zr!=="constructor"&&($r?_r[zr]!=null:Fe[zr]==null)&&(Fe[zr]=_r[zr])}else defaults(Fe,_r,$r)}function isArrayLike(Fe){return!Fe||typeof Fe=="string"?!1:typeof Fe.length=="number"}function each$f(Fe,_r,$r){if(Fe&&_r)if(Fe.forEach&&Fe.forEach===nativeForEach)Fe.forEach(_r,$r);else if(Fe.length===+Fe.length)for(var Br=0,Fr=Fe.length;Br<Fr;Br++)_r.call($r,Fe[Br],Br,Fe);else for(var zr in Fe)Fe.hasOwnProperty(zr)&&_r.call($r,Fe[zr],zr,Fe)}function map$1(Fe,_r,$r){if(!Fe)return[];if(!_r)return slice(Fe);if(Fe.map&&Fe.map===nativeMap)return Fe.map(_r,$r);for(var Br=[],Fr=0,zr=Fe.length;Fr<zr;Fr++)Br.push(_r.call($r,Fe[Fr],Fr,Fe));return Br}function reduce(Fe,_r,$r,Br){if(Fe&&_r){for(var Fr=0,zr=Fe.length;Fr<zr;Fr++)$r=_r.call(Br,$r,Fe[Fr],Fr,Fe);return $r}}function filter(Fe,_r,$r){if(!Fe)return[];if(!_r)return slice(Fe);if(Fe.filter&&Fe.filter===nativeFilter)return Fe.filter(_r,$r);for(var Br=[],Fr=0,zr=Fe.length;Fr<zr;Fr++)_r.call($r,Fe[Fr],Fr,Fe)&&Br.push(Fe[Fr]);return Br}function find(Fe,_r,$r){if(Fe&&_r){for(var Br=0,Fr=Fe.length;Br<Fr;Br++)if(_r.call($r,Fe[Br],Br,Fe))return Fe[Br]}}function keys(Fe){if(!Fe)return[];if(Object.keys)return Object.keys(Fe);var _r=[];for(var $r in Fe)Fe.hasOwnProperty($r)&&_r.push($r);return _r}function bindPolyfill(Fe,_r){for(var $r=[],Br=2;Br<arguments.length;Br++)$r[Br-2]=arguments[Br];return function(){return Fe.apply(_r,$r.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(Fe){for(var _r=[],$r=1;$r<arguments.length;$r++)_r[$r-1]=arguments[$r];return function(){return Fe.apply(this,_r.concat(nativeSlice.call(arguments)))}}function isArray$1(Fe){return Array.isArray?Array.isArray(Fe):objToString.call(Fe)==="[object Array]"}function isFunction(Fe){return typeof Fe=="function"}function isString(Fe){return typeof Fe=="string"}function isStringSafe(Fe){return objToString.call(Fe)==="[object String]"}function isNumber(Fe){return typeof Fe=="number"}function isObject$3(Fe){var _r=typeof Fe;return _r==="function"||!!Fe&&_r==="object"}function isBuiltInObject(Fe){return!!BUILTIN_OBJECT[objToString.call(Fe)]}function isTypedArray(Fe){return!!TYPED_ARRAY[objToString.call(Fe)]}function isDom(Fe){return typeof Fe=="object"&&typeof Fe.nodeType=="number"&&typeof Fe.ownerDocument=="object"}function isGradientObject(Fe){return Fe.colorStops!=null}function isImagePatternObject(Fe){return Fe.image!=null}function isRegExp(Fe){return objToString.call(Fe)==="[object RegExp]"}function eqNaN(Fe){return Fe!==Fe}function retrieve(){for(var Fe=[],_r=0;_r<arguments.length;_r++)Fe[_r]=arguments[_r];for(var $r=0,Br=Fe.length;$r<Br;$r++)if(Fe[$r]!=null)return Fe[$r]}function retrieve2(Fe,_r){return Fe??_r}function retrieve3(Fe,_r,$r){return Fe??_r??$r}function slice(Fe){for(var _r=[],$r=1;$r<arguments.length;$r++)_r[$r-1]=arguments[$r];return nativeSlice.apply(Fe,_r)}function normalizeCssArray$1(Fe){if(typeof Fe=="number")return[Fe,Fe,Fe,Fe];var _r=Fe.length;return _r===2?[Fe[0],Fe[1],Fe[0],Fe[1]]:_r===3?[Fe[0],Fe[1],Fe[2],Fe[1]]:Fe}function assert(Fe,_r){if(!Fe)throw new Error(_r)}function trim$1(Fe){return Fe==null?null:typeof Fe.trim=="function"?Fe.trim():Fe.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(Fe){Fe[primitiveKey]=!0}function isPrimitive(Fe){return Fe[primitiveKey]}var MapPolyfill=function(){function Fe(){this.data={}}return Fe.prototype.delete=function(_r){var $r=this.has(_r);return $r&&delete this.data[_r],$r},Fe.prototype.has=function(_r){return this.data.hasOwnProperty(_r)},Fe.prototype.get=function(_r){return this.data[_r]},Fe.prototype.set=function(_r,$r){return this.data[_r]=$r,this},Fe.prototype.keys=function(){return keys(this.data)},Fe.prototype.forEach=function(_r){var $r=this.data;for(var Br in $r)$r.hasOwnProperty(Br)&&_r($r[Br],Br)},Fe}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function Fe(_r){var $r=isArray$1(_r);this.data=maybeNativeMap();var Br=this;_r instanceof Fe?_r.each(Fr):_r&&each$f(_r,Fr);function Fr(zr,jr){$r?Br.set(zr,jr):Br.set(jr,zr)}}return Fe.prototype.hasKey=function(_r){return this.data.has(_r)},Fe.prototype.get=function(_r){return this.data.get(_r)},Fe.prototype.set=function(_r,$r){return this.data.set(_r,$r),$r},Fe.prototype.each=function(_r,$r){this.data.forEach(function(Br,Fr){_r.call($r,Br,Fr)})},Fe.prototype.keys=function(){var _r=this.data.keys();return isNativeMapSupported?Array.from(_r):_r},Fe.prototype.removeKey=function(_r){this.data.delete(_r)},Fe}();function createHashMap(Fe){return new HashMap(Fe)}function concatArray(Fe,_r){for(var $r=new Fe.constructor(Fe.length+_r.length),Br=0;Br<Fe.length;Br++)$r[Br]=Fe[Br];for(var Fr=Fe.length,Br=0;Br<_r.length;Br++)$r[Br+Fr]=_r[Br];return $r}function createObject(Fe,_r){var $r;if(Object.create)$r=Object.create(Fe);else{var Br=function(){};Br.prototype=Fe,$r=new Br}return _r&&extend$1($r,_r),$r}function disableUserSelect(Fe){var _r=Fe.style;_r.webkitUserSelect="none",_r.userSelect="none",_r.webkitTapHighlightColor="rgba(0,0,0,0)",_r["-webkit-touch-callout"]="none"}function hasOwn(Fe,_r){return Fe.hasOwnProperty(_r)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;const util$1=Object.freeze(Object.defineProperty({__proto__:null,HashMap,RADIAN_TO_DEGREE,assert,bind:bind$1,clone:clone$4,concatArray,createCanvas,createHashMap,createObject,curry:curry$1,defaults,disableUserSelect,each:each$f,eqNaN,extend:extend$1,filter,find,guid,hasOwn,indexOf,inherits,isArray:isArray$1,isArrayLike,isBuiltInObject,isDom,isFunction,isGradientObject,isImagePatternObject,isNumber,isObject:isObject$3,isPrimitive,isRegExp,isString,isStringSafe,isTypedArray,keys,logError:logError$1,map:map$1,merge,mergeAll,mixin,noop,normalizeCssArray:normalizeCssArray$1,reduce,retrieve,retrieve2,retrieve3,setAsPrimitive,slice,trim:trim$1},Symbol.toStringTag,{value:"Module"}));function create$2(Fe,_r){return Fe==null&&(Fe=0),_r==null&&(_r=0),[Fe,_r]}function copy$1(Fe,_r){return Fe[0]=_r[0],Fe[1]=_r[1],Fe}function clone$3(Fe){return[Fe[0],Fe[1]]}function set$1(Fe,_r,$r){return Fe[0]=_r,Fe[1]=$r,Fe}function add(Fe,_r,$r){return Fe[0]=_r[0]+$r[0],Fe[1]=_r[1]+$r[1],Fe}function scaleAndAdd$1(Fe,_r,$r,Br){return Fe[0]=_r[0]+$r[0]*Br,Fe[1]=_r[1]+$r[1]*Br,Fe}function sub(Fe,_r,$r){return Fe[0]=_r[0]-$r[0],Fe[1]=_r[1]-$r[1],Fe}function len(Fe){return Math.sqrt(lenSquare(Fe))}var length=len;function lenSquare(Fe){return Fe[0]*Fe[0]+Fe[1]*Fe[1]}var lengthSquare=lenSquare;function mul$1(Fe,_r,$r){return Fe[0]=_r[0]*$r[0],Fe[1]=_r[1]*$r[1],Fe}function div(Fe,_r,$r){return Fe[0]=_r[0]/$r[0],Fe[1]=_r[1]/$r[1],Fe}function dot(Fe,_r){return Fe[0]*_r[0]+Fe[1]*_r[1]}function scale$2(Fe,_r,$r){return Fe[0]=_r[0]*$r,Fe[1]=_r[1]*$r,Fe}function normalize$3(Fe,_r){var $r=len(_r);return $r===0?(Fe[0]=0,Fe[1]=0):(Fe[0]=_r[0]/$r,Fe[1]=_r[1]/$r),Fe}function distance(Fe,_r){return Math.sqrt((Fe[0]-_r[0])*(Fe[0]-_r[0])+(Fe[1]-_r[1])*(Fe[1]-_r[1]))}var dist$1=distance;function distanceSquare(Fe,_r){return(Fe[0]-_r[0])*(Fe[0]-_r[0])+(Fe[1]-_r[1])*(Fe[1]-_r[1])}var distSquare=distanceSquare;function negate(Fe,_r){return Fe[0]=-_r[0],Fe[1]=-_r[1],Fe}function lerp$1(Fe,_r,$r,Br){return Fe[0]=_r[0]+Br*($r[0]-_r[0]),Fe[1]=_r[1]+Br*($r[1]-_r[1]),Fe}function applyTransform$1(Fe,_r,$r){var Br=_r[0],Fr=_r[1];return Fe[0]=$r[0]*Br+$r[2]*Fr+$r[4],Fe[1]=$r[1]*Br+$r[3]*Fr+$r[5],Fe}function min$1(Fe,_r,$r){return Fe[0]=Math.min(_r[0],$r[0]),Fe[1]=Math.min(_r[1],$r[1]),Fe}function max$1(Fe,_r,$r){return Fe[0]=Math.max(_r[0],$r[0]),Fe[1]=Math.max(_r[1],$r[1]),Fe}const vector=Object.freeze(Object.defineProperty({__proto__:null,add,applyTransform:applyTransform$1,clone:clone$3,copy:copy$1,create:create$2,dist:dist$1,distSquare,distance,distanceSquare,div,dot,len,lenSquare,length,lengthSquare,lerp:lerp$1,max:max$1,min:min$1,mul:mul$1,negate,normalize:normalize$3,scale:scale$2,scaleAndAdd:scaleAndAdd$1,set:set$1,sub},Symbol.toStringTag,{value:"Module"}));var Param=function(){function Fe(_r,$r){this.target=_r,this.topTarget=$r&&$r.topTarget}return Fe}(),Draggable=function(){function Fe(_r){this.handler=_r,_r.on("mousedown",this._dragStart,this),_r.on("mousemove",this._drag,this),_r.on("mouseup",this._dragEnd,this)}return Fe.prototype._dragStart=function(_r){for(var $r=_r.target;$r&&!$r.draggable;)$r=$r.parent||$r.__hostTarget;$r&&(this._draggingTarget=$r,$r.dragging=!0,this._x=_r.offsetX,this._y=_r.offsetY,this.handler.dispatchToElement(new Param($r,_r),"dragstart",_r.event))},Fe.prototype._drag=function(_r){var $r=this._draggingTarget;if($r){var Br=_r.offsetX,Fr=_r.offsetY,zr=Br-this._x,jr=Fr-this._y;this._x=Br,this._y=Fr,$r.drift(zr,jr,_r),this.handler.dispatchToElement(new Param($r,_r),"drag",_r.event);var Ur=this.handler.findHover(Br,Fr,$r).target,Gr=this._dropTarget;this._dropTarget=Ur,$r!==Ur&&(Gr&&Ur!==Gr&&this.handler.dispatchToElement(new Param(Gr,_r),"dragleave",_r.event),Ur&&Ur!==Gr&&this.handler.dispatchToElement(new Param(Ur,_r),"dragenter",_r.event))}},Fe.prototype._dragEnd=function(_r){var $r=this._draggingTarget;$r&&($r.dragging=!1),this.handler.dispatchToElement(new Param($r,_r),"dragend",_r.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,_r),"drop",_r.event),this._draggingTarget=null,this._dropTarget=null},Fe}();const Draggable$1=Draggable;var Eventful=function(){function Fe(_r){_r&&(this._$eventProcessor=_r)}return Fe.prototype.on=function(_r,$r,Br,Fr){this._$handlers||(this._$handlers={});var zr=this._$handlers;if(typeof $r=="function"&&(Fr=Br,Br=$r,$r=null),!Br||!_r)return this;var jr=this._$eventProcessor;$r!=null&&jr&&jr.normalizeQuery&&($r=jr.normalizeQuery($r)),zr[_r]||(zr[_r]=[]);for(var Ur=0;Ur<zr[_r].length;Ur++)if(zr[_r][Ur].h===Br)return this;var Gr={h:Br,query:$r,ctx:Fr||this,callAtLast:Br.zrEventfulCallAtLast},Yr=zr[_r].length-1,Kr=zr[_r][Yr];return Kr&&Kr.callAtLast?zr[_r].splice(Yr,0,Gr):zr[_r].push(Gr),this},Fe.prototype.isSilent=function(_r){var $r=this._$handlers;return!$r||!$r[_r]||!$r[_r].length},Fe.prototype.off=function(_r,$r){var Br=this._$handlers;if(!Br)return this;if(!_r)return this._$handlers={},this;if($r){if(Br[_r]){for(var Fr=[],zr=0,jr=Br[_r].length;zr<jr;zr++)Br[_r][zr].h!==$r&&Fr.push(Br[_r][zr]);Br[_r]=Fr}Br[_r]&&Br[_r].length===0&&delete Br[_r]}else delete Br[_r];return this},Fe.prototype.trigger=function(_r){for(var $r=[],Br=1;Br<arguments.length;Br++)$r[Br-1]=arguments[Br];if(!this._$handlers)return this;var Fr=this._$handlers[_r],zr=this._$eventProcessor;if(Fr)for(var jr=$r.length,Ur=Fr.length,Gr=0;Gr<Ur;Gr++){var Yr=Fr[Gr];if(!(zr&&zr.filter&&Yr.query!=null&&!zr.filter(_r,Yr.query)))switch(jr){case 0:Yr.h.call(Yr.ctx);break;case 1:Yr.h.call(Yr.ctx,$r[0]);break;case 2:Yr.h.call(Yr.ctx,$r[0],$r[1]);break;default:Yr.h.apply(Yr.ctx,$r);break}}return zr&&zr.afterTrigger&&zr.afterTrigger(_r),this},Fe.prototype.triggerWithContext=function(_r){for(var $r=[],Br=1;Br<arguments.length;Br++)$r[Br-1]=arguments[Br];if(!this._$handlers)return this;var Fr=this._$handlers[_r],zr=this._$eventProcessor;if(Fr)for(var jr=$r.length,Ur=$r[jr-1],Gr=Fr.length,Yr=0;Yr<Gr;Yr++){var Kr=Fr[Yr];if(!(zr&&zr.filter&&Kr.query!=null&&!zr.filter(_r,Kr.query)))switch(jr){case 0:Kr.h.call(Ur);break;case 1:Kr.h.call(Ur,$r[0]);break;case 2:Kr.h.call(Ur,$r[0],$r[1]);break;default:Kr.h.apply(Ur,$r.slice(1,jr-1));break}}return zr&&zr.afterTrigger&&zr.afterTrigger(_r),this},Fe}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(Fe,_r,$r,Br,Fr,zr){var jr=Br+"-"+Fr,Ur=Fe.length;if(zr.hasOwnProperty(jr))return zr[jr];if(_r===1){var Gr=Math.round(Math.log((1<<Ur)-1&~Fr)/LN2);return Fe[$r][Gr]}for(var Yr=Br|1<<$r,Kr=$r+1;Br&1<<Kr;)Kr++;for(var Qr=0,Jr=0,rn=0;Jr<Ur;Jr++){var an=1<<Jr;an&Fr||(Qr+=(rn%2?-1:1)*Fe[$r][Jr]*determinant(Fe,_r-1,Kr,Yr,Fr|an,zr),rn++)}return zr[jr]=Qr,Qr}function buildTransformer(Fe,_r){var $r=[[Fe[0],Fe[1],1,0,0,0,-_r[0]*Fe[0],-_r[0]*Fe[1]],[0,0,0,Fe[0],Fe[1],1,-_r[1]*Fe[0],-_r[1]*Fe[1]],[Fe[2],Fe[3],1,0,0,0,-_r[2]*Fe[2],-_r[2]*Fe[3]],[0,0,0,Fe[2],Fe[3],1,-_r[3]*Fe[2],-_r[3]*Fe[3]],[Fe[4],Fe[5],1,0,0,0,-_r[4]*Fe[4],-_r[4]*Fe[5]],[0,0,0,Fe[4],Fe[5],1,-_r[5]*Fe[4],-_r[5]*Fe[5]],[Fe[6],Fe[7],1,0,0,0,-_r[6]*Fe[6],-_r[6]*Fe[7]],[0,0,0,Fe[6],Fe[7],1,-_r[7]*Fe[6],-_r[7]*Fe[7]]],Br={},Fr=determinant($r,8,0,0,0,Br);if(Fr!==0){for(var zr=[],jr=0;jr<8;jr++)for(var Ur=0;Ur<8;Ur++)zr[Ur]==null&&(zr[Ur]=0),zr[Ur]+=((jr+Ur)%2?-1:1)*determinant($r,7,jr===0?1:0,1<<jr,1<<Ur,Br)/Fr*_r[jr];return function(Gr,Yr,Kr){var Qr=Yr*zr[6]+Kr*zr[7]+1;Gr[0]=(Yr*zr[0]+Kr*zr[1]+zr[2])/Qr,Gr[1]=(Yr*zr[3]+Kr*zr[4]+zr[5])/Qr}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(Fe,_r,$r,Br,Fr){return transformCoordWithViewport(_calcOut$1,_r,Br,Fr,!0)&&transformCoordWithViewport(Fe,$r,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(Fe,_r,$r,Br,Fr){if(_r.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(_r)){var zr=_r[EVENT_SAVED_PROP]||(_r[EVENT_SAVED_PROP]={}),jr=prepareCoordMarkers(_r,zr),Ur=preparePointerTransformer(jr,zr,Fr);if(Ur)return Ur(Fe,$r,Br),!0}return!1}function prepareCoordMarkers(Fe,_r){var $r=_r.markers;if($r)return $r;$r=_r.markers=[];for(var Br=["left","right"],Fr=["top","bottom"],zr=0;zr<4;zr++){var jr=document.createElement("div"),Ur=jr.style,Gr=zr%2,Yr=(zr>>1)%2;Ur.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",Br[Gr]+":0",Fr[Yr]+":0",Br[1-Gr]+":auto",Fr[1-Yr]+":auto",""].join("!important;"),Fe.appendChild(jr),$r.push(jr)}return $r}function preparePointerTransformer(Fe,_r,$r){for(var Br=$r?"invTrans":"trans",Fr=_r[Br],zr=_r.srcCoords,jr=[],Ur=[],Gr=!0,Yr=0;Yr<4;Yr++){var Kr=Fe[Yr].getBoundingClientRect(),Qr=2*Yr,Jr=Kr.left,rn=Kr.top;jr.push(Jr,rn),Gr=Gr&&zr&&Jr===zr[Qr]&&rn===zr[Qr+1],Ur.push(Fe[Yr].offsetLeft,Fe[Yr].offsetTop)}return Gr&&Fr?Fr:(_r.srcCoords=jr,_r[Br]=$r?buildTransformer(Ur,jr):buildTransformer(jr,Ur))}function isCanvasEl(Fe){return Fe.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(Fe){return Fe==null?"":(Fe+"").replace(replaceReg,function(_r,$r){return replaceMap[$r]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(Fe,_r,$r,Br){return $r=$r||{},Br?calculateZrXY(Fe,_r,$r):firefoxNotSupportOffsetXY&&_r.layerX!=null&&_r.layerX!==_r.offsetX?($r.zrX=_r.layerX,$r.zrY=_r.layerY):_r.offsetX!=null?($r.zrX=_r.offsetX,$r.zrY=_r.offsetY):calculateZrXY(Fe,_r,$r),$r}function calculateZrXY(Fe,_r,$r){if(env$1.domSupported&&Fe.getBoundingClientRect){var Br=_r.clientX,Fr=_r.clientY;if(isCanvasEl(Fe)){var zr=Fe.getBoundingClientRect();$r.zrX=Br-zr.left,$r.zrY=Fr-zr.top;return}else if(transformCoordWithViewport(_calcOut,Fe,Br,Fr)){$r.zrX=_calcOut[0],$r.zrY=_calcOut[1];return}}$r.zrX=$r.zrY=0}function getNativeEvent(Fe){return Fe||window.event}function normalizeEvent(Fe,_r,$r){if(_r=getNativeEvent(_r),_r.zrX!=null)return _r;var Br=_r.type,Fr=Br&&Br.indexOf("touch")>=0;if(Fr){var jr=Br!=="touchend"?_r.targetTouches[0]:_r.changedTouches[0];jr&&clientToLocal(Fe,jr,_r,$r)}else{clientToLocal(Fe,_r,_r,$r);var zr=getWheelDeltaMayPolyfill(_r);_r.zrDelta=zr?zr/120:-(_r.detail||0)/3}var Ur=_r.button;return _r.which==null&&Ur!==void 0&&MOUSE_EVENT_REG.test(_r.type)&&(_r.which=Ur&1?1:Ur&2?3:Ur&4?2:0),_r}function getWheelDeltaMayPolyfill(Fe){var _r=Fe.wheelDelta;if(_r)return _r;var $r=Fe.deltaX,Br=Fe.deltaY;if($r==null||Br==null)return _r;var Fr=Math.abs(Br!==0?Br:$r),zr=Br>0?-1:Br<0?1:$r>0?-1:1;return 3*Fr*zr}function addEventListener(Fe,_r,$r,Br){Fe.addEventListener(_r,$r,Br)}function removeEventListener(Fe,_r,$r,Br){Fe.removeEventListener(_r,$r,Br)}var stop=function(Fe){Fe.preventDefault(),Fe.stopPropagation(),Fe.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(Fe){return Fe.which===2||Fe.which===3}var GestureMgr=function(){function Fe(){this._track=[]}return Fe.prototype.recognize=function(_r,$r,Br){return this._doTrack(_r,$r,Br),this._recognize(_r)},Fe.prototype.clear=function(){return this._track.length=0,this},Fe.prototype._doTrack=function(_r,$r,Br){var Fr=_r.touches;if(Fr){for(var zr={points:[],touches:[],target:$r,event:_r},jr=0,Ur=Fr.length;jr<Ur;jr++){var Gr=Fr[jr],Yr=clientToLocal(Br,Gr,{});zr.points.push([Yr.zrX,Yr.zrY]),zr.touches.push(Gr)}this._track.push(zr)}},Fe.prototype._recognize=function(_r){for(var $r in recognizers)if(recognizers.hasOwnProperty($r)){var Br=recognizers[$r](this._track,_r);if(Br)return Br}},Fe}();function dist(Fe){var _r=Fe[1][0]-Fe[0][0],$r=Fe[1][1]-Fe[0][1];return Math.sqrt(_r*_r+$r*$r)}function center$1(Fe){return[(Fe[0][0]+Fe[1][0])/2,(Fe[0][1]+Fe[1][1])/2]}var recognizers={pinch:function(Fe,_r){var $r=Fe.length;if($r){var Br=(Fe[$r-1]||{}).points,Fr=(Fe[$r-2]||{}).points||Br;if(Fr&&Fr.length>1&&Br&&Br.length>1){var zr=dist(Br)/dist(Fr);!isFinite(zr)&&(zr=1),_r.pinchScale=zr;var jr=center$1(Br);return _r.pinchX=jr[0],_r.pinchY=jr[1],{type:"pinch",target:Fe[0].target,event:_r}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(Fe){return Fe[0]=1,Fe[1]=0,Fe[2]=0,Fe[3]=1,Fe[4]=0,Fe[5]=0,Fe}function copy(Fe,_r){return Fe[0]=_r[0],Fe[1]=_r[1],Fe[2]=_r[2],Fe[3]=_r[3],Fe[4]=_r[4],Fe[5]=_r[5],Fe}function mul(Fe,_r,$r){var Br=_r[0]*$r[0]+_r[2]*$r[1],Fr=_r[1]*$r[0]+_r[3]*$r[1],zr=_r[0]*$r[2]+_r[2]*$r[3],jr=_r[1]*$r[2]+_r[3]*$r[3],Ur=_r[0]*$r[4]+_r[2]*$r[5]+_r[4],Gr=_r[1]*$r[4]+_r[3]*$r[5]+_r[5];return Fe[0]=Br,Fe[1]=Fr,Fe[2]=zr,Fe[3]=jr,Fe[4]=Ur,Fe[5]=Gr,Fe}function translate(Fe,_r,$r){return Fe[0]=_r[0],Fe[1]=_r[1],Fe[2]=_r[2],Fe[3]=_r[3],Fe[4]=_r[4]+$r[0],Fe[5]=_r[5]+$r[1],Fe}function rotate(Fe,_r,$r){var Br=_r[0],Fr=_r[2],zr=_r[4],jr=_r[1],Ur=_r[3],Gr=_r[5],Yr=Math.sin($r),Kr=Math.cos($r);return Fe[0]=Br*Kr+jr*Yr,Fe[1]=-Br*Yr+jr*Kr,Fe[2]=Fr*Kr+Ur*Yr,Fe[3]=-Fr*Yr+Kr*Ur,Fe[4]=Kr*zr+Yr*Gr,Fe[5]=Kr*Gr-Yr*zr,Fe}function scale$1(Fe,_r,$r){var Br=$r[0],Fr=$r[1];return Fe[0]=_r[0]*Br,Fe[1]=_r[1]*Fr,Fe[2]=_r[2]*Br,Fe[3]=_r[3]*Fr,Fe[4]=_r[4]*Br,Fe[5]=_r[5]*Fr,Fe}function invert(Fe,_r){var $r=_r[0],Br=_r[2],Fr=_r[4],zr=_r[1],jr=_r[3],Ur=_r[5],Gr=$r*jr-zr*Br;return Gr?(Gr=1/Gr,Fe[0]=jr*Gr,Fe[1]=-zr*Gr,Fe[2]=-Br*Gr,Fe[3]=$r*Gr,Fe[4]=(Br*Ur-jr*Fr)*Gr,Fe[5]=(zr*Fr-$r*Ur)*Gr,Fe):null}function clone$2(Fe){var _r=create$1();return copy(_r,Fe),_r}const matrix=Object.freeze(Object.defineProperty({__proto__:null,clone:clone$2,copy,create:create$1,identity,invert,mul,rotate,scale:scale$1,translate},Symbol.toStringTag,{value:"Module"}));var Point=function(){function Fe(_r,$r){this.x=_r||0,this.y=$r||0}return Fe.prototype.copy=function(_r){return this.x=_r.x,this.y=_r.y,this},Fe.prototype.clone=function(){return new Fe(this.x,this.y)},Fe.prototype.set=function(_r,$r){return this.x=_r,this.y=$r,this},Fe.prototype.equal=function(_r){return _r.x===this.x&&_r.y===this.y},Fe.prototype.add=function(_r){return this.x+=_r.x,this.y+=_r.y,this},Fe.prototype.scale=function(_r){this.x*=_r,this.y*=_r},Fe.prototype.scaleAndAdd=function(_r,$r){this.x+=_r.x*$r,this.y+=_r.y*$r},Fe.prototype.sub=function(_r){return this.x-=_r.x,this.y-=_r.y,this},Fe.prototype.dot=function(_r){return this.x*_r.x+this.y*_r.y},Fe.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Fe.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},Fe.prototype.normalize=function(){var _r=this.len();return this.x/=_r,this.y/=_r,this},Fe.prototype.distance=function(_r){var $r=this.x-_r.x,Br=this.y-_r.y;return Math.sqrt($r*$r+Br*Br)},Fe.prototype.distanceSquare=function(_r){var $r=this.x-_r.x,Br=this.y-_r.y;return $r*$r+Br*Br},Fe.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},Fe.prototype.transform=function(_r){if(_r){var $r=this.x,Br=this.y;return this.x=_r[0]*$r+_r[2]*Br+_r[4],this.y=_r[1]*$r+_r[3]*Br+_r[5],this}},Fe.prototype.toArray=function(_r){return _r[0]=this.x,_r[1]=this.y,_r},Fe.prototype.fromArray=function(_r){this.x=_r[0],this.y=_r[1]},Fe.set=function(_r,$r,Br){_r.x=$r,_r.y=Br},Fe.copy=function(_r,$r){_r.x=$r.x,_r.y=$r.y},Fe.len=function(_r){return Math.sqrt(_r.x*_r.x+_r.y*_r.y)},Fe.lenSquare=function(_r){return _r.x*_r.x+_r.y*_r.y},Fe.dot=function(_r,$r){return _r.x*$r.x+_r.y*$r.y},Fe.add=function(_r,$r,Br){_r.x=$r.x+Br.x,_r.y=$r.y+Br.y},Fe.sub=function(_r,$r,Br){_r.x=$r.x-Br.x,_r.y=$r.y-Br.y},Fe.scale=function(_r,$r,Br){_r.x=$r.x*Br,_r.y=$r.y*Br},Fe.scaleAndAdd=function(_r,$r,Br,Fr){_r.x=$r.x+Br.x*Fr,_r.y=$r.y+Br.y*Fr},Fe.lerp=function(_r,$r,Br,Fr){var zr=1-Fr;_r.x=zr*$r.x+Fr*Br.x,_r.y=zr*$r.y+Fr*Br.y},Fe}();const Point$1=Point;var mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point$1,rb=new Point$1,lb=new Point$1,rt=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function Fe(_r,$r,Br,Fr){Br<0&&(_r=_r+Br,Br=-Br),Fr<0&&($r=$r+Fr,Fr=-Fr),this.x=_r,this.y=$r,this.width=Br,this.height=Fr}return Fe.prototype.union=function(_r){var $r=mathMin$a(_r.x,this.x),Br=mathMin$a(_r.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(_r.x+_r.width,this.x+this.width)-$r:this.width=_r.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(_r.y+_r.height,this.y+this.height)-Br:this.height=_r.height,this.x=$r,this.y=Br},Fe.prototype.applyTransform=function(_r){Fe.applyTransform(this,this,_r)},Fe.prototype.calculateTransform=function(_r){var $r=this,Br=_r.width/$r.width,Fr=_r.height/$r.height,zr=create$1();return translate(zr,zr,[-$r.x,-$r.y]),scale$1(zr,zr,[Br,Fr]),translate(zr,zr,[_r.x,_r.y]),zr},Fe.prototype.intersect=function(_r,$r){if(!_r)return!1;_r instanceof Fe||(_r=Fe.create(_r));var Br=this,Fr=Br.x,zr=Br.x+Br.width,jr=Br.y,Ur=Br.y+Br.height,Gr=_r.x,Yr=_r.x+_r.width,Kr=_r.y,Qr=_r.y+_r.height,Jr=!(zr<Gr||Yr<Fr||Ur<Kr||Qr<jr);if($r){var rn=1/0,an=0,ln=Math.abs(zr-Gr),dn=Math.abs(Yr-Fr),hn=Math.abs(Ur-Kr),gn=Math.abs(Qr-jr),bn=Math.min(ln,dn),kn=Math.min(hn,gn);zr<Gr||Yr<Fr?bn>an&&(an=bn,ln<dn?Point$1.set(maxTv$1,-ln,0):Point$1.set(maxTv$1,dn,0)):bn<rn&&(rn=bn,ln<dn?Point$1.set(minTv$1,ln,0):Point$1.set(minTv$1,-dn,0)),Ur<Kr||Qr<jr?kn>an&&(an=kn,hn<gn?Point$1.set(maxTv$1,0,-hn):Point$1.set(maxTv$1,0,gn)):bn<rn&&(rn=bn,hn<gn?Point$1.set(minTv$1,0,hn):Point$1.set(minTv$1,0,-gn))}return $r&&Point$1.copy($r,Jr?minTv$1:maxTv$1),Jr},Fe.prototype.contain=function(_r,$r){var Br=this;return _r>=Br.x&&_r<=Br.x+Br.width&&$r>=Br.y&&$r<=Br.y+Br.height},Fe.prototype.clone=function(){return new Fe(this.x,this.y,this.width,this.height)},Fe.prototype.copy=function(_r){Fe.copy(this,_r)},Fe.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},Fe.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},Fe.prototype.isZero=function(){return this.width===0||this.height===0},Fe.create=function(_r){return new Fe(_r.x,_r.y,_r.width,_r.height)},Fe.copy=function(_r,$r){_r.x=$r.x,_r.y=$r.y,_r.width=$r.width,_r.height=$r.height},Fe.applyTransform=function(_r,$r,Br){if(!Br){_r!==$r&&Fe.copy(_r,$r);return}if(Br[1]<1e-5&&Br[1]>-1e-5&&Br[2]<1e-5&&Br[2]>-1e-5){var Fr=Br[0],zr=Br[3],jr=Br[4],Ur=Br[5];_r.x=$r.x*Fr+jr,_r.y=$r.y*zr+Ur,_r.width=$r.width*Fr,_r.height=$r.height*zr,_r.width<0&&(_r.x+=_r.width,_r.width=-_r.width),_r.height<0&&(_r.y+=_r.height,_r.height=-_r.height);return}lt.x=lb.x=$r.x,lt.y=rt.y=$r.y,rb.x=rt.x=$r.x+$r.width,rb.y=lb.y=$r.y+$r.height,lt.transform(Br),rt.transform(Br),rb.transform(Br),lb.transform(Br),_r.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),_r.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var Gr=mathMax$a(lt.x,rb.x,lb.x,rt.x),Yr=mathMax$a(lt.y,rb.y,lb.y,rt.y);_r.width=Gr-_r.x,_r.height=Yr-_r.y},Fe}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(Fe,_r,$r){return{type:Fe,event:$r,target:_r.target,topTarget:_r.topTarget,cancelBubble:!1,offsetX:$r.zrX,offsetY:$r.zrY,gestureEvent:$r.gestureEvent,pinchX:$r.pinchX,pinchY:$r.pinchY,pinchScale:$r.pinchScale,wheelDelta:$r.zrDelta,zrByTouch:$r.zrByTouch,which:$r.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.handler=null,$r}return _r.prototype.dispose=function(){},_r.prototype.setCursor=function(){},_r}(Eventful$1),HoveredResult=function(){function Fe(_r,$r){this.x=_r,this.y=$r}return Fe}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr,zr,jr){var Ur=Fe.call(this)||this;return Ur._hovered=new HoveredResult(0,0),Ur.storage=$r,Ur.painter=Br,Ur.painterRoot=zr,Ur._pointerSize=jr,Fr=Fr||new EmptyProxy,Ur.proxy=null,Ur.setHandlerProxy(Fr),Ur._draggingMgr=new Draggable$1(Ur),Ur}return _r.prototype.setHandlerProxy=function($r){this.proxy&&this.proxy.dispose(),$r&&(each$f(handlerNames,function(Br){$r.on&&$r.on(Br,this[Br],this)},this),$r.handler=this),this.proxy=$r},_r.prototype.mousemove=function($r){var Br=$r.zrX,Fr=$r.zrY,zr=isOutsideBoundary(this,Br,Fr),jr=this._hovered,Ur=jr.target;Ur&&!Ur.__zr&&(jr=this.findHover(jr.x,jr.y),Ur=jr.target);var Gr=this._hovered=zr?new HoveredResult(Br,Fr):this.findHover(Br,Fr),Yr=Gr.target,Kr=this.proxy;Kr.setCursor&&Kr.setCursor(Yr?Yr.cursor:"default"),Ur&&Yr!==Ur&&this.dispatchToElement(jr,"mouseout",$r),this.dispatchToElement(Gr,"mousemove",$r),Yr&&Yr!==Ur&&this.dispatchToElement(Gr,"mouseover",$r)},_r.prototype.mouseout=function($r){var Br=$r.zrEventControl;Br!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",$r),Br!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:$r})},_r.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},_r.prototype.dispatch=function($r,Br){var Fr=this[$r];Fr&&Fr.call(this,Br)},_r.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},_r.prototype.setCursorStyle=function($r){var Br=this.proxy;Br.setCursor&&Br.setCursor($r)},_r.prototype.dispatchToElement=function($r,Br,Fr){$r=$r||{};var zr=$r.target;if(!(zr&&zr.silent)){for(var jr="on"+Br,Ur=makeEventPacket(Br,$r,Fr);zr&&(zr[jr]&&(Ur.cancelBubble=!!zr[jr].call(zr,Ur)),zr.trigger(Br,Ur),zr=zr.__hostTarget?zr.__hostTarget:zr.parent,!Ur.cancelBubble););Ur.cancelBubble||(this.trigger(Br,Ur),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(Gr){typeof Gr[jr]=="function"&&Gr[jr].call(Gr,Ur),Gr.trigger&&Gr.trigger(Br,Ur)}))}},_r.prototype.findHover=function($r,Br,Fr){var zr=this.storage.getDisplayList(),jr=new HoveredResult($r,Br);if(setHoverTarget(zr,jr,$r,Br,Fr),this._pointerSize&&!jr.target){for(var Ur=[],Gr=this._pointerSize,Yr=Gr/2,Kr=new BoundingRect$1($r-Yr,Br-Yr,Gr,Gr),Qr=zr.length-1;Qr>=0;Qr--){var Jr=zr[Qr];Jr!==Fr&&!Jr.ignore&&!Jr.ignoreCoarsePointer&&(!Jr.parent||!Jr.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(Jr.getBoundingRect()),Jr.transform&&tmpRect$1.applyTransform(Jr.transform),tmpRect$1.intersect(Kr)&&Ur.push(Jr))}if(Ur.length)for(var rn=4,an=Math.PI/12,ln=Math.PI*2,dn=0;dn<Yr;dn+=rn)for(var hn=0;hn<ln;hn+=an){var gn=$r+dn*Math.cos(hn),bn=Br+dn*Math.sin(hn);if(setHoverTarget(Ur,jr,gn,bn,Fr),jr.target)return jr}}return jr},_r.prototype.processGesture=function($r,Br){this._gestureMgr||(this._gestureMgr=new GestureMgr);var Fr=this._gestureMgr;Br==="start"&&Fr.clear();var zr=Fr.recognize($r,this.findHover($r.zrX,$r.zrY,null).target,this.proxy.dom);if(Br==="end"&&Fr.clear(),zr){var jr=zr.type;$r.gestureEvent=jr;var Ur=new HoveredResult;Ur.target=zr.target,this.dispatchToElement(Ur,jr,zr.event)}},_r}(Eventful$1);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Fe){Handler.prototype[Fe]=function(_r){var $r=_r.zrX,Br=_r.zrY,Fr=isOutsideBoundary(this,$r,Br),zr,jr;if((Fe!=="mouseup"||!Fr)&&(zr=this.findHover($r,Br),jr=zr.target),Fe==="mousedown")this._downEl=jr,this._downPoint=[_r.zrX,_r.zrY],this._upEl=jr;else if(Fe==="mouseup")this._upEl=jr;else if(Fe==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[_r.zrX,_r.zrY])>4)return;this._downPoint=null}this.dispatchToElement(zr,Fe,_r)}});function isHover(Fe,_r,$r){if(Fe[Fe.rectHover?"rectContain":"contain"](_r,$r)){for(var Br=Fe,Fr=void 0,zr=!1;Br;){if(Br.ignoreClip&&(zr=!0),!zr){var jr=Br.getClipPath();if(jr&&!jr.contain(_r,$r))return!1;Br.silent&&(Fr=!0)}var Ur=Br.__hostTarget;Br=Ur||Br.parent}return Fr?SILENT:!0}return!1}function setHoverTarget(Fe,_r,$r,Br,Fr){for(var zr=Fe.length-1;zr>=0;zr--){var jr=Fe[zr],Ur=void 0;if(jr!==Fr&&!jr.ignore&&(Ur=isHover(jr,$r,Br))&&(!_r.topTarget&&(_r.topTarget=jr),Ur!==SILENT)){_r.target=jr;break}}}function isOutsideBoundary(Fe,_r,$r){var Br=Fe.painter;return _r<0||_r>Br.getWidth()||$r<0||$r>Br.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(Fe){for(var _r=0;Fe>=DEFAULT_MIN_MERGE;)_r|=Fe&1,Fe>>=1;return Fe+_r}function makeAscendingRun(Fe,_r,$r,Br){var Fr=_r+1;if(Fr===$r)return 1;if(Br(Fe[Fr++],Fe[_r])<0){for(;Fr<$r&&Br(Fe[Fr],Fe[Fr-1])<0;)Fr++;reverseRun(Fe,_r,Fr)}else for(;Fr<$r&&Br(Fe[Fr],Fe[Fr-1])>=0;)Fr++;return Fr-_r}function reverseRun(Fe,_r,$r){for($r--;_r<$r;){var Br=Fe[_r];Fe[_r++]=Fe[$r],Fe[$r--]=Br}}function binaryInsertionSort(Fe,_r,$r,Br,Fr){for(Br===_r&&Br++;Br<$r;Br++){for(var zr=Fe[Br],jr=_r,Ur=Br,Gr;jr<Ur;)Gr=jr+Ur>>>1,Fr(zr,Fe[Gr])<0?Ur=Gr:jr=Gr+1;var Yr=Br-jr;switch(Yr){case 3:Fe[jr+3]=Fe[jr+2];case 2:Fe[jr+2]=Fe[jr+1];case 1:Fe[jr+1]=Fe[jr];break;default:for(;Yr>0;)Fe[jr+Yr]=Fe[jr+Yr-1],Yr--}Fe[jr]=zr}}function gallopLeft(Fe,_r,$r,Br,Fr,zr){var jr=0,Ur=0,Gr=1;if(zr(Fe,_r[$r+Fr])>0){for(Ur=Br-Fr;Gr<Ur&&zr(Fe,_r[$r+Fr+Gr])>0;)jr=Gr,Gr=(Gr<<1)+1,Gr<=0&&(Gr=Ur);Gr>Ur&&(Gr=Ur),jr+=Fr,Gr+=Fr}else{for(Ur=Fr+1;Gr<Ur&&zr(Fe,_r[$r+Fr-Gr])<=0;)jr=Gr,Gr=(Gr<<1)+1,Gr<=0&&(Gr=Ur);Gr>Ur&&(Gr=Ur);var Yr=jr;jr=Fr-Gr,Gr=Fr-Yr}for(jr++;jr<Gr;){var Kr=jr+(Gr-jr>>>1);zr(Fe,_r[$r+Kr])>0?jr=Kr+1:Gr=Kr}return Gr}function gallopRight(Fe,_r,$r,Br,Fr,zr){var jr=0,Ur=0,Gr=1;if(zr(Fe,_r[$r+Fr])<0){for(Ur=Fr+1;Gr<Ur&&zr(Fe,_r[$r+Fr-Gr])<0;)jr=Gr,Gr=(Gr<<1)+1,Gr<=0&&(Gr=Ur);Gr>Ur&&(Gr=Ur);var Yr=jr;jr=Fr-Gr,Gr=Fr-Yr}else{for(Ur=Br-Fr;Gr<Ur&&zr(Fe,_r[$r+Fr+Gr])>=0;)jr=Gr,Gr=(Gr<<1)+1,Gr<=0&&(Gr=Ur);Gr>Ur&&(Gr=Ur),jr+=Fr,Gr+=Fr}for(jr++;jr<Gr;){var Kr=jr+(Gr-jr>>>1);zr(Fe,_r[$r+Kr])<0?Gr=Kr:jr=Kr+1}return Gr}function TimSort(Fe,_r){var $r=DEFAULT_MIN_GALLOPING,Br,Fr,zr=0;Fe.length;var jr=[];Br=[],Fr=[];function Ur(rn,an){Br[zr]=rn,Fr[zr]=an,zr+=1}function Gr(){for(;zr>1;){var rn=zr-2;if(rn>=1&&Fr[rn-1]<=Fr[rn]+Fr[rn+1]||rn>=2&&Fr[rn-2]<=Fr[rn]+Fr[rn-1])Fr[rn-1]<Fr[rn+1]&&rn--;else if(Fr[rn]>Fr[rn+1])break;Kr(rn)}}function Yr(){for(;zr>1;){var rn=zr-2;rn>0&&Fr[rn-1]<Fr[rn+1]&&rn--,Kr(rn)}}function Kr(rn){var an=Br[rn],ln=Fr[rn],dn=Br[rn+1],hn=Fr[rn+1];Fr[rn]=ln+hn,rn===zr-3&&(Br[rn+1]=Br[rn+2],Fr[rn+1]=Fr[rn+2]),zr--;var gn=gallopRight(Fe[dn],Fe,an,ln,0,_r);an+=gn,ln-=gn,ln!==0&&(hn=gallopLeft(Fe[an+ln-1],Fe,dn,hn,hn-1,_r),hn!==0&&(ln<=hn?Qr(an,ln,dn,hn):Jr(an,ln,dn,hn)))}function Qr(rn,an,ln,dn){var hn=0;for(hn=0;hn<an;hn++)jr[hn]=Fe[rn+hn];var gn=0,bn=ln,kn=rn;if(Fe[kn++]=Fe[bn++],--dn===0){for(hn=0;hn<an;hn++)Fe[kn+hn]=jr[gn+hn];return}if(an===1){for(hn=0;hn<dn;hn++)Fe[kn+hn]=Fe[bn+hn];Fe[kn+dn]=jr[gn];return}for(var Sn=$r,_n,pn,Cn;;){_n=0,pn=0,Cn=!1;do if(_r(Fe[bn],jr[gn])<0){if(Fe[kn++]=Fe[bn++],pn++,_n=0,--dn===0){Cn=!0;break}}else if(Fe[kn++]=jr[gn++],_n++,pn=0,--an===1){Cn=!0;break}while((_n|pn)<Sn);if(Cn)break;do{if(_n=gallopRight(Fe[bn],jr,gn,an,0,_r),_n!==0){for(hn=0;hn<_n;hn++)Fe[kn+hn]=jr[gn+hn];if(kn+=_n,gn+=_n,an-=_n,an<=1){Cn=!0;break}}if(Fe[kn++]=Fe[bn++],--dn===0){Cn=!0;break}if(pn=gallopLeft(jr[gn],Fe,bn,dn,0,_r),pn!==0){for(hn=0;hn<pn;hn++)Fe[kn+hn]=Fe[bn+hn];if(kn+=pn,bn+=pn,dn-=pn,dn===0){Cn=!0;break}}if(Fe[kn++]=jr[gn++],--an===1){Cn=!0;break}Sn--}while(_n>=DEFAULT_MIN_GALLOPING||pn>=DEFAULT_MIN_GALLOPING);if(Cn)break;Sn<0&&(Sn=0),Sn+=2}if($r=Sn,$r<1&&($r=1),an===1){for(hn=0;hn<dn;hn++)Fe[kn+hn]=Fe[bn+hn];Fe[kn+dn]=jr[gn]}else{if(an===0)throw new Error;for(hn=0;hn<an;hn++)Fe[kn+hn]=jr[gn+hn]}}function Jr(rn,an,ln,dn){var hn=0;for(hn=0;hn<dn;hn++)jr[hn]=Fe[ln+hn];var gn=rn+an-1,bn=dn-1,kn=ln+dn-1,Sn=0,_n=0;if(Fe[kn--]=Fe[gn--],--an===0){for(Sn=kn-(dn-1),hn=0;hn<dn;hn++)Fe[Sn+hn]=jr[hn];return}if(dn===1){for(kn-=an,gn-=an,_n=kn+1,Sn=gn+1,hn=an-1;hn>=0;hn--)Fe[_n+hn]=Fe[Sn+hn];Fe[kn]=jr[bn];return}for(var pn=$r;;){var Cn=0,En=0,Pn=!1;do if(_r(jr[bn],Fe[gn])<0){if(Fe[kn--]=Fe[gn--],Cn++,En=0,--an===0){Pn=!0;break}}else if(Fe[kn--]=jr[bn--],En++,Cn=0,--dn===1){Pn=!0;break}while((Cn|En)<pn);if(Pn)break;do{if(Cn=an-gallopRight(jr[bn],Fe,rn,an,an-1,_r),Cn!==0){for(kn-=Cn,gn-=Cn,an-=Cn,_n=kn+1,Sn=gn+1,hn=Cn-1;hn>=0;hn--)Fe[_n+hn]=Fe[Sn+hn];if(an===0){Pn=!0;break}}if(Fe[kn--]=jr[bn--],--dn===1){Pn=!0;break}if(En=dn-gallopLeft(Fe[gn],jr,0,dn,dn-1,_r),En!==0){for(kn-=En,bn-=En,dn-=En,_n=kn+1,Sn=bn+1,hn=0;hn<En;hn++)Fe[_n+hn]=jr[Sn+hn];if(dn<=1){Pn=!0;break}}if(Fe[kn--]=Fe[gn--],--an===0){Pn=!0;break}pn--}while(Cn>=DEFAULT_MIN_GALLOPING||En>=DEFAULT_MIN_GALLOPING);if(Pn)break;pn<0&&(pn=0),pn+=2}if($r=pn,$r<1&&($r=1),dn===1){for(kn-=an,gn-=an,_n=kn+1,Sn=gn+1,hn=an-1;hn>=0;hn--)Fe[_n+hn]=Fe[Sn+hn];Fe[kn]=jr[bn]}else{if(dn===0)throw new Error;for(Sn=kn-(dn-1),hn=0;hn<dn;hn++)Fe[Sn+hn]=jr[hn]}}return{mergeRuns:Gr,forceMergeRuns:Yr,pushRun:Ur}}function sort$2(Fe,_r,$r,Br){$r||($r=0),Br||(Br=Fe.length);var Fr=Br-$r;if(!(Fr<2)){var zr=0;if(Fr<DEFAULT_MIN_MERGE){zr=makeAscendingRun(Fe,$r,Br,_r),binaryInsertionSort(Fe,$r,Br,$r+zr,_r);return}var jr=TimSort(Fe,_r),Ur=minRunLength(Fr);do{if(zr=makeAscendingRun(Fe,$r,Br,_r),zr<Ur){var Gr=Fr;Gr>Ur&&(Gr=Ur),binaryInsertionSort(Fe,$r,$r+Gr,$r+zr,_r),zr=Gr}jr.pushRun($r,zr),jr.mergeRuns(),Fr-=zr,$r+=zr}while(Fr!==0);jr.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(Fe,_r){return Fe.zlevel===_r.zlevel?Fe.z===_r.z?Fe.z2-_r.z2:Fe.z-_r.z:Fe.zlevel-_r.zlevel}var Storage=function(){function Fe(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return Fe.prototype.traverse=function(_r,$r){for(var Br=0;Br<this._roots.length;Br++)this._roots[Br].traverse(_r,$r)},Fe.prototype.getDisplayList=function(_r,$r){$r=$r||!1;var Br=this._displayList;return(_r||!Br.length)&&this.updateDisplayList($r),Br},Fe.prototype.updateDisplayList=function(_r){this._displayListLen=0;for(var $r=this._roots,Br=this._displayList,Fr=0,zr=$r.length;Fr<zr;Fr++)this._updateAndAddDisplayable($r[Fr],null,_r);Br.length=this._displayListLen,sort$2(Br,shapeCompareFunc)},Fe.prototype._updateAndAddDisplayable=function(_r,$r,Br){if(!(_r.ignore&&!Br)){_r.beforeUpdate(),_r.update(),_r.afterUpdate();var Fr=_r.getClipPath();if(_r.ignoreClip)$r=null;else if(Fr){$r?$r=$r.slice():$r=[];for(var zr=Fr,jr=_r;zr;)zr.parent=jr,zr.updateTransform(),$r.push(zr),jr=zr,zr=zr.getClipPath()}if(_r.childrenRef){for(var Ur=_r.childrenRef(),Gr=0;Gr<Ur.length;Gr++){var Yr=Ur[Gr];_r.__dirty&&(Yr.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(Yr,$r,Br)}_r.__dirty=0}else{var Kr=_r;$r&&$r.length?Kr.__clipPaths=$r:Kr.__clipPaths&&Kr.__clipPaths.length>0&&(Kr.__clipPaths=[]),isNaN(Kr.z)&&(logInvalidZError(),Kr.z=0),isNaN(Kr.z2)&&(logInvalidZError(),Kr.z2=0),isNaN(Kr.zlevel)&&(logInvalidZError(),Kr.zlevel=0),this._displayList[this._displayListLen++]=Kr}var Qr=_r.getDecalElement&&_r.getDecalElement();Qr&&this._updateAndAddDisplayable(Qr,$r,Br);var Jr=_r.getTextGuideLine();Jr&&this._updateAndAddDisplayable(Jr,$r,Br);var rn=_r.getTextContent();rn&&this._updateAndAddDisplayable(rn,$r,Br)}},Fe.prototype.addRoot=function(_r){_r.__zr&&_r.__zr.storage===this||this._roots.push(_r)},Fe.prototype.delRoot=function(_r){if(_r instanceof Array){for(var $r=0,Br=_r.length;$r<Br;$r++)this.delRoot(_r[$r]);return}var Fr=indexOf(this._roots,_r);Fr>=0&&this._roots.splice(Fr,1)},Fe.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Fe.prototype.getRoots=function(){return this._roots},Fe.prototype.dispose=function(){this._displayList=null,this._roots=null},Fe}();const Storage$1=Storage;var requestAnimationFrame$1;requestAnimationFrame$1=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(Fe){return setTimeout(Fe,16)};const requestAnimationFrame$2=requestAnimationFrame$1;var easingFuncs={linear:function(Fe){return Fe},quadraticIn:function(Fe){return Fe*Fe},quadraticOut:function(Fe){return Fe*(2-Fe)},quadraticInOut:function(Fe){return(Fe*=2)<1?.5*Fe*Fe:-.5*(--Fe*(Fe-2)-1)},cubicIn:function(Fe){return Fe*Fe*Fe},cubicOut:function(Fe){return--Fe*Fe*Fe+1},cubicInOut:function(Fe){return(Fe*=2)<1?.5*Fe*Fe*Fe:.5*((Fe-=2)*Fe*Fe+2)},quarticIn:function(Fe){return Fe*Fe*Fe*Fe},quarticOut:function(Fe){return 1- --Fe*Fe*Fe*Fe},quarticInOut:function(Fe){return(Fe*=2)<1?.5*Fe*Fe*Fe*Fe:-.5*((Fe-=2)*Fe*Fe*Fe-2)},quinticIn:function(Fe){return Fe*Fe*Fe*Fe*Fe},quinticOut:function(Fe){return--Fe*Fe*Fe*Fe*Fe+1},quinticInOut:function(Fe){return(Fe*=2)<1?.5*Fe*Fe*Fe*Fe*Fe:.5*((Fe-=2)*Fe*Fe*Fe*Fe+2)},sinusoidalIn:function(Fe){return 1-Math.cos(Fe*Math.PI/2)},sinusoidalOut:function(Fe){return Math.sin(Fe*Math.PI/2)},sinusoidalInOut:function(Fe){return .5*(1-Math.cos(Math.PI*Fe))},exponentialIn:function(Fe){return Fe===0?0:Math.pow(1024,Fe-1)},exponentialOut:function(Fe){return Fe===1?1:1-Math.pow(2,-10*Fe)},exponentialInOut:function(Fe){return Fe===0?0:Fe===1?1:(Fe*=2)<1?.5*Math.pow(1024,Fe-1):.5*(-Math.pow(2,-10*(Fe-1))+2)},circularIn:function(Fe){return 1-Math.sqrt(1-Fe*Fe)},circularOut:function(Fe){return Math.sqrt(1- --Fe*Fe)},circularInOut:function(Fe){return(Fe*=2)<1?-.5*(Math.sqrt(1-Fe*Fe)-1):.5*(Math.sqrt(1-(Fe-=2)*Fe)+1)},elasticIn:function(Fe){var _r,$r=.1,Br=.4;return Fe===0?0:Fe===1?1:(!$r||$r<1?($r=1,_r=Br/4):_r=Br*Math.asin(1/$r)/(2*Math.PI),-($r*Math.pow(2,10*(Fe-=1))*Math.sin((Fe-_r)*(2*Math.PI)/Br)))},elasticOut:function(Fe){var _r,$r=.1,Br=.4;return Fe===0?0:Fe===1?1:(!$r||$r<1?($r=1,_r=Br/4):_r=Br*Math.asin(1/$r)/(2*Math.PI),$r*Math.pow(2,-10*Fe)*Math.sin((Fe-_r)*(2*Math.PI)/Br)+1)},elasticInOut:function(Fe){var _r,$r=.1,Br=.4;return Fe===0?0:Fe===1?1:(!$r||$r<1?($r=1,_r=Br/4):_r=Br*Math.asin(1/$r)/(2*Math.PI),(Fe*=2)<1?-.5*($r*Math.pow(2,10*(Fe-=1))*Math.sin((Fe-_r)*(2*Math.PI)/Br)):$r*Math.pow(2,-10*(Fe-=1))*Math.sin((Fe-_r)*(2*Math.PI)/Br)*.5+1)},backIn:function(Fe){var _r=1.70158;return Fe*Fe*((_r+1)*Fe-_r)},backOut:function(Fe){var _r=1.70158;return--Fe*Fe*((_r+1)*Fe+_r)+1},backInOut:function(Fe){var _r=2.5949095;return(Fe*=2)<1?.5*(Fe*Fe*((_r+1)*Fe-_r)):.5*((Fe-=2)*Fe*((_r+1)*Fe+_r)+2)},bounceIn:function(Fe){return 1-easingFuncs.bounceOut(1-Fe)},bounceOut:function(Fe){return Fe<1/2.75?7.5625*Fe*Fe:Fe<2/2.75?7.5625*(Fe-=1.5/2.75)*Fe+.75:Fe<2.5/2.75?7.5625*(Fe-=2.25/2.75)*Fe+.9375:7.5625*(Fe-=2.625/2.75)*Fe+.984375},bounceInOut:function(Fe){return Fe<.5?easingFuncs.bounceIn(Fe*2)*.5:easingFuncs.bounceOut(Fe*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(Fe){return Fe>-EPSILON$4&&Fe<EPSILON$4}function isNotAroundZero$1(Fe){return Fe>EPSILON$4||Fe<-EPSILON$4}function cubicAt(Fe,_r,$r,Br,Fr){var zr=1-Fr;return zr*zr*(zr*Fe+3*Fr*_r)+Fr*Fr*(Fr*Br+3*zr*$r)}function cubicDerivativeAt(Fe,_r,$r,Br,Fr){var zr=1-Fr;return 3*(((_r-Fe)*zr+2*($r-_r)*Fr)*zr+(Br-$r)*Fr*Fr)}function cubicRootAt(Fe,_r,$r,Br,Fr,zr){var jr=Br+3*(_r-$r)-Fe,Ur=3*($r-_r*2+Fe),Gr=3*(_r-Fe),Yr=Fe-Fr,Kr=Ur*Ur-3*jr*Gr,Qr=Ur*Gr-9*jr*Yr,Jr=Gr*Gr-3*Ur*Yr,rn=0;if(isAroundZero$1(Kr)&&isAroundZero$1(Qr))if(isAroundZero$1(Ur))zr[0]=0;else{var an=-Gr/Ur;an>=0&&an<=1&&(zr[rn++]=an)}else{var ln=Qr*Qr-4*Kr*Jr;if(isAroundZero$1(ln)){var dn=Qr/Kr,an=-Ur/jr+dn,hn=-dn/2;an>=0&&an<=1&&(zr[rn++]=an),hn>=0&&hn<=1&&(zr[rn++]=hn)}else if(ln>0){var gn=mathSqrt$3(ln),bn=Kr*Ur+1.5*jr*(-Qr+gn),kn=Kr*Ur+1.5*jr*(-Qr-gn);bn<0?bn=-mathPow$2(-bn,ONE_THIRD):bn=mathPow$2(bn,ONE_THIRD),kn<0?kn=-mathPow$2(-kn,ONE_THIRD):kn=mathPow$2(kn,ONE_THIRD);var an=(-Ur-(bn+kn))/(3*jr);an>=0&&an<=1&&(zr[rn++]=an)}else{var Sn=(2*Kr*Ur-3*jr*Qr)/(2*mathSqrt$3(Kr*Kr*Kr)),_n=Math.acos(Sn)/3,pn=mathSqrt$3(Kr),Cn=Math.cos(_n),an=(-Ur-2*pn*Cn)/(3*jr),hn=(-Ur+pn*(Cn+THREE_SQRT*Math.sin(_n)))/(3*jr),En=(-Ur+pn*(Cn-THREE_SQRT*Math.sin(_n)))/(3*jr);an>=0&&an<=1&&(zr[rn++]=an),hn>=0&&hn<=1&&(zr[rn++]=hn),En>=0&&En<=1&&(zr[rn++]=En)}}return rn}function cubicExtrema(Fe,_r,$r,Br,Fr){var zr=6*$r-12*_r+6*Fe,jr=9*_r+3*Br-3*Fe-9*$r,Ur=3*_r-3*Fe,Gr=0;if(isAroundZero$1(jr)){if(isNotAroundZero$1(zr)){var Yr=-Ur/zr;Yr>=0&&Yr<=1&&(Fr[Gr++]=Yr)}}else{var Kr=zr*zr-4*jr*Ur;if(isAroundZero$1(Kr))Fr[0]=-zr/(2*jr);else if(Kr>0){var Qr=mathSqrt$3(Kr),Yr=(-zr+Qr)/(2*jr),Jr=(-zr-Qr)/(2*jr);Yr>=0&&Yr<=1&&(Fr[Gr++]=Yr),Jr>=0&&Jr<=1&&(Fr[Gr++]=Jr)}}return Gr}function cubicSubdivide(Fe,_r,$r,Br,Fr,zr){var jr=(_r-Fe)*Fr+Fe,Ur=($r-_r)*Fr+_r,Gr=(Br-$r)*Fr+$r,Yr=(Ur-jr)*Fr+jr,Kr=(Gr-Ur)*Fr+Ur,Qr=(Kr-Yr)*Fr+Yr;zr[0]=Fe,zr[1]=jr,zr[2]=Yr,zr[3]=Qr,zr[4]=Qr,zr[5]=Kr,zr[6]=Gr,zr[7]=Br}function cubicProjectPoint(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr,Kr){var Qr,Jr=.005,rn=1/0,an,ln,dn,hn;_v0[0]=Gr,_v0[1]=Yr;for(var gn=0;gn<1;gn+=.05)_v1[0]=cubicAt(Fe,$r,Fr,jr,gn),_v1[1]=cubicAt(_r,Br,zr,Ur,gn),dn=distSquare(_v0,_v1),dn<rn&&(Qr=gn,rn=dn);rn=1/0;for(var bn=0;bn<32&&!(Jr<EPSILON_NUMERIC);bn++)an=Qr-Jr,ln=Qr+Jr,_v1[0]=cubicAt(Fe,$r,Fr,jr,an),_v1[1]=cubicAt(_r,Br,zr,Ur,an),dn=distSquare(_v1,_v0),an>=0&&dn<rn?(Qr=an,rn=dn):(_v2[0]=cubicAt(Fe,$r,Fr,jr,ln),_v2[1]=cubicAt(_r,Br,zr,Ur,ln),hn=distSquare(_v2,_v0),ln<=1&&hn<rn?(Qr=ln,rn=hn):Jr*=.5);return Kr&&(Kr[0]=cubicAt(Fe,$r,Fr,jr,Qr),Kr[1]=cubicAt(_r,Br,zr,Ur,Qr)),mathSqrt$3(rn)}function cubicLength(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){for(var Yr=Fe,Kr=_r,Qr=0,Jr=1/Gr,rn=1;rn<=Gr;rn++){var an=rn*Jr,ln=cubicAt(Fe,$r,Fr,jr,an),dn=cubicAt(_r,Br,zr,Ur,an),hn=ln-Yr,gn=dn-Kr;Qr+=Math.sqrt(hn*hn+gn*gn),Yr=ln,Kr=dn}return Qr}function quadraticAt$1(Fe,_r,$r,Br){var Fr=1-Br;return Fr*(Fr*Fe+2*Br*_r)+Br*Br*$r}function quadraticDerivativeAt(Fe,_r,$r,Br){return 2*((1-Br)*(_r-Fe)+Br*($r-_r))}function quadraticRootAt(Fe,_r,$r,Br,Fr){var zr=Fe-2*_r+$r,jr=2*(_r-Fe),Ur=Fe-Br,Gr=0;if(isAroundZero$1(zr)){if(isNotAroundZero$1(jr)){var Yr=-Ur/jr;Yr>=0&&Yr<=1&&(Fr[Gr++]=Yr)}}else{var Kr=jr*jr-4*zr*Ur;if(isAroundZero$1(Kr)){var Yr=-jr/(2*zr);Yr>=0&&Yr<=1&&(Fr[Gr++]=Yr)}else if(Kr>0){var Qr=mathSqrt$3(Kr),Yr=(-jr+Qr)/(2*zr),Jr=(-jr-Qr)/(2*zr);Yr>=0&&Yr<=1&&(Fr[Gr++]=Yr),Jr>=0&&Jr<=1&&(Fr[Gr++]=Jr)}}return Gr}function quadraticExtremum(Fe,_r,$r){var Br=Fe+$r-2*_r;return Br===0?.5:(Fe-_r)/Br}function quadraticSubdivide(Fe,_r,$r,Br,Fr){var zr=(_r-Fe)*Br+Fe,jr=($r-_r)*Br+_r,Ur=(jr-zr)*Br+zr;Fr[0]=Fe,Fr[1]=zr,Fr[2]=Ur,Fr[3]=Ur,Fr[4]=jr,Fr[5]=$r}function quadraticProjectPoint(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){var Yr,Kr=.005,Qr=1/0;_v0[0]=jr,_v0[1]=Ur;for(var Jr=0;Jr<1;Jr+=.05){_v1[0]=quadraticAt$1(Fe,$r,Fr,Jr),_v1[1]=quadraticAt$1(_r,Br,zr,Jr);var rn=distSquare(_v0,_v1);rn<Qr&&(Yr=Jr,Qr=rn)}Qr=1/0;for(var an=0;an<32&&!(Kr<EPSILON_NUMERIC);an++){var ln=Yr-Kr,dn=Yr+Kr;_v1[0]=quadraticAt$1(Fe,$r,Fr,ln),_v1[1]=quadraticAt$1(_r,Br,zr,ln);var rn=distSquare(_v1,_v0);if(ln>=0&&rn<Qr)Yr=ln,Qr=rn;else{_v2[0]=quadraticAt$1(Fe,$r,Fr,dn),_v2[1]=quadraticAt$1(_r,Br,zr,dn);var hn=distSquare(_v2,_v0);dn<=1&&hn<Qr?(Yr=dn,Qr=hn):Kr*=.5}}return Gr&&(Gr[0]=quadraticAt$1(Fe,$r,Fr,Yr),Gr[1]=quadraticAt$1(_r,Br,zr,Yr)),mathSqrt$3(Qr)}function quadraticLength(Fe,_r,$r,Br,Fr,zr,jr){for(var Ur=Fe,Gr=_r,Yr=0,Kr=1/jr,Qr=1;Qr<=jr;Qr++){var Jr=Qr*Kr,rn=quadraticAt$1(Fe,$r,Fr,Jr),an=quadraticAt$1(_r,Br,zr,Jr),ln=rn-Ur,dn=an-Gr;Yr+=Math.sqrt(ln*ln+dn*dn),Ur=rn,Gr=an}return Yr}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(Fe){var _r=Fe&&regexp.exec(Fe);if(_r){var $r=_r[1].split(","),Br=+trim$1($r[0]),Fr=+trim$1($r[1]),zr=+trim$1($r[2]),jr=+trim$1($r[3]);if(isNaN(Br+Fr+zr+jr))return;var Ur=[];return function(Gr){return Gr<=0?0:Gr>=1?1:cubicRootAt(0,Br,zr,1,Gr,Ur)&&cubicAt(0,Fr,jr,1,Ur[0])}}}var Clip=function(){function Fe(_r){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=_r.life||1e3,this._delay=_r.delay||0,this.loop=_r.loop||!1,this.onframe=_r.onframe||noop,this.ondestroy=_r.ondestroy||noop,this.onrestart=_r.onrestart||noop,_r.easing&&this.setEasing(_r.easing)}return Fe.prototype.step=function(_r,$r){if(this._inited||(this._startTime=_r+this._delay,this._inited=!0),this._paused){this._pausedTime+=$r;return}var Br=this._life,Fr=_r-this._startTime-this._pausedTime,zr=Fr/Br;zr<0&&(zr=0),zr=Math.min(zr,1);var jr=this.easingFunc,Ur=jr?jr(zr):zr;if(this.onframe(Ur),zr===1)if(this.loop){var Gr=Fr%Br;this._startTime=_r-Gr,this._pausedTime=0,this.onrestart()}else return!0;return!1},Fe.prototype.pause=function(){this._paused=!0},Fe.prototype.resume=function(){this._paused=!1},Fe.prototype.setEasing=function(_r){this.easing=_r,this.easingFunc=isFunction(_r)?_r:easingFuncs$1[_r]||createCubicEasingFunc(_r)},Fe}();const Clip$1=Clip;var Entry=function(){function Fe(_r){this.value=_r}return Fe}(),LinkedList=function(){function Fe(){this._len=0}return Fe.prototype.insert=function(_r){var $r=new Entry(_r);return this.insertEntry($r),$r},Fe.prototype.insertEntry=function(_r){this.head?(this.tail.next=_r,_r.prev=this.tail,_r.next=null,this.tail=_r):this.head=this.tail=_r,this._len++},Fe.prototype.remove=function(_r){var $r=_r.prev,Br=_r.next;$r?$r.next=Br:this.head=Br,Br?Br.prev=$r:this.tail=$r,_r.next=_r.prev=null,this._len--},Fe.prototype.len=function(){return this._len},Fe.prototype.clear=function(){this.head=this.tail=null,this._len=0},Fe}(),LRU=function(){function Fe(_r){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=_r}return Fe.prototype.put=function(_r,$r){var Br=this._list,Fr=this._map,zr=null;if(Fr[_r]==null){var jr=Br.len(),Ur=this._lastRemovedEntry;if(jr>=this._maxSize&&jr>0){var Gr=Br.head;Br.remove(Gr),delete Fr[Gr.key],zr=Gr.value,this._lastRemovedEntry=Gr}Ur?Ur.value=$r:Ur=new Entry($r),Ur.key=_r,Br.insertEntry(Ur),Fr[_r]=Ur}return zr},Fe.prototype.get=function(_r){var $r=this._map[_r],Br=this._list;if($r!=null)return $r!==Br.tail&&(Br.remove($r),Br.insertEntry($r)),$r.value},Fe.prototype.clear=function(){this._list.clear(),this._map={}},Fe.prototype.len=function(){return this._list.len()},Fe}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(Fe){return Fe=Math.round(Fe),Fe<0?0:Fe>255?255:Fe}function clampCssAngle(Fe){return Fe=Math.round(Fe),Fe<0?0:Fe>360?360:Fe}function clampCssFloat(Fe){return Fe<0?0:Fe>1?1:Fe}function parseCssInt(Fe){var _r=Fe;return _r.length&&_r.charAt(_r.length-1)==="%"?clampCssByte(parseFloat(_r)/100*255):clampCssByte(parseInt(_r,10))}function parseCssFloat(Fe){var _r=Fe;return _r.length&&_r.charAt(_r.length-1)==="%"?clampCssFloat(parseFloat(_r)/100):clampCssFloat(parseFloat(_r))}function cssHueToRgb(Fe,_r,$r){return $r<0?$r+=1:$r>1&&($r-=1),$r*6<1?Fe+(_r-Fe)*$r*6:$r*2<1?_r:$r*3<2?Fe+(_r-Fe)*(2/3-$r)*6:Fe}function lerpNumber(Fe,_r,$r){return Fe+(_r-Fe)*$r}function setRgba(Fe,_r,$r,Br,Fr){return Fe[0]=_r,Fe[1]=$r,Fe[2]=Br,Fe[3]=Fr,Fe}function copyRgba(Fe,_r){return Fe[0]=_r[0],Fe[1]=_r[1],Fe[2]=_r[2],Fe[3]=_r[3],Fe}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(Fe,_r){lastRemovedArr&&copyRgba(lastRemovedArr,_r),lastRemovedArr=colorCache.put(Fe,lastRemovedArr||_r.slice())}function parse(Fe,_r){if(Fe){_r=_r||[];var $r=colorCache.get(Fe);if($r)return copyRgba(_r,$r);Fe=Fe+"";var Br=Fe.replace(/ /g,"").toLowerCase();if(Br in kCSSColorTable)return copyRgba(_r,kCSSColorTable[Br]),putToCache(Fe,_r),_r;var Fr=Br.length;if(Br.charAt(0)==="#"){if(Fr===4||Fr===5){var zr=parseInt(Br.slice(1,4),16);if(!(zr>=0&&zr<=4095)){setRgba(_r,0,0,0,1);return}return setRgba(_r,(zr&3840)>>4|(zr&3840)>>8,zr&240|(zr&240)>>4,zr&15|(zr&15)<<4,Fr===5?parseInt(Br.slice(4),16)/15:1),putToCache(Fe,_r),_r}else if(Fr===7||Fr===9){var zr=parseInt(Br.slice(1,7),16);if(!(zr>=0&&zr<=16777215)){setRgba(_r,0,0,0,1);return}return setRgba(_r,(zr&16711680)>>16,(zr&65280)>>8,zr&255,Fr===9?parseInt(Br.slice(7),16)/255:1),putToCache(Fe,_r),_r}return}var jr=Br.indexOf("("),Ur=Br.indexOf(")");if(jr!==-1&&Ur+1===Fr){var Gr=Br.substr(0,jr),Yr=Br.substr(jr+1,Ur-(jr+1)).split(","),Kr=1;switch(Gr){case"rgba":if(Yr.length!==4)return Yr.length===3?setRgba(_r,+Yr[0],+Yr[1],+Yr[2],1):setRgba(_r,0,0,0,1);Kr=parseCssFloat(Yr.pop());case"rgb":if(Yr.length>=3)return setRgba(_r,parseCssInt(Yr[0]),parseCssInt(Yr[1]),parseCssInt(Yr[2]),Yr.length===3?Kr:parseCssFloat(Yr[3])),putToCache(Fe,_r),_r;setRgba(_r,0,0,0,1);return;case"hsla":if(Yr.length!==4){setRgba(_r,0,0,0,1);return}return Yr[3]=parseCssFloat(Yr[3]),hsla2rgba(Yr,_r),putToCache(Fe,_r),_r;case"hsl":if(Yr.length!==3){setRgba(_r,0,0,0,1);return}return hsla2rgba(Yr,_r),putToCache(Fe,_r),_r;default:return}}setRgba(_r,0,0,0,1)}}function hsla2rgba(Fe,_r){var $r=(parseFloat(Fe[0])%360+360)%360/360,Br=parseCssFloat(Fe[1]),Fr=parseCssFloat(Fe[2]),zr=Fr<=.5?Fr*(Br+1):Fr+Br-Fr*Br,jr=Fr*2-zr;return _r=_r||[],setRgba(_r,clampCssByte(cssHueToRgb(jr,zr,$r+1/3)*255),clampCssByte(cssHueToRgb(jr,zr,$r)*255),clampCssByte(cssHueToRgb(jr,zr,$r-1/3)*255),1),Fe.length===4&&(_r[3]=Fe[3]),_r}function rgba2hsla(Fe){if(Fe){var _r=Fe[0]/255,$r=Fe[1]/255,Br=Fe[2]/255,Fr=Math.min(_r,$r,Br),zr=Math.max(_r,$r,Br),jr=zr-Fr,Ur=(zr+Fr)/2,Gr,Yr;if(jr===0)Gr=0,Yr=0;else{Ur<.5?Yr=jr/(zr+Fr):Yr=jr/(2-zr-Fr);var Kr=((zr-_r)/6+jr/2)/jr,Qr=((zr-$r)/6+jr/2)/jr,Jr=((zr-Br)/6+jr/2)/jr;_r===zr?Gr=Jr-Qr:$r===zr?Gr=1/3+Kr-Jr:Br===zr&&(Gr=2/3+Qr-Kr),Gr<0&&(Gr+=1),Gr>1&&(Gr-=1)}var rn=[Gr*360,Yr,Ur];return Fe[3]!=null&&rn.push(Fe[3]),rn}}function lift(Fe,_r){var $r=parse(Fe);if($r){for(var Br=0;Br<3;Br++)_r<0?$r[Br]=$r[Br]*(1-_r)|0:$r[Br]=(255-$r[Br])*_r+$r[Br]|0,$r[Br]>255?$r[Br]=255:$r[Br]<0&&($r[Br]=0);return stringify($r,$r.length===4?"rgba":"rgb")}}function toHex(Fe){var _r=parse(Fe);if(_r)return((1<<24)+(_r[0]<<16)+(_r[1]<<8)+ +_r[2]).toString(16).slice(1)}function fastLerp(Fe,_r,$r){if(!(!(_r&&_r.length)||!(Fe>=0&&Fe<=1))){$r=$r||[];var Br=Fe*(_r.length-1),Fr=Math.floor(Br),zr=Math.ceil(Br),jr=_r[Fr],Ur=_r[zr],Gr=Br-Fr;return $r[0]=clampCssByte(lerpNumber(jr[0],Ur[0],Gr)),$r[1]=clampCssByte(lerpNumber(jr[1],Ur[1],Gr)),$r[2]=clampCssByte(lerpNumber(jr[2],Ur[2],Gr)),$r[3]=clampCssFloat(lerpNumber(jr[3],Ur[3],Gr)),$r}}var fastMapToColor=fastLerp;function lerp(Fe,_r,$r){if(!(!(_r&&_r.length)||!(Fe>=0&&Fe<=1))){var Br=Fe*(_r.length-1),Fr=Math.floor(Br),zr=Math.ceil(Br),jr=parse(_r[Fr]),Ur=parse(_r[zr]),Gr=Br-Fr,Yr=stringify([clampCssByte(lerpNumber(jr[0],Ur[0],Gr)),clampCssByte(lerpNumber(jr[1],Ur[1],Gr)),clampCssByte(lerpNumber(jr[2],Ur[2],Gr)),clampCssFloat(lerpNumber(jr[3],Ur[3],Gr))],"rgba");return $r?{color:Yr,leftIndex:Fr,rightIndex:zr,value:Br}:Yr}}var mapToColor=lerp;function modifyHSL(Fe,_r,$r,Br){var Fr=parse(Fe);if(Fe)return Fr=rgba2hsla(Fr),_r!=null&&(Fr[0]=clampCssAngle(_r)),$r!=null&&(Fr[1]=parseCssFloat($r)),Br!=null&&(Fr[2]=parseCssFloat(Br)),stringify(hsla2rgba(Fr),"rgba")}function modifyAlpha(Fe,_r){var $r=parse(Fe);if($r&&_r!=null)return $r[3]=clampCssFloat(_r),stringify($r,"rgba")}function stringify(Fe,_r){if(!(!Fe||!Fe.length)){var $r=Fe[0]+","+Fe[1]+","+Fe[2];return(_r==="rgba"||_r==="hsva"||_r==="hsla")&&($r+=","+Fe[3]),_r+"("+$r+")"}}function lum(Fe,_r){var $r=parse(Fe);return $r?(.299*$r[0]+.587*$r[1]+.114*$r[2])*$r[3]/255+(1-$r[3])*_r:0}function random(){return stringify([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}const color=Object.freeze(Object.defineProperty({__proto__:null,fastLerp,fastMapToColor,lerp,lift,lum,mapToColor,modifyAlpha,modifyHSL,parse,random,stringify,toHex},Symbol.toStringTag,{value:"Module"}));var mathRound$1=Math.round;function normalizeColor(Fe){var _r;if(!Fe||Fe==="transparent")Fe="none";else if(typeof Fe=="string"&&Fe.indexOf("rgba")>-1){var $r=parse(Fe);$r&&(Fe="rgb("+$r[0]+","+$r[1]+","+$r[2]+")",_r=$r[3])}return{color:Fe,opacity:_r??1}}var EPSILON$3=1e-4;function isAroundZero(Fe){return Fe<EPSILON$3&&Fe>-EPSILON$3}function round3(Fe){return mathRound$1(Fe*1e3)/1e3}function round4(Fe){return mathRound$1(Fe*1e4)/1e4}function getMatrixStr(Fe){return"matrix("+round3(Fe[0])+","+round3(Fe[1])+","+round3(Fe[2])+","+round3(Fe[3])+","+round4(Fe[4])+","+round4(Fe[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(Fe,_r,$r){return $r==="top"?Fe+=_r/2:$r==="bottom"&&(Fe-=_r/2),Fe}function hasShadow(Fe){return Fe&&(Fe.shadowBlur||Fe.shadowOffsetX||Fe.shadowOffsetY)}function getShadowKey(Fe){var _r=Fe.style,$r=Fe.getGlobalScale();return[_r.shadowColor,(_r.shadowBlur||0).toFixed(2),(_r.shadowOffsetX||0).toFixed(2),(_r.shadowOffsetY||0).toFixed(2),$r[0],$r[1]].join(",")}function isImagePattern(Fe){return Fe&&!!Fe.image}function isSVGPattern(Fe){return Fe&&!!Fe.svgElement}function isPattern(Fe){return isImagePattern(Fe)||isSVGPattern(Fe)}function isLinearGradient(Fe){return Fe.type==="linear"}function isRadialGradient(Fe){return Fe.type==="radial"}function isGradient(Fe){return Fe&&(Fe.type==="linear"||Fe.type==="radial")}function getIdURL(Fe){return"url(#"+Fe+")"}function getPathPrecision(Fe){var _r=Fe.getGlobalScale(),$r=Math.max(_r[0],_r[1]);return Math.max(Math.ceil(Math.log($r)/Math.log(10)),1)}function getSRTTransformString(Fe){var _r=Fe.x||0,$r=Fe.y||0,Br=(Fe.rotation||0)*RADIAN_TO_DEGREE,Fr=retrieve2(Fe.scaleX,1),zr=retrieve2(Fe.scaleY,1),jr=Fe.skewX||0,Ur=Fe.skewY||0,Gr=[];return(_r||$r)&&Gr.push("translate("+_r+"px,"+$r+"px)"),Br&&Gr.push("rotate("+Br+")"),(Fr!==1||zr!==1)&&Gr.push("scale("+Fr+","+zr+")"),(jr||Ur)&&Gr.push("skew("+mathRound$1(jr*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(Ur*RADIAN_TO_DEGREE)+"deg)"),Gr.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction(window.btoa)?function(Fe){return window.btoa(unescape(encodeURIComponent(Fe)))}:typeof Buffer<"u"?function(Fe){return Buffer.from(Fe).toString("base64")}:function(Fe){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(Fe,_r,$r){return(_r-Fe)*$r+Fe}function interpolate1DArray(Fe,_r,$r,Br){for(var Fr=_r.length,zr=0;zr<Fr;zr++)Fe[zr]=interpolateNumber$1(_r[zr],$r[zr],Br);return Fe}function interpolate2DArray(Fe,_r,$r,Br){for(var Fr=_r.length,zr=Fr&&_r[0].length,jr=0;jr<Fr;jr++){Fe[jr]||(Fe[jr]=[]);for(var Ur=0;Ur<zr;Ur++)Fe[jr][Ur]=interpolateNumber$1(_r[jr][Ur],$r[jr][Ur],Br)}return Fe}function add1DArray(Fe,_r,$r,Br){for(var Fr=_r.length,zr=0;zr<Fr;zr++)Fe[zr]=_r[zr]+$r[zr]*Br;return Fe}function add2DArray(Fe,_r,$r,Br){for(var Fr=_r.length,zr=Fr&&_r[0].length,jr=0;jr<Fr;jr++){Fe[jr]||(Fe[jr]=[]);for(var Ur=0;Ur<zr;Ur++)Fe[jr][Ur]=_r[jr][Ur]+$r[jr][Ur]*Br}return Fe}function fillColorStops(Fe,_r){for(var $r=Fe.length,Br=_r.length,Fr=$r>Br?_r:Fe,zr=Math.min($r,Br),jr=Fr[zr-1]||{color:[0,0,0,0],offset:0},Ur=zr;Ur<Math.max($r,Br);Ur++)Fr.push({offset:jr.offset,color:jr.color.slice()})}function fillArray(Fe,_r,$r){var Br=Fe,Fr=_r;if(!(!Br.push||!Fr.push)){var zr=Br.length,jr=Fr.length;if(zr!==jr){var Ur=zr>jr;if(Ur)Br.length=jr;else for(var Gr=zr;Gr<jr;Gr++)Br.push($r===1?Fr[Gr]:arraySlice.call(Fr[Gr]))}for(var Yr=Br[0]&&Br[0].length,Gr=0;Gr<Br.length;Gr++)if($r===1)isNaN(Br[Gr])&&(Br[Gr]=Fr[Gr]);else for(var Kr=0;Kr<Yr;Kr++)isNaN(Br[Gr][Kr])&&(Br[Gr][Kr]=Fr[Gr][Kr])}}function cloneValue(Fe){if(isArrayLike(Fe)){var _r=Fe.length;if(isArrayLike(Fe[0])){for(var $r=[],Br=0;Br<_r;Br++)$r.push(arraySlice.call(Fe[Br]));return $r}return arraySlice.call(Fe)}return Fe}function rgba2String(Fe){return Fe[0]=Math.floor(Fe[0])||0,Fe[1]=Math.floor(Fe[1])||0,Fe[2]=Math.floor(Fe[2])||0,Fe[3]=Fe[3]==null?1:Fe[3],"rgba("+Fe.join(",")+")"}function guessArrayDim(Fe){return isArrayLike(Fe&&Fe[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(Fe){return Fe===VALUE_TYPE_LINEAR_GRADIENT||Fe===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(Fe){return Fe===VALUE_TYPE_1D_ARRAY||Fe===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function Fe(_r){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=_r}return Fe.prototype.isFinished=function(){return this._finished},Fe.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},Fe.prototype.needsAnimate=function(){return this.keyframes.length>=1},Fe.prototype.getAdditiveTrack=function(){return this._additiveTrack},Fe.prototype.addKeyframe=function(_r,$r,Br){this._needsSort=!0;var Fr=this.keyframes,zr=Fr.length,jr=!1,Ur=VALUE_TYPE_UNKOWN,Gr=$r;if(isArrayLike($r)){var Yr=guessArrayDim($r);Ur=Yr,(Yr===1&&!isNumber($r[0])||Yr===2&&!isNumber($r[0][0]))&&(jr=!0)}else if(isNumber($r)&&!eqNaN($r))Ur=VALUE_TYPE_NUMBER;else if(isString($r))if(!isNaN(+$r))Ur=VALUE_TYPE_NUMBER;else{var Kr=parse($r);Kr&&(Gr=Kr,Ur=VALUE_TYPE_COLOR)}else if(isGradientObject($r)){var Qr=extend$1({},Gr);Qr.colorStops=map$1($r.colorStops,function(rn){return{offset:rn.offset,color:parse(rn.color)}}),isLinearGradient($r)?Ur=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient($r)&&(Ur=VALUE_TYPE_RADIAL_GRADIENT),Gr=Qr}zr===0?this.valType=Ur:(Ur!==this.valType||Ur===VALUE_TYPE_UNKOWN)&&(jr=!0),this.discrete=this.discrete||jr;var Jr={time:_r,value:Gr,rawValue:$r,percent:0};return Br&&(Jr.easing=Br,Jr.easingFunc=isFunction(Br)?Br:easingFuncs$1[Br]||createCubicEasingFunc(Br)),Fr.push(Jr),Jr},Fe.prototype.prepare=function(_r,$r){var Br=this.keyframes;this._needsSort&&Br.sort(function(ln,dn){return ln.time-dn.time});for(var Fr=this.valType,zr=Br.length,jr=Br[zr-1],Ur=this.discrete,Gr=isArrayValueType(Fr),Yr=isGradientValueType(Fr),Kr=0;Kr<zr;Kr++){var Qr=Br[Kr],Jr=Qr.value,rn=jr.value;Qr.percent=Qr.time/_r,Ur||(Gr&&Kr!==zr-1?fillArray(Jr,rn,Fr):Yr&&fillColorStops(Jr.colorStops,rn.colorStops))}if(!Ur&&Fr!==VALUE_TYPE_RADIAL_GRADIENT&&$r&&this.needsAnimate()&&$r.needsAnimate()&&Fr===$r.valType&&!$r._finished){this._additiveTrack=$r;for(var an=Br[0].value,Kr=0;Kr<zr;Kr++)Fr===VALUE_TYPE_NUMBER?Br[Kr].additiveValue=Br[Kr].value-an:Fr===VALUE_TYPE_COLOR?Br[Kr].additiveValue=add1DArray([],Br[Kr].value,an,-1):isArrayValueType(Fr)&&(Br[Kr].additiveValue=Fr===VALUE_TYPE_1D_ARRAY?add1DArray([],Br[Kr].value,an,-1):add2DArray([],Br[Kr].value,an,-1))}},Fe.prototype.step=function(_r,$r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var Br=this._additiveTrack!=null,Fr=Br?"additiveValue":"value",zr=this.valType,jr=this.keyframes,Ur=jr.length,Gr=this.propName,Yr=zr===VALUE_TYPE_COLOR,Kr,Qr=this._lastFr,Jr=Math.min,rn,an;if(Ur===1)rn=an=jr[0];else{if($r<0)Kr=0;else if($r<this._lastFrP){var ln=Jr(Qr+1,Ur-1);for(Kr=ln;Kr>=0&&!(jr[Kr].percent<=$r);Kr--);Kr=Jr(Kr,Ur-2)}else{for(Kr=Qr;Kr<Ur&&!(jr[Kr].percent>$r);Kr++);Kr=Jr(Kr-1,Ur-2)}an=jr[Kr+1],rn=jr[Kr]}if(rn&&an){this._lastFr=Kr,this._lastFrP=$r;var dn=an.percent-rn.percent,hn=dn===0?1:Jr(($r-rn.percent)/dn,1);an.easingFunc&&(hn=an.easingFunc(hn));var gn=Br?this._additiveValue:Yr?tmpRgba:_r[Gr];if((isArrayValueType(zr)||Yr)&&!gn&&(gn=this._additiveValue=[]),this.discrete)_r[Gr]=hn<1?rn.rawValue:an.rawValue;else if(isArrayValueType(zr))zr===VALUE_TYPE_1D_ARRAY?interpolate1DArray(gn,rn[Fr],an[Fr],hn):interpolate2DArray(gn,rn[Fr],an[Fr],hn);else if(isGradientValueType(zr)){var bn=rn[Fr],kn=an[Fr],Sn=zr===VALUE_TYPE_LINEAR_GRADIENT;_r[Gr]={type:Sn?"linear":"radial",x:interpolateNumber$1(bn.x,kn.x,hn),y:interpolateNumber$1(bn.y,kn.y,hn),colorStops:map$1(bn.colorStops,function(pn,Cn){var En=kn.colorStops[Cn];return{offset:interpolateNumber$1(pn.offset,En.offset,hn),color:rgba2String(interpolate1DArray([],pn.color,En.color,hn))}}),global:kn.global},Sn?(_r[Gr].x2=interpolateNumber$1(bn.x2,kn.x2,hn),_r[Gr].y2=interpolateNumber$1(bn.y2,kn.y2,hn)):_r[Gr].r=interpolateNumber$1(bn.r,kn.r,hn)}else if(Yr)interpolate1DArray(gn,rn[Fr],an[Fr],hn),Br||(_r[Gr]=rgba2String(gn));else{var _n=interpolateNumber$1(rn[Fr],an[Fr],hn);Br?this._additiveValue=_n:_r[Gr]=_n}Br&&this._addToTarget(_r)}}},Fe.prototype._addToTarget=function(_r){var $r=this.valType,Br=this.propName,Fr=this._additiveValue;$r===VALUE_TYPE_NUMBER?_r[Br]=_r[Br]+Fr:$r===VALUE_TYPE_COLOR?(parse(_r[Br],tmpRgba),add1DArray(tmpRgba,tmpRgba,Fr,1),_r[Br]=rgba2String(tmpRgba)):$r===VALUE_TYPE_1D_ARRAY?add1DArray(_r[Br],_r[Br],Fr,1):$r===VALUE_TYPE_2D_ARRAY&&add2DArray(_r[Br],_r[Br],Fr,1)},Fe}(),Animator=function(){function Fe(_r,$r,Br,Fr){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=_r,this._loop=$r,$r&&Fr){logError$1("Can' use additive animation on looped animation.");return}this._additiveAnimators=Fr,this._allowDiscrete=Br}return Fe.prototype.getMaxTime=function(){return this._maxTime},Fe.prototype.getDelay=function(){return this._delay},Fe.prototype.getLoop=function(){return this._loop},Fe.prototype.getTarget=function(){return this._target},Fe.prototype.changeTarget=function(_r){this._target=_r},Fe.prototype.when=function(_r,$r,Br){return this.whenWithKeys(_r,$r,keys($r),Br)},Fe.prototype.whenWithKeys=function(_r,$r,Br,Fr){for(var zr=this._tracks,jr=0;jr<Br.length;jr++){var Ur=Br[jr],Gr=zr[Ur];if(!Gr){Gr=zr[Ur]=new Track(Ur);var Yr=void 0,Kr=this._getAdditiveTrack(Ur);if(Kr){var Qr=Kr.keyframes,Jr=Qr[Qr.length-1];Yr=Jr&&Jr.value,Kr.valType===VALUE_TYPE_COLOR&&Yr&&(Yr=rgba2String(Yr))}else Yr=this._target[Ur];if(Yr==null)continue;_r>0&&Gr.addKeyframe(0,cloneValue(Yr),Fr),this._trackKeys.push(Ur)}Gr.addKeyframe(_r,cloneValue($r[Ur]),Fr)}return this._maxTime=Math.max(this._maxTime,_r),this},Fe.prototype.pause=function(){this._clip.pause(),this._paused=!0},Fe.prototype.resume=function(){this._clip.resume(),this._paused=!1},Fe.prototype.isPaused=function(){return!!this._paused},Fe.prototype.duration=function(_r){return this._maxTime=_r,this._force=!0,this},Fe.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var _r=this._doneCbs;if(_r)for(var $r=_r.length,Br=0;Br<$r;Br++)_r[Br].call(this)},Fe.prototype._abortedCallback=function(){this._setTracksFinished();var _r=this.animation,$r=this._abortedCbs;if(_r&&_r.removeClip(this._clip),this._clip=null,$r)for(var Br=0;Br<$r.length;Br++)$r[Br].call(this)},Fe.prototype._setTracksFinished=function(){for(var _r=this._tracks,$r=this._trackKeys,Br=0;Br<$r.length;Br++)_r[$r[Br]].setFinished()},Fe.prototype._getAdditiveTrack=function(_r){var $r,Br=this._additiveAnimators;if(Br)for(var Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr].getTrack(_r);zr&&($r=zr)}return $r},Fe.prototype.start=function(_r){if(!(this._started>0)){this._started=1;for(var $r=this,Br=[],Fr=this._maxTime||0,zr=0;zr<this._trackKeys.length;zr++){var jr=this._trackKeys[zr],Ur=this._tracks[jr],Gr=this._getAdditiveTrack(jr),Yr=Ur.keyframes,Kr=Yr.length;if(Ur.prepare(Fr,Gr),Ur.needsAnimate())if(!this._allowDiscrete&&Ur.discrete){var Qr=Yr[Kr-1];Qr&&($r._target[Ur.propName]=Qr.rawValue),Ur.setFinished()}else Br.push(Ur)}if(Br.length||this._force){var Jr=new Clip$1({life:Fr,loop:this._loop,delay:this._delay||0,onframe:function(rn){$r._started=2;var an=$r._additiveAnimators;if(an){for(var ln=!1,dn=0;dn<an.length;dn++)if(an[dn]._clip){ln=!0;break}ln||($r._additiveAnimators=null)}for(var dn=0;dn<Br.length;dn++)Br[dn].step($r._target,rn);var hn=$r._onframeCbs;if(hn)for(var dn=0;dn<hn.length;dn++)hn[dn]($r._target,rn)},ondestroy:function(){$r._doneCallback()}});this._clip=Jr,this.animation&&this.animation.addClip(Jr),_r&&Jr.setEasing(_r)}else this._doneCallback();return this}},Fe.prototype.stop=function(_r){if(this._clip){var $r=this._clip;_r&&$r.onframe(1),this._abortedCallback()}},Fe.prototype.delay=function(_r){return this._delay=_r,this},Fe.prototype.during=function(_r){return _r&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(_r)),this},Fe.prototype.done=function(_r){return _r&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(_r)),this},Fe.prototype.aborted=function(_r){return _r&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(_r)),this},Fe.prototype.getClip=function(){return this._clip},Fe.prototype.getTrack=function(_r){return this._tracks[_r]},Fe.prototype.getTracks=function(){var _r=this;return map$1(this._trackKeys,function($r){return _r._tracks[$r]})},Fe.prototype.stopTracks=function(_r,$r){if(!_r.length||!this._clip)return!0;for(var Br=this._tracks,Fr=this._trackKeys,zr=0;zr<_r.length;zr++){var jr=Br[_r[zr]];jr&&!jr.isFinished()&&($r?jr.step(this._target,1):this._started===1&&jr.step(this._target,0),jr.setFinished())}for(var Ur=!0,zr=0;zr<Fr.length;zr++)if(!Br[Fr[zr]].isFinished()){Ur=!1;break}return Ur&&this._abortedCallback(),Ur},Fe.prototype.saveTo=function(_r,$r,Br){if(_r){$r=$r||this._trackKeys;for(var Fr=0;Fr<$r.length;Fr++){var zr=$r[Fr],jr=this._tracks[zr];if(!(!jr||jr.isFinished())){var Ur=jr.keyframes,Gr=Ur[Br?0:Ur.length-1];Gr&&(_r[zr]=cloneValue(Gr.rawValue))}}}},Fe.prototype.__changeFinalValue=function(_r,$r){$r=$r||keys(_r);for(var Br=0;Br<$r.length;Br++){var Fr=$r[Br],zr=this._tracks[Fr];if(zr){var jr=zr.keyframes;if(jr.length>1){var Ur=jr.pop();zr.addKeyframe(Ur.time,_r[Fr]),zr.prepare(this._maxTime,zr.getAdditiveTrack())}}}},Fe}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this)||this;return Br._running=!1,Br._time=0,Br._pausedTime=0,Br._pauseStart=0,Br._paused=!1,$r=$r||{},Br.stage=$r.stage||{},Br}return _r.prototype.addClip=function($r){$r.animation&&this.removeClip($r),this._head?(this._tail.next=$r,$r.prev=this._tail,$r.next=null,this._tail=$r):this._head=this._tail=$r,$r.animation=this},_r.prototype.addAnimator=function($r){$r.animation=this;var Br=$r.getClip();Br&&this.addClip(Br)},_r.prototype.removeClip=function($r){if($r.animation){var Br=$r.prev,Fr=$r.next;Br?Br.next=Fr:this._head=Fr,Fr?Fr.prev=Br:this._tail=Br,$r.next=$r.prev=$r.animation=null}},_r.prototype.removeAnimator=function($r){var Br=$r.getClip();Br&&this.removeClip(Br),$r.animation=null},_r.prototype.update=function($r){for(var Br=getTime()-this._pausedTime,Fr=Br-this._time,zr=this._head;zr;){var jr=zr.next,Ur=zr.step(Br,Fr);Ur&&(zr.ondestroy(),this.removeClip(zr)),zr=jr}this._time=Br,$r||(this.trigger("frame",Fr),this.stage.update&&this.stage.update())},_r.prototype._startLoop=function(){var $r=this;this._running=!0;function Br(){$r._running&&(requestAnimationFrame$2(Br),!$r._paused&&$r.update())}requestAnimationFrame$2(Br)},_r.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},_r.prototype.stop=function(){this._running=!1},_r.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},_r.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},_r.prototype.clear=function(){for(var $r=this._head;$r;){var Br=$r.next;$r.prev=$r.next=$r.animation=null,$r=Br}this._head=this._tail=null},_r.prototype.isFinished=function(){return this._head==null},_r.prototype.animate=function($r,Br){Br=Br||{},this.start();var Fr=new Animator$1($r,Br.loop);return this.addAnimator(Fr),Fr},_r}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var Fe=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],_r=["touchstart","touchend","touchmove"],$r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Br=map$1(Fe,function(Fr){var zr=Fr.replace("mouse","pointer");return $r.hasOwnProperty(zr)?zr:Fr});return{mouse:Fe,touch:_r,pointer:Br}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(Fe){var _r=Fe.pointerType;return _r==="pen"||_r==="touch"}function setTouchTimer(Fe){Fe.touching=!0,Fe.touchTimer!=null&&(clearTimeout(Fe.touchTimer),Fe.touchTimer=null),Fe.touchTimer=setTimeout(function(){Fe.touching=!1,Fe.touchTimer=null},700)}function markTouch(Fe){Fe&&(Fe.zrByTouch=!0)}function normalizeGlobalEvent(Fe,_r){return normalizeEvent(Fe.dom,new FakeGlobalEvent(Fe,_r),!0)}function isLocalEl(Fe,_r){for(var $r=_r,Br=!1;$r&&$r.nodeType!==9&&!(Br=$r.domBelongToZr||$r!==_r&&$r===Fe.painterRoot);)$r=$r.parentNode;return Br}var FakeGlobalEvent=function(){function Fe(_r,$r){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=$r.type,this.target=this.currentTarget=_r.dom,this.pointerType=$r.pointerType,this.clientX=$r.clientX,this.clientY=$r.clientY}return Fe}(),localDOMHandlers={mousedown:function(Fe){Fe=normalizeEvent(this.dom,Fe),this.__mayPointerCapture=[Fe.zrX,Fe.zrY],this.trigger("mousedown",Fe)},mousemove:function(Fe){Fe=normalizeEvent(this.dom,Fe);var _r=this.__mayPointerCapture;_r&&(Fe.zrX!==_r[0]||Fe.zrY!==_r[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",Fe)},mouseup:function(Fe){Fe=normalizeEvent(this.dom,Fe),this.__togglePointerCapture(!1),this.trigger("mouseup",Fe)},mouseout:function(Fe){Fe=normalizeEvent(this.dom,Fe);var _r=Fe.toElement||Fe.relatedTarget;isLocalEl(this,_r)||(this.__pointerCapturing&&(Fe.zrEventControl="no_globalout"),this.trigger("mouseout",Fe))},wheel:function(Fe){wheelEventSupported=!0,Fe=normalizeEvent(this.dom,Fe),this.trigger("mousewheel",Fe)},mousewheel:function(Fe){wheelEventSupported||(Fe=normalizeEvent(this.dom,Fe),this.trigger("mousewheel",Fe))},touchstart:function(Fe){Fe=normalizeEvent(this.dom,Fe),markTouch(Fe),this.__lastTouchMoment=new Date,this.handler.processGesture(Fe,"start"),localDOMHandlers.mousemove.call(this,Fe),localDOMHandlers.mousedown.call(this,Fe)},touchmove:function(Fe){Fe=normalizeEvent(this.dom,Fe),markTouch(Fe),this.handler.processGesture(Fe,"change"),localDOMHandlers.mousemove.call(this,Fe)},touchend:function(Fe){Fe=normalizeEvent(this.dom,Fe),markTouch(Fe),this.handler.processGesture(Fe,"end"),localDOMHandlers.mouseup.call(this,Fe),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,Fe)},pointerdown:function(Fe){localDOMHandlers.mousedown.call(this,Fe)},pointermove:function(Fe){isPointerFromTouch(Fe)||localDOMHandlers.mousemove.call(this,Fe)},pointerup:function(Fe){localDOMHandlers.mouseup.call(this,Fe)},pointerout:function(Fe){isPointerFromTouch(Fe)||localDOMHandlers.mouseout.call(this,Fe)}};each$f(["click","dblclick","contextmenu"],function(Fe){localDOMHandlers[Fe]=function(_r){_r=normalizeEvent(this.dom,_r),this.trigger(Fe,_r)}});var globalDOMHandlers={pointermove:function(Fe){isPointerFromTouch(Fe)||globalDOMHandlers.mousemove.call(this,Fe)},pointerup:function(Fe){globalDOMHandlers.mouseup.call(this,Fe)},mousemove:function(Fe){this.trigger("mousemove",Fe)},mouseup:function(Fe){var _r=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",Fe),_r&&(Fe.zrEventControl="only_globalout",this.trigger("mouseout",Fe))}};function mountLocalDOMEventListeners(Fe,_r){var $r=_r.domHandlers;env$1.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(Br){mountSingleDOMEventListener(_r,Br,function(Fr){$r[Br].call(Fe,Fr)})}):(env$1.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(Br){mountSingleDOMEventListener(_r,Br,function(Fr){$r[Br].call(Fe,Fr),setTouchTimer(_r)})}),each$f(localNativeListenerNames.mouse,function(Br){mountSingleDOMEventListener(_r,Br,function(Fr){Fr=getNativeEvent(Fr),_r.touching||$r[Br].call(Fe,Fr)})}))}function mountGlobalDOMEventListeners(Fe,_r){env$1.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,$r):env$1.touchEventsSupported||each$f(globalNativeListenerNames.mouse,$r);function $r(Br){function Fr(zr){zr=getNativeEvent(zr),isLocalEl(Fe,zr.target)||(zr=normalizeGlobalEvent(Fe,zr),_r.domHandlers[Br].call(Fe,zr))}mountSingleDOMEventListener(_r,Br,Fr,{capture:!0})}}function mountSingleDOMEventListener(Fe,_r,$r,Br){Fe.mounted[_r]=$r,Fe.listenerOpts[_r]=Br,addEventListener(Fe.domTarget,_r,$r,Br)}function unmountDOMEventListeners(Fe){var _r=Fe.mounted;for(var $r in _r)_r.hasOwnProperty($r)&&removeEventListener(Fe.domTarget,$r,_r[$r],Fe.listenerOpts[$r]);Fe.mounted={}}var DOMHandlerScope=function(){function Fe(_r,$r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=_r,this.domHandlers=$r}return Fe}(),HandlerDomProxy=function(Fe){__extends(_r,Fe);function _r($r,Br){var Fr=Fe.call(this)||this;return Fr.__pointerCapturing=!1,Fr.dom=$r,Fr.painterRoot=Br,Fr._localHandlerScope=new DOMHandlerScope($r,localDOMHandlers),globalEventSupported&&(Fr._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(Fr,Fr._localHandlerScope),Fr}return _r.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},_r.prototype.setCursor=function($r){this.dom.style&&(this.dom.style.cursor=$r||"default")},_r.prototype.__togglePointerCapture=function($r){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+$r){this.__pointerCapturing=$r;var Br=this._globalHandlerScope;$r?mountGlobalDOMEventListeners(this,Br):unmountDOMEventListeners(Br)}},_r}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(Fe){return Fe>EPSILON$2||Fe<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function Fe(){}return Fe.prototype.getLocalTransform=function(_r){return Fe.getLocalTransform(this,_r)},Fe.prototype.setPosition=function(_r){this.x=_r[0],this.y=_r[1]},Fe.prototype.setScale=function(_r){this.scaleX=_r[0],this.scaleY=_r[1]},Fe.prototype.setSkew=function(_r){this.skewX=_r[0],this.skewY=_r[1]},Fe.prototype.setOrigin=function(_r){this.originX=_r[0],this.originY=_r[1]},Fe.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},Fe.prototype.updateTransform=function(){var _r=this.parent&&this.parent.transform,$r=this.needLocalTransform(),Br=this.transform;if(!($r||_r)){Br&&(mIdentity(Br),this.invTransform=null);return}Br=Br||create$1(),$r?this.getLocalTransform(Br):mIdentity(Br),_r&&($r?mul(Br,_r,Br):copy(Br,_r)),this.transform=Br,this._resolveGlobalScaleRatio(Br)},Fe.prototype._resolveGlobalScaleRatio=function(_r){var $r=this.globalScaleRatio;if($r!=null&&$r!==1){this.getGlobalScale(scaleTmp);var Br=scaleTmp[0]<0?-1:1,Fr=scaleTmp[1]<0?-1:1,zr=((scaleTmp[0]-Br)*$r+Br)/scaleTmp[0]||0,jr=((scaleTmp[1]-Fr)*$r+Fr)/scaleTmp[1]||0;_r[0]*=zr,_r[1]*=zr,_r[2]*=jr,_r[3]*=jr}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,_r)},Fe.prototype.getComputedTransform=function(){for(var _r=this,$r=[];_r;)$r.push(_r),_r=_r.parent;for(;_r=$r.pop();)_r.updateTransform();return this.transform},Fe.prototype.setLocalTransform=function(_r){if(_r){var $r=_r[0]*_r[0]+_r[1]*_r[1],Br=_r[2]*_r[2]+_r[3]*_r[3],Fr=Math.atan2(_r[1],_r[0]),zr=Math.PI/2+Fr-Math.atan2(_r[3],_r[2]);Br=Math.sqrt(Br)*Math.cos(zr),$r=Math.sqrt($r),this.skewX=zr,this.skewY=0,this.rotation=-Fr,this.x=+_r[4],this.y=+_r[5],this.scaleX=$r,this.scaleY=Br,this.originX=0,this.originY=0}},Fe.prototype.decomposeTransform=function(){if(this.transform){var _r=this.parent,$r=this.transform;_r&&_r.transform&&(mul(tmpTransform,_r.invTransform,$r),$r=tmpTransform);var Br=this.originX,Fr=this.originY;(Br||Fr)&&(originTransform[4]=Br,originTransform[5]=Fr,mul(tmpTransform,$r,originTransform),tmpTransform[4]-=Br,tmpTransform[5]-=Fr,$r=tmpTransform),this.setLocalTransform($r)}},Fe.prototype.getGlobalScale=function(_r){var $r=this.transform;return _r=_r||[],$r?(_r[0]=Math.sqrt($r[0]*$r[0]+$r[1]*$r[1]),_r[1]=Math.sqrt($r[2]*$r[2]+$r[3]*$r[3]),$r[0]<0&&(_r[0]=-_r[0]),$r[3]<0&&(_r[1]=-_r[1]),_r):(_r[0]=1,_r[1]=1,_r)},Fe.prototype.transformCoordToLocal=function(_r,$r){var Br=[_r,$r],Fr=this.invTransform;return Fr&&applyTransform$1(Br,Br,Fr),Br},Fe.prototype.transformCoordToGlobal=function(_r,$r){var Br=[_r,$r],Fr=this.transform;return Fr&&applyTransform$1(Br,Br,Fr),Br},Fe.prototype.getLineScale=function(){var _r=this.transform;return _r&&abs(_r[0]-1)>1e-10&&abs(_r[3]-1)>1e-10?Math.sqrt(abs(_r[0]*_r[3]-_r[2]*_r[1])):1},Fe.prototype.copyTransform=function(_r){copyTransform(this,_r)},Fe.getLocalTransform=function(_r,$r){$r=$r||[];var Br=_r.originX||0,Fr=_r.originY||0,zr=_r.scaleX,jr=_r.scaleY,Ur=_r.anchorX,Gr=_r.anchorY,Yr=_r.rotation||0,Kr=_r.x,Qr=_r.y,Jr=_r.skewX?Math.tan(_r.skewX):0,rn=_r.skewY?Math.tan(-_r.skewY):0;if(Br||Fr||Ur||Gr){var an=Br+Ur,ln=Fr+Gr;$r[4]=-an*zr-Jr*ln*jr,$r[5]=-ln*jr-rn*an*zr}else $r[4]=$r[5]=0;return $r[0]=zr,$r[3]=jr,$r[1]=rn*zr,$r[2]=Jr*jr,Yr&&rotate($r,$r,Yr),$r[4]+=Br+Kr,$r[5]+=Fr+Qr,$r},Fe.initDefaultProps=function(){var _r=Fe.prototype;_r.scaleX=_r.scaleY=_r.globalScaleRatio=1,_r.x=_r.y=_r.originX=_r.originY=_r.skewX=_r.skewY=_r.rotation=_r.anchorX=_r.anchorY=0}(),Fe}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(Fe,_r){for(var $r=0;$r<TRANSFORMABLE_PROPS.length;$r++){var Br=TRANSFORMABLE_PROPS[$r];Fe[Br]=_r[Br]}}const Transformable$1=Transformable;var textWidthCache={};function getWidth(Fe,_r){_r=_r||DEFAULT_FONT;var $r=textWidthCache[_r];$r||($r=textWidthCache[_r]=new LRU$1(500));var Br=$r.get(Fe);return Br==null&&(Br=platformApi.measureText(Fe,_r).width,$r.put(Fe,Br)),Br}function innerGetBoundingRect(Fe,_r,$r,Br){var Fr=getWidth(Fe,_r),zr=getLineHeight(_r),jr=adjustTextX(0,Fr,$r),Ur=adjustTextY(0,zr,Br),Gr=new BoundingRect$1(jr,Ur,Fr,zr);return Gr}function getBoundingRect(Fe,_r,$r,Br){var Fr=((Fe||"")+"").split(`
`),zr=Fr.length;if(zr===1)return innerGetBoundingRect(Fr[0],_r,$r,Br);for(var jr=new BoundingRect$1(0,0,0,0),Ur=0;Ur<Fr.length;Ur++){var Gr=innerGetBoundingRect(Fr[Ur],_r,$r,Br);Ur===0?jr.copy(Gr):jr.union(Gr)}return jr}function adjustTextX(Fe,_r,$r){return $r==="right"?Fe-=_r:$r==="center"&&(Fe-=_r/2),Fe}function adjustTextY(Fe,_r,$r){return $r==="middle"?Fe-=_r/2:$r==="bottom"&&(Fe-=_r),Fe}function getLineHeight(Fe){return getWidth("å½",Fe)}function parsePercent$1(Fe,_r){return typeof Fe=="string"?Fe.lastIndexOf("%")>=0?parseFloat(Fe)/100*_r:parseFloat(Fe):Fe}function calculateTextPosition(Fe,_r,$r){var Br=_r.position||"inside",Fr=_r.distance!=null?_r.distance:5,zr=$r.height,jr=$r.width,Ur=zr/2,Gr=$r.x,Yr=$r.y,Kr="left",Qr="top";if(Br instanceof Array)Gr+=parsePercent$1(Br[0],$r.width),Yr+=parsePercent$1(Br[1],$r.height),Kr=null,Qr=null;else switch(Br){case"left":Gr-=Fr,Yr+=Ur,Kr="right",Qr="middle";break;case"right":Gr+=Fr+jr,Yr+=Ur,Qr="middle";break;case"top":Gr+=jr/2,Yr-=Fr,Kr="center",Qr="bottom";break;case"bottom":Gr+=jr/2,Yr+=zr+Fr,Kr="center";break;case"inside":Gr+=jr/2,Yr+=Ur,Kr="center",Qr="middle";break;case"insideLeft":Gr+=Fr,Yr+=Ur,Qr="middle";break;case"insideRight":Gr+=jr-Fr,Yr+=Ur,Kr="right",Qr="middle";break;case"insideTop":Gr+=jr/2,Yr+=Fr,Kr="center";break;case"insideBottom":Gr+=jr/2,Yr+=zr-Fr,Kr="center",Qr="bottom";break;case"insideTopLeft":Gr+=Fr,Yr+=Fr;break;case"insideTopRight":Gr+=jr-Fr,Yr+=Fr,Kr="right";break;case"insideBottomLeft":Gr+=Fr,Yr+=zr-Fr,Qr="bottom";break;case"insideBottomRight":Gr+=jr-Fr,Yr+=zr-Fr,Kr="right",Qr="bottom";break}return Fe=Fe||{},Fe.x=Gr,Fe.y=Yr,Fe.align=Kr,Fe.verticalAlign=Qr,Fe}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(Fe,_r){return Fe[_r]=!0,Fe},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function Fe(_r){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(_r)}return Fe.prototype._init=function(_r){this.attr(_r)},Fe.prototype.drift=function(_r,$r,Br){switch(this.draggable){case"horizontal":$r=0;break;case"vertical":_r=0;break}var Fr=this.transform;Fr||(Fr=this.transform=[1,0,0,1,0,0]),Fr[4]+=_r,Fr[5]+=$r,this.decomposeTransform(),this.markRedraw()},Fe.prototype.beforeUpdate=function(){},Fe.prototype.afterUpdate=function(){},Fe.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},Fe.prototype.updateInnerText=function(_r){var $r=this._textContent;if($r&&(!$r.ignore||_r)){this.textConfig||(this.textConfig={});var Br=this.textConfig,Fr=Br.local,zr=$r.innerTransformable,jr=void 0,Ur=void 0,Gr=!1;zr.parent=Fr?this:null;var Yr=!1;if(zr.copyTransform($r),Br.position!=null){var Kr=tmpBoundingRect;Br.layoutRect?Kr.copy(Br.layoutRect):Kr.copy(this.getBoundingRect()),Fr||Kr.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,Br,Kr):calculateTextPosition(tmpTextPosCalcRes,Br,Kr),zr.x=tmpTextPosCalcRes.x,zr.y=tmpTextPosCalcRes.y,jr=tmpTextPosCalcRes.align,Ur=tmpTextPosCalcRes.verticalAlign;var Qr=Br.origin;if(Qr&&Br.rotation!=null){var Jr=void 0,rn=void 0;Qr==="center"?(Jr=Kr.width*.5,rn=Kr.height*.5):(Jr=parsePercent$1(Qr[0],Kr.width),rn=parsePercent$1(Qr[1],Kr.height)),Yr=!0,zr.originX=-zr.x+Jr+(Fr?0:Kr.x),zr.originY=-zr.y+rn+(Fr?0:Kr.y)}}Br.rotation!=null&&(zr.rotation=Br.rotation);var an=Br.offset;an&&(zr.x+=an[0],zr.y+=an[1],Yr||(zr.originX=-an[0],zr.originY=-an[1]));var ln=Br.inside==null?typeof Br.position=="string"&&Br.position.indexOf("inside")>=0:Br.inside,dn=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),hn=void 0,gn=void 0,bn=void 0;ln&&this.canBeInsideText()?(hn=Br.insideFill,gn=Br.insideStroke,(hn==null||hn==="auto")&&(hn=this.getInsideTextFill()),(gn==null||gn==="auto")&&(gn=this.getInsideTextStroke(hn),bn=!0)):(hn=Br.outsideFill,gn=Br.outsideStroke,(hn==null||hn==="auto")&&(hn=this.getOutsideFill()),(gn==null||gn==="auto")&&(gn=this.getOutsideStroke(hn),bn=!0)),hn=hn||"#000",(hn!==dn.fill||gn!==dn.stroke||bn!==dn.autoStroke||jr!==dn.align||Ur!==dn.verticalAlign)&&(Gr=!0,dn.fill=hn,dn.stroke=gn,dn.autoStroke=bn,dn.align=jr,dn.verticalAlign=Ur,$r.setDefaultTextStyle(dn)),$r.__dirty|=REDRAW_BIT,Gr&&$r.dirtyStyle(!0)}},Fe.prototype.canBeInsideText=function(){return!0},Fe.prototype.getInsideTextFill=function(){return"#fff"},Fe.prototype.getInsideTextStroke=function(_r){return"#000"},Fe.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},Fe.prototype.getOutsideStroke=function(_r){var $r=this.__zr&&this.__zr.getBackgroundColor(),Br=typeof $r=="string"&&parse($r);Br||(Br=[255,255,255,1]);for(var Fr=Br[3],zr=this.__zr.isDarkMode(),jr=0;jr<3;jr++)Br[jr]=Br[jr]*Fr+(zr?0:255)*(1-Fr);return Br[3]=1,stringify(Br,"rgba")},Fe.prototype.traverse=function(_r,$r){},Fe.prototype.attrKV=function(_r,$r){_r==="textConfig"?this.setTextConfig($r):_r==="textContent"?this.setTextContent($r):_r==="clipPath"?this.setClipPath($r):_r==="extra"?(this.extra=this.extra||{},extend$1(this.extra,$r)):this[_r]=$r},Fe.prototype.hide=function(){this.ignore=!0,this.markRedraw()},Fe.prototype.show=function(){this.ignore=!1,this.markRedraw()},Fe.prototype.attr=function(_r,$r){if(typeof _r=="string")this.attrKV(_r,$r);else if(isObject$3(_r))for(var Br=_r,Fr=keys(Br),zr=0;zr<Fr.length;zr++){var jr=Fr[zr];this.attrKV(jr,_r[jr])}return this.markRedraw(),this},Fe.prototype.saveCurrentToNormalState=function(_r){this._innerSaveToNormal(_r);for(var $r=this._normalState,Br=0;Br<this.animators.length;Br++){var Fr=this.animators[Br],zr=Fr.__fromStateTransition;if(!(Fr.getLoop()||zr&&zr!==PRESERVED_NORMAL_STATE)){var jr=Fr.targetName,Ur=jr?$r[jr]:$r;Fr.saveTo(Ur)}}},Fe.prototype._innerSaveToNormal=function(_r){var $r=this._normalState;$r||($r=this._normalState={}),_r.textConfig&&!$r.textConfig&&($r.textConfig=this.textConfig),this._savePrimaryToNormal(_r,$r,PRIMARY_STATES_KEYS$1)},Fe.prototype._savePrimaryToNormal=function(_r,$r,Br){for(var Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr];_r[zr]!=null&&!(zr in $r)&&($r[zr]=this[zr])}},Fe.prototype.hasState=function(){return this.currentStates.length>0},Fe.prototype.getState=function(_r){return this.states[_r]},Fe.prototype.ensureState=function(_r){var $r=this.states;return $r[_r]||($r[_r]={}),$r[_r]},Fe.prototype.clearStates=function(_r){this.useState(PRESERVED_NORMAL_STATE,!1,_r)},Fe.prototype.useState=function(_r,$r,Br,Fr){var zr=_r===PRESERVED_NORMAL_STATE,jr=this.hasState();if(!(!jr&&zr)){var Ur=this.currentStates,Gr=this.stateTransition;if(!(indexOf(Ur,_r)>=0&&($r||Ur.length===1))){var Yr;if(this.stateProxy&&!zr&&(Yr=this.stateProxy(_r)),Yr||(Yr=this.states&&this.states[_r]),!Yr&&!zr){logError$1("State "+_r+" not exists.");return}zr||this.saveCurrentToNormalState(Yr);var Kr=!!(Yr&&Yr.hoverLayer||Fr);Kr&&this._toggleHoverLayerFlag(!0),this._applyStateObj(_r,Yr,this._normalState,$r,!Br&&!this.__inHover&&Gr&&Gr.duration>0,Gr);var Qr=this._textContent,Jr=this._textGuide;return Qr&&Qr.useState(_r,$r,Br,Kr),Jr&&Jr.useState(_r,$r,Br,Kr),zr?(this.currentStates=[],this._normalState={}):$r?this.currentStates.push(_r):this.currentStates=[_r],this._updateAnimationTargets(),this.markRedraw(),!Kr&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),Yr}}},Fe.prototype.useStates=function(_r,$r,Br){if(!_r.length)this.clearStates();else{var Fr=[],zr=this.currentStates,jr=_r.length,Ur=jr===zr.length;if(Ur){for(var Gr=0;Gr<jr;Gr++)if(_r[Gr]!==zr[Gr]){Ur=!1;break}}if(Ur)return;for(var Gr=0;Gr<jr;Gr++){var Yr=_r[Gr],Kr=void 0;this.stateProxy&&(Kr=this.stateProxy(Yr,_r)),Kr||(Kr=this.states[Yr]),Kr&&Fr.push(Kr)}var Qr=Fr[jr-1],Jr=!!(Qr&&Qr.hoverLayer||Br);Jr&&this._toggleHoverLayerFlag(!0);var rn=this._mergeStates(Fr),an=this.stateTransition;this.saveCurrentToNormalState(rn),this._applyStateObj(_r.join(","),rn,this._normalState,!1,!$r&&!this.__inHover&&an&&an.duration>0,an);var ln=this._textContent,dn=this._textGuide;ln&&ln.useStates(_r,$r,Jr),dn&&dn.useStates(_r,$r,Jr),this._updateAnimationTargets(),this.currentStates=_r.slice(),this.markRedraw(),!Jr&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},Fe.prototype._updateAnimationTargets=function(){for(var _r=0;_r<this.animators.length;_r++){var $r=this.animators[_r];$r.targetName&&$r.changeTarget(this[$r.targetName])}},Fe.prototype.removeState=function(_r){var $r=indexOf(this.currentStates,_r);if($r>=0){var Br=this.currentStates.slice();Br.splice($r,1),this.useStates(Br)}},Fe.prototype.replaceState=function(_r,$r,Br){var Fr=this.currentStates.slice(),zr=indexOf(Fr,_r),jr=indexOf(Fr,$r)>=0;zr>=0?jr?Fr.splice(zr,1):Fr[zr]=$r:Br&&!jr&&Fr.push($r),this.useStates(Fr)},Fe.prototype.toggleState=function(_r,$r){$r?this.useState(_r,!0):this.removeState(_r)},Fe.prototype._mergeStates=function(_r){for(var $r={},Br,Fr=0;Fr<_r.length;Fr++){var zr=_r[Fr];extend$1($r,zr),zr.textConfig&&(Br=Br||{},extend$1(Br,zr.textConfig))}return Br&&($r.textConfig=Br),$r},Fe.prototype._applyStateObj=function(_r,$r,Br,Fr,zr,jr){var Ur=!($r&&Fr);$r&&$r.textConfig?(this.textConfig=extend$1({},Fr?this.textConfig:Br.textConfig),extend$1(this.textConfig,$r.textConfig)):Ur&&Br.textConfig&&(this.textConfig=Br.textConfig);for(var Gr={},Yr=!1,Kr=0;Kr<PRIMARY_STATES_KEYS$1.length;Kr++){var Qr=PRIMARY_STATES_KEYS$1[Kr],Jr=zr&&DEFAULT_ANIMATABLE_MAP[Qr];$r&&$r[Qr]!=null?Jr?(Yr=!0,Gr[Qr]=$r[Qr]):this[Qr]=$r[Qr]:Ur&&Br[Qr]!=null&&(Jr?(Yr=!0,Gr[Qr]=Br[Qr]):this[Qr]=Br[Qr])}if(!zr)for(var Kr=0;Kr<this.animators.length;Kr++){var rn=this.animators[Kr],an=rn.targetName;rn.getLoop()||rn.__changeFinalValue(an?($r||Br)[an]:$r||Br)}Yr&&this._transitionState(_r,Gr,jr)},Fe.prototype._attachComponent=function(_r){if(!(_r.__zr&&!_r.__hostTarget)&&_r!==this){var $r=this.__zr;$r&&_r.addSelfToZr($r),_r.__zr=$r,_r.__hostTarget=this}},Fe.prototype._detachComponent=function(_r){_r.__zr&&_r.removeSelfFromZr(_r.__zr),_r.__zr=null,_r.__hostTarget=null},Fe.prototype.getClipPath=function(){return this._clipPath},Fe.prototype.setClipPath=function(_r){this._clipPath&&this._clipPath!==_r&&this.removeClipPath(),this._attachComponent(_r),this._clipPath=_r,this.markRedraw()},Fe.prototype.removeClipPath=function(){var _r=this._clipPath;_r&&(this._detachComponent(_r),this._clipPath=null,this.markRedraw())},Fe.prototype.getTextContent=function(){return this._textContent},Fe.prototype.setTextContent=function(_r){var $r=this._textContent;$r!==_r&&($r&&$r!==_r&&this.removeTextContent(),_r.innerTransformable=new Transformable$1,this._attachComponent(_r),this._textContent=_r,this.markRedraw())},Fe.prototype.setTextConfig=function(_r){this.textConfig||(this.textConfig={}),extend$1(this.textConfig,_r),this.markRedraw()},Fe.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},Fe.prototype.removeTextContent=function(){var _r=this._textContent;_r&&(_r.innerTransformable=null,this._detachComponent(_r),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},Fe.prototype.getTextGuideLine=function(){return this._textGuide},Fe.prototype.setTextGuideLine=function(_r){this._textGuide&&this._textGuide!==_r&&this.removeTextGuideLine(),this._attachComponent(_r),this._textGuide=_r,this.markRedraw()},Fe.prototype.removeTextGuideLine=function(){var _r=this._textGuide;_r&&(this._detachComponent(_r),this._textGuide=null,this.markRedraw())},Fe.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var _r=this.__zr;_r&&(this.__inHover?_r.refreshHover():_r.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},Fe.prototype.dirty=function(){this.markRedraw()},Fe.prototype._toggleHoverLayerFlag=function(_r){this.__inHover=_r;var $r=this._textContent,Br=this._textGuide;$r&&($r.__inHover=_r),Br&&(Br.__inHover=_r)},Fe.prototype.addSelfToZr=function(_r){if(this.__zr!==_r){this.__zr=_r;var $r=this.animators;if($r)for(var Br=0;Br<$r.length;Br++)_r.animation.addAnimator($r[Br]);this._clipPath&&this._clipPath.addSelfToZr(_r),this._textContent&&this._textContent.addSelfToZr(_r),this._textGuide&&this._textGuide.addSelfToZr(_r)}},Fe.prototype.removeSelfFromZr=function(_r){if(this.__zr){this.__zr=null;var $r=this.animators;if($r)for(var Br=0;Br<$r.length;Br++)_r.animation.removeAnimator($r[Br]);this._clipPath&&this._clipPath.removeSelfFromZr(_r),this._textContent&&this._textContent.removeSelfFromZr(_r),this._textGuide&&this._textGuide.removeSelfFromZr(_r)}},Fe.prototype.animate=function(_r,$r,Br){var Fr=_r?this[_r]:this,zr=new Animator$1(Fr,$r,Br);return _r&&(zr.targetName=_r),this.addAnimator(zr,_r),zr},Fe.prototype.addAnimator=function(_r,$r){var Br=this.__zr,Fr=this;_r.during(function(){Fr.updateDuringAnimation($r)}).done(function(){var zr=Fr.animators,jr=indexOf(zr,_r);jr>=0&&zr.splice(jr,1)}),this.animators.push(_r),Br&&Br.animation.addAnimator(_r),Br&&Br.wakeUp()},Fe.prototype.updateDuringAnimation=function(_r){this.markRedraw()},Fe.prototype.stopAnimation=function(_r,$r){for(var Br=this.animators,Fr=Br.length,zr=[],jr=0;jr<Fr;jr++){var Ur=Br[jr];!_r||_r===Ur.scope?Ur.stop($r):zr.push(Ur)}return this.animators=zr,this},Fe.prototype.animateTo=function(_r,$r,Br){animateTo(this,_r,$r,Br)},Fe.prototype.animateFrom=function(_r,$r,Br){animateTo(this,_r,$r,Br,!0)},Fe.prototype._transitionState=function(_r,$r,Br,Fr){for(var zr=animateTo(this,$r,Br,Fr),jr=0;jr<zr.length;jr++)zr[jr].__fromStateTransition=_r},Fe.prototype.getBoundingRect=function(){return null},Fe.prototype.getPaintRect=function(){return null},Fe.initDefaultProps=function(){var _r=Fe.prototype;_r.type="element",_r.name="",_r.ignore=_r.silent=_r.isGroup=_r.draggable=_r.dragging=_r.ignoreClip=_r.__inHover=!1,_r.__dirty=REDRAW_BIT;function $r(Br,Fr,zr,jr){Object.defineProperty(_r,Br,{get:function(){if(!this[Fr]){var Gr=this[Fr]=[];Ur(this,Gr)}return this[Fr]},set:function(Gr){this[zr]=Gr[0],this[jr]=Gr[1],this[Fr]=Gr,Ur(this,Gr)}});function Ur(Gr,Yr){Object.defineProperty(Yr,0,{get:function(){return Gr[zr]},set:function(Kr){Gr[zr]=Kr}}),Object.defineProperty(Yr,1,{get:function(){return Gr[jr]},set:function(Kr){Gr[jr]=Kr}})}}Object.defineProperty&&($r("position","_legacyPos","x","y"),$r("scale","_legacyScale","scaleX","scaleY"),$r("origin","_legacyOrigin","originX","originY"))}(),Fe}();mixin(Element$1,Eventful$1);mixin(Element$1,Transformable$1);function animateTo(Fe,_r,$r,Br,Fr){$r=$r||{};var zr=[];animateToShallow(Fe,"",Fe,_r,$r,Br,zr,Fr);var jr=zr.length,Ur=!1,Gr=$r.done,Yr=$r.aborted,Kr=function(){Ur=!0,jr--,jr<=0&&(Ur?Gr&&Gr():Yr&&Yr())},Qr=function(){jr--,jr<=0&&(Ur?Gr&&Gr():Yr&&Yr())};jr||Gr&&Gr(),zr.length>0&&$r.during&&zr[0].during(function(an,ln){$r.during(ln)});for(var Jr=0;Jr<zr.length;Jr++){var rn=zr[Jr];Kr&&rn.done(Kr),Qr&&rn.aborted(Qr),$r.force&&rn.duration($r.duration),rn.start($r.easing)}return zr}function copyArrShallow(Fe,_r,$r){for(var Br=0;Br<$r;Br++)Fe[Br]=_r[Br]}function is2DArray(Fe){return isArrayLike(Fe[0])}function copyValue(Fe,_r,$r){if(isArrayLike(_r[$r]))if(isArrayLike(Fe[$r])||(Fe[$r]=[]),isTypedArray(_r[$r])){var Br=_r[$r].length;Fe[$r].length!==Br&&(Fe[$r]=new _r[$r].constructor(Br),copyArrShallow(Fe[$r],_r[$r],Br))}else{var Fr=_r[$r],zr=Fe[$r],jr=Fr.length;if(is2DArray(Fr))for(var Ur=Fr[0].length,Gr=0;Gr<jr;Gr++)zr[Gr]?copyArrShallow(zr[Gr],Fr[Gr],Ur):zr[Gr]=Array.prototype.slice.call(Fr[Gr]);else copyArrShallow(zr,Fr,jr);zr.length=Fr.length}else Fe[$r]=_r[$r]}function isValueSame(Fe,_r){return Fe===_r||isArrayLike(Fe)&&isArrayLike(_r)&&is1DArraySame(Fe,_r)}function is1DArraySame(Fe,_r){var $r=Fe.length;if($r!==_r.length)return!1;for(var Br=0;Br<$r;Br++)if(Fe[Br]!==_r[Br])return!1;return!0}function animateToShallow(Fe,_r,$r,Br,Fr,zr,jr,Ur){for(var Gr=keys(Br),Yr=Fr.duration,Kr=Fr.delay,Qr=Fr.additive,Jr=Fr.setToFinal,rn=!isObject$3(zr),an=Fe.animators,ln=[],dn=0;dn<Gr.length;dn++){var hn=Gr[dn],gn=Br[hn];if(gn!=null&&$r[hn]!=null&&(rn||zr[hn]))if(isObject$3(gn)&&!isArrayLike(gn)&&!isGradientObject(gn)){if(_r){Ur||($r[hn]=gn,Fe.updateDuringAnimation(_r));continue}animateToShallow(Fe,hn,$r[hn],gn,Fr,zr&&zr[hn],jr,Ur)}else ln.push(hn);else Ur||($r[hn]=gn,Fe.updateDuringAnimation(_r),ln.push(hn))}var bn=ln.length;if(!Qr&&bn)for(var kn=0;kn<an.length;kn++){var Sn=an[kn];if(Sn.targetName===_r){var _n=Sn.stopTracks(ln);if(_n){var pn=indexOf(an,Sn);an.splice(pn,1)}}}if(Fr.force||(ln=filter(ln,function(On){return!isValueSame(Br[On],$r[On])}),bn=ln.length),bn>0||Fr.force&&!jr.length){var Cn=void 0,En=void 0,Pn=void 0;if(Ur){En={},Jr&&(Cn={});for(var kn=0;kn<bn;kn++){var hn=ln[kn];En[hn]=$r[hn],Jr?Cn[hn]=Br[hn]:$r[hn]=Br[hn]}}else if(Jr){Pn={};for(var kn=0;kn<bn;kn++){var hn=ln[kn];Pn[hn]=cloneValue($r[hn]),copyValue($r,Br,hn)}}var Sn=new Animator$1($r,!1,!1,Qr?filter(an,function(jn){return jn.targetName===_r}):null);Sn.targetName=_r,Fr.scope&&(Sn.scope=Fr.scope),Jr&&Cn&&Sn.whenWithKeys(0,Cn,ln),Pn&&Sn.whenWithKeys(0,Pn,ln),Sn.whenWithKeys(Yr??500,Ur?En:Br,ln).delay(Kr||0),Fe.addAnimator(Sn,_r),jr.push(Sn)}}const Element$2=Element$1;var Group$3=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this)||this;return Br.isGroup=!0,Br._children=[],Br.attr($r),Br}return _r.prototype.childrenRef=function(){return this._children},_r.prototype.children=function(){return this._children.slice()},_r.prototype.childAt=function($r){return this._children[$r]},_r.prototype.childOfName=function($r){for(var Br=this._children,Fr=0;Fr<Br.length;Fr++)if(Br[Fr].name===$r)return Br[Fr]},_r.prototype.childCount=function(){return this._children.length},_r.prototype.add=function($r){return $r&&$r!==this&&$r.parent!==this&&(this._children.push($r),this._doAdd($r)),this},_r.prototype.addBefore=function($r,Br){if($r&&$r!==this&&$r.parent!==this&&Br&&Br.parent===this){var Fr=this._children,zr=Fr.indexOf(Br);zr>=0&&(Fr.splice(zr,0,$r),this._doAdd($r))}return this},_r.prototype.replace=function($r,Br){var Fr=indexOf(this._children,$r);return Fr>=0&&this.replaceAt(Br,Fr),this},_r.prototype.replaceAt=function($r,Br){var Fr=this._children,zr=Fr[Br];if($r&&$r!==this&&$r.parent!==this&&$r!==zr){Fr[Br]=$r,zr.parent=null;var jr=this.__zr;jr&&zr.removeSelfFromZr(jr),this._doAdd($r)}return this},_r.prototype._doAdd=function($r){$r.parent&&$r.parent.remove($r),$r.parent=this;var Br=this.__zr;Br&&Br!==$r.__zr&&$r.addSelfToZr(Br),Br&&Br.refresh()},_r.prototype.remove=function($r){var Br=this.__zr,Fr=this._children,zr=indexOf(Fr,$r);return zr<0?this:(Fr.splice(zr,1),$r.parent=null,Br&&$r.removeSelfFromZr(Br),Br&&Br.refresh(),this)},_r.prototype.removeAll=function(){for(var $r=this._children,Br=this.__zr,Fr=0;Fr<$r.length;Fr++){var zr=$r[Fr];Br&&zr.removeSelfFromZr(Br),zr.parent=null}return $r.length=0,this},_r.prototype.eachChild=function($r,Br){for(var Fr=this._children,zr=0;zr<Fr.length;zr++){var jr=Fr[zr];$r.call(Br,jr,zr)}return this},_r.prototype.traverse=function($r,Br){for(var Fr=0;Fr<this._children.length;Fr++){var zr=this._children[Fr],jr=$r.call(Br,zr);zr.isGroup&&!jr&&zr.traverse($r,Br)}return this},_r.prototype.addSelfToZr=function($r){Fe.prototype.addSelfToZr.call(this,$r);for(var Br=0;Br<this._children.length;Br++){var Fr=this._children[Br];Fr.addSelfToZr($r)}},_r.prototype.removeSelfFromZr=function($r){Fe.prototype.removeSelfFromZr.call(this,$r);for(var Br=0;Br<this._children.length;Br++){var Fr=this._children[Br];Fr.removeSelfFromZr($r)}},_r.prototype.getBoundingRect=function($r){for(var Br=new BoundingRect$1(0,0,0,0),Fr=$r||this._children,zr=[],jr=null,Ur=0;Ur<Fr.length;Ur++){var Gr=Fr[Ur];if(!(Gr.ignore||Gr.invisible)){var Yr=Gr.getBoundingRect(),Kr=Gr.getLocalTransform(zr);Kr?(BoundingRect$1.applyTransform(Br,Yr,Kr),jr=jr||Br.clone(),jr.union(Br)):(jr=jr||Yr.clone(),jr.union(Yr))}}return jr||Br},_r}(Element$2);Group$3.prototype.type="group";const Group$4=Group$3;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(Fe){delete instances$1[Fe]}function isDarkMode(Fe){if(!Fe)return!1;if(typeof Fe=="string")return lum(Fe,1)<DARK_MODE_THRESHOLD;if(Fe.colorStops){for(var _r=Fe.colorStops,$r=0,Br=_r.length,Fr=0;Fr<Br;Fr++)$r+=lum(_r[Fr].color,1);return $r/=Br,$r<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function Fe(_r,$r,Br){var Fr=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,Br=Br||{},this.dom=$r,this.id=_r;var zr=new Storage$1,jr=Br.renderer||"canvas";painterCtors[jr]||(jr=keys(painterCtors)[0]),Br.useDirtyRect=Br.useDirtyRect==null?!1:Br.useDirtyRect;var Ur=new painterCtors[jr]($r,zr,Br,_r),Gr=Br.ssr||Ur.ssrOnly;this.storage=zr,this.painter=Ur;var Yr=!env$1.node&&!env$1.worker&&!Gr?new HandlerProxy(Ur.getViewportRoot(),Ur.root):null,Kr=Br.useCoarsePointer,Qr=Kr==null||Kr==="auto"?env$1.touchEventsSupported:!!Kr,Jr=44,rn;Qr&&(rn=retrieve2(Br.pointerSize,Jr)),this.handler=new Handler$1(zr,Ur,Yr,Ur.root,rn),this.animation=new Animation$1({stage:{update:Gr?null:function(){return Fr._flush(!0)}}}),Gr||this.animation.start()}return Fe.prototype.add=function(_r){_r&&(this.storage.addRoot(_r),_r.addSelfToZr(this),this.refresh())},Fe.prototype.remove=function(_r){_r&&(this.storage.delRoot(_r),_r.removeSelfFromZr(this),this.refresh())},Fe.prototype.configLayer=function(_r,$r){this.painter.configLayer&&this.painter.configLayer(_r,$r),this.refresh()},Fe.prototype.setBackgroundColor=function(_r){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(_r),this.refresh(),this._backgroundColor=_r,this._darkMode=isDarkMode(_r)},Fe.prototype.getBackgroundColor=function(){return this._backgroundColor},Fe.prototype.setDarkMode=function(_r){this._darkMode=_r},Fe.prototype.isDarkMode=function(){return this._darkMode},Fe.prototype.refreshImmediately=function(_r){_r||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},Fe.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},Fe.prototype.flush=function(){this._flush(!1)},Fe.prototype._flush=function(_r){var $r,Br=getTime();this._needsRefresh&&($r=!0,this.refreshImmediately(_r)),this._needsRefreshHover&&($r=!0,this.refreshHoverImmediately());var Fr=getTime();$r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Fr-Br})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},Fe.prototype.setSleepAfterStill=function(_r){this._sleepAfterStill=_r},Fe.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},Fe.prototype.refreshHover=function(){this._needsRefreshHover=!0},Fe.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},Fe.prototype.resize=function(_r){_r=_r||{},this.painter.resize(_r.width,_r.height),this.handler.resize()},Fe.prototype.clearAnimation=function(){this.animation.clear()},Fe.prototype.getWidth=function(){return this.painter.getWidth()},Fe.prototype.getHeight=function(){return this.painter.getHeight()},Fe.prototype.setCursorStyle=function(_r){this.handler.setCursorStyle(_r)},Fe.prototype.findHover=function(_r,$r){return this.handler.findHover(_r,$r)},Fe.prototype.on=function(_r,$r,Br){return this.handler.on(_r,$r,Br),this},Fe.prototype.off=function(_r,$r){this.handler.off(_r,$r)},Fe.prototype.trigger=function(_r,$r){this.handler.trigger(_r,$r)},Fe.prototype.clear=function(){for(var _r=this.storage.getRoots(),$r=0;$r<_r.length;$r++)_r[$r]instanceof Group$4&&_r[$r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},Fe.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},Fe}();function init$2(Fe,_r){var $r=new ZRender(guid(),Fe,_r);return instances$1[$r.id]=$r,$r}function dispose$1(Fe){Fe.dispose()}function disposeAll(){for(var Fe in instances$1)instances$1.hasOwnProperty(Fe)&&instances$1[Fe].dispose();instances$1={}}function getInstance(Fe){return instances$1[Fe]}function registerPainter(Fe,_r){painterCtors[Fe]=_r}var version$1="5.4.4";const zrender=Object.freeze(Object.defineProperty({__proto__:null,dispose:dispose$1,disposeAll,getInstance,init:init$2,registerPainter,version:version$1},Symbol.toStringTag,{value:"Module"}));var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(Fe){return Fe.replace(/^\s+|\s+$/g,"")}function linearMap$2(Fe,_r,$r,Br){var Fr=_r[0],zr=_r[1],jr=$r[0],Ur=$r[1],Gr=zr-Fr,Yr=Ur-jr;if(Gr===0)return Yr===0?jr:(jr+Ur)/2;if(Br)if(Gr>0){if(Fe<=Fr)return jr;if(Fe>=zr)return Ur}else{if(Fe>=Fr)return jr;if(Fe<=zr)return Ur}else{if(Fe===Fr)return jr;if(Fe===zr)return Ur}return(Fe-Fr)/Gr*Yr+jr}function parsePercent(Fe,_r){switch(Fe){case"center":case"middle":Fe="50%";break;case"left":case"top":Fe="0%";break;case"right":case"bottom":Fe="100%";break}return isString(Fe)?_trim(Fe).match(/%$/)?parseFloat(Fe)/100*_r:parseFloat(Fe):Fe==null?NaN:+Fe}function round$3(Fe,_r,$r){return _r==null&&(_r=10),_r=Math.min(Math.max(0,_r),ROUND_SUPPORTED_PRECISION_MAX),Fe=(+Fe).toFixed(_r),$r?Fe:+Fe}function asc$2(Fe){return Fe.sort(function(_r,$r){return _r-$r}),Fe}function getPrecision(Fe){if(Fe=+Fe,isNaN(Fe))return 0;if(Fe>1e-14){for(var _r=1,$r=0;$r<15;$r++,_r*=10)if(Math.round(Fe*_r)/_r===Fe)return $r}return getPrecisionSafe(Fe)}function getPrecisionSafe(Fe){var _r=Fe.toString().toLowerCase(),$r=_r.indexOf("e"),Br=$r>0?+_r.slice($r+1):0,Fr=$r>0?$r:_r.length,zr=_r.indexOf("."),jr=zr<0?0:Fr-1-zr;return Math.max(0,jr-Br)}function getPixelPrecision(Fe,_r){var $r=Math.log,Br=Math.LN10,Fr=Math.floor($r(Fe[1]-Fe[0])/Br),zr=Math.round($r(Math.abs(_r[1]-_r[0]))/Br),jr=Math.min(Math.max(-Fr+zr,0),20);return isFinite(jr)?jr:20}function getPercentWithPrecision(Fe,_r,$r){if(!Fe[_r])return 0;var Br=getPercentSeats(Fe,$r);return Br[_r]||0}function getPercentSeats(Fe,_r){var $r=reduce(Fe,function(rn,an){return rn+(isNaN(an)?0:an)},0);if($r===0)return[];for(var Br=Math.pow(10,_r),Fr=map$1(Fe,function(rn){return(isNaN(rn)?0:rn)/$r*Br*100}),zr=Br*100,jr=map$1(Fr,function(rn){return Math.floor(rn)}),Ur=reduce(jr,function(rn,an){return rn+an},0),Gr=map$1(Fr,function(rn,an){return rn-jr[an]});Ur<zr;){for(var Yr=Number.NEGATIVE_INFINITY,Kr=null,Qr=0,Jr=Gr.length;Qr<Jr;++Qr)Gr[Qr]>Yr&&(Yr=Gr[Qr],Kr=Qr);++jr[Kr],Gr[Kr]=0,++Ur}return map$1(jr,function(rn){return rn/Br})}function addSafe(Fe,_r){var $r=Math.max(getPrecision(Fe),getPrecision(_r)),Br=Fe+_r;return $r>ROUND_SUPPORTED_PRECISION_MAX?Br:round$3(Br,$r)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(Fe){var _r=Math.PI*2;return(Fe%_r+_r)%_r}function isRadianAroundZero(Fe){return Fe>-RADIAN_EPSILON&&Fe<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(Fe){if(Fe instanceof Date)return Fe;if(isString(Fe)){var _r=TIME_REG.exec(Fe);if(!_r)return new Date(NaN);if(_r[8]){var $r=+_r[4]||0;return _r[8].toUpperCase()!=="Z"&&($r-=+_r[8].slice(0,3)),new Date(Date.UTC(+_r[1],+(_r[2]||1)-1,+_r[3]||1,$r,+(_r[5]||0),+_r[6]||0,_r[7]?+_r[7].substring(0,3):0))}else return new Date(+_r[1],+(_r[2]||1)-1,+_r[3]||1,+_r[4]||0,+(_r[5]||0),+_r[6]||0,_r[7]?+_r[7].substring(0,3):0)}else if(Fe==null)return new Date(NaN);return new Date(Math.round(Fe))}function quantity(Fe){return Math.pow(10,quantityExponent(Fe))}function quantityExponent(Fe){if(Fe===0)return 0;var _r=Math.floor(Math.log(Fe)/Math.LN10);return Fe/Math.pow(10,_r)>=10&&_r++,_r}function nice(Fe,_r){var $r=quantityExponent(Fe),Br=Math.pow(10,$r),Fr=Fe/Br,zr;return _r?Fr<1.5?zr=1:Fr<2.5?zr=2:Fr<4?zr=3:Fr<7?zr=5:zr=10:Fr<1?zr=1:Fr<2?zr=2:Fr<3?zr=3:Fr<5?zr=5:zr=10,Fe=zr*Br,$r>=-20?+Fe.toFixed($r<0?-$r:0):Fe}function quantile(Fe,_r){var $r=(Fe.length-1)*_r+1,Br=Math.floor($r),Fr=+Fe[Br-1],zr=$r-Br;return zr?Fr+zr*(Fe[Br]-Fr):Fr}function reformIntervals(Fe){Fe.sort(function(Gr,Yr){return Ur(Gr,Yr,0)?-1:1});for(var _r=-1/0,$r=1,Br=0;Br<Fe.length;){for(var Fr=Fe[Br].interval,zr=Fe[Br].close,jr=0;jr<2;jr++)Fr[jr]<=_r&&(Fr[jr]=_r,zr[jr]=jr?1:1-$r),_r=Fr[jr],$r=zr[jr];Fr[0]===Fr[1]&&zr[0]*zr[1]!==1?Fe.splice(Br,1):Br++}return Fe;function Ur(Gr,Yr,Kr){return Gr.interval[Kr]<Yr.interval[Kr]||Gr.interval[Kr]===Yr.interval[Kr]&&(Gr.close[Kr]-Yr.close[Kr]===(Kr?-1:1)||!Kr&&Ur(Gr,Yr,1))}}function numericToNumber(Fe){var _r=parseFloat(Fe);return _r==Fe&&(_r!==0||!isString(Fe)||Fe.indexOf("x")<=0)?_r:NaN}function isNumeric(Fe){return!isNaN(numericToNumber(Fe))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(Fe,_r){return _r===0?Fe:getGreatestCommonDividor(_r,Fe%_r)}function getLeastCommonMultiple(Fe,_r){return Fe==null?_r:_r==null?Fe:Fe*_r/getGreatestCommonDividor(Fe,_r)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(Fe,_r,$r){if(hasConsole){if($r){if(storedLogs[_r])return;storedLogs[_r]=!0}console[Fe](ECHARTS_PREFIX+_r)}}function warn(Fe,_r){outputLog("warn",Fe,_r)}function throwError(Fe){throw new Error(Fe)}function interpolateNumber(Fe,_r,$r){return(_r-Fe)*$r+Fe}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(Fe){return Fe instanceof Array?Fe:Fe==null?[]:[Fe]}function defaultEmphasis(Fe,_r,$r){if(Fe){Fe[_r]=Fe[_r]||{},Fe.emphasis=Fe.emphasis||{},Fe.emphasis[_r]=Fe.emphasis[_r]||{};for(var Br=0,Fr=$r.length;Br<Fr;Br++){var zr=$r[Br];!Fe.emphasis[_r].hasOwnProperty(zr)&&Fe[_r].hasOwnProperty(zr)&&(Fe.emphasis[_r][zr]=Fe[_r][zr])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(Fe){return isObject$3(Fe)&&!isArray$1(Fe)&&!(Fe instanceof Date)?Fe.value:Fe}function isDataItemOption(Fe){return isObject$3(Fe)&&!(Fe instanceof Array)}function mappingToExists(Fe,_r,$r){var Br=$r==="normalMerge",Fr=$r==="replaceMerge",zr=$r==="replaceAll";Fe=Fe||[],_r=(_r||[]).slice();var jr=createHashMap();each$f(_r,function(Gr,Yr){if(!isObject$3(Gr)){_r[Yr]=null;return}});var Ur=prepareResult(Fe,jr,$r);return(Br||Fr)&&mappingById(Ur,Fe,jr,_r),Br&&mappingByName(Ur,_r),Br||Fr?mappingByIndex(Ur,_r,Fr):zr&&mappingInReplaceAllMode(Ur,_r),makeIdAndName(Ur),Ur}function prepareResult(Fe,_r,$r){var Br=[];if($r==="replaceAll")return Br;for(var Fr=0;Fr<Fe.length;Fr++){var zr=Fe[Fr];zr&&zr.id!=null&&_r.set(zr.id,Fr),Br.push({existing:$r==="replaceMerge"||isComponentIdInternal(zr)?null:zr,newOption:null,keyInfo:null,brandNew:null})}return Br}function mappingById(Fe,_r,$r,Br){each$f(Br,function(Fr,zr){if(!(!Fr||Fr.id==null)){var jr=makeComparableKey(Fr.id),Ur=$r.get(jr);if(Ur!=null){var Gr=Fe[Ur];assert(!Gr.newOption,'Duplicated option on id "'+jr+'".'),Gr.newOption=Fr,Gr.existing=_r[Ur],Br[zr]=null}}})}function mappingByName(Fe,_r){each$f(_r,function($r,Br){if(!(!$r||$r.name==null))for(var Fr=0;Fr<Fe.length;Fr++){var zr=Fe[Fr].existing;if(!Fe[Fr].newOption&&zr&&(zr.id==null||$r.id==null)&&!isComponentIdInternal($r)&&!isComponentIdInternal(zr)&&keyExistAndEqual("name",zr,$r)){Fe[Fr].newOption=$r,_r[Br]=null;return}}})}function mappingByIndex(Fe,_r,$r){each$f(_r,function(Br){if(Br){for(var Fr,zr=0;(Fr=Fe[zr])&&(Fr.newOption||isComponentIdInternal(Fr.existing)||Fr.existing&&Br.id!=null&&!keyExistAndEqual("id",Br,Fr.existing));)zr++;Fr?(Fr.newOption=Br,Fr.brandNew=$r):Fe.push({newOption:Br,brandNew:$r,existing:null,keyInfo:null}),zr++}})}function mappingInReplaceAllMode(Fe,_r){each$f(_r,function($r){Fe.push({newOption:$r,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(Fe){var _r=createHashMap();each$f(Fe,function($r){var Br=$r.existing;Br&&_r.set(Br.id,$r)}),each$f(Fe,function($r){var Br=$r.newOption;assert(!Br||Br.id==null||!_r.get(Br.id)||_r.get(Br.id)===$r,"id duplicates: "+(Br&&Br.id)),Br&&Br.id!=null&&_r.set(Br.id,$r),!$r.keyInfo&&($r.keyInfo={})}),each$f(Fe,function($r,Br){var Fr=$r.existing,zr=$r.newOption,jr=$r.keyInfo;if(isObject$3(zr)){if(jr.name=zr.name!=null?makeComparableKey(zr.name):Fr?Fr.name:DUMMY_COMPONENT_NAME_PREFIX+Br,Fr)jr.id=makeComparableKey(Fr.id);else if(zr.id!=null)jr.id=makeComparableKey(zr.id);else{var Ur=0;do jr.id="\0"+jr.name+"\0"+Ur++;while(_r.get(jr.id))}_r.set(jr.id,$r)}})}function keyExistAndEqual(Fe,_r,$r){var Br=convertOptionIdName(_r[Fe],null),Fr=convertOptionIdName($r[Fe],null);return Br!=null&&Fr!=null&&Br===Fr}function makeComparableKey(Fe){return convertOptionIdName(Fe,"")}function convertOptionIdName(Fe,_r){return Fe==null?_r:isString(Fe)?Fe:isNumber(Fe)||isStringSafe(Fe)?Fe+"":_r}function isNameSpecified(Fe){var _r=Fe.name;return!!(_r&&_r.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(Fe){return Fe&&Fe.id!=null&&makeComparableKey(Fe.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(Fe){return INTERNAL_COMPONENT_ID_PREFIX+Fe}function setComponentTypeToKeyInfo(Fe,_r,$r){each$f(Fe,function(Br){var Fr=Br.newOption;isObject$3(Fr)&&(Br.keyInfo.mainType=_r,Br.keyInfo.subType=determineSubType(_r,Fr,Br.existing,$r))})}function determineSubType(Fe,_r,$r,Br){var Fr=_r.type?_r.type:$r?$r.subType:Br.determineSubType(Fe,_r);return Fr}function compressBatches(Fe,_r){var $r={},Br={};return Fr(Fe||[],$r),Fr(_r||[],Br,$r),[zr($r),zr(Br)];function Fr(jr,Ur,Gr){for(var Yr=0,Kr=jr.length;Yr<Kr;Yr++){var Qr=convertOptionIdName(jr[Yr].seriesId,null);if(Qr==null)return;for(var Jr=normalizeToArray(jr[Yr].dataIndex),rn=Gr&&Gr[Qr],an=0,ln=Jr.length;an<ln;an++){var dn=Jr[an];rn&&rn[dn]?rn[dn]=null:(Ur[Qr]||(Ur[Qr]={}))[dn]=1}}}function zr(jr,Ur){var Gr=[];for(var Yr in jr)if(jr.hasOwnProperty(Yr)&&jr[Yr]!=null)if(Ur)Gr.push(+Yr);else{var Kr=zr(jr[Yr],!0);Kr.length&&Gr.push({seriesId:Yr,dataIndex:Kr})}return Gr}}function queryDataIndex(Fe,_r){if(_r.dataIndexInside!=null)return _r.dataIndexInside;if(_r.dataIndex!=null)return isArray$1(_r.dataIndex)?map$1(_r.dataIndex,function($r){return Fe.indexOfRawIndex($r)}):Fe.indexOfRawIndex(_r.dataIndex);if(_r.name!=null)return isArray$1(_r.name)?map$1(_r.name,function($r){return Fe.indexOfName($r)}):Fe.indexOfName(_r.name)}function makeInner(){var Fe="__ec_inner_"+innerUniqueIndex++;return function(_r){return _r[Fe]||(_r[Fe]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(Fe,_r,$r){var Br=preParseFinder(_r,$r),Fr=Br.mainTypeSpecified,zr=Br.queryOptionMap,jr=Br.others,Ur=jr,Gr=$r?$r.defaultMainType:null;return!Fr&&Gr&&zr.set(Gr,{}),zr.each(function(Yr,Kr){var Qr=queryReferringComponents(Fe,Kr,Yr,{useDefault:Gr===Kr,enableAll:$r&&$r.enableAll!=null?$r.enableAll:!0,enableNone:$r&&$r.enableNone!=null?$r.enableNone:!0});Ur[Kr+"Models"]=Qr.models,Ur[Kr+"Model"]=Qr.models[0]}),Ur}function preParseFinder(Fe,_r){var $r;if(isString(Fe)){var Br={};Br[Fe+"Index"]=0,$r=Br}else $r=Fe;var Fr=createHashMap(),zr={},jr=!1;return each$f($r,function(Ur,Gr){if(Gr==="dataIndex"||Gr==="dataIndexInside"){zr[Gr]=Ur;return}var Yr=Gr.match(/^(\w+)(Index|Id|Name)$/)||[],Kr=Yr[1],Qr=(Yr[2]||"").toLowerCase();if(!(!Kr||!Qr||_r&&_r.includeMainTypes&&indexOf(_r.includeMainTypes,Kr)<0)){jr=jr||!!Kr;var Jr=Fr.get(Kr)||Fr.set(Kr,{});Jr[Qr]=Ur}}),{mainTypeSpecified:jr,queryOptionMap:Fr,others:zr}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(Fe,_r,$r,Br){Br=Br||SINGLE_REFERRING;var Fr=$r.index,zr=$r.id,jr=$r.name,Ur={models:null,specified:Fr!=null||zr!=null||jr!=null};if(!Ur.specified){var Gr=void 0;return Ur.models=Br.useDefault&&(Gr=Fe.getComponent(_r))?[Gr]:[],Ur}return Fr==="none"||Fr===!1?(assert(Br.enableNone,'`"none"` or `false` is not a valid value on index option.'),Ur.models=[],Ur):(Fr==="all"&&(assert(Br.enableAll,'`"all"` is not a valid value on index option.'),Fr=zr=jr=null),Ur.models=Fe.queryComponents({mainType:_r,index:Fr,id:zr,name:jr}),Ur)}function setAttribute(Fe,_r,$r){Fe.setAttribute?Fe.setAttribute(_r,$r):Fe[_r]=$r}function getAttribute(Fe,_r){return Fe.getAttribute?Fe.getAttribute(_r):Fe[_r]}function getTooltipRenderMode(Fe){return Fe==="auto"?env$1.domSupported?"html":"richText":Fe||"html"}function groupData(Fe,_r){var $r=createHashMap(),Br=[];return each$f(Fe,function(Fr){var zr=_r(Fr);($r.get(zr)||(Br.push(zr),$r.set(zr,[]))).push(Fr)}),{keys:Br,buckets:$r}}function interpolateRawValues(Fe,_r,$r,Br,Fr){var zr=_r==null||_r==="auto";if(Br==null)return Br;if(isNumber(Br)){var jr=interpolateNumber($r||0,Br,Fr);return round$3(jr,zr?Math.max(getPrecision($r||0),getPrecision(Br)):_r)}else{if(isString(Br))return Fr<1?$r:Br;for(var Ur=[],Gr=$r,Yr=Br,Kr=Math.max(Gr?Gr.length:0,Yr.length),Qr=0;Qr<Kr;++Qr){var Jr=Fe.getDimensionInfo(Qr);if(Jr&&Jr.type==="ordinal")Ur[Qr]=(Fr<1&&Gr?Gr:Yr)[Qr];else{var rn=Gr&&Gr[Qr]?Gr[Qr]:0,an=Yr[Qr],jr=interpolateNumber(rn,an,Fr);Ur[Qr]=round$3(jr,zr?Math.max(getPrecision(rn),getPrecision(an)):_r)}}return Ur}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(Fe){var _r={main:"",sub:""};if(Fe){var $r=Fe.split(TYPE_DELIMITER);_r.main=$r[0]||"",_r.sub=$r[1]||""}return _r}function checkClassType(Fe){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(Fe),'componentType "'+Fe+'" illegal')}function isExtendedClass(Fe){return!!(Fe&&Fe[IS_EXTENDED_CLASS])}function enableClassExtend(Fe,_r){Fe.$constructor=Fe,Fe.extend=function($r){var Br=this,Fr;return isESClass(Br)?Fr=function(zr){__extends(jr,zr);function jr(){return zr.apply(this,arguments)||this}return jr}(Br):(Fr=function(){($r.$constructor||Br).apply(this,arguments)},inherits(Fr,this)),extend$1(Fr.prototype,$r),Fr[IS_EXTENDED_CLASS]=!0,Fr.extend=this.extend,Fr.superCall=superCall,Fr.superApply=superApply,Fr.superClass=Br,Fr}}function isESClass(Fe){return isFunction(Fe)&&/^class\s/.test(Function.prototype.toString.call(Fe))}function mountExtend(Fe,_r){Fe.extend=_r.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(Fe){var _r=["__\0is_clz",classBase++].join("_");Fe.prototype[_r]=!0,Fe.isInstance=function($r){return!!($r&&$r[_r])}}function superCall(Fe,_r){for(var $r=[],Br=2;Br<arguments.length;Br++)$r[Br-2]=arguments[Br];return this.superClass.prototype[_r].apply(Fe,$r)}function superApply(Fe,_r,$r){return this.superClass.prototype[_r].apply(Fe,$r)}function enableClassManagement(Fe){var _r={};Fe.registerClass=function(Br){var Fr=Br.type||Br.prototype.type;if(Fr){checkClassType(Fr),Br.prototype.type=Fr;var zr=parseClassType(Fr);if(!zr.sub)_r[zr.main]=Br;else if(zr.sub!==IS_CONTAINER){var jr=$r(zr);jr[zr.sub]=Br}}return Br},Fe.getClass=function(Br,Fr,zr){var jr=_r[Br];if(jr&&jr[IS_CONTAINER]&&(jr=Fr?jr[Fr]:null),zr&&!jr)throw new Error(Fr?"Component "+Br+"."+(Fr||"")+" is used but not imported.":Br+".type should be specified.");return jr},Fe.getClassesByMainType=function(Br){var Fr=parseClassType(Br),zr=[],jr=_r[Fr.main];return jr&&jr[IS_CONTAINER]?each$f(jr,function(Ur,Gr){Gr!==IS_CONTAINER&&zr.push(Ur)}):zr.push(jr),zr},Fe.hasClass=function(Br){var Fr=parseClassType(Br);return!!_r[Fr.main]},Fe.getAllClassMainTypes=function(){var Br=[];return each$f(_r,function(Fr,zr){Br.push(zr)}),Br},Fe.hasSubTypes=function(Br){var Fr=parseClassType(Br),zr=_r[Fr.main];return zr&&zr[IS_CONTAINER]};function $r(Br){var Fr=_r[Br.main];return(!Fr||!Fr[IS_CONTAINER])&&(Fr=_r[Br.main]={},Fr[IS_CONTAINER]=!0),Fr}}function makeStyleMapper(Fe,_r){for(var $r=0;$r<Fe.length;$r++)Fe[$r][1]||(Fe[$r][1]=Fe[$r][0]);return _r=_r||!1,function(Br,Fr,zr){for(var jr={},Ur=0;Ur<Fe.length;Ur++){var Gr=Fe[Ur][1];if(!(Fr&&indexOf(Fr,Gr)>=0||zr&&indexOf(zr,Gr)<0)){var Yr=Br.getShallow(Gr,_r);Yr!=null&&(jr[Fe[Ur][0]]=Yr)}}return jr}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function Fe(){}return Fe.prototype.getAreaStyle=function(_r,$r){return getAreaStyle(this,_r,$r)},Fe}(),globalImageCache=new LRU$1(50);function findExistImage(Fe){if(typeof Fe=="string"){var _r=globalImageCache.get(Fe);return _r&&_r.image}else return Fe}function createOrUpdateImage(Fe,_r,$r,Br,Fr){if(Fe)if(typeof Fe=="string"){if(_r&&_r.__zrImageSrc===Fe||!$r)return _r;var zr=globalImageCache.get(Fe),jr={hostEl:$r,cb:Br,cbPayload:Fr};return zr?(_r=zr.image,!isImageReady(_r)&&zr.pending.push(jr)):(_r=platformApi.loadImage(Fe,imageOnLoad,imageOnLoad),_r.__zrImageSrc=Fe,globalImageCache.put(Fe,_r.__cachedImgObj={image:_r,pending:[jr]})),_r}else return Fe;else return _r}function imageOnLoad(){var Fe=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var _r=0;_r<Fe.pending.length;_r++){var $r=Fe.pending[_r],Br=$r.cb;Br&&Br(this,$r.cbPayload),$r.hostEl.dirty()}Fe.pending.length=0}function isImageReady(Fe){return Fe&&Fe.width&&Fe.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(Fe,_r,$r,Br,Fr){if(!_r)return"";var zr=(Fe+"").split(`
`);Fr=prepareTruncateOptions(_r,$r,Br,Fr);for(var jr=0,Ur=zr.length;jr<Ur;jr++)zr[jr]=truncateSingleLine(zr[jr],Fr);return zr.join(`
`)}function prepareTruncateOptions(Fe,_r,$r,Br){Br=Br||{};var Fr=extend$1({},Br);Fr.font=_r,$r=retrieve2($r,"..."),Fr.maxIterations=retrieve2(Br.maxIterations,2);var zr=Fr.minChar=retrieve2(Br.minChar,0);Fr.cnCharWidth=getWidth("å½",_r);var jr=Fr.ascCharWidth=getWidth("a",_r);Fr.placeholder=retrieve2(Br.placeholder,"");for(var Ur=Fe=Math.max(0,Fe-1),Gr=0;Gr<zr&&Ur>=jr;Gr++)Ur-=jr;var Yr=getWidth($r,_r);return Yr>Ur&&($r="",Yr=0),Ur=Fe-Yr,Fr.ellipsis=$r,Fr.ellipsisWidth=Yr,Fr.contentWidth=Ur,Fr.containerWidth=Fe,Fr}function truncateSingleLine(Fe,_r){var $r=_r.containerWidth,Br=_r.font,Fr=_r.contentWidth;if(!$r)return"";var zr=getWidth(Fe,Br);if(zr<=$r)return Fe;for(var jr=0;;jr++){if(zr<=Fr||jr>=_r.maxIterations){Fe+=_r.ellipsis;break}var Ur=jr===0?estimateLength(Fe,Fr,_r.ascCharWidth,_r.cnCharWidth):zr>0?Math.floor(Fe.length*Fr/zr):0;Fe=Fe.substr(0,Ur),zr=getWidth(Fe,Br)}return Fe===""&&(Fe=_r.placeholder),Fe}function estimateLength(Fe,_r,$r,Br){for(var Fr=0,zr=0,jr=Fe.length;zr<jr&&Fr<_r;zr++){var Ur=Fe.charCodeAt(zr);Fr+=0<=Ur&&Ur<=127?$r:Br}return zr}function parsePlainText(Fe,_r){Fe!=null&&(Fe+="");var $r=_r.overflow,Br=_r.padding,Fr=_r.font,zr=$r==="truncate",jr=getLineHeight(Fr),Ur=retrieve2(_r.lineHeight,jr),Gr=!!_r.backgroundColor,Yr=_r.lineOverflow==="truncate",Kr=_r.width,Qr;Kr!=null&&($r==="break"||$r==="breakAll")?Qr=Fe?wrapText(Fe,_r.font,Kr,$r==="breakAll",0).lines:[]:Qr=Fe?Fe.split(`
`):[];var Jr=Qr.length*Ur,rn=retrieve2(_r.height,Jr);if(Jr>rn&&Yr){var an=Math.floor(rn/Ur);Qr=Qr.slice(0,an)}if(Fe&&zr&&Kr!=null)for(var ln=prepareTruncateOptions(Kr,Fr,_r.ellipsis,{minChar:_r.truncateMinChar,placeholder:_r.placeholder}),dn=0;dn<Qr.length;dn++)Qr[dn]=truncateSingleLine(Qr[dn],ln);for(var hn=rn,gn=0,dn=0;dn<Qr.length;dn++)gn=Math.max(getWidth(Qr[dn],Fr),gn);Kr==null&&(Kr=gn);var bn=gn;return Br&&(hn+=Br[0]+Br[2],bn+=Br[1]+Br[3],Kr+=Br[1]+Br[3]),Gr&&(bn=Kr),{lines:Qr,height:rn,outerWidth:bn,outerHeight:hn,lineHeight:Ur,calculatedLineHeight:jr,contentWidth:gn,contentHeight:Jr,width:Kr}}var RichTextToken=function(){function Fe(){}return Fe}(),RichTextLine=function(){function Fe(_r){this.tokens=[],_r&&(this.tokens=_r)}return Fe}(),RichTextContentBlock=function(){function Fe(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return Fe}();function parseRichText(Fe,_r){var $r=new RichTextContentBlock;if(Fe!=null&&(Fe+=""),!Fe)return $r;for(var Br=_r.width,Fr=_r.height,zr=_r.overflow,jr=(zr==="break"||zr==="breakAll")&&Br!=null?{width:Br,accumWidth:0,breakAll:zr==="breakAll"}:null,Ur=STYLE_REG.lastIndex=0,Gr;(Gr=STYLE_REG.exec(Fe))!=null;){var Yr=Gr.index;Yr>Ur&&pushTokens($r,Fe.substring(Ur,Yr),_r,jr),pushTokens($r,Gr[2],_r,jr,Gr[1]),Ur=STYLE_REG.lastIndex}Ur<Fe.length&&pushTokens($r,Fe.substring(Ur,Fe.length),_r,jr);var Kr=[],Qr=0,Jr=0,rn=_r.padding,an=zr==="truncate",ln=_r.lineOverflow==="truncate";function dn(oi,wi,Ci){oi.width=wi,oi.lineHeight=Ci,Qr+=Ci,Jr=Math.max(Jr,wi)}e:for(var hn=0;hn<$r.lines.length;hn++){for(var gn=$r.lines[hn],bn=0,kn=0,Sn=0;Sn<gn.tokens.length;Sn++){var _n=gn.tokens[Sn],pn=_n.styleName&&_r.rich[_n.styleName]||{},Cn=_n.textPadding=pn.padding,En=Cn?Cn[1]+Cn[3]:0,Pn=_n.font=pn.font||_r.font;_n.contentHeight=getLineHeight(Pn);var On=retrieve2(pn.height,_n.contentHeight);if(_n.innerHeight=On,Cn&&(On+=Cn[0]+Cn[2]),_n.height=On,_n.lineHeight=retrieve3(pn.lineHeight,_r.lineHeight,On),_n.align=pn&&pn.align||_r.align,_n.verticalAlign=pn&&pn.verticalAlign||"middle",ln&&Fr!=null&&Qr+_n.lineHeight>Fr){Sn>0?(gn.tokens=gn.tokens.slice(0,Sn),dn(gn,kn,bn),$r.lines=$r.lines.slice(0,hn+1)):$r.lines=$r.lines.slice(0,hn);break e}var jn=pn.width,Fn=jn==null||jn==="auto";if(typeof jn=="string"&&jn.charAt(jn.length-1)==="%")_n.percentWidth=jn,Kr.push(_n),_n.contentWidth=getWidth(_n.text,Pn);else{if(Fn){var Wn=pn.backgroundColor,Hn=Wn&&Wn.image;Hn&&(Hn=findExistImage(Hn),isImageReady(Hn)&&(_n.width=Math.max(_n.width,Hn.width*On/Hn.height)))}var qn=an&&Br!=null?Br-kn:null;qn!=null&&qn<_n.width?!Fn||qn<En?(_n.text="",_n.width=_n.contentWidth=0):(_n.text=truncateText(_n.text,qn-En,Pn,_r.ellipsis,{minChar:_r.truncateMinChar}),_n.width=_n.contentWidth=getWidth(_n.text,Pn)):_n.contentWidth=getWidth(_n.text,Pn)}_n.width+=En,kn+=_n.width,pn&&(bn=Math.max(bn,_n.lineHeight))}dn(gn,kn,bn)}$r.outerWidth=$r.width=retrieve2(Br,Jr),$r.outerHeight=$r.height=retrieve2(Fr,Qr),$r.contentHeight=Qr,$r.contentWidth=Jr,rn&&($r.outerWidth+=rn[1]+rn[3],$r.outerHeight+=rn[0]+rn[2]);for(var hn=0;hn<Kr.length;hn++){var _n=Kr[hn],ni=_n.percentWidth;_n.width=parseInt(ni,10)/100*$r.width}return $r}function pushTokens(Fe,_r,$r,Br,Fr){var zr=_r==="",jr=Fr&&$r.rich[Fr]||{},Ur=Fe.lines,Gr=jr.font||$r.font,Yr=!1,Kr,Qr;if(Br){var Jr=jr.padding,rn=Jr?Jr[1]+Jr[3]:0;if(jr.width!=null&&jr.width!=="auto"){var an=parsePercent$1(jr.width,Br.width)+rn;Ur.length>0&&an+Br.accumWidth>Br.width&&(Kr=_r.split(`
`),Yr=!0),Br.accumWidth=an}else{var ln=wrapText(_r,Gr,Br.width,Br.breakAll,Br.accumWidth);Br.accumWidth=ln.accumWidth+rn,Qr=ln.linesWidths,Kr=ln.lines}}else Kr=_r.split(`
`);for(var dn=0;dn<Kr.length;dn++){var hn=Kr[dn],gn=new RichTextToken;if(gn.styleName=Fr,gn.text=hn,gn.isLineHolder=!hn&&!zr,typeof jr.width=="number"?gn.width=jr.width:gn.width=Qr?Qr[dn]:getWidth(hn,Gr),!dn&&!Yr){var bn=(Ur[Ur.length-1]||(Ur[0]=new RichTextLine)).tokens,kn=bn.length;kn===1&&bn[0].isLineHolder?bn[0]=gn:(hn||!kn||zr)&&bn.push(gn)}else Ur.push(new RichTextLine([gn]))}}function isAlphabeticLetter(Fe){var _r=Fe.charCodeAt(0);return _r>=32&&_r<=591||_r>=880&&_r<=4351||_r>=4608&&_r<=5119||_r>=7680&&_r<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(Fe,_r){return Fe[_r]=!0,Fe},{});function isWordBreakChar(Fe){return isAlphabeticLetter(Fe)?!!breakCharMap[Fe]:!0}function wrapText(Fe,_r,$r,Br,Fr){for(var zr=[],jr=[],Ur="",Gr="",Yr=0,Kr=0,Qr=0;Qr<Fe.length;Qr++){var Jr=Fe.charAt(Qr);if(Jr===`
`){Gr&&(Ur+=Gr,Kr+=Yr),zr.push(Ur),jr.push(Kr),Ur="",Gr="",Yr=0,Kr=0;continue}var rn=getWidth(Jr,_r),an=Br?!1:!isWordBreakChar(Jr);if(zr.length?Kr+rn>$r:Fr+Kr+rn>$r){Kr?(Ur||Gr)&&(an?(Ur||(Ur=Gr,Gr="",Yr=0,Kr=Yr),zr.push(Ur),jr.push(Kr-Yr),Gr+=Jr,Yr+=rn,Ur="",Kr=Yr):(Gr&&(Ur+=Gr,Gr="",Yr=0),zr.push(Ur),jr.push(Kr),Ur=Jr,Kr=rn)):an?(zr.push(Gr),jr.push(Yr),Gr=Jr,Yr=rn):(zr.push(Jr),jr.push(rn));continue}Kr+=rn,an?(Gr+=Jr,Yr+=rn):(Gr&&(Ur+=Gr,Gr="",Yr=0),Ur+=Jr)}return!zr.length&&!Ur&&(Ur=Fe,Gr="",Yr=0),Gr&&(Ur+=Gr),Ur&&(zr.push(Ur),jr.push(Kr)),zr.length===1&&(Kr+=Fr),{accumWidth:Kr,lines:zr,linesWidths:jr}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype._init=function($r){for(var Br=keys($r),Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr];zr==="style"?this.useStyle($r[zr]):Fe.prototype.attrKV.call(this,zr,$r[zr])}this.style||this.useStyle({})},_r.prototype.beforeBrush=function(){},_r.prototype.afterBrush=function(){},_r.prototype.innerBeforeBrush=function(){},_r.prototype.innerAfterBrush=function(){},_r.prototype.shouldBePainted=function($r,Br,Fr,zr){var jr=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,$r,Br)||jr&&!jr[0]&&!jr[3])return!1;if(Fr&&this.__clipPaths){for(var Ur=0;Ur<this.__clipPaths.length;++Ur)if(this.__clipPaths[Ur].isZeroArea())return!1}if(zr&&this.parent)for(var Gr=this.parent;Gr;){if(Gr.ignore)return!1;Gr=Gr.parent}return!0},_r.prototype.contain=function($r,Br){return this.rectContain($r,Br)},_r.prototype.traverse=function($r,Br){$r.call(Br,this)},_r.prototype.rectContain=function($r,Br){var Fr=this.transformCoordToLocal($r,Br),zr=this.getBoundingRect();return zr.contain(Fr[0],Fr[1])},_r.prototype.getPaintRect=function(){var $r=this._paintRect;if(!this._paintRect||this.__dirty){var Br=this.transform,Fr=this.getBoundingRect(),zr=this.style,jr=zr.shadowBlur||0,Ur=zr.shadowOffsetX||0,Gr=zr.shadowOffsetY||0;$r=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),Br?BoundingRect$1.applyTransform($r,Fr,Br):$r.copy(Fr),(jr||Ur||Gr)&&($r.width+=jr*2+Math.abs(Ur),$r.height+=jr*2+Math.abs(Gr),$r.x=Math.min($r.x,$r.x+Ur-jr),$r.y=Math.min($r.y,$r.y+Gr-jr));var Yr=this.dirtyRectTolerance;$r.isZero()||($r.x=Math.floor($r.x-Yr),$r.y=Math.floor($r.y-Yr),$r.width=Math.ceil($r.width+1+Yr*2),$r.height=Math.ceil($r.height+1+Yr*2))}return $r},_r.prototype.setPrevPaintRect=function($r){$r?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy($r)):this._prevPaintRect=null},_r.prototype.getPrevPaintRect=function(){return this._prevPaintRect},_r.prototype.animateStyle=function($r){return this.animate("style",$r)},_r.prototype.updateDuringAnimation=function($r){$r==="style"?this.dirtyStyle():this.markRedraw()},_r.prototype.attrKV=function($r,Br){$r!=="style"?Fe.prototype.attrKV.call(this,$r,Br):this.style?this.setStyle(Br):this.useStyle(Br)},_r.prototype.setStyle=function($r,Br){return typeof $r=="string"?this.style[$r]=Br:extend$1(this.style,$r),this.dirtyStyle(),this},_r.prototype.dirtyStyle=function($r){$r||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},_r.prototype.dirty=function(){this.dirtyStyle()},_r.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},_r.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},_r.prototype.createStyle=function($r){return createObject(DEFAULT_COMMON_STYLE,$r)},_r.prototype.useStyle=function($r){$r[STYLE_MAGIC_KEY]||($r=this.createStyle($r)),this.__inHover?this.__hoverStyle=$r:this.style=$r,this.dirtyStyle()},_r.prototype.isStyleObject=function($r){return $r[STYLE_MAGIC_KEY]},_r.prototype._innerSaveToNormal=function($r){Fe.prototype._innerSaveToNormal.call(this,$r);var Br=this._normalState;$r.style&&!Br.style&&(Br.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal($r,Br,PRIMARY_STATES_KEYS)},_r.prototype._applyStateObj=function($r,Br,Fr,zr,jr,Ur){Fe.prototype._applyStateObj.call(this,$r,Br,Fr,zr,jr,Ur);var Gr=!(Br&&zr),Yr;if(Br&&Br.style?jr?zr?Yr=Br.style:(Yr=this._mergeStyle(this.createStyle(),Fr.style),this._mergeStyle(Yr,Br.style)):(Yr=this._mergeStyle(this.createStyle(),zr?this.style:Fr.style),this._mergeStyle(Yr,Br.style)):Gr&&(Yr=Fr.style),Yr)if(jr){var Kr=this.style;if(this.style=this.createStyle(Gr?{}:Kr),Gr)for(var Qr=keys(Kr),Jr=0;Jr<Qr.length;Jr++){var rn=Qr[Jr];rn in Yr&&(Yr[rn]=Yr[rn],this.style[rn]=Kr[rn])}for(var an=keys(Yr),Jr=0;Jr<an.length;Jr++){var rn=an[Jr];this.style[rn]=this.style[rn]}this._transitionState($r,{style:Yr},Ur,this.getAnimationStyleProps())}else this.useStyle(Yr);for(var ln=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,Jr=0;Jr<ln.length;Jr++){var rn=ln[Jr];Br&&Br[rn]!=null?this[rn]=Br[rn]:Gr&&Fr[rn]!=null&&(this[rn]=Fr[rn])}},_r.prototype._mergeStates=function($r){for(var Br=Fe.prototype._mergeStates.call(this,$r),Fr,zr=0;zr<$r.length;zr++){var jr=$r[zr];jr.style&&(Fr=Fr||{},this._mergeStyle(Fr,jr.style))}return Fr&&(Br.style=Fr),Br},_r.prototype._mergeStyle=function($r,Br){return extend$1($r,Br),$r},_r.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},_r.initDefaultProps=function(){var $r=_r.prototype;$r.type="displayable",$r.invisible=!1,$r.z=0,$r.z2=0,$r.zlevel=0,$r.culling=!1,$r.cursor="pointer",$r.rectHover=!1,$r.incremental=!1,$r._rect=null,$r.dirtyRectTolerance=0,$r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),_r}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(Fe,_r,$r){return tmpRect.copy(Fe.getBoundingRect()),Fe.transform&&tmpRect.applyTransform(Fe.transform),viewRect.width=_r,viewRect.height=$r,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(Fe,_r,$r){if(Fe.length!==0){for(var Br=Fe[0],Fr=Br[0],zr=Br[0],jr=Br[1],Ur=Br[1],Gr=1;Gr<Fe.length;Gr++)Br=Fe[Gr],Fr=mathMin$9(Fr,Br[0]),zr=mathMax$9(zr,Br[0]),jr=mathMin$9(jr,Br[1]),Ur=mathMax$9(Ur,Br[1]);_r[0]=Fr,_r[1]=jr,$r[0]=zr,$r[1]=Ur}}function fromLine(Fe,_r,$r,Br,Fr,zr){Fr[0]=mathMin$9(Fe,$r),Fr[1]=mathMin$9(_r,Br),zr[0]=mathMax$9(Fe,$r),zr[1]=mathMax$9(_r,Br)}var xDim=[],yDim=[];function fromCubic(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr){var Kr=cubicExtrema,Qr=cubicAt,Jr=Kr(Fe,$r,Fr,jr,xDim);Gr[0]=1/0,Gr[1]=1/0,Yr[0]=-1/0,Yr[1]=-1/0;for(var rn=0;rn<Jr;rn++){var an=Qr(Fe,$r,Fr,jr,xDim[rn]);Gr[0]=mathMin$9(an,Gr[0]),Yr[0]=mathMax$9(an,Yr[0])}Jr=Kr(_r,Br,zr,Ur,yDim);for(var rn=0;rn<Jr;rn++){var ln=Qr(_r,Br,zr,Ur,yDim[rn]);Gr[1]=mathMin$9(ln,Gr[1]),Yr[1]=mathMax$9(ln,Yr[1])}Gr[0]=mathMin$9(Fe,Gr[0]),Yr[0]=mathMax$9(Fe,Yr[0]),Gr[0]=mathMin$9(jr,Gr[0]),Yr[0]=mathMax$9(jr,Yr[0]),Gr[1]=mathMin$9(_r,Gr[1]),Yr[1]=mathMax$9(_r,Yr[1]),Gr[1]=mathMin$9(Ur,Gr[1]),Yr[1]=mathMax$9(Ur,Yr[1])}function fromQuadratic(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr=quadraticExtremum,Yr=quadraticAt$1,Kr=mathMax$9(mathMin$9(Gr(Fe,$r,Fr),1),0),Qr=mathMax$9(mathMin$9(Gr(_r,Br,zr),1),0),Jr=Yr(Fe,$r,Fr,Kr),rn=Yr(_r,Br,zr,Qr);jr[0]=mathMin$9(Fe,Fr,Jr),jr[1]=mathMin$9(_r,zr,rn),Ur[0]=mathMax$9(Fe,Fr,Jr),Ur[1]=mathMax$9(_r,zr,rn)}function fromArc(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){var Yr=min$1,Kr=max$1,Qr=Math.abs(Fr-zr);if(Qr%PI2$8<1e-4&&Qr>1e-4){Ur[0]=Fe-$r,Ur[1]=_r-Br,Gr[0]=Fe+$r,Gr[1]=_r+Br;return}if(start[0]=mathCos$4(Fr)*$r+Fe,start[1]=mathSin$4(Fr)*Br+_r,end[0]=mathCos$4(zr)*$r+Fe,end[1]=mathSin$4(zr)*Br+_r,Yr(Ur,start,end),Kr(Gr,start,end),Fr=Fr%PI2$8,Fr<0&&(Fr=Fr+PI2$8),zr=zr%PI2$8,zr<0&&(zr=zr+PI2$8),Fr>zr&&!jr?zr+=PI2$8:Fr<zr&&jr&&(Fr+=PI2$8),jr){var Jr=zr;zr=Fr,Fr=Jr}for(var rn=0;rn<zr;rn+=Math.PI/2)rn>Fr&&(extremity[0]=mathCos$4(rn)*$r+Fe,extremity[1]=mathSin$4(rn)*Br+_r,Yr(Ur,extremity,Ur),Kr(Gr,extremity,Gr))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(Fe){var _r=Math.round(Fe/PI$8*1e8)/1e8;return _r%2*PI$8}function normalizeArcAngles(Fe,_r){var $r=modPI2(Fe[0]);$r<0&&($r+=PI2$7);var Br=$r-Fe[0],Fr=Fe[1];Fr+=Br,!_r&&Fr-$r>=PI2$7?Fr=$r+PI2$7:_r&&$r-Fr>=PI2$7?Fr=$r-PI2$7:!_r&&$r>Fr?Fr=$r+(PI2$7-modPI2($r-Fr)):_r&&$r<Fr&&(Fr=$r-(PI2$7-modPI2(Fr-$r))),Fe[0]=$r,Fe[1]=Fr}var PathProxy=function(){function Fe(_r){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,_r&&(this._saveData=!1),this._saveData&&(this.data=[])}return Fe.prototype.increaseVersion=function(){this._version++},Fe.prototype.getVersion=function(){return this._version},Fe.prototype.setScale=function(_r,$r,Br){Br=Br||0,Br>0&&(this._ux=mathAbs$2(Br/devicePixelRatio/_r)||0,this._uy=mathAbs$2(Br/devicePixelRatio/$r)||0)},Fe.prototype.setDPR=function(_r){this.dpr=_r},Fe.prototype.setContext=function(_r){this._ctx=_r},Fe.prototype.getContext=function(){return this._ctx},Fe.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},Fe.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},Fe.prototype.moveTo=function(_r,$r){return this._drawPendingPt(),this.addData(CMD$4.M,_r,$r),this._ctx&&this._ctx.moveTo(_r,$r),this._x0=_r,this._y0=$r,this._xi=_r,this._yi=$r,this},Fe.prototype.lineTo=function(_r,$r){var Br=mathAbs$2(_r-this._xi),Fr=mathAbs$2($r-this._yi),zr=Br>this._ux||Fr>this._uy;if(this.addData(CMD$4.L,_r,$r),this._ctx&&zr&&this._ctx.lineTo(_r,$r),zr)this._xi=_r,this._yi=$r,this._pendingPtDist=0;else{var jr=Br*Br+Fr*Fr;jr>this._pendingPtDist&&(this._pendingPtX=_r,this._pendingPtY=$r,this._pendingPtDist=jr)}return this},Fe.prototype.bezierCurveTo=function(_r,$r,Br,Fr,zr,jr){return this._drawPendingPt(),this.addData(CMD$4.C,_r,$r,Br,Fr,zr,jr),this._ctx&&this._ctx.bezierCurveTo(_r,$r,Br,Fr,zr,jr),this._xi=zr,this._yi=jr,this},Fe.prototype.quadraticCurveTo=function(_r,$r,Br,Fr){return this._drawPendingPt(),this.addData(CMD$4.Q,_r,$r,Br,Fr),this._ctx&&this._ctx.quadraticCurveTo(_r,$r,Br,Fr),this._xi=Br,this._yi=Fr,this},Fe.prototype.arc=function(_r,$r,Br,Fr,zr,jr){this._drawPendingPt(),tmpAngles[0]=Fr,tmpAngles[1]=zr,normalizeArcAngles(tmpAngles,jr),Fr=tmpAngles[0],zr=tmpAngles[1];var Ur=zr-Fr;return this.addData(CMD$4.A,_r,$r,Br,Br,Fr,Ur,0,jr?0:1),this._ctx&&this._ctx.arc(_r,$r,Br,Fr,zr,jr),this._xi=mathCos$3(zr)*Br+_r,this._yi=mathSin$3(zr)*Br+$r,this},Fe.prototype.arcTo=function(_r,$r,Br,Fr,zr){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(_r,$r,Br,Fr,zr),this},Fe.prototype.rect=function(_r,$r,Br,Fr){return this._drawPendingPt(),this._ctx&&this._ctx.rect(_r,$r,Br,Fr),this.addData(CMD$4.R,_r,$r,Br,Fr),this},Fe.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var _r=this._ctx,$r=this._x0,Br=this._y0;return _r&&_r.closePath(),this._xi=$r,this._yi=Br,this},Fe.prototype.fill=function(_r){_r&&_r.fill(),this.toStatic()},Fe.prototype.stroke=function(_r){_r&&_r.stroke(),this.toStatic()},Fe.prototype.len=function(){return this._len},Fe.prototype.setData=function(_r){var $r=_r.length;!(this.data&&this.data.length===$r)&&hasTypedArray&&(this.data=new Float32Array($r));for(var Br=0;Br<$r;Br++)this.data[Br]=_r[Br];this._len=$r},Fe.prototype.appendPath=function(_r){_r instanceof Array||(_r=[_r]);for(var $r=_r.length,Br=0,Fr=this._len,zr=0;zr<$r;zr++)Br+=_r[zr].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(Fr+Br));for(var zr=0;zr<$r;zr++)for(var jr=_r[zr].data,Ur=0;Ur<jr.length;Ur++)this.data[Fr++]=jr[Ur];this._len=Fr},Fe.prototype.addData=function(_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr){if(this._saveData){var Kr=this.data;this._len+arguments.length>Kr.length&&(this._expandData(),Kr=this.data);for(var Qr=0;Qr<arguments.length;Qr++)Kr[this._len++]=arguments[Qr]}},Fe.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},Fe.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var _r=[],$r=0;$r<this._len;$r++)_r[$r]=this.data[$r];this.data=_r}},Fe.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var _r=this.data;_r instanceof Array&&(_r.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(_r)))}},Fe.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var _r=this.data,$r=0,Br=0,Fr=0,zr=0,jr;for(jr=0;jr<this._len;){var Ur=_r[jr++],Gr=jr===1;switch(Gr&&($r=_r[jr],Br=_r[jr+1],Fr=$r,zr=Br),Ur){case CMD$4.M:$r=Fr=_r[jr++],Br=zr=_r[jr++],min2[0]=Fr,min2[1]=zr,max2[0]=Fr,max2[1]=zr;break;case CMD$4.L:fromLine($r,Br,_r[jr],_r[jr+1],min2,max2),$r=_r[jr++],Br=_r[jr++];break;case CMD$4.C:fromCubic($r,Br,_r[jr++],_r[jr++],_r[jr++],_r[jr++],_r[jr],_r[jr+1],min2,max2),$r=_r[jr++],Br=_r[jr++];break;case CMD$4.Q:fromQuadratic($r,Br,_r[jr++],_r[jr++],_r[jr],_r[jr+1],min2,max2),$r=_r[jr++],Br=_r[jr++];break;case CMD$4.A:var Yr=_r[jr++],Kr=_r[jr++],Qr=_r[jr++],Jr=_r[jr++],rn=_r[jr++],an=_r[jr++]+rn;jr+=1;var ln=!_r[jr++];Gr&&(Fr=mathCos$3(rn)*Qr+Yr,zr=mathSin$3(rn)*Jr+Kr),fromArc(Yr,Kr,Qr,Jr,rn,an,ln,min2,max2),$r=mathCos$3(an)*Qr+Yr,Br=mathSin$3(an)*Jr+Kr;break;case CMD$4.R:Fr=$r=_r[jr++],zr=Br=_r[jr++];var dn=_r[jr++],hn=_r[jr++];fromLine(Fr,zr,Fr+dn,zr+hn,min2,max2);break;case CMD$4.Z:$r=Fr,Br=zr;break}min$1(min,min,min2),max$1(max,max,max2)}return jr===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},Fe.prototype._calculateLength=function(){var _r=this.data,$r=this._len,Br=this._ux,Fr=this._uy,zr=0,jr=0,Ur=0,Gr=0;this._pathSegLen||(this._pathSegLen=[]);for(var Yr=this._pathSegLen,Kr=0,Qr=0,Jr=0;Jr<$r;){var rn=_r[Jr++],an=Jr===1;an&&(zr=_r[Jr],jr=_r[Jr+1],Ur=zr,Gr=jr);var ln=-1;switch(rn){case CMD$4.M:zr=Ur=_r[Jr++],jr=Gr=_r[Jr++];break;case CMD$4.L:{var dn=_r[Jr++],hn=_r[Jr++],gn=dn-zr,bn=hn-jr;(mathAbs$2(gn)>Br||mathAbs$2(bn)>Fr||Jr===$r-1)&&(ln=Math.sqrt(gn*gn+bn*bn),zr=dn,jr=hn);break}case CMD$4.C:{var kn=_r[Jr++],Sn=_r[Jr++],dn=_r[Jr++],hn=_r[Jr++],_n=_r[Jr++],pn=_r[Jr++];ln=cubicLength(zr,jr,kn,Sn,dn,hn,_n,pn,10),zr=_n,jr=pn;break}case CMD$4.Q:{var kn=_r[Jr++],Sn=_r[Jr++],dn=_r[Jr++],hn=_r[Jr++];ln=quadraticLength(zr,jr,kn,Sn,dn,hn,10),zr=dn,jr=hn;break}case CMD$4.A:var Cn=_r[Jr++],En=_r[Jr++],Pn=_r[Jr++],On=_r[Jr++],jn=_r[Jr++],Fn=_r[Jr++],Wn=Fn+jn;Jr+=1,_r[Jr++],an&&(Ur=mathCos$3(jn)*Pn+Cn,Gr=mathSin$3(jn)*On+En),ln=mathMax$8(Pn,On)*mathMin$8(PI2$7,Math.abs(Fn)),zr=mathCos$3(Wn)*Pn+Cn,jr=mathSin$3(Wn)*On+En;break;case CMD$4.R:{Ur=zr=_r[Jr++],Gr=jr=_r[Jr++];var Hn=_r[Jr++],qn=_r[Jr++];ln=Hn*2+qn*2;break}case CMD$4.Z:{var gn=Ur-zr,bn=Gr-jr;ln=Math.sqrt(gn*gn+bn*bn),zr=Ur,jr=Gr;break}}ln>=0&&(Yr[Qr++]=ln,Kr+=ln)}return this._pathLen=Kr,Kr},Fe.prototype.rebuildPath=function(_r,$r){var Br=this.data,Fr=this._ux,zr=this._uy,jr=this._len,Ur,Gr,Yr,Kr,Qr,Jr,rn=$r<1,an,ln,dn=0,hn=0,gn,bn=0,kn,Sn;if(!(rn&&(this._pathSegLen||this._calculateLength(),an=this._pathSegLen,ln=this._pathLen,gn=$r*ln,!gn)))e:for(var _n=0;_n<jr;){var pn=Br[_n++],Cn=_n===1;switch(Cn&&(Yr=Br[_n],Kr=Br[_n+1],Ur=Yr,Gr=Kr),pn!==CMD$4.L&&bn>0&&(_r.lineTo(kn,Sn),bn=0),pn){case CMD$4.M:Ur=Yr=Br[_n++],Gr=Kr=Br[_n++],_r.moveTo(Yr,Kr);break;case CMD$4.L:{Qr=Br[_n++],Jr=Br[_n++];var En=mathAbs$2(Qr-Yr),Pn=mathAbs$2(Jr-Kr);if(En>Fr||Pn>zr){if(rn){var On=an[hn++];if(dn+On>gn){var jn=(gn-dn)/On;_r.lineTo(Yr*(1-jn)+Qr*jn,Kr*(1-jn)+Jr*jn);break e}dn+=On}_r.lineTo(Qr,Jr),Yr=Qr,Kr=Jr,bn=0}else{var Fn=En*En+Pn*Pn;Fn>bn&&(kn=Qr,Sn=Jr,bn=Fn)}break}case CMD$4.C:{var Wn=Br[_n++],Hn=Br[_n++],qn=Br[_n++],ni=Br[_n++],oi=Br[_n++],wi=Br[_n++];if(rn){var On=an[hn++];if(dn+On>gn){var jn=(gn-dn)/On;cubicSubdivide(Yr,Wn,qn,oi,jn,tmpOutX),cubicSubdivide(Kr,Hn,ni,wi,jn,tmpOutY),_r.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}dn+=On}_r.bezierCurveTo(Wn,Hn,qn,ni,oi,wi),Yr=oi,Kr=wi;break}case CMD$4.Q:{var Wn=Br[_n++],Hn=Br[_n++],qn=Br[_n++],ni=Br[_n++];if(rn){var On=an[hn++];if(dn+On>gn){var jn=(gn-dn)/On;quadraticSubdivide(Yr,Wn,qn,jn,tmpOutX),quadraticSubdivide(Kr,Hn,ni,jn,tmpOutY),_r.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}dn+=On}_r.quadraticCurveTo(Wn,Hn,qn,ni),Yr=qn,Kr=ni;break}case CMD$4.A:var Ci=Br[_n++],Fi=Br[_n++],Zn=Br[_n++],Gn=Br[_n++],ui=Br[_n++],Ni=Br[_n++],$i=Br[_n++],Vi=!Br[_n++],ji=Zn>Gn?Zn:Gn,lo=mathAbs$2(Zn-Gn)>.001,ho=ui+Ni,so=!1;if(rn){var On=an[hn++];dn+On>gn&&(ho=ui+Ni*(gn-dn)/On,so=!0),dn+=On}if(lo&&_r.ellipse?_r.ellipse(Ci,Fi,Zn,Gn,$i,ui,ho,Vi):_r.arc(Ci,Fi,ji,ui,ho,Vi),so)break e;Cn&&(Ur=mathCos$3(ui)*Zn+Ci,Gr=mathSin$3(ui)*Gn+Fi),Yr=mathCos$3(ho)*Zn+Ci,Kr=mathSin$3(ho)*Gn+Fi;break;case CMD$4.R:Ur=Yr=Br[_n],Gr=Kr=Br[_n+1],Qr=Br[_n++],Jr=Br[_n++];var Ki=Br[_n++],Ho=Br[_n++];if(rn){var On=an[hn++];if(dn+On>gn){var Io=gn-dn;_r.moveTo(Qr,Jr),_r.lineTo(Qr+mathMin$8(Io,Ki),Jr),Io-=Ki,Io>0&&_r.lineTo(Qr+Ki,Jr+mathMin$8(Io,Ho)),Io-=Ho,Io>0&&_r.lineTo(Qr+mathMax$8(Ki-Io,0),Jr+Ho),Io-=Ki,Io>0&&_r.lineTo(Qr,Jr+mathMax$8(Ho-Io,0));break e}dn+=On}_r.rect(Qr,Jr,Ki,Ho);break;case CMD$4.Z:if(rn){var On=an[hn++];if(dn+On>gn){var jn=(gn-dn)/On;_r.lineTo(Yr*(1-jn)+Ur*jn,Kr*(1-jn)+Gr*jn);break e}dn+=On}_r.closePath(),Yr=Ur,Kr=Gr}}},Fe.prototype.clone=function(){var _r=new Fe,$r=this.data;return _r.data=$r.slice?$r.slice():Array.prototype.slice.call($r),_r._len=this._len,_r},Fe.CMD=CMD$4,Fe.initDefaultProps=function(){var _r=Fe.prototype;_r._saveData=!0,_r._ux=0,_r._uy=0,_r._pendingPtDist=0,_r._version=0}(),Fe}();const PathProxy$1=PathProxy;function containStroke$4(Fe,_r,$r,Br,Fr,zr,jr){if(Fr===0)return!1;var Ur=Fr,Gr=0,Yr=Fe;if(jr>_r+Ur&&jr>Br+Ur||jr<_r-Ur&&jr<Br-Ur||zr>Fe+Ur&&zr>$r+Ur||zr<Fe-Ur&&zr<$r-Ur)return!1;if(Fe!==$r)Gr=(_r-Br)/(Fe-$r),Yr=(Fe*Br-$r*_r)/(Fe-$r);else return Math.abs(zr-Fe)<=Ur/2;var Kr=Gr*zr-jr+Yr,Qr=Kr*Kr/(Gr*Gr+1);return Qr<=Ur/2*Ur/2}function containStroke$3(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr,Kr){if(Gr===0)return!1;var Qr=Gr;if(Kr>_r+Qr&&Kr>Br+Qr&&Kr>zr+Qr&&Kr>Ur+Qr||Kr<_r-Qr&&Kr<Br-Qr&&Kr<zr-Qr&&Kr<Ur-Qr||Yr>Fe+Qr&&Yr>$r+Qr&&Yr>Fr+Qr&&Yr>jr+Qr||Yr<Fe-Qr&&Yr<$r-Qr&&Yr<Fr-Qr&&Yr<jr-Qr)return!1;var Jr=cubicProjectPoint(Fe,_r,$r,Br,Fr,zr,jr,Ur,Yr,Kr,null);return Jr<=Qr/2}function containStroke$2(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){if(jr===0)return!1;var Yr=jr;if(Gr>_r+Yr&&Gr>Br+Yr&&Gr>zr+Yr||Gr<_r-Yr&&Gr<Br-Yr&&Gr<zr-Yr||Ur>Fe+Yr&&Ur>$r+Yr&&Ur>Fr+Yr||Ur<Fe-Yr&&Ur<$r-Yr&&Ur<Fr-Yr)return!1;var Kr=quadraticProjectPoint(Fe,_r,$r,Br,Fr,zr,Ur,Gr,null);return Kr<=Yr/2}var PI2$6=Math.PI*2;function normalizeRadian(Fe){return Fe%=PI2$6,Fe<0&&(Fe+=PI2$6),Fe}var PI2$5=Math.PI*2;function containStroke$1(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){if(jr===0)return!1;var Yr=jr;Ur-=Fe,Gr-=_r;var Kr=Math.sqrt(Ur*Ur+Gr*Gr);if(Kr-Yr>$r||Kr+Yr<$r)return!1;if(Math.abs(Br-Fr)%PI2$5<1e-4)return!0;if(zr){var Qr=Br;Br=normalizeRadian(Fr),Fr=normalizeRadian(Qr)}else Br=normalizeRadian(Br),Fr=normalizeRadian(Fr);Br>Fr&&(Fr+=PI2$5);var Jr=Math.atan2(Gr,Ur);return Jr<0&&(Jr+=PI2$5),Jr>=Br&&Jr<=Fr||Jr+PI2$5>=Br&&Jr+PI2$5<=Fr}function windingLine(Fe,_r,$r,Br,Fr,zr){if(zr>_r&&zr>Br||zr<_r&&zr<Br||Br===_r)return 0;var jr=(zr-_r)/(Br-_r),Ur=Br<_r?1:-1;(jr===1||jr===0)&&(Ur=Br<_r?.5:-.5);var Gr=jr*($r-Fe)+Fe;return Gr===Fr?1/0:Gr>Fr?Ur:0}var CMD$3=PathProxy$1.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(Fe,_r){return Math.abs(Fe-_r)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var Fe=extrema[0];extrema[0]=extrema[1],extrema[1]=Fe}function windingCubic(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr){if(Yr>_r&&Yr>Br&&Yr>zr&&Yr>Ur||Yr<_r&&Yr<Br&&Yr<zr&&Yr<Ur)return 0;var Kr=cubicRootAt(_r,Br,zr,Ur,Yr,roots);if(Kr===0)return 0;for(var Qr=0,Jr=-1,rn=void 0,an=void 0,ln=0;ln<Kr;ln++){var dn=roots[ln],hn=dn===0||dn===1?.5:1,gn=cubicAt(Fe,$r,Fr,jr,dn);gn<Gr||(Jr<0&&(Jr=cubicExtrema(_r,Br,zr,Ur,extrema),extrema[1]<extrema[0]&&Jr>1&&swapExtrema(),rn=cubicAt(_r,Br,zr,Ur,extrema[0]),Jr>1&&(an=cubicAt(_r,Br,zr,Ur,extrema[1]))),Jr===2?dn<extrema[0]?Qr+=rn<_r?hn:-hn:dn<extrema[1]?Qr+=an<rn?hn:-hn:Qr+=Ur<an?hn:-hn:dn<extrema[0]?Qr+=rn<_r?hn:-hn:Qr+=Ur<rn?hn:-hn)}return Qr}function windingQuadratic(Fe,_r,$r,Br,Fr,zr,jr,Ur){if(Ur>_r&&Ur>Br&&Ur>zr||Ur<_r&&Ur<Br&&Ur<zr)return 0;var Gr=quadraticRootAt(_r,Br,zr,Ur,roots);if(Gr===0)return 0;var Yr=quadraticExtremum(_r,Br,zr);if(Yr>=0&&Yr<=1){for(var Kr=0,Qr=quadraticAt$1(_r,Br,zr,Yr),Jr=0;Jr<Gr;Jr++){var rn=roots[Jr]===0||roots[Jr]===1?.5:1,an=quadraticAt$1(Fe,$r,Fr,roots[Jr]);an<jr||(roots[Jr]<Yr?Kr+=Qr<_r?rn:-rn:Kr+=zr<Qr?rn:-rn)}return Kr}else{var rn=roots[0]===0||roots[0]===1?.5:1,an=quadraticAt$1(Fe,$r,Fr,roots[0]);return an<jr?0:zr<_r?rn:-rn}}function windingArc(Fe,_r,$r,Br,Fr,zr,jr,Ur){if(Ur-=_r,Ur>$r||Ur<-$r)return 0;var Gr=Math.sqrt($r*$r-Ur*Ur);roots[0]=-Gr,roots[1]=Gr;var Yr=Math.abs(Br-Fr);if(Yr<1e-4)return 0;if(Yr>=PI2$4-1e-4){Br=0,Fr=PI2$4;var Kr=zr?1:-1;return jr>=roots[0]+Fe&&jr<=roots[1]+Fe?Kr:0}if(Br>Fr){var Qr=Br;Br=Fr,Fr=Qr}Br<0&&(Br+=PI2$4,Fr+=PI2$4);for(var Jr=0,rn=0;rn<2;rn++){var an=roots[rn];if(an+Fe>jr){var ln=Math.atan2(Ur,an),Kr=zr?1:-1;ln<0&&(ln=PI2$4+ln),(ln>=Br&&ln<=Fr||ln+PI2$4>=Br&&ln+PI2$4<=Fr)&&(ln>Math.PI/2&&ln<Math.PI*1.5&&(Kr=-Kr),Jr+=Kr)}}return Jr}function containPath(Fe,_r,$r,Br,Fr){for(var zr=Fe.data,jr=Fe.len(),Ur=0,Gr=0,Yr=0,Kr=0,Qr=0,Jr,rn,an=0;an<jr;){var ln=zr[an++],dn=an===1;switch(ln===CMD$3.M&&an>1&&($r||(Ur+=windingLine(Gr,Yr,Kr,Qr,Br,Fr))),dn&&(Gr=zr[an],Yr=zr[an+1],Kr=Gr,Qr=Yr),ln){case CMD$3.M:Kr=zr[an++],Qr=zr[an++],Gr=Kr,Yr=Qr;break;case CMD$3.L:if($r){if(containStroke$4(Gr,Yr,zr[an],zr[an+1],_r,Br,Fr))return!0}else Ur+=windingLine(Gr,Yr,zr[an],zr[an+1],Br,Fr)||0;Gr=zr[an++],Yr=zr[an++];break;case CMD$3.C:if($r){if(containStroke$3(Gr,Yr,zr[an++],zr[an++],zr[an++],zr[an++],zr[an],zr[an+1],_r,Br,Fr))return!0}else Ur+=windingCubic(Gr,Yr,zr[an++],zr[an++],zr[an++],zr[an++],zr[an],zr[an+1],Br,Fr)||0;Gr=zr[an++],Yr=zr[an++];break;case CMD$3.Q:if($r){if(containStroke$2(Gr,Yr,zr[an++],zr[an++],zr[an],zr[an+1],_r,Br,Fr))return!0}else Ur+=windingQuadratic(Gr,Yr,zr[an++],zr[an++],zr[an],zr[an+1],Br,Fr)||0;Gr=zr[an++],Yr=zr[an++];break;case CMD$3.A:var hn=zr[an++],gn=zr[an++],bn=zr[an++],kn=zr[an++],Sn=zr[an++],_n=zr[an++];an+=1;var pn=!!(1-zr[an++]);Jr=Math.cos(Sn)*bn+hn,rn=Math.sin(Sn)*kn+gn,dn?(Kr=Jr,Qr=rn):Ur+=windingLine(Gr,Yr,Jr,rn,Br,Fr);var Cn=(Br-hn)*kn/bn+hn;if($r){if(containStroke$1(hn,gn,kn,Sn,Sn+_n,pn,_r,Cn,Fr))return!0}else Ur+=windingArc(hn,gn,kn,Sn,Sn+_n,pn,Cn,Fr);Gr=Math.cos(Sn+_n)*bn+hn,Yr=Math.sin(Sn+_n)*kn+gn;break;case CMD$3.R:Kr=Gr=zr[an++],Qr=Yr=zr[an++];var En=zr[an++],Pn=zr[an++];if(Jr=Kr+En,rn=Qr+Pn,$r){if(containStroke$4(Kr,Qr,Jr,Qr,_r,Br,Fr)||containStroke$4(Jr,Qr,Jr,rn,_r,Br,Fr)||containStroke$4(Jr,rn,Kr,rn,_r,Br,Fr)||containStroke$4(Kr,rn,Kr,Qr,_r,Br,Fr))return!0}else Ur+=windingLine(Jr,Qr,Jr,rn,Br,Fr),Ur+=windingLine(Kr,rn,Kr,Qr,Br,Fr);break;case CMD$3.Z:if($r){if(containStroke$4(Gr,Yr,Kr,Qr,_r,Br,Fr))return!0}else Ur+=windingLine(Gr,Yr,Kr,Qr,Br,Fr);Gr=Kr,Yr=Qr;break}}return!$r&&!isAroundEqual$1(Yr,Qr)&&(Ur+=windingLine(Gr,Yr,Kr,Qr,Br,Fr)||0),Ur!==0}function contain$2(Fe,_r,$r){return containPath(Fe,0,!1,_r,$r)}function containStroke(Fe,_r,$r,Br){return containPath(Fe,_r,!0,$r,Br)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.update=function(){var $r=this;Fe.prototype.update.call(this);var Br=this.style;if(Br.decal){var Fr=this._decalEl=this._decalEl||new _r;Fr.buildPath===_r.prototype.buildPath&&(Fr.buildPath=function(Gr){$r.buildPath(Gr,$r.shape)}),Fr.silent=!0;var zr=Fr.style;for(var jr in Br)zr[jr]!==Br[jr]&&(zr[jr]=Br[jr]);zr.fill=Br.fill?Br.decal:null,zr.decal=null,zr.shadowColor=null,Br.strokeFirst&&(zr.stroke=null);for(var Ur=0;Ur<pathCopyParams.length;++Ur)Fr[pathCopyParams[Ur]]=this[pathCopyParams[Ur]];Fr.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},_r.prototype.getDecalElement=function(){return this._decalEl},_r.prototype._init=function($r){var Br=keys($r);this.shape=this.getDefaultShape();var Fr=this.getDefaultStyle();Fr&&this.useStyle(Fr);for(var zr=0;zr<Br.length;zr++){var jr=Br[zr],Ur=$r[jr];jr==="style"?this.style?extend$1(this.style,Ur):this.useStyle(Ur):jr==="shape"?extend$1(this.shape,Ur):Fe.prototype.attrKV.call(this,jr,Ur)}this.style||this.useStyle({})},_r.prototype.getDefaultStyle=function(){return null},_r.prototype.getDefaultShape=function(){return{}},_r.prototype.canBeInsideText=function(){return this.hasFill()},_r.prototype.getInsideTextFill=function(){var $r=this.style.fill;if($r!=="none"){if(isString($r)){var Br=lum($r,0);return Br>.5?DARK_LABEL_COLOR:Br>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if($r)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},_r.prototype.getInsideTextStroke=function($r){var Br=this.style.fill;if(isString(Br)){var Fr=this.__zr,zr=!!(Fr&&Fr.isDarkMode()),jr=lum($r,0)<DARK_MODE_THRESHOLD;if(zr===jr)return Br}},_r.prototype.buildPath=function($r,Br,Fr){},_r.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},_r.prototype.getUpdatedPathProxy=function($r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,$r),this.path},_r.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},_r.prototype.hasStroke=function(){var $r=this.style,Br=$r.stroke;return!(Br==null||Br==="none"||!($r.lineWidth>0))},_r.prototype.hasFill=function(){var $r=this.style,Br=$r.fill;return Br!=null&&Br!=="none"},_r.prototype.getBoundingRect=function(){var $r=this._rect,Br=this.style,Fr=!$r;if(Fr){var zr=!1;this.path||(zr=!0,this.createPathProxy());var jr=this.path;(zr||this.__dirty&SHAPE_CHANGED_BIT)&&(jr.beginPath(),this.buildPath(jr,this.shape,!1),this.pathUpdated()),$r=jr.getBoundingRect()}if(this._rect=$r,this.hasStroke()&&this.path&&this.path.len()>0){var Ur=this._rectStroke||(this._rectStroke=$r.clone());if(this.__dirty||Fr){Ur.copy($r);var Gr=Br.strokeNoScale?this.getLineScale():1,Yr=Br.lineWidth;if(!this.hasFill()){var Kr=this.strokeContainThreshold;Yr=Math.max(Yr,Kr??4)}Gr>1e-10&&(Ur.width+=Yr/Gr,Ur.height+=Yr/Gr,Ur.x-=Yr/Gr/2,Ur.y-=Yr/Gr/2)}return Ur}return $r},_r.prototype.contain=function($r,Br){var Fr=this.transformCoordToLocal($r,Br),zr=this.getBoundingRect(),jr=this.style;if($r=Fr[0],Br=Fr[1],zr.contain($r,Br)){var Ur=this.path;if(this.hasStroke()){var Gr=jr.lineWidth,Yr=jr.strokeNoScale?this.getLineScale():1;if(Yr>1e-10&&(this.hasFill()||(Gr=Math.max(Gr,this.strokeContainThreshold)),containStroke(Ur,Gr/Yr,$r,Br)))return!0}if(this.hasFill())return contain$2(Ur,$r,Br)}return!1},_r.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},_r.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},_r.prototype.animateShape=function($r){return this.animate("shape",$r)},_r.prototype.updateDuringAnimation=function($r){$r==="style"?this.dirtyStyle():$r==="shape"?this.dirtyShape():this.markRedraw()},_r.prototype.attrKV=function($r,Br){$r==="shape"?this.setShape(Br):Fe.prototype.attrKV.call(this,$r,Br)},_r.prototype.setShape=function($r,Br){var Fr=this.shape;return Fr||(Fr=this.shape={}),typeof $r=="string"?Fr[$r]=Br:extend$1(Fr,$r),this.dirtyShape(),this},_r.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},_r.prototype.createStyle=function($r){return createObject(DEFAULT_PATH_STYLE,$r)},_r.prototype._innerSaveToNormal=function($r){Fe.prototype._innerSaveToNormal.call(this,$r);var Br=this._normalState;$r.shape&&!Br.shape&&(Br.shape=extend$1({},this.shape))},_r.prototype._applyStateObj=function($r,Br,Fr,zr,jr,Ur){Fe.prototype._applyStateObj.call(this,$r,Br,Fr,zr,jr,Ur);var Gr=!(Br&&zr),Yr;if(Br&&Br.shape?jr?zr?Yr=Br.shape:(Yr=extend$1({},Fr.shape),extend$1(Yr,Br.shape)):(Yr=extend$1({},zr?this.shape:Fr.shape),extend$1(Yr,Br.shape)):Gr&&(Yr=Fr.shape),Yr)if(jr){this.shape=extend$1({},this.shape);for(var Kr={},Qr=keys(Yr),Jr=0;Jr<Qr.length;Jr++){var rn=Qr[Jr];typeof Yr[rn]=="object"?this.shape[rn]=Yr[rn]:Kr[rn]=Yr[rn]}this._transitionState($r,{shape:Kr},Ur)}else this.shape=Yr,this.dirtyShape()},_r.prototype._mergeStates=function($r){for(var Br=Fe.prototype._mergeStates.call(this,$r),Fr,zr=0;zr<$r.length;zr++){var jr=$r[zr];jr.shape&&(Fr=Fr||{},this._mergeStyle(Fr,jr.shape))}return Fr&&(Br.shape=Fr),Br},_r.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},_r.prototype.isZeroArea=function(){return!1},_r.extend=function($r){var Br=function(zr){__extends(jr,zr);function jr(Ur){var Gr=zr.call(this,Ur)||this;return $r.init&&$r.init.call(Gr,Ur),Gr}return jr.prototype.getDefaultStyle=function(){return clone$4($r.style)},jr.prototype.getDefaultShape=function(){return clone$4($r.shape)},jr}(_r);for(var Fr in $r)typeof $r[Fr]=="function"&&(Br.prototype[Fr]=$r[Fr]);return Br},_r.initDefaultProps=function(){var $r=_r.prototype;$r.type="path",$r.strokeContainThreshold=5,$r.segmentIgnoreThreshold=0,$r.subPixelOptimize=!1,$r.autoBatch=!1,$r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),_r}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.hasStroke=function(){var $r=this.style,Br=$r.stroke;return Br!=null&&Br!=="none"&&$r.lineWidth>0},_r.prototype.hasFill=function(){var $r=this.style,Br=$r.fill;return Br!=null&&Br!=="none"},_r.prototype.createStyle=function($r){return createObject(DEFAULT_TSPAN_STYLE,$r)},_r.prototype.setBoundingRect=function($r){this._rect=$r},_r.prototype.getBoundingRect=function(){var $r=this.style;if(!this._rect){var Br=$r.text;Br!=null?Br+="":Br="";var Fr=getBoundingRect(Br,$r.font,$r.textAlign,$r.textBaseline);if(Fr.x+=$r.x||0,Fr.y+=$r.y||0,this.hasStroke()){var zr=$r.lineWidth;Fr.x-=zr/2,Fr.y-=zr/2,Fr.width+=zr,Fr.height+=zr}this._rect=Fr}return this._rect},_r.initDefaultProps=function(){var $r=_r.prototype;$r.dirtyRectTolerance=10}(),_r}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(Fe){return!!(Fe&&typeof Fe!="string"&&Fe.width&&Fe.height)}var ZRImage=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.createStyle=function($r){return createObject(DEFAULT_IMAGE_STYLE,$r)},_r.prototype._getSize=function($r){var Br=this.style,Fr=Br[$r];if(Fr!=null)return Fr;var zr=isImageLike$1(Br.image)?Br.image:this.__image;if(!zr)return 0;var jr=$r==="width"?"height":"width",Ur=Br[jr];return Ur==null?zr[$r]:zr[$r]/zr[jr]*Ur},_r.prototype.getWidth=function(){return this._getSize("width")},_r.prototype.getHeight=function(){return this._getSize("height")},_r.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},_r.prototype.getBoundingRect=function(){var $r=this.style;return this._rect||(this._rect=new BoundingRect$1($r.x||0,$r.y||0,this.getWidth(),this.getHeight())),this._rect},_r}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(Fe,_r){var $r=_r.x,Br=_r.y,Fr=_r.width,zr=_r.height,jr=_r.r,Ur,Gr,Yr,Kr;Fr<0&&($r=$r+Fr,Fr=-Fr),zr<0&&(Br=Br+zr,zr=-zr),typeof jr=="number"?Ur=Gr=Yr=Kr=jr:jr instanceof Array?jr.length===1?Ur=Gr=Yr=Kr=jr[0]:jr.length===2?(Ur=Yr=jr[0],Gr=Kr=jr[1]):jr.length===3?(Ur=jr[0],Gr=Kr=jr[1],Yr=jr[2]):(Ur=jr[0],Gr=jr[1],Yr=jr[2],Kr=jr[3]):Ur=Gr=Yr=Kr=0;var Qr;Ur+Gr>Fr&&(Qr=Ur+Gr,Ur*=Fr/Qr,Gr*=Fr/Qr),Yr+Kr>Fr&&(Qr=Yr+Kr,Yr*=Fr/Qr,Kr*=Fr/Qr),Gr+Yr>zr&&(Qr=Gr+Yr,Gr*=zr/Qr,Yr*=zr/Qr),Ur+Kr>zr&&(Qr=Ur+Kr,Ur*=zr/Qr,Kr*=zr/Qr),Fe.moveTo($r+Ur,Br),Fe.lineTo($r+Fr-Gr,Br),Gr!==0&&Fe.arc($r+Fr-Gr,Br+Gr,Gr,-Math.PI/2,0),Fe.lineTo($r+Fr,Br+zr-Yr),Yr!==0&&Fe.arc($r+Fr-Yr,Br+zr-Yr,Yr,0,Math.PI/2),Fe.lineTo($r+Kr,Br+zr),Kr!==0&&Fe.arc($r+Kr,Br+zr-Kr,Kr,Math.PI/2,Math.PI),Fe.lineTo($r,Br+Ur),Ur!==0&&Fe.arc($r+Ur,Br+Ur,Ur,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(Fe,_r,$r){if(_r){var Br=_r.x1,Fr=_r.x2,zr=_r.y1,jr=_r.y2;Fe.x1=Br,Fe.x2=Fr,Fe.y1=zr,Fe.y2=jr;var Ur=$r&&$r.lineWidth;return Ur&&(round$2(Br*2)===round$2(Fr*2)&&(Fe.x1=Fe.x2=subPixelOptimize$1(Br,Ur,!0)),round$2(zr*2)===round$2(jr*2)&&(Fe.y1=Fe.y2=subPixelOptimize$1(zr,Ur,!0))),Fe}}function subPixelOptimizeRect$1(Fe,_r,$r){if(_r){var Br=_r.x,Fr=_r.y,zr=_r.width,jr=_r.height;Fe.x=Br,Fe.y=Fr,Fe.width=zr,Fe.height=jr;var Ur=$r&&$r.lineWidth;return Ur&&(Fe.x=subPixelOptimize$1(Br,Ur,!0),Fe.y=subPixelOptimize$1(Fr,Ur,!0),Fe.width=Math.max(subPixelOptimize$1(Br+zr,Ur,!1)-Fe.x,zr===0?0:1),Fe.height=Math.max(subPixelOptimize$1(Fr+jr,Ur,!1)-Fe.y,jr===0?0:1)),Fe}}function subPixelOptimize$1(Fe,_r,$r){if(!_r)return Fe;var Br=round$2(Fe*2);return(Br+round$2(_r))%2===0?Br/2:(Br+($r?1:-1))/2}var RectShape=function(){function Fe(){this.x=0,this.y=0,this.width=0,this.height=0}return Fe}(),subPixelOptimizeOutputShape$1={},Rect$2=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultShape=function(){return new RectShape},_r.prototype.buildPath=function($r,Br){var Fr,zr,jr,Ur;if(this.subPixelOptimize){var Gr=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,Br,this.style);Fr=Gr.x,zr=Gr.y,jr=Gr.width,Ur=Gr.height,Gr.r=Br.r,Br=Gr}else Fr=Br.x,zr=Br.y,jr=Br.width,Ur=Br.height;Br.r?buildPath$2($r,Br):$r.rect(Fr,zr,jr,Ur)},_r.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},_r}(Path$1);Rect$2.prototype.type="rect";const Rect$3=Rect$2;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this)||this;return Br.type="text",Br._children=[],Br._defaultStyle=DEFAULT_RICH_TEXT_COLOR,Br.attr($r),Br}return _r.prototype.childrenRef=function(){return this._children},_r.prototype.update=function(){Fe.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var $r=0;$r<this._children.length;$r++){var Br=this._children[$r];Br.zlevel=this.zlevel,Br.z=this.z,Br.z2=this.z2,Br.culling=this.culling,Br.cursor=this.cursor,Br.invisible=this.invisible}},_r.prototype.updateTransform=function(){var $r=this.innerTransformable;$r?($r.updateTransform(),$r.transform&&(this.transform=$r.transform)):Fe.prototype.updateTransform.call(this)},_r.prototype.getLocalTransform=function($r){var Br=this.innerTransformable;return Br?Br.getLocalTransform($r):Fe.prototype.getLocalTransform.call(this,$r)},_r.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),Fe.prototype.getComputedTransform.call(this)},_r.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},_r.prototype.addSelfToZr=function($r){Fe.prototype.addSelfToZr.call(this,$r);for(var Br=0;Br<this._children.length;Br++)this._children[Br].__zr=$r},_r.prototype.removeSelfFromZr=function($r){Fe.prototype.removeSelfFromZr.call(this,$r);for(var Br=0;Br<this._children.length;Br++)this._children[Br].__zr=null},_r.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var $r=new BoundingRect$1(0,0,0,0),Br=this._children,Fr=[],zr=null,jr=0;jr<Br.length;jr++){var Ur=Br[jr],Gr=Ur.getBoundingRect(),Yr=Ur.getLocalTransform(Fr);Yr?($r.copy(Gr),$r.applyTransform(Yr),zr=zr||$r.clone(),zr.union($r)):(zr=zr||Gr.clone(),zr.union(Gr))}this._rect=zr||$r}return this._rect},_r.prototype.setDefaultTextStyle=function($r){this._defaultStyle=$r||DEFAULT_RICH_TEXT_COLOR},_r.prototype.setTextContent=function($r){},_r.prototype._mergeStyle=function($r,Br){if(!Br)return $r;var Fr=Br.rich,zr=$r.rich||Fr&&{};return extend$1($r,Br),Fr&&zr?(this._mergeRich(zr,Fr),$r.rich=zr):zr&&($r.rich=zr),$r},_r.prototype._mergeRich=function($r,Br){for(var Fr=keys(Br),zr=0;zr<Fr.length;zr++){var jr=Fr[zr];$r[jr]=$r[jr]||{},extend$1($r[jr],Br[jr])}},_r.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},_r.prototype._getOrCreateChild=function($r){var Br=this._children[this._childCursor];return(!Br||!(Br instanceof $r))&&(Br=new $r),this._children[this._childCursor++]=Br,Br.__zr=this.__zr,Br.parent=this,Br},_r.prototype._updatePlainTexts=function(){var $r=this.style,Br=$r.font||DEFAULT_FONT,Fr=$r.padding,zr=getStyleText($r),jr=parsePlainText(zr,$r),Ur=needDrawBackground($r),Gr=!!$r.backgroundColor,Yr=jr.outerHeight,Kr=jr.outerWidth,Qr=jr.contentWidth,Jr=jr.lines,rn=jr.lineHeight,an=this._defaultStyle,ln=$r.x||0,dn=$r.y||0,hn=$r.align||an.align||"left",gn=$r.verticalAlign||an.verticalAlign||"top",bn=ln,kn=adjustTextY(dn,jr.contentHeight,gn);if(Ur||Fr){var Sn=adjustTextX(ln,Kr,hn),_n=adjustTextY(dn,Yr,gn);Ur&&this._renderBackground($r,$r,Sn,_n,Kr,Yr)}kn+=rn/2,Fr&&(bn=getTextXForPadding(ln,hn,Fr),gn==="top"?kn+=Fr[0]:gn==="bottom"&&(kn-=Fr[2]));for(var pn=0,Cn=!1,En=getFill("fill"in $r?$r.fill:(Cn=!0,an.fill)),Pn=getStroke("stroke"in $r?$r.stroke:!Gr&&(!an.autoStroke||Cn)?(pn=DEFAULT_STROKE_LINE_WIDTH,an.stroke):null),On=$r.textShadowBlur>0,jn=$r.width!=null&&($r.overflow==="truncate"||$r.overflow==="break"||$r.overflow==="breakAll"),Fn=jr.calculatedLineHeight,Wn=0;Wn<Jr.length;Wn++){var Hn=this._getOrCreateChild(TSpan$1),qn=Hn.createStyle();Hn.useStyle(qn),qn.text=Jr[Wn],qn.x=bn,qn.y=kn,hn&&(qn.textAlign=hn),qn.textBaseline="middle",qn.opacity=$r.opacity,qn.strokeFirst=!0,On&&(qn.shadowBlur=$r.textShadowBlur||0,qn.shadowColor=$r.textShadowColor||"transparent",qn.shadowOffsetX=$r.textShadowOffsetX||0,qn.shadowOffsetY=$r.textShadowOffsetY||0),qn.stroke=Pn,qn.fill=En,Pn&&(qn.lineWidth=$r.lineWidth||pn,qn.lineDash=$r.lineDash,qn.lineDashOffset=$r.lineDashOffset||0),qn.font=Br,setSeparateFont(qn,$r),kn+=rn,jn&&Hn.setBoundingRect(new BoundingRect$1(adjustTextX(qn.x,$r.width,qn.textAlign),adjustTextY(qn.y,Fn,qn.textBaseline),Qr,Fn))}},_r.prototype._updateRichTexts=function(){var $r=this.style,Br=getStyleText($r),Fr=parseRichText(Br,$r),zr=Fr.width,jr=Fr.outerWidth,Ur=Fr.outerHeight,Gr=$r.padding,Yr=$r.x||0,Kr=$r.y||0,Qr=this._defaultStyle,Jr=$r.align||Qr.align,rn=$r.verticalAlign||Qr.verticalAlign,an=adjustTextX(Yr,jr,Jr),ln=adjustTextY(Kr,Ur,rn),dn=an,hn=ln;Gr&&(dn+=Gr[3],hn+=Gr[0]);var gn=dn+zr;needDrawBackground($r)&&this._renderBackground($r,$r,an,ln,jr,Ur);for(var bn=!!$r.backgroundColor,kn=0;kn<Fr.lines.length;kn++){for(var Sn=Fr.lines[kn],_n=Sn.tokens,pn=_n.length,Cn=Sn.lineHeight,En=Sn.width,Pn=0,On=dn,jn=gn,Fn=pn-1,Wn=void 0;Pn<pn&&(Wn=_n[Pn],!Wn.align||Wn.align==="left");)this._placeToken(Wn,$r,Cn,hn,On,"left",bn),En-=Wn.width,On+=Wn.width,Pn++;for(;Fn>=0&&(Wn=_n[Fn],Wn.align==="right");)this._placeToken(Wn,$r,Cn,hn,jn,"right",bn),En-=Wn.width,jn-=Wn.width,Fn--;for(On+=(zr-(On-dn)-(gn-jn)-En)/2;Pn<=Fn;)Wn=_n[Pn],this._placeToken(Wn,$r,Cn,hn,On+Wn.width/2,"center",bn),On+=Wn.width,Pn++;hn+=Cn}},_r.prototype._placeToken=function($r,Br,Fr,zr,jr,Ur,Gr){var Yr=Br.rich[$r.styleName]||{};Yr.text=$r.text;var Kr=$r.verticalAlign,Qr=zr+Fr/2;Kr==="top"?Qr=zr+$r.height/2:Kr==="bottom"&&(Qr=zr+Fr-$r.height/2);var Jr=!$r.isLineHolder&&needDrawBackground(Yr);Jr&&this._renderBackground(Yr,Br,Ur==="right"?jr-$r.width:Ur==="center"?jr-$r.width/2:jr,Qr-$r.height/2,$r.width,$r.height);var rn=!!Yr.backgroundColor,an=$r.textPadding;an&&(jr=getTextXForPadding(jr,Ur,an),Qr-=$r.height/2-an[0]-$r.innerHeight/2);var ln=this._getOrCreateChild(TSpan$1),dn=ln.createStyle();ln.useStyle(dn);var hn=this._defaultStyle,gn=!1,bn=0,kn=getFill("fill"in Yr?Yr.fill:"fill"in Br?Br.fill:(gn=!0,hn.fill)),Sn=getStroke("stroke"in Yr?Yr.stroke:"stroke"in Br?Br.stroke:!rn&&!Gr&&(!hn.autoStroke||gn)?(bn=DEFAULT_STROKE_LINE_WIDTH,hn.stroke):null),_n=Yr.textShadowBlur>0||Br.textShadowBlur>0;dn.text=$r.text,dn.x=jr,dn.y=Qr,_n&&(dn.shadowBlur=Yr.textShadowBlur||Br.textShadowBlur||0,dn.shadowColor=Yr.textShadowColor||Br.textShadowColor||"transparent",dn.shadowOffsetX=Yr.textShadowOffsetX||Br.textShadowOffsetX||0,dn.shadowOffsetY=Yr.textShadowOffsetY||Br.textShadowOffsetY||0),dn.textAlign=Ur,dn.textBaseline="middle",dn.font=$r.font||DEFAULT_FONT,dn.opacity=retrieve3(Yr.opacity,Br.opacity,1),setSeparateFont(dn,Yr),Sn&&(dn.lineWidth=retrieve3(Yr.lineWidth,Br.lineWidth,bn),dn.lineDash=retrieve2(Yr.lineDash,Br.lineDash),dn.lineDashOffset=Br.lineDashOffset||0,dn.stroke=Sn),kn&&(dn.fill=kn);var pn=$r.contentWidth,Cn=$r.contentHeight;ln.setBoundingRect(new BoundingRect$1(adjustTextX(dn.x,pn,dn.textAlign),adjustTextY(dn.y,Cn,dn.textBaseline),pn,Cn))},_r.prototype._renderBackground=function($r,Br,Fr,zr,jr,Ur){var Gr=$r.backgroundColor,Yr=$r.borderWidth,Kr=$r.borderColor,Qr=Gr&&Gr.image,Jr=Gr&&!Qr,rn=$r.borderRadius,an=this,ln,dn;if(Jr||$r.lineHeight||Yr&&Kr){ln=this._getOrCreateChild(Rect$3),ln.useStyle(ln.createStyle()),ln.style.fill=null;var hn=ln.shape;hn.x=Fr,hn.y=zr,hn.width=jr,hn.height=Ur,hn.r=rn,ln.dirtyShape()}if(Jr){var gn=ln.style;gn.fill=Gr||null,gn.fillOpacity=retrieve2($r.fillOpacity,1)}else if(Qr){dn=this._getOrCreateChild(ZRImage$1),dn.onload=function(){an.dirtyStyle()};var bn=dn.style;bn.image=Gr.image,bn.x=Fr,bn.y=zr,bn.width=jr,bn.height=Ur}if(Yr&&Kr){var gn=ln.style;gn.lineWidth=Yr,gn.stroke=Kr,gn.strokeOpacity=retrieve2($r.strokeOpacity,1),gn.lineDash=$r.borderDash,gn.lineDashOffset=$r.borderDashOffset||0,ln.strokeContainThreshold=0,ln.hasFill()&&ln.hasStroke()&&(gn.strokeFirst=!0,gn.lineWidth*=2)}var kn=(ln||dn).style;kn.shadowBlur=$r.shadowBlur||0,kn.shadowColor=$r.shadowColor||"transparent",kn.shadowOffsetX=$r.shadowOffsetX||0,kn.shadowOffsetY=$r.shadowOffsetY||0,kn.opacity=retrieve3($r.opacity,Br.opacity,1)},_r.makeFont=function($r){var Br="";return hasSeparateFont($r)&&(Br=[$r.fontStyle,$r.fontWeight,parseFontSize($r.fontSize),$r.fontFamily||"sans-serif"].join(" ")),Br&&trim$1(Br)||$r.textFont||$r.font},_r}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(Fe){return typeof Fe=="string"&&(Fe.indexOf("px")!==-1||Fe.indexOf("rem")!==-1||Fe.indexOf("em")!==-1)?Fe:isNaN(+Fe)?DEFAULT_FONT_SIZE+"px":Fe+"px"}function setSeparateFont(Fe,_r){for(var $r=0;$r<FONT_PARTS.length;$r++){var Br=FONT_PARTS[$r],Fr=_r[Br];Fr!=null&&(Fe[Br]=Fr)}}function hasSeparateFont(Fe){return Fe.fontSize!=null||Fe.fontFamily||Fe.fontWeight}function normalizeTextStyle(Fe){return normalizeStyle(Fe),each$f(Fe.rich,normalizeStyle),Fe}function normalizeStyle(Fe){if(Fe){Fe.font=ZRText.makeFont(Fe);var _r=Fe.align;_r==="middle"&&(_r="center"),Fe.align=_r==null||VALID_TEXT_ALIGN[_r]?_r:"left";var $r=Fe.verticalAlign;$r==="center"&&($r="middle"),Fe.verticalAlign=$r==null||VALID_TEXT_VERTICAL_ALIGN[$r]?$r:"top";var Br=Fe.padding;Br&&(Fe.padding=normalizeCssArray$1(Fe.padding))}}function getStroke(Fe,_r){return Fe==null||_r<=0||Fe==="transparent"||Fe==="none"?null:Fe.image||Fe.colorStops?"#000":Fe}function getFill(Fe){return Fe==null||Fe==="none"?null:Fe.image||Fe.colorStops?"#000":Fe}function getTextXForPadding(Fe,_r,$r){return _r==="right"?Fe-$r[1]:_r==="center"?Fe+$r[3]/2-$r[1]/2:Fe+$r[3]}function getStyleText(Fe){var _r=Fe.text;return _r!=null&&(_r+=""),_r}function needDrawBackground(Fe){return!!(Fe.backgroundColor||Fe.lineHeight||Fe.borderWidth&&Fe.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(Fe,_r,$r,Br){if(Br){var Fr=getECData(Br);Fr.dataIndex=$r,Fr.dataType=_r,Fr.seriesIndex=Fe,Br.type==="group"&&Br.traverse(function(zr){var jr=getECData(zr);jr.seriesIndex=Fe,jr.dataIndex=$r,jr.dataType=_r})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(Fe){return Fe!=null&&Fe!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(Fe){if(isString(Fe)){var _r=liftedColorCache.get(Fe);return _r||(_r=lift(Fe,-.1),liftedColorCache.put(Fe,_r)),_r}else if(isGradientObject(Fe)){var $r=extend$1({},Fe);return $r.colorStops=map$1(Fe.colorStops,function(Br){return{offset:Br.offset,color:lift(Br.color,-.1)}}),$r}return Fe}function doChangeHoverState(Fe,_r,$r){Fe.onHoverStateChange&&(Fe.hoverState||0)!==$r&&Fe.onHoverStateChange(_r),Fe.hoverState=$r}function singleEnterEmphasis(Fe){doChangeHoverState(Fe,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(Fe){Fe.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(Fe,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(Fe){doChangeHoverState(Fe,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(Fe){Fe.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(Fe,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(Fe){Fe.selected=!0}function singleLeaveSelect(Fe){Fe.selected=!1}function updateElementState(Fe,_r,$r){_r(Fe,$r)}function traverseUpdateState(Fe,_r,$r){updateElementState(Fe,_r,$r),Fe.isGroup&&Fe.traverse(function(Br){updateElementState(Br,_r,$r)})}function setStatesFlag(Fe,_r){switch(_r){case"emphasis":Fe.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":Fe.hoverState=HOVER_STATE_NORMAL;break;case"blur":Fe.hoverState=HOVER_STATE_BLUR;break;case"select":Fe.selected=!0}}function getFromStateStyle(Fe,_r,$r,Br){for(var Fr=Fe.style,zr={},jr=0;jr<_r.length;jr++){var Ur=_r[jr],Gr=Fr[Ur];zr[Ur]=Gr??(Br&&Br[Ur])}for(var jr=0;jr<Fe.animators.length;jr++){var Yr=Fe.animators[jr];Yr.__fromStateTransition&&Yr.__fromStateTransition.indexOf($r)<0&&Yr.targetName==="style"&&Yr.saveTo(zr,_r)}return zr}function createEmphasisDefaultState(Fe,_r,$r,Br){var Fr=$r&&indexOf($r,"select")>=0,zr=!1;if(Fe instanceof Path$1){var jr=getSavedStates(Fe),Ur=Fr&&jr.selectFill||jr.normalFill,Gr=Fr&&jr.selectStroke||jr.normalStroke;if(hasFillOrStroke(Ur)||hasFillOrStroke(Gr)){Br=Br||{};var Yr=Br.style||{};Yr.fill==="inherit"?(zr=!0,Br=extend$1({},Br),Yr=extend$1({},Yr),Yr.fill=Ur):!hasFillOrStroke(Yr.fill)&&hasFillOrStroke(Ur)?(zr=!0,Br=extend$1({},Br),Yr=extend$1({},Yr),Yr.fill=liftColor(Ur)):!hasFillOrStroke(Yr.stroke)&&hasFillOrStroke(Gr)&&(zr||(Br=extend$1({},Br),Yr=extend$1({},Yr)),Yr.stroke=liftColor(Gr)),Br.style=Yr}}if(Br&&Br.z2==null){zr||(Br=extend$1({},Br));var Kr=Fe.z2EmphasisLift;Br.z2=Fe.z2+(Kr??Z2_EMPHASIS_LIFT)}return Br}function createSelectDefaultState(Fe,_r,$r){if($r&&$r.z2==null){$r=extend$1({},$r);var Br=Fe.z2SelectLift;$r.z2=Fe.z2+(Br??Z2_SELECT_LIFT)}return $r}function createBlurDefaultState(Fe,_r,$r){var Br=indexOf(Fe.currentStates,_r)>=0,Fr=Fe.style.opacity,zr=Br?null:getFromStateStyle(Fe,["opacity"],_r,{opacity:1});$r=$r||{};var jr=$r.style||{};return jr.opacity==null&&($r=extend$1({},$r),jr=extend$1({opacity:Br?Fr:zr.opacity*.1},jr),$r.style=jr),$r}function elementStateProxy(Fe,_r){var $r=this.states[Fe];if(this.style){if(Fe==="emphasis")return createEmphasisDefaultState(this,Fe,_r,$r);if(Fe==="blur")return createBlurDefaultState(this,Fe,$r);if(Fe==="select")return createSelectDefaultState(this,Fe,$r)}return $r}function setDefaultStateProxy(Fe){Fe.stateProxy=elementStateProxy;var _r=Fe.getTextContent(),$r=Fe.getTextGuideLine();_r&&(_r.stateProxy=elementStateProxy),$r&&($r.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(Fe,_r){!shouldSilent(Fe,_r)&&!Fe.__highByOuter&&traverseUpdateState(Fe,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(Fe,_r){!shouldSilent(Fe,_r)&&!Fe.__highByOuter&&traverseUpdateState(Fe,singleLeaveEmphasis)}function enterEmphasis(Fe,_r){Fe.__highByOuter|=1<<(_r||0),traverseUpdateState(Fe,singleEnterEmphasis)}function leaveEmphasis(Fe,_r){!(Fe.__highByOuter&=~(1<<(_r||0)))&&traverseUpdateState(Fe,singleLeaveEmphasis)}function enterBlur(Fe){traverseUpdateState(Fe,singleEnterBlur)}function leaveBlur(Fe){traverseUpdateState(Fe,singleLeaveBlur)}function enterSelect(Fe){traverseUpdateState(Fe,singleEnterSelect)}function leaveSelect(Fe){traverseUpdateState(Fe,singleLeaveSelect)}function shouldSilent(Fe,_r){return Fe.__highDownSilentOnTouch&&_r.zrByTouch}function allLeaveBlur(Fe){var _r=Fe.getModel(),$r=[],Br=[];_r.eachComponent(function(Fr,zr){var jr=getComponentStates(zr),Ur=Fr==="series",Gr=Ur?Fe.getViewOfSeriesModel(zr):Fe.getViewOfComponentModel(zr);!Ur&&Br.push(Gr),jr.isBlured&&(Gr.group.traverse(function(Yr){singleLeaveBlur(Yr)}),Ur&&$r.push(zr)),jr.isBlured=!1}),each$f(Br,function(Fr){Fr&&Fr.toggleBlurSeries&&Fr.toggleBlurSeries($r,!1,_r)})}function blurSeries(Fe,_r,$r,Br){var Fr=Br.getModel();$r=$r||"coordinateSystem";function zr(Yr,Kr){for(var Qr=0;Qr<Kr.length;Qr++){var Jr=Yr.getItemGraphicEl(Kr[Qr]);Jr&&leaveBlur(Jr)}}if(Fe!=null&&!(!_r||_r==="none")){var jr=Fr.getSeriesByIndex(Fe),Ur=jr.coordinateSystem;Ur&&Ur.master&&(Ur=Ur.master);var Gr=[];Fr.eachSeries(function(Yr){var Kr=jr===Yr,Qr=Yr.coordinateSystem;Qr&&Qr.master&&(Qr=Qr.master);var Jr=Qr&&Ur?Qr===Ur:Kr;if(!($r==="series"&&!Kr||$r==="coordinateSystem"&&!Jr||_r==="series"&&Kr)){var rn=Br.getViewOfSeriesModel(Yr);if(rn.group.traverse(function(dn){dn.__highByOuter&&Kr&&_r==="self"||singleEnterBlur(dn)}),isArrayLike(_r))zr(Yr.getData(),_r);else if(isObject$3(_r))for(var an=keys(_r),ln=0;ln<an.length;ln++)zr(Yr.getData(an[ln]),_r[an[ln]]);Gr.push(Yr),getComponentStates(Yr).isBlured=!0}}),Fr.eachComponent(function(Yr,Kr){if(Yr!=="series"){var Qr=Br.getViewOfComponentModel(Kr);Qr&&Qr.toggleBlurSeries&&Qr.toggleBlurSeries(Gr,!0,Fr)}})}}function blurComponent(Fe,_r,$r){if(!(Fe==null||_r==null)){var Br=$r.getModel().getComponent(Fe,_r);if(Br){getComponentStates(Br).isBlured=!0;var Fr=$r.getViewOfComponentModel(Br);!Fr||!Fr.focusBlurEnabled||Fr.group.traverse(function(zr){singleEnterBlur(zr)})}}}function blurSeriesFromHighlightPayload(Fe,_r,$r){var Br=Fe.seriesIndex,Fr=Fe.getData(_r.dataType);if(Fr){var zr=queryDataIndex(Fr,_r);zr=(isArray$1(zr)?zr[0]:zr)||0;var jr=Fr.getItemGraphicEl(zr);if(!jr)for(var Ur=Fr.count(),Gr=0;!jr&&Gr<Ur;)jr=Fr.getItemGraphicEl(Gr++);if(jr){var Yr=getECData(jr);blurSeries(Br,Yr.focus,Yr.blurScope,$r)}else{var Kr=Fe.get(["emphasis","focus"]),Qr=Fe.get(["emphasis","blurScope"]);Kr!=null&&blurSeries(Br,Kr,Qr,$r)}}}function findComponentHighDownDispatchers(Fe,_r,$r,Br){var Fr={focusSelf:!1,dispatchers:null};if(Fe==null||Fe==="series"||_r==null||$r==null)return Fr;var zr=Br.getModel().getComponent(Fe,_r);if(!zr)return Fr;var jr=Br.getViewOfComponentModel(zr);if(!jr||!jr.findHighDownDispatchers)return Fr;for(var Ur=jr.findHighDownDispatchers($r),Gr,Yr=0;Yr<Ur.length;Yr++)if(getECData(Ur[Yr]).focus==="self"){Gr=!0;break}return{focusSelf:Gr,dispatchers:Ur}}function handleGlobalMouseOverForHighDown(Fe,_r,$r){var Br=getECData(Fe),Fr=findComponentHighDownDispatchers(Br.componentMainType,Br.componentIndex,Br.componentHighDownName,$r),zr=Fr.dispatchers,jr=Fr.focusSelf;zr?(jr&&blurComponent(Br.componentMainType,Br.componentIndex,$r),each$f(zr,function(Ur){return enterEmphasisWhenMouseOver(Ur,_r)})):(blurSeries(Br.seriesIndex,Br.focus,Br.blurScope,$r),Br.focus==="self"&&blurComponent(Br.componentMainType,Br.componentIndex,$r),enterEmphasisWhenMouseOver(Fe,_r))}function handleGlobalMouseOutForHighDown(Fe,_r,$r){allLeaveBlur($r);var Br=getECData(Fe),Fr=findComponentHighDownDispatchers(Br.componentMainType,Br.componentIndex,Br.componentHighDownName,$r).dispatchers;Fr?each$f(Fr,function(zr){return leaveEmphasisWhenMouseOut(zr,_r)}):leaveEmphasisWhenMouseOut(Fe,_r)}function toggleSelectionFromPayload(Fe,_r,$r){if(isSelectChangePayload(_r)){var Br=_r.dataType,Fr=Fe.getData(Br),zr=queryDataIndex(Fr,_r);isArray$1(zr)||(zr=[zr]),Fe[_r.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":_r.type===SELECT_ACTION_TYPE?"select":"unselect"](zr,Br)}}function updateSeriesElementSelection(Fe){var _r=Fe.getAllData();each$f(_r,function($r){var Br=$r.data,Fr=$r.type;Br.eachItemGraphicEl(function(zr,jr){Fe.isSelected(jr,Fr)?enterSelect(zr):leaveSelect(zr)})})}function getAllSelectedIndices(Fe){var _r=[];return Fe.eachSeries(function($r){var Br=$r.getAllData();each$f(Br,function(Fr){Fr.data;var zr=Fr.type,jr=$r.getSelectedDataIndices();if(jr.length>0){var Ur={dataIndex:jr,seriesIndex:$r.seriesIndex};zr!=null&&(Ur.dataType=zr),_r.push(Ur)}})}),_r}function enableHoverEmphasis(Fe,_r,$r){setAsHighDownDispatcher(Fe,!0),traverseUpdateState(Fe,setDefaultStateProxy),enableHoverFocus(Fe,_r,$r)}function disableHoverEmphasis(Fe){setAsHighDownDispatcher(Fe,!1)}function toggleHoverEmphasis(Fe,_r,$r,Br){Br?disableHoverEmphasis(Fe):enableHoverEmphasis(Fe,_r,$r)}function enableHoverFocus(Fe,_r,$r){var Br=getECData(Fe);_r!=null?(Br.focus=_r,Br.blurScope=$r):Br.focus&&(Br.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(Fe,_r,$r,Br){$r=$r||"itemStyle";for(var Fr=0;Fr<OTHER_STATES.length;Fr++){var zr=OTHER_STATES[Fr],jr=_r.getModel([zr,$r]),Ur=Fe.ensureState(zr);Ur.style=Br?Br(jr):jr[defaultStyleGetterMap[$r]]()}}function setAsHighDownDispatcher(Fe,_r){var $r=_r===!1,Br=Fe;Fe.highDownSilentOnTouch&&(Br.__highDownSilentOnTouch=Fe.highDownSilentOnTouch),(!$r||Br.__highDownDispatcher)&&(Br.__highByOuter=Br.__highByOuter||0,Br.__highDownDispatcher=!$r)}function isHighDownDispatcher(Fe){return!!(Fe&&Fe.__highDownDispatcher)}function enableComponentHighDownFeatures(Fe,_r,$r){var Br=getECData(Fe);Br.componentMainType=_r.mainType,Br.componentIndex=_r.componentIndex,Br.componentHighDownName=$r}function getHighlightDigit(Fe){var _r=_highlightKeyMap[Fe];return _r==null&&_highlightNextDigit<=32&&(_r=_highlightKeyMap[Fe]=_highlightNextDigit++),_r}function isSelectChangePayload(Fe){var _r=Fe.type;return _r===SELECT_ACTION_TYPE||_r===UNSELECT_ACTION_TYPE||_r===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(Fe){var _r=Fe.type;return _r===HIGHLIGHT_ACTION_TYPE||_r===DOWNPLAY_ACTION_TYPE}function savePathStates(Fe){var _r=getSavedStates(Fe);_r.normalFill=Fe.style.fill,_r.normalStroke=Fe.style.stroke;var $r=Fe.states.select||{};_r.selectFill=$r.style&&$r.style.fill||null,_r.selectStroke=$r.style&&$r.style.stroke||null}var CMD$2=PathProxy$1.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(Fe,_r){if(_r){var $r=Fe.data,Br=Fe.len(),Fr,zr,jr,Ur,Gr,Yr,Kr=CMD$2.M,Qr=CMD$2.C,Jr=CMD$2.L,rn=CMD$2.R,an=CMD$2.A,ln=CMD$2.Q;for(jr=0,Ur=0;jr<Br;){switch(Fr=$r[jr++],Ur=jr,zr=0,Fr){case Kr:zr=1;break;case Jr:zr=1;break;case Qr:zr=3;break;case ln:zr=2;break;case an:var dn=_r[4],hn=_r[5],gn=mathSqrt$2(_r[0]*_r[0]+_r[1]*_r[1]),bn=mathSqrt$2(_r[2]*_r[2]+_r[3]*_r[3]),kn=mathAtan2(-_r[1]/bn,_r[0]/gn);$r[jr]*=gn,$r[jr++]+=dn,$r[jr]*=bn,$r[jr++]+=hn,$r[jr++]*=gn,$r[jr++]*=bn,$r[jr++]+=kn,$r[jr++]+=kn,jr+=2,Ur=jr;break;case rn:Yr[0]=$r[jr++],Yr[1]=$r[jr++],applyTransform$1(Yr,Yr,_r),$r[Ur++]=Yr[0],$r[Ur++]=Yr[1],Yr[0]+=$r[jr++],Yr[1]+=$r[jr++],applyTransform$1(Yr,Yr,_r),$r[Ur++]=Yr[0],$r[Ur++]=Yr[1]}for(Gr=0;Gr<zr;Gr++){var Sn=points$2[Gr];Sn[0]=$r[jr++],Sn[1]=$r[jr++],applyTransform$1(Sn,Sn,_r),$r[Ur++]=Sn[0],$r[Ur++]=Sn[1]}}Fe.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(Fe){return Math.sqrt(Fe[0]*Fe[0]+Fe[1]*Fe[1])}function vRatio(Fe,_r){return(Fe[0]*_r[0]+Fe[1]*_r[1])/(vMag(Fe)*vMag(_r))}function vAngle(Fe,_r){return(Fe[0]*_r[1]<Fe[1]*_r[0]?-1:1)*Math.acos(vRatio(Fe,_r))}function processArc(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr,Kr){var Qr=Gr*(PI$7/180),Jr=mathCos$2(Qr)*(Fe-$r)/2+mathSin$2(Qr)*(_r-Br)/2,rn=-1*mathSin$2(Qr)*(Fe-$r)/2+mathCos$2(Qr)*(_r-Br)/2,an=Jr*Jr/(jr*jr)+rn*rn/(Ur*Ur);an>1&&(jr*=mathSqrt$1(an),Ur*=mathSqrt$1(an));var ln=(Fr===zr?-1:1)*mathSqrt$1((jr*jr*(Ur*Ur)-jr*jr*(rn*rn)-Ur*Ur*(Jr*Jr))/(jr*jr*(rn*rn)+Ur*Ur*(Jr*Jr)))||0,dn=ln*jr*rn/Ur,hn=ln*-Ur*Jr/jr,gn=(Fe+$r)/2+mathCos$2(Qr)*dn-mathSin$2(Qr)*hn,bn=(_r+Br)/2+mathSin$2(Qr)*dn+mathCos$2(Qr)*hn,kn=vAngle([1,0],[(Jr-dn)/jr,(rn-hn)/Ur]),Sn=[(Jr-dn)/jr,(rn-hn)/Ur],_n=[(-1*Jr-dn)/jr,(-1*rn-hn)/Ur],pn=vAngle(Sn,_n);if(vRatio(Sn,_n)<=-1&&(pn=PI$7),vRatio(Sn,_n)>=1&&(pn=0),pn<0){var Cn=Math.round(pn/PI$7*1e6)/1e6;pn=PI$7*2+Cn%2*PI$7}Kr.addData(Yr,gn,bn,jr,Ur,kn,pn,Qr,zr)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(Fe){var _r=new PathProxy$1;if(!Fe)return _r;var $r=0,Br=0,Fr=$r,zr=Br,jr,Ur=PathProxy$1.CMD,Gr=Fe.match(commandReg);if(!Gr)return _r;for(var Yr=0;Yr<Gr.length;Yr++){for(var Kr=Gr[Yr],Qr=Kr.charAt(0),Jr=void 0,rn=Kr.match(numberReg$1)||[],an=rn.length,ln=0;ln<an;ln++)rn[ln]=parseFloat(rn[ln]);for(var dn=0;dn<an;){var hn=void 0,gn=void 0,bn=void 0,kn=void 0,Sn=void 0,_n=void 0,pn=void 0,Cn=$r,En=Br,Pn=void 0,On=void 0;switch(Qr){case"l":$r+=rn[dn++],Br+=rn[dn++],Jr=Ur.L,_r.addData(Jr,$r,Br);break;case"L":$r=rn[dn++],Br=rn[dn++],Jr=Ur.L,_r.addData(Jr,$r,Br);break;case"m":$r+=rn[dn++],Br+=rn[dn++],Jr=Ur.M,_r.addData(Jr,$r,Br),Fr=$r,zr=Br,Qr="l";break;case"M":$r=rn[dn++],Br=rn[dn++],Jr=Ur.M,_r.addData(Jr,$r,Br),Fr=$r,zr=Br,Qr="L";break;case"h":$r+=rn[dn++],Jr=Ur.L,_r.addData(Jr,$r,Br);break;case"H":$r=rn[dn++],Jr=Ur.L,_r.addData(Jr,$r,Br);break;case"v":Br+=rn[dn++],Jr=Ur.L,_r.addData(Jr,$r,Br);break;case"V":Br=rn[dn++],Jr=Ur.L,_r.addData(Jr,$r,Br);break;case"C":Jr=Ur.C,_r.addData(Jr,rn[dn++],rn[dn++],rn[dn++],rn[dn++],rn[dn++],rn[dn++]),$r=rn[dn-2],Br=rn[dn-1];break;case"c":Jr=Ur.C,_r.addData(Jr,rn[dn++]+$r,rn[dn++]+Br,rn[dn++]+$r,rn[dn++]+Br,rn[dn++]+$r,rn[dn++]+Br),$r+=rn[dn-2],Br+=rn[dn-1];break;case"S":hn=$r,gn=Br,Pn=_r.len(),On=_r.data,jr===Ur.C&&(hn+=$r-On[Pn-4],gn+=Br-On[Pn-3]),Jr=Ur.C,Cn=rn[dn++],En=rn[dn++],$r=rn[dn++],Br=rn[dn++],_r.addData(Jr,hn,gn,Cn,En,$r,Br);break;case"s":hn=$r,gn=Br,Pn=_r.len(),On=_r.data,jr===Ur.C&&(hn+=$r-On[Pn-4],gn+=Br-On[Pn-3]),Jr=Ur.C,Cn=$r+rn[dn++],En=Br+rn[dn++],$r+=rn[dn++],Br+=rn[dn++],_r.addData(Jr,hn,gn,Cn,En,$r,Br);break;case"Q":Cn=rn[dn++],En=rn[dn++],$r=rn[dn++],Br=rn[dn++],Jr=Ur.Q,_r.addData(Jr,Cn,En,$r,Br);break;case"q":Cn=rn[dn++]+$r,En=rn[dn++]+Br,$r+=rn[dn++],Br+=rn[dn++],Jr=Ur.Q,_r.addData(Jr,Cn,En,$r,Br);break;case"T":hn=$r,gn=Br,Pn=_r.len(),On=_r.data,jr===Ur.Q&&(hn+=$r-On[Pn-4],gn+=Br-On[Pn-3]),$r=rn[dn++],Br=rn[dn++],Jr=Ur.Q,_r.addData(Jr,hn,gn,$r,Br);break;case"t":hn=$r,gn=Br,Pn=_r.len(),On=_r.data,jr===Ur.Q&&(hn+=$r-On[Pn-4],gn+=Br-On[Pn-3]),$r+=rn[dn++],Br+=rn[dn++],Jr=Ur.Q,_r.addData(Jr,hn,gn,$r,Br);break;case"A":bn=rn[dn++],kn=rn[dn++],Sn=rn[dn++],_n=rn[dn++],pn=rn[dn++],Cn=$r,En=Br,$r=rn[dn++],Br=rn[dn++],Jr=Ur.A,processArc(Cn,En,$r,Br,_n,pn,bn,kn,Sn,Jr,_r);break;case"a":bn=rn[dn++],kn=rn[dn++],Sn=rn[dn++],_n=rn[dn++],pn=rn[dn++],Cn=$r,En=Br,$r+=rn[dn++],Br+=rn[dn++],Jr=Ur.A,processArc(Cn,En,$r,Br,_n,pn,bn,kn,Sn,Jr,_r);break}}(Qr==="z"||Qr==="Z")&&(Jr=Ur.Z,_r.addData(Jr),$r=Fr,Br=zr),jr=Jr}return _r.toStatic(),_r}var SVGPath=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.applyTransform=function($r){},_r}(Path$1);function isPathProxy(Fe){return Fe.setData!=null}function createPathOptions(Fe,_r){var $r=createPathProxyFromString(Fe),Br=extend$1({},_r);return Br.buildPath=function(Fr){if(isPathProxy(Fr)){Fr.setData($r.data);var zr=Fr.getContext();zr&&Fr.rebuildPath(zr,1)}else{var zr=Fr;$r.rebuildPath(zr,1)}},Br.applyTransform=function(Fr){transformPath($r,Fr),this.dirtyShape()},Br}function createFromString(Fe,_r){return new SVGPath(createPathOptions(Fe,_r))}function extendFromString(Fe,_r){var $r=createPathOptions(Fe,_r),Br=function(Fr){__extends(zr,Fr);function zr(jr){var Ur=Fr.call(this,jr)||this;return Ur.applyTransform=$r.applyTransform,Ur.buildPath=$r.buildPath,Ur}return zr}(SVGPath);return Br}function mergePath$1(Fe,_r){for(var $r=[],Br=Fe.length,Fr=0;Fr<Br;Fr++){var zr=Fe[Fr];$r.push(zr.getUpdatedPathProxy(!0))}var jr=new Path$1(_r);return jr.createPathProxy(),jr.buildPath=function(Ur){if(isPathProxy(Ur)){Ur.appendPath($r);var Gr=Ur.getContext();Gr&&Ur.rebuildPath(Gr,1)}},jr}function clonePath(Fe,_r){_r=_r||{};var $r=new Path$1;return Fe.shape&&$r.setShape(Fe.shape),$r.setStyle(Fe.style),_r.bakeTransform?transformPath($r.path,Fe.getComputedTransform()):_r.toLocal?$r.setLocalTransform(Fe.getComputedTransform()):$r.copyTransform(Fe),$r.buildPath=Fe.buildPath,$r.applyTransform=$r.applyTransform,$r.z=Fe.z,$r.z2=Fe.z2,$r.zlevel=Fe.zlevel,$r}var CircleShape=function(){function Fe(){this.cx=0,this.cy=0,this.r=0}return Fe}(),Circle=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultShape=function(){return new CircleShape},_r.prototype.buildPath=function($r,Br){$r.moveTo(Br.cx+Br.r,Br.cy),$r.arc(Br.cx,Br.cy,Br.r,0,Math.PI*2)},_r}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function Fe(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return Fe}(),Ellipse=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultShape=function(){return new EllipseShape},_r.prototype.buildPath=function($r,Br){var Fr=.5522848,zr=Br.cx,jr=Br.cy,Ur=Br.rx,Gr=Br.ry,Yr=Ur*Fr,Kr=Gr*Fr;$r.moveTo(zr-Ur,jr),$r.bezierCurveTo(zr-Ur,jr-Kr,zr-Yr,jr-Gr,zr,jr-Gr),$r.bezierCurveTo(zr+Yr,jr-Gr,zr+Ur,jr-Kr,zr+Ur,jr),$r.bezierCurveTo(zr+Ur,jr+Kr,zr+Yr,jr+Gr,zr,jr+Gr),$r.bezierCurveTo(zr-Yr,jr+Gr,zr-Ur,jr+Kr,zr-Ur,jr),$r.closePath()},_r}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr=$r-Fe,Yr=Br-_r,Kr=jr-Fr,Qr=Ur-zr,Jr=Qr*Gr-Kr*Yr;if(!(Jr*Jr<e))return Jr=(Kr*(_r-zr)-Qr*(Fe-Fr))/Jr,[Fe+Jr*Gr,_r+Jr*Yr]}function computeCornerTangents(Fe,_r,$r,Br,Fr,zr,jr){var Ur=Fe-$r,Gr=_r-Br,Yr=(jr?zr:-zr)/mathSqrt(Ur*Ur+Gr*Gr),Kr=Yr*Gr,Qr=-Yr*Ur,Jr=Fe+Kr,rn=_r+Qr,an=$r+Kr,ln=Br+Qr,dn=(Jr+an)/2,hn=(rn+ln)/2,gn=an-Jr,bn=ln-rn,kn=gn*gn+bn*bn,Sn=Fr-zr,_n=Jr*ln-an*rn,pn=(bn<0?-1:1)*mathSqrt(mathMax$7(0,Sn*Sn*kn-_n*_n)),Cn=(_n*bn-gn*pn)/kn,En=(-_n*gn-bn*pn)/kn,Pn=(_n*bn+gn*pn)/kn,On=(-_n*gn+bn*pn)/kn,jn=Cn-dn,Fn=En-hn,Wn=Pn-dn,Hn=On-hn;return jn*jn+Fn*Fn>Wn*Wn+Hn*Hn&&(Cn=Pn,En=On),{cx:Cn,cy:En,x0:-Kr,y0:-Qr,x1:Cn*(Fr/Sn-1),y1:En*(Fr/Sn-1)}}function normalizeCornerRadius(Fe){var _r;if(isArray$1(Fe)){var $r=Fe.length;if(!$r)return Fe;$r===1?_r=[Fe[0],Fe[0],0,0]:$r===2?_r=[Fe[0],Fe[0],Fe[1],Fe[1]]:$r===3?_r=Fe.concat(Fe[2]):_r=Fe}else _r=[Fe,Fe,Fe,Fe];return _r}function buildPath$1(Fe,_r){var $r,Br=mathMax$7(_r.r,0),Fr=mathMax$7(_r.r0||0,0),zr=Br>0,jr=Fr>0;if(!(!zr&&!jr)){if(zr||(Br=Fr,Fr=0),Fr>Br){var Ur=Br;Br=Fr,Fr=Ur}var Gr=_r.startAngle,Yr=_r.endAngle;if(!(isNaN(Gr)||isNaN(Yr))){var Kr=_r.cx,Qr=_r.cy,Jr=!!_r.clockwise,rn=mathAbs$1(Yr-Gr),an=rn>PI2$3&&rn%PI2$3;if(an>e&&(rn=an),!(Br>e))Fe.moveTo(Kr,Qr);else if(rn>PI2$3-e)Fe.moveTo(Kr+Br*mathCos$1(Gr),Qr+Br*mathSin$1(Gr)),Fe.arc(Kr,Qr,Br,Gr,Yr,!Jr),Fr>e&&(Fe.moveTo(Kr+Fr*mathCos$1(Yr),Qr+Fr*mathSin$1(Yr)),Fe.arc(Kr,Qr,Fr,Yr,Gr,Jr));else{var ln=void 0,dn=void 0,hn=void 0,gn=void 0,bn=void 0,kn=void 0,Sn=void 0,_n=void 0,pn=void 0,Cn=void 0,En=void 0,Pn=void 0,On=void 0,jn=void 0,Fn=void 0,Wn=void 0,Hn=Br*mathCos$1(Gr),qn=Br*mathSin$1(Gr),ni=Fr*mathCos$1(Yr),oi=Fr*mathSin$1(Yr),wi=rn>e;if(wi){var Ci=_r.cornerRadius;Ci&&($r=normalizeCornerRadius(Ci),ln=$r[0],dn=$r[1],hn=$r[2],gn=$r[3]);var Fi=mathAbs$1(Br-Fr)/2;if(bn=mathMin$7(Fi,hn),kn=mathMin$7(Fi,gn),Sn=mathMin$7(Fi,ln),_n=mathMin$7(Fi,dn),En=pn=mathMax$7(bn,kn),Pn=Cn=mathMax$7(Sn,_n),(pn>e||Cn>e)&&(On=Br*mathCos$1(Yr),jn=Br*mathSin$1(Yr),Fn=Fr*mathCos$1(Gr),Wn=Fr*mathSin$1(Gr),rn<PI$6)){var Zn=intersect(Hn,qn,Fn,Wn,On,jn,ni,oi);if(Zn){var Gn=Hn-Zn[0],ui=qn-Zn[1],Ni=On-Zn[0],$i=jn-Zn[1],Vi=1/mathSin$1(mathACos((Gn*Ni+ui*$i)/(mathSqrt(Gn*Gn+ui*ui)*mathSqrt(Ni*Ni+$i*$i)))/2),ji=mathSqrt(Zn[0]*Zn[0]+Zn[1]*Zn[1]);En=mathMin$7(pn,(Br-ji)/(Vi+1)),Pn=mathMin$7(Cn,(Fr-ji)/(Vi-1))}}}if(!wi)Fe.moveTo(Kr+Hn,Qr+qn);else if(En>e){var lo=mathMin$7(hn,En),ho=mathMin$7(gn,En),so=computeCornerTangents(Fn,Wn,Hn,qn,Br,lo,Jr),Ki=computeCornerTangents(On,jn,ni,oi,Br,ho,Jr);Fe.moveTo(Kr+so.cx+so.x0,Qr+so.cy+so.y0),En<pn&&lo===ho?Fe.arc(Kr+so.cx,Qr+so.cy,En,mathATan2(so.y0,so.x0),mathATan2(Ki.y0,Ki.x0),!Jr):(lo>0&&Fe.arc(Kr+so.cx,Qr+so.cy,lo,mathATan2(so.y0,so.x0),mathATan2(so.y1,so.x1),!Jr),Fe.arc(Kr,Qr,Br,mathATan2(so.cy+so.y1,so.cx+so.x1),mathATan2(Ki.cy+Ki.y1,Ki.cx+Ki.x1),!Jr),ho>0&&Fe.arc(Kr+Ki.cx,Qr+Ki.cy,ho,mathATan2(Ki.y1,Ki.x1),mathATan2(Ki.y0,Ki.x0),!Jr))}else Fe.moveTo(Kr+Hn,Qr+qn),Fe.arc(Kr,Qr,Br,Gr,Yr,!Jr);if(!(Fr>e)||!wi)Fe.lineTo(Kr+ni,Qr+oi);else if(Pn>e){var lo=mathMin$7(ln,Pn),ho=mathMin$7(dn,Pn),so=computeCornerTangents(ni,oi,On,jn,Fr,-ho,Jr),Ki=computeCornerTangents(Hn,qn,Fn,Wn,Fr,-lo,Jr);Fe.lineTo(Kr+so.cx+so.x0,Qr+so.cy+so.y0),Pn<Cn&&lo===ho?Fe.arc(Kr+so.cx,Qr+so.cy,Pn,mathATan2(so.y0,so.x0),mathATan2(Ki.y0,Ki.x0),!Jr):(ho>0&&Fe.arc(Kr+so.cx,Qr+so.cy,ho,mathATan2(so.y0,so.x0),mathATan2(so.y1,so.x1),!Jr),Fe.arc(Kr,Qr,Fr,mathATan2(so.cy+so.y1,so.cx+so.x1),mathATan2(Ki.cy+Ki.y1,Ki.cx+Ki.x1),Jr),lo>0&&Fe.arc(Kr+Ki.cx,Qr+Ki.cy,lo,mathATan2(Ki.y1,Ki.x1),mathATan2(Ki.y0,Ki.x0),!Jr))}else Fe.lineTo(Kr+ni,Qr+oi),Fe.arc(Kr,Qr,Fr,Yr,Gr,Jr)}Fe.closePath()}}}var SectorShape=function(){function Fe(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return Fe}(),Sector=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultShape=function(){return new SectorShape},_r.prototype.buildPath=function($r,Br){buildPath$1($r,Br)},_r.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},_r}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function Fe(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return Fe}(),Ring=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultShape=function(){return new RingShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.cx,zr=Br.cy,jr=Math.PI*2;$r.moveTo(Fr+Br.r,zr),$r.arc(Fr,zr,Br.r,0,jr,!1),$r.moveTo(Fr+Br.r0,zr),$r.arc(Fr,zr,Br.r0,0,jr,!0)},_r}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(Fe,_r,$r,Br){var Fr=[],zr=[],jr=[],Ur=[],Gr,Yr,Kr,Qr;if(Br){Kr=[1/0,1/0],Qr=[-1/0,-1/0];for(var Jr=0,rn=Fe.length;Jr<rn;Jr++)min$1(Kr,Kr,Fe[Jr]),max$1(Qr,Qr,Fe[Jr]);min$1(Kr,Kr,Br[0]),max$1(Qr,Qr,Br[1])}for(var Jr=0,rn=Fe.length;Jr<rn;Jr++){var an=Fe[Jr];if($r)Gr=Fe[Jr?Jr-1:rn-1],Yr=Fe[(Jr+1)%rn];else if(Jr===0||Jr===rn-1){Fr.push(clone$3(Fe[Jr]));continue}else Gr=Fe[Jr-1],Yr=Fe[Jr+1];sub(zr,Yr,Gr),scale$2(zr,zr,_r);var ln=distance(an,Gr),dn=distance(an,Yr),hn=ln+dn;hn!==0&&(ln/=hn,dn/=hn),scale$2(jr,zr,-ln),scale$2(Ur,zr,dn);var gn=add([],an,jr),bn=add([],an,Ur);Br&&(max$1(gn,gn,Kr),min$1(gn,gn,Qr),max$1(bn,bn,Kr),min$1(bn,bn,Qr)),Fr.push(gn),Fr.push(bn)}return $r&&Fr.push(Fr.shift()),Fr}function buildPath(Fe,_r,$r){var Br=_r.smooth,Fr=_r.points;if(Fr&&Fr.length>=2){if(Br){var zr=smoothBezier(Fr,Br,$r,_r.smoothConstraint);Fe.moveTo(Fr[0][0],Fr[0][1]);for(var jr=Fr.length,Ur=0;Ur<($r?jr:jr-1);Ur++){var Gr=zr[Ur*2],Yr=zr[Ur*2+1],Kr=Fr[(Ur+1)%jr];Fe.bezierCurveTo(Gr[0],Gr[1],Yr[0],Yr[1],Kr[0],Kr[1])}}else{Fe.moveTo(Fr[0][0],Fr[0][1]);for(var Ur=1,Qr=Fr.length;Ur<Qr;Ur++)Fe.lineTo(Fr[Ur][0],Fr[Ur][1])}$r&&Fe.closePath()}}var PolygonShape=function(){function Fe(){this.points=null,this.smooth=0,this.smoothConstraint=null}return Fe}(),Polygon=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultShape=function(){return new PolygonShape},_r.prototype.buildPath=function($r,Br){buildPath($r,Br,!0)},_r}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function Fe(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return Fe}(),Polyline$2=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_r.prototype.getDefaultShape=function(){return new PolylineShape},_r.prototype.buildPath=function($r,Br){buildPath($r,Br,!1)},_r}(Path$1);Polyline$2.prototype.type="polyline";const Polyline$3=Polyline$2;var subPixelOptimizeOutputShape={},LineShape=function(){function Fe(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return Fe}(),Line$2=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_r.prototype.getDefaultShape=function(){return new LineShape},_r.prototype.buildPath=function($r,Br){var Fr,zr,jr,Ur;if(this.subPixelOptimize){var Gr=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,Br,this.style);Fr=Gr.x1,zr=Gr.y1,jr=Gr.x2,Ur=Gr.y2}else Fr=Br.x1,zr=Br.y1,jr=Br.x2,Ur=Br.y2;var Yr=Br.percent;Yr!==0&&($r.moveTo(Fr,zr),Yr<1&&(jr=Fr*(1-Yr)+jr*Yr,Ur=zr*(1-Yr)+Ur*Yr),$r.lineTo(jr,Ur))},_r.prototype.pointAt=function($r){var Br=this.shape;return[Br.x1*(1-$r)+Br.x2*$r,Br.y1*(1-$r)+Br.y2*$r]},_r}(Path$1);Line$2.prototype.type="line";const Line$3=Line$2;var out=[],BezierCurveShape=function(){function Fe(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return Fe}();function someVectorAt(Fe,_r,$r){var Br=Fe.cpx2,Fr=Fe.cpy2;return Br!=null||Fr!=null?[($r?cubicDerivativeAt:cubicAt)(Fe.x1,Fe.cpx1,Fe.cpx2,Fe.x2,_r),($r?cubicDerivativeAt:cubicAt)(Fe.y1,Fe.cpy1,Fe.cpy2,Fe.y2,_r)]:[($r?quadraticDerivativeAt:quadraticAt$1)(Fe.x1,Fe.cpx1,Fe.x2,_r),($r?quadraticDerivativeAt:quadraticAt$1)(Fe.y1,Fe.cpy1,Fe.y2,_r)]}var BezierCurve=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_r.prototype.getDefaultShape=function(){return new BezierCurveShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.x1,zr=Br.y1,jr=Br.x2,Ur=Br.y2,Gr=Br.cpx1,Yr=Br.cpy1,Kr=Br.cpx2,Qr=Br.cpy2,Jr=Br.percent;Jr!==0&&($r.moveTo(Fr,zr),Kr==null||Qr==null?(Jr<1&&(quadraticSubdivide(Fr,Gr,jr,Jr,out),Gr=out[1],jr=out[2],quadraticSubdivide(zr,Yr,Ur,Jr,out),Yr=out[1],Ur=out[2]),$r.quadraticCurveTo(Gr,Yr,jr,Ur)):(Jr<1&&(cubicSubdivide(Fr,Gr,Kr,jr,Jr,out),Gr=out[1],Kr=out[2],jr=out[3],cubicSubdivide(zr,Yr,Qr,Ur,Jr,out),Yr=out[1],Qr=out[2],Ur=out[3]),$r.bezierCurveTo(Gr,Yr,Kr,Qr,jr,Ur)))},_r.prototype.pointAt=function($r){return someVectorAt(this.shape,$r,!1)},_r.prototype.tangentAt=function($r){var Br=someVectorAt(this.shape,$r,!0);return normalize$3(Br,Br)},_r}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function Fe(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return Fe}(),Arc=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_r.prototype.getDefaultShape=function(){return new ArcShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.cx,zr=Br.cy,jr=Math.max(Br.r,0),Ur=Br.startAngle,Gr=Br.endAngle,Yr=Br.clockwise,Kr=Math.cos(Ur),Qr=Math.sin(Ur);$r.moveTo(Kr*jr+Fr,Qr*jr+zr),$r.arc(Fr,zr,jr,Ur,Gr,!Yr)},_r}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type="compound",$r}return _r.prototype._updatePathDirty=function(){for(var $r=this.shape.paths,Br=this.shapeChanged(),Fr=0;Fr<$r.length;Fr++)Br=Br||$r[Fr].shapeChanged();Br&&this.dirtyShape()},_r.prototype.beforeBrush=function(){this._updatePathDirty();for(var $r=this.shape.paths||[],Br=this.getGlobalScale(),Fr=0;Fr<$r.length;Fr++)$r[Fr].path||$r[Fr].createPathProxy(),$r[Fr].path.setScale(Br[0],Br[1],$r[Fr].segmentIgnoreThreshold)},_r.prototype.buildPath=function($r,Br){for(var Fr=Br.paths||[],zr=0;zr<Fr.length;zr++)Fr[zr].buildPath($r,Fr[zr].shape,!0)},_r.prototype.afterBrush=function(){for(var $r=this.shape.paths||[],Br=0;Br<$r.length;Br++)$r[Br].pathUpdated()},_r.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},_r}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function Fe(_r){this.colorStops=_r||[]}return Fe.prototype.addColorStop=function(_r,$r){this.colorStops.push({offset:_r,color:$r})},Fe}();const Gradient$1=Gradient;var LinearGradient=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr,zr,jr,Ur){var Gr=Fe.call(this,jr)||this;return Gr.x=$r??0,Gr.y=Br??0,Gr.x2=Fr??1,Gr.y2=zr??0,Gr.type="linear",Gr.global=Ur||!1,Gr}return _r}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr,zr,jr){var Ur=Fe.call(this,zr)||this;return Ur.x=$r??.5,Ur.y=Br??.5,Ur.r=Fr??.5,Ur.type="radial",Ur.global=jr||!1,Ur}return _r}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function Fe(_r,$r){this._corners=[],this._axes=[],this._origin=[0,0];for(var Br=0;Br<4;Br++)this._corners[Br]=new Point$1;for(var Br=0;Br<2;Br++)this._axes[Br]=new Point$1;_r&&this.fromBoundingRect(_r,$r)}return Fe.prototype.fromBoundingRect=function(_r,$r){var Br=this._corners,Fr=this._axes,zr=_r.x,jr=_r.y,Ur=zr+_r.width,Gr=jr+_r.height;if(Br[0].set(zr,jr),Br[1].set(Ur,jr),Br[2].set(Ur,Gr),Br[3].set(zr,Gr),$r)for(var Yr=0;Yr<4;Yr++)Br[Yr].transform($r);Point$1.sub(Fr[0],Br[1],Br[0]),Point$1.sub(Fr[1],Br[3],Br[0]),Fr[0].normalize(),Fr[1].normalize();for(var Yr=0;Yr<2;Yr++)this._origin[Yr]=Fr[Yr].dot(Br[0])},Fe.prototype.intersect=function(_r,$r){var Br=!0,Fr=!$r;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,_r,minTv,maxTv,Fr,1)&&(Br=!1,Fr)||!this._intersectCheckOneSide(_r,this,minTv,maxTv,Fr,-1)&&(Br=!1,Fr)||Fr||Point$1.copy($r,Br?minTv:maxTv),Br},Fe.prototype._intersectCheckOneSide=function(_r,$r,Br,Fr,zr,jr){for(var Ur=!0,Gr=0;Gr<2;Gr++){var Yr=this._axes[Gr];if(this._getProjMinMaxOnAxis(Gr,_r._corners,extent),this._getProjMinMaxOnAxis(Gr,$r._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(Ur=!1,zr)return Ur;var Kr=Math.abs(extent2[0]-extent[1]),Qr=Math.abs(extent[0]-extent2[1]);Math.min(Kr,Qr)>Fr.len()&&(Kr<Qr?Point$1.scale(Fr,Yr,-Kr*jr):Point$1.scale(Fr,Yr,Qr*jr))}else if(Br){var Kr=Math.abs(extent2[0]-extent[1]),Qr=Math.abs(extent[0]-extent2[1]);Math.min(Kr,Qr)<Br.len()&&(Kr<Qr?Point$1.scale(Br,Yr,Kr*jr):Point$1.scale(Br,Yr,-Qr*jr))}}return Ur},Fe.prototype._getProjMinMaxOnAxis=function(_r,$r,Br){for(var Fr=this._axes[_r],zr=this._origin,jr=$r[0].dot(Fr)+zr[_r],Ur=jr,Gr=jr,Yr=1;Yr<$r.length;Yr++){var Kr=$r[Yr].dot(Fr)+zr[_r];Ur=Math.min(Kr,Ur),Gr=Math.max(Kr,Gr)}Br[0]=Ur,Br[1]=Gr},Fe}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.notClear=!0,$r.incremental=!0,$r._displayables=[],$r._temporaryDisplayables=[],$r._cursor=0,$r}return _r.prototype.traverse=function($r,Br){$r.call(Br,this)},_r.prototype.useStyle=function(){this.style={}},_r.prototype.getCursor=function(){return this._cursor},_r.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},_r.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},_r.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},_r.prototype.addDisplayable=function($r,Br){Br?this._temporaryDisplayables.push($r):this._displayables.push($r),this.markRedraw()},_r.prototype.addDisplayables=function($r,Br){Br=Br||!1;for(var Fr=0;Fr<$r.length;Fr++)this.addDisplayable($r[Fr],Br)},_r.prototype.getDisplayables=function(){return this._displayables},_r.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},_r.prototype.eachPendingDisplayable=function($r){for(var Br=this._cursor;Br<this._displayables.length;Br++)$r&&$r(this._displayables[Br]);for(var Br=0;Br<this._temporaryDisplayables.length;Br++)$r&&$r(this._temporaryDisplayables[Br])},_r.prototype.update=function(){this.updateTransform();for(var $r=this._cursor;$r<this._displayables.length;$r++){var Br=this._displayables[$r];Br.parent=this,Br.update(),Br.parent=null}for(var $r=0;$r<this._temporaryDisplayables.length;$r++){var Br=this._temporaryDisplayables[$r];Br.parent=this,Br.update(),Br.parent=null}},_r.prototype.getBoundingRect=function(){if(!this._rect){for(var $r=new BoundingRect$1(1/0,1/0,-1/0,-1/0),Br=0;Br<this._displayables.length;Br++){var Fr=this._displayables[Br],zr=Fr.getBoundingRect().clone();Fr.needLocalTransform()&&zr.applyTransform(Fr.getLocalTransform(m)),$r.union(zr)}this._rect=$r}return this._rect},_r.prototype.contain=function($r,Br){var Fr=this.transformCoordToLocal($r,Br),zr=this.getBoundingRect();if(zr.contain(Fr[0],Fr[1]))for(var jr=0;jr<this._displayables.length;jr++){var Ur=this._displayables[jr];if(Ur.contain($r,Br))return!0}return!1},_r}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(Fe,_r,$r,Br,Fr){var zr;if(_r&&_r.ecModel){var jr=_r.ecModel.getUpdatePayload();zr=jr&&jr.animation}var Ur=_r&&_r.isAnimationEnabled(),Gr=Fe==="update";if(Ur){var Yr=void 0,Kr=void 0,Qr=void 0;Br?(Yr=retrieve2(Br.duration,200),Kr=retrieve2(Br.easing,"cubicOut"),Qr=0):(Yr=_r.getShallow(Gr?"animationDurationUpdate":"animationDuration"),Kr=_r.getShallow(Gr?"animationEasingUpdate":"animationEasing"),Qr=_r.getShallow(Gr?"animationDelayUpdate":"animationDelay")),zr&&(zr.duration!=null&&(Yr=zr.duration),zr.easing!=null&&(Kr=zr.easing),zr.delay!=null&&(Qr=zr.delay)),isFunction(Qr)&&(Qr=Qr($r,Fr)),isFunction(Yr)&&(Yr=Yr($r));var Jr={duration:Yr||0,delay:Qr,easing:Kr};return Jr}else return null}function animateOrSetProps(Fe,_r,$r,Br,Fr,zr,jr){var Ur=!1,Gr;isFunction(Fr)?(jr=zr,zr=Fr,Fr=null):isObject$3(Fr)&&(zr=Fr.cb,jr=Fr.during,Ur=Fr.isFrom,Gr=Fr.removeOpt,Fr=Fr.dataIndex);var Yr=Fe==="leave";Yr||_r.stopAnimation("leave");var Kr=getAnimationConfig(Fe,Br,Fr,Yr?Gr||{}:null,Br&&Br.getAnimationDelayParams?Br.getAnimationDelayParams(_r,Fr):null);if(Kr&&Kr.duration>0){var Qr=Kr.duration,Jr=Kr.delay,rn=Kr.easing,an={duration:Qr,delay:Jr||0,easing:rn,done:zr,force:!!zr||!!jr,setToFinal:!Yr,scope:Fe,during:jr};Ur?_r.animateFrom($r,an):_r.animateTo($r,an)}else _r.stopAnimation(),!Ur&&_r.attr($r),jr&&jr(1),zr&&zr()}function updateProps$1(Fe,_r,$r,Br,Fr,zr){animateOrSetProps("update",Fe,_r,$r,Br,Fr,zr)}function initProps(Fe,_r,$r,Br,Fr,zr){animateOrSetProps("enter",Fe,_r,$r,Br,Fr,zr)}function isElementRemoved(Fe){if(!Fe.__zr)return!0;for(var _r=0;_r<Fe.animators.length;_r++){var $r=Fe.animators[_r];if($r.scope==="leave")return!0}return!1}function removeElement(Fe,_r,$r,Br,Fr,zr){isElementRemoved(Fe)||animateOrSetProps("leave",Fe,_r,$r,Br,Fr,zr)}function fadeOutDisplayable(Fe,_r,$r,Br){Fe.removeTextContent(),Fe.removeTextGuideLine(),removeElement(Fe,{style:{opacity:0}},_r,$r,Br)}function removeElementWithFadeOut(Fe,_r,$r){function Br(){Fe.parent&&Fe.parent.remove(Fe)}Fe.isGroup?Fe.traverse(function(Fr){Fr.isGroup||fadeOutDisplayable(Fr,_r,$r,Br)}):fadeOutDisplayable(Fe,_r,$r,Br)}function saveOldStyle(Fe){transitionStore(Fe).oldStyle=Fe.style}function getOldStyle(Fe){return transitionStore(Fe).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(Fe){return Path$1.extend(Fe)}var extendPathFromString=extendFromString;function extendPath(Fe,_r){return extendPathFromString(Fe,_r)}function registerShape(Fe,_r){_customShapeMap[Fe]=_r}function getShapeClass(Fe){if(_customShapeMap.hasOwnProperty(Fe))return _customShapeMap[Fe]}function makePath(Fe,_r,$r,Br){var Fr=createFromString(Fe,_r);return $r&&(Br==="center"&&($r=centerGraphic($r,Fr.getBoundingRect())),resizePath(Fr,$r)),Fr}function makeImage(Fe,_r,$r){var Br=new ZRImage$1({style:{image:Fe,x:_r.x,y:_r.y,width:_r.width,height:_r.height},onload:function(Fr){if($r==="center"){var zr={width:Fr.width,height:Fr.height};Br.setStyle(centerGraphic(_r,zr))}}});return Br}function centerGraphic(Fe,_r){var $r=_r.width/_r.height,Br=Fe.height*$r,Fr;Br<=Fe.width?Fr=Fe.height:(Br=Fe.width,Fr=Br/$r);var zr=Fe.x+Fe.width/2,jr=Fe.y+Fe.height/2;return{x:zr-Br/2,y:jr-Fr/2,width:Br,height:Fr}}var mergePath=mergePath$1;function resizePath(Fe,_r){if(Fe.applyTransform){var $r=Fe.getBoundingRect(),Br=$r.calculateTransform(_r);Fe.applyTransform(Br)}}function subPixelOptimizeLine(Fe,_r){return subPixelOptimizeLine$1(Fe,Fe,{lineWidth:_r}),Fe}function subPixelOptimizeRect(Fe){return subPixelOptimizeRect$1(Fe.shape,Fe.shape,Fe.style),Fe}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(Fe,_r){for(var $r=identity([]);Fe&&Fe!==_r;)mul($r,Fe.getLocalTransform(),$r),Fe=Fe.parent;return $r}function applyTransform(Fe,_r,$r){return _r&&!isArrayLike(_r)&&(_r=Transformable$1.getLocalTransform(_r)),$r&&(_r=invert([],_r)),applyTransform$1([],Fe,_r)}function transformDirection(Fe,_r,$r){var Br=_r[4]===0||_r[5]===0||_r[0]===0?1:Math.abs(2*_r[4]/_r[0]),Fr=_r[4]===0||_r[5]===0||_r[2]===0?1:Math.abs(2*_r[4]/_r[2]),zr=[Fe==="left"?-Br:Fe==="right"?Br:0,Fe==="top"?-Fr:Fe==="bottom"?Fr:0];return zr=applyTransform(zr,_r,$r),Math.abs(zr[0])>Math.abs(zr[1])?zr[0]>0?"right":"left":zr[1]>0?"bottom":"top"}function isNotGroup(Fe){return!Fe.isGroup}function isPath$1(Fe){return Fe.shape!=null}function groupTransition(Fe,_r,$r){if(!Fe||!_r)return;function Br(jr){var Ur={};return jr.traverse(function(Gr){isNotGroup(Gr)&&Gr.anid&&(Ur[Gr.anid]=Gr)}),Ur}function Fr(jr){var Ur={x:jr.x,y:jr.y,rotation:jr.rotation};return isPath$1(jr)&&(Ur.shape=extend$1({},jr.shape)),Ur}var zr=Br(Fe);_r.traverse(function(jr){if(isNotGroup(jr)&&jr.anid){var Ur=zr[jr.anid];if(Ur){var Gr=Fr(jr);jr.attr(Fr(Ur)),updateProps$1(jr,Gr,$r,getECData(jr).dataIndex)}}})}function clipPointsByRect(Fe,_r){return map$1(Fe,function($r){var Br=$r[0];Br=mathMax$6(Br,_r.x),Br=mathMin$6(Br,_r.x+_r.width);var Fr=$r[1];return Fr=mathMax$6(Fr,_r.y),Fr=mathMin$6(Fr,_r.y+_r.height),[Br,Fr]})}function clipRectByRect(Fe,_r){var $r=mathMax$6(Fe.x,_r.x),Br=mathMin$6(Fe.x+Fe.width,_r.x+_r.width),Fr=mathMax$6(Fe.y,_r.y),zr=mathMin$6(Fe.y+Fe.height,_r.y+_r.height);if(Br>=$r&&zr>=Fr)return{x:$r,y:Fr,width:Br-$r,height:zr-Fr}}function createIcon(Fe,_r,$r){var Br=extend$1({rectHover:!0},_r),Fr=Br.style={strokeNoScale:!0};if($r=$r||{x:-1,y:-1,width:2,height:2},Fe)return Fe.indexOf("image://")===0?(Fr.image=Fe.slice(8),defaults(Fr,$r),new ZRImage$1(Br)):makePath(Fe.replace("path://",""),Br,$r,"center")}function linePolygonIntersect(Fe,_r,$r,Br,Fr){for(var zr=0,jr=Fr[Fr.length-1];zr<Fr.length;zr++){var Ur=Fr[zr];if(lineLineIntersect$1(Fe,_r,$r,Br,Ur[0],Ur[1],jr[0],jr[1]))return!0;jr=Ur}}function lineLineIntersect$1(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr=$r-Fe,Yr=Br-_r,Kr=jr-Fr,Qr=Ur-zr,Jr=crossProduct2d$1(Kr,Qr,Gr,Yr);if(nearZero(Jr))return!1;var rn=Fe-Fr,an=_r-zr,ln=crossProduct2d$1(rn,an,Gr,Yr)/Jr;if(ln<0||ln>1)return!1;var dn=crossProduct2d$1(rn,an,Kr,Qr)/Jr;return!(dn<0||dn>1)}function crossProduct2d$1(Fe,_r,$r,Br){return Fe*Br-$r*_r}function nearZero(Fe){return Fe<=1e-6&&Fe>=-1e-6}function setTooltipConfig(Fe){var _r=Fe.itemTooltipOption,$r=Fe.componentModel,Br=Fe.itemName,Fr=isString(_r)?{formatter:_r}:_r,zr=$r.mainType,jr=$r.componentIndex,Ur={componentType:zr,name:Br,$vars:["name"]};Ur[zr+"Index"]=jr;var Gr=Fe.formatterParamsExtra;Gr&&each$f(keys(Gr),function(Kr){hasOwn(Ur,Kr)||(Ur[Kr]=Gr[Kr],Ur.$vars.push(Kr))});var Yr=getECData(Fe.el);Yr.componentMainType=zr,Yr.componentIndex=jr,Yr.tooltipConfig={name:Br,option:defaults({content:Br,formatterParams:Ur},Fr)}}function traverseElement(Fe,_r){var $r;Fe.isGroup&&($r=_r(Fe)),$r||Fe.traverse(_r)}function traverseElements(Fe,_r){if(Fe)if(isArray$1(Fe))for(var $r=0;$r<Fe.length;$r++)traverseElement(Fe[$r],_r);else traverseElement(Fe,_r)}registerShape("circle",Circle$1);registerShape("ellipse",Ellipse$1);registerShape("sector",Sector$1);registerShape("ring",Ring$1);registerShape("polygon",Polygon$1);registerShape("polyline",Polyline$3);registerShape("rect",Rect$3);registerShape("line",Line$3);registerShape("bezierCurve",BezierCurve$1);registerShape("arc",Arc$1);const graphic$1=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$4,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$3,LinearGradient:LinearGradient$1,OrientedBoundingRect:OrientedBoundingRect$1,Path:Path$1,Point:Point$1,Polygon:Polygon$1,Polyline:Polyline$3,RadialGradient:RadialGradient$1,Rect:Rect$3,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,groupTransition,initProps,isElementRemoved,lineLineIntersect:lineLineIntersect$1,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(Fe,_r){for(var $r=0;$r<SPECIAL_STATES.length;$r++){var Br=SPECIAL_STATES[$r],Fr=_r[Br],zr=Fe.ensureState(Br);zr.style=zr.style||{},zr.style.text=Fr}var jr=Fe.currentStates.slice();Fe.clearStates(!0),Fe.setStyle({text:_r.normal}),Fe.useStates(jr,!0)}function getLabelText(Fe,_r,$r){var Br=Fe.labelFetcher,Fr=Fe.labelDataIndex,zr=Fe.labelDimIndex,jr=_r.normal,Ur;Br&&(Ur=Br.getFormattedLabel(Fr,"normal",null,zr,jr&&jr.get("formatter"),$r!=null?{interpolatedValue:$r}:null)),Ur==null&&(Ur=isFunction(Fe.defaultText)?Fe.defaultText(Fr,Fe,$r):Fe.defaultText);for(var Gr={normal:Ur},Yr=0;Yr<SPECIAL_STATES.length;Yr++){var Kr=SPECIAL_STATES[Yr],Qr=_r[Kr];Gr[Kr]=retrieve2(Br?Br.getFormattedLabel(Fr,Kr,null,zr,Qr&&Qr.get("formatter")):null,Ur)}return Gr}function setLabelStyle(Fe,_r,$r,Br){$r=$r||EMPTY_OBJ;for(var Fr=Fe instanceof ZRText$1,zr=!1,jr=0;jr<DISPLAY_STATES.length;jr++){var Ur=_r[DISPLAY_STATES[jr]];if(Ur&&Ur.getShallow("show")){zr=!0;break}}var Gr=Fr?Fe:Fe.getTextContent();if(zr){Fr||(Gr||(Gr=new ZRText$1,Fe.setTextContent(Gr)),Fe.stateProxy&&(Gr.stateProxy=Fe.stateProxy));var Yr=getLabelText($r,_r),Kr=_r.normal,Qr=!!Kr.getShallow("show"),Jr=createTextStyle$1(Kr,Br&&Br.normal,$r,!1,!Fr);Jr.text=Yr.normal,Fr||Fe.setTextConfig(createTextConfig(Kr,$r,!1));for(var jr=0;jr<SPECIAL_STATES.length;jr++){var rn=SPECIAL_STATES[jr],Ur=_r[rn];if(Ur){var an=Gr.ensureState(rn),ln=!!retrieve2(Ur.getShallow("show"),Qr);if(ln!==Qr&&(an.ignore=!ln),an.style=createTextStyle$1(Ur,Br&&Br[rn],$r,!0,!Fr),an.style.text=Yr[rn],!Fr){var dn=Fe.ensureState(rn);dn.textConfig=createTextConfig(Ur,$r,!0)}}}Gr.silent=!!Kr.getShallow("silent"),Gr.style.x!=null&&(Jr.x=Gr.style.x),Gr.style.y!=null&&(Jr.y=Gr.style.y),Gr.ignore=!Qr,Gr.useStyle(Jr),Gr.dirty(),$r.enableTextSetter&&(labelInner(Gr).setLabelText=function(hn){var gn=getLabelText($r,_r,hn);setLabelText(Gr,gn)})}else Gr&&(Gr.ignore=!0);Fe.dirty()}function getLabelStatesModels(Fe,_r){_r=_r||"label";for(var $r={normal:Fe.getModel(_r)},Br=0;Br<SPECIAL_STATES.length;Br++){var Fr=SPECIAL_STATES[Br];$r[Fr]=Fe.getModel([Fr,_r])}return $r}function createTextStyle$1(Fe,_r,$r,Br,Fr){var zr={};return setTextStyleCommon(zr,Fe,$r,Br,Fr),_r&&extend$1(zr,_r),zr}function createTextConfig(Fe,_r,$r){_r=_r||{};var Br={},Fr,zr=Fe.getShallow("rotate"),jr=retrieve2(Fe.getShallow("distance"),$r?null:5),Ur=Fe.getShallow("offset");return Fr=Fe.getShallow("position")||($r?null:"inside"),Fr==="outside"&&(Fr=_r.defaultOutsidePosition||"top"),Fr!=null&&(Br.position=Fr),Ur!=null&&(Br.offset=Ur),zr!=null&&(zr*=Math.PI/180,Br.rotation=zr),jr!=null&&(Br.distance=jr),Br.outsideFill=Fe.get("color")==="inherit"?_r.inheritColor||null:"auto",Br}function setTextStyleCommon(Fe,_r,$r,Br,Fr){$r=$r||EMPTY_OBJ;var zr=_r.ecModel,jr=zr&&zr.option.textStyle,Ur=getRichItemNames(_r),Gr;if(Ur){Gr={};for(var Yr in Ur)if(Ur.hasOwnProperty(Yr)){var Kr=_r.getModel(["rich",Yr]);setTokenTextStyle(Gr[Yr]={},Kr,jr,$r,Br,Fr,!1,!0)}}Gr&&(Fe.rich=Gr);var Qr=_r.get("overflow");Qr&&(Fe.overflow=Qr);var Jr=_r.get("minMargin");Jr!=null&&(Fe.margin=Jr),setTokenTextStyle(Fe,_r,jr,$r,Br,Fr,!0,!1)}function getRichItemNames(Fe){for(var _r;Fe&&Fe!==Fe.ecModel;){var $r=(Fe.option||EMPTY_OBJ).rich;if($r){_r=_r||{};for(var Br=keys($r),Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr];_r[zr]=1}}Fe=Fe.parentModel}return _r}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(Fe,_r,$r,Br,Fr,zr,jr,Ur){$r=!Fr&&$r||EMPTY_OBJ;var Gr=Br&&Br.inheritColor,Yr=_r.getShallow("color"),Kr=_r.getShallow("textBorderColor"),Qr=retrieve2(_r.getShallow("opacity"),$r.opacity);(Yr==="inherit"||Yr==="auto")&&(Gr?Yr=Gr:Yr=null),(Kr==="inherit"||Kr==="auto")&&(Gr?Kr=Gr:Kr=null),zr||(Yr=Yr||$r.color,Kr=Kr||$r.textBorderColor),Yr!=null&&(Fe.fill=Yr),Kr!=null&&(Fe.stroke=Kr);var Jr=retrieve2(_r.getShallow("textBorderWidth"),$r.textBorderWidth);Jr!=null&&(Fe.lineWidth=Jr);var rn=retrieve2(_r.getShallow("textBorderType"),$r.textBorderType);rn!=null&&(Fe.lineDash=rn);var an=retrieve2(_r.getShallow("textBorderDashOffset"),$r.textBorderDashOffset);an!=null&&(Fe.lineDashOffset=an),!Fr&&Qr==null&&!Ur&&(Qr=Br&&Br.defaultOpacity),Qr!=null&&(Fe.opacity=Qr),!Fr&&!zr&&Fe.fill==null&&Br.inheritColor&&(Fe.fill=Br.inheritColor);for(var ln=0;ln<TEXT_PROPS_WITH_GLOBAL.length;ln++){var dn=TEXT_PROPS_WITH_GLOBAL[ln],hn=retrieve2(_r.getShallow(dn),$r[dn]);hn!=null&&(Fe[dn]=hn)}for(var ln=0;ln<TEXT_PROPS_SELF.length;ln++){var dn=TEXT_PROPS_SELF[ln],hn=_r.getShallow(dn);hn!=null&&(Fe[dn]=hn)}if(Fe.verticalAlign==null){var gn=_r.getShallow("baseline");gn!=null&&(Fe.verticalAlign=gn)}if(!jr||!Br.disableBox){for(var ln=0;ln<TEXT_PROPS_BOX.length;ln++){var dn=TEXT_PROPS_BOX[ln],hn=_r.getShallow(dn);hn!=null&&(Fe[dn]=hn)}var bn=_r.getShallow("borderType");bn!=null&&(Fe.borderDash=bn),(Fe.backgroundColor==="auto"||Fe.backgroundColor==="inherit")&&Gr&&(Fe.backgroundColor=Gr),(Fe.borderColor==="auto"||Fe.borderColor==="inherit")&&Gr&&(Fe.borderColor=Gr)}}function getFont(Fe,_r){var $r=_r&&_r.getModel("textStyle");return trim$1([Fe.fontStyle||$r&&$r.getShallow("fontStyle")||"",Fe.fontWeight||$r&&$r.getShallow("fontWeight")||"",(Fe.fontSize||$r&&$r.getShallow("fontSize")||12)+"px",Fe.fontFamily||$r&&$r.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(Fe,_r,$r,Br){if(Fe){var Fr=labelInner(Fe);Fr.prevValue=Fr.value,Fr.value=$r;var zr=_r.normal;Fr.valueAnimation=zr.get("valueAnimation"),Fr.valueAnimation&&(Fr.precision=zr.get("precision"),Fr.defaultInterpolatedText=Br,Fr.statesModels=_r)}}function animateLabelValue(Fe,_r,$r,Br,Fr){var zr=labelInner(Fe);if(!zr.valueAnimation||zr.prevValue===zr.value)return;var jr=zr.defaultInterpolatedText,Ur=retrieve2(zr.interpolatedValue,zr.prevValue),Gr=zr.value;function Yr(Kr){var Qr=interpolateRawValues($r,zr.precision,Ur,Gr,Kr);zr.interpolatedValue=Kr===1?null:Qr;var Jr=getLabelText({labelDataIndex:_r,labelFetcher:Fr,defaultText:jr?jr(Qr):Qr+""},zr.statesModels,Qr);setLabelText(Fe,Jr)}Fe.percent=0,(zr.prevValue==null?initProps:updateProps$1)(Fe,{percent:1},Br,_r,null,Yr)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function Fe(){}return Fe.prototype.getTextColor=function(_r){var $r=this.ecModel;return this.getShallow("color")||(!_r&&$r?$r.get(PATH_COLOR):null)},Fe.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},Fe.prototype.getTextRect=function(_r){for(var $r={text:_r,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},Br=0;Br<textStyleParams.length;Br++)$r[textStyleParams[Br]]=this.getShallow(textStyleParams[Br]);return tmpText.useStyle($r),tmpText.update(),tmpText.getBoundingRect()},Fe}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function Fe(){}return Fe.prototype.getLineStyle=function(_r){return getLineStyle(this,_r)},Fe}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function Fe(){}return Fe.prototype.getItemStyle=function(_r,$r){return getItemStyle(this,_r,$r)},Fe}(),Model=function(){function Fe(_r,$r,Br){this.parentModel=$r,this.ecModel=Br,this.option=_r}return Fe.prototype.init=function(_r,$r,Br){},Fe.prototype.mergeOption=function(_r,$r){merge(this.option,_r,!0)},Fe.prototype.get=function(_r,$r){return _r==null?this.option:this._doGet(this.parsePath(_r),!$r&&this.parentModel)},Fe.prototype.getShallow=function(_r,$r){var Br=this.option,Fr=Br==null?Br:Br[_r];if(Fr==null&&!$r){var zr=this.parentModel;zr&&(Fr=zr.getShallow(_r))}return Fr},Fe.prototype.getModel=function(_r,$r){var Br=_r!=null,Fr=Br?this.parsePath(_r):null,zr=Br?this._doGet(Fr):this.option;return $r=$r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(Fr)),new Fe(zr,$r,this.ecModel)},Fe.prototype.isEmpty=function(){return this.option==null},Fe.prototype.restoreData=function(){},Fe.prototype.clone=function(){var _r=this.constructor;return new _r(clone$4(this.option))},Fe.prototype.parsePath=function(_r){return typeof _r=="string"?_r.split("."):_r},Fe.prototype.resolveParentPath=function(_r){return _r},Fe.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},Fe.prototype._doGet=function(_r,$r){var Br=this.option;if(!_r)return Br;for(var Fr=0;Fr<_r.length&&!(_r[Fr]&&(Br=Br&&typeof Br=="object"?Br[_r[Fr]]:null,Br==null));Fr++);return Br==null&&$r&&(Br=$r._doGet(this.resolveParentPath(_r),$r.parentModel)),Br},Fe}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(Fe){return[Fe||"",base++].join("_")}function enableSubTypeDefaulter(Fe){var _r={};Fe.registerSubTypeDefaulter=function($r,Br){var Fr=parseClassType($r);_r[Fr.main]=Br},Fe.determineSubType=function($r,Br){var Fr=Br.type;if(!Fr){var zr=parseClassType($r).main;Fe.hasSubTypes($r)&&_r[zr]&&(Fr=_r[zr](Br))}return Fr}}function enableTopologicalTravel(Fe,_r){Fe.topologicalTravel=function(zr,jr,Ur,Gr){if(!zr.length)return;var Yr=$r(jr),Kr=Yr.graph,Qr=Yr.noEntryList,Jr={};for(each$f(zr,function(gn){Jr[gn]=!0});Qr.length;){var rn=Qr.pop(),an=Kr[rn],ln=!!Jr[rn];ln&&(Ur.call(Gr,rn,an.originalDeps.slice()),delete Jr[rn]),each$f(an.successor,ln?hn:dn)}each$f(Jr,function(){var gn="";throw new Error(gn)});function dn(gn){Kr[gn].entryCount--,Kr[gn].entryCount===0&&Qr.push(gn)}function hn(gn){Jr[gn]=!0,dn(gn)}};function $r(zr){var jr={},Ur=[];return each$f(zr,function(Gr){var Yr=Br(jr,Gr),Kr=Yr.originalDeps=_r(Gr),Qr=Fr(Kr,zr);Yr.entryCount=Qr.length,Yr.entryCount===0&&Ur.push(Gr),each$f(Qr,function(Jr){indexOf(Yr.predecessor,Jr)<0&&Yr.predecessor.push(Jr);var rn=Br(jr,Jr);indexOf(rn.successor,Jr)<0&&rn.successor.push(Gr)})}),{graph:jr,noEntryList:Ur}}function Br(zr,jr){return zr[jr]||(zr[jr]={predecessor:[],successor:[]}),zr[jr]}function Fr(zr,jr){var Ur=[];return each$f(zr,function(Gr){indexOf(jr,Gr)>=0&&Ur.push(Gr)}),Ur}}function inheritDefaultOption(Fe,_r){return merge(merge({},Fe,!0),_r,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],monthAbbr:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],dayOfWeek:["æææ¥","ææä¸","ææäº","ææä¸","ææå","ææäº","ææå­"],dayOfWeekAbbr:["æ¥","ä¸","äº","ä¸","å","äº","å­"]},legend:{selector:{all:"å¨é",inverse:"åé"}},toolbox:{brush:{title:{rect:"ç©å½¢éæ©",polygon:"åé",lineX:"æ¨ªåéæ©",lineY:"çºµåéæ©",keep:"ä¿æéæ©",clear:"æ¸é¤éæ©"}},dataView:{title:"æ°æ®è§å¾",lang:["æ°æ®è§å¾","å³é­","å·æ°"]},dataZoom:{title:{zoom:"åºåç¼©æ¾",back:"åºåç¼©æ¾è¿å"}},magicType:{title:{line:"åæ¢ä¸ºæçº¿å¾",bar:"åæ¢ä¸ºæ±ç¶å¾",stack:"åæ¢ä¸ºå å ",tiled:"åæ¢ä¸ºå¹³éº"}},restore:{title:"è¿å"},saveAsImage:{title:"ä¿å­ä¸ºå¾ç",lang:["å³é®å¦å­ä¸ºå¾ç"]}},series:{typeNames:{pie:"é¥¼å¾",bar:"æ±ç¶å¾",line:"æçº¿å¾",scatter:"æ£ç¹å¾",effectScatter:"æ¶æ¼ªæ£ç¹å¾",radar:"é·è¾¾å¾",tree:"æ å¾",treemap:"ç©å½¢æ å¾",boxplot:"ç®±åå¾",candlestick:"Kçº¿å¾",k:"Kçº¿å¾",heatmap:"ç­åå¾",map:"å°å¾",parallel:"å¹³è¡åæ å¾",lines:"çº¿å¾",graph:"å³ç³»å¾",sankey:"æ¡åºå¾",funnel:"æ¼æå¾",gauge:"ä»ªè¡¨çå¾",pictorialBar:"è±¡å½¢æ±å¾",themeRiver:"ä¸»é¢æ²³æµå¾",sunburst:"æ­æ¥å¾"}},aria:{general:{withTitle:"è¿æ¯ä¸ä¸ªå³äºâ{title}âçå¾è¡¨ã",withoutTitle:"è¿æ¯ä¸ä¸ªå¾è¡¨ï¼"},series:{single:{prefix:"",withName:"å¾è¡¨ç±»åæ¯{seriesType}ï¼è¡¨ç¤º{seriesName}ã",withoutName:"å¾è¡¨ç±»åæ¯{seriesType}ã"},multiple:{prefix:"å®ç±{seriesCount}ä¸ªå¾è¡¨ç³»åç»æã",withName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ªè¡¨ç¤º{seriesName}ç{seriesType}ï¼",withoutName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ª{seriesType}ï¼",separator:{middle:"ï¼",end:"ã"}}},data:{allData:"å¶æ°æ®æ¯ââ",partialData:"å¶ä¸­ï¼å{displayCnt}é¡¹æ¯ââ",withName:"{name}çæ°æ®æ¯{value}",withoutName:"{value}",separator:{middle:"ï¼",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var Fe=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return Fe.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(Fe,_r){Fe=Fe.toUpperCase(),localeModels[Fe]=new Model$1(_r),localeStorage[Fe]=_r}function createLocaleObject(Fe){if(isString(Fe)){var _r=localeStorage[Fe.toUpperCase()]||{};return Fe===LOCALE_ZH||Fe===LOCALE_EN?clone$4(_r):merge(clone$4(_r),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(Fe),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(Fe){return localeModels[Fe]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(Fe,_r){return Fe+="","0000".substr(0,_r-Fe.length)+Fe}function getPrimaryTimeUnit(Fe){switch(Fe){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return Fe}}function isPrimaryTimeUnit(Fe){return Fe===getPrimaryTimeUnit(Fe)}function getDefaultFormatPrecisionOfInterval(Fe){switch(Fe){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format$1(Fe,_r,$r,Br){var Fr=parseDate(Fe),zr=Fr[fullYearGetterName($r)](),jr=Fr[monthGetterName($r)]()+1,Ur=Math.floor((jr-1)/3)+1,Gr=Fr[dateGetterName($r)](),Yr=Fr["get"+($r?"UTC":"")+"Day"](),Kr=Fr[hoursGetterName($r)](),Qr=(Kr-1)%12+1,Jr=Fr[minutesGetterName($r)](),rn=Fr[secondsGetterName($r)](),an=Fr[millisecondsGetterName($r)](),ln=Br instanceof Model$1?Br:getLocaleModel(Br||SYSTEM_LANG)||getDefaultLocaleModel(),dn=ln.getModel("time"),hn=dn.get("month"),gn=dn.get("monthAbbr"),bn=dn.get("dayOfWeek"),kn=dn.get("dayOfWeekAbbr");return(_r||"").replace(/{yyyy}/g,zr+"").replace(/{yy}/g,pad(zr%100+"",2)).replace(/{Q}/g,Ur+"").replace(/{MMMM}/g,hn[jr-1]).replace(/{MMM}/g,gn[jr-1]).replace(/{MM}/g,pad(jr,2)).replace(/{M}/g,jr+"").replace(/{dd}/g,pad(Gr,2)).replace(/{d}/g,Gr+"").replace(/{eeee}/g,bn[Yr]).replace(/{ee}/g,kn[Yr]).replace(/{e}/g,Yr+"").replace(/{HH}/g,pad(Kr,2)).replace(/{H}/g,Kr+"").replace(/{hh}/g,pad(Qr+"",2)).replace(/{h}/g,Qr+"").replace(/{mm}/g,pad(Jr,2)).replace(/{m}/g,Jr+"").replace(/{ss}/g,pad(rn,2)).replace(/{s}/g,rn+"").replace(/{SSS}/g,pad(an,3)).replace(/{S}/g,an+"")}function leveledFormat(Fe,_r,$r,Br,Fr){var zr=null;if(isString($r))zr=$r;else if(isFunction($r))zr=$r(Fe.value,_r,{level:Fe.level});else{var jr=extend$1({},defaultLeveledFormatter);if(Fe.level>0)for(var Ur=0;Ur<primaryTimeUnits.length;++Ur)jr[primaryTimeUnits[Ur]]="{primary|"+jr[primaryTimeUnits[Ur]]+"}";var Gr=$r?$r.inherit===!1?$r:defaults($r,jr):jr,Yr=getUnitFromValue(Fe.value,Fr);if(Gr[Yr])zr=Gr[Yr];else if(Gr.inherit){for(var Kr=timeUnits.indexOf(Yr),Ur=Kr-1;Ur>=0;--Ur)if(Gr[Yr]){zr=Gr[Yr];break}zr=zr||jr.none}if(isArray$1(zr)){var Qr=Fe.level==null?0:Fe.level>=0?Fe.level:zr.length+Fe.level;Qr=Math.min(Qr,zr.length-1),zr=zr[Qr]}}return format$1(new Date(Fe.value),zr,Fr,Br)}function getUnitFromValue(Fe,_r){var $r=parseDate(Fe),Br=$r[monthGetterName(_r)]()+1,Fr=$r[dateGetterName(_r)](),zr=$r[hoursGetterName(_r)](),jr=$r[minutesGetterName(_r)](),Ur=$r[secondsGetterName(_r)](),Gr=$r[millisecondsGetterName(_r)](),Yr=Gr===0,Kr=Yr&&Ur===0,Qr=Kr&&jr===0,Jr=Qr&&zr===0,rn=Jr&&Fr===1,an=rn&&Br===1;return an?"year":rn?"month":Jr?"day":Qr?"hour":Kr?"minute":Yr?"second":"millisecond"}function getUnitValue(Fe,_r,$r){var Br=isNumber(Fe)?parseDate(Fe):Fe;switch(_r=_r||getUnitFromValue(Fe,$r),_r){case"year":return Br[fullYearGetterName($r)]();case"half-year":return Br[monthGetterName($r)]()>=6?1:0;case"quarter":return Math.floor((Br[monthGetterName($r)]()+1)/4);case"month":return Br[monthGetterName($r)]();case"day":return Br[dateGetterName($r)]();case"half-day":return Br[hoursGetterName($r)]()/24;case"hour":return Br[hoursGetterName($r)]();case"minute":return Br[minutesGetterName($r)]();case"second":return Br[secondsGetterName($r)]();case"millisecond":return Br[millisecondsGetterName($r)]()}}function fullYearGetterName(Fe){return Fe?"getUTCFullYear":"getFullYear"}function monthGetterName(Fe){return Fe?"getUTCMonth":"getMonth"}function dateGetterName(Fe){return Fe?"getUTCDate":"getDate"}function hoursGetterName(Fe){return Fe?"getUTCHours":"getHours"}function minutesGetterName(Fe){return Fe?"getUTCMinutes":"getMinutes"}function secondsGetterName(Fe){return Fe?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(Fe){return Fe?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(Fe){return Fe?"setUTCFullYear":"setFullYear"}function monthSetterName(Fe){return Fe?"setUTCMonth":"setMonth"}function dateSetterName(Fe){return Fe?"setUTCDate":"setDate"}function hoursSetterName(Fe){return Fe?"setUTCHours":"setHours"}function minutesSetterName(Fe){return Fe?"setUTCMinutes":"setMinutes"}function secondsSetterName(Fe){return Fe?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(Fe){return Fe?"setUTCMilliseconds":"setMilliseconds"}function getTextRect(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr=new ZRText$1({style:{text:Fe,font:_r,align:$r,verticalAlign:Br,padding:Fr,rich:zr,overflow:jr?"truncate":null,lineHeight:Ur}});return Gr.getBoundingRect()}function addCommas(Fe){if(!isNumeric(Fe))return isString(Fe)?Fe:"-";var _r=(Fe+"").split(".");return _r[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(_r.length>1?"."+_r[1]:"")}function toCamelCase(Fe,_r){return Fe=(Fe||"").toLowerCase().replace(/-(.)/g,function($r,Br){return Br.toUpperCase()}),_r&&Fe&&(Fe=Fe.charAt(0).toUpperCase()+Fe.slice(1)),Fe}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(Fe,_r,$r){var Br="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function Fr(Kr){return Kr&&trim$1(Kr)?Kr:"-"}function zr(Kr){return!!(Kr!=null&&!isNaN(Kr)&&isFinite(Kr))}var jr=_r==="time",Ur=Fe instanceof Date;if(jr||Ur){var Gr=jr?parseDate(Fe):Fe;if(isNaN(+Gr)){if(Ur)return"-"}else return format$1(Gr,Br,$r)}if(_r==="ordinal")return isStringSafe(Fe)?Fr(Fe):isNumber(Fe)&&zr(Fe)?Fe+"":"-";var Yr=numericToNumber(Fe);return zr(Yr)?addCommas(Yr):isStringSafe(Fe)?Fr(Fe):typeof Fe=="boolean"?Fe+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(Fe,_r){return"{"+Fe+(_r??"")+"}"};function formatTpl(Fe,_r,$r){isArray$1(_r)||(_r=[_r]);var Br=_r.length;if(!Br)return"";for(var Fr=_r[0].$vars||[],zr=0;zr<Fr.length;zr++){var jr=TPL_VAR_ALIAS[zr];Fe=Fe.replace(wrapVar(jr),wrapVar(jr,0))}for(var Ur=0;Ur<Br;Ur++)for(var Gr=0;Gr<Fr.length;Gr++){var Yr=_r[Ur][Fr[Gr]];Fe=Fe.replace(wrapVar(TPL_VAR_ALIAS[Gr],Ur),$r?encodeHTML(Yr):Yr)}return Fe}function formatTplSimple(Fe,_r,$r){return each$f(_r,function(Br,Fr){Fe=Fe.replace("{"+Fr+"}",$r?encodeHTML(Br):Br)}),Fe}function getTooltipMarker(Fe,_r){var $r=isString(Fe)?{color:Fe,extraCssText:_r}:Fe||{},Br=$r.color,Fr=$r.type;_r=$r.extraCssText;var zr=$r.renderMode||"html";if(!Br)return"";if(zr==="html")return Fr==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(Br)+";"+(_r||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(Br)+";"+(_r||"")+'"></span>';var jr=$r.markerId||"markerX";return{renderMode:zr,content:"{"+jr+"|}  ",style:Fr==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:Br}:{width:10,height:10,borderRadius:5,backgroundColor:Br}}}function formatTime(Fe,_r,$r){(Fe==="week"||Fe==="month"||Fe==="quarter"||Fe==="half-year"||Fe==="year")&&(Fe=`MM-dd
yyyy`);var Br=parseDate(_r),Fr=$r?"getUTC":"get",zr=Br[Fr+"FullYear"](),jr=Br[Fr+"Month"]()+1,Ur=Br[Fr+"Date"](),Gr=Br[Fr+"Hours"](),Yr=Br[Fr+"Minutes"](),Kr=Br[Fr+"Seconds"](),Qr=Br[Fr+"Milliseconds"]();return Fe=Fe.replace("MM",pad(jr,2)).replace("M",jr).replace("yyyy",zr).replace("yy",pad(zr%100+"",2)).replace("dd",pad(Ur,2)).replace("d",Ur).replace("hh",pad(Gr,2)).replace("h",Gr).replace("mm",pad(Yr,2)).replace("m",Yr).replace("ss",pad(Kr,2)).replace("s",Kr).replace("SSS",pad(Qr,3)),Fe}function capitalFirst(Fe){return Fe&&Fe.charAt(0).toUpperCase()+Fe.substr(1)}function convertToColorString(Fe,_r){return _r=_r||"transparent",isString(Fe)?Fe:isObject$3(Fe)&&Fe.colorStops&&(Fe.colorStops[0]||{}).color||_r}function windowOpen(Fe,_r){if(_r==="_blank"||_r==="blank"){var $r=window.open();$r.opener=null,$r.location.href=Fe}else window.open(Fe,_r)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(Fe,_r,$r,Br,Fr){var zr=0,jr=0;Br==null&&(Br=1/0),Fr==null&&(Fr=1/0);var Ur=0;_r.eachChild(function(Gr,Yr){var Kr=Gr.getBoundingRect(),Qr=_r.childAt(Yr+1),Jr=Qr&&Qr.getBoundingRect(),rn,an;if(Fe==="horizontal"){var ln=Kr.width+(Jr?-Jr.x+Kr.x:0);rn=zr+ln,rn>Br||Gr.newline?(zr=0,rn=ln,jr+=Ur+$r,Ur=Kr.height):Ur=Math.max(Ur,Kr.height)}else{var dn=Kr.height+(Jr?-Jr.y+Kr.y:0);an=jr+dn,an>Fr||Gr.newline?(zr+=Ur+$r,jr=0,an=dn,Ur=Kr.width):Ur=Math.max(Ur,Kr.width)}Gr.newline||(Gr.x=zr,Gr.y=jr,Gr.markRedraw(),Fe==="horizontal"?zr=rn+$r:jr=an+$r)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(Fe,_r,$r){var Br=_r.width,Fr=_r.height,zr=parsePercent(Fe.left,Br),jr=parsePercent(Fe.top,Fr),Ur=parsePercent(Fe.right,Br),Gr=parsePercent(Fe.bottom,Fr);return(isNaN(zr)||isNaN(parseFloat(Fe.left)))&&(zr=0),(isNaN(Ur)||isNaN(parseFloat(Fe.right)))&&(Ur=Br),(isNaN(jr)||isNaN(parseFloat(Fe.top)))&&(jr=0),(isNaN(Gr)||isNaN(parseFloat(Fe.bottom)))&&(Gr=Fr),$r=normalizeCssArray($r||0),{width:Math.max(Ur-zr-$r[1]-$r[3],0),height:Math.max(Gr-jr-$r[0]-$r[2],0)}}function getLayoutRect(Fe,_r,$r){$r=normalizeCssArray($r||0);var Br=_r.width,Fr=_r.height,zr=parsePercent(Fe.left,Br),jr=parsePercent(Fe.top,Fr),Ur=parsePercent(Fe.right,Br),Gr=parsePercent(Fe.bottom,Fr),Yr=parsePercent(Fe.width,Br),Kr=parsePercent(Fe.height,Fr),Qr=$r[2]+$r[0],Jr=$r[1]+$r[3],rn=Fe.aspect;switch(isNaN(Yr)&&(Yr=Br-Ur-Jr-zr),isNaN(Kr)&&(Kr=Fr-Gr-Qr-jr),rn!=null&&(isNaN(Yr)&&isNaN(Kr)&&(rn>Br/Fr?Yr=Br*.8:Kr=Fr*.8),isNaN(Yr)&&(Yr=rn*Kr),isNaN(Kr)&&(Kr=Yr/rn)),isNaN(zr)&&(zr=Br-Ur-Yr-Jr),isNaN(jr)&&(jr=Fr-Gr-Kr-Qr),Fe.left||Fe.right){case"center":zr=Br/2-Yr/2-$r[3];break;case"right":zr=Br-Yr-Jr;break}switch(Fe.top||Fe.bottom){case"middle":case"center":jr=Fr/2-Kr/2-$r[0];break;case"bottom":jr=Fr-Kr-Qr;break}zr=zr||0,jr=jr||0,isNaN(Yr)&&(Yr=Br-Jr-zr-(Ur||0)),isNaN(Kr)&&(Kr=Fr-Qr-jr-(Gr||0));var an=new BoundingRect$1(zr+$r[3],jr+$r[0],Yr,Kr);return an.margin=$r,an}function positionElement(Fe,_r,$r,Br,Fr,zr){var jr=!Fr||!Fr.hv||Fr.hv[0],Ur=!Fr||!Fr.hv||Fr.hv[1],Gr=Fr&&Fr.boundingMode||"all";if(zr=zr||Fe,zr.x=Fe.x,zr.y=Fe.y,!jr&&!Ur)return!1;var Yr;if(Gr==="raw")Yr=Fe.type==="group"?new BoundingRect$1(0,0,+_r.width||0,+_r.height||0):Fe.getBoundingRect();else if(Yr=Fe.getBoundingRect(),Fe.needLocalTransform()){var Kr=Fe.getLocalTransform();Yr=Yr.clone(),Yr.applyTransform(Kr)}var Qr=getLayoutRect(defaults({width:Yr.width,height:Yr.height},_r),$r,Br),Jr=jr?Qr.x-Yr.x:0,rn=Ur?Qr.y-Yr.y:0;return Gr==="raw"?(zr.x=Jr,zr.y=rn):(zr.x+=Jr,zr.y+=rn),zr===Fe&&Fe.markRedraw(),!0}function sizeCalculable(Fe,_r){return Fe[HV_NAMES[_r][0]]!=null||Fe[HV_NAMES[_r][1]]!=null&&Fe[HV_NAMES[_r][2]]!=null}function fetchLayoutMode(Fe){var _r=Fe.layoutMode||Fe.constructor.layoutMode;return isObject$3(_r)?_r:_r?{type:_r}:null}function mergeLayoutParam(Fe,_r,$r){var Br=$r&&$r.ignoreSize;!isArray$1(Br)&&(Br=[Br,Br]);var Fr=jr(HV_NAMES[0],0),zr=jr(HV_NAMES[1],1);Yr(HV_NAMES[0],Fe,Fr),Yr(HV_NAMES[1],Fe,zr);function jr(Kr,Qr){var Jr={},rn=0,an={},ln=0,dn=2;if(each$e(Kr,function(bn){an[bn]=Fe[bn]}),each$e(Kr,function(bn){Ur(_r,bn)&&(Jr[bn]=an[bn]=_r[bn]),Gr(Jr,bn)&&rn++,Gr(an,bn)&&ln++}),Br[Qr])return Gr(_r,Kr[1])?an[Kr[2]]=null:Gr(_r,Kr[2])&&(an[Kr[1]]=null),an;if(ln===dn||!rn)return an;if(rn>=dn)return Jr;for(var hn=0;hn<Kr.length;hn++){var gn=Kr[hn];if(!Ur(Jr,gn)&&Ur(Fe,gn)){Jr[gn]=Fe[gn];break}}return Jr}function Ur(Kr,Qr){return Kr.hasOwnProperty(Qr)}function Gr(Kr,Qr){return Kr[Qr]!=null&&Kr[Qr]!=="auto"}function Yr(Kr,Qr,Jr){each$e(Kr,function(rn){Qr[rn]=Jr[rn]})}}function getLayoutParams(Fe){return copyLayoutParams({},Fe)}function copyLayoutParams(Fe,_r){return _r&&Fe&&each$e(LOCATION_PARAMS,function($r){_r.hasOwnProperty($r)&&(Fe[$r]=_r[$r])}),Fe}var inner$l=makeInner(),ComponentModel=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this,$r,Br,Fr)||this;return zr.uid=getUID("ec_cpt_model"),zr}return _r.prototype.init=function($r,Br,Fr){this.mergeDefaultAndTheme($r,Fr)},_r.prototype.mergeDefaultAndTheme=function($r,Br){var Fr=fetchLayoutMode(this),zr=Fr?getLayoutParams($r):{},jr=Br.getTheme();merge($r,jr.get(this.mainType)),merge($r,this.getDefaultOption()),Fr&&mergeLayoutParam($r,zr,Fr)},_r.prototype.mergeOption=function($r,Br){merge(this.option,$r,!0);var Fr=fetchLayoutMode(this);Fr&&mergeLayoutParam(this.option,$r,Fr)},_r.prototype.optionUpdated=function($r,Br){},_r.prototype.getDefaultOption=function(){var $r=this.constructor;if(!isExtendedClass($r))return $r.defaultOption;var Br=inner$l(this);if(!Br.defaultOption){for(var Fr=[],zr=$r;zr;){var jr=zr.prototype.defaultOption;jr&&Fr.push(jr),zr=zr.superClass}for(var Ur={},Gr=Fr.length-1;Gr>=0;Gr--)Ur=merge(Ur,Fr[Gr],!0);Br.defaultOption=Ur}return Br.defaultOption},_r.prototype.getReferringComponents=function($r,Br){var Fr=$r+"Index",zr=$r+"Id";return queryReferringComponents(this.ecModel,$r,{index:this.get(Fr,!0),id:this.get(zr,!0)},Br)},_r.prototype.getBoxLayoutParams=function(){var $r=this;return{left:$r.get("left"),top:$r.get("top"),right:$r.get("right"),bottom:$r.get("bottom"),width:$r.get("width"),height:$r.get("height")}},_r.prototype.getZLevelKey=function(){return""},_r.prototype.setZLevel=function($r){this.option.zlevel=$r},_r.protoInitialize=function(){var $r=_r.prototype;$r.type="component",$r.id="",$r.name="",$r.mainType="",$r.subType="",$r.componentIndex=0}(),_r}(Model$1);mountExtend(ComponentModel,Model$1);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(Fe){var _r=[];return each$f(ComponentModel.getClassesByMainType(Fe),function($r){_r=_r.concat($r.dependencies||$r.prototype.dependencies||[])}),_r=map$1(_r,function($r){return parseClassType($r).main}),Fe!=="dataset"&&indexOf(_r,"dataset")<=0&&_r.unshift("dataset"),_r}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(Fe){innerGlobalModel(Fe).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(Fe,_r,$r){var Br={},Fr=querySeriesUpstreamDatasetModel(_r);if(!Fr||!Fe)return Br;var zr=[],jr=[],Ur=_r.ecModel,Gr=innerGlobalModel(Ur).datasetMap,Yr=Fr.uid+"_"+$r.seriesLayoutBy,Kr,Qr;Fe=Fe.slice(),each$f(Fe,function(ln,dn){var hn=isObject$3(ln)?ln:Fe[dn]={name:ln};hn.type==="ordinal"&&Kr==null&&(Kr=dn,Qr=an(hn)),Br[hn.name]=[]});var Jr=Gr.get(Yr)||Gr.set(Yr,{categoryWayDim:Qr,valueWayDim:0});each$f(Fe,function(ln,dn){var hn=ln.name,gn=an(ln);if(Kr==null){var bn=Jr.valueWayDim;rn(Br[hn],bn,gn),rn(jr,bn,gn),Jr.valueWayDim+=gn}else if(Kr===dn)rn(Br[hn],0,gn),rn(zr,0,gn);else{var bn=Jr.categoryWayDim;rn(Br[hn],bn,gn),rn(jr,bn,gn),Jr.categoryWayDim+=gn}});function rn(ln,dn,hn){for(var gn=0;gn<hn;gn++)ln.push(dn+gn)}function an(ln){var dn=ln.dimsDef;return dn?dn.length:1}return zr.length&&(Br.itemName=zr),jr.length&&(Br.seriesName=jr),Br}function makeSeriesEncodeForNameBased(Fe,_r,$r){var Br={},Fr=querySeriesUpstreamDatasetModel(Fe);if(!Fr)return Br;var zr=_r.sourceFormat,jr=_r.dimensionsDefine,Ur;(zr===SOURCE_FORMAT_OBJECT_ROWS||zr===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(jr,function(Kr,Qr){(isObject$3(Kr)?Kr.name:Kr)==="name"&&(Ur=Qr)});var Gr=function(){for(var Kr={},Qr={},Jr=[],rn=0,an=Math.min(5,$r);rn<an;rn++){var ln=doGuessOrdinal(_r.data,zr,_r.seriesLayoutBy,jr,_r.startIndex,rn);Jr.push(ln);var dn=ln===BE_ORDINAL.Not;if(dn&&Kr.v==null&&rn!==Ur&&(Kr.v=rn),(Kr.n==null||Kr.n===Kr.v||!dn&&Jr[Kr.n]===BE_ORDINAL.Not)&&(Kr.n=rn),hn(Kr)&&Jr[Kr.n]!==BE_ORDINAL.Not)return Kr;dn||(ln===BE_ORDINAL.Might&&Qr.v==null&&rn!==Ur&&(Qr.v=rn),(Qr.n==null||Qr.n===Qr.v)&&(Qr.n=rn))}function hn(gn){return gn.v!=null&&gn.n!=null}return hn(Kr)?Kr:hn(Qr)?Qr:null}();if(Gr){Br.value=[Gr.v];var Yr=Ur??Gr.n;Br.itemName=[Yr],Br.seriesName=[Yr]}return Br}function querySeriesUpstreamDatasetModel(Fe){var _r=Fe.get("data",!0);if(!_r)return queryReferringComponents(Fe.ecModel,"dataset",{index:Fe.get("datasetIndex",!0),id:Fe.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(Fe){return!Fe.get("transform",!0)&&!Fe.get("fromTransformResult",!0)?[]:queryReferringComponents(Fe.ecModel,"dataset",{index:Fe.get("fromDatasetIndex",!0),id:Fe.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(Fe,_r){return doGuessOrdinal(Fe.data,Fe.sourceFormat,Fe.seriesLayoutBy,Fe.dimensionsDefine,Fe.startIndex,_r)}function doGuessOrdinal(Fe,_r,$r,Br,Fr,zr){var jr,Ur=5;if(isTypedArray(Fe))return BE_ORDINAL.Not;var Gr,Yr;if(Br){var Kr=Br[zr];isObject$3(Kr)?(Gr=Kr.name,Yr=Kr.type):isString(Kr)&&(Gr=Kr)}if(Yr!=null)return Yr==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(_r===SOURCE_FORMAT_ARRAY_ROWS){var Qr=Fe;if($r===SERIES_LAYOUT_BY_ROW){for(var Jr=Qr[zr],rn=0;rn<(Jr||[]).length&&rn<Ur;rn++)if((jr=kn(Jr[Fr+rn]))!=null)return jr}else for(var rn=0;rn<Qr.length&&rn<Ur;rn++){var an=Qr[Fr+rn];if(an&&(jr=kn(an[zr]))!=null)return jr}}else if(_r===SOURCE_FORMAT_OBJECT_ROWS){var ln=Fe;if(!Gr)return BE_ORDINAL.Not;for(var rn=0;rn<ln.length&&rn<Ur;rn++){var dn=ln[rn];if(dn&&(jr=kn(dn[Gr]))!=null)return jr}}else if(_r===SOURCE_FORMAT_KEYED_COLUMNS){var hn=Fe;if(!Gr)return BE_ORDINAL.Not;var Jr=hn[Gr];if(!Jr||isTypedArray(Jr))return BE_ORDINAL.Not;for(var rn=0;rn<Jr.length&&rn<Ur;rn++)if((jr=kn(Jr[rn]))!=null)return jr}else if(_r===SOURCE_FORMAT_ORIGINAL)for(var gn=Fe,rn=0;rn<gn.length&&rn<Ur;rn++){var dn=gn[rn],bn=getDataItemValue(dn);if(!isArray$1(bn))return BE_ORDINAL.Not;if((jr=kn(bn[zr]))!=null)return jr}function kn(Sn){var _n=isString(Sn);if(Sn!=null&&isFinite(Sn)&&Sn!=="")return _n?BE_ORDINAL.Might:BE_ORDINAL.Not;if(_n&&Sn!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(Fe,_r){assert(internalOptionCreatorMap.get(Fe)==null&&_r),internalOptionCreatorMap.set(Fe,_r)}function concatInternalOptions(Fe,_r,$r){var Br=internalOptionCreatorMap.get(_r);if(!Br)return $r;var Fr=Br(Fe);return Fr?$r.concat(Fr):$r}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function Fe(){}return Fe.prototype.getColorFromPalette=function(_r,$r,Br){var Fr=normalizeToArray(this.get("color",!0)),zr=this.get("colorLayer",!0);return getFromPalette(this,innerColor,Fr,zr,_r,$r,Br)},Fe.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},Fe}();function getDecalFromPalette(Fe,_r,$r,Br){var Fr=normalizeToArray(Fe.get(["aria","decal","decals"]));return getFromPalette(Fe,innerDecal,Fr,null,_r,$r,Br)}function getNearestPalette(Fe,_r){for(var $r=Fe.length,Br=0;Br<$r;Br++)if(Fe[Br].length>_r)return Fe[Br];return Fe[$r-1]}function getFromPalette(Fe,_r,$r,Br,Fr,zr,jr){zr=zr||Fe;var Ur=_r(zr),Gr=Ur.paletteIdx||0,Yr=Ur.paletteNameMap=Ur.paletteNameMap||{};if(Yr.hasOwnProperty(Fr))return Yr[Fr];var Kr=jr==null||!Br?$r:getNearestPalette(Br,jr);if(Kr=Kr||$r,!(!Kr||!Kr.length)){var Qr=Kr[Gr];return Fr&&(Yr[Fr]=Qr),Ur.paletteIdx=(Gr+1)%Kr.length,Qr}}function clearPalette(Fe,_r){_r(Fe).paletteIdx=0,_r(Fe).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.init=function($r,Br,Fr,zr,jr,Ur){zr=zr||{},this.option=null,this._theme=new Model$1(zr),this._locale=new Model$1(jr),this._optionManager=Ur},_r.prototype.setOption=function($r,Br,Fr){var zr=normalizeSetOptionInput(Br);this._optionManager.setOption($r,Fr,zr),this._resetOption(null,zr)},_r.prototype.resetOption=function($r,Br){return this._resetOption($r,normalizeSetOptionInput(Br))},_r.prototype._resetOption=function($r,Br){var Fr=!1,zr=this._optionManager;if(!$r||$r==="recreate"){var jr=zr.mountOption($r==="recreate");!this.option||$r==="recreate"?initBase(this,jr):(this.restoreData(),this._mergeOption(jr,Br)),Fr=!0}if(($r==="timeline"||$r==="media")&&this.restoreData(),!$r||$r==="recreate"||$r==="timeline"){var Ur=zr.getTimelineOption(this);Ur&&(Fr=!0,this._mergeOption(Ur,Br))}if(!$r||$r==="recreate"||$r==="media"){var Gr=zr.getMediaOption(this);Gr.length&&each$f(Gr,function(Yr){Fr=!0,this._mergeOption(Yr,Br)},this)}return Fr},_r.prototype.mergeOption=function($r){this._mergeOption($r,null)},_r.prototype._mergeOption=function($r,Br){var Fr=this.option,zr=this._componentsMap,jr=this._componentsCount,Ur=[],Gr=createHashMap(),Yr=Br&&Br.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f($r,function(Qr,Jr){Qr!=null&&(ComponentModel$1.hasClass(Jr)?Jr&&(Ur.push(Jr),Gr.set(Jr,!0)):Fr[Jr]=Fr[Jr]==null?clone$4(Qr):merge(Fr[Jr],Qr,!0))}),Yr&&Yr.each(function(Qr,Jr){ComponentModel$1.hasClass(Jr)&&!Gr.get(Jr)&&(Ur.push(Jr),Gr.set(Jr,!0))}),ComponentModel$1.topologicalTravel(Ur,ComponentModel$1.getAllClassMainTypes(),Kr,this);function Kr(Qr){var Jr=concatInternalOptions(this,Qr,normalizeToArray($r[Qr])),rn=zr.get(Qr),an=rn?Yr&&Yr.get(Qr)?"replaceMerge":"normalMerge":"replaceAll",ln=mappingToExists(rn,Jr,an);setComponentTypeToKeyInfo(ln,Qr,ComponentModel$1),Fr[Qr]=null,zr.set(Qr,null),jr.set(Qr,0);var dn=[],hn=[],gn=0,bn;each$f(ln,function(kn,Sn){var _n=kn.existing,pn=kn.newOption;if(!pn)_n&&(_n.mergeOption({},this),_n.optionUpdated({},!1));else{var Cn=Qr==="series",En=ComponentModel$1.getClass(Qr,kn.keyInfo.subType,!Cn);if(!En)return;if(Qr==="tooltip"){if(bn)return;bn=!0}if(_n&&_n.constructor===En)_n.name=kn.keyInfo.name,_n.mergeOption(pn,this),_n.optionUpdated(pn,!1);else{var Pn=extend$1({componentIndex:Sn},kn.keyInfo);_n=new En(pn,this,this,Pn),extend$1(_n,Pn),kn.brandNew&&(_n.__requireNewView=!0),_n.init(pn,this,this),_n.optionUpdated(null,!0)}}_n?(dn.push(_n.option),hn.push(_n),gn++):(dn.push(void 0),hn.push(void 0))},this),Fr[Qr]=dn,zr.set(Qr,hn),jr.set(Qr,gn),Qr==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},_r.prototype.getOption=function(){var $r=clone$4(this.option);return each$f($r,function(Br,Fr){if(ComponentModel$1.hasClass(Fr)){for(var zr=normalizeToArray(Br),jr=zr.length,Ur=!1,Gr=jr-1;Gr>=0;Gr--)zr[Gr]&&!isComponentIdInternal(zr[Gr])?Ur=!0:(zr[Gr]=null,!Ur&&jr--);zr.length=jr,$r[Fr]=zr}}),delete $r[OPTION_INNER_KEY],$r},_r.prototype.getTheme=function(){return this._theme},_r.prototype.getLocaleModel=function(){return this._locale},_r.prototype.setUpdatePayload=function($r){this._payload=$r},_r.prototype.getUpdatePayload=function(){return this._payload},_r.prototype.getComponent=function($r,Br){var Fr=this._componentsMap.get($r);if(Fr){var zr=Fr[Br||0];if(zr)return zr;if(Br==null){for(var jr=0;jr<Fr.length;jr++)if(Fr[jr])return Fr[jr]}}},_r.prototype.queryComponents=function($r){var Br=$r.mainType;if(!Br)return[];var Fr=$r.index,zr=$r.id,jr=$r.name,Ur=this._componentsMap.get(Br);if(!Ur||!Ur.length)return[];var Gr;return Fr!=null?(Gr=[],each$f(normalizeToArray(Fr),function(Yr){Ur[Yr]&&Gr.push(Ur[Yr])})):zr!=null?Gr=queryByIdOrName("id",zr,Ur):jr!=null?Gr=queryByIdOrName("name",jr,Ur):Gr=filter(Ur,function(Yr){return!!Yr}),filterBySubType(Gr,$r)},_r.prototype.findComponents=function($r){var Br=$r.query,Fr=$r.mainType,zr=Ur(Br),jr=zr?this.queryComponents(zr):filter(this._componentsMap.get(Fr),function(Yr){return!!Yr});return Gr(filterBySubType(jr,$r));function Ur(Yr){var Kr=Fr+"Index",Qr=Fr+"Id",Jr=Fr+"Name";return Yr&&(Yr[Kr]!=null||Yr[Qr]!=null||Yr[Jr]!=null)?{mainType:Fr,index:Yr[Kr],id:Yr[Qr],name:Yr[Jr]}:null}function Gr(Yr){return $r.filter?filter(Yr,$r.filter):Yr}},_r.prototype.eachComponent=function($r,Br,Fr){var zr=this._componentsMap;if(isFunction($r)){var jr=Br,Ur=$r;zr.each(function(Qr,Jr){for(var rn=0;Qr&&rn<Qr.length;rn++){var an=Qr[rn];an&&Ur.call(jr,Jr,an,an.componentIndex)}})}else for(var Gr=isString($r)?zr.get($r):isObject$3($r)?this.findComponents($r):null,Yr=0;Gr&&Yr<Gr.length;Yr++){var Kr=Gr[Yr];Kr&&Br.call(Fr,Kr,Kr.componentIndex)}},_r.prototype.getSeriesByName=function($r){var Br=convertOptionIdName($r,null);return filter(this._componentsMap.get("series"),function(Fr){return!!Fr&&Br!=null&&Fr.name===Br})},_r.prototype.getSeriesByIndex=function($r){return this._componentsMap.get("series")[$r]},_r.prototype.getSeriesByType=function($r){return filter(this._componentsMap.get("series"),function(Br){return!!Br&&Br.subType===$r})},_r.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function($r){return!!$r})},_r.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},_r.prototype.eachSeries=function($r,Br){assertSeriesInitialized(this),each$f(this._seriesIndices,function(Fr){var zr=this._componentsMap.get("series")[Fr];$r.call(Br,zr,Fr)},this)},_r.prototype.eachRawSeries=function($r,Br){each$f(this._componentsMap.get("series"),function(Fr){Fr&&$r.call(Br,Fr,Fr.componentIndex)})},_r.prototype.eachSeriesByType=function($r,Br,Fr){assertSeriesInitialized(this),each$f(this._seriesIndices,function(zr){var jr=this._componentsMap.get("series")[zr];jr.subType===$r&&Br.call(Fr,jr,zr)},this)},_r.prototype.eachRawSeriesByType=function($r,Br,Fr){return each$f(this.getSeriesByType($r),Br,Fr)},_r.prototype.isSeriesFiltered=function($r){return assertSeriesInitialized(this),this._seriesIndicesMap.get($r.componentIndex)==null},_r.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},_r.prototype.filterSeries=function($r,Br){assertSeriesInitialized(this);var Fr=[];each$f(this._seriesIndices,function(zr){var jr=this._componentsMap.get("series")[zr];$r.call(Br,jr,zr)&&Fr.push(zr)},this),this._seriesIndices=Fr,this._seriesIndicesMap=createHashMap(Fr)},_r.prototype.restoreData=function($r){reCreateSeriesIndices(this);var Br=this._componentsMap,Fr=[];Br.each(function(zr,jr){ComponentModel$1.hasClass(jr)&&Fr.push(jr)}),ComponentModel$1.topologicalTravel(Fr,ComponentModel$1.getAllClassMainTypes(),function(zr){each$f(Br.get(zr),function(jr){jr&&(zr!=="series"||!isNotTargetSeries(jr,$r))&&jr.restoreData()})})},_r.internalField=function(){reCreateSeriesIndices=function($r){var Br=$r._seriesIndices=[];each$f($r._componentsMap.get("series"),function(Fr){Fr&&Br.push(Fr.componentIndex)}),$r._seriesIndicesMap=createHashMap(Br)},assertSeriesInitialized=function($r){},initBase=function($r,Br){$r.option={},$r.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,$r._componentsMap=createHashMap({series:[]}),$r._componentsCount=createHashMap();var Fr=Br.aria;isObject$3(Fr)&&Fr.enabled==null&&(Fr.enabled=!0),mergeTheme(Br,$r._theme.option),merge(Br,globalDefault,!1),$r._mergeOption(Br,null)}}(),_r}(Model$1);function isNotTargetSeries(Fe,_r){if(_r){var $r=_r.seriesIndex,Br=_r.seriesId,Fr=_r.seriesName;return $r!=null&&Fe.componentIndex!==$r||Br!=null&&Fe.id!==Br||Fr!=null&&Fe.name!==Fr}}function mergeTheme(Fe,_r){var $r=Fe.color&&!Fe.colorLayer;each$f(_r,function(Br,Fr){Fr==="colorLayer"&&$r||ComponentModel$1.hasClass(Fr)||(typeof Br=="object"?Fe[Fr]=Fe[Fr]?merge(Fe[Fr],Br,!1):clone$4(Br):Fe[Fr]==null&&(Fe[Fr]=Br))})}function queryByIdOrName(Fe,_r,$r){if(isArray$1(_r)){var Br=createHashMap();return each$f(_r,function(zr){if(zr!=null){var jr=convertOptionIdName(zr,null);jr!=null&&Br.set(zr,!0)}}),filter($r,function(zr){return zr&&Br.get(zr[Fe])})}else{var Fr=convertOptionIdName(_r,null);return filter($r,function(zr){return zr&&Fr!=null&&zr[Fe]===Fr})}}function filterBySubType(Fe,_r){return _r.hasOwnProperty("subType")?filter(Fe,function($r){return $r&&$r.subType===_r.subType}):Fe}function normalizeSetOptionInput(Fe){var _r=createHashMap();return Fe&&each$f(normalizeToArray(Fe.replaceMerge),function($r){_r.set($r,!0)}),{replaceMergeMainTypeMap:_r}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function Fe(_r){each$f(availableMethods,function($r){this[$r]=bind$1(_r[$r],_r)},this)}return Fe}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function Fe(){this._coordinateSystems=[]}return Fe.prototype.create=function(_r,$r){var Br=[];each$f(coordinateSystemCreators,function(Fr,zr){var jr=Fr.create(_r,$r);Br=Br.concat(jr||[])}),this._coordinateSystems=Br},Fe.prototype.update=function(_r,$r){each$f(this._coordinateSystems,function(Br){Br.update&&Br.update(_r,$r)})},Fe.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},Fe.register=function(_r,$r){coordinateSystemCreators[_r]=$r},Fe.get=function(_r){return coordinateSystemCreators[_r]},Fe}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function Fe(_r){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=_r}return Fe.prototype.setOption=function(_r,$r,Br){_r&&(each$f(normalizeToArray(_r.series),function(jr){jr&&jr.data&&isTypedArray(jr.data)&&setAsPrimitive(jr.data)}),each$f(normalizeToArray(_r.dataset),function(jr){jr&&jr.source&&isTypedArray(jr.source)&&setAsPrimitive(jr.source)})),_r=clone$4(_r);var Fr=this._optionBackup,zr=parseRawOption(_r,$r,!Fr);this._newBaseOption=zr.baseOption,Fr?(zr.timelineOptions.length&&(Fr.timelineOptions=zr.timelineOptions),zr.mediaList.length&&(Fr.mediaList=zr.mediaList),zr.mediaDefault&&(Fr.mediaDefault=zr.mediaDefault)):this._optionBackup=zr},Fe.prototype.mountOption=function(_r){var $r=this._optionBackup;return this._timelineOptions=$r.timelineOptions,this._mediaList=$r.mediaList,this._mediaDefault=$r.mediaDefault,this._currentMediaIndices=[],clone$4(_r?$r.baseOption:this._newBaseOption)},Fe.prototype.getTimelineOption=function(_r){var $r,Br=this._timelineOptions;if(Br.length){var Fr=_r.getComponent("timeline");Fr&&($r=clone$4(Br[Fr.getCurrentIndex()]))}return $r},Fe.prototype.getMediaOption=function(_r){var $r=this._api.getWidth(),Br=this._api.getHeight(),Fr=this._mediaList,zr=this._mediaDefault,jr=[],Ur=[];if(!Fr.length&&!zr)return Ur;for(var Gr=0,Yr=Fr.length;Gr<Yr;Gr++)applyMediaQuery(Fr[Gr].query,$r,Br)&&jr.push(Gr);return!jr.length&&zr&&(jr=[-1]),jr.length&&!indicesEquals(jr,this._currentMediaIndices)&&(Ur=map$1(jr,function(Kr){return clone$4(Kr===-1?zr.option:Fr[Kr].option)})),this._currentMediaIndices=jr,Ur},Fe}();function parseRawOption(Fe,_r,$r){var Br=[],Fr,zr,jr=Fe.baseOption,Ur=Fe.timeline,Gr=Fe.options,Yr=Fe.media,Kr=!!Fe.media,Qr=!!(Gr||Ur||jr&&jr.timeline);jr?(zr=jr,zr.timeline||(zr.timeline=Ur)):((Qr||Kr)&&(Fe.options=Fe.media=null),zr=Fe),Kr&&isArray$1(Yr)&&each$f(Yr,function(rn){rn&&rn.option&&(rn.query?Br.push(rn):Fr||(Fr=rn))}),Jr(zr),each$f(Gr,function(rn){return Jr(rn)}),each$f(Br,function(rn){return Jr(rn.option)});function Jr(rn){each$f(_r,function(an){an(rn,$r)})}return{baseOption:zr,timelineOptions:Gr||[],mediaDefault:Fr,mediaList:Br}}function applyMediaQuery(Fe,_r,$r){var Br={width:_r,height:$r,aspectratio:_r/$r},Fr=!0;return each$f(Fe,function(zr,jr){var Ur=jr.match(QUERY_REG);if(!(!Ur||!Ur[1]||!Ur[2])){var Gr=Ur[1],Yr=Ur[2].toLowerCase();compare(Br[Yr],zr,Gr)||(Fr=!1)}}),Fr}function compare(Fe,_r,$r){return $r==="min"?Fe>=_r:$r==="max"?Fe<=_r:Fe===_r}function indicesEquals(Fe,_r){return Fe.join(",")===_r.join(",")}const OptionManager$1=OptionManager;var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(Fe){var _r=Fe&&Fe.itemStyle;if(_r)for(var $r=0,Br=POSSIBLE_STYLES.length;$r<Br;$r++){var Fr=POSSIBLE_STYLES[$r],zr=_r.normal,jr=_r.emphasis;zr&&zr[Fr]&&(Fe[Fr]=Fe[Fr]||{},Fe[Fr].normal?merge(Fe[Fr].normal,zr[Fr]):Fe[Fr].normal=zr[Fr],zr[Fr]=null),jr&&jr[Fr]&&(Fe[Fr]=Fe[Fr]||{},Fe[Fr].emphasis?merge(Fe[Fr].emphasis,jr[Fr]):Fe[Fr].emphasis=jr[Fr],jr[Fr]=null)}}function convertNormalEmphasis(Fe,_r,$r){if(Fe&&Fe[_r]&&(Fe[_r].normal||Fe[_r].emphasis)){var Br=Fe[_r].normal,Fr=Fe[_r].emphasis;Br&&($r?(Fe[_r].normal=Fe[_r].emphasis=null,defaults(Fe[_r],Br)):Fe[_r]=Br),Fr&&(Fe.emphasis=Fe.emphasis||{},Fe.emphasis[_r]=Fr,Fr.focus&&(Fe.emphasis.focus=Fr.focus),Fr.blurScope&&(Fe.emphasis.blurScope=Fr.blurScope))}}function removeEC3NormalStatus(Fe){convertNormalEmphasis(Fe,"itemStyle"),convertNormalEmphasis(Fe,"lineStyle"),convertNormalEmphasis(Fe,"areaStyle"),convertNormalEmphasis(Fe,"label"),convertNormalEmphasis(Fe,"labelLine"),convertNormalEmphasis(Fe,"upperLabel"),convertNormalEmphasis(Fe,"edgeLabel")}function compatTextStyle(Fe,_r){var $r=isObject$2(Fe)&&Fe[_r],Br=isObject$2($r)&&$r.textStyle;if(Br)for(var Fr=0,zr=TEXT_STYLE_OPTIONS.length;Fr<zr;Fr++){var jr=TEXT_STYLE_OPTIONS[Fr];Br.hasOwnProperty(jr)&&($r[jr]=Br[jr])}}function compatEC3CommonStyles(Fe){Fe&&(removeEC3NormalStatus(Fe),compatTextStyle(Fe,"label"),Fe.emphasis&&compatTextStyle(Fe.emphasis,"label"))}function processSeries(Fe){if(isObject$2(Fe)){compatEC2ItemStyle(Fe),removeEC3NormalStatus(Fe),compatTextStyle(Fe,"label"),compatTextStyle(Fe,"upperLabel"),compatTextStyle(Fe,"edgeLabel"),Fe.emphasis&&(compatTextStyle(Fe.emphasis,"label"),compatTextStyle(Fe.emphasis,"upperLabel"),compatTextStyle(Fe.emphasis,"edgeLabel"));var _r=Fe.markPoint;_r&&(compatEC2ItemStyle(_r),compatEC3CommonStyles(_r));var $r=Fe.markLine;$r&&(compatEC2ItemStyle($r),compatEC3CommonStyles($r));var Br=Fe.markArea;Br&&compatEC3CommonStyles(Br);var Fr=Fe.data;if(Fe.type==="graph"){Fr=Fr||Fe.nodes;var zr=Fe.links||Fe.edges;if(zr&&!isTypedArray(zr))for(var jr=0;jr<zr.length;jr++)compatEC3CommonStyles(zr[jr]);each$f(Fe.categories,function(Yr){removeEC3NormalStatus(Yr)})}if(Fr&&!isTypedArray(Fr))for(var jr=0;jr<Fr.length;jr++)compatEC3CommonStyles(Fr[jr]);if(_r=Fe.markPoint,_r&&_r.data)for(var Ur=_r.data,jr=0;jr<Ur.length;jr++)compatEC3CommonStyles(Ur[jr]);if($r=Fe.markLine,$r&&$r.data)for(var Gr=$r.data,jr=0;jr<Gr.length;jr++)isArray$1(Gr[jr])?(compatEC3CommonStyles(Gr[jr][0]),compatEC3CommonStyles(Gr[jr][1])):compatEC3CommonStyles(Gr[jr]);Fe.type==="gauge"?(compatTextStyle(Fe,"axisLabel"),compatTextStyle(Fe,"title"),compatTextStyle(Fe,"detail")):Fe.type==="treemap"?(convertNormalEmphasis(Fe.breadcrumb,"itemStyle"),each$f(Fe.levels,function(Yr){removeEC3NormalStatus(Yr)})):Fe.type==="tree"&&removeEC3NormalStatus(Fe.leaves)}}function toArr(Fe){return isArray$1(Fe)?Fe:Fe?[Fe]:[]}function toObj(Fe){return(isArray$1(Fe)?Fe[0]:Fe)||{}}function globalCompatStyle(Fe,_r){each$d(toArr(Fe.series),function(Br){isObject$2(Br)&&processSeries(Br)});var $r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];_r&&$r.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d($r,function(Br){each$d(toArr(Fe[Br]),function(Fr){Fr&&(compatTextStyle(Fr,"axisLabel"),compatTextStyle(Fr.axisPointer,"label"))})}),each$d(toArr(Fe.parallel),function(Br){var Fr=Br&&Br.parallelAxisDefault;compatTextStyle(Fr,"axisLabel"),compatTextStyle(Fr&&Fr.axisPointer,"label")}),each$d(toArr(Fe.calendar),function(Br){convertNormalEmphasis(Br,"itemStyle"),compatTextStyle(Br,"dayLabel"),compatTextStyle(Br,"monthLabel"),compatTextStyle(Br,"yearLabel")}),each$d(toArr(Fe.radar),function(Br){compatTextStyle(Br,"name"),Br.name&&Br.axisName==null&&(Br.axisName=Br.name,delete Br.name),Br.nameGap!=null&&Br.axisNameGap==null&&(Br.axisNameGap=Br.nameGap,delete Br.nameGap)}),each$d(toArr(Fe.geo),function(Br){isObject$2(Br)&&(compatEC3CommonStyles(Br),each$d(toArr(Br.regions),function(Fr){compatEC3CommonStyles(Fr)}))}),each$d(toArr(Fe.timeline),function(Br){compatEC3CommonStyles(Br),convertNormalEmphasis(Br,"label"),convertNormalEmphasis(Br,"itemStyle"),convertNormalEmphasis(Br,"controlStyle",!0);var Fr=Br.data;isArray$1(Fr)&&each$f(Fr,function(zr){isObject$3(zr)&&(convertNormalEmphasis(zr,"label"),convertNormalEmphasis(zr,"itemStyle"))})}),each$d(toArr(Fe.toolbox),function(Br){convertNormalEmphasis(Br,"iconStyle"),each$d(Br.feature,function(Fr){convertNormalEmphasis(Fr,"iconStyle")})}),compatTextStyle(toObj(Fe.axisPointer),"label"),compatTextStyle(toObj(Fe.tooltip).axisPointer,"label")}function get(Fe,_r){for(var $r=_r.split(","),Br=Fe,Fr=0;Fr<$r.length&&(Br=Br&&Br[$r[Fr]],Br!=null);Fr++);return Br}function set(Fe,_r,$r,Br){for(var Fr=_r.split(","),zr=Fe,jr,Ur=0;Ur<Fr.length-1;Ur++)jr=Fr[Ur],zr[jr]==null&&(zr[jr]={}),zr=zr[jr];(Br||zr[Fr[Ur]]==null)&&(zr[Fr[Ur]]=$r)}function compatLayoutProperties(Fe){Fe&&each$f(LAYOUT_PROPERTIES,function(_r){_r[0]in Fe&&!(_r[1]in Fe)&&(Fe[_r[1]]=Fe[_r[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(Fe){var _r=Fe&&Fe.itemStyle;if(_r)for(var $r=0;$r<BAR_ITEM_STYLE_MAP.length;$r++){var Br=BAR_ITEM_STYLE_MAP[$r][1],Fr=BAR_ITEM_STYLE_MAP[$r][0];_r[Br]!=null&&(_r[Fr]=_r[Br])}}function compatPieLabel(Fe){Fe&&Fe.alignTo==="edge"&&Fe.margin!=null&&Fe.edgeDistance==null&&(Fe.edgeDistance=Fe.margin)}function compatSunburstState(Fe){Fe&&Fe.downplay&&!Fe.blur&&(Fe.blur=Fe.downplay)}function compatGraphFocus(Fe){Fe&&Fe.focusNodeAdjacency!=null&&(Fe.emphasis=Fe.emphasis||{},Fe.emphasis.focus==null&&(Fe.emphasis.focus="adjacency"))}function traverseTree(Fe,_r){if(Fe)for(var $r=0;$r<Fe.length;$r++)_r(Fe[$r]),Fe[$r]&&traverseTree(Fe[$r].children,_r)}function globalBackwardCompat(Fe,_r){globalCompatStyle(Fe,_r),Fe.series=normalizeToArray(Fe.series),each$f(Fe.series,function($r){if(isObject$3($r)){var Br=$r.type;if(Br==="line")$r.clipOverflow!=null&&($r.clip=$r.clipOverflow);else if(Br==="pie"||Br==="gauge"){$r.clockWise!=null&&($r.clockwise=$r.clockWise),compatPieLabel($r.label);var Fr=$r.data;if(Fr&&!isTypedArray(Fr))for(var zr=0;zr<Fr.length;zr++)compatPieLabel(Fr[zr]);$r.hoverOffset!=null&&($r.emphasis=$r.emphasis||{},($r.emphasis.scaleSize=null)&&($r.emphasis.scaleSize=$r.hoverOffset))}else if(Br==="gauge"){var jr=get($r,"pointer.color");jr!=null&&set($r,"itemStyle.color",jr)}else if(Br==="bar"){compatBarItemStyle($r),compatBarItemStyle($r.backgroundStyle),compatBarItemStyle($r.emphasis);var Fr=$r.data;if(Fr&&!isTypedArray(Fr))for(var zr=0;zr<Fr.length;zr++)typeof Fr[zr]=="object"&&(compatBarItemStyle(Fr[zr]),compatBarItemStyle(Fr[zr]&&Fr[zr].emphasis))}else if(Br==="sunburst"){var Ur=$r.highlightPolicy;Ur&&($r.emphasis=$r.emphasis||{},$r.emphasis.focus||($r.emphasis.focus=Ur)),compatSunburstState($r),traverseTree($r.data,compatSunburstState)}else Br==="graph"||Br==="sankey"?compatGraphFocus($r):Br==="map"&&($r.mapType&&!$r.map&&($r.map=$r.mapType),$r.mapLocation&&defaults($r,$r.mapLocation));$r.hoverAnimation!=null&&($r.emphasis=$r.emphasis||{},$r.emphasis&&$r.emphasis.scale==null&&($r.emphasis.scale=$r.hoverAnimation)),compatLayoutProperties($r)}}),Fe.dataRange&&(Fe.visualMap=Fe.dataRange),each$f(COMPATITABLE_COMPONENTS,function($r){var Br=Fe[$r];Br&&(isArray$1(Br)||(Br=[Br]),each$f(Br,function(Fr){compatLayoutProperties(Fr)}))})}function dataStack$1(Fe){var _r=createHashMap();Fe.eachSeries(function($r){var Br=$r.get("stack");if(Br){var Fr=_r.get(Br)||_r.set(Br,[]),zr=$r.getData(),jr={stackResultDimension:zr.getCalculationInfo("stackResultDimension"),stackedOverDimension:zr.getCalculationInfo("stackedOverDimension"),stackedDimension:zr.getCalculationInfo("stackedDimension"),stackedByDimension:zr.getCalculationInfo("stackedByDimension"),isStackedByIndex:zr.getCalculationInfo("isStackedByIndex"),data:zr,seriesModel:$r};if(!jr.stackedDimension||!(jr.isStackedByIndex||jr.stackedByDimension))return;Fr.length&&zr.setCalculationInfo("stackedOnSeries",Fr[Fr.length-1].seriesModel),Fr.push(jr)}}),_r.each(calculateStack)}function calculateStack(Fe){each$f(Fe,function(_r,$r){var Br=[],Fr=[NaN,NaN],zr=[_r.stackResultDimension,_r.stackedOverDimension],jr=_r.data,Ur=_r.isStackedByIndex,Gr=_r.seriesModel.get("stackStrategy")||"samesign";jr.modify(zr,function(Yr,Kr,Qr){var Jr=jr.get(_r.stackedDimension,Qr);if(isNaN(Jr))return Fr;var rn,an;Ur?an=jr.getRawIndex(Qr):rn=jr.get(_r.stackedByDimension,Qr);for(var ln=NaN,dn=$r-1;dn>=0;dn--){var hn=Fe[dn];if(Ur||(an=hn.data.rawIndexOf(hn.stackedByDimension,rn)),an>=0){var gn=hn.data.getByRawIndex(hn.stackResultDimension,an);if(Gr==="all"||Gr==="positive"&&gn>0||Gr==="negative"&&gn<0||Gr==="samesign"&&Jr>=0&&gn>0||Gr==="samesign"&&Jr<=0&&gn<0){Jr=addSafe(Jr,gn),ln=gn;break}}}return Br[0]=Jr,Br[1]=ln,Br})})}var SourceImpl=function(){function Fe(_r){this.data=_r.data||(_r.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=_r.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=_r.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=_r.startIndex||0,this.dimensionsDetectedCount=_r.dimensionsDetectedCount,this.metaRawOption=_r.metaRawOption;var $r=this.dimensionsDefine=_r.dimensionsDefine;if($r)for(var Br=0;Br<$r.length;Br++){var Fr=$r[Br];Fr.type==null&&guessOrdinal(this,Br)===BE_ORDINAL.Must&&(Fr.type="ordinal")}}return Fe}();function isSourceInstance(Fe){return Fe instanceof SourceImpl}function createSource(Fe,_r,$r){$r=$r||detectSourceFormat(Fe);var Br=_r.seriesLayoutBy,Fr=determineSourceDimensions(Fe,$r,Br,_r.sourceHeader,_r.dimensions),zr=new SourceImpl({data:Fe,sourceFormat:$r,seriesLayoutBy:Br,dimensionsDefine:Fr.dimensionsDefine,startIndex:Fr.startIndex,dimensionsDetectedCount:Fr.dimensionsDetectedCount,metaRawOption:clone$4(_r)});return zr}function createSourceFromSeriesDataOption(Fe){return new SourceImpl({data:Fe,sourceFormat:isTypedArray(Fe)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(Fe){return new SourceImpl({data:Fe.data,sourceFormat:Fe.sourceFormat,seriesLayoutBy:Fe.seriesLayoutBy,dimensionsDefine:clone$4(Fe.dimensionsDefine),startIndex:Fe.startIndex,dimensionsDetectedCount:Fe.dimensionsDetectedCount})}function detectSourceFormat(Fe){var _r=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(Fe))_r=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(Fe)){Fe.length===0&&(_r=SOURCE_FORMAT_ARRAY_ROWS);for(var $r=0,Br=Fe.length;$r<Br;$r++){var Fr=Fe[$r];if(Fr!=null){if(isArray$1(Fr)){_r=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(Fr)){_r=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(Fe)){for(var zr in Fe)if(hasOwn(Fe,zr)&&isArrayLike(Fe[zr])){_r=SOURCE_FORMAT_KEYED_COLUMNS;break}}return _r}function determineSourceDimensions(Fe,_r,$r,Br,Fr){var zr,jr;if(!Fe)return{dimensionsDefine:normalizeDimensionsOption(Fr),startIndex:jr,dimensionsDetectedCount:zr};if(_r===SOURCE_FORMAT_ARRAY_ROWS){var Ur=Fe;Br==="auto"||Br==null?arrayRowsTravelFirst(function(Yr){Yr!=null&&Yr!=="-"&&(isString(Yr)?jr==null&&(jr=1):jr=0)},$r,Ur,10):jr=isNumber(Br)?Br:Br?1:0,!Fr&&jr===1&&(Fr=[],arrayRowsTravelFirst(function(Yr,Kr){Fr[Kr]=Yr!=null?Yr+"":""},$r,Ur,1/0)),zr=Fr?Fr.length:$r===SERIES_LAYOUT_BY_ROW?Ur.length:Ur[0]?Ur[0].length:null}else if(_r===SOURCE_FORMAT_OBJECT_ROWS)Fr||(Fr=objectRowsCollectDimensions(Fe));else if(_r===SOURCE_FORMAT_KEYED_COLUMNS)Fr||(Fr=[],each$f(Fe,function(Yr,Kr){Fr.push(Kr)}));else if(_r===SOURCE_FORMAT_ORIGINAL){var Gr=getDataItemValue(Fe[0]);zr=isArray$1(Gr)&&Gr.length||1}return{startIndex:jr,dimensionsDefine:normalizeDimensionsOption(Fr),dimensionsDetectedCount:zr}}function objectRowsCollectDimensions(Fe){for(var _r=0,$r;_r<Fe.length&&!($r=Fe[_r++]););if($r)return keys($r)}function normalizeDimensionsOption(Fe){if(Fe){var _r=createHashMap();return map$1(Fe,function($r,Br){$r=isObject$3($r)?$r:{name:$r};var Fr={name:$r.name,displayName:$r.displayName,type:$r.type};if(Fr.name==null)return Fr;Fr.name+="",Fr.displayName==null&&(Fr.displayName=Fr.name);var zr=_r.get(Fr.name);return zr?Fr.name+="-"+zr.count++:_r.set(Fr.name,{count:1}),Fr})}}function arrayRowsTravelFirst(Fe,_r,$r,Br){if(_r===SERIES_LAYOUT_BY_ROW)for(var Fr=0;Fr<$r.length&&Fr<Br;Fr++)Fe($r[Fr]?$r[Fr][0]:null,Fr);else for(var zr=$r[0]||[],Fr=0;Fr<zr.length&&Fr<Br;Fr++)Fe(zr[Fr],Fr)}function shouldRetrieveDataByName(Fe){var _r=Fe.sourceFormat;return _r===SOURCE_FORMAT_OBJECT_ROWS||_r===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function Fe(_r,$r){var Br=isSourceInstance(_r)?_r:createSourceFromSeriesDataOption(_r);this._source=Br;var Fr=this._data=Br.data;Br.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=$r,this._data=Fr),mountMethods(this,Fr,Br)}return Fe.prototype.getSource=function(){return this._source},Fe.prototype.count=function(){return 0},Fe.prototype.getItem=function(_r,$r){},Fe.prototype.appendData=function(_r){},Fe.prototype.clean=function(){},Fe.protoInitialize=function(){var _r=Fe.prototype;_r.pure=!1,_r.persistent=!0}(),Fe.internalField=function(){var _r;mountMethods=function(jr,Ur,Gr){var Yr=Gr.sourceFormat,Kr=Gr.seriesLayoutBy,Qr=Gr.startIndex,Jr=Gr.dimensionsDefine,rn=providerMethods[getMethodMapKey(Yr,Kr)];if(extend$1(jr,rn),Yr===SOURCE_FORMAT_TYPED_ARRAY)jr.getItem=$r,jr.count=Fr,jr.fillStorage=Br;else{var an=getRawSourceItemGetter(Yr,Kr);jr.getItem=bind$1(an,null,Ur,Qr,Jr);var ln=getRawSourceDataCounter(Yr,Kr);jr.count=bind$1(ln,null,Ur,Qr,Jr)}};var $r=function(jr,Ur){jr=jr-this._offset,Ur=Ur||[];for(var Gr=this._data,Yr=this._dimSize,Kr=Yr*jr,Qr=0;Qr<Yr;Qr++)Ur[Qr]=Gr[Kr+Qr];return Ur},Br=function(jr,Ur,Gr,Yr){for(var Kr=this._data,Qr=this._dimSize,Jr=0;Jr<Qr;Jr++){for(var rn=Yr[Jr],an=rn[0]==null?1/0:rn[0],ln=rn[1]==null?-1/0:rn[1],dn=Ur-jr,hn=Gr[Jr],gn=0;gn<dn;gn++){var bn=Kr[gn*Qr+Jr];hn[jr+gn]=bn,bn<an&&(an=bn),bn>ln&&(ln=bn)}rn[0]=an,rn[1]=ln}},Fr=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(_r={},_r[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:zr},_r[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},_r[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:zr},_r[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(jr){var Ur=this._data;each$f(jr,function(Gr,Yr){for(var Kr=Ur[Yr]||(Ur[Yr]=[]),Qr=0;Qr<(Gr||[]).length;Qr++)Kr.push(Gr[Qr])})}},_r[SOURCE_FORMAT_ORIGINAL]={appendData:zr},_r[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(jr){this._data=jr},clean:function(){this._offset+=this.count(),this._data=null}},_r);function zr(jr){for(var Ur=0;Ur<jr.length;Ur++)this._data.push(jr[Ur])}}(),Fe}(),getItemSimply=function(Fe,_r,$r,Br){return Fe[Br]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(Fe,_r,$r,Br){return Fe[Br+_r]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(Fe,_r,$r,Br,Fr){Br+=_r;for(var zr=Fr||[],jr=Fe,Ur=0;Ur<jr.length;Ur++){var Gr=jr[Ur];zr[Ur]=Gr?Gr[Br]:null}return zr},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(Fe,_r,$r,Br,Fr){for(var zr=Fr||[],jr=0;jr<$r.length;jr++){var Ur=$r[jr].name,Gr=Fe[Ur];zr[jr]=Gr?Gr[Br]:null}return zr},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(Fe,_r){var $r=rawSourceItemGetterMap[getMethodMapKey(Fe,_r)];return $r}var countSimply=function(Fe,_r,$r){return Fe.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(Fe,_r,$r){return Math.max(0,Fe.length-_r)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(Fe,_r,$r){var Br=Fe[0];return Br?Math.max(0,Br.length-_r):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(Fe,_r,$r){var Br=$r[0].name,Fr=Fe[Br];return Fr?Fr.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(Fe,_r){var $r=rawSourceDataCounterMap[getMethodMapKey(Fe,_r)];return $r}var getRawValueSimply=function(Fe,_r,$r){return Fe[_r]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(Fe,_r,$r){return Fe[$r]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(Fe,_r,$r){var Br=getDataItemValue(Fe);return Br instanceof Array?Br[_r]:Br},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(Fe){var _r=rawSourceValueGetterMap[Fe];return _r}function getMethodMapKey(Fe,_r){return Fe===SOURCE_FORMAT_ARRAY_ROWS?Fe+"_"+_r:Fe}function retrieveRawValue(Fe,_r,$r){if(Fe){var Br=Fe.getRawDataItem(_r);if(Br!=null){var Fr=Fe.getStore(),zr=Fr.getSource().sourceFormat;if($r!=null){var jr=Fe.getDimensionIndex($r),Ur=Fr.getDimensionProperty(jr);return getRawSourceValueGetter(zr)(Br,jr,Ur)}else{var Gr=Br;return zr===SOURCE_FORMAT_ORIGINAL&&(Gr=getDataItemValue(Br)),Gr}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function Fe(){}return Fe.prototype.getDataParams=function(_r,$r){var Br=this.getData($r),Fr=this.getRawValue(_r,$r),zr=Br.getRawIndex(_r),jr=Br.getName(_r),Ur=Br.getRawDataItem(_r),Gr=Br.getItemVisual(_r,"style"),Yr=Gr&&Gr[Br.getItemVisual(_r,"drawType")||"fill"],Kr=Gr&&Gr.stroke,Qr=this.mainType,Jr=Qr==="series",rn=Br.userOutput&&Br.userOutput.get();return{componentType:Qr,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:Jr?this.subType:null,seriesIndex:this.seriesIndex,seriesId:Jr?this.id:null,seriesName:Jr?this.name:null,name:jr,dataIndex:zr,data:Ur,dataType:$r,value:Fr,color:Yr,borderColor:Kr,dimensionNames:rn?rn.fullDimensions:null,encode:rn?rn.encode:null,$vars:["seriesName","name","value"]}},Fe.prototype.getFormattedLabel=function(_r,$r,Br,Fr,zr,jr){$r=$r||"normal";var Ur=this.getData(Br),Gr=this.getDataParams(_r,Br);if(jr&&(Gr.value=jr.interpolatedValue),Fr!=null&&isArray$1(Gr.value)&&(Gr.value=Gr.value[Fr]),!zr){var Yr=Ur.getItemModel(_r);zr=Yr.get($r==="normal"?["label","formatter"]:[$r,"label","formatter"])}if(isFunction(zr))return Gr.status=$r,Gr.dimensionIndex=Fr,zr(Gr);if(isString(zr)){var Kr=formatTpl(zr,Gr);return Kr.replace(DIMENSION_LABEL_REG,function(Qr,Jr){var rn=Jr.length,an=Jr;an.charAt(0)==="["&&an.charAt(rn-1)==="]"&&(an=+an.slice(1,rn-1));var ln=retrieveRawValue(Ur,_r,an);if(jr&&isArray$1(jr.interpolatedValue)){var dn=Ur.getDimensionIndex(an);dn>=0&&(ln=jr.interpolatedValue[dn])}return ln!=null?ln+"":""})}},Fe.prototype.getRawValue=function(_r,$r){return retrieveRawValue(this.getData($r),_r)},Fe.prototype.formatTooltip=function(_r,$r,Br){},Fe}();function normalizeTooltipFormatResult(Fe){var _r,$r;return isObject$3(Fe)?Fe.type&&($r=Fe):_r=Fe,{text:_r,frag:$r}}function createTask(Fe){return new Task(Fe)}var Task=function(){function Fe(_r){_r=_r||{},this._reset=_r.reset,this._plan=_r.plan,this._count=_r.count,this._onDirty=_r.onDirty,this._dirty=!0}return Fe.prototype.perform=function(_r){var $r=this._upstream,Br=_r&&_r.skip;if(this._dirty&&$r){var Fr=this.context;Fr.data=Fr.outputData=$r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var zr;this._plan&&!Br&&(zr=this._plan(this.context));var jr=Kr(this._modBy),Ur=this._modDataCount||0,Gr=Kr(_r&&_r.modBy),Yr=_r&&_r.modDataCount||0;(jr!==Gr||Ur!==Yr)&&(zr="reset");function Kr(gn){return!(gn>=1)&&(gn=1),gn}var Qr;(this._dirty||zr==="reset")&&(this._dirty=!1,Qr=this._doReset(Br)),this._modBy=Gr,this._modDataCount=Yr;var Jr=_r&&_r.step;if($r?this._dueEnd=$r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var rn=this._dueIndex,an=Math.min(Jr!=null?this._dueIndex+Jr:1/0,this._dueEnd);if(!Br&&(Qr||rn<an)){var ln=this._progress;if(isArray$1(ln))for(var dn=0;dn<ln.length;dn++)this._doProgress(ln[dn],rn,an,Gr,Yr);else this._doProgress(ln,rn,an,Gr,Yr)}this._dueIndex=an;var hn=this._settedOutputEnd!=null?this._settedOutputEnd:an;this._outputDueEnd=hn}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Fe.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Fe.prototype._doProgress=function(_r,$r,Br,Fr,zr){iterator.reset($r,Br,Fr,zr),this._callingProgress=_r,this._callingProgress({start:$r,end:Br,count:Br-$r,next:iterator.next},this.context)},Fe.prototype._doReset=function(_r){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var $r,Br;!_r&&this._reset&&($r=this._reset(this.context),$r&&$r.progress&&(Br=$r.forceFirstProgress,$r=$r.progress),isArray$1($r)&&!$r.length&&($r=null)),this._progress=$r,this._modBy=this._modDataCount=null;var Fr=this._downstream;return Fr&&Fr.dirty(),Br},Fe.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Fe.prototype.pipe=function(_r){(this._downstream!==_r||this._dirty)&&(this._downstream=_r,_r._upstream=this,_r.dirty())},Fe.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Fe.prototype.getUpstream=function(){return this._upstream},Fe.prototype.getDownstream=function(){return this._downstream},Fe.prototype.setOutputEnd=function(_r){this._outputDueEnd=this._settedOutputEnd=_r},Fe}(),iterator=function(){var Fe,_r,$r,Br,Fr,zr={reset:function(Gr,Yr,Kr,Qr){_r=Gr,Fe=Yr,$r=Kr,Br=Qr,Fr=Math.ceil(Br/$r),zr.next=$r>1&&Br>0?Ur:jr}};return zr;function jr(){return _r<Fe?_r++:null}function Ur(){var Gr=_r%Fr*$r+Math.ceil(_r/Fr),Yr=_r>=Fe?null:Gr<Br?Gr:_r;return _r++,Yr}}();function parseDataValue(Fe,_r){var $r=_r&&_r.type;return $r==="ordinal"?Fe:($r==="time"&&!isNumber(Fe)&&Fe!=null&&Fe!=="-"&&(Fe=+parseDate(Fe)),Fe==null||Fe===""?NaN:+Fe)}var valueParserMap=createHashMap({number:function(Fe){return parseFloat(Fe)},time:function(Fe){return+parseDate(Fe)},trim:function(Fe){return isString(Fe)?trim$1(Fe):Fe}});function getRawValueParser(Fe){return valueParserMap.get(Fe)}var ORDER_COMPARISON_OP_MAP={lt:function(Fe,_r){return Fe<_r},lte:function(Fe,_r){return Fe<=_r},gt:function(Fe,_r){return Fe>_r},gte:function(Fe,_r){return Fe>=_r}},FilterOrderComparator=function(){function Fe(_r,$r){if(!isNumber($r)){var Br="";throwError(Br)}this._opFn=ORDER_COMPARISON_OP_MAP[_r],this._rvalFloat=numericToNumber($r)}return Fe.prototype.evaluate=function(_r){return isNumber(_r)?this._opFn(_r,this._rvalFloat):this._opFn(numericToNumber(_r),this._rvalFloat)},Fe}(),SortOrderComparator=function(){function Fe(_r,$r){var Br=_r==="desc";this._resultLT=Br?1:-1,$r==null&&($r=Br?"min":"max"),this._incomparable=$r==="min"?-1/0:1/0}return Fe.prototype.evaluate=function(_r,$r){var Br=isNumber(_r)?_r:numericToNumber(_r),Fr=isNumber($r)?$r:numericToNumber($r),zr=isNaN(Br),jr=isNaN(Fr);if(zr&&(Br=this._incomparable),jr&&(Fr=this._incomparable),zr&&jr){var Ur=isString(_r),Gr=isString($r);Ur&&(Br=Gr?_r:0),Gr&&(Fr=Ur?$r:0)}return Br<Fr?this._resultLT:Br>Fr?-this._resultLT:0},Fe}(),FilterEqualityComparator=function(){function Fe(_r,$r){this._rval=$r,this._isEQ=_r,this._rvalTypeof=typeof $r,this._rvalFloat=numericToNumber($r)}return Fe.prototype.evaluate=function(_r){var $r=_r===this._rval;if(!$r){var Br=typeof _r;Br!==this._rvalTypeof&&(Br==="number"||this._rvalTypeof==="number")&&($r=numericToNumber(_r)===this._rvalFloat)}return this._isEQ?$r:!$r},Fe}();function createFilterComparator(Fe,_r){return Fe==="eq"||Fe==="ne"?new FilterEqualityComparator(Fe==="eq",_r):hasOwn(ORDER_COMPARISON_OP_MAP,Fe)?new FilterOrderComparator(Fe,_r):null}var ExternalSource=function(){function Fe(){}return Fe.prototype.getRawData=function(){throw new Error("not supported")},Fe.prototype.getRawDataItem=function(_r){throw new Error("not supported")},Fe.prototype.cloneRawData=function(){},Fe.prototype.getDimensionInfo=function(_r){},Fe.prototype.cloneAllDimensionInfo=function(){},Fe.prototype.count=function(){},Fe.prototype.retrieveValue=function(_r,$r){},Fe.prototype.retrieveValueFromItem=function(_r,$r){},Fe.prototype.convertValue=function(_r,$r){return parseDataValue(_r,$r)},Fe}();function createExternalSource(Fe,_r){var $r=new ExternalSource,Br=Fe.data,Fr=$r.sourceFormat=Fe.sourceFormat,zr=Fe.startIndex,jr="";Fe.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(jr);var Ur=[],Gr={},Yr=Fe.dimensionsDefine;if(Yr)each$f(Yr,function(ln,dn){var hn=ln.name,gn={index:dn,name:hn,displayName:ln.displayName};if(Ur.push(gn),hn!=null){var bn="";hasOwn(Gr,hn)&&throwError(bn),Gr[hn]=gn}});else for(var Kr=0;Kr<Fe.dimensionsDetectedCount;Kr++)Ur.push({index:Kr});var Qr=getRawSourceItemGetter(Fr,SERIES_LAYOUT_BY_COLUMN);_r.__isBuiltIn&&($r.getRawDataItem=function(ln){return Qr(Br,zr,Ur,ln)},$r.getRawData=bind$1(getRawData,null,Fe)),$r.cloneRawData=bind$1(cloneRawData,null,Fe);var Jr=getRawSourceDataCounter(Fr,SERIES_LAYOUT_BY_COLUMN);$r.count=bind$1(Jr,null,Br,zr,Ur);var rn=getRawSourceValueGetter(Fr);$r.retrieveValue=function(ln,dn){var hn=Qr(Br,zr,Ur,ln);return an(hn,dn)};var an=$r.retrieveValueFromItem=function(ln,dn){if(ln!=null){var hn=Ur[dn];if(hn)return rn(ln,dn,hn.name)}};return $r.getDimensionInfo=bind$1(getDimensionInfo,null,Ur,Gr),$r.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,Ur),$r}function getRawData(Fe){var _r=Fe.sourceFormat;if(!isSupportedSourceFormat(_r)){var $r="";throwError($r)}return Fe.data}function cloneRawData(Fe){var _r=Fe.sourceFormat,$r=Fe.data;if(!isSupportedSourceFormat(_r)){var Br="";throwError(Br)}if(_r===SOURCE_FORMAT_ARRAY_ROWS){for(var Fr=[],zr=0,jr=$r.length;zr<jr;zr++)Fr.push($r[zr].slice());return Fr}else if(_r===SOURCE_FORMAT_OBJECT_ROWS){for(var Fr=[],zr=0,jr=$r.length;zr<jr;zr++)Fr.push(extend$1({},$r[zr]));return Fr}}function getDimensionInfo(Fe,_r,$r){if($r!=null){if(isNumber($r)||!isNaN($r)&&!hasOwn(_r,$r))return Fe[$r];if(hasOwn(_r,$r))return _r[$r]}}function cloneAllDimensionInfo(Fe){return clone$4(Fe)}var externalTransformMap=createHashMap();function registerExternalTransform(Fe){Fe=clone$4(Fe);var _r=Fe.type,$r="";_r||throwError($r);var Br=_r.split(":");Br.length!==2&&throwError($r);var Fr=!1;Br[0]==="echarts"&&(_r=Br[1],Fr=!0),Fe.__isBuiltIn=Fr,externalTransformMap.set(_r,Fe)}function applyDataTransform(Fe,_r,$r){var Br=normalizeToArray(Fe),Fr=Br.length,zr="";Fr||throwError(zr);for(var jr=0,Ur=Fr;jr<Ur;jr++){var Gr=Br[jr];_r=applySingleDataTransform(Gr,_r),jr!==Ur-1&&(_r.length=Math.max(_r.length,1))}return _r}function applySingleDataTransform(Fe,_r,$r,Br){var Fr="";_r.length||throwError(Fr),isObject$3(Fe)||throwError(Fr);var zr=Fe.type,jr=externalTransformMap.get(zr);jr||throwError(Fr);var Ur=map$1(_r,function(Yr){return createExternalSource(Yr,jr)}),Gr=normalizeToArray(jr.transform({upstream:Ur[0],upstreamList:Ur,config:clone$4(Fe.config)}));return map$1(Gr,function(Yr,Kr){var Qr="";isObject$3(Yr)||throwError(Qr),Yr.data||throwError(Qr);var Jr=detectSourceFormat(Yr.data);isSupportedSourceFormat(Jr)||throwError(Qr);var rn,an=_r[0];if(an&&Kr===0&&!Yr.dimensions){var ln=an.startIndex;ln&&(Yr.data=an.data.slice(0,ln).concat(Yr.data)),rn={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:ln,dimensions:an.metaRawOption.dimensions}}else rn={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:Yr.dimensions};return createSource(Yr.data,rn,null)})}function isSupportedSourceFormat(Fe){return Fe===SOURCE_FORMAT_ARRAY_ROWS||Fe===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(Fe){return Fe>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(Fe){var _r=Fe.constructor;return _r===Array?Fe.slice():new _r(Fe)}function prepareStore(Fe,_r,$r,Br,Fr){var zr=dataCtors[$r||"float"];if(Fr){var jr=Fe[_r],Ur=jr&&jr.length;if(Ur!==Br){for(var Gr=new zr(Br),Yr=0;Yr<Ur;Yr++)Gr[Yr]=jr[Yr];Fe[_r]=Gr}}else Fe[_r]=new zr(Br)}var DataStore=function(){function Fe(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return Fe.prototype.initData=function(_r,$r,Br){this._provider=_r,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var Fr=_r.getSource(),zr=this.defaultDimValueGetter=defaultDimValueGetters[Fr.sourceFormat];this._dimValueGetter=Br||zr,this._rawExtent=[],shouldRetrieveDataByName(Fr),this._dimensions=map$1($r,function(jr){return{type:jr.type,property:jr.property}}),this._initDataFromProvider(0,_r.count())},Fe.prototype.getProvider=function(){return this._provider},Fe.prototype.getSource=function(){return this._provider.getSource()},Fe.prototype.ensureCalculationDimension=function(_r,$r){var Br=this._calcDimNameToIdx,Fr=this._dimensions,zr=Br.get(_r);if(zr!=null){if(Fr[zr].type===$r)return zr}else zr=Fr.length;return Fr[zr]={type:$r},Br.set(_r,zr),this._chunks[zr]=new dataCtors[$r||"float"](this._rawCount),this._rawExtent[zr]=getInitialExtent(),zr},Fe.prototype.collectOrdinalMeta=function(_r,$r){var Br=this._chunks[_r],Fr=this._dimensions[_r],zr=this._rawExtent,jr=Fr.ordinalOffset||0,Ur=Br.length;jr===0&&(zr[_r]=getInitialExtent());for(var Gr=zr[_r],Yr=jr;Yr<Ur;Yr++){var Kr=Br[Yr]=$r.parseAndCollect(Br[Yr]);isNaN(Kr)||(Gr[0]=Math.min(Kr,Gr[0]),Gr[1]=Math.max(Kr,Gr[1]))}Fr.ordinalMeta=$r,Fr.ordinalOffset=Ur,Fr.type="ordinal"},Fe.prototype.getOrdinalMeta=function(_r){var $r=this._dimensions[_r],Br=$r.ordinalMeta;return Br},Fe.prototype.getDimensionProperty=function(_r){var $r=this._dimensions[_r];return $r&&$r.property},Fe.prototype.appendData=function(_r){var $r=this._provider,Br=this.count();$r.appendData(_r);var Fr=$r.count();return $r.persistent||(Fr+=Br),Br<Fr&&this._initDataFromProvider(Br,Fr,!0),[Br,Fr]},Fe.prototype.appendValues=function(_r,$r){for(var Br=this._chunks,Fr=this._dimensions,zr=Fr.length,jr=this._rawExtent,Ur=this.count(),Gr=Ur+Math.max(_r.length,$r||0),Yr=0;Yr<zr;Yr++){var Kr=Fr[Yr];prepareStore(Br,Yr,Kr.type,Gr,!0)}for(var Qr=[],Jr=Ur;Jr<Gr;Jr++)for(var rn=Jr-Ur,an=0;an<zr;an++){var Kr=Fr[an],ln=defaultDimValueGetters.arrayRows.call(this,_r[rn]||Qr,Kr.property,rn,an);Br[an][Jr]=ln;var dn=jr[an];ln<dn[0]&&(dn[0]=ln),ln>dn[1]&&(dn[1]=ln)}return this._rawCount=this._count=Gr,{start:Ur,end:Gr}},Fe.prototype._initDataFromProvider=function(_r,$r,Br){for(var Fr=this._provider,zr=this._chunks,jr=this._dimensions,Ur=jr.length,Gr=this._rawExtent,Yr=map$1(jr,function(gn){return gn.property}),Kr=0;Kr<Ur;Kr++){var Qr=jr[Kr];Gr[Kr]||(Gr[Kr]=getInitialExtent()),prepareStore(zr,Kr,Qr.type,$r,Br)}if(Fr.fillStorage)Fr.fillStorage(_r,$r,zr,Gr);else for(var Jr=[],rn=_r;rn<$r;rn++){Jr=Fr.getItem(rn,Jr);for(var an=0;an<Ur;an++){var ln=zr[an],dn=this._dimValueGetter(Jr,Yr[an],rn,an);ln[rn]=dn;var hn=Gr[an];dn<hn[0]&&(hn[0]=dn),dn>hn[1]&&(hn[1]=dn)}}!Fr.persistent&&Fr.clean&&Fr.clean(),this._rawCount=this._count=$r,this._extent=[]},Fe.prototype.count=function(){return this._count},Fe.prototype.get=function(_r,$r){if(!($r>=0&&$r<this._count))return NaN;var Br=this._chunks[_r];return Br?Br[this.getRawIndex($r)]:NaN},Fe.prototype.getValues=function(_r,$r){var Br=[],Fr=[];if($r==null){$r=_r,_r=[];for(var zr=0;zr<this._dimensions.length;zr++)Fr.push(zr)}else Fr=_r;for(var zr=0,jr=Fr.length;zr<jr;zr++)Br.push(this.get(Fr[zr],$r));return Br},Fe.prototype.getByRawIndex=function(_r,$r){if(!($r>=0&&$r<this._rawCount))return NaN;var Br=this._chunks[_r];return Br?Br[$r]:NaN},Fe.prototype.getSum=function(_r){var $r=this._chunks[_r],Br=0;if($r)for(var Fr=0,zr=this.count();Fr<zr;Fr++){var jr=this.get(_r,Fr);isNaN(jr)||(Br+=jr)}return Br},Fe.prototype.getMedian=function(_r){var $r=[];this.each([_r],function(zr){isNaN(zr)||$r.push(zr)});var Br=$r.sort(function(zr,jr){return zr-jr}),Fr=this.count();return Fr===0?0:Fr%2===1?Br[(Fr-1)/2]:(Br[Fr/2]+Br[Fr/2-1])/2},Fe.prototype.indexOfRawIndex=function(_r){if(_r>=this._rawCount||_r<0)return-1;if(!this._indices)return _r;var $r=this._indices,Br=$r[_r];if(Br!=null&&Br<this._count&&Br===_r)return _r;for(var Fr=0,zr=this._count-1;Fr<=zr;){var jr=(Fr+zr)/2|0;if($r[jr]<_r)Fr=jr+1;else if($r[jr]>_r)zr=jr-1;else return jr}return-1},Fe.prototype.indicesOfNearest=function(_r,$r,Br){var Fr=this._chunks,zr=Fr[_r],jr=[];if(!zr)return jr;Br==null&&(Br=1/0);for(var Ur=1/0,Gr=-1,Yr=0,Kr=0,Qr=this.count();Kr<Qr;Kr++){var Jr=this.getRawIndex(Kr),rn=$r-zr[Jr],an=Math.abs(rn);an<=Br&&((an<Ur||an===Ur&&rn>=0&&Gr<0)&&(Ur=an,Gr=rn,Yr=0),rn===Gr&&(jr[Yr++]=Kr))}return jr.length=Yr,jr},Fe.prototype.getIndices=function(){var _r,$r=this._indices;if($r){var Br=$r.constructor,Fr=this._count;if(Br===Array){_r=new Br(Fr);for(var zr=0;zr<Fr;zr++)_r[zr]=$r[zr]}else _r=new Br($r.buffer,0,Fr)}else{var Br=getIndicesCtor(this._rawCount);_r=new Br(this.count());for(var zr=0;zr<_r.length;zr++)_r[zr]=zr}return _r},Fe.prototype.filter=function(_r,$r){if(!this._count)return this;for(var Br=this.clone(),Fr=Br.count(),zr=getIndicesCtor(Br._rawCount),jr=new zr(Fr),Ur=[],Gr=_r.length,Yr=0,Kr=_r[0],Qr=Br._chunks,Jr=0;Jr<Fr;Jr++){var rn=void 0,an=Br.getRawIndex(Jr);if(Gr===0)rn=$r(Jr);else if(Gr===1){var ln=Qr[Kr][an];rn=$r(ln,Jr)}else{for(var dn=0;dn<Gr;dn++)Ur[dn]=Qr[_r[dn]][an];Ur[dn]=Jr,rn=$r.apply(null,Ur)}rn&&(jr[Yr++]=an)}return Yr<Fr&&(Br._indices=jr),Br._count=Yr,Br._extent=[],Br._updateGetRawIdx(),Br},Fe.prototype.selectRange=function(_r){var $r=this.clone(),Br=$r._count;if(!Br)return this;var Fr=keys(_r),zr=Fr.length;if(!zr)return this;var jr=$r.count(),Ur=getIndicesCtor($r._rawCount),Gr=new Ur(jr),Yr=0,Kr=Fr[0],Qr=_r[Kr][0],Jr=_r[Kr][1],rn=$r._chunks,an=!1;if(!$r._indices){var ln=0;if(zr===1){for(var dn=rn[Fr[0]],hn=0;hn<Br;hn++){var gn=dn[hn];(gn>=Qr&&gn<=Jr||isNaN(gn))&&(Gr[Yr++]=ln),ln++}an=!0}else if(zr===2){for(var dn=rn[Fr[0]],bn=rn[Fr[1]],kn=_r[Fr[1]][0],Sn=_r[Fr[1]][1],hn=0;hn<Br;hn++){var gn=dn[hn],_n=bn[hn];(gn>=Qr&&gn<=Jr||isNaN(gn))&&(_n>=kn&&_n<=Sn||isNaN(_n))&&(Gr[Yr++]=ln),ln++}an=!0}}if(!an)if(zr===1)for(var hn=0;hn<jr;hn++){var pn=$r.getRawIndex(hn),gn=rn[Fr[0]][pn];(gn>=Qr&&gn<=Jr||isNaN(gn))&&(Gr[Yr++]=pn)}else for(var hn=0;hn<jr;hn++){for(var Cn=!0,pn=$r.getRawIndex(hn),En=0;En<zr;En++){var Pn=Fr[En],gn=rn[Pn][pn];(gn<_r[Pn][0]||gn>_r[Pn][1])&&(Cn=!1)}Cn&&(Gr[Yr++]=$r.getRawIndex(hn))}return Yr<jr&&($r._indices=Gr),$r._count=Yr,$r._extent=[],$r._updateGetRawIdx(),$r},Fe.prototype.map=function(_r,$r){var Br=this.clone(_r);return this._updateDims(Br,_r,$r),Br},Fe.prototype.modify=function(_r,$r){this._updateDims(this,_r,$r)},Fe.prototype._updateDims=function(_r,$r,Br){for(var Fr=_r._chunks,zr=[],jr=$r.length,Ur=_r.count(),Gr=[],Yr=_r._rawExtent,Kr=0;Kr<$r.length;Kr++)Yr[$r[Kr]]=getInitialExtent();for(var Qr=0;Qr<Ur;Qr++){for(var Jr=_r.getRawIndex(Qr),rn=0;rn<jr;rn++)Gr[rn]=Fr[$r[rn]][Jr];Gr[jr]=Qr;var an=Br&&Br.apply(null,Gr);if(an!=null){typeof an!="object"&&(zr[0]=an,an=zr);for(var Kr=0;Kr<an.length;Kr++){var ln=$r[Kr],dn=an[Kr],hn=Yr[ln],gn=Fr[ln];gn&&(gn[Jr]=dn),dn<hn[0]&&(hn[0]=dn),dn>hn[1]&&(hn[1]=dn)}}}},Fe.prototype.lttbDownSample=function(_r,$r){var Br=this.clone([_r],!0),Fr=Br._chunks,zr=Fr[_r],jr=this.count(),Ur=0,Gr=Math.floor(1/$r),Yr=this.getRawIndex(0),Kr,Qr,Jr,rn=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(jr/Gr)+2)*2,jr));rn[Ur++]=Yr;for(var an=1;an<jr-1;an+=Gr){for(var ln=Math.min(an+Gr,jr-1),dn=Math.min(an+Gr*2,jr),hn=(dn+ln)/2,gn=0,bn=ln;bn<dn;bn++){var kn=this.getRawIndex(bn),Sn=zr[kn];isNaN(Sn)||(gn+=Sn)}gn/=dn-ln;var _n=an,pn=Math.min(an+Gr,jr),Cn=an-1,En=zr[Yr];Kr=-1,Jr=_n;for(var Pn=-1,On=0,bn=_n;bn<pn;bn++){var kn=this.getRawIndex(bn),Sn=zr[kn];if(isNaN(Sn)){On++,Pn<0&&(Pn=kn);continue}Qr=Math.abs((Cn-hn)*(Sn-En)-(Cn-bn)*(gn-En)),Qr>Kr&&(Kr=Qr,Jr=kn)}On>0&&On<pn-_n&&(rn[Ur++]=Math.min(Pn,Jr),Jr=Math.max(Pn,Jr)),rn[Ur++]=Jr,Yr=Jr}return rn[Ur++]=this.getRawIndex(jr-1),Br._count=Ur,Br._indices=rn,Br.getRawIndex=this._getRawIdx,Br},Fe.prototype.downSample=function(_r,$r,Br,Fr){for(var zr=this.clone([_r],!0),jr=zr._chunks,Ur=[],Gr=Math.floor(1/$r),Yr=jr[_r],Kr=this.count(),Qr=zr._rawExtent[_r]=getInitialExtent(),Jr=new(getIndicesCtor(this._rawCount))(Math.ceil(Kr/Gr)),rn=0,an=0;an<Kr;an+=Gr){Gr>Kr-an&&(Gr=Kr-an,Ur.length=Gr);for(var ln=0;ln<Gr;ln++){var dn=this.getRawIndex(an+ln);Ur[ln]=Yr[dn]}var hn=Br(Ur),gn=this.getRawIndex(Math.min(an+Fr(Ur,hn)||0,Kr-1));Yr[gn]=hn,hn<Qr[0]&&(Qr[0]=hn),hn>Qr[1]&&(Qr[1]=hn),Jr[rn++]=gn}return zr._count=rn,zr._indices=Jr,zr._updateGetRawIdx(),zr},Fe.prototype.each=function(_r,$r){if(this._count)for(var Br=_r.length,Fr=this._chunks,zr=0,jr=this.count();zr<jr;zr++){var Ur=this.getRawIndex(zr);switch(Br){case 0:$r(zr);break;case 1:$r(Fr[_r[0]][Ur],zr);break;case 2:$r(Fr[_r[0]][Ur],Fr[_r[1]][Ur],zr);break;default:for(var Gr=0,Yr=[];Gr<Br;Gr++)Yr[Gr]=Fr[_r[Gr]][Ur];Yr[Gr]=zr,$r.apply(null,Yr)}}},Fe.prototype.getDataExtent=function(_r){var $r=this._chunks[_r],Br=getInitialExtent();if(!$r)return Br;var Fr=this.count(),zr=!this._indices,jr;if(zr)return this._rawExtent[_r].slice();if(jr=this._extent[_r],jr)return jr.slice();jr=Br;for(var Ur=jr[0],Gr=jr[1],Yr=0;Yr<Fr;Yr++){var Kr=this.getRawIndex(Yr),Qr=$r[Kr];Qr<Ur&&(Ur=Qr),Qr>Gr&&(Gr=Qr)}return jr=[Ur,Gr],this._extent[_r]=jr,jr},Fe.prototype.getRawDataItem=function(_r){var $r=this.getRawIndex(_r);if(this._provider.persistent)return this._provider.getItem($r);for(var Br=[],Fr=this._chunks,zr=0;zr<Fr.length;zr++)Br.push(Fr[zr][$r]);return Br},Fe.prototype.clone=function(_r,$r){var Br=new Fe,Fr=this._chunks,zr=_r&&reduce(_r,function(Ur,Gr){return Ur[Gr]=!0,Ur},{});if(zr)for(var jr=0;jr<Fr.length;jr++)Br._chunks[jr]=zr[jr]?cloneChunk(Fr[jr]):Fr[jr];else Br._chunks=Fr;return this._copyCommonProps(Br),$r||(Br._indices=this._cloneIndices()),Br._updateGetRawIdx(),Br},Fe.prototype._copyCommonProps=function(_r){_r._count=this._count,_r._rawCount=this._rawCount,_r._provider=this._provider,_r._dimensions=this._dimensions,_r._extent=clone$4(this._extent),_r._rawExtent=clone$4(this._rawExtent)},Fe.prototype._cloneIndices=function(){if(this._indices){var _r=this._indices.constructor,$r=void 0;if(_r===Array){var Br=this._indices.length;$r=new _r(Br);for(var Fr=0;Fr<Br;Fr++)$r[Fr]=this._indices[Fr]}else $r=new _r(this._indices);return $r}return null},Fe.prototype._getRawIdxIdentity=function(_r){return _r},Fe.prototype._getRawIdx=function(_r){return _r<this._count&&_r>=0?this._indices[_r]:-1},Fe.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},Fe.internalField=function(){function _r($r,Br,Fr,zr){return parseDataValue($r[zr],this._dimensions[zr])}defaultDimValueGetters={arrayRows:_r,objectRows:function($r,Br,Fr,zr){return parseDataValue($r[Br],this._dimensions[zr])},keyedColumns:_r,original:function($r,Br,Fr,zr){var jr=$r&&($r.value==null?$r:$r.value);return parseDataValue(jr instanceof Array?jr[zr]:jr,this._dimensions[zr])},typedArray:function($r,Br,Fr,zr){return $r[zr]}}}(),Fe}();const DataStore$1=DataStore;var SourceManager=function(){function Fe(_r){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=_r}return Fe.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},Fe.prototype._setLocalSource=function(_r,$r){this._sourceList=_r,this._upstreamSignList=$r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},Fe.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},Fe.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},Fe.prototype._createSource=function(){this._setLocalSource([],[]);var _r=this._sourceHost,$r=this._getUpstreamSourceManagers(),Br=!!$r.length,Fr,zr;if(isSeries(_r)){var jr=_r,Ur=void 0,Gr=void 0,Yr=void 0;if(Br){var Kr=$r[0];Kr.prepareSource(),Yr=Kr.getSource(),Ur=Yr.data,Gr=Yr.sourceFormat,zr=[Kr._getVersionSign()]}else Ur=jr.get("data",!0),Gr=isTypedArray(Ur)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,zr=[];var Qr=this._getSourceMetaRawOption()||{},Jr=Yr&&Yr.metaRawOption||{},rn=retrieve2(Qr.seriesLayoutBy,Jr.seriesLayoutBy)||null,an=retrieve2(Qr.sourceHeader,Jr.sourceHeader),ln=retrieve2(Qr.dimensions,Jr.dimensions),dn=rn!==Jr.seriesLayoutBy||!!an!=!!Jr.sourceHeader||ln;Fr=dn?[createSource(Ur,{seriesLayoutBy:rn,sourceHeader:an,dimensions:ln},Gr)]:[]}else{var hn=_r;if(Br){var gn=this._applyTransform($r);Fr=gn.sourceList,zr=gn.upstreamSignList}else{var bn=hn.get("source",!0);Fr=[createSource(bn,this._getSourceMetaRawOption(),null)],zr=[]}}this._setLocalSource(Fr,zr)},Fe.prototype._applyTransform=function(_r){var $r=this._sourceHost,Br=$r.get("transform",!0),Fr=$r.get("fromTransformResult",!0);if(Fr!=null){var zr="";_r.length!==1&&doThrow(zr)}var jr,Ur=[],Gr=[];return each$f(_r,function(Yr){Yr.prepareSource();var Kr=Yr.getSource(Fr||0),Qr="";Fr!=null&&!Kr&&doThrow(Qr),Ur.push(Kr),Gr.push(Yr._getVersionSign())}),Br?jr=applyDataTransform(Br,Ur,{datasetIndex:$r.componentIndex}):Fr!=null&&(jr=[cloneSourceShallow(Ur[0])]),{sourceList:jr,upstreamSignList:Gr}},Fe.prototype._isDirty=function(){if(this._dirty)return!0;for(var _r=this._getUpstreamSourceManagers(),$r=0;$r<_r.length;$r++){var Br=_r[$r];if(Br._isDirty()||this._upstreamSignList[$r]!==Br._getVersionSign())return!0}},Fe.prototype.getSource=function(_r){_r=_r||0;var $r=this._sourceList[_r];if(!$r){var Br=this._getUpstreamSourceManagers();return Br[0]&&Br[0].getSource(_r)}return $r},Fe.prototype.getSharedDataStore=function(_r){var $r=_r.makeStoreSchema();return this._innerGetDataStore($r.dimensions,_r.source,$r.hash)},Fe.prototype._innerGetDataStore=function(_r,$r,Br){var Fr=0,zr=this._storeList,jr=zr[Fr];jr||(jr=zr[Fr]={});var Ur=jr[Br];if(!Ur){var Gr=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&Gr?Ur=Gr._innerGetDataStore(_r,$r,Br):(Ur=new DataStore$1,Ur.initData(new DefaultDataProvider($r,_r.length),_r)),jr[Br]=Ur}return Ur},Fe.prototype._getUpstreamSourceManagers=function(){var _r=this._sourceHost;if(isSeries(_r)){var $r=querySeriesUpstreamDatasetModel(_r);return $r?[$r.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(_r),function(Br){return Br.getSourceManager()})},Fe.prototype._getSourceMetaRawOption=function(){var _r=this._sourceHost,$r,Br,Fr;if(isSeries(_r))$r=_r.get("seriesLayoutBy",!0),Br=_r.get("sourceHeader",!0),Fr=_r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var zr=_r;$r=zr.get("seriesLayoutBy",!0),Br=zr.get("sourceHeader",!0),Fr=zr.get("dimensions",!0)}return{seriesLayoutBy:$r,sourceHeader:Br,dimensions:Fr}},Fe}();function disableTransformOptionMerge(Fe){var _r=Fe.option.transform;_r&&setAsPrimitive(Fe.option.transform)}function isSeries(Fe){return Fe.mainType==="series"}function doThrow(Fe){throw new Error(Fe)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(Fe,_r){var $r=Fe.color||"#6e7079",Br=Fe.fontSize||12,Fr=Fe.fontWeight||"400",zr=Fe.color||"#464646",jr=Fe.fontSize||14,Ur=Fe.fontWeight||"900";return _r==="html"?{nameStyle:"font-size:"+encodeHTML(Br+"")+"px;color:"+encodeHTML($r)+";font-weight:"+encodeHTML(Fr+""),valueStyle:"font-size:"+encodeHTML(jr+"")+"px;color:"+encodeHTML(zr)+";font-weight:"+encodeHTML(Ur+"")}:{nameStyle:{fontSize:Br,fill:$r,fontWeight:Fr},valueStyle:{fontSize:jr,fill:zr,fontWeight:Ur}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(Fe,_r){return _r.type=Fe,_r}function isSectionFragment(Fe){return Fe.type==="section"}function getBuilder(Fe){return isSectionFragment(Fe)?buildSection:buildNameValue}function getBlockGapLevel(Fe){if(isSectionFragment(Fe)){var _r=0,$r=Fe.blocks.length,Br=$r>1||$r>0&&!Fe.noHeader;return each$f(Fe.blocks,function(Fr){var zr=getBlockGapLevel(Fr);zr>=_r&&(_r=zr+ +(Br&&(!zr||isSectionFragment(Fr)&&!Fr.noHeader)))}),_r}return 0}function buildSection(Fe,_r,$r,Br){var Fr=_r.noHeader,zr=getGap(getBlockGapLevel(_r)),jr=[],Ur=_r.blocks||[];assert(!Ur||isArray$1(Ur)),Ur=Ur||[];var Gr=Fe.orderMode;if(_r.sortBlocks&&Gr){Ur=Ur.slice();var Yr={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(Yr,Gr)){var Kr=new SortOrderComparator(Yr[Gr],null);Ur.sort(function(an,ln){return Kr.evaluate(an.sortParam,ln.sortParam)})}else Gr==="seriesDesc"&&Ur.reverse()}each$f(Ur,function(an,ln){var dn=_r.valueFormatter,hn=getBuilder(an)(dn?extend$1(extend$1({},Fe),{valueFormatter:dn}):Fe,an,ln>0?zr.html:0,Br);hn!=null&&jr.push(hn)});var Qr=Fe.renderMode==="richText"?jr.join(zr.richText):wrapBlockHTML(jr.join(""),Fr?$r:zr.html);if(Fr)return Qr;var Jr=makeValueReadable(_r.header,"ordinal",Fe.useUTC),rn=getTooltipTextStyle(Br,Fe.renderMode).nameStyle;return Fe.renderMode==="richText"?wrapInlineNameRichText(Fe,Jr,rn)+zr.richText+Qr:wrapBlockHTML('<div style="'+rn+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(Jr)+"</div>"+Qr,$r)}function buildNameValue(Fe,_r,$r,Br){var Fr=Fe.renderMode,zr=_r.noName,jr=_r.noValue,Ur=!_r.markerType,Gr=_r.name,Yr=Fe.useUTC,Kr=_r.valueFormatter||Fe.valueFormatter||function(kn){return kn=isArray$1(kn)?kn:[kn],map$1(kn,function(Sn,_n){return makeValueReadable(Sn,isArray$1(rn)?rn[_n]:rn,Yr)})};if(!(zr&&jr)){var Qr=Ur?"":Fe.markupStyleCreator.makeTooltipMarker(_r.markerType,_r.markerColor||"#333",Fr),Jr=zr?"":makeValueReadable(Gr,"ordinal",Yr),rn=_r.valueType,an=jr?[]:Kr(_r.value),ln=!Ur||!zr,dn=!Ur&&zr,hn=getTooltipTextStyle(Br,Fr),gn=hn.nameStyle,bn=hn.valueStyle;return Fr==="richText"?(Ur?"":Qr)+(zr?"":wrapInlineNameRichText(Fe,Jr,gn))+(jr?"":wrapInlineValueRichText(Fe,an,ln,dn,bn)):wrapBlockHTML((Ur?"":Qr)+(zr?"":wrapInlineNameHTML(Jr,!Ur,gn))+(jr?"":wrapInlineValueHTML(an,ln,dn,bn)),$r)}}function buildTooltipMarkup(Fe,_r,$r,Br,Fr,zr){if(Fe){var jr=getBuilder(Fe),Ur={useUTC:Fr,renderMode:$r,orderMode:Br,markupStyleCreator:_r,valueFormatter:Fe.valueFormatter};return jr(Ur,Fe,0,zr)}}function getGap(Fe){return{html:HTML_GAPS[Fe],richText:RICH_TEXT_GAPS[Fe]}}function wrapBlockHTML(Fe,_r){var $r='<div style="clear:both"></div>',Br="margin: "+_r+"px 0 0";return'<div style="'+Br+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+Fe+$r+"</div>"}function wrapInlineNameHTML(Fe,_r,$r){var Br=_r?"margin-left:2px":"";return'<span style="'+$r+";"+Br+'">'+encodeHTML(Fe)+"</span>"}function wrapInlineValueHTML(Fe,_r,$r,Br){var Fr=$r?"10px":"20px",zr=_r?"float:right;margin-left:"+Fr:"";return Fe=isArray$1(Fe)?Fe:[Fe],'<span style="'+zr+";"+Br+'">'+map$1(Fe,function(jr){return encodeHTML(jr)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(Fe,_r,$r){return Fe.markupStyleCreator.wrapRichTextStyle(_r,$r)}function wrapInlineValueRichText(Fe,_r,$r,Br,Fr){var zr=[Fr],jr=Br?10:20;return $r&&zr.push({padding:[0,0,0,jr],align:"right"}),Fe.markupStyleCreator.wrapRichTextStyle(isArray$1(_r)?_r.join("  "):_r,zr)}function retrieveVisualColorForTooltipMarker(Fe,_r){var $r=Fe.getData().getItemVisual(_r,"style"),Br=$r[Fe.visualDrawType];return convertToColorString(Br)}function getPaddingFromTooltipModel(Fe,_r){var $r=Fe.get("padding");return $r??(_r==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function Fe(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return Fe.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},Fe.prototype.makeTooltipMarker=function(_r,$r,Br){var Fr=Br==="richText"?this._generateStyleName():null,zr=getTooltipMarker({color:$r,type:_r,renderMode:Br,markerId:Fr});return isString(zr)?zr:(this.richTextStyles[Fr]=zr.style,zr.content)},Fe.prototype.wrapRichTextStyle=function(_r,$r){var Br={};isArray$1($r)?each$f($r,function(zr){return extend$1(Br,zr)}):extend$1(Br,$r);var Fr=this._generateStyleName();return this.richTextStyles[Fr]=Br,"{"+Fr+"|"+_r+"}"},Fe}();function defaultSeriesFormatTooltip(Fe){var _r=Fe.series,$r=Fe.dataIndex,Br=Fe.multipleSeries,Fr=_r.getData(),zr=Fr.mapDimensionsAll("defaultedTooltip"),jr=zr.length,Ur=_r.getRawValue($r),Gr=isArray$1(Ur),Yr=retrieveVisualColorForTooltipMarker(_r,$r),Kr,Qr,Jr,rn;if(jr>1||Gr&&!jr){var an=formatTooltipArrayValue(Ur,_r,$r,zr,Yr);Kr=an.inlineValues,Qr=an.inlineValueTypes,Jr=an.blocks,rn=an.inlineValues[0]}else if(jr){var ln=Fr.getDimensionInfo(zr[0]);rn=Kr=retrieveRawValue(Fr,$r,zr[0]),Qr=ln.type}else rn=Kr=Gr?Ur[0]:Ur;var dn=isNameSpecified(_r),hn=dn&&_r.name||"",gn=Fr.getName($r),bn=Br?hn:gn;return createTooltipMarkup("section",{header:hn,noHeader:Br||!dn,sortParam:rn,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:Yr,name:bn,noName:!trim$1(bn),value:Kr,valueType:Qr})].concat(Jr||[])})}function formatTooltipArrayValue(Fe,_r,$r,Br,Fr){var zr=_r.getData(),jr=reduce(Fe,function(Qr,Jr,rn){var an=zr.getDimensionInfo(rn);return Qr=Qr||an&&an.tooltip!==!1&&an.displayName!=null},!1),Ur=[],Gr=[],Yr=[];Br.length?each$f(Br,function(Qr){Kr(retrieveRawValue(zr,$r,Qr),Qr)}):each$f(Fe,Kr);function Kr(Qr,Jr){var rn=zr.getDimensionInfo(Jr);!rn||rn.otherDims.tooltip===!1||(jr?Yr.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:Fr,name:rn.displayName,value:Qr,valueType:rn.type})):(Ur.push(Qr),Gr.push(rn.type)))}return{inlineValues:Ur,inlineValueTypes:Gr,blocks:Yr}}var inner$k=makeInner();function getSelectionKey(Fe,_r){return Fe.getName(_r)||Fe.getId(_r)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r._selectedDataIndicesMap={},$r}return _r.prototype.init=function($r,Br,Fr){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme($r,Fr);var zr=inner$k(this).sourceManager=new SourceManager(this);zr.prepareSource();var jr=this.getInitialData($r,Fr);wrapData(jr,this),this.dataTask.context.data=jr,inner$k(this).dataBeforeProcessed=jr,autoSeriesName(this),this._initSelectedMapFromData(jr)},_r.prototype.mergeDefaultAndTheme=function($r,Br){var Fr=fetchLayoutMode(this),zr=Fr?getLayoutParams($r):{},jr=this.subType;ComponentModel$1.hasClass(jr)&&(jr+="Series"),merge($r,Br.getTheme().get(this.subType)),merge($r,this.getDefaultOption()),defaultEmphasis($r,"label",["show"]),this.fillDataTextStyle($r.data),Fr&&mergeLayoutParam($r,zr,Fr)},_r.prototype.mergeOption=function($r,Br){$r=merge(this.option,$r,!0),this.fillDataTextStyle($r.data);var Fr=fetchLayoutMode(this);Fr&&mergeLayoutParam(this.option,$r,Fr);var zr=inner$k(this).sourceManager;zr.dirty(),zr.prepareSource();var jr=this.getInitialData($r,Br);wrapData(jr,this),this.dataTask.dirty(),this.dataTask.context.data=jr,inner$k(this).dataBeforeProcessed=jr,autoSeriesName(this),this._initSelectedMapFromData(jr)},_r.prototype.fillDataTextStyle=function($r){if($r&&!isTypedArray($r))for(var Br=["show"],Fr=0;Fr<$r.length;Fr++)$r[Fr]&&$r[Fr].label&&defaultEmphasis($r[Fr],"label",Br)},_r.prototype.getInitialData=function($r,Br){},_r.prototype.appendData=function($r){var Br=this.getRawData();Br.appendData($r.data)},_r.prototype.getData=function($r){var Br=getCurrentTask(this);if(Br){var Fr=Br.context.data;return $r==null?Fr:Fr.getLinkedData($r)}else return inner$k(this).data},_r.prototype.getAllData=function(){var $r=this.getData();return $r&&$r.getLinkedDataAll?$r.getLinkedDataAll():[{data:$r}]},_r.prototype.setData=function($r){var Br=getCurrentTask(this);if(Br){var Fr=Br.context;Fr.outputData=$r,Br!==this.dataTask&&(Fr.data=$r)}inner$k(this).data=$r},_r.prototype.getEncode=function(){var $r=this.get("encode",!0);if($r)return createHashMap($r)},_r.prototype.getSourceManager=function(){return inner$k(this).sourceManager},_r.prototype.getSource=function(){return this.getSourceManager().getSource()},_r.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},_r.prototype.getColorBy=function(){var $r=this.get("colorBy");return $r||"series"},_r.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},_r.prototype.getBaseAxis=function(){var $r=this.coordinateSystem;return $r&&$r.getBaseAxis&&$r.getBaseAxis()},_r.prototype.formatTooltip=function($r,Br,Fr){return defaultSeriesFormatTooltip({series:this,dataIndex:$r,multipleSeries:Br})},_r.prototype.isAnimationEnabled=function(){var $r=this.ecModel;if(env$1.node&&!($r&&$r.ssr))return!1;var Br=this.getShallow("animation");return Br&&this.getData().count()>this.getShallow("animationThreshold")&&(Br=!1),!!Br},_r.prototype.restoreData=function(){this.dataTask.dirty()},_r.prototype.getColorFromPalette=function($r,Br,Fr){var zr=this.ecModel,jr=PaletteMixin.prototype.getColorFromPalette.call(this,$r,Br,Fr);return jr||(jr=zr.getColorFromPalette($r,Br,Fr)),jr},_r.prototype.coordDimToDataDim=function($r){return this.getRawData().mapDimensionsAll($r)},_r.prototype.getProgressive=function(){return this.get("progressive")},_r.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},_r.prototype.select=function($r,Br){this._innerSelect(this.getData(Br),$r)},_r.prototype.unselect=function($r,Br){var Fr=this.option.selectedMap;if(Fr){var zr=this.option.selectedMode,jr=this.getData(Br);if(zr==="series"||Fr==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var Ur=0;Ur<$r.length;Ur++){var Gr=$r[Ur],Yr=getSelectionKey(jr,Gr);Fr[Yr]=!1,this._selectedDataIndicesMap[Yr]=-1}}},_r.prototype.toggleSelect=function($r,Br){for(var Fr=[],zr=0;zr<$r.length;zr++)Fr[0]=$r[zr],this.isSelected($r[zr],Br)?this.unselect(Fr,Br):this.select(Fr,Br)},_r.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var $r=this._selectedDataIndicesMap,Br=keys($r),Fr=[],zr=0;zr<Br.length;zr++){var jr=$r[Br[zr]];jr>=0&&Fr.push(jr)}return Fr},_r.prototype.isSelected=function($r,Br){var Fr=this.option.selectedMap;if(!Fr)return!1;var zr=this.getData(Br);return(Fr==="all"||Fr[getSelectionKey(zr,$r)])&&!zr.getItemModel($r).get(["select","disabled"])},_r.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var $r=this.option.universalTransition;return $r?$r===!0?!0:$r&&$r.enabled:!1},_r.prototype._innerSelect=function($r,Br){var Fr,zr,jr=this.option,Ur=jr.selectedMode,Gr=Br.length;if(!(!Ur||!Gr)){if(Ur==="series")jr.selectedMap="all";else if(Ur==="multiple"){isObject$3(jr.selectedMap)||(jr.selectedMap={});for(var Yr=jr.selectedMap,Kr=0;Kr<Gr;Kr++){var Qr=Br[Kr],Jr=getSelectionKey($r,Qr);Yr[Jr]=!0,this._selectedDataIndicesMap[Jr]=$r.getRawIndex(Qr)}}else if(Ur==="single"||Ur===!0){var rn=Br[Gr-1],Jr=getSelectionKey($r,rn);jr.selectedMap=(Fr={},Fr[Jr]=!0,Fr),this._selectedDataIndicesMap=(zr={},zr[Jr]=$r.getRawIndex(rn),zr)}}},_r.prototype._initSelectedMapFromData=function($r){if(!this.option.selectedMap){var Br=[];$r.hasItemOption&&$r.each(function(Fr){var zr=$r.getRawDataItem(Fr);zr&&zr.selected&&Br.push(Fr)}),Br.length>0&&this._innerSelect($r,Br)}},_r.registerClass=function($r){return ComponentModel$1.registerClass($r)},_r.protoInitialize=function(){var $r=_r.prototype;$r.type="series.__base__",$r.seriesIndex=0,$r.ignoreStyleOnData=!1,$r.hasSymbolVisual=!1,$r.defaultSymbol="circle",$r.visualStyleAccessPath="itemStyle",$r.visualDrawType="fill"}(),_r}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(Fe){var _r=Fe.name;isNameSpecified(Fe)||(Fe.name=getSeriesAutoName(Fe)||_r)}function getSeriesAutoName(Fe){var _r=Fe.getRawData(),$r=_r.mapDimensionsAll("seriesName"),Br=[];return each$f($r,function(Fr){var zr=_r.getDimensionInfo(Fr);zr.displayName&&Br.push(zr.displayName)}),Br.join(" ")}function dataTaskCount(Fe){return Fe.model.getRawData().count()}function dataTaskReset(Fe){var _r=Fe.model;return _r.setData(_r.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(Fe,_r){_r.outputData&&Fe.end>_r.outputData.count()&&_r.model.getRawData().cloneShallow(_r.outputData)}function wrapData(Fe,_r){each$f(concatArray(Fe.CHANGABLE_METHODS,Fe.DOWNSAMPLE_METHODS),function($r){Fe.wrapMethod($r,curry$1(onDataChange,_r))})}function onDataChange(Fe,_r){var $r=getCurrentTask(Fe);return $r&&$r.setOutputEnd((_r||this).count()),_r}function getCurrentTask(Fe){var _r=(Fe.ecModel||{}).scheduler,$r=_r&&_r.getPipeline(Fe.uid);if($r){var Br=$r.currentTask;if(Br){var Fr=Br.agentStubMap;Fr&&(Br=Fr.get(Fe.uid))}return Br}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function Fe(){this.group=new Group$4,this.uid=getUID("viewComponent")}return Fe.prototype.init=function(_r,$r){},Fe.prototype.render=function(_r,$r,Br,Fr){},Fe.prototype.dispose=function(_r,$r){},Fe.prototype.updateView=function(_r,$r,Br,Fr){},Fe.prototype.updateLayout=function(_r,$r,Br,Fr){},Fe.prototype.updateVisual=function(_r,$r,Br,Fr){},Fe.prototype.toggleBlurSeries=function(_r,$r,Br){},Fe.prototype.eachRendered=function(_r){var $r=this.group;$r&&$r.traverse(_r)},Fe}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var Fe=makeInner();return function(_r){var $r=Fe(_r),Br=_r.pipelineContext,Fr=!!$r.large,zr=!!$r.progressiveRender,jr=$r.large=!!(Br&&Br.large),Ur=$r.progressiveRender=!!(Br&&Br.progressiveRender);return(Fr!==jr||zr!==Ur)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function Fe(){this.group=new Group$4,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return Fe.prototype.init=function(_r,$r){},Fe.prototype.render=function(_r,$r,Br,Fr){},Fe.prototype.highlight=function(_r,$r,Br,Fr){var zr=_r.getData(Fr&&Fr.dataType);zr&&toggleHighlight(zr,Fr,"emphasis")},Fe.prototype.downplay=function(_r,$r,Br,Fr){var zr=_r.getData(Fr&&Fr.dataType);zr&&toggleHighlight(zr,Fr,"normal")},Fe.prototype.remove=function(_r,$r){this.group.removeAll()},Fe.prototype.dispose=function(_r,$r){},Fe.prototype.updateView=function(_r,$r,Br,Fr){this.render(_r,$r,Br,Fr)},Fe.prototype.updateLayout=function(_r,$r,Br,Fr){this.render(_r,$r,Br,Fr)},Fe.prototype.updateVisual=function(_r,$r,Br,Fr){this.render(_r,$r,Br,Fr)},Fe.prototype.eachRendered=function(_r){traverseElements(this.group,_r)},Fe.markUpdateMethod=function(_r,$r){inner$j(_r).updateMethod=$r},Fe.protoInitialize=function(){var _r=Fe.prototype;_r.type="chart"}(),Fe}();function elSetState(Fe,_r,$r){Fe&&isHighDownDispatcher(Fe)&&(_r==="emphasis"?enterEmphasis:leaveEmphasis)(Fe,$r)}function toggleHighlight(Fe,_r,$r){var Br=queryDataIndex(Fe,_r),Fr=_r&&_r.highlightKey!=null?getHighlightDigit(_r.highlightKey):null;Br!=null?each$f(normalizeToArray(Br),function(zr){elSetState(Fe.getItemGraphicEl(zr),$r,Fr)}):Fe.eachItemGraphicEl(function(zr){elSetState(zr,$r,Fr)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(Fe){return renderPlanner(Fe.model)}function renderTaskReset(Fe){var _r=Fe.model,$r=Fe.ecModel,Br=Fe.api,Fr=Fe.payload,zr=_r.pipelineContext.progressiveRender,jr=Fe.view,Ur=Fr&&inner$j(Fr).updateMethod,Gr=zr?"incrementalPrepareRender":Ur&&jr[Ur]?Ur:"render";return Gr!=="render"&&jr[Gr](_r,$r,Br,Fr),progressMethodMap[Gr]}var progressMethodMap={incrementalPrepareRender:{progress:function(Fe,_r){_r.view.incrementalRender(Fe,_r.model,_r.ecModel,_r.api,_r.payload)}},render:{forceFirstProgress:!0,progress:function(Fe,_r){_r.view.render(_r.model,_r.ecModel,_r.api,_r.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(Fe,_r,$r){var Br,Fr=0,zr=0,jr=null,Ur,Gr,Yr,Kr;_r=_r||0;function Qr(){zr=new Date().getTime(),jr=null,Fe.apply(Gr,Yr||[])}var Jr=function(){for(var rn=[],an=0;an<arguments.length;an++)rn[an]=arguments[an];Br=new Date().getTime(),Gr=this,Yr=rn;var ln=Kr||_r,dn=Kr||$r;Kr=null,Ur=Br-(dn?Fr:zr)-ln,clearTimeout(jr),dn?jr=setTimeout(Qr,ln):Ur>=0?Qr():jr=setTimeout(Qr,-Ur),Fr=Br};return Jr.clear=function(){jr&&(clearTimeout(jr),jr=null)},Jr.debounceNextCall=function(rn){Kr=rn},Jr}function createOrUpdate(Fe,_r,$r,Br){var Fr=Fe[_r];if(Fr){var zr=Fr[ORIGIN_METHOD]||Fr,jr=Fr[THROTTLE_TYPE],Ur=Fr[RATE];if(Ur!==$r||jr!==Br){if($r==null||!Br)return Fe[_r]=zr;Fr=Fe[_r]=throttle(zr,$r,Br==="debounce"),Fr[ORIGIN_METHOD]=zr,Fr[THROTTLE_TYPE]=Br,Fr[RATE]=$r}return Fr}}function clear$1(Fe,_r){var $r=Fe[_r];$r&&$r[ORIGIN_METHOD]&&($r.clear&&$r.clear(),Fe[_r]=$r[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(Fe,_r){var $r=Fe.visualStyleMapper||defaultStyleMappers[_r];return $r||(console.warn("Unknown style type '"+_r+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(Fe,_r){var $r=Fe.visualDrawType||defaultColorKey[_r];return $r||(console.warn("Unknown style type '"+_r+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Fe,_r){var $r=Fe.getData(),Br=Fe.visualStyleAccessPath||"itemStyle",Fr=Fe.getModel(Br),zr=getStyleMapper(Fe,Br),jr=zr(Fr),Ur=Fr.getShallow("decal");Ur&&($r.setVisual("decal",Ur),Ur.dirty=!0);var Gr=getDefaultColorKey(Fe,Br),Yr=jr[Gr],Kr=isFunction(Yr)?Yr:null,Qr=jr.fill==="auto"||jr.stroke==="auto";if(!jr[Gr]||Kr||Qr){var Jr=Fe.getColorFromPalette(Fe.name,null,_r.getSeriesCount());jr[Gr]||(jr[Gr]=Jr,$r.setVisual("colorFromPalette",!0)),jr.fill=jr.fill==="auto"||isFunction(jr.fill)?Jr:jr.fill,jr.stroke=jr.stroke==="auto"||isFunction(jr.stroke)?Jr:jr.stroke}if($r.setVisual("style",jr),$r.setVisual("drawType",Gr),!_r.isSeriesFiltered(Fe)&&Kr)return $r.setVisual("colorFromPalette",!1),{dataEach:function(rn,an){var ln=Fe.getDataParams(an),dn=extend$1({},jr);dn[Gr]=Kr(ln),rn.setItemVisual(an,"style",dn)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Fe,_r){if(!(Fe.ignoreStyleOnData||_r.isSeriesFiltered(Fe))){var $r=Fe.getData(),Br=Fe.visualStyleAccessPath||"itemStyle",Fr=getStyleMapper(Fe,Br),zr=$r.getVisual("drawType");return{dataEach:$r.hasItemOption?function(jr,Ur){var Gr=jr.getRawDataItem(Ur);if(Gr&&Gr[Br]){sharedModel.option=Gr[Br];var Yr=Fr(sharedModel),Kr=jr.ensureUniqueItemVisual(Ur,"style");extend$1(Kr,Yr),sharedModel.option.decal&&(jr.setItemVisual(Ur,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),zr in Yr&&jr.setItemVisual(Ur,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(Fe){var _r=createHashMap();Fe.eachSeries(function($r){var Br=$r.getColorBy();if(!$r.isColorBySeries()){var Fr=$r.type+"-"+Br,zr=_r.get(Fr);zr||(zr={},_r.set(Fr,zr)),inner$i($r).scope=zr}}),Fe.eachSeries(function($r){if(!($r.isColorBySeries()||Fe.isSeriesFiltered($r))){var Br=$r.getRawData(),Fr={},zr=$r.getData(),jr=inner$i($r).scope,Ur=$r.visualStyleAccessPath||"itemStyle",Gr=getDefaultColorKey($r,Ur);zr.each(function(Yr){var Kr=zr.getRawIndex(Yr);Fr[Kr]=Yr}),Br.each(function(Yr){var Kr=Fr[Yr],Qr=zr.getItemVisual(Kr,"colorFromPalette");if(Qr){var Jr=zr.ensureUniqueItemVisual(Kr,"style"),rn=Br.getName(Yr)||Yr+"",an=Br.count();Jr[Gr]=$r.getColorFromPalette(rn,jr,an)}})}})}},PI$5=Math.PI;function defaultLoading(Fe,_r){_r=_r||{},defaults(_r,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var $r=new Group$4,Br=new Rect$3({style:{fill:_r.maskColor},zlevel:_r.zlevel,z:1e4});$r.add(Br);var Fr=new ZRText$1({style:{text:_r.text,fill:_r.textColor,fontSize:_r.fontSize,fontWeight:_r.fontWeight,fontStyle:_r.fontStyle,fontFamily:_r.fontFamily},zlevel:_r.zlevel,z:10001}),zr=new Rect$3({style:{fill:"none"},textContent:Fr,textConfig:{position:"right",distance:10},zlevel:_r.zlevel,z:10001});$r.add(zr);var jr;return _r.showSpinner&&(jr=new Arc$1({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:_r.spinnerRadius},style:{stroke:_r.color,lineCap:"round",lineWidth:_r.lineWidth},zlevel:_r.zlevel,z:10001}),jr.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),jr.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),$r.add(jr)),$r.resize=function(){var Ur=Fr.getBoundingRect().width,Gr=_r.showSpinner?_r.spinnerRadius:0,Yr=(Fe.getWidth()-Gr*2-(_r.showSpinner&&Ur?10:0)-Ur)/2-(_r.showSpinner&&Ur?0:5+Ur/2)+(_r.showSpinner?0:Ur/2)+(Ur?0:Gr),Kr=Fe.getHeight()/2;_r.showSpinner&&jr.setShape({cx:Yr,cy:Kr}),zr.setShape({x:Yr-Gr,y:Kr-Gr,width:Gr*2,height:Gr*2}),Br.setShape({x:0,y:0,width:Fe.getWidth(),height:Fe.getHeight()})},$r.resize(),$r}var Scheduler=function(){function Fe(_r,$r,Br,Fr){this._stageTaskMap=createHashMap(),this.ecInstance=_r,this.api=$r,Br=this._dataProcessorHandlers=Br.slice(),Fr=this._visualHandlers=Fr.slice(),this._allHandlers=Br.concat(Fr)}return Fe.prototype.restoreData=function(_r,$r){_r.restoreData($r),this._stageTaskMap.each(function(Br){var Fr=Br.overallTask;Fr&&Fr.dirty()})},Fe.prototype.getPerformArgs=function(_r,$r){if(_r.__pipeline){var Br=this._pipelineMap.get(_r.__pipeline.id),Fr=Br.context,zr=!$r&&Br.progressiveEnabled&&(!Fr||Fr.progressiveRender)&&_r.__idxInPipeline>Br.blockIndex,jr=zr?Br.step:null,Ur=Fr&&Fr.modDataCount,Gr=Ur!=null?Math.ceil(Ur/jr):null;return{step:jr,modBy:Gr,modDataCount:Ur}}},Fe.prototype.getPipeline=function(_r){return this._pipelineMap.get(_r)},Fe.prototype.updateStreamModes=function(_r,$r){var Br=this._pipelineMap.get(_r.uid),Fr=_r.getData(),zr=Fr.count(),jr=Br.progressiveEnabled&&$r.incrementalPrepareRender&&zr>=Br.threshold,Ur=_r.get("large")&&zr>=_r.get("largeThreshold"),Gr=_r.get("progressiveChunkMode")==="mod"?zr:null;_r.pipelineContext=Br.context={progressiveRender:jr,modDataCount:Gr,large:Ur}},Fe.prototype.restorePipelines=function(_r){var $r=this,Br=$r._pipelineMap=createHashMap();_r.eachSeries(function(Fr){var zr=Fr.getProgressive(),jr=Fr.uid;Br.set(jr,{id:jr,head:null,tail:null,threshold:Fr.getProgressiveThreshold(),progressiveEnabled:zr&&!(Fr.preventIncremental&&Fr.preventIncremental()),blockIndex:-1,step:Math.round(zr||700),count:0}),$r._pipe(Fr,Fr.dataTask)})},Fe.prototype.prepareStageTasks=function(){var _r=this._stageTaskMap,$r=this.api.getModel(),Br=this.api;each$f(this._allHandlers,function(Fr){var zr=_r.get(Fr.uid)||_r.set(Fr.uid,{}),jr="";assert(!(Fr.reset&&Fr.overallReset),jr),Fr.reset&&this._createSeriesStageTask(Fr,zr,$r,Br),Fr.overallReset&&this._createOverallStageTask(Fr,zr,$r,Br)},this)},Fe.prototype.prepareView=function(_r,$r,Br,Fr){var zr=_r.renderTask,jr=zr.context;jr.model=$r,jr.ecModel=Br,jr.api=Fr,zr.__block=!_r.incrementalPrepareRender,this._pipe($r,zr)},Fe.prototype.performDataProcessorTasks=function(_r,$r){this._performStageTasks(this._dataProcessorHandlers,_r,$r,{block:!0})},Fe.prototype.performVisualTasks=function(_r,$r,Br){this._performStageTasks(this._visualHandlers,_r,$r,Br)},Fe.prototype._performStageTasks=function(_r,$r,Br,Fr){Fr=Fr||{};var zr=!1,jr=this;each$f(_r,function(Gr,Yr){if(!(Fr.visualType&&Fr.visualType!==Gr.visualType)){var Kr=jr._stageTaskMap.get(Gr.uid),Qr=Kr.seriesTaskMap,Jr=Kr.overallTask;if(Jr){var rn,an=Jr.agentStubMap;an.each(function(dn){Ur(Fr,dn)&&(dn.dirty(),rn=!0)}),rn&&Jr.dirty(),jr.updatePayload(Jr,Br);var ln=jr.getPerformArgs(Jr,Fr.block);an.each(function(dn){dn.perform(ln)}),Jr.perform(ln)&&(zr=!0)}else Qr&&Qr.each(function(dn,hn){Ur(Fr,dn)&&dn.dirty();var gn=jr.getPerformArgs(dn,Fr.block);gn.skip=!Gr.performRawSeries&&$r.isSeriesFiltered(dn.context.model),jr.updatePayload(dn,Br),dn.perform(gn)&&(zr=!0)})}});function Ur(Gr,Yr){return Gr.setDirty&&(!Gr.dirtyMap||Gr.dirtyMap.get(Yr.__pipeline.id))}this.unfinished=zr||this.unfinished},Fe.prototype.performSeriesTasks=function(_r){var $r;_r.eachSeries(function(Br){$r=Br.dataTask.perform()||$r}),this.unfinished=$r||this.unfinished},Fe.prototype.plan=function(){this._pipelineMap.each(function(_r){var $r=_r.tail;do{if($r.__block){_r.blockIndex=$r.__idxInPipeline;break}$r=$r.getUpstream()}while($r)})},Fe.prototype.updatePayload=function(_r,$r){$r!=="remain"&&(_r.context.payload=$r)},Fe.prototype._createSeriesStageTask=function(_r,$r,Br,Fr){var zr=this,jr=$r.seriesTaskMap,Ur=$r.seriesTaskMap=createHashMap(),Gr=_r.seriesType,Yr=_r.getTargetSeries;_r.createOnAllSeries?Br.eachRawSeries(Kr):Gr?Br.eachRawSeriesByType(Gr,Kr):Yr&&Yr(Br,Fr).each(Kr);function Kr(Qr){var Jr=Qr.uid,rn=Ur.set(Jr,jr&&jr.get(Jr)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));rn.context={model:Qr,ecModel:Br,api:Fr,useClearVisual:_r.isVisual&&!_r.isLayout,plan:_r.plan,reset:_r.reset,scheduler:zr},zr._pipe(Qr,rn)}},Fe.prototype._createOverallStageTask=function(_r,$r,Br,Fr){var zr=this,jr=$r.overallTask=$r.overallTask||createTask({reset:overallTaskReset});jr.context={ecModel:Br,api:Fr,overallReset:_r.overallReset,scheduler:zr};var Ur=jr.agentStubMap,Gr=jr.agentStubMap=createHashMap(),Yr=_r.seriesType,Kr=_r.getTargetSeries,Qr=!0,Jr=!1,rn="";assert(!_r.createOnAllSeries,rn),Yr?Br.eachRawSeriesByType(Yr,an):Kr?Kr(Br,Fr).each(an):(Qr=!1,each$f(Br.getSeries(),an));function an(ln){var dn=ln.uid,hn=Gr.set(dn,Ur&&Ur.get(dn)||(Jr=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));hn.context={model:ln,overallProgress:Qr},hn.agent=jr,hn.__block=Qr,zr._pipe(ln,hn)}Jr&&jr.dirty()},Fe.prototype._pipe=function(_r,$r){var Br=_r.uid,Fr=this._pipelineMap.get(Br);!Fr.head&&(Fr.head=$r),Fr.tail&&Fr.tail.pipe($r),Fr.tail=$r,$r.__idxInPipeline=Fr.count++,$r.__pipeline=Fr},Fe.wrapStageHandler=function(_r,$r){return isFunction(_r)&&(_r={overallReset:_r,seriesType:detectSeriseType(_r)}),_r.uid=getUID("stageHandler"),$r&&(_r.visualType=$r),_r},Fe}();function overallTaskReset(Fe){Fe.overallReset(Fe.ecModel,Fe.api,Fe.payload)}function stubReset(Fe){return Fe.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(Fe){return Fe.plan?Fe.plan(Fe.model,Fe.ecModel,Fe.api,Fe.payload):null}function seriesTaskReset(Fe){Fe.useClearVisual&&Fe.data.clearAllVisual();var _r=Fe.resetDefines=normalizeToArray(Fe.reset(Fe.model,Fe.ecModel,Fe.api,Fe.payload));return _r.length>1?map$1(_r,function($r,Br){return makeSeriesTaskProgress(Br)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(Fe){return function(_r,$r){var Br=$r.data,Fr=$r.resetDefines[Fe];if(Fr&&Fr.dataEach)for(var zr=_r.start;zr<_r.end;zr++)Fr.dataEach(Br,zr);else Fr&&Fr.progress&&Fr.progress(_r,Br)}}function seriesTaskCount(Fe){return Fe.data.count()}function detectSeriseType(Fe){seriesType=null;try{Fe(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1);mockMethods(apiMock,ExtensionAPI$1);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(Fe){seriesType=Fe};ecModelMock.eachComponent=function(Fe){Fe.mainType==="series"&&Fe.subType&&(seriesType=Fe.subType)};function mockMethods(Fe,_r){for(var $r in _r.prototype)Fe[$r]=noop}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function Fe(){}return Fe.prototype.normalizeQuery=function(_r){var $r={},Br={},Fr={};if(isString(_r)){var zr=parseClassType(_r);$r.mainType=zr.main||null,$r.subType=zr.sub||null}else{var jr=["Index","Name","Id"],Ur={name:1,dataIndex:1,dataType:1};each$f(_r,function(Gr,Yr){for(var Kr=!1,Qr=0;Qr<jr.length;Qr++){var Jr=jr[Qr],rn=Yr.lastIndexOf(Jr);if(rn>0&&rn===Yr.length-Jr.length){var an=Yr.slice(0,rn);an!=="data"&&($r.mainType=an,$r[Jr.toLowerCase()]=Gr,Kr=!0)}}Ur.hasOwnProperty(Yr)&&(Br[Yr]=Gr,Kr=!0),Kr||(Fr[Yr]=Gr)})}return{cptQuery:$r,dataQuery:Br,otherQuery:Fr}},Fe.prototype.filter=function(_r,$r){var Br=this.eventInfo;if(!Br)return!0;var Fr=Br.targetEl,zr=Br.packedEvent,jr=Br.model,Ur=Br.view;if(!jr||!Ur)return!0;var Gr=$r.cptQuery,Yr=$r.dataQuery;return Kr(Gr,jr,"mainType")&&Kr(Gr,jr,"subType")&&Kr(Gr,jr,"index","componentIndex")&&Kr(Gr,jr,"name")&&Kr(Gr,jr,"id")&&Kr(Yr,zr,"name")&&Kr(Yr,zr,"dataIndex")&&Kr(Yr,zr,"dataType")&&(!Ur.filterForExposedEvent||Ur.filterForExposedEvent(_r,$r.otherQuery,Fr,zr));function Kr(Qr,Jr,rn,an){return Qr[rn]==null||Jr[an||rn]===Qr[rn]}},Fe.prototype.afterTrigger=function(){this.eventInfo=null},Fe}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Fe,_r){var $r=Fe.getData();if(Fe.legendIcon&&$r.setVisual("legendIcon",Fe.legendIcon),!Fe.hasSymbolVisual)return;for(var Br={},Fr={},zr=!1,jr=0;jr<SYMBOL_PROPS_WITH_CB.length;jr++){var Ur=SYMBOL_PROPS_WITH_CB[jr],Gr=Fe.get(Ur);isFunction(Gr)?(zr=!0,Fr[Ur]=Gr):Br[Ur]=Gr}if(Br.symbol=Br.symbol||Fe.defaultSymbol,$r.setVisual(extend$1({legendIcon:Fe.legendIcon||Br.symbol,symbolKeepAspect:Fe.get("symbolKeepAspect")},Br)),_r.isSeriesFiltered(Fe))return;var Yr=keys(Fr);function Kr(Qr,Jr){for(var rn=Fe.getRawValue(Jr),an=Fe.getDataParams(Jr),ln=0;ln<Yr.length;ln++){var dn=Yr[ln];Qr.setItemVisual(Jr,dn,Fr[dn](rn,an))}}return{dataEach:zr?Kr:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Fe,_r){if(!Fe.hasSymbolVisual||_r.isSeriesFiltered(Fe))return;var $r=Fe.getData();function Br(Fr,zr){for(var jr=Fr.getItemModel(zr),Ur=0;Ur<SYMBOL_PROPS.length;Ur++){var Gr=SYMBOL_PROPS[Ur],Yr=jr.getShallow(Gr,!0);Yr!=null&&Fr.setItemVisual(zr,Gr,Yr)}}return{dataEach:$r.hasItemOption?Br:null}}};function getItemVisualFromData(Fe,_r,$r){switch($r){case"color":var Br=Fe.getItemVisual(_r,"style");return Br[Fe.getVisual("drawType")];case"opacity":return Fe.getItemVisual(_r,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return Fe.getItemVisual(_r,$r)}}function getVisualFromData(Fe,_r){switch(_r){case"color":var $r=Fe.getVisual("style");return $r[Fe.getVisual("drawType")];case"opacity":return Fe.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return Fe.getVisual(_r)}}function setItemVisualFromData(Fe,_r,$r,Br){switch($r){case"color":var Fr=Fe.ensureUniqueItemVisual(_r,"style");Fr[Fe.getVisual("drawType")]=Br,Fe.setItemVisual(_r,"colorFromPalette",!1);break;case"opacity":Fe.ensureUniqueItemVisual(_r,"style").opacity=Br;break;case"symbol":case"symbolSize":case"liftZ":Fe.setItemVisual(_r,$r,Br);break}}function createLegacyDataSelectAction(Fe,_r){function $r(Br,Fr){var zr=[];return Br.eachComponent({mainType:"series",subType:Fe,query:Fr},function(jr){zr.push(jr.seriesIndex)}),zr}each$f([[Fe+"ToggleSelect","toggleSelect"],[Fe+"Select","select"],[Fe+"UnSelect","unselect"]],function(Br){_r(Br[0],function(Fr,zr,jr){Fr=extend$1({},Fr),jr.dispatchAction(extend$1(Fr,{type:Br[1],seriesIndex:$r(zr,Fr)}))})})}function handleSeriesLegacySelectEvents(Fe,_r,$r,Br,Fr){var zr=Fe+_r;$r.isSilent(zr)||Br.eachComponent({mainType:"series",subType:"pie"},function(jr){for(var Ur=jr.seriesIndex,Gr=jr.option.selectedMap,Yr=Fr.selected,Kr=0;Kr<Yr.length;Kr++)if(Yr[Kr].seriesIndex===Ur){var Qr=jr.getData(),Jr=queryDataIndex(Qr,Fr.fromActionPayload);$r.trigger(zr,{type:zr,seriesId:jr.id,name:isArray$1(Jr)?Qr.getName(Jr[0]):Qr.getName(Jr),selected:isString(Gr)?Gr:extend$1({},Gr)})}})}function handleLegacySelectEvents(Fe,_r,$r){Fe.on("selectchanged",function(Br){var Fr=$r.getModel();Br.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",_r,Fr,Br),handleSeriesLegacySelectEvents("pie","selectchanged",_r,Fr,Br)):Br.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",_r,Fr,Br),handleSeriesLegacySelectEvents("pie","selected",_r,Fr,Br)):Br.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",_r,Fr,Br),handleSeriesLegacySelectEvents("pie","unselected",_r,Fr,Br))})}function findEventDispatcher(Fe,_r,$r){for(var Br;Fe&&!(_r(Fe)&&(Br=Fe,$r));)Fe=Fe.__hostTarget||Fe.parent;return Br}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function Fe(){this._id="__ec_inner_"+wmUniqueIndex++}return Fe.prototype.get=function(_r){return this._guard(_r)[this._id]},Fe.prototype.set=function(_r,$r){var Br=this._guard(_r);return supportDefineProperty?Object.defineProperty(Br,this._id,{value:$r,enumerable:!1,configurable:!0}):Br[this._id]=$r,this},Fe.prototype.delete=function(_r){return this.has(_r)?(delete this._guard(_r)[this._id],!0):!1},Fe.prototype.has=function(_r){return!!this._guard(_r)[this._id]},Fe.prototype._guard=function(_r){if(_r!==Object(_r))throw TypeError("Value of WeakMap is not a non-null object.");return _r},Fe}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Fe,_r){var $r=_r.cx,Br=_r.cy,Fr=_r.width/2,zr=_r.height/2;Fe.moveTo($r,Br-zr),Fe.lineTo($r+Fr,Br+zr),Fe.lineTo($r-Fr,Br+zr),Fe.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Fe,_r){var $r=_r.cx,Br=_r.cy,Fr=_r.width/2,zr=_r.height/2;Fe.moveTo($r,Br-zr),Fe.lineTo($r+Fr,Br),Fe.lineTo($r,Br+zr),Fe.lineTo($r-Fr,Br),Fe.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(Fe,_r){var $r=_r.x,Br=_r.y,Fr=_r.width/5*3,zr=Math.max(Fr,_r.height),jr=Fr/2,Ur=jr*jr/(zr-jr),Gr=Br-zr+jr+Ur,Yr=Math.asin(Ur/jr),Kr=Math.cos(Yr)*jr,Qr=Math.sin(Yr),Jr=Math.cos(Yr),rn=jr*.6,an=jr*.7;Fe.moveTo($r-Kr,Gr+Ur),Fe.arc($r,Gr,jr,Math.PI-Yr,Math.PI*2+Yr),Fe.bezierCurveTo($r+Kr-Qr*rn,Gr+Ur+Jr*rn,$r,Br-an,$r,Br),Fe.bezierCurveTo($r,Br-an,$r-Kr+Qr*rn,Gr+Ur+Jr*rn,$r-Kr,Gr+Ur),Fe.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(Fe,_r){var $r=_r.height,Br=_r.width,Fr=_r.x,zr=_r.y,jr=Br/3*2;Fe.moveTo(Fr,zr),Fe.lineTo(Fr+jr,zr+$r),Fe.lineTo(Fr,zr+$r/4*3),Fe.lineTo(Fr-jr,zr+$r),Fe.lineTo(Fr,zr),Fe.closePath()}}),symbolCtors={line:Line$3,rect:Rect$3,roundRect:Rect$3,square:Rect$3,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(Fe,_r,$r,Br,Fr){Fr.x1=Fe,Fr.y1=_r+Br/2,Fr.x2=Fe+$r,Fr.y2=_r+Br/2},rect:function(Fe,_r,$r,Br,Fr){Fr.x=Fe,Fr.y=_r,Fr.width=$r,Fr.height=Br},roundRect:function(Fe,_r,$r,Br,Fr){Fr.x=Fe,Fr.y=_r,Fr.width=$r,Fr.height=Br,Fr.r=Math.min($r,Br)/4},square:function(Fe,_r,$r,Br,Fr){var zr=Math.min($r,Br);Fr.x=Fe,Fr.y=_r,Fr.width=zr,Fr.height=zr},circle:function(Fe,_r,$r,Br,Fr){Fr.cx=Fe+$r/2,Fr.cy=_r+Br/2,Fr.r=Math.min($r,Br)/2},diamond:function(Fe,_r,$r,Br,Fr){Fr.cx=Fe+$r/2,Fr.cy=_r+Br/2,Fr.width=$r,Fr.height=Br},pin:function(Fe,_r,$r,Br,Fr){Fr.x=Fe+$r/2,Fr.y=_r+Br/2,Fr.width=$r,Fr.height=Br},arrow:function(Fe,_r,$r,Br,Fr){Fr.x=Fe+$r/2,Fr.y=_r+Br/2,Fr.width=$r,Fr.height=Br},triangle:function(Fe,_r,$r,Br,Fr){Fr.cx=Fe+$r/2,Fr.cy=_r+Br/2,Fr.width=$r,Fr.height=Br}},symbolBuildProxies={};each$f(symbolCtors,function(Fe,_r){symbolBuildProxies[_r]=new Fe});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(Fe,_r,$r){var Br=calculateTextPosition(Fe,_r,$r),Fr=this.shape;return Fr&&Fr.symbolType==="pin"&&_r.position==="inside"&&(Br.y=$r.y+$r.height*.4),Br},buildPath:function(Fe,_r,$r){var Br=_r.symbolType;if(Br!=="none"){var Fr=symbolBuildProxies[Br];Fr||(Br="rect",Fr=symbolBuildProxies[Br]),symbolShapeMakers[Br](_r.x,_r.y,_r.width,_r.height,Fr.shape),Fr.buildPath(Fe,Fr.shape,$r)}}});function symbolPathSetColor(Fe,_r){if(this.type!=="image"){var $r=this.style;this.__isEmptyBrush?($r.stroke=Fe,$r.fill=_r||"#fff",$r.lineWidth=2):this.shape.symbolType==="line"?$r.stroke=Fe:$r.fill=Fe,this.markRedraw()}}function createSymbol$1(Fe,_r,$r,Br,Fr,zr,jr){var Ur=Fe.indexOf("empty")===0;Ur&&(Fe=Fe.substr(5,1).toLowerCase()+Fe.substr(6));var Gr;return Fe.indexOf("image://")===0?Gr=makeImage(Fe.slice(8),new BoundingRect$1(_r,$r,Br,Fr),jr?"center":"cover"):Fe.indexOf("path://")===0?Gr=makePath(Fe.slice(7),{},new BoundingRect$1(_r,$r,Br,Fr),jr?"center":"cover"):Gr=new SymbolClz$1({shape:{symbolType:Fe,x:_r,y:$r,width:Br,height:Fr}}),Gr.__isEmptyBrush=Ur,Gr.setColor=symbolPathSetColor,zr&&Gr.setColor(zr),Gr}function normalizeSymbolSize(Fe){return isArray$1(Fe)||(Fe=[+Fe,+Fe]),[Fe[0]||0,Fe[1]||0]}function normalizeSymbolOffset(Fe,_r){if(Fe!=null)return isArray$1(Fe)||(Fe=[Fe,Fe]),[parsePercent(Fe[0],_r[0])||0,parsePercent(retrieve2(Fe[1],Fe[0]),_r[1])||0]}function isSafeNum(Fe){return isFinite(Fe)}function createLinearGradient(Fe,_r,$r){var Br=_r.x==null?0:_r.x,Fr=_r.x2==null?1:_r.x2,zr=_r.y==null?0:_r.y,jr=_r.y2==null?0:_r.y2;_r.global||(Br=Br*$r.width+$r.x,Fr=Fr*$r.width+$r.x,zr=zr*$r.height+$r.y,jr=jr*$r.height+$r.y),Br=isSafeNum(Br)?Br:0,Fr=isSafeNum(Fr)?Fr:1,zr=isSafeNum(zr)?zr:0,jr=isSafeNum(jr)?jr:0;var Ur=Fe.createLinearGradient(Br,zr,Fr,jr);return Ur}function createRadialGradient(Fe,_r,$r){var Br=$r.width,Fr=$r.height,zr=Math.min(Br,Fr),jr=_r.x==null?.5:_r.x,Ur=_r.y==null?.5:_r.y,Gr=_r.r==null?.5:_r.r;_r.global||(jr=jr*Br+$r.x,Ur=Ur*Fr+$r.y,Gr=Gr*zr),jr=isSafeNum(jr)?jr:.5,Ur=isSafeNum(Ur)?Ur:.5,Gr=Gr>=0&&isSafeNum(Gr)?Gr:.5;var Yr=Fe.createRadialGradient(jr,Ur,0,jr,Ur,Gr);return Yr}function getCanvasGradient(Fe,_r,$r){for(var Br=_r.type==="radial"?createRadialGradient(Fe,_r,$r):createLinearGradient(Fe,_r,$r),Fr=_r.colorStops,zr=0;zr<Fr.length;zr++)Br.addColorStop(Fr[zr].offset,Fr[zr].color);return Br}function isClipPathChanged(Fe,_r){if(Fe===_r||!Fe&&!_r)return!1;if(!Fe||!_r||Fe.length!==_r.length)return!0;for(var $r=0;$r<Fe.length;$r++)if(Fe[$r]!==_r[$r])return!0;return!1}function parseInt10(Fe){return parseInt(Fe,10)}function getSize$1(Fe,_r,$r){var Br=["width","height"][_r],Fr=["clientWidth","clientHeight"][_r],zr=["paddingLeft","paddingTop"][_r],jr=["paddingRight","paddingBottom"][_r];if($r[Br]!=null&&$r[Br]!=="auto")return parseFloat($r[Br]);var Ur=document.defaultView.getComputedStyle(Fe);return(Fe[Fr]||parseInt10(Ur[Br])||parseInt10(Fe.style[Br]))-(parseInt10(Ur[zr])||0)-(parseInt10(Ur[jr])||0)|0}function normalizeLineDash(Fe,_r){return!Fe||Fe==="solid"||!(_r>0)?null:Fe==="dashed"?[4*_r,2*_r]:Fe==="dotted"?[_r]:isNumber(Fe)?[Fe]:isArray$1(Fe)?Fe:null}function getLineDash(Fe){var _r=Fe.style,$r=_r.lineDash&&_r.lineWidth>0&&normalizeLineDash(_r.lineDash,_r.lineWidth),Br=_r.lineDashOffset;if($r){var Fr=_r.strokeNoScale&&Fe.getLineScale?Fe.getLineScale():1;Fr&&Fr!==1&&($r=map$1($r,function(zr){return zr/Fr}),Br/=Fr)}return[$r,Br]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(Fe){var _r=Fe.stroke;return!(_r==null||_r==="none"||!(Fe.lineWidth>0))}function isValidStrokeFillStyle(Fe){return typeof Fe=="string"&&Fe!=="none"}function styleHasFill(Fe){var _r=Fe.fill;return _r!=null&&_r!=="none"}function doFillPath(Fe,_r){if(_r.fillOpacity!=null&&_r.fillOpacity!==1){var $r=Fe.globalAlpha;Fe.globalAlpha=_r.fillOpacity*_r.opacity,Fe.fill(),Fe.globalAlpha=$r}else Fe.fill()}function doStrokePath(Fe,_r){if(_r.strokeOpacity!=null&&_r.strokeOpacity!==1){var $r=Fe.globalAlpha;Fe.globalAlpha=_r.strokeOpacity*_r.opacity,Fe.stroke(),Fe.globalAlpha=$r}else Fe.stroke()}function createCanvasPattern(Fe,_r,$r){var Br=createOrUpdateImage(_r.image,_r.__image,$r);if(isImageReady(Br)){var Fr=Fe.createPattern(Br,_r.repeat||"repeat");if(typeof DOMMatrix=="function"&&Fr&&Fr.setTransform){var zr=new DOMMatrix;zr.translateSelf(_r.x||0,_r.y||0),zr.rotateSelf(0,0,(_r.rotation||0)*RADIAN_TO_DEGREE),zr.scaleSelf(_r.scaleX||1,_r.scaleY||1),Fr.setTransform(zr)}return Fr}}function brushPath(Fe,_r,$r,Br){var Fr,zr=styleHasStroke($r),jr=styleHasFill($r),Ur=$r.strokePercent,Gr=Ur<1,Yr=!_r.path;(!_r.silent||Gr)&&Yr&&_r.createPathProxy();var Kr=_r.path||pathProxyForDraw,Qr=_r.__dirty;if(!Br){var Jr=$r.fill,rn=$r.stroke,an=jr&&!!Jr.colorStops,ln=zr&&!!rn.colorStops,dn=jr&&!!Jr.image,hn=zr&&!!rn.image,gn=void 0,bn=void 0,kn=void 0,Sn=void 0,_n=void 0;(an||ln)&&(_n=_r.getBoundingRect()),an&&(gn=Qr?getCanvasGradient(Fe,Jr,_n):_r.__canvasFillGradient,_r.__canvasFillGradient=gn),ln&&(bn=Qr?getCanvasGradient(Fe,rn,_n):_r.__canvasStrokeGradient,_r.__canvasStrokeGradient=bn),dn&&(kn=Qr||!_r.__canvasFillPattern?createCanvasPattern(Fe,Jr,_r):_r.__canvasFillPattern,_r.__canvasFillPattern=kn),hn&&(Sn=Qr||!_r.__canvasStrokePattern?createCanvasPattern(Fe,rn,_r):_r.__canvasStrokePattern,_r.__canvasStrokePattern=kn),an?Fe.fillStyle=gn:dn&&(kn?Fe.fillStyle=kn:jr=!1),ln?Fe.strokeStyle=bn:hn&&(Sn?Fe.strokeStyle=Sn:zr=!1)}var pn=_r.getGlobalScale();Kr.setScale(pn[0],pn[1],_r.segmentIgnoreThreshold);var Cn,En;Fe.setLineDash&&$r.lineDash&&(Fr=getLineDash(_r),Cn=Fr[0],En=Fr[1]);var Pn=!0;(Yr||Qr&SHAPE_CHANGED_BIT)&&(Kr.setDPR(Fe.dpr),Gr?Kr.setContext(null):(Kr.setContext(Fe),Pn=!1),Kr.reset(),_r.buildPath(Kr,_r.shape,Br),Kr.toStatic(),_r.pathUpdated()),Pn&&Kr.rebuildPath(Fe,Gr?Ur:1),Cn&&(Fe.setLineDash(Cn),Fe.lineDashOffset=En),Br||($r.strokeFirst?(zr&&doStrokePath(Fe,$r),jr&&doFillPath(Fe,$r)):(jr&&doFillPath(Fe,$r),zr&&doStrokePath(Fe,$r))),Cn&&Fe.setLineDash([])}function brushImage(Fe,_r,$r){var Br=_r.__image=createOrUpdateImage($r.image,_r.__image,_r,_r.onload);if(!(!Br||!isImageReady(Br))){var Fr=$r.x||0,zr=$r.y||0,jr=_r.getWidth(),Ur=_r.getHeight(),Gr=Br.width/Br.height;if(jr==null&&Ur!=null?jr=Ur*Gr:Ur==null&&jr!=null?Ur=jr/Gr:jr==null&&Ur==null&&(jr=Br.width,Ur=Br.height),$r.sWidth&&$r.sHeight){var Yr=$r.sx||0,Kr=$r.sy||0;Fe.drawImage(Br,Yr,Kr,$r.sWidth,$r.sHeight,Fr,zr,jr,Ur)}else if($r.sx&&$r.sy){var Yr=$r.sx,Kr=$r.sy,Qr=jr-Yr,Jr=Ur-Kr;Fe.drawImage(Br,Yr,Kr,Qr,Jr,Fr,zr,jr,Ur)}else Fe.drawImage(Br,Fr,zr,jr,Ur)}}function brushText(Fe,_r,$r){var Br,Fr=$r.text;if(Fr!=null&&(Fr+=""),Fr){Fe.font=$r.font||DEFAULT_FONT,Fe.textAlign=$r.textAlign,Fe.textBaseline=$r.textBaseline;var zr=void 0,jr=void 0;Fe.setLineDash&&$r.lineDash&&(Br=getLineDash(_r),zr=Br[0],jr=Br[1]),zr&&(Fe.setLineDash(zr),Fe.lineDashOffset=jr),$r.strokeFirst?(styleHasStroke($r)&&Fe.strokeText(Fr,$r.x,$r.y),styleHasFill($r)&&Fe.fillText(Fr,$r.x,$r.y)):(styleHasFill($r)&&Fe.fillText(Fr,$r.x,$r.y),styleHasStroke($r)&&Fe.strokeText(Fr,$r.x,$r.y)),zr&&Fe.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(Fe,_r,$r,Br,Fr){var zr=!1;if(!Br&&($r=$r||{},_r===$r))return!1;if(Br||_r.opacity!==$r.opacity){flushPathDrawn(Fe,Fr),zr=!0;var jr=Math.max(Math.min(_r.opacity,1),0);Fe.globalAlpha=isNaN(jr)?DEFAULT_COMMON_STYLE.opacity:jr}(Br||_r.blend!==$r.blend)&&(zr||(flushPathDrawn(Fe,Fr),zr=!0),Fe.globalCompositeOperation=_r.blend||DEFAULT_COMMON_STYLE.blend);for(var Ur=0;Ur<SHADOW_NUMBER_PROPS.length;Ur++){var Gr=SHADOW_NUMBER_PROPS[Ur];(Br||_r[Gr]!==$r[Gr])&&(zr||(flushPathDrawn(Fe,Fr),zr=!0),Fe[Gr]=Fe.dpr*(_r[Gr]||0))}return(Br||_r.shadowColor!==$r.shadowColor)&&(zr||(flushPathDrawn(Fe,Fr),zr=!0),Fe.shadowColor=_r.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),zr}function bindPathAndTextCommonStyle(Fe,_r,$r,Br,Fr){var zr=getStyle(_r,Fr.inHover),jr=Br?null:$r&&getStyle($r,Fr.inHover)||{};if(zr===jr)return!1;var Ur=bindCommonProps(Fe,zr,jr,Br,Fr);if((Br||zr.fill!==jr.fill)&&(Ur||(flushPathDrawn(Fe,Fr),Ur=!0),isValidStrokeFillStyle(zr.fill)&&(Fe.fillStyle=zr.fill)),(Br||zr.stroke!==jr.stroke)&&(Ur||(flushPathDrawn(Fe,Fr),Ur=!0),isValidStrokeFillStyle(zr.stroke)&&(Fe.strokeStyle=zr.stroke)),(Br||zr.opacity!==jr.opacity)&&(Ur||(flushPathDrawn(Fe,Fr),Ur=!0),Fe.globalAlpha=zr.opacity==null?1:zr.opacity),_r.hasStroke()){var Gr=zr.lineWidth,Yr=Gr/(zr.strokeNoScale&&_r.getLineScale?_r.getLineScale():1);Fe.lineWidth!==Yr&&(Ur||(flushPathDrawn(Fe,Fr),Ur=!0),Fe.lineWidth=Yr)}for(var Kr=0;Kr<STROKE_PROPS.length;Kr++){var Qr=STROKE_PROPS[Kr],Jr=Qr[0];(Br||zr[Jr]!==jr[Jr])&&(Ur||(flushPathDrawn(Fe,Fr),Ur=!0),Fe[Jr]=zr[Jr]||Qr[1])}return Ur}function bindImageStyle(Fe,_r,$r,Br,Fr){return bindCommonProps(Fe,getStyle(_r,Fr.inHover),$r&&getStyle($r,Fr.inHover),Br,Fr)}function setContextTransform(Fe,_r){var $r=_r.transform,Br=Fe.dpr||1;$r?Fe.setTransform(Br*$r[0],Br*$r[1],Br*$r[2],Br*$r[3],Br*$r[4],Br*$r[5]):Fe.setTransform(Br,0,0,Br,0,0)}function updateClipStatus(Fe,_r,$r){for(var Br=!1,Fr=0;Fr<Fe.length;Fr++){var zr=Fe[Fr];Br=Br||zr.isZeroArea(),setContextTransform(_r,zr),_r.beginPath(),zr.buildPath(_r,zr.shape),_r.clip()}$r.allClipped=Br}function isTransformChanged(Fe,_r){return Fe&&_r?Fe[0]!==_r[0]||Fe[1]!==_r[1]||Fe[2]!==_r[2]||Fe[3]!==_r[3]||Fe[4]!==_r[4]||Fe[5]!==_r[5]:!(!Fe&&!_r)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(Fe){var _r=styleHasFill(Fe),$r=styleHasStroke(Fe);return!(Fe.lineDash||!(+_r^+$r)||_r&&typeof Fe.fill!="string"||$r&&typeof Fe.stroke!="string"||Fe.strokePercent<1||Fe.strokeOpacity<1||Fe.fillOpacity<1)}function flushPathDrawn(Fe,_r){_r.batchFill&&Fe.fill(),_r.batchStroke&&Fe.stroke(),_r.batchFill="",_r.batchStroke=""}function getStyle(Fe,_r){return _r&&Fe.__hoverStyle||Fe.style}function brushSingle(Fe,_r){brush$1(Fe,_r,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(Fe,_r,$r,Br){var Fr=_r.transform;if(!_r.shouldBePainted($r.viewWidth,$r.viewHeight,!1,!1)){_r.__dirty&=~REDRAW_BIT,_r.__isRendered=!1;return}var zr=_r.__clipPaths,jr=$r.prevElClipPaths,Ur=!1,Gr=!1;if((!jr||isClipPathChanged(zr,jr))&&(jr&&jr.length&&(flushPathDrawn(Fe,$r),Fe.restore(),Gr=Ur=!0,$r.prevElClipPaths=null,$r.allClipped=!1,$r.prevEl=null),zr&&zr.length&&(flushPathDrawn(Fe,$r),Fe.save(),updateClipStatus(zr,Fe,$r),Ur=!0),$r.prevElClipPaths=zr),$r.allClipped){_r.__isRendered=!1;return}_r.beforeBrush&&_r.beforeBrush(),_r.innerBeforeBrush();var Yr=$r.prevEl;Yr||(Gr=Ur=!0);var Kr=_r instanceof Path$1&&_r.autoBatch&&canPathBatch(_r.style);Ur||isTransformChanged(Fr,Yr.transform)?(flushPathDrawn(Fe,$r),setContextTransform(Fe,_r)):Kr||flushPathDrawn(Fe,$r);var Qr=getStyle(_r,$r.inHover);_r instanceof Path$1?($r.lastDrawType!==DRAW_TYPE_PATH&&(Gr=!0,$r.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(Fe,_r,Yr,Gr,$r),(!Kr||!$r.batchFill&&!$r.batchStroke)&&Fe.beginPath(),brushPath(Fe,_r,Qr,Kr),Kr&&($r.batchFill=Qr.fill||"",$r.batchStroke=Qr.stroke||"")):_r instanceof TSpan$1?($r.lastDrawType!==DRAW_TYPE_TEXT&&(Gr=!0,$r.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(Fe,_r,Yr,Gr,$r),brushText(Fe,_r,Qr)):_r instanceof ZRImage$1?($r.lastDrawType!==DRAW_TYPE_IMAGE&&(Gr=!0,$r.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(Fe,_r,Yr,Gr,$r),brushImage(Fe,_r,Qr)):_r.getTemporalDisplayables&&($r.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(Gr=!0,$r.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(Fe,_r,$r)),Kr&&Br&&flushPathDrawn(Fe,$r),_r.innerAfterBrush(),_r.afterBrush&&_r.afterBrush(),$r.prevEl=_r,_r.__dirty=0,_r.__isRendered=!0}function brushIncremental(Fe,_r,$r){var Br=_r.getDisplayables(),Fr=_r.getTemporalDisplayables();Fe.save();var zr={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:$r.viewWidth,viewHeight:$r.viewHeight,inHover:$r.inHover},jr,Ur;for(jr=_r.getCursor(),Ur=Br.length;jr<Ur;jr++){var Gr=Br[jr];Gr.beforeBrush&&Gr.beforeBrush(),Gr.innerBeforeBrush(),brush$1(Fe,Gr,zr,jr===Ur-1),Gr.innerAfterBrush(),Gr.afterBrush&&Gr.afterBrush(),zr.prevEl=Gr}for(var Yr=0,Kr=Fr.length;Yr<Kr;Yr++){var Gr=Fr[Yr];Gr.beforeBrush&&Gr.beforeBrush(),Gr.innerBeforeBrush(),brush$1(Fe,Gr,zr,Yr===Kr-1),Gr.innerAfterBrush(),Gr.afterBrush&&Gr.afterBrush(),zr.prevEl=Gr}_r.clearTemporalDisplayables(),_r.notClear=!0,Fe.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(Fe,_r){if(Fe==="none")return null;var $r=_r.getDevicePixelRatio(),Br=_r.getZr(),Fr=Br.painter.type==="svg";Fe.dirty&&decalMap.delete(Fe);var zr=decalMap.get(Fe);if(zr)return zr;var jr=defaults(Fe,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});jr.backgroundColor==="none"&&(jr.backgroundColor=null);var Ur={repeat:"repeat"};return Gr(Ur),Ur.rotation=jr.rotation,Ur.scaleX=Ur.scaleY=Fr?1:1/$r,decalMap.set(Fe,Ur),Fe.dirty=!1,Ur;function Gr(Yr){for(var Kr=[$r],Qr=!0,Jr=0;Jr<decalKeys.length;++Jr){var rn=jr[decalKeys[Jr]];if(rn!=null&&!isArray$1(rn)&&!isString(rn)&&!isNumber(rn)&&typeof rn!="boolean"){Qr=!1;break}Kr.push(rn)}var an;if(Qr){an=Kr.join(",")+(Fr?"-svg":"");var ln=decalCache.get(an);ln&&(Fr?Yr.svgElement=ln:Yr.image=ln)}var dn=normalizeDashArrayX(jr.dashArrayX),hn=normalizeDashArrayY(jr.dashArrayY),gn=normalizeSymbolArray(jr.symbol),bn=getLineBlockLengthX(dn),kn=getLineBlockLengthY(hn),Sn=!Fr&&platformApi.createCanvas(),_n=Fr&&{tag:"g",attrs:{},key:"dcl",children:[]},pn=En(),Cn;Sn&&(Sn.width=pn.width*$r,Sn.height=pn.height*$r,Cn=Sn.getContext("2d")),Pn(),Qr&&decalCache.put(an,Sn||_n),Yr.image=Sn,Yr.svgElement=_n,Yr.svgWidth=pn.width,Yr.svgHeight=pn.height;function En(){for(var On=1,jn=0,Fn=bn.length;jn<Fn;++jn)On=getLeastCommonMultiple(On,bn[jn]);for(var Wn=1,jn=0,Fn=gn.length;jn<Fn;++jn)Wn=getLeastCommonMultiple(Wn,gn[jn].length);On*=Wn;var Hn=kn*bn.length*gn.length;return{width:Math.max(1,Math.min(On,jr.maxTileWidth)),height:Math.max(1,Math.min(Hn,jr.maxTileHeight))}}function Pn(){Cn&&(Cn.clearRect(0,0,Sn.width,Sn.height),jr.backgroundColor&&(Cn.fillStyle=jr.backgroundColor,Cn.fillRect(0,0,Sn.width,Sn.height)));for(var On=0,jn=0;jn<hn.length;++jn)On+=hn[jn];if(On<=0)return;for(var Fn=-kn,Wn=0,Hn=0,qn=0;Fn<pn.height;){if(Wn%2===0){for(var ni=Hn/2%gn.length,oi=0,wi=0,Ci=0;oi<pn.width*2;){for(var Fi=0,jn=0;jn<dn[qn].length;++jn)Fi+=dn[qn][jn];if(Fi<=0)break;if(wi%2===0){var Zn=(1-jr.symbolSize)*.5,Gn=oi+dn[qn][wi]*Zn,ui=Fn+hn[Wn]*Zn,Ni=dn[qn][wi]*jr.symbolSize,$i=hn[Wn]*jr.symbolSize,Vi=Ci/2%gn[ni].length;ji(Gn,ui,Ni,$i,gn[ni][Vi])}oi+=dn[qn][wi],++Ci,++wi,wi===dn[qn].length&&(wi=0)}++qn,qn===dn.length&&(qn=0)}Fn+=hn[Wn],++Hn,++Wn,Wn===hn.length&&(Wn=0)}function ji(lo,ho,so,Ki,Ho){var Io=Fr?1:$r,Ji=createSymbol$1(Ho,lo*Io,ho*Io,so*Io,Ki*Io,jr.color,jr.symbolKeepAspect);if(Fr){var Yo=Br.painter.renderOneToVNode(Ji);Yo&&_n.children.push(Yo)}else brushSingle(Cn,Ji)}}}}function normalizeSymbolArray(Fe){if(!Fe||Fe.length===0)return[["rect"]];if(isString(Fe))return[[Fe]];for(var _r=!0,$r=0;$r<Fe.length;++$r)if(!isString(Fe[$r])){_r=!1;break}if(_r)return normalizeSymbolArray([Fe]);for(var Br=[],$r=0;$r<Fe.length;++$r)isString(Fe[$r])?Br.push([Fe[$r]]):Br.push(Fe[$r]);return Br}function normalizeDashArrayX(Fe){if(!Fe||Fe.length===0)return[[0,0]];if(isNumber(Fe)){var _r=Math.ceil(Fe);return[[_r,_r]]}for(var $r=!0,Br=0;Br<Fe.length;++Br)if(!isNumber(Fe[Br])){$r=!1;break}if($r)return normalizeDashArrayX([Fe]);for(var Fr=[],Br=0;Br<Fe.length;++Br)if(isNumber(Fe[Br])){var _r=Math.ceil(Fe[Br]);Fr.push([_r,_r])}else{var _r=map$1(Fe[Br],function(Ur){return Math.ceil(Ur)});_r.length%2===1?Fr.push(_r.concat(_r)):Fr.push(_r)}return Fr}function normalizeDashArrayY(Fe){if(!Fe||typeof Fe=="object"&&Fe.length===0)return[0,0];if(isNumber(Fe)){var _r=Math.ceil(Fe);return[_r,_r]}var $r=map$1(Fe,function(Br){return Math.ceil(Br)});return Fe.length%2?$r.concat($r):$r}function getLineBlockLengthX(Fe){return map$1(Fe,function(_r){return getLineBlockLengthY(_r)})}function getLineBlockLengthY(Fe){for(var _r=0,$r=0;$r<Fe.length;++$r)_r+=Fe[$r];return Fe.length%2===1?_r*2:_r}function decalVisual(Fe,_r){Fe.eachRawSeries(function($r){if(!Fe.isSeriesFiltered($r)){var Br=$r.getData();Br.hasItemVisual()&&Br.each(function(jr){var Ur=Br.getItemVisual(jr,"decal");if(Ur){var Gr=Br.ensureUniqueItemVisual(jr,"style");Gr.decal=createOrUpdatePatternFromDecal(Ur,_r)}});var Fr=Br.getVisual("decal");if(Fr){var zr=Br.getVisual("style");zr.decal=createOrUpdatePatternFromDecal(Fr,_r)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(Fe,_r){implsStore[Fe]=_r}function getImpl(Fe){return implsStore[Fe]}var version="5.4.3",dependencies={zrender:"5.4.4"},TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(Fe){return function(){for(var _r=[],$r=0;$r<arguments.length;$r++)_r[$r]=arguments[$r];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,Fe,_r)}}function createRegisterEventWithLowercaseMessageCenter(Fe){return function(){for(var _r=[],$r=0;$r<arguments.length;$r++)_r[$r]=arguments[$r];return toLowercaseNameAndCallEventful(this,Fe,_r)}}function toLowercaseNameAndCallEventful(Fe,_r,$r){return $r[0]=$r[0]&&$r[0].toLowerCase(),Eventful$1.prototype[_r].apply(Fe,$r)}var MessageCenter=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this,new ECEventProcessor)||this;zr._chartsViews=[],zr._chartsMap={},zr._componentsViews=[],zr._componentsMap={},zr._pendingActions=[],Fr=Fr||{},isString(Br)&&(Br=themeStorage[Br]),zr._dom=$r;var jr="canvas",Ur="auto",Gr=!1,Yr=zr._zr=init$2($r,{renderer:Fr.renderer||jr,devicePixelRatio:Fr.devicePixelRatio,width:Fr.width,height:Fr.height,ssr:Fr.ssr,useDirtyRect:retrieve2(Fr.useDirtyRect,Gr),useCoarsePointer:retrieve2(Fr.useCoarsePointer,Ur),pointerSize:Fr.pointerSize});zr._ssr=Fr.ssr,zr._throttledZrFlush=throttle(bind$1(Yr.flush,Yr),17),Br=clone$4(Br),Br&&globalBackwardCompat(Br,!0),zr._theme=Br,zr._locale=createLocaleObject(Fr.locale||SYSTEM_LANG),zr._coordSysMgr=new CoordinateSystem;var Kr=zr._api=createExtensionAPI(zr);function Qr(Jr,rn){return Jr.__prio-rn.__prio}return sort$2(visualFuncs,Qr),sort$2(dataProcessorFuncs,Qr),zr._scheduler=new Scheduler$1(zr,Kr,dataProcessorFuncs,visualFuncs),zr._messageCenter=new MessageCenter,zr._initEvents(),zr.resize=bind$1(zr.resize,zr),Yr.animation.on("frame",zr._onframe,zr),bindRenderedEvent(Yr,zr),bindMouseEvent(Yr,zr),setAsPrimitive(zr),zr}return _r.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var $r=this._scheduler;if(this[PENDING_UPDATE]){var Br=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(Gr){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,Gr}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,Br),triggerUpdatedEvent.call(this,Br)}else if($r.unfinished){var Fr=TEST_FRAME_REMAIN_TIME,zr=this._model,jr=this._api;$r.unfinished=!1;do{var Ur=+new Date;$r.performSeriesTasks(zr),$r.performDataProcessorTasks(zr),updateStreamModes(this,zr),$r.performVisualTasks(zr),renderSeries(this,this._model,jr,"remain",{}),Fr-=+new Date-Ur}while(Fr>0&&$r.unfinished);$r.unfinished||this._zr.flush()}}},_r.prototype.getDom=function(){return this._dom},_r.prototype.getId=function(){return this.id},_r.prototype.getZr=function(){return this._zr},_r.prototype.isSSR=function(){return this._ssr},_r.prototype.setOption=function($r,Br,Fr){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var zr,jr,Ur;if(isObject$3(Br)&&(Fr=Br.lazyUpdate,zr=Br.silent,jr=Br.replaceMerge,Ur=Br.transition,Br=Br.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||Br){var Gr=new OptionManager$1(this._api),Yr=this._theme,Kr=this._model=new GlobalModel$1;Kr.scheduler=this._scheduler,Kr.ssr=this._ssr,Kr.init(null,null,null,Yr,this._locale,Gr)}this._model.setOption($r,{replaceMerge:jr},optionPreprocessorFuncs);var Qr={seriesTransition:Ur,optionChanged:!0};if(Fr)this[PENDING_UPDATE]={silent:zr,updateParams:Qr},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,Qr)}catch(Jr){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,Jr}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,zr),triggerUpdatedEvent.call(this,zr)}}},_r.prototype.setTheme=function(){},_r.prototype.getModel=function(){return this._model},_r.prototype.getOption=function(){return this._model&&this._model.getOption()},_r.prototype.getWidth=function(){return this._zr.getWidth()},_r.prototype.getHeight=function(){return this._zr.getHeight()},_r.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},_r.prototype.getRenderedCanvas=function($r){return this.renderToCanvas($r)},_r.prototype.renderToCanvas=function($r){$r=$r||{};var Br=this._zr.painter;return Br.getRenderedCanvas({backgroundColor:$r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:$r.pixelRatio||this.getDevicePixelRatio()})},_r.prototype.renderToSVGString=function($r){$r=$r||{};var Br=this._zr.painter;return Br.renderToString({useViewBox:$r.useViewBox})},_r.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var $r=this._zr,Br=$r.storage.getDisplayList();return each$f(Br,function(Fr){Fr.stopAnimation(null,!0)}),$r.painter.toDataURL()}},_r.prototype.getDataURL=function($r){if(this._disposed){this.id;return}$r=$r||{};var Br=$r.excludeComponents,Fr=this._model,zr=[],jr=this;each$f(Br,function(Gr){Fr.eachComponent({mainType:Gr},function(Yr){var Kr=jr._componentsMap[Yr.__viewId];Kr.group.ignore||(zr.push(Kr),Kr.group.ignore=!0)})});var Ur=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas($r).toDataURL("image/"+($r&&$r.type||"png"));return each$f(zr,function(Gr){Gr.group.ignore=!1}),Ur},_r.prototype.getConnectedDataURL=function($r){if(this._disposed){this.id;return}var Br=$r.type==="svg",Fr=this.group,zr=Math.min,jr=Math.max,Ur=1/0;if(connectedGroups[Fr]){var Gr=Ur,Yr=Ur,Kr=-Ur,Qr=-Ur,Jr=[],rn=$r&&$r.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(bn,kn){if(bn.group===Fr){var Sn=Br?bn.getZr().painter.getSvgDom().innerHTML:bn.renderToCanvas(clone$4($r)),_n=bn.getDom().getBoundingClientRect();Gr=zr(_n.left,Gr),Yr=zr(_n.top,Yr),Kr=jr(_n.right,Kr),Qr=jr(_n.bottom,Qr),Jr.push({dom:Sn,left:_n.left,top:_n.top})}}),Gr*=rn,Yr*=rn,Kr*=rn,Qr*=rn;var an=Kr-Gr,ln=Qr-Yr,dn=platformApi.createCanvas(),hn=init$2(dn,{renderer:Br?"svg":"canvas"});if(hn.resize({width:an,height:ln}),Br){var gn="";return each$f(Jr,function(bn){var kn=bn.left-Gr,Sn=bn.top-Yr;gn+='<g transform="translate('+kn+","+Sn+')">'+bn.dom+"</g>"}),hn.painter.getSvgRoot().innerHTML=gn,$r.connectedBackgroundColor&&hn.painter.setBackgroundColor($r.connectedBackgroundColor),hn.refreshImmediately(),hn.painter.toDataURL()}else return $r.connectedBackgroundColor&&hn.add(new Rect$3({shape:{x:0,y:0,width:an,height:ln},style:{fill:$r.connectedBackgroundColor}})),each$f(Jr,function(bn){var kn=new ZRImage$1({style:{x:bn.left*rn-Gr,y:bn.top*rn-Yr,image:bn.dom}});hn.add(kn)}),hn.refreshImmediately(),dn.toDataURL("image/"+($r&&$r.type||"png"))}else return this.getDataURL($r)},_r.prototype.convertToPixel=function($r,Br){return doConvertPixel(this,"convertToPixel",$r,Br)},_r.prototype.convertFromPixel=function($r,Br){return doConvertPixel(this,"convertFromPixel",$r,Br)},_r.prototype.containPixel=function($r,Br){if(this._disposed){this.id;return}var Fr=this._model,zr,jr=parseFinder$1(Fr,$r);return each$f(jr,function(Ur,Gr){Gr.indexOf("Models")>=0&&each$f(Ur,function(Yr){var Kr=Yr.coordinateSystem;if(Kr&&Kr.containPoint)zr=zr||!!Kr.containPoint(Br);else if(Gr==="seriesModels"){var Qr=this._chartsMap[Yr.__viewId];Qr&&Qr.containPoint&&(zr=zr||Qr.containPoint(Br,Yr))}},this)},this),!!zr},_r.prototype.getVisual=function($r,Br){var Fr=this._model,zr=parseFinder$1(Fr,$r,{defaultMainType:"series"}),jr=zr.seriesModel,Ur=jr.getData(),Gr=zr.hasOwnProperty("dataIndexInside")?zr.dataIndexInside:zr.hasOwnProperty("dataIndex")?Ur.indexOfRawIndex(zr.dataIndex):null;return Gr!=null?getItemVisualFromData(Ur,Gr,Br):getVisualFromData(Ur,Br)},_r.prototype.getViewOfComponentModel=function($r){return this._componentsMap[$r.__viewId]},_r.prototype.getViewOfSeriesModel=function($r){return this._chartsMap[$r.__viewId]},_r.prototype._initEvents=function(){var $r=this;each$f(MOUSE_EVENT_NAMES,function(Br){var Fr=function(zr){var jr=$r.getModel(),Ur=zr.target,Gr,Yr=Br==="globalout";if(Yr?Gr={}:Ur&&findEventDispatcher(Ur,function(an){var ln=getECData(an);if(ln&&ln.dataIndex!=null){var dn=ln.dataModel||jr.getSeriesByIndex(ln.seriesIndex);return Gr=dn&&dn.getDataParams(ln.dataIndex,ln.dataType,Ur)||{},!0}else if(ln.eventData)return Gr=extend$1({},ln.eventData),!0},!0),Gr){var Kr=Gr.componentType,Qr=Gr.componentIndex;(Kr==="markLine"||Kr==="markPoint"||Kr==="markArea")&&(Kr="series",Qr=Gr.seriesIndex);var Jr=Kr&&Qr!=null&&jr.getComponent(Kr,Qr),rn=Jr&&$r[Jr.mainType==="series"?"_chartsMap":"_componentsMap"][Jr.__viewId];Gr.event=zr,Gr.type=Br,$r._$eventProcessor.eventInfo={targetEl:Ur,packedEvent:Gr,model:Jr,view:rn},$r.trigger(Br,Gr)}};Fr.zrEventfulCallAtLast=!0,$r._zr.on(Br,Fr,$r)}),each$f(eventActionMap,function(Br,Fr){$r._messageCenter.on(Fr,function(zr){this.trigger(Fr,zr)},$r)}),each$f(["selectchanged"],function(Br){$r._messageCenter.on(Br,function(Fr){this.trigger(Br,Fr)},$r)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},_r.prototype.isDisposed=function(){return this._disposed},_r.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},_r.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var $r=this.getDom();$r&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var Br=this,Fr=Br._api,zr=Br._model;each$f(Br._componentsViews,function(jr){jr.dispose(zr,Fr)}),each$f(Br._chartsViews,function(jr){jr.dispose(zr,Fr)}),Br._zr.dispose(),Br._dom=Br._model=Br._chartsMap=Br._componentsMap=Br._chartsViews=Br._componentsViews=Br._scheduler=Br._api=Br._zr=Br._throttledZrFlush=Br._theme=Br._coordSysMgr=Br._messageCenter=null,delete instances[Br.id]},_r.prototype.resize=function($r){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize($r);var Br=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!Br){var Fr=Br.resetOption("media"),zr=$r&&$r.silent;this[PENDING_UPDATE]&&(zr==null&&(zr=this[PENDING_UPDATE].silent),Fr=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{Fr&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend$1({duration:0},$r&&$r.animation)})}catch(jr){throw this[IN_MAIN_PROCESS_KEY]=!1,jr}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,zr),triggerUpdatedEvent.call(this,zr)}}},_r.prototype.showLoading=function($r,Br){if(this._disposed){this.id;return}if(isObject$3($r)&&(Br=$r,$r=""),$r=$r||"default",this.hideLoading(),!!loadingEffects[$r]){var Fr=loadingEffects[$r](this._api,Br),zr=this._zr;this._loadingFX=Fr,zr.add(Fr)}},_r.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},_r.prototype.makeActionFromEvent=function($r){var Br=extend$1({},$r);return Br.type=eventActionMap[$r.type],Br},_r.prototype.dispatchAction=function($r,Br){if(this._disposed){this.id;return}if(isObject$3(Br)||(Br={silent:!!Br}),!!actions[$r.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push($r);return}var Fr=Br.silent;doDispatchAction.call(this,$r,Fr);var zr=Br.flush;zr?this._zr.flush():zr!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,Fr),triggerUpdatedEvent.call(this,Fr)}},_r.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},_r.prototype.appendData=function($r){if(this._disposed){this.id;return}var Br=$r.seriesIndex,Fr=this.getModel(),zr=Fr.getSeriesByIndex(Br);zr.appendData($r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},_r.internalField=function(){prepare=function(Qr){var Jr=Qr._scheduler;Jr.restorePipelines(Qr._model),Jr.prepareStageTasks(),prepareView(Qr,!0),prepareView(Qr,!1),Jr.plan()},prepareView=function(Qr,Jr){for(var rn=Qr._model,an=Qr._scheduler,ln=Jr?Qr._componentsViews:Qr._chartsViews,dn=Jr?Qr._componentsMap:Qr._chartsMap,hn=Qr._zr,gn=Qr._api,bn=0;bn<ln.length;bn++)ln[bn].__alive=!1;Jr?rn.eachComponent(function(_n,pn){_n!=="series"&&kn(pn)}):rn.eachSeries(kn);function kn(_n){var pn=_n.__requireNewView;_n.__requireNewView=!1;var Cn="_ec_"+_n.id+"_"+_n.type,En=!pn&&dn[Cn];if(!En){var Pn=parseClassType(_n.type),On=Jr?ComponentView$1.getClass(Pn.main,Pn.sub):ChartView$1.getClass(Pn.sub);En=new On,En.init(rn,gn),dn[Cn]=En,ln.push(En),hn.add(En.group)}_n.__viewId=En.__id=Cn,En.__alive=!0,En.__model=_n,En.group.__ecComponentInfo={mainType:_n.mainType,index:_n.componentIndex},!Jr&&an.prepareView(En,_n,rn,gn)}for(var bn=0;bn<ln.length;){var Sn=ln[bn];Sn.__alive?bn++:(!Jr&&Sn.renderTask.dispose(),hn.remove(Sn.group),Sn.dispose(rn,gn),ln.splice(bn,1),dn[Sn.__id]===Sn&&delete dn[Sn.__id],Sn.__id=Sn.group.__ecComponentInfo=null)}},updateDirectly=function(Qr,Jr,rn,an,ln){var dn=Qr._model;if(dn.setUpdatePayload(rn),!an){each$f([].concat(Qr._componentsViews).concat(Qr._chartsViews),Sn);return}var hn={};hn[an+"Id"]=rn[an+"Id"],hn[an+"Index"]=rn[an+"Index"],hn[an+"Name"]=rn[an+"Name"];var gn={mainType:an,query:hn};ln&&(gn.subType=ln);var bn=rn.excludeSeriesId,kn;bn!=null&&(kn=createHashMap(),each$f(normalizeToArray(bn),function(_n){var pn=convertOptionIdName(_n,null);pn!=null&&kn.set(pn,!0)})),dn&&dn.eachComponent(gn,function(_n){var pn=kn&&kn.get(_n.id)!=null;if(!pn)if(isHighDownPayload(rn))if(_n instanceof SeriesModel$1)rn.type===HIGHLIGHT_ACTION_TYPE&&!rn.notBlur&&!_n.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(_n,rn,Qr._api);else{var Cn=findComponentHighDownDispatchers(_n.mainType,_n.componentIndex,rn.name,Qr._api),En=Cn.focusSelf,Pn=Cn.dispatchers;rn.type===HIGHLIGHT_ACTION_TYPE&&En&&!rn.notBlur&&blurComponent(_n.mainType,_n.componentIndex,Qr._api),Pn&&each$f(Pn,function(On){rn.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(On):leaveEmphasis(On)})}else isSelectChangePayload(rn)&&_n instanceof SeriesModel$1&&(toggleSelectionFromPayload(_n,rn,Qr._api),updateSeriesElementSelection(_n),markStatusToUpdate(Qr))},Qr),dn&&dn.eachComponent(gn,function(_n){var pn=kn&&kn.get(_n.id)!=null;pn||Sn(Qr[an==="series"?"_chartsMap":"_componentsMap"][_n.__viewId])},Qr);function Sn(_n){_n&&_n.__alive&&_n[Jr]&&_n[Jr](_n.__model,dn,Qr._api,rn)}},updateMethods={prepareAndUpdate:function(Qr){prepare(this),updateMethods.update.call(this,Qr,{optionChanged:Qr.newOption!=null})},update:function(Qr,Jr){var rn=this._model,an=this._api,ln=this._zr,dn=this._coordSysMgr,hn=this._scheduler;if(rn){rn.setUpdatePayload(Qr),hn.restoreData(rn,Qr),hn.performSeriesTasks(rn),dn.create(rn,an),hn.performDataProcessorTasks(rn,Qr),updateStreamModes(this,rn),dn.update(rn,an),$r(rn),hn.performVisualTasks(rn,Qr),render(this,rn,an,Qr,Jr);var gn=rn.get("backgroundColor")||"transparent",bn=rn.get("darkMode");ln.setBackgroundColor(gn),bn!=null&&bn!=="auto"&&ln.setDarkMode(bn),lifecycle$1.trigger("afterupdate",rn,an)}},updateTransform:function(Qr){var Jr=this,rn=this._model,an=this._api;if(rn){rn.setUpdatePayload(Qr);var ln=[];rn.eachComponent(function(hn,gn){if(hn!=="series"){var bn=Jr.getViewOfComponentModel(gn);if(bn&&bn.__alive)if(bn.updateTransform){var kn=bn.updateTransform(gn,rn,an,Qr);kn&&kn.update&&ln.push(bn)}else ln.push(bn)}});var dn=createHashMap();rn.eachSeries(function(hn){var gn=Jr._chartsMap[hn.__viewId];if(gn.updateTransform){var bn=gn.updateTransform(hn,rn,an,Qr);bn&&bn.update&&dn.set(hn.uid,1)}else dn.set(hn.uid,1)}),$r(rn),this._scheduler.performVisualTasks(rn,Qr,{setDirty:!0,dirtyMap:dn}),renderSeries(this,rn,an,Qr,{},dn),lifecycle$1.trigger("afterupdate",rn,an)}},updateView:function(Qr){var Jr=this._model;Jr&&(Jr.setUpdatePayload(Qr),ChartView$1.markUpdateMethod(Qr,"updateView"),$r(Jr),this._scheduler.performVisualTasks(Jr,Qr,{setDirty:!0}),render(this,Jr,this._api,Qr,{}),lifecycle$1.trigger("afterupdate",Jr,this._api))},updateVisual:function(Qr){var Jr=this,rn=this._model;rn&&(rn.setUpdatePayload(Qr),rn.eachSeries(function(an){an.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(Qr,"updateVisual"),$r(rn),this._scheduler.performVisualTasks(rn,Qr,{visualType:"visual",setDirty:!0}),rn.eachComponent(function(an,ln){if(an!=="series"){var dn=Jr.getViewOfComponentModel(ln);dn&&dn.__alive&&dn.updateVisual(ln,rn,Jr._api,Qr)}}),rn.eachSeries(function(an){var ln=Jr._chartsMap[an.__viewId];ln.updateVisual(an,rn,Jr._api,Qr)}),lifecycle$1.trigger("afterupdate",rn,this._api))},updateLayout:function(Qr){updateMethods.update.call(this,Qr)}},doConvertPixel=function(Qr,Jr,rn,an){if(Qr._disposed){Qr.id;return}for(var ln=Qr._model,dn=Qr._coordSysMgr.getCoordinateSystems(),hn,gn=parseFinder$1(ln,rn),bn=0;bn<dn.length;bn++){var kn=dn[bn];if(kn[Jr]&&(hn=kn[Jr](ln,gn,an))!=null)return hn}},updateStreamModes=function(Qr,Jr){var rn=Qr._chartsMap,an=Qr._scheduler;Jr.eachSeries(function(ln){an.updateStreamModes(ln,rn[ln.__viewId])})},doDispatchAction=function(Qr,Jr){var rn=this,an=this.getModel(),ln=Qr.type,dn=Qr.escapeConnect,hn=actions[ln],gn=hn.actionInfo,bn=(gn.update||"update").split(":"),kn=bn.pop(),Sn=bn[0]!=null&&parseClassType(bn[0]);this[IN_MAIN_PROCESS_KEY]=!0;var _n=[Qr],pn=!1;Qr.batch&&(pn=!0,_n=map$1(Qr.batch,function(Wn){return Wn=defaults(extend$1({},Wn),Qr),Wn.batch=null,Wn}));var Cn=[],En,Pn=isSelectChangePayload(Qr),On=isHighDownPayload(Qr);if(On&&allLeaveBlur(this._api),each$f(_n,function(Wn){if(En=hn.action(Wn,rn._model,rn._api),En=En||extend$1({},Wn),En.type=gn.event||En.type,Cn.push(En),On){var Hn=preParseFinder(Qr),qn=Hn.queryOptionMap,ni=Hn.mainTypeSpecified,oi=ni?qn.keys()[0]:"series";updateDirectly(rn,kn,Wn,oi),markStatusToUpdate(rn)}else Pn?(updateDirectly(rn,kn,Wn,"series"),markStatusToUpdate(rn)):Sn&&updateDirectly(rn,kn,Wn,Sn.main,Sn.sub)}),kn!=="none"&&!On&&!Pn&&!Sn)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,Qr),this[PENDING_UPDATE]=null):updateMethods[kn].call(this,Qr)}catch(Wn){throw this[IN_MAIN_PROCESS_KEY]=!1,Wn}if(pn?En={type:gn.event||ln,escapeConnect:dn,batch:Cn}:En=Cn[0],this[IN_MAIN_PROCESS_KEY]=!1,!Jr){var jn=this._messageCenter;if(jn.trigger(En.type,En),Pn){var Fn={type:"selectchanged",escapeConnect:dn,selected:getAllSelectedIndices(an),isFromClick:Qr.isFromClick||!1,fromAction:Qr.type,fromActionPayload:Qr};jn.trigger(Fn.type,Fn)}}},flushPendingActions=function(Qr){for(var Jr=this._pendingActions;Jr.length;){var rn=Jr.shift();doDispatchAction.call(this,rn,Qr)}},triggerUpdatedEvent=function(Qr){!Qr&&this.trigger("updated")},bindRenderedEvent=function(Qr,Jr){Qr.on("rendered",function(rn){Jr.trigger("rendered",rn),Qr.animation.isFinished()&&!Jr[PENDING_UPDATE]&&!Jr._scheduler.unfinished&&!Jr._pendingActions.length&&Jr.trigger("finished")})},bindMouseEvent=function(Qr,Jr){Qr.on("mouseover",function(rn){var an=rn.target,ln=findEventDispatcher(an,isHighDownDispatcher);ln&&(handleGlobalMouseOverForHighDown(ln,rn,Jr._api),markStatusToUpdate(Jr))}).on("mouseout",function(rn){var an=rn.target,ln=findEventDispatcher(an,isHighDownDispatcher);ln&&(handleGlobalMouseOutForHighDown(ln,rn,Jr._api),markStatusToUpdate(Jr))}).on("click",function(rn){var an=rn.target,ln=findEventDispatcher(an,function(gn){return getECData(gn).dataIndex!=null},!0);if(ln){var dn=ln.selected?"unselect":"select",hn=getECData(ln);Jr._api.dispatchAction({type:dn,dataType:hn.dataType,dataIndexInside:hn.dataIndex,seriesIndex:hn.seriesIndex,isFromClick:!0})}})};function $r(Qr){Qr.clearColorPalette(),Qr.eachSeries(function(Jr){Jr.clearColorPalette()})}function Br(Qr){var Jr=[],rn=[],an=!1;if(Qr.eachComponent(function(gn,bn){var kn=bn.get("zlevel")||0,Sn=bn.get("z")||0,_n=bn.getZLevelKey();an=an||!!_n,(gn==="series"?rn:Jr).push({zlevel:kn,z:Sn,idx:bn.componentIndex,type:gn,key:_n})}),an){var ln=Jr.concat(rn),dn,hn;sort$2(ln,function(gn,bn){return gn.zlevel===bn.zlevel?gn.z-bn.z:gn.zlevel-bn.zlevel}),each$f(ln,function(gn){var bn=Qr.getComponent(gn.type,gn.idx),kn=gn.zlevel,Sn=gn.key;dn!=null&&(kn=Math.max(dn,kn)),Sn?(kn===dn&&Sn!==hn&&kn++,hn=Sn):hn&&(kn===dn&&kn++,hn=""),dn=kn,bn.setZLevel(kn)})}}render=function(Qr,Jr,rn,an,ln){Br(Jr),renderComponents(Qr,Jr,rn,an,ln),each$f(Qr._chartsViews,function(dn){dn.__alive=!1}),renderSeries(Qr,Jr,rn,an,ln),each$f(Qr._chartsViews,function(dn){dn.__alive||dn.remove(Jr,rn)})},renderComponents=function(Qr,Jr,rn,an,ln,dn){each$f(dn||Qr._componentsViews,function(hn){var gn=hn.__model;Yr(gn,hn),hn.render(gn,Jr,rn,an),Ur(gn,hn),Kr(gn,hn)})},renderSeries=function(Qr,Jr,rn,an,ln,dn){var hn=Qr._scheduler;ln=extend$1(ln||{},{updatedSeries:Jr.getSeries()}),lifecycle$1.trigger("series:beforeupdate",Jr,rn,ln);var gn=!1;Jr.eachSeries(function(bn){var kn=Qr._chartsMap[bn.__viewId];kn.__alive=!0;var Sn=kn.renderTask;hn.updatePayload(Sn,an),Yr(bn,kn),dn&&dn.get(bn.uid)&&Sn.dirty(),Sn.perform(hn.getPerformArgs(Sn))&&(gn=!0),kn.group.silent=!!bn.get("silent"),jr(bn,kn),updateSeriesElementSelection(bn)}),hn.unfinished=gn||hn.unfinished,lifecycle$1.trigger("series:layoutlabels",Jr,rn,ln),lifecycle$1.trigger("series:transition",Jr,rn,ln),Jr.eachSeries(function(bn){var kn=Qr._chartsMap[bn.__viewId];Ur(bn,kn),Kr(bn,kn)}),zr(Qr,Jr),lifecycle$1.trigger("series:afterupdate",Jr,rn,ln)},markStatusToUpdate=function(Qr){Qr[STATUS_NEEDS_UPDATE_KEY]=!0,Qr.getZr().wakeUp()},applyChangedStates=function(Qr){Qr[STATUS_NEEDS_UPDATE_KEY]&&(Qr.getZr().storage.traverse(function(Jr){isElementRemoved(Jr)||Fr(Jr)}),Qr[STATUS_NEEDS_UPDATE_KEY]=!1)};function Fr(Qr){for(var Jr=[],rn=Qr.currentStates,an=0;an<rn.length;an++){var ln=rn[an];ln==="emphasis"||ln==="blur"||ln==="select"||Jr.push(ln)}Qr.selected&&Qr.states.select&&Jr.push("select"),Qr.hoverState===HOVER_STATE_EMPHASIS&&Qr.states.emphasis?Jr.push("emphasis"):Qr.hoverState===HOVER_STATE_BLUR&&Qr.states.blur&&Jr.push("blur"),Qr.useStates(Jr)}function zr(Qr,Jr){var rn=Qr._zr,an=rn.storage,ln=0;an.traverse(function(dn){dn.isGroup||ln++}),ln>Jr.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&Jr.eachSeries(function(dn){if(!dn.preventUsingHoverLayer){var hn=Qr._chartsMap[dn.__viewId];hn.__alive&&hn.eachRendered(function(gn){gn.states.emphasis&&(gn.states.emphasis.hoverLayer=!0)})}})}function jr(Qr,Jr){var rn=Qr.get("blendMode")||null;Jr.eachRendered(function(an){an.isGroup||(an.style.blend=rn)})}function Ur(Qr,Jr){if(!Qr.preventAutoZ){var rn=Qr.get("z")||0,an=Qr.get("zlevel")||0;Jr.eachRendered(function(ln){return Gr(ln,rn,an,-1/0),!0})}}function Gr(Qr,Jr,rn,an){var ln=Qr.getTextContent(),dn=Qr.getTextGuideLine(),hn=Qr.isGroup;if(hn)for(var gn=Qr.childrenRef(),bn=0;bn<gn.length;bn++)an=Math.max(Gr(gn[bn],Jr,rn,an),an);else Qr.z=Jr,Qr.zlevel=rn,an=Math.max(Qr.z2,an);if(ln&&(ln.z=Jr,ln.zlevel=rn,isFinite(an)&&(ln.z2=an+2)),dn){var kn=Qr.textGuideLineConfig;dn.z=Jr,dn.zlevel=rn,isFinite(an)&&(dn.z2=an+(kn&&kn.showAbove?1:-1))}return an}function Yr(Qr,Jr){Jr.eachRendered(function(rn){if(!isElementRemoved(rn)){var an=rn.getTextContent(),ln=rn.getTextGuideLine();rn.stateTransition&&(rn.stateTransition=null),an&&an.stateTransition&&(an.stateTransition=null),ln&&ln.stateTransition&&(ln.stateTransition=null),rn.hasState()?(rn.prevStates=rn.currentStates,rn.clearStates()):rn.prevStates&&(rn.prevStates=null)}})}function Kr(Qr,Jr){var rn=Qr.getModel("stateAnimation"),an=Qr.isAnimationEnabled(),ln=rn.get("duration"),dn=ln>0?{duration:ln,delay:rn.get("delay"),easing:rn.get("easing")}:null;Jr.eachRendered(function(hn){if(hn.states&&hn.states.emphasis){if(isElementRemoved(hn))return;if(hn instanceof Path$1&&savePathStates(hn),hn.__dirty){var gn=hn.prevStates;gn&&hn.useStates(gn)}if(an){hn.stateTransition=dn;var bn=hn.getTextContent(),kn=hn.getTextGuideLine();bn&&(bn.stateTransition=dn),kn&&(kn.stateTransition=dn)}hn.__dirty&&Fr(hn)}})}createExtensionAPI=function(Qr){return new(function(Jr){__extends(rn,Jr);function rn(){return Jr!==null&&Jr.apply(this,arguments)||this}return rn.prototype.getCoordinateSystems=function(){return Qr._coordSysMgr.getCoordinateSystems()},rn.prototype.getComponentByElement=function(an){for(;an;){var ln=an.__ecComponentInfo;if(ln!=null)return Qr._model.getComponent(ln.mainType,ln.index);an=an.parent}},rn.prototype.enterEmphasis=function(an,ln){enterEmphasis(an,ln),markStatusToUpdate(Qr)},rn.prototype.leaveEmphasis=function(an,ln){leaveEmphasis(an,ln),markStatusToUpdate(Qr)},rn.prototype.enterBlur=function(an){enterBlur(an),markStatusToUpdate(Qr)},rn.prototype.leaveBlur=function(an){leaveBlur(an),markStatusToUpdate(Qr)},rn.prototype.enterSelect=function(an){enterSelect(an),markStatusToUpdate(Qr)},rn.prototype.leaveSelect=function(an){leaveSelect(an),markStatusToUpdate(Qr)},rn.prototype.getModel=function(){return Qr.getModel()},rn.prototype.getViewOfComponentModel=function(an){return Qr.getViewOfComponentModel(an)},rn.prototype.getViewOfSeriesModel=function(an){return Qr.getViewOfSeriesModel(an)},rn}(ExtensionAPI$1))(Qr)},enableConnect=function(Qr){function Jr(rn,an){for(var ln=0;ln<rn.length;ln++){var dn=rn[ln];dn[CONNECT_STATUS_KEY]=an}}each$f(eventActionMap,function(rn,an){Qr._messageCenter.on(an,function(ln){if(connectedGroups[Qr.group]&&Qr[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(ln&&ln.escapeConnect)return;var dn=Qr.makeActionFromEvent(ln),hn=[];each$f(instances,function(gn){gn!==Qr&&gn.group===Qr.group&&hn.push(gn)}),Jr(hn,CONNECT_STATUS_PENDING),each$f(hn,function(gn){gn[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&gn.dispatchAction(dn)}),Jr(hn,CONNECT_STATUS_UPDATED)}})})}}(),_r}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(Fe,_r,$r){var Br=this;function Fr(){for(var zr=[],jr=0;jr<arguments.length;jr++)zr[jr]=arguments[jr];_r&&_r.apply&&_r.apply(this,zr),Br.off(Fe,Fr)}this.on.call(this,Fe,Fr,$r)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(Fe){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,groupIdBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(Fe,_r,$r){var Br=!($r&&$r.ssr);if(Br){var Fr=getInstanceByDom(Fe);if(Fr)return Fr}var zr=new ECharts(Fe,_r,$r);return zr.id="ec_"+idBase++,instances[zr.id]=zr,Br&&setAttribute(Fe,DOM_ATTRIBUTE_KEY,zr.id),enableConnect(zr),lifecycle$1.trigger("afterinit",zr),zr}function connect(Fe){if(isArray$1(Fe)){var _r=Fe;Fe=null,each$f(_r,function($r){$r.group!=null&&(Fe=$r.group)}),Fe=Fe||"g_"+groupIdBase++,each$f(_r,function($r){$r.group=Fe})}return connectedGroups[Fe]=!0,Fe}function disconnect(Fe){connectedGroups[Fe]=!1}var disConnect=disconnect;function dispose(Fe){isString(Fe)?Fe=instances[Fe]:Fe instanceof ECharts||(Fe=getInstanceByDom(Fe)),Fe instanceof ECharts&&!Fe.isDisposed()&&Fe.dispose()}function getInstanceByDom(Fe){return instances[getAttribute(Fe,DOM_ATTRIBUTE_KEY)]}function getInstanceById(Fe){return instances[Fe]}function registerTheme(Fe,_r){themeStorage[Fe]=_r}function registerPreprocessor(Fe){indexOf(optionPreprocessorFuncs,Fe)<0&&optionPreprocessorFuncs.push(Fe)}function registerProcessor(Fe,_r){normalizeRegister(dataProcessorFuncs,Fe,_r,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(Fe){registerUpdateLifecycle("afterinit",Fe)}function registerPostUpdate(Fe){registerUpdateLifecycle("afterupdate",Fe)}function registerUpdateLifecycle(Fe,_r){lifecycle$1.on(Fe,_r)}function registerAction(Fe,_r,$r){isFunction(_r)&&($r=_r,_r="");var Br=isObject$3(Fe)?Fe.type:[Fe,Fe={event:_r}][0];Fe.event=(Fe.event||Br).toLowerCase(),_r=Fe.event,!eventActionMap[_r]&&(assert(ACTION_REG.test(Br)&&ACTION_REG.test(_r)),actions[Br]||(actions[Br]={action:$r,actionInfo:Fe}),eventActionMap[_r]=Br)}function registerCoordinateSystem(Fe,_r){CoordinateSystem.register(Fe,_r)}function getCoordinateSystemDimensions(Fe){var _r=CoordinateSystem.get(Fe);if(_r)return _r.getDimensionsInfo?_r.getDimensionsInfo():_r.dimensions.slice()}function registerLayout(Fe,_r){normalizeRegister(visualFuncs,Fe,_r,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(Fe,_r){normalizeRegister(visualFuncs,Fe,_r,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(Fe,_r,$r,Br,Fr){if((isFunction(_r)||isObject$3(_r))&&($r=_r,_r=Br),!(indexOf(registeredTasks,$r)>=0)){registeredTasks.push($r);var zr=Scheduler$1.wrapStageHandler($r,Fr);zr.__prio=_r,zr.__raw=$r,Fe.push(zr)}}function registerLoading(Fe,_r){loadingEffects[Fe]=_r}function setCanvasCreator(Fe){setPlatformAPI({createCanvas:Fe})}function registerMap$1(Fe,_r,$r){var Br=getImpl("registerMap");Br&&Br(Fe,_r,$r)}function getMap(Fe){var _r=getImpl("getMap");return _r&&_r(Fe)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack$1);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",darkTheme);var dataTool={},extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(Fe){ComponentModel$1.registerClass(Fe)},registerComponentView:function(Fe){ComponentView$1.registerClass(Fe)},registerSeriesModel:function(Fe){SeriesModel$1.registerClass(Fe)},registerChartView:function(Fe){ChartView$1.registerClass(Fe)},registerSubTypeDefaulter:function(Fe,_r){ComponentModel$1.registerSubTypeDefaulter(Fe,_r)},registerPainter:function(Fe,_r){registerPainter(Fe,_r)}};function use(Fe){if(isArray$1(Fe)){each$f(Fe,function(_r){use(_r)});return}indexOf(extensions,Fe)>=0||(extensions.push(Fe),isFunction(Fe)&&(Fe={install:Fe}),Fe.install(extensionRegisters))}function dataIndexMapValueLength(Fe){return Fe==null?0:Fe.length||1}function defaultKeyGetter(Fe){return Fe}var DataDiffer=function(){function Fe(_r,$r,Br,Fr,zr,jr){this._old=_r,this._new=$r,this._oldKeyGetter=Br||defaultKeyGetter,this._newKeyGetter=Fr||defaultKeyGetter,this.context=zr,this._diffModeMultiple=jr==="multiple"}return Fe.prototype.add=function(_r){return this._add=_r,this},Fe.prototype.update=function(_r){return this._update=_r,this},Fe.prototype.updateManyToOne=function(_r){return this._updateManyToOne=_r,this},Fe.prototype.updateOneToMany=function(_r){return this._updateOneToMany=_r,this},Fe.prototype.updateManyToMany=function(_r){return this._updateManyToMany=_r,this},Fe.prototype.remove=function(_r){return this._remove=_r,this},Fe.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},Fe.prototype._executeOneToOne=function(){var _r=this._old,$r=this._new,Br={},Fr=new Array(_r.length),zr=new Array($r.length);this._initIndexMap(_r,null,Fr,"_oldKeyGetter"),this._initIndexMap($r,Br,zr,"_newKeyGetter");for(var jr=0;jr<_r.length;jr++){var Ur=Fr[jr],Gr=Br[Ur],Yr=dataIndexMapValueLength(Gr);if(Yr>1){var Kr=Gr.shift();Gr.length===1&&(Br[Ur]=Gr[0]),this._update&&this._update(Kr,jr)}else Yr===1?(Br[Ur]=null,this._update&&this._update(Gr,jr)):this._remove&&this._remove(jr)}this._performRestAdd(zr,Br)},Fe.prototype._executeMultiple=function(){var _r=this._old,$r=this._new,Br={},Fr={},zr=[],jr=[];this._initIndexMap(_r,Br,zr,"_oldKeyGetter"),this._initIndexMap($r,Fr,jr,"_newKeyGetter");for(var Ur=0;Ur<zr.length;Ur++){var Gr=zr[Ur],Yr=Br[Gr],Kr=Fr[Gr],Qr=dataIndexMapValueLength(Yr),Jr=dataIndexMapValueLength(Kr);if(Qr>1&&Jr===1)this._updateManyToOne&&this._updateManyToOne(Kr,Yr),Fr[Gr]=null;else if(Qr===1&&Jr>1)this._updateOneToMany&&this._updateOneToMany(Kr,Yr),Fr[Gr]=null;else if(Qr===1&&Jr===1)this._update&&this._update(Kr,Yr),Fr[Gr]=null;else if(Qr>1&&Jr>1)this._updateManyToMany&&this._updateManyToMany(Kr,Yr),Fr[Gr]=null;else if(Qr>1)for(var rn=0;rn<Qr;rn++)this._remove&&this._remove(Yr[rn]);else this._remove&&this._remove(Yr)}this._performRestAdd(jr,Fr)},Fe.prototype._performRestAdd=function(_r,$r){for(var Br=0;Br<_r.length;Br++){var Fr=_r[Br],zr=$r[Fr],jr=dataIndexMapValueLength(zr);if(jr>1)for(var Ur=0;Ur<jr;Ur++)this._add&&this._add(zr[Ur]);else jr===1&&this._add&&this._add(zr);$r[Fr]=null}},Fe.prototype._initIndexMap=function(_r,$r,Br,Fr){for(var zr=this._diffModeMultiple,jr=0;jr<_r.length;jr++){var Ur="_ec_"+this[Fr](_r[jr],jr);if(zr||(Br[jr]=Ur),!!$r){var Gr=$r[Ur],Yr=dataIndexMapValueLength(Gr);Yr===0?($r[Ur]=jr,zr&&Br.push(Ur)):Yr===1?$r[Ur]=[Gr,jr]:Gr.push(jr)}}},Fe}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function Fe(_r,$r){this._encode=_r,this._schema=$r}return Fe.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},Fe.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},Fe}();function summarizeDimensions(Fe,_r){var $r={},Br=$r.encode={},Fr=createHashMap(),zr=[],jr=[],Ur={};each$f(Fe.dimensions,function(Jr){var rn=Fe.getDimensionInfo(Jr),an=rn.coordDim;if(an){var ln=rn.coordDimIndex;getOrCreateEncodeArr(Br,an)[ln]=Jr,rn.isExtraCoord||(Fr.set(an,1),mayLabelDimType(rn.type)&&(zr[0]=Jr),getOrCreateEncodeArr(Ur,an)[ln]=Fe.getDimensionIndex(rn.name)),rn.defaultTooltip&&jr.push(Jr)}VISUAL_DIMENSIONS.each(function(dn,hn){var gn=getOrCreateEncodeArr(Br,hn),bn=rn.otherDims[hn];bn!=null&&bn!==!1&&(gn[bn]=rn.name)})});var Gr=[],Yr={};Fr.each(function(Jr,rn){var an=Br[rn];Yr[rn]=an[0],Gr=Gr.concat(an)}),$r.dataDimsOnCoord=Gr,$r.dataDimIndicesOnCoord=map$1(Gr,function(Jr){return Fe.getDimensionInfo(Jr).storeDimIndex}),$r.encodeFirstDimNotExtra=Yr;var Kr=Br.label;Kr&&Kr.length&&(zr=Kr.slice());var Qr=Br.tooltip;return Qr&&Qr.length?jr=Qr.slice():jr.length||(jr=zr.slice()),Br.defaultedLabel=zr,Br.defaultedTooltip=jr,$r.userOutput=new DimensionUserOuput(Ur,_r),$r}function getOrCreateEncodeArr(Fe,_r){return Fe.hasOwnProperty(_r)||(Fe[_r]=[]),Fe[_r]}function getDimensionTypeByAxis(Fe){return Fe==="category"?"ordinal":Fe==="time"?"time":"float"}function mayLabelDimType(Fe){return!(Fe==="ordinal"||Fe==="time")}var SeriesDimensionDefine=function(){function Fe(_r){this.otherDims={},_r!=null&&extend$1(this,_r)}return Fe}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function Fe(_r){this.dimensions=_r.dimensions,this._dimOmitted=_r.dimensionOmitted,this.source=_r.source,this._fullDimCount=_r.fullDimensionCount,this._updateDimOmitted(_r.dimensionOmitted)}return Fe.prototype.isDimensionOmitted=function(){return this._dimOmitted},Fe.prototype._updateDimOmitted=function(_r){this._dimOmitted=_r,_r&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},Fe.prototype.getSourceDimensionIndex=function(_r){return retrieve2(this._dimNameMap.get(_r),-1)},Fe.prototype.getSourceDimension=function(_r){var $r=this.source.dimensionsDefine;if($r)return $r[_r]},Fe.prototype.makeStoreSchema=function(){for(var _r=this._fullDimCount,$r=shouldRetrieveDataByName(this.source),Br=!shouldOmitUnusedDimensions(_r),Fr="",zr=[],jr=0,Ur=0;jr<_r;jr++){var Gr=void 0,Yr=void 0,Kr=void 0,Qr=this.dimensions[Ur];if(Qr&&Qr.storeDimIndex===jr)Gr=$r?Qr.name:null,Yr=Qr.type,Kr=Qr.ordinalMeta,Ur++;else{var Jr=this.getSourceDimension(jr);Jr&&(Gr=$r?Jr.name:null,Yr=Jr.type)}zr.push({property:Gr,type:Yr,ordinalMeta:Kr}),$r&&Gr!=null&&(!Qr||!Qr.isCalculationCoord)&&(Fr+=Br?Gr.replace(/\`/g,"`1").replace(/\$/g,"`2"):Gr),Fr+="$",Fr+=dimTypeShort[Yr]||"f",Kr&&(Fr+=Kr.uid),Fr+="$"}var rn=this.source,an=[rn.seriesLayoutBy,rn.startIndex,Fr].join("$$");return{dimensions:zr,hash:an}},Fe.prototype.makeOutputDimensionNames=function(){for(var _r=[],$r=0,Br=0;$r<this._fullDimCount;$r++){var Fr=void 0,zr=this.dimensions[Br];if(zr&&zr.storeDimIndex===$r)zr.isCalculationCoord||(Fr=zr.name),Br++;else{var jr=this.getSourceDimension($r);jr&&(Fr=jr.name)}_r.push(Fr)}return _r},Fe.prototype.appendCalculationDimension=function(_r){this.dimensions.push(_r),_r.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},Fe}();function isSeriesDataSchema(Fe){return Fe instanceof SeriesDataSchema}function createDimNameMap(Fe){for(var _r=createHashMap(),$r=0;$r<(Fe||[]).length;$r++){var Br=Fe[$r],Fr=isObject$3(Br)?Br.name:Br;Fr!=null&&_r.get(Fr)==null&&_r.set(Fr,$r)}return _r}function ensureSourceDimNameMap(Fe){var _r=inner$h(Fe);return _r.dimNameMap||(_r.dimNameMap=createDimNameMap(Fe.dimensionsDefine))}function shouldOmitUnusedDimensions(Fe){return Fe>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function Fe(_r,$r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var Br,Fr=!1;isSeriesDataSchema(_r)?(Br=_r.dimensions,this._dimOmitted=_r.isDimensionOmitted(),this._schema=_r):(Fr=!0,Br=_r),Br=Br||["x","y"];for(var zr={},jr=[],Ur={},Gr=!1,Yr={},Kr=0;Kr<Br.length;Kr++){var Qr=Br[Kr],Jr=isString(Qr)?new SeriesDimensionDefine$1({name:Qr}):Qr instanceof SeriesDimensionDefine$1?Qr:new SeriesDimensionDefine$1(Qr),rn=Jr.name;Jr.type=Jr.type||"float",Jr.coordDim||(Jr.coordDim=rn,Jr.coordDimIndex=0);var an=Jr.otherDims=Jr.otherDims||{};jr.push(rn),zr[rn]=Jr,Yr[rn]!=null&&(Gr=!0),Jr.createInvertedIndices&&(Ur[rn]=[]),an.itemName===0&&(this._nameDimIdx=Kr),an.itemId===0&&(this._idDimIdx=Kr),Fr&&(Jr.storeDimIndex=Kr)}if(this.dimensions=jr,this._dimInfos=zr,this._initGetDimensionInfo(Gr),this.hostModel=$r,this._invertedIndicesMap=Ur,this._dimOmitted){var ln=this._dimIdxToName=createHashMap();each$f(jr,function(dn){ln.set(zr[dn].storeDimIndex,dn)})}}return Fe.prototype.getDimension=function(_r){var $r=this._recognizeDimIndex(_r);if($r==null)return _r;if($r=_r,!this._dimOmitted)return this.dimensions[$r];var Br=this._dimIdxToName.get($r);if(Br!=null)return Br;var Fr=this._schema.getSourceDimension($r);if(Fr)return Fr.name},Fe.prototype.getDimensionIndex=function(_r){var $r=this._recognizeDimIndex(_r);if($r!=null)return $r;if(_r==null)return-1;var Br=this._getDimInfo(_r);return Br?Br.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(_r):-1},Fe.prototype._recognizeDimIndex=function(_r){if(isNumber(_r)||_r!=null&&!isNaN(_r)&&!this._getDimInfo(_r)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(_r)<0))return+_r},Fe.prototype._getStoreDimIndex=function(_r){var $r=this.getDimensionIndex(_r);return $r},Fe.prototype.getDimensionInfo=function(_r){return this._getDimInfo(this.getDimension(_r))},Fe.prototype._initGetDimensionInfo=function(_r){var $r=this._dimInfos;this._getDimInfo=_r?function(Br){return $r.hasOwnProperty(Br)?$r[Br]:void 0}:function(Br){return $r[Br]}},Fe.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},Fe.prototype.mapDimension=function(_r,$r){var Br=this._dimSummary;if($r==null)return Br.encodeFirstDimNotExtra[_r];var Fr=Br.encode[_r];return Fr?Fr[$r]:null},Fe.prototype.mapDimensionsAll=function(_r){var $r=this._dimSummary,Br=$r.encode[_r];return(Br||[]).slice()},Fe.prototype.getStore=function(){return this._store},Fe.prototype.initData=function(_r,$r,Br){var Fr=this,zr;if(_r instanceof DataStore$1&&(zr=_r),!zr){var jr=this.dimensions,Ur=isSourceInstance(_r)||isArrayLike(_r)?new DefaultDataProvider(_r,jr.length):_r;zr=new DataStore$1;var Gr=map(jr,function(Yr){return{type:Fr._dimInfos[Yr].type,property:Yr}});zr.initData(Ur,Gr,Br)}this._store=zr,this._nameList=($r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,zr.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},Fe.prototype.appendData=function(_r){var $r=this._store.appendData(_r);this._doInit($r[0],$r[1])},Fe.prototype.appendValues=function(_r,$r){var Br=this._store.appendValues(_r,$r.length),Fr=Br.start,zr=Br.end,jr=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),$r)for(var Ur=Fr;Ur<zr;Ur++){var Gr=Ur-Fr;this._nameList[Ur]=$r[Gr],jr&&makeIdFromName(this,Ur)}},Fe.prototype._updateOrdinalMeta=function(){for(var _r=this._store,$r=this.dimensions,Br=0;Br<$r.length;Br++){var Fr=this._dimInfos[$r[Br]];Fr.ordinalMeta&&_r.collectOrdinalMeta(Fr.storeDimIndex,Fr.ordinalMeta)}},Fe.prototype._shouldMakeIdFromName=function(){var _r=this._store.getProvider();return this._idDimIdx==null&&_r.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!_r.fillStorage},Fe.prototype._doInit=function(_r,$r){if(!(_r>=$r)){var Br=this._store,Fr=Br.getProvider();this._updateOrdinalMeta();var zr=this._nameList,jr=this._idList,Ur=Fr.getSource().sourceFormat,Gr=Ur===SOURCE_FORMAT_ORIGINAL;if(Gr&&!Fr.pure)for(var Yr=[],Kr=_r;Kr<$r;Kr++){var Qr=Fr.getItem(Kr,Yr);if(!this.hasItemOption&&isDataItemOption(Qr)&&(this.hasItemOption=!0),Qr){var Jr=Qr.name;zr[Kr]==null&&Jr!=null&&(zr[Kr]=convertOptionIdName(Jr,null));var rn=Qr.id;jr[Kr]==null&&rn!=null&&(jr[Kr]=convertOptionIdName(rn,null))}}if(this._shouldMakeIdFromName())for(var Kr=_r;Kr<$r;Kr++)makeIdFromName(this,Kr);prepareInvertedIndex(this)}},Fe.prototype.getApproximateExtent=function(_r){return this._approximateExtent[_r]||this._store.getDataExtent(this._getStoreDimIndex(_r))},Fe.prototype.setApproximateExtent=function(_r,$r){$r=this.getDimension($r),this._approximateExtent[$r]=_r.slice()},Fe.prototype.getCalculationInfo=function(_r){return this._calculationInfo[_r]},Fe.prototype.setCalculationInfo=function(_r,$r){isObject$1(_r)?extend$1(this._calculationInfo,_r):this._calculationInfo[_r]=$r},Fe.prototype.getName=function(_r){var $r=this.getRawIndex(_r),Br=this._nameList[$r];return Br==null&&this._nameDimIdx!=null&&(Br=getIdNameFromStore(this,this._nameDimIdx,$r)),Br==null&&(Br=""),Br},Fe.prototype._getCategory=function(_r,$r){var Br=this._store.get(_r,$r),Fr=this._store.getOrdinalMeta(_r);return Fr?Fr.categories[Br]:Br},Fe.prototype.getId=function(_r){return getId(this,this.getRawIndex(_r))},Fe.prototype.count=function(){return this._store.count()},Fe.prototype.get=function(_r,$r){var Br=this._store,Fr=this._dimInfos[_r];if(Fr)return Br.get(Fr.storeDimIndex,$r)},Fe.prototype.getByRawIndex=function(_r,$r){var Br=this._store,Fr=this._dimInfos[_r];if(Fr)return Br.getByRawIndex(Fr.storeDimIndex,$r)},Fe.prototype.getIndices=function(){return this._store.getIndices()},Fe.prototype.getDataExtent=function(_r){return this._store.getDataExtent(this._getStoreDimIndex(_r))},Fe.prototype.getSum=function(_r){return this._store.getSum(this._getStoreDimIndex(_r))},Fe.prototype.getMedian=function(_r){return this._store.getMedian(this._getStoreDimIndex(_r))},Fe.prototype.getValues=function(_r,$r){var Br=this,Fr=this._store;return isArray$1(_r)?Fr.getValues(map(_r,function(zr){return Br._getStoreDimIndex(zr)}),$r):Fr.getValues(_r)},Fe.prototype.hasValue=function(_r){for(var $r=this._dimSummary.dataDimIndicesOnCoord,Br=0,Fr=$r.length;Br<Fr;Br++)if(isNaN(this._store.get($r[Br],_r)))return!1;return!0},Fe.prototype.indexOfName=function(_r){for(var $r=0,Br=this._store.count();$r<Br;$r++)if(this.getName($r)===_r)return $r;return-1},Fe.prototype.getRawIndex=function(_r){return this._store.getRawIndex(_r)},Fe.prototype.indexOfRawIndex=function(_r){return this._store.indexOfRawIndex(_r)},Fe.prototype.rawIndexOf=function(_r,$r){var Br=_r&&this._invertedIndicesMap[_r],Fr=Br[$r];return Fr==null||isNaN(Fr)?INDEX_NOT_FOUND:Fr},Fe.prototype.indicesOfNearest=function(_r,$r,Br){return this._store.indicesOfNearest(this._getStoreDimIndex(_r),$r,Br)},Fe.prototype.each=function(_r,$r,Br){isFunction(_r)&&(Br=$r,$r=_r,_r=[]);var Fr=Br||this,zr=map(normalizeDimensions(_r),this._getStoreDimIndex,this);this._store.each(zr,Fr?bind$1($r,Fr):$r)},Fe.prototype.filterSelf=function(_r,$r,Br){isFunction(_r)&&(Br=$r,$r=_r,_r=[]);var Fr=Br||this,zr=map(normalizeDimensions(_r),this._getStoreDimIndex,this);return this._store=this._store.filter(zr,Fr?bind$1($r,Fr):$r),this},Fe.prototype.selectRange=function(_r){var $r=this,Br={},Fr=keys(_r);return each$f(Fr,function(zr){var jr=$r._getStoreDimIndex(zr);Br[jr]=_r[zr]}),this._store=this._store.selectRange(Br),this},Fe.prototype.mapArray=function(_r,$r,Br){isFunction(_r)&&(Br=$r,$r=_r,_r=[]),Br=Br||this;var Fr=[];return this.each(_r,function(){Fr.push($r&&$r.apply(this,arguments))},Br),Fr},Fe.prototype.map=function(_r,$r,Br,Fr){var zr=Br||Fr||this,jr=map(normalizeDimensions(_r),this._getStoreDimIndex,this),Ur=cloneListForMapAndSample(this);return Ur._store=this._store.map(jr,zr?bind$1($r,zr):$r),Ur},Fe.prototype.modify=function(_r,$r,Br,Fr){var zr=Br||Fr||this,jr=map(normalizeDimensions(_r),this._getStoreDimIndex,this);this._store.modify(jr,zr?bind$1($r,zr):$r)},Fe.prototype.downSample=function(_r,$r,Br,Fr){var zr=cloneListForMapAndSample(this);return zr._store=this._store.downSample(this._getStoreDimIndex(_r),$r,Br,Fr),zr},Fe.prototype.lttbDownSample=function(_r,$r){var Br=cloneListForMapAndSample(this);return Br._store=this._store.lttbDownSample(this._getStoreDimIndex(_r),$r),Br},Fe.prototype.getRawDataItem=function(_r){return this._store.getRawDataItem(_r)},Fe.prototype.getItemModel=function(_r){var $r=this.hostModel,Br=this.getRawDataItem(_r);return new Model$1(Br,$r,$r&&$r.ecModel)},Fe.prototype.diff=function(_r){var $r=this;return new DataDiffer$1(_r?_r.getStore().getIndices():[],this.getStore().getIndices(),function(Br){return getId(_r,Br)},function(Br){return getId($r,Br)})},Fe.prototype.getVisual=function(_r){var $r=this._visual;return $r&&$r[_r]},Fe.prototype.setVisual=function(_r,$r){this._visual=this._visual||{},isObject$1(_r)?extend$1(this._visual,_r):this._visual[_r]=$r},Fe.prototype.getItemVisual=function(_r,$r){var Br=this._itemVisuals[_r],Fr=Br&&Br[$r];return Fr??this.getVisual($r)},Fe.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},Fe.prototype.ensureUniqueItemVisual=function(_r,$r){var Br=this._itemVisuals,Fr=Br[_r];Fr||(Fr=Br[_r]={});var zr=Fr[$r];return zr==null&&(zr=this.getVisual($r),isArray$1(zr)?zr=zr.slice():isObject$1(zr)&&(zr=extend$1({},zr)),Fr[$r]=zr),zr},Fe.prototype.setItemVisual=function(_r,$r,Br){var Fr=this._itemVisuals[_r]||{};this._itemVisuals[_r]=Fr,isObject$1($r)?extend$1(Fr,$r):Fr[$r]=Br},Fe.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},Fe.prototype.setLayout=function(_r,$r){isObject$1(_r)?extend$1(this._layout,_r):this._layout[_r]=$r},Fe.prototype.getLayout=function(_r){return this._layout[_r]},Fe.prototype.getItemLayout=function(_r){return this._itemLayouts[_r]},Fe.prototype.setItemLayout=function(_r,$r,Br){this._itemLayouts[_r]=Br?extend$1(this._itemLayouts[_r]||{},$r):$r},Fe.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},Fe.prototype.setItemGraphicEl=function(_r,$r){var Br=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(Br,this.dataType,_r,$r),this._graphicEls[_r]=$r},Fe.prototype.getItemGraphicEl=function(_r){return this._graphicEls[_r]},Fe.prototype.eachItemGraphicEl=function(_r,$r){each$f(this._graphicEls,function(Br,Fr){Br&&_r&&_r.call($r,Br,Fr)})},Fe.prototype.cloneShallow=function(_r){return _r||(_r=new Fe(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(_r,this),_r._store=this._store,_r},Fe.prototype.wrapMethod=function(_r,$r){var Br=this[_r];isFunction(Br)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(_r),this[_r]=function(){var Fr=Br.apply(this,arguments);return $r.apply(this,[Fr].concat(slice(arguments)))})},Fe.internalField=function(){prepareInvertedIndex=function(_r){var $r=_r._invertedIndicesMap;each$f($r,function(Br,Fr){var zr=_r._dimInfos[Fr],jr=zr.ordinalMeta,Ur=_r._store;if(jr){Br=$r[Fr]=new CtorInt32Array(jr.categories.length);for(var Gr=0;Gr<Br.length;Gr++)Br[Gr]=INDEX_NOT_FOUND;for(var Gr=0;Gr<Ur.count();Gr++)Br[Ur.get(zr.storeDimIndex,Gr)]=Gr}})},getIdNameFromStore=function(_r,$r,Br){return convertOptionIdName(_r._getCategory($r,Br),null)},getId=function(_r,$r){var Br=_r._idList[$r];return Br==null&&_r._idDimIdx!=null&&(Br=getIdNameFromStore(_r,_r._idDimIdx,$r)),Br==null&&(Br=ID_PREFIX+$r),Br},normalizeDimensions=function(_r){return isArray$1(_r)||(_r=_r!=null?[_r]:[]),_r},cloneListForMapAndSample=function(_r){var $r=new Fe(_r._schema?_r._schema:map(_r.dimensions,_r._getDimInfo,_r),_r.hostModel);return transferProperties($r,_r),$r},transferProperties=function(_r,$r){each$f(TRANSFERABLE_PROPERTIES.concat($r.__wrappedMethods||[]),function(Br){$r.hasOwnProperty(Br)&&(_r[Br]=$r[Br])}),_r.__wrappedMethods=$r.__wrappedMethods,each$f(CLONE_PROPERTIES,function(Br){_r[Br]=clone$4($r[Br])}),_r._calculationInfo=extend$1({},$r._calculationInfo)},makeIdFromName=function(_r,$r){var Br=_r._nameList,Fr=_r._idList,zr=_r._nameDimIdx,jr=_r._idDimIdx,Ur=Br[$r],Gr=Fr[$r];if(Ur==null&&zr!=null&&(Br[$r]=Ur=getIdNameFromStore(_r,zr,$r)),Gr==null&&jr!=null&&(Fr[$r]=Gr=getIdNameFromStore(_r,jr,$r)),Gr==null&&Ur!=null){var Yr=_r._nameRepeatCount,Kr=Yr[Ur]=(Yr[Ur]||0)+1;Gr=Ur,Kr>1&&(Gr+="__ec__"+Kr),Fr[$r]=Gr}}}(),Fe}();const SeriesData$1=SeriesData;function createDimensions(Fe,_r){return prepareSeriesDataSchema(Fe,_r).dimensions}function prepareSeriesDataSchema(Fe,_r){isSourceInstance(Fe)||(Fe=createSourceFromSeriesDataOption(Fe)),_r=_r||{};var $r=_r.coordDimensions||[],Br=_r.dimensionsDefine||Fe.dimensionsDefine||[],Fr=createHashMap(),zr=[],jr=getDimCount(Fe,$r,Br,_r.dimensionsCount),Ur=_r.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(jr),Gr=Br===Fe.dimensionsDefine,Yr=Gr?ensureSourceDimNameMap(Fe):createDimNameMap(Br),Kr=_r.encodeDefine;!Kr&&_r.encodeDefaulter&&(Kr=_r.encodeDefaulter(Fe,jr));for(var Qr=createHashMap(Kr),Jr=new CtorInt32Array$1(jr),rn=0;rn<Jr.length;rn++)Jr[rn]=-1;function an(En){var Pn=Jr[En];if(Pn<0){var On=Br[En],jn=isObject$3(On)?On:{name:On},Fn=new SeriesDimensionDefine$1,Wn=jn.name;Wn!=null&&Yr.get(Wn)!=null&&(Fn.name=Fn.displayName=Wn),jn.type!=null&&(Fn.type=jn.type),jn.displayName!=null&&(Fn.displayName=jn.displayName);var Hn=zr.length;return Jr[En]=Hn,Fn.storeDimIndex=En,zr.push(Fn),Fn}return zr[Pn]}if(!Ur)for(var rn=0;rn<jr;rn++)an(rn);Qr.each(function(En,Pn){var On=normalizeToArray(En).slice();if(On.length===1&&!isString(On[0])&&On[0]<0){Qr.set(Pn,!1);return}var jn=Qr.set(Pn,[]);each$f(On,function(Fn,Wn){var Hn=isString(Fn)?Yr.get(Fn):Fn;Hn!=null&&Hn<jr&&(jn[Wn]=Hn,dn(an(Hn),Pn,Wn))})});var ln=0;each$f($r,function(En){var Pn,On,jn,Fn;if(isString(En))Pn=En,Fn={};else{Fn=En,Pn=Fn.name;var Wn=Fn.ordinalMeta;Fn.ordinalMeta=null,Fn=extend$1({},Fn),Fn.ordinalMeta=Wn,On=Fn.dimsDef,jn=Fn.otherDims,Fn.name=Fn.coordDim=Fn.coordDimIndex=Fn.dimsDef=Fn.otherDims=null}var Hn=Qr.get(Pn);if(Hn!==!1){if(Hn=normalizeToArray(Hn),!Hn.length)for(var qn=0;qn<(On&&On.length||1);qn++){for(;ln<jr&&an(ln).coordDim!=null;)ln++;ln<jr&&Hn.push(ln++)}each$f(Hn,function(ni,oi){var wi=an(ni);if(Gr&&Fn.type!=null&&(wi.type=Fn.type),dn(defaults(wi,Fn),Pn,oi),wi.name==null&&On){var Ci=On[oi];!isObject$3(Ci)&&(Ci={name:Ci}),wi.name=wi.displayName=Ci.name,wi.defaultTooltip=Ci.defaultTooltip}jn&&defaults(wi.otherDims,jn)})}});function dn(En,Pn,On){VISUAL_DIMENSIONS.get(Pn)!=null?En.otherDims[Pn]=On:(En.coordDim=Pn,En.coordDimIndex=On,Fr.set(Pn,!0))}var hn=_r.generateCoord,gn=_r.generateCoordCount,bn=gn!=null;gn=hn?gn||1:0;var kn=hn||"value";function Sn(En){En.name==null&&(En.name=En.coordDim)}if(Ur)each$f(zr,function(En){Sn(En)}),zr.sort(function(En,Pn){return En.storeDimIndex-Pn.storeDimIndex});else for(var _n=0;_n<jr;_n++){var pn=an(_n),Cn=pn.coordDim;Cn==null&&(pn.coordDim=genCoordDimName(kn,Fr,bn),pn.coordDimIndex=0,(!hn||gn<=0)&&(pn.isExtraCoord=!0),gn--),Sn(pn),pn.type==null&&(guessOrdinal(Fe,_n)===BE_ORDINAL.Must||pn.isExtraCoord&&(pn.otherDims.itemName!=null||pn.otherDims.seriesName!=null))&&(pn.type="ordinal")}return removeDuplication(zr),new SeriesDataSchema({source:Fe,dimensions:zr,fullDimensionCount:jr,dimensionOmitted:Ur})}function removeDuplication(Fe){for(var _r=createHashMap(),$r=0;$r<Fe.length;$r++){var Br=Fe[$r],Fr=Br.name,zr=_r.get(Fr)||0;zr>0&&(Br.name=Fr+(zr-1)),zr++,_r.set(Fr,zr)}}function getDimCount(Fe,_r,$r,Br){var Fr=Math.max(Fe.dimensionsDetectedCount||1,_r.length,$r.length,Br||0);return each$f(_r,function(zr){var jr;isObject$3(zr)&&(jr=zr.dimsDef)&&(Fr=Math.max(Fr,jr.length))}),Fr}function genCoordDimName(Fe,_r,$r){if($r||_r.hasKey(Fe)){for(var Br=0;_r.hasKey(Fe+Br);)Br++;Fe+=Br}return _r.set(Fe,!0),Fe}var CoordSysInfo=function(){function Fe(_r){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=_r}return Fe}();function getCoordSysInfoBySeries(Fe){var _r=Fe.get("coordinateSystem"),$r=new CoordSysInfo(_r),Br=fetchers[_r];if(Br)return Br(Fe,$r,$r.axisMap,$r.categoryAxisMap),$r}var fetchers={cartesian2d:function(Fe,_r,$r,Br){var Fr=Fe.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],zr=Fe.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];_r.coordSysDims=["x","y"],$r.set("x",Fr),$r.set("y",zr),isCategory(Fr)&&(Br.set("x",Fr),_r.firstCategoryDimIndex=0),isCategory(zr)&&(Br.set("y",zr),_r.firstCategoryDimIndex==null&&(_r.firstCategoryDimIndex=1))},singleAxis:function(Fe,_r,$r,Br){var Fr=Fe.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];_r.coordSysDims=["single"],$r.set("single",Fr),isCategory(Fr)&&(Br.set("single",Fr),_r.firstCategoryDimIndex=0)},polar:function(Fe,_r,$r,Br){var Fr=Fe.getReferringComponents("polar",SINGLE_REFERRING).models[0],zr=Fr.findAxisModel("radiusAxis"),jr=Fr.findAxisModel("angleAxis");_r.coordSysDims=["radius","angle"],$r.set("radius",zr),$r.set("angle",jr),isCategory(zr)&&(Br.set("radius",zr),_r.firstCategoryDimIndex=0),isCategory(jr)&&(Br.set("angle",jr),_r.firstCategoryDimIndex==null&&(_r.firstCategoryDimIndex=1))},geo:function(Fe,_r,$r,Br){_r.coordSysDims=["lng","lat"]},parallel:function(Fe,_r,$r,Br){var Fr=Fe.ecModel,zr=Fr.getComponent("parallel",Fe.get("parallelIndex")),jr=_r.coordSysDims=zr.dimensions.slice();each$f(zr.parallelAxisIndex,function(Ur,Gr){var Yr=Fr.getComponent("parallelAxis",Ur),Kr=jr[Gr];$r.set(Kr,Yr),isCategory(Yr)&&(Br.set(Kr,Yr),_r.firstCategoryDimIndex==null&&(_r.firstCategoryDimIndex=Gr))})}};function isCategory(Fe){return Fe.get("type")==="category"}function enableDataStack(Fe,_r,$r){$r=$r||{};var Br=$r.byIndex,Fr=$r.stackedCoordDimension,zr,jr,Ur;isLegacyDimensionsInput(_r)?zr=_r:(jr=_r.schema,zr=jr.dimensions,Ur=_r.store);var Gr=!!(Fe&&Fe.get("stack")),Yr,Kr,Qr,Jr;if(each$f(zr,function(gn,bn){isString(gn)&&(zr[bn]=gn={name:gn}),Gr&&!gn.isExtraCoord&&(!Br&&!Yr&&gn.ordinalMeta&&(Yr=gn),!Kr&&gn.type!=="ordinal"&&gn.type!=="time"&&(!Fr||Fr===gn.coordDim)&&(Kr=gn))}),Kr&&!Br&&!Yr&&(Br=!0),Kr){Qr="__\0ecstackresult_"+Fe.id,Jr="__\0ecstackedover_"+Fe.id,Yr&&(Yr.createInvertedIndices=!0);var rn=Kr.coordDim,an=Kr.type,ln=0;each$f(zr,function(gn){gn.coordDim===rn&&ln++});var dn={name:Qr,coordDim:rn,coordDimIndex:ln,type:an,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:zr.length},hn={name:Jr,coordDim:Jr,coordDimIndex:ln+1,type:an,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:zr.length+1};jr?(Ur&&(dn.storeDimIndex=Ur.ensureCalculationDimension(Jr,an),hn.storeDimIndex=Ur.ensureCalculationDimension(Qr,an)),jr.appendCalculationDimension(dn),jr.appendCalculationDimension(hn)):(zr.push(dn),zr.push(hn))}return{stackedDimension:Kr&&Kr.name,stackedByDimension:Yr&&Yr.name,isStackedByIndex:Br,stackedOverDimension:Jr,stackResultDimension:Qr}}function isLegacyDimensionsInput(Fe){return!isSeriesDataSchema(Fe.schema)}function isDimensionStacked(Fe,_r){return!!_r&&_r===Fe.getCalculationInfo("stackedDimension")}function getStackedDimension(Fe,_r){return isDimensionStacked(Fe,_r)?Fe.getCalculationInfo("stackResultDimension"):_r}function getCoordSysDimDefs(Fe,_r){var $r=Fe.get("coordinateSystem"),Br=CoordinateSystem.get($r),Fr;return _r&&_r.coordSysDims&&(Fr=map$1(_r.coordSysDims,function(zr){var jr={name:zr},Ur=_r.axisMap.get(zr);if(Ur){var Gr=Ur.get("type");jr.type=getDimensionTypeByAxis(Gr)}return jr})),Fr||(Fr=Br&&(Br.getDimensionsInfo?Br.getDimensionsInfo():Br.dimensions.slice())||["x","y"]),Fr}function injectOrdinalMeta(Fe,_r,$r){var Br,Fr;return $r&&each$f(Fe,function(zr,jr){var Ur=zr.coordDim,Gr=$r.categoryAxisMap.get(Ur);Gr&&(Br==null&&(Br=jr),zr.ordinalMeta=Gr.getOrdinalMeta(),_r&&(zr.createInvertedIndices=!0)),zr.otherDims.itemName!=null&&(Fr=!0)}),!Fr&&Br!=null&&(Fe[Br].otherDims.itemName=0),Br}function createSeriesData(Fe,_r,$r){$r=$r||{};var Br=_r.getSourceManager(),Fr,zr=!1;Fe?(zr=!0,Fr=createSourceFromSeriesDataOption(Fe)):(Fr=Br.getSource(),zr=Fr.sourceFormat===SOURCE_FORMAT_ORIGINAL);var jr=getCoordSysInfoBySeries(_r),Ur=getCoordSysDimDefs(_r,jr),Gr=$r.useEncodeDefaulter,Yr=isFunction(Gr)?Gr:Gr?curry$1(makeSeriesEncodeForAxisCoordSys,Ur,_r):null,Kr={coordDimensions:Ur,generateCoord:$r.generateCoord,encodeDefine:_r.getEncode(),encodeDefaulter:Yr,canOmitUnusedDimensions:!zr},Qr=prepareSeriesDataSchema(Fr,Kr),Jr=injectOrdinalMeta(Qr.dimensions,$r.createInvertedIndices,jr),rn=zr?null:Br.getSharedDataStore(Qr),an=enableDataStack(_r,{schema:Qr,store:rn}),ln=new SeriesData$1(Qr,_r);ln.setCalculationInfo(an);var dn=Jr!=null&&isNeedCompleteOrdinalData(Fr)?function(hn,gn,bn,kn){return kn===Jr?bn:this.defaultDimValueGetter(hn,gn,bn,kn)}:null;return ln.hasItemOption=!1,ln.initData(zr?Fr:rn,null,dn),ln}function isNeedCompleteOrdinalData(Fe){if(Fe.sourceFormat===SOURCE_FORMAT_ORIGINAL){var _r=firstDataNotNull(Fe.data||[]);return!isArray$1(getDataItemValue(_r))}}function firstDataNotNull(Fe){for(var _r=0;_r<Fe.length&&Fe[_r]==null;)_r++;return Fe[_r]}var Scale=function(){function Fe(_r){this._setting=_r||{},this._extent=[1/0,-1/0]}return Fe.prototype.getSetting=function(_r){return this._setting[_r]},Fe.prototype.unionExtent=function(_r){var $r=this._extent;_r[0]<$r[0]&&($r[0]=_r[0]),_r[1]>$r[1]&&($r[1]=_r[1])},Fe.prototype.unionExtentFromData=function(_r,$r){this.unionExtent(_r.getApproximateExtent($r))},Fe.prototype.getExtent=function(){return this._extent.slice()},Fe.prototype.setExtent=function(_r,$r){var Br=this._extent;isNaN(_r)||(Br[0]=_r),isNaN($r)||(Br[1]=$r)},Fe.prototype.isInExtentRange=function(_r){return this._extent[0]<=_r&&this._extent[1]>=_r},Fe.prototype.isBlank=function(){return this._isBlank},Fe.prototype.setBlank=function(_r){this._isBlank=_r},Fe}();enableClassManagement(Scale);const Scale$1=Scale;var uidBase=0,OrdinalMeta=function(){function Fe(_r){this.categories=_r.categories||[],this._needCollect=_r.needCollect,this._deduplication=_r.deduplication,this.uid=++uidBase}return Fe.createByAxisModel=function(_r){var $r=_r.option,Br=$r.data,Fr=Br&&map$1(Br,getName);return new Fe({categories:Fr,needCollect:!Fr,deduplication:$r.dedplication!==!1})},Fe.prototype.getOrdinal=function(_r){return this._getOrCreateMap().get(_r)},Fe.prototype.parseAndCollect=function(_r){var $r,Br=this._needCollect;if(!isString(_r)&&!Br)return _r;if(Br&&!this._deduplication)return $r=this.categories.length,this.categories[$r]=_r,$r;var Fr=this._getOrCreateMap();return $r=Fr.get(_r),$r==null&&(Br?($r=this.categories.length,this.categories[$r]=_r,Fr.set(_r,$r)):$r=NaN),$r},Fe.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},Fe}();function getName(Fe){return isObject$3(Fe)&&Fe.value!=null?Fe.value:Fe+""}const OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale(Fe){return Fe.type==="interval"||Fe.type==="log"}function intervalScaleNiceTicks(Fe,_r,$r,Br){var Fr={},zr=Fe[1]-Fe[0],jr=Fr.interval=nice(zr/_r,!0);$r!=null&&jr<$r&&(jr=Fr.interval=$r),Br!=null&&jr>Br&&(jr=Fr.interval=Br);var Ur=Fr.intervalPrecision=getIntervalPrecision(jr),Gr=Fr.niceTickExtent=[round$3(Math.ceil(Fe[0]/jr)*jr,Ur),round$3(Math.floor(Fe[1]/jr)*jr,Ur)];return fixExtent(Gr,Fe),Fr}function increaseInterval(Fe){var _r=Math.pow(10,quantityExponent(Fe)),$r=Fe/_r;return $r?$r===2?$r=3:$r===3?$r=5:$r*=2:$r=1,round$3($r*_r)}function getIntervalPrecision(Fe){return getPrecision(Fe)+2}function clamp(Fe,_r,$r){Fe[_r]=Math.max(Math.min(Fe[_r],$r[1]),$r[0])}function fixExtent(Fe,_r){!isFinite(Fe[0])&&(Fe[0]=_r[0]),!isFinite(Fe[1])&&(Fe[1]=_r[1]),clamp(Fe,0,_r),clamp(Fe,1,_r),Fe[0]>Fe[1]&&(Fe[0]=Fe[1])}function contain$1(Fe,_r){return Fe>=_r[0]&&Fe<=_r[1]}function normalize$2(Fe,_r){return _r[1]===_r[0]?.5:(Fe-_r[0])/(_r[1]-_r[0])}function scale(Fe,_r){return Fe*(_r[1]-_r[0])+_r[0]}var OrdinalScale=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;Br.type="ordinal";var Fr=Br.getSetting("ordinalMeta");return Fr||(Fr=new OrdinalMeta$1({})),isArray$1(Fr)&&(Fr=new OrdinalMeta$1({categories:map$1(Fr,function(zr){return isObject$3(zr)?zr.value:zr})})),Br._ordinalMeta=Fr,Br._extent=Br.getSetting("extent")||[0,Fr.categories.length-1],Br}return _r.prototype.parse=function($r){return $r==null?NaN:isString($r)?this._ordinalMeta.getOrdinal($r):Math.round($r)},_r.prototype.contain=function($r){return $r=this.parse($r),contain$1($r,this._extent)&&this._ordinalMeta.categories[$r]!=null},_r.prototype.normalize=function($r){return $r=this._getTickNumber(this.parse($r)),normalize$2($r,this._extent)},_r.prototype.scale=function($r){return $r=Math.round(scale($r,this._extent)),this.getRawOrdinalNumber($r)},_r.prototype.getTicks=function(){for(var $r=[],Br=this._extent,Fr=Br[0];Fr<=Br[1];)$r.push({value:Fr}),Fr++;return $r},_r.prototype.getMinorTicks=function($r){},_r.prototype.setSortInfo=function($r){if($r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var Br=$r.ordinalNumbers,Fr=this._ordinalNumbersByTick=[],zr=this._ticksByOrdinalNumber=[],jr=0,Ur=this._ordinalMeta.categories.length,Gr=Math.min(Ur,Br.length);jr<Gr;++jr){var Yr=Br[jr];Fr[jr]=Yr,zr[Yr]=jr}for(var Kr=0;jr<Ur;++jr){for(;zr[Kr]!=null;)Kr++;Fr.push(Kr),zr[Kr]=jr}},_r.prototype._getTickNumber=function($r){var Br=this._ticksByOrdinalNumber;return Br&&$r>=0&&$r<Br.length?Br[$r]:$r},_r.prototype.getRawOrdinalNumber=function($r){var Br=this._ordinalNumbersByTick;return Br&&$r>=0&&$r<Br.length?Br[$r]:$r},_r.prototype.getLabel=function($r){if(!this.isBlank()){var Br=this.getRawOrdinalNumber($r.value),Fr=this._ordinalMeta.categories[Br];return Fr==null?"":Fr+""}},_r.prototype.count=function(){return this._extent[1]-this._extent[0]+1},_r.prototype.unionExtentFromData=function($r,Br){this.unionExtent($r.getApproximateExtent(Br))},_r.prototype.isInExtentRange=function($r){return $r=this._getTickNumber($r),this._extent[0]<=$r&&this._extent[1]>=$r},_r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},_r.prototype.calcNiceTicks=function(){},_r.prototype.calcNiceExtent=function(){},_r.type="ordinal",_r}(Scale$1);Scale$1.registerClass(OrdinalScale);const OrdinalScale$1=OrdinalScale;var roundNumber=round$3,IntervalScale=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type="interval",$r._interval=0,$r._intervalPrecision=2,$r}return _r.prototype.parse=function($r){return $r},_r.prototype.contain=function($r){return contain$1($r,this._extent)},_r.prototype.normalize=function($r){return normalize$2($r,this._extent)},_r.prototype.scale=function($r){return scale($r,this._extent)},_r.prototype.setExtent=function($r,Br){var Fr=this._extent;isNaN($r)||(Fr[0]=parseFloat($r)),isNaN(Br)||(Fr[1]=parseFloat(Br))},_r.prototype.unionExtent=function($r){var Br=this._extent;$r[0]<Br[0]&&(Br[0]=$r[0]),$r[1]>Br[1]&&(Br[1]=$r[1]),this.setExtent(Br[0],Br[1])},_r.prototype.getInterval=function(){return this._interval},_r.prototype.setInterval=function($r){this._interval=$r,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision($r)},_r.prototype.getTicks=function($r){var Br=this._interval,Fr=this._extent,zr=this._niceExtent,jr=this._intervalPrecision,Ur=[];if(!Br)return Ur;var Gr=1e4;Fr[0]<zr[0]&&($r?Ur.push({value:roundNumber(zr[0]-Br,jr)}):Ur.push({value:Fr[0]}));for(var Yr=zr[0];Yr<=zr[1]&&(Ur.push({value:Yr}),Yr=roundNumber(Yr+Br,jr),Yr!==Ur[Ur.length-1].value);)if(Ur.length>Gr)return[];var Kr=Ur.length?Ur[Ur.length-1].value:zr[1];return Fr[1]>Kr&&($r?Ur.push({value:roundNumber(Kr+Br,jr)}):Ur.push({value:Fr[1]})),Ur},_r.prototype.getMinorTicks=function($r){for(var Br=this.getTicks(!0),Fr=[],zr=this.getExtent(),jr=1;jr<Br.length;jr++){for(var Ur=Br[jr],Gr=Br[jr-1],Yr=0,Kr=[],Qr=Ur.value-Gr.value,Jr=Qr/$r;Yr<$r-1;){var rn=roundNumber(Gr.value+(Yr+1)*Jr);rn>zr[0]&&rn<zr[1]&&Kr.push(rn),Yr++}Fr.push(Kr)}return Fr},_r.prototype.getLabel=function($r,Br){if($r==null)return"";var Fr=Br&&Br.precision;Fr==null?Fr=getPrecision($r.value)||0:Fr==="auto"&&(Fr=this._intervalPrecision);var zr=roundNumber($r.value,Fr,!0);return addCommas(zr)},_r.prototype.calcNiceTicks=function($r,Br,Fr){$r=$r||5;var zr=this._extent,jr=zr[1]-zr[0];if(isFinite(jr)){jr<0&&(jr=-jr,zr.reverse());var Ur=intervalScaleNiceTicks(zr,$r,Br,Fr);this._intervalPrecision=Ur.intervalPrecision,this._interval=Ur.interval,this._niceExtent=Ur.niceTickExtent}},_r.prototype.calcNiceExtent=function($r){var Br=this._extent;if(Br[0]===Br[1])if(Br[0]!==0){var Fr=Math.abs(Br[0]);$r.fixMax||(Br[1]+=Fr/2),Br[0]-=Fr/2}else Br[1]=1;var zr=Br[1]-Br[0];isFinite(zr)||(Br[0]=0,Br[1]=1),this.calcNiceTicks($r.splitNumber,$r.minInterval,$r.maxInterval);var jr=this._interval;$r.fixMin||(Br[0]=roundNumber(Math.floor(Br[0]/jr)*jr)),$r.fixMax||(Br[1]=roundNumber(Math.ceil(Br[1]/jr)*jr))},_r.prototype.setNiceExtent=function($r,Br){this._niceExtent=[$r,Br]},_r.type="interval",_r}(Scale$1);Scale$1.registerClass(IntervalScale);const IntervalScale$1=IntervalScale;var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(Fe){return isArray$1(Fe)?supportFloat32Array?new Float32Array(Fe):Fe:new Float32ArrayCtor(Fe)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(Fe){return Fe.get("stack")||STACK_PREFIX+Fe.seriesIndex}function getAxisKey$1(Fe){return Fe.dim+Fe.index}function getLayoutOnAxis(Fe){var _r=[],$r=Fe.axis,Br="axis0";if($r.type==="category"){for(var Fr=$r.getBandWidth(),zr=0;zr<Fe.count;zr++)_r.push(defaults({bandWidth:Fr,axisKey:Br,stackId:STACK_PREFIX+zr},Fe));for(var jr=doCalBarWidthAndOffset(_r),Ur=[],zr=0;zr<Fe.count;zr++){var Gr=jr[Br][STACK_PREFIX+zr];Gr.offsetCenter=Gr.offset+Gr.width/2,Ur.push(Gr)}return Ur}}function prepareLayoutBarSeries(Fe,_r){var $r=[];return _r.eachSeriesByType(Fe,function(Br){isOnCartesian(Br)&&$r.push(Br)}),$r}function getValueAxesMinGaps(Fe){var _r={};each$f(Fe,function(Gr){var Yr=Gr.coordinateSystem,Kr=Yr.getBaseAxis();if(!(Kr.type!=="time"&&Kr.type!=="value"))for(var Qr=Gr.getData(),Jr=Kr.dim+"_"+Kr.index,rn=Qr.getDimensionIndex(Qr.mapDimension(Kr.dim)),an=Qr.getStore(),ln=0,dn=an.count();ln<dn;++ln){var hn=an.get(rn,ln);_r[Jr]?_r[Jr].push(hn):_r[Jr]=[hn]}});var $r={};for(var Br in _r)if(_r.hasOwnProperty(Br)){var Fr=_r[Br];if(Fr){Fr.sort(function(Gr,Yr){return Gr-Yr});for(var zr=null,jr=1;jr<Fr.length;++jr){var Ur=Fr[jr]-Fr[jr-1];Ur>0&&(zr=zr===null?Ur:Math.min(zr,Ur))}$r[Br]=zr}}return $r}function makeColumnLayout(Fe){var _r=getValueAxesMinGaps(Fe),$r=[];return each$f(Fe,function(Br){var Fr=Br.coordinateSystem,zr=Fr.getBaseAxis(),jr=zr.getExtent(),Ur;if(zr.type==="category")Ur=zr.getBandWidth();else if(zr.type==="value"||zr.type==="time"){var Gr=zr.dim+"_"+zr.index,Yr=_r[Gr],Kr=Math.abs(jr[1]-jr[0]),Qr=zr.scale.getExtent(),Jr=Math.abs(Qr[1]-Qr[0]);Ur=Yr?Kr/Jr*Yr:Kr}else{var rn=Br.getData();Ur=Math.abs(jr[1]-jr[0])/rn.count()}var an=parsePercent(Br.get("barWidth"),Ur),ln=parsePercent(Br.get("barMaxWidth"),Ur),dn=parsePercent(Br.get("barMinWidth")||(isInLargeMode(Br)?.5:1),Ur),hn=Br.get("barGap"),gn=Br.get("barCategoryGap");$r.push({bandWidth:Ur,barWidth:an,barMaxWidth:ln,barMinWidth:dn,barGap:hn,barCategoryGap:gn,axisKey:getAxisKey$1(zr),stackId:getSeriesStackId$1(Br)})}),doCalBarWidthAndOffset($r)}function doCalBarWidthAndOffset(Fe){var _r={};each$f(Fe,function(Br,Fr){var zr=Br.axisKey,jr=Br.bandWidth,Ur=_r[zr]||{bandWidth:jr,remainedWidth:jr,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},Gr=Ur.stacks;_r[zr]=Ur;var Yr=Br.stackId;Gr[Yr]||Ur.autoWidthCount++,Gr[Yr]=Gr[Yr]||{width:0,maxWidth:0};var Kr=Br.barWidth;Kr&&!Gr[Yr].width&&(Gr[Yr].width=Kr,Kr=Math.min(Ur.remainedWidth,Kr),Ur.remainedWidth-=Kr);var Qr=Br.barMaxWidth;Qr&&(Gr[Yr].maxWidth=Qr);var Jr=Br.barMinWidth;Jr&&(Gr[Yr].minWidth=Jr);var rn=Br.barGap;rn!=null&&(Ur.gap=rn);var an=Br.barCategoryGap;an!=null&&(Ur.categoryGap=an)});var $r={};return each$f(_r,function(Br,Fr){$r[Fr]={};var zr=Br.stacks,jr=Br.bandWidth,Ur=Br.categoryGap;if(Ur==null){var Gr=keys(zr).length;Ur=Math.max(35-Gr*4,15)+"%"}var Yr=parsePercent(Ur,jr),Kr=parsePercent(Br.gap,1),Qr=Br.remainedWidth,Jr=Br.autoWidthCount,rn=(Qr-Yr)/(Jr+(Jr-1)*Kr);rn=Math.max(rn,0),each$f(zr,function(hn){var gn=hn.maxWidth,bn=hn.minWidth;if(hn.width){var kn=hn.width;gn&&(kn=Math.min(kn,gn)),bn&&(kn=Math.max(kn,bn)),hn.width=kn,Qr-=kn+Kr*kn,Jr--}else{var kn=rn;gn&&gn<kn&&(kn=Math.min(gn,Qr)),bn&&bn>kn&&(kn=bn),kn!==rn&&(hn.width=kn,Qr-=kn+Kr*kn,Jr--)}}),rn=(Qr-Yr)/(Jr+(Jr-1)*Kr),rn=Math.max(rn,0);var an=0,ln;each$f(zr,function(hn,gn){hn.width||(hn.width=rn),ln=hn,an+=hn.width*(1+Kr)}),ln&&(an-=ln.width*Kr);var dn=-an/2;each$f(zr,function(hn,gn){$r[Fr][gn]=$r[Fr][gn]||{bandWidth:jr,offset:dn,width:hn.width},dn+=hn.width*(1+Kr)})}),$r}function retrieveColumnLayout(Fe,_r,$r){if(Fe&&_r){var Br=Fe[getAxisKey$1(_r)];return Br!=null&&$r!=null?Br[getSeriesStackId$1($r)]:Br}}function layout$3(Fe,_r){var $r=prepareLayoutBarSeries(Fe,_r),Br=makeColumnLayout($r);each$f($r,function(Fr){var zr=Fr.getData(),jr=Fr.coordinateSystem,Ur=jr.getBaseAxis(),Gr=getSeriesStackId$1(Fr),Yr=Br[getAxisKey$1(Ur)][Gr],Kr=Yr.offset,Qr=Yr.width;zr.setLayout({bandWidth:Yr.bandWidth,offset:Kr,size:Qr})})}function createProgressiveLayout(Fe){return{seriesType:Fe,plan:createRenderPlanner(),reset:function(_r){if(isOnCartesian(_r)){var $r=_r.getData(),Br=_r.coordinateSystem,Fr=Br.getBaseAxis(),zr=Br.getOtherAxis(Fr),jr=$r.getDimensionIndex($r.mapDimension(zr.dim)),Ur=$r.getDimensionIndex($r.mapDimension(Fr.dim)),Gr=_r.get("showBackground",!0),Yr=$r.mapDimension(zr.dim),Kr=$r.getCalculationInfo("stackResultDimension"),Qr=isDimensionStacked($r,Yr)&&!!$r.getCalculationInfo("stackedOnSeries"),Jr=zr.isHorizontal(),rn=getValueAxisStart(Fr,zr),an=isInLargeMode(_r),ln=_r.get("barMinHeight")||0,dn=Kr&&$r.getDimensionIndex(Kr),hn=$r.getLayout("size"),gn=$r.getLayout("offset");return{progress:function(bn,kn){for(var Sn=bn.count,_n=an&&createFloat32Array(Sn*3),pn=an&&Gr&&createFloat32Array(Sn*3),Cn=an&&createFloat32Array(Sn),En=Br.master.getRect(),Pn=Jr?En.width:En.height,On,jn=kn.getStore(),Fn=0;(On=bn.next())!=null;){var Wn=jn.get(Qr?dn:jr,On),Hn=jn.get(Ur,On),qn=rn,ni=void 0;Qr&&(ni=+Wn-jn.get(jr,On));var oi=void 0,wi=void 0,Ci=void 0,Fi=void 0;if(Jr){var Zn=Br.dataToPoint([Wn,Hn]);if(Qr){var Gn=Br.dataToPoint([ni,Hn]);qn=Gn[0]}oi=qn,wi=Zn[1]+gn,Ci=Zn[0]-qn,Fi=hn,Math.abs(Ci)<ln&&(Ci=(Ci<0?-1:1)*ln)}else{var Zn=Br.dataToPoint([Hn,Wn]);if(Qr){var Gn=Br.dataToPoint([Hn,ni]);qn=Gn[1]}oi=Zn[0]+gn,wi=qn,Ci=hn,Fi=Zn[1]-qn,Math.abs(Fi)<ln&&(Fi=(Fi<=0?-1:1)*ln)}an?(_n[Fn]=oi,_n[Fn+1]=wi,_n[Fn+2]=Jr?Ci:Fi,pn&&(pn[Fn]=Jr?En.x:oi,pn[Fn+1]=Jr?wi:En.y,pn[Fn+2]=Pn),Cn[On]=On):kn.setItemLayout(On,{x:oi,y:wi,width:Ci,height:Fi}),Fn+=3}an&&kn.setLayout({largePoints:_n,largeDataIndices:Cn,largeBackgroundPoints:pn,valueAxisHorizontal:Jr})}}}}}}function isOnCartesian(Fe){return Fe.coordinateSystem&&Fe.coordinateSystem.type==="cartesian2d"}function isInLargeMode(Fe){return Fe.pipelineContext&&Fe.pipelineContext.large}function getValueAxisStart(Fe,_r){return _r.toGlobalCoord(_r.dataToCoord(_r.type==="log"?1:0))}var bisect=function(Fe,_r,$r,Br){for(;$r<Br;){var Fr=$r+Br>>>1;Fe[Fr][1]<_r?$r=Fr+1:Br=Fr}return $r},TimeScale=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="time",Br}return _r.prototype.getLabel=function($r){var Br=this.getSetting("useUTC");return format$1($r.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,Br,this.getSetting("locale"))},_r.prototype.getFormattedLabel=function($r,Br,Fr){var zr=this.getSetting("useUTC"),jr=this.getSetting("locale");return leveledFormat($r,Br,Fr,jr,zr)},_r.prototype.getTicks=function(){var $r=this._interval,Br=this._extent,Fr=[];if(!$r)return Fr;Fr.push({value:Br[0],level:0});var zr=this.getSetting("useUTC"),jr=getIntervalTicks(this._minLevelUnit,this._approxInterval,zr,Br);return Fr=Fr.concat(jr),Fr.push({value:Br[1],level:0}),Fr},_r.prototype.calcNiceExtent=function($r){var Br=this._extent;if(Br[0]===Br[1]&&(Br[0]-=ONE_DAY,Br[1]+=ONE_DAY),Br[1]===-1/0&&Br[0]===1/0){var Fr=new Date;Br[1]=+new Date(Fr.getFullYear(),Fr.getMonth(),Fr.getDate()),Br[0]=Br[1]-ONE_DAY}this.calcNiceTicks($r.splitNumber,$r.minInterval,$r.maxInterval)},_r.prototype.calcNiceTicks=function($r,Br,Fr){$r=$r||10;var zr=this._extent,jr=zr[1]-zr[0];this._approxInterval=jr/$r,Br!=null&&this._approxInterval<Br&&(this._approxInterval=Br),Fr!=null&&this._approxInterval>Fr&&(this._approxInterval=Fr);var Ur=scaleIntervals.length,Gr=Math.min(bisect(scaleIntervals,this._approxInterval,0,Ur),Ur-1);this._interval=scaleIntervals[Gr][1],this._minLevelUnit=scaleIntervals[Math.max(Gr-1,0)][0]},_r.prototype.parse=function($r){return isNumber($r)?$r:+parseDate($r)},_r.prototype.contain=function($r){return contain$1(this.parse($r),this._extent)},_r.prototype.normalize=function($r){return normalize$2(this.parse($r),this._extent)},_r.prototype.scale=function($r){return scale($r,this._extent)},_r.type="time",_r}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(Fe,_r,$r,Br){var Fr=parseDate(_r),zr=parseDate($r),jr=function(an){return getUnitValue(Fr,an,Br)===getUnitValue(zr,an,Br)},Ur=function(){return jr("year")},Gr=function(){return Ur()&&jr("month")},Yr=function(){return Gr()&&jr("day")},Kr=function(){return Yr()&&jr("hour")},Qr=function(){return Kr()&&jr("minute")},Jr=function(){return Qr()&&jr("second")},rn=function(){return Jr()&&jr("millisecond")};switch(Fe){case"year":return Ur();case"month":return Gr();case"day":return Yr();case"hour":return Kr();case"minute":return Qr();case"second":return Jr();case"millisecond":return rn()}}function getDateInterval(Fe,_r){return Fe/=ONE_DAY,Fe>16?16:Fe>7.5?7:Fe>3.5?4:Fe>1.5?2:1}function getMonthInterval(Fe){var _r=30*ONE_DAY;return Fe/=_r,Fe>6?6:Fe>3?3:Fe>2?2:1}function getHourInterval(Fe){return Fe/=ONE_HOUR,Fe>12?12:Fe>6?6:Fe>3.5?4:Fe>2?2:1}function getMinutesAndSecondsInterval(Fe,_r){return Fe/=_r?ONE_MINUTE:ONE_SECOND,Fe>30?30:Fe>20?20:Fe>15?15:Fe>10?10:Fe>5?5:Fe>2?2:1}function getMillisecondsInterval(Fe){return nice(Fe,!0)}function getFirstTimestampOfUnit(Fe,_r,$r){var Br=new Date(Fe);switch(getPrimaryTimeUnit(_r)){case"year":case"month":Br[monthSetterName($r)](0);case"day":Br[dateSetterName($r)](1);case"hour":Br[hoursSetterName($r)](0);case"minute":Br[minutesSetterName($r)](0);case"second":Br[secondsSetterName($r)](0),Br[millisecondsSetterName($r)](0)}return Br.getTime()}function getIntervalTicks(Fe,_r,$r,Br){var Fr=1e4,zr=timeUnits,jr=0;function Ur(Pn,On,jn,Fn,Wn,Hn,qn){for(var ni=new Date(On),oi=On,wi=ni[Fn]();oi<jn&&oi<=Br[1];)qn.push({value:oi}),wi+=Pn,ni[Wn](wi),oi=ni.getTime();qn.push({value:oi,notAdd:!0})}function Gr(Pn,On,jn){var Fn=[],Wn=!On.length;if(!isUnitValueSame(getPrimaryTimeUnit(Pn),Br[0],Br[1],$r)){Wn&&(On=[{value:getFirstTimestampOfUnit(new Date(Br[0]),Pn,$r)},{value:Br[1]}]);for(var Hn=0;Hn<On.length-1;Hn++){var qn=On[Hn].value,ni=On[Hn+1].value;if(qn!==ni){var oi=void 0,wi=void 0,Ci=void 0,Fi=!1;switch(Pn){case"year":oi=Math.max(1,Math.round(_r/ONE_DAY/365)),wi=fullYearGetterName($r),Ci=fullYearSetterName($r);break;case"half-year":case"quarter":case"month":oi=getMonthInterval(_r),wi=monthGetterName($r),Ci=monthSetterName($r);break;case"week":case"half-week":case"day":oi=getDateInterval(_r),wi=dateGetterName($r),Ci=dateSetterName($r),Fi=!0;break;case"half-day":case"quarter-day":case"hour":oi=getHourInterval(_r),wi=hoursGetterName($r),Ci=hoursSetterName($r);break;case"minute":oi=getMinutesAndSecondsInterval(_r,!0),wi=minutesGetterName($r),Ci=minutesSetterName($r);break;case"second":oi=getMinutesAndSecondsInterval(_r,!1),wi=secondsGetterName($r),Ci=secondsSetterName($r);break;case"millisecond":oi=getMillisecondsInterval(_r),wi=millisecondsGetterName($r),Ci=millisecondsSetterName($r);break}Ur(oi,qn,ni,wi,Ci,Fi,Fn),Pn==="year"&&jn.length>1&&Hn===0&&jn.unshift({value:jn[0].value-oi})}}for(var Hn=0;Hn<Fn.length;Hn++)jn.push(Fn[Hn]);return Fn}}for(var Yr=[],Kr=[],Qr=0,Jr=0,rn=0;rn<zr.length&&jr++<Fr;++rn){var an=getPrimaryTimeUnit(zr[rn]);if(isPrimaryTimeUnit(zr[rn])){Gr(zr[rn],Yr[Yr.length-1]||[],Kr);var ln=zr[rn+1]?getPrimaryTimeUnit(zr[rn+1]):null;if(an!==ln){if(Kr.length){Jr=Qr,Kr.sort(function(Pn,On){return Pn.value-On.value});for(var dn=[],hn=0;hn<Kr.length;++hn){var gn=Kr[hn].value;(hn===0||Kr[hn-1].value!==gn)&&(dn.push(Kr[hn]),gn>=Br[0]&&gn<=Br[1]&&Qr++)}var bn=(Br[1]-Br[0])/_r;if(Qr>bn*1.5&&Jr>bn/1.5||(Yr.push(dn),Qr>bn||Fe===zr[rn]))break}Kr=[]}}}for(var kn=filter(map$1(Yr,function(Pn){return filter(Pn,function(On){return On.value>=Br[0]&&On.value<=Br[1]&&!On.notAdd})}),function(Pn){return Pn.length>0}),Sn=[],_n=kn.length-1,rn=0;rn<kn.length;++rn)for(var pn=kn[rn],Cn=0;Cn<pn.length;++Cn)Sn.push({value:pn[Cn].value,level:_n-rn});Sn.sort(function(Pn,On){return Pn.value-On.value});for(var En=[],rn=0;rn<Sn.length;++rn)(rn===0||Sn[rn].value!==Sn[rn-1].value)&&En.push(Sn[rn]);return En}Scale$1.registerClass(TimeScale);const TimeScale$1=TimeScale;var scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type="log",$r.base=10,$r._originalScale=new IntervalScale$1,$r._interval=0,$r}return _r.prototype.getTicks=function($r){var Br=this._originalScale,Fr=this._extent,zr=Br.getExtent(),jr=intervalScaleProto.getTicks.call(this,$r);return map$1(jr,function(Ur){var Gr=Ur.value,Yr=round$3(mathPow$1(this.base,Gr));return Yr=Gr===Fr[0]&&this._fixMin?fixRoundingError(Yr,zr[0]):Yr,Yr=Gr===Fr[1]&&this._fixMax?fixRoundingError(Yr,zr[1]):Yr,{value:Yr}},this)},_r.prototype.setExtent=function($r,Br){var Fr=mathLog$1(this.base);$r=mathLog$1(Math.max(0,$r))/Fr,Br=mathLog$1(Math.max(0,Br))/Fr,intervalScaleProto.setExtent.call(this,$r,Br)},_r.prototype.getExtent=function(){var $r=this.base,Br=scaleProto.getExtent.call(this);Br[0]=mathPow$1($r,Br[0]),Br[1]=mathPow$1($r,Br[1]);var Fr=this._originalScale,zr=Fr.getExtent();return this._fixMin&&(Br[0]=fixRoundingError(Br[0],zr[0])),this._fixMax&&(Br[1]=fixRoundingError(Br[1],zr[1])),Br},_r.prototype.unionExtent=function($r){this._originalScale.unionExtent($r);var Br=this.base;$r[0]=mathLog$1($r[0])/mathLog$1(Br),$r[1]=mathLog$1($r[1])/mathLog$1(Br),scaleProto.unionExtent.call(this,$r)},_r.prototype.unionExtentFromData=function($r,Br){this.unionExtent($r.getApproximateExtent(Br))},_r.prototype.calcNiceTicks=function($r){$r=$r||10;var Br=this._extent,Fr=Br[1]-Br[0];if(!(Fr===1/0||Fr<=0)){var zr=quantity(Fr),jr=$r/Fr*zr;for(jr<=.5&&(zr*=10);!isNaN(zr)&&Math.abs(zr)<1&&Math.abs(zr)>0;)zr*=10;var Ur=[round$3(mathCeil$1(Br[0]/zr)*zr),round$3(mathFloor$1(Br[1]/zr)*zr)];this._interval=zr,this._niceExtent=Ur}},_r.prototype.calcNiceExtent=function($r){intervalScaleProto.calcNiceExtent.call(this,$r),this._fixMin=$r.fixMin,this._fixMax=$r.fixMax},_r.prototype.parse=function($r){return $r},_r.prototype.contain=function($r){return $r=mathLog$1($r)/mathLog$1(this.base),contain$1($r,this._extent)},_r.prototype.normalize=function($r){return $r=mathLog$1($r)/mathLog$1(this.base),normalize$2($r,this._extent)},_r.prototype.scale=function($r){return $r=scale($r,this._extent),mathPow$1(this.base,$r)},_r.type="log",_r}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(Fe,_r){return roundingErrorFix(Fe,getPrecision(_r))}Scale$1.registerClass(LogScale);const LogScale$1=LogScale;var ScaleRawExtentInfo=function(){function Fe(_r,$r,Br){this._prepareParams(_r,$r,Br)}return Fe.prototype._prepareParams=function(_r,$r,Br){Br[1]<Br[0]&&(Br=[NaN,NaN]),this._dataMin=Br[0],this._dataMax=Br[1];var Fr=this._isOrdinal=_r.type==="ordinal";this._needCrossZero=_r.type==="interval"&&$r.getNeedCrossZero&&$r.getNeedCrossZero();var zr=this._modelMinRaw=$r.get("min",!0);isFunction(zr)?this._modelMinNum=parseAxisModelMinMax(_r,zr({min:Br[0],max:Br[1]})):zr!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(_r,zr));var jr=this._modelMaxRaw=$r.get("max",!0);if(isFunction(jr)?this._modelMaxNum=parseAxisModelMinMax(_r,jr({min:Br[0],max:Br[1]})):jr!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(_r,jr)),Fr)this._axisDataLen=$r.getCategories().length;else{var Ur=$r.get("boundaryGap"),Gr=isArray$1(Ur)?Ur:[Ur||0,Ur||0];typeof Gr[0]=="boolean"||typeof Gr[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(Gr[0],1),parsePercent$1(Gr[1],1)]}},Fe.prototype.calculate=function(){var _r=this._isOrdinal,$r=this._dataMin,Br=this._dataMax,Fr=this._axisDataLen,zr=this._boundaryGapInner,jr=_r?null:Br-$r||Math.abs($r),Ur=this._modelMinRaw==="dataMin"?$r:this._modelMinNum,Gr=this._modelMaxRaw==="dataMax"?Br:this._modelMaxNum,Yr=Ur!=null,Kr=Gr!=null;Ur==null&&(Ur=_r?Fr?0:NaN:$r-zr[0]*jr),Gr==null&&(Gr=_r?Fr?Fr-1:NaN:Br+zr[1]*jr),(Ur==null||!isFinite(Ur))&&(Ur=NaN),(Gr==null||!isFinite(Gr))&&(Gr=NaN);var Qr=eqNaN(Ur)||eqNaN(Gr)||_r&&!Fr;this._needCrossZero&&(Ur>0&&Gr>0&&!Yr&&(Ur=0),Ur<0&&Gr<0&&!Kr&&(Gr=0));var Jr=this._determinedMin,rn=this._determinedMax;return Jr!=null&&(Ur=Jr,Yr=!0),rn!=null&&(Gr=rn,Kr=!0),{min:Ur,max:Gr,minFixed:Yr,maxFixed:Kr,isBlank:Qr}},Fe.prototype.modifyDataMinMax=function(_r,$r){this[DATA_MIN_MAX_ATTR[_r]]=$r},Fe.prototype.setDeterminedMinMax=function(_r,$r){var Br=DETERMINED_MIN_MAX_ATTR[_r];this[Br]=$r},Fe.prototype.freeze=function(){this.frozen=!0},Fe}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(Fe,_r,$r){var Br=Fe.rawExtentInfo;return Br||(Br=new ScaleRawExtentInfo(Fe,_r,$r),Fe.rawExtentInfo=Br,Br)}function parseAxisModelMinMax(Fe,_r){return _r==null?null:eqNaN(_r)?NaN:Fe.parse(_r)}function getScaleExtent(Fe,_r){var $r=Fe.type,Br=ensureScaleRawExtentInfo(Fe,_r,Fe.getExtent()).calculate();Fe.setBlank(Br.isBlank);var Fr=Br.min,zr=Br.max,jr=_r.ecModel;if(jr&&$r==="time"){var Ur=prepareLayoutBarSeries("bar",jr),Gr=!1;if(each$f(Ur,function(Qr){Gr=Gr||Qr.getBaseAxis()===_r.axis}),Gr){var Yr=makeColumnLayout(Ur),Kr=adjustScaleForOverflow(Fr,zr,_r,Yr);Fr=Kr.min,zr=Kr.max}}return{extent:[Fr,zr],fixMin:Br.minFixed,fixMax:Br.maxFixed}}function adjustScaleForOverflow(Fe,_r,$r,Br){var Fr=$r.axis.getExtent(),zr=Fr[1]-Fr[0],jr=retrieveColumnLayout(Br,$r.axis);if(jr===void 0)return{min:Fe,max:_r};var Ur=1/0;each$f(jr,function(rn){Ur=Math.min(rn.offset,Ur)});var Gr=-1/0;each$f(jr,function(rn){Gr=Math.max(rn.offset+rn.width,Gr)}),Ur=Math.abs(Ur),Gr=Math.abs(Gr);var Yr=Ur+Gr,Kr=_r-Fe,Qr=1-(Ur+Gr)/zr,Jr=Kr/Qr-Kr;return _r+=Jr*(Gr/Yr),Fe-=Jr*(Ur/Yr),{min:Fe,max:_r}}function niceScaleExtent(Fe,_r){var $r=_r,Br=getScaleExtent(Fe,$r),Fr=Br.extent,zr=$r.get("splitNumber");Fe instanceof LogScale$1&&(Fe.base=$r.get("logBase"));var jr=Fe.type,Ur=$r.get("interval"),Gr=jr==="interval"||jr==="time";Fe.setExtent(Fr[0],Fr[1]),Fe.calcNiceExtent({splitNumber:zr,fixMin:Br.fixMin,fixMax:Br.fixMax,minInterval:Gr?$r.get("minInterval"):null,maxInterval:Gr?$r.get("maxInterval"):null}),Ur!=null&&Fe.setInterval&&Fe.setInterval(Ur)}function createScaleByModel$1(Fe,_r){if(_r=_r||Fe.get("type"),_r)switch(_r){case"category":return new OrdinalScale$1({ordinalMeta:Fe.getOrdinalMeta?Fe.getOrdinalMeta():Fe.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:Fe.ecModel.getLocaleModel(),useUTC:Fe.ecModel.get("useUTC")});default:return new(Scale$1.getClass(_r)||IntervalScale$1)}}function ifAxisCrossZero(Fe){var _r=Fe.scale.getExtent(),$r=_r[0],Br=_r[1];return!($r>0&&Br>0||$r<0&&Br<0)}function makeLabelFormatter(Fe){var _r=Fe.getLabelModel().get("formatter"),$r=Fe.type==="category"?Fe.scale.getExtent()[0]:null;return Fe.scale.type==="time"?function(Br){return function(Fr,zr){return Fe.scale.getFormattedLabel(Fr,zr,Br)}}(_r):isString(_r)?function(Br){return function(Fr){var zr=Fe.scale.getLabel(Fr),jr=Br.replace("{value}",zr??"");return jr}}(_r):isFunction(_r)?function(Br){return function(Fr,zr){return $r!=null&&(zr=Fr.value-$r),Br(getAxisRawValue(Fe,Fr),zr,Fr.level!=null?{level:Fr.level}:null)}}(_r):function(Br){return Fe.scale.getLabel(Br)}}function getAxisRawValue(Fe,_r){return Fe.type==="category"?Fe.scale.getLabel(_r):_r.value}function estimateLabelUnionRect(Fe){var _r=Fe.model,$r=Fe.scale;if(!(!_r.get(["axisLabel","show"])||$r.isBlank())){var Br,Fr,zr=$r.getExtent();$r instanceof OrdinalScale$1?Fr=$r.count():(Br=$r.getTicks(),Fr=Br.length);var jr=Fe.getLabelModel(),Ur=makeLabelFormatter(Fe),Gr,Yr=1;Fr>40&&(Yr=Math.ceil(Fr/40));for(var Kr=0;Kr<Fr;Kr+=Yr){var Qr=Br?Br[Kr]:{value:zr[0]+Kr},Jr=Ur(Qr,Kr),rn=jr.getTextRect(Jr),an=rotateTextRect(rn,jr.get("rotate")||0);Gr?Gr.union(an):Gr=an}return Gr}}function rotateTextRect(Fe,_r){var $r=_r*Math.PI/180,Br=Fe.width,Fr=Fe.height,zr=Br*Math.abs(Math.cos($r))+Math.abs(Fr*Math.sin($r)),jr=Br*Math.abs(Math.sin($r))+Math.abs(Fr*Math.cos($r)),Ur=new BoundingRect$1(Fe.x,Fe.y,zr,jr);return Ur}function getOptionCategoryInterval(Fe){var _r=Fe.get("interval");return _r??"auto"}function shouldShowAllLabels(Fe){return Fe.type==="category"&&getOptionCategoryInterval(Fe.getLabelModel())===0}function getDataDimensionsOnAxis(Fe,_r){var $r={};return each$f(Fe.mapDimensionsAll(_r),function(Br){$r[getStackedDimension(Fe,Br)]=!0}),keys($r)}function unionAxisExtentFromData(Fe,_r,$r){_r&&each$f(getDataDimensionsOnAxis(_r,$r),function(Br){var Fr=_r.getApproximateExtent(Br);Fr[0]<Fe[0]&&(Fe[0]=Fr[0]),Fr[1]>Fe[1]&&(Fe[1]=Fr[1])})}var AxisModelCommonMixin=function(){function Fe(){}return Fe.prototype.getNeedCrossZero=function(){var _r=this.option;return!_r.scale},Fe.prototype.getCoordSysModel=function(){},Fe}();function createList$2(Fe){return createSeriesData(null,Fe)}var dataStack={isDimensionStacked,enableDataStack,getStackedDimension};function createScale(Fe,_r){var $r=_r;_r instanceof Model$1||($r=new Model$1(_r));var Br=createScaleByModel$1($r);return Br.setExtent(Fe[0],Fe[1]),niceScaleExtent(Br,$r),Br}function mixinAxisModelCommonMethods(Fe){mixin(Fe,AxisModelCommonMixin)}function createTextStyle(Fe,_r){return _r=_r||{},createTextStyle$1(Fe,null,null,_r.state!=="normal")}const helper=Object.freeze(Object.defineProperty({__proto__:null,createDimensions,createList:createList$2,createScale,createSymbol:createSymbol$1,createTextStyle,dataStack,enableHoverEmphasis,getECData,getLayoutRect,mixinAxisModelCommonMethods},Symbol.toStringTag,{value:"Module"}));var EPSILON=1e-8;function isAroundEqual(Fe,_r){return Math.abs(Fe-_r)<EPSILON}function contain(Fe,_r,$r){var Br=0,Fr=Fe[0];if(!Fr)return!1;for(var zr=1;zr<Fe.length;zr++){var jr=Fe[zr];Br+=windingLine(Fr[0],Fr[1],jr[0],jr[1],_r,$r),Fr=jr}var Ur=Fe[0];return(!isAroundEqual(Fr[0],Ur[0])||!isAroundEqual(Fr[1],Ur[1]))&&(Br+=windingLine(Fr[0],Fr[1],Ur[0],Ur[1],_r,$r)),Br!==0}var TMP_TRANSFORM=[];function transformPoints(Fe,_r){for(var $r=0;$r<Fe.length;$r++)applyTransform$1(Fe[$r],Fe[$r],_r)}function updateBBoxFromPoints(Fe,_r,$r,Br){for(var Fr=0;Fr<Fe.length;Fr++){var zr=Fe[Fr];Br&&(zr=Br.project(zr)),zr&&isFinite(zr[0])&&isFinite(zr[1])&&(min$1(_r,_r,zr),max$1($r,$r,zr))}}function centroid$1(Fe){for(var _r=0,$r=0,Br=0,Fr=Fe.length,zr=Fe[Fr-1][0],jr=Fe[Fr-1][1],Ur=0;Ur<Fr;Ur++){var Gr=Fe[Ur][0],Yr=Fe[Ur][1],Kr=zr*Yr-Gr*jr;_r+=Kr,$r+=(zr+Gr)*Kr,Br+=(jr+Yr)*Kr,zr=Gr,jr=Yr}return _r?[$r/_r/3,Br/_r/3,_r]:[Fe[0][0]||0,Fe[0][1]||0]}var Region=function(){function Fe(_r){this.name=_r}return Fe.prototype.setCenter=function(_r){this._center=_r},Fe.prototype.getCenter=function(){var _r=this._center;return _r||(_r=this._center=this.calcCenter()),_r},Fe}(),GeoJSONPolygonGeometry=function(){function Fe(_r,$r){this.type="polygon",this.exterior=_r,this.interiors=$r}return Fe}(),GeoJSONLineStringGeometry=function(){function Fe(_r){this.type="linestring",this.points=_r}return Fe}(),GeoJSONRegion=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this,$r)||this;return zr.type="geoJSON",zr.geometries=Br,zr._center=Fr&&[Fr[0],Fr[1]],zr}return _r.prototype.calcCenter=function(){for(var $r=this.geometries,Br,Fr=0,zr=0;zr<$r.length;zr++){var jr=$r[zr],Ur=jr.exterior,Gr=Ur&&Ur.length;Gr>Fr&&(Br=jr,Fr=Gr)}if(Br)return centroid$1(Br.exterior);var Yr=this.getBoundingRect();return[Yr.x+Yr.width/2,Yr.y+Yr.height/2]},_r.prototype.getBoundingRect=function($r){var Br=this._rect;if(Br&&!$r)return Br;var Fr=[1/0,1/0],zr=[-1/0,-1/0],jr=this.geometries;return each$f(jr,function(Ur){Ur.type==="polygon"?updateBBoxFromPoints(Ur.exterior,Fr,zr,$r):each$f(Ur.points,function(Gr){updateBBoxFromPoints(Gr,Fr,zr,$r)})}),isFinite(Fr[0])&&isFinite(Fr[1])&&isFinite(zr[0])&&isFinite(zr[1])||(Fr[0]=Fr[1]=zr[0]=zr[1]=0),Br=new BoundingRect$1(Fr[0],Fr[1],zr[0]-Fr[0],zr[1]-Fr[1]),$r||(this._rect=Br),Br},_r.prototype.contain=function($r){var Br=this.getBoundingRect(),Fr=this.geometries;if(!Br.contain($r[0],$r[1]))return!1;e:for(var zr=0,jr=Fr.length;zr<jr;zr++){var Ur=Fr[zr];if(Ur.type==="polygon"){var Gr=Ur.exterior,Yr=Ur.interiors;if(contain(Gr,$r[0],$r[1])){for(var Kr=0;Kr<(Yr?Yr.length:0);Kr++)if(contain(Yr[Kr],$r[0],$r[1]))continue e;return!0}}}return!1},_r.prototype.transformTo=function($r,Br,Fr,zr){var jr=this.getBoundingRect(),Ur=jr.width/jr.height;Fr?zr||(zr=Fr/Ur):Fr=Ur*zr;for(var Gr=new BoundingRect$1($r,Br,Fr,zr),Yr=jr.calculateTransform(Gr),Kr=this.geometries,Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr];Jr.type==="polygon"?(transformPoints(Jr.exterior,Yr),each$f(Jr.interiors,function(rn){transformPoints(rn,Yr)})):each$f(Jr.points,function(rn){transformPoints(rn,Yr)})}jr=this._rect,jr.copy(Gr),this._center=[jr.x+jr.width/2,jr.y+jr.height/2]},_r.prototype.cloneShallow=function($r){$r==null&&($r=this.name);var Br=new _r($r,this.geometries,this._center);return Br._rect=this._rect,Br.transformTo=null,Br},_r}(Region),GeoSVGRegion=function(Fe){__extends(_r,Fe);function _r($r,Br){var Fr=Fe.call(this,$r)||this;return Fr.type="geoSVG",Fr._elOnlyForCalculate=Br,Fr}return _r.prototype.calcCenter=function(){for(var $r=this._elOnlyForCalculate,Br=$r.getBoundingRect(),Fr=[Br.x+Br.width/2,Br.y+Br.height/2],zr=identity(TMP_TRANSFORM),jr=$r;jr&&!jr.isGeoSVGGraphicRoot;)mul(zr,jr.getLocalTransform(),zr),jr=jr.parent;return invert(zr,zr),applyTransform$1(Fr,Fr,zr),Fr},_r}(Region);function decode(Fe){if(!Fe.UTF8Encoding)return Fe;var _r=Fe,$r=_r.UTF8Scale;$r==null&&($r=1024);var Br=_r.features;return each$f(Br,function(Fr){var zr=Fr.geometry,jr=zr.encodeOffsets,Ur=zr.coordinates;if(jr)switch(zr.type){case"LineString":zr.coordinates=decodeRing(Ur,jr,$r);break;case"Polygon":decodeRings(Ur,jr,$r);break;case"MultiLineString":decodeRings(Ur,jr,$r);break;case"MultiPolygon":each$f(Ur,function(Gr,Yr){return decodeRings(Gr,jr[Yr],$r)})}}),_r.UTF8Encoding=!1,_r}function decodeRings(Fe,_r,$r){for(var Br=0;Br<Fe.length;Br++)Fe[Br]=decodeRing(Fe[Br],_r[Br],$r)}function decodeRing(Fe,_r,$r){for(var Br=[],Fr=_r[0],zr=_r[1],jr=0;jr<Fe.length;jr+=2){var Ur=Fe.charCodeAt(jr)-64,Gr=Fe.charCodeAt(jr+1)-64;Ur=Ur>>1^-(Ur&1),Gr=Gr>>1^-(Gr&1),Ur+=Fr,Gr+=zr,Fr=Ur,zr=Gr,Br.push([Ur/$r,Gr/$r])}return Br}function parseGeoJSON(Fe,_r){return Fe=decode(Fe),map$1(filter(Fe.features,function($r){return $r.geometry&&$r.properties&&$r.geometry.coordinates.length>0}),function($r){var Br=$r.properties,Fr=$r.geometry,zr=[];switch(Fr.type){case"Polygon":var jr=Fr.coordinates;zr.push(new GeoJSONPolygonGeometry(jr[0],jr.slice(1)));break;case"MultiPolygon":each$f(Fr.coordinates,function(Gr){Gr[0]&&zr.push(new GeoJSONPolygonGeometry(Gr[0],Gr.slice(1)))});break;case"LineString":zr.push(new GeoJSONLineStringGeometry([Fr.coordinates]));break;case"MultiLineString":zr.push(new GeoJSONLineStringGeometry(Fr.coordinates))}var Ur=new GeoJSONRegion(Br[_r||"name"],zr,Br.cp);return Ur.properties=Br,Ur})}const number=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER,asc:asc$2,getPercentWithPrecision,getPixelPrecision,getPrecision,getPrecisionSafe,isNumeric,isRadianAroundZero,linearMap:linearMap$2,nice,numericToNumber,parseDate,quantile,quantity,quantityExponent,reformIntervals,remRadian,round:round$3},Symbol.toStringTag,{value:"Module"})),time=Object.freeze(Object.defineProperty({__proto__:null,format:format$1,parse:parseDate},Symbol.toStringTag,{value:"Module"})),graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$4,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$3,LinearGradient:LinearGradient$1,Polygon:Polygon$1,Polyline:Polyline$3,RadialGradient:RadialGradient$1,Rect:Rect$3,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,initProps,makeImage,makePath,mergePath,registerShape,resizePath,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"})),format=Object.freeze(Object.defineProperty({__proto__:null,addCommas,capitalFirst,encodeHTML,formatTime,formatTpl,getTextRect,getTooltipMarker,normalizeCssArray,toCamelCase,truncateText},Symbol.toStringTag,{value:"Module"})),util=Object.freeze(Object.defineProperty({__proto__:null,bind:bind$1,clone:clone$4,curry:curry$1,defaults,each:each$f,extend:extend$1,filter,indexOf,inherits,isArray:isArray$1,isFunction,isObject:isObject$3,isString,map:map$1,merge,reduce},Symbol.toStringTag,{value:"Module"}));var inner$g=makeInner();function createAxisLabels(Fe){return Fe.type==="category"?makeCategoryLabels(Fe):makeRealNumberLabels(Fe)}function createAxisTicks(Fe,_r){return Fe.type==="category"?makeCategoryTicks(Fe,_r):{ticks:map$1(Fe.scale.getTicks(),function($r){return $r.value})}}function makeCategoryLabels(Fe){var _r=Fe.getLabelModel(),$r=makeCategoryLabelsActually(Fe,_r);return!_r.get("show")||Fe.scale.isBlank()?{labels:[],labelCategoryInterval:$r.labelCategoryInterval}:$r}function makeCategoryLabelsActually(Fe,_r){var $r=getListCache(Fe,"labels"),Br=getOptionCategoryInterval(_r),Fr=listCacheGet($r,Br);if(Fr)return Fr;var zr,jr;return isFunction(Br)?zr=makeLabelsByCustomizedCategoryInterval(Fe,Br):(jr=Br==="auto"?makeAutoCategoryInterval(Fe):Br,zr=makeLabelsByNumericCategoryInterval(Fe,jr)),listCacheSet($r,Br,{labels:zr,labelCategoryInterval:jr})}function makeCategoryTicks(Fe,_r){var $r=getListCache(Fe,"ticks"),Br=getOptionCategoryInterval(_r),Fr=listCacheGet($r,Br);if(Fr)return Fr;var zr,jr;if((!_r.get("show")||Fe.scale.isBlank())&&(zr=[]),isFunction(Br))zr=makeLabelsByCustomizedCategoryInterval(Fe,Br,!0);else if(Br==="auto"){var Ur=makeCategoryLabelsActually(Fe,Fe.getLabelModel());jr=Ur.labelCategoryInterval,zr=map$1(Ur.labels,function(Gr){return Gr.tickValue})}else jr=Br,zr=makeLabelsByNumericCategoryInterval(Fe,jr,!0);return listCacheSet($r,Br,{ticks:zr,tickCategoryInterval:jr})}function makeRealNumberLabels(Fe){var _r=Fe.scale.getTicks(),$r=makeLabelFormatter(Fe);return{labels:map$1(_r,function(Br,Fr){return{level:Br.level,formattedLabel:$r(Br,Fr),rawLabel:Fe.scale.getLabel(Br),tickValue:Br.value}})}}function getListCache(Fe,_r){return inner$g(Fe)[_r]||(inner$g(Fe)[_r]=[])}function listCacheGet(Fe,_r){for(var $r=0;$r<Fe.length;$r++)if(Fe[$r].key===_r)return Fe[$r].value}function listCacheSet(Fe,_r,$r){return Fe.push({key:_r,value:$r}),$r}function makeAutoCategoryInterval(Fe){var _r=inner$g(Fe).autoInterval;return _r??(inner$g(Fe).autoInterval=Fe.calculateCategoryInterval())}function calculateCategoryInterval(Fe){var _r=fetchAutoCategoryIntervalCalculationParams(Fe),$r=makeLabelFormatter(Fe),Br=(_r.axisRotate-_r.labelRotate)/180*Math.PI,Fr=Fe.scale,zr=Fr.getExtent(),jr=Fr.count();if(zr[1]-zr[0]<1)return 0;var Ur=1;jr>40&&(Ur=Math.max(1,Math.floor(jr/40)));for(var Gr=zr[0],Yr=Fe.dataToCoord(Gr+1)-Fe.dataToCoord(Gr),Kr=Math.abs(Yr*Math.cos(Br)),Qr=Math.abs(Yr*Math.sin(Br)),Jr=0,rn=0;Gr<=zr[1];Gr+=Ur){var an=0,ln=0,dn=getBoundingRect($r({value:Gr}),_r.font,"center","top");an=dn.width*1.3,ln=dn.height*1.3,Jr=Math.max(Jr,an,7),rn=Math.max(rn,ln,7)}var hn=Jr/Kr,gn=rn/Qr;isNaN(hn)&&(hn=1/0),isNaN(gn)&&(gn=1/0);var bn=Math.max(0,Math.floor(Math.min(hn,gn))),kn=inner$g(Fe.model),Sn=Fe.getExtent(),_n=kn.lastAutoInterval,pn=kn.lastTickCount;return _n!=null&&pn!=null&&Math.abs(_n-bn)<=1&&Math.abs(pn-jr)<=1&&_n>bn&&kn.axisExtent0===Sn[0]&&kn.axisExtent1===Sn[1]?bn=_n:(kn.lastTickCount=jr,kn.lastAutoInterval=bn,kn.axisExtent0=Sn[0],kn.axisExtent1=Sn[1]),bn}function fetchAutoCategoryIntervalCalculationParams(Fe){var _r=Fe.getLabelModel();return{axisRotate:Fe.getRotate?Fe.getRotate():Fe.isHorizontal&&!Fe.isHorizontal()?90:0,labelRotate:_r.get("rotate")||0,font:_r.getFont()}}function makeLabelsByNumericCategoryInterval(Fe,_r,$r){var Br=makeLabelFormatter(Fe),Fr=Fe.scale,zr=Fr.getExtent(),jr=Fe.getLabelModel(),Ur=[],Gr=Math.max((_r||0)+1,1),Yr=zr[0],Kr=Fr.count();Yr!==0&&Gr>1&&Kr/Gr>2&&(Yr=Math.round(Math.ceil(Yr/Gr)*Gr));var Qr=shouldShowAllLabels(Fe),Jr=jr.get("showMinLabel")||Qr,rn=jr.get("showMaxLabel")||Qr;Jr&&Yr!==zr[0]&&ln(zr[0]);for(var an=Yr;an<=zr[1];an+=Gr)ln(an);rn&&an-Gr!==zr[1]&&ln(zr[1]);function ln(dn){var hn={value:dn};Ur.push($r?dn:{formattedLabel:Br(hn),rawLabel:Fr.getLabel(hn),tickValue:dn})}return Ur}function makeLabelsByCustomizedCategoryInterval(Fe,_r,$r){var Br=Fe.scale,Fr=makeLabelFormatter(Fe),zr=[];return each$f(Br.getTicks(),function(jr){var Ur=Br.getLabel(jr),Gr=jr.value;_r(jr.value,Ur)&&zr.push($r?Gr:{formattedLabel:Fr(jr),rawLabel:Ur,tickValue:Gr})}),zr}var NORMALIZED_EXTENT=[0,1],Axis=function(){function Fe(_r,$r,Br){this.onBand=!1,this.inverse=!1,this.dim=_r,this.scale=$r,this._extent=Br||[0,0]}return Fe.prototype.contain=function(_r){var $r=this._extent,Br=Math.min($r[0],$r[1]),Fr=Math.max($r[0],$r[1]);return _r>=Br&&_r<=Fr},Fe.prototype.containData=function(_r){return this.scale.contain(_r)},Fe.prototype.getExtent=function(){return this._extent.slice()},Fe.prototype.getPixelPrecision=function(_r){return getPixelPrecision(_r||this.scale.getExtent(),this._extent)},Fe.prototype.setExtent=function(_r,$r){var Br=this._extent;Br[0]=_r,Br[1]=$r},Fe.prototype.dataToCoord=function(_r,$r){var Br=this._extent,Fr=this.scale;return _r=Fr.normalize(_r),this.onBand&&Fr.type==="ordinal"&&(Br=Br.slice(),fixExtentWithBands(Br,Fr.count())),linearMap$2(_r,NORMALIZED_EXTENT,Br,$r)},Fe.prototype.coordToData=function(_r,$r){var Br=this._extent,Fr=this.scale;this.onBand&&Fr.type==="ordinal"&&(Br=Br.slice(),fixExtentWithBands(Br,Fr.count()));var zr=linearMap$2(_r,Br,NORMALIZED_EXTENT,$r);return this.scale.scale(zr)},Fe.prototype.pointToData=function(_r,$r){},Fe.prototype.getTicksCoords=function(_r){_r=_r||{};var $r=_r.tickModel||this.getTickModel(),Br=createAxisTicks(this,$r),Fr=Br.ticks,zr=map$1(Fr,function(Ur){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(Ur):Ur),tickValue:Ur}},this),jr=$r.get("alignWithLabel");return fixOnBandTicksCoords(this,zr,jr,_r.clamp),zr},Fe.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var _r=this.model.getModel("minorTick"),$r=_r.get("splitNumber");$r>0&&$r<100||($r=5);var Br=this.scale.getMinorTicks($r),Fr=map$1(Br,function(zr){return map$1(zr,function(jr){return{coord:this.dataToCoord(jr),tickValue:jr}},this)},this);return Fr},Fe.prototype.getViewLabels=function(){return createAxisLabels(this).labels},Fe.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},Fe.prototype.getTickModel=function(){return this.model.getModel("axisTick")},Fe.prototype.getBandWidth=function(){var _r=this._extent,$r=this.scale.getExtent(),Br=$r[1]-$r[0]+(this.onBand?1:0);Br===0&&(Br=1);var Fr=Math.abs(_r[1]-_r[0]);return Math.abs(Fr)/Br},Fe.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},Fe}();function fixExtentWithBands(Fe,_r){var $r=Fe[1]-Fe[0],Br=_r,Fr=$r/Br/2;Fe[0]+=Fr,Fe[1]-=Fr}function fixOnBandTicksCoords(Fe,_r,$r,Br){var Fr=_r.length;if(!Fe.onBand||$r||!Fr)return;var zr=Fe.getExtent(),jr,Ur;if(Fr===1)_r[0].coord=zr[0],jr=_r[1]={coord:zr[1]};else{var Gr=_r[Fr-1].tickValue-_r[0].tickValue,Yr=(_r[Fr-1].coord-_r[0].coord)/Gr;each$f(_r,function(rn){rn.coord-=Yr/2});var Kr=Fe.scale.getExtent();Ur=1+Kr[1]-_r[Fr-1].tickValue,jr={coord:_r[Fr-1].coord+Yr*Ur},_r.push(jr)}var Qr=zr[0]>zr[1];Jr(_r[0].coord,zr[0])&&(Br?_r[0].coord=zr[0]:_r.shift()),Br&&Jr(zr[0],_r[0].coord)&&_r.unshift({coord:zr[0]}),Jr(zr[1],jr.coord)&&(Br?jr.coord=zr[1]:_r.pop()),Br&&Jr(jr.coord,zr[1])&&_r.push({coord:zr[1]});function Jr(rn,an){return rn=round$3(rn),an=round$3(an),Qr?rn>an:rn<an}}const Axis$1=Axis;function extendComponentModel(Fe){var _r=ComponentModel$1.extend(Fe);return ComponentModel$1.registerClass(_r),_r}function extendComponentView(Fe){var _r=ComponentView$1.extend(Fe);return ComponentView$1.registerClass(_r),_r}function extendSeriesModel(Fe){var _r=SeriesModel$1.extend(Fe);return SeriesModel$1.registerClass(_r),_r}function extendChartView(Fe){var _r=ChartView$1.extend(Fe);return ChartView$1.registerClass(_r),_r}var PI2$2=Math.PI*2,CMD$1=PathProxy$1.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(Fe,_r,$r,Br,Fr){var zr=$r.width,jr=$r.height;switch(Fe){case"top":Br.set($r.x+zr/2,$r.y-_r),Fr.set(0,-1);break;case"bottom":Br.set($r.x+zr/2,$r.y+jr+_r),Fr.set(0,1);break;case"left":Br.set($r.x-_r,$r.y+jr/2),Fr.set(-1,0);break;case"right":Br.set($r.x+zr+_r,$r.y+jr/2),Fr.set(1,0);break}}function projectPointToArc(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){jr-=Fe,Ur-=_r;var Yr=Math.sqrt(jr*jr+Ur*Ur);jr/=Yr,Ur/=Yr;var Kr=jr*$r+Fe,Qr=Ur*$r+_r;if(Math.abs(Br-Fr)%PI2$2<1e-4)return Gr[0]=Kr,Gr[1]=Qr,Yr-$r;if(zr){var Jr=Br;Br=normalizeRadian(Fr),Fr=normalizeRadian(Jr)}else Br=normalizeRadian(Br),Fr=normalizeRadian(Fr);Br>Fr&&(Fr+=PI2$2);var rn=Math.atan2(Ur,jr);if(rn<0&&(rn+=PI2$2),rn>=Br&&rn<=Fr||rn+PI2$2>=Br&&rn+PI2$2<=Fr)return Gr[0]=Kr,Gr[1]=Qr,Yr-$r;var an=$r*Math.cos(Br)+Fe,ln=$r*Math.sin(Br)+_r,dn=$r*Math.cos(Fr)+Fe,hn=$r*Math.sin(Fr)+_r,gn=(an-jr)*(an-jr)+(ln-Ur)*(ln-Ur),bn=(dn-jr)*(dn-jr)+(hn-Ur)*(hn-Ur);return gn<bn?(Gr[0]=an,Gr[1]=ln,Math.sqrt(gn)):(Gr[0]=dn,Gr[1]=hn,Math.sqrt(bn))}function projectPointToLine(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr=Fr-Fe,Yr=zr-_r,Kr=$r-Fe,Qr=Br-_r,Jr=Math.sqrt(Kr*Kr+Qr*Qr);Kr/=Jr,Qr/=Jr;var rn=Gr*Kr+Yr*Qr,an=rn/Jr;Ur&&(an=Math.min(Math.max(an,0),1)),an*=Jr;var ln=jr[0]=Fe+an*Kr,dn=jr[1]=_r+an*Qr;return Math.sqrt((ln-Fr)*(ln-Fr)+(dn-zr)*(dn-zr))}function projectPointToRect(Fe,_r,$r,Br,Fr,zr,jr){$r<0&&(Fe=Fe+$r,$r=-$r),Br<0&&(_r=_r+Br,Br=-Br);var Ur=Fe+$r,Gr=_r+Br,Yr=jr[0]=Math.min(Math.max(Fr,Fe),Ur),Kr=jr[1]=Math.min(Math.max(zr,_r),Gr);return Math.sqrt((Yr-Fr)*(Yr-Fr)+(Kr-zr)*(Kr-zr))}var tmpPt=[];function nearestPointOnRect(Fe,_r,$r){var Br=projectPointToRect(_r.x,_r.y,_r.width,_r.height,Fe.x,Fe.y,tmpPt);return $r.set(tmpPt[0],tmpPt[1]),Br}function nearestPointOnPath(Fe,_r,$r){for(var Br=0,Fr=0,zr=0,jr=0,Ur,Gr,Yr=1/0,Kr=_r.data,Qr=Fe.x,Jr=Fe.y,rn=0;rn<Kr.length;){var an=Kr[rn++];rn===1&&(Br=Kr[rn],Fr=Kr[rn+1],zr=Br,jr=Fr);var ln=Yr;switch(an){case CMD$1.M:zr=Kr[rn++],jr=Kr[rn++],Br=zr,Fr=jr;break;case CMD$1.L:ln=projectPointToLine(Br,Fr,Kr[rn],Kr[rn+1],Qr,Jr,tmpPt,!0),Br=Kr[rn++],Fr=Kr[rn++];break;case CMD$1.C:ln=cubicProjectPoint(Br,Fr,Kr[rn++],Kr[rn++],Kr[rn++],Kr[rn++],Kr[rn],Kr[rn+1],Qr,Jr,tmpPt),Br=Kr[rn++],Fr=Kr[rn++];break;case CMD$1.Q:ln=quadraticProjectPoint(Br,Fr,Kr[rn++],Kr[rn++],Kr[rn],Kr[rn+1],Qr,Jr,tmpPt),Br=Kr[rn++],Fr=Kr[rn++];break;case CMD$1.A:var dn=Kr[rn++],hn=Kr[rn++],gn=Kr[rn++],bn=Kr[rn++],kn=Kr[rn++],Sn=Kr[rn++];rn+=1;var _n=!!(1-Kr[rn++]);Ur=Math.cos(kn)*gn+dn,Gr=Math.sin(kn)*bn+hn,rn<=1&&(zr=Ur,jr=Gr);var pn=(Qr-dn)*bn/gn+dn;ln=projectPointToArc(dn,hn,bn,kn,kn+Sn,_n,pn,Jr,tmpPt),Br=Math.cos(kn+Sn)*gn+dn,Fr=Math.sin(kn+Sn)*bn+hn;break;case CMD$1.R:zr=Br=Kr[rn++],jr=Fr=Kr[rn++];var Cn=Kr[rn++],En=Kr[rn++];ln=projectPointToRect(zr,jr,Cn,En,Qr,Jr,tmpPt);break;case CMD$1.Z:ln=projectPointToLine(Br,Fr,zr,jr,Qr,Jr,tmpPt,!0),Br=zr,Fr=jr;break}ln<Yr&&(Yr=ln,$r.set(tmpPt[0],tmpPt[1]))}return Yr}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1;function updateLabelLinePoints(Fe,_r){if(Fe){var $r=Fe.getTextGuideLine(),Br=Fe.getTextContent();if(Br&&$r){var Fr=Fe.textGuideLineConfig||{},zr=[[0,0],[0,0],[0,0]],jr=Fr.candidates||DEFAULT_SEARCH_SPACE,Ur=Br.getBoundingRect().clone();Ur.applyTransform(Br.getComputedTransform());var Gr=1/0,Yr=Fr.anchor,Kr=Fe.getComputedTransform(),Qr=Kr&&invert([],Kr),Jr=_r.get("length2")||0;Yr&&pt2.copy(Yr);for(var rn=0;rn<jr.length;rn++){var an=jr[rn];getCandidateAnchor(an,0,Ur,pt0,dir),Point$1.scaleAndAdd(pt1,pt0,dir,Jr),pt1.transform(Qr);var ln=Fe.getBoundingRect(),dn=Yr?Yr.distance(pt1):Fe instanceof Path$1?nearestPointOnPath(pt1,Fe.path,pt2):nearestPointOnRect(pt1,ln,pt2);dn<Gr&&(Gr=dn,pt1.transform(Kr),pt2.transform(Kr),pt2.toArray(zr[0]),pt1.toArray(zr[1]),pt0.toArray(zr[2]))}limitTurnAngle(zr,_r.get("minTurnAngle")),$r.setShape({points:zr})}}}var tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(Fe,_r){if(_r<=180&&_r>0){_r=_r/180*Math.PI,pt0.fromArray(Fe[0]),pt1.fromArray(Fe[1]),pt2.fromArray(Fe[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var $r=dir.len(),Br=dir2.len();if(!($r<.001||Br<.001)){dir.scale(1/$r),dir2.scale(1/Br);var Fr=dir.dot(dir2),zr=Math.cos(_r);if(zr<Fr){var jr=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,jr/Math.tan(Math.PI-_r));var Ur=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(Ur))return;Ur<0?Point$1.copy(tmpProjPoint,pt1):Ur>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(Fe[1])}}}}function limitSurfaceAngle(Fe,_r,$r){if($r<=180&&$r>0){$r=$r/180*Math.PI,pt0.fromArray(Fe[0]),pt1.fromArray(Fe[1]),pt2.fromArray(Fe[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var Br=dir.len(),Fr=dir2.len();if(!(Br<.001||Fr<.001)){dir.scale(1/Br),dir2.scale(1/Fr);var zr=dir.dot(_r),jr=Math.cos($r);if(zr<jr){var Ur=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var Gr=Math.PI/2,Yr=Math.acos(dir2.dot(_r)),Kr=Gr+Yr-$r;if(Kr>=Gr)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,Ur/Math.tan(Math.PI/2-Kr));var Qr=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(Qr))return;Qr<0?Point$1.copy(tmpProjPoint,pt1):Qr>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(Fe[1])}}}}function setLabelLineState(Fe,_r,$r,Br){var Fr=$r==="normal",zr=Fr?Fe:Fe.ensureState($r);zr.ignore=_r;var jr=Br.get("smooth");jr&&jr===!0&&(jr=.3),zr.shape=zr.shape||{},jr>0&&(zr.shape.smooth=jr);var Ur=Br.getModel("lineStyle").getLineStyle();Fr?Fe.useStyle(Ur):zr.style=Ur}function buildLabelLinePath(Fe,_r){var $r=_r.smooth,Br=_r.points;if(Br)if(Fe.moveTo(Br[0][0],Br[0][1]),$r>0&&Br.length>=3){var Fr=dist$1(Br[0],Br[1]),zr=dist$1(Br[1],Br[2]);if(!Fr||!zr){Fe.lineTo(Br[1][0],Br[1][1]),Fe.lineTo(Br[2][0],Br[2][1]);return}var jr=Math.min(Fr,zr)*$r,Ur=lerp$1([],Br[1],Br[0],jr/Fr),Gr=lerp$1([],Br[1],Br[2],jr/zr),Yr=lerp$1([],Ur,Gr,.5);Fe.bezierCurveTo(Ur[0],Ur[1],Ur[0],Ur[1],Yr[0],Yr[1]),Fe.bezierCurveTo(Gr[0],Gr[1],Gr[0],Gr[1],Br[2][0],Br[2][1])}else for(var Kr=1;Kr<Br.length;Kr++)Fe.lineTo(Br[Kr][0],Br[Kr][1])}function setLabelLineStyle(Fe,_r,$r){var Br=Fe.getTextGuideLine(),Fr=Fe.getTextContent();if(!Fr){Br&&Fe.removeTextGuideLine();return}for(var zr=_r.normal,jr=zr.get("show"),Ur=Fr.ignore,Gr=0;Gr<DISPLAY_STATES.length;Gr++){var Yr=DISPLAY_STATES[Gr],Kr=_r[Yr],Qr=Yr==="normal";if(Kr){var Jr=Kr.get("show"),rn=Qr?Ur:retrieve2(Fr.states[Yr]&&Fr.states[Yr].ignore,Ur);if(rn||!retrieve2(Jr,jr)){var an=Qr?Br:Br&&Br.states[Yr];an&&(an.ignore=!0);continue}Br||(Br=new Polyline$3,Fe.setTextGuideLine(Br),!Qr&&(Ur||!jr)&&setLabelLineState(Br,!0,"normal",_r.normal),Fe.stateProxy&&(Br.stateProxy=Fe.stateProxy)),setLabelLineState(Br,!1,Yr,Kr)}}if(Br){defaults(Br.style,$r),Br.style.fill=null;var ln=zr.get("showAbove"),dn=Fe.textGuideLineConfig=Fe.textGuideLineConfig||{};dn.showAbove=ln||!1,Br.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(Fe,_r){_r=_r||"labelLine";for(var $r={normal:Fe.getModel(_r)},Br=0;Br<SPECIAL_STATES.length;Br++){var Fr=SPECIAL_STATES[Br];$r[Fr]=Fe.getModel([Fr,_r])}return $r}function prepareLayoutList(Fe){for(var _r=[],$r=0;$r<Fe.length;$r++){var Br=Fe[$r];if(!Br.defaultAttr.ignore){var Fr=Br.label,zr=Fr.getComputedTransform(),jr=Fr.getBoundingRect(),Ur=!zr||zr[1]<1e-5&&zr[2]<1e-5,Gr=Fr.style.margin||0,Yr=jr.clone();Yr.applyTransform(zr),Yr.x-=Gr/2,Yr.y-=Gr/2,Yr.width+=Gr,Yr.height+=Gr;var Kr=Ur?new OrientedBoundingRect$1(jr,zr):null;_r.push({label:Fr,labelLine:Br.labelLine,rect:Yr,localRect:jr,obb:Kr,priority:Br.priority,defaultAttr:Br.defaultAttr,layoutOption:Br.computedLayoutOption,axisAligned:Ur,transform:zr})}}return _r}function shiftLayout(Fe,_r,$r,Br,Fr,zr){var jr=Fe.length;if(jr<2)return;Fe.sort(function(Cn,En){return Cn.rect[_r]-En.rect[_r]});for(var Ur=0,Gr,Yr=!1,Kr=0,Qr=0;Qr<jr;Qr++){var Jr=Fe[Qr],rn=Jr.rect;Gr=rn[_r]-Ur,Gr<0&&(rn[_r]-=Gr,Jr.label[_r]-=Gr,Yr=!0);var an=Math.max(-Gr,0);Kr+=an,Ur=rn[_r]+rn[$r]}Kr>0&&zr&&Sn(-Kr/jr,0,jr);var ln=Fe[0],dn=Fe[jr-1],hn,gn;bn(),hn<0&&_n(-hn,.8),gn<0&&_n(gn,.8),bn(),kn(hn,gn,1),kn(gn,hn,-1),bn(),hn<0&&pn(-hn),gn<0&&pn(gn);function bn(){hn=ln.rect[_r]-Br,gn=Fr-dn.rect[_r]-dn.rect[$r]}function kn(Cn,En,Pn){if(Cn<0){var On=Math.min(En,-Cn);if(On>0){Sn(On*Pn,0,jr);var jn=On+Cn;jn<0&&_n(-jn*Pn,1)}else _n(-Cn*Pn,1)}}function Sn(Cn,En,Pn){Cn!==0&&(Yr=!0);for(var On=En;On<Pn;On++){var jn=Fe[On],Fn=jn.rect;Fn[_r]+=Cn,jn.label[_r]+=Cn}}function _n(Cn,En){for(var Pn=[],On=0,jn=1;jn<jr;jn++){var Fn=Fe[jn-1].rect,Wn=Math.max(Fe[jn].rect[_r]-Fn[_r]-Fn[$r],0);Pn.push(Wn),On+=Wn}if(On){var Hn=Math.min(Math.abs(Cn)/On,En);if(Cn>0)for(var jn=0;jn<jr-1;jn++){var qn=Pn[jn]*Hn;Sn(qn,0,jn+1)}else for(var jn=jr-1;jn>0;jn--){var qn=Pn[jn-1]*Hn;Sn(-qn,jn,jr)}}}function pn(Cn){var En=Cn<0?-1:1;Cn=Math.abs(Cn);for(var Pn=Math.ceil(Cn/(jr-1)),On=0;On<jr-1;On++)if(En>0?Sn(Pn,0,On+1):Sn(-Pn,jr-On-1,jr),Cn-=Pn,Cn<=0)return}return Yr}function shiftLayoutOnX(Fe,_r,$r,Br){return shiftLayout(Fe,"x","width",_r,$r,Br)}function shiftLayoutOnY(Fe,_r,$r,Br){return shiftLayout(Fe,"y","height",_r,$r,Br)}function hideOverlap(Fe){var _r=[];Fe.sort(function(ln,dn){return dn.priority-ln.priority});var $r=new BoundingRect$1(0,0,0,0);function Br(ln){if(!ln.ignore){var dn=ln.ensureState("emphasis");dn.ignore==null&&(dn.ignore=!1)}ln.ignore=!0}for(var Fr=0;Fr<Fe.length;Fr++){var zr=Fe[Fr],jr=zr.axisAligned,Ur=zr.localRect,Gr=zr.transform,Yr=zr.label,Kr=zr.labelLine;$r.copy(zr.rect),$r.width-=.1,$r.height-=.1,$r.x+=.05,$r.y+=.05;for(var Qr=zr.obb,Jr=!1,rn=0;rn<_r.length;rn++){var an=_r[rn];if($r.intersect(an.rect)){if(jr&&an.axisAligned){Jr=!0;break}if(an.obb||(an.obb=new OrientedBoundingRect$1(an.localRect,an.transform)),Qr||(Qr=new OrientedBoundingRect$1(Ur,Gr)),Qr.intersect(an.obb)){Jr=!0;break}}}Jr?(Br(Yr),Kr&&Br(Kr)):(Yr.attr("ignore",zr.defaultAttr.ignore),Kr&&Kr.attr("ignore",zr.defaultAttr.labelGuideIgnore),_r.push(zr))}}function cloneArr(Fe){if(Fe){for(var _r=[],$r=0;$r<Fe.length;$r++)_r.push(Fe[$r].slice());return _r}}function prepareLayoutCallbackParams(Fe,_r){var $r=Fe.label,Br=_r&&_r.getTextGuideLine();return{dataIndex:Fe.dataIndex,dataType:Fe.dataType,seriesIndex:Fe.seriesModel.seriesIndex,text:Fe.label.style.text,rect:Fe.hostRect,labelRect:Fe.rect,align:$r.style.align,verticalAlign:$r.style.verticalAlign,labelLinePoints:cloneArr(Br&&Br.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable$1,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(Fe,_r,$r){for(var Br=0;Br<$r.length;Br++){var Fr=$r[Br];_r[Fr]!=null&&(Fe[Fr]=_r[Fr])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function Fe(){this._labelList=[],this._chartViewList=[]}return Fe.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},Fe.prototype._addLabel=function(_r,$r,Br,Fr,zr){var jr=Fr.style,Ur=Fr.__hostTarget,Gr=Ur.textConfig||{},Yr=Fr.getComputedTransform(),Kr=Fr.getBoundingRect().plain();BoundingRect$1.applyTransform(Kr,Kr,Yr),Yr?dummyTransformable.setLocalTransform(Yr):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var Qr=Fr.__hostTarget,Jr;if(Qr){Jr=Qr.getBoundingRect().plain();var rn=Qr.getComputedTransform();BoundingRect$1.applyTransform(Jr,Jr,rn)}var an=Jr&&Qr.getTextGuideLine();this._labelList.push({label:Fr,labelLine:an,seriesModel:Br,dataIndex:_r,dataType:$r,layoutOption:zr,computedLayoutOption:null,rect:Kr,hostRect:Jr,priority:Jr?Jr.width*Jr.height:0,defaultAttr:{ignore:Fr.ignore,labelGuideIgnore:an&&an.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:jr.x,y:jr.y,align:jr.align,verticalAlign:jr.verticalAlign,width:jr.width,height:jr.height,fontSize:jr.fontSize},cursor:Fr.cursor,attachedPos:Gr.position,attachedRot:Gr.rotation}})},Fe.prototype.addLabelsOfSeries=function(_r){var $r=this;this._chartViewList.push(_r);var Br=_r.__model,Fr=Br.get("labelLayout");(isFunction(Fr)||keys(Fr).length)&&_r.group.traverse(function(zr){if(zr.ignore)return!0;var jr=zr.getTextContent(),Ur=getECData(zr);jr&&!jr.disableLabelLayout&&$r._addLabel(Ur.dataIndex,Ur.dataType,Br,jr,Fr)})},Fe.prototype.updateLayoutConfig=function(_r){var $r=_r.getWidth(),Br=_r.getHeight();function Fr(bn,kn){return function(){updateLabelLinePoints(bn,kn)}}for(var zr=0;zr<this._labelList.length;zr++){var jr=this._labelList[zr],Ur=jr.label,Gr=Ur.__hostTarget,Yr=jr.defaultAttr,Kr=void 0;isFunction(jr.layoutOption)?Kr=jr.layoutOption(prepareLayoutCallbackParams(jr,Gr)):Kr=jr.layoutOption,Kr=Kr||{},jr.computedLayoutOption=Kr;var Qr=Math.PI/180;Gr&&Gr.setTextConfig({local:!1,position:Kr.x!=null||Kr.y!=null?null:Yr.attachedPos,rotation:Kr.rotate!=null?Kr.rotate*Qr:Yr.attachedRot,offset:[Kr.dx||0,Kr.dy||0]});var Jr=!1;if(Kr.x!=null?(Ur.x=parsePercent(Kr.x,$r),Ur.setStyle("x",0),Jr=!0):(Ur.x=Yr.x,Ur.setStyle("x",Yr.style.x)),Kr.y!=null?(Ur.y=parsePercent(Kr.y,Br),Ur.setStyle("y",0),Jr=!0):(Ur.y=Yr.y,Ur.setStyle("y",Yr.style.y)),Kr.labelLinePoints){var rn=Gr.getTextGuideLine();rn&&(rn.setShape({points:Kr.labelLinePoints}),Jr=!1)}var an=labelLayoutInnerStore(Ur);an.needsUpdateLabelLine=Jr,Ur.rotation=Kr.rotate!=null?Kr.rotate*Qr:Yr.rotation,Ur.scaleX=Yr.scaleX,Ur.scaleY=Yr.scaleY;for(var ln=0;ln<LABEL_OPTION_TO_STYLE_KEYS.length;ln++){var dn=LABEL_OPTION_TO_STYLE_KEYS[ln];Ur.setStyle(dn,Kr[dn]!=null?Kr[dn]:Yr.style[dn])}if(Kr.draggable){if(Ur.draggable=!0,Ur.cursor="move",Gr){var hn=jr.seriesModel;if(jr.dataIndex!=null){var gn=jr.seriesModel.getData(jr.dataType);hn=gn.getItemModel(jr.dataIndex)}Ur.on("drag",Fr(Gr,hn.getModel("labelLine")))}}else Ur.off("drag"),Ur.cursor=Yr.cursor}},Fe.prototype.layout=function(_r){var $r=_r.getWidth(),Br=_r.getHeight(),Fr=prepareLayoutList(this._labelList),zr=filter(Fr,function(Gr){return Gr.layoutOption.moveOverlap==="shiftX"}),jr=filter(Fr,function(Gr){return Gr.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(zr,0,$r),shiftLayoutOnY(jr,0,Br);var Ur=filter(Fr,function(Gr){return Gr.layoutOption.hideOverlap});hideOverlap(Ur)},Fe.prototype.processLabelsOverall=function(){var _r=this;each$f(this._chartViewList,function($r){var Br=$r.__model,Fr=$r.ignoreLabelLineUpdate,zr=Br.isAnimationEnabled();$r.group.traverse(function(jr){if(jr.ignore&&!jr.forceLabelAnimation)return!0;var Ur=!Fr,Gr=jr.getTextContent();!Ur&&Gr&&(Ur=labelLayoutInnerStore(Gr).needsUpdateLabelLine),Ur&&_r._updateLabelLine(jr,Br),zr&&_r._animateLabels(jr,Br)})})},Fe.prototype._updateLabelLine=function(_r,$r){var Br=_r.getTextContent(),Fr=getECData(_r),zr=Fr.dataIndex;if(Br&&zr!=null){var jr=$r.getData(Fr.dataType),Ur=jr.getItemModel(zr),Gr={},Yr=jr.getItemVisual(zr,"style");if(Yr){var Kr=jr.getVisual("drawType");Gr.stroke=Yr[Kr]}var Qr=Ur.getModel("labelLine");setLabelLineStyle(_r,getLabelLineStatesModels(Ur),Gr),updateLabelLinePoints(_r,Qr)}},Fe.prototype._animateLabels=function(_r,$r){var Br=_r.getTextContent(),Fr=_r.getTextGuideLine();if(Br&&(_r.forceLabelAnimation||!Br.ignore&&!Br.invisible&&!_r.disableLabelAnimation&&!isElementRemoved(_r))){var zr=labelLayoutInnerStore(Br),jr=zr.oldLayout,Ur=getECData(_r),Gr=Ur.dataIndex,Yr={x:Br.x,y:Br.y,rotation:Br.rotation},Kr=$r.getData(Ur.dataType);if(jr){Br.attr(jr);var Jr=_r.prevStates;Jr&&(indexOf(Jr,"select")>=0&&Br.attr(zr.oldLayoutSelect),indexOf(Jr,"emphasis")>=0&&Br.attr(zr.oldLayoutEmphasis)),updateProps$1(Br,Yr,$r,Gr)}else if(Br.attr(Yr),!labelInner(Br).valueAnimation){var Qr=retrieve2(Br.style.opacity,1);Br.style.opacity=0,initProps(Br,{style:{opacity:Qr}},$r,Gr)}if(zr.oldLayout=Yr,Br.states.select){var rn=zr.oldLayoutSelect={};extendWithKeys(rn,Yr,LABEL_LAYOUT_PROPS),extendWithKeys(rn,Br.states.select,LABEL_LAYOUT_PROPS)}if(Br.states.emphasis){var an=zr.oldLayoutEmphasis={};extendWithKeys(an,Yr,LABEL_LAYOUT_PROPS),extendWithKeys(an,Br.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(Br,Gr,Kr,$r,$r)}if(Fr&&!Fr.ignore&&!Fr.invisible){var zr=labelLineAnimationStore(Fr),jr=zr.oldLayout,ln={points:Fr.shape.points};jr?(Fr.attr({shape:jr}),updateProps$1(Fr,{shape:ln},$r)):(Fr.setShape(ln),Fr.style.strokePercent=0,initProps(Fr,{style:{strokePercent:1}},$r)),zr.oldLayout=ln}},Fe}();const LabelManager$1=LabelManager;var getLabelManager=makeInner();function installLabelLayout(Fe){Fe.registerUpdateLifecycle("series:beforeupdate",function(_r,$r,Br){var Fr=getLabelManager($r).labelManager;Fr||(Fr=getLabelManager($r).labelManager=new LabelManager$1),Fr.clearLabels()}),Fe.registerUpdateLifecycle("series:layoutlabels",function(_r,$r,Br){var Fr=getLabelManager($r).labelManager;Br.updatedSeries.forEach(function(zr){Fr.addLabelsOfSeries($r.getViewOfSeriesModel(zr))}),Fr.updateLayoutConfig($r),Fr.layout($r),Fr.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function Fe(){}return Fe.prototype.reset=function(_r){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,_r||4)},Fe.prototype.moveTo=function(_r,$r){this._add("M",_r,$r)},Fe.prototype.lineTo=function(_r,$r){this._add("L",_r,$r)},Fe.prototype.bezierCurveTo=function(_r,$r,Br,Fr,zr,jr){this._add("C",_r,$r,Br,Fr,zr,jr)},Fe.prototype.quadraticCurveTo=function(_r,$r,Br,Fr){this._add("Q",_r,$r,Br,Fr)},Fe.prototype.arc=function(_r,$r,Br,Fr,zr,jr){this.ellipse(_r,$r,Br,Br,0,Fr,zr,jr)},Fe.prototype.ellipse=function(_r,$r,Br,Fr,zr,jr,Ur,Gr){var Yr=Ur-jr,Kr=!Gr,Qr=Math.abs(Yr),Jr=isAroundZero(Qr-PI2$1)||(Kr?Yr>=PI2$1:-Yr>=PI2$1),rn=Yr>0?Yr%PI2$1:Yr%PI2$1+PI2$1,an=!1;Jr?an=!0:isAroundZero(Qr)?an=!1:an=rn>=PI$4==!!Kr;var ln=_r+Br*mathCos(jr),dn=$r+Fr*mathSin(jr);this._start&&this._add("M",ln,dn);var hn=Math.round(zr*degree);if(Jr){var gn=1/this._p,bn=(Kr?1:-1)*(PI2$1-gn);this._add("A",Br,Fr,hn,1,+Kr,_r+Br*mathCos(jr+bn),$r+Fr*mathSin(jr+bn)),gn>.01&&this._add("A",Br,Fr,hn,0,+Kr,ln,dn)}else{var kn=_r+Br*mathCos(Ur),Sn=$r+Fr*mathSin(Ur);this._add("A",Br,Fr,hn,+an,+Kr,kn,Sn)}},Fe.prototype.rect=function(_r,$r,Br,Fr){this._add("M",_r,$r),this._add("l",Br,0),this._add("l",0,Fr),this._add("l",-Br,0),this._add("Z")},Fe.prototype.closePath=function(){this._d.length>0&&this._add("Z")},Fe.prototype._add=function(_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr){for(var Kr=[],Qr=this._p,Jr=1;Jr<arguments.length;Jr++){var rn=arguments[Jr];if(isNaN(rn)){this._invalid=!0;return}Kr.push(Math.round(rn*Qr)/Qr)}this._d.push(_r+Kr.join(" ")),this._start=_r==="Z"},Fe.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},Fe.prototype.getStr=function(){return this._str},Fe}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(Fe){var _r=Fe.fill;return _r!=null&&_r!==NONE}function pathHasStroke(Fe){var _r=Fe.stroke;return _r!=null&&_r!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(Fe){return"stroke-"+Fe.toLowerCase()});function mapStyleToAttrs(Fe,_r,$r,Br){var Fr=_r.opacity==null?1:_r.opacity;if($r instanceof ZRImage$1){Fe("opacity",Fr);return}if(pathHasFill(_r)){var zr=normalizeColor(_r.fill);Fe("fill",zr.color);var jr=_r.fillOpacity!=null?_r.fillOpacity*zr.opacity*Fr:zr.opacity*Fr;(Br||jr<1)&&Fe("fill-opacity",jr)}else Fe("fill",NONE);if(pathHasStroke(_r)){var Ur=normalizeColor(_r.stroke);Fe("stroke",Ur.color);var Gr=_r.strokeNoScale?$r.getLineScale():1,Yr=Gr?(_r.lineWidth||0)/Gr:0,Kr=_r.strokeOpacity!=null?_r.strokeOpacity*Ur.opacity*Fr:Ur.opacity*Fr,Qr=_r.strokeFirst;if((Br||Yr!==1)&&Fe("stroke-width",Yr),(Br||Qr)&&Fe("paint-order",Qr?"stroke":"fill"),(Br||Kr<1)&&Fe("stroke-opacity",Kr),_r.lineDash){var Jr=getLineDash($r),rn=Jr[0],an=Jr[1];rn&&(an=mathRound(an||0),Fe("stroke-dasharray",rn.join(",")),(an||Br)&&Fe("stroke-dashoffset",an))}else Br&&Fe("stroke-dasharray",NONE);for(var ln=0;ln<strokeProps.length;ln++){var dn=strokeProps[ln];if(Br||_r[dn]!==DEFAULT_PATH_STYLE[dn]){var hn=_r[dn]||DEFAULT_PATH_STYLE[dn];hn&&Fe(svgStrokeProps[ln],hn)}}}else Br&&Fe("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(Fe){return document.createElementNS(SVGNS,Fe)}function createVNode(Fe,_r,$r,Br,Fr){return{tag:Fe,attrs:$r||{},children:Br,text:Fr,key:_r}}function createElementOpen(Fe,_r){var $r=[];if(_r)for(var Br in _r){var Fr=_r[Br],zr=Br;Fr!==!1&&(Fr!==!0&&Fr!=null&&(zr+='="'+Fr+'"'),$r.push(zr))}return"<"+Fe+" "+$r.join(" ")+">"}function createElementClose(Fe){return"</"+Fe+">"}function vNodeToString(Fe,_r){_r=_r||{};var $r=_r.newline?`
`:"";function Br(Fr){var zr=Fr.children,jr=Fr.tag,Ur=Fr.attrs,Gr=Fr.text;return createElementOpen(jr,Ur)+(jr!=="style"?encodeHTML(Gr):Gr||"")+(zr?""+$r+map$1(zr,function(Yr){return Br(Yr)}).join($r)+$r:"")+createElementClose(jr)}return Br(Fe)}function getCssString(Fe,_r,$r){$r=$r||{};var Br=$r.newline?`
`:"",Fr=" {"+Br,zr=Br+"}",jr=map$1(keys(Fe),function(Gr){return Gr+Fr+map$1(keys(Fe[Gr]),function(Yr){return Yr+":"+Fe[Gr][Yr]+";"}).join(Br)+zr}).join(Br),Ur=map$1(keys(_r),function(Gr){return"@keyframes "+Gr+Fr+map$1(keys(_r[Gr]),function(Yr){return Yr+Fr+map$1(keys(_r[Gr][Yr]),function(Kr){var Qr=_r[Gr][Yr][Kr];return Kr==="d"&&(Qr='path("'+Qr+'")'),Kr+":"+Qr+";"}).join(Br)+zr}).join(Br)+zr}).join(Br);return!jr&&!Ur?"":["<![CDATA[",jr,Ur,"]]>"].join(Br)}function createBrushScope(Fe){return{zrId:Fe,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(Fe,_r,$r,Br){return createVNode("svg","root",{width:Fe,height:_r,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:Br?"0 0 "+Fe+" "+_r:!1},$r)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(Fe,_r,$r){var Br=extend$1({},Fe.shape);extend$1(Br,_r),Fe.buildPath($r,Br);var Fr=new SVGPathRebuilder$1;return Fr.reset(getPathPrecision(Fe)),$r.rebuildPath(Fr,1),Fr.generateStr(),Fr.getStr()}function setTransformOrigin(Fe,_r){var $r=_r.originX,Br=_r.originY;($r||Br)&&(Fe[transformOriginKey]=$r+"px "+Br+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(Fe,_r){var $r=_r.zrId+"-ani-"+_r.cssAnimIdx++;return _r.cssAnims[$r]=Fe,$r}function createCompoundPathCSSAnimation(Fe,_r,$r){var Br=Fe.shape.paths,Fr={},zr,jr;if(each$f(Br,function(Gr){var Yr=createBrushScope($r.zrId);Yr.animation=!0,createCSSAnimation(Gr,{},Yr,!0);var Kr=Yr.cssAnims,Qr=Yr.cssNodes,Jr=keys(Kr),rn=Jr.length;if(rn){jr=Jr[rn-1];var an=Kr[jr];for(var ln in an){var dn=an[ln];Fr[ln]=Fr[ln]||{d:""},Fr[ln].d+=dn.d||""}for(var hn in Qr){var gn=Qr[hn].animation;gn.indexOf(jr)>=0&&(zr=gn)}}}),!!zr){_r.d=!1;var Ur=addAnimation(Fr,$r);return zr.replace(jr,Ur)}}function getEasingFunc(Fe){return isString(Fe)?EASING_MAP[Fe]?"cubic-bezier("+EASING_MAP[Fe]+")":createCubicEasingFunc(Fe)?Fe:"":""}function createCSSAnimation(Fe,_r,$r,Br){var Fr=Fe.animators,zr=Fr.length,jr=[];if(Fe instanceof CompoundPath$1){var Ur=createCompoundPathCSSAnimation(Fe,_r,$r);if(Ur)jr.push(Ur);else if(!zr)return}else if(!zr)return;for(var Gr={},Yr=0;Yr<zr;Yr++){var Kr=Fr[Yr],Qr=[Kr.getMaxTime()/1e3+"s"],Jr=getEasingFunc(Kr.getClip().easing),rn=Kr.getDelay();Jr?Qr.push(Jr):Qr.push("linear"),rn&&Qr.push(rn/1e3+"s"),Kr.getLoop()&&Qr.push("infinite");var an=Qr.join(" ");Gr[an]=Gr[an]||[an,[]],Gr[an][1].push(Kr)}function ln(gn){var bn=gn[1],kn=bn.length,Sn={},_n={},pn={},Cn="animation-timing-function";function En(ji,lo,ho){for(var so=ji.getTracks(),Ki=ji.getMaxTime(),Ho=0;Ho<so.length;Ho++){var Io=so[Ho];if(Io.needsAnimate()){var Ji=Io.keyframes,Yo=Io.propName;if(ho&&(Yo=ho(Yo)),Yo)for(var qo=0;qo<Ji.length;qo++){var xo=Ji[qo],ka=Math.round(xo.time/Ki*100)+"%",Ua=getEasingFunc(xo.easing),$a=xo.rawValue;(isString($a)||isNumber($a))&&(lo[ka]=lo[ka]||{},lo[ka][Yo]=xo.rawValue,Ua&&(lo[ka][Cn]=Ua))}}}}for(var Pn=0;Pn<kn;Pn++){var On=bn[Pn],jn=On.targetName;jn?jn==="shape"&&En(On,_n):!Br&&En(On,Sn)}for(var Fn in Sn){var Wn={};copyTransform(Wn,Fe),extend$1(Wn,Sn[Fn]);var Hn=getSRTTransformString(Wn),qn=Sn[Fn][Cn];pn[Fn]=Hn?{transform:Hn}:{},setTransformOrigin(pn[Fn],Wn),qn&&(pn[Fn][Cn]=qn)}var ni,oi=!0;for(var Fn in _n){pn[Fn]=pn[Fn]||{};var wi=!ni,qn=_n[Fn][Cn];wi&&(ni=new PathProxy$1);var Ci=ni.len();ni.reset(),pn[Fn].d=buildPathString(Fe,_n[Fn],ni);var Fi=ni.len();if(!wi&&Ci!==Fi){oi=!1;break}qn&&(pn[Fn][Cn]=qn)}if(!oi)for(var Fn in pn)delete pn[Fn].d;if(!Br)for(var Pn=0;Pn<kn;Pn++){var On=bn[Pn],jn=On.targetName;jn==="style"&&En(On,pn,function(so){return ANIMATE_STYLE_MAP[so]})}for(var Zn=keys(pn),Gn=!0,ui,Pn=1;Pn<Zn.length;Pn++){var Ni=Zn[Pn-1],$i=Zn[Pn];if(pn[Ni][transformOriginKey]!==pn[$i][transformOriginKey]){Gn=!1;break}ui=pn[Ni][transformOriginKey]}if(Gn&&ui){for(var Fn in pn)pn[Fn][transformOriginKey]&&delete pn[Fn][transformOriginKey];_r[transformOriginKey]=ui}if(filter(Zn,function(ji){return keys(pn[ji]).length>0}).length){var Vi=addAnimation(pn,$r);return Vi+" "+gn[0]+" both"}}for(var dn in Gr){var Ur=ln(Gr[dn]);Ur&&jr.push(Ur)}if(jr.length){var hn=$r.zrId+"-cls-"+$r.cssClassIdx++;$r.cssNodes["."+hn]={animation:jr.join(",")},_r.class=hn}}var round$1=Math.round;function isImageLike(Fe){return Fe&&isString(Fe.src)}function isCanvasLike(Fe){return Fe&&isFunction(Fe.toDataURL)}function setStyleAttrs(Fe,_r,$r,Br){mapStyleToAttrs(function(Fr,zr){var jr=Fr==="fill"||Fr==="stroke";jr&&isGradient(zr)?setGradient(_r,Fe,Fr,Br):jr&&isPattern(zr)?setPattern($r,Fe,Fr,Br):Fe[Fr]=zr},_r,$r,!1),setShadow($r,Fe,Br)}function noRotateScale(Fe){return isAroundZero(Fe[0]-1)&&isAroundZero(Fe[1])&&isAroundZero(Fe[2])&&isAroundZero(Fe[3]-1)}function noTranslate(Fe){return isAroundZero(Fe[4])&&isAroundZero(Fe[5])}function setTransform(Fe,_r,$r){if(_r&&!(noTranslate(_r)&&noRotateScale(_r))){var Br=$r?10:1e4;Fe.transform=noRotateScale(_r)?"translate("+round$1(_r[4]*Br)/Br+" "+round$1(_r[5]*Br)/Br+")":getMatrixStr(_r)}}function convertPolyShape(Fe,_r,$r){for(var Br=Fe.points,Fr=[],zr=0;zr<Br.length;zr++)Fr.push(round$1(Br[zr][0]*$r)/$r),Fr.push(round$1(Br[zr][1]*$r)/$r);_r.points=Fr.join(" ")}function validatePolyShape(Fe){return!Fe.smooth}function createAttrsConvert(Fe){var _r=map$1(Fe,function($r){return typeof $r=="string"?[$r,$r]:$r});return function($r,Br,Fr){for(var zr=0;zr<_r.length;zr++){var jr=_r[zr],Ur=$r[jr[0]];Ur!=null&&(Br[jr[1]]=round$1(Ur*Fr)/Fr)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(Fe){for(var _r=Fe.animators,$r=0;$r<_r.length;$r++)if(_r[$r].targetName==="shape")return!0;return!1}function brushSVGPath(Fe,_r){var $r=Fe.style,Br=Fe.shape,Fr=builtinShapesDef[Fe.type],zr={},jr=_r.animation,Ur="path",Gr=Fe.style.strokePercent,Yr=_r.compress&&getPathPrecision(Fe)||4;if(Fr&&!_r.willUpdate&&!(Fr[1]&&!Fr[1](Br))&&!(jr&&hasShapeAnimation(Fe))&&!(Gr<1)){Ur=Fe.type;var Kr=Math.pow(10,Yr);Fr[0](Br,zr,Kr)}else{var Qr=!Fe.path||Fe.shapeChanged();Fe.path||Fe.createPathProxy();var Jr=Fe.path;Qr&&(Jr.beginPath(),Fe.buildPath(Jr,Fe.shape),Fe.pathUpdated());var rn=Jr.getVersion(),an=Fe,ln=an.__svgPathBuilder;(an.__svgPathVersion!==rn||!ln||Gr!==an.__svgPathStrokePercent)&&(ln||(ln=an.__svgPathBuilder=new SVGPathRebuilder$1),ln.reset(Yr),Jr.rebuildPath(ln,Gr),ln.generateStr(),an.__svgPathVersion=rn,an.__svgPathStrokePercent=Gr),zr.d=ln.getStr()}return setTransform(zr,Fe.transform),setStyleAttrs(zr,$r,Fe,_r),_r.animation&&createCSSAnimation(Fe,zr,_r),createVNode(Ur,Fe.id+"",zr)}function brushSVGImage(Fe,_r){var $r=Fe.style,Br=$r.image;if(Br&&!isString(Br)&&(isImageLike(Br)?Br=Br.src:isCanvasLike(Br)&&(Br=Br.toDataURL())),!!Br){var Fr=$r.x||0,zr=$r.y||0,jr=$r.width,Ur=$r.height,Gr={href:Br,width:jr,height:Ur};return Fr&&(Gr.x=Fr),zr&&(Gr.y=zr),setTransform(Gr,Fe.transform),setStyleAttrs(Gr,$r,Fe,_r),_r.animation&&createCSSAnimation(Fe,Gr,_r),createVNode("image",Fe.id+"",Gr)}}function brushSVGTSpan(Fe,_r){var $r=Fe.style,Br=$r.text;if(Br!=null&&(Br+=""),!(!Br||isNaN($r.x)||isNaN($r.y))){var Fr=$r.font||DEFAULT_FONT,zr=$r.x||0,jr=adjustTextY$1($r.y||0,getLineHeight(Fr),$r.textBaseline),Ur=TEXT_ALIGN_TO_ANCHOR[$r.textAlign]||$r.textAlign,Gr={"dominant-baseline":"central","text-anchor":Ur};if(hasSeparateFont($r)){var Yr="",Kr=$r.fontStyle,Qr=parseFontSize($r.fontSize);if(!parseFloat(Qr))return;var Jr=$r.fontFamily||DEFAULT_FONT_FAMILY,rn=$r.fontWeight;Yr+="font-size:"+Qr+";font-family:"+Jr+";",Kr&&Kr!=="normal"&&(Yr+="font-style:"+Kr+";"),rn&&rn!=="normal"&&(Yr+="font-weight:"+rn+";"),Gr.style=Yr}else Gr.style="font: "+Fr;return Br.match(/\s/)&&(Gr["xml:space"]="preserve"),zr&&(Gr.x=zr),jr&&(Gr.y=jr),setTransform(Gr,Fe.transform),setStyleAttrs(Gr,$r,Fe,_r),_r.animation&&createCSSAnimation(Fe,Gr,_r),createVNode("text",Fe.id+"",Gr,void 0,Br)}}function brush(Fe,_r){if(Fe instanceof Path$1)return brushSVGPath(Fe,_r);if(Fe instanceof ZRImage$1)return brushSVGImage(Fe,_r);if(Fe instanceof TSpan$1)return brushSVGTSpan(Fe,_r)}function setShadow(Fe,_r,$r){var Br=Fe.style;if(hasShadow(Br)){var Fr=getShadowKey(Fe),zr=$r.shadowCache,jr=zr[Fr];if(!jr){var Ur=Fe.getGlobalScale(),Gr=Ur[0],Yr=Ur[1];if(!Gr||!Yr)return;var Kr=Br.shadowOffsetX||0,Qr=Br.shadowOffsetY||0,Jr=Br.shadowBlur,rn=normalizeColor(Br.shadowColor),an=rn.opacity,ln=rn.color,dn=Jr/2/Gr,hn=Jr/2/Yr,gn=dn+" "+hn;jr=$r.zrId+"-s"+$r.shadowIdx++,$r.defs[jr]=createVNode("filter",jr,{id:jr,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:Kr/Gr,dy:Qr/Yr,stdDeviation:gn,"flood-color":ln,"flood-opacity":an})]),zr[Fr]=jr}_r.filter=getIdURL(jr)}}function setGradient(Fe,_r,$r,Br){var Fr=Fe[$r],zr,jr={gradientUnits:Fr.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(Fr))zr="linearGradient",jr.x1=Fr.x,jr.y1=Fr.y,jr.x2=Fr.x2,jr.y2=Fr.y2;else if(isRadialGradient(Fr))zr="radialGradient",jr.cx=retrieve2(Fr.x,.5),jr.cy=retrieve2(Fr.y,.5),jr.r=retrieve2(Fr.r,.5);else return;for(var Ur=Fr.colorStops,Gr=[],Yr=0,Kr=Ur.length;Yr<Kr;++Yr){var Qr=round4(Ur[Yr].offset)*100+"%",Jr=Ur[Yr].color,rn=normalizeColor(Jr),an=rn.color,ln=rn.opacity,dn={offset:Qr};dn["stop-color"]=an,ln<1&&(dn["stop-opacity"]=ln),Gr.push(createVNode("stop",Yr+"",dn))}var hn=createVNode(zr,"",jr,Gr),gn=vNodeToString(hn),bn=Br.gradientCache,kn=bn[gn];kn||(kn=Br.zrId+"-g"+Br.gradientIdx++,bn[gn]=kn,jr.id=kn,Br.defs[kn]=createVNode(zr,kn,jr,Gr)),_r[$r]=getIdURL(kn)}function setPattern(Fe,_r,$r,Br){var Fr=Fe.style[$r],zr=Fe.getBoundingRect(),jr={},Ur=Fr.repeat,Gr=Ur==="no-repeat",Yr=Ur==="repeat-x",Kr=Ur==="repeat-y",Qr;if(isImagePattern(Fr)){var Jr=Fr.imageWidth,rn=Fr.imageHeight,an=void 0,ln=Fr.image;if(isString(ln)?an=ln:isImageLike(ln)?an=ln.src:isCanvasLike(ln)&&(an=ln.toDataURL()),typeof Image>"u"){var dn="Image width/height must been given explictly in svg-ssr renderer.";assert(Jr,dn),assert(rn,dn)}else if(Jr==null||rn==null){var hn=function(Pn,On){if(Pn){var jn=Pn.elm,Fn=Jr||On.width,Wn=rn||On.height;Pn.tag==="pattern"&&(Yr?(Wn=1,Fn/=zr.width):Kr&&(Fn=1,Wn/=zr.height)),Pn.attrs.width=Fn,Pn.attrs.height=Wn,jn&&(jn.setAttribute("width",Fn),jn.setAttribute("height",Wn))}},gn=createOrUpdateImage(an,null,Fe,function(Pn){Gr||hn(_n,Pn),hn(Qr,Pn)});gn&&gn.width&&gn.height&&(Jr=Jr||gn.width,rn=rn||gn.height)}Qr=createVNode("image","img",{href:an,width:Jr,height:rn}),jr.width=Jr,jr.height=rn}else Fr.svgElement&&(Qr=clone$4(Fr.svgElement),jr.width=Fr.svgWidth,jr.height=Fr.svgHeight);if(Qr){var bn,kn;Gr?bn=kn=1:Yr?(kn=1,bn=jr.width/zr.width):Kr?(bn=1,kn=jr.height/zr.height):jr.patternUnits="userSpaceOnUse",bn!=null&&!isNaN(bn)&&(jr.width=bn),kn!=null&&!isNaN(kn)&&(jr.height=kn);var Sn=getSRTTransformString(Fr);Sn&&(jr.patternTransform=Sn);var _n=createVNode("pattern","",jr,[Qr]),pn=vNodeToString(_n),Cn=Br.patternCache,En=Cn[pn];En||(En=Br.zrId+"-p"+Br.patternIdx++,Cn[pn]=En,jr.id=En,_n=Br.defs[En]=createVNode("pattern",En,jr,[Qr])),_r[$r]=getIdURL(En)}}function setClipPath(Fe,_r,$r){var Br=$r.clipPathCache,Fr=$r.defs,zr=Br[Fe.id];if(!zr){zr=$r.zrId+"-c"+$r.clipPathIdx++;var jr={id:zr};Br[Fe.id]=zr,Fr[zr]=createVNode("clipPath",zr,jr,[brushSVGPath(Fe,$r)])}_r["clip-path"]=getIdURL(zr)}function createTextNode(Fe){return document.createTextNode(Fe)}function insertBefore(Fe,_r,$r){Fe.insertBefore(_r,$r)}function removeChild(Fe,_r){Fe.removeChild(_r)}function appendChild(Fe,_r){Fe.appendChild(_r)}function parentNode(Fe){return Fe.parentNode}function nextSibling(Fe){return Fe.nextSibling}function setTextContent(Fe,_r){Fe.textContent=_r}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(Fe){return Fe===void 0}function isDef(Fe){return Fe!==void 0}function createKeyToOldIdx(Fe,_r,$r){for(var Br={},Fr=_r;Fr<=$r;++Fr){var zr=Fe[Fr].key;zr!==void 0&&(Br[zr]=Fr)}return Br}function sameVnode(Fe,_r){var $r=Fe.key===_r.key,Br=Fe.tag===_r.tag;return Br&&$r}function createElm(Fe){var _r,$r=Fe.children,Br=Fe.tag;if(isDef(Br)){var Fr=Fe.elm=createElement(Br);if(updateAttrs(emptyNode,Fe),isArray$1($r))for(_r=0;_r<$r.length;++_r){var zr=$r[_r];zr!=null&&appendChild(Fr,createElm(zr))}else isDef(Fe.text)&&!isObject$3(Fe.text)&&appendChild(Fr,createTextNode(Fe.text))}else Fe.elm=createTextNode(Fe.text);return Fe.elm}function addVnodes(Fe,_r,$r,Br,Fr){for(;Br<=Fr;++Br){var zr=$r[Br];zr!=null&&insertBefore(Fe,createElm(zr),_r)}}function removeVnodes(Fe,_r,$r,Br){for(;$r<=Br;++$r){var Fr=_r[$r];if(Fr!=null)if(isDef(Fr.tag)){var zr=parentNode(Fr.elm);removeChild(zr,Fr.elm)}else removeChild(Fe,Fr.elm)}}function updateAttrs(Fe,_r){var $r,Br=_r.elm,Fr=Fe&&Fe.attrs||{},zr=_r.attrs||{};if(Fr!==zr){for($r in zr){var jr=zr[$r],Ur=Fr[$r];Ur!==jr&&(jr===!0?Br.setAttribute($r,""):jr===!1?Br.removeAttribute($r):$r.charCodeAt(0)!==xChar?Br.setAttribute($r,jr):$r==="xmlns:xlink"||$r==="xmlns"?Br.setAttributeNS(XMLNS,$r,jr):$r.charCodeAt(3)===colonChar?Br.setAttributeNS(XML_NAMESPACE,$r,jr):$r.charCodeAt(5)===colonChar?Br.setAttributeNS(XLINKNS,$r,jr):Br.setAttribute($r,jr))}for($r in Fr)$r in zr||Br.removeAttribute($r)}}function updateChildren(Fe,_r,$r){for(var Br=0,Fr=0,zr=_r.length-1,jr=_r[0],Ur=_r[zr],Gr=$r.length-1,Yr=$r[0],Kr=$r[Gr],Qr,Jr,rn,an;Br<=zr&&Fr<=Gr;)jr==null?jr=_r[++Br]:Ur==null?Ur=_r[--zr]:Yr==null?Yr=$r[++Fr]:Kr==null?Kr=$r[--Gr]:sameVnode(jr,Yr)?(patchVnode(jr,Yr),jr=_r[++Br],Yr=$r[++Fr]):sameVnode(Ur,Kr)?(patchVnode(Ur,Kr),Ur=_r[--zr],Kr=$r[--Gr]):sameVnode(jr,Kr)?(patchVnode(jr,Kr),insertBefore(Fe,jr.elm,nextSibling(Ur.elm)),jr=_r[++Br],Kr=$r[--Gr]):sameVnode(Ur,Yr)?(patchVnode(Ur,Yr),insertBefore(Fe,Ur.elm,jr.elm),Ur=_r[--zr],Yr=$r[++Fr]):(isUndef(Qr)&&(Qr=createKeyToOldIdx(_r,Br,zr)),Jr=Qr[Yr.key],isUndef(Jr)?insertBefore(Fe,createElm(Yr),jr.elm):(rn=_r[Jr],rn.tag!==Yr.tag?insertBefore(Fe,createElm(Yr),jr.elm):(patchVnode(rn,Yr),_r[Jr]=void 0,insertBefore(Fe,rn.elm,jr.elm))),Yr=$r[++Fr]);(Br<=zr||Fr<=Gr)&&(Br>zr?(an=$r[Gr+1]==null?null:$r[Gr+1].elm,addVnodes(Fe,an,$r,Fr,Gr)):removeVnodes(Fe,_r,Br,zr))}function patchVnode(Fe,_r){var $r=_r.elm=Fe.elm,Br=Fe.children,Fr=_r.children;Fe!==_r&&(updateAttrs(Fe,_r),isUndef(_r.text)?isDef(Br)&&isDef(Fr)?Br!==Fr&&updateChildren($r,Br,Fr):isDef(Fr)?(isDef(Fe.text)&&setTextContent($r,""),addVnodes($r,null,Fr,0,Fr.length-1)):isDef(Br)?removeVnodes($r,Br,0,Br.length-1):isDef(Fe.text)&&setTextContent($r,""):Fe.text!==_r.text&&(isDef(Br)&&removeVnodes($r,Br,0,Br.length-1),setTextContent($r,_r.text)))}function patch(Fe,_r){if(sameVnode(Fe,_r))patchVnode(Fe,_r);else{var $r=Fe.elm,Br=parentNode($r);createElm(_r),Br!==null&&(insertBefore(Br,_r.elm,nextSibling($r)),removeVnodes(Br,[Fe],0,0))}return _r}var svgId=0,SVGPainter=function(){function Fe(_r,$r,Br){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=$r,this._opts=Br=extend$1({},Br),this.root=_r,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(Br.width,Br.height),_r&&!Br.ssr){var Fr=this._viewport=document.createElement("div");Fr.style.cssText="position:relative;overflow:hidden";var zr=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),Fr.appendChild(zr),_r.appendChild(Fr)}this.resize(Br.width,Br.height)}return Fe.prototype.getType=function(){return this.type},Fe.prototype.getViewportRoot=function(){return this._viewport},Fe.prototype.getViewportRootOffset=function(){var _r=this.getViewportRoot();if(_r)return{offsetLeft:_r.offsetLeft||0,offsetTop:_r.offsetTop||0}},Fe.prototype.getSvgDom=function(){return this._svgDom},Fe.prototype.refresh=function(){if(this.root){var _r=this.renderToVNode({willUpdate:!0});_r.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,_r),this._oldVNode=_r}},Fe.prototype.renderOneToVNode=function(_r){return brush(_r,createBrushScope(this._id))},Fe.prototype.renderToVNode=function(_r){_r=_r||{};var $r=this.storage.getDisplayList(!0),Br=this._width,Fr=this._height,zr=createBrushScope(this._id);zr.animation=_r.animation,zr.willUpdate=_r.willUpdate,zr.compress=_r.compress;var jr=[],Ur=this._bgVNode=createBackgroundVNode(Br,Fr,this._backgroundColor,zr);Ur&&jr.push(Ur);var Gr=_r.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList($r,zr,Gr?Gr.children:jr),Gr&&jr.push(Gr);var Yr=map$1(keys(zr.defs),function(Jr){return zr.defs[Jr]});if(Yr.length&&jr.push(createVNode("defs","defs",{},Yr)),_r.animation){var Kr=getCssString(zr.cssNodes,zr.cssAnims,{newline:!0});if(Kr){var Qr=createVNode("style","stl",{},[],Kr);jr.push(Qr)}}return createSVGVNode(Br,Fr,jr,_r.useViewBox)},Fe.prototype.renderToString=function(_r){return _r=_r||{},vNodeToString(this.renderToVNode({animation:retrieve2(_r.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(_r.useViewBox,!0)}),{newline:!0})},Fe.prototype.setBackgroundColor=function(_r){this._backgroundColor=_r},Fe.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},Fe.prototype._paintList=function(_r,$r,Br){for(var Fr=_r.length,zr=[],jr=0,Ur,Gr,Yr=0,Kr=0;Kr<Fr;Kr++){var Qr=_r[Kr];if(!Qr.invisible){var Jr=Qr.__clipPaths,rn=Jr&&Jr.length||0,an=Gr&&Gr.length||0,ln=void 0;for(ln=Math.max(rn-1,an-1);ln>=0&&!(Jr&&Gr&&Jr[ln]===Gr[ln]);ln--);for(var dn=an-1;dn>ln;dn--)jr--,Ur=zr[jr-1];for(var hn=ln+1;hn<rn;hn++){var gn={};setClipPath(Jr[hn],gn,$r);var bn=createVNode("g","clip-g-"+Yr++,gn,[]);(Ur?Ur.children:Br).push(bn),zr[jr++]=bn,Ur=bn}Gr=Jr;var kn=brush(Qr,$r);kn&&(Ur?Ur.children:Br).push(kn)}}},Fe.prototype.resize=function(_r,$r){var Br=this._opts,Fr=this.root,zr=this._viewport;if(_r!=null&&(Br.width=_r),$r!=null&&(Br.height=$r),Fr&&zr&&(zr.style.display="none",_r=getSize$1(Fr,0,Br),$r=getSize$1(Fr,1,Br),zr.style.display=""),this._width!==_r||this._height!==$r){if(this._width=_r,this._height=$r,zr){var jr=zr.style;jr.width=_r+"px",jr.height=$r+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var Ur=this._svgDom;Ur&&(Ur.setAttribute("width",_r),Ur.setAttribute("height",$r));var Gr=this._bgVNode&&this._bgVNode.elm;Gr&&(Gr.setAttribute("width",_r),Gr.setAttribute("height",$r))}}},Fe.prototype.getWidth=function(){return this._width},Fe.prototype.getHeight=function(){return this._height},Fe.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},Fe.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},Fe.prototype.toDataURL=function(_r){var $r=this.renderToString(),Br="data:image/svg+xml;";return _r?($r=encodeBase64($r),$r&&Br+"base64,"+$r):Br+"charset=UTF-8,"+encodeURIComponent($r)},Fe}();function createMethodNotSupport(Fe){return function(){}}function createBackgroundVNode(Fe,_r,$r,Br){var Fr;if($r&&$r!=="none")if(Fr=createVNode("rect","bg",{width:Fe,height:_r,x:"0",y:"0",id:"0"}),isGradient($r))setGradient({fill:$r},Fr.attrs,"fill",Br);else if(isPattern($r))setPattern({style:{fill:$r},dirty:noop,getBoundingRect:function(){return{width:Fe,height:_r}}},Fr.attrs,"fill",Br);else{var zr=normalizeColor($r),jr=zr.color,Ur=zr.opacity;Fr.attrs.fill=jr,Ur<1&&(Fr.attrs["fill-opacity"]=Ur)}return Fr}const SVGPainter$1=SVGPainter;function install$S(Fe){Fe.registerPainter("svg",SVGPainter$1)}function createDom(Fe,_r,$r){var Br=platformApi.createCanvas(),Fr=_r.getWidth(),zr=_r.getHeight(),jr=Br.style;return jr&&(jr.position="absolute",jr.left="0",jr.top="0",jr.width=Fr+"px",jr.height=zr+"px",Br.setAttribute("data-zr-dom-id",Fe)),Br.width=Fr*$r,Br.height=zr*$r,Br}var Layer=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this)||this;zr.motionBlur=!1,zr.lastFrameAlpha=.7,zr.dpr=1,zr.virtual=!1,zr.config={},zr.incremental=!1,zr.zlevel=0,zr.maxRepaintRectCount=5,zr.__dirty=!0,zr.__firstTimePaint=!0,zr.__used=!1,zr.__drawIndex=0,zr.__startIndex=0,zr.__endIndex=0,zr.__prevStartIndex=null,zr.__prevEndIndex=null;var jr;Fr=Fr||devicePixelRatio,typeof $r=="string"?jr=createDom($r,Br,Fr):isObject$3($r)&&(jr=$r,$r=jr.id),zr.id=$r,zr.dom=jr;var Ur=jr.style;return Ur&&(disableUserSelect(jr),jr.onselectstart=function(){return!1},Ur.padding="0",Ur.margin="0",Ur.borderWidth="0"),zr.painter=Br,zr.dpr=Fr,zr}return _r.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},_r.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},_r.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},_r.prototype.setUnpainted=function(){this.__firstTimePaint=!0},_r.prototype.createBackBuffer=function(){var $r=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,$r),this.ctxBack=this.domBack.getContext("2d"),$r!==1&&this.ctxBack.scale($r,$r)},_r.prototype.createRepaintRects=function($r,Br,Fr,zr){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var jr=[],Ur=this.maxRepaintRectCount,Gr=!1,Yr=new BoundingRect$1(0,0,0,0);function Kr(gn){if(!(!gn.isFinite()||gn.isZero()))if(jr.length===0){var bn=new BoundingRect$1(0,0,0,0);bn.copy(gn),jr.push(bn)}else{for(var kn=!1,Sn=1/0,_n=0,pn=0;pn<jr.length;++pn){var Cn=jr[pn];if(Cn.intersect(gn)){var En=new BoundingRect$1(0,0,0,0);En.copy(Cn),En.union(gn),jr[pn]=En,kn=!0;break}else if(Gr){Yr.copy(gn),Yr.union(Cn);var Pn=gn.width*gn.height,On=Cn.width*Cn.height,jn=Yr.width*Yr.height,Fn=jn-Pn-On;Fn<Sn&&(Sn=Fn,_n=pn)}}if(Gr&&(jr[_n].union(gn),kn=!0),!kn){var bn=new BoundingRect$1(0,0,0,0);bn.copy(gn),jr.push(bn)}Gr||(Gr=jr.length>=Ur)}}for(var Qr=this.__startIndex;Qr<this.__endIndex;++Qr){var Jr=$r[Qr];if(Jr){var rn=Jr.shouldBePainted(Fr,zr,!0,!0),an=Jr.__isRendered&&(Jr.__dirty&REDRAW_BIT||!rn)?Jr.getPrevPaintRect():null;an&&Kr(an);var ln=rn&&(Jr.__dirty&REDRAW_BIT||!Jr.__isRendered)?Jr.getPaintRect():null;ln&&Kr(ln)}}for(var Qr=this.__prevStartIndex;Qr<this.__prevEndIndex;++Qr){var Jr=Br[Qr],rn=Jr.shouldBePainted(Fr,zr,!0,!0);if(Jr&&(!rn||!Jr.__zr)&&Jr.__isRendered){var an=Jr.getPrevPaintRect();an&&Kr(an)}}var dn;do{dn=!1;for(var Qr=0;Qr<jr.length;){if(jr[Qr].isZero()){jr.splice(Qr,1);continue}for(var hn=Qr+1;hn<jr.length;)jr[Qr].intersect(jr[hn])?(dn=!0,jr[Qr].union(jr[hn]),jr.splice(hn,1)):hn++;Qr++}}while(dn);return this._paintRects=jr,jr},_r.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},_r.prototype.resize=function($r,Br){var Fr=this.dpr,zr=this.dom,jr=zr.style,Ur=this.domBack;jr&&(jr.width=$r+"px",jr.height=Br+"px"),zr.width=$r*Fr,zr.height=Br*Fr,Ur&&(Ur.width=$r*Fr,Ur.height=Br*Fr,Fr!==1&&this.ctxBack.scale(Fr,Fr))},_r.prototype.clear=function($r,Br,Fr){var zr=this.dom,jr=this.ctx,Ur=zr.width,Gr=zr.height;Br=Br||this.clearColor;var Yr=this.motionBlur&&!$r,Kr=this.lastFrameAlpha,Qr=this.dpr,Jr=this;Yr&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(zr,0,0,Ur/Qr,Gr/Qr));var rn=this.domBack;function an(ln,dn,hn,gn){if(jr.clearRect(ln,dn,hn,gn),Br&&Br!=="transparent"){var bn=void 0;if(isGradientObject(Br)){var kn=Br.global||Br.__width===hn&&Br.__height===gn;bn=kn&&Br.__canvasGradient||getCanvasGradient(jr,Br,{x:0,y:0,width:hn,height:gn}),Br.__canvasGradient=bn,Br.__width=hn,Br.__height=gn}else isImagePatternObject(Br)&&(Br.scaleX=Br.scaleX||Qr,Br.scaleY=Br.scaleY||Qr,bn=createCanvasPattern(jr,Br,{dirty:function(){Jr.setUnpainted(),Jr.__painter.refresh()}}));jr.save(),jr.fillStyle=bn||Br,jr.fillRect(ln,dn,hn,gn),jr.restore()}Yr&&(jr.save(),jr.globalAlpha=Kr,jr.drawImage(rn,ln,dn,hn,gn),jr.restore())}!Fr||Yr?an(0,0,Ur,Gr):Fr.length&&each$f(Fr,function(ln){an(ln.x*Qr,ln.y*Qr,ln.width*Qr,ln.height*Qr)})},_r}(Eventful$1);const Layer$1=Layer;var HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(Fe){return Fe?Fe.__builtin__?!0:!(typeof Fe.resize!="function"||typeof Fe.refresh!="function"):!1}function createRoot(Fe,_r){var $r=document.createElement("div");return $r.style.cssText=["position:relative","width:"+Fe+"px","height:"+_r+"px","padding:0","margin:0","border-width:0"].join(";")+";",$r}var CanvasPainter=function(){function Fe(_r,$r,Br,Fr){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var zr=!_r.nodeName||_r.nodeName.toUpperCase()==="CANVAS";this._opts=Br=extend$1({},Br||{}),this.dpr=Br.devicePixelRatio||devicePixelRatio,this._singleCanvas=zr,this.root=_r;var jr=_r.style;jr&&(disableUserSelect(_r),_r.innerHTML=""),this.storage=$r;var Ur=this._zlevelList;this._prevDisplayList=[];var Gr=this._layers;if(zr){var Kr=_r,Qr=Kr.width,Jr=Kr.height;Br.width!=null&&(Qr=Br.width),Br.height!=null&&(Jr=Br.height),this.dpr=Br.devicePixelRatio||1,Kr.width=Qr*this.dpr,Kr.height=Jr*this.dpr,this._width=Qr,this._height=Jr;var rn=new Layer$1(Kr,this,this.dpr);rn.__builtin__=!0,rn.initContext(),Gr[CANVAS_ZLEVEL]=rn,rn.zlevel=CANVAS_ZLEVEL,Ur.push(CANVAS_ZLEVEL),this._domRoot=_r}else{this._width=getSize$1(_r,0,Br),this._height=getSize$1(_r,1,Br);var Yr=this._domRoot=createRoot(this._width,this._height);_r.appendChild(Yr)}}return Fe.prototype.getType=function(){return"canvas"},Fe.prototype.isSingleCanvas=function(){return this._singleCanvas},Fe.prototype.getViewportRoot=function(){return this._domRoot},Fe.prototype.getViewportRootOffset=function(){var _r=this.getViewportRoot();if(_r)return{offsetLeft:_r.offsetLeft||0,offsetTop:_r.offsetTop||0}},Fe.prototype.refresh=function(_r){var $r=this.storage.getDisplayList(!0),Br=this._prevDisplayList,Fr=this._zlevelList;this._redrawId=Math.random(),this._paintList($r,Br,_r,this._redrawId);for(var zr=0;zr<Fr.length;zr++){var jr=Fr[zr],Ur=this._layers[jr];if(!Ur.__builtin__&&Ur.refresh){var Gr=zr===0?this._backgroundColor:null;Ur.refresh(Gr)}}return this._opts.useDirtyRect&&(this._prevDisplayList=$r.slice()),this},Fe.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},Fe.prototype._paintHoverList=function(_r){var $r=_r.length,Br=this._hoverlayer;if(Br&&Br.clear(),!!$r){for(var Fr={inHover:!0,viewWidth:this._width,viewHeight:this._height},zr,jr=0;jr<$r;jr++){var Ur=_r[jr];Ur.__inHover&&(Br||(Br=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),zr||(zr=Br.ctx,zr.save()),brush$1(zr,Ur,Fr,jr===$r-1))}zr&&zr.restore()}},Fe.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},Fe.prototype.paintOne=function(_r,$r){brushSingle(_r,$r)},Fe.prototype._paintList=function(_r,$r,Br,Fr){if(this._redrawId===Fr){Br=Br||!1,this._updateLayerStatus(_r);var zr=this._doPaintList(_r,$r,Br),jr=zr.finished,Ur=zr.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),Ur&&this._paintHoverList(_r),jr)this.eachLayer(function(Yr){Yr.afterBrush&&Yr.afterBrush()});else{var Gr=this;requestAnimationFrame$2(function(){Gr._paintList(_r,$r,Br,Fr)})}}},Fe.prototype._compositeManually=function(){var _r=this.getLayer(CANVAS_ZLEVEL).ctx,$r=this._domRoot.width,Br=this._domRoot.height;_r.clearRect(0,0,$r,Br),this.eachBuiltinLayer(function(Fr){Fr.virtual&&_r.drawImage(Fr.dom,0,0,$r,Br)})},Fe.prototype._doPaintList=function(_r,$r,Br){for(var Fr=this,zr=[],jr=this._opts.useDirtyRect,Ur=0;Ur<this._zlevelList.length;Ur++){var Gr=this._zlevelList[Ur],Yr=this._layers[Gr];Yr.__builtin__&&Yr!==this._hoverlayer&&(Yr.__dirty||Br)&&zr.push(Yr)}for(var Kr=!0,Qr=!1,Jr=function(ln){var dn=zr[ln],hn=dn.ctx,gn=jr&&dn.createRepaintRects(_r,$r,rn._width,rn._height),bn=Br?dn.__startIndex:dn.__drawIndex,kn=!Br&&dn.incremental&&Date.now,Sn=kn&&Date.now(),_n=dn.zlevel===rn._zlevelList[0]?rn._backgroundColor:null;if(dn.__startIndex===dn.__endIndex)dn.clear(!1,_n,gn);else if(bn===dn.__startIndex){var pn=_r[bn];(!pn.incremental||!pn.notClear||Br)&&dn.clear(!1,_n,gn)}bn===-1&&(console.error("For some unknown reason. drawIndex is -1"),bn=dn.__startIndex);var Cn,En=function(Fn){var Wn={inHover:!1,allClipped:!1,prevEl:null,viewWidth:Fr._width,viewHeight:Fr._height};for(Cn=bn;Cn<dn.__endIndex;Cn++){var Hn=_r[Cn];if(Hn.__inHover&&(Qr=!0),Fr._doPaintEl(Hn,dn,jr,Fn,Wn,Cn===dn.__endIndex-1),kn){var qn=Date.now()-Sn;if(qn>15)break}}Wn.prevElClipPaths&&hn.restore()};if(gn)if(gn.length===0)Cn=dn.__endIndex;else for(var Pn=rn.dpr,On=0;On<gn.length;++On){var jn=gn[On];hn.save(),hn.beginPath(),hn.rect(jn.x*Pn,jn.y*Pn,jn.width*Pn,jn.height*Pn),hn.clip(),En(jn),hn.restore()}else hn.save(),En(),hn.restore();dn.__drawIndex=Cn,dn.__drawIndex<dn.__endIndex&&(Kr=!1)},rn=this,an=0;an<zr.length;an++)Jr(an);return env$1.wxa&&each$f(this._layers,function(ln){ln&&ln.ctx&&ln.ctx.draw&&ln.ctx.draw()}),{finished:Kr,needsRefreshHover:Qr}},Fe.prototype._doPaintEl=function(_r,$r,Br,Fr,zr,jr){var Ur=$r.ctx;if(Br){var Gr=_r.getPaintRect();(!Fr||Gr&&Gr.intersect(Fr))&&(brush$1(Ur,_r,zr,jr),_r.setPrevPaintRect(Gr))}else brush$1(Ur,_r,zr,jr)},Fe.prototype.getLayer=function(_r,$r){this._singleCanvas&&!this._needsManuallyCompositing&&(_r=CANVAS_ZLEVEL);var Br=this._layers[_r];return Br||(Br=new Layer$1("zr_"+_r,this,this.dpr),Br.zlevel=_r,Br.__builtin__=!0,this._layerConfig[_r]?merge(Br,this._layerConfig[_r],!0):this._layerConfig[_r-EL_AFTER_INCREMENTAL_INC]&&merge(Br,this._layerConfig[_r-EL_AFTER_INCREMENTAL_INC],!0),$r&&(Br.virtual=$r),this.insertLayer(_r,Br),Br.initContext()),Br},Fe.prototype.insertLayer=function(_r,$r){var Br=this._layers,Fr=this._zlevelList,zr=Fr.length,jr=this._domRoot,Ur=null,Gr=-1;if(!Br[_r]&&isLayerValid($r)){if(zr>0&&_r>Fr[0]){for(Gr=0;Gr<zr-1&&!(Fr[Gr]<_r&&Fr[Gr+1]>_r);Gr++);Ur=Br[Fr[Gr]]}if(Fr.splice(Gr+1,0,_r),Br[_r]=$r,!$r.virtual)if(Ur){var Yr=Ur.dom;Yr.nextSibling?jr.insertBefore($r.dom,Yr.nextSibling):jr.appendChild($r.dom)}else jr.firstChild?jr.insertBefore($r.dom,jr.firstChild):jr.appendChild($r.dom);$r.__painter=this}},Fe.prototype.eachLayer=function(_r,$r){for(var Br=this._zlevelList,Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr];_r.call($r,this._layers[zr],zr)}},Fe.prototype.eachBuiltinLayer=function(_r,$r){for(var Br=this._zlevelList,Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr],jr=this._layers[zr];jr.__builtin__&&_r.call($r,jr,zr)}},Fe.prototype.eachOtherLayer=function(_r,$r){for(var Br=this._zlevelList,Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr],jr=this._layers[zr];jr.__builtin__||_r.call($r,jr,zr)}},Fe.prototype.getLayers=function(){return this._layers},Fe.prototype._updateLayerStatus=function(_r){this.eachBuiltinLayer(function(Qr,Jr){Qr.__dirty=Qr.__used=!1});function $r(Qr){zr&&(zr.__endIndex!==Qr&&(zr.__dirty=!0),zr.__endIndex=Qr)}if(this._singleCanvas)for(var Br=1;Br<_r.length;Br++){var Fr=_r[Br];if(Fr.zlevel!==_r[Br-1].zlevel||Fr.incremental){this._needsManuallyCompositing=!0;break}}var zr=null,jr=0,Ur,Gr;for(Gr=0;Gr<_r.length;Gr++){var Fr=_r[Gr],Yr=Fr.zlevel,Kr=void 0;Ur!==Yr&&(Ur=Yr,jr=0),Fr.incremental?(Kr=this.getLayer(Yr+INCREMENTAL_INC,this._needsManuallyCompositing),Kr.incremental=!0,jr=1):Kr=this.getLayer(Yr+(jr>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),Kr.__builtin__||logError$1("ZLevel "+Yr+" has been used by unkown layer "+Kr.id),Kr!==zr&&(Kr.__used=!0,Kr.__startIndex!==Gr&&(Kr.__dirty=!0),Kr.__startIndex=Gr,Kr.incremental?Kr.__drawIndex=-1:Kr.__drawIndex=Gr,$r(Gr),zr=Kr),Fr.__dirty&REDRAW_BIT&&!Fr.__inHover&&(Kr.__dirty=!0,Kr.incremental&&Kr.__drawIndex<0&&(Kr.__drawIndex=Gr))}$r(Gr),this.eachBuiltinLayer(function(Qr,Jr){!Qr.__used&&Qr.getElementCount()>0&&(Qr.__dirty=!0,Qr.__startIndex=Qr.__endIndex=Qr.__drawIndex=0),Qr.__dirty&&Qr.__drawIndex<0&&(Qr.__drawIndex=Qr.__startIndex)})},Fe.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},Fe.prototype._clearLayer=function(_r){_r.clear()},Fe.prototype.setBackgroundColor=function(_r){this._backgroundColor=_r,each$f(this._layers,function($r){$r.setUnpainted()})},Fe.prototype.configLayer=function(_r,$r){if($r){var Br=this._layerConfig;Br[_r]?merge(Br[_r],$r,!0):Br[_r]=$r;for(var Fr=0;Fr<this._zlevelList.length;Fr++){var zr=this._zlevelList[Fr];if(zr===_r||zr===_r+EL_AFTER_INCREMENTAL_INC){var jr=this._layers[zr];merge(jr,Br[_r],!0)}}}},Fe.prototype.delLayer=function(_r){var $r=this._layers,Br=this._zlevelList,Fr=$r[_r];Fr&&(Fr.dom.parentNode.removeChild(Fr.dom),delete $r[_r],Br.splice(indexOf(Br,_r),1))},Fe.prototype.resize=function(_r,$r){if(this._domRoot.style){var Br=this._domRoot;Br.style.display="none";var Fr=this._opts,zr=this.root;if(_r!=null&&(Fr.width=_r),$r!=null&&(Fr.height=$r),_r=getSize$1(zr,0,Fr),$r=getSize$1(zr,1,Fr),Br.style.display="",this._width!==_r||$r!==this._height){Br.style.width=_r+"px",Br.style.height=$r+"px";for(var jr in this._layers)this._layers.hasOwnProperty(jr)&&this._layers[jr].resize(_r,$r);this.refresh(!0)}this._width=_r,this._height=$r}else{if(_r==null||$r==null)return;this._width=_r,this._height=$r,this.getLayer(CANVAS_ZLEVEL).resize(_r,$r)}return this},Fe.prototype.clearLayer=function(_r){var $r=this._layers[_r];$r&&$r.clear()},Fe.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},Fe.prototype.getRenderedCanvas=function(_r){if(_r=_r||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var $r=new Layer$1("image",this,_r.pixelRatio||this.dpr);$r.initContext(),$r.clear(!1,_r.backgroundColor||this._backgroundColor);var Br=$r.ctx;if(_r.pixelRatio<=this.dpr){this.refresh();var Fr=$r.dom.width,zr=$r.dom.height;this.eachLayer(function(Qr){Qr.__builtin__?Br.drawImage(Qr.dom,0,0,Fr,zr):Qr.renderToCanvas&&(Br.save(),Qr.renderToCanvas(Br),Br.restore())})}else for(var jr={inHover:!1,viewWidth:this._width,viewHeight:this._height},Ur=this.storage.getDisplayList(!0),Gr=0,Yr=Ur.length;Gr<Yr;Gr++){var Kr=Ur[Gr];brush$1(Br,Kr,jr,Gr===Yr-1)}return $r.dom},Fe.prototype.getWidth=function(){return this._width},Fe.prototype.getHeight=function(){return this._height},Fe}();const CanvasPainter$1=CanvasPainter;function install$R(Fe){Fe.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.hasSymbolVisual=!0,$r}return _r.prototype.getInitialData=function($r){return createSeriesData(null,this,{useEncodeDefaulter:!0})},_r.prototype.getLegendIcon=function($r){var Br=new Group$4,Fr=createSymbol$1("line",0,$r.itemHeight/2,$r.itemWidth,0,$r.lineStyle.stroke,!1);Br.add(Fr),Fr.setStyle($r.lineStyle);var zr=this.getData().getVisual("symbol"),jr=this.getData().getVisual("symbolRotate"),Ur=zr==="none"?"circle":zr,Gr=$r.itemHeight*.8,Yr=createSymbol$1(Ur,($r.itemWidth-Gr)/2,($r.itemHeight-Gr)/2,Gr,Gr,$r.itemStyle.fill);Br.add(Yr),Yr.setStyle($r.itemStyle);var Kr=$r.iconRotate==="inherit"?jr:$r.iconRotate||0;return Yr.rotation=Kr*Math.PI/180,Yr.setOrigin([$r.itemWidth/2,$r.itemHeight/2]),Ur.indexOf("empty")>-1&&(Yr.style.stroke=Yr.style.fill,Yr.style.fill="#fff",Yr.style.lineWidth=2),Br},_r.type="series.line",_r.dependencies=["grid","polar"],_r.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},_r}(SeriesModel$1);const LineSeries=LineSeriesModel;function getDefaultLabel(Fe,_r){var $r=Fe.mapDimensionsAll("defaultedLabel"),Br=$r.length;if(Br===1){var Fr=retrieveRawValue(Fe,_r,$r[0]);return Fr!=null?Fr+"":null}else if(Br){for(var zr=[],jr=0;jr<$r.length;jr++)zr.push(retrieveRawValue(Fe,_r,$r[jr]));return zr.join(" ")}}function getDefaultInterpolatedLabel(Fe,_r){var $r=Fe.mapDimensionsAll("defaultedLabel");if(!isArray$1(_r))return _r+"";for(var Br=[],Fr=0;Fr<$r.length;Fr++){var zr=Fe.getDimensionIndex($r[Fr]);zr>=0&&Br.push(_r[zr])}return Br.join(" ")}var Symbol$1=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr,zr){var jr=Fe.call(this)||this;return jr.updateData($r,Br,Fr,zr),jr}return _r.prototype._createSymbol=function($r,Br,Fr,zr,jr){this.removeAll();var Ur=createSymbol$1($r,-1,-1,2,2,null,jr);Ur.attr({z2:100,culling:!0,scaleX:zr[0]/2,scaleY:zr[1]/2}),Ur.drift=driftSymbol,this._symbolType=$r,this.add(Ur)},_r.prototype.stopSymbolAnimation=function($r){this.childAt(0).stopAnimation(null,$r)},_r.prototype.getSymbolType=function(){return this._symbolType},_r.prototype.getSymbolPath=function(){return this.childAt(0)},_r.prototype.highlight=function(){enterEmphasis(this.childAt(0))},_r.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},_r.prototype.setZ=function($r,Br){var Fr=this.childAt(0);Fr.zlevel=$r,Fr.z=Br},_r.prototype.setDraggable=function($r,Br){var Fr=this.childAt(0);Fr.draggable=$r,Fr.cursor=!Br&&$r?"move":Fr.cursor},_r.prototype.updateData=function($r,Br,Fr,zr){this.silent=!1;var jr=$r.getItemVisual(Br,"symbol")||"circle",Ur=$r.hostModel,Gr=_r.getSymbolSize($r,Br),Yr=jr!==this._symbolType,Kr=zr&&zr.disableAnimation;if(Yr){var Qr=$r.getItemVisual(Br,"symbolKeepAspect");this._createSymbol(jr,$r,Br,Gr,Qr)}else{var Jr=this.childAt(0);Jr.silent=!1;var rn={scaleX:Gr[0]/2,scaleY:Gr[1]/2};Kr?Jr.attr(rn):updateProps$1(Jr,rn,Ur,Br),saveOldStyle(Jr)}if(this._updateCommon($r,Br,Gr,Fr,zr),Yr){var Jr=this.childAt(0);if(!Kr){var rn={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:Jr.style.opacity}};Jr.scaleX=Jr.scaleY=0,Jr.style.opacity=0,initProps(Jr,rn,Ur,Br)}}Kr&&this.childAt(0).stopAnimation("leave")},_r.prototype._updateCommon=function($r,Br,Fr,zr,jr){var Ur=this.childAt(0),Gr=$r.hostModel,Yr,Kr,Qr,Jr,rn,an,ln,dn,hn;if(zr&&(Yr=zr.emphasisItemStyle,Kr=zr.blurItemStyle,Qr=zr.selectItemStyle,Jr=zr.focus,rn=zr.blurScope,ln=zr.labelStatesModels,dn=zr.hoverScale,hn=zr.cursorStyle,an=zr.emphasisDisabled),!zr||$r.hasItemOption){var gn=zr&&zr.itemModel?zr.itemModel:$r.getItemModel(Br),bn=gn.getModel("emphasis");Yr=bn.getModel("itemStyle").getItemStyle(),Qr=gn.getModel(["select","itemStyle"]).getItemStyle(),Kr=gn.getModel(["blur","itemStyle"]).getItemStyle(),Jr=bn.get("focus"),rn=bn.get("blurScope"),an=bn.get("disabled"),ln=getLabelStatesModels(gn),dn=bn.getShallow("scale"),hn=gn.getShallow("cursor")}var kn=$r.getItemVisual(Br,"symbolRotate");Ur.attr("rotation",(kn||0)*Math.PI/180||0);var Sn=normalizeSymbolOffset($r.getItemVisual(Br,"symbolOffset"),Fr);Sn&&(Ur.x=Sn[0],Ur.y=Sn[1]),hn&&Ur.attr("cursor",hn);var _n=$r.getItemVisual(Br,"style"),pn=_n.fill;if(Ur instanceof ZRImage$1){var Cn=Ur.style;Ur.useStyle(extend$1({image:Cn.image,x:Cn.x,y:Cn.y,width:Cn.width,height:Cn.height},_n))}else Ur.__isEmptyBrush?Ur.useStyle(extend$1({},_n)):Ur.useStyle(_n),Ur.style.decal=null,Ur.setColor(pn,jr&&jr.symbolInnerColor),Ur.style.strokeNoScale=!0;var En=$r.getItemVisual(Br,"liftZ"),Pn=this._z2;En!=null?Pn==null&&(this._z2=Ur.z2,Ur.z2+=En):Pn!=null&&(Ur.z2=Pn,this._z2=null);var On=jr&&jr.useNameLabel;setLabelStyle(Ur,ln,{labelFetcher:Gr,labelDataIndex:Br,defaultText:jn,inheritColor:pn,defaultOpacity:_n.opacity});function jn(Hn){return On?$r.getName(Hn):getDefaultLabel($r,Hn)}this._sizeX=Fr[0]/2,this._sizeY=Fr[1]/2;var Fn=Ur.ensureState("emphasis");Fn.style=Yr,Ur.ensureState("select").style=Qr,Ur.ensureState("blur").style=Kr;var Wn=dn==null||dn===!0?Math.max(1.1,3/this._sizeY):isFinite(dn)&&dn>0?+dn:1;Fn.scaleX=this._sizeX*Wn,Fn.scaleY=this._sizeY*Wn,this.setSymbolScale(1),toggleHoverEmphasis(this,Jr,rn,an)},_r.prototype.setSymbolScale=function($r){this.scaleX=this.scaleY=$r},_r.prototype.fadeOut=function($r,Br,Fr){var zr=this.childAt(0),jr=getECData(this).dataIndex,Ur=Fr&&Fr.animation;if(this.silent=zr.silent=!0,Fr&&Fr.fadeLabel){var Gr=zr.getTextContent();Gr&&removeElement(Gr,{style:{opacity:0}},Br,{dataIndex:jr,removeOpt:Ur,cb:function(){zr.removeTextContent()}})}else zr.removeTextContent();removeElement(zr,{style:{opacity:0},scaleX:0,scaleY:0},Br,{dataIndex:jr,cb:$r,removeOpt:Ur})},_r.getSymbolSize=function($r,Br){return normalizeSymbolSize($r.getItemVisual(Br,"symbolSize"))},_r}(Group$4);function driftSymbol(Fe,_r){this.parent.drift(Fe,_r)}const SymbolClz=Symbol$1;function symbolNeedsDraw$1(Fe,_r,$r,Br){return _r&&!isNaN(_r[0])&&!isNaN(_r[1])&&!(Br.isIgnore&&Br.isIgnore($r))&&!(Br.clipShape&&!Br.clipShape.contain(_r[0],_r[1]))&&Fe.getItemVisual($r,"symbol")!=="none"}function normalizeUpdateOpt(Fe){return Fe!=null&&!isObject$3(Fe)&&(Fe={isIgnore:Fe}),Fe||{}}function makeSeriesScope$2(Fe){var _r=Fe.hostModel,$r=_r.getModel("emphasis");return{emphasisItemStyle:$r.getModel("itemStyle").getItemStyle(),blurItemStyle:_r.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:_r.getModel(["select","itemStyle"]).getItemStyle(),focus:$r.get("focus"),blurScope:$r.get("blurScope"),emphasisDisabled:$r.get("disabled"),hoverScale:$r.get("scale"),labelStatesModels:getLabelStatesModels(_r),cursorStyle:_r.get("cursor")}}var SymbolDraw=function(){function Fe(_r){this.group=new Group$4,this._SymbolCtor=_r||SymbolClz}return Fe.prototype.updateData=function(_r,$r){this._progressiveEls=null,$r=normalizeUpdateOpt($r);var Br=this.group,Fr=_r.hostModel,zr=this._data,jr=this._SymbolCtor,Ur=$r.disableAnimation,Gr=makeSeriesScope$2(_r),Yr={disableAnimation:Ur},Kr=$r.getSymbolPoint||function(Qr){return _r.getItemLayout(Qr)};zr||Br.removeAll(),_r.diff(zr).add(function(Qr){var Jr=Kr(Qr);if(symbolNeedsDraw$1(_r,Jr,Qr,$r)){var rn=new jr(_r,Qr,Gr,Yr);rn.setPosition(Jr),_r.setItemGraphicEl(Qr,rn),Br.add(rn)}}).update(function(Qr,Jr){var rn=zr.getItemGraphicEl(Jr),an=Kr(Qr);if(!symbolNeedsDraw$1(_r,an,Qr,$r)){Br.remove(rn);return}var ln=_r.getItemVisual(Qr,"symbol")||"circle",dn=rn&&rn.getSymbolType&&rn.getSymbolType();if(!rn||dn&&dn!==ln)Br.remove(rn),rn=new jr(_r,Qr,Gr,Yr),rn.setPosition(an);else{rn.updateData(_r,Qr,Gr,Yr);var hn={x:an[0],y:an[1]};Ur?rn.attr(hn):updateProps$1(rn,hn,Fr)}Br.add(rn),_r.setItemGraphicEl(Qr,rn)}).remove(function(Qr){var Jr=zr.getItemGraphicEl(Qr);Jr&&Jr.fadeOut(function(){Br.remove(Jr)},Fr)}).execute(),this._getSymbolPoint=Kr,this._data=_r},Fe.prototype.updateLayout=function(){var _r=this,$r=this._data;$r&&$r.eachItemGraphicEl(function(Br,Fr){var zr=_r._getSymbolPoint(Fr);Br.setPosition(zr),Br.markRedraw()})},Fe.prototype.incrementalPrepareUpdate=function(_r){this._seriesScope=makeSeriesScope$2(_r),this._data=null,this.group.removeAll()},Fe.prototype.incrementalUpdate=function(_r,$r,Br){this._progressiveEls=[],Br=normalizeUpdateOpt(Br);function Fr(Gr){Gr.isGroup||(Gr.incremental=!0,Gr.ensureState("emphasis").hoverLayer=!0)}for(var zr=_r.start;zr<_r.end;zr++){var jr=$r.getItemLayout(zr);if(symbolNeedsDraw$1($r,jr,zr,Br)){var Ur=new this._SymbolCtor($r,zr,this._seriesScope);Ur.traverse(Fr),Ur.setPosition(jr),this.group.add(Ur),$r.setItemGraphicEl(zr,Ur),this._progressiveEls.push(Ur)}}},Fe.prototype.eachRendered=function(_r){traverseElements(this._progressiveEls||this.group,_r)},Fe.prototype.remove=function(_r){var $r=this.group,Br=this._data;Br&&_r?Br.eachItemGraphicEl(function(Fr){Fr.fadeOut(function(){$r.remove(Fr)},Br.hostModel)}):$r.removeAll()},Fe}();const SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo(Fe,_r,$r){var Br=Fe.getBaseAxis(),Fr=Fe.getOtherAxis(Br),zr=getValueStart(Fr,$r),jr=Br.dim,Ur=Fr.dim,Gr=_r.mapDimension(Ur),Yr=_r.mapDimension(jr),Kr=Ur==="x"||Ur==="radius"?1:0,Qr=map$1(Fe.dimensions,function(an){return _r.mapDimension(an)}),Jr=!1,rn=_r.getCalculationInfo("stackResultDimension");return isDimensionStacked(_r,Qr[0])&&(Jr=!0,Qr[0]=rn),isDimensionStacked(_r,Qr[1])&&(Jr=!0,Qr[1]=rn),{dataDimsForPoint:Qr,valueStart:zr,valueAxisDim:Ur,baseAxisDim:jr,stacked:!!Jr,valueDim:Gr,baseDim:Yr,baseDataOffset:Kr,stackedOverDimension:_r.getCalculationInfo("stackedOverDimension")}}function getValueStart(Fe,_r){var $r=0,Br=Fe.scale.getExtent();return _r==="start"?$r=Br[0]:_r==="end"?$r=Br[1]:isNumber(_r)&&!isNaN(_r)?$r=_r:Br[0]>0?$r=Br[0]:Br[1]<0&&($r=Br[1]),$r}function getStackedOnPoint(Fe,_r,$r,Br){var Fr=NaN;Fe.stacked&&(Fr=$r.get($r.getCalculationInfo("stackedOverDimension"),Br)),isNaN(Fr)&&(Fr=Fe.valueStart);var zr=Fe.baseDataOffset,jr=[];return jr[zr]=$r.get(Fe.baseDim,Br),jr[1-zr]=Fr,_r.dataToPoint(jr)}function diffData(Fe,_r){var $r=[];return _r.diff(Fe).add(function(Br){$r.push({cmd:"+",idx:Br})}).update(function(Br,Fr){$r.push({cmd:"=",idx:Fr,idx1:Br})}).remove(function(Br){$r.push({cmd:"-",idx:Br})}).execute(),$r}function lineAnimationDiff(Fe,_r,$r,Br,Fr,zr,jr,Ur){for(var Gr=diffData(Fe,_r),Yr=[],Kr=[],Qr=[],Jr=[],rn=[],an=[],ln=[],dn=prepareDataCoordInfo(Fr,_r,jr),hn=Fe.getLayout("points")||[],gn=_r.getLayout("points")||[],bn=0;bn<Gr.length;bn++){var kn=Gr[bn],Sn=!0,_n=void 0,pn=void 0;switch(kn.cmd){case"=":_n=kn.idx*2,pn=kn.idx1*2;var Cn=hn[_n],En=hn[_n+1],Pn=gn[pn],On=gn[pn+1];(isNaN(Cn)||isNaN(En))&&(Cn=Pn,En=On),Yr.push(Cn,En),Kr.push(Pn,On),Qr.push($r[_n],$r[_n+1]),Jr.push(Br[pn],Br[pn+1]),ln.push(_r.getRawIndex(kn.idx1));break;case"+":var jn=kn.idx,Fn=dn.dataDimsForPoint,Wn=Fr.dataToPoint([_r.get(Fn[0],jn),_r.get(Fn[1],jn)]);pn=jn*2,Yr.push(Wn[0],Wn[1]),Kr.push(gn[pn],gn[pn+1]);var Hn=getStackedOnPoint(dn,Fr,_r,jn);Qr.push(Hn[0],Hn[1]),Jr.push(Br[pn],Br[pn+1]),ln.push(_r.getRawIndex(jn));break;case"-":Sn=!1}Sn&&(rn.push(kn),an.push(an.length))}an.sort(function(Ni,$i){return ln[Ni]-ln[$i]});for(var qn=Yr.length,ni=createFloat32Array(qn),oi=createFloat32Array(qn),wi=createFloat32Array(qn),Ci=createFloat32Array(qn),Fi=[],bn=0;bn<an.length;bn++){var Zn=an[bn],Gn=bn*2,ui=Zn*2;ni[Gn]=Yr[ui],ni[Gn+1]=Yr[ui+1],oi[Gn]=Kr[ui],oi[Gn+1]=Kr[ui+1],wi[Gn]=Qr[ui],wi[Gn+1]=Qr[ui+1],Ci[Gn]=Jr[ui],Ci[Gn+1]=Jr[ui+1],Fi[bn]=rn[Zn]}return{current:ni,next:oi,stackedOnCurrent:wi,stackedOnNext:Ci,status:Fi}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(Fe,_r){return isNaN(Fe)||isNaN(_r)}function drawSegment(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){for(var Yr,Kr,Qr,Jr,rn,an,ln=$r,dn=0;dn<Br;dn++){var hn=_r[ln*2],gn=_r[ln*2+1];if(ln>=Fr||ln<0)break;if(isPointNull$1(hn,gn)){if(Gr){ln+=zr;continue}break}if(ln===$r)Fe[zr>0?"moveTo":"lineTo"](hn,gn),Qr=hn,Jr=gn;else{var bn=hn-Yr,kn=gn-Kr;if(bn*bn+kn*kn<.5){ln+=zr;continue}if(jr>0){for(var Sn=ln+zr,_n=_r[Sn*2],pn=_r[Sn*2+1];_n===hn&&pn===gn&&dn<Br;)dn++,Sn+=zr,ln+=zr,_n=_r[Sn*2],pn=_r[Sn*2+1],hn=_r[ln*2],gn=_r[ln*2+1],bn=hn-Yr,kn=gn-Kr;var Cn=dn+1;if(Gr)for(;isPointNull$1(_n,pn)&&Cn<Br;)Cn++,Sn+=zr,_n=_r[Sn*2],pn=_r[Sn*2+1];var En=.5,Pn=0,On=0,jn=void 0,Fn=void 0;if(Cn>=Br||isPointNull$1(_n,pn))rn=hn,an=gn;else{Pn=_n-Yr,On=pn-Kr;var Wn=hn-Yr,Hn=_n-hn,qn=gn-Kr,ni=pn-gn,oi=void 0,wi=void 0;if(Ur==="x"){oi=Math.abs(Wn),wi=Math.abs(Hn);var Ci=Pn>0?1:-1;rn=hn-Ci*oi*jr,an=gn,jn=hn+Ci*wi*jr,Fn=gn}else if(Ur==="y"){oi=Math.abs(qn),wi=Math.abs(ni);var Fi=On>0?1:-1;rn=hn,an=gn-Fi*oi*jr,jn=hn,Fn=gn+Fi*wi*jr}else oi=Math.sqrt(Wn*Wn+qn*qn),wi=Math.sqrt(Hn*Hn+ni*ni),En=wi/(wi+oi),rn=hn-Pn*jr*(1-En),an=gn-On*jr*(1-En),jn=hn+Pn*jr*En,Fn=gn+On*jr*En,jn=mathMin$5(jn,mathMax$5(_n,hn)),Fn=mathMin$5(Fn,mathMax$5(pn,gn)),jn=mathMax$5(jn,mathMin$5(_n,hn)),Fn=mathMax$5(Fn,mathMin$5(pn,gn)),Pn=jn-hn,On=Fn-gn,rn=hn-Pn*oi/wi,an=gn-On*oi/wi,rn=mathMin$5(rn,mathMax$5(Yr,hn)),an=mathMin$5(an,mathMax$5(Kr,gn)),rn=mathMax$5(rn,mathMin$5(Yr,hn)),an=mathMax$5(an,mathMin$5(Kr,gn)),Pn=hn-rn,On=gn-an,jn=hn+Pn*wi/oi,Fn=gn+On*wi/oi}Fe.bezierCurveTo(Qr,Jr,rn,an,hn,gn),Qr=jn,Jr=Fn}else Fe.lineTo(hn,gn)}Yr=hn,Kr=gn,ln+=zr}return dn}var ECPolylineShape=function(){function Fe(){this.smooth=0,this.smoothConstraint=!0}return Fe}(),ECPolyline=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="ec-polyline",Br}return _r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_r.prototype.getDefaultShape=function(){return new ECPolylineShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.points,zr=0,jr=Fr.length/2;if(Br.connectNulls){for(;jr>0&&isPointNull$1(Fr[jr*2-2],Fr[jr*2-1]);jr--);for(;zr<jr&&isPointNull$1(Fr[zr*2],Fr[zr*2+1]);zr++);}for(;zr<jr;)zr+=drawSegment($r,Fr,zr,jr,jr,1,Br.smooth,Br.smoothMonotone,Br.connectNulls)+1},_r.prototype.getPointOn=function($r,Br){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var Fr=this.path,zr=Fr.data,jr=PathProxy$1.CMD,Ur,Gr,Yr=Br==="x",Kr=[],Qr=0;Qr<zr.length;){var Jr=zr[Qr++],rn=void 0,an=void 0,ln=void 0,dn=void 0,hn=void 0,gn=void 0,bn=void 0;switch(Jr){case jr.M:Ur=zr[Qr++],Gr=zr[Qr++];break;case jr.L:if(rn=zr[Qr++],an=zr[Qr++],bn=Yr?($r-Ur)/(rn-Ur):($r-Gr)/(an-Gr),bn<=1&&bn>=0){var kn=Yr?(an-Gr)*bn+Gr:(rn-Ur)*bn+Ur;return Yr?[$r,kn]:[kn,$r]}Ur=rn,Gr=an;break;case jr.C:rn=zr[Qr++],an=zr[Qr++],ln=zr[Qr++],dn=zr[Qr++],hn=zr[Qr++],gn=zr[Qr++];var Sn=Yr?cubicRootAt(Ur,rn,ln,hn,$r,Kr):cubicRootAt(Gr,an,dn,gn,$r,Kr);if(Sn>0)for(var _n=0;_n<Sn;_n++){var pn=Kr[_n];if(pn<=1&&pn>=0){var kn=Yr?cubicAt(Gr,an,dn,gn,pn):cubicAt(Ur,rn,ln,hn,pn);return Yr?[$r,kn]:[kn,$r]}}Ur=hn,Gr=gn;break}}},_r}(Path$1),ECPolygonShape=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r}(ECPolylineShape),ECPolygon=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="ec-polygon",Br}return _r.prototype.getDefaultShape=function(){return new ECPolygonShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.points,zr=Br.stackedOnPoints,jr=0,Ur=Fr.length/2,Gr=Br.smoothMonotone;if(Br.connectNulls){for(;Ur>0&&isPointNull$1(Fr[Ur*2-2],Fr[Ur*2-1]);Ur--);for(;jr<Ur&&isPointNull$1(Fr[jr*2],Fr[jr*2+1]);jr++);}for(;jr<Ur;){var Yr=drawSegment($r,Fr,jr,Ur,Ur,1,Br.smooth,Gr,Br.connectNulls);drawSegment($r,zr,jr+Yr-1,Yr,Ur,-1,Br.stackedOnSmooth,Gr,Br.connectNulls),jr+=Yr+1,$r.closePath()}},_r}(Path$1);function createGridClipPath(Fe,_r,$r,Br,Fr){var zr=Fe.getArea(),jr=zr.x,Ur=zr.y,Gr=zr.width,Yr=zr.height,Kr=$r.get(["lineStyle","width"])||2;jr-=Kr/2,Ur-=Kr/2,Gr+=Kr,Yr+=Kr,jr=Math.floor(jr),Gr=Math.round(Gr);var Qr=new Rect$3({shape:{x:jr,y:Ur,width:Gr,height:Yr}});if(_r){var Jr=Fe.getBaseAxis(),rn=Jr.isHorizontal(),an=Jr.inverse;rn?(an&&(Qr.shape.x+=Gr),Qr.shape.width=0):(an||(Qr.shape.y+=Yr),Qr.shape.height=0);var ln=isFunction(Fr)?function(dn){Fr(dn,Qr)}:null;initProps(Qr,{shape:{width:Gr,height:Yr,x:jr,y:Ur}},$r,null,Br,ln)}return Qr}function createPolarClipPath(Fe,_r,$r){var Br=Fe.getArea(),Fr=round$3(Br.r0,1),zr=round$3(Br.r,1),jr=new Sector$1({shape:{cx:round$3(Fe.cx,1),cy:round$3(Fe.cy,1),r0:Fr,r:zr,startAngle:Br.startAngle,endAngle:Br.endAngle,clockwise:Br.clockwise}});if(_r){var Ur=Fe.getBaseAxis().dim==="angle";Ur?jr.shape.endAngle=Br.startAngle:jr.shape.r=Fr,initProps(jr,{shape:{endAngle:Br.endAngle,r:zr}},$r)}return jr}function createClipPath(Fe,_r,$r,Br,Fr){if(Fe){if(Fe.type==="polar")return createPolarClipPath(Fe,_r,$r);if(Fe.type==="cartesian2d")return createGridClipPath(Fe,_r,$r,Br,Fr)}else return null;return null}function isCoordinateSystemType(Fe,_r){return Fe.type===_r}function isPointsSame(Fe,_r){if(Fe.length===_r.length){for(var $r=0;$r<Fe.length;$r++)if(Fe[$r]!==_r[$r])return;return!0}}function bboxFromPoints(Fe){for(var _r=1/0,$r=1/0,Br=-1/0,Fr=-1/0,zr=0;zr<Fe.length;){var jr=Fe[zr++],Ur=Fe[zr++];isNaN(jr)||(_r=Math.min(jr,_r),Br=Math.max(jr,Br)),isNaN(Ur)||($r=Math.min(Ur,$r),Fr=Math.max(Ur,Fr))}return[[_r,$r],[Br,Fr]]}function getBoundingDiff(Fe,_r){var $r=bboxFromPoints(Fe),Br=$r[0],Fr=$r[1],zr=bboxFromPoints(_r),jr=zr[0],Ur=zr[1];return Math.max(Math.abs(Br[0]-jr[0]),Math.abs(Br[1]-jr[1]),Math.abs(Fr[0]-Ur[0]),Math.abs(Fr[1]-Ur[1]))}function getSmooth(Fe){return isNumber(Fe)?Fe:Fe?.5:0}function getStackedOnPoints(Fe,_r,$r){if(!$r.valueDim)return[];for(var Br=_r.count(),Fr=createFloat32Array(Br*2),zr=0;zr<Br;zr++){var jr=getStackedOnPoint($r,Fe,_r,zr);Fr[zr*2]=jr[0],Fr[zr*2+1]=jr[1]}return Fr}function turnPointsIntoStep(Fe,_r,$r,Br){var Fr=_r.getBaseAxis(),zr=Fr.dim==="x"||Fr.dim==="radius"?0:1,jr=[],Ur=0,Gr=[],Yr=[],Kr=[],Qr=[];if(Br){for(Ur=0;Ur<Fe.length;Ur+=2)!isNaN(Fe[Ur])&&!isNaN(Fe[Ur+1])&&Qr.push(Fe[Ur],Fe[Ur+1]);Fe=Qr}for(Ur=0;Ur<Fe.length-2;Ur+=2)switch(Kr[0]=Fe[Ur+2],Kr[1]=Fe[Ur+3],Yr[0]=Fe[Ur],Yr[1]=Fe[Ur+1],jr.push(Yr[0],Yr[1]),$r){case"end":Gr[zr]=Kr[zr],Gr[1-zr]=Yr[1-zr],jr.push(Gr[0],Gr[1]);break;case"middle":var Jr=(Yr[zr]+Kr[zr])/2,rn=[];Gr[zr]=rn[zr]=Jr,Gr[1-zr]=Yr[1-zr],rn[1-zr]=Kr[1-zr],jr.push(Gr[0],Gr[1]),jr.push(rn[0],rn[1]);break;default:Gr[zr]=Yr[zr],Gr[1-zr]=Kr[1-zr],jr.push(Gr[0],Gr[1])}return jr.push(Fe[Ur++],Fe[Ur++]),jr}function clipColorStops(Fe,_r){var $r=[],Br=Fe.length,Fr,zr;function jr(Kr,Qr,Jr){var rn=Kr.coord,an=(Jr-rn)/(Qr.coord-rn),ln=lerp(an,[Kr.color,Qr.color]);return{coord:Jr,color:ln}}for(var Ur=0;Ur<Br;Ur++){var Gr=Fe[Ur],Yr=Gr.coord;if(Yr<0)Fr=Gr;else if(Yr>_r){zr?$r.push(jr(zr,Gr,_r)):Fr&&$r.push(jr(Fr,Gr,0),jr(Fr,Gr,_r));break}else Fr&&($r.push(jr(Fr,Gr,0)),Fr=null),$r.push(Gr),zr=Gr}return $r}function getVisualGradient(Fe,_r,$r){var Br=Fe.getVisual("visualMeta");if(!(!Br||!Br.length||!Fe.count())&&_r.type==="cartesian2d"){for(var Fr,zr,jr=Br.length-1;jr>=0;jr--){var Ur=Fe.getDimensionInfo(Br[jr].dimension);if(Fr=Ur&&Ur.coordDim,Fr==="x"||Fr==="y"){zr=Br[jr];break}}if(zr){var Gr=_r.getAxis(Fr),Yr=map$1(zr.stops,function(bn){return{coord:Gr.toGlobalCoord(Gr.dataToCoord(bn.value)),color:bn.color}}),Kr=Yr.length,Qr=zr.outerColors.slice();Kr&&Yr[0].coord>Yr[Kr-1].coord&&(Yr.reverse(),Qr.reverse());var Jr=clipColorStops(Yr,Fr==="x"?$r.getWidth():$r.getHeight()),rn=Jr.length;if(!rn&&Kr)return Yr[0].coord<0?Qr[1]?Qr[1]:Yr[Kr-1].color:Qr[0]?Qr[0]:Yr[0].color;var an=10,ln=Jr[0].coord-an,dn=Jr[rn-1].coord+an,hn=dn-ln;if(hn<.001)return"transparent";each$f(Jr,function(bn){bn.offset=(bn.coord-ln)/hn}),Jr.push({offset:rn?Jr[rn-1].offset:.5,color:Qr[1]||"transparent"}),Jr.unshift({offset:rn?Jr[0].offset:.5,color:Qr[0]||"transparent"});var gn=new LinearGradient$1(0,0,0,0,Jr,!0);return gn[Fr]=ln,gn[Fr+"2"]=dn,gn}}}function getIsIgnoreFunc(Fe,_r,$r){var Br=Fe.get("showAllSymbol"),Fr=Br==="auto";if(!(Br&&!Fr)){var zr=$r.getAxesByScale("ordinal")[0];if(zr&&!(Fr&&canShowAllSymbolForCategory(zr,_r))){var jr=_r.mapDimension(zr.dim),Ur={};return each$f(zr.getViewLabels(),function(Gr){var Yr=zr.scale.getRawOrdinalNumber(Gr.tickValue);Ur[Yr]=1}),function(Gr){return!Ur.hasOwnProperty(_r.get(jr,Gr))}}}}function canShowAllSymbolForCategory(Fe,_r){var $r=Fe.getExtent(),Br=Math.abs($r[1]-$r[0])/Fe.scale.count();isNaN(Br)&&(Br=0);for(var Fr=_r.count(),zr=Math.max(1,Math.round(Fr/5)),jr=0;jr<Fr;jr+=zr)if(SymbolClz.getSymbolSize(_r,jr)[Fe.isHorizontal()?1:0]*1.5>Br)return!1;return!0}function isPointNull(Fe,_r){return isNaN(Fe)||isNaN(_r)}function getLastIndexNotNull(Fe){for(var _r=Fe.length/2;_r>0&&isPointNull(Fe[_r*2-2],Fe[_r*2-1]);_r--);return _r-1}function getPointAtIndex(Fe,_r){return[Fe[_r*2],Fe[_r*2+1]]}function getIndexRange(Fe,_r,$r){for(var Br=Fe.length/2,Fr=$r==="x"?0:1,zr,jr,Ur=0,Gr=-1,Yr=0;Yr<Br;Yr++)if(jr=Fe[Yr*2+Fr],!(isNaN(jr)||isNaN(Fe[Yr*2+1-Fr]))){if(Yr===0){zr=jr;continue}if(zr<=_r&&jr>=_r||zr>=_r&&jr<=_r){Gr=Yr;break}Ur=Yr,zr=jr}return{range:[Ur,Gr],t:(_r-zr)/(jr-zr)}}function anyStateShowEndLabel(Fe){if(Fe.get(["endLabel","show"]))return!0;for(var _r=0;_r<SPECIAL_STATES.length;_r++)if(Fe.get([SPECIAL_STATES[_r],"endLabel","show"]))return!0;return!1}function createLineClipPath(Fe,_r,$r,Br){if(isCoordinateSystemType(_r,"cartesian2d")){var Fr=Br.getModel("endLabel"),zr=Fr.get("valueAnimation"),jr=Br.getData(),Ur={lastFrameIndex:0},Gr=anyStateShowEndLabel(Br)?function(rn,an){Fe._endLabelOnDuring(rn,an,jr,Ur,zr,Fr,_r)}:null,Yr=_r.getBaseAxis().isHorizontal(),Kr=createGridClipPath(_r,$r,Br,function(){var rn=Fe._endLabel;rn&&$r&&Ur.originalX!=null&&rn.attr({x:Ur.originalX,y:Ur.originalY})},Gr);if(!Br.get("clip",!0)){var Qr=Kr.shape,Jr=Math.max(Qr.width,Qr.height);Yr?(Qr.y-=Jr,Qr.height+=Jr*2):(Qr.x-=Jr,Qr.width+=Jr*2)}return Gr&&Gr(1,Kr),Kr}else return createPolarClipPath(_r,$r,Br)}function getEndLabelStateSpecified(Fe,_r){var $r=_r.getBaseAxis(),Br=$r.isHorizontal(),Fr=$r.inverse,zr=Br?Fr?"right":"left":"center",jr=Br?"middle":Fr?"top":"bottom";return{normal:{align:Fe.get("align")||zr,verticalAlign:Fe.get("verticalAlign")||jr}}}var LineView=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.init=function(){var $r=new Group$4,Br=new SymbolDraw$1;this.group.add(Br.group),this._symbolDraw=Br,this._lineGroup=$r},_r.prototype.render=function($r,Br,Fr){var zr=this,jr=$r.coordinateSystem,Ur=this.group,Gr=$r.getData(),Yr=$r.getModel("lineStyle"),Kr=$r.getModel("areaStyle"),Qr=Gr.getLayout("points")||[],Jr=jr.type==="polar",rn=this._coordSys,an=this._symbolDraw,ln=this._polyline,dn=this._polygon,hn=this._lineGroup,gn=!Br.ssr&&$r.isAnimationEnabled(),bn=!Kr.isEmpty(),kn=Kr.get("origin"),Sn=prepareDataCoordInfo(jr,Gr,kn),_n=bn&&getStackedOnPoints(jr,Gr,Sn),pn=$r.get("showSymbol"),Cn=$r.get("connectNulls"),En=pn&&!Jr&&getIsIgnoreFunc($r,Gr,jr),Pn=this._data;Pn&&Pn.eachItemGraphicEl(function($i,Vi){$i.__temp&&(Ur.remove($i),Pn.setItemGraphicEl(Vi,null))}),pn||an.remove(),Ur.add(hn);var On=Jr?!1:$r.get("step"),jn;jr&&jr.getArea&&$r.get("clip",!0)&&(jn=jr.getArea(),jn.width!=null?(jn.x-=.1,jn.y-=.1,jn.width+=.2,jn.height+=.2):jn.r0&&(jn.r0-=.5,jn.r+=.5)),this._clipShapeForSymbol=jn;var Fn=getVisualGradient(Gr,jr,Fr)||Gr.getVisual("style")[Gr.getVisual("drawType")];if(!(ln&&rn.type===jr.type&&On===this._step))pn&&an.updateData(Gr,{isIgnore:En,clipShape:jn,disableAnimation:!0,getSymbolPoint:function($i){return[Qr[$i*2],Qr[$i*2+1]]}}),gn&&this._initSymbolLabelAnimation(Gr,jr,jn),On&&(Qr=turnPointsIntoStep(Qr,jr,On,Cn),_n&&(_n=turnPointsIntoStep(_n,jr,On,Cn))),ln=this._newPolyline(Qr),bn?dn=this._newPolygon(Qr,_n):dn&&(hn.remove(dn),dn=this._polygon=null),Jr||this._initOrUpdateEndLabel($r,jr,convertToColorString(Fn)),hn.setClipPath(createLineClipPath(this,jr,!0,$r));else{bn&&!dn?dn=this._newPolygon(Qr,_n):dn&&!bn&&(hn.remove(dn),dn=this._polygon=null),Jr||this._initOrUpdateEndLabel($r,jr,convertToColorString(Fn));var Wn=hn.getClipPath();if(Wn){var Hn=createLineClipPath(this,jr,!1,$r);initProps(Wn,{shape:Hn.shape},$r)}else hn.setClipPath(createLineClipPath(this,jr,!0,$r));pn&&an.updateData(Gr,{isIgnore:En,clipShape:jn,disableAnimation:!0,getSymbolPoint:function($i){return[Qr[$i*2],Qr[$i*2+1]]}}),(!isPointsSame(this._stackedOnPoints,_n)||!isPointsSame(this._points,Qr))&&(gn?this._doUpdateAnimation(Gr,_n,jr,Fr,On,kn,Cn):(On&&(Qr=turnPointsIntoStep(Qr,jr,On,Cn),_n&&(_n=turnPointsIntoStep(_n,jr,On,Cn))),ln.setShape({points:Qr}),dn&&dn.setShape({points:Qr,stackedOnPoints:_n})))}var qn=$r.getModel("emphasis"),ni=qn.get("focus"),oi=qn.get("blurScope"),wi=qn.get("disabled");if(ln.useStyle(defaults(Yr.getLineStyle(),{fill:"none",stroke:Fn,lineJoin:"bevel"})),setStatesStylesFromModel(ln,$r,"lineStyle"),ln.style.lineWidth>0&&$r.get(["emphasis","lineStyle","width"])==="bolder"){var Ci=ln.getState("emphasis").style;Ci.lineWidth=+ln.style.lineWidth+1}getECData(ln).seriesIndex=$r.seriesIndex,toggleHoverEmphasis(ln,ni,oi,wi);var Fi=getSmooth($r.get("smooth")),Zn=$r.get("smoothMonotone");if(ln.setShape({smooth:Fi,smoothMonotone:Zn,connectNulls:Cn}),dn){var Gn=Gr.getCalculationInfo("stackedOnSeries"),ui=0;dn.useStyle(defaults(Kr.getAreaStyle(),{fill:Fn,opacity:.7,lineJoin:"bevel",decal:Gr.getVisual("style").decal})),Gn&&(ui=getSmooth(Gn.get("smooth"))),dn.setShape({smooth:Fi,stackedOnSmooth:ui,smoothMonotone:Zn,connectNulls:Cn}),setStatesStylesFromModel(dn,$r,"areaStyle"),getECData(dn).seriesIndex=$r.seriesIndex,toggleHoverEmphasis(dn,ni,oi,wi)}var Ni=function($i){zr._changePolyState($i)};Gr.eachItemGraphicEl(function($i){$i&&($i.onHoverStateChange=Ni)}),this._polyline.onHoverStateChange=Ni,this._data=Gr,this._coordSys=jr,this._stackedOnPoints=_n,this._points=Qr,this._step=On,this._valueOrigin=kn,$r.get("triggerLineEvent")&&(this.packEventData($r,ln),dn&&this.packEventData($r,dn))},_r.prototype.packEventData=function($r,Br){getECData(Br).eventData={componentType:"series",componentSubType:"line",componentIndex:$r.componentIndex,seriesIndex:$r.seriesIndex,seriesName:$r.name,seriesType:"line"}},_r.prototype.highlight=function($r,Br,Fr,zr){var jr=$r.getData(),Ur=queryDataIndex(jr,zr);if(this._changePolyState("emphasis"),!(Ur instanceof Array)&&Ur!=null&&Ur>=0){var Gr=jr.getLayout("points"),Yr=jr.getItemGraphicEl(Ur);if(!Yr){var Kr=Gr[Ur*2],Qr=Gr[Ur*2+1];if(isNaN(Kr)||isNaN(Qr)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(Kr,Qr))return;var Jr=$r.get("zlevel")||0,rn=$r.get("z")||0;Yr=new SymbolClz(jr,Ur),Yr.x=Kr,Yr.y=Qr,Yr.setZ(Jr,rn);var an=Yr.getSymbolPath().getTextContent();an&&(an.zlevel=Jr,an.z=rn,an.z2=this._polyline.z2+1),Yr.__temp=!0,jr.setItemGraphicEl(Ur,Yr),Yr.stopSymbolAnimation(!0),this.group.add(Yr)}Yr.highlight()}else ChartView$1.prototype.highlight.call(this,$r,Br,Fr,zr)},_r.prototype.downplay=function($r,Br,Fr,zr){var jr=$r.getData(),Ur=queryDataIndex(jr,zr);if(this._changePolyState("normal"),Ur!=null&&Ur>=0){var Gr=jr.getItemGraphicEl(Ur);Gr&&(Gr.__temp?(jr.setItemGraphicEl(Ur,null),this.group.remove(Gr)):Gr.downplay())}else ChartView$1.prototype.downplay.call(this,$r,Br,Fr,zr)},_r.prototype._changePolyState=function($r){var Br=this._polygon;setStatesFlag(this._polyline,$r),Br&&setStatesFlag(Br,$r)},_r.prototype._newPolyline=function($r){var Br=this._polyline;return Br&&this._lineGroup.remove(Br),Br=new ECPolyline({shape:{points:$r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(Br),this._polyline=Br,Br},_r.prototype._newPolygon=function($r,Br){var Fr=this._polygon;return Fr&&this._lineGroup.remove(Fr),Fr=new ECPolygon({shape:{points:$r,stackedOnPoints:Br},segmentIgnoreThreshold:2}),this._lineGroup.add(Fr),this._polygon=Fr,Fr},_r.prototype._initSymbolLabelAnimation=function($r,Br,Fr){var zr,jr,Ur=Br.getBaseAxis(),Gr=Ur.inverse;Br.type==="cartesian2d"?(zr=Ur.isHorizontal(),jr=!1):Br.type==="polar"&&(zr=Ur.dim==="angle",jr=!0);var Yr=$r.hostModel,Kr=Yr.get("animationDuration");isFunction(Kr)&&(Kr=Kr(null));var Qr=Yr.get("animationDelay")||0,Jr=isFunction(Qr)?Qr(null):Qr;$r.eachItemGraphicEl(function(rn,an){var ln=rn;if(ln){var dn=[rn.x,rn.y],hn=void 0,gn=void 0,bn=void 0;if(Fr)if(jr){var kn=Fr,Sn=Br.pointToCoord(dn);zr?(hn=kn.startAngle,gn=kn.endAngle,bn=-Sn[1]/180*Math.PI):(hn=kn.r0,gn=kn.r,bn=Sn[0])}else{var _n=Fr;zr?(hn=_n.x,gn=_n.x+_n.width,bn=rn.x):(hn=_n.y+_n.height,gn=_n.y,bn=rn.y)}var pn=gn===hn?0:(bn-hn)/(gn-hn);Gr&&(pn=1-pn);var Cn=isFunction(Qr)?Qr(an):Kr*pn+Jr,En=ln.getSymbolPath(),Pn=En.getTextContent();ln.attr({scaleX:0,scaleY:0}),ln.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Cn}),Pn&&Pn.animateFrom({style:{opacity:0}},{duration:300,delay:Cn}),En.disableLabelAnimation=!0}})},_r.prototype._initOrUpdateEndLabel=function($r,Br,Fr){var zr=$r.getModel("endLabel");if(anyStateShowEndLabel($r)){var jr=$r.getData(),Ur=this._polyline,Gr=jr.getLayout("points");if(!Gr){Ur.removeTextContent(),this._endLabel=null;return}var Yr=this._endLabel;Yr||(Yr=this._endLabel=new ZRText$1({z2:200}),Yr.ignoreClip=!0,Ur.setTextContent(this._endLabel),Ur.disableLabelAnimation=!0);var Kr=getLastIndexNotNull(Gr);Kr>=0&&(setLabelStyle(Ur,getLabelStatesModels($r,"endLabel"),{inheritColor:Fr,labelFetcher:$r,labelDataIndex:Kr,defaultText:function(Qr,Jr,rn){return rn!=null?getDefaultInterpolatedLabel(jr,rn):getDefaultLabel(jr,Qr)},enableTextSetter:!0},getEndLabelStateSpecified(zr,Br)),Ur.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},_r.prototype._endLabelOnDuring=function($r,Br,Fr,zr,jr,Ur,Gr){var Yr=this._endLabel,Kr=this._polyline;if(Yr){$r<1&&zr.originalX==null&&(zr.originalX=Yr.x,zr.originalY=Yr.y);var Qr=Fr.getLayout("points"),Jr=Fr.hostModel,rn=Jr.get("connectNulls"),an=Ur.get("precision"),ln=Ur.get("distance")||0,dn=Gr.getBaseAxis(),hn=dn.isHorizontal(),gn=dn.inverse,bn=Br.shape,kn=gn?hn?bn.x:bn.y+bn.height:hn?bn.x+bn.width:bn.y,Sn=(hn?ln:0)*(gn?-1:1),_n=(hn?0:-ln)*(gn?-1:1),pn=hn?"x":"y",Cn=getIndexRange(Qr,kn,pn),En=Cn.range,Pn=En[1]-En[0],On=void 0;if(Pn>=1){if(Pn>1&&!rn){var jn=getPointAtIndex(Qr,En[0]);Yr.attr({x:jn[0]+Sn,y:jn[1]+_n}),jr&&(On=Jr.getRawValue(En[0]))}else{var jn=Kr.getPointOn(kn,pn);jn&&Yr.attr({x:jn[0]+Sn,y:jn[1]+_n});var Fn=Jr.getRawValue(En[0]),Wn=Jr.getRawValue(En[1]);jr&&(On=interpolateRawValues(Fr,an,Fn,Wn,Cn.t))}zr.lastFrameIndex=En[0]}else{var Hn=$r===1||zr.lastFrameIndex>0?En[0]:0,jn=getPointAtIndex(Qr,Hn);jr&&(On=Jr.getRawValue(Hn)),Yr.attr({x:jn[0]+Sn,y:jn[1]+_n})}if(jr){var qn=labelInner(Yr);typeof qn.setLabelText=="function"&&qn.setLabelText(On)}}},_r.prototype._doUpdateAnimation=function($r,Br,Fr,zr,jr,Ur,Gr){var Yr=this._polyline,Kr=this._polygon,Qr=$r.hostModel,Jr=lineAnimationDiff(this._data,$r,this._stackedOnPoints,Br,this._coordSys,Fr,this._valueOrigin),rn=Jr.current,an=Jr.stackedOnCurrent,ln=Jr.next,dn=Jr.stackedOnNext;if(jr&&(rn=turnPointsIntoStep(Jr.current,Fr,jr,Gr),an=turnPointsIntoStep(Jr.stackedOnCurrent,Fr,jr,Gr),ln=turnPointsIntoStep(Jr.next,Fr,jr,Gr),dn=turnPointsIntoStep(Jr.stackedOnNext,Fr,jr,Gr)),getBoundingDiff(rn,ln)>3e3||Kr&&getBoundingDiff(an,dn)>3e3){Yr.stopAnimation(),Yr.setShape({points:ln}),Kr&&(Kr.stopAnimation(),Kr.setShape({points:ln,stackedOnPoints:dn}));return}Yr.shape.__points=Jr.current,Yr.shape.points=rn;var hn={shape:{points:ln}};Jr.current!==rn&&(hn.shape.__points=Jr.next),Yr.stopAnimation(),updateProps$1(Yr,hn,Qr),Kr&&(Kr.setShape({points:rn,stackedOnPoints:an}),Kr.stopAnimation(),updateProps$1(Kr,{shape:{stackedOnPoints:dn}},Qr),Yr.shape.points!==Kr.shape.points&&(Kr.shape.points=Yr.shape.points));for(var gn=[],bn=Jr.status,kn=0;kn<bn.length;kn++){var Sn=bn[kn].cmd;if(Sn==="="){var _n=$r.getItemGraphicEl(bn[kn].idx1);_n&&gn.push({el:_n,ptIdx:kn})}}Yr.animators&&Yr.animators.length&&Yr.animators[0].during(function(){Kr&&Kr.dirtyShape();for(var pn=Yr.shape.__points,Cn=0;Cn<gn.length;Cn++){var En=gn[Cn].el,Pn=gn[Cn].ptIdx*2;En.x=pn[Pn],En.y=pn[Pn+1],En.markRedraw()}})},_r.prototype.remove=function($r){var Br=this.group,Fr=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),Fr&&Fr.eachItemGraphicEl(function(zr,jr){zr.__temp&&(Br.remove(zr),Fr.setItemGraphicEl(jr,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},_r.type="line",_r}(ChartView$1);const LineView$1=LineView;function pointsLayout(Fe,_r){return{seriesType:Fe,plan:createRenderPlanner(),reset:function($r){var Br=$r.getData(),Fr=$r.coordinateSystem,zr=$r.pipelineContext,jr=_r||zr.large;if(Fr){var Ur=map$1(Fr.dimensions,function(rn){return Br.mapDimension(rn)}).slice(0,2),Gr=Ur.length,Yr=Br.getCalculationInfo("stackResultDimension");isDimensionStacked(Br,Ur[0])&&(Ur[0]=Yr),isDimensionStacked(Br,Ur[1])&&(Ur[1]=Yr);var Kr=Br.getStore(),Qr=Br.getDimensionIndex(Ur[0]),Jr=Br.getDimensionIndex(Ur[1]);return Gr&&{progress:function(rn,an){for(var ln=rn.end-rn.start,dn=jr&&createFloat32Array(ln*Gr),hn=[],gn=[],bn=rn.start,kn=0;bn<rn.end;bn++){var Sn=void 0;if(Gr===1){var _n=Kr.get(Qr,bn);Sn=Fr.dataToPoint(_n,null,gn)}else hn[0]=Kr.get(Qr,bn),hn[1]=Kr.get(Jr,bn),Sn=Fr.dataToPoint(hn,null,gn);jr?(dn[kn++]=Sn[0],dn[kn++]=Sn[1]):an.setItemLayout(bn,Sn.slice())}jr&&an.setLayout("points",dn)}}}}}}var samplers={average:function(Fe){for(var _r=0,$r=0,Br=0;Br<Fe.length;Br++)isNaN(Fe[Br])||(_r+=Fe[Br],$r++);return $r===0?NaN:_r/$r},sum:function(Fe){for(var _r=0,$r=0;$r<Fe.length;$r++)_r+=Fe[$r]||0;return _r},max:function(Fe){for(var _r=-1/0,$r=0;$r<Fe.length;$r++)Fe[$r]>_r&&(_r=Fe[$r]);return isFinite(_r)?_r:NaN},min:function(Fe){for(var _r=1/0,$r=0;$r<Fe.length;$r++)Fe[$r]<_r&&(_r=Fe[$r]);return isFinite(_r)?_r:NaN},nearest:function(Fe){return Fe[0]}},indexSampler=function(Fe){return Math.round(Fe.length/2)};function dataSample(Fe){return{seriesType:Fe,reset:function(_r,$r,Br){var Fr=_r.getData(),zr=_r.get("sampling"),jr=_r.coordinateSystem,Ur=Fr.count();if(Ur>10&&jr.type==="cartesian2d"&&zr){var Gr=jr.getBaseAxis(),Yr=jr.getOtherAxis(Gr),Kr=Gr.getExtent(),Qr=Br.getDevicePixelRatio(),Jr=Math.abs(Kr[1]-Kr[0])*(Qr||1),rn=Math.round(Ur/Jr);if(isFinite(rn)&&rn>1){zr==="lttb"&&_r.setData(Fr.lttbDownSample(Fr.mapDimension(Yr.dim),1/rn));var an=void 0;isString(zr)?an=samplers[zr]:isFunction(zr)&&(an=zr),an&&_r.setData(Fr.downSample(Fr.mapDimension(Yr.dim),1/rn,an,indexSampler))}}}}}function install$Q(Fe){Fe.registerChartView(LineView$1),Fe.registerSeriesModel(LineSeries),Fe.registerLayout(pointsLayout("line",!0)),Fe.registerVisual({seriesType:"line",reset:function(_r){var $r=_r.getData(),Br=_r.getModel("lineStyle").getLineStyle();Br&&!Br.stroke&&(Br.stroke=$r.getVisual("style").fill),$r.setVisual("legendLineStyle",Br)}}),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.getInitialData=function($r,Br){return createSeriesData(null,this,{useEncodeDefaulter:!0})},_r.prototype.getMarkerPosition=function($r,Br,Fr){var zr=this.coordinateSystem;if(zr&&zr.clampData){var jr=zr.clampData($r),Ur=zr.dataToPoint(jr);if(Fr)each$f(zr.getAxes(),function(Jr,rn){if(Jr.type==="category"&&Br!=null){var an=Jr.getTicksCoords(),ln=jr[rn],dn=Br[rn]==="x1"||Br[rn]==="y1";if(dn&&(ln+=1),an.length<2)return;if(an.length===2){Ur[rn]=Jr.toGlobalCoord(Jr.getExtent()[dn?1:0]);return}for(var hn=void 0,gn=void 0,bn=1,kn=0;kn<an.length;kn++){var Sn=an[kn].coord,_n=kn===an.length-1?an[kn-1].tickValue+bn:an[kn].tickValue;if(_n===ln){gn=Sn;break}else if(_n<ln)hn=Sn;else if(hn!=null&&_n>ln){gn=(Sn+hn)/2;break}kn===1&&(bn=_n-an[0].tickValue)}gn==null&&(hn?hn&&(gn=an[an.length-1].coord):gn=an[0].coord),Ur[rn]=Jr.toGlobalCoord(gn)}});else{var Gr=this.getData(),Yr=Gr.getLayout("offset"),Kr=Gr.getLayout("size"),Qr=zr.getBaseAxis().isHorizontal()?0:1;Ur[Qr]+=Yr+Kr/2}return Ur}return[NaN,NaN]},_r.type="series.__base_bar__",_r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},_r}(SeriesModel$1);SeriesModel$1.registerClass(BaseBarSeriesModel);const BaseBarSeriesModel$1=BaseBarSeriesModel;var BarSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},_r.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},_r.prototype.getProgressiveThreshold=function(){var $r=this.get("progressiveThreshold"),Br=this.get("largeThreshold");return Br>$r&&($r=Br),$r},_r.prototype.brushSelector=function($r,Br,Fr){return Fr.rect(Br.getItemLayout($r))},_r.type="series.bar",_r.dependencies=["grid","polar"],_r.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),_r}(BaseBarSeriesModel$1);const BarSeries=BarSeriesModel;var SausageShape=function(){function Fe(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return Fe}(),SausagePath=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="sausage",Br}return _r.prototype.getDefaultShape=function(){return new SausageShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.cx,zr=Br.cy,jr=Math.max(Br.r0||0,0),Ur=Math.max(Br.r,0),Gr=(Ur-jr)*.5,Yr=jr+Gr,Kr=Br.startAngle,Qr=Br.endAngle,Jr=Br.clockwise,rn=Math.PI*2,an=Jr?Qr-Kr<rn:Kr-Qr<rn;an||(Kr=Qr-(Jr?rn:-rn));var ln=Math.cos(Kr),dn=Math.sin(Kr),hn=Math.cos(Qr),gn=Math.sin(Qr);an?($r.moveTo(ln*jr+Fr,dn*jr+zr),$r.arc(ln*Yr+Fr,dn*Yr+zr,Gr,-Math.PI+Kr,Kr,!Jr)):$r.moveTo(ln*Ur+Fr,dn*Ur+zr),$r.arc(Fr,zr,Ur,Kr,Qr,!Jr),$r.arc(hn*Yr+Fr,gn*Yr+zr,Gr,Qr-Math.PI*2,Qr-Math.PI,!Jr),jr!==0&&$r.arc(Fr,zr,jr,Qr,Kr,Jr)},_r}(Path$1);const Sausage=SausagePath;function createSectorCalculateTextPosition(Fe,_r){_r=_r||{};var $r=_r.isRoundCap;return function(Br,Fr,zr){var jr=Fr.position;if(!jr||jr instanceof Array)return calculateTextPosition(Br,Fr,zr);var Ur=Fe(jr),Gr=Fr.distance!=null?Fr.distance:5,Yr=this.shape,Kr=Yr.cx,Qr=Yr.cy,Jr=Yr.r,rn=Yr.r0,an=(Jr+rn)/2,ln=Yr.startAngle,dn=Yr.endAngle,hn=(ln+dn)/2,gn=$r?Math.abs(Jr-rn)/2:0,bn=Math.cos,kn=Math.sin,Sn=Kr+Jr*bn(ln),_n=Qr+Jr*kn(ln),pn="left",Cn="top";switch(Ur){case"startArc":Sn=Kr+(rn-Gr)*bn(hn),_n=Qr+(rn-Gr)*kn(hn),pn="center",Cn="top";break;case"insideStartArc":Sn=Kr+(rn+Gr)*bn(hn),_n=Qr+(rn+Gr)*kn(hn),pn="center",Cn="bottom";break;case"startAngle":Sn=Kr+an*bn(ln)+adjustAngleDistanceX(ln,Gr+gn,!1),_n=Qr+an*kn(ln)+adjustAngleDistanceY(ln,Gr+gn,!1),pn="right",Cn="middle";break;case"insideStartAngle":Sn=Kr+an*bn(ln)+adjustAngleDistanceX(ln,-Gr+gn,!1),_n=Qr+an*kn(ln)+adjustAngleDistanceY(ln,-Gr+gn,!1),pn="left",Cn="middle";break;case"middle":Sn=Kr+an*bn(hn),_n=Qr+an*kn(hn),pn="center",Cn="middle";break;case"endArc":Sn=Kr+(Jr+Gr)*bn(hn),_n=Qr+(Jr+Gr)*kn(hn),pn="center",Cn="bottom";break;case"insideEndArc":Sn=Kr+(Jr-Gr)*bn(hn),_n=Qr+(Jr-Gr)*kn(hn),pn="center",Cn="top";break;case"endAngle":Sn=Kr+an*bn(dn)+adjustAngleDistanceX(dn,Gr+gn,!0),_n=Qr+an*kn(dn)+adjustAngleDistanceY(dn,Gr+gn,!0),pn="left",Cn="middle";break;case"insideEndAngle":Sn=Kr+an*bn(dn)+adjustAngleDistanceX(dn,-Gr+gn,!0),_n=Qr+an*kn(dn)+adjustAngleDistanceY(dn,-Gr+gn,!0),pn="right",Cn="middle";break;default:return calculateTextPosition(Br,Fr,zr)}return Br=Br||{},Br.x=Sn,Br.y=_n,Br.align=pn,Br.verticalAlign=Cn,Br}}function setSectorTextRotation(Fe,_r,$r,Br){if(isNumber(Br)){Fe.setTextConfig({rotation:Br});return}else if(isArray$1(_r)){Fe.setTextConfig({rotation:0});return}var Fr=Fe.shape,zr=Fr.clockwise?Fr.startAngle:Fr.endAngle,jr=Fr.clockwise?Fr.endAngle:Fr.startAngle,Ur=(zr+jr)/2,Gr,Yr=$r(_r);switch(Yr){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":Gr=Ur;break;case"startAngle":case"insideStartAngle":Gr=zr;break;case"endAngle":case"insideEndAngle":Gr=jr;break;default:Fe.setTextConfig({rotation:0});return}var Kr=Math.PI*1.5-Gr;Yr==="middle"&&Kr>Math.PI/2&&Kr<Math.PI*1.5&&(Kr-=Math.PI),Fe.setTextConfig({rotation:Kr})}function adjustAngleDistanceX(Fe,_r,$r){return _r*Math.sin(Fe)*($r?-1:1)}function adjustAngleDistanceY(Fe,_r,$r){return _r*Math.cos(Fe)*($r?1:-1)}function getSectorCornerRadius(Fe,_r,$r){var Br=Fe.get("borderRadius");if(Br==null)return $r?{cornerRadius:0}:null;isArray$1(Br)||(Br=[Br,Br,Br,Br]);var Fr=Math.abs(_r.r||0-_r.r0||0);return{cornerRadius:map$1(Br,function(zr){return parsePercent$1(zr,Fr)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(Fe,_r){var $r=Fe.getArea&&Fe.getArea();if(isCoordinateSystemType(Fe,"cartesian2d")){var Br=Fe.getBaseAxis();if(Br.type!=="category"||!Br.onBand){var Fr=_r.getLayout("bandWidth");Br.isHorizontal()?($r.x-=Fr,$r.width+=Fr*2):($r.y-=Fr,$r.height+=Fr*2)}}return $r}var BarView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe.call(this)||this;return $r.type=_r.type,$r._isFirstFrame=!0,$r}return _r.prototype.render=function($r,Br,Fr,zr){this._model=$r,this._removeOnRenderedListener(Fr),this._updateDrawMode($r);var jr=$r.get("coordinateSystem");(jr==="cartesian2d"||jr==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge($r,Br,Fr):this._renderNormal($r,Br,Fr,zr))},_r.prototype.incrementalPrepareRender=function($r){this._clear(),this._updateDrawMode($r),this._updateLargeClip($r)},_r.prototype.incrementalRender=function($r,Br){this._progressiveEls=[],this._incrementalRenderLarge($r,Br)},_r.prototype.eachRendered=function($r){traverseElements(this._progressiveEls||this.group,$r)},_r.prototype._updateDrawMode=function($r){var Br=$r.pipelineContext.large;(this._isLargeDraw==null||Br!==this._isLargeDraw)&&(this._isLargeDraw=Br,this._clear())},_r.prototype._renderNormal=function($r,Br,Fr,zr){var jr=this.group,Ur=$r.getData(),Gr=this._data,Yr=$r.coordinateSystem,Kr=Yr.getBaseAxis(),Qr;Yr.type==="cartesian2d"?Qr=Kr.isHorizontal():Yr.type==="polar"&&(Qr=Kr.dim==="angle");var Jr=$r.isAnimationEnabled()?$r:null,rn=shouldRealtimeSort($r,Yr);rn&&this._enableRealtimeSort(rn,Ur,Fr);var an=$r.get("clip",!0)||rn,ln=getClipArea(Yr,Ur);jr.removeClipPath();var dn=$r.get("roundCap",!0),hn=$r.get("showBackground",!0),gn=$r.getModel("backgroundStyle"),bn=gn.get("borderRadius")||0,kn=[],Sn=this._backgroundEls,_n=zr&&zr.isInitSort,pn=zr&&zr.type==="changeAxisOrder";function Cn(On){var jn=getLayout[Yr.type](Ur,On),Fn=createBackgroundEl(Yr,Qr,jn);return Fn.useStyle(gn.getItemStyle()),Yr.type==="cartesian2d"?Fn.setShape("r",bn):Fn.setShape("cornerRadius",bn),kn[On]=Fn,Fn}Ur.diff(Gr).add(function(On){var jn=Ur.getItemModel(On),Fn=getLayout[Yr.type](Ur,On,jn);if(hn&&Cn(On),!(!Ur.hasValue(On)||!isValidLayout[Yr.type](Fn))){var Wn=!1;an&&(Wn=clip[Yr.type](ln,Fn));var Hn=elementCreator[Yr.type]($r,Ur,On,Fn,Qr,Jr,Kr.model,!1,dn);rn&&(Hn.forceLabelAnimation=!0),updateStyle(Hn,Ur,On,jn,Fn,$r,Qr,Yr.type==="polar"),_n?Hn.attr({shape:Fn}):rn?updateRealtimeAnimation(rn,Jr,Hn,Fn,On,Qr,!1,!1):initProps(Hn,{shape:Fn},$r,On),Ur.setItemGraphicEl(On,Hn),jr.add(Hn),Hn.ignore=Wn}}).update(function(On,jn){var Fn=Ur.getItemModel(On),Wn=getLayout[Yr.type](Ur,On,Fn);if(hn){var Hn=void 0;Sn.length===0?Hn=Cn(jn):(Hn=Sn[jn],Hn.useStyle(gn.getItemStyle()),Yr.type==="cartesian2d"?Hn.setShape("r",bn):Hn.setShape("cornerRadius",bn),kn[On]=Hn);var qn=getLayout[Yr.type](Ur,On),ni=createBackgroundShape(Qr,qn,Yr);updateProps$1(Hn,{shape:ni},Jr,On)}var oi=Gr.getItemGraphicEl(jn);if(!Ur.hasValue(On)||!isValidLayout[Yr.type](Wn)){jr.remove(oi);return}var wi=!1;if(an&&(wi=clip[Yr.type](ln,Wn),wi&&jr.remove(oi)),oi?saveOldStyle(oi):oi=elementCreator[Yr.type]($r,Ur,On,Wn,Qr,Jr,Kr.model,!!oi,dn),rn&&(oi.forceLabelAnimation=!0),pn){var Ci=oi.getTextContent();if(Ci){var Fi=labelInner(Ci);Fi.prevValue!=null&&(Fi.prevValue=Fi.value)}}else updateStyle(oi,Ur,On,Fn,Wn,$r,Qr,Yr.type==="polar");_n?oi.attr({shape:Wn}):rn?updateRealtimeAnimation(rn,Jr,oi,Wn,On,Qr,!0,pn):updateProps$1(oi,{shape:Wn},$r,On,null),Ur.setItemGraphicEl(On,oi),oi.ignore=wi,jr.add(oi)}).remove(function(On){var jn=Gr.getItemGraphicEl(On);jn&&removeElementWithFadeOut(jn,$r,On)}).execute();var En=this._backgroundGroup||(this._backgroundGroup=new Group$4);En.removeAll();for(var Pn=0;Pn<kn.length;++Pn)En.add(kn[Pn]);jr.add(En),this._backgroundEls=kn,this._data=Ur},_r.prototype._renderLarge=function($r,Br,Fr){this._clear(),createLarge$1($r,this.group),this._updateLargeClip($r)},_r.prototype._incrementalRenderLarge=function($r,Br){this._removeBackground(),createLarge$1(Br,this.group,this._progressiveEls,!0)},_r.prototype._updateLargeClip=function($r){var Br=$r.get("clip",!0)&&createClipPath($r.coordinateSystem,!1,$r),Fr=this.group;Br?Fr.setClipPath(Br):Fr.removeClipPath()},_r.prototype._enableRealtimeSort=function($r,Br,Fr){var zr=this;if(Br.count()){var jr=$r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(Br,$r,Fr),this._isFirstFrame=!1;else{var Ur=function(Gr){var Yr=Br.getItemGraphicEl(Gr),Kr=Yr&&Yr.shape;return Kr&&Math.abs(jr.isHorizontal()?Kr.height:Kr.width)||0};this._onRendered=function(){zr._updateSortWithinSameData(Br,Ur,jr,Fr)},Fr.getZr().on("rendered",this._onRendered)}}},_r.prototype._dataSort=function($r,Br,Fr){var zr=[];return $r.each($r.mapDimension(Br.dim),function(jr,Ur){var Gr=Fr(Ur);Gr=Gr??NaN,zr.push({dataIndex:Ur,mappedValue:Gr,ordinalNumber:jr})}),zr.sort(function(jr,Ur){return Ur.mappedValue-jr.mappedValue}),{ordinalNumbers:map$1(zr,function(jr){return jr.ordinalNumber})}},_r.prototype._isOrderChangedWithinSameData=function($r,Br,Fr){for(var zr=Fr.scale,jr=$r.mapDimension(Fr.dim),Ur=Number.MAX_VALUE,Gr=0,Yr=zr.getOrdinalMeta().categories.length;Gr<Yr;++Gr){var Kr=$r.rawIndexOf(jr,zr.getRawOrdinalNumber(Gr)),Qr=Kr<0?Number.MIN_VALUE:Br($r.indexOfRawIndex(Kr));if(Qr>Ur)return!0;Ur=Qr}return!1},_r.prototype._isOrderDifferentInView=function($r,Br){for(var Fr=Br.scale,zr=Fr.getExtent(),jr=Math.max(0,zr[0]),Ur=Math.min(zr[1],Fr.getOrdinalMeta().categories.length-1);jr<=Ur;++jr)if($r.ordinalNumbers[jr]!==Fr.getRawOrdinalNumber(jr))return!0},_r.prototype._updateSortWithinSameData=function($r,Br,Fr,zr){if(this._isOrderChangedWithinSameData($r,Br,Fr)){var jr=this._dataSort($r,Fr,Br);this._isOrderDifferentInView(jr,Fr)&&(this._removeOnRenderedListener(zr),zr.dispatchAction({type:"changeAxisOrder",componentType:Fr.dim+"Axis",axisId:Fr.index,sortInfo:jr}))}},_r.prototype._dispatchInitSort=function($r,Br,Fr){var zr=Br.baseAxis,jr=this._dataSort($r,zr,function(Ur){return $r.get($r.mapDimension(Br.otherAxis.dim),Ur)});Fr.dispatchAction({type:"changeAxisOrder",componentType:zr.dim+"Axis",isInitSort:!0,axisId:zr.index,sortInfo:jr})},_r.prototype.remove=function($r,Br){this._clear(this._model),this._removeOnRenderedListener(Br)},_r.prototype.dispose=function($r,Br){this._removeOnRenderedListener(Br)},_r.prototype._removeOnRenderedListener=function($r){this._onRendered&&($r.getZr().off("rendered",this._onRendered),this._onRendered=null)},_r.prototype._clear=function($r){var Br=this.group,Fr=this._data;$r&&$r.isAnimationEnabled()&&Fr&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],Fr.eachItemGraphicEl(function(zr){removeElementWithFadeOut(zr,$r,getECData(zr).dataIndex)})):Br.removeAll(),this._data=null,this._isFirstFrame=!0},_r.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},_r.type="bar",_r}(ChartView$1),clip={cartesian2d:function(Fe,_r){var $r=_r.width<0?-1:1,Br=_r.height<0?-1:1;$r<0&&(_r.x+=_r.width,_r.width=-_r.width),Br<0&&(_r.y+=_r.height,_r.height=-_r.height);var Fr=Fe.x+Fe.width,zr=Fe.y+Fe.height,jr=mathMax$4(_r.x,Fe.x),Ur=mathMin$4(_r.x+_r.width,Fr),Gr=mathMax$4(_r.y,Fe.y),Yr=mathMin$4(_r.y+_r.height,zr),Kr=Ur<jr,Qr=Yr<Gr;return _r.x=Kr&&jr>Fr?Ur:jr,_r.y=Qr&&Gr>zr?Yr:Gr,_r.width=Kr?0:Ur-jr,_r.height=Qr?0:Yr-Gr,$r<0&&(_r.x+=_r.width,_r.width=-_r.width),Br<0&&(_r.y+=_r.height,_r.height=-_r.height),Kr||Qr},polar:function(Fe,_r){var $r=_r.r0<=_r.r?1:-1;if($r<0){var Br=_r.r;_r.r=_r.r0,_r.r0=Br}var Fr=mathMin$4(_r.r,Fe.r),zr=mathMax$4(_r.r0,Fe.r0);_r.r=Fr,_r.r0=zr;var jr=Fr-zr<0;if($r<0){var Br=_r.r;_r.r=_r.r0,_r.r0=Br}return jr}},elementCreator={cartesian2d:function(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){var Yr=new Rect$3({shape:extend$1({},Br),z2:1});if(Yr.__dataIndex=$r,Yr.name="item",zr){var Kr=Yr.shape,Qr=Fr?"height":"width";Kr[Qr]=0}return Yr},polar:function(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){var Yr=!Fr&&Gr?Sausage:Sector$1,Kr=new Yr({shape:Br,z2:1});Kr.name="item";var Qr=createPolarPositionMapping(Fr);if(Kr.calculateTextPosition=createSectorCalculateTextPosition(Qr,{isRoundCap:Yr===Sausage}),zr){var Jr=Kr.shape,rn=Fr?"r":"endAngle",an={};Jr[rn]=Fr?Br.r0:Br.startAngle,an[rn]=Br[rn],(Ur?updateProps$1:initProps)(Kr,{shape:an},zr)}return Kr}};function shouldRealtimeSort(Fe,_r){var $r=Fe.get("realtimeSort",!0),Br=_r.getBaseAxis();if($r&&Br.type==="category"&&_r.type==="cartesian2d")return{baseAxis:Br,otherAxis:_r.getOtherAxis(Br)}}function updateRealtimeAnimation(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr,Yr;zr?(Yr={x:Br.x,width:Br.width},Gr={y:Br.y,height:Br.height}):(Yr={y:Br.y,height:Br.height},Gr={x:Br.x,width:Br.width}),Ur||(jr?updateProps$1:initProps)($r,{shape:Gr},_r,Fr,null);var Kr=_r?Fe.baseAxis.model:null;(jr?updateProps$1:initProps)($r,{shape:Yr},Kr,Fr)}function checkPropertiesNotValid(Fe,_r){for(var $r=0;$r<_r.length;$r++)if(!isFinite(Fe[_r[$r]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(Fe){return!checkPropertiesNotValid(Fe,rectPropties)},polar:function(Fe){return!checkPropertiesNotValid(Fe,polarPropties)}},getLayout={cartesian2d:function(Fe,_r,$r){var Br=Fe.getItemLayout(_r),Fr=$r?getLineWidth($r,Br):0,zr=Br.width>0?1:-1,jr=Br.height>0?1:-1;return{x:Br.x+zr*Fr/2,y:Br.y+jr*Fr/2,width:Br.width-zr*Fr,height:Br.height-jr*Fr}},polar:function(Fe,_r,$r){var Br=Fe.getItemLayout(_r);return{cx:Br.cx,cy:Br.cy,r0:Br.r0,r:Br.r,startAngle:Br.startAngle,endAngle:Br.endAngle,clockwise:Br.clockwise}}};function isZeroOnPolar(Fe){return Fe.startAngle!=null&&Fe.endAngle!=null&&Fe.startAngle===Fe.endAngle}function createPolarPositionMapping(Fe){return function(_r){var $r=_r?"Arc":"Angle";return function(Br){switch(Br){case"start":case"insideStart":case"end":case"insideEnd":return Br+$r;default:return Br}}}(Fe)}function updateStyle(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr=_r.getItemVisual($r,"style");if(Ur){if(!zr.get("roundCap")){var Kr=Fe.shape,Qr=getSectorCornerRadius(Br.getModel("itemStyle"),Kr,!0);extend$1(Kr,Qr),Fe.setShape(Kr)}}else{var Yr=Br.get(["itemStyle","borderRadius"])||0;Fe.setShape("r",Yr)}Fe.useStyle(Gr);var Jr=Br.getShallow("cursor");Jr&&Fe.attr("cursor",Jr);var rn=Ur?jr?Fr.r>=Fr.r0?"endArc":"startArc":Fr.endAngle>=Fr.startAngle?"endAngle":"startAngle":jr?Fr.height>=0?"bottom":"top":Fr.width>=0?"right":"left",an=getLabelStatesModels(Br);setLabelStyle(Fe,an,{labelFetcher:zr,labelDataIndex:$r,defaultText:getDefaultLabel(zr.getData(),$r),inheritColor:Gr.fill,defaultOpacity:Gr.opacity,defaultOutsidePosition:rn});var ln=Fe.getTextContent();if(Ur&&ln){var dn=Br.get(["label","position"]);Fe.textConfig.inside=dn==="middle"?!0:null,setSectorTextRotation(Fe,dn==="outside"?rn:dn,createPolarPositionMapping(jr),Br.get(["label","rotate"]))}setLabelValueAnimation(ln,an,zr.getRawValue($r),function(gn){return getDefaultInterpolatedLabel(_r,gn)});var hn=Br.getModel(["emphasis"]);toggleHoverEmphasis(Fe,hn.get("focus"),hn.get("blurScope"),hn.get("disabled")),setStatesStylesFromModel(Fe,Br),isZeroOnPolar(Fr)&&(Fe.style.fill="none",Fe.style.stroke="none",each$f(Fe.states,function(gn){gn.style&&(gn.style.fill=gn.style.stroke="none")}))}function getLineWidth(Fe,_r){var $r=Fe.get(["itemStyle","borderColor"]);if(!$r||$r==="none")return 0;var Br=Fe.get(["itemStyle","borderWidth"])||0,Fr=isNaN(_r.width)?Number.MAX_VALUE:Math.abs(_r.width),zr=isNaN(_r.height)?Number.MAX_VALUE:Math.abs(_r.height);return Math.min(Br,Fr,zr)}var LagePathShape=function(){function Fe(){}return Fe}(),LargePath=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="largeBar",Br}return _r.prototype.getDefaultShape=function(){return new LagePathShape},_r.prototype.buildPath=function($r,Br){for(var Fr=Br.points,zr=this.baseDimIdx,jr=1-this.baseDimIdx,Ur=[],Gr=[],Yr=this.barWidth,Kr=0;Kr<Fr.length;Kr+=3)Gr[zr]=Yr,Gr[jr]=Fr[Kr+2],Ur[zr]=Fr[Kr+zr],Ur[jr]=Fr[Kr+jr],$r.rect(Ur[0],Ur[1],Gr[0],Gr[1])},_r}(Path$1);function createLarge$1(Fe,_r,$r,Br){var Fr=Fe.getData(),zr=Fr.getLayout("valueAxisHorizontal")?1:0,jr=Fr.getLayout("largeDataIndices"),Ur=Fr.getLayout("size"),Gr=Fe.getModel("backgroundStyle"),Yr=Fr.getLayout("largeBackgroundPoints");if(Yr){var Kr=new LargePath({shape:{points:Yr},incremental:!!Br,silent:!0,z2:0});Kr.baseDimIdx=zr,Kr.largeDataIndices=jr,Kr.barWidth=Ur,Kr.useStyle(Gr.getItemStyle()),_r.add(Kr),$r&&$r.push(Kr)}var Qr=new LargePath({shape:{points:Fr.getLayout("largePoints")},incremental:!!Br,ignoreCoarsePointer:!0,z2:1});Qr.baseDimIdx=zr,Qr.largeDataIndices=jr,Qr.barWidth=Ur,_r.add(Qr),Qr.useStyle(Fr.getVisual("style")),getECData(Qr).seriesIndex=Fe.seriesIndex,Fe.get("silent")||(Qr.on("mousedown",largePathUpdateDataIndex),Qr.on("mousemove",largePathUpdateDataIndex)),$r&&$r.push(Qr)}var largePathUpdateDataIndex=throttle(function(Fe){var _r=this,$r=largePathFindDataIndex(_r,Fe.offsetX,Fe.offsetY);getECData(_r).dataIndex=$r>=0?$r:null},30,!1);function largePathFindDataIndex(Fe,_r,$r){for(var Br=Fe.baseDimIdx,Fr=1-Br,zr=Fe.shape.points,jr=Fe.largeDataIndices,Ur=[],Gr=[],Yr=Fe.barWidth,Kr=0,Qr=zr.length/3;Kr<Qr;Kr++){var Jr=Kr*3;if(Gr[Br]=Yr,Gr[Fr]=zr[Jr+2],Ur[Br]=zr[Jr+Br],Ur[Fr]=zr[Jr+Fr],Gr[Fr]<0&&(Ur[Fr]+=Gr[Fr],Gr[Fr]=-Gr[Fr]),_r>=Ur[0]&&_r<=Ur[0]+Gr[0]&&$r>=Ur[1]&&$r<=Ur[1]+Gr[1])return jr[Kr]}return-1}function createBackgroundShape(Fe,_r,$r){if(isCoordinateSystemType($r,"cartesian2d")){var Br=_r,Fr=$r.getArea();return{x:Fe?Br.x:Fr.x,y:Fe?Fr.y:Br.y,width:Fe?Br.width:Fr.width,height:Fe?Fr.height:Br.height}}else{var Fr=$r.getArea(),zr=_r;return{cx:Fr.cx,cy:Fr.cy,r0:Fe?Fr.r0:zr.r0,r:Fe?Fr.r:zr.r,startAngle:Fe?zr.startAngle:0,endAngle:Fe?zr.endAngle:Math.PI*2}}}function createBackgroundEl(Fe,_r,$r){var Br=Fe.type==="polar"?Sector$1:Rect$3;return new Br({shape:createBackgroundShape(_r,$r,Fe),silent:!0,z2:0})}const BarView$1=BarView;function install$P(Fe){Fe.registerChartView(BarView$1),Fe.registerSeriesModel(BarSeries),Fe.registerLayout(Fe.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),Fe.registerLayout(Fe.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),Fe.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(_r,$r){var Br=_r.componentType||"series";$r.eachComponent({mainType:Br,query:_r},function(Fr){_r.sortInfo&&Fr.axis.setCategorySortInfo(_r.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(Fe,_r){return getLayoutRect(Fe.getBoxLayoutParams(),{width:_r.getWidth(),height:_r.getHeight()})}function getBasicPieLayout(Fe,_r){var $r=getViewRect$5(Fe,_r),Br=Fe.get("center"),Fr=Fe.get("radius");isArray$1(Fr)||(Fr=[0,Fr]);var zr=parsePercent($r.width,_r.getWidth()),jr=parsePercent($r.height,_r.getHeight()),Ur=Math.min(zr,jr),Gr=parsePercent(Fr[0],Ur/2),Yr=parsePercent(Fr[1],Ur/2),Kr,Qr,Jr=Fe.coordinateSystem;if(Jr){var rn=Jr.dataToPoint(Br);Kr=rn[0]||0,Qr=rn[1]||0}else isArray$1(Br)||(Br=[Br,Br]),Kr=parsePercent(Br[0],zr)+$r.x,Qr=parsePercent(Br[1],jr)+$r.y;return{cx:Kr,cy:Qr,r0:Gr,r:Yr}}function pieLayout(Fe,_r,$r){_r.eachSeriesByType(Fe,function(Br){var Fr=Br.getData(),zr=Fr.mapDimension("value"),jr=getViewRect$5(Br,$r),Ur=getBasicPieLayout(Br,$r),Gr=Ur.cx,Yr=Ur.cy,Kr=Ur.r,Qr=Ur.r0,Jr=-Br.get("startAngle")*RADIAN$2,rn=Br.get("minAngle")*RADIAN$2,an=0;Fr.each(zr,function(Pn){!isNaN(Pn)&&an++});var ln=Fr.getSum(zr),dn=Math.PI/(ln||an)*2,hn=Br.get("clockwise"),gn=Br.get("roseType"),bn=Br.get("stillShowZeroSum"),kn=Fr.getDataExtent(zr);kn[0]=0;var Sn=PI2,_n=0,pn=Jr,Cn=hn?1:-1;if(Fr.setLayout({viewRect:jr,r:Kr}),Fr.each(zr,function(Pn,On){var jn;if(isNaN(Pn)){Fr.setItemLayout(On,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:hn,cx:Gr,cy:Yr,r0:Qr,r:gn?NaN:Kr});return}gn!=="area"?jn=ln===0&&bn?dn:Pn*dn:jn=PI2/an,jn<rn?(jn=rn,Sn-=rn):_n+=Pn;var Fn=pn+Cn*jn;Fr.setItemLayout(On,{angle:jn,startAngle:pn,endAngle:Fn,clockwise:hn,cx:Gr,cy:Yr,r0:Qr,r:gn?linearMap$2(Pn,kn,[Qr,Kr]):Kr}),pn=Fn}),Sn<PI2&&an)if(Sn<=.001){var En=PI2/an;Fr.each(zr,function(Pn,On){if(!isNaN(Pn)){var jn=Fr.getItemLayout(On);jn.angle=En,jn.startAngle=Jr+Cn*On*En,jn.endAngle=Jr+Cn*(On+1)*En}})}else dn=Sn/_n,pn=Jr,Fr.each(zr,function(Pn,On){if(!isNaN(Pn)){var jn=Fr.getItemLayout(On),Fn=jn.angle===rn?rn:Pn*dn;jn.startAngle=pn,jn.endAngle=pn+Cn*Fn,pn+=Cn*Fn}})})}function dataFilter$1(Fe){return{seriesType:Fe,reset:function(_r,$r){var Br=$r.findComponents({mainType:"legend"});if(!(!Br||!Br.length)){var Fr=_r.getData();Fr.filterSelf(function(zr){for(var jr=Fr.getName(zr),Ur=0;Ur<Br.length;Ur++)if(!Br[Ur].isSelected(jr))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr){if(Fe.length<2)return;function Kr(ln){for(var dn=ln.rB,hn=dn*dn,gn=0;gn<ln.list.length;gn++){var bn=ln.list[gn],kn=Math.abs(bn.label.y-$r),Sn=Br+bn.len,_n=Sn*Sn,pn=Math.sqrt((1-Math.abs(kn*kn/hn))*_n),Cn=_r+(pn+bn.len2)*Fr,En=Cn-bn.label.x,Pn=bn.targetTextWidth-En*Fr;constrainTextWidth(bn,Pn,!0),bn.label.x=Cn}}function Qr(ln){for(var dn={list:[],maxY:0},hn={list:[],maxY:0},gn=0;gn<ln.length;gn++)if(ln[gn].labelAlignTo==="none"){var bn=ln[gn],kn=bn.label.y>$r?hn:dn,Sn=Math.abs(bn.label.y-$r);if(Sn>=kn.maxY){var _n=bn.label.x-_r-bn.len2*Fr,pn=Br+bn.len,Cn=Math.abs(_n)<pn?Math.sqrt(Sn*Sn/(1-_n*_n/pn/pn)):pn;kn.rB=Cn,kn.maxY=Sn}kn.list.push(bn)}Kr(dn),Kr(hn)}for(var Jr=Fe.length,rn=0;rn<Jr;rn++)if(Fe[rn].position==="outer"&&Fe[rn].labelAlignTo==="labelLine"){var an=Fe[rn].label.x-Yr;Fe[rn].linePoints[1][0]+=an,Fe[rn].label.x=Yr}shiftLayoutOnY(Fe,Gr,Gr+jr)&&Qr(Fe)}function avoidOverlap(Fe,_r,$r,Br,Fr,zr,jr,Ur){for(var Gr=[],Yr=[],Kr=Number.MAX_VALUE,Qr=-Number.MAX_VALUE,Jr=0;Jr<Fe.length;Jr++){var rn=Fe[Jr].label;isPositionCenter(Fe[Jr])||(rn.x<_r?(Kr=Math.min(Kr,rn.x),Gr.push(Fe[Jr])):(Qr=Math.max(Qr,rn.x),Yr.push(Fe[Jr])))}for(var Jr=0;Jr<Fe.length;Jr++){var an=Fe[Jr];if(!isPositionCenter(an)&&an.linePoints){if(an.labelStyleWidth!=null)continue;var rn=an.label,ln=an.linePoints,dn=void 0;an.labelAlignTo==="edge"?rn.x<_r?dn=ln[2][0]-an.labelDistance-jr-an.edgeDistance:dn=jr+Fr-an.edgeDistance-ln[2][0]-an.labelDistance:an.labelAlignTo==="labelLine"?rn.x<_r?dn=Kr-jr-an.bleedMargin:dn=jr+Fr-Qr-an.bleedMargin:rn.x<_r?dn=rn.x-jr-an.bleedMargin:dn=jr+Fr-rn.x-an.bleedMargin,an.targetTextWidth=dn,constrainTextWidth(an,dn)}}adjustSingleSide(Yr,_r,$r,Br,1,Fr,zr,jr,Ur,Qr),adjustSingleSide(Gr,_r,$r,Br,-1,Fr,zr,jr,Ur,Kr);for(var Jr=0;Jr<Fe.length;Jr++){var an=Fe[Jr];if(!isPositionCenter(an)&&an.linePoints){var rn=an.label,ln=an.linePoints,hn=an.labelAlignTo==="edge",gn=rn.style.padding,bn=gn?gn[1]+gn[3]:0,kn=rn.style.backgroundColor?0:bn,Sn=an.rect.width+kn,_n=ln[1][0]-ln[2][0];hn?rn.x<_r?ln[2][0]=jr+an.edgeDistance+Sn+an.labelDistance:ln[2][0]=jr+Fr-an.edgeDistance-Sn-an.labelDistance:(rn.x<_r?ln[2][0]=rn.x+an.labelDistance:ln[2][0]=rn.x-an.labelDistance,ln[1][0]=ln[2][0]+_n),ln[1][1]=ln[2][1]=rn.y}}}function constrainTextWidth(Fe,_r,$r){if($r===void 0&&($r=!1),Fe.labelStyleWidth==null){var Br=Fe.label,Fr=Br.style,zr=Fe.rect,jr=Fr.backgroundColor,Ur=Fr.padding,Gr=Ur?Ur[1]+Ur[3]:0,Yr=Fr.overflow,Kr=zr.width+(jr?0:Gr);if(_r<Kr||$r){var Qr=zr.height;if(Yr&&Yr.match("break")){Br.setStyle("backgroundColor",null),Br.setStyle("width",_r-Gr);var Jr=Br.getBoundingRect();Br.setStyle("width",Math.ceil(Jr.width)),Br.setStyle("backgroundColor",jr)}else{var rn=_r-Gr,an=_r<Kr?rn:$r?rn>Fe.unconstrainedWidth?null:rn:null;Br.setStyle("width",an)}var ln=Br.getBoundingRect();zr.width=ln.width;var dn=(Br.style.margin||0)+2.1;zr.height=ln.height+dn,zr.y-=(zr.height-Qr)/2}}}function isPositionCenter(Fe){return Fe.position==="center"}function pieLabelLayout(Fe){var _r=Fe.getData(),$r=[],Br,Fr,zr=!1,jr=(Fe.get("minShowLabelAngle")||0)*RADIAN$1,Ur=_r.getLayout("viewRect"),Gr=_r.getLayout("r"),Yr=Ur.width,Kr=Ur.x,Qr=Ur.y,Jr=Ur.height;function rn(_n){_n.ignore=!0}function an(_n){if(!_n.ignore)return!0;for(var pn in _n.states)if(_n.states[pn].ignore===!1)return!0;return!1}_r.each(function(_n){var pn=_r.getItemGraphicEl(_n),Cn=pn.shape,En=pn.getTextContent(),Pn=pn.getTextGuideLine(),On=_r.getItemModel(_n),jn=On.getModel("label"),Fn=jn.get("position")||On.get(["emphasis","label","position"]),Wn=jn.get("distanceToLabelLine"),Hn=jn.get("alignTo"),qn=parsePercent(jn.get("edgeDistance"),Yr),ni=jn.get("bleedMargin"),oi=On.getModel("labelLine"),wi=oi.get("length");wi=parsePercent(wi,Yr);var Ci=oi.get("length2");if(Ci=parsePercent(Ci,Yr),Math.abs(Cn.endAngle-Cn.startAngle)<jr){each$f(En.states,rn),En.ignore=!0,Pn&&(each$f(Pn.states,rn),Pn.ignore=!0);return}if(an(En)){var Fi=(Cn.startAngle+Cn.endAngle)/2,Zn=Math.cos(Fi),Gn=Math.sin(Fi),ui,Ni,$i,Vi;Br=Cn.cx,Fr=Cn.cy;var ji=Fn==="inside"||Fn==="inner";if(Fn==="center")ui=Cn.cx,Ni=Cn.cy,Vi="center";else{var lo=(ji?(Cn.r+Cn.r0)/2*Zn:Cn.r*Zn)+Br,ho=(ji?(Cn.r+Cn.r0)/2*Gn:Cn.r*Gn)+Fr;if(ui=lo+Zn*3,Ni=ho+Gn*3,!ji){var so=lo+Zn*(wi+Gr-Cn.r),Ki=ho+Gn*(wi+Gr-Cn.r),Ho=so+(Zn<0?-1:1)*Ci,Io=Ki;Hn==="edge"?ui=Zn<0?Kr+qn:Kr+Yr-qn:ui=Ho+(Zn<0?-Wn:Wn),Ni=Io,$i=[[lo,ho],[so,Ki],[Ho,Io]]}Vi=ji?"center":Hn==="edge"?Zn>0?"right":"left":Zn>0?"left":"right"}var Ji=Math.PI,Yo=0,qo=jn.get("rotate");if(isNumber(qo))Yo=qo*(Ji/180);else if(Fn==="center")Yo=0;else if(qo==="radial"||qo===!0){var xo=Zn<0?-Fi+Ji:-Fi;Yo=xo}else if(qo==="tangential"&&Fn!=="outside"&&Fn!=="outer"){var ka=Math.atan2(Zn,Gn);ka<0&&(ka=Ji*2+ka);var Ua=Gn>0;Ua&&(ka=Ji+ka),Yo=ka-Ji}if(zr=!!Yo,En.x=ui,En.y=Ni,En.rotation=Yo,En.setStyle({verticalAlign:"middle"}),ji){En.setStyle({align:Vi});var Aa=En.states.select;Aa&&(Aa.x+=En.x,Aa.y+=En.y)}else{var $a=En.getBoundingRect().clone();$a.applyTransform(En.getComputedTransform());var Ya=(En.style.margin||0)+2.1;$a.y-=Ya/2,$a.height+=Ya,$r.push({label:En,labelLine:Pn,position:Fn,len:wi,len2:Ci,minTurnAngle:oi.get("minTurnAngle"),maxSurfaceAngle:oi.get("maxSurfaceAngle"),surfaceNormal:new Point$1(Zn,Gn),linePoints:$i,textAlign:Vi,labelDistance:Wn,labelAlignTo:Hn,edgeDistance:qn,bleedMargin:ni,rect:$a,unconstrainedWidth:$a.width,labelStyleWidth:En.style.width})}pn.setTextConfig({inside:ji})}}),!zr&&Fe.get("avoidLabelOverlap")&&avoidOverlap($r,Br,Fr,Gr,Yr,Jr,Kr,Qr);for(var ln=0;ln<$r.length;ln++){var dn=$r[ln],hn=dn.label,gn=dn.labelLine,bn=isNaN(hn.x)||isNaN(hn.y);if(hn){hn.setStyle({align:dn.textAlign}),bn&&(each$f(hn.states,rn),hn.ignore=!0);var kn=hn.states.select;kn&&(kn.x+=hn.x,kn.y+=hn.y)}if(gn){var Sn=dn.linePoints;bn||!Sn?(each$f(gn.states,rn),gn.ignore=!0):(limitTurnAngle(Sn,dn.minTurnAngle),limitSurfaceAngle(Sn,dn.surfaceNormal,dn.maxSurfaceAngle),gn.setShape({points:Sn}),hn.__hostTarget.textGuideLineConfig={anchor:new Point$1(Sn[0][0],Sn[0][1])})}}}var PiePiece=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this)||this;zr.z2=2;var jr=new ZRText$1;return zr.setTextContent(jr),zr.updateData($r,Br,Fr,!0),zr}return _r.prototype.updateData=function($r,Br,Fr,zr){var jr=this,Ur=$r.hostModel,Gr=$r.getItemModel(Br),Yr=Gr.getModel("emphasis"),Kr=$r.getItemLayout(Br),Qr=extend$1(getSectorCornerRadius(Gr.getModel("itemStyle"),Kr,!0),Kr);if(isNaN(Qr.startAngle)){jr.setShape(Qr);return}if(zr){jr.setShape(Qr);var Jr=Ur.getShallow("animationType");Ur.ecModel.ssr?(initProps(jr,{scaleX:0,scaleY:0},Ur,{dataIndex:Br,isFrom:!0}),jr.originX=Qr.cx,jr.originY=Qr.cy):Jr==="scale"?(jr.shape.r=Kr.r0,initProps(jr,{shape:{r:Kr.r}},Ur,Br)):Fr!=null?(jr.setShape({startAngle:Fr,endAngle:Fr}),initProps(jr,{shape:{startAngle:Kr.startAngle,endAngle:Kr.endAngle}},Ur,Br)):(jr.shape.endAngle=Kr.startAngle,updateProps$1(jr,{shape:{endAngle:Kr.endAngle}},Ur,Br))}else saveOldStyle(jr),updateProps$1(jr,{shape:Qr},Ur,Br);jr.useStyle($r.getItemVisual(Br,"style")),setStatesStylesFromModel(jr,Gr);var rn=(Kr.startAngle+Kr.endAngle)/2,an=Ur.get("selectedOffset"),ln=Math.cos(rn)*an,dn=Math.sin(rn)*an,hn=Gr.getShallow("cursor");hn&&jr.attr("cursor",hn),this._updateLabel(Ur,$r,Br),jr.ensureState("emphasis").shape=extend$1({r:Kr.r+(Yr.get("scale")&&Yr.get("scaleSize")||0)},getSectorCornerRadius(Yr.getModel("itemStyle"),Kr)),extend$1(jr.ensureState("select"),{x:ln,y:dn,shape:getSectorCornerRadius(Gr.getModel(["select","itemStyle"]),Kr)}),extend$1(jr.ensureState("blur"),{shape:getSectorCornerRadius(Gr.getModel(["blur","itemStyle"]),Kr)});var gn=jr.getTextGuideLine(),bn=jr.getTextContent();gn&&extend$1(gn.ensureState("select"),{x:ln,y:dn}),extend$1(bn.ensureState("select"),{x:ln,y:dn}),toggleHoverEmphasis(this,Yr.get("focus"),Yr.get("blurScope"),Yr.get("disabled"))},_r.prototype._updateLabel=function($r,Br,Fr){var zr=this,jr=Br.getItemModel(Fr),Ur=jr.getModel("labelLine"),Gr=Br.getItemVisual(Fr,"style"),Yr=Gr&&Gr.fill,Kr=Gr&&Gr.opacity;setLabelStyle(zr,getLabelStatesModels(jr),{labelFetcher:Br.hostModel,labelDataIndex:Fr,inheritColor:Yr,defaultOpacity:Kr,defaultText:$r.getFormattedLabel(Fr,"normal")||Br.getName(Fr)});var Qr=zr.getTextContent();zr.setTextConfig({position:null,rotation:null}),Qr.attr({z2:10});var Jr=$r.get(["label","position"]);if(Jr!=="outside"&&Jr!=="outer")zr.removeTextGuideLine();else{var rn=this.getTextGuideLine();rn||(rn=new Polyline$3,this.setTextGuideLine(rn)),setLabelLineStyle(this,getLabelLineStatesModels(jr),{stroke:Yr,opacity:retrieve3(Ur.get(["lineStyle","opacity"]),Kr,1)})}},_r}(Sector$1),PieView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.ignoreLabelLineUpdate=!0,$r}return _r.prototype.render=function($r,Br,Fr,zr){var jr=$r.getData(),Ur=this._data,Gr=this.group,Yr;if(!Ur&&jr.count()>0){for(var Kr=jr.getItemLayout(0),Qr=1;isNaN(Kr&&Kr.startAngle)&&Qr<jr.count();++Qr)Kr=jr.getItemLayout(Qr);Kr&&(Yr=Kr.startAngle)}if(this._emptyCircleSector&&Gr.remove(this._emptyCircleSector),jr.count()===0&&$r.get("showEmptyCircle")){var Jr=new Sector$1({shape:getBasicPieLayout($r,Fr)});Jr.useStyle($r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=Jr,Gr.add(Jr)}jr.diff(Ur).add(function(rn){var an=new PiePiece(jr,rn,Yr);jr.setItemGraphicEl(rn,an),Gr.add(an)}).update(function(rn,an){var ln=Ur.getItemGraphicEl(an);ln.updateData(jr,rn,Yr),ln.off("click"),Gr.add(ln),jr.setItemGraphicEl(rn,ln)}).remove(function(rn){var an=Ur.getItemGraphicEl(rn);removeElementWithFadeOut(an,$r,rn)}).execute(),pieLabelLayout($r),$r.get("animationTypeUpdate")!=="expansion"&&(this._data=jr)},_r.prototype.dispose=function(){},_r.prototype.containPoint=function($r,Br){var Fr=Br.getData(),zr=Fr.getItemLayout(0);if(zr){var jr=$r[0]-zr.cx,Ur=$r[1]-zr.cy,Gr=Math.sqrt(jr*jr+Ur*Ur);return Gr<=zr.r&&Gr>=zr.r0}},_r.type="pie",_r}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(Fe,_r,$r){_r=isArray$1(_r)&&{coordDimensions:_r}||extend$1({encodeDefine:Fe.getEncode()},_r);var Br=Fe.getSource(),Fr=prepareSeriesDataSchema(Br,_r).dimensions,zr=new SeriesData$1(Fr,Fe);return zr.initData(Br,$r),zr}var LegendVisualProvider=function(){function Fe(_r,$r){this._getDataWithEncodedVisual=_r,this._getRawData=$r}return Fe.prototype.getAllNames=function(){var _r=this._getRawData();return _r.mapArray(_r.getName)},Fe.prototype.containName=function(_r){var $r=this._getRawData();return $r.indexOfName(_r)>=0},Fe.prototype.indexOfName=function(_r){var $r=this._getDataWithEncodedVisual();return $r.indexOfName(_r)},Fe.prototype.getItemVisual=function(_r,$r){var Br=this._getDataWithEncodedVisual();return Br.getItemVisual(_r,$r)},Fe}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.init=function($r){Fe.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine($r)},_r.prototype.mergeOption=function(){Fe.prototype.mergeOption.apply(this,arguments)},_r.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},_r.prototype.getDataParams=function($r){var Br=this.getData(),Fr=innerData(Br),zr=Fr.seats;if(!zr){var jr=[];Br.each(Br.mapDimension("value"),function(Gr){jr.push(Gr)}),zr=Fr.seats=getPercentSeats(jr,Br.hostModel.get("percentPrecision"))}var Ur=Fe.prototype.getDataParams.call(this,$r);return Ur.percent=zr[$r]||0,Ur.$vars.push("percent"),Ur},_r.prototype._defaultLabelLine=function($r){defaultEmphasis($r,"labelLine",["show"]);var Br=$r.labelLine,Fr=$r.emphasis.labelLine;Br.show=Br.show&&$r.label.show,Fr.show=Fr.show&&$r.emphasis.label.show},_r.type="series.pie",_r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},_r}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(Fe){return{seriesType:Fe,reset:function(_r,$r){var Br=_r.getData();Br.filterSelf(function(Fr){var zr=Br.mapDimension("value"),jr=Br.get(zr,Fr);return!(isNumber(jr)&&!isNaN(jr)&&jr<0)})}}}function install$O(Fe){Fe.registerChartView(PieView$1),Fe.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",Fe.registerAction),Fe.registerLayout(curry$1(pieLayout,"pie")),Fe.registerProcessor(dataFilter$1("pie")),Fe.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.hasSymbolVisual=!0,$r}return _r.prototype.getInitialData=function($r,Br){return createSeriesData(null,this,{useEncodeDefaulter:!0})},_r.prototype.getProgressive=function(){var $r=this.option.progressive;return $r??(this.option.large?5e3:this.get("progressive"))},_r.prototype.getProgressiveThreshold=function(){var $r=this.option.progressiveThreshold;return $r??(this.option.large?1e4:this.get("progressiveThreshold"))},_r.prototype.brushSelector=function($r,Br,Fr){return Fr.point(Br.getItemLayout($r))},_r.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},_r.type="series.scatter",_r.dependencies=["grid","polar","geo","singleAxis","calendar"],_r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},_r}(SeriesModel$1);const ScatterSeriesModel$1=ScatterSeriesModel;var BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function Fe(){}return Fe}(),LargeSymbolPath=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br._off=0,Br.hoverDataIdx=-1,Br}return _r.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},_r.prototype.reset=function(){this.notClear=!1,this._off=0},_r.prototype.buildPath=function($r,Br){var Fr=Br.points,zr=Br.size,jr=this.symbolProxy,Ur=jr.shape,Gr=$r.getContext?$r.getContext():$r,Yr=Gr&&zr[0]<BOOST_SIZE_THRESHOLD,Kr=this.softClipShape,Qr;if(Yr){this._ctx=Gr;return}for(this._ctx=null,Qr=this._off;Qr<Fr.length;){var Jr=Fr[Qr++],rn=Fr[Qr++];isNaN(Jr)||isNaN(rn)||Kr&&!Kr.contain(Jr,rn)||(Ur.x=Jr-zr[0]/2,Ur.y=rn-zr[1]/2,Ur.width=zr[0],Ur.height=zr[1],jr.buildPath($r,Ur,!0))}this.incremental&&(this._off=Qr,this.notClear=!0)},_r.prototype.afterBrush=function(){var $r=this.shape,Br=$r.points,Fr=$r.size,zr=this._ctx,jr=this.softClipShape,Ur;if(zr){for(Ur=this._off;Ur<Br.length;){var Gr=Br[Ur++],Yr=Br[Ur++];isNaN(Gr)||isNaN(Yr)||jr&&!jr.contain(Gr,Yr)||zr.fillRect(Gr-Fr[0]/2,Yr-Fr[1]/2,Fr[0],Fr[1])}this.incremental&&(this._off=Ur,this.notClear=!0)}},_r.prototype.findDataIndex=function($r,Br){for(var Fr=this.shape,zr=Fr.points,jr=Fr.size,Ur=Math.max(jr[0],4),Gr=Math.max(jr[1],4),Yr=zr.length/2-1;Yr>=0;Yr--){var Kr=Yr*2,Qr=zr[Kr]-Ur/2,Jr=zr[Kr+1]-Gr/2;if($r>=Qr&&Br>=Jr&&$r<=Qr+Ur&&Br<=Jr+Gr)return Yr}return-1},_r.prototype.contain=function($r,Br){var Fr=this.transformCoordToLocal($r,Br),zr=this.getBoundingRect();if($r=Fr[0],Br=Fr[1],zr.contain($r,Br)){var jr=this.hoverDataIdx=this.findDataIndex($r,Br);return jr>=0}return this.hoverDataIdx=-1,!1},_r.prototype.getBoundingRect=function(){var $r=this._rect;if(!$r){for(var Br=this.shape,Fr=Br.points,zr=Br.size,jr=zr[0],Ur=zr[1],Gr=1/0,Yr=1/0,Kr=-1/0,Qr=-1/0,Jr=0;Jr<Fr.length;){var rn=Fr[Jr++],an=Fr[Jr++];Gr=Math.min(rn,Gr),Kr=Math.max(rn,Kr),Yr=Math.min(an,Yr),Qr=Math.max(an,Qr)}$r=this._rect=new BoundingRect$1(Gr-jr/2,Yr-Ur/2,Kr-Gr+jr,Qr-Yr+Ur)}return $r},_r}(Path$1),LargeSymbolDraw=function(){function Fe(){this.group=new Group$4}return Fe.prototype.updateData=function(_r,$r){this._clear();var Br=this._create();Br.setShape({points:_r.getLayout("points")}),this._setCommon(Br,_r,$r)},Fe.prototype.updateLayout=function(_r){var $r=_r.getLayout("points");this.group.eachChild(function(Br){if(Br.startIndex!=null){var Fr=(Br.endIndex-Br.startIndex)*2,zr=Br.startIndex*4*2;$r=new Float32Array($r.buffer,zr,Fr)}Br.setShape("points",$r),Br.reset()})},Fe.prototype.incrementalPrepareUpdate=function(_r){this._clear()},Fe.prototype.incrementalUpdate=function(_r,$r,Br){var Fr=this._newAdded[0],zr=$r.getLayout("points"),jr=Fr&&Fr.shape.points;if(jr&&jr.length<2e4){var Ur=jr.length,Gr=new Float32Array(Ur+zr.length);Gr.set(jr),Gr.set(zr,Ur),Fr.endIndex=_r.end,Fr.setShape({points:Gr})}else{this._newAdded=[];var Yr=this._create();Yr.startIndex=_r.start,Yr.endIndex=_r.end,Yr.incremental=!0,Yr.setShape({points:zr}),this._setCommon(Yr,$r,Br)}},Fe.prototype.eachRendered=function(_r){this._newAdded[0]&&_r(this._newAdded[0])},Fe.prototype._create=function(){var _r=new LargeSymbolPath({cursor:"default"});return _r.ignoreCoarsePointer=!0,this.group.add(_r),this._newAdded.push(_r),_r},Fe.prototype._setCommon=function(_r,$r,Br){var Fr=$r.hostModel;Br=Br||{};var zr=$r.getVisual("symbolSize");_r.setShape("size",zr instanceof Array?zr:[zr,zr]),_r.softClipShape=Br.clipShape||null,_r.symbolProxy=createSymbol$1($r.getVisual("symbol"),0,0,0,0),_r.setColor=_r.symbolProxy.setColor;var jr=_r.shape.size[0]<BOOST_SIZE_THRESHOLD;_r.useStyle(Fr.getModel("itemStyle").getItemStyle(jr?["color","shadowBlur","shadowColor"]:["color"]));var Ur=$r.getVisual("style"),Gr=Ur&&Ur.fill;Gr&&_r.setColor(Gr);var Yr=getECData(_r);Yr.seriesIndex=Fr.seriesIndex,_r.on("mousemove",function(Kr){Yr.dataIndex=null;var Qr=_r.hoverDataIdx;Qr>=0&&(Yr.dataIndex=Qr+(_r.startIndex||0))})},Fe.prototype.remove=function(){this._clear()},Fe.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},Fe}();const LargeSymbolDraw$1=LargeSymbolDraw;var ScatterView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){var zr=$r.getData(),jr=this._updateSymbolDraw(zr,$r);jr.updateData(zr,{clipShape:this._getClipShape($r)}),this._finished=!0},_r.prototype.incrementalPrepareRender=function($r,Br,Fr){var zr=$r.getData(),jr=this._updateSymbolDraw(zr,$r);jr.incrementalPrepareUpdate(zr),this._finished=!1},_r.prototype.incrementalRender=function($r,Br,Fr){this._symbolDraw.incrementalUpdate($r,Br.getData(),{clipShape:this._getClipShape(Br)}),this._finished=$r.end===Br.getData().count()},_r.prototype.updateTransform=function($r,Br,Fr){var zr=$r.getData();if(this.group.dirty(),!this._finished||zr.count()>1e4)return{update:!0};var jr=pointsLayout("").reset($r,Br,Fr);jr.progress&&jr.progress({start:0,end:zr.count(),count:zr.count()},zr),this._symbolDraw.updateLayout(zr)},_r.prototype.eachRendered=function($r){this._symbolDraw&&this._symbolDraw.eachRendered($r)},_r.prototype._getClipShape=function($r){var Br=$r.coordinateSystem,Fr=Br&&Br.getArea&&Br.getArea();return $r.get("clip",!0)?Fr:null},_r.prototype._updateSymbolDraw=function($r,Br){var Fr=this._symbolDraw,zr=Br.pipelineContext,jr=zr.large;return(!Fr||jr!==this._isLargeDraw)&&(Fr&&Fr.remove(),Fr=this._symbolDraw=jr?new LargeSymbolDraw$1:new SymbolDraw$1,this._isLargeDraw=jr,this.group.removeAll()),this.group.add(Fr.group),Fr},_r.prototype.remove=function($r,Br){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},_r.prototype.dispose=function(){},_r.type="scatter",_r}(ChartView$1);const ScatterView$1=ScatterView;var GridModel=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.type="grid",_r.dependencies=["xAxis","yAxis"],_r.layoutMode="box",_r.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},_r}(ComponentModel$1);const GridModel$1=GridModel;var CartesianAxisModel=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},_r.type="cartesian2dAxis",_r}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(Fe,_r,$r,Br){each$f(AXIS_TYPES,function(Fr,zr){var jr=merge(merge({},axisDefault[zr],!0),Br,!0),Ur=function(Gr){__extends(Yr,Gr);function Yr(){var Kr=Gr!==null&&Gr.apply(this,arguments)||this;return Kr.type=_r+"Axis."+zr,Kr}return Yr.prototype.mergeDefaultAndTheme=function(Kr,Qr){var Jr=fetchLayoutMode(this),rn=Jr?getLayoutParams(Kr):{},an=Qr.getTheme();merge(Kr,an.get(zr+"Axis")),merge(Kr,this.getDefaultOption()),Kr.type=getAxisType(Kr),Jr&&mergeLayoutParam(Kr,rn,Jr)},Yr.prototype.optionUpdated=function(){var Kr=this.option;Kr.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},Yr.prototype.getCategories=function(Kr){var Qr=this.option;if(Qr.type==="category")return Kr?Qr.data:this.__ordinalMeta.categories},Yr.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},Yr.type=_r+"Axis."+zr,Yr.defaultOption=jr,Yr}($r);Fe.registerComponentModel(Ur)}),Fe.registerSubTypeDefaulter(_r+"Axis",getAxisType)}function getAxisType(Fe){return Fe.type||(Fe.data?"category":"value")}var Cartesian=function(){function Fe(_r){this.type="cartesian",this._dimList=[],this._axes={},this.name=_r||""}return Fe.prototype.getAxis=function(_r){return this._axes[_r]},Fe.prototype.getAxes=function(){return map$1(this._dimList,function(_r){return this._axes[_r]},this)},Fe.prototype.getAxesByScale=function(_r){return _r=_r.toLowerCase(),filter(this.getAxes(),function($r){return $r.scale.type===_r})},Fe.prototype.addAxis=function(_r){var $r=_r.dim;this._axes[$r]=_r,this._dimList.push($r)},Fe}();const Cartesian$1=Cartesian;var cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(Fe){return Fe.type==="interval"||Fe.type==="time"}var Cartesian2D=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type="cartesian2d",$r.dimensions=cartesian2DDimensions,$r}return _r.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var $r=this.getAxis("x").scale,Br=this.getAxis("y").scale;if(!(!canCalculateAffineTransform($r)||!canCalculateAffineTransform(Br))){var Fr=$r.getExtent(),zr=Br.getExtent(),jr=this.dataToPoint([Fr[0],zr[0]]),Ur=this.dataToPoint([Fr[1],zr[1]]),Gr=Fr[1]-Fr[0],Yr=zr[1]-zr[0];if(!(!Gr||!Yr)){var Kr=(Ur[0]-jr[0])/Gr,Qr=(Ur[1]-jr[1])/Yr,Jr=jr[0]-Fr[0]*Kr,rn=jr[1]-zr[0]*Qr,an=this._transform=[Kr,0,0,Qr,Jr,rn];this._invTransform=invert([],an)}}},_r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},_r.prototype.containPoint=function($r){var Br=this.getAxis("x"),Fr=this.getAxis("y");return Br.contain(Br.toLocalCoord($r[0]))&&Fr.contain(Fr.toLocalCoord($r[1]))},_r.prototype.containData=function($r){return this.getAxis("x").containData($r[0])&&this.getAxis("y").containData($r[1])},_r.prototype.containZone=function($r,Br){var Fr=this.dataToPoint($r),zr=this.dataToPoint(Br),jr=this.getArea(),Ur=new BoundingRect$1(Fr[0],Fr[1],zr[0]-Fr[0],zr[1]-Fr[1]);return jr.intersect(Ur)},_r.prototype.dataToPoint=function($r,Br,Fr){Fr=Fr||[];var zr=$r[0],jr=$r[1];if(this._transform&&zr!=null&&isFinite(zr)&&jr!=null&&isFinite(jr))return applyTransform$1(Fr,$r,this._transform);var Ur=this.getAxis("x"),Gr=this.getAxis("y");return Fr[0]=Ur.toGlobalCoord(Ur.dataToCoord(zr,Br)),Fr[1]=Gr.toGlobalCoord(Gr.dataToCoord(jr,Br)),Fr},_r.prototype.clampData=function($r,Br){var Fr=this.getAxis("x").scale,zr=this.getAxis("y").scale,jr=Fr.getExtent(),Ur=zr.getExtent(),Gr=Fr.parse($r[0]),Yr=zr.parse($r[1]);return Br=Br||[],Br[0]=Math.min(Math.max(Math.min(jr[0],jr[1]),Gr),Math.max(jr[0],jr[1])),Br[1]=Math.min(Math.max(Math.min(Ur[0],Ur[1]),Yr),Math.max(Ur[0],Ur[1])),Br},_r.prototype.pointToData=function($r,Br){var Fr=[];if(this._invTransform)return applyTransform$1(Fr,$r,this._invTransform);var zr=this.getAxis("x"),jr=this.getAxis("y");return Fr[0]=zr.coordToData(zr.toLocalCoord($r[0]),Br),Fr[1]=jr.coordToData(jr.toLocalCoord($r[1]),Br),Fr},_r.prototype.getOtherAxis=function($r){return this.getAxis($r.dim==="x"?"y":"x")},_r.prototype.getArea=function(){var $r=this.getAxis("x").getGlobalExtent(),Br=this.getAxis("y").getGlobalExtent(),Fr=Math.min($r[0],$r[1]),zr=Math.min(Br[0],Br[1]),jr=Math.max($r[0],$r[1])-Fr,Ur=Math.max(Br[0],Br[1])-zr;return new BoundingRect$1(Fr,zr,jr,Ur)},_r}(Cartesian$1),Axis2D=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr,zr,jr){var Ur=Fe.call(this,$r,Br,Fr)||this;return Ur.index=0,Ur.type=zr||"value",Ur.position=jr||"bottom",Ur}return _r.prototype.isHorizontal=function(){var $r=this.position;return $r==="top"||$r==="bottom"},_r.prototype.getGlobalExtent=function($r){var Br=this.getExtent();return Br[0]=this.toGlobalCoord(Br[0]),Br[1]=this.toGlobalCoord(Br[1]),$r&&Br[0]>Br[1]&&Br.reverse(),Br},_r.prototype.pointToData=function($r,Br){return this.coordToData(this.toLocalCoord($r[this.dim==="x"?0:1]),Br)},_r.prototype.setCategorySortInfo=function($r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=$r,this.scale.setSortInfo($r)},_r}(Axis$1);const Axis2D$1=Axis2D;function layout$2(Fe,_r,$r){$r=$r||{};var Br=Fe.coordinateSystem,Fr=_r.axis,zr={},jr=Fr.getAxesOnZeroOf()[0],Ur=Fr.position,Gr=jr?"onZero":Ur,Yr=Fr.dim,Kr=Br.getRect(),Qr=[Kr.x,Kr.x+Kr.width,Kr.y,Kr.y+Kr.height],Jr={left:0,right:1,top:0,bottom:1,onZero:2},rn=_r.get("offset")||0,an=Yr==="x"?[Qr[2]-rn,Qr[3]+rn]:[Qr[0]-rn,Qr[1]+rn];if(jr){var ln=jr.toGlobalCoord(jr.dataToCoord(0));an[Jr.onZero]=Math.max(Math.min(ln,an[1]),an[0])}zr.position=[Yr==="y"?an[Jr[Gr]]:Qr[0],Yr==="x"?an[Jr[Gr]]:Qr[3]],zr.rotation=Math.PI/2*(Yr==="x"?0:1);var dn={top:-1,bottom:1,left:-1,right:1};zr.labelDirection=zr.tickDirection=zr.nameDirection=dn[Ur],zr.labelOffset=jr?an[Jr[Ur]]-an[Jr.onZero]:0,_r.get(["axisTick","inside"])&&(zr.tickDirection=-zr.tickDirection),retrieve($r.labelInside,_r.get(["axisLabel","inside"]))&&(zr.labelDirection=-zr.labelDirection);var hn=_r.get(["axisLabel","rotate"]);return zr.labelRotate=Gr==="top"?-hn:hn,zr.z2=1,zr}function isCartesian2DSeries(Fe){return Fe.get("coordinateSystem")==="cartesian2d"}function findAxisModels(Fe){var _r={xAxisModel:null,yAxisModel:null};return each$f(_r,function($r,Br){var Fr=Br.replace(/Model$/,""),zr=Fe.getReferringComponents(Fr,SINGLE_REFERRING).models[0];_r[Br]=zr}),_r}var mathLog=Math.log;function alignScaleTicks(Fe,_r,$r){var Br=IntervalScale$1.prototype,Fr=Br.getTicks.call($r),zr=Br.getTicks.call($r,!0),jr=Fr.length-1,Ur=Br.getInterval.call($r),Gr=getScaleExtent(Fe,_r),Yr=Gr.extent,Kr=Gr.fixMin,Qr=Gr.fixMax;if(Fe.type==="log"){var Jr=mathLog(Fe.base);Yr=[mathLog(Yr[0])/Jr,mathLog(Yr[1])/Jr]}Fe.setExtent(Yr[0],Yr[1]),Fe.calcNiceExtent({splitNumber:jr,fixMin:Kr,fixMax:Qr});var rn=Br.getExtent.call(Fe);Kr&&(Yr[0]=rn[0]),Qr&&(Yr[1]=rn[1]);var an=Br.getInterval.call(Fe),ln=Yr[0],dn=Yr[1];if(Kr&&Qr)an=(dn-ln)/jr;else if(Kr)for(dn=Yr[0]+an*jr;dn<Yr[1]&&isFinite(dn)&&isFinite(Yr[1]);)an=increaseInterval(an),dn=Yr[0]+an*jr;else if(Qr)for(ln=Yr[1]-an*jr;ln>Yr[0]&&isFinite(ln)&&isFinite(Yr[0]);)an=increaseInterval(an),ln=Yr[1]-an*jr;else{var hn=Fe.getTicks().length-1;hn>jr&&(an=increaseInterval(an));var gn=an*jr;dn=Math.ceil(Yr[1]/an)*an,ln=round$3(dn-gn),ln<0&&Yr[0]>=0?(ln=0,dn=round$3(gn)):dn>0&&Yr[1]<=0&&(dn=0,ln=-round$3(gn))}var bn=(Fr[0].value-zr[0].value)/Ur,kn=(Fr[jr].value-zr[jr].value)/Ur;Br.setExtent.call(Fe,ln+an*bn,dn+an*kn),Br.setInterval.call(Fe,an),(bn||kn)&&Br.setNiceExtent.call(Fe,ln+an,dn-an)}var Grid=function(){function Fe(_r,$r,Br){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(_r,$r,Br),this.model=_r}return Fe.prototype.getRect=function(){return this._rect},Fe.prototype.update=function(_r,$r){var Br=this._axesMap;this._updateScale(_r,this.model);function Fr(jr){var Ur,Gr=keys(jr),Yr=Gr.length;if(Yr){for(var Kr=[],Qr=Yr-1;Qr>=0;Qr--){var Jr=+Gr[Qr],rn=jr[Jr],an=rn.model,ln=rn.scale;isIntervalOrLogScale(ln)&&an.get("alignTicks")&&an.get("interval")==null?Kr.push(rn):(niceScaleExtent(ln,an),isIntervalOrLogScale(ln)&&(Ur=rn))}Kr.length&&(Ur||(Ur=Kr.pop(),niceScaleExtent(Ur.scale,Ur.model)),each$f(Kr,function(dn){alignScaleTicks(dn.scale,dn.model,Ur.scale)}))}}Fr(Br.x),Fr(Br.y);var zr={};each$f(Br.x,function(jr){fixAxisOnZero(Br,"y",jr,zr)}),each$f(Br.y,function(jr){fixAxisOnZero(Br,"x",jr,zr)}),this.resize(this.model,$r)},Fe.prototype.resize=function(_r,$r,Br){var Fr=_r.getBoxLayoutParams(),zr=!Br&&_r.get("containLabel"),jr=getLayoutRect(Fr,{width:$r.getWidth(),height:$r.getHeight()});this._rect=jr;var Ur=this._axesList;Gr(),zr&&(each$f(Ur,function(Yr){if(!Yr.model.get(["axisLabel","inside"])){var Kr=estimateLabelUnionRect(Yr);if(Kr){var Qr=Yr.isHorizontal()?"height":"width",Jr=Yr.model.get(["axisLabel","margin"]);jr[Qr]-=Kr[Qr]+Jr,Yr.position==="top"?jr.y+=Kr.height+Jr:Yr.position==="left"&&(jr.x+=Kr.width+Jr)}}}),Gr()),each$f(this._coordsList,function(Yr){Yr.calcAffineTransform()});function Gr(){each$f(Ur,function(Yr){var Kr=Yr.isHorizontal(),Qr=Kr?[0,jr.width]:[0,jr.height],Jr=Yr.inverse?1:0;Yr.setExtent(Qr[Jr],Qr[1-Jr]),updateAxisTransform(Yr,Kr?jr.x:jr.y)})}},Fe.prototype.getAxis=function(_r,$r){var Br=this._axesMap[_r];if(Br!=null)return Br[$r||0]},Fe.prototype.getAxes=function(){return this._axesList.slice()},Fe.prototype.getCartesian=function(_r,$r){if(_r!=null&&$r!=null){var Br="x"+_r+"y"+$r;return this._coordsMap[Br]}isObject$3(_r)&&($r=_r.yAxisIndex,_r=_r.xAxisIndex);for(var Fr=0,zr=this._coordsList;Fr<zr.length;Fr++)if(zr[Fr].getAxis("x").index===_r||zr[Fr].getAxis("y").index===$r)return zr[Fr]},Fe.prototype.getCartesians=function(){return this._coordsList.slice()},Fe.prototype.convertToPixel=function(_r,$r,Br){var Fr=this._findConvertTarget($r);return Fr.cartesian?Fr.cartesian.dataToPoint(Br):Fr.axis?Fr.axis.toGlobalCoord(Fr.axis.dataToCoord(Br)):null},Fe.prototype.convertFromPixel=function(_r,$r,Br){var Fr=this._findConvertTarget($r);return Fr.cartesian?Fr.cartesian.pointToData(Br):Fr.axis?Fr.axis.coordToData(Fr.axis.toLocalCoord(Br)):null},Fe.prototype._findConvertTarget=function(_r){var $r=_r.seriesModel,Br=_r.xAxisModel||$r&&$r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],Fr=_r.yAxisModel||$r&&$r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],zr=_r.gridModel,jr=this._coordsList,Ur,Gr;if($r)Ur=$r.coordinateSystem,indexOf(jr,Ur)<0&&(Ur=null);else if(Br&&Fr)Ur=this.getCartesian(Br.componentIndex,Fr.componentIndex);else if(Br)Gr=this.getAxis("x",Br.componentIndex);else if(Fr)Gr=this.getAxis("y",Fr.componentIndex);else if(zr){var Yr=zr.coordinateSystem;Yr===this&&(Ur=this._coordsList[0])}return{cartesian:Ur,axis:Gr}},Fe.prototype.containPoint=function(_r){var $r=this._coordsList[0];if($r)return $r.containPoint(_r)},Fe.prototype._initCartesian=function(_r,$r,Br){var Fr=this,zr=this,jr={left:!1,right:!1,top:!1,bottom:!1},Ur={x:{},y:{}},Gr={x:0,y:0};if($r.eachComponent("xAxis",Yr("x"),this),$r.eachComponent("yAxis",Yr("y"),this),!Gr.x||!Gr.y){this._axesMap={},this._axesList=[];return}this._axesMap=Ur,each$f(Ur.x,function(Kr,Qr){each$f(Ur.y,function(Jr,rn){var an="x"+Qr+"y"+rn,ln=new Cartesian2D(an);ln.master=Fr,ln.model=_r,Fr._coordsMap[an]=ln,Fr._coordsList.push(ln),ln.addAxis(Kr),ln.addAxis(Jr)})});function Yr(Kr){return function(Qr,Jr){if(isAxisUsedInTheGrid(Qr,_r)){var rn=Qr.get("position");Kr==="x"?rn!=="top"&&rn!=="bottom"&&(rn=jr.bottom?"top":"bottom"):rn!=="left"&&rn!=="right"&&(rn=jr.left?"right":"left"),jr[rn]=!0;var an=new Axis2D$1(Kr,createScaleByModel$1(Qr),[0,0],Qr.get("type"),rn),ln=an.type==="category";an.onBand=ln&&Qr.get("boundaryGap"),an.inverse=Qr.get("inverse"),Qr.axis=an,an.model=Qr,an.grid=zr,an.index=Jr,zr._axesList.push(an),Ur[Kr][Jr]=an,Gr[Kr]++}}}},Fe.prototype._updateScale=function(_r,$r){each$f(this._axesList,function(Fr){if(Fr.scale.setExtent(1/0,-1/0),Fr.type==="category"){var zr=Fr.model.get("categorySortInfo");Fr.scale.setSortInfo(zr)}}),_r.eachSeries(function(Fr){if(isCartesian2DSeries(Fr)){var zr=findAxisModels(Fr),jr=zr.xAxisModel,Ur=zr.yAxisModel;if(!isAxisUsedInTheGrid(jr,$r)||!isAxisUsedInTheGrid(Ur,$r))return;var Gr=this.getCartesian(jr.componentIndex,Ur.componentIndex),Yr=Fr.getData(),Kr=Gr.getAxis("x"),Qr=Gr.getAxis("y");Br(Yr,Kr),Br(Yr,Qr)}},this);function Br(Fr,zr){each$f(getDataDimensionsOnAxis(Fr,zr.dim),function(jr){zr.scale.unionExtentFromData(Fr,jr)})}},Fe.prototype.getTooltipAxes=function(_r){var $r=[],Br=[];return each$f(this.getCartesians(),function(Fr){var zr=_r!=null&&_r!=="auto"?Fr.getAxis(_r):Fr.getBaseAxis(),jr=Fr.getOtherAxis(zr);indexOf($r,zr)<0&&$r.push(zr),indexOf(Br,jr)<0&&Br.push(jr)}),{baseAxes:$r,otherAxes:Br}},Fe.create=function(_r,$r){var Br=[];return _r.eachComponent("grid",function(Fr,zr){var jr=new Fe(Fr,_r,$r);jr.name="grid_"+zr,jr.resize(Fr,$r,!0),Fr.coordinateSystem=jr,Br.push(jr)}),_r.eachSeries(function(Fr){if(isCartesian2DSeries(Fr)){var zr=findAxisModels(Fr),jr=zr.xAxisModel,Ur=zr.yAxisModel,Gr=jr.getCoordSysModel(),Yr=Gr.coordinateSystem;Fr.coordinateSystem=Yr.getCartesian(jr.componentIndex,Ur.componentIndex)}}),Br},Fe.dimensions=cartesian2DDimensions,Fe}();function isAxisUsedInTheGrid(Fe,_r){return Fe.getCoordSysModel()===_r}function fixAxisOnZero(Fe,_r,$r,Br){$r.getAxesOnZeroOf=function(){return zr?[zr]:[]};var Fr=Fe[_r],zr,jr=$r.model,Ur=jr.get(["axisLine","onZero"]),Gr=jr.get(["axisLine","onZeroAxisIndex"]);if(!Ur)return;if(Gr!=null)canOnZeroToAxis(Fr[Gr])&&(zr=Fr[Gr]);else for(var Yr in Fr)if(Fr.hasOwnProperty(Yr)&&canOnZeroToAxis(Fr[Yr])&&!Br[Kr(Fr[Yr])]){zr=Fr[Yr];break}zr&&(Br[Kr(zr)]=!0);function Kr(Qr){return Qr.dim+"_"+Qr.index}}function canOnZeroToAxis(Fe){return Fe&&Fe.type!=="category"&&Fe.type!=="time"&&ifAxisCrossZero(Fe)}function updateAxisTransform(Fe,_r){var $r=Fe.getExtent(),Br=$r[0]+$r[1];Fe.toGlobalCoord=Fe.dim==="x"?function(Fr){return Fr+_r}:function(Fr){return Br-Fr+_r},Fe.toLocalCoord=Fe.dim==="x"?function(Fr){return Fr-_r}:function(Fr){return Br-Fr+_r}}const Grid$1=Grid;var PI$3=Math.PI,AxisBuilder=function(){function Fe(_r,$r){this.group=new Group$4,this.opt=$r,this.axisModel=_r,defaults($r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var Br=new Group$4({x:$r.position[0],y:$r.position[1],rotation:$r.rotation});Br.updateTransform(),this._transformGroup=Br}return Fe.prototype.hasBuilder=function(_r){return!!builders[_r]},Fe.prototype.add=function(_r){builders[_r](this.opt,this.axisModel,this.group,this._transformGroup)},Fe.prototype.getGroup=function(){return this.group},Fe.innerTextLayout=function(_r,$r,Br){var Fr=remRadian($r-_r),zr,jr;return isRadianAroundZero(Fr)?(jr=Br>0?"top":"bottom",zr="center"):isRadianAroundZero(Fr-PI$3)?(jr=Br>0?"bottom":"top",zr="center"):(jr="middle",Fr>0&&Fr<PI$3?zr=Br>0?"right":"left":zr=Br>0?"left":"right"),{rotation:Fr,textAlign:zr,textVerticalAlign:jr}},Fe.makeAxisEventDataBase=function(_r){var $r={componentType:_r.mainType,componentIndex:_r.componentIndex};return $r[_r.mainType+"Index"]=_r.componentIndex,$r},Fe.isLabelSilent=function(_r){var $r=_r.get("tooltip");return _r.get("silent")||!(_r.get("triggerEvent")||$r&&$r.show)},Fe}(),builders={axisLine:function(Fe,_r,$r,Br){var Fr=_r.get(["axisLine","show"]);if(Fr==="auto"&&Fe.handleAutoShown&&(Fr=Fe.handleAutoShown("axisLine")),!!Fr){var zr=_r.axis.getExtent(),jr=Br.transform,Ur=[zr[0],0],Gr=[zr[1],0],Yr=Ur[0]>Gr[0];jr&&(applyTransform$1(Ur,Ur,jr),applyTransform$1(Gr,Gr,jr));var Kr=extend$1({lineCap:"round"},_r.getModel(["axisLine","lineStyle"]).getLineStyle()),Qr=new Line$3({shape:{x1:Ur[0],y1:Ur[1],x2:Gr[0],y2:Gr[1]},style:Kr,strokeContainThreshold:Fe.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(Qr.shape,Qr.style.lineWidth),Qr.anid="line",$r.add(Qr);var Jr=_r.get(["axisLine","symbol"]);if(Jr!=null){var rn=_r.get(["axisLine","symbolSize"]);isString(Jr)&&(Jr=[Jr,Jr]),(isString(rn)||isNumber(rn))&&(rn=[rn,rn]);var an=normalizeSymbolOffset(_r.get(["axisLine","symbolOffset"])||0,rn),ln=rn[0],dn=rn[1];each$f([{rotate:Fe.rotation+Math.PI/2,offset:an[0],r:0},{rotate:Fe.rotation-Math.PI/2,offset:an[1],r:Math.sqrt((Ur[0]-Gr[0])*(Ur[0]-Gr[0])+(Ur[1]-Gr[1])*(Ur[1]-Gr[1]))}],function(hn,gn){if(Jr[gn]!=="none"&&Jr[gn]!=null){var bn=createSymbol$1(Jr[gn],-ln/2,-dn/2,ln,dn,Kr.stroke,!0),kn=hn.r+hn.offset,Sn=Yr?Gr:Ur;bn.attr({rotation:hn.rotate,x:Sn[0]+kn*Math.cos(Fe.rotation),y:Sn[1]-kn*Math.sin(Fe.rotation),silent:!0,z2:11}),$r.add(bn)}})}}},axisTickLabel:function(Fe,_r,$r,Br){var Fr=buildAxisMajorTicks($r,Br,_r,Fe),zr=buildAxisLabel($r,Br,_r,Fe);if(fixMinMaxLabelShow(_r,zr,Fr),buildAxisMinorTicks($r,Br,_r,Fe.tickDirection),_r.get(["axisLabel","hideOverlap"])){var jr=prepareLayoutList(map$1(zr,function(Ur){return{label:Ur,priority:Ur.z2,defaultAttr:{ignore:Ur.ignore}}}));hideOverlap(jr)}},axisName:function(Fe,_r,$r,Br){var Fr=retrieve(Fe.axisName,_r.get("name"));if(Fr){var zr=_r.get("nameLocation"),jr=Fe.nameDirection,Ur=_r.getModel("nameTextStyle"),Gr=_r.get("nameGap")||0,Yr=_r.axis.getExtent(),Kr=Yr[0]>Yr[1]?-1:1,Qr=[zr==="start"?Yr[0]-Kr*Gr:zr==="end"?Yr[1]+Kr*Gr:(Yr[0]+Yr[1])/2,isNameLocationCenter(zr)?Fe.labelOffset+jr*Gr:0],Jr,rn=_r.get("nameRotate");rn!=null&&(rn=rn*PI$3/180);var an;isNameLocationCenter(zr)?Jr=AxisBuilder.innerTextLayout(Fe.rotation,rn??Fe.rotation,jr):(Jr=endTextLayout(Fe.rotation,zr,rn||0,Yr),an=Fe.axisNameAvailableWidth,an!=null&&(an=Math.abs(an/Math.sin(Jr.rotation)),!isFinite(an)&&(an=null)));var ln=Ur.getFont(),dn=_r.get("nameTruncate",!0)||{},hn=dn.ellipsis,gn=retrieve(Fe.nameTruncateMaxWidth,dn.maxWidth,an),bn=new ZRText$1({x:Qr[0],y:Qr[1],rotation:Jr.rotation,silent:AxisBuilder.isLabelSilent(_r),style:createTextStyle$1(Ur,{text:Fr,font:ln,overflow:"truncate",width:gn,ellipsis:hn,fill:Ur.getTextColor()||_r.get(["axisLine","lineStyle","color"]),align:Ur.get("align")||Jr.textAlign,verticalAlign:Ur.get("verticalAlign")||Jr.textVerticalAlign}),z2:1});if(setTooltipConfig({el:bn,componentModel:_r,itemName:Fr}),bn.__fullText=Fr,bn.anid="name",_r.get("triggerEvent")){var kn=AxisBuilder.makeAxisEventDataBase(_r);kn.targetType="axisName",kn.name=Fr,getECData(bn).eventData=kn}Br.add(bn),bn.updateTransform(),$r.add(bn),bn.decomposeTransform()}}};function endTextLayout(Fe,_r,$r,Br){var Fr=remRadian($r-Fe),zr,jr,Ur=Br[0]>Br[1],Gr=_r==="start"&&!Ur||_r!=="start"&&Ur;return isRadianAroundZero(Fr-PI$3/2)?(jr=Gr?"bottom":"top",zr="center"):isRadianAroundZero(Fr-PI$3*1.5)?(jr=Gr?"top":"bottom",zr="center"):(jr="middle",Fr<PI$3*1.5&&Fr>PI$3/2?zr=Gr?"left":"right":zr=Gr?"right":"left"),{rotation:Fr,textAlign:zr,textVerticalAlign:jr}}function fixMinMaxLabelShow(Fe,_r,$r){if(!shouldShowAllLabels(Fe.axis)){var Br=Fe.get(["axisLabel","showMinLabel"]),Fr=Fe.get(["axisLabel","showMaxLabel"]);_r=_r||[],$r=$r||[];var zr=_r[0],jr=_r[1],Ur=_r[_r.length-1],Gr=_r[_r.length-2],Yr=$r[0],Kr=$r[1],Qr=$r[$r.length-1],Jr=$r[$r.length-2];Br===!1?(ignoreEl(zr),ignoreEl(Yr)):isTwoLabelOverlapped(zr,jr)&&(Br?(ignoreEl(jr),ignoreEl(Kr)):(ignoreEl(zr),ignoreEl(Yr))),Fr===!1?(ignoreEl(Ur),ignoreEl(Qr)):isTwoLabelOverlapped(Gr,Ur)&&(Fr?(ignoreEl(Gr),ignoreEl(Jr)):(ignoreEl(Ur),ignoreEl(Qr)))}}function ignoreEl(Fe){Fe&&(Fe.ignore=!0)}function isTwoLabelOverlapped(Fe,_r){var $r=Fe&&Fe.getBoundingRect().clone(),Br=_r&&_r.getBoundingRect().clone();if(!(!$r||!Br)){var Fr=identity([]);return rotate(Fr,Fr,-Fe.rotation),$r.applyTransform(mul([],Fr,Fe.getLocalTransform())),Br.applyTransform(mul([],Fr,_r.getLocalTransform())),$r.intersect(Br)}}function isNameLocationCenter(Fe){return Fe==="middle"||Fe==="center"}function createTicks(Fe,_r,$r,Br,Fr){for(var zr=[],jr=[],Ur=[],Gr=0;Gr<Fe.length;Gr++){var Yr=Fe[Gr].coord;jr[0]=Yr,jr[1]=0,Ur[0]=Yr,Ur[1]=$r,_r&&(applyTransform$1(jr,jr,_r),applyTransform$1(Ur,Ur,_r));var Kr=new Line$3({shape:{x1:jr[0],y1:jr[1],x2:Ur[0],y2:Ur[1]},style:Br,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(Kr.shape,Kr.style.lineWidth),Kr.anid=Fr+"_"+Fe[Gr].tickValue,zr.push(Kr)}return zr}function buildAxisMajorTicks(Fe,_r,$r,Br){var Fr=$r.axis,zr=$r.getModel("axisTick"),jr=zr.get("show");if(jr==="auto"&&Br.handleAutoShown&&(jr=Br.handleAutoShown("axisTick")),!(!jr||Fr.scale.isBlank())){for(var Ur=zr.getModel("lineStyle"),Gr=Br.tickDirection*zr.get("length"),Yr=Fr.getTicksCoords(),Kr=createTicks(Yr,_r.transform,Gr,defaults(Ur.getLineStyle(),{stroke:$r.get(["axisLine","lineStyle","color"])}),"ticks"),Qr=0;Qr<Kr.length;Qr++)Fe.add(Kr[Qr]);return Kr}}function buildAxisMinorTicks(Fe,_r,$r,Br){var Fr=$r.axis,zr=$r.getModel("minorTick");if(!(!zr.get("show")||Fr.scale.isBlank())){var jr=Fr.getMinorTicksCoords();if(jr.length)for(var Ur=zr.getModel("lineStyle"),Gr=Br*zr.get("length"),Yr=defaults(Ur.getLineStyle(),defaults($r.getModel("axisTick").getLineStyle(),{stroke:$r.get(["axisLine","lineStyle","color"])})),Kr=0;Kr<jr.length;Kr++)for(var Qr=createTicks(jr[Kr],_r.transform,Gr,Yr,"minorticks_"+Kr),Jr=0;Jr<Qr.length;Jr++)Fe.add(Qr[Jr])}}function buildAxisLabel(Fe,_r,$r,Br){var Fr=$r.axis,zr=retrieve(Br.axisLabelShow,$r.get(["axisLabel","show"]));if(!(!zr||Fr.scale.isBlank())){var jr=$r.getModel("axisLabel"),Ur=jr.get("margin"),Gr=Fr.getViewLabels(),Yr=(retrieve(Br.labelRotate,jr.get("rotate"))||0)*PI$3/180,Kr=AxisBuilder.innerTextLayout(Br.rotation,Yr,Br.labelDirection),Qr=$r.getCategories&&$r.getCategories(!0),Jr=[],rn=AxisBuilder.isLabelSilent($r),an=$r.get("triggerEvent");return each$f(Gr,function(ln,dn){var hn=Fr.scale.type==="ordinal"?Fr.scale.getRawOrdinalNumber(ln.tickValue):ln.tickValue,gn=ln.formattedLabel,bn=ln.rawLabel,kn=jr;if(Qr&&Qr[hn]){var Sn=Qr[hn];isObject$3(Sn)&&Sn.textStyle&&(kn=new Model$1(Sn.textStyle,jr,$r.ecModel))}var _n=kn.getTextColor()||$r.get(["axisLine","lineStyle","color"]),pn=Fr.dataToCoord(hn),Cn=new ZRText$1({x:pn,y:Br.labelOffset+Br.labelDirection*Ur,rotation:Kr.rotation,silent:rn,z2:10+(ln.level||0),style:createTextStyle$1(kn,{text:gn,align:kn.getShallow("align",!0)||Kr.textAlign,verticalAlign:kn.getShallow("verticalAlign",!0)||kn.getShallow("baseline",!0)||Kr.textVerticalAlign,fill:isFunction(_n)?_n(Fr.type==="category"?bn:Fr.type==="value"?hn+"":hn,dn):_n})});if(Cn.anid="label_"+hn,an){var En=AxisBuilder.makeAxisEventDataBase($r);En.targetType="axisLabel",En.value=bn,En.tickIndex=dn,Fr.type==="category"&&(En.dataIndex=hn),getECData(Cn).eventData=En}_r.add(Cn),Cn.updateTransform(),Jr.push(Cn),Fe.add(Cn),Cn.decomposeTransform()}),Jr}}const AxisBuilder$1=AxisBuilder;function collect(Fe,_r){var $r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo($r,Fe,_r),$r.seriesInvolved&&collectSeriesInfo($r,Fe),$r}function collectAxesInfo(Fe,_r,$r){var Br=_r.getComponent("tooltip"),Fr=_r.getComponent("axisPointer"),zr=Fr.get("link",!0)||[],jr=[];each$f($r.getCoordinateSystems(),function(Ur){if(!Ur.axisPointerEnabled)return;var Gr=makeKey(Ur.model),Yr=Fe.coordSysAxesInfo[Gr]={};Fe.coordSysMap[Gr]=Ur;var Kr=Ur.model,Qr=Kr.getModel("tooltip",Br);if(each$f(Ur.getAxes(),curry$1(ln,!1,null)),Ur.getTooltipAxes&&Br&&Qr.get("show")){var Jr=Qr.get("trigger")==="axis",rn=Qr.get(["axisPointer","type"])==="cross",an=Ur.getTooltipAxes(Qr.get(["axisPointer","axis"]));(Jr||rn)&&each$f(an.baseAxes,curry$1(ln,rn?"cross":!0,Jr)),rn&&each$f(an.otherAxes,curry$1(ln,"cross",!1))}function ln(dn,hn,gn){var bn=gn.model.getModel("axisPointer",Fr),kn=bn.get("show");if(!(!kn||kn==="auto"&&!dn&&!isHandleTrigger(bn))){hn==null&&(hn=bn.get("triggerTooltip")),bn=dn?makeAxisPointerModel(gn,Qr,Fr,_r,dn,hn):bn;var Sn=bn.get("snap"),_n=bn.get("triggerEmphasis"),pn=makeKey(gn.model),Cn=hn||Sn||gn.type==="category",En=Fe.axesInfo[pn]={key:pn,axis:gn,coordSys:Ur,axisPointerModel:bn,triggerTooltip:hn,triggerEmphasis:_n,involveSeries:Cn,snap:Sn,useHandle:isHandleTrigger(bn),seriesModels:[],linkGroup:null};Yr[pn]=En,Fe.seriesInvolved=Fe.seriesInvolved||Cn;var Pn=getLinkGroupIndex(zr,gn);if(Pn!=null){var On=jr[Pn]||(jr[Pn]={axesInfo:{}});On.axesInfo[pn]=En,On.mapper=zr[Pn].mapper,En.linkGroup=On}}}})}function makeAxisPointerModel(Fe,_r,$r,Br,Fr,zr){var jr=_r.getModel("axisPointer"),Ur=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],Gr={};each$f(Ur,function(Jr){Gr[Jr]=clone$4(jr.get(Jr))}),Gr.snap=Fe.type!=="category"&&!!zr,jr.get("type")==="cross"&&(Gr.type="line");var Yr=Gr.label||(Gr.label={});if(Yr.show==null&&(Yr.show=!1),Fr==="cross"){var Kr=jr.get(["label","show"]);if(Yr.show=Kr??!0,!zr){var Qr=Gr.lineStyle=jr.get("crossStyle");Qr&&defaults(Yr,Qr.textStyle)}}return Fe.model.getModel("axisPointer",new Model$1(Gr,$r,Br))}function collectSeriesInfo(Fe,_r){_r.eachSeries(function($r){var Br=$r.coordinateSystem,Fr=$r.get(["tooltip","trigger"],!0),zr=$r.get(["tooltip","show"],!0);!Br||Fr==="none"||Fr===!1||Fr==="item"||zr===!1||$r.get(["axisPointer","show"],!0)===!1||each$f(Fe.coordSysAxesInfo[makeKey(Br.model)],function(jr){var Ur=jr.axis;Br.getAxis(Ur.dim)===Ur&&(jr.seriesModels.push($r),jr.seriesDataCount==null&&(jr.seriesDataCount=0),jr.seriesDataCount+=$r.getData().count())})})}function getLinkGroupIndex(Fe,_r){for(var $r=_r.model,Br=_r.dim,Fr=0;Fr<Fe.length;Fr++){var zr=Fe[Fr]||{};if(checkPropInLink(zr[Br+"AxisId"],$r.id)||checkPropInLink(zr[Br+"AxisIndex"],$r.componentIndex)||checkPropInLink(zr[Br+"AxisName"],$r.name))return Fr}}function checkPropInLink(Fe,_r){return Fe==="all"||isArray$1(Fe)&&indexOf(Fe,_r)>=0||Fe===_r}function fixValue(Fe){var _r=getAxisInfo$1(Fe);if(_r){var $r=_r.axisPointerModel,Br=_r.axis.scale,Fr=$r.option,zr=$r.get("status"),jr=$r.get("value");jr!=null&&(jr=Br.parse(jr));var Ur=isHandleTrigger($r);zr==null&&(Fr.status=Ur?"show":"hide");var Gr=Br.getExtent().slice();Gr[0]>Gr[1]&&Gr.reverse(),(jr==null||jr>Gr[1])&&(jr=Gr[1]),jr<Gr[0]&&(jr=Gr[0]),Fr.value=jr,Ur&&(Fr.status=_r.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(Fe){var _r=(Fe.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return _r&&_r.axesInfo[makeKey(Fe)]}function getAxisPointerModel(Fe){var _r=getAxisInfo$1(Fe);return _r&&_r.axisPointerModel}function isHandleTrigger(Fe){return!!Fe.get(["handle","show"])}function makeKey(Fe){return Fe.type+"||"+Fe.id}var axisPointerClazz={},AxisView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr,zr){this.axisPointerClass&&fixValue($r),Fe.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass($r,Fr,!0)},_r.prototype.updateAxisPointer=function($r,Br,Fr,zr){this._doUpdateAxisPointerClass($r,Fr,!1)},_r.prototype.remove=function($r,Br){var Fr=this._axisPointer;Fr&&Fr.remove(Br)},_r.prototype.dispose=function($r,Br){this._disposeAxisPointer(Br),Fe.prototype.dispose.apply(this,arguments)},_r.prototype._doUpdateAxisPointerClass=function($r,Br,Fr){var zr=_r.getAxisPointerClass(this.axisPointerClass);if(zr){var jr=getAxisPointerModel($r);jr?(this._axisPointer||(this._axisPointer=new zr)).render($r,jr,Br,Fr):this._disposeAxisPointer(Br)}},_r.prototype._disposeAxisPointer=function($r){this._axisPointer&&this._axisPointer.dispose($r),this._axisPointer=null},_r.registerAxisPointerClass=function($r,Br){axisPointerClazz[$r]=Br},_r.getAxisPointerClass=function($r){return $r&&axisPointerClazz[$r]},_r.type="axis",_r}(ComponentView$1);const AxisView$1=AxisView;var inner$f=makeInner();function rectCoordAxisBuildSplitArea(Fe,_r,$r,Br){var Fr=$r.axis;if(!Fr.scale.isBlank()){var zr=$r.getModel("splitArea"),jr=zr.getModel("areaStyle"),Ur=jr.get("color"),Gr=Br.coordinateSystem.getRect(),Yr=Fr.getTicksCoords({tickModel:zr,clamp:!0});if(Yr.length){var Kr=Ur.length,Qr=inner$f(Fe).splitAreaColors,Jr=createHashMap(),rn=0;if(Qr)for(var an=0;an<Yr.length;an++){var ln=Qr.get(Yr[an].tickValue);if(ln!=null){rn=(ln+(Kr-1)*an)%Kr;break}}var dn=Fr.toGlobalCoord(Yr[0].coord),hn=jr.getAreaStyle();Ur=isArray$1(Ur)?Ur:[Ur];for(var an=1;an<Yr.length;an++){var gn=Fr.toGlobalCoord(Yr[an].coord),bn=void 0,kn=void 0,Sn=void 0,_n=void 0;Fr.isHorizontal()?(bn=dn,kn=Gr.y,Sn=gn-bn,_n=Gr.height,dn=bn+Sn):(bn=Gr.x,kn=dn,Sn=Gr.width,_n=gn-kn,dn=kn+_n);var pn=Yr[an-1].tickValue;pn!=null&&Jr.set(pn,rn),_r.add(new Rect$3({anid:pn!=null?"area_"+pn:null,shape:{x:bn,y:kn,width:Sn,height:_n},style:defaults({fill:Ur[rn]},hn),autoBatch:!0,silent:!0})),rn=(rn+1)%Kr}inner$f(Fe).splitAreaColors=Jr}}}function rectCoordAxisHandleRemove(Fe){inner$f(Fe).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.axisPointerClass="CartesianAxisPointer",$r}return _r.prototype.render=function($r,Br,Fr,zr){this.group.removeAll();var jr=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!$r.get("show")){var Ur=$r.getCoordSysModel(),Gr=layout$2(Ur,$r),Yr=new AxisBuilder$1($r,extend$1({handleAutoShown:function(Qr){for(var Jr=Ur.coordinateSystem.getCartesians(),rn=0;rn<Jr.length;rn++)if(isIntervalOrLogScale(Jr[rn].getOtherAxis($r.axis).scale))return!0;return!1}},Gr));each$f(axisBuilderAttrs$3,Yr.add,Yr),this._axisGroup.add(Yr.getGroup()),each$f(selfBuilderAttrs$2,function(Qr){$r.get([Qr,"show"])&&axisElementBuilders$2[Qr](this,this._axisGroup,$r,Ur)},this);var Kr=zr&&zr.type==="changeAxisOrder"&&zr.isInitSort;Kr||groupTransition(jr,this._axisGroup,$r),Fe.prototype.render.call(this,$r,Br,Fr,zr)}},_r.prototype.remove=function(){rectCoordAxisHandleRemove(this)},_r.type="cartesianAxis",_r}(AxisView$1),axisElementBuilders$2={splitLine:function(Fe,_r,$r,Br){var Fr=$r.axis;if(!Fr.scale.isBlank()){var zr=$r.getModel("splitLine"),jr=zr.getModel("lineStyle"),Ur=jr.get("color");Ur=isArray$1(Ur)?Ur:[Ur];for(var Gr=Br.coordinateSystem.getRect(),Yr=Fr.isHorizontal(),Kr=0,Qr=Fr.getTicksCoords({tickModel:zr}),Jr=[],rn=[],an=jr.getLineStyle(),ln=0;ln<Qr.length;ln++){var dn=Fr.toGlobalCoord(Qr[ln].coord);Yr?(Jr[0]=dn,Jr[1]=Gr.y,rn[0]=dn,rn[1]=Gr.y+Gr.height):(Jr[0]=Gr.x,Jr[1]=dn,rn[0]=Gr.x+Gr.width,rn[1]=dn);var hn=Kr++%Ur.length,gn=Qr[ln].tickValue,bn=new Line$3({anid:gn!=null?"line_"+Qr[ln].tickValue:null,autoBatch:!0,shape:{x1:Jr[0],y1:Jr[1],x2:rn[0],y2:rn[1]},style:defaults({stroke:Ur[hn]},an),silent:!0});subPixelOptimizeLine(bn.shape,an.lineWidth),_r.add(bn)}}},minorSplitLine:function(Fe,_r,$r,Br){var Fr=$r.axis,zr=$r.getModel("minorSplitLine"),jr=zr.getModel("lineStyle"),Ur=Br.coordinateSystem.getRect(),Gr=Fr.isHorizontal(),Yr=Fr.getMinorTicksCoords();if(Yr.length)for(var Kr=[],Qr=[],Jr=jr.getLineStyle(),rn=0;rn<Yr.length;rn++)for(var an=0;an<Yr[rn].length;an++){var ln=Fr.toGlobalCoord(Yr[rn][an].coord);Gr?(Kr[0]=ln,Kr[1]=Ur.y,Qr[0]=ln,Qr[1]=Ur.y+Ur.height):(Kr[0]=Ur.x,Kr[1]=ln,Qr[0]=Ur.x+Ur.width,Qr[1]=ln);var dn=new Line$3({anid:"minor_line_"+Yr[rn][an].tickValue,autoBatch:!0,shape:{x1:Kr[0],y1:Kr[1],x2:Qr[0],y2:Qr[1]},style:Jr,silent:!0});subPixelOptimizeLine(dn.shape,Jr.lineWidth),_r.add(dn)}},splitArea:function(Fe,_r,$r,Br){rectCoordAxisBuildSplitArea(Fe,_r,$r,Br)}},CartesianXAxisView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="xAxis",_r}(CartesianAxisView),CartesianYAxisView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=CartesianXAxisView.type,$r}return _r.type="yAxis",_r}(CartesianAxisView),GridView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type="grid",$r}return _r.prototype.render=function($r,Br){this.group.removeAll(),$r.get("show")&&this.group.add(new Rect$3({shape:$r.coordinateSystem.getRect(),style:defaults({fill:$r.get("backgroundColor")},$r.getItemStyle()),silent:!0,z2:-1}))},_r.type="grid",_r}(ComponentView$1),extraOption={offset:0};function install$N(Fe){Fe.registerComponentView(GridView),Fe.registerComponentModel(GridModel$1),Fe.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator(Fe,"x",CartesianAxisModel,extraOption),axisModelCreator(Fe,"y",CartesianAxisModel,extraOption),Fe.registerComponentView(CartesianXAxisView),Fe.registerComponentView(CartesianYAxisView),Fe.registerPreprocessor(function(_r){_r.xAxis&&_r.yAxis&&!_r.grid&&(_r.grid={})})}function install$M(Fe){use(install$N),Fe.registerSeriesModel(ScatterSeriesModel$1),Fe.registerChartView(ScatterView$1),Fe.registerLayout(pointsLayout("scatter"))}function radarLayout(Fe){Fe.eachSeriesByType("radar",function(_r){var $r=_r.getData(),Br=[],Fr=_r.coordinateSystem;if(Fr){var zr=Fr.getIndicatorAxes();each$f(zr,function(jr,Ur){$r.each($r.mapDimension(zr[Ur].dim),function(Gr,Yr){Br[Yr]=Br[Yr]||[];var Kr=Fr.dataToPoint(Gr,Ur);Br[Yr][Ur]=isValidPoint(Kr)?Kr:getValueMissingPoint(Fr)})}),$r.each(function(jr){var Ur=find(Br[jr],function(Gr){return isValidPoint(Gr)})||getValueMissingPoint(Fr);Br[jr].push(Ur.slice()),$r.setItemLayout(jr,Br[jr])})}})}function isValidPoint(Fe){return!isNaN(Fe[0])&&!isNaN(Fe[1])}function getValueMissingPoint(Fe){return[Fe.cx,Fe.cy]}function radarBackwardCompat(Fe){var _r=Fe.polar;if(_r){isArray$1(_r)||(_r=[_r]);var $r=[];each$f(_r,function(Br,Fr){Br.indicator?(Br.type&&!Br.shape&&(Br.shape=Br.type),Fe.radar=Fe.radar||[],isArray$1(Fe.radar)||(Fe.radar=[Fe.radar]),Fe.radar.push(Br)):$r.push(Br)}),Fe.polar=$r}each$f(Fe.series,function(Br){Br&&Br.type==="radar"&&Br.polarIndex&&(Br.radarIndex=Br.polarIndex)})}var RadarView$2=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){var zr=$r.coordinateSystem,jr=this.group,Ur=$r.getData(),Gr=this._data;function Yr(Jr,rn){var an=Jr.getItemVisual(rn,"symbol")||"circle";if(an!=="none"){var ln=normalizeSymbolSize(Jr.getItemVisual(rn,"symbolSize")),dn=createSymbol$1(an,-1,-1,2,2),hn=Jr.getItemVisual(rn,"symbolRotate")||0;return dn.attr({style:{strokeNoScale:!0},z2:100,scaleX:ln[0]/2,scaleY:ln[1]/2,rotation:hn*Math.PI/180||0}),dn}}function Kr(Jr,rn,an,ln,dn,hn){an.removeAll();for(var gn=0;gn<rn.length-1;gn++){var bn=Yr(ln,dn);bn&&(bn.__dimIdx=gn,Jr[gn]?(bn.setPosition(Jr[gn]),graphic$1[hn?"initProps":"updateProps"](bn,{x:rn[gn][0],y:rn[gn][1]},$r,dn)):bn.setPosition(rn[gn]),an.add(bn))}}function Qr(Jr){return map$1(Jr,function(rn){return[zr.cx,zr.cy]})}Ur.diff(Gr).add(function(Jr){var rn=Ur.getItemLayout(Jr);if(rn){var an=new Polygon$1,ln=new Polyline$3,dn={shape:{points:rn}};an.shape.points=Qr(rn),ln.shape.points=Qr(rn),initProps(an,dn,$r,Jr),initProps(ln,dn,$r,Jr);var hn=new Group$4,gn=new Group$4;hn.add(ln),hn.add(an),hn.add(gn),Kr(ln.shape.points,rn,gn,Ur,Jr,!0),Ur.setItemGraphicEl(Jr,hn)}}).update(function(Jr,rn){var an=Gr.getItemGraphicEl(rn),ln=an.childAt(0),dn=an.childAt(1),hn=an.childAt(2),gn={shape:{points:Ur.getItemLayout(Jr)}};gn.shape.points&&(Kr(ln.shape.points,gn.shape.points,hn,Ur,Jr,!1),saveOldStyle(dn),saveOldStyle(ln),updateProps$1(ln,gn,$r),updateProps$1(dn,gn,$r),Ur.setItemGraphicEl(Jr,an))}).remove(function(Jr){jr.remove(Gr.getItemGraphicEl(Jr))}).execute(),Ur.eachItemGraphicEl(function(Jr,rn){var an=Ur.getItemModel(rn),ln=Jr.childAt(0),dn=Jr.childAt(1),hn=Jr.childAt(2),gn=Ur.getItemVisual(rn,"style"),bn=gn.fill;jr.add(Jr),ln.useStyle(defaults(an.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:bn})),setStatesStylesFromModel(ln,an,"lineStyle"),setStatesStylesFromModel(dn,an,"areaStyle");var kn=an.getModel("areaStyle"),Sn=kn.isEmpty()&&kn.parentModel.isEmpty();dn.ignore=Sn,each$f(["emphasis","select","blur"],function(Cn){var En=an.getModel([Cn,"areaStyle"]),Pn=En.isEmpty()&&En.parentModel.isEmpty();dn.ensureState(Cn).ignore=Pn&&Sn}),dn.useStyle(defaults(kn.getAreaStyle(),{fill:bn,opacity:.7,decal:gn.decal}));var _n=an.getModel("emphasis"),pn=_n.getModel("itemStyle").getItemStyle();hn.eachChild(function(Cn){if(Cn instanceof ZRImage$1){var En=Cn.style;Cn.useStyle(extend$1({image:En.image,x:En.x,y:En.y,width:En.width,height:En.height},gn))}else Cn.useStyle(gn),Cn.setColor(bn),Cn.style.strokeNoScale=!0;var Pn=Cn.ensureState("emphasis");Pn.style=clone$4(pn);var On=Ur.getStore().get(Ur.getDimensionIndex(Cn.__dimIdx),rn);(On==null||isNaN(On))&&(On=""),setLabelStyle(Cn,getLabelStatesModels(an),{labelFetcher:Ur.hostModel,labelDataIndex:rn,labelDimIndex:Cn.__dimIdx,defaultText:On,inheritColor:bn,defaultOpacity:gn.opacity})}),toggleHoverEmphasis(Jr,_n.get("focus"),_n.get("blurScope"),_n.get("disabled"))}),this._data=Ur},_r.prototype.remove=function(){this.group.removeAll(),this._data=null},_r.type="radar",_r}(ChartView$1);const RadarView$3=RadarView$2;var RadarSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.hasSymbolVisual=!0,$r}return _r.prototype.init=function($r){Fe.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},_r.prototype.getInitialData=function($r,Br){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},_r.prototype.formatTooltip=function($r,Br,Fr){var zr=this.getData(),jr=this.coordinateSystem,Ur=jr.getIndicatorAxes(),Gr=this.getData().getName($r),Yr=Gr===""?this.name:Gr,Kr=retrieveVisualColorForTooltipMarker(this,$r);return createTooltipMarkup("section",{header:Yr,sortBlocks:!0,blocks:map$1(Ur,function(Qr){var Jr=zr.get(zr.mapDimension(Qr.dim),$r);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:Kr,name:Qr.name,value:Jr,sortParam:Jr})})})},_r.prototype.getTooltipPosition=function($r){if($r!=null){for(var Br=this.getData(),Fr=this.coordinateSystem,zr=Br.getValues(map$1(Fr.dimensions,function(Yr){return Br.mapDimension(Yr)}),$r),jr=0,Ur=zr.length;jr<Ur;jr++)if(!isNaN(zr[jr])){var Gr=Fr.getIndicatorAxes();return Fr.coordToPoint(Gr[jr].dataToCoord(zr[jr]),jr)}}},_r.type="series.radar",_r.dependencies=["radar"],_r.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},_r}(SeriesModel$1);const RadarSeriesModel$1=RadarSeriesModel;var valueAxisDefault=axisDefault.value;function defaultsShow(Fe,_r){return defaults({show:_r},Fe)}var RadarModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.optionUpdated=function(){var $r=this.get("boundaryGap"),Br=this.get("splitNumber"),Fr=this.get("scale"),zr=this.get("axisLine"),jr=this.get("axisTick"),Ur=this.get("axisLabel"),Gr=this.get("axisName"),Yr=this.get(["axisName","show"]),Kr=this.get(["axisName","formatter"]),Qr=this.get("axisNameGap"),Jr=this.get("triggerEvent"),rn=map$1(this.get("indicator")||[],function(an){an.max!=null&&an.max>0&&!an.min?an.min=0:an.min!=null&&an.min<0&&!an.max&&(an.max=0);var ln=Gr;an.color!=null&&(ln=defaults({color:an.color},Gr));var dn=merge(clone$4(an),{boundaryGap:$r,splitNumber:Br,scale:Fr,axisLine:zr,axisTick:jr,axisLabel:Ur,name:an.text,showName:Yr,nameLocation:"end",nameGap:Qr,nameTextStyle:ln,triggerEvent:Jr},!1);if(isString(Kr)){var hn=dn.name;dn.name=Kr.replace("{value}",hn??"")}else isFunction(Kr)&&(dn.name=Kr(dn.name,dn));var gn=new Model$1(dn,null,this.ecModel);return mixin(gn,AxisModelCommonMixin.prototype),gn.mainType="radar",gn.componentIndex=this.componentIndex,gn},this);this._indicatorModels=rn},_r.prototype.getIndicatorModels=function(){return this._indicatorModels},_r.type="radar",_r.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},_r}(ComponentModel$1);const RadarModel$1=RadarModel;var axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){var zr=this.group;zr.removeAll(),this._buildAxes($r),this._buildSplitLineAndArea($r)},_r.prototype._buildAxes=function($r){var Br=$r.coordinateSystem,Fr=Br.getIndicatorAxes(),zr=map$1(Fr,function(jr){var Ur=jr.model.get("showName")?jr.name:"",Gr=new AxisBuilder$1(jr.model,{axisName:Ur,position:[Br.cx,Br.cy],rotation:jr.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return Gr});each$f(zr,function(jr){each$f(axisBuilderAttrs$2,jr.add,jr),this.group.add(jr.getGroup())},this)},_r.prototype._buildSplitLineAndArea=function($r){var Br=$r.coordinateSystem,Fr=Br.getIndicatorAxes();if(!Fr.length)return;var zr=$r.get("shape"),jr=$r.getModel("splitLine"),Ur=$r.getModel("splitArea"),Gr=jr.getModel("lineStyle"),Yr=Ur.getModel("areaStyle"),Kr=jr.get("show"),Qr=Ur.get("show"),Jr=Gr.get("color"),rn=Yr.get("color"),an=isArray$1(Jr)?Jr:[Jr],ln=isArray$1(rn)?rn:[rn],dn=[],hn=[];function gn(Hn,qn,ni){var oi=ni%qn.length;return Hn[oi]=Hn[oi]||[],oi}if(zr==="circle")for(var bn=Fr[0].getTicksCoords(),kn=Br.cx,Sn=Br.cy,_n=0;_n<bn.length;_n++){if(Kr){var pn=gn(dn,an,_n);dn[pn].push(new Circle$1({shape:{cx:kn,cy:Sn,r:bn[_n].coord}}))}if(Qr&&_n<bn.length-1){var pn=gn(hn,ln,_n);hn[pn].push(new Ring$1({shape:{cx:kn,cy:Sn,r0:bn[_n].coord,r:bn[_n+1].coord}}))}}else for(var Cn,En=map$1(Fr,function(Hn,qn){var ni=Hn.getTicksCoords();return Cn=Cn==null?ni.length-1:Math.min(ni.length-1,Cn),map$1(ni,function(oi){return Br.coordToPoint(oi.coord,qn)})}),Pn=[],_n=0;_n<=Cn;_n++){for(var On=[],jn=0;jn<Fr.length;jn++)On.push(En[jn][_n]);if(On[0]&&On.push(On[0].slice()),Kr){var pn=gn(dn,an,_n);dn[pn].push(new Polyline$3({shape:{points:On}}))}if(Qr&&Pn){var pn=gn(hn,ln,_n-1);hn[pn].push(new Polygon$1({shape:{points:On.concat(Pn)}}))}Pn=On.slice().reverse()}var Fn=Gr.getLineStyle(),Wn=Yr.getAreaStyle();each$f(hn,function(Hn,qn){this.group.add(mergePath(Hn,{style:defaults({stroke:"none",fill:ln[qn%ln.length]},Wn),silent:!0}))},this),each$f(dn,function(Hn,qn){this.group.add(mergePath(Hn,{style:defaults({fill:"none",stroke:an[qn%an.length]},Fn),silent:!0}))},this)},_r.type="radar",_r}(ComponentView$1);const RadarView$1=RadarView;var IndicatorAxis=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this,$r,Br,Fr)||this;return zr.type="value",zr.angle=0,zr.name="",zr}return _r}(Axis$1);const IndicatorAxis$1=IndicatorAxis;var Radar=function(){function Fe(_r,$r,Br){this.dimensions=[],this._model=_r,this._indicatorAxes=map$1(_r.getIndicatorModels(),function(Fr,zr){var jr="indicator_"+zr,Ur=new IndicatorAxis$1(jr,new IntervalScale$1);return Ur.name=Fr.get("name"),Ur.model=Fr,Fr.axis=Ur,this.dimensions.push(jr),Ur},this),this.resize(_r,Br)}return Fe.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Fe.prototype.dataToPoint=function(_r,$r){var Br=this._indicatorAxes[$r];return this.coordToPoint(Br.dataToCoord(_r),$r)},Fe.prototype.coordToPoint=function(_r,$r){var Br=this._indicatorAxes[$r],Fr=Br.angle,zr=this.cx+_r*Math.cos(Fr),jr=this.cy-_r*Math.sin(Fr);return[zr,jr]},Fe.prototype.pointToData=function(_r){var $r=_r[0]-this.cx,Br=_r[1]-this.cy,Fr=Math.sqrt($r*$r+Br*Br);$r/=Fr,Br/=Fr;for(var zr=Math.atan2(-Br,$r),jr=1/0,Ur,Gr=-1,Yr=0;Yr<this._indicatorAxes.length;Yr++){var Kr=this._indicatorAxes[Yr],Qr=Math.abs(zr-Kr.angle);Qr<jr&&(Ur=Kr,Gr=Yr,jr=Qr)}return[Gr,+(Ur&&Ur.coordToData(Fr))]},Fe.prototype.resize=function(_r,$r){var Br=_r.get("center"),Fr=$r.getWidth(),zr=$r.getHeight(),jr=Math.min(Fr,zr)/2;this.cx=parsePercent(Br[0],Fr),this.cy=parsePercent(Br[1],zr),this.startAngle=_r.get("startAngle")*Math.PI/180;var Ur=_r.get("radius");(isString(Ur)||isNumber(Ur))&&(Ur=[0,Ur]),this.r0=parsePercent(Ur[0],jr),this.r=parsePercent(Ur[1],jr),each$f(this._indicatorAxes,function(Gr,Yr){Gr.setExtent(this.r0,this.r);var Kr=this.startAngle+Yr*Math.PI*2/this._indicatorAxes.length;Kr=Math.atan2(Math.sin(Kr),Math.cos(Kr)),Gr.angle=Kr},this)},Fe.prototype.update=function(_r,$r){var Br=this._indicatorAxes,Fr=this._model;each$f(Br,function(Ur){Ur.scale.setExtent(1/0,-1/0)}),_r.eachSeriesByType("radar",function(Ur,Gr){if(!(Ur.get("coordinateSystem")!=="radar"||_r.getComponent("radar",Ur.get("radarIndex"))!==Fr)){var Yr=Ur.getData();each$f(Br,function(Kr){Kr.scale.unionExtentFromData(Yr,Yr.mapDimension(Kr.dim))})}},this);var zr=Fr.get("splitNumber"),jr=new IntervalScale$1;jr.setExtent(0,zr),jr.setInterval(1),each$f(Br,function(Ur,Gr){alignScaleTicks(Ur.scale,Ur.model,jr)})},Fe.prototype.convertToPixel=function(_r,$r,Br){return console.warn("Not implemented."),null},Fe.prototype.convertFromPixel=function(_r,$r,Br){return console.warn("Not implemented."),null},Fe.prototype.containPoint=function(_r){return console.warn("Not implemented."),!1},Fe.create=function(_r,$r){var Br=[];return _r.eachComponent("radar",function(Fr){var zr=new Fe(Fr,_r,$r);Br.push(zr),Fr.coordinateSystem=zr}),_r.eachSeriesByType("radar",function(Fr){Fr.get("coordinateSystem")==="radar"&&(Fr.coordinateSystem=Br[Fr.get("radarIndex")||0])}),Br},Fe.dimensions=[],Fe}();const Radar$1=Radar;function install$L(Fe){Fe.registerCoordinateSystem("radar",Radar$1),Fe.registerComponentModel(RadarModel$1),Fe.registerComponentView(RadarView$1),Fe.registerVisual({seriesType:"radar",reset:function(_r){var $r=_r.getData();$r.each(function(Br){$r.setItemVisual(Br,"legendIcon","roundRect")}),$r.setVisual("legendIcon","roundRect")}})}function install$K(Fe){use(install$L),Fe.registerChartView(RadarView$3),Fe.registerSeriesModel(RadarSeriesModel$1),Fe.registerLayout(radarLayout),Fe.registerProcessor(dataFilter$1("radar")),Fe.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(Fe,_r,$r){var Br=getStore(Fe);Br[_r]=$r}function release(Fe,_r,$r){var Br=getStore(Fe),Fr=Br[_r];Fr===$r&&(Br[_r]=null)}function isTaken(Fe,_r){return!!getStore(Fe)[_r]}function getStore(Fe){return Fe[ATTR]||(Fe[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this)||this;Br._zr=$r;var Fr=bind$1(Br._mousedownHandler,Br),zr=bind$1(Br._mousemoveHandler,Br),jr=bind$1(Br._mouseupHandler,Br),Ur=bind$1(Br._mousewheelHandler,Br),Gr=bind$1(Br._pinchHandler,Br);return Br.enable=function(Yr,Kr){this.disable(),this._opt=defaults(clone$4(Kr)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),Yr==null&&(Yr=!0),(Yr===!0||Yr==="move"||Yr==="pan")&&($r.on("mousedown",Fr),$r.on("mousemove",zr),$r.on("mouseup",jr)),(Yr===!0||Yr==="scale"||Yr==="zoom")&&($r.on("mousewheel",Ur),$r.on("pinch",Gr))},Br.disable=function(){$r.off("mousedown",Fr),$r.off("mousemove",zr),$r.off("mouseup",jr),$r.off("mousewheel",Ur),$r.off("pinch",Gr)},Br}return _r.prototype.isDragging=function(){return this._dragging},_r.prototype.isPinching=function(){return this._pinching},_r.prototype.setPointerChecker=function($r){this.pointerChecker=$r},_r.prototype.dispose=function(){this.disable()},_r.prototype._mousedownHandler=function($r){if(!isMiddleOrRightButtonOnMouseUpDown($r)){for(var Br=$r.target;Br;){if(Br.draggable)return;Br=Br.__hostTarget||Br.parent}var Fr=$r.offsetX,zr=$r.offsetY;this.pointerChecker&&this.pointerChecker($r,Fr,zr)&&(this._x=Fr,this._y=zr,this._dragging=!0)}},_r.prototype._mousemoveHandler=function($r){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",$r,this._opt)||$r.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var Br=$r.offsetX,Fr=$r.offsetY,zr=this._x,jr=this._y,Ur=Br-zr,Gr=Fr-jr;this._x=Br,this._y=Fr,this._opt.preventDefaultMouseMove&&stop($r.event),trigger$1(this,"pan","moveOnMouseMove",$r,{dx:Ur,dy:Gr,oldX:zr,oldY:jr,newX:Br,newY:Fr,isAvailableBehavior:null})}},_r.prototype._mouseupHandler=function($r){isMiddleOrRightButtonOnMouseUpDown($r)||(this._dragging=!1)},_r.prototype._mousewheelHandler=function($r){var Br=isAvailableBehavior("zoomOnMouseWheel",$r,this._opt),Fr=isAvailableBehavior("moveOnMouseWheel",$r,this._opt),zr=$r.wheelDelta,jr=Math.abs(zr),Ur=$r.offsetX,Gr=$r.offsetY;if(!(zr===0||!Br&&!Fr)){if(Br){var Yr=jr>3?1.4:jr>1?1.2:1.1,Kr=zr>0?Yr:1/Yr;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",$r,{scale:Kr,originX:Ur,originY:Gr,isAvailableBehavior:null})}if(Fr){var Qr=Math.abs(zr),Jr=(zr>0?1:-1)*(Qr>3?.4:Qr>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",$r,{scrollDelta:Jr,originX:Ur,originY:Gr,isAvailableBehavior:null})}}},_r.prototype._pinchHandler=function($r){if(!isTaken(this._zr,"globalPan")){var Br=$r.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,$r,{scale:Br,originX:$r.pinchX,originY:$r.pinchY,isAvailableBehavior:null})}},_r}(Eventful$1);function checkPointerAndTrigger(Fe,_r,$r,Br,Fr){Fe.pointerChecker&&Fe.pointerChecker(Br,Fr.originX,Fr.originY)&&(stop(Br.event),trigger$1(Fe,_r,$r,Br,Fr))}function trigger$1(Fe,_r,$r,Br,Fr){Fr.isAvailableBehavior=bind$1(isAvailableBehavior,null,$r,Br),Fe.trigger(_r,Fr)}function isAvailableBehavior(Fe,_r,$r){var Br=$r[Fe];return!Fe||Br&&(!isString(Br)||_r.event[Br+"Key"])}const RoamController$1=RoamController;function updateViewOnPan(Fe,_r,$r){var Br=Fe.target;Br.x+=_r,Br.y+=$r,Br.dirty()}function updateViewOnZoom(Fe,_r,$r,Br){var Fr=Fe.target,zr=Fe.zoomLimit,jr=Fe.zoom=Fe.zoom||1;if(jr*=_r,zr){var Ur=zr.min||0,Gr=zr.max||1/0;jr=Math.max(Math.min(Gr,jr),Ur)}var Yr=jr/Fe.zoom;Fe.zoom=jr,Fr.x-=($r-Fr.x)*(Yr-1),Fr.y-=(Br-Fr.y)*(Yr-1),Fr.scaleX*=Yr,Fr.scaleY*=Yr,Fr.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(Fe,_r,$r){var Br=_r.getComponentByElement(Fe.topTarget),Fr=Br&&Br.coordinateSystem;return Br&&Br!==$r&&!IRRELEVANT_EXCLUDES.hasOwnProperty(Br.mainType)&&Fr&&Fr.model!==$r}function parseXML(Fe){if(isString(Fe)){var _r=new DOMParser;Fe=_r.parseFromString(Fe,"text/xml")}var $r=Fe;for($r.nodeType===9&&($r=$r.firstChild);$r.nodeName.toLowerCase()!=="svg"||$r.nodeType!==1;)$r=$r.nextSibling;return $r}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function Fe(){this._defs={},this._root=null}return Fe.prototype.parse=function(_r,$r){$r=$r||{};var Br=parseXML(_r);this._defsUsePending=[];var Fr=new Group$4;this._root=Fr;var zr=[],jr=Br.getAttribute("viewBox")||"",Ur=parseFloat(Br.getAttribute("width")||$r.width),Gr=parseFloat(Br.getAttribute("height")||$r.height);isNaN(Ur)&&(Ur=null),isNaN(Gr)&&(Gr=null),parseAttributes(Br,Fr,null,!0,!1);for(var Yr=Br.firstChild;Yr;)this._parseNode(Yr,Fr,zr,null,!1,!1),Yr=Yr.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var Kr,Qr;if(jr){var Jr=splitNumberSequence(jr);Jr.length>=4&&(Kr={x:parseFloat(Jr[0]||0),y:parseFloat(Jr[1]||0),width:parseFloat(Jr[2]),height:parseFloat(Jr[3])})}if(Kr&&Ur!=null&&Gr!=null&&(Qr=makeViewBoxTransform(Kr,{x:0,y:0,width:Ur,height:Gr}),!$r.ignoreViewBox)){var rn=Fr;Fr=new Group$4,Fr.add(rn),rn.scaleX=rn.scaleY=Qr.scale,rn.x=Qr.x,rn.y=Qr.y}return!$r.ignoreRootClip&&Ur!=null&&Gr!=null&&Fr.setClipPath(new Rect$3({shape:{x:0,y:0,width:Ur,height:Gr}})),{root:Fr,width:Ur,height:Gr,viewBoxRect:Kr,viewBoxTransform:Qr,named:zr}},Fe.prototype._parseNode=function(_r,$r,Br,Fr,zr,jr){var Ur=_r.nodeName.toLowerCase(),Gr,Yr=Fr;if(Ur==="defs"&&(zr=!0),Ur==="text"&&(jr=!0),Ur==="defs"||Ur==="switch")Gr=$r;else{if(!zr){var Kr=nodeParsers[Ur];if(Kr&&hasOwn(nodeParsers,Ur)){Gr=Kr.call(this,_r,$r);var Qr=_r.getAttribute("name");if(Qr){var Jr={name:Qr,namedFrom:null,svgNodeTagLower:Ur,el:Gr};Br.push(Jr),Ur==="g"&&(Yr=Jr)}else Fr&&Br.push({name:Fr.name,namedFrom:Fr,svgNodeTagLower:Ur,el:Gr});$r.add(Gr)}}var rn=paintServerParsers[Ur];if(rn&&hasOwn(paintServerParsers,Ur)){var an=rn.call(this,_r),ln=_r.getAttribute("id");ln&&(this._defs[ln]=an)}}if(Gr&&Gr.isGroup)for(var dn=_r.firstChild;dn;)dn.nodeType===1?this._parseNode(dn,Gr,Br,Yr,zr,jr):dn.nodeType===3&&jr&&this._parseText(dn,Gr),dn=dn.nextSibling},Fe.prototype._parseText=function(_r,$r){var Br=new TSpan$1({style:{text:_r.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle($r,Br),parseAttributes(_r,Br,this._defsUsePending,!1,!1),applyTextAlignment(Br,$r);var Fr=Br.style,zr=Fr.fontSize;zr&&zr<9&&(Fr.fontSize=9,Br.scaleX*=zr/9,Br.scaleY*=zr/9);var jr=(Fr.fontSize||Fr.fontFamily)&&[Fr.fontStyle,Fr.fontWeight,(Fr.fontSize||12)+"px",Fr.fontFamily||"sans-serif"].join(" ");Fr.font=jr;var Ur=Br.getBoundingRect();return this._textX+=Ur.width,$r.add(Br),Br},Fe.internalField=function(){nodeParsers={g:function(_r,$r){var Br=new Group$4;return inheritStyle($r,Br),parseAttributes(_r,Br,this._defsUsePending,!1,!1),Br},rect:function(_r,$r){var Br=new Rect$3;return inheritStyle($r,Br),parseAttributes(_r,Br,this._defsUsePending,!1,!1),Br.setShape({x:parseFloat(_r.getAttribute("x")||"0"),y:parseFloat(_r.getAttribute("y")||"0"),width:parseFloat(_r.getAttribute("width")||"0"),height:parseFloat(_r.getAttribute("height")||"0")}),Br.silent=!0,Br},circle:function(_r,$r){var Br=new Circle$1;return inheritStyle($r,Br),parseAttributes(_r,Br,this._defsUsePending,!1,!1),Br.setShape({cx:parseFloat(_r.getAttribute("cx")||"0"),cy:parseFloat(_r.getAttribute("cy")||"0"),r:parseFloat(_r.getAttribute("r")||"0")}),Br.silent=!0,Br},line:function(_r,$r){var Br=new Line$3;return inheritStyle($r,Br),parseAttributes(_r,Br,this._defsUsePending,!1,!1),Br.setShape({x1:parseFloat(_r.getAttribute("x1")||"0"),y1:parseFloat(_r.getAttribute("y1")||"0"),x2:parseFloat(_r.getAttribute("x2")||"0"),y2:parseFloat(_r.getAttribute("y2")||"0")}),Br.silent=!0,Br},ellipse:function(_r,$r){var Br=new Ellipse$1;return inheritStyle($r,Br),parseAttributes(_r,Br,this._defsUsePending,!1,!1),Br.setShape({cx:parseFloat(_r.getAttribute("cx")||"0"),cy:parseFloat(_r.getAttribute("cy")||"0"),rx:parseFloat(_r.getAttribute("rx")||"0"),ry:parseFloat(_r.getAttribute("ry")||"0")}),Br.silent=!0,Br},polygon:function(_r,$r){var Br=_r.getAttribute("points"),Fr;Br&&(Fr=parsePoints(Br));var zr=new Polygon$1({shape:{points:Fr||[]},silent:!0});return inheritStyle($r,zr),parseAttributes(_r,zr,this._defsUsePending,!1,!1),zr},polyline:function(_r,$r){var Br=_r.getAttribute("points"),Fr;Br&&(Fr=parsePoints(Br));var zr=new Polyline$3({shape:{points:Fr||[]},silent:!0});return inheritStyle($r,zr),parseAttributes(_r,zr,this._defsUsePending,!1,!1),zr},image:function(_r,$r){var Br=new ZRImage$1;return inheritStyle($r,Br),parseAttributes(_r,Br,this._defsUsePending,!1,!1),Br.setStyle({image:_r.getAttribute("xlink:href")||_r.getAttribute("href"),x:+_r.getAttribute("x"),y:+_r.getAttribute("y"),width:+_r.getAttribute("width"),height:+_r.getAttribute("height")}),Br.silent=!0,Br},text:function(_r,$r){var Br=_r.getAttribute("x")||"0",Fr=_r.getAttribute("y")||"0",zr=_r.getAttribute("dx")||"0",jr=_r.getAttribute("dy")||"0";this._textX=parseFloat(Br)+parseFloat(zr),this._textY=parseFloat(Fr)+parseFloat(jr);var Ur=new Group$4;return inheritStyle($r,Ur),parseAttributes(_r,Ur,this._defsUsePending,!1,!0),Ur},tspan:function(_r,$r){var Br=_r.getAttribute("x"),Fr=_r.getAttribute("y");Br!=null&&(this._textX=parseFloat(Br)),Fr!=null&&(this._textY=parseFloat(Fr));var zr=_r.getAttribute("dx")||"0",jr=_r.getAttribute("dy")||"0",Ur=new Group$4;return inheritStyle($r,Ur),parseAttributes(_r,Ur,this._defsUsePending,!1,!0),this._textX+=parseFloat(zr),this._textY+=parseFloat(jr),Ur},path:function(_r,$r){var Br=_r.getAttribute("d")||"",Fr=createFromString(Br);return inheritStyle($r,Fr),parseAttributes(_r,Fr,this._defsUsePending,!1,!1),Fr.silent=!0,Fr}}}(),Fe}(),paintServerParsers={lineargradient:function(Fe){var _r=parseInt(Fe.getAttribute("x1")||"0",10),$r=parseInt(Fe.getAttribute("y1")||"0",10),Br=parseInt(Fe.getAttribute("x2")||"10",10),Fr=parseInt(Fe.getAttribute("y2")||"0",10),zr=new LinearGradient$1(_r,$r,Br,Fr);return parsePaintServerUnit(Fe,zr),parseGradientColorStops(Fe,zr),zr},radialgradient:function(Fe){var _r=parseInt(Fe.getAttribute("cx")||"0",10),$r=parseInt(Fe.getAttribute("cy")||"0",10),Br=parseInt(Fe.getAttribute("r")||"0",10),Fr=new RadialGradient$1(_r,$r,Br);return parsePaintServerUnit(Fe,Fr),parseGradientColorStops(Fe,Fr),Fr}};function parsePaintServerUnit(Fe,_r){var $r=Fe.getAttribute("gradientUnits");$r==="userSpaceOnUse"&&(_r.global=!0)}function parseGradientColorStops(Fe,_r){for(var $r=Fe.firstChild;$r;){if($r.nodeType===1&&$r.nodeName.toLocaleLowerCase()==="stop"){var Br=$r.getAttribute("offset"),Fr=void 0;Br&&Br.indexOf("%")>0?Fr=parseInt(Br,10)/100:Br?Fr=parseFloat(Br):Fr=0;var zr={};parseInlineStyle($r,zr,zr);var jr=zr.stopColor||$r.getAttribute("stop-color")||"#000000";_r.colorStops.push({offset:Fr,color:jr})}$r=$r.nextSibling}}function inheritStyle(Fe,_r){Fe&&Fe.__inheritedStyle&&(_r.__inheritedStyle||(_r.__inheritedStyle={}),defaults(_r.__inheritedStyle,Fe.__inheritedStyle))}function parsePoints(Fe){for(var _r=splitNumberSequence(Fe),$r=[],Br=0;Br<_r.length;Br+=2){var Fr=parseFloat(_r[Br]),zr=parseFloat(_r[Br+1]);$r.push([Fr,zr])}return $r}function parseAttributes(Fe,_r,$r,Br,Fr){var zr=_r,jr=zr.__inheritedStyle=zr.__inheritedStyle||{},Ur={};Fe.nodeType===1&&(parseTransformAttribute(Fe,_r),parseInlineStyle(Fe,jr,Ur),Br||parseAttributeStyle(Fe,jr,Ur)),zr.style=zr.style||{},jr.fill!=null&&(zr.style.fill=getFillStrokeStyle(zr,"fill",jr.fill,$r)),jr.stroke!=null&&(zr.style.stroke=getFillStrokeStyle(zr,"stroke",jr.stroke,$r)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(Gr){jr[Gr]!=null&&(zr.style[Gr]=parseFloat(jr[Gr]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(Gr){jr[Gr]!=null&&(zr.style[Gr]=jr[Gr])}),Fr&&(zr.__selfStyle=Ur),jr.lineDash&&(zr.style.lineDash=map$1(splitNumberSequence(jr.lineDash),function(Gr){return parseFloat(Gr)})),(jr.visibility==="hidden"||jr.visibility==="collapse")&&(zr.invisible=!0),jr.display==="none"&&(zr.ignore=!0)}function applyTextAlignment(Fe,_r){var $r=_r.__selfStyle;if($r){var Br=$r.textBaseline,Fr=Br;!Br||Br==="auto"||Br==="baseline"?Fr="alphabetic":Br==="before-edge"||Br==="text-before-edge"?Fr="top":Br==="after-edge"||Br==="text-after-edge"?Fr="bottom":(Br==="central"||Br==="mathematical")&&(Fr="middle"),Fe.style.textBaseline=Fr}var zr=_r.__inheritedStyle;if(zr){var jr=zr.textAlign,Ur=jr;jr&&(jr==="middle"&&(Ur="center"),Fe.style.textAlign=Ur)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(Fe,_r,$r,Br){var Fr=$r&&$r.match(urlRegex);if(Fr){var zr=trim$1(Fr[1]);Br.push([Fe,_r,zr]);return}return $r==="none"&&($r=null),$r}function applyDefs(Fe,_r){for(var $r=0;$r<_r.length;$r++){var Br=_r[$r];Br[0].style[Br[1]]=Fe[Br[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(Fe){return Fe.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(Fe,_r){var $r=Fe.getAttribute("transform");if($r){$r=$r.replace(/,/g," ");var Br=[],Fr=null;$r.replace(transformRegex,function(Qr,Jr,rn){return Br.push(Jr,rn),""});for(var zr=Br.length-1;zr>0;zr-=2){var jr=Br[zr],Ur=Br[zr-1],Gr=splitNumberSequence(jr);switch(Fr=Fr||create$1(),Ur){case"translate":translate(Fr,Fr,[parseFloat(Gr[0]),parseFloat(Gr[1]||"0")]);break;case"scale":scale$1(Fr,Fr,[parseFloat(Gr[0]),parseFloat(Gr[1]||Gr[0])]);break;case"rotate":rotate(Fr,Fr,-parseFloat(Gr[0])*DEGREE_TO_ANGLE);break;case"skewX":var Yr=Math.tan(parseFloat(Gr[0])*DEGREE_TO_ANGLE);mul(Fr,[1,0,Yr,1,0,0],Fr);break;case"skewY":var Kr=Math.tan(parseFloat(Gr[0])*DEGREE_TO_ANGLE);mul(Fr,[1,Kr,0,1,0,0],Fr);break;case"matrix":Fr[0]=parseFloat(Gr[0]),Fr[1]=parseFloat(Gr[1]),Fr[2]=parseFloat(Gr[2]),Fr[3]=parseFloat(Gr[3]),Fr[4]=parseFloat(Gr[4]),Fr[5]=parseFloat(Gr[5]);break}}_r.setLocalTransform(Fr)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(Fe,_r,$r){var Br=Fe.getAttribute("style");if(Br){styleRegex.lastIndex=0;for(var Fr;(Fr=styleRegex.exec(Br))!=null;){var zr=Fr[1],jr=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,zr)?INHERITABLE_STYLE_ATTRIBUTES_MAP[zr]:null;jr&&(_r[jr]=Fr[2]);var Ur=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,zr)?SELF_STYLE_ATTRIBUTES_MAP[zr]:null;Ur&&($r[Ur]=Fr[2])}}}function parseAttributeStyle(Fe,_r,$r){for(var Br=0;Br<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;Br++){var Fr=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[Br],zr=Fe.getAttribute(Fr);zr!=null&&(_r[INHERITABLE_STYLE_ATTRIBUTES_MAP[Fr]]=zr)}for(var Br=0;Br<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;Br++){var Fr=SELF_STYLE_ATTRIBUTES_MAP_KEYS[Br],zr=Fe.getAttribute(Fr);zr!=null&&($r[SELF_STYLE_ATTRIBUTES_MAP[Fr]]=zr)}}function makeViewBoxTransform(Fe,_r){var $r=_r.width/Fe.width,Br=_r.height/Fe.height,Fr=Math.min($r,Br);return{scale:Fr,x:-(Fe.x+Fe.width/2)*Fr+(_r.x+_r.width/2),y:-(Fe.y+Fe.height/2)*Fr+(_r.y+_r.height/2)}}function parseSVG(Fe,_r){var $r=new SVGParser;return $r.parse(Fe,_r)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function Fe(_r,$r){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=_r,this._parsedXML=parseXML($r)}return Fe.prototype.load=function(){var _r=this._firstGraphic;if(!_r){_r=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(_r),this._boundingRect=this._firstGraphic.boundingRect.clone();var $r=createRegions(_r.named),Br=$r.regions,Fr=$r.regionsMap;this._regions=Br,this._regionsMap=Fr}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},Fe.prototype._buildGraphic=function(_r){var $r,Br;try{$r=_r&&parseSVG(_r,{ignoreViewBox:!0,ignoreRootClip:!0})||{},Br=$r.root,assert(Br!=null)}catch(dn){throw new Error(`Invalid svg format
`+dn.message)}var Fr=new Group$4;Fr.add(Br),Fr.isGeoSVGGraphicRoot=!0;var zr=$r.width,jr=$r.height,Ur=$r.viewBoxRect,Gr=this._boundingRect;if(!Gr){var Yr=void 0,Kr=void 0,Qr=void 0,Jr=void 0;if(zr!=null?(Yr=0,Qr=zr):Ur&&(Yr=Ur.x,Qr=Ur.width),jr!=null?(Kr=0,Jr=jr):Ur&&(Kr=Ur.y,Jr=Ur.height),Yr==null||Kr==null){var rn=Br.getBoundingRect();Yr==null&&(Yr=rn.x,Qr=rn.width),Kr==null&&(Kr=rn.y,Jr=rn.height)}Gr=this._boundingRect=new BoundingRect$1(Yr,Kr,Qr,Jr)}if(Ur){var an=makeViewBoxTransform(Ur,Gr);Br.scaleX=Br.scaleY=an.scale,Br.x=an.x,Br.y=an.y}Fr.setClipPath(new Rect$3({shape:Gr.plain()}));var ln=[];return each$f($r.named,function(dn){REGION_AVAILABLE_SVG_TAG_MAP.get(dn.svgNodeTagLower)!=null&&(ln.push(dn),setSilent(dn.el))}),{root:Fr,boundingRect:Gr,named:ln}},Fe.prototype.useGraphic=function(_r){var $r=this._usedGraphicMap,Br=$r.get(_r);return Br||(Br=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),$r.set(_r,Br),Br)},Fe.prototype.freeGraphic=function(_r){var $r=this._usedGraphicMap,Br=$r.get(_r);Br&&($r.removeKey(_r),this._freedGraphics.push(Br))},Fe}();function setSilent(Fe){Fe.silent=!1,Fe.isGroup&&Fe.traverse(function(_r){_r.silent=!1})}function createRegions(Fe){var _r=[],$r=createHashMap();return each$f(Fe,function(Br){if(Br.namedFrom==null){var Fr=new GeoSVGRegion(Br.name,Br.el);_r.push(Fr),$r.set(Br.name,Fr)}}),{regions:_r,regionsMap:$r}}var geoCoord=[126,25],nanhaiName="åæµ·è¯¸å²",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(Fe,_r){if(Fe==="china"){for(var $r=0;$r<_r.length;$r++)if(_r[$r].name===nanhaiName)return;_r.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(Br){return{type:"polygon",exterior:Br}}),geoCoord))}}var coordsOffsetMap={åæµ·è¯¸å²:[32,80],å¹¿ä¸:[0,-10],é¦æ¸¯:[10,5],æ¾³é¨:[-10,10],å¤©æ´¥:[5,5]};function fixTextCoords(Fe,_r){if(Fe==="china"){var $r=coordsOffsetMap[_r.name];if($r){var Br=_r.getCenter();Br[0]+=$r[0]/10.5,Br[1]+=-$r[1]/(10.5/.75),_r.setCenter(Br)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(Fe,_r){Fe==="china"&&_r.name==="å°æ¹¾"&&_r.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function Fe(_r,$r,Br){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=_r,this._specialAreas=Br,this._geoJSON=parseInput($r)}return Fe.prototype.load=function(_r,$r){$r=$r||DEFAULT_NAME_PROPERTY;var Br=this._parsedMap.get($r);if(!Br){var Fr=this._parseToRegions($r);Br=this._parsedMap.set($r,{regions:Fr,boundingRect:calculateBoundingRect(Fr)})}var zr=createHashMap(),jr=[];return each$f(Br.regions,function(Ur){var Gr=Ur.name;_r&&hasOwn(_r,Gr)&&(Ur=Ur.cloneShallow(Gr=_r[Gr])),jr.push(Ur),zr.set(Gr,Ur)}),{regions:jr,boundingRect:Br.boundingRect||new BoundingRect$1(0,0,0,0),regionsMap:zr}},Fe.prototype._parseToRegions=function(_r){var $r=this._mapName,Br=this._geoJSON,Fr;try{Fr=Br?parseGeoJSON(Br,_r):[]}catch(zr){throw new Error(`Invalid geoJson format
`+zr.message)}return fixNanhai($r,Fr),each$f(Fr,function(zr){var jr=zr.name;fixTextCoords($r,zr),fixDiaoyuIsland($r,zr);var Ur=this._specialAreas&&this._specialAreas[jr];Ur&&zr.transformTo(Ur.left,Ur.top,Ur.width,Ur.height)},this),Fr},Fe.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},Fe}();function calculateBoundingRect(Fe){for(var _r,$r=0;$r<Fe.length;$r++){var Br=Fe[$r].getBoundingRect();_r=_r||Br.clone(),_r.union(Br)}return _r}function parseInput(Fe){return isString(Fe)?typeof JSON<"u"&&JSON.parse?JSON.parse(Fe):new Function("return ("+Fe+");")():Fe}var storage=createHashMap();const geoSourceManager={registerMap:function(Fe,_r,$r){if(_r.svg){var Br=new GeoSVGResource(Fe,_r.svg);storage.set(Fe,Br)}else{var Fr=_r.geoJson||_r.geoJSON;Fr&&!_r.features?$r=_r.specialAreas:Fr=_r;var Br=new GeoJSONResource(Fe,Fr,$r);storage.set(Fe,Br)}},getGeoResource:function(Fe){return storage.get(Fe)},getMapForUser:function(Fe){var _r=storage.get(Fe);return _r&&_r.type==="geoJSON"&&_r.getMapForUser()},load:function(Fe,_r,$r){var Br=storage.get(Fe);if(Br)return Br.load(_r,$r)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(Fe){var _r=Fe.getItemStyle(),$r=Fe.get("areaColor");return $r!=null&&(_r.fill=$r),_r}function fixLineStyle(Fe){var _r=Fe.style;_r&&(_r.stroke=_r.stroke||_r.fill,_r.fill=null)}var MapDraw=function(){function Fe(_r){var $r=new Group$4;this.uid=getUID("ec_map_draw"),this._controller=new RoamController$1(_r.getZr()),this._controllerHost={target:$r},this.group=$r,$r.add(this._regionsGroup=new Group$4),$r.add(this._svgGroup=new Group$4)}return Fe.prototype.draw=function(_r,$r,Br,Fr,zr){var jr=_r.mainType==="geo",Ur=_r.getData&&_r.getData();jr&&$r.eachComponent({mainType:"series",subType:"map"},function(hn){!Ur&&hn.getHostGeoModel()===_r&&(Ur=hn.getData())});var Gr=_r.coordinateSystem,Yr=this._regionsGroup,Kr=this.group,Qr=Gr.getTransformInfo(),Jr=Qr.raw,rn=Qr.roam,an=!Yr.childAt(0)||zr;an?(Kr.x=rn.x,Kr.y=rn.y,Kr.scaleX=rn.scaleX,Kr.scaleY=rn.scaleY,Kr.dirty()):updateProps$1(Kr,rn,_r);var ln=Ur&&Ur.getVisual("visualMeta")&&Ur.getVisual("visualMeta").length>0,dn={api:Br,geo:Gr,mapOrGeoModel:_r,data:Ur,isVisualEncodedByVisualMap:ln,isGeo:jr,transformInfoRaw:Jr};Gr.resourceType==="geoJSON"?this._buildGeoJSON(dn):Gr.resourceType==="geoSVG"&&this._buildSVG(dn),this._updateController(_r,$r,Br),this._updateMapSelectHandler(_r,Yr,Br,Fr)},Fe.prototype._buildGeoJSON=function(_r){var $r=this._regionsGroupByName=createHashMap(),Br=createHashMap(),Fr=this._regionsGroup,zr=_r.transformInfoRaw,jr=_r.mapOrGeoModel,Ur=_r.data,Gr=_r.geo.projection,Yr=Gr&&Gr.stream;function Kr(rn,an){return an&&(rn=an(rn)),rn&&[rn[0]*zr.scaleX+zr.x,rn[1]*zr.scaleY+zr.y]}function Qr(rn){for(var an=[],ln=!Yr&&Gr&&Gr.project,dn=0;dn<rn.length;++dn){var hn=Kr(rn[dn],ln);hn&&an.push(hn)}return an}function Jr(rn){return{shape:{points:Qr(rn)}}}Fr.removeAll(),each$f(_r.geo.regions,function(rn){var an=rn.name,ln=$r.get(an),dn=Br.get(an)||{},hn=dn.dataIdx,gn=dn.regionModel;ln||(ln=$r.set(an,new Group$4),Fr.add(ln),hn=Ur?Ur.indexOfName(an):null,gn=_r.isGeo?jr.getRegionModel(an):Ur?Ur.getItemModel(hn):null,Br.set(an,{dataIdx:hn,regionModel:gn}));var bn=[],kn=[];each$f(rn.geometries,function(pn){if(pn.type==="polygon"){var Cn=[pn.exterior].concat(pn.interiors||[]);Yr&&(Cn=projectPolys(Cn,Yr)),each$f(Cn,function(Pn){bn.push(new Polygon$1(Jr(Pn)))})}else{var En=pn.points;Yr&&(En=projectPolys(En,Yr,!0)),each$f(En,function(Pn){kn.push(new Polyline$3(Jr(Pn)))})}});var Sn=Kr(rn.getCenter(),Gr&&Gr.project);function _n(pn,Cn){if(pn.length){var En=new CompoundPath$1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:pn}});ln.add(En),applyOptionStyleForRegion(_r,En,hn,gn),resetLabelForRegion(_r,En,an,gn,jr,hn,Sn),Cn&&(fixLineStyle(En),each$f(En.states,fixLineStyle))}}_n(bn),_n(kn,!0)}),$r.each(function(rn,an){var ln=Br.get(an),dn=ln.dataIdx,hn=ln.regionModel;resetEventTriggerForRegion(_r,rn,an,hn,jr,dn),resetTooltipForRegion(_r,rn,an,hn,jr),resetStateTriggerForRegion(_r,rn,an,hn,jr)},this)},Fe.prototype._buildSVG=function(_r){var $r=_r.geo.map,Br=_r.transformInfoRaw;this._svgGroup.x=Br.x,this._svgGroup.y=Br.y,this._svgGroup.scaleX=Br.scaleX,this._svgGroup.scaleY=Br.scaleY,this._svgResourceChanged($r)&&(this._freeSVG(),this._useSVG($r));var Fr=this._svgDispatcherMap=createHashMap(),zr=!1;each$f(this._svgGraphicRecord.named,function(jr){var Ur=jr.name,Gr=_r.mapOrGeoModel,Yr=_r.data,Kr=jr.svgNodeTagLower,Qr=jr.el,Jr=Yr?Yr.indexOfName(Ur):null,rn=Gr.getRegionModel(Ur);if(OPTION_STYLE_ENABLED_TAG_MAP.get(Kr)!=null&&Qr instanceof Displayable$1&&applyOptionStyleForRegion(_r,Qr,Jr,rn),Qr instanceof Displayable$1&&(Qr.culling=!0),Qr.z2EmphasisLift=0,!jr.namedFrom&&(LABEL_HOST_MAP.get(Kr)!=null&&resetLabelForRegion(_r,Qr,Ur,rn,Gr,Jr,null),resetEventTriggerForRegion(_r,Qr,Ur,rn,Gr,Jr),resetTooltipForRegion(_r,Qr,Ur,rn,Gr),STATE_TRIGGER_TAG_MAP.get(Kr)!=null)){var an=resetStateTriggerForRegion(_r,Qr,Ur,rn,Gr);an==="self"&&(zr=!0);var ln=Fr.get(Ur)||Fr.set(Ur,[]);ln.push(Qr)}},this),this._enableBlurEntireSVG(zr,_r)},Fe.prototype._enableBlurEntireSVG=function(_r,$r){if(_r&&$r.isGeo){var Br=$r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),Fr=Br.opacity;this._svgGraphicRecord.root.traverse(function(zr){if(!zr.isGroup){setDefaultStateProxy(zr);var jr=zr.ensureState("blur").style||{};jr.opacity==null&&Fr!=null&&(jr.opacity=Fr),zr.ensureState("emphasis")}})}},Fe.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},Fe.prototype.findHighDownDispatchers=function(_r,$r){if(_r==null)return[];var Br=$r.coordinateSystem;if(Br.resourceType==="geoJSON"){var Fr=this._regionsGroupByName;if(Fr){var zr=Fr.get(_r);return zr?[zr]:[]}}else if(Br.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(_r)||[]},Fe.prototype._svgResourceChanged=function(_r){return this._svgMapName!==_r},Fe.prototype._useSVG=function(_r){var $r=geoSourceManager.getGeoResource(_r);if($r&&$r.type==="geoSVG"){var Br=$r.useGraphic(this.uid);this._svgGroup.add(Br.root),this._svgGraphicRecord=Br,this._svgMapName=_r}},Fe.prototype._freeSVG=function(){var _r=this._svgMapName;if(_r!=null){var $r=geoSourceManager.getGeoResource(_r);$r&&$r.type==="geoSVG"&&$r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},Fe.prototype._updateController=function(_r,$r,Br){var Fr=_r.coordinateSystem,zr=this._controller,jr=this._controllerHost;jr.zoomLimit=_r.get("scaleLimit"),jr.zoom=Fr.getZoom(),zr.enable(_r.get("roam")||!1);var Ur=_r.mainType;function Gr(){var Yr={type:"geoRoam",componentType:Ur};return Yr[Ur+"Id"]=_r.id,Yr}zr.off("pan").on("pan",function(Yr){this._mouseDownFlag=!1,updateViewOnPan(jr,Yr.dx,Yr.dy),Br.dispatchAction(extend$1(Gr(),{dx:Yr.dx,dy:Yr.dy,animation:{duration:0}}))},this),zr.off("zoom").on("zoom",function(Yr){this._mouseDownFlag=!1,updateViewOnZoom(jr,Yr.scale,Yr.originX,Yr.originY),Br.dispatchAction(extend$1(Gr(),{zoom:Yr.scale,originX:Yr.originX,originY:Yr.originY,animation:{duration:0}}))},this),zr.setPointerChecker(function(Yr,Kr,Qr){return Fr.containPoint([Kr,Qr])&&!onIrrelevantElement(Yr,Br,_r)})},Fe.prototype.resetForLabelLayout=function(){this.group.traverse(function(_r){var $r=_r.getTextContent();$r&&($r.ignore=mapLabelRaw($r).ignore)})},Fe.prototype._updateMapSelectHandler=function(_r,$r,Br,Fr){var zr=this;$r.off("mousedown"),$r.off("click"),_r.get("selectedMode")&&($r.on("mousedown",function(){zr._mouseDownFlag=!0}),$r.on("click",function(jr){zr._mouseDownFlag&&(zr._mouseDownFlag=!1)}))},Fe}();function applyOptionStyleForRegion(Fe,_r,$r,Br){var Fr=Br.getModel("itemStyle"),zr=Br.getModel(["emphasis","itemStyle"]),jr=Br.getModel(["blur","itemStyle"]),Ur=Br.getModel(["select","itemStyle"]),Gr=getFixedItemStyle(Fr),Yr=getFixedItemStyle(zr),Kr=getFixedItemStyle(Ur),Qr=getFixedItemStyle(jr),Jr=Fe.data;if(Jr){var rn=Jr.getItemVisual($r,"style"),an=Jr.getItemVisual($r,"decal");Fe.isVisualEncodedByVisualMap&&rn.fill&&(Gr.fill=rn.fill),an&&(Gr.decal=createOrUpdatePatternFromDecal(an,Fe.api))}_r.setStyle(Gr),_r.style.strokeNoScale=!0,_r.ensureState("emphasis").style=Yr,_r.ensureState("select").style=Kr,_r.ensureState("blur").style=Qr,setDefaultStateProxy(_r)}function resetLabelForRegion(Fe,_r,$r,Br,Fr,zr,jr){var Ur=Fe.data,Gr=Fe.isGeo,Yr=Ur&&isNaN(Ur.get(Ur.mapDimension("value"),zr)),Kr=Ur&&Ur.getItemLayout(zr);if(Gr||Yr||Kr&&Kr.showLabel){var Qr=Gr?$r:zr,Jr=void 0;(!Ur||zr>=0)&&(Jr=Fr);var rn=jr?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(_r,getLabelStatesModels(Br),{labelFetcher:Jr,labelDataIndex:Qr,defaultText:$r},rn);var an=_r.getTextContent();if(an&&(mapLabelRaw(an).ignore=an.ignore,_r.textConfig&&jr)){var ln=_r.getBoundingRect().clone();_r.textConfig.layoutRect=ln,_r.textConfig.position=[(jr[0]-ln.x)/ln.width*100+"%",(jr[1]-ln.y)/ln.height*100+"%"]}_r.disableLabelAnimation=!0}else _r.removeTextContent(),_r.removeTextConfig(),_r.disableLabelAnimation=null}function resetEventTriggerForRegion(Fe,_r,$r,Br,Fr,zr){Fe.data?Fe.data.setItemGraphicEl(zr,_r):getECData(_r).eventData={componentType:"geo",componentIndex:Fr.componentIndex,geoIndex:Fr.componentIndex,name:$r,region:Br&&Br.option||{}}}function resetTooltipForRegion(Fe,_r,$r,Br,Fr){Fe.data||setTooltipConfig({el:_r,componentModel:Fr,itemName:$r,itemTooltipOption:Br.get("tooltip")})}function resetStateTriggerForRegion(Fe,_r,$r,Br,Fr){_r.highDownSilentOnTouch=!!Fr.get("selectedMode");var zr=Br.getModel("emphasis"),jr=zr.get("focus");return toggleHoverEmphasis(_r,jr,zr.get("blurScope"),zr.get("disabled")),Fe.isGeo&&enableComponentHighDownFeatures(_r,Fr,$r),jr}function projectPolys(Fe,_r,$r){var Br=[],Fr;function zr(){Fr=[]}function jr(){Fr.length&&(Br.push(Fr),Fr=[])}var Ur=_r({polygonStart:zr,polygonEnd:jr,lineStart:zr,lineEnd:jr,point:function(Gr,Yr){isFinite(Gr)&&isFinite(Yr)&&Fr.push([Gr,Yr])},sphere:function(){}});return!$r&&Ur.polygonStart(),each$f(Fe,function(Gr){Ur.lineStart();for(var Yr=0;Yr<Gr.length;Yr++)Ur.point(Gr[Yr][0],Gr[Yr][1]);Ur.lineEnd()}),!$r&&Ur.polygonEnd(),Br}const MapDraw$1=MapDraw;var MapView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr,zr){if(!(zr&&zr.type==="mapToggleSelect"&&zr.from===this.uid)){var jr=this.group;if(jr.removeAll(),!$r.getHostGeoModel()){if(this._mapDraw&&zr&&zr.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),zr&&zr.type==="geoRoam"&&zr.componentType==="series"&&zr.seriesId===$r.id){var Ur=this._mapDraw;Ur&&jr.add(Ur.group)}else if($r.needsDrawMap){var Ur=this._mapDraw||new MapDraw$1(Fr);jr.add(Ur.group),Ur.draw($r,Br,Fr,this,zr),this._mapDraw=Ur}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;$r.get("showLegendSymbol")&&Br.getComponent("legend")&&this._renderSymbols($r,Br,Fr)}}},_r.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},_r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_r.prototype._renderSymbols=function($r,Br,Fr){var zr=$r.originalData,jr=this.group;zr.each(zr.mapDimension("value"),function(Ur,Gr){if(!isNaN(Ur)){var Yr=zr.getItemLayout(Gr);if(!(!Yr||!Yr.point)){var Kr=Yr.point,Qr=Yr.offset,Jr=new Circle$1({style:{fill:$r.getData().getVisual("style").fill},shape:{cx:Kr[0]+Qr*9,cy:Kr[1],r:3},silent:!0,z2:8+(Qr?0:Z2_EMPHASIS_LIFT+1)});if(!Qr){var rn=$r.mainSeries.getData(),an=zr.getName(Gr),ln=rn.indexOfName(an),dn=zr.getItemModel(Gr),hn=dn.getModel("label"),gn=rn.getItemGraphicEl(ln);setLabelStyle(Jr,getLabelStatesModels(dn),{labelFetcher:{getFormattedLabel:function(bn,kn){return $r.getFormattedLabel(ln,kn)}},defaultText:an}),Jr.disableLabelAnimation=!0,hn.get("position")||Jr.setTextConfig({position:"bottom"}),gn.onHoverStateChange=function(bn){setStatesFlag(Jr,bn)}}jr.add(Jr)}}})},_r.type="map",_r}(ChartView$1);const MapView$1=MapView;var MapSeries=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.needsDrawMap=!1,$r.seriesGroup=[],$r.getTooltipPosition=function(Br){if(Br!=null){var Fr=this.getData().getName(Br),zr=this.coordinateSystem,jr=zr.getRegion(Fr);return jr&&zr.dataToPoint(jr.getCenter())}},$r}return _r.prototype.getInitialData=function($r){for(var Br=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),Fr=createHashMap(),zr=[],jr=0,Ur=Br.count();jr<Ur;jr++){var Gr=Br.getName(jr);Fr.set(Gr,!0)}var Yr=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(Yr.regions,function(Kr){var Qr=Kr.name;Fr.get(Qr)||zr.push(Qr)}),Br.appendValues([],zr),Br},_r.prototype.getHostGeoModel=function(){var $r=this.option.geoIndex;return $r!=null?this.ecModel.getComponent("geo",$r):null},_r.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},_r.prototype.getRawValue=function($r){var Br=this.getData();return Br.get(Br.mapDimension("value"),$r)},_r.prototype.getRegionModel=function($r){var Br=this.getData();return Br.getItemModel(Br.indexOfName($r))},_r.prototype.formatTooltip=function($r,Br,Fr){for(var zr=this.getData(),jr=this.getRawValue($r),Ur=zr.getName($r),Gr=this.seriesGroup,Yr=[],Kr=0;Kr<Gr.length;Kr++){var Qr=Gr[Kr].originalData.indexOfName(Ur),Jr=zr.mapDimension("value");isNaN(Gr[Kr].originalData.get(Jr,Qr))||Yr.push(Gr[Kr].name)}return createTooltipMarkup("section",{header:Yr.join(", "),noHeader:!Yr.length,blocks:[createTooltipMarkup("nameValue",{name:Ur,value:jr})]})},_r.prototype.setZoom=function($r){this.option.zoom=$r},_r.prototype.setCenter=function($r){this.option.center=$r},_r.prototype.getLegendIcon=function($r){var Br=$r.icon||"roundRect",Fr=createSymbol$1(Br,0,0,$r.itemWidth,$r.itemHeight,$r.itemStyle.fill);return Fr.setStyle($r.itemStyle),Fr.style.stroke="none",Br.indexOf("empty")>-1&&(Fr.style.stroke=Fr.style.fill,Fr.style.fill="#fff",Fr.style.lineWidth=2),Fr},_r.type="series.map",_r.dependencies=["geo"],_r.layoutMode="box",_r.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},_r}(SeriesModel$1);const MapSeries$1=MapSeries;function dataStatistics(Fe,_r){var $r={};return each$f(Fe,function(Br){Br.each(Br.mapDimension("value"),function(Fr,zr){var jr="ec-"+Br.getName(zr);$r[jr]=$r[jr]||[],isNaN(Fr)||$r[jr].push(Fr)})}),Fe[0].map(Fe[0].mapDimension("value"),function(Br,Fr){for(var zr="ec-"+Fe[0].getName(Fr),jr=0,Ur=1/0,Gr=-1/0,Yr=$r[zr].length,Kr=0;Kr<Yr;Kr++)Ur=Math.min(Ur,$r[zr][Kr]),Gr=Math.max(Gr,$r[zr][Kr]),jr+=$r[zr][Kr];var Qr;return _r==="min"?Qr=Ur:_r==="max"?Qr=Gr:_r==="average"?Qr=jr/Yr:Qr=jr,Yr===0?NaN:Qr})}function mapDataStatistic(Fe){var _r={};Fe.eachSeriesByType("map",function($r){var Br=$r.getHostGeoModel(),Fr=Br?"o"+Br.id:"i"+$r.getMapType();(_r[Fr]=_r[Fr]||[]).push($r)}),each$f(_r,function($r,Br){for(var Fr=dataStatistics(map$1($r,function(jr){return jr.getData()}),$r[0].get("mapValueCalculation")),zr=0;zr<$r.length;zr++)$r[zr].originalData=$r[zr].getData();for(var zr=0;zr<$r.length;zr++)$r[zr].seriesGroup=$r,$r[zr].needsDrawMap=zr===0&&!$r[zr].getHostGeoModel(),$r[zr].setData(Fr.cloneShallow()),$r[zr].mainSeries=$r[0]})}function mapSymbolLayout(Fe){var _r={};Fe.eachSeriesByType("map",function($r){var Br=$r.getMapType();if(!($r.getHostGeoModel()||_r[Br])){var Fr={};each$f($r.seriesGroup,function(jr){var Ur=jr.coordinateSystem,Gr=jr.originalData;jr.get("showLegendSymbol")&&Fe.getComponent("legend")&&Gr.each(Gr.mapDimension("value"),function(Yr,Kr){var Qr=Gr.getName(Kr),Jr=Ur.getRegion(Qr);if(!(!Jr||isNaN(Yr))){var rn=Fr[Qr]||0,an=Ur.dataToPoint(Jr.getCenter());Fr[Qr]=rn+1,Gr.setItemLayout(Kr,{point:an,offset:rn})}})});var zr=$r.getData();zr.each(function(jr){var Ur=zr.getName(jr),Gr=zr.getItemLayout(jr)||{};Gr.showLabel=!Fr[Ur],zr.setItemLayout(jr,Gr)}),_r[Br]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this)||this;return Br.type="view",Br.dimensions=["x","y"],Br._roamTransformable=new Transformable$1,Br._rawTransformable=new Transformable$1,Br.name=$r,Br}return _r.prototype.setBoundingRect=function($r,Br,Fr,zr){return this._rect=new BoundingRect$1($r,Br,Fr,zr),this._rect},_r.prototype.getBoundingRect=function(){return this._rect},_r.prototype.setViewRect=function($r,Br,Fr,zr){this._transformTo($r,Br,Fr,zr),this._viewRect=new BoundingRect$1($r,Br,Fr,zr)},_r.prototype._transformTo=function($r,Br,Fr,zr){var jr=this.getBoundingRect(),Ur=this._rawTransformable;Ur.transform=jr.calculateTransform(new BoundingRect$1($r,Br,Fr,zr));var Gr=Ur.parent;Ur.parent=null,Ur.decomposeTransform(),Ur.parent=Gr,this._updateTransform()},_r.prototype.setCenter=function($r,Br){$r&&(this._center=[parsePercent($r[0],Br.getWidth()),parsePercent($r[1],Br.getHeight())],this._updateCenterAndZoom())},_r.prototype.setZoom=function($r){$r=$r||1;var Br=this.zoomLimit;Br&&(Br.max!=null&&($r=Math.min(Br.max,$r)),Br.min!=null&&($r=Math.max(Br.min,$r))),this._zoom=$r,this._updateCenterAndZoom()},_r.prototype.getDefaultCenter=function(){var $r=this.getBoundingRect(),Br=$r.x+$r.width/2,Fr=$r.y+$r.height/2;return[Br,Fr]},_r.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},_r.prototype.getZoom=function(){return this._zoom||1},_r.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},_r.prototype._updateCenterAndZoom=function(){var $r=this._rawTransformable.getLocalTransform(),Br=this._roamTransformable,Fr=this.getDefaultCenter(),zr=this.getCenter(),jr=this.getZoom();zr=applyTransform$1([],zr,$r),Fr=applyTransform$1([],Fr,$r),Br.originX=zr[0],Br.originY=zr[1],Br.x=Fr[0]-zr[0],Br.y=Fr[1]-zr[1],Br.scaleX=Br.scaleY=jr,this._updateTransform()},_r.prototype._updateTransform=function(){var $r=this._roamTransformable,Br=this._rawTransformable;Br.parent=$r,$r.updateTransform(),Br.updateTransform(),copy(this.transform||(this.transform=[]),Br.transform||create$1()),this._rawTransform=Br.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},_r.prototype.getTransformInfo=function(){var $r=this._rawTransformable,Br=this._roamTransformable,Fr=new Transformable$1;return Fr.transform=Br.transform,Fr.decomposeTransform(),{roam:{x:Fr.x,y:Fr.y,scaleX:Fr.scaleX,scaleY:Fr.scaleY},raw:{x:$r.x,y:$r.y,scaleX:$r.scaleX,scaleY:$r.scaleY}}},_r.prototype.getViewRect=function(){return this._viewRect},_r.prototype.getViewRectAfterRoam=function(){var $r=this.getBoundingRect().clone();return $r.applyTransform(this.transform),$r},_r.prototype.dataToPoint=function($r,Br,Fr){var zr=Br?this._rawTransform:this.transform;return Fr=Fr||[],zr?v2ApplyTransform(Fr,$r,zr):copy$1(Fr,$r)},_r.prototype.pointToData=function($r){var Br=this.invTransform;return Br?v2ApplyTransform([],$r,Br):[$r[0],$r[1]]},_r.prototype.convertToPixel=function($r,Br,Fr){var zr=getCoordSys$4(Br);return zr===this?zr.dataToPoint(Fr):null},_r.prototype.convertFromPixel=function($r,Br,Fr){var zr=getCoordSys$4(Br);return zr===this?zr.pointToData(Fr):null},_r.prototype.containPoint=function($r){return this.getViewRectAfterRoam().contain($r[0],$r[1])},_r.dimensions=["x","y"],_r}(Transformable$1);function getCoordSys$4(Fe){var _r=Fe.seriesModel;return _r?_r.coordinateSystem:null}const View$1=View;var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this,$r)||this;zr.dimensions=geo2DDimensions,zr.type="geo",zr._nameCoordMap=createHashMap(),zr.map=Br;var jr=Fr.projection,Ur=geoSourceManager.load(Br,Fr.nameMap,Fr.nameProperty),Gr=geoSourceManager.getGeoResource(Br);zr.resourceType=Gr?Gr.type:null;var Yr=zr.regions=Ur.regions,Kr=GEO_DEFAULT_PARAMS[Gr.type];zr._regionsMap=Ur.regionsMap,zr.regions=Ur.regions,zr.projection=jr;var Qr;if(jr)for(var Jr=0;Jr<Yr.length;Jr++){var rn=Yr[Jr].getBoundingRect(jr);Qr=Qr||rn.clone(),Qr.union(rn)}else Qr=Ur.boundingRect;return zr.setBoundingRect(Qr.x,Qr.y,Qr.width,Qr.height),zr.aspectScale=jr?1:retrieve2(Fr.aspectScale,Kr.aspectScale),zr._invertLongitute=jr?!1:Kr.invertLongitute,zr}return _r.prototype._transformTo=function($r,Br,Fr,zr){var jr=this.getBoundingRect(),Ur=this._invertLongitute;jr=jr.clone(),Ur&&(jr.y=-jr.y-jr.height);var Gr=this._rawTransformable;Gr.transform=jr.calculateTransform(new BoundingRect$1($r,Br,Fr,zr));var Yr=Gr.parent;Gr.parent=null,Gr.decomposeTransform(),Gr.parent=Yr,Ur&&(Gr.scaleY=-Gr.scaleY),this._updateTransform()},_r.prototype.getRegion=function($r){return this._regionsMap.get($r)},_r.prototype.getRegionByCoord=function($r){for(var Br=this.regions,Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr];if(zr.type==="geoJSON"&&zr.contain($r))return Br[Fr]}},_r.prototype.addGeoCoord=function($r,Br){this._nameCoordMap.set($r,Br)},_r.prototype.getGeoCoord=function($r){var Br=this._regionsMap.get($r);return this._nameCoordMap.get($r)||Br&&Br.getCenter()},_r.prototype.dataToPoint=function($r,Br,Fr){if(isString($r)&&($r=this.getGeoCoord($r)),$r){var zr=this.projection;return zr&&($r=zr.project($r)),$r&&this.projectedToPoint($r,Br,Fr)}},_r.prototype.pointToData=function($r){var Br=this.projection;return Br&&($r=Br.unproject($r)),$r&&this.pointToProjected($r)},_r.prototype.pointToProjected=function($r){return Fe.prototype.pointToData.call(this,$r)},_r.prototype.projectedToPoint=function($r,Br,Fr){return Fe.prototype.dataToPoint.call(this,$r,Br,Fr)},_r.prototype.convertToPixel=function($r,Br,Fr){var zr=getCoordSys$3(Br);return zr===this?zr.dataToPoint(Fr):null},_r.prototype.convertFromPixel=function($r,Br,Fr){var zr=getCoordSys$3(Br);return zr===this?zr.pointToData(Fr):null},_r}(View$1);mixin(Geo,View$1);function getCoordSys$3(Fe){var _r=Fe.geoModel,$r=Fe.seriesModel;return _r?_r.coordinateSystem:$r?$r.coordinateSystem||($r.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}const Geo$1=Geo;function resizeGeo(Fe,_r){var $r=Fe.get("boundingCoords");if($r!=null){var Br=$r[0],Fr=$r[1];if(isFinite(Br[0])&&isFinite(Br[1])&&isFinite(Fr[0])&&isFinite(Fr[1])){var zr=this.projection;if(zr){var jr=Br[0],Ur=Br[1],Gr=Fr[0],Yr=Fr[1];Br=[1/0,1/0],Fr=[-1/0,-1/0];var Kr=function(_n,pn,Cn,En){for(var Pn=Cn-_n,On=En-pn,jn=0;jn<=100;jn++){var Fn=jn/100,Wn=zr.project([_n+Pn*Fn,pn+On*Fn]);min$1(Br,Br,Wn),max$1(Fr,Fr,Wn)}};Kr(jr,Ur,Gr,Ur),Kr(Gr,Ur,Gr,Yr),Kr(Gr,Yr,jr,Yr),Kr(jr,Yr,Gr,Ur)}this.setBoundingRect(Br[0],Br[1],Fr[0]-Br[0],Fr[1]-Br[1])}}var Qr=this.getBoundingRect(),Jr=Fe.get("layoutCenter"),rn=Fe.get("layoutSize"),an=_r.getWidth(),ln=_r.getHeight(),dn=Qr.width/Qr.height*this.aspectScale,hn=!1,gn,bn;Jr&&rn&&(gn=[parsePercent(Jr[0],an),parsePercent(Jr[1],ln)],bn=parsePercent(rn,Math.min(an,ln)),!isNaN(gn[0])&&!isNaN(gn[1])&&!isNaN(bn)&&(hn=!0));var kn;if(hn)kn={},dn>1?(kn.width=bn,kn.height=bn/dn):(kn.height=bn,kn.width=bn*dn),kn.y=gn[1]-kn.height/2,kn.x=gn[0]-kn.width/2;else{var Sn=Fe.getBoxLayoutParams();Sn.aspect=dn,kn=getLayoutRect(Sn,{width:an,height:ln})}this.setViewRect(kn.x,kn.y,kn.width,kn.height),this.setCenter(Fe.get("center"),_r),this.setZoom(Fe.get("zoom"))}function setGeoCoords(Fe,_r){each$f(_r.get("geoCoord"),function($r,Br){Fe.addGeoCoord(Br,$r)})}var GeoCreator=function(){function Fe(){this.dimensions=geo2DDimensions}return Fe.prototype.create=function(_r,$r){var Br=[];function Fr(jr){return{nameProperty:jr.get("nameProperty"),aspectScale:jr.get("aspectScale"),projection:jr.get("projection")}}_r.eachComponent("geo",function(jr,Ur){var Gr=jr.get("map"),Yr=new Geo$1(Gr+Ur,Gr,extend$1({nameMap:jr.get("nameMap")},Fr(jr)));Yr.zoomLimit=jr.get("scaleLimit"),Br.push(Yr),jr.coordinateSystem=Yr,Yr.model=jr,Yr.resize=resizeGeo,Yr.resize(jr,$r)}),_r.eachSeries(function(jr){var Ur=jr.get("coordinateSystem");if(Ur==="geo"){var Gr=jr.get("geoIndex")||0;jr.coordinateSystem=Br[Gr]}});var zr={};return _r.eachSeriesByType("map",function(jr){if(!jr.getHostGeoModel()){var Ur=jr.getMapType();zr[Ur]=zr[Ur]||[],zr[Ur].push(jr)}}),each$f(zr,function(jr,Ur){var Gr=map$1(jr,function(Kr){return Kr.get("nameMap")}),Yr=new Geo$1(Ur,Ur,extend$1({nameMap:mergeAll(Gr)},Fr(jr[0])));Yr.zoomLimit=retrieve.apply(null,map$1(jr,function(Kr){return Kr.get("scaleLimit")})),Br.push(Yr),Yr.resize=resizeGeo,Yr.resize(jr[0],$r),each$f(jr,function(Kr){Kr.coordinateSystem=Yr,setGeoCoords(Yr,Kr)})}),Br},Fe.prototype.getFilledRegions=function(_r,$r,Br,Fr){for(var zr=(_r||[]).slice(),jr=createHashMap(),Ur=0;Ur<zr.length;Ur++)jr.set(zr[Ur].name,zr[Ur]);var Gr=geoSourceManager.load($r,Br,Fr);return each$f(Gr.regions,function(Yr){var Kr=Yr.name;!jr.get(Kr)&&zr.push({name:Kr})}),zr},Fe}(),geoCreator=new GeoCreator;const geoCreator$1=geoCreator;var GeoModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function($r,Br,Fr){var zr=geoSourceManager.getGeoResource($r.map);if(zr&&zr.type==="geoJSON"){var jr=$r.itemStyle=$r.itemStyle||{};"color"in jr||(jr.color="#eee")}this.mergeDefaultAndTheme($r,Fr),defaultEmphasis($r,"label",["show"])},_r.prototype.optionUpdated=function(){var $r=this,Br=this.option;Br.regions=geoCreator$1.getFilledRegions(Br.regions,Br.map,Br.nameMap,Br.nameProperty);var Fr={};this._optionModelMap=reduce(Br.regions||[],function(zr,jr){var Ur=jr.name;return Ur&&(zr.set(Ur,new Model$1(jr,$r,$r.ecModel)),jr.selected&&(Fr[Ur]=!0)),zr},createHashMap()),Br.selectedMap||(Br.selectedMap=Fr)},_r.prototype.getRegionModel=function($r){return this._optionModelMap.get($r)||new Model$1(null,this,this.ecModel)},_r.prototype.getFormattedLabel=function($r,Br){var Fr=this.getRegionModel($r),zr=Br==="normal"?Fr.get(["label","formatter"]):Fr.get(["emphasis","label","formatter"]),jr={name:$r};if(isFunction(zr))return jr.status=Br,zr(jr);if(isString(zr))return zr.replace("{a}",$r??"")},_r.prototype.setZoom=function($r){this.option.zoom=$r},_r.prototype.setCenter=function($r){this.option.center=$r},_r.prototype.select=function($r){var Br=this.option,Fr=Br.selectedMode;if(Fr){Fr!=="multiple"&&(Br.selectedMap=null);var zr=Br.selectedMap||(Br.selectedMap={});zr[$r]=!0}},_r.prototype.unSelect=function($r){var Br=this.option.selectedMap;Br&&(Br[$r]=!1)},_r.prototype.toggleSelected=function($r){this[this.isSelected($r)?"unSelect":"select"]($r)},_r.prototype.isSelected=function($r){var Br=this.option.selectedMap;return!!(Br&&Br[$r])},_r.type="geo",_r.layoutMode="box",_r.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},_r}(ComponentModel$1);const GeoModel$1=GeoModel;function getCenterCoord(Fe,_r){return Fe.pointToProjected?Fe.pointToProjected(_r):Fe.pointToData(_r)}function updateCenterAndZoom(Fe,_r,$r,Br){var Fr=Fe.getZoom(),zr=Fe.getCenter(),jr=_r.zoom,Ur=Fe.projectedToPoint?Fe.projectedToPoint(zr):Fe.dataToPoint(zr);if(_r.dx!=null&&_r.dy!=null&&(Ur[0]-=_r.dx,Ur[1]-=_r.dy,Fe.setCenter(getCenterCoord(Fe,Ur),Br)),jr!=null){if($r){var Gr=$r.min||0,Yr=$r.max||1/0;jr=Math.max(Math.min(Fr*jr,Yr),Gr)/Fr}Fe.scaleX*=jr,Fe.scaleY*=jr;var Kr=(_r.originX-Fe.x)*(jr-1),Qr=(_r.originY-Fe.y)*(jr-1);Fe.x-=Kr,Fe.y-=Qr,Fe.updateTransform(),Fe.setCenter(getCenterCoord(Fe,Ur),Br),Fe.setZoom(jr*Fr)}return{center:Fe.getCenter(),zoom:Fe.getZoom()}}var GeoView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.focusBlurEnabled=!0,$r}return _r.prototype.init=function($r,Br){this._api=Br},_r.prototype.render=function($r,Br,Fr,zr){if(this._model=$r,!$r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$1(Fr));var jr=this._mapDraw;jr.draw($r,Br,Fr,this,zr),jr.group.on("click",this._handleRegionClick,this),jr.group.silent=$r.get("silent"),this.group.add(jr.group),this.updateSelectStatus($r,Br,Fr)},_r.prototype._handleRegionClick=function($r){var Br;findEventDispatcher($r.target,function(Fr){return(Br=getECData(Fr).eventData)!=null},!0),Br&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:Br.name})},_r.prototype.updateSelectStatus=function($r,Br,Fr){var zr=this;this._mapDraw.group.traverse(function(jr){var Ur=getECData(jr).eventData;if(Ur)return zr._model.isSelected(Ur.name)?Fr.enterSelect(jr):Fr.leaveSelect(jr),!0})},_r.prototype.findHighDownDispatchers=function($r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers($r,this._model)},_r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},_r.type="geo",_r}(ComponentView$1);const GeoView$1=GeoView;function registerMap(Fe,_r,$r){geoSourceManager.registerMap(Fe,_r,$r)}function install$J(Fe){Fe.registerCoordinateSystem("geo",geoCreator$1),Fe.registerComponentModel(GeoModel$1),Fe.registerComponentView(GeoView$1),Fe.registerImpl("registerMap",registerMap),Fe.registerImpl("getMap",function($r){return geoSourceManager.getMapForUser($r)});function _r($r,Br){Br.update="geo:updateSelectStatus",Fe.registerAction(Br,function(Fr,zr){var jr={},Ur=[];return zr.eachComponent({mainType:"geo",query:Fr},function(Gr){Gr[$r](Fr.name);var Yr=Gr.coordinateSystem;each$f(Yr.regions,function(Qr){jr[Qr.name]=Gr.isSelected(Qr.name)||!1});var Kr=[];each$f(jr,function(Qr,Jr){jr[Jr]&&Kr.push(Jr)}),Ur.push({geoIndex:Gr.componentIndex,name:Kr})}),{selected:jr,allSelected:Ur,name:Fr.name}})}_r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),_r("select",{type:"geoSelect",event:"geoselected"}),_r("unSelect",{type:"geoUnSelect",event:"geounselected"}),Fe.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function($r,Br,Fr){var zr=$r.componentType||"series";Br.eachComponent({mainType:zr,query:$r},function(jr){var Ur=jr.coordinateSystem;if(Ur.type==="geo"){var Gr=updateCenterAndZoom(Ur,$r,jr.get("scaleLimit"),Fr);jr.setCenter&&jr.setCenter(Gr.center),jr.setZoom&&jr.setZoom(Gr.zoom),zr==="series"&&each$f(jr.seriesGroup,function(Yr){Yr.setCenter(Gr.center),Yr.setZoom(Gr.zoom)})}})})}function install$I(Fe){use(install$J),Fe.registerChartView(MapView$1),Fe.registerSeriesModel(MapSeries$1),Fe.registerLayout(mapSymbolLayout),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",Fe.registerAction)}function init(Fe){var _r=Fe;_r.hierNode={defaultAncestor:null,ancestor:_r,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var $r=[_r],Br,Fr;Br=$r.pop();)if(Fr=Br.children,Br.isExpand&&Fr.length)for(var zr=Fr.length,jr=zr-1;jr>=0;jr--){var Ur=Fr[jr];Ur.hierNode={defaultAncestor:null,ancestor:Ur,prelim:0,modifier:0,change:0,shift:0,i:jr,thread:null},$r.push(Ur)}}function firstWalk(Fe,_r){var $r=Fe.isExpand?Fe.children:[],Br=Fe.parentNode.children,Fr=Fe.hierNode.i?Br[Fe.hierNode.i-1]:null;if($r.length){executeShifts(Fe);var zr=($r[0].hierNode.prelim+$r[$r.length-1].hierNode.prelim)/2;Fr?(Fe.hierNode.prelim=Fr.hierNode.prelim+_r(Fe,Fr),Fe.hierNode.modifier=Fe.hierNode.prelim-zr):Fe.hierNode.prelim=zr}else Fr&&(Fe.hierNode.prelim=Fr.hierNode.prelim+_r(Fe,Fr));Fe.parentNode.hierNode.defaultAncestor=apportion(Fe,Fr,Fe.parentNode.hierNode.defaultAncestor||Br[0],_r)}function secondWalk(Fe){var _r=Fe.hierNode.prelim+Fe.parentNode.hierNode.modifier;Fe.setLayout({x:_r},!0),Fe.hierNode.modifier+=Fe.parentNode.hierNode.modifier}function separation(Fe){return arguments.length?Fe:defaultSeparation}function radialCoordinate(Fe,_r){return Fe-=Math.PI/2,{x:_r*Math.cos(Fe),y:_r*Math.sin(Fe)}}function getViewRect$4(Fe,_r){return getLayoutRect(Fe.getBoxLayoutParams(),{width:_r.getWidth(),height:_r.getHeight()})}function executeShifts(Fe){for(var _r=Fe.children,$r=_r.length,Br=0,Fr=0;--$r>=0;){var zr=_r[$r];zr.hierNode.prelim+=Br,zr.hierNode.modifier+=Br,Fr+=zr.hierNode.change,Br+=zr.hierNode.shift+Fr}}function apportion(Fe,_r,$r,Br){if(_r){for(var Fr=Fe,zr=Fe,jr=zr.parentNode.children[0],Ur=_r,Gr=Fr.hierNode.modifier,Yr=zr.hierNode.modifier,Kr=jr.hierNode.modifier,Qr=Ur.hierNode.modifier;Ur=nextRight(Ur),zr=nextLeft(zr),Ur&&zr;){Fr=nextRight(Fr),jr=nextLeft(jr),Fr.hierNode.ancestor=Fe;var Jr=Ur.hierNode.prelim+Qr-zr.hierNode.prelim-Yr+Br(Ur,zr);Jr>0&&(moveSubtree(nextAncestor(Ur,Fe,$r),Fe,Jr),Yr+=Jr,Gr+=Jr),Qr+=Ur.hierNode.modifier,Yr+=zr.hierNode.modifier,Gr+=Fr.hierNode.modifier,Kr+=jr.hierNode.modifier}Ur&&!nextRight(Fr)&&(Fr.hierNode.thread=Ur,Fr.hierNode.modifier+=Qr-Gr),zr&&!nextLeft(jr)&&(jr.hierNode.thread=zr,jr.hierNode.modifier+=Yr-Kr,$r=Fe)}return $r}function nextRight(Fe){var _r=Fe.children;return _r.length&&Fe.isExpand?_r[_r.length-1]:Fe.hierNode.thread}function nextLeft(Fe){var _r=Fe.children;return _r.length&&Fe.isExpand?_r[0]:Fe.hierNode.thread}function nextAncestor(Fe,_r,$r){return Fe.hierNode.ancestor.parentNode===_r.parentNode?Fe.hierNode.ancestor:$r}function moveSubtree(Fe,_r,$r){var Br=$r/(_r.hierNode.i-Fe.hierNode.i);_r.hierNode.change-=Br,_r.hierNode.shift+=$r,_r.hierNode.modifier+=$r,_r.hierNode.prelim+=$r,Fe.hierNode.change+=Br}function defaultSeparation(Fe,_r){return Fe.parentNode===_r.parentNode?1:2}var TreeEdgeShape=function(){function Fe(){this.parentPoint=[],this.childPoints=[]}return Fe}(),TreePath=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_r.prototype.getDefaultShape=function(){return new TreeEdgeShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.childPoints,zr=Fr.length,jr=Br.parentPoint,Ur=Fr[0],Gr=Fr[zr-1];if(zr===1){$r.moveTo(jr[0],jr[1]),$r.lineTo(Ur[0],Ur[1]);return}var Yr=Br.orient,Kr=Yr==="TB"||Yr==="BT"?0:1,Qr=1-Kr,Jr=parsePercent(Br.forkPosition,1),rn=[];rn[Kr]=jr[Kr],rn[Qr]=jr[Qr]+(Gr[Qr]-jr[Qr])*Jr,$r.moveTo(jr[0],jr[1]),$r.lineTo(rn[0],rn[1]),$r.moveTo(Ur[0],Ur[1]),rn[Kr]=Ur[Kr],$r.lineTo(rn[0],rn[1]),rn[Kr]=Gr[Kr],$r.lineTo(rn[0],rn[1]),$r.lineTo(Gr[0],Gr[1]);for(var an=1;an<zr-1;an++){var ln=Fr[an];$r.moveTo(ln[0],ln[1]),rn[Kr]=ln[Kr],$r.lineTo(rn[0],rn[1])}},_r}(Path$1),TreeView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r._mainGroup=new Group$4,$r}return _r.prototype.init=function($r,Br){this._controller=new RoamController$1(Br.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},_r.prototype.render=function($r,Br,Fr){var zr=$r.getData(),jr=$r.layoutInfo,Ur=this._mainGroup,Gr=$r.get("layout");Gr==="radial"?(Ur.x=jr.x+jr.width/2,Ur.y=jr.y+jr.height/2):(Ur.x=jr.x,Ur.y=jr.y),this._updateViewCoordSys($r,Fr),this._updateController($r,Br,Fr);var Yr=this._data;zr.diff(Yr).add(function(Kr){symbolNeedsDraw(zr,Kr)&&updateNode(zr,Kr,null,Ur,$r)}).update(function(Kr,Qr){var Jr=Yr.getItemGraphicEl(Qr);if(!symbolNeedsDraw(zr,Kr)){Jr&&removeNode(Yr,Qr,Jr,Ur,$r);return}updateNode(zr,Kr,Jr,Ur,$r)}).remove(function(Kr){var Qr=Yr.getItemGraphicEl(Kr);Qr&&removeNode(Yr,Kr,Qr,Ur,$r)}).execute(),this._nodeScaleRatio=$r.get("nodeScaleRatio"),this._updateNodeAndLinkScale($r),$r.get("expandAndCollapse")===!0&&zr.eachItemGraphicEl(function(Kr,Qr){Kr.off("click").on("click",function(){Fr.dispatchAction({type:"treeExpandAndCollapse",seriesId:$r.id,dataIndex:Qr})})}),this._data=zr},_r.prototype._updateViewCoordSys=function($r,Br){var Fr=$r.getData(),zr=[];Fr.each(function(Qr){var Jr=Fr.getItemLayout(Qr);Jr&&!isNaN(Jr.x)&&!isNaN(Jr.y)&&zr.push([+Jr.x,+Jr.y])});var jr=[],Ur=[];fromPoints(zr,jr,Ur);var Gr=this._min,Yr=this._max;Ur[0]-jr[0]===0&&(jr[0]=Gr?Gr[0]:jr[0]-1,Ur[0]=Yr?Yr[0]:Ur[0]+1),Ur[1]-jr[1]===0&&(jr[1]=Gr?Gr[1]:jr[1]-1,Ur[1]=Yr?Yr[1]:Ur[1]+1);var Kr=$r.coordinateSystem=new View$1;Kr.zoomLimit=$r.get("scaleLimit"),Kr.setBoundingRect(jr[0],jr[1],Ur[0]-jr[0],Ur[1]-jr[1]),Kr.setCenter($r.get("center"),Br),Kr.setZoom($r.get("zoom")),this.group.attr({x:Kr.x,y:Kr.y,scaleX:Kr.scaleX,scaleY:Kr.scaleY}),this._min=jr,this._max=Ur},_r.prototype._updateController=function($r,Br,Fr){var zr=this,jr=this._controller,Ur=this._controllerHost,Gr=this.group;jr.setPointerChecker(function(Yr,Kr,Qr){var Jr=Gr.getBoundingRect();return Jr.applyTransform(Gr.transform),Jr.contain(Kr,Qr)&&!onIrrelevantElement(Yr,Fr,$r)}),jr.enable($r.get("roam")),Ur.zoomLimit=$r.get("scaleLimit"),Ur.zoom=$r.coordinateSystem.getZoom(),jr.off("pan").off("zoom").on("pan",function(Yr){updateViewOnPan(Ur,Yr.dx,Yr.dy),Fr.dispatchAction({seriesId:$r.id,type:"treeRoam",dx:Yr.dx,dy:Yr.dy})}).on("zoom",function(Yr){updateViewOnZoom(Ur,Yr.scale,Yr.originX,Yr.originY),Fr.dispatchAction({seriesId:$r.id,type:"treeRoam",zoom:Yr.scale,originX:Yr.originX,originY:Yr.originY}),zr._updateNodeAndLinkScale($r),Fr.updateLabelLayout()})},_r.prototype._updateNodeAndLinkScale=function($r){var Br=$r.getData(),Fr=this._getNodeGlobalScale($r);Br.eachItemGraphicEl(function(zr,jr){zr.setSymbolScale(Fr)})},_r.prototype._getNodeGlobalScale=function($r){var Br=$r.coordinateSystem;if(Br.type!=="view")return 1;var Fr=this._nodeScaleRatio,zr=Br.scaleX||1,jr=Br.getZoom(),Ur=(jr-1)*Fr+1;return Ur/zr},_r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},_r.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},_r.type="tree",_r}(ChartView$1);function symbolNeedsDraw(Fe,_r){var $r=Fe.getItemLayout(_r);return $r&&!isNaN($r.x)&&!isNaN($r.y)}function updateNode(Fe,_r,$r,Br,Fr){var zr=!$r,jr=Fe.tree.getNodeByDataIndex(_r),Ur=jr.getModel(),Gr=jr.getVisual("style").fill,Yr=jr.isExpand===!1&&jr.children.length!==0?Gr:"#fff",Kr=Fe.tree.root,Qr=jr.parentNode===Kr?jr:jr.parentNode||jr,Jr=Fe.getItemGraphicEl(Qr.dataIndex),rn=Qr.getLayout(),an=Jr?{x:Jr.__oldX,y:Jr.__oldY,rawX:Jr.__radialOldRawX,rawY:Jr.__radialOldRawY}:rn,ln=jr.getLayout();zr?($r=new SymbolClz(Fe,_r,null,{symbolInnerColor:Yr,useNameLabel:!0}),$r.x=an.x,$r.y=an.y):$r.updateData(Fe,_r,null,{symbolInnerColor:Yr,useNameLabel:!0}),$r.__radialOldRawX=$r.__radialRawX,$r.__radialOldRawY=$r.__radialRawY,$r.__radialRawX=ln.rawX,$r.__radialRawY=ln.rawY,Br.add($r),Fe.setItemGraphicEl(_r,$r),$r.__oldX=$r.x,$r.__oldY=$r.y,updateProps$1($r,{x:ln.x,y:ln.y},Fr);var dn=$r.getSymbolPath();if(Fr.get("layout")==="radial"){var hn=Kr.children[0],gn=hn.getLayout(),bn=hn.children.length,kn=void 0,Sn=void 0;if(ln.x===gn.x&&jr.isExpand===!0&&hn.children.length){var _n={x:(hn.children[0].getLayout().x+hn.children[bn-1].getLayout().x)/2,y:(hn.children[0].getLayout().y+hn.children[bn-1].getLayout().y)/2};kn=Math.atan2(_n.y-gn.y,_n.x-gn.x),kn<0&&(kn=Math.PI*2+kn),Sn=_n.x<gn.x,Sn&&(kn=kn-Math.PI)}else kn=Math.atan2(ln.y-gn.y,ln.x-gn.x),kn<0&&(kn=Math.PI*2+kn),jr.children.length===0||jr.children.length!==0&&jr.isExpand===!1?(Sn=ln.x<gn.x,Sn&&(kn=kn-Math.PI)):(Sn=ln.x>gn.x,Sn||(kn=kn-Math.PI));var pn=Sn?"left":"right",Cn=Ur.getModel("label"),En=Cn.get("rotate"),Pn=En*(Math.PI/180),On=dn.getTextContent();On&&(dn.setTextConfig({position:Cn.get("position")||pn,rotation:En==null?-kn:Pn,origin:"center"}),On.setStyle("verticalAlign","middle"))}var jn=Ur.get(["emphasis","focus"]),Fn=jn==="relative"?concatArray(jr.getAncestorsIndices(),jr.getDescendantIndices()):jn==="ancestor"?jr.getAncestorsIndices():jn==="descendant"?jr.getDescendantIndices():null;Fn&&(getECData($r).focus=Fn),drawEdge(Fr,jr,Kr,$r,an,rn,ln,Br),$r.__edge&&($r.onHoverStateChange=function(Wn){if(Wn!=="blur"){var Hn=jr.parentNode&&Fe.getItemGraphicEl(jr.parentNode.dataIndex);Hn&&Hn.hoverState===HOVER_STATE_BLUR||setStatesFlag($r.__edge,Wn)}})}function drawEdge(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr=_r.getModel(),Yr=Fe.get("edgeShape"),Kr=Fe.get("layout"),Qr=Fe.getOrient(),Jr=Fe.get(["lineStyle","curveness"]),rn=Fe.get("edgeForkPosition"),an=Gr.getModel("lineStyle").getLineStyle(),ln=Br.__edge;if(Yr==="curve")_r.parentNode&&_r.parentNode!==$r&&(ln||(ln=Br.__edge=new BezierCurve$1({shape:getEdgeShape(Kr,Qr,Jr,Fr,Fr)})),updateProps$1(ln,{shape:getEdgeShape(Kr,Qr,Jr,zr,jr)},Fe));else if(Yr==="polyline"&&Kr==="orthogonal"&&_r!==$r&&_r.children&&_r.children.length!==0&&_r.isExpand===!0){for(var dn=_r.children,hn=[],gn=0;gn<dn.length;gn++){var bn=dn[gn].getLayout();hn.push([bn.x,bn.y])}ln||(ln=Br.__edge=new TreePath({shape:{parentPoint:[jr.x,jr.y],childPoints:[[jr.x,jr.y]],orient:Qr,forkPosition:rn}})),updateProps$1(ln,{shape:{parentPoint:[jr.x,jr.y],childPoints:hn}},Fe)}ln&&!(Yr==="polyline"&&!_r.isExpand)&&(ln.useStyle(defaults({strokeNoScale:!0,fill:null},an)),setStatesStylesFromModel(ln,Gr,"lineStyle"),setDefaultStateProxy(ln),Ur.add(ln))}function removeNodeEdge(Fe,_r,$r,Br,Fr){var zr=_r.tree.root,jr=getSourceNode(zr,Fe),Ur=jr.source,Gr=jr.sourceLayout,Yr=_r.getItemGraphicEl(Fe.dataIndex);if(Yr){var Kr=_r.getItemGraphicEl(Ur.dataIndex),Qr=Kr.__edge,Jr=Yr.__edge||(Ur.isExpand===!1||Ur.children.length===1?Qr:void 0),rn=Br.get("edgeShape"),an=Br.get("layout"),ln=Br.get("orient"),dn=Br.get(["lineStyle","curveness"]);Jr&&(rn==="curve"?removeElement(Jr,{shape:getEdgeShape(an,ln,dn,Gr,Gr),style:{opacity:0}},Br,{cb:function(){$r.remove(Jr)},removeOpt:Fr}):rn==="polyline"&&Br.get("layout")==="orthogonal"&&removeElement(Jr,{shape:{parentPoint:[Gr.x,Gr.y],childPoints:[[Gr.x,Gr.y]]},style:{opacity:0}},Br,{cb:function(){$r.remove(Jr)},removeOpt:Fr}))}}function getSourceNode(Fe,_r){for(var $r=_r.parentNode===Fe?_r:_r.parentNode||_r,Br;Br=$r.getLayout(),Br==null;)$r=$r.parentNode===Fe?$r:$r.parentNode||$r;return{source:$r,sourceLayout:Br}}function removeNode(Fe,_r,$r,Br,Fr){var zr=Fe.tree.getNodeByDataIndex(_r),jr=Fe.tree.root,Ur=getSourceNode(jr,zr).sourceLayout,Gr={duration:Fr.get("animationDurationUpdate"),easing:Fr.get("animationEasingUpdate")};removeElement($r,{x:Ur.x+1,y:Ur.y+1},Fr,{cb:function(){Br.remove($r),Fe.setItemGraphicEl(_r,null)},removeOpt:Gr}),$r.fadeOut(null,Fe.hostModel,{fadeLabel:!0,animation:Gr}),zr.children.forEach(function(Yr){removeNodeEdge(Yr,Fe,Br,Fr,Gr)}),removeNodeEdge(zr,Fe,Br,Fr,Gr)}function getEdgeShape(Fe,_r,$r,Br,Fr){var zr,jr,Ur,Gr,Yr,Kr,Qr,Jr;if(Fe==="radial"){Yr=Br.rawX,Qr=Br.rawY,Kr=Fr.rawX,Jr=Fr.rawY;var rn=radialCoordinate(Yr,Qr),an=radialCoordinate(Yr,Qr+(Jr-Qr)*$r),ln=radialCoordinate(Kr,Jr+(Qr-Jr)*$r),dn=radialCoordinate(Kr,Jr);return{x1:rn.x||0,y1:rn.y||0,x2:dn.x||0,y2:dn.y||0,cpx1:an.x||0,cpy1:an.y||0,cpx2:ln.x||0,cpy2:ln.y||0}}else Yr=Br.x,Qr=Br.y,Kr=Fr.x,Jr=Fr.y,(_r==="LR"||_r==="RL")&&(zr=Yr+(Kr-Yr)*$r,jr=Qr,Ur=Kr+(Yr-Kr)*$r,Gr=Jr),(_r==="TB"||_r==="BT")&&(zr=Yr,jr=Qr+(Jr-Qr)*$r,Ur=Kr,Gr=Jr+(Qr-Jr)*$r);return{x1:Yr,y1:Qr,x2:Kr,y2:Jr,cpx1:zr,cpy1:jr,cpx2:Ur,cpy2:Gr}}const TreeView$1=TreeView;var inner$e=makeInner();function linkSeriesData(Fe){var _r=Fe.mainData,$r=Fe.datas;$r||($r={main:_r},Fe.datasAttr={main:"data"}),Fe.datas=Fe.mainData=null,linkAll(_r,$r,Fe),each$f($r,function(Br){each$f(_r.TRANSFERABLE_METHODS,function(Fr){Br.wrapMethod(Fr,curry$1(transferInjection,Fe))})}),_r.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,Fe)),each$f(_r.CHANGABLE_METHODS,function(Br){_r.wrapMethod(Br,curry$1(changeInjection,Fe))}),assert($r[_r.dataType]===_r)}function transferInjection(Fe,_r){if(isMainData(this)){var $r=extend$1({},inner$e(this).datas);$r[this.dataType]=_r,linkAll(_r,$r,Fe)}else linkSingle(_r,this.dataType,inner$e(this).mainData,Fe);return _r}function changeInjection(Fe,_r){return Fe.struct&&Fe.struct.update(),_r}function cloneShallowInjection(Fe,_r){return each$f(inner$e(_r).datas,function($r,Br){$r!==_r&&linkSingle($r.cloneShallow(),Br,_r,Fe)}),_r}function getLinkedData(Fe){var _r=inner$e(this).mainData;return Fe==null||_r==null?_r:inner$e(_r).datas[Fe]}function getLinkedDataAll(){var Fe=inner$e(this).mainData;return Fe==null?[{data:Fe}]:map$1(keys(inner$e(Fe).datas),function(_r){return{type:_r,data:inner$e(Fe).datas[_r]}})}function isMainData(Fe){return inner$e(Fe).mainData===Fe}function linkAll(Fe,_r,$r){inner$e(Fe).datas={},each$f(_r,function(Br,Fr){linkSingle(Br,Fr,Fe,$r)})}function linkSingle(Fe,_r,$r,Br){inner$e($r).datas[_r]=Fe,inner$e(Fe).mainData=$r,Fe.dataType=_r,Br.struct&&(Fe[Br.structAttr]=Br.struct,Br.struct[Br.datasAttr[_r]]=Fe),Fe.getLinkedData=getLinkedData,Fe.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function Fe(_r,$r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=_r||"",this.hostTree=$r}return Fe.prototype.isRemoved=function(){return this.dataIndex<0},Fe.prototype.eachNode=function(_r,$r,Br){isFunction(_r)&&(Br=$r,$r=_r,_r=null),_r=_r||{},isString(_r)&&(_r={order:_r});var Fr=_r.order||"preorder",zr=this[_r.attr||"children"],jr;Fr==="preorder"&&(jr=$r.call(Br,this));for(var Ur=0;!jr&&Ur<zr.length;Ur++)zr[Ur].eachNode(_r,$r,Br);Fr==="postorder"&&$r.call(Br,this)},Fe.prototype.updateDepthAndHeight=function(_r){var $r=0;this.depth=_r;for(var Br=0;Br<this.children.length;Br++){var Fr=this.children[Br];Fr.updateDepthAndHeight(_r+1),Fr.height>$r&&($r=Fr.height)}this.height=$r+1},Fe.prototype.getNodeById=function(_r){if(this.getId()===_r)return this;for(var $r=0,Br=this.children,Fr=Br.length;$r<Fr;$r++){var zr=Br[$r].getNodeById(_r);if(zr)return zr}},Fe.prototype.contains=function(_r){if(_r===this)return!0;for(var $r=0,Br=this.children,Fr=Br.length;$r<Fr;$r++){var zr=Br[$r].contains(_r);if(zr)return zr}},Fe.prototype.getAncestors=function(_r){for(var $r=[],Br=_r?this:this.parentNode;Br;)$r.push(Br),Br=Br.parentNode;return $r.reverse(),$r},Fe.prototype.getAncestorsIndices=function(){for(var _r=[],$r=this;$r;)_r.push($r.dataIndex),$r=$r.parentNode;return _r.reverse(),_r},Fe.prototype.getDescendantIndices=function(){var _r=[];return this.eachNode(function($r){_r.push($r.dataIndex)}),_r},Fe.prototype.getValue=function(_r){var $r=this.hostTree.data;return $r.getStore().get($r.getDimensionIndex(_r||"value"),this.dataIndex)},Fe.prototype.setLayout=function(_r,$r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,_r,$r)},Fe.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},Fe.prototype.getModel=function(_r){if(!(this.dataIndex<0)){var $r=this.hostTree,Br=$r.data.getItemModel(this.dataIndex);return Br.getModel(_r)}},Fe.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},Fe.prototype.setVisual=function(_r,$r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,_r,$r)},Fe.prototype.getVisual=function(_r){return this.hostTree.data.getItemVisual(this.dataIndex,_r)},Fe.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},Fe.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},Fe.prototype.getChildIndex=function(){if(this.parentNode){for(var _r=this.parentNode.children,$r=0;$r<_r.length;++$r)if(_r[$r]===this)return $r;return-1}return-1},Fe.prototype.isAncestorOf=function(_r){for(var $r=_r.parentNode;$r;){if($r===this)return!0;$r=$r.parentNode}return!1},Fe.prototype.isDescendantOf=function(_r){return _r!==this&&_r.isAncestorOf(this)},Fe}(),Tree=function(){function Fe(_r){this.type="tree",this._nodes=[],this.hostModel=_r}return Fe.prototype.eachNode=function(_r,$r,Br){this.root.eachNode(_r,$r,Br)},Fe.prototype.getNodeByDataIndex=function(_r){var $r=this.data.getRawIndex(_r);return this._nodes[$r]},Fe.prototype.getNodeById=function(_r){return this.root.getNodeById(_r)},Fe.prototype.update=function(){for(var _r=this.data,$r=this._nodes,Br=0,Fr=$r.length;Br<Fr;Br++)$r[Br].dataIndex=-1;for(var Br=0,Fr=_r.count();Br<Fr;Br++)$r[_r.getRawIndex(Br)].dataIndex=Br},Fe.prototype.clearLayouts=function(){this.data.clearItemLayouts()},Fe.createTree=function(_r,$r,Br){var Fr=new Fe($r),zr=[],jr=1;Ur(_r);function Ur(Kr,Qr){var Jr=Kr.value;jr=Math.max(jr,isArray$1(Jr)?Jr.length:1),zr.push(Kr);var rn=new TreeNode(convertOptionIdName(Kr.name,""),Fr);Qr?addChild(rn,Qr):Fr.root=rn,Fr._nodes.push(rn);var an=Kr.children;if(an)for(var ln=0;ln<an.length;ln++)Ur(an[ln],rn)}Fr.root.updateDepthAndHeight(0);var Gr=prepareSeriesDataSchema(zr,{coordDimensions:["value"],dimensionsCount:jr}).dimensions,Yr=new SeriesData$1(Gr,$r);return Yr.initData(zr),Br&&Br(Yr),linkSeriesData({mainData:Yr,struct:Fr,structAttr:"tree"}),Fr.update(),Fr},Fe}();function addChild(Fe,_r){var $r=_r.children;Fe.parentNode!==_r&&($r.push(Fe),Fe.parentNode=_r)}const Tree$1=Tree;function retrieveTargetInfo(Fe,_r,$r){if(Fe&&indexOf(_r,Fe.type)>=0){var Br=$r.getData().tree.root,Fr=Fe.targetNode;if(isString(Fr)&&(Fr=Br.getNodeById(Fr)),Fr&&Br.contains(Fr))return{node:Fr};var zr=Fe.targetNodeId;if(zr!=null&&(Fr=Br.getNodeById(zr)))return{node:Fr}}}function getPathToRoot(Fe){for(var _r=[];Fe;)Fe=Fe.parentNode,Fe&&_r.push(Fe);return _r.reverse()}function aboveViewRoot(Fe,_r){var $r=getPathToRoot(Fe);return indexOf($r,_r)>=0}function wrapTreePathInfo(Fe,_r){for(var $r=[];Fe;){var Br=Fe.dataIndex;$r.push({name:Fe.name,dataIndex:Br,value:_r.getRawValue(Br)}),Fe=Fe.parentNode}return $r.reverse(),$r}var TreeSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.hasSymbolVisual=!0,$r.ignoreStyleOnData=!0,$r}return _r.prototype.getInitialData=function($r){var Br={name:$r.name,children:$r.data},Fr=$r.leaves||{},zr=new Model$1(Fr,this,this.ecModel),jr=Tree$1.createTree(Br,this,Ur);function Ur(Qr){Qr.wrapMethod("getItemModel",function(Jr,rn){var an=jr.getNodeByDataIndex(rn);return an&&an.children.length&&an.isExpand||(Jr.parentModel=zr),Jr})}var Gr=0;jr.eachNode("preorder",function(Qr){Qr.depth>Gr&&(Gr=Qr.depth)});var Yr=$r.expandAndCollapse,Kr=Yr&&$r.initialTreeDepth>=0?$r.initialTreeDepth:Gr;return jr.root.eachNode("preorder",function(Qr){var Jr=Qr.hostTree.data.getRawDataItem(Qr.dataIndex);Qr.isExpand=Jr&&Jr.collapsed!=null?!Jr.collapsed:Qr.depth<=Kr}),jr.data},_r.prototype.getOrient=function(){var $r=this.get("orient");return $r==="horizontal"?$r="LR":$r==="vertical"&&($r="TB"),$r},_r.prototype.setZoom=function($r){this.option.zoom=$r},_r.prototype.setCenter=function($r){this.option.center=$r},_r.prototype.formatTooltip=function($r,Br,Fr){for(var zr=this.getData().tree,jr=zr.root.children[0],Ur=zr.getNodeByDataIndex($r),Gr=Ur.getValue(),Yr=Ur.name;Ur&&Ur!==jr;)Yr=Ur.parentNode.name+"."+Yr,Ur=Ur.parentNode;return createTooltipMarkup("nameValue",{name:Yr,value:Gr,noValue:isNaN(Gr)||Gr==null})},_r.prototype.getDataParams=function($r){var Br=Fe.prototype.getDataParams.apply(this,arguments),Fr=this.getData().tree.getNodeByDataIndex($r);return Br.treeAncestors=wrapTreePathInfo(Fr,this),Br.collapsed=!Fr.isExpand,Br},_r.type="series.tree",_r.layoutMode="box",_r.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},_r}(SeriesModel$1);const TreeSeriesModel$1=TreeSeriesModel;function eachAfter(Fe,_r,$r){for(var Br=[Fe],Fr=[],zr;zr=Br.pop();)if(Fr.push(zr),zr.isExpand){var jr=zr.children;if(jr.length)for(var Ur=0;Ur<jr.length;Ur++)Br.push(jr[Ur])}for(;zr=Fr.pop();)_r(zr,$r)}function eachBefore(Fe,_r){for(var $r=[Fe],Br;Br=$r.pop();)if(_r(Br),Br.isExpand){var Fr=Br.children;if(Fr.length)for(var zr=Fr.length-1;zr>=0;zr--)$r.push(Fr[zr])}}function treeLayout(Fe,_r){Fe.eachSeriesByType("tree",function($r){commonLayout($r,_r)})}function commonLayout(Fe,_r){var $r=getViewRect$4(Fe,_r);Fe.layoutInfo=$r;var Br=Fe.get("layout"),Fr=0,zr=0,jr=null;Br==="radial"?(Fr=2*Math.PI,zr=Math.min($r.height,$r.width)/2,jr=separation(function(bn,kn){return(bn.parentNode===kn.parentNode?1:2)/bn.depth})):(Fr=$r.width,zr=$r.height,jr=separation());var Ur=Fe.getData().tree.root,Gr=Ur.children[0];if(Gr){init(Ur),eachAfter(Gr,firstWalk,jr),Ur.hierNode.modifier=-Gr.hierNode.prelim,eachBefore(Gr,secondWalk);var Yr=Gr,Kr=Gr,Qr=Gr;eachBefore(Gr,function(bn){var kn=bn.getLayout().x;kn<Yr.getLayout().x&&(Yr=bn),kn>Kr.getLayout().x&&(Kr=bn),bn.depth>Qr.depth&&(Qr=bn)});var Jr=Yr===Kr?1:jr(Yr,Kr)/2,rn=Jr-Yr.getLayout().x,an=0,ln=0,dn=0,hn=0;if(Br==="radial")an=Fr/(Kr.getLayout().x+Jr+rn),ln=zr/(Qr.depth-1||1),eachBefore(Gr,function(bn){dn=(bn.getLayout().x+rn)*an,hn=(bn.depth-1)*ln;var kn=radialCoordinate(dn,hn);bn.setLayout({x:kn.x,y:kn.y,rawX:dn,rawY:hn},!0)});else{var gn=Fe.getOrient();gn==="RL"||gn==="LR"?(ln=zr/(Kr.getLayout().x+Jr+rn),an=Fr/(Qr.depth-1||1),eachBefore(Gr,function(bn){hn=(bn.getLayout().x+rn)*ln,dn=gn==="LR"?(bn.depth-1)*an:Fr-(bn.depth-1)*an,bn.setLayout({x:dn,y:hn},!0)})):(gn==="TB"||gn==="BT")&&(an=Fr/(Kr.getLayout().x+Jr+rn),ln=zr/(Qr.depth-1||1),eachBefore(Gr,function(bn){dn=(bn.getLayout().x+rn)*an,hn=gn==="TB"?(bn.depth-1)*ln:zr-(bn.depth-1)*ln,bn.setLayout({x:dn,y:hn},!0)}))}}}function treeVisual(Fe){Fe.eachSeriesByType("tree",function(_r){var $r=_r.getData(),Br=$r.tree;Br.eachNode(function(Fr){var zr=Fr.getModel(),jr=zr.getModel("itemStyle").getItemStyle(),Ur=$r.ensureUniqueItemVisual(Fr.dataIndex,"style");extend$1(Ur,jr)})})}function installTreeAction(Fe){Fe.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(_r,$r){$r.eachComponent({mainType:"series",subType:"tree",query:_r},function(Br){var Fr=_r.dataIndex,zr=Br.getData().tree,jr=zr.getNodeByDataIndex(Fr);jr.isExpand=!jr.isExpand})}),Fe.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(_r,$r,Br){$r.eachComponent({mainType:"series",subType:"tree",query:_r},function(Fr){var zr=Fr.coordinateSystem,jr=updateCenterAndZoom(zr,_r,void 0,Br);Fr.setCenter&&Fr.setCenter(jr.center),Fr.setZoom&&Fr.setZoom(jr.zoom)})})}function install$H(Fe){Fe.registerChartView(TreeView$1),Fe.registerSeriesModel(TreeSeriesModel$1),Fe.registerLayout(treeLayout),Fe.registerVisual(treeVisual),installTreeAction(Fe)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(Fe){for(var _r=0;_r<actionTypes.length;_r++)Fe.registerAction({type:actionTypes[_r],update:"updateView"},noop);Fe.registerAction({type:"treemapRootToNode",update:"updateView"},function($r,Br){Br.eachComponent({mainType:"series",subType:"treemap",query:$r},Fr);function Fr(zr,jr){var Ur=["treemapZoomToNode","treemapRootToNode"],Gr=retrieveTargetInfo($r,Ur,zr);if(Gr){var Yr=zr.getViewRoot();Yr&&($r.direction=aboveViewRoot(Yr,Gr.node)?"rollUp":"drillDown"),zr.resetViewRoot(Gr.node)}}})}function enableAriaDecalForTree(Fe){var _r=Fe.getData(),$r=_r.tree,Br={};$r.eachNode(function(Fr){for(var zr=Fr;zr&&zr.depth>1;)zr=zr.parentNode;var jr=getDecalFromPalette(Fe.ecModel,zr.name||zr.dataIndex+"",Br);Fr.setVisual("decal",jr)})}var TreemapSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.preventUsingHoverLayer=!0,$r}return _r.prototype.getInitialData=function($r,Br){var Fr={name:$r.name,children:$r.data};completeTreeValue$1(Fr);var zr=$r.levels||[],jr=this.designatedVisualItemStyle={},Ur=new Model$1({itemStyle:jr},this,Br);zr=$r.levels=setDefault(zr,Br);var Gr=map$1(zr||[],function(Qr){return new Model$1(Qr,Ur,Br)},this),Yr=Tree$1.createTree(Fr,this,Kr);function Kr(Qr){Qr.wrapMethod("getItemModel",function(Jr,rn){var an=Yr.getNodeByDataIndex(rn),ln=an?Gr[an.depth]:null;return Jr.parentModel=ln||Ur,Jr})}return Yr.data},_r.prototype.optionUpdated=function(){this.resetViewRoot()},_r.prototype.formatTooltip=function($r,Br,Fr){var zr=this.getData(),jr=this.getRawValue($r),Ur=zr.getName($r);return createTooltipMarkup("nameValue",{name:Ur,value:jr})},_r.prototype.getDataParams=function($r){var Br=Fe.prototype.getDataParams.apply(this,arguments),Fr=this.getData().tree.getNodeByDataIndex($r);return Br.treeAncestors=wrapTreePathInfo(Fr,this),Br.treePathInfo=Br.treeAncestors,Br},_r.prototype.setLayoutInfo=function($r){this.layoutInfo=this.layoutInfo||{},extend$1(this.layoutInfo,$r)},_r.prototype.mapIdToIndex=function($r){var Br=this._idIndexMap;Br||(Br=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var Fr=Br.get($r);return Fr==null&&Br.set($r,Fr=this._idIndexMapCount++),Fr},_r.prototype.getViewRoot=function(){return this._viewRoot},_r.prototype.resetViewRoot=function($r){$r?this._viewRoot=$r:$r=this._viewRoot;var Br=this.getRawData().tree.root;(!$r||$r!==Br&&!Br.contains($r))&&(this._viewRoot=Br)},_r.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},_r.type="series.treemap",_r.layoutMode="box",_r.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â¶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},_r}(SeriesModel$1);function completeTreeValue$1(Fe){var _r=0;each$f(Fe.children,function(Br){completeTreeValue$1(Br);var Fr=Br.value;isArray$1(Fr)&&(Fr=Fr[0]),_r+=Fr});var $r=Fe.value;isArray$1($r)&&($r=$r[0]),($r==null||isNaN($r))&&($r=_r),$r<0&&($r=0),isArray$1(Fe.value)?Fe.value[0]=$r:Fe.value=$r}function setDefault(Fe,_r){var $r=normalizeToArray(_r.get("color")),Br=normalizeToArray(_r.get(["aria","decal","decals"]));if($r){Fe=Fe||[];var Fr,zr;each$f(Fe,function(Ur){var Gr=new Model$1(Ur),Yr=Gr.get("color"),Kr=Gr.get("decal");(Gr.get(["itemStyle","color"])||Yr&&Yr!=="none")&&(Fr=!0),(Gr.get(["itemStyle","decal"])||Kr&&Kr!=="none")&&(zr=!0)});var jr=Fe[0]||(Fe[0]={});return Fr||(jr.color=$r.slice()),!zr&&Br&&(jr.decal=Br.slice()),Fe}}const TreemapSeriesModel$1=TreemapSeriesModel;var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function Fe(_r){this.group=new Group$4,_r.add(this.group)}return Fe.prototype.render=function(_r,$r,Br,Fr){var zr=_r.getModel("breadcrumb"),jr=this.group;if(jr.removeAll(),!(!zr.get("show")||!Br)){var Ur=zr.getModel("itemStyle"),Gr=zr.getModel("emphasis"),Yr=Ur.getModel("textStyle"),Kr=Gr.getModel(["itemStyle","textStyle"]),Qr={pos:{left:zr.get("left"),right:zr.get("right"),top:zr.get("top"),bottom:zr.get("bottom")},box:{width:$r.getWidth(),height:$r.getHeight()},emptyItemWidth:zr.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(Br,Qr,Yr),this._renderContent(_r,Qr,Ur,Gr,Yr,Kr,Fr),positionElement(jr,Qr.pos,Qr.box)}},Fe.prototype._prepare=function(_r,$r,Br){for(var Fr=_r;Fr;Fr=Fr.parentNode){var zr=convertOptionIdName(Fr.getModel().get("name"),""),jr=Br.getTextRect(zr),Ur=Math.max(jr.width+TEXT_PADDING*2,$r.emptyItemWidth);$r.totalWidth+=Ur+ITEM_GAP,$r.renderList.push({node:Fr,text:zr,width:Ur})}},Fe.prototype._renderContent=function(_r,$r,Br,Fr,zr,jr,Ur){for(var Gr=0,Yr=$r.emptyItemWidth,Kr=_r.get(["breadcrumb","height"]),Qr=getAvailableSize($r.pos,$r.box),Jr=$r.totalWidth,rn=$r.renderList,an=Fr.getModel("itemStyle").getItemStyle(),ln=rn.length-1;ln>=0;ln--){var dn=rn[ln],hn=dn.node,gn=dn.width,bn=dn.text;Jr>Qr.width&&(Jr-=gn-Yr,gn=Yr,bn=null);var kn=new Polygon$1({shape:{points:makeItemPoints(Gr,0,gn,Kr,ln===rn.length-1,ln===0)},style:defaults(Br.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$1({style:createTextStyle$1(zr,{text:bn})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(Ur,hn)});kn.disableLabelAnimation=!0,kn.getTextContent().ensureState("emphasis").style=createTextStyle$1(jr,{text:bn}),kn.ensureState("emphasis").style=an,toggleHoverEmphasis(kn,Fr.get("focus"),Fr.get("blurScope"),Fr.get("disabled")),this.group.add(kn),packEventData(kn,_r,hn),Gr+=gn+ITEM_GAP}},Fe.prototype.remove=function(){this.group.removeAll()},Fe}();function makeItemPoints(Fe,_r,$r,Br,Fr,zr){var jr=[[Fr?Fe:Fe-ARRAY_LENGTH,_r],[Fe+$r,_r],[Fe+$r,_r+Br],[Fr?Fe:Fe-ARRAY_LENGTH,_r+Br]];return!zr&&jr.splice(2,0,[Fe+$r+ARRAY_LENGTH,_r+Br/2]),!Fr&&jr.push([Fe,_r+Br/2]),jr}function packEventData(Fe,_r,$r){getECData(Fe).eventData={componentType:"series",componentSubType:"treemap",componentIndex:_r.componentIndex,seriesIndex:_r.seriesIndex,seriesName:_r.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:$r&&$r.dataIndex,name:$r&&$r.name},treePathInfo:$r&&wrapTreePathInfo($r,_r)}}const Breadcrumb$1=Breadcrumb;var AnimationWrap=function(){function Fe(){this._storage=[],this._elExistsMap={}}return Fe.prototype.add=function(_r,$r,Br,Fr,zr){return this._elExistsMap[_r.id]?!1:(this._elExistsMap[_r.id]=!0,this._storage.push({el:_r,target:$r,duration:Br,delay:Fr,easing:zr}),!0)},Fe.prototype.finished=function(_r){return this._finishedCallback=_r,this},Fe.prototype.start=function(){for(var _r=this,$r=this._storage.length,Br=function(){$r--,$r<=0&&(_r._storage.length=0,_r._elExistsMap={},_r._finishedCallback&&_r._finishedCallback())},Fr=0,zr=this._storage.length;Fr<zr;Fr++){var jr=this._storage[Fr];jr.el.animateTo(jr.target,{duration:jr.duration,delay:jr.delay,easing:jr.easing,setToFinal:!0,done:Br,aborted:Br})}return this},Fe}();function createWrap(){return new AnimationWrap}var Group$2=Group$4,Rect$1=Rect$3,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(Fe){var _r=getStateItemStyle(Fe);return _r.stroke=_r.fill=_r.lineWidth=null,_r},inner$d=makeInner(),TreemapView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r._state="ready",$r._storage=createStorage(),$r}return _r.prototype.render=function($r,Br,Fr,zr){var jr=Br.findComponents({mainType:"series",subType:"treemap",query:zr});if(!(indexOf(jr,$r)<0)){this.seriesModel=$r,this.api=Fr,this.ecModel=Br;var Ur=["treemapZoomToNode","treemapRootToNode"],Gr=retrieveTargetInfo(zr,Ur,$r),Yr=zr&&zr.type,Kr=$r.layoutInfo,Qr=!this._oldTree,Jr=this._storage,rn=Yr==="treemapRootToNode"&&Gr&&Jr?{rootNodeGroup:Jr.nodeGroup[Gr.node.getRawIndex()],direction:zr.direction}:null,an=this._giveContainerGroup(Kr),ln=$r.get("animation"),dn=this._doRender(an,$r,rn);ln&&!Qr&&(!Yr||Yr==="treemapZoomToNode"||Yr==="treemapRootToNode")?this._doAnimation(an,dn,$r,rn):dn.renderFinally(),this._resetController(Fr),this._renderBreadcrumb($r,Fr,Gr)}},_r.prototype._giveContainerGroup=function($r){var Br=this._containerGroup;return Br||(Br=this._containerGroup=new Group$2,this._initEvents(Br),this.group.add(Br)),Br.x=$r.x,Br.y=$r.y,Br},_r.prototype._doRender=function($r,Br,Fr){var zr=Br.getData().tree,jr=this._oldTree,Ur=createStorage(),Gr=createStorage(),Yr=this._storage,Kr=[];function Qr(dn,hn,gn,bn){return renderNode(Br,Gr,Yr,Fr,Ur,Kr,dn,hn,gn,bn)}rn(zr.root?[zr.root]:[],jr&&jr.root?[jr.root]:[],$r,zr===jr||!jr,0);var Jr=an(Yr);return this._oldTree=zr,this._storage=Gr,{lastsForAnimation:Ur,willDeleteEls:Jr,renderFinally:ln};function rn(dn,hn,gn,bn,kn){bn?(hn=dn,each$f(dn,function(pn,Cn){!pn.isRemoved()&&_n(Cn,Cn)})):new DataDiffer$1(hn,dn,Sn,Sn).add(_n).update(_n).remove(curry$1(_n,null)).execute();function Sn(pn){return pn.getId()}function _n(pn,Cn){var En=pn!=null?dn[pn]:null,Pn=Cn!=null?hn[Cn]:null,On=Qr(En,Pn,gn,kn);On&&rn(En&&En.viewChildren||[],Pn&&Pn.viewChildren||[],On,bn,kn+1)}}function an(dn){var hn=createStorage();return dn&&each$f(dn,function(gn,bn){var kn=hn[bn];each$f(gn,function(Sn){Sn&&(kn.push(Sn),inner$d(Sn).willDelete=!0)})}),hn}function ln(){each$f(Jr,function(dn){each$f(dn,function(hn){hn.parent&&hn.parent.remove(hn)})}),each$f(Kr,function(dn){dn.invisible=!0,dn.dirty()})}},_r.prototype._doAnimation=function($r,Br,Fr,zr){var jr=Fr.get("animationDurationUpdate"),Ur=Fr.get("animationEasing"),Gr=(isFunction(jr)?0:jr)||0,Yr=(isFunction(Ur)?null:Ur)||"cubicOut",Kr=createWrap();each$f(Br.willDeleteEls,function(Qr,Jr){each$f(Qr,function(rn,an){if(!rn.invisible){var ln=rn.parent,dn,hn=inner$d(ln);if(zr&&zr.direction==="drillDown")dn=ln===zr.rootNodeGroup?{shape:{x:0,y:0,width:hn.nodeWidth,height:hn.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var gn=0,bn=0;hn.willDelete||(gn=hn.nodeWidth/2,bn=hn.nodeHeight/2),dn=Jr==="nodeGroup"?{x:gn,y:bn,style:{opacity:0}}:{shape:{x:gn,y:bn,width:0,height:0},style:{opacity:0}}}dn&&Kr.add(rn,dn,Gr,0,Yr)}})}),each$f(this._storage,function(Qr,Jr){each$f(Qr,function(rn,an){var ln=Br.lastsForAnimation[Jr][an],dn={};ln&&(rn instanceof Group$4?ln.oldX!=null&&(dn.x=rn.x,dn.y=rn.y,rn.x=ln.oldX,rn.y=ln.oldY):(ln.oldShape&&(dn.shape=extend$1({},rn.shape),rn.setShape(ln.oldShape)),ln.fadein?(rn.setStyle("opacity",0),dn.style={opacity:1}):rn.style.opacity!==1&&(dn.style={opacity:1})),Kr.add(rn,dn,Gr,0,Yr))})},this),this._state="animating",Kr.finished(bind$1(function(){this._state="ready",Br.renderFinally()},this)).start()},_r.prototype._resetController=function($r){var Br=this._controller;Br||(Br=this._controller=new RoamController$1($r.getZr()),Br.enable(this.seriesModel.get("roam")),Br.on("pan",bind$1(this._onPan,this)),Br.on("zoom",bind$1(this._onZoom,this)));var Fr=new BoundingRect$1(0,0,$r.getWidth(),$r.getHeight());Br.setPointerChecker(function(zr,jr,Ur){return Fr.contain(jr,Ur)})},_r.prototype._clearController=function(){var $r=this._controller;$r&&($r.dispose(),$r=null)},_r.prototype._onPan=function($r){if(this._state!=="animating"&&(Math.abs($r.dx)>DRAG_THRESHOLD||Math.abs($r.dy)>DRAG_THRESHOLD)){var Br=this.seriesModel.getData().tree.root;if(!Br)return;var Fr=Br.getLayout();if(!Fr)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Fr.x+$r.dx,y:Fr.y+$r.dy,width:Fr.width,height:Fr.height}})}},_r.prototype._onZoom=function($r){var Br=$r.originX,Fr=$r.originY;if(this._state!=="animating"){var zr=this.seriesModel.getData().tree.root;if(!zr)return;var jr=zr.getLayout();if(!jr)return;var Ur=new BoundingRect$1(jr.x,jr.y,jr.width,jr.height),Gr=this.seriesModel.layoutInfo;Br-=Gr.x,Fr-=Gr.y;var Yr=create$1();translate(Yr,Yr,[-Br,-Fr]),scale$1(Yr,Yr,[$r.scale,$r.scale]),translate(Yr,Yr,[Br,Fr]),Ur.applyTransform(Yr),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Ur.x,y:Ur.y,width:Ur.width,height:Ur.height}})}},_r.prototype._initEvents=function($r){var Br=this;$r.on("click",function(Fr){if(Br._state==="ready"){var zr=Br.seriesModel.get("nodeClick",!0);if(zr){var jr=Br.findTarget(Fr.offsetX,Fr.offsetY);if(jr){var Ur=jr.node;if(Ur.getLayout().isLeafRoot)Br._rootToNode(jr);else if(zr==="zoomToNode")Br._zoomToNode(jr);else if(zr==="link"){var Gr=Ur.hostTree.data.getItemModel(Ur.dataIndex),Yr=Gr.get("link",!0),Kr=Gr.get("target",!0)||"blank";Yr&&windowOpen(Yr,Kr)}}}}},this)},_r.prototype._renderBreadcrumb=function($r,Br,Fr){var zr=this;Fr||(Fr=$r.get("leafDepth",!0)!=null?{node:$r.getViewRoot()}:this.findTarget(Br.getWidth()/2,Br.getHeight()/2),Fr||(Fr={node:$r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$1(this.group))).render($r,Br,Fr.node,function(jr){zr._state!=="animating"&&(aboveViewRoot($r.getViewRoot(),jr)?zr._rootToNode({node:jr}):zr._zoomToNode({node:jr}))})},_r.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},_r.prototype.dispose=function(){this._clearController()},_r.prototype._zoomToNode=function($r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:$r.node})},_r.prototype._rootToNode=function($r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:$r.node})},_r.prototype.findTarget=function($r,Br){var Fr,zr=this.seriesModel.getViewRoot();return zr.eachNode({attr:"viewChildren",order:"preorder"},function(jr){var Ur=this._storage.background[jr.getRawIndex()];if(Ur){var Gr=Ur.transformCoordToLocal($r,Br),Yr=Ur.shape;if(Yr.x<=Gr[0]&&Gr[0]<=Yr.x+Yr.width&&Yr.y<=Gr[1]&&Gr[1]<=Yr.y+Yr.height)Fr={node:jr,offsetX:Gr[0],offsetY:Gr[1]};else return!1}},this),Fr},_r.type="treemap",_r}(ChartView$1);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr){if(!jr)return;var Kr=jr.getLayout(),Qr=Fe.getData(),Jr=jr.getModel();if(Qr.setItemGraphicEl(jr.dataIndex,null),!Kr||!Kr.isInView)return;var rn=Kr.width,an=Kr.height,ln=Kr.borderWidth,dn=Kr.invisible,hn=jr.getRawIndex(),gn=Ur&&Ur.getRawIndex(),bn=jr.viewChildren,kn=Kr.upperHeight,Sn=bn&&bn.length,_n=Jr.getModel("itemStyle"),pn=Jr.getModel(["emphasis","itemStyle"]),Cn=Jr.getModel(["blur","itemStyle"]),En=Jr.getModel(["select","itemStyle"]),Pn=_n.get("borderRadius")||0,On=ui("nodeGroup",Group$2);if(!On)return;if(Gr.add(On),On.x=Kr.x||0,On.y=Kr.y||0,On.markRedraw(),inner$d(On).nodeWidth=rn,inner$d(On).nodeHeight=an,Kr.isAboveViewRoot)return On;var jn=ui("background",Rect$1,Yr,Z2_BG);jn&&wi(On,jn,Sn&&Kr.upperLabelHeight);var Fn=Jr.getModel("emphasis"),Wn=Fn.get("focus"),Hn=Fn.get("blurScope"),qn=Fn.get("disabled"),ni=Wn==="ancestor"?jr.getAncestorsIndices():Wn==="descendant"?jr.getDescendantIndices():Wn;if(Sn)isHighDownDispatcher(On)&&setAsHighDownDispatcher(On,!1),jn&&(setAsHighDownDispatcher(jn,!qn),Qr.setItemGraphicEl(jr.dataIndex,jn),enableHoverFocus(jn,ni,Hn));else{var oi=ui("content",Rect$1,Yr,Z2_CONTENT);oi&&Ci(On,oi),jn.disableMorphing=!0,jn&&isHighDownDispatcher(jn)&&setAsHighDownDispatcher(jn,!1),setAsHighDownDispatcher(On,!qn),Qr.setItemGraphicEl(jr.dataIndex,On),enableHoverFocus(On,ni,Hn)}return On;function wi(Vi,ji,lo){var ho=getECData(ji);if(ho.dataIndex=jr.dataIndex,ho.seriesIndex=Fe.seriesIndex,ji.setShape({x:0,y:0,width:rn,height:an,r:Pn}),dn)Fi(ji);else{ji.invisible=!1;var so=jr.getVisual("style"),Ki=so.stroke,Ho=getItemStyleNormal(_n);Ho.fill=Ki;var Io=getStateItemStyle(pn);Io.fill=pn.get("borderColor");var Ji=getStateItemStyle(Cn);Ji.fill=Cn.get("borderColor");var Yo=getStateItemStyle(En);if(Yo.fill=En.get("borderColor"),lo){var qo=rn-2*ln;Zn(ji,Ki,so.opacity,{x:ln,y:0,width:qo,height:kn})}else ji.removeTextContent();ji.setStyle(Ho),ji.ensureState("emphasis").style=Io,ji.ensureState("blur").style=Ji,ji.ensureState("select").style=Yo,setDefaultStateProxy(ji)}Vi.add(ji)}function Ci(Vi,ji){var lo=getECData(ji);lo.dataIndex=jr.dataIndex,lo.seriesIndex=Fe.seriesIndex;var ho=Math.max(rn-2*ln,0),so=Math.max(an-2*ln,0);if(ji.culling=!0,ji.setShape({x:ln,y:ln,width:ho,height:so,r:Pn}),dn)Fi(ji);else{ji.invisible=!1;var Ki=jr.getVisual("style"),Ho=Ki.fill,Io=getItemStyleNormal(_n);Io.fill=Ho,Io.decal=Ki.decal;var Ji=getStateItemStyle(pn),Yo=getStateItemStyle(Cn),qo=getStateItemStyle(En);Zn(ji,Ho,Ki.opacity,null),ji.setStyle(Io),ji.ensureState("emphasis").style=Ji,ji.ensureState("blur").style=Yo,ji.ensureState("select").style=qo,setDefaultStateProxy(ji)}Vi.add(ji)}function Fi(Vi){!Vi.invisible&&zr.push(Vi)}function Zn(Vi,ji,lo,ho){var so=Jr.getModel(ho?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),Ki=convertOptionIdName(Jr.get("name"),null),Ho=so.getShallow("show");setLabelStyle(Vi,getLabelStatesModels(Jr,ho?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:Ho?Ki:null,inheritColor:ji,defaultOpacity:lo,labelFetcher:Fe,labelDataIndex:jr.dataIndex});var Io=Vi.getTextContent();if(Io){var Ji=Io.style,Yo=normalizeCssArray$1(Ji.padding||0);ho&&(Vi.setTextConfig({layoutRect:ho}),Io.disableLabelLayout=!0),Io.beforeUpdate=function(){var xo=Math.max((ho?ho.width:Vi.shape.width)-Yo[1]-Yo[3],0),ka=Math.max((ho?ho.height:Vi.shape.height)-Yo[0]-Yo[2],0);(Ji.width!==xo||Ji.height!==ka)&&Io.setStyle({width:xo,height:ka})},Ji.truncateMinChar=2,Ji.lineOverflow="truncate",Gn(Ji,ho,Kr);var qo=Io.getState("emphasis");Gn(qo?qo.style:null,ho,Kr)}}function Gn(Vi,ji,lo){var ho=Vi?Vi.text:null;if(!ji&&lo.isLeafRoot&&ho!=null){var so=Fe.get("drillDownIcon",!0);Vi.text=so?so+" "+ho:ho}}function ui(Vi,ji,lo,ho){var so=gn!=null&&$r[Vi][gn],Ki=Fr[Vi];return so?($r[Vi][gn]=null,Ni(Ki,so)):dn||(so=new ji,so instanceof Displayable$1&&(so.z2=calculateZ2(lo,ho)),$i(Ki,so)),_r[Vi][hn]=so}function Ni(Vi,ji){var lo=Vi[hn]={};ji instanceof Group$2?(lo.oldX=ji.x,lo.oldY=ji.y):lo.oldShape=extend$1({},ji.shape)}function $i(Vi,ji){var lo=Vi[hn]={},ho=jr.parentNode,so=ji instanceof Group$4;if(ho&&(!Br||Br.direction==="drillDown")){var Ki=0,Ho=0,Io=Fr.background[ho.getRawIndex()];!Br&&Io&&Io.oldShape&&(Ki=Io.oldShape.width,Ho=Io.oldShape.height),so?(lo.oldX=0,lo.oldY=Ho):lo.oldShape={x:Ki,y:Ho,width:0,height:0}}lo.fadein=!so}}function calculateZ2(Fe,_r){return Fe*Z2_BASE+_r}const TreemapView$1=TreemapView;var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function Fe(_r){var $r=_r.mappingMethod,Br=_r.type,Fr=this.option=clone$4(_r);this.type=Br,this.mappingMethod=$r,this._normalizeData=normalizers[$r];var zr=Fe.visualHandlers[Br];this.applyVisual=zr.applyVisual,this.getColorMapper=zr.getColorMapper,this._normalizedToVisual=zr._normalizedToVisual[$r],$r==="piecewise"?(normalizeVisualRange(Fr),preprocessForPiecewise(Fr)):$r==="category"?Fr.categories?preprocessForSpecifiedCategory(Fr):normalizeVisualRange(Fr,!0):(assert($r!=="linear"||Fr.dataExtent),normalizeVisualRange(Fr))}return Fe.prototype.mapValueToVisual=function(_r){var $r=this._normalizeData(_r);return this._normalizedToVisual($r,_r)},Fe.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},Fe.listVisualTypes=function(){return keys(Fe.visualHandlers)},Fe.isValidType=function(_r){return Fe.visualHandlers.hasOwnProperty(_r)},Fe.eachVisual=function(_r,$r,Br){isObject$3(_r)?each$f(_r,$r,Br):$r.call(Br,_r)},Fe.mapVisual=function(_r,$r,Br){var Fr,zr=isArray$1(_r)?[]:isObject$3(_r)?{}:(Fr=!0,null);return Fe.eachVisual(_r,function(jr,Ur){var Gr=$r.call(Br,jr,Ur);Fr?zr=Gr:zr[Ur]=Gr}),zr},Fe.retrieveVisuals=function(_r){var $r={},Br;return _r&&each$c(Fe.visualHandlers,function(Fr,zr){_r.hasOwnProperty(zr)&&($r[zr]=_r[zr],Br=!0)}),Br?$r:null},Fe.prepareVisualTypes=function(_r){if(isArray$1(_r))_r=_r.slice();else if(isObject(_r)){var $r=[];each$c(_r,function(Br,Fr){$r.push(Fr)}),_r=$r}else return[];return _r.sort(function(Br,Fr){return Fr==="color"&&Br!=="color"&&Br.indexOf("color")===0?1:-1}),_r},Fe.dependsOn=function(_r,$r){return $r==="color"?!!(_r&&_r.indexOf($r)===0):_r===$r},Fe.findPieceIndex=function(_r,$r,Br){for(var Fr,zr=1/0,jr=0,Ur=$r.length;jr<Ur;jr++){var Gr=$r[jr].value;if(Gr!=null){if(Gr===_r||isString(Gr)&&Gr===_r+"")return jr;Br&&Jr(Gr,jr)}}for(var jr=0,Ur=$r.length;jr<Ur;jr++){var Yr=$r[jr],Kr=Yr.interval,Qr=Yr.close;if(Kr){if(Kr[0]===-1/0){if(littleThan(Qr[1],_r,Kr[1]))return jr}else if(Kr[1]===1/0){if(littleThan(Qr[0],Kr[0],_r))return jr}else if(littleThan(Qr[0],Kr[0],_r)&&littleThan(Qr[1],_r,Kr[1]))return jr;Br&&Jr(Kr[0],jr),Br&&Jr(Kr[1],jr)}}if(Br)return _r===1/0?$r.length-1:_r===-1/0?0:Fr;function Jr(rn,an){var ln=Math.abs(rn-_r);ln<zr&&(zr=ln,Fr=an)}},Fe.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var _r=this.option;return bind$1(_r.mappingMethod==="category"?function($r,Br){return!Br&&($r=this._normalizeData($r)),doMapCategory.call(this,$r)}:function($r,Br,Fr){var zr=!!Fr;return!Br&&($r=this._normalizeData($r)),Fr=fastLerp($r,_r.parsedVisual,Fr),zr?Fr:stringify(Fr,"rgba")},this)},_normalizedToVisual:{linear:function(_r){return stringify(fastLerp(_r,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(_r,$r){var Br=getSpecifiedVisual.call(this,$r);return Br==null&&(Br=stringify(fastLerp(_r,this.option.parsedVisual),"rgba")),Br},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(_r,$r){return modifyHSL(_r,$r)}),colorSaturation:makePartialColorVisualHandler(function(_r,$r){return modifyHSL(_r,null,$r)}),colorLightness:makePartialColorVisualHandler(function(_r,$r){return modifyHSL(_r,null,null,$r)}),colorAlpha:makePartialColorVisualHandler(function(_r,$r){return modifyAlpha(_r,$r)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(_r,$r,Br){var Fr=this.mapValueToVisual(_r);Br("symbol",Fr)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(_r,$r){var Br=getSpecifiedVisual.call(this,$r);return Br==null&&(Br=doMapToArray.call(this,_r)),Br},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},Fe}();function preprocessForPiecewise(Fe){var _r=Fe.pieceList;Fe.hasSpecialVisual=!1,each$f(_r,function($r,Br){$r.originIndex=Br,$r.visual!=null&&(Fe.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(Fe){var _r=Fe.categories,$r=Fe.categoryMap={},Br=Fe.visual;if(each$c(_r,function(jr,Ur){$r[jr]=Ur}),!isArray$1(Br)){var Fr=[];isObject$3(Br)?each$c(Br,function(jr,Ur){var Gr=$r[Ur];Fr[Gr??CATEGORY_DEFAULT_VISUAL_INDEX]=jr}):Fr[CATEGORY_DEFAULT_VISUAL_INDEX]=Br,Br=setVisualToOption(Fe,Fr)}for(var zr=_r.length-1;zr>=0;zr--)Br[zr]==null&&(delete $r[_r[zr]],_r.pop())}function normalizeVisualRange(Fe,_r){var $r=Fe.visual,Br=[];isObject$3($r)?each$c($r,function(zr){Br.push(zr)}):$r!=null&&Br.push($r);var Fr={color:1,symbol:1};!_r&&Br.length===1&&!Fr.hasOwnProperty(Fe.type)&&(Br[1]=Br[0]),setVisualToOption(Fe,Br)}function makePartialColorVisualHandler(Fe){return{applyVisual:function(_r,$r,Br){var Fr=this.mapValueToVisual(_r);Br("color",Fe($r("color"),Fr))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(Fe){var _r=this.option.visual;return _r[Math.round(linearMap$2(Fe,[0,1],[0,_r.length-1],!0))]||{}}function makeApplyVisual(Fe){return function(_r,$r,Br){Br(Fe,this.mapValueToVisual(_r))}}function doMapCategory(Fe){var _r=this.option.visual;return _r[this.option.loop&&Fe!==CATEGORY_DEFAULT_VISUAL_INDEX?Fe%_r.length:Fe]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(Fe){return{linear:function(_r){return linearMap$2(_r,Fe,this.option.visual,!0)},category:doMapCategory,piecewise:function(_r,$r){var Br=getSpecifiedVisual.call(this,$r);return Br==null&&(Br=linearMap$2(_r,Fe,this.option.visual,!0)),Br},fixed:doMapFixed}}function getSpecifiedVisual(Fe){var _r=this.option,$r=_r.pieceList;if(_r.hasSpecialVisual){var Br=VisualMapping.findPieceIndex(Fe,$r),Fr=$r[Br];if(Fr&&Fr.visual)return Fr.visual[this.type]}}function setVisualToOption(Fe,_r){return Fe.visual=_r,Fe.type==="color"&&(Fe.parsedVisual=map$1(_r,function($r){var Br=parse($r);return Br||[0,0,0,1]})),_r}var normalizers={linear:function(Fe){return linearMap$2(Fe,this.option.dataExtent,[0,1],!0)},piecewise:function(Fe){var _r=this.option.pieceList,$r=VisualMapping.findPieceIndex(Fe,_r,!0);if($r!=null)return linearMap$2($r,[0,_r.length-1],[0,1],!0)},category:function(Fe){var _r=this.option.categories?this.option.categoryMap[Fe]:Fe;return _r??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop};function littleThan(Fe,_r,$r){return Fe?_r<=$r:_r<$r}const VisualMapping$1=VisualMapping;var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(Fe){var _r=Fe.getData().tree,$r=_r.root;$r.isRemoved()||travelTree($r,{},Fe.getViewRoot().getAncestors(),Fe)}};function travelTree(Fe,_r,$r,Br){var Fr=Fe.getModel(),zr=Fe.getLayout(),jr=Fe.hostTree.data;if(!(!zr||zr.invisible||!zr.isInView)){var Ur=Fr.getModel(ITEM_STYLE_NORMAL),Gr=buildVisuals(Ur,_r,Br),Yr=jr.ensureUniqueItemVisual(Fe.dataIndex,"style"),Kr=Ur.get("borderColor"),Qr=Ur.get("borderColorSaturation"),Jr;Qr!=null&&(Jr=calculateColor(Gr),Kr=calculateBorderColor(Qr,Jr)),Yr.stroke=Kr;var rn=Fe.viewChildren;if(!rn||!rn.length)Jr=calculateColor(Gr),Yr.fill=Jr;else{var an=buildVisualMapping(Fe,Fr,zr,Ur,Gr,rn);each$f(rn,function(ln,dn){if(ln.depth>=$r.length||ln===$r[ln.depth]){var hn=mapVisual$1(Fr,Gr,ln,dn,an,Br);travelTree(ln,hn,$r,Br)}})}}}function buildVisuals(Fe,_r,$r){var Br=extend$1({},_r),Fr=$r.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(zr){Fr[zr]=_r[zr];var jr=Fe.get(zr);Fr[zr]=null,jr!=null&&(Br[zr]=jr)}),Br}function calculateColor(Fe){var _r=getValueVisualDefine(Fe,"color");if(_r){var $r=getValueVisualDefine(Fe,"colorAlpha"),Br=getValueVisualDefine(Fe,"colorSaturation");return Br&&(_r=modifyHSL(_r,null,null,Br)),$r&&(_r=modifyAlpha(_r,$r)),_r}}function calculateBorderColor(Fe,_r){return _r!=null?modifyHSL(_r,null,null,Fe):null}function getValueVisualDefine(Fe,_r){var $r=Fe[_r];if($r!=null&&$r!=="none")return $r}function buildVisualMapping(Fe,_r,$r,Br,Fr,zr){if(!(!zr||!zr.length)){var jr=getRangeVisual(_r,"color")||Fr.color!=null&&Fr.color!=="none"&&(getRangeVisual(_r,"colorAlpha")||getRangeVisual(_r,"colorSaturation"));if(jr){var Ur=_r.get("visualMin"),Gr=_r.get("visualMax"),Yr=$r.dataExtent.slice();Ur!=null&&Ur<Yr[0]&&(Yr[0]=Ur),Gr!=null&&Gr>Yr[1]&&(Yr[1]=Gr);var Kr=_r.get("colorMappingBy"),Qr={type:jr.name,dataExtent:Yr,visual:jr.range};Qr.type==="color"&&(Kr==="index"||Kr==="id")?(Qr.mappingMethod="category",Qr.loop=!0):Qr.mappingMethod="linear";var Jr=new VisualMapping$1(Qr);return inner$c(Jr).drColorMappingBy=Kr,Jr}}}function getRangeVisual(Fe,_r){var $r=Fe.get(_r);return isArray$1($r)&&$r.length?{name:_r,range:$r}:null}function mapVisual$1(Fe,_r,$r,Br,Fr,zr){var jr=extend$1({},_r);if(Fr){var Ur=Fr.type,Gr=Ur==="color"&&inner$c(Fr).drColorMappingBy,Yr=Gr==="index"?Br:Gr==="id"?zr.mapIdToIndex($r.getId()):$r.getValue(Fe.get("visualDimension"));jr[Ur]=Fr.mapValueToVisual(Yr)}return jr}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(Fe,_r,$r,Br){var Fr=$r.getWidth(),zr=$r.getHeight(),jr=Fe.option,Ur=getLayoutRect(Fe.getBoxLayoutParams(),{width:$r.getWidth(),height:$r.getHeight()}),Gr=jr.size||[],Yr=parsePercent(retrieveValue(Ur.width,Gr[0]),Fr),Kr=parsePercent(retrieveValue(Ur.height,Gr[1]),zr),Qr=Br&&Br.type,Jr=["treemapZoomToNode","treemapRootToNode"],rn=retrieveTargetInfo(Br,Jr,Fe),an=Qr==="treemapRender"||Qr==="treemapMove"?Br.rootRect:null,ln=Fe.getViewRoot(),dn=getPathToRoot(ln);if(Qr!=="treemapMove"){var hn=Qr==="treemapZoomToNode"?estimateRootSize(Fe,rn,ln,Yr,Kr):an?[an.width,an.height]:[Yr,Kr],gn=jr.sort;gn&&gn!=="asc"&&gn!=="desc"&&(gn="desc");var bn={squareRatio:jr.squareRatio,sort:gn,leafDepth:jr.leafDepth};ln.hostTree.clearLayouts();var kn={x:0,y:0,width:hn[0],height:hn[1],area:hn[0]*hn[1]};ln.setLayout(kn),squarify(ln,bn,!1,0),kn=ln.getLayout(),each$b(dn,function(_n,pn){var Cn=(dn[pn+1]||ln).getValue();_n.setLayout(extend$1({dataExtent:[Cn,Cn],borderWidth:0,upperHeight:0},kn))})}var Sn=Fe.getData().tree.root;Sn.setLayout(calculateRootPosition(Ur,an,rn),!0),Fe.setLayoutInfo(Ur),prunning(Sn,new BoundingRect$1(-Ur.x,-Ur.y,Fr,zr),dn,ln,0)}};function squarify(Fe,_r,$r,Br){var Fr,zr;if(!Fe.isRemoved()){var jr=Fe.getLayout();Fr=jr.width,zr=jr.height;var Ur=Fe.getModel(),Gr=Ur.get(PATH_BORDER_WIDTH),Yr=Ur.get(PATH_GAP_WIDTH)/2,Kr=getUpperLabelHeight(Ur),Qr=Math.max(Gr,Kr),Jr=Gr-Yr,rn=Qr-Yr;Fe.setLayout({borderWidth:Gr,upperHeight:Qr,upperLabelHeight:Kr},!0),Fr=mathMax$3(Fr-2*Jr,0),zr=mathMax$3(zr-Jr-rn,0);var an=Fr*zr,ln=initChildren$1(Fe,Ur,an,_r,$r,Br);if(ln.length){var dn={x:Jr,y:rn,width:Fr,height:zr},hn=mathMin$3(Fr,zr),gn=1/0,bn=[];bn.area=0;for(var kn=0,Sn=ln.length;kn<Sn;){var _n=ln[kn];bn.push(_n),bn.area+=_n.getLayout().area;var pn=worst(bn,hn,_r.squareRatio);pn<=gn?(kn++,gn=pn):(bn.area-=bn.pop().getLayout().area,position(bn,hn,dn,Yr,!1),hn=mathMin$3(dn.width,dn.height),bn.length=bn.area=0,gn=1/0)}if(bn.length&&position(bn,hn,dn,Yr,!0),!$r){var Cn=Ur.get("childrenVisibleMin");Cn!=null&&an<Cn&&($r=!0)}for(var kn=0,Sn=ln.length;kn<Sn;kn++)squarify(ln[kn],_r,$r,Br+1)}}}function initChildren$1(Fe,_r,$r,Br,Fr,zr){var jr=Fe.children||[],Ur=Br.sort;Ur!=="asc"&&Ur!=="desc"&&(Ur=null);var Gr=Br.leafDepth!=null&&Br.leafDepth<=zr;if(Fr&&!Gr)return Fe.viewChildren=[];jr=filter(jr,function(rn){return!rn.isRemoved()}),sort$1(jr,Ur);var Yr=statistic(_r,jr,Ur);if(Yr.sum===0)return Fe.viewChildren=[];if(Yr.sum=filterByThreshold(_r,$r,Yr.sum,Ur,jr),Yr.sum===0)return Fe.viewChildren=[];for(var Kr=0,Qr=jr.length;Kr<Qr;Kr++){var Jr=jr[Kr].getValue()/Yr.sum*$r;jr[Kr].setLayout({area:Jr})}return Gr&&(jr.length&&Fe.setLayout({isLeafRoot:!0},!0),jr.length=0),Fe.viewChildren=jr,Fe.setLayout({dataExtent:Yr.dataExtent},!0),jr}function filterByThreshold(Fe,_r,$r,Br,Fr){if(!Br)return $r;for(var zr=Fe.get("visibleMin"),jr=Fr.length,Ur=jr,Gr=jr-1;Gr>=0;Gr--){var Yr=Fr[Br==="asc"?jr-Gr-1:Gr].getValue();Yr/$r*_r<zr&&(Ur=Gr,$r-=Yr)}return Br==="asc"?Fr.splice(0,jr-Ur):Fr.splice(Ur,jr-Ur),$r}function sort$1(Fe,_r){return _r&&Fe.sort(function($r,Br){var Fr=_r==="asc"?$r.getValue()-Br.getValue():Br.getValue()-$r.getValue();return Fr===0?_r==="asc"?$r.dataIndex-Br.dataIndex:Br.dataIndex-$r.dataIndex:Fr}),Fe}function statistic(Fe,_r,$r){for(var Br=0,Fr=0,zr=_r.length;Fr<zr;Fr++)Br+=_r[Fr].getValue();var jr=Fe.get("visualDimension"),Ur;return!_r||!_r.length?Ur=[NaN,NaN]:jr==="value"&&$r?(Ur=[_r[_r.length-1].getValue(),_r[0].getValue()],$r==="asc"&&Ur.reverse()):(Ur=[1/0,-1/0],each$b(_r,function(Gr){var Yr=Gr.getValue(jr);Yr<Ur[0]&&(Ur[0]=Yr),Yr>Ur[1]&&(Ur[1]=Yr)})),{sum:Br,dataExtent:Ur}}function worst(Fe,_r,$r){for(var Br=0,Fr=1/0,zr=0,jr=void 0,Ur=Fe.length;zr<Ur;zr++)jr=Fe[zr].getLayout().area,jr&&(jr<Fr&&(Fr=jr),jr>Br&&(Br=jr));var Gr=Fe.area*Fe.area,Yr=_r*_r*$r;return Gr?mathMax$3(Yr*Br/Gr,Gr/(Yr*Fr)):1/0}function position(Fe,_r,$r,Br,Fr){var zr=_r===$r.width?0:1,jr=1-zr,Ur=["x","y"],Gr=["width","height"],Yr=$r[Ur[zr]],Kr=_r?Fe.area/_r:0;(Fr||Kr>$r[Gr[jr]])&&(Kr=$r[Gr[jr]]);for(var Qr=0,Jr=Fe.length;Qr<Jr;Qr++){var rn=Fe[Qr],an={},ln=Kr?rn.getLayout().area/Kr:0,dn=an[Gr[jr]]=mathMax$3(Kr-2*Br,0),hn=$r[Ur[zr]]+$r[Gr[zr]]-Yr,gn=Qr===Jr-1||hn<ln?hn:ln,bn=an[Gr[zr]]=mathMax$3(gn-2*Br,0);an[Ur[jr]]=$r[Ur[jr]]+mathMin$3(Br,dn/2),an[Ur[zr]]=Yr+mathMin$3(Br,bn/2),Yr+=gn,rn.setLayout(an,!0)}$r[Ur[jr]]+=Kr,$r[Gr[jr]]-=Kr}function estimateRootSize(Fe,_r,$r,Br,Fr){var zr=(_r||{}).node,jr=[Br,Fr];if(!zr||zr===$r)return jr;for(var Ur,Gr=Br*Fr,Yr=Gr*Fe.option.zoomToNodeRatio;Ur=zr.parentNode;){for(var Kr=0,Qr=Ur.children,Jr=0,rn=Qr.length;Jr<rn;Jr++)Kr+=Qr[Jr].getValue();var an=zr.getValue();if(an===0)return jr;Yr*=Kr/an;var ln=Ur.getModel(),dn=ln.get(PATH_BORDER_WIDTH),hn=Math.max(dn,getUpperLabelHeight(ln));Yr+=4*dn*dn+(3*dn+hn)*Math.pow(Yr,.5),Yr>MAX_SAFE_INTEGER&&(Yr=MAX_SAFE_INTEGER),zr=Ur}Yr<Gr&&(Yr=Gr);var gn=Math.pow(Yr/Gr,.5);return[Br*gn,Fr*gn]}function calculateRootPosition(Fe,_r,$r){if(_r)return{x:_r.x,y:_r.y};var Br={x:0,y:0};if(!$r)return Br;var Fr=$r.node,zr=Fr.getLayout();if(!zr)return Br;for(var jr=[zr.width/2,zr.height/2],Ur=Fr;Ur;){var Gr=Ur.getLayout();jr[0]+=Gr.x,jr[1]+=Gr.y,Ur=Ur.parentNode}return{x:Fe.width/2-jr[0],y:Fe.height/2-jr[1]}}function prunning(Fe,_r,$r,Br,Fr){var zr=Fe.getLayout(),jr=$r[Fr],Ur=jr&&jr===Fe;if(!(jr&&!Ur||Fr===$r.length&&Fe!==Br)){Fe.setLayout({isInView:!0,invisible:!Ur&&!_r.intersect(zr),isAboveViewRoot:Ur},!0);var Gr=new BoundingRect$1(_r.x-zr.x,_r.y-zr.y,_r.width,_r.height);each$b(Fe.viewChildren||[],function(Yr){prunning(Yr,Gr,$r,Br,Fr+1)})}}function getUpperLabelHeight(Fe){return Fe.get(PATH_UPPER_LABEL_SHOW)?Fe.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(Fe){Fe.registerSeriesModel(TreemapSeriesModel$1),Fe.registerChartView(TreemapView$1),Fe.registerVisual(treemapVisual),Fe.registerLayout(treemapLayout),installTreemapAction(Fe)}function categoryFilter(Fe){var _r=Fe.findComponents({mainType:"legend"});!_r||!_r.length||Fe.eachSeriesByType("graph",function($r){var Br=$r.getCategoriesData(),Fr=$r.getGraph(),zr=Fr.data,jr=Br.mapArray(Br.getName);zr.filterSelf(function(Ur){var Gr=zr.getItemModel(Ur),Yr=Gr.getShallow("category");if(Yr!=null){isNumber(Yr)&&(Yr=jr[Yr]);for(var Kr=0;Kr<_r.length;Kr++)if(!_r[Kr].isSelected(Yr))return!1}return!0})})}function categoryVisual(Fe){var _r={};Fe.eachSeriesByType("graph",function($r){var Br=$r.getCategoriesData(),Fr=$r.getData(),zr={};Br.each(function(jr){var Ur=Br.getName(jr);zr["ec-"+Ur]=jr;var Gr=Br.getItemModel(jr),Yr=Gr.getModel("itemStyle").getItemStyle();Yr.fill||(Yr.fill=$r.getColorFromPalette(Ur,_r)),Br.setItemVisual(jr,"style",Yr);for(var Kr=["symbol","symbolSize","symbolKeepAspect"],Qr=0;Qr<Kr.length;Qr++){var Jr=Gr.getShallow(Kr[Qr],!0);Jr!=null&&Br.setItemVisual(jr,Kr[Qr],Jr)}}),Br.count()&&Fr.each(function(jr){var Ur=Fr.getItemModel(jr),Gr=Ur.getShallow("category");if(Gr!=null){isString(Gr)&&(Gr=zr["ec-"+Gr]);var Yr=Br.getItemVisual(Gr,"style"),Kr=Fr.ensureUniqueItemVisual(jr,"style");extend$1(Kr,Yr);for(var Qr=["symbol","symbolSize","symbolKeepAspect"],Jr=0;Jr<Qr.length;Jr++)Fr.setItemVisual(jr,Qr[Jr],Br.getItemVisual(Gr,Qr[Jr]))}})})}function normalize$1(Fe){return Fe instanceof Array||(Fe=[Fe,Fe]),Fe}function graphEdgeVisual(Fe){Fe.eachSeriesByType("graph",function(_r){var $r=_r.getGraph(),Br=_r.getEdgeData(),Fr=normalize$1(_r.get("edgeSymbol")),zr=normalize$1(_r.get("edgeSymbolSize"));Br.setVisual("fromSymbol",Fr&&Fr[0]),Br.setVisual("toSymbol",Fr&&Fr[1]),Br.setVisual("fromSymbolSize",zr&&zr[0]),Br.setVisual("toSymbolSize",zr&&zr[1]),Br.setVisual("style",_r.getModel("lineStyle").getLineStyle()),Br.each(function(jr){var Ur=Br.getItemModel(jr),Gr=$r.getEdgeByIndex(jr),Yr=normalize$1(Ur.getShallow("symbol",!0)),Kr=normalize$1(Ur.getShallow("symbolSize",!0)),Qr=Ur.getModel("lineStyle").getLineStyle(),Jr=Br.ensureUniqueItemVisual(jr,"style");switch(extend$1(Jr,Qr),Jr.stroke){case"source":{var rn=Gr.node1.getVisual("style");Jr.stroke=rn&&rn.fill;break}case"target":{var rn=Gr.node2.getVisual("style");Jr.stroke=rn&&rn.fill;break}}Yr[0]&&Gr.setVisual("fromSymbol",Yr[0]),Yr[1]&&Gr.setVisual("toSymbol",Yr[1]),Kr[0]&&Gr.setVisual("fromSymbolSize",Kr[0]),Kr[1]&&Gr.setVisual("toSymbolSize",Kr[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(Fe){return Fe.get("autoCurveness")||null},createCurveness=function(Fe,_r){var $r=getAutoCurvenessParams(Fe),Br=20,Fr=[];if(isNumber($r))Br=$r;else if(isArray$1($r)){Fe.__curvenessList=$r;return}_r>Br&&(Br=_r);var zr=Br%2?Br+2:Br+3;Fr=[];for(var jr=0;jr<zr;jr++)Fr.push((jr%2?jr+1:jr)/10*(jr%2?-1:1));Fe.__curvenessList=Fr},getKeyOfEdges=function(Fe,_r,$r){var Br=[Fe.id,Fe.dataIndex].join("."),Fr=[_r.id,_r.dataIndex].join(".");return[$r.uid,Br,Fr].join(KEY_DELIMITER)},getOppositeKey=function(Fe){var _r=Fe.split(KEY_DELIMITER);return[_r[0],_r[2],_r[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(Fe,_r){var $r=getKeyOfEdges(Fe.node1,Fe.node2,_r);return _r.__edgeMap[$r]},getTotalLengthBetweenNodes=function(Fe,_r){var $r=getEdgeMapLengthWithKey(getKeyOfEdges(Fe.node1,Fe.node2,_r),_r),Br=getEdgeMapLengthWithKey(getKeyOfEdges(Fe.node2,Fe.node1,_r),_r);return $r+Br},getEdgeMapLengthWithKey=function(Fe,_r){var $r=_r.__edgeMap;return $r[Fe]?$r[Fe].length:0};function initCurvenessList(Fe){getAutoCurvenessParams(Fe)&&(Fe.__curvenessList=[],Fe.__edgeMap={},createCurveness(Fe))}function createEdgeMapForCurveness(Fe,_r,$r,Br){if(getAutoCurvenessParams($r)){var Fr=getKeyOfEdges(Fe,_r,$r),zr=$r.__edgeMap,jr=zr[getOppositeKey(Fr)];zr[Fr]&&!jr?zr[Fr].isForward=!0:jr&&zr[Fr]&&(jr.isForward=!0,zr[Fr].isForward=!1),zr[Fr]=zr[Fr]||[],zr[Fr].push(Br)}}function getCurvenessForEdge(Fe,_r,$r,Br){var Fr=getAutoCurvenessParams(_r),zr=isArray$1(Fr);if(!Fr)return null;var jr=getEdgeFromMap(Fe,_r);if(!jr)return null;for(var Ur=-1,Gr=0;Gr<jr.length;Gr++)if(jr[Gr]===$r){Ur=Gr;break}var Yr=getTotalLengthBetweenNodes(Fe,_r);createCurveness(_r,Yr),Fe.lineStyle=Fe.lineStyle||{};var Kr=getKeyOfEdges(Fe.node1,Fe.node2,_r),Qr=_r.__curvenessList,Jr=zr||Yr%2?0:1;if(jr.isForward)return Qr[Jr+Ur];var rn=getOppositeKey(Kr),an=getEdgeMapLengthWithKey(rn,_r),ln=Qr[Ur+an+Jr];return Br?zr?Fr&&Fr[0]===0?(an+Jr)%2?ln:-ln:((an%2?0:1)+Jr)%2?ln:-ln:(an+Jr)%2?ln:-ln:Qr[Ur+an+Jr]}function simpleLayout(Fe){var _r=Fe.coordinateSystem;if(!(_r&&_r.type!=="view")){var $r=Fe.getGraph();$r.eachNode(function(Br){var Fr=Br.getModel();Br.setLayout([+Fr.get("x"),+Fr.get("y")])}),simpleLayoutEdge($r,Fe)}}function simpleLayoutEdge(Fe,_r){Fe.eachEdge(function($r,Br){var Fr=retrieve3($r.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge($r,_r,Br,!0),0),zr=clone$3($r.node1.getLayout()),jr=clone$3($r.node2.getLayout()),Ur=[zr,jr];+Fr&&Ur.push([(zr[0]+jr[0])/2-(zr[1]-jr[1])*Fr,(zr[1]+jr[1])/2-(jr[0]-zr[0])*Fr]),$r.setLayout(Ur)})}function graphSimpleLayout(Fe,_r){Fe.eachSeriesByType("graph",function($r){var Br=$r.get("layout"),Fr=$r.coordinateSystem;if(Fr&&Fr.type!=="view"){var zr=$r.getData(),jr=[];each$f(Fr.dimensions,function(Jr){jr=jr.concat(zr.mapDimensionsAll(Jr))});for(var Ur=0;Ur<zr.count();Ur++){for(var Gr=[],Yr=!1,Kr=0;Kr<jr.length;Kr++){var Qr=zr.get(jr[Kr],Ur);isNaN(Qr)||(Yr=!0),Gr.push(Qr)}Yr?zr.setItemLayout(Ur,Fr.dataToPoint(Gr)):zr.setItemLayout(Ur,[NaN,NaN])}simpleLayoutEdge(zr.graph,$r)}else(!Br||Br==="none")&&simpleLayout($r)})}function getNodeGlobalScale(Fe){var _r=Fe.coordinateSystem;if(_r.type!=="view")return 1;var $r=Fe.option.nodeScaleRatio,Br=_r.scaleX,Fr=_r.getZoom(),zr=(Fr-1)*$r+1;return zr/Br}function getSymbolSize(Fe){var _r=Fe.getVisual("symbolSize");return _r instanceof Array&&(_r=(_r[0]+_r[1])/2),+_r}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(Fe,_r,$r,Br){var Fr=Fe.coordinateSystem;if(!(Fr&&Fr.type!=="view")){var zr=Fr.getBoundingRect(),jr=Fe.getData(),Ur=jr.graph,Gr=zr.width/2+zr.x,Yr=zr.height/2+zr.y,Kr=Math.min(zr.width,zr.height)/2,Qr=jr.count();if(jr.setLayout({cx:Gr,cy:Yr}),!!Qr){if($r){var Jr=Fr.pointToData(Br),rn=Jr[0],an=Jr[1],ln=[rn-Gr,an-Yr];normalize$3(ln,ln),scale$2(ln,ln,Kr),$r.setLayout([Gr+ln[0],Yr+ln[1]],!0);var dn=Fe.get(["circular","rotateLabel"]);rotateNodeLabel($r,dn,Gr,Yr)}_layoutNodesBasedOn[_r](Fe,Ur,jr,Kr,Gr,Yr,Qr),Ur.eachEdge(function(hn,gn){var bn=retrieve3(hn.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(hn,Fe,gn),0),kn=clone$3(hn.node1.getLayout()),Sn=clone$3(hn.node2.getLayout()),_n,pn=(kn[0]+Sn[0])/2,Cn=(kn[1]+Sn[1])/2;+bn&&(bn*=3,_n=[Gr*bn+pn*(1-bn),Yr*bn+Cn*(1-bn)]),hn.setLayout([kn,Sn,_n])})}}}var _layoutNodesBasedOn={value:function(Fe,_r,$r,Br,Fr,zr,jr){var Ur=0,Gr=$r.getSum("value"),Yr=Math.PI*2/(Gr||jr);_r.eachNode(function(Kr){var Qr=Kr.getValue("value"),Jr=Yr*(Gr?Qr:1)/2;Ur+=Jr,Kr.setLayout([Br*Math.cos(Ur)+Fr,Br*Math.sin(Ur)+zr]),Ur+=Jr})},symbolSize:function(Fe,_r,$r,Br,Fr,zr,jr){var Ur=0;_symbolRadiansHalf.length=jr;var Gr=getNodeGlobalScale(Fe);_r.eachNode(function(Qr){var Jr=getSymbolSize(Qr);isNaN(Jr)&&(Jr=2),Jr<0&&(Jr=0),Jr*=Gr;var rn=Math.asin(Jr/2/Br);isNaN(rn)&&(rn=PI$2/2),_symbolRadiansHalf[Qr.dataIndex]=rn,Ur+=rn*2});var Yr=(2*PI$2-Ur)/jr/2,Kr=0;_r.eachNode(function(Qr){var Jr=Yr+_symbolRadiansHalf[Qr.dataIndex];Kr+=Jr,(!Qr.getLayout()||!Qr.getLayout().fixed)&&Qr.setLayout([Br*Math.cos(Kr)+Fr,Br*Math.sin(Kr)+zr]),Kr+=Jr})}};function rotateNodeLabel(Fe,_r,$r,Br){var Fr=Fe.getGraphicEl();if(Fr){var zr=Fe.getModel(),jr=zr.get(["label","rotate"])||0,Ur=Fr.getSymbolPath();if(_r){var Gr=Fe.getLayout(),Yr=Math.atan2(Gr[1]-Br,Gr[0]-$r);Yr<0&&(Yr=Math.PI*2+Yr);var Kr=Gr[0]<$r;Kr&&(Yr=Yr-Math.PI);var Qr=Kr?"left":"right";Ur.setTextConfig({rotation:-Yr,position:Qr,origin:"center"});var Jr=Ur.ensureState("emphasis");extend$1(Jr.textConfig||(Jr.textConfig={}),{position:Qr})}else Ur.setTextConfig({rotation:jr*=Math.PI/180})}}function graphCircularLayout(Fe){Fe.eachSeriesByType("graph",function(_r){_r.get("layout")==="circular"&&circularLayout(_r,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(Fe,_r,$r){for(var Br=Fe,Fr=_r,zr=$r.rect,jr=zr.width,Ur=zr.height,Gr=[zr.x+jr/2,zr.y+Ur/2],Yr=$r.gravity==null?.1:$r.gravity,Kr=0;Kr<Br.length;Kr++){var Qr=Br[Kr];Qr.p||(Qr.p=create$2(jr*(Math.random()-.5)+Gr[0],Ur*(Math.random()-.5)+Gr[1])),Qr.pp=clone$3(Qr.p),Qr.edges=null}var Jr=$r.friction==null?.6:$r.friction,rn=Jr,an,ln;return{warmUp:function(){rn=Jr*.8},setFixed:function(dn){Br[dn].fixed=!0},setUnfixed:function(dn){Br[dn].fixed=!1},beforeStep:function(dn){an=dn},afterStep:function(dn){ln=dn},step:function(dn){an&&an(Br,Fr);for(var hn=[],gn=Br.length,bn=0;bn<Fr.length;bn++){var kn=Fr[bn];if(!kn.ignoreForceLayout){var Sn=kn.n1,_n=kn.n2;sub(hn,_n.p,Sn.p);var pn=len(hn)-kn.d,Cn=_n.w/(Sn.w+_n.w);isNaN(Cn)&&(Cn=0),normalize$3(hn,hn),!Sn.fixed&&scaleAndAdd(Sn.p,Sn.p,hn,Cn*pn*rn),!_n.fixed&&scaleAndAdd(_n.p,_n.p,hn,-(1-Cn)*pn*rn)}}for(var bn=0;bn<gn;bn++){var En=Br[bn];En.fixed||(sub(hn,Gr,En.p),scaleAndAdd(En.p,En.p,hn,Yr*rn))}for(var bn=0;bn<gn;bn++)for(var Sn=Br[bn],Pn=bn+1;Pn<gn;Pn++){var _n=Br[Pn];sub(hn,_n.p,Sn.p);var pn=len(hn);pn===0&&(set$1(hn,Math.random()-.5,Math.random()-.5),pn=1);var On=(Sn.rep+_n.rep)/pn/pn;!Sn.fixed&&scaleAndAdd(Sn.pp,Sn.pp,hn,On),!_n.fixed&&scaleAndAdd(_n.pp,_n.pp,hn,-On)}for(var jn=[],bn=0;bn<gn;bn++){var En=Br[bn];En.fixed||(sub(jn,En.p,En.pp),scaleAndAdd(En.p,En.p,jn,rn),copy$1(En.pp,En.p))}rn=rn*.992;var Fn=rn<.01;ln&&ln(Br,Fr,Fn),dn&&dn(Fn)}}}function graphForceLayout(Fe){Fe.eachSeriesByType("graph",function(_r){var $r=_r.coordinateSystem;if(!($r&&$r.type!=="view"))if(_r.get("layout")==="force"){var Br=_r.preservedPoints||{},Fr=_r.getGraph(),zr=Fr.data,jr=Fr.edgeData,Ur=_r.getModel("force"),Gr=Ur.get("initLayout");_r.preservedPoints?zr.each(function(bn){var kn=zr.getId(bn);zr.setItemLayout(bn,Br[kn]||[NaN,NaN])}):!Gr||Gr==="none"?simpleLayout(_r):Gr==="circular"&&circularLayout(_r,"value");var Yr=zr.getDataExtent("value"),Kr=jr.getDataExtent("value"),Qr=Ur.get("repulsion"),Jr=Ur.get("edgeLength"),rn=isArray$1(Qr)?Qr:[Qr,Qr],an=isArray$1(Jr)?Jr:[Jr,Jr];an=[an[1],an[0]];var ln=zr.mapArray("value",function(bn,kn){var Sn=zr.getItemLayout(kn),_n=linearMap$2(bn,Yr,rn);return isNaN(_n)&&(_n=(rn[0]+rn[1])/2),{w:_n,rep:_n,fixed:zr.getItemModel(kn).get("fixed"),p:!Sn||isNaN(Sn[0])||isNaN(Sn[1])?null:Sn}}),dn=jr.mapArray("value",function(bn,kn){var Sn=Fr.getEdgeByIndex(kn),_n=linearMap$2(bn,Kr,an);isNaN(_n)&&(_n=(an[0]+an[1])/2);var pn=Sn.getModel(),Cn=retrieve3(Sn.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(Sn,_r,kn,!0),0);return{n1:ln[Sn.node1.dataIndex],n2:ln[Sn.node2.dataIndex],d:_n,curveness:Cn,ignoreForceLayout:pn.get("ignoreForceLayout")}}),hn=$r.getBoundingRect(),gn=forceLayout(ln,dn,{rect:hn,gravity:Ur.get("gravity"),friction:Ur.get("friction")});gn.beforeStep(function(bn,kn){for(var Sn=0,_n=bn.length;Sn<_n;Sn++)bn[Sn].fixed&&copy$1(bn[Sn].p,Fr.getNodeByIndex(Sn).getLayout())}),gn.afterStep(function(bn,kn,Sn){for(var _n=0,pn=bn.length;_n<pn;_n++)bn[_n].fixed||Fr.getNodeByIndex(_n).setLayout(bn[_n].p),Br[zr.getId(_n)]=bn[_n].p;for(var _n=0,pn=kn.length;_n<pn;_n++){var Cn=kn[_n],En=Fr.getEdgeByIndex(_n),Pn=Cn.n1.p,On=Cn.n2.p,jn=En.getLayout();jn=jn?jn.slice():[],jn[0]=jn[0]||[],jn[1]=jn[1]||[],copy$1(jn[0],Pn),copy$1(jn[1],On),+Cn.curveness&&(jn[2]=[(Pn[0]+On[0])/2-(Pn[1]-On[1])*Cn.curveness,(Pn[1]+On[1])/2-(On[0]-Pn[0])*Cn.curveness]),En.setLayout(jn)}}),_r.forceLayout=gn,_r.preservedPoints=Br,gn.step()}else _r.forceLayout=null})}function getViewRect$3(Fe,_r,$r){var Br=extend$1(Fe.getBoxLayoutParams(),{aspect:$r});return getLayoutRect(Br,{width:_r.getWidth(),height:_r.getHeight()})}function createViewCoordSys(Fe,_r){var $r=[];return Fe.eachSeriesByType("graph",function(Br){var Fr=Br.get("coordinateSystem");if(!Fr||Fr==="view"){var zr=Br.getData(),jr=zr.mapArray(function(dn){var hn=zr.getItemModel(dn);return[+hn.get("x"),+hn.get("y")]}),Ur=[],Gr=[];fromPoints(jr,Ur,Gr),Gr[0]-Ur[0]===0&&(Gr[0]+=1,Ur[0]-=1),Gr[1]-Ur[1]===0&&(Gr[1]+=1,Ur[1]-=1);var Yr=(Gr[0]-Ur[0])/(Gr[1]-Ur[1]),Kr=getViewRect$3(Br,_r,Yr);isNaN(Yr)&&(Ur=[Kr.x,Kr.y],Gr=[Kr.x+Kr.width,Kr.y+Kr.height]);var Qr=Gr[0]-Ur[0],Jr=Gr[1]-Ur[1],rn=Kr.width,an=Kr.height,ln=Br.coordinateSystem=new View$1;ln.zoomLimit=Br.get("scaleLimit"),ln.setBoundingRect(Ur[0],Ur[1],Qr,Jr),ln.setViewRect(Kr.x,Kr.y,rn,an),ln.setCenter(Br.get("center"),_r),ln.setZoom(Br.get("zoom")),$r.push(ln)}}),$r}var straightLineProto=Line$3.prototype,bezierCurveProto=BezierCurve$1.prototype,StraightLineShape=function(){function Fe(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return Fe}();(function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r})(StraightLineShape);function isStraightLine(Fe){return isNaN(+Fe.cpx1)||isNaN(+Fe.cpy1)}var ECLinePath=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="ec-line",Br}return _r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_r.prototype.getDefaultShape=function(){return new StraightLineShape},_r.prototype.buildPath=function($r,Br){isStraightLine(Br)?straightLineProto.buildPath.call(this,$r,Br):bezierCurveProto.buildPath.call(this,$r,Br)},_r.prototype.pointAt=function($r){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,$r):bezierCurveProto.pointAt.call(this,$r)},_r.prototype.tangentAt=function($r){var Br=this.shape,Fr=isStraightLine(Br)?[Br.x2-Br.x1,Br.y2-Br.y1]:bezierCurveProto.tangentAt.call(this,$r);return normalize$3(Fr,Fr)},_r}(Path$1);const ECLinePath$1=ECLinePath;var SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(Fe){return"_"+Fe+"Type"}function makeSymbolTypeValue(Fe,_r,$r){var Br=_r.getItemVisual($r,Fe);if(!Br||Br==="none")return Br;var Fr=_r.getItemVisual($r,Fe+"Size"),zr=_r.getItemVisual($r,Fe+"Rotate"),jr=_r.getItemVisual($r,Fe+"Offset"),Ur=_r.getItemVisual($r,Fe+"KeepAspect"),Gr=normalizeSymbolSize(Fr),Yr=normalizeSymbolOffset(jr||0,Gr);return Br+Gr+Yr+(zr||"")+(Ur||"")}function createSymbol(Fe,_r,$r){var Br=_r.getItemVisual($r,Fe);if(!(!Br||Br==="none")){var Fr=_r.getItemVisual($r,Fe+"Size"),zr=_r.getItemVisual($r,Fe+"Rotate"),jr=_r.getItemVisual($r,Fe+"Offset"),Ur=_r.getItemVisual($r,Fe+"KeepAspect"),Gr=normalizeSymbolSize(Fr),Yr=normalizeSymbolOffset(jr||0,Gr),Kr=createSymbol$1(Br,-Gr[0]/2+Yr[0],-Gr[1]/2+Yr[1],Gr[0],Gr[1],null,Ur);return Kr.__specifiedRotation=zr==null||isNaN(zr)?void 0:+zr*Math.PI/180||0,Kr.name=Fe,Kr}}function createLine(Fe){var _r=new ECLinePath$1({name:"line",subPixelOptimize:!0});return setLinePoints(_r.shape,Fe),_r}function setLinePoints(Fe,_r){Fe.x1=_r[0][0],Fe.y1=_r[0][1],Fe.x2=_r[1][0],Fe.y2=_r[1][1],Fe.percent=1;var $r=_r[2];$r?(Fe.cpx1=$r[0],Fe.cpy1=$r[1]):(Fe.cpx1=NaN,Fe.cpy1=NaN)}var Line=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this)||this;return zr._createLine($r,Br,Fr),zr}return _r.prototype._createLine=function($r,Br,Fr){var zr=$r.hostModel,jr=$r.getItemLayout(Br),Ur=createLine(jr);Ur.shape.percent=0,initProps(Ur,{shape:{percent:1}},zr,Br),this.add(Ur),each$f(SYMBOL_CATEGORIES,function(Gr){var Yr=createSymbol(Gr,$r,Br);this.add(Yr),this[makeSymbolTypeKey(Gr)]=makeSymbolTypeValue(Gr,$r,Br)},this),this._updateCommonStl($r,Br,Fr)},_r.prototype.updateData=function($r,Br,Fr){var zr=$r.hostModel,jr=this.childOfName("line"),Ur=$r.getItemLayout(Br),Gr={shape:{}};setLinePoints(Gr.shape,Ur),updateProps$1(jr,Gr,zr,Br),each$f(SYMBOL_CATEGORIES,function(Yr){var Kr=makeSymbolTypeValue(Yr,$r,Br),Qr=makeSymbolTypeKey(Yr);if(this[Qr]!==Kr){this.remove(this.childOfName(Yr));var Jr=createSymbol(Yr,$r,Br);this.add(Jr)}this[Qr]=Kr},this),this._updateCommonStl($r,Br,Fr)},_r.prototype.getLinePath=function(){return this.childAt(0)},_r.prototype._updateCommonStl=function($r,Br,Fr){var zr=$r.hostModel,jr=this.childOfName("line"),Ur=Fr&&Fr.emphasisLineStyle,Gr=Fr&&Fr.blurLineStyle,Yr=Fr&&Fr.selectLineStyle,Kr=Fr&&Fr.labelStatesModels,Qr=Fr&&Fr.emphasisDisabled,Jr=Fr&&Fr.focus,rn=Fr&&Fr.blurScope;if(!Fr||$r.hasItemOption){var an=$r.getItemModel(Br),ln=an.getModel("emphasis");Ur=ln.getModel("lineStyle").getLineStyle(),Gr=an.getModel(["blur","lineStyle"]).getLineStyle(),Yr=an.getModel(["select","lineStyle"]).getLineStyle(),Qr=ln.get("disabled"),Jr=ln.get("focus"),rn=ln.get("blurScope"),Kr=getLabelStatesModels(an)}var dn=$r.getItemVisual(Br,"style"),hn=dn.stroke;jr.useStyle(dn),jr.style.fill=null,jr.style.strokeNoScale=!0,jr.ensureState("emphasis").style=Ur,jr.ensureState("blur").style=Gr,jr.ensureState("select").style=Yr,each$f(SYMBOL_CATEGORIES,function(_n){var pn=this.childOfName(_n);if(pn){pn.setColor(hn),pn.style.opacity=dn.opacity;for(var Cn=0;Cn<SPECIAL_STATES.length;Cn++){var En=SPECIAL_STATES[Cn],Pn=jr.getState(En);if(Pn){var On=Pn.style||{},jn=pn.ensureState(En),Fn=jn.style||(jn.style={});On.stroke!=null&&(Fn[pn.__isEmptyBrush?"stroke":"fill"]=On.stroke),On.opacity!=null&&(Fn.opacity=On.opacity)}}pn.markRedraw()}},this);var gn=zr.getRawValue(Br);setLabelStyle(this,Kr,{labelDataIndex:Br,labelFetcher:{getFormattedLabel:function(_n,pn){return zr.getFormattedLabel(_n,pn,$r.dataType)}},inheritColor:hn||"#000",defaultOpacity:dn.opacity,defaultText:(gn==null?$r.getName(Br):isFinite(gn)?round$3(gn):gn)+""});var bn=this.getTextContent();if(bn){var kn=Kr.normal;bn.__align=bn.style.align,bn.__verticalAlign=bn.style.verticalAlign,bn.__position=kn.get("position")||"middle";var Sn=kn.get("distance");isArray$1(Sn)||(Sn=[Sn,Sn]),bn.__labelDistance=Sn}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,Jr,rn,Qr)},_r.prototype.highlight=function(){enterEmphasis(this)},_r.prototype.downplay=function(){leaveEmphasis(this)},_r.prototype.updateLayout=function($r,Br){this.setLinePoints($r.getItemLayout(Br))},_r.prototype.setLinePoints=function($r){var Br=this.childOfName("line");setLinePoints(Br.shape,$r),Br.dirty()},_r.prototype.beforeUpdate=function(){var $r=this,Br=$r.childOfName("fromSymbol"),Fr=$r.childOfName("toSymbol"),zr=$r.getTextContent();if(!Br&&!Fr&&(!zr||zr.ignore))return;for(var jr=1,Ur=this.parent;Ur;)Ur.scaleX&&(jr/=Ur.scaleX),Ur=Ur.parent;var Gr=$r.childOfName("line");if(!this.__dirty&&!Gr.__dirty)return;var Yr=Gr.shape.percent,Kr=Gr.pointAt(0),Qr=Gr.pointAt(Yr),Jr=sub([],Qr,Kr);normalize$3(Jr,Jr);function rn(Pn,On){var jn=Pn.__specifiedRotation;if(jn==null){var Fn=Gr.tangentAt(On);Pn.attr("rotation",(On===1?-1:1)*Math.PI/2-Math.atan2(Fn[1],Fn[0]))}else Pn.attr("rotation",jn)}if(Br&&(Br.setPosition(Kr),rn(Br,0),Br.scaleX=Br.scaleY=jr*Yr,Br.markRedraw()),Fr&&(Fr.setPosition(Qr),rn(Fr,1),Fr.scaleX=Fr.scaleY=jr*Yr,Fr.markRedraw()),zr&&!zr.ignore){zr.x=zr.y=0,zr.originX=zr.originY=0;var an=void 0,ln=void 0,dn=zr.__labelDistance,hn=dn[0]*jr,gn=dn[1]*jr,bn=Yr/2,kn=Gr.tangentAt(bn),Sn=[kn[1],-kn[0]],_n=Gr.pointAt(bn);Sn[1]>0&&(Sn[0]=-Sn[0],Sn[1]=-Sn[1]);var pn=kn[0]<0?-1:1;if(zr.__position!=="start"&&zr.__position!=="end"){var Cn=-Math.atan2(kn[1],kn[0]);Qr[0]<Kr[0]&&(Cn=Math.PI+Cn),zr.rotation=Cn}var En=void 0;switch(zr.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":En=-gn,ln="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":En=gn,ln="top";break;default:En=0,ln="middle"}switch(zr.__position){case"end":zr.x=Jr[0]*hn+Qr[0],zr.y=Jr[1]*gn+Qr[1],an=Jr[0]>.8?"left":Jr[0]<-.8?"right":"center",ln=Jr[1]>.8?"top":Jr[1]<-.8?"bottom":"middle";break;case"start":zr.x=-Jr[0]*hn+Kr[0],zr.y=-Jr[1]*gn+Kr[1],an=Jr[0]>.8?"right":Jr[0]<-.8?"left":"center",ln=Jr[1]>.8?"bottom":Jr[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":zr.x=hn*pn+Kr[0],zr.y=Kr[1]+En,an=kn[0]<0?"right":"left",zr.originX=-hn*pn,zr.originY=-En;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":zr.x=_n[0],zr.y=_n[1]+En,an="center",zr.originY=-En;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":zr.x=-hn*pn+Qr[0],zr.y=Qr[1]+En,an=kn[0]>=0?"right":"left",zr.originX=hn*pn,zr.originY=-En;break}zr.scaleX=zr.scaleY=jr,zr.setStyle({verticalAlign:zr.__verticalAlign||ln,align:zr.__align||an})}},_r}(Group$4);const Line$1=Line;var LineDraw=function(){function Fe(_r){this.group=new Group$4,this._LineCtor=_r||Line$1}return Fe.prototype.updateData=function(_r){var $r=this;this._progressiveEls=null;var Br=this,Fr=Br.group,zr=Br._lineData;Br._lineData=_r,zr||Fr.removeAll();var jr=makeSeriesScope$1(_r);_r.diff(zr).add(function(Ur){$r._doAdd(_r,Ur,jr)}).update(function(Ur,Gr){$r._doUpdate(zr,_r,Gr,Ur,jr)}).remove(function(Ur){Fr.remove(zr.getItemGraphicEl(Ur))}).execute()},Fe.prototype.updateLayout=function(){var _r=this._lineData;_r&&_r.eachItemGraphicEl(function($r,Br){$r.updateLayout(_r,Br)},this)},Fe.prototype.incrementalPrepareUpdate=function(_r){this._seriesScope=makeSeriesScope$1(_r),this._lineData=null,this.group.removeAll()},Fe.prototype.incrementalUpdate=function(_r,$r){this._progressiveEls=[];function Br(Ur){!Ur.isGroup&&!isEffectObject(Ur)&&(Ur.incremental=!0,Ur.ensureState("emphasis").hoverLayer=!0)}for(var Fr=_r.start;Fr<_r.end;Fr++){var zr=$r.getItemLayout(Fr);if(lineNeedsDraw(zr)){var jr=new this._LineCtor($r,Fr,this._seriesScope);jr.traverse(Br),this.group.add(jr),$r.setItemGraphicEl(Fr,jr),this._progressiveEls.push(jr)}}},Fe.prototype.remove=function(){this.group.removeAll()},Fe.prototype.eachRendered=function(_r){traverseElements(this._progressiveEls||this.group,_r)},Fe.prototype._doAdd=function(_r,$r,Br){var Fr=_r.getItemLayout($r);if(lineNeedsDraw(Fr)){var zr=new this._LineCtor(_r,$r,Br);_r.setItemGraphicEl($r,zr),this.group.add(zr)}},Fe.prototype._doUpdate=function(_r,$r,Br,Fr,zr){var jr=_r.getItemGraphicEl(Br);if(!lineNeedsDraw($r.getItemLayout(Fr))){this.group.remove(jr);return}jr?jr.updateData($r,Fr,zr):jr=new this._LineCtor($r,Fr,zr),$r.setItemGraphicEl(Fr,jr),this.group.add(jr)},Fe}();function isEffectObject(Fe){return Fe.animators&&Fe.animators.length>0}function makeSeriesScope$1(Fe){var _r=Fe.hostModel,$r=_r.getModel("emphasis");return{lineStyle:_r.getModel("lineStyle").getLineStyle(),emphasisLineStyle:$r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:_r.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:_r.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:$r.get("disabled"),blurScope:$r.get("blurScope"),focus:$r.get("focus"),labelStatesModels:getLabelStatesModels(_r)}}function isPointNaN(Fe){return isNaN(Fe[0])||isNaN(Fe[1])}function lineNeedsDraw(Fe){return Fe&&!isPointNaN(Fe[0])&&!isPointNaN(Fe[1])}const LineDraw$1=LineDraw;var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(Fe,_r,$r){for(var Br=Fe[0],Fr=Fe[1],zr=Fe[2],jr=1/0,Ur,Gr=$r*$r,Yr=.1,Kr=.1;Kr<=.9;Kr+=.1){v1[0]=quadraticAt(Br[0],Fr[0],zr[0],Kr),v1[1]=quadraticAt(Br[1],Fr[1],zr[1],Kr);var Qr=mathAbs(v2DistSquare(v1,_r)-Gr);Qr<jr&&(jr=Qr,Ur=Kr)}for(var Jr=0;Jr<32;Jr++){var rn=Ur+Yr;v2[0]=quadraticAt(Br[0],Fr[0],zr[0],Ur),v2[1]=quadraticAt(Br[1],Fr[1],zr[1],Ur),v3[0]=quadraticAt(Br[0],Fr[0],zr[0],rn),v3[1]=quadraticAt(Br[1],Fr[1],zr[1],rn);var Qr=v2DistSquare(v2,_r)-Gr;if(mathAbs(Qr)<.01)break;var an=v2DistSquare(v3,_r)-Gr;Yr/=2,Qr<0?an>=0?Ur=Ur+Yr:Ur=Ur-Yr:an>=0?Ur=Ur-Yr:Ur=Ur+Yr}return Ur}function adjustEdge(Fe,_r){var $r=[],Br=quadraticSubdivide,Fr=[[],[],[]],zr=[[],[]],jr=[];_r/=2,Fe.eachEdge(function(Ur,Gr){var Yr=Ur.getLayout(),Kr=Ur.getVisual("fromSymbol"),Qr=Ur.getVisual("toSymbol");Yr.__original||(Yr.__original=[clone$3(Yr[0]),clone$3(Yr[1])],Yr[2]&&Yr.__original.push(clone$3(Yr[2])));var Jr=Yr.__original;if(Yr[2]!=null){if(copy$1(Fr[0],Jr[0]),copy$1(Fr[1],Jr[2]),copy$1(Fr[2],Jr[1]),Kr&&Kr!=="none"){var rn=getSymbolSize(Ur.node1),an=intersectCurveCircle(Fr,Jr[0],rn*_r);Br(Fr[0][0],Fr[1][0],Fr[2][0],an,$r),Fr[0][0]=$r[3],Fr[1][0]=$r[4],Br(Fr[0][1],Fr[1][1],Fr[2][1],an,$r),Fr[0][1]=$r[3],Fr[1][1]=$r[4]}if(Qr&&Qr!=="none"){var rn=getSymbolSize(Ur.node2),an=intersectCurveCircle(Fr,Jr[1],rn*_r);Br(Fr[0][0],Fr[1][0],Fr[2][0],an,$r),Fr[1][0]=$r[1],Fr[2][0]=$r[2],Br(Fr[0][1],Fr[1][1],Fr[2][1],an,$r),Fr[1][1]=$r[1],Fr[2][1]=$r[2]}copy$1(Yr[0],Fr[0]),copy$1(Yr[1],Fr[2]),copy$1(Yr[2],Fr[1])}else{if(copy$1(zr[0],Jr[0]),copy$1(zr[1],Jr[1]),sub(jr,zr[1],zr[0]),normalize$3(jr,jr),Kr&&Kr!=="none"){var rn=getSymbolSize(Ur.node1);scaleAndAdd$1(zr[0],zr[0],jr,rn*_r)}if(Qr&&Qr!=="none"){var rn=getSymbolSize(Ur.node2);scaleAndAdd$1(zr[1],zr[1],jr,-rn*_r)}copy$1(Yr[0],zr[0]),copy$1(Yr[1],zr[1])}})}function isViewCoordSys(Fe){return Fe.type==="view"}var GraphView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function($r,Br){var Fr=new SymbolDraw$1,zr=new LineDraw$1,jr=this.group;this._controller=new RoamController$1(Br.getZr()),this._controllerHost={target:jr},jr.add(Fr.group),jr.add(zr.group),this._symbolDraw=Fr,this._lineDraw=zr,this._firstRender=!0},_r.prototype.render=function($r,Br,Fr){var zr=this,jr=$r.coordinateSystem;this._model=$r;var Ur=this._symbolDraw,Gr=this._lineDraw,Yr=this.group;if(isViewCoordSys(jr)){var Kr={x:jr.x,y:jr.y,scaleX:jr.scaleX,scaleY:jr.scaleY};this._firstRender?Yr.attr(Kr):updateProps$1(Yr,Kr,$r)}adjustEdge($r.getGraph(),getNodeGlobalScale($r));var Qr=$r.getData();Ur.updateData(Qr);var Jr=$r.getEdgeData();Gr.updateData(Jr),this._updateNodeAndLinkScale(),this._updateController($r,Br,Fr),clearTimeout(this._layoutTimeout);var rn=$r.forceLayout,an=$r.get(["force","layoutAnimation"]);rn&&this._startForceLayoutIteration(rn,an);var ln=$r.get("layout");Qr.graph.eachNode(function(bn){var kn=bn.dataIndex,Sn=bn.getGraphicEl(),_n=bn.getModel();if(Sn){Sn.off("drag").off("dragend");var pn=_n.get("draggable");pn&&Sn.on("drag",function(En){switch(ln){case"force":rn.warmUp(),!zr._layouting&&zr._startForceLayoutIteration(rn,an),rn.setFixed(kn),Qr.setItemLayout(kn,[Sn.x,Sn.y]);break;case"circular":Qr.setItemLayout(kn,[Sn.x,Sn.y]),bn.setLayout({fixed:!0},!0),circularLayout($r,"symbolSize",bn,[En.offsetX,En.offsetY]),zr.updateLayout($r);break;case"none":default:Qr.setItemLayout(kn,[Sn.x,Sn.y]),simpleLayoutEdge($r.getGraph(),$r),zr.updateLayout($r);break}}).on("dragend",function(){rn&&rn.setUnfixed(kn)}),Sn.setDraggable(pn,!!_n.get("cursor"));var Cn=_n.get(["emphasis","focus"]);Cn==="adjacency"&&(getECData(Sn).focus=bn.getAdjacentDataIndices())}}),Qr.graph.eachEdge(function(bn){var kn=bn.getGraphicEl(),Sn=bn.getModel().get(["emphasis","focus"]);kn&&Sn==="adjacency"&&(getECData(kn).focus={edge:[bn.dataIndex],node:[bn.node1.dataIndex,bn.node2.dataIndex]})});var dn=$r.get("layout")==="circular"&&$r.get(["circular","rotateLabel"]),hn=Qr.getLayout("cx"),gn=Qr.getLayout("cy");Qr.graph.eachNode(function(bn){rotateNodeLabel(bn,dn,hn,gn)}),this._firstRender=!1},_r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},_r.prototype._startForceLayoutIteration=function($r,Br){var Fr=this;(function zr(){$r.step(function(jr){Fr.updateLayout(Fr._model),(Fr._layouting=!jr)&&(Br?Fr._layoutTimeout=setTimeout(zr,16):zr())})})()},_r.prototype._updateController=function($r,Br,Fr){var zr=this,jr=this._controller,Ur=this._controllerHost,Gr=this.group;if(jr.setPointerChecker(function(Yr,Kr,Qr){var Jr=Gr.getBoundingRect();return Jr.applyTransform(Gr.transform),Jr.contain(Kr,Qr)&&!onIrrelevantElement(Yr,Fr,$r)}),!isViewCoordSys($r.coordinateSystem)){jr.disable();return}jr.enable($r.get("roam")),Ur.zoomLimit=$r.get("scaleLimit"),Ur.zoom=$r.coordinateSystem.getZoom(),jr.off("pan").off("zoom").on("pan",function(Yr){updateViewOnPan(Ur,Yr.dx,Yr.dy),Fr.dispatchAction({seriesId:$r.id,type:"graphRoam",dx:Yr.dx,dy:Yr.dy})}).on("zoom",function(Yr){updateViewOnZoom(Ur,Yr.scale,Yr.originX,Yr.originY),Fr.dispatchAction({seriesId:$r.id,type:"graphRoam",zoom:Yr.scale,originX:Yr.originX,originY:Yr.originY}),zr._updateNodeAndLinkScale(),adjustEdge($r.getGraph(),getNodeGlobalScale($r)),zr._lineDraw.updateLayout(),Fr.updateLabelLayout()})},_r.prototype._updateNodeAndLinkScale=function(){var $r=this._model,Br=$r.getData(),Fr=getNodeGlobalScale($r);Br.eachItemGraphicEl(function(zr,jr){zr&&zr.setSymbolScale(Fr)})},_r.prototype.updateLayout=function($r){adjustEdge($r.getGraph(),getNodeGlobalScale($r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},_r.prototype.remove=function($r,Br){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},_r.type="graph",_r}(ChartView$1);const GraphView$1=GraphView;function generateNodeKey(Fe){return"_EC_"+Fe}var Graph=function(){function Fe(_r){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=_r||!1}return Fe.prototype.isDirected=function(){return this._directed},Fe.prototype.addNode=function(_r,$r){_r=_r==null?""+$r:""+_r;var Br=this._nodesMap;if(!Br[generateNodeKey(_r)]){var Fr=new GraphNode(_r,$r);return Fr.hostGraph=this,this.nodes.push(Fr),Br[generateNodeKey(_r)]=Fr,Fr}},Fe.prototype.getNodeByIndex=function(_r){var $r=this.data.getRawIndex(_r);return this.nodes[$r]},Fe.prototype.getNodeById=function(_r){return this._nodesMap[generateNodeKey(_r)]},Fe.prototype.addEdge=function(_r,$r,Br){var Fr=this._nodesMap,zr=this._edgesMap;if(isNumber(_r)&&(_r=this.nodes[_r]),isNumber($r)&&($r=this.nodes[$r]),_r instanceof GraphNode||(_r=Fr[generateNodeKey(_r)]),$r instanceof GraphNode||($r=Fr[generateNodeKey($r)]),!(!_r||!$r)){var jr=_r.id+"-"+$r.id,Ur=new GraphEdge(_r,$r,Br);return Ur.hostGraph=this,this._directed&&(_r.outEdges.push(Ur),$r.inEdges.push(Ur)),_r.edges.push(Ur),_r!==$r&&$r.edges.push(Ur),this.edges.push(Ur),zr[jr]=Ur,Ur}},Fe.prototype.getEdgeByIndex=function(_r){var $r=this.edgeData.getRawIndex(_r);return this.edges[$r]},Fe.prototype.getEdge=function(_r,$r){_r instanceof GraphNode&&(_r=_r.id),$r instanceof GraphNode&&($r=$r.id);var Br=this._edgesMap;return this._directed?Br[_r+"-"+$r]:Br[_r+"-"+$r]||Br[$r+"-"+_r]},Fe.prototype.eachNode=function(_r,$r){for(var Br=this.nodes,Fr=Br.length,zr=0;zr<Fr;zr++)Br[zr].dataIndex>=0&&_r.call($r,Br[zr],zr)},Fe.prototype.eachEdge=function(_r,$r){for(var Br=this.edges,Fr=Br.length,zr=0;zr<Fr;zr++)Br[zr].dataIndex>=0&&Br[zr].node1.dataIndex>=0&&Br[zr].node2.dataIndex>=0&&_r.call($r,Br[zr],zr)},Fe.prototype.breadthFirstTraverse=function(_r,$r,Br,Fr){if($r instanceof GraphNode||($r=this._nodesMap[generateNodeKey($r)]),!!$r){for(var zr=Br==="out"?"outEdges":Br==="in"?"inEdges":"edges",jr=0;jr<this.nodes.length;jr++)this.nodes[jr].__visited=!1;if(!_r.call(Fr,$r,null))for(var Ur=[$r];Ur.length;)for(var Gr=Ur.shift(),Yr=Gr[zr],jr=0;jr<Yr.length;jr++){var Kr=Yr[jr],Qr=Kr.node1===Gr?Kr.node2:Kr.node1;if(!Qr.__visited){if(_r.call(Fr,Qr,Gr))return;Ur.push(Qr),Qr.__visited=!0}}}},Fe.prototype.update=function(){for(var _r=this.data,$r=this.edgeData,Br=this.nodes,Fr=this.edges,zr=0,jr=Br.length;zr<jr;zr++)Br[zr].dataIndex=-1;for(var zr=0,jr=_r.count();zr<jr;zr++)Br[_r.getRawIndex(zr)].dataIndex=zr;$r.filterSelf(function(Ur){var Gr=Fr[$r.getRawIndex(Ur)];return Gr.node1.dataIndex>=0&&Gr.node2.dataIndex>=0});for(var zr=0,jr=Fr.length;zr<jr;zr++)Fr[zr].dataIndex=-1;for(var zr=0,jr=$r.count();zr<jr;zr++)Fr[$r.getRawIndex(zr)].dataIndex=zr},Fe.prototype.clone=function(){for(var _r=new Fe(this._directed),$r=this.nodes,Br=this.edges,Fr=0;Fr<$r.length;Fr++)_r.addNode($r[Fr].id,$r[Fr].dataIndex);for(var Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr];_r.addEdge(zr.node1.id,zr.node2.id,zr.dataIndex)}return _r},Fe}(),GraphNode=function(){function Fe(_r,$r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=_r??"",this.dataIndex=$r??-1}return Fe.prototype.degree=function(){return this.edges.length},Fe.prototype.inDegree=function(){return this.inEdges.length},Fe.prototype.outDegree=function(){return this.outEdges.length},Fe.prototype.getModel=function(_r){if(!(this.dataIndex<0)){var $r=this.hostGraph,Br=$r.data.getItemModel(this.dataIndex);return Br.getModel(_r)}},Fe.prototype.getAdjacentDataIndices=function(){for(var _r={edge:[],node:[]},$r=0;$r<this.edges.length;$r++){var Br=this.edges[$r];Br.dataIndex<0||(_r.edge.push(Br.dataIndex),_r.node.push(Br.node1.dataIndex,Br.node2.dataIndex))}return _r},Fe.prototype.getTrajectoryDataIndices=function(){for(var _r=createHashMap(),$r=createHashMap(),Br=0;Br<this.edges.length;Br++){var Fr=this.edges[Br];if(!(Fr.dataIndex<0)){_r.set(Fr.dataIndex,!0);for(var zr=[Fr.node1],jr=[Fr.node2],Ur=0;Ur<zr.length;){var Gr=zr[Ur];Ur++,$r.set(Gr.dataIndex,!0);for(var Yr=0;Yr<Gr.inEdges.length;Yr++)_r.set(Gr.inEdges[Yr].dataIndex,!0),zr.push(Gr.inEdges[Yr].node1)}for(Ur=0;Ur<jr.length;){var Kr=jr[Ur];Ur++,$r.set(Kr.dataIndex,!0);for(var Yr=0;Yr<Kr.outEdges.length;Yr++)_r.set(Kr.outEdges[Yr].dataIndex,!0),jr.push(Kr.outEdges[Yr].node2)}}}return{edge:_r.keys(),node:$r.keys()}},Fe}(),GraphEdge=function(){function Fe(_r,$r,Br){this.dataIndex=-1,this.node1=_r,this.node2=$r,this.dataIndex=Br??-1}return Fe.prototype.getModel=function(_r){if(!(this.dataIndex<0)){var $r=this.hostGraph,Br=$r.edgeData.getItemModel(this.dataIndex);return Br.getModel(_r)}},Fe.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},Fe.prototype.getTrajectoryDataIndices=function(){var _r=createHashMap(),$r=createHashMap();_r.set(this.dataIndex,!0);for(var Br=[this.node1],Fr=[this.node2],zr=0;zr<Br.length;){var jr=Br[zr];zr++,$r.set(jr.dataIndex,!0);for(var Ur=0;Ur<jr.inEdges.length;Ur++)_r.set(jr.inEdges[Ur].dataIndex,!0),Br.push(jr.inEdges[Ur].node1)}for(zr=0;zr<Fr.length;){var Gr=Fr[zr];zr++,$r.set(Gr.dataIndex,!0);for(var Ur=0;Ur<Gr.outEdges.length;Ur++)_r.set(Gr.outEdges[Ur].dataIndex,!0),Fr.push(Gr.outEdges[Ur].node2)}return{edge:_r.keys(),node:$r.keys()}},Fe}();function createGraphDataProxyMixin(Fe,_r){return{getValue:function($r){var Br=this[Fe][_r];return Br.getStore().get(Br.getDimensionIndex($r||"value"),this.dataIndex)},setVisual:function($r,Br){this.dataIndex>=0&&this[Fe][_r].setItemVisual(this.dataIndex,$r,Br)},getVisual:function($r){return this[Fe][_r].getItemVisual(this.dataIndex,$r)},setLayout:function($r,Br){this.dataIndex>=0&&this[Fe][_r].setItemLayout(this.dataIndex,$r,Br)},getLayout:function(){return this[Fe][_r].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[Fe][_r].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[Fe][_r].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));const Graph$1=Graph;function createGraphFromNodeEdge(Fe,_r,$r,Br,Fr){for(var zr=new Graph$1(Br),jr=0;jr<Fe.length;jr++)zr.addNode(retrieve(Fe[jr].id,Fe[jr].name,jr),jr);for(var Ur=[],Gr=[],Yr=0,jr=0;jr<_r.length;jr++){var Kr=_r[jr],Qr=Kr.source,Jr=Kr.target;zr.addEdge(Qr,Jr,Yr)&&(Gr.push(Kr),Ur.push(retrieve(convertOptionIdName(Kr.id,null),Qr+" > "+Jr)),Yr++)}var rn=$r.get("coordinateSystem"),an;if(rn==="cartesian2d"||rn==="polar")an=createSeriesData(Fe,$r);else{var ln=CoordinateSystem.get(rn),dn=ln?ln.dimensions||[]:[];indexOf(dn,"value")<0&&dn.concat(["value"]);var hn=prepareSeriesDataSchema(Fe,{coordDimensions:dn,encodeDefine:$r.getEncode()}).dimensions;an=new SeriesData$1(hn,$r),an.initData(Fe)}var gn=new SeriesData$1(["value"],$r);return gn.initData(Gr,Ur),Fr&&Fr(an,gn),linkSeriesData({mainData:an,struct:zr,structAttr:"graph",datas:{node:an,edge:gn},datasAttr:{node:"data",edge:"edgeData"}}),zr.update(),zr}var GraphSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.hasSymbolVisual=!0,$r}return _r.prototype.init=function($r){Fe.prototype.init.apply(this,arguments);var Br=this;function Fr(){return Br._categoriesData}this.legendVisualProvider=new LegendVisualProvider$1(Fr,Fr),this.fillDataTextStyle($r.edges||$r.links),this._updateCategoriesData()},_r.prototype.mergeOption=function($r){Fe.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle($r.edges||$r.links),this._updateCategoriesData()},_r.prototype.mergeDefaultAndTheme=function($r){Fe.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis($r,"edgeLabel",["show"])},_r.prototype.getInitialData=function($r,Br){var Fr=$r.edges||$r.links||[],zr=$r.data||$r.nodes||[],jr=this;if(zr&&Fr){initCurvenessList(this);var Ur=createGraphFromNodeEdge(zr,Fr,this,!0,Gr);return each$f(Ur.edges,function(Yr){createEdgeMapForCurveness(Yr.node1,Yr.node2,this,Yr.dataIndex)},this),Ur.data}function Gr(Yr,Kr){Yr.wrapMethod("getItemModel",function(an){var ln=jr._categoriesModels,dn=an.getShallow("category"),hn=ln[dn];return hn&&(hn.parentModel=an.parentModel,an.parentModel=hn),an});var Qr=Model$1.prototype.getModel;function Jr(an,ln){var dn=Qr.call(this,an,ln);return dn.resolveParentPath=rn,dn}Kr.wrapMethod("getItemModel",function(an){return an.resolveParentPath=rn,an.getModel=Jr,an});function rn(an){if(an&&(an[0]==="label"||an[1]==="label")){var ln=an.slice();return an[0]==="label"?ln[0]="edgeLabel":an[1]==="label"&&(ln[1]="edgeLabel"),ln}return an}}},_r.prototype.getGraph=function(){return this.getData().graph},_r.prototype.getEdgeData=function(){return this.getGraph().edgeData},_r.prototype.getCategoriesData=function(){return this._categoriesData},_r.prototype.formatTooltip=function($r,Br,Fr){if(Fr==="edge"){var zr=this.getData(),jr=this.getDataParams($r,Fr),Ur=zr.graph.getEdgeByIndex($r),Gr=zr.getName(Ur.node1.dataIndex),Yr=zr.getName(Ur.node2.dataIndex),Kr=[];return Gr!=null&&Kr.push(Gr),Yr!=null&&Kr.push(Yr),createTooltipMarkup("nameValue",{name:Kr.join(" > "),value:jr.value,noValue:jr.value==null})}var Qr=defaultSeriesFormatTooltip({series:this,dataIndex:$r,multipleSeries:Br});return Qr},_r.prototype._updateCategoriesData=function(){var $r=map$1(this.option.categories||[],function(Fr){return Fr.value!=null?Fr:extend$1({value:0},Fr)}),Br=new SeriesData$1(["value"],this);Br.initData($r),this._categoriesData=Br,this._categoriesModels=Br.mapArray(function(Fr){return Br.getItemModel(Fr)})},_r.prototype.setZoom=function($r){this.option.zoom=$r},_r.prototype.setCenter=function($r){this.option.center=$r},_r.prototype.isAnimationEnabled=function(){return Fe.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},_r.type="series.graph",_r.dependencies=["grid","polar","geo","singleAxis","calendar"],_r.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},_r}(SeriesModel$1);const GraphSeriesModel$1=GraphSeriesModel;var actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(Fe){Fe.registerChartView(GraphView$1),Fe.registerSeriesModel(GraphSeriesModel$1),Fe.registerProcessor(categoryFilter),Fe.registerVisual(categoryVisual),Fe.registerVisual(graphEdgeVisual),Fe.registerLayout(graphSimpleLayout),Fe.registerLayout(Fe.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),Fe.registerLayout(graphForceLayout),Fe.registerCoordinateSystem("graphView",{dimensions:View$1.dimensions,create:createViewCoordSys}),Fe.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),Fe.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),Fe.registerAction(actionInfo$1,function(_r,$r,Br){$r.eachComponent({mainType:"series",query:_r},function(Fr){var zr=Fr.coordinateSystem,jr=updateCenterAndZoom(zr,_r,void 0,Br);Fr.setCenter&&Fr.setCenter(jr.center),Fr.setZoom&&Fr.setZoom(jr.zoom)})})}var PointerShape=function(){function Fe(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return Fe}(),PointerPath=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="pointer",Br}return _r.prototype.getDefaultShape=function(){return new PointerShape},_r.prototype.buildPath=function($r,Br){var Fr=Math.cos,zr=Math.sin,jr=Br.r,Ur=Br.width,Gr=Br.angle,Yr=Br.x-Fr(Gr)*Ur*(Ur>=jr/3?1:2),Kr=Br.y-zr(Gr)*Ur*(Ur>=jr/3?1:2);Gr=Br.angle-Math.PI/2,$r.moveTo(Yr,Kr),$r.lineTo(Br.x+Fr(Gr)*Ur,Br.y+zr(Gr)*Ur),$r.lineTo(Br.x+Fr(Br.angle)*jr,Br.y+zr(Br.angle)*jr),$r.lineTo(Br.x-Fr(Gr)*Ur,Br.y-zr(Gr)*Ur),$r.lineTo(Yr,Kr)},_r}(Path$1);const PointerPath$1=PointerPath;function parsePosition(Fe,_r){var $r=Fe.get("center"),Br=_r.getWidth(),Fr=_r.getHeight(),zr=Math.min(Br,Fr),jr=parsePercent($r[0],_r.getWidth()),Ur=parsePercent($r[1],_r.getHeight()),Gr=parsePercent(Fe.get("radius"),zr/2);return{cx:jr,cy:Ur,r:Gr}}function formatLabel(Fe,_r){var $r=Fe==null?"":Fe+"";return _r&&(isString(_r)?$r=_r.replace("{value}",$r):isFunction(_r)&&($r=_r(Fe))),$r}var GaugeView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){this.group.removeAll();var zr=$r.get(["axisLine","lineStyle","color"]),jr=parsePosition($r,Fr);this._renderMain($r,Br,Fr,zr,jr),this._data=$r.getData()},_r.prototype.dispose=function(){},_r.prototype._renderMain=function($r,Br,Fr,zr,jr){var Ur=this.group,Gr=$r.get("clockwise"),Yr=-$r.get("startAngle")/180*Math.PI,Kr=-$r.get("endAngle")/180*Math.PI,Qr=$r.getModel("axisLine"),Jr=Qr.get("roundCap"),rn=Jr?Sausage:Sector$1,an=Qr.get("show"),ln=Qr.getModel("lineStyle"),dn=ln.get("width"),hn=[Yr,Kr];normalizeArcAngles(hn,!Gr),Yr=hn[0],Kr=hn[1];for(var gn=Kr-Yr,bn=Yr,kn=[],Sn=0;an&&Sn<zr.length;Sn++){var _n=Math.min(Math.max(zr[Sn][0],0),1);Kr=Yr+gn*_n;var pn=new rn({shape:{startAngle:bn,endAngle:Kr,cx:jr.cx,cy:jr.cy,clockwise:Gr,r0:jr.r-dn,r:jr.r},silent:!0});pn.setStyle({fill:zr[Sn][1]}),pn.setStyle(ln.getLineStyle(["color","width"])),kn.push(pn),bn=Kr}kn.reverse(),each$f(kn,function(En){return Ur.add(En)});var Cn=function(En){if(En<=0)return zr[0][1];var Pn;for(Pn=0;Pn<zr.length;Pn++)if(zr[Pn][0]>=En&&(Pn===0?0:zr[Pn-1][0])<En)return zr[Pn][1];return zr[Pn-1][1]};this._renderTicks($r,Br,Fr,Cn,jr,Yr,Kr,Gr,dn),this._renderTitleAndDetail($r,Br,Fr,Cn,jr),this._renderAnchor($r,jr),this._renderPointer($r,Br,Fr,Cn,jr,Yr,Kr,Gr,dn)},_r.prototype._renderTicks=function($r,Br,Fr,zr,jr,Ur,Gr,Yr,Kr){for(var Qr=this.group,Jr=jr.cx,rn=jr.cy,an=jr.r,ln=+$r.get("min"),dn=+$r.get("max"),hn=$r.getModel("splitLine"),gn=$r.getModel("axisTick"),bn=$r.getModel("axisLabel"),kn=$r.get("splitNumber"),Sn=gn.get("splitNumber"),_n=parsePercent(hn.get("length"),an),pn=parsePercent(gn.get("length"),an),Cn=Ur,En=(Gr-Ur)/kn,Pn=En/Sn,On=hn.getModel("lineStyle").getLineStyle(),jn=gn.getModel("lineStyle").getLineStyle(),Fn=hn.get("distance"),Wn,Hn,qn=0;qn<=kn;qn++){if(Wn=Math.cos(Cn),Hn=Math.sin(Cn),hn.get("show")){var ni=Fn?Fn+Kr:Kr,oi=new Line$3({shape:{x1:Wn*(an-ni)+Jr,y1:Hn*(an-ni)+rn,x2:Wn*(an-_n-ni)+Jr,y2:Hn*(an-_n-ni)+rn},style:On,silent:!0});On.stroke==="auto"&&oi.setStyle({stroke:zr(qn/kn)}),Qr.add(oi)}if(bn.get("show")){var ni=bn.get("distance")+Fn,wi=formatLabel(round$3(qn/kn*(dn-ln)+ln),bn.get("formatter")),Ci=zr(qn/kn),Fi=Wn*(an-_n-ni)+Jr,Zn=Hn*(an-_n-ni)+rn,Gn=bn.get("rotate"),ui=0;Gn==="radial"?(ui=-Cn+2*Math.PI,ui>Math.PI/2&&(ui+=Math.PI)):Gn==="tangential"?ui=-Cn-Math.PI/2:isNumber(Gn)&&(ui=Gn*Math.PI/180),ui===0?Qr.add(new ZRText$1({style:createTextStyle$1(bn,{text:wi,x:Fi,y:Zn,verticalAlign:Hn<-.8?"top":Hn>.8?"bottom":"middle",align:Wn<-.4?"left":Wn>.4?"right":"center"},{inheritColor:Ci}),silent:!0})):Qr.add(new ZRText$1({style:createTextStyle$1(bn,{text:wi,x:Fi,y:Zn,verticalAlign:"middle",align:"center"},{inheritColor:Ci}),silent:!0,originX:Fi,originY:Zn,rotation:ui}))}if(gn.get("show")&&qn!==kn){var ni=gn.get("distance");ni=ni?ni+Kr:Kr;for(var Ni=0;Ni<=Sn;Ni++){Wn=Math.cos(Cn),Hn=Math.sin(Cn);var $i=new Line$3({shape:{x1:Wn*(an-ni)+Jr,y1:Hn*(an-ni)+rn,x2:Wn*(an-pn-ni)+Jr,y2:Hn*(an-pn-ni)+rn},silent:!0,style:jn});jn.stroke==="auto"&&$i.setStyle({stroke:zr((qn+Ni/Sn)/kn)}),Qr.add($i),Cn+=Pn}Cn-=Pn}else Cn+=En}},_r.prototype._renderPointer=function($r,Br,Fr,zr,jr,Ur,Gr,Yr,Kr){var Qr=this.group,Jr=this._data,rn=this._progressEls,an=[],ln=$r.get(["pointer","show"]),dn=$r.getModel("progress"),hn=dn.get("show"),gn=$r.getData(),bn=gn.mapDimension("value"),kn=+$r.get("min"),Sn=+$r.get("max"),_n=[kn,Sn],pn=[Ur,Gr];function Cn(Pn,On){var jn=gn.getItemModel(Pn),Fn=jn.getModel("pointer"),Wn=parsePercent(Fn.get("width"),jr.r),Hn=parsePercent(Fn.get("length"),jr.r),qn=$r.get(["pointer","icon"]),ni=Fn.get("offsetCenter"),oi=parsePercent(ni[0],jr.r),wi=parsePercent(ni[1],jr.r),Ci=Fn.get("keepAspect"),Fi;return qn?Fi=createSymbol$1(qn,oi-Wn/2,wi-Hn,Wn,Hn,null,Ci):Fi=new PointerPath$1({shape:{angle:-Math.PI/2,width:Wn,r:Hn,x:oi,y:wi}}),Fi.rotation=-(On+Math.PI/2),Fi.x=jr.cx,Fi.y=jr.cy,Fi}function En(Pn,On){var jn=dn.get("roundCap"),Fn=jn?Sausage:Sector$1,Wn=dn.get("overlap"),Hn=Wn?dn.get("width"):Kr/gn.count(),qn=Wn?jr.r-Hn:jr.r-(Pn+1)*Hn,ni=Wn?jr.r:jr.r-Pn*Hn,oi=new Fn({shape:{startAngle:Ur,endAngle:On,cx:jr.cx,cy:jr.cy,clockwise:Yr,r0:qn,r:ni}});return Wn&&(oi.z2=Sn-gn.get(bn,Pn)%Sn),oi}(hn||ln)&&(gn.diff(Jr).add(function(Pn){var On=gn.get(bn,Pn);if(ln){var jn=Cn(Pn,Ur);initProps(jn,{rotation:-((isNaN(+On)?pn[0]:linearMap$2(On,_n,pn,!0))+Math.PI/2)},$r),Qr.add(jn),gn.setItemGraphicEl(Pn,jn)}if(hn){var Fn=En(Pn,Ur),Wn=dn.get("clip");initProps(Fn,{shape:{endAngle:linearMap$2(On,_n,pn,Wn)}},$r),Qr.add(Fn),setCommonECData($r.seriesIndex,gn.dataType,Pn,Fn),an[Pn]=Fn}}).update(function(Pn,On){var jn=gn.get(bn,Pn);if(ln){var Fn=Jr.getItemGraphicEl(On),Wn=Fn?Fn.rotation:Ur,Hn=Cn(Pn,Wn);Hn.rotation=Wn,updateProps$1(Hn,{rotation:-((isNaN(+jn)?pn[0]:linearMap$2(jn,_n,pn,!0))+Math.PI/2)},$r),Qr.add(Hn),gn.setItemGraphicEl(Pn,Hn)}if(hn){var qn=rn[On],ni=qn?qn.shape.endAngle:Ur,oi=En(Pn,ni),wi=dn.get("clip");updateProps$1(oi,{shape:{endAngle:linearMap$2(jn,_n,pn,wi)}},$r),Qr.add(oi),setCommonECData($r.seriesIndex,gn.dataType,Pn,oi),an[Pn]=oi}}).execute(),gn.each(function(Pn){var On=gn.getItemModel(Pn),jn=On.getModel("emphasis"),Fn=jn.get("focus"),Wn=jn.get("blurScope"),Hn=jn.get("disabled");if(ln){var qn=gn.getItemGraphicEl(Pn),ni=gn.getItemVisual(Pn,"style"),oi=ni.fill;if(qn instanceof ZRImage$1){var wi=qn.style;qn.useStyle(extend$1({image:wi.image,x:wi.x,y:wi.y,width:wi.width,height:wi.height},ni))}else qn.useStyle(ni),qn.type!=="pointer"&&qn.setColor(oi);qn.setStyle(On.getModel(["pointer","itemStyle"]).getItemStyle()),qn.style.fill==="auto"&&qn.setStyle("fill",zr(linearMap$2(gn.get(bn,Pn),_n,[0,1],!0))),qn.z2EmphasisLift=0,setStatesStylesFromModel(qn,On),toggleHoverEmphasis(qn,Fn,Wn,Hn)}if(hn){var Ci=an[Pn];Ci.useStyle(gn.getItemVisual(Pn,"style")),Ci.setStyle(On.getModel(["progress","itemStyle"]).getItemStyle()),Ci.z2EmphasisLift=0,setStatesStylesFromModel(Ci,On),toggleHoverEmphasis(Ci,Fn,Wn,Hn)}}),this._progressEls=an)},_r.prototype._renderAnchor=function($r,Br){var Fr=$r.getModel("anchor"),zr=Fr.get("show");if(zr){var jr=Fr.get("size"),Ur=Fr.get("icon"),Gr=Fr.get("offsetCenter"),Yr=Fr.get("keepAspect"),Kr=createSymbol$1(Ur,Br.cx-jr/2+parsePercent(Gr[0],Br.r),Br.cy-jr/2+parsePercent(Gr[1],Br.r),jr,jr,null,Yr);Kr.z2=Fr.get("showAbove")?1:0,Kr.setStyle(Fr.getModel("itemStyle").getItemStyle()),this.group.add(Kr)}},_r.prototype._renderTitleAndDetail=function($r,Br,Fr,zr,jr){var Ur=this,Gr=$r.getData(),Yr=Gr.mapDimension("value"),Kr=+$r.get("min"),Qr=+$r.get("max"),Jr=new Group$4,rn=[],an=[],ln=$r.isAnimationEnabled(),dn=$r.get(["pointer","showAbove"]);Gr.diff(this._data).add(function(hn){rn[hn]=new ZRText$1({silent:!0}),an[hn]=new ZRText$1({silent:!0})}).update(function(hn,gn){rn[hn]=Ur._titleEls[gn],an[hn]=Ur._detailEls[gn]}).execute(),Gr.each(function(hn){var gn=Gr.getItemModel(hn),bn=Gr.get(Yr,hn),kn=new Group$4,Sn=zr(linearMap$2(bn,[Kr,Qr],[0,1],!0)),_n=gn.getModel("title");if(_n.get("show")){var pn=_n.get("offsetCenter"),Cn=jr.cx+parsePercent(pn[0],jr.r),En=jr.cy+parsePercent(pn[1],jr.r),Pn=rn[hn];Pn.attr({z2:dn?0:2,style:createTextStyle$1(_n,{x:Cn,y:En,text:Gr.getName(hn),align:"center",verticalAlign:"middle"},{inheritColor:Sn})}),kn.add(Pn)}var On=gn.getModel("detail");if(On.get("show")){var jn=On.get("offsetCenter"),Fn=jr.cx+parsePercent(jn[0],jr.r),Wn=jr.cy+parsePercent(jn[1],jr.r),Hn=parsePercent(On.get("width"),jr.r),qn=parsePercent(On.get("height"),jr.r),ni=$r.get(["progress","show"])?Gr.getItemVisual(hn,"style").fill:Sn,Pn=an[hn],oi=On.get("formatter");Pn.attr({z2:dn?0:2,style:createTextStyle$1(On,{x:Fn,y:Wn,text:formatLabel(bn,oi),width:isNaN(Hn)?null:Hn,height:isNaN(qn)?null:qn,align:"center",verticalAlign:"middle"},{inheritColor:ni})}),setLabelValueAnimation(Pn,{normal:On},bn,function(Ci){return formatLabel(Ci,oi)}),ln&&animateLabelValue(Pn,hn,Gr,$r,{getFormattedLabel:function(Ci,Fi,Zn,Gn,ui,Ni){return formatLabel(Ni?Ni.interpolatedValue:bn,oi)}}),kn.add(Pn)}Jr.add(kn)}),this.group.add(Jr),this._titleEls=rn,this._detailEls=an},_r.type="gauge",_r}(ChartView$1);const GaugeView$1=GaugeView;var GaugeSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.visualStyleAccessPath="itemStyle",$r}return _r.prototype.getInitialData=function($r,Br){return createSeriesDataSimply(this,["value"])},_r.type="series.gauge",_r.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},_r}(SeriesModel$1);const GaugeSeriesModel$1=GaugeSeriesModel;function install$E(Fe){Fe.registerChartView(GaugeView$1),Fe.registerSeriesModel(GaugeSeriesModel$1)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(Fe){__extends(_r,Fe);function _r($r,Br){var Fr=Fe.call(this)||this,zr=Fr,jr=new Polyline$3,Ur=new ZRText$1;return zr.setTextContent(Ur),Fr.setTextGuideLine(jr),Fr.updateData($r,Br,!0),Fr}return _r.prototype.updateData=function($r,Br,Fr){var zr=this,jr=$r.hostModel,Ur=$r.getItemModel(Br),Gr=$r.getItemLayout(Br),Yr=Ur.getModel("emphasis"),Kr=Ur.get(opacityAccessPath$1);Kr=Kr??1,Fr||saveOldStyle(zr),zr.useStyle($r.getItemVisual(Br,"style")),zr.style.lineJoin="round",Fr?(zr.setShape({points:Gr.points}),zr.style.opacity=0,initProps(zr,{style:{opacity:Kr}},jr,Br)):updateProps$1(zr,{style:{opacity:Kr},shape:{points:Gr.points}},jr,Br),setStatesStylesFromModel(zr,Ur),this._updateLabel($r,Br),toggleHoverEmphasis(this,Yr.get("focus"),Yr.get("blurScope"),Yr.get("disabled"))},_r.prototype._updateLabel=function($r,Br){var Fr=this,zr=this.getTextGuideLine(),jr=Fr.getTextContent(),Ur=$r.hostModel,Gr=$r.getItemModel(Br),Yr=$r.getItemLayout(Br),Kr=Yr.label,Qr=$r.getItemVisual(Br,"style"),Jr=Qr.fill;setLabelStyle(jr,getLabelStatesModels(Gr),{labelFetcher:$r.hostModel,labelDataIndex:Br,defaultOpacity:Qr.opacity,defaultText:$r.getName(Br)},{normal:{align:Kr.textAlign,verticalAlign:Kr.verticalAlign}}),Fr.setTextConfig({local:!0,inside:!!Kr.inside,insideStroke:Jr,outsideFill:Jr});var rn=Kr.linePoints;zr.setShape({points:rn}),Fr.textGuideLineConfig={anchor:rn?new Point$1(rn[0][0],rn[0][1]):null},updateProps$1(jr,{style:{x:Kr.x,y:Kr.y}},Ur,Br),jr.attr({rotation:Kr.rotation,originX:Kr.x,originY:Kr.y,z2:10}),setLabelLineStyle(Fr,getLabelLineStatesModels(Gr),{stroke:Jr})},_r}(Polygon$1),FunnelView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.ignoreLabelLineUpdate=!0,$r}return _r.prototype.render=function($r,Br,Fr){var zr=$r.getData(),jr=this._data,Ur=this.group;zr.diff(jr).add(function(Gr){var Yr=new FunnelPiece(zr,Gr);zr.setItemGraphicEl(Gr,Yr),Ur.add(Yr)}).update(function(Gr,Yr){var Kr=jr.getItemGraphicEl(Yr);Kr.updateData(zr,Gr),Ur.add(Kr),zr.setItemGraphicEl(Gr,Kr)}).remove(function(Gr){var Yr=jr.getItemGraphicEl(Gr);removeElementWithFadeOut(Yr,$r,Gr)}).execute(),this._data=zr},_r.prototype.remove=function(){this.group.removeAll(),this._data=null},_r.prototype.dispose=function(){},_r.type="funnel",_r}(ChartView$1);const FunnelView$1=FunnelView;var FunnelSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function($r){Fe.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine($r)},_r.prototype.getInitialData=function($r,Br){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},_r.prototype._defaultLabelLine=function($r){defaultEmphasis($r,"labelLine",["show"]);var Br=$r.labelLine,Fr=$r.emphasis.labelLine;Br.show=Br.show&&$r.label.show,Fr.show=Fr.show&&$r.emphasis.label.show},_r.prototype.getDataParams=function($r){var Br=this.getData(),Fr=Fe.prototype.getDataParams.call(this,$r),zr=Br.mapDimension("value"),jr=Br.getSum(zr);return Fr.percent=jr?+(Br.get(zr,$r)/jr*100).toFixed(2):0,Fr.$vars.push("percent"),Fr},_r.type="series.funnel",_r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},_r}(SeriesModel$1);const FunnelSeriesModel$1=FunnelSeriesModel;function getViewRect$2(Fe,_r){return getLayoutRect(Fe.getBoxLayoutParams(),{width:_r.getWidth(),height:_r.getHeight()})}function getSortedIndices(Fe,_r){for(var $r=Fe.mapDimension("value"),Br=Fe.mapArray($r,function(Gr){return Gr}),Fr=[],zr=_r==="ascending",jr=0,Ur=Fe.count();jr<Ur;jr++)Fr[jr]=jr;return isFunction(_r)?Fr.sort(_r):_r!=="none"&&Fr.sort(function(Gr,Yr){return zr?Br[Gr]-Br[Yr]:Br[Yr]-Br[Gr]}),Fr}function labelLayout(Fe){var _r=Fe.hostModel,$r=_r.get("orient");Fe.each(function(Br){var Fr=Fe.getItemModel(Br),zr=Fr.getModel("label"),jr=zr.get("position"),Ur=Fr.getModel("labelLine"),Gr=Fe.getItemLayout(Br),Yr=Gr.points,Kr=jr==="inner"||jr==="inside"||jr==="center"||jr==="insideLeft"||jr==="insideRight",Qr,Jr,rn,an;if(Kr)jr==="insideLeft"?(Jr=(Yr[0][0]+Yr[3][0])/2+5,rn=(Yr[0][1]+Yr[3][1])/2,Qr="left"):jr==="insideRight"?(Jr=(Yr[1][0]+Yr[2][0])/2-5,rn=(Yr[1][1]+Yr[2][1])/2,Qr="right"):(Jr=(Yr[0][0]+Yr[1][0]+Yr[2][0]+Yr[3][0])/4,rn=(Yr[0][1]+Yr[1][1]+Yr[2][1]+Yr[3][1])/4,Qr="center"),an=[[Jr,rn],[Jr,rn]];else{var ln=void 0,dn=void 0,hn=void 0,gn=void 0,bn=Ur.get("length");jr==="left"?(ln=(Yr[3][0]+Yr[0][0])/2,dn=(Yr[3][1]+Yr[0][1])/2,hn=ln-bn,Jr=hn-5,Qr="right"):jr==="right"?(ln=(Yr[1][0]+Yr[2][0])/2,dn=(Yr[1][1]+Yr[2][1])/2,hn=ln+bn,Jr=hn+5,Qr="left"):jr==="top"?(ln=(Yr[3][0]+Yr[0][0])/2,dn=(Yr[3][1]+Yr[0][1])/2,gn=dn-bn,rn=gn-5,Qr="center"):jr==="bottom"?(ln=(Yr[1][0]+Yr[2][0])/2,dn=(Yr[1][1]+Yr[2][1])/2,gn=dn+bn,rn=gn+5,Qr="center"):jr==="rightTop"?(ln=$r==="horizontal"?Yr[3][0]:Yr[1][0],dn=$r==="horizontal"?Yr[3][1]:Yr[1][1],$r==="horizontal"?(gn=dn-bn,rn=gn-5,Qr="center"):(hn=ln+bn,Jr=hn+5,Qr="top")):jr==="rightBottom"?(ln=Yr[2][0],dn=Yr[2][1],$r==="horizontal"?(gn=dn+bn,rn=gn+5,Qr="center"):(hn=ln+bn,Jr=hn+5,Qr="bottom")):jr==="leftTop"?(ln=Yr[0][0],dn=$r==="horizontal"?Yr[0][1]:Yr[1][1],$r==="horizontal"?(gn=dn-bn,rn=gn-5,Qr="center"):(hn=ln-bn,Jr=hn-5,Qr="right")):jr==="leftBottom"?(ln=$r==="horizontal"?Yr[1][0]:Yr[3][0],dn=$r==="horizontal"?Yr[1][1]:Yr[2][1],$r==="horizontal"?(gn=dn+bn,rn=gn+5,Qr="center"):(hn=ln-bn,Jr=hn-5,Qr="right")):(ln=(Yr[1][0]+Yr[2][0])/2,dn=(Yr[1][1]+Yr[2][1])/2,$r==="horizontal"?(gn=dn+bn,rn=gn+5,Qr="center"):(hn=ln+bn,Jr=hn+5,Qr="left")),$r==="horizontal"?(hn=ln,Jr=hn):(gn=dn,rn=gn),an=[[ln,dn],[hn,gn]]}Gr.label={linePoints:an,x:Jr,y:rn,verticalAlign:"middle",textAlign:Qr,inside:Kr}})}function funnelLayout(Fe,_r){Fe.eachSeriesByType("funnel",function($r){var Br=$r.getData(),Fr=Br.mapDimension("value"),zr=$r.get("sort"),jr=getViewRect$2($r,_r),Ur=$r.get("orient"),Gr=jr.width,Yr=jr.height,Kr=getSortedIndices(Br,zr),Qr=jr.x,Jr=jr.y,rn=Ur==="horizontal"?[parsePercent($r.get("minSize"),Yr),parsePercent($r.get("maxSize"),Yr)]:[parsePercent($r.get("minSize"),Gr),parsePercent($r.get("maxSize"),Gr)],an=Br.getDataExtent(Fr),ln=$r.get("min"),dn=$r.get("max");ln==null&&(ln=Math.min(an[0],0)),dn==null&&(dn=an[1]);var hn=$r.get("funnelAlign"),gn=$r.get("gap"),bn=Ur==="horizontal"?Gr:Yr,kn=(bn-gn*(Br.count()-1))/Br.count(),Sn=function(Wn,Hn){if(Ur==="horizontal"){var qn=Br.get(Fr,Wn)||0,ni=linearMap$2(qn,[ln,dn],rn,!0),oi=void 0;switch(hn){case"top":oi=Jr;break;case"center":oi=Jr+(Yr-ni)/2;break;case"bottom":oi=Jr+(Yr-ni);break}return[[Hn,oi],[Hn,oi+ni]]}var wi=Br.get(Fr,Wn)||0,Ci=linearMap$2(wi,[ln,dn],rn,!0),Fi;switch(hn){case"left":Fi=Qr;break;case"center":Fi=Qr+(Gr-Ci)/2;break;case"right":Fi=Qr+Gr-Ci;break}return[[Fi,Hn],[Fi+Ci,Hn]]};zr==="ascending"&&(kn=-kn,gn=-gn,Ur==="horizontal"?Qr+=Gr:Jr+=Yr,Kr=Kr.reverse());for(var _n=0;_n<Kr.length;_n++){var pn=Kr[_n],Cn=Kr[_n+1],En=Br.getItemModel(pn);if(Ur==="horizontal"){var Pn=En.get(["itemStyle","width"]);Pn==null?Pn=kn:(Pn=parsePercent(Pn,Gr),zr==="ascending"&&(Pn=-Pn));var On=Sn(pn,Qr),jn=Sn(Cn,Qr+Pn);Qr+=Pn+gn,Br.setItemLayout(pn,{points:On.concat(jn.slice().reverse())})}else{var Fn=En.get(["itemStyle","height"]);Fn==null?Fn=kn:(Fn=parsePercent(Fn,Yr),zr==="ascending"&&(Fn=-Fn));var On=Sn(pn,Jr),jn=Sn(Cn,Jr+Fn);Jr+=Fn+gn,Br.setItemLayout(pn,{points:On.concat(jn.slice().reverse())})}}labelLayout(Br)})}function install$D(Fe){Fe.registerChartView(FunnelView$1),Fe.registerSeriesModel(FunnelSeriesModel$1),Fe.registerLayout(funnelLayout),Fe.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$2=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r._dataGroup=new Group$4,$r._initialized=!1,$r}return _r.prototype.init=function(){this.group.add(this._dataGroup)},_r.prototype.render=function($r,Br,Fr,zr){this._progressiveEls=null;var jr=this._dataGroup,Ur=$r.getData(),Gr=this._data,Yr=$r.coordinateSystem,Kr=Yr.dimensions,Qr=makeSeriesScope($r);Ur.diff(Gr).add(Jr).update(rn).remove(an).execute();function Jr(dn){var hn=addEl(Ur,jr,dn,Kr,Yr);updateElCommon(hn,Ur,dn,Qr)}function rn(dn,hn){var gn=Gr.getItemGraphicEl(hn),bn=createLinePoints(Ur,dn,Kr,Yr);Ur.setItemGraphicEl(dn,gn),updateProps$1(gn,{shape:{points:bn}},$r,dn),saveOldStyle(gn),updateElCommon(gn,Ur,dn,Qr)}function an(dn){var hn=Gr.getItemGraphicEl(dn);jr.remove(hn)}if(!this._initialized){this._initialized=!0;var ln=createGridClipShape$2(Yr,$r,function(){setTimeout(function(){jr.removeClipPath()})});jr.setClipPath(ln)}this._data=Ur},_r.prototype.incrementalPrepareRender=function($r,Br,Fr){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},_r.prototype.incrementalRender=function($r,Br,Fr){for(var zr=Br.getData(),jr=Br.coordinateSystem,Ur=jr.dimensions,Gr=makeSeriesScope(Br),Yr=this._progressiveEls=[],Kr=$r.start;Kr<$r.end;Kr++){var Qr=addEl(zr,this._dataGroup,Kr,Ur,jr);Qr.incremental=!0,updateElCommon(Qr,zr,Kr,Gr),Yr.push(Qr)}},_r.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},_r.type="parallel",_r}(ChartView$1);function createGridClipShape$2(Fe,_r,$r){var Br=Fe.model,Fr=Fe.getRect(),zr=new Rect$3({shape:{x:Fr.x,y:Fr.y,width:Fr.width,height:Fr.height}}),jr=Br.get("layout")==="horizontal"?"width":"height";return zr.setShape(jr,0),initProps(zr,{shape:{width:Fr.width,height:Fr.height}},_r,$r),zr}function createLinePoints(Fe,_r,$r,Br){for(var Fr=[],zr=0;zr<$r.length;zr++){var jr=$r[zr],Ur=Fe.get(Fe.mapDimension(jr),_r);isEmptyValue(Ur,Br.getAxis(jr).type)||Fr.push(Br.dataToPoint(Ur,jr))}return Fr}function addEl(Fe,_r,$r,Br,Fr){var zr=createLinePoints(Fe,$r,Br,Fr),jr=new Polyline$3({shape:{points:zr},z2:10});return _r.add(jr),Fe.setItemGraphicEl($r,jr),jr}function makeSeriesScope(Fe){var _r=Fe.get("smooth",!0);return _r===!0&&(_r=DEFAULT_SMOOTH),_r=numericToNumber(_r),eqNaN(_r)&&(_r=0),{smooth:_r}}function updateElCommon(Fe,_r,$r,Br){Fe.useStyle(_r.getItemVisual($r,"style")),Fe.style.fill=null,Fe.setShape("smooth",Br.smooth);var Fr=_r.getItemModel($r),zr=Fr.getModel("emphasis");setStatesStylesFromModel(Fe,Fr,"lineStyle"),toggleHoverEmphasis(Fe,zr.get("focus"),zr.get("blurScope"),zr.get("disabled"))}function isEmptyValue(Fe,_r){return _r==="category"?Fe==null:Fe==null||isNaN(Fe)}const ParallelView$3=ParallelView$2;var ParallelSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.visualStyleAccessPath="lineStyle",$r.visualDrawType="stroke",$r}return _r.prototype.getInitialData=function($r,Br){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},_r.prototype.getRawIndicesByActiveState=function($r){var Br=this.coordinateSystem,Fr=this.getData(),zr=[];return Br.eachActiveState(Fr,function(jr,Ur){$r===jr&&zr.push(Fr.getRawIndex(Ur))}),zr},_r.type="series.parallel",_r.dependencies=["parallel"],_r.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},_r}(SeriesModel$1);function makeDefaultEncode(Fe){var _r=Fe.ecModel.getComponent("parallel",Fe.get("parallelIndex"));if(_r){var $r={};return each$f(_r.dimensions,function(Br){var Fr=convertDimNameToNumber(Br);$r[Br]=Fr}),$r}}function convertDimNameToNumber(Fe){return+Fe.replace("dim","")}const ParallelSeriesModel$1=ParallelSeriesModel;var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(Fe,_r){var $r=Fe.coordinateSystem,Br={normal:Fe.get(["lineStyle","opacity"]),active:Fe.get("activeOpacity"),inactive:Fe.get("inactiveOpacity")};return{progress:function(Fr,zr){$r.eachActiveState(zr,function(jr,Ur){var Gr=Br[jr];if(jr==="normal"&&zr.hasItemOption){var Yr=zr.getItemModel(Ur).get(opacityAccessPath,!0);Yr!=null&&(Gr=Yr)}var Kr=zr.ensureUniqueItemVisual(Ur,"style");Kr.opacity=Gr},Fr.start,Fr.end)}}}};const parallelVisual$1=parallelVisual;function parallelPreprocessor(Fe){createParallelIfNeeded(Fe),mergeAxisOptionFromParallel(Fe)}function createParallelIfNeeded(Fe){if(!Fe.parallel){var _r=!1;each$f(Fe.series,function($r){$r&&$r.type==="parallel"&&(_r=!0)}),_r&&(Fe.parallel=[{}])}}function mergeAxisOptionFromParallel(Fe){var _r=normalizeToArray(Fe.parallelAxis);each$f(_r,function($r){if(isObject$3($r)){var Br=$r.parallelIndex||0,Fr=normalizeToArray(Fe.parallel)[Br];Fr&&Fr.parallelAxisDefault&&merge($r,Fr.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){this._model=$r,this._api=Fr,this._handlers||(this._handlers={},each$f(handlers$1,function(zr,jr){Fr.getZr().on(jr,this._handlers[jr]=bind$1(zr,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",$r.get("axisExpandRate"),"fixRate")},_r.prototype.dispose=function($r,Br){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(Fr,zr){Br.getZr().off(zr,Fr)}),this._handlers=null},_r.prototype._throttledDispatchExpand=function($r){this._dispatchExpand($r)},_r.prototype._dispatchExpand=function($r){$r&&this._api.dispatchAction(extend$1({type:"parallelAxisExpand"},$r))},_r.type="parallel",_r}(ComponentView$1),handlers$1={mousedown:function(Fe){checkTrigger(this,"click")&&(this._mouseDownPoint=[Fe.offsetX,Fe.offsetY])},mouseup:function(Fe){var _r=this._mouseDownPoint;if(checkTrigger(this,"click")&&_r){var $r=[Fe.offsetX,Fe.offsetY],Br=Math.pow(_r[0]-$r[0],2)+Math.pow(_r[1]-$r[1],2);if(Br>CLICK_THRESHOLD)return;var Fr=this._model.coordinateSystem.getSlidedAxisExpandWindow([Fe.offsetX,Fe.offsetY]);Fr.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:Fr.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(Fe){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var _r=this._model,$r=_r.coordinateSystem.getSlidedAxisExpandWindow([Fe.offsetX,Fe.offsetY]),Br=$r.behavior;Br==="jump"&&this._throttledDispatchExpand.debounceNextCall(_r.get("axisExpandDebounce")),this._throttledDispatchExpand(Br==="none"?null:{axisExpandWindow:$r.axisExpandWindow,animation:Br==="jump"?null:{duration:0}})}}};function checkTrigger(Fe,_r){var $r=Fe._model;return $r.get("axisExpandable")&&$r.get("axisExpandTriggerOn")===_r}const ParallelView$1=ParallelView;var ParallelModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function(){Fe.prototype.init.apply(this,arguments),this.mergeOption({})},_r.prototype.mergeOption=function($r){var Br=this.option;$r&&merge(Br,$r,!0),this._initDimensions()},_r.prototype.contains=function($r,Br){var Fr=$r.get("parallelIndex");return Fr!=null&&Br.getComponent("parallel",Fr)===this},_r.prototype.setAxisExpand=function($r){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(Br){$r.hasOwnProperty(Br)&&(this.option[Br]=$r[Br])},this)},_r.prototype._initDimensions=function(){var $r=this.dimensions=[],Br=this.parallelAxisIndex=[],Fr=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(zr){return(zr.get("parallelIndex")||0)===this.componentIndex},this);each$f(Fr,function(zr){$r.push("dim"+zr.get("dim")),Br.push(zr.componentIndex)})},_r.type="parallel",_r.dependencies=["parallelAxis"],_r.layoutMode="box",_r.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},_r}(ComponentModel$1);const ParallelModel$1=ParallelModel;var ParallelAxis=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr,zr,jr){var Ur=Fe.call(this,$r,Br,Fr)||this;return Ur.type=zr||"value",Ur.axisIndex=jr,Ur}return _r.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},_r}(Axis$1);const ParallelAxis$1=ParallelAxis;function sliderMove(Fe,_r,$r,Br,Fr,zr){Fe=Fe||0;var jr=$r[1]-$r[0];if(Fr!=null&&(Fr=restrict$1(Fr,[0,jr])),zr!=null&&(zr=Math.max(zr,Fr??0)),Br==="all"){var Ur=Math.abs(_r[1]-_r[0]);Ur=restrict$1(Ur,[0,jr]),Fr=zr=restrict$1(Ur,[Fr,zr]),Br=0}_r[0]=restrict$1(_r[0],$r),_r[1]=restrict$1(_r[1],$r);var Gr=getSpanSign(_r,Br);_r[Br]+=Fe;var Yr=Fr||0,Kr=$r.slice();Gr.sign<0?Kr[0]+=Yr:Kr[1]-=Yr,_r[Br]=restrict$1(_r[Br],Kr);var Qr;return Qr=getSpanSign(_r,Br),Fr!=null&&(Qr.sign!==Gr.sign||Qr.span<Fr)&&(_r[1-Br]=_r[Br]+Gr.sign*Fr),Qr=getSpanSign(_r,Br),zr!=null&&Qr.span>zr&&(_r[1-Br]=_r[Br]+Qr.sign*zr),_r}function getSpanSign(Fe,_r){var $r=Fe[_r]-Fe[1-_r];return{span:Math.abs($r),sign:$r>0?-1:$r<0?1:_r?-1:1}}function restrict$1(Fe,_r){return Math.min(_r[1]!=null?_r[1]:1/0,Math.max(_r[0]!=null?_r[0]:-1/0,Fe))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function Fe(_r,$r,Br){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=_r.dimensions,this._model=_r,this._init(_r,$r,Br)}return Fe.prototype._init=function(_r,$r,Br){var Fr=_r.dimensions,zr=_r.parallelAxisIndex;each$a(Fr,function(jr,Ur){var Gr=zr[Ur],Yr=$r.getComponent("parallelAxis",Gr),Kr=this._axesMap.set(jr,new ParallelAxis$1(jr,createScaleByModel$1(Yr),[0,0],Yr.get("type"),Gr)),Qr=Kr.type==="category";Kr.onBand=Qr&&Yr.get("boundaryGap"),Kr.inverse=Yr.get("inverse"),Yr.axis=Kr,Kr.model=Yr,Kr.coordinateSystem=Yr.coordinateSystem=this},this)},Fe.prototype.update=function(_r,$r){this._updateAxesFromSeries(this._model,_r)},Fe.prototype.containPoint=function(_r){var $r=this._makeLayoutInfo(),Br=$r.axisBase,Fr=$r.layoutBase,zr=$r.pixelDimIndex,jr=_r[1-zr],Ur=_r[zr];return jr>=Br&&jr<=Br+$r.axisLength&&Ur>=Fr&&Ur<=Fr+$r.layoutLength},Fe.prototype.getModel=function(){return this._model},Fe.prototype._updateAxesFromSeries=function(_r,$r){$r.eachSeries(function(Br){if(_r.contains(Br,$r)){var Fr=Br.getData();each$a(this.dimensions,function(zr){var jr=this._axesMap.get(zr);jr.scale.unionExtentFromData(Fr,Fr.mapDimension(zr)),niceScaleExtent(jr.scale,jr.model)},this)}},this)},Fe.prototype.resize=function(_r,$r){this._rect=getLayoutRect(_r.getBoxLayoutParams(),{width:$r.getWidth(),height:$r.getHeight()}),this._layoutAxes()},Fe.prototype.getRect=function(){return this._rect},Fe.prototype._makeLayoutInfo=function(){var _r=this._model,$r=this._rect,Br=["x","y"],Fr=["width","height"],zr=_r.get("layout"),jr=zr==="horizontal"?0:1,Ur=$r[Fr[jr]],Gr=[0,Ur],Yr=this.dimensions.length,Kr=restrict(_r.get("axisExpandWidth"),Gr),Qr=restrict(_r.get("axisExpandCount")||0,[0,Yr]),Jr=_r.get("axisExpandable")&&Yr>3&&Yr>Qr&&Qr>1&&Kr>0&&Ur>0,rn=_r.get("axisExpandWindow"),an;if(rn)an=restrict(rn[1]-rn[0],Gr),rn[1]=rn[0]+an;else{an=restrict(Kr*(Qr-1),Gr);var ln=_r.get("axisExpandCenter")||mathFloor(Yr/2);rn=[Kr*ln-an/2],rn[1]=rn[0]+an}var dn=(Ur-an)/(Yr-Qr);dn<3&&(dn=0);var hn=[mathFloor(round(rn[0]/Kr,1))+1,mathCeil(round(rn[1]/Kr,1))-1],gn=dn/Kr*rn[0];return{layout:zr,pixelDimIndex:jr,layoutBase:$r[Br[jr]],layoutLength:Ur,axisBase:$r[Br[1-jr]],axisLength:$r[Fr[1-jr]],axisExpandable:Jr,axisExpandWidth:Kr,axisCollapseWidth:dn,axisExpandWindow:rn,axisCount:Yr,winInnerIndices:hn,axisExpandWindow0Pos:gn}},Fe.prototype._layoutAxes=function(){var _r=this._rect,$r=this._axesMap,Br=this.dimensions,Fr=this._makeLayoutInfo(),zr=Fr.layout;$r.each(function(jr){var Ur=[0,Fr.axisLength],Gr=jr.inverse?1:0;jr.setExtent(Ur[Gr],Ur[1-Gr])}),each$a(Br,function(jr,Ur){var Gr=(Fr.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(Ur,Fr),Yr={horizontal:{x:Gr.position,y:Fr.axisLength},vertical:{x:0,y:Gr.position}},Kr={horizontal:PI$1/2,vertical:0},Qr=[Yr[zr].x+_r.x,Yr[zr].y+_r.y],Jr=Kr[zr],rn=create$1();rotate(rn,rn,Jr),translate(rn,rn,Qr),this._axesLayout[jr]={position:Qr,rotation:Jr,transform:rn,axisNameAvailableWidth:Gr.axisNameAvailableWidth,axisLabelShow:Gr.axisLabelShow,nameTruncateMaxWidth:Gr.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},Fe.prototype.getAxis=function(_r){return this._axesMap.get(_r)},Fe.prototype.dataToPoint=function(_r,$r){return this.axisCoordToPoint(this._axesMap.get($r).dataToCoord(_r),$r)},Fe.prototype.eachActiveState=function(_r,$r,Br,Fr){Br==null&&(Br=0),Fr==null&&(Fr=_r.count());var zr=this._axesMap,jr=this.dimensions,Ur=[],Gr=[];each$f(jr,function(dn){Ur.push(_r.mapDimension(dn)),Gr.push(zr.get(dn).model)});for(var Yr=this.hasAxisBrushed(),Kr=Br;Kr<Fr;Kr++){var Qr=void 0;if(!Yr)Qr="normal";else{Qr="active";for(var Jr=_r.getValues(Ur,Kr),rn=0,an=jr.length;rn<an;rn++){var ln=Gr[rn].getActiveState(Jr[rn]);if(ln==="inactive"){Qr="inactive";break}}}$r(Qr,Kr)}},Fe.prototype.hasAxisBrushed=function(){for(var _r=this.dimensions,$r=this._axesMap,Br=!1,Fr=0,zr=_r.length;Fr<zr;Fr++)$r.get(_r[Fr]).model.getActiveState()!=="normal"&&(Br=!0);return Br},Fe.prototype.axisCoordToPoint=function(_r,$r){var Br=this._axesLayout[$r];return applyTransform([_r,0],Br.transform)},Fe.prototype.getAxisLayout=function(_r){return clone$4(this._axesLayout[_r])},Fe.prototype.getSlidedAxisExpandWindow=function(_r){var $r=this._makeLayoutInfo(),Br=$r.pixelDimIndex,Fr=$r.axisExpandWindow.slice(),zr=Fr[1]-Fr[0],jr=[0,$r.axisExpandWidth*($r.axisCount-1)];if(!this.containPoint(_r))return{behavior:"none",axisExpandWindow:Fr};var Ur=_r[Br]-$r.layoutBase-$r.axisExpandWindow0Pos,Gr,Yr="slide",Kr=$r.axisCollapseWidth,Qr=this._model.get("axisExpandSlideTriggerArea"),Jr=Qr[0]!=null;if(Kr)Jr&&Kr&&Ur<zr*Qr[0]?(Yr="jump",Gr=Ur-zr*Qr[2]):Jr&&Kr&&Ur>zr*(1-Qr[0])?(Yr="jump",Gr=Ur-zr*(1-Qr[2])):(Gr=Ur-zr*Qr[1])>=0&&(Gr=Ur-zr*(1-Qr[1]))<=0&&(Gr=0),Gr*=$r.axisExpandWidth/Kr,Gr?sliderMove(Gr,Fr,jr,"all"):Yr="none";else{var rn=Fr[1]-Fr[0],an=jr[1]*Ur/rn;Fr=[mathMax$2(0,an-rn/2)],Fr[1]=mathMin$2(jr[1],Fr[0]+rn),Fr[0]=Fr[1]-rn}return{axisExpandWindow:Fr,behavior:Yr}},Fe}();function restrict(Fe,_r){return mathMin$2(mathMax$2(Fe,_r[0]),_r[1])}function layoutAxisWithoutExpand(Fe,_r){var $r=_r.layoutLength/(_r.axisCount-1);return{position:$r*Fe,axisNameAvailableWidth:$r,axisLabelShow:!0}}function layoutAxisWithExpand(Fe,_r){var $r=_r.layoutLength,Br=_r.axisExpandWidth,Fr=_r.axisCount,zr=_r.axisCollapseWidth,jr=_r.winInnerIndices,Ur,Gr=zr,Yr=!1,Kr;return Fe<jr[0]?(Ur=Fe*zr,Kr=zr):Fe<=jr[1]?(Ur=_r.axisExpandWindow0Pos+Fe*Br-_r.axisExpandWindow[0],Gr=Br,Yr=!0):(Ur=$r-(Fr-1-Fe)*zr,Kr=zr),{position:Ur,axisNameAvailableWidth:Gr,axisLabelShow:Yr,nameTruncateMaxWidth:Kr}}const Parallel$1=Parallel;function createParallelCoordSys(Fe,_r){var $r=[];return Fe.eachComponent("parallel",function(Br,Fr){var zr=new Parallel$1(Br,Fe,_r);zr.name="parallel_"+Fr,zr.resize(Br,_r),Br.coordinateSystem=zr,zr.model=Br,$r.push(zr)}),Fe.eachSeries(function(Br){if(Br.get("coordinateSystem")==="parallel"){var Fr=Br.getReferringComponents("parallel",SINGLE_REFERRING).models[0];Br.coordinateSystem=Fr.coordinateSystem}}),$r}var parallelCoordSysCreator={create:createParallelCoordSys};const parallelCoordSysCreator$1=parallelCoordSysCreator;var ParallelAxisModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.activeIntervals=[],$r}return _r.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},_r.prototype.setActiveIntervals=function($r){var Br=this.activeIntervals=clone$4($r);if(Br)for(var Fr=Br.length-1;Fr>=0;Fr--)asc$2(Br[Fr])},_r.prototype.getActiveState=function($r){var Br=this.activeIntervals;if(!Br.length)return"normal";if($r==null||isNaN(+$r))return"inactive";if(Br.length===1){var Fr=Br[0];if(Fr[0]<=$r&&$r<=Fr[1])return"active"}else for(var zr=0,jr=Br.length;zr<jr;zr++)if(Br[zr][0]<=$r&&$r<=Br[zr][1])return"active";return"inactive"},_r}(ComponentModel$1);mixin(ParallelAxisModel,AxisModelCommonMixin);const ParallelAxisModel$1=ParallelAxisModel;var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this)||this;return Br._track=[],Br._covers=[],Br._handlers={},Br._zr=$r,Br.group=new Group$4,Br._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(Fr,zr){this._handlers[zr]=bind$1(Fr,this)},Br),Br}return _r.prototype.enableBrush=function($r){return this._brushType&&this._doDisableBrush(),$r.brushType&&this._doEnableBrush($r),this},_r.prototype._doEnableBrush=function($r){var Br=this._zr;this._enableGlobalPan||take(Br,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(Fr,zr){Br.on(zr,Fr)}),this._brushType=$r.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),$r,!0)},_r.prototype._doDisableBrush=function(){var $r=this._zr;release($r,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(Br,Fr){$r.off(Fr,Br)}),this._brushType=this._brushOption=null},_r.prototype.setPanels=function($r){if($r&&$r.length){var Br=this._panels={};each$f($r,function(Fr){Br[Fr.panelId]=clone$4(Fr)})}else this._panels=null;return this},_r.prototype.mount=function($r){$r=$r||{},this._enableGlobalPan=$r.enableGlobalPan;var Br=this.group;return this._zr.add(Br),Br.attr({x:$r.x||0,y:$r.y||0,rotation:$r.rotation||0,scaleX:$r.scaleX||1,scaleY:$r.scaleY||1}),this._transform=Br.getLocalTransform(),this},_r.prototype.updateCovers=function($r){$r=map$1($r,function(Jr){return merge(clone$4(DEFAULT_BRUSH_OPT),Jr,!0)});var Br="\0-brush-index-",Fr=this._covers,zr=this._covers=[],jr=this,Ur=this._creatingCover;return new DataDiffer$1(Fr,$r,Yr,Gr).add(Kr).update(Kr).remove(Qr).execute(),this;function Gr(Jr,rn){return(Jr.id!=null?Jr.id:Br+rn)+"-"+Jr.brushType}function Yr(Jr,rn){return Gr(Jr.__brushOption,rn)}function Kr(Jr,rn){var an=$r[Jr];if(rn!=null&&Fr[rn]===Ur)zr[Jr]=Fr[rn];else{var ln=zr[Jr]=rn!=null?(Fr[rn].__brushOption=an,Fr[rn]):endCreating(jr,createCover(jr,an));updateCoverAfterCreation(jr,ln)}}function Qr(Jr){Fr[Jr]!==Ur&&jr.group.remove(Fr[Jr])}},_r.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},_r.prototype.dispose=function(){this.unmount(),this.off()},_r}(Eventful$1);function createCover(Fe,_r){var $r=coverRenderers[_r.brushType].createCover(Fe,_r);return $r.__brushOption=_r,updateZ$1($r,_r),Fe.group.add($r),$r}function endCreating(Fe,_r){var $r=getCoverRenderer(_r);return $r.endCreating&&($r.endCreating(Fe,_r),updateZ$1(_r,_r.__brushOption)),_r}function updateCoverShape(Fe,_r){var $r=_r.__brushOption;getCoverRenderer(_r).updateCoverShape(Fe,_r,$r.range,$r)}function updateZ$1(Fe,_r){var $r=_r.z;$r==null&&($r=COVER_Z),Fe.traverse(function(Br){Br.z=$r,Br.z2=$r})}function updateCoverAfterCreation(Fe,_r){getCoverRenderer(_r).updateCommon(Fe,_r),updateCoverShape(Fe,_r)}function getCoverRenderer(Fe){return coverRenderers[Fe.__brushOption.brushType]}function getPanelByPoint(Fe,_r,$r){var Br=Fe._panels;if(!Br)return BRUSH_PANEL_GLOBAL;var Fr,zr=Fe._transform;return each$f(Br,function(jr){jr.isTargetByCursor(_r,$r,zr)&&(Fr=jr)}),Fr}function getPanelByCover(Fe,_r){var $r=Fe._panels;if(!$r)return BRUSH_PANEL_GLOBAL;var Br=_r.__brushOption.panelId;return Br!=null?$r[Br]:BRUSH_PANEL_GLOBAL}function clearCovers(Fe){var _r=Fe._covers,$r=_r.length;return each$f(_r,function(Br){Fe.group.remove(Br)},Fe),_r.length=0,!!$r}function trigger(Fe,_r){var $r=map$1(Fe._covers,function(Br){var Fr=Br.__brushOption,zr=clone$4(Fr.range);return{brushType:Fr.brushType,panelId:Fr.panelId,range:zr}});Fe.trigger("brush",{areas:$r,isEnd:!!_r.isEnd,removeOnClick:!!_r.removeOnClick})}function shouldShowCover(Fe){var _r=Fe._track;if(!_r.length)return!1;var $r=_r[_r.length-1],Br=_r[0],Fr=$r[0]-Br[0],zr=$r[1]-Br[1],jr=mathPow(Fr*Fr+zr*zr,.5);return jr>UNSELECT_THRESHOLD}function getTrackEnds(Fe){var _r=Fe.length-1;return _r<0&&(_r=0),[Fe[0],Fe[_r]]}function createBaseRectCover(Fe,_r,$r,Br){var Fr=new Group$4;return Fr.add(new Rect$3({name:"main",style:makeStyle($r),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,Fe,_r,Fr,["n","s","w","e"]),ondragend:curry$1(trigger,_r,{isEnd:!0})})),each$f(Br,function(zr){Fr.add(new Rect$3({name:zr.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,Fe,_r,Fr,zr),ondragend:curry$1(trigger,_r,{isEnd:!0})}))}),Fr}function updateBaseRect(Fe,_r,$r,Br){var Fr=Br.brushStyle.lineWidth||0,zr=mathMax$1(Fr,MIN_RESIZE_LINE_WIDTH),jr=$r[0][0],Ur=$r[1][0],Gr=jr-Fr/2,Yr=Ur-Fr/2,Kr=$r[0][1],Qr=$r[1][1],Jr=Kr-zr+Fr/2,rn=Qr-zr+Fr/2,an=Kr-jr,ln=Qr-Ur,dn=an+Fr,hn=ln+Fr;updateRectShape(Fe,_r,"main",jr,Ur,an,ln),Br.transformable&&(updateRectShape(Fe,_r,"w",Gr,Yr,zr,hn),updateRectShape(Fe,_r,"e",Jr,Yr,zr,hn),updateRectShape(Fe,_r,"n",Gr,Yr,dn,zr),updateRectShape(Fe,_r,"s",Gr,rn,dn,zr),updateRectShape(Fe,_r,"nw",Gr,Yr,zr,zr),updateRectShape(Fe,_r,"ne",Jr,Yr,zr,zr),updateRectShape(Fe,_r,"sw",Gr,rn,zr,zr),updateRectShape(Fe,_r,"se",Jr,rn,zr,zr))}function updateCommon$1(Fe,_r){var $r=_r.__brushOption,Br=$r.transformable,Fr=_r.childAt(0);Fr.useStyle(makeStyle($r)),Fr.attr({silent:!Br,cursor:Br?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(zr){var jr=_r.childOfName(zr.join("")),Ur=zr.length===1?getGlobalDirection1(Fe,zr[0]):getGlobalDirection2(Fe,zr);jr&&jr.attr({silent:!Br,invisible:!Br,cursor:Br?CURSOR_MAP[Ur]+"-resize":null})})}function updateRectShape(Fe,_r,$r,Br,Fr,zr,jr){var Ur=_r.childOfName($r);Ur&&Ur.setShape(pointsToRect(clipByPanel(Fe,_r,[[Br,Fr],[Br+zr,Fr+jr]])))}function makeStyle(Fe){return defaults({strokeNoScale:!0},Fe.brushStyle)}function formatRectRange(Fe,_r,$r,Br){var Fr=[mathMin$1(Fe,$r),mathMin$1(_r,Br)],zr=[mathMax$1(Fe,$r),mathMax$1(_r,Br)];return[[Fr[0],zr[0]],[Fr[1],zr[1]]]}function getTransform(Fe){return getTransform$1(Fe.group)}function getGlobalDirection1(Fe,_r){var $r={w:"left",e:"right",n:"top",s:"bottom"},Br={left:"w",right:"e",top:"n",bottom:"s"},Fr=transformDirection($r[_r],getTransform(Fe));return Br[Fr]}function getGlobalDirection2(Fe,_r){var $r=[getGlobalDirection1(Fe,_r[0]),getGlobalDirection1(Fe,_r[1])];return($r[0]==="e"||$r[0]==="w")&&$r.reverse(),$r.join("")}function driftRect(Fe,_r,$r,Br,Fr,zr){var jr=$r.__brushOption,Ur=Fe.toRectRange(jr.range),Gr=toLocalDelta(_r,Fr,zr);each$f(Br,function(Yr){var Kr=DIRECTION_MAP[Yr];Ur[Kr[0]][Kr[1]]+=Gr[Kr[0]]}),jr.range=Fe.fromRectRange(formatRectRange(Ur[0][0],Ur[1][0],Ur[0][1],Ur[1][1])),updateCoverAfterCreation(_r,$r),trigger(_r,{isEnd:!1})}function driftPolygon(Fe,_r,$r,Br){var Fr=_r.__brushOption.range,zr=toLocalDelta(Fe,$r,Br);each$f(Fr,function(jr){jr[0]+=zr[0],jr[1]+=zr[1]}),updateCoverAfterCreation(Fe,_r),trigger(Fe,{isEnd:!1})}function toLocalDelta(Fe,_r,$r){var Br=Fe.group,Fr=Br.transformCoordToLocal(_r,$r),zr=Br.transformCoordToLocal(0,0);return[Fr[0]-zr[0],Fr[1]-zr[1]]}function clipByPanel(Fe,_r,$r){var Br=getPanelByCover(Fe,_r);return Br&&Br!==BRUSH_PANEL_GLOBAL?Br.clipPath($r,Fe._transform):clone$4($r)}function pointsToRect(Fe){var _r=mathMin$1(Fe[0][0],Fe[1][0]),$r=mathMin$1(Fe[0][1],Fe[1][1]),Br=mathMax$1(Fe[0][0],Fe[1][0]),Fr=mathMax$1(Fe[0][1],Fe[1][1]);return{x:_r,y:$r,width:Br-_r,height:Fr-$r}}function resetCursor(Fe,_r,$r){if(!(!Fe._brushType||isOutsideZrArea(Fe,_r.offsetX,_r.offsetY))){var Br=Fe._zr,Fr=Fe._covers,zr=getPanelByPoint(Fe,_r,$r);if(!Fe._dragging)for(var jr=0;jr<Fr.length;jr++){var Ur=Fr[jr].__brushOption;if(zr&&(zr===BRUSH_PANEL_GLOBAL||Ur.panelId===zr.panelId)&&coverRenderers[Ur.brushType].contain(Fr[jr],$r[0],$r[1]))return}zr&&Br.setCursorStyle("crosshair")}}function preventDefault(Fe){var _r=Fe.event;_r.preventDefault&&_r.preventDefault()}function mainShapeContain(Fe,_r,$r){return Fe.childOfName("main").contain(_r,$r)}function updateCoverByMouse(Fe,_r,$r,Br){var Fr=Fe._creatingCover,zr=Fe._creatingPanel,jr=Fe._brushOption,Ur;if(Fe._track.push($r.slice()),shouldShowCover(Fe)||Fr){if(zr&&!Fr){jr.brushMode==="single"&&clearCovers(Fe);var Gr=clone$4(jr);Gr.brushType=determineBrushType(Gr.brushType,zr),Gr.panelId=zr===BRUSH_PANEL_GLOBAL?null:zr.panelId,Fr=Fe._creatingCover=createCover(Fe,Gr),Fe._covers.push(Fr)}if(Fr){var Yr=coverRenderers[determineBrushType(Fe._brushType,zr)],Kr=Fr.__brushOption;Kr.range=Yr.getCreatingRange(clipByPanel(Fe,Fr,Fe._track)),Br&&(endCreating(Fe,Fr),Yr.updateCommon(Fe,Fr)),updateCoverShape(Fe,Fr),Ur={isEnd:Br}}}else Br&&jr.brushMode==="single"&&jr.removeOnClick&&getPanelByPoint(Fe,_r,$r)&&clearCovers(Fe)&&(Ur={isEnd:Br,removeOnClick:!0});return Ur}function determineBrushType(Fe,_r){return Fe==="auto"?_r.defaultBrushType:Fe}var pointerHandlers={mousedown:function(Fe){if(this._dragging)handleDragEnd(this,Fe);else if(!Fe.target||!Fe.target.draggable){preventDefault(Fe);var _r=this.group.transformCoordToLocal(Fe.offsetX,Fe.offsetY);this._creatingCover=null;var $r=this._creatingPanel=getPanelByPoint(this,Fe,_r);$r&&(this._dragging=!0,this._track=[_r.slice()])}},mousemove:function(Fe){var _r=Fe.offsetX,$r=Fe.offsetY,Br=this.group.transformCoordToLocal(_r,$r);if(resetCursor(this,Fe,Br),this._dragging){preventDefault(Fe);var Fr=updateCoverByMouse(this,Fe,Br,!1);Fr&&trigger(this,Fr)}},mouseup:function(Fe){handleDragEnd(this,Fe)}};function handleDragEnd(Fe,_r){if(Fe._dragging){preventDefault(_r);var $r=_r.offsetX,Br=_r.offsetY,Fr=Fe.group.transformCoordToLocal($r,Br),zr=updateCoverByMouse(Fe,_r,Fr,!0);Fe._dragging=!1,Fe._track=[],Fe._creatingCover=null,zr&&trigger(Fe,zr)}}function isOutsideZrArea(Fe,_r,$r){var Br=Fe._zr;return _r<0||_r>Br.getWidth()||$r<0||$r>Br.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(Fe,_r){function $r(Br){return Br}return createBaseRectCover({toRectRange:$r,fromRectRange:$r},Fe,_r,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(Fe){var _r=getTrackEnds(Fe);return formatRectRange(_r[1][0],_r[1][1],_r[0][0],_r[0][1])},updateCoverShape:function(Fe,_r,$r,Br){updateBaseRect(Fe,_r,$r,Br)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(Fe,_r){var $r=new Group$4;return $r.add(new Polyline$3({name:"main",style:makeStyle(_r),silent:!0})),$r},getCreatingRange:function(Fe){return Fe},endCreating:function(Fe,_r){_r.remove(_r.childAt(0)),_r.add(new Polygon$1({name:"main",draggable:!0,drift:curry$1(driftPolygon,Fe,_r),ondragend:curry$1(trigger,Fe,{isEnd:!0})}))},updateCoverShape:function(Fe,_r,$r,Br){_r.childAt(0).setShape({points:clipByPanel(Fe,_r,$r)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(Fe){return{createCover:function(_r,$r){return createBaseRectCover({toRectRange:function(Br){var Fr=[Br,[0,100]];return Fe&&Fr.reverse(),Fr},fromRectRange:function(Br){return Br[Fe]}},_r,$r,[[["w"],["e"]],[["n"],["s"]]][Fe])},getCreatingRange:function(_r){var $r=getTrackEnds(_r),Br=mathMin$1($r[0][Fe],$r[1][Fe]),Fr=mathMax$1($r[0][Fe],$r[1][Fe]);return[Br,Fr]},updateCoverShape:function(_r,$r,Br,Fr){var zr,jr=getPanelByCover(_r,$r);if(jr!==BRUSH_PANEL_GLOBAL&&jr.getLinearBrushOtherExtent)zr=jr.getLinearBrushOtherExtent(Fe);else{var Ur=_r._zr;zr=[0,[Ur.getWidth(),Ur.getHeight()][1-Fe]]}var Gr=[Br,zr];Fe&&Gr.reverse(),updateBaseRect(_r,$r,Gr,Fr)},updateCommon:updateCommon$1,contain:mainShapeContain}}const BrushController$1=BrushController;function makeRectPanelClipPath(Fe){return Fe=normalizeRect(Fe),function(_r){return clipPointsByRect(_r,Fe)}}function makeLinearBrushOtherExtent(Fe,_r){return Fe=normalizeRect(Fe),function($r){var Br=_r??$r,Fr=Br?Fe.width:Fe.height,zr=Br?Fe.x:Fe.y;return[zr,zr+(Fr||0)]}}function makeRectIsTargetByCursor(Fe,_r,$r){var Br=normalizeRect(Fe);return function(Fr,zr){return Br.contain(zr[0],zr[1])&&!onIrrelevantElement(Fr,_r,$r)}}function normalizeRect(Fe){return BoundingRect$1.create(Fe)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function($r,Br){Fe.prototype.init.apply(this,arguments),(this._brushController=new BrushController$1(Br.getZr())).on("brush",bind$1(this._onBrush,this))},_r.prototype.render=function($r,Br,Fr,zr){if(!fromAxisAreaSelect($r,Br,zr)){this.axisModel=$r,this.api=Fr,this.group.removeAll();var jr=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!$r.get("show")){var Ur=getCoordSysModel($r,Br),Gr=Ur.coordinateSystem,Yr=$r.getAreaSelectStyle(),Kr=Yr.width,Qr=$r.axis.dim,Jr=Gr.getAxisLayout(Qr),rn=extend$1({strokeContainThreshold:Kr},Jr),an=new AxisBuilder$1($r,rn);each$f(elementList$1,an.add,an),this._axisGroup.add(an.getGroup()),this._refreshBrushController(rn,Yr,$r,Ur,Kr,Fr),groupTransition(jr,this._axisGroup,$r)}}},_r.prototype._refreshBrushController=function($r,Br,Fr,zr,jr,Ur){var Gr=Fr.axis.getExtent(),Yr=Gr[1]-Gr[0],Kr=Math.min(30,Math.abs(Yr)*.1),Qr=BoundingRect$1.create({x:Gr[0],y:-jr/2,width:Yr,height:jr});Qr.x-=Kr,Qr.width+=2*Kr,this._brushController.mount({enableGlobalPan:!0,rotation:$r.rotation,x:$r.position[0],y:$r.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(Qr),isTargetByCursor:makeRectIsTargetByCursor(Qr,Ur,zr),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(Qr,0)}]).enableBrush({brushType:"lineX",brushStyle:Br,removeOnClick:!0}).updateCovers(getCoverInfoList(Fr))},_r.prototype._onBrush=function($r){var Br=$r.areas,Fr=this.axisModel,zr=Fr.axis,jr=map$1(Br,function(Ur){return[zr.coordToData(Ur.range[0],!0),zr.coordToData(Ur.range[1],!0)]});(!Fr.option.realtime===$r.isEnd||$r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:Fr.id,intervals:jr})},_r.prototype.dispose=function(){this._brushController.dispose()},_r.type="parallelAxis",_r}(ComponentView$1);function fromAxisAreaSelect(Fe,_r,$r){return $r&&$r.type==="axisAreaSelect"&&_r.findComponents({mainType:"parallelAxis",query:$r})[0]===Fe}function getCoverInfoList(Fe){var _r=Fe.axis;return map$1(Fe.activeIntervals,function($r){return{brushType:"lineX",panelId:"pl",range:[_r.dataToCoord($r[0],!0),_r.dataToCoord($r[1],!0)]}})}function getCoordSysModel(Fe,_r){return _r.getComponent("parallel",Fe.get("parallelIndex"))}const ParallelAxisView$1=ParallelAxisView;var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(Fe){Fe.registerAction(actionInfo,function(_r,$r){$r.eachComponent({mainType:"parallelAxis",query:_r},function(Br){Br.axis.model.setActiveIntervals(_r.intervals)})}),Fe.registerAction("parallelAxisExpand",function(_r,$r){$r.eachComponent({mainType:"parallel",query:_r},function(Br){Br.setAxisExpand(_r)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(Fe){Fe.registerComponentView(ParallelView$1),Fe.registerComponentModel(ParallelModel$1),Fe.registerCoordinateSystem("parallel",parallelCoordSysCreator$1),Fe.registerPreprocessor(parallelPreprocessor),Fe.registerComponentModel(ParallelAxisModel$1),Fe.registerComponentView(ParallelAxisView$1),axisModelCreator(Fe,"parallel",ParallelAxisModel$1,defaultAxisOption),installParallelActions(Fe)}function install$B(Fe){use(install$C),Fe.registerChartView(ParallelView$3),Fe.registerSeriesModel(ParallelSeriesModel$1),Fe.registerVisual(Fe.PRIORITY.VISUAL.BRUSH,parallelVisual$1)}var SankeyPathShape=function(){function Fe(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return Fe}(),SankeyPath=function(Fe){__extends(_r,Fe);function _r($r){return Fe.call(this,$r)||this}return _r.prototype.getDefaultShape=function(){return new SankeyPathShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.extent;$r.moveTo(Br.x1,Br.y1),$r.bezierCurveTo(Br.cpx1,Br.cpy1,Br.cpx2,Br.cpy2,Br.x2,Br.y2),Br.orient==="vertical"?($r.lineTo(Br.x2+Fr,Br.y2),$r.bezierCurveTo(Br.cpx2+Fr,Br.cpy2,Br.cpx1+Fr,Br.cpy1,Br.x1+Fr,Br.y1)):($r.lineTo(Br.x2,Br.y2+Fr),$r.bezierCurveTo(Br.cpx2,Br.cpy2+Fr,Br.cpx1,Br.cpy1+Fr,Br.x1,Br.y1+Fr)),$r.closePath()},_r.prototype.highlight=function(){enterEmphasis(this)},_r.prototype.downplay=function(){leaveEmphasis(this)},_r}(Path$1),SankeyView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r._focusAdjacencyDisabled=!1,$r}return _r.prototype.render=function($r,Br,Fr){var zr=this,jr=$r.getGraph(),Ur=this.group,Gr=$r.layoutInfo,Yr=Gr.width,Kr=Gr.height,Qr=$r.getData(),Jr=$r.getData("edge"),rn=$r.get("orient");this._model=$r,Ur.removeAll(),Ur.x=Gr.x,Ur.y=Gr.y,jr.eachEdge(function(an){var ln=new SankeyPath,dn=getECData(ln);dn.dataIndex=an.dataIndex,dn.seriesIndex=$r.seriesIndex,dn.dataType="edge";var hn=an.getModel(),gn=hn.getModel("lineStyle"),bn=gn.get("curveness"),kn=an.node1.getLayout(),Sn=an.node1.getModel(),_n=Sn.get("localX"),pn=Sn.get("localY"),Cn=an.node2.getLayout(),En=an.node2.getModel(),Pn=En.get("localX"),On=En.get("localY"),jn=an.getLayout(),Fn,Wn,Hn,qn,ni,oi,wi,Ci;ln.shape.extent=Math.max(1,jn.dy),ln.shape.orient=rn,rn==="vertical"?(Fn=(_n!=null?_n*Yr:kn.x)+jn.sy,Wn=(pn!=null?pn*Kr:kn.y)+kn.dy,Hn=(Pn!=null?Pn*Yr:Cn.x)+jn.ty,qn=On!=null?On*Kr:Cn.y,ni=Fn,oi=Wn*(1-bn)+qn*bn,wi=Hn,Ci=Wn*bn+qn*(1-bn)):(Fn=(_n!=null?_n*Yr:kn.x)+kn.dx,Wn=(pn!=null?pn*Kr:kn.y)+jn.sy,Hn=Pn!=null?Pn*Yr:Cn.x,qn=(On!=null?On*Kr:Cn.y)+jn.ty,ni=Fn*(1-bn)+Hn*bn,oi=Wn,wi=Fn*bn+Hn*(1-bn),Ci=qn),ln.setShape({x1:Fn,y1:Wn,x2:Hn,y2:qn,cpx1:ni,cpy1:oi,cpx2:wi,cpy2:Ci}),ln.useStyle(gn.getItemStyle()),applyCurveStyle(ln.style,rn,an);var Fi=""+hn.get("value"),Zn=getLabelStatesModels(hn,"edgeLabel");setLabelStyle(ln,Zn,{labelFetcher:{getFormattedLabel:function(Ni,$i,Vi,ji,lo,ho){return $r.getFormattedLabel(Ni,$i,"edge",ji,retrieve3(lo,Zn.normal&&Zn.normal.get("formatter"),Fi),ho)}},labelDataIndex:an.dataIndex,defaultText:Fi}),ln.setTextConfig({position:"inside"});var Gn=hn.getModel("emphasis");setStatesStylesFromModel(ln,hn,"lineStyle",function(Ni){var $i=Ni.getItemStyle();return applyCurveStyle($i,rn,an),$i}),Ur.add(ln),Jr.setItemGraphicEl(an.dataIndex,ln);var ui=Gn.get("focus");toggleHoverEmphasis(ln,ui==="adjacency"?an.getAdjacentDataIndices():ui==="trajectory"?an.getTrajectoryDataIndices():ui,Gn.get("blurScope"),Gn.get("disabled"))}),jr.eachNode(function(an){var ln=an.getLayout(),dn=an.getModel(),hn=dn.get("localX"),gn=dn.get("localY"),bn=dn.getModel("emphasis"),kn=new Rect$3({shape:{x:hn!=null?hn*Yr:ln.x,y:gn!=null?gn*Kr:ln.y,width:ln.dx,height:ln.dy},style:dn.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(kn,getLabelStatesModels(dn),{labelFetcher:{getFormattedLabel:function(_n,pn){return $r.getFormattedLabel(_n,pn,"node")}},labelDataIndex:an.dataIndex,defaultText:an.id}),kn.disableLabelAnimation=!0,kn.setStyle("fill",an.getVisual("color")),kn.setStyle("decal",an.getVisual("style").decal),setStatesStylesFromModel(kn,dn),Ur.add(kn),Qr.setItemGraphicEl(an.dataIndex,kn),getECData(kn).dataType="node";var Sn=bn.get("focus");toggleHoverEmphasis(kn,Sn==="adjacency"?an.getAdjacentDataIndices():Sn==="trajectory"?an.getTrajectoryDataIndices():Sn,bn.get("blurScope"),bn.get("disabled"))}),Qr.eachItemGraphicEl(function(an,ln){var dn=Qr.getItemModel(ln);dn.get("draggable")&&(an.drift=function(hn,gn){zr._focusAdjacencyDisabled=!0,this.shape.x+=hn,this.shape.y+=gn,this.dirty(),Fr.dispatchAction({type:"dragNode",seriesId:$r.id,dataIndex:Qr.getRawIndex(ln),localX:this.shape.x/Yr,localY:this.shape.y/Kr})},an.ondragend=function(){zr._focusAdjacencyDisabled=!1},an.draggable=!0,an.cursor="move")}),!this._data&&$r.isAnimationEnabled()&&Ur.setClipPath(createGridClipShape$1(Ur.getBoundingRect(),$r,function(){Ur.removeClipPath()})),this._data=$r.getData()},_r.prototype.dispose=function(){},_r.type="sankey",_r}(ChartView$1);function applyCurveStyle(Fe,_r,$r){switch(Fe.fill){case"source":Fe.fill=$r.node1.getVisual("color"),Fe.decal=$r.node1.getVisual("style").decal;break;case"target":Fe.fill=$r.node2.getVisual("color"),Fe.decal=$r.node2.getVisual("style").decal;break;case"gradient":var Br=$r.node1.getVisual("color"),Fr=$r.node2.getVisual("color");isString(Br)&&isString(Fr)&&(Fe.fill=new LinearGradient$1(0,0,+(_r==="horizontal"),+(_r==="vertical"),[{color:Br,offset:0},{color:Fr,offset:1}]))}}function createGridClipShape$1(Fe,_r,$r){var Br=new Rect$3({shape:{x:Fe.x-10,y:Fe.y-10,width:0,height:Fe.height+20}});return initProps(Br,{shape:{width:Fe.width+20}},_r,$r),Br}const SankeyView$1=SankeyView;var SankeySeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.getInitialData=function($r,Br){var Fr=$r.edges||$r.links,zr=$r.data||$r.nodes,jr=$r.levels;this.levelModels=[];for(var Ur=this.levelModels,Gr=0;Gr<jr.length;Gr++)jr[Gr].depth!=null&&jr[Gr].depth>=0&&(Ur[jr[Gr].depth]=new Model$1(jr[Gr],this,Br));if(zr&&Fr){var Yr=createGraphFromNodeEdge(zr,Fr,this,!0,Kr);return Yr.data}function Kr(Qr,Jr){Qr.wrapMethod("getItemModel",function(rn,an){var ln=rn.parentModel,dn=ln.getData().getItemLayout(an);if(dn){var hn=dn.depth,gn=ln.levelModels[hn];gn&&(rn.parentModel=gn)}return rn}),Jr.wrapMethod("getItemModel",function(rn,an){var ln=rn.parentModel,dn=ln.getGraph().getEdgeByIndex(an),hn=dn.node1.getLayout();if(hn){var gn=hn.depth,bn=ln.levelModels[gn];bn&&(rn.parentModel=bn)}return rn})}},_r.prototype.setNodePosition=function($r,Br){var Fr=this.option.data||this.option.nodes,zr=Fr[$r];zr.localX=Br[0],zr.localY=Br[1]},_r.prototype.getGraph=function(){return this.getData().graph},_r.prototype.getEdgeData=function(){return this.getGraph().edgeData},_r.prototype.formatTooltip=function($r,Br,Fr){function zr(rn){return isNaN(rn)||rn==null}if(Fr==="edge"){var jr=this.getDataParams($r,Fr),Ur=jr.data,Gr=jr.value,Yr=Ur.source+" -- "+Ur.target;return createTooltipMarkup("nameValue",{name:Yr,value:Gr,noValue:zr(Gr)})}else{var Kr=this.getGraph().getNodeByIndex($r),Qr=Kr.getLayout().value,Jr=this.getDataParams($r,Fr).data.name;return createTooltipMarkup("nameValue",{name:Jr!=null?Jr+"":null,value:Qr,noValue:zr(Qr)})}},_r.prototype.optionUpdated=function(){},_r.prototype.getDataParams=function($r,Br){var Fr=Fe.prototype.getDataParams.call(this,$r,Br);if(Fr.value==null&&Br==="node"){var zr=this.getGraph().getNodeByIndex($r),jr=zr.getLayout().value;Fr.value=jr}return Fr},_r.type="series.sankey",_r.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},_r}(SeriesModel$1);const SankeySeriesModel$1=SankeySeriesModel;function sankeyLayout(Fe,_r){Fe.eachSeriesByType("sankey",function($r){var Br=$r.get("nodeWidth"),Fr=$r.get("nodeGap"),zr=getViewRect$1($r,_r);$r.layoutInfo=zr;var jr=zr.width,Ur=zr.height,Gr=$r.getGraph(),Yr=Gr.nodes,Kr=Gr.edges;computeNodeValues(Yr);var Qr=filter(Yr,function(ln){return ln.getLayout().value===0}),Jr=Qr.length!==0?0:$r.get("layoutIterations"),rn=$r.get("orient"),an=$r.get("nodeAlign");layoutSankey(Yr,Kr,Br,Fr,jr,Ur,Jr,rn,an)})}function getViewRect$1(Fe,_r){return getLayoutRect(Fe.getBoxLayoutParams(),{width:_r.getWidth(),height:_r.getHeight()})}function layoutSankey(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr){computeNodeBreadths(Fe,_r,$r,Fr,zr,Ur,Gr),computeNodeDepths(Fe,_r,zr,Fr,Br,jr,Ur),computeEdgeDepths(Fe,Ur)}function computeNodeValues(Fe){each$f(Fe,function(_r){var $r=sum(_r.outEdges,getEdgeValue),Br=sum(_r.inEdges,getEdgeValue),Fr=_r.getValue()||0,zr=Math.max($r,Br,Fr);_r.setLayout({value:zr},!0)})}function computeNodeBreadths(Fe,_r,$r,Br,Fr,zr,jr){for(var Ur=[],Gr=[],Yr=[],Kr=[],Qr=0,Jr=0;Jr<_r.length;Jr++)Ur[Jr]=1;for(var Jr=0;Jr<Fe.length;Jr++)Gr[Jr]=Fe[Jr].inEdges.length,Gr[Jr]===0&&Yr.push(Fe[Jr]);for(var rn=-1;Yr.length;){for(var an=0;an<Yr.length;an++){var ln=Yr[an],dn=ln.hostGraph.data.getRawDataItem(ln.dataIndex),hn=dn.depth!=null&&dn.depth>=0;hn&&dn.depth>rn&&(rn=dn.depth),ln.setLayout({depth:hn?dn.depth:Qr},!0),zr==="vertical"?ln.setLayout({dy:$r},!0):ln.setLayout({dx:$r},!0);for(var gn=0;gn<ln.outEdges.length;gn++){var bn=ln.outEdges[gn],kn=_r.indexOf(bn);Ur[kn]=0;var Sn=bn.node2,_n=Fe.indexOf(Sn);--Gr[_n]===0&&Kr.indexOf(Sn)<0&&Kr.push(Sn)}}++Qr,Yr=Kr,Kr=[]}for(var Jr=0;Jr<Ur.length;Jr++)if(Ur[Jr]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var pn=rn>Qr-1?rn:Qr-1;jr&&jr!=="left"&&adjustNodeWithNodeAlign(Fe,jr,zr,pn);var Cn=zr==="vertical"?(Fr-$r)/pn:(Br-$r)/pn;scaleNodeBreadths(Fe,Cn,zr)}function isNodeDepth(Fe){var _r=Fe.hostGraph.data.getRawDataItem(Fe.dataIndex);return _r.depth!=null&&_r.depth>=0}function adjustNodeWithNodeAlign(Fe,_r,$r,Br){if(_r==="right"){for(var Fr=[],zr=Fe,jr=0;zr.length;){for(var Ur=0;Ur<zr.length;Ur++){var Gr=zr[Ur];Gr.setLayout({skNodeHeight:jr},!0);for(var Yr=0;Yr<Gr.inEdges.length;Yr++){var Kr=Gr.inEdges[Yr];Fr.indexOf(Kr.node1)<0&&Fr.push(Kr.node1)}}zr=Fr,Fr=[],++jr}each$f(Fe,function(Qr){isNodeDepth(Qr)||Qr.setLayout({depth:Math.max(0,Br-Qr.getLayout().skNodeHeight)},!0)})}else _r==="justify"&&moveSinksRight(Fe,Br)}function moveSinksRight(Fe,_r){each$f(Fe,function($r){!isNodeDepth($r)&&!$r.outEdges.length&&$r.setLayout({depth:_r},!0)})}function scaleNodeBreadths(Fe,_r,$r){each$f(Fe,function(Br){var Fr=Br.getLayout().depth*_r;$r==="vertical"?Br.setLayout({y:Fr},!0):Br.setLayout({x:Fr},!0)})}function computeNodeDepths(Fe,_r,$r,Br,Fr,zr,jr){var Ur=prepareNodesByBreadth(Fe,jr);initializeNodeDepth(Ur,_r,$r,Br,Fr,jr),resolveCollisions(Ur,Fr,$r,Br,jr);for(var Gr=1;zr>0;zr--)Gr*=.99,relaxRightToLeft(Ur,Gr,jr),resolveCollisions(Ur,Fr,$r,Br,jr),relaxLeftToRight(Ur,Gr,jr),resolveCollisions(Ur,Fr,$r,Br,jr)}function prepareNodesByBreadth(Fe,_r){var $r=[],Br=_r==="vertical"?"y":"x",Fr=groupData(Fe,function(zr){return zr.getLayout()[Br]});return Fr.keys.sort(function(zr,jr){return zr-jr}),each$f(Fr.keys,function(zr){$r.push(Fr.buckets.get(zr))}),$r}function initializeNodeDepth(Fe,_r,$r,Br,Fr,zr){var jr=1/0;each$f(Fe,function(Ur){var Gr=Ur.length,Yr=0;each$f(Ur,function(Qr){Yr+=Qr.getLayout().value});var Kr=zr==="vertical"?(Br-(Gr-1)*Fr)/Yr:($r-(Gr-1)*Fr)/Yr;Kr<jr&&(jr=Kr)}),each$f(Fe,function(Ur){each$f(Ur,function(Gr,Yr){var Kr=Gr.getLayout().value*jr;zr==="vertical"?(Gr.setLayout({x:Yr},!0),Gr.setLayout({dx:Kr},!0)):(Gr.setLayout({y:Yr},!0),Gr.setLayout({dy:Kr},!0))})}),each$f(_r,function(Ur){var Gr=+Ur.getValue()*jr;Ur.setLayout({dy:Gr},!0)})}function resolveCollisions(Fe,_r,$r,Br,Fr){var zr=Fr==="vertical"?"x":"y";each$f(Fe,function(jr){jr.sort(function(ln,dn){return ln.getLayout()[zr]-dn.getLayout()[zr]});for(var Ur,Gr,Yr,Kr=0,Qr=jr.length,Jr=Fr==="vertical"?"dx":"dy",rn=0;rn<Qr;rn++)Gr=jr[rn],Yr=Kr-Gr.getLayout()[zr],Yr>0&&(Ur=Gr.getLayout()[zr]+Yr,Fr==="vertical"?Gr.setLayout({x:Ur},!0):Gr.setLayout({y:Ur},!0)),Kr=Gr.getLayout()[zr]+Gr.getLayout()[Jr]+_r;var an=Fr==="vertical"?Br:$r;if(Yr=Kr-_r-an,Yr>0){Ur=Gr.getLayout()[zr]-Yr,Fr==="vertical"?Gr.setLayout({x:Ur},!0):Gr.setLayout({y:Ur},!0),Kr=Ur;for(var rn=Qr-2;rn>=0;--rn)Gr=jr[rn],Yr=Gr.getLayout()[zr]+Gr.getLayout()[Jr]+_r-Kr,Yr>0&&(Ur=Gr.getLayout()[zr]-Yr,Fr==="vertical"?Gr.setLayout({x:Ur},!0):Gr.setLayout({y:Ur},!0)),Kr=Gr.getLayout()[zr]}})}function relaxRightToLeft(Fe,_r,$r){each$f(Fe.slice().reverse(),function(Br){each$f(Br,function(Fr){if(Fr.outEdges.length){var zr=sum(Fr.outEdges,weightedTarget,$r)/sum(Fr.outEdges,getEdgeValue);if(isNaN(zr)){var jr=Fr.outEdges.length;zr=jr?sum(Fr.outEdges,centerTarget,$r)/jr:0}if($r==="vertical"){var Ur=Fr.getLayout().x+(zr-center(Fr,$r))*_r;Fr.setLayout({x:Ur},!0)}else{var Gr=Fr.getLayout().y+(zr-center(Fr,$r))*_r;Fr.setLayout({y:Gr},!0)}}})})}function weightedTarget(Fe,_r){return center(Fe.node2,_r)*Fe.getValue()}function centerTarget(Fe,_r){return center(Fe.node2,_r)}function weightedSource(Fe,_r){return center(Fe.node1,_r)*Fe.getValue()}function centerSource(Fe,_r){return center(Fe.node1,_r)}function center(Fe,_r){return _r==="vertical"?Fe.getLayout().x+Fe.getLayout().dx/2:Fe.getLayout().y+Fe.getLayout().dy/2}function getEdgeValue(Fe){return Fe.getValue()}function sum(Fe,_r,$r){for(var Br=0,Fr=Fe.length,zr=-1;++zr<Fr;){var jr=+_r(Fe[zr],$r);isNaN(jr)||(Br+=jr)}return Br}function relaxLeftToRight(Fe,_r,$r){each$f(Fe,function(Br){each$f(Br,function(Fr){if(Fr.inEdges.length){var zr=sum(Fr.inEdges,weightedSource,$r)/sum(Fr.inEdges,getEdgeValue);if(isNaN(zr)){var jr=Fr.inEdges.length;zr=jr?sum(Fr.inEdges,centerSource,$r)/jr:0}if($r==="vertical"){var Ur=Fr.getLayout().x+(zr-center(Fr,$r))*_r;Fr.setLayout({x:Ur},!0)}else{var Gr=Fr.getLayout().y+(zr-center(Fr,$r))*_r;Fr.setLayout({y:Gr},!0)}}})})}function computeEdgeDepths(Fe,_r){var $r=_r==="vertical"?"x":"y";each$f(Fe,function(Br){Br.outEdges.sort(function(Fr,zr){return Fr.node2.getLayout()[$r]-zr.node2.getLayout()[$r]}),Br.inEdges.sort(function(Fr,zr){return Fr.node1.getLayout()[$r]-zr.node1.getLayout()[$r]})}),each$f(Fe,function(Br){var Fr=0,zr=0;each$f(Br.outEdges,function(jr){jr.setLayout({sy:Fr},!0),Fr+=jr.getLayout().dy}),each$f(Br.inEdges,function(jr){jr.setLayout({ty:zr},!0),zr+=jr.getLayout().dy})})}function sankeyVisual(Fe){Fe.eachSeriesByType("sankey",function(_r){var $r=_r.getGraph(),Br=$r.nodes,Fr=$r.edges;if(Br.length){var zr=1/0,jr=-1/0;each$f(Br,function(Ur){var Gr=Ur.getLayout().value;Gr<zr&&(zr=Gr),Gr>jr&&(jr=Gr)}),each$f(Br,function(Ur){var Gr=new VisualMapping$1({type:"color",mappingMethod:"linear",dataExtent:[zr,jr],visual:_r.get("color")}),Yr=Gr.mapValueToVisual(Ur.getLayout().value),Kr=Ur.getModel().get(["itemStyle","color"]);Kr!=null?(Ur.setVisual("color",Kr),Ur.setVisual("style",{fill:Kr})):(Ur.setVisual("color",Yr),Ur.setVisual("style",{fill:Yr}))})}Fr.length&&each$f(Fr,function(Ur){var Gr=Ur.getModel().get("lineStyle");Ur.setVisual("style",Gr)})})}function install$A(Fe){Fe.registerChartView(SankeyView$1),Fe.registerSeriesModel(SankeySeriesModel$1),Fe.registerLayout(sankeyLayout),Fe.registerVisual(sankeyVisual),Fe.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(_r,$r){$r.eachComponent({mainType:"series",subType:"sankey",query:_r},function(Br){Br.setNodePosition(_r.dataIndex,[_r.localX,_r.localY])})})}var WhiskerBoxCommonMixin=function(){function Fe(){}return Fe.prototype.getInitialData=function(_r,$r){var Br,Fr=$r.getComponent("xAxis",this.get("xAxisIndex")),zr=$r.getComponent("yAxis",this.get("yAxisIndex")),jr=Fr.get("type"),Ur=zr.get("type"),Gr;jr==="category"?(_r.layout="horizontal",Br=Fr.getOrdinalMeta(),Gr=!0):Ur==="category"?(_r.layout="vertical",Br=zr.getOrdinalMeta(),Gr=!0):_r.layout=_r.layout||"horizontal";var Yr=["x","y"],Kr=_r.layout==="horizontal"?0:1,Qr=this._baseAxisDim=Yr[Kr],Jr=Yr[1-Kr],rn=[Fr,zr],an=rn[Kr].get("type"),ln=rn[1-Kr].get("type"),dn=_r.data;if(dn&&Gr){var hn=[];each$f(dn,function(kn,Sn){var _n;isArray$1(kn)?(_n=kn.slice(),kn.unshift(Sn)):isArray$1(kn.value)?(_n=extend$1({},kn),_n.value=_n.value.slice(),kn.value.unshift(Sn)):_n=kn,hn.push(_n)}),_r.data=hn}var gn=this.defaultValueDimensions,bn=[{name:Qr,type:getDimensionTypeByAxis(an),ordinalMeta:Br,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:Jr,type:getDimensionTypeByAxis(ln),dimsDef:gn.slice()}];return createSeriesDataSimply(this,{coordDimensions:bn,dimensionsCount:gn.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,bn,this)})},Fe.prototype.getBaseAxis=function(){var _r=this._baseAxisDim;return this.ecModel.getComponent(_r+"Axis",this.get(_r+"AxisIndex")).axis},Fe}(),BoxplotSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],$r.visualDrawType="stroke",$r}return _r.type="series.boxplot",_r.dependencies=["xAxis","yAxis","grid"],_r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},_r}(SeriesModel$1);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);const BoxplotSeriesModel$1=BoxplotSeriesModel;var BoxplotView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){var zr=$r.getData(),jr=this.group,Ur=this._data;this._data||jr.removeAll();var Gr=$r.get("layout")==="horizontal"?1:0;zr.diff(Ur).add(function(Yr){if(zr.hasValue(Yr)){var Kr=zr.getItemLayout(Yr),Qr=createNormalBox$1(Kr,zr,Yr,Gr,!0);zr.setItemGraphicEl(Yr,Qr),jr.add(Qr)}}).update(function(Yr,Kr){var Qr=Ur.getItemGraphicEl(Kr);if(!zr.hasValue(Yr)){jr.remove(Qr);return}var Jr=zr.getItemLayout(Yr);Qr?(saveOldStyle(Qr),updateNormalBoxData(Jr,Qr,zr,Yr)):Qr=createNormalBox$1(Jr,zr,Yr,Gr),jr.add(Qr),zr.setItemGraphicEl(Yr,Qr)}).remove(function(Yr){var Kr=Ur.getItemGraphicEl(Yr);Kr&&jr.remove(Kr)}).execute(),this._data=zr},_r.prototype.remove=function($r){var Br=this.group,Fr=this._data;this._data=null,Fr&&Fr.eachItemGraphicEl(function(zr){zr&&Br.remove(zr)})},_r.type="boxplot",_r}(ChartView$1),BoxPathShape=function(){function Fe(){}return Fe}(),BoxPath=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="boxplotBoxPath",Br}return _r.prototype.getDefaultShape=function(){return new BoxPathShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.points,zr=0;for($r.moveTo(Fr[zr][0],Fr[zr][1]),zr++;zr<4;zr++)$r.lineTo(Fr[zr][0],Fr[zr][1]);for($r.closePath();zr<Fr.length;zr++)$r.moveTo(Fr[zr][0],Fr[zr][1]),zr++,$r.lineTo(Fr[zr][0],Fr[zr][1])},_r}(Path$1);function createNormalBox$1(Fe,_r,$r,Br,Fr){var zr=Fe.ends,jr=new BoxPath({shape:{points:Fr?transInit$1(zr,Br,Fe):zr}});return updateNormalBoxData(Fe,jr,_r,$r,Fr),jr}function updateNormalBoxData(Fe,_r,$r,Br,Fr){var zr=$r.hostModel,jr=graphic$1[Fr?"initProps":"updateProps"];jr(_r,{shape:{points:Fe.ends}},zr,Br),_r.useStyle($r.getItemVisual(Br,"style")),_r.style.strokeNoScale=!0,_r.z2=100;var Ur=$r.getItemModel(Br),Gr=Ur.getModel("emphasis");setStatesStylesFromModel(_r,Ur),toggleHoverEmphasis(_r,Gr.get("focus"),Gr.get("blurScope"),Gr.get("disabled"))}function transInit$1(Fe,_r,$r){return map$1(Fe,function(Br){return Br=Br.slice(),Br[_r]=$r.initBaseline,Br})}const BoxplotView$1=BoxplotView;var each$9=each$f;function boxplotLayout(Fe){var _r=groupSeriesByAxis(Fe);each$9(_r,function($r){var Br=$r.seriesModels;Br.length&&(calculateBase($r),each$9(Br,function(Fr,zr){layoutSingleSeries(Fr,$r.boxOffsetList[zr],$r.boxWidthList[zr])}))})}function groupSeriesByAxis(Fe){var _r=[],$r=[];return Fe.eachSeriesByType("boxplot",function(Br){var Fr=Br.getBaseAxis(),zr=indexOf($r,Fr);zr<0&&(zr=$r.length,$r[zr]=Fr,_r[zr]={axis:Fr,seriesModels:[]}),_r[zr].seriesModels.push(Br)}),_r}function calculateBase(Fe){var _r=Fe.axis,$r=Fe.seriesModels,Br=$r.length,Fr=Fe.boxWidthList=[],zr=Fe.boxOffsetList=[],jr=[],Ur;if(_r.type==="category")Ur=_r.getBandWidth();else{var Gr=0;each$9($r,function(an){Gr=Math.max(Gr,an.getData().count())});var Yr=_r.getExtent();Ur=Math.abs(Yr[1]-Yr[0])/Gr}each$9($r,function(an){var ln=an.get("boxWidth");isArray$1(ln)||(ln=[ln,ln]),jr.push([parsePercent(ln[0],Ur)||0,parsePercent(ln[1],Ur)||0])});var Kr=Ur*.8-2,Qr=Kr/Br*.3,Jr=(Kr-Qr*(Br-1))/Br,rn=Jr/2-Kr/2;each$9($r,function(an,ln){zr.push(rn),rn+=Qr+Jr,Fr.push(Math.min(Math.max(Jr,jr[ln][0]),jr[ln][1]))})}function layoutSingleSeries(Fe,_r,$r){var Br=Fe.coordinateSystem,Fr=Fe.getData(),zr=$r/2,jr=Fe.get("layout")==="horizontal"?0:1,Ur=1-jr,Gr=["x","y"],Yr=Fr.mapDimension(Gr[jr]),Kr=Fr.mapDimensionsAll(Gr[Ur]);if(Yr==null||Kr.length<5)return;for(var Qr=0;Qr<Fr.count();Qr++){var Jr=Fr.get(Yr,Qr),rn=bn(Jr,Kr[2],Qr),an=bn(Jr,Kr[0],Qr),ln=bn(Jr,Kr[1],Qr),dn=bn(Jr,Kr[3],Qr),hn=bn(Jr,Kr[4],Qr),gn=[];kn(gn,ln,!1),kn(gn,dn,!0),gn.push(an,ln,hn,dn),Sn(gn,an),Sn(gn,hn),Sn(gn,rn),Fr.setItemLayout(Qr,{initBaseline:rn[Ur],ends:gn})}function bn(_n,pn,Cn){var En=Fr.get(pn,Cn),Pn=[];Pn[jr]=_n,Pn[Ur]=En;var On;return isNaN(_n)||isNaN(En)?On=[NaN,NaN]:(On=Br.dataToPoint(Pn),On[jr]+=_r),On}function kn(_n,pn,Cn){var En=pn.slice(),Pn=pn.slice();En[jr]+=zr,Pn[jr]-=zr,Cn?_n.push(En,Pn):_n.push(Pn,En)}function Sn(_n,pn){var Cn=pn.slice(),En=pn.slice();Cn[jr]-=zr,En[jr]+=zr,_n.push(Cn,En)}}function prepareBoxplotData(Fe,_r){_r=_r||{};for(var $r=[],Br=[],Fr=_r.boundIQR,zr=Fr==="none"||Fr===0,jr=0;jr<Fe.length;jr++){var Ur=asc$2(Fe[jr].slice()),Gr=quantile(Ur,.25),Yr=quantile(Ur,.5),Kr=quantile(Ur,.75),Qr=Ur[0],Jr=Ur[Ur.length-1],rn=(Fr??1.5)*(Kr-Gr),an=zr?Qr:Math.max(Qr,Gr-rn),ln=zr?Jr:Math.min(Jr,Kr+rn),dn=_r.itemNameFormatter,hn=isFunction(dn)?dn({value:jr}):isString(dn)?dn.replace("{value}",jr+""):jr+"";$r.push([hn,an,Gr,Yr,Kr,ln]);for(var gn=0;gn<Ur.length;gn++){var bn=Ur[gn];if(bn<an||bn>ln){var kn=[hn,bn];Br.push(kn)}}}return{boxData:$r,outliers:Br}}var boxplotTransform={type:"echarts:boxplot",transform:function(_r){var $r=_r.upstream;if($r.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var Br="";throwError(Br)}var Fr=prepareBoxplotData($r.getRawData(),_r.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:Fr.boxData},{data:Fr.outliers}]}};function install$z(Fe){Fe.registerSeriesModel(BoxplotSeriesModel$1),Fe.registerChartView(BoxplotView$1),Fe.registerLayout(boxplotLayout),Fe.registerTransform(boxplotTransform)}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode($r),this._isLargeDraw?this._renderLarge($r):this._renderNormal($r)},_r.prototype.incrementalPrepareRender=function($r,Br,Fr){this._clear(),this._updateDrawMode($r)},_r.prototype.incrementalRender=function($r,Br,Fr,zr){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge($r,Br):this._incrementalRenderNormal($r,Br)},_r.prototype.eachRendered=function($r){traverseElements(this._progressiveEls||this.group,$r)},_r.prototype._updateDrawMode=function($r){var Br=$r.pipelineContext.large;(this._isLargeDraw==null||Br!==this._isLargeDraw)&&(this._isLargeDraw=Br,this._clear())},_r.prototype._renderNormal=function($r){var Br=$r.getData(),Fr=this._data,zr=this.group,jr=Br.getLayout("isSimpleBox"),Ur=$r.get("clip",!0),Gr=$r.coordinateSystem,Yr=Gr.getArea&&Gr.getArea();this._data||zr.removeAll(),Br.diff(Fr).add(function(Kr){if(Br.hasValue(Kr)){var Qr=Br.getItemLayout(Kr);if(Ur&&isNormalBoxClipped(Yr,Qr))return;var Jr=createNormalBox(Qr,Kr,!0);initProps(Jr,{shape:{points:Qr.ends}},$r,Kr),setBoxCommon(Jr,Br,Kr,jr),zr.add(Jr),Br.setItemGraphicEl(Kr,Jr)}}).update(function(Kr,Qr){var Jr=Fr.getItemGraphicEl(Qr);if(!Br.hasValue(Kr)){zr.remove(Jr);return}var rn=Br.getItemLayout(Kr);if(Ur&&isNormalBoxClipped(Yr,rn)){zr.remove(Jr);return}Jr?(updateProps$1(Jr,{shape:{points:rn.ends}},$r,Kr),saveOldStyle(Jr)):Jr=createNormalBox(rn),setBoxCommon(Jr,Br,Kr,jr),zr.add(Jr),Br.setItemGraphicEl(Kr,Jr)}).remove(function(Kr){var Qr=Fr.getItemGraphicEl(Kr);Qr&&zr.remove(Qr)}).execute(),this._data=Br},_r.prototype._renderLarge=function($r){this._clear(),createLarge($r,this.group);var Br=$r.get("clip",!0)?createClipPath($r.coordinateSystem,!1,$r):null;Br?this.group.setClipPath(Br):this.group.removeClipPath()},_r.prototype._incrementalRenderNormal=function($r,Br){for(var Fr=Br.getData(),zr=Fr.getLayout("isSimpleBox"),jr;(jr=$r.next())!=null;){var Ur=Fr.getItemLayout(jr),Gr=createNormalBox(Ur);setBoxCommon(Gr,Fr,jr,zr),Gr.incremental=!0,this.group.add(Gr),this._progressiveEls.push(Gr)}},_r.prototype._incrementalRenderLarge=function($r,Br){createLarge(Br,this.group,this._progressiveEls,!0)},_r.prototype.remove=function($r){this._clear()},_r.prototype._clear=function(){this.group.removeAll(),this._data=null},_r.type="candlestick",_r}(ChartView$1),NormalBoxPathShape=function(){function Fe(){}return Fe}(),NormalBoxPath=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="normalCandlestickBox",Br}return _r.prototype.getDefaultShape=function(){return new NormalBoxPathShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.points;this.__simpleBox?($r.moveTo(Fr[4][0],Fr[4][1]),$r.lineTo(Fr[6][0],Fr[6][1])):($r.moveTo(Fr[0][0],Fr[0][1]),$r.lineTo(Fr[1][0],Fr[1][1]),$r.lineTo(Fr[2][0],Fr[2][1]),$r.lineTo(Fr[3][0],Fr[3][1]),$r.closePath(),$r.moveTo(Fr[4][0],Fr[4][1]),$r.lineTo(Fr[5][0],Fr[5][1]),$r.moveTo(Fr[6][0],Fr[6][1]),$r.lineTo(Fr[7][0],Fr[7][1]))},_r}(Path$1);function createNormalBox(Fe,_r,$r){var Br=Fe.ends;return new NormalBoxPath({shape:{points:$r?transInit(Br,Fe):Br},z2:100})}function isNormalBoxClipped(Fe,_r){for(var $r=!0,Br=0;Br<_r.ends.length;Br++)if(Fe.contain(_r.ends[Br][0],_r.ends[Br][1])){$r=!1;break}return $r}function setBoxCommon(Fe,_r,$r,Br){var Fr=_r.getItemModel($r);Fe.useStyle(_r.getItemVisual($r,"style")),Fe.style.strokeNoScale=!0,Fe.__simpleBox=Br,setStatesStylesFromModel(Fe,Fr)}function transInit(Fe,_r){return map$1(Fe,function($r){return $r=$r.slice(),$r[1]=_r.initBaseline,$r})}var LargeBoxPathShape=function(){function Fe(){}return Fe}(),LargeBoxPath=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br.type="largeCandlestickBox",Br}return _r.prototype.getDefaultShape=function(){return new LargeBoxPathShape},_r.prototype.buildPath=function($r,Br){for(var Fr=Br.points,zr=0;zr<Fr.length;)if(this.__sign===Fr[zr++]){var jr=Fr[zr++];$r.moveTo(jr,Fr[zr++]),$r.lineTo(jr,Fr[zr++])}else zr+=3},_r}(Path$1);function createLarge(Fe,_r,$r,Br){var Fr=Fe.getData(),zr=Fr.getLayout("largePoints"),jr=new LargeBoxPath({shape:{points:zr},__sign:1,ignoreCoarsePointer:!0});_r.add(jr);var Ur=new LargeBoxPath({shape:{points:zr},__sign:-1,ignoreCoarsePointer:!0});_r.add(Ur);var Gr=new LargeBoxPath({shape:{points:zr},__sign:0,ignoreCoarsePointer:!0});_r.add(Gr),setLargeStyle(1,jr,Fe),setLargeStyle(-1,Ur,Fe),setLargeStyle(0,Gr,Fe),Br&&(jr.incremental=!0,Ur.incremental=!0),$r&&$r.push(jr,Ur)}function setLargeStyle(Fe,_r,$r,Br){var Fr=$r.get(["itemStyle",Fe>0?"borderColor":"borderColor0"])||$r.get(["itemStyle",Fe>0?"color":"color0"]);Fe===0&&(Fr=$r.get(["itemStyle","borderColorDoji"]));var zr=$r.getModel("itemStyle").getItemStyle(SKIP_PROPS);_r.useStyle(zr),_r.style.fill=null,_r.style.stroke=Fr}const CandlestickView$1=CandlestickView;var CandlestickSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],$r}return _r.prototype.getShadowDim=function(){return"open"},_r.prototype.brushSelector=function($r,Br,Fr){var zr=Br.getItemLayout($r);return zr&&Fr.rect(zr.brushRect)},_r.type="series.candlestick",_r.dependencies=["xAxis","yAxis","grid"],_r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},_r}(SeriesModel$1);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);const CandlestickSeriesModel$1=CandlestickSeriesModel;function candlestickPreprocessor(Fe){!Fe||!isArray$1(Fe.series)||each$f(Fe.series,function(_r){isObject$3(_r)&&_r.type==="k"&&(_r.type="candlestick")})}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(Fe,_r){function $r(zr,jr){return jr.get(zr>0?positiveColorQuery:negativeColorQuery)}function Br(zr,jr){return jr.get(zr===0?dojiBorderColorQuery:zr>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!_r.isSeriesFiltered(Fe)){var Fr=Fe.pipelineContext.large;return!Fr&&{progress:function(zr,jr){for(var Ur;(Ur=zr.next())!=null;){var Gr=jr.getItemModel(Ur),Yr=jr.getItemLayout(Ur).sign,Kr=Gr.getItemStyle();Kr.fill=$r(Yr,Gr),Kr.stroke=Br(Yr,Gr)||Kr.fill;var Qr=jr.ensureUniqueItemVisual(Ur,"style");extend$1(Qr,Kr)}}}}}};const candlestickVisual$1=candlestickVisual;var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(Fe){var _r=Fe.coordinateSystem,$r=Fe.getData(),Br=calculateCandleWidth(Fe,$r),Fr=0,zr=1,jr=["x","y"],Ur=$r.getDimensionIndex($r.mapDimension(jr[Fr])),Gr=map$1($r.mapDimensionsAll(jr[zr]),$r.getDimensionIndex,$r),Yr=Gr[0],Kr=Gr[1],Qr=Gr[2],Jr=Gr[3];if($r.setLayout({candleWidth:Br,isSimpleBox:Br<=1.3}),Ur<0||Gr.length<4)return;return{progress:Fe.pipelineContext.large?an:rn};function rn(ln,dn){for(var hn,gn=dn.getStore();(hn=ln.next())!=null;){var bn=gn.get(Ur,hn),kn=gn.get(Yr,hn),Sn=gn.get(Kr,hn),_n=gn.get(Qr,hn),pn=gn.get(Jr,hn),Cn=Math.min(kn,Sn),En=Math.max(kn,Sn),Pn=ni(Cn,bn),On=ni(En,bn),jn=ni(_n,bn),Fn=ni(pn,bn),Wn=[];oi(Wn,On,0),oi(Wn,Pn,1),Wn.push(Ci(Fn),Ci(On),Ci(jn),Ci(Pn));var Hn=dn.getItemModel(hn),qn=!!Hn.get(["itemStyle","borderColorDoji"]);dn.setItemLayout(hn,{sign:getSign(gn,hn,kn,Sn,Kr,qn),initBaseline:kn>Sn?On[zr]:Pn[zr],ends:Wn,brushRect:wi(_n,pn,bn)})}function ni(Fi,Zn){var Gn=[];return Gn[Fr]=Zn,Gn[zr]=Fi,isNaN(Zn)||isNaN(Fi)?[NaN,NaN]:_r.dataToPoint(Gn)}function oi(Fi,Zn,Gn){var ui=Zn.slice(),Ni=Zn.slice();ui[Fr]=subPixelOptimize(ui[Fr]+Br/2,1,!1),Ni[Fr]=subPixelOptimize(Ni[Fr]-Br/2,1,!0),Gn?Fi.push(ui,Ni):Fi.push(Ni,ui)}function wi(Fi,Zn,Gn){var ui=ni(Fi,Gn),Ni=ni(Zn,Gn);return ui[Fr]-=Br/2,Ni[Fr]-=Br/2,{x:ui[0],y:ui[1],width:Br,height:Ni[1]-ui[1]}}function Ci(Fi){return Fi[Fr]=subPixelOptimize(Fi[Fr],1),Fi}}function an(ln,dn){for(var hn=createFloat32Array(ln.count*4),gn=0,bn,kn=[],Sn=[],_n,pn=dn.getStore(),Cn=!!Fe.get(["itemStyle","borderColorDoji"]);(_n=ln.next())!=null;){var En=pn.get(Ur,_n),Pn=pn.get(Yr,_n),On=pn.get(Kr,_n),jn=pn.get(Qr,_n),Fn=pn.get(Jr,_n);if(isNaN(En)||isNaN(jn)||isNaN(Fn)){hn[gn++]=NaN,gn+=3;continue}hn[gn++]=getSign(pn,_n,Pn,On,Kr,Cn),kn[Fr]=En,kn[zr]=jn,bn=_r.dataToPoint(kn,null,Sn),hn[gn++]=bn?bn[0]:NaN,hn[gn++]=bn?bn[1]:NaN,kn[zr]=Fn,bn=_r.dataToPoint(kn,null,Sn),hn[gn++]=bn?bn[1]:NaN}dn.setLayout("largePoints",hn)}}};function getSign(Fe,_r,$r,Br,Fr,zr){var jr;return $r>Br?jr=-1:$r<Br?jr=1:jr=zr?0:_r>0?Fe.get(Fr,_r-1)<=Br?1:-1:1,jr}function calculateCandleWidth(Fe,_r){var $r=Fe.getBaseAxis(),Br,Fr=$r.type==="category"?$r.getBandWidth():(Br=$r.getExtent(),Math.abs(Br[1]-Br[0])/_r.count()),zr=parsePercent(retrieve2(Fe.get("barMaxWidth"),Fr),Fr),jr=parsePercent(retrieve2(Fe.get("barMinWidth"),1),Fr),Ur=Fe.get("barWidth");return Ur!=null?parsePercent(Ur,Fr):Math.max(Math.min(Fr/2,zr),jr)}const candlestickLayout$1=candlestickLayout;function install$y(Fe){Fe.registerChartView(CandlestickView$1),Fe.registerSeriesModel(CandlestickSeriesModel$1),Fe.registerPreprocessor(candlestickPreprocessor),Fe.registerVisual(candlestickVisual$1),Fe.registerLayout(candlestickLayout$1)}function updateRipplePath(Fe,_r){var $r=_r.rippleEffectColor||_r.color;Fe.eachChild(function(Br){Br.attr({z:_r.z,zlevel:_r.zlevel,style:{stroke:_r.brushType==="stroke"?$r:null,fill:_r.brushType==="fill"?$r:null}})})}var EffectSymbol=function(Fe){__extends(_r,Fe);function _r($r,Br){var Fr=Fe.call(this)||this,zr=new SymbolClz($r,Br),jr=new Group$4;return Fr.add(zr),Fr.add(jr),Fr.updateData($r,Br),Fr}return _r.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},_r.prototype.startEffectAnimation=function($r){for(var Br=$r.symbolType,Fr=$r.color,zr=$r.rippleNumber,jr=this.childAt(1),Ur=0;Ur<zr;Ur++){var Gr=createSymbol$1(Br,-1,-1,2,2,Fr);Gr.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var Yr=-Ur/zr*$r.period+$r.effectOffset;Gr.animate("",!0).when($r.period,{scaleX:$r.rippleScale/2,scaleY:$r.rippleScale/2}).delay(Yr).start(),Gr.animateStyle(!0).when($r.period,{opacity:0}).delay(Yr).start(),jr.add(Gr)}updateRipplePath(jr,$r)},_r.prototype.updateEffectAnimation=function($r){for(var Br=this._effectCfg,Fr=this.childAt(1),zr=["symbolType","period","rippleScale","rippleNumber"],jr=0;jr<zr.length;jr++){var Ur=zr[jr];if(Br[Ur]!==$r[Ur]){this.stopEffectAnimation(),this.startEffectAnimation($r);return}}updateRipplePath(Fr,$r)},_r.prototype.highlight=function(){enterEmphasis(this)},_r.prototype.downplay=function(){leaveEmphasis(this)},_r.prototype.getSymbolType=function(){var $r=this.childAt(0);return $r&&$r.getSymbolType()},_r.prototype.updateData=function($r,Br){var Fr=this,zr=$r.hostModel;this.childAt(0).updateData($r,Br);var jr=this.childAt(1),Ur=$r.getItemModel(Br),Gr=$r.getItemVisual(Br,"symbol"),Yr=normalizeSymbolSize($r.getItemVisual(Br,"symbolSize")),Kr=$r.getItemVisual(Br,"style"),Qr=Kr&&Kr.fill,Jr=Ur.getModel("emphasis");jr.setScale(Yr),jr.traverse(function(dn){dn.setStyle("fill",Qr)});var rn=normalizeSymbolOffset($r.getItemVisual(Br,"symbolOffset"),Yr);rn&&(jr.x=rn[0],jr.y=rn[1]);var an=$r.getItemVisual(Br,"symbolRotate");jr.rotation=(an||0)*Math.PI/180||0;var ln={};ln.showEffectOn=zr.get("showEffectOn"),ln.rippleScale=Ur.get(["rippleEffect","scale"]),ln.brushType=Ur.get(["rippleEffect","brushType"]),ln.period=Ur.get(["rippleEffect","period"])*1e3,ln.effectOffset=Br/$r.count(),ln.z=zr.getShallow("z")||0,ln.zlevel=zr.getShallow("zlevel")||0,ln.symbolType=Gr,ln.color=Qr,ln.rippleEffectColor=Ur.get(["rippleEffect","color"]),ln.rippleNumber=Ur.get(["rippleEffect","number"]),ln.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(ln):this.startEffectAnimation(ln),this._effectCfg=ln):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(dn){dn==="emphasis"?ln.showEffectOn!=="render"&&Fr.startEffectAnimation(ln):dn==="normal"&&ln.showEffectOn!=="render"&&Fr.stopEffectAnimation()}),this._effectCfg=ln,toggleHoverEmphasis(this,Jr.get("focus"),Jr.get("blurScope"),Jr.get("disabled"))},_r.prototype.fadeOut=function($r){$r&&$r()},_r}(Group$4);const EffectSymbol$1=EffectSymbol;var EffectScatterView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function(){this._symbolDraw=new SymbolDraw$1(EffectSymbol$1)},_r.prototype.render=function($r,Br,Fr){var zr=$r.getData(),jr=this._symbolDraw;jr.updateData(zr,{clipShape:this._getClipShape($r)}),this.group.add(jr.group)},_r.prototype._getClipShape=function($r){var Br=$r.coordinateSystem,Fr=Br&&Br.getArea&&Br.getArea();return $r.get("clip",!0)?Fr:null},_r.prototype.updateTransform=function($r,Br,Fr){var zr=$r.getData();this.group.dirty();var jr=pointsLayout("").reset($r,Br,Fr);jr.progress&&jr.progress({start:0,end:zr.count(),count:zr.count()},zr),this._symbolDraw.updateLayout()},_r.prototype._updateGroupTransform=function($r){var Br=$r.coordinateSystem;Br&&Br.getRoamTransform&&(this.group.transform=clone$2(Br.getRoamTransform()),this.group.decomposeTransform())},_r.prototype.remove=function($r,Br){this._symbolDraw&&this._symbolDraw.remove(!0)},_r.type="effectScatter",_r}(ChartView$1);const EffectScatterView$1=EffectScatterView;var EffectScatterSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.hasSymbolVisual=!0,$r}return _r.prototype.getInitialData=function($r,Br){return createSeriesData(null,this,{useEncodeDefaulter:!0})},_r.prototype.brushSelector=function($r,Br,Fr){return Fr.point(Br.getItemLayout($r))},_r.type="series.effectScatter",_r.dependencies=["grid","polar"],_r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},_r}(SeriesModel$1);const EffectScatterSeriesModel$1=EffectScatterSeriesModel;function install$x(Fe){Fe.registerChartView(EffectScatterView$1),Fe.registerSeriesModel(EffectScatterSeriesModel$1),Fe.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this)||this;return zr.add(zr.createLine($r,Br,Fr)),zr._updateEffectSymbol($r,Br),zr}return _r.prototype.createLine=function($r,Br,Fr){return new Line$1($r,Br,Fr)},_r.prototype._updateEffectSymbol=function($r,Br){var Fr=$r.getItemModel(Br),zr=Fr.getModel("effect"),jr=zr.get("symbolSize"),Ur=zr.get("symbol");isArray$1(jr)||(jr=[jr,jr]);var Gr=$r.getItemVisual(Br,"style"),Yr=zr.get("color")||Gr&&Gr.stroke,Kr=this.childAt(1);this._symbolType!==Ur&&(this.remove(Kr),Kr=createSymbol$1(Ur,-.5,-.5,1,1,Yr),Kr.z2=100,Kr.culling=!0,this.add(Kr)),Kr&&(Kr.setStyle("shadowColor",Yr),Kr.setStyle(zr.getItemStyle(["color"])),Kr.scaleX=jr[0],Kr.scaleY=jr[1],Kr.setColor(Yr),this._symbolType=Ur,this._symbolScale=jr,this._updateEffectAnimation($r,zr,Br))},_r.prototype._updateEffectAnimation=function($r,Br,Fr){var zr=this.childAt(1);if(zr){var jr=$r.getItemLayout(Fr),Ur=Br.get("period")*1e3,Gr=Br.get("loop"),Yr=Br.get("roundTrip"),Kr=Br.get("constantSpeed"),Qr=retrieve(Br.get("delay"),function(rn){return rn/$r.count()*Ur/3});if(zr.ignore=!0,this._updateAnimationPoints(zr,jr),Kr>0&&(Ur=this._getLineLength(zr)/Kr*1e3),Ur!==this._period||Gr!==this._loop||Yr!==this._roundTrip){zr.stopAnimation();var Jr=void 0;isFunction(Qr)?Jr=Qr(Fr):Jr=Qr,zr.__t>0&&(Jr=-Ur*zr.__t),this._animateSymbol(zr,Ur,Jr,Gr,Yr)}this._period=Ur,this._loop=Gr,this._roundTrip=Yr}},_r.prototype._animateSymbol=function($r,Br,Fr,zr,jr){if(Br>0){$r.__t=0;var Ur=this,Gr=$r.animate("",zr).when(jr?Br*2:Br,{__t:jr?2:1}).delay(Fr).during(function(){Ur._updateSymbolPosition($r)});zr||Gr.done(function(){Ur.remove($r)}),Gr.start()}},_r.prototype._getLineLength=function($r){return dist$1($r.__p1,$r.__cp1)+dist$1($r.__cp1,$r.__p2)},_r.prototype._updateAnimationPoints=function($r,Br){$r.__p1=Br[0],$r.__p2=Br[1],$r.__cp1=Br[2]||[(Br[0][0]+Br[1][0])/2,(Br[0][1]+Br[1][1])/2]},_r.prototype.updateData=function($r,Br,Fr){this.childAt(0).updateData($r,Br,Fr),this._updateEffectSymbol($r,Br)},_r.prototype._updateSymbolPosition=function($r){var Br=$r.__p1,Fr=$r.__p2,zr=$r.__cp1,jr=$r.__t<1?$r.__t:2-$r.__t,Ur=[$r.x,$r.y],Gr=Ur.slice(),Yr=quadraticAt$1,Kr=quadraticDerivativeAt;Ur[0]=Yr(Br[0],zr[0],Fr[0],jr),Ur[1]=Yr(Br[1],zr[1],Fr[1],jr);var Qr=$r.__t<1?Kr(Br[0],zr[0],Fr[0],jr):Kr(Fr[0],zr[0],Br[0],1-jr),Jr=$r.__t<1?Kr(Br[1],zr[1],Fr[1],jr):Kr(Fr[1],zr[1],Br[1],1-jr);$r.rotation=-Math.atan2(Jr,Qr)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&($r.__lastT!==void 0&&$r.__lastT<$r.__t?($r.scaleY=dist$1(Gr,Ur)*1.05,jr===1&&(Ur[0]=Gr[0]+(Ur[0]-Gr[0])/2,Ur[1]=Gr[1]+(Ur[1]-Gr[1])/2)):$r.__lastT===1?$r.scaleY=2*dist$1(Br,Ur):$r.scaleY=this._symbolScale[1]),$r.__lastT=$r.__t,$r.ignore=!1,$r.x=Ur[0],$r.y=Ur[1]},_r.prototype.updateLayout=function($r,Br){this.childAt(0).updateLayout($r,Br);var Fr=$r.getItemModel(Br).getModel("effect");this._updateEffectAnimation($r,Fr,Br)},_r}(Group$4);const EffectLine$1=EffectLine;var Polyline=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr){var zr=Fe.call(this)||this;return zr._createPolyline($r,Br,Fr),zr}return _r.prototype._createPolyline=function($r,Br,Fr){var zr=$r.getItemLayout(Br),jr=new Polyline$3({shape:{points:zr}});this.add(jr),this._updateCommonStl($r,Br,Fr)},_r.prototype.updateData=function($r,Br,Fr){var zr=$r.hostModel,jr=this.childAt(0),Ur={shape:{points:$r.getItemLayout(Br)}};updateProps$1(jr,Ur,zr,Br),this._updateCommonStl($r,Br,Fr)},_r.prototype._updateCommonStl=function($r,Br,Fr){var zr=this.childAt(0),jr=$r.getItemModel(Br),Ur=Fr&&Fr.emphasisLineStyle,Gr=Fr&&Fr.focus,Yr=Fr&&Fr.blurScope,Kr=Fr&&Fr.emphasisDisabled;if(!Fr||$r.hasItemOption){var Qr=jr.getModel("emphasis");Ur=Qr.getModel("lineStyle").getLineStyle(),Kr=Qr.get("disabled"),Gr=Qr.get("focus"),Yr=Qr.get("blurScope")}zr.useStyle($r.getItemVisual(Br,"style")),zr.style.fill=null,zr.style.strokeNoScale=!0;var Jr=zr.ensureState("emphasis");Jr.style=Ur,toggleHoverEmphasis(this,Gr,Yr,Kr)},_r.prototype.updateLayout=function($r,Br){var Fr=this.childAt(0);Fr.setShape("points",$r.getItemLayout(Br))},_r}(Group$4);const Polyline$1=Polyline;var EffectPolyline=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r._lastFrame=0,$r._lastFramePercent=0,$r}return _r.prototype.createLine=function($r,Br,Fr){return new Polyline$1($r,Br,Fr)},_r.prototype._updateAnimationPoints=function($r,Br){this._points=Br;for(var Fr=[0],zr=0,jr=1;jr<Br.length;jr++){var Ur=Br[jr-1],Gr=Br[jr];zr+=dist$1(Ur,Gr),Fr.push(zr)}if(zr===0){this._length=0;return}for(var jr=0;jr<Fr.length;jr++)Fr[jr]/=zr;this._offsets=Fr,this._length=zr},_r.prototype._getLineLength=function(){return this._length},_r.prototype._updateSymbolPosition=function($r){var Br=$r.__t<1?$r.__t:2-$r.__t,Fr=this._points,zr=this._offsets,jr=Fr.length;if(zr){var Ur=this._lastFrame,Gr;if(Br<this._lastFramePercent){var Yr=Math.min(Ur+1,jr-1);for(Gr=Yr;Gr>=0&&!(zr[Gr]<=Br);Gr--);Gr=Math.min(Gr,jr-2)}else{for(Gr=Ur;Gr<jr&&!(zr[Gr]>Br);Gr++);Gr=Math.min(Gr-1,jr-2)}var Kr=(Br-zr[Gr])/(zr[Gr+1]-zr[Gr]),Qr=Fr[Gr],Jr=Fr[Gr+1];$r.x=Qr[0]*(1-Kr)+Kr*Jr[0],$r.y=Qr[1]*(1-Kr)+Kr*Jr[1];var rn=$r.__t<1?Jr[0]-Qr[0]:Qr[0]-Jr[0],an=$r.__t<1?Jr[1]-Qr[1]:Qr[1]-Jr[1];$r.rotation=-Math.atan2(an,rn)-Math.PI/2,this._lastFrame=Gr,this._lastFramePercent=Br,$r.ignore=!1}},_r}(EffectLine$1);const EffectPolyline$1=EffectPolyline;var LargeLinesPathShape=function(){function Fe(){this.polyline=!1,this.curveness=0,this.segs=[]}return Fe}(),LargeLinesPath=function(Fe){__extends(_r,Fe);function _r($r){var Br=Fe.call(this,$r)||this;return Br._off=0,Br.hoverDataIdx=-1,Br}return _r.prototype.reset=function(){this.notClear=!1,this._off=0},_r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},_r.prototype.getDefaultShape=function(){return new LargeLinesPathShape},_r.prototype.buildPath=function($r,Br){var Fr=Br.segs,zr=Br.curveness,jr;if(Br.polyline)for(jr=this._off;jr<Fr.length;){var Ur=Fr[jr++];if(Ur>0){$r.moveTo(Fr[jr++],Fr[jr++]);for(var Gr=1;Gr<Ur;Gr++)$r.lineTo(Fr[jr++],Fr[jr++])}}else for(jr=this._off;jr<Fr.length;){var Yr=Fr[jr++],Kr=Fr[jr++],Qr=Fr[jr++],Jr=Fr[jr++];if($r.moveTo(Yr,Kr),zr>0){var rn=(Yr+Qr)/2-(Kr-Jr)*zr,an=(Kr+Jr)/2-(Qr-Yr)*zr;$r.quadraticCurveTo(rn,an,Qr,Jr)}else $r.lineTo(Qr,Jr)}this.incremental&&(this._off=jr,this.notClear=!0)},_r.prototype.findDataIndex=function($r,Br){var Fr=this.shape,zr=Fr.segs,jr=Fr.curveness,Ur=this.style.lineWidth;if(Fr.polyline)for(var Gr=0,Yr=0;Yr<zr.length;){var Kr=zr[Yr++];if(Kr>0)for(var Qr=zr[Yr++],Jr=zr[Yr++],rn=1;rn<Kr;rn++){var an=zr[Yr++],ln=zr[Yr++];if(containStroke$4(Qr,Jr,an,ln,Ur,$r,Br))return Gr}Gr++}else for(var Gr=0,Yr=0;Yr<zr.length;){var Qr=zr[Yr++],Jr=zr[Yr++],an=zr[Yr++],ln=zr[Yr++];if(jr>0){var dn=(Qr+an)/2-(Jr-ln)*jr,hn=(Jr+ln)/2-(an-Qr)*jr;if(containStroke$2(Qr,Jr,dn,hn,an,ln,Ur,$r,Br))return Gr}else if(containStroke$4(Qr,Jr,an,ln,Ur,$r,Br))return Gr;Gr++}return-1},_r.prototype.contain=function($r,Br){var Fr=this.transformCoordToLocal($r,Br),zr=this.getBoundingRect();if($r=Fr[0],Br=Fr[1],zr.contain($r,Br)){var jr=this.hoverDataIdx=this.findDataIndex($r,Br);return jr>=0}return this.hoverDataIdx=-1,!1},_r.prototype.getBoundingRect=function(){var $r=this._rect;if(!$r){for(var Br=this.shape,Fr=Br.segs,zr=1/0,jr=1/0,Ur=-1/0,Gr=-1/0,Yr=0;Yr<Fr.length;){var Kr=Fr[Yr++],Qr=Fr[Yr++];zr=Math.min(Kr,zr),Ur=Math.max(Kr,Ur),jr=Math.min(Qr,jr),Gr=Math.max(Qr,Gr)}$r=this._rect=new BoundingRect$1(zr,jr,Ur,Gr)}return $r},_r}(Path$1),LargeLineDraw=function(){function Fe(){this.group=new Group$4}return Fe.prototype.updateData=function(_r){this._clear();var $r=this._create();$r.setShape({segs:_r.getLayout("linesPoints")}),this._setCommon($r,_r)},Fe.prototype.incrementalPrepareUpdate=function(_r){this.group.removeAll(),this._clear()},Fe.prototype.incrementalUpdate=function(_r,$r){var Br=this._newAdded[0],Fr=$r.getLayout("linesPoints"),zr=Br&&Br.shape.segs;if(zr&&zr.length<2e4){var jr=zr.length,Ur=new Float32Array(jr+Fr.length);Ur.set(zr),Ur.set(Fr,jr),Br.setShape({segs:Ur})}else{this._newAdded=[];var Gr=this._create();Gr.incremental=!0,Gr.setShape({segs:Fr}),this._setCommon(Gr,$r),Gr.__startIndex=_r.start}},Fe.prototype.remove=function(){this._clear()},Fe.prototype.eachRendered=function(_r){this._newAdded[0]&&_r(this._newAdded[0])},Fe.prototype._create=function(){var _r=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(_r),this.group.add(_r),_r},Fe.prototype._setCommon=function(_r,$r,Br){var Fr=$r.hostModel;_r.setShape({polyline:Fr.get("polyline"),curveness:Fr.get(["lineStyle","curveness"])}),_r.useStyle(Fr.getModel("lineStyle").getLineStyle()),_r.style.strokeNoScale=!0;var zr=$r.getVisual("style");zr&&zr.stroke&&_r.setStyle("stroke",zr.stroke),_r.setStyle("fill",null);var jr=getECData(_r);jr.seriesIndex=Fr.seriesIndex,_r.on("mousemove",function(Ur){jr.dataIndex=null;var Gr=_r.hoverDataIdx;Gr>0&&(jr.dataIndex=Gr+_r.__startIndex)})},Fe.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},Fe}();const LargeLineDraw$1=LargeLineDraw;var linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(Fe){var _r=Fe.coordinateSystem;if(_r){var $r=Fe.get("polyline"),Br=Fe.pipelineContext.large;return{progress:function(Fr,zr){var jr=[];if(Br){var Ur=void 0,Gr=Fr.end-Fr.start;if($r){for(var Yr=0,Kr=Fr.start;Kr<Fr.end;Kr++)Yr+=Fe.getLineCoordsCount(Kr);Ur=new Float32Array(Gr+Yr*2)}else Ur=new Float32Array(Gr*4);for(var Qr=0,Jr=[],Kr=Fr.start;Kr<Fr.end;Kr++){var rn=Fe.getLineCoords(Kr,jr);$r&&(Ur[Qr++]=rn);for(var an=0;an<rn;an++)Jr=_r.dataToPoint(jr[an],!1,Jr),Ur[Qr++]=Jr[0],Ur[Qr++]=Jr[1]}zr.setLayout("linesPoints",Ur)}else for(var Kr=Fr.start;Kr<Fr.end;Kr++){var ln=zr.getItemModel(Kr),rn=Fe.getLineCoords(Kr,jr),dn=[];if($r)for(var hn=0;hn<rn;hn++)dn.push(_r.dataToPoint(jr[hn]));else{dn[0]=_r.dataToPoint(jr[0]),dn[1]=_r.dataToPoint(jr[1]);var gn=ln.get(["lineStyle","curveness"]);+gn&&(dn[2]=[(dn[0][0]+dn[1][0])/2-(dn[0][1]-dn[1][1])*gn,(dn[0][1]+dn[1][1])/2-(dn[1][0]-dn[0][0])*gn])}zr.setItemLayout(Kr,dn)}}}}}};const linesLayout$1=linesLayout;var LinesView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){var zr=$r.getData(),jr=this._updateLineDraw(zr,$r),Ur=$r.get("zlevel"),Gr=$r.get(["effect","trailLength"]),Yr=Fr.getZr(),Kr=Yr.painter.getType()==="svg";Kr||Yr.painter.getLayer(Ur).clear(!0),this._lastZlevel!=null&&!Kr&&Yr.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect($r)&&Gr>0&&(Kr||Yr.configLayer(Ur,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(Gr/10+.9,1),0)})),jr.updateData(zr);var Qr=$r.get("clip",!0)&&createClipPath($r.coordinateSystem,!1,$r);Qr?this.group.setClipPath(Qr):this.group.removeClipPath(),this._lastZlevel=Ur,this._finished=!0},_r.prototype.incrementalPrepareRender=function($r,Br,Fr){var zr=$r.getData(),jr=this._updateLineDraw(zr,$r);jr.incrementalPrepareUpdate(zr),this._clearLayer(Fr),this._finished=!1},_r.prototype.incrementalRender=function($r,Br,Fr){this._lineDraw.incrementalUpdate($r,Br.getData()),this._finished=$r.end===Br.getData().count()},_r.prototype.eachRendered=function($r){this._lineDraw&&this._lineDraw.eachRendered($r)},_r.prototype.updateTransform=function($r,Br,Fr){var zr=$r.getData(),jr=$r.pipelineContext;if(!this._finished||jr.large||jr.progressiveRender)return{update:!0};var Ur=linesLayout$1.reset($r,Br,Fr);Ur.progress&&Ur.progress({start:0,end:zr.count(),count:zr.count()},zr),this._lineDraw.updateLayout(),this._clearLayer(Fr)},_r.prototype._updateLineDraw=function($r,Br){var Fr=this._lineDraw,zr=this._showEffect(Br),jr=!!Br.get("polyline"),Ur=Br.pipelineContext,Gr=Ur.large;return(!Fr||zr!==this._hasEffet||jr!==this._isPolyline||Gr!==this._isLargeDraw)&&(Fr&&Fr.remove(),Fr=this._lineDraw=Gr?new LargeLineDraw$1:new LineDraw$1(jr?zr?EffectPolyline$1:Polyline$1:zr?EffectLine$1:Line$1),this._hasEffet=zr,this._isPolyline=jr,this._isLargeDraw=Gr),this.group.add(Fr.group),Fr},_r.prototype._showEffect=function($r){return!!$r.get(["effect","show"])},_r.prototype._clearLayer=function($r){var Br=$r.getZr(),Fr=Br.painter.getType()==="svg";!Fr&&this._lastZlevel!=null&&Br.painter.getLayer(this._lastZlevel).clear(!0)},_r.prototype.remove=function($r,Br){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(Br)},_r.prototype.dispose=function($r,Br){this.remove($r,Br)},_r.type="lines",_r}(ChartView$1);const LinesView$1=LinesView;var Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(Fe){var _r=Fe.data;_r&&_r[0]&&_r[0][0]&&_r[0][0].coord&&(Fe.data=map$1(_r,function($r){var Br=[$r[0].coord,$r[1].coord],Fr={coords:Br};return $r[0].name&&(Fr.fromName=$r[0].name),$r[1].name&&(Fr.toName=$r[1].name),mergeAll([Fr,$r[0],$r[1]])}))}var LinesSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.visualStyleAccessPath="lineStyle",$r.visualDrawType="stroke",$r}return _r.prototype.init=function($r){$r.data=$r.data||[],compatEc2($r);var Br=this._processFlatCoordsArray($r.data);this._flatCoords=Br.flatCoords,this._flatCoordsOffset=Br.flatCoordsOffset,Br.flatCoords&&($r.data=new Float32Array(Br.count)),Fe.prototype.init.apply(this,arguments)},_r.prototype.mergeOption=function($r){if(compatEc2($r),$r.data){var Br=this._processFlatCoordsArray($r.data);this._flatCoords=Br.flatCoords,this._flatCoordsOffset=Br.flatCoordsOffset,Br.flatCoords&&($r.data=new Float32Array(Br.count))}Fe.prototype.mergeOption.apply(this,arguments)},_r.prototype.appendData=function($r){var Br=this._processFlatCoordsArray($r.data);Br.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,Br.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,Br.flatCoordsOffset)):(this._flatCoords=Br.flatCoords,this._flatCoordsOffset=Br.flatCoordsOffset),$r.data=new Float32Array(Br.count)),this.getRawData().appendData($r.data)},_r.prototype._getCoordsFromItemModel=function($r){var Br=this.getData().getItemModel($r),Fr=Br.option instanceof Array?Br.option:Br.getShallow("coords");return Fr},_r.prototype.getLineCoordsCount=function($r){return this._flatCoordsOffset?this._flatCoordsOffset[$r*2+1]:this._getCoordsFromItemModel($r).length},_r.prototype.getLineCoords=function($r,Br){if(this._flatCoordsOffset){for(var Fr=this._flatCoordsOffset[$r*2],zr=this._flatCoordsOffset[$r*2+1],jr=0;jr<zr;jr++)Br[jr]=Br[jr]||[],Br[jr][0]=this._flatCoords[Fr+jr*2],Br[jr][1]=this._flatCoords[Fr+jr*2+1];return zr}else{for(var Ur=this._getCoordsFromItemModel($r),jr=0;jr<Ur.length;jr++)Br[jr]=Br[jr]||[],Br[jr][0]=Ur[jr][0],Br[jr][1]=Ur[jr][1];return Ur.length}},_r.prototype._processFlatCoordsArray=function($r){var Br=0;if(this._flatCoords&&(Br=this._flatCoords.length),isNumber($r[0])){for(var Fr=$r.length,zr=new Uint32Arr(Fr),jr=new Float64Arr(Fr),Ur=0,Gr=0,Yr=0,Kr=0;Kr<Fr;){Yr++;var Qr=$r[Kr++];zr[Gr++]=Ur+Br,zr[Gr++]=Qr;for(var Jr=0;Jr<Qr;Jr++){var rn=$r[Kr++],an=$r[Kr++];jr[Ur++]=rn,jr[Ur++]=an}}return{flatCoordsOffset:new Uint32Array(zr.buffer,0,Gr),flatCoords:jr,count:Yr}}return{flatCoordsOffset:null,flatCoords:null,count:$r.length}},_r.prototype.getInitialData=function($r,Br){var Fr=new SeriesData$1(["value"],this);return Fr.hasItemOption=!1,Fr.initData($r.data,[],function(zr,jr,Ur,Gr){if(zr instanceof Array)return NaN;Fr.hasItemOption=!0;var Yr=zr.value;if(Yr!=null)return Yr instanceof Array?Yr[Gr]:Yr}),Fr},_r.prototype.formatTooltip=function($r,Br,Fr){var zr=this.getData(),jr=zr.getItemModel($r),Ur=jr.get("name");if(Ur)return Ur;var Gr=jr.get("fromName"),Yr=jr.get("toName"),Kr=[];return Gr!=null&&Kr.push(Gr),Yr!=null&&Kr.push(Yr),createTooltipMarkup("nameValue",{name:Kr.join(" > ")})},_r.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},_r.prototype.getProgressive=function(){var $r=this.option.progressive;return $r??(this.option.large?1e4:this.get("progressive"))},_r.prototype.getProgressiveThreshold=function(){var $r=this.option.progressiveThreshold;return $r??(this.option.large?2e4:this.get("progressiveThreshold"))},_r.prototype.getZLevelKey=function(){var $r=this.getModel("effect"),Br=$r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:$r.get("show")&&Br>0?Br+"":""},_r.type="series.lines",_r.dependencies=["grid","polar","geo","calendar"],_r.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},_r}(SeriesModel$1);const LinesSeriesModel$1=LinesSeriesModel;function normalize(Fe){return Fe instanceof Array||(Fe=[Fe,Fe]),Fe}var linesVisual={seriesType:"lines",reset:function(Fe){var _r=normalize(Fe.get("symbol")),$r=normalize(Fe.get("symbolSize")),Br=Fe.getData();Br.setVisual("fromSymbol",_r&&_r[0]),Br.setVisual("toSymbol",_r&&_r[1]),Br.setVisual("fromSymbolSize",$r&&$r[0]),Br.setVisual("toSymbolSize",$r&&$r[1]);function Fr(zr,jr){var Ur=zr.getItemModel(jr),Gr=normalize(Ur.getShallow("symbol",!0)),Yr=normalize(Ur.getShallow("symbolSize",!0));Gr[0]&&zr.setItemVisual(jr,"fromSymbol",Gr[0]),Gr[1]&&zr.setItemVisual(jr,"toSymbol",Gr[1]),Yr[0]&&zr.setItemVisual(jr,"fromSymbolSize",Yr[0]),Yr[1]&&zr.setItemVisual(jr,"toSymbolSize",Yr[1])}return{dataEach:Br.hasItemOption?Fr:null}}};const linesVisual$1=linesVisual;function install$w(Fe){Fe.registerChartView(LinesView$1),Fe.registerSeriesModel(LinesSeriesModel$1),Fe.registerLayout(linesLayout$1),Fe.registerVisual(linesVisual$1)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function Fe(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var _r=platformApi.createCanvas();this.canvas=_r}return Fe.prototype.update=function(_r,$r,Br,Fr,zr,jr){var Ur=this._getBrush(),Gr=this._getGradient(zr,"inRange"),Yr=this._getGradient(zr,"outOfRange"),Kr=this.pointSize+this.blurSize,Qr=this.canvas,Jr=Qr.getContext("2d"),rn=_r.length;Qr.width=$r,Qr.height=Br;for(var an=0;an<rn;++an){var ln=_r[an],dn=ln[0],hn=ln[1],gn=ln[2],bn=Fr(gn);Jr.globalAlpha=bn,Jr.drawImage(Ur,dn-Kr,hn-Kr)}if(!Qr.width||!Qr.height)return Qr;for(var kn=Jr.getImageData(0,0,Qr.width,Qr.height),Sn=kn.data,_n=0,pn=Sn.length,Cn=this.minOpacity,En=this.maxOpacity,Pn=En-Cn;_n<pn;){var bn=Sn[_n+3]/256,On=Math.floor(bn*(GRADIENT_LEVELS-1))*4;if(bn>0){var jn=jr(bn)?Gr:Yr;bn>0&&(bn=bn*Pn+Cn),Sn[_n++]=jn[On],Sn[_n++]=jn[On+1],Sn[_n++]=jn[On+2],Sn[_n++]=jn[On+3]*bn*256}else _n+=4}return Jr.putImageData(kn,0,0),Qr},Fe.prototype._getBrush=function(){var _r=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),$r=this.pointSize+this.blurSize,Br=$r*2;_r.width=Br,_r.height=Br;var Fr=_r.getContext("2d");return Fr.clearRect(0,0,Br,Br),Fr.shadowOffsetX=Br,Fr.shadowBlur=this.blurSize,Fr.shadowColor="#000",Fr.beginPath(),Fr.arc(-$r,$r,this.pointSize,0,Math.PI*2,!0),Fr.closePath(),Fr.fill(),_r},Fe.prototype._getGradient=function(_r,$r){for(var Br=this._gradientPixels,Fr=Br[$r]||(Br[$r]=new Uint8ClampedArray(256*4)),zr=[0,0,0,0],jr=0,Ur=0;Ur<256;Ur++)_r[$r](Ur/255,!0,zr),Fr[jr++]=zr[0],Fr[jr++]=zr[1],Fr[jr++]=zr[2],Fr[jr++]=zr[3];return Fr},Fe}();const HeatmapLayer$1=HeatmapLayer;function getIsInPiecewiseRange(Fe,_r,$r){var Br=Fe[1]-Fe[0];_r=map$1(_r,function(jr){return{interval:[(jr.interval[0]-Fe[0])/Br,(jr.interval[1]-Fe[0])/Br]}});var Fr=_r.length,zr=0;return function(jr){var Ur;for(Ur=zr;Ur<Fr;Ur++){var Gr=_r[Ur].interval;if(Gr[0]<=jr&&jr<=Gr[1]){zr=Ur;break}}if(Ur===Fr)for(Ur=zr-1;Ur>=0;Ur--){var Gr=_r[Ur].interval;if(Gr[0]<=jr&&jr<=Gr[1]){zr=Ur;break}}return Ur>=0&&Ur<Fr&&$r[Ur]}}function getIsInContinuousRange(Fe,_r){var $r=Fe[1]-Fe[0];return _r=[(_r[0]-Fe[0])/$r,(_r[1]-Fe[0])/$r],function(Br){return Br>=_r[0]&&Br<=_r[1]}}function isGeoCoordSys(Fe){var _r=Fe.dimensions;return _r[0]==="lng"&&_r[1]==="lat"}var HeatmapView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){var zr;Br.eachComponent("visualMap",function(Ur){Ur.eachTargetSeries(function(Gr){Gr===$r&&(zr=Ur)})}),this._progressiveEls=null,this.group.removeAll();var jr=$r.coordinateSystem;jr.type==="cartesian2d"||jr.type==="calendar"?this._renderOnCartesianAndCalendar($r,Fr,0,$r.getData().count()):isGeoCoordSys(jr)&&this._renderOnGeo(jr,$r,zr,Fr)},_r.prototype.incrementalPrepareRender=function($r,Br,Fr){this.group.removeAll()},_r.prototype.incrementalRender=function($r,Br,Fr,zr){var jr=Br.coordinateSystem;jr&&(isGeoCoordSys(jr)?this.render(Br,Fr,zr):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(Br,zr,$r.start,$r.end,!0)))},_r.prototype.eachRendered=function($r){traverseElements(this._progressiveEls||this.group,$r)},_r.prototype._renderOnCartesianAndCalendar=function($r,Br,Fr,zr,jr){var Ur=$r.coordinateSystem,Gr=isCoordinateSystemType(Ur,"cartesian2d"),Yr,Kr,Qr,Jr;if(Gr){var rn=Ur.getAxis("x"),an=Ur.getAxis("y");Yr=rn.getBandWidth()+.5,Kr=an.getBandWidth()+.5,Qr=rn.scale.getExtent(),Jr=an.scale.getExtent()}for(var ln=this.group,dn=$r.getData(),hn=$r.getModel(["emphasis","itemStyle"]).getItemStyle(),gn=$r.getModel(["blur","itemStyle"]).getItemStyle(),bn=$r.getModel(["select","itemStyle"]).getItemStyle(),kn=$r.get(["itemStyle","borderRadius"]),Sn=getLabelStatesModels($r),_n=$r.getModel("emphasis"),pn=_n.get("focus"),Cn=_n.get("blurScope"),En=_n.get("disabled"),Pn=Gr?[dn.mapDimension("x"),dn.mapDimension("y"),dn.mapDimension("value")]:[dn.mapDimension("time"),dn.mapDimension("value")],On=Fr;On<zr;On++){var jn=void 0,Fn=dn.getItemVisual(On,"style");if(Gr){var Wn=dn.get(Pn[0],On),Hn=dn.get(Pn[1],On);if(isNaN(dn.get(Pn[2],On))||isNaN(Wn)||isNaN(Hn)||Wn<Qr[0]||Wn>Qr[1]||Hn<Jr[0]||Hn>Jr[1])continue;var qn=Ur.dataToPoint([Wn,Hn]);jn=new Rect$3({shape:{x:qn[0]-Yr/2,y:qn[1]-Kr/2,width:Yr,height:Kr},style:Fn})}else{if(isNaN(dn.get(Pn[1],On)))continue;jn=new Rect$3({z2:1,shape:Ur.dataToRect([dn.get(Pn[0],On)]).contentShape,style:Fn})}if(dn.hasItemOption){var ni=dn.getItemModel(On),oi=ni.getModel("emphasis");hn=oi.getModel("itemStyle").getItemStyle(),gn=ni.getModel(["blur","itemStyle"]).getItemStyle(),bn=ni.getModel(["select","itemStyle"]).getItemStyle(),kn=ni.get(["itemStyle","borderRadius"]),pn=oi.get("focus"),Cn=oi.get("blurScope"),En=oi.get("disabled"),Sn=getLabelStatesModels(ni)}jn.shape.r=kn;var wi=$r.getRawValue(On),Ci="-";wi&&wi[2]!=null&&(Ci=wi[2]+""),setLabelStyle(jn,Sn,{labelFetcher:$r,labelDataIndex:On,defaultOpacity:Fn.opacity,defaultText:Ci}),jn.ensureState("emphasis").style=hn,jn.ensureState("blur").style=gn,jn.ensureState("select").style=bn,toggleHoverEmphasis(jn,pn,Cn,En),jn.incremental=jr,jr&&(jn.states.emphasis.hoverLayer=!0),ln.add(jn),dn.setItemGraphicEl(On,jn),this._progressiveEls&&this._progressiveEls.push(jn)}},_r.prototype._renderOnGeo=function($r,Br,Fr,zr){var jr=Fr.targetVisuals.inRange,Ur=Fr.targetVisuals.outOfRange,Gr=Br.getData(),Yr=this._hmLayer||this._hmLayer||new HeatmapLayer$1;Yr.blurSize=Br.get("blurSize"),Yr.pointSize=Br.get("pointSize"),Yr.minOpacity=Br.get("minOpacity"),Yr.maxOpacity=Br.get("maxOpacity");var Kr=$r.getViewRect().clone(),Qr=$r.getRoamTransform();Kr.applyTransform(Qr);var Jr=Math.max(Kr.x,0),rn=Math.max(Kr.y,0),an=Math.min(Kr.width+Kr.x,zr.getWidth()),ln=Math.min(Kr.height+Kr.y,zr.getHeight()),dn=an-Jr,hn=ln-rn,gn=[Gr.mapDimension("lng"),Gr.mapDimension("lat"),Gr.mapDimension("value")],bn=Gr.mapArray(gn,function(pn,Cn,En){var Pn=$r.dataToPoint([pn,Cn]);return Pn[0]-=Jr,Pn[1]-=rn,Pn.push(En),Pn}),kn=Fr.getExtent(),Sn=Fr.type==="visualMap.continuous"?getIsInContinuousRange(kn,Fr.option.range):getIsInPiecewiseRange(kn,Fr.getPieceList(),Fr.option.selected);Yr.update(bn,dn,hn,jr.color.getNormalizer(),{inRange:jr.color.getColorMapper(),outOfRange:Ur.color.getColorMapper()},Sn);var _n=new ZRImage$1({style:{width:dn,height:hn,x:Jr,y:rn,image:Yr.canvas},silent:!0});this.group.add(_n)},_r.type="heatmap",_r}(ChartView$1);const HeatmapView$1=HeatmapView;var HeatmapSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.getInitialData=function($r,Br){return createSeriesData(null,this,{generateCoord:"value"})},_r.prototype.preventIncremental=function(){var $r=CoordinateSystem.get(this.get("coordinateSystem"));if($r&&$r.dimensions)return $r.dimensions[0]==="lng"&&$r.dimensions[1]==="lat"},_r.type="series.heatmap",_r.dependencies=["grid","geo","calendar"],_r.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},_r}(SeriesModel$1);const HeatmapSeriesModel$1=HeatmapSeriesModel;function install$v(Fe){Fe.registerChartView(HeatmapView$1),Fe.registerSeriesModel(HeatmapSeriesModel$1)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle$1,PictorialBarView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){var zr=this.group,jr=$r.getData(),Ur=this._data,Gr=$r.coordinateSystem,Yr=Gr.getBaseAxis(),Kr=Yr.isHorizontal(),Qr=Gr.master.getRect(),Jr={ecSize:{width:Fr.getWidth(),height:Fr.getHeight()},seriesModel:$r,coordSys:Gr,coordSysExtent:[[Qr.x,Qr.x+Qr.width],[Qr.y,Qr.y+Qr.height]],isHorizontal:Kr,valueDim:LAYOUT_ATTRS[+Kr],categoryDim:LAYOUT_ATTRS[1-+Kr]};return jr.diff(Ur).add(function(rn){if(jr.hasValue(rn)){var an=getItemModel(jr,rn),ln=getSymbolMeta(jr,rn,an,Jr),dn=createBar(jr,Jr,ln);jr.setItemGraphicEl(rn,dn),zr.add(dn),updateCommon(dn,Jr,ln)}}).update(function(rn,an){var ln=Ur.getItemGraphicEl(an);if(!jr.hasValue(rn)){zr.remove(ln);return}var dn=getItemModel(jr,rn),hn=getSymbolMeta(jr,rn,dn,Jr),gn=getShapeStr(jr,hn);ln&&gn!==ln.__pictorialShapeStr&&(zr.remove(ln),jr.setItemGraphicEl(rn,null),ln=null),ln?updateBar(ln,Jr,hn):ln=createBar(jr,Jr,hn,!0),jr.setItemGraphicEl(rn,ln),ln.__pictorialSymbolMeta=hn,zr.add(ln),updateCommon(ln,Jr,hn)}).remove(function(rn){var an=Ur.getItemGraphicEl(rn);an&&removeBar(Ur,rn,an.__pictorialSymbolMeta.animationModel,an)}).execute(),this._data=jr,this.group},_r.prototype.remove=function($r,Br){var Fr=this.group,zr=this._data;$r.get("animation")?zr&&zr.eachItemGraphicEl(function(jr){removeBar(zr,getECData(jr).dataIndex,$r,jr)}):Fr.removeAll()},_r.type="pictorialBar",_r}(ChartView$1);function getSymbolMeta(Fe,_r,$r,Br){var Fr=Fe.getItemLayout(_r),zr=$r.get("symbolRepeat"),jr=$r.get("symbolClip"),Ur=$r.get("symbolPosition")||"start",Gr=$r.get("symbolRotate"),Yr=(Gr||0)*Math.PI/180||0,Kr=$r.get("symbolPatternSize")||2,Qr=$r.isAnimationEnabled(),Jr={dataIndex:_r,layout:Fr,itemModel:$r,symbolType:Fe.getItemVisual(_r,"symbol")||"circle",style:Fe.getItemVisual(_r,"style"),symbolClip:jr,symbolRepeat:zr,symbolRepeatDirection:$r.get("symbolRepeatDirection"),symbolPatternSize:Kr,rotation:Yr,animationModel:Qr?$r:null,hoverScale:Qr&&$r.get(["emphasis","scale"]),z2:$r.getShallow("z",!0)||0};prepareBarLength($r,zr,Fr,Br,Jr),prepareSymbolSize(Fe,_r,Fr,zr,jr,Jr.boundingLength,Jr.pxSign,Kr,Br,Jr),prepareLineWidth($r,Jr.symbolScale,Yr,Br,Jr);var rn=Jr.symbolSize,an=normalizeSymbolOffset($r.get("symbolOffset"),rn);return prepareLayoutInfo($r,rn,Fr,zr,jr,an,Ur,Jr.valueLineWidth,Jr.boundingLength,Jr.repeatCutLength,Br,Jr),Jr}function prepareBarLength(Fe,_r,$r,Br,Fr){var zr=Br.valueDim,jr=Fe.get("symbolBoundingData"),Ur=Br.coordSys.getOtherAxis(Br.coordSys.getBaseAxis()),Gr=Ur.toGlobalCoord(Ur.dataToCoord(0)),Yr=1-+($r[zr.wh]<=0),Kr;if(isArray$1(jr)){var Qr=[convertToCoordOnAxis(Ur,jr[0])-Gr,convertToCoordOnAxis(Ur,jr[1])-Gr];Qr[1]<Qr[0]&&Qr.reverse(),Kr=Qr[Yr]}else jr!=null?Kr=convertToCoordOnAxis(Ur,jr)-Gr:_r?Kr=Br.coordSysExtent[zr.index][Yr]-Gr:Kr=$r[zr.wh];Fr.boundingLength=Kr,_r&&(Fr.repeatCutLength=$r[zr.wh]),Fr.pxSign=Kr>0?1:-1}function convertToCoordOnAxis(Fe,_r){return Fe.toGlobalCoord(Fe.dataToCoord(Fe.scale.parse(_r)))}function prepareSymbolSize(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr){var Kr=Gr.valueDim,Qr=Gr.categoryDim,Jr=Math.abs($r[Qr.wh]),rn=Fe.getItemVisual(_r,"symbolSize"),an;isArray$1(rn)?an=rn.slice():rn==null?an=["100%","100%"]:an=[rn,rn],an[Qr.index]=parsePercent(an[Qr.index],Jr),an[Kr.index]=parsePercent(an[Kr.index],Br?Jr:Math.abs(zr)),Yr.symbolSize=an;var ln=Yr.symbolScale=[an[0]/Ur,an[1]/Ur];ln[Kr.index]*=(Gr.isHorizontal?-1:1)*jr}function prepareLineWidth(Fe,_r,$r,Br,Fr){var zr=Fe.get(BAR_BORDER_WIDTH_QUERY)||0;zr&&(pathForLineWidth.attr({scaleX:_r[0],scaleY:_r[1],rotation:$r}),pathForLineWidth.updateTransform(),zr/=pathForLineWidth.getLineScale(),zr*=_r[Br.valueDim.index]),Fr.valueLineWidth=zr||0}function prepareLayoutInfo(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr,Kr,Qr){var Jr=Kr.categoryDim,rn=Kr.valueDim,an=Qr.pxSign,ln=Math.max(_r[rn.index]+Ur,0),dn=ln;if(Br){var hn=Math.abs(Gr),gn=retrieve(Fe.get("symbolMargin"),"15%")+"",bn=!1;gn.lastIndexOf("!")===gn.length-1&&(bn=!0,gn=gn.slice(0,gn.length-1));var kn=parsePercent(gn,_r[rn.index]),Sn=Math.max(ln+kn*2,0),_n=bn?0:kn*2,pn=isNumeric(Br),Cn=pn?Br:toIntTimes((hn+_n)/Sn),En=hn-Cn*ln;kn=En/2/(bn?Cn:Math.max(Cn-1,1)),Sn=ln+kn*2,_n=bn?0:kn*2,!pn&&Br!=="fixed"&&(Cn=Yr?toIntTimes((Math.abs(Yr)+_n)/Sn):0),dn=Cn*Sn-_n,Qr.repeatTimes=Cn,Qr.symbolMargin=kn}var Pn=an*(dn/2),On=Qr.pathPosition=[];On[Jr.index]=$r[Jr.wh]/2,On[rn.index]=jr==="start"?Pn:jr==="end"?Gr-Pn:Gr/2,zr&&(On[0]+=zr[0],On[1]+=zr[1]);var jn=Qr.bundlePosition=[];jn[Jr.index]=$r[Jr.xy],jn[rn.index]=$r[rn.xy];var Fn=Qr.barRectShape=extend$1({},$r);Fn[rn.wh]=an*Math.max(Math.abs($r[rn.wh]),Math.abs(On[rn.index]+Pn)),Fn[Jr.wh]=$r[Jr.wh];var Wn=Qr.clipShape={};Wn[Jr.xy]=-$r[Jr.xy],Wn[Jr.wh]=Kr.ecSize[Jr.wh],Wn[rn.xy]=0,Wn[rn.wh]=$r[rn.wh]}function createPath(Fe){var _r=Fe.symbolPatternSize,$r=createSymbol$1(Fe.symbolType,-_r/2,-_r/2,_r,_r);return $r.attr({culling:!0}),$r.type!=="image"&&$r.setStyle({strokeNoScale:!0}),$r}function createOrUpdateRepeatSymbols(Fe,_r,$r,Br){var Fr=Fe.__pictorialBundle,zr=$r.symbolSize,jr=$r.valueLineWidth,Ur=$r.pathPosition,Gr=_r.valueDim,Yr=$r.repeatTimes||0,Kr=0,Qr=zr[_r.valueDim.index]+jr+$r.symbolMargin*2;for(eachPath(Fe,function(ln){ln.__pictorialAnimationIndex=Kr,ln.__pictorialRepeatTimes=Yr,Kr<Yr?updateAttr(ln,null,an(Kr),$r,Br):updateAttr(ln,null,{scaleX:0,scaleY:0},$r,Br,function(){Fr.remove(ln)}),Kr++});Kr<Yr;Kr++){var Jr=createPath($r);Jr.__pictorialAnimationIndex=Kr,Jr.__pictorialRepeatTimes=Yr,Fr.add(Jr);var rn=an(Kr);updateAttr(Jr,{x:rn.x,y:rn.y,scaleX:0,scaleY:0},{scaleX:rn.scaleX,scaleY:rn.scaleY,rotation:rn.rotation},$r,Br)}function an(ln){var dn=Ur.slice(),hn=$r.pxSign,gn=ln;return($r.symbolRepeatDirection==="start"?hn>0:hn<0)&&(gn=Yr-1-ln),dn[Gr.index]=Qr*(gn-Yr/2+.5)+Ur[Gr.index],{x:dn[0],y:dn[1],scaleX:$r.symbolScale[0],scaleY:$r.symbolScale[1],rotation:$r.rotation}}}function createOrUpdateSingleSymbol(Fe,_r,$r,Br){var Fr=Fe.__pictorialBundle,zr=Fe.__pictorialMainPath;zr?updateAttr(zr,null,{x:$r.pathPosition[0],y:$r.pathPosition[1],scaleX:$r.symbolScale[0],scaleY:$r.symbolScale[1],rotation:$r.rotation},$r,Br):(zr=Fe.__pictorialMainPath=createPath($r),Fr.add(zr),updateAttr(zr,{x:$r.pathPosition[0],y:$r.pathPosition[1],scaleX:0,scaleY:0,rotation:$r.rotation},{scaleX:$r.symbolScale[0],scaleY:$r.symbolScale[1]},$r,Br))}function createOrUpdateBarRect(Fe,_r,$r){var Br=extend$1({},_r.barRectShape),Fr=Fe.__pictorialBarRect;Fr?updateAttr(Fr,null,{shape:Br},_r,$r):(Fr=Fe.__pictorialBarRect=new Rect$3({z2:2,shape:Br,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),Fr.disableMorphing=!0,Fe.add(Fr))}function createOrUpdateClip(Fe,_r,$r,Br){if($r.symbolClip){var Fr=Fe.__pictorialClipPath,zr=extend$1({},$r.clipShape),jr=_r.valueDim,Ur=$r.animationModel,Gr=$r.dataIndex;if(Fr)updateProps$1(Fr,{shape:zr},Ur,Gr);else{zr[jr.wh]=0,Fr=new Rect$3({shape:zr}),Fe.__pictorialBundle.setClipPath(Fr),Fe.__pictorialClipPath=Fr;var Yr={};Yr[jr.wh]=$r.clipShape[jr.wh],graphic$1[Br?"updateProps":"initProps"](Fr,{shape:Yr},Ur,Gr)}}}function getItemModel(Fe,_r){var $r=Fe.getItemModel(_r);return $r.getAnimationDelayParams=getAnimationDelayParams,$r.isAnimationEnabled=isAnimationEnabled,$r}function getAnimationDelayParams(Fe){return{index:Fe.__pictorialAnimationIndex,count:Fe.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(Fe,_r,$r,Br){var Fr=new Group$4,zr=new Group$4;return Fr.add(zr),Fr.__pictorialBundle=zr,zr.x=$r.bundlePosition[0],zr.y=$r.bundlePosition[1],$r.symbolRepeat?createOrUpdateRepeatSymbols(Fr,_r,$r):createOrUpdateSingleSymbol(Fr,_r,$r),createOrUpdateBarRect(Fr,$r,Br),createOrUpdateClip(Fr,_r,$r,Br),Fr.__pictorialShapeStr=getShapeStr(Fe,$r),Fr.__pictorialSymbolMeta=$r,Fr}function updateBar(Fe,_r,$r){var Br=$r.animationModel,Fr=$r.dataIndex,zr=Fe.__pictorialBundle;updateProps$1(zr,{x:$r.bundlePosition[0],y:$r.bundlePosition[1]},Br,Fr),$r.symbolRepeat?createOrUpdateRepeatSymbols(Fe,_r,$r,!0):createOrUpdateSingleSymbol(Fe,_r,$r,!0),createOrUpdateBarRect(Fe,$r,!0),createOrUpdateClip(Fe,_r,$r,!0)}function removeBar(Fe,_r,$r,Br){var Fr=Br.__pictorialBarRect;Fr&&Fr.removeTextContent();var zr=[];eachPath(Br,function(jr){zr.push(jr)}),Br.__pictorialMainPath&&zr.push(Br.__pictorialMainPath),Br.__pictorialClipPath&&($r=null),each$f(zr,function(jr){removeElement(jr,{scaleX:0,scaleY:0},$r,_r,function(){Br.parent&&Br.parent.remove(Br)})}),Fe.setItemGraphicEl(_r,null)}function getShapeStr(Fe,_r){return[Fe.getItemVisual(_r.dataIndex,"symbol")||"none",!!_r.symbolRepeat,!!_r.symbolClip].join(":")}function eachPath(Fe,_r,$r){each$f(Fe.__pictorialBundle.children(),function(Br){Br!==Fe.__pictorialBarRect&&_r.call($r,Br)})}function updateAttr(Fe,_r,$r,Br,Fr,zr){_r&&Fe.attr(_r),Br.symbolClip&&!Fr?$r&&Fe.attr($r):$r&&graphic$1[Fr?"updateProps":"initProps"](Fe,$r,Br.animationModel,Br.dataIndex,zr)}function updateCommon(Fe,_r,$r){var Br=$r.dataIndex,Fr=$r.itemModel,zr=Fr.getModel("emphasis"),jr=zr.getModel("itemStyle").getItemStyle(),Ur=Fr.getModel(["blur","itemStyle"]).getItemStyle(),Gr=Fr.getModel(["select","itemStyle"]).getItemStyle(),Yr=Fr.getShallow("cursor"),Kr=zr.get("focus"),Qr=zr.get("blurScope"),Jr=zr.get("scale");eachPath(Fe,function(ln){if(ln instanceof ZRImage$1){var dn=ln.style;ln.useStyle(extend$1({image:dn.image,x:dn.x,y:dn.y,width:dn.width,height:dn.height},$r.style))}else ln.useStyle($r.style);var hn=ln.ensureState("emphasis");hn.style=jr,Jr&&(hn.scaleX=ln.scaleX*1.1,hn.scaleY=ln.scaleY*1.1),ln.ensureState("blur").style=Ur,ln.ensureState("select").style=Gr,Yr&&(ln.cursor=Yr),ln.z2=$r.z2});var rn=_r.valueDim.posDesc[+($r.boundingLength>0)],an=Fe.__pictorialBarRect;setLabelStyle(an,getLabelStatesModels(Fr),{labelFetcher:_r.seriesModel,labelDataIndex:Br,defaultText:getDefaultLabel(_r.seriesModel.getData(),Br),inheritColor:$r.style.fill,defaultOpacity:$r.style.opacity,defaultOutsidePosition:rn}),toggleHoverEmphasis(Fe,Kr,Qr,zr.get("disabled"))}function toIntTimes(Fe){var _r=Math.round(Fe);return Math.abs(Fe-_r)<1e-4?_r:Math.ceil(Fe)}const PictorialBarView$1=PictorialBarView;var PictorialBarSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.hasSymbolVisual=!0,$r.defaultSymbol="roundRect",$r}return _r.prototype.getInitialData=function($r){return $r.stack=null,Fe.prototype.getInitialData.apply(this,arguments)},_r.type="series.pictorialBar",_r.dependencies=["grid"],_r.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),_r}(BaseBarSeriesModel$1);const PictorialBarSeriesModel$1=PictorialBarSeriesModel;function install$u(Fe){Fe.registerChartView(PictorialBarView$1),Fe.registerSeriesModel(PictorialBarSeriesModel$1),Fe.registerLayout(Fe.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),Fe.registerLayout(Fe.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r._layers=[],$r}return _r.prototype.render=function($r,Br,Fr){var zr=$r.getData(),jr=this,Ur=this.group,Gr=$r.getLayerSeries(),Yr=zr.getLayout("layoutInfo"),Kr=Yr.rect,Qr=Yr.boundaryGap;Ur.x=0,Ur.y=Kr.y+Qr[0];function Jr(dn){return dn.name}var rn=new DataDiffer$1(this._layersSeries||[],Gr,Jr,Jr),an=[];rn.add(bind$1(ln,this,"add")).update(bind$1(ln,this,"update")).remove(bind$1(ln,this,"remove")).execute();function ln(dn,hn,gn){var bn=jr._layers;if(dn==="remove"){Ur.remove(bn[hn]);return}for(var kn=[],Sn=[],_n,pn=Gr[hn].indices,Cn=0;Cn<pn.length;Cn++){var En=zr.getItemLayout(pn[Cn]),Pn=En.x,On=En.y0,jn=En.y;kn.push(Pn,On),Sn.push(Pn,On+jn),_n=zr.getItemVisual(pn[Cn],"style")}var Fn,Wn=zr.getItemLayout(pn[0]),Hn=$r.getModel("label"),qn=Hn.get("margin"),ni=$r.getModel("emphasis");if(dn==="add"){var oi=an[hn]=new Group$4;Fn=new ECPolygon({shape:{points:kn,stackedOnPoints:Sn,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),oi.add(Fn),Ur.add(oi),$r.isAnimationEnabled()&&Fn.setClipPath(createGridClipShape(Fn.getBoundingRect(),$r,function(){Fn.removeClipPath()}))}else{var oi=bn[gn];Fn=oi.childAt(0),Ur.add(oi),an[hn]=oi,updateProps$1(Fn,{shape:{points:kn,stackedOnPoints:Sn}},$r),saveOldStyle(Fn)}setLabelStyle(Fn,getLabelStatesModels($r),{labelDataIndex:pn[Cn-1],defaultText:zr.getName(pn[Cn-1]),inheritColor:_n.fill},{normal:{verticalAlign:"middle"}}),Fn.setTextConfig({position:null,local:!0});var wi=Fn.getTextContent();wi&&(wi.x=Wn.x-qn,wi.y=Wn.y0+Wn.y/2),Fn.useStyle(_n),zr.setItemGraphicEl(hn,Fn),setStatesStylesFromModel(Fn,$r),toggleHoverEmphasis(Fn,ni.get("focus"),ni.get("blurScope"),ni.get("disabled"))}this._layersSeries=Gr,this._layers=an},_r.type="themeRiver",_r}(ChartView$1);function createGridClipShape(Fe,_r,$r){var Br=new Rect$3({shape:{x:Fe.x-10,y:Fe.y-10,width:0,height:Fe.height+20}});return initProps(Br,{shape:{x:Fe.x-50,width:Fe.width+100,height:Fe.height+20}},_r,$r),Br}const ThemeRiverView$1=ThemeRiverView;var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function($r){Fe.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},_r.prototype.fixData=function($r){var Br=$r.length,Fr={},zr=groupData($r,function(Jr){return Fr.hasOwnProperty(Jr[0]+"")||(Fr[Jr[0]+""]=-1),Jr[2]}),jr=[];zr.buckets.each(function(Jr,rn){jr.push({name:rn,dataList:Jr})});for(var Ur=jr.length,Gr=0;Gr<Ur;++Gr){for(var Yr=jr[Gr].name,Kr=0;Kr<jr[Gr].dataList.length;++Kr){var Qr=jr[Gr].dataList[Kr][0]+"";Fr[Qr]=Gr}for(var Qr in Fr)Fr.hasOwnProperty(Qr)&&Fr[Qr]!==Gr&&(Fr[Qr]=Gr,$r[Br]=[Qr,0,Yr],Br++)}return $r},_r.prototype.getInitialData=function($r,Br){for(var Fr=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],zr=Fr.get("type"),jr=filter($r.data,function(an){return an[2]!==void 0}),Ur=this.fixData(jr||[]),Gr=[],Yr=this.nameMap=createHashMap(),Kr=0,Qr=0;Qr<Ur.length;++Qr)Gr.push(Ur[Qr][DATA_NAME_INDEX]),Yr.get(Ur[Qr][DATA_NAME_INDEX])||(Yr.set(Ur[Qr][DATA_NAME_INDEX],Kr),Kr++);var Jr=prepareSeriesDataSchema(Ur,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(zr)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,rn=new SeriesData$1(Jr,this);return rn.initData(Ur),rn},_r.prototype.getLayerSeries=function(){for(var $r=this.getData(),Br=$r.count(),Fr=[],zr=0;zr<Br;++zr)Fr[zr]=zr;var jr=$r.mapDimension("single"),Ur=groupData(Fr,function(Yr){return $r.get("name",Yr)}),Gr=[];return Ur.buckets.each(function(Yr,Kr){Yr.sort(function(Qr,Jr){return $r.get(jr,Qr)-$r.get(jr,Jr)}),Gr.push({name:Kr,indices:Yr})}),Gr},_r.prototype.getAxisTooltipData=function($r,Br,Fr){isArray$1($r)||($r=$r?[$r]:[]);for(var zr=this.getData(),jr=this.getLayerSeries(),Ur=[],Gr=jr.length,Yr,Kr=0;Kr<Gr;++Kr){for(var Qr=Number.MAX_VALUE,Jr=-1,rn=jr[Kr].indices.length,an=0;an<rn;++an){var ln=zr.get($r[0],jr[Kr].indices[an]),dn=Math.abs(ln-Br);dn<=Qr&&(Yr=ln,Qr=dn,Jr=jr[Kr].indices[an])}Ur.push(Jr)}return{dataIndices:Ur,nestestValue:Yr}},_r.prototype.formatTooltip=function($r,Br,Fr){var zr=this.getData(),jr=zr.getName($r),Ur=zr.get(zr.mapDimension("value"),$r);return createTooltipMarkup("nameValue",{name:jr,value:Ur})},_r.type="series.themeRiver",_r.dependencies=["singleAxis"],_r.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},_r}(SeriesModel$1);const ThemeRiverSeriesModel$1=ThemeRiverSeriesModel;function themeRiverLayout(Fe,_r){Fe.eachSeriesByType("themeRiver",function($r){var Br=$r.getData(),Fr=$r.coordinateSystem,zr={},jr=Fr.getRect();zr.rect=jr;var Ur=$r.get("boundaryGap"),Gr=Fr.getAxis();if(zr.boundaryGap=Ur,Gr.orient==="horizontal"){Ur[0]=parsePercent(Ur[0],jr.height),Ur[1]=parsePercent(Ur[1],jr.height);var Yr=jr.height-Ur[0]-Ur[1];doThemeRiverLayout(Br,$r,Yr)}else{Ur[0]=parsePercent(Ur[0],jr.width),Ur[1]=parsePercent(Ur[1],jr.width);var Kr=jr.width-Ur[0]-Ur[1];doThemeRiverLayout(Br,$r,Kr)}Br.setLayout("layoutInfo",zr)})}function doThemeRiverLayout(Fe,_r,$r){if(Fe.count())for(var Br=_r.coordinateSystem,Fr=_r.getLayerSeries(),zr=Fe.mapDimension("single"),jr=Fe.mapDimension("value"),Ur=map$1(Fr,function(dn){return map$1(dn.indices,function(hn){var gn=Br.dataToPoint(Fe.get(zr,hn));return gn[1]=Fe.get(jr,hn),gn})}),Gr=computeBaseline(Ur),Yr=Gr.y0,Kr=$r/Gr.max,Qr=Fr.length,Jr=Fr[0].indices.length,rn,an=0;an<Jr;++an){rn=Yr[an]*Kr,Fe.setItemLayout(Fr[0].indices[an],{layerIndex:0,x:Ur[0][an][0],y0:rn,y:Ur[0][an][1]*Kr});for(var ln=1;ln<Qr;++ln)rn+=Ur[ln-1][an][1]*Kr,Fe.setItemLayout(Fr[ln].indices[an],{layerIndex:ln,x:Ur[ln][an][0],y0:rn,y:Ur[ln][an][1]*Kr})}}function computeBaseline(Fe){for(var _r=Fe.length,$r=Fe[0].length,Br=[],Fr=[],zr=0,jr=0;jr<$r;++jr){for(var Ur=0,Gr=0;Gr<_r;++Gr)Ur+=Fe[Gr][jr][1];Ur>zr&&(zr=Ur),Br.push(Ur)}for(var Yr=0;Yr<$r;++Yr)Fr[Yr]=(zr-Br[Yr])/2;zr=0;for(var Kr=0;Kr<$r;++Kr){var Qr=Br[Kr]+Fr[Kr];Qr>zr&&(zr=Qr)}return{y0:Fr,max:zr}}function install$t(Fe){Fe.registerChartView(ThemeRiverView$1),Fe.registerSeriesModel(ThemeRiverSeriesModel$1),Fe.registerLayout(themeRiverLayout),Fe.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr,zr){var jr=Fe.call(this)||this;jr.z2=DEFAULT_SECTOR_Z,jr.textConfig={inside:!0},getECData(jr).seriesIndex=Br.seriesIndex;var Ur=new ZRText$1({z2:DEFAULT_TEXT_Z,silent:$r.getModel().get(["label","silent"])});return jr.setTextContent(Ur),jr.updateData(!0,$r,Br,Fr,zr),jr}return _r.prototype.updateData=function($r,Br,Fr,zr,jr){this.node=Br,Br.piece=this,Fr=Fr||this._seriesModel,zr=zr||this._ecModel;var Ur=this;getECData(Ur).dataIndex=Br.dataIndex;var Gr=Br.getModel(),Yr=Gr.getModel("emphasis"),Kr=Br.getLayout(),Qr=extend$1({},Kr);Qr.label=null;var Jr=Br.getVisual("style");Jr.lineJoin="bevel";var rn=Br.getVisual("decal");rn&&(Jr.decal=createOrUpdatePatternFromDecal(rn,jr));var an=getSectorCornerRadius(Gr.getModel("itemStyle"),Qr,!0);extend$1(Qr,an),each$f(SPECIAL_STATES,function(gn){var bn=Ur.ensureState(gn),kn=Gr.getModel([gn,"itemStyle"]);bn.style=kn.getItemStyle();var Sn=getSectorCornerRadius(kn,Qr);Sn&&(bn.shape=Sn)}),$r?(Ur.setShape(Qr),Ur.shape.r=Kr.r0,initProps(Ur,{shape:{r:Kr.r}},Fr,Br.dataIndex)):(updateProps$1(Ur,{shape:Qr},Fr),saveOldStyle(Ur)),Ur.useStyle(Jr),this._updateLabel(Fr);var ln=Gr.getShallow("cursor");ln&&Ur.attr("cursor",ln),this._seriesModel=Fr||this._seriesModel,this._ecModel=zr||this._ecModel;var dn=Yr.get("focus"),hn=dn==="ancestor"?Br.getAncestorsIndices():dn==="descendant"?Br.getDescendantIndices():dn;toggleHoverEmphasis(this,hn,Yr.get("blurScope"),Yr.get("disabled"))},_r.prototype._updateLabel=function($r){var Br=this,Fr=this.node.getModel(),zr=Fr.getModel("label"),jr=this.node.getLayout(),Ur=jr.endAngle-jr.startAngle,Gr=(jr.startAngle+jr.endAngle)/2,Yr=Math.cos(Gr),Kr=Math.sin(Gr),Qr=this,Jr=Qr.getTextContent(),rn=this.node.dataIndex,an=zr.get("minAngle")/180*Math.PI,ln=zr.get("show")&&!(an!=null&&Math.abs(Ur)<an);Jr.ignore=!ln,each$f(DISPLAY_STATES,function(hn){var gn=hn==="normal"?Fr.getModel("label"):Fr.getModel([hn,"label"]),bn=hn==="normal",kn=bn?Jr:Jr.ensureState(hn),Sn=$r.getFormattedLabel(rn,hn);bn&&(Sn=Sn||Br.node.name),kn.style=createTextStyle$1(gn,{},null,hn!=="normal",!0),Sn&&(kn.style.text=Sn);var _n=gn.get("show");_n!=null&&!bn&&(kn.ignore=!_n);var pn=dn(gn,"position"),Cn=bn?Qr:Qr.states[hn],En=Cn.style.fill;Cn.textConfig={outsideFill:gn.get("color")==="inherit"?En:null,inside:pn!=="outside"};var Pn,On=dn(gn,"distance")||0,jn=dn(gn,"align");pn==="outside"?(Pn=jr.r+On,jn=Gr>Math.PI/2?"right":"left"):!jn||jn==="center"?(Ur===2*Math.PI&&jr.r0===0?Pn=0:Pn=(jr.r+jr.r0)/2,jn="center"):jn==="left"?(Pn=jr.r0+On,Gr>Math.PI/2&&(jn="right")):jn==="right"&&(Pn=jr.r-On,Gr>Math.PI/2&&(jn="left")),kn.style.align=jn,kn.style.verticalAlign=dn(gn,"verticalAlign")||"middle",kn.x=Pn*Yr+jr.cx,kn.y=Pn*Kr+jr.cy;var Fn=dn(gn,"rotate"),Wn=0;Fn==="radial"?(Wn=normalizeRadian(-Gr),Wn>Math.PI/2&&Wn<Math.PI*1.5&&(Wn+=Math.PI)):Fn==="tangential"?(Wn=Math.PI/2-Gr,Wn>Math.PI/2?Wn-=Math.PI:Wn<-Math.PI/2&&(Wn+=Math.PI)):isNumber(Fn)&&(Wn=Fn*Math.PI/180),kn.rotation=normalizeRadian(Wn)});function dn(hn,gn){var bn=hn.get(gn);return bn??zr.get(gn)}Jr.dirtyStyle()},_r}(Sector$1);const SunburstPiece$1=SunburstPiece;var ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(Fe){Fe.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(_r,$r){$r.eachComponent({mainType:"series",subType:"sunburst",query:_r},Br);function Br(Fr,zr){var jr=retrieveTargetInfo(_r,[ROOT_TO_NODE_ACTION],Fr);if(jr){var Ur=Fr.getViewRoot();Ur&&(_r.direction=aboveViewRoot(Ur,jr.node)?"rollUp":"drillDown"),Fr.resetViewRoot(jr.node)}}}),Fe.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(_r,$r,Br){_r=extend$1({},_r),$r.eachComponent({mainType:"series",subType:"sunburst",query:_r},Fr);function Fr(zr){var jr=retrieveTargetInfo(_r,[HIGHLIGHT_ACTION],zr);jr&&(_r.dataIndex=jr.node.dataIndex)}Br.dispatchAction(extend$1(_r,{type:"highlight"}))}),Fe.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(_r,$r,Br){_r=extend$1({},_r),Br.dispatchAction(extend$1(_r,{type:"downplay"}))})}var SunburstView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr,zr){var jr=this;this.seriesModel=$r,this.api=Fr,this.ecModel=Br;var Ur=$r.getData(),Gr=Ur.tree.root,Yr=$r.getViewRoot(),Kr=this.group,Qr=$r.get("renderLabelForZeroData"),Jr=[];Yr.eachNode(function(gn){Jr.push(gn)});var rn=this._oldChildren||[];an(Jr,rn),hn(Gr,Yr),this._initEvents(),this._oldChildren=Jr;function an(gn,bn){if(gn.length===0&&bn.length===0)return;new DataDiffer$1(bn,gn,kn,kn).add(Sn).update(Sn).remove(curry$1(Sn,null)).execute();function kn(_n){return _n.getId()}function Sn(_n,pn){var Cn=_n==null?null:gn[_n],En=pn==null?null:bn[pn];ln(Cn,En)}}function ln(gn,bn){if(!Qr&&gn&&!gn.getValue()&&(gn=null),gn!==Gr&&bn!==Gr){if(bn&&bn.piece)gn?(bn.piece.updateData(!1,gn,$r,Br,Fr),Ur.setItemGraphicEl(gn.dataIndex,bn.piece)):dn(bn);else if(gn){var kn=new SunburstPiece$1(gn,$r,Br,Fr);Kr.add(kn),Ur.setItemGraphicEl(gn.dataIndex,kn)}}}function dn(gn){gn&&gn.piece&&(Kr.remove(gn.piece),gn.piece=null)}function hn(gn,bn){bn.depth>0?(jr.virtualPiece?jr.virtualPiece.updateData(!1,gn,$r,Br,Fr):(jr.virtualPiece=new SunburstPiece$1(gn,$r,Br,Fr),Kr.add(jr.virtualPiece)),bn.piece.off("click"),jr.virtualPiece.on("click",function(kn){jr._rootToNode(bn.parentNode)})):jr.virtualPiece&&(Kr.remove(jr.virtualPiece),jr.virtualPiece=null)}},_r.prototype._initEvents=function(){var $r=this;this.group.off("click"),this.group.on("click",function(Br){var Fr=!1,zr=$r.seriesModel.getViewRoot();zr.eachNode(function(jr){if(!Fr&&jr.piece&&jr.piece===Br.target){var Ur=jr.getModel().get("nodeClick");if(Ur==="rootToNode")$r._rootToNode(jr);else if(Ur==="link"){var Gr=jr.getModel(),Yr=Gr.get("link");if(Yr){var Kr=Gr.get("target",!0)||"_blank";windowOpen(Yr,Kr)}}Fr=!0}})})},_r.prototype._rootToNode=function($r){$r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:$r})},_r.prototype.containPoint=function($r,Br){var Fr=Br.getData(),zr=Fr.getItemLayout(0);if(zr){var jr=$r[0]-zr.cx,Ur=$r[1]-zr.cy,Gr=Math.sqrt(jr*jr+Ur*Ur);return Gr<=zr.r&&Gr>=zr.r0}},_r.type="sunburst",_r}(ChartView$1);const SunburstView$1=SunburstView;var SunburstSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.ignoreStyleOnData=!0,$r}return _r.prototype.getInitialData=function($r,Br){var Fr={name:$r.name,children:$r.data};completeTreeValue(Fr);var zr=this._levelModels=map$1($r.levels||[],function(Gr){return new Model$1(Gr,this,Br)},this),jr=Tree$1.createTree(Fr,this,Ur);function Ur(Gr){Gr.wrapMethod("getItemModel",function(Yr,Kr){var Qr=jr.getNodeByDataIndex(Kr),Jr=zr[Qr.depth];return Jr&&(Yr.parentModel=Jr),Yr})}return jr.data},_r.prototype.optionUpdated=function(){this.resetViewRoot()},_r.prototype.getDataParams=function($r){var Br=Fe.prototype.getDataParams.apply(this,arguments),Fr=this.getData().tree.getNodeByDataIndex($r);return Br.treePathInfo=wrapTreePathInfo(Fr,this),Br},_r.prototype.getLevelModel=function($r){return this._levelModels&&this._levelModels[$r.depth]},_r.prototype.getViewRoot=function(){return this._viewRoot},_r.prototype.resetViewRoot=function($r){$r?this._viewRoot=$r:$r=this._viewRoot;var Br=this.getRawData().tree.root;(!$r||$r!==Br&&!Br.contains($r))&&(this._viewRoot=Br)},_r.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},_r.type="series.sunburst",_r.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},_r}(SeriesModel$1);function completeTreeValue(Fe){var _r=0;each$f(Fe.children,function(Br){completeTreeValue(Br);var Fr=Br.value;isArray$1(Fr)&&(Fr=Fr[0]),_r+=Fr});var $r=Fe.value;isArray$1($r)&&($r=$r[0]),($r==null||isNaN($r))&&($r=_r),$r<0&&($r=0),isArray$1(Fe.value)?Fe.value[0]=$r:Fe.value=$r}const SunburstSeriesModel$1=SunburstSeriesModel;var RADIAN=Math.PI/180;function sunburstLayout(Fe,_r,$r){_r.eachSeriesByType(Fe,function(Br){var Fr=Br.get("center"),zr=Br.get("radius");isArray$1(zr)||(zr=[0,zr]),isArray$1(Fr)||(Fr=[Fr,Fr]);var jr=$r.getWidth(),Ur=$r.getHeight(),Gr=Math.min(jr,Ur),Yr=parsePercent(Fr[0],jr),Kr=parsePercent(Fr[1],Ur),Qr=parsePercent(zr[0],Gr/2),Jr=parsePercent(zr[1],Gr/2),rn=-Br.get("startAngle")*RADIAN,an=Br.get("minAngle")*RADIAN,ln=Br.getData().tree.root,dn=Br.getViewRoot(),hn=dn.depth,gn=Br.get("sort");gn!=null&&initChildren(dn,gn);var bn=0;each$f(dn.children,function(qn){!isNaN(qn.getValue())&&bn++});var kn=dn.getValue(),Sn=Math.PI/(kn||bn)*2,_n=dn.depth>0,pn=dn.height-(_n?-1:1),Cn=(Jr-Qr)/(pn||1),En=Br.get("clockwise"),Pn=Br.get("stillShowZeroSum"),On=En?1:-1,jn=function(qn,ni){if(qn){var oi=ni;if(qn!==ln){var wi=qn.getValue(),Ci=kn===0&&Pn?Sn:wi*Sn;Ci<an&&(Ci=an),oi=ni+On*Ci;var Fi=qn.depth-hn-(_n?-1:1),Zn=Qr+Cn*Fi,Gn=Qr+Cn*(Fi+1),ui=Br.getLevelModel(qn);if(ui){var Ni=ui.get("r0",!0),$i=ui.get("r",!0),Vi=ui.get("radius",!0);Vi!=null&&(Ni=Vi[0],$i=Vi[1]),Ni!=null&&(Zn=parsePercent(Ni,Gr/2)),$i!=null&&(Gn=parsePercent($i,Gr/2))}qn.setLayout({angle:Ci,startAngle:ni,endAngle:oi,clockwise:En,cx:Yr,cy:Kr,r0:Zn,r:Gn})}if(qn.children&&qn.children.length){var ji=0;each$f(qn.children,function(lo){ji+=jn(lo,ni+ji)})}return oi-ni}};if(_n){var Fn=Qr,Wn=Qr+Cn,Hn=Math.PI*2;ln.setLayout({angle:Hn,startAngle:rn,endAngle:rn+Hn,clockwise:En,cx:Yr,cy:Kr,r0:Fn,r:Wn})}jn(dn,rn)})}function initChildren(Fe,_r){var $r=Fe.children||[];Fe.children=sort($r,_r),$r.length&&each$f(Fe.children,function(Br){initChildren(Br,_r)})}function sort(Fe,_r){if(isFunction(_r)){var $r=map$1(Fe,function(Fr,zr){var jr=Fr.getValue();return{params:{depth:Fr.depth,height:Fr.height,dataIndex:Fr.dataIndex,getValue:function(){return jr}},index:zr}});return $r.sort(function(Fr,zr){return _r(Fr.params,zr.params)}),map$1($r,function(Fr){return Fe[Fr.index]})}else{var Br=_r==="asc";return Fe.sort(function(Fr,zr){var jr=(Fr.getValue()-zr.getValue())*(Br?1:-1);return jr===0?(Fr.dataIndex-zr.dataIndex)*(Br?-1:1):jr})}}function sunburstVisual(Fe){var _r={};function $r(Br,Fr,zr){for(var jr=Br;jr&&jr.depth>1;)jr=jr.parentNode;var Ur=Fr.getColorFromPalette(jr.name||jr.dataIndex+"",_r);return Br.depth>1&&isString(Ur)&&(Ur=lift(Ur,(Br.depth-1)/(zr-1)*.5)),Ur}Fe.eachSeriesByType("sunburst",function(Br){var Fr=Br.getData(),zr=Fr.tree;zr.eachNode(function(jr){var Ur=jr.getModel(),Gr=Ur.getModel("itemStyle").getItemStyle();Gr.fill||(Gr.fill=$r(jr,Br,zr.root.height));var Yr=Fr.ensureUniqueItemVisual(jr.dataIndex,"style");extend$1(Yr,Gr)})})}function install$s(Fe){Fe.registerChartView(SunburstView$1),Fe.registerSeriesModel(SunburstSeriesModel$1),Fe.registerLayout(curry$1(sunburstLayout,"sunburst")),Fe.registerProcessor(curry$1(dataFilter$1,"sunburst")),Fe.registerVisual(sunburstVisual),installSunburstAction(Fe)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},_r.prototype.getInitialData=function($r,Br){return createSeriesData(null,this)},_r.prototype.getDataParams=function($r,Br,Fr){var zr=Fe.prototype.getDataParams.call(this,$r,Br);return Fr&&(zr.info=customInnerStore(Fr).info),zr},_r.type="series.custom",_r.dependencies=["grid","polar","geo","singleAxis","calendar"],_r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},_r}(SeriesModel$1);const CustomSeriesModel$1=CustomSeriesModel;function dataToCoordSize$3(Fe,_r){return _r=_r||[0,0],map$1(["x","y"],function($r,Br){var Fr=this.getAxis($r),zr=_r[Br],jr=Fe[Br]/2;return Fr.type==="category"?Fr.getBandWidth():Math.abs(Fr.dataToCoord(zr-jr)-Fr.dataToCoord(zr+jr))},this)}function cartesianPrepareCustom(Fe){var _r=Fe.master.getRect();return{coordSys:{type:"cartesian2d",x:_r.x,y:_r.y,width:_r.width,height:_r.height},api:{coord:function($r){return Fe.dataToPoint($r)},size:bind$1(dataToCoordSize$3,Fe)}}}function dataToCoordSize$2(Fe,_r){return _r=_r||[0,0],map$1([0,1],function($r){var Br=_r[$r],Fr=Fe[$r]/2,zr=[],jr=[];return zr[$r]=Br-Fr,jr[$r]=Br+Fr,zr[1-$r]=jr[1-$r]=_r[1-$r],Math.abs(this.dataToPoint(zr)[$r]-this.dataToPoint(jr)[$r])},this)}function geoPrepareCustom(Fe){var _r=Fe.getBoundingRect();return{coordSys:{type:"geo",x:_r.x,y:_r.y,width:_r.width,height:_r.height,zoom:Fe.getZoom()},api:{coord:function($r){return Fe.dataToPoint($r)},size:bind$1(dataToCoordSize$2,Fe)}}}function dataToCoordSize$1(Fe,_r){var $r=this.getAxis(),Br=_r instanceof Array?_r[0]:_r,Fr=(Fe instanceof Array?Fe[0]:Fe)/2;return $r.type==="category"?$r.getBandWidth():Math.abs($r.dataToCoord(Br-Fr)-$r.dataToCoord(Br+Fr))}function singlePrepareCustom(Fe){var _r=Fe.getRect();return{coordSys:{type:"singleAxis",x:_r.x,y:_r.y,width:_r.width,height:_r.height},api:{coord:function($r){return Fe.dataToPoint($r)},size:bind$1(dataToCoordSize$1,Fe)}}}function dataToCoordSize(Fe,_r){return _r=_r||[0,0],map$1(["Radius","Angle"],function($r,Br){var Fr="get"+$r+"Axis",zr=this[Fr](),jr=_r[Br],Ur=Fe[Br]/2,Gr=zr.type==="category"?zr.getBandWidth():Math.abs(zr.dataToCoord(jr-Ur)-zr.dataToCoord(jr+Ur));return $r==="Angle"&&(Gr=Gr*Math.PI/180),Gr},this)}function polarPrepareCustom(Fe){var _r=Fe.getRadiusAxis(),$r=Fe.getAngleAxis(),Br=_r.getExtent();return Br[0]>Br[1]&&Br.reverse(),{coordSys:{type:"polar",cx:Fe.cx,cy:Fe.cy,r:Br[1],r0:Br[0]},api:{coord:function(Fr){var zr=_r.dataToRadius(Fr[0]),jr=$r.dataToAngle(Fr[1]),Ur=Fe.coordToPoint([zr,jr]);return Ur.push(zr,jr*Math.PI/180),Ur},size:bind$1(dataToCoordSize,Fe)}}}function calendarPrepareCustom(Fe){var _r=Fe.getRect(),$r=Fe.getRangeInfo();return{coordSys:{type:"calendar",x:_r.x,y:_r.y,width:_r.width,height:_r.height,cellWidth:Fe.getCellWidth(),cellHeight:Fe.getCellHeight(),rangeInfo:{start:$r.start,end:$r.end,weeks:$r.weeks,dayCount:$r.allDay}},api:{coord:function(Br,Fr){return Fe.dataToPoint(Br,Fr)}}}}function isEC4CompatibleStyle(Fe,_r,$r,Br){return Fe&&(Fe.legacy||Fe.legacy!==!1&&!$r&&!Br&&_r!=="tspan"&&(_r==="text"||hasOwn(Fe,"text")))}function convertFromEC4CompatibleStyle(Fe,_r,$r){var Br=Fe,Fr,zr,jr;if(_r==="text")jr=Br;else{jr={},hasOwn(Br,"text")&&(jr.text=Br.text),hasOwn(Br,"rich")&&(jr.rich=Br.rich),hasOwn(Br,"textFill")&&(jr.fill=Br.textFill),hasOwn(Br,"textStroke")&&(jr.stroke=Br.textStroke),hasOwn(Br,"fontFamily")&&(jr.fontFamily=Br.fontFamily),hasOwn(Br,"fontSize")&&(jr.fontSize=Br.fontSize),hasOwn(Br,"fontStyle")&&(jr.fontStyle=Br.fontStyle),hasOwn(Br,"fontWeight")&&(jr.fontWeight=Br.fontWeight),zr={type:"text",style:jr,silent:!0},Fr={};var Ur=hasOwn(Br,"textPosition");$r?Fr.position=Ur?Br.textPosition:"inside":Ur&&(Fr.position=Br.textPosition),hasOwn(Br,"textPosition")&&(Fr.position=Br.textPosition),hasOwn(Br,"textOffset")&&(Fr.offset=Br.textOffset),hasOwn(Br,"textRotation")&&(Fr.rotation=Br.textRotation),hasOwn(Br,"textDistance")&&(Fr.distance=Br.textDistance)}return convertEC4CompatibleRichItem(jr,Fe),each$f(jr.rich,function(Gr){convertEC4CompatibleRichItem(Gr,Gr)}),{textConfig:Fr,textContent:zr}}function convertEC4CompatibleRichItem(Fe,_r){_r&&(_r.font=_r.textFont||_r.font,hasOwn(_r,"textStrokeWidth")&&(Fe.lineWidth=_r.textStrokeWidth),hasOwn(_r,"textAlign")&&(Fe.align=_r.textAlign),hasOwn(_r,"textVerticalAlign")&&(Fe.verticalAlign=_r.textVerticalAlign),hasOwn(_r,"textLineHeight")&&(Fe.lineHeight=_r.textLineHeight),hasOwn(_r,"textWidth")&&(Fe.width=_r.textWidth),hasOwn(_r,"textHeight")&&(Fe.height=_r.textHeight),hasOwn(_r,"textBackgroundColor")&&(Fe.backgroundColor=_r.textBackgroundColor),hasOwn(_r,"textPadding")&&(Fe.padding=_r.textPadding),hasOwn(_r,"textBorderColor")&&(Fe.borderColor=_r.textBorderColor),hasOwn(_r,"textBorderWidth")&&(Fe.borderWidth=_r.textBorderWidth),hasOwn(_r,"textBorderRadius")&&(Fe.borderRadius=_r.textBorderRadius),hasOwn(_r,"textBoxShadowColor")&&(Fe.shadowColor=_r.textBoxShadowColor),hasOwn(_r,"textBoxShadowBlur")&&(Fe.shadowBlur=_r.textBoxShadowBlur),hasOwn(_r,"textBoxShadowOffsetX")&&(Fe.shadowOffsetX=_r.textBoxShadowOffsetX),hasOwn(_r,"textBoxShadowOffsetY")&&(Fe.shadowOffsetY=_r.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(Fe,_r,$r){var Br=Fe;Br.textPosition=Br.textPosition||$r.position||"inside",$r.offset!=null&&(Br.textOffset=$r.offset),$r.rotation!=null&&(Br.textRotation=$r.rotation),$r.distance!=null&&(Br.textDistance=$r.distance);var Fr=Br.textPosition.indexOf("inside")>=0,zr=Fe.fill||"#000";convertToEC4RichItem(Br,_r);var jr=Br.textFill==null;return Fr?jr&&(Br.textFill=$r.insideFill||"#fff",!Br.textStroke&&$r.insideStroke&&(Br.textStroke=$r.insideStroke),!Br.textStroke&&(Br.textStroke=zr),Br.textStrokeWidth==null&&(Br.textStrokeWidth=2)):(jr&&(Br.textFill=Fe.fill||$r.outsideFill||"#000"),!Br.textStroke&&$r.outsideStroke&&(Br.textStroke=$r.outsideStroke)),Br.text=_r.text,Br.rich=_r.rich,each$f(_r.rich,function(Ur){convertToEC4RichItem(Ur,Ur)}),Br}function convertToEC4RichItem(Fe,_r){_r&&(hasOwn(_r,"fill")&&(Fe.textFill=_r.fill),hasOwn(_r,"stroke")&&(Fe.textStroke=_r.fill),hasOwn(_r,"lineWidth")&&(Fe.textStrokeWidth=_r.lineWidth),hasOwn(_r,"font")&&(Fe.font=_r.font),hasOwn(_r,"fontStyle")&&(Fe.fontStyle=_r.fontStyle),hasOwn(_r,"fontWeight")&&(Fe.fontWeight=_r.fontWeight),hasOwn(_r,"fontSize")&&(Fe.fontSize=_r.fontSize),hasOwn(_r,"fontFamily")&&(Fe.fontFamily=_r.fontFamily),hasOwn(_r,"align")&&(Fe.textAlign=_r.align),hasOwn(_r,"verticalAlign")&&(Fe.textVerticalAlign=_r.verticalAlign),hasOwn(_r,"lineHeight")&&(Fe.textLineHeight=_r.lineHeight),hasOwn(_r,"width")&&(Fe.textWidth=_r.width),hasOwn(_r,"height")&&(Fe.textHeight=_r.height),hasOwn(_r,"backgroundColor")&&(Fe.textBackgroundColor=_r.backgroundColor),hasOwn(_r,"padding")&&(Fe.textPadding=_r.padding),hasOwn(_r,"borderColor")&&(Fe.textBorderColor=_r.borderColor),hasOwn(_r,"borderWidth")&&(Fe.textBorderWidth=_r.borderWidth),hasOwn(_r,"borderRadius")&&(Fe.textBorderRadius=_r.borderRadius),hasOwn(_r,"shadowColor")&&(Fe.textBoxShadowColor=_r.shadowColor),hasOwn(_r,"shadowBlur")&&(Fe.textBoxShadowBlur=_r.shadowBlur),hasOwn(_r,"shadowOffsetX")&&(Fe.textBoxShadowOffsetX=_r.shadowOffsetX),hasOwn(_r,"shadowOffsetY")&&(Fe.textBoxShadowOffsetY=_r.shadowOffsetY),hasOwn(_r,"textShadowColor")&&(Fe.textShadowColor=_r.textShadowColor),hasOwn(_r,"textShadowBlur")&&(Fe.textShadowBlur=_r.textShadowBlur),hasOwn(_r,"textShadowOffsetX")&&(Fe.textShadowOffsetX=_r.textShadowOffsetX),hasOwn(_r,"textShadowOffsetY")&&(Fe.textShadowOffsetY=_r.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(Fe,_r){return Fe[_r]=1,Fe},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(Fe,_r,$r,Br,Fr){var zr=Fe+"Animation",jr=getAnimationConfig(Fe,Br,Fr)||{},Ur=transitionInnerStore(_r).userDuring;return jr.duration>0&&(jr.during=Ur?bind$1(duringCall,{el:_r,userDuring:Ur}):null,jr.setToFinal=!0,jr.scope=Fe),extend$1(jr,$r[zr]),jr}function applyUpdateTransition(Fe,_r,$r,Br){Br=Br||{};var Fr=Br.dataIndex,zr=Br.isInit,jr=Br.clearStyle,Ur=$r.isAnimationEnabled(),Gr=transitionInnerStore(Fe),Yr=_r.style;Gr.userDuring=_r.during;var Kr={},Qr={};if(prepareTransformAllPropsFinal(Fe,_r,Qr),prepareShapeOrExtraAllPropsFinal("shape",_r,Qr),prepareShapeOrExtraAllPropsFinal("extra",_r,Qr),!zr&&Ur&&(prepareTransformTransitionFrom(Fe,_r,Kr),prepareShapeOrExtraTransitionFrom("shape",Fe,_r,Kr),prepareShapeOrExtraTransitionFrom("extra",Fe,_r,Kr),prepareStyleTransitionFrom(Fe,_r,Yr,Kr)),Qr.style=Yr,applyPropsDirectly(Fe,Qr,jr),applyMiscProps(Fe,_r),Ur)if(zr){var Jr={};each$f(ELEMENT_ANIMATABLE_PROPS,function(an){var ln=an?_r[an]:_r;ln&&ln.enterFrom&&(an&&(Jr[an]=Jr[an]||{}),extend$1(an?Jr[an]:Jr,ln.enterFrom))});var rn=getElementAnimationConfig("enter",Fe,_r,$r,Fr);rn.duration>0&&Fe.animateFrom(Jr,rn)}else applyPropsTransition(Fe,_r,Fr||0,$r,Kr);updateLeaveTo(Fe,_r),Yr?Fe.dirty():Fe.markRedraw()}function updateLeaveTo(Fe,_r){for(var $r=transitionInnerStore(Fe).leaveToProps,Br=0;Br<ELEMENT_ANIMATABLE_PROPS.length;Br++){var Fr=ELEMENT_ANIMATABLE_PROPS[Br],zr=Fr?_r[Fr]:_r;zr&&zr.leaveTo&&($r||($r=transitionInnerStore(Fe).leaveToProps={}),Fr&&($r[Fr]=$r[Fr]||{}),extend$1(Fr?$r[Fr]:$r,zr.leaveTo))}}function applyLeaveTransition(Fe,_r,$r,Br){if(Fe){var Fr=Fe.parent,zr=transitionInnerStore(Fe).leaveToProps;if(zr){var jr=getElementAnimationConfig("update",Fe,_r,$r,0);jr.done=function(){Fr.remove(Fe),Br&&Br()},Fe.animateTo(zr,jr)}else Fr.remove(Fe),Br&&Br()}}function isTransitionAll(Fe){return Fe==="all"}function applyPropsDirectly(Fe,_r,$r){var Br=_r.style;if(!Fe.isGroup&&Br){if($r){Fe.useStyle({});for(var Fr=Fe.animators,zr=0;zr<Fr.length;zr++){var jr=Fr[zr];jr.targetName==="style"&&jr.changeTarget(Fe.style)}}Fe.setStyle(Br)}_r&&(_r.style=null,_r&&Fe.attr(_r),_r.style=Br)}function applyPropsTransition(Fe,_r,$r,Br,Fr){if(Fr){var zr=getElementAnimationConfig("update",Fe,_r,Br,$r);zr.duration>0&&Fe.animateFrom(Fr,zr)}}function applyMiscProps(Fe,_r){hasOwn(_r,"silent")&&(Fe.silent=_r.silent),hasOwn(_r,"ignore")&&(Fe.ignore=_r.ignore),Fe instanceof Displayable$1&&hasOwn(_r,"invisible")&&(Fe.invisible=_r.invisible),Fe instanceof Path$1&&hasOwn(_r,"autoBatch")&&(Fe.autoBatch=_r.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(Fe,_r){return tmpDuringScope.el[Fe]=_r,this},getTransform:function(Fe){return tmpDuringScope.el[Fe]},setShape:function(Fe,_r){var $r=tmpDuringScope.el,Br=$r.shape||($r.shape={});return Br[Fe]=_r,$r.dirtyShape&&$r.dirtyShape(),this},getShape:function(Fe){var _r=tmpDuringScope.el.shape;if(_r)return _r[Fe]},setStyle:function(Fe,_r){var $r=tmpDuringScope.el,Br=$r.style;return Br&&(Br[Fe]=_r,$r.dirtyStyle&&$r.dirtyStyle()),this},getStyle:function(Fe){var _r=tmpDuringScope.el.style;if(_r)return _r[Fe]},setExtra:function(Fe,_r){var $r=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return $r[Fe]=_r,this},getExtra:function(Fe){var _r=tmpDuringScope.el.extra;if(_r)return _r[Fe]}};function duringCall(){var Fe=this,_r=Fe.el;if(_r){var $r=transitionInnerStore(_r).userDuring,Br=Fe.userDuring;if($r!==Br){Fe.el=Fe.userDuring=null;return}tmpDuringScope.el=_r,Br(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(Fe,_r,$r,Br){var Fr=$r[Fe];if(Fr){var zr=_r[Fe],jr;if(zr){var Ur=$r.transition,Gr=Fr.transition;if(Gr)if(!jr&&(jr=Br[Fe]={}),isTransitionAll(Gr))extend$1(jr,zr);else for(var Yr=normalizeToArray(Gr),Kr=0;Kr<Yr.length;Kr++){var Qr=Yr[Kr],Jr=zr[Qr];jr[Qr]=Jr}else if(isTransitionAll(Ur)||indexOf(Ur,Fe)>=0){!jr&&(jr=Br[Fe]={});for(var rn=keys(zr),Kr=0;Kr<rn.length;Kr++){var Qr=rn[Kr],Jr=zr[Qr];isNonStyleTransitionEnabled(Fr[Qr],Jr)&&(jr[Qr]=Jr)}}}}}function prepareShapeOrExtraAllPropsFinal(Fe,_r,$r){var Br=_r[Fe];if(Br)for(var Fr=$r[Fe]={},zr=keys(Br),jr=0;jr<zr.length;jr++){var Ur=zr[jr];Fr[Ur]=cloneValue(Br[Ur])}}function prepareTransformTransitionFrom(Fe,_r,$r){for(var Br=_r.transition,Fr=isTransitionAll(Br)?TRANSFORMABLE_PROPS:normalizeToArray(Br||[]),zr=0;zr<Fr.length;zr++){var jr=Fr[zr];if(!(jr==="style"||jr==="shape"||jr==="extra")){var Ur=Fe[jr];$r[jr]=Ur}}}function prepareTransformAllPropsFinal(Fe,_r,$r){for(var Br=0;Br<LEGACY_TRANSFORM_PROPS.length;Br++){var Fr=LEGACY_TRANSFORM_PROPS[Br],zr=LEGACY_TRANSFORM_PROPS_MAP[Fr],jr=_r[Fr];jr&&($r[zr[0]]=jr[0],$r[zr[1]]=jr[1])}for(var Br=0;Br<TRANSFORMABLE_PROPS.length;Br++){var Ur=TRANSFORMABLE_PROPS[Br];_r[Ur]!=null&&($r[Ur]=_r[Ur])}}function prepareStyleTransitionFrom(Fe,_r,$r,Br){if($r){var Fr=Fe.style,zr;if(Fr){var jr=$r.transition,Ur=_r.transition;if(jr&&!isTransitionAll(jr)){var Gr=normalizeToArray(jr);!zr&&(zr=Br.style={});for(var Yr=0;Yr<Gr.length;Yr++){var Kr=Gr[Yr],Qr=Fr[Kr];zr[Kr]=Qr}}else if(Fe.getAnimationStyleProps&&(isTransitionAll(Ur)||isTransitionAll(jr)||indexOf(Ur,"style")>=0)){var Jr=Fe.getAnimationStyleProps(),rn=Jr?Jr.style:null;if(rn){!zr&&(zr=Br.style={});for(var an=keys($r),Yr=0;Yr<an.length;Yr++){var Kr=an[Yr];if(rn[Kr]){var Qr=Fr[Kr];zr[Kr]=Qr}}}}}}}function isNonStyleTransitionEnabled(Fe,_r){return isArrayLike(Fe)?Fe!==_r:Fe!=null&&isFinite(Fe)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(Fe){Fe.stopAnimation("keyframe"),Fe.attr(getStateToRestore(Fe))}function applyKeyframeAnimation(Fe,_r,$r){if(!(!$r.isAnimationEnabled()||!_r)){if(isArray$1(_r)){each$f(_r,function(Ur){applyKeyframeAnimation(Fe,Ur,$r)});return}var Br=_r.keyframes,Fr=_r.duration;if($r&&Fr==null){var zr=getAnimationConfig("enter",$r,0);Fr=zr&&zr.duration}if(!(!Br||!Fr)){var jr=getStateToRestore(Fe);each$f(ELEMENT_ANIMATABLE_PROPS,function(Ur){if(!(Ur&&!Fe[Ur])){var Gr;Br.sort(function(Yr,Kr){return Yr.percent-Kr.percent}),each$f(Br,function(Yr){var Kr=Fe.animators,Qr=Ur?Yr[Ur]:Yr;if(Qr){var Jr=keys(Qr);if(Ur||(Jr=filter(Jr,function(ln){return indexOf(KEYFRAME_EXCLUDE_KEYS,ln)<0})),!!Jr.length){Gr||(Gr=Fe.animate(Ur,_r.loop,!0),Gr.scope="keyframe");for(var rn=0;rn<Kr.length;rn++)Kr[rn]!==Gr&&Kr[rn].targetName===Gr.targetName&&Kr[rn].stopTracks(Jr);Ur&&(jr[Ur]=jr[Ur]||{});var an=Ur?jr[Ur]:jr;each$f(Jr,function(ln){an[ln]=((Ur?Fe[Ur]:Fe)||{})[ln]}),Gr.whenWithKeys(Fr*Yr.percent,Qr,Jr,Yr.easing)}}}),Gr&&Gr.delay(_r.delay||0).duration(Fr).start(_r.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(Fe){return Fe instanceof Path$1}function isDisplayable(Fe){return Fe instanceof Displayable$1}function copyElement(Fe,_r){_r.copyTransform(Fe),isDisplayable(_r)&&isDisplayable(Fe)&&(_r.setStyle(Fe.style),_r.z=Fe.z,_r.z2=Fe.z2,_r.zlevel=Fe.zlevel,_r.invisible=Fe.invisible,_r.ignore=Fe.ignore,isPath(_r)&&isPath(Fe)&&_r.setShape(Fe.shape))}var CustomChartView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr,zr){this._progressiveEls=null;var jr=this._data,Ur=$r.getData(),Gr=this.group,Yr=makeRenderItem($r,Ur,Br,Fr);jr||Gr.removeAll(),Ur.diff(jr).add(function(Qr){createOrUpdateItem(Fr,null,Qr,Yr(Qr,zr),$r,Gr,Ur)}).remove(function(Qr){var Jr=jr.getItemGraphicEl(Qr);Jr&&applyLeaveTransition(Jr,customInnerStore(Jr).option,$r)}).update(function(Qr,Jr){var rn=jr.getItemGraphicEl(Jr);createOrUpdateItem(Fr,rn,Qr,Yr(Qr,zr),$r,Gr,Ur)}).execute();var Kr=$r.get("clip",!0)?createClipPath($r.coordinateSystem,!1,$r):null;Kr?Gr.setClipPath(Kr):Gr.removeClipPath(),this._data=Ur},_r.prototype.incrementalPrepareRender=function($r,Br,Fr){this.group.removeAll(),this._data=null},_r.prototype.incrementalRender=function($r,Br,Fr,zr,jr){var Ur=Br.getData(),Gr=makeRenderItem(Br,Ur,Fr,zr),Yr=this._progressiveEls=[];function Kr(rn){rn.isGroup||(rn.incremental=!0,rn.ensureState("emphasis").hoverLayer=!0)}for(var Qr=$r.start;Qr<$r.end;Qr++){var Jr=createOrUpdateItem(null,null,Qr,Gr(Qr,jr),Br,this.group,Ur);Jr&&(Jr.traverse(Kr),Yr.push(Jr))}},_r.prototype.eachRendered=function($r){traverseElements(this._progressiveEls||this.group,$r)},_r.prototype.filterForExposedEvent=function($r,Br,Fr,zr){var jr=Br.element;if(jr==null||Fr.name===jr)return!0;for(;(Fr=Fr.__hostTarget||Fr.parent)&&Fr!==this.group;)if(Fr.name===jr)return!0;return!1},_r.type="custom",_r}(ChartView$1);const CustomChartView$1=CustomChartView;function createEl$1(Fe){var _r=Fe.type,$r;if(_r==="path"){var Br=Fe.shape,Fr=Br.width!=null&&Br.height!=null?{x:Br.x||0,y:Br.y||0,width:Br.width,height:Br.height}:null,zr=getPathData(Br);$r=makePath(zr,null,Fr,Br.layout||"center"),customInnerStore($r).customPathData=zr}else if(_r==="image")$r=new ZRImage$1({}),customInnerStore($r).customImagePath=Fe.style.image;else if(_r==="text")$r=new ZRText$1({});else if(_r==="group")$r=new Group$4;else{if(_r==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var jr=getShapeClass(_r);if(!jr){var Ur="";throwError(Ur)}$r=new jr}return customInnerStore($r).customGraphicType=_r,$r.name=Fe.name,$r.z2EmphasisLift=1,$r.z2SelectLift=1,$r}function updateElNormal(Fe,_r,$r,Br,Fr,zr,jr){stopPreviousKeyframeAnimationAndRestore(_r);var Ur=Fr&&Fr.normal.cfg;Ur&&_r.setTextConfig(Ur),Br&&Br.transition==null&&(Br.transition=DEFAULT_TRANSITION);var Gr=Br&&Br.style;if(Gr){if(_r.type==="text"){var Yr=Gr;hasOwn(Yr,"textFill")&&(Yr.fill=Yr.textFill),hasOwn(Yr,"textStroke")&&(Yr.stroke=Yr.textStroke)}var Kr=void 0,Qr=isPath(_r)?Gr.decal:null;Fe&&Qr&&(Qr.dirty=!0,Kr=createOrUpdatePatternFromDecal(Qr,Fe)),Gr.__decalPattern=Kr}if(isDisplayable(_r)&&Gr){var Kr=Gr.__decalPattern;Kr&&(Gr.decal=Kr)}applyUpdateTransition(_r,Br,zr,{dataIndex:$r,isInit:jr,clearStyle:!0}),applyKeyframeAnimation(_r,Br.keyframeAnimation,zr)}function updateElOnState(Fe,_r,$r,Br,Fr){var zr=_r.isGroup?null:_r,jr=Fr&&Fr[Fe].cfg;if(zr){var Ur=zr.ensureState(Fe);if(Br===!1){var Gr=zr.getState(Fe);Gr&&(Gr.style=null)}else Ur.style=Br||null;jr&&(Ur.textConfig=jr),setDefaultStateProxy(zr)}}function updateZ(Fe,_r,$r){if(!Fe.isGroup){var Br=Fe,Fr=$r.currentZ,zr=$r.currentZLevel;Br.z=Fr,Br.zlevel=zr;var jr=_r.z2;jr!=null&&(Br.z2=jr||0);for(var Ur=0;Ur<STATES.length;Ur++)updateZForEachState(Br,_r,STATES[Ur])}}function updateZForEachState(Fe,_r,$r){var Br=$r===NORMAL,Fr=Br?_r:retrieveStateOption(_r,$r),zr=Fr?Fr.z2:null,jr;zr!=null&&(jr=Br?Fe:Fe.ensureState($r),jr.z2=zr||0)}function makeRenderItem(Fe,_r,$r,Br){var Fr=Fe.get("renderItem"),zr=Fe.coordinateSystem,jr={};zr&&(jr=zr.prepareCustoms?zr.prepareCustoms(zr):prepareCustoms[zr.type](zr));for(var Ur=defaults({getWidth:Br.getWidth,getHeight:Br.getHeight,getZr:Br.getZr,getDevicePixelRatio:Br.getDevicePixelRatio,value:kn,style:_n,ordinalRawValue:Sn,styleEmphasis:pn,visual:Pn,barLayout:On,currentSeriesIndices:jn,font:Fn},jr.api||{}),Gr={context:{},seriesId:Fe.id,seriesName:Fe.name,seriesIndex:Fe.seriesIndex,coordSys:jr.coordSys,dataInsideLength:_r.count(),encode:wrapEncodeDef(Fe.getData())},Yr,Kr,Qr={},Jr={},rn={},an={},ln=0;ln<STATES.length;ln++){var dn=STATES[ln];rn[dn]=Fe.getModel(PATH_ITEM_STYLE[dn]),an[dn]=Fe.getModel(PATH_LABEL[dn])}function hn(Wn){return Wn===Yr?Kr||(Kr=_r.getItemModel(Wn)):_r.getItemModel(Wn)}function gn(Wn,Hn){return _r.hasItemOption?Wn===Yr?Qr[Hn]||(Qr[Hn]=hn(Wn).getModel(PATH_ITEM_STYLE[Hn])):hn(Wn).getModel(PATH_ITEM_STYLE[Hn]):rn[Hn]}function bn(Wn,Hn){return _r.hasItemOption?Wn===Yr?Jr[Hn]||(Jr[Hn]=hn(Wn).getModel(PATH_LABEL[Hn])):hn(Wn).getModel(PATH_LABEL[Hn]):an[Hn]}return function(Wn,Hn){return Yr=Wn,Kr=null,Qr={},Jr={},Fr&&Fr(defaults({dataIndexInside:Wn,dataIndex:_r.getRawIndex(Wn),actionType:Hn?Hn.type:null},Gr),Ur)};function kn(Wn,Hn){return Hn==null&&(Hn=Yr),_r.getStore().get(_r.getDimensionIndex(Wn||0),Hn)}function Sn(Wn,Hn){Hn==null&&(Hn=Yr),Wn=Wn||0;var qn=_r.getDimensionInfo(Wn);if(!qn){var ni=_r.getDimensionIndex(Wn);return ni>=0?_r.getStore().get(ni,Hn):void 0}var oi=_r.get(qn.name,Hn),wi=qn&&qn.ordinalMeta;return wi?wi.categories[oi]:oi}function _n(Wn,Hn){Hn==null&&(Hn=Yr);var qn=_r.getItemVisual(Hn,"style"),ni=qn&&qn.fill,oi=qn&&qn.opacity,wi=gn(Hn,NORMAL).getItemStyle();ni!=null&&(wi.fill=ni),oi!=null&&(wi.opacity=oi);var Ci={inheritColor:isString(ni)?ni:"#000"},Fi=bn(Hn,NORMAL),Zn=createTextStyle$1(Fi,null,Ci,!1,!0);Zn.text=Fi.getShallow("show")?retrieve2(Fe.getFormattedLabel(Hn,NORMAL),getDefaultLabel(_r,Hn)):null;var Gn=createTextConfig(Fi,Ci,!1);return En(Wn,wi),wi=convertToEC4StyleForCustomSerise(wi,Zn,Gn),Wn&&Cn(wi,Wn),wi.legacy=!0,wi}function pn(Wn,Hn){Hn==null&&(Hn=Yr);var qn=gn(Hn,EMPHASIS).getItemStyle(),ni=bn(Hn,EMPHASIS),oi=createTextStyle$1(ni,null,null,!0,!0);oi.text=ni.getShallow("show")?retrieve3(Fe.getFormattedLabel(Hn,EMPHASIS),Fe.getFormattedLabel(Hn,NORMAL),getDefaultLabel(_r,Hn)):null;var wi=createTextConfig(ni,null,!0);return En(Wn,qn),qn=convertToEC4StyleForCustomSerise(qn,oi,wi),Wn&&Cn(qn,Wn),qn.legacy=!0,qn}function Cn(Wn,Hn){for(var qn in Hn)hasOwn(Hn,qn)&&(Wn[qn]=Hn[qn])}function En(Wn,Hn){Wn&&(Wn.textFill&&(Hn.textFill=Wn.textFill),Wn.textPosition&&(Hn.textPosition=Wn.textPosition))}function Pn(Wn,Hn){if(Hn==null&&(Hn=Yr),hasOwn(STYLE_VISUAL_TYPE,Wn)){var qn=_r.getItemVisual(Hn,"style");return qn?qn[STYLE_VISUAL_TYPE[Wn]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,Wn))return _r.getItemVisual(Hn,Wn)}function On(Wn){if(zr.type==="cartesian2d"){var Hn=zr.getBaseAxis();return getLayoutOnAxis(defaults({axis:Hn},Wn))}}function jn(){return $r.getCurrentSeriesIndices()}function Fn(Wn){return getFont(Wn,$r)}}function wrapEncodeDef(Fe){var _r={};return each$f(Fe.dimensions,function($r){var Br=Fe.getDimensionInfo($r);if(!Br.isExtraCoord){var Fr=Br.coordDim,zr=_r[Fr]=_r[Fr]||[];zr[Br.coordDimIndex]=Fe.getDimensionIndex($r)}}),_r}function createOrUpdateItem(Fe,_r,$r,Br,Fr,zr,jr){if(!Br){zr.remove(_r);return}var Ur=doCreateOrUpdateEl(Fe,_r,$r,Br,Fr,zr);return Ur&&jr.setItemGraphicEl($r,Ur),Ur&&toggleHoverEmphasis(Ur,Br.focus,Br.blurScope,Br.emphasisDisabled),Ur}function doCreateOrUpdateEl(Fe,_r,$r,Br,Fr,zr){var jr=-1,Ur=_r;_r&&doesElNeedRecreate(_r,Br,Fr)&&(jr=indexOf(zr.childrenRef(),_r),_r=null);var Gr=!_r,Yr=_r;Yr?Yr.clearStates():(Yr=createEl$1(Br),Ur&&copyElement(Ur,Yr)),Br.morph===!1?Yr.disableMorphing=!0:Yr.disableMorphing&&(Yr.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(Yr,$r,Br,Fr,Gr,attachedTxInfoTmp),doCreateOrUpdateClipPath(Yr,$r,Br,Fr,Gr),updateElNormal(Fe,Yr,$r,Br,attachedTxInfoTmp,Fr,Gr),hasOwn(Br,"info")&&(customInnerStore(Yr).info=Br.info);for(var Kr=0;Kr<STATES.length;Kr++){var Qr=STATES[Kr];if(Qr!==NORMAL){var Jr=retrieveStateOption(Br,Qr),rn=retrieveStyleOptionOnState(Br,Jr,Qr);updateElOnState(Qr,Yr,Jr,rn,attachedTxInfoTmp)}}return updateZ(Yr,Br,Fr),Br.type==="group"&&mergeChildren(Fe,Yr,$r,Br,Fr),jr>=0?zr.replaceAt(Yr,jr):zr.add(Yr),Yr}function doesElNeedRecreate(Fe,_r,$r){var Br=customInnerStore(Fe),Fr=_r.type,zr=_r.shape,jr=_r.style;return $r.isUniversalTransitionEnabled()||Fr!=null&&Fr!==Br.customGraphicType||Fr==="path"&&hasOwnPathData(zr)&&getPathData(zr)!==Br.customPathData||Fr==="image"&&hasOwn(jr,"image")&&jr.image!==Br.customImagePath}function doCreateOrUpdateClipPath(Fe,_r,$r,Br,Fr){var zr=$r.clipPath;if(zr===!1)Fe&&Fe.getClipPath()&&Fe.removeClipPath();else if(zr){var jr=Fe.getClipPath();jr&&doesElNeedRecreate(jr,zr,Br)&&(jr=null),jr||(jr=createEl$1(zr),Fe.setClipPath(jr)),updateElNormal(null,jr,_r,zr,null,Br,Fr)}}function doCreateOrUpdateAttachedTx(Fe,_r,$r,Br,Fr,zr){if(!Fe.isGroup){processTxInfo($r,null,zr),processTxInfo($r,EMPHASIS,zr);var jr=zr.normal.conOpt,Ur=zr.emphasis.conOpt,Gr=zr.blur.conOpt,Yr=zr.select.conOpt;if(jr!=null||Ur!=null||Yr!=null||Gr!=null){var Kr=Fe.getTextContent();if(jr===!1)Kr&&Fe.removeTextContent();else{jr=zr.normal.conOpt=jr||{type:"text"},Kr?Kr.clearStates():(Kr=createEl$1(jr),Fe.setTextContent(Kr)),updateElNormal(null,Kr,_r,jr,null,Br,Fr);for(var Qr=jr&&jr.style,Jr=0;Jr<STATES.length;Jr++){var rn=STATES[Jr];if(rn!==NORMAL){var an=zr[rn].conOpt;updateElOnState(rn,Kr,an,retrieveStyleOptionOnState(jr,an,rn),null)}}Qr?Kr.dirty():Kr.markRedraw()}}}}function processTxInfo(Fe,_r,$r){var Br=_r?retrieveStateOption(Fe,_r):Fe,Fr=_r?retrieveStyleOptionOnState(Fe,Br,EMPHASIS):Fe.style,zr=Fe.type,jr=Br?Br.textConfig:null,Ur=Fe.textContent,Gr=Ur?_r?retrieveStateOption(Ur,_r):Ur:null;if(Fr&&($r.isLegacy||isEC4CompatibleStyle(Fr,zr,!!jr,!!Gr))){$r.isLegacy=!0;var Yr=convertFromEC4CompatibleStyle(Fr,zr,!_r);!jr&&Yr.textConfig&&(jr=Yr.textConfig),!Gr&&Yr.textContent&&(Gr=Yr.textContent)}if(!_r&&Gr){var Kr=Gr;!Kr.type&&(Kr.type="text")}var Qr=_r?$r[_r]:$r.normal;Qr.cfg=jr,Qr.conOpt=Gr}function retrieveStateOption(Fe,_r){return _r?Fe?Fe[_r]:null:Fe}function retrieveStyleOptionOnState(Fe,_r,$r){var Br=_r&&_r.style;return Br==null&&$r===EMPHASIS&&Fe&&(Br=Fe.styleEmphasis),Br}function mergeChildren(Fe,_r,$r,Br,Fr){var zr=Br.children,jr=zr?zr.length:0,Ur=Br.$mergeChildren,Gr=Ur==="byName"||Br.diffChildrenByName,Yr=Ur===!1;if(!(!jr&&!Gr&&!Yr)){if(Gr){diffGroupChildren({api:Fe,oldChildren:_r.children()||[],newChildren:zr||[],dataIndex:$r,seriesModel:Fr,group:_r});return}Yr&&_r.removeAll();for(var Kr=0;Kr<jr;Kr++){var Qr=zr[Kr],Jr=_r.childAt(Kr);Qr?(Qr.ignore==null&&(Qr.ignore=!1),doCreateOrUpdateEl(Fe,Jr,$r,Qr,Fr,_r)):Jr.ignore=!0}for(var rn=_r.childCount()-1;rn>=Kr;rn--){var an=_r.childAt(rn);removeChildFromGroup(_r,an,Fr)}}}function removeChildFromGroup(Fe,_r,$r){_r&&applyLeaveTransition(_r,customInnerStore(Fe).option,$r)}function diffGroupChildren(Fe){new DataDiffer$1(Fe.oldChildren,Fe.newChildren,getKey,getKey,Fe).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(Fe,_r){var $r=Fe&&Fe.name;return $r??GROUP_DIFF_PREFIX+_r}function processAddUpdate(Fe,_r){var $r=this.context,Br=Fe!=null?$r.newChildren[Fe]:null,Fr=_r!=null?$r.oldChildren[_r]:null;doCreateOrUpdateEl($r.api,Fr,$r.dataIndex,Br,$r.seriesModel,$r.group)}function processRemove(Fe){var _r=this.context,$r=_r.oldChildren[Fe];$r&&applyLeaveTransition($r,customInnerStore($r).option,_r.seriesModel)}function getPathData(Fe){return Fe&&(Fe.pathData||Fe.d)}function hasOwnPathData(Fe){return Fe&&(hasOwn(Fe,"pathData")||hasOwn(Fe,"d"))}function install$r(Fe){Fe.registerChartView(CustomChartView$1),Fe.registerSeriesModel(CustomSeriesModel$1)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function Fe(){this._dragging=!1,this.animationThreshold=15}return Fe.prototype.render=function(_r,$r,Br,Fr){var zr=$r.get("value"),jr=$r.get("status");if(this._axisModel=_r,this._axisPointerModel=$r,this._api=Br,!(!Fr&&this._lastValue===zr&&this._lastStatus===jr)){this._lastValue=zr,this._lastStatus=jr;var Ur=this._group,Gr=this._handle;if(!jr||jr==="hide"){Ur&&Ur.hide(),Gr&&Gr.hide();return}Ur&&Ur.show(),Gr&&Gr.show();var Yr={};this.makeElOption(Yr,zr,_r,$r,Br);var Kr=Yr.graphicKey;Kr!==this._lastGraphicKey&&this.clear(Br),this._lastGraphicKey=Kr;var Qr=this._moveAnimation=this.determineAnimation(_r,$r);if(!Ur)Ur=this._group=new Group$4,this.createPointerEl(Ur,Yr,_r,$r),this.createLabelEl(Ur,Yr,_r,$r),Br.getZr().add(Ur);else{var Jr=curry$1(updateProps,$r,Qr);this.updatePointerEl(Ur,Yr,Jr),this.updateLabelEl(Ur,Yr,Jr,$r)}updateMandatoryProps(Ur,$r,!0),this._renderHandle(zr)}},Fe.prototype.remove=function(_r){this.clear(_r)},Fe.prototype.dispose=function(_r){this.clear(_r)},Fe.prototype.determineAnimation=function(_r,$r){var Br=$r.get("animation"),Fr=_r.axis,zr=Fr.type==="category",jr=$r.get("snap");if(!jr&&!zr)return!1;if(Br==="auto"||Br==null){var Ur=this.animationThreshold;if(zr&&Fr.getBandWidth()>Ur)return!0;if(jr){var Gr=getAxisInfo$1(_r).seriesDataCount,Yr=Fr.getExtent();return Math.abs(Yr[0]-Yr[1])/Gr>Ur}return!1}return Br===!0},Fe.prototype.makeElOption=function(_r,$r,Br,Fr,zr){},Fe.prototype.createPointerEl=function(_r,$r,Br,Fr){var zr=$r.pointer;if(zr){var jr=inner$b(_r).pointerEl=new graphic$1[zr.type](clone$1($r.pointer));_r.add(jr)}},Fe.prototype.createLabelEl=function(_r,$r,Br,Fr){if($r.label){var zr=inner$b(_r).labelEl=new ZRText$1(clone$1($r.label));_r.add(zr),updateLabelShowHide(zr,Fr)}},Fe.prototype.updatePointerEl=function(_r,$r,Br){var Fr=inner$b(_r).pointerEl;Fr&&$r.pointer&&(Fr.setStyle($r.pointer.style),Br(Fr,{shape:$r.pointer.shape}))},Fe.prototype.updateLabelEl=function(_r,$r,Br,Fr){var zr=inner$b(_r).labelEl;zr&&(zr.setStyle($r.label.style),Br(zr,{x:$r.label.x,y:$r.label.y}),updateLabelShowHide(zr,Fr))},Fe.prototype._renderHandle=function(_r){if(!(this._dragging||!this.updateHandleTransform)){var $r=this._axisPointerModel,Br=this._api.getZr(),Fr=this._handle,zr=$r.getModel("handle"),jr=$r.get("status");if(!zr.get("show")||!jr||jr==="hide"){Fr&&Br.remove(Fr),this._handle=null;return}var Ur;this._handle||(Ur=!0,Fr=this._handle=createIcon(zr.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(Yr){stop(Yr.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),Br.add(Fr)),updateMandatoryProps(Fr,$r,!1),Fr.setStyle(zr.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var Gr=zr.get("size");isArray$1(Gr)||(Gr=[Gr,Gr]),Fr.scaleX=Gr[0]/2,Fr.scaleY=Gr[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",zr.get("throttle")||0,"fixRate"),this._moveHandleToValue(_r,Ur)}},Fe.prototype._moveHandleToValue=function(_r,$r){updateProps(this._axisPointerModel,!$r&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(_r,this._axisModel,this._axisPointerModel)))},Fe.prototype._onHandleDragMove=function(_r,$r){var Br=this._handle;if(Br){this._dragging=!0;var Fr=this.updateHandleTransform(getHandleTransProps(Br),[_r,$r],this._axisModel,this._axisPointerModel);this._payloadInfo=Fr,Br.stopAnimation(),Br.attr(getHandleTransProps(Fr)),inner$b(Br).lastProp=null,this._doDispatchAxisPointer()}},Fe.prototype._doDispatchAxisPointer=function(){var _r=this._handle;if(_r){var $r=this._payloadInfo,Br=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:$r.cursorPoint[0],y:$r.cursorPoint[1],tooltipOption:$r.tooltipOption,axesInfo:[{axisDim:Br.axis.dim,axisIndex:Br.componentIndex}]})}},Fe.prototype._onHandleDragEnd=function(){this._dragging=!1;var _r=this._handle;if(_r){var $r=this._axisPointerModel.get("value");this._moveHandleToValue($r),this._api.dispatchAction({type:"hideTip"})}},Fe.prototype.clear=function(_r){this._lastValue=null,this._lastStatus=null;var $r=_r.getZr(),Br=this._group,Fr=this._handle;$r&&Br&&(this._lastGraphicKey=null,Br&&$r.remove(Br),Fr&&$r.remove(Fr),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},Fe.prototype.doClear=function(){},Fe.prototype.buildLabel=function(_r,$r,Br){return Br=Br||0,{x:_r[Br],y:_r[1-Br],width:$r[Br],height:$r[1-Br]}},Fe}();function updateProps(Fe,_r,$r,Br){propsEqual(inner$b($r).lastProp,Br)||(inner$b($r).lastProp=Br,_r?updateProps$1($r,Br,Fe):($r.stopAnimation(),$r.attr(Br)))}function propsEqual(Fe,_r){if(isObject$3(Fe)&&isObject$3(_r)){var $r=!0;return each$f(_r,function(Br,Fr){$r=$r&&propsEqual(Fe[Fr],Br)}),!!$r}else return Fe===_r}function updateLabelShowHide(Fe,_r){Fe[_r.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(Fe){return{x:Fe.x||0,y:Fe.y||0,rotation:Fe.rotation||0}}function updateMandatoryProps(Fe,_r,$r){var Br=_r.get("z"),Fr=_r.get("zlevel");Fe&&Fe.traverse(function(zr){zr.type!=="group"&&(Br!=null&&(zr.z=Br),Fr!=null&&(zr.zlevel=Fr),zr.silent=$r)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(Fe){var _r=Fe.get("type"),$r=Fe.getModel(_r+"Style"),Br;return _r==="line"?(Br=$r.getLineStyle(),Br.fill=null):_r==="shadow"&&(Br=$r.getAreaStyle(),Br.stroke=null),Br}function buildLabelElOption(Fe,_r,$r,Br,Fr){var zr=$r.get("value"),jr=getValueLabel(zr,_r.axis,_r.ecModel,$r.get("seriesDataIndices"),{precision:$r.get(["label","precision"]),formatter:$r.get(["label","formatter"])}),Ur=$r.getModel("label"),Gr=normalizeCssArray(Ur.get("padding")||0),Yr=Ur.getFont(),Kr=getBoundingRect(jr,Yr),Qr=Fr.position,Jr=Kr.width+Gr[1]+Gr[3],rn=Kr.height+Gr[0]+Gr[2],an=Fr.align;an==="right"&&(Qr[0]-=Jr),an==="center"&&(Qr[0]-=Jr/2);var ln=Fr.verticalAlign;ln==="bottom"&&(Qr[1]-=rn),ln==="middle"&&(Qr[1]-=rn/2),confineInContainer(Qr,Jr,rn,Br);var dn=Ur.get("backgroundColor");(!dn||dn==="auto")&&(dn=_r.get(["axisLine","lineStyle","color"])),Fe.label={x:Qr[0],y:Qr[1],style:createTextStyle$1(Ur,{text:jr,font:Yr,fill:Ur.getTextColor(),padding:Gr,backgroundColor:dn}),z2:10}}function confineInContainer(Fe,_r,$r,Br){var Fr=Br.getWidth(),zr=Br.getHeight();Fe[0]=Math.min(Fe[0]+_r,Fr)-_r,Fe[1]=Math.min(Fe[1]+$r,zr)-$r,Fe[0]=Math.max(Fe[0],0),Fe[1]=Math.max(Fe[1],0)}function getValueLabel(Fe,_r,$r,Br,Fr){Fe=_r.scale.parse(Fe);var zr=_r.scale.getLabel({value:Fe},{precision:Fr.precision}),jr=Fr.formatter;if(jr){var Ur={value:getAxisRawValue(_r,{value:Fe}),axisDimension:_r.dim,axisIndex:_r.index,seriesData:[]};each$f(Br,function(Gr){var Yr=$r.getSeriesByIndex(Gr.seriesIndex),Kr=Gr.dataIndexInside,Qr=Yr&&Yr.getDataParams(Kr);Qr&&Ur.seriesData.push(Qr)}),isString(jr)?zr=jr.replace("{value}",zr):isFunction(jr)&&(zr=jr(Ur))}return zr}function getTransformedPosition(Fe,_r,$r){var Br=create$1();return rotate(Br,Br,$r.rotation),translate(Br,Br,$r.position),applyTransform([Fe.dataToCoord(_r),($r.labelOffset||0)+($r.labelDirection||1)*($r.labelMargin||0)],Br)}function buildCartesianSingleLabelElOption(Fe,_r,$r,Br,Fr,zr){var jr=AxisBuilder$1.innerTextLayout($r.rotation,0,$r.labelDirection);$r.labelMargin=Fr.get(["label","margin"]),buildLabelElOption(_r,Br,Fr,zr,{position:getTransformedPosition(Br.axis,Fe,$r),align:jr.textAlign,verticalAlign:jr.textVerticalAlign})}function makeLineShape(Fe,_r,$r){return $r=$r||0,{x1:Fe[$r],y1:Fe[1-$r],x2:_r[$r],y2:_r[1-$r]}}function makeRectShape(Fe,_r,$r){return $r=$r||0,{x:Fe[$r],y:Fe[1-$r],width:_r[$r],height:_r[1-$r]}}function makeSectorShape(Fe,_r,$r,Br,Fr,zr){return{cx:Fe,cy:_r,r0:$r,r:Br,startAngle:Fr,endAngle:zr,clockwise:!0}}var CartesianAxisPointer=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.makeElOption=function($r,Br,Fr,zr,jr){var Ur=Fr.axis,Gr=Ur.grid,Yr=zr.get("type"),Kr=getCartesian(Gr,Ur).getOtherAxis(Ur).getGlobalExtent(),Qr=Ur.toGlobalCoord(Ur.dataToCoord(Br,!0));if(Yr&&Yr!=="none"){var Jr=buildElStyle(zr),rn=pointerShapeBuilder$2[Yr](Ur,Qr,Kr);rn.style=Jr,$r.graphicKey=rn.type,$r.pointer=rn}var an=layout$2(Gr.model,Fr);buildCartesianSingleLabelElOption(Br,$r,an,Fr,zr,jr)},_r.prototype.getHandleTransform=function($r,Br,Fr){var zr=layout$2(Br.axis.grid.model,Br,{labelInside:!1});zr.labelMargin=Fr.get(["handle","margin"]);var jr=getTransformedPosition(Br.axis,$r,zr);return{x:jr[0],y:jr[1],rotation:zr.rotation+(zr.labelDirection<0?Math.PI:0)}},_r.prototype.updateHandleTransform=function($r,Br,Fr,zr){var jr=Fr.axis,Ur=jr.grid,Gr=jr.getGlobalExtent(!0),Yr=getCartesian(Ur,jr).getOtherAxis(jr).getGlobalExtent(),Kr=jr.dim==="x"?0:1,Qr=[$r.x,$r.y];Qr[Kr]+=Br[Kr],Qr[Kr]=Math.min(Gr[1],Qr[Kr]),Qr[Kr]=Math.max(Gr[0],Qr[Kr]);var Jr=(Yr[1]+Yr[0])/2,rn=[Jr,Jr];rn[Kr]=Qr[Kr];var an=[{verticalAlign:"middle"},{align:"center"}];return{x:Qr[0],y:Qr[1],rotation:$r.rotation,cursorPoint:rn,tooltipOption:an[Kr]}},_r}(BaseAxisPointer$1);function getCartesian(Fe,_r){var $r={};return $r[_r.dim+"AxisIndex"]=_r.index,Fe.getCartesian($r)}var pointerShapeBuilder$2={line:function(Fe,_r,$r){var Br=makeLineShape([_r,$r[0]],[_r,$r[1]],getAxisDimIndex(Fe));return{type:"Line",subPixelOptimize:!0,shape:Br}},shadow:function(Fe,_r,$r){var Br=Math.max(1,Fe.getBandWidth()),Fr=$r[1]-$r[0];return{type:"Rect",shape:makeRectShape([_r-Br/2,$r[0]],[Br,Fr],getAxisDimIndex(Fe))}}};function getAxisDimIndex(Fe){return Fe.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="axisPointer",_r.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},_r}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$a=makeInner(),each$8=each$f;function register(Fe,_r,$r){if(!env$1.node){var Br=_r.getZr();inner$a(Br).records||(inner$a(Br).records={}),initGlobalListeners(Br,_r);var Fr=inner$a(Br).records[Fe]||(inner$a(Br).records[Fe]={});Fr.handler=$r}}function initGlobalListeners(Fe,_r){if(inner$a(Fe).initialized)return;inner$a(Fe).initialized=!0,$r("click",curry$1(doEnter,"click")),$r("mousemove",curry$1(doEnter,"mousemove")),$r("globalout",onLeave);function $r(Br,Fr){Fe.on(Br,function(zr){var jr=makeDispatchAction$1(_r);each$8(inner$a(Fe).records,function(Ur){Ur&&Fr(Ur,zr,jr.dispatchAction)}),dispatchTooltipFinally(jr.pendings,_r)})}}function dispatchTooltipFinally(Fe,_r){var $r=Fe.showTip.length,Br=Fe.hideTip.length,Fr;$r?Fr=Fe.showTip[$r-1]:Br&&(Fr=Fe.hideTip[Br-1]),Fr&&(Fr.dispatchAction=null,_r.dispatchAction(Fr))}function onLeave(Fe,_r,$r){Fe.handler("leave",null,$r)}function doEnter(Fe,_r,$r,Br){_r.handler(Fe,$r,Br)}function makeDispatchAction$1(Fe){var _r={showTip:[],hideTip:[]},$r=function(Br){var Fr=_r[Br.type];Fr?Fr.push(Br):(Br.dispatchAction=$r,Fe.dispatchAction(Br))};return{dispatchAction:$r,pendings:_r}}function unregister(Fe,_r){if(!env$1.node){var $r=_r.getZr(),Br=(inner$a($r).records||{})[Fe];Br&&(inner$a($r).records[Fe]=null)}}var AxisPointerView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){var zr=Br.getComponent("tooltip"),jr=$r.get("triggerOn")||zr&&zr.get("triggerOn")||"mousemove|click";register("axisPointer",Fr,function(Ur,Gr,Yr){jr!=="none"&&(Ur==="leave"||jr.indexOf(Ur)>=0)&&Yr({type:"updateAxisPointer",currTrigger:Ur,x:Gr&&Gr.offsetX,y:Gr&&Gr.offsetY})})},_r.prototype.remove=function($r,Br){unregister("axisPointer",Br)},_r.prototype.dispose=function($r,Br){unregister("axisPointer",Br)},_r.type="axisPointer",_r}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(Fe,_r){var $r=[],Br=Fe.seriesIndex,Fr;if(Br==null||!(Fr=_r.getSeriesByIndex(Br)))return{point:[]};var zr=Fr.getData(),jr=queryDataIndex(zr,Fe);if(jr==null||jr<0||isArray$1(jr))return{point:[]};var Ur=zr.getItemGraphicEl(jr),Gr=Fr.coordinateSystem;if(Fr.getTooltipPosition)$r=Fr.getTooltipPosition(jr)||[];else if(Gr&&Gr.dataToPoint)if(Fe.isStacked){var Yr=Gr.getBaseAxis(),Kr=Gr.getOtherAxis(Yr),Qr=Kr.dim,Jr=Yr.dim,rn=Qr==="x"||Qr==="radius"?1:0,an=zr.mapDimension(Jr),ln=[];ln[rn]=zr.get(an,jr),ln[1-rn]=zr.get(zr.getCalculationInfo("stackResultDimension"),jr),$r=Gr.dataToPoint(ln)||[]}else $r=Gr.dataToPoint(zr.getValues(map$1(Gr.dimensions,function(hn){return zr.mapDimension(hn)}),jr))||[];else if(Ur){var dn=Ur.getBoundingRect().clone();dn.applyTransform(Ur.transform),$r=[dn.x+dn.width/2,dn.y+dn.height/2]}return{point:$r,el:Ur}}var inner$9=makeInner();function axisTrigger(Fe,_r,$r){var Br=Fe.currTrigger,Fr=[Fe.x,Fe.y],zr=Fe,jr=Fe.dispatchAction||bind$1($r.dispatchAction,$r),Ur=_r.getComponent("axisPointer").coordSysAxesInfo;if(Ur){illegalPoint(Fr)&&(Fr=findPointFromSeries({seriesIndex:zr.seriesIndex,dataIndex:zr.dataIndex},_r).point);var Gr=illegalPoint(Fr),Yr=zr.axesInfo,Kr=Ur.axesInfo,Qr=Br==="leave"||illegalPoint(Fr),Jr={},rn={},an={list:[],map:{}},ln={showPointer:curry$1(showPointer,rn),showTooltip:curry$1(showTooltip,an)};each$f(Ur.coordSysMap,function(hn,gn){var bn=Gr||hn.containPoint(Fr);each$f(Ur.coordSysAxesInfo[gn],function(kn,Sn){var _n=kn.axis,pn=findInputAxisInfo(Yr,kn);if(!Qr&&bn&&(!Yr||pn)){var Cn=pn&&pn.value;Cn==null&&!Gr&&(Cn=_n.pointToData(Fr)),Cn!=null&&processOnAxis(kn,Cn,ln,!1,Jr)}})});var dn={};return each$f(Kr,function(hn,gn){var bn=hn.linkGroup;bn&&!rn[gn]&&each$f(bn.axesInfo,function(kn,Sn){var _n=rn[Sn];if(kn!==hn&&_n){var pn=_n.value;bn.mapper&&(pn=hn.axis.scale.parse(bn.mapper(pn,makeMapperParam(kn),makeMapperParam(hn)))),dn[hn.key]=pn}})}),each$f(dn,function(hn,gn){processOnAxis(Kr[gn],hn,ln,!0,Jr)}),updateModelActually(rn,Kr,Jr),dispatchTooltipActually(an,Fr,Fe,jr),dispatchHighDownActually(Kr,jr,$r),Jr}}function processOnAxis(Fe,_r,$r,Br,Fr){var zr=Fe.axis;if(!(zr.scale.isBlank()||!zr.containData(_r))){if(!Fe.involveSeries){$r.showPointer(Fe,_r);return}var jr=buildPayloadsBySeries(_r,Fe),Ur=jr.payloadBatch,Gr=jr.snapToValue;Ur[0]&&Fr.seriesIndex==null&&extend$1(Fr,Ur[0]),!Br&&Fe.snap&&zr.containData(Gr)&&Gr!=null&&(_r=Gr),$r.showPointer(Fe,_r,Ur),$r.showTooltip(Fe,jr,Gr)}}function buildPayloadsBySeries(Fe,_r){var $r=_r.axis,Br=$r.dim,Fr=Fe,zr=[],jr=Number.MAX_VALUE,Ur=-1;return each$f(_r.seriesModels,function(Gr,Yr){var Kr=Gr.getData().mapDimensionsAll(Br),Qr,Jr;if(Gr.getAxisTooltipData){var rn=Gr.getAxisTooltipData(Kr,Fe,$r);Jr=rn.dataIndices,Qr=rn.nestestValue}else{if(Jr=Gr.getData().indicesOfNearest(Kr[0],Fe,$r.type==="category"?.5:null),!Jr.length)return;Qr=Gr.getData().get(Kr[0],Jr[0])}if(!(Qr==null||!isFinite(Qr))){var an=Fe-Qr,ln=Math.abs(an);ln<=jr&&((ln<jr||an>=0&&Ur<0)&&(jr=ln,Ur=an,Fr=Qr,zr.length=0),each$f(Jr,function(dn){zr.push({seriesIndex:Gr.seriesIndex,dataIndexInside:dn,dataIndex:Gr.getData().getRawIndex(dn)})}))}}),{payloadBatch:zr,snapToValue:Fr}}function showPointer(Fe,_r,$r,Br){Fe[_r.key]={value:$r,payloadBatch:Br}}function showTooltip(Fe,_r,$r,Br){var Fr=$r.payloadBatch,zr=_r.axis,jr=zr.model,Ur=_r.axisPointerModel;if(!(!_r.triggerTooltip||!Fr.length)){var Gr=_r.coordSys.model,Yr=makeKey(Gr),Kr=Fe.map[Yr];Kr||(Kr=Fe.map[Yr]={coordSysId:Gr.id,coordSysIndex:Gr.componentIndex,coordSysType:Gr.type,coordSysMainType:Gr.mainType,dataByAxis:[]},Fe.list.push(Kr)),Kr.dataByAxis.push({axisDim:zr.dim,axisIndex:jr.componentIndex,axisType:jr.type,axisId:jr.id,value:Br,valueLabelOpt:{precision:Ur.get(["label","precision"]),formatter:Ur.get(["label","formatter"])},seriesDataIndices:Fr.slice()})}}function updateModelActually(Fe,_r,$r){var Br=$r.axesInfo=[];each$f(_r,function(Fr,zr){var jr=Fr.axisPointerModel.option,Ur=Fe[zr];Ur?(!Fr.useHandle&&(jr.status="show"),jr.value=Ur.value,jr.seriesDataIndices=(Ur.payloadBatch||[]).slice()):!Fr.useHandle&&(jr.status="hide"),jr.status==="show"&&Br.push({axisDim:Fr.axis.dim,axisIndex:Fr.axis.model.componentIndex,value:jr.value})})}function dispatchTooltipActually(Fe,_r,$r,Br){if(illegalPoint(_r)||!Fe.list.length){Br({type:"hideTip"});return}var Fr=((Fe.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};Br({type:"showTip",escapeConnect:!0,x:_r[0],y:_r[1],tooltipOption:$r.tooltipOption,position:$r.position,dataIndexInside:Fr.dataIndexInside,dataIndex:Fr.dataIndex,seriesIndex:Fr.seriesIndex,dataByCoordSys:Fe.list})}function dispatchHighDownActually(Fe,_r,$r){var Br=$r.getZr(),Fr="axisPointerLastHighlights",zr=inner$9(Br)[Fr]||{},jr=inner$9(Br)[Fr]={};each$f(Fe,function(Yr,Kr){var Qr=Yr.axisPointerModel.option;Qr.status==="show"&&Yr.triggerEmphasis&&each$f(Qr.seriesDataIndices,function(Jr){var rn=Jr.seriesIndex+" | "+Jr.dataIndex;jr[rn]=Jr})});var Ur=[],Gr=[];each$f(zr,function(Yr,Kr){!jr[Kr]&&Gr.push(Yr)}),each$f(jr,function(Yr,Kr){!zr[Kr]&&Ur.push(Yr)}),Gr.length&&$r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:Gr}),Ur.length&&$r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:Ur})}function findInputAxisInfo(Fe,_r){for(var $r=0;$r<(Fe||[]).length;$r++){var Br=Fe[$r];if(_r.axis.dim===Br.axisDim&&_r.axis.model.componentIndex===Br.axisIndex)return Br}}function makeMapperParam(Fe){var _r=Fe.axis.model,$r={},Br=$r.axisDim=Fe.axis.dim;return $r.axisIndex=$r[Br+"AxisIndex"]=_r.componentIndex,$r.axisName=$r[Br+"AxisName"]=_r.name,$r.axisId=$r[Br+"AxisId"]=_r.id,$r}function illegalPoint(Fe){return!Fe||Fe[0]==null||isNaN(Fe[0])||Fe[1]==null||isNaN(Fe[1])}function install$q(Fe){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),Fe.registerComponentModel(AxisPointerModel$1),Fe.registerComponentView(AxisPointerView$1),Fe.registerPreprocessor(function(_r){if(_r){(!_r.axisPointer||_r.axisPointer.length===0)&&(_r.axisPointer={});var $r=_r.axisPointer.link;$r&&!isArray$1($r)&&(_r.axisPointer.link=[$r])}}),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.STATISTIC,function(_r,$r){_r.getComponent("axisPointer").coordSysAxesInfo=collect(_r,$r)}),Fe.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(Fe){use(install$N),use(install$q)}var PolarAxisPointer=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.makeElOption=function($r,Br,Fr,zr,jr){var Ur=Fr.axis;Ur.dim==="angle"&&(this.animationThreshold=Math.PI/18);var Gr=Ur.polar,Yr=Gr.getOtherAxis(Ur),Kr=Yr.getExtent(),Qr=Ur.dataToCoord(Br),Jr=zr.get("type");if(Jr&&Jr!=="none"){var rn=buildElStyle(zr),an=pointerShapeBuilder$1[Jr](Ur,Gr,Qr,Kr);an.style=rn,$r.graphicKey=an.type,$r.pointer=an}var ln=zr.get(["label","margin"]),dn=getLabelPosition(Br,Fr,zr,Gr,ln);buildLabelElOption($r,Fr,zr,jr,dn)},_r}(BaseAxisPointer$1);function getLabelPosition(Fe,_r,$r,Br,Fr){var zr=_r.axis,jr=zr.dataToCoord(Fe),Ur=Br.getAngleAxis().getExtent()[0];Ur=Ur/180*Math.PI;var Gr=Br.getRadiusAxis().getExtent(),Yr,Kr,Qr;if(zr.dim==="radius"){var Jr=create$1();rotate(Jr,Jr,Ur),translate(Jr,Jr,[Br.cx,Br.cy]),Yr=applyTransform([jr,-Fr],Jr);var rn=_r.getModel("axisLabel").get("rotate")||0,an=AxisBuilder$1.innerTextLayout(Ur,rn*Math.PI/180,-1);Kr=an.textAlign,Qr=an.textVerticalAlign}else{var ln=Gr[1];Yr=Br.coordToPoint([ln+Fr,jr]);var dn=Br.cx,hn=Br.cy;Kr=Math.abs(Yr[0]-dn)/ln<.3?"center":Yr[0]>dn?"left":"right",Qr=Math.abs(Yr[1]-hn)/ln<.3?"middle":Yr[1]>hn?"top":"bottom"}return{position:Yr,align:Kr,verticalAlign:Qr}}var pointerShapeBuilder$1={line:function(Fe,_r,$r,Br){return Fe.dim==="angle"?{type:"Line",shape:makeLineShape(_r.coordToPoint([Br[0],$r]),_r.coordToPoint([Br[1],$r]))}:{type:"Circle",shape:{cx:_r.cx,cy:_r.cy,r:$r}}},shadow:function(Fe,_r,$r,Br){var Fr=Math.max(1,Fe.getBandWidth()),zr=Math.PI/180;return Fe.dim==="angle"?{type:"Sector",shape:makeSectorShape(_r.cx,_r.cy,Br[0],Br[1],(-$r-Fr/2)*zr,(-$r+Fr/2)*zr)}:{type:"Sector",shape:makeSectorShape(_r.cx,_r.cy,$r-Fr/2,$r+Fr/2,0,Math.PI*2)}}};const PolarAxisPointer$1=PolarAxisPointer;var PolarModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.findAxisModel=function($r){var Br,Fr=this.ecModel;return Fr.eachComponent($r,function(zr){zr.getCoordSysModel()===this&&(Br=zr)},this),Br},_r.type="polar",_r.dependencies=["radiusAxis","angleAxis"],_r.defaultOption={z:0,center:["50%","50%"],radius:"80%"},_r}(ComponentModel$1);const PolarModel$1=PolarModel;var PolarAxisModel=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},_r.type="polarAxis",_r}(ComponentModel$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="angleAxis",_r}(PolarAxisModel),RadiusAxisModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="radiusAxis",_r}(PolarAxisModel),RadiusAxis=function(Fe){__extends(_r,Fe);function _r($r,Br){return Fe.call(this,"radius",$r,Br)||this}return _r.prototype.pointToData=function($r,Br){return this.polar.pointToData($r,Br)[this.dim==="radius"?0:1]},_r}(Axis$1);RadiusAxis.prototype.dataToRadius=Axis$1.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis$1.prototype.coordToData;const RadiusAxis$1=RadiusAxis;var inner$8=makeInner(),AngleAxis=function(Fe){__extends(_r,Fe);function _r($r,Br){return Fe.call(this,"angle",$r,Br||[0,360])||this}return _r.prototype.pointToData=function($r,Br){return this.polar.pointToData($r,Br)[this.dim==="radius"?0:1]},_r.prototype.calculateCategoryInterval=function(){var $r=this,Br=$r.getLabelModel(),Fr=$r.scale,zr=Fr.getExtent(),jr=Fr.count();if(zr[1]-zr[0]<1)return 0;var Ur=zr[0],Gr=$r.dataToCoord(Ur+1)-$r.dataToCoord(Ur),Yr=Math.abs(Gr),Kr=getBoundingRect(Ur==null?"":Ur+"",Br.getFont(),"center","top"),Qr=Math.max(Kr.height,7),Jr=Qr/Yr;isNaN(Jr)&&(Jr=1/0);var rn=Math.max(0,Math.floor(Jr)),an=inner$8($r.model),ln=an.lastAutoInterval,dn=an.lastTickCount;return ln!=null&&dn!=null&&Math.abs(ln-rn)<=1&&Math.abs(dn-jr)<=1&&ln>rn?rn=ln:(an.lastTickCount=jr,an.lastAutoInterval=rn),rn},_r}(Axis$1);AngleAxis.prototype.dataToAngle=Axis$1.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis$1.prototype.coordToData;const AngleAxis$1=AngleAxis;var polarDimensions=["radius","angle"],Polar=function(){function Fe(_r){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$1,this._angleAxis=new AngleAxis$1,this.axisPointerEnabled=!0,this.name=_r||"",this._radiusAxis.polar=this._angleAxis.polar=this}return Fe.prototype.containPoint=function(_r){var $r=this.pointToCoord(_r);return this._radiusAxis.contain($r[0])&&this._angleAxis.contain($r[1])},Fe.prototype.containData=function(_r){return this._radiusAxis.containData(_r[0])&&this._angleAxis.containData(_r[1])},Fe.prototype.getAxis=function(_r){var $r="_"+_r+"Axis";return this[$r]},Fe.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},Fe.prototype.getAxesByScale=function(_r){var $r=[],Br=this._angleAxis,Fr=this._radiusAxis;return Br.scale.type===_r&&$r.push(Br),Fr.scale.type===_r&&$r.push(Fr),$r},Fe.prototype.getAngleAxis=function(){return this._angleAxis},Fe.prototype.getRadiusAxis=function(){return this._radiusAxis},Fe.prototype.getOtherAxis=function(_r){var $r=this._angleAxis;return _r===$r?this._radiusAxis:$r},Fe.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},Fe.prototype.getTooltipAxes=function(_r){var $r=_r!=null&&_r!=="auto"?this.getAxis(_r):this.getBaseAxis();return{baseAxes:[$r],otherAxes:[this.getOtherAxis($r)]}},Fe.prototype.dataToPoint=function(_r,$r){return this.coordToPoint([this._radiusAxis.dataToRadius(_r[0],$r),this._angleAxis.dataToAngle(_r[1],$r)])},Fe.prototype.pointToData=function(_r,$r){var Br=this.pointToCoord(_r);return[this._radiusAxis.radiusToData(Br[0],$r),this._angleAxis.angleToData(Br[1],$r)]},Fe.prototype.pointToCoord=function(_r){var $r=_r[0]-this.cx,Br=_r[1]-this.cy,Fr=this.getAngleAxis(),zr=Fr.getExtent(),jr=Math.min(zr[0],zr[1]),Ur=Math.max(zr[0],zr[1]);Fr.inverse?jr=Ur-360:Ur=jr+360;var Gr=Math.sqrt($r*$r+Br*Br);$r/=Gr,Br/=Gr;for(var Yr=Math.atan2(-Br,$r)/Math.PI*180,Kr=Yr<jr?1:-1;Yr<jr||Yr>Ur;)Yr+=Kr*360;return[Gr,Yr]},Fe.prototype.coordToPoint=function(_r){var $r=_r[0],Br=_r[1]/180*Math.PI,Fr=Math.cos(Br)*$r+this.cx,zr=-Math.sin(Br)*$r+this.cy;return[Fr,zr]},Fe.prototype.getArea=function(){var _r=this.getAngleAxis(),$r=this.getRadiusAxis(),Br=$r.getExtent().slice();Br[0]>Br[1]&&Br.reverse();var Fr=_r.getExtent(),zr=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:Br[0],r:Br[1],startAngle:-Fr[0]*zr,endAngle:-Fr[1]*zr,clockwise:_r.inverse,contain:function(jr,Ur){var Gr=jr-this.cx,Yr=Ur-this.cy,Kr=Gr*Gr+Yr*Yr-1e-4,Qr=this.r,Jr=this.r0;return Kr<=Qr*Qr&&Kr>=Jr*Jr}}},Fe.prototype.convertToPixel=function(_r,$r,Br){var Fr=getCoordSys$2($r);return Fr===this?this.dataToPoint(Br):null},Fe.prototype.convertFromPixel=function(_r,$r,Br){var Fr=getCoordSys$2($r);return Fr===this?this.pointToData(Br):null},Fe}();function getCoordSys$2(Fe){var _r=Fe.seriesModel,$r=Fe.polarModel;return $r&&$r.coordinateSystem||_r&&_r.coordinateSystem}const Polar$1=Polar;function resizePolar(Fe,_r,$r){var Br=_r.get("center"),Fr=$r.getWidth(),zr=$r.getHeight();Fe.cx=parsePercent(Br[0],Fr),Fe.cy=parsePercent(Br[1],zr);var jr=Fe.getRadiusAxis(),Ur=Math.min(Fr,zr)/2,Gr=_r.get("radius");Gr==null?Gr=[0,"100%"]:isArray$1(Gr)||(Gr=[0,Gr]);var Yr=[parsePercent(Gr[0],Ur),parsePercent(Gr[1],Ur)];jr.inverse?jr.setExtent(Yr[1],Yr[0]):jr.setExtent(Yr[0],Yr[1])}function updatePolarScale(Fe,_r){var $r=this,Br=$r.getAngleAxis(),Fr=$r.getRadiusAxis();if(Br.scale.setExtent(1/0,-1/0),Fr.scale.setExtent(1/0,-1/0),Fe.eachSeries(function(Ur){if(Ur.coordinateSystem===$r){var Gr=Ur.getData();each$f(getDataDimensionsOnAxis(Gr,"radius"),function(Yr){Fr.scale.unionExtentFromData(Gr,Yr)}),each$f(getDataDimensionsOnAxis(Gr,"angle"),function(Yr){Br.scale.unionExtentFromData(Gr,Yr)})}}),niceScaleExtent(Br.scale,Br.model),niceScaleExtent(Fr.scale,Fr.model),Br.type==="category"&&!Br.onBand){var zr=Br.getExtent(),jr=360/Br.scale.count();Br.inverse?zr[1]+=jr:zr[1]-=jr,Br.setExtent(zr[0],zr[1])}}function isAngleAxisModel(Fe){return Fe.mainType==="angleAxis"}function setAxis(Fe,_r){if(Fe.type=_r.get("type"),Fe.scale=createScaleByModel$1(_r),Fe.onBand=_r.get("boundaryGap")&&Fe.type==="category",Fe.inverse=_r.get("inverse"),isAngleAxisModel(_r)){Fe.inverse=Fe.inverse!==_r.get("clockwise");var $r=_r.get("startAngle");Fe.setExtent($r,$r+(Fe.inverse?-360:360))}_r.axis=Fe,Fe.model=_r}var polarCreator={dimensions:polarDimensions,create:function(Fe,_r){var $r=[];return Fe.eachComponent("polar",function(Br,Fr){var zr=new Polar$1(Fr+"");zr.update=updatePolarScale;var jr=zr.getRadiusAxis(),Ur=zr.getAngleAxis(),Gr=Br.findAxisModel("radiusAxis"),Yr=Br.findAxisModel("angleAxis");setAxis(jr,Gr),setAxis(Ur,Yr),resizePolar(zr,Br,_r),$r.push(zr),Br.coordinateSystem=zr,zr.model=Br}),Fe.eachSeries(function(Br){if(Br.get("coordinateSystem")==="polar"){var Fr=Br.getReferringComponents("polar",SINGLE_REFERRING).models[0];Br.coordinateSystem=Fr.coordinateSystem}}),$r}};const polarCreator$1=polarCreator;var elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(Fe,_r,$r){_r[1]>_r[0]&&(_r=_r.slice().reverse());var Br=Fe.coordToPoint([_r[0],$r]),Fr=Fe.coordToPoint([_r[1],$r]);return{x1:Br[0],y1:Br[1],x2:Fr[0],y2:Fr[1]}}function getRadiusIdx(Fe){var _r=Fe.getRadiusAxis();return _r.inverse?0:1}function fixAngleOverlap(Fe){var _r=Fe[0],$r=Fe[Fe.length-1];_r&&$r&&Math.abs(Math.abs(_r.coord-$r.coord)-360)<1e-4&&Fe.pop()}var AngleAxisView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.axisPointerClass="PolarAxisPointer",$r}return _r.prototype.render=function($r,Br){if(this.group.removeAll(),!!$r.get("show")){var Fr=$r.axis,zr=Fr.polar,jr=zr.getRadiusAxis().getExtent(),Ur=Fr.getTicksCoords(),Gr=Fr.getMinorTicksCoords(),Yr=map$1(Fr.getViewLabels(),function(Kr){Kr=clone$4(Kr);var Qr=Fr.scale,Jr=Qr.type==="ordinal"?Qr.getRawOrdinalNumber(Kr.tickValue):Kr.tickValue;return Kr.coord=Fr.dataToCoord(Jr),Kr});fixAngleOverlap(Yr),fixAngleOverlap(Ur),each$f(elementList,function(Kr){$r.get([Kr,"show"])&&(!Fr.scale.isBlank()||Kr==="axisLine")&&angelAxisElementsBuilders[Kr](this.group,$r,zr,Ur,Gr,jr,Yr)},this)}},_r.type="angleAxis",_r}(AxisView$1),angelAxisElementsBuilders={axisLine:function(Fe,_r,$r,Br,Fr,zr){var jr=_r.getModel(["axisLine","lineStyle"]),Ur=getRadiusIdx($r),Gr=Ur?0:1,Yr;zr[Gr]===0?Yr=new Circle$1({shape:{cx:$r.cx,cy:$r.cy,r:zr[Ur]},style:jr.getLineStyle(),z2:1,silent:!0}):Yr=new Ring$1({shape:{cx:$r.cx,cy:$r.cy,r:zr[Ur],r0:zr[Gr]},style:jr.getLineStyle(),z2:1,silent:!0}),Yr.style.fill=null,Fe.add(Yr)},axisTick:function(Fe,_r,$r,Br,Fr,zr){var jr=_r.getModel("axisTick"),Ur=(jr.get("inside")?-1:1)*jr.get("length"),Gr=zr[getRadiusIdx($r)],Yr=map$1(Br,function(Kr){return new Line$3({shape:getAxisLineShape($r,[Gr,Gr+Ur],Kr.coord)})});Fe.add(mergePath(Yr,{style:defaults(jr.getModel("lineStyle").getLineStyle(),{stroke:_r.get(["axisLine","lineStyle","color"])})}))},minorTick:function(Fe,_r,$r,Br,Fr,zr){if(Fr.length){for(var jr=_r.getModel("axisTick"),Ur=_r.getModel("minorTick"),Gr=(jr.get("inside")?-1:1)*Ur.get("length"),Yr=zr[getRadiusIdx($r)],Kr=[],Qr=0;Qr<Fr.length;Qr++)for(var Jr=0;Jr<Fr[Qr].length;Jr++)Kr.push(new Line$3({shape:getAxisLineShape($r,[Yr,Yr+Gr],Fr[Qr][Jr].coord)}));Fe.add(mergePath(Kr,{style:defaults(Ur.getModel("lineStyle").getLineStyle(),defaults(jr.getLineStyle(),{stroke:_r.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(Fe,_r,$r,Br,Fr,zr,jr){var Ur=_r.getCategories(!0),Gr=_r.getModel("axisLabel"),Yr=Gr.get("margin"),Kr=_r.get("triggerEvent");each$f(jr,function(Qr,Jr){var rn=Gr,an=Qr.tickValue,ln=zr[getRadiusIdx($r)],dn=$r.coordToPoint([ln+Yr,Qr.coord]),hn=$r.cx,gn=$r.cy,bn=Math.abs(dn[0]-hn)/ln<.3?"center":dn[0]>hn?"left":"right",kn=Math.abs(dn[1]-gn)/ln<.3?"middle":dn[1]>gn?"top":"bottom";if(Ur&&Ur[an]){var Sn=Ur[an];isObject$3(Sn)&&Sn.textStyle&&(rn=new Model$1(Sn.textStyle,Gr,Gr.ecModel))}var _n=new ZRText$1({silent:AxisBuilder$1.isLabelSilent(_r),style:createTextStyle$1(rn,{x:dn[0],y:dn[1],fill:rn.getTextColor()||_r.get(["axisLine","lineStyle","color"]),text:Qr.formattedLabel,align:bn,verticalAlign:kn})});if(Fe.add(_n),Kr){var pn=AxisBuilder$1.makeAxisEventDataBase(_r);pn.targetType="axisLabel",pn.value=Qr.rawLabel,getECData(_n).eventData=pn}},this)},splitLine:function(Fe,_r,$r,Br,Fr,zr){var jr=_r.getModel("splitLine"),Ur=jr.getModel("lineStyle"),Gr=Ur.get("color"),Yr=0;Gr=Gr instanceof Array?Gr:[Gr];for(var Kr=[],Qr=0;Qr<Br.length;Qr++){var Jr=Yr++%Gr.length;Kr[Jr]=Kr[Jr]||[],Kr[Jr].push(new Line$3({shape:getAxisLineShape($r,zr,Br[Qr].coord)}))}for(var Qr=0;Qr<Kr.length;Qr++)Fe.add(mergePath(Kr[Qr],{style:defaults({stroke:Gr[Qr%Gr.length]},Ur.getLineStyle()),silent:!0,z:_r.get("z")}))},minorSplitLine:function(Fe,_r,$r,Br,Fr,zr){if(Fr.length){for(var jr=_r.getModel("minorSplitLine"),Ur=jr.getModel("lineStyle"),Gr=[],Yr=0;Yr<Fr.length;Yr++)for(var Kr=0;Kr<Fr[Yr].length;Kr++)Gr.push(new Line$3({shape:getAxisLineShape($r,zr,Fr[Yr][Kr].coord)}));Fe.add(mergePath(Gr,{style:Ur.getLineStyle(),silent:!0,z:_r.get("z")}))}},splitArea:function(Fe,_r,$r,Br,Fr,zr){if(Br.length){var jr=_r.getModel("splitArea"),Ur=jr.getModel("areaStyle"),Gr=Ur.get("color"),Yr=0;Gr=Gr instanceof Array?Gr:[Gr];for(var Kr=[],Qr=Math.PI/180,Jr=-Br[0].coord*Qr,rn=Math.min(zr[0],zr[1]),an=Math.max(zr[0],zr[1]),ln=_r.get("clockwise"),dn=1,hn=Br.length;dn<=hn;dn++){var gn=dn===hn?Br[0].coord:Br[dn].coord,bn=Yr++%Gr.length;Kr[bn]=Kr[bn]||[],Kr[bn].push(new Sector$1({shape:{cx:$r.cx,cy:$r.cy,r0:rn,r:an,startAngle:Jr,endAngle:-gn*Qr,clockwise:ln},silent:!0})),Jr=-gn*Qr}for(var dn=0;dn<Kr.length;dn++)Fe.add(mergePath(Kr[dn],{style:defaults({fill:Gr[dn%Gr.length]},Ur.getAreaStyle()),silent:!0}))}}};const AngleAxisView$1=AngleAxisView;var axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.axisPointerClass="PolarAxisPointer",$r}return _r.prototype.render=function($r,Br){if(this.group.removeAll(),!!$r.get("show")){var Fr=this._axisGroup,zr=this._axisGroup=new Group$4;this.group.add(zr);var jr=$r.axis,Ur=jr.polar,Gr=Ur.getAngleAxis(),Yr=jr.getTicksCoords(),Kr=jr.getMinorTicksCoords(),Qr=Gr.getExtent()[0],Jr=jr.getExtent(),rn=layoutAxis(Ur,$r,Qr),an=new AxisBuilder$1($r,rn);each$f(axisBuilderAttrs$1,an.add,an),zr.add(an.getGroup()),groupTransition(Fr,zr,$r),each$f(selfBuilderAttrs$1,function(ln){$r.get([ln,"show"])&&!jr.scale.isBlank()&&axisElementBuilders$1[ln](this.group,$r,Ur,Qr,Jr,Yr,Kr)},this)}},_r.type="radiusAxis",_r}(AxisView$1),axisElementBuilders$1={splitLine:function(Fe,_r,$r,Br,Fr,zr){var jr=_r.getModel("splitLine"),Ur=jr.getModel("lineStyle"),Gr=Ur.get("color"),Yr=0;Gr=Gr instanceof Array?Gr:[Gr];for(var Kr=[],Qr=0;Qr<zr.length;Qr++){var Jr=Yr++%Gr.length;Kr[Jr]=Kr[Jr]||[],Kr[Jr].push(new Circle$1({shape:{cx:$r.cx,cy:$r.cy,r:Math.max(zr[Qr].coord,0)}}))}for(var Qr=0;Qr<Kr.length;Qr++)Fe.add(mergePath(Kr[Qr],{style:defaults({stroke:Gr[Qr%Gr.length],fill:null},Ur.getLineStyle()),silent:!0}))},minorSplitLine:function(Fe,_r,$r,Br,Fr,zr,jr){if(jr.length){for(var Ur=_r.getModel("minorSplitLine"),Gr=Ur.getModel("lineStyle"),Yr=[],Kr=0;Kr<jr.length;Kr++)for(var Qr=0;Qr<jr[Kr].length;Qr++)Yr.push(new Circle$1({shape:{cx:$r.cx,cy:$r.cy,r:jr[Kr][Qr].coord}}));Fe.add(mergePath(Yr,{style:defaults({fill:null},Gr.getLineStyle()),silent:!0}))}},splitArea:function(Fe,_r,$r,Br,Fr,zr){if(zr.length){var jr=_r.getModel("splitArea"),Ur=jr.getModel("areaStyle"),Gr=Ur.get("color"),Yr=0;Gr=Gr instanceof Array?Gr:[Gr];for(var Kr=[],Qr=zr[0].coord,Jr=1;Jr<zr.length;Jr++){var rn=Yr++%Gr.length;Kr[rn]=Kr[rn]||[],Kr[rn].push(new Sector$1({shape:{cx:$r.cx,cy:$r.cy,r0:Qr,r:zr[Jr].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),Qr=zr[Jr].coord}for(var Jr=0;Jr<Kr.length;Jr++)Fe.add(mergePath(Kr[Jr],{style:defaults({fill:Gr[Jr%Gr.length]},Ur.getAreaStyle()),silent:!0}))}}};function layoutAxis(Fe,_r,$r){return{position:[Fe.cx,Fe.cy],rotation:$r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:_r.getModel("axisLabel").get("rotate"),z2:1}}const RadiusAxisView$1=RadiusAxisView;function getSeriesStackId(Fe){return Fe.get("stack")||"__ec_stack_"+Fe.seriesIndex}function getAxisKey(Fe,_r){return _r.dim+Fe.model.componentIndex}function barLayoutPolar(Fe,_r,$r){var Br={},Fr=calRadialBar(filter(_r.getSeriesByType(Fe),function(zr){return!_r.isSeriesFiltered(zr)&&zr.coordinateSystem&&zr.coordinateSystem.type==="polar"}));_r.eachSeriesByType(Fe,function(zr){if(zr.coordinateSystem.type==="polar"){var jr=zr.getData(),Ur=zr.coordinateSystem,Gr=Ur.getBaseAxis(),Yr=getAxisKey(Ur,Gr),Kr=getSeriesStackId(zr),Qr=Fr[Yr][Kr],Jr=Qr.offset,rn=Qr.width,an=Ur.getOtherAxis(Gr),ln=zr.coordinateSystem.cx,dn=zr.coordinateSystem.cy,hn=zr.get("barMinHeight")||0,gn=zr.get("barMinAngle")||0;Br[Kr]=Br[Kr]||[];for(var bn=jr.mapDimension(an.dim),kn=jr.mapDimension(Gr.dim),Sn=isDimensionStacked(jr,bn),_n=Gr.dim!=="radius"||!zr.get("roundCap",!0),pn=an.dataToCoord(0),Cn=0,En=jr.count();Cn<En;Cn++){var Pn=jr.get(bn,Cn),On=jr.get(kn,Cn),jn=Pn>=0?"p":"n",Fn=pn;Sn&&(Br[Kr][On]||(Br[Kr][On]={p:pn,n:pn}),Fn=Br[Kr][On][jn]);var Wn=void 0,Hn=void 0,qn=void 0,ni=void 0;if(an.dim==="radius"){var oi=an.dataToCoord(Pn)-pn,wi=Gr.dataToCoord(On);Math.abs(oi)<hn&&(oi=(oi<0?-1:1)*hn),Wn=Fn,Hn=Fn+oi,qn=wi-Jr,ni=qn-rn,Sn&&(Br[Kr][On][jn]=Hn)}else{var Ci=an.dataToCoord(Pn,_n)-pn,Fi=Gr.dataToCoord(On);Math.abs(Ci)<gn&&(Ci=(Ci<0?-1:1)*gn),Wn=Fi+Jr,Hn=Wn+rn,qn=Fn,ni=Fn+Ci,Sn&&(Br[Kr][On][jn]=ni)}jr.setItemLayout(Cn,{cx:ln,cy:dn,r0:Wn,r:Hn,startAngle:-qn*Math.PI/180,endAngle:-ni*Math.PI/180,clockwise:qn>=ni})}}})}function calRadialBar(Fe){var _r={};each$f(Fe,function(Br,Fr){var zr=Br.getData(),jr=Br.coordinateSystem,Ur=jr.getBaseAxis(),Gr=getAxisKey(jr,Ur),Yr=Ur.getExtent(),Kr=Ur.type==="category"?Ur.getBandWidth():Math.abs(Yr[1]-Yr[0])/zr.count(),Qr=_r[Gr]||{bandWidth:Kr,remainedWidth:Kr,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},Jr=Qr.stacks;_r[Gr]=Qr;var rn=getSeriesStackId(Br);Jr[rn]||Qr.autoWidthCount++,Jr[rn]=Jr[rn]||{width:0,maxWidth:0};var an=parsePercent(Br.get("barWidth"),Kr),ln=parsePercent(Br.get("barMaxWidth"),Kr),dn=Br.get("barGap"),hn=Br.get("barCategoryGap");an&&!Jr[rn].width&&(an=Math.min(Qr.remainedWidth,an),Jr[rn].width=an,Qr.remainedWidth-=an),ln&&(Jr[rn].maxWidth=ln),dn!=null&&(Qr.gap=dn),hn!=null&&(Qr.categoryGap=hn)});var $r={};return each$f(_r,function(Br,Fr){$r[Fr]={};var zr=Br.stacks,jr=Br.bandWidth,Ur=parsePercent(Br.categoryGap,jr),Gr=parsePercent(Br.gap,1),Yr=Br.remainedWidth,Kr=Br.autoWidthCount,Qr=(Yr-Ur)/(Kr+(Kr-1)*Gr);Qr=Math.max(Qr,0),each$f(zr,function(ln,dn){var hn=ln.maxWidth;hn&&hn<Qr&&(hn=Math.min(hn,Yr),ln.width&&(hn=Math.min(hn,ln.width)),Yr-=hn,ln.width=hn,Kr--)}),Qr=(Yr-Ur)/(Kr+(Kr-1)*Gr),Qr=Math.max(Qr,0);var Jr=0,rn;each$f(zr,function(ln,dn){ln.width||(ln.width=Qr),rn=ln,Jr+=ln.width*(1+Gr)}),rn&&(Jr-=rn.width*Gr);var an=-Jr/2;each$f(zr,function(ln,dn){$r[Fr][dn]=$r[Fr][dn]||{offset:an,width:ln.width},an+=ln.width*(1+Gr)})}),$r}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="polar",_r}(ComponentView$1);function install$o(Fe){use(install$q),AxisView$1.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$1),Fe.registerCoordinateSystem("polar",polarCreator$1),Fe.registerComponentModel(PolarModel$1),Fe.registerComponentView(PolarView),axisModelCreator(Fe,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(Fe,"radius",RadiusAxisModel,radiusAxisExtraOption),Fe.registerComponentView(AngleAxisView$1),Fe.registerComponentView(RadiusAxisView$1),Fe.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(Fe,_r){_r=_r||{};var $r=Fe.coordinateSystem,Br=Fe.axis,Fr={},zr=Br.position,jr=Br.orient,Ur=$r.getRect(),Gr=[Ur.x,Ur.x+Ur.width,Ur.y,Ur.y+Ur.height],Yr={horizontal:{top:Gr[2],bottom:Gr[3]},vertical:{left:Gr[0],right:Gr[1]}};Fr.position=[jr==="vertical"?Yr.vertical[zr]:Gr[0],jr==="horizontal"?Yr.horizontal[zr]:Gr[3]];var Kr={horizontal:0,vertical:1};Fr.rotation=Math.PI/2*Kr[jr];var Qr={top:-1,bottom:1,right:1,left:-1};Fr.labelDirection=Fr.tickDirection=Fr.nameDirection=Qr[zr],Fe.get(["axisTick","inside"])&&(Fr.tickDirection=-Fr.tickDirection),retrieve(_r.labelInside,Fe.get(["axisLabel","inside"]))&&(Fr.labelDirection=-Fr.labelDirection);var Jr=_r.rotate;return Jr==null&&(Jr=Fe.get(["axisLabel","rotate"])),Fr.labelRotation=zr==="top"?-Jr:Jr,Fr.z2=1,Fr}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.axisPointerClass="SingleAxisPointer",$r}return _r.prototype.render=function($r,Br,Fr,zr){var jr=this.group;jr.removeAll();var Ur=this._axisGroup;this._axisGroup=new Group$4;var Gr=layout$1($r),Yr=new AxisBuilder$1($r,Gr);each$f(axisBuilderAttrs,Yr.add,Yr),jr.add(this._axisGroup),jr.add(Yr.getGroup()),each$f(selfBuilderAttrs,function(Kr){$r.get([Kr,"show"])&&axisElementBuilders[Kr](this,this.group,this._axisGroup,$r)},this),groupTransition(Ur,this._axisGroup,$r),Fe.prototype.render.call(this,$r,Br,Fr,zr)},_r.prototype.remove=function(){rectCoordAxisHandleRemove(this)},_r.type="singleAxis",_r}(AxisView$1),axisElementBuilders={splitLine:function(Fe,_r,$r,Br){var Fr=Br.axis;if(!Fr.scale.isBlank()){var zr=Br.getModel("splitLine"),jr=zr.getModel("lineStyle"),Ur=jr.get("color");Ur=Ur instanceof Array?Ur:[Ur];for(var Gr=jr.get("width"),Yr=Br.coordinateSystem.getRect(),Kr=Fr.isHorizontal(),Qr=[],Jr=0,rn=Fr.getTicksCoords({tickModel:zr}),an=[],ln=[],dn=0;dn<rn.length;++dn){var hn=Fr.toGlobalCoord(rn[dn].coord);Kr?(an[0]=hn,an[1]=Yr.y,ln[0]=hn,ln[1]=Yr.y+Yr.height):(an[0]=Yr.x,an[1]=hn,ln[0]=Yr.x+Yr.width,ln[1]=hn);var gn=new Line$3({shape:{x1:an[0],y1:an[1],x2:ln[0],y2:ln[1]},silent:!0});subPixelOptimizeLine(gn.shape,Gr);var bn=Jr++%Ur.length;Qr[bn]=Qr[bn]||[],Qr[bn].push(gn)}for(var kn=jr.getLineStyle(["color"]),dn=0;dn<Qr.length;++dn)_r.add(mergePath(Qr[dn],{style:defaults({stroke:Ur[dn%Ur.length]},kn),silent:!0}))}},splitArea:function(Fe,_r,$r,Br){rectCoordAxisBuildSplitArea(Fe,$r,Br,Br)}};const SingleAxisView$1=SingleAxisView;var SingleAxisModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.getCoordSysModel=function(){return this},_r.type="singleAxis",_r.layoutMode="box",_r.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},_r}(ComponentModel$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);const SingleAxisModel$1=SingleAxisModel;var SingleAxis=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr,zr,jr){var Ur=Fe.call(this,$r,Br,Fr)||this;return Ur.type=zr||"value",Ur.position=jr||"bottom",Ur}return _r.prototype.isHorizontal=function(){var $r=this.position;return $r==="top"||$r==="bottom"},_r.prototype.pointToData=function($r,Br){return this.coordinateSystem.pointToData($r)[0]},_r}(Axis$1);const SingleAxis$1=SingleAxis;var singleDimensions=["single"],Single=function(){function Fe(_r,$r,Br){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=_r,this._init(_r,$r,Br)}return Fe.prototype._init=function(_r,$r,Br){var Fr=this.dimension,zr=new SingleAxis$1(Fr,createScaleByModel$1(_r),[0,0],_r.get("type"),_r.get("position")),jr=zr.type==="category";zr.onBand=jr&&_r.get("boundaryGap"),zr.inverse=_r.get("inverse"),zr.orient=_r.get("orient"),_r.axis=zr,zr.model=_r,zr.coordinateSystem=this,this._axis=zr},Fe.prototype.update=function(_r,$r){_r.eachSeries(function(Br){if(Br.coordinateSystem===this){var Fr=Br.getData();each$f(Fr.mapDimensionsAll(this.dimension),function(zr){this._axis.scale.unionExtentFromData(Fr,zr)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},Fe.prototype.resize=function(_r,$r){this._rect=getLayoutRect({left:_r.get("left"),top:_r.get("top"),right:_r.get("right"),bottom:_r.get("bottom"),width:_r.get("width"),height:_r.get("height")},{width:$r.getWidth(),height:$r.getHeight()}),this._adjustAxis()},Fe.prototype.getRect=function(){return this._rect},Fe.prototype._adjustAxis=function(){var _r=this._rect,$r=this._axis,Br=$r.isHorizontal(),Fr=Br?[0,_r.width]:[0,_r.height],zr=$r.inverse?1:0;$r.setExtent(Fr[zr],Fr[1-zr]),this._updateAxisTransform($r,Br?_r.x:_r.y)},Fe.prototype._updateAxisTransform=function(_r,$r){var Br=_r.getExtent(),Fr=Br[0]+Br[1],zr=_r.isHorizontal();_r.toGlobalCoord=zr?function(jr){return jr+$r}:function(jr){return Fr-jr+$r},_r.toLocalCoord=zr?function(jr){return jr-$r}:function(jr){return Fr-jr+$r}},Fe.prototype.getAxis=function(){return this._axis},Fe.prototype.getBaseAxis=function(){return this._axis},Fe.prototype.getAxes=function(){return[this._axis]},Fe.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},Fe.prototype.containPoint=function(_r){var $r=this.getRect(),Br=this.getAxis(),Fr=Br.orient;return Fr==="horizontal"?Br.contain(Br.toLocalCoord(_r[0]))&&_r[1]>=$r.y&&_r[1]<=$r.y+$r.height:Br.contain(Br.toLocalCoord(_r[1]))&&_r[0]>=$r.y&&_r[0]<=$r.y+$r.height},Fe.prototype.pointToData=function(_r){var $r=this.getAxis();return[$r.coordToData($r.toLocalCoord(_r[$r.orient==="horizontal"?0:1]))]},Fe.prototype.dataToPoint=function(_r){var $r=this.getAxis(),Br=this.getRect(),Fr=[],zr=$r.orient==="horizontal"?0:1;return _r instanceof Array&&(_r=_r[0]),Fr[zr]=$r.toGlobalCoord($r.dataToCoord(+_r)),Fr[1-zr]=zr===0?Br.y+Br.height/2:Br.x+Br.width/2,Fr},Fe.prototype.convertToPixel=function(_r,$r,Br){var Fr=getCoordSys$1($r);return Fr===this?this.dataToPoint(Br):null},Fe.prototype.convertFromPixel=function(_r,$r,Br){var Fr=getCoordSys$1($r);return Fr===this?this.pointToData(Br):null},Fe}();function getCoordSys$1(Fe){var _r=Fe.seriesModel,$r=Fe.singleAxisModel;return $r&&$r.coordinateSystem||_r&&_r.coordinateSystem}function create(Fe,_r){var $r=[];return Fe.eachComponent("singleAxis",function(Br,Fr){var zr=new Single(Br,Fe,_r);zr.name="single_"+Fr,zr.resize(Br,_r),Br.coordinateSystem=zr,$r.push(zr)}),Fe.eachSeries(function(Br){if(Br.get("coordinateSystem")==="singleAxis"){var Fr=Br.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];Br.coordinateSystem=Fr&&Fr.coordinateSystem}}),$r}var singleCreator={create,dimensions:singleDimensions};const singleCreator$1=singleCreator;var XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.makeElOption=function($r,Br,Fr,zr,jr){var Ur=Fr.axis,Gr=Ur.coordinateSystem,Yr=getGlobalExtent(Gr,1-getPointDimIndex(Ur)),Kr=Gr.dataToPoint(Br)[0],Qr=zr.get("type");if(Qr&&Qr!=="none"){var Jr=buildElStyle(zr),rn=pointerShapeBuilder[Qr](Ur,Kr,Yr);rn.style=Jr,$r.graphicKey=rn.type,$r.pointer=rn}var an=layout$1(Fr);buildCartesianSingleLabelElOption(Br,$r,an,Fr,zr,jr)},_r.prototype.getHandleTransform=function($r,Br,Fr){var zr=layout$1(Br,{labelInside:!1});zr.labelMargin=Fr.get(["handle","margin"]);var jr=getTransformedPosition(Br.axis,$r,zr);return{x:jr[0],y:jr[1],rotation:zr.rotation+(zr.labelDirection<0?Math.PI:0)}},_r.prototype.updateHandleTransform=function($r,Br,Fr,zr){var jr=Fr.axis,Ur=jr.coordinateSystem,Gr=getPointDimIndex(jr),Yr=getGlobalExtent(Ur,Gr),Kr=[$r.x,$r.y];Kr[Gr]+=Br[Gr],Kr[Gr]=Math.min(Yr[1],Kr[Gr]),Kr[Gr]=Math.max(Yr[0],Kr[Gr]);var Qr=getGlobalExtent(Ur,1-Gr),Jr=(Qr[1]+Qr[0])/2,rn=[Jr,Jr];return rn[Gr]=Kr[Gr],{x:Kr[0],y:Kr[1],rotation:$r.rotation,cursorPoint:rn,tooltipOption:{verticalAlign:"middle"}}},_r}(BaseAxisPointer$1),pointerShapeBuilder={line:function(Fe,_r,$r){var Br=makeLineShape([_r,$r[0]],[_r,$r[1]],getPointDimIndex(Fe));return{type:"Line",subPixelOptimize:!0,shape:Br}},shadow:function(Fe,_r,$r){var Br=Fe.getBandWidth(),Fr=$r[1]-$r[0];return{type:"Rect",shape:makeRectShape([_r-Br/2,$r[0]],[Br,Fr],getPointDimIndex(Fe))}}};function getPointDimIndex(Fe){return Fe.isHorizontal()?0:1}function getGlobalExtent(Fe,_r){var $r=Fe.getRect();return[$r[XY$1[_r]],$r[XY$1[_r]]+$r[WH$1[_r]]]}const SingleAxisPointer$1=SingleAxisPointer;var SingleView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="single",_r}(ComponentView$1);function install$n(Fe){use(install$q),AxisView$1.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$1),Fe.registerComponentView(SingleView),Fe.registerComponentView(SingleAxisView$1),Fe.registerComponentModel(SingleAxisModel$1),axisModelCreator(Fe,"single",SingleAxisModel$1,SingleAxisModel$1.defaultOption),Fe.registerCoordinateSystem("single",singleCreator$1)}var CalendarModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function($r,Br,Fr){var zr=getLayoutParams($r);Fe.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1($r,zr)},_r.prototype.mergeOption=function($r){Fe.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,$r)},_r.prototype.getCellSize=function(){return this.option.cellSize},_r.type="calendar",_r.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},_r}(ComponentModel$1);function mergeAndNormalizeLayoutParams$1(Fe,_r){var $r=Fe.cellSize,Br;isArray$1($r)?Br=$r:Br=Fe.cellSize=[$r,$r],Br.length===1&&(Br[1]=Br[0]);var Fr=map$1([0,1],function(zr){return sizeCalculable(_r,zr)&&(Br[zr]="auto"),Br[zr]!=null&&Br[zr]!=="auto"});mergeLayoutParam(Fe,_r,{type:"box",ignoreSize:Fr})}const CalendarModel$1=CalendarModel;var CalendarView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){var zr=this.group;zr.removeAll();var jr=$r.coordinateSystem,Ur=jr.getRangeInfo(),Gr=jr.getOrient(),Yr=Br.getLocaleModel();this._renderDayRect($r,Ur,zr),this._renderLines($r,Ur,Gr,zr),this._renderYearText($r,Ur,Gr,zr),this._renderMonthText($r,Yr,Gr,zr),this._renderWeekText($r,Yr,Ur,Gr,zr)},_r.prototype._renderDayRect=function($r,Br,Fr){for(var zr=$r.coordinateSystem,jr=$r.getModel("itemStyle").getItemStyle(),Ur=zr.getCellWidth(),Gr=zr.getCellHeight(),Yr=Br.start.time;Yr<=Br.end.time;Yr=zr.getNextNDay(Yr,1).time){var Kr=zr.dataToRect([Yr],!1).tl,Qr=new Rect$3({shape:{x:Kr[0],y:Kr[1],width:Ur,height:Gr},cursor:"default",style:jr});Fr.add(Qr)}},_r.prototype._renderLines=function($r,Br,Fr,zr){var jr=this,Ur=$r.coordinateSystem,Gr=$r.getModel(["splitLine","lineStyle"]).getLineStyle(),Yr=$r.get(["splitLine","show"]),Kr=Gr.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var Qr=Br.start,Jr=0;Qr.time<=Br.end.time;Jr++){an(Qr.formatedDate),Jr===0&&(Qr=Ur.getDateInfo(Br.start.y+"-"+Br.start.m));var rn=Qr.date;rn.setMonth(rn.getMonth()+1),Qr=Ur.getDateInfo(rn)}an(Ur.getNextNDay(Br.end.time,1).formatedDate);function an(ln){jr._firstDayOfMonth.push(Ur.getDateInfo(ln)),jr._firstDayPoints.push(Ur.dataToRect([ln],!1).tl);var dn=jr._getLinePointsOfOneWeek($r,ln,Fr);jr._tlpoints.push(dn[0]),jr._blpoints.push(dn[dn.length-1]),Yr&&jr._drawSplitline(dn,Gr,zr)}Yr&&this._drawSplitline(jr._getEdgesPoints(jr._tlpoints,Kr,Fr),Gr,zr),Yr&&this._drawSplitline(jr._getEdgesPoints(jr._blpoints,Kr,Fr),Gr,zr)},_r.prototype._getEdgesPoints=function($r,Br,Fr){var zr=[$r[0].slice(),$r[$r.length-1].slice()],jr=Fr==="horizontal"?0:1;return zr[0][jr]=zr[0][jr]-Br/2,zr[1][jr]=zr[1][jr]+Br/2,zr},_r.prototype._drawSplitline=function($r,Br,Fr){var zr=new Polyline$3({z2:20,shape:{points:$r},style:Br});Fr.add(zr)},_r.prototype._getLinePointsOfOneWeek=function($r,Br,Fr){for(var zr=$r.coordinateSystem,jr=zr.getDateInfo(Br),Ur=[],Gr=0;Gr<7;Gr++){var Yr=zr.getNextNDay(jr.time,Gr),Kr=zr.dataToRect([Yr.time],!1);Ur[2*Yr.day]=Kr.tl,Ur[2*Yr.day+1]=Kr[Fr==="horizontal"?"bl":"tr"]}return Ur},_r.prototype._formatterLabel=function($r,Br){return isString($r)&&$r?formatTplSimple($r,Br):isFunction($r)?$r(Br):Br.nameMap},_r.prototype._yearTextPositionControl=function($r,Br,Fr,zr,jr){var Ur=Br[0],Gr=Br[1],Yr=["center","bottom"];zr==="bottom"?(Gr+=jr,Yr=["center","top"]):zr==="left"?Ur-=jr:zr==="right"?(Ur+=jr,Yr=["center","top"]):Gr-=jr;var Kr=0;return(zr==="left"||zr==="right")&&(Kr=Math.PI/2),{rotation:Kr,x:Ur,y:Gr,style:{align:Yr[0],verticalAlign:Yr[1]}}},_r.prototype._renderYearText=function($r,Br,Fr,zr){var jr=$r.getModel("yearLabel");if(jr.get("show")){var Ur=jr.get("margin"),Gr=jr.get("position");Gr||(Gr=Fr!=="horizontal"?"top":"left");var Yr=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],Kr=(Yr[0][0]+Yr[1][0])/2,Qr=(Yr[0][1]+Yr[1][1])/2,Jr=Fr==="horizontal"?0:1,rn={top:[Kr,Yr[Jr][1]],bottom:[Kr,Yr[1-Jr][1]],left:[Yr[1-Jr][0],Qr],right:[Yr[Jr][0],Qr]},an=Br.start.y;+Br.end.y>+Br.start.y&&(an=an+"-"+Br.end.y);var ln=jr.get("formatter"),dn={start:Br.start.y,end:Br.end.y,nameMap:an},hn=this._formatterLabel(ln,dn),gn=new ZRText$1({z2:30,style:createTextStyle$1(jr,{text:hn})});gn.attr(this._yearTextPositionControl(gn,rn[Gr],Fr,Gr,Ur)),zr.add(gn)}},_r.prototype._monthTextPositionControl=function($r,Br,Fr,zr,jr){var Ur="left",Gr="top",Yr=$r[0],Kr=$r[1];return Fr==="horizontal"?(Kr=Kr+jr,Br&&(Ur="center"),zr==="start"&&(Gr="bottom")):(Yr=Yr+jr,Br&&(Gr="middle"),zr==="start"&&(Ur="right")),{x:Yr,y:Kr,align:Ur,verticalAlign:Gr}},_r.prototype._renderMonthText=function($r,Br,Fr,zr){var jr=$r.getModel("monthLabel");if(jr.get("show")){var Ur=jr.get("nameMap"),Gr=jr.get("margin"),Yr=jr.get("position"),Kr=jr.get("align"),Qr=[this._tlpoints,this._blpoints];(!Ur||isString(Ur))&&(Ur&&(Br=getLocaleModel(Ur)||Br),Ur=Br.get(["time","monthAbbr"])||[]);var Jr=Yr==="start"?0:1,rn=Fr==="horizontal"?0:1;Gr=Yr==="start"?-Gr:Gr;for(var an=Kr==="center",ln=0;ln<Qr[Jr].length-1;ln++){var dn=Qr[Jr][ln].slice(),hn=this._firstDayOfMonth[ln];if(an){var gn=this._firstDayPoints[ln];dn[rn]=(gn[rn]+Qr[0][ln+1][rn])/2}var bn=jr.get("formatter"),kn=Ur[+hn.m-1],Sn={yyyy:hn.y,yy:(hn.y+"").slice(2),MM:hn.m,M:+hn.m,nameMap:kn},_n=this._formatterLabel(bn,Sn),pn=new ZRText$1({z2:30,style:extend$1(createTextStyle$1(jr,{text:_n}),this._monthTextPositionControl(dn,an,Fr,Yr,Gr))});zr.add(pn)}}},_r.prototype._weekTextPositionControl=function($r,Br,Fr,zr,jr){var Ur="center",Gr="middle",Yr=$r[0],Kr=$r[1],Qr=Fr==="start";return Br==="horizontal"?(Yr=Yr+zr+(Qr?1:-1)*jr[0]/2,Ur=Qr?"right":"left"):(Kr=Kr+zr+(Qr?1:-1)*jr[1]/2,Gr=Qr?"bottom":"top"),{x:Yr,y:Kr,align:Ur,verticalAlign:Gr}},_r.prototype._renderWeekText=function($r,Br,Fr,zr,jr){var Ur=$r.getModel("dayLabel");if(Ur.get("show")){var Gr=$r.coordinateSystem,Yr=Ur.get("position"),Kr=Ur.get("nameMap"),Qr=Ur.get("margin"),Jr=Gr.getFirstDayOfWeek();if(!Kr||isString(Kr)){Kr&&(Br=getLocaleModel(Kr)||Br);var rn=Br.get(["time","dayOfWeekShort"]);Kr=rn||map$1(Br.get(["time","dayOfWeekAbbr"]),function(Sn){return Sn[0]})}var an=Gr.getNextNDay(Fr.end.time,7-Fr.lweek).time,ln=[Gr.getCellWidth(),Gr.getCellHeight()];Qr=parsePercent(Qr,Math.min(ln[1],ln[0])),Yr==="start"&&(an=Gr.getNextNDay(Fr.start.time,-(7+Fr.fweek)).time,Qr=-Qr);for(var dn=0;dn<7;dn++){var hn=Gr.getNextNDay(an,dn),gn=Gr.dataToRect([hn.time],!1).center,bn=dn;bn=Math.abs((dn+Jr)%7);var kn=new ZRText$1({z2:30,style:extend$1(createTextStyle$1(Ur,{text:Kr[bn]}),this._weekTextPositionControl(gn,zr,Yr,Qr,ln))});jr.add(kn)}}},_r.type="calendar",_r}(ComponentView$1);const CalendarView$1=CalendarView;var PROXIMATE_ONE_DAY=864e5,Calendar=function(){function Fe(_r,$r,Br){this.type="calendar",this.dimensions=Fe.dimensions,this.getDimensionsInfo=Fe.getDimensionsInfo,this._model=_r}return Fe.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},Fe.prototype.getRangeInfo=function(){return this._rangeInfo},Fe.prototype.getModel=function(){return this._model},Fe.prototype.getRect=function(){return this._rect},Fe.prototype.getCellWidth=function(){return this._sw},Fe.prototype.getCellHeight=function(){return this._sh},Fe.prototype.getOrient=function(){return this._orient},Fe.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},Fe.prototype.getDateInfo=function(_r){_r=parseDate(_r);var $r=_r.getFullYear(),Br=_r.getMonth()+1,Fr=Br<10?"0"+Br:""+Br,zr=_r.getDate(),jr=zr<10?"0"+zr:""+zr,Ur=_r.getDay();return Ur=Math.abs((Ur+7-this.getFirstDayOfWeek())%7),{y:$r+"",m:Fr,d:jr,day:Ur,time:_r.getTime(),formatedDate:$r+"-"+Fr+"-"+jr,date:_r}},Fe.prototype.getNextNDay=function(_r,$r){return $r=$r||0,$r===0?this.getDateInfo(_r):(_r=new Date(this.getDateInfo(_r).time),_r.setDate(_r.getDate()+$r),this.getDateInfo(_r))},Fe.prototype.update=function(_r,$r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var Br=this._rangeInfo.weeks||1,Fr=["width","height"],zr=this._model.getCellSize().slice(),jr=this._model.getBoxLayoutParams(),Ur=this._orient==="horizontal"?[Br,7]:[7,Br];each$f([0,1],function(Qr){Kr(zr,Qr)&&(jr[Fr[Qr]]=zr[Qr]*Ur[Qr])});var Gr={width:$r.getWidth(),height:$r.getHeight()},Yr=this._rect=getLayoutRect(jr,Gr);each$f([0,1],function(Qr){Kr(zr,Qr)||(zr[Qr]=Yr[Fr[Qr]]/Ur[Qr])});function Kr(Qr,Jr){return Qr[Jr]!=null&&Qr[Jr]!=="auto"}this._sw=zr[0],this._sh=zr[1]},Fe.prototype.dataToPoint=function(_r,$r){isArray$1(_r)&&(_r=_r[0]),$r==null&&($r=!0);var Br=this.getDateInfo(_r),Fr=this._rangeInfo,zr=Br.formatedDate;if($r&&!(Br.time>=Fr.start.time&&Br.time<Fr.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var jr=Br.day,Ur=this._getRangeInfo([Fr.start.time,zr]).nthWeek;return this._orient==="vertical"?[this._rect.x+jr*this._sw+this._sw/2,this._rect.y+Ur*this._sh+this._sh/2]:[this._rect.x+Ur*this._sw+this._sw/2,this._rect.y+jr*this._sh+this._sh/2]},Fe.prototype.pointToData=function(_r){var $r=this.pointToDate(_r);return $r&&$r.time},Fe.prototype.dataToRect=function(_r,$r){var Br=this.dataToPoint(_r,$r);return{contentShape:{x:Br[0]-(this._sw-this._lineWidth)/2,y:Br[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:Br,tl:[Br[0]-this._sw/2,Br[1]-this._sh/2],tr:[Br[0]+this._sw/2,Br[1]-this._sh/2],br:[Br[0]+this._sw/2,Br[1]+this._sh/2],bl:[Br[0]-this._sw/2,Br[1]+this._sh/2]}},Fe.prototype.pointToDate=function(_r){var $r=Math.floor((_r[0]-this._rect.x)/this._sw)+1,Br=Math.floor((_r[1]-this._rect.y)/this._sh)+1,Fr=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(Br,$r-1,Fr):this._getDateByWeeksAndDay($r,Br-1,Fr)},Fe.prototype.convertToPixel=function(_r,$r,Br){var Fr=getCoordSys($r);return Fr===this?Fr.dataToPoint(Br):null},Fe.prototype.convertFromPixel=function(_r,$r,Br){var Fr=getCoordSys($r);return Fr===this?Fr.pointToData(Br):null},Fe.prototype.containPoint=function(_r){return console.warn("Not implemented."),!1},Fe.prototype._initRangeOption=function(){var _r=this._model.get("range"),$r;if(isArray$1(_r)&&_r.length===1&&(_r=_r[0]),isArray$1(_r))$r=_r;else{var Br=_r.toString();if(/^\d{4}$/.test(Br)&&($r=[Br+"-01-01",Br+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(Br)){var Fr=this.getDateInfo(Br),zr=Fr.date;zr.setMonth(zr.getMonth()+1);var jr=this.getNextNDay(zr,-1);$r=[Fr.formatedDate,jr.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(Br)&&($r=[Br,Br])}if(!$r)return _r;var Ur=this._getRangeInfo($r);return Ur.start.time>Ur.end.time&&$r.reverse(),$r},Fe.prototype._getRangeInfo=function(_r){var $r=[this.getDateInfo(_r[0]),this.getDateInfo(_r[1])],Br;$r[0].time>$r[1].time&&(Br=!0,$r.reverse());var Fr=Math.floor($r[1].time/PROXIMATE_ONE_DAY)-Math.floor($r[0].time/PROXIMATE_ONE_DAY)+1,zr=new Date($r[0].time),jr=zr.getDate(),Ur=$r[1].date.getDate();zr.setDate(jr+Fr-1);var Gr=zr.getDate();if(Gr!==Ur)for(var Yr=zr.getTime()-$r[1].time>0?1:-1;(Gr=zr.getDate())!==Ur&&(zr.getTime()-$r[1].time)*Yr>0;)Fr-=Yr,zr.setDate(Gr-Yr);var Kr=Math.floor((Fr+$r[0].day+6)/7),Qr=Br?-Kr+1:Kr-1;return Br&&$r.reverse(),{range:[$r[0].formatedDate,$r[1].formatedDate],start:$r[0],end:$r[1],allDay:Fr,weeks:Kr,nthWeek:Qr,fweek:$r[0].day,lweek:$r[1].day}},Fe.prototype._getDateByWeeksAndDay=function(_r,$r,Br){var Fr=this._getRangeInfo(Br);if(_r>Fr.weeks||_r===0&&$r<Fr.fweek||_r===Fr.weeks&&$r>Fr.lweek)return null;var zr=(_r-1)*7-Fr.fweek+$r,jr=new Date(Fr.start.time);return jr.setDate(+Fr.start.d+zr),this.getDateInfo(jr)},Fe.create=function(_r,$r){var Br=[];return _r.eachComponent("calendar",function(Fr){var zr=new Fe(Fr);Br.push(zr),Fr.coordinateSystem=zr}),_r.eachSeries(function(Fr){Fr.get("coordinateSystem")==="calendar"&&(Fr.coordinateSystem=Br[Fr.get("calendarIndex")||0])}),Br},Fe.dimensions=["time","value"],Fe}();function getCoordSys(Fe){var _r=Fe.calendarModel,$r=Fe.seriesModel,Br=_r?_r.coordinateSystem:$r?$r.coordinateSystem:null;return Br}const Calendar$1=Calendar;function install$m(Fe){Fe.registerComponentModel(CalendarModel$1),Fe.registerComponentView(CalendarView$1),Fe.registerCoordinateSystem("calendar",Calendar$1)}function setKeyInfoToNewElOption(Fe,_r){var $r=Fe.existing;if(_r.id=Fe.keyInfo.id,!_r.type&&$r&&(_r.type=$r.type),_r.parentId==null){var Br=_r.parentOption;Br?_r.parentId=Br.id:$r&&(_r.parentId=$r.parentId)}_r.parentOption=null}function isSetLoc(Fe,_r){var $r;return each$f(_r,function(Br){Fe[Br]!=null&&Fe[Br]!=="auto"&&($r=!0)}),$r}function mergeNewElOptionToExist(Fe,_r,$r){var Br=extend$1({},$r),Fr=Fe[_r],zr=$r.$action||"merge";zr==="merge"?Fr?(merge(Fr,Br,!0),mergeLayoutParam(Fr,Br,{ignoreSize:!0}),copyLayoutParams($r,Fr),copyTransitionInfo($r,Fr),copyTransitionInfo($r,Fr,"shape"),copyTransitionInfo($r,Fr,"style"),copyTransitionInfo($r,Fr,"extra"),$r.clipPath=Fr.clipPath):Fe[_r]=Br:zr==="replace"?Fe[_r]=Br:zr==="remove"&&Fr&&(Fe[_r]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(Fe,_r,$r){if($r&&(!Fe[$r]&&_r[$r]&&(Fe[$r]={}),Fe=Fe[$r],_r=_r[$r]),!(!Fe||!_r))for(var Br=$r?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr];Fe[zr]==null&&_r[zr]!=null&&(Fe[zr]=_r[zr])}}function setLayoutInfoToExist(Fe,_r){if(Fe&&(Fe.hv=_r.hv=[isSetLoc(_r,["left","right"]),isSetLoc(_r,["top","bottom"])],Fe.type==="group")){var $r=Fe,Br=_r;$r.width==null&&($r.width=Br.width=0),$r.height==null&&($r.height=Br.height=0)}}var GraphicComponentModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.preventAutoZ=!0,$r}return _r.prototype.mergeOption=function($r,Br){var Fr=this.option.elements;this.option.elements=null,Fe.prototype.mergeOption.call(this,$r,Br),this.option.elements=Fr},_r.prototype.optionUpdated=function($r,Br){var Fr=this.option,zr=(Br?Fr:$r).elements,jr=Fr.elements=Br?[]:Fr.elements,Ur=[];this._flatten(zr,Ur,null);var Gr=mappingToExists(jr,Ur,"normalMerge"),Yr=this._elOptionsToUpdate=[];each$f(Gr,function(Kr,Qr){var Jr=Kr.newOption;Jr&&(Yr.push(Jr),setKeyInfoToNewElOption(Kr,Jr),mergeNewElOptionToExist(jr,Qr,Jr),setLayoutInfoToExist(jr[Qr],Jr))},this),Fr.elements=filter(jr,function(Kr){return Kr&&delete Kr.$action,Kr!=null})},_r.prototype._flatten=function($r,Br,Fr){each$f($r,function(zr){if(zr){Fr&&(zr.parentOption=Fr),Br.push(zr);var jr=zr.children;jr&&jr.length&&this._flatten(jr,Br,zr),delete zr.children}},this)},_r.prototype.useElOptionsToUpdate=function(){var $r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,$r},_r.type="graphic",_r.defaultOption={elements:[]},_r}(ComponentModel$1),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$4,image:ZRImage$1,text:ZRText$1},inner$7=makeInner(),GraphicComponentView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function(){this._elMap=createHashMap()},_r.prototype.render=function($r,Br,Fr){$r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=$r,this._updateElements($r),this._relocate($r,Fr)},_r.prototype._updateElements=function($r){var Br=$r.useElOptionsToUpdate();if(Br){var Fr=this._elMap,zr=this.group,jr=$r.get("z"),Ur=$r.get("zlevel");each$f(Br,function(Gr){var Yr=convertOptionIdName(Gr.id,null),Kr=Yr!=null?Fr.get(Yr):null,Qr=convertOptionIdName(Gr.parentId,null),Jr=Qr!=null?Fr.get(Qr):zr,rn=Gr.type,an=Gr.style;rn==="text"&&an&&Gr.hv&&Gr.hv[1]&&(an.textVerticalAlign=an.textBaseline=an.verticalAlign=an.align=null);var ln=Gr.textContent,dn=Gr.textConfig;if(an&&isEC4CompatibleStyle(an,rn,!!dn,!!ln)){var hn=convertFromEC4CompatibleStyle(an,rn,!0);!dn&&hn.textConfig&&(dn=Gr.textConfig=hn.textConfig),!ln&&hn.textContent&&(ln=hn.textContent)}var gn=getCleanedElOption(Gr),bn=Gr.$action||"merge",kn=bn==="merge",Sn=bn==="replace";if(kn){var _n=!Kr,pn=Kr;_n?pn=createEl(Yr,Jr,Gr.type,Fr):(pn&&(inner$7(pn).isNew=!1),stopPreviousKeyframeAnimationAndRestore(pn)),pn&&(applyUpdateTransition(pn,gn,$r,{isInit:_n}),updateCommonAttrs(pn,Gr,jr,Ur))}else if(Sn){removeEl$1(Kr,Gr,Fr,$r);var Cn=createEl(Yr,Jr,Gr.type,Fr);Cn&&(applyUpdateTransition(Cn,gn,$r,{isInit:!0}),updateCommonAttrs(Cn,Gr,jr,Ur))}else bn==="remove"&&(updateLeaveTo(Kr,Gr),removeEl$1(Kr,Gr,Fr,$r));var En=Fr.get(Yr);if(En&&ln)if(kn){var Pn=En.getTextContent();Pn?Pn.attr(ln):En.setTextContent(new ZRText$1(ln))}else Sn&&En.setTextContent(new ZRText$1(ln));if(En){var On=Gr.clipPath;if(On){var jn=On.type,Fn=void 0,_n=!1;if(kn){var Wn=En.getClipPath();_n=!Wn||inner$7(Wn).type!==jn,Fn=_n?newEl(jn):Wn}else Sn&&(_n=!0,Fn=newEl(jn));En.setClipPath(Fn),applyUpdateTransition(Fn,On,$r,{isInit:_n}),applyKeyframeAnimation(Fn,On.keyframeAnimation,$r)}var Hn=inner$7(En);En.setTextConfig(dn),Hn.option=Gr,setEventData(En,$r,Gr),setTooltipConfig({el:En,componentModel:$r,itemName:En.name,itemTooltipOption:Gr.tooltip}),applyKeyframeAnimation(En,Gr.keyframeAnimation,$r)}})}},_r.prototype._relocate=function($r,Br){for(var Fr=$r.option.elements,zr=this.group,jr=this._elMap,Ur=Br.getWidth(),Gr=Br.getHeight(),Yr=["x","y"],Kr=0;Kr<Fr.length;Kr++){var Qr=Fr[Kr],Jr=convertOptionIdName(Qr.id,null),rn=Jr!=null?jr.get(Jr):null;if(!(!rn||!rn.isGroup)){var an=rn.parent,ln=an===zr,dn=inner$7(rn),hn=inner$7(an);dn.width=parsePercent(dn.option.width,ln?Ur:hn.width)||0,dn.height=parsePercent(dn.option.height,ln?Gr:hn.height)||0}}for(var Kr=Fr.length-1;Kr>=0;Kr--){var Qr=Fr[Kr],Jr=convertOptionIdName(Qr.id,null),rn=Jr!=null?jr.get(Jr):null;if(rn){var an=rn.parent,hn=inner$7(an),gn=an===zr?{width:Ur,height:Gr}:{width:hn.width,height:hn.height},bn={},kn=positionElement(rn,Qr,gn,null,{hv:Qr.hv,boundingMode:Qr.bounding},bn);if(!inner$7(rn).isNew&&kn){for(var Sn=Qr.transition,_n={},pn=0;pn<Yr.length;pn++){var Cn=Yr[pn],En=bn[Cn];Sn&&(isTransitionAll(Sn)||indexOf(Sn,Cn)>=0)?_n[Cn]=En:rn[Cn]=En}updateProps$1(rn,_n,$r,0)}else rn.attr(bn)}}},_r.prototype._clear=function(){var $r=this,Br=this._elMap;Br.each(function(Fr){removeEl$1(Fr,inner$7(Fr).option,Br,$r._lastGraphicModel)}),this._elMap=createHashMap()},_r.prototype.dispose=function(){this._clear()},_r.type="graphic",_r}(ComponentView$1);function newEl(Fe){var _r=hasOwn(nonShapeGraphicElements,Fe)?nonShapeGraphicElements[Fe]:getShapeClass(Fe),$r=new _r({});return inner$7($r).type=Fe,$r}function createEl(Fe,_r,$r,Br){var Fr=newEl($r);return _r.add(Fr),Br.set(Fe,Fr),inner$7(Fr).id=Fe,inner$7(Fr).isNew=!0,Fr}function removeEl$1(Fe,_r,$r,Br){var Fr=Fe&&Fe.parent;Fr&&(Fe.type==="group"&&Fe.traverse(function(zr){removeEl$1(zr,_r,$r,Br)}),applyLeaveTransition(Fe,_r,Br),$r.removeKey(inner$7(Fe).id))}function updateCommonAttrs(Fe,_r,$r,Br){Fe.isGroup||each$f([["cursor",Displayable$1.prototype.cursor],["zlevel",Br||0],["z",$r||0],["z2",0]],function(Fr){var zr=Fr[0];hasOwn(_r,zr)?Fe[zr]=retrieve2(_r[zr],Fr[1]):Fe[zr]==null&&(Fe[zr]=Fr[1])}),each$f(keys(_r),function(Fr){if(Fr.indexOf("on")===0){var zr=_r[Fr];Fe[Fr]=isFunction(zr)?zr:null}}),hasOwn(_r,"draggable")&&(Fe.draggable=_r.draggable),_r.name!=null&&(Fe.name=_r.name),_r.id!=null&&(Fe.id=_r.id)}function getCleanedElOption(Fe){return Fe=extend$1({},Fe),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(_r){delete Fe[_r]}),Fe}function setEventData(Fe,_r,$r){var Br=getECData(Fe).eventData;!Fe.silent&&!Fe.ignore&&!Br&&(Br=getECData(Fe).eventData={componentType:"graphic",componentIndex:_r.componentIndex,name:Fe.name}),Br&&(Br.info=$r.info)}function install$l(Fe){Fe.registerComponentModel(GraphicComponentModel),Fe.registerComponentView(GraphicComponentView),Fe.registerPreprocessor(function(_r){var $r=_r.graphic;isArray$1($r)?!$r[0]||!$r[0].elements?_r.graphic=[{elements:$r}]:_r.graphic=[_r.graphic[0]]:$r&&!$r.elements&&(_r.graphic=[{elements:[$r]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(Fe){var _r=Fe.get("coordinateSystem");return indexOf(SERIES_COORDS,_r)>=0}function getAxisMainType(Fe){return Fe+"Axis"}function findEffectedDataZooms(Fe,_r){var $r=createHashMap(),Br=[],Fr=createHashMap();Fe.eachComponent({mainType:"dataZoom",query:_r},function(Kr){Fr.get(Kr.uid)||Ur(Kr)});var zr;do zr=!1,Fe.eachComponent("dataZoom",jr);while(zr);function jr(Kr){!Fr.get(Kr.uid)&&Gr(Kr)&&(Ur(Kr),zr=!0)}function Ur(Kr){Fr.set(Kr.uid,!0),Br.push(Kr),Yr(Kr)}function Gr(Kr){var Qr=!1;return Kr.eachTargetAxis(function(Jr,rn){var an=$r.get(Jr);an&&an[rn]&&(Qr=!0)}),Qr}function Yr(Kr){Kr.eachTargetAxis(function(Qr,Jr){($r.get(Qr)||$r.set(Qr,[]))[Jr]=!0})}return Br}function collectReferCoordSysModelInfo(Fe){var _r=Fe.ecModel,$r={infoList:[],infoMap:createHashMap()};return Fe.eachTargetAxis(function(Br,Fr){var zr=_r.getComponent(getAxisMainType(Br),Fr);if(zr){var jr=zr.getCoordSysModel();if(jr){var Ur=jr.uid,Gr=$r.infoMap.get(Ur);Gr||(Gr={model:jr,axisModels:[]},$r.infoList.push(Gr),$r.infoMap.set(Ur,Gr)),Gr.axisModels.push(zr)}}}),$r}var DataZoomAxisInfo=function(){function Fe(){this.indexList=[],this.indexMap=[]}return Fe.prototype.add=function(_r){this.indexMap[_r]||(this.indexList.push(_r),this.indexMap[_r]=!0)},Fe}(),DataZoomModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r._autoThrottle=!0,$r._noTarget=!0,$r._rangePropMode=["percent","percent"],$r}return _r.prototype.init=function($r,Br,Fr){var zr=retrieveRawOption($r);this.settledOption=zr,this.mergeDefaultAndTheme($r,Fr),this._doInit(zr)},_r.prototype.mergeOption=function($r){var Br=retrieveRawOption($r);merge(this.option,$r,!0),merge(this.settledOption,Br,!0),this._doInit(Br)},_r.prototype._doInit=function($r){var Br=this.option;this._setDefaultThrottle($r),this._updateRangeUse($r);var Fr=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(zr,jr){this._rangePropMode[jr]==="value"&&(Br[zr[0]]=Fr[zr[0]]=null)},this),this._resetTarget()},_r.prototype._resetTarget=function(){var $r=this.get("orient",!0),Br=this._targetAxisInfoMap=createHashMap(),Fr=this._fillSpecifiedTargetAxis(Br);Fr?this._orient=$r||this._makeAutoOrientByTargetAxis():(this._orient=$r||"horizontal",this._fillAutoTargetAxisByOrient(Br,this._orient)),this._noTarget=!0,Br.each(function(zr){zr.indexList.length&&(this._noTarget=!1)},this)},_r.prototype._fillSpecifiedTargetAxis=function($r){var Br=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(Fr){var zr=this.getReferringComponents(getAxisMainType(Fr),MULTIPLE_REFERRING);if(zr.specified){Br=!0;var jr=new DataZoomAxisInfo;each$f(zr.models,function(Ur){jr.add(Ur.componentIndex)}),$r.set(Fr,jr)}},this),Br},_r.prototype._fillAutoTargetAxisByOrient=function($r,Br){var Fr=this.ecModel,zr=!0;if(zr){var jr=Br==="vertical"?"y":"x",Ur=Fr.findComponents({mainType:jr+"Axis"});Gr(Ur,jr)}if(zr){var Ur=Fr.findComponents({mainType:"singleAxis",filter:function(Kr){return Kr.get("orient",!0)===Br}});Gr(Ur,"single")}function Gr(Yr,Kr){var Qr=Yr[0];if(Qr){var Jr=new DataZoomAxisInfo;if(Jr.add(Qr.componentIndex),$r.set(Kr,Jr),zr=!1,Kr==="x"||Kr==="y"){var rn=Qr.getReferringComponents("grid",SINGLE_REFERRING).models[0];rn&&each$f(Yr,function(an){Qr.componentIndex!==an.componentIndex&&rn===an.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&Jr.add(an.componentIndex)})}}}zr&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(Yr){if(zr){var Kr=Fr.findComponents({mainType:getAxisMainType(Yr),filter:function(Jr){return Jr.get("type",!0)==="category"}});if(Kr[0]){var Qr=new DataZoomAxisInfo;Qr.add(Kr[0].componentIndex),$r.set(Yr,Qr),zr=!1}}},this)},_r.prototype._makeAutoOrientByTargetAxis=function(){var $r;return this.eachTargetAxis(function(Br){!$r&&($r=Br)},this),$r==="y"?"vertical":"horizontal"},_r.prototype._setDefaultThrottle=function($r){if($r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var Br=this.ecModel.option;this.option.throttle=Br.animation&&Br.animationDurationUpdate>0?100:20}},_r.prototype._updateRangeUse=function($r){var Br=this._rangePropMode,Fr=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(zr,jr){var Ur=$r[zr[0]]!=null,Gr=$r[zr[1]]!=null;Ur&&!Gr?Br[jr]="percent":!Ur&&Gr?Br[jr]="value":Fr?Br[jr]=Fr[jr]:Ur&&(Br[jr]="percent")})},_r.prototype.noTarget=function(){return this._noTarget},_r.prototype.getFirstTargetAxisModel=function(){var $r;return this.eachTargetAxis(function(Br,Fr){$r==null&&($r=this.ecModel.getComponent(getAxisMainType(Br),Fr))},this),$r},_r.prototype.eachTargetAxis=function($r,Br){this._targetAxisInfoMap.each(function(Fr,zr){each$f(Fr.indexList,function(jr){$r.call(Br,zr,jr)})})},_r.prototype.getAxisProxy=function($r,Br){var Fr=this.getAxisModel($r,Br);if(Fr)return Fr.__dzAxisProxy},_r.prototype.getAxisModel=function($r,Br){var Fr=this._targetAxisInfoMap.get($r);if(Fr&&Fr.indexMap[Br])return this.ecModel.getComponent(getAxisMainType($r),Br)},_r.prototype.setRawRange=function($r){var Br=this.option,Fr=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(zr){($r[zr[0]]!=null||$r[zr[1]]!=null)&&(Br[zr[0]]=Fr[zr[0]]=$r[zr[0]],Br[zr[1]]=Fr[zr[1]]=$r[zr[1]])},this),this._updateRangeUse($r)},_r.prototype.setCalculatedRange=function($r){var Br=this.option;each$f(["start","startValue","end","endValue"],function(Fr){Br[Fr]=$r[Fr]})},_r.prototype.getPercentRange=function(){var $r=this.findRepresentativeAxisProxy();if($r)return $r.getDataPercentWindow()},_r.prototype.getValueRange=function($r,Br){if($r==null&&Br==null){var Fr=this.findRepresentativeAxisProxy();if(Fr)return Fr.getDataValueWindow()}else return this.getAxisProxy($r,Br).getDataValueWindow()},_r.prototype.findRepresentativeAxisProxy=function($r){if($r)return $r.__dzAxisProxy;for(var Br,Fr=this._targetAxisInfoMap.keys(),zr=0;zr<Fr.length;zr++)for(var jr=Fr[zr],Ur=this._targetAxisInfoMap.get(jr),Gr=0;Gr<Ur.indexList.length;Gr++){var Yr=this.getAxisProxy(jr,Ur.indexList[Gr]);if(Yr.hostedBy(this))return Yr;Br||(Br=Yr)}return Br},_r.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},_r.prototype.getOrient=function(){return this._orient},_r.type="dataZoom",_r.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],_r.defaultOption={z:4,filterMode:"filter",start:0,end:100},_r}(ComponentModel$1);function retrieveRawOption(Fe){var _r={};return each$f(["start","end","startValue","endValue","throttle"],function($r){Fe.hasOwnProperty($r)&&(_r[$r]=Fe[$r])}),_r}const DataZoomModel$1=DataZoomModel;var SelectDataZoomModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="dataZoom.select",_r}(DataZoomModel$1);const SelectZoomModel=SelectDataZoomModel;var DataZoomView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr,zr){this.dataZoomModel=$r,this.ecModel=Br,this.api=Fr},_r.type="dataZoom",_r}(ComponentView$1);const DataZoomView$1=DataZoomView;var SelectDataZoomView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="dataZoom.select",_r}(DataZoomView$1);const SelectZoomView=SelectDataZoomView;var each$7=each$f,asc$1=asc$2,AxisProxy=function(){function Fe(_r,$r,Br,Fr){this._dimName=_r,this._axisIndex=$r,this.ecModel=Fr,this._dataZoomModel=Br}return Fe.prototype.hostedBy=function(_r){return this._dataZoomModel===_r},Fe.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},Fe.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},Fe.prototype.getTargetSeriesModels=function(){var _r=[];return this.ecModel.eachSeries(function($r){if(isCoordSupported($r)){var Br=getAxisMainType(this._dimName),Fr=$r.getReferringComponents(Br,SINGLE_REFERRING).models[0];Fr&&this._axisIndex===Fr.componentIndex&&_r.push($r)}},this),_r},Fe.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},Fe.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},Fe.prototype.calculateDataWindow=function(_r){var $r=this._dataExtent,Br=this.getAxisModel(),Fr=Br.axis.scale,zr=this._dataZoomModel.getRangePropMode(),jr=[0,100],Ur=[],Gr=[],Yr;each$7(["start","end"],function(Jr,rn){var an=_r[Jr],ln=_r[Jr+"Value"];zr[rn]==="percent"?(an==null&&(an=jr[rn]),ln=Fr.parse(linearMap$2(an,jr,$r))):(Yr=!0,ln=ln==null?$r[rn]:Fr.parse(ln),an=linearMap$2(ln,$r,jr)),Gr[rn]=ln==null||isNaN(ln)?$r[rn]:ln,Ur[rn]=an==null||isNaN(an)?jr[rn]:an}),asc$1(Gr),asc$1(Ur);var Kr=this._minMaxSpan;Yr?Qr(Gr,Ur,$r,jr,!1):Qr(Ur,Gr,jr,$r,!0);function Qr(Jr,rn,an,ln,dn){var hn=dn?"Span":"ValueSpan";sliderMove(0,Jr,an,"all",Kr["min"+hn],Kr["max"+hn]);for(var gn=0;gn<2;gn++)rn[gn]=linearMap$2(Jr[gn],an,ln,!0),dn&&(rn[gn]=Fr.parse(rn[gn]))}return{valueWindow:Gr,percentWindow:Ur}},Fe.prototype.reset=function(_r){if(_r===this._dataZoomModel){var $r=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,$r),this._updateMinMaxSpan();var Br=this.calculateDataWindow(_r.settledOption);this._valueWindow=Br.valueWindow,this._percentWindow=Br.percentWindow,this._setAxisModel()}},Fe.prototype.filterData=function(_r,$r){if(_r!==this._dataZoomModel)return;var Br=this._dimName,Fr=this.getTargetSeriesModels(),zr=_r.get("filterMode"),jr=this._valueWindow;if(zr==="none")return;each$7(Fr,function(Gr){var Yr=Gr.getData(),Kr=Yr.mapDimensionsAll(Br);if(Kr.length){if(zr==="weakFilter"){var Qr=Yr.getStore(),Jr=map$1(Kr,function(rn){return Yr.getDimensionIndex(rn)},Yr);Yr.filterSelf(function(rn){for(var an,ln,dn,hn=0;hn<Kr.length;hn++){var gn=Qr.get(Jr[hn],rn),bn=!isNaN(gn),kn=gn<jr[0],Sn=gn>jr[1];if(bn&&!kn&&!Sn)return!0;bn&&(dn=!0),kn&&(an=!0),Sn&&(ln=!0)}return dn&&an&&ln})}else each$7(Kr,function(rn){if(zr==="empty")Gr.setData(Yr=Yr.map(rn,function(ln){return Ur(ln)?ln:NaN}));else{var an={};an[rn]=jr,Yr.selectRange(an)}});each$7(Kr,function(rn){Yr.setApproximateExtent(jr,rn)})}});function Ur(Gr){return Gr>=jr[0]&&Gr<=jr[1]}},Fe.prototype._updateMinMaxSpan=function(){var _r=this._minMaxSpan={},$r=this._dataZoomModel,Br=this._dataExtent;each$7(["min","max"],function(Fr){var zr=$r.get(Fr+"Span"),jr=$r.get(Fr+"ValueSpan");jr!=null&&(jr=this.getAxisModel().axis.scale.parse(jr)),jr!=null?zr=linearMap$2(Br[0]+jr,Br,[0,100],!0):zr!=null&&(jr=linearMap$2(zr,[0,100],Br,!0)-Br[0]),_r[Fr+"Span"]=zr,_r[Fr+"ValueSpan"]=jr},this)},Fe.prototype._setAxisModel=function(){var _r=this.getAxisModel(),$r=this._percentWindow,Br=this._valueWindow;if($r){var Fr=getPixelPrecision(Br,[0,500]);Fr=Math.min(Fr,20);var zr=_r.axis.scale.rawExtentInfo;$r[0]!==0&&zr.setDeterminedMinMax("min",+Br[0].toFixed(Fr)),$r[1]!==100&&zr.setDeterminedMinMax("max",+Br[1].toFixed(Fr)),zr.freeze()}},Fe}();function calculateDataExtent(Fe,_r,$r){var Br=[1/0,-1/0];each$7($r,function(jr){unionAxisExtentFromData(Br,jr.getData(),_r)});var Fr=Fe.getAxisModel(),zr=ensureScaleRawExtentInfo(Fr.axis.scale,Fr,Br).calculate();return[zr.min,zr.max]}const AxisProxy$1=AxisProxy;var dataZoomProcessor={getTargetSeries:function(Fe){function _r(Fr){Fe.eachComponent("dataZoom",function(zr){zr.eachTargetAxis(function(jr,Ur){var Gr=Fe.getComponent(getAxisMainType(jr),Ur);Fr(jr,Ur,Gr,zr)})})}_r(function(Fr,zr,jr,Ur){jr.__dzAxisProxy=null});var $r=[];_r(function(Fr,zr,jr,Ur){jr.__dzAxisProxy||(jr.__dzAxisProxy=new AxisProxy$1(Fr,zr,Ur,Fe),$r.push(jr.__dzAxisProxy))});var Br=createHashMap();return each$f($r,function(Fr){each$f(Fr.getTargetSeriesModels(),function(zr){Br.set(zr.uid,zr)})}),Br},overallReset:function(Fe,_r){Fe.eachComponent("dataZoom",function($r){$r.eachTargetAxis(function(Br,Fr){$r.getAxisProxy(Br,Fr).reset($r)}),$r.eachTargetAxis(function(Br,Fr){$r.getAxisProxy(Br,Fr).filterData($r,_r)})}),Fe.eachComponent("dataZoom",function($r){var Br=$r.findRepresentativeAxisProxy();if(Br){var Fr=Br.getDataPercentWindow(),zr=Br.getDataValueWindow();$r.setCalculatedRange({start:Fr[0],end:Fr[1],startValue:zr[0],endValue:zr[1]})}})}};const dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction(Fe){Fe.registerAction("dataZoom",function(_r,$r){var Br=findEffectedDataZooms($r,_r);each$f(Br,function(Fr){Fr.setRawRange({start:_r.start,end:_r.end,startValue:_r.startValue,endValue:_r.endValue})})})}var installed$1=!1;function installCommon$1(Fe){installed$1||(installed$1=!0,Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction(Fe),Fe.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(Fe){Fe.registerComponentModel(SelectZoomModel),Fe.registerComponentView(SelectZoomView),installCommon$1(Fe)}var ToolboxFeature=function(){function Fe(){}return Fe}(),features={};function registerFeature(Fe,_r){features[Fe]=_r}function getFeature(Fe){return features[Fe]}var ToolboxModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.optionUpdated=function(){Fe.prototype.optionUpdated.apply(this,arguments);var $r=this.ecModel;each$f(this.option.feature,function(Br,Fr){var zr=getFeature(Fr);zr&&(zr.getDefaultOption&&(zr.defaultOption=zr.getDefaultOption($r)),merge(Br,zr.defaultOption))})},_r.type="toolbox",_r.layoutMode={type:"box",ignoreSize:!0},_r.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},_r}(ComponentModel$1);const ToolboxModel$1=ToolboxModel;function layout(Fe,_r,$r){var Br=_r.getBoxLayoutParams(),Fr=_r.get("padding"),zr={width:$r.getWidth(),height:$r.getHeight()},jr=getLayoutRect(Br,zr,Fr);box(_r.get("orient"),Fe,_r.get("itemGap"),jr.width,jr.height),positionElement(Fe,Br,zr,Fr)}function makeBackground(Fe,_r){var $r=normalizeCssArray(_r.get("padding")),Br=_r.getItemStyle(["color","opacity"]);return Br.fill=_r.get("backgroundColor"),Fe=new Rect$3({shape:{x:Fe.x-$r[3],y:Fe.y-$r[0],width:Fe.width+$r[1]+$r[3],height:Fe.height+$r[0]+$r[2],r:_r.get("borderRadius")},style:Br,silent:!0,z2:-1}),Fe}var ToolboxView=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.render=function($r,Br,Fr,zr){var jr=this.group;if(jr.removeAll(),!$r.get("show"))return;var Ur=+$r.get("itemSize"),Gr=$r.get("orient")==="vertical",Yr=$r.get("feature")||{},Kr=this._features||(this._features={}),Qr=[];each$f(Yr,function(an,ln){Qr.push(ln)}),new DataDiffer$1(this._featureNames||[],Qr).add(Jr).update(Jr).remove(curry$1(Jr,null)).execute(),this._featureNames=Qr;function Jr(an,ln){var dn=Qr[an],hn=Qr[ln],gn=Yr[dn],bn=new Model$1(gn,$r,$r.ecModel),kn;if(zr&&zr.newTitle!=null&&zr.featureName===dn&&(gn.title=zr.newTitle),dn&&!hn){if(isUserFeatureName(dn))kn={onclick:bn.option.onclick,featureName:dn};else{var Sn=getFeature(dn);if(!Sn)return;kn=new Sn}Kr[dn]=kn}else if(kn=Kr[hn],!kn)return;kn.uid=getUID("toolbox-feature"),kn.model=bn,kn.ecModel=Br,kn.api=Fr;var _n=kn instanceof ToolboxFeature;if(!dn&&hn){_n&&kn.dispose&&kn.dispose(Br,Fr);return}if(!bn.get("show")||_n&&kn.unusable){_n&&kn.remove&&kn.remove(Br,Fr);return}rn(bn,kn,dn),bn.setIconStatus=function(pn,Cn){var En=this.option,Pn=this.iconPaths;En.iconStatus=En.iconStatus||{},En.iconStatus[pn]=Cn,Pn[pn]&&(Cn==="emphasis"?enterEmphasis:leaveEmphasis)(Pn[pn])},kn instanceof ToolboxFeature&&kn.render&&kn.render(bn,Br,Fr,zr)}function rn(an,ln,dn){var hn=an.getModel("iconStyle"),gn=an.getModel(["emphasis","iconStyle"]),bn=ln instanceof ToolboxFeature&&ln.getIcons?ln.getIcons():an.get("icon"),kn=an.get("title")||{},Sn,_n;isString(bn)?(Sn={},Sn[dn]=bn):Sn=bn,isString(kn)?(_n={},_n[dn]=kn):_n=kn;var pn=an.iconPaths={};each$f(Sn,function(Cn,En){var Pn=createIcon(Cn,{},{x:-Ur/2,y:-Ur/2,width:Ur,height:Ur});Pn.setStyle(hn.getItemStyle());var On=Pn.ensureState("emphasis");On.style=gn.getItemStyle();var jn=new ZRText$1({style:{text:_n[En],align:gn.get("textAlign"),borderRadius:gn.get("textBorderRadius"),padding:gn.get("textPadding"),fill:null},ignore:!0});Pn.setTextContent(jn),setTooltipConfig({el:Pn,componentModel:$r,itemName:En,formatterParamsExtra:{title:_n[En]}}),Pn.__title=_n[En],Pn.on("mouseover",function(){var Fn=gn.getItemStyle(),Wn=Gr?$r.get("right")==null&&$r.get("left")!=="right"?"right":"left":$r.get("bottom")==null&&$r.get("top")!=="bottom"?"bottom":"top";jn.setStyle({fill:gn.get("textFill")||Fn.fill||Fn.stroke||"#000",backgroundColor:gn.get("textBackgroundColor")}),Pn.setTextConfig({position:gn.get("textPosition")||Wn}),jn.ignore=!$r.get("showTitle"),Fr.enterEmphasis(this)}).on("mouseout",function(){an.get(["iconStatus",En])!=="emphasis"&&Fr.leaveEmphasis(this),jn.hide()}),(an.get(["iconStatus",En])==="emphasis"?enterEmphasis:leaveEmphasis)(Pn),jr.add(Pn),Pn.on("click",bind$1(ln.onclick,ln,Br,Fr,En)),pn[En]=Pn})}layout(jr,$r,Fr),jr.add(makeBackground(jr.getBoundingRect(),$r)),Gr||jr.eachChild(function(an){var ln=an.__title,dn=an.ensureState("emphasis"),hn=dn.textConfig||(dn.textConfig={}),gn=an.getTextContent(),bn=gn&&gn.ensureState("emphasis");if(bn&&!isFunction(bn)&&ln){var kn=bn.style||(bn.style={}),Sn=getBoundingRect(ln,ZRText$1.makeFont(kn)),_n=an.x+jr.x,pn=an.y+jr.y+Ur,Cn=!1;pn+Sn.height>Fr.getHeight()&&(hn.position="top",Cn=!0);var En=Cn?-5-Sn.height:Ur+10;_n+Sn.width/2>Fr.getWidth()?(hn.position=["100%",En],kn.align="right"):_n-Sn.width/2<0&&(hn.position=[0,En],kn.align="left")}})},_r.prototype.updateView=function($r,Br,Fr,zr){each$f(this._features,function(jr){jr instanceof ToolboxFeature&&jr.updateView&&jr.updateView(jr.model,Br,Fr,zr)})},_r.prototype.remove=function($r,Br){each$f(this._features,function(Fr){Fr instanceof ToolboxFeature&&Fr.remove&&Fr.remove($r,Br)}),this.group.removeAll()},_r.prototype.dispose=function($r,Br){each$f(this._features,function(Fr){Fr instanceof ToolboxFeature&&Fr.dispose&&Fr.dispose($r,Br)})},_r.type="toolbox",_r}(ComponentView$1);function isUserFeatureName(Fe){return Fe.indexOf("my")===0}const ToolboxView$1=ToolboxView;var SaveAsImage=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.onclick=function($r,Br){var Fr=this.model,zr=Fr.get("name")||$r.get("title.0.text")||"echarts",jr=Br.getZr().painter.getType()==="svg",Ur=jr?"svg":Fr.get("type",!0)||"png",Gr=Br.getConnectedDataURL({type:Ur,backgroundColor:Fr.get("backgroundColor",!0)||$r.get("backgroundColor")||"#fff",connectedBackgroundColor:Fr.get("connectedBackgroundColor"),excludeComponents:Fr.get("excludeComponents"),pixelRatio:Fr.get("pixelRatio")}),Yr=env$1.browser;if(isFunction(MouseEvent)&&(Yr.newEdge||!Yr.ie&&!Yr.edge)){var Kr=document.createElement("a");Kr.download=zr+"."+Ur,Kr.target="_blank",Kr.href=Gr;var Qr=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});Kr.dispatchEvent(Qr)}else if(window.navigator.msSaveOrOpenBlob||jr){var Jr=Gr.split(","),rn=Jr[0].indexOf("base64")>-1,an=jr?decodeURIComponent(Jr[1]):Jr[1];rn&&(an=window.atob(an));var ln=zr+"."+Ur;if(window.navigator.msSaveOrOpenBlob){for(var dn=an.length,hn=new Uint8Array(dn);dn--;)hn[dn]=an.charCodeAt(dn);var gn=new Blob([hn]);window.navigator.msSaveOrOpenBlob(gn,ln)}else{var bn=document.createElement("iframe");document.body.appendChild(bn);var kn=bn.contentWindow,Sn=kn.document;Sn.open("image/svg+xml","replace"),Sn.write(an),Sn.close(),kn.focus(),Sn.execCommand("SaveAs",!0,ln),document.body.removeChild(bn)}}else{var _n=Fr.get("lang"),pn='<body style="margin:0;"><img src="'+Gr+'" style="max-width:100%;" title="'+(_n&&_n[0]||"")+'" /></body>',Cn=window.open();Cn.document.write(pn),Cn.document.title=zr}},_r.getDefaultOption=function($r){var Br={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:$r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:$r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return Br},_r}(ToolboxFeature);const SaveAsImage$1=SaveAsImage;var INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.getIcons=function(){var $r=this.model,Br=$r.get("icon"),Fr={};return each$f($r.get("type"),function(zr){Br[zr]&&(Fr[zr]=Br[zr])}),Fr},_r.getDefaultOption=function($r){var Br={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:$r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return Br},_r.prototype.onclick=function($r,Br,Fr){var zr=this.model,jr=zr.get(["seriesIndex",Fr]);if(seriesOptGenreator[Fr]){var Ur={series:[]},Gr=function(Qr){var Jr=Qr.subType,rn=Qr.id,an=seriesOptGenreator[Fr](Jr,rn,Qr,zr);an&&(defaults(an,Qr.option),Ur.series.push(an));var ln=Qr.coordinateSystem;if(ln&&ln.type==="cartesian2d"&&(Fr==="line"||Fr==="bar")){var dn=ln.getAxesByScale("ordinal")[0];if(dn){var hn=dn.dim,gn=hn+"Axis",bn=Qr.getReferringComponents(gn,SINGLE_REFERRING).models[0],kn=bn.componentIndex;Ur[gn]=Ur[gn]||[];for(var Sn=0;Sn<=kn;Sn++)Ur[gn][kn]=Ur[gn][kn]||{};Ur[gn][kn].boundaryGap=Fr==="bar"}}};each$f(radioTypes,function(Qr){indexOf(Qr,Fr)>=0&&each$f(Qr,function(Jr){zr.setIconStatus(Jr,"normal")})}),zr.setIconStatus(Fr,"emphasis"),$r.eachComponent({mainType:"series",query:jr==null?null:{seriesIndex:jr}},Gr);var Yr,Kr=Fr;Fr==="stack"&&(Yr=merge({stack:zr.option.title.tiled,tiled:zr.option.title.stack},zr.option.title),zr.get(["iconStatus",Fr])!=="emphasis"&&(Kr="tiled")),Br.dispatchAction({type:"changeMagicType",currentType:Kr,newOption:Ur,newTitle:Yr,featureName:"magicType"})}},_r}(ToolboxFeature),seriesOptGenreator={line:function(Fe,_r,$r,Br){if(Fe==="bar")return merge({id:_r,type:"line",data:$r.get("data"),stack:$r.get("stack"),markPoint:$r.get("markPoint"),markLine:$r.get("markLine")},Br.get(["option","line"])||{},!0)},bar:function(Fe,_r,$r,Br){if(Fe==="line")return merge({id:_r,type:"bar",data:$r.get("data"),stack:$r.get("stack"),markPoint:$r.get("markPoint"),markLine:$r.get("markLine")},Br.get(["option","bar"])||{},!0)},stack:function(Fe,_r,$r,Br){var Fr=$r.get("stack")===INNER_STACK_KEYWORD;if(Fe==="line"||Fe==="bar")return Br.setIconStatus("stack",Fr?"normal":"emphasis"),merge({id:_r,stack:Fr?"":INNER_STACK_KEYWORD},Br.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(Fe,_r){_r.mergeOption(Fe.newOption)});const MagicType$1=MagicType;var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(Fe){var _r={},$r=[],Br=[];return Fe.eachRawSeries(function(Fr){var zr=Fr.coordinateSystem;if(zr&&(zr.type==="cartesian2d"||zr.type==="polar")){var jr=zr.getBaseAxis();if(jr.type==="category"){var Ur=jr.dim+"_"+jr.index;_r[Ur]||(_r[Ur]={categoryAxis:jr,valueAxis:zr.getOtherAxis(jr),series:[]},Br.push({axisDim:jr.dim,axisIndex:jr.index})),_r[Ur].series.push(Fr)}else $r.push(Fr)}else $r.push(Fr)}),{seriesGroupByCategoryAxis:_r,other:$r,meta:Br}}function assembleSeriesWithCategoryAxis(Fe){var _r=[];return each$f(Fe,function($r,Br){var Fr=$r.categoryAxis,zr=$r.valueAxis,jr=zr.dim,Ur=[" "].concat(map$1($r.series,function(rn){return rn.name})),Gr=[Fr.model.getCategories()];each$f($r.series,function(rn){var an=rn.getRawData();Gr.push(rn.getRawData().mapArray(an.mapDimension(jr),function(ln){return ln}))});for(var Yr=[Ur.join(ITEM_SPLITER)],Kr=0;Kr<Gr[0].length;Kr++){for(var Qr=[],Jr=0;Jr<Gr.length;Jr++)Qr.push(Gr[Jr][Kr]);Yr.push(Qr.join(ITEM_SPLITER))}_r.push(Yr.join(`
`))}),_r.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(Fe){return map$1(Fe,function(_r){var $r=_r.getRawData(),Br=[_r.name],Fr=[];return $r.each($r.dimensions,function(){for(var zr=arguments.length,jr=arguments[zr-1],Ur=$r.getName(jr),Gr=0;Gr<zr-1;Gr++)Fr[Gr]=arguments[Gr];Br.push((Ur?Ur+ITEM_SPLITER:"")+Fr.join(ITEM_SPLITER))}),Br.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(Fe){var _r=groupSeries(Fe);return{value:filter([assembleSeriesWithCategoryAxis(_r.seriesGroupByCategoryAxis),assembleOtherSeries(_r.other)],function($r){return!!$r.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:_r.meta}}function trim(Fe){return Fe.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(Fe){var _r=Fe.slice(0,Fe.indexOf(`
`));if(_r.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(Fe){for(var _r=Fe.split(/\n+/g),$r=trim(_r.shift()).split(itemSplitRegex),Br=[],Fr=map$1($r,function(Gr){return{name:Gr,data:[]}}),zr=0;zr<_r.length;zr++){var jr=trim(_r[zr]).split(itemSplitRegex);Br.push(jr.shift());for(var Ur=0;Ur<jr.length;Ur++)Fr[Ur]&&(Fr[Ur].data[zr]=jr[Ur])}return{series:Fr,categories:Br}}function parseListContents(Fe){for(var _r=Fe.split(/\n+/g),$r=trim(_r.shift()),Br=[],Fr=0;Fr<_r.length;Fr++){var zr=trim(_r[Fr]);if(zr){var jr=zr.split(itemSplitRegex),Ur="",Gr=void 0,Yr=!1;isNaN(jr[0])?(Yr=!0,Ur=jr[0],jr=jr.slice(1),Br[Fr]={name:Ur,value:[]},Gr=Br[Fr].value):Gr=Br[Fr]=[];for(var Kr=0;Kr<jr.length;Kr++)Gr.push(+jr[Kr]);Gr.length===1&&(Yr?Br[Fr].value=Gr[0]:Br[Fr]=Gr[0])}}return{name:$r,data:Br}}function parseContents(Fe,_r){var $r=Fe.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),Br={series:[]};return each$f($r,function(Fr,zr){if(isTSVFormat(Fr)){var jr=parseTSVContents(Fr),Ur=_r[zr],Gr=Ur.axisDim+"Axis";Ur&&(Br[Gr]=Br[Gr]||[],Br[Gr][Ur.axisIndex]={data:jr.categories},Br.series=Br.series.concat(jr.series))}else{var jr=parseListContents(Fr);Br.series.push(jr)}}),Br}var DataView=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.onclick=function($r,Br){setTimeout(function(){Br.dispatchAction({type:"hideTip"})});var Fr=Br.getDom(),zr=this.model;this._dom&&Fr.removeChild(this._dom);var jr=document.createElement("div");jr.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",jr.style.backgroundColor=zr.get("backgroundColor")||"#fff";var Ur=document.createElement("h4"),Gr=zr.get("lang")||[];Ur.innerHTML=Gr[0]||zr.get("title"),Ur.style.cssText="margin:10px 20px",Ur.style.color=zr.get("textColor");var Yr=document.createElement("div"),Kr=document.createElement("textarea");Yr.style.cssText="overflow:auto";var Qr=zr.get("optionToContent"),Jr=zr.get("contentToOption"),rn=getContentFromModel($r);if(isFunction(Qr)){var an=Qr(Br.getOption());isString(an)?Yr.innerHTML=an:isDom(an)&&Yr.appendChild(an)}else{Kr.readOnly=zr.get("readOnly");var ln=Kr.style;ln.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",ln.color=zr.get("textColor"),ln.borderColor=zr.get("textareaBorderColor"),ln.backgroundColor=zr.get("textareaColor"),Kr.value=rn.value,Yr.appendChild(Kr)}var dn=rn.meta,hn=document.createElement("div");hn.style.cssText="position:absolute;bottom:5px;left:0;right:0";var gn="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",bn=document.createElement("div"),kn=document.createElement("div");gn+=";background-color:"+zr.get("buttonColor"),gn+=";color:"+zr.get("buttonTextColor");var Sn=this;function _n(){Fr.removeChild(jr),Sn._dom=null}addEventListener(bn,"click",_n),addEventListener(kn,"click",function(){if(Jr==null&&Qr!=null||Jr!=null&&Qr==null){_n();return}var pn;try{isFunction(Jr)?pn=Jr(Yr,Br.getOption()):pn=parseContents(Kr.value,dn)}catch(Cn){throw _n(),new Error("Data view format error "+Cn)}pn&&Br.dispatchAction({type:"changeDataView",newOption:pn}),_n()}),bn.innerHTML=Gr[1],kn.innerHTML=Gr[2],kn.style.cssText=bn.style.cssText=gn,!zr.get("readOnly")&&hn.appendChild(kn),hn.appendChild(bn),jr.appendChild(Ur),jr.appendChild(Yr),jr.appendChild(hn),Yr.style.height=Fr.clientHeight-80+"px",Fr.appendChild(jr),this._dom=jr},_r.prototype.remove=function($r,Br){this._dom&&Br.getDom().removeChild(this._dom)},_r.prototype.dispose=function($r,Br){this.remove($r,Br)},_r.getDefaultOption=function($r){var Br={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:$r.getLocaleModel().get(["toolbox","dataView","title"]),lang:$r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return Br},_r}(ToolboxFeature);function tryMergeDataOption(Fe,_r){return map$1(Fe,function($r,Br){var Fr=_r&&_r[Br];if(isObject$3(Fr)&&!isArray$1(Fr)){var zr=isObject$3($r)&&!isArray$1($r);zr||($r={value:$r});var jr=Fr.name!=null&&$r.name==null;return $r=defaults($r,Fr),jr&&delete $r.name,$r}else return $r})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(Fe,_r){var $r=[];each$f(Fe.newOption.series,function(Br){var Fr=_r.getSeriesByName(Br.name)[0];if(!Fr)$r.push(extend$1({type:"scatter"},Br));else{var zr=Fr.get("data");$r.push({name:Br.name,data:tryMergeDataOption(Br.data,zr)})}}),_r.mergeOption(defaults({series:$r},Fe.newOption))});const DataView$1=DataView;var each$6=each$f,inner$6=makeInner();function push(Fe,_r){var $r=getStoreSnapshots(Fe);each$6(_r,function(Br,Fr){for(var zr=$r.length-1;zr>=0;zr--){var jr=$r[zr];if(jr[Fr])break}if(zr<0){var Ur=Fe.queryComponents({mainType:"dataZoom",subType:"select",id:Fr})[0];if(Ur){var Gr=Ur.getPercentRange();$r[0][Fr]={dataZoomId:Fr,start:Gr[0],end:Gr[1]}}}}),$r.push(_r)}function pop(Fe){var _r=getStoreSnapshots(Fe),$r=_r[_r.length-1];_r.length>1&&_r.pop();var Br={};return each$6($r,function(Fr,zr){for(var jr=_r.length-1;jr>=0;jr--)if(Fr=_r[jr][zr],Fr){Br[zr]=Fr;break}}),Br}function clear(Fe){inner$6(Fe).snapshots=null}function count(Fe){return getStoreSnapshots(Fe).length}function getStoreSnapshots(Fe){var _r=inner$6(Fe);return _r.snapshots||(_r.snapshots=[{}]),_r.snapshots}var RestoreOption=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.onclick=function($r,Br){clear($r),Br.dispatchAction({type:"restore",from:this.uid})},_r.getDefaultOption=function($r){var Br={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:$r.getLocaleModel().get(["toolbox","restore","title"])};return Br},_r}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(Fe,_r){_r.resetOption("recreate")});const Restore=RestoreOption;var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function Fe(_r,$r,Br){var Fr=this;this._targetInfoList=[];var zr=parseFinder($r,_r);each$f(targetInfoBuilders,function(jr,Ur){(!Br||!Br.include||indexOf(Br.include,Ur)>=0)&&jr(zr,Fr._targetInfoList)})}return Fe.prototype.setOutputRanges=function(_r,$r){return this.matchOutputRanges(_r,$r,function(Br,Fr,zr){if((Br.coordRanges||(Br.coordRanges=[])).push(Fr),!Br.coordRange){Br.coordRange=Fr;var jr=coordConvert[Br.brushType](0,zr,Fr);Br.__rangeOffset={offset:diffProcessor[Br.brushType](jr.values,Br.range,[1,1]),xyMinMax:jr.xyMinMax}}}),_r},Fe.prototype.matchOutputRanges=function(_r,$r,Br){each$f(_r,function(Fr){var zr=this.findTargetInfo(Fr,$r);zr&&zr!==!0&&each$f(zr.coordSyses,function(jr){var Ur=coordConvert[Fr.brushType](1,jr,Fr.range,!0);Br(Fr,Ur.values,jr,$r)})},this)},Fe.prototype.setInputRanges=function(_r,$r){each$f(_r,function(Br){var Fr=this.findTargetInfo(Br,$r);if(Br.range=Br.range||[],Fr&&Fr!==!0){Br.panelId=Fr.panelId;var zr=coordConvert[Br.brushType](0,Fr.coordSys,Br.coordRange),jr=Br.__rangeOffset;Br.range=jr?diffProcessor[Br.brushType](zr.values,jr.offset,getScales(zr.xyMinMax,jr.xyMinMax)):zr.values}},this)},Fe.prototype.makePanelOpts=function(_r,$r){return map$1(this._targetInfoList,function(Br){var Fr=Br.getPanelRect();return{panelId:Br.panelId,defaultBrushType:$r?$r(Br):null,clipPath:makeRectPanelClipPath(Fr),isTargetByCursor:makeRectIsTargetByCursor(Fr,_r,Br.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(Fr)}})},Fe.prototype.controlSeries=function(_r,$r,Br){var Fr=this.findTargetInfo(_r,Br);return Fr===!0||Fr&&indexOf(Fr.coordSyses,$r.coordinateSystem)>=0},Fe.prototype.findTargetInfo=function(_r,$r){for(var Br=this._targetInfoList,Fr=parseFinder($r,_r),zr=0;zr<Br.length;zr++){var jr=Br[zr],Ur=_r.panelId;if(Ur){if(jr.panelId===Ur)return jr}else for(var Gr=0;Gr<targetInfoMatchers.length;Gr++)if(targetInfoMatchers[Gr](Fr,jr))return jr}return!0},Fe}();function formatMinMax(Fe){return Fe[0]>Fe[1]&&Fe.reverse(),Fe}function parseFinder(Fe,_r){return parseFinder$1(Fe,_r,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(Fe,_r){var $r=Fe.xAxisModels,Br=Fe.yAxisModels,Fr=Fe.gridModels,zr=createHashMap(),jr={},Ur={};!$r&&!Br&&!Fr||(each$f($r,function(Gr){var Yr=Gr.axis.grid.model;zr.set(Yr.id,Yr),jr[Yr.id]=!0}),each$f(Br,function(Gr){var Yr=Gr.axis.grid.model;zr.set(Yr.id,Yr),Ur[Yr.id]=!0}),each$f(Fr,function(Gr){zr.set(Gr.id,Gr),jr[Gr.id]=!0,Ur[Gr.id]=!0}),zr.each(function(Gr){var Yr=Gr.coordinateSystem,Kr=[];each$f(Yr.getCartesians(),function(Qr,Jr){(indexOf($r,Qr.getAxis("x").model)>=0||indexOf(Br,Qr.getAxis("y").model)>=0)&&Kr.push(Qr)}),_r.push({panelId:"grid--"+Gr.id,gridModel:Gr,coordSysModel:Gr,coordSys:Kr[0],coordSyses:Kr,getPanelRect:panelRectBuilders.grid,xAxisDeclared:jr[Gr.id],yAxisDeclared:Ur[Gr.id]})}))},geo:function(Fe,_r){each$f(Fe.geoModels,function($r){var Br=$r.coordinateSystem;_r.push({panelId:"geo--"+$r.id,geoModel:$r,coordSysModel:$r,coordSys:Br,coordSyses:[Br],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(Fe,_r){var $r=Fe.xAxisModel,Br=Fe.yAxisModel,Fr=Fe.gridModel;return!Fr&&$r&&(Fr=$r.axis.grid.model),!Fr&&Br&&(Fr=Br.axis.grid.model),Fr&&Fr===_r.gridModel},function(Fe,_r){var $r=Fe.geoModel;return $r&&$r===_r.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var Fe=this.coordSys,_r=Fe.getBoundingRect().clone();return _r.applyTransform(getTransform$1(Fe)),_r}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(Fe,_r,$r,Br){var Fr=Fe?_r.pointToData([$r[0][0],$r[1][0]],Br):_r.dataToPoint([$r[0][0],$r[1][0]],Br),zr=Fe?_r.pointToData([$r[0][1],$r[1][1]],Br):_r.dataToPoint([$r[0][1],$r[1][1]],Br),jr=[formatMinMax([Fr[0],zr[0]]),formatMinMax([Fr[1],zr[1]])];return{values:jr,xyMinMax:jr}},polygon:function(Fe,_r,$r,Br){var Fr=[[1/0,-1/0],[1/0,-1/0]],zr=map$1($r,function(jr){var Ur=Fe?_r.pointToData(jr,Br):_r.dataToPoint(jr,Br);return Fr[0][0]=Math.min(Fr[0][0],Ur[0]),Fr[1][0]=Math.min(Fr[1][0],Ur[1]),Fr[0][1]=Math.max(Fr[0][1],Ur[0]),Fr[1][1]=Math.max(Fr[1][1],Ur[1]),Ur});return{values:zr,xyMinMax:Fr}}};function axisConvert(Fe,_r,$r,Br){var Fr=$r.getAxis(["x","y"][Fe]),zr=formatMinMax(map$1([0,1],function(Ur){return _r?Fr.coordToData(Fr.toLocalCoord(Br[Ur]),!0):Fr.toGlobalCoord(Fr.dataToCoord(Br[Ur]))})),jr=[];return jr[Fe]=zr,jr[1-Fe]=[NaN,NaN],{values:zr,xyMinMax:jr}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(Fe,_r,$r){return[[Fe[0][0]-$r[0]*_r[0][0],Fe[0][1]-$r[0]*_r[0][1]],[Fe[1][0]-$r[1]*_r[1][0],Fe[1][1]-$r[1]*_r[1][1]]]},polygon:function(Fe,_r,$r){return map$1(Fe,function(Br,Fr){return[Br[0]-$r[0]*_r[Fr][0],Br[1]-$r[1]*_r[Fr][1]]})}};function axisDiffProcessor(Fe,_r,$r,Br){return[_r[0]-Br[Fe]*$r[0],_r[1]-Br[Fe]*$r[1]]}function getScales(Fe,_r){var $r=getSize(Fe),Br=getSize(_r),Fr=[$r[0]/Br[0],$r[1]/Br[1]];return isNaN(Fr[0])&&(Fr[0]=1),isNaN(Fr[1])&&(Fr[1]=1),Fr}function getSize(Fe){return Fe?[Fe[0][1]-Fe[0][0],Fe[1][1]-Fe[1][0]]:[NaN,NaN]}const BrushTargetManager$1=BrushTargetManager;var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.render=function($r,Br,Fr,zr){this._brushController||(this._brushController=new BrushController$1(Fr.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus($r,Br,this,zr,Fr),updateBackBtnStatus($r,Br)},_r.prototype.onclick=function($r,Br,Fr){handlers[Fr].call(this)},_r.prototype.remove=function($r,Br){this._brushController&&this._brushController.unmount()},_r.prototype.dispose=function($r,Br){this._brushController&&this._brushController.dispose()},_r.prototype._onBrush=function($r){var Br=$r.areas;if(!$r.isEnd||!Br.length)return;var Fr={},zr=this.ecModel;this._brushController.updateCovers([]);var jr=new BrushTargetManager$1(makeAxisFinder(this.model),zr,{include:["grid"]});jr.matchOutputRanges(Br,zr,function(Yr,Kr,Qr){if(Qr.type==="cartesian2d"){var Jr=Yr.brushType;Jr==="rect"?(Ur("x",Qr,Kr[0]),Ur("y",Qr,Kr[1])):Ur({lineX:"x",lineY:"y"}[Jr],Qr,Kr)}}),push(zr,Fr),this._dispatchZoomAction(Fr);function Ur(Yr,Kr,Qr){var Jr=Kr.getAxis(Yr),rn=Jr.model,an=Gr(Yr,rn,zr),ln=an.findRepresentativeAxisProxy(rn).getMinMaxSpan();(ln.minValueSpan!=null||ln.maxValueSpan!=null)&&(Qr=sliderMove(0,Qr.slice(),Jr.scale.getExtent(),0,ln.minValueSpan,ln.maxValueSpan)),an&&(Fr[an.id]={dataZoomId:an.id,startValue:Qr[0],endValue:Qr[1]})}function Gr(Yr,Kr,Qr){var Jr;return Qr.eachComponent({mainType:"dataZoom",subType:"select"},function(rn){var an=rn.getAxisModel(Yr,Kr.componentIndex);an&&(Jr=rn)}),Jr}},_r.prototype._dispatchZoomAction=function($r){var Br=[];each$5($r,function(Fr,zr){Br.push(clone$4(Fr))}),Br.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:Br})},_r.getDefaultOption=function($r){var Br={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:$r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return Br},_r}(ToolboxFeature),handlers={zoom:function(){var Fe=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:Fe})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(Fe){var _r={xAxisIndex:Fe.get("xAxisIndex",!0),yAxisIndex:Fe.get("yAxisIndex",!0),xAxisId:Fe.get("xAxisId",!0),yAxisId:Fe.get("yAxisId",!0)};return _r.xAxisIndex==null&&_r.xAxisId==null&&(_r.xAxisIndex="all"),_r.yAxisIndex==null&&_r.yAxisId==null&&(_r.yAxisIndex="all"),_r}function updateBackBtnStatus(Fe,_r){Fe.setIconStatus("back",count(_r)>1?"emphasis":"normal")}function updateZoomBtnStatus(Fe,_r,$r,Br,Fr){var zr=$r._isZoomActive;Br&&Br.type==="takeGlobalCursor"&&(zr=Br.key==="dataZoomSelect"?Br.dataZoomSelectActive:!1),$r._isZoomActive=zr,Fe.setIconStatus("zoom",zr?"emphasis":"normal");var jr=new BrushTargetManager$1(makeAxisFinder(Fe),_r,{include:["grid"]}),Ur=jr.makePanelOpts(Fr,function(Gr){return Gr.xAxisDeclared&&!Gr.yAxisDeclared?"lineX":!Gr.xAxisDeclared&&Gr.yAxisDeclared?"lineY":"rect"});$r._brushController.setPanels(Ur).enableBrush(zr&&Ur.length?{brushType:"auto",brushStyle:Fe.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(Fe){var _r=Fe.getComponent("toolbox",0),$r=["feature","dataZoom"];if(!_r||_r.get($r)==null)return;var Br=_r.getModel($r),Fr=[],zr=makeAxisFinder(Br),jr=parseFinder$1(Fe,zr);each$5(jr.xAxisModels,function(Gr){return Ur(Gr,"xAxis","xAxisIndex")}),each$5(jr.yAxisModels,function(Gr){return Ur(Gr,"yAxis","yAxisIndex")});function Ur(Gr,Yr,Kr){var Qr=Gr.componentIndex,Jr={type:"select",$fromToolbox:!0,filterMode:Br.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+Yr+Qr};Jr[Kr]=Qr,Fr.push(Jr)}return Fr});const DataZoom=DataZoomFeature;function install$j(Fe){Fe.registerComponentModel(ToolboxModel$1),Fe.registerComponentView(ToolboxView$1),registerFeature("saveAsImage",SaveAsImage$1),registerFeature("magicType",MagicType$1),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(install$k)}var TooltipModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="tooltip",_r.dependencies=["axisPointer"],_r.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},_r}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(Fe){var _r=Fe.get("confine");return _r!=null?!!_r:Fe.get("renderMode")==="richText"}function testStyle(Fe){if(env$1.domSupported){for(var _r=document.documentElement.style,$r=0,Br=Fe.length;$r<Br;$r++)if(Fe[$r]in _r)return Fe[$r]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(Fe,_r){if(!Fe)return _r;_r=toCamelCase(_r,!0);var $r=Fe.indexOf(_r);return Fe=$r===-1?_r:"-"+Fe.slice(0,$r)+"-"+_r,Fe.toLowerCase()}function getComputedStyle$1(Fe,_r){var $r=Fe.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(Fe);return $r?_r?$r[_r]:$r:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(Fe){return Fe=Fe==="left"?"right":Fe==="right"?"left":Fe==="top"?"bottom":"top",Fe}function assembleArrow(Fe,_r,$r){if(!isString($r)||$r==="inside")return"";var Br=Fe.get("backgroundColor"),Fr=Fe.get("borderWidth");_r=convertToColorString(_r);var zr=mirrorPos($r),jr=Math.max(Math.round(Fr)*1.5,6),Ur="",Gr=CSS_TRANSFORM_VENDOR+":",Yr;indexOf(["left","right"],zr)>-1?(Ur+="top:50%",Gr+="translateY(-50%) rotate("+(Yr=zr==="left"?-225:-45)+"deg)"):(Ur+="left:50%",Gr+="translateX(-50%) rotate("+(Yr=zr==="top"?225:45)+"deg)");var Kr=Yr*Math.PI/180,Qr=jr+Fr,Jr=Qr*Math.abs(Math.cos(Kr))+Qr*Math.abs(Math.sin(Kr)),rn=Math.round(((Jr-Math.SQRT2*Fr)/2+Math.SQRT2*Fr-(Jr-Qr)/2)*100)/100;Ur+=";"+zr+":-"+rn+"px";var an=_r+" solid "+Fr+"px;",ln=["position:absolute;width:"+jr+"px;height:"+jr+"px;z-index:-1;",Ur+";"+Gr+";","border-bottom:"+an,"border-right:"+an,"background-color:"+Br+";"];return'<div style="'+ln.join("")+'"></div>'}function assembleTransition(Fe,_r){var $r="cubic-bezier(0.23,1,0.32,1)",Br=" "+Fe/2+"s "+$r,Fr="opacity"+Br+",visibility"+Br;return _r||(Br=" "+Fe+"s "+$r,Fr+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+Br:",left"+Br+",top"+Br),CSS_TRANSITION_VENDOR+":"+Fr}function assembleTransform(Fe,_r,$r){var Br=Fe.toFixed(0)+"px",Fr=_r.toFixed(0)+"px";if(!env$1.transformSupported)return $r?"top:"+Fr+";left:"+Br+";":[["top",Fr],["left",Br]];var zr=env$1.transform3dSupported,jr="translate"+(zr?"3d":"")+"("+Br+","+Fr+(zr?",0":"")+")";return $r?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+jr+";":[["top",0],["left",0],[TRANSFORM_VENDOR,jr]]}function assembleFont(Fe){var _r=[],$r=Fe.get("fontSize"),Br=Fe.getTextColor();Br&&_r.push("color:"+Br),_r.push("font:"+Fe.getFont()),$r&&_r.push("line-height:"+Math.round($r*3/2)+"px");var Fr=Fe.get("textShadowColor"),zr=Fe.get("textShadowBlur")||0,jr=Fe.get("textShadowOffsetX")||0,Ur=Fe.get("textShadowOffsetY")||0;return Fr&&zr&&_r.push("text-shadow:"+jr+"px "+Ur+"px "+zr+"px "+Fr),each$f(["decoration","align"],function(Gr){var Yr=Fe.get(Gr);Yr&&_r.push("text-"+Gr+":"+Yr)}),_r.join(";")}function assembleCssText(Fe,_r,$r){var Br=[],Fr=Fe.get("transitionDuration"),zr=Fe.get("backgroundColor"),jr=Fe.get("shadowBlur"),Ur=Fe.get("shadowColor"),Gr=Fe.get("shadowOffsetX"),Yr=Fe.get("shadowOffsetY"),Kr=Fe.getModel("textStyle"),Qr=getPaddingFromTooltipModel(Fe,"html"),Jr=Gr+"px "+Yr+"px "+jr+"px "+Ur;return Br.push("box-shadow:"+Jr),_r&&Fr&&Br.push(assembleTransition(Fr,$r)),zr&&Br.push("background-color:"+zr),each$f(["width","color","radius"],function(rn){var an="border-"+rn,ln=toCamelCase(an),dn=Fe.get(ln);dn!=null&&Br.push(an+":"+dn+(rn==="color"?"":"px"))}),Br.push(assembleFont(Kr)),Qr!=null&&Br.push("padding:"+normalizeCssArray(Qr).join("px ")+"px"),Br.join(";")+";"}function makeStyleCoord$1(Fe,_r,$r,Br,Fr){var zr=_r&&_r.painter;if($r){var jr=zr&&zr.getViewportRoot();jr&&transformLocalCoord(Fe,jr,document.body,Br,Fr)}else{Fe[0]=Br,Fe[1]=Fr;var Ur=zr&&zr.getViewportRootOffset();Ur&&(Fe[0]+=Ur.offsetLeft,Fe[1]+=Ur.offsetTop)}Fe[2]=Fe[0]/_r.getWidth(),Fe[3]=Fe[1]/_r.getHeight()}var TooltipHTMLContent=function(){function Fe(_r,$r,Br){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var Fr=document.createElement("div");Fr.domBelongToZr=!0,this.el=Fr;var zr=this._zr=$r.getZr(),jr=this._appendToBody=Br&&Br.appendToBody;makeStyleCoord$1(this._styleCoord,zr,jr,$r.getWidth()/2,$r.getHeight()/2),jr?document.body.appendChild(Fr):_r.appendChild(Fr),this._container=_r;var Ur=this;Fr.onmouseenter=function(){Ur._enterable&&(clearTimeout(Ur._hideTimeout),Ur._show=!0),Ur._inContent=!0},Fr.onmousemove=function(Gr){if(Gr=Gr||window.event,!Ur._enterable){var Yr=zr.handler,Kr=zr.painter.getViewportRoot();normalizeEvent(Kr,Gr,!0),Yr.dispatch("mousemove",Gr)}},Fr.onmouseleave=function(){Ur._inContent=!1,Ur._enterable&&Ur._show&&Ur.hideLater(Ur._hideDelay)}}return Fe.prototype.update=function(_r){var $r=this._container,Br=getComputedStyle$1($r,"position"),Fr=$r.style;Fr.position!=="absolute"&&Br!=="absolute"&&(Fr.position="relative");var zr=_r.get("alwaysShowContent");zr&&this._moveIfResized(),this._alwaysShowContent=zr,this.el.className=_r.get("className")||""},Fe.prototype.show=function(_r,$r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var Br=this.el,Fr=Br.style,zr=this._styleCoord;Br.innerHTML?Fr.cssText=gCssText+assembleCssText(_r,!this._firstShow,this._longHide)+assembleTransform(zr[0],zr[1],!0)+("border-color:"+convertToColorString($r)+";")+(_r.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):Fr.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},Fe.prototype.setContent=function(_r,$r,Br,Fr,zr){var jr=this.el;if(_r==null){jr.innerHTML="";return}var Ur="";if(isString(zr)&&Br.get("trigger")==="item"&&!shouldTooltipConfine(Br)&&(Ur=assembleArrow(Br,Fr,zr)),isString(_r))jr.innerHTML=_r+Ur;else if(_r){jr.innerHTML="",isArray$1(_r)||(_r=[_r]);for(var Gr=0;Gr<_r.length;Gr++)isDom(_r[Gr])&&_r[Gr].parentNode!==jr&&jr.appendChild(_r[Gr]);if(Ur&&jr.childNodes.length){var Yr=document.createElement("div");Yr.innerHTML=Ur,jr.appendChild(Yr)}}},Fe.prototype.setEnterable=function(_r){this._enterable=_r},Fe.prototype.getSize=function(){var _r=this.el;return[_r.offsetWidth,_r.offsetHeight]},Fe.prototype.moveTo=function(_r,$r){var Br=this._styleCoord;if(makeStyleCoord$1(Br,this._zr,this._appendToBody,_r,$r),Br[0]!=null&&Br[1]!=null){var Fr=this.el.style,zr=assembleTransform(Br[0],Br[1]);each$f(zr,function(jr){Fr[jr[0]]=jr[1]})}},Fe.prototype._moveIfResized=function(){var _r=this._styleCoord[2],$r=this._styleCoord[3];this.moveTo(_r*this._zr.getWidth(),$r*this._zr.getHeight())},Fe.prototype.hide=function(){var _r=this,$r=this.el.style;$r.visibility="hidden",$r.opacity="0",env$1.transform3dSupported&&($r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return _r._longHide=!0},500)},Fe.prototype.hideLater=function(_r){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(_r?(this._hideDelay=_r,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),_r)):this.hide())},Fe.prototype.isShow=function(){return this._show},Fe.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},Fe}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function Fe(_r){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=_r.getZr(),makeStyleCoord(this._styleCoord,this._zr,_r.getWidth()/2,_r.getHeight()/2)}return Fe.prototype.update=function(_r){var $r=_r.get("alwaysShowContent");$r&&this._moveIfResized(),this._alwaysShowContent=$r},Fe.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},Fe.prototype.setContent=function(_r,$r,Br,Fr,zr){var jr=this;isObject$3(_r)&&throwError(""),this.el&&this._zr.remove(this.el);var Ur=Br.getModel("textStyle");this.el=new ZRText$1({style:{rich:$r.richTextStyles,text:_r,lineHeight:22,borderWidth:1,borderColor:Fr,textShadowColor:Ur.get("textShadowColor"),fill:Br.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(Br,"richText"),verticalAlign:"top",align:"left"},z:Br.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(Yr){jr.el.style[Yr]=Br.get(Yr)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(Yr){jr.el.style[Yr]=Ur.get(Yr)||0}),this._zr.add(this.el);var Gr=this;this.el.on("mouseover",function(){Gr._enterable&&(clearTimeout(Gr._hideTimeout),Gr._show=!0),Gr._inContent=!0}),this.el.on("mouseout",function(){Gr._enterable&&Gr._show&&Gr.hideLater(Gr._hideDelay),Gr._inContent=!1})},Fe.prototype.setEnterable=function(_r){this._enterable=_r},Fe.prototype.getSize=function(){var _r=this.el,$r=this.el.getBoundingRect(),Br=calcShadowOuterSize(_r.style);return[$r.width+Br.left+Br.right,$r.height+Br.top+Br.bottom]},Fe.prototype.moveTo=function(_r,$r){var Br=this.el;if(Br){var Fr=this._styleCoord;makeStyleCoord(Fr,this._zr,_r,$r),_r=Fr[0],$r=Fr[1];var zr=Br.style,jr=mathMaxWith0(zr.borderWidth||0),Ur=calcShadowOuterSize(zr);Br.x=_r+jr+Ur.left,Br.y=$r+jr+Ur.top,Br.markRedraw()}},Fe.prototype._moveIfResized=function(){var _r=this._styleCoord[2],$r=this._styleCoord[3];this.moveTo(_r*this._zr.getWidth(),$r*this._zr.getHeight())},Fe.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},Fe.prototype.hideLater=function(_r){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(_r?(this._hideDelay=_r,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),_r)):this.hide())},Fe.prototype.isShow=function(){return this._show},Fe.prototype.dispose=function(){this._zr.remove(this.el)},Fe}();function mathMaxWith0(Fe){return Math.max(0,Fe)}function calcShadowOuterSize(Fe){var _r=mathMaxWith0(Fe.shadowBlur||0),$r=mathMaxWith0(Fe.shadowOffsetX||0),Br=mathMaxWith0(Fe.shadowOffsetY||0);return{left:mathMaxWith0(_r-$r),right:mathMaxWith0(_r+$r),top:mathMaxWith0(_r-Br),bottom:mathMaxWith0(_r+Br)}}function makeStyleCoord(Fe,_r,$r,Br){Fe[0]=$r,Fe[1]=Br,Fe[2]=Fe[0]/_r.getWidth(),Fe[3]=Fe[1]/_r.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$3({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function($r,Br){if(!(env$1.node||!Br.getDom())){var Fr=$r.getComponent("tooltip"),zr=this._renderMode=getTooltipRenderMode(Fr.get("renderMode"));this._tooltipContent=zr==="richText"?new TooltipRichContent$1(Br):new TooltipHTMLContent$1(Br.getDom(),Br,{appendToBody:Fr.get("appendToBody",!0)})}},_r.prototype.render=function($r,Br,Fr){if(!(env$1.node||!Fr.getDom())){this.group.removeAll(),this._tooltipModel=$r,this._ecModel=Br,this._api=Fr;var zr=this._tooltipContent;zr.update($r),zr.setEnterable($r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&$r.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},_r.prototype._initGlobalListener=function(){var $r=this._tooltipModel,Br=$r.get("triggerOn");register("itemTooltip",this._api,bind$1(function(Fr,zr,jr){Br!=="none"&&(Br.indexOf(Fr)>=0?this._tryShow(zr,jr):Fr==="leave"&&this._hide(jr))},this))},_r.prototype._keepShow=function(){var $r=this._tooltipModel,Br=this._ecModel,Fr=this._api,zr=$r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&zr!=="none"&&zr!=="click"){var jr=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!Fr.isDisposed()&&jr.manuallyShowTip($r,Br,Fr,{x:jr._lastX,y:jr._lastY,dataByCoordSys:jr._lastDataByCoordSys})})}},_r.prototype.manuallyShowTip=function($r,Br,Fr,zr){if(!(zr.from===this.uid||env$1.node||!Fr.getDom())){var jr=makeDispatchAction(zr,Fr);this._ticket="";var Ur=zr.dataByCoordSys,Gr=findComponentReference(zr,Br,Fr);if(Gr){var Yr=Gr.el.getBoundingRect().clone();Yr.applyTransform(Gr.el.transform),this._tryShow({offsetX:Yr.x+Yr.width/2,offsetY:Yr.y+Yr.height/2,target:Gr.el,position:zr.position,positionDefault:"bottom"},jr)}else if(zr.tooltip&&zr.x!=null&&zr.y!=null){var Kr=proxyRect;Kr.x=zr.x,Kr.y=zr.y,Kr.update(),getECData(Kr).tooltipConfig={name:null,option:zr.tooltip},this._tryShow({offsetX:zr.x,offsetY:zr.y,target:Kr},jr)}else if(Ur)this._tryShow({offsetX:zr.x,offsetY:zr.y,position:zr.position,dataByCoordSys:Ur,tooltipOption:zr.tooltipOption},jr);else if(zr.seriesIndex!=null){if(this._manuallyAxisShowTip($r,Br,Fr,zr))return;var Qr=findPointFromSeries(zr,Br),Jr=Qr.point[0],rn=Qr.point[1];Jr!=null&&rn!=null&&this._tryShow({offsetX:Jr,offsetY:rn,target:Qr.el,position:zr.position,positionDefault:"bottom"},jr)}else zr.x!=null&&zr.y!=null&&(Fr.dispatchAction({type:"updateAxisPointer",x:zr.x,y:zr.y}),this._tryShow({offsetX:zr.x,offsetY:zr.y,position:zr.position,target:Fr.getZr().findHover(zr.x,zr.y).target},jr))}},_r.prototype.manuallyHideTip=function($r,Br,Fr,zr){var jr=this._tooltipContent;this._tooltipModel&&jr.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,zr.from!==this.uid&&this._hide(makeDispatchAction(zr,Fr))},_r.prototype._manuallyAxisShowTip=function($r,Br,Fr,zr){var jr=zr.seriesIndex,Ur=zr.dataIndex,Gr=Br.getComponent("axisPointer").coordSysAxesInfo;if(!(jr==null||Ur==null||Gr==null)){var Yr=Br.getSeriesByIndex(jr);if(Yr){var Kr=Yr.getData(),Qr=buildTooltipModel([Kr.getItemModel(Ur),Yr,(Yr.coordinateSystem||{}).model],this._tooltipModel);if(Qr.get("trigger")==="axis")return Fr.dispatchAction({type:"updateAxisPointer",seriesIndex:jr,dataIndex:Ur,position:zr.position}),!0}}},_r.prototype._tryShow=function($r,Br){var Fr=$r.target,zr=this._tooltipModel;if(zr){this._lastX=$r.offsetX,this._lastY=$r.offsetY;var jr=$r.dataByCoordSys;if(jr&&jr.length)this._showAxisTooltip(jr,$r);else if(Fr){this._lastDataByCoordSys=null;var Ur,Gr;findEventDispatcher(Fr,function(Yr){if(getECData(Yr).dataIndex!=null)return Ur=Yr,!0;if(getECData(Yr).tooltipConfig!=null)return Gr=Yr,!0},!0),Ur?this._showSeriesItemTooltip($r,Ur,Br):Gr?this._showComponentItemTooltip($r,Gr,Br):this._hide(Br)}else this._lastDataByCoordSys=null,this._hide(Br)}},_r.prototype._showOrMove=function($r,Br){var Fr=$r.get("showDelay");Br=bind$1(Br,this),clearTimeout(this._showTimout),Fr>0?this._showTimout=setTimeout(Br,Fr):Br()},_r.prototype._showAxisTooltip=function($r,Br){var Fr=this._ecModel,zr=this._tooltipModel,jr=[Br.offsetX,Br.offsetY],Ur=buildTooltipModel([Br.tooltipOption],zr),Gr=this._renderMode,Yr=[],Kr=createTooltipMarkup("section",{blocks:[],noHeader:!0}),Qr=[],Jr=new TooltipMarkupStyleCreator;each$f($r,function(gn){each$f(gn.dataByAxis,function(bn){var kn=Fr.getComponent(bn.axisDim+"Axis",bn.axisIndex),Sn=bn.value;if(!(!kn||Sn==null)){var _n=getValueLabel(Sn,kn.axis,Fr,bn.seriesDataIndices,bn.valueLabelOpt),pn=createTooltipMarkup("section",{header:_n,noHeader:!trim$1(_n),sortBlocks:!0,blocks:[]});Kr.blocks.push(pn),each$f(bn.seriesDataIndices,function(Cn){var En=Fr.getSeriesByIndex(Cn.seriesIndex),Pn=Cn.dataIndexInside,On=En.getDataParams(Pn);if(!(On.dataIndex<0)){On.axisDim=bn.axisDim,On.axisIndex=bn.axisIndex,On.axisType=bn.axisType,On.axisId=bn.axisId,On.axisValue=getAxisRawValue(kn.axis,{value:Sn}),On.axisValueLabel=_n,On.marker=Jr.makeTooltipMarker("item",convertToColorString(On.color),Gr);var jn=normalizeTooltipFormatResult(En.formatTooltip(Pn,!0,null)),Fn=jn.frag;if(Fn){var Wn=buildTooltipModel([En],zr).get("valueFormatter");pn.blocks.push(Wn?extend$1({valueFormatter:Wn},Fn):Fn)}jn.text&&Qr.push(jn.text),Yr.push(On)}})}})}),Kr.blocks.reverse(),Qr.reverse();var rn=Br.position,an=Ur.get("order"),ln=buildTooltipMarkup(Kr,Jr,Gr,an,Fr.get("useUTC"),Ur.get("textStyle"));ln&&Qr.unshift(ln);var dn=Gr==="richText"?`

`:"<br/>",hn=Qr.join(dn);this._showOrMove(Ur,function(){this._updateContentNotChangedOnAxis($r,Yr)?this._updatePosition(Ur,rn,jr[0],jr[1],this._tooltipContent,Yr):this._showTooltipContent(Ur,hn,Yr,Math.random()+"",jr[0],jr[1],rn,null,Jr)})},_r.prototype._showSeriesItemTooltip=function($r,Br,Fr){var zr=this._ecModel,jr=getECData(Br),Ur=jr.seriesIndex,Gr=zr.getSeriesByIndex(Ur),Yr=jr.dataModel||Gr,Kr=jr.dataIndex,Qr=jr.dataType,Jr=Yr.getData(Qr),rn=this._renderMode,an=$r.positionDefault,ln=buildTooltipModel([Jr.getItemModel(Kr),Yr,Gr&&(Gr.coordinateSystem||{}).model],this._tooltipModel,an?{position:an}:null),dn=ln.get("trigger");if(!(dn!=null&&dn!=="item")){var hn=Yr.getDataParams(Kr,Qr),gn=new TooltipMarkupStyleCreator;hn.marker=gn.makeTooltipMarker("item",convertToColorString(hn.color),rn);var bn=normalizeTooltipFormatResult(Yr.formatTooltip(Kr,!1,Qr)),kn=ln.get("order"),Sn=ln.get("valueFormatter"),_n=bn.frag,pn=_n?buildTooltipMarkup(Sn?extend$1({valueFormatter:Sn},_n):_n,gn,rn,kn,zr.get("useUTC"),ln.get("textStyle")):bn.text,Cn="item_"+Yr.name+"_"+Kr;this._showOrMove(ln,function(){this._showTooltipContent(ln,pn,hn,Cn,$r.offsetX,$r.offsetY,$r.position,$r.target,gn)}),Fr({type:"showTip",dataIndexInside:Kr,dataIndex:Jr.getRawIndex(Kr),seriesIndex:Ur,from:this.uid})}},_r.prototype._showComponentItemTooltip=function($r,Br,Fr){var zr=getECData(Br),jr=zr.tooltipConfig,Ur=jr.option||{};if(isString(Ur)){var Gr=Ur;Ur={content:Gr,formatter:Gr}}var Yr=[Ur],Kr=this._ecModel.getComponent(zr.componentMainType,zr.componentIndex);Kr&&Yr.push(Kr),Yr.push({formatter:Ur.content});var Qr=$r.positionDefault,Jr=buildTooltipModel(Yr,this._tooltipModel,Qr?{position:Qr}:null),rn=Jr.get("content"),an=Math.random()+"",ln=new TooltipMarkupStyleCreator;this._showOrMove(Jr,function(){var dn=clone$4(Jr.get("formatterParams")||{});this._showTooltipContent(Jr,rn,dn,an,$r.offsetX,$r.offsetY,$r.position,Br,ln)}),Fr({type:"showTip",from:this.uid})},_r.prototype._showTooltipContent=function($r,Br,Fr,zr,jr,Ur,Gr,Yr,Kr){if(this._ticket="",!(!$r.get("showContent")||!$r.get("show"))){var Qr=this._tooltipContent;Qr.setEnterable($r.get("enterable"));var Jr=$r.get("formatter");Gr=Gr||$r.get("position");var rn=Br,an=this._getNearestPoint([jr,Ur],Fr,$r.get("trigger"),$r.get("borderColor")),ln=an.color;if(Jr)if(isString(Jr)){var dn=$r.ecModel.get("useUTC"),hn=isArray$1(Fr)?Fr[0]:Fr,gn=hn&&hn.axisType&&hn.axisType.indexOf("time")>=0;rn=Jr,gn&&(rn=format$1(hn.axisValue,rn,dn)),rn=formatTpl(rn,Fr,!0)}else if(isFunction(Jr)){var bn=bind$1(function(kn,Sn){kn===this._ticket&&(Qr.setContent(Sn,Kr,$r,ln,Gr),this._updatePosition($r,Gr,jr,Ur,Qr,Fr,Yr))},this);this._ticket=zr,rn=Jr(Fr,zr,bn)}else rn=Jr;Qr.setContent(rn,Kr,$r,ln,Gr),Qr.show($r,ln),this._updatePosition($r,Gr,jr,Ur,Qr,Fr,Yr)}},_r.prototype._getNearestPoint=function($r,Br,Fr,zr){if(Fr==="axis"||isArray$1(Br))return{color:zr||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(Br))return{color:zr||Br.color||Br.borderColor}},_r.prototype._updatePosition=function($r,Br,Fr,zr,jr,Ur,Gr){var Yr=this._api.getWidth(),Kr=this._api.getHeight();Br=Br||$r.get("position");var Qr=jr.getSize(),Jr=$r.get("align"),rn=$r.get("verticalAlign"),an=Gr&&Gr.getBoundingRect().clone();if(Gr&&an.applyTransform(Gr.transform),isFunction(Br)&&(Br=Br([Fr,zr],Ur,jr.el,an,{viewSize:[Yr,Kr],contentSize:Qr.slice()})),isArray$1(Br))Fr=parsePercent(Br[0],Yr),zr=parsePercent(Br[1],Kr);else if(isObject$3(Br)){var ln=Br;ln.width=Qr[0],ln.height=Qr[1];var dn=getLayoutRect(ln,{width:Yr,height:Kr});Fr=dn.x,zr=dn.y,Jr=null,rn=null}else if(isString(Br)&&Gr){var hn=calcTooltipPosition(Br,an,Qr,$r.get("borderWidth"));Fr=hn[0],zr=hn[1]}else{var hn=refixTooltipPosition(Fr,zr,jr,Yr,Kr,Jr?null:20,rn?null:20);Fr=hn[0],zr=hn[1]}if(Jr&&(Fr-=isCenterAlign(Jr)?Qr[0]/2:Jr==="right"?Qr[0]:0),rn&&(zr-=isCenterAlign(rn)?Qr[1]/2:rn==="bottom"?Qr[1]:0),shouldTooltipConfine($r)){var hn=confineTooltipPosition(Fr,zr,jr,Yr,Kr);Fr=hn[0],zr=hn[1]}jr.moveTo(Fr,zr)},_r.prototype._updateContentNotChangedOnAxis=function($r,Br){var Fr=this._lastDataByCoordSys,zr=this._cbParamsList,jr=!!Fr&&Fr.length===$r.length;return jr&&each$f(Fr,function(Ur,Gr){var Yr=Ur.dataByAxis||[],Kr=$r[Gr]||{},Qr=Kr.dataByAxis||[];jr=jr&&Yr.length===Qr.length,jr&&each$f(Yr,function(Jr,rn){var an=Qr[rn]||{},ln=Jr.seriesDataIndices||[],dn=an.seriesDataIndices||[];jr=jr&&Jr.value===an.value&&Jr.axisType===an.axisType&&Jr.axisId===an.axisId&&ln.length===dn.length,jr&&each$f(ln,function(hn,gn){var bn=dn[gn];jr=jr&&hn.seriesIndex===bn.seriesIndex&&hn.dataIndex===bn.dataIndex}),zr&&each$f(Jr.seriesDataIndices,function(hn){var gn=hn.seriesIndex,bn=Br[gn],kn=zr[gn];bn&&kn&&kn.data!==bn.data&&(jr=!1)})})}),this._lastDataByCoordSys=$r,this._cbParamsList=Br,!!jr},_r.prototype._hide=function($r){this._lastDataByCoordSys=null,$r({type:"hideTip",from:this.uid})},_r.prototype.dispose=function($r,Br){env$1.node||!Br.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",Br))},_r.type="tooltip",_r}(ComponentView$1);function buildTooltipModel(Fe,_r,$r){var Br=_r.ecModel,Fr;$r?(Fr=new Model$1($r,Br,Br),Fr=new Model$1(_r.option,Fr,Br)):Fr=_r;for(var zr=Fe.length-1;zr>=0;zr--){var jr=Fe[zr];jr&&(jr instanceof Model$1&&(jr=jr.get("tooltip",!0)),isString(jr)&&(jr={formatter:jr}),jr&&(Fr=new Model$1(jr,Fr,Br)))}return Fr}function makeDispatchAction(Fe,_r){return Fe.dispatchAction||bind$1(_r.dispatchAction,_r)}function refixTooltipPosition(Fe,_r,$r,Br,Fr,zr,jr){var Ur=$r.getSize(),Gr=Ur[0],Yr=Ur[1];return zr!=null&&(Fe+Gr+zr+2>Br?Fe-=Gr+zr:Fe+=zr),jr!=null&&(_r+Yr+jr>Fr?_r-=Yr+jr:_r+=jr),[Fe,_r]}function confineTooltipPosition(Fe,_r,$r,Br,Fr){var zr=$r.getSize(),jr=zr[0],Ur=zr[1];return Fe=Math.min(Fe+jr,Br)-jr,_r=Math.min(_r+Ur,Fr)-Ur,Fe=Math.max(Fe,0),_r=Math.max(_r,0),[Fe,_r]}function calcTooltipPosition(Fe,_r,$r,Br){var Fr=$r[0],zr=$r[1],jr=Math.ceil(Math.SQRT2*Br)+8,Ur=0,Gr=0,Yr=_r.width,Kr=_r.height;switch(Fe){case"inside":Ur=_r.x+Yr/2-Fr/2,Gr=_r.y+Kr/2-zr/2;break;case"top":Ur=_r.x+Yr/2-Fr/2,Gr=_r.y-zr-jr;break;case"bottom":Ur=_r.x+Yr/2-Fr/2,Gr=_r.y+Kr+jr;break;case"left":Ur=_r.x-Fr-jr,Gr=_r.y+Kr/2-zr/2;break;case"right":Ur=_r.x+Yr+jr,Gr=_r.y+Kr/2-zr/2}return[Ur,Gr]}function isCenterAlign(Fe){return Fe==="center"||Fe==="middle"}function findComponentReference(Fe,_r,$r){var Br=preParseFinder(Fe).queryOptionMap,Fr=Br.keys()[0];if(!(!Fr||Fr==="series")){var zr=queryReferringComponents(_r,Fr,Br.get(Fr),{useDefault:!1,enableAll:!1,enableNone:!1}),jr=zr.models[0];if(jr){var Ur=$r.getViewOfComponentModel(jr),Gr;if(Ur.group.traverse(function(Yr){var Kr=getECData(Yr).tooltipConfig;if(Kr&&Kr.name===Fe.name)return Gr=Yr,!0}),Gr)return{componentMainType:Fr,componentIndex:jr.componentIndex,el:Gr}}}}const TooltipView$1=TooltipView;function install$i(Fe){use(install$q),Fe.registerComponentModel(TooltipModel$1),Fe.registerComponentView(TooltipView$1),Fe.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),Fe.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(Fe,_r){var $r=normalizeToArray(Fe?Fe.brush:[]);if($r.length){var Br=[];each$f($r,function(Gr){var Yr=Gr.hasOwnProperty("toolbox")?Gr.toolbox:[];Yr instanceof Array&&(Br=Br.concat(Yr))});var Fr=Fe&&Fe.toolbox;isArray$1(Fr)&&(Fr=Fr[0]),Fr||(Fr={feature:{}},Fe.toolbox=[Fr]);var zr=Fr.feature||(Fr.feature={}),jr=zr.brush||(zr.brush={}),Ur=jr.type||(jr.type=[]);Ur.push.apply(Ur,Br),removeDuplicate(Ur),_r&&!Ur.length&&Ur.push.apply(Ur,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(Fe){var _r={};each$f(Fe,function($r){_r[$r]=1}),Fe.length=0,each$f(_r,function($r,Br){Fe.push(Br)})}var each$4=each$f;function hasKeys(Fe){if(Fe){for(var _r in Fe)if(Fe.hasOwnProperty(_r))return!0}}function createVisualMappings(Fe,_r,$r){var Br={};return each$4(_r,function(zr){var jr=Br[zr]=Fr();each$4(Fe[zr],function(Ur,Gr){if(VisualMapping$1.isValidType(Gr)){var Yr={type:Gr,visual:Ur};$r&&$r(Yr,zr),jr[Gr]=new VisualMapping$1(Yr),Gr==="opacity"&&(Yr=clone$4(Yr),Yr.type="colorAlpha",jr.__hidden.__alphaForOpacity=new VisualMapping$1(Yr))}})}),Br;function Fr(){var zr=function(){};zr.prototype.__hidden=zr.prototype;var jr=new zr;return jr}}function replaceVisualOption(Fe,_r,$r){var Br;each$f($r,function(Fr){_r.hasOwnProperty(Fr)&&hasKeys(_r[Fr])&&(Br=!0)}),Br&&each$f($r,function(Fr){_r.hasOwnProperty(Fr)&&hasKeys(_r[Fr])?Fe[Fr]=clone$4(_r[Fr]):delete Fe[Fr]})}function applyVisual(Fe,_r,$r,Br,Fr,zr){var jr={};each$f(Fe,function(Qr){var Jr=VisualMapping$1.prepareVisualTypes(_r[Qr]);jr[Qr]=Jr});var Ur;function Gr(Qr){return getItemVisualFromData($r,Ur,Qr)}function Yr(Qr,Jr){setItemVisualFromData($r,Ur,Qr,Jr)}zr==null?$r.each(Kr):$r.each([zr],Kr);function Kr(Qr,Jr){Ur=zr==null?Qr:Jr;var rn=$r.getRawDataItem(Ur);if(!(rn&&rn.visualMap===!1))for(var an=Br.call(Fr,Qr),ln=_r[an],dn=jr[an],hn=0,gn=dn.length;hn<gn;hn++){var bn=dn[hn];ln[bn]&&ln[bn].applyVisual(Qr,Gr,Yr)}}}function incrementalApplyVisual(Fe,_r,$r,Br){var Fr={};return each$f(Fe,function(zr){var jr=VisualMapping$1.prepareVisualTypes(_r[zr]);Fr[zr]=jr}),{progress:function(jr,Ur){var Gr;Br!=null&&(Gr=Ur.getDimensionIndex(Br));function Yr(Sn){return getItemVisualFromData(Ur,Qr,Sn)}function Kr(Sn,_n){setItemVisualFromData(Ur,Qr,Sn,_n)}for(var Qr,Jr=Ur.getStore();(Qr=jr.next())!=null;){var rn=Ur.getRawDataItem(Qr);if(!(rn&&rn.visualMap===!1))for(var an=Br!=null?Jr.get(Gr,Qr):Qr,ln=$r(an),dn=_r[ln],hn=Fr[ln],gn=0,bn=hn.length;gn<bn;gn++){var kn=hn[gn];dn[kn]&&dn[kn].applyVisual(an,Yr,Kr)}}}}}function makeBrushCommonSelectorForSeries(Fe){var _r=Fe.brushType,$r={point:function(Br){return selector[_r].point(Br,$r,Fe)},rect:function(Br){return selector[_r].rect(Br,$r,Fe)}};return $r}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(Fe,_r,$r){return Fe&&$r.boundingRect.contain(Fe[0],Fe[1])},rect:function(Fe,_r,$r){return Fe&&$r.boundingRect.intersect(Fe)}},polygon:{point:function(Fe,_r,$r){return Fe&&$r.boundingRect.contain(Fe[0],Fe[1])&&contain($r.range,Fe[0],Fe[1])},rect:function(Fe,_r,$r){var Br=$r.range;if(!Fe||Br.length<=1)return!1;var Fr=Fe.x,zr=Fe.y,jr=Fe.width,Ur=Fe.height,Gr=Br[0];if(contain(Br,Fr,zr)||contain(Br,Fr+jr,zr)||contain(Br,Fr,zr+Ur)||contain(Br,Fr+jr,zr+Ur)||BoundingRect$1.create(Fe).contain(Gr[0],Gr[1])||linePolygonIntersect(Fr,zr,Fr+jr,zr,Br)||linePolygonIntersect(Fr,zr,Fr,zr+Ur,Br)||linePolygonIntersect(Fr+jr,zr,Fr+jr,zr+Ur,Br)||linePolygonIntersect(Fr,zr+Ur,Fr+jr,zr+Ur,Br))return!0}}};function getLineSelectors(Fe){var _r=["x","y"],$r=["width","height"];return{point:function(Br,Fr,zr){if(Br){var jr=zr.range,Ur=Br[Fe];return inLineRange(Ur,jr)}},rect:function(Br,Fr,zr){if(Br){var jr=zr.range,Ur=[Br[_r[Fe]],Br[_r[Fe]]+Br[$r[Fe]]];return Ur[1]<Ur[0]&&Ur.reverse(),inLineRange(Ur[0],jr)||inLineRange(Ur[1],jr)||inLineRange(jr[0],Ur)||inLineRange(jr[1],Ur)}}}}function inLineRange(Fe,_r){return _r[0]<=Fe&&Fe<=_r[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(Fe){Fe.eachComponent({mainType:"brush"},function(_r){var $r=_r.brushTargetManager=new BrushTargetManager$1(_r.option,Fe);$r.setInputRanges(_r.areas,Fe)})}function brushVisual(Fe,_r,$r){var Br=[],Fr,zr;Fe.eachComponent({mainType:"brush"},function(jr){$r&&$r.type==="takeGlobalCursor"&&jr.setBrushOption($r.key==="brush"?$r.brushOption:{brushType:!1})}),layoutCovers(Fe),Fe.eachComponent({mainType:"brush"},function(jr,Ur){var Gr={brushId:jr.id,brushIndex:Ur,brushName:jr.name,areas:clone$4(jr.areas),selected:[]};Br.push(Gr);var Yr=jr.option,Kr=Yr.brushLink,Qr=[],Jr=[],rn=[],an=!1;Ur||(Fr=Yr.throttleType,zr=Yr.throttleDelay);var ln=map$1(jr.areas,function(Sn){var _n=boundingRectBuilders[Sn.brushType],pn=defaults({boundingRect:_n?_n(Sn):void 0},Sn);return pn.selectors=makeBrushCommonSelectorForSeries(pn),pn}),dn=createVisualMappings(jr.option,STATE_LIST,function(Sn){Sn.mappingMethod="fixed"});isArray$1(Kr)&&each$f(Kr,function(Sn){Qr[Sn]=1});function hn(Sn){return Kr==="all"||!!Qr[Sn]}function gn(Sn){return!!Sn.length}Fe.eachSeries(function(Sn,_n){var pn=rn[_n]=[];Sn.subType==="parallel"?bn(Sn,_n):kn(Sn,_n,pn)});function bn(Sn,_n){var pn=Sn.coordinateSystem;an=an||pn.hasAxisBrushed(),hn(_n)&&pn.eachActiveState(Sn.getData(),function(Cn,En){Cn==="active"&&(Jr[En]=1)})}function kn(Sn,_n,pn){if(!(!Sn.brushSelector||brushModelNotControll(jr,_n))&&(each$f(ln,function(En){jr.brushTargetManager.controlSeries(En,Sn,Fe)&&pn.push(En),an=an||gn(pn)}),hn(_n)&&gn(pn))){var Cn=Sn.getData();Cn.each(function(En){checkInRange(Sn,pn,Cn,En)&&(Jr[En]=1)})}}Fe.eachSeries(function(Sn,_n){var pn={seriesId:Sn.id,seriesIndex:_n,seriesName:Sn.name,dataIndex:[]};Gr.selected.push(pn);var Cn=rn[_n],En=Sn.getData(),Pn=hn(_n)?function(On){return Jr[On]?(pn.dataIndex.push(En.getRawIndex(On)),"inBrush"):"outOfBrush"}:function(On){return checkInRange(Sn,Cn,En,On)?(pn.dataIndex.push(En.getRawIndex(On)),"inBrush"):"outOfBrush"};(hn(_n)?an:gn(Cn))&&applyVisual(STATE_LIST,dn,En,Pn)})}),dispatchAction$1(_r,Fr,zr,Br,$r)}function dispatchAction$1(Fe,_r,$r,Br,Fr){if(Fr){var zr=Fe.getZr();if(!zr[DISPATCH_FLAG]){zr[DISPATCH_METHOD]||(zr[DISPATCH_METHOD]=doDispatch);var jr=createOrUpdate(zr,DISPATCH_METHOD,$r,_r);jr(Fe,Br)}}}function doDispatch(Fe,_r){if(!Fe.isDisposed()){var $r=Fe.getZr();$r[DISPATCH_FLAG]=!0,Fe.dispatchAction({type:"brushSelect",batch:_r}),$r[DISPATCH_FLAG]=!1}}function checkInRange(Fe,_r,$r,Br){for(var Fr=0,zr=_r.length;Fr<zr;Fr++){var jr=_r[Fr];if(Fe.brushSelector(Br,$r,jr.selectors,jr))return!0}}function brushModelNotControll(Fe,_r){var $r=Fe.option.seriesIndex;return $r!=null&&$r!=="all"&&(isArray$1($r)?indexOf($r,_r)<0:_r!==$r)}var boundingRectBuilders={rect:function(Fe){return getBoundingRectFromMinMax(Fe.range)},polygon:function(Fe){for(var _r,$r=Fe.range,Br=0,Fr=$r.length;Br<Fr;Br++){_r=_r||[[1/0,-1/0],[1/0,-1/0]];var zr=$r[Br];zr[0]<_r[0][0]&&(_r[0][0]=zr[0]),zr[0]>_r[0][1]&&(_r[0][1]=zr[0]),zr[1]<_r[1][0]&&(_r[1][0]=zr[1]),zr[1]>_r[1][1]&&(_r[1][1]=zr[1])}return _r&&getBoundingRectFromMinMax(_r)}};function getBoundingRectFromMinMax(Fe){return new BoundingRect$1(Fe[0][0],Fe[1][0],Fe[0][1]-Fe[0][0],Fe[1][1]-Fe[1][0])}var BrushView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function($r,Br){this.ecModel=$r,this.api=Br,this.model,(this._brushController=new BrushController$1(Br.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},_r.prototype.render=function($r,Br,Fr,zr){this.model=$r,this._updateController($r,Br,Fr,zr)},_r.prototype.updateTransform=function($r,Br,Fr,zr){layoutCovers(Br),this._updateController($r,Br,Fr,zr)},_r.prototype.updateVisual=function($r,Br,Fr,zr){this.updateTransform($r,Br,Fr,zr)},_r.prototype.updateView=function($r,Br,Fr,zr){this._updateController($r,Br,Fr,zr)},_r.prototype._updateController=function($r,Br,Fr,zr){(!zr||zr.$from!==$r.id)&&this._brushController.setPanels($r.brushTargetManager.makePanelOpts(Fr)).enableBrush($r.brushOption).updateCovers($r.areas.slice())},_r.prototype.dispose=function(){this._brushController.dispose()},_r.prototype._onBrush=function($r){var Br=this.model.id,Fr=this.model.brushTargetManager.setOutputRanges($r.areas,this.ecModel);(!$r.isEnd||$r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:Br,areas:clone$4(Fr),$from:Br}),$r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:Br,areas:clone$4(Fr),$from:Br})},_r.type="brush",_r}(ComponentView$1);const BrushView$1=BrushView;var DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.areas=[],$r.brushOption={},$r}return _r.prototype.optionUpdated=function($r,Br){var Fr=this.option;!Br&&replaceVisualOption(Fr,$r,["inBrush","outOfBrush"]);var zr=Fr.inBrush=Fr.inBrush||{};Fr.outOfBrush=Fr.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},zr.hasOwnProperty("liftZ")||(zr.liftZ=5)},_r.prototype.setAreas=function($r){$r&&(this.areas=map$1($r,function(Br){return generateBrushOption(this.option,Br)},this))},_r.prototype.setBrushOption=function($r){this.brushOption=generateBrushOption(this.option,$r),this.brushType=this.brushOption.brushType},_r.type="brush",_r.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],_r.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},_r}(ComponentModel$1);function generateBrushOption(Fe,_r){return merge({brushType:Fe.brushType,brushMode:Fe.brushMode,transformable:Fe.transformable,brushStyle:new Model$1(Fe.brushStyle).getItemStyle(),removeOnClick:Fe.removeOnClick,z:Fe.z},_r,!0)}const BrushModel$1=BrushModel;var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(Fe){__extends(_r,Fe);function _r(){return Fe!==null&&Fe.apply(this,arguments)||this}return _r.prototype.render=function($r,Br,Fr){var zr,jr,Ur;Br.eachComponent({mainType:"brush"},function(Gr){zr=Gr.brushType,jr=Gr.brushOption.brushMode||"single",Ur=Ur||!!Gr.areas.length}),this._brushType=zr,this._brushMode=jr,each$f($r.get("type",!0),function(Gr){$r.setIconStatus(Gr,(Gr==="keep"?jr==="multiple":Gr==="clear"?Ur:Gr===zr)?"emphasis":"normal")})},_r.prototype.updateView=function($r,Br,Fr){this.render($r,Br,Fr)},_r.prototype.getIcons=function(){var $r=this.model,Br=$r.get("icon",!0),Fr={};return each$f($r.get("type",!0),function(zr){Br[zr]&&(Fr[zr]=Br[zr])}),Fr},_r.prototype.onclick=function($r,Br,Fr){var zr=this._brushType,jr=this._brushMode;Fr==="clear"?(Br.dispatchAction({type:"axisAreaSelect",intervals:[]}),Br.dispatchAction({type:"brush",command:"clear",areas:[]})):Br.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:Fr==="keep"?zr:zr===Fr?!1:Fr,brushMode:Fr==="keep"?jr==="multiple"?"single":"multiple":jr}})},_r.getDefaultOption=function($r){var Br={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:$r.getLocaleModel().get(["toolbox","brush","title"])};return Br},_r}(ToolboxFeature);const BrushFeature$1=BrushFeature;function install$h(Fe){Fe.registerComponentView(BrushView$1),Fe.registerComponentModel(BrushModel$1),Fe.registerPreprocessor(brushPreprocessor),Fe.registerVisual(Fe.PRIORITY.VISUAL.BRUSH,brushVisual),Fe.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(_r,$r){$r.eachComponent({mainType:"brush",query:_r},function(Br){Br.setAreas(_r.areas)})}),Fe.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),Fe.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature$1)}var TitleModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.layoutMode={type:"box",ignoreSize:!0},$r}return _r.type="title",_r.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},_r}(ComponentModel$1),TitleView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.render=function($r,Br,Fr){if(this.group.removeAll(),!!$r.get("show")){var zr=this.group,jr=$r.getModel("textStyle"),Ur=$r.getModel("subtextStyle"),Gr=$r.get("textAlign"),Yr=retrieve2($r.get("textBaseline"),$r.get("textVerticalAlign")),Kr=new ZRText$1({style:createTextStyle$1(jr,{text:$r.get("text"),fill:jr.getTextColor()},{disableBox:!0}),z2:10}),Qr=Kr.getBoundingRect(),Jr=$r.get("subtext"),rn=new ZRText$1({style:createTextStyle$1(Ur,{text:Jr,fill:Ur.getTextColor(),y:Qr.height+$r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),an=$r.get("link"),ln=$r.get("sublink"),dn=$r.get("triggerEvent",!0);Kr.silent=!an&&!dn,rn.silent=!ln&&!dn,an&&Kr.on("click",function(){windowOpen(an,"_"+$r.get("target"))}),ln&&rn.on("click",function(){windowOpen(ln,"_"+$r.get("subtarget"))}),getECData(Kr).eventData=getECData(rn).eventData=dn?{componentType:"title",componentIndex:$r.componentIndex}:null,zr.add(Kr),Jr&&zr.add(rn);var hn=zr.getBoundingRect(),gn=$r.getBoxLayoutParams();gn.width=hn.width,gn.height=hn.height;var bn=getLayoutRect(gn,{width:Fr.getWidth(),height:Fr.getHeight()},$r.get("padding"));Gr||(Gr=$r.get("left")||$r.get("right"),Gr==="middle"&&(Gr="center"),Gr==="right"?bn.x+=bn.width:Gr==="center"&&(bn.x+=bn.width/2)),Yr||(Yr=$r.get("top")||$r.get("bottom"),Yr==="center"&&(Yr="middle"),Yr==="bottom"?bn.y+=bn.height:Yr==="middle"&&(bn.y+=bn.height/2),Yr=Yr||"top"),zr.x=bn.x,zr.y=bn.y,zr.markRedraw();var kn={align:Gr,verticalAlign:Yr};Kr.setStyle(kn),rn.setStyle(kn),hn=zr.getBoundingRect();var Sn=bn.margin,_n=$r.getItemStyle(["color","opacity"]);_n.fill=$r.get("backgroundColor");var pn=new Rect$3({shape:{x:hn.x-Sn[3],y:hn.y-Sn[0],width:hn.width+Sn[1]+Sn[3],height:hn.height+Sn[0]+Sn[2],r:$r.get("borderRadius")},style:_n,subPixelOptimize:!0,silent:!0});zr.add(pn)}},_r.type="title",_r}(ComponentView$1);function install$g(Fe){Fe.registerComponentModel(TitleModel),Fe.registerComponentView(TitleView)}var TimelineModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.layoutMode="box",$r}return _r.prototype.init=function($r,Br,Fr){this.mergeDefaultAndTheme($r,Fr),this._initData()},_r.prototype.mergeOption=function($r){Fe.prototype.mergeOption.apply(this,arguments),this._initData()},_r.prototype.setCurrentIndex=function($r){$r==null&&($r=this.option.currentIndex);var Br=this._data.count();this.option.loop?$r=($r%Br+Br)%Br:($r>=Br&&($r=Br-1),$r<0&&($r=0)),this.option.currentIndex=$r},_r.prototype.getCurrentIndex=function(){return this.option.currentIndex},_r.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},_r.prototype.setPlayState=function($r){this.option.autoPlay=!!$r},_r.prototype.getPlayState=function(){return!!this.option.autoPlay},_r.prototype._initData=function(){var $r=this.option,Br=$r.data||[],Fr=$r.axisType,zr=this._names=[],jr;Fr==="category"?(jr=[],each$f(Br,function(Yr,Kr){var Qr=convertOptionIdName(getDataItemValue(Yr),""),Jr;isObject$3(Yr)?(Jr=clone$4(Yr),Jr.value=Kr):Jr=Kr,jr.push(Jr),zr.push(Qr)})):jr=Br;var Ur={category:"ordinal",time:"time",value:"number"}[Fr]||"number",Gr=this._data=new SeriesData$1([{name:"value",type:Ur}],this);Gr.initData(jr,zr)},_r.prototype.getData=function(){return this._data},_r.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},_r.type="timeline",_r.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},_r}(ComponentModel$1);const TimelineModel$1=TimelineModel;var SliderTimelineModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="timeline.slider",_r.defaultOption=inheritDefaultOption(TimelineModel$1.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),_r}(TimelineModel$1);mixin(SliderTimelineModel,DataFormatMixin.prototype);const SliderTimelineModel$1=SliderTimelineModel;var TimelineView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="timeline",_r}(ComponentView$1);const TimelineView$1=TimelineView;var TimelineAxis=function(Fe){__extends(_r,Fe);function _r($r,Br,Fr,zr){var jr=Fe.call(this,$r,Br,Fr)||this;return jr.type=zr||"value",jr}return _r.prototype.getLabelModel=function(){return this.model.getModel("label")},_r.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},_r}(Axis$1);const TimelineAxis$1=TimelineAxis;var PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function($r,Br){this.api=Br},_r.prototype.render=function($r,Br,Fr){if(this.model=$r,this.api=Fr,this.ecModel=Br,this.group.removeAll(),$r.get("show",!0)){var zr=this._layout($r,Fr),jr=this._createGroup("_mainGroup"),Ur=this._createGroup("_labelGroup"),Gr=this._axis=this._createAxis(zr,$r);$r.formatTooltip=function(Yr){var Kr=Gr.scale.getLabel({value:Yr});return createTooltipMarkup("nameValue",{noName:!0,value:Kr})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(Yr){this["_render"+Yr](zr,jr,Gr,$r)},this),this._renderAxisLabel(zr,Ur,Gr,$r),this._position(zr,$r)}this._doPlayStop(),this._updateTicksStatus()},_r.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},_r.prototype.dispose=function(){this._clearTimer()},_r.prototype._layout=function($r,Br){var Fr=$r.get(["label","position"]),zr=$r.get("orient"),jr=getViewRect($r,Br),Ur;Fr==null||Fr==="auto"?Ur=zr==="horizontal"?jr.y+jr.height/2<Br.getHeight()/2?"-":"+":jr.x+jr.width/2<Br.getWidth()/2?"+":"-":isString(Fr)?Ur={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[zr][Fr]:Ur=Fr;var Gr={horizontal:"center",vertical:Ur>=0||Ur==="+"?"left":"right"},Yr={horizontal:Ur>=0||Ur==="+"?"top":"bottom",vertical:"middle"},Kr={horizontal:0,vertical:PI/2},Qr=zr==="vertical"?jr.height:jr.width,Jr=$r.getModel("controlStyle"),rn=Jr.get("show",!0),an=rn?Jr.get("itemSize"):0,ln=rn?Jr.get("itemGap"):0,dn=an+ln,hn=$r.get(["label","rotate"])||0;hn=hn*PI/180;var gn,bn,kn,Sn=Jr.get("position",!0),_n=rn&&Jr.get("showPlayBtn",!0),pn=rn&&Jr.get("showPrevBtn",!0),Cn=rn&&Jr.get("showNextBtn",!0),En=0,Pn=Qr;Sn==="left"||Sn==="bottom"?(_n&&(gn=[0,0],En+=dn),pn&&(bn=[En,0],En+=dn),Cn&&(kn=[Pn-an,0],Pn-=dn)):(_n&&(gn=[Pn-an,0],Pn-=dn),pn&&(bn=[0,0],En+=dn),Cn&&(kn=[Pn-an,0],Pn-=dn));var On=[En,Pn];return $r.get("inverse")&&On.reverse(),{viewRect:jr,mainLength:Qr,orient:zr,rotation:Kr[zr],labelRotation:hn,labelPosOpt:Ur,labelAlign:$r.get(["label","align"])||Gr[zr],labelBaseline:$r.get(["label","verticalAlign"])||$r.get(["label","baseline"])||Yr[zr],playPosition:gn,prevBtnPosition:bn,nextBtnPosition:kn,axisExtent:On,controlSize:an,controlGap:ln}},_r.prototype._position=function($r,Br){var Fr=this._mainGroup,zr=this._labelGroup,jr=$r.viewRect;if($r.orient==="vertical"){var Ur=create$1(),Gr=jr.x,Yr=jr.y+jr.height;translate(Ur,Ur,[-Gr,-Yr]),rotate(Ur,Ur,-PI/2),translate(Ur,Ur,[Gr,Yr]),jr=jr.clone(),jr.applyTransform(Ur)}var Kr=gn(jr),Qr=gn(Fr.getBoundingRect()),Jr=gn(zr.getBoundingRect()),rn=[Fr.x,Fr.y],an=[zr.x,zr.y];an[0]=rn[0]=Kr[0][0];var ln=$r.labelPosOpt;if(ln==null||isString(ln)){var dn=ln==="+"?0:1;bn(rn,Qr,Kr,1,dn),bn(an,Jr,Kr,1,1-dn)}else{var dn=ln>=0?0:1;bn(rn,Qr,Kr,1,dn),an[1]=rn[1]+ln}Fr.setPosition(rn),zr.setPosition(an),Fr.rotation=zr.rotation=$r.rotation,hn(Fr),hn(zr);function hn(kn){kn.originX=Kr[0][0]-kn.x,kn.originY=Kr[1][0]-kn.y}function gn(kn){return[[kn.x,kn.x+kn.width],[kn.y,kn.y+kn.height]]}function bn(kn,Sn,_n,pn,Cn){kn[pn]+=_n[pn][Cn]-Sn[pn][Cn]}},_r.prototype._createAxis=function($r,Br){var Fr=Br.getData(),zr=Br.get("axisType"),jr=createScaleByModel(Br,zr);jr.getTicks=function(){return Fr.mapArray(["value"],function(Yr){return{value:Yr}})};var Ur=Fr.getDataExtent("value");jr.setExtent(Ur[0],Ur[1]),jr.calcNiceTicks();var Gr=new TimelineAxis$1("value",jr,$r.axisExtent,zr);return Gr.model=Br,Gr},_r.prototype._createGroup=function($r){var Br=this[$r]=new Group$4;return this.group.add(Br),Br},_r.prototype._renderAxisLine=function($r,Br,Fr,zr){var jr=Fr.getExtent();if(zr.get(["lineStyle","show"])){var Ur=new Line$3({shape:{x1:jr[0],y1:0,x2:jr[1],y2:0},style:extend$1({lineCap:"round"},zr.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});Br.add(Ur);var Gr=this._progressLine=new Line$3({shape:{x1:jr[0],x2:this._currentPointer?this._currentPointer.x:jr[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:Ur.style.lineWidth},zr.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});Br.add(Gr)}},_r.prototype._renderAxisTick=function($r,Br,Fr,zr){var jr=this,Ur=zr.getData(),Gr=Fr.scale.getTicks();this._tickSymbols=[],each$f(Gr,function(Yr){var Kr=Fr.dataToCoord(Yr.value),Qr=Ur.getItemModel(Yr.value),Jr=Qr.getModel("itemStyle"),rn=Qr.getModel(["emphasis","itemStyle"]),an=Qr.getModel(["progress","itemStyle"]),ln={x:Kr,y:0,onclick:bind$1(jr._changeTimeline,jr,Yr.value)},dn=giveSymbol(Qr,Jr,Br,ln);dn.ensureState("emphasis").style=rn.getItemStyle(),dn.ensureState("progress").style=an.getItemStyle(),enableHoverEmphasis(dn);var hn=getECData(dn);Qr.get("tooltip")?(hn.dataIndex=Yr.value,hn.dataModel=zr):hn.dataIndex=hn.dataModel=null,jr._tickSymbols.push(dn)})},_r.prototype._renderAxisLabel=function($r,Br,Fr,zr){var jr=this,Ur=Fr.getLabelModel();if(Ur.get("show")){var Gr=zr.getData(),Yr=Fr.getViewLabels();this._tickLabels=[],each$f(Yr,function(Kr){var Qr=Kr.tickValue,Jr=Gr.getItemModel(Qr),rn=Jr.getModel("label"),an=Jr.getModel(["emphasis","label"]),ln=Jr.getModel(["progress","label"]),dn=Fr.dataToCoord(Kr.tickValue),hn=new ZRText$1({x:dn,y:0,rotation:$r.labelRotation-$r.rotation,onclick:bind$1(jr._changeTimeline,jr,Qr),silent:!1,style:createTextStyle$1(rn,{text:Kr.formattedLabel,align:$r.labelAlign,verticalAlign:$r.labelBaseline})});hn.ensureState("emphasis").style=createTextStyle$1(an),hn.ensureState("progress").style=createTextStyle$1(ln),Br.add(hn),enableHoverEmphasis(hn),labelDataIndexStore(hn).dataIndex=Qr,jr._tickLabels.push(hn)})}},_r.prototype._renderControl=function($r,Br,Fr,zr){var jr=$r.controlSize,Ur=$r.rotation,Gr=zr.getModel("controlStyle").getItemStyle(),Yr=zr.getModel(["emphasis","controlStyle"]).getItemStyle(),Kr=zr.getPlayState(),Qr=zr.get("inverse",!0);Jr($r.nextBtnPosition,"next",bind$1(this._changeTimeline,this,Qr?"-":"+")),Jr($r.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,Qr?"+":"-")),Jr($r.playPosition,Kr?"stop":"play",bind$1(this._handlePlayClick,this,!Kr),!0);function Jr(rn,an,ln,dn){if(rn){var hn=parsePercent$1(retrieve2(zr.get(["controlStyle",an+"BtnSize"]),jr),jr),gn=[0,-hn/2,hn,hn],bn=makeControlIcon(zr,an+"Icon",gn,{x:rn[0],y:rn[1],originX:jr/2,originY:0,rotation:dn?-Ur:0,rectHover:!0,style:Gr,onclick:ln});bn.ensureState("emphasis").style=Yr,Br.add(bn),enableHoverEmphasis(bn)}}},_r.prototype._renderCurrentPointer=function($r,Br,Fr,zr){var jr=zr.getData(),Ur=zr.getCurrentIndex(),Gr=jr.getItemModel(Ur).getModel("checkpointStyle"),Yr=this,Kr={onCreate:function(Qr){Qr.draggable=!0,Qr.drift=bind$1(Yr._handlePointerDrag,Yr),Qr.ondragend=bind$1(Yr._handlePointerDragend,Yr),pointerMoveTo(Qr,Yr._progressLine,Ur,Fr,zr,!0)},onUpdate:function(Qr){pointerMoveTo(Qr,Yr._progressLine,Ur,Fr,zr)}};this._currentPointer=giveSymbol(Gr,Gr,this._mainGroup,{},this._currentPointer,Kr)},_r.prototype._handlePlayClick=function($r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:$r,from:this.uid})},_r.prototype._handlePointerDrag=function($r,Br,Fr){this._clearTimer(),this._pointerChangeTimeline([Fr.offsetX,Fr.offsetY])},_r.prototype._handlePointerDragend=function($r){this._pointerChangeTimeline([$r.offsetX,$r.offsetY],!0)},_r.prototype._pointerChangeTimeline=function($r,Br){var Fr=this._toAxisCoord($r)[0],zr=this._axis,jr=asc$2(zr.getExtent().slice());Fr>jr[1]&&(Fr=jr[1]),Fr<jr[0]&&(Fr=jr[0]),this._currentPointer.x=Fr,this._currentPointer.markRedraw();var Ur=this._progressLine;Ur&&(Ur.shape.x2=Fr,Ur.dirty());var Gr=this._findNearestTick(Fr),Yr=this.model;(Br||Gr!==Yr.getCurrentIndex()&&Yr.get("realtime"))&&this._changeTimeline(Gr)},_r.prototype._doPlayStop=function(){var $r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var Br=$r.model;$r._changeTimeline(Br.getCurrentIndex()+(Br.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},_r.prototype._toAxisCoord=function($r){var Br=this._mainGroup.getLocalTransform();return applyTransform($r,Br,!0)},_r.prototype._findNearestTick=function($r){var Br=this.model.getData(),Fr=1/0,zr,jr=this._axis;return Br.each(["value"],function(Ur,Gr){var Yr=jr.dataToCoord(Ur),Kr=Math.abs(Yr-$r);Kr<Fr&&(Fr=Kr,zr=Gr)}),zr},_r.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_r.prototype._changeTimeline=function($r){var Br=this.model.getCurrentIndex();$r==="+"?$r=Br+1:$r==="-"&&($r=Br-1),this.api.dispatchAction({type:"timelineChange",currentIndex:$r,from:this.uid})},_r.prototype._updateTicksStatus=function(){var $r=this.model.getCurrentIndex(),Br=this._tickSymbols,Fr=this._tickLabels;if(Br)for(var zr=0;zr<Br.length;zr++)Br&&Br[zr]&&Br[zr].toggleState("progress",zr<$r);if(Fr)for(var zr=0;zr<Fr.length;zr++)Fr&&Fr[zr]&&Fr[zr].toggleState("progress",labelDataIndexStore(Fr[zr]).dataIndex<=$r)},_r.type="timeline.slider",_r}(TimelineView$1);function createScaleByModel(Fe,_r){if(_r=_r||Fe.get("type"),_r)switch(_r){case"category":return new OrdinalScale$1({ordinalMeta:Fe.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:Fe.ecModel.getLocaleModel(),useUTC:Fe.ecModel.get("useUTC")});default:return new IntervalScale$1}}function getViewRect(Fe,_r){return getLayoutRect(Fe.getBoxLayoutParams(),{width:_r.getWidth(),height:_r.getHeight()},Fe.get("padding"))}function makeControlIcon(Fe,_r,$r,Br){var Fr=Br.style,zr=createIcon(Fe.get(["controlStyle",_r]),Br||{},new BoundingRect$1($r[0],$r[1],$r[2],$r[3]));return Fr&&zr.setStyle(Fr),zr}function giveSymbol(Fe,_r,$r,Br,Fr,zr){var jr=_r.get("color");if(Fr)Fr.setColor(jr),$r.add(Fr),zr&&zr.onUpdate(Fr);else{var Ur=Fe.get("symbol");Fr=createSymbol$1(Ur,-1,-1,2,2,jr),Fr.setStyle("strokeNoScale",!0),$r.add(Fr),zr&&zr.onCreate(Fr)}var Gr=_r.getItemStyle(["color"]);Fr.setStyle(Gr),Br=merge({rectHover:!0,z2:100},Br,!0);var Yr=normalizeSymbolSize(Fe.get("symbolSize"));Br.scaleX=Yr[0]/2,Br.scaleY=Yr[1]/2;var Kr=normalizeSymbolOffset(Fe.get("symbolOffset"),Yr);Kr&&(Br.x=(Br.x||0)+Kr[0],Br.y=(Br.y||0)+Kr[1]);var Qr=Fe.get("symbolRotate");return Br.rotation=(Qr||0)*Math.PI/180||0,Fr.attr(Br),Fr.updateTransform(),Fr}function pointerMoveTo(Fe,_r,$r,Br,Fr,zr){if(!Fe.dragging){var jr=Fr.getModel("checkpointStyle"),Ur=Br.dataToCoord(Fr.getData().get("value",$r));if(zr||!jr.get("animation",!0))Fe.attr({x:Ur,y:0}),_r&&_r.attr({shape:{x2:Ur}});else{var Gr={duration:jr.get("animationDuration",!0),easing:jr.get("animationEasing",!0)};Fe.stopAnimation(null,!0),Fe.animateTo({x:Ur,y:0},Gr),_r&&_r.animateTo({shape:{x2:Ur}},Gr)}}}const SliderTimelineView$1=SliderTimelineView;function installTimelineAction(Fe){Fe.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(_r,$r,Br){var Fr=$r.getComponent("timeline");return Fr&&_r.currentIndex!=null&&(Fr.setCurrentIndex(_r.currentIndex),!Fr.get("loop",!0)&&Fr.isIndexMax()&&Fr.getPlayState()&&(Fr.setPlayState(!1),Br.dispatchAction({type:"timelinePlayChange",playState:!1,from:_r.from}))),$r.resetOption("timeline",{replaceMerge:Fr.get("replaceMerge",!0)}),defaults({currentIndex:Fr.option.currentIndex},_r)}),Fe.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(_r,$r){var Br=$r.getComponent("timeline");Br&&_r.playState!=null&&Br.setPlayState(_r.playState)})}function timelinePreprocessor(Fe){var _r=Fe&&Fe.timeline;isArray$1(_r)||(_r=_r?[_r]:[]),each$f(_r,function($r){$r&&compatibleEC2($r)})}function compatibleEC2(Fe){var _r=Fe.type,$r={number:"value",time:"time"};if($r[_r]&&(Fe.axisType=$r[_r],delete Fe.type),transferItem(Fe),has$1(Fe,"controlPosition")){var Br=Fe.controlStyle||(Fe.controlStyle={});has$1(Br,"position")||(Br.position=Fe.controlPosition),Br.position==="none"&&!has$1(Br,"show")&&(Br.show=!1,delete Br.position),delete Fe.controlPosition}each$f(Fe.data||[],function(Fr){isObject$3(Fr)&&!isArray$1(Fr)&&(!has$1(Fr,"value")&&has$1(Fr,"name")&&(Fr.value=Fr.name),transferItem(Fr))})}function transferItem(Fe){var _r=Fe.itemStyle||(Fe.itemStyle={}),$r=_r.emphasis||(_r.emphasis={}),Br=Fe.label||Fe.label||{},Fr=Br.normal||(Br.normal={}),zr={normal:1,emphasis:1};each$f(Br,function(jr,Ur){!zr[Ur]&&!has$1(Fr,Ur)&&(Fr[Ur]=jr)}),$r.label&&!has$1(Br,"emphasis")&&(Br.emphasis=$r.label,delete $r.label)}function has$1(Fe,_r){return Fe.hasOwnProperty(_r)}function install$f(Fe){Fe.registerComponentModel(SliderTimelineModel$1),Fe.registerComponentView(SliderTimelineView$1),Fe.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(Fe),Fe.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(Fe,_r){if(!Fe)return!1;for(var $r=isArray$1(Fe)?Fe:[Fe],Br=0;Br<$r.length;Br++)if($r[Br]&&$r[Br][_r])return!0;return!1}function fillLabel(Fe){defaultEmphasis(Fe,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.createdBySelf=!1,$r}return _r.prototype.init=function($r,Br,Fr){this.mergeDefaultAndTheme($r,Fr),this._mergeOption($r,Fr,!1,!0)},_r.prototype.isAnimationEnabled=function(){if(env$1.node)return!1;var $r=this.__hostSeries;return this.getShallow("animation")&&$r&&$r.isAnimationEnabled()},_r.prototype.mergeOption=function($r,Br){this._mergeOption($r,Br,!1,!1)},_r.prototype._mergeOption=function($r,Br,Fr,zr){var jr=this.mainType;Fr||Br.eachSeries(function(Ur){var Gr=Ur.get(this.mainType,!0),Yr=inner$5(Ur)[jr];if(!Gr||!Gr.data){inner$5(Ur)[jr]=null;return}Yr?Yr._mergeOption(Gr,Br,!0):(zr&&fillLabel(Gr),each$f(Gr.data,function(Kr){Kr instanceof Array?(fillLabel(Kr[0]),fillLabel(Kr[1])):fillLabel(Kr)}),Yr=this.createMarkerModelFromSeries(Gr,this,Br),extend$1(Yr,{mainType:this.mainType,seriesIndex:Ur.seriesIndex,name:Ur.name,createdBySelf:!0}),Yr.__hostSeries=Ur),inner$5(Ur)[jr]=Yr},this)},_r.prototype.formatTooltip=function($r,Br,Fr){var zr=this.getData(),jr=this.getRawValue($r),Ur=zr.getName($r);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:Ur,value:jr,noName:!Ur,noValue:jr==null})]})},_r.prototype.getData=function(){return this._data},_r.prototype.setData=function($r){this._data=$r},_r.getMarkerModelFromSeries=function($r,Br){return inner$5($r)[Br]},_r.type="marker",_r.dependencies=["series","grid","polar","geo"],_r}(ComponentModel$1);mixin(MarkerModel,DataFormatMixin.prototype);const MarkerModel$1=MarkerModel;var MarkPointModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.createMarkerModelFromSeries=function($r,Br,Fr){return new _r($r,Br,Fr)},_r.type="markPoint",_r.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},_r}(MarkerModel$1);const MarkPointModel$1=MarkPointModel;function hasXOrY(Fe){return!(isNaN(parseFloat(Fe.x))&&isNaN(parseFloat(Fe.y)))}function hasXAndY(Fe){return!isNaN(parseFloat(Fe.x))&&!isNaN(parseFloat(Fe.y))}function markerTypeCalculatorWithExtent(Fe,_r,$r,Br,Fr,zr){var jr=[],Ur=isDimensionStacked(_r,Br),Gr=Ur?_r.getCalculationInfo("stackResultDimension"):Br,Yr=numCalculate(_r,Gr,Fe),Kr=_r.indicesOfNearest(Gr,Yr)[0];jr[Fr]=_r.get($r,Kr),jr[zr]=_r.get(Gr,Kr);var Qr=_r.get(Br,Kr),Jr=getPrecision(_r.get(Br,Kr));return Jr=Math.min(Jr,20),Jr>=0&&(jr[zr]=+jr[zr].toFixed(Jr)),[jr,Qr]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(Fe,_r){if(_r){var $r=Fe.getData(),Br=Fe.coordinateSystem,Fr=Br&&Br.dimensions;if(!hasXAndY(_r)&&!isArray$1(_r.coord)&&isArray$1(Fr)){var zr=getAxisInfo(_r,$r,Br,Fe);if(_r=clone$4(_r),_r.type&&markerTypeCalculator[_r.type]&&zr.baseAxis&&zr.valueAxis){var jr=indexOf(Fr,zr.baseAxis.dim),Ur=indexOf(Fr,zr.valueAxis.dim),Gr=markerTypeCalculator[_r.type]($r,zr.baseDataDim,zr.valueDataDim,jr,Ur);_r.coord=Gr[0],_r.value=Gr[1]}else _r.coord=[_r.xAxis!=null?_r.xAxis:_r.radiusAxis,_r.yAxis!=null?_r.yAxis:_r.angleAxis]}if(_r.coord==null||!isArray$1(Fr))_r.coord=[];else for(var Yr=_r.coord,Kr=0;Kr<2;Kr++)markerTypeCalculator[Yr[Kr]]&&(Yr[Kr]=numCalculate($r,$r.mapDimension(Fr[Kr]),Yr[Kr]));return _r}}function getAxisInfo(Fe,_r,$r,Br){var Fr={};return Fe.valueIndex!=null||Fe.valueDim!=null?(Fr.valueDataDim=Fe.valueIndex!=null?_r.getDimension(Fe.valueIndex):Fe.valueDim,Fr.valueAxis=$r.getAxis(dataDimToCoordDim(Br,Fr.valueDataDim)),Fr.baseAxis=$r.getOtherAxis(Fr.valueAxis),Fr.baseDataDim=_r.mapDimension(Fr.baseAxis.dim)):(Fr.baseAxis=Br.getBaseAxis(),Fr.valueAxis=$r.getOtherAxis(Fr.baseAxis),Fr.baseDataDim=_r.mapDimension(Fr.baseAxis.dim),Fr.valueDataDim=_r.mapDimension(Fr.valueAxis.dim)),Fr}function dataDimToCoordDim(Fe,_r){var $r=Fe.getData().getDimensionInfo(_r);return $r&&$r.coordDim}function dataFilter(Fe,_r){return Fe&&Fe.containData&&_r.coord&&!hasXOrY(_r)?Fe.containData(_r.coord):!0}function zoneFilter(Fe,_r,$r){return Fe&&Fe.containZone&&_r.coord&&$r.coord&&!hasXOrY(_r)&&!hasXOrY($r)?Fe.containZone(_r.coord,$r.coord):!0}function createMarkerDimValueGetter(Fe,_r){return Fe?function($r,Br,Fr,zr){var jr=zr<2?$r.coord&&$r.coord[zr]:$r.value;return parseDataValue(jr,_r[zr])}:function($r,Br,Fr,zr){return parseDataValue($r.value,_r[zr])}}function numCalculate(Fe,_r,$r){if($r==="average"){var Br=0,Fr=0;return Fe.each(_r,function(zr,jr){isNaN(zr)||(Br+=zr,Fr++)}),Br/Fr}else return $r==="median"?Fe.getMedian(_r):Fe.getDataExtent(_r)[$r==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.init=function(){this.markerGroupMap=createHashMap()},_r.prototype.render=function($r,Br,Fr){var zr=this,jr=this.markerGroupMap;jr.each(function(Ur){inner$4(Ur).keep=!1}),Br.eachSeries(function(Ur){var Gr=MarkerModel$1.getMarkerModelFromSeries(Ur,zr.type);Gr&&zr.renderSeries(Ur,Gr,Br,Fr)}),jr.each(function(Ur){!inner$4(Ur).keep&&zr.group.remove(Ur.group)})},_r.prototype.markKeep=function($r){inner$4($r).keep=!0},_r.prototype.toggleBlurSeries=function($r,Br){var Fr=this;each$f($r,function(zr){var jr=MarkerModel$1.getMarkerModelFromSeries(zr,Fr.type);if(jr){var Ur=jr.getData();Ur.eachItemGraphicEl(function(Gr){Gr&&(Br?enterBlur(Gr):leaveBlur(Gr))})}})},_r.type="marker",_r}(ComponentView$1);const MarkerView$1=MarkerView;function updateMarkerLayout(Fe,_r,$r){var Br=_r.coordinateSystem;Fe.each(function(Fr){var zr=Fe.getItemModel(Fr),jr,Ur=parsePercent(zr.get("x"),$r.getWidth()),Gr=parsePercent(zr.get("y"),$r.getHeight());if(!isNaN(Ur)&&!isNaN(Gr))jr=[Ur,Gr];else if(_r.getMarkerPosition)jr=_r.getMarkerPosition(Fe.getValues(Fe.dimensions,Fr));else if(Br){var Yr=Fe.get(Br.dimensions[0],Fr),Kr=Fe.get(Br.dimensions[1],Fr);jr=Br.dataToPoint([Yr,Kr])}isNaN(Ur)||(jr[0]=Ur),isNaN(Gr)||(jr[1]=Gr),Fe.setItemLayout(Fr,jr)})}var MarkPointView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.updateTransform=function($r,Br,Fr){Br.eachSeries(function(zr){var jr=MarkerModel$1.getMarkerModelFromSeries(zr,"markPoint");jr&&(updateMarkerLayout(jr.getData(),zr,Fr),this.markerGroupMap.get(zr.id).updateLayout())},this)},_r.prototype.renderSeries=function($r,Br,Fr,zr){var jr=$r.coordinateSystem,Ur=$r.id,Gr=$r.getData(),Yr=this.markerGroupMap,Kr=Yr.get(Ur)||Yr.set(Ur,new SymbolDraw$1),Qr=createData(jr,$r,Br);Br.setData(Qr),updateMarkerLayout(Br.getData(),$r,zr),Qr.each(function(Jr){var rn=Qr.getItemModel(Jr),an=rn.getShallow("symbol"),ln=rn.getShallow("symbolSize"),dn=rn.getShallow("symbolRotate"),hn=rn.getShallow("symbolOffset"),gn=rn.getShallow("symbolKeepAspect");if(isFunction(an)||isFunction(ln)||isFunction(dn)||isFunction(hn)){var bn=Br.getRawValue(Jr),kn=Br.getDataParams(Jr);isFunction(an)&&(an=an(bn,kn)),isFunction(ln)&&(ln=ln(bn,kn)),isFunction(dn)&&(dn=dn(bn,kn)),isFunction(hn)&&(hn=hn(bn,kn))}var Sn=rn.getModel("itemStyle").getItemStyle(),_n=getVisualFromData(Gr,"color");Sn.fill||(Sn.fill=_n),Qr.setItemVisual(Jr,{symbol:an,symbolSize:ln,symbolRotate:dn,symbolOffset:hn,symbolKeepAspect:gn,style:Sn})}),Kr.updateData(Qr),this.group.add(Kr.group),Qr.eachItemGraphicEl(function(Jr){Jr.traverse(function(rn){getECData(rn).dataModel=Br})}),this.markKeep(Kr),Kr.group.silent=Br.get("silent")||$r.get("silent")},_r.type="markPoint",_r}(MarkerView$1);function createData(Fe,_r,$r){var Br;Fe?Br=map$1(Fe&&Fe.dimensions,function(Ur){var Gr=_r.getData().getDimensionInfo(_r.getData().mapDimension(Ur))||{};return extend$1(extend$1({},Gr),{name:Ur,ordinalMeta:null})}):Br=[{name:"value",type:"float"}];var Fr=new SeriesData$1(Br,$r),zr=map$1($r.get("data"),curry$1(dataTransform,_r));Fe&&(zr=filter(zr,curry$1(dataFilter,Fe)));var jr=createMarkerDimValueGetter(!!Fe,Br);return Fr.initData(zr,null,jr),Fr}const MarkPointView$1=MarkPointView;function install$e(Fe){Fe.registerComponentModel(MarkPointModel$1),Fe.registerComponentView(MarkPointView$1),Fe.registerPreprocessor(function(_r){checkMarkerInSeries(_r.series,"markPoint")&&(_r.markPoint=_r.markPoint||{})})}var MarkLineModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.createMarkerModelFromSeries=function($r,Br,Fr){return new _r($r,Br,Fr)},_r.type="markLine",_r.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},_r}(MarkerModel$1);const MarkLineModel$1=MarkLineModel;var inner$3=makeInner(),markLineTransform=function(Fe,_r,$r,Br){var Fr=Fe.getData(),zr;if(isArray$1(Br))zr=Br;else{var jr=Br.type;if(jr==="min"||jr==="max"||jr==="average"||jr==="median"||Br.xAxis!=null||Br.yAxis!=null){var Ur=void 0,Gr=void 0;if(Br.yAxis!=null||Br.xAxis!=null)Ur=_r.getAxis(Br.yAxis!=null?"y":"x"),Gr=retrieve(Br.yAxis,Br.xAxis);else{var Yr=getAxisInfo(Br,Fr,_r,Fe);Ur=Yr.valueAxis;var Kr=getStackedDimension(Fr,Yr.valueDataDim);Gr=numCalculate(Fr,Kr,jr)}var Qr=Ur.dim==="x"?0:1,Jr=1-Qr,rn=clone$4(Br),an={coord:[]};rn.type=null,rn.coord=[],rn.coord[Jr]=-1/0,an.coord[Jr]=1/0;var ln=$r.get("precision");ln>=0&&isNumber(Gr)&&(Gr=+Gr.toFixed(Math.min(ln,20))),rn.coord[Qr]=an.coord[Qr]=Gr,zr=[rn,an,{type:jr,valueIndex:Br.valueIndex,value:Gr}]}else zr=[]}var dn=[dataTransform(Fe,zr[0]),dataTransform(Fe,zr[1]),extend$1({},zr[2])];return dn[2].type=dn[2].type||null,merge(dn[2],dn[0]),merge(dn[2],dn[1]),dn};function isInfinity$1(Fe){return!isNaN(Fe)&&!isFinite(Fe)}function ifMarkLineHasOnlyDim(Fe,_r,$r,Br){var Fr=1-Fe,zr=Br.dimensions[Fe];return isInfinity$1(_r[Fr])&&isInfinity$1($r[Fr])&&_r[Fe]===$r[Fe]&&Br.getAxis(zr).containData(_r[Fe])}function markLineFilter(Fe,_r){if(Fe.type==="cartesian2d"){var $r=_r[0].coord,Br=_r[1].coord;if($r&&Br&&(ifMarkLineHasOnlyDim(1,$r,Br,Fe)||ifMarkLineHasOnlyDim(0,$r,Br,Fe)))return!0}return dataFilter(Fe,_r[0])&&dataFilter(Fe,_r[1])}function updateSingleMarkerEndLayout(Fe,_r,$r,Br,Fr){var zr=Br.coordinateSystem,jr=Fe.getItemModel(_r),Ur,Gr=parsePercent(jr.get("x"),Fr.getWidth()),Yr=parsePercent(jr.get("y"),Fr.getHeight());if(!isNaN(Gr)&&!isNaN(Yr))Ur=[Gr,Yr];else{if(Br.getMarkerPosition)Ur=Br.getMarkerPosition(Fe.getValues(Fe.dimensions,_r));else{var Kr=zr.dimensions,Qr=Fe.get(Kr[0],_r),Jr=Fe.get(Kr[1],_r);Ur=zr.dataToPoint([Qr,Jr])}if(isCoordinateSystemType(zr,"cartesian2d")){var rn=zr.getAxis("x"),an=zr.getAxis("y"),Kr=zr.dimensions;isInfinity$1(Fe.get(Kr[0],_r))?Ur[0]=rn.toGlobalCoord(rn.getExtent()[$r?0:1]):isInfinity$1(Fe.get(Kr[1],_r))&&(Ur[1]=an.toGlobalCoord(an.getExtent()[$r?0:1]))}isNaN(Gr)||(Ur[0]=Gr),isNaN(Yr)||(Ur[1]=Yr)}Fe.setItemLayout(_r,Ur)}var MarkLineView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.updateTransform=function($r,Br,Fr){Br.eachSeries(function(zr){var jr=MarkerModel$1.getMarkerModelFromSeries(zr,"markLine");if(jr){var Ur=jr.getData(),Gr=inner$3(jr).from,Yr=inner$3(jr).to;Gr.each(function(Kr){updateSingleMarkerEndLayout(Gr,Kr,!0,zr,Fr),updateSingleMarkerEndLayout(Yr,Kr,!1,zr,Fr)}),Ur.each(function(Kr){Ur.setItemLayout(Kr,[Gr.getItemLayout(Kr),Yr.getItemLayout(Kr)])}),this.markerGroupMap.get(zr.id).updateLayout()}},this)},_r.prototype.renderSeries=function($r,Br,Fr,zr){var jr=$r.coordinateSystem,Ur=$r.id,Gr=$r.getData(),Yr=this.markerGroupMap,Kr=Yr.get(Ur)||Yr.set(Ur,new LineDraw$1);this.group.add(Kr.group);var Qr=createList$1(jr,$r,Br),Jr=Qr.from,rn=Qr.to,an=Qr.line;inner$3(Br).from=Jr,inner$3(Br).to=rn,Br.setData(an);var ln=Br.get("symbol"),dn=Br.get("symbolSize"),hn=Br.get("symbolRotate"),gn=Br.get("symbolOffset");isArray$1(ln)||(ln=[ln,ln]),isArray$1(dn)||(dn=[dn,dn]),isArray$1(hn)||(hn=[hn,hn]),isArray$1(gn)||(gn=[gn,gn]),Qr.from.each(function(kn){bn(Jr,kn,!0),bn(rn,kn,!1)}),an.each(function(kn){var Sn=an.getItemModel(kn).getModel("lineStyle").getLineStyle();an.setItemLayout(kn,[Jr.getItemLayout(kn),rn.getItemLayout(kn)]),Sn.stroke==null&&(Sn.stroke=Jr.getItemVisual(kn,"style").fill),an.setItemVisual(kn,{fromSymbolKeepAspect:Jr.getItemVisual(kn,"symbolKeepAspect"),fromSymbolOffset:Jr.getItemVisual(kn,"symbolOffset"),fromSymbolRotate:Jr.getItemVisual(kn,"symbolRotate"),fromSymbolSize:Jr.getItemVisual(kn,"symbolSize"),fromSymbol:Jr.getItemVisual(kn,"symbol"),toSymbolKeepAspect:rn.getItemVisual(kn,"symbolKeepAspect"),toSymbolOffset:rn.getItemVisual(kn,"symbolOffset"),toSymbolRotate:rn.getItemVisual(kn,"symbolRotate"),toSymbolSize:rn.getItemVisual(kn,"symbolSize"),toSymbol:rn.getItemVisual(kn,"symbol"),style:Sn})}),Kr.updateData(an),Qr.line.eachItemGraphicEl(function(kn){getECData(kn).dataModel=Br,kn.traverse(function(Sn){getECData(Sn).dataModel=Br})});function bn(kn,Sn,_n){var pn=kn.getItemModel(Sn);updateSingleMarkerEndLayout(kn,Sn,_n,$r,zr);var Cn=pn.getModel("itemStyle").getItemStyle();Cn.fill==null&&(Cn.fill=getVisualFromData(Gr,"color")),kn.setItemVisual(Sn,{symbolKeepAspect:pn.get("symbolKeepAspect"),symbolOffset:retrieve2(pn.get("symbolOffset",!0),gn[_n?0:1]),symbolRotate:retrieve2(pn.get("symbolRotate",!0),hn[_n?0:1]),symbolSize:retrieve2(pn.get("symbolSize"),dn[_n?0:1]),symbol:retrieve2(pn.get("symbol",!0),ln[_n?0:1]),style:Cn})}this.markKeep(Kr),Kr.group.silent=Br.get("silent")||$r.get("silent")},_r.type="markLine",_r}(MarkerView$1);function createList$1(Fe,_r,$r){var Br;Fe?Br=map$1(Fe&&Fe.dimensions,function(Yr){var Kr=_r.getData().getDimensionInfo(_r.getData().mapDimension(Yr))||{};return extend$1(extend$1({},Kr),{name:Yr,ordinalMeta:null})}):Br=[{name:"value",type:"float"}];var Fr=new SeriesData$1(Br,$r),zr=new SeriesData$1(Br,$r),jr=new SeriesData$1([],$r),Ur=map$1($r.get("data"),curry$1(markLineTransform,_r,Fe,$r));Fe&&(Ur=filter(Ur,curry$1(markLineFilter,Fe)));var Gr=createMarkerDimValueGetter(!!Fe,Br);return Fr.initData(map$1(Ur,function(Yr){return Yr[0]}),null,Gr),zr.initData(map$1(Ur,function(Yr){return Yr[1]}),null,Gr),jr.initData(map$1(Ur,function(Yr){return Yr[2]})),jr.hasItemOption=!0,{from:Fr,to:zr,line:jr}}const MarkLineView$1=MarkLineView;function install$d(Fe){Fe.registerComponentModel(MarkLineModel$1),Fe.registerComponentView(MarkLineView$1),Fe.registerPreprocessor(function(_r){checkMarkerInSeries(_r.series,"markLine")&&(_r.markLine=_r.markLine||{})})}var MarkAreaModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.createMarkerModelFromSeries=function($r,Br,Fr){return new _r($r,Br,Fr)},_r.type="markArea",_r.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},_r}(MarkerModel$1);const MarkAreaModel$1=MarkAreaModel;var inner$2=makeInner(),markAreaTransform=function(Fe,_r,$r,Br){var Fr=Br[0],zr=Br[1];if(!(!Fr||!zr)){var jr=dataTransform(Fe,Fr),Ur=dataTransform(Fe,zr),Gr=jr.coord,Yr=Ur.coord;Gr[0]=retrieve(Gr[0],-1/0),Gr[1]=retrieve(Gr[1],-1/0),Yr[0]=retrieve(Yr[0],1/0),Yr[1]=retrieve(Yr[1],1/0);var Kr=mergeAll([{},jr,Ur]);return Kr.coord=[jr.coord,Ur.coord],Kr.x0=jr.x,Kr.y0=jr.y,Kr.x1=Ur.x,Kr.y1=Ur.y,Kr}};function isInfinity(Fe){return!isNaN(Fe)&&!isFinite(Fe)}function ifMarkAreaHasOnlyDim(Fe,_r,$r,Br){var Fr=1-Fe;return isInfinity(_r[Fr])&&isInfinity($r[Fr])}function markAreaFilter(Fe,_r){var $r=_r.coord[0],Br=_r.coord[1],Fr={coord:$r,x:_r.x0,y:_r.y0},zr={coord:Br,x:_r.x1,y:_r.y1};return isCoordinateSystemType(Fe,"cartesian2d")?$r&&Br&&(ifMarkAreaHasOnlyDim(1,$r,Br)||ifMarkAreaHasOnlyDim(0,$r,Br))?!0:zoneFilter(Fe,Fr,zr):dataFilter(Fe,Fr)||dataFilter(Fe,zr)}function getSingleMarkerEndPoint(Fe,_r,$r,Br,Fr){var zr=Br.coordinateSystem,jr=Fe.getItemModel(_r),Ur,Gr=parsePercent(jr.get($r[0]),Fr.getWidth()),Yr=parsePercent(jr.get($r[1]),Fr.getHeight());if(!isNaN(Gr)&&!isNaN(Yr))Ur=[Gr,Yr];else{if(Br.getMarkerPosition){var Kr=Fe.getValues(["x0","y0"],_r),Qr=Fe.getValues(["x1","y1"],_r),Jr=zr.clampData(Kr),rn=zr.clampData(Qr),an=[];$r[0]==="x0"?an[0]=Jr[0]>rn[0]?Qr[0]:Kr[0]:an[0]=Jr[0]>rn[0]?Kr[0]:Qr[0],$r[1]==="y0"?an[1]=Jr[1]>rn[1]?Qr[1]:Kr[1]:an[1]=Jr[1]>rn[1]?Kr[1]:Qr[1],Ur=Br.getMarkerPosition(an,$r,!0)}else{var ln=Fe.get($r[0],_r),dn=Fe.get($r[1],_r),hn=[ln,dn];zr.clampData&&zr.clampData(hn,hn),Ur=zr.dataToPoint(hn,!0)}if(isCoordinateSystemType(zr,"cartesian2d")){var gn=zr.getAxis("x"),bn=zr.getAxis("y"),ln=Fe.get($r[0],_r),dn=Fe.get($r[1],_r);isInfinity(ln)?Ur[0]=gn.toGlobalCoord(gn.getExtent()[$r[0]==="x0"?0:1]):isInfinity(dn)&&(Ur[1]=bn.toGlobalCoord(bn.getExtent()[$r[1]==="y0"?0:1]))}isNaN(Gr)||(Ur[0]=Gr),isNaN(Yr)||(Ur[1]=Yr)}return Ur}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.updateTransform=function($r,Br,Fr){Br.eachSeries(function(zr){var jr=MarkerModel$1.getMarkerModelFromSeries(zr,"markArea");if(jr){var Ur=jr.getData();Ur.each(function(Gr){var Yr=map$1(dimPermutations,function(Qr){return getSingleMarkerEndPoint(Ur,Gr,Qr,zr,Fr)});Ur.setItemLayout(Gr,Yr);var Kr=Ur.getItemGraphicEl(Gr);Kr.setShape("points",Yr)})}},this)},_r.prototype.renderSeries=function($r,Br,Fr,zr){var jr=$r.coordinateSystem,Ur=$r.id,Gr=$r.getData(),Yr=this.markerGroupMap,Kr=Yr.get(Ur)||Yr.set(Ur,{group:new Group$4});this.group.add(Kr.group),this.markKeep(Kr);var Qr=createList(jr,$r,Br);Br.setData(Qr),Qr.each(function(Jr){var rn=map$1(dimPermutations,function(Cn){return getSingleMarkerEndPoint(Qr,Jr,Cn,$r,zr)}),an=jr.getAxis("x").scale,ln=jr.getAxis("y").scale,dn=an.getExtent(),hn=ln.getExtent(),gn=[an.parse(Qr.get("x0",Jr)),an.parse(Qr.get("x1",Jr))],bn=[ln.parse(Qr.get("y0",Jr)),ln.parse(Qr.get("y1",Jr))];asc$2(gn),asc$2(bn);var kn=!(dn[0]>gn[1]||dn[1]<gn[0]||hn[0]>bn[1]||hn[1]<bn[0]),Sn=!kn;Qr.setItemLayout(Jr,{points:rn,allClipped:Sn});var _n=Qr.getItemModel(Jr).getModel("itemStyle").getItemStyle(),pn=getVisualFromData(Gr,"color");_n.fill||(_n.fill=pn,isString(_n.fill)&&(_n.fill=modifyAlpha(_n.fill,.4))),_n.stroke||(_n.stroke=pn),Qr.setItemVisual(Jr,"style",_n)}),Qr.diff(inner$2(Kr).data).add(function(Jr){var rn=Qr.getItemLayout(Jr);if(!rn.allClipped){var an=new Polygon$1({shape:{points:rn.points}});Qr.setItemGraphicEl(Jr,an),Kr.group.add(an)}}).update(function(Jr,rn){var an=inner$2(Kr).data.getItemGraphicEl(rn),ln=Qr.getItemLayout(Jr);ln.allClipped?an&&Kr.group.remove(an):(an?updateProps$1(an,{shape:{points:ln.points}},Br,Jr):an=new Polygon$1({shape:{points:ln.points}}),Qr.setItemGraphicEl(Jr,an),Kr.group.add(an))}).remove(function(Jr){var rn=inner$2(Kr).data.getItemGraphicEl(Jr);Kr.group.remove(rn)}).execute(),Qr.eachItemGraphicEl(function(Jr,rn){var an=Qr.getItemModel(rn),ln=Qr.getItemVisual(rn,"style");Jr.useStyle(Qr.getItemVisual(rn,"style")),setLabelStyle(Jr,getLabelStatesModels(an),{labelFetcher:Br,labelDataIndex:rn,defaultText:Qr.getName(rn)||"",inheritColor:isString(ln.fill)?modifyAlpha(ln.fill,1):"#000"}),setStatesStylesFromModel(Jr,an),toggleHoverEmphasis(Jr,null,null,an.get(["emphasis","disabled"])),getECData(Jr).dataModel=Br}),inner$2(Kr).data=Qr,Kr.group.silent=Br.get("silent")||$r.get("silent")},_r.type="markArea",_r}(MarkerView$1);function createList(Fe,_r,$r){var Br,Fr,zr=["x0","y0","x1","y1"];if(Fe){var jr=map$1(Fe&&Fe.dimensions,function(Yr){var Kr=_r.getData(),Qr=Kr.getDimensionInfo(Kr.mapDimension(Yr))||{};return extend$1(extend$1({},Qr),{name:Yr,ordinalMeta:null})});Fr=map$1(zr,function(Yr,Kr){return{name:Yr,type:jr[Kr%2].type}}),Br=new SeriesData$1(Fr,$r)}else Fr=[{name:"value",type:"float"}],Br=new SeriesData$1(Fr,$r);var Ur=map$1($r.get("data"),curry$1(markAreaTransform,_r,Fe,$r));Fe&&(Ur=filter(Ur,curry$1(markAreaFilter,Fe)));var Gr=Fe?function(Yr,Kr,Qr,Jr){var rn=Yr.coord[Math.floor(Jr/2)][Jr%2];return parseDataValue(rn,Fr[Jr])}:function(Yr,Kr,Qr,Jr){return parseDataValue(Yr.value,Fr[Jr])};return Br.initData(Ur,null,Gr),Br.hasItemOption=!0,Br}const MarkAreaView$1=MarkAreaView;function install$c(Fe){Fe.registerComponentModel(MarkAreaModel$1),Fe.registerComponentView(MarkAreaView$1),Fe.registerPreprocessor(function(_r){checkMarkerInSeries(_r.series,"markArea")&&(_r.markArea=_r.markArea||{})})}var getDefaultSelectorOptions=function(Fe,_r){if(_r==="all")return{type:"all",title:Fe.getLocaleModel().get(["legend","selector","all"])};if(_r==="inverse")return{type:"inverse",title:Fe.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.layoutMode={type:"box",ignoreSize:!0},$r}return _r.prototype.init=function($r,Br,Fr){this.mergeDefaultAndTheme($r,Fr),$r.selected=$r.selected||{},this._updateSelector($r)},_r.prototype.mergeOption=function($r,Br){Fe.prototype.mergeOption.call(this,$r,Br),this._updateSelector($r)},_r.prototype._updateSelector=function($r){var Br=$r.selector,Fr=this.ecModel;Br===!0&&(Br=$r.selector=["all","inverse"]),isArray$1(Br)&&each$f(Br,function(zr,jr){isString(zr)&&(zr={type:zr}),Br[jr]=merge(zr,getDefaultSelectorOptions(Fr,zr.type))})},_r.prototype.optionUpdated=function(){this._updateData(this.ecModel);var $r=this._data;if($r[0]&&this.get("selectedMode")==="single"){for(var Br=!1,Fr=0;Fr<$r.length;Fr++){var zr=$r[Fr].get("name");if(this.isSelected(zr)){this.select(zr),Br=!0;break}}!Br&&this.select($r[0].get("name"))}},_r.prototype._updateData=function($r){var Br=[],Fr=[];$r.eachRawSeries(function(Gr){var Yr=Gr.name;Fr.push(Yr);var Kr;if(Gr.legendVisualProvider){var Qr=Gr.legendVisualProvider,Jr=Qr.getAllNames();$r.isSeriesFiltered(Gr)||(Fr=Fr.concat(Jr)),Jr.length?Br=Br.concat(Jr):Kr=!0}else Kr=!0;Kr&&isNameSpecified(Gr)&&Br.push(Gr.name)}),this._availableNames=Fr;var zr=this.get("data")||Br,jr=createHashMap(),Ur=map$1(zr,function(Gr){return(isString(Gr)||isNumber(Gr))&&(Gr={name:Gr}),jr.get(Gr.name)?null:(jr.set(Gr.name,!0),new Model$1(Gr,this,this.ecModel))},this);this._data=filter(Ur,function(Gr){return!!Gr})},_r.prototype.getData=function(){return this._data},_r.prototype.select=function($r){var Br=this.option.selected,Fr=this.get("selectedMode");if(Fr==="single"){var zr=this._data;each$f(zr,function(jr){Br[jr.get("name")]=!1})}Br[$r]=!0},_r.prototype.unSelect=function($r){this.get("selectedMode")!=="single"&&(this.option.selected[$r]=!1)},_r.prototype.toggleSelected=function($r){var Br=this.option.selected;Br.hasOwnProperty($r)||(Br[$r]=!0),this[Br[$r]?"unSelect":"select"]($r)},_r.prototype.allSelect=function(){var $r=this._data,Br=this.option.selected;each$f($r,function(Fr){Br[Fr.get("name",!0)]=!0})},_r.prototype.inverseSelect=function(){var $r=this._data,Br=this.option.selected;each$f($r,function(Fr){var zr=Fr.get("name",!0);Br.hasOwnProperty(zr)||(Br[zr]=!0),Br[zr]=!Br[zr]})},_r.prototype.isSelected=function($r){var Br=this.option.selected;return!(Br.hasOwnProperty($r)&&!Br[$r])&&indexOf(this._availableNames,$r)>=0},_r.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},_r.type="legend.plain",_r.dependencies=["series"],_r.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},_r}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each$3=each$f,Group$1=Group$4,LegendView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.newlineDisabled=!1,$r}return _r.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},_r.prototype.getContentGroup=function(){return this._contentGroup},_r.prototype.getSelectorGroup=function(){return this._selectorGroup},_r.prototype.render=function($r,Br,Fr){var zr=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!$r.get("show",!0)){var jr=$r.get("align"),Ur=$r.get("orient");(!jr||jr==="auto")&&(jr=$r.get("left")==="right"&&Ur==="vertical"?"right":"left");var Gr=$r.get("selector",!0),Yr=$r.get("selectorPosition",!0);Gr&&(!Yr||Yr==="auto")&&(Yr=Ur==="horizontal"?"end":"start"),this.renderInner(jr,$r,Br,Fr,Gr,Ur,Yr);var Kr=$r.getBoxLayoutParams(),Qr={width:Fr.getWidth(),height:Fr.getHeight()},Jr=$r.get("padding"),rn=getLayoutRect(Kr,Qr,Jr),an=this.layoutInner($r,jr,rn,zr,Gr,Yr),ln=getLayoutRect(defaults({width:an.width,height:an.height},Kr),Qr,Jr);this.group.x=ln.x-an.x,this.group.y=ln.y-an.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(an,$r))}},_r.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},_r.prototype.renderInner=function($r,Br,Fr,zr,jr,Ur,Gr){var Yr=this.getContentGroup(),Kr=createHashMap(),Qr=Br.get("selectedMode"),Jr=[];Fr.eachRawSeries(function(rn){!rn.get("legendHoverLink")&&Jr.push(rn.id)}),each$3(Br.getData(),function(rn,an){var ln=rn.get("name");if(!this.newlineDisabled&&(ln===""||ln===`
`)){var dn=new Group$1;dn.newline=!0,Yr.add(dn);return}var hn=Fr.getSeriesByName(ln)[0];if(!Kr.get(ln))if(hn){var gn=hn.getData(),bn=gn.getVisual("legendLineStyle")||{},kn=gn.getVisual("legendIcon"),Sn=gn.getVisual("style"),_n=this._createItem(hn,ln,an,rn,Br,$r,bn,Sn,kn,Qr,zr);_n.on("click",curry(dispatchSelectAction,ln,null,zr,Jr)).on("mouseover",curry(dispatchHighlightAction,hn.name,null,zr,Jr)).on("mouseout",curry(dispatchDownplayAction,hn.name,null,zr,Jr)),Kr.set(ln,!0)}else Fr.eachRawSeries(function(pn){if(!Kr.get(ln)&&pn.legendVisualProvider){var Cn=pn.legendVisualProvider;if(!Cn.containName(ln))return;var En=Cn.indexOfName(ln),Pn=Cn.getItemVisual(En,"style"),On=Cn.getItemVisual(En,"legendIcon"),jn=parse(Pn.fill);jn&&jn[3]===0&&(jn[3]=.2,Pn=extend$1(extend$1({},Pn),{fill:stringify(jn,"rgba")}));var Fn=this._createItem(pn,ln,an,rn,Br,$r,{},Pn,On,Qr,zr);Fn.on("click",curry(dispatchSelectAction,null,ln,zr,Jr)).on("mouseover",curry(dispatchHighlightAction,null,ln,zr,Jr)).on("mouseout",curry(dispatchDownplayAction,null,ln,zr,Jr)),Kr.set(ln,!0)}},this)},this),jr&&this._createSelector(jr,Br,zr,Ur,Gr)},_r.prototype._createSelector=function($r,Br,Fr,zr,jr){var Ur=this.getSelectorGroup();each$3($r,function(Yr){var Kr=Yr.type,Qr=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){Fr.dispatchAction({type:Kr==="all"?"legendAllSelect":"legendInverseSelect"})}});Ur.add(Qr);var Jr=Br.getModel("selectorLabel"),rn=Br.getModel(["emphasis","selectorLabel"]);setLabelStyle(Qr,{normal:Jr,emphasis:rn},{defaultText:Yr.title}),enableHoverEmphasis(Qr)})},_r.prototype._createItem=function($r,Br,Fr,zr,jr,Ur,Gr,Yr,Kr,Qr,Jr){var rn=$r.visualDrawType,an=jr.get("itemWidth"),ln=jr.get("itemHeight"),dn=jr.isSelected(Br),hn=zr.get("symbolRotate"),gn=zr.get("symbolKeepAspect"),bn=zr.get("icon");Kr=bn||Kr||"roundRect";var kn=getLegendStyle(Kr,zr,Gr,Yr,rn,dn,Jr),Sn=new Group$1,_n=zr.getModel("textStyle");if(isFunction($r.getLegendIcon)&&(!bn||bn==="inherit"))Sn.add($r.getLegendIcon({itemWidth:an,itemHeight:ln,icon:Kr,iconRotate:hn,itemStyle:kn.itemStyle,lineStyle:kn.lineStyle,symbolKeepAspect:gn}));else{var pn=bn==="inherit"&&$r.getData().getVisual("symbol")?hn==="inherit"?$r.getData().getVisual("symbolRotate"):hn:0;Sn.add(getDefaultLegendIcon({itemWidth:an,itemHeight:ln,icon:Kr,iconRotate:pn,itemStyle:kn.itemStyle,lineStyle:kn.lineStyle,symbolKeepAspect:gn}))}var Cn=Ur==="left"?an+5:-5,En=Ur,Pn=jr.get("formatter"),On=Br;isString(Pn)&&Pn?On=Pn.replace("{name}",Br??""):isFunction(Pn)&&(On=Pn(Br));var jn=dn?_n.getTextColor():zr.get("inactiveColor");Sn.add(new ZRText$1({style:createTextStyle$1(_n,{text:On,x:Cn,y:ln/2,fill:jn,align:En,verticalAlign:"middle"},{inheritColor:jn})}));var Fn=new Rect$3({shape:Sn.getBoundingRect(),invisible:!0}),Wn=zr.getModel("tooltip");return Wn.get("show")&&setTooltipConfig({el:Fn,componentModel:jr,itemName:Br,itemTooltipOption:Wn.option}),Sn.add(Fn),Sn.eachChild(function(Hn){Hn.silent=!0}),Fn.silent=!Qr,this.getContentGroup().add(Sn),enableHoverEmphasis(Sn),Sn.__legendDataIndex=Fr,Sn},_r.prototype.layoutInner=function($r,Br,Fr,zr,jr,Ur){var Gr=this.getContentGroup(),Yr=this.getSelectorGroup();box($r.get("orient"),Gr,$r.get("itemGap"),Fr.width,Fr.height);var Kr=Gr.getBoundingRect(),Qr=[-Kr.x,-Kr.y];if(Yr.markRedraw(),Gr.markRedraw(),jr){box("horizontal",Yr,$r.get("selectorItemGap",!0));var Jr=Yr.getBoundingRect(),rn=[-Jr.x,-Jr.y],an=$r.get("selectorButtonGap",!0),ln=$r.getOrient().index,dn=ln===0?"width":"height",hn=ln===0?"height":"width",gn=ln===0?"y":"x";Ur==="end"?rn[ln]+=Kr[dn]+an:Qr[ln]+=Jr[dn]+an,rn[1-ln]+=Kr[hn]/2-Jr[hn]/2,Yr.x=rn[0],Yr.y=rn[1],Gr.x=Qr[0],Gr.y=Qr[1];var bn={x:0,y:0};return bn[dn]=Kr[dn]+an+Jr[dn],bn[hn]=Math.max(Kr[hn],Jr[hn]),bn[gn]=Math.min(0,Jr[gn]+rn[1-ln]),bn}else return Gr.x=Qr[0],Gr.y=Qr[1],this.group.getBoundingRect()},_r.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},_r.type="legend.plain",_r}(ComponentView$1);function getLegendStyle(Fe,_r,$r,Br,Fr,zr,jr){function Ur(dn,hn){dn.lineWidth==="auto"&&(dn.lineWidth=hn.lineWidth>0?2:0),each$3(dn,function(gn,bn){dn[bn]==="inherit"&&(dn[bn]=hn[bn])})}var Gr=_r.getModel("itemStyle"),Yr=Gr.getItemStyle(),Kr=Fe.lastIndexOf("empty",0)===0?"fill":"stroke",Qr=Gr.getShallow("decal");Yr.decal=!Qr||Qr==="inherit"?Br.decal:createOrUpdatePatternFromDecal(Qr,jr),Yr.fill==="inherit"&&(Yr.fill=Br[Fr]),Yr.stroke==="inherit"&&(Yr.stroke=Br[Kr]),Yr.opacity==="inherit"&&(Yr.opacity=(Fr==="fill"?Br:$r).opacity),Ur(Yr,Br);var Jr=_r.getModel("lineStyle"),rn=Jr.getLineStyle();if(Ur(rn,$r),Yr.fill==="auto"&&(Yr.fill=Br.fill),Yr.stroke==="auto"&&(Yr.stroke=Br.fill),rn.stroke==="auto"&&(rn.stroke=Br.fill),!zr){var an=_r.get("inactiveBorderWidth"),ln=Yr[Kr];Yr.lineWidth=an==="auto"?Br.lineWidth>0&&ln?2:0:Yr.lineWidth,Yr.fill=_r.get("inactiveColor"),Yr.stroke=_r.get("inactiveBorderColor"),rn.stroke=Jr.get("inactiveColor"),rn.lineWidth=Jr.get("inactiveWidth")}return{itemStyle:Yr,lineStyle:rn}}function getDefaultLegendIcon(Fe){var _r=Fe.icon||"roundRect",$r=createSymbol$1(_r,0,0,Fe.itemWidth,Fe.itemHeight,Fe.itemStyle.fill,Fe.symbolKeepAspect);return $r.setStyle(Fe.itemStyle),$r.rotation=(Fe.iconRotate||0)*Math.PI/180,$r.setOrigin([Fe.itemWidth/2,Fe.itemHeight/2]),_r.indexOf("empty")>-1&&($r.style.stroke=$r.style.fill,$r.style.fill="#fff",$r.style.lineWidth=2),$r}function dispatchSelectAction(Fe,_r,$r,Br){dispatchDownplayAction(Fe,_r,$r,Br),$r.dispatchAction({type:"legendToggleSelect",name:Fe??_r}),dispatchHighlightAction(Fe,_r,$r,Br)}function isUseHoverLayer(Fe){for(var _r=Fe.getZr().storage.getDisplayList(),$r,Br=0,Fr=_r.length;Br<Fr&&!($r=_r[Br].states.emphasis);)Br++;return $r&&$r.hoverLayer}function dispatchHighlightAction(Fe,_r,$r,Br){isUseHoverLayer($r)||$r.dispatchAction({type:"highlight",seriesName:Fe,name:_r,excludeSeriesId:Br})}function dispatchDownplayAction(Fe,_r,$r,Br){isUseHoverLayer($r)||$r.dispatchAction({type:"downplay",seriesName:Fe,name:_r,excludeSeriesId:Br})}const LegendView$1=LegendView;function legendFilter(Fe){var _r=Fe.findComponents({mainType:"legend"});_r&&_r.length&&Fe.filterSeries(function($r){for(var Br=0;Br<_r.length;Br++)if(!_r[Br].isSelected($r.name))return!1;return!0})}function legendSelectActionHandler(Fe,_r,$r){var Br={},Fr=Fe==="toggleSelected",zr;return $r.eachComponent("legend",function(jr){Fr&&zr!=null?jr[zr?"select":"unSelect"](_r.name):Fe==="allSelect"||Fe==="inverseSelect"?jr[Fe]():(jr[Fe](_r.name),zr=jr.isSelected(_r.name));var Ur=jr.getData();each$f(Ur,function(Gr){var Yr=Gr.get("name");if(!(Yr===`
`||Yr==="")){var Kr=jr.isSelected(Yr);Br.hasOwnProperty(Yr)?Br[Yr]=Br[Yr]&&Kr:Br[Yr]=Kr}})}),Fe==="allSelect"||Fe==="inverseSelect"?{selected:Br}:{name:_r.name,selected:Br}}function installLegendAction(Fe){Fe.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),Fe.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),Fe.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),Fe.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),Fe.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(Fe){Fe.registerComponentModel(LegendModel$1),Fe.registerComponentView(LegendView$1),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),Fe.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(Fe)}var ScrollableLegendModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.setScrollDataIndex=function($r){this.option.scrollDataIndex=$r},_r.prototype.init=function($r,Br,Fr){var zr=getLayoutParams($r);Fe.prototype.init.call(this,$r,Br,Fr),mergeAndNormalizeLayoutParams(this,$r,zr)},_r.prototype.mergeOption=function($r,Br){Fe.prototype.mergeOption.call(this,$r,Br),mergeAndNormalizeLayoutParams(this,this.option,$r)},_r.type="legend.scroll",_r.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),_r}(LegendModel$1);function mergeAndNormalizeLayoutParams(Fe,_r,$r){var Br=Fe.getOrient(),Fr=[1,1];Fr[Br.index]=0,mergeLayoutParam(_r,$r,{type:"box",ignoreSize:!!Fr})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$4,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.newlineDisabled=!0,$r._currentIndex=0,$r}return _r.prototype.init=function(){Fe.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},_r.prototype.resetInner=function(){Fe.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},_r.prototype.renderInner=function($r,Br,Fr,zr,jr,Ur,Gr){var Yr=this;Fe.prototype.renderInner.call(this,$r,Br,Fr,zr,jr,Ur,Gr);var Kr=this._controllerGroup,Qr=Br.get("pageIconSize",!0),Jr=isArray$1(Qr)?Qr:[Qr,Qr];an("pagePrev",0);var rn=Br.getModel("pageTextStyle");Kr.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:rn.getTextColor(),font:rn.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),an("pageNext",1);function an(ln,dn){var hn=ln+"DataIndex",gn=createIcon(Br.get("pageIcons",!0)[Br.getOrient().name][dn],{onclick:bind$1(Yr._pageGo,Yr,hn,Br,zr)},{x:-Jr[0]/2,y:-Jr[1]/2,width:Jr[0],height:Jr[1]});gn.name=ln,Kr.add(gn)}},_r.prototype.layoutInner=function($r,Br,Fr,zr,jr,Ur){var Gr=this.getSelectorGroup(),Yr=$r.getOrient().index,Kr=WH[Yr],Qr=XY[Yr],Jr=WH[1-Yr],rn=XY[1-Yr];jr&&box("horizontal",Gr,$r.get("selectorItemGap",!0));var an=$r.get("selectorButtonGap",!0),ln=Gr.getBoundingRect(),dn=[-ln.x,-ln.y],hn=clone$4(Fr);jr&&(hn[Kr]=Fr[Kr]-ln[Kr]-an);var gn=this._layoutContentAndController($r,zr,hn,Yr,Kr,Jr,rn,Qr);if(jr){if(Ur==="end")dn[Yr]+=gn[Kr]+an;else{var bn=ln[Kr]+an;dn[Yr]-=bn,gn[Qr]-=bn}gn[Kr]+=ln[Kr]+an,dn[1-Yr]+=gn[rn]+gn[Jr]/2-ln[Jr]/2,gn[Jr]=Math.max(gn[Jr],ln[Jr]),gn[rn]=Math.min(gn[rn],ln[rn]+dn[1-Yr]),Gr.x=dn[0],Gr.y=dn[1],Gr.markRedraw()}return gn},_r.prototype._layoutContentAndController=function($r,Br,Fr,zr,jr,Ur,Gr,Yr){var Kr=this.getContentGroup(),Qr=this._containerGroup,Jr=this._controllerGroup;box($r.get("orient"),Kr,$r.get("itemGap"),zr?Fr.width:null,zr?null:Fr.height),box("horizontal",Jr,$r.get("pageButtonItemGap",!0));var rn=Kr.getBoundingRect(),an=Jr.getBoundingRect(),ln=this._showController=rn[jr]>Fr[jr],dn=[-rn.x,-rn.y];Br||(dn[zr]=Kr[Yr]);var hn=[0,0],gn=[-an.x,-an.y],bn=retrieve2($r.get("pageButtonGap",!0),$r.get("itemGap",!0));if(ln){var kn=$r.get("pageButtonPosition",!0);kn==="end"?gn[zr]+=Fr[jr]-an[jr]:hn[zr]+=an[jr]+bn}gn[1-zr]+=rn[Ur]/2-an[Ur]/2,Kr.setPosition(dn),Qr.setPosition(hn),Jr.setPosition(gn);var Sn={x:0,y:0};if(Sn[jr]=ln?Fr[jr]:rn[jr],Sn[Ur]=Math.max(rn[Ur],an[Ur]),Sn[Gr]=Math.min(0,an[Gr]+gn[1-zr]),Qr.__rectSize=Fr[jr],ln){var _n={x:0,y:0};_n[jr]=Math.max(Fr[jr]-an[jr]-bn,0),_n[Ur]=Sn[Ur],Qr.setClipPath(new Rect$3({shape:_n})),Qr.__rectSize=_n[jr]}else Jr.eachChild(function(Cn){Cn.attr({invisible:!0,silent:!0})});var pn=this._getPageInfo($r);return pn.pageIndex!=null&&updateProps$1(Kr,{x:pn.contentPosition[0],y:pn.contentPosition[1]},ln?$r:null),this._updatePageInfoView($r,pn),Sn},_r.prototype._pageGo=function($r,Br,Fr){var zr=this._getPageInfo(Br)[$r];zr!=null&&Fr.dispatchAction({type:"legendScroll",scrollDataIndex:zr,legendId:Br.id})},_r.prototype._updatePageInfoView=function($r,Br){var Fr=this._controllerGroup;each$f(["pagePrev","pageNext"],function(Kr){var Qr=Kr+"DataIndex",Jr=Br[Qr]!=null,rn=Fr.childOfName(Kr);rn&&(rn.setStyle("fill",Jr?$r.get("pageIconColor",!0):$r.get("pageIconInactiveColor",!0)),rn.cursor=Jr?"pointer":"default")});var zr=Fr.childOfName("pageText"),jr=$r.get("pageFormatter"),Ur=Br.pageIndex,Gr=Ur!=null?Ur+1:0,Yr=Br.pageCount;zr&&jr&&zr.setStyle("text",isString(jr)?jr.replace("{current}",Gr==null?"":Gr+"").replace("{total}",Yr==null?"":Yr+""):jr({current:Gr,total:Yr}))},_r.prototype._getPageInfo=function($r){var Br=$r.get("scrollDataIndex",!0),Fr=this.getContentGroup(),zr=this._containerGroup.__rectSize,jr=$r.getOrient().index,Ur=WH[jr],Gr=XY[jr],Yr=this._findTargetItemIndex(Br),Kr=Fr.children(),Qr=Kr[Yr],Jr=Kr.length,rn=Jr?1:0,an={contentPosition:[Fr.x,Fr.y],pageCount:rn,pageIndex:rn-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!Qr)return an;var ln=kn(Qr);an.contentPosition[jr]=-ln.s;for(var dn=Yr+1,hn=ln,gn=ln,bn=null;dn<=Jr;++dn)bn=kn(Kr[dn]),(!bn&&gn.e>hn.s+zr||bn&&!Sn(bn,hn.s))&&(gn.i>hn.i?hn=gn:hn=bn,hn&&(an.pageNextDataIndex==null&&(an.pageNextDataIndex=hn.i),++an.pageCount)),gn=bn;for(var dn=Yr-1,hn=ln,gn=ln,bn=null;dn>=-1;--dn)bn=kn(Kr[dn]),(!bn||!Sn(gn,bn.s))&&hn.i<gn.i&&(gn=hn,an.pagePrevDataIndex==null&&(an.pagePrevDataIndex=hn.i),++an.pageCount,++an.pageIndex),hn=bn;return an;function kn(_n){if(_n){var pn=_n.getBoundingRect(),Cn=pn[Gr]+_n[Gr];return{s:Cn,e:Cn+pn[Ur],i:_n.__legendDataIndex}}}function Sn(_n,pn){return _n.e>=pn&&_n.s<=pn+zr}},_r.prototype._findTargetItemIndex=function($r){if(!this._showController)return 0;var Br,Fr=this.getContentGroup(),zr;return Fr.eachChild(function(jr,Ur){var Gr=jr.__legendDataIndex;zr==null&&Gr!=null&&(zr=Ur),Gr===$r&&(Br=Ur)}),Br??zr},_r.type="legend.scroll",_r}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(Fe){Fe.registerAction("legendScroll","legendscroll",function(_r,$r){var Br=_r.scrollDataIndex;Br!=null&&$r.eachComponent({mainType:"legend",subType:"scroll",query:_r},function(Fr){Fr.setScrollDataIndex(Br)})})}function install$a(Fe){use(install$b),Fe.registerComponentModel(ScrollableLegendModel$1),Fe.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(Fe)}function install$9(Fe){use(install$b),use(install$a)}var InsideZoomModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="dataZoom.inside",_r.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),_r}(DataZoomModel$1);const InsideZoomModel$1=InsideZoomModel;var inner$1=makeInner();function setViewInfoToCoordSysRecord(Fe,_r,$r){inner$1(Fe).coordSysRecordMap.each(function(Br){var Fr=Br.dataZoomInfoMap.get(_r.uid);Fr&&(Fr.getRange=$r)})}function disposeCoordSysRecordIfNeeded(Fe,_r){for(var $r=inner$1(Fe).coordSysRecordMap,Br=$r.keys(),Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr],jr=$r.get(zr),Ur=jr.dataZoomInfoMap;if(Ur){var Gr=_r.uid,Yr=Ur.get(Gr);Yr&&(Ur.removeKey(Gr),Ur.keys().length||disposeCoordSysRecord($r,jr))}}}function disposeCoordSysRecord(Fe,_r){if(_r){Fe.removeKey(_r.model.uid);var $r=_r.controller;$r&&$r.dispose()}}function createCoordSysRecord(Fe,_r){var $r={model:_r,containsPoint:curry$1(containsPoint,_r),dispatchAction:curry$1(dispatchAction,Fe),dataZoomInfoMap:null,controller:null},Br=$r.controller=new RoamController$1(Fe.getZr());return each$f(["pan","zoom","scrollMove"],function(Fr){Br.on(Fr,function(zr){var jr=[];$r.dataZoomInfoMap.each(function(Ur){if(zr.isAvailableBehavior(Ur.model.option)){var Gr=(Ur.getRange||{})[Fr],Yr=Gr&&Gr(Ur.dzReferCoordSysInfo,$r.model.mainType,$r.controller,zr);!Ur.model.get("disabled",!0)&&Yr&&jr.push({dataZoomId:Ur.model.id,start:Yr[0],end:Yr[1]})}}),jr.length&&$r.dispatchAction(jr)})}),$r}function dispatchAction(Fe,_r){Fe.isDisposed()||Fe.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:_r})}function containsPoint(Fe,_r,$r,Br){return Fe.coordinateSystem.containPoint([$r,Br])}function mergeControllerParams(Fe){var _r,$r="type_",Br={type_true:2,type_move:1,type_false:0,type_undefined:-1},Fr=!0;return Fe.each(function(zr){var jr=zr.model,Ur=jr.get("disabled",!0)?!1:jr.get("zoomLock",!0)?"move":!0;Br[$r+Ur]>Br[$r+_r]&&(_r=Ur),Fr=Fr&&jr.get("preventDefaultMouseMove",!0)}),{controlType:_r,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!Fr}}}function installDataZoomRoamProcessor(Fe){Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.FILTER,function(_r,$r){var Br=inner$1($r),Fr=Br.coordSysRecordMap||(Br.coordSysRecordMap=createHashMap());Fr.each(function(zr){zr.dataZoomInfoMap=null}),_r.eachComponent({mainType:"dataZoom",subType:"inside"},function(zr){var jr=collectReferCoordSysModelInfo(zr);each$f(jr.infoList,function(Ur){var Gr=Ur.model.uid,Yr=Fr.get(Gr)||Fr.set(Gr,createCoordSysRecord($r,Ur.model)),Kr=Yr.dataZoomInfoMap||(Yr.dataZoomInfoMap=createHashMap());Kr.set(zr.uid,{dzReferCoordSysInfo:Ur,model:zr,getRange:null})})}),Fr.each(function(zr){var jr=zr.controller,Ur,Gr=zr.dataZoomInfoMap;if(Gr){var Yr=Gr.keys()[0];Yr!=null&&(Ur=Gr.get(Yr))}if(!Ur){disposeCoordSysRecord(Fr,zr);return}var Kr=mergeControllerParams(Gr);jr.enable(Kr.controlType,Kr.opt),jr.setPointerChecker(zr.containsPoint),createOrUpdate(zr,"dispatchAction",Ur.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type="dataZoom.inside",$r}return _r.prototype.render=function($r,Br,Fr){if(Fe.prototype.render.apply(this,arguments),$r.noTarget()){this._clear();return}this.range=$r.getPercentRange(),setViewInfoToCoordSysRecord(Fr,$r,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},_r.prototype.dispose=function(){this._clear(),Fe.prototype.dispose.apply(this,arguments)},_r.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},_r.type="dataZoom.inside",_r}(DataZoomView$1),getRangeHandlers={zoom:function(Fe,_r,$r,Br){var Fr=this.range,zr=Fr.slice(),jr=Fe.axisModels[0];if(jr){var Ur=getDirectionInfo[_r](null,[Br.originX,Br.originY],jr,$r,Fe),Gr=(Ur.signal>0?Ur.pixelStart+Ur.pixelLength-Ur.pixel:Ur.pixel-Ur.pixelStart)/Ur.pixelLength*(zr[1]-zr[0])+zr[0],Yr=Math.max(1/Br.scale,0);zr[0]=(zr[0]-Gr)*Yr+Gr,zr[1]=(zr[1]-Gr)*Yr+Gr;var Kr=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,zr,[0,100],0,Kr.minSpan,Kr.maxSpan),this.range=zr,Fr[0]!==zr[0]||Fr[1]!==zr[1])return zr}},pan:makeMover(function(Fe,_r,$r,Br,Fr,zr){var jr=getDirectionInfo[Br]([zr.oldX,zr.oldY],[zr.newX,zr.newY],_r,Fr,$r);return jr.signal*(Fe[1]-Fe[0])*jr.pixel/jr.pixelLength}),scrollMove:makeMover(function(Fe,_r,$r,Br,Fr,zr){var jr=getDirectionInfo[Br]([0,0],[zr.scrollDelta,zr.scrollDelta],_r,Fr,$r);return jr.signal*(Fe[1]-Fe[0])*zr.scrollDelta})};function makeMover(Fe){return function(_r,$r,Br,Fr){var zr=this.range,jr=zr.slice(),Ur=_r.axisModels[0];if(Ur){var Gr=Fe(jr,Ur,_r,$r,Br,Fr);if(sliderMove(Gr,jr,[0,100],"all"),this.range=jr,zr[0]!==jr[0]||zr[1]!==jr[1])return jr}}}var getDirectionInfo={grid:function(Fe,_r,$r,Br,Fr){var zr=$r.axis,jr={},Ur=Fr.model.coordinateSystem.getRect();return Fe=Fe||[0,0],zr.dim==="x"?(jr.pixel=_r[0]-Fe[0],jr.pixelLength=Ur.width,jr.pixelStart=Ur.x,jr.signal=zr.inverse?1:-1):(jr.pixel=_r[1]-Fe[1],jr.pixelLength=Ur.height,jr.pixelStart=Ur.y,jr.signal=zr.inverse?-1:1),jr},polar:function(Fe,_r,$r,Br,Fr){var zr=$r.axis,jr={},Ur=Fr.model.coordinateSystem,Gr=Ur.getRadiusAxis().getExtent(),Yr=Ur.getAngleAxis().getExtent();return Fe=Fe?Ur.pointToCoord(Fe):[0,0],_r=Ur.pointToCoord(_r),$r.mainType==="radiusAxis"?(jr.pixel=_r[0]-Fe[0],jr.pixelLength=Gr[1]-Gr[0],jr.pixelStart=Gr[0],jr.signal=zr.inverse?1:-1):(jr.pixel=_r[1]-Fe[1],jr.pixelLength=Yr[1]-Yr[0],jr.pixelStart=Yr[0],jr.signal=zr.inverse?-1:1),jr},singleAxis:function(Fe,_r,$r,Br,Fr){var zr=$r.axis,jr=Fr.model.coordinateSystem.getRect(),Ur={};return Fe=Fe||[0,0],zr.orient==="horizontal"?(Ur.pixel=_r[0]-Fe[0],Ur.pixelLength=jr.width,Ur.pixelStart=jr.x,Ur.signal=zr.inverse?1:-1):(Ur.pixel=_r[1]-Fe[1],Ur.pixelLength=jr.height,Ur.pixelStart=jr.y,Ur.signal=zr.inverse?-1:1),Ur}};const InsideZoomView$1=InsideZoomView;function install$8(Fe){installCommon$1(Fe),Fe.registerComponentModel(InsideZoomModel$1),Fe.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor(Fe)}var SliderZoomModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.type="dataZoom.slider",_r.layoutMode="box",_r.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),_r}(DataZoomModel$1);const SliderZoomModel$1=SliderZoomModel;var Rect=Rect$3,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r._displayables={},$r}return _r.prototype.init=function($r,Br){this.api=Br,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},_r.prototype.render=function($r,Br,Fr,zr){if(Fe.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",$r.get("throttle"),"fixRate"),this._orient=$r.getOrient(),$r.get("show")===!1){this.group.removeAll();return}if($r.noTarget()){this._clear(),this.group.removeAll();return}(!zr||zr.type!=="dataZoom"||zr.from!==this.uid)&&this._buildView(),this._updateView()},_r.prototype.dispose=function(){this._clear(),Fe.prototype.dispose.apply(this,arguments)},_r.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var $r=this.api.getZr();$r.off("mousemove",this._onBrush),$r.off("mouseup",this._onBrushEnd)},_r.prototype._buildView=function(){var $r=this.group;$r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var Br=this._displayables.sliderGroup=new Group$4;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),$r.add(Br),this._positionGroup()},_r.prototype._resetLocation=function(){var $r=this.dataZoomModel,Br=this.api,Fr=$r.get("brushSelect"),zr=Fr?DEFAULT_MOVE_HANDLE_SIZE:0,jr=this._findCoordRect(),Ur={width:Br.getWidth(),height:Br.getHeight()},Gr=this._orient===HORIZONTAL?{right:Ur.width-jr.x-jr.width,top:Ur.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-zr,width:jr.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:jr.y,width:DEFAULT_FILLER_SIZE,height:jr.height},Yr=getLayoutParams($r.option);each$f(["right","top","width","height"],function(Qr){Yr[Qr]==="ph"&&(Yr[Qr]=Gr[Qr])});var Kr=getLayoutRect(Yr,Ur);this._location={x:Kr.x,y:Kr.y},this._size=[Kr.width,Kr.height],this._orient===VERTICAL&&this._size.reverse()},_r.prototype._positionGroup=function(){var $r=this.group,Br=this._location,Fr=this._orient,zr=this.dataZoomModel.getFirstTargetAxisModel(),jr=zr&&zr.get("inverse"),Ur=this._displayables.sliderGroup,Gr=(this._dataShadowInfo||{}).otherAxisInverse;Ur.attr(Fr===HORIZONTAL&&!jr?{scaleY:Gr?1:-1,scaleX:1}:Fr===HORIZONTAL&&jr?{scaleY:Gr?1:-1,scaleX:-1}:Fr===VERTICAL&&!jr?{scaleY:Gr?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:Gr?-1:1,scaleX:-1,rotation:Math.PI/2});var Yr=$r.getBoundingRect([Ur]);$r.x=Br.x-Yr.x,$r.y=Br.y-Yr.y,$r.markRedraw()},_r.prototype._getViewExtent=function(){return[0,this._size[0]]},_r.prototype._renderBackground=function(){var $r=this.dataZoomModel,Br=this._size,Fr=this._displayables.sliderGroup,zr=$r.get("brushSelect");Fr.add(new Rect({silent:!0,shape:{x:0,y:0,width:Br[0],height:Br[1]},style:{fill:$r.get("backgroundColor")},z2:-40}));var jr=new Rect({shape:{x:0,y:0,width:Br[0],height:Br[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),Ur=this.api.getZr();zr?(jr.on("mousedown",this._onBrushStart,this),jr.cursor="crosshair",Ur.on("mousemove",this._onBrush),Ur.on("mouseup",this._onBrushEnd)):(Ur.off("mousemove",this._onBrush),Ur.off("mouseup",this._onBrushEnd)),Fr.add(jr)},_r.prototype._renderDataShadow=function(){var $r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!$r)return;var Br=this._size,Fr=this._shadowSize||[],zr=$r.series,jr=zr.getRawData(),Ur=zr.getShadowDim&&zr.getShadowDim(),Gr=Ur&&jr.getDimensionInfo(Ur)?zr.getShadowDim():$r.otherDim;if(Gr==null)return;var Yr=this._shadowPolygonPts,Kr=this._shadowPolylinePts;if(jr!==this._shadowData||Gr!==this._shadowDim||Br[0]!==Fr[0]||Br[1]!==Fr[1]){var Qr=jr.getDataExtent(Gr),Jr=(Qr[1]-Qr[0])*.3;Qr=[Qr[0]-Jr,Qr[1]+Jr];var rn=[0,Br[1]],an=[0,Br[0]],ln=[[Br[0],0],[0,0]],dn=[],hn=an[1]/(jr.count()-1),gn=0,bn=Math.round(jr.count()/Br[0]),kn;jr.each([Gr],function(En,Pn){if(bn>0&&Pn%bn){gn+=hn;return}var On=En==null||isNaN(En)||En==="",jn=On?0:linearMap$2(En,Qr,rn,!0);On&&!kn&&Pn?(ln.push([ln[ln.length-1][0],0]),dn.push([dn[dn.length-1][0],0])):!On&&kn&&(ln.push([gn,0]),dn.push([gn,0])),ln.push([gn,jn]),dn.push([gn,jn]),gn+=hn,kn=On}),Yr=this._shadowPolygonPts=ln,Kr=this._shadowPolylinePts=dn}this._shadowData=jr,this._shadowDim=Gr,this._shadowSize=[Br[0],Br[1]];var Sn=this.dataZoomModel;function _n(En){var Pn=Sn.getModel(En?"selectedDataBackground":"dataBackground"),On=new Group$4,jn=new Polygon$1({shape:{points:Yr},segmentIgnoreThreshold:1,style:Pn.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Fn=new Polyline$3({shape:{points:Kr},segmentIgnoreThreshold:1,style:Pn.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return On.add(jn),On.add(Fn),On}for(var pn=0;pn<3;pn++){var Cn=_n(pn===1);this._displayables.sliderGroup.add(Cn),this._displayables.dataShadowSegs.push(Cn)}},_r.prototype._prepareDataShadowInfo=function(){var $r=this.dataZoomModel,Br=$r.get("showDataShadow");if(Br!==!1){var Fr,zr=this.ecModel;return $r.eachTargetAxis(function(jr,Ur){var Gr=$r.getAxisProxy(jr,Ur).getTargetSeriesModels();each$f(Gr,function(Yr){if(!Fr&&!(Br!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,Yr.get("type"))<0)){var Kr=zr.getComponent(getAxisMainType(jr),Ur).axis,Qr=getOtherDim(jr),Jr,rn=Yr.coordinateSystem;Qr!=null&&rn.getOtherAxis&&(Jr=rn.getOtherAxis(Kr).inverse),Qr=Yr.getData().mapDimension(Qr),Fr={thisAxis:Kr,series:Yr,thisDim:jr,otherDim:Qr,otherAxisInverse:Jr}}},this)},this),Fr}},_r.prototype._renderHandle=function(){var $r=this.group,Br=this._displayables,Fr=Br.handles=[null,null],zr=Br.handleLabels=[null,null],jr=this._displayables.sliderGroup,Ur=this._size,Gr=this.dataZoomModel,Yr=this.api,Kr=Gr.get("borderRadius")||0,Qr=Gr.get("brushSelect"),Jr=Br.filler=new Rect({silent:Qr,style:{fill:Gr.get("fillerColor")},textConfig:{position:"inside"}});jr.add(Jr),jr.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:Ur[0],height:Ur[1],r:Kr},style:{stroke:Gr.get("dataBackgroundColor")||Gr.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(bn){var kn=Gr.get("handleIcon");!symbolBuildProxies[kn]&&kn.indexOf("path://")<0&&kn.indexOf("image://")<0&&(kn="path://"+kn);var Sn=createSymbol$1(kn,-1,0,2,2,null,!0);Sn.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,bn),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var _n=Sn.getBoundingRect(),pn=Gr.get("handleSize");this._handleHeight=parsePercent(pn,this._size[1]),this._handleWidth=_n.width/_n.height*this._handleHeight,Sn.setStyle(Gr.getModel("handleStyle").getItemStyle()),Sn.style.strokeNoScale=!0,Sn.rectHover=!0,Sn.ensureState("emphasis").style=Gr.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(Sn);var Cn=Gr.get("handleColor");Cn!=null&&(Sn.style.fill=Cn),jr.add(Fr[bn]=Sn);var En=Gr.getModel("textStyle");$r.add(zr[bn]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle$1(En,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:En.getTextColor(),font:En.getFont()}),z2:10}))},this);var rn=Jr;if(Qr){var an=parsePercent(Gr.get("moveHandleSize"),Ur[1]),ln=Br.moveHandle=new Rect$3({style:Gr.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:Ur[1]-.5,height:an}}),dn=an*.8,hn=Br.moveHandleIcon=createSymbol$1(Gr.get("moveHandleIcon"),-dn/2,-dn/2,dn,dn,"#fff",!0);hn.silent=!0,hn.y=Ur[1]+an/2-.5,ln.ensureState("emphasis").style=Gr.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var gn=Math.min(Ur[1]/2,Math.max(an,10));rn=Br.moveZone=new Rect$3({invisible:!0,shape:{y:Ur[1]-gn,height:an+gn}}),rn.on("mouseover",function(){Yr.enterEmphasis(ln)}).on("mouseout",function(){Yr.leaveEmphasis(ln)}),jr.add(ln),jr.add(hn),jr.add(rn)}rn.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},_r.prototype._resetInterval=function(){var $r=this._range=this.dataZoomModel.getPercentRange(),Br=this._getViewExtent();this._handleEnds=[linearMap$2($r[0],[0,100],Br,!0),linearMap$2($r[1],[0,100],Br,!0)]},_r.prototype._updateInterval=function($r,Br){var Fr=this.dataZoomModel,zr=this._handleEnds,jr=this._getViewExtent(),Ur=Fr.findRepresentativeAxisProxy().getMinMaxSpan(),Gr=[0,100];sliderMove(Br,zr,jr,Fr.get("zoomLock")?"all":$r,Ur.minSpan!=null?linearMap$2(Ur.minSpan,Gr,jr,!0):null,Ur.maxSpan!=null?linearMap$2(Ur.maxSpan,Gr,jr,!0):null);var Yr=this._range,Kr=this._range=asc$2([linearMap$2(zr[0],jr,Gr,!0),linearMap$2(zr[1],jr,Gr,!0)]);return!Yr||Yr[0]!==Kr[0]||Yr[1]!==Kr[1]},_r.prototype._updateView=function($r){var Br=this._displayables,Fr=this._handleEnds,zr=asc$2(Fr.slice()),jr=this._size;each$f([0,1],function(rn){var an=Br.handles[rn],ln=this._handleHeight;an.attr({scaleX:ln/2,scaleY:ln/2,x:Fr[rn]+(rn?-1:1),y:jr[1]/2-ln/2})},this),Br.filler.setShape({x:zr[0],y:0,width:zr[1]-zr[0],height:jr[1]});var Ur={x:zr[0],width:zr[1]-zr[0]};Br.moveHandle&&(Br.moveHandle.setShape(Ur),Br.moveZone.setShape(Ur),Br.moveZone.getBoundingRect(),Br.moveHandleIcon&&Br.moveHandleIcon.attr("x",Ur.x+Ur.width/2));for(var Gr=Br.dataShadowSegs,Yr=[0,zr[0],zr[1],jr[0]],Kr=0;Kr<Gr.length;Kr++){var Qr=Gr[Kr],Jr=Qr.getClipPath();Jr||(Jr=new Rect$3,Qr.setClipPath(Jr)),Jr.setShape({x:Yr[Kr],y:0,width:Yr[Kr+1]-Yr[Kr],height:jr[1]})}this._updateDataInfo($r)},_r.prototype._updateDataInfo=function($r){var Br=this.dataZoomModel,Fr=this._displayables,zr=Fr.handleLabels,jr=this._orient,Ur=["",""];if(Br.get("showDetail")){var Gr=Br.findRepresentativeAxisProxy();if(Gr){var Yr=Gr.getAxisModel().axis,Kr=this._range,Qr=$r?Gr.calculateDataWindow({start:Kr[0],end:Kr[1]}).valueWindow:Gr.getDataValueWindow();Ur=[this._formatLabel(Qr[0],Yr),this._formatLabel(Qr[1],Yr)]}}var Jr=asc$2(this._handleEnds.slice());rn.call(this,0),rn.call(this,1);function rn(an){var ln=getTransform$1(Fr.handles[an].parent,this.group),dn=transformDirection(an===0?"right":"left",ln),hn=this._handleWidth/2+LABEL_GAP,gn=applyTransform([Jr[an]+(an===0?-hn:hn),this._size[1]/2],ln);zr[an].setStyle({x:gn[0],y:gn[1],verticalAlign:jr===HORIZONTAL?"middle":dn,align:jr===HORIZONTAL?dn:"center",text:Ur[an]})}},_r.prototype._formatLabel=function($r,Br){var Fr=this.dataZoomModel,zr=Fr.get("labelFormatter"),jr=Fr.get("labelPrecision");(jr==null||jr==="auto")&&(jr=Br.getPixelPrecision());var Ur=$r==null||isNaN($r)?"":Br.type==="category"||Br.type==="time"?Br.scale.getLabel({value:Math.round($r)}):$r.toFixed(Math.min(jr,20));return isFunction(zr)?zr($r,Ur):isString(zr)?zr.replace("{value}",Ur):Ur},_r.prototype._showDataInfo=function($r){$r=this._dragging||$r;var Br=this._displayables,Fr=Br.handleLabels;Fr[0].attr("invisible",!$r),Fr[1].attr("invisible",!$r),Br.moveHandle&&this.api[$r?"enterEmphasis":"leaveEmphasis"](Br.moveHandle,1)},_r.prototype._onDragMove=function($r,Br,Fr,zr){this._dragging=!0,stop(zr.event);var jr=this._displayables.sliderGroup.getLocalTransform(),Ur=applyTransform([Br,Fr],jr,!0),Gr=this._updateInterval($r,Ur[0]),Yr=this.dataZoomModel.get("realtime");this._updateView(!Yr),Gr&&Yr&&this._dispatchZoomAction(!0)},_r.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var $r=this.dataZoomModel.get("realtime");!$r&&this._dispatchZoomAction(!1)},_r.prototype._onClickPanel=function($r){var Br=this._size,Fr=this._displayables.sliderGroup.transformCoordToLocal($r.offsetX,$r.offsetY);if(!(Fr[0]<0||Fr[0]>Br[0]||Fr[1]<0||Fr[1]>Br[1])){var zr=this._handleEnds,jr=(zr[0]+zr[1])/2,Ur=this._updateInterval("all",Fr[0]-jr);this._updateView(),Ur&&this._dispatchZoomAction(!1)}},_r.prototype._onBrushStart=function($r){var Br=$r.offsetX,Fr=$r.offsetY;this._brushStart=new Point$1(Br,Fr),this._brushing=!0,this._brushStartTime=+new Date},_r.prototype._onBrushEnd=function($r){if(this._brushing){var Br=this._displayables.brushRect;if(this._brushing=!1,!!Br){Br.attr("ignore",!0);var Fr=Br.shape,zr=+new Date;if(!(zr-this._brushStartTime<200&&Math.abs(Fr.width)<5)){var jr=this._getViewExtent(),Ur=[0,100];this._range=asc$2([linearMap$2(Fr.x,jr,Ur,!0),linearMap$2(Fr.x+Fr.width,jr,Ur,!0)]),this._handleEnds=[Fr.x,Fr.x+Fr.width],this._updateView(),this._dispatchZoomAction(!1)}}}},_r.prototype._onBrush=function($r){this._brushing&&(stop($r.event),this._updateBrushRect($r.offsetX,$r.offsetY))},_r.prototype._updateBrushRect=function($r,Br){var Fr=this._displayables,zr=this.dataZoomModel,jr=Fr.brushRect;jr||(jr=Fr.brushRect=new Rect({silent:!0,style:zr.getModel("brushStyle").getItemStyle()}),Fr.sliderGroup.add(jr)),jr.attr("ignore",!1);var Ur=this._brushStart,Gr=this._displayables.sliderGroup,Yr=Gr.transformCoordToLocal($r,Br),Kr=Gr.transformCoordToLocal(Ur.x,Ur.y),Qr=this._size;Yr[0]=Math.max(Math.min(Qr[0],Yr[0]),0),jr.setShape({x:Kr[0],y:0,width:Yr[0]-Kr[0],height:Qr[1]})},_r.prototype._dispatchZoomAction=function($r){var Br=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:$r?REALTIME_ANIMATION_CONFIG:null,start:Br[0],end:Br[1]})},_r.prototype._findCoordRect=function(){var $r,Br=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!$r&&Br.length){var Fr=Br[0].model.coordinateSystem;$r=Fr.getRect&&Fr.getRect()}if(!$r){var zr=this.api.getWidth(),jr=this.api.getHeight();$r={x:zr*.2,y:jr*.2,width:zr*.6,height:jr*.6}}return $r},_r.type="dataZoom.slider",_r}(DataZoomView$1);function getOtherDim(Fe){var _r={x:"y",y:"x",radius:"angle",angle:"radius"};return _r[Fe]}function getCursor$1(Fe){return Fe==="vertical"?"ns-resize":"ew-resize"}const SliderZoomView$1=SliderZoomView;function install$7(Fe){Fe.registerComponentModel(SliderZoomModel$1),Fe.registerComponentView(SliderZoomView$1),installCommon$1(Fe)}function install$6(Fe){use(install$8),use(install$7)}var visualDefault={get:function(Fe,_r,$r){var Br=clone$4((defaultOption[Fe]||{})[_r]);return $r&&isArray$1(Br)?Br[Br.length-1]:Br}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const visualDefault$1=visualDefault;var mapVisual=VisualMapping$1.mapVisual,eachVisual=VisualMapping$1.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.stateList=["inRange","outOfRange"],$r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],$r.layoutMode={type:"box",ignoreSize:!0},$r.dataBound=[-1/0,1/0],$r.targetVisuals={},$r.controllerVisuals={},$r}return _r.prototype.init=function($r,Br,Fr){this.mergeDefaultAndTheme($r,Fr)},_r.prototype.optionUpdated=function($r,Br){var Fr=this.option;!Br&&replaceVisualOption(Fr,$r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},_r.prototype.resetVisual=function($r){var Br=this.stateList;$r=bind$1($r,this),this.controllerVisuals=createVisualMappings(this.option.controller,Br,$r),this.targetVisuals=createVisualMappings(this.option.target,Br,$r)},_r.prototype.getItemSymbol=function(){return null},_r.prototype.getTargetSeriesIndices=function(){var $r=this.option.seriesIndex,Br=[];return $r==null||$r==="all"?this.ecModel.eachSeries(function(Fr,zr){Br.push(zr)}):Br=normalizeToArray($r),Br},_r.prototype.eachTargetSeries=function($r,Br){each$f(this.getTargetSeriesIndices(),function(Fr){var zr=this.ecModel.getSeriesByIndex(Fr);zr&&$r.call(Br,zr)},this)},_r.prototype.isTargetSeries=function($r){var Br=!1;return this.eachTargetSeries(function(Fr){Fr===$r&&(Br=!0)}),Br},_r.prototype.formatValueText=function($r,Br,Fr){var zr=this.option,jr=zr.precision,Ur=this.dataBound,Gr=zr.formatter,Yr;Fr=Fr||["<",">"],isArray$1($r)&&($r=$r.slice(),Yr=!0);var Kr=Br?$r:Yr?[Qr($r[0]),Qr($r[1])]:Qr($r);if(isString(Gr))return Gr.replace("{value}",Yr?Kr[0]:Kr).replace("{value2}",Yr?Kr[1]:Kr);if(isFunction(Gr))return Yr?Gr($r[0],$r[1]):Gr($r);if(Yr)return $r[0]===Ur[0]?Fr[0]+" "+Kr[1]:$r[1]===Ur[1]?Fr[1]+" "+Kr[0]:Kr[0]+" - "+Kr[1];return Kr;function Qr(Jr){return Jr===Ur[0]?"min":Jr===Ur[1]?"max":(+Jr).toFixed(Math.min(jr,20))}},_r.prototype.resetExtent=function(){var $r=this.option,Br=asc([$r.min,$r.max]);this._dataExtent=Br},_r.prototype.getDataDimensionIndex=function($r){var Br=this.option.dimension;if(Br!=null)return $r.getDimensionIndex(Br);for(var Fr=$r.dimensions,zr=Fr.length-1;zr>=0;zr--){var jr=Fr[zr],Ur=$r.getDimensionInfo(jr);if(!Ur.isCalculationCoord)return Ur.storeDimIndex}},_r.prototype.getExtent=function(){return this._dataExtent.slice()},_r.prototype.completeVisualOption=function(){var $r=this.ecModel,Br=this.option,Fr={inRange:Br.inRange,outOfRange:Br.outOfRange},zr=Br.target||(Br.target={}),jr=Br.controller||(Br.controller={});merge(zr,Fr),merge(jr,Fr);var Ur=this.isCategory();Gr.call(this,zr),Gr.call(this,jr),Yr.call(this,zr,"inRange","outOfRange"),Kr.call(this,jr);function Gr(Qr){isArray(Br.color)&&!Qr.inRange&&(Qr.inRange={color:Br.color.slice().reverse()}),Qr.inRange=Qr.inRange||{color:$r.get("gradientColor")}}function Yr(Qr,Jr,rn){var an=Qr[Jr],ln=Qr[rn];an&&!ln&&(ln=Qr[rn]={},each$2(an,function(dn,hn){if(VisualMapping$1.isValidType(hn)){var gn=visualDefault$1.get(hn,"inactive",Ur);gn!=null&&(ln[hn]=gn,hn==="color"&&!ln.hasOwnProperty("opacity")&&!ln.hasOwnProperty("colorAlpha")&&(ln.opacity=[0,0]))}}))}function Kr(Qr){var Jr=(Qr.inRange||{}).symbol||(Qr.outOfRange||{}).symbol,rn=(Qr.inRange||{}).symbolSize||(Qr.outOfRange||{}).symbolSize,an=this.get("inactiveColor"),ln=this.getItemSymbol(),dn=ln||"roundRect";each$2(this.stateList,function(hn){var gn=this.itemSize,bn=Qr[hn];bn||(bn=Qr[hn]={color:Ur?an:[an]}),bn.symbol==null&&(bn.symbol=Jr&&clone$4(Jr)||(Ur?dn:[dn])),bn.symbolSize==null&&(bn.symbolSize=rn&&clone$4(rn)||(Ur?gn[0]:[gn[0],gn[0]])),bn.symbol=mapVisual(bn.symbol,function(_n){return _n==="none"?dn:_n});var kn=bn.symbolSize;if(kn!=null){var Sn=-1/0;eachVisual(kn,function(_n){_n>Sn&&(Sn=_n)}),bn.symbolSize=mapVisual(kn,function(_n){return linearMap$1(_n,[0,Sn],[0,gn[0]],!0)})}},this)}},_r.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},_r.prototype.isCategory=function(){return!!this.option.categories},_r.prototype.setSelected=function($r){},_r.prototype.getSelected=function(){return null},_r.prototype.getValueState=function($r){return null},_r.prototype.getVisualMeta=function($r){return null},_r.type="visualMap",_r.dependencies=["series"],_r.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},_r}(ComponentModel$1);const VisualMapModel$1=VisualMapModel;var DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.optionUpdated=function($r,Br){Fe.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(Fr){Fr.mappingMethod="linear",Fr.dataExtent=this.getExtent()}),this._resetRange()},_r.prototype.resetItemSize=function(){Fe.prototype.resetItemSize.apply(this,arguments);var $r=this.itemSize;($r[0]==null||isNaN($r[0]))&&($r[0]=DEFAULT_BAR_BOUND[0]),($r[1]==null||isNaN($r[1]))&&($r[1]=DEFAULT_BAR_BOUND[1])},_r.prototype._resetRange=function(){var $r=this.getExtent(),Br=this.option.range;!Br||Br.auto?($r.auto=1,this.option.range=$r):isArray$1(Br)&&(Br[0]>Br[1]&&Br.reverse(),Br[0]=Math.max(Br[0],$r[0]),Br[1]=Math.min(Br[1],$r[1]))},_r.prototype.completeVisualOption=function(){Fe.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function($r){var Br=this.option.controller[$r].symbolSize;Br&&Br[0]!==Br[1]&&(Br[0]=Br[1]/3)},this)},_r.prototype.setSelected=function($r){this.option.range=$r.slice(),this._resetRange()},_r.prototype.getSelected=function(){var $r=this.getExtent(),Br=asc$2((this.get("range")||[]).slice());return Br[0]>$r[1]&&(Br[0]=$r[1]),Br[1]>$r[1]&&(Br[1]=$r[1]),Br[0]<$r[0]&&(Br[0]=$r[0]),Br[1]<$r[0]&&(Br[1]=$r[0]),Br},_r.prototype.getValueState=function($r){var Br=this.option.range,Fr=this.getExtent();return(Br[0]<=Fr[0]||Br[0]<=$r)&&(Br[1]>=Fr[1]||$r<=Br[1])?"inRange":"outOfRange"},_r.prototype.findTargetDataIndices=function($r){var Br=[];return this.eachTargetSeries(function(Fr){var zr=[],jr=Fr.getData();jr.each(this.getDataDimensionIndex(jr),function(Ur,Gr){$r[0]<=Ur&&Ur<=$r[1]&&zr.push(Gr)},this),Br.push({seriesId:Fr.id,dataIndex:zr})},this),Br},_r.prototype.getVisualMeta=function($r){var Br=getColorStopValues(this,"outOfRange",this.getExtent()),Fr=getColorStopValues(this,"inRange",this.option.range.slice()),zr=[];function jr(rn,an){zr.push({value:rn,color:$r(rn,an)})}for(var Ur=0,Gr=0,Yr=Fr.length,Kr=Br.length;Gr<Kr&&(!Fr.length||Br[Gr]<=Fr[0]);Gr++)Br[Gr]<Fr[Ur]&&jr(Br[Gr],"outOfRange");for(var Qr=1;Ur<Yr;Ur++,Qr=0)Qr&&zr.length&&jr(Fr[Ur],"outOfRange"),jr(Fr[Ur],"inRange");for(var Qr=1;Gr<Kr;Gr++)(!Fr.length||Fr[Fr.length-1]<Br[Gr])&&(Qr&&(zr.length&&jr(zr[zr.length-1].value,"outOfRange"),Qr=0),jr(Br[Gr],"outOfRange"));var Jr=zr.length;return{stops:zr,outerColors:[Jr?zr[0].color:"transparent",Jr?zr[Jr-1].color:"transparent"]}},_r.type="visualMap.continuous",_r.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),_r}(VisualMapModel$1);function getColorStopValues(Fe,_r,$r){if($r[0]===$r[1])return $r.slice();for(var Br=200,Fr=($r[1]-$r[0])/Br,zr=$r[0],jr=[],Ur=0;Ur<=Br&&zr<$r[1];Ur++)jr.push(zr),zr+=Fr;return jr.push($r[1]),jr}const ContinuousModel$1=ContinuousModel;var VisualMapView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r.autoPositionValues={left:1,right:1,top:1,bottom:1},$r}return _r.prototype.init=function($r,Br){this.ecModel=$r,this.api=Br},_r.prototype.render=function($r,Br,Fr,zr){if(this.visualMapModel=$r,$r.get("show")===!1){this.group.removeAll();return}this.doRender($r,Br,Fr,zr)},_r.prototype.renderBackground=function($r){var Br=this.visualMapModel,Fr=normalizeCssArray(Br.get("padding")||0),zr=$r.getBoundingRect();$r.add(new Rect$3({z2:-1,silent:!0,shape:{x:zr.x-Fr[3],y:zr.y-Fr[0],width:zr.width+Fr[3]+Fr[1],height:zr.height+Fr[0]+Fr[2]},style:{fill:Br.get("backgroundColor"),stroke:Br.get("borderColor"),lineWidth:Br.get("borderWidth")}}))},_r.prototype.getControllerVisual=function($r,Br,Fr){Fr=Fr||{};var zr=Fr.forceState,jr=this.visualMapModel,Ur={};if(Br==="color"){var Gr=jr.get("contentColor");Ur.color=Gr}function Yr(rn){return Ur[rn]}function Kr(rn,an){Ur[rn]=an}var Qr=jr.controllerVisuals[zr||jr.getValueState($r)],Jr=VisualMapping$1.prepareVisualTypes(Qr);return each$f(Jr,function(rn){var an=Qr[rn];Fr.convertOpacityToAlpha&&rn==="opacity"&&(rn="colorAlpha",an=Qr.__alphaForOpacity),VisualMapping$1.dependsOn(rn,Br)&&an&&an.applyVisual($r,Yr,Kr)}),Ur[Br]},_r.prototype.positionGroup=function($r){var Br=this.visualMapModel,Fr=this.api;positionElement($r,Br.getBoxLayoutParams(),{width:Fr.getWidth(),height:Fr.getHeight()})},_r.prototype.doRender=function($r,Br,Fr,zr){},_r.type="visualMap",_r}(ComponentView$1);const VisualMapView$1=VisualMapView;var paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(Fe,_r,$r){var Br=Fe.option,Fr=Br.align;if(Fr!=null&&Fr!=="auto")return Fr;for(var zr={width:_r.getWidth(),height:_r.getHeight()},jr=Br.orient==="horizontal"?1:0,Ur=paramsSet[jr],Gr=[0,null,10],Yr={},Kr=0;Kr<3;Kr++)Yr[paramsSet[1-jr][Kr]]=Gr[Kr],Yr[Ur[Kr]]=Kr===2?$r[0]:Br[Ur[Kr]];var Qr=[["x","width",3],["y","height",0]][jr],Jr=getLayoutRect(Yr,zr,Br.padding);return Ur[(Jr.margin[Qr[2]]||0)+Jr[Qr[0]]+Jr[Qr[1]]*.5<zr[Qr[1]]*.5?0:1]}function makeHighDownBatch(Fe,_r){return each$f(Fe||[],function($r){$r.dataIndex!=null&&($r.dataIndexInside=$r.dataIndex,$r.dataIndex=null),$r.highlightKey="visualMap"+(_r?_r.componentIndex:"")}),Fe}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r._shapes={},$r._dataInterval=[],$r._handleEnds=[],$r._hoverLinkDataIndices=[],$r}return _r.prototype.doRender=function($r,Br,Fr,zr){this._api=Fr,(!zr||zr.type!=="selectDataRange"||zr.from!==this.uid)&&this._buildView()},_r.prototype._buildView=function(){this.group.removeAll();var $r=this.visualMapModel,Br=this.group;this._orient=$r.get("orient"),this._useHandle=$r.get("calculable"),this._resetInterval(),this._renderBar(Br);var Fr=$r.get("text");this._renderEndsText(Br,Fr,0),this._renderEndsText(Br,Fr,1),this._updateView(!0),this.renderBackground(Br),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(Br)},_r.prototype._renderEndsText=function($r,Br,Fr){if(Br){var zr=Br[1-Fr];zr=zr!=null?zr+"":"";var jr=this.visualMapModel,Ur=jr.get("textGap"),Gr=jr.itemSize,Yr=this._shapes.mainGroup,Kr=this._applyTransform([Gr[0]/2,Fr===0?-Ur:Gr[1]+Ur],Yr),Qr=this._applyTransform(Fr===0?"bottom":"top",Yr),Jr=this._orient,rn=this.visualMapModel.textStyleModel;this.group.add(new ZRText$1({style:createTextStyle$1(rn,{x:Kr[0],y:Kr[1],verticalAlign:Jr==="horizontal"?"middle":Qr,align:Jr==="horizontal"?Qr:"center",text:zr})}))}},_r.prototype._renderBar=function($r){var Br=this.visualMapModel,Fr=this._shapes,zr=Br.itemSize,jr=this._orient,Ur=this._useHandle,Gr=getItemAlign(Br,this.api,zr),Yr=Fr.mainGroup=this._createBarGroup(Gr),Kr=new Group$4;Yr.add(Kr),Kr.add(Fr.outOfRange=createPolygon()),Kr.add(Fr.inRange=createPolygon(null,Ur?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),Kr.setClipPath(new Rect$3({shape:{x:0,y:0,width:zr[0],height:zr[1],r:3}}));var Qr=Br.textStyleModel.getTextRect("å½"),Jr=mathMax(Qr.width,Qr.height);Ur&&(Fr.handleThumbs=[],Fr.handleLabels=[],Fr.handleLabelPoints=[],this._createHandle(Br,Yr,0,zr,Jr,jr),this._createHandle(Br,Yr,1,zr,Jr,jr)),this._createIndicator(Br,Yr,zr,Jr,jr),$r.add(Yr)},_r.prototype._createHandle=function($r,Br,Fr,zr,jr,Ur){var Gr=bind$1(this._dragHandle,this,Fr,!1),Yr=bind$1(this._dragHandle,this,Fr,!0),Kr=parsePercent$1($r.get("handleSize"),zr[0]),Qr=createSymbol$1($r.get("handleIcon"),-Kr/2,-Kr/2,Kr,Kr,null,!0),Jr=getCursor(this._orient);Qr.attr({cursor:Jr,draggable:!0,drift:Gr,ondragend:Yr,onmousemove:function(hn){stop(hn.event)}}),Qr.x=zr[0]/2,Qr.useStyle($r.getModel("handleStyle").getItemStyle()),Qr.setStyle({strokeNoScale:!0,strokeFirst:!0}),Qr.style.lineWidth*=2,Qr.ensureState("emphasis").style=$r.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(Qr,!0),Br.add(Qr);var rn=this.visualMapModel.textStyleModel,an=new ZRText$1({cursor:Jr,draggable:!0,drift:Gr,onmousemove:function(hn){stop(hn.event)},ondragend:Yr,style:createTextStyle$1(rn,{x:0,y:0,text:""})});an.ensureState("blur").style={opacity:.1},an.stateTransition={duration:200},this.group.add(an);var ln=[Kr,0],dn=this._shapes;dn.handleThumbs[Fr]=Qr,dn.handleLabelPoints[Fr]=ln,dn.handleLabels[Fr]=an},_r.prototype._createIndicator=function($r,Br,Fr,zr,jr){var Ur=parsePercent$1($r.get("indicatorSize"),Fr[0]),Gr=createSymbol$1($r.get("indicatorIcon"),-Ur/2,-Ur/2,Ur,Ur,null,!0);Gr.attr({cursor:"move",invisible:!0,silent:!0,x:Fr[0]/2});var Yr=$r.getModel("indicatorStyle").getItemStyle();if(Gr instanceof ZRImage$1){var Kr=Gr.style;Gr.useStyle(extend$1({image:Kr.image,x:Kr.x,y:Kr.y,width:Kr.width,height:Kr.height},Yr))}else Gr.useStyle(Yr);Br.add(Gr);var Qr=this.visualMapModel.textStyleModel,Jr=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle$1(Qr,{x:0,y:0,text:""})});this.group.add(Jr);var rn=[(jr==="horizontal"?zr/2:HOVER_LINK_OUT)+Fr[0]/2,0],an=this._shapes;an.indicator=Gr,an.indicatorLabel=Jr,an.indicatorLabelPoint=rn,this._firstShowIndicator=!0},_r.prototype._dragHandle=function($r,Br,Fr,zr){if(this._useHandle){if(this._dragging=!Br,!Br){var jr=this._applyTransform([Fr,zr],this._shapes.mainGroup,!0);this._updateInterval($r,jr[1]),this._hideIndicator(),this._updateView()}Br===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),Br?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[$r],!1)}},_r.prototype._resetInterval=function(){var $r=this.visualMapModel,Br=this._dataInterval=$r.getSelected(),Fr=$r.getExtent(),zr=[0,$r.itemSize[1]];this._handleEnds=[linearMap(Br[0],Fr,zr,!0),linearMap(Br[1],Fr,zr,!0)]},_r.prototype._updateInterval=function($r,Br){Br=Br||0;var Fr=this.visualMapModel,zr=this._handleEnds,jr=[0,Fr.itemSize[1]];sliderMove(Br,zr,jr,$r,0);var Ur=Fr.getExtent();this._dataInterval=[linearMap(zr[0],jr,Ur,!0),linearMap(zr[1],jr,Ur,!0)]},_r.prototype._updateView=function($r){var Br=this.visualMapModel,Fr=Br.getExtent(),zr=this._shapes,jr=[0,Br.itemSize[1]],Ur=$r?jr:this._handleEnds,Gr=this._createBarVisual(this._dataInterval,Fr,Ur,"inRange"),Yr=this._createBarVisual(Fr,Fr,jr,"outOfRange");zr.inRange.setStyle({fill:Gr.barColor}).setShape("points",Gr.barPoints),zr.outOfRange.setStyle({fill:Yr.barColor}).setShape("points",Yr.barPoints),this._updateHandle(Ur,Gr)},_r.prototype._createBarVisual=function($r,Br,Fr,zr){var jr={forceState:zr,convertOpacityToAlpha:!0},Ur=this._makeColorGradient($r,jr),Gr=[this.getControllerVisual($r[0],"symbolSize",jr),this.getControllerVisual($r[1],"symbolSize",jr)],Yr=this._createBarPoints(Fr,Gr);return{barColor:new LinearGradient$1(0,0,0,1,Ur),barPoints:Yr,handlesColor:[Ur[0].color,Ur[Ur.length-1].color]}},_r.prototype._makeColorGradient=function($r,Br){var Fr=100,zr=[],jr=($r[1]-$r[0])/Fr;zr.push({color:this.getControllerVisual($r[0],"color",Br),offset:0});for(var Ur=1;Ur<Fr;Ur++){var Gr=$r[0]+jr*Ur;if(Gr>$r[1])break;zr.push({color:this.getControllerVisual(Gr,"color",Br),offset:Ur/Fr})}return zr.push({color:this.getControllerVisual($r[1],"color",Br),offset:1}),zr},_r.prototype._createBarPoints=function($r,Br){var Fr=this.visualMapModel.itemSize;return[[Fr[0]-Br[0],$r[0]],[Fr[0],$r[0]],[Fr[0],$r[1]],[Fr[0]-Br[1],$r[1]]]},_r.prototype._createBarGroup=function($r){var Br=this._orient,Fr=this.visualMapModel.get("inverse");return new Group$4(Br==="horizontal"&&!Fr?{scaleX:$r==="bottom"?1:-1,rotation:Math.PI/2}:Br==="horizontal"&&Fr?{scaleX:$r==="bottom"?-1:1,rotation:-Math.PI/2}:Br==="vertical"&&!Fr?{scaleX:$r==="left"?1:-1,scaleY:-1}:{scaleX:$r==="left"?1:-1})},_r.prototype._updateHandle=function($r,Br){if(this._useHandle){var Fr=this._shapes,zr=this.visualMapModel,jr=Fr.handleThumbs,Ur=Fr.handleLabels,Gr=zr.itemSize,Yr=zr.getExtent();each$1([0,1],function(Kr){var Qr=jr[Kr];Qr.setStyle("fill",Br.handlesColor[Kr]),Qr.y=$r[Kr];var Jr=linearMap($r[Kr],[0,Gr[1]],Yr,!0),rn=this.getControllerVisual(Jr,"symbolSize");Qr.scaleX=Qr.scaleY=rn/Gr[0],Qr.x=Gr[0]-rn/2;var an=applyTransform(Fr.handleLabelPoints[Kr],getTransform$1(Qr,this.group));Ur[Kr].setStyle({x:an[0],y:an[1],text:zr.formatValueText(this._dataInterval[Kr]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",Fr.mainGroup):"center"})},this)}},_r.prototype._showIndicator=function($r,Br,Fr,zr){var jr=this.visualMapModel,Ur=jr.getExtent(),Gr=jr.itemSize,Yr=[0,Gr[1]],Kr=this._shapes,Qr=Kr.indicator;if(Qr){Qr.attr("invisible",!1);var Jr={convertOpacityToAlpha:!0},rn=this.getControllerVisual($r,"color",Jr),an=this.getControllerVisual($r,"symbolSize"),ln=linearMap($r,Ur,Yr,!0),dn=Gr[0]-an/2,hn={x:Qr.x,y:Qr.y};Qr.y=ln,Qr.x=dn;var gn=applyTransform(Kr.indicatorLabelPoint,getTransform$1(Qr,this.group)),bn=Kr.indicatorLabel;bn.attr("invisible",!1);var kn=this._applyTransform("left",Kr.mainGroup),Sn=this._orient,_n=Sn==="horizontal";bn.setStyle({text:(Fr||"")+jr.formatValueText(Br),verticalAlign:_n?kn:"middle",align:_n?"center":kn});var pn={x:dn,y:ln,style:{fill:rn}},Cn={style:{x:gn[0],y:gn[1]}};if(jr.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var En={duration:100,easing:"cubicInOut",additive:!0};Qr.x=hn.x,Qr.y=hn.y,Qr.animateTo(pn,En),bn.animateTo(Cn,En)}else Qr.attr(pn),bn.attr(Cn);this._firstShowIndicator=!1;var Pn=this._shapes.handleLabels;if(Pn)for(var On=0;On<Pn.length;On++)this._api.enterBlur(Pn[On])}},_r.prototype._enableHoverLinkToSeries=function(){var $r=this;this._shapes.mainGroup.on("mousemove",function(Br){if($r._hovering=!0,!$r._dragging){var Fr=$r.visualMapModel.itemSize,zr=$r._applyTransform([Br.offsetX,Br.offsetY],$r._shapes.mainGroup,!0,!0);zr[1]=mathMin(mathMax(0,zr[1]),Fr[1]),$r._doHoverLinkToSeries(zr[1],0<=zr[0]&&zr[0]<=Fr[0])}}).on("mouseout",function(){$r._hovering=!1,!$r._dragging&&$r._clearHoverLinkToSeries()})},_r.prototype._enableHoverLinkFromSeries=function(){var $r=this.api.getZr();this.visualMapModel.option.hoverLink?($r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),$r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_r.prototype._doHoverLinkToSeries=function($r,Br){var Fr=this.visualMapModel,zr=Fr.itemSize;if(Fr.option.hoverLink){var jr=[0,zr[1]],Ur=Fr.getExtent();$r=mathMin(mathMax(jr[0],$r),jr[1]);var Gr=getHalfHoverLinkSize(Fr,Ur,jr),Yr=[$r-Gr,$r+Gr],Kr=linearMap($r,jr,Ur,!0),Qr=[linearMap(Yr[0],jr,Ur,!0),linearMap(Yr[1],jr,Ur,!0)];Yr[0]<jr[0]&&(Qr[0]=-1/0),Yr[1]>jr[1]&&(Qr[1]=1/0),Br&&(Qr[0]===-1/0?this._showIndicator(Kr,Qr[1],"< ",Gr):Qr[1]===1/0?this._showIndicator(Kr,Qr[0],"> ",Gr):this._showIndicator(Kr,Kr,"â ",Gr));var Jr=this._hoverLinkDataIndices,rn=[];(Br||useHoverLinkOnHandle(Fr))&&(rn=this._hoverLinkDataIndices=Fr.findTargetDataIndices(Qr));var an=compressBatches(Jr,rn);this._dispatchHighDown("downplay",makeHighDownBatch(an[0],Fr)),this._dispatchHighDown("highlight",makeHighDownBatch(an[1],Fr))}},_r.prototype._hoverLinkFromSeriesMouseOver=function($r){var Br;if(findEventDispatcher($r.target,function(Gr){var Yr=getECData(Gr);if(Yr.dataIndex!=null)return Br=Yr,!0},!0),!!Br){var Fr=this.ecModel.getSeriesByIndex(Br.seriesIndex),zr=this.visualMapModel;if(zr.isTargetSeries(Fr)){var jr=Fr.getData(Br.dataType),Ur=jr.getStore().get(zr.getDataDimensionIndex(jr),Br.dataIndex);isNaN(Ur)||this._showIndicator(Ur,Ur)}}},_r.prototype._hideIndicator=function(){var $r=this._shapes;$r.indicator&&$r.indicator.attr("invisible",!0),$r.indicatorLabel&&$r.indicatorLabel.attr("invisible",!0);var Br=this._shapes.handleLabels;if(Br)for(var Fr=0;Fr<Br.length;Fr++)this._api.leaveBlur(Br[Fr])},_r.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var $r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch($r,this.visualMapModel)),$r.length=0},_r.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var $r=this.api.getZr();$r.off("mouseover",this._hoverLinkFromSeriesMouseOver),$r.off("mouseout",this._hideIndicator)},_r.prototype._applyTransform=function($r,Br,Fr,zr){var jr=getTransform$1(Br,zr?null:this.group);return isArray$1($r)?applyTransform($r,jr,Fr):transformDirection($r,jr,Fr)},_r.prototype._dispatchHighDown=function($r,Br){Br&&Br.length&&this.api.dispatchAction({type:$r,batch:Br})},_r.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},_r.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},_r.type="visualMap.continuous",_r}(VisualMapView$1);function createPolygon(Fe,_r,$r,Br){return new Polygon$1({shape:{points:Fe},draggable:!!$r,cursor:_r,drift:$r,onmousemove:function(Fr){stop(Fr.event)},ondragend:Br})}function getHalfHoverLinkSize(Fe,_r,$r){var Br=HOVER_LINK_SIZE/2,Fr=Fe.get("hoverLinkDataSize");return Fr&&(Br=linearMap(Fr,_r,$r,!0)/2),Br}function useHoverLinkOnHandle(Fe){var _r=Fe.get("hoverLinkOnHandle");return!!(_r??Fe.get("realtime"))}function getCursor(Fe){return Fe==="vertical"?"ns-resize":"ew-resize"}const ContinuousView$1=ContinuousView;var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(Fe,_r){_r.eachComponent({mainType:"visualMap",query:Fe},function($r){$r.setSelected(Fe.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(Fe,_r){var $r=[];return _r.eachComponent("visualMap",function(Br){var Fr=Fe.pipelineContext;!Br.isTargetSeries(Fe)||Fr&&Fr.large||$r.push(incrementalApplyVisual(Br.stateList,Br.targetVisuals,bind$1(Br.getValueState,Br),Br.getDataDimensionIndex(Fe.getData())))}),$r}},{createOnAllSeries:!0,reset:function(Fe,_r){var $r=Fe.getData(),Br=[];_r.eachComponent("visualMap",function(Fr){if(Fr.isTargetSeries(Fe)){var zr=Fr.getVisualMeta(bind$1(getColorVisual,null,Fe,Fr))||{stops:[],outerColors:[]},jr=Fr.getDataDimensionIndex($r);jr>=0&&(zr.dimension=jr,Br.push(zr))}}),Fe.getData().setVisual("visualMeta",Br)}}];function getColorVisual(Fe,_r,$r,Br){for(var Fr=_r.targetVisuals[Br],zr=VisualMapping$1.prepareVisualTypes(Fr),jr={color:getVisualFromData(Fe.getData(),"color")},Ur=0,Gr=zr.length;Ur<Gr;Ur++){var Yr=zr[Ur],Kr=Fr[Yr==="opacity"?"__alphaForOpacity":Yr];Kr&&Kr.applyVisual($r,Qr,Jr)}return jr.color;function Qr(rn){return jr[rn]}function Jr(rn,an){jr[rn]=an}}var each=each$f;function visualMapPreprocessor(Fe){var _r=Fe&&Fe.visualMap;isArray$1(_r)||(_r=_r?[_r]:[]),each(_r,function($r){if($r){has($r,"splitList")&&!has($r,"pieces")&&($r.pieces=$r.splitList,delete $r.splitList);var Br=$r.pieces;Br&&isArray$1(Br)&&each(Br,function(Fr){isObject$3(Fr)&&(has(Fr,"start")&&!has(Fr,"min")&&(Fr.min=Fr.start),has(Fr,"end")&&!has(Fr,"max")&&(Fr.max=Fr.end))})}})}function has(Fe,_r){return Fe&&Fe.hasOwnProperty&&Fe.hasOwnProperty(_r)}var installed=!1;function installCommon(Fe){installed||(installed=!0,Fe.registerSubTypeDefaulter("visualMap",function(_r){return!_r.categories&&(!(_r.pieces?_r.pieces.length>0:_r.splitNumber>0)||_r.calculable)?"continuous":"piecewise"}),Fe.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(_r){Fe.registerVisual(Fe.PRIORITY.VISUAL.COMPONENT,_r)}),Fe.registerPreprocessor(visualMapPreprocessor))}function install$5(Fe){Fe.registerComponentModel(ContinuousModel$1),Fe.registerComponentView(ContinuousView$1),installCommon(Fe)}var PiecewiseModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r._pieceList=[],$r}return _r.prototype.optionUpdated=function($r,Br){Fe.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var Fr=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected($r,Br);var zr=this.option.categories;this.resetVisual(function(jr,Ur){Fr==="categories"?(jr.mappingMethod="category",jr.categories=clone$4(zr)):(jr.dataExtent=this.getExtent(),jr.mappingMethod="piecewise",jr.pieceList=map$1(this._pieceList,function(Gr){return Gr=clone$4(Gr),Ur!=="inRange"&&(Gr.visual=null),Gr}))})},_r.prototype.completeVisualOption=function(){var $r=this.option,Br={},Fr=VisualMapping$1.listVisualTypes(),zr=this.isCategory();each$f($r.pieces,function(Ur){each$f(Fr,function(Gr){Ur.hasOwnProperty(Gr)&&(Br[Gr]=1)})}),each$f(Br,function(Ur,Gr){var Yr=!1;each$f(this.stateList,function(Kr){Yr=Yr||jr($r,Kr,Gr)||jr($r.target,Kr,Gr)},this),!Yr&&each$f(this.stateList,function(Kr){($r[Kr]||($r[Kr]={}))[Gr]=visualDefault$1.get(Gr,Kr==="inRange"?"active":"inactive",zr)})},this);function jr(Ur,Gr,Yr){return Ur&&Ur[Gr]&&Ur[Gr].hasOwnProperty(Yr)}Fe.prototype.completeVisualOption.apply(this,arguments)},_r.prototype._resetSelected=function($r,Br){var Fr=this.option,zr=this._pieceList,jr=(Br?Fr:$r).selected||{};if(Fr.selected=jr,each$f(zr,function(Gr,Yr){var Kr=this.getSelectedMapKey(Gr);jr.hasOwnProperty(Kr)||(jr[Kr]=!0)},this),Fr.selectedMode==="single"){var Ur=!1;each$f(zr,function(Gr,Yr){var Kr=this.getSelectedMapKey(Gr);jr[Kr]&&(Ur?jr[Kr]=!1:Ur=!0)},this)}},_r.prototype.getItemSymbol=function(){return this.get("itemSymbol")},_r.prototype.getSelectedMapKey=function($r){return this._mode==="categories"?$r.value+"":$r.index+""},_r.prototype.getPieceList=function(){return this._pieceList},_r.prototype._determineMode=function(){var $r=this.option;return $r.pieces&&$r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},_r.prototype.setSelected=function($r){this.option.selected=clone$4($r)},_r.prototype.getValueState=function($r){var Br=VisualMapping$1.findPieceIndex($r,this._pieceList);return Br!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[Br])]?"inRange":"outOfRange"},_r.prototype.findTargetDataIndices=function($r){var Br=[],Fr=this._pieceList;return this.eachTargetSeries(function(zr){var jr=[],Ur=zr.getData();Ur.each(this.getDataDimensionIndex(Ur),function(Gr,Yr){var Kr=VisualMapping$1.findPieceIndex(Gr,Fr);Kr===$r&&jr.push(Yr)},this),Br.push({seriesId:zr.id,dataIndex:jr})},this),Br},_r.prototype.getRepresentValue=function($r){var Br;if(this.isCategory())Br=$r.value;else if($r.value!=null)Br=$r.value;else{var Fr=$r.interval||[];Br=Fr[0]===-1/0&&Fr[1]===1/0?0:(Fr[0]+Fr[1])/2}return Br},_r.prototype.getVisualMeta=function($r){if(this.isCategory())return;var Br=[],Fr=["",""],zr=this;function jr(Kr,Qr){var Jr=zr.getRepresentValue({interval:Kr});Qr||(Qr=zr.getValueState(Jr));var rn=$r(Jr,Qr);Kr[0]===-1/0?Fr[0]=rn:Kr[1]===1/0?Fr[1]=rn:Br.push({value:Kr[0],color:rn},{value:Kr[1],color:rn})}var Ur=this._pieceList.slice();if(!Ur.length)Ur.push({interval:[-1/0,1/0]});else{var Gr=Ur[0].interval[0];Gr!==-1/0&&Ur.unshift({interval:[-1/0,Gr]}),Gr=Ur[Ur.length-1].interval[1],Gr!==1/0&&Ur.push({interval:[Gr,1/0]})}var Yr=-1/0;return each$f(Ur,function(Kr){var Qr=Kr.interval;Qr&&(Qr[0]>Yr&&jr([Yr,Qr[0]],"outOfRange"),jr(Qr.slice()),Yr=Qr[1])},this),{stops:Br,outerColors:Fr}},_r.type="visualMap.piecewise",_r.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),_r}(VisualMapModel$1),resetMethods={splitNumber:function(Fe){var _r=this.option,$r=Math.min(_r.precision,20),Br=this.getExtent(),Fr=_r.splitNumber;Fr=Math.max(parseInt(Fr,10),1),_r.splitNumber=Fr;for(var zr=(Br[1]-Br[0])/Fr;+zr.toFixed($r)!==zr&&$r<5;)$r++;_r.precision=$r,zr=+zr.toFixed($r),_r.minOpen&&Fe.push({interval:[-1/0,Br[0]],close:[0,0]});for(var jr=0,Ur=Br[0];jr<Fr;Ur+=zr,jr++){var Gr=jr===Fr-1?Br[1]:Ur+zr;Fe.push({interval:[Ur,Gr],close:[1,1]})}_r.maxOpen&&Fe.push({interval:[Br[1],1/0],close:[0,0]}),reformIntervals(Fe),each$f(Fe,function(Yr,Kr){Yr.index=Kr,Yr.text=this.formatValueText(Yr.interval)},this)},categories:function(Fe){var _r=this.option;each$f(_r.categories,function($r){Fe.push({text:this.formatValueText($r,!0),value:$r})},this),normalizeReverse(_r,Fe)},pieces:function(Fe){var _r=this.option;each$f(_r.pieces,function($r,Br){isObject$3($r)||($r={value:$r});var Fr={text:"",index:Br};if($r.label!=null&&(Fr.text=$r.label),$r.hasOwnProperty("value")){var zr=Fr.value=$r.value;Fr.interval=[zr,zr],Fr.close=[1,1]}else{for(var jr=Fr.interval=[],Ur=Fr.close=[0,0],Gr=[1,0,1],Yr=[-1/0,1/0],Kr=[],Qr=0;Qr<2;Qr++){for(var Jr=[["gte","gt","min"],["lte","lt","max"]][Qr],rn=0;rn<3&&jr[Qr]==null;rn++)jr[Qr]=$r[Jr[rn]],Ur[Qr]=Gr[rn],Kr[Qr]=rn===2;jr[Qr]==null&&(jr[Qr]=Yr[Qr])}Kr[0]&&jr[1]===1/0&&(Ur[0]=0),Kr[1]&&jr[0]===-1/0&&(Ur[1]=0),jr[0]===jr[1]&&Ur[0]&&Ur[1]&&(Fr.value=jr[0])}Fr.visual=VisualMapping$1.retrieveVisuals($r),Fe.push(Fr)},this),normalizeReverse(_r,Fe),reformIntervals(Fe),each$f(Fe,function($r){var Br=$r.close,Fr=[["<","â¤"][Br[1]],[">","â¥"][Br[0]]];$r.text=$r.text||this.formatValueText($r.value!=null?$r.value:$r.interval,!1,Fr)},this)}};function normalizeReverse(Fe,_r){var $r=Fe.inverse;(Fe.orient==="vertical"?!$r:$r)&&_r.reverse()}const PiecewiseModel$1=PiecewiseModel;var PiecewiseVisualMapView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type=_r.type,$r}return _r.prototype.doRender=function(){var $r=this.group;$r.removeAll();var Br=this.visualMapModel,Fr=Br.get("textGap"),zr=Br.textStyleModel,jr=zr.getFont(),Ur=zr.getTextColor(),Gr=this._getItemAlign(),Yr=Br.itemSize,Kr=this._getViewData(),Qr=Kr.endsText,Jr=retrieve(Br.get("showLabel",!0),!Qr);Qr&&this._renderEndsText($r,Qr[0],Yr,Jr,Gr),each$f(Kr.viewPieceList,function(rn){var an=rn.piece,ln=new Group$4;ln.onclick=bind$1(this._onItemClick,this,an),this._enableHoverLink(ln,rn.indexInModelPieceList);var dn=Br.getRepresentValue(an);if(this._createItemSymbol(ln,dn,[0,0,Yr[0],Yr[1]]),Jr){var hn=this.visualMapModel.getValueState(dn);ln.add(new ZRText$1({style:{x:Gr==="right"?-Fr:Yr[0]+Fr,y:Yr[1]/2,text:an.text,verticalAlign:"middle",align:Gr,font:jr,fill:Ur,opacity:hn==="outOfRange"?.5:1}}))}$r.add(ln)},this),Qr&&this._renderEndsText($r,Qr[1],Yr,Jr,Gr),box(Br.get("orient"),$r,Br.get("itemGap")),this.renderBackground($r),this.positionGroup($r)},_r.prototype._enableHoverLink=function($r,Br){var Fr=this;$r.on("mouseover",function(){return zr("highlight")}).on("mouseout",function(){return zr("downplay")});var zr=function(jr){var Ur=Fr.visualMapModel;Ur.option.hoverLink&&Fr.api.dispatchAction({type:jr,batch:makeHighDownBatch(Ur.findTargetDataIndices(Br),Ur)})}},_r.prototype._getItemAlign=function(){var $r=this.visualMapModel,Br=$r.option;if(Br.orient==="vertical")return getItemAlign($r,this.api,$r.itemSize);var Fr=Br.align;return(!Fr||Fr==="auto")&&(Fr="left"),Fr},_r.prototype._renderEndsText=function($r,Br,Fr,zr,jr){if(Br){var Ur=new Group$4,Gr=this.visualMapModel.textStyleModel;Ur.add(new ZRText$1({style:createTextStyle$1(Gr,{x:zr?jr==="right"?Fr[0]:0:Fr[0]/2,y:Fr[1]/2,verticalAlign:"middle",align:zr?jr:"center",text:Br})})),$r.add(Ur)}},_r.prototype._getViewData=function(){var $r=this.visualMapModel,Br=map$1($r.getPieceList(),function(Ur,Gr){return{piece:Ur,indexInModelPieceList:Gr}}),Fr=$r.get("text"),zr=$r.get("orient"),jr=$r.get("inverse");return(zr==="horizontal"?jr:!jr)?Br.reverse():Fr&&(Fr=Fr.slice().reverse()),{viewPieceList:Br,endsText:Fr}},_r.prototype._createItemSymbol=function($r,Br,Fr){$r.add(createSymbol$1(this.getControllerVisual(Br,"symbol"),Fr[0],Fr[1],Fr[2],Fr[3],this.getControllerVisual(Br,"color")))},_r.prototype._onItemClick=function($r){var Br=this.visualMapModel,Fr=Br.option,zr=Fr.selectedMode;if(zr){var jr=clone$4(Fr.selected),Ur=Br.getSelectedMapKey($r);zr==="single"||zr===!0?(jr[Ur]=!0,each$f(jr,function(Gr,Yr){jr[Yr]=Yr===Ur})):jr[Ur]=!jr[Ur],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:jr})}},_r.type="visualMap.piecewise",_r}(VisualMapView$1);const PiecewiseView=PiecewiseVisualMapView;function install$4(Fe){Fe.registerComponentModel(PiecewiseModel$1),Fe.registerComponentView(PiecewiseView),installCommon(Fe)}function install$3(Fe){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(Fe,_r){var $r=Fe.getModel("aria");if(!$r.get("enabled"))return;var Br=clone$4(DEFAULT_OPTION);merge(Br.label,Fe.getLocaleModel().get("aria"),!1),merge($r.option,Br,!1),Fr(),zr();function Fr(){var Yr=$r.getModel("decal"),Kr=Yr.get("show");if(Kr){var Qr=createHashMap();Fe.eachSeries(function(Jr){if(!Jr.isColorBySeries()){var rn=Qr.get(Jr.type);rn||(rn={},Qr.set(Jr.type,rn)),inner(Jr).scope=rn}}),Fe.eachRawSeries(function(Jr){if(Fe.isSeriesFiltered(Jr))return;if(isFunction(Jr.enableAriaDecal)){Jr.enableAriaDecal();return}var rn=Jr.getData();if(Jr.isColorBySeries()){var gn=getDecalFromPalette(Jr.ecModel,Jr.name,decalPaletteScope,Fe.getSeriesCount()),bn=rn.getVisual("decal");rn.setVisual("decal",kn(bn,gn))}else{var an=Jr.getRawData(),ln={},dn=inner(Jr).scope;rn.each(function(Sn){var _n=rn.getRawIndex(Sn);ln[_n]=Sn});var hn=an.count();an.each(function(Sn){var _n=ln[Sn],pn=an.getName(Sn)||Sn+"",Cn=getDecalFromPalette(Jr.ecModel,pn,dn,hn),En=rn.getItemVisual(_n,"decal");rn.setItemVisual(_n,"decal",kn(En,Cn))})}function kn(Sn,_n){var pn=Sn?extend$1(extend$1({},_n),Sn):_n;return pn.dirty=!0,pn}})}}function zr(){var Yr=Fe.getLocaleModel().get("aria"),Kr=$r.getModel("label");if(Kr.option=defaults(Kr.option,Yr),!!Kr.get("enabled")){var Qr=_r.getZr().dom;if(Kr.get("description")){Qr.setAttribute("aria-label",Kr.get("description"));return}var Jr=Fe.getSeriesCount(),rn=Kr.get(["data","maxCount"])||10,an=Kr.get(["series","maxCount"])||10,ln=Math.min(Jr,an),dn;if(!(Jr<1)){var hn=Ur();if(hn){var gn=Kr.get(["general","withTitle"]);dn=jr(gn,{title:hn})}else dn=Kr.get(["general","withoutTitle"]);var bn=[],kn=Jr>1?Kr.get(["series","multiple","prefix"]):Kr.get(["series","single","prefix"]);dn+=jr(kn,{seriesCount:Jr}),Fe.eachSeries(function(Cn,En){if(En<ln){var Pn=void 0,On=Cn.get("name"),jn=On?"withName":"withoutName";Pn=Jr>1?Kr.get(["series","multiple",jn]):Kr.get(["series","single",jn]),Pn=jr(Pn,{seriesId:Cn.seriesIndex,seriesName:Cn.get("name"),seriesType:Gr(Cn.subType)});var Fn=Cn.getData();if(Fn.count()>rn){var Wn=Kr.get(["data","partialData"]);Pn+=jr(Wn,{displayCnt:rn})}else Pn+=Kr.get(["data","allData"]);for(var Hn=Kr.get(["data","separator","middle"]),qn=Kr.get(["data","separator","end"]),ni=[],oi=0;oi<Fn.count();oi++)if(oi<rn){var wi=Fn.getName(oi),Ci=Fn.getValues(oi),Fi=Kr.get(["data",wi?"withName":"withoutName"]);ni.push(jr(Fi,{name:wi,value:Ci.join(Hn)}))}Pn+=ni.join(Hn)+qn,bn.push(Pn)}});var Sn=Kr.getModel(["series","multiple","separator"]),_n=Sn.get("middle"),pn=Sn.get("end");dn+=bn.join(_n)+pn,Qr.setAttribute("aria-label",dn)}}}function jr(Yr,Kr){if(!isString(Yr))return Yr;var Qr=Yr;return each$f(Kr,function(Jr,rn){Qr=Qr.replace(new RegExp("\\{\\s*"+rn+"\\s*\\}","g"),Jr)}),Qr}function Ur(){var Yr=Fe.get("title");return Yr&&Yr.length&&(Yr=Yr[0]),Yr&&Yr.text}function Gr(Yr){return Fe.getLocaleModel().get(["series","typeNames"])[Yr]||"èªå®ä¹å¾"}}function ariaPreprocessor(Fe){if(!(!Fe||!Fe.aria)){var _r=Fe.aria;_r.show!=null&&(_r.enabled=_r.show),_r.label=_r.label||{},each$f(["description","general","series","data"],function($r){_r[$r]!=null&&(_r.label[$r]=_r[$r])})}}function install$2(Fe){Fe.registerPreprocessor(ariaPreprocessor),Fe.registerVisual(Fe.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function Fe(_r){var $r=this._condVal=isString(_r)?new RegExp(_r):isRegExp(_r)?_r:null;if($r==null){var Br="";throwError(Br)}}return Fe.prototype.evaluate=function(_r){var $r=typeof _r;return isString($r)?this._condVal.test(_r):isNumber($r)?this._condVal.test(_r+""):!1},Fe}(),ConstConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){return this.value},Fe}(),AndConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){for(var _r=this.children,$r=0;$r<_r.length;$r++)if(!_r[$r].evaluate())return!1;return!0},Fe}(),OrConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){for(var _r=this.children,$r=0;$r<_r.length;$r++)if(_r[$r].evaluate())return!0;return!1},Fe}(),NotConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){return!this.child.evaluate()},Fe}(),RelationalConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){for(var _r=!!this.valueParser,$r=this.getValue,Br=$r(this.valueGetterParam),Fr=_r?this.valueParser(Br):null,zr=0;zr<this.subCondList.length;zr++)if(!this.subCondList[zr].evaluate(_r?Fr:Br))return!1;return!0},Fe}();function parseOption(Fe,_r){if(Fe===!0||Fe===!1){var $r=new ConstConditionInternal;return $r.value=Fe,$r}var Br="";return isObjectNotArray(Fe)||throwError(Br),Fe.and?parseAndOrOption("and",Fe,_r):Fe.or?parseAndOrOption("or",Fe,_r):Fe.not?parseNotOption(Fe,_r):parseRelationalOption(Fe,_r)}function parseAndOrOption(Fe,_r,$r){var Br=_r[Fe],Fr="";isArray$1(Br)||throwError(Fr),Br.length||throwError(Fr);var zr=Fe==="and"?new AndConditionInternal:new OrConditionInternal;return zr.children=map$1(Br,function(jr){return parseOption(jr,$r)}),zr.children.length||throwError(Fr),zr}function parseNotOption(Fe,_r){var $r=Fe.not,Br="";isObjectNotArray($r)||throwError(Br);var Fr=new NotConditionInternal;return Fr.child=parseOption($r,_r),Fr.child||throwError(Br),Fr}function parseRelationalOption(Fe,_r){for(var $r="",Br=_r.prepareGetValue(Fe),Fr=[],zr=keys(Fe),jr=Fe.parser,Ur=jr?getRawValueParser(jr):null,Gr=0;Gr<zr.length;Gr++){var Yr=zr[Gr];if(!(Yr==="parser"||_r.valueGetterAttrMap.get(Yr))){var Kr=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,Yr)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[Yr]:Yr,Qr=Fe[Yr],Jr=Ur?Ur(Qr):Qr,rn=createFilterComparator(Kr,Jr)||Kr==="reg"&&new RegExpEvaluator(Jr);rn||throwError($r),Fr.push(rn)}}Fr.length||throwError($r);var an=new RelationalConditionInternal;return an.valueGetterParam=Br,an.valueParser=Ur,an.getValue=_r.getValue,an.subCondList=Fr,an}function isObjectNotArray(Fe){return isObject$3(Fe)&&!isArrayLike(Fe)}var ConditionalExpressionParsed=function(){function Fe(_r,$r){this._cond=parseOption(_r,$r)}return Fe.prototype.evaluate=function(){return this._cond.evaluate()},Fe}();function parseConditionalExpression(Fe,_r){return new ConditionalExpressionParsed(Fe,_r)}var filterTransform={type:"echarts:filter",transform:function(Fe){for(var _r=Fe.upstream,$r,Br=parseConditionalExpression(Fe.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(Ur){var Gr="",Yr=Ur.dimension;hasOwn(Ur,"dimension")||throwError(Gr);var Kr=_r.getDimensionInfo(Yr);return Kr||throwError(Gr),{dimIdx:Kr.index}},getValue:function(Ur){return _r.retrieveValueFromItem($r,Ur.dimIdx)}}),Fr=[],zr=0,jr=_r.count();zr<jr;zr++)$r=_r.getRawDataItem(zr),Br.evaluate()&&Fr.push($r);return{data:Fr}}},sortTransform={type:"echarts:sort",transform:function(Fe){var _r=Fe.upstream,$r=Fe.config,Br="",Fr=normalizeToArray($r);Fr.length||throwError(Br);var zr=[];each$f(Fr,function(Kr){var Qr=Kr.dimension,Jr=Kr.order,rn=Kr.parser,an=Kr.incomparable;if(Qr==null&&throwError(Br),Jr!=="asc"&&Jr!=="desc"&&throwError(Br),an&&an!=="min"&&an!=="max"){var ln="";throwError(ln)}if(Jr!=="asc"&&Jr!=="desc"){var dn="";throwError(dn)}var hn=_r.getDimensionInfo(Qr);hn||throwError(Br);var gn=rn?getRawValueParser(rn):null;rn&&!gn&&throwError(Br),zr.push({dimIdx:hn.index,parser:gn,comparator:new SortOrderComparator(Jr,an)})});var jr=_r.sourceFormat;jr!==SOURCE_FORMAT_ARRAY_ROWS&&jr!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(Br);for(var Ur=[],Gr=0,Yr=_r.count();Gr<Yr;Gr++)Ur.push(_r.getRawDataItem(Gr));return Ur.sort(function(Kr,Qr){for(var Jr=0;Jr<zr.length;Jr++){var rn=zr[Jr],an=_r.retrieveValueFromItem(Kr,rn.dimIdx),ln=_r.retrieveValueFromItem(Qr,rn.dimIdx);rn.parser&&(an=rn.parser(an),ln=rn.parser(ln));var dn=rn.comparator.evaluate(an,ln);if(dn!==0)return dn}return 0}),{data:Ur}}};function install$1(Fe){Fe.registerTransform(filterTransform),Fe.registerTransform(sortTransform)}var DatasetModel=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type="dataset",$r}return _r.prototype.init=function($r,Br,Fr){Fe.prototype.init.call(this,$r,Br,Fr),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},_r.prototype.mergeOption=function($r,Br){Fe.prototype.mergeOption.call(this,$r,Br),disableTransformOptionMerge(this)},_r.prototype.optionUpdated=function(){this._sourceManager.dirty()},_r.prototype.getSourceManager=function(){return this._sourceManager},_r.type="dataset",_r.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},_r}(ComponentModel$1),DatasetView=function(Fe){__extends(_r,Fe);function _r(){var $r=Fe!==null&&Fe.apply(this,arguments)||this;return $r.type="dataset",$r}return _r.type="dataset",_r}(ComponentView$1);function install(Fe){Fe.registerComponentModel(DatasetModel),Fe.registerComponentView(DatasetView)}var CMD=PathProxy$1.CMD;function aroundEqual(Fe,_r){return Math.abs(Fe-_r)<1e-5}function pathToBezierCurves(Fe){var _r=Fe.data,$r=Fe.len(),Br=[],Fr,zr=0,jr=0,Ur=0,Gr=0;function Yr(Fn,Wn){Fr&&Fr.length>2&&Br.push(Fr),Fr=[Fn,Wn]}function Kr(Fn,Wn,Hn,qn){aroundEqual(Fn,Hn)&&aroundEqual(Wn,qn)||Fr.push(Fn,Wn,Hn,qn,Hn,qn)}function Qr(Fn,Wn,Hn,qn,ni,oi){var wi=Math.abs(Wn-Fn),Ci=Math.tan(wi/4)*4/3,Fi=Wn<Fn?-1:1,Zn=Math.cos(Fn),Gn=Math.sin(Fn),ui=Math.cos(Wn),Ni=Math.sin(Wn),$i=Zn*ni+Hn,Vi=Gn*oi+qn,ji=ui*ni+Hn,lo=Ni*oi+qn,ho=ni*Ci*Fi,so=oi*Ci*Fi;Fr.push($i-ho*Gn,Vi+so*Zn,ji+ho*Ni,lo-so*ui,ji,lo)}for(var Jr,rn,an,ln,dn=0;dn<$r;){var hn=_r[dn++],gn=dn===1;switch(gn&&(zr=_r[dn],jr=_r[dn+1],Ur=zr,Gr=jr,(hn===CMD.L||hn===CMD.C||hn===CMD.Q)&&(Fr=[Ur,Gr])),hn){case CMD.M:zr=Ur=_r[dn++],jr=Gr=_r[dn++],Yr(Ur,Gr);break;case CMD.L:Jr=_r[dn++],rn=_r[dn++],Kr(zr,jr,Jr,rn),zr=Jr,jr=rn;break;case CMD.C:Fr.push(_r[dn++],_r[dn++],_r[dn++],_r[dn++],zr=_r[dn++],jr=_r[dn++]);break;case CMD.Q:Jr=_r[dn++],rn=_r[dn++],an=_r[dn++],ln=_r[dn++],Fr.push(zr+2/3*(Jr-zr),jr+2/3*(rn-jr),an+2/3*(Jr-an),ln+2/3*(rn-ln),an,ln),zr=an,jr=ln;break;case CMD.A:var bn=_r[dn++],kn=_r[dn++],Sn=_r[dn++],_n=_r[dn++],pn=_r[dn++],Cn=_r[dn++]+pn;dn+=1;var En=!_r[dn++];Jr=Math.cos(pn)*Sn+bn,rn=Math.sin(pn)*_n+kn,gn?(Ur=Jr,Gr=rn,Yr(Ur,Gr)):Kr(zr,jr,Jr,rn),zr=Math.cos(Cn)*Sn+bn,jr=Math.sin(Cn)*_n+kn;for(var Pn=(En?-1:1)*Math.PI/2,On=pn;En?On>Cn:On<Cn;On+=Pn){var jn=En?Math.max(On+Pn,Cn):Math.min(On+Pn,Cn);Qr(On,jn,bn,kn,Sn,_n)}break;case CMD.R:Ur=zr=_r[dn++],Gr=jr=_r[dn++],Jr=Ur+_r[dn++],rn=Gr+_r[dn++],Yr(Jr,Gr),Kr(Jr,Gr,Jr,rn),Kr(Jr,rn,Ur,rn),Kr(Ur,rn,Ur,Gr),Kr(Ur,Gr,Jr,Gr);break;case CMD.Z:Fr&&Kr(zr,jr,Ur,Gr),zr=Ur,jr=Gr;break}}return Fr&&Fr.length>2&&Br.push(Fr),Br}function adpativeBezier(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr){if(aroundEqual(Fe,$r)&&aroundEqual(_r,Br)&&aroundEqual(Fr,jr)&&aroundEqual(zr,Ur)){Gr.push(jr,Ur);return}var Kr=2/Yr,Qr=Kr*Kr,Jr=jr-Fe,rn=Ur-_r,an=Math.sqrt(Jr*Jr+rn*rn);Jr/=an,rn/=an;var ln=$r-Fe,dn=Br-_r,hn=Fr-jr,gn=zr-Ur,bn=ln*ln+dn*dn,kn=hn*hn+gn*gn;if(bn<Qr&&kn<Qr){Gr.push(jr,Ur);return}var Sn=Jr*ln+rn*dn,_n=-Jr*hn-rn*gn,pn=bn-Sn*Sn,Cn=kn-_n*_n;if(pn<Qr&&Sn>=0&&Cn<Qr&&_n>=0){Gr.push(jr,Ur);return}var En=[],Pn=[];cubicSubdivide(Fe,$r,Fr,jr,.5,En),cubicSubdivide(_r,Br,zr,Ur,.5,Pn),adpativeBezier(En[0],Pn[0],En[1],Pn[1],En[2],Pn[2],En[3],Pn[3],Gr,Yr),adpativeBezier(En[4],Pn[4],En[5],Pn[5],En[6],Pn[6],En[7],Pn[7],Gr,Yr)}function pathToPolygons(Fe,_r){var $r=pathToBezierCurves(Fe),Br=[];_r=_r||1;for(var Fr=0;Fr<$r.length;Fr++){var zr=$r[Fr],jr=[],Ur=zr[0],Gr=zr[1];jr.push(Ur,Gr);for(var Yr=2;Yr<zr.length;){var Kr=zr[Yr++],Qr=zr[Yr++],Jr=zr[Yr++],rn=zr[Yr++],an=zr[Yr++],ln=zr[Yr++];adpativeBezier(Ur,Gr,Kr,Qr,Jr,rn,an,ln,jr,_r),Ur=an,Gr=ln}Br.push(jr)}return Br}function getDividingGrids(Fe,_r,$r){var Br=Fe[_r],Fr=Fe[1-_r],zr=Math.abs(Br/Fr),jr=Math.ceil(Math.sqrt(zr*$r)),Ur=Math.floor($r/jr);Ur===0&&(Ur=1,jr=$r);for(var Gr=[],Yr=0;Yr<jr;Yr++)Gr.push(Ur);var Kr=jr*Ur,Qr=$r-Kr;if(Qr>0)for(var Yr=0;Yr<Qr;Yr++)Gr[Yr%jr]+=1;return Gr}function divideSector(Fe,_r,$r){for(var Br=Fe.r0,Fr=Fe.r,zr=Fe.startAngle,jr=Fe.endAngle,Ur=Math.abs(jr-zr),Gr=Ur*Fr,Yr=Fr-Br,Kr=Gr>Math.abs(Yr),Qr=getDividingGrids([Gr,Yr],Kr?0:1,_r),Jr=(Kr?Ur:Yr)/Qr.length,rn=0;rn<Qr.length;rn++)for(var an=(Kr?Yr:Ur)/Qr[rn],ln=0;ln<Qr[rn];ln++){var dn={};Kr?(dn.startAngle=zr+Jr*rn,dn.endAngle=zr+Jr*(rn+1),dn.r0=Br+an*ln,dn.r=Br+an*(ln+1)):(dn.startAngle=zr+an*ln,dn.endAngle=zr+an*(ln+1),dn.r0=Br+Jr*rn,dn.r=Br+Jr*(rn+1)),dn.clockwise=Fe.clockwise,dn.cx=Fe.cx,dn.cy=Fe.cy,$r.push(dn)}}function divideRect(Fe,_r,$r){for(var Br=Fe.width,Fr=Fe.height,zr=Br>Fr,jr=getDividingGrids([Br,Fr],zr?0:1,_r),Ur=zr?"width":"height",Gr=zr?"height":"width",Yr=zr?"x":"y",Kr=zr?"y":"x",Qr=Fe[Ur]/jr.length,Jr=0;Jr<jr.length;Jr++)for(var rn=Fe[Gr]/jr[Jr],an=0;an<jr[Jr];an++){var ln={};ln[Yr]=Jr*Qr,ln[Kr]=an*rn,ln[Ur]=Qr,ln[Gr]=rn,ln.x+=Fe.x,ln.y+=Fe.y,$r.push(ln)}}function crossProduct2d(Fe,_r,$r,Br){return Fe*Br-$r*_r}function lineLineIntersect(Fe,_r,$r,Br,Fr,zr,jr,Ur){var Gr=$r-Fe,Yr=Br-_r,Kr=jr-Fr,Qr=Ur-zr,Jr=crossProduct2d(Kr,Qr,Gr,Yr);if(Math.abs(Jr)<1e-6)return null;var rn=Fe-Fr,an=_r-zr,ln=crossProduct2d(rn,an,Kr,Qr)/Jr;return ln<0||ln>1?null:new Point$1(ln*Gr+Fe,ln*Yr+_r)}function projPtOnLine(Fe,_r,$r){var Br=new Point$1;Point$1.sub(Br,$r,_r),Br.normalize();var Fr=new Point$1;Point$1.sub(Fr,Fe,_r);var zr=Fr.dot(Br);return zr}function addToPoly(Fe,_r){var $r=Fe[Fe.length-1];$r&&$r[0]===_r[0]&&$r[1]===_r[1]||Fe.push(_r)}function splitPolygonByLine(Fe,_r,$r){for(var Br=Fe.length,Fr=[],zr=0;zr<Br;zr++){var jr=Fe[zr],Ur=Fe[(zr+1)%Br],Gr=lineLineIntersect(jr[0],jr[1],Ur[0],Ur[1],_r.x,_r.y,$r.x,$r.y);Gr&&Fr.push({projPt:projPtOnLine(Gr,_r,$r),pt:Gr,idx:zr})}if(Fr.length<2)return[{points:Fe},{points:Fe}];Fr.sort(function(dn,hn){return dn.projPt-hn.projPt});var Yr=Fr[0],Kr=Fr[Fr.length-1];if(Kr.idx<Yr.idx){var Qr=Yr;Yr=Kr,Kr=Qr}for(var Jr=[Yr.pt.x,Yr.pt.y],rn=[Kr.pt.x,Kr.pt.y],an=[Jr],ln=[rn],zr=Yr.idx+1;zr<=Kr.idx;zr++)addToPoly(an,Fe[zr].slice());addToPoly(an,rn),addToPoly(an,Jr);for(var zr=Kr.idx+1;zr<=Yr.idx+Br;zr++)addToPoly(ln,Fe[zr%Br].slice());return addToPoly(ln,Jr),addToPoly(ln,rn),[{points:an},{points:ln}]}function binaryDividePolygon(Fe){var _r=Fe.points,$r=[],Br=[];fromPoints(_r,$r,Br);var Fr=new BoundingRect$1($r[0],$r[1],Br[0]-$r[0],Br[1]-$r[1]),zr=Fr.width,jr=Fr.height,Ur=Fr.x,Gr=Fr.y,Yr=new Point$1,Kr=new Point$1;return zr>jr?(Yr.x=Kr.x=Ur+zr/2,Yr.y=Gr,Kr.y=Gr+jr):(Yr.y=Kr.y=Gr+jr/2,Yr.x=Ur,Kr.x=Ur+zr),splitPolygonByLine(_r,Yr,Kr)}function binaryDivideRecursive(Fe,_r,$r,Br){if($r===1)Br.push(_r);else{var Fr=Math.floor($r/2),zr=Fe(_r);binaryDivideRecursive(Fe,zr[0],Fr,Br),binaryDivideRecursive(Fe,zr[1],$r-Fr,Br)}return Br}function clone(Fe,_r){for(var $r=[],Br=0;Br<_r;Br++)$r.push(clonePath(Fe));return $r}function copyPathProps(Fe,_r){_r.setStyle(Fe.style),_r.z=Fe.z,_r.z2=Fe.z2,_r.zlevel=Fe.zlevel}function polygonConvert(Fe){for(var _r=[],$r=0;$r<Fe.length;)_r.push([Fe[$r++],Fe[$r++]]);return _r}function split(Fe,_r){var $r=[],Br=Fe.shape,Fr;switch(Fe.type){case"rect":divideRect(Br,_r,$r),Fr=Rect$3;break;case"sector":divideSector(Br,_r,$r),Fr=Sector$1;break;case"circle":divideSector({r0:0,r:Br.r,startAngle:0,endAngle:Math.PI*2,cx:Br.cx,cy:Br.cy},_r,$r),Fr=Sector$1;break;default:var zr=Fe.getComputedTransform(),jr=zr?Math.sqrt(Math.max(zr[0]*zr[0]+zr[1]*zr[1],zr[2]*zr[2]+zr[3]*zr[3])):1,Ur=map$1(pathToPolygons(Fe.getUpdatedPathProxy(),jr),function(hn){return polygonConvert(hn)}),Gr=Ur.length;if(Gr===0)binaryDivideRecursive(binaryDividePolygon,{points:Ur[0]},_r,$r);else if(Gr===_r)for(var Yr=0;Yr<Gr;Yr++)$r.push({points:Ur[Yr]});else{var Kr=0,Qr=map$1(Ur,function(hn){var gn=[],bn=[];fromPoints(hn,gn,bn);var kn=(bn[1]-gn[1])*(bn[0]-gn[0]);return Kr+=kn,{poly:hn,area:kn}});Qr.sort(function(hn,gn){return gn.area-hn.area});for(var Jr=_r,Yr=0;Yr<Gr;Yr++){var rn=Qr[Yr];if(Jr<=0)break;var an=Yr===Gr-1?Jr:Math.ceil(rn.area/Kr*_r);an<0||(binaryDivideRecursive(binaryDividePolygon,{points:rn.poly},an,$r),Jr-=an)}}Fr=Polygon$1;break}if(!Fr)return clone(Fe,_r);for(var ln=[],Yr=0;Yr<$r.length;Yr++){var dn=new Fr;dn.setShape($r[Yr]),copyPathProps(Fe,dn),ln.push(dn)}return ln}function alignSubpath(Fe,_r){var $r=Fe.length,Br=_r.length;if($r===Br)return[Fe,_r];for(var Fr=[],zr=[],jr=$r<Br?Fe:_r,Ur=Math.min($r,Br),Gr=Math.abs(Br-$r)/6,Yr=(Ur-2)/6,Kr=Math.ceil(Gr/Yr)+1,Qr=[jr[0],jr[1]],Jr=Gr,rn=2;rn<Ur;){var an=jr[rn-2],ln=jr[rn-1],dn=jr[rn++],hn=jr[rn++],gn=jr[rn++],bn=jr[rn++],kn=jr[rn++],Sn=jr[rn++];if(Jr<=0){Qr.push(dn,hn,gn,bn,kn,Sn);continue}for(var _n=Math.min(Jr,Kr-1)+1,pn=1;pn<=_n;pn++){var Cn=pn/_n;cubicSubdivide(an,dn,gn,kn,Cn,Fr),cubicSubdivide(ln,hn,bn,Sn,Cn,zr),an=Fr[3],ln=zr[3],Qr.push(Fr[1],zr[1],Fr[2],zr[2],an,ln),dn=Fr[5],hn=zr[5],gn=Fr[6],bn=zr[6]}Jr-=_n-1}return jr===Fe?[Qr,_r]:[Fe,Qr]}function createSubpath(Fe,_r){for(var $r=Fe.length,Br=Fe[$r-2],Fr=Fe[$r-1],zr=[],jr=0;jr<_r.length;)zr[jr++]=Br,zr[jr++]=Fr;return zr}function alignBezierCurves(Fe,_r){for(var $r,Br,Fr,zr=[],jr=[],Ur=0;Ur<Math.max(Fe.length,_r.length);Ur++){var Gr=Fe[Ur],Yr=_r[Ur],Kr=void 0,Qr=void 0;Gr?Yr?($r=alignSubpath(Gr,Yr),Kr=$r[0],Qr=$r[1],Br=Kr,Fr=Qr):(Qr=createSubpath(Fr||Gr,Gr),Kr=Gr):(Kr=createSubpath(Br||Yr,Yr),Qr=Yr),zr.push(Kr),jr.push(Qr)}return[zr,jr]}function centroid(Fe){for(var _r=0,$r=0,Br=0,Fr=Fe.length,zr=0,jr=Fr-2;zr<Fr;jr=zr,zr+=2){var Ur=Fe[jr],Gr=Fe[jr+1],Yr=Fe[zr],Kr=Fe[zr+1],Qr=Ur*Kr-Yr*Gr;_r+=Qr,$r+=(Ur+Yr)*Qr,Br+=(Gr+Kr)*Qr}return _r===0?[Fe[0]||0,Fe[1]||0]:[$r/_r/3,Br/_r/3,_r]}function findBestRingOffset(Fe,_r,$r,Br){for(var Fr=(Fe.length-2)/6,zr=1/0,jr=0,Ur=Fe.length,Gr=Ur-2,Yr=0;Yr<Fr;Yr++){for(var Kr=Yr*6,Qr=0,Jr=0;Jr<Ur;Jr+=2){var rn=Jr===0?Kr:(Kr+Jr-2)%Gr+2,an=Fe[rn]-$r[0],ln=Fe[rn+1]-$r[1],dn=_r[Jr]-Br[0],hn=_r[Jr+1]-Br[1],gn=dn-an,bn=hn-ln;Qr+=gn*gn+bn*bn}Qr<zr&&(zr=Qr,jr=Yr)}return jr}function reverse(Fe){for(var _r=[],$r=Fe.length,Br=0;Br<$r;Br+=2)_r[Br]=Fe[$r-Br-2],_r[Br+1]=Fe[$r-Br-1];return _r}function findBestMorphingRotation(Fe,_r,$r,Br){for(var Fr=[],zr,jr=0;jr<Fe.length;jr++){var Ur=Fe[jr],Gr=_r[jr],Yr=centroid(Ur),Kr=centroid(Gr);zr==null&&(zr=Yr[2]<0!=Kr[2]<0);var Qr=[],Jr=[],rn=0,an=1/0,ln=[],dn=Ur.length;zr&&(Ur=reverse(Ur));for(var hn=findBestRingOffset(Ur,Gr,Yr,Kr)*6,gn=dn-2,bn=0;bn<gn;bn+=2){var kn=(hn+bn)%gn+2;Qr[bn+2]=Ur[kn]-Yr[0],Qr[bn+3]=Ur[kn+1]-Yr[1]}if(Qr[0]=Ur[hn]-Yr[0],Qr[1]=Ur[hn+1]-Yr[1],$r>0)for(var Sn=Br/$r,_n=-Br/2;_n<=Br/2;_n+=Sn){for(var pn=Math.sin(_n),Cn=Math.cos(_n),En=0,bn=0;bn<Ur.length;bn+=2){var Pn=Qr[bn],On=Qr[bn+1],jn=Gr[bn]-Kr[0],Fn=Gr[bn+1]-Kr[1],Wn=jn*Cn-Fn*pn,Hn=jn*pn+Fn*Cn;ln[bn]=Wn,ln[bn+1]=Hn;var qn=Wn-Pn,ni=Hn-On;En+=qn*qn+ni*ni}if(En<an){an=En,rn=_n;for(var oi=0;oi<ln.length;oi++)Jr[oi]=ln[oi]}}else for(var wi=0;wi<dn;wi+=2)Jr[wi]=Gr[wi]-Kr[0],Jr[wi+1]=Gr[wi+1]-Kr[1];Fr.push({from:Qr,to:Jr,fromCp:Yr,toCp:Kr,rotation:-rn})}return Fr}function isCombineMorphing(Fe){return Fe.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(Fe,_r,$r){var Br=SAVED_METHOD_PREFIX+_r,Fr=Fe[Br]||Fe[_r];Fe[Br]||(Fe[Br]=Fe[_r]);var zr=$r.replace,jr=$r.after,Ur=$r.before;Fe[_r]=function(){var Gr=arguments,Yr;return Ur&&Ur.apply(this,Gr),zr?Yr=zr.apply(this,Gr):Yr=Fr.apply(this,Gr),jr&&jr.apply(this,Gr),Yr}}function restoreMethod(Fe,_r){var $r=SAVED_METHOD_PREFIX+_r;Fe[$r]&&(Fe[_r]=Fe[$r],Fe[$r]=null)}function applyTransformOnBeziers(Fe,_r){for(var $r=0;$r<Fe.length;$r++)for(var Br=Fe[$r],Fr=0;Fr<Br.length;){var zr=Br[Fr],jr=Br[Fr+1];Br[Fr++]=_r[0]*zr+_r[2]*jr+_r[4],Br[Fr++]=_r[1]*zr+_r[3]*jr+_r[5]}}function prepareMorphPath(Fe,_r){var $r=Fe.getUpdatedPathProxy(),Br=_r.getUpdatedPathProxy(),Fr=alignBezierCurves(pathToBezierCurves($r),pathToBezierCurves(Br)),zr=Fr[0],jr=Fr[1],Ur=Fe.getComputedTransform(),Gr=_r.getComputedTransform();function Yr(){this.transform=null}Ur&&applyTransformOnBeziers(zr,Ur),Gr&&applyTransformOnBeziers(jr,Gr),saveAndModifyMethod(_r,"updateTransform",{replace:Yr}),_r.transform=null;var Kr=findBestMorphingRotation(zr,jr,10,Math.PI),Qr=[];saveAndModifyMethod(_r,"buildPath",{replace:function(Jr){for(var rn=_r.__morphT,an=1-rn,ln=[],dn=0;dn<Kr.length;dn++){var hn=Kr[dn],gn=hn.from,bn=hn.to,kn=hn.rotation*rn,Sn=hn.fromCp,_n=hn.toCp,pn=Math.sin(kn),Cn=Math.cos(kn);lerp$1(ln,Sn,_n,rn);for(var En=0;En<gn.length;En+=2){var Pn=gn[En],On=gn[En+1],jn=bn[En],Fn=bn[En+1],Wn=Pn*an+jn*rn,Hn=On*an+Fn*rn;Qr[En]=Wn*Cn-Hn*pn+ln[0],Qr[En+1]=Wn*pn+Hn*Cn+ln[1]}var qn=Qr[0],ni=Qr[1];Jr.moveTo(qn,ni);for(var En=2;En<gn.length;){var jn=Qr[En++],Fn=Qr[En++],oi=Qr[En++],wi=Qr[En++],Ci=Qr[En++],Fi=Qr[En++];qn===jn&&ni===Fn&&oi===Ci&&wi===Fi?Jr.lineTo(Ci,Fi):Jr.bezierCurveTo(jn,Fn,oi,wi,Ci,Fi),qn=Ci,ni=Fi}}}})}function morphPath(Fe,_r,$r){if(!Fe||!_r)return _r;var Br=$r.done,Fr=$r.during;prepareMorphPath(Fe,_r),_r.__morphT=0;function zr(){restoreMethod(_r,"buildPath"),restoreMethod(_r,"updateTransform"),_r.__morphT=-1,_r.createPathProxy(),_r.dirtyShape()}return _r.animateTo({__morphT:1},defaults({during:function(jr){_r.dirtyShape(),Fr&&Fr(jr)},done:function(){zr(),Br&&Br()}},$r)),_r}function hilbert(Fe,_r,$r,Br,Fr,zr){var jr=16;Fe=Fr===$r?0:Math.round(32767*(Fe-$r)/(Fr-$r)),_r=zr===Br?0:Math.round(32767*(_r-Br)/(zr-Br));for(var Ur=0,Gr,Yr=(1<<jr)/2;Yr>0;Yr/=2){var Kr=0,Qr=0;(Fe&Yr)>0&&(Kr=1),(_r&Yr)>0&&(Qr=1),Ur+=Yr*Yr*(3*Kr^Qr),Qr===0&&(Kr===1&&(Fe=Yr-1-Fe,_r=Yr-1-_r),Gr=Fe,Fe=_r,_r=Gr)}return Ur}function sortPaths(Fe){var _r=1/0,$r=1/0,Br=-1/0,Fr=-1/0,zr=map$1(Fe,function(Ur){var Gr=Ur.getBoundingRect(),Yr=Ur.getComputedTransform(),Kr=Gr.x+Gr.width/2+(Yr?Yr[4]:0),Qr=Gr.y+Gr.height/2+(Yr?Yr[5]:0);return _r=Math.min(Kr,_r),$r=Math.min(Qr,$r),Br=Math.max(Kr,Br),Fr=Math.max(Qr,Fr),[Kr,Qr]}),jr=map$1(zr,function(Ur,Gr){return{cp:Ur,z:hilbert(Ur[0],Ur[1],_r,$r,Br,Fr),path:Fe[Gr]}});return jr.sort(function(Ur,Gr){return Ur.z-Gr.z}).map(function(Ur){return Ur.path})}function defaultDividePath(Fe){return split(Fe.path,Fe.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(Fe,_r,$r){var Br=[];function Fr(Sn){for(var _n=0;_n<Sn.length;_n++){var pn=Sn[_n];isCombineMorphing(pn)?Fr(pn.childrenRef()):pn instanceof Path$1&&Br.push(pn)}}Fr(Fe);var zr=Br.length;if(!zr)return createEmptyReturn();var jr=$r.dividePath||defaultDividePath,Ur=jr({path:_r,count:zr});if(Ur.length!==zr)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();Br=sortPaths(Br),Ur=sortPaths(Ur);for(var Gr=$r.done,Yr=$r.during,Kr=$r.individualDelay,Qr=new Transformable$1,Jr=0;Jr<zr;Jr++){var rn=Br[Jr],an=Ur[Jr];an.parent=_r,an.copyTransform(Qr),Kr||prepareMorphPath(rn,an)}_r.__isCombineMorphing=!0,_r.childrenRef=function(){return Ur};function ln(Sn){for(var _n=0;_n<Ur.length;_n++)Ur[_n].addSelfToZr(Sn)}saveAndModifyMethod(_r,"addSelfToZr",{after:function(Sn){ln(Sn)}}),saveAndModifyMethod(_r,"removeSelfFromZr",{after:function(Sn){for(var _n=0;_n<Ur.length;_n++)Ur[_n].removeSelfFromZr(Sn)}});function dn(){_r.__isCombineMorphing=!1,_r.__morphT=-1,_r.childrenRef=null,restoreMethod(_r,"addSelfToZr"),restoreMethod(_r,"removeSelfFromZr")}var hn=Ur.length;if(Kr)for(var gn=hn,bn=function(){gn--,gn===0&&(dn(),Gr&&Gr())},Jr=0;Jr<hn;Jr++){var kn=Kr?defaults({delay:($r.delay||0)+Kr(Jr,hn,Br[Jr],Ur[Jr]),done:bn},$r):$r;morphPath(Br[Jr],Ur[Jr],kn)}else _r.__morphT=0,_r.animateTo({__morphT:1},defaults({during:function(Sn){for(var _n=0;_n<hn;_n++){var pn=Ur[_n];pn.__morphT=_r.__morphT,pn.dirtyShape()}Yr&&Yr(Sn)},done:function(){dn();for(var Sn=0;Sn<Fe.length;Sn++)restoreMethod(Fe[Sn],"updateTransform");Gr&&Gr()}},$r));return _r.__zr&&ln(_r.__zr),{fromIndividuals:Br,toIndividuals:Ur,count:hn}}function separateMorph(Fe,_r,$r){var Br=_r.length,Fr=[],zr=$r.dividePath||defaultDividePath;function jr(rn){for(var an=0;an<rn.length;an++){var ln=rn[an];isCombineMorphing(ln)?jr(ln.childrenRef()):ln instanceof Path$1&&Fr.push(ln)}}if(isCombineMorphing(Fe)){jr(Fe.childrenRef());var Ur=Fr.length;if(Ur<Br)for(var Gr=0,Yr=Ur;Yr<Br;Yr++)Fr.push(clonePath(Fr[Gr++%Ur]));Fr.length=Br}else{Fr=zr({path:Fe,count:Br});for(var Kr=Fe.getComputedTransform(),Yr=0;Yr<Fr.length;Yr++)Fr[Yr].setLocalTransform(Kr);if(Fr.length!==Br)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}Fr=sortPaths(Fr),_r=sortPaths(_r);for(var Qr=$r.individualDelay,Yr=0;Yr<Br;Yr++){var Jr=Qr?defaults({delay:($r.delay||0)+Qr(Yr,Br,Fr[Yr],_r[Yr])},$r):$r;morphPath(Fr[Yr],_r[Yr],Jr)}return{fromIndividuals:Fr,toIndividuals:_r,count:_r.length}}function isMultiple(Fe){return isArray$1(Fe[0])}function prepareMorphBatches(Fe,_r){for(var $r=[],Br=Fe.length,Fr=0;Fr<Br;Fr++)$r.push({one:Fe[Fr],many:[]});for(var Fr=0;Fr<_r.length;Fr++){var zr=_r[Fr].length,jr=void 0;for(jr=0;jr<zr;jr++)$r[jr%Br].many.push(_r[Fr][jr])}for(var Ur=0,Fr=Br-1;Fr>=0;Fr--)if(!$r[Fr].many.length){var Gr=$r[Ur].many;if(Gr.length<=1)if(Ur)Ur=0;else return $r;var zr=Gr.length,Yr=Math.ceil(zr/2);$r[Fr].many=Gr.slice(Yr,zr),$r[Ur].many=Gr.slice(0,Yr),Ur++}return $r}var pathDividers={clone:function(Fe){for(var _r=[],$r=1-Math.pow(1-Fe.path.style.opacity,1/Fe.count),Br=0;Br<Fe.count;Br++){var Fr=clonePath(Fe.path);Fr.setStyle("opacity",$r),_r.push(Fr)}return _r},split:null};function applyMorphAnimation(Fe,_r,$r,Br,Fr,zr){if(!Fe.length||!_r.length)return;var jr=getAnimationConfig("update",Br,Fr);if(!(jr&&jr.duration>0))return;var Ur=Br.getModel("universalTransition").get("delay"),Gr=Object.assign({setToFinal:!0},jr),Yr,Kr;isMultiple(Fe)&&(Yr=Fe,Kr=_r),isMultiple(_r)&&(Yr=_r,Kr=Fe);function Qr(hn,gn,bn,kn,Sn){var _n=hn.many,pn=hn.one;if(_n.length===1&&!Sn){var Cn=gn?_n[0]:pn,En=gn?pn:_n[0];if(isCombineMorphing(Cn))Qr({many:[Cn],one:En},!0,bn,kn,!0);else{var Pn=Ur?defaults({delay:Ur(bn,kn)},Gr):Gr;morphPath(Cn,En,Pn),zr(Cn,En,Cn,En,Pn)}}else for(var On=defaults({dividePath:pathDividers[$r],individualDelay:Ur&&function(ni,oi,wi,Ci){return Ur(ni+bn,kn)}},Gr),jn=gn?combineMorph(_n,pn,On):separateMorph(pn,_n,On),Fn=jn.fromIndividuals,Wn=jn.toIndividuals,Hn=Fn.length,qn=0;qn<Hn;qn++){var Pn=Ur?defaults({delay:Ur(qn,Hn)},Gr):Gr;zr(Fn[qn],Wn[qn],gn?_n[qn]:hn.one,gn?hn.one:_n[qn],Pn)}}for(var Jr=Yr?Yr===Fe:Fe.length>_r.length,rn=Yr?prepareMorphBatches(Kr,Yr):prepareMorphBatches(Jr?_r:Fe,[Jr?Fe:_r]),an=0,ln=0;ln<rn.length;ln++)an+=rn[ln].many.length;for(var dn=0,ln=0;ln<rn.length;ln++)Qr(rn[ln],Jr,dn,an),dn+=rn[ln].many.length}function getPathList(Fe){if(!Fe)return[];if(isArray$1(Fe)){for(var _r=[],$r=0;$r<Fe.length;$r++)_r.push(getPathList(Fe[$r]));return _r}var Br=[];return Fe.traverse(function(Fr){Fr instanceof Path$1&&!Fr.disableMorphing&&!Fr.invisible&&!Fr.ignore&&Br.push(Fr)}),Br}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(Fe){for(var _r=Fe.dimensions,$r=0;$r<_r.length;$r++){var Br=Fe.getDimensionInfo(_r[$r]);if(Br&&Br.otherDims.itemGroupId===0)return _r[$r]}}function flattenDataDiffItems(Fe){var _r=[];return each$f(Fe,function($r){var Br=$r.data;if(!(Br.count()>DATA_COUNT_THRESHOLD))for(var Fr=Br.getIndices(),zr=getGroupIdDimension(Br),jr=0;jr<Fr.length;jr++)_r.push({dataGroupId:$r.dataGroupId,data:Br,dim:$r.dim||zr,divide:$r.divide,dataIndex:jr})}),_r}function fadeInElement(Fe,_r,$r){Fe.traverse(function(Br){Br instanceof Path$1&&initProps(Br,{style:{opacity:0}},_r,{dataIndex:$r,isFrom:!0})})}function removeEl(Fe){if(Fe.parent){var _r=Fe.getComputedTransform();Fe.setLocalTransform(_r),Fe.parent.remove(Fe)}}function stopAnimation(Fe){Fe.stopAnimation(),Fe.isGroup&&Fe.traverse(function(_r){_r.stopAnimation()})}function animateElementStyles(Fe,_r,$r){var Br=getAnimationConfig("update",$r,_r);Br&&Fe.traverse(function(Fr){if(Fr instanceof Displayable$1){var zr=getOldStyle(Fr);zr&&Fr.animateFrom({style:zr},Br)}})}function isAllIdSame(Fe,_r){var $r=Fe.length;if($r!==_r.length)return!1;for(var Br=0;Br<$r;Br++){var Fr=Fe[Br],zr=_r[Br];if(Fr.data.getId(Fr.dataIndex)!==zr.data.getId(zr.dataIndex))return!1}return!0}function transitionBetween(Fe,_r,$r){var Br=flattenDataDiffItems(Fe),Fr=flattenDataDiffItems(_r);function zr(hn,gn,bn,kn,Sn){(bn||hn)&&gn.animateFrom({style:bn&&bn!==hn?extend$1(extend$1({},bn.style),hn.style):hn.style},Sn)}function jr(hn){for(var gn=0;gn<hn.length;gn++)if(hn[gn].dim)return hn[gn].dim}var Ur=jr(Br),Gr=jr(Fr),Yr=!1;function Kr(hn,gn){return function(bn){var kn=bn.data,Sn=bn.dataIndex;if(gn)return kn.getId(Sn);var _n=bn.dataGroupId,pn=hn?Ur||Gr:Gr||Ur,Cn=pn&&kn.getDimensionInfo(pn),En=Cn&&Cn.ordinalMeta;if(Cn){var Pn=kn.get(Cn.name,Sn);return En&&En.categories[Pn]||Pn+""}var On=kn.getRawDataItem(Sn);return On&&On.groupId?On.groupId+"":_n||kn.getId(Sn)}}var Qr=isAllIdSame(Br,Fr),Jr={};if(!Qr)for(var rn=0;rn<Fr.length;rn++){var an=Fr[rn],ln=an.data.getItemGraphicEl(an.dataIndex);ln&&(Jr[ln.id]=!0)}function dn(hn,gn){var bn=Br[gn],kn=Fr[hn],Sn=kn.data.hostModel,_n=bn.data.getItemGraphicEl(bn.dataIndex),pn=kn.data.getItemGraphicEl(kn.dataIndex);if(_n===pn){pn&&animateElementStyles(pn,kn.dataIndex,Sn);return}_n&&Jr[_n.id]||pn&&(stopAnimation(pn),_n?(stopAnimation(_n),removeEl(_n),Yr=!0,applyMorphAnimation(getPathList(_n),getPathList(pn),kn.divide,Sn,hn,zr)):fadeInElement(pn,Sn,hn))}new DataDiffer$1(Br,Fr,Kr(!0,Qr),Kr(!1,Qr),null,"multiple").update(dn).updateManyToOne(function(hn,gn){var bn=Fr[hn],kn=bn.data,Sn=kn.hostModel,_n=kn.getItemGraphicEl(bn.dataIndex),pn=filter(map$1(gn,function(Cn){return Br[Cn].data.getItemGraphicEl(Br[Cn].dataIndex)}),function(Cn){return Cn&&Cn!==_n&&!Jr[Cn.id]});_n&&(stopAnimation(_n),pn.length?(each$f(pn,function(Cn){stopAnimation(Cn),removeEl(Cn)}),Yr=!0,applyMorphAnimation(getPathList(pn),getPathList(_n),bn.divide,Sn,hn,zr)):fadeInElement(_n,Sn,bn.dataIndex))}).updateOneToMany(function(hn,gn){var bn=Br[gn],kn=bn.data.getItemGraphicEl(bn.dataIndex);if(!(kn&&Jr[kn.id])){var Sn=filter(map$1(hn,function(pn){return Fr[pn].data.getItemGraphicEl(Fr[pn].dataIndex)}),function(pn){return pn&&pn!==kn}),_n=Fr[hn[0]].data.hostModel;Sn.length&&(each$f(Sn,function(pn){return stopAnimation(pn)}),kn?(stopAnimation(kn),removeEl(kn),Yr=!0,applyMorphAnimation(getPathList(kn),getPathList(Sn),bn.divide,_n,hn[0],zr)):each$f(Sn,function(pn){return fadeInElement(pn,_n,hn[0])}))}}).updateManyToMany(function(hn,gn){new DataDiffer$1(gn,hn,function(bn){return Br[bn].data.getId(Br[bn].dataIndex)},function(bn){return Fr[bn].data.getId(Fr[bn].dataIndex)}).update(function(bn,kn){dn(hn[bn],gn[kn])}).execute()}).execute(),Yr&&each$f(_r,function(hn){var gn=hn.data,bn=gn.hostModel,kn=bn&&$r.getViewOfSeriesModel(bn),Sn=getAnimationConfig("update",bn,0);kn&&bn.isAnimationEnabled()&&Sn&&Sn.duration>0&&kn.group.traverse(function(_n){_n instanceof Path$1&&!_n.animators.length&&_n.animateFrom({style:{opacity:0}},Sn)})})}function getSeriesTransitionKey(Fe){var _r=Fe.getModel("universalTransition").get("seriesKey");return _r||Fe.id}function convertArraySeriesKeyToString(Fe){return isArray$1(Fe)?Fe.sort().join(","):Fe}function getDivideShapeFromData(Fe){if(Fe.hostModel)return Fe.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(Fe,_r){var $r=createHashMap(),Br=createHashMap(),Fr=createHashMap();return each$f(Fe.oldSeries,function(zr,jr){var Ur=Fe.oldDataGroupIds[jr],Gr=Fe.oldData[jr],Yr=getSeriesTransitionKey(zr),Kr=convertArraySeriesKeyToString(Yr);Br.set(Kr,{dataGroupId:Ur,data:Gr}),isArray$1(Yr)&&each$f(Yr,function(Qr){Fr.set(Qr,{key:Kr,dataGroupId:Ur,data:Gr})})}),each$f(_r.updatedSeries,function(zr){if(zr.isUniversalTransitionEnabled()&&zr.isAnimationEnabled()){var jr=zr.get("dataGroupId"),Ur=zr.getData(),Gr=getSeriesTransitionKey(zr),Yr=convertArraySeriesKeyToString(Gr),Kr=Br.get(Yr);if(Kr)$r.set(Yr,{oldSeries:[{dataGroupId:Kr.dataGroupId,divide:getDivideShapeFromData(Kr.data),data:Kr.data}],newSeries:[{dataGroupId:jr,divide:getDivideShapeFromData(Ur),data:Ur}]});else if(isArray$1(Gr)){var Qr=[];each$f(Gr,function(an){var ln=Br.get(an);ln.data&&Qr.push({dataGroupId:ln.dataGroupId,divide:getDivideShapeFromData(ln.data),data:ln.data})}),Qr.length&&$r.set(Yr,{oldSeries:Qr,newSeries:[{dataGroupId:jr,data:Ur,divide:getDivideShapeFromData(Ur)}]})}else{var Jr=Fr.get(Gr);if(Jr){var rn=$r.get(Jr.key);rn||(rn={oldSeries:[{dataGroupId:Jr.dataGroupId,data:Jr.data,divide:getDivideShapeFromData(Jr.data)}],newSeries:[]},$r.set(Jr.key,rn)),rn.newSeries.push({dataGroupId:jr,data:Ur,divide:getDivideShapeFromData(Ur)})}}}}),$r}function querySeries(Fe,_r){for(var $r=0;$r<Fe.length;$r++){var Br=_r.seriesIndex!=null&&_r.seriesIndex===Fe[$r].seriesIndex||_r.seriesId!=null&&_r.seriesId===Fe[$r].id;if(Br)return $r}}function transitionSeriesFromOpt(Fe,_r,$r,Br){var Fr=[],zr=[];each$f(normalizeToArray(Fe.from),function(jr){var Ur=querySeries(_r.oldSeries,jr);Ur>=0&&Fr.push({dataGroupId:_r.oldDataGroupIds[Ur],data:_r.oldData[Ur],divide:getDivideShapeFromData(_r.oldData[Ur]),dim:jr.dimension})}),each$f(normalizeToArray(Fe.to),function(jr){var Ur=querySeries($r.updatedSeries,jr);if(Ur>=0){var Gr=$r.updatedSeries[Ur].getData();zr.push({dataGroupId:_r.oldDataGroupIds[Ur],data:Gr,divide:getDivideShapeFromData(Gr),dim:jr.dimension})}}),Fr.length>0&&zr.length>0&&transitionBetween(Fr,zr,Br)}function installUniversalTransition(Fe){Fe.registerUpdateLifecycle("series:beforeupdate",function(_r,$r,Br){each$f(normalizeToArray(Br.seriesTransition),function(Fr){each$f(normalizeToArray(Fr.to),function(zr){for(var jr=Br.updatedSeries,Ur=0;Ur<jr.length;Ur++)(zr.seriesIndex!=null&&zr.seriesIndex===jr[Ur].seriesIndex||zr.seriesId!=null&&zr.seriesId===jr[Ur].id)&&(jr[Ur][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),Fe.registerUpdateLifecycle("series:transition",function(_r,$r,Br){var Fr=getUniversalTransitionGlobalStore($r);if(Fr.oldSeries&&Br.updatedSeries&&Br.optionChanged){var zr=Br.seriesTransition;if(zr)each$f(normalizeToArray(zr),function(rn){transitionSeriesFromOpt(rn,Fr,Br,$r)});else{var jr=findTransitionSeriesBatches(Fr,Br);each$f(jr.keys(),function(rn){var an=jr.get(rn);transitionBetween(an.oldSeries,an.newSeries,$r)})}each$f(Br.updatedSeries,function(rn){rn[SERIES_UNIVERSAL_TRANSITION_PROP]&&(rn[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var Ur=_r.getSeries(),Gr=Fr.oldSeries=[],Yr=Fr.oldDataGroupIds=[],Kr=Fr.oldData=[],Qr=0;Qr<Ur.length;Qr++){var Jr=Ur[Qr].getData();Jr.count()<DATA_COUNT_THRESHOLD&&(Gr.push(Ur[Qr]),Yr.push(Ur[Qr].get("dataGroupId")),Kr.push(Jr))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);const echarts=Object.freeze(Object.defineProperty({__proto__:null,Axis:Axis$1,ChartView:ChartView$1,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,List:SeriesData$1,Model:Model$1,PRIORITY,SeriesModel:SeriesModel$1,color,connect,dataTool,dependencies,disConnect,disconnect,dispose,env:env$1,extendChartView,extendComponentModel,extendComponentView,extendSeriesModel,format,getCoordinateSystemDimensions,getInstanceByDom,getInstanceById,getMap,graphic,helper,init:init$1,innerDrawElementOnCanvas:brushSingle,matrix,number,parseGeoJSON,parseGeoJson:parseGeoJSON,registerAction,registerCoordinateSystem,registerLayout,registerLoading,registerLocale,registerMap:registerMap$1,registerPostInit,registerPostUpdate,registerPreprocessor,registerProcessor,registerTheme,registerTransform,registerUpdateLifecycle,registerVisual,setCanvasCreator,setPlatformAPI,throttle,time,use,util,vector,version,zrUtil:util$1,zrender},Symbol.toStringTag,{value:"Module"}));var objectExtend=extend;function extend(){var Fe=[].slice.call(arguments),_r=!1;typeof Fe[0]=="boolean"&&(_r=Fe.shift());var $r=Fe[0];if(isUnextendable($r))throw new Error("extendee must be an object");for(var Br=Fe.slice(1),Fr=Br.length,zr=0;zr<Fr;zr++){var jr=Br[zr];for(var Ur in jr)if(Object.prototype.hasOwnProperty.call(jr,Ur)){var Gr=jr[Ur];if(_r&&isCloneable(Gr)){var Yr=Array.isArray(Gr)?[]:{};$r[Ur]=extend(!0,Object.prototype.hasOwnProperty.call($r,Ur)&&!isUnextendable($r[Ur])?$r[Ur]:Yr,Gr)}else $r[Ur]=Gr}}return $r}function isCloneable(Fe){return Array.isArray(Fe)||{}.toString.call(Fe)=="[object Object]"}function isUnextendable(Fe){return!Fe||typeof Fe!="object"&&typeof Fe!="function"}function $parcel$interopDefault(Fe){return Fe&&Fe.__esModule?Fe.default:Fe}class $4040acfd8584338d$export$2e2bcd8739ae039{on(_r,$r){return this._callbacks=this._callbacks||{},this._callbacks[_r]||(this._callbacks[_r]=[]),this._callbacks[_r].push($r),this}emit(_r,...$r){this._callbacks=this._callbacks||{};let Br=this._callbacks[_r];if(Br)for(let Fr of Br)Fr.apply(this,$r);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+_r,{args:$r})),this}makeEvent(_r,$r){let Br={bubbles:!0,cancelable:!0,detail:$r};if(typeof window.CustomEvent=="function")return new CustomEvent(_r,Br);var Fr=document.createEvent("CustomEvent");return Fr.initCustomEvent(_r,Br.bubbles,Br.cancelable,Br.detail),Fr}off(_r,$r){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let Br=this._callbacks[_r];if(!Br)return this;if(arguments.length===1)return delete this._callbacks[_r],this;for(let Fr=0;Fr<Br.length;Fr++)if(Br[Fr]===$r){Br.splice(Fr,1);break}return this}}var $fd6031f88dce2e32$exports={};$fd6031f88dce2e32$exports=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let $4ca367182776f80b$var$defaultOptions={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(Fe,_r,$r){if($r)return{dzuuid:$r.file.upload.uuid,dzchunkindex:$r.index,dztotalfilesize:$r.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:$r.file.upload.totalChunkCount,dzchunkbyteoffset:$r.index*this.options.chunkSize}},accept(Fe,_r){return _r()},chunksUploaded:function(Fe,_r){_r()},binaryBody:!1,fallback(){let Fe;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let $r of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test($r.className)){Fe=$r,$r.className="dz-message";break}Fe||(Fe=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(Fe));let _r=Fe.getElementsByTagName("span")[0];return _r&&(_r.textContent!=null?_r.textContent=this.options.dictFallbackMessage:_r.innerText!=null&&(_r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(Fe,_r,$r,Br){let Fr={srcX:0,srcY:0,srcWidth:Fe.width,srcHeight:Fe.height},zr=Fe.width/Fe.height;_r==null&&$r==null?(_r=Fr.srcWidth,$r=Fr.srcHeight):_r==null?_r=$r*zr:$r==null&&($r=_r/zr),_r=Math.min(_r,Fr.srcWidth),$r=Math.min($r,Fr.srcHeight);let jr=_r/$r;if(Fr.srcWidth>_r||Fr.srcHeight>$r)if(Br==="crop")zr>jr?(Fr.srcHeight=Fe.height,Fr.srcWidth=Fr.srcHeight*jr):(Fr.srcWidth=Fe.width,Fr.srcHeight=Fr.srcWidth/jr);else if(Br==="contain")zr>jr?$r=_r/zr:_r=$r*zr;else throw new Error(`Unknown resizeMethod '${Br}'`);return Fr.srcX=(Fe.width-Fr.srcWidth)/2,Fr.srcY=(Fe.height-Fr.srcHeight)/2,Fr.trgWidth=_r,Fr.trgHeight=$r,Fr},transformFile(Fe,_r){return(this.options.resizeWidth||this.options.resizeHeight)&&Fe.type.match(/image.*/)?this.resizeImage(Fe,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,_r):_r(Fe)},previewTemplate:$parcel$interopDefault($fd6031f88dce2e32$exports),drop(Fe){return this.element.classList.remove("dz-drag-hover")},dragstart(Fe){},dragend(Fe){return this.element.classList.remove("dz-drag-hover")},dragenter(Fe){return this.element.classList.add("dz-drag-hover")},dragover(Fe){return this.element.classList.add("dz-drag-hover")},dragleave(Fe){return this.element.classList.remove("dz-drag-hover")},paste(Fe){},reset(){return this.element.classList.remove("dz-started")},addedfile(Fe){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){Fe.previewElement=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(this.options.previewTemplate.trim()),Fe.previewTemplate=Fe.previewElement,this.previewsContainer.appendChild(Fe.previewElement);for(var _r of Fe.previewElement.querySelectorAll("[data-dz-name]"))_r.textContent=Fe.name;for(_r of Fe.previewElement.querySelectorAll("[data-dz-size]"))_r.innerHTML=this.filesize(Fe.size);this.options.addRemoveLinks&&(Fe._removeLink=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),Fe.previewElement.appendChild(Fe._removeLink));let $r=Br=>(Br.preventDefault(),Br.stopPropagation(),Fe.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING?$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(Fe)):this.options.dictRemoveFileConfirmation?$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(Fe)):this.removeFile(Fe));for(let Br of Fe.previewElement.querySelectorAll("[data-dz-remove]"))Br.addEventListener("click",$r)}},removedfile(Fe){return Fe.previewElement!=null&&Fe.previewElement.parentNode!=null&&Fe.previewElement.parentNode.removeChild(Fe.previewElement),this._updateMaxFilesReachedClass()},thumbnail(Fe,_r){if(Fe.previewElement){Fe.previewElement.classList.remove("dz-file-preview");for(let $r of Fe.previewElement.querySelectorAll("[data-dz-thumbnail]"))$r.alt=Fe.name,$r.src=_r;return setTimeout(()=>Fe.previewElement.classList.add("dz-image-preview"),1)}},error(Fe,_r){if(Fe.previewElement){Fe.previewElement.classList.add("dz-error"),typeof _r!="string"&&_r.error&&(_r=_r.error);for(let $r of Fe.previewElement.querySelectorAll("[data-dz-errormessage]"))$r.textContent=_r}},errormultiple(){},processing(Fe){if(Fe.previewElement&&(Fe.previewElement.classList.add("dz-processing"),Fe._removeLink))return Fe._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(Fe,_r,$r){if(Fe.previewElement)for(let Br of Fe.previewElement.querySelectorAll("[data-dz-uploadprogress]"))Br.nodeName==="PROGRESS"?Br.value=_r:Br.style.width=`${_r}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(Fe){if(Fe.previewElement)return Fe.previewElement.classList.add("dz-success")},successmultiple(){},canceled(Fe){return this.emit("error",Fe,this.options.dictUploadCanceled)},canceledmultiple(){},complete(Fe){if(Fe._removeLink&&(Fe._removeLink.innerHTML=this.options.dictRemoveFile),Fe.previewElement)return Fe.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var $4ca367182776f80b$export$2e2bcd8739ae039=$4ca367182776f80b$var$defaultOptions;class $3ed269f2f0fb224b$export$2e2bcd8739ae039 extends $4040acfd8584338d$export$2e2bcd8739ae039{static initClass(){this.prototype.Emitter=$4040acfd8584338d$export$2e2bcd8739ae039,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(_r=>_r.accepted).map(_r=>_r)}getRejectedFiles(){return this.files.filter(_r=>!_r.accepted).map(_r=>_r)}getFilesWithStatus(_r){return this.files.filter($r=>$r.status===_r).map($r=>$r)}getQueuedFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED)}getActiveFiles(){return this.files.filter(_r=>_r.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING||_r.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED).map(_r=>_r)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild($3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let Br=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:Fr}=this.hiddenFileInput;if(Fr.length)for(let zr of Fr)this.addFile(zr);this.emit("addedfiles",Fr),Br()})};Br()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let Br of this.events)this.on(Br,this.options[Br]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",Br=>this.emit("complete",Br)),this.on("complete",Br=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const _r=function(Br){if(Br.dataTransfer.types){for(var Fr=0;Fr<Br.dataTransfer.types.length;Fr++)if(Br.dataTransfer.types[Fr]==="Files")return!0}return!1};let $r=function(Br){if(_r(Br))return Br.stopPropagation(),Br.preventDefault?Br.preventDefault():Br.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:Br=>this.emit("dragstart",Br),dragenter:Br=>($r(Br),this.emit("dragenter",Br)),dragover:Br=>{let Fr;try{Fr=Br.dataTransfer.effectAllowed}catch{}return Br.dataTransfer.dropEffect=Fr==="move"||Fr==="linkMove"?"move":"copy",$r(Br),this.emit("dragover",Br)},dragleave:Br=>this.emit("dragleave",Br),drop:Br=>($r(Br),this.drop(Br)),dragend:Br=>this.emit("dragend",Br)}}],this.clickableElements.forEach(Br=>this.listeners.push({element:Br,events:{click:Fr=>((Br!==this.element||Fr.target===this.element||$3ed269f2f0fb224b$export$2e2bcd8739ae039.elementInside(Fr.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.splice($3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.indexOf(this),1)}updateTotalUploadProgress(){let _r,$r=0,Br=0;if(this.getActiveFiles().length){for(let zr of this.getActiveFiles())$r+=zr.upload.bytesSent,Br+=zr.upload.total;_r=100*$r/Br}else _r=100;return this.emit("totaluploadprogress",_r,Br,$r)}_getParamName(_r){return typeof this.options.paramName=="function"?this.options.paramName(_r):`${this.options.paramName}${this.options.uploadMultiple?`[${_r}]`:""}`}_renameFile(_r){return typeof this.options.renameFile!="function"?_r.name:this.options.renameFile(_r)}getFallbackForm(){let _r,$r;if(_r=this.getExistingFallback())return _r;let Br='<div class="dz-fallback">';this.options.dictFallbackText&&(Br+=`<p>${this.options.dictFallbackText}</p>`),Br+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let Fr=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(Br);return this.element.tagName!=="FORM"?($r=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),$r.appendChild(Fr)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),$r??Fr}getExistingFallback(){let _r=function(Br){for(let Fr of Br)if(/(^| )fallback($| )/.test(Fr.className))return Fr};for(let Br of["div","form"]){var $r;if($r=_r(this.element.getElementsByTagName(Br)))return $r}}setupEventListeners(){return this.listeners.map(_r=>(()=>{let $r=[];for(let Br in _r.events){let Fr=_r.events[Br];$r.push(_r.element.addEventListener(Br,Fr,!1))}return $r})())}removeEventListeners(){return this.listeners.map(_r=>(()=>{let $r=[];for(let Br in _r.events){let Fr=_r.events[Br];$r.push(_r.element.removeEventListener(Br,Fr,!1))}return $r})())}disable(){return this.clickableElements.forEach(_r=>_r.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(_r=>this.cancelUpload(_r))}enable(){return delete this.disabled,this.clickableElements.forEach(_r=>_r.classList.add("dz-clickable")),this.setupEventListeners()}filesize(_r){let $r=0,Br="b";if(_r>0){let Fr=["tb","gb","mb","kb","b"];for(let zr=0;zr<Fr.length;zr++){let jr=Fr[zr],Ur=Math.pow(this.options.filesizeBase,4-zr)/10;if(_r>=Ur){$r=_r/Math.pow(this.options.filesizeBase,4-zr),Br=jr;break}}$r=Math.round(10*$r)/10}return`<strong>${$r}</strong> ${this.options.dictFileSizeUnits[Br]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(_r){if(!_r.dataTransfer)return;this.emit("drop",_r);let $r=[];for(let Br=0;Br<_r.dataTransfer.files.length;Br++)$r[Br]=_r.dataTransfer.files[Br];if($r.length){let{items:Br}=_r.dataTransfer;Br&&Br.length&&Br[0].webkitGetAsEntry!=null?this._addFilesFromItems(Br):this.handleFiles($r)}this.emit("addedfiles",$r)}paste(_r){if($3ed269f2f0fb224b$var$__guard__(_r!=null?_r.clipboardData:void 0,Br=>Br.items)==null)return;this.emit("paste",_r);let{items:$r}=_r.clipboardData;if($r.length)return this._addFilesFromItems($r)}handleFiles(_r){for(let $r of _r)this.addFile($r)}_addFilesFromItems(_r){return(()=>{let $r=[];for(let Fr of _r){var Br;Fr.webkitGetAsEntry!=null&&(Br=Fr.webkitGetAsEntry())?Br.isFile?$r.push(this.addFile(Fr.getAsFile())):Br.isDirectory?$r.push(this._addFilesFromDirectory(Br,Br.name)):$r.push(void 0):Fr.getAsFile!=null&&(Fr.kind==null||Fr.kind==="file")?$r.push(this.addFile(Fr.getAsFile())):$r.push(void 0)}return $r})()}_addFilesFromDirectory(_r,$r){let Br=_r.createReader(),Fr=jr=>$3ed269f2f0fb224b$var$__guardMethod__(console,"log",Ur=>Ur.log(jr));var zr=()=>Br.readEntries(jr=>{if(jr.length>0){for(let Ur of jr)Ur.isFile?Ur.file(Gr=>{if(!(this.options.ignoreHiddenFiles&&Gr.name.substring(0,1)==="."))return Gr.fullPath=`${$r}/${Gr.name}`,this.addFile(Gr)}):Ur.isDirectory&&this._addFilesFromDirectory(Ur,`${$r}/${Ur.name}`);zr()}return null},Fr);return zr()}accept(_r,$r){this.options.maxFilesize&&_r.size>this.options.maxFilesize*1048576?$r(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(_r.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):$3ed269f2f0fb224b$export$2e2bcd8739ae039.isValidFile(_r,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?($r(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",_r)):this.options.accept.call(this,_r,$r):$r(this.options.dictInvalidFileType)}addFile(_r){_r.upload={uuid:$3ed269f2f0fb224b$export$2e2bcd8739ae039.uuidv4(),progress:0,total:_r.size,bytesSent:0,filename:this._renameFile(_r)},this.files.push(_r),_r.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED,this.emit("addedfile",_r),this._enqueueThumbnail(_r),this.accept(_r,$r=>{$r?(_r.accepted=!1,this._errorProcessing([_r],$r)):(_r.accepted=!0,this.options.autoQueue&&this.enqueueFile(_r)),this._updateMaxFilesReachedClass()})}enqueueFiles(_r){for(let $r of _r)this.enqueueFile($r);return null}enqueueFile(_r){if(_r.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED&&_r.accepted===!0){if(_r.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(_r){if(this.options.createImageThumbnails&&_r.type.match(/image.*/)&&_r.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(_r),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let _r=this._thumbnailQueue.shift();return this.createThumbnail(_r,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,$r=>(this.emit("thumbnail",_r,$r),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(_r){if(_r.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING&&this.cancelUpload(_r),this.files=$3ed269f2f0fb224b$var$without(this.files,_r),this.emit("removedfile",_r),this.files.length===0)return this.emit("reset")}removeAllFiles(_r){_r==null&&(_r=!1);for(let $r of this.files.slice())($r.status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING||_r)&&this.removeFile($r);return null}resizeImage(_r,$r,Br,Fr,zr){return this.createThumbnail(_r,$r,Br,Fr,!0,(jr,Ur)=>{if(Ur==null)return zr(_r);{let{resizeMimeType:Gr}=this.options;Gr==null&&(Gr=_r.type);let Yr=Ur.toDataURL(Gr,this.options.resizeQuality);return(Gr==="image/jpeg"||Gr==="image/jpg")&&(Yr=$3ed269f2f0fb224b$var$ExifRestore.restore(_r.dataURL,Yr)),zr($3ed269f2f0fb224b$export$2e2bcd8739ae039.dataURItoBlob(Yr))}})}createThumbnail(_r,$r,Br,Fr,zr,jr){let Ur=new FileReader;Ur.onload=()=>{if(_r.dataURL=Ur.result,_r.type==="image/svg+xml"){jr!=null&&jr(Ur.result);return}this.createThumbnailFromUrl(_r,$r,Br,Fr,zr,jr)},Ur.readAsDataURL(_r)}displayExistingFile(_r,$r,Br,Fr,zr=!0){if(this.emit("addedfile",_r),this.emit("complete",_r),!zr)this.emit("thumbnail",_r,$r),Br&&Br();else{let jr=Ur=>{this.emit("thumbnail",_r,Ur),Br&&Br()};_r.dataURL=$r,this.createThumbnailFromUrl(_r,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,jr,Fr)}}createThumbnailFromUrl(_r,$r,Br,Fr,zr,jr,Ur){let Gr=document.createElement("img");return Ur&&(Gr.crossOrigin=Ur),zr=getComputedStyle(document.body).imageOrientation=="from-image"?!1:zr,Gr.onload=()=>{let Yr=Kr=>Kr(1);return typeof EXIF<"u"&&EXIF!==null&&zr&&(Yr=Kr=>EXIF.getData(Gr,function(){return Kr(EXIF.getTag(this,"Orientation"))})),Yr(Kr=>{_r.width=Gr.width,_r.height=Gr.height;let Qr=this.options.resize.call(this,_r,$r,Br,Fr),Jr=document.createElement("canvas"),rn=Jr.getContext("2d");switch(Jr.width=Qr.trgWidth,Jr.height=Qr.trgHeight,Kr>4&&(Jr.width=Qr.trgHeight,Jr.height=Qr.trgWidth),Kr){case 2:rn.translate(Jr.width,0),rn.scale(-1,1);break;case 3:rn.translate(Jr.width,Jr.height),rn.rotate(Math.PI);break;case 4:rn.translate(0,Jr.height),rn.scale(1,-1);break;case 5:rn.rotate(.5*Math.PI),rn.scale(1,-1);break;case 6:rn.rotate(.5*Math.PI),rn.translate(0,-Jr.width);break;case 7:rn.rotate(.5*Math.PI),rn.translate(Jr.height,-Jr.width),rn.scale(-1,1);break;case 8:rn.rotate(-.5*Math.PI),rn.translate(-Jr.height,0);break}$3ed269f2f0fb224b$var$drawImageIOSFix(rn,Gr,Qr.srcX!=null?Qr.srcX:0,Qr.srcY!=null?Qr.srcY:0,Qr.srcWidth,Qr.srcHeight,Qr.trgX!=null?Qr.trgX:0,Qr.trgY!=null?Qr.trgY:0,Qr.trgWidth,Qr.trgHeight);let an=Jr.toDataURL("image/png");if(jr!=null)return jr(an,Jr)})},jr!=null&&(Gr.onerror=jr),Gr.src=_r.dataURL}processQueue(){let{parallelUploads:_r}=this.options,$r=this.getUploadingFiles().length,Br=$r;if($r>=_r)return;let Fr=this.getQueuedFiles();if(Fr.length>0){if(this.options.uploadMultiple)return this.processFiles(Fr.slice(0,_r-$r));for(;Br<_r;){if(!Fr.length)return;this.processFile(Fr.shift()),Br++}}}processFile(_r){return this.processFiles([_r])}processFiles(_r){for(let $r of _r)$r.processing=!0,$r.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING,this.emit("processing",$r);return this.options.uploadMultiple&&this.emit("processingmultiple",_r),this.uploadFiles(_r)}_getFilesWithXhr(_r){return this.files.filter($r=>$r.xhr===_r).map($r=>$r)}cancelUpload(_r){if(_r.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING){let $r=this._getFilesWithXhr(_r.xhr);for(let Br of $r)Br.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED;typeof _r.xhr<"u"&&_r.xhr.abort();for(let Br of $r)this.emit("canceled",Br);this.options.uploadMultiple&&this.emit("canceledmultiple",$r)}else(_r.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED||_r.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED)&&(_r.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED,this.emit("canceled",_r),this.options.uploadMultiple&&this.emit("canceledmultiple",[_r]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(_r,...$r){return typeof _r=="function"?_r.apply(this,$r):_r}uploadFile(_r){return this.uploadFiles([_r])}uploadFiles(_r){this._transformFiles(_r,$r=>{if(this.options.chunking){let Br=$r[0];_r[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||Br.size>this.options.chunkSize),_r[0].upload.totalChunkCount=Math.ceil(Br.size/this.options.chunkSize)}if(_r[0].upload.chunked){let Br=_r[0],Fr=$r[0];Br.upload.chunks=[];let zr=()=>{let jr=0;for(;Br.upload.chunks[jr]!==void 0;)jr++;if(jr>=Br.upload.totalChunkCount)return;let Ur=jr*this.options.chunkSize,Gr=Math.min(Ur+this.options.chunkSize,Fr.size),Yr={name:this._getParamName(0),data:Fr.webkitSlice?Fr.webkitSlice(Ur,Gr):Fr.slice(Ur,Gr),filename:Br.upload.filename,chunkIndex:jr};Br.upload.chunks[jr]={file:Br,index:jr,dataBlock:Yr,status:$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING,progress:0,retries:0},this._uploadData(_r,[Yr])};if(Br.upload.finishedChunkUpload=(jr,Ur)=>{let Gr=!0;jr.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS,jr.dataBlock=null,jr.response=jr.xhr.responseText,jr.responseHeaders=jr.xhr.getAllResponseHeaders(),jr.xhr=null;for(let Yr=0;Yr<Br.upload.totalChunkCount;Yr++){if(Br.upload.chunks[Yr]===void 0)return zr();Br.upload.chunks[Yr].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS&&(Gr=!1)}Gr&&this.options.chunksUploaded(Br,()=>{this._finished(_r,Ur,null)})},this.options.parallelChunkUploads)for(let jr=0;jr<Br.upload.totalChunkCount;jr++)zr();else zr()}else{let Br=[];for(let Fr=0;Fr<_r.length;Fr++)Br[Fr]={name:this._getParamName(Fr),data:$r[Fr],filename:_r[Fr].upload.filename};this._uploadData(_r,Br)}})}_getChunk(_r,$r){for(let Br=0;Br<_r.upload.totalChunkCount;Br++)if(_r.upload.chunks[Br]!==void 0&&_r.upload.chunks[Br].xhr===$r)return _r.upload.chunks[Br]}_uploadData(_r,$r){let Br=new XMLHttpRequest;for(let Yr of _r)Yr.xhr=Br;_r[0].upload.chunked&&(_r[0].upload.chunks[$r[0].chunkIndex].xhr=Br);let Fr=this.resolveOption(this.options.method,_r,$r),zr=this.resolveOption(this.options.url,_r,$r);Br.open(Fr,zr,!0),this.resolveOption(this.options.timeout,_r)&&(Br.timeout=this.resolveOption(this.options.timeout,_r)),Br.withCredentials=!!this.options.withCredentials,Br.onload=Yr=>{this._finishedUploading(_r,Br,Yr)},Br.ontimeout=()=>{this._handleUploadError(_r,Br,`Request timedout after ${this.options.timeout/1e3} seconds`)},Br.onerror=()=>{this._handleUploadError(_r,Br)};let Ur=Br.upload!=null?Br.upload:Br;Ur.onprogress=Yr=>this._updateFilesUploadProgress(_r,Br,Yr);let Gr=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(Gr["Content-Type"]=_r[0].type),this.options.headers&&objectExtend(Gr,this.options.headers);for(let Yr in Gr){let Kr=Gr[Yr];Kr&&Br.setRequestHeader(Yr,Kr)}if(this.options.binaryBody){for(let Yr of _r)this.emit("sending",Yr,Br);this.options.uploadMultiple&&this.emit("sendingmultiple",_r,Br),this.submitRequest(Br,null,_r)}else{let Yr=new FormData;if(this.options.params){let Kr=this.options.params;typeof Kr=="function"&&(Kr=Kr.call(this,_r,Br,_r[0].upload.chunked?this._getChunk(_r[0],Br):null));for(let Qr in Kr){let Jr=Kr[Qr];if(Array.isArray(Jr))for(let rn=0;rn<Jr.length;rn++)Yr.append(Qr,Jr[rn]);else Yr.append(Qr,Jr)}}for(let Kr of _r)this.emit("sending",Kr,Br,Yr);this.options.uploadMultiple&&this.emit("sendingmultiple",_r,Br,Yr),this._addFormElementData(Yr);for(let Kr=0;Kr<$r.length;Kr++){let Qr=$r[Kr];Yr.append(Qr.name,Qr.data,Qr.filename)}this.submitRequest(Br,Yr,_r)}}_transformFiles(_r,$r){let Br=[],Fr=0;for(let zr=0;zr<_r.length;zr++)this.options.transformFile.call(this,_r[zr],jr=>{Br[zr]=jr,++Fr===_r.length&&$r(Br)})}_addFormElementData(_r){if(this.element.tagName==="FORM")for(let $r of this.element.querySelectorAll("input, textarea, select, button")){let Br=$r.getAttribute("name"),Fr=$r.getAttribute("type");if(Fr&&(Fr=Fr.toLowerCase()),!(typeof Br>"u"||Br===null))if($r.tagName==="SELECT"&&$r.hasAttribute("multiple"))for(let zr of $r.options)zr.selected&&_r.append(Br,zr.value);else(!Fr||Fr!=="checkbox"&&Fr!=="radio"||$r.checked)&&_r.append(Br,$r.value)}}_updateFilesUploadProgress(_r,$r,Br){if(_r[0].upload.chunked){let Fr=_r[0],zr=this._getChunk(Fr,$r);Br?(zr.progress=100*Br.loaded/Br.total,zr.total=Br.total,zr.bytesSent=Br.loaded):(zr.progress=100,zr.bytesSent=zr.total),Fr.upload.progress=0,Fr.upload.total=0,Fr.upload.bytesSent=0;for(let jr=0;jr<Fr.upload.totalChunkCount;jr++)Fr.upload.chunks[jr]&&typeof Fr.upload.chunks[jr].progress<"u"&&(Fr.upload.progress+=Fr.upload.chunks[jr].progress,Fr.upload.total+=Fr.upload.chunks[jr].total,Fr.upload.bytesSent+=Fr.upload.chunks[jr].bytesSent);Fr.upload.progress=Fr.upload.progress/Fr.upload.totalChunkCount,this.emit("uploadprogress",Fr,Fr.upload.progress,Fr.upload.bytesSent)}else for(let Fr of _r)Fr.upload.total&&Fr.upload.bytesSent&&Fr.upload.bytesSent==Fr.upload.total||(Br?(Fr.upload.progress=100*Br.loaded/Br.total,Fr.upload.total=Br.total,Fr.upload.bytesSent=Br.loaded):(Fr.upload.progress=100,Fr.upload.bytesSent=Fr.upload.total),this.emit("uploadprogress",Fr,Fr.upload.progress,Fr.upload.bytesSent))}_finishedUploading(_r,$r,Br){let Fr;if(_r[0].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED&&$r.readyState===4){if($r.responseType!=="arraybuffer"&&$r.responseType!=="blob"&&(Fr=$r.responseText,$r.getResponseHeader("content-type")&&~$r.getResponseHeader("content-type").indexOf("application/json")))try{Fr=JSON.parse(Fr)}catch(zr){Br=zr,Fr="Invalid JSON response from server."}this._updateFilesUploadProgress(_r,$r),200<=$r.status&&$r.status<300?_r[0].upload.chunked?_r[0].upload.finishedChunkUpload(this._getChunk(_r[0],$r),Fr):this._finished(_r,Fr,Br):this._handleUploadError(_r,$r,Fr)}}_handleUploadError(_r,$r,Br){if(_r[0].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED){if(_r[0].upload.chunked&&this.options.retryChunks){let Fr=this._getChunk(_r[0],$r);if(Fr.retries++<this.options.retryChunksLimit){this._uploadData(_r,[Fr.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(_r,Br||this.options.dictResponseError.replace("{{statusCode}}",$r.status),$r)}}submitRequest(_r,$r,Br){if(_r.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(Br[0].upload.chunked){const Fr=this._getChunk(Br[0],_r);_r.send(Fr.dataBlock.data)}else _r.send(Br[0]);else _r.send($r)}_finished(_r,$r,Br){for(let Fr of _r)Fr.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS,this.emit("success",Fr,$r,Br),this.emit("complete",Fr);if(this.options.uploadMultiple&&(this.emit("successmultiple",_r,$r,Br),this.emit("completemultiple",_r)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(_r,$r,Br){for(let Fr of _r)Fr.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.ERROR,this.emit("error",Fr,$r,Br),this.emit("complete",Fr);if(this.options.uploadMultiple&&(this.emit("errormultiple",_r,$r,Br),this.emit("completemultiple",_r)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_r){let $r=Math.random()*16|0;return(_r==="x"?$r:$r&3|8).toString(16)})}constructor(_r,$r){super();let Br,Fr;if(this.element=_r,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.push(this),this.element.dropzone=this;let zr=(Fr=$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement(this.element))!=null?Fr:{};if(this.options=objectExtend(!0,{},$4ca367182776f80b$export$2e2bcd8739ae039,zr,$r??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!$3ed269f2f0fb224b$export$2e2bcd8739ae039.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=jr=>this.options.renameFilename.call(this,jr.name,jr)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(Br=this.getExistingFallback())&&Br.parentNode&&Br.parentNode.removeChild(Br),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElements(this.options.clickable,"clickable")),this.init()}}$3ed269f2f0fb224b$export$2e2bcd8739ae039.initClass();$3ed269f2f0fb224b$export$2e2bcd8739ae039.options={};$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement=function(Fe){if(Fe.getAttribute("id"))return $3ed269f2f0fb224b$export$2e2bcd8739ae039.options[$3ed269f2f0fb224b$var$camelize(Fe.getAttribute("id"))]};$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances=[];$3ed269f2f0fb224b$export$2e2bcd8739ae039.forElement=function(Fe){if(typeof Fe=="string"&&(Fe=document.querySelector(Fe)),(Fe!=null?Fe.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return Fe.dropzone};$3ed269f2f0fb224b$export$2e2bcd8739ae039.discover=function(){let Fe;if(document.querySelectorAll)Fe=document.querySelectorAll(".dropzone");else{Fe=[];let _r=$r=>(()=>{let Br=[];for(let Fr of $r)/(^| )dropzone($| )/.test(Fr.className)?Br.push(Fe.push(Fr)):Br.push(void 0);return Br})();_r(document.getElementsByTagName("div")),_r(document.getElementsByTagName("form"))}return(()=>{let _r=[];for(let $r of Fe)$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement($r)!==!1?_r.push(new $3ed269f2f0fb224b$export$2e2bcd8739ae039($r)):_r.push(void 0);return _r})()};$3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];$3ed269f2f0fb224b$export$2e2bcd8739ae039.isBrowserSupported=function(){let Fe=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))Fe=!1;else{$3ed269f2f0fb224b$export$2e2bcd8739ae039.blacklistedBrowsers!==void 0&&($3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers=$3ed269f2f0fb224b$export$2e2bcd8739ae039.blacklistedBrowsers);for(let _r of $3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers)if(_r.test(navigator.userAgent)){Fe=!1;continue}}else Fe=!1;return Fe};$3ed269f2f0fb224b$export$2e2bcd8739ae039.dataURItoBlob=function(Fe){let _r=atob(Fe.split(",")[1]),$r=Fe.split(",")[0].split(":")[1].split(";")[0],Br=new ArrayBuffer(_r.length),Fr=new Uint8Array(Br);for(let zr=0,jr=_r.length,Ur=0<=jr;Ur?zr<=jr:zr>=jr;Ur?zr++:zr--)Fr[zr]=_r.charCodeAt(zr);return new Blob([Br],{type:$r})};const $3ed269f2f0fb224b$var$without=(Fe,_r)=>Fe.filter($r=>$r!==_r).map($r=>$r),$3ed269f2f0fb224b$var$camelize=Fe=>Fe.replace(/[\-_](\w)/g,_r=>_r.charAt(1).toUpperCase());$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement=function(Fe){let _r=document.createElement("div");return _r.innerHTML=Fe,_r.childNodes[0]};$3ed269f2f0fb224b$export$2e2bcd8739ae039.elementInside=function(Fe,_r){if(Fe===_r)return!0;for(;Fe=Fe.parentNode;)if(Fe===_r)return!0;return!1};$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement=function(Fe,_r){let $r;if(typeof Fe=="string"?$r=document.querySelector(Fe):Fe.nodeType!=null&&($r=Fe),$r==null)throw new Error(`Invalid \`${_r}\` option provided. Please provide a CSS selector or a plain HTML element.`);return $r};$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElements=function(Fe,_r){let $r,Br;if(Fe instanceof Array){Br=[];try{for($r of Fe)Br.push(this.getElement($r,_r))}catch{Br=null}}else if(typeof Fe=="string"){Br=[];for($r of document.querySelectorAll(Fe))Br.push($r)}else Fe.nodeType!=null&&(Br=[Fe]);if(Br==null||!Br.length)throw new Error(`Invalid \`${_r}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return Br};$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm=function(Fe,_r,$r){if(window.confirm(Fe))return _r();if($r!=null)return $r()};$3ed269f2f0fb224b$export$2e2bcd8739ae039.isValidFile=function(Fe,_r){if(!_r)return!0;_r=_r.split(",");let $r=Fe.type,Br=$r.replace(/\/.*$/,"");for(let Fr of _r)if(Fr=Fr.trim(),Fr.charAt(0)==="."){if(Fe.name.toLowerCase().indexOf(Fr.toLowerCase(),Fe.name.length-Fr.length)!==-1)return!0}else if(/\/\*$/.test(Fr)){if(Br===Fr.replace(/\/.*$/,""))return!0}else if($r===Fr)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(Fe){return this.each(function(){return new $3ed269f2f0fb224b$export$2e2bcd8739ae039(this,Fe)})});$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED="added";$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED="queued";$3ed269f2f0fb224b$export$2e2bcd8739ae039.ACCEPTED=$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED;$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING="uploading";$3ed269f2f0fb224b$export$2e2bcd8739ae039.PROCESSING=$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING;$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED="canceled";$3ed269f2f0fb224b$export$2e2bcd8739ae039.ERROR="error";$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS="success";let $3ed269f2f0fb224b$var$detectVerticalSquash=function(Fe){Fe.naturalWidth;let _r=Fe.naturalHeight,$r=document.createElement("canvas");$r.width=1,$r.height=_r;let Br=$r.getContext("2d");Br.drawImage(Fe,0,0);let{data:Fr}=Br.getImageData(1,0,1,_r),zr=0,jr=_r,Ur=_r;for(;Ur>zr;)Fr[(Ur-1)*4+3]===0?jr=Ur:zr=Ur,Ur=jr+zr>>1;let Gr=Ur/_r;return Gr===0?1:Gr};var $3ed269f2f0fb224b$var$drawImageIOSFix=function(Fe,_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr){let Kr=$3ed269f2f0fb224b$var$detectVerticalSquash(_r);return Fe.drawImage(_r,$r,Br,Fr,zr,jr,Ur,Gr,Yr/Kr)};class $3ed269f2f0fb224b$var$ExifRestore{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(_r){let $r="",Br,Fr,zr="",jr,Ur,Gr,Yr="",Kr=0;for(;Br=_r[Kr++],Fr=_r[Kr++],zr=_r[Kr++],jr=Br>>2,Ur=(Br&3)<<4|Fr>>4,Gr=(Fr&15)<<2|zr>>6,Yr=zr&63,isNaN(Fr)?Gr=Yr=64:isNaN(zr)&&(Yr=64),$r=$r+this.KEY_STR.charAt(jr)+this.KEY_STR.charAt(Ur)+this.KEY_STR.charAt(Gr)+this.KEY_STR.charAt(Yr),Br=Fr=zr="",jr=Ur=Gr=Yr="",Kr<_r.length;);return $r}static restore(_r,$r){if(!_r.match("data:image/jpeg;base64,"))return $r;let Br=this.decode64(_r.replace("data:image/jpeg;base64,","")),Fr=this.slice2Segments(Br),zr=this.exifManipulation($r,Fr);return`data:image/jpeg;base64,${this.encode64(zr)}`}static exifManipulation(_r,$r){let Br=this.getExifArray($r),Fr=this.insertExif(_r,Br);return new Uint8Array(Fr)}static getExifArray(_r){let $r,Br=0;for(;Br<_r.length;){if($r=_r[Br],$r[0]===255&$r[1]===225)return $r;Br++}return[]}static insertExif(_r,$r){let Br=_r.replace("data:image/jpeg;base64,",""),Fr=this.decode64(Br),zr=Fr.indexOf(255,3),jr=Fr.slice(0,zr),Ur=Fr.slice(zr),Gr=jr;return Gr=Gr.concat($r),Gr=Gr.concat(Ur),Gr}static slice2Segments(_r){let $r=0,Br=[];for(;;){var Fr;if(_r[$r]===255&_r[$r+1]===218)break;if(_r[$r]===255&_r[$r+1]===216)$r+=2;else{Fr=_r[$r+2]*256+_r[$r+3];let zr=$r+Fr+2,jr=_r.slice($r,zr);Br.push(jr),$r=zr}if($r>_r.length)break}return Br}static decode64(_r){let $r,Br,Fr="",zr,jr,Ur,Gr="",Yr=0,Kr=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(_r)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),_r=_r.replace(/[^A-Za-z0-9\+\/\=]/g,"");zr=this.KEY_STR.indexOf(_r.charAt(Yr++)),jr=this.KEY_STR.indexOf(_r.charAt(Yr++)),Ur=this.KEY_STR.indexOf(_r.charAt(Yr++)),Gr=this.KEY_STR.indexOf(_r.charAt(Yr++)),$r=zr<<2|jr>>4,Br=(jr&15)<<4|Ur>>2,Fr=(Ur&3)<<6|Gr,Kr.push($r),Ur!==64&&Kr.push(Br),Gr!==64&&Kr.push(Fr),$r=Br=Fr="",zr=jr=Ur=Gr="",Yr<_r.length;);return Kr}}$3ed269f2f0fb224b$var$ExifRestore.initClass();function $3ed269f2f0fb224b$var$__guard__(Fe,_r){return typeof Fe<"u"&&Fe!==null?_r(Fe):void 0}function $3ed269f2f0fb224b$var$__guardMethod__(Fe,_r,$r){if(typeof Fe<"u"&&Fe!==null&&typeof Fe[_r]=="function")return $r(Fe,_r)}var htmx_min$1={exports:{}};(function(module){(function(Fe,_r){module.exports?module.exports=_r():Fe.htmx=Fe.htmx||_r()})(typeof self<"u"?self:commonjsGlobal,function(){return function(){var Y={onLoad:t,process:Dt,on:Z,off:K,trigger:fe,ajax:Cr,find:E,findAll:f,closest:d,values:function(Fe,_r){var $r=or(Fe,_r||"post");return $r.values},remove:B,addClass:F,removeClass:n,toggleClass:V,takeClass:j,defineExtension:Ar,removeExtension:Nr,logAll:X,logNone:U,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get"],selfRequestsOnly:!1,scrollIntoViewOnBoost:!0},parseInterval:v,_:e,createEventSource:function(Fe){return new EventSource(Fe,{withCredentials:!0})},createWebSocket:function(Fe){var _r=new WebSocket(Fe,[]);return _r.binaryType=Y.config.wsBinaryType,_r},version:"1.9.8"},r={addTriggerHandler:St,bodyContains:oe,canAccessLocalStorage:M,findThisElement:ve,filterValues:cr,hasAttribute:o,getAttributeValue:ee,getClosestAttributeValue:re,getClosestMatch:c,getExpressionVars:wr,getHeaders:fr,getInputValues:or,getInternalData:ie,getSwapSpecification:dr,getTriggerSpecs:Ze,getTarget:ge,makeFragment:l,mergeObjects:se,makeSettleInfo:T,oobSwap:ye,querySelectorExt:le,selectAndSwap:Ue,settleImmediately:Jt,shouldCancel:tt,triggerEvent:fe,triggerErrorEvent:ue,withExtensions:C},b=["get","post","put","delete","patch"],w=b.map(function(Fe){return"[hx-"+Fe+"], [data-hx-"+Fe+"]"}).join(", ");function v(Fe){if(Fe!=null)return Fe.slice(-2)=="ms"?parseFloat(Fe.slice(0,-2))||void 0:Fe.slice(-1)=="s"?parseFloat(Fe.slice(0,-1))*1e3||void 0:Fe.slice(-1)=="m"?parseFloat(Fe.slice(0,-1))*1e3*60||void 0:parseFloat(Fe)||void 0}function Q(Fe,_r){return Fe.getAttribute&&Fe.getAttribute(_r)}function o(Fe,_r){return Fe.hasAttribute&&(Fe.hasAttribute(_r)||Fe.hasAttribute("data-"+_r))}function ee(Fe,_r){return Q(Fe,_r)||Q(Fe,"data-"+_r)}function u(Fe){return Fe.parentElement}function te(){return document}function c(Fe,_r){for(;Fe&&!_r(Fe);)Fe=u(Fe);return Fe||null}function R(Fe,_r,$r){var Br=ee(_r,$r),Fr=ee(_r,"hx-disinherit");return Fe!==_r&&Fr&&(Fr==="*"||Fr.split(" ").indexOf($r)>=0)?"unset":Br}function re(Fe,_r){var $r=null;if(c(Fe,function(Br){return $r=R(Fe,Br,_r)}),$r!=="unset")return $r}function h(Fe,_r){var $r=Fe.matches||Fe.matchesSelector||Fe.msMatchesSelector||Fe.mozMatchesSelector||Fe.webkitMatchesSelector||Fe.oMatchesSelector;return $r&&$r.call(Fe,_r)}function q(Fe){var _r=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,$r=_r.exec(Fe);return $r?$r[1].toLowerCase():""}function i(Fe,_r){for(var $r=new DOMParser,Br=$r.parseFromString(Fe,"text/html"),Fr=Br.body;_r>0;)_r--,Fr=Fr.firstChild;return Fr==null&&(Fr=te().createDocumentFragment()),Fr}function H(Fe){return Fe.match(/<body/)}function l(Fe){var _r=!H(Fe);if(Y.config.useTemplateFragments&&_r){var $r=i("<body><template>"+Fe+"</template></body>",0);return $r.querySelector("template").content}else{var Br=q(Fe);switch(Br){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return i("<table>"+Fe+"</table>",1);case"col":return i("<table><colgroup>"+Fe+"</colgroup></table>",2);case"tr":return i("<table><tbody>"+Fe+"</tbody></table>",2);case"td":case"th":return i("<table><tbody><tr>"+Fe+"</tr></tbody></table>",3);case"script":case"style":return i("<div>"+Fe+"</div>",1);default:return i(Fe,0)}}}function ne(Fe){Fe&&Fe()}function L(Fe,_r){return Object.prototype.toString.call(Fe)==="[object "+_r+"]"}function A(Fe){return L(Fe,"Function")}function N(Fe){return L(Fe,"Object")}function ie(Fe){var _r="htmx-internal-data",$r=Fe[_r];return $r||($r=Fe[_r]={}),$r}function I(Fe){var _r=[];if(Fe)for(var $r=0;$r<Fe.length;$r++)_r.push(Fe[$r]);return _r}function ae(Fe,_r){if(Fe)for(var $r=0;$r<Fe.length;$r++)_r(Fe[$r])}function k(Fe){var _r=Fe.getBoundingClientRect(),$r=_r.top,Br=_r.bottom;return $r<window.innerHeight&&Br>=0}function oe(Fe){return Fe.getRootNode&&Fe.getRootNode()instanceof window.ShadowRoot?te().body.contains(Fe.getRootNode().host):te().body.contains(Fe)}function P(Fe){return Fe.trim().split(/\s+/)}function se(Fe,_r){for(var $r in _r)_r.hasOwnProperty($r)&&(Fe[$r]=_r[$r]);return Fe}function S(Fe){try{return JSON.parse(Fe)}catch(_r){return y(_r),null}}function M(){var Fe="htmx:localStorageTest";try{return localStorage.setItem(Fe,Fe),localStorage.removeItem(Fe),!0}catch{return!1}}function D(Fe){try{var _r=new URL(Fe);return _r&&(Fe=_r.pathname+_r.search),Fe.match("^/$")||(Fe=Fe.replace(/\/+$/,"")),Fe}catch{return Fe}}function e(e){return xr(te().body,function(){return eval(e)})}function t(Fe){var _r=Y.on("htmx:load",function($r){Fe($r.detail.elt)});return _r}function X(){Y.logger=function(Fe,_r,$r){console&&console.log(_r,Fe,$r)}}function U(){Y.logger=null}function E(Fe,_r){return _r?Fe.querySelector(_r):E(te(),Fe)}function f(Fe,_r){return _r?Fe.querySelectorAll(_r):f(te(),Fe)}function B(Fe,_r){Fe=s(Fe),_r?setTimeout(function(){B(Fe),Fe=null},_r):Fe.parentElement.removeChild(Fe)}function F(Fe,_r,$r){Fe=s(Fe),$r?setTimeout(function(){F(Fe,_r),Fe=null},$r):Fe.classList&&Fe.classList.add(_r)}function n(Fe,_r,$r){Fe=s(Fe),$r?setTimeout(function(){n(Fe,_r),Fe=null},$r):Fe.classList&&(Fe.classList.remove(_r),Fe.classList.length===0&&Fe.removeAttribute("class"))}function V(Fe,_r){Fe=s(Fe),Fe.classList.toggle(_r)}function j(Fe,_r){Fe=s(Fe),ae(Fe.parentElement.children,function($r){n($r,_r)}),F(Fe,_r)}function d(Fe,_r){if(Fe=s(Fe),Fe.closest)return Fe.closest(_r);do if(Fe==null||h(Fe,_r))return Fe;while(Fe=Fe&&u(Fe));return null}function g(Fe,_r){return Fe.substring(0,_r.length)===_r}function _(Fe,_r){return Fe.substring(Fe.length-_r.length)===_r}function z(Fe){var _r=Fe.trim();return g(_r,"<")&&_(_r,"/>")?_r.substring(1,_r.length-2):_r}function W(Fe,_r){return _r.indexOf("closest ")===0?[d(Fe,z(_r.substr(8)))]:_r.indexOf("find ")===0?[E(Fe,z(_r.substr(5)))]:_r==="next"?[Fe.nextElementSibling]:_r.indexOf("next ")===0?[$(Fe,z(_r.substr(5)))]:_r==="previous"?[Fe.previousElementSibling]:_r.indexOf("previous ")===0?[G(Fe,z(_r.substr(9)))]:_r==="document"?[document]:_r==="window"?[window]:_r==="body"?[document.body]:te().querySelectorAll(z(_r))}var $=function(Fe,_r){for(var $r=te().querySelectorAll(_r),Br=0;Br<$r.length;Br++){var Fr=$r[Br];if(Fr.compareDocumentPosition(Fe)===Node.DOCUMENT_POSITION_PRECEDING)return Fr}},G=function(Fe,_r){for(var $r=te().querySelectorAll(_r),Br=$r.length-1;Br>=0;Br--){var Fr=$r[Br];if(Fr.compareDocumentPosition(Fe)===Node.DOCUMENT_POSITION_FOLLOWING)return Fr}};function le(Fe,_r){return _r?W(Fe,_r)[0]:W(te().body,Fe)[0]}function s(Fe){return L(Fe,"String")?E(Fe):Fe}function J(Fe,_r,$r){return A(_r)?{target:te().body,event:Fe,listener:_r}:{target:s(Fe),event:_r,listener:$r}}function Z(Fe,_r,$r){Pr(function(){var Fr=J(Fe,_r,$r);Fr.target.addEventListener(Fr.event,Fr.listener)});var Br=A(_r);return Br?_r:$r}function K(Fe,_r,$r){return Pr(function(){var Br=J(Fe,_r,$r);Br.target.removeEventListener(Br.event,Br.listener)}),A(_r)?_r:$r}var he=te().createElement("output");function de(Fe,_r){var $r=re(Fe,_r);if($r){if($r==="this")return[ve(Fe,_r)];var Br=W(Fe,$r);return Br.length===0?(y('The selector "'+$r+'" on '+_r+" returned no matches!"),[he]):Br}}function ve(Fe,_r){return c(Fe,function($r){return ee($r,_r)!=null})}function ge(Fe){var _r=re(Fe,"hx-target");if(_r)return _r==="this"?ve(Fe,"hx-target"):le(Fe,_r);var $r=ie(Fe);return $r.boosted?te().body:Fe}function me(Fe){for(var _r=Y.config.attributesToSettle,$r=0;$r<_r.length;$r++)if(Fe===_r[$r])return!0;return!1}function pe(Fe,_r){ae(Fe.attributes,function($r){!_r.hasAttribute($r.name)&&me($r.name)&&Fe.removeAttribute($r.name)}),ae(_r.attributes,function($r){me($r.name)&&Fe.setAttribute($r.name,$r.value)})}function xe(Fe,_r){for(var $r=Ir(_r),Br=0;Br<$r.length;Br++){var Fr=$r[Br];try{if(Fr.isInlineSwap(Fe))return!0}catch(zr){y(zr)}}return Fe==="outerHTML"}function ye(Fe,_r,$r){var Br="#"+Q(_r,"id"),Fr="outerHTML";Fe==="true"||(Fe.indexOf(":")>0?(Fr=Fe.substr(0,Fe.indexOf(":")),Br=Fe.substr(Fe.indexOf(":")+1,Fe.length)):Fr=Fe);var zr=te().querySelectorAll(Br);return zr?(ae(zr,function(jr){var Ur,Gr=_r.cloneNode(!0);Ur=te().createDocumentFragment(),Ur.appendChild(Gr),xe(Fr,jr)||(Ur=Gr);var Yr={shouldSwap:!0,target:jr,fragment:Ur};fe(jr,"htmx:oobBeforeSwap",Yr)&&(jr=Yr.target,Yr.shouldSwap&&De(Fr,jr,jr,Ur,$r),ae($r.elts,function(Kr){fe(Kr,"htmx:oobAfterSwap",Yr)}))}),_r.parentNode.removeChild(_r)):(_r.parentNode.removeChild(_r),ue(te().body,"htmx:oobErrorNoTarget",{content:_r})),Fe}function be(Fe,_r,$r){var Br=re(Fe,"hx-select-oob");if(Br){var Fr=Br.split(",");for(let Yr=0;Yr<Fr.length;Yr++){var zr=Fr[Yr].split(":",2),jr=zr[0].trim();jr.indexOf("#")===0&&(jr=jr.substring(1));var Ur=zr[1]||"true",Gr=_r.querySelector("#"+jr);Gr&&ye(Ur,Gr,$r)}}ae(f(_r,"[hx-swap-oob], [data-hx-swap-oob]"),function(Yr){var Kr=ee(Yr,"hx-swap-oob");Kr!=null&&ye(Kr,Yr,$r)})}function we(Fe){ae(f(Fe,"[hx-preserve], [data-hx-preserve]"),function(_r){var $r=ee(_r,"id"),Br=te().getElementById($r);Br!=null&&_r.parentNode.replaceChild(Br,_r)})}function Se(Fe,_r,$r){ae(_r.querySelectorAll("[id]"),function(Br){var Fr=Q(Br,"id");if(Fr&&Fr.length>0){var zr=Fr.replace("'","\\'"),jr=Br.tagName.replace(":","\\:"),Ur=Fe.querySelector(jr+"[id='"+zr+"']");if(Ur&&Ur!==Fe){var Gr=Br.cloneNode();pe(Br,Ur),$r.tasks.push(function(){pe(Br,Gr)})}}})}function Ee(Fe){return function(){n(Fe,Y.config.addedClass),Dt(Fe),Ct(Fe),Ce(Fe),fe(Fe,"htmx:load")}}function Ce(Fe){var _r="[autofocus]",$r=h(Fe,_r)?Fe:Fe.querySelector(_r);$r!=null&&$r.focus()}function a(Fe,_r,$r,Br){for(Se(Fe,$r,Br);$r.childNodes.length>0;){var Fr=$r.firstChild;F(Fr,Y.config.addedClass),Fe.insertBefore(Fr,_r),Fr.nodeType!==Node.TEXT_NODE&&Fr.nodeType!==Node.COMMENT_NODE&&Br.tasks.push(Ee(Fr))}}function Te(Fe,_r){for(var $r=0;$r<Fe.length;)_r=(_r<<5)-_r+Fe.charCodeAt($r++)|0;return _r}function Oe(Fe){var _r=0;if(Fe.attributes)for(var $r=0;$r<Fe.attributes.length;$r++){var Br=Fe.attributes[$r];Br.value&&(_r=Te(Br.name,_r),_r=Te(Br.value,_r))}return _r}function Re(Fe){var _r=ie(Fe);if(_r.onHandlers){for(let $r=0;$r<_r.onHandlers.length;$r++){const Br=_r.onHandlers[$r];Fe.removeEventListener(Br.event,Br.listener)}delete _r.onHandlers}}function qe(Fe){var _r=ie(Fe);_r.timeout&&clearTimeout(_r.timeout),_r.webSocket&&_r.webSocket.close(),_r.sseEventSource&&_r.sseEventSource.close(),_r.listenerInfos&&ae(_r.listenerInfos,function($r){$r.on&&$r.on.removeEventListener($r.trigger,$r.listener)}),_r.initHash&&(_r.initHash=null),Re(Fe)}function m(Fe){fe(Fe,"htmx:beforeCleanupElement"),qe(Fe),Fe.children&&ae(Fe.children,function(_r){m(_r)})}function He(Fe,_r,$r){if(Fe.tagName==="BODY")return Pe(Fe,_r,$r);var Br,Fr=Fe.previousSibling;for(a(u(Fe),Fe,_r,$r),Fr==null?Br=u(Fe).firstChild:Br=Fr.nextSibling,ie(Fe).replacedWith=Br,$r.elts=$r.elts.filter(function(zr){return zr!=Fe});Br&&Br!==Fe;)Br.nodeType===Node.ELEMENT_NODE&&$r.elts.push(Br),Br=Br.nextElementSibling;m(Fe),u(Fe).removeChild(Fe)}function Le(Fe,_r,$r){return a(Fe,Fe.firstChild,_r,$r)}function Ae(Fe,_r,$r){return a(u(Fe),Fe,_r,$r)}function Ne(Fe,_r,$r){return a(Fe,null,_r,$r)}function Ie(Fe,_r,$r){return a(u(Fe),Fe.nextSibling,_r,$r)}function ke(Fe,_r,$r){return m(Fe),u(Fe).removeChild(Fe)}function Pe(Fe,_r,$r){var Br=Fe.firstChild;if(a(Fe,Br,_r,$r),Br){for(;Br.nextSibling;)m(Br.nextSibling),Fe.removeChild(Br.nextSibling);m(Br),Fe.removeChild(Br)}}function Me(Fe,_r,$r){var Br=$r||re(Fe,"hx-select");if(Br){var Fr=te().createDocumentFragment();ae(_r.querySelectorAll(Br),function(zr){Fr.appendChild(zr)}),_r=Fr}return _r}function De(Fe,_r,$r,Br,Fr){switch(Fe){case"none":return;case"outerHTML":He($r,Br,Fr);return;case"afterbegin":Le($r,Br,Fr);return;case"beforebegin":Ae($r,Br,Fr);return;case"beforeend":Ne($r,Br,Fr);return;case"afterend":Ie($r,Br,Fr);return;case"delete":ke($r);return;default:for(var zr=Ir(_r),jr=0;jr<zr.length;jr++){var Ur=zr[jr];try{var Gr=Ur.handleSwap(Fe,$r,Br,Fr);if(Gr){if(typeof Gr.length<"u")for(var Yr=0;Yr<Gr.length;Yr++){var Kr=Gr[Yr];Kr.nodeType!==Node.TEXT_NODE&&Kr.nodeType!==Node.COMMENT_NODE&&Fr.tasks.push(Ee(Kr))}return}}catch(Qr){y(Qr)}}Fe==="innerHTML"?Pe($r,Br,Fr):De(Y.config.defaultSwapStyle,_r,$r,Br,Fr)}}function Xe(Fe){if(Fe.indexOf("<title")>-1){var _r=Fe.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),$r=_r.match(/<title(\s[^>]*>|>)([\s\S]*?)<\/title>/im);if($r)return $r[2]}}function Ue(Fe,_r,$r,Br,Fr,zr){Fr.title=Xe(Br);var jr=l(Br);if(jr)return be($r,jr,Fr),jr=Me($r,jr,zr),we(jr),De(Fe,$r,_r,jr,Fr)}function Be(Fe,_r,$r){var Br=Fe.getResponseHeader(_r);if(Br.indexOf("{")===0){var Fr=S(Br);for(var zr in Fr)if(Fr.hasOwnProperty(zr)){var jr=Fr[zr];N(jr)||(jr={value:jr}),fe($r,zr,jr)}}else for(var Ur=Br.split(","),Gr=0;Gr<Ur.length;Gr++)fe($r,Ur[Gr].trim(),[])}var p=/[\s,]/,Ve=/[_$a-zA-Z]/,je=/[_$a-zA-Z0-9]/,_e=['"',"'","/"],ze=/[^\s]/;function We(Fe){for(var _r=[],$r=0;$r<Fe.length;){if(Ve.exec(Fe.charAt($r))){for(var Br=$r;je.exec(Fe.charAt($r+1));)$r++;_r.push(Fe.substr(Br,$r-Br+1))}else if(_e.indexOf(Fe.charAt($r))!==-1){var Fr=Fe.charAt($r),Br=$r;for($r++;$r<Fe.length&&Fe.charAt($r)!==Fr;)Fe.charAt($r)==="\\"&&$r++,$r++;_r.push(Fe.substr(Br,$r-Br+1))}else{var zr=Fe.charAt($r);_r.push(zr)}$r++}return _r}function $e(Fe,_r,$r){return Ve.exec(Fe.charAt(0))&&Fe!=="true"&&Fe!=="false"&&Fe!=="this"&&Fe!==$r&&_r!=="."}function Ge(Fe,_r,$r){if(_r[0]==="["){_r.shift();for(var Br=1,Fr=" return (function("+$r+"){ return (",zr=null;_r.length>0;){var jr=_r[0];if(jr==="]"){if(Br--,Br===0){zr===null&&(Fr=Fr+"true"),_r.shift(),Fr+=")})";try{var Ur=xr(Fe,function(){return Function(Fr)()},function(){return!0});return Ur.source=Fr,Ur}catch(Gr){return ue(te().body,"htmx:syntax:error",{error:Gr,source:Fr}),null}}}else jr==="["&&Br++;$e(jr,zr,$r)?Fr+="(("+$r+"."+jr+") ? ("+$r+"."+jr+") : (window."+jr+"))":Fr=Fr+jr,zr=_r.shift()}}}function x(Fe,_r){for(var $r="";Fe.length>0&&!Fe[0].match(_r);)$r+=Fe.shift();return $r}var Je="input, textarea, select";function Ze(Fe){var _r=ee(Fe,"hx-trigger"),$r=[];if(_r){var Br=We(_r);do{x(Br,ze);var Fr=Br.length,zr=x(Br,/[,\[\s]/);if(zr!=="")if(zr==="every"){var jr={trigger:"every"};x(Br,ze),jr.pollInterval=v(x(Br,/[,\[\s]/)),x(Br,ze);var Ur=Ge(Fe,Br,"event");Ur&&(jr.eventFilter=Ur),$r.push(jr)}else if(zr.indexOf("sse:")===0)$r.push({trigger:"sse",sseEvent:zr.substr(4)});else{var Gr={trigger:zr},Ur=Ge(Fe,Br,"event");for(Ur&&(Gr.eventFilter=Ur);Br.length>0&&Br[0]!==",";){x(Br,ze);var Yr=Br.shift();if(Yr==="changed")Gr.changed=!0;else if(Yr==="once")Gr.once=!0;else if(Yr==="consume")Gr.consume=!0;else if(Yr==="delay"&&Br[0]===":")Br.shift(),Gr.delay=v(x(Br,p));else if(Yr==="from"&&Br[0]===":"){Br.shift();var Kr=x(Br,p);if(Kr==="closest"||Kr==="find"||Kr==="next"||Kr==="previous"){Br.shift();var Qr=x(Br,p);Qr.length>0&&(Kr+=" "+Qr)}Gr.from=Kr}else Yr==="target"&&Br[0]===":"?(Br.shift(),Gr.target=x(Br,p)):Yr==="throttle"&&Br[0]===":"?(Br.shift(),Gr.throttle=v(x(Br,p))):Yr==="queue"&&Br[0]===":"?(Br.shift(),Gr.queue=x(Br,p)):(Yr==="root"||Yr==="threshold")&&Br[0]===":"?(Br.shift(),Gr[Yr]=x(Br,p)):ue(Fe,"htmx:syntax:error",{token:Br.shift()})}$r.push(Gr)}Br.length===Fr&&ue(Fe,"htmx:syntax:error",{token:Br.shift()}),x(Br,ze)}while(Br[0]===","&&Br.shift())}return $r.length>0?$r:h(Fe,"form")?[{trigger:"submit"}]:h(Fe,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:h(Fe,Je)?[{trigger:"change"}]:[{trigger:"click"}]}function Ke(Fe){ie(Fe).cancelled=!0}function Ye(Fe,_r,$r){var Br=ie(Fe);Br.timeout=setTimeout(function(){oe(Fe)&&Br.cancelled!==!0&&(nt($r,Fe,Ut("hx:poll:trigger",{triggerSpec:$r,target:Fe}))||_r(Fe),Ye(Fe,_r,$r))},$r.pollInterval)}function Qe(Fe){return location.hostname===Fe.hostname&&Q(Fe,"href")&&Q(Fe,"href").indexOf("#")!==0}function et(Fe,_r,$r){if(Fe.tagName==="A"&&Qe(Fe)&&(Fe.target===""||Fe.target==="_self")||Fe.tagName==="FORM"){_r.boosted=!0;var Br,Fr;if(Fe.tagName==="A")Br="get",Fr=Q(Fe,"href");else{var zr=Q(Fe,"method");Br=zr?zr.toLowerCase():"get",Fr=Q(Fe,"action")}$r.forEach(function(jr){it(Fe,function(Ur,Gr){if(d(Ur,Y.config.disableSelector)){m(Ur);return}ce(Br,Fr,Ur,Gr)},_r,jr,!0)})}}function tt(Fe,_r){return!!((Fe.type==="submit"||Fe.type==="click")&&(_r.tagName==="FORM"||h(_r,'input[type="submit"], button')&&d(_r,"form")!==null||_r.tagName==="A"&&_r.href&&(_r.getAttribute("href")==="#"||_r.getAttribute("href").indexOf("#")!==0)))}function rt(Fe,_r){return ie(Fe).boosted&&Fe.tagName==="A"&&_r.type==="click"&&(_r.ctrlKey||_r.metaKey)}function nt(Fe,_r,$r){var Br=Fe.eventFilter;if(Br)try{return Br.call(_r,$r)!==!0}catch(Fr){return ue(te().body,"htmx:eventFilter:error",{error:Fr,source:Br.source}),!0}return!1}function it(Fe,_r,$r,Br,Fr){var zr=ie(Fe),jr;Br.from?jr=W(Fe,Br.from):jr=[Fe],Br.changed&&jr.forEach(function(Ur){var Gr=ie(Ur);Gr.lastValue=Ur.value}),ae(jr,function(Ur){var Gr=function(Yr){if(!oe(Fe)){Ur.removeEventListener(Br.trigger,Gr);return}if(!rt(Fe,Yr)&&((Fr||tt(Yr,Fe))&&Yr.preventDefault(),!nt(Br,Fe,Yr))){var Kr=ie(Yr);if(Kr.triggerSpec=Br,Kr.handledFor==null&&(Kr.handledFor=[]),Kr.handledFor.indexOf(Fe)<0){if(Kr.handledFor.push(Fe),Br.consume&&Yr.stopPropagation(),Br.target&&Yr.target&&!h(Yr.target,Br.target))return;if(Br.once){if(zr.triggeredOnce)return;zr.triggeredOnce=!0}if(Br.changed){var Qr=ie(Ur);if(Qr.lastValue===Ur.value)return;Qr.lastValue=Ur.value}if(zr.delayed&&clearTimeout(zr.delayed),zr.throttle)return;Br.throttle?zr.throttle||(_r(Fe,Yr),zr.throttle=setTimeout(function(){zr.throttle=null},Br.throttle)):Br.delay?zr.delayed=setTimeout(function(){_r(Fe,Yr)},Br.delay):(fe(Fe,"htmx:trigger"),_r(Fe,Yr))}}};$r.listenerInfos==null&&($r.listenerInfos=[]),$r.listenerInfos.push({trigger:Br.trigger,listener:Gr,on:Ur}),Ur.addEventListener(Br.trigger,Gr)})}var at=!1,ot=null;function st(){ot||(ot=function(){at=!0},window.addEventListener("scroll",ot),setInterval(function(){at&&(at=!1,ae(te().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),function(Fe){lt(Fe)}))},200))}function lt(Fe){if(!o(Fe,"data-hx-revealed")&&k(Fe)){Fe.setAttribute("data-hx-revealed","true");var _r=ie(Fe);_r.initHash?fe(Fe,"revealed"):Fe.addEventListener("htmx:afterProcessNode",function($r){fe(Fe,"revealed")},{once:!0})}}function ut(Fe,_r,$r){for(var Br=P($r),Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr].split(/:(.+)/);zr[0]==="connect"&&ft(Fe,zr[1],0),zr[0]==="send"&&ht(Fe)}}function ft(Fe,_r,$r){if(oe(Fe)){if(_r.indexOf("/")==0){var Br=location.hostname+(location.port?":"+location.port:"");location.protocol=="https:"?_r="wss://"+Br+_r:location.protocol=="http:"&&(_r="ws://"+Br+_r)}var Fr=Y.createWebSocket(_r);Fr.onerror=function(zr){ue(Fe,"htmx:wsError",{error:zr,socket:Fr}),ct(Fe)},Fr.onclose=function(zr){if([1006,1012,1013].indexOf(zr.code)>=0){var jr=dt($r);setTimeout(function(){ft(Fe,_r,$r+1)},jr)}},Fr.onopen=function(zr){$r=0},ie(Fe).webSocket=Fr,Fr.addEventListener("message",function(zr){if(!ct(Fe)){var jr=zr.data;C(Fe,function(Jr){jr=Jr.transformResponse(jr,null,Fe)});for(var Ur=T(Fe),Gr=l(jr),Yr=I(Gr.children),Kr=0;Kr<Yr.length;Kr++){var Qr=Yr[Kr];ye(ee(Qr,"hx-swap-oob")||"true",Qr,Ur)}Jt(Ur.tasks)}})}}function ct(Fe){if(!oe(Fe))return ie(Fe).webSocket.close(),!0}function ht(Fe){var _r=c(Fe,function($r){return ie($r).webSocket!=null});_r?Fe.addEventListener(Ze(Fe)[0].trigger,function($r){var Br=ie(_r).webSocket,Fr=fr(Fe,_r),zr=or(Fe,"post"),jr=zr.errors,Ur=zr.values,Gr=wr(Fe),Yr=se(Ur,Gr),Kr=cr(Yr,Fe);if(Kr.HEADERS=Fr,jr&&jr.length>0){fe(Fe,"htmx:validation:halted",jr);return}Br.send(JSON.stringify(Kr)),tt($r,Fe)&&$r.preventDefault()}):ue(Fe,"htmx:noWebSocketSourceError")}function dt(Fe){var _r=Y.config.wsReconnectDelay;if(typeof _r=="function")return _r(Fe);if(_r==="full-jitter"){var $r=Math.min(Fe,6),Br=1e3*Math.pow(2,$r);return Br*Math.random()}y('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function vt(Fe,_r,$r){for(var Br=P($r),Fr=0;Fr<Br.length;Fr++){var zr=Br[Fr].split(/:(.+)/);zr[0]==="connect"&&gt(Fe,zr[1]),zr[0]==="swap"&&mt(Fe,zr[1])}}function gt(Fe,_r){var $r=Y.createEventSource(_r);$r.onerror=function(Br){ue(Fe,"htmx:sseError",{error:Br,source:$r}),xt(Fe)},ie(Fe).sseEventSource=$r}function mt(Fe,_r){var $r=c(Fe,yt);if($r){var Br=ie($r).sseEventSource,Fr=function(zr){if(!xt($r)){if(!oe(Fe)){Br.removeEventListener(_r,Fr);return}var jr=zr.data;C(Fe,function(Kr){jr=Kr.transformResponse(jr,null,Fe)});var Ur=dr(Fe),Gr=ge(Fe),Yr=T(Fe);Ue(Ur.swapStyle,Gr,Fe,jr,Yr),Jt(Yr.tasks),fe(Fe,"htmx:sseMessage",zr)}};ie(Fe).sseListener=Fr,Br.addEventListener(_r,Fr)}else ue(Fe,"htmx:noSSESourceError")}function pt(Fe,_r,$r){var Br=c(Fe,yt);if(Br){var Fr=ie(Br).sseEventSource,zr=function(){xt(Br)||(oe(Fe)?_r(Fe):Fr.removeEventListener($r,zr))};ie(Fe).sseListener=zr,Fr.addEventListener($r,zr)}else ue(Fe,"htmx:noSSESourceError")}function xt(Fe){if(!oe(Fe))return ie(Fe).sseEventSource.close(),!0}function yt(Fe){return ie(Fe).sseEventSource!=null}function bt(Fe,_r,$r,Br){var Fr=function(){$r.loaded||($r.loaded=!0,_r(Fe))};Br?setTimeout(Fr,Br):Fr()}function wt(Fe,_r,$r){var Br=!1;return ae(b,function(Fr){if(o(Fe,"hx-"+Fr)){var zr=ee(Fe,"hx-"+Fr);Br=!0,_r.path=zr,_r.verb=Fr,$r.forEach(function(jr){St(Fe,jr,_r,function(Ur,Gr){if(d(Ur,Y.config.disableSelector)){m(Ur);return}ce(Fr,zr,Ur,Gr)})})}}),Br}function St(Fe,_r,$r,Br){if(_r.sseEvent)pt(Fe,Br,_r.sseEvent);else if(_r.trigger==="revealed")st(),it(Fe,Br,$r,_r),lt(Fe);else if(_r.trigger==="intersect"){var Fr={};_r.root&&(Fr.root=le(Fe,_r.root)),_r.threshold&&(Fr.threshold=parseFloat(_r.threshold));var zr=new IntersectionObserver(function(jr){for(var Ur=0;Ur<jr.length;Ur++){var Gr=jr[Ur];if(Gr.isIntersecting){fe(Fe,"intersect");break}}},Fr);zr.observe(Fe),it(Fe,Br,$r,_r)}else _r.trigger==="load"?nt(_r,Fe,Ut("load",{elt:Fe}))||bt(Fe,Br,$r,_r.delay):_r.pollInterval?($r.polling=!0,Ye(Fe,Br,_r)):it(Fe,Br,$r,_r)}function Et(Fe){if(Y.config.allowScriptTags&&(Fe.type==="text/javascript"||Fe.type==="module"||Fe.type==="")){var _r=te().createElement("script");ae(Fe.attributes,function(Br){_r.setAttribute(Br.name,Br.value)}),_r.textContent=Fe.textContent,_r.async=!1,Y.config.inlineScriptNonce&&(_r.nonce=Y.config.inlineScriptNonce);var $r=Fe.parentElement;try{$r.insertBefore(_r,Fe)}catch(Br){y(Br)}finally{Fe.parentElement&&Fe.parentElement.removeChild(Fe)}}}function Ct(Fe){h(Fe,"script")&&Et(Fe),ae(f(Fe,"script"),function(_r){Et(_r)})}function Tt(){return document.querySelector("[hx-boost], [data-hx-boost]")}function Ot(Fe){var _r=null,$r=[];if(document.evaluate)for(var Br=document.evaluate('//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") ]]',Fe);_r=Br.iterateNext();)$r.push(_r);else for(var Fr=document.getElementsByTagName("*"),zr=0;zr<Fr.length;zr++)for(var jr=Fr[zr].attributes,Ur=0;Ur<jr.length;Ur++){var Gr=jr[Ur].name;(g(Gr,"hx-on:")||g(Gr,"data-hx-on:"))&&$r.push(Fr[zr])}return $r}function Rt(Fe){if(Fe.querySelectorAll){var _r=Tt()?", a":"",$r=Fe.querySelectorAll(w+_r+", form, [type='submit'], [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger], [hx-on], [data-hx-on]");return $r}else return[]}function qt(Fe){var _r=d(Fe.target,"button, input[type='submit']"),$r=Lt(Fe);$r&&($r.lastButtonClicked=_r)}function Ht(Fe){var _r=Lt(Fe);_r&&(_r.lastButtonClicked=null)}function Lt(Fe){var _r=d(Fe.target,"button, input[type='submit']");if(_r){var $r=s("#"+Q(_r,"form"))||d(_r,"form");if($r)return ie($r)}}function At(Fe){Fe.addEventListener("click",qt),Fe.addEventListener("focusin",qt),Fe.addEventListener("focusout",Ht)}function Nt(Fe){var _r=We(Fe),$r=0;for(let Br=0;Br<_r.length;Br++){const Fr=_r[Br];Fr==="{"?$r++:Fr==="}"&&$r--}return $r}function It(Fe,_r,$r){var Br=ie(Fe);Array.isArray(Br.onHandlers)||(Br.onHandlers=[]);var Fr,zr=function(jr){return xr(Fe,function(){Fr||(Fr=new Function("event",$r)),Fr.call(Fe,jr)})};Fe.addEventListener(_r,zr),Br.onHandlers.push({event:_r,listener:zr})}function kt(Fe){var _r=ee(Fe,"hx-on");if(_r){for(var $r={},Br=_r.split(`
`),Fr=null,zr=0;Br.length>0;){var jr=Br.shift(),Ur=jr.match(/^\s*([a-zA-Z:\-\.]+:)(.*)/);zr===0&&Ur?(jr.split(":"),Fr=Ur[1].slice(0,-1),$r[Fr]=Ur[2]):$r[Fr]+=jr,zr+=Nt(jr)}for(var Gr in $r)It(Fe,Gr,$r[Gr])}}function Pt(Fe){Re(Fe);for(var _r=0;_r<Fe.attributes.length;_r++){var $r=Fe.attributes[_r].name,Br=Fe.attributes[_r].value;if(g($r,"hx-on:")||g($r,"data-hx-on:")){let Fr=$r.slice($r.indexOf(":")+1);g(Fr,":")&&(Fr="htmx"+Fr),It(Fe,Fr,Br)}}}function Mt(Fe){if(d(Fe,Y.config.disableSelector)){m(Fe);return}var _r=ie(Fe);if(_r.initHash!==Oe(Fe)){qe(Fe),_r.initHash=Oe(Fe),kt(Fe),fe(Fe,"htmx:beforeProcessNode"),Fe.value&&(_r.lastValue=Fe.value);var $r=Ze(Fe),Br=wt(Fe,_r,$r);Br||(re(Fe,"hx-boost")==="true"?et(Fe,_r,$r):o(Fe,"hx-trigger")&&$r.forEach(function(jr){St(Fe,jr,_r,function(){})})),(Fe.tagName==="FORM"||Q(Fe,"type")==="submit"&&o(Fe,"form"))&&At(Fe);var Fr=ee(Fe,"hx-sse");Fr&&vt(Fe,_r,Fr);var zr=ee(Fe,"hx-ws");zr&&ut(Fe,_r,zr),fe(Fe,"htmx:afterProcessNode")}}function Dt(Fe){if(Fe=s(Fe),d(Fe,Y.config.disableSelector)){m(Fe);return}Mt(Fe),ae(Rt(Fe),function(_r){Mt(_r)}),ae(Ot(Fe),Pt)}function Xt(Fe){return Fe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Ut(Fe,_r){var $r;return window.CustomEvent&&typeof window.CustomEvent=="function"?$r=new CustomEvent(Fe,{bubbles:!0,cancelable:!0,detail:_r}):($r=te().createEvent("CustomEvent"),$r.initCustomEvent(Fe,!0,!0,_r)),$r}function ue(Fe,_r,$r){fe(Fe,_r,se({error:_r},$r))}function Bt(Fe){return Fe==="htmx:afterProcessNode"}function C(Fe,_r){ae(Ir(Fe),function($r){try{_r($r)}catch(Br){y(Br)}})}function y(Fe){console.error?console.error(Fe):console.log&&console.log("ERROR: ",Fe)}function fe(Fe,_r,$r){Fe=s(Fe),$r==null&&($r={}),$r.elt=Fe;var Br=Ut(_r,$r);Y.logger&&!Bt(_r)&&Y.logger(Fe,_r,$r),$r.error&&(y($r.error),fe(Fe,"htmx:error",{errorInfo:$r}));var Fr=Fe.dispatchEvent(Br),zr=Xt(_r);if(Fr&&zr!==_r){var jr=Ut(zr,Br.detail);Fr=Fr&&Fe.dispatchEvent(jr)}return C(Fe,function(Ur){Fr=Fr&&Ur.onEvent(_r,Br)!==!1&&!Br.defaultPrevented}),Fr}var Ft=location.pathname+location.search;function Vt(){var Fe=te().querySelector("[hx-history-elt],[data-hx-history-elt]");return Fe||te().body}function jt(Fe,_r,$r,Br){if(M()){if(Y.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}Fe=D(Fe);for(var Fr=S(localStorage.getItem("htmx-history-cache"))||[],zr=0;zr<Fr.length;zr++)if(Fr[zr].url===Fe){Fr.splice(zr,1);break}var jr={url:Fe,content:_r,title:$r,scroll:Br};for(fe(te().body,"htmx:historyItemCreated",{item:jr,cache:Fr}),Fr.push(jr);Fr.length>Y.config.historyCacheSize;)Fr.shift();for(;Fr.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(Fr));break}catch(Ur){ue(te().body,"htmx:historyCacheError",{cause:Ur,cache:Fr}),Fr.shift()}}}function _t(Fe){if(!M())return null;Fe=D(Fe);for(var _r=S(localStorage.getItem("htmx-history-cache"))||[],$r=0;$r<_r.length;$r++)if(_r[$r].url===Fe)return _r[$r];return null}function zt(Fe){var _r=Y.config.requestClass,$r=Fe.cloneNode(!0);return ae(f($r,"."+_r),function(Br){n(Br,_r)}),$r.innerHTML}function Wt(){var Fe=Vt(),_r=Ft||location.pathname+location.search,$r;try{$r=te().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{$r=te().querySelector('[hx-history="false"],[data-hx-history="false"]')}$r||(fe(te().body,"htmx:beforeHistorySave",{path:_r,historyElt:Fe}),jt(_r,zt(Fe),te().title,window.scrollY)),Y.config.historyEnabled&&history.replaceState({htmx:!0},te().title,window.location.href)}function $t(Fe){Y.config.getCacheBusterParam&&(Fe=Fe.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(_(Fe,"&")||_(Fe,"?"))&&(Fe=Fe.slice(0,-1))),Y.config.historyEnabled&&history.pushState({htmx:!0},"",Fe),Ft=Fe}function Gt(Fe){Y.config.historyEnabled&&history.replaceState({htmx:!0},"",Fe),Ft=Fe}function Jt(Fe){ae(Fe,function(_r){_r.call()})}function Zt(Fe){var _r=new XMLHttpRequest,$r={path:Fe,xhr:_r};fe(te().body,"htmx:historyCacheMiss",$r),_r.open("GET",Fe,!0),_r.setRequestHeader("HX-History-Restore-Request","true"),_r.onload=function(){if(this.status>=200&&this.status<400){fe(te().body,"htmx:historyCacheMissLoad",$r);var Br=l(this.response);Br=Br.querySelector("[hx-history-elt],[data-hx-history-elt]")||Br;var Fr=Vt(),zr=T(Fr),jr=Xe(this.response);if(jr){var Ur=E("title");Ur?Ur.innerHTML=jr:window.document.title=jr}Pe(Fr,Br,zr),Jt(zr.tasks),Ft=Fe,fe(te().body,"htmx:historyRestore",{path:Fe,cacheMiss:!0,serverResponse:this.response})}else ue(te().body,"htmx:historyCacheMissLoadError",$r)},_r.send()}function Kt(Fe){Wt(),Fe=Fe||location.pathname+location.search;var _r=_t(Fe);if(_r){var $r=l(_r.content),Br=Vt(),Fr=T(Br);Pe(Br,$r,Fr),Jt(Fr.tasks),document.title=_r.title,setTimeout(function(){window.scrollTo(0,_r.scroll)},0),Ft=Fe,fe(te().body,"htmx:historyRestore",{path:Fe,item:_r})}else Y.config.refreshOnHistoryMiss?window.location.reload(!0):Zt(Fe)}function Yt(Fe){var _r=de(Fe,"hx-indicator");return _r==null&&(_r=[Fe]),ae(_r,function($r){var Br=ie($r);Br.requestCount=(Br.requestCount||0)+1,$r.classList.add.call($r.classList,Y.config.requestClass)}),_r}function Qt(Fe){var _r=de(Fe,"hx-disabled-elt");return _r==null&&(_r=[]),ae(_r,function($r){var Br=ie($r);Br.requestCount=(Br.requestCount||0)+1,$r.setAttribute("disabled","")}),_r}function er(Fe,_r){ae(Fe,function($r){var Br=ie($r);Br.requestCount=(Br.requestCount||0)-1,Br.requestCount===0&&$r.classList.remove.call($r.classList,Y.config.requestClass)}),ae(_r,function($r){var Br=ie($r);Br.requestCount=(Br.requestCount||0)-1,Br.requestCount===0&&$r.removeAttribute("disabled")})}function tr(Fe,_r){for(var $r=0;$r<Fe.length;$r++){var Br=Fe[$r];if(Br.isSameNode(_r))return!0}return!1}function rr(Fe){return Fe.name===""||Fe.name==null||Fe.disabled||Fe.type==="button"||Fe.type==="submit"||Fe.tagName==="image"||Fe.tagName==="reset"||Fe.tagName==="file"?!1:Fe.type==="checkbox"||Fe.type==="radio"?Fe.checked:!0}function nr(Fe,_r,$r){if(Fe!=null&&_r!=null){var Br=$r[Fe];Br===void 0?$r[Fe]=_r:Array.isArray(Br)?Array.isArray(_r)?$r[Fe]=Br.concat(_r):Br.push(_r):Array.isArray(_r)?$r[Fe]=[Br].concat(_r):$r[Fe]=[Br,_r]}}function ir(Fe,_r,$r,Br,Fr){if(!(Br==null||tr(Fe,Br))){if(Fe.push(Br),rr(Br)){var zr=Q(Br,"name"),jr=Br.value;Br.multiple&&Br.tagName==="SELECT"&&(jr=I(Br.querySelectorAll("option:checked")).map(function(Gr){return Gr.value})),Br.files&&(jr=I(Br.files)),nr(zr,jr,_r),Fr&&ar(Br,$r)}if(h(Br,"form")){var Ur=Br.elements;ae(Ur,function(Gr){ir(Fe,_r,$r,Gr,Fr)})}}}function ar(Fe,_r){Fe.willValidate&&(fe(Fe,"htmx:validation:validate"),Fe.checkValidity()||(_r.push({elt:Fe,message:Fe.validationMessage,validity:Fe.validity}),fe(Fe,"htmx:validation:failed",{message:Fe.validationMessage,validity:Fe.validity})))}function or(Fe,_r){var $r=[],Br={},Fr={},zr=[],jr=ie(Fe);jr.lastButtonClicked&&!oe(jr.lastButtonClicked)&&(jr.lastButtonClicked=null);var Ur=h(Fe,"form")&&Fe.noValidate!==!0||ee(Fe,"hx-validate")==="true";if(jr.lastButtonClicked&&(Ur=Ur&&jr.lastButtonClicked.formNoValidate!==!0),_r!=="get"&&ir($r,Fr,zr,d(Fe,"form"),Ur),ir($r,Br,zr,Fe,Ur),jr.lastButtonClicked||Fe.tagName==="BUTTON"||Fe.tagName==="INPUT"&&Q(Fe,"type")==="submit"){var Gr=jr.lastButtonClicked||Fe,Yr=Q(Gr,"name");nr(Yr,Gr.value,Fr)}var Kr=de(Fe,"hx-include");return ae(Kr,function(Qr){ir($r,Br,zr,Qr,Ur),h(Qr,"form")||ae(Qr.querySelectorAll(Je),function(Jr){ir($r,Br,zr,Jr,Ur)})}),Br=se(Br,Fr),{errors:zr,values:Br}}function sr(Fe,_r,$r){Fe!==""&&(Fe+="&"),String($r)==="[object Object]"&&($r=JSON.stringify($r));var Br=encodeURIComponent($r);return Fe+=encodeURIComponent(_r)+"="+Br,Fe}function lr(Fe){var _r="";for(var $r in Fe)if(Fe.hasOwnProperty($r)){var Br=Fe[$r];Array.isArray(Br)?ae(Br,function(Fr){_r=sr(_r,$r,Fr)}):_r=sr(_r,$r,Br)}return _r}function ur(Fe){var _r=new FormData;for(var $r in Fe)if(Fe.hasOwnProperty($r)){var Br=Fe[$r];Array.isArray(Br)?ae(Br,function(Fr){_r.append($r,Fr)}):_r.append($r,Br)}return _r}function fr(Fe,_r,$r){var Br={"HX-Request":"true","HX-Trigger":Q(Fe,"id"),"HX-Trigger-Name":Q(Fe,"name"),"HX-Target":ee(_r,"id"),"HX-Current-URL":te().location.href};return pr(Fe,"hx-headers",!1,Br),$r!==void 0&&(Br["HX-Prompt"]=$r),ie(Fe).boosted&&(Br["HX-Boosted"]="true"),Br}function cr(Fe,_r){var $r=re(_r,"hx-params");if($r){if($r==="none")return{};if($r==="*")return Fe;if($r.indexOf("not ")===0)return ae($r.substr(4).split(","),function(Fr){Fr=Fr.trim(),delete Fe[Fr]}),Fe;var Br={};return ae($r.split(","),function(Fr){Fr=Fr.trim(),Br[Fr]=Fe[Fr]}),Br}else return Fe}function hr(Fe){return Q(Fe,"href")&&Q(Fe,"href").indexOf("#")>=0}function dr(Fe,_r){var $r=_r||re(Fe,"hx-swap"),Br={swapStyle:ie(Fe).boosted?"innerHTML":Y.config.defaultSwapStyle,swapDelay:Y.config.defaultSwapDelay,settleDelay:Y.config.defaultSettleDelay};if(Y.config.scrollIntoViewOnBoost&&ie(Fe).boosted&&!hr(Fe)&&(Br.show="top"),$r){var Fr=P($r);if(Fr.length>0)for(var zr=0;zr<Fr.length;zr++){var jr=Fr[zr];if(jr.indexOf("swap:")===0)Br.swapDelay=v(jr.substr(5));else if(jr.indexOf("settle:")===0)Br.settleDelay=v(jr.substr(7));else if(jr.indexOf("transition:")===0)Br.transition=jr.substr(11)==="true";else if(jr.indexOf("ignoreTitle:")===0)Br.ignoreTitle=jr.substr(12)==="true";else if(jr.indexOf("scroll:")===0){var Ur=jr.substr(7),Gr=Ur.split(":"),Yr=Gr.pop(),Kr=Gr.length>0?Gr.join(":"):null;Br.scroll=Yr,Br.scrollTarget=Kr}else if(jr.indexOf("show:")===0){var Qr=jr.substr(5),Gr=Qr.split(":"),Jr=Gr.pop(),Kr=Gr.length>0?Gr.join(":"):null;Br.show=Jr,Br.showTarget=Kr}else if(jr.indexOf("focus-scroll:")===0){var rn=jr.substr(13);Br.focusScroll=rn=="true"}else zr==0?Br.swapStyle=jr:y("Unknown modifier in hx-swap: "+jr)}}return Br}function vr(Fe){return re(Fe,"hx-encoding")==="multipart/form-data"||h(Fe,"form")&&Q(Fe,"enctype")==="multipart/form-data"}function gr(Fe,_r,$r){var Br=null;return C(_r,function(Fr){Br==null&&(Br=Fr.encodeParameters(Fe,$r,_r))}),Br??(vr(_r)?ur($r):lr($r))}function T(Fe){return{tasks:[],elts:[Fe]}}function mr(Fe,_r){var $r=Fe[0],Br=Fe[Fe.length-1];if(_r.scroll){var Fr=null;_r.scrollTarget&&(Fr=le($r,_r.scrollTarget)),_r.scroll==="top"&&($r||Fr)&&(Fr=Fr||$r,Fr.scrollTop=0),_r.scroll==="bottom"&&(Br||Fr)&&(Fr=Fr||Br,Fr.scrollTop=Fr.scrollHeight)}if(_r.show){var Fr=null;if(_r.showTarget){var zr=_r.showTarget;_r.showTarget==="window"&&(zr="body"),Fr=le($r,zr)}_r.show==="top"&&($r||Fr)&&(Fr=Fr||$r,Fr.scrollIntoView({block:"start",behavior:Y.config.scrollBehavior})),_r.show==="bottom"&&(Br||Fr)&&(Fr=Fr||Br,Fr.scrollIntoView({block:"end",behavior:Y.config.scrollBehavior}))}}function pr(Fe,_r,$r,Br){if(Br==null&&(Br={}),Fe==null)return Br;var Fr=ee(Fe,_r);if(Fr){var zr=Fr.trim(),jr=$r;if(zr==="unset")return null;zr.indexOf("javascript:")===0?(zr=zr.substr(11),jr=!0):zr.indexOf("js:")===0&&(zr=zr.substr(3),jr=!0),zr.indexOf("{")!==0&&(zr="{"+zr+"}");var Ur;jr?Ur=xr(Fe,function(){return Function("return ("+zr+")")()},{}):Ur=S(zr);for(var Gr in Ur)Ur.hasOwnProperty(Gr)&&Br[Gr]==null&&(Br[Gr]=Ur[Gr])}return pr(u(Fe),_r,$r,Br)}function xr(Fe,_r,$r){return Y.config.allowEval?_r():(ue(Fe,"htmx:evalDisallowedError"),$r)}function yr(Fe,_r){return pr(Fe,"hx-vars",!0,_r)}function br(Fe,_r){return pr(Fe,"hx-vals",!1,_r)}function wr(Fe){return se(yr(Fe),br(Fe))}function Sr(Fe,_r,$r){if($r!==null)try{Fe.setRequestHeader(_r,$r)}catch{Fe.setRequestHeader(_r,encodeURIComponent($r)),Fe.setRequestHeader(_r+"-URI-AutoEncoded","true")}}function Er(Fe){if(Fe.responseURL&&typeof URL<"u")try{var _r=new URL(Fe.responseURL);return _r.pathname+_r.search}catch{ue(te().body,"htmx:badResponseUrl",{url:Fe.responseURL})}}function O(Fe,_r){return Fe.getAllResponseHeaders().match(_r)}function Cr(Fe,_r,$r){return Fe=Fe.toLowerCase(),$r?$r instanceof Element||L($r,"String")?ce(Fe,_r,null,null,{targetOverride:s($r),returnPromise:!0}):ce(Fe,_r,s($r.source),$r.event,{handler:$r.handler,headers:$r.headers,values:$r.values,targetOverride:s($r.target),swapOverride:$r.swap,returnPromise:!0}):ce(Fe,_r,null,null,{returnPromise:!0})}function Tr(Fe){for(var _r=[];Fe;)_r.push(Fe),Fe=Fe.parentElement;return _r}function Or(Fe,_r,$r){var Br,Fr;if(typeof URL=="function"){Fr=new URL(_r,document.location.href);var zr=document.location.origin;Br=zr===Fr.origin}else Fr=_r,Br=g(_r,document.location.origin);return Y.config.selfRequestsOnly&&!Br?!1:fe(Fe,"htmx:validateUrl",se({url:Fr,sameHost:Br},$r))}function ce(Fe,_r,$r,Br,Fr,zr){var jr=null,Ur=null;if(Fr=Fr??{},Fr.returnPromise&&typeof Promise<"u")var Gr=new Promise(function(Yo,qo){jr=Yo,Ur=qo});$r==null&&($r=te().body);var Yr=Fr.handler||qr;if(!oe($r))return ne(jr),Gr;var Kr=Fr.targetOverride||ge($r);if(Kr==null||Kr==he)return ue($r,"htmx:targetError",{target:ee($r,"hx-target")}),ne(Ur),Gr;var Qr=ie($r),Jr=Qr.lastButtonClicked;if(Jr){var rn=Q(Jr,"formaction");rn!=null&&(_r=rn);var an=Q(Jr,"formmethod");an!=null&&an.toLowerCase()!=="dialog"&&(Fe=an)}var ln=re($r,"hx-confirm");if(zr===void 0){var dn=function(Yo){return ce(Fe,_r,$r,Br,Fr,!!Yo)},hn={target:Kr,elt:$r,path:_r,verb:Fe,triggeringEvent:Br,etc:Fr,issueRequest:dn,question:ln};if(fe($r,"htmx:confirm",hn)===!1)return ne(jr),Gr}var gn=$r,bn=re($r,"hx-sync"),kn=null,Sn=!1;if(bn){var _n=bn.split(":"),pn=_n[0].trim();if(pn==="this"?gn=ve($r,"hx-sync"):gn=le($r,pn),bn=(_n[1]||"drop").trim(),Qr=ie(gn),bn==="drop"&&Qr.xhr&&Qr.abortable!==!0)return ne(jr),Gr;if(bn==="abort"){if(Qr.xhr)return ne(jr),Gr;Sn=!0}else if(bn==="replace")fe(gn,"htmx:abort");else if(bn.indexOf("queue")===0){var Cn=bn.split(" ");kn=(Cn[1]||"last").trim()}}if(Qr.xhr)if(Qr.abortable)fe(gn,"htmx:abort");else{if(kn==null){if(Br){var En=ie(Br);En&&En.triggerSpec&&En.triggerSpec.queue&&(kn=En.triggerSpec.queue)}kn==null&&(kn="last")}return Qr.queuedRequests==null&&(Qr.queuedRequests=[]),kn==="first"&&Qr.queuedRequests.length===0?Qr.queuedRequests.push(function(){ce(Fe,_r,$r,Br,Fr)}):kn==="all"?Qr.queuedRequests.push(function(){ce(Fe,_r,$r,Br,Fr)}):kn==="last"&&(Qr.queuedRequests=[],Qr.queuedRequests.push(function(){ce(Fe,_r,$r,Br,Fr)})),ne(jr),Gr}var Pn=new XMLHttpRequest;Qr.xhr=Pn,Qr.abortable=Sn;var On=function(){if(Qr.xhr=null,Qr.abortable=!1,Qr.queuedRequests!=null&&Qr.queuedRequests.length>0){var Yo=Qr.queuedRequests.shift();Yo()}},jn=re($r,"hx-prompt");if(jn){var Fn=prompt(jn);if(Fn===null||!fe($r,"htmx:prompt",{prompt:Fn,target:Kr}))return ne(jr),On(),Gr}if(ln&&!zr&&!confirm(ln))return ne(jr),On(),Gr;var Wn=fr($r,Kr,Fn);Fr.headers&&(Wn=se(Wn,Fr.headers));var Hn=or($r,Fe),qn=Hn.errors,ni=Hn.values;Fr.values&&(ni=se(ni,Fr.values));var oi=wr($r),wi=se(ni,oi),Ci=cr(wi,$r);Fe!=="get"&&!vr($r)&&(Wn["Content-Type"]="application/x-www-form-urlencoded"),Y.config.getCacheBusterParam&&Fe==="get"&&(Ci["org.htmx.cache-buster"]=Q(Kr,"id")||"true"),(_r==null||_r==="")&&(_r=te().location.href);var Fi=pr($r,"hx-request"),Zn=ie($r).boosted,Gn=Y.config.methodsThatUseUrlParams.indexOf(Fe)>=0,ui={boosted:Zn,useUrlParams:Gn,parameters:Ci,unfilteredParameters:wi,headers:Wn,target:Kr,verb:Fe,errors:qn,withCredentials:Fr.credentials||Fi.credentials||Y.config.withCredentials,timeout:Fr.timeout||Fi.timeout||Y.config.timeout,path:_r,triggeringEvent:Br};if(!fe($r,"htmx:configRequest",ui))return ne(jr),On(),Gr;if(_r=ui.path,Fe=ui.verb,Wn=ui.headers,Ci=ui.parameters,qn=ui.errors,Gn=ui.useUrlParams,qn&&qn.length>0)return fe($r,"htmx:validation:halted",ui),ne(jr),On(),Gr;var Ni=_r.split("#"),$i=Ni[0],Vi=Ni[1],ji=_r;if(Gn){ji=$i;var lo=Object.keys(Ci).length!==0;lo&&(ji.indexOf("?")<0?ji+="?":ji+="&",ji+=lr(Ci),Vi&&(ji+="#"+Vi))}if(!Or($r,ji,ui))return ue($r,"htmx:invalidPath",ui),ne(Ur),Gr;if(Pn.open(Fe.toUpperCase(),ji,!0),Pn.overrideMimeType("text/html"),Pn.withCredentials=ui.withCredentials,Pn.timeout=ui.timeout,!Fi.noHeaders){for(var ho in Wn)if(Wn.hasOwnProperty(ho)){var so=Wn[ho];Sr(Pn,ho,so)}}var Ki={xhr:Pn,target:Kr,requestConfig:ui,etc:Fr,boosted:Zn,pathInfo:{requestPath:_r,finalRequestPath:ji,anchor:Vi}};if(Pn.onload=function(){try{var Yo=Tr($r);if(Ki.pathInfo.responsePath=Er(Pn),Yr($r,Ki),er(Ho,Io),fe($r,"htmx:afterRequest",Ki),fe($r,"htmx:afterOnLoad",Ki),!oe($r)){for(var qo=null;Yo.length>0&&qo==null;){var xo=Yo.shift();oe(xo)&&(qo=xo)}qo&&(fe(qo,"htmx:afterRequest",Ki),fe(qo,"htmx:afterOnLoad",Ki))}ne(jr),On()}catch(ka){throw ue($r,"htmx:onLoadError",se({error:ka},Ki)),ka}},Pn.onerror=function(){er(Ho,Io),ue($r,"htmx:afterRequest",Ki),ue($r,"htmx:sendError",Ki),ne(Ur),On()},Pn.onabort=function(){er(Ho,Io),ue($r,"htmx:afterRequest",Ki),ue($r,"htmx:sendAbort",Ki),ne(Ur),On()},Pn.ontimeout=function(){er(Ho,Io),ue($r,"htmx:afterRequest",Ki),ue($r,"htmx:timeout",Ki),ne(Ur),On()},!fe($r,"htmx:beforeRequest",Ki))return ne(jr),On(),Gr;var Ho=Yt($r),Io=Qt($r);ae(["loadstart","loadend","progress","abort"],function(Yo){ae([Pn,Pn.upload],function(qo){qo.addEventListener(Yo,function(xo){fe($r,"htmx:xhr:"+Yo,{lengthComputable:xo.lengthComputable,loaded:xo.loaded,total:xo.total})})})}),fe($r,"htmx:beforeSend",Ki);var Ji=Gn?null:gr(Pn,$r,Ci);return Pn.send(Ji),Gr}function Rr(Fe,_r){var $r=_r.xhr,Br=null,Fr=null;if(O($r,/HX-Push:/i)?(Br=$r.getResponseHeader("HX-Push"),Fr="push"):O($r,/HX-Push-Url:/i)?(Br=$r.getResponseHeader("HX-Push-Url"),Fr="push"):O($r,/HX-Replace-Url:/i)&&(Br=$r.getResponseHeader("HX-Replace-Url"),Fr="replace"),Br)return Br==="false"?{}:{type:Fr,path:Br};var zr=_r.pathInfo.finalRequestPath,jr=_r.pathInfo.responsePath,Ur=re(Fe,"hx-push-url"),Gr=re(Fe,"hx-replace-url"),Yr=ie(Fe).boosted,Kr=null,Qr=null;return Ur?(Kr="push",Qr=Ur):Gr?(Kr="replace",Qr=Gr):Yr&&(Kr="push",Qr=jr||zr),Qr?Qr==="false"?{}:(Qr==="true"&&(Qr=jr||zr),_r.pathInfo.anchor&&Qr.indexOf("#")===-1&&(Qr=Qr+"#"+_r.pathInfo.anchor),{type:Kr,path:Qr}):{}}function qr(Fe,_r){var $r=_r.xhr,Br=_r.target,Fr=_r.etc;if(_r.requestConfig,!!fe(Fe,"htmx:beforeOnLoad",_r)){if(O($r,/HX-Trigger:/i)&&Be($r,"HX-Trigger",Fe),O($r,/HX-Location:/i)){Wt();var zr=$r.getResponseHeader("HX-Location"),jr;zr.indexOf("{")===0&&(jr=S(zr),zr=jr.path,delete jr.path),Cr("GET",zr,jr).then(function(){$t(zr)});return}var Ur=O($r,/HX-Refresh:/i)&&$r.getResponseHeader("HX-Refresh")==="true";if(O($r,/HX-Redirect:/i)){location.href=$r.getResponseHeader("HX-Redirect"),Ur&&location.reload();return}if(Ur){location.reload();return}O($r,/HX-Retarget:/i)&&(_r.target=te().querySelector($r.getResponseHeader("HX-Retarget")));var Gr=Rr(Fe,_r),Yr=$r.status>=200&&$r.status<400&&$r.status!==204,Kr=$r.response,Qr=$r.status>=400,Jr=Y.config.ignoreTitle,rn=se({shouldSwap:Yr,serverResponse:Kr,isError:Qr,ignoreTitle:Jr},_r);if(fe(Br,"htmx:beforeSwap",rn)){if(Br=rn.target,Kr=rn.serverResponse,Qr=rn.isError,Jr=rn.ignoreTitle,_r.target=Br,_r.failed=Qr,_r.successful=!Qr,rn.shouldSwap){$r.status===286&&Ke(Fe),C(Fe,function(_n){Kr=_n.transformResponse(Kr,$r,Fe)}),Gr.type&&Wt();var an=Fr.swapOverride;O($r,/HX-Reswap:/i)&&(an=$r.getResponseHeader("HX-Reswap"));var jr=dr(Fe,an);jr.hasOwnProperty("ignoreTitle")&&(Jr=jr.ignoreTitle),Br.classList.add(Y.config.swappingClass);var ln=null,dn=null,hn=function(){try{var _n=document.activeElement,pn={};try{pn={elt:_n,start:_n?_n.selectionStart:null,end:_n?_n.selectionEnd:null}}catch{}var Cn;O($r,/HX-Reselect:/i)&&(Cn=$r.getResponseHeader("HX-Reselect"));var En=T(Br);if(Ue(jr.swapStyle,Br,Fe,Kr,En,Cn),pn.elt&&!oe(pn.elt)&&Q(pn.elt,"id")){var Pn=document.getElementById(Q(pn.elt,"id")),On={preventScroll:jr.focusScroll!==void 0?!jr.focusScroll:!Y.config.defaultFocusScroll};if(Pn){if(pn.start&&Pn.setSelectionRange)try{Pn.setSelectionRange(pn.start,pn.end)}catch{}Pn.focus(On)}}if(Br.classList.remove(Y.config.swappingClass),ae(En.elts,function(Wn){Wn.classList&&Wn.classList.add(Y.config.settlingClass),fe(Wn,"htmx:afterSwap",_r)}),O($r,/HX-Trigger-After-Swap:/i)){var jn=Fe;oe(Fe)||(jn=te().body),Be($r,"HX-Trigger-After-Swap",jn)}var Fn=function(){if(ae(En.tasks,function(ni){ni.call()}),ae(En.elts,function(ni){ni.classList&&ni.classList.remove(Y.config.settlingClass),fe(ni,"htmx:afterSettle",_r)}),Gr.type&&(fe(te().body,"htmx:beforeHistoryUpdate",se({history:Gr},_r)),Gr.type==="push"?($t(Gr.path),fe(te().body,"htmx:pushedIntoHistory",{path:Gr.path})):(Gt(Gr.path),fe(te().body,"htmx:replacedInHistory",{path:Gr.path}))),_r.pathInfo.anchor){var Wn=te().getElementById(_r.pathInfo.anchor);Wn&&Wn.scrollIntoView({block:"start",behavior:"auto"})}if(En.title&&!Jr){var Hn=E("title");Hn?Hn.innerHTML=En.title:window.document.title=En.title}if(mr(En.elts,jr),O($r,/HX-Trigger-After-Settle:/i)){var qn=Fe;oe(Fe)||(qn=te().body),Be($r,"HX-Trigger-After-Settle",qn)}ne(ln)};jr.settleDelay>0?setTimeout(Fn,jr.settleDelay):Fn()}catch(Wn){throw ue(Fe,"htmx:swapError",_r),ne(dn),Wn}},gn=Y.config.globalViewTransitions;if(jr.hasOwnProperty("transition")&&(gn=jr.transition),gn&&fe(Fe,"htmx:beforeTransition",_r)&&typeof Promise<"u"&&document.startViewTransition){var bn=new Promise(function(_n,pn){ln=_n,dn=pn}),kn=hn;hn=function(){document.startViewTransition(function(){return kn(),bn})}}jr.swapDelay>0?setTimeout(hn,jr.swapDelay):hn()}Qr&&ue(Fe,"htmx:responseError",se({error:"Response Status Error Code "+$r.status+" from "+_r.pathInfo.requestPath},_r))}}}var Hr={};function Lr(){return{init:function(Fe){return null},onEvent:function(Fe,_r){return!0},transformResponse:function(Fe,_r,$r){return Fe},isInlineSwap:function(Fe){return!1},handleSwap:function(Fe,_r,$r,Br){return!1},encodeParameters:function(Fe,_r,$r){return null}}}function Ar(Fe,_r){_r.init&&_r.init(r),Hr[Fe]=se(Lr(),_r)}function Nr(Fe){delete Hr[Fe]}function Ir(Fe,_r,$r){if(Fe==null)return _r;_r==null&&(_r=[]),$r==null&&($r=[]);var Br=ee(Fe,"hx-ext");return Br&&ae(Br.split(","),function(Fr){if(Fr=Fr.replace(/ /g,""),Fr.slice(0,7)=="ignore:"){$r.push(Fr.slice(7));return}if($r.indexOf(Fr)<0){var zr=Hr[Fr];zr&&_r.indexOf(zr)<0&&_r.push(zr)}}),Ir(u(Fe),_r,$r)}var kr=!1;te().addEventListener("DOMContentLoaded",function(){kr=!0});function Pr(Fe){kr||te().readyState==="complete"?Fe():te().addEventListener("DOMContentLoaded",Fe)}function Mr(){Y.config.includeIndicatorStyles!==!1&&te().head.insertAdjacentHTML("beforeend","<style>                      ."+Y.config.indicatorClass+"{opacity:0;transition: opacity 200ms ease-in;}                      ."+Y.config.requestClass+" ."+Y.config.indicatorClass+"{opacity:1}                      ."+Y.config.requestClass+"."+Y.config.indicatorClass+"{opacity:1}                    </style>")}function Dr(){var Fe=te().querySelector('meta[name="htmx-config"]');return Fe?S(Fe.content):null}function Xr(){var Fe=Dr();Fe&&(Y.config=se(Y.config,Fe))}return Pr(function(){Xr(),Mr();var Fe=te().body;Dt(Fe);var _r=te().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");Fe.addEventListener("htmx:abort",function(Br){var Fr=Br.target,zr=ie(Fr);zr&&zr.xhr&&zr.xhr.abort()});var $r=window.onpopstate;window.onpopstate=function(Br){Br.state&&Br.state.htmx?(Kt(),ae(_r,function(Fr){fe(Fr,"htmx:restored",{document:te(),triggerEvent:fe})})):$r&&$r(Br)},setTimeout(function(){fe(Fe,"htmx:load",{}),Fe=null},0)}),Y}()})})(htmx_min$1);var htmx_minExports=htmx_min$1.exports;const htmx_min=getDefaultExportFromCjs(htmx_minExports),htmx$1=_mergeNamespaces({__proto__:null,default:htmx_min},[htmx_minExports]),intlTelInput$1="",sweetalert2="",select2="";Element.prototype.matches||(Element.prototype.matches=function(Fe){for(var _r=(this.document||this.ownerDocument).querySelectorAll(Fe),$r=_r.length;--$r>=0&&_r.item($r)!==this;);return $r>-1});Element.prototype.closest||(Element.prototype.closest=function(Fe){var _r=this,$r=this;if(!document.documentElement.contains(_r))return null;do{if($r.matches(Fe))return $r;$r=$r.parentElement}while($r!==null);return null});/**
 * ChildNode.remove() polyfill
 * https://gomakethings.com/removing-an-element-from-the-dom-the-es6-way/
 * @author Chris Ferdinandi
 * @license MIT
 */(function(Fe){for(var _r=0;_r<Fe.length;_r++)!window[Fe[_r]]||"remove"in window[Fe[_r]].prototype||(window[Fe[_r]].prototype.remove=function(){this.parentNode.removeChild(this)})})(["Element","CharacterData","DocumentType"]);(function(){for(var Fe=0,_r=["webkit","moz"],$r=0;$r<_r.length&&!window.requestAnimationFrame;++$r)window.requestAnimationFrame=window[_r[$r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[_r[$r]+"CancelAnimationFrame"]||window[_r[$r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(Br){var Fr=new Date().getTime(),zr=Math.max(0,16-(Fr-Fe)),jr=window.setTimeout(function(){Br(Fr+zr)},zr);return Fe=Fr+zr,jr}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(Br){clearTimeout(Br)})})();(function(Fe){Fe.forEach(function(_r){_r.hasOwnProperty("prepend")||Object.defineProperty(_r,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var Br=Array.prototype.slice.call(arguments),Fr=document.createDocumentFragment();Br.forEach(function(zr){var jr=zr instanceof Node;Fr.appendChild(jr?zr:document.createTextNode(String(zr)))}),this.insertBefore(Fr,this.firstChild)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);Element.prototype.getAttributeNames==null&&(Element.prototype.getAttributeNames=function(){for(var Fe=this.attributes,_r=Fe.length,$r=new Array(_r),Br=0;Br<_r;Br++)$r[Br]=Fe[Br].name;return $r});window.KTUtilElementDataStore={};window.KTUtilElementDataStoreID=0;window.KTUtilDelegatedEventHandlers={};var KTUtil$1=function(){var Fe=[],_r=function(){var $r=function(){for(var Fr=0;Fr<Fe.length;Fr++){var zr=Fe[Fr];zr.call()}},Br;window.addEventListener("resize",function(){KTUtil$1.throttle(Br,function(){$r()},200)})};return{init:function($r){_r()},addResizeHandler:function($r){Fe.push($r)},removeResizeHandler:function($r){for(var Br=0;Br<Fe.length;Br++)$r===Fe[Br]&&delete Fe[Br]},runResizeHandlers:function(){_runResizeHandlers()},resize:function(){if(typeof Event=="function")window.dispatchEvent(new Event("resize"));else{var $r=window.document.createEvent("UIEvents");$r.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent($r)}},getURLParam:function($r){var Br=window.location.search.substring(1),Fr,zr,jr=Br.split("&");for(Fr=0;Fr<jr.length;Fr++)if(zr=jr[Fr].split("="),zr[0]==$r)return unescape(zr[1]);return null},isMobileDevice:function(){var $r=this.getViewPort().width<this.getBreakpoint("lg");return $r===!1&&($r=navigator.userAgent.match(/iPad/i)!=null),$r},isDesktopDevice:function(){return!KTUtil$1.isMobileDevice()},getViewPort:function(){var $r=window,Br="inner";return"innerWidth"in window||(Br="client",$r=document.documentElement||document.body),{width:$r[Br+"Width"],height:$r[Br+"Height"]}},isBreakpointUp:function($r){var Br=this.getViewPort().width,Fr=this.getBreakpoint($r);return Br>=Fr},isBreakpointDown:function($r){var Br=this.getViewPort().width,Fr=this.getBreakpoint($r);return Br<Fr},getViewportWidth:function(){return this.getViewPort().width},getUniqueId:function($r){return $r+Math.floor(Math.random()*new Date().getTime())},getBreakpoint:function($r){var Br=this.getCssVariableValue("--bs-"+$r);return Br&&(Br=parseInt(Br.trim())),Br},isset:function($r,Br){var Fr;if(Br=Br||"",Br.indexOf("[")!==-1)throw new Error("Unsupported object path notation.");Br=Br.split(".");do{if($r===void 0||(Fr=Br.shift(),!$r.hasOwnProperty(Fr)))return!1;$r=$r[Fr]}while(Br.length);return!0},getHighestZindex:function($r){for(var Br,Fr;$r&&$r!==document;){if(Br=KTUtil$1.css($r,"position"),(Br==="absolute"||Br==="relative"||Br==="fixed")&&(Fr=parseInt(KTUtil$1.css($r,"z-index")),!isNaN(Fr)&&Fr!==0))return Fr;$r=$r.parentNode}return 1},hasFixedPositionedParent:function($r){for(var Br;$r&&$r!==document;){if(Br=KTUtil$1.css($r,"position"),Br==="fixed")return!0;$r=$r.parentNode}return!1},sleep:function($r){for(var Br=new Date().getTime(),Fr=0;Fr<1e7&&!(new Date().getTime()-Br>$r);Fr++);},getRandomInt:function($r,Br){return Math.floor(Math.random()*(Br-$r+1))+$r},isAngularVersion:function(){return window.Zone!==void 0},deepExtend:function($r){$r=$r||{};for(var Br=1;Br<arguments.length;Br++){var Fr=arguments[Br];if(Fr){for(var zr in Fr)if(Fr.hasOwnProperty(zr)){if(Object.prototype.toString.call(Fr[zr])==="[object Object]"){$r[zr]=KTUtil$1.deepExtend($r[zr],Fr[zr]);continue}$r[zr]=Fr[zr]}}}return $r},extend:function($r){$r=$r||{};for(var Br=1;Br<arguments.length;Br++)if(arguments[Br])for(var Fr in arguments[Br])arguments[Br].hasOwnProperty(Fr)&&($r[Fr]=arguments[Br][Fr]);return $r},getBody:function(){return document.getElementsByTagName("body")[0]},hasClasses:function($r,Br){if($r){for(var Fr=Br.split(" "),zr=0;zr<Fr.length;zr++)if(KTUtil$1.hasClass($r,KTUtil$1.trim(Fr[zr]))==!1)return!1;return!0}},hasClass:function($r,Br){if($r)return $r.classList?$r.classList.contains(Br):new RegExp("\\b"+Br+"\\b").test($r.className)},addClass:function($r,Br){if(!(!$r||typeof Br>"u")){var Fr=Br.split(" ");if($r.classList)for(var zr=0;zr<Fr.length;zr++)Fr[zr]&&Fr[zr].length>0&&$r.classList.add(KTUtil$1.trim(Fr[zr]));else if(!KTUtil$1.hasClass($r,Br))for(var jr=0;jr<Fr.length;jr++)$r.className+=" "+KTUtil$1.trim(Fr[jr])}},removeClass:function($r,Br){if(!(!$r||typeof Br>"u")){var Fr=Br.split(" ");if($r.classList)for(var zr=0;zr<Fr.length;zr++)$r.classList.remove(KTUtil$1.trim(Fr[zr]));else if(KTUtil$1.hasClass($r,Br))for(var jr=0;jr<Fr.length;jr++)$r.className=$r.className.replace(new RegExp("\\b"+KTUtil$1.trim(Fr[jr])+"\\b","g"),"")}},triggerCustomEvent:function($r,Br,Fr){var zr;window.CustomEvent?zr=new CustomEvent(Br,{detail:Fr}):(zr=document.createEvent("CustomEvent"),zr.initCustomEvent(Br,!0,!0,Fr)),$r.dispatchEvent(zr)},triggerEvent:function($r,Br){var Fr;if($r.ownerDocument)Fr=$r.ownerDocument;else if($r.nodeType==9)Fr=$r;else throw new Error("Invalid node passed to fireEvent: "+$r.id);if($r.dispatchEvent){var zr="";switch(Br){case"click":case"mouseenter":case"mouseleave":case"mousedown":case"mouseup":zr="MouseEvents";break;case"focus":case"change":case"blur":case"select":zr="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+Br+"'."}var jr=Fr.createEvent(zr),Ur=Br!="change";jr.initEvent(Br,Ur,!0),jr.synthetic=!0,$r.dispatchEvent(jr,!0)}else if($r.fireEvent){var jr=Fr.createEventObject();jr.synthetic=!0,$r.fireEvent("on"+Br,jr)}},index:function($r){for(var Br=$r.parentNode.children,Fr=0;Fr<Br.length;Fr++)if(Br[Fr]==$r)return Fr},trim:function($r){return $r.trim()},eventTriggered:function($r){return $r.currentTarget.dataset.triggered?!0:($r.currentTarget.dataset.triggered=!0,!1)},remove:function($r){$r&&$r.parentNode&&$r.parentNode.removeChild($r)},find:function($r,Br){return $r!==null?$r.querySelector(Br):null},findAll:function($r,Br){return $r!==null?$r.querySelectorAll(Br):null},insertAfter:function($r,Br){return Br.parentNode.insertBefore($r,Br.nextSibling)},parents:function($r,Br){for(var Fr=[];$r&&$r!==document;$r=$r.parentNode){if(Br){$r.matches(Br)&&Fr.push($r);continue}Fr.push($r)}return Fr},children:function($r,Br,Fr){if(!$r||!$r.childNodes)return null;for(var zr=[],jr=0,Ur=$r.childNodes.length,jr;jr<Ur;++jr)$r.childNodes[jr].nodeType==1&&KTUtil$1.matches($r.childNodes[jr],Br,Fr)&&zr.push($r.childNodes[jr]);return zr},child:function($r,Br,Fr){var zr=KTUtil$1.children($r,Br,Fr);return zr?zr[0]:null},matches:function($r,Br,Fr){var zr=Element.prototype,jr=zr.matches||zr.webkitMatchesSelector||zr.mozMatchesSelector||zr.msMatchesSelector||function(Ur){return[].indexOf.call(document.querySelectorAll(Ur),this)!==-1};return $r&&$r.tagName?jr.call($r,Br):!1},data:function($r){return{set:function(Br,Fr){$r&&($r.customDataTag===void 0&&(window.KTUtilElementDataStoreID++,$r.customDataTag=window.KTUtilElementDataStoreID),window.KTUtilElementDataStore[$r.customDataTag]===void 0&&(window.KTUtilElementDataStore[$r.customDataTag]={}),window.KTUtilElementDataStore[$r.customDataTag][Br]=Fr)},get:function(Br){if($r)return $r.customDataTag===void 0?null:this.has(Br)?window.KTUtilElementDataStore[$r.customDataTag][Br]:null},has:function(Br){return!$r||$r.customDataTag===void 0?!1:!!(window.KTUtilElementDataStore[$r.customDataTag]&&window.KTUtilElementDataStore[$r.customDataTag][Br])},remove:function(Br){$r&&this.has(Br)&&delete window.KTUtilElementDataStore[$r.customDataTag][Br]}}},outerWidth:function($r,Br){var Fr;return Br===!0?(Fr=parseFloat($r.offsetWidth),Fr+=parseFloat(KTUtil$1.css($r,"margin-left"))+parseFloat(KTUtil$1.css($r,"margin-right")),parseFloat(Fr)):(Fr=parseFloat($r.offsetWidth),Fr)},offset:function($r){var Br,Fr;if($r)return $r.getClientRects().length?(Br=$r.getBoundingClientRect(),Fr=$r.ownerDocument.defaultView,{top:Br.top+Fr.pageYOffset,left:Br.left+Fr.pageXOffset,right:window.innerWidth-($r.offsetLeft+$r.offsetWidth)}):{top:0,left:0}},height:function($r){return KTUtil$1.css($r,"height")},outerHeight:function($r,Br){var Fr=$r.offsetHeight,zr;return typeof Br<"u"&&Br===!0&&(zr=getComputedStyle($r),Fr+=parseInt(zr.marginTop)+parseInt(zr.marginBottom)),Fr},visible:function($r){return!($r.offsetWidth===0&&$r.offsetHeight===0)},isVisibleInContainer:function($r,Br,Fr=0){const zr=$r.offsetTop,jr=zr+$r.clientHeight+Fr,Ur=Br.scrollTop,Gr=Ur+Br.clientHeight;return zr>=Ur&&jr<=Gr},getRelativeTopPosition:function($r,Br){return $r.offsetTop-Br.offsetTop},attr:function($r,Br,Fr){if($r!=null)if(Fr!==void 0)$r.setAttribute(Br,Fr);else return $r.getAttribute(Br)},hasAttr:function($r,Br){if($r!=null)return!!$r.getAttribute(Br)},removeAttr:function($r,Br){$r!=null&&$r.removeAttribute(Br)},animate:function($r,Br,Fr,zr,Yr,Ur){var Gr={},Yr;if(Gr.linear=function(an,ln,dn,hn){return dn*an/hn+ln},Yr=Gr.linear,typeof $r!="number"||typeof Br!="number"||typeof Fr!="number"||typeof zr!="function")return;typeof Ur!="function"&&(Ur=function(){});var Kr=window.requestAnimationFrame||function(an){window.setTimeout(an,1e3/50)},Qr=Br-$r;function Jr(an){var ln=(an||+new Date)-rn;ln>=0&&zr(Yr(ln,$r,Qr,Fr)),ln>=0&&ln>=Fr?(zr(Br),Ur()):Kr(Jr)}zr($r);var rn=window.performance&&window.performance.now?window.performance.now():+new Date;Kr(Jr)},actualCss:function($r,Br,Fr){var zr="";if($r instanceof HTMLElement)if(!$r.getAttribute("kt-hidden-"+Br)||Fr===!1){var jr;return zr=$r.style.cssText,$r.style.cssText="position: absolute; visibility: hidden; display: block;",Br=="width"?jr=$r.offsetWidth:Br=="height"&&(jr=$r.offsetHeight),$r.style.cssText=zr,$r.setAttribute("kt-hidden-"+Br,jr),parseFloat(jr)}else return parseFloat($r.getAttribute("kt-hidden-"+Br))},actualHeight:function($r,Br){return KTUtil$1.actualCss($r,"height",Br)},actualWidth:function($r,Br){return KTUtil$1.actualCss($r,"width",Br)},getScroll:function($r,Br){return Br="scroll"+Br,$r==window||$r==document?self[Br=="scrollTop"?"pageYOffset":"pageXOffset"]||browserSupportsBoxModel&&document.documentElement[Br]||document.body[Br]:$r[Br]},css:function($r,Br,Fr,zr){if($r)if(Fr!==void 0)zr===!0?$r.style.setProperty(Br,Fr,"important"):$r.style[Br]=Fr;else{var jr=($r.ownerDocument||document).defaultView;if(jr&&jr.getComputedStyle)return Br=Br.replace(/([A-Z])/g,"-$1").toLowerCase(),jr.getComputedStyle($r,null).getPropertyValue(Br);if($r.currentStyle)return Br=Br.replace(/\-(\w)/g,function(Ur,Gr){return Gr.toUpperCase()}),Fr=$r.currentStyle[Br],/^\d+(em|pt|%|ex)?$/i.test(Fr)?function(Ur){var Gr=$r.style.left,Yr=$r.runtimeStyle.left;return $r.runtimeStyle.left=$r.currentStyle.left,$r.style.left=Ur||0,Ur=$r.style.pixelLeft+"px",$r.style.left=Gr,$r.runtimeStyle.left=Yr,Ur}(Fr):Fr}},slide:function($r,Br,Fr,zr,jr){if(!(!$r||Br=="up"&&KTUtil$1.visible($r)===!1||Br=="down"&&KTUtil$1.visible($r)===!0)){Fr=Fr||600;var Ur=KTUtil$1.actualHeight($r),Gr=!1,Yr=!1;KTUtil$1.css($r,"padding-top")&&KTUtil$1.data($r).has("slide-padding-top")!==!0&&KTUtil$1.data($r).set("slide-padding-top",KTUtil$1.css($r,"padding-top")),KTUtil$1.css($r,"padding-bottom")&&KTUtil$1.data($r).has("slide-padding-bottom")!==!0&&KTUtil$1.data($r).set("slide-padding-bottom",KTUtil$1.css($r,"padding-bottom")),KTUtil$1.data($r).has("slide-padding-top")&&(Gr=parseInt(KTUtil$1.data($r).get("slide-padding-top"))),KTUtil$1.data($r).has("slide-padding-bottom")&&(Yr=parseInt(KTUtil$1.data($r).get("slide-padding-bottom"))),Br=="up"?($r.style.cssText="display: block; overflow: hidden;",Gr&&KTUtil$1.animate(0,Gr,Fr,function(Kr){$r.style.paddingTop=Gr-Kr+"px"},"linear"),Yr&&KTUtil$1.animate(0,Yr,Fr,function(Kr){$r.style.paddingBottom=Yr-Kr+"px"},"linear"),KTUtil$1.animate(0,Ur,Fr,function(Kr){$r.style.height=Ur-Kr+"px"},"linear",function(){$r.style.height="",$r.style.display="none",typeof zr=="function"&&zr()})):Br=="down"&&($r.style.cssText="display: block; overflow: hidden;",Gr&&KTUtil$1.animate(0,Gr,Fr,function(Kr){$r.style.paddingTop=Kr+"px"},"linear",function(){$r.style.paddingTop=""}),Yr&&KTUtil$1.animate(0,Yr,Fr,function(Kr){$r.style.paddingBottom=Kr+"px"},"linear",function(){$r.style.paddingBottom=""}),KTUtil$1.animate(0,Ur,Fr,function(Kr){$r.style.height=Kr+"px"},"linear",function(){$r.style.height="",$r.style.display="",$r.style.overflow="",typeof zr=="function"&&zr()}))}},slideUp:function($r,Br,Fr){KTUtil$1.slide($r,"up",Br,Fr)},slideDown:function($r,Br,Fr){KTUtil$1.slide($r,"down",Br,Fr)},show:function($r,Br){typeof $r<"u"&&($r.style.display=Br||"block")},hide:function($r){typeof $r<"u"&&($r.style.display="none")},addEvent:function($r,Br,Fr,zr){typeof $r<"u"&&$r!==null&&$r.addEventListener(Br,Fr)},removeEvent:function($r,Br,Fr){$r!==null&&$r.removeEventListener(Br,Fr)},on:function($r,Br,Fr,zr){if($r!==null){var jr=KTUtil$1.getUniqueId("event");return window.KTUtilDelegatedEventHandlers[jr]=function(Ur){for(var Gr=$r.querySelectorAll(Br),Yr=Ur.target;Yr&&Yr!==$r;){for(var Kr=0,Qr=Gr.length;Kr<Qr;Kr++)Yr===Gr[Kr]&&zr.call(Yr,Ur);Yr=Yr.parentNode}},KTUtil$1.addEvent($r,Fr,window.KTUtilDelegatedEventHandlers[jr]),jr}},off:function($r,Br,Fr){!$r||!window.KTUtilDelegatedEventHandlers[Fr]||(KTUtil$1.removeEvent($r,Br,window.KTUtilDelegatedEventHandlers[Fr]),delete window.KTUtilDelegatedEventHandlers[Fr])},one:function(Br,Fr,zr){Br.addEventListener(Fr,function jr(Ur){return Ur.target&&Ur.target.removeEventListener&&Ur.target.removeEventListener(Ur.type,jr),Br&&Br.removeEventListener&&Ur.currentTarget.removeEventListener(Ur.type,jr),zr(Ur)})},hash:function($r){var Br=0,Fr,zr;if($r.length===0)return Br;for(Fr=0;Fr<$r.length;Fr++)zr=$r.charCodeAt(Fr),Br=(Br<<5)-Br+zr,Br|=0;return Br},animateClass:function($r,Br,Fr){var zr,jr={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var Ur in jr)$r.style[Ur]!==void 0&&(zr=jr[Ur]);KTUtil$1.addClass($r,Br),KTUtil$1.one($r,zr,function(){KTUtil$1.removeClass($r,Br)}),Fr&&KTUtil$1.one($r,zr,Fr)},transitionEnd:function($r,Br){var Fr,zr={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"msTransitionEnd"};for(var jr in zr)$r.style[jr]!==void 0&&(Fr=zr[jr]);KTUtil$1.one($r,Fr,Br)},animationEnd:function($r,Br){var Fr,zr={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var jr in zr)$r.style[jr]!==void 0&&(Fr=zr[jr]);KTUtil$1.one($r,Fr,Br)},animateDelay:function($r,Br){for(var Fr=["webkit-","moz-","ms-","o-",""],zr=0;zr<Fr.length;zr++)KTUtil$1.css($r,Fr[zr]+"animation-delay",Br)},animateDuration:function($r,Br){for(var Fr=["webkit-","moz-","ms-","o-",""],zr=0;zr<Fr.length;zr++)KTUtil$1.css($r,Fr[zr]+"animation-duration",Br)},scrollTo:function($r,Br,zr){var zr=zr||500,jr=$r?KTUtil$1.offset($r).top:0,Ur=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,Gr,Yr;Br&&(jr=jr-Br),Gr=Ur,Yr=jr,KTUtil$1.animate(Gr,Yr,zr,function(Kr){document.documentElement.scrollTop=Kr,document.body.parentNode.scrollTop=Kr,document.body.scrollTop=Kr})},scrollTop:function($r,Br){KTUtil$1.scrollTo(null,$r,Br)},isArray:function($r){return $r&&Array.isArray($r)},isEmpty:function($r){for(var Br in $r)if($r.hasOwnProperty(Br))return!1;return!0},numberString:function($r){$r+="";for(var Br=$r.split("."),Fr=Br[0],zr=Br.length>1?"."+Br[1]:"",jr=/(\d+)(\d{3})/;jr.test(Fr);)Fr=Fr.replace(jr,"$1,$2");return Fr+zr},isRTL:function(){return document.querySelector("html").getAttribute("direction")==="rtl"},snakeToCamel:function($r){return $r.replace(/(\-\w)/g,function(Br){return Br[1].toUpperCase()})},filterBoolean:function($r){return $r===!0||$r==="true"?!0:$r===!1||$r==="false"?!1:$r},setHTML:function($r,Br){$r.innerHTML=Br},getHTML:function($r){if($r)return $r.innerHTML},getDocumentHeight:function(){var $r=document.body,Br=document.documentElement;return Math.max($r.scrollHeight,$r.offsetHeight,Br.clientHeight,Br.scrollHeight,Br.offsetHeight)},getScrollTop:function(){return(document.scrollingElement||document.documentElement).scrollTop},colorLighten:function($r,Br){const Fr=function(zr,jr){let Ur=parseInt(zr,16)+jr,Gr=Ur>255?255:Ur;return Gr=Gr.toString(16).length>1?Gr.toString(16):`0${Gr.toString(16)}`,Gr};return $r=$r.indexOf("#")>=0?$r.substring(1,$r.length):$r,Br=parseInt(255*Br/100),$r=`#${Fr($r.substring(0,2),Br)}${Fr($r.substring(2,4),Br)}${Fr($r.substring(4,6),Br)}`},colorDarken:function($r,Br){const Fr=function(zr,jr){let Ur=parseInt(zr,16)-jr,Gr=Ur<0?0:Ur;return Gr=Gr.toString(16).length>1?Gr.toString(16):`0${Gr.toString(16)}`,Gr};return $r=$r.indexOf("#")>=0?$r.substring(1,$r.length):$r,Br=parseInt(255*Br/100),$r=`#${Fr($r.substring(0,2),Br)}${Fr($r.substring(2,4),Br)}${Fr($r.substring(4,6),Br)}`},throttle:function($r,Br,Fr){$r||($r=setTimeout(function(){Br(),$r=void 0},Fr))},debounce:function($r,Br,Fr){clearTimeout($r),$r=setTimeout(Br,Fr)},parseJson:function($r){if(typeof $r=="string"){$r=$r.replace(/'/g,'"');var Br=$r.replace(/(\w+:)|(\w+ :)/g,function(Fr){return'"'+Fr.substring(0,Fr.length-1)+'":'});try{$r=JSON.parse(Br)}catch{}}return $r},getResponsiveValue:function($r,Br){var Fr=this.getViewPort().width,zr=null;if($r=KTUtil$1.parseJson($r),typeof $r=="object"){var jr,Ur=-1,Gr;for(var Yr in $r)Yr==="default"?Gr=0:Gr=this.getBreakpoint(Yr)?this.getBreakpoint(Yr):parseInt(Yr),Gr<=Fr&&Gr>Ur&&(jr=Yr,Ur=Gr);jr?zr=$r[jr]:zr=$r}else zr=$r;return zr},each:function($r,Br){return[].slice.call($r).map(Br)},getSelectorMatchValue:function($r){var Br=null;if($r=KTUtil$1.parseJson($r),typeof $r=="object"){if($r.match!==void 0){var Fr=Object.keys($r.match)[0];$r=Object.values($r.match)[0],document.querySelector(Fr)!==null&&(Br=$r)}}else Br=$r;return Br},getConditionalValue:function(Br){var Br=KTUtil$1.parseJson(Br),Fr=KTUtil$1.getResponsiveValue(Br);return Fr!==null&&Fr.match!==void 0&&(Fr=KTUtil$1.getSelectorMatchValue(Fr)),Fr===null&&Br!==null&&Br.default!==void 0&&(Fr=Br.default),Fr},getCssVariableValue:function($r){var Br=getComputedStyle(document.documentElement).getPropertyValue($r);return Br&&Br.length>0&&(Br=Br.trim()),Br},isInViewport:function($r){var Br=$r.getBoundingClientRect();return Br.top>=0&&Br.left>=0&&Br.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&Br.right<=(window.innerWidth||document.documentElement.clientWidth)},isPartiallyInViewport:function($r){let Br=$r.getBoundingClientRect().left,Fr=$r.getBoundingClientRect().top,zr=Math.max(document.documentElement.clientWidth,window.innerWidth||0),jr=Math.max(document.documentElement.clientHeight,window.innerHeight||0),Ur=$r.clientWidth,Gr=$r.clientHeight;return Fr<jr&&Fr+Gr>0&&Br<zr&&Br+Ur>0},onDOMContentLoaded:function($r){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",$r):$r()},inIframe:function(){try{return window.self!==window.top}catch{return!0}},isHexColor($r){return/^#[0-9A-F]{6}$/i.test($r)}}}();window.KTUtil=KTUtil$1;var KTApp=function(){var Fe=!1,_r=!1,$r=!1,Br=function(pn,Cn){if(pn.getAttribute("data-kt-initialized")!=="1"){var En={};pn.hasAttribute("data-bs-delay-hide")&&(En.hide=pn.getAttribute("data-bs-delay-hide")),pn.hasAttribute("data-bs-delay-show")&&(En.show=pn.getAttribute("data-bs-delay-show")),En&&(Cn.delay=En),pn.hasAttribute("data-bs-dismiss")&&pn.getAttribute("data-bs-dismiss")=="click"&&(Cn.dismiss="click");var Pn=new bootstrap.Tooltip(pn,Cn);return Cn.dismiss&&Cn.dismiss==="click"&&pn.addEventListener("click",function(On){Pn.hide()}),pn.setAttribute("data-kt-initialized","1"),Pn}},Fr=function(){var pn=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));pn.map(function(Cn){Br(Cn,{})})},zr=function(pn,Cn){if(pn.getAttribute("data-kt-initialized")!=="1"){var En={};pn.hasAttribute("data-bs-delay-hide")&&(En.hide=pn.getAttribute("data-bs-delay-hide")),pn.hasAttribute("data-bs-delay-show")&&(En.show=pn.getAttribute("data-bs-delay-show")),En&&(Cn.delay=En),pn.getAttribute("data-bs-dismiss")=="true"&&(Cn.dismiss=!0),Cn.dismiss===!0&&(Cn.template='<div class="popover" role="tooltip"><div class="popover-arrow"></div><span class="popover-dismiss btn btn-icon"></span><h3 class="popover-header"></h3><div class="popover-body"></div></div>');var Pn=new bootstrap.Popover(pn,Cn);if(Cn.dismiss===!0){var On=function(jn){Pn.hide()};pn.addEventListener("shown.bs.popover",function(){var jn=document.getElementById(pn.getAttribute("aria-describedby"));jn.addEventListener("click",On)}),pn.addEventListener("hide.bs.popover",function(){var jn=document.getElementById(pn.getAttribute("aria-describedby"));jn.removeEventListener("click",On)})}return pn.setAttribute("data-kt-initialized","1"),Pn}},jr=function(){var pn=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));pn.map(function(Cn){zr(Cn,{})})},Ur=function(){var pn=[].slice.call(document.querySelectorAll('[data-kt-buttons="true"]'));pn.map(function(Cn){if(Cn.getAttribute("data-kt-initialized")!=="1"){var En=Cn.hasAttribute("data-kt-buttons-target")?Cn.getAttribute("data-kt-buttons-target"):".btn",Pn=[].slice.call(Cn.querySelectorAll(En));KTUtil.on(Cn,En,"click",function(On){Pn.map(function(jn){jn.classList.remove("active")}),this.classList.add("active")}),Cn.setAttribute("data-kt-initialized","1")}})},Gr=function(){if(!(typeof jQuery>"u")&&!(typeof $.fn.daterangepicker>"u")){var pn=[].slice.call(document.querySelectorAll('[data-kt-daterangepicker="true"]')),Cn=moment().subtract(29,"days"),En=moment();pn.map(function(Pn){if(Pn.getAttribute("data-kt-initialized")!=="1"){var On=Pn.querySelector("div"),jn=Pn.hasAttribute("data-kt-daterangepicker-opens")?Pn.getAttribute("data-kt-daterangepicker-opens"):"left",Fn=Pn.getAttribute("data-kt-daterangepicker-range"),Wn=function(Hn,qn){var ni=moment();On&&(ni.isSame(Hn,"day")&&ni.isSame(qn,"day")?On.innerHTML=Hn.format("D MMM YYYY"):On.innerHTML=Hn.format("D MMM YYYY")+" - "+qn.format("D MMM YYYY"))};Fn==="today"&&(Cn=moment(),En=moment()),$(Pn).daterangepicker({startDate:Cn,endDate:En,opens:jn,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},Wn),Wn(Cn,En),Pn.setAttribute("data-kt-initialized","1")}})}},Yr=function(){if(!(typeof jQuery>"u")&&!(typeof $.fn.select2>"u")){var pn=[].slice.call(document.querySelectorAll('[data-control="select2"], [data-kt-select2="true"]'));pn.map(function(Cn){if(Cn.getAttribute("data-kt-initialized")!=="1"){var En={dir:document.body.getAttribute("direction")};Cn.getAttribute("data-hide-search")=="true"&&(En.minimumResultsForSearch=1/0),$(Cn).select2(En),Cn.setAttribute("data-kt-initialized","1")}}),_r===!1&&(_r=!0,$(document).on("select2:open",function(Cn){var En=document.querySelectorAll(".select2-container--open .select2-search__field");En.length>0&&En[En.length-1].focus()}))}},Kr=function(){if(!(typeof autosize>"u")){var pn=[].slice.call(document.querySelectorAll('[data-kt-autosize="true"]'));pn.map(function(Cn){Cn.getAttribute("data-kt-initialized")!=="1"&&(autosize(Cn),Cn.setAttribute("data-kt-initialized","1"))})}},Qr=function(){if(!(typeof countUp>"u")){var pn=[].slice.call(document.querySelectorAll('[data-kt-countup="true"]:not(.counted)'));pn.map(function(Cn){if(KTUtil.isInViewport(Cn)&&KTUtil.visible(Cn)){if(Cn.getAttribute("data-kt-initialized")==="1")return;var En={},Pn=Cn.getAttribute("data-kt-countup-value");Pn=parseFloat(Pn.replace(/,/g,"")),Cn.hasAttribute("data-kt-countup-start-val")&&(En.startVal=parseFloat(Cn.getAttribute("data-kt-countup-start-val"))),Cn.hasAttribute("data-kt-countup-duration")&&(En.duration=parseInt(Cn.getAttribute("data-kt-countup-duration"))),Cn.hasAttribute("data-kt-countup-decimal-places")&&(En.decimalPlaces=parseInt(Cn.getAttribute("data-kt-countup-decimal-places"))),Cn.hasAttribute("data-kt-countup-prefix")&&(En.prefix=Cn.getAttribute("data-kt-countup-prefix")),Cn.hasAttribute("data-kt-countup-separator")&&(En.separator=Cn.getAttribute("data-kt-countup-separator")),Cn.hasAttribute("data-kt-countup-suffix")&&(En.suffix=Cn.getAttribute("data-kt-countup-suffix"));var On=new countUp.CountUp(Cn,Pn,En);On.start(),Cn.classList.add("counted"),Cn.setAttribute("data-kt-initialized","1")}})}},Jr=function(){if(!(typeof countUp>"u")){$r===!1&&(Qr(),window.addEventListener("scroll",Qr));var pn=[].slice.call(document.querySelectorAll('[data-kt-countup-tabs="true"][data-bs-toggle="tab"]'));pn.map(function(Cn){Cn.getAttribute("data-kt-initialized")!=="1"&&(Cn.addEventListener("shown.bs.tab",Qr),Cn.setAttribute("data-kt-initialized","1"))}),$r=!0}},rn=function(){if(typeof tns>"u")return;var pn=function(En){if(!En)return;const Pn={},On=function(Fn){return Fn==="true"?!0:Fn==="false"?!1:Fn};En.getAttributeNames().forEach(function(Fn){if(/^data-tns-.*/g.test(Fn)){let Wn=Fn.replace("data-tns-","").toLowerCase().replace(/(?:[\s-])\w/g,function(Hn){return Hn.replace("-","").toUpperCase()});if(Fn==="data-tns-responsive"){const Hn=En.getAttribute(Fn).replace(/(\w+:)|(\w+ :)/g,function(qn){return'"'+qn.substring(0,qn.length-1)+'":'});try{Pn[Wn]=JSON.parse(Hn)}catch{}}else Pn[Wn]=On(En.getAttribute(Fn))}});const jn=Object.assign({},{container:En,slideBy:"page",autoplay:!0,autoplayButtonOutput:!1},Pn);return En.closest(".tns")&&KTUtil.addClass(En.closest(".tns"),"tns-initiazlied"),tns(jn)};const Cn=Array.prototype.slice.call(document.querySelectorAll('[data-tns="true"]'),0);!Cn&&Cn.length===0||Cn.forEach(function(En){En.getAttribute("data-kt-initialized")!=="1"&&(pn(En),En.setAttribute("data-kt-initialized","1"))})},an=function(){Fe!==!0&&(typeof SmoothScroll>"u"||new SmoothScroll('a[data-kt-scroll-toggle][href*="#"]',{speed:1e3,speedAsDuration:!0,offset:function(pn,Cn){if(pn.hasAttribute("data-kt-scroll-offset")){var En=KTUtil.getResponsiveValue(pn.getAttribute("data-kt-scroll-offset"));return En}else return 0}}))},ln=function(){KTUtil.on(document.body,'[data-kt-card-action="remove"]',"click",function(pn){pn.preventDefault();const Cn=this.closest(".card");if(!Cn)return;const En=this.getAttribute("data-kt-card-confirm-message");this.getAttribute("data-kt-card-confirm")==="true"?Swal.fire({text:En||"Are you sure to remove ?",icon:"warning",buttonsStyling:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel",customClass:{confirmButton:"btn btn-primary",denyButton:"btn btn-danger"}}).then(function(On){On.isConfirmed&&Cn.remove()}):Cn.remove()})},dn=function(){var pn=Array.prototype.slice.call(document.querySelectorAll("[data-bs-stacked-modal]"));pn&&pn.length>0&&pn.forEach(Cn=>{Cn.getAttribute("data-kt-initialized")!=="1"&&(Cn.setAttribute("data-kt-initialized","1"),Cn.addEventListener("click",function(En){En.preventDefault();const Pn=document.querySelector(this.getAttribute("data-bs-stacked-modal"));Pn&&new bootstrap.Modal(Pn).show()}))})},hn=function(){Fe!==!0&&KTUtil.on(document.body,'[data-kt-check="true"]',"change",function(pn){var Cn=this,En=document.querySelectorAll(Cn.getAttribute("data-kt-check-target"));KTUtil.each(En,function(Pn){Pn.type=="checkbox"?Pn.checked=Cn.checked:Pn.classList.toggle("active")})})},gn=function(){Fe!==!0&&KTUtil.on(document.body,'.collapsible[data-bs-toggle="collapse"]',"click",function(pn){if(this.classList.contains("collapsed")?(this.classList.remove("active"),this.blur()):this.classList.add("active"),this.hasAttribute("data-kt-toggle-text")){var Cn=this.getAttribute("data-kt-toggle-text"),En=this.querySelector('[data-kt-toggle-text-target="true"]'),En=En||this;this.setAttribute("data-kt-toggle-text",En.innerText),En.innerText=Cn}})},bn=function(){Fe!==!0&&KTUtil.on(document.body,'[data-kt-rotate="true"]',"click",function(pn){this.classList.contains("active")?(this.classList.remove("active"),this.blur()):this.classList.add("active")})},kn=function(){if(typeof lozad>"u")return;lozad().observe()},Sn=function(){document.body.classList.add("page-loading"),document.body.setAttribute("data-kt-app-page-loading","on")},_n=function(){document.body.classList.remove("page-loading"),document.body.removeAttribute("data-kt-app-page-loading")};return{init:function(){kn(),an(),ln(),dn(),hn(),gn(),bn(),Fr(),jr(),Gr(),Ur(),Yr(),Qr(),Jr(),Kr(),rn(),Fe=!0},showPageLoading:function(){Sn()},hidePageLoading:function(){_n()},createBootstrapPopover:function(pn,Cn){return zr(pn,Cn)},createBootstrapTooltip:function(pn,Cn){return Br(pn,Cn)}}}();window.addEventListener("DOMContentLoaded",Fe=>{window.KTApp=KTApp.init()});const initDatatable=()=>{var Fe={language:{info:_LANG_.Showing+" _START_ "+_LANG_.to+" _END_ "+_LANG_.of+" _TOTAL_ ",infoEmpty:_LANG_.ShowingNoRecords,emptyTable:_LANG_.NoDataAvailableInTable,lengthMenu:"_MENU_",paginate:{first:'<i class="first"></i>',last:'<i class="last"></i>',next:'<i class="next"></i>',previous:'<i class="previous"></i>'},zeroRecords:_LANG_.sZeroRecords,infoFiltered:"(Affichage de _MAX_ ligne(s))"}};$.extend(!0,$.fn.dataTable.defaults,Fe);var _r=$.fn.dataTable;$.extend(!0,_r.defaults,{dom:"<'table-responsive'tr><'flex flex-col items-start justify-between p-4 space-y-3 md:flex-row md:items-center md:space-y-0'<'text-sm font-normal text-gray-500 dark:text-gray-400 flex flex-row items-center justify-between'li><'inline-flex items-stretch -space-x-px'p>>",renderer:"bootstrap"}),$.extend(_r.ext.classes,{sWrapper:"dataTables_wrapper dt-tailwindcss",sFilterInput:"form-control form-control-sm form-control-solid",sLengthSelect:"form-select form-select-sm form-select-solid",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),_r.ext.renderer.pageButton.bootstrap=function($r,Br,Fr,zr,jr,Ur){var Gr=new _r.Api($r),Yr=$r.oClasses,Kr=$r.oLanguage.oPaginate,Qr=$r.oLanguage.oAria.paginate||{},Jr,rn,an=0,ln=function(hn,gn){var bn,kn,Sn,_n,pn=function(Cn){Cn.preventDefault(),!$(Cn.currentTarget).hasClass("disabled")&&Gr.page()!=Cn.data.action&&Gr.page(Cn.data.action).draw("page")};for(bn=0,kn=gn.length;bn<kn;bn++)if(_n=gn[bn],Array.isArray(_n))ln(hn,_n);else{switch(Jr="",rn="",_n){case"ellipsis":Jr="&#x2026;",rn="disabled";break;case"first":Jr=Kr.sFirst,rn=_n+(jr>0?"":" disabled");break;case"previous":Jr=Kr.sPrevious,rn=_n+(jr>0?"":" disabled");break;case"next":Jr=Kr.sNext,rn=_n+(jr<Ur-1?"":" disabled");break;case"last":Jr=Kr.sLast,rn=_n+(jr<Ur-1?"":" disabled");break;default:Jr=_n+1,rn=jr===_n?"active":"";break}Jr&&(Sn=$("<li>",{class:Yr.sPageButton+" "+rn,id:Fr===0&&typeof _n=="string"?$r.sTableId+"_"+_n:null}).append($("<a>",{href:"#","aria-controls":$r.sTableId,"aria-label":Qr[_n],"data-dt-idx":an,tabindex:$r.iTabIndex,class:"page-link"}).html(Jr)).appendTo(hn),$r.oApi._fnBindAction(Sn,{action:_n},pn),an++)}},dn;try{dn=$(Br).find(document.activeElement).data("dt-idx")}catch{}ln($(Br).empty().html('<ul class="pagination"/>').children("ul"),zr),dn!==void 0&&$(Br).find("[data-dt-idx="+dn+"]").trigger("focus")}},initPhoneIntl=()=>{const Fe=document.querySelectorAll(".phoneintl"),_r=document.querySelector('[name="country"]');_r&&$(".select2-country").on("select2:select",function($r){console.info(_r.value),Fe&&Fe.forEach(function(Br){var Fr=intlTelInput(Br,{initialCountry:_r.value,allowDropdown:!1,localizedCountries:_r.value,autoPlaceholder:"aggressive",placeholderNumberType:"FIXED_LINE",nationalMode:!1,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"});Fr.setCountry(_r.value),Br.addEventListener("countrychange",function(){var zr=document.querySelector('[name="country"]');zr&&(zr.value=Fr.getSelectedCountryData().dialCode)}),Br.addEventListener("open:countrydropdown",function(){}),Br.addEventListener("close:countrydropdown",function(){})})}),Fe&&Fe.forEach(function($r){var Br=intlTelInput($r,{initialCountry:_r.value??"US",allowDropdown:!1,localizedCountries:_r.value,autoPlaceholder:"aggressive",placeholderNumberType:"FIXED_LINE",nationalMode:!1,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"});$r.addEventListener("countrychange",function(){var Fr=document.querySelector('[name="country"]');Fr&&(Fr.value=Br.getSelectedCountryData().iso2.toUpperCase())}),$r.addEventListener("open:countrydropdown",function(){}),$r.addEventListener("close:countrydropdown",function(){})})};document.addEventListener("alpine:init",()=>{Alpine.data("listen",()=>({confirmationModal:!1,emitTo(Fe,_r,$r){console.log(Fe),console.log(_r),console.log($r),this.confirmationModal=!0}})),Alpine.store("config",{userIsAuthenticated:!0}),Alpine.store("toasts",{counter:0,list:[],createToast(Fe,_r="info"){const $r=this.list.length;let Br=this.list.filter(Fr=>Fr.visible).length+1;this.list.push({id:this.counter++,message:Fe,type:_r,visible:!0}),setTimeout(()=>{this.destroyToast($r)},4e3*Br)},destroyToast(Fe){this.list[Fe].visible=!1}}),Alpine.store("sidebar",{full:!1,active:"home",navOpen:!1}),Alpine.data("dropdown",()=>({open:!1,toggle(Fe){this.open=!this.open,Alpine.store("sidebar").active=Fe},activeClass:"bg-gray-800 text-gray-200",expandedClass:"border-l border-gray-400 ml-4 pl-4",shrinkedClass:"sm:absolute top-0 left-20 sm:shadow-md sm:z-10 sm:bg-gray-900 sm:rounded-md sm:p-4 border-l sm:border-none border-gray-400 ml-4 pl-4 sm:ml-0 w-28"})),Alpine.data("sub_dropdown",()=>({sub_open:!1,sub_toggle(){this.sub_open=!this.sub_open},sub_expandedClass:"border-l border-gray-400 ml-4 pl-4",sub_shrinkedClass:"sm:absolute top-0 left-28 sm:shadow-md sm:z-10 sm:bg-gray-900 sm:rounded-md sm:p-4 border-l sm:border-none border-gray-400 ml-4 pl-4 sm:ml-0 w-28"})),Alpine.data("tooltip",()=>({show:!1,visibleClass:"block sm:absolute -top-7 sm:border border-gray-800 left-5 sm:text-sm sm:bg-gray-900 sm:px-2 sm:py-1 sm:rounded-md z-50"})),Alpine.data("noticesHandler",()=>({notices:[],visible:[],add(Fe){Fe.id=Date.now(),this.notices.push(Fe),this.fire(Fe.id)},fire(Fe){this.visible.push(this.notices.find($r=>$r.id==Fe));const _r=4500*this.visible.length;setTimeout(()=>{this.remove(Fe)},_r)},remove(Fe){const _r=this.visible.find(Br=>Br.id==Fe),$r=this.visible.indexOf(_r);this.visible.splice($r,1)},getIcon(Fe){if(Fe.type=="success")return"<div class='text-green-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-check' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z'/></svg></div>";if(Fe.type=="info")return"<div class='text-blue-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-info' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z'/><circle cx='8' cy='4.5' r='1'/></svg></div>";if(Fe.type=="warning")return"<div class='text-orange-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-exclamation' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z'/></svg></div>";if(Fe.type=="error")return"<div class='text-red-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-x' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z'/><path fill-rule='evenodd' d='M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z'/></svg></div>"}})),Alpine.data("appGeneratePassword",()=>({showPasswordField:!0,passwordScore:0,new_password:"",pass_confirm:"",chars:{lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",numeric:"0123456789",symbols:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"},init(){console.log("changePassword loaded"),this.generatePassword()},charsLength:12,checkStrength:function(){if(!this.new_password)return this.passwordScore=0;this.passwordScore=zxcvbn(this.new_password).score+1},generatePassword:function(){console.log(document.getElementById("charsSymbols").checked);var Fe=this.shuffleArray(((document.getElementById("charsLower").checked?this.chars.lower:"")+(document.getElementById("charsUpper").checked?this.chars.upper:"")+(document.getElementById("charsNumeric").checked?this.chars.numeric:"")+(document.getElementById("charsSymbols").checked?this.chars.symbols:"")).split("")).join("").substring(0,this.charsLength);this.new_password=Fe,this.pass_confirm=Fe,this.checkStrength()},shuffleArray(Fe){for(let _r=Fe.length-1;_r>0;_r--){const $r=Math.floor(Math.random()*(_r+1));[Fe[_r],Fe[$r]]=[Fe[$r],Fe[_r]]}return Fe}})),Alpine.data("initSelect2Alpine",()=>({selectedCity:"",init(){this.select2=$(this.$refs.select).select2(),this.select2.on("select2:select",Fe=>{this.selectedCity=Fe.target.value}),this.$watch("selectedCity",Fe=>{this.select2.val(Fe).trigger("change")})}})),Alpine.data("initDatePickerRange",()=>({value:[moment().subtract(1,"M"),moment()],init(){_LANG_.today,_LANG_.yesterday,$(this.$refs.picker).daterangepicker({minYear:parseInt(moment().subtract(10,"years").format("YYYY"),10),maxYear:parseInt(moment().add(10,"years").format("YYYY"),10),autoUpdateInput:!1,startDate:this.value[0],endDate:this.value[1],locale:{applyLabel:_LANG_.appliquer,format:moment.localeData().longDateFormat("L"),cancelLabel:_LANG_.annuler,weekLabel:"W",customRangeLabel:_LANG_.custom,daysOfWeek:moment.weekdaysMin(),monthNames:moment.monthsShort(),firstDay:moment.localeData().firstDayOfWeek()},ranges:{todaylang:[moment(),moment()],yesterdaLang:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},(Fe,_r)=>{this.value[0]=Fe.format("DD/MM/YYYY"),this.value[1]=_r.format("DD/MM/YYYY")}),this.$watch("value",()=>{$(this.$refs.picker).data("daterangepicker").setStartDate(this.value[0]),$(this.$refs.picker).data("daterangepicker").setEndDate(this.value[1])})}})),Alpine.data("xModalMedia",Fe=>({dataUUID:"",file:[],identifier:"test",multiple:!1,container:"element",media_selected:"",media_target:"",init(_r){console.log("modal MÃ©dia loaded"),this.identifier=this.$el.getAttribute("data-media-identifier"),this.multiple=this.$el.getAttribute("data-media-multiple"),this.container=this.$el.getAttribute("data-media-container"),this.media_selected=this.$el.querySelector(".media_selected"),this.media_target=this.$el.querySelector(".media_target"),this.$el.querySelectorAll(".element-media-modal").forEach($r=>{$r.addEventListener("click",Br=>{let Fr=$r.querySelector("img");const zr=$r.classList.contains("selected");for(var jr=0;jr<this.$el.querySelectorAll(".element-media-modal").length;jr++)this.$el.querySelectorAll(".element-media-modal")[jr].classList.remove("selected");this.media_selected.value="",zr||($r.classList.add("selected"),this.dataUUID=$r.getAttribute("data-uuid"),console.log("mÃ©dia selected : "+this.dataUUID),console.log(this.identifier),this.file=Fr.getAttribute("data-media-file"),console.log(this.media_selected),this.media_selected.value=this.dataUUID,this.insert())})})},insert(){console.log("fafa"),console.log(this.dataUUID),console.log(this.container),console.log(this.file),this.$el.querySelector('[name="btwinserer"]').addEventListener("click",function(_r){console.log(_r.__x.getUnobservedData());var $r=document.querySelector(".selected");if(console.log(_r),console.log($r),console.log(this.container),console.log(this.file),containerBody=document.querySelector("body"),containerBody){let Br=container.querySelector("img");Br.src=this.file[0]}})}})),Alpine.data("drop_file_component",()=>({dropingFile:!1,handleFileDrop(Fe){event.dataTransfer.files.length>0&&Fe.dataTransfer.files}}))});const initHtmx$1=()=>{typeof window.htmx<"u"&&(htmx.config.useTemplateFragments=!0);let Fe=[];function _r(Gr){return htmx.closest(Gr,"[data-loading-states]")||document.body}function $r(Gr,Yr){document.body.contains(Gr)&&Yr()}function Br(Gr,Yr){const Kr=htmx.closest(Gr,"[data-loading-path]");return Kr?Kr.getAttribute("data-loading-path")===Yr:!0}function Fr(Gr,Yr,Kr,Qr){const Jr=htmx.closest(Gr,"[data-loading-delay]");if(Jr){const rn=Jr.getAttribute("data-loading-delay")||2e3,an=setTimeout(()=>{Kr(),Fe.push(()=>{$r(Yr,()=>Qr())})},rn);Fe.push(()=>{$r(Yr,()=>clearTimeout(an))})}else Kr(),Fe.push(()=>{$r(Yr,()=>Qr())})}function zr(Gr,Yr,Kr){return Array.from(htmx.findAll(Gr,`[${Yr}]`)).filter(Qr=>Br(Qr,Kr))}function jr(Gr){return Gr.getAttribute("data-loading-target")?Array.from(htmx.findAll(Gr.getAttribute("data-loading-target"))):[Gr]}htmx.defineExtension("loading-states",{onEvent:function(Gr,Yr){if(Gr==="htmx:beforeRequest"){const Kr=_r(Yr.target),Qr=["data-loading","data-loading-class","data-loading-class-remove","data-loading-disable","data-loading-aria-busy"];let Jr={};Qr.forEach(rn=>{Jr[rn]=zr(Kr,rn,Yr.detail.pathInfo.requestPath)}),Jr["data-loading"].forEach(rn=>{jr(rn).forEach(an=>{Fr(rn,an,()=>an.style.display=rn.getAttribute("data-loading")||"inline-block",()=>an.style.display="none")})}),Jr["data-loading-class"].forEach(rn=>{const an=rn.getAttribute("data-loading-class").split(" ");jr(rn).forEach(ln=>{Fr(rn,ln,()=>an.forEach(dn=>ln.classList.add(dn)),()=>an.forEach(dn=>ln.classList.remove(dn)))})}),Jr["data-loading-class-remove"].forEach(rn=>{const an=rn.getAttribute("data-loading-class-remove").split(" ");jr(rn).forEach(ln=>{jr(rn).forEach(dn=>{Fr(rn,dn,()=>an.forEach(hn=>dn.classList.remove(hn)),()=>an.forEach(hn=>dn.classList.add(hn)))})})}),Jr["data-loading-disable"].forEach(rn=>{jr(rn).forEach(an=>{an.setAttribute("disabled",!0),setTimeout(()=>{an.removeAttribute("disabled")},"2000")})}),Jr["data-loading-aria-busy"].forEach(rn=>{jr(rn).forEach(an=>{Fr(rn,an,()=>an.setAttribute("aria-busy","true"),()=>an.removeAttribute("aria-busy"))})})}if(Gr==="htmx:beforeOnLoad")for(;Fe.length>0;)Fe.shift()()}}),htmx.defineExtension("alpine-morph",{isInlineSwap:function(Gr){return Gr==="morph"},handleSwap:function(Gr,Yr,Kr){if(Gr==="morph")return Kr.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(Alpine.morph(Yr,Kr.firstElementChild),[Yr]):(Alpine.morph(Yr,Kr.outerHTML),[Yr])}}),htmx.defineExtension("restored",{onEvent:function(Gr,Yr){if(Gr==="htmx:restored"){var Kr=Yr.detail.document.querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']"),Qr=Array.from(Kr).find(Jr=>Jr.outerHTML===Yr.detail.elt.outerHTML);Yr.detail.triggerEvent(Qr,"restored")}}}),htmx.defineExtension("json-enc",{onEvent:function(Gr,Yr){Gr==="htmx:configRequest"&&(Yr.detail.headers["Content-Type"]="application/json")},encodeParameters:function(Gr,Yr,Kr){return Gr.overrideMimeType("text/json"),JSON.stringify(Yr)}}),htmx.defineExtension("debug",{onEvent:function(Gr,Yr){if(console.debug)console.debug(Gr,Yr);else if(console)console.log("DEBUG:",Gr,Yr);else throw"NO CONSOLE SUPPORTED"}}),function(){function Gr(Yr){var Kr={};for(var Qr in Yr)Kr[Qr]=Yr[Qr];return JSON.stringify(Kr,function(Jr,rn){if(rn instanceof Node){var an=rn.tagName;return an?(an=an.toLowerCase(),rn.id&&(an+="#"+rn.id),rn.classList&&rn.classList.length&&(an+="."+rn.classList.toString().replace(" ",".")),an):"Node"}return rn instanceof Window?"Window":rn})}htmx.defineExtension("event-header",{onEvent:function(Yr,Kr){Yr==="htmx:configRequest"&&Kr.detail.triggeringEvent&&(Kr.detail.headers["Triggering-Event"]=Gr(Kr.detail.triggeringEvent))}})}(),htmx.defineExtension("client-side-templates",{transformResponse:function(Gr,Yr,Kr){var Qr=htmx.closest(Kr,"[mustache-template]");if(Qr){var Jr=JSON.parse(Gr),rn=Qr.getAttribute("mustache-template"),an=htmx.find("#"+rn);if(an)return Mustache.render(an.innerHTML,Jr);throw"Unknown mustache template: "+rn}var ln=htmx.closest(Kr,"[handlebars-template]");if(ln){var Jr=JSON.parse(Gr),dn=ln.getAttribute("handlebars-template");return Handlebars.partials[dn](Jr)}var hn=htmx.closest(Kr,"[nunjucks-template]");if(hn){var Jr=JSON.parse(Gr),dn=hn.getAttribute("nunjucks-template"),an=htmx.find("#"+dn);return an?nunjucks.renderString(an.innerHTML,Jr):nunjucks.render(dn,Jr)}return Gr}}),htmx.defineExtension("disable-element",{onEvent:function(Gr,Yr){let Kr=Yr.detail.elt,Qr=Kr.getAttribute("hx-disable-element"),Jr=Qr=="self"?Kr:document.querySelector(Qr);Gr==="htmx:beforeRequest"&&Jr?Jr.disabled=!0:Gr=="htmx:afterRequest"&&Jr&&(Jr.disabled=!1)}}),htmx.defineExtension("echarts",{transformResponse:function(Gr,Yr,Kr){var Qr=JSON.parse(Gr),Jr=Qr,rn=document.getElementById("charts"),an=window.echarts.getInstanceByDom(rn);delete Qr.id,an.setOption(Jr)}}),htmx.defineExtension("reset-on-success",{onEvent:function(Gr,Yr){if(Gr!=="htmx:beforeSwap"||Yr.detail.isError)return;const Kr=Yr.detail.requestConfig.elt;if(!(!Kr.closest('[hx-reset-on-success="true"]')&&!Kr.closest("[data-hx-reset-on-success]")))switch(Kr.tagName){case"INPUT":Kr.value="";case"TEXTAREA":Kr.value="";break;case"SELECT":break;case"FORM":Kr.reset();break}}});const Ur={initHTMXXRequestedWithXMLHttpRequest:function(){document.body.addEventListener("htmx:configRequest",Gr=>{Gr.detail.headers["X-CSRF-TOKEN"]=document.querySelector("[name=X-CSRF-TOKEN]").content,Gr.detail.headers["X-Requested-With"]="XMLHttpRequest"}),document.body.addEventListener("htmx:beforeSwap",function(Gr){}),htmx.on("htmx:afterSettle",function(Gr){Gr.detail.xhr.getResponseHeader("content-type")}),htmx.on("htmx:afterSwap",function(Gr){}),htmx.on("htmx:afterRequest",function(Gr){}),htmx.on("htmx:responseError",function(Gr){let Yr=new CustomEvent("notify",{bubbles:!0,cancelable:!0,detail:{content:Gr.detail.xhr.statusText,type:"error"}});document.dispatchEvent(Yr)})},listenToHTMXRequests:function(){htmx.on("htmx:afterSettle",function(Gr){const Yr=document.getElementById("location_notice");let Kr={type:"error",text:"Server encountered error"};Yr&&(Kr={type:Yr.dataset.noticeType,text:Yr.value});const Qr="notice";Ur.dispatchCustomEvent(Qr,Kr)})},getCSRFToken:function(){return htmx.find("._post_token")},dispatchCustomEvent:function(Gr,Yr,Kr){const Qr=new CustomEvent(Gr,{detail:Yr});Kr?Kr.dispatchEvent(Qr):window.dispatchEvent(Qr)},noticesHandler:function(){return{notices:[],visible:[],add(Gr){Gr.id=Date.now(),this.notices.push(Gr),this.fire(Gr.id)},fire(Gr){this.visible.push(this.notices.find(Kr=>Kr.id==Gr));const Yr=2500*this.visible.length;setTimeout(()=>{this.remove(Gr)},Yr)},remove(Gr){const Yr=this.visible.find(Qr=>Qr.id==Gr),Kr=this.visible.indexOf(Yr);this.visible.splice(Kr,1)},getIcon(Gr){if(Gr.type=="success")return"<div class='text-green-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-check' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z'/></svg></div>";if(Gr.type=="info")return"<div class='text-blue-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-info' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z'/><circle cx='8' cy='4.5' r='1'/></svg></div>";if(Gr.type=="warning")return"<div class='text-orange-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-exclamation' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z'/></svg></div>";if(Gr.type=="error")return"<div class='text-red-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-x' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z'/><path fill-rule='evenodd' d='M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z'/></svg></div>"}}}};document.addEventListener("DOMContentLoaded",function(Gr){typeof htmx<"u"&&(Ur.initHTMXXRequestedWithXMLHttpRequest(),Ur.listenToHTMXRequests())})},initHtmx=()=>{var Fe=null;function _r($r,Br){if($r&&$r.indexOf("<head")>-1){const gn=document.createElement("html");var Fr=$r.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),zr=Fr.match(/(<head(\s[^>]*>|>)([\s\S]*?)<\/head>)/im);if(zr){var jr=[],Ur=[],Gr=[],Yr=[];gn.innerHTML=zr;var Kr=gn.querySelector("head"),Qr=document.head;if(Kr==null)return;var Jr=new Map;for(const bn of Kr.children)Jr.set(bn.outerHTML,bn);var rn=Fe.getAttributeValue(Kr,"hx-head")||Br;for(const bn of Qr.children){var an=Jr.has(bn.outerHTML),ln=bn.getAttribute("hx-head")==="re-eval",dn=Fe.getAttributeValue(bn,"hx-preserve")==="true";an||dn?ln?Ur.push(bn):(Jr.delete(bn.outerHTML),Gr.push(bn)):rn==="append"?ln&&(Ur.push(bn),Yr.push(bn)):Fe.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:bn})!==!1&&Ur.push(bn)}Yr.push(...Jr.values());for(const bn of Yr){var hn=document.createRange().createContextualFragment(bn.outerHTML);Fe.triggerEvent(document.body,"htmx:addingHeadElement",{headElement:hn})!==!1&&(Qr.appendChild(hn),jr.push(hn))}for(const bn of Ur)Fe.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:bn})!==!1&&Qr.removeChild(bn);Fe.triggerEvent(document.body,"htmx:afterHeadMerge",{added:jr,kept:Gr,removed:Ur})}}}htmx.defineExtension("head-support",{init:function($r){Fe=$r,htmx.on("htmx:afterSwap",function(Br){var Fr=Br.detail.xhr.response;Fe.triggerEvent(document.body,"htmx:beforeHeadMerge",Br.detail)&&_r(Fr,Br.detail.boosted?"merge":"append")}),htmx.on("htmx:historyRestore",function(Br){Fe.triggerEvent(document.body,"htmx:beforeHeadMerge",Br.detail)&&(Br.detail.cacheMiss?_r(Br.detail.serverResponse,"merge"):_r(Br.detail.item.head,"merge"))}),htmx.on("htmx:historyItemCreated",function(Br){var Fr=Br.detail.item;Fr.head=document.head.outerHTML})}})},wsHtmx=()=>{var Fe;htmx.defineExtension("ws",{init:function(rn){Fe=rn,htmx.createWebSocket||(htmx.createWebSocket=Kr),htmx.config.wsReconnectDelay||(htmx.config.wsReconnectDelay="full-jitter")},onEvent:function(rn,an){switch(rn){case"htmx:beforeCleanupElement":var ln=Fe.getInternalData(an.target);ln.webSocket&&ln.webSocket.close();return;case"htmx:beforeProcessNode":var dn=an.target;Jr(Qr(dn,"ws-connect"),function(hn){Br(hn)}),Jr(Qr(dn,"ws-send"),function(hn){zr(hn)})}}});function _r(rn){return rn.trim().split(/\s+/)}function $r(rn){var an=Fe.getAttributeValue(rn,"hx-ws");if(an)for(var ln=_r(an),dn=0;dn<ln.length;dn++){var hn=ln[dn].split(/:(.+)/);if(hn[0]==="connect")return hn[1]}}function Br(rn){if(Fe.bodyContains(rn)){var an=Fe.getAttributeValue(rn,"ws-connect");if(an==null||an===""){var ln=$r(rn);if(ln==null)return;an=ln}if(an.indexOf("/")===0){var dn=location.hostname+(location.port?":"+location.port:"");location.protocol==="https:"?an="wss://"+dn+an:location.protocol==="http:"&&(an="ws://"+dn+an)}var hn=Fr(rn,function(){return htmx.createWebSocket(an)});hn.addEventListener("message",function(gn){if(!Yr(rn)){var bn=gn.data;if(Fe.triggerEvent(rn,"htmx:wsBeforeMessage",{message:bn,socketWrapper:hn.publicInterface})){Fe.withExtensions(rn,function(Cn){bn=Cn.transformResponse(bn,null,rn)});var kn=Fe.makeSettleInfo(rn),Sn=Fe.makeFragment(bn);if(Sn.children.length)for(var _n=Array.from(Sn.children),pn=0;pn<_n.length;pn++)Fe.oobSwap(Fe.getAttributeValue(_n[pn],"hx-swap-oob")||"true",_n[pn],kn);Fe.settleImmediately(kn.tasks),Fe.triggerEvent(rn,"htmx:wsAfterMessage",{message:bn,socketWrapper:hn.publicInterface})}}}),Fe.getInternalData(rn).webSocket=hn}}function Fr(rn,an){var ln={socket:null,messageQueue:[],retryCount:0,events:{},addEventListener:function(dn,hn){this.socket&&this.socket.addEventListener(dn,hn),this.events[dn]||(this.events[dn]=[]),this.events[dn].push(hn)},sendImmediately:function(dn,hn){this.socket||Fe.triggerErrorEvent(),hn&&Fe.triggerEvent(hn,"htmx:wsBeforeSend",{message:dn,socketWrapper:this.publicInterface})&&(this.socket.send(dn),hn&&Fe.triggerEvent(hn,"htmx:wsAfterSend",{message:dn,socketWrapper:this.publicInterface}))},send:function(dn,hn){this.socket.readyState!==this.socket.OPEN?this.messageQueue.push({message:dn,sendElt:hn}):this.sendImmediately(dn,hn)},handleQueuedMessages:function(){for(;this.messageQueue.length>0;){var dn=this.messageQueue[0];if(this.socket.readyState===this.socket.OPEN)this.sendImmediately(dn.message,dn.sendElt),this.messageQueue.shift();else break}},init:function(){this.socket&&this.socket.readyState===this.socket.OPEN&&this.socket.close();var dn=an();Fe.triggerEvent(rn,"htmx:wsConnecting",{event:{type:"connecting"}}),this.socket=dn,dn.onopen=function(gn){ln.retryCount=0,Fe.triggerEvent(rn,"htmx:wsOpen",{event:gn,socketWrapper:ln.publicInterface}),ln.handleQueuedMessages()},dn.onclose=function(gn){if(!Yr(rn)&&[1006,1012,1013].indexOf(gn.code)>=0){var bn=Gr(ln.retryCount);setTimeout(function(){ln.retryCount+=1,ln.init()},bn)}Fe.triggerEvent(rn,"htmx:wsClose",{event:gn,socketWrapper:ln.publicInterface})},dn.onerror=function(gn){Fe.triggerErrorEvent(rn,"htmx:wsError",{error:gn,socketWrapper:ln}),Yr(rn)};var hn=this.events;Object.keys(hn).forEach(function(gn){hn[gn].forEach(function(bn){dn.addEventListener(gn,bn)})})},close:function(){this.socket.close()}};return ln.init(),ln.publicInterface={send:ln.send.bind(ln),sendImmediately:ln.sendImmediately.bind(ln),queue:ln.messageQueue},ln}function zr(rn){var an=Fe.getAttributeValue(rn,"hx-ws");if(!(an&&an!=="send")){var ln=Fe.getClosestMatch(rn,jr);Ur(ln,rn)}}function jr(rn){return Fe.getInternalData(rn).webSocket!=null}function Ur(rn,an){var ln=Fe.getInternalData(an),dn=Fe.getTriggerSpecs(an);dn.forEach(function(hn){Fe.addTriggerHandler(an,hn,ln,function(gn,bn){if(!Yr(rn)){var kn=Fe.getInternalData(rn).webSocket,Sn=Fe.getHeaders(an,Fe.getTarget(an)),_n=Fe.getInputValues(an,"post"),pn=_n.errors,Cn=_n.values,En=Fe.getExpressionVars(an),Pn=Fe.mergeObjects(Cn,En),On=Fe.filterValues(Pn,an),jn={parameters:On,unfilteredParameters:Pn,headers:Sn,errors:pn,triggeringEvent:bn,messageBody:void 0,socketWrapper:kn.publicInterface};if(Fe.triggerEvent(gn,"htmx:wsConfigSend",jn)){if(pn&&pn.length>0){Fe.triggerEvent(gn,"htmx:validation:halted",pn);return}var Fn=jn.messageBody;if(Fn===void 0){var Wn=Object.assign({},jn.parameters);jn.headers&&(Wn.HEADERS=Sn),Fn=JSON.stringify(Wn)}kn.send(Fn,gn),bn&&Fe.shouldCancel(bn,gn)&&bn.preventDefault()}}})})}function Gr(rn){var an=htmx.config.wsReconnectDelay;if(typeof an=="function")return an(rn);if(an==="full-jitter"){var ln=Math.min(rn,6),dn=1e3*Math.pow(2,ln);return dn*Math.random()}logError('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function Yr(rn){return Fe.bodyContains(rn)?!1:(Fe.getInternalData(rn).webSocket.close(),!0)}function Kr(rn){var an=new WebSocket(rn,[]);return an.binaryType=htmx.config.wsBinaryType,an}function Qr(rn,an){var ln=[];return(Fe.hasAttribute(rn,an)||Fe.hasAttribute(rn,"hx-ws"))&&ln.push(rn),rn.querySelectorAll("["+an+"], [data-"+an+"], [data-hx-ws], [hx-ws]").forEach(function(dn){ln.push(dn)}),ln}function Jr(rn,an){if(rn)for(var ln=0;ln<rn.length;ln++)an(rn[ln])}};window.Ci4DataTables=window.Ci4DataTables||{};document.querySelector("html");window.jQuery=window.$=$$3;window.intlTelInput=intlTelInput$3;window.Swal=Swal$1;window.Sortable=Sortable;window.nestedSort=NestedSort;window.axios=axios$1;select2$1();window.select2=select2$1;window.daterangepicker=daterangepicker;window.EasyMDE=EasyMDE$1;window.ClassicEditor=ClassicEditor;window.Alpine=module_default$6;window.datatable=DataTable;window.echarts=echarts;window.dropzone=$3ed269f2f0fb224b$export$2e2bcd8739ae039;window.htmx=htmx$1;module_default$6.plugin(module_default$4);module_default$6.plugin(module_default$3);module_default$6.plugin(module_default$5);module_default$6.plugin(module_default$2);module_default$6.plugin(module_default);module_default$6.plugin(Clipboard.configure({onCopy:()=>{console.log("Copied!")}}));module_default$6.plugin(module_default$1);window.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="X-CSRF-TOKEN"]').getAttribute("content")};module_default$6.start();initDatatable();initPhoneIntl();initHtmx$1();initHtmx();wsHtmx();htmx_minExports.on("htmx:afterSettle",function(Fe){initPhoneIntl()});function _getElementById(Fe){return document.getElementById(Fe)}window._getElementById=_getElementById();function toggleSelectAll(Fe){for(var _r=Fe.closest("table"),$r=_r.getElementsByTagName("input"),Br=0;Br<$r.length;Br++)$r[Br].type=="checkbox"&&($r[Br].checked=Fe.checked)}document.querySelector(".select-all")&&document.querySelector(".select-all").addEventListener("click",function(Fe){toggleSelectAll(Fe.target)});document.body.addEventListener("deleteConfirmed",function(Fe){document.getElementById("recordSelector").dispatchEvent(new CustomEvent("deleteOK"))});document.body.addEventListener("showMessage",function(Fe){if(typeof Fe.detail.content=="object"){var _r=Fe.detail.content,$r="<ul>";Object.keys(_r).forEach(Br=>{$r+="<li>"+_r[Br]+"</li>"}),$r+="</ul>"}else $r=Fe.detail.content;document.dispatchEvent(new CustomEvent("notify",{detail:{content:$r,type:Fe.detail.type},bubbles:!0}))});function updateOnlineStatus(Fe){let _r=navigator.onLine?"online":"offline",$r=navigator.onLine?"success":"error";Fe.type!=null&&document.dispatchEvent(new CustomEvent("notify",{detail:{content:_r,type:$r},bubbles:!0}))}window.addEventListener("online",updateOnlineStatus);window.addEventListener("offline",updateOnlineStatus);updateOnlineStatus({});window.dispatchEvent(new CustomEvent("deletemodalcomponent",{detail:{showDeleteModal:!1,title:"my-modal",message:"my-modal",id:"8"},bubbles:!0}));window.dispatchEvent(new CustomEvent("authdisplaydatamodalcomponent",{detail:{showAuthDisplayDataModal:!1,title:"my-modal",message:"my-modal",id:"8"},bubbles:!0}));window.dispatchEvent(new CustomEvent("modalcomponent",{detail:{showModal:!1},bubbles:!0}));const searchField=document.getElementById("search-field");searchField&&searchField.addEventListener("keypress",function(Fe){Fe.keyCode==13&&Fe.preventDefault()});htmx_minExports.onLoad(function(Fe){document.querySelectorAll(".maxlength").forEach($r=>{var Br=document.querySelector("."+$r.getAttribute("id"));const Fr=$r.getAttribute("data-limit-word"),zr=()=>{let jr=Br.value.length,Ur=Fr-jr;$r.textContent=Ur+"/"+Fr,Ur<=0?($r.classList.remove("text-black-800","text-warning-800"),$r.classList.add("text-red-800")):Ur<20?($r.classList.remove("text-black-800","text-red-800"),$r.classList.add("text-warning-800")):($r.classList.remove("text-warning-800","text-red-800"),$r.classList.add("text-black-800"))};Br.addEventListener("input",zr),zr()})});window.onload=function(){let Fe=document.querySelectorAll("input.noenter,select.noenter");for(var _r=0;_r<Fe.length;_r++)Fe[_r].addEventListener("keypress",function($r){$r.which==13&&$r.preventDefault()})};const INACTIVE_USER_TIME_THRESHOLD=9e5;let userActivityTimeout=null;activateActivityTracker();function activateActivityTracker(){window.addEventListener("mousemove",resetUserActivityTimeout),window.addEventListener("scroll",resetUserActivityTimeout),window.addEventListener("keydown",resetUserActivityTimeout),window.addEventListener("resize",resetUserActivityTimeout),window.addEventListener("beforeunload",deactivateActivityTracker)}function deactivateActivityTracker(){window.removeEventListener("mousemove",resetUserActivityTimeout),window.removeEventListener("scroll",resetUserActivityTimeout),window.removeEventListener("keydown",resetUserActivityTimeout),window.removeEventListener("resize",resetUserActivityTimeout),window.removeEventListener("beforeunload",deactivateActivityTracker)}function resetUserActivityTimeout(){clearTimeout(userActivityTimeout),userActivityTimeout=setTimeout(()=>{inactiveUserAction()},INACTIVE_USER_TIME_THRESHOLD),console.log("User is inactive = false")}function inactiveUserAction(){console.log("User is inactive = true"),window.dispatchEvent(new CustomEvent("modaldelainotactivity",{detail:{userActivity:!0},bubbles:!0}))}});export default HE();
