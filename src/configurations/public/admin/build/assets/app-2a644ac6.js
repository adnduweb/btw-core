var zD=(Fe,en)=>()=>(en||Fe((en={exports:{}}).exports,en),en.exports);var HD=zD((exports,module)=>{function _mergeNamespaces(Fe,en){for(var tn=0;tn<en.length;tn++){const nn=en[tn];if(typeof nn!="string"&&!Array.isArray(nn)){for(const rn in nn)if(rn!=="default"&&!(rn in Fe)){const an=Object.getOwnPropertyDescriptor(nn,rn);an&&Object.defineProperty(Fe,rn,an.get?an:{enumerable:!0,get:()=>nn[rn]})}}}return Object.freeze(Object.defineProperty(Fe,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Fe){return Fe&&Fe.__esModule&&Object.prototype.hasOwnProperty.call(Fe,"default")?Fe.default:Fe}function getAugmentedNamespace(Fe){if(Fe.__esModule)return Fe;var en=Fe.default;if(typeof en=="function"){var tn=function nn(){return this instanceof nn?Reflect.construct(en,arguments,this.constructor):en.apply(this,arguments)};tn.prototype=en.prototype}else tn={};return Object.defineProperty(tn,"__esModule",{value:!0}),Object.keys(Fe).forEach(function(nn){var rn=Object.getOwnPropertyDescriptor(Fe,nn);Object.defineProperty(tn,nn,rn.get?rn:{enumerable:!0,get:function(){return Fe[nn]}})}),tn}var jquery={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(Fe){(function(en,tn){Fe.exports=en.document?tn(en,!0):function(nn){if(!nn.document)throw new Error("jQuery requires a window with a document");return tn(nn)}})(typeof window<"u"?window:commonjsGlobal,function(en,tn){var nn=[],rn=Object.getPrototypeOf,an=nn.slice,ln=nn.flat?function(zn){return nn.flat.call(zn)}:function(zn){return nn.concat.apply([],zn)},cn=nn.push,un=nn.indexOf,fn={},hn=fn.toString,pn=fn.hasOwnProperty,gn=pn.toString,mn=gn.call(Object),_n={},kn=function(qn){return typeof qn=="function"&&typeof qn.nodeType!="number"&&typeof qn.item!="function"},Cn=function(qn){return qn!=null&&qn===qn.window},xn=en.document,Sn={type:!0,src:!0,nonce:!0,noModule:!0};function Mn(zn,qn,Fr){Fr=Fr||xn;var Ur,ei,ni=Fr.createElement("script");if(ni.text=zn,qn)for(Ur in Sn)ei=qn[Ur]||qn.getAttribute&&qn.getAttribute(Ur),ei&&ni.setAttribute(Ur,ei);Fr.head.appendChild(ni).parentNode.removeChild(ni)}function In(zn){return zn==null?zn+"":typeof zn=="object"||typeof zn=="function"?fn[hn.call(zn)]||"object":typeof zn}var On="3.7.1",Pn=/HTML$/i,Tn=function(zn,qn){return new Tn.fn.init(zn,qn)};Tn.fn=Tn.prototype={jquery:On,constructor:Tn,length:0,toArray:function(){return an.call(this)},get:function(zn){return zn==null?an.call(this):zn<0?this[zn+this.length]:this[zn]},pushStack:function(zn){var qn=Tn.merge(this.constructor(),zn);return qn.prevObject=this,qn},each:function(zn){return Tn.each(this,zn)},map:function(zn){return this.pushStack(Tn.map(this,function(qn,Fr){return zn.call(qn,Fr,qn)}))},slice:function(){return this.pushStack(an.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Tn.grep(this,function(zn,qn){return(qn+1)%2}))},odd:function(){return this.pushStack(Tn.grep(this,function(zn,qn){return qn%2}))},eq:function(zn){var qn=this.length,Fr=+zn+(zn<0?qn:0);return this.pushStack(Fr>=0&&Fr<qn?[this[Fr]]:[])},end:function(){return this.prevObject||this.constructor()},push:cn,sort:nn.sort,splice:nn.splice},Tn.extend=Tn.fn.extend=function(){var zn,qn,Fr,Ur,ei,ni,ui=arguments[0]||{},Ii=1,xi=arguments.length,Fi=!1;for(typeof ui=="boolean"&&(Fi=ui,ui=arguments[Ii]||{},Ii++),typeof ui!="object"&&!kn(ui)&&(ui={}),Ii===xi&&(ui=this,Ii--);Ii<xi;Ii++)if((zn=arguments[Ii])!=null)for(qn in zn)Ur=zn[qn],!(qn==="__proto__"||ui===Ur)&&(Fi&&Ur&&(Tn.isPlainObject(Ur)||(ei=Array.isArray(Ur)))?(Fr=ui[qn],ei&&!Array.isArray(Fr)?ni=[]:!ei&&!Tn.isPlainObject(Fr)?ni={}:ni=Fr,ei=!1,ui[qn]=Tn.extend(Fi,ni,Ur)):Ur!==void 0&&(ui[qn]=Ur));return ui},Tn.extend({expando:"jQuery"+(On+Math.random()).replace(/\D/g,""),isReady:!0,error:function(zn){throw new Error(zn)},noop:function(){},isPlainObject:function(zn){var qn,Fr;return!zn||hn.call(zn)!=="[object Object]"?!1:(qn=rn(zn),qn?(Fr=pn.call(qn,"constructor")&&qn.constructor,typeof Fr=="function"&&gn.call(Fr)===mn):!0)},isEmptyObject:function(zn){var qn;for(qn in zn)return!1;return!0},globalEval:function(zn,qn,Fr){Mn(zn,{nonce:qn&&qn.nonce},Fr)},each:function(zn,qn){var Fr,Ur=0;if(Nn(zn))for(Fr=zn.length;Ur<Fr&&qn.call(zn[Ur],Ur,zn[Ur])!==!1;Ur++);else for(Ur in zn)if(qn.call(zn[Ur],Ur,zn[Ur])===!1)break;return zn},text:function(zn){var qn,Fr="",Ur=0,ei=zn.nodeType;if(!ei)for(;qn=zn[Ur++];)Fr+=Tn.text(qn);return ei===1||ei===11?zn.textContent:ei===9?zn.documentElement.textContent:ei===3||ei===4?zn.nodeValue:Fr},makeArray:function(zn,qn){var Fr=qn||[];return zn!=null&&(Nn(Object(zn))?Tn.merge(Fr,typeof zn=="string"?[zn]:zn):cn.call(Fr,zn)),Fr},inArray:function(zn,qn,Fr){return qn==null?-1:un.call(qn,zn,Fr)},isXMLDoc:function(zn){var qn=zn&&zn.namespaceURI,Fr=zn&&(zn.ownerDocument||zn).documentElement;return!Pn.test(qn||Fr&&Fr.nodeName||"HTML")},merge:function(zn,qn){for(var Fr=+qn.length,Ur=0,ei=zn.length;Ur<Fr;Ur++)zn[ei++]=qn[Ur];return zn.length=ei,zn},grep:function(zn,qn,Fr){for(var Ur,ei=[],ni=0,ui=zn.length,Ii=!Fr;ni<ui;ni++)Ur=!qn(zn[ni],ni),Ur!==Ii&&ei.push(zn[ni]);return ei},map:function(zn,qn,Fr){var Ur,ei,ni=0,ui=[];if(Nn(zn))for(Ur=zn.length;ni<Ur;ni++)ei=qn(zn[ni],ni,Fr),ei!=null&&ui.push(ei);else for(ni in zn)ei=qn(zn[ni],ni,Fr),ei!=null&&ui.push(ei);return ln(ui)},guid:1,support:_n}),typeof Symbol=="function"&&(Tn.fn[Symbol.iterator]=nn[Symbol.iterator]),Tn.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(zn,qn){fn["[object "+qn+"]"]=qn.toLowerCase()});function Nn(zn){var qn=!!zn&&"length"in zn&&zn.length,Fr=In(zn);return kn(zn)||Cn(zn)?!1:Fr==="array"||qn===0||typeof qn=="number"&&qn>0&&qn-1 in zn}function Hn(zn,qn){return zn.nodeName&&zn.nodeName.toLowerCase()===qn.toLowerCase()}var Un=nn.pop,jn=nn.sort,Yn=nn.splice,Wn="[\\x20\\t\\r\\n\\f]",Qn=new RegExp("^"+Wn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Wn+"+$","g");Tn.contains=function(zn,qn){var Fr=qn&&qn.parentNode;return zn===Fr||!!(Fr&&Fr.nodeType===1&&(zn.contains?zn.contains(Fr):zn.compareDocumentPosition&&zn.compareDocumentPosition(Fr)&16))};var Xn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function jr(zn,qn){return qn?zn==="\0"?"ï¿½":zn.slice(0,-1)+"\\"+zn.charCodeAt(zn.length-1).toString(16)+" ":"\\"+zn}Tn.escapeSelector=function(zn){return(zn+"").replace(Xn,jr)};var Wr=xn,Jr=cn;(function(){var zn,qn,Fr,Ur,ei,ni=Jr,ui,Ii,xi,Fi,no,uo=Tn.expando,Ki=0,_o=0,ba=pu(),Wa=pu(),xa=pu(),Ss=pu(),tl=function(_i,Ri){return _i===Ri&&(ei=!0),0},Yl="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Gl="(?:\\\\[\\da-fA-F]{1,6}"+Wn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",$a="\\["+Wn+"*("+Gl+")(?:"+Wn+"*([*^$|!~]?=)"+Wn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Gl+"))|)"+Wn+"*\\]",ws=":("+Gl+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+$a+")*)|.*)\\)|)",Qa=new RegExp(Wn+"+","g"),Ps=new RegExp("^"+Wn+"*,"+Wn+"*"),rc=new RegExp("^"+Wn+"*([>+~]|"+Wn+")"+Wn+"*"),Yc=new RegExp(Wn+"|>"),Kl=new RegExp(ws),Zl=new RegExp("^"+Gl+"$"),Pl={ID:new RegExp("^#("+Gl+")"),CLASS:new RegExp("^\\.("+Gl+")"),TAG:new RegExp("^("+Gl+"|[*])"),ATTR:new RegExp("^"+$a),PSEUDO:new RegExp("^"+ws),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Wn+"*(even|odd|(([+-]|)(\\d*)n|)"+Wn+"*(?:([+-]|)"+Wn+"*(\\d+)|))"+Wn+"*\\)|)","i"),bool:new RegExp("^(?:"+Yl+")$","i"),needsContext:new RegExp("^"+Wn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Wn+"*((?:-\\d)?\\d*)"+Wn+"*\\)|)(?=[^-]|$)","i")},ic=/^(?:input|select|textarea|button)$/i,fc=/^h\d$/i,Ol=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Kc=/[+~]/,Xl=new RegExp("\\\\[\\da-fA-F]{1,6}"+Wn+"?|\\\\([^\\r\\n\\f])","g"),hc=function(_i,Ri){var qi="0x"+_i.slice(1)-65536;return Ri||(qi<0?String.fromCharCode(qi+65536):String.fromCharCode(qi>>10|55296,qi&1023|56320))},Zc=function(){gc()},wc=Jc(function(_i){return _i.disabled===!0&&Hn(_i,"fieldset")},{dir:"parentNode",next:"legend"});function Iu(){try{return ui.activeElement}catch{}}try{ni.apply(nn=an.call(Wr.childNodes),Wr.childNodes),nn[Wr.childNodes.length].nodeType}catch{ni={apply:function(Ri,qi){Jr.apply(Ri,an.call(qi))},call:function(Ri){Jr.apply(Ri,an.call(arguments,1))}}}function ls(_i,Ri,qi,Zi){var oo,Io,Go,Mo,Wo,Ba,ua,ka=Ri&&Ri.ownerDocument,Ua=Ri?Ri.nodeType:9;if(qi=qi||[],typeof _i!="string"||!_i||Ua!==1&&Ua!==9&&Ua!==11)return qi;if(!Zi&&(gc(Ri),Ri=Ri||ui,xi)){if(Ua!==11&&(Wo=Ol.exec(_i)))if(oo=Wo[1]){if(Ua===9)if(Go=Ri.getElementById(oo)){if(Go.id===oo)return ni.call(qi,Go),qi}else return qi;else if(ka&&(Go=ka.getElementById(oo))&&ls.contains(Ri,Go)&&Go.id===oo)return ni.call(qi,Go),qi}else{if(Wo[2])return ni.apply(qi,Ri.getElementsByTagName(_i)),qi;if((oo=Wo[3])&&Ri.getElementsByClassName)return ni.apply(qi,Ri.getElementsByClassName(oo)),qi}if(!Ss[_i+" "]&&(!Fi||!Fi.test(_i))){if(ua=_i,ka=Ri,Ua===1&&(Yc.test(_i)||rc.test(_i))){for(ka=Kc.test(_i)&&Xc(Ri.parentNode)||Ri,(ka!=Ri||!_n.scope)&&((Mo=Ri.getAttribute("id"))?Mo=Tn.escapeSelector(Mo):Ri.setAttribute("id",Mo=uo)),Ba=Rl(_i),Io=Ba.length;Io--;)Ba[Io]=(Mo?"#"+Mo:":scope")+" "+Qc(Ba[Io]);ua=Ba.join(",")}try{return ni.apply(qi,ka.querySelectorAll(ua)),qi}catch{Ss(_i,!0)}finally{Mo===uo&&Ri.removeAttribute("id")}}}return mu(_i.replace(Qn,"$1"),Ri,qi,Zi)}function pu(){var _i=[];function Ri(qi,Zi){return _i.push(qi+" ")>qn.cacheLength&&delete Ri[_i.shift()],Ri[qi+" "]=Zi}return Ri}function Ys(_i){return _i[uo]=!0,_i}function sl(_i){var Ri=ui.createElement("fieldset");try{return!!_i(Ri)}catch{return!1}finally{Ri.parentNode&&Ri.parentNode.removeChild(Ri),Ri=null}}function Dc(_i){return function(Ri){return Hn(Ri,"input")&&Ri.type===_i}}function Ju(_i){return function(Ri){return(Hn(Ri,"input")||Hn(Ri,"button"))&&Ri.type===_i}}function ed(_i){return function(Ri){return"form"in Ri?Ri.parentNode&&Ri.disabled===!1?"label"in Ri?"label"in Ri.parentNode?Ri.parentNode.disabled===_i:Ri.disabled===_i:Ri.isDisabled===_i||Ri.isDisabled!==!_i&&wc(Ri)===_i:Ri.disabled===_i:"label"in Ri?Ri.disabled===_i:!1}}function pc(_i){return Ys(function(Ri){return Ri=+Ri,Ys(function(qi,Zi){for(var oo,Io=_i([],qi.length,Ri),Go=Io.length;Go--;)qi[oo=Io[Go]]&&(qi[oo]=!(Zi[oo]=qi[oo]))})})}function Xc(_i){return _i&&typeof _i.getElementsByTagName<"u"&&_i}function gc(_i){var Ri,qi=_i?_i.ownerDocument||_i:Wr;return qi==ui||qi.nodeType!==9||!qi.documentElement||(ui=qi,Ii=ui.documentElement,xi=!Tn.isXMLDoc(ui),no=Ii.matches||Ii.webkitMatchesSelector||Ii.msMatchesSelector,Ii.msMatchesSelector&&Wr!=ui&&(Ri=ui.defaultView)&&Ri.top!==Ri&&Ri.addEventListener("unload",Zc),_n.getById=sl(function(Zi){return Ii.appendChild(Zi).id=Tn.expando,!ui.getElementsByName||!ui.getElementsByName(Tn.expando).length}),_n.disconnectedMatch=sl(function(Zi){return no.call(Zi,"*")}),_n.scope=sl(function(){return ui.querySelectorAll(":scope")}),_n.cssHas=sl(function(){try{return ui.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),_n.getById?(qn.filter.ID=function(Zi){var oo=Zi.replace(Xl,hc);return function(Io){return Io.getAttribute("id")===oo}},qn.find.ID=function(Zi,oo){if(typeof oo.getElementById<"u"&&xi){var Io=oo.getElementById(Zi);return Io?[Io]:[]}}):(qn.filter.ID=function(Zi){var oo=Zi.replace(Xl,hc);return function(Io){var Go=typeof Io.getAttributeNode<"u"&&Io.getAttributeNode("id");return Go&&Go.value===oo}},qn.find.ID=function(Zi,oo){if(typeof oo.getElementById<"u"&&xi){var Io,Go,Mo,Wo=oo.getElementById(Zi);if(Wo){if(Io=Wo.getAttributeNode("id"),Io&&Io.value===Zi)return[Wo];for(Mo=oo.getElementsByName(Zi),Go=0;Wo=Mo[Go++];)if(Io=Wo.getAttributeNode("id"),Io&&Io.value===Zi)return[Wo]}return[]}}),qn.find.TAG=function(Zi,oo){return typeof oo.getElementsByTagName<"u"?oo.getElementsByTagName(Zi):oo.querySelectorAll(Zi)},qn.find.CLASS=function(Zi,oo){if(typeof oo.getElementsByClassName<"u"&&xi)return oo.getElementsByClassName(Zi)},Fi=[],sl(function(Zi){var oo;Ii.appendChild(Zi).innerHTML="<a id='"+uo+"' href='' disabled='disabled'></a><select id='"+uo+"-\r\\' disabled='disabled'><option selected=''></option></select>",Zi.querySelectorAll("[selected]").length||Fi.push("\\["+Wn+"*(?:value|"+Yl+")"),Zi.querySelectorAll("[id~="+uo+"-]").length||Fi.push("~="),Zi.querySelectorAll("a#"+uo+"+*").length||Fi.push(".#.+[+~]"),Zi.querySelectorAll(":checked").length||Fi.push(":checked"),oo=ui.createElement("input"),oo.setAttribute("type","hidden"),Zi.appendChild(oo).setAttribute("name","D"),Ii.appendChild(Zi).disabled=!0,Zi.querySelectorAll(":disabled").length!==2&&Fi.push(":enabled",":disabled"),oo=ui.createElement("input"),oo.setAttribute("name",""),Zi.appendChild(oo),Zi.querySelectorAll("[name='']").length||Fi.push("\\["+Wn+"*name"+Wn+"*="+Wn+`*(?:''|"")`)}),_n.cssHas||Fi.push(":has"),Fi=Fi.length&&new RegExp(Fi.join("|")),tl=function(Zi,oo){if(Zi===oo)return ei=!0,0;var Io=!Zi.compareDocumentPosition-!oo.compareDocumentPosition;return Io||(Io=(Zi.ownerDocument||Zi)==(oo.ownerDocument||oo)?Zi.compareDocumentPosition(oo):1,Io&1||!_n.sortDetached&&oo.compareDocumentPosition(Zi)===Io?Zi===ui||Zi.ownerDocument==Wr&&ls.contains(Wr,Zi)?-1:oo===ui||oo.ownerDocument==Wr&&ls.contains(Wr,oo)?1:Ur?un.call(Ur,Zi)-un.call(Ur,oo):0:Io&4?-1:1)}),ui}ls.matches=function(_i,Ri){return ls(_i,null,null,Ri)},ls.matchesSelector=function(_i,Ri){if(gc(_i),xi&&!Ss[Ri+" "]&&(!Fi||!Fi.test(Ri)))try{var qi=no.call(_i,Ri);if(qi||_n.disconnectedMatch||_i.document&&_i.document.nodeType!==11)return qi}catch{Ss(Ri,!0)}return ls(Ri,ui,null,[_i]).length>0},ls.contains=function(_i,Ri){return(_i.ownerDocument||_i)!=ui&&gc(_i),Tn.contains(_i,Ri)},ls.attr=function(_i,Ri){(_i.ownerDocument||_i)!=ui&&gc(_i);var qi=qn.attrHandle[Ri.toLowerCase()],Zi=qi&&pn.call(qn.attrHandle,Ri.toLowerCase())?qi(_i,Ri,!xi):void 0;return Zi!==void 0?Zi:_i.getAttribute(Ri)},ls.error=function(_i){throw new Error("Syntax error, unrecognized expression: "+_i)},Tn.uniqueSort=function(_i){var Ri,qi=[],Zi=0,oo=0;if(ei=!_n.sortStable,Ur=!_n.sortStable&&an.call(_i,0),jn.call(_i,tl),ei){for(;Ri=_i[oo++];)Ri===_i[oo]&&(Zi=qi.push(oo));for(;Zi--;)Yn.call(_i,qi[Zi],1)}return Ur=null,_i},Tn.fn.uniqueSort=function(){return this.pushStack(Tn.uniqueSort(an.apply(this)))},qn=Tn.expr={cacheLength:50,createPseudo:Ys,match:Pl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(_i){return _i[1]=_i[1].replace(Xl,hc),_i[3]=(_i[3]||_i[4]||_i[5]||"").replace(Xl,hc),_i[2]==="~="&&(_i[3]=" "+_i[3]+" "),_i.slice(0,4)},CHILD:function(_i){return _i[1]=_i[1].toLowerCase(),_i[1].slice(0,3)==="nth"?(_i[3]||ls.error(_i[0]),_i[4]=+(_i[4]?_i[5]+(_i[6]||1):2*(_i[3]==="even"||_i[3]==="odd")),_i[5]=+(_i[7]+_i[8]||_i[3]==="odd")):_i[3]&&ls.error(_i[0]),_i},PSEUDO:function(_i){var Ri,qi=!_i[6]&&_i[2];return Pl.CHILD.test(_i[0])?null:(_i[3]?_i[2]=_i[4]||_i[5]||"":qi&&Kl.test(qi)&&(Ri=Rl(qi,!0))&&(Ri=qi.indexOf(")",qi.length-Ri)-qi.length)&&(_i[0]=_i[0].slice(0,Ri),_i[2]=qi.slice(0,Ri)),_i.slice(0,3))}},filter:{TAG:function(_i){var Ri=_i.replace(Xl,hc).toLowerCase();return _i==="*"?function(){return!0}:function(qi){return Hn(qi,Ri)}},CLASS:function(_i){var Ri=ba[_i+" "];return Ri||(Ri=new RegExp("(^|"+Wn+")"+_i+"("+Wn+"|$)"))&&ba(_i,function(qi){return Ri.test(typeof qi.className=="string"&&qi.className||typeof qi.getAttribute<"u"&&qi.getAttribute("class")||"")})},ATTR:function(_i,Ri,qi){return function(Zi){var oo=ls.attr(Zi,_i);return oo==null?Ri==="!=":Ri?(oo+="",Ri==="="?oo===qi:Ri==="!="?oo!==qi:Ri==="^="?qi&&oo.indexOf(qi)===0:Ri==="*="?qi&&oo.indexOf(qi)>-1:Ri==="$="?qi&&oo.slice(-qi.length)===qi:Ri==="~="?(" "+oo.replace(Qa," ")+" ").indexOf(qi)>-1:Ri==="|="?oo===qi||oo.slice(0,qi.length+1)===qi+"-":!1):!0}},CHILD:function(_i,Ri,qi,Zi,oo){var Io=_i.slice(0,3)!=="nth",Go=_i.slice(-4)!=="last",Mo=Ri==="of-type";return Zi===1&&oo===0?function(Wo){return!!Wo.parentNode}:function(Wo,Ba,ua){var ka,Ua,ga,Va,Hs,Vs=Io!==Go?"nextSibling":"previousSibling",Ks=Wo.parentNode,Ql=Mo&&Wo.nodeName.toLowerCase(),Nl=!ua&&!Mo,Xs=!1;if(Ks){if(Io){for(;Vs;){for(ga=Wo;ga=ga[Vs];)if(Mo?Hn(ga,Ql):ga.nodeType===1)return!1;Hs=Vs=_i==="only"&&!Hs&&"nextSibling"}return!0}if(Hs=[Go?Ks.firstChild:Ks.lastChild],Go&&Nl){for(Ua=Ks[uo]||(Ks[uo]={}),ka=Ua[_i]||[],Va=ka[0]===Ki&&ka[1],Xs=Va&&ka[2],ga=Va&&Ks.childNodes[Va];ga=++Va&&ga&&ga[Vs]||(Xs=Va=0)||Hs.pop();)if(ga.nodeType===1&&++Xs&&ga===Wo){Ua[_i]=[Ki,Va,Xs];break}}else if(Nl&&(Ua=Wo[uo]||(Wo[uo]={}),ka=Ua[_i]||[],Va=ka[0]===Ki&&ka[1],Xs=Va),Xs===!1)for(;(ga=++Va&&ga&&ga[Vs]||(Xs=Va=0)||Hs.pop())&&!((Mo?Hn(ga,Ql):ga.nodeType===1)&&++Xs&&(Nl&&(Ua=ga[uo]||(ga[uo]={}),Ua[_i]=[Ki,Xs]),ga===Wo)););return Xs-=oo,Xs===Zi||Xs%Zi===0&&Xs/Zi>=0}}},PSEUDO:function(_i,Ri){var qi,Zi=qn.pseudos[_i]||qn.setFilters[_i.toLowerCase()]||ls.error("unsupported pseudo: "+_i);return Zi[uo]?Zi(Ri):Zi.length>1?(qi=[_i,_i,"",Ri],qn.setFilters.hasOwnProperty(_i.toLowerCase())?Ys(function(oo,Io){for(var Go,Mo=Zi(oo,Ri),Wo=Mo.length;Wo--;)Go=un.call(oo,Mo[Wo]),oo[Go]=!(Io[Go]=Mo[Wo])}):function(oo){return Zi(oo,0,qi)}):Zi}},pseudos:{not:Ys(function(_i){var Ri=[],qi=[],Zi=vu(_i.replace(Qn,"$1"));return Zi[uo]?Ys(function(oo,Io,Go,Mo){for(var Wo,Ba=Zi(oo,null,Mo,[]),ua=oo.length;ua--;)(Wo=Ba[ua])&&(oo[ua]=!(Io[ua]=Wo))}):function(oo,Io,Go){return Ri[0]=oo,Zi(Ri,null,Go,qi),Ri[0]=null,!qi.pop()}}),has:Ys(function(_i){return function(Ri){return ls(_i,Ri).length>0}}),contains:Ys(function(_i){return _i=_i.replace(Xl,hc),function(Ri){return(Ri.textContent||Tn.text(Ri)).indexOf(_i)>-1}}),lang:Ys(function(_i){return Zl.test(_i||"")||ls.error("unsupported lang: "+_i),_i=_i.replace(Xl,hc).toLowerCase(),function(Ri){var qi;do if(qi=xi?Ri.lang:Ri.getAttribute("xml:lang")||Ri.getAttribute("lang"))return qi=qi.toLowerCase(),qi===_i||qi.indexOf(_i+"-")===0;while((Ri=Ri.parentNode)&&Ri.nodeType===1);return!1}}),target:function(_i){var Ri=en.location&&en.location.hash;return Ri&&Ri.slice(1)===_i.id},root:function(_i){return _i===Ii},focus:function(_i){return _i===Iu()&&ui.hasFocus()&&!!(_i.type||_i.href||~_i.tabIndex)},enabled:ed(!1),disabled:ed(!0),checked:function(_i){return Hn(_i,"input")&&!!_i.checked||Hn(_i,"option")&&!!_i.selected},selected:function(_i){return _i.parentNode&&_i.parentNode.selectedIndex,_i.selected===!0},empty:function(_i){for(_i=_i.firstChild;_i;_i=_i.nextSibling)if(_i.nodeType<6)return!1;return!0},parent:function(_i){return!qn.pseudos.empty(_i)},header:function(_i){return fc.test(_i.nodeName)},input:function(_i){return ic.test(_i.nodeName)},button:function(_i){return Hn(_i,"input")&&_i.type==="button"||Hn(_i,"button")},text:function(_i){var Ri;return Hn(_i,"input")&&_i.type==="text"&&((Ri=_i.getAttribute("type"))==null||Ri.toLowerCase()==="text")},first:pc(function(){return[0]}),last:pc(function(_i,Ri){return[Ri-1]}),eq:pc(function(_i,Ri,qi){return[qi<0?qi+Ri:qi]}),even:pc(function(_i,Ri){for(var qi=0;qi<Ri;qi+=2)_i.push(qi);return _i}),odd:pc(function(_i,Ri){for(var qi=1;qi<Ri;qi+=2)_i.push(qi);return _i}),lt:pc(function(_i,Ri,qi){var Zi;for(qi<0?Zi=qi+Ri:qi>Ri?Zi=Ri:Zi=qi;--Zi>=0;)_i.push(Zi);return _i}),gt:pc(function(_i,Ri,qi){for(var Zi=qi<0?qi+Ri:qi;++Zi<Ri;)_i.push(Zi);return _i})}},qn.pseudos.nth=qn.pseudos.eq;for(zn in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})qn.pseudos[zn]=Dc(zn);for(zn in{submit:!0,reset:!0})qn.pseudos[zn]=Ju(zn);function vc(){}vc.prototype=qn.filters=qn.pseudos,qn.setFilters=new vc;function Rl(_i,Ri){var qi,Zi,oo,Io,Go,Mo,Wo,Ba=Wa[_i+" "];if(Ba)return Ri?0:Ba.slice(0);for(Go=_i,Mo=[],Wo=qn.preFilter;Go;){(!qi||(Zi=Ps.exec(Go)))&&(Zi&&(Go=Go.slice(Zi[0].length)||Go),Mo.push(oo=[])),qi=!1,(Zi=rc.exec(Go))&&(qi=Zi.shift(),oo.push({value:qi,type:Zi[0].replace(Qn," ")}),Go=Go.slice(qi.length));for(Io in qn.filter)(Zi=Pl[Io].exec(Go))&&(!Wo[Io]||(Zi=Wo[Io](Zi)))&&(qi=Zi.shift(),oo.push({value:qi,type:Io,matches:Zi}),Go=Go.slice(qi.length));if(!qi)break}return Ri?Go.length:Go?ls.error(_i):Wa(_i,Mo).slice(0)}function Qc(_i){for(var Ri=0,qi=_i.length,Zi="";Ri<qi;Ri++)Zi+=_i[Ri].value;return Zi}function Jc(_i,Ri,qi){var Zi=Ri.dir,oo=Ri.next,Io=oo||Zi,Go=qi&&Io==="parentNode",Mo=_o++;return Ri.first?function(Wo,Ba,ua){for(;Wo=Wo[Zi];)if(Wo.nodeType===1||Go)return _i(Wo,Ba,ua);return!1}:function(Wo,Ba,ua){var ka,Ua,ga=[Ki,Mo];if(ua){for(;Wo=Wo[Zi];)if((Wo.nodeType===1||Go)&&_i(Wo,Ba,ua))return!0}else for(;Wo=Wo[Zi];)if(Wo.nodeType===1||Go)if(Ua=Wo[uo]||(Wo[uo]={}),oo&&Hn(Wo,oo))Wo=Wo[Zi]||Wo;else{if((ka=Ua[Io])&&ka[0]===Ki&&ka[1]===Mo)return ga[2]=ka[2];if(Ua[Io]=ga,ga[2]=_i(Wo,Ba,ua))return!0}return!1}}function td(_i){return _i.length>1?function(Ri,qi,Zi){for(var oo=_i.length;oo--;)if(!_i[oo](Ri,qi,Zi))return!1;return!0}:_i[0]}function nd(_i,Ri,qi){for(var Zi=0,oo=Ri.length;Zi<oo;Zi++)ls(_i,Ri[Zi],qi);return qi}function Lu(_i,Ri,qi,Zi,oo){for(var Io,Go=[],Mo=0,Wo=_i.length,Ba=Ri!=null;Mo<Wo;Mo++)(Io=_i[Mo])&&(!qi||qi(Io,Zi,oo))&&(Go.push(Io),Ba&&Ri.push(Mo));return Go}function gu(_i,Ri,qi,Zi,oo,Io){return Zi&&!Zi[uo]&&(Zi=gu(Zi)),oo&&!oo[uo]&&(oo=gu(oo,Io)),Ys(function(Go,Mo,Wo,Ba){var ua,ka,Ua,ga,Va=[],Hs=[],Vs=Mo.length,Ks=Go||nd(Ri||"*",Wo.nodeType?[Wo]:Wo,[]),Ql=_i&&(Go||!Ri)?Lu(Ks,Va,_i,Wo,Ba):Ks;if(qi?(ga=oo||(Go?_i:Vs||Zi)?[]:Mo,qi(Ql,ga,Wo,Ba)):ga=Ql,Zi)for(ua=Lu(ga,Hs),Zi(ua,[],Wo,Ba),ka=ua.length;ka--;)(Ua=ua[ka])&&(ga[Hs[ka]]=!(Ql[Hs[ka]]=Ua));if(Go){if(oo||_i){if(oo){for(ua=[],ka=ga.length;ka--;)(Ua=ga[ka])&&ua.push(Ql[ka]=Ua);oo(null,ga=[],ua,Ba)}for(ka=ga.length;ka--;)(Ua=ga[ka])&&(ua=oo?un.call(Go,Ua):Va[ka])>-1&&(Go[ua]=!(Mo[ua]=Ua))}}else ga=Lu(ga===Mo?ga.splice(Vs,ga.length):ga),oo?oo(null,Mo,ga,Ba):ni.apply(Mo,ga)})}function Pu(_i){for(var Ri,qi,Zi,oo=_i.length,Io=qn.relative[_i[0].type],Go=Io||qn.relative[" "],Mo=Io?1:0,Wo=Jc(function(ka){return ka===Ri},Go,!0),Ba=Jc(function(ka){return un.call(Ri,ka)>-1},Go,!0),ua=[function(ka,Ua,ga){var Va=!Io&&(ga||Ua!=Fr)||((Ri=Ua).nodeType?Wo(ka,Ua,ga):Ba(ka,Ua,ga));return Ri=null,Va}];Mo<oo;Mo++)if(qi=qn.relative[_i[Mo].type])ua=[Jc(td(ua),qi)];else{if(qi=qn.filter[_i[Mo].type].apply(null,_i[Mo].matches),qi[uo]){for(Zi=++Mo;Zi<oo&&!qn.relative[_i[Zi].type];Zi++);return gu(Mo>1&&td(ua),Mo>1&&Qc(_i.slice(0,Mo-1).concat({value:_i[Mo-2].type===" "?"*":""})).replace(Qn,"$1"),qi,Mo<Zi&&Pu(_i.slice(Mo,Zi)),Zi<oo&&Pu(_i=_i.slice(Zi)),Zi<oo&&Qc(_i))}ua.push(qi)}return td(ua)}function eu(_i,Ri){var qi=Ri.length>0,Zi=_i.length>0,oo=function(Io,Go,Mo,Wo,Ba){var ua,ka,Ua,ga=0,Va="0",Hs=Io&&[],Vs=[],Ks=Fr,Ql=Io||Zi&&qn.find.TAG("*",Ba),Nl=Ki+=Ks==null?1:Math.random()||.1,Xs=Ql.length;for(Ba&&(Fr=Go==ui||Go||Ba);Va!==Xs&&(ua=Ql[Va])!=null;Va++){if(Zi&&ua){for(ka=0,!Go&&ua.ownerDocument!=ui&&(gc(ua),Mo=!xi);Ua=_i[ka++];)if(Ua(ua,Go||ui,Mo)){ni.call(Wo,ua);break}Ba&&(Ki=Nl)}qi&&((ua=!Ua&&ua)&&ga--,Io&&Hs.push(ua))}if(ga+=Va,qi&&Va!==ga){for(ka=0;Ua=Ri[ka++];)Ua(Hs,Vs,Go,Mo);if(Io){if(ga>0)for(;Va--;)Hs[Va]||Vs[Va]||(Vs[Va]=Un.call(Wo));Vs=Lu(Vs)}ni.apply(Wo,Vs),Ba&&!Io&&Vs.length>0&&ga+Ri.length>1&&Tn.uniqueSort(Wo)}return Ba&&(Ki=Nl,Fr=Ks),Hs};return qi?Ys(oo):oo}function vu(_i,Ri){var qi,Zi=[],oo=[],Io=xa[_i+" "];if(!Io){for(Ri||(Ri=Rl(_i)),qi=Ri.length;qi--;)Io=Pu(Ri[qi]),Io[uo]?Zi.push(Io):oo.push(Io);Io=xa(_i,eu(oo,Zi)),Io.selector=_i}return Io}function mu(_i,Ri,qi,Zi){var oo,Io,Go,Mo,Wo,Ba=typeof _i=="function"&&_i,ua=!Zi&&Rl(_i=Ba.selector||_i);if(qi=qi||[],ua.length===1){if(Io=ua[0]=ua[0].slice(0),Io.length>2&&(Go=Io[0]).type==="ID"&&Ri.nodeType===9&&xi&&qn.relative[Io[1].type]){if(Ri=(qn.find.ID(Go.matches[0].replace(Xl,hc),Ri)||[])[0],Ri)Ba&&(Ri=Ri.parentNode);else return qi;_i=_i.slice(Io.shift().value.length)}for(oo=Pl.needsContext.test(_i)?0:Io.length;oo--&&(Go=Io[oo],!qn.relative[Mo=Go.type]);)if((Wo=qn.find[Mo])&&(Zi=Wo(Go.matches[0].replace(Xl,hc),Kc.test(Io[0].type)&&Xc(Ri.parentNode)||Ri))){if(Io.splice(oo,1),_i=Zi.length&&Qc(Io),!_i)return ni.apply(qi,Zi),qi;break}}return(Ba||vu(_i,ua))(Zi,Ri,!xi,qi,!Ri||Kc.test(_i)&&Xc(Ri.parentNode)||Ri),qi}_n.sortStable=uo.split("").sort(tl).join("")===uo,gc(),_n.sortDetached=sl(function(_i){return _i.compareDocumentPosition(ui.createElement("fieldset"))&1}),Tn.find=ls,Tn.expr[":"]=Tn.expr.pseudos,Tn.unique=Tn.uniqueSort,ls.compile=vu,ls.select=mu,ls.setDocument=gc,ls.tokenize=Rl,ls.escape=Tn.escapeSelector,ls.getText=Tn.text,ls.isXML=Tn.isXMLDoc,ls.selectors=Tn.expr,ls.support=Tn.support,ls.uniqueSort=Tn.uniqueSort})();var ci=function(zn,qn,Fr){for(var Ur=[],ei=Fr!==void 0;(zn=zn[qn])&&zn.nodeType!==9;)if(zn.nodeType===1){if(ei&&Tn(zn).is(Fr))break;Ur.push(zn)}return Ur},ti=function(zn,qn){for(var Fr=[];zn;zn=zn.nextSibling)zn.nodeType===1&&zn!==qn&&Fr.push(zn);return Fr},Zr=Tn.expr.match.needsContext,Br=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Jn(zn,qn,Fr){return kn(qn)?Tn.grep(zn,function(Ur,ei){return!!qn.call(Ur,ei,Ur)!==Fr}):qn.nodeType?Tn.grep(zn,function(Ur){return Ur===qn!==Fr}):typeof qn!="string"?Tn.grep(zn,function(Ur){return un.call(qn,Ur)>-1!==Fr}):Tn.filter(qn,zn,Fr)}Tn.filter=function(zn,qn,Fr){var Ur=qn[0];return Fr&&(zn=":not("+zn+")"),qn.length===1&&Ur.nodeType===1?Tn.find.matchesSelector(Ur,zn)?[Ur]:[]:Tn.find.matches(zn,Tn.grep(qn,function(ei){return ei.nodeType===1}))},Tn.fn.extend({find:function(zn){var qn,Fr,Ur=this.length,ei=this;if(typeof zn!="string")return this.pushStack(Tn(zn).filter(function(){for(qn=0;qn<Ur;qn++)if(Tn.contains(ei[qn],this))return!0}));for(Fr=this.pushStack([]),qn=0;qn<Ur;qn++)Tn.find(zn,ei[qn],Fr);return Ur>1?Tn.uniqueSort(Fr):Fr},filter:function(zn){return this.pushStack(Jn(this,zn||[],!1))},not:function(zn){return this.pushStack(Jn(this,zn||[],!0))},is:function(zn){return!!Jn(this,typeof zn=="string"&&Zr.test(zn)?Tn(zn):zn||[],!1).length}});var oi,pi=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ri=Tn.fn.init=function(zn,qn,Fr){var Ur,ei;if(!zn)return this;if(Fr=Fr||oi,typeof zn=="string")if(zn[0]==="<"&&zn[zn.length-1]===">"&&zn.length>=3?Ur=[null,zn,null]:Ur=pi.exec(zn),Ur&&(Ur[1]||!qn))if(Ur[1]){if(qn=qn instanceof Tn?qn[0]:qn,Tn.merge(this,Tn.parseHTML(Ur[1],qn&&qn.nodeType?qn.ownerDocument||qn:xn,!0)),Br.test(Ur[1])&&Tn.isPlainObject(qn))for(Ur in qn)kn(this[Ur])?this[Ur](qn[Ur]):this.attr(Ur,qn[Ur]);return this}else return ei=xn.getElementById(Ur[2]),ei&&(this[0]=ei,this.length=1),this;else return!qn||qn.jquery?(qn||Fr).find(zn):this.constructor(qn).find(zn);else{if(zn.nodeType)return this[0]=zn,this.length=1,this;if(kn(zn))return Fr.ready!==void 0?Fr.ready(zn):zn(Tn)}return Tn.makeArray(zn,this)};ri.prototype=Tn.fn,oi=Tn(xn);var fi=/^(?:parents|prev(?:Until|All))/,yi={children:!0,contents:!0,next:!0,prev:!0};Tn.fn.extend({has:function(zn){var qn=Tn(zn,this),Fr=qn.length;return this.filter(function(){for(var Ur=0;Ur<Fr;Ur++)if(Tn.contains(this,qn[Ur]))return!0})},closest:function(zn,qn){var Fr,Ur=0,ei=this.length,ni=[],ui=typeof zn!="string"&&Tn(zn);if(!Zr.test(zn)){for(;Ur<ei;Ur++)for(Fr=this[Ur];Fr&&Fr!==qn;Fr=Fr.parentNode)if(Fr.nodeType<11&&(ui?ui.index(Fr)>-1:Fr.nodeType===1&&Tn.find.matchesSelector(Fr,zn))){ni.push(Fr);break}}return this.pushStack(ni.length>1?Tn.uniqueSort(ni):ni)},index:function(zn){return zn?typeof zn=="string"?un.call(Tn(zn),this[0]):un.call(this,zn.jquery?zn[0]:zn):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(zn,qn){return this.pushStack(Tn.uniqueSort(Tn.merge(this.get(),Tn(zn,qn))))},addBack:function(zn){return this.add(zn==null?this.prevObject:this.prevObject.filter(zn))}});function Si(zn,qn){for(;(zn=zn[qn])&&zn.nodeType!==1;);return zn}Tn.each({parent:function(zn){var qn=zn.parentNode;return qn&&qn.nodeType!==11?qn:null},parents:function(zn){return ci(zn,"parentNode")},parentsUntil:function(zn,qn,Fr){return ci(zn,"parentNode",Fr)},next:function(zn){return Si(zn,"nextSibling")},prev:function(zn){return Si(zn,"previousSibling")},nextAll:function(zn){return ci(zn,"nextSibling")},prevAll:function(zn){return ci(zn,"previousSibling")},nextUntil:function(zn,qn,Fr){return ci(zn,"nextSibling",Fr)},prevUntil:function(zn,qn,Fr){return ci(zn,"previousSibling",Fr)},siblings:function(zn){return ti((zn.parentNode||{}).firstChild,zn)},children:function(zn){return ti(zn.firstChild)},contents:function(zn){return zn.contentDocument!=null&&rn(zn.contentDocument)?zn.contentDocument:(Hn(zn,"template")&&(zn=zn.content||zn),Tn.merge([],zn.childNodes))}},function(zn,qn){Tn.fn[zn]=function(Fr,Ur){var ei=Tn.map(this,qn,Fr);return zn.slice(-5)!=="Until"&&(Ur=Fr),Ur&&typeof Ur=="string"&&(ei=Tn.filter(Ur,ei)),this.length>1&&(yi[zn]||Tn.uniqueSort(ei),fi.test(zn)&&ei.reverse()),this.pushStack(ei)}});var Pi=/[^\x20\t\r\n\f]+/g;function Ui(zn){var qn={};return Tn.each(zn.match(Pi)||[],function(Fr,Ur){qn[Ur]=!0}),qn}Tn.Callbacks=function(zn){zn=typeof zn=="string"?Ui(zn):Tn.extend({},zn);var qn,Fr,Ur,ei,ni=[],ui=[],Ii=-1,xi=function(){for(ei=ei||zn.once,Ur=qn=!0;ui.length;Ii=-1)for(Fr=ui.shift();++Ii<ni.length;)ni[Ii].apply(Fr[0],Fr[1])===!1&&zn.stopOnFalse&&(Ii=ni.length,Fr=!1);zn.memory||(Fr=!1),qn=!1,ei&&(Fr?ni=[]:ni="")},Fi={add:function(){return ni&&(Fr&&!qn&&(Ii=ni.length-1,ui.push(Fr)),function no(uo){Tn.each(uo,function(Ki,_o){kn(_o)?(!zn.unique||!Fi.has(_o))&&ni.push(_o):_o&&_o.length&&In(_o)!=="string"&&no(_o)})}(arguments),Fr&&!qn&&xi()),this},remove:function(){return Tn.each(arguments,function(no,uo){for(var Ki;(Ki=Tn.inArray(uo,ni,Ki))>-1;)ni.splice(Ki,1),Ki<=Ii&&Ii--}),this},has:function(no){return no?Tn.inArray(no,ni)>-1:ni.length>0},empty:function(){return ni&&(ni=[]),this},disable:function(){return ei=ui=[],ni=Fr="",this},disabled:function(){return!ni},lock:function(){return ei=ui=[],!Fr&&!qn&&(ni=Fr=""),this},locked:function(){return!!ei},fireWith:function(no,uo){return ei||(uo=uo||[],uo=[no,uo.slice?uo.slice():uo],ui.push(uo),qn||xi()),this},fire:function(){return Fi.fireWith(this,arguments),this},fired:function(){return!!Ur}};return Fi};function ji(zn){return zn}function go(zn){throw zn}function po(zn,qn,Fr,Ur){var ei;try{zn&&kn(ei=zn.promise)?ei.call(zn).done(qn).fail(Fr):zn&&kn(ei=zn.then)?ei.call(zn,qn,Fr):qn.apply(void 0,[zn].slice(Ur))}catch(ni){Fr.apply(void 0,[ni])}}Tn.extend({Deferred:function(zn){var qn=[["notify","progress",Tn.Callbacks("memory"),Tn.Callbacks("memory"),2],["resolve","done",Tn.Callbacks("once memory"),Tn.Callbacks("once memory"),0,"resolved"],["reject","fail",Tn.Callbacks("once memory"),Tn.Callbacks("once memory"),1,"rejected"]],Fr="pending",Ur={state:function(){return Fr},always:function(){return ei.done(arguments).fail(arguments),this},catch:function(ni){return Ur.then(null,ni)},pipe:function(){var ni=arguments;return Tn.Deferred(function(ui){Tn.each(qn,function(Ii,xi){var Fi=kn(ni[xi[4]])&&ni[xi[4]];ei[xi[1]](function(){var no=Fi&&Fi.apply(this,arguments);no&&kn(no.promise)?no.promise().progress(ui.notify).done(ui.resolve).fail(ui.reject):ui[xi[0]+"With"](this,Fi?[no]:arguments)})}),ni=null}).promise()},then:function(ni,ui,Ii){var xi=0;function Fi(no,uo,Ki,_o){return function(){var ba=this,Wa=arguments,xa=function(){var tl,Yl;if(!(no<xi)){if(tl=Ki.apply(ba,Wa),tl===uo.promise())throw new TypeError("Thenable self-resolution");Yl=tl&&(typeof tl=="object"||typeof tl=="function")&&tl.then,kn(Yl)?_o?Yl.call(tl,Fi(xi,uo,ji,_o),Fi(xi,uo,go,_o)):(xi++,Yl.call(tl,Fi(xi,uo,ji,_o),Fi(xi,uo,go,_o),Fi(xi,uo,ji,uo.notifyWith))):(Ki!==ji&&(ba=void 0,Wa=[tl]),(_o||uo.resolveWith)(ba,Wa))}},Ss=_o?xa:function(){try{xa()}catch(tl){Tn.Deferred.exceptionHook&&Tn.Deferred.exceptionHook(tl,Ss.error),no+1>=xi&&(Ki!==go&&(ba=void 0,Wa=[tl]),uo.rejectWith(ba,Wa))}};no?Ss():(Tn.Deferred.getErrorHook?Ss.error=Tn.Deferred.getErrorHook():Tn.Deferred.getStackHook&&(Ss.error=Tn.Deferred.getStackHook()),en.setTimeout(Ss))}}return Tn.Deferred(function(no){qn[0][3].add(Fi(0,no,kn(Ii)?Ii:ji,no.notifyWith)),qn[1][3].add(Fi(0,no,kn(ni)?ni:ji)),qn[2][3].add(Fi(0,no,kn(ui)?ui:go))}).promise()},promise:function(ni){return ni!=null?Tn.extend(ni,Ur):Ur}},ei={};return Tn.each(qn,function(ni,ui){var Ii=ui[2],xi=ui[5];Ur[ui[1]]=Ii.add,xi&&Ii.add(function(){Fr=xi},qn[3-ni][2].disable,qn[3-ni][3].disable,qn[0][2].lock,qn[0][3].lock),Ii.add(ui[3].fire),ei[ui[0]]=function(){return ei[ui[0]+"With"](this===ei?void 0:this,arguments),this},ei[ui[0]+"With"]=Ii.fireWith}),Ur.promise(ei),zn&&zn.call(ei,ei),ei},when:function(zn){var qn=arguments.length,Fr=qn,Ur=Array(Fr),ei=an.call(arguments),ni=Tn.Deferred(),ui=function(Ii){return function(xi){Ur[Ii]=this,ei[Ii]=arguments.length>1?an.call(arguments):xi,--qn||ni.resolveWith(Ur,ei)}};if(qn<=1&&(po(zn,ni.done(ui(Fr)).resolve,ni.reject,!qn),ni.state()==="pending"||kn(ei[Fr]&&ei[Fr].then)))return ni.then();for(;Fr--;)po(ei[Fr],ui(Fr),ni.reject);return ni.promise()}});var Yi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Tn.Deferred.exceptionHook=function(zn,qn){en.console&&en.console.warn&&zn&&Yi.test(zn.name)&&en.console.warn("jQuery.Deferred exception: "+zn.message,zn.stack,qn)},Tn.readyException=function(zn){en.setTimeout(function(){throw zn})};var Fo=Tn.Deferred();Tn.fn.ready=function(zn){return Fo.then(zn).catch(function(qn){Tn.readyException(qn)}),this},Tn.extend({isReady:!1,readyWait:1,ready:function(zn){(zn===!0?--Tn.readyWait:Tn.isReady)||(Tn.isReady=!0,!(zn!==!0&&--Tn.readyWait>0)&&Fo.resolveWith(xn,[Tn]))}}),Tn.ready.then=Fo.then;function Po(){xn.removeEventListener("DOMContentLoaded",Po),en.removeEventListener("load",Po),Tn.ready()}xn.readyState==="complete"||xn.readyState!=="loading"&&!xn.documentElement.doScroll?en.setTimeout(Tn.ready):(xn.addEventListener("DOMContentLoaded",Po),en.addEventListener("load",Po));var Oi=function(zn,qn,Fr,Ur,ei,ni,ui){var Ii=0,xi=zn.length,Fi=Fr==null;if(In(Fr)==="object"){ei=!0;for(Ii in Fr)Oi(zn,qn,Ii,Fr[Ii],!0,ni,ui)}else if(Ur!==void 0&&(ei=!0,kn(Ur)||(ui=!0),Fi&&(ui?(qn.call(zn,Ur),qn=null):(Fi=qn,qn=function(no,uo,Ki){return Fi.call(Tn(no),Ki)})),qn))for(;Ii<xi;Ii++)qn(zn[Ii],Fr,ui?Ur:Ur.call(zn[Ii],Ii,qn(zn[Ii],Fr)));return ei?zn:Fi?qn.call(zn):xi?qn(zn[0],Fr):ni},Wi=/^-ms-/,vo=/-([a-z])/g;function mo(zn,qn){return qn.toUpperCase()}function ro(zn){return zn.replace(Wi,"ms-").replace(vo,mo)}var Oo=function(zn){return zn.nodeType===1||zn.nodeType===9||!+zn.nodeType};function Mi(){this.expando=Tn.expando+Mi.uid++}Mi.uid=1,Mi.prototype={cache:function(zn){var qn=zn[this.expando];return qn||(qn={},Oo(zn)&&(zn.nodeType?zn[this.expando]=qn:Object.defineProperty(zn,this.expando,{value:qn,configurable:!0}))),qn},set:function(zn,qn,Fr){var Ur,ei=this.cache(zn);if(typeof qn=="string")ei[ro(qn)]=Fr;else for(Ur in qn)ei[ro(Ur)]=qn[Ur];return ei},get:function(zn,qn){return qn===void 0?this.cache(zn):zn[this.expando]&&zn[this.expando][ro(qn)]},access:function(zn,qn,Fr){return qn===void 0||qn&&typeof qn=="string"&&Fr===void 0?this.get(zn,qn):(this.set(zn,qn,Fr),Fr!==void 0?Fr:qn)},remove:function(zn,qn){var Fr,Ur=zn[this.expando];if(Ur!==void 0){if(qn!==void 0)for(Array.isArray(qn)?qn=qn.map(ro):(qn=ro(qn),qn=qn in Ur?[qn]:qn.match(Pi)||[]),Fr=qn.length;Fr--;)delete Ur[qn[Fr]];(qn===void 0||Tn.isEmptyObject(Ur))&&(zn.nodeType?zn[this.expando]=void 0:delete zn[this.expando])}},hasData:function(zn){var qn=zn[this.expando];return qn!==void 0&&!Tn.isEmptyObject(qn)}};var gi=new Mi,Ti=new Mi,li=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,di=/[A-Z]/g;function Di(zn){return zn==="true"?!0:zn==="false"?!1:zn==="null"?null:zn===+zn+""?+zn:li.test(zn)?JSON.parse(zn):zn}function bi(zn,qn,Fr){var Ur;if(Fr===void 0&&zn.nodeType===1)if(Ur="data-"+qn.replace(di,"-$&").toLowerCase(),Fr=zn.getAttribute(Ur),typeof Fr=="string"){try{Fr=Di(Fr)}catch{}Ti.set(zn,qn,Fr)}else Fr=void 0;return Fr}Tn.extend({hasData:function(zn){return Ti.hasData(zn)||gi.hasData(zn)},data:function(zn,qn,Fr){return Ti.access(zn,qn,Fr)},removeData:function(zn,qn){Ti.remove(zn,qn)},_data:function(zn,qn,Fr){return gi.access(zn,qn,Fr)},_removeData:function(zn,qn){gi.remove(zn,qn)}}),Tn.fn.extend({data:function(zn,qn){var Fr,Ur,ei,ni=this[0],ui=ni&&ni.attributes;if(zn===void 0){if(this.length&&(ei=Ti.get(ni),ni.nodeType===1&&!gi.get(ni,"hasDataAttrs"))){for(Fr=ui.length;Fr--;)ui[Fr]&&(Ur=ui[Fr].name,Ur.indexOf("data-")===0&&(Ur=ro(Ur.slice(5)),bi(ni,Ur,ei[Ur])));gi.set(ni,"hasDataAttrs",!0)}return ei}return typeof zn=="object"?this.each(function(){Ti.set(this,zn)}):Oi(this,function(Ii){var xi;if(ni&&Ii===void 0)return xi=Ti.get(ni,zn),xi!==void 0||(xi=bi(ni,zn),xi!==void 0)?xi:void 0;this.each(function(){Ti.set(this,zn,Ii)})},null,qn,arguments.length>1,null,!0)},removeData:function(zn){return this.each(function(){Ti.remove(this,zn)})}}),Tn.extend({queue:function(zn,qn,Fr){var Ur;if(zn)return qn=(qn||"fx")+"queue",Ur=gi.get(zn,qn),Fr&&(!Ur||Array.isArray(Fr)?Ur=gi.access(zn,qn,Tn.makeArray(Fr)):Ur.push(Fr)),Ur||[]},dequeue:function(zn,qn){qn=qn||"fx";var Fr=Tn.queue(zn,qn),Ur=Fr.length,ei=Fr.shift(),ni=Tn._queueHooks(zn,qn),ui=function(){Tn.dequeue(zn,qn)};ei==="inprogress"&&(ei=Fr.shift(),Ur--),ei&&(qn==="fx"&&Fr.unshift("inprogress"),delete ni.stop,ei.call(zn,ui,ni)),!Ur&&ni&&ni.empty.fire()},_queueHooks:function(zn,qn){var Fr=qn+"queueHooks";return gi.get(zn,Fr)||gi.access(zn,Fr,{empty:Tn.Callbacks("once memory").add(function(){gi.remove(zn,[qn+"queue",Fr])})})}}),Tn.fn.extend({queue:function(zn,qn){var Fr=2;return typeof zn!="string"&&(qn=zn,zn="fx",Fr--),arguments.length<Fr?Tn.queue(this[0],zn):qn===void 0?this:this.each(function(){var Ur=Tn.queue(this,zn,qn);Tn._queueHooks(this,zn),zn==="fx"&&Ur[0]!=="inprogress"&&Tn.dequeue(this,zn)})},dequeue:function(zn){return this.each(function(){Tn.dequeue(this,zn)})},clearQueue:function(zn){return this.queue(zn||"fx",[])},promise:function(zn,qn){var Fr,Ur=1,ei=Tn.Deferred(),ni=this,ui=this.length,Ii=function(){--Ur||ei.resolveWith(ni,[ni])};for(typeof zn!="string"&&(qn=zn,zn=void 0),zn=zn||"fx";ui--;)Fr=gi.get(ni[ui],zn+"queueHooks"),Fr&&Fr.empty&&(Ur++,Fr.empty.add(Ii));return Ii(),ei.promise(qn)}});var Li=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,yo=new RegExp("^(?:([+-])=|)("+Li+")([a-z%]*)$","i"),ko=["Top","Right","Bottom","Left"],bo=xn.documentElement,$o=function(zn){return Tn.contains(zn.ownerDocument,zn)},ra={composed:!0};bo.getRootNode&&($o=function(zn){return Tn.contains(zn.ownerDocument,zn)||zn.getRootNode(ra)===zn.ownerDocument});var Xi=function(zn,qn){return zn=qn||zn,zn.style.display==="none"||zn.style.display===""&&$o(zn)&&Tn.css(zn,"display")==="none"};function zo(zn,qn,Fr,Ur){var ei,ni,ui=20,Ii=Ur?function(){return Ur.cur()}:function(){return Tn.css(zn,qn,"")},xi=Ii(),Fi=Fr&&Fr[3]||(Tn.cssNumber[qn]?"":"px"),no=zn.nodeType&&(Tn.cssNumber[qn]||Fi!=="px"&&+xi)&&yo.exec(Tn.css(zn,qn));if(no&&no[3]!==Fi){for(xi=xi/2,Fi=Fi||no[3],no=+xi||1;ui--;)Tn.style(zn,qn,no+Fi),(1-ni)*(1-(ni=Ii()/xi||.5))<=0&&(ui=0),no=no/ni;no=no*2,Tn.style(zn,qn,no+Fi),Fr=Fr||[]}return Fr&&(no=+no||+xi||0,ei=Fr[1]?no+(Fr[1]+1)*Fr[2]:+Fr[2],Ur&&(Ur.unit=Fi,Ur.start=no,Ur.end=ei)),ei}var fo={};function la(zn){var qn,Fr=zn.ownerDocument,Ur=zn.nodeName,ei=fo[Ur];return ei||(qn=Fr.body.appendChild(Fr.createElement(Ur)),ei=Tn.css(qn,"display"),qn.parentNode.removeChild(qn),ei==="none"&&(ei="block"),fo[Ur]=ei,ei)}function ya(zn,qn){for(var Fr,Ur,ei=[],ni=0,ui=zn.length;ni<ui;ni++)Ur=zn[ni],Ur.style&&(Fr=Ur.style.display,qn?(Fr==="none"&&(ei[ni]=gi.get(Ur,"display")||null,ei[ni]||(Ur.style.display="")),Ur.style.display===""&&Xi(Ur)&&(ei[ni]=la(Ur))):Fr!=="none"&&(ei[ni]="none",gi.set(Ur,"display",Fr)));for(ni=0;ni<ui;ni++)ei[ni]!=null&&(zn[ni].style.display=ei[ni]);return zn}Tn.fn.extend({show:function(){return ya(this,!0)},hide:function(){return ya(this)},toggle:function(zn){return typeof zn=="boolean"?zn?this.show():this.hide():this.each(function(){Xi(this)?Tn(this).show():Tn(this).hide()})}});var Ms=/^(?:checkbox|radio)$/i,da=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,os=/^$|^module$|\/(?:java|ecma)script/i;(function(){var zn=xn.createDocumentFragment(),qn=zn.appendChild(xn.createElement("div")),Fr=xn.createElement("input");Fr.setAttribute("type","radio"),Fr.setAttribute("checked","checked"),Fr.setAttribute("name","t"),qn.appendChild(Fr),_n.checkClone=qn.cloneNode(!0).cloneNode(!0).lastChild.checked,qn.innerHTML="<textarea>x</textarea>",_n.noCloneChecked=!!qn.cloneNode(!0).lastChild.defaultValue,qn.innerHTML="<option></option>",_n.option=!!qn.lastChild})();var Fa={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fa.tbody=Fa.tfoot=Fa.colgroup=Fa.caption=Fa.thead,Fa.th=Fa.td,_n.option||(Fa.optgroup=Fa.option=[1,"<select multiple='multiple'>","</select>"]);function As(zn,qn){var Fr;return typeof zn.getElementsByTagName<"u"?Fr=zn.getElementsByTagName(qn||"*"):typeof zn.querySelectorAll<"u"?Fr=zn.querySelectorAll(qn||"*"):Fr=[],qn===void 0||qn&&Hn(zn,qn)?Tn.merge([zn],Fr):Fr}function Zs(zn,qn){for(var Fr=0,Ur=zn.length;Fr<Ur;Fr++)gi.set(zn[Fr],"globalEval",!qn||gi.get(qn[Fr],"globalEval"))}var gl=/<|&#?\w+;/;function us(zn,qn,Fr,Ur,ei){for(var ni,ui,Ii,xi,Fi,no,uo=qn.createDocumentFragment(),Ki=[],_o=0,ba=zn.length;_o<ba;_o++)if(ni=zn[_o],ni||ni===0)if(In(ni)==="object")Tn.merge(Ki,ni.nodeType?[ni]:ni);else if(!gl.test(ni))Ki.push(qn.createTextNode(ni));else{for(ui=ui||uo.appendChild(qn.createElement("div")),Ii=(da.exec(ni)||["",""])[1].toLowerCase(),xi=Fa[Ii]||Fa._default,ui.innerHTML=xi[1]+Tn.htmlPrefilter(ni)+xi[2],no=xi[0];no--;)ui=ui.lastChild;Tn.merge(Ki,ui.childNodes),ui=uo.firstChild,ui.textContent=""}for(uo.textContent="",_o=0;ni=Ki[_o++];){if(Ur&&Tn.inArray(ni,Ur)>-1){ei&&ei.push(ni);continue}if(Fi=$o(ni),ui=As(uo.appendChild(ni),"script"),Fi&&Zs(ui),Fr)for(no=0;ni=ui[no++];)os.test(ni.type||"")&&Fr.push(ni)}return uo}var jl=/^([^.]*)(?:\.(.+)|)/;function vl(){return!0}function fs(){return!1}function $i(zn,qn,Fr,Ur,ei,ni){var ui,Ii;if(typeof qn=="object"){typeof Fr!="string"&&(Ur=Ur||Fr,Fr=void 0);for(Ii in qn)$i(zn,Ii,Fr,Ur,qn[Ii],ni);return zn}if(Ur==null&&ei==null?(ei=Fr,Ur=Fr=void 0):ei==null&&(typeof Fr=="string"?(ei=Ur,Ur=void 0):(ei=Ur,Ur=Fr,Fr=void 0)),ei===!1)ei=fs;else if(!ei)return zn;return ni===1&&(ui=ei,ei=function(xi){return Tn().off(xi),ui.apply(this,arguments)},ei.guid=ui.guid||(ui.guid=Tn.guid++)),zn.each(function(){Tn.event.add(this,qn,ei,Ur,Fr)})}Tn.event={global:{},add:function(zn,qn,Fr,Ur,ei){var ni,ui,Ii,xi,Fi,no,uo,Ki,_o,ba,Wa,xa=gi.get(zn);if(Oo(zn))for(Fr.handler&&(ni=Fr,Fr=ni.handler,ei=ni.selector),ei&&Tn.find.matchesSelector(bo,ei),Fr.guid||(Fr.guid=Tn.guid++),(xi=xa.events)||(xi=xa.events=Object.create(null)),(ui=xa.handle)||(ui=xa.handle=function(Ss){return typeof Tn<"u"&&Tn.event.triggered!==Ss.type?Tn.event.dispatch.apply(zn,arguments):void 0}),qn=(qn||"").match(Pi)||[""],Fi=qn.length;Fi--;)Ii=jl.exec(qn[Fi])||[],_o=Wa=Ii[1],ba=(Ii[2]||"").split(".").sort(),_o&&(uo=Tn.event.special[_o]||{},_o=(ei?uo.delegateType:uo.bindType)||_o,uo=Tn.event.special[_o]||{},no=Tn.extend({type:_o,origType:Wa,data:Ur,handler:Fr,guid:Fr.guid,selector:ei,needsContext:ei&&Tn.expr.match.needsContext.test(ei),namespace:ba.join(".")},ni),(Ki=xi[_o])||(Ki=xi[_o]=[],Ki.delegateCount=0,(!uo.setup||uo.setup.call(zn,Ur,ba,ui)===!1)&&zn.addEventListener&&zn.addEventListener(_o,ui)),uo.add&&(uo.add.call(zn,no),no.handler.guid||(no.handler.guid=Fr.guid)),ei?Ki.splice(Ki.delegateCount++,0,no):Ki.push(no),Tn.event.global[_o]=!0)},remove:function(zn,qn,Fr,Ur,ei){var ni,ui,Ii,xi,Fi,no,uo,Ki,_o,ba,Wa,xa=gi.hasData(zn)&&gi.get(zn);if(!(!xa||!(xi=xa.events))){for(qn=(qn||"").match(Pi)||[""],Fi=qn.length;Fi--;){if(Ii=jl.exec(qn[Fi])||[],_o=Wa=Ii[1],ba=(Ii[2]||"").split(".").sort(),!_o){for(_o in xi)Tn.event.remove(zn,_o+qn[Fi],Fr,Ur,!0);continue}for(uo=Tn.event.special[_o]||{},_o=(Ur?uo.delegateType:uo.bindType)||_o,Ki=xi[_o]||[],Ii=Ii[2]&&new RegExp("(^|\\.)"+ba.join("\\.(?:.*\\.|)")+"(\\.|$)"),ui=ni=Ki.length;ni--;)no=Ki[ni],(ei||Wa===no.origType)&&(!Fr||Fr.guid===no.guid)&&(!Ii||Ii.test(no.namespace))&&(!Ur||Ur===no.selector||Ur==="**"&&no.selector)&&(Ki.splice(ni,1),no.selector&&Ki.delegateCount--,uo.remove&&uo.remove.call(zn,no));ui&&!Ki.length&&((!uo.teardown||uo.teardown.call(zn,ba,xa.handle)===!1)&&Tn.removeEvent(zn,_o,xa.handle),delete xi[_o])}Tn.isEmptyObject(xi)&&gi.remove(zn,"handle events")}},dispatch:function(zn){var qn,Fr,Ur,ei,ni,ui,Ii=new Array(arguments.length),xi=Tn.event.fix(zn),Fi=(gi.get(this,"events")||Object.create(null))[xi.type]||[],no=Tn.event.special[xi.type]||{};for(Ii[0]=xi,qn=1;qn<arguments.length;qn++)Ii[qn]=arguments[qn];if(xi.delegateTarget=this,!(no.preDispatch&&no.preDispatch.call(this,xi)===!1)){for(ui=Tn.event.handlers.call(this,xi,Fi),qn=0;(ei=ui[qn++])&&!xi.isPropagationStopped();)for(xi.currentTarget=ei.elem,Fr=0;(ni=ei.handlers[Fr++])&&!xi.isImmediatePropagationStopped();)(!xi.rnamespace||ni.namespace===!1||xi.rnamespace.test(ni.namespace))&&(xi.handleObj=ni,xi.data=ni.data,Ur=((Tn.event.special[ni.origType]||{}).handle||ni.handler).apply(ei.elem,Ii),Ur!==void 0&&(xi.result=Ur)===!1&&(xi.preventDefault(),xi.stopPropagation()));return no.postDispatch&&no.postDispatch.call(this,xi),xi.result}},handlers:function(zn,qn){var Fr,Ur,ei,ni,ui,Ii=[],xi=qn.delegateCount,Fi=zn.target;if(xi&&Fi.nodeType&&!(zn.type==="click"&&zn.button>=1)){for(;Fi!==this;Fi=Fi.parentNode||this)if(Fi.nodeType===1&&!(zn.type==="click"&&Fi.disabled===!0)){for(ni=[],ui={},Fr=0;Fr<xi;Fr++)Ur=qn[Fr],ei=Ur.selector+" ",ui[ei]===void 0&&(ui[ei]=Ur.needsContext?Tn(ei,this).index(Fi)>-1:Tn.find(ei,this,null,[Fi]).length),ui[ei]&&ni.push(Ur);ni.length&&Ii.push({elem:Fi,handlers:ni})}}return Fi=this,xi<qn.length&&Ii.push({elem:Fi,handlers:qn.slice(xi)}),Ii},addProp:function(zn,qn){Object.defineProperty(Tn.Event.prototype,zn,{enumerable:!0,configurable:!0,get:kn(qn)?function(){if(this.originalEvent)return qn(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[zn]},set:function(Fr){Object.defineProperty(this,zn,{enumerable:!0,configurable:!0,writable:!0,value:Fr})}})},fix:function(zn){return zn[Tn.expando]?zn:new Tn.Event(zn)},special:{load:{noBubble:!0},click:{setup:function(zn){var qn=this||zn;return Ms.test(qn.type)&&qn.click&&Hn(qn,"input")&&Hi(qn,"click",!0),!1},trigger:function(zn){var qn=this||zn;return Ms.test(qn.type)&&qn.click&&Hn(qn,"input")&&Hi(qn,"click"),!0},_default:function(zn){var qn=zn.target;return Ms.test(qn.type)&&qn.click&&Hn(qn,"input")&&gi.get(qn,"click")||Hn(qn,"a")}},beforeunload:{postDispatch:function(zn){zn.result!==void 0&&zn.originalEvent&&(zn.originalEvent.returnValue=zn.result)}}}};function Hi(zn,qn,Fr){if(!Fr){gi.get(zn,qn)===void 0&&Tn.event.add(zn,qn,vl);return}gi.set(zn,qn,!1),Tn.event.add(zn,qn,{namespace:!1,handler:function(Ur){var ei,ni=gi.get(this,qn);if(Ur.isTrigger&1&&this[qn]){if(ni)(Tn.event.special[qn]||{}).delegateType&&Ur.stopPropagation();else if(ni=an.call(arguments),gi.set(this,qn,ni),this[qn](),ei=gi.get(this,qn),gi.set(this,qn,!1),ni!==ei)return Ur.stopImmediatePropagation(),Ur.preventDefault(),ei}else ni&&(gi.set(this,qn,Tn.event.trigger(ni[0],ni.slice(1),this)),Ur.stopPropagation(),Ur.isImmediatePropagationStopped=vl)}})}Tn.removeEvent=function(zn,qn,Fr){zn.removeEventListener&&zn.removeEventListener(qn,Fr)},Tn.Event=function(zn,qn){if(!(this instanceof Tn.Event))return new Tn.Event(zn,qn);zn&&zn.type?(this.originalEvent=zn,this.type=zn.type,this.isDefaultPrevented=zn.defaultPrevented||zn.defaultPrevented===void 0&&zn.returnValue===!1?vl:fs,this.target=zn.target&&zn.target.nodeType===3?zn.target.parentNode:zn.target,this.currentTarget=zn.currentTarget,this.relatedTarget=zn.relatedTarget):this.type=zn,qn&&Tn.extend(this,qn),this.timeStamp=zn&&zn.timeStamp||Date.now(),this[Tn.expando]=!0},Tn.Event.prototype={constructor:Tn.Event,isDefaultPrevented:fs,isPropagationStopped:fs,isImmediatePropagationStopped:fs,isSimulated:!1,preventDefault:function(){var zn=this.originalEvent;this.isDefaultPrevented=vl,zn&&!this.isSimulated&&zn.preventDefault()},stopPropagation:function(){var zn=this.originalEvent;this.isPropagationStopped=vl,zn&&!this.isSimulated&&zn.stopPropagation()},stopImmediatePropagation:function(){var zn=this.originalEvent;this.isImmediatePropagationStopped=vl,zn&&!this.isSimulated&&zn.stopImmediatePropagation(),this.stopPropagation()}},Tn.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Tn.event.addProp),Tn.each({focus:"focusin",blur:"focusout"},function(zn,qn){function Fr(Ur){if(xn.documentMode){var ei=gi.get(this,"handle"),ni=Tn.event.fix(Ur);ni.type=Ur.type==="focusin"?"focus":"blur",ni.isSimulated=!0,ei(Ur),ni.target===ni.currentTarget&&ei(ni)}else Tn.event.simulate(qn,Ur.target,Tn.event.fix(Ur))}Tn.event.special[zn]={setup:function(){var Ur;if(Hi(this,zn,!0),xn.documentMode)Ur=gi.get(this,qn),Ur||this.addEventListener(qn,Fr),gi.set(this,qn,(Ur||0)+1);else return!1},trigger:function(){return Hi(this,zn),!0},teardown:function(){var Ur;if(xn.documentMode)Ur=gi.get(this,qn)-1,Ur?gi.set(this,qn,Ur):(this.removeEventListener(qn,Fr),gi.remove(this,qn));else return!1},_default:function(Ur){return gi.get(Ur.target,zn)},delegateType:qn},Tn.event.special[qn]={setup:function(){var Ur=this.ownerDocument||this.document||this,ei=xn.documentMode?this:Ur,ni=gi.get(ei,qn);ni||(xn.documentMode?this.addEventListener(qn,Fr):Ur.addEventListener(zn,Fr,!0)),gi.set(ei,qn,(ni||0)+1)},teardown:function(){var Ur=this.ownerDocument||this.document||this,ei=xn.documentMode?this:Ur,ni=gi.get(ei,qn)-1;ni?gi.set(ei,qn,ni):(xn.documentMode?this.removeEventListener(qn,Fr):Ur.removeEventListener(zn,Fr,!0),gi.remove(ei,qn))}}}),Tn.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(zn,qn){Tn.event.special[zn]={delegateType:qn,bindType:qn,handle:function(Fr){var Ur,ei=this,ni=Fr.relatedTarget,ui=Fr.handleObj;return(!ni||ni!==ei&&!Tn.contains(ei,ni))&&(Fr.type=ui.origType,Ur=ui.handler.apply(this,arguments),Fr.type=qn),Ur}}}),Tn.fn.extend({on:function(zn,qn,Fr,Ur){return $i(this,zn,qn,Fr,Ur)},one:function(zn,qn,Fr,Ur){return $i(this,zn,qn,Fr,Ur,1)},off:function(zn,qn,Fr){var Ur,ei;if(zn&&zn.preventDefault&&zn.handleObj)return Ur=zn.handleObj,Tn(zn.delegateTarget).off(Ur.namespace?Ur.origType+"."+Ur.namespace:Ur.origType,Ur.selector,Ur.handler),this;if(typeof zn=="object"){for(ei in zn)this.off(ei,qn,zn[ei]);return this}return(qn===!1||typeof qn=="function")&&(Fr=qn,qn=void 0),Fr===!1&&(Fr=fs),this.each(function(){Tn.event.remove(this,zn,Fr,qn)})}});var io=/<script|<style|<link/i,So=/checked\s*(?:[^=]|=\s*.checked.)/i,Xo=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ro(zn,qn){return Hn(zn,"table")&&Hn(qn.nodeType!==11?qn:qn.firstChild,"tr")&&Tn(zn).children("tbody")[0]||zn}function To(zn){return zn.type=(zn.getAttribute("type")!==null)+"/"+zn.type,zn}function Ra(zn){return(zn.type||"").slice(0,5)==="true/"?zn.type=zn.type.slice(5):zn.removeAttribute("type"),zn}function fa(zn,qn){var Fr,Ur,ei,ni,ui,Ii,xi;if(qn.nodeType===1){if(gi.hasData(zn)&&(ni=gi.get(zn),xi=ni.events,xi)){gi.remove(qn,"handle events");for(ei in xi)for(Fr=0,Ur=xi[ei].length;Fr<Ur;Fr++)Tn.event.add(qn,ei,xi[ei][Fr])}Ti.hasData(zn)&&(ui=Ti.access(zn),Ii=Tn.extend({},ui),Ti.set(qn,Ii))}}function jo(zn,qn){var Fr=qn.nodeName.toLowerCase();Fr==="input"&&Ms.test(zn.type)?qn.checked=zn.checked:(Fr==="input"||Fr==="textarea")&&(qn.defaultValue=zn.defaultValue)}function Ca(zn,qn,Fr,Ur){qn=ln(qn);var ei,ni,ui,Ii,xi,Fi,no=0,uo=zn.length,Ki=uo-1,_o=qn[0],ba=kn(_o);if(ba||uo>1&&typeof _o=="string"&&!_n.checkClone&&So.test(_o))return zn.each(function(Wa){var xa=zn.eq(Wa);ba&&(qn[0]=_o.call(this,Wa,xa.html())),Ca(xa,qn,Fr,Ur)});if(uo&&(ei=us(qn,zn[0].ownerDocument,!1,zn,Ur),ni=ei.firstChild,ei.childNodes.length===1&&(ei=ni),ni||Ur)){for(ui=Tn.map(As(ei,"script"),To),Ii=ui.length;no<uo;no++)xi=ei,no!==Ki&&(xi=Tn.clone(xi,!0,!0),Ii&&Tn.merge(ui,As(xi,"script"))),Fr.call(zn[no],xi,no);if(Ii)for(Fi=ui[ui.length-1].ownerDocument,Tn.map(ui,Ra),no=0;no<Ii;no++)xi=ui[no],os.test(xi.type||"")&&!gi.access(xi,"globalEval")&&Tn.contains(Fi,xi)&&(xi.src&&(xi.type||"").toLowerCase()!=="module"?Tn._evalUrl&&!xi.noModule&&Tn._evalUrl(xi.src,{nonce:xi.nonce||xi.getAttribute("nonce")},Fi):Mn(xi.textContent.replace(Xo,""),xi,Fi))}return zn}function ja(zn,qn,Fr){for(var Ur,ei=qn?Tn.filter(qn,zn):zn,ni=0;(Ur=ei[ni])!=null;ni++)!Fr&&Ur.nodeType===1&&Tn.cleanData(As(Ur)),Ur.parentNode&&(Fr&&$o(Ur)&&Zs(As(Ur,"script")),Ur.parentNode.removeChild(Ur));return zn}Tn.extend({htmlPrefilter:function(zn){return zn},clone:function(zn,qn,Fr){var Ur,ei,ni,ui,Ii=zn.cloneNode(!0),xi=$o(zn);if(!_n.noCloneChecked&&(zn.nodeType===1||zn.nodeType===11)&&!Tn.isXMLDoc(zn))for(ui=As(Ii),ni=As(zn),Ur=0,ei=ni.length;Ur<ei;Ur++)jo(ni[Ur],ui[Ur]);if(qn)if(Fr)for(ni=ni||As(zn),ui=ui||As(Ii),Ur=0,ei=ni.length;Ur<ei;Ur++)fa(ni[Ur],ui[Ur]);else fa(zn,Ii);return ui=As(Ii,"script"),ui.length>0&&Zs(ui,!xi&&As(zn,"script")),Ii},cleanData:function(zn){for(var qn,Fr,Ur,ei=Tn.event.special,ni=0;(Fr=zn[ni])!==void 0;ni++)if(Oo(Fr)){if(qn=Fr[gi.expando]){if(qn.events)for(Ur in qn.events)ei[Ur]?Tn.event.remove(Fr,Ur):Tn.removeEvent(Fr,Ur,qn.handle);Fr[gi.expando]=void 0}Fr[Ti.expando]&&(Fr[Ti.expando]=void 0)}}}),Tn.fn.extend({detach:function(zn){return ja(this,zn,!0)},remove:function(zn){return ja(this,zn)},text:function(zn){return Oi(this,function(qn){return qn===void 0?Tn.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=qn)})},null,zn,arguments.length)},append:function(){return Ca(this,arguments,function(zn){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var qn=Ro(this,zn);qn.appendChild(zn)}})},prepend:function(){return Ca(this,arguments,function(zn){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var qn=Ro(this,zn);qn.insertBefore(zn,qn.firstChild)}})},before:function(){return Ca(this,arguments,function(zn){this.parentNode&&this.parentNode.insertBefore(zn,this)})},after:function(){return Ca(this,arguments,function(zn){this.parentNode&&this.parentNode.insertBefore(zn,this.nextSibling)})},empty:function(){for(var zn,qn=0;(zn=this[qn])!=null;qn++)zn.nodeType===1&&(Tn.cleanData(As(zn,!1)),zn.textContent="");return this},clone:function(zn,qn){return zn=zn??!1,qn=qn??zn,this.map(function(){return Tn.clone(this,zn,qn)})},html:function(zn){return Oi(this,function(qn){var Fr=this[0]||{},Ur=0,ei=this.length;if(qn===void 0&&Fr.nodeType===1)return Fr.innerHTML;if(typeof qn=="string"&&!io.test(qn)&&!Fa[(da.exec(qn)||["",""])[1].toLowerCase()]){qn=Tn.htmlPrefilter(qn);try{for(;Ur<ei;Ur++)Fr=this[Ur]||{},Fr.nodeType===1&&(Tn.cleanData(As(Fr,!1)),Fr.innerHTML=qn);Fr=0}catch{}}Fr&&this.empty().append(qn)},null,zn,arguments.length)},replaceWith:function(){var zn=[];return Ca(this,arguments,function(qn){var Fr=this.parentNode;Tn.inArray(this,zn)<0&&(Tn.cleanData(As(this)),Fr&&Fr.replaceChild(qn,this))},zn)}}),Tn.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(zn,qn){Tn.fn[zn]=function(Fr){for(var Ur,ei=[],ni=Tn(Fr),ui=ni.length-1,Ii=0;Ii<=ui;Ii++)Ur=Ii===ui?this:this.clone(!0),Tn(ni[Ii])[qn](Ur),cn.apply(ei,Ur.get());return this.pushStack(ei)}});var ss=new RegExp("^("+Li+")(?!px)[a-z%]+$","i"),za=/^--/,Ya=function(zn){var qn=zn.ownerDocument.defaultView;return(!qn||!qn.opener)&&(qn=en),qn.getComputedStyle(zn)},ha=function(zn,qn,Fr){var Ur,ei,ni={};for(ei in qn)ni[ei]=zn.style[ei],zn.style[ei]=qn[ei];Ur=Fr.call(zn);for(ei in qn)zn.style[ei]=ni[ei];return Ur},ia=new RegExp(ko.join("|"),"i");(function(){function zn(){if(Fi){xi.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Fi.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",bo.appendChild(xi).appendChild(Fi);var no=en.getComputedStyle(Fi);Fr=no.top!=="1%",Ii=qn(no.marginLeft)===12,Fi.style.right="60%",ni=qn(no.right)===36,Ur=qn(no.width)===36,Fi.style.position="absolute",ei=qn(Fi.offsetWidth/3)===12,bo.removeChild(xi),Fi=null}}function qn(no){return Math.round(parseFloat(no))}var Fr,Ur,ei,ni,ui,Ii,xi=xn.createElement("div"),Fi=xn.createElement("div");Fi.style&&(Fi.style.backgroundClip="content-box",Fi.cloneNode(!0).style.backgroundClip="",_n.clearCloneStyle=Fi.style.backgroundClip==="content-box",Tn.extend(_n,{boxSizingReliable:function(){return zn(),Ur},pixelBoxStyles:function(){return zn(),ni},pixelPosition:function(){return zn(),Fr},reliableMarginLeft:function(){return zn(),Ii},scrollboxSize:function(){return zn(),ei},reliableTrDimensions:function(){var no,uo,Ki,_o;return ui==null&&(no=xn.createElement("table"),uo=xn.createElement("tr"),Ki=xn.createElement("div"),no.style.cssText="position:absolute;left:-11111px;border-collapse:separate",uo.style.cssText="box-sizing:content-box;border:1px solid",uo.style.height="1px",Ki.style.height="9px",Ki.style.display="block",bo.appendChild(no).appendChild(uo).appendChild(Ki),_o=en.getComputedStyle(uo),ui=parseInt(_o.height,10)+parseInt(_o.borderTopWidth,10)+parseInt(_o.borderBottomWidth,10)===uo.offsetHeight,bo.removeChild(no)),ui}}))})();function ca(zn,qn,Fr){var Ur,ei,ni,ui,Ii=za.test(qn),xi=zn.style;return Fr=Fr||Ya(zn),Fr&&(ui=Fr.getPropertyValue(qn)||Fr[qn],Ii&&ui&&(ui=ui.replace(Qn,"$1")||void 0),ui===""&&!$o(zn)&&(ui=Tn.style(zn,qn)),!_n.pixelBoxStyles()&&ss.test(ui)&&ia.test(qn)&&(Ur=xi.width,ei=xi.minWidth,ni=xi.maxWidth,xi.minWidth=xi.maxWidth=xi.width=ui,ui=Fr.width,xi.width=Ur,xi.minWidth=ei,xi.maxWidth=ni)),ui!==void 0?ui+"":ui}function oa(zn,qn){return{get:function(){if(zn()){delete this.get;return}return(this.get=qn).apply(this,arguments)}}}var Uo=["Webkit","Moz","ms"],Ei=xn.createElement("div").style,vs={};function ma(zn){for(var qn=zn[0].toUpperCase()+zn.slice(1),Fr=Uo.length;Fr--;)if(zn=Uo[Fr]+qn,zn in Ei)return zn}function Bs(zn){var qn=Tn.cssProps[zn]||vs[zn];return qn||(zn in Ei?zn:vs[zn]=ma(zn)||zn)}var Ea=/^(none|table(?!-c[ea]).+)/,Fs={position:"absolute",visibility:"hidden",display:"block"},Js={letterSpacing:"0",fontWeight:"400"};function ul(zn,qn,Fr){var Ur=yo.exec(qn);return Ur?Math.max(0,Ur[2]-(Fr||0))+(Ur[3]||"px"):qn}function lo(zn,qn,Fr,Ur,ei,ni){var ui=qn==="width"?1:0,Ii=0,xi=0,Fi=0;if(Fr===(Ur?"border":"content"))return 0;for(;ui<4;ui+=2)Fr==="margin"&&(Fi+=Tn.css(zn,Fr+ko[ui],!0,ei)),Ur?(Fr==="content"&&(xi-=Tn.css(zn,"padding"+ko[ui],!0,ei)),Fr!=="margin"&&(xi-=Tn.css(zn,"border"+ko[ui]+"Width",!0,ei))):(xi+=Tn.css(zn,"padding"+ko[ui],!0,ei),Fr!=="padding"?xi+=Tn.css(zn,"border"+ko[ui]+"Width",!0,ei):Ii+=Tn.css(zn,"border"+ko[ui]+"Width",!0,ei));return!Ur&&ni>=0&&(xi+=Math.max(0,Math.ceil(zn["offset"+qn[0].toUpperCase()+qn.slice(1)]-ni-xi-Ii-.5))||0),xi+Fi}function ea(zn,qn,Fr){var Ur=Ya(zn),ei=!_n.boxSizingReliable()||Fr,ni=ei&&Tn.css(zn,"boxSizing",!1,Ur)==="border-box",ui=ni,Ii=ca(zn,qn,Ur),xi="offset"+qn[0].toUpperCase()+qn.slice(1);if(ss.test(Ii)){if(!Fr)return Ii;Ii="auto"}return(!_n.boxSizingReliable()&&ni||!_n.reliableTrDimensions()&&Hn(zn,"tr")||Ii==="auto"||!parseFloat(Ii)&&Tn.css(zn,"display",!1,Ur)==="inline")&&zn.getClientRects().length&&(ni=Tn.css(zn,"boxSizing",!1,Ur)==="border-box",ui=xi in zn,ui&&(Ii=zn[xi])),Ii=parseFloat(Ii)||0,Ii+lo(zn,qn,Fr||(ni?"border":"content"),ui,Ur,Ii)+"px"}Tn.extend({cssHooks:{opacity:{get:function(zn,qn){if(qn){var Fr=ca(zn,"opacity");return Fr===""?"1":Fr}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(zn,qn,Fr,Ur){if(!(!zn||zn.nodeType===3||zn.nodeType===8||!zn.style)){var ei,ni,ui,Ii=ro(qn),xi=za.test(qn),Fi=zn.style;if(xi||(qn=Bs(Ii)),ui=Tn.cssHooks[qn]||Tn.cssHooks[Ii],Fr!==void 0){if(ni=typeof Fr,ni==="string"&&(ei=yo.exec(Fr))&&ei[1]&&(Fr=zo(zn,qn,ei),ni="number"),Fr==null||Fr!==Fr)return;ni==="number"&&!xi&&(Fr+=ei&&ei[3]||(Tn.cssNumber[Ii]?"":"px")),!_n.clearCloneStyle&&Fr===""&&qn.indexOf("background")===0&&(Fi[qn]="inherit"),(!ui||!("set"in ui)||(Fr=ui.set(zn,Fr,Ur))!==void 0)&&(xi?Fi.setProperty(qn,Fr):Fi[qn]=Fr)}else return ui&&"get"in ui&&(ei=ui.get(zn,!1,Ur))!==void 0?ei:Fi[qn]}},css:function(zn,qn,Fr,Ur){var ei,ni,ui,Ii=ro(qn),xi=za.test(qn);return xi||(qn=Bs(Ii)),ui=Tn.cssHooks[qn]||Tn.cssHooks[Ii],ui&&"get"in ui&&(ei=ui.get(zn,!0,Fr)),ei===void 0&&(ei=ca(zn,qn,Ur)),ei==="normal"&&qn in Js&&(ei=Js[qn]),Fr===""||Fr?(ni=parseFloat(ei),Fr===!0||isFinite(ni)?ni||0:ei):ei}}),Tn.each(["height","width"],function(zn,qn){Tn.cssHooks[qn]={get:function(Fr,Ur,ei){if(Ur)return Ea.test(Tn.css(Fr,"display"))&&(!Fr.getClientRects().length||!Fr.getBoundingClientRect().width)?ha(Fr,Fs,function(){return ea(Fr,qn,ei)}):ea(Fr,qn,ei)},set:function(Fr,Ur,ei){var ni,ui=Ya(Fr),Ii=!_n.scrollboxSize()&&ui.position==="absolute",xi=Ii||ei,Fi=xi&&Tn.css(Fr,"boxSizing",!1,ui)==="border-box",no=ei?lo(Fr,qn,ei,Fi,ui):0;return Fi&&Ii&&(no-=Math.ceil(Fr["offset"+qn[0].toUpperCase()+qn.slice(1)]-parseFloat(ui[qn])-lo(Fr,qn,"border",!1,ui)-.5)),no&&(ni=yo.exec(Ur))&&(ni[3]||"px")!=="px"&&(Fr.style[qn]=Ur,Ur=Tn.css(Fr,qn)),ul(Fr,Ur,no)}}}),Tn.cssHooks.marginLeft=oa(_n.reliableMarginLeft,function(zn,qn){if(qn)return(parseFloat(ca(zn,"marginLeft"))||zn.getBoundingClientRect().left-ha(zn,{marginLeft:0},function(){return zn.getBoundingClientRect().left}))+"px"}),Tn.each({margin:"",padding:"",border:"Width"},function(zn,qn){Tn.cssHooks[zn+qn]={expand:function(Fr){for(var Ur=0,ei={},ni=typeof Fr=="string"?Fr.split(" "):[Fr];Ur<4;Ur++)ei[zn+ko[Ur]+qn]=ni[Ur]||ni[Ur-2]||ni[0];return ei}},zn!=="margin"&&(Tn.cssHooks[zn+qn].set=ul)}),Tn.fn.extend({css:function(zn,qn){return Oi(this,function(Fr,Ur,ei){var ni,ui,Ii={},xi=0;if(Array.isArray(Ur)){for(ni=Ya(Fr),ui=Ur.length;xi<ui;xi++)Ii[Ur[xi]]=Tn.css(Fr,Ur[xi],!1,ni);return Ii}return ei!==void 0?Tn.style(Fr,Ur,ei):Tn.css(Fr,Ur)},zn,qn,arguments.length>1)}});function hs(zn,qn,Fr,Ur,ei){return new hs.prototype.init(zn,qn,Fr,Ur,ei)}Tn.Tween=hs,hs.prototype={constructor:hs,init:function(zn,qn,Fr,Ur,ei,ni){this.elem=zn,this.prop=Fr,this.easing=ei||Tn.easing._default,this.options=qn,this.start=this.now=this.cur(),this.end=Ur,this.unit=ni||(Tn.cssNumber[Fr]?"":"px")},cur:function(){var zn=hs.propHooks[this.prop];return zn&&zn.get?zn.get(this):hs.propHooks._default.get(this)},run:function(zn){var qn,Fr=hs.propHooks[this.prop];return this.options.duration?this.pos=qn=Tn.easing[this.easing](zn,this.options.duration*zn,0,1,this.options.duration):this.pos=qn=zn,this.now=(this.end-this.start)*qn+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Fr&&Fr.set?Fr.set(this):hs.propHooks._default.set(this),this}},hs.prototype.init.prototype=hs.prototype,hs.propHooks={_default:{get:function(zn){var qn;return zn.elem.nodeType!==1||zn.elem[zn.prop]!=null&&zn.elem.style[zn.prop]==null?zn.elem[zn.prop]:(qn=Tn.css(zn.elem,zn.prop,""),!qn||qn==="auto"?0:qn)},set:function(zn){Tn.fx.step[zn.prop]?Tn.fx.step[zn.prop](zn):zn.elem.nodeType===1&&(Tn.cssHooks[zn.prop]||zn.elem.style[Bs(zn.prop)]!=null)?Tn.style(zn.elem,zn.prop,zn.now+zn.unit):zn.elem[zn.prop]=zn.now}}},hs.propHooks.scrollTop=hs.propHooks.scrollLeft={set:function(zn){zn.elem.nodeType&&zn.elem.parentNode&&(zn.elem[zn.prop]=zn.now)}},Tn.easing={linear:function(zn){return zn},swing:function(zn){return .5-Math.cos(zn*Math.PI)/2},_default:"swing"},Tn.fx=hs.prototype.init,Tn.fx.step={};var ml,ki,vi=/^(?:toggle|show|hide)$/,Bi=/queueHooks$/;function Gi(){ki&&(xn.hidden===!1&&en.requestAnimationFrame?en.requestAnimationFrame(Gi):en.setTimeout(Gi,Tn.fx.interval),Tn.fx.tick())}function co(){return en.setTimeout(function(){ml=void 0}),ml=Date.now()}function Eo(zn,qn){var Fr,Ur=0,ei={height:zn};for(qn=qn?1:0;Ur<4;Ur+=2-qn)Fr=ko[Ur],ei["margin"+Fr]=ei["padding"+Fr]=zn;return qn&&(ei.opacity=ei.width=zn),ei}function Bo(zn,qn,Fr){for(var Ur,ei=(ta.tweeners[qn]||[]).concat(ta.tweeners["*"]),ni=0,ui=ei.length;ni<ui;ni++)if(Ur=ei[ni].call(Fr,qn,zn))return Ur}function Co(zn,qn,Fr){var Ur,ei,ni,ui,Ii,xi,Fi,no,uo="width"in qn||"height"in qn,Ki=this,_o={},ba=zn.style,Wa=zn.nodeType&&Xi(zn),xa=gi.get(zn,"fxshow");Fr.queue||(ui=Tn._queueHooks(zn,"fx"),ui.unqueued==null&&(ui.unqueued=0,Ii=ui.empty.fire,ui.empty.fire=function(){ui.unqueued||Ii()}),ui.unqueued++,Ki.always(function(){Ki.always(function(){ui.unqueued--,Tn.queue(zn,"fx").length||ui.empty.fire()})}));for(Ur in qn)if(ei=qn[Ur],vi.test(ei)){if(delete qn[Ur],ni=ni||ei==="toggle",ei===(Wa?"hide":"show"))if(ei==="show"&&xa&&xa[Ur]!==void 0)Wa=!0;else continue;_o[Ur]=xa&&xa[Ur]||Tn.style(zn,Ur)}if(xi=!Tn.isEmptyObject(qn),!(!xi&&Tn.isEmptyObject(_o))){uo&&zn.nodeType===1&&(Fr.overflow=[ba.overflow,ba.overflowX,ba.overflowY],Fi=xa&&xa.display,Fi==null&&(Fi=gi.get(zn,"display")),no=Tn.css(zn,"display"),no==="none"&&(Fi?no=Fi:(ya([zn],!0),Fi=zn.style.display||Fi,no=Tn.css(zn,"display"),ya([zn]))),(no==="inline"||no==="inline-block"&&Fi!=null)&&Tn.css(zn,"float")==="none"&&(xi||(Ki.done(function(){ba.display=Fi}),Fi==null&&(no=ba.display,Fi=no==="none"?"":no)),ba.display="inline-block")),Fr.overflow&&(ba.overflow="hidden",Ki.always(function(){ba.overflow=Fr.overflow[0],ba.overflowX=Fr.overflow[1],ba.overflowY=Fr.overflow[2]})),xi=!1;for(Ur in _o)xi||(xa?"hidden"in xa&&(Wa=xa.hidden):xa=gi.access(zn,"fxshow",{display:Fi}),ni&&(xa.hidden=!Wa),Wa&&ya([zn],!0),Ki.done(function(){Wa||ya([zn]),gi.remove(zn,"fxshow");for(Ur in _o)Tn.style(zn,Ur,_o[Ur])})),xi=Bo(Wa?xa[Ur]:0,Ur,Ki),Ur in xa||(xa[Ur]=xi.start,Wa&&(xi.end=xi.start,xi.start=0))}}function Zo(zn,qn){var Fr,Ur,ei,ni,ui;for(Fr in zn)if(Ur=ro(Fr),ei=qn[Ur],ni=zn[Fr],Array.isArray(ni)&&(ei=ni[1],ni=zn[Fr]=ni[0]),Fr!==Ur&&(zn[Ur]=ni,delete zn[Fr]),ui=Tn.cssHooks[Ur],ui&&"expand"in ui){ni=ui.expand(ni),delete zn[Ur];for(Fr in ni)Fr in zn||(zn[Fr]=ni[Fr],qn[Fr]=ei)}else qn[Ur]=ei}function ta(zn,qn,Fr){var Ur,ei,ni=0,ui=ta.prefilters.length,Ii=Tn.Deferred().always(function(){delete xi.elem}),xi=function(){if(ei)return!1;for(var uo=ml||co(),Ki=Math.max(0,Fi.startTime+Fi.duration-uo),_o=Ki/Fi.duration||0,ba=1-_o,Wa=0,xa=Fi.tweens.length;Wa<xa;Wa++)Fi.tweens[Wa].run(ba);return Ii.notifyWith(zn,[Fi,ba,Ki]),ba<1&&xa?Ki:(xa||Ii.notifyWith(zn,[Fi,1,0]),Ii.resolveWith(zn,[Fi]),!1)},Fi=Ii.promise({elem:zn,props:Tn.extend({},qn),opts:Tn.extend(!0,{specialEasing:{},easing:Tn.easing._default},Fr),originalProperties:qn,originalOptions:Fr,startTime:ml||co(),duration:Fr.duration,tweens:[],createTween:function(uo,Ki){var _o=Tn.Tween(zn,Fi.opts,uo,Ki,Fi.opts.specialEasing[uo]||Fi.opts.easing);return Fi.tweens.push(_o),_o},stop:function(uo){var Ki=0,_o=uo?Fi.tweens.length:0;if(ei)return this;for(ei=!0;Ki<_o;Ki++)Fi.tweens[Ki].run(1);return uo?(Ii.notifyWith(zn,[Fi,1,0]),Ii.resolveWith(zn,[Fi,uo])):Ii.rejectWith(zn,[Fi,uo]),this}}),no=Fi.props;for(Zo(no,Fi.opts.specialEasing);ni<ui;ni++)if(Ur=ta.prefilters[ni].call(Fi,zn,no,Fi.opts),Ur)return kn(Ur.stop)&&(Tn._queueHooks(Fi.elem,Fi.opts.queue).stop=Ur.stop.bind(Ur)),Ur;return Tn.map(no,Bo,Fi),kn(Fi.opts.start)&&Fi.opts.start.call(zn,Fi),Fi.progress(Fi.opts.progress).done(Fi.opts.done,Fi.opts.complete).fail(Fi.opts.fail).always(Fi.opts.always),Tn.fx.timer(Tn.extend(xi,{elem:zn,anim:Fi,queue:Fi.opts.queue})),Fi}Tn.Animation=Tn.extend(ta,{tweeners:{"*":[function(zn,qn){var Fr=this.createTween(zn,qn);return zo(Fr.elem,zn,yo.exec(qn),Fr),Fr}]},tweener:function(zn,qn){kn(zn)?(qn=zn,zn=["*"]):zn=zn.match(Pi);for(var Fr,Ur=0,ei=zn.length;Ur<ei;Ur++)Fr=zn[Ur],ta.tweeners[Fr]=ta.tweeners[Fr]||[],ta.tweeners[Fr].unshift(qn)},prefilters:[Co],prefilter:function(zn,qn){qn?ta.prefilters.unshift(zn):ta.prefilters.push(zn)}}),Tn.speed=function(zn,qn,Fr){var Ur=zn&&typeof zn=="object"?Tn.extend({},zn):{complete:Fr||!Fr&&qn||kn(zn)&&zn,duration:zn,easing:Fr&&qn||qn&&!kn(qn)&&qn};return Tn.fx.off?Ur.duration=0:typeof Ur.duration!="number"&&(Ur.duration in Tn.fx.speeds?Ur.duration=Tn.fx.speeds[Ur.duration]:Ur.duration=Tn.fx.speeds._default),(Ur.queue==null||Ur.queue===!0)&&(Ur.queue="fx"),Ur.old=Ur.complete,Ur.complete=function(){kn(Ur.old)&&Ur.old.call(this),Ur.queue&&Tn.dequeue(this,Ur.queue)},Ur},Tn.fn.extend({fadeTo:function(zn,qn,Fr,Ur){return this.filter(Xi).css("opacity",0).show().end().animate({opacity:qn},zn,Fr,Ur)},animate:function(zn,qn,Fr,Ur){var ei=Tn.isEmptyObject(zn),ni=Tn.speed(qn,Fr,Ur),ui=function(){var Ii=ta(this,Tn.extend({},zn),ni);(ei||gi.get(this,"finish"))&&Ii.stop(!0)};return ui.finish=ui,ei||ni.queue===!1?this.each(ui):this.queue(ni.queue,ui)},stop:function(zn,qn,Fr){var Ur=function(ei){var ni=ei.stop;delete ei.stop,ni(Fr)};return typeof zn!="string"&&(Fr=qn,qn=zn,zn=void 0),qn&&this.queue(zn||"fx",[]),this.each(function(){var ei=!0,ni=zn!=null&&zn+"queueHooks",ui=Tn.timers,Ii=gi.get(this);if(ni)Ii[ni]&&Ii[ni].stop&&Ur(Ii[ni]);else for(ni in Ii)Ii[ni]&&Ii[ni].stop&&Bi.test(ni)&&Ur(Ii[ni]);for(ni=ui.length;ni--;)ui[ni].elem===this&&(zn==null||ui[ni].queue===zn)&&(ui[ni].anim.stop(Fr),ei=!1,ui.splice(ni,1));(ei||!Fr)&&Tn.dequeue(this,zn)})},finish:function(zn){return zn!==!1&&(zn=zn||"fx"),this.each(function(){var qn,Fr=gi.get(this),Ur=Fr[zn+"queue"],ei=Fr[zn+"queueHooks"],ni=Tn.timers,ui=Ur?Ur.length:0;for(Fr.finish=!0,Tn.queue(this,zn,[]),ei&&ei.stop&&ei.stop.call(this,!0),qn=ni.length;qn--;)ni[qn].elem===this&&ni[qn].queue===zn&&(ni[qn].anim.stop(!0),ni.splice(qn,1));for(qn=0;qn<ui;qn++)Ur[qn]&&Ur[qn].finish&&Ur[qn].finish.call(this);delete Fr.finish})}}),Tn.each(["toggle","show","hide"],function(zn,qn){var Fr=Tn.fn[qn];Tn.fn[qn]=function(Ur,ei,ni){return Ur==null||typeof Ur=="boolean"?Fr.apply(this,arguments):this.animate(Eo(qn,!0),Ur,ei,ni)}}),Tn.each({slideDown:Eo("show"),slideUp:Eo("hide"),slideToggle:Eo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(zn,qn){Tn.fn[zn]=function(Fr,Ur,ei){return this.animate(qn,Fr,Ur,ei)}}),Tn.timers=[],Tn.fx.tick=function(){var zn,qn=0,Fr=Tn.timers;for(ml=Date.now();qn<Fr.length;qn++)zn=Fr[qn],!zn()&&Fr[qn]===zn&&Fr.splice(qn--,1);Fr.length||Tn.fx.stop(),ml=void 0},Tn.fx.timer=function(zn){Tn.timers.push(zn),Tn.fx.start()},Tn.fx.interval=13,Tn.fx.start=function(){ki||(ki=!0,Gi())},Tn.fx.stop=function(){ki=null},Tn.fx.speeds={slow:600,fast:200,_default:400},Tn.fn.delay=function(zn,qn){return zn=Tn.fx&&Tn.fx.speeds[zn]||zn,qn=qn||"fx",this.queue(qn,function(Fr,Ur){var ei=en.setTimeout(Fr,zn);Ur.stop=function(){en.clearTimeout(ei)}})},function(){var zn=xn.createElement("input"),qn=xn.createElement("select"),Fr=qn.appendChild(xn.createElement("option"));zn.type="checkbox",_n.checkOn=zn.value!=="",_n.optSelected=Fr.selected,zn=xn.createElement("input"),zn.value="t",zn.type="radio",_n.radioValue=zn.value==="t"}();var Ho,Da=Tn.expr.attrHandle;Tn.fn.extend({attr:function(zn,qn){return Oi(this,Tn.attr,zn,qn,arguments.length>1)},removeAttr:function(zn){return this.each(function(){Tn.removeAttr(this,zn)})}}),Tn.extend({attr:function(zn,qn,Fr){var Ur,ei,ni=zn.nodeType;if(!(ni===3||ni===8||ni===2)){if(typeof zn.getAttribute>"u")return Tn.prop(zn,qn,Fr);if((ni!==1||!Tn.isXMLDoc(zn))&&(ei=Tn.attrHooks[qn.toLowerCase()]||(Tn.expr.match.bool.test(qn)?Ho:void 0)),Fr!==void 0){if(Fr===null){Tn.removeAttr(zn,qn);return}return ei&&"set"in ei&&(Ur=ei.set(zn,Fr,qn))!==void 0?Ur:(zn.setAttribute(qn,Fr+""),Fr)}return ei&&"get"in ei&&(Ur=ei.get(zn,qn))!==null?Ur:(Ur=Tn.find.attr(zn,qn),Ur??void 0)}},attrHooks:{type:{set:function(zn,qn){if(!_n.radioValue&&qn==="radio"&&Hn(zn,"input")){var Fr=zn.value;return zn.setAttribute("type",qn),Fr&&(zn.value=Fr),qn}}}},removeAttr:function(zn,qn){var Fr,Ur=0,ei=qn&&qn.match(Pi);if(ei&&zn.nodeType===1)for(;Fr=ei[Ur++];)zn.removeAttribute(Fr)}}),Ho={set:function(zn,qn,Fr){return qn===!1?Tn.removeAttr(zn,Fr):zn.setAttribute(Fr,Fr),Fr}},Tn.each(Tn.expr.match.bool.source.match(/\w+/g),function(zn,qn){var Fr=Da[qn]||Tn.find.attr;Da[qn]=function(Ur,ei,ni){var ui,Ii,xi=ei.toLowerCase();return ni||(Ii=Da[xi],Da[xi]=ui,ui=Fr(Ur,ei,ni)!=null?xi:null,Da[xi]=Ii),ui}});var es=/^(?:input|select|textarea|button)$/i,Ha=/^(?:a|area)$/i;Tn.fn.extend({prop:function(zn,qn){return Oi(this,Tn.prop,zn,qn,arguments.length>1)},removeProp:function(zn){return this.each(function(){delete this[Tn.propFix[zn]||zn]})}}),Tn.extend({prop:function(zn,qn,Fr){var Ur,ei,ni=zn.nodeType;if(!(ni===3||ni===8||ni===2))return(ni!==1||!Tn.isXMLDoc(zn))&&(qn=Tn.propFix[qn]||qn,ei=Tn.propHooks[qn]),Fr!==void 0?ei&&"set"in ei&&(Ur=ei.set(zn,Fr,qn))!==void 0?Ur:zn[qn]=Fr:ei&&"get"in ei&&(Ur=ei.get(zn,qn))!==null?Ur:zn[qn]},propHooks:{tabIndex:{get:function(zn){var qn=Tn.find.attr(zn,"tabindex");return qn?parseInt(qn,10):es.test(zn.nodeName)||Ha.test(zn.nodeName)&&zn.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_n.optSelected||(Tn.propHooks.selected={get:function(zn){var qn=zn.parentNode;return qn&&qn.parentNode&&qn.parentNode.selectedIndex,null},set:function(zn){var qn=zn.parentNode;qn&&(qn.selectedIndex,qn.parentNode&&qn.parentNode.selectedIndex)}}),Tn.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Tn.propFix[this.toLowerCase()]=this});function wa(zn){var qn=zn.match(Pi)||[];return qn.join(" ")}function Ma(zn){return zn.getAttribute&&zn.getAttribute("class")||""}function Ia(zn){return Array.isArray(zn)?zn:typeof zn=="string"?zn.match(Pi)||[]:[]}Tn.fn.extend({addClass:function(zn){var qn,Fr,Ur,ei,ni,ui;return kn(zn)?this.each(function(Ii){Tn(this).addClass(zn.call(this,Ii,Ma(this)))}):(qn=Ia(zn),qn.length?this.each(function(){if(Ur=Ma(this),Fr=this.nodeType===1&&" "+wa(Ur)+" ",Fr){for(ni=0;ni<qn.length;ni++)ei=qn[ni],Fr.indexOf(" "+ei+" ")<0&&(Fr+=ei+" ");ui=wa(Fr),Ur!==ui&&this.setAttribute("class",ui)}}):this)},removeClass:function(zn){var qn,Fr,Ur,ei,ni,ui;return kn(zn)?this.each(function(Ii){Tn(this).removeClass(zn.call(this,Ii,Ma(this)))}):arguments.length?(qn=Ia(zn),qn.length?this.each(function(){if(Ur=Ma(this),Fr=this.nodeType===1&&" "+wa(Ur)+" ",Fr){for(ni=0;ni<qn.length;ni++)for(ei=qn[ni];Fr.indexOf(" "+ei+" ")>-1;)Fr=Fr.replace(" "+ei+" "," ");ui=wa(Fr),Ur!==ui&&this.setAttribute("class",ui)}}):this):this.attr("class","")},toggleClass:function(zn,qn){var Fr,Ur,ei,ni,ui=typeof zn,Ii=ui==="string"||Array.isArray(zn);return kn(zn)?this.each(function(xi){Tn(this).toggleClass(zn.call(this,xi,Ma(this),qn),qn)}):typeof qn=="boolean"&&Ii?qn?this.addClass(zn):this.removeClass(zn):(Fr=Ia(zn),this.each(function(){if(Ii)for(ni=Tn(this),ei=0;ei<Fr.length;ei++)Ur=Fr[ei],ni.hasClass(Ur)?ni.removeClass(Ur):ni.addClass(Ur);else(zn===void 0||ui==="boolean")&&(Ur=Ma(this),Ur&&gi.set(this,"__className__",Ur),this.setAttribute&&this.setAttribute("class",Ur||zn===!1?"":gi.get(this,"__className__")||""))}))},hasClass:function(zn){var qn,Fr,Ur=0;for(qn=" "+zn+" ";Fr=this[Ur++];)if(Fr.nodeType===1&&(" "+wa(Ma(Fr))+" ").indexOf(qn)>-1)return!0;return!1}});var Cs=/\r/g;Tn.fn.extend({val:function(zn){var qn,Fr,Ur,ei=this[0];return arguments.length?(Ur=kn(zn),this.each(function(ni){var ui;this.nodeType===1&&(Ur?ui=zn.call(this,ni,Tn(this).val()):ui=zn,ui==null?ui="":typeof ui=="number"?ui+="":Array.isArray(ui)&&(ui=Tn.map(ui,function(Ii){return Ii==null?"":Ii+""})),qn=Tn.valHooks[this.type]||Tn.valHooks[this.nodeName.toLowerCase()],(!qn||!("set"in qn)||qn.set(this,ui,"value")===void 0)&&(this.value=ui))})):ei?(qn=Tn.valHooks[ei.type]||Tn.valHooks[ei.nodeName.toLowerCase()],qn&&"get"in qn&&(Fr=qn.get(ei,"value"))!==void 0?Fr:(Fr=ei.value,typeof Fr=="string"?Fr.replace(Cs,""):Fr??"")):void 0}}),Tn.extend({valHooks:{option:{get:function(zn){var qn=Tn.find.attr(zn,"value");return qn??wa(Tn.text(zn))}},select:{get:function(zn){var qn,Fr,Ur,ei=zn.options,ni=zn.selectedIndex,ui=zn.type==="select-one",Ii=ui?null:[],xi=ui?ni+1:ei.length;for(ni<0?Ur=xi:Ur=ui?ni:0;Ur<xi;Ur++)if(Fr=ei[Ur],(Fr.selected||Ur===ni)&&!Fr.disabled&&(!Fr.parentNode.disabled||!Hn(Fr.parentNode,"optgroup"))){if(qn=Tn(Fr).val(),ui)return qn;Ii.push(qn)}return Ii},set:function(zn,qn){for(var Fr,Ur,ei=zn.options,ni=Tn.makeArray(qn),ui=ei.length;ui--;)Ur=ei[ui],(Ur.selected=Tn.inArray(Tn.valHooks.option.get(Ur),ni)>-1)&&(Fr=!0);return Fr||(zn.selectedIndex=-1),ni}}}}),Tn.each(["radio","checkbox"],function(){Tn.valHooks[this]={set:function(zn,qn){if(Array.isArray(qn))return zn.checked=Tn.inArray(Tn(zn).val(),qn)>-1}},_n.checkOn||(Tn.valHooks[this].get=function(zn){return zn.getAttribute("value")===null?"on":zn.value})});var Ka=en.location,ms={guid:Date.now()},va=/\?/;Tn.parseXML=function(zn){var qn,Fr;if(!zn||typeof zn!="string")return null;try{qn=new en.DOMParser().parseFromString(zn,"text/xml")}catch{}return Fr=qn&&qn.getElementsByTagName("parsererror")[0],(!qn||Fr)&&Tn.error("Invalid XML: "+(Fr?Tn.map(Fr.childNodes,function(Ur){return Ur.textContent}).join(`
`):zn)),qn};var Na=/^(?:focusinfocus|focusoutblur)$/,La=function(zn){zn.stopPropagation()};Tn.extend(Tn.event,{trigger:function(zn,qn,Fr,Ur){var ei,ni,ui,Ii,xi,Fi,no,uo,Ki=[Fr||xn],_o=pn.call(zn,"type")?zn.type:zn,ba=pn.call(zn,"namespace")?zn.namespace.split("."):[];if(ni=uo=ui=Fr=Fr||xn,!(Fr.nodeType===3||Fr.nodeType===8)&&!Na.test(_o+Tn.event.triggered)&&(_o.indexOf(".")>-1&&(ba=_o.split("."),_o=ba.shift(),ba.sort()),xi=_o.indexOf(":")<0&&"on"+_o,zn=zn[Tn.expando]?zn:new Tn.Event(_o,typeof zn=="object"&&zn),zn.isTrigger=Ur?2:3,zn.namespace=ba.join("."),zn.rnamespace=zn.namespace?new RegExp("(^|\\.)"+ba.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,zn.result=void 0,zn.target||(zn.target=Fr),qn=qn==null?[zn]:Tn.makeArray(qn,[zn]),no=Tn.event.special[_o]||{},!(!Ur&&no.trigger&&no.trigger.apply(Fr,qn)===!1))){if(!Ur&&!no.noBubble&&!Cn(Fr)){for(Ii=no.delegateType||_o,Na.test(Ii+_o)||(ni=ni.parentNode);ni;ni=ni.parentNode)Ki.push(ni),ui=ni;ui===(Fr.ownerDocument||xn)&&Ki.push(ui.defaultView||ui.parentWindow||en)}for(ei=0;(ni=Ki[ei++])&&!zn.isPropagationStopped();)uo=ni,zn.type=ei>1?Ii:no.bindType||_o,Fi=(gi.get(ni,"events")||Object.create(null))[zn.type]&&gi.get(ni,"handle"),Fi&&Fi.apply(ni,qn),Fi=xi&&ni[xi],Fi&&Fi.apply&&Oo(ni)&&(zn.result=Fi.apply(ni,qn),zn.result===!1&&zn.preventDefault());return zn.type=_o,!Ur&&!zn.isDefaultPrevented()&&(!no._default||no._default.apply(Ki.pop(),qn)===!1)&&Oo(Fr)&&xi&&kn(Fr[_o])&&!Cn(Fr)&&(ui=Fr[xi],ui&&(Fr[xi]=null),Tn.event.triggered=_o,zn.isPropagationStopped()&&uo.addEventListener(_o,La),Fr[_o](),zn.isPropagationStopped()&&uo.removeEventListener(_o,La),Tn.event.triggered=void 0,ui&&(Fr[xi]=ui)),zn.result}},simulate:function(zn,qn,Fr){var Ur=Tn.extend(new Tn.Event,Fr,{type:zn,isSimulated:!0});Tn.event.trigger(Ur,null,qn)}}),Tn.fn.extend({trigger:function(zn,qn){return this.each(function(){Tn.event.trigger(zn,qn,this)})},triggerHandler:function(zn,qn){var Fr=this[0];if(Fr)return Tn.event.trigger(zn,qn,Fr,!0)}});var _s=/\[\]$/,ts=/\r?\n/g,ps=/^(?:submit|button|image|reset|file)$/i,Is=/^(?:input|select|textarea|keygen)/i;function xs(zn,qn,Fr,Ur){var ei;if(Array.isArray(qn))Tn.each(qn,function(ni,ui){Fr||_s.test(zn)?Ur(zn,ui):xs(zn+"["+(typeof ui=="object"&&ui!=null?ni:"")+"]",ui,Fr,Ur)});else if(!Fr&&In(qn)==="object")for(ei in qn)xs(zn+"["+ei+"]",qn[ei],Fr,Ur);else Ur(zn,qn)}Tn.param=function(zn,qn){var Fr,Ur=[],ei=function(ni,ui){var Ii=kn(ui)?ui():ui;Ur[Ur.length]=encodeURIComponent(ni)+"="+encodeURIComponent(Ii??"")};if(zn==null)return"";if(Array.isArray(zn)||zn.jquery&&!Tn.isPlainObject(zn))Tn.each(zn,function(){ei(this.name,this.value)});else for(Fr in zn)xs(Fr,zn[Fr],qn,ei);return Ur.join("&")},Tn.fn.extend({serialize:function(){return Tn.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var zn=Tn.prop(this,"elements");return zn?Tn.makeArray(zn):this}).filter(function(){var zn=this.type;return this.name&&!Tn(this).is(":disabled")&&Is.test(this.nodeName)&&!ps.test(zn)&&(this.checked||!Ms.test(zn))}).map(function(zn,qn){var Fr=Tn(this).val();return Fr==null?null:Array.isArray(Fr)?Tn.map(Fr,function(Ur){return{name:qn.name,value:Ur.replace(ts,`\r
`)}}):{name:qn.name,value:Fr.replace(ts,`\r
`)}}).get()}});var Cl=/%20/g,ol=/#.*$/,Ll=/([?&])_=[^&]*/,tc=/^(.*?):[ \t]*([^\r\n]*)$/mg,nc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qs=/^(?:GET|HEAD)$/,Ec=/^\/\//,yl={},xl={},ns="*/".concat("*"),Ji=xn.createElement("a");Ji.href=Ka.href;function Ko(zn){return function(qn,Fr){typeof qn!="string"&&(Fr=qn,qn="*");var Ur,ei=0,ni=qn.toLowerCase().match(Pi)||[];if(kn(Fr))for(;Ur=ni[ei++];)Ur[0]==="+"?(Ur=Ur.slice(1)||"*",(zn[Ur]=zn[Ur]||[]).unshift(Fr)):(zn[Ur]=zn[Ur]||[]).push(Fr)}}function na(zn,qn,Fr,Ur){var ei={},ni=zn===xl;function ui(Ii){var xi;return ei[Ii]=!0,Tn.each(zn[Ii]||[],function(Fi,no){var uo=no(qn,Fr,Ur);if(typeof uo=="string"&&!ni&&!ei[uo])return qn.dataTypes.unshift(uo),ui(uo),!1;if(ni)return!(xi=uo)}),xi}return ui(qn.dataTypes[0])||!ei["*"]&&ui("*")}function pa(zn,qn){var Fr,Ur,ei=Tn.ajaxSettings.flatOptions||{};for(Fr in qn)qn[Fr]!==void 0&&((ei[Fr]?zn:Ur||(Ur={}))[Fr]=qn[Fr]);return Ur&&Tn.extend(!0,zn,Ur),zn}function Pa(zn,qn,Fr){for(var Ur,ei,ni,ui,Ii=zn.contents,xi=zn.dataTypes;xi[0]==="*";)xi.shift(),Ur===void 0&&(Ur=zn.mimeType||qn.getResponseHeader("Content-Type"));if(Ur){for(ei in Ii)if(Ii[ei]&&Ii[ei].test(Ur)){xi.unshift(ei);break}}if(xi[0]in Fr)ni=xi[0];else{for(ei in Fr){if(!xi[0]||zn.converters[ei+" "+xi[0]]){ni=ei;break}ui||(ui=ei)}ni=ni||ui}if(ni)return ni!==xi[0]&&xi.unshift(ni),Fr[ni]}function Za(zn,qn,Fr,Ur){var ei,ni,ui,Ii,xi,Fi={},no=zn.dataTypes.slice();if(no[1])for(ui in zn.converters)Fi[ui.toLowerCase()]=zn.converters[ui];for(ni=no.shift();ni;)if(zn.responseFields[ni]&&(Fr[zn.responseFields[ni]]=qn),!xi&&Ur&&zn.dataFilter&&(qn=zn.dataFilter(qn,zn.dataType)),xi=ni,ni=no.shift(),ni){if(ni==="*")ni=xi;else if(xi!=="*"&&xi!==ni){if(ui=Fi[xi+" "+ni]||Fi["* "+ni],!ui){for(ei in Fi)if(Ii=ei.split(" "),Ii[1]===ni&&(ui=Fi[xi+" "+Ii[0]]||Fi["* "+Ii[0]],ui)){ui===!0?ui=Fi[ei]:Fi[ei]!==!0&&(ni=Ii[0],no.unshift(Ii[1]));break}}if(ui!==!0)if(ui&&zn.throws)qn=ui(qn);else try{qn=ui(qn)}catch(uo){return{state:"parsererror",error:ui?uo:"No conversion from "+xi+" to "+ni}}}}return{state:"success",data:qn}}Tn.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ka.href,type:"GET",isLocal:nc.test(Ka.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ns,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Tn.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(zn,qn){return qn?pa(pa(zn,Tn.ajaxSettings),qn):pa(Tn.ajaxSettings,zn)},ajaxPrefilter:Ko(yl),ajaxTransport:Ko(xl),ajax:function(zn,qn){typeof zn=="object"&&(qn=zn,zn=void 0),qn=qn||{};var Fr,Ur,ei,ni,ui,Ii,xi,Fi,no,uo,Ki=Tn.ajaxSetup({},qn),_o=Ki.context||Ki,ba=Ki.context&&(_o.nodeType||_o.jquery)?Tn(_o):Tn.event,Wa=Tn.Deferred(),xa=Tn.Callbacks("once memory"),Ss=Ki.statusCode||{},tl={},Yl={},Gl="canceled",$a={readyState:0,getResponseHeader:function(Qa){var Ps;if(xi){if(!ni)for(ni={};Ps=tc.exec(ei);)ni[Ps[1].toLowerCase()+" "]=(ni[Ps[1].toLowerCase()+" "]||[]).concat(Ps[2]);Ps=ni[Qa.toLowerCase()+" "]}return Ps==null?null:Ps.join(", ")},getAllResponseHeaders:function(){return xi?ei:null},setRequestHeader:function(Qa,Ps){return xi==null&&(Qa=Yl[Qa.toLowerCase()]=Yl[Qa.toLowerCase()]||Qa,tl[Qa]=Ps),this},overrideMimeType:function(Qa){return xi==null&&(Ki.mimeType=Qa),this},statusCode:function(Qa){var Ps;if(Qa)if(xi)$a.always(Qa[$a.status]);else for(Ps in Qa)Ss[Ps]=[Ss[Ps],Qa[Ps]];return this},abort:function(Qa){var Ps=Qa||Gl;return Fr&&Fr.abort(Ps),ws(0,Ps),this}};if(Wa.promise($a),Ki.url=((zn||Ki.url||Ka.href)+"").replace(Ec,Ka.protocol+"//"),Ki.type=qn.method||qn.type||Ki.method||Ki.type,Ki.dataTypes=(Ki.dataType||"*").toLowerCase().match(Pi)||[""],Ki.crossDomain==null){Ii=xn.createElement("a");try{Ii.href=Ki.url,Ii.href=Ii.href,Ki.crossDomain=Ji.protocol+"//"+Ji.host!=Ii.protocol+"//"+Ii.host}catch{Ki.crossDomain=!0}}if(Ki.data&&Ki.processData&&typeof Ki.data!="string"&&(Ki.data=Tn.param(Ki.data,Ki.traditional)),na(yl,Ki,qn,$a),xi)return $a;Fi=Tn.event&&Ki.global,Fi&&Tn.active++===0&&Tn.event.trigger("ajaxStart"),Ki.type=Ki.type.toUpperCase(),Ki.hasContent=!qs.test(Ki.type),Ur=Ki.url.replace(ol,""),Ki.hasContent?Ki.data&&Ki.processData&&(Ki.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ki.data=Ki.data.replace(Cl,"+")):(uo=Ki.url.slice(Ur.length),Ki.data&&(Ki.processData||typeof Ki.data=="string")&&(Ur+=(va.test(Ur)?"&":"?")+Ki.data,delete Ki.data),Ki.cache===!1&&(Ur=Ur.replace(Ll,"$1"),uo=(va.test(Ur)?"&":"?")+"_="+ms.guid+++uo),Ki.url=Ur+uo),Ki.ifModified&&(Tn.lastModified[Ur]&&$a.setRequestHeader("If-Modified-Since",Tn.lastModified[Ur]),Tn.etag[Ur]&&$a.setRequestHeader("If-None-Match",Tn.etag[Ur])),(Ki.data&&Ki.hasContent&&Ki.contentType!==!1||qn.contentType)&&$a.setRequestHeader("Content-Type",Ki.contentType),$a.setRequestHeader("Accept",Ki.dataTypes[0]&&Ki.accepts[Ki.dataTypes[0]]?Ki.accepts[Ki.dataTypes[0]]+(Ki.dataTypes[0]!=="*"?", "+ns+"; q=0.01":""):Ki.accepts["*"]);for(no in Ki.headers)$a.setRequestHeader(no,Ki.headers[no]);if(Ki.beforeSend&&(Ki.beforeSend.call(_o,$a,Ki)===!1||xi))return $a.abort();if(Gl="abort",xa.add(Ki.complete),$a.done(Ki.success),$a.fail(Ki.error),Fr=na(xl,Ki,qn,$a),!Fr)ws(-1,"No Transport");else{if($a.readyState=1,Fi&&ba.trigger("ajaxSend",[$a,Ki]),xi)return $a;Ki.async&&Ki.timeout>0&&(ui=en.setTimeout(function(){$a.abort("timeout")},Ki.timeout));try{xi=!1,Fr.send(tl,ws)}catch(Qa){if(xi)throw Qa;ws(-1,Qa)}}function ws(Qa,Ps,rc,Yc){var Kl,Zl,Pl,ic,fc,Ol=Ps;xi||(xi=!0,ui&&en.clearTimeout(ui),Fr=void 0,ei=Yc||"",$a.readyState=Qa>0?4:0,Kl=Qa>=200&&Qa<300||Qa===304,rc&&(ic=Pa(Ki,$a,rc)),!Kl&&Tn.inArray("script",Ki.dataTypes)>-1&&Tn.inArray("json",Ki.dataTypes)<0&&(Ki.converters["text script"]=function(){}),ic=Za(Ki,ic,$a,Kl),Kl?(Ki.ifModified&&(fc=$a.getResponseHeader("Last-Modified"),fc&&(Tn.lastModified[Ur]=fc),fc=$a.getResponseHeader("etag"),fc&&(Tn.etag[Ur]=fc)),Qa===204||Ki.type==="HEAD"?Ol="nocontent":Qa===304?Ol="notmodified":(Ol=ic.state,Zl=ic.data,Pl=ic.error,Kl=!Pl)):(Pl=Ol,(Qa||!Ol)&&(Ol="error",Qa<0&&(Qa=0))),$a.status=Qa,$a.statusText=(Ps||Ol)+"",Kl?Wa.resolveWith(_o,[Zl,Ol,$a]):Wa.rejectWith(_o,[$a,Ol,Pl]),$a.statusCode(Ss),Ss=void 0,Fi&&ba.trigger(Kl?"ajaxSuccess":"ajaxError",[$a,Ki,Kl?Zl:Pl]),xa.fireWith(_o,[$a,Ol]),Fi&&(ba.trigger("ajaxComplete",[$a,Ki]),--Tn.active||Tn.event.trigger("ajaxStop")))}return $a},getJSON:function(zn,qn,Fr){return Tn.get(zn,qn,Fr,"json")},getScript:function(zn,qn){return Tn.get(zn,void 0,qn,"script")}}),Tn.each(["get","post"],function(zn,qn){Tn[qn]=function(Fr,Ur,ei,ni){return kn(Ur)&&(ni=ni||ei,ei=Ur,Ur=void 0),Tn.ajax(Tn.extend({url:Fr,type:qn,dataType:ni,data:Ur,success:ei},Tn.isPlainObject(Fr)&&Fr))}}),Tn.ajaxPrefilter(function(zn){var qn;for(qn in zn.headers)qn.toLowerCase()==="content-type"&&(zn.contentType=zn.headers[qn]||"")}),Tn._evalUrl=function(zn,qn,Fr){return Tn.ajax({url:zn,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Ur){Tn.globalEval(Ur,qn,Fr)}})},Tn.fn.extend({wrapAll:function(zn){var qn;return this[0]&&(kn(zn)&&(zn=zn.call(this[0])),qn=Tn(zn,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&qn.insertBefore(this[0]),qn.map(function(){for(var Fr=this;Fr.firstElementChild;)Fr=Fr.firstElementChild;return Fr}).append(this)),this},wrapInner:function(zn){return kn(zn)?this.each(function(qn){Tn(this).wrapInner(zn.call(this,qn))}):this.each(function(){var qn=Tn(this),Fr=qn.contents();Fr.length?Fr.wrapAll(zn):qn.append(zn)})},wrap:function(zn){var qn=kn(zn);return this.each(function(Fr){Tn(this).wrapAll(qn?zn.call(this,Fr):zn)})},unwrap:function(zn){return this.parent(zn).not("body").each(function(){Tn(this).replaceWith(this.childNodes)}),this}}),Tn.expr.pseudos.hidden=function(zn){return!Tn.expr.pseudos.visible(zn)},Tn.expr.pseudos.visible=function(zn){return!!(zn.offsetWidth||zn.offsetHeight||zn.getClientRects().length)},Tn.ajaxSettings.xhr=function(){try{return new en.XMLHttpRequest}catch{}};var zs={0:200,1223:204},el=Tn.ajaxSettings.xhr();_n.cors=!!el&&"withCredentials"in el,_n.ajax=el=!!el,Tn.ajaxTransport(function(zn){var qn,Fr;if(_n.cors||el&&!zn.crossDomain)return{send:function(Ur,ei){var ni,ui=zn.xhr();if(ui.open(zn.type,zn.url,zn.async,zn.username,zn.password),zn.xhrFields)for(ni in zn.xhrFields)ui[ni]=zn.xhrFields[ni];zn.mimeType&&ui.overrideMimeType&&ui.overrideMimeType(zn.mimeType),!zn.crossDomain&&!Ur["X-Requested-With"]&&(Ur["X-Requested-With"]="XMLHttpRequest");for(ni in Ur)ui.setRequestHeader(ni,Ur[ni]);qn=function(Ii){return function(){qn&&(qn=Fr=ui.onload=ui.onerror=ui.onabort=ui.ontimeout=ui.onreadystatechange=null,Ii==="abort"?ui.abort():Ii==="error"?typeof ui.status!="number"?ei(0,"error"):ei(ui.status,ui.statusText):ei(zs[ui.status]||ui.status,ui.statusText,(ui.responseType||"text")!=="text"||typeof ui.responseText!="string"?{binary:ui.response}:{text:ui.responseText},ui.getAllResponseHeaders()))}},ui.onload=qn(),Fr=ui.onerror=ui.ontimeout=qn("error"),ui.onabort!==void 0?ui.onabort=Fr:ui.onreadystatechange=function(){ui.readyState===4&&en.setTimeout(function(){qn&&Fr()})},qn=qn("abort");try{ui.send(zn.hasContent&&zn.data||null)}catch(Ii){if(qn)throw Ii}},abort:function(){qn&&qn()}}}),Tn.ajaxPrefilter(function(zn){zn.crossDomain&&(zn.contents.script=!1)}),Tn.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(zn){return Tn.globalEval(zn),zn}}}),Tn.ajaxPrefilter("script",function(zn){zn.cache===void 0&&(zn.cache=!1),zn.crossDomain&&(zn.type="GET")}),Tn.ajaxTransport("script",function(zn){if(zn.crossDomain||zn.scriptAttrs){var qn,Fr;return{send:function(Ur,ei){qn=Tn("<script>").attr(zn.scriptAttrs||{}).prop({charset:zn.scriptCharset,src:zn.url}).on("load error",Fr=function(ni){qn.remove(),Fr=null,ni&&ei(ni.type==="error"?404:200,ni.type)}),xn.head.appendChild(qn[0])},abort:function(){Fr&&Fr()}}}});var Sl=[],bl=/(=)\?(?=&|$)|\?\?/;Tn.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var zn=Sl.pop()||Tn.expando+"_"+ms.guid++;return this[zn]=!0,zn}}),Tn.ajaxPrefilter("json jsonp",function(zn,qn,Fr){var Ur,ei,ni,ui=zn.jsonp!==!1&&(bl.test(zn.url)?"url":typeof zn.data=="string"&&(zn.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&bl.test(zn.data)&&"data");if(ui||zn.dataTypes[0]==="jsonp")return Ur=zn.jsonpCallback=kn(zn.jsonpCallback)?zn.jsonpCallback():zn.jsonpCallback,ui?zn[ui]=zn[ui].replace(bl,"$1"+Ur):zn.jsonp!==!1&&(zn.url+=(va.test(zn.url)?"&":"?")+zn.jsonp+"="+Ur),zn.converters["script json"]=function(){return ni||Tn.error(Ur+" was not called"),ni[0]},zn.dataTypes[0]="json",ei=en[Ur],en[Ur]=function(){ni=arguments},Fr.always(function(){ei===void 0?Tn(en).removeProp(Ur):en[Ur]=ei,zn[Ur]&&(zn.jsonpCallback=qn.jsonpCallback,Sl.push(Ur)),ni&&kn(ei)&&ei(ni[0]),ni=ei=void 0}),"script"}),_n.createHTMLDocument=function(){var zn=xn.implementation.createHTMLDocument("").body;return zn.innerHTML="<form></form><form></form>",zn.childNodes.length===2}(),Tn.parseHTML=function(zn,qn,Fr){if(typeof zn!="string")return[];typeof qn=="boolean"&&(Fr=qn,qn=!1);var Ur,ei,ni;return qn||(_n.createHTMLDocument?(qn=xn.implementation.createHTMLDocument(""),Ur=qn.createElement("base"),Ur.href=xn.location.href,qn.head.appendChild(Ur)):qn=xn),ei=Br.exec(zn),ni=!Fr&&[],ei?[qn.createElement(ei[1])]:(ei=us([zn],qn,ni),ni&&ni.length&&Tn(ni).remove(),Tn.merge([],ei.childNodes))},Tn.fn.load=function(zn,qn,Fr){var Ur,ei,ni,ui=this,Ii=zn.indexOf(" ");return Ii>-1&&(Ur=wa(zn.slice(Ii)),zn=zn.slice(0,Ii)),kn(qn)?(Fr=qn,qn=void 0):qn&&typeof qn=="object"&&(ei="POST"),ui.length>0&&Tn.ajax({url:zn,type:ei||"GET",dataType:"html",data:qn}).done(function(xi){ni=arguments,ui.html(Ur?Tn("<div>").append(Tn.parseHTML(xi)).find(Ur):xi)}).always(Fr&&function(xi,Fi){ui.each(function(){Fr.apply(this,ni||[xi.responseText,Fi,xi])})}),this},Tn.expr.pseudos.animated=function(zn){return Tn.grep(Tn.timers,function(qn){return zn===qn.elem}).length},Tn.offset={setOffset:function(zn,qn,Fr){var Ur,ei,ni,ui,Ii,xi,Fi,no=Tn.css(zn,"position"),uo=Tn(zn),Ki={};no==="static"&&(zn.style.position="relative"),Ii=uo.offset(),ni=Tn.css(zn,"top"),xi=Tn.css(zn,"left"),Fi=(no==="absolute"||no==="fixed")&&(ni+xi).indexOf("auto")>-1,Fi?(Ur=uo.position(),ui=Ur.top,ei=Ur.left):(ui=parseFloat(ni)||0,ei=parseFloat(xi)||0),kn(qn)&&(qn=qn.call(zn,Fr,Tn.extend({},Ii))),qn.top!=null&&(Ki.top=qn.top-Ii.top+ui),qn.left!=null&&(Ki.left=qn.left-Ii.left+ei),"using"in qn?qn.using.call(zn,Ki):uo.css(Ki)}},Tn.fn.extend({offset:function(zn){if(arguments.length)return zn===void 0?this:this.each(function(ei){Tn.offset.setOffset(this,zn,ei)});var qn,Fr,Ur=this[0];if(Ur)return Ur.getClientRects().length?(qn=Ur.getBoundingClientRect(),Fr=Ur.ownerDocument.defaultView,{top:qn.top+Fr.pageYOffset,left:qn.left+Fr.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var zn,qn,Fr,Ur=this[0],ei={top:0,left:0};if(Tn.css(Ur,"position")==="fixed")qn=Ur.getBoundingClientRect();else{for(qn=this.offset(),Fr=Ur.ownerDocument,zn=Ur.offsetParent||Fr.documentElement;zn&&(zn===Fr.body||zn===Fr.documentElement)&&Tn.css(zn,"position")==="static";)zn=zn.parentNode;zn&&zn!==Ur&&zn.nodeType===1&&(ei=Tn(zn).offset(),ei.top+=Tn.css(zn,"borderTopWidth",!0),ei.left+=Tn.css(zn,"borderLeftWidth",!0))}return{top:qn.top-ei.top-Tn.css(Ur,"marginTop",!0),left:qn.left-ei.left-Tn.css(Ur,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var zn=this.offsetParent;zn&&Tn.css(zn,"position")==="static";)zn=zn.offsetParent;return zn||bo})}}),Tn.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(zn,qn){var Fr=qn==="pageYOffset";Tn.fn[zn]=function(Ur){return Oi(this,function(ei,ni,ui){var Ii;if(Cn(ei)?Ii=ei:ei.nodeType===9&&(Ii=ei.defaultView),ui===void 0)return Ii?Ii[qn]:ei[ni];Ii?Ii.scrollTo(Fr?Ii.pageXOffset:ui,Fr?ui:Ii.pageYOffset):ei[ni]=ui},zn,Ur,arguments.length)}}),Tn.each(["top","left"],function(zn,qn){Tn.cssHooks[qn]=oa(_n.pixelPosition,function(Fr,Ur){if(Ur)return Ur=ca(Fr,qn),ss.test(Ur)?Tn(Fr).position()[qn]+"px":Ur})}),Tn.each({Height:"height",Width:"width"},function(zn,qn){Tn.each({padding:"inner"+zn,content:qn,"":"outer"+zn},function(Fr,Ur){Tn.fn[Ur]=function(ei,ni){var ui=arguments.length&&(Fr||typeof ei!="boolean"),Ii=Fr||(ei===!0||ni===!0?"margin":"border");return Oi(this,function(xi,Fi,no){var uo;return Cn(xi)?Ur.indexOf("outer")===0?xi["inner"+zn]:xi.document.documentElement["client"+zn]:xi.nodeType===9?(uo=xi.documentElement,Math.max(xi.body["scroll"+zn],uo["scroll"+zn],xi.body["offset"+zn],uo["offset"+zn],uo["client"+zn])):no===void 0?Tn.css(xi,Fi,Ii):Tn.style(xi,Fi,no,Ii)},qn,ui?ei:void 0,ui)}})}),Tn.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(zn,qn){Tn.fn[qn]=function(Fr){return this.on(qn,Fr)}}),Tn.fn.extend({bind:function(zn,qn,Fr){return this.on(zn,null,qn,Fr)},unbind:function(zn,qn){return this.off(zn,null,qn)},delegate:function(zn,qn,Fr,Ur){return this.on(qn,zn,Fr,Ur)},undelegate:function(zn,qn,Fr){return arguments.length===1?this.off(zn,"**"):this.off(qn,zn||"**",Fr)},hover:function(zn,qn){return this.on("mouseenter",zn).on("mouseleave",qn||zn)}}),Tn.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(zn,qn){Tn.fn[qn]=function(Fr,Ur){return arguments.length>0?this.on(qn,null,Fr,Ur):this.trigger(qn)}});var El=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;Tn.proxy=function(zn,qn){var Fr,Ur,ei;if(typeof qn=="string"&&(Fr=zn[qn],qn=zn,zn=Fr),!!kn(zn))return Ur=an.call(arguments,2),ei=function(){return zn.apply(qn||this,Ur.concat(an.call(arguments)))},ei.guid=zn.guid=zn.guid||Tn.guid++,ei},Tn.holdReady=function(zn){zn?Tn.readyWait++:Tn.ready(!0)},Tn.isArray=Array.isArray,Tn.parseJSON=JSON.parse,Tn.nodeName=Hn,Tn.isFunction=kn,Tn.isWindow=Cn,Tn.camelCase=ro,Tn.type=In,Tn.now=Date.now,Tn.isNumeric=function(zn){var qn=Tn.type(zn);return(qn==="number"||qn==="string")&&!isNaN(zn-parseFloat(zn))},Tn.trim=function(zn){return zn==null?"":(zn+"").replace(El,"$1")};var Ul=en.jQuery,al=en.$;return Tn.noConflict=function(zn){return en.$===Tn&&(en.$=al),zn&&en.jQuery===Tn&&(en.jQuery=Ul),Tn},typeof tn>"u"&&(en.jQuery=en.$=Tn),Tn})})(jquery);var jqueryExports=jquery.exports;const $$3=getDefaultExportFromCjs(jqueryExports);var intlTelInput$4={exports:{}};(function(Fe){(function(en){Fe.exports?Fe.exports=en():window.intlTelInput=en()})(function(en){return function(){for(var tn=[["Afghanistan (â«Ø§ÙØºØ§ÙØ³ØªØ§Ùâ¬â)","af","93"],["Albania (ShqipÃ«ri)","al","355"],["Algeria (â«Ø§ÙØ¬Ø²Ø§Ø¦Ø±â¬â)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (ÕÕ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶)","am","374"],["Aruba","aw","297"],["Ascension Island","ac","247"],["Australia","au","61",0],["Austria (Ãsterreich)","at","43"],["Azerbaijan (AzÉrbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (â«Ø§ÙØ¨Ø­Ø±ÙÙâ¬â)","bh","973"],["Bangladesh (à¦¬à¦¾à¦à¦²à¦¾à¦¦à§à¦¶)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (ÐÐµÐ»Ð°ÑÑÑÑ)","by","375"],["Belgium (BelgiÃ«)","be","32"],["Belize","bz","501"],["Benin (BÃ©nin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (à½ à½à¾²à½´à½)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (ÐÐ¾ÑÐ½Ð° Ð¸ Ð¥ÐµÑÑÐµÐ³Ð¾Ð²Ð¸Ð½Ð°)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (ÐÑÐ»Ð³Ð°ÑÐ¸Ñ)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (ááááá»áá¶)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","263","289","306","343","354","365","367","368","382","387","403","416","418","428","431","437","438","450","584","468","474","506","514","519","548","579","581","584","587","604","613","639","647","672","683","705","709","742","753","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (RÃ©publique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (ä¸­å½)","cn","86"],["Christmas Island","cx","61",2,["89164"]],["Cocos (Keeling) Islands","cc","61",1,["89162"]],["Colombia","co","57"],["Comoros (â«Ø¬Ø²Ø± Ø§ÙÙÙØ±â¬â)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["CÃ´te dâIvoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["CuraÃ§ao","cw","599",0],["Cyprus (ÎÏÏÏÎ¿Ï)","cy","357"],["Czech Republic (ÄeskÃ¡ republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (RepÃºblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (â«ÙØµØ±â¬â)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Eswatini","sz","268"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (FÃ¸royar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane franÃ§aise)","gf","594"],["French Polynesia (PolynÃ©sie franÃ§aise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (á¡áá¥áá ááááá)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (ÎÎ»Î»Î¬Î´Î±)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (GuinÃ©e)","gn","224"],["Guinea-Bissau (GuinÃ© Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (é¦æ¸¯)","hk","852"],["Hungary (MagyarorszÃ¡g)","hu","36"],["Iceland (Ãsland)","is","354"],["India (à¤­à¤¾à¤°à¤¤)","in","91"],["Indonesia","id","62"],["Iran (â«Ø§ÛØ±Ø§Ùâ¬â)","ir","98"],["Iraq (â«Ø§ÙØ¹Ø±Ø§Ùâ¬â)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (â«××©×¨××â¬â)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (æ¥æ¬)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (â«Ø§ÙØ£Ø±Ø¯Ùâ¬â)","jo","962"],["Kazakhstan (ÐÐ°Ð·Ð°ÑÑÑÐ°Ð½)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (â«Ø§ÙÙÙÙØªâ¬â)","kw","965"],["Kyrgyzstan (ÐÑÑÐ³ÑÐ·ÑÑÐ°Ð½)","kg","996"],["Laos (àº¥àº²àº§)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (â«ÙØ¨ÙØ§Ùâ¬â)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (â«ÙÙØ¨ÙØ§â¬â)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (æ¾³é)","mo","853"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (â«ÙÙØ±ÙØªØ§ÙÙØ§â¬â)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (MÃ©xico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (ÐÐ¾Ð½Ð³Ð¾Ð»)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (â«Ø§ÙÙØºØ±Ø¨â¬â)","ma","212",0],["Mozambique (MoÃ§ambique)","mz","258"],["Myanmar (Burma) (áá¼ááºáá¬)","mm","95"],["Namibia (NamibiÃ«)","na","264"],["Nauru","nr","674"],["Nepal (à¤¨à¥à¤ªà¤¾à¤²)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-CalÃ©donie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (ì¡°ì  ë¯¼ì£¼ì£¼ì ì¸ë¯¼ ê³µíêµ­)","kp","850"],["North Macedonia (Ð¡ÐµÐ²ÐµÑÐ½Ð° ÐÐ°ÐºÐµÐ´Ð¾Ð½Ð¸ÑÐ°)","mk","389"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (â«Ø¹ÙÙØ§Ùâ¬â)","om","968"],["Pakistan (â«Ù¾Ø§Ú©Ø³ØªØ§Ùâ¬â)","pk","92"],["Palau","pw","680"],["Palestine (â«ÙÙØ³Ø·ÙÙâ¬â)","ps","970"],["Panama (PanamÃ¡)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (PerÃº)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (â«ÙØ·Ø±â¬â)","qa","974"],["RÃ©union (La RÃ©union)","re","262",0],["Romania (RomÃ¢nia)","ro","40"],["Russia (Ð Ð¾ÑÑÐ¸Ñ)","ru","7",0],["Rwanda","rw","250"],["Saint BarthÃ©lemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie franÃ§aise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["SÃ£o TomÃ© and PrÃ­ncipe (SÃ£o TomÃ© e PrÃ­ncipe)","st","239"],["Saudi Arabia (â«Ø§ÙÙÙÙÙØ© Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙØ³Ø¹ÙØ¯ÙØ©â¬â)","sa","966"],["Senegal (SÃ©nÃ©gal)","sn","221"],["Serbia (Ð¡ÑÐ±Ð¸ÑÐ°)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (ëíë¯¼êµ­)","kr","82"],["South Sudan (â«Ø¬ÙÙØ¨ Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)","ss","211"],["Spain (EspaÃ±a)","es","34"],["Sri Lanka (à·à·âà¶»à· à¶½à¶à¶à·à·)","lk","94"],["Sudan (â«Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (â«Ø³ÙØ±ÙØ§â¬â)","sy","963"],["Taiwan (å°ç£)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (à¹à¸à¸¢)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (â«ØªÙÙØ³â¬â)","tn","216"],["Turkey (TÃ¼rkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (Ð£ÐºÑÐ°ÑÐ½Ð°)","ua","380"],["United Arab Emirates (â«Ø§ÙØ¥ÙØ§Ø±Ø§Øª Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙÙØªØ­Ø¯Ø©â¬â)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (OÊ»zbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (CittÃ  del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Viá»t Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (â«Ø§ÙØµØ­Ø±Ø§Ø¡ Ø§ÙØºØ±Ø¨ÙØ©â¬â)","eh","212",1,["5288","5289"]],["Yemen (â«Ø§ÙÙÙÙâ¬â)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Ãland Islands","ax","358",1,["18"]]],nn=0;nn<tn.length;nn++){var rn=tn[nn];tn[nn]={name:rn[0],iso2:rn[1],dialCode:rn[2],priority:rn[3]||0,areaCodes:rn[4]||null}}function an(In){for(var On=1;On<arguments.length;On++){var Pn=arguments[On]!=null?Object(arguments[On]):{},Tn=Object.keys(Pn);typeof Object.getOwnPropertySymbols=="function"&&Tn.push.apply(Tn,Object.getOwnPropertySymbols(Pn).filter(function(Nn){return Object.getOwnPropertyDescriptor(Pn,Nn).enumerable})),Tn.forEach(function(Nn){ln(In,Nn,Pn[Nn])})}return In}function ln(In,On,Pn){return On=hn(On),On in In?Object.defineProperty(In,On,{value:Pn,enumerable:!0,configurable:!0,writable:!0}):In[On]=Pn,In}function cn(In,On){if(!(In instanceof On))throw new TypeError("Cannot call a class as a function")}function un(In,On){for(var Pn=0;Pn<On.length;Pn++){var Tn=On[Pn];Tn.enumerable=Tn.enumerable||!1,Tn.configurable=!0,"value"in Tn&&(Tn.writable=!0),Object.defineProperty(In,hn(Tn.key),Tn)}}function fn(In,On,Pn){return On&&un(In.prototype,On),Pn&&un(In,Pn),Object.defineProperty(In,"prototype",{writable:!1}),In}function hn(In){var On=pn(In,"string");return typeof On=="symbol"?On:String(On)}function pn(In,On){if(typeof In!="object"||In===null)return In;var Pn=In[Symbol.toPrimitive];if(Pn!==en){var Tn=Pn.call(In,On||"default");if(typeof Tn!="object")return Tn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(On==="string"?String:Number)(In)}var gn={getInstance:function(On){var Pn=On.getAttribute("data-intl-tel-input-id");return window.intlTelInputGlobals.instances[Pn]},instances:{},documentReady:function(){return document.readyState==="complete"}};typeof window=="object"&&(window.intlTelInputGlobals=gn);var mn=0,_n={allowDropdown:!0,autoInsertDialCode:!1,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,showFlags:!0,utilsScript:""},kn=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"],Cn=function(On,Pn){for(var Tn=Object.keys(On),Nn=0;Nn<Tn.length;Nn++)Pn(Tn[Nn],On[Tn[Nn]])},xn=function(On){Cn(window.intlTelInputGlobals.instances,function(Pn){window.intlTelInputGlobals.instances[Pn][On]()})},Sn=function(){function In(On,Pn){var Tn=this;cn(this,In),this.id=mn++,this.telInput=On,this.activeItem=null,this.highlightedItem=null;var Nn=Pn||{};this.options={},Cn(_n,function(Hn,Un){Tn.options[Hn]=Nn.hasOwnProperty(Hn)?Nn[Hn]:Un}),this.hadInitialPlaceholder=!!On.getAttribute("placeholder")}return fn(In,[{key:"_init",value:function(){var Pn=this;this.options.nationalMode&&(this.options.autoInsertDialCode=!1),this.options.separateDialCode&&(this.options.autoInsertDialCode=!1);var Tn=this.options.allowDropdown&&!this.options.separateDialCode;if(!this.options.showFlags&&Tn&&(this.options.showFlags=!0),this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobile&&(document.body.classList.add("iti-mobile"),this.options.dropdownContainer||(this.options.dropdownContainer=document.body)),this.isRTL=!!this.telInput.closest("[dir=rtl]"),typeof Promise<"u"){var Nn=new Promise(function(Un,jn){Pn.resolveAutoCountryPromise=Un,Pn.rejectAutoCountryPromise=jn}),Hn=new Promise(function(Un,jn){Pn.resolveUtilsScriptPromise=Un,Pn.rejectUtilsScriptPromise=jn});this.promise=Promise.all([Nn,Hn])}else this.resolveAutoCountryPromise=this.rejectAutoCountryPromise=function(){},this.resolveUtilsScriptPromise=this.rejectUtilsScriptPromise=function(){};this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}},{key:"_processCountryData",value:function(){this._processAllCountries(),this._processCountryCodes(),this._processPreferredCountries(),this.options.localizedCountries&&this._translateCountriesByLocale(),(this.options.onlyCountries.length||this.options.localizedCountries)&&this.countries.sort(this._countryNameSort)}},{key:"_addCountryCode",value:function(Pn,Tn,Nn){Tn.length>this.countryCodeMaxLen&&(this.countryCodeMaxLen=Tn.length),this.countryCodes.hasOwnProperty(Tn)||(this.countryCodes[Tn]=[]);for(var Hn=0;Hn<this.countryCodes[Tn].length;Hn++)if(this.countryCodes[Tn][Hn]===Pn)return;var Un=Nn!==en?Nn:this.countryCodes[Tn].length;this.countryCodes[Tn][Un]=Pn}},{key:"_processAllCountries",value:function(){if(this.options.onlyCountries.length){var Pn=this.options.onlyCountries.map(function(Nn){return Nn.toLowerCase()});this.countries=tn.filter(function(Nn){return Pn.indexOf(Nn.iso2)>-1})}else if(this.options.excludeCountries.length){var Tn=this.options.excludeCountries.map(function(Nn){return Nn.toLowerCase()});this.countries=tn.filter(function(Nn){return Tn.indexOf(Nn.iso2)===-1})}else this.countries=tn}},{key:"_translateCountriesByLocale",value:function(){for(var Pn=0;Pn<this.countries.length;Pn++){var Tn=this.countries[Pn].iso2.toLowerCase();this.options.localizedCountries.hasOwnProperty(Tn)&&(this.countries[Pn].name=this.options.localizedCountries[Tn])}}},{key:"_countryNameSort",value:function(Pn,Tn){return Pn.name<Tn.name?-1:Pn.name>Tn.name?1:0}},{key:"_processCountryCodes",value:function(){this.countryCodeMaxLen=0,this.dialCodes={},this.countryCodes={};for(var Pn=0;Pn<this.countries.length;Pn++){var Tn=this.countries[Pn];this.dialCodes[Tn.dialCode]||(this.dialCodes[Tn.dialCode]=!0),this._addCountryCode(Tn.iso2,Tn.dialCode,Tn.priority)}for(var Nn=0;Nn<this.countries.length;Nn++){var Hn=this.countries[Nn];if(Hn.areaCodes)for(var Un=this.countryCodes[Hn.dialCode][0],jn=0;jn<Hn.areaCodes.length;jn++){for(var Yn=Hn.areaCodes[jn],Wn=1;Wn<Yn.length;Wn++){var Qn=Hn.dialCode+Yn.substr(0,Wn);this._addCountryCode(Un,Qn),this._addCountryCode(Hn.iso2,Qn)}this._addCountryCode(Hn.iso2,Hn.dialCode+Yn)}}}},{key:"_processPreferredCountries",value:function(){this.preferredCountries=[];for(var Pn=0;Pn<this.options.preferredCountries.length;Pn++){var Tn=this.options.preferredCountries[Pn].toLowerCase(),Nn=this._getCountryData(Tn,!1,!0);Nn&&this.preferredCountries.push(Nn)}}},{key:"_createEl",value:function(Pn,Tn,Nn){var Hn=document.createElement(Pn);return Tn&&Cn(Tn,function(Un,jn){return Hn.setAttribute(Un,jn)}),Nn&&Nn.appendChild(Hn),Hn}},{key:"_generateMarkup",value:function(){!this.telInput.hasAttribute("autocomplete")&&!(this.telInput.form&&this.telInput.form.hasAttribute("autocomplete"))&&this.telInput.setAttribute("autocomplete","off");var Pn=this.options,Tn=Pn.allowDropdown,Nn=Pn.separateDialCode,Hn=Pn.showFlags,Un=Pn.customContainer,jn=Pn.hiddenInput,Yn=Pn.dropdownContainer,Wn="iti";Tn&&(Wn+=" iti--allow-dropdown"),Nn&&(Wn+=" iti--separate-dial-code"),Hn&&(Wn+=" iti--show-flags"),Un&&(Wn+=" ".concat(Un));var Qn=this._createEl("div",{class:Wn});this.telInput.parentNode.insertBefore(Qn,this.telInput);var Xn=Tn||Hn||Nn;if(Xn&&(this.flagsContainer=this._createEl("div",{class:"iti__flag-container"},Qn)),Qn.appendChild(this.telInput),Xn&&(this.selectedFlag=this._createEl("div",an({class:"iti__selected-flag"},Tn&&{role:"combobox","aria-haspopup":"listbox","aria-controls":"iti-".concat(this.id,"__country-listbox"),"aria-expanded":"false","aria-label":"Telephone country code"}),this.flagsContainer)),Hn&&(this.selectedFlagInner=this._createEl("div",{class:"iti__flag"},this.selectedFlag)),this.selectedFlag&&this.telInput.disabled&&this.selectedFlag.setAttribute("aria-disabled","true"),Nn&&(this.selectedDialCode=this._createEl("div",{class:"iti__selected-dial-code"},this.selectedFlag)),Tn&&(this.telInput.disabled||this.selectedFlag.setAttribute("tabindex","0"),this.dropdownArrow=this._createEl("div",{class:"iti__arrow"},this.selectedFlag),this.countryList=this._createEl("ul",{class:"iti__country-list iti__hide",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox","aria-label":"List of countries"}),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"iti__preferred",!0),this._createEl("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.countryList)),this._appendListItems(this.countries,"iti__standard"),Yn?(this.dropdown=this._createEl("div",{class:"iti iti--container"}),this.dropdown.appendChild(this.countryList)):this.flagsContainer.appendChild(this.countryList)),jn){var jr=jn,Wr=this.telInput.getAttribute("name");if(Wr){var Jr=Wr.lastIndexOf("[");Jr!==-1&&(jr="".concat(Wr.substr(0,Jr),"[").concat(jr,"]"))}this.hiddenInput=this._createEl("input",{type:"hidden",name:jr}),Qn.appendChild(this.hiddenInput)}}},{key:"_appendListItems",value:function(Pn,Tn,Nn){for(var Hn="",Un=0;Un<Pn.length;Un++){var jn=Pn[Un],Yn=Nn?"-preferred":"";Hn+="<li class='iti__country ".concat(Tn,"' tabIndex='-1' id='iti-").concat(this.id,"__item-").concat(jn.iso2).concat(Yn,"' role='option' data-dial-code='").concat(jn.dialCode,"' data-country-code='").concat(jn.iso2,"' aria-selected='false'>"),this.options.showFlags&&(Hn+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(jn.iso2,"'></div></div>")),Hn+="<span class='iti__country-name'>".concat(jn.name,"</span>"),Hn+="<span class='iti__dial-code'>+".concat(jn.dialCode,"</span>"),Hn+="</li>"}this.countryList.insertAdjacentHTML("beforeend",Hn)}},{key:"_setInitialState",value:function(){var Pn=this.telInput.getAttribute("value"),Tn=this.telInput.value,Nn=Pn&&Pn.charAt(0)==="+"&&(!Tn||Tn.charAt(0)!=="+"),Hn=Nn?Pn:Tn,Un=this._getDialCode(Hn),jn=this._isRegionlessNanp(Hn),Yn=this.options,Wn=Yn.initialCountry,Qn=Yn.autoInsertDialCode;Un&&!jn?this._updateFlagFromNumber(Hn):Wn!=="auto"&&(Wn?this._setFlag(Wn.toLowerCase()):Un&&jn?this._setFlag("us"):(this.defaultCountry=this.preferredCountries.length?this.preferredCountries[0].iso2:this.countries[0].iso2,Hn||this._setFlag(this.defaultCountry)),!Hn&&Qn&&(this.telInput.value="+".concat(this.selectedCountryData.dialCode))),Hn&&this._updateValFromNumber(Hn)}},{key:"_initListeners",value:function(){this._initKeyListeners(),this.options.autoInsertDialCode&&this._initBlurListeners(),this.options.allowDropdown&&this._initDropdownListeners(),this.hiddenInput&&this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function(){var Pn=this;this._handleHiddenInputSubmit=function(){Pn.hiddenInput.value=Pn.getNumber()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_getClosestLabel",value:function(){for(var Pn=this.telInput;Pn&&Pn.tagName!=="LABEL";)Pn=Pn.parentNode;return Pn}},{key:"_initDropdownListeners",value:function(){var Pn=this;this._handleLabelClick=function(Nn){Pn.countryList.classList.contains("iti__hide")?Pn.telInput.focus():Nn.preventDefault()};var Tn=this._getClosestLabel();Tn&&Tn.addEventListener("click",this._handleLabelClick),this._handleClickSelectedFlag=function(){Pn.countryList.classList.contains("iti__hide")&&!Pn.telInput.disabled&&!Pn.telInput.readOnly&&Pn._showDropdown()},this.selectedFlag.addEventListener("click",this._handleClickSelectedFlag),this._handleFlagsContainerKeydown=function(Nn){var Hn=Pn.countryList.classList.contains("iti__hide");Hn&&["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(Nn.key)!==-1&&(Nn.preventDefault(),Nn.stopPropagation(),Pn._showDropdown()),Nn.key==="Tab"&&Pn._closeDropdown()},this.flagsContainer.addEventListener("keydown",this._handleFlagsContainerKeydown)}},{key:"_initRequests",value:function(){var Pn=this;this.options.utilsScript&&!window.intlTelInputUtils?window.intlTelInputGlobals.documentReady()?window.intlTelInputGlobals.loadUtils(this.options.utilsScript):window.addEventListener("load",function(){window.intlTelInputGlobals.loadUtils(Pn.options.utilsScript)}):this.resolveUtilsScriptPromise(),this.options.initialCountry==="auto"?this._loadAutoCountry():this.resolveAutoCountryPromise()}},{key:"_loadAutoCountry",value:function(){window.intlTelInputGlobals.autoCountry?this.handleAutoCountry():window.intlTelInputGlobals.startedLoadingAutoCountry||(window.intlTelInputGlobals.startedLoadingAutoCountry=!0,typeof this.options.geoIpLookup=="function"&&this.options.geoIpLookup(function(Pn){window.intlTelInputGlobals.autoCountry=Pn.toLowerCase(),setTimeout(function(){return xn("handleAutoCountry")})},function(){return xn("rejectAutoCountryPromise")}))}},{key:"_initKeyListeners",value:function(){var Pn=this;this._handleKeyupEvent=function(){Pn._updateFlagFromNumber(Pn.telInput.value)&&Pn._triggerCountryChange()},this.telInput.addEventListener("keyup",this._handleKeyupEvent),this._handleClipboardEvent=function(){setTimeout(Pn._handleKeyupEvent)},this.telInput.addEventListener("cut",this._handleClipboardEvent),this.telInput.addEventListener("paste",this._handleClipboardEvent)}},{key:"_cap",value:function(Pn){var Tn=this.telInput.getAttribute("maxlength");return Tn&&Pn.length>Tn?Pn.substr(0,Tn):Pn}},{key:"_initBlurListeners",value:function(){var Pn=this;this._handleSubmitOrBlurEvent=function(){Pn._removeEmptyDialCode()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.addEventListener("blur",this._handleSubmitOrBlurEvent)}},{key:"_removeEmptyDialCode",value:function(){if(this.telInput.value.charAt(0)==="+"){var Pn=this._getNumeric(this.telInput.value);(!Pn||this.selectedCountryData.dialCode===Pn)&&(this.telInput.value="")}}},{key:"_getNumeric",value:function(Pn){return Pn.replace(/\D/g,"")}},{key:"_trigger",value:function(Pn){var Tn=document.createEvent("Event");Tn.initEvent(Pn,!0,!0),this.telInput.dispatchEvent(Tn)}},{key:"_showDropdown",value:function(){this.countryList.classList.remove("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","true"),this._setDropdownPosition(),this.activeItem&&(this._highlightListItem(this.activeItem,!1),this._scrollTo(this.activeItem,!0)),this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}},{key:"_toggleClass",value:function(Pn,Tn,Nn){Nn&&!Pn.classList.contains(Tn)?Pn.classList.add(Tn):!Nn&&Pn.classList.contains(Tn)&&Pn.classList.remove(Tn)}},{key:"_setDropdownPosition",value:function(){var Pn=this;if(this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),!this.isMobile){var Tn=this.telInput.getBoundingClientRect(),Nn=window.pageYOffset||document.documentElement.scrollTop,Hn=Tn.top+Nn,Un=this.countryList.offsetHeight,jn=Hn+this.telInput.offsetHeight+Un<Nn+window.innerHeight,Yn=Hn-Un>Nn;if(this._toggleClass(this.countryList,"iti__country-list--dropup",!jn&&Yn),this.options.dropdownContainer){var Wn=!jn&&Yn?0:this.telInput.offsetHeight;this.dropdown.style.top="".concat(Hn+Wn,"px"),this.dropdown.style.left="".concat(Tn.left+document.body.scrollLeft,"px"),this._handleWindowScroll=function(){return Pn._closeDropdown()},window.addEventListener("scroll",this._handleWindowScroll)}}}},{key:"_getClosestListItem",value:function(Pn){for(var Tn=Pn;Tn&&Tn!==this.countryList&&!Tn.classList.contains("iti__country");)Tn=Tn.parentNode;return Tn===this.countryList?null:Tn}},{key:"_bindDropdownListeners",value:function(){var Pn=this;this._handleMouseoverCountryList=function(Un){var jn=Pn._getClosestListItem(Un.target);jn&&Pn._highlightListItem(jn,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=function(Un){var jn=Pn._getClosestListItem(Un.target);jn&&Pn._selectListItem(jn)},this.countryList.addEventListener("click",this._handleClickCountryList);var Tn=!0;this._handleClickOffToClose=function(){Tn||Pn._closeDropdown(),Tn=!1},document.documentElement.addEventListener("click",this._handleClickOffToClose);var Nn="",Hn=null;this._handleKeydownOnDropdown=function(Un){Un.preventDefault(),Un.key==="ArrowUp"||Un.key==="Up"||Un.key==="ArrowDown"||Un.key==="Down"?Pn._handleUpDownKey(Un.key):Un.key==="Enter"?Pn._handleEnterKey():Un.key==="Escape"?Pn._closeDropdown():/^[a-zA-ZÃ-Ã¿Ð°-ÑÐ-Ð¯ ]$/.test(Un.key)&&(Hn&&clearTimeout(Hn),Nn+=Un.key.toLowerCase(),Pn._searchForCountry(Nn),Hn=setTimeout(function(){Nn=""},1e3))},document.addEventListener("keydown",this._handleKeydownOnDropdown)}},{key:"_handleUpDownKey",value:function(Pn){var Tn=Pn==="ArrowUp"||Pn==="Up"?this.highlightedItem.previousElementSibling:this.highlightedItem.nextElementSibling;Tn&&(Tn.classList.contains("iti__divider")&&(Tn=Pn==="ArrowUp"||Pn==="Up"?Tn.previousElementSibling:Tn.nextElementSibling),this._highlightListItem(Tn,!0))}},{key:"_handleEnterKey",value:function(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function(Pn){for(var Tn=0;Tn<this.countries.length;Tn++)if(this._startsWith(this.countries[Tn].name,Pn)){var Nn=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(this.countries[Tn].iso2));this._highlightListItem(Nn,!1),this._scrollTo(Nn,!0);break}}},{key:"_startsWith",value:function(Pn,Tn){return Pn.substr(0,Tn.length).toLowerCase()===Tn}},{key:"_updateValFromNumber",value:function(Pn){var Tn=Pn;if(this.options.formatOnDisplay&&window.intlTelInputUtils&&this.selectedCountryData){var Nn=this.options.nationalMode||Tn.charAt(0)!=="+"&&!this.options.separateDialCode,Hn=intlTelInputUtils.numberFormat,Un=Hn.NATIONAL,jn=Hn.INTERNATIONAL,Yn=Nn?Un:jn;Tn=intlTelInputUtils.formatNumber(Tn,this.selectedCountryData.iso2,Yn)}Tn=this._beforeSetNumber(Tn),this.telInput.value=Tn}},{key:"_updateFlagFromNumber",value:function(Pn){var Tn=Pn,Nn=this.selectedCountryData.dialCode,Hn=Nn==="1";Tn&&Hn&&Tn.charAt(0)!=="+"&&(Tn.charAt(0)!=="1"&&(Tn="1".concat(Tn)),Tn="+".concat(Tn)),this.options.separateDialCode&&Nn&&Tn.charAt(0)!=="+"&&(Tn="+".concat(Nn).concat(Tn));var Un=this._getDialCode(Tn,!0),jn=this._getNumeric(Tn),Yn=null;if(Un){var Wn=this.countryCodes[this._getNumeric(Un)],Qn=Wn.indexOf(this.selectedCountryData.iso2)!==-1&&jn.length<=Un.length-1,Xn=Nn==="1"&&this._isRegionlessNanp(jn);if(!Xn&&!Qn){for(var jr=0;jr<Wn.length;jr++)if(Wn[jr]){Yn=Wn[jr];break}}}else Tn.charAt(0)==="+"&&jn.length?Yn="":(!Tn||Tn==="+")&&(Yn=this.defaultCountry);return Yn!==null?this._setFlag(Yn):!1}},{key:"_isRegionlessNanp",value:function(Pn){var Tn=this._getNumeric(Pn);if(Tn.charAt(0)==="1"){var Nn=Tn.substr(1,3);return kn.indexOf(Nn)!==-1}return!1}},{key:"_highlightListItem",value:function(Pn,Tn){var Nn=this.highlightedItem;Nn&&Nn.classList.remove("iti__highlight"),this.highlightedItem=Pn,this.highlightedItem.classList.add("iti__highlight"),this.selectedFlag.setAttribute("aria-activedescendant",Pn.getAttribute("id")),Tn&&this.highlightedItem.focus()}},{key:"_getCountryData",value:function(Pn,Tn,Nn){for(var Hn=Tn?tn:this.countries,Un=0;Un<Hn.length;Un++)if(Hn[Un].iso2===Pn)return Hn[Un];if(Nn)return null;throw new Error("No country data for '".concat(Pn,"'"))}},{key:"_setFlag",value:function(Pn){var Tn=this.options,Nn=Tn.allowDropdown,Hn=Tn.separateDialCode,Un=Tn.showFlags,jn=this.selectedCountryData.iso2?this.selectedCountryData:{};if(this.selectedCountryData=Pn?this._getCountryData(Pn,!1,!1):{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),Un&&this.selectedFlagInner.setAttribute("class","iti__flag iti__".concat(Pn)),this._setSelectedCountryFlagTitleAttribute(Pn,Hn),Hn){var Yn=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"";this.selectedDialCode.innerHTML=Yn;var Wn=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.isRTL?this.telInput.style.paddingRight="".concat(Wn+6,"px"):this.telInput.style.paddingLeft="".concat(Wn+6,"px")}if(this._updatePlaceholder(),Nn){var Qn=this.activeItem;if(Qn&&(Qn.classList.remove("iti__active"),Qn.setAttribute("aria-selected","false")),Pn){var Xn=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(Pn,"-preferred"))||this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(Pn));Xn.setAttribute("aria-selected","true"),Xn.classList.add("iti__active"),this.activeItem=Xn}}return jn.iso2!==Pn}},{key:"_setSelectedCountryFlagTitleAttribute",value:function(Pn,Tn){if(this.selectedFlag){var Nn;Pn&&!Tn?Nn="".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):Pn?Nn=this.selectedCountryData.name:Nn="Unknown",this.selectedFlag.setAttribute("title",Nn)}}},{key:"_getHiddenSelectedFlagWidth",value:function(){var Pn=this.telInput.parentNode.cloneNode();Pn.style.visibility="hidden",document.body.appendChild(Pn);var Tn=this.flagsContainer.cloneNode();Pn.appendChild(Tn);var Nn=this.selectedFlag.cloneNode(!0);Tn.appendChild(Nn);var Hn=Nn.offsetWidth;return Pn.parentNode.removeChild(Pn),Hn}},{key:"_updatePlaceholder",value:function(){var Pn=this.options.autoPlaceholder==="aggressive"||!this.hadInitialPlaceholder&&this.options.autoPlaceholder==="polite";if(window.intlTelInputUtils&&Pn){var Tn=intlTelInputUtils.numberType[this.options.placeholderNumberType],Nn=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,Tn):"";Nn=this._beforeSetNumber(Nn),typeof this.options.customPlaceholder=="function"&&(Nn=this.options.customPlaceholder(Nn,this.selectedCountryData)),this.telInput.setAttribute("placeholder",Nn)}}},{key:"_selectListItem",value:function(Pn){var Tn=this._setFlag(Pn.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(Pn.getAttribute("data-dial-code")),this.telInput.focus();var Nn=this.telInput.value.length;this.telInput.setSelectionRange(Nn,Nn),Tn&&this._triggerCountryChange()}},{key:"_closeDropdown",value:function(){this.countryList.classList.add("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","false"),this.selectedFlag.removeAttribute("aria-activedescendant"),this.dropdownArrow.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._handleKeydownOnDropdown),document.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.isMobile||window.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function(Pn,Tn){var Nn=this.countryList,Hn=window.pageYOffset||document.documentElement.scrollTop,Un=Nn.offsetHeight,jn=Nn.getBoundingClientRect().top+Hn,Yn=jn+Un,Wn=Pn.offsetHeight,Qn=Pn.getBoundingClientRect().top+Hn,Xn=Qn+Wn,jr=Qn-jn+Nn.scrollTop,Wr=Un/2-Wn/2;if(Qn<jn)Tn&&(jr-=Wr),Nn.scrollTop=jr;else if(Xn>Yn){Tn&&(jr+=Wr);var Jr=Un-Wn;Nn.scrollTop=jr-Jr}}},{key:"_updateDialCode",value:function(Pn){var Tn=this.telInput.value,Nn="+".concat(Pn),Hn;if(Tn.charAt(0)==="+"){var Un=this._getDialCode(Tn);Un?Hn=Tn.replace(Un,Nn):Hn=Nn,this.telInput.value=Hn}else this.options.autoInsertDialCode&&(Tn?Hn=Nn+Tn:Hn=Nn,this.telInput.value=Hn)}},{key:"_getDialCode",value:function(Pn,Tn){var Nn="";if(Pn.charAt(0)==="+")for(var Hn="",Un=0;Un<Pn.length;Un++){var jn=Pn.charAt(Un);if(!isNaN(parseInt(jn,10))){if(Hn+=jn,Tn)this.countryCodes[Hn]&&(Nn=Pn.substr(0,Un+1));else if(this.dialCodes[Hn]){Nn=Pn.substr(0,Un+1);break}if(Hn.length===this.countryCodeMaxLen)break}}return Nn}},{key:"_getFullNumber",value:function(){var Pn=this.telInput.value.trim(),Tn=this.selectedCountryData.dialCode,Nn,Hn=this._getNumeric(Pn);return this.options.separateDialCode&&Pn.charAt(0)!=="+"&&Tn&&Hn?Nn="+".concat(Tn):Nn="",Nn+Pn}},{key:"_beforeSetNumber",value:function(Pn){var Tn=Pn;if(this.options.separateDialCode){var Nn=this._getDialCode(Tn);if(Nn){Nn="+".concat(this.selectedCountryData.dialCode);var Hn=Tn[Nn.length]===" "||Tn[Nn.length]==="-"?Nn.length+1:Nn.length;Tn=Tn.substr(Hn)}}return this._cap(Tn)}},{key:"_triggerCountryChange",value:function(){this._trigger("countrychange")}},{key:"handleAutoCountry",value:function(){this.options.initialCountry==="auto"&&(this.defaultCountry=window.intlTelInputGlobals.autoCountry,this.telInput.value||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}},{key:"handleUtils",value:function(){window.intlTelInputUtils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this._updatePlaceholder()),this.resolveUtilsScriptPromise()}},{key:"destroy",value:function(){var Pn=this.telInput.form;if(this.options.allowDropdown){this._closeDropdown(),this.selectedFlag.removeEventListener("click",this._handleClickSelectedFlag),this.flagsContainer.removeEventListener("keydown",this._handleFlagsContainerKeydown);var Tn=this._getClosestLabel();Tn&&Tn.removeEventListener("click",this._handleLabelClick)}this.hiddenInput&&Pn&&Pn.removeEventListener("submit",this._handleHiddenInputSubmit),this.options.autoInsertDialCode&&(Pn&&Pn.removeEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.removeEventListener("blur",this._handleSubmitOrBlurEvent)),this.telInput.removeEventListener("keyup",this._handleKeyupEvent),this.telInput.removeEventListener("cut",this._handleClipboardEvent),this.telInput.removeEventListener("paste",this._handleClipboardEvent),this.telInput.removeAttribute("data-intl-tel-input-id");var Nn=this.telInput.parentNode;Nn.parentNode.insertBefore(this.telInput,Nn),Nn.parentNode.removeChild(Nn),delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}},{key:"getNumber",value:function(Pn){if(window.intlTelInputUtils){var Tn=this.selectedCountryData.iso2;return intlTelInputUtils.formatNumber(this._getFullNumber(),Tn,Pn)}return""}},{key:"getNumberType",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.selectedCountryData}},{key:"getValidationError",value:function(){if(window.intlTelInputUtils){var Pn=this.selectedCountryData.iso2;return intlTelInputUtils.getValidationError(this._getFullNumber(),Pn)}return-99}},{key:"isValidNumber",value:function(){var Pn=this._getFullNumber().trim();return window.intlTelInputUtils?intlTelInputUtils.isValidNumber(Pn,this.selectedCountryData.iso2):null}},{key:"isPossibleNumber",value:function(){var Pn=this._getFullNumber().trim();return window.intlTelInputUtils?intlTelInputUtils.isPossibleNumber(Pn,this.selectedCountryData.iso2):null}},{key:"setCountry",value:function(Pn){var Tn=Pn.toLowerCase();this.selectedCountryData.iso2!==Tn&&(this._setFlag(Tn),this._updateDialCode(this.selectedCountryData.dialCode),this._triggerCountryChange())}},{key:"setNumber",value:function(Pn){var Tn=this._updateFlagFromNumber(Pn);this._updateValFromNumber(Pn),Tn&&this._triggerCountryChange()}},{key:"setPlaceholderNumberType",value:function(Pn){this.options.placeholderNumberType=Pn,this._updatePlaceholder()}}]),In}();gn.getCountryData=function(){return tn};var Mn=function(On,Pn,Tn){var Nn=document.createElement("script");Nn.onload=function(){xn("handleUtils"),Pn&&Pn()},Nn.onerror=function(){xn("rejectUtilsScriptPromise"),Tn&&Tn()},Nn.className="iti-load-utils",Nn.async=!0,Nn.src=On,document.body.appendChild(Nn)};return gn.loadUtils=function(In){if(!window.intlTelInputUtils&&!window.intlTelInputGlobals.startedLoadingUtilsScript){if(window.intlTelInputGlobals.startedLoadingUtilsScript=!0,typeof Promise<"u")return new Promise(function(On,Pn){return Mn(In,On,Pn)});Mn(In)}return null},gn.defaults=_n,gn.version="18.2.1",function(In,On){var Pn=new Sn(In,On);return Pn._init(),In.setAttribute("data-intl-tel-input-id",Pn.id),window.intlTelInputGlobals.instances[Pn.id]=Pn,Pn}}()})})(intlTelInput$4);var intlTelInputExports=intlTelInput$4.exports,intlTelInput$2=intlTelInputExports;const intlTelInput$3=getDefaultExportFromCjs(intlTelInput$2);var Events=function(){function Fe(en,tn){tn===void 0&&(tn=[]),this._eventType=en,this._eventFunctions=tn}return Fe.prototype.init=function(){var en=this;this._eventFunctions.forEach(function(tn){typeof window<"u"&&window.addEventListener(en._eventType,tn)})},Fe}(),__assign$a=globalThis&&globalThis.__assign||function(){return __assign$a=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$a.apply(this,arguments)},Default$a={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},Accordion=function(){function Fe(en,tn){en===void 0&&(en=[]),tn===void 0&&(tn=Default$a),this._items=en,this._options=__assign$a(__assign$a({},Default$a),tn),this._init()}return Fe.prototype._init=function(){var en=this;this._items.length&&this._items.map(function(tn){tn.active&&en.open(tn.id),tn.triggerEl.addEventListener("click",function(){en.toggle(tn.id)})})},Fe.prototype.getItem=function(en){return this._items.filter(function(tn){return tn.id===en})[0]},Fe.prototype.open=function(en){var tn,nn,rn=this,an=this.getItem(en);this._options.alwaysOpen||this._items.map(function(ln){var cn,un;ln!==an&&((cn=ln.triggerEl.classList).remove.apply(cn,rn._options.activeClasses.split(" ")),(un=ln.triggerEl.classList).add.apply(un,rn._options.inactiveClasses.split(" ")),ln.targetEl.classList.add("hidden"),ln.triggerEl.setAttribute("aria-expanded","false"),ln.active=!1,ln.iconEl&&ln.iconEl.classList.remove("rotate-180"))}),(tn=an.triggerEl.classList).add.apply(tn,this._options.activeClasses.split(" ")),(nn=an.triggerEl.classList).remove.apply(nn,this._options.inactiveClasses.split(" ")),an.triggerEl.setAttribute("aria-expanded","true"),an.targetEl.classList.remove("hidden"),an.active=!0,an.iconEl&&an.iconEl.classList.add("rotate-180"),this._options.onOpen(this,an)},Fe.prototype.toggle=function(en){var tn=this.getItem(en);tn.active?this.close(en):this.open(en),this._options.onToggle(this,tn)},Fe.prototype.close=function(en){var tn,nn,rn=this.getItem(en);(tn=rn.triggerEl.classList).remove.apply(tn,this._options.activeClasses.split(" ")),(nn=rn.triggerEl.classList).add.apply(nn,this._options.inactiveClasses.split(" ")),rn.targetEl.classList.add("hidden"),rn.triggerEl.setAttribute("aria-expanded","false"),rn.active=!1,rn.iconEl&&rn.iconEl.classList.remove("rotate-180"),this._options.onClose(this,rn)},Fe}();function initAccordions(){document.querySelectorAll("[data-accordion]").forEach(function(Fe){var en=Fe.getAttribute("data-accordion"),tn=Fe.getAttribute("data-active-classes"),nn=Fe.getAttribute("data-inactive-classes"),rn=[];Fe.querySelectorAll("[data-accordion-target]").forEach(function(an){if(an.closest("[data-accordion]")===Fe){var ln={id:an.getAttribute("data-accordion-target"),triggerEl:an,targetEl:document.querySelector(an.getAttribute("data-accordion-target")),iconEl:an.querySelector("[data-accordion-icon]"),active:an.getAttribute("aria-expanded")==="true"};rn.push(ln)}}),new Accordion(rn,{alwaysOpen:en==="open",activeClasses:tn||Default$a.activeClasses,inactiveClasses:nn||Default$a.inactiveClasses})})}typeof window<"u"&&(window.Accordion=Accordion,window.initAccordions=initAccordions);var __assign$9=globalThis&&globalThis.__assign||function(){return __assign$9=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$9.apply(this,arguments)},Default$9={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},Collapse=function(){function Fe(en,tn,nn){en===void 0&&(en=null),tn===void 0&&(tn=null),nn===void 0&&(nn=Default$9),this._targetEl=en,this._triggerEl=tn,this._options=__assign$9(__assign$9({},Default$9),nn),this._visible=!1,this._init()}return Fe.prototype._init=function(){var en=this;this._triggerEl&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",function(){en.toggle()}))},Fe.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},Fe.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},Fe.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},Fe}();function initCollapses(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(Fe){var en=Fe.getAttribute("data-collapse-toggle"),tn=document.getElementById(en);tn?new Collapse(tn,Fe):console.error('The target element with id "'.concat(en,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Collapse,window.initCollapses=initCollapses);var __assign$8=globalThis&&globalThis.__assign||function(){return __assign$8=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$8.apply(this,arguments)},Default$8={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},Carousel=function(){function Fe(en,tn){en===void 0&&(en=[]),tn===void 0&&(tn=Default$8),this._items=en,this._options=__assign$8(__assign$8(__assign$8({},Default$8),tn),{indicators:__assign$8(__assign$8({},Default$8.indicators),tn.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._init()}return Fe.prototype._init=function(){var en=this;this._items.map(function(tn){tn.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(tn,nn){tn.el.addEventListener("click",function(){en.slideTo(nn)})})},Fe.prototype.getItem=function(en){return this._items[en]},Fe.prototype.slideTo=function(en){var tn=this._items[en],nn={left:tn.position===0?this._items[this._items.length-1]:this._items[tn.position-1],middle:tn,right:tn.position===this._items.length-1?this._items[0]:this._items[tn.position+1]};this._rotate(nn),this._setActiveItem(tn),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},Fe.prototype.next=function(){var en=this._getActiveItem(),tn=null;en.position===this._items.length-1?tn=this._items[0]:tn=this._items[en.position+1],this.slideTo(tn.position),this._options.onNext(this)},Fe.prototype.prev=function(){var en=this._getActiveItem(),tn=null;en.position===0?tn=this._items[this._items.length-1]:tn=this._items[en.position-1],this.slideTo(tn.position),this._options.onPrev(this)},Fe.prototype._rotate=function(en){this._items.map(function(tn){tn.el.classList.add("hidden")}),en.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),en.left.el.classList.add("-translate-x-full","z-10"),en.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),en.middle.el.classList.add("translate-x-0","z-20"),en.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),en.right.el.classList.add("translate-x-full","z-10")},Fe.prototype.cycle=function(){var en=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){en.next()},this._intervalDuration))},Fe.prototype.pause=function(){clearInterval(this._intervalInstance)},Fe.prototype._getActiveItem=function(){return this._activeItem},Fe.prototype._setActiveItem=function(en){var tn,nn,rn=this;this._activeItem=en;var an=en.position;this._indicators.length&&(this._indicators.map(function(ln){var cn,un;ln.el.setAttribute("aria-current","false"),(cn=ln.el.classList).remove.apply(cn,rn._options.indicators.activeClasses.split(" ")),(un=ln.el.classList).add.apply(un,rn._options.indicators.inactiveClasses.split(" "))}),(tn=this._indicators[an].el.classList).add.apply(tn,this._options.indicators.activeClasses.split(" ")),(nn=this._indicators[an].el.classList).remove.apply(nn,this._options.indicators.inactiveClasses.split(" ")),this._indicators[an].el.setAttribute("aria-current","true"))},Fe}();function initCarousels(){document.querySelectorAll("[data-carousel]").forEach(function(Fe){var en=Fe.getAttribute("data-carousel-interval"),tn=Fe.getAttribute("data-carousel")==="slide",nn=[],rn=0;Fe.querySelectorAll("[data-carousel-item]").length&&Array.from(Fe.querySelectorAll("[data-carousel-item]")).map(function(fn,hn){nn.push({position:hn,el:fn}),fn.getAttribute("data-carousel-item")==="active"&&(rn=hn)});var an=[];Fe.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(Fe.querySelectorAll("[data-carousel-slide-to]")).map(function(fn){an.push({position:parseInt(fn.getAttribute("data-carousel-slide-to")),el:fn})});var ln=new Carousel(nn,{defaultPosition:rn,indicators:{items:an},interval:en||Default$8.interval});tn&&ln.cycle();var cn=Fe.querySelector("[data-carousel-next]"),un=Fe.querySelector("[data-carousel-prev]");cn&&cn.addEventListener("click",function(){ln.next()}),un&&un.addEventListener("click",function(){ln.prev()})})}typeof window<"u"&&(window.Carousel=Carousel,window.initCarousels=initCarousels);var __assign$7=globalThis&&globalThis.__assign||function(){return __assign$7=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$7.apply(this,arguments)},Default$7={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},Dismiss=function(){function Fe(en,tn,nn){en===void 0&&(en=null),tn===void 0&&(tn=null),nn===void 0&&(nn=Default$7),this._targetEl=en,this._triggerEl=tn,this._options=__assign$7(__assign$7({},Default$7),nn),this._init()}return Fe.prototype._init=function(){var en=this;this._triggerEl&&this._triggerEl.addEventListener("click",function(){en.hide()})},Fe.prototype.hide=function(){var en=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){en._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},Fe}();function initDismisses(){document.querySelectorAll("[data-dismiss-target]").forEach(function(Fe){var en=Fe.getAttribute("data-dismiss-target"),tn=document.querySelector(en);tn?new Dismiss(tn,Fe):console.error('The dismiss element with id "'.concat(en,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=Dismiss,window.initDismisses=initDismisses);var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$2="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(Fe,en){return Fe.concat([en+"-"+start$2,en+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(Fe,en){return Fe.concat([en,en+"-"+start$2,en+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(Fe){return Fe?(Fe.nodeName||"").toLowerCase():null}function getWindow(Fe){if(Fe==null)return window;if(Fe.toString()!=="[object Window]"){var en=Fe.ownerDocument;return en&&en.defaultView||window}return Fe}function isElement(Fe){var en=getWindow(Fe).Element;return Fe instanceof en||Fe instanceof Element}function isHTMLElement(Fe){var en=getWindow(Fe).HTMLElement;return Fe instanceof en||Fe instanceof HTMLElement}function isShadowRoot(Fe){if(typeof ShadowRoot>"u")return!1;var en=getWindow(Fe).ShadowRoot;return Fe instanceof en||Fe instanceof ShadowRoot}function applyStyles(Fe){var en=Fe.state;Object.keys(en.elements).forEach(function(tn){var nn=en.styles[tn]||{},rn=en.attributes[tn]||{},an=en.elements[tn];!isHTMLElement(an)||!getNodeName(an)||(Object.assign(an.style,nn),Object.keys(rn).forEach(function(ln){var cn=rn[ln];cn===!1?an.removeAttribute(ln):an.setAttribute(ln,cn===!0?"":cn)}))})}function effect$3(Fe){var en=Fe.state,tn={popper:{position:en.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(en.elements.popper.style,tn.popper),en.styles=tn,en.elements.arrow&&Object.assign(en.elements.arrow.style,tn.arrow),function(){Object.keys(en.elements).forEach(function(nn){var rn=en.elements[nn],an=en.attributes[nn]||{},ln=Object.keys(en.styles.hasOwnProperty(nn)?en.styles[nn]:tn[nn]),cn=ln.reduce(function(un,fn){return un[fn]="",un},{});!isHTMLElement(rn)||!getNodeName(rn)||(Object.assign(rn.style,cn),Object.keys(an).forEach(function(un){rn.removeAttribute(un)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$3,requires:["computeStyles"]};function getBasePlacement(Fe){return Fe.split("-")[0]}var max$3=Math.max,min$3=Math.min,round$5=Math.round;function getUAString(){var Fe=navigator.userAgentData;return Fe!=null&&Fe.brands&&Array.isArray(Fe.brands)?Fe.brands.map(function(en){return en.brand+"/"+en.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(Fe,en,tn){en===void 0&&(en=!1),tn===void 0&&(tn=!1);var nn=Fe.getBoundingClientRect(),rn=1,an=1;en&&isHTMLElement(Fe)&&(rn=Fe.offsetWidth>0&&round$5(nn.width)/Fe.offsetWidth||1,an=Fe.offsetHeight>0&&round$5(nn.height)/Fe.offsetHeight||1);var ln=isElement(Fe)?getWindow(Fe):window,cn=ln.visualViewport,un=!isLayoutViewport()&&tn,fn=(nn.left+(un&&cn?cn.offsetLeft:0))/rn,hn=(nn.top+(un&&cn?cn.offsetTop:0))/an,pn=nn.width/rn,gn=nn.height/an;return{width:pn,height:gn,top:hn,right:fn+pn,bottom:hn+gn,left:fn,x:fn,y:hn}}function getLayoutRect$1(Fe){var en=getBoundingClientRect(Fe),tn=Fe.offsetWidth,nn=Fe.offsetHeight;return Math.abs(en.width-tn)<=1&&(tn=en.width),Math.abs(en.height-nn)<=1&&(nn=en.height),{x:Fe.offsetLeft,y:Fe.offsetTop,width:tn,height:nn}}function contains(Fe,en){var tn=en.getRootNode&&en.getRootNode();if(Fe.contains(en))return!0;if(tn&&isShadowRoot(tn)){var nn=en;do{if(nn&&Fe.isSameNode(nn))return!0;nn=nn.parentNode||nn.host}while(nn)}return!1}function getComputedStyle$2(Fe){return getWindow(Fe).getComputedStyle(Fe)}function isTableElement(Fe){return["table","td","th"].indexOf(getNodeName(Fe))>=0}function getDocumentElement(Fe){return((isElement(Fe)?Fe.ownerDocument:Fe.document)||window.document).documentElement}function getParentNode(Fe){return getNodeName(Fe)==="html"?Fe:Fe.assignedSlot||Fe.parentNode||(isShadowRoot(Fe)?Fe.host:null)||getDocumentElement(Fe)}function getTrueOffsetParent(Fe){return!isHTMLElement(Fe)||getComputedStyle$2(Fe).position==="fixed"?null:Fe.offsetParent}function getContainingBlock(Fe){var en=/firefox/i.test(getUAString()),tn=/Trident/i.test(getUAString());if(tn&&isHTMLElement(Fe)){var nn=getComputedStyle$2(Fe);if(nn.position==="fixed")return null}var rn=getParentNode(Fe);for(isShadowRoot(rn)&&(rn=rn.host);isHTMLElement(rn)&&["html","body"].indexOf(getNodeName(rn))<0;){var an=getComputedStyle$2(rn);if(an.transform!=="none"||an.perspective!=="none"||an.contain==="paint"||["transform","perspective"].indexOf(an.willChange)!==-1||en&&an.willChange==="filter"||en&&an.filter&&an.filter!=="none")return rn;rn=rn.parentNode}return null}function getOffsetParent(Fe){for(var en=getWindow(Fe),tn=getTrueOffsetParent(Fe);tn&&isTableElement(tn)&&getComputedStyle$2(tn).position==="static";)tn=getTrueOffsetParent(tn);return tn&&(getNodeName(tn)==="html"||getNodeName(tn)==="body"&&getComputedStyle$2(tn).position==="static")?en:tn||getContainingBlock(Fe)||en}function getMainAxisFromPlacement(Fe){return["top","bottom"].indexOf(Fe)>=0?"x":"y"}function within(Fe,en,tn){return max$3(Fe,min$3(en,tn))}function withinMaxClamp(Fe,en,tn){var nn=within(Fe,en,tn);return nn>tn?tn:nn}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(Fe){return Object.assign({},getFreshSideObject(),Fe)}function expandToHashMap(Fe,en){return en.reduce(function(tn,nn){return tn[nn]=Fe,tn},{})}var toPaddingObject=function(en,tn){return en=typeof en=="function"?en(Object.assign({},tn.rects,{placement:tn.placement})):en,mergePaddingObject(typeof en!="number"?en:expandToHashMap(en,basePlacements))};function arrow(Fe){var en,tn=Fe.state,nn=Fe.name,rn=Fe.options,an=tn.elements.arrow,ln=tn.modifiersData.popperOffsets,cn=getBasePlacement(tn.placement),un=getMainAxisFromPlacement(cn),fn=[left,right].indexOf(cn)>=0,hn=fn?"height":"width";if(!(!an||!ln)){var pn=toPaddingObject(rn.padding,tn),gn=getLayoutRect$1(an),mn=un==="y"?top:left,_n=un==="y"?bottom:right,kn=tn.rects.reference[hn]+tn.rects.reference[un]-ln[un]-tn.rects.popper[hn],Cn=ln[un]-tn.rects.reference[un],xn=getOffsetParent(an),Sn=xn?un==="y"?xn.clientHeight||0:xn.clientWidth||0:0,Mn=kn/2-Cn/2,In=pn[mn],On=Sn-gn[hn]-pn[_n],Pn=Sn/2-gn[hn]/2+Mn,Tn=within(In,Pn,On),Nn=un;tn.modifiersData[nn]=(en={},en[Nn]=Tn,en.centerOffset=Tn-Pn,en)}}function effect$2(Fe){var en=Fe.state,tn=Fe.options,nn=tn.element,rn=nn===void 0?"[data-popper-arrow]":nn;rn!=null&&(typeof rn=="string"&&(rn=en.elements.popper.querySelector(rn),!rn)||contains(en.elements.popper,rn)&&(en.elements.arrow=rn))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(Fe){return Fe.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(Fe,en){var tn=Fe.x,nn=Fe.y,rn=en.devicePixelRatio||1;return{x:round$5(tn*rn)/rn||0,y:round$5(nn*rn)/rn||0}}function mapToStyles(Fe){var en,tn=Fe.popper,nn=Fe.popperRect,rn=Fe.placement,an=Fe.variation,ln=Fe.offsets,cn=Fe.position,un=Fe.gpuAcceleration,fn=Fe.adaptive,hn=Fe.roundOffsets,pn=Fe.isFixed,gn=ln.x,mn=gn===void 0?0:gn,_n=ln.y,kn=_n===void 0?0:_n,Cn=typeof hn=="function"?hn({x:mn,y:kn}):{x:mn,y:kn};mn=Cn.x,kn=Cn.y;var xn=ln.hasOwnProperty("x"),Sn=ln.hasOwnProperty("y"),Mn=left,In=top,On=window;if(fn){var Pn=getOffsetParent(tn),Tn="clientHeight",Nn="clientWidth";if(Pn===getWindow(tn)&&(Pn=getDocumentElement(tn),getComputedStyle$2(Pn).position!=="static"&&cn==="absolute"&&(Tn="scrollHeight",Nn="scrollWidth")),Pn=Pn,rn===top||(rn===left||rn===right)&&an===end$1){In=bottom;var Hn=pn&&Pn===On&&On.visualViewport?On.visualViewport.height:Pn[Tn];kn-=Hn-nn.height,kn*=un?1:-1}if(rn===left||(rn===top||rn===bottom)&&an===end$1){Mn=right;var Un=pn&&Pn===On&&On.visualViewport?On.visualViewport.width:Pn[Nn];mn-=Un-nn.width,mn*=un?1:-1}}var jn=Object.assign({position:cn},fn&&unsetSides),Yn=hn===!0?roundOffsetsByDPR({x:mn,y:kn},getWindow(tn)):{x:mn,y:kn};if(mn=Yn.x,kn=Yn.y,un){var Wn;return Object.assign({},jn,(Wn={},Wn[In]=Sn?"0":"",Wn[Mn]=xn?"0":"",Wn.transform=(On.devicePixelRatio||1)<=1?"translate("+mn+"px, "+kn+"px)":"translate3d("+mn+"px, "+kn+"px, 0)",Wn))}return Object.assign({},jn,(en={},en[In]=Sn?kn+"px":"",en[Mn]=xn?mn+"px":"",en.transform="",en))}function computeStyles(Fe){var en=Fe.state,tn=Fe.options,nn=tn.gpuAcceleration,rn=nn===void 0?!0:nn,an=tn.adaptive,ln=an===void 0?!0:an,cn=tn.roundOffsets,un=cn===void 0?!0:cn,fn={placement:getBasePlacement(en.placement),variation:getVariation(en.placement),popper:en.elements.popper,popperRect:en.rects.popper,gpuAcceleration:rn,isFixed:en.options.strategy==="fixed"};en.modifiersData.popperOffsets!=null&&(en.styles.popper=Object.assign({},en.styles.popper,mapToStyles(Object.assign({},fn,{offsets:en.modifiersData.popperOffsets,position:en.options.strategy,adaptive:ln,roundOffsets:un})))),en.modifiersData.arrow!=null&&(en.styles.arrow=Object.assign({},en.styles.arrow,mapToStyles(Object.assign({},fn,{offsets:en.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:un})))),en.attributes.popper=Object.assign({},en.attributes.popper,{"data-popper-placement":en.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect$1(Fe){var en=Fe.state,tn=Fe.instance,nn=Fe.options,rn=nn.scroll,an=rn===void 0?!0:rn,ln=nn.resize,cn=ln===void 0?!0:ln,un=getWindow(en.elements.popper),fn=[].concat(en.scrollParents.reference,en.scrollParents.popper);return an&&fn.forEach(function(hn){hn.addEventListener("scroll",tn.update,passive)}),cn&&un.addEventListener("resize",tn.update,passive),function(){an&&fn.forEach(function(hn){hn.removeEventListener("scroll",tn.update,passive)}),cn&&un.removeEventListener("resize",tn.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect$1,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(Fe){return Fe.replace(/left|right|bottom|top/g,function(en){return hash$1[en]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(Fe){return Fe.replace(/start|end/g,function(en){return hash[en]})}function getWindowScroll(Fe){var en=getWindow(Fe),tn=en.pageXOffset,nn=en.pageYOffset;return{scrollLeft:tn,scrollTop:nn}}function getWindowScrollBarX(Fe){return getBoundingClientRect(getDocumentElement(Fe)).left+getWindowScroll(Fe).scrollLeft}function getViewportRect(Fe,en){var tn=getWindow(Fe),nn=getDocumentElement(Fe),rn=tn.visualViewport,an=nn.clientWidth,ln=nn.clientHeight,cn=0,un=0;if(rn){an=rn.width,ln=rn.height;var fn=isLayoutViewport();(fn||!fn&&en==="fixed")&&(cn=rn.offsetLeft,un=rn.offsetTop)}return{width:an,height:ln,x:cn+getWindowScrollBarX(Fe),y:un}}function getDocumentRect(Fe){var en,tn=getDocumentElement(Fe),nn=getWindowScroll(Fe),rn=(en=Fe.ownerDocument)==null?void 0:en.body,an=max$3(tn.scrollWidth,tn.clientWidth,rn?rn.scrollWidth:0,rn?rn.clientWidth:0),ln=max$3(tn.scrollHeight,tn.clientHeight,rn?rn.scrollHeight:0,rn?rn.clientHeight:0),cn=-nn.scrollLeft+getWindowScrollBarX(Fe),un=-nn.scrollTop;return getComputedStyle$2(rn||tn).direction==="rtl"&&(cn+=max$3(tn.clientWidth,rn?rn.clientWidth:0)-an),{width:an,height:ln,x:cn,y:un}}function isScrollParent(Fe){var en=getComputedStyle$2(Fe),tn=en.overflow,nn=en.overflowX,rn=en.overflowY;return/auto|scroll|overlay|hidden/.test(tn+rn+nn)}function getScrollParent(Fe){return["html","body","#document"].indexOf(getNodeName(Fe))>=0?Fe.ownerDocument.body:isHTMLElement(Fe)&&isScrollParent(Fe)?Fe:getScrollParent(getParentNode(Fe))}function listScrollParents(Fe,en){var tn;en===void 0&&(en=[]);var nn=getScrollParent(Fe),rn=nn===((tn=Fe.ownerDocument)==null?void 0:tn.body),an=getWindow(nn),ln=rn?[an].concat(an.visualViewport||[],isScrollParent(nn)?nn:[]):nn,cn=en.concat(ln);return rn?cn:cn.concat(listScrollParents(getParentNode(ln)))}function rectToClientRect(Fe){return Object.assign({},Fe,{left:Fe.x,top:Fe.y,right:Fe.x+Fe.width,bottom:Fe.y+Fe.height})}function getInnerBoundingClientRect(Fe,en){var tn=getBoundingClientRect(Fe,!1,en==="fixed");return tn.top=tn.top+Fe.clientTop,tn.left=tn.left+Fe.clientLeft,tn.bottom=tn.top+Fe.clientHeight,tn.right=tn.left+Fe.clientWidth,tn.width=Fe.clientWidth,tn.height=Fe.clientHeight,tn.x=tn.left,tn.y=tn.top,tn}function getClientRectFromMixedType(Fe,en,tn){return en===viewport?rectToClientRect(getViewportRect(Fe,tn)):isElement(en)?getInnerBoundingClientRect(en,tn):rectToClientRect(getDocumentRect(getDocumentElement(Fe)))}function getClippingParents(Fe){var en=listScrollParents(getParentNode(Fe)),tn=["absolute","fixed"].indexOf(getComputedStyle$2(Fe).position)>=0,nn=tn&&isHTMLElement(Fe)?getOffsetParent(Fe):Fe;return isElement(nn)?en.filter(function(rn){return isElement(rn)&&contains(rn,nn)&&getNodeName(rn)!=="body"}):[]}function getClippingRect(Fe,en,tn,nn){var rn=en==="clippingParents"?getClippingParents(Fe):[].concat(en),an=[].concat(rn,[tn]),ln=an[0],cn=an.reduce(function(un,fn){var hn=getClientRectFromMixedType(Fe,fn,nn);return un.top=max$3(hn.top,un.top),un.right=min$3(hn.right,un.right),un.bottom=min$3(hn.bottom,un.bottom),un.left=max$3(hn.left,un.left),un},getClientRectFromMixedType(Fe,ln,nn));return cn.width=cn.right-cn.left,cn.height=cn.bottom-cn.top,cn.x=cn.left,cn.y=cn.top,cn}function computeOffsets(Fe){var en=Fe.reference,tn=Fe.element,nn=Fe.placement,rn=nn?getBasePlacement(nn):null,an=nn?getVariation(nn):null,ln=en.x+en.width/2-tn.width/2,cn=en.y+en.height/2-tn.height/2,un;switch(rn){case top:un={x:ln,y:en.y-tn.height};break;case bottom:un={x:ln,y:en.y+en.height};break;case right:un={x:en.x+en.width,y:cn};break;case left:un={x:en.x-tn.width,y:cn};break;default:un={x:en.x,y:en.y}}var fn=rn?getMainAxisFromPlacement(rn):null;if(fn!=null){var hn=fn==="y"?"height":"width";switch(an){case start$2:un[fn]=un[fn]-(en[hn]/2-tn[hn]/2);break;case end$1:un[fn]=un[fn]+(en[hn]/2-tn[hn]/2);break}}return un}function detectOverflow(Fe,en){en===void 0&&(en={});var tn=en,nn=tn.placement,rn=nn===void 0?Fe.placement:nn,an=tn.strategy,ln=an===void 0?Fe.strategy:an,cn=tn.boundary,un=cn===void 0?clippingParents:cn,fn=tn.rootBoundary,hn=fn===void 0?viewport:fn,pn=tn.elementContext,gn=pn===void 0?popper:pn,mn=tn.altBoundary,_n=mn===void 0?!1:mn,kn=tn.padding,Cn=kn===void 0?0:kn,xn=mergePaddingObject(typeof Cn!="number"?Cn:expandToHashMap(Cn,basePlacements)),Sn=gn===popper?reference:popper,Mn=Fe.rects.popper,In=Fe.elements[_n?Sn:gn],On=getClippingRect(isElement(In)?In:In.contextElement||getDocumentElement(Fe.elements.popper),un,hn,ln),Pn=getBoundingClientRect(Fe.elements.reference),Tn=computeOffsets({reference:Pn,element:Mn,strategy:"absolute",placement:rn}),Nn=rectToClientRect(Object.assign({},Mn,Tn)),Hn=gn===popper?Nn:Pn,Un={top:On.top-Hn.top+xn.top,bottom:Hn.bottom-On.bottom+xn.bottom,left:On.left-Hn.left+xn.left,right:Hn.right-On.right+xn.right},jn=Fe.modifiersData.offset;if(gn===popper&&jn){var Yn=jn[rn];Object.keys(Un).forEach(function(Wn){var Qn=[right,bottom].indexOf(Wn)>=0?1:-1,Xn=[top,bottom].indexOf(Wn)>=0?"y":"x";Un[Wn]+=Yn[Xn]*Qn})}return Un}function computeAutoPlacement(Fe,en){en===void 0&&(en={});var tn=en,nn=tn.placement,rn=tn.boundary,an=tn.rootBoundary,ln=tn.padding,cn=tn.flipVariations,un=tn.allowedAutoPlacements,fn=un===void 0?placements:un,hn=getVariation(nn),pn=hn?cn?variationPlacements:variationPlacements.filter(function(_n){return getVariation(_n)===hn}):basePlacements,gn=pn.filter(function(_n){return fn.indexOf(_n)>=0});gn.length===0&&(gn=pn);var mn=gn.reduce(function(_n,kn){return _n[kn]=detectOverflow(Fe,{placement:kn,boundary:rn,rootBoundary:an,padding:ln})[getBasePlacement(kn)],_n},{});return Object.keys(mn).sort(function(_n,kn){return mn[_n]-mn[kn]})}function getExpandedFallbackPlacements(Fe){if(getBasePlacement(Fe)===auto)return[];var en=getOppositePlacement(Fe);return[getOppositeVariationPlacement(Fe),en,getOppositeVariationPlacement(en)]}function flip(Fe){var en=Fe.state,tn=Fe.options,nn=Fe.name;if(!en.modifiersData[nn]._skip){for(var rn=tn.mainAxis,an=rn===void 0?!0:rn,ln=tn.altAxis,cn=ln===void 0?!0:ln,un=tn.fallbackPlacements,fn=tn.padding,hn=tn.boundary,pn=tn.rootBoundary,gn=tn.altBoundary,mn=tn.flipVariations,_n=mn===void 0?!0:mn,kn=tn.allowedAutoPlacements,Cn=en.options.placement,xn=getBasePlacement(Cn),Sn=xn===Cn,Mn=un||(Sn||!_n?[getOppositePlacement(Cn)]:getExpandedFallbackPlacements(Cn)),In=[Cn].concat(Mn).reduce(function(oi,pi){return oi.concat(getBasePlacement(pi)===auto?computeAutoPlacement(en,{placement:pi,boundary:hn,rootBoundary:pn,padding:fn,flipVariations:_n,allowedAutoPlacements:kn}):pi)},[]),On=en.rects.reference,Pn=en.rects.popper,Tn=new Map,Nn=!0,Hn=In[0],Un=0;Un<In.length;Un++){var jn=In[Un],Yn=getBasePlacement(jn),Wn=getVariation(jn)===start$2,Qn=[top,bottom].indexOf(Yn)>=0,Xn=Qn?"width":"height",jr=detectOverflow(en,{placement:jn,boundary:hn,rootBoundary:pn,altBoundary:gn,padding:fn}),Wr=Qn?Wn?right:left:Wn?bottom:top;On[Xn]>Pn[Xn]&&(Wr=getOppositePlacement(Wr));var Jr=getOppositePlacement(Wr),ci=[];if(an&&ci.push(jr[Yn]<=0),cn&&ci.push(jr[Wr]<=0,jr[Jr]<=0),ci.every(function(oi){return oi})){Hn=jn,Nn=!1;break}Tn.set(jn,ci)}if(Nn)for(var ti=_n?3:1,Zr=function(pi){var ri=In.find(function(fi){var yi=Tn.get(fi);if(yi)return yi.slice(0,pi).every(function(Si){return Si})});if(ri)return Hn=ri,"break"},Br=ti;Br>0;Br--){var Jn=Zr(Br);if(Jn==="break")break}en.placement!==Hn&&(en.modifiersData[nn]._skip=!0,en.placement=Hn,en.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(Fe,en,tn){return tn===void 0&&(tn={x:0,y:0}),{top:Fe.top-en.height-tn.y,right:Fe.right-en.width+tn.x,bottom:Fe.bottom-en.height+tn.y,left:Fe.left-en.width-tn.x}}function isAnySideFullyClipped(Fe){return[top,right,bottom,left].some(function(en){return Fe[en]>=0})}function hide(Fe){var en=Fe.state,tn=Fe.name,nn=en.rects.reference,rn=en.rects.popper,an=en.modifiersData.preventOverflow,ln=detectOverflow(en,{elementContext:"reference"}),cn=detectOverflow(en,{altBoundary:!0}),un=getSideOffsets(ln,nn),fn=getSideOffsets(cn,rn,an),hn=isAnySideFullyClipped(un),pn=isAnySideFullyClipped(fn);en.modifiersData[tn]={referenceClippingOffsets:un,popperEscapeOffsets:fn,isReferenceHidden:hn,hasPopperEscaped:pn},en.attributes.popper=Object.assign({},en.attributes.popper,{"data-popper-reference-hidden":hn,"data-popper-escaped":pn})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(Fe,en,tn){var nn=getBasePlacement(Fe),rn=[left,top].indexOf(nn)>=0?-1:1,an=typeof tn=="function"?tn(Object.assign({},en,{placement:Fe})):tn,ln=an[0],cn=an[1];return ln=ln||0,cn=(cn||0)*rn,[left,right].indexOf(nn)>=0?{x:cn,y:ln}:{x:ln,y:cn}}function offset$1(Fe){var en=Fe.state,tn=Fe.options,nn=Fe.name,rn=tn.offset,an=rn===void 0?[0,0]:rn,ln=placements.reduce(function(hn,pn){return hn[pn]=distanceAndSkiddingToXY(pn,en.rects,an),hn},{}),cn=ln[en.placement],un=cn.x,fn=cn.y;en.modifiersData.popperOffsets!=null&&(en.modifiersData.popperOffsets.x+=un,en.modifiersData.popperOffsets.y+=fn),en.modifiersData[nn]=ln}const offset$2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$1};function popperOffsets(Fe){var en=Fe.state,tn=Fe.name;en.modifiersData[tn]=computeOffsets({reference:en.rects.reference,element:en.rects.popper,strategy:"absolute",placement:en.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(Fe){return Fe==="x"?"y":"x"}function preventOverflow(Fe){var en=Fe.state,tn=Fe.options,nn=Fe.name,rn=tn.mainAxis,an=rn===void 0?!0:rn,ln=tn.altAxis,cn=ln===void 0?!1:ln,un=tn.boundary,fn=tn.rootBoundary,hn=tn.altBoundary,pn=tn.padding,gn=tn.tether,mn=gn===void 0?!0:gn,_n=tn.tetherOffset,kn=_n===void 0?0:_n,Cn=detectOverflow(en,{boundary:un,rootBoundary:fn,padding:pn,altBoundary:hn}),xn=getBasePlacement(en.placement),Sn=getVariation(en.placement),Mn=!Sn,In=getMainAxisFromPlacement(xn),On=getAltAxis(In),Pn=en.modifiersData.popperOffsets,Tn=en.rects.reference,Nn=en.rects.popper,Hn=typeof kn=="function"?kn(Object.assign({},en.rects,{placement:en.placement})):kn,Un=typeof Hn=="number"?{mainAxis:Hn,altAxis:Hn}:Object.assign({mainAxis:0,altAxis:0},Hn),jn=en.modifiersData.offset?en.modifiersData.offset[en.placement]:null,Yn={x:0,y:0};if(Pn){if(an){var Wn,Qn=In==="y"?top:left,Xn=In==="y"?bottom:right,jr=In==="y"?"height":"width",Wr=Pn[In],Jr=Wr+Cn[Qn],ci=Wr-Cn[Xn],ti=mn?-Nn[jr]/2:0,Zr=Sn===start$2?Tn[jr]:Nn[jr],Br=Sn===start$2?-Nn[jr]:-Tn[jr],Jn=en.elements.arrow,oi=mn&&Jn?getLayoutRect$1(Jn):{width:0,height:0},pi=en.modifiersData["arrow#persistent"]?en.modifiersData["arrow#persistent"].padding:getFreshSideObject(),ri=pi[Qn],fi=pi[Xn],yi=within(0,Tn[jr],oi[jr]),Si=Mn?Tn[jr]/2-ti-yi-ri-Un.mainAxis:Zr-yi-ri-Un.mainAxis,Pi=Mn?-Tn[jr]/2+ti+yi+fi+Un.mainAxis:Br+yi+fi+Un.mainAxis,Ui=en.elements.arrow&&getOffsetParent(en.elements.arrow),ji=Ui?In==="y"?Ui.clientTop||0:Ui.clientLeft||0:0,go=(Wn=jn==null?void 0:jn[In])!=null?Wn:0,po=Wr+Si-go-ji,Yi=Wr+Pi-go,Fo=within(mn?min$3(Jr,po):Jr,Wr,mn?max$3(ci,Yi):ci);Pn[In]=Fo,Yn[In]=Fo-Wr}if(cn){var Po,Oi=In==="x"?top:left,Wi=In==="x"?bottom:right,vo=Pn[On],mo=On==="y"?"height":"width",ro=vo+Cn[Oi],Oo=vo-Cn[Wi],Mi=[top,left].indexOf(xn)!==-1,gi=(Po=jn==null?void 0:jn[On])!=null?Po:0,Ti=Mi?ro:vo-Tn[mo]-Nn[mo]-gi+Un.altAxis,li=Mi?vo+Tn[mo]+Nn[mo]-gi-Un.altAxis:Oo,di=mn&&Mi?withinMaxClamp(Ti,vo,li):within(mn?Ti:ro,vo,mn?li:Oo);Pn[On]=di,Yn[On]=di-vo}en.modifiersData[nn]=Yn}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(Fe){return{scrollLeft:Fe.scrollLeft,scrollTop:Fe.scrollTop}}function getNodeScroll(Fe){return Fe===getWindow(Fe)||!isHTMLElement(Fe)?getWindowScroll(Fe):getHTMLElementScroll(Fe)}function isElementScaled(Fe){var en=Fe.getBoundingClientRect(),tn=round$5(en.width)/Fe.offsetWidth||1,nn=round$5(en.height)/Fe.offsetHeight||1;return tn!==1||nn!==1}function getCompositeRect(Fe,en,tn){tn===void 0&&(tn=!1);var nn=isHTMLElement(en),rn=isHTMLElement(en)&&isElementScaled(en),an=getDocumentElement(en),ln=getBoundingClientRect(Fe,rn,tn),cn={scrollLeft:0,scrollTop:0},un={x:0,y:0};return(nn||!nn&&!tn)&&((getNodeName(en)!=="body"||isScrollParent(an))&&(cn=getNodeScroll(en)),isHTMLElement(en)?(un=getBoundingClientRect(en,!0),un.x+=en.clientLeft,un.y+=en.clientTop):an&&(un.x=getWindowScrollBarX(an))),{x:ln.left+cn.scrollLeft-un.x,y:ln.top+cn.scrollTop-un.y,width:ln.width,height:ln.height}}function order(Fe){var en=new Map,tn=new Set,nn=[];Fe.forEach(function(an){en.set(an.name,an)});function rn(an){tn.add(an.name);var ln=[].concat(an.requires||[],an.requiresIfExists||[]);ln.forEach(function(cn){if(!tn.has(cn)){var un=en.get(cn);un&&rn(un)}}),nn.push(an)}return Fe.forEach(function(an){tn.has(an.name)||rn(an)}),nn}function orderModifiers(Fe){var en=order(Fe);return modifierPhases.reduce(function(tn,nn){return tn.concat(en.filter(function(rn){return rn.phase===nn}))},[])}function debounce$1(Fe){var en;return function(){return en||(en=new Promise(function(tn){Promise.resolve().then(function(){en=void 0,tn(Fe())})})),en}}function mergeByName(Fe){var en=Fe.reduce(function(tn,nn){var rn=tn[nn.name];return tn[nn.name]=rn?Object.assign({},rn,nn,{options:Object.assign({},rn.options,nn.options),data:Object.assign({},rn.data,nn.data)}):nn,tn},{});return Object.keys(en).map(function(tn){return en[tn]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var Fe=arguments.length,en=new Array(Fe),tn=0;tn<Fe;tn++)en[tn]=arguments[tn];return!en.some(function(nn){return!(nn&&typeof nn.getBoundingClientRect=="function")})}function popperGenerator(Fe){Fe===void 0&&(Fe={});var en=Fe,tn=en.defaultModifiers,nn=tn===void 0?[]:tn,rn=en.defaultOptions,an=rn===void 0?DEFAULT_OPTIONS:rn;return function(cn,un,fn){fn===void 0&&(fn=an);var hn={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,an),modifiersData:{},elements:{reference:cn,popper:un},attributes:{},styles:{}},pn=[],gn=!1,mn={state:hn,setOptions:function(xn){var Sn=typeof xn=="function"?xn(hn.options):xn;kn(),hn.options=Object.assign({},an,hn.options,Sn),hn.scrollParents={reference:isElement(cn)?listScrollParents(cn):cn.contextElement?listScrollParents(cn.contextElement):[],popper:listScrollParents(un)};var Mn=orderModifiers(mergeByName([].concat(nn,hn.options.modifiers)));return hn.orderedModifiers=Mn.filter(function(In){return In.enabled}),_n(),mn.update()},forceUpdate:function(){if(!gn){var xn=hn.elements,Sn=xn.reference,Mn=xn.popper;if(areValidElements(Sn,Mn)){hn.rects={reference:getCompositeRect(Sn,getOffsetParent(Mn),hn.options.strategy==="fixed"),popper:getLayoutRect$1(Mn)},hn.reset=!1,hn.placement=hn.options.placement,hn.orderedModifiers.forEach(function(Un){return hn.modifiersData[Un.name]=Object.assign({},Un.data)});for(var In=0;In<hn.orderedModifiers.length;In++){if(hn.reset===!0){hn.reset=!1,In=-1;continue}var On=hn.orderedModifiers[In],Pn=On.fn,Tn=On.options,Nn=Tn===void 0?{}:Tn,Hn=On.name;typeof Pn=="function"&&(hn=Pn({state:hn,options:Nn,name:Hn,instance:mn})||hn)}}}},update:debounce$1(function(){return new Promise(function(Cn){mn.forceUpdate(),Cn(hn)})}),destroy:function(){kn(),gn=!0}};if(!areValidElements(cn,un))return mn;mn.setOptions(fn).then(function(Cn){!gn&&fn.onFirstUpdate&&fn.onFirstUpdate(Cn)});function _n(){hn.orderedModifiers.forEach(function(Cn){var xn=Cn.name,Sn=Cn.options,Mn=Sn===void 0?{}:Sn,In=Cn.effect;if(typeof In=="function"){var On=In({state:hn,name:xn,instance:mn,options:Mn}),Pn=function(){};pn.push(On||Pn)}})}function kn(){pn.forEach(function(Cn){return Cn()}),pn=[]}return mn}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$2,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),__assign$6=globalThis&&globalThis.__assign||function(){return __assign$6=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$6.apply(this,arguments)},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(Fe,en,tn){if(tn||arguments.length===2)for(var nn=0,rn=en.length,an;nn<rn;nn++)(an||!(nn in en))&&(an||(an=Array.prototype.slice.call(en,0,nn)),an[nn]=en[nn]);return Fe.concat(an||Array.prototype.slice.call(en))},Default$6={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},Dropdown=function(){function Fe(en,tn,nn){en===void 0&&(en=null),tn===void 0&&(tn=null),nn===void 0&&(nn=Default$6),this._targetEl=en,this._triggerEl=tn,this._options=__assign$6(__assign$6({},Default$6),nn),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return Fe.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},Fe.prototype._setupEventListeners=function(){var en=this,tn=this._getTriggerEvents();this._options.triggerType==="click"&&tn.showEvents.forEach(function(nn){en._triggerEl.addEventListener(nn,function(){en.toggle()})}),this._options.triggerType==="hover"&&(tn.showEvents.forEach(function(nn){en._triggerEl.addEventListener(nn,function(){nn==="click"?en.toggle():setTimeout(function(){en.show()},en._options.delay)}),en._targetEl.addEventListener(nn,function(){en.show()})}),tn.hideEvents.forEach(function(nn){en._triggerEl.addEventListener(nn,function(){setTimeout(function(){en._targetEl.matches(":hover")||en.hide()},en._options.delay)}),en._targetEl.addEventListener(nn,function(){setTimeout(function(){en._triggerEl.matches(":hover")||en.hide()},en._options.delay)})}))},Fe.prototype._createPopperInstance=function(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},Fe.prototype._setupClickOutsideListener=function(){var en=this;this._clickOutsideEventListener=function(tn){en._handleClickOutside(tn,en._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._handleClickOutside=function(en,tn){var nn=en.target,rn=this._options.ignoreClickOutsideClass,an=!1;if(rn){var ln=document.querySelectorAll(".".concat(rn));ln.forEach(function(cn){if(cn.contains(nn)){an=!0;return}})}nn!==tn&&!tn.contains(nn)&&!this._triggerEl.contains(nn)&&!an&&this.isVisible()&&this.hide()},Fe.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},Fe.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},Fe.prototype.isVisible=function(){return this._visible},Fe.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(en){return __assign$6(__assign$6({},en),{modifiers:__spreadArray$2(__spreadArray$2([],en.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},Fe.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(en){return __assign$6(__assign$6({},en),{modifiers:__spreadArray$2(__spreadArray$2([],en.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},Fe}();function initDropdowns(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(Fe){var en=Fe.getAttribute("data-dropdown-toggle"),tn=document.getElementById(en);if(tn){var nn=Fe.getAttribute("data-dropdown-placement"),rn=Fe.getAttribute("data-dropdown-offset-skidding"),an=Fe.getAttribute("data-dropdown-offset-distance"),ln=Fe.getAttribute("data-dropdown-trigger"),cn=Fe.getAttribute("data-dropdown-delay"),un=Fe.getAttribute("data-dropdown-ignore-click-outside-class");new Dropdown(tn,Fe,{placement:nn||Default$6.placement,triggerType:ln||Default$6.triggerType,offsetSkidding:rn?parseInt(rn):Default$6.offsetSkidding,offsetDistance:an?parseInt(an):Default$6.offsetDistance,delay:cn?parseInt(cn):Default$6.delay,ignoreClickOutsideClass:un||Default$6.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(en,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=Dropdown,window.initDropdowns=initDropdowns);var __assign$5=globalThis&&globalThis.__assign||function(){return __assign$5=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$5.apply(this,arguments)},Default$5={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},Modal=function(){function Fe(en,tn){en===void 0&&(en=null),tn===void 0&&(tn=Default$5),this._targetEl=en,this._options=__assign$5(__assign$5({},Default$5),tn),this._isHidden=!0,this._backdropEl=null,this._init()}return Fe.prototype._init=function(){var en=this;this._targetEl&&this._getPlacementClasses().map(function(tn){en._targetEl.classList.add(tn)})},Fe.prototype._createBackdrop=function(){var en;if(this._isHidden){var tn=document.createElement("div");tn.setAttribute("modal-backdrop",""),(en=tn.classList).add.apply(en,this._options.backdropClasses.split(" ")),document.querySelector("body").append(tn),this._backdropEl=tn}},Fe.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},Fe.prototype._setupModalCloseEventListeners=function(){var en=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(tn){en._handleOutsideClick(tn.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(tn){tn.key==="Escape"&&en.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._handleOutsideClick=function(en){(en===this._targetEl||en===this._backdropEl&&this.isVisible())&&this.hide()},Fe.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},Fe.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},Fe.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.closable&&this._setupModalCloseEventListeners(),this._options.onShow(this))},Fe.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},Fe.prototype.isVisible=function(){return!this._isHidden},Fe.prototype.isHidden=function(){return this._isHidden},Fe}(),getModalInstance=function(Fe,en){return en.some(function(tn){return tn.id===Fe})?en.find(function(tn){return tn.id===Fe}):null};function initModals(){var Fe=[];document.querySelectorAll("[data-modal-target]").forEach(function(en){var tn=en.getAttribute("data-modal-target"),nn=document.getElementById(tn);if(nn){var rn=nn.getAttribute("data-modal-placement"),an=nn.getAttribute("data-modal-backdrop");getModalInstance(tn,Fe)||Fe.push({id:tn,object:new Modal(nn,{placement:rn||Default$5.placement,backdrop:an||Default$5.backdrop})})}else console.error("Modal with id ".concat(tn," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(en){var tn=en.getAttribute("data-modal-toggle"),nn=document.getElementById(tn);if(nn){var rn=nn.getAttribute("data-modal-placement"),an=nn.getAttribute("data-modal-backdrop"),ln=getModalInstance(tn,Fe);ln||(ln={id:tn,object:new Modal(nn,{placement:rn||Default$5.placement,backdrop:an||Default$5.backdrop})},Fe.push(ln)),en.addEventListener("click",function(){ln.object.toggle()})}else console.error("Modal with id ".concat(tn," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(en){var tn=en.getAttribute("data-modal-show"),nn=document.getElementById(tn);if(nn){var rn=getModalInstance(tn,Fe);rn?en.addEventListener("click",function(){rn.object.isHidden&&rn.object.show()}):console.error("Modal with id ".concat(tn," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(tn," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(en){var tn=en.getAttribute("data-modal-hide"),nn=document.getElementById(tn);if(nn){var rn=getModalInstance(tn,Fe);rn?en.addEventListener("click",function(){rn.object.isVisible&&rn.object.hide()}):console.error("Modal with id ".concat(tn," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(tn," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=Modal,window.initModals=initModals);var __assign$4=globalThis&&globalThis.__assign||function(){return __assign$4=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$4.apply(this,arguments)},Default$4={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},Drawer=function(){function Fe(en,tn){en===void 0&&(en=null),tn===void 0&&(tn=Default$4),this._targetEl=en,this._options=__assign$4(__assign$4({},Default$4),tn),this._visible=!1,this._init()}return Fe.prototype._init=function(){var en=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map(function(tn){en._targetEl.classList.add(tn)}),document.addEventListener("keydown",function(tn){tn.key==="Escape"&&en.isVisible()&&en.hide()})},Fe.prototype.hide=function(){var en=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(tn){en._targetEl.classList.remove(tn)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(tn){en._targetEl.classList.add(tn)})):(this._getPlacementClasses(this._options.placement).active.map(function(tn){en._targetEl.classList.remove(tn)}),this._getPlacementClasses(this._options.placement).inactive.map(function(tn){en._targetEl.classList.add(tn)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},Fe.prototype.show=function(){var en=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(tn){en._targetEl.classList.add(tn)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(tn){en._targetEl.classList.remove(tn)})):(this._getPlacementClasses(this._options.placement).active.map(function(tn){en._targetEl.classList.add(tn)}),this._getPlacementClasses(this._options.placement).inactive.map(function(tn){en._targetEl.classList.remove(tn)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},Fe.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},Fe.prototype._createBackdrop=function(){var en,tn=this;if(!this._visible){var nn=document.createElement("div");nn.setAttribute("drawer-backdrop",""),(en=nn.classList).add.apply(en,this._options.backdropClasses.split(" ")),document.querySelector("body").append(nn),nn.addEventListener("click",function(){tn.hide()})}},Fe.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},Fe.prototype._getPlacementClasses=function(en){switch(en){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},Fe.prototype.isHidden=function(){return!this._visible},Fe.prototype.isVisible=function(){return this._visible},Fe}(),getDrawerInstance=function(Fe,en){if(en.some(function(tn){return tn.id===Fe}))return en.find(function(tn){return tn.id===Fe})};function initDrawers(){var Fe=[];document.querySelectorAll("[data-drawer-target]").forEach(function(en){var tn=en.getAttribute("data-drawer-target"),nn=document.getElementById(tn);if(nn){var rn=en.getAttribute("data-drawer-placement"),an=en.getAttribute("data-drawer-body-scrolling"),ln=en.getAttribute("data-drawer-backdrop"),cn=en.getAttribute("data-drawer-edge"),un=en.getAttribute("data-drawer-edge-offset");getDrawerInstance(tn,Fe)||Fe.push({id:tn,object:new Drawer(nn,{placement:rn||Default$4.placement,bodyScrolling:an?an==="true":Default$4.bodyScrolling,backdrop:ln?ln==="true":Default$4.backdrop,edge:cn?cn==="true":Default$4.edge,edgeOffset:un||Default$4.edgeOffset})})}else console.error("Drawer with id ".concat(tn," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(en){var tn=en.getAttribute("data-drawer-toggle"),nn=document.getElementById(tn);if(nn){var rn=getDrawerInstance(tn,Fe);rn?en.addEventListener("click",function(){rn.object.toggle()}):console.error("Drawer with id ".concat(tn," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(tn," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(en){var tn=en.getAttribute("data-drawer-dismiss")?en.getAttribute("data-drawer-dismiss"):en.getAttribute("data-drawer-hide"),nn=document.getElementById(tn);if(nn){var rn=getDrawerInstance(tn,Fe);rn?en.addEventListener("click",function(){rn.object.hide()}):console.error("Drawer with id ".concat(tn," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(tn," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(en){var tn=en.getAttribute("data-drawer-show"),nn=document.getElementById(tn);if(nn){var rn=getDrawerInstance(tn,Fe);rn?en.addEventListener("click",function(){rn.object.show()}):console.error("Drawer with id ".concat(tn," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(tn," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=Drawer,window.initDrawers=initDrawers);var __assign$3=globalThis&&globalThis.__assign||function(){return __assign$3=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$3.apply(this,arguments)},Default$3={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},Tabs=function(){function Fe(en,tn){en===void 0&&(en=[]),tn===void 0&&(tn=Default$3),this._items=en,this._activeTab=tn?this.getTab(tn.defaultTabId):null,this._options=__assign$3(__assign$3({},Default$3),tn),this._init()}return Fe.prototype._init=function(){var en=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(tn){tn.triggerEl.addEventListener("click",function(){en.show(tn.id)})}))},Fe.prototype.getActiveTab=function(){return this._activeTab},Fe.prototype._setActiveTab=function(en){this._activeTab=en},Fe.prototype.getTab=function(en){return this._items.filter(function(tn){return tn.id===en})[0]},Fe.prototype.show=function(en,tn){var nn,rn,an=this;tn===void 0&&(tn=!1);var ln=this.getTab(en);ln===this._activeTab&&!tn||(this._items.map(function(cn){var un,fn;cn!==ln&&((un=cn.triggerEl.classList).remove.apply(un,an._options.activeClasses.split(" ")),(fn=cn.triggerEl.classList).add.apply(fn,an._options.inactiveClasses.split(" ")),cn.targetEl.classList.add("hidden"),cn.triggerEl.setAttribute("aria-selected","false"))}),(nn=ln.triggerEl.classList).add.apply(nn,this._options.activeClasses.split(" ")),(rn=ln.triggerEl.classList).remove.apply(rn,this._options.inactiveClasses.split(" ")),ln.triggerEl.setAttribute("aria-selected","true"),ln.targetEl.classList.remove("hidden"),this._setActiveTab(ln),this._options.onShow(this,ln))},Fe}();function initTabs(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(Fe){var en=[],tn=null;Fe.querySelectorAll('[role="tab"]').forEach(function(nn){var rn=nn.getAttribute("aria-selected")==="true",an={id:nn.getAttribute("data-tabs-target"),triggerEl:nn,targetEl:document.querySelector(nn.getAttribute("data-tabs-target"))};en.push(an),rn&&(tn=an.id)}),new Tabs(en,{defaultTabId:tn})})}typeof window<"u"&&(window.Tabs=Tabs,window.initTabs=initTabs);var __assign$2=globalThis&&globalThis.__assign||function(){return __assign$2=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$2.apply(this,arguments)},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(Fe,en,tn){if(tn||arguments.length===2)for(var nn=0,rn=en.length,an;nn<rn;nn++)(an||!(nn in en))&&(an||(an=Array.prototype.slice.call(en,0,nn)),an[nn]=en[nn]);return Fe.concat(an||Array.prototype.slice.call(en))},Default$2={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Tooltip$1=function(){function Fe(en,tn,nn){en===void 0&&(en=null),tn===void 0&&(tn=null),nn===void 0&&(nn=Default$2),this._targetEl=en,this._triggerEl=tn,this._options=__assign$2(__assign$2({},Default$2),nn),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return Fe.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},Fe.prototype._setupEventListeners=function(){var en=this,tn=this._getTriggerEvents();tn.showEvents.forEach(function(nn){en._triggerEl.addEventListener(nn,function(){en.show()})}),tn.hideEvents.forEach(function(nn){en._triggerEl.addEventListener(nn,function(){en.hide()})})},Fe.prototype._createPopperInstance=function(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},Fe.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},Fe.prototype._setupKeydownListener=function(){var en=this;this._keydownEventListener=function(tn){tn.key==="Escape"&&en.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._setupClickOutsideListener=function(){var en=this;this._clickOutsideEventListener=function(tn){en._handleClickOutside(tn,en._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._handleClickOutside=function(en,tn){var nn=en.target;nn!==tn&&!tn.contains(nn)&&!this._triggerEl.contains(nn)&&this.isVisible()&&this.hide()},Fe.prototype.isVisible=function(){return this._visible},Fe.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},Fe.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(en){return __assign$2(__assign$2({},en),{modifiers:__spreadArray$1(__spreadArray$1([],en.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},Fe.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(en){return __assign$2(__assign$2({},en),{modifiers:__spreadArray$1(__spreadArray$1([],en.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},Fe}();function initTooltips(){document.querySelectorAll("[data-tooltip-target]").forEach(function(Fe){var en=Fe.getAttribute("data-tooltip-target"),tn=document.getElementById(en);if(tn){var nn=Fe.getAttribute("data-tooltip-trigger"),rn=Fe.getAttribute("data-tooltip-placement");new Tooltip$1(tn,Fe,{placement:rn||Default$2.placement,triggerType:nn||Default$2.triggerType})}else console.error('The tooltip element with id "'.concat(en,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=Tooltip$1,window.initTooltips=initTooltips);var __assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign$1.apply(this,arguments)},__spreadArray=globalThis&&globalThis.__spreadArray||function(Fe,en,tn){if(tn||arguments.length===2)for(var nn=0,rn=en.length,an;nn<rn;nn++)(an||!(nn in en))&&(an||(an=Array.prototype.slice.call(en,0,nn)),an[nn]=en[nn]);return Fe.concat(an||Array.prototype.slice.call(en))},Default$1={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Popover=function(){function Fe(en,tn,nn){en===void 0&&(en=null),tn===void 0&&(tn=null),nn===void 0&&(nn=Default$1),this._targetEl=en,this._triggerEl=tn,this._options=__assign$1(__assign$1({},Default$1),nn),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return Fe.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},Fe.prototype._setupEventListeners=function(){var en=this,tn=this._getTriggerEvents();tn.showEvents.forEach(function(nn){en._triggerEl.addEventListener(nn,function(){en.show()}),en._targetEl.addEventListener(nn,function(){en.show()})}),tn.hideEvents.forEach(function(nn){en._triggerEl.addEventListener(nn,function(){setTimeout(function(){en._targetEl.matches(":hover")||en.hide()},100)}),en._targetEl.addEventListener(nn,function(){setTimeout(function(){en._triggerEl.matches(":hover")||en.hide()},100)})})},Fe.prototype._createPopperInstance=function(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},Fe.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},Fe.prototype._setupKeydownListener=function(){var en=this;this._keydownEventListener=function(tn){tn.key==="Escape"&&en.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},Fe.prototype._setupClickOutsideListener=function(){var en=this;this._clickOutsideEventListener=function(tn){en._handleClickOutside(tn,en._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},Fe.prototype._handleClickOutside=function(en,tn){var nn=en.target;nn!==tn&&!tn.contains(nn)&&!this._triggerEl.contains(nn)&&this.isVisible()&&this.hide()},Fe.prototype.isVisible=function(){return this._visible},Fe.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},Fe.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(en){return __assign$1(__assign$1({},en),{modifiers:__spreadArray(__spreadArray([],en.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},Fe.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(en){return __assign$1(__assign$1({},en),{modifiers:__spreadArray(__spreadArray([],en.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},Fe}();function initPopovers(){document.querySelectorAll("[data-popover-target]").forEach(function(Fe){var en=Fe.getAttribute("data-popover-target"),tn=document.getElementById(en);if(tn){var nn=Fe.getAttribute("data-popover-trigger"),rn=Fe.getAttribute("data-popover-placement"),an=Fe.getAttribute("data-popover-offset");new Popover(tn,Fe,{placement:rn||Default$1.placement,offset:an?parseInt(an):Default$1.offset,triggerType:nn||Default$1.triggerType})}else console.error('The popover element with id "'.concat(en,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=Popover,window.initPopovers=initPopovers);var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(Fe){for(var en,tn=1,nn=arguments.length;tn<nn;tn++){en=arguments[tn];for(var rn in en)Object.prototype.hasOwnProperty.call(en,rn)&&(Fe[rn]=en[rn])}return Fe},__assign.apply(this,arguments)},Default={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Dial=function(){function Fe(en,tn,nn,rn){en===void 0&&(en=null),tn===void 0&&(tn=null),nn===void 0&&(nn=null),rn===void 0&&(rn=Default),this._parentEl=en,this._triggerEl=tn,this._targetEl=nn,this._options=__assign(__assign({},Default),rn),this._visible=!1,this._init()}return Fe.prototype._init=function(){var en=this;if(this._triggerEl){var tn=this._getTriggerEventTypes(this._options.triggerType);tn.showEvents.forEach(function(nn){en._triggerEl.addEventListener(nn,function(){en.show()}),en._targetEl.addEventListener(nn,function(){en.show()})}),tn.hideEvents.forEach(function(nn){en._parentEl.addEventListener(nn,function(){en._parentEl.matches(":hover")||en.hide()})})}},Fe.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},Fe.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},Fe.prototype.toggle=function(){this._visible?this.hide():this.show()},Fe.prototype.isHidden=function(){return!this._visible},Fe.prototype.isVisible=function(){return this._visible},Fe.prototype._getTriggerEventTypes=function(en){switch(en){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},Fe}();function initDials(){document.querySelectorAll("[data-dial-init]").forEach(function(Fe){var en=Fe.querySelector("[data-dial-toggle]");if(en){var tn=en.getAttribute("data-dial-toggle"),nn=document.getElementById(tn);if(nn){var rn=en.getAttribute("data-dial-trigger");new Dial(Fe,en,nn,{triggerType:rn||Default.triggerType})}else console.error("Dial with id ".concat(tn," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(Fe.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=Dial,window.initDials=initDials);function initFlowbite(){initAccordions(),initCollapses(),initCarousels(),initDismisses(),initDropdowns(),initModals(),initDrawers(),initTabs(),initTooltips(),initPopovers(),initDials()}typeof window<"u"&&(window.initFlowbite=initFlowbite);var events=new Events("load",[initAccordions,initCollapses,initCarousels,initDismisses,initDropdowns,initModals,initDrawers,initTabs,initTooltips,initPopovers,initDials]);events.init();function createTagRepeat(Fe,en,tn={},nn=0,rn=""){const an=Object.keys(tn).reduce((cn,un)=>{let fn=tn[un];return typeof fn=="function"&&(fn=fn(nn)),`${cn} ${un}="${fn}"`},Fe);rn+=`<${an}></${Fe}>`;const ln=nn+1;return ln<en?createTagRepeat(Fe,en,tn,ln,rn):rn}function optimizeTemplateHTML(Fe){return Fe.replace(/>\s+/g,">").replace(/\s+</,"<")}if(!Event.prototype.composedPath){const Fe=(en,tn=[])=>{tn.push(en);let nn;return en.parentNode?nn=en.parentNode:en.host?nn=en.host:en.defaultView&&(nn=en.defaultView),nn?Fe(nn,tn):tn};Event.prototype.composedPath=function(){return Fe(this.target)}}document.createRange();optimizeTemplateHTML(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`);optimizeTemplateHTML(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">${createTagRepeat("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">${createTagRepeat("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}</div>
</div>`);optimizeTemplateHTML(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">${createTagRepeat("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
</div>`);var sweetalert2$1={exports:{}};/*!
* sweetalert2 v11.9.0
* Released under the MIT License.
*/(function(Fe,en){(function(tn,nn){Fe.exports=nn()})(commonjsGlobal,function(){function tn(_r,Vr){var ai=rn(_r,Vr,"get");return an(_r,ai)}function nn(_r,Vr,ai){var Ai=rn(_r,Vr,"set");return ln(_r,Ai,ai),ai}function rn(_r,Vr,ai){if(!Vr.has(_r))throw new TypeError("attempted to "+ai+" private field on non-instance");return Vr.get(_r)}function an(_r,Vr){return Vr.get?Vr.get.call(_r):Vr.value}function ln(_r,Vr,ai){if(Vr.set)Vr.set.call(_r,ai);else{if(!Vr.writable)throw new TypeError("attempted to set read only private field");Vr.value=ai}}function cn(_r,Vr){if(Vr.has(_r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function un(_r,Vr,ai){cn(_r,Vr),Vr.set(_r,ai)}const fn=100,hn={},pn=()=>{hn.previousActiveElement instanceof HTMLElement?(hn.previousActiveElement.focus(),hn.previousActiveElement=null):document.body&&document.body.focus()},gn=_r=>new Promise(Vr=>{if(!_r)return Vr();const ai=window.scrollX,Ai=window.scrollY;hn.restoreFocusTimeout=setTimeout(()=>{pn(),Vr()},fn),window.scrollTo(ai,Ai)}),mn="swal2-",kn=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((_r,Vr)=>(_r[Vr]=mn+Vr,_r),{}),xn=["success","warning","info","question","error"].reduce((_r,Vr)=>(_r[Vr]=mn+Vr,_r),{}),Sn="SweetAlert2:",Mn=_r=>_r.charAt(0).toUpperCase()+_r.slice(1),In=_r=>{console.warn("".concat(Sn," ").concat(typeof _r=="object"?_r.join(" "):_r))},On=_r=>{console.error("".concat(Sn," ").concat(_r))},Pn=[],Tn=_r=>{Pn.includes(_r)||(Pn.push(_r),In(_r))},Nn=(_r,Vr)=>{Tn('"'.concat(_r,'" is deprecated and will be removed in the next major release. Please use "').concat(Vr,'" instead.'))},Hn=_r=>typeof _r=="function"?_r():_r,Un=_r=>_r&&typeof _r.toPromise=="function",jn=_r=>Un(_r)?_r.toPromise():Promise.resolve(_r),Yn=_r=>_r&&Promise.resolve(_r)===_r,Wn=()=>document.body.querySelector(".".concat(kn.container)),Qn=_r=>{const Vr=Wn();return Vr?Vr.querySelector(_r):null},Xn=_r=>Qn(".".concat(_r)),jr=()=>Xn(kn.popup),Wr=()=>Xn(kn.icon),Jr=()=>Xn(kn["icon-content"]),ci=()=>Xn(kn.title),ti=()=>Xn(kn["html-container"]),Zr=()=>Xn(kn.image),Br=()=>Xn(kn["progress-steps"]),Jn=()=>Xn(kn["validation-message"]),oi=()=>Qn(".".concat(kn.actions," .").concat(kn.confirm)),pi=()=>Qn(".".concat(kn.actions," .").concat(kn.cancel)),ri=()=>Qn(".".concat(kn.actions," .").concat(kn.deny)),fi=()=>Xn(kn["input-label"]),yi=()=>Qn(".".concat(kn.loader)),Si=()=>Xn(kn.actions),Pi=()=>Xn(kn.footer),Ui=()=>Xn(kn["timer-progress-bar"]),ji=()=>Xn(kn.close),go=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,po=()=>{const _r=jr();if(!_r)return[];const Vr=_r.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),ai=Array.from(Vr).sort((aa,Ja)=>{const ys=parseInt(aa.getAttribute("tabindex")||"0"),Us=parseInt(Ja.getAttribute("tabindex")||"0");return ys>Us?1:ys<Us?-1:0}),Ai=_r.querySelectorAll(go),ao=Array.from(Ai).filter(aa=>aa.getAttribute("tabindex")!=="-1");return[...new Set(ai.concat(ao))].filter(aa=>bo(aa))},Yi=()=>Wi(document.body,kn.shown)&&!Wi(document.body,kn["toast-shown"])&&!Wi(document.body,kn["no-backdrop"]),Fo=()=>{const _r=jr();return _r?Wi(_r,kn.toast):!1},Po=()=>{const _r=jr();return _r?_r.hasAttribute("data-loading"):!1},Oi=(_r,Vr)=>{if(_r.textContent="",Vr){const Ai=new DOMParser().parseFromString(Vr,"text/html"),ao=Ai.querySelector("head");ao&&Array.from(ao.childNodes).forEach(Ja=>{_r.appendChild(Ja)});const aa=Ai.querySelector("body");aa&&Array.from(aa.childNodes).forEach(Ja=>{Ja instanceof HTMLVideoElement||Ja instanceof HTMLAudioElement?_r.appendChild(Ja.cloneNode(!0)):_r.appendChild(Ja)})}},Wi=(_r,Vr)=>{if(!Vr)return!1;const ai=Vr.split(/\s+/);for(let Ai=0;Ai<ai.length;Ai++)if(!_r.classList.contains(ai[Ai]))return!1;return!0},vo=(_r,Vr)=>{Array.from(_r.classList).forEach(ai=>{!Object.values(kn).includes(ai)&&!Object.values(xn).includes(ai)&&!Object.values(Vr.showClass||{}).includes(ai)&&_r.classList.remove(ai)})},mo=(_r,Vr,ai)=>{if(vo(_r,Vr),Vr.customClass&&Vr.customClass[ai]){if(typeof Vr.customClass[ai]!="string"&&!Vr.customClass[ai].forEach){In("Invalid type of customClass.".concat(ai,'! Expected string or iterable object, got "').concat(typeof Vr.customClass[ai],'"'));return}gi(_r,Vr.customClass[ai])}},ro=(_r,Vr)=>{if(!Vr)return null;switch(Vr){case"select":case"textarea":case"file":return _r.querySelector(".".concat(kn.popup," > .").concat(kn[Vr]));case"checkbox":return _r.querySelector(".".concat(kn.popup," > .").concat(kn.checkbox," input"));case"radio":return _r.querySelector(".".concat(kn.popup," > .").concat(kn.radio," input:checked"))||_r.querySelector(".".concat(kn.popup," > .").concat(kn.radio," input:first-child"));case"range":return _r.querySelector(".".concat(kn.popup," > .").concat(kn.range," input"));default:return _r.querySelector(".".concat(kn.popup," > .").concat(kn.input))}},Oo=_r=>{if(_r.focus(),_r.type!=="file"){const Vr=_r.value;_r.value="",_r.value=Vr}},Mi=(_r,Vr,ai)=>{!_r||!Vr||(typeof Vr=="string"&&(Vr=Vr.split(/\s+/).filter(Boolean)),Vr.forEach(Ai=>{Array.isArray(_r)?_r.forEach(ao=>{ai?ao.classList.add(Ai):ao.classList.remove(Ai)}):ai?_r.classList.add(Ai):_r.classList.remove(Ai)}))},gi=(_r,Vr)=>{Mi(_r,Vr,!0)},Ti=(_r,Vr)=>{Mi(_r,Vr,!1)},li=(_r,Vr)=>{const ai=Array.from(_r.children);for(let Ai=0;Ai<ai.length;Ai++){const ao=ai[Ai];if(ao instanceof HTMLElement&&Wi(ao,Vr))return ao}},di=(_r,Vr,ai)=>{ai==="".concat(parseInt(ai))&&(ai=parseInt(ai)),ai||parseInt(ai)===0?_r.style[Vr]=typeof ai=="number"?"".concat(ai,"px"):ai:_r.style.removeProperty(Vr)},Di=function(_r){let Vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";_r&&(_r.style.display=Vr)},bi=_r=>{_r&&(_r.style.display="none")},Li=function(_r){let Vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";_r&&new MutationObserver(()=>{ko(_r,_r.innerHTML,Vr)}).observe(_r,{childList:!0,subtree:!0})},yo=(_r,Vr,ai,Ai)=>{const ao=_r.querySelector(Vr);ao&&(ao.style[ai]=Ai)},ko=function(_r,Vr){let ai=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";Vr?Di(_r,ai):bi(_r)},bo=_r=>!!(_r&&(_r.offsetWidth||_r.offsetHeight||_r.getClientRects().length)),$o=()=>!bo(oi())&&!bo(ri())&&!bo(pi()),ra=_r=>_r.scrollHeight>_r.clientHeight,Xi=_r=>{const Vr=window.getComputedStyle(_r),ai=parseFloat(Vr.getPropertyValue("animation-duration")||"0"),Ai=parseFloat(Vr.getPropertyValue("transition-duration")||"0");return ai>0||Ai>0},zo=function(_r){let Vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const ai=Ui();ai&&bo(ai)&&(Vr&&(ai.style.transition="none",ai.style.width="100%"),setTimeout(()=>{ai.style.transition="width ".concat(_r/1e3,"s linear"),ai.style.width="0%"},10))},fo=()=>{const _r=Ui();if(!_r)return;const Vr=parseInt(window.getComputedStyle(_r).width);_r.style.removeProperty("transition"),_r.style.width="100%";const ai=parseInt(window.getComputedStyle(_r).width),Ai=Vr/ai*100;_r.style.width="".concat(Ai,"%")},la=()=>typeof window>"u"||typeof document>"u",ya=`
 <div aria-labelledby="`.concat(kn.title,'" aria-describedby="').concat(kn["html-container"],'" class="').concat(kn.popup,`" tabindex="-1">
   <button type="button" class="`).concat(kn.close,`"></button>
   <ul class="`).concat(kn["progress-steps"],`"></ul>
   <div class="`).concat(kn.icon,`"></div>
   <img class="`).concat(kn.image,`" />
   <h2 class="`).concat(kn.title,'" id="').concat(kn.title,`"></h2>
   <div class="`).concat(kn["html-container"],'" id="').concat(kn["html-container"],`"></div>
   <input class="`).concat(kn.input,'" id="').concat(kn.input,`" />
   <input type="file" class="`).concat(kn.file,`" />
   <div class="`).concat(kn.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(kn.select,'" id="').concat(kn.select,`"></select>
   <div class="`).concat(kn.radio,`"></div>
   <label class="`).concat(kn.checkbox,`">
     <input type="checkbox" id="`).concat(kn.checkbox,`" />
     <span class="`).concat(kn.label,`"></span>
   </label>
   <textarea class="`).concat(kn.textarea,'" id="').concat(kn.textarea,`"></textarea>
   <div class="`).concat(kn["validation-message"],'" id="').concat(kn["validation-message"],`"></div>
   <div class="`).concat(kn.actions,`">
     <div class="`).concat(kn.loader,`"></div>
     <button type="button" class="`).concat(kn.confirm,`"></button>
     <button type="button" class="`).concat(kn.deny,`"></button>
     <button type="button" class="`).concat(kn.cancel,`"></button>
   </div>
   <div class="`).concat(kn.footer,`"></div>
   <div class="`).concat(kn["timer-progress-bar-container"],`">
     <div class="`).concat(kn["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Ms=()=>{const _r=Wn();return _r?(_r.remove(),Ti([document.documentElement,document.body],[kn["no-backdrop"],kn["toast-shown"],kn["has-column"]]),!0):!1},da=()=>{hn.currentInstance.resetValidationMessage()},os=()=>{const _r=jr(),Vr=li(_r,kn.input),ai=li(_r,kn.file),Ai=_r.querySelector(".".concat(kn.range," input")),ao=_r.querySelector(".".concat(kn.range," output")),aa=li(_r,kn.select),Ja=_r.querySelector(".".concat(kn.checkbox," input")),ys=li(_r,kn.textarea);Vr.oninput=da,ai.onchange=da,aa.onchange=da,Ja.onchange=da,ys.oninput=da,Ai.oninput=()=>{da(),ao.value=Ai.value},Ai.onchange=()=>{da(),ao.value=Ai.value}},Fa=_r=>typeof _r=="string"?document.querySelector(_r):_r,As=_r=>{const Vr=jr();Vr.setAttribute("role",_r.toast?"alert":"dialog"),Vr.setAttribute("aria-live",_r.toast?"polite":"assertive"),_r.toast||Vr.setAttribute("aria-modal","true")},Zs=_r=>{window.getComputedStyle(_r).direction==="rtl"&&gi(Wn(),kn.rtl)},gl=_r=>{const Vr=Ms();if(la()){On("SweetAlert2 requires document to initialize");return}const ai=document.createElement("div");ai.className=kn.container,Vr&&gi(ai,kn["no-transition"]),Oi(ai,ya);const Ai=Fa(_r.target);Ai.appendChild(ai),As(_r),Zs(Ai),os()},us=(_r,Vr)=>{_r instanceof HTMLElement?Vr.appendChild(_r):typeof _r=="object"?jl(_r,Vr):_r&&Oi(Vr,_r)},jl=(_r,Vr)=>{_r.jquery?vl(Vr,_r):Oi(Vr,_r.toString())},vl=(_r,Vr)=>{if(_r.textContent="",0 in Vr)for(let ai=0;ai in Vr;ai++)_r.appendChild(Vr[ai].cloneNode(!0));else _r.appendChild(Vr.cloneNode(!0))},fs=(()=>{if(la())return!1;const _r=document.createElement("div");return typeof _r.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof _r.style.animation<"u"?"animationend":!1})(),$i=(_r,Vr)=>{const ai=Si(),Ai=yi();!ai||!Ai||(!Vr.showConfirmButton&&!Vr.showDenyButton&&!Vr.showCancelButton?bi(ai):Di(ai),mo(ai,Vr,"actions"),Hi(ai,Ai,Vr),Oi(Ai,Vr.loaderHtml||""),mo(Ai,Vr,"loader"))};function Hi(_r,Vr,ai){const Ai=oi(),ao=ri(),aa=pi();!Ai||!ao||!aa||(So(Ai,"confirm",ai),So(ao,"deny",ai),So(aa,"cancel",ai),io(Ai,ao,aa,ai),ai.reverseButtons&&(ai.toast?(_r.insertBefore(aa,Ai),_r.insertBefore(ao,Ai)):(_r.insertBefore(aa,Vr),_r.insertBefore(ao,Vr),_r.insertBefore(Ai,Vr))))}function io(_r,Vr,ai,Ai){if(!Ai.buttonsStyling){Ti([_r,Vr,ai],kn.styled);return}gi([_r,Vr,ai],kn.styled),Ai.confirmButtonColor&&(_r.style.backgroundColor=Ai.confirmButtonColor,gi(_r,kn["default-outline"])),Ai.denyButtonColor&&(Vr.style.backgroundColor=Ai.denyButtonColor,gi(Vr,kn["default-outline"])),Ai.cancelButtonColor&&(ai.style.backgroundColor=Ai.cancelButtonColor,gi(ai,kn["default-outline"]))}function So(_r,Vr,ai){const Ai=Mn(Vr);ko(_r,ai["show".concat(Ai,"Button")],"inline-block"),Oi(_r,ai["".concat(Vr,"ButtonText")]||""),_r.setAttribute("aria-label",ai["".concat(Vr,"ButtonAriaLabel")]||""),_r.className=kn[Vr],mo(_r,ai,"".concat(Vr,"Button"))}const Xo=(_r,Vr)=>{const ai=ji();ai&&(Oi(ai,Vr.closeButtonHtml||""),mo(ai,Vr,"closeButton"),ko(ai,Vr.showCloseButton),ai.setAttribute("aria-label",Vr.closeButtonAriaLabel||""))},Ro=(_r,Vr)=>{const ai=Wn();ai&&(To(ai,Vr.backdrop),Ra(ai,Vr.position),fa(ai,Vr.grow),mo(ai,Vr,"container"))};function To(_r,Vr){typeof Vr=="string"?_r.style.background=Vr:Vr||gi([document.documentElement,document.body],kn["no-backdrop"])}function Ra(_r,Vr){Vr&&(Vr in kn?gi(_r,kn[Vr]):(In('The "position" parameter is not valid, defaulting to "center"'),gi(_r,kn.center)))}function fa(_r,Vr){Vr&&gi(_r,kn["grow-".concat(Vr)])}var jo={innerParams:new WeakMap,domCache:new WeakMap};const Ca=["input","file","range","select","radio","checkbox","textarea"],ja=(_r,Vr)=>{const ai=jr();if(!ai)return;const Ai=jo.innerParams.get(_r),ao=!Ai||Vr.input!==Ai.input;Ca.forEach(aa=>{const Ja=li(ai,kn[aa]);Ja&&(Ya(aa,Vr.inputAttributes),Ja.className=kn[aa],ao&&bi(Ja))}),Vr.input&&(ao&&ss(Vr),ha(Vr))},ss=_r=>{if(!_r.input)return;if(!Ei[_r.input]){On("Unexpected type of input! Expected ".concat(Object.keys(Ei).join(" | "),', got "').concat(_r.input,'"'));return}const Vr=oa(_r.input),ai=Ei[_r.input](Vr,_r);Di(Vr),_r.inputAutoFocus&&setTimeout(()=>{Oo(ai)})},za=_r=>{for(let Vr=0;Vr<_r.attributes.length;Vr++){const ai=_r.attributes[Vr].name;["id","type","value","style"].includes(ai)||_r.removeAttribute(ai)}},Ya=(_r,Vr)=>{const ai=ro(jr(),_r);if(ai){za(ai);for(const Ai in Vr)ai.setAttribute(Ai,Vr[Ai])}},ha=_r=>{const Vr=oa(_r.input);typeof _r.customClass=="object"&&gi(Vr,_r.customClass.input)},ia=(_r,Vr)=>{(!_r.placeholder||Vr.inputPlaceholder)&&(_r.placeholder=Vr.inputPlaceholder)},ca=(_r,Vr,ai)=>{if(ai.inputLabel){const Ai=document.createElement("label"),ao=kn["input-label"];Ai.setAttribute("for",_r.id),Ai.className=ao,typeof ai.customClass=="object"&&gi(Ai,ai.customClass.inputLabel),Ai.innerText=ai.inputLabel,Vr.insertAdjacentElement("beforebegin",Ai)}},oa=_r=>li(jr(),kn[_r]||kn.input),Uo=(_r,Vr)=>{["string","number"].includes(typeof Vr)?_r.value="".concat(Vr):Yn(Vr)||In('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Vr,'"'))},Ei={};Ei.text=Ei.email=Ei.password=Ei.number=Ei.tel=Ei.url=Ei.search=Ei.date=Ei["datetime-local"]=Ei.time=Ei.week=Ei.month=(_r,Vr)=>(Uo(_r,Vr.inputValue),ca(_r,_r,Vr),ia(_r,Vr),_r.type=Vr.input,_r),Ei.file=(_r,Vr)=>(ca(_r,_r,Vr),ia(_r,Vr),_r),Ei.range=(_r,Vr)=>{const ai=_r.querySelector("input"),Ai=_r.querySelector("output");return Uo(ai,Vr.inputValue),ai.type=Vr.input,Uo(Ai,Vr.inputValue),ca(ai,_r,Vr),_r},Ei.select=(_r,Vr)=>{if(_r.textContent="",Vr.inputPlaceholder){const ai=document.createElement("option");Oi(ai,Vr.inputPlaceholder),ai.value="",ai.disabled=!0,ai.selected=!0,_r.appendChild(ai)}return ca(_r,_r,Vr),_r},Ei.radio=_r=>(_r.textContent="",_r),Ei.checkbox=(_r,Vr)=>{const ai=ro(jr(),"checkbox");ai.value="1",ai.checked=!!Vr.inputValue;const Ai=_r.querySelector("span");return Oi(Ai,Vr.inputPlaceholder),ai},Ei.textarea=(_r,Vr)=>{Uo(_r,Vr.inputValue),ia(_r,Vr),ca(_r,_r,Vr);const ai=Ai=>parseInt(window.getComputedStyle(Ai).marginLeft)+parseInt(window.getComputedStyle(Ai).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const Ai=parseInt(window.getComputedStyle(jr()).width),ao=()=>{if(!document.body.contains(_r))return;const aa=_r.offsetWidth+ai(_r);aa>Ai?jr().style.width="".concat(aa,"px"):di(jr(),"width",Vr.width)};new MutationObserver(ao).observe(_r,{attributes:!0,attributeFilter:["style"]})}}),_r};const vs=(_r,Vr)=>{const ai=ti();ai&&(Li(ai),mo(ai,Vr,"htmlContainer"),Vr.html?(us(Vr.html,ai),Di(ai,"block")):Vr.text?(ai.textContent=Vr.text,Di(ai,"block")):bi(ai),ja(_r,Vr))},ma=(_r,Vr)=>{const ai=Pi();ai&&(Li(ai),ko(ai,Vr.footer,"block"),Vr.footer&&us(Vr.footer,ai),mo(ai,Vr,"footer"))},Bs=(_r,Vr)=>{const ai=jo.innerParams.get(_r),Ai=Wr();if(Ai){if(ai&&Vr.icon===ai.icon){lo(Ai,Vr),Ea(Ai,Vr);return}if(!Vr.icon&&!Vr.iconHtml){bi(Ai);return}if(Vr.icon&&Object.keys(xn).indexOf(Vr.icon)===-1){On('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Vr.icon,'"')),bi(Ai);return}Di(Ai),lo(Ai,Vr),Ea(Ai,Vr),gi(Ai,Vr.showClass&&Vr.showClass.icon)}},Ea=(_r,Vr)=>{for(const[ai,Ai]of Object.entries(xn))Vr.icon!==ai&&Ti(_r,Ai);gi(_r,Vr.icon&&xn[Vr.icon]),ea(_r,Vr),Fs(),mo(_r,Vr,"icon")},Fs=()=>{const _r=jr();if(!_r)return;const Vr=window.getComputedStyle(_r).getPropertyValue("background-color"),ai=_r.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ai=0;Ai<ai.length;Ai++)ai[Ai].style.backgroundColor=Vr},Js=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ul=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,lo=(_r,Vr)=>{if(!Vr.icon&&!Vr.iconHtml)return;let ai=_r.innerHTML,Ai="";Vr.iconHtml?Ai=hs(Vr.iconHtml):Vr.icon==="success"?(Ai=Js,ai=ai.replace(/ style=".*?"/g,"")):Vr.icon==="error"?Ai=ul:Vr.icon&&(Ai=hs({question:"?",warning:"!",info:"i"}[Vr.icon])),ai.trim()!==Ai.trim()&&Oi(_r,Ai)},ea=(_r,Vr)=>{if(Vr.iconColor){_r.style.color=Vr.iconColor,_r.style.borderColor=Vr.iconColor;for(const ai of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])yo(_r,ai,"backgroundColor",Vr.iconColor);yo(_r,".swal2-success-ring","borderColor",Vr.iconColor)}},hs=_r=>'<div class="'.concat(kn["icon-content"],'">').concat(_r,"</div>"),ml=(_r,Vr)=>{const ai=Zr();if(ai){if(!Vr.imageUrl){bi(ai);return}Di(ai,""),ai.setAttribute("src",Vr.imageUrl),ai.setAttribute("alt",Vr.imageAlt||""),di(ai,"width",Vr.imageWidth),di(ai,"height",Vr.imageHeight),ai.className=kn.image,mo(ai,Vr,"image")}},ki=(_r,Vr)=>{const ai=Wn(),Ai=jr();if(!(!ai||!Ai)){if(Vr.toast){di(ai,"width",Vr.width),Ai.style.width="100%";const ao=yi();ao&&Ai.insertBefore(ao,Wr())}else di(Ai,"width",Vr.width);di(Ai,"padding",Vr.padding),Vr.color&&(Ai.style.color=Vr.color),Vr.background&&(Ai.style.background=Vr.background),bi(Jn()),vi(Ai,Vr)}},vi=(_r,Vr)=>{const ai=Vr.showClass||{};_r.className="".concat(kn.popup," ").concat(bo(_r)?ai.popup:""),Vr.toast?(gi([document.documentElement,document.body],kn["toast-shown"]),gi(_r,kn.toast)):gi(_r,kn.modal),mo(_r,Vr,"popup"),typeof Vr.customClass=="string"&&gi(_r,Vr.customClass),Vr.icon&&gi(_r,kn["icon-".concat(Vr.icon)])},Bi=(_r,Vr)=>{const ai=Br();if(!ai)return;const{progressSteps:Ai,currentProgressStep:ao}=Vr;if(!Ai||Ai.length===0||ao===void 0){bi(ai);return}Di(ai),ai.textContent="",ao>=Ai.length&&In("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Ai.forEach((aa,Ja)=>{const ys=Gi(aa);if(ai.appendChild(ys),Ja===ao&&gi(ys,kn["active-progress-step"]),Ja!==Ai.length-1){const Us=co(Vr);ai.appendChild(Us)}})},Gi=_r=>{const Vr=document.createElement("li");return gi(Vr,kn["progress-step"]),Oi(Vr,_r),Vr},co=_r=>{const Vr=document.createElement("li");return gi(Vr,kn["progress-step-line"]),_r.progressStepsDistance&&di(Vr,"width",_r.progressStepsDistance),Vr},Eo=(_r,Vr)=>{const ai=ci();ai&&(Li(ai),ko(ai,Vr.title||Vr.titleText,"block"),Vr.title&&us(Vr.title,ai),Vr.titleText&&(ai.innerText=Vr.titleText),mo(ai,Vr,"title"))},Bo=(_r,Vr)=>{ki(_r,Vr),Ro(_r,Vr),Bi(_r,Vr),Bs(_r,Vr),ml(_r,Vr),Eo(_r,Vr),Xo(_r,Vr),vs(_r,Vr),$i(_r,Vr),ma(_r,Vr);const ai=jr();typeof Vr.didRender=="function"&&ai&&Vr.didRender(ai)},Co=()=>bo(jr()),Zo=()=>{var _r;return(_r=oi())===null||_r===void 0?void 0:_r.click()},ta=()=>{var _r;return(_r=ri())===null||_r===void 0?void 0:_r.click()},Ho=()=>{var _r;return(_r=pi())===null||_r===void 0?void 0:_r.click()},Da=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),es=_r=>{_r.keydownTarget&&_r.keydownHandlerAdded&&(_r.keydownTarget.removeEventListener("keydown",_r.keydownHandler,{capture:_r.keydownListenerCapture}),_r.keydownHandlerAdded=!1)},Ha=(_r,Vr,ai)=>{es(_r),Vr.toast||(_r.keydownHandler=Ai=>Cs(Vr,Ai,ai),_r.keydownTarget=Vr.keydownListenerCapture?window:jr(),_r.keydownListenerCapture=Vr.keydownListenerCapture,_r.keydownTarget.addEventListener("keydown",_r.keydownHandler,{capture:_r.keydownListenerCapture}),_r.keydownHandlerAdded=!0)},wa=(_r,Vr)=>{var ai;const Ai=po();if(Ai.length){_r=_r+Vr,_r===Ai.length?_r=0:_r===-1&&(_r=Ai.length-1),Ai[_r].focus();return}(ai=jr())===null||ai===void 0||ai.focus()},Ma=["ArrowRight","ArrowDown"],Ia=["ArrowLeft","ArrowUp"],Cs=(_r,Vr,ai)=>{_r&&(Vr.isComposing||Vr.keyCode===229||(_r.stopKeydownPropagation&&Vr.stopPropagation(),Vr.key==="Enter"?Ka(Vr,_r):Vr.key==="Tab"?ms(Vr):[...Ma,...Ia].includes(Vr.key)?va(Vr.key):Vr.key==="Escape"&&Na(Vr,_r,ai)))},Ka=(_r,Vr)=>{if(!Hn(Vr.allowEnterKey))return;const ai=ro(jr(),Vr.input);if(_r.target&&ai&&_r.target instanceof HTMLElement&&_r.target.outerHTML===ai.outerHTML){if(["textarea","file"].includes(Vr.input))return;Zo(),_r.preventDefault()}},ms=_r=>{const Vr=_r.target,ai=po();let Ai=-1;for(let ao=0;ao<ai.length;ao++)if(Vr===ai[ao]){Ai=ao;break}_r.shiftKey?wa(Ai,-1):wa(Ai,1),_r.stopPropagation(),_r.preventDefault()},va=_r=>{const Vr=Si(),ai=oi(),Ai=ri(),ao=pi();if(!Vr||!ai||!Ai||!ao)return;const aa=[ai,Ai,ao];if(document.activeElement instanceof HTMLElement&&!aa.includes(document.activeElement))return;const Ja=Ma.includes(_r)?"nextElementSibling":"previousElementSibling";let ys=document.activeElement;if(ys){for(let Us=0;Us<Vr.children.length;Us++){if(ys=ys[Ja],!ys)return;if(ys instanceof HTMLButtonElement&&bo(ys))break}ys instanceof HTMLButtonElement&&ys.focus()}},Na=(_r,Vr,ai)=>{Hn(Vr.allowEscapeKey)&&(_r.preventDefault(),ai(Da.esc))};var La={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const _s=()=>{Array.from(document.body.children).forEach(Vr=>{Vr===Wn()||Vr.contains(Wn())||(Vr.hasAttribute("aria-hidden")&&Vr.setAttribute("data-previous-aria-hidden",Vr.getAttribute("aria-hidden")||""),Vr.setAttribute("aria-hidden","true"))})},ts=()=>{Array.from(document.body.children).forEach(Vr=>{Vr.hasAttribute("data-previous-aria-hidden")?(Vr.setAttribute("aria-hidden",Vr.getAttribute("data-previous-aria-hidden")||""),Vr.removeAttribute("data-previous-aria-hidden")):Vr.removeAttribute("aria-hidden")})},ps=typeof window<"u"&&!!window.GestureEvent,Is=()=>{if(ps&&!Wi(document.body,kn.iosfix)){const _r=document.body.scrollTop;document.body.style.top="".concat(_r*-1,"px"),gi(document.body,kn.iosfix),xs()}},xs=()=>{const _r=Wn();if(!_r)return;let Vr;_r.ontouchstart=ai=>{Vr=Cl(ai)},_r.ontouchmove=ai=>{Vr&&(ai.preventDefault(),ai.stopPropagation())}},Cl=_r=>{const Vr=_r.target,ai=Wn(),Ai=ti();return!ai||!Ai||ol(_r)||Ll(_r)?!1:Vr===ai||!ra(ai)&&Vr instanceof HTMLElement&&Vr.tagName!=="INPUT"&&Vr.tagName!=="TEXTAREA"&&!(ra(Ai)&&Ai.contains(Vr))},ol=_r=>_r.touches&&_r.touches.length&&_r.touches[0].touchType==="stylus",Ll=_r=>_r.touches&&_r.touches.length>1,tc=()=>{if(Wi(document.body,kn.iosfix)){const _r=parseInt(document.body.style.top,10);Ti(document.body,kn.iosfix),document.body.style.top="",document.body.scrollTop=_r*-1}},nc=()=>{const _r=document.createElement("div");_r.className=kn["scrollbar-measure"],document.body.appendChild(_r);const Vr=_r.getBoundingClientRect().width-_r.clientWidth;return document.body.removeChild(_r),Vr};let qs=null;const Ec=_r=>{qs===null&&(document.body.scrollHeight>window.innerHeight||_r==="scroll")&&(qs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(qs+nc(),"px"))},yl=()=>{qs!==null&&(document.body.style.paddingRight="".concat(qs,"px"),qs=null)};function xl(_r,Vr,ai,Ai){Fo()?el(_r,Ai):(gn(ai).then(()=>el(_r,Ai)),es(hn)),ps?(Vr.setAttribute("style","display:none !important"),Vr.removeAttribute("class"),Vr.innerHTML=""):Vr.remove(),Yi()&&(yl(),tc(),ts()),ns()}function ns(){Ti([document.documentElement,document.body],[kn.shown,kn["height-auto"],kn["no-backdrop"],kn["toast-shown"]])}function Ji(_r){_r=Pa(_r);const Vr=La.swalPromiseResolve.get(this),ai=Ko(this);this.isAwaitingPromise?_r.isDismissed||(pa(this),Vr(_r)):ai&&Vr(_r)}const Ko=_r=>{const Vr=jr();if(!Vr)return!1;const ai=jo.innerParams.get(_r);if(!ai||Wi(Vr,ai.hideClass.popup))return!1;Ti(Vr,ai.showClass.popup),gi(Vr,ai.hideClass.popup);const Ai=Wn();return Ti(Ai,ai.showClass.backdrop),gi(Ai,ai.hideClass.backdrop),Za(_r,Vr,ai),!0};function na(_r){const Vr=La.swalPromiseReject.get(this);pa(this),Vr&&Vr(_r)}const pa=_r=>{_r.isAwaitingPromise&&(delete _r.isAwaitingPromise,jo.innerParams.get(_r)||_r._destroy())},Pa=_r=>typeof _r>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},_r),Za=(_r,Vr,ai)=>{const Ai=Wn(),ao=fs&&Xi(Vr);typeof ai.willClose=="function"&&ai.willClose(Vr),ao?zs(_r,Vr,Ai,ai.returnFocus,ai.didClose):xl(_r,Ai,ai.returnFocus,ai.didClose)},zs=(_r,Vr,ai,Ai,ao)=>{fs&&(hn.swalCloseEventFinishedCallback=xl.bind(null,_r,ai,Ai,ao),Vr.addEventListener(fs,function(aa){aa.target===Vr&&(hn.swalCloseEventFinishedCallback(),delete hn.swalCloseEventFinishedCallback)}))},el=(_r,Vr)=>{setTimeout(()=>{typeof Vr=="function"&&Vr.bind(_r.params)(),_r._destroy&&_r._destroy()})},Sl=_r=>{let Vr=jr();if(Vr||new $u,Vr=jr(),!Vr)return;const ai=yi();Fo()?bi(Wr()):bl(Vr,_r),Di(ai),Vr.setAttribute("data-loading","true"),Vr.setAttribute("aria-busy","true"),Vr.focus()},bl=(_r,Vr)=>{const ai=Si(),Ai=yi();!ai||!Ai||(!Vr&&bo(oi())&&(Vr=oi()),Di(ai),Vr&&(bi(Vr),Ai.setAttribute("data-button-to-replace",Vr.className),ai.insertBefore(Ai,Vr)),gi([_r,ai],kn.loading))},El=(_r,Vr)=>{Vr.input==="select"||Vr.input==="radio"?Fr(_r,Vr):["text","email","number","tel","textarea"].some(ai=>ai===Vr.input)&&(Un(Vr.inputValue)||Yn(Vr.inputValue))&&(Sl(oi()),Ur(_r,Vr))},Ul=(_r,Vr)=>{const ai=_r.getInput();if(!ai)return null;switch(Vr.input){case"checkbox":return al(ai);case"radio":return zn(ai);case"file":return qn(ai);default:return Vr.inputAutoTrim?ai.value.trim():ai.value}},al=_r=>_r.checked?1:0,zn=_r=>_r.checked?_r.value:null,qn=_r=>_r.files&&_r.files.length?_r.getAttribute("multiple")!==null?_r.files:_r.files[0]:null,Fr=(_r,Vr)=>{const ai=jr();if(!ai)return;const Ai=ao=>{Vr.input==="select"?ei(ai,ui(ao),Vr):Vr.input==="radio"&&ni(ai,ui(ao),Vr)};Un(Vr.inputOptions)||Yn(Vr.inputOptions)?(Sl(oi()),jn(Vr.inputOptions).then(ao=>{_r.hideLoading(),Ai(ao)})):typeof Vr.inputOptions=="object"?Ai(Vr.inputOptions):On("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Vr.inputOptions))},Ur=(_r,Vr)=>{const ai=_r.getInput();ai&&(bi(ai),jn(Vr.inputValue).then(Ai=>{ai.value=Vr.input==="number"?"".concat(parseFloat(Ai)||0):"".concat(Ai),Di(ai),ai.focus(),_r.hideLoading()}).catch(Ai=>{On("Error in inputValue promise: ".concat(Ai)),ai.value="",Di(ai),ai.focus(),_r.hideLoading()}))};function ei(_r,Vr,ai){const Ai=li(_r,kn.select);if(!Ai)return;const ao=(aa,Ja,ys)=>{const Us=document.createElement("option");Us.value=ys,Oi(Us,Ja),Us.selected=Ii(ys,ai.inputValue),aa.appendChild(Us)};Vr.forEach(aa=>{const Ja=aa[0],ys=aa[1];if(Array.isArray(ys)){const Us=document.createElement("optgroup");Us.label=Ja,Us.disabled=!1,Ai.appendChild(Us),ys.forEach(Mc=>ao(Us,Mc[1],Mc[0]))}else ao(Ai,ys,Ja)}),Ai.focus()}function ni(_r,Vr,ai){const Ai=li(_r,kn.radio);if(!Ai)return;Vr.forEach(aa=>{const Ja=aa[0],ys=aa[1],Us=document.createElement("input"),Mc=document.createElement("label");Us.type="radio",Us.name=kn.radio,Us.value=Ja,Ii(Ja,ai.inputValue)&&(Us.checked=!0);const Bu=document.createElement("span");Oi(Bu,ys),Bu.className=kn.label,Mc.appendChild(Us),Mc.appendChild(Bu),Ai.appendChild(Mc)});const ao=Ai.querySelectorAll("input");ao.length&&ao[0].focus()}const ui=_r=>{const Vr=[];return _r instanceof Map?_r.forEach((ai,Ai)=>{let ao=ai;typeof ao=="object"&&(ao=ui(ao)),Vr.push([Ai,ao])}):Object.keys(_r).forEach(ai=>{let Ai=_r[ai];typeof Ai=="object"&&(Ai=ui(Ai)),Vr.push([ai,Ai])}),Vr},Ii=(_r,Vr)=>!!Vr&&Vr.toString()===_r.toString(),xi=_r=>{const Vr=jo.innerParams.get(_r);_r.disableButtons(),Vr.input?uo(_r,"confirm"):xa(_r,!0)},Fi=_r=>{const Vr=jo.innerParams.get(_r);_r.disableButtons(),Vr.returnInputValueOnDeny?uo(_r,"deny"):_o(_r,!1)},no=(_r,Vr)=>{_r.disableButtons(),Vr(Da.cancel)},uo=(_r,Vr)=>{const ai=jo.innerParams.get(_r);if(!ai.input){On('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Mn(Vr)));return}const Ai=_r.getInput(),ao=Ul(_r,ai);ai.inputValidator?Ki(_r,ao,Vr):Ai&&!Ai.checkValidity()?(_r.enableButtons(),_r.showValidationMessage(ai.validationMessage)):Vr==="deny"?_o(_r,ao):xa(_r,ao)},Ki=(_r,Vr,ai)=>{const Ai=jo.innerParams.get(_r);_r.disableInput(),Promise.resolve().then(()=>jn(Ai.inputValidator(Vr,Ai.validationMessage))).then(aa=>{_r.enableButtons(),_r.enableInput(),aa?_r.showValidationMessage(aa):ai==="deny"?_o(_r,Vr):xa(_r,Vr)})},_o=(_r,Vr)=>{const ai=jo.innerParams.get(_r||void 0);ai.showLoaderOnDeny&&Sl(ri()),ai.preDeny?(_r.isAwaitingPromise=!0,Promise.resolve().then(()=>jn(ai.preDeny(Vr,ai.validationMessage))).then(ao=>{ao===!1?(_r.hideLoading(),pa(_r)):_r.close({isDenied:!0,value:typeof ao>"u"?Vr:ao})}).catch(ao=>Wa(_r||void 0,ao))):_r.close({isDenied:!0,value:Vr})},ba=(_r,Vr)=>{_r.close({isConfirmed:!0,value:Vr})},Wa=(_r,Vr)=>{_r.rejectPromise(Vr)},xa=(_r,Vr)=>{const ai=jo.innerParams.get(_r||void 0);ai.showLoaderOnConfirm&&Sl(),ai.preConfirm?(_r.resetValidationMessage(),_r.isAwaitingPromise=!0,Promise.resolve().then(()=>jn(ai.preConfirm(Vr,ai.validationMessage))).then(ao=>{bo(Jn())||ao===!1?(_r.hideLoading(),pa(_r)):ba(_r,typeof ao>"u"?Vr:ao)}).catch(ao=>Wa(_r||void 0,ao))):ba(_r,Vr)};function Ss(){const _r=jo.innerParams.get(this);if(!_r)return;const Vr=jo.domCache.get(this);bi(Vr.loader),Fo()?_r.icon&&Di(Wr()):tl(Vr),Ti([Vr.popup,Vr.actions],kn.loading),Vr.popup.removeAttribute("aria-busy"),Vr.popup.removeAttribute("data-loading"),Vr.confirmButton.disabled=!1,Vr.denyButton.disabled=!1,Vr.cancelButton.disabled=!1}const tl=_r=>{const Vr=_r.popup.getElementsByClassName(_r.loader.getAttribute("data-button-to-replace"));Vr.length?Di(Vr[0],"inline-block"):$o()&&bi(_r.actions)};function Yl(){const _r=jo.innerParams.get(this),Vr=jo.domCache.get(this);return Vr?ro(Vr.popup,_r.input):null}function Gl(_r,Vr,ai){const Ai=jo.domCache.get(_r);Vr.forEach(ao=>{Ai[ao].disabled=ai})}function $a(_r,Vr){const ai=jr();if(!(!ai||!_r))if(_r.type==="radio"){const Ai=ai.querySelectorAll('[name="'.concat(kn.radio,'"]'));for(let ao=0;ao<Ai.length;ao++)Ai[ao].disabled=Vr}else _r.disabled=Vr}function ws(){Gl(this,["confirmButton","denyButton","cancelButton"],!1)}function Qa(){Gl(this,["confirmButton","denyButton","cancelButton"],!0)}function Ps(){$a(this.getInput(),!1)}function rc(){$a(this.getInput(),!0)}function Yc(_r){const Vr=jo.domCache.get(this),ai=jo.innerParams.get(this);Oi(Vr.validationMessage,_r),Vr.validationMessage.className=kn["validation-message"],ai.customClass&&ai.customClass.validationMessage&&gi(Vr.validationMessage,ai.customClass.validationMessage),Di(Vr.validationMessage);const Ai=this.getInput();Ai&&(Ai.setAttribute("aria-invalid","true"),Ai.setAttribute("aria-describedby",kn["validation-message"]),Oo(Ai),gi(Ai,kn.inputerror))}function Kl(){const _r=jo.domCache.get(this);_r.validationMessage&&bi(_r.validationMessage);const Vr=this.getInput();Vr&&(Vr.removeAttribute("aria-invalid"),Vr.removeAttribute("aria-describedby"),Ti(Vr,kn.inputerror))}const Zl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Pl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ic={},fc=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ol=_r=>Object.prototype.hasOwnProperty.call(Zl,_r),Kc=_r=>Pl.indexOf(_r)!==-1,Xl=_r=>ic[_r],hc=_r=>{Ol(_r)||In('Unknown parameter "'.concat(_r,'"'))},Zc=_r=>{fc.includes(_r)&&In('The parameter "'.concat(_r,'" is incompatible with toasts'))},wc=_r=>{const Vr=Xl(_r);Vr&&Nn(_r,Vr)},Iu=_r=>{_r.backdrop===!1&&_r.allowOutsideClick&&In('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Vr in _r)hc(Vr),_r.toast&&Zc(Vr),wc(Vr)};function ls(_r){const Vr=jr(),ai=jo.innerParams.get(this);if(!Vr||Wi(Vr,ai.hideClass.popup)){In("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const Ai=pu(_r),ao=Object.assign({},ai,Ai);Bo(this,ao),jo.innerParams.set(this,ao),Object.defineProperties(this,{params:{value:Object.assign({},this.params,_r),writable:!1,enumerable:!0}})}const pu=_r=>{const Vr={};return Object.keys(_r).forEach(ai=>{Kc(ai)?Vr[ai]=_r[ai]:In("Invalid parameter to update: ".concat(ai))}),Vr};function Ys(){const _r=jo.domCache.get(this),Vr=jo.innerParams.get(this);if(!Vr){Dc(this);return}_r.popup&&hn.swalCloseEventFinishedCallback&&(hn.swalCloseEventFinishedCallback(),delete hn.swalCloseEventFinishedCallback),typeof Vr.didDestroy=="function"&&Vr.didDestroy(),sl(this)}const sl=_r=>{Dc(_r),delete _r.params,delete hn.keydownHandler,delete hn.keydownTarget,delete hn.currentInstance},Dc=_r=>{_r.isAwaitingPromise?(Ju(jo,_r),_r.isAwaitingPromise=!0):(Ju(La,_r),Ju(jo,_r),delete _r.isAwaitingPromise,delete _r.disableButtons,delete _r.enableButtons,delete _r.getInput,delete _r.disableInput,delete _r.enableInput,delete _r.hideLoading,delete _r.disableLoading,delete _r.showValidationMessage,delete _r.resetValidationMessage,delete _r.close,delete _r.closePopup,delete _r.closeModal,delete _r.closeToast,delete _r.rejectPromise,delete _r.update,delete _r._destroy)},Ju=(_r,Vr)=>{for(const ai in _r)_r[ai].delete(Vr)};var ed=Object.freeze({__proto__:null,_destroy:Ys,close:Ji,closeModal:Ji,closePopup:Ji,closeToast:Ji,disableButtons:Qa,disableInput:rc,disableLoading:Ss,enableButtons:ws,enableInput:Ps,getInput:Yl,handleAwaitingPromise:pa,hideLoading:Ss,rejectPromise:na,resetValidationMessage:Kl,showValidationMessage:Yc,update:ls});const pc=(_r,Vr,ai)=>{_r.toast?Xc(_r,Vr,ai):(Rl(Vr),Qc(Vr),Jc(_r,Vr,ai))},Xc=(_r,Vr,ai)=>{Vr.popup.onclick=()=>{_r&&(gc(_r)||_r.timer||_r.input)||ai(Da.close)}},gc=_r=>!!(_r.showConfirmButton||_r.showDenyButton||_r.showCancelButton||_r.showCloseButton);let vc=!1;const Rl=_r=>{_r.popup.onmousedown=()=>{_r.container.onmouseup=function(Vr){_r.container.onmouseup=()=>{},Vr.target===_r.container&&(vc=!0)}}},Qc=_r=>{_r.container.onmousedown=()=>{_r.popup.onmouseup=function(Vr){_r.popup.onmouseup=()=>{},(Vr.target===_r.popup||Vr.target instanceof HTMLElement&&_r.popup.contains(Vr.target))&&(vc=!0)}}},Jc=(_r,Vr,ai)=>{Vr.container.onclick=Ai=>{if(vc){vc=!1;return}Ai.target===Vr.container&&Hn(_r.allowOutsideClick)&&ai(Da.backdrop)}},td=_r=>typeof _r=="object"&&_r.jquery,nd=_r=>_r instanceof Element||td(_r),Lu=_r=>{const Vr={};return typeof _r[0]=="object"&&!nd(_r[0])?Object.assign(Vr,_r[0]):["title","html","icon"].forEach((ai,Ai)=>{const ao=_r[Ai];typeof ao=="string"||nd(ao)?Vr[ai]=ao:ao!==void 0&&On("Unexpected type of ".concat(ai,'! Expected "string" or "Element", got ').concat(typeof ao))}),Vr};function gu(){const _r=this;for(var Vr=arguments.length,ai=new Array(Vr),Ai=0;Ai<Vr;Ai++)ai[Ai]=arguments[Ai];return new _r(...ai)}function Pu(_r){class Vr extends this{_main(Ai,ao){return super._main(Ai,Object.assign({},_r,ao))}}return Vr}const eu=()=>hn.timeout&&hn.timeout.getTimerLeft(),vu=()=>{if(hn.timeout)return fo(),hn.timeout.stop()},mu=()=>{if(hn.timeout){const _r=hn.timeout.start();return zo(_r),_r}},_i=()=>{const _r=hn.timeout;return _r&&(_r.running?vu():mu())},Ri=_r=>{if(hn.timeout){const Vr=hn.timeout.increase(_r);return zo(Vr,!0),Vr}},qi=()=>!!(hn.timeout&&hn.timeout.isRunning());let Zi=!1;const oo={};function Io(){let _r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";oo[_r]=this,Zi||(document.body.addEventListener("click",Go),Zi=!0)}const Go=_r=>{for(let Vr=_r.target;Vr&&Vr!==document;Vr=Vr.parentNode)for(const ai in oo){const Ai=Vr.getAttribute(ai);if(Ai){oo[ai].fire({template:Ai});return}}};var Mo=Object.freeze({__proto__:null,argsToParams:Lu,bindClickHandler:Io,clickCancel:Ho,clickConfirm:Zo,clickDeny:ta,enableLoading:Sl,fire:gu,getActions:Si,getCancelButton:pi,getCloseButton:ji,getConfirmButton:oi,getContainer:Wn,getDenyButton:ri,getFocusableElements:po,getFooter:Pi,getHtmlContainer:ti,getIcon:Wr,getIconContent:Jr,getImage:Zr,getInputLabel:fi,getLoader:yi,getPopup:jr,getProgressSteps:Br,getTimerLeft:eu,getTimerProgressBar:Ui,getTitle:ci,getValidationMessage:Jn,increaseTimer:Ri,isDeprecatedParameter:Xl,isLoading:Po,isTimerRunning:qi,isUpdatableParameter:Kc,isValidParameter:Ol,isVisible:Co,mixin:Pu,resumeTimer:mu,showLoading:Sl,stopTimer:vu,toggleTimer:_i});class Wo{constructor(Vr,ai){this.callback=Vr,this.remaining=ai,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Vr){const ai=this.running;return ai&&this.stop(),this.remaining+=Vr,ai&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ba=["swal-title","swal-html","swal-footer"],ua=_r=>{const Vr=typeof _r.template=="string"?document.querySelector(_r.template):_r.template;if(!Vr)return{};const ai=Vr.content;return Ql(ai),Object.assign(ka(ai),Ua(ai),ga(ai),Va(ai),Hs(ai),Vs(ai),Ks(ai,Ba))},ka=_r=>{const Vr={};return Array.from(_r.querySelectorAll("swal-param")).forEach(Ai=>{Nl(Ai,["name","value"]);const ao=Ai.getAttribute("name"),aa=Ai.getAttribute("value");typeof Zl[ao]=="boolean"?Vr[ao]=aa!=="false":typeof Zl[ao]=="object"?Vr[ao]=JSON.parse(aa):Vr[ao]=aa}),Vr},Ua=_r=>{const Vr={};return Array.from(_r.querySelectorAll("swal-function-param")).forEach(Ai=>{const ao=Ai.getAttribute("name"),aa=Ai.getAttribute("value");Vr[ao]=new Function("return ".concat(aa))()}),Vr},ga=_r=>{const Vr={};return Array.from(_r.querySelectorAll("swal-button")).forEach(Ai=>{Nl(Ai,["type","color","aria-label"]);const ao=Ai.getAttribute("type");Vr["".concat(ao,"ButtonText")]=Ai.innerHTML,Vr["show".concat(Mn(ao),"Button")]=!0,Ai.hasAttribute("color")&&(Vr["".concat(ao,"ButtonColor")]=Ai.getAttribute("color")),Ai.hasAttribute("aria-label")&&(Vr["".concat(ao,"ButtonAriaLabel")]=Ai.getAttribute("aria-label"))}),Vr},Va=_r=>{const Vr={},ai=_r.querySelector("swal-image");return ai&&(Nl(ai,["src","width","height","alt"]),ai.hasAttribute("src")&&(Vr.imageUrl=ai.getAttribute("src")),ai.hasAttribute("width")&&(Vr.imageWidth=ai.getAttribute("width")),ai.hasAttribute("height")&&(Vr.imageHeight=ai.getAttribute("height")),ai.hasAttribute("alt")&&(Vr.imageAlt=ai.getAttribute("alt"))),Vr},Hs=_r=>{const Vr={},ai=_r.querySelector("swal-icon");return ai&&(Nl(ai,["type","color"]),ai.hasAttribute("type")&&(Vr.icon=ai.getAttribute("type")),ai.hasAttribute("color")&&(Vr.iconColor=ai.getAttribute("color")),Vr.iconHtml=ai.innerHTML),Vr},Vs=_r=>{const Vr={},ai=_r.querySelector("swal-input");ai&&(Nl(ai,["type","label","placeholder","value"]),Vr.input=ai.getAttribute("type")||"text",ai.hasAttribute("label")&&(Vr.inputLabel=ai.getAttribute("label")),ai.hasAttribute("placeholder")&&(Vr.inputPlaceholder=ai.getAttribute("placeholder")),ai.hasAttribute("value")&&(Vr.inputValue=ai.getAttribute("value")));const Ai=Array.from(_r.querySelectorAll("swal-input-option"));return Ai.length&&(Vr.inputOptions={},Ai.forEach(ao=>{Nl(ao,["value"]);const aa=ao.getAttribute("value"),Ja=ao.innerHTML;Vr.inputOptions[aa]=Ja})),Vr},Ks=(_r,Vr)=>{const ai={};for(const Ai in Vr){const ao=Vr[Ai],aa=_r.querySelector(ao);aa&&(Nl(aa,[]),ai[ao.replace(/^swal-/,"")]=aa.innerHTML.trim())}return ai},Ql=_r=>{const Vr=Ba.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(_r.children).forEach(ai=>{const Ai=ai.tagName.toLowerCase();Vr.includes(Ai)||In("Unrecognized element <".concat(Ai,">"))})},Nl=(_r,Vr)=>{Array.from(_r.attributes).forEach(ai=>{Vr.indexOf(ai.name)===-1&&In(['Unrecognized attribute "'.concat(ai.name,'" on <').concat(_r.tagName.toLowerCase(),">."),"".concat(Vr.length?"Allowed attributes are: ".concat(Vr.join(", ")):"To set the value, use HTML within the element.")])})},Xs=10,Ta=_r=>{const Vr=Wn(),ai=jr();typeof _r.willOpen=="function"&&_r.willOpen(ai);const ao=window.getComputedStyle(document.body).overflowY;$c(Vr,ai,_r),setTimeout(()=>{rs(Vr,ai)},Xs),Yi()&&(kc(Vr,_r.scrollbarPadding,ao),_s()),!Fo()&&!hn.previousActiveElement&&(hn.previousActiveElement=document.activeElement),typeof _r.didOpen=="function"&&setTimeout(()=>_r.didOpen(ai)),Ti(Vr,kn["no-transition"])},Nc=_r=>{const Vr=jr();if(_r.target!==Vr||!fs)return;const ai=Wn();Vr.removeEventListener(fs,Nc),ai.style.overflowY="auto"},rs=(_r,Vr)=>{fs&&Xi(Vr)?(_r.style.overflowY="hidden",Vr.addEventListener(fs,Nc)):_r.style.overflowY="auto"},kc=(_r,Vr,ai)=>{Is(),Vr&&ai!=="hidden"&&Ec(ai),setTimeout(()=>{_r.scrollTop=0})},$c=(_r,Vr,ai)=>{gi(_r,ai.showClass.backdrop),Vr.style.setProperty("opacity","0","important"),Di(Vr,"grid"),setTimeout(()=>{gi(Vr,ai.showClass.popup),Vr.style.removeProperty("opacity")},Xs),gi([document.documentElement,document.body],kn.shown),ai.heightAuto&&ai.backdrop&&!ai.toast&&gi([document.documentElement,document.body],kn["height-auto"])};var Ou={email:(_r,Vr)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(_r)?Promise.resolve():Promise.resolve(Vr||"Invalid email address"),url:(_r,Vr)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(_r)?Promise.resolve():Promise.resolve(Vr||"Invalid URL")};function js(_r){_r.inputValidator||(_r.input==="email"&&(_r.inputValidator=Ou.email),_r.input==="url"&&(_r.inputValidator=Ou.url))}function rd(_r){(!_r.target||typeof _r.target=="string"&&!document.querySelector(_r.target)||typeof _r.target!="string"&&!_r.target.appendChild)&&(In('Target parameter is not valid, defaulting to "body"'),_r.target="body")}function Ru(_r){js(_r),_r.showLoaderOnConfirm&&!_r.preConfirm&&In(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),rd(_r),typeof _r.title=="string"&&(_r.title=_r.title.split(`
`).join("<br />")),gl(_r)}let mc;var yu=new WeakMap;class Oa{constructor(){if(un(this,yu,{writable:!0,value:void 0}),typeof window>"u")return;mc=this;for(var Vr=arguments.length,ai=new Array(Vr),Ai=0;Ai<Vr;Ai++)ai[Ai]=arguments[Ai];const ao=Object.freeze(this.constructor.argsToParams(ai));this.params=ao,this.isAwaitingPromise=!1,nn(this,yu,this._main(mc.params))}_main(Vr){let ai=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Iu(Object.assign({},ai,Vr)),hn.currentInstance&&(hn.currentInstance._destroy(),Yi()&&ts()),hn.currentInstance=mc;const Ai=Hd(Vr,ai);Ru(Ai),Object.freeze(Ai),hn.timeout&&(hn.timeout.stop(),delete hn.timeout),clearTimeout(hn.restoreFocusTimeout);const ao=kd(mc);return Bo(mc,Ai),jo.innerParams.set(mc,Ai),wd(mc,ao,Ai)}then(Vr){return tn(this,yu).then(Vr)}finally(Vr){return tn(this,yu).finally(Vr)}}const wd=(_r,Vr,ai)=>new Promise((Ai,ao)=>{const aa=Ja=>{_r.close({isDismissed:!0,dismiss:Ja})};La.swalPromiseResolve.set(_r,Ai),La.swalPromiseReject.set(_r,ao),Vr.confirmButton.onclick=()=>{xi(_r)},Vr.denyButton.onclick=()=>{Fi(_r)},Vr.cancelButton.onclick=()=>{no(_r,aa)},Vr.closeButton.onclick=()=>{aa(Da.close)},pc(ai,Vr,aa),Ha(hn,ai,aa),El(_r,ai),Ta(ai),Nu(hn,ai,aa),Ad(Vr,ai),setTimeout(()=>{Vr.container.scrollTop=0})}),Hd=(_r,Vr)=>{const ai=ua(_r),Ai=Object.assign({},Zl,Vr,ai,_r);return Ai.showClass=Object.assign({},Zl.showClass,Ai.showClass),Ai.hideClass=Object.assign({},Zl.hideClass,Ai.hideClass),Ai},kd=_r=>{const Vr={popup:jr(),container:Wn(),actions:Si(),confirmButton:oi(),denyButton:ri(),cancelButton:pi(),loader:yi(),closeButton:ji(),validationMessage:Jn(),progressSteps:Br()};return jo.domCache.set(_r,Vr),Vr},Nu=(_r,Vr,ai)=>{const Ai=Ui();bi(Ai),Vr.timer&&(_r.timeout=new Wo(()=>{ai("timer"),delete _r.timeout},Vr.timer),Vr.timerProgressBar&&(Di(Ai),mo(Ai,Vr,"timerProgressBar"),setTimeout(()=>{_r.timeout&&_r.timeout.running&&zo(Vr.timer)})))},Ad=(_r,Vr)=>{if(!Vr.toast){if(!Hn(Vr.allowEnterKey)){Tc();return}Ac(_r,Vr)||wa(-1,1)}},Ac=(_r,Vr)=>Vr.focusDeny&&bo(_r.denyButton)?(_r.denyButton.focus(),!0):Vr.focusCancel&&bo(_r.cancelButton)?(_r.cancelButton.focus(),!0):Vr.focusConfirm&&bo(_r.confirmButton)?(_r.confirmButton.focus(),!0):!1,Tc=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const _r=new Date,Vr=localStorage.getItem("swal-initiation");Vr?(_r.getTime()-Date.parse(Vr))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const ai=document.createElement("audio");ai.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",ai.loop=!0,document.body.appendChild(ai),setTimeout(()=>{ai.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(_r))}Oa.prototype.disableButtons=Qa,Oa.prototype.enableButtons=ws,Oa.prototype.getInput=Yl,Oa.prototype.disableInput=rc,Oa.prototype.enableInput=Ps,Oa.prototype.hideLoading=Ss,Oa.prototype.disableLoading=Ss,Oa.prototype.showValidationMessage=Yc,Oa.prototype.resetValidationMessage=Kl,Oa.prototype.close=Ji,Oa.prototype.closePopup=Ji,Oa.prototype.closeModal=Ji,Oa.prototype.closeToast=Ji,Oa.prototype.rejectPromise=na,Oa.prototype.update=ls,Oa.prototype._destroy=Ys,Object.assign(Oa,Mo),Object.keys(ed).forEach(_r=>{Oa[_r]=function(){return mc&&mc[_r]?mc[_r](...arguments):null}}),Oa.DismissReason=Da,Oa.version="11.9.0";const $u=Oa;return $u.default=$u,$u}),typeof commonjsGlobal<"u"&&commonjsGlobal.Sweetalert2&&(commonjsGlobal.swal=commonjsGlobal.sweetAlert=commonjsGlobal.Swal=commonjsGlobal.SweetAlert=commonjsGlobal.Sweetalert2)})(sweetalert2$1);var sweetalert2Exports=sweetalert2$1.exports;const Swal$1=getDefaultExportFromCjs(sweetalert2Exports);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ownKeys$2(Fe,en){var tn=Object.keys(Fe);if(Object.getOwnPropertySymbols){var nn=Object.getOwnPropertySymbols(Fe);en&&(nn=nn.filter(function(rn){return Object.getOwnPropertyDescriptor(Fe,rn).enumerable})),tn.push.apply(tn,nn)}return tn}function _objectSpread2$1(Fe){for(var en=1;en<arguments.length;en++){var tn=arguments[en]!=null?arguments[en]:{};en%2?ownKeys$2(Object(tn),!0).forEach(function(nn){_defineProperty$2(Fe,nn,tn[nn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fe,Object.getOwnPropertyDescriptors(tn)):ownKeys$2(Object(tn)).forEach(function(nn){Object.defineProperty(Fe,nn,Object.getOwnPropertyDescriptor(tn,nn))})}return Fe}function _typeof(Fe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(en){return typeof en}:_typeof=function(en){return en&&typeof Symbol=="function"&&en.constructor===Symbol&&en!==Symbol.prototype?"symbol":typeof en},_typeof(Fe)}function _defineProperty$2(Fe,en,tn){return en in Fe?Object.defineProperty(Fe,en,{value:tn,enumerable:!0,configurable:!0,writable:!0}):Fe[en]=tn,Fe}function _extends(){return _extends=Object.assign||function(Fe){for(var en=1;en<arguments.length;en++){var tn=arguments[en];for(var nn in tn)Object.prototype.hasOwnProperty.call(tn,nn)&&(Fe[nn]=tn[nn])}return Fe},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(Fe,en){if(Fe==null)return{};var tn={},nn=Object.keys(Fe),rn,an;for(an=0;an<nn.length;an++)rn=nn[an],!(en.indexOf(rn)>=0)&&(tn[rn]=Fe[rn]);return tn}function _objectWithoutProperties(Fe,en){if(Fe==null)return{};var tn=_objectWithoutPropertiesLoose(Fe,en),nn,rn;if(Object.getOwnPropertySymbols){var an=Object.getOwnPropertySymbols(Fe);for(rn=0;rn<an.length;rn++)nn=an[rn],!(en.indexOf(nn)>=0)&&Object.prototype.propertyIsEnumerable.call(Fe,nn)&&(tn[nn]=Fe[nn])}return tn}var version$2="1.15.0";function userAgent(Fe){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(Fe)}var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on$1(Fe,en,tn){Fe.addEventListener(en,tn,!IE11OrLess&&captureMode)}function off(Fe,en,tn){Fe.removeEventListener(en,tn,!IE11OrLess&&captureMode)}function matches$1(Fe,en){if(en){if(en[0]===">"&&(en=en.substring(1)),Fe)try{if(Fe.matches)return Fe.matches(en);if(Fe.msMatchesSelector)return Fe.msMatchesSelector(en);if(Fe.webkitMatchesSelector)return Fe.webkitMatchesSelector(en)}catch{return!1}return!1}}function getParentOrHost(Fe){return Fe.host&&Fe!==document&&Fe.host.nodeType?Fe.host:Fe.parentNode}function closest(Fe,en,tn,nn){if(Fe){tn=tn||document;do{if(en!=null&&(en[0]===">"?Fe.parentNode===tn&&matches$1(Fe,en):matches$1(Fe,en))||nn&&Fe===tn)return Fe;if(Fe===tn)break}while(Fe=getParentOrHost(Fe))}return null}var R_SPACE=/\s+/g;function toggleClass(Fe,en,tn){if(Fe&&en)if(Fe.classList)Fe.classList[tn?"add":"remove"](en);else{var nn=(" "+Fe.className+" ").replace(R_SPACE," ").replace(" "+en+" "," ");Fe.className=(nn+(tn?" "+en:"")).replace(R_SPACE," ")}}function css(Fe,en,tn){var nn=Fe&&Fe.style;if(nn){if(tn===void 0)return document.defaultView&&document.defaultView.getComputedStyle?tn=document.defaultView.getComputedStyle(Fe,""):Fe.currentStyle&&(tn=Fe.currentStyle),en===void 0?tn:tn[en];!(en in nn)&&en.indexOf("webkit")===-1&&(en="-webkit-"+en),nn[en]=tn+(typeof tn=="string"?"":"px")}}function matrix$1(Fe,en){var tn="";if(typeof Fe=="string")tn=Fe;else do{var nn=css(Fe,"transform");nn&&nn!=="none"&&(tn=nn+" "+tn)}while(!en&&(Fe=Fe.parentNode));var rn=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return rn&&new rn(tn)}function find$1(Fe,en,tn){if(Fe){var nn=Fe.getElementsByTagName(en),rn=0,an=nn.length;if(tn)for(;rn<an;rn++)tn(nn[rn],rn);return nn}return[]}function getWindowScrollingElement(){var Fe=document.scrollingElement;return Fe||document.documentElement}function getRect(Fe,en,tn,nn,rn){if(!(!Fe.getBoundingClientRect&&Fe!==window)){var an,ln,cn,un,fn,hn,pn;if(Fe!==window&&Fe.parentNode&&Fe!==getWindowScrollingElement()?(an=Fe.getBoundingClientRect(),ln=an.top,cn=an.left,un=an.bottom,fn=an.right,hn=an.height,pn=an.width):(ln=0,cn=0,un=window.innerHeight,fn=window.innerWidth,hn=window.innerHeight,pn=window.innerWidth),(en||tn)&&Fe!==window&&(rn=rn||Fe.parentNode,!IE11OrLess))do if(rn&&rn.getBoundingClientRect&&(css(rn,"transform")!=="none"||tn&&css(rn,"position")!=="static")){var gn=rn.getBoundingClientRect();ln-=gn.top+parseInt(css(rn,"border-top-width")),cn-=gn.left+parseInt(css(rn,"border-left-width")),un=ln+an.height,fn=cn+an.width;break}while(rn=rn.parentNode);if(nn&&Fe!==window){var mn=matrix$1(rn||Fe),_n=mn&&mn.a,kn=mn&&mn.d;mn&&(ln/=kn,cn/=_n,pn/=_n,hn/=kn,un=ln+hn,fn=cn+pn)}return{top:ln,left:cn,bottom:un,right:fn,width:pn,height:hn}}}function isScrolledPast(Fe,en,tn){for(var nn=getParentAutoScrollElement(Fe,!0),rn=getRect(Fe)[en];nn;){var an=getRect(nn)[tn],ln=void 0;if(tn==="top"||tn==="left"?ln=rn>=an:ln=rn<=an,!ln)return nn;if(nn===getWindowScrollingElement())break;nn=getParentAutoScrollElement(nn,!1)}return!1}function getChild(Fe,en,tn,nn){for(var rn=0,an=0,ln=Fe.children;an<ln.length;){if(ln[an].style.display!=="none"&&ln[an]!==Sortable.ghost&&(nn||ln[an]!==Sortable.dragged)&&closest(ln[an],tn.draggable,Fe,!1)){if(rn===en)return ln[an];rn++}an++}return null}function lastChild(Fe,en){for(var tn=Fe.lastElementChild;tn&&(tn===Sortable.ghost||css(tn,"display")==="none"||en&&!matches$1(tn,en));)tn=tn.previousElementSibling;return tn||null}function index(Fe,en){var tn=0;if(!Fe||!Fe.parentNode)return-1;for(;Fe=Fe.previousElementSibling;)Fe.nodeName.toUpperCase()!=="TEMPLATE"&&Fe!==Sortable.clone&&(!en||matches$1(Fe,en))&&tn++;return tn}function getRelativeScrollOffset(Fe){var en=0,tn=0,nn=getWindowScrollingElement();if(Fe)do{var rn=matrix$1(Fe),an=rn.a,ln=rn.d;en+=Fe.scrollLeft*an,tn+=Fe.scrollTop*ln}while(Fe!==nn&&(Fe=Fe.parentNode));return[en,tn]}function indexOfObject(Fe,en){for(var tn in Fe)if(Fe.hasOwnProperty(tn)){for(var nn in en)if(en.hasOwnProperty(nn)&&en[nn]===Fe[tn][nn])return Number(tn)}return-1}function getParentAutoScrollElement(Fe,en){if(!Fe||!Fe.getBoundingClientRect)return getWindowScrollingElement();var tn=Fe,nn=!1;do if(tn.clientWidth<tn.scrollWidth||tn.clientHeight<tn.scrollHeight){var rn=css(tn);if(tn.clientWidth<tn.scrollWidth&&(rn.overflowX=="auto"||rn.overflowX=="scroll")||tn.clientHeight<tn.scrollHeight&&(rn.overflowY=="auto"||rn.overflowY=="scroll")){if(!tn.getBoundingClientRect||tn===document.body)return getWindowScrollingElement();if(nn||en)return tn;nn=!0}}while(tn=tn.parentNode);return getWindowScrollingElement()}function extend$5(Fe,en){if(Fe&&en)for(var tn in en)en.hasOwnProperty(tn)&&(Fe[tn]=en[tn]);return Fe}function isRectEqual(Fe,en){return Math.round(Fe.top)===Math.round(en.top)&&Math.round(Fe.left)===Math.round(en.left)&&Math.round(Fe.height)===Math.round(en.height)&&Math.round(Fe.width)===Math.round(en.width)}var _throttleTimeout;function throttle$2(Fe,en){return function(){if(!_throttleTimeout){var tn=arguments,nn=this;tn.length===1?Fe.call(nn,tn[0]):Fe.apply(nn,tn),_throttleTimeout=setTimeout(function(){_throttleTimeout=void 0},en)}}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(Fe,en,tn){Fe.scrollLeft+=en,Fe.scrollTop+=tn}function clone$7(Fe){var en=window.Polymer,tn=window.jQuery||window.Zepto;return en&&en.dom?en.dom(Fe).cloneNode(!0):tn?tn(Fe).clone(!0)[0]:Fe.cloneNode(!0)}var expando="Sortable"+new Date().getTime();function AnimationStateManager(){var Fe=[],en;return{captureAnimationState:function(){if(Fe=[],!!this.options.animation){var nn=[].slice.call(this.el.children);nn.forEach(function(rn){if(!(css(rn,"display")==="none"||rn===Sortable.ghost)){Fe.push({target:rn,rect:getRect(rn)});var an=_objectSpread2$1({},Fe[Fe.length-1].rect);if(rn.thisAnimationDuration){var ln=matrix$1(rn,!0);ln&&(an.top-=ln.f,an.left-=ln.e)}rn.fromRect=an}})}},addAnimationState:function(nn){Fe.push(nn)},removeAnimationState:function(nn){Fe.splice(indexOfObject(Fe,{target:nn}),1)},animateAll:function(nn){var rn=this;if(!this.options.animation){clearTimeout(en),typeof nn=="function"&&nn();return}var an=!1,ln=0;Fe.forEach(function(cn){var un=0,fn=cn.target,hn=fn.fromRect,pn=getRect(fn),gn=fn.prevFromRect,mn=fn.prevToRect,_n=cn.rect,kn=matrix$1(fn,!0);kn&&(pn.top-=kn.f,pn.left-=kn.e),fn.toRect=pn,fn.thisAnimationDuration&&isRectEqual(gn,pn)&&!isRectEqual(hn,pn)&&(_n.top-pn.top)/(_n.left-pn.left)===(hn.top-pn.top)/(hn.left-pn.left)&&(un=calculateRealTime(_n,gn,mn,rn.options)),isRectEqual(pn,hn)||(fn.prevFromRect=hn,fn.prevToRect=pn,un||(un=rn.options.animation),rn.animate(fn,_n,pn,un)),un&&(an=!0,ln=Math.max(ln,un),clearTimeout(fn.animationResetTimer),fn.animationResetTimer=setTimeout(function(){fn.animationTime=0,fn.prevFromRect=null,fn.fromRect=null,fn.prevToRect=null,fn.thisAnimationDuration=null},un),fn.thisAnimationDuration=un)}),clearTimeout(en),an?en=setTimeout(function(){typeof nn=="function"&&nn()},ln):typeof nn=="function"&&nn(),Fe=[]},animate:function(nn,rn,an,ln){if(ln){css(nn,"transition",""),css(nn,"transform","");var cn=matrix$1(this.el),un=cn&&cn.a,fn=cn&&cn.d,hn=(rn.left-an.left)/(un||1),pn=(rn.top-an.top)/(fn||1);nn.animatingX=!!hn,nn.animatingY=!!pn,css(nn,"transform","translate3d("+hn+"px,"+pn+"px,0)"),this.forRepaintDummy=repaint(nn),css(nn,"transition","transform "+ln+"ms"+(this.options.easing?" "+this.options.easing:"")),css(nn,"transform","translate3d(0,0,0)"),typeof nn.animated=="number"&&clearTimeout(nn.animated),nn.animated=setTimeout(function(){css(nn,"transition",""),css(nn,"transform",""),nn.animated=!1,nn.animatingX=!1,nn.animatingY=!1},ln)}}}}function repaint(Fe){return Fe.offsetWidth}function calculateRealTime(Fe,en,tn,nn){return Math.sqrt(Math.pow(en.top-Fe.top,2)+Math.pow(en.left-Fe.left,2))/Math.sqrt(Math.pow(en.top-tn.top,2)+Math.pow(en.left-tn.left,2))*nn.animation}var plugins=[],defaults$4={initializeByDefault:!0},PluginManager={mount:function(en){for(var tn in defaults$4)defaults$4.hasOwnProperty(tn)&&!(tn in en)&&(en[tn]=defaults$4[tn]);plugins.forEach(function(nn){if(nn.pluginName===en.pluginName)throw"Sortable: Cannot mount plugin ".concat(en.pluginName," more than once")}),plugins.push(en)},pluginEvent:function(en,tn,nn){var rn=this;this.eventCanceled=!1,nn.cancel=function(){rn.eventCanceled=!0};var an=en+"Global";plugins.forEach(function(ln){tn[ln.pluginName]&&(tn[ln.pluginName][an]&&tn[ln.pluginName][an](_objectSpread2$1({sortable:tn},nn)),tn.options[ln.pluginName]&&tn[ln.pluginName][en]&&tn[ln.pluginName][en](_objectSpread2$1({sortable:tn},nn)))})},initializePlugins:function(en,tn,nn,rn){plugins.forEach(function(cn){var un=cn.pluginName;if(!(!en.options[un]&&!cn.initializeByDefault)){var fn=new cn(en,tn,en.options);fn.sortable=en,fn.options=en.options,en[un]=fn,_extends(nn,fn.defaults)}});for(var an in en.options)if(en.options.hasOwnProperty(an)){var ln=this.modifyOption(en,an,en.options[an]);typeof ln<"u"&&(en.options[an]=ln)}},getEventProperties:function(en,tn){var nn={};return plugins.forEach(function(rn){typeof rn.eventProperties=="function"&&_extends(nn,rn.eventProperties.call(tn[rn.pluginName],en))}),nn},modifyOption:function(en,tn,nn){var rn;return plugins.forEach(function(an){en[an.pluginName]&&an.optionListeners&&typeof an.optionListeners[tn]=="function"&&(rn=an.optionListeners[tn].call(en[an.pluginName],nn))}),rn}};function dispatchEvent(Fe){var en=Fe.sortable,tn=Fe.rootEl,nn=Fe.name,rn=Fe.targetEl,an=Fe.cloneEl,ln=Fe.toEl,cn=Fe.fromEl,un=Fe.oldIndex,fn=Fe.newIndex,hn=Fe.oldDraggableIndex,pn=Fe.newDraggableIndex,gn=Fe.originalEvent,mn=Fe.putSortable,_n=Fe.extraEventProperties;if(en=en||tn&&tn[expando],!!en){var kn,Cn=en.options,xn="on"+nn.charAt(0).toUpperCase()+nn.substr(1);window.CustomEvent&&!IE11OrLess&&!Edge?kn=new CustomEvent(nn,{bubbles:!0,cancelable:!0}):(kn=document.createEvent("Event"),kn.initEvent(nn,!0,!0)),kn.to=ln||tn,kn.from=cn||tn,kn.item=rn||tn,kn.clone=an,kn.oldIndex=un,kn.newIndex=fn,kn.oldDraggableIndex=hn,kn.newDraggableIndex=pn,kn.originalEvent=gn,kn.pullMode=mn?mn.lastPutMode:void 0;var Sn=_objectSpread2$1(_objectSpread2$1({},_n),PluginManager.getEventProperties(nn,en));for(var Mn in Sn)kn[Mn]=Sn[Mn];tn&&tn.dispatchEvent(kn),Cn[xn]&&Cn[xn].call(en,kn)}}var _excluded=["evt"],pluginEvent=function(en,tn){var nn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},rn=nn.evt,an=_objectWithoutProperties(nn,_excluded);PluginManager.pluginEvent.bind(Sortable)(en,tn,_objectSpread2$1({dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,dragStarted:moved,putSortable,activeSortable:Sortable.active,originalEvent:rn,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:function(){cloneHidden=!0},cloneNowShown:function(){cloneHidden=!1},dispatchSortableEvent:function(cn){_dispatchEvent({sortable:tn,name:cn,originalEvent:rn})}},an))};function _dispatchEvent(Fe){dispatchEvent(_objectSpread2$1({putSortable,cloneEl,targetEl:dragEl,rootEl,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex},Fe))}var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,pastFirstInvertThresh=!1,isCircumstantialInvert=!1,targetMoveDistance,ghostRelativeParent,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists=typeof document<"u",PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(documentExists){if(IE11OrLess)return!1;var Fe=document.createElement("x");return Fe.style.cssText="pointer-events:auto",Fe.style.pointerEvents==="auto"}}(),_detectDirection=function(en,tn){var nn=css(en),rn=parseInt(nn.width)-parseInt(nn.paddingLeft)-parseInt(nn.paddingRight)-parseInt(nn.borderLeftWidth)-parseInt(nn.borderRightWidth),an=getChild(en,0,tn),ln=getChild(en,1,tn),cn=an&&css(an),un=ln&&css(ln),fn=cn&&parseInt(cn.marginLeft)+parseInt(cn.marginRight)+getRect(an).width,hn=un&&parseInt(un.marginLeft)+parseInt(un.marginRight)+getRect(ln).width;if(nn.display==="flex")return nn.flexDirection==="column"||nn.flexDirection==="column-reverse"?"vertical":"horizontal";if(nn.display==="grid")return nn.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(an&&cn.float&&cn.float!=="none"){var pn=cn.float==="left"?"left":"right";return ln&&(un.clear==="both"||un.clear===pn)?"vertical":"horizontal"}return an&&(cn.display==="block"||cn.display==="flex"||cn.display==="table"||cn.display==="grid"||fn>=rn&&nn[CSSFloatProperty]==="none"||ln&&nn[CSSFloatProperty]==="none"&&fn+hn>rn)?"vertical":"horizontal"},_dragElInRowColumn=function(en,tn,nn){var rn=nn?en.left:en.top,an=nn?en.right:en.bottom,ln=nn?en.width:en.height,cn=nn?tn.left:tn.top,un=nn?tn.right:tn.bottom,fn=nn?tn.width:tn.height;return rn===cn||an===un||rn+ln/2===cn+fn/2},_detectNearestEmptySortable=function(en,tn){var nn;return sortables.some(function(rn){var an=rn[expando].options.emptyInsertThreshold;if(!(!an||lastChild(rn))){var ln=getRect(rn),cn=en>=ln.left-an&&en<=ln.right+an,un=tn>=ln.top-an&&tn<=ln.bottom+an;if(cn&&un)return nn=rn}}),nn},_prepareGroup=function(en){function tn(an,ln){return function(cn,un,fn,hn){var pn=cn.options.group.name&&un.options.group.name&&cn.options.group.name===un.options.group.name;if(an==null&&(ln||pn))return!0;if(an==null||an===!1)return!1;if(ln&&an==="clone")return an;if(typeof an=="function")return tn(an(cn,un,fn,hn),ln)(cn,un,fn,hn);var gn=(ln?cn:un).options.group.name;return an===!0||typeof an=="string"&&an===gn||an.join&&an.indexOf(gn)>-1}}var nn={},rn=en.group;(!rn||_typeof(rn)!="object")&&(rn={name:rn}),nn.name=rn.name,nn.checkPull=tn(rn.pull,!0),nn.checkPut=tn(rn.put),nn.revertClone=rn.revertClone,en.group=nn},_hideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},_unhideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")};documentExists&&!ChromeForAndroid&&document.addEventListener("click",function(Fe){if(ignoreNextClick)return Fe.preventDefault(),Fe.stopPropagation&&Fe.stopPropagation(),Fe.stopImmediatePropagation&&Fe.stopImmediatePropagation(),ignoreNextClick=!1,!1},!0);var nearestEmptyInsertDetectEvent=function(en){if(dragEl){en=en.touches?en.touches[0]:en;var tn=_detectNearestEmptySortable(en.clientX,en.clientY);if(tn){var nn={};for(var rn in en)en.hasOwnProperty(rn)&&(nn[rn]=en[rn]);nn.target=nn.rootEl=tn,nn.preventDefault=void 0,nn.stopPropagation=void 0,tn[expando]._onDragOver(nn)}}},_checkOutsideTargetEl=function(en){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(en.target)};function Sortable(Fe,en){if(!(Fe&&Fe.nodeType&&Fe.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(Fe));this.el=Fe,this.options=en=_extends({},en),Fe[expando]=this;var tn={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(Fe.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(Fe,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(ln,cn){ln.setData("Text",cn.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Sortable.supportPointer!==!1&&"PointerEvent"in window&&!Safari,emptyInsertThreshold:5};PluginManager.initializePlugins(this,Fe,tn);for(var nn in tn)!(nn in en)&&(en[nn]=tn[nn]);_prepareGroup(en);for(var rn in this)rn.charAt(0)==="_"&&typeof this[rn]=="function"&&(this[rn]=this[rn].bind(this));this.nativeDraggable=en.forceFallback?!1:supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),en.supportPointer?on$1(Fe,"pointerdown",this._onTapStart):(on$1(Fe,"mousedown",this._onTapStart),on$1(Fe,"touchstart",this._onTapStart)),this.nativeDraggable&&(on$1(Fe,"dragover",this),on$1(Fe,"dragenter",this)),sortables.push(this.el),en.store&&en.store.get&&this.sort(en.store.get(this)||[]),_extends(this,AnimationStateManager())}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function(en){!this.el.contains(en)&&en!==this.el&&(lastTarget=null)},_getDirection:function(en,tn){return typeof this.options.direction=="function"?this.options.direction.call(this,en,tn,dragEl):this.options.direction},_onTapStart:function(en){if(en.cancelable){var tn=this,nn=this.el,rn=this.options,an=rn.preventOnFilter,ln=en.type,cn=en.touches&&en.touches[0]||en.pointerType&&en.pointerType==="touch"&&en,un=(cn||en).target,fn=en.target.shadowRoot&&(en.path&&en.path[0]||en.composedPath&&en.composedPath()[0])||un,hn=rn.filter;if(_saveInputCheckedState(nn),!dragEl&&!(/mousedown|pointerdown/.test(ln)&&en.button!==0||rn.disabled)&&!fn.isContentEditable&&!(!this.nativeDraggable&&Safari&&un&&un.tagName.toUpperCase()==="SELECT")&&(un=closest(un,rn.draggable,nn,!1),!(un&&un.animated)&&lastDownEl!==un)){if(oldIndex=index(un),oldDraggableIndex=index(un,rn.draggable),typeof hn=="function"){if(hn.call(this,en,un,this)){_dispatchEvent({sortable:tn,rootEl:fn,name:"filter",targetEl:un,toEl:nn,fromEl:nn}),pluginEvent("filter",tn,{evt:en}),an&&en.cancelable&&en.preventDefault();return}}else if(hn&&(hn=hn.split(",").some(function(pn){if(pn=closest(fn,pn.trim(),nn,!1),pn)return _dispatchEvent({sortable:tn,rootEl:pn,name:"filter",targetEl:un,fromEl:nn,toEl:nn}),pluginEvent("filter",tn,{evt:en}),!0}),hn)){an&&en.cancelable&&en.preventDefault();return}rn.handle&&!closest(fn,rn.handle,nn,!1)||this._prepareDragStart(en,cn,un)}}},_prepareDragStart:function(en,tn,nn){var rn=this,an=rn.el,ln=rn.options,cn=an.ownerDocument,un;if(nn&&!dragEl&&nn.parentNode===an){var fn=getRect(nn);if(rootEl=an,dragEl=nn,parentEl=dragEl.parentNode,nextEl=dragEl.nextSibling,lastDownEl=nn,activeGroup=ln.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:(tn||en).clientX,clientY:(tn||en).clientY},tapDistanceLeft=tapEvt.clientX-fn.left,tapDistanceTop=tapEvt.clientY-fn.top,this._lastX=(tn||en).clientX,this._lastY=(tn||en).clientY,dragEl.style["will-change"]="all",un=function(){if(pluginEvent("delayEnded",rn,{evt:en}),Sortable.eventCanceled){rn._onDrop();return}rn._disableDelayedDragEvents(),!FireFox&&rn.nativeDraggable&&(dragEl.draggable=!0),rn._triggerDragStart(en,tn),_dispatchEvent({sortable:rn,name:"choose",originalEvent:en}),toggleClass(dragEl,ln.chosenClass,!0)},ln.ignore.split(",").forEach(function(hn){find$1(dragEl,hn.trim(),_disableDraggable)}),on$1(cn,"dragover",nearestEmptyInsertDetectEvent),on$1(cn,"mousemove",nearestEmptyInsertDetectEvent),on$1(cn,"touchmove",nearestEmptyInsertDetectEvent),on$1(cn,"mouseup",rn._onDrop),on$1(cn,"touchend",rn._onDrop),on$1(cn,"touchcancel",rn._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt:en}),ln.delay&&(!ln.delayOnTouchOnly||tn)&&(!this.nativeDraggable||!(Edge||IE11OrLess))){if(Sortable.eventCanceled){this._onDrop();return}on$1(cn,"mouseup",rn._disableDelayedDrag),on$1(cn,"touchend",rn._disableDelayedDrag),on$1(cn,"touchcancel",rn._disableDelayedDrag),on$1(cn,"mousemove",rn._delayedDragTouchMoveHandler),on$1(cn,"touchmove",rn._delayedDragTouchMoveHandler),ln.supportPointer&&on$1(cn,"pointermove",rn._delayedDragTouchMoveHandler),rn._dragStartTimer=setTimeout(un,ln.delay)}else un()}},_delayedDragTouchMoveHandler:function(en){var tn=en.touches?en.touches[0]:en;Math.max(Math.abs(tn.clientX-this._lastX),Math.abs(tn.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var en=this.el.ownerDocument;off(en,"mouseup",this._disableDelayedDrag),off(en,"touchend",this._disableDelayedDrag),off(en,"touchcancel",this._disableDelayedDrag),off(en,"mousemove",this._delayedDragTouchMoveHandler),off(en,"touchmove",this._delayedDragTouchMoveHandler),off(en,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(en,tn){tn=tn||en.pointerType=="touch"&&en,!this.nativeDraggable||tn?this.options.supportPointer?on$1(document,"pointermove",this._onTouchMove):tn?on$1(document,"touchmove",this._onTouchMove):on$1(document,"mousemove",this._onTouchMove):(on$1(dragEl,"dragend",this),on$1(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(en,tn){if(awaitingDragStarted=!1,rootEl&&dragEl){pluginEvent("dragStarted",this,{evt:tn}),this.nativeDraggable&&on$1(document,"dragover",_checkOutsideTargetEl);var nn=this.options;!en&&toggleClass(dragEl,nn.dragClass,!1),toggleClass(dragEl,nn.ghostClass,!0),Sortable.active=this,en&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:tn})}else this._nulling()},_emulateDragOver:function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var en=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),tn=en;en&&en.shadowRoot&&(en=en.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY),en!==tn);)tn=en;if(dragEl.parentNode[expando]._isOutsideThisEl(en),tn)do{if(tn[expando]){var nn=void 0;if(nn=tn[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:en,rootEl:tn}),nn&&!this.options.dragoverBubble)break}en=tn}while(tn=tn.parentNode);_unhideGhostForTarget()}},_onTouchMove:function(en){if(tapEvt){var tn=this.options,nn=tn.fallbackTolerance,rn=tn.fallbackOffset,an=en.touches?en.touches[0]:en,ln=ghostEl&&matrix$1(ghostEl,!0),cn=ghostEl&&ln&&ln.a,un=ghostEl&&ln&&ln.d,fn=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),hn=(an.clientX-tapEvt.clientX+rn.x)/(cn||1)+(fn?fn[0]-ghostRelativeParentInitialScroll[0]:0)/(cn||1),pn=(an.clientY-tapEvt.clientY+rn.y)/(un||1)+(fn?fn[1]-ghostRelativeParentInitialScroll[1]:0)/(un||1);if(!Sortable.active&&!awaitingDragStarted){if(nn&&Math.max(Math.abs(an.clientX-this._lastX),Math.abs(an.clientY-this._lastY))<nn)return;this._onDragStart(en,!0)}if(ghostEl){ln?(ln.e+=hn-(lastDx||0),ln.f+=pn-(lastDy||0)):ln={a:1,b:0,c:0,d:1,e:hn,f:pn};var gn="matrix(".concat(ln.a,",").concat(ln.b,",").concat(ln.c,",").concat(ln.d,",").concat(ln.e,",").concat(ln.f,")");css(ghostEl,"webkitTransform",gn),css(ghostEl,"mozTransform",gn),css(ghostEl,"msTransform",gn),css(ghostEl,"transform",gn),lastDx=hn,lastDy=pn,touchEvt=an}en.cancelable&&en.preventDefault()}},_appendGhost:function(){if(!ghostEl){var en=this.options.fallbackOnBody?document.body:rootEl,tn=getRect(dragEl,!0,PositionGhostAbsolutely,!0,en),nn=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=en;css(ghostRelativeParent,"position")==="static"&&css(ghostRelativeParent,"transform")==="none"&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),tn.top+=ghostRelativeParent.scrollTop,tn.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}ghostEl=dragEl.cloneNode(!0),toggleClass(ghostEl,nn.ghostClass,!1),toggleClass(ghostEl,nn.fallbackClass,!0),toggleClass(ghostEl,nn.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",tn.top),css(ghostEl,"left",tn.left),css(ghostEl,"width",tn.width),css(ghostEl,"height",tn.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,en.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},_onDragStart:function(en,tn){var nn=this,rn=en.dataTransfer,an=nn.options;if(pluginEvent("dragStart",this,{evt:en}),Sortable.eventCanceled){this._onDrop();return}pluginEvent("setupClone",this),Sortable.eventCanceled||(cloneEl=clone$7(dragEl),cloneEl.removeAttribute("id"),cloneEl.draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),nn.cloneId=_nextTick(function(){pluginEvent("clone",nn),!Sortable.eventCanceled&&(nn.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),nn._hideClone(),_dispatchEvent({sortable:nn,name:"clone"}))}),!tn&&toggleClass(dragEl,an.dragClass,!0),tn?(ignoreNextClick=!0,nn._loopId=setInterval(nn._emulateDragOver,50)):(off(document,"mouseup",nn._onDrop),off(document,"touchend",nn._onDrop),off(document,"touchcancel",nn._onDrop),rn&&(rn.effectAllowed="move",an.setData&&an.setData.call(nn,rn,dragEl)),on$1(document,"drop",nn),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,nn._dragStartId=_nextTick(nn._dragStarted.bind(nn,tn,en)),on$1(document,"selectstart",nn),moved=!0,Safari&&css(document.body,"user-select","none")},_onDragOver:function(en){var tn=this.el,nn=en.target,rn,an,ln,cn=this.options,un=cn.group,fn=Sortable.active,hn=activeGroup===un,pn=cn.sort,gn=putSortable||fn,mn,_n=this,kn=!1;if(_silent)return;function Cn(Jr,ci){pluginEvent(Jr,_n,_objectSpread2$1({evt:en,isOwner:hn,axis:mn?"vertical":"horizontal",revert:ln,dragRect:rn,targetRect:an,canSort:pn,fromSortable:gn,target:nn,completed:Sn,onMove:function(Zr,Br){return _onMove(rootEl,tn,dragEl,rn,Zr,getRect(Zr),en,Br)},changed:Mn},ci))}function xn(){Cn("dragOverAnimationCapture"),_n.captureAnimationState(),_n!==gn&&gn.captureAnimationState()}function Sn(Jr){return Cn("dragOverCompleted",{insertion:Jr}),Jr&&(hn?fn._hideClone():fn._showClone(_n),_n!==gn&&(toggleClass(dragEl,putSortable?putSortable.options.ghostClass:fn.options.ghostClass,!1),toggleClass(dragEl,cn.ghostClass,!0)),putSortable!==_n&&_n!==Sortable.active?putSortable=_n:_n===Sortable.active&&putSortable&&(putSortable=null),gn===_n&&(_n._ignoreWhileAnimating=nn),_n.animateAll(function(){Cn("dragOverAnimationComplete"),_n._ignoreWhileAnimating=null}),_n!==gn&&(gn.animateAll(),gn._ignoreWhileAnimating=null)),(nn===dragEl&&!dragEl.animated||nn===tn&&!nn.animated)&&(lastTarget=null),!cn.dragoverBubble&&!en.rootEl&&nn!==document&&(dragEl.parentNode[expando]._isOutsideThisEl(en.target),!Jr&&nearestEmptyInsertDetectEvent(en)),!cn.dragoverBubble&&en.stopPropagation&&en.stopPropagation(),kn=!0}function Mn(){newIndex=index(dragEl),newDraggableIndex=index(dragEl,cn.draggable),_dispatchEvent({sortable:_n,name:"change",toEl:tn,newIndex,newDraggableIndex,originalEvent:en})}if(en.preventDefault!==void 0&&en.cancelable&&en.preventDefault(),nn=closest(nn,cn.draggable,tn,!0),Cn("dragOver"),Sortable.eventCanceled)return kn;if(dragEl.contains(en.target)||nn.animated&&nn.animatingX&&nn.animatingY||_n._ignoreWhileAnimating===nn)return Sn(!1);if(ignoreNextClick=!1,fn&&!cn.disabled&&(hn?pn||(ln=parentEl!==rootEl):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,fn,dragEl,en))&&un.checkPut(this,fn,dragEl,en))){if(mn=this._getDirection(en,nn)==="vertical",rn=getRect(dragEl),Cn("dragOverValid"),Sortable.eventCanceled)return kn;if(ln)return parentEl=rootEl,xn(),this._hideClone(),Cn("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),Sn(!0);var In=lastChild(tn,cn.draggable);if(!In||_ghostIsLast(en,mn,this)&&!In.animated){if(In===dragEl)return Sn(!1);if(In&&tn===en.target&&(nn=In),nn&&(an=getRect(nn)),_onMove(rootEl,tn,dragEl,rn,nn,an,en,!!nn)!==!1)return xn(),In&&In.nextSibling?tn.insertBefore(dragEl,In.nextSibling):tn.appendChild(dragEl),parentEl=tn,Mn(),Sn(!0)}else if(In&&_ghostIsFirst(en,mn,this)){var On=getChild(tn,0,cn,!0);if(On===dragEl)return Sn(!1);if(nn=On,an=getRect(nn),_onMove(rootEl,tn,dragEl,rn,nn,an,en,!1)!==!1)return xn(),tn.insertBefore(dragEl,On),parentEl=tn,Mn(),Sn(!0)}else if(nn.parentNode===tn){an=getRect(nn);var Pn=0,Tn,Nn=dragEl.parentNode!==tn,Hn=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||rn,nn.animated&&nn.toRect||an,mn),Un=mn?"top":"left",jn=isScrolledPast(nn,"top","top")||isScrolledPast(dragEl,"top","top"),Yn=jn?jn.scrollTop:void 0;lastTarget!==nn&&(Tn=an[Un],pastFirstInvertThresh=!1,isCircumstantialInvert=!Hn&&cn.invertSwap||Nn),Pn=_getSwapDirection(en,nn,an,mn,Hn?1:cn.swapThreshold,cn.invertedSwapThreshold==null?cn.swapThreshold:cn.invertedSwapThreshold,isCircumstantialInvert,lastTarget===nn);var Wn;if(Pn!==0){var Qn=index(dragEl);do Qn-=Pn,Wn=parentEl.children[Qn];while(Wn&&(css(Wn,"display")==="none"||Wn===ghostEl))}if(Pn===0||Wn===nn)return Sn(!1);lastTarget=nn,lastDirection=Pn;var Xn=nn.nextElementSibling,jr=!1;jr=Pn===1;var Wr=_onMove(rootEl,tn,dragEl,rn,nn,an,en,jr);if(Wr!==!1)return(Wr===1||Wr===-1)&&(jr=Wr===1),_silent=!0,setTimeout(_unsilent,30),xn(),jr&&!Xn?tn.appendChild(dragEl):nn.parentNode.insertBefore(dragEl,jr?Xn:nn),jn&&scrollBy(jn,0,Yn-jn.scrollTop),parentEl=dragEl.parentNode,Tn!==void 0&&!isCircumstantialInvert&&(targetMoveDistance=Math.abs(Tn-getRect(nn)[Un])),Mn(),Sn(!0)}if(tn.contains(dragEl))return Sn(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},_offUpEvents:function(){var en=this.el.ownerDocument;off(en,"mouseup",this._onDrop),off(en,"touchend",this._onDrop),off(en,"pointerup",this._onDrop),off(en,"touchcancel",this._onDrop),off(document,"selectstart",this)},_onDrop:function(en){var tn=this.el,nn=this.options;if(newIndex=index(dragEl),newDraggableIndex=index(dragEl,nn.draggable),pluginEvent("drop",this,{evt:en}),parentEl=dragEl&&dragEl.parentNode,newIndex=index(dragEl),newDraggableIndex=index(dragEl,nn.draggable),Sortable.eventCanceled){this._nulling();return}awaitingDragStarted=!1,isCircumstantialInvert=!1,pastFirstInvertThresh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off(tn,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),en&&(moved&&(en.cancelable&&en.preventDefault(),!nn.dropBubble&&en.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&putSortable.lastPutMode!=="clone")&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass(dragEl,putSortable?putSortable.options.ghostClass:this.options.ghostClass,!1),toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:en}),rootEl!==parentEl?(newIndex>=0&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:en}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:en}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:en}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:en})),putSortable&&putSortable.save()):newIndex!==oldIndex&&newIndex>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:en}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:en})),Sortable.active&&((newIndex==null||newIndex===-1)&&(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:en}),this.save()))),this._nulling()},_nulling:function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach(function(en){en.checked=!0}),savedInputChecked.length=lastDx=lastDy=0},handleEvent:function(en){switch(en.type){case"drop":case"dragend":this._onDrop(en);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(en),_globalDragOver(en));break;case"selectstart":en.preventDefault();break}},toArray:function(){for(var en=[],tn,nn=this.el.children,rn=0,an=nn.length,ln=this.options;rn<an;rn++)tn=nn[rn],closest(tn,ln.draggable,this.el,!1)&&en.push(tn.getAttribute(ln.dataIdAttr)||_generateId(tn));return en},sort:function(en,tn){var nn={},rn=this.el;this.toArray().forEach(function(an,ln){var cn=rn.children[ln];closest(cn,this.options.draggable,rn,!1)&&(nn[an]=cn)},this),tn&&this.captureAnimationState(),en.forEach(function(an){nn[an]&&(rn.removeChild(nn[an]),rn.appendChild(nn[an]))}),tn&&this.animateAll()},save:function(){var en=this.options.store;en&&en.set&&en.set(this)},closest:function(en,tn){return closest(en,tn||this.options.draggable,this.el,!1)},option:function(en,tn){var nn=this.options;if(tn===void 0)return nn[en];var rn=PluginManager.modifyOption(this,en,tn);typeof rn<"u"?nn[en]=rn:nn[en]=tn,en==="group"&&_prepareGroup(nn)},destroy:function(){pluginEvent("destroy",this);var en=this.el;en[expando]=null,off(en,"mousedown",this._onTapStart),off(en,"touchstart",this._onTapStart),off(en,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(en,"dragover",this),off(en,"dragenter",this)),Array.prototype.forEach.call(en.querySelectorAll("[draggable]"),function(tn){tn.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=en=null},_hideClone:function(){if(!cloneHidden){if(pluginEvent("hideClone",this),Sortable.eventCanceled)return;css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0}},_showClone:function(en){if(en.lastPutMode!=="clone"){this._hideClone();return}if(cloneHidden){if(pluginEvent("showClone",this),Sortable.eventCanceled)return;dragEl.parentNode==rootEl&&!this.options.group.revertClone?rootEl.insertBefore(cloneEl,dragEl):nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1}}};function _globalDragOver(Fe){Fe.dataTransfer&&(Fe.dataTransfer.dropEffect="move"),Fe.cancelable&&Fe.preventDefault()}function _onMove(Fe,en,tn,nn,rn,an,ln,cn){var un,fn=Fe[expando],hn=fn.options.onMove,pn;return window.CustomEvent&&!IE11OrLess&&!Edge?un=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(un=document.createEvent("Event"),un.initEvent("move",!0,!0)),un.to=en,un.from=Fe,un.dragged=tn,un.draggedRect=nn,un.related=rn||en,un.relatedRect=an||getRect(en),un.willInsertAfter=cn,un.originalEvent=ln,Fe.dispatchEvent(un),hn&&(pn=hn.call(fn,un,ln)),pn}function _disableDraggable(Fe){Fe.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsFirst(Fe,en,tn){var nn=getRect(getChild(tn.el,0,tn.options,!0)),rn=10;return en?Fe.clientX<nn.left-rn||Fe.clientY<nn.top&&Fe.clientX<nn.right:Fe.clientY<nn.top-rn||Fe.clientY<nn.bottom&&Fe.clientX<nn.left}function _ghostIsLast(Fe,en,tn){var nn=getRect(lastChild(tn.el,tn.options.draggable)),rn=10;return en?Fe.clientX>nn.right+rn||Fe.clientX<=nn.right&&Fe.clientY>nn.bottom&&Fe.clientX>=nn.left:Fe.clientX>nn.right&&Fe.clientY>nn.top||Fe.clientX<=nn.right&&Fe.clientY>nn.bottom+rn}function _getSwapDirection(Fe,en,tn,nn,rn,an,ln,cn){var un=nn?Fe.clientY:Fe.clientX,fn=nn?tn.height:tn.width,hn=nn?tn.top:tn.left,pn=nn?tn.bottom:tn.right,gn=!1;if(!ln){if(cn&&targetMoveDistance<fn*rn){if(!pastFirstInvertThresh&&(lastDirection===1?un>hn+fn*an/2:un<pn-fn*an/2)&&(pastFirstInvertThresh=!0),pastFirstInvertThresh)gn=!0;else if(lastDirection===1?un<hn+targetMoveDistance:un>pn-targetMoveDistance)return-lastDirection}else if(un>hn+fn*(1-rn)/2&&un<pn-fn*(1-rn)/2)return _getInsertDirection(en)}return gn=gn||ln,gn&&(un<hn+fn*an/2||un>pn-fn*an/2)?un>hn+fn/2?1:-1:0}function _getInsertDirection(Fe){return index(dragEl)<index(Fe)?1:-1}function _generateId(Fe){for(var en=Fe.tagName+Fe.className+Fe.src+Fe.href+Fe.textContent,tn=en.length,nn=0;tn--;)nn+=en.charCodeAt(tn);return nn.toString(36)}function _saveInputCheckedState(Fe){savedInputChecked.length=0;for(var en=Fe.getElementsByTagName("input"),tn=en.length;tn--;){var nn=en[tn];nn.checked&&savedInputChecked.push(nn)}}function _nextTick(Fe){return setTimeout(Fe,0)}function _cancelNextTick(Fe){return clearTimeout(Fe)}documentExists&&on$1(document,"touchmove",function(Fe){(Sortable.active||awaitingDragStarted)&&Fe.cancelable&&Fe.preventDefault()});Sortable.utils={on:on$1,off,css,find:find$1,is:function(en,tn){return!!closest(en,tn,en,!1)},extend:extend$5,throttle:throttle$2,closest,toggleClass,clone:clone$7,index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild};Sortable.get=function(Fe){return Fe[expando]};Sortable.mount=function(){for(var Fe=arguments.length,en=new Array(Fe),tn=0;tn<Fe;tn++)en[tn]=arguments[tn];en[0].constructor===Array&&(en=en[0]),en.forEach(function(nn){if(!nn.prototype||!nn.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(nn));nn.utils&&(Sortable.utils=_objectSpread2$1(_objectSpread2$1({},Sortable.utils),nn.utils)),PluginManager.mount(nn)})};Sortable.create=function(Fe,en){return new Sortable(Fe,en)};Sortable.version=version$2;var autoScrolls=[],scrollEl,scrollRootEl,scrolling=!1,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval;function AutoScrollPlugin(){function Fe(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var en in this)en.charAt(0)==="_"&&typeof this[en]=="function"&&(this[en]=this[en].bind(this))}return Fe.prototype={dragStarted:function(tn){var nn=tn.originalEvent;this.sortable.nativeDraggable?on$1(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on$1(document,"pointermove",this._handleFallbackAutoScroll):nn.touches?on$1(document,"touchmove",this._handleFallbackAutoScroll):on$1(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(tn){var nn=tn.originalEvent;!this.options.dragOverBubble&&!nn.rootEl&&this._handleAutoScroll(nn)},drop:function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},nulling:function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},_handleFallbackAutoScroll:function(tn){this._handleAutoScroll(tn,!0)},_handleAutoScroll:function(tn,nn){var rn=this,an=(tn.touches?tn.touches[0]:tn).clientX,ln=(tn.touches?tn.touches[0]:tn).clientY,cn=document.elementFromPoint(an,ln);if(touchEvt$1=tn,nn||this.options.forceAutoScrollFallback||Edge||IE11OrLess||Safari){autoScroll(tn,this.options,cn,nn);var un=getParentAutoScrollElement(cn,!0);scrolling&&(!pointerElemChangedInterval||an!==lastAutoScrollX||ln!==lastAutoScrollY)&&(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval(function(){var fn=getParentAutoScrollElement(document.elementFromPoint(an,ln),!0);fn!==un&&(un=fn,clearAutoScrolls()),autoScroll(tn,rn.options,fn,nn)},10),lastAutoScrollX=an,lastAutoScrollY=ln)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(cn,!0)===getWindowScrollingElement()){clearAutoScrolls();return}autoScroll(tn,this.options,getParentAutoScrollElement(cn,!1),!1)}}},_extends(Fe,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach(function(Fe){clearInterval(Fe.pid)}),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}var autoScroll=throttle$2(function(Fe,en,tn,nn){if(en.scroll){var rn=(Fe.touches?Fe.touches[0]:Fe).clientX,an=(Fe.touches?Fe.touches[0]:Fe).clientY,ln=en.scrollSensitivity,cn=en.scrollSpeed,un=getWindowScrollingElement(),fn=!1,hn;scrollRootEl!==tn&&(scrollRootEl=tn,clearAutoScrolls(),scrollEl=en.scroll,hn=en.scrollFn,scrollEl===!0&&(scrollEl=getParentAutoScrollElement(tn,!0)));var pn=0,gn=scrollEl;do{var mn=gn,_n=getRect(mn),kn=_n.top,Cn=_n.bottom,xn=_n.left,Sn=_n.right,Mn=_n.width,In=_n.height,On=void 0,Pn=void 0,Tn=mn.scrollWidth,Nn=mn.scrollHeight,Hn=css(mn),Un=mn.scrollLeft,jn=mn.scrollTop;mn===un?(On=Mn<Tn&&(Hn.overflowX==="auto"||Hn.overflowX==="scroll"||Hn.overflowX==="visible"),Pn=In<Nn&&(Hn.overflowY==="auto"||Hn.overflowY==="scroll"||Hn.overflowY==="visible")):(On=Mn<Tn&&(Hn.overflowX==="auto"||Hn.overflowX==="scroll"),Pn=In<Nn&&(Hn.overflowY==="auto"||Hn.overflowY==="scroll"));var Yn=On&&(Math.abs(Sn-rn)<=ln&&Un+Mn<Tn)-(Math.abs(xn-rn)<=ln&&!!Un),Wn=Pn&&(Math.abs(Cn-an)<=ln&&jn+In<Nn)-(Math.abs(kn-an)<=ln&&!!jn);if(!autoScrolls[pn])for(var Qn=0;Qn<=pn;Qn++)autoScrolls[Qn]||(autoScrolls[Qn]={});(autoScrolls[pn].vx!=Yn||autoScrolls[pn].vy!=Wn||autoScrolls[pn].el!==mn)&&(autoScrolls[pn].el=mn,autoScrolls[pn].vx=Yn,autoScrolls[pn].vy=Wn,clearInterval(autoScrolls[pn].pid),(Yn!=0||Wn!=0)&&(fn=!0,autoScrolls[pn].pid=setInterval((function(){nn&&this.layer===0&&Sortable.active._onTouchMove(touchEvt$1);var Xn=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*cn:0,jr=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*cn:0;typeof hn=="function"&&hn.call(Sortable.dragged.parentNode[expando],jr,Xn,Fe,touchEvt$1,autoScrolls[this.layer].el)!=="continue"||scrollBy(autoScrolls[this.layer].el,jr,Xn)}).bind({layer:pn}),24))),pn++}while(en.bubbleScroll&&gn!==un&&(gn=getParentAutoScrollElement(gn,!1)));scrolling=fn}},30),drop=function(en){var tn=en.originalEvent,nn=en.putSortable,rn=en.dragEl,an=en.activeSortable,ln=en.dispatchSortableEvent,cn=en.hideGhostForTarget,un=en.unhideGhostForTarget;if(tn){var fn=nn||an;cn();var hn=tn.changedTouches&&tn.changedTouches.length?tn.changedTouches[0]:tn,pn=document.elementFromPoint(hn.clientX,hn.clientY);un(),fn&&!fn.el.contains(pn)&&(ln("spill"),this.onSpill({dragEl:rn,putSortable:nn}))}};function Revert(){}Revert.prototype={startIndex:null,dragStart:function(en){var tn=en.oldDraggableIndex;this.startIndex=tn},onSpill:function(en){var tn=en.dragEl,nn=en.putSortable;this.sortable.captureAnimationState(),nn&&nn.captureAnimationState();var rn=getChild(this.sortable.el,this.startIndex,this.options);rn?this.sortable.el.insertBefore(tn,rn):this.sortable.el.appendChild(tn),this.sortable.animateAll(),nn&&nn.animateAll()},drop};_extends(Revert,{pluginName:"revertOnSpill"});function Remove(){}Remove.prototype={onSpill:function(en){var tn=en.dragEl,nn=en.putSortable,rn=nn||this.sortable;rn.captureAnimationState(),tn.parentNode&&tn.parentNode.removeChild(tn),rn.animateAll()},drop};_extends(Remove,{pluginName:"removeOnSpill"});Sortable.mount(new AutoScrollPlugin);Sortable.mount(Remove,Revert);function _classCallCheck(Fe,en){if(!(Fe instanceof en))throw new TypeError("Cannot call a class as a function")}function _defineProperties(Fe,en){for(var tn=0;tn<en.length;tn++){var nn=en[tn];nn.enumerable=nn.enumerable||!1,nn.configurable=!0,"value"in nn&&(nn.writable=!0),Object.defineProperty(Fe,_toPropertyKey(nn.key),nn)}}function _createClass(Fe,en,tn){return en&&_defineProperties(Fe.prototype,en),tn&&_defineProperties(Fe,tn),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe}function _defineProperty$1(Fe,en,tn){return en=_toPropertyKey(en),en in Fe?Object.defineProperty(Fe,en,{value:tn,enumerable:!0,configurable:!0,writable:!0}):Fe[en]=tn,Fe}function _toConsumableArray(Fe){return _arrayWithoutHoles(Fe)||_iterableToArray(Fe)||_unsupportedIterableToArray(Fe)||_nonIterableSpread()}function _arrayWithoutHoles(Fe){if(Array.isArray(Fe))return _arrayLikeToArray(Fe)}function _iterableToArray(Fe){if(typeof Symbol<"u"&&Fe[Symbol.iterator]!=null||Fe["@@iterator"]!=null)return Array.from(Fe)}function _unsupportedIterableToArray(Fe,en){if(Fe){if(typeof Fe=="string")return _arrayLikeToArray(Fe,en);var tn=Object.prototype.toString.call(Fe).slice(8,-1);if(tn==="Object"&&Fe.constructor&&(tn=Fe.constructor.name),tn==="Map"||tn==="Set")return Array.from(Fe);if(tn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tn))return _arrayLikeToArray(Fe,en)}}function _arrayLikeToArray(Fe,en){(en==null||en>Fe.length)&&(en=Fe.length);for(var tn=0,nn=new Array(en);tn<en;tn++)nn[tn]=Fe[tn];return nn}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(Fe,en){if(typeof Fe!="object"||Fe===null)return Fe;var tn=Fe[Symbol.toPrimitive];if(tn!==void 0){var nn=tn.call(Fe,en||"default");if(typeof nn!="object")return nn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(en==="string"?String:Number)(Fe)}function _toPropertyKey(Fe){var en=_toPrimitive(Fe,"string");return typeof en=="symbol"?en:String(en)}var DataEngine=function(){function Fe(en){var tn=en.data,nn=en.propertyMap,rn=nn===void 0?{}:nn,an=en.renderListItem;_classCallCheck(this,Fe),_defineProperty$1(this,"data",void 0),_defineProperty$1(this,"sortedData",void 0),_defineProperty$1(this,"sortedDataDomArray",void 0),_defineProperty$1(this,"propertyMap",void 0),_defineProperty$1(this,"renderListItem",void 0),_defineProperty$1(this,"boundGetItemPropProxyName",void 0),this.data=tn,this.sortedData=[],this.sortedDataDomArray=[],this.propertyMap=rn,this.renderListItem=an,this.boundGetItemPropProxyName=this.getItemPropProxyName.bind(this),this.maybeTransformData()}return _createClass(Fe,[{key:"addMappingProxyToItem",value:function(tn){var nn=this;return new Proxy(tn,{get:function(an,ln,cn){return Reflect.get(an,nn.boundGetItemPropProxyName(ln),cn)}})}},{key:"maybeTransformData",value:function(){!Object.keys(this.propertyMap).length||!Array.isArray(this.data)||(this.data=this.data.map(this.addMappingProxyToItem.bind(this)))}},{key:"getItemPropProxyName",value:function(tn){return Object.prototype.hasOwnProperty.call(this.propertyMap,tn)?this.propertyMap[tn]:tn}},{key:"isTopLevelItem",value:function(tn){return!tn.parent}},{key:"sortListItems",value:function(){var tn=this,nn=_toConsumableArray(this.data),rn=nn.filter(function(ln){return tn.isTopLevelItem(ln)}).sort(function(ln,cn){return ln.order&&cn.order?ln.order-cn.order:0}),an=nn.filter(function(ln){return!tn.isTopLevelItem(ln)}).reduce(function(ln,cn){return cn.parent&&(Object.prototype.hasOwnProperty.call(ln,cn.parent)?ln[cn.parent].push(cn):ln[cn.parent]=[cn]),ln},{});return Object.keys(an).forEach(function(ln){an[ln].sort(function(cn,un){return cn.order&&un.order?cn.order-un.order:0})}),this.sortedData=[].concat(_toConsumableArray(rn),_toConsumableArray(Object.values(an).flat())),this.sortedData}},{key:"addNewItem",value:function(tn){var nn=tn.item,rn=tn.asLastChild,an=rn===void 0?!1:rn,ln=this.addMappingProxyToItem(nn);return Array.isArray(this.data)&&this.data[an?"push":"unshift"](ln),this.createItemElement(ln)}},{key:"createItemElement",value:function(tn){var nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"li",rn=tn.id,an=tn.text,ln=document.createElement(nn);return ln.dataset.id=rn,nn==="li"&&an&&(ln.innerHTML=an),nn==="li"&&typeof this.renderListItem=="function"?this.renderListItem(ln,tn):ln}},{key:"elementIsParentOfItem",value:function(tn,nn){return tn.dataset.id==="".concat(nn.parent)}},{key:"getParentNodeOfItem",value:function(tn,nn,rn){return tn.querySelector("".concat(rn,'[data-id="').concat(nn.parent,'"]'))}},{key:"elementIsAncestorOfItem",value:function(tn,nn){return!!this.getParentNodeOfItem(tn,nn,"li")}},{key:"getDirectListParentOfItem",value:function(tn,nn){return this.getParentNodeOfItem(tn,nn,"ol")}},{key:"maybeAppendItemToParentDom",value:function(tn){var nn=this,rn=tn.parent,an=this.sortedDataDomArray.find(function(fn){return nn.elementIsParentOfItem(fn,tn)||nn.elementIsAncestorOfItem(fn,tn)});if(!an)return!1;var ln=this.createItemElement(tn),cn=this.getDirectListParentOfItem(an,tn);if(!cn){cn=this.createItemElement({id:rn},"ol");var un=this.getParentNodeOfItem(an,tn,"li")||an;un.appendChild(cn)}return cn.appendChild(ln),!0}},{key:"getListItemsDom",value:function(){var tn=this;this.sortedDataDomArray=[];for(var nn=[];nn.length!==this.sortListItems().length;)nn=this.sortedData.reduce(function(rn,an){if(!an.id)return rn;var ln=an.id.toString();if(rn.includes(ln))return rn;var cn;if(an.parent)cn=tn.maybeAppendItemToParentDom(an);else{var un=tn.createItemElement(an);tn.sortedDataDomArray.push(un),cn=!0}return cn&&rn.push(ln),rn},nn);return this.sortedDataDomArray}},{key:"convertDomToData",value:function(tn){var nn=this;return Array.from((tn==null?void 0:tn.querySelectorAll("li"))||[]).map(function(rn){var an,ln=rn.parentNode,cn=ln.dataset.id,un=Array.from(ln.children).findIndex(function(fn){return fn===rn})+1;return an={},_defineProperty$1(an,nn.getItemPropProxyName("id"),rn.dataset.id),_defineProperty$1(an,nn.getItemPropProxyName("parent"),cn),_defineProperty$1(an,nn.getItemPropProxyName("order"),un),an})}},{key:"render",value:function(){var tn=document.createElement("ol");return this.getListItemsDom().forEach(function(nn){return tn.appendChild(nn)}),tn}}]),Fe}(),NestedSort=function(){function Fe(en){var tn=en.actions,nn=tn===void 0?{}:tn,rn=en.data,an=en.droppingEdge,ln=an===void 0?15:an,cn=en.el,un=en.init,fn=un===void 0?!0:un,hn=en.listClassNames,pn=en.listItemClassNames,gn=en.nestingLevels,mn=en.propertyMap,_n=mn===void 0?{}:mn,kn=en.renderListItem;_classCallCheck(this,Fe),_defineProperty$1(this,"actions",void 0),_defineProperty$1(this,"classNames",void 0),_defineProperty$1(this,"cursor",void 0),_defineProperty$1(this,"data",void 0),_defineProperty$1(this,"dataEngine",void 0),_defineProperty$1(this,"distances",void 0),_defineProperty$1(this,"draggedNode",void 0),_defineProperty$1(this,"initialised",void 0),_defineProperty$1(this,"listClassNames",void 0),_defineProperty$1(this,"listEventListeners",void 0),_defineProperty$1(this,"listInterface",void 0),_defineProperty$1(this,"listItemClassNames",void 0),_defineProperty$1(this,"mainListClassName",void 0),_defineProperty$1(this,"nestingLevels",void 0),_defineProperty$1(this,"placeholderList",void 0),_defineProperty$1(this,"placeholderInUse",void 0),_defineProperty$1(this,"propertyMap",void 0),_defineProperty$1(this,"renderListItem",void 0),_defineProperty$1(this,"sortableList",void 0),_defineProperty$1(this,"targetedNode",void 0),_defineProperty$1(this,"targetNode",void 0),_defineProperty$1(this,"wrapper",void 0),this.renderListItem=kn;var Cn=typeof cn=="string"?document.querySelector(cn):cn,xn=Cn instanceof HTMLOListElement||Cn instanceof HTMLUListElement;this.wrapper=xn?void 0:Cn,this.sortableList=xn?Cn:null,this.data=rn,this.listClassNames=this.createListClassNamesArray(hn),this.mainListClassName=this.listClassNames[0]||"nested-sort",this.listItemClassNames=this.createListClassNamesArray(pn),this.propertyMap=_n,this.actions={onDrop:nn.onDrop},this.initialised=!1,this.distances={droppingEdge:ln},this.classNames={dragged:"ns-dragged",placeholder:"ns-placeholder",targeted:"ns-targeted"},this.listEventListeners={dragover:this.onDragOver.bind(this),dragstart:this.onDragStart.bind(this),dragenter:this.onDragEnter.bind(this),dragend:this.onDragEnd.bind(this),drop:this.onDrop.bind(this)};var Sn=parseInt(gn);this.nestingLevels=isNaN(Sn)?-1:Sn,this.listInterface=this.getListInterface(),this.maybeInitDataDom(),this.addListAttributes(),fn&&this.initDragAndDrop()}return _createClass(Fe,[{key:"getListInterface",value:function(){return Array.isArray(this.data)&&this.data.length||this.sortableList instanceof HTMLOListElement?HTMLOListElement:HTMLUListElement}},{key:"getDataEngine",value:function(){return this.dataEngine?this.dataEngine:(this.dataEngine=new DataEngine({data:this.data,propertyMap:this.propertyMap,renderListItem:this.renderListItem}),this.dataEngine)}},{key:"createListClassNamesArray",value:function(tn){return tn?Array.isArray(tn)?tn:tn.split(" "):[]}},{key:"maybeInitDataDom",value:function(){if(Array.isArray(this.data)&&this.data.length&&this.wrapper){var tn=this.getDataEngine().render();this.wrapper.innerHTML="",this.wrapper.appendChild(tn),this.sortableList=tn}}},{key:"getListTagName",value:function(){return this.listInterface===HTMLOListElement?"ol":"ul"}},{key:"getSortableList",value:function(){var tn;return this.sortableList instanceof this.listInterface?this.sortableList:(this.sortableList=(tn=this.wrapper)===null||tn===void 0?void 0:tn.querySelector(this.getListTagName()),this.sortableList)}},{key:"addListAttributes",value:function(){var tn,nn=this,rn=this.getSortableList();rn&&((tn=rn.classList).add.apply(tn,_toConsumableArray(this.listClassNames.concat(this.mainListClassName))),rn.querySelectorAll(this.getListTagName()).forEach(function(an){var ln;(ln=an.classList).add.apply(ln,_toConsumableArray(nn.listClassNames))}),rn.querySelectorAll("li").forEach(function(an){var ln;(ln=an.classList).add.apply(ln,_toConsumableArray(nn.listItemClassNames))}))}},{key:"toggleMainListLifeCycleClassName",value:function(){var tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,nn=this.getSortableList();if(nn){var rn="".concat(this.mainListClassName,"--enabled");tn?nn.classList.add(rn):nn.classList.remove(rn)}}},{key:"toggleListItemAttributes",value:function(){var tn,nn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(tn=this.getSortableList())===null||tn===void 0||tn.querySelectorAll("li").forEach(function(rn){rn.setAttribute("draggable",nn.toString())})}},{key:"toggleListEventListeners",value:function(){var tn=this,nn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,rn=this.getSortableList();rn&&Object.keys(this.listEventListeners).forEach(function(an){nn?rn.removeEventListener(an,tn.listEventListeners[an]):rn.addEventListener(an,tn.listEventListeners[an],!1)})}},{key:"initDragAndDrop",value:function(){this.initialised||(this.toggleListEventListeners(),this.initPlaceholderList(),this.toggleListItemAttributes(),this.toggleMainListLifeCycleClassName(),this.initialised=!0)}},{key:"init",value:function(){this.initDragAndDrop()}},{key:"destroy",value:function(){this.toggleListEventListeners(!0),this.toggleListItemAttributes(!1),this.toggleMainListLifeCycleClassName(!1),this.initialised=!1}},{key:"removeClassFromEl",value:function(tn,nn){nn&&nn.classList.contains(tn)&&nn.classList.remove(tn)}},{key:"canBeTargeted",value:function(tn){return!this.draggedNode||this.draggedNode===tn?!1:tn.nodeName==="LI"?!this.nestingThresholdReached(tn):tn instanceof this.listInterface&&tn.classList.contains(this.classNames.placeholder)}},{key:"onDragStart",value:function(tn){var nn;this.draggedNode=tn.target,this.draggedNode.classList.add(this.classNames.dragged),(nn=tn.dataTransfer)===null||nn===void 0||nn.setData("text","")}},{key:"onDragOver",value:function(tn){tn.preventDefault(),this.updateCoordination(tn),this.managePlaceholderLists()}},{key:"onDragEnter",value:function(tn){this.canBeTargeted(tn.target)&&(this.removeClassFromEl(this.classNames.targeted,this.targetedNode),this.targetedNode=tn.target,this.targetedNode.classList.add(this.classNames.targeted))}},{key:"onDragEnd",value:function(tn){tn.stopPropagation(),this.removeClassFromEl(this.classNames.dragged,this.draggedNode),this.removeClassFromEl(this.classNames.targeted,this.targetedNode),this.cleanupPlaceholderLists(),delete this.draggedNode,delete this.targetedNode}},{key:"onDrop",value:function(tn){tn.stopPropagation(),this.maybeDrop(),this.cleanupPlaceholderLists(),typeof this.actions.onDrop=="function"&&this.actions.onDrop(this.getDataEngine().convertDomToData(this.getSortableList()))}},{key:"updateCoordination",value:function(tn){this.calcMouseCoords(tn),this.calcMouseToTargetedElDist()}},{key:"getDropLocation",value:function(){if(this.canBeDropped()){var tn;if(((tn=this.targetedNode)===null||tn===void 0?void 0:tn.nodeName)==="LI")return"before";if(this.targetedNode instanceof this.listInterface)return"inside"}}},{key:"maybeDrop",value:function(){var tn=this.getDropLocation();tn&&this.dropTheItem(tn)}},{key:"dropTheItem",value:function(tn){var nn,rn,an;switch(tn){case"before":(nn=this.targetedNode)===null||nn===void 0||(rn=nn.parentNode)===null||rn===void 0||rn.insertBefore(this.draggedNode,this.targetedNode);break;case"inside":(an=this.targetedNode)===null||an===void 0||an.appendChild(this.draggedNode);break}}},{key:"calcMouseCoords",value:function(tn){this.cursor={X:tn.clientX,Y:tn.clientY}}},{key:"calcMouseToTargetedElDist",value:function(){if(this.targetedNode){var tn=this.targetedNode.getBoundingClientRect();this.targetNode={X:tn.left,Y:tn.top};var nn=this.targetNode.Y-this.cursor.Y,rn=Math.abs(nn);this.distances.mouseTo={targetedElTop:nn,targetedElTopAbs:rn,targetedElBot:rn-this.targetedNode.clientHeight}}}},{key:"areNested",value:function(tn,nn){return!!tn&&!!nn&&Array.from(nn==null?void 0:nn.querySelectorAll("li")).some(function(rn){return rn===tn})}},{key:"cursorIsIndentedEnough",value:function(){return this.cursor.X-this.targetNode.X>50}},{key:"mouseIsTooCloseToTop",value:function(){var tn;return(tn=this.distances)!==null&&tn!==void 0&&tn.droppingEdge?this.cursor.Y-this.targetNode.Y<this.distances.droppingEdge:!1}},{key:"managePlaceholderLists",value:function(){var tn=this,nn=this.analysePlaceHolderSituation();nn.forEach(function(rn){switch(rn){case"add":tn.cleanupPlaceholderLists(),tn.addPlaceholderList();break;case"cleanup":tn.cleanupPlaceholderLists();break}})}},{key:"targetedNodeIsPlaceholder",value:function(){return this.targetedNode instanceof this.listInterface&&this.targetedNode.classList.contains(this.classNames.placeholder)}},{key:"getNodeDepth",value:function(tn){var nn=0,rn=this.getSortableList(),an=0;if(this.draggedNode){var ln=this.draggedNode.querySelectorAll("ul").length||0,cn=this.draggedNode.querySelectorAll("ol").length||0;an=ln>cn?ln:cn}for(;rn!==((un=tn)===null||un===void 0?void 0:un.parentElement);){var un,fn,hn;((fn=tn)===null||fn===void 0?void 0:fn.parentElement)instanceof this.listInterface&&nn++,tn=(hn=tn)===null||hn===void 0?void 0:hn.parentElement}return nn+an}},{key:"nestingThresholdReached",value:function(tn){var nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.nestingLevels<0?!1:nn?this.getNodeDepth(tn)>=this.nestingLevels:this.getNodeDepth(tn)>this.nestingLevels}},{key:"analysePlaceHolderSituation",value:function(){if(!this.targetedNode||this.areNested(this.targetedNode,this.draggedNode))return[];var tn=[];return!this.cursorIsIndentedEnough()||this.mouseIsTooCloseToTop()?this.targetedNodeIsPlaceholder()||tn.push("cleanup"):this.targetedNode!==this.draggedNode&&this.targetedNode.nodeName==="LI"&&!this.targetedNode.querySelectorAll(this.getListTagName()).length&&!this.nestingThresholdReached(this.targetedNode,!0)&&tn.push("add"),tn}},{key:"animatePlaceholderList",value:function(){var tn;this.placeholderInUse.style.minHeight="0",this.placeholderInUse.style.transition="min-height ease .2s",this.placeholderInUse.style.minHeight="".concat((tn=this.draggedNode)===null||tn===void 0?void 0:tn.offsetHeight,"px")}},{key:"addPlaceholderList",value:function(){var tn;this.getPlaceholderList(),(tn=this.targetedNode)===null||tn===void 0||tn.appendChild(this.placeholderInUse),this.animatePlaceholderList()}},{key:"targetNodeIsIdentified",value:function(){return!!this.targetedNode}},{key:"targetNodeIsBeingDragged",value:function(){return this.targetNodeIsIdentified()&&this.targetedNode===this.draggedNode}},{key:"targetNodeIsListWithItems",value:function(){return this.targetNodeIsIdentified()&&this.targetedNode instanceof this.listInterface&&!!this.targetedNode.querySelectorAll("li").length}},{key:"canBeDropped",value:function(){return this.targetNodeIsIdentified()&&!this.targetNodeIsBeingDragged()&&!this.targetNodeIsListWithItems()&&!this.areNested(this.targetedNode,this.draggedNode)}},{key:"cleanupPlaceholderLists",value:function(){var tn,nn=this,rn=this.getListTagName(),an=((tn=this.getSortableList())===null||tn===void 0?void 0:tn.querySelectorAll(rn))||[];Array.from(an).forEach(function(ln){ln.querySelectorAll("li").length?ln.classList.contains(nn.classNames.placeholder)&&(ln.classList.remove(nn.classNames.placeholder),ln.style.minHeight="auto",ln.dataset.id=ln.parentNode.dataset.id):ln.remove()})}},{key:"initPlaceholderList",value:function(){var tn;this.placeholderList=document.createElement(this.getListTagName()),(tn=this.placeholderList.classList).add.apply(tn,[this.classNames.placeholder].concat(_toConsumableArray(this.listClassNames)))}},{key:"getPlaceholderList",value:function(){return this.placeholderInUse=this.placeholderList.cloneNode(!0),this.placeholderInUse}},{key:"addNewItem",value:function(tn){var nn,rn=tn.item,an=tn.asLastChild,ln=an===void 0?!1:an,cn=this.getDataEngine().addNewItem({item:rn,asLastChild:ln});return cn.setAttribute("draggable",String(this.initialised)),(nn=this.getSortableList())===null||nn===void 0||nn[ln?"append":"prepend"](cn),{data:this.getDataEngine().convertDomToData(this.getSortableList())}}}]),Fe}();function bind$3(Fe,en){return function(){return Fe.apply(en,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(Fe=>en=>{const tn=toString$1.call(en);return Fe[tn]||(Fe[tn]=tn.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=Fe=>(Fe=Fe.toLowerCase(),en=>kindOf(en)===Fe),typeOfTest=Fe=>en=>typeof en===Fe,{isArray:isArray$4}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer(Fe){return Fe!==null&&!isUndefined$1(Fe)&&Fe.constructor!==null&&!isUndefined$1(Fe.constructor)&&isFunction$2(Fe.constructor.isBuffer)&&Fe.constructor.isBuffer(Fe)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(Fe){let en;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?en=ArrayBuffer.isView(Fe):en=Fe&&Fe.buffer&&isArrayBuffer(Fe.buffer),en}const isString$3=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$6=Fe=>Fe!==null&&typeof Fe=="object",isBoolean=Fe=>Fe===!0||Fe===!1,isPlainObject=Fe=>{if(kindOf(Fe)!=="object")return!1;const en=getPrototypeOf(Fe);return(en===null||en===Object.prototype||Object.getPrototypeOf(en)===null)&&!(Symbol.toStringTag in Fe)&&!(Symbol.iterator in Fe)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=Fe=>isObject$6(Fe)&&isFunction$2(Fe.pipe),isFormData=Fe=>{let en;return Fe&&(typeof FormData=="function"&&Fe instanceof FormData||isFunction$2(Fe.append)&&((en=kindOf(Fe))==="formdata"||en==="object"&&isFunction$2(Fe.toString)&&Fe.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim$2=Fe=>Fe.trim?Fe.trim():Fe.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(Fe,en,{allOwnKeys:tn=!1}={}){if(Fe===null||typeof Fe>"u")return;let nn,rn;if(typeof Fe!="object"&&(Fe=[Fe]),isArray$4(Fe))for(nn=0,rn=Fe.length;nn<rn;nn++)en.call(null,Fe[nn],nn,Fe);else{const an=tn?Object.getOwnPropertyNames(Fe):Object.keys(Fe),ln=an.length;let cn;for(nn=0;nn<ln;nn++)cn=an[nn],en.call(null,Fe[cn],cn,Fe)}}function findKey(Fe,en){en=en.toLowerCase();const tn=Object.keys(Fe);let nn=tn.length,rn;for(;nn-- >0;)if(rn=tn[nn],en===rn.toLowerCase())return rn;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=Fe=>!isUndefined$1(Fe)&&Fe!==_global;function merge$1(){const{caseless:Fe}=isContextDefined(this)&&this||{},en={},tn=(nn,rn)=>{const an=Fe&&findKey(en,rn)||rn;isPlainObject(en[an])&&isPlainObject(nn)?en[an]=merge$1(en[an],nn):isPlainObject(nn)?en[an]=merge$1({},nn):isArray$4(nn)?en[an]=nn.slice():en[an]=nn};for(let nn=0,rn=arguments.length;nn<rn;nn++)arguments[nn]&&forEach(arguments[nn],tn);return en}const extend$4=(Fe,en,tn,{allOwnKeys:nn}={})=>(forEach(en,(rn,an)=>{tn&&isFunction$2(rn)?Fe[an]=bind$3(rn,tn):Fe[an]=rn},{allOwnKeys:nn}),Fe),stripBOM=Fe=>(Fe.charCodeAt(0)===65279&&(Fe=Fe.slice(1)),Fe),inherits$1=(Fe,en,tn,nn)=>{Fe.prototype=Object.create(en.prototype,nn),Fe.prototype.constructor=Fe,Object.defineProperty(Fe,"super",{value:en.prototype}),tn&&Object.assign(Fe.prototype,tn)},toFlatObject=(Fe,en,tn,nn)=>{let rn,an,ln;const cn={};if(en=en||{},Fe==null)return en;do{for(rn=Object.getOwnPropertyNames(Fe),an=rn.length;an-- >0;)ln=rn[an],(!nn||nn(ln,Fe,en))&&!cn[ln]&&(en[ln]=Fe[ln],cn[ln]=!0);Fe=tn!==!1&&getPrototypeOf(Fe)}while(Fe&&(!tn||tn(Fe,en))&&Fe!==Object.prototype);return en},endsWith=(Fe,en,tn)=>{Fe=String(Fe),(tn===void 0||tn>Fe.length)&&(tn=Fe.length),tn-=en.length;const nn=Fe.indexOf(en,tn);return nn!==-1&&nn===tn},toArray$1=Fe=>{if(!Fe)return null;if(isArray$4(Fe))return Fe;let en=Fe.length;if(!isNumber$2(en))return null;const tn=new Array(en);for(;en-- >0;)tn[en]=Fe[en];return tn},isTypedArray$1=(Fe=>en=>Fe&&en instanceof Fe)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(Fe,en)=>{const nn=(Fe&&Fe[Symbol.iterator]).call(Fe);let rn;for(;(rn=nn.next())&&!rn.done;){const an=rn.value;en.call(Fe,an[0],an[1])}},matchAll=(Fe,en)=>{let tn;const nn=[];for(;(tn=Fe.exec(en))!==null;)nn.push(tn);return nn},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase$1=Fe=>Fe.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(tn,nn,rn){return nn.toUpperCase()+rn}),hasOwnProperty$1=(({hasOwnProperty:Fe})=>(en,tn)=>Fe.call(en,tn))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(Fe,en)=>{const tn=Object.getOwnPropertyDescriptors(Fe),nn={};forEach(tn,(rn,an)=>{let ln;(ln=en(rn,an,Fe))!==!1&&(nn[an]=ln||rn)}),Object.defineProperties(Fe,nn)},freezeMethods=Fe=>{reduceDescriptors(Fe,(en,tn)=>{if(isFunction$2(Fe)&&["arguments","caller","callee"].indexOf(tn)!==-1)return!1;const nn=Fe[tn];if(isFunction$2(nn)){if(en.enumerable=!1,"writable"in en){en.writable=!1;return}en.set||(en.set=()=>{throw Error("Can not rewrite read-only method '"+tn+"'")})}})},toObjectSet=(Fe,en)=>{const tn={},nn=rn=>{rn.forEach(an=>{tn[an]=!0})};return isArray$4(Fe)?nn(Fe):nn(String(Fe).split(en)),tn},noop$1=()=>{},toFiniteNumber=(Fe,en)=>(Fe=+Fe,Number.isFinite(Fe)?Fe:en),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(Fe=16,en=ALPHABET.ALPHA_DIGIT)=>{let tn="";const{length:nn}=en;for(;Fe--;)tn+=en[Math.random()*nn|0];return tn};function isSpecCompliantForm(Fe){return!!(Fe&&isFunction$2(Fe.append)&&Fe[Symbol.toStringTag]==="FormData"&&Fe[Symbol.iterator])}const toJSONObject=Fe=>{const en=new Array(10),tn=(nn,rn)=>{if(isObject$6(nn)){if(en.indexOf(nn)>=0)return;if(!("toJSON"in nn)){en[rn]=nn;const an=isArray$4(nn)?[]:{};return forEach(nn,(ln,cn)=>{const un=tn(ln,rn+1);!isUndefined$1(un)&&(an[cn]=un)}),en[rn]=void 0,an}}return nn};return tn(Fe,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=Fe=>Fe&&(isObject$6(Fe)||isFunction$2(Fe))&&isFunction$2(Fe.then)&&isFunction$2(Fe.catch),utils={isArray:isArray$4,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$3,isNumber:isNumber$2,isBoolean,isObject:isObject$6,isPlainObject,isUndefined:isUndefined$1,isDate:isDate$1,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge:merge$1,extend:extend$4,trim:trim$2,stripBOM,inherits:inherits$1,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase:toCamelCase$1,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(Fe,en,tn,nn,rn){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=Fe,this.name="AxiosError",en&&(this.code=en),tn&&(this.config=tn),nn&&(this.request=nn),rn&&(this.response=rn)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(Fe=>{descriptors[Fe]={value:Fe}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(Fe,en,tn,nn,rn,an)=>{const ln=Object.create(prototype$1);return utils.toFlatObject(Fe,ln,function(un){return un!==Error.prototype},cn=>cn!=="isAxiosError"),AxiosError.call(ln,Fe.message,en,tn,nn,rn),ln.cause=Fe,ln.name=Fe.name,an&&Object.assign(ln,an),ln};const httpAdapter=null;function isVisitable(Fe){return utils.isPlainObject(Fe)||utils.isArray(Fe)}function removeBrackets(Fe){return utils.endsWith(Fe,"[]")?Fe.slice(0,-2):Fe}function renderKey(Fe,en,tn){return Fe?Fe.concat(en).map(function(rn,an){return rn=removeBrackets(rn),!tn&&an?"["+rn+"]":rn}).join(tn?".":""):en}function isFlatArray(Fe){return utils.isArray(Fe)&&!Fe.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(en){return/^is[A-Z]/.test(en)});function toFormData(Fe,en,tn){if(!utils.isObject(Fe))throw new TypeError("target must be an object");en=en||new FormData,tn=utils.toFlatObject(tn,{metaTokens:!0,dots:!1,indexes:!1},!1,function(kn,Cn){return!utils.isUndefined(Cn[kn])});const nn=tn.metaTokens,rn=tn.visitor||hn,an=tn.dots,ln=tn.indexes,un=(tn.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(en);if(!utils.isFunction(rn))throw new TypeError("visitor must be a function");function fn(_n){if(_n===null)return"";if(utils.isDate(_n))return _n.toISOString();if(!un&&utils.isBlob(_n))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(_n)||utils.isTypedArray(_n)?un&&typeof Blob=="function"?new Blob([_n]):Buffer.from(_n):_n}function hn(_n,kn,Cn){let xn=_n;if(_n&&!Cn&&typeof _n=="object"){if(utils.endsWith(kn,"{}"))kn=nn?kn:kn.slice(0,-2),_n=JSON.stringify(_n);else if(utils.isArray(_n)&&isFlatArray(_n)||(utils.isFileList(_n)||utils.endsWith(kn,"[]"))&&(xn=utils.toArray(_n)))return kn=removeBrackets(kn),xn.forEach(function(Mn,In){!(utils.isUndefined(Mn)||Mn===null)&&en.append(ln===!0?renderKey([kn],In,an):ln===null?kn:kn+"[]",fn(Mn))}),!1}return isVisitable(_n)?!0:(en.append(renderKey(Cn,kn,an),fn(_n)),!1)}const pn=[],gn=Object.assign(predicates,{defaultVisitor:hn,convertValue:fn,isVisitable});function mn(_n,kn){if(!utils.isUndefined(_n)){if(pn.indexOf(_n)!==-1)throw Error("Circular reference detected in "+kn.join("."));pn.push(_n),utils.forEach(_n,function(xn,Sn){(!(utils.isUndefined(xn)||xn===null)&&rn.call(en,xn,utils.isString(Sn)?Sn.trim():Sn,kn,gn))===!0&&mn(xn,kn?kn.concat(Sn):[Sn])}),pn.pop()}}if(!utils.isObject(Fe))throw new TypeError("data must be an object");return mn(Fe),en}function encode$1(Fe){const en={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(Fe).replace(/[!'()~]|%20|%00/g,function(nn){return en[nn]})}function AxiosURLSearchParams(Fe,en){this._pairs=[],Fe&&toFormData(Fe,this,en)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(en,tn){this._pairs.push([en,tn])};prototype.toString=function(en){const tn=en?function(nn){return en.call(this,nn,encode$1)}:encode$1;return this._pairs.map(function(rn){return tn(rn[0])+"="+tn(rn[1])},"").join("&")};function encode(Fe){return encodeURIComponent(Fe).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(Fe,en,tn){if(!en)return Fe;const nn=tn&&tn.encode||encode,rn=tn&&tn.serialize;let an;if(rn?an=rn(en,tn):an=utils.isURLSearchParams(en)?en.toString():new AxiosURLSearchParams(en,tn).toString(nn),an){const ln=Fe.indexOf("#");ln!==-1&&(Fe=Fe.slice(0,ln)),Fe+=(Fe.indexOf("?")===-1?"?":"&")+an}return Fe}class InterceptorManager{constructor(){this.handlers=[]}use(en,tn,nn){return this.handlers.push({fulfilled:en,rejected:tn,synchronous:nn?nn.synchronous:!1,runWhen:nn?nn.runWhen:null}),this.handlers.length-1}eject(en){this.handlers[en]&&(this.handlers[en]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(en){utils.forEach(this.handlers,function(nn){nn!==null&&en(nn)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let Fe;return typeof navigator<"u"&&((Fe=navigator.product)==="ReactNative"||Fe==="NativeScript"||Fe==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(Fe,en){return toFormData(Fe,new platform$1.classes.URLSearchParams,Object.assign({visitor:function(tn,nn,rn,an){return platform$1.isNode&&utils.isBuffer(tn)?(this.append(nn,tn.toString("base64")),!1):an.defaultVisitor.apply(this,arguments)}},en))}function parsePropPath(Fe){return utils.matchAll(/\w+|\[(\w*)]/g,Fe).map(en=>en[0]==="[]"?"":en[1]||en[0])}function arrayToObject(Fe){const en={},tn=Object.keys(Fe);let nn;const rn=tn.length;let an;for(nn=0;nn<rn;nn++)an=tn[nn],en[an]=Fe[an];return en}function formDataToJSON(Fe){function en(tn,nn,rn,an){let ln=tn[an++];const cn=Number.isFinite(+ln),un=an>=tn.length;return ln=!ln&&utils.isArray(rn)?rn.length:ln,un?(utils.hasOwnProp(rn,ln)?rn[ln]=[rn[ln],nn]:rn[ln]=nn,!cn):((!rn[ln]||!utils.isObject(rn[ln]))&&(rn[ln]=[]),en(tn,nn,rn[ln],an)&&utils.isArray(rn[ln])&&(rn[ln]=arrayToObject(rn[ln])),!cn)}if(utils.isFormData(Fe)&&utils.isFunction(Fe.entries)){const tn={};return utils.forEachEntry(Fe,(nn,rn)=>{en(parsePropPath(nn),rn,tn,0)}),tn}return null}function stringifySafely(Fe,en,tn){if(utils.isString(Fe))try{return(en||JSON.parse)(Fe),utils.trim(Fe)}catch(nn){if(nn.name!=="SyntaxError")throw nn}return(tn||JSON.stringify)(Fe)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(en,tn){const nn=tn.getContentType()||"",rn=nn.indexOf("application/json")>-1,an=utils.isObject(en);if(an&&utils.isHTMLForm(en)&&(en=new FormData(en)),utils.isFormData(en))return rn&&rn?JSON.stringify(formDataToJSON(en)):en;if(utils.isArrayBuffer(en)||utils.isBuffer(en)||utils.isStream(en)||utils.isFile(en)||utils.isBlob(en))return en;if(utils.isArrayBufferView(en))return en.buffer;if(utils.isURLSearchParams(en))return tn.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),en.toString();let cn;if(an){if(nn.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(en,this.formSerializer).toString();if((cn=utils.isFileList(en))||nn.indexOf("multipart/form-data")>-1){const un=this.env&&this.env.FormData;return toFormData(cn?{"files[]":en}:en,un&&new un,this.formSerializer)}}return an||rn?(tn.setContentType("application/json",!1),stringifySafely(en)):en}],transformResponse:[function(en){const tn=this.transitional||defaults$2.transitional,nn=tn&&tn.forcedJSONParsing,rn=this.responseType==="json";if(en&&utils.isString(en)&&(nn&&!this.responseType||rn)){const ln=!(tn&&tn.silentJSONParsing)&&rn;try{return JSON.parse(en)}catch(cn){if(ln)throw cn.name==="SyntaxError"?AxiosError.from(cn,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):cn}}return en}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(en){return en>=200&&en<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils.forEach(["delete","get","head","post","put","patch"],Fe=>{defaults$2.headers[Fe]={}});const defaults$3=defaults$2,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=Fe=>{const en={};let tn,nn,rn;return Fe&&Fe.split(`
`).forEach(function(ln){rn=ln.indexOf(":"),tn=ln.substring(0,rn).trim().toLowerCase(),nn=ln.substring(rn+1).trim(),!(!tn||en[tn]&&ignoreDuplicateOf[tn])&&(tn==="set-cookie"?en[tn]?en[tn].push(nn):en[tn]=[nn]:en[tn]=en[tn]?en[tn]+", "+nn:nn)}),en},$internals=Symbol("internals");function normalizeHeader(Fe){return Fe&&String(Fe).trim().toLowerCase()}function normalizeValue(Fe){return Fe===!1||Fe==null?Fe:utils.isArray(Fe)?Fe.map(normalizeValue):String(Fe)}function parseTokens(Fe){const en=Object.create(null),tn=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nn;for(;nn=tn.exec(Fe);)en[nn[1]]=nn[2];return en}const isValidHeaderName=Fe=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Fe.trim());function matchHeaderValue(Fe,en,tn,nn,rn){if(utils.isFunction(nn))return nn.call(this,en,tn);if(rn&&(en=tn),!!utils.isString(en)){if(utils.isString(nn))return en.indexOf(nn)!==-1;if(utils.isRegExp(nn))return nn.test(en)}}function formatHeader(Fe){return Fe.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(en,tn,nn)=>tn.toUpperCase()+nn)}function buildAccessors(Fe,en){const tn=utils.toCamelCase(" "+en);["get","set","has"].forEach(nn=>{Object.defineProperty(Fe,nn+tn,{value:function(rn,an,ln){return this[nn].call(this,en,rn,an,ln)},configurable:!0})})}class AxiosHeaders{constructor(en){en&&this.set(en)}set(en,tn,nn){const rn=this;function an(cn,un,fn){const hn=normalizeHeader(un);if(!hn)throw new Error("header name must be a non-empty string");const pn=utils.findKey(rn,hn);(!pn||rn[pn]===void 0||fn===!0||fn===void 0&&rn[pn]!==!1)&&(rn[pn||un]=normalizeValue(cn))}const ln=(cn,un)=>utils.forEach(cn,(fn,hn)=>an(fn,hn,un));return utils.isPlainObject(en)||en instanceof this.constructor?ln(en,tn):utils.isString(en)&&(en=en.trim())&&!isValidHeaderName(en)?ln(parseHeaders(en),tn):en!=null&&an(tn,en,nn),this}get(en,tn){if(en=normalizeHeader(en),en){const nn=utils.findKey(this,en);if(nn){const rn=this[nn];if(!tn)return rn;if(tn===!0)return parseTokens(rn);if(utils.isFunction(tn))return tn.call(this,rn,nn);if(utils.isRegExp(tn))return tn.exec(rn);throw new TypeError("parser must be boolean|regexp|function")}}}has(en,tn){if(en=normalizeHeader(en),en){const nn=utils.findKey(this,en);return!!(nn&&this[nn]!==void 0&&(!tn||matchHeaderValue(this,this[nn],nn,tn)))}return!1}delete(en,tn){const nn=this;let rn=!1;function an(ln){if(ln=normalizeHeader(ln),ln){const cn=utils.findKey(nn,ln);cn&&(!tn||matchHeaderValue(nn,nn[cn],cn,tn))&&(delete nn[cn],rn=!0)}}return utils.isArray(en)?en.forEach(an):an(en),rn}clear(en){const tn=Object.keys(this);let nn=tn.length,rn=!1;for(;nn--;){const an=tn[nn];(!en||matchHeaderValue(this,this[an],an,en,!0))&&(delete this[an],rn=!0)}return rn}normalize(en){const tn=this,nn={};return utils.forEach(this,(rn,an)=>{const ln=utils.findKey(nn,an);if(ln){tn[ln]=normalizeValue(rn),delete tn[an];return}const cn=en?formatHeader(an):String(an).trim();cn!==an&&delete tn[an],tn[cn]=normalizeValue(rn),nn[cn]=!0}),this}concat(...en){return this.constructor.concat(this,...en)}toJSON(en){const tn=Object.create(null);return utils.forEach(this,(nn,rn)=>{nn!=null&&nn!==!1&&(tn[rn]=en&&utils.isArray(nn)?nn.join(", "):nn)}),tn}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([en,tn])=>en+": "+tn).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(en){return en instanceof this?en:new this(en)}static concat(en,...tn){const nn=new this(en);return tn.forEach(rn=>nn.set(rn)),nn}static accessor(en){const nn=(this[$internals]=this[$internals]={accessors:{}}).accessors,rn=this.prototype;function an(ln){const cn=normalizeHeader(ln);nn[cn]||(buildAccessors(rn,ln),nn[cn]=!0)}return utils.isArray(en)?en.forEach(an):an(en),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.reduceDescriptors(AxiosHeaders.prototype,({value:Fe},en)=>{let tn=en[0].toUpperCase()+en.slice(1);return{get:()=>Fe,set(nn){this[tn]=nn}}});utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(Fe,en){const tn=this||defaults$3,nn=en||tn,rn=AxiosHeaders$1.from(nn.headers);let an=nn.data;return utils.forEach(Fe,function(cn){an=cn.call(tn,an,rn.normalize(),en?en.status:void 0)}),rn.normalize(),an}function isCancel(Fe){return!!(Fe&&Fe.__CANCEL__)}function CanceledError(Fe,en,tn){AxiosError.call(this,Fe??"canceled",AxiosError.ERR_CANCELED,en,tn),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(Fe,en,tn){const nn=tn.config.validateStatus;!tn.status||!nn||nn(tn.status)?Fe(tn):en(new AxiosError("Request failed with status code "+tn.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(tn.status/100)-4],tn.config,tn.request,tn))}const cookies=platform$1.isStandardBrowserEnv?function(){return{write:function(tn,nn,rn,an,ln,cn){const un=[];un.push(tn+"="+encodeURIComponent(nn)),utils.isNumber(rn)&&un.push("expires="+new Date(rn).toGMTString()),utils.isString(an)&&un.push("path="+an),utils.isString(ln)&&un.push("domain="+ln),cn===!0&&un.push("secure"),document.cookie=un.join("; ")},read:function(tn){const nn=document.cookie.match(new RegExp("(^|;\\s*)("+tn+")=([^;]*)"));return nn?decodeURIComponent(nn[3]):null},remove:function(tn){this.write(tn,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(Fe){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Fe)}function combineURLs(Fe,en){return en?Fe.replace(/\/+$/,"")+"/"+en.replace(/^\/+/,""):Fe}function buildFullPath(Fe,en){return Fe&&!isAbsoluteURL(en)?combineURLs(Fe,en):en}const isURLSameOrigin=platform$1.isStandardBrowserEnv?function(){const en=/(msie|trident)/i.test(navigator.userAgent),tn=document.createElement("a");let nn;function rn(an){let ln=an;return en&&(tn.setAttribute("href",ln),ln=tn.href),tn.setAttribute("href",ln),{href:tn.href,protocol:tn.protocol?tn.protocol.replace(/:$/,""):"",host:tn.host,search:tn.search?tn.search.replace(/^\?/,""):"",hash:tn.hash?tn.hash.replace(/^#/,""):"",hostname:tn.hostname,port:tn.port,pathname:tn.pathname.charAt(0)==="/"?tn.pathname:"/"+tn.pathname}}return nn=rn(window.location.href),function(ln){const cn=utils.isString(ln)?rn(ln):ln;return cn.protocol===nn.protocol&&cn.host===nn.host}}():function(){return function(){return!0}}();function parseProtocol(Fe){const en=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Fe);return en&&en[1]||""}function speedometer(Fe,en){Fe=Fe||10;const tn=new Array(Fe),nn=new Array(Fe);let rn=0,an=0,ln;return en=en!==void 0?en:1e3,function(un){const fn=Date.now(),hn=nn[an];ln||(ln=fn),tn[rn]=un,nn[rn]=fn;let pn=an,gn=0;for(;pn!==rn;)gn+=tn[pn++],pn=pn%Fe;if(rn=(rn+1)%Fe,rn===an&&(an=(an+1)%Fe),fn-ln<en)return;const mn=hn&&fn-hn;return mn?Math.round(gn*1e3/mn):void 0}}function progressEventReducer(Fe,en){let tn=0;const nn=speedometer(50,250);return rn=>{const an=rn.loaded,ln=rn.lengthComputable?rn.total:void 0,cn=an-tn,un=nn(cn),fn=an<=ln;tn=an;const hn={loaded:an,total:ln,progress:ln?an/ln:void 0,bytes:cn,rate:un||void 0,estimated:un&&ln&&fn?(ln-an)/un:void 0,event:rn};hn[en?"download":"upload"]=!0,Fe(hn)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(Fe){return new Promise(function(tn,nn){let rn=Fe.data;const an=AxiosHeaders$1.from(Fe.headers).normalize(),ln=Fe.responseType;let cn;function un(){Fe.cancelToken&&Fe.cancelToken.unsubscribe(cn),Fe.signal&&Fe.signal.removeEventListener("abort",cn)}let fn;utils.isFormData(rn)&&(platform$1.isStandardBrowserEnv||platform$1.isStandardBrowserWebWorkerEnv?an.setContentType(!1):an.getContentType(/^\s*multipart\/form-data/)?utils.isString(fn=an.getContentType())&&an.setContentType(fn.replace(/^\s*(multipart\/form-data);+/,"$1")):an.setContentType("multipart/form-data"));let hn=new XMLHttpRequest;if(Fe.auth){const _n=Fe.auth.username||"",kn=Fe.auth.password?unescape(encodeURIComponent(Fe.auth.password)):"";an.set("Authorization","Basic "+btoa(_n+":"+kn))}const pn=buildFullPath(Fe.baseURL,Fe.url);hn.open(Fe.method.toUpperCase(),buildURL(pn,Fe.params,Fe.paramsSerializer),!0),hn.timeout=Fe.timeout;function gn(){if(!hn)return;const _n=AxiosHeaders$1.from("getAllResponseHeaders"in hn&&hn.getAllResponseHeaders()),Cn={data:!ln||ln==="text"||ln==="json"?hn.responseText:hn.response,status:hn.status,statusText:hn.statusText,headers:_n,config:Fe,request:hn};settle(function(Sn){tn(Sn),un()},function(Sn){nn(Sn),un()},Cn),hn=null}if("onloadend"in hn?hn.onloadend=gn:hn.onreadystatechange=function(){!hn||hn.readyState!==4||hn.status===0&&!(hn.responseURL&&hn.responseURL.indexOf("file:")===0)||setTimeout(gn)},hn.onabort=function(){hn&&(nn(new AxiosError("Request aborted",AxiosError.ECONNABORTED,Fe,hn)),hn=null)},hn.onerror=function(){nn(new AxiosError("Network Error",AxiosError.ERR_NETWORK,Fe,hn)),hn=null},hn.ontimeout=function(){let kn=Fe.timeout?"timeout of "+Fe.timeout+"ms exceeded":"timeout exceeded";const Cn=Fe.transitional||transitionalDefaults;Fe.timeoutErrorMessage&&(kn=Fe.timeoutErrorMessage),nn(new AxiosError(kn,Cn.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,Fe,hn)),hn=null},platform$1.isStandardBrowserEnv){const _n=isURLSameOrigin(pn)&&Fe.xsrfCookieName&&cookies.read(Fe.xsrfCookieName);_n&&an.set(Fe.xsrfHeaderName,_n)}rn===void 0&&an.setContentType(null),"setRequestHeader"in hn&&utils.forEach(an.toJSON(),function(kn,Cn){hn.setRequestHeader(Cn,kn)}),utils.isUndefined(Fe.withCredentials)||(hn.withCredentials=!!Fe.withCredentials),ln&&ln!=="json"&&(hn.responseType=Fe.responseType),typeof Fe.onDownloadProgress=="function"&&hn.addEventListener("progress",progressEventReducer(Fe.onDownloadProgress,!0)),typeof Fe.onUploadProgress=="function"&&hn.upload&&hn.upload.addEventListener("progress",progressEventReducer(Fe.onUploadProgress)),(Fe.cancelToken||Fe.signal)&&(cn=_n=>{hn&&(nn(!_n||_n.type?new CanceledError(null,Fe,hn):_n),hn.abort(),hn=null)},Fe.cancelToken&&Fe.cancelToken.subscribe(cn),Fe.signal&&(Fe.signal.aborted?cn():Fe.signal.addEventListener("abort",cn)));const mn=parseProtocol(pn);if(mn&&platform$1.protocols.indexOf(mn)===-1){nn(new AxiosError("Unsupported protocol "+mn+":",AxiosError.ERR_BAD_REQUEST,Fe));return}hn.send(rn||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(Fe,en)=>{if(Fe){try{Object.defineProperty(Fe,"name",{value:en})}catch{}Object.defineProperty(Fe,"adapterName",{value:en})}});const renderReason=Fe=>`- ${Fe}`,isResolvedHandle=Fe=>utils.isFunction(Fe)||Fe===null||Fe===!1,adapters={getAdapter:Fe=>{Fe=utils.isArray(Fe)?Fe:[Fe];const{length:en}=Fe;let tn,nn;const rn={};for(let an=0;an<en;an++){tn=Fe[an];let ln;if(nn=tn,!isResolvedHandle(tn)&&(nn=knownAdapters[(ln=String(tn)).toLowerCase()],nn===void 0))throw new AxiosError(`Unknown adapter '${ln}'`);if(nn)break;rn[ln||"#"+an]=nn}if(!nn){const an=Object.entries(rn).map(([cn,un])=>`adapter ${cn} `+(un===!1?"is not supported by the environment":"is not available in the build"));let ln=en?an.length>1?`since :
`+an.map(renderReason).join(`
`):" "+renderReason(an[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+ln,"ERR_NOT_SUPPORT")}return nn},adapters:knownAdapters};function throwIfCancellationRequested(Fe){if(Fe.cancelToken&&Fe.cancelToken.throwIfRequested(),Fe.signal&&Fe.signal.aborted)throw new CanceledError(null,Fe)}function dispatchRequest(Fe){return throwIfCancellationRequested(Fe),Fe.headers=AxiosHeaders$1.from(Fe.headers),Fe.data=transformData.call(Fe,Fe.transformRequest),["post","put","patch"].indexOf(Fe.method)!==-1&&Fe.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(Fe.adapter||defaults$3.adapter)(Fe).then(function(nn){return throwIfCancellationRequested(Fe),nn.data=transformData.call(Fe,Fe.transformResponse,nn),nn.headers=AxiosHeaders$1.from(nn.headers),nn},function(nn){return isCancel(nn)||(throwIfCancellationRequested(Fe),nn&&nn.response&&(nn.response.data=transformData.call(Fe,Fe.transformResponse,nn.response),nn.response.headers=AxiosHeaders$1.from(nn.response.headers))),Promise.reject(nn)})}const headersToObject=Fe=>Fe instanceof AxiosHeaders$1?Fe.toJSON():Fe;function mergeConfig(Fe,en){en=en||{};const tn={};function nn(fn,hn,pn){return utils.isPlainObject(fn)&&utils.isPlainObject(hn)?utils.merge.call({caseless:pn},fn,hn):utils.isPlainObject(hn)?utils.merge({},hn):utils.isArray(hn)?hn.slice():hn}function rn(fn,hn,pn){if(utils.isUndefined(hn)){if(!utils.isUndefined(fn))return nn(void 0,fn,pn)}else return nn(fn,hn,pn)}function an(fn,hn){if(!utils.isUndefined(hn))return nn(void 0,hn)}function ln(fn,hn){if(utils.isUndefined(hn)){if(!utils.isUndefined(fn))return nn(void 0,fn)}else return nn(void 0,hn)}function cn(fn,hn,pn){if(pn in en)return nn(fn,hn);if(pn in Fe)return nn(void 0,fn)}const un={url:an,method:an,data:an,baseURL:ln,transformRequest:ln,transformResponse:ln,paramsSerializer:ln,timeout:ln,timeoutMessage:ln,withCredentials:ln,adapter:ln,responseType:ln,xsrfCookieName:ln,xsrfHeaderName:ln,onUploadProgress:ln,onDownloadProgress:ln,decompress:ln,maxContentLength:ln,maxBodyLength:ln,beforeRedirect:ln,transport:ln,httpAgent:ln,httpsAgent:ln,cancelToken:ln,socketPath:ln,responseEncoding:ln,validateStatus:cn,headers:(fn,hn)=>rn(headersToObject(fn),headersToObject(hn),!0)};return utils.forEach(Object.keys(Object.assign({},Fe,en)),function(hn){const pn=un[hn]||rn,gn=pn(Fe[hn],en[hn],hn);utils.isUndefined(gn)&&pn!==cn||(tn[hn]=gn)}),tn}const VERSION="1.6.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((Fe,en)=>{validators$1[Fe]=function(nn){return typeof nn===Fe||"a"+(en<1?"n ":" ")+Fe}});const deprecatedWarnings={};validators$1.transitional=function(en,tn,nn){function rn(an,ln){return"[Axios v"+VERSION+"] Transitional option '"+an+"'"+ln+(nn?". "+nn:"")}return(an,ln,cn)=>{if(en===!1)throw new AxiosError(rn(ln," has been removed"+(tn?" in "+tn:"")),AxiosError.ERR_DEPRECATED);return tn&&!deprecatedWarnings[ln]&&(deprecatedWarnings[ln]=!0,console.warn(rn(ln," has been deprecated since v"+tn+" and will be removed in the near future"))),en?en(an,ln,cn):!0}};function assertOptions(Fe,en,tn){if(typeof Fe!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const nn=Object.keys(Fe);let rn=nn.length;for(;rn-- >0;){const an=nn[rn],ln=en[an];if(ln){const cn=Fe[an],un=cn===void 0||ln(cn,an,Fe);if(un!==!0)throw new AxiosError("option "+an+" must be "+un,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(tn!==!0)throw new AxiosError("Unknown option "+an,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(en){this.defaults=en,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(en,tn){typeof en=="string"?(tn=tn||{},tn.url=en):tn=en||{},tn=mergeConfig(this.defaults,tn);const{transitional:nn,paramsSerializer:rn,headers:an}=tn;nn!==void 0&&validator.assertOptions(nn,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),rn!=null&&(utils.isFunction(rn)?tn.paramsSerializer={serialize:rn}:validator.assertOptions(rn,{encode:validators.function,serialize:validators.function},!0)),tn.method=(tn.method||this.defaults.method||"get").toLowerCase();let ln=an&&utils.merge(an.common,an[tn.method]);an&&utils.forEach(["delete","get","head","post","put","patch","common"],_n=>{delete an[_n]}),tn.headers=AxiosHeaders$1.concat(ln,an);const cn=[];let un=!0;this.interceptors.request.forEach(function(kn){typeof kn.runWhen=="function"&&kn.runWhen(tn)===!1||(un=un&&kn.synchronous,cn.unshift(kn.fulfilled,kn.rejected))});const fn=[];this.interceptors.response.forEach(function(kn){fn.push(kn.fulfilled,kn.rejected)});let hn,pn=0,gn;if(!un){const _n=[dispatchRequest.bind(this),void 0];for(_n.unshift.apply(_n,cn),_n.push.apply(_n,fn),gn=_n.length,hn=Promise.resolve(tn);pn<gn;)hn=hn.then(_n[pn++],_n[pn++]);return hn}gn=cn.length;let mn=tn;for(pn=0;pn<gn;){const _n=cn[pn++],kn=cn[pn++];try{mn=_n(mn)}catch(Cn){kn.call(this,Cn);break}}try{hn=dispatchRequest.call(this,mn)}catch(_n){return Promise.reject(_n)}for(pn=0,gn=fn.length;pn<gn;)hn=hn.then(fn[pn++],fn[pn++]);return hn}getUri(en){en=mergeConfig(this.defaults,en);const tn=buildFullPath(en.baseURL,en.url);return buildURL(tn,en.params,en.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(en){Axios.prototype[en]=function(tn,nn){return this.request(mergeConfig(nn||{},{method:en,url:tn,data:(nn||{}).data}))}});utils.forEach(["post","put","patch"],function(en){function tn(nn){return function(an,ln,cn){return this.request(mergeConfig(cn||{},{method:en,headers:nn?{"Content-Type":"multipart/form-data"}:{},url:an,data:ln}))}}Axios.prototype[en]=tn(),Axios.prototype[en+"Form"]=tn(!0)});const Axios$1=Axios;class CancelToken{constructor(en){if(typeof en!="function")throw new TypeError("executor must be a function.");let tn;this.promise=new Promise(function(an){tn=an});const nn=this;this.promise.then(rn=>{if(!nn._listeners)return;let an=nn._listeners.length;for(;an-- >0;)nn._listeners[an](rn);nn._listeners=null}),this.promise.then=rn=>{let an;const ln=new Promise(cn=>{nn.subscribe(cn),an=cn}).then(rn);return ln.cancel=function(){nn.unsubscribe(an)},ln},en(function(an,ln,cn){nn.reason||(nn.reason=new CanceledError(an,ln,cn),tn(nn.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(en){if(this.reason){en(this.reason);return}this._listeners?this._listeners.push(en):this._listeners=[en]}unsubscribe(en){if(!this._listeners)return;const tn=this._listeners.indexOf(en);tn!==-1&&this._listeners.splice(tn,1)}static source(){let en;return{token:new CancelToken(function(rn){en=rn}),cancel:en}}}const CancelToken$1=CancelToken;function spread(Fe){return function(tn){return Fe.apply(null,tn)}}function isAxiosError(Fe){return utils.isObject(Fe)&&Fe.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([Fe,en])=>{HttpStatusCode[en]=Fe});const HttpStatusCode$1=HttpStatusCode;function createInstance(Fe){const en=new Axios$1(Fe),tn=bind$3(Axios$1.prototype.request,en);return utils.extend(tn,Axios$1.prototype,en,{allOwnKeys:!0}),utils.extend(tn,en,null,{allOwnKeys:!0}),tn.create=function(rn){return createInstance(mergeConfig(Fe,rn))},tn}const axios=createInstance(defaults$3);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(en){return Promise.all(en)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=Fe=>formDataToJSON(utils.isHTMLForm(Fe)?new FormData(Fe):Fe);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;var select2$2={exports:{}};/*!
 * Select2 4.1.0-rc.0
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */(function(Fe){(function(en){Fe.exports?Fe.exports=function(tn,nn){return nn===void 0&&(typeof window<"u"?nn=jqueryExports:nn=jqueryExports(tn)),en(nn),nn}:en(jQuery)})(function(en){var tn=function(){if(en&&en.fn&&en.fn.select2&&en.fn.select2.amd)var rn=en.fn.select2.amd;var rn;return function(){if(!rn||!rn.requirejs){rn?ln=rn:rn={};/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */var an,ln,cn;(function(un){var fn,hn,pn,gn,mn={},_n={},kn={},Cn={},xn=Object.prototype.hasOwnProperty,Sn=[].slice,Mn=/\.js$/;function In(Wn,Qn){return xn.call(Wn,Qn)}function On(Wn,Qn){var Xn,jr,Wr,Jr,ci,ti,Zr,Br,Jn,oi,pi,ri,fi=Qn&&Qn.split("/"),yi=kn.map,Si=yi&&yi["*"]||{};if(Wn){for(Wn=Wn.split("/"),ci=Wn.length-1,kn.nodeIdCompat&&Mn.test(Wn[ci])&&(Wn[ci]=Wn[ci].replace(Mn,"")),Wn[0].charAt(0)==="."&&fi&&(ri=fi.slice(0,fi.length-1),Wn=ri.concat(Wn)),Jn=0;Jn<Wn.length;Jn++)if(pi=Wn[Jn],pi===".")Wn.splice(Jn,1),Jn-=1;else if(pi===".."){if(Jn===0||Jn===1&&Wn[2]===".."||Wn[Jn-1]==="..")continue;Jn>0&&(Wn.splice(Jn-1,2),Jn-=2)}Wn=Wn.join("/")}if((fi||Si)&&yi){for(Xn=Wn.split("/"),Jn=Xn.length;Jn>0;Jn-=1){if(jr=Xn.slice(0,Jn).join("/"),fi){for(oi=fi.length;oi>0;oi-=1)if(Wr=yi[fi.slice(0,oi).join("/")],Wr&&(Wr=Wr[jr],Wr)){Jr=Wr,ti=Jn;break}}if(Jr)break;!Zr&&Si&&Si[jr]&&(Zr=Si[jr],Br=Jn)}!Jr&&Zr&&(Jr=Zr,ti=Br),Jr&&(Xn.splice(0,ti,Jr),Wn=Xn.join("/"))}return Wn}function Pn(Wn,Qn){return function(){var Xn=Sn.call(arguments,0);return typeof Xn[0]!="string"&&Xn.length===1&&Xn.push(null),hn.apply(un,Xn.concat([Wn,Qn]))}}function Tn(Wn){return function(Qn){return On(Qn,Wn)}}function Nn(Wn){return function(Qn){mn[Wn]=Qn}}function Hn(Wn){if(In(_n,Wn)){var Qn=_n[Wn];delete _n[Wn],Cn[Wn]=!0,fn.apply(un,Qn)}if(!In(mn,Wn)&&!In(Cn,Wn))throw new Error("No "+Wn);return mn[Wn]}function Un(Wn){var Qn,Xn=Wn?Wn.indexOf("!"):-1;return Xn>-1&&(Qn=Wn.substring(0,Xn),Wn=Wn.substring(Xn+1,Wn.length)),[Qn,Wn]}function jn(Wn){return Wn?Un(Wn):[]}pn=function(Wn,Qn){var Xn,jr=Un(Wn),Wr=jr[0],Jr=Qn[1];return Wn=jr[1],Wr&&(Wr=On(Wr,Jr),Xn=Hn(Wr)),Wr?Xn&&Xn.normalize?Wn=Xn.normalize(Wn,Tn(Jr)):Wn=On(Wn,Jr):(Wn=On(Wn,Jr),jr=Un(Wn),Wr=jr[0],Wn=jr[1],Wr&&(Xn=Hn(Wr))),{f:Wr?Wr+"!"+Wn:Wn,n:Wn,pr:Wr,p:Xn}};function Yn(Wn){return function(){return kn&&kn.config&&kn.config[Wn]||{}}}gn={require:function(Wn){return Pn(Wn)},exports:function(Wn){var Qn=mn[Wn];return typeof Qn<"u"?Qn:mn[Wn]={}},module:function(Wn){return{id:Wn,uri:"",exports:mn[Wn],config:Yn(Wn)}}},fn=function(Wn,Qn,Xn,jr){var Wr,Jr,ci,ti,Zr,Br,Jn=[],oi=typeof Xn,pi;if(jr=jr||Wn,Br=jn(jr),oi==="undefined"||oi==="function"){for(Qn=!Qn.length&&Xn.length?["require","exports","module"]:Qn,Zr=0;Zr<Qn.length;Zr+=1)if(ti=pn(Qn[Zr],Br),Jr=ti.f,Jr==="require")Jn[Zr]=gn.require(Wn);else if(Jr==="exports")Jn[Zr]=gn.exports(Wn),pi=!0;else if(Jr==="module")Wr=Jn[Zr]=gn.module(Wn);else if(In(mn,Jr)||In(_n,Jr)||In(Cn,Jr))Jn[Zr]=Hn(Jr);else if(ti.p)ti.p.load(ti.n,Pn(jr,!0),Nn(Jr),{}),Jn[Zr]=mn[Jr];else throw new Error(Wn+" missing "+Jr);ci=Xn?Xn.apply(mn[Wn],Jn):void 0,Wn&&(Wr&&Wr.exports!==un&&Wr.exports!==mn[Wn]?mn[Wn]=Wr.exports:(ci!==un||!pi)&&(mn[Wn]=ci))}else Wn&&(mn[Wn]=Xn)},an=ln=hn=function(Wn,Qn,Xn,jr,Wr){if(typeof Wn=="string")return gn[Wn]?gn[Wn](Qn):Hn(pn(Wn,jn(Qn)).f);if(!Wn.splice){if(kn=Wn,kn.deps&&hn(kn.deps,kn.callback),!Qn)return;Qn.splice?(Wn=Qn,Qn=Xn,Xn=null):Wn=un}return Qn=Qn||function(){},typeof Xn=="function"&&(Xn=jr,jr=Wr),jr?fn(un,Wn,Qn,Xn):setTimeout(function(){fn(un,Wn,Qn,Xn)},4),hn},hn.config=function(Wn){return hn(Wn)},an._defined=mn,cn=function(Wn,Qn,Xn){if(typeof Wn!="string")throw new Error("See almond README: incorrect module build, no module name");Qn.splice||(Xn=Qn,Qn=[]),!In(mn,Wn)&&!In(_n,Wn)&&(_n[Wn]=[Wn,Qn,Xn])},cn.amd={jQuery:!0}})(),rn.requirejs=an,rn.require=ln,rn.define=cn}}(),rn.define("almond",function(){}),rn.define("jquery",[],function(){var an=en||$;return an==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),an}),rn.define("select2/utils",["jquery"],function(an){var ln={};ln.Extend=function(hn,pn){var gn={}.hasOwnProperty;function mn(){this.constructor=hn}for(var _n in pn)gn.call(pn,_n)&&(hn[_n]=pn[_n]);return mn.prototype=pn.prototype,hn.prototype=new mn,hn.__super__=pn.prototype,hn};function cn(hn){var pn=hn.prototype,gn=[];for(var mn in pn){var _n=pn[mn];typeof _n=="function"&&mn!=="constructor"&&gn.push(mn)}return gn}ln.Decorate=function(hn,pn){var gn=cn(pn),mn=cn(hn);function _n(){var On=Array.prototype.unshift,Pn=pn.prototype.constructor.length,Tn=hn.prototype.constructor;Pn>0&&(On.call(arguments,hn.prototype.constructor),Tn=pn.prototype.constructor),Tn.apply(this,arguments)}pn.displayName=hn.displayName;function kn(){this.constructor=_n}_n.prototype=new kn;for(var Cn=0;Cn<mn.length;Cn++){var xn=mn[Cn];_n.prototype[xn]=hn.prototype[xn]}for(var Sn=function(On){var Pn=function(){};On in _n.prototype&&(Pn=_n.prototype[On]);var Tn=pn.prototype[On];return function(){var Nn=Array.prototype.unshift;return Nn.call(arguments,Pn),Tn.apply(this,arguments)}},Mn=0;Mn<gn.length;Mn++){var In=gn[Mn];_n.prototype[In]=Sn(In)}return _n};var un=function(){this.listeners={}};un.prototype.on=function(hn,pn){this.listeners=this.listeners||{},hn in this.listeners?this.listeners[hn].push(pn):this.listeners[hn]=[pn]},un.prototype.trigger=function(hn){var pn=Array.prototype.slice,gn=pn.call(arguments,1);this.listeners=this.listeners||{},gn==null&&(gn=[]),gn.length===0&&gn.push({}),gn[0]._type=hn,hn in this.listeners&&this.invoke(this.listeners[hn],pn.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},un.prototype.invoke=function(hn,pn){for(var gn=0,mn=hn.length;gn<mn;gn++)hn[gn].apply(this,pn)},ln.Observable=un,ln.generateChars=function(hn){for(var pn="",gn=0;gn<hn;gn++){var mn=Math.floor(Math.random()*36);pn+=mn.toString(36)}return pn},ln.bind=function(hn,pn){return function(){hn.apply(pn,arguments)}},ln._convertData=function(hn){for(var pn in hn){var gn=pn.split("-"),mn=hn;if(gn.length!==1){for(var _n=0;_n<gn.length;_n++){var kn=gn[_n];kn=kn.substring(0,1).toLowerCase()+kn.substring(1),kn in mn||(mn[kn]={}),_n==gn.length-1&&(mn[kn]=hn[pn]),mn=mn[kn]}delete hn[pn]}}return hn},ln.hasScroll=function(hn,pn){var gn=an(pn),mn=pn.style.overflowX,_n=pn.style.overflowY;return mn===_n&&(_n==="hidden"||_n==="visible")?!1:mn==="scroll"||_n==="scroll"?!0:gn.innerHeight()<pn.scrollHeight||gn.innerWidth()<pn.scrollWidth},ln.escapeMarkup=function(hn){var pn={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof hn!="string"?hn:String(hn).replace(/[&<>"'\/\\]/g,function(gn){return pn[gn]})},ln.__cache={};var fn=0;return ln.GetUniqueElementId=function(hn){var pn=hn.getAttribute("data-select2-id");return pn!=null||(hn.id?pn="select2-data-"+hn.id:pn="select2-data-"+(++fn).toString()+"-"+ln.generateChars(4),hn.setAttribute("data-select2-id",pn)),pn},ln.StoreData=function(hn,pn,gn){var mn=ln.GetUniqueElementId(hn);ln.__cache[mn]||(ln.__cache[mn]={}),ln.__cache[mn][pn]=gn},ln.GetData=function(hn,pn){var gn=ln.GetUniqueElementId(hn);return pn?ln.__cache[gn]&&ln.__cache[gn][pn]!=null?ln.__cache[gn][pn]:an(hn).data(pn):ln.__cache[gn]},ln.RemoveData=function(hn){var pn=ln.GetUniqueElementId(hn);ln.__cache[pn]!=null&&delete ln.__cache[pn],hn.removeAttribute("data-select2-id")},ln.copyNonInternalCssClasses=function(hn,pn){var gn=hn.getAttribute("class").trim().split(/\s+/);gn=gn.filter(function(kn){return kn.indexOf("select2-")===0});var mn=pn.getAttribute("class").trim().split(/\s+/);mn=mn.filter(function(kn){return kn.indexOf("select2-")!==0});var _n=gn.concat(mn);hn.setAttribute("class",_n.join(" "))},ln}),rn.define("select2/results",["jquery","./utils"],function(an,ln){function cn(un,fn,hn){this.$element=un,this.data=hn,this.options=fn,cn.__super__.constructor.call(this)}return ln.Extend(cn,ln.Observable),cn.prototype.render=function(){var un=an('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&un.attr("aria-multiselectable","true"),this.$results=un,un},cn.prototype.clear=function(){this.$results.empty()},cn.prototype.displayMessage=function(un){var fn=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var hn=an('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),pn=this.options.get("translations").get(un.message);hn.append(fn(pn(un.args))),hn[0].className+=" select2-results__message",this.$results.append(hn)},cn.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},cn.prototype.append=function(un){this.hideLoading();var fn=[];if(un.results==null||un.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}un.results=this.sort(un.results);for(var hn=0;hn<un.results.length;hn++){var pn=un.results[hn],gn=this.option(pn);fn.push(gn)}this.$results.append(fn)},cn.prototype.position=function(un,fn){var hn=fn.find(".select2-results");hn.append(un)},cn.prototype.sort=function(un){var fn=this.options.get("sorter");return fn(un)},cn.prototype.highlightFirstItem=function(){var un=this.$results.find(".select2-results__option--selectable"),fn=un.filter(".select2-results__option--selected");fn.length>0?fn.first().trigger("mouseenter"):un.first().trigger("mouseenter"),this.ensureHighlightVisible()},cn.prototype.setClasses=function(){var un=this;this.data.current(function(fn){var hn=fn.map(function(gn){return gn.id.toString()}),pn=un.$results.find(".select2-results__option--selectable");pn.each(function(){var gn=an(this),mn=ln.GetData(this,"data"),_n=""+mn.id;mn.element!=null&&mn.element.selected||mn.element==null&&hn.indexOf(_n)>-1?(this.classList.add("select2-results__option--selected"),gn.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),gn.attr("aria-selected","false"))})})},cn.prototype.showLoading=function(un){this.hideLoading();var fn=this.options.get("translations").get("searching"),hn={disabled:!0,loading:!0,text:fn(un)},pn=this.option(hn);pn.className+=" loading-results",this.$results.prepend(pn)},cn.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},cn.prototype.option=function(un){var fn=document.createElement("li");fn.classList.add("select2-results__option"),fn.classList.add("select2-results__option--selectable");var hn={role:"option"},pn=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(un.element!=null&&pn.call(un.element,":disabled")||un.element==null&&un.disabled)&&(hn["aria-disabled"]="true",fn.classList.remove("select2-results__option--selectable"),fn.classList.add("select2-results__option--disabled")),un.id==null&&fn.classList.remove("select2-results__option--selectable"),un._resultId!=null&&(fn.id=un._resultId),un.title&&(fn.title=un.title),un.children&&(hn.role="group",hn["aria-label"]=un.text,fn.classList.remove("select2-results__option--selectable"),fn.classList.add("select2-results__option--group"));for(var gn in hn){var mn=hn[gn];fn.setAttribute(gn,mn)}if(un.children){var _n=an(fn),kn=document.createElement("strong");kn.className="select2-results__group",this.template(un,kn);for(var Cn=[],xn=0;xn<un.children.length;xn++){var Sn=un.children[xn],Mn=this.option(Sn);Cn.push(Mn)}var In=an("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"});In.append(Cn),_n.append(kn),_n.append(In)}else this.template(un,fn);return ln.StoreData(fn,"data",un),fn},cn.prototype.bind=function(un,fn){var hn=this,pn=un.id+"-results";this.$results.attr("id",pn),un.on("results:all",function(gn){hn.clear(),hn.append(gn.data),un.isOpen()&&(hn.setClasses(),hn.highlightFirstItem())}),un.on("results:append",function(gn){hn.append(gn.data),un.isOpen()&&hn.setClasses()}),un.on("query",function(gn){hn.hideMessages(),hn.showLoading(gn)}),un.on("select",function(){un.isOpen()&&(hn.setClasses(),hn.options.get("scrollAfterSelect")&&hn.highlightFirstItem())}),un.on("unselect",function(){un.isOpen()&&(hn.setClasses(),hn.options.get("scrollAfterSelect")&&hn.highlightFirstItem())}),un.on("open",function(){hn.$results.attr("aria-expanded","true"),hn.$results.attr("aria-hidden","false"),hn.setClasses(),hn.ensureHighlightVisible()}),un.on("close",function(){hn.$results.attr("aria-expanded","false"),hn.$results.attr("aria-hidden","true"),hn.$results.removeAttr("aria-activedescendant")}),un.on("results:toggle",function(){var gn=hn.getHighlightedResults();gn.length!==0&&gn.trigger("mouseup")}),un.on("results:select",function(){var gn=hn.getHighlightedResults();if(gn.length!==0){var mn=ln.GetData(gn[0],"data");gn.hasClass("select2-results__option--selected")?hn.trigger("close",{}):hn.trigger("select",{data:mn})}}),un.on("results:previous",function(){var gn=hn.getHighlightedResults(),mn=hn.$results.find(".select2-results__option--selectable"),_n=mn.index(gn);if(!(_n<=0)){var kn=_n-1;gn.length===0&&(kn=0);var Cn=mn.eq(kn);Cn.trigger("mouseenter");var xn=hn.$results.offset().top,Sn=Cn.offset().top,Mn=hn.$results.scrollTop()+(Sn-xn);kn===0?hn.$results.scrollTop(0):Sn-xn<0&&hn.$results.scrollTop(Mn)}}),un.on("results:next",function(){var gn=hn.getHighlightedResults(),mn=hn.$results.find(".select2-results__option--selectable"),_n=mn.index(gn),kn=_n+1;if(!(kn>=mn.length)){var Cn=mn.eq(kn);Cn.trigger("mouseenter");var xn=hn.$results.offset().top+hn.$results.outerHeight(!1),Sn=Cn.offset().top+Cn.outerHeight(!1),Mn=hn.$results.scrollTop()+Sn-xn;kn===0?hn.$results.scrollTop(0):Sn>xn&&hn.$results.scrollTop(Mn)}}),un.on("results:focus",function(gn){gn.element[0].classList.add("select2-results__option--highlighted"),gn.element[0].setAttribute("aria-selected","true")}),un.on("results:message",function(gn){hn.displayMessage(gn)}),an.fn.mousewheel&&this.$results.on("mousewheel",function(gn){var mn=hn.$results.scrollTop(),_n=hn.$results.get(0).scrollHeight-mn+gn.deltaY,kn=gn.deltaY>0&&mn-gn.deltaY<=0,Cn=gn.deltaY<0&&_n<=hn.$results.height();kn?(hn.$results.scrollTop(0),gn.preventDefault(),gn.stopPropagation()):Cn&&(hn.$results.scrollTop(hn.$results.get(0).scrollHeight-hn.$results.height()),gn.preventDefault(),gn.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(gn){var mn=an(this),_n=ln.GetData(this,"data");if(mn.hasClass("select2-results__option--selected")){hn.options.get("multiple")?hn.trigger("unselect",{originalEvent:gn,data:_n}):hn.trigger("close",{});return}hn.trigger("select",{originalEvent:gn,data:_n})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(gn){var mn=ln.GetData(this,"data");hn.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),hn.trigger("results:focus",{data:mn,element:an(this)})})},cn.prototype.getHighlightedResults=function(){var un=this.$results.find(".select2-results__option--highlighted");return un},cn.prototype.destroy=function(){this.$results.remove()},cn.prototype.ensureHighlightVisible=function(){var un=this.getHighlightedResults();if(un.length!==0){var fn=this.$results.find(".select2-results__option--selectable"),hn=fn.index(un),pn=this.$results.offset().top,gn=un.offset().top,mn=this.$results.scrollTop()+(gn-pn),_n=gn-pn;mn-=un.outerHeight(!1)*2,hn<=2?this.$results.scrollTop(0):(_n>this.$results.outerHeight()||_n<0)&&this.$results.scrollTop(mn)}},cn.prototype.template=function(un,fn){var hn=this.options.get("templateResult"),pn=this.options.get("escapeMarkup"),gn=hn(un,fn);gn==null?fn.style.display="none":typeof gn=="string"?fn.innerHTML=pn(gn):an(fn).append(gn)},cn}),rn.define("select2/keys",[],function(){var an={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return an}),rn.define("select2/selection/base",["jquery","../utils","../keys"],function(an,ln,cn){function un(fn,hn){this.$element=fn,this.options=hn,un.__super__.constructor.call(this)}return ln.Extend(un,ln.Observable),un.prototype.render=function(){var fn=an('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,ln.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=ln.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),fn.attr("title",this.$element.attr("title")),fn.attr("tabindex",this._tabindex),fn.attr("aria-disabled","false"),this.$selection=fn,fn},un.prototype.bind=function(fn,hn){var pn=this,gn=fn.id+"-results";this.container=fn,this.$selection.on("focus",function(mn){pn.trigger("focus",mn)}),this.$selection.on("blur",function(mn){pn._handleBlur(mn)}),this.$selection.on("keydown",function(mn){pn.trigger("keypress",mn),mn.which===cn.SPACE&&mn.preventDefault()}),fn.on("results:focus",function(mn){pn.$selection.attr("aria-activedescendant",mn.data._resultId)}),fn.on("selection:update",function(mn){pn.update(mn.data)}),fn.on("open",function(){pn.$selection.attr("aria-expanded","true"),pn.$selection.attr("aria-owns",gn),pn._attachCloseHandler(fn)}),fn.on("close",function(){pn.$selection.attr("aria-expanded","false"),pn.$selection.removeAttr("aria-activedescendant"),pn.$selection.removeAttr("aria-owns"),pn.$selection.trigger("focus"),pn._detachCloseHandler(fn)}),fn.on("enable",function(){pn.$selection.attr("tabindex",pn._tabindex),pn.$selection.attr("aria-disabled","false")}),fn.on("disable",function(){pn.$selection.attr("tabindex","-1"),pn.$selection.attr("aria-disabled","true")})},un.prototype._handleBlur=function(fn){var hn=this;window.setTimeout(function(){document.activeElement==hn.$selection[0]||an.contains(hn.$selection[0],document.activeElement)||hn.trigger("blur",fn)},1)},un.prototype._attachCloseHandler=function(fn){an(document.body).on("mousedown.select2."+fn.id,function(hn){var pn=an(hn.target),gn=pn.closest(".select2"),mn=an(".select2.select2-container--open");mn.each(function(){if(this!=gn[0]){var _n=ln.GetData(this,"element");_n.select2("close")}})})},un.prototype._detachCloseHandler=function(fn){an(document.body).off("mousedown.select2."+fn.id)},un.prototype.position=function(fn,hn){var pn=hn.find(".selection");pn.append(fn)},un.prototype.destroy=function(){this._detachCloseHandler(this.container)},un.prototype.update=function(fn){throw new Error("The `update` method must be defined in child classes.")},un.prototype.isEnabled=function(){return!this.isDisabled()},un.prototype.isDisabled=function(){return this.options.get("disabled")},un}),rn.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(an,ln,cn,un){function fn(){fn.__super__.constructor.apply(this,arguments)}return cn.Extend(fn,ln),fn.prototype.render=function(){var hn=fn.__super__.render.call(this);return hn[0].classList.add("select2-selection--single"),hn.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),hn},fn.prototype.bind=function(hn,pn){var gn=this;fn.__super__.bind.apply(this,arguments);var mn=hn.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",mn).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",mn),this.$selection.attr("aria-controls",mn),this.$selection.on("mousedown",function(_n){_n.which===1&&gn.trigger("toggle",{originalEvent:_n})}),this.$selection.on("focus",function(_n){}),this.$selection.on("blur",function(_n){}),hn.on("focus",function(_n){hn.isOpen()||gn.$selection.trigger("focus")})},fn.prototype.clear=function(){var hn=this.$selection.find(".select2-selection__rendered");hn.empty(),hn.removeAttr("title")},fn.prototype.display=function(hn,pn){var gn=this.options.get("templateSelection"),mn=this.options.get("escapeMarkup");return mn(gn(hn,pn))},fn.prototype.selectionContainer=function(){return an("<span></span>")},fn.prototype.update=function(hn){if(hn.length===0){this.clear();return}var pn=hn[0],gn=this.$selection.find(".select2-selection__rendered"),mn=this.display(pn,gn);gn.empty().append(mn);var _n=pn.title||pn.text;_n?gn.attr("title",_n):gn.removeAttr("title")},fn}),rn.define("select2/selection/multiple",["jquery","./base","../utils"],function(an,ln,cn){function un(fn,hn){un.__super__.constructor.apply(this,arguments)}return cn.Extend(un,ln),un.prototype.render=function(){var fn=un.__super__.render.call(this);return fn[0].classList.add("select2-selection--multiple"),fn.html('<ul class="select2-selection__rendered"></ul>'),fn},un.prototype.bind=function(fn,hn){var pn=this;un.__super__.bind.apply(this,arguments);var gn=fn.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",gn),this.$selection.on("click",function(mn){pn.trigger("toggle",{originalEvent:mn})}),this.$selection.on("click",".select2-selection__choice__remove",function(mn){if(!pn.isDisabled()){var _n=an(this),kn=_n.parent(),Cn=cn.GetData(kn[0],"data");pn.trigger("unselect",{originalEvent:mn,data:Cn})}}),this.$selection.on("keydown",".select2-selection__choice__remove",function(mn){pn.isDisabled()||mn.stopPropagation()})},un.prototype.clear=function(){var fn=this.$selection.find(".select2-selection__rendered");fn.empty(),fn.removeAttr("title")},un.prototype.display=function(fn,hn){var pn=this.options.get("templateSelection"),gn=this.options.get("escapeMarkup");return gn(pn(fn,hn))},un.prototype.selectionContainer=function(){var fn=an('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>');return fn},un.prototype.update=function(fn){if(this.clear(),fn.length!==0){for(var hn=[],pn=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",gn=0;gn<fn.length;gn++){var mn=fn[gn],_n=this.selectionContainer(),kn=this.display(mn,_n),Cn=pn+cn.generateChars(4)+"-";mn.id?Cn+=mn.id:Cn+=cn.generateChars(4),_n.find(".select2-selection__choice__display").append(kn).attr("id",Cn);var xn=mn.title||mn.text;xn&&_n.attr("title",xn);var Sn=this.options.get("translations").get("removeItem"),Mn=_n.find(".select2-selection__choice__remove");Mn.attr("title",Sn()),Mn.attr("aria-label",Sn()),Mn.attr("aria-describedby",Cn),cn.StoreData(_n[0],"data",mn),hn.push(_n)}var In=this.$selection.find(".select2-selection__rendered");In.append(hn)}},un}),rn.define("select2/selection/placeholder",[],function(){function an(ln,cn,un){this.placeholder=this.normalizePlaceholder(un.get("placeholder")),ln.call(this,cn,un)}return an.prototype.normalizePlaceholder=function(ln,cn){return typeof cn=="string"&&(cn={id:"",text:cn}),cn},an.prototype.createPlaceholder=function(ln,cn){var un=this.selectionContainer();un.html(this.display(cn)),un[0].classList.add("select2-selection__placeholder"),un[0].classList.remove("select2-selection__choice");var fn=cn.title||cn.text||un.text();return this.$selection.find(".select2-selection__rendered").attr("title",fn),un},an.prototype.update=function(ln,cn){var un=cn.length==1&&cn[0].id!=this.placeholder.id,fn=cn.length>1;if(fn||un)return ln.call(this,cn);this.clear();var hn=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(hn)},an}),rn.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(an,ln,cn){function un(){}return un.prototype.bind=function(fn,hn,pn){var gn=this;fn.call(this,hn,pn),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(mn){gn._handleClear(mn)}),hn.on("keypress",function(mn){gn._handleKeyboardClear(mn,hn)})},un.prototype._handleClear=function(fn,hn){if(!this.isDisabled()){var pn=this.$selection.find(".select2-selection__clear");if(pn.length!==0){hn.stopPropagation();var gn=cn.GetData(pn[0],"data"),mn=this.$element.val();this.$element.val(this.placeholder.id);var _n={data:gn};if(this.trigger("clear",_n),_n.prevented){this.$element.val(mn);return}for(var kn=0;kn<gn.length;kn++)if(_n={data:gn[kn]},this.trigger("unselect",_n),_n.prevented){this.$element.val(mn);return}this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}},un.prototype._handleKeyboardClear=function(fn,hn,pn){pn.isOpen()||(hn.which==ln.DELETE||hn.which==ln.BACKSPACE)&&this._handleClear(hn)},un.prototype.update=function(fn,hn){if(fn.call(this,hn),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),!(this.$selection.find(".select2-selection__placeholder").length>0||hn.length===0)){var pn=this.$selection.find(".select2-selection__rendered").attr("id"),gn=this.options.get("translations").get("removeAllItems"),mn=an('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>');mn.attr("title",gn()),mn.attr("aria-label",gn()),mn.attr("aria-describedby",pn),cn.StoreData(mn[0],"data",hn),this.$selection.prepend(mn),this.$selection[0].classList.add("select2-selection--clearable")}},un}),rn.define("select2/selection/search",["jquery","../utils","../keys"],function(an,ln,cn){function un(fn,hn,pn){fn.call(this,hn,pn)}return un.prototype.render=function(fn){var hn=this.options.get("translations").get("search"),pn=an('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');this.$searchContainer=pn,this.$search=pn.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",hn());var gn=fn.call(this);return this._transferTabIndex(),gn.append(this.$searchContainer),gn},un.prototype.bind=function(fn,hn,pn){var gn=this,mn=hn.id+"-results",_n=hn.id+"-container";fn.call(this,hn,pn),gn.$search.attr("aria-describedby",_n),hn.on("open",function(){gn.$search.attr("aria-controls",mn),gn.$search.trigger("focus")}),hn.on("close",function(){gn.$search.val(""),gn.resizeSearch(),gn.$search.removeAttr("aria-controls"),gn.$search.removeAttr("aria-activedescendant"),gn.$search.trigger("focus")}),hn.on("enable",function(){gn.$search.prop("disabled",!1),gn._transferTabIndex()}),hn.on("disable",function(){gn.$search.prop("disabled",!0)}),hn.on("focus",function(xn){gn.$search.trigger("focus")}),hn.on("results:focus",function(xn){xn.data._resultId?gn.$search.attr("aria-activedescendant",xn.data._resultId):gn.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(xn){gn.trigger("focus",xn)}),this.$selection.on("focusout",".select2-search--inline",function(xn){gn._handleBlur(xn)}),this.$selection.on("keydown",".select2-search--inline",function(xn){xn.stopPropagation(),gn.trigger("keypress",xn),gn._keyUpPrevented=xn.isDefaultPrevented();var Sn=xn.which;if(Sn===cn.BACKSPACE&&gn.$search.val()===""){var Mn=gn.$selection.find(".select2-selection__choice").last();if(Mn.length>0){var In=ln.GetData(Mn[0],"data");gn.searchRemoveChoice(In),xn.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(xn){gn.$search.val()&&xn.stopPropagation()});var kn=document.documentMode,Cn=kn&&kn<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(xn){if(Cn){gn.$selection.off("input.search input.searchcheck");return}gn.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(xn){if(Cn&&xn.type==="input"){gn.$selection.off("input.search input.searchcheck");return}var Sn=xn.which;Sn==cn.SHIFT||Sn==cn.CTRL||Sn==cn.ALT||Sn!=cn.TAB&&gn.handleSearch(xn)})},un.prototype._transferTabIndex=function(fn){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},un.prototype.createPlaceholder=function(fn,hn){this.$search.attr("placeholder",hn.text)},un.prototype.update=function(fn,hn){var pn=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),fn.call(this,hn),this.resizeSearch(),pn&&this.$search.trigger("focus")},un.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var fn=this.$search.val();this.trigger("query",{term:fn})}this._keyUpPrevented=!1},un.prototype.searchRemoveChoice=function(fn,hn){this.trigger("unselect",{data:hn}),this.$search.val(hn.text),this.handleSearch()},un.prototype.resizeSearch=function(){this.$search.css("width","25px");var fn="100%";if(this.$search.attr("placeholder")===""){var hn=this.$search.val().length+1;fn=hn*.75+"em"}this.$search.css("width",fn)},un}),rn.define("select2/selection/selectionCss",["../utils"],function(an){function ln(){}return ln.prototype.render=function(cn){var un=cn.call(this),fn=this.options.get("selectionCssClass")||"";return fn.indexOf(":all:")!==-1&&(fn=fn.replace(":all:",""),an.copyNonInternalCssClasses(un[0],this.$element[0])),un.addClass(fn),un},ln}),rn.define("select2/selection/eventRelay",["jquery"],function(an){function ln(){}return ln.prototype.bind=function(cn,un,fn){var hn=this,pn=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],gn=["opening","closing","selecting","unselecting","clearing"];cn.call(this,un,fn),un.on("*",function(mn,_n){if(pn.indexOf(mn)!==-1){_n=_n||{};var kn=an.Event("select2:"+mn,{params:_n});hn.$element.trigger(kn),gn.indexOf(mn)!==-1&&(_n.prevented=kn.isDefaultPrevented())}})},ln}),rn.define("select2/translation",["jquery","require"],function(an,ln){function cn(un){this.dict=un||{}}return cn.prototype.all=function(){return this.dict},cn.prototype.get=function(un){return this.dict[un]},cn.prototype.extend=function(un){this.dict=an.extend({},un.all(),this.dict)},cn._cache={},cn.loadPath=function(un){if(!(un in cn._cache)){var fn=ln(un);cn._cache[un]=fn}return new cn(cn._cache[un])},cn}),rn.define("select2/diacritics",[],function(){var an={"â¶":"A",ï¼¡:"A",Ã:"A",Ã:"A",Ã:"A",áº¦:"A",áº¤:"A",áºª:"A",áº¨:"A",Ã:"A",Ä:"A",Ä:"A",áº°:"A",áº®:"A",áº´:"A",áº²:"A",È¦:"A",Ç :"A",Ã:"A",Ç:"A",áº¢:"A",Ã:"A",Çº:"A",Ç:"A",È:"A",È:"A",áº :"A",áº¬:"A",áº¶:"A",á¸:"A",Ä:"A","Èº":"A","â±¯":"A","ê²":"AA",Ã:"AE",Ç¼:"AE",Ç¢:"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B",ï¼¢:"B",á¸:"B",á¸:"B",á¸:"B","É":"B",Æ:"B",Æ:"B","â¸":"C",ï¼£:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ã:"C",á¸:"C",Æ:"C","È»":"C","ê¾":"C","â¹":"D",ï¼¤:"D",á¸:"D",Ä:"D",á¸:"D",á¸:"D",á¸:"D",á¸:"D",Ä:"D",Æ:"D",Æ:"D",Æ:"D","ê¹":"D",Ç±:"DZ",Ç:"DZ",Ç²:"Dz",Ç:"Dz","âº":"E",ï¼¥:"E",Ã:"E",Ã:"E",Ã:"E",á»:"E",áº¾:"E",á»:"E",á»:"E",áº¼:"E",Ä:"E",á¸:"E",á¸:"E",Ä:"E",Ä:"E",Ã:"E",áºº:"E",Ä:"E",È:"E",È:"E",áº¸:"E",á»:"E",È¨:"E",á¸:"E",Ä:"E",á¸:"E",á¸:"E",Æ:"E",Æ:"E","â»":"F",ï¼¦:"F",á¸:"F",Æ:"F","ê»":"F","â¼":"G",ï¼§:"G",Ç´:"G",Ä:"G",á¸ :"G",Ä:"G",Ä :"G",Ç¦:"G",Ä¢:"G",Ç¤:"G",Æ:"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H",ï¼¨:"H",Ä¤:"H",á¸¢:"H",á¸¦:"H",È:"H",á¸¤:"H",á¸¨:"H",á¸ª:"H",Ä¦:"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I",ï¼©:"I",Ã:"I",Ã:"I",Ã:"I",Ä¨:"I",Äª:"I",Ä¬:"I",Ä°:"I",Ã:"I",á¸®:"I",á»:"I",Ç:"I",È:"I",È:"I",á»:"I",Ä®:"I",á¸¬:"I",Æ:"I","â¿":"J",ï¼ª:"J",Ä´:"J","É":"J","â":"K",ï¼«:"K",á¸°:"K",Ç¨:"K",á¸²:"K",Ä¶:"K",á¸´:"K",Æ:"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L",ï¼¬:"L",Ä¿:"L",Ä¹:"L",Ä½:"L",á¸¶:"L",á¸¸:"L",Ä»:"L",á¸¼:"L",á¸º:"L",Å:"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L",Ç:"LJ",Ç:"Lj","â":"M",ï¼­:"M",á¸¾:"M",á¹:"M",á¹:"M","â±®":"M",Æ:"M","â":"N",ï¼®:"N",Ç¸:"N",Å:"N",Ã:"N",á¹:"N",Å:"N",á¹:"N",Å:"N",á¹:"N",á¹:"N","È ":"N",Æ:"N","ê":"N","ê¤":"N",Ç:"NJ",Ç:"Nj","â":"O",ï¼¯:"O",Ã:"O",Ã:"O",Ã:"O",á»:"O",á»:"O",á»:"O",á»:"O",Ã:"O",á¹:"O",È¬:"O",á¹:"O",Å:"O",á¹:"O",á¹:"O",Å:"O",È®:"O",È°:"O",Ã:"O",Èª:"O",á»:"O",Å:"O",Ç:"O",È:"O",È:"O",Æ :"O",á»:"O",á»:"O",á» :"O",á»:"O",á»¢:"O",á»:"O",á»:"O",Çª:"O",Ç¬:"O",Ã:"O",Ç¾:"O",Æ:"O",Æ:"O","ê":"O","ê":"O",Å:"OE",Æ¢:"OI","ê":"OO",È¢:"OU","â":"P",ï¼°:"P",á¹:"P",á¹:"P",Æ¤:"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q",ï¼±:"Q","ê":"Q","ê":"Q","É":"Q","â":"R",ï¼²:"R",Å:"R",á¹:"R",Å:"R",È:"R",È:"R",á¹:"R",á¹:"R",Å:"R",á¹:"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S",ï¼³:"S","áº":"S",Å:"S",á¹¤:"S",Å:"S",á¹ :"S",Å :"S",á¹¦:"S",á¹¢:"S",á¹¨:"S",È:"S",Å:"S","â±¾":"S","ê¨":"S","ê":"S","â":"T",ï¼´:"T",á¹ª:"T",Å¤:"T",á¹¬:"T",È:"T",Å¢:"T",á¹°:"T",á¹®:"T",Å¦:"T",Æ¬:"T",Æ®:"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U",ï¼µ:"U",Ã:"U",Ã:"U",Ã:"U",Å¨:"U",á¹¸:"U",Åª:"U",á¹º:"U",Å¬:"U",Ã:"U",Ç:"U",Ç:"U",Ç:"U",Ç:"U",á»¦:"U",Å®:"U",Å°:"U",Ç:"U",È:"U",È:"U",Æ¯:"U",á»ª:"U",á»¨:"U",á»®:"U",á»¬:"U",á»°:"U",á»¤:"U",á¹²:"U",Å²:"U",á¹¶:"U",á¹´:"U","É":"U","â":"V",ï¼¶:"V",á¹¼:"V",á¹¾:"V",Æ²:"V","ê":"V","É":"V","ê ":"VY","â":"W",ï¼·:"W",áº:"W",áº:"W",Å´:"W",áº:"W",áº:"W",áº:"W","â±²":"W","â":"X",ï¼¸:"X",áº:"X",áº:"X","â":"Y",ï¼¹:"Y",á»²:"Y",Ã:"Y",Å¶:"Y",á»¸:"Y",È²:"Y",áº:"Y",Å¸:"Y",á»¶:"Y",á»´:"Y",Æ³:"Y","É":"Y","á»¾":"Y","â":"Z",ï¼º:"Z",Å¹:"Z",áº:"Z",Å»:"Z",Å½:"Z",áº:"Z",áº:"Z",Æµ:"Z",È¤:"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a",ï½:"a",áº:"a",Ã :"a",Ã¡:"a",Ã¢:"a",áº§:"a",áº¥:"a",áº«:"a",áº©:"a",Ã£:"a",Ä:"a",Ä:"a",áº±:"a",áº¯:"a",áºµ:"a",áº³:"a",È§:"a",Ç¡:"a",Ã¤:"a",Ç:"a",áº£:"a",Ã¥:"a",Ç»:"a",Ç:"a",È:"a",È:"a",áº¡:"a",áº­:"a",áº·:"a",á¸:"a",Ä:"a","â±¥":"a",É:"a","ê³":"aa",Ã¦:"ae",Ç½:"ae",Ç£:"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b",ï½:"b",á¸:"b",á¸:"b",á¸:"b",Æ:"b",Æ:"b",É:"b","â":"c",ï½:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ã§:"c",á¸:"c",Æ:"c","È¼":"c","ê¿":"c","â":"c","â":"d",ï½:"d",á¸:"d",Ä:"d",á¸:"d",á¸:"d",á¸:"d",á¸:"d",Ä:"d",Æ:"d",É:"d",É:"d","êº":"d",Ç³:"dz",Ç:"dz","â":"e",ï½:"e",Ã¨:"e",Ã©:"e",Ãª:"e",á»:"e",áº¿:"e",á»:"e",á»:"e",áº½:"e",Ä:"e",á¸:"e",á¸:"e",Ä:"e",Ä:"e",Ã«:"e",áº»:"e",Ä:"e",È:"e",È:"e",áº¹:"e",á»:"e",È©:"e",á¸:"e",Ä:"e",á¸:"e",á¸:"e","É":"e",É:"e",Ç:"e","â":"f",ï½:"f",á¸:"f",Æ:"f","ê¼":"f","â":"g",ï½:"g",Çµ:"g",Ä:"g",á¸¡:"g",Ä:"g",Ä¡:"g",Ç§:"g",Ä£:"g",Ç¥:"g",É :"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h",ï½:"h",Ä¥:"h",á¸£:"h",á¸§:"h",È:"h",á¸¥:"h",á¸©:"h",á¸«:"h",áº:"h",Ä§:"h","â±¨":"h","â±¶":"h",É¥:"h",Æ:"hv","â":"i",ï½:"i",Ã¬:"i",Ã­:"i",Ã®:"i",Ä©:"i",Ä«:"i",Ä­:"i",Ã¯:"i",á¸¯:"i",á»:"i",Ç:"i",È:"i",È:"i",á»:"i",Ä¯:"i",á¸­:"i",É¨:"i",Ä±:"i","â":"j",ï½:"j",Äµ:"j",Ç°:"j","É":"j","â":"k",ï½:"k",á¸±:"k",Ç©:"k",á¸³:"k",Ä·:"k",á¸µ:"k",Æ:"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l",ï½:"l",Å:"l",Äº:"l",Ä¾:"l",á¸·:"l",á¸¹:"l",Ä¼:"l",á¸½:"l",á¸»:"l",Å¿:"l",Å:"l",Æ:"l",É«:"l","â±¡":"l","ê":"l","ê":"l","ê":"l",Ç:"lj","â":"m",ï½:"m",á¸¿:"m",á¹:"m",á¹:"m",É±:"m",É¯:"m","â":"n",ï½:"n",Ç¹:"n",Å:"n",Ã±:"n",á¹:"n",Å:"n",á¹:"n",Å:"n",á¹:"n",á¹:"n",Æ:"n",É²:"n",Å:"n","ê":"n","ê¥":"n",Ç:"nj","â":"o",ï½:"o",Ã²:"o",Ã³:"o",Ã´:"o",á»:"o",á»:"o",á»:"o",á»:"o",Ãµ:"o",á¹:"o",È­:"o",á¹:"o",Å:"o",á¹:"o",á¹:"o",Å:"o",È¯:"o",È±:"o",Ã¶:"o",È«:"o",á»:"o",Å:"o",Ç:"o",È:"o",È:"o",Æ¡:"o",á»:"o",á»:"o",á»¡:"o",á»:"o",á»£:"o",á»:"o",á»:"o",Ç«:"o",Ç­:"o",Ã¸:"o",Ç¿:"o",É:"o","ê":"o","ê":"o",Éµ:"o",Å:"oe",Æ£:"oi",È£:"ou","ê":"oo","â":"p",ï½:"p",á¹:"p",á¹:"p",Æ¥:"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q",ï½:"q","É":"q","ê":"q","ê":"q","â¡":"r",ï½:"r",Å:"r",á¹:"r",Å:"r",È:"r",È:"r",á¹:"r",á¹:"r",Å:"r",á¹:"r","É":"r",É½:"r","ê":"r","ê§":"r","ê":"r","â¢":"s",ï½:"s",Ã:"s",Å:"s",á¹¥:"s",Å:"s",á¹¡:"s",Å¡:"s",á¹§:"s",á¹£:"s",á¹©:"s",È:"s",Å:"s","È¿":"s","ê©":"s","ê":"s",áº:"s","â£":"t",ï½:"t",á¹«:"t",áº:"t",Å¥:"t",á¹­:"t",È:"t",Å£:"t",á¹±:"t",á¹¯:"t",Å§:"t",Æ­:"t",Ê:"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u",ï½:"u",Ã¹:"u",Ãº:"u",Ã»:"u",Å©:"u",á¹¹:"u",Å«:"u",á¹»:"u",Å­:"u",Ã¼:"u",Ç:"u",Ç:"u",Ç:"u",Ç:"u",á»§:"u",Å¯:"u",Å±:"u",Ç:"u",È:"u",È:"u",Æ°:"u",á»«:"u",á»©:"u",á»¯:"u",á»­:"u",á»±:"u",á»¥:"u",á¹³:"u",Å³:"u",á¹·:"u",á¹µ:"u",Ê:"u","â¥":"v",ï½:"v",á¹½:"v",á¹¿:"v",Ê:"v","ê":"v",Ê:"v","ê¡":"vy","â¦":"w",ï½:"w",áº:"w",áº:"w",Åµ:"w",áº:"w",áº:"w",áº:"w",áº:"w","â±³":"w","â§":"x",ï½:"x",áº:"x",áº:"x","â¨":"y",ï½:"y",á»³:"y",Ã½:"y",Å·:"y",á»¹:"y",È³:"y",áº:"y",Ã¿:"y",á»·:"y",áº:"y",á»µ:"y",Æ´:"y","É":"y","á»¿":"y","â©":"z",ï½:"z",Åº:"z",áº:"z",Å¼:"z",Å¾:"z",áº:"z",áº:"z",Æ¶:"z",È¥:"z","É":"z","â±¬":"z","ê£":"z",Î:"Î",Î:"Î",Î:"Î",Î:"Î",Îª:"Î",Î:"Î",Î:"Î¥",Î«:"Î¥",Î:"Î©",Î¬:"Î±",Î­:"Îµ",Î®:"Î·",Î¯:"Î¹",Ï:"Î¹",Î:"Î¹",Ï:"Î¿",Ï:"Ï",Ï:"Ï",Î°:"Ï",Ï:"Ï",Ï:"Ï","â":"'"};return an}),rn.define("select2/data/base",["../utils"],function(an){function ln(cn,un){ln.__super__.constructor.call(this)}return an.Extend(ln,an.Observable),ln.prototype.current=function(cn){throw new Error("The `current` method must be defined in child classes.")},ln.prototype.query=function(cn,un){throw new Error("The `query` method must be defined in child classes.")},ln.prototype.bind=function(cn,un){},ln.prototype.destroy=function(){},ln.prototype.generateResultId=function(cn,un){var fn=cn.id+"-result-";return fn+=an.generateChars(4),un.id!=null?fn+="-"+un.id.toString():fn+="-"+an.generateChars(4),fn},ln}),rn.define("select2/data/select",["./base","../utils","jquery"],function(an,ln,cn){function un(fn,hn){this.$element=fn,this.options=hn,un.__super__.constructor.call(this)}return ln.Extend(un,an),un.prototype.current=function(fn){var hn=this,pn=Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(gn){return hn.item(cn(gn))});fn(pn)},un.prototype.select=function(fn){var hn=this;if(fn.selected=!0,fn.element!=null&&fn.element.tagName.toLowerCase()==="option"){fn.element.selected=!0,this.$element.trigger("input").trigger("change");return}if(this.$element.prop("multiple"))this.current(function(gn){var mn=[];fn=[fn],fn.push.apply(fn,gn);for(var _n=0;_n<fn.length;_n++){var kn=fn[_n].id;mn.indexOf(kn)===-1&&mn.push(kn)}hn.$element.val(mn),hn.$element.trigger("input").trigger("change")});else{var pn=fn.id;this.$element.val(pn),this.$element.trigger("input").trigger("change")}},un.prototype.unselect=function(fn){var hn=this;if(this.$element.prop("multiple")){if(fn.selected=!1,fn.element!=null&&fn.element.tagName.toLowerCase()==="option"){fn.element.selected=!1,this.$element.trigger("input").trigger("change");return}this.current(function(pn){for(var gn=[],mn=0;mn<pn.length;mn++){var _n=pn[mn].id;_n!==fn.id&&gn.indexOf(_n)===-1&&gn.push(_n)}hn.$element.val(gn),hn.$element.trigger("input").trigger("change")})}},un.prototype.bind=function(fn,hn){var pn=this;this.container=fn,fn.on("select",function(gn){pn.select(gn.data)}),fn.on("unselect",function(gn){pn.unselect(gn.data)})},un.prototype.destroy=function(){this.$element.find("*").each(function(){ln.RemoveData(this)})},un.prototype.query=function(fn,hn){var pn=[],gn=this,mn=this.$element.children();mn.each(function(){if(!(this.tagName.toLowerCase()!=="option"&&this.tagName.toLowerCase()!=="optgroup")){var _n=cn(this),kn=gn.item(_n),Cn=gn.matches(fn,kn);Cn!==null&&pn.push(Cn)}}),hn({results:pn})},un.prototype.addOptions=function(fn){this.$element.append(fn)},un.prototype.option=function(fn){var hn;fn.children?(hn=document.createElement("optgroup"),hn.label=fn.text):(hn=document.createElement("option"),hn.textContent!==void 0?hn.textContent=fn.text:hn.innerText=fn.text),fn.id!==void 0&&(hn.value=fn.id),fn.disabled&&(hn.disabled=!0),fn.selected&&(hn.selected=!0),fn.title&&(hn.title=fn.title);var pn=this._normalizeItem(fn);return pn.element=hn,ln.StoreData(hn,"data",pn),cn(hn)},un.prototype.item=function(fn){var hn={};if(hn=ln.GetData(fn[0],"data"),hn!=null)return hn;var pn=fn[0];if(pn.tagName.toLowerCase()==="option")hn={id:fn.val(),text:fn.text(),disabled:fn.prop("disabled"),selected:fn.prop("selected"),title:fn.prop("title")};else if(pn.tagName.toLowerCase()==="optgroup"){hn={text:fn.prop("label"),children:[],title:fn.prop("title")};for(var gn=fn.children("option"),mn=[],_n=0;_n<gn.length;_n++){var kn=cn(gn[_n]),Cn=this.item(kn);mn.push(Cn)}hn.children=mn}return hn=this._normalizeItem(hn),hn.element=fn[0],ln.StoreData(fn[0],"data",hn),hn},un.prototype._normalizeItem=function(fn){fn!==Object(fn)&&(fn={id:fn,text:fn}),fn=cn.extend({},{text:""},fn);var hn={selected:!1,disabled:!1};return fn.id!=null&&(fn.id=fn.id.toString()),fn.text!=null&&(fn.text=fn.text.toString()),fn._resultId==null&&fn.id&&this.container!=null&&(fn._resultId=this.generateResultId(this.container,fn)),cn.extend({},hn,fn)},un.prototype.matches=function(fn,hn){var pn=this.options.get("matcher");return pn(fn,hn)},un}),rn.define("select2/data/array",["./select","../utils","jquery"],function(an,ln,cn){function un(fn,hn){this._dataToConvert=hn.get("data")||[],un.__super__.constructor.call(this,fn,hn)}return ln.Extend(un,an),un.prototype.bind=function(fn,hn){un.__super__.bind.call(this,fn,hn),this.addOptions(this.convertToOptions(this._dataToConvert))},un.prototype.select=function(fn){var hn=this.$element.find("option").filter(function(pn,gn){return gn.value==fn.id.toString()});hn.length===0&&(hn=this.option(fn),this.addOptions(hn)),un.__super__.select.call(this,fn)},un.prototype.convertToOptions=function(fn){var hn=this,pn=this.$element.find("option"),gn=pn.map(function(){return hn.item(cn(this)).id}).get(),mn=[];function _n(Tn){return function(){return cn(this).val()==Tn.id}}for(var kn=0;kn<fn.length;kn++){var Cn=this._normalizeItem(fn[kn]);if(gn.indexOf(Cn.id)>=0){var xn=pn.filter(_n(Cn)),Sn=this.item(xn),Mn=cn.extend(!0,{},Cn,Sn),In=this.option(Mn);xn.replaceWith(In);continue}var On=this.option(Cn);if(Cn.children){var Pn=this.convertToOptions(Cn.children);On.append(Pn)}mn.push(On)}return mn},un}),rn.define("select2/data/ajax",["./array","../utils","jquery"],function(an,ln,cn){function un(fn,hn){this.ajaxOptions=this._applyDefaults(hn.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),un.__super__.constructor.call(this,fn,hn)}return ln.Extend(un,an),un.prototype._applyDefaults=function(fn){var hn={data:function(pn){return cn.extend({},pn,{q:pn.term})},transport:function(pn,gn,mn){var _n=cn.ajax(pn);return _n.then(gn),_n.fail(mn),_n}};return cn.extend({},hn,fn,!0)},un.prototype.processResults=function(fn){return fn},un.prototype.query=function(fn,hn){var pn=this;this._request!=null&&(typeof this._request.abort=="function"&&this._request.abort(),this._request=null);var gn=cn.extend({type:"GET"},this.ajaxOptions);typeof gn.url=="function"&&(gn.url=gn.url.call(this.$element,fn)),typeof gn.data=="function"&&(gn.data=gn.data.call(this.$element,fn));function mn(){var _n=gn.transport(gn,function(kn){var Cn=pn.processResults(kn,fn);pn.options.get("debug")&&window.console&&console.error&&(!Cn||!Cn.results||!Array.isArray(Cn.results))&&console.error("Select2: The AJAX results did not return an array in the `results` key of the response."),hn(Cn)},function(){"status"in _n&&(_n.status===0||_n.status==="0")||pn.trigger("results:message",{message:"errorLoading"})});pn._request=_n}this.ajaxOptions.delay&&fn.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(mn,this.ajaxOptions.delay)):mn()},un}),rn.define("select2/data/tags",["jquery"],function(an){function ln(cn,un,fn){var hn=fn.get("tags"),pn=fn.get("createTag");pn!==void 0&&(this.createTag=pn);var gn=fn.get("insertTag");if(gn!==void 0&&(this.insertTag=gn),cn.call(this,un,fn),Array.isArray(hn))for(var mn=0;mn<hn.length;mn++){var _n=hn[mn],kn=this._normalizeItem(_n),Cn=this.option(kn);this.$element.append(Cn)}}return ln.prototype.query=function(cn,un,fn){var hn=this;if(this._removeOldTags(),un.term==null||un.page!=null){cn.call(this,un,fn);return}function pn(gn,mn){for(var _n=gn.results,kn=0;kn<_n.length;kn++){var Cn=_n[kn],xn=Cn.children!=null&&!pn({results:Cn.children},!0),Sn=(Cn.text||"").toUpperCase(),Mn=(un.term||"").toUpperCase(),In=Sn===Mn;if(In||xn){if(mn)return!1;gn.data=_n,fn(gn);return}}if(mn)return!0;var On=hn.createTag(un);if(On!=null){var Pn=hn.option(On);Pn.attr("data-select2-tag","true"),hn.addOptions([Pn]),hn.insertTag(_n,On)}gn.results=_n,fn(gn)}cn.call(this,un,pn)},ln.prototype.createTag=function(cn,un){if(un.term==null)return null;var fn=un.term.trim();return fn===""?null:{id:fn,text:fn}},ln.prototype.insertTag=function(cn,un,fn){un.unshift(fn)},ln.prototype._removeOldTags=function(cn){var un=this.$element.find("option[data-select2-tag]");un.each(function(){this.selected||an(this).remove()})},ln}),rn.define("select2/data/tokenizer",["jquery"],function(an){function ln(cn,un,fn){var hn=fn.get("tokenizer");hn!==void 0&&(this.tokenizer=hn),cn.call(this,un,fn)}return ln.prototype.bind=function(cn,un,fn){cn.call(this,un,fn),this.$search=un.dropdown.$search||un.selection.$search||fn.find(".select2-search__field")},ln.prototype.query=function(cn,un,fn){var hn=this;function pn(_n){var kn=hn._normalizeItem(_n),Cn=hn.$element.find("option").filter(function(){return an(this).val()===kn.id});if(!Cn.length){var xn=hn.option(kn);xn.attr("data-select2-tag",!0),hn._removeOldTags(),hn.addOptions([xn])}gn(kn)}function gn(_n){hn.trigger("select",{data:_n})}un.term=un.term||"";var mn=this.tokenizer(un,this.options,pn);mn.term!==un.term&&(this.$search.length&&(this.$search.val(mn.term),this.$search.trigger("focus")),un.term=mn.term),cn.call(this,un,fn)},ln.prototype.tokenizer=function(cn,un,fn,hn){for(var pn=fn.get("tokenSeparators")||[],gn=un.term,mn=0,_n=this.createTag||function(Mn){return{id:Mn.term,text:Mn.term}};mn<gn.length;){var kn=gn[mn];if(pn.indexOf(kn)===-1){mn++;continue}var Cn=gn.substr(0,mn),xn=an.extend({},un,{term:Cn}),Sn=_n(xn);if(Sn==null){mn++;continue}hn(Sn),gn=gn.substr(mn+1)||"",mn=0}return{term:gn}},ln}),rn.define("select2/data/minimumInputLength",[],function(){function an(ln,cn,un){this.minimumInputLength=un.get("minimumInputLength"),ln.call(this,cn,un)}return an.prototype.query=function(ln,cn,un){if(cn.term=cn.term||"",cn.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:cn.term,params:cn}});return}ln.call(this,cn,un)},an}),rn.define("select2/data/maximumInputLength",[],function(){function an(ln,cn,un){this.maximumInputLength=un.get("maximumInputLength"),ln.call(this,cn,un)}return an.prototype.query=function(ln,cn,un){if(cn.term=cn.term||"",this.maximumInputLength>0&&cn.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:cn.term,params:cn}});return}ln.call(this,cn,un)},an}),rn.define("select2/data/maximumSelectionLength",[],function(){function an(ln,cn,un){this.maximumSelectionLength=un.get("maximumSelectionLength"),ln.call(this,cn,un)}return an.prototype.bind=function(ln,cn,un){var fn=this;ln.call(this,cn,un),cn.on("select",function(){fn._checkIfMaximumSelected()})},an.prototype.query=function(ln,cn,un){var fn=this;this._checkIfMaximumSelected(function(){ln.call(fn,cn,un)})},an.prototype._checkIfMaximumSelected=function(ln,cn){var un=this;this.current(function(fn){var hn=fn!=null?fn.length:0;if(un.maximumSelectionLength>0&&hn>=un.maximumSelectionLength){un.trigger("results:message",{message:"maximumSelected",args:{maximum:un.maximumSelectionLength}});return}cn&&cn()})},an}),rn.define("select2/dropdown",["jquery","./utils"],function(an,ln){function cn(un,fn){this.$element=un,this.options=fn,cn.__super__.constructor.call(this)}return ln.Extend(cn,ln.Observable),cn.prototype.render=function(){var un=an('<span class="select2-dropdown"><span class="select2-results"></span></span>');return un.attr("dir",this.options.get("dir")),this.$dropdown=un,un},cn.prototype.bind=function(){},cn.prototype.position=function(un,fn){},cn.prototype.destroy=function(){this.$dropdown.remove()},cn}),rn.define("select2/dropdown/search",["jquery"],function(an){function ln(){}return ln.prototype.render=function(cn){var un=cn.call(this),fn=this.options.get("translations").get("search"),hn=an('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=hn,this.$search=hn.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",fn()),un.prepend(hn),un},ln.prototype.bind=function(cn,un,fn){var hn=this,pn=un.id+"-results";cn.call(this,un,fn),this.$search.on("keydown",function(gn){hn.trigger("keypress",gn),hn._keyUpPrevented=gn.isDefaultPrevented()}),this.$search.on("input",function(gn){an(this).off("keyup")}),this.$search.on("keyup input",function(gn){hn.handleSearch(gn)}),un.on("open",function(){hn.$search.attr("tabindex",0),hn.$search.attr("aria-controls",pn),hn.$search.trigger("focus"),window.setTimeout(function(){hn.$search.trigger("focus")},0)}),un.on("close",function(){hn.$search.attr("tabindex",-1),hn.$search.removeAttr("aria-controls"),hn.$search.removeAttr("aria-activedescendant"),hn.$search.val(""),hn.$search.trigger("blur")}),un.on("focus",function(){un.isOpen()||hn.$search.trigger("focus")}),un.on("results:all",function(gn){if(gn.query.term==null||gn.query.term===""){var mn=hn.showSearch(gn);mn?hn.$searchContainer[0].classList.remove("select2-search--hide"):hn.$searchContainer[0].classList.add("select2-search--hide")}}),un.on("results:focus",function(gn){gn.data._resultId?hn.$search.attr("aria-activedescendant",gn.data._resultId):hn.$search.removeAttr("aria-activedescendant")})},ln.prototype.handleSearch=function(cn){if(!this._keyUpPrevented){var un=this.$search.val();this.trigger("query",{term:un})}this._keyUpPrevented=!1},ln.prototype.showSearch=function(cn,un){return!0},ln}),rn.define("select2/dropdown/hidePlaceholder",[],function(){function an(ln,cn,un,fn){this.placeholder=this.normalizePlaceholder(un.get("placeholder")),ln.call(this,cn,un,fn)}return an.prototype.append=function(ln,cn){cn.results=this.removePlaceholder(cn.results),ln.call(this,cn)},an.prototype.normalizePlaceholder=function(ln,cn){return typeof cn=="string"&&(cn={id:"",text:cn}),cn},an.prototype.removePlaceholder=function(ln,cn){for(var un=cn.slice(0),fn=cn.length-1;fn>=0;fn--){var hn=cn[fn];this.placeholder.id===hn.id&&un.splice(fn,1)}return un},an}),rn.define("select2/dropdown/infiniteScroll",["jquery"],function(an){function ln(cn,un,fn,hn){this.lastParams={},cn.call(this,un,fn,hn),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return ln.prototype.append=function(cn,un){this.$loadingMore.remove(),this.loading=!1,cn.call(this,un),this.showLoadingMore(un)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},ln.prototype.bind=function(cn,un,fn){var hn=this;cn.call(this,un,fn),un.on("query",function(pn){hn.lastParams=pn,hn.loading=!0}),un.on("query:append",function(pn){hn.lastParams=pn,hn.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},ln.prototype.loadMoreIfNeeded=function(){var cn=an.contains(document.documentElement,this.$loadingMore[0]);if(!(this.loading||!cn)){var un=this.$results.offset().top+this.$results.outerHeight(!1),fn=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1);un+50>=fn&&this.loadMore()}},ln.prototype.loadMore=function(){this.loading=!0;var cn=an.extend({},{page:1},this.lastParams);cn.page++,this.trigger("query:append",cn)},ln.prototype.showLoadingMore=function(cn,un){return un.pagination&&un.pagination.more},ln.prototype.createLoadingMore=function(){var cn=an('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),un=this.options.get("translations").get("loadingMore");return cn.html(un(this.lastParams)),cn},ln}),rn.define("select2/dropdown/attachBody",["jquery","../utils"],function(an,ln){function cn(un,fn,hn){this.$dropdownParent=an(hn.get("dropdownParent")||document.body),un.call(this,fn,hn)}return cn.prototype.bind=function(un,fn,hn){var pn=this;un.call(this,fn,hn),fn.on("open",function(){pn._showDropdown(),pn._attachPositioningHandler(fn),pn._bindContainerResultHandlers(fn)}),fn.on("close",function(){pn._hideDropdown(),pn._detachPositioningHandler(fn)}),this.$dropdownContainer.on("mousedown",function(gn){gn.stopPropagation()})},cn.prototype.destroy=function(un){un.call(this),this.$dropdownContainer.remove()},cn.prototype.position=function(un,fn,hn){fn.attr("class",hn.attr("class")),fn[0].classList.remove("select2"),fn[0].classList.add("select2-container--open"),fn.css({position:"absolute",top:-999999}),this.$container=hn},cn.prototype.render=function(un){var fn=an("<span></span>"),hn=un.call(this);return fn.append(hn),this.$dropdownContainer=fn,fn},cn.prototype._hideDropdown=function(un){this.$dropdownContainer.detach()},cn.prototype._bindContainerResultHandlers=function(un,fn){if(!this._containerResultsHandlersBound){var hn=this;fn.on("results:all",function(){hn._positionDropdown(),hn._resizeDropdown()}),fn.on("results:append",function(){hn._positionDropdown(),hn._resizeDropdown()}),fn.on("results:message",function(){hn._positionDropdown(),hn._resizeDropdown()}),fn.on("select",function(){hn._positionDropdown(),hn._resizeDropdown()}),fn.on("unselect",function(){hn._positionDropdown(),hn._resizeDropdown()}),this._containerResultsHandlersBound=!0}},cn.prototype._attachPositioningHandler=function(un,fn){var hn=this,pn="scroll.select2."+fn.id,gn="resize.select2."+fn.id,mn="orientationchange.select2."+fn.id,_n=this.$container.parents().filter(ln.hasScroll);_n.each(function(){ln.StoreData(this,"select2-scroll-position",{x:an(this).scrollLeft(),y:an(this).scrollTop()})}),_n.on(pn,function(kn){var Cn=ln.GetData(this,"select2-scroll-position");an(this).scrollTop(Cn.y)}),an(window).on(pn+" "+gn+" "+mn,function(kn){hn._positionDropdown(),hn._resizeDropdown()})},cn.prototype._detachPositioningHandler=function(un,fn){var hn="scroll.select2."+fn.id,pn="resize.select2."+fn.id,gn="orientationchange.select2."+fn.id,mn=this.$container.parents().filter(ln.hasScroll);mn.off(hn),an(window).off(hn+" "+pn+" "+gn)},cn.prototype._positionDropdown=function(){var un=an(window),fn=this.$dropdown[0].classList.contains("select2-dropdown--above"),hn=this.$dropdown[0].classList.contains("select2-dropdown--below"),pn=null,gn=this.$container.offset();gn.bottom=gn.top+this.$container.outerHeight(!1);var mn={height:this.$container.outerHeight(!1)};mn.top=gn.top,mn.bottom=gn.top+mn.height;var _n={height:this.$dropdown.outerHeight(!1)},kn={top:un.scrollTop(),bottom:un.scrollTop()+un.height()},Cn=kn.top<gn.top-_n.height,xn=kn.bottom>gn.bottom+_n.height,Sn={left:gn.left,top:mn.bottom},Mn=this.$dropdownParent;Mn.css("position")==="static"&&(Mn=Mn.offsetParent());var In={top:0,left:0};(an.contains(document.body,Mn[0])||Mn[0].isConnected)&&(In=Mn.offset()),Sn.top-=In.top,Sn.left-=In.left,!fn&&!hn&&(pn="below"),!xn&&Cn&&!fn?pn="above":!Cn&&xn&&fn&&(pn="below"),(pn=="above"||fn&&pn!=="below")&&(Sn.top=mn.top-In.top-_n.height),pn!=null&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+pn),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+pn)),this.$dropdownContainer.css(Sn)},cn.prototype._resizeDropdown=function(){var un={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(un.minWidth=un.width,un.position="relative",un.width="auto"),this.$dropdown.css(un)},cn.prototype._showDropdown=function(un){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},cn}),rn.define("select2/dropdown/minimumResultsForSearch",[],function(){function an(cn){for(var un=0,fn=0;fn<cn.length;fn++){var hn=cn[fn];hn.children?un+=an(hn.children):un++}return un}function ln(cn,un,fn,hn){this.minimumResultsForSearch=fn.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),cn.call(this,un,fn,hn)}return ln.prototype.showSearch=function(cn,un){return an(un.data.results)<this.minimumResultsForSearch?!1:cn.call(this,un)},ln}),rn.define("select2/dropdown/selectOnClose",["../utils"],function(an){function ln(){}return ln.prototype.bind=function(cn,un,fn){var hn=this;cn.call(this,un,fn),un.on("close",function(pn){hn._handleSelectOnClose(pn)})},ln.prototype._handleSelectOnClose=function(cn,un){if(un&&un.originalSelect2Event!=null){var fn=un.originalSelect2Event;if(fn._type==="select"||fn._type==="unselect")return}var hn=this.getHighlightedResults();if(!(hn.length<1)){var pn=an.GetData(hn[0],"data");pn.element!=null&&pn.element.selected||pn.element==null&&pn.selected||this.trigger("select",{data:pn})}},ln}),rn.define("select2/dropdown/closeOnSelect",[],function(){function an(){}return an.prototype.bind=function(ln,cn,un){var fn=this;ln.call(this,cn,un),cn.on("select",function(hn){fn._selectTriggered(hn)}),cn.on("unselect",function(hn){fn._selectTriggered(hn)})},an.prototype._selectTriggered=function(ln,cn){var un=cn.originalEvent;un&&(un.ctrlKey||un.metaKey)||this.trigger("close",{originalEvent:un,originalSelect2Event:cn})},an}),rn.define("select2/dropdown/dropdownCss",["../utils"],function(an){function ln(){}return ln.prototype.render=function(cn){var un=cn.call(this),fn=this.options.get("dropdownCssClass")||"";return fn.indexOf(":all:")!==-1&&(fn=fn.replace(":all:",""),an.copyNonInternalCssClasses(un[0],this.$element[0])),un.addClass(fn),un},ln}),rn.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(an){function ln(){}return ln.prototype.highlightFirstItem=function(cn){var un=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(un.length>0){var fn=un.first(),hn=an.GetData(fn[0],"data"),pn=hn.element;if(pn&&pn.getAttribute&&pn.getAttribute("data-select2-tag")==="true"){fn.trigger("mouseenter");return}}cn.call(this)},ln}),rn.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(an){var ln=an.input.length-an.maximum,cn="Please delete "+ln+" character";return ln!=1&&(cn+="s"),cn},inputTooShort:function(an){var ln=an.minimum-an.input.length,cn="Please enter "+ln+" or more characters";return cn},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(an){var ln="You can only select "+an.maximum+" item";return an.maximum!=1&&(ln+="s"),ln},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),rn.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],function(an,ln,cn,un,fn,hn,pn,gn,mn,_n,kn,Cn,xn,Sn,Mn,In,On,Pn,Tn,Nn,Hn,Un,jn,Yn,Wn,Qn,Xn,jr,Wr,Jr,ci){function ti(){this.reset()}ti.prototype.apply=function(Br){if(Br=an.extend(!0,{},this.defaults,Br),Br.dataAdapter==null&&(Br.ajax!=null?Br.dataAdapter=Mn:Br.data!=null?Br.dataAdapter=Sn:Br.dataAdapter=xn,Br.minimumInputLength>0&&(Br.dataAdapter=_n.Decorate(Br.dataAdapter,Pn)),Br.maximumInputLength>0&&(Br.dataAdapter=_n.Decorate(Br.dataAdapter,Tn)),Br.maximumSelectionLength>0&&(Br.dataAdapter=_n.Decorate(Br.dataAdapter,Nn)),Br.tags&&(Br.dataAdapter=_n.Decorate(Br.dataAdapter,In)),(Br.tokenSeparators!=null||Br.tokenizer!=null)&&(Br.dataAdapter=_n.Decorate(Br.dataAdapter,On))),Br.resultsAdapter==null&&(Br.resultsAdapter=ln,Br.ajax!=null&&(Br.resultsAdapter=_n.Decorate(Br.resultsAdapter,Yn)),Br.placeholder!=null&&(Br.resultsAdapter=_n.Decorate(Br.resultsAdapter,jn)),Br.selectOnClose&&(Br.resultsAdapter=_n.Decorate(Br.resultsAdapter,Xn)),Br.tags&&(Br.resultsAdapter=_n.Decorate(Br.resultsAdapter,Jr))),Br.dropdownAdapter==null){if(Br.multiple)Br.dropdownAdapter=Hn;else{var Jn=_n.Decorate(Hn,Un);Br.dropdownAdapter=Jn}Br.minimumResultsForSearch!==0&&(Br.dropdownAdapter=_n.Decorate(Br.dropdownAdapter,Qn)),Br.closeOnSelect&&(Br.dropdownAdapter=_n.Decorate(Br.dropdownAdapter,jr)),Br.dropdownCssClass!=null&&(Br.dropdownAdapter=_n.Decorate(Br.dropdownAdapter,Wr)),Br.dropdownAdapter=_n.Decorate(Br.dropdownAdapter,Wn)}Br.selectionAdapter==null&&(Br.multiple?Br.selectionAdapter=un:Br.selectionAdapter=cn,Br.placeholder!=null&&(Br.selectionAdapter=_n.Decorate(Br.selectionAdapter,fn)),Br.allowClear&&(Br.selectionAdapter=_n.Decorate(Br.selectionAdapter,hn)),Br.multiple&&(Br.selectionAdapter=_n.Decorate(Br.selectionAdapter,pn)),Br.selectionCssClass!=null&&(Br.selectionAdapter=_n.Decorate(Br.selectionAdapter,gn)),Br.selectionAdapter=_n.Decorate(Br.selectionAdapter,mn)),Br.language=this._resolveLanguage(Br.language),Br.language.push("en");for(var oi=[],pi=0;pi<Br.language.length;pi++){var ri=Br.language[pi];oi.indexOf(ri)===-1&&oi.push(ri)}return Br.language=oi,Br.translations=this._processTranslations(Br.language,Br.debug),Br},ti.prototype.reset=function(){function Br(oi){function pi(ri){return Cn[ri]||ri}return oi.replace(/[^\u0000-\u007E]/g,pi)}function Jn(oi,pi){if(oi.term==null||oi.term.trim()==="")return pi;if(pi.children&&pi.children.length>0){for(var ri=an.extend(!0,{},pi),fi=pi.children.length-1;fi>=0;fi--){var yi=pi.children[fi],Si=Jn(oi,yi);Si==null&&ri.children.splice(fi,1)}return ri.children.length>0?ri:Jn(oi,ri)}var Pi=Br(pi.text).toUpperCase(),Ui=Br(oi.term).toUpperCase();return Pi.indexOf(Ui)>-1?pi:null}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:_n.escapeMarkup,language:{},matcher:Jn,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(oi){return oi},templateResult:function(oi){return oi.text},templateSelection:function(oi){return oi.text},theme:"default",width:"resolve"}},ti.prototype.applyFromElement=function(Br,Jn){var oi=Br.language,pi=this.defaults.language,ri=Jn.prop("lang"),fi=Jn.closest("[lang]").prop("lang"),yi=Array.prototype.concat.call(this._resolveLanguage(ri),this._resolveLanguage(oi),this._resolveLanguage(pi),this._resolveLanguage(fi));return Br.language=yi,Br},ti.prototype._resolveLanguage=function(Br){if(!Br)return[];if(an.isEmptyObject(Br))return[];if(an.isPlainObject(Br))return[Br];var Jn;Array.isArray(Br)?Jn=Br:Jn=[Br];for(var oi=[],pi=0;pi<Jn.length;pi++)if(oi.push(Jn[pi]),typeof Jn[pi]=="string"&&Jn[pi].indexOf("-")>0){var ri=Jn[pi].split("-"),fi=ri[0];oi.push(fi)}return oi},ti.prototype._processTranslations=function(Br,Jn){for(var oi=new kn,pi=0;pi<Br.length;pi++){var ri=new kn,fi=Br[pi];if(typeof fi=="string")try{ri=kn.loadPath(fi)}catch{try{fi=this.defaults.amdLanguageBase+fi,ri=kn.loadPath(fi)}catch{Jn&&window.console&&console.warn&&console.warn('Select2: The language file for "'+fi+'" could not be automatically loaded. A fallback will be used instead.')}}else an.isPlainObject(fi)?ri=new kn(fi):ri=fi;oi.extend(ri)}return oi},ti.prototype.set=function(Br,Jn){var oi=an.camelCase(Br),pi={};pi[oi]=Jn;var ri=_n._convertData(pi);an.extend(!0,this.defaults,ri)};var Zr=new ti;return Zr}),rn.define("select2/options",["jquery","./defaults","./utils"],function(an,ln,cn){function un(fn,hn){this.options=fn,hn!=null&&this.fromElement(hn),hn!=null&&(this.options=ln.applyFromElement(this.options,hn)),this.options=ln.apply(this.options)}return un.prototype.fromElement=function(fn){var hn=["select2"];this.options.multiple==null&&(this.options.multiple=fn.prop("multiple")),this.options.disabled==null&&(this.options.disabled=fn.prop("disabled")),this.options.autocomplete==null&&fn.prop("autocomplete")&&(this.options.autocomplete=fn.prop("autocomplete")),this.options.dir==null&&(fn.prop("dir")?this.options.dir=fn.prop("dir"):fn.closest("[dir]").prop("dir")?this.options.dir=fn.closest("[dir]").prop("dir"):this.options.dir="ltr"),fn.prop("disabled",this.options.disabled),fn.prop("multiple",this.options.multiple),cn.GetData(fn[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),cn.StoreData(fn[0],"data",cn.GetData(fn[0],"select2Tags")),cn.StoreData(fn[0],"tags",!0)),cn.GetData(fn[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),fn.attr("ajax--url",cn.GetData(fn[0],"ajaxUrl")),cn.StoreData(fn[0],"ajax-Url",cn.GetData(fn[0],"ajaxUrl")));var pn={};function gn(On,Pn){return Pn.toUpperCase()}for(var mn=0;mn<fn[0].attributes.length;mn++){var _n=fn[0].attributes[mn].name,kn="data-";if(_n.substr(0,kn.length)==kn){var Cn=_n.substring(kn.length),xn=cn.GetData(fn[0],Cn),Sn=Cn.replace(/-([a-z])/g,gn);pn[Sn]=xn}}an.fn.jquery&&an.fn.jquery.substr(0,2)=="1."&&fn[0].dataset&&(pn=an.extend(!0,{},fn[0].dataset,pn));var Mn=an.extend(!0,{},cn.GetData(fn[0]),pn);Mn=cn._convertData(Mn);for(var In in Mn)hn.indexOf(In)>-1||(an.isPlainObject(this.options[In])?an.extend(this.options[In],Mn[In]):this.options[In]=Mn[In]);return this},un.prototype.get=function(fn){return this.options[fn]},un.prototype.set=function(fn,hn){this.options[fn]=hn},un}),rn.define("select2/core",["jquery","./options","./utils","./keys"],function(an,ln,cn,un){var fn=function(hn,pn){cn.GetData(hn[0],"select2")!=null&&cn.GetData(hn[0],"select2").destroy(),this.$element=hn,this.id=this._generateId(hn),pn=pn||{},this.options=new ln(pn,hn),fn.__super__.constructor.call(this);var gn=hn.attr("tabindex")||0;cn.StoreData(hn[0],"old-tabindex",gn),hn.attr("tabindex","-1");var mn=this.options.get("dataAdapter");this.dataAdapter=new mn(hn,this.options);var _n=this.render();this._placeContainer(_n);var kn=this.options.get("selectionAdapter");this.selection=new kn(hn,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,_n);var Cn=this.options.get("dropdownAdapter");this.dropdown=new Cn(hn,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,_n);var xn=this.options.get("resultsAdapter");this.results=new xn(hn,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var Sn=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(Mn){Sn.trigger("selection:update",{data:Mn})}),hn[0].classList.add("select2-hidden-accessible"),hn.attr("aria-hidden","true"),this._syncAttributes(),cn.StoreData(hn[0],"select2",this),hn.data("select2",this)};return cn.Extend(fn,cn.Observable),fn.prototype._generateId=function(hn){var pn="";return hn.attr("id")!=null?pn=hn.attr("id"):hn.attr("name")!=null?pn=hn.attr("name")+"-"+cn.generateChars(2):pn=cn.generateChars(4),pn=pn.replace(/(:|\.|\[|\]|,)/g,""),pn="select2-"+pn,pn},fn.prototype._placeContainer=function(hn){hn.insertAfter(this.$element);var pn=this._resolveWidth(this.$element,this.options.get("width"));pn!=null&&hn.css("width",pn)},fn.prototype._resolveWidth=function(hn,pn){var gn=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(pn=="resolve"){var mn=this._resolveWidth(hn,"style");return mn??this._resolveWidth(hn,"element")}if(pn=="element"){var _n=hn.outerWidth(!1);return _n<=0?"auto":_n+"px"}if(pn=="style"){var kn=hn.attr("style");if(typeof kn!="string")return null;for(var Cn=kn.split(";"),xn=0,Sn=Cn.length;xn<Sn;xn=xn+1){var Mn=Cn[xn].replace(/\s/g,""),In=Mn.match(gn);if(In!==null&&In.length>=1)return In[1]}return null}if(pn=="computedstyle"){var On=window.getComputedStyle(hn[0]);return On.width}return pn},fn.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},fn.prototype._registerDomEvents=function(){var hn=this;this.$element.on("change.select2",function(){hn.dataAdapter.current(function(pn){hn.trigger("selection:update",{data:pn})})}),this.$element.on("focus.select2",function(pn){hn.trigger("focus",pn)}),this._syncA=cn.bind(this._syncAttributes,this),this._syncS=cn.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(pn){hn._syncA(),hn._syncS(pn)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},fn.prototype._registerDataEvents=function(){var hn=this;this.dataAdapter.on("*",function(pn,gn){hn.trigger(pn,gn)})},fn.prototype._registerSelectionEvents=function(){var hn=this,pn=["toggle","focus"];this.selection.on("toggle",function(){hn.toggleDropdown()}),this.selection.on("focus",function(gn){hn.focus(gn)}),this.selection.on("*",function(gn,mn){pn.indexOf(gn)===-1&&hn.trigger(gn,mn)})},fn.prototype._registerDropdownEvents=function(){var hn=this;this.dropdown.on("*",function(pn,gn){hn.trigger(pn,gn)})},fn.prototype._registerResultsEvents=function(){var hn=this;this.results.on("*",function(pn,gn){hn.trigger(pn,gn)})},fn.prototype._registerEvents=function(){var hn=this;this.on("open",function(){hn.$container[0].classList.add("select2-container--open")}),this.on("close",function(){hn.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){hn.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){hn.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){hn.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(pn){hn.isOpen()||hn.trigger("open",{}),this.dataAdapter.query(pn,function(gn){hn.trigger("results:all",{data:gn,query:pn})})}),this.on("query:append",function(pn){this.dataAdapter.query(pn,function(gn){hn.trigger("results:append",{data:gn,query:pn})})}),this.on("keypress",function(pn){var gn=pn.which;hn.isOpen()?gn===un.ESC||gn===un.UP&&pn.altKey?(hn.close(pn),pn.preventDefault()):gn===un.ENTER||gn===un.TAB?(hn.trigger("results:select",{}),pn.preventDefault()):gn===un.SPACE&&pn.ctrlKey?(hn.trigger("results:toggle",{}),pn.preventDefault()):gn===un.UP?(hn.trigger("results:previous",{}),pn.preventDefault()):gn===un.DOWN&&(hn.trigger("results:next",{}),pn.preventDefault()):(gn===un.ENTER||gn===un.SPACE||gn===un.DOWN&&pn.altKey)&&(hn.open(),pn.preventDefault())})},fn.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},fn.prototype._isChangeMutation=function(hn){var pn=this;if(hn.addedNodes&&hn.addedNodes.length>0)for(var gn=0;gn<hn.addedNodes.length;gn++){var mn=hn.addedNodes[gn];if(mn.selected)return!0}else{if(hn.removedNodes&&hn.removedNodes.length>0)return!0;if(Array.isArray(hn))return hn.some(function(_n){return pn._isChangeMutation(_n)})}return!1},fn.prototype._syncSubtree=function(hn){var pn=this._isChangeMutation(hn),gn=this;pn&&this.dataAdapter.current(function(mn){gn.trigger("selection:update",{data:mn})})},fn.prototype.trigger=function(hn,pn){var gn=fn.__super__.trigger,mn={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(pn===void 0&&(pn={}),hn in mn){var _n=mn[hn],kn={prevented:!1,name:hn,args:pn};if(gn.call(this,_n,kn),kn.prevented){pn.prevented=!0;return}}gn.call(this,hn,pn)},fn.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},fn.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},fn.prototype.close=function(hn){this.isOpen()&&this.trigger("close",{originalEvent:hn})},fn.prototype.isEnabled=function(){return!this.isDisabled()},fn.prototype.isDisabled=function(){return this.options.get("disabled")},fn.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},fn.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},fn.prototype.focus=function(hn){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},fn.prototype.enable=function(hn){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(hn==null||hn.length===0)&&(hn=[!0]);var pn=!hn[0];this.$element.prop("disabled",pn)},fn.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var hn=[];return this.dataAdapter.current(function(pn){hn=pn}),hn},fn.prototype.val=function(hn){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),hn==null||hn.length===0)return this.$element.val();var pn=hn[0];Array.isArray(pn)&&(pn=pn.map(function(gn){return gn.toString()})),this.$element.val(pn).trigger("input").trigger("change")},fn.prototype.destroy=function(){cn.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",cn.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),cn.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},fn.prototype.render=function(){var hn=an('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return hn.attr("dir",this.options.get("dir")),this.$container=hn,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),cn.StoreData(hn[0],"element",this.$element),hn},fn}),rn.define("jquery-mousewheel",["jquery"],function(an){return an}),rn.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(an,ln,cn,un,fn){if(an.fn.select2==null){var hn=["open","close","destroy"];an.fn.select2=function(pn){if(pn=pn||{},typeof pn=="object")return this.each(function(){var _n=an.extend(!0,{},pn);new cn(an(this),_n)}),this;if(typeof pn=="string"){var gn,mn=Array.prototype.slice.call(arguments,1);return this.each(function(){var _n=fn.GetData(this,"select2");_n==null&&window.console&&console.error&&console.error("The select2('"+pn+"') method was called on an element that is not using Select2."),gn=_n[pn].apply(_n,mn)}),hn.indexOf(pn)>-1?this:gn}else throw new Error("Invalid arguments for Select2: "+pn)}}return an.fn.select2.defaults==null&&(an.fn.select2.defaults=un),cn}),{define:rn.define,require:rn.require}}(),nn=tn.require("jquery.select2");return en.fn.select2.amd=tn,nn})})(select2$2);var select2Exports=select2$2.exports;const select2$1=getDefaultExportFromCjs(select2Exports);var daterangepicker$1={exports:{}};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(Fe){hookCallback=Fe}function isArray$3(Fe){return Fe instanceof Array||Object.prototype.toString.call(Fe)==="[object Array]"}function isObject$5(Fe){return Fe!=null&&Object.prototype.toString.call(Fe)==="[object Object]"}function hasOwnProp(Fe,en){return Object.prototype.hasOwnProperty.call(Fe,en)}function isObjectEmpty(Fe){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(Fe).length===0;var en;for(en in Fe)if(hasOwnProp(Fe,en))return!1;return!0}function isUndefined(Fe){return Fe===void 0}function isNumber$1(Fe){return typeof Fe=="number"||Object.prototype.toString.call(Fe)==="[object Number]"}function isDate(Fe){return Fe instanceof Date||Object.prototype.toString.call(Fe)==="[object Date]"}function map$2(Fe,en){var tn=[],nn,rn=Fe.length;for(nn=0;nn<rn;++nn)tn.push(en(Fe[nn],nn));return tn}function extend$3(Fe,en){for(var tn in en)hasOwnProp(en,tn)&&(Fe[tn]=en[tn]);return hasOwnProp(en,"toString")&&(Fe.toString=en.toString),hasOwnProp(en,"valueOf")&&(Fe.valueOf=en.valueOf),Fe}function createUTC(Fe,en,tn,nn){return createLocalOrUTC(Fe,en,tn,nn,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(Fe){return Fe._pf==null&&(Fe._pf=defaultParsingFlags()),Fe._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(Fe){var en=Object(this),tn=en.length>>>0,nn;for(nn=0;nn<tn;nn++)if(nn in en&&Fe.call(this,en[nn],nn,en))return!0;return!1};function isValid(Fe){if(Fe._isValid==null){var en=getParsingFlags(Fe),tn=some.call(en.parsedDateParts,function(rn){return rn!=null}),nn=!isNaN(Fe._d.getTime())&&en.overflow<0&&!en.empty&&!en.invalidEra&&!en.invalidMonth&&!en.invalidWeekday&&!en.weekdayMismatch&&!en.nullInput&&!en.invalidFormat&&!en.userInvalidated&&(!en.meridiem||en.meridiem&&tn);if(Fe._strict&&(nn=nn&&en.charsLeftOver===0&&en.unusedTokens.length===0&&en.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(Fe))Fe._isValid=nn;else return nn}return Fe._isValid}function createInvalid(Fe){var en=createUTC(NaN);return Fe!=null?extend$3(getParsingFlags(en),Fe):getParsingFlags(en).userInvalidated=!0,en}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(Fe,en){var tn,nn,rn,an=momentProperties.length;if(isUndefined(en._isAMomentObject)||(Fe._isAMomentObject=en._isAMomentObject),isUndefined(en._i)||(Fe._i=en._i),isUndefined(en._f)||(Fe._f=en._f),isUndefined(en._l)||(Fe._l=en._l),isUndefined(en._strict)||(Fe._strict=en._strict),isUndefined(en._tzm)||(Fe._tzm=en._tzm),isUndefined(en._isUTC)||(Fe._isUTC=en._isUTC),isUndefined(en._offset)||(Fe._offset=en._offset),isUndefined(en._pf)||(Fe._pf=getParsingFlags(en)),isUndefined(en._locale)||(Fe._locale=en._locale),an>0)for(tn=0;tn<an;tn++)nn=momentProperties[tn],rn=en[nn],isUndefined(rn)||(Fe[nn]=rn);return Fe}function Moment(Fe){copyConfig(this,Fe),this._d=new Date(Fe._d!=null?Fe._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(Fe){return Fe instanceof Moment||Fe!=null&&Fe._isAMomentObject!=null}function warn$2(Fe){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+Fe)}function deprecate(Fe,en){var tn=!0;return extend$3(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,Fe),tn){var nn=[],rn,an,ln,cn=arguments.length;for(an=0;an<cn;an++){if(rn="",typeof arguments[an]=="object"){rn+=`
[`+an+"] ";for(ln in arguments[0])hasOwnProp(arguments[0],ln)&&(rn+=ln+": "+arguments[0][ln]+", ");rn=rn.slice(0,-2)}else rn=arguments[an];nn.push(rn)}warn$2(Fe+`
Arguments: `+Array.prototype.slice.call(nn).join("")+`
`+new Error().stack),tn=!1}return en.apply(this,arguments)},en)}var deprecations={};function deprecateSimple(Fe,en){hooks.deprecationHandler!=null&&hooks.deprecationHandler(Fe,en),deprecations[Fe]||(warn$2(en),deprecations[Fe]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$1(Fe){return typeof Function<"u"&&Fe instanceof Function||Object.prototype.toString.call(Fe)==="[object Function]"}function set$3(Fe){var en,tn;for(tn in Fe)hasOwnProp(Fe,tn)&&(en=Fe[tn],isFunction$1(en)?this[tn]=en:this["_"+tn]=en);this._config=Fe,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(Fe,en){var tn=extend$3({},Fe),nn;for(nn in en)hasOwnProp(en,nn)&&(isObject$5(Fe[nn])&&isObject$5(en[nn])?(tn[nn]={},extend$3(tn[nn],Fe[nn]),extend$3(tn[nn],en[nn])):en[nn]!=null?tn[nn]=en[nn]:delete tn[nn]);for(nn in Fe)hasOwnProp(Fe,nn)&&!hasOwnProp(en,nn)&&isObject$5(Fe[nn])&&(tn[nn]=extend$3({},tn[nn]));return tn}function Locale(Fe){Fe!=null&&this.set(Fe)}var keys$1;Object.keys?keys$1=Object.keys:keys$1=function(Fe){var en,tn=[];for(en in Fe)hasOwnProp(Fe,en)&&tn.push(en);return tn};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(Fe,en,tn){var nn=this._calendar[Fe]||this._calendar.sameElse;return isFunction$1(nn)?nn.call(en,tn):nn}function zeroFill(Fe,en,tn){var nn=""+Math.abs(Fe),rn=en-nn.length,an=Fe>=0;return(an?tn?"+":"":"-")+Math.pow(10,Math.max(0,rn)).toString().substr(1)+nn}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(Fe,en,tn,nn){var rn=nn;typeof nn=="string"&&(rn=function(){return this[nn]()}),Fe&&(formatTokenFunctions[Fe]=rn),en&&(formatTokenFunctions[en[0]]=function(){return zeroFill(rn.apply(this,arguments),en[1],en[2])}),tn&&(formatTokenFunctions[tn]=function(){return this.localeData().ordinal(rn.apply(this,arguments),Fe)})}function removeFormattingTokens(Fe){return Fe.match(/\[[\s\S]/)?Fe.replace(/^\[|\]$/g,""):Fe.replace(/\\/g,"")}function makeFormatFunction(Fe){var en=Fe.match(formattingTokens),tn,nn;for(tn=0,nn=en.length;tn<nn;tn++)formatTokenFunctions[en[tn]]?en[tn]=formatTokenFunctions[en[tn]]:en[tn]=removeFormattingTokens(en[tn]);return function(rn){var an="",ln;for(ln=0;ln<nn;ln++)an+=isFunction$1(en[ln])?en[ln].call(rn,Fe):en[ln];return an}}function formatMoment(Fe,en){return Fe.isValid()?(en=expandFormat(en,Fe.localeData()),formatFunctions[en]=formatFunctions[en]||makeFormatFunction(en),formatFunctions[en](Fe)):Fe.localeData().invalidDate()}function expandFormat(Fe,en){var tn=5;function nn(rn){return en.longDateFormat(rn)||rn}for(localFormattingTokens.lastIndex=0;tn>=0&&localFormattingTokens.test(Fe);)Fe=Fe.replace(localFormattingTokens,nn),localFormattingTokens.lastIndex=0,tn-=1;return Fe}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(Fe){var en=this._longDateFormat[Fe],tn=this._longDateFormat[Fe.toUpperCase()];return en||!tn?en:(this._longDateFormat[Fe]=tn.match(formattingTokens).map(function(nn){return nn==="MMMM"||nn==="MM"||nn==="DD"||nn==="dddd"?nn.slice(1):nn}).join(""),this._longDateFormat[Fe])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(Fe){return this._ordinal.replace("%d",Fe)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(Fe,en,tn,nn){var rn=this._relativeTime[tn];return isFunction$1(rn)?rn(Fe,en,tn,nn):rn.replace(/%d/i,Fe)}function pastFuture(Fe,en){var tn=this._relativeTime[Fe>0?"future":"past"];return isFunction$1(tn)?tn(en):tn.replace(/%s/i,en)}var aliases={};function addUnitAlias(Fe,en){var tn=Fe.toLowerCase();aliases[tn]=aliases[tn+"s"]=aliases[en]=Fe}function normalizeUnits(Fe){return typeof Fe=="string"?aliases[Fe]||aliases[Fe.toLowerCase()]:void 0}function normalizeObjectUnits(Fe){var en={},tn,nn;for(nn in Fe)hasOwnProp(Fe,nn)&&(tn=normalizeUnits(nn),tn&&(en[tn]=Fe[nn]));return en}var priorities={};function addUnitPriority(Fe,en){priorities[Fe]=en}function getPrioritizedUnits(Fe){var en=[],tn;for(tn in Fe)hasOwnProp(Fe,tn)&&en.push({unit:tn,priority:priorities[tn]});return en.sort(function(nn,rn){return nn.priority-rn.priority}),en}function isLeapYear(Fe){return Fe%4===0&&Fe%100!==0||Fe%400===0}function absFloor(Fe){return Fe<0?Math.ceil(Fe)||0:Math.floor(Fe)}function toInt(Fe){var en=+Fe,tn=0;return en!==0&&isFinite(en)&&(tn=absFloor(en)),tn}function makeGetSet(Fe,en){return function(tn){return tn!=null?(set$1$2(this,Fe,tn),hooks.updateOffset(this,en),this):get$2(this,Fe)}}function get$2(Fe,en){return Fe.isValid()?Fe._d["get"+(Fe._isUTC?"UTC":"")+en]():NaN}function set$1$2(Fe,en,tn){Fe.isValid()&&!isNaN(tn)&&(en==="FullYear"&&isLeapYear(Fe.year())&&Fe.month()===1&&Fe.date()===29?(tn=toInt(tn),Fe._d["set"+(Fe._isUTC?"UTC":"")+en](tn,Fe.month(),daysInMonth(tn,Fe.month()))):Fe._d["set"+(Fe._isUTC?"UTC":"")+en](tn))}function stringGet(Fe){return Fe=normalizeUnits(Fe),isFunction$1(this[Fe])?this[Fe]():this}function stringSet(Fe,en){if(typeof Fe=="object"){Fe=normalizeObjectUnits(Fe);var tn=getPrioritizedUnits(Fe),nn,rn=tn.length;for(nn=0;nn<rn;nn++)this[tn[nn].unit](Fe[tn[nn].unit])}else if(Fe=normalizeUnits(Fe),isFunction$1(this[Fe]))return this[Fe](en);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(Fe,en,tn){regexes[Fe]=isFunction$1(en)?en:function(nn,rn){return nn&&tn?tn:en}}function getParseRegexForToken(Fe,en){return hasOwnProp(regexes,Fe)?regexes[Fe](en._strict,en._locale):new RegExp(unescapeFormat(Fe))}function unescapeFormat(Fe){return regexEscape(Fe.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(en,tn,nn,rn,an){return tn||nn||rn||an}))}function regexEscape(Fe){return Fe.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(Fe,en){var tn,nn=en,rn;for(typeof Fe=="string"&&(Fe=[Fe]),isNumber$1(en)&&(nn=function(an,ln){ln[en]=toInt(an)}),rn=Fe.length,tn=0;tn<rn;tn++)tokens[Fe[tn]]=nn}function addWeekParseToken(Fe,en){addParseToken(Fe,function(tn,nn,rn,an){rn._w=rn._w||{},en(tn,rn._w,rn,an)})}function addTimeToArrayFromToken(Fe,en,tn){en!=null&&hasOwnProp(tokens,Fe)&&tokens[Fe](en,tn._a,tn,Fe)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod(Fe,en){return(Fe%en+en)%en}var indexOf$1;Array.prototype.indexOf?indexOf$1=Array.prototype.indexOf:indexOf$1=function(Fe){var en;for(en=0;en<this.length;++en)if(this[en]===Fe)return en;return-1};function daysInMonth(Fe,en){if(isNaN(Fe)||isNaN(en))return NaN;var tn=mod(en,12);return Fe+=(en-tn)/12,tn===1?isLeapYear(Fe)?29:28:31-tn%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(Fe){return this.localeData().monthsShort(this,Fe)});addFormatToken("MMMM",0,0,function(Fe){return this.localeData().months(this,Fe)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(Fe,en){return en.monthsShortRegex(Fe)});addRegexToken("MMMM",function(Fe,en){return en.monthsRegex(Fe)});addParseToken(["M","MM"],function(Fe,en){en[MONTH]=toInt(Fe)-1});addParseToken(["MMM","MMMM"],function(Fe,en,tn,nn){var rn=tn._locale.monthsParse(Fe,nn,tn._strict);rn!=null?en[MONTH]=rn:getParsingFlags(tn).invalidMonth=Fe});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(Fe,en){return Fe?isArray$3(this._months)?this._months[Fe.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(en)?"format":"standalone"][Fe.month()]:isArray$3(this._months)?this._months:this._months.standalone}function localeMonthsShort(Fe,en){return Fe?isArray$3(this._monthsShort)?this._monthsShort[Fe.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(en)?"format":"standalone"][Fe.month()]:isArray$3(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(Fe,en,tn){var nn,rn,an,ln=Fe.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],nn=0;nn<12;++nn)an=createUTC([2e3,nn]),this._shortMonthsParse[nn]=this.monthsShort(an,"").toLocaleLowerCase(),this._longMonthsParse[nn]=this.months(an,"").toLocaleLowerCase();return tn?en==="MMM"?(rn=indexOf$1.call(this._shortMonthsParse,ln),rn!==-1?rn:null):(rn=indexOf$1.call(this._longMonthsParse,ln),rn!==-1?rn:null):en==="MMM"?(rn=indexOf$1.call(this._shortMonthsParse,ln),rn!==-1?rn:(rn=indexOf$1.call(this._longMonthsParse,ln),rn!==-1?rn:null)):(rn=indexOf$1.call(this._longMonthsParse,ln),rn!==-1?rn:(rn=indexOf$1.call(this._shortMonthsParse,ln),rn!==-1?rn:null))}function localeMonthsParse(Fe,en,tn){var nn,rn,an;if(this._monthsParseExact)return handleStrictParse.call(this,Fe,en,tn);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),nn=0;nn<12;nn++){if(rn=createUTC([2e3,nn]),tn&&!this._longMonthsParse[nn]&&(this._longMonthsParse[nn]=new RegExp("^"+this.months(rn,"").replace(".","")+"$","i"),this._shortMonthsParse[nn]=new RegExp("^"+this.monthsShort(rn,"").replace(".","")+"$","i")),!tn&&!this._monthsParse[nn]&&(an="^"+this.months(rn,"")+"|^"+this.monthsShort(rn,""),this._monthsParse[nn]=new RegExp(an.replace(".",""),"i")),tn&&en==="MMMM"&&this._longMonthsParse[nn].test(Fe))return nn;if(tn&&en==="MMM"&&this._shortMonthsParse[nn].test(Fe))return nn;if(!tn&&this._monthsParse[nn].test(Fe))return nn}}function setMonth(Fe,en){var tn;if(!Fe.isValid())return Fe;if(typeof en=="string"){if(/^\d+$/.test(en))en=toInt(en);else if(en=Fe.localeData().monthsParse(en),!isNumber$1(en))return Fe}return tn=Math.min(Fe.date(),daysInMonth(Fe.year(),en)),Fe._d["set"+(Fe._isUTC?"UTC":"")+"Month"](en,tn),Fe}function getSetMonth(Fe){return Fe!=null?(setMonth(this,Fe),hooks.updateOffset(this,!0),this):get$2(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(Fe){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Fe?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&Fe?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(Fe){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Fe?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&Fe?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function Fe(ln,cn){return cn.length-ln.length}var en=[],tn=[],nn=[],rn,an;for(rn=0;rn<12;rn++)an=createUTC([2e3,rn]),en.push(this.monthsShort(an,"")),tn.push(this.months(an,"")),nn.push(this.months(an,"")),nn.push(this.monthsShort(an,""));for(en.sort(Fe),tn.sort(Fe),nn.sort(Fe),rn=0;rn<12;rn++)en[rn]=regexEscape(en[rn]),tn[rn]=regexEscape(tn[rn]);for(rn=0;rn<24;rn++)nn[rn]=regexEscape(nn[rn]);this._monthsRegex=new RegExp("^("+nn.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+tn.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+en.join("|")+")","i")}addFormatToken("Y",0,0,function(){var Fe=this.year();return Fe<=9999?zeroFill(Fe,4):"+"+Fe});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(Fe,en){en[YEAR]=Fe.length===2?hooks.parseTwoDigitYear(Fe):toInt(Fe)});addParseToken("YY",function(Fe,en){en[YEAR]=hooks.parseTwoDigitYear(Fe)});addParseToken("Y",function(Fe,en){en[YEAR]=parseInt(Fe,10)});function daysInYear(Fe){return isLeapYear(Fe)?366:365}hooks.parseTwoDigitYear=function(Fe){return toInt(Fe)+(toInt(Fe)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(Fe,en,tn,nn,rn,an,ln){var cn;return Fe<100&&Fe>=0?(cn=new Date(Fe+400,en,tn,nn,rn,an,ln),isFinite(cn.getFullYear())&&cn.setFullYear(Fe)):cn=new Date(Fe,en,tn,nn,rn,an,ln),cn}function createUTCDate(Fe){var en,tn;return Fe<100&&Fe>=0?(tn=Array.prototype.slice.call(arguments),tn[0]=Fe+400,en=new Date(Date.UTC.apply(null,tn)),isFinite(en.getUTCFullYear())&&en.setUTCFullYear(Fe)):en=new Date(Date.UTC.apply(null,arguments)),en}function firstWeekOffset(Fe,en,tn){var nn=7+en-tn,rn=(7+createUTCDate(Fe,0,nn).getUTCDay()-en)%7;return-rn+nn-1}function dayOfYearFromWeeks(Fe,en,tn,nn,rn){var an=(7+tn-nn)%7,ln=firstWeekOffset(Fe,nn,rn),cn=1+7*(en-1)+an+ln,un,fn;return cn<=0?(un=Fe-1,fn=daysInYear(un)+cn):cn>daysInYear(Fe)?(un=Fe+1,fn=cn-daysInYear(Fe)):(un=Fe,fn=cn),{year:un,dayOfYear:fn}}function weekOfYear(Fe,en,tn){var nn=firstWeekOffset(Fe.year(),en,tn),rn=Math.floor((Fe.dayOfYear()-nn-1)/7)+1,an,ln;return rn<1?(ln=Fe.year()-1,an=rn+weeksInYear(ln,en,tn)):rn>weeksInYear(Fe.year(),en,tn)?(an=rn-weeksInYear(Fe.year(),en,tn),ln=Fe.year()+1):(ln=Fe.year(),an=rn),{week:an,year:ln}}function weeksInYear(Fe,en,tn){var nn=firstWeekOffset(Fe,en,tn),rn=firstWeekOffset(Fe+1,en,tn);return(daysInYear(Fe)-nn+rn)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(Fe,en,tn,nn){en[nn.substr(0,1)]=toInt(Fe)});function localeWeek(Fe){return weekOfYear(Fe,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(Fe){var en=this.localeData().week(this);return Fe==null?en:this.add((Fe-en)*7,"d")}function getSetISOWeek(Fe){var en=weekOfYear(this,1,4).week;return Fe==null?en:this.add((Fe-en)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(Fe){return this.localeData().weekdaysMin(this,Fe)});addFormatToken("ddd",0,0,function(Fe){return this.localeData().weekdaysShort(this,Fe)});addFormatToken("dddd",0,0,function(Fe){return this.localeData().weekdays(this,Fe)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(Fe,en){return en.weekdaysMinRegex(Fe)});addRegexToken("ddd",function(Fe,en){return en.weekdaysShortRegex(Fe)});addRegexToken("dddd",function(Fe,en){return en.weekdaysRegex(Fe)});addWeekParseToken(["dd","ddd","dddd"],function(Fe,en,tn,nn){var rn=tn._locale.weekdaysParse(Fe,nn,tn._strict);rn!=null?en.d=rn:getParsingFlags(tn).invalidWeekday=Fe});addWeekParseToken(["d","e","E"],function(Fe,en,tn,nn){en[nn]=toInt(Fe)});function parseWeekday(Fe,en){return typeof Fe!="string"?Fe:isNaN(Fe)?(Fe=en.weekdaysParse(Fe),typeof Fe=="number"?Fe:null):parseInt(Fe,10)}function parseIsoWeekday(Fe,en){return typeof Fe=="string"?en.weekdaysParse(Fe)%7||7:isNaN(Fe)?null:Fe}function shiftWeekdays(Fe,en){return Fe.slice(en,7).concat(Fe.slice(0,en))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(Fe,en){var tn=isArray$3(this._weekdays)?this._weekdays:this._weekdays[Fe&&Fe!==!0&&this._weekdays.isFormat.test(en)?"format":"standalone"];return Fe===!0?shiftWeekdays(tn,this._week.dow):Fe?tn[Fe.day()]:tn}function localeWeekdaysShort(Fe){return Fe===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):Fe?this._weekdaysShort[Fe.day()]:this._weekdaysShort}function localeWeekdaysMin(Fe){return Fe===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):Fe?this._weekdaysMin[Fe.day()]:this._weekdaysMin}function handleStrictParse$1(Fe,en,tn){var nn,rn,an,ln=Fe.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],nn=0;nn<7;++nn)an=createUTC([2e3,1]).day(nn),this._minWeekdaysParse[nn]=this.weekdaysMin(an,"").toLocaleLowerCase(),this._shortWeekdaysParse[nn]=this.weekdaysShort(an,"").toLocaleLowerCase(),this._weekdaysParse[nn]=this.weekdays(an,"").toLocaleLowerCase();return tn?en==="dddd"?(rn=indexOf$1.call(this._weekdaysParse,ln),rn!==-1?rn:null):en==="ddd"?(rn=indexOf$1.call(this._shortWeekdaysParse,ln),rn!==-1?rn:null):(rn=indexOf$1.call(this._minWeekdaysParse,ln),rn!==-1?rn:null):en==="dddd"?(rn=indexOf$1.call(this._weekdaysParse,ln),rn!==-1||(rn=indexOf$1.call(this._shortWeekdaysParse,ln),rn!==-1)?rn:(rn=indexOf$1.call(this._minWeekdaysParse,ln),rn!==-1?rn:null)):en==="ddd"?(rn=indexOf$1.call(this._shortWeekdaysParse,ln),rn!==-1||(rn=indexOf$1.call(this._weekdaysParse,ln),rn!==-1)?rn:(rn=indexOf$1.call(this._minWeekdaysParse,ln),rn!==-1?rn:null)):(rn=indexOf$1.call(this._minWeekdaysParse,ln),rn!==-1||(rn=indexOf$1.call(this._weekdaysParse,ln),rn!==-1)?rn:(rn=indexOf$1.call(this._shortWeekdaysParse,ln),rn!==-1?rn:null))}function localeWeekdaysParse(Fe,en,tn){var nn,rn,an;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,Fe,en,tn);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),nn=0;nn<7;nn++){if(rn=createUTC([2e3,1]).day(nn),tn&&!this._fullWeekdaysParse[nn]&&(this._fullWeekdaysParse[nn]=new RegExp("^"+this.weekdays(rn,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[nn]=new RegExp("^"+this.weekdaysShort(rn,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[nn]=new RegExp("^"+this.weekdaysMin(rn,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[nn]||(an="^"+this.weekdays(rn,"")+"|^"+this.weekdaysShort(rn,"")+"|^"+this.weekdaysMin(rn,""),this._weekdaysParse[nn]=new RegExp(an.replace(".",""),"i")),tn&&en==="dddd"&&this._fullWeekdaysParse[nn].test(Fe))return nn;if(tn&&en==="ddd"&&this._shortWeekdaysParse[nn].test(Fe))return nn;if(tn&&en==="dd"&&this._minWeekdaysParse[nn].test(Fe))return nn;if(!tn&&this._weekdaysParse[nn].test(Fe))return nn}}function getSetDayOfWeek(Fe){if(!this.isValid())return Fe!=null?this:NaN;var en=this._isUTC?this._d.getUTCDay():this._d.getDay();return Fe!=null?(Fe=parseWeekday(Fe,this.localeData()),this.add(Fe-en,"d")):en}function getSetLocaleDayOfWeek(Fe){if(!this.isValid())return Fe!=null?this:NaN;var en=(this.day()+7-this.localeData()._week.dow)%7;return Fe==null?en:this.add(Fe-en,"d")}function getSetISODayOfWeek(Fe){if(!this.isValid())return Fe!=null?this:NaN;if(Fe!=null){var en=parseIsoWeekday(Fe,this.localeData());return this.day(this.day()%7?en:en-7)}else return this.day()||7}function weekdaysRegex(Fe){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Fe?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&Fe?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(Fe){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Fe?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&Fe?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(Fe){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Fe?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&Fe?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function Fe(hn,pn){return pn.length-hn.length}var en=[],tn=[],nn=[],rn=[],an,ln,cn,un,fn;for(an=0;an<7;an++)ln=createUTC([2e3,1]).day(an),cn=regexEscape(this.weekdaysMin(ln,"")),un=regexEscape(this.weekdaysShort(ln,"")),fn=regexEscape(this.weekdays(ln,"")),en.push(cn),tn.push(un),nn.push(fn),rn.push(cn),rn.push(un),rn.push(fn);en.sort(Fe),tn.sort(Fe),nn.sort(Fe),rn.sort(Fe),this._weekdaysRegex=new RegExp("^("+rn.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+nn.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+tn.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+en.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(Fe,en){addFormatToken(Fe,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),en)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(Fe,en){return en._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(Fe,en,tn){var nn=toInt(Fe);en[HOUR]=nn===24?0:nn});addParseToken(["a","A"],function(Fe,en,tn){tn._isPm=tn._locale.isPM(Fe),tn._meridiem=Fe});addParseToken(["h","hh"],function(Fe,en,tn){en[HOUR]=toInt(Fe),getParsingFlags(tn).bigHour=!0});addParseToken("hmm",function(Fe,en,tn){var nn=Fe.length-2;en[HOUR]=toInt(Fe.substr(0,nn)),en[MINUTE]=toInt(Fe.substr(nn)),getParsingFlags(tn).bigHour=!0});addParseToken("hmmss",function(Fe,en,tn){var nn=Fe.length-4,rn=Fe.length-2;en[HOUR]=toInt(Fe.substr(0,nn)),en[MINUTE]=toInt(Fe.substr(nn,2)),en[SECOND]=toInt(Fe.substr(rn)),getParsingFlags(tn).bigHour=!0});addParseToken("Hmm",function(Fe,en,tn){var nn=Fe.length-2;en[HOUR]=toInt(Fe.substr(0,nn)),en[MINUTE]=toInt(Fe.substr(nn))});addParseToken("Hmmss",function(Fe,en,tn){var nn=Fe.length-4,rn=Fe.length-2;en[HOUR]=toInt(Fe.substr(0,nn)),en[MINUTE]=toInt(Fe.substr(nn,2)),en[SECOND]=toInt(Fe.substr(rn))});function localeIsPM(Fe){return(Fe+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(Fe,en,tn){return Fe>11?tn?"pm":"PM":tn?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(Fe,en){var tn,nn=Math.min(Fe.length,en.length);for(tn=0;tn<nn;tn+=1)if(Fe[tn]!==en[tn])return tn;return nn}function normalizeLocale(Fe){return Fe&&Fe.toLowerCase().replace("_","-")}function chooseLocale(Fe){for(var en=0,tn,nn,rn,an;en<Fe.length;){for(an=normalizeLocale(Fe[en]).split("-"),tn=an.length,nn=normalizeLocale(Fe[en+1]),nn=nn?nn.split("-"):null;tn>0;){if(rn=loadLocale(an.slice(0,tn).join("-")),rn)return rn;if(nn&&nn.length>=tn&&commonPrefix(an,nn)>=tn-1)break;tn--}en++}return globalLocale}function isLocaleNameSane(Fe){return Fe.match("^[^/\\\\]*$")!=null}function loadLocale(Fe){var en=null,tn;if(locales[Fe]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(Fe))try{en=globalLocale._abbr,tn=require,tn("./locale/"+Fe),getSetGlobalLocale(en)}catch{locales[Fe]=null}return locales[Fe]}function getSetGlobalLocale(Fe,en){var tn;return Fe&&(isUndefined(en)?tn=getLocale(Fe):tn=defineLocale(Fe,en),tn?globalLocale=tn:typeof console<"u"&&console.warn&&console.warn("Locale "+Fe+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(Fe,en){if(en!==null){var tn,nn=baseConfig;if(en.abbr=Fe,locales[Fe]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),nn=locales[Fe]._config;else if(en.parentLocale!=null)if(locales[en.parentLocale]!=null)nn=locales[en.parentLocale]._config;else if(tn=loadLocale(en.parentLocale),tn!=null)nn=tn._config;else return localeFamilies[en.parentLocale]||(localeFamilies[en.parentLocale]=[]),localeFamilies[en.parentLocale].push({name:Fe,config:en}),null;return locales[Fe]=new Locale(mergeConfigs(nn,en)),localeFamilies[Fe]&&localeFamilies[Fe].forEach(function(rn){defineLocale(rn.name,rn.config)}),getSetGlobalLocale(Fe),locales[Fe]}else return delete locales[Fe],null}function updateLocale(Fe,en){if(en!=null){var tn,nn,rn=baseConfig;locales[Fe]!=null&&locales[Fe].parentLocale!=null?locales[Fe].set(mergeConfigs(locales[Fe]._config,en)):(nn=loadLocale(Fe),nn!=null&&(rn=nn._config),en=mergeConfigs(rn,en),nn==null&&(en.abbr=Fe),tn=new Locale(en),tn.parentLocale=locales[Fe],locales[Fe]=tn),getSetGlobalLocale(Fe)}else locales[Fe]!=null&&(locales[Fe].parentLocale!=null?(locales[Fe]=locales[Fe].parentLocale,Fe===getSetGlobalLocale()&&getSetGlobalLocale(Fe)):locales[Fe]!=null&&delete locales[Fe]);return locales[Fe]}function getLocale(Fe){var en;if(Fe&&Fe._locale&&Fe._locale._abbr&&(Fe=Fe._locale._abbr),!Fe)return globalLocale;if(!isArray$3(Fe)){if(en=loadLocale(Fe),en)return en;Fe=[Fe]}return chooseLocale(Fe)}function listLocales(){return keys$1(locales)}function checkOverflow(Fe){var en,tn=Fe._a;return tn&&getParsingFlags(Fe).overflow===-2&&(en=tn[MONTH]<0||tn[MONTH]>11?MONTH:tn[DATE]<1||tn[DATE]>daysInMonth(tn[YEAR],tn[MONTH])?DATE:tn[HOUR]<0||tn[HOUR]>24||tn[HOUR]===24&&(tn[MINUTE]!==0||tn[SECOND]!==0||tn[MILLISECOND]!==0)?HOUR:tn[MINUTE]<0||tn[MINUTE]>59?MINUTE:tn[SECOND]<0||tn[SECOND]>59?SECOND:tn[MILLISECOND]<0||tn[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(Fe)._overflowDayOfYear&&(en<YEAR||en>DATE)&&(en=DATE),getParsingFlags(Fe)._overflowWeeks&&en===-1&&(en=WEEK),getParsingFlags(Fe)._overflowWeekday&&en===-1&&(en=WEEKDAY),getParsingFlags(Fe).overflow=en),Fe}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(Fe){var en,tn,nn=Fe._i,rn=extendedIsoRegex.exec(nn)||basicIsoRegex.exec(nn),an,ln,cn,un,fn=isoDates.length,hn=isoTimes.length;if(rn){for(getParsingFlags(Fe).iso=!0,en=0,tn=fn;en<tn;en++)if(isoDates[en][1].exec(rn[1])){ln=isoDates[en][0],an=isoDates[en][2]!==!1;break}if(ln==null){Fe._isValid=!1;return}if(rn[3]){for(en=0,tn=hn;en<tn;en++)if(isoTimes[en][1].exec(rn[3])){cn=(rn[2]||" ")+isoTimes[en][0];break}if(cn==null){Fe._isValid=!1;return}}if(!an&&cn!=null){Fe._isValid=!1;return}if(rn[4])if(tzRegex.exec(rn[4]))un="Z";else{Fe._isValid=!1;return}Fe._f=ln+(cn||"")+(un||""),configFromStringAndFormat(Fe)}else Fe._isValid=!1}function extractFromRFC2822Strings(Fe,en,tn,nn,rn,an){var ln=[untruncateYear(Fe),defaultLocaleMonthsShort.indexOf(en),parseInt(tn,10),parseInt(nn,10),parseInt(rn,10)];return an&&ln.push(parseInt(an,10)),ln}function untruncateYear(Fe){var en=parseInt(Fe,10);return en<=49?2e3+en:en<=999?1900+en:en}function preprocessRFC2822(Fe){return Fe.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(Fe,en,tn){if(Fe){var nn=defaultLocaleWeekdaysShort.indexOf(Fe),rn=new Date(en[0],en[1],en[2]).getDay();if(nn!==rn)return getParsingFlags(tn).weekdayMismatch=!0,tn._isValid=!1,!1}return!0}function calculateOffset(Fe,en,tn){if(Fe)return obsOffsets[Fe];if(en)return 0;var nn=parseInt(tn,10),rn=nn%100,an=(nn-rn)/100;return an*60+rn}function configFromRFC2822(Fe){var en=rfc2822.exec(preprocessRFC2822(Fe._i)),tn;if(en){if(tn=extractFromRFC2822Strings(en[4],en[3],en[2],en[5],en[6],en[7]),!checkWeekday(en[1],tn,Fe))return;Fe._a=tn,Fe._tzm=calculateOffset(en[8],en[9],en[10]),Fe._d=createUTCDate.apply(null,Fe._a),Fe._d.setUTCMinutes(Fe._d.getUTCMinutes()-Fe._tzm),getParsingFlags(Fe).rfc2822=!0}else Fe._isValid=!1}function configFromString(Fe){var en=aspNetJsonRegex.exec(Fe._i);if(en!==null){Fe._d=new Date(+en[1]);return}if(configFromISO(Fe),Fe._isValid===!1)delete Fe._isValid;else return;if(configFromRFC2822(Fe),Fe._isValid===!1)delete Fe._isValid;else return;Fe._strict?Fe._isValid=!1:hooks.createFromInputFallback(Fe)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(Fe){Fe._d=new Date(Fe._i+(Fe._useUTC?" UTC":""))});function defaults$1(Fe,en,tn){return Fe??en??tn}function currentDateArray(Fe){var en=new Date(hooks.now());return Fe._useUTC?[en.getUTCFullYear(),en.getUTCMonth(),en.getUTCDate()]:[en.getFullYear(),en.getMonth(),en.getDate()]}function configFromArray(Fe){var en,tn,nn=[],rn,an,ln;if(!Fe._d){for(rn=currentDateArray(Fe),Fe._w&&Fe._a[DATE]==null&&Fe._a[MONTH]==null&&dayOfYearFromWeekInfo(Fe),Fe._dayOfYear!=null&&(ln=defaults$1(Fe._a[YEAR],rn[YEAR]),(Fe._dayOfYear>daysInYear(ln)||Fe._dayOfYear===0)&&(getParsingFlags(Fe)._overflowDayOfYear=!0),tn=createUTCDate(ln,0,Fe._dayOfYear),Fe._a[MONTH]=tn.getUTCMonth(),Fe._a[DATE]=tn.getUTCDate()),en=0;en<3&&Fe._a[en]==null;++en)Fe._a[en]=nn[en]=rn[en];for(;en<7;en++)Fe._a[en]=nn[en]=Fe._a[en]==null?en===2?1:0:Fe._a[en];Fe._a[HOUR]===24&&Fe._a[MINUTE]===0&&Fe._a[SECOND]===0&&Fe._a[MILLISECOND]===0&&(Fe._nextDay=!0,Fe._a[HOUR]=0),Fe._d=(Fe._useUTC?createUTCDate:createDate).apply(null,nn),an=Fe._useUTC?Fe._d.getUTCDay():Fe._d.getDay(),Fe._tzm!=null&&Fe._d.setUTCMinutes(Fe._d.getUTCMinutes()-Fe._tzm),Fe._nextDay&&(Fe._a[HOUR]=24),Fe._w&&typeof Fe._w.d<"u"&&Fe._w.d!==an&&(getParsingFlags(Fe).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(Fe){var en,tn,nn,rn,an,ln,cn,un,fn;en=Fe._w,en.GG!=null||en.W!=null||en.E!=null?(an=1,ln=4,tn=defaults$1(en.GG,Fe._a[YEAR],weekOfYear(createLocal(),1,4).year),nn=defaults$1(en.W,1),rn=defaults$1(en.E,1),(rn<1||rn>7)&&(un=!0)):(an=Fe._locale._week.dow,ln=Fe._locale._week.doy,fn=weekOfYear(createLocal(),an,ln),tn=defaults$1(en.gg,Fe._a[YEAR],fn.year),nn=defaults$1(en.w,fn.week),en.d!=null?(rn=en.d,(rn<0||rn>6)&&(un=!0)):en.e!=null?(rn=en.e+an,(en.e<0||en.e>6)&&(un=!0)):rn=an),nn<1||nn>weeksInYear(tn,an,ln)?getParsingFlags(Fe)._overflowWeeks=!0:un!=null?getParsingFlags(Fe)._overflowWeekday=!0:(cn=dayOfYearFromWeeks(tn,nn,rn,an,ln),Fe._a[YEAR]=cn.year,Fe._dayOfYear=cn.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(Fe){if(Fe._f===hooks.ISO_8601){configFromISO(Fe);return}if(Fe._f===hooks.RFC_2822){configFromRFC2822(Fe);return}Fe._a=[],getParsingFlags(Fe).empty=!0;var en=""+Fe._i,tn,nn,rn,an,ln,cn=en.length,un=0,fn,hn;for(rn=expandFormat(Fe._f,Fe._locale).match(formattingTokens)||[],hn=rn.length,tn=0;tn<hn;tn++)an=rn[tn],nn=(en.match(getParseRegexForToken(an,Fe))||[])[0],nn&&(ln=en.substr(0,en.indexOf(nn)),ln.length>0&&getParsingFlags(Fe).unusedInput.push(ln),en=en.slice(en.indexOf(nn)+nn.length),un+=nn.length),formatTokenFunctions[an]?(nn?getParsingFlags(Fe).empty=!1:getParsingFlags(Fe).unusedTokens.push(an),addTimeToArrayFromToken(an,nn,Fe)):Fe._strict&&!nn&&getParsingFlags(Fe).unusedTokens.push(an);getParsingFlags(Fe).charsLeftOver=cn-un,en.length>0&&getParsingFlags(Fe).unusedInput.push(en),Fe._a[HOUR]<=12&&getParsingFlags(Fe).bigHour===!0&&Fe._a[HOUR]>0&&(getParsingFlags(Fe).bigHour=void 0),getParsingFlags(Fe).parsedDateParts=Fe._a.slice(0),getParsingFlags(Fe).meridiem=Fe._meridiem,Fe._a[HOUR]=meridiemFixWrap(Fe._locale,Fe._a[HOUR],Fe._meridiem),fn=getParsingFlags(Fe).era,fn!==null&&(Fe._a[YEAR]=Fe._locale.erasConvertYear(fn,Fe._a[YEAR])),configFromArray(Fe),checkOverflow(Fe)}function meridiemFixWrap(Fe,en,tn){var nn;return tn==null?en:Fe.meridiemHour!=null?Fe.meridiemHour(en,tn):(Fe.isPM!=null&&(nn=Fe.isPM(tn),nn&&en<12&&(en+=12),!nn&&en===12&&(en=0)),en)}function configFromStringAndArray(Fe){var en,tn,nn,rn,an,ln,cn=!1,un=Fe._f.length;if(un===0){getParsingFlags(Fe).invalidFormat=!0,Fe._d=new Date(NaN);return}for(rn=0;rn<un;rn++)an=0,ln=!1,en=copyConfig({},Fe),Fe._useUTC!=null&&(en._useUTC=Fe._useUTC),en._f=Fe._f[rn],configFromStringAndFormat(en),isValid(en)&&(ln=!0),an+=getParsingFlags(en).charsLeftOver,an+=getParsingFlags(en).unusedTokens.length*10,getParsingFlags(en).score=an,cn?an<nn&&(nn=an,tn=en):(nn==null||an<nn||ln)&&(nn=an,tn=en,ln&&(cn=!0));extend$3(Fe,tn||en)}function configFromObject(Fe){if(!Fe._d){var en=normalizeObjectUnits(Fe._i),tn=en.day===void 0?en.date:en.day;Fe._a=map$2([en.year,en.month,tn,en.hour,en.minute,en.second,en.millisecond],function(nn){return nn&&parseInt(nn,10)}),configFromArray(Fe)}}function createFromConfig(Fe){var en=new Moment(checkOverflow(prepareConfig(Fe)));return en._nextDay&&(en.add(1,"d"),en._nextDay=void 0),en}function prepareConfig(Fe){var en=Fe._i,tn=Fe._f;return Fe._locale=Fe._locale||getLocale(Fe._l),en===null||tn===void 0&&en===""?createInvalid({nullInput:!0}):(typeof en=="string"&&(Fe._i=en=Fe._locale.preparse(en)),isMoment(en)?new Moment(checkOverflow(en)):(isDate(en)?Fe._d=en:isArray$3(tn)?configFromStringAndArray(Fe):tn?configFromStringAndFormat(Fe):configFromInput(Fe),isValid(Fe)||(Fe._d=null),Fe))}function configFromInput(Fe){var en=Fe._i;isUndefined(en)?Fe._d=new Date(hooks.now()):isDate(en)?Fe._d=new Date(en.valueOf()):typeof en=="string"?configFromString(Fe):isArray$3(en)?(Fe._a=map$2(en.slice(0),function(tn){return parseInt(tn,10)}),configFromArray(Fe)):isObject$5(en)?configFromObject(Fe):isNumber$1(en)?Fe._d=new Date(en):hooks.createFromInputFallback(Fe)}function createLocalOrUTC(Fe,en,tn,nn,rn){var an={};return(en===!0||en===!1)&&(nn=en,en=void 0),(tn===!0||tn===!1)&&(nn=tn,tn=void 0),(isObject$5(Fe)&&isObjectEmpty(Fe)||isArray$3(Fe)&&Fe.length===0)&&(Fe=void 0),an._isAMomentObject=!0,an._useUTC=an._isUTC=rn,an._l=tn,an._i=Fe,an._f=en,an._strict=nn,createFromConfig(an)}function createLocal(Fe,en,tn,nn){return createLocalOrUTC(Fe,en,tn,nn,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Fe=createLocal.apply(null,arguments);return this.isValid()&&Fe.isValid()?Fe<this?this:Fe:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Fe=createLocal.apply(null,arguments);return this.isValid()&&Fe.isValid()?Fe>this?this:Fe:createInvalid()});function pickBy(Fe,en){var tn,nn;if(en.length===1&&isArray$3(en[0])&&(en=en[0]),!en.length)return createLocal();for(tn=en[0],nn=1;nn<en.length;++nn)(!en[nn].isValid()||en[nn][Fe](tn))&&(tn=en[nn]);return tn}function min$2(){var Fe=[].slice.call(arguments,0);return pickBy("isBefore",Fe)}function max$2(){var Fe=[].slice.call(arguments,0);return pickBy("isAfter",Fe)}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(Fe){var en,tn=!1,nn,rn=ordering.length;for(en in Fe)if(hasOwnProp(Fe,en)&&!(indexOf$1.call(ordering,en)!==-1&&(Fe[en]==null||!isNaN(Fe[en]))))return!1;for(nn=0;nn<rn;++nn)if(Fe[ordering[nn]]){if(tn)return!1;parseFloat(Fe[ordering[nn]])!==toInt(Fe[ordering[nn]])&&(tn=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(Fe){var en=normalizeObjectUnits(Fe),tn=en.year||0,nn=en.quarter||0,rn=en.month||0,an=en.week||en.isoWeek||0,ln=en.day||0,cn=en.hour||0,un=en.minute||0,fn=en.second||0,hn=en.millisecond||0;this._isValid=isDurationValid(en),this._milliseconds=+hn+fn*1e3+un*6e4+cn*1e3*60*60,this._days=+ln+an*7,this._months=+rn+nn*3+tn*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(Fe){return Fe instanceof Duration}function absRound(Fe){return Fe<0?Math.round(-1*Fe)*-1:Math.round(Fe)}function compareArrays(Fe,en,tn){var nn=Math.min(Fe.length,en.length),rn=Math.abs(Fe.length-en.length),an=0,ln;for(ln=0;ln<nn;ln++)(tn&&Fe[ln]!==en[ln]||!tn&&toInt(Fe[ln])!==toInt(en[ln]))&&an++;return an+rn}function offset(Fe,en){addFormatToken(Fe,0,0,function(){var tn=this.utcOffset(),nn="+";return tn<0&&(tn=-tn,nn="-"),nn+zeroFill(~~(tn/60),2)+en+zeroFill(~~tn%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(Fe,en,tn){tn._useUTC=!0,tn._tzm=offsetFromString(matchShortOffset,Fe)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(Fe,en){var tn=(en||"").match(Fe),nn,rn,an;return tn===null?null:(nn=tn[tn.length-1]||[],rn=(nn+"").match(chunkOffset)||["-",0,0],an=+(rn[1]*60)+toInt(rn[2]),an===0?0:rn[0]==="+"?an:-an)}function cloneWithOffset(Fe,en){var tn,nn;return en._isUTC?(tn=en.clone(),nn=(isMoment(Fe)||isDate(Fe)?Fe.valueOf():createLocal(Fe).valueOf())-tn.valueOf(),tn._d.setTime(tn._d.valueOf()+nn),hooks.updateOffset(tn,!1),tn):createLocal(Fe).local()}function getDateOffset(Fe){return-Math.round(Fe._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(Fe,en,tn){var nn=this._offset||0,rn;if(!this.isValid())return Fe!=null?this:NaN;if(Fe!=null){if(typeof Fe=="string"){if(Fe=offsetFromString(matchShortOffset,Fe),Fe===null)return this}else Math.abs(Fe)<16&&!tn&&(Fe=Fe*60);return!this._isUTC&&en&&(rn=getDateOffset(this)),this._offset=Fe,this._isUTC=!0,rn!=null&&this.add(rn,"m"),nn!==Fe&&(!en||this._changeInProgress?addSubtract(this,createDuration(Fe-nn,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?nn:getDateOffset(this)}function getSetZone(Fe,en){return Fe!=null?(typeof Fe!="string"&&(Fe=-Fe),this.utcOffset(Fe,en),this):-this.utcOffset()}function setOffsetToUTC(Fe){return this.utcOffset(0,Fe)}function setOffsetToLocal(Fe){return this._isUTC&&(this.utcOffset(0,Fe),this._isUTC=!1,Fe&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var Fe=offsetFromString(matchOffset,this._i);Fe!=null?this.utcOffset(Fe):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(Fe){return this.isValid()?(Fe=Fe?createLocal(Fe).utcOffset():0,(this.utcOffset()-Fe)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var Fe={},en;return copyConfig(Fe,this),Fe=prepareConfig(Fe),Fe._a?(en=Fe._isUTC?createUTC(Fe._a):createLocal(Fe._a),this._isDSTShifted=this.isValid()&&compareArrays(Fe._a,en.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(Fe,en){var tn=Fe,nn=null,rn,an,ln;return isDuration(Fe)?tn={ms:Fe._milliseconds,d:Fe._days,M:Fe._months}:isNumber$1(Fe)||!isNaN(+Fe)?(tn={},en?tn[en]=+Fe:tn.milliseconds=+Fe):(nn=aspNetRegex.exec(Fe))?(rn=nn[1]==="-"?-1:1,tn={y:0,d:toInt(nn[DATE])*rn,h:toInt(nn[HOUR])*rn,m:toInt(nn[MINUTE])*rn,s:toInt(nn[SECOND])*rn,ms:toInt(absRound(nn[MILLISECOND]*1e3))*rn}):(nn=isoRegex.exec(Fe))?(rn=nn[1]==="-"?-1:1,tn={y:parseIso(nn[2],rn),M:parseIso(nn[3],rn),w:parseIso(nn[4],rn),d:parseIso(nn[5],rn),h:parseIso(nn[6],rn),m:parseIso(nn[7],rn),s:parseIso(nn[8],rn)}):tn==null?tn={}:typeof tn=="object"&&("from"in tn||"to"in tn)&&(ln=momentsDifference(createLocal(tn.from),createLocal(tn.to)),tn={},tn.ms=ln.milliseconds,tn.M=ln.months),an=new Duration(tn),isDuration(Fe)&&hasOwnProp(Fe,"_locale")&&(an._locale=Fe._locale),isDuration(Fe)&&hasOwnProp(Fe,"_isValid")&&(an._isValid=Fe._isValid),an}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(Fe,en){var tn=Fe&&parseFloat(Fe.replace(",","."));return(isNaN(tn)?0:tn)*en}function positiveMomentsDifference(Fe,en){var tn={};return tn.months=en.month()-Fe.month()+(en.year()-Fe.year())*12,Fe.clone().add(tn.months,"M").isAfter(en)&&--tn.months,tn.milliseconds=+en-+Fe.clone().add(tn.months,"M"),tn}function momentsDifference(Fe,en){var tn;return Fe.isValid()&&en.isValid()?(en=cloneWithOffset(en,Fe),Fe.isBefore(en)?tn=positiveMomentsDifference(Fe,en):(tn=positiveMomentsDifference(en,Fe),tn.milliseconds=-tn.milliseconds,tn.months=-tn.months),tn):{milliseconds:0,months:0}}function createAdder(Fe,en){return function(tn,nn){var rn,an;return nn!==null&&!isNaN(+nn)&&(deprecateSimple(en,"moment()."+en+"(period, number) is deprecated. Please use moment()."+en+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),an=tn,tn=nn,nn=an),rn=createDuration(tn,nn),addSubtract(this,rn,Fe),this}}function addSubtract(Fe,en,tn,nn){var rn=en._milliseconds,an=absRound(en._days),ln=absRound(en._months);Fe.isValid()&&(nn=nn??!0,ln&&setMonth(Fe,get$2(Fe,"Month")+ln*tn),an&&set$1$2(Fe,"Date",get$2(Fe,"Date")+an*tn),rn&&Fe._d.setTime(Fe._d.valueOf()+rn*tn),nn&&hooks.updateOffset(Fe,an||ln))}var add$2=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString$2(Fe){return typeof Fe=="string"||Fe instanceof String}function isMomentInput(Fe){return isMoment(Fe)||isDate(Fe)||isString$2(Fe)||isNumber$1(Fe)||isNumberOrStringArray(Fe)||isMomentInputObject(Fe)||Fe===null||Fe===void 0}function isMomentInputObject(Fe){var en=isObject$5(Fe)&&!isObjectEmpty(Fe),tn=!1,nn=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],rn,an,ln=nn.length;for(rn=0;rn<ln;rn+=1)an=nn[rn],tn=tn||hasOwnProp(Fe,an);return en&&tn}function isNumberOrStringArray(Fe){var en=isArray$3(Fe),tn=!1;return en&&(tn=Fe.filter(function(nn){return!isNumber$1(nn)&&isString$2(Fe)}).length===0),en&&tn}function isCalendarSpec(Fe){var en=isObject$5(Fe)&&!isObjectEmpty(Fe),tn=!1,nn=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],rn,an;for(rn=0;rn<nn.length;rn+=1)an=nn[rn],tn=tn||hasOwnProp(Fe,an);return en&&tn}function getCalendarFormat(Fe,en){var tn=Fe.diff(en,"days",!0);return tn<-6?"sameElse":tn<-1?"lastWeek":tn<0?"lastDay":tn<1?"sameDay":tn<2?"nextDay":tn<7?"nextWeek":"sameElse"}function calendar$1(Fe,en){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(Fe=arguments[0],en=void 0):isCalendarSpec(arguments[0])&&(en=arguments[0],Fe=void 0):(Fe=void 0,en=void 0));var tn=Fe||createLocal(),nn=cloneWithOffset(tn,this).startOf("day"),rn=hooks.calendarFormat(this,nn)||"sameElse",an=en&&(isFunction$1(en[rn])?en[rn].call(this,tn):en[rn]);return this.format(an||this.localeData().calendar(rn,this,createLocal(tn)))}function clone$6(){return new Moment(this)}function isAfter(Fe,en){var tn=isMoment(Fe)?Fe:createLocal(Fe);return this.isValid()&&tn.isValid()?(en=normalizeUnits(en)||"millisecond",en==="millisecond"?this.valueOf()>tn.valueOf():tn.valueOf()<this.clone().startOf(en).valueOf()):!1}function isBefore(Fe,en){var tn=isMoment(Fe)?Fe:createLocal(Fe);return this.isValid()&&tn.isValid()?(en=normalizeUnits(en)||"millisecond",en==="millisecond"?this.valueOf()<tn.valueOf():this.clone().endOf(en).valueOf()<tn.valueOf()):!1}function isBetween(Fe,en,tn,nn){var rn=isMoment(Fe)?Fe:createLocal(Fe),an=isMoment(en)?en:createLocal(en);return this.isValid()&&rn.isValid()&&an.isValid()?(nn=nn||"()",(nn[0]==="("?this.isAfter(rn,tn):!this.isBefore(rn,tn))&&(nn[1]===")"?this.isBefore(an,tn):!this.isAfter(an,tn))):!1}function isSame(Fe,en){var tn=isMoment(Fe)?Fe:createLocal(Fe),nn;return this.isValid()&&tn.isValid()?(en=normalizeUnits(en)||"millisecond",en==="millisecond"?this.valueOf()===tn.valueOf():(nn=tn.valueOf(),this.clone().startOf(en).valueOf()<=nn&&nn<=this.clone().endOf(en).valueOf())):!1}function isSameOrAfter(Fe,en){return this.isSame(Fe,en)||this.isAfter(Fe,en)}function isSameOrBefore(Fe,en){return this.isSame(Fe,en)||this.isBefore(Fe,en)}function diff(Fe,en,tn){var nn,rn,an;if(!this.isValid())return NaN;if(nn=cloneWithOffset(Fe,this),!nn.isValid())return NaN;switch(rn=(nn.utcOffset()-this.utcOffset())*6e4,en=normalizeUnits(en),en){case"year":an=monthDiff(this,nn)/12;break;case"month":an=monthDiff(this,nn);break;case"quarter":an=monthDiff(this,nn)/3;break;case"second":an=(this-nn)/1e3;break;case"minute":an=(this-nn)/6e4;break;case"hour":an=(this-nn)/36e5;break;case"day":an=(this-nn-rn)/864e5;break;case"week":an=(this-nn-rn)/6048e5;break;default:an=this-nn}return tn?an:absFloor(an)}function monthDiff(Fe,en){if(Fe.date()<en.date())return-monthDiff(en,Fe);var tn=(en.year()-Fe.year())*12+(en.month()-Fe.month()),nn=Fe.clone().add(tn,"months"),rn,an;return en-nn<0?(rn=Fe.clone().add(tn-1,"months"),an=(en-nn)/(nn-rn)):(rn=Fe.clone().add(tn+1,"months"),an=(en-nn)/(rn-nn)),-(tn+an)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(Fe){if(!this.isValid())return null;var en=Fe!==!0,tn=en?this.clone().utc():this;return tn.year()<0||tn.year()>9999?formatMoment(tn,en?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$1(Date.prototype.toISOString)?en?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(tn,"Z")):formatMoment(tn,en?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Fe="moment",en="",tn,nn,rn,an;return this.isLocal()||(Fe=this.utcOffset()===0?"moment.utc":"moment.parseZone",en="Z"),tn="["+Fe+'("]',nn=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",rn="-MM-DD[T]HH:mm:ss.SSS",an=en+'[")]',this.format(tn+nn+rn+an)}function format$2(Fe){Fe||(Fe=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var en=formatMoment(this,Fe);return this.localeData().postformat(en)}function from(Fe,en){return this.isValid()&&(isMoment(Fe)&&Fe.isValid()||createLocal(Fe).isValid())?createDuration({to:this,from:Fe}).locale(this.locale()).humanize(!en):this.localeData().invalidDate()}function fromNow(Fe){return this.from(createLocal(),Fe)}function to(Fe,en){return this.isValid()&&(isMoment(Fe)&&Fe.isValid()||createLocal(Fe).isValid())?createDuration({from:this,to:Fe}).locale(this.locale()).humanize(!en):this.localeData().invalidDate()}function toNow(Fe){return this.to(createLocal(),Fe)}function locale(Fe){var en;return Fe===void 0?this._locale._abbr:(en=getLocale(Fe),en!=null&&(this._locale=en),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Fe){return Fe===void 0?this.localeData():this.locale(Fe)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(Fe,en){return(Fe%en+en)%en}function localStartOfDate(Fe,en,tn){return Fe<100&&Fe>=0?new Date(Fe+400,en,tn)-MS_PER_400_YEARS:new Date(Fe,en,tn).valueOf()}function utcStartOfDate(Fe,en,tn){return Fe<100&&Fe>=0?Date.UTC(Fe+400,en,tn)-MS_PER_400_YEARS:Date.UTC(Fe,en,tn)}function startOf(Fe){var en,tn;if(Fe=normalizeUnits(Fe),Fe===void 0||Fe==="millisecond"||!this.isValid())return this;switch(tn=this._isUTC?utcStartOfDate:localStartOfDate,Fe){case"year":en=tn(this.year(),0,1);break;case"quarter":en=tn(this.year(),this.month()-this.month()%3,1);break;case"month":en=tn(this.year(),this.month(),1);break;case"week":en=tn(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":en=tn(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":en=tn(this.year(),this.month(),this.date());break;case"hour":en=this._d.valueOf(),en-=mod$1(en+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":en=this._d.valueOf(),en-=mod$1(en,MS_PER_MINUTE);break;case"second":en=this._d.valueOf(),en-=mod$1(en,MS_PER_SECOND);break}return this._d.setTime(en),hooks.updateOffset(this,!0),this}function endOf(Fe){var en,tn;if(Fe=normalizeUnits(Fe),Fe===void 0||Fe==="millisecond"||!this.isValid())return this;switch(tn=this._isUTC?utcStartOfDate:localStartOfDate,Fe){case"year":en=tn(this.year()+1,0,1)-1;break;case"quarter":en=tn(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":en=tn(this.year(),this.month()+1,1)-1;break;case"week":en=tn(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":en=tn(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":en=tn(this.year(),this.month(),this.date()+1)-1;break;case"hour":en=this._d.valueOf(),en+=MS_PER_HOUR-mod$1(en+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":en=this._d.valueOf(),en+=MS_PER_MINUTE-mod$1(en,MS_PER_MINUTE)-1;break;case"second":en=this._d.valueOf(),en+=MS_PER_SECOND-mod$1(en,MS_PER_SECOND)-1;break}return this._d.setTime(en),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var Fe=this;return[Fe.year(),Fe.month(),Fe.date(),Fe.hour(),Fe.minute(),Fe.second(),Fe.millisecond()]}function toObject(){var Fe=this;return{years:Fe.year(),months:Fe.month(),date:Fe.date(),hours:Fe.hours(),minutes:Fe.minutes(),seconds:Fe.seconds(),milliseconds:Fe.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$3({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(Fe,en,tn,nn){var rn=tn._locale.erasParse(Fe,nn,tn._strict);rn?getParsingFlags(tn).era=rn:getParsingFlags(tn).invalidEra=Fe});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(Fe,en,tn,nn){var rn;tn._locale._eraYearOrdinalRegex&&(rn=Fe.match(tn._locale._eraYearOrdinalRegex)),tn._locale.eraYearOrdinalParse?en[YEAR]=tn._locale.eraYearOrdinalParse(Fe,rn):en[YEAR]=parseInt(Fe,10)});function localeEras(Fe,en){var tn,nn,rn,an=this._eras||getLocale("en")._eras;for(tn=0,nn=an.length;tn<nn;++tn){switch(typeof an[tn].since){case"string":rn=hooks(an[tn].since).startOf("day"),an[tn].since=rn.valueOf();break}switch(typeof an[tn].until){case"undefined":an[tn].until=1/0;break;case"string":rn=hooks(an[tn].until).startOf("day").valueOf(),an[tn].until=rn.valueOf();break}}return an}function localeErasParse(Fe,en,tn){var nn,rn,an=this.eras(),ln,cn,un;for(Fe=Fe.toUpperCase(),nn=0,rn=an.length;nn<rn;++nn)if(ln=an[nn].name.toUpperCase(),cn=an[nn].abbr.toUpperCase(),un=an[nn].narrow.toUpperCase(),tn)switch(en){case"N":case"NN":case"NNN":if(cn===Fe)return an[nn];break;case"NNNN":if(ln===Fe)return an[nn];break;case"NNNNN":if(un===Fe)return an[nn];break}else if([ln,cn,un].indexOf(Fe)>=0)return an[nn]}function localeErasConvertYear(Fe,en){var tn=Fe.since<=Fe.until?1:-1;return en===void 0?hooks(Fe.since).year():hooks(Fe.since).year()+(en-Fe.offset)*tn}function getEraName(){var Fe,en,tn,nn=this.localeData().eras();for(Fe=0,en=nn.length;Fe<en;++Fe)if(tn=this.clone().startOf("day").valueOf(),nn[Fe].since<=tn&&tn<=nn[Fe].until||nn[Fe].until<=tn&&tn<=nn[Fe].since)return nn[Fe].name;return""}function getEraNarrow(){var Fe,en,tn,nn=this.localeData().eras();for(Fe=0,en=nn.length;Fe<en;++Fe)if(tn=this.clone().startOf("day").valueOf(),nn[Fe].since<=tn&&tn<=nn[Fe].until||nn[Fe].until<=tn&&tn<=nn[Fe].since)return nn[Fe].narrow;return""}function getEraAbbr(){var Fe,en,tn,nn=this.localeData().eras();for(Fe=0,en=nn.length;Fe<en;++Fe)if(tn=this.clone().startOf("day").valueOf(),nn[Fe].since<=tn&&tn<=nn[Fe].until||nn[Fe].until<=tn&&tn<=nn[Fe].since)return nn[Fe].abbr;return""}function getEraYear(){var Fe,en,tn,nn,rn=this.localeData().eras();for(Fe=0,en=rn.length;Fe<en;++Fe)if(tn=rn[Fe].since<=rn[Fe].until?1:-1,nn=this.clone().startOf("day").valueOf(),rn[Fe].since<=nn&&nn<=rn[Fe].until||rn[Fe].until<=nn&&nn<=rn[Fe].since)return(this.year()-hooks(rn[Fe].since).year())*tn+rn[Fe].offset;return this.year()}function erasNameRegex(Fe){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),Fe?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(Fe){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),Fe?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(Fe){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),Fe?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(Fe,en){return en.erasAbbrRegex(Fe)}function matchEraName(Fe,en){return en.erasNameRegex(Fe)}function matchEraNarrow(Fe,en){return en.erasNarrowRegex(Fe)}function matchEraYearOrdinal(Fe,en){return en._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var Fe=[],en=[],tn=[],nn=[],rn,an,ln=this.eras();for(rn=0,an=ln.length;rn<an;++rn)en.push(regexEscape(ln[rn].name)),Fe.push(regexEscape(ln[rn].abbr)),tn.push(regexEscape(ln[rn].narrow)),nn.push(regexEscape(ln[rn].name)),nn.push(regexEscape(ln[rn].abbr)),nn.push(regexEscape(ln[rn].narrow));this._erasRegex=new RegExp("^("+nn.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+en.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+Fe.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+tn.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(Fe,en){addFormatToken(0,[Fe,Fe.length],0,en)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(Fe,en,tn,nn){en[nn.substr(0,2)]=toInt(Fe)});addWeekParseToken(["gg","GG"],function(Fe,en,tn,nn){en[nn]=hooks.parseTwoDigitYear(Fe)});function getSetWeekYear(Fe){return getSetWeekYearHelper.call(this,Fe,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(Fe){return getSetWeekYearHelper.call(this,Fe,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var Fe=this.localeData()._week;return weeksInYear(this.year(),Fe.dow,Fe.doy)}function getWeeksInWeekYear(){var Fe=this.localeData()._week;return weeksInYear(this.weekYear(),Fe.dow,Fe.doy)}function getSetWeekYearHelper(Fe,en,tn,nn,rn){var an;return Fe==null?weekOfYear(this,nn,rn).year:(an=weeksInYear(Fe,nn,rn),en>an&&(en=an),setWeekAll.call(this,Fe,en,tn,nn,rn))}function setWeekAll(Fe,en,tn,nn,rn){var an=dayOfYearFromWeeks(Fe,en,tn,nn,rn),ln=createUTCDate(an.year,0,an.dayOfYear);return this.year(ln.getUTCFullYear()),this.month(ln.getUTCMonth()),this.date(ln.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(Fe,en){en[MONTH]=(toInt(Fe)-1)*3});function getSetQuarter(Fe){return Fe==null?Math.ceil((this.month()+1)/3):this.month((Fe-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(Fe,en){return Fe?en._dayOfMonthOrdinalParse||en._ordinalParse:en._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(Fe,en){en[DATE]=toInt(Fe.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(Fe,en,tn){tn._dayOfYear=toInt(Fe)});function getSetDayOfYear(Fe){var en=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return Fe==null?en:this.add(Fe-en,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(Fe,en){en[MILLISECOND]=toInt(("0."+Fe)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto$1=Moment.prototype;proto$1.add=add$2;proto$1.calendar=calendar$1;proto$1.clone=clone$6;proto$1.diff=diff;proto$1.endOf=endOf;proto$1.format=format$2;proto$1.from=from;proto$1.fromNow=fromNow;proto$1.to=to;proto$1.toNow=toNow;proto$1.get=stringGet;proto$1.invalidAt=invalidAt;proto$1.isAfter=isAfter;proto$1.isBefore=isBefore;proto$1.isBetween=isBetween;proto$1.isSame=isSame;proto$1.isSameOrAfter=isSameOrAfter;proto$1.isSameOrBefore=isSameOrBefore;proto$1.isValid=isValid$2;proto$1.lang=lang;proto$1.locale=locale;proto$1.localeData=localeData;proto$1.max=prototypeMax;proto$1.min=prototypeMin;proto$1.parsingFlags=parsingFlags;proto$1.set=stringSet;proto$1.startOf=startOf;proto$1.subtract=subtract;proto$1.toArray=toArray;proto$1.toObject=toObject;proto$1.toDate=toDate;proto$1.toISOString=toISOString;proto$1.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto$1[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto$1.toJSON=toJSON;proto$1.toString=toString;proto$1.unix=unix;proto$1.valueOf=valueOf;proto$1.creationData=creationData;proto$1.eraName=getEraName;proto$1.eraNarrow=getEraNarrow;proto$1.eraAbbr=getEraAbbr;proto$1.eraYear=getEraYear;proto$1.year=getSetYear;proto$1.isLeapYear=getIsLeapYear;proto$1.weekYear=getSetWeekYear;proto$1.isoWeekYear=getSetISOWeekYear;proto$1.quarter=proto$1.quarters=getSetQuarter;proto$1.month=getSetMonth;proto$1.daysInMonth=getDaysInMonth;proto$1.week=proto$1.weeks=getSetWeek;proto$1.isoWeek=proto$1.isoWeeks=getSetISOWeek;proto$1.weeksInYear=getWeeksInYear;proto$1.weeksInWeekYear=getWeeksInWeekYear;proto$1.isoWeeksInYear=getISOWeeksInYear;proto$1.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto$1.date=getSetDayOfMonth;proto$1.day=proto$1.days=getSetDayOfWeek;proto$1.weekday=getSetLocaleDayOfWeek;proto$1.isoWeekday=getSetISODayOfWeek;proto$1.dayOfYear=getSetDayOfYear;proto$1.hour=proto$1.hours=getSetHour;proto$1.minute=proto$1.minutes=getSetMinute;proto$1.second=proto$1.seconds=getSetSecond;proto$1.millisecond=proto$1.milliseconds=getSetMillisecond;proto$1.utcOffset=getSetOffset;proto$1.utc=setOffsetToUTC;proto$1.local=setOffsetToLocal;proto$1.parseZone=setOffsetToParsedOffset;proto$1.hasAlignedHourOffset=hasAlignedHourOffset;proto$1.isDST=isDaylightSavingTime;proto$1.isLocal=isLocal;proto$1.isUtcOffset=isUtcOffset;proto$1.isUtc=isUtc;proto$1.isUTC=isUtc;proto$1.zoneAbbr=getZoneAbbr;proto$1.zoneName=getZoneName;proto$1.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto$1.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto$1.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto$1.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto$1.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(Fe){return createLocal(Fe*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(Fe){return Fe}var proto$1$1=Locale.prototype;proto$1$1.calendar=calendar;proto$1$1.longDateFormat=longDateFormat;proto$1$1.invalidDate=invalidDate;proto$1$1.ordinal=ordinal;proto$1$1.preparse=preParsePostFormat;proto$1$1.postformat=preParsePostFormat;proto$1$1.relativeTime=relativeTime;proto$1$1.pastFuture=pastFuture;proto$1$1.set=set$3;proto$1$1.eras=localeEras;proto$1$1.erasParse=localeErasParse;proto$1$1.erasConvertYear=localeErasConvertYear;proto$1$1.erasAbbrRegex=erasAbbrRegex;proto$1$1.erasNameRegex=erasNameRegex;proto$1$1.erasNarrowRegex=erasNarrowRegex;proto$1$1.months=localeMonths;proto$1$1.monthsShort=localeMonthsShort;proto$1$1.monthsParse=localeMonthsParse;proto$1$1.monthsRegex=monthsRegex;proto$1$1.monthsShortRegex=monthsShortRegex;proto$1$1.week=localeWeek;proto$1$1.firstDayOfYear=localeFirstDayOfYear;proto$1$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1$1.weekdays=localeWeekdays;proto$1$1.weekdaysMin=localeWeekdaysMin;proto$1$1.weekdaysShort=localeWeekdaysShort;proto$1$1.weekdaysParse=localeWeekdaysParse;proto$1$1.weekdaysRegex=weekdaysRegex;proto$1$1.weekdaysShortRegex=weekdaysShortRegex;proto$1$1.weekdaysMinRegex=weekdaysMinRegex;proto$1$1.isPM=localeIsPM;proto$1$1.meridiem=localeMeridiem;function get$1$2(Fe,en,tn,nn){var rn=getLocale(),an=createUTC().set(nn,en);return rn[tn](an,Fe)}function listMonthsImpl(Fe,en,tn){if(isNumber$1(Fe)&&(en=Fe,Fe=void 0),Fe=Fe||"",en!=null)return get$1$2(Fe,en,tn,"month");var nn,rn=[];for(nn=0;nn<12;nn++)rn[nn]=get$1$2(Fe,nn,tn,"month");return rn}function listWeekdaysImpl(Fe,en,tn,nn){typeof Fe=="boolean"?(isNumber$1(en)&&(tn=en,en=void 0),en=en||""):(en=Fe,tn=en,Fe=!1,isNumber$1(en)&&(tn=en,en=void 0),en=en||"");var rn=getLocale(),an=Fe?rn._week.dow:0,ln,cn=[];if(tn!=null)return get$1$2(en,(tn+an)%7,nn,"day");for(ln=0;ln<7;ln++)cn[ln]=get$1$2(en,(ln+an)%7,nn,"day");return cn}function listMonths(Fe,en){return listMonthsImpl(Fe,en,"months")}function listMonthsShort(Fe,en){return listMonthsImpl(Fe,en,"monthsShort")}function listWeekdays(Fe,en,tn){return listWeekdaysImpl(Fe,en,tn,"weekdays")}function listWeekdaysShort(Fe,en,tn){return listWeekdaysImpl(Fe,en,tn,"weekdaysShort")}function listWeekdaysMin(Fe,en,tn){return listWeekdaysImpl(Fe,en,tn,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Fe){var en=Fe%10,tn=toInt(Fe%100/10)===1?"th":en===1?"st":en===2?"nd":en===3?"rd":"th";return Fe+tn}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs$3=Math.abs;function abs$1(){var Fe=this._data;return this._milliseconds=mathAbs$3(this._milliseconds),this._days=mathAbs$3(this._days),this._months=mathAbs$3(this._months),Fe.milliseconds=mathAbs$3(Fe.milliseconds),Fe.seconds=mathAbs$3(Fe.seconds),Fe.minutes=mathAbs$3(Fe.minutes),Fe.hours=mathAbs$3(Fe.hours),Fe.months=mathAbs$3(Fe.months),Fe.years=mathAbs$3(Fe.years),this}function addSubtract$1(Fe,en,tn,nn){var rn=createDuration(en,tn);return Fe._milliseconds+=nn*rn._milliseconds,Fe._days+=nn*rn._days,Fe._months+=nn*rn._months,Fe._bubble()}function add$1$1(Fe,en){return addSubtract$1(this,Fe,en,1)}function subtract$1(Fe,en){return addSubtract$1(this,Fe,en,-1)}function absCeil(Fe){return Fe<0?Math.floor(Fe):Math.ceil(Fe)}function bubble(){var Fe=this._milliseconds,en=this._days,tn=this._months,nn=this._data,rn,an,ln,cn,un;return Fe>=0&&en>=0&&tn>=0||Fe<=0&&en<=0&&tn<=0||(Fe+=absCeil(monthsToDays(tn)+en)*864e5,en=0,tn=0),nn.milliseconds=Fe%1e3,rn=absFloor(Fe/1e3),nn.seconds=rn%60,an=absFloor(rn/60),nn.minutes=an%60,ln=absFloor(an/60),nn.hours=ln%24,en+=absFloor(ln/24),un=absFloor(daysToMonths(en)),tn+=un,en-=absCeil(monthsToDays(un)),cn=absFloor(tn/12),tn%=12,nn.days=en,nn.months=tn,nn.years=cn,this}function daysToMonths(Fe){return Fe*4800/146097}function monthsToDays(Fe){return Fe*146097/4800}function as(Fe){if(!this.isValid())return NaN;var en,tn,nn=this._milliseconds;if(Fe=normalizeUnits(Fe),Fe==="month"||Fe==="quarter"||Fe==="year")switch(en=this._days+nn/864e5,tn=this._months+daysToMonths(en),Fe){case"month":return tn;case"quarter":return tn/3;case"year":return tn/12}else switch(en=this._days+Math.round(monthsToDays(this._months)),Fe){case"week":return en/7+nn/6048e5;case"day":return en+nn/864e5;case"hour":return en*24+nn/36e5;case"minute":return en*1440+nn/6e4;case"second":return en*86400+nn/1e3;case"millisecond":return Math.floor(en*864e5)+nn;default:throw new Error("Unknown unit "+Fe)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(Fe){return function(){return this.as(Fe)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1$1(){return createDuration(this)}function get$2$1(Fe){return Fe=normalizeUnits(Fe),this.isValid()?this[Fe+"s"]():NaN}function makeGetter(Fe){return function(){return this.isValid()?this._data[Fe]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$4=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(Fe,en,tn,nn,rn){return rn.relativeTime(en||1,!!tn,Fe,nn)}function relativeTime$1(Fe,en,tn,nn){var rn=createDuration(Fe).abs(),an=round$4(rn.as("s")),ln=round$4(rn.as("m")),cn=round$4(rn.as("h")),un=round$4(rn.as("d")),fn=round$4(rn.as("M")),hn=round$4(rn.as("w")),pn=round$4(rn.as("y")),gn=an<=tn.ss&&["s",an]||an<tn.s&&["ss",an]||ln<=1&&["m"]||ln<tn.m&&["mm",ln]||cn<=1&&["h"]||cn<tn.h&&["hh",cn]||un<=1&&["d"]||un<tn.d&&["dd",un];return tn.w!=null&&(gn=gn||hn<=1&&["w"]||hn<tn.w&&["ww",hn]),gn=gn||fn<=1&&["M"]||fn<tn.M&&["MM",fn]||pn<=1&&["y"]||["yy",pn],gn[2]=en,gn[3]=+Fe>0,gn[4]=nn,substituteTimeAgo.apply(null,gn)}function getSetRelativeTimeRounding(Fe){return Fe===void 0?round$4:typeof Fe=="function"?(round$4=Fe,!0):!1}function getSetRelativeTimeThreshold(Fe,en){return thresholds[Fe]===void 0?!1:en===void 0?thresholds[Fe]:(thresholds[Fe]=en,Fe==="s"&&(thresholds.ss=en-1),!0)}function humanize(Fe,en){if(!this.isValid())return this.localeData().invalidDate();var tn=!1,nn=thresholds,rn,an;return typeof Fe=="object"&&(en=Fe,Fe=!1),typeof Fe=="boolean"&&(tn=Fe),typeof en=="object"&&(nn=Object.assign({},thresholds,en),en.s!=null&&en.ss==null&&(nn.ss=en.s-1)),rn=this.localeData(),an=relativeTime$1(this,!tn,nn,rn),tn&&(an=rn.pastFuture(+this,an)),rn.postformat(an)}var abs$1$1=Math.abs;function sign(Fe){return(Fe>0)-(Fe<0)||+Fe}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var Fe=abs$1$1(this._milliseconds)/1e3,en=abs$1$1(this._days),tn=abs$1$1(this._months),nn,rn,an,ln,cn=this.asSeconds(),un,fn,hn,pn;return cn?(nn=absFloor(Fe/60),rn=absFloor(nn/60),Fe%=60,nn%=60,an=absFloor(tn/12),tn%=12,ln=Fe?Fe.toFixed(3).replace(/\.?0+$/,""):"",un=cn<0?"-":"",fn=sign(this._months)!==sign(cn)?"-":"",hn=sign(this._days)!==sign(cn)?"-":"",pn=sign(this._milliseconds)!==sign(cn)?"-":"",un+"P"+(an?fn+an+"Y":"")+(tn?fn+tn+"M":"")+(en?hn+en+"D":"")+(rn||nn||Fe?"T":"")+(rn?pn+rn+"H":"")+(nn?pn+nn+"M":"")+(Fe?pn+ln+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs$1;proto$2.add=add$1$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(Fe,en,tn){tn._d=new Date(parseFloat(Fe)*1e3)});addParseToken("x",function(Fe,en,tn){tn._d=new Date(toInt(Fe))});//! moment.js
hooks.version="2.29.4";setHookCallback(createLocal);hooks.fn=proto$1;hooks.min=min$2;hooks.max=max$2;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto$1;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const moment$1=Object.freeze(Object.defineProperty({__proto__:null,default:hooks},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(moment$1);/**
* @version: 3.1
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: http://www.daterangepicker.com/
*/(function(Fe){(function(en,tn){if(Fe.exports){var nn=typeof window<"u"?window.jQuery:void 0;nn||(nn=jqueryExports,nn.fn||(nn.fn={}));var rn=typeof window<"u"&&typeof window.moment<"u"?window.moment:require$$1;Fe.exports=tn(rn,nn)}else en.daterangepicker=tn(en.moment,en.jQuery)})(commonjsGlobal,function(en,tn){var nn=function(rn,an,ln){if(this.parentEl="body",this.element=tn(rn),this.startDate=en().startOf("day"),this.endDate=en().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=en().subtract(100,"year").format("YYYY"),this.maxYear=en().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:en.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:en.weekdaysMin(),monthNames:en.monthsShort(),firstDay:en.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},(typeof an!="object"||an===null)&&(an={}),an=tn.extend(this.element.data(),an),typeof an.template!="string"&&!(an.template instanceof tn)&&(an.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=an.parentEl&&tn(an.parentEl).length?tn(an.parentEl):tn(this.parentEl),this.container=tn(an.template).appendTo(this.parentEl),typeof an.locale=="object"&&(typeof an.locale.direction=="string"&&(this.locale.direction=an.locale.direction),typeof an.locale.format=="string"&&(this.locale.format=an.locale.format),typeof an.locale.separator=="string"&&(this.locale.separator=an.locale.separator),typeof an.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=an.locale.daysOfWeek.slice()),typeof an.locale.monthNames=="object"&&(this.locale.monthNames=an.locale.monthNames.slice()),typeof an.locale.firstDay=="number"&&(this.locale.firstDay=an.locale.firstDay),typeof an.locale.applyLabel=="string"&&(this.locale.applyLabel=an.locale.applyLabel),typeof an.locale.cancelLabel=="string"&&(this.locale.cancelLabel=an.locale.cancelLabel),typeof an.locale.weekLabel=="string"&&(this.locale.weekLabel=an.locale.weekLabel),typeof an.locale.customRangeLabel=="string")){var cn=document.createElement("textarea");cn.innerHTML=an.locale.customRangeLabel;var un=cn.value;this.locale.customRangeLabel=un}if(this.container.addClass(this.locale.direction),typeof an.startDate=="string"&&(this.startDate=en(an.startDate,this.locale.format)),typeof an.endDate=="string"&&(this.endDate=en(an.endDate,this.locale.format)),typeof an.minDate=="string"&&(this.minDate=en(an.minDate,this.locale.format)),typeof an.maxDate=="string"&&(this.maxDate=en(an.maxDate,this.locale.format)),typeof an.startDate=="object"&&(this.startDate=en(an.startDate)),typeof an.endDate=="object"&&(this.endDate=en(an.endDate)),typeof an.minDate=="object"&&(this.minDate=en(an.minDate)),typeof an.maxDate=="object"&&(this.maxDate=en(an.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),typeof an.applyButtonClasses=="string"&&(this.applyButtonClasses=an.applyButtonClasses),typeof an.applyClass=="string"&&(this.applyButtonClasses=an.applyClass),typeof an.cancelButtonClasses=="string"&&(this.cancelButtonClasses=an.cancelButtonClasses),typeof an.cancelClass=="string"&&(this.cancelButtonClasses=an.cancelClass),typeof an.maxSpan=="object"&&(this.maxSpan=an.maxSpan),typeof an.dateLimit=="object"&&(this.maxSpan=an.dateLimit),typeof an.opens=="string"&&(this.opens=an.opens),typeof an.drops=="string"&&(this.drops=an.drops),typeof an.showWeekNumbers=="boolean"&&(this.showWeekNumbers=an.showWeekNumbers),typeof an.showISOWeekNumbers=="boolean"&&(this.showISOWeekNumbers=an.showISOWeekNumbers),typeof an.buttonClasses=="string"&&(this.buttonClasses=an.buttonClasses),typeof an.buttonClasses=="object"&&(this.buttonClasses=an.buttonClasses.join(" ")),typeof an.showDropdowns=="boolean"&&(this.showDropdowns=an.showDropdowns),typeof an.minYear=="number"&&(this.minYear=an.minYear),typeof an.maxYear=="number"&&(this.maxYear=an.maxYear),typeof an.showCustomRangeLabel=="boolean"&&(this.showCustomRangeLabel=an.showCustomRangeLabel),typeof an.singleDatePicker=="boolean"&&(this.singleDatePicker=an.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof an.timePicker=="boolean"&&(this.timePicker=an.timePicker),typeof an.timePickerSeconds=="boolean"&&(this.timePickerSeconds=an.timePickerSeconds),typeof an.timePickerIncrement=="number"&&(this.timePickerIncrement=an.timePickerIncrement),typeof an.timePicker24Hour=="boolean"&&(this.timePicker24Hour=an.timePicker24Hour),typeof an.autoApply=="boolean"&&(this.autoApply=an.autoApply),typeof an.autoUpdateInput=="boolean"&&(this.autoUpdateInput=an.autoUpdateInput),typeof an.linkedCalendars=="boolean"&&(this.linkedCalendars=an.linkedCalendars),typeof an.isInvalidDate=="function"&&(this.isInvalidDate=an.isInvalidDate),typeof an.isCustomDate=="function"&&(this.isCustomDate=an.isCustomDate),typeof an.alwaysShowCalendars=="boolean"&&(this.alwaysShowCalendars=an.alwaysShowCalendars),this.locale.firstDay!=0)for(var fn=this.locale.firstDay;fn>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),fn--;var hn,pn,gn;if(typeof an.startDate>"u"&&typeof an.endDate>"u"&&tn(this.element).is(":text")){var mn=tn(this.element).val(),_n=mn.split(this.locale.separator);hn=pn=null,_n.length==2?(hn=en(_n[0],this.locale.format),pn=en(_n[1],this.locale.format)):this.singleDatePicker&&mn!==""&&(hn=en(mn,this.locale.format),pn=en(mn,this.locale.format)),hn!==null&&pn!==null&&(this.setStartDate(hn),this.setEndDate(pn))}if(typeof an.ranges=="object"){for(gn in an.ranges){typeof an.ranges[gn][0]=="string"?hn=en(an.ranges[gn][0],this.locale.format):hn=en(an.ranges[gn][0]),typeof an.ranges[gn][1]=="string"?pn=en(an.ranges[gn][1],this.locale.format):pn=en(an.ranges[gn][1]),this.minDate&&hn.isBefore(this.minDate)&&(hn=this.minDate.clone());var kn=this.maxDate;if(this.maxSpan&&kn&&hn.clone().add(this.maxSpan).isAfter(kn)&&(kn=hn.clone().add(this.maxSpan)),kn&&pn.isAfter(kn)&&(pn=kn.clone()),!(this.minDate&&pn.isBefore(this.minDate,this.timepicker?"minute":"day")||kn&&hn.isAfter(kn,this.timepicker?"minute":"day"))){var cn=document.createElement("textarea");cn.innerHTML=gn;var un=cn.value;this.ranges[un]=[hn,pn]}}var Cn="<ul>";for(gn in this.ranges)Cn+='<li data-range-key="'+gn+'">'+gn+"</li>";this.showCustomRangeLabel&&(Cn+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),Cn+="</ul>",this.container.find(".ranges").prepend(Cn)}typeof ln=="function"&&(this.callback=ln),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),typeof an.ranges=="object"&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(typeof an.ranges>"u"&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",tn.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",tn.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",tn.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",tn.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",tn.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",tn.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",tn.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",tn.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",tn.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",tn.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":tn.proxy(this.show,this),"focus.daterangepicker":tn.proxy(this.show,this),"keyup.daterangepicker":tn.proxy(this.elementChanged,this),"keydown.daterangepicker":tn.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",tn.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",tn.proxy(this.toggle,this))),this.updateElement()};return nn.prototype={constructor:nn,setStartDate:function(rn){typeof rn=="string"&&(this.startDate=en(rn,this.locale.format)),typeof rn=="object"&&(this.startDate=en(rn)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(rn){typeof rn=="string"&&(this.endDate=en(rn,this.locale.format)),typeof rn=="object"&&(this.endDate=en(rn)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),!this.linkedCalendars&&(this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year())?this.rightCalendar.month=this.endDate.clone().date(2):this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var rn,an,ln;if(this.endDate){if(rn=parseInt(this.container.find(".left .hourselect").val(),10),an=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(an)&&(an=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),ln=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var cn=this.container.find(".left .ampmselect").val();cn==="PM"&&rn<12&&(rn+=12),cn==="AM"&&rn===12&&(rn=0)}}else if(rn=parseInt(this.container.find(".right .hourselect").val(),10),an=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(an)&&(an=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),ln=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var cn=this.container.find(".right .ampmselect").val();cn==="PM"&&rn<12&&(rn+=12),cn==="AM"&&rn===12&&(rn=0)}this.leftCalendar.month.hour(rn).minute(an).second(ln),this.rightCalendar.month.hour(rn).minute(an).second(ln)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),this.endDate!=null&&this.calculateChosenLabel()},renderCalendar:function(rn){var xn=rn=="left"?this.leftCalendar:this.rightCalendar,an=xn.month.month(),ln=xn.month.year(),cn=xn.month.hour(),un=xn.month.minute(),fn=xn.month.second(),hn=en([ln,an]).daysInMonth(),pn=en([ln,an,1]),gn=en([ln,an,hn]),mn=en(pn).subtract(1,"month").month(),_n=en(pn).subtract(1,"month").year(),kn=en([_n,mn]).daysInMonth(),Cn=pn.day(),xn=[];xn.firstDay=pn,xn.lastDay=gn;for(var Sn=0;Sn<6;Sn++)xn[Sn]=[];var Mn=kn-Cn+this.locale.firstDay+1;Mn>kn&&(Mn-=7),Cn==this.locale.firstDay&&(Mn=kn-6);for(var In=en([_n,mn,Mn,12,un,fn]),On,Pn,Sn=0,On=0,Pn=0;Sn<42;Sn++,On++,In=en(In).add(24,"hour"))Sn>0&&On%7===0&&(On=0,Pn++),xn[Pn][On]=In.clone().hour(cn).minute(un).second(fn),In.hour(12),this.minDate&&xn[Pn][On].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&xn[Pn][On].isBefore(this.minDate)&&rn=="left"&&(xn[Pn][On]=this.minDate.clone()),this.maxDate&&xn[Pn][On].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&xn[Pn][On].isAfter(this.maxDate)&&rn=="right"&&(xn[Pn][On]=this.maxDate.clone());rn=="left"?this.leftCalendar.calendar=xn:this.rightCalendar.calendar=xn;var Tn=rn=="left"?this.minDate:this.startDate,Nn=this.maxDate;rn=="left"?this.startDate:this.endDate,this.locale.direction=="ltr";var Hn='<table class="table-condensed">';Hn+="<thead>",Hn+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Hn+="<th></th>"),(!Tn||Tn.isBefore(xn.firstDay))&&(!this.linkedCalendars||rn=="left")?Hn+='<th class="prev available"><span></span></th>':Hn+="<th></th>";var Un=this.locale.monthNames[xn[1][1].month()]+xn[1][1].format(" YYYY");if(this.showDropdowns){for(var jn=xn[1][1].month(),Yn=xn[1][1].year(),Wn=Nn&&Nn.year()||this.maxYear,Qn=Tn&&Tn.year()||this.minYear,Xn=Yn==Qn,jr=Yn==Wn,Wr='<select class="monthselect">',Jr=0;Jr<12;Jr++)(!Xn||Tn&&Jr>=Tn.month())&&(!jr||Nn&&Jr<=Nn.month())?Wr+="<option value='"+Jr+"'"+(Jr===jn?" selected='selected'":"")+">"+this.locale.monthNames[Jr]+"</option>":Wr+="<option value='"+Jr+"'"+(Jr===jn?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[Jr]+"</option>";Wr+="</select>";for(var ci='<select class="yearselect">',ti=Qn;ti<=Wn;ti++)ci+='<option value="'+ti+'"'+(ti===Yn?' selected="selected"':"")+">"+ti+"</option>";ci+="</select>",Un=Wr+ci}if(Hn+='<th colspan="5" class="month">'+Un+"</th>",(!Nn||Nn.isAfter(xn.lastDay))&&(!this.linkedCalendars||rn=="right"||this.singleDatePicker)?Hn+='<th class="next available"><span></span></th>':Hn+="<th></th>",Hn+="</tr>",Hn+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Hn+='<th class="week">'+this.locale.weekLabel+"</th>"),tn.each(this.locale.daysOfWeek,function(ri,fi){Hn+="<th>"+fi+"</th>"}),Hn+="</tr>",Hn+="</thead>",Hn+="<tbody>",this.endDate==null&&this.maxSpan){var Zr=this.startDate.clone().add(this.maxSpan).endOf("day");(!Nn||Zr.isBefore(Nn))&&(Nn=Zr)}for(var Pn=0;Pn<6;Pn++){Hn+="<tr>",this.showWeekNumbers?Hn+='<td class="week">'+xn[Pn][0].week()+"</td>":this.showISOWeekNumbers&&(Hn+='<td class="week">'+xn[Pn][0].isoWeek()+"</td>");for(var On=0;On<7;On++){var Br=[];xn[Pn][On].isSame(new Date,"day")&&Br.push("today"),xn[Pn][On].isoWeekday()>5&&Br.push("weekend"),xn[Pn][On].month()!=xn[1][1].month()&&Br.push("off","ends"),this.minDate&&xn[Pn][On].isBefore(this.minDate,"day")&&Br.push("off","disabled"),Nn&&xn[Pn][On].isAfter(Nn,"day")&&Br.push("off","disabled"),this.isInvalidDate(xn[Pn][On])&&Br.push("off","disabled"),xn[Pn][On].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&Br.push("active","start-date"),this.endDate!=null&&xn[Pn][On].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&Br.push("active","end-date"),this.endDate!=null&&xn[Pn][On]>this.startDate&&xn[Pn][On]<this.endDate&&Br.push("in-range");var Jn=this.isCustomDate(xn[Pn][On]);Jn!==!1&&(typeof Jn=="string"?Br.push(Jn):Array.prototype.push.apply(Br,Jn));for(var oi="",pi=!1,Sn=0;Sn<Br.length;Sn++)oi+=Br[Sn]+" ",Br[Sn]=="disabled"&&(pi=!0);pi||(oi+="available"),Hn+='<td class="'+oi.replace(/^\s+|\s+$/g,"")+'" data-title="r'+Pn+"c"+On+'">'+xn[Pn][On].date()+"</td>"}Hn+="</tr>"}Hn+="</tbody>",Hn+="</table>",this.container.find(".drp-calendar."+rn+" .calendar-table").html(Hn)},renderTimePicker:function(rn){if(!(rn=="right"&&!this.endDate)){var an,ln,cn,un=this.maxDate;if(this.maxSpan&&(!this.maxDate||this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate))&&(un=this.startDate.clone().add(this.maxSpan)),rn=="left")ln=this.startDate.clone(),cn=this.minDate;else if(rn=="right"){ln=this.endDate.clone(),cn=this.startDate;var fn=this.container.find(".drp-calendar.right .calendar-time");if(fn.html()!=""&&(ln.hour(isNaN(ln.hour())?fn.find(".hourselect option:selected").val():ln.hour()),ln.minute(isNaN(ln.minute())?fn.find(".minuteselect option:selected").val():ln.minute()),ln.second(isNaN(ln.second())?fn.find(".secondselect option:selected").val():ln.second()),!this.timePicker24Hour)){var hn=fn.find(".ampmselect option:selected").val();hn==="PM"&&ln.hour()<12&&ln.hour(ln.hour()+12),hn==="AM"&&ln.hour()===12&&ln.hour(0)}ln.isBefore(this.startDate)&&(ln=this.startDate.clone()),un&&ln.isAfter(un)&&(ln=un.clone())}an='<select class="hourselect">';for(var pn=this.timePicker24Hour?0:1,gn=this.timePicker24Hour?23:12,mn=pn;mn<=gn;mn++){var _n=mn;this.timePicker24Hour||(_n=ln.hour()>=12?mn==12?12:mn+12:mn==12?0:mn);var kn=ln.clone().hour(_n),Cn=!1;cn&&kn.minute(59).isBefore(cn)&&(Cn=!0),un&&kn.minute(0).isAfter(un)&&(Cn=!0),_n==ln.hour()&&!Cn?an+='<option value="'+mn+'" selected="selected">'+mn+"</option>":Cn?an+='<option value="'+mn+'" disabled="disabled" class="disabled">'+mn+"</option>":an+='<option value="'+mn+'">'+mn+"</option>"}an+="</select> ",an+=': <select class="minuteselect">';for(var mn=0;mn<60;mn+=this.timePickerIncrement){var xn=mn<10?"0"+mn:mn,kn=ln.clone().minute(mn),Cn=!1;cn&&kn.second(59).isBefore(cn)&&(Cn=!0),un&&kn.second(0).isAfter(un)&&(Cn=!0),ln.minute()==mn&&!Cn?an+='<option value="'+mn+'" selected="selected">'+xn+"</option>":Cn?an+='<option value="'+mn+'" disabled="disabled" class="disabled">'+xn+"</option>":an+='<option value="'+mn+'">'+xn+"</option>"}if(an+="</select> ",this.timePickerSeconds){an+=': <select class="secondselect">';for(var mn=0;mn<60;mn++){var xn=mn<10?"0"+mn:mn,kn=ln.clone().second(mn),Cn=!1;cn&&kn.isBefore(cn)&&(Cn=!0),un&&kn.isAfter(un)&&(Cn=!0),ln.second()==mn&&!Cn?an+='<option value="'+mn+'" selected="selected">'+xn+"</option>":Cn?an+='<option value="'+mn+'" disabled="disabled" class="disabled">'+xn+"</option>":an+='<option value="'+mn+'">'+xn+"</option>"}an+="</select> "}if(!this.timePicker24Hour){an+='<select class="ampmselect">';var Sn="",Mn="";cn&&ln.clone().hour(12).minute(0).second(0).isBefore(cn)&&(Sn=' disabled="disabled" class="disabled"'),un&&ln.clone().hour(0).minute(0).second(0).isAfter(un)&&(Mn=' disabled="disabled" class="disabled"'),ln.hour()>=12?an+='<option value="AM"'+Sn+'>AM</option><option value="PM" selected="selected"'+Mn+">PM</option>":an+='<option value="AM" selected="selected"'+Sn+'>AM</option><option value="PM"'+Mn+">PM</option>",an+="</select>"}this.container.find(".drp-calendar."+rn+" .calendar-time").html(an)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var rn={top:0,left:0},an,ln=this.drops,cn=tn(window).width();switch(this.parentEl.is("body")||(rn={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},cn=this.parentEl[0].clientWidth+this.parentEl.offset().left),ln){case"auto":an=this.element.offset().top+this.element.outerHeight()-rn.top,an+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(an=this.element.offset().top-this.container.outerHeight()-rn.top,ln="up");break;case"up":an=this.element.offset().top-this.container.outerHeight()-rn.top;break;default:an=this.element.offset().top+this.element.outerHeight()-rn.top;break}this.container.css({top:0,left:0,right:"auto"});var un=this.container.outerWidth();if(this.container.toggleClass("drop-up",ln=="up"),this.opens=="left"){var fn=cn-this.element.offset().left-this.element.outerWidth();un+fn>tn(window).width()?this.container.css({top:an,right:"auto",left:9}):this.container.css({top:an,right:fn,left:"auto"})}else if(this.opens=="center"){var hn=this.element.offset().left-rn.left+this.element.outerWidth()/2-un/2;hn<0?this.container.css({top:an,right:"auto",left:9}):hn+un>tn(window).width()?this.container.css({top:an,left:"auto",right:0}):this.container.css({top:an,left:hn,right:"auto"})}else{var hn=this.element.offset().left-rn.left;hn+un>tn(window).width()?this.container.css({top:an,left:"auto",right:0}):this.container.css({top:an,left:hn,right:"auto"})}},show:function(rn){this.isShowing||(this._outsideClickProxy=tn.proxy(function(an){this.outsideClick(an)},this),tn(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),tn(window).on("resize.daterangepicker",tn.proxy(function(an){this.move(an)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(rn){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),tn(document).off(".daterangepicker"),tn(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(rn){this.isShowing?this.hide():this.show()},outsideClick:function(rn){var an=tn(rn.target);rn.type=="focusin"||an.closest(this.element).length||an.closest(this.container).length||an.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(rn){var an=rn.target.getAttribute("data-range-key");if(this.chosenLabel=an,an==this.locale.customRangeLabel)this.showCalendars();else{var ln=this.ranges[an];this.startDate=ln[0],this.endDate=ln[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(rn){var an=tn(rn.target).parents(".drp-calendar");an.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(rn){var an=tn(rn.target).parents(".drp-calendar");an.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(rn){if(tn(rn.target).hasClass("available")){var an=tn(rn.target).attr("data-title"),ln=an.substr(1,1),cn=an.substr(3,1),un=tn(rn.target).parents(".drp-calendar"),fn=un.hasClass("left")?this.leftCalendar.calendar[ln][cn]:this.rightCalendar.calendar[ln][cn],hn=this.leftCalendar,pn=this.rightCalendar,gn=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(mn,_n){if(!tn(_n).hasClass("week")){var kn=tn(_n).attr("data-title"),Cn=kn.substr(1,1),xn=kn.substr(3,1),Sn=tn(_n).parents(".drp-calendar"),Mn=Sn.hasClass("left")?hn.calendar[Cn][xn]:pn.calendar[Cn][xn];Mn.isAfter(gn)&&Mn.isBefore(fn)||Mn.isSame(fn,"day")?tn(_n).addClass("in-range"):tn(_n).removeClass("in-range")}})}},clickDate:function(rn){if(tn(rn.target).hasClass("available")){var an=tn(rn.target).attr("data-title"),ln=an.substr(1,1),cn=an.substr(3,1),un=tn(rn.target).parents(".drp-calendar"),fn=un.hasClass("left")?this.leftCalendar.calendar[ln][cn]:this.rightCalendar.calendar[ln][cn];if(this.endDate||fn.isBefore(this.startDate,"day")){if(this.timePicker){var hn=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var pn=this.container.find(".left .ampmselect").val();pn==="PM"&&hn<12&&(hn+=12),pn==="AM"&&hn===12&&(hn=0)}var gn=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(gn)&&(gn=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var mn=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;fn=fn.clone().hour(hn).minute(gn).second(mn)}this.endDate=null,this.setStartDate(fn.clone())}else if(!this.endDate&&fn.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var hn=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var pn=this.container.find(".right .ampmselect").val();pn==="PM"&&hn<12&&(hn+=12),pn==="AM"&&hn===12&&(hn=0)}var gn=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(gn)&&(gn=parseInt(this.container.find(".right .minuteselect option:last").val(),10));var mn=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;fn=fn.clone().hour(hn).minute(gn).second(mn)}this.setEndDate(fn.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),rn.stopPropagation()}},calculateChosenLabel:function(){var rn=!0,an=0;for(var ln in this.ranges){if(this.timePicker){var cn=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(cn)==this.ranges[ln][0].format(cn)&&this.endDate.format(cn)==this.ranges[ln][1].format(cn)){rn=!1,this.chosenLabel=this.container.find(".ranges li:eq("+an+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[ln][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[ln][1].format("YYYY-MM-DD")){rn=!1,this.chosenLabel=this.container.find(".ranges li:eq("+an+")").addClass("active").attr("data-range-key");break}an++}rn&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(rn){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(rn){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(rn){var an=tn(rn.target).closest(".drp-calendar").hasClass("left"),ln=an?"left":"right",cn=this.container.find(".drp-calendar."+ln),un=parseInt(cn.find(".monthselect").val(),10),fn=cn.find(".yearselect").val();an||(fn<this.startDate.year()||fn==this.startDate.year()&&un<this.startDate.month())&&(un=this.startDate.month(),fn=this.startDate.year()),this.minDate&&(fn<this.minDate.year()||fn==this.minDate.year()&&un<this.minDate.month())&&(un=this.minDate.month(),fn=this.minDate.year()),this.maxDate&&(fn>this.maxDate.year()||fn==this.maxDate.year()&&un>this.maxDate.month())&&(un=this.maxDate.month(),fn=this.maxDate.year()),an?(this.leftCalendar.month.month(un).year(fn),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(un).year(fn),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(rn){var an=tn(rn.target).closest(".drp-calendar"),ln=an.hasClass("left"),cn=parseInt(an.find(".hourselect").val(),10),un=parseInt(an.find(".minuteselect").val(),10);isNaN(un)&&(un=parseInt(an.find(".minuteselect option:last").val(),10));var fn=this.timePickerSeconds?parseInt(an.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var hn=an.find(".ampmselect").val();hn==="PM"&&cn<12&&(cn+=12),hn==="AM"&&cn===12&&(cn=0)}if(ln){var pn=this.startDate.clone();pn.hour(cn),pn.minute(un),pn.second(fn),this.setStartDate(pn),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==pn.format("YYYY-MM-DD")&&this.endDate.isBefore(pn)&&this.setEndDate(pn.clone())}else if(this.endDate){var gn=this.endDate.clone();gn.hour(cn),gn.minute(un),gn.second(fn),this.setEndDate(gn)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var rn=this.element.val().split(this.locale.separator),an=null,ln=null;rn.length===2&&(an=en(rn[0],this.locale.format),ln=en(rn[1],this.locale.format)),(this.singleDatePicker||an===null||ln===null)&&(an=en(this.element.val(),this.locale.format),ln=an),!(!an.isValid()||!ln.isValid())&&(this.setStartDate(an),this.setEndDate(ln),this.updateView())}},keydown:function(rn){(rn.keyCode===9||rn.keyCode===13)&&this.hide(),rn.keyCode===27&&(rn.preventDefault(),rn.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var rn=this.startDate.format(this.locale.format);this.singleDatePicker||(rn+=this.locale.separator+this.endDate.format(this.locale.format)),rn!==this.element.val()&&this.element.val(rn).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},tn.fn.daterangepicker=function(rn,an){var ln=tn.extend(!0,{},tn.fn.daterangepicker.defaultOptions,rn);return this.each(function(){var cn=tn(this);cn.data("daterangepicker")&&cn.data("daterangepicker").remove(),cn.data("daterangepicker",new nn(cn,ln,an))}),this},nn})})(daterangepicker$1);var daterangepickerExports=daterangepicker$1.exports;const daterangepicker=getDefaultExportFromCjs(daterangepickerExports);var codemirror={exports:{}};(function(Fe,en){(function(tn,nn){Fe.exports=nn()})(commonjsGlobal,function(){var tn=navigator.userAgent,nn=navigator.platform,rn=/gecko\/\d/i.test(tn),an=/MSIE \d/.test(tn),ln=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tn),cn=/Edge\/(\d+)/.exec(tn),un=an||ln||cn,fn=un&&(an?document.documentMode||6:+(cn||ln)[1]),hn=!cn&&/WebKit\//.test(tn),pn=hn&&/Qt\/\d+\.\d+/.test(tn),gn=!cn&&/Chrome\/(\d+)/.exec(tn),mn=gn&&+gn[1],_n=/Opera\//.test(tn),kn=/Apple Computer/.test(navigator.vendor),Cn=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(tn),xn=/PhantomJS/.test(tn),Sn=kn&&(/Mobile\/\w+/.test(tn)||navigator.maxTouchPoints>2),Mn=/Android/.test(tn),In=Sn||Mn||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(tn),On=Sn||/Mac/.test(nn),Pn=/\bCrOS\b/.test(tn),Tn=/win/i.test(nn),Nn=_n&&tn.match(/Version\/(\d*\.\d*)/);Nn&&(Nn=Number(Nn[1])),Nn&&Nn>=15&&(_n=!1,hn=!0);var Hn=On&&(pn||_n&&(Nn==null||Nn<12.11)),Un=rn||un&&fn>=9;function jn(wn){return new RegExp("(^|\\s)"+wn+"(?:$|\\s)\\s*")}var Yn=function(wn,En){var $n=wn.className,Rn=jn(En).exec($n);if(Rn){var Fn=$n.slice(Rn.index+Rn[0].length);wn.className=$n.slice(0,Rn.index)+(Fn?Rn[1]+Fn:"")}};function Wn(wn){for(var En=wn.childNodes.length;En>0;--En)wn.removeChild(wn.firstChild);return wn}function Qn(wn,En){return Wn(wn).appendChild(En)}function Xn(wn,En,$n,Rn){var Fn=document.createElement(wn);if($n&&(Fn.className=$n),Rn&&(Fn.style.cssText=Rn),typeof En=="string")Fn.appendChild(document.createTextNode(En));else if(En)for(var Zn=0;Zn<En.length;++Zn)Fn.appendChild(En[Zn]);return Fn}function jr(wn,En,$n,Rn){var Fn=Xn(wn,En,$n,Rn);return Fn.setAttribute("role","presentation"),Fn}var Wr;document.createRange?Wr=function(wn,En,$n,Rn){var Fn=document.createRange();return Fn.setEnd(Rn||wn,$n),Fn.setStart(wn,En),Fn}:Wr=function(wn,En,$n){var Rn=document.body.createTextRange();try{Rn.moveToElementText(wn.parentNode)}catch{return Rn}return Rn.collapse(!0),Rn.moveEnd("character",$n),Rn.moveStart("character",En),Rn};function Jr(wn,En){if(En.nodeType==3&&(En=En.parentNode),wn.contains)return wn.contains(En);do if(En.nodeType==11&&(En=En.host),En==wn)return!0;while(En=En.parentNode)}function ci(wn){var En;try{En=wn.activeElement}catch{En=wn.body||null}for(;En&&En.shadowRoot&&En.shadowRoot.activeElement;)En=En.shadowRoot.activeElement;return En}function ti(wn,En){var $n=wn.className;jn(En).test($n)||(wn.className+=($n?" ":"")+En)}function Zr(wn,En){for(var $n=wn.split(" "),Rn=0;Rn<$n.length;Rn++)$n[Rn]&&!jn($n[Rn]).test(En)&&(En+=" "+$n[Rn]);return En}var Br=function(wn){wn.select()};Sn?Br=function(wn){wn.selectionStart=0,wn.selectionEnd=wn.value.length}:un&&(Br=function(wn){try{wn.select()}catch{}});function Jn(wn){return wn.display.wrapper.ownerDocument}function oi(wn){return Jn(wn).defaultView}function pi(wn){var En=Array.prototype.slice.call(arguments,1);return function(){return wn.apply(null,En)}}function ri(wn,En,$n){En||(En={});for(var Rn in wn)wn.hasOwnProperty(Rn)&&($n!==!1||!En.hasOwnProperty(Rn))&&(En[Rn]=wn[Rn]);return En}function fi(wn,En,$n,Rn,Fn){En==null&&(En=wn.search(/[^\s\u00a0]/),En==-1&&(En=wn.length));for(var Zn=Rn||0,zr=Fn||0;;){var Gr=wn.indexOf("	",Zn);if(Gr<0||Gr>=En)return zr+(En-Zn);zr+=Gr-Zn,zr+=$n-zr%$n,Zn=Gr+1}}var yi=function(){this.id=null,this.f=null,this.time=0,this.handler=pi(this.onTimeout,this)};yi.prototype.onTimeout=function(wn){wn.id=0,wn.time<=+new Date?wn.f():setTimeout(wn.handler,wn.time-+new Date)},yi.prototype.set=function(wn,En){this.f=En;var $n=+new Date+wn;(!this.id||$n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,wn),this.time=$n)};function Si(wn,En){for(var $n=0;$n<wn.length;++$n)if(wn[$n]==En)return $n;return-1}var Pi=50,Ui={toString:function(){return"CodeMirror.Pass"}},ji={scroll:!1},go={origin:"*mouse"},po={origin:"+move"};function Yi(wn,En,$n){for(var Rn=0,Fn=0;;){var Zn=wn.indexOf("	",Rn);Zn==-1&&(Zn=wn.length);var zr=Zn-Rn;if(Zn==wn.length||Fn+zr>=En)return Rn+Math.min(zr,En-Fn);if(Fn+=Zn-Rn,Fn+=$n-Fn%$n,Rn=Zn+1,Fn>=En)return Rn}}var Fo=[""];function Po(wn){for(;Fo.length<=wn;)Fo.push(Oi(Fo)+" ");return Fo[wn]}function Oi(wn){return wn[wn.length-1]}function Wi(wn,En){for(var $n=[],Rn=0;Rn<wn.length;Rn++)$n[Rn]=En(wn[Rn],Rn);return $n}function vo(wn,En,$n){for(var Rn=0,Fn=$n(En);Rn<wn.length&&$n(wn[Rn])<=Fn;)Rn++;wn.splice(Rn,0,En)}function mo(){}function ro(wn,En){var $n;return Object.create?$n=Object.create(wn):(mo.prototype=wn,$n=new mo),En&&ri(En,$n),$n}var Oo=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Mi(wn){return/\w/.test(wn)||wn>"Â"&&(wn.toUpperCase()!=wn.toLowerCase()||Oo.test(wn))}function gi(wn,En){return En?En.source.indexOf("\\w")>-1&&Mi(wn)?!0:En.test(wn):Mi(wn)}function Ti(wn){for(var En in wn)if(wn.hasOwnProperty(En)&&wn[En])return!1;return!0}var li=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function di(wn){return wn.charCodeAt(0)>=768&&li.test(wn)}function Di(wn,En,$n){for(;($n<0?En>0:En<wn.length)&&di(wn.charAt(En));)En+=$n;return En}function bi(wn,En,$n){for(var Rn=En>$n?-1:1;;){if(En==$n)return En;var Fn=(En+$n)/2,Zn=Rn<0?Math.ceil(Fn):Math.floor(Fn);if(Zn==En)return wn(Zn)?En:$n;wn(Zn)?$n=Zn:En=Zn+Rn}}function Li(wn,En,$n,Rn){if(!wn)return Rn(En,$n,"ltr",0);for(var Fn=!1,Zn=0;Zn<wn.length;++Zn){var zr=wn[Zn];(zr.from<$n&&zr.to>En||En==$n&&zr.to==En)&&(Rn(Math.max(zr.from,En),Math.min(zr.to,$n),zr.level==1?"rtl":"ltr",Zn),Fn=!0)}Fn||Rn(En,$n,"ltr")}var yo=null;function ko(wn,En,$n){var Rn;yo=null;for(var Fn=0;Fn<wn.length;++Fn){var Zn=wn[Fn];if(Zn.from<En&&Zn.to>En)return Fn;Zn.to==En&&(Zn.from!=Zn.to&&$n=="before"?Rn=Fn:yo=Fn),Zn.from==En&&(Zn.from!=Zn.to&&$n!="before"?Rn=Fn:yo=Fn)}return Rn??yo}var bo=function(){var wn="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",En="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function $n(ii){return ii<=247?wn.charAt(ii):1424<=ii&&ii<=1524?"R":1536<=ii&&ii<=1785?En.charAt(ii-1536):1774<=ii&&ii<=2220?"r":8192<=ii&&ii<=8203?"w":ii==8204?"b":"L"}var Rn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Fn=/[stwN]/,Zn=/[LRr]/,zr=/[Lb1n]/,Gr=/[1n]/;function Kr(ii,mi,Ci){this.level=ii,this.from=mi,this.to=Ci}return function(ii,mi){var Ci=mi=="ltr"?"L":"R";if(ii.length==0||mi=="ltr"&&!Rn.test(ii))return!1;for(var Vi=ii.length,Ni=[],Qi=0;Qi<Vi;++Qi)Ni.push($n(ii.charCodeAt(Qi)));for(var ho=0,Ao=Ci;ho<Vi;++ho){var Lo=Ni[ho];Lo=="m"?Ni[ho]=Ao:Ao=Lo}for(var Vo=0,Do=Ci;Vo<Vi;++Vo){var Yo=Ni[Vo];Yo=="1"&&Do=="r"?Ni[Vo]="n":Zn.test(Yo)&&(Do=Yo,Yo=="r"&&(Ni[Vo]="R"))}for(var sa=1,Jo=Ni[0];sa<Vi-1;++sa){var Ga=Ni[sa];Ga=="+"&&Jo=="1"&&Ni[sa+1]=="1"?Ni[sa]="1":Ga==","&&Jo==Ni[sa+1]&&(Jo=="1"||Jo=="n")&&(Ni[sa]=Jo),Jo=Ga}for(var Ds=0;Ds<Vi;++Ds){var Tl=Ni[Ds];if(Tl==",")Ni[Ds]="N";else if(Tl=="%"){var Qs=void 0;for(Qs=Ds+1;Qs<Vi&&Ni[Qs]=="%";++Qs);for(var yc=Ds&&Ni[Ds-1]=="!"||Qs<Vi&&Ni[Qs]=="1"?"1":"N",sc=Ds;sc<Qs;++sc)Ni[sc]=yc;Ds=Qs-1}}for(var hl=0,lc=Ci;hl<Vi;++hl){var zl=Ni[hl];lc=="L"&&zl=="1"?Ni[hl]="L":Zn.test(zl)&&(lc=zl)}for(var wl=0;wl<Vi;++wl)if(Fn.test(Ni[wl])){var ll=void 0;for(ll=wl+1;ll<Vi&&Fn.test(Ni[ll]);++ll);for(var il=(wl?Ni[wl-1]:Ci)=="L",cc=(ll<Vi?Ni[ll]:Ci)=="L",cu=il==cc?il?"L":"R":Ci,Wu=wl;Wu<ll;++Wu)Ni[Wu]=cu;wl=ll-1}for(var Wl=[],uu,cl=0;cl<Vi;)if(zr.test(Ni[cl])){var Uh=cl;for(++cl;cl<Vi&&zr.test(Ni[cl]);++cl);Wl.push(new Kr(0,Uh,cl))}else{var xu=cl,pd=Wl.length,qu=mi=="rtl"?1:0;for(++cl;cl<Vi&&Ni[cl]!="L";++cl);for(var Jl=xu;Jl<cl;)if(Gr.test(Ni[Jl])){xu<Jl&&(Wl.splice(pd,0,new Kr(1,xu,Jl)),pd+=qu);var Od=Jl;for(++Jl;Jl<cl&&Gr.test(Ni[Jl]);++Jl);Wl.splice(pd,0,new Kr(2,Od,Jl)),pd+=qu,xu=Jl}else++Jl;xu<cl&&Wl.splice(pd,0,new Kr(1,xu,cl))}return mi=="ltr"&&(Wl[0].level==1&&(uu=ii.match(/^\s+/))&&(Wl[0].from=uu[0].length,Wl.unshift(new Kr(0,0,uu[0].length))),Oi(Wl).level==1&&(uu=ii.match(/\s+$/))&&(Oi(Wl).to-=uu[0].length,Wl.push(new Kr(0,Vi-uu[0].length,Vi)))),mi=="rtl"?Wl.reverse():Wl}}();function $o(wn,En){var $n=wn.order;return $n==null&&($n=wn.order=bo(wn.text,En)),$n}var ra=[],Xi=function(wn,En,$n){if(wn.addEventListener)wn.addEventListener(En,$n,!1);else if(wn.attachEvent)wn.attachEvent("on"+En,$n);else{var Rn=wn._handlers||(wn._handlers={});Rn[En]=(Rn[En]||ra).concat($n)}};function zo(wn,En){return wn._handlers&&wn._handlers[En]||ra}function fo(wn,En,$n){if(wn.removeEventListener)wn.removeEventListener(En,$n,!1);else if(wn.detachEvent)wn.detachEvent("on"+En,$n);else{var Rn=wn._handlers,Fn=Rn&&Rn[En];if(Fn){var Zn=Si(Fn,$n);Zn>-1&&(Rn[En]=Fn.slice(0,Zn).concat(Fn.slice(Zn+1)))}}}function la(wn,En){var $n=zo(wn,En);if($n.length)for(var Rn=Array.prototype.slice.call(arguments,2),Fn=0;Fn<$n.length;++Fn)$n[Fn].apply(null,Rn)}function ya(wn,En,$n){return typeof En=="string"&&(En={type:En,preventDefault:function(){this.defaultPrevented=!0}}),la(wn,$n||En.type,wn,En),Zs(En)||En.codemirrorIgnore}function Ms(wn){var En=wn._handlers&&wn._handlers.cursorActivity;if(En)for(var $n=wn.curOp.cursorActivityHandlers||(wn.curOp.cursorActivityHandlers=[]),Rn=0;Rn<En.length;++Rn)Si($n,En[Rn])==-1&&$n.push(En[Rn])}function da(wn,En){return zo(wn,En).length>0}function os(wn){wn.prototype.on=function(En,$n){Xi(this,En,$n)},wn.prototype.off=function(En,$n){fo(this,En,$n)}}function Fa(wn){wn.preventDefault?wn.preventDefault():wn.returnValue=!1}function As(wn){wn.stopPropagation?wn.stopPropagation():wn.cancelBubble=!0}function Zs(wn){return wn.defaultPrevented!=null?wn.defaultPrevented:wn.returnValue==!1}function gl(wn){Fa(wn),As(wn)}function us(wn){return wn.target||wn.srcElement}function jl(wn){var En=wn.which;return En==null&&(wn.button&1?En=1:wn.button&2?En=3:wn.button&4&&(En=2)),On&&wn.ctrlKey&&En==1&&(En=3),En}var vl=function(){if(un&&fn<9)return!1;var wn=Xn("div");return"draggable"in wn||"dragDrop"in wn}(),fs;function $i(wn){if(fs==null){var En=Xn("span","â");Qn(wn,Xn("span",[En,document.createTextNode("x")])),wn.firstChild.offsetHeight!=0&&(fs=En.offsetWidth<=1&&En.offsetHeight>2&&!(un&&fn<8))}var $n=fs?Xn("span","â"):Xn("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return $n.setAttribute("cm-text",""),$n}var Hi;function io(wn){if(Hi!=null)return Hi;var En=Qn(wn,document.createTextNode("AØ®A")),$n=Wr(En,0,1).getBoundingClientRect(),Rn=Wr(En,1,2).getBoundingClientRect();return Wn(wn),!$n||$n.left==$n.right?!1:Hi=Rn.right-$n.right<3}var So=`

b`.split(/\n/).length!=3?function(wn){for(var En=0,$n=[],Rn=wn.length;En<=Rn;){var Fn=wn.indexOf(`
`,En);Fn==-1&&(Fn=wn.length);var Zn=wn.slice(En,wn.charAt(Fn-1)=="\r"?Fn-1:Fn),zr=Zn.indexOf("\r");zr!=-1?($n.push(Zn.slice(0,zr)),En+=zr+1):($n.push(Zn),En=Fn+1)}return $n}:function(wn){return wn.split(/\r\n?|\n/)},Xo=window.getSelection?function(wn){try{return wn.selectionStart!=wn.selectionEnd}catch{return!1}}:function(wn){var En;try{En=wn.ownerDocument.selection.createRange()}catch{}return!En||En.parentElement()!=wn?!1:En.compareEndPoints("StartToEnd",En)!=0},Ro=function(){var wn=Xn("div");return"oncopy"in wn?!0:(wn.setAttribute("oncopy","return;"),typeof wn.oncopy=="function")}(),To=null;function Ra(wn){if(To!=null)return To;var En=Qn(wn,Xn("span","x")),$n=En.getBoundingClientRect(),Rn=Wr(En,0,1).getBoundingClientRect();return To=Math.abs($n.left-Rn.left)>1}var fa={},jo={};function Ca(wn,En){arguments.length>2&&(En.dependencies=Array.prototype.slice.call(arguments,2)),fa[wn]=En}function ja(wn,En){jo[wn]=En}function ss(wn){if(typeof wn=="string"&&jo.hasOwnProperty(wn))wn=jo[wn];else if(wn&&typeof wn.name=="string"&&jo.hasOwnProperty(wn.name)){var En=jo[wn.name];typeof En=="string"&&(En={name:En}),wn=ro(En,wn),wn.name=En.name}else{if(typeof wn=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(wn))return ss("application/xml");if(typeof wn=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(wn))return ss("application/json")}return typeof wn=="string"?{name:wn}:wn||{name:"null"}}function za(wn,En){En=ss(En);var $n=fa[En.name];if(!$n)return za(wn,"text/plain");var Rn=$n(wn,En);if(Ya.hasOwnProperty(En.name)){var Fn=Ya[En.name];for(var Zn in Fn)Fn.hasOwnProperty(Zn)&&(Rn.hasOwnProperty(Zn)&&(Rn["_"+Zn]=Rn[Zn]),Rn[Zn]=Fn[Zn])}if(Rn.name=En.name,En.helperType&&(Rn.helperType=En.helperType),En.modeProps)for(var zr in En.modeProps)Rn[zr]=En.modeProps[zr];return Rn}var Ya={};function ha(wn,En){var $n=Ya.hasOwnProperty(wn)?Ya[wn]:Ya[wn]={};ri(En,$n)}function ia(wn,En){if(En===!0)return En;if(wn.copyState)return wn.copyState(En);var $n={};for(var Rn in En){var Fn=En[Rn];Fn instanceof Array&&(Fn=Fn.concat([])),$n[Rn]=Fn}return $n}function ca(wn,En){for(var $n;wn.innerMode&&($n=wn.innerMode(En),!(!$n||$n.mode==wn));)En=$n.state,wn=$n.mode;return $n||{mode:wn,state:En}}function oa(wn,En,$n){return wn.startState?wn.startState(En,$n):!0}var Uo=function(wn,En,$n){this.pos=this.start=0,this.string=wn,this.tabSize=En||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=$n};Uo.prototype.eol=function(){return this.pos>=this.string.length},Uo.prototype.sol=function(){return this.pos==this.lineStart},Uo.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Uo.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Uo.prototype.eat=function(wn){var En=this.string.charAt(this.pos),$n;if(typeof wn=="string"?$n=En==wn:$n=En&&(wn.test?wn.test(En):wn(En)),$n)return++this.pos,En},Uo.prototype.eatWhile=function(wn){for(var En=this.pos;this.eat(wn););return this.pos>En},Uo.prototype.eatSpace=function(){for(var wn=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>wn},Uo.prototype.skipToEnd=function(){this.pos=this.string.length},Uo.prototype.skipTo=function(wn){var En=this.string.indexOf(wn,this.pos);if(En>-1)return this.pos=En,!0},Uo.prototype.backUp=function(wn){this.pos-=wn},Uo.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=fi(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?fi(this.string,this.lineStart,this.tabSize):0)},Uo.prototype.indentation=function(){return fi(this.string,null,this.tabSize)-(this.lineStart?fi(this.string,this.lineStart,this.tabSize):0)},Uo.prototype.match=function(wn,En,$n){if(typeof wn=="string"){var Rn=function(zr){return $n?zr.toLowerCase():zr},Fn=this.string.substr(this.pos,wn.length);if(Rn(Fn)==Rn(wn))return En!==!1&&(this.pos+=wn.length),!0}else{var Zn=this.string.slice(this.pos).match(wn);return Zn&&Zn.index>0?null:(Zn&&En!==!1&&(this.pos+=Zn[0].length),Zn)}},Uo.prototype.current=function(){return this.string.slice(this.start,this.pos)},Uo.prototype.hideFirstChars=function(wn,En){this.lineStart+=wn;try{return En()}finally{this.lineStart-=wn}},Uo.prototype.lookAhead=function(wn){var En=this.lineOracle;return En&&En.lookAhead(wn)},Uo.prototype.baseToken=function(){var wn=this.lineOracle;return wn&&wn.baseToken(this.pos)};function Ei(wn,En){if(En-=wn.first,En<0||En>=wn.size)throw new Error("There is no line "+(En+wn.first)+" in the document.");for(var $n=wn;!$n.lines;)for(var Rn=0;;++Rn){var Fn=$n.children[Rn],Zn=Fn.chunkSize();if(En<Zn){$n=Fn;break}En-=Zn}return $n.lines[En]}function vs(wn,En,$n){var Rn=[],Fn=En.line;return wn.iter(En.line,$n.line+1,function(Zn){var zr=Zn.text;Fn==$n.line&&(zr=zr.slice(0,$n.ch)),Fn==En.line&&(zr=zr.slice(En.ch)),Rn.push(zr),++Fn}),Rn}function ma(wn,En,$n){var Rn=[];return wn.iter(En,$n,function(Fn){Rn.push(Fn.text)}),Rn}function Bs(wn,En){var $n=En-wn.height;if($n)for(var Rn=wn;Rn;Rn=Rn.parent)Rn.height+=$n}function Ea(wn){if(wn.parent==null)return null;for(var En=wn.parent,$n=Si(En.lines,wn),Rn=En.parent;Rn;En=Rn,Rn=Rn.parent)for(var Fn=0;Rn.children[Fn]!=En;++Fn)$n+=Rn.children[Fn].chunkSize();return $n+En.first}function Fs(wn,En){var $n=wn.first;e:do{for(var Rn=0;Rn<wn.children.length;++Rn){var Fn=wn.children[Rn],Zn=Fn.height;if(En<Zn){wn=Fn;continue e}En-=Zn,$n+=Fn.chunkSize()}return $n}while(!wn.lines);for(var zr=0;zr<wn.lines.length;++zr){var Gr=wn.lines[zr],Kr=Gr.height;if(En<Kr)break;En-=Kr}return $n+zr}function Js(wn,En){return En>=wn.first&&En<wn.first+wn.size}function ul(wn,En){return String(wn.lineNumberFormatter(En+wn.firstLineNumber))}function lo(wn,En,$n){if($n===void 0&&($n=null),!(this instanceof lo))return new lo(wn,En,$n);this.line=wn,this.ch=En,this.sticky=$n}function ea(wn,En){return wn.line-En.line||wn.ch-En.ch}function hs(wn,En){return wn.sticky==En.sticky&&ea(wn,En)==0}function ml(wn){return lo(wn.line,wn.ch)}function ki(wn,En){return ea(wn,En)<0?En:wn}function vi(wn,En){return ea(wn,En)<0?wn:En}function Bi(wn,En){return Math.max(wn.first,Math.min(En,wn.first+wn.size-1))}function Gi(wn,En){if(En.line<wn.first)return lo(wn.first,0);var $n=wn.first+wn.size-1;return En.line>$n?lo($n,Ei(wn,$n).text.length):co(En,Ei(wn,En.line).text.length)}function co(wn,En){var $n=wn.ch;return $n==null||$n>En?lo(wn.line,En):$n<0?lo(wn.line,0):wn}function Eo(wn,En){for(var $n=[],Rn=0;Rn<En.length;Rn++)$n[Rn]=Gi(wn,En[Rn]);return $n}var Bo=function(wn,En){this.state=wn,this.lookAhead=En},Co=function(wn,En,$n,Rn){this.state=En,this.doc=wn,this.line=$n,this.maxLookAhead=Rn||0,this.baseTokens=null,this.baseTokenPos=1};Co.prototype.lookAhead=function(wn){var En=this.doc.getLine(this.line+wn);return En!=null&&wn>this.maxLookAhead&&(this.maxLookAhead=wn),En},Co.prototype.baseToken=function(wn){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=wn;)this.baseTokenPos+=2;var En=this.baseTokens[this.baseTokenPos+1];return{type:En&&En.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-wn}},Co.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Co.fromSaved=function(wn,En,$n){return En instanceof Bo?new Co(wn,ia(wn.mode,En.state),$n,En.lookAhead):new Co(wn,ia(wn.mode,En),$n)},Co.prototype.save=function(wn){var En=wn!==!1?ia(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Bo(En,this.maxLookAhead):En};function Zo(wn,En,$n,Rn){var Fn=[wn.state.modeGen],Zn={};Cs(wn,En.text,wn.doc.mode,$n,function(ii,mi){return Fn.push(ii,mi)},Zn,Rn);for(var zr=$n.state,Gr=function(ii){$n.baseTokens=Fn;var mi=wn.state.overlays[ii],Ci=1,Vi=0;$n.state=!0,Cs(wn,En.text,mi.mode,$n,function(Ni,Qi){for(var ho=Ci;Vi<Ni;){var Ao=Fn[Ci];Ao>Ni&&Fn.splice(Ci,1,Ni,Fn[Ci+1],Ao),Ci+=2,Vi=Math.min(Ni,Ao)}if(Qi)if(mi.opaque)Fn.splice(ho,Ci-ho,Ni,"overlay "+Qi),Ci=ho+2;else for(;ho<Ci;ho+=2){var Lo=Fn[ho+1];Fn[ho+1]=(Lo?Lo+" ":"")+"overlay "+Qi}},Zn),$n.state=zr,$n.baseTokens=null,$n.baseTokenPos=1},Kr=0;Kr<wn.state.overlays.length;++Kr)Gr(Kr);return{styles:Fn,classes:Zn.bgClass||Zn.textClass?Zn:null}}function ta(wn,En,$n){if(!En.styles||En.styles[0]!=wn.state.modeGen){var Rn=Ho(wn,Ea(En)),Fn=En.text.length>wn.options.maxHighlightLength&&ia(wn.doc.mode,Rn.state),Zn=Zo(wn,En,Rn);Fn&&(Rn.state=Fn),En.stateAfter=Rn.save(!Fn),En.styles=Zn.styles,Zn.classes?En.styleClasses=Zn.classes:En.styleClasses&&(En.styleClasses=null),$n===wn.doc.highlightFrontier&&(wn.doc.modeFrontier=Math.max(wn.doc.modeFrontier,++wn.doc.highlightFrontier))}return En.styles}function Ho(wn,En,$n){var Rn=wn.doc,Fn=wn.display;if(!Rn.mode.startState)return new Co(Rn,!0,En);var Zn=Ka(wn,En,$n),zr=Zn>Rn.first&&Ei(Rn,Zn-1).stateAfter,Gr=zr?Co.fromSaved(Rn,zr,Zn):new Co(Rn,oa(Rn.mode),Zn);return Rn.iter(Zn,En,function(Kr){Da(wn,Kr.text,Gr);var ii=Gr.line;Kr.stateAfter=ii==En-1||ii%5==0||ii>=Fn.viewFrom&&ii<Fn.viewTo?Gr.save():null,Gr.nextLine()}),$n&&(Rn.modeFrontier=Gr.line),Gr}function Da(wn,En,$n,Rn){var Fn=wn.doc.mode,Zn=new Uo(En,wn.options.tabSize,$n);for(Zn.start=Zn.pos=Rn||0,En==""&&es(Fn,$n.state);!Zn.eol();)Ha(Fn,Zn,$n.state),Zn.start=Zn.pos}function es(wn,En){if(wn.blankLine)return wn.blankLine(En);if(wn.innerMode){var $n=ca(wn,En);if($n.mode.blankLine)return $n.mode.blankLine($n.state)}}function Ha(wn,En,$n,Rn){for(var Fn=0;Fn<10;Fn++){Rn&&(Rn[0]=ca(wn,$n).mode);var Zn=wn.token(En,$n);if(En.pos>En.start)return Zn}throw new Error("Mode "+wn.name+" failed to advance stream.")}var wa=function(wn,En,$n){this.start=wn.start,this.end=wn.pos,this.string=wn.current(),this.type=En||null,this.state=$n};function Ma(wn,En,$n,Rn){var Fn=wn.doc,Zn=Fn.mode,zr;En=Gi(Fn,En);var Gr=Ei(Fn,En.line),Kr=Ho(wn,En.line,$n),ii=new Uo(Gr.text,wn.options.tabSize,Kr),mi;for(Rn&&(mi=[]);(Rn||ii.pos<En.ch)&&!ii.eol();)ii.start=ii.pos,zr=Ha(Zn,ii,Kr.state),Rn&&mi.push(new wa(ii,zr,ia(Fn.mode,Kr.state)));return Rn?mi:new wa(ii,zr,Kr.state)}function Ia(wn,En){if(wn)for(;;){var $n=wn.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!$n)break;wn=wn.slice(0,$n.index)+wn.slice($n.index+$n[0].length);var Rn=$n[1]?"bgClass":"textClass";En[Rn]==null?En[Rn]=$n[2]:new RegExp("(?:^|\\s)"+$n[2]+"(?:$|\\s)").test(En[Rn])||(En[Rn]+=" "+$n[2])}return wn}function Cs(wn,En,$n,Rn,Fn,Zn,zr){var Gr=$n.flattenSpans;Gr==null&&(Gr=wn.options.flattenSpans);var Kr=0,ii=null,mi=new Uo(En,wn.options.tabSize,Rn),Ci,Vi=wn.options.addModeClass&&[null];for(En==""&&Ia(es($n,Rn.state),Zn);!mi.eol();){if(mi.pos>wn.options.maxHighlightLength?(Gr=!1,zr&&Da(wn,En,Rn,mi.pos),mi.pos=En.length,Ci=null):Ci=Ia(Ha($n,mi,Rn.state,Vi),Zn),Vi){var Ni=Vi[0].name;Ni&&(Ci="m-"+(Ci?Ni+" "+Ci:Ni))}if(!Gr||ii!=Ci){for(;Kr<mi.start;)Kr=Math.min(mi.start,Kr+5e3),Fn(Kr,ii);ii=Ci}mi.start=mi.pos}for(;Kr<mi.pos;){var Qi=Math.min(mi.pos,Kr+5e3);Fn(Qi,ii),Kr=Qi}}function Ka(wn,En,$n){for(var Rn,Fn,Zn=wn.doc,zr=$n?-1:En-(wn.doc.mode.innerMode?1e3:100),Gr=En;Gr>zr;--Gr){if(Gr<=Zn.first)return Zn.first;var Kr=Ei(Zn,Gr-1),ii=Kr.stateAfter;if(ii&&(!$n||Gr+(ii instanceof Bo?ii.lookAhead:0)<=Zn.modeFrontier))return Gr;var mi=fi(Kr.text,null,wn.options.tabSize);(Fn==null||Rn>mi)&&(Fn=Gr-1,Rn=mi)}return Fn}function ms(wn,En){if(wn.modeFrontier=Math.min(wn.modeFrontier,En),!(wn.highlightFrontier<En-10)){for(var $n=wn.first,Rn=En-1;Rn>$n;Rn--){var Fn=Ei(wn,Rn).stateAfter;if(Fn&&(!(Fn instanceof Bo)||Rn+Fn.lookAhead<En)){$n=Rn+1;break}}wn.highlightFrontier=Math.min(wn.highlightFrontier,$n)}}var va=!1,Na=!1;function La(){va=!0}function _s(){Na=!0}function ts(wn,En,$n){this.marker=wn,this.from=En,this.to=$n}function ps(wn,En){if(wn)for(var $n=0;$n<wn.length;++$n){var Rn=wn[$n];if(Rn.marker==En)return Rn}}function Is(wn,En){for(var $n,Rn=0;Rn<wn.length;++Rn)wn[Rn]!=En&&($n||($n=[])).push(wn[Rn]);return $n}function xs(wn,En,$n){var Rn=$n&&window.WeakSet&&($n.markedSpans||($n.markedSpans=new WeakSet));Rn&&wn.markedSpans&&Rn.has(wn.markedSpans)?wn.markedSpans.push(En):(wn.markedSpans=wn.markedSpans?wn.markedSpans.concat([En]):[En],Rn&&Rn.add(wn.markedSpans)),En.marker.attachLine(wn)}function Cl(wn,En,$n){var Rn;if(wn)for(var Fn=0;Fn<wn.length;++Fn){var Zn=wn[Fn],zr=Zn.marker,Gr=Zn.from==null||(zr.inclusiveLeft?Zn.from<=En:Zn.from<En);if(Gr||Zn.from==En&&zr.type=="bookmark"&&(!$n||!Zn.marker.insertLeft)){var Kr=Zn.to==null||(zr.inclusiveRight?Zn.to>=En:Zn.to>En);(Rn||(Rn=[])).push(new ts(zr,Zn.from,Kr?null:Zn.to))}}return Rn}function ol(wn,En,$n){var Rn;if(wn)for(var Fn=0;Fn<wn.length;++Fn){var Zn=wn[Fn],zr=Zn.marker,Gr=Zn.to==null||(zr.inclusiveRight?Zn.to>=En:Zn.to>En);if(Gr||Zn.from==En&&zr.type=="bookmark"&&(!$n||Zn.marker.insertLeft)){var Kr=Zn.from==null||(zr.inclusiveLeft?Zn.from<=En:Zn.from<En);(Rn||(Rn=[])).push(new ts(zr,Kr?null:Zn.from-En,Zn.to==null?null:Zn.to-En))}}return Rn}function Ll(wn,En){if(En.full)return null;var $n=Js(wn,En.from.line)&&Ei(wn,En.from.line).markedSpans,Rn=Js(wn,En.to.line)&&Ei(wn,En.to.line).markedSpans;if(!$n&&!Rn)return null;var Fn=En.from.ch,Zn=En.to.ch,zr=ea(En.from,En.to)==0,Gr=Cl($n,Fn,zr),Kr=ol(Rn,Zn,zr),ii=En.text.length==1,mi=Oi(En.text).length+(ii?Fn:0);if(Gr)for(var Ci=0;Ci<Gr.length;++Ci){var Vi=Gr[Ci];if(Vi.to==null){var Ni=ps(Kr,Vi.marker);Ni?ii&&(Vi.to=Ni.to==null?null:Ni.to+mi):Vi.to=Fn}}if(Kr)for(var Qi=0;Qi<Kr.length;++Qi){var ho=Kr[Qi];if(ho.to!=null&&(ho.to+=mi),ho.from==null){var Ao=ps(Gr,ho.marker);Ao||(ho.from=mi,ii&&(Gr||(Gr=[])).push(ho))}else ho.from+=mi,ii&&(Gr||(Gr=[])).push(ho)}Gr&&(Gr=tc(Gr)),Kr&&Kr!=Gr&&(Kr=tc(Kr));var Lo=[Gr];if(!ii){var Vo=En.text.length-2,Do;if(Vo>0&&Gr)for(var Yo=0;Yo<Gr.length;++Yo)Gr[Yo].to==null&&(Do||(Do=[])).push(new ts(Gr[Yo].marker,null,null));for(var sa=0;sa<Vo;++sa)Lo.push(Do);Lo.push(Kr)}return Lo}function tc(wn){for(var En=0;En<wn.length;++En){var $n=wn[En];$n.from!=null&&$n.from==$n.to&&$n.marker.clearWhenEmpty!==!1&&wn.splice(En--,1)}return wn.length?wn:null}function nc(wn,En,$n){var Rn=null;if(wn.iter(En.line,$n.line+1,function(Ni){if(Ni.markedSpans)for(var Qi=0;Qi<Ni.markedSpans.length;++Qi){var ho=Ni.markedSpans[Qi].marker;ho.readOnly&&(!Rn||Si(Rn,ho)==-1)&&(Rn||(Rn=[])).push(ho)}}),!Rn)return null;for(var Fn=[{from:En,to:$n}],Zn=0;Zn<Rn.length;++Zn)for(var zr=Rn[Zn],Gr=zr.find(0),Kr=0;Kr<Fn.length;++Kr){var ii=Fn[Kr];if(!(ea(ii.to,Gr.from)<0||ea(ii.from,Gr.to)>0)){var mi=[Kr,1],Ci=ea(ii.from,Gr.from),Vi=ea(ii.to,Gr.to);(Ci<0||!zr.inclusiveLeft&&!Ci)&&mi.push({from:ii.from,to:Gr.from}),(Vi>0||!zr.inclusiveRight&&!Vi)&&mi.push({from:Gr.to,to:ii.to}),Fn.splice.apply(Fn,mi),Kr+=mi.length-3}}return Fn}function qs(wn){var En=wn.markedSpans;if(En){for(var $n=0;$n<En.length;++$n)En[$n].marker.detachLine(wn);wn.markedSpans=null}}function Ec(wn,En){if(En){for(var $n=0;$n<En.length;++$n)En[$n].marker.attachLine(wn);wn.markedSpans=En}}function yl(wn){return wn.inclusiveLeft?-1:0}function xl(wn){return wn.inclusiveRight?1:0}function ns(wn,En){var $n=wn.lines.length-En.lines.length;if($n!=0)return $n;var Rn=wn.find(),Fn=En.find(),Zn=ea(Rn.from,Fn.from)||yl(wn)-yl(En);if(Zn)return-Zn;var zr=ea(Rn.to,Fn.to)||xl(wn)-xl(En);return zr||En.id-wn.id}function Ji(wn,En){var $n=Na&&wn.markedSpans,Rn;if($n)for(var Fn=void 0,Zn=0;Zn<$n.length;++Zn)Fn=$n[Zn],Fn.marker.collapsed&&(En?Fn.from:Fn.to)==null&&(!Rn||ns(Rn,Fn.marker)<0)&&(Rn=Fn.marker);return Rn}function Ko(wn){return Ji(wn,!0)}function na(wn){return Ji(wn,!1)}function pa(wn,En){var $n=Na&&wn.markedSpans,Rn;if($n)for(var Fn=0;Fn<$n.length;++Fn){var Zn=$n[Fn];Zn.marker.collapsed&&(Zn.from==null||Zn.from<En)&&(Zn.to==null||Zn.to>En)&&(!Rn||ns(Rn,Zn.marker)<0)&&(Rn=Zn.marker)}return Rn}function Pa(wn,En,$n,Rn,Fn){var Zn=Ei(wn,En),zr=Na&&Zn.markedSpans;if(zr)for(var Gr=0;Gr<zr.length;++Gr){var Kr=zr[Gr];if(Kr.marker.collapsed){var ii=Kr.marker.find(0),mi=ea(ii.from,$n)||yl(Kr.marker)-yl(Fn),Ci=ea(ii.to,Rn)||xl(Kr.marker)-xl(Fn);if(!(mi>=0&&Ci<=0||mi<=0&&Ci>=0)&&(mi<=0&&(Kr.marker.inclusiveRight&&Fn.inclusiveLeft?ea(ii.to,$n)>=0:ea(ii.to,$n)>0)||mi>=0&&(Kr.marker.inclusiveRight&&Fn.inclusiveLeft?ea(ii.from,Rn)<=0:ea(ii.from,Rn)<0)))return!0}}}function Za(wn){for(var En;En=Ko(wn);)wn=En.find(-1,!0).line;return wn}function zs(wn){for(var En;En=na(wn);)wn=En.find(1,!0).line;return wn}function el(wn){for(var En,$n;En=na(wn);)wn=En.find(1,!0).line,($n||($n=[])).push(wn);return $n}function Sl(wn,En){var $n=Ei(wn,En),Rn=Za($n);return $n==Rn?En:Ea(Rn)}function bl(wn,En){if(En>wn.lastLine())return En;var $n=Ei(wn,En),Rn;if(!El(wn,$n))return En;for(;Rn=na($n);)$n=Rn.find(1,!0).line;return Ea($n)+1}function El(wn,En){var $n=Na&&En.markedSpans;if($n){for(var Rn=void 0,Fn=0;Fn<$n.length;++Fn)if(Rn=$n[Fn],!!Rn.marker.collapsed){if(Rn.from==null)return!0;if(!Rn.marker.widgetNode&&Rn.from==0&&Rn.marker.inclusiveLeft&&Ul(wn,En,Rn))return!0}}}function Ul(wn,En,$n){if($n.to==null){var Rn=$n.marker.find(1,!0);return Ul(wn,Rn.line,ps(Rn.line.markedSpans,$n.marker))}if($n.marker.inclusiveRight&&$n.to==En.text.length)return!0;for(var Fn=void 0,Zn=0;Zn<En.markedSpans.length;++Zn)if(Fn=En.markedSpans[Zn],Fn.marker.collapsed&&!Fn.marker.widgetNode&&Fn.from==$n.to&&(Fn.to==null||Fn.to!=$n.from)&&(Fn.marker.inclusiveLeft||$n.marker.inclusiveRight)&&Ul(wn,En,Fn))return!0}function al(wn){wn=Za(wn);for(var En=0,$n=wn.parent,Rn=0;Rn<$n.lines.length;++Rn){var Fn=$n.lines[Rn];if(Fn==wn)break;En+=Fn.height}for(var Zn=$n.parent;Zn;$n=Zn,Zn=$n.parent)for(var zr=0;zr<Zn.children.length;++zr){var Gr=Zn.children[zr];if(Gr==$n)break;En+=Gr.height}return En}function zn(wn){if(wn.height==0)return 0;for(var En=wn.text.length,$n,Rn=wn;$n=Ko(Rn);){var Fn=$n.find(0,!0);Rn=Fn.from.line,En+=Fn.from.ch-Fn.to.ch}for(Rn=wn;$n=na(Rn);){var Zn=$n.find(0,!0);En-=Rn.text.length-Zn.from.ch,Rn=Zn.to.line,En+=Rn.text.length-Zn.to.ch}return En}function qn(wn){var En=wn.display,$n=wn.doc;En.maxLine=Ei($n,$n.first),En.maxLineLength=zn(En.maxLine),En.maxLineChanged=!0,$n.iter(function(Rn){var Fn=zn(Rn);Fn>En.maxLineLength&&(En.maxLineLength=Fn,En.maxLine=Rn)})}var Fr=function(wn,En,$n){this.text=wn,Ec(this,En),this.height=$n?$n(this):1};Fr.prototype.lineNo=function(){return Ea(this)},os(Fr);function Ur(wn,En,$n,Rn){wn.text=En,wn.stateAfter&&(wn.stateAfter=null),wn.styles&&(wn.styles=null),wn.order!=null&&(wn.order=null),qs(wn),Ec(wn,$n);var Fn=Rn?Rn(wn):1;Fn!=wn.height&&Bs(wn,Fn)}function ei(wn){wn.parent=null,qs(wn)}var ni={},ui={};function Ii(wn,En){if(!wn||/^\s*$/.test(wn))return null;var $n=En.addModeClass?ui:ni;return $n[wn]||($n[wn]=wn.replace(/\S+/g,"cm-$&"))}function xi(wn,En){var $n=jr("span",null,null,hn?"padding-right: .1px":null),Rn={pre:jr("pre",[$n],"CodeMirror-line"),content:$n,col:0,pos:0,cm:wn,trailingSpace:!1,splitSpaces:wn.getOption("lineWrapping")};En.measure={};for(var Fn=0;Fn<=(En.rest?En.rest.length:0);Fn++){var Zn=Fn?En.rest[Fn-1]:En.line,zr=void 0;Rn.pos=0,Rn.addToken=no,io(wn.display.measure)&&(zr=$o(Zn,wn.doc.direction))&&(Rn.addToken=Ki(Rn.addToken,zr)),Rn.map=[];var Gr=En!=wn.display.externalMeasured&&Ea(Zn);ba(Zn,Rn,ta(wn,Zn,Gr)),Zn.styleClasses&&(Zn.styleClasses.bgClass&&(Rn.bgClass=Zr(Zn.styleClasses.bgClass,Rn.bgClass||"")),Zn.styleClasses.textClass&&(Rn.textClass=Zr(Zn.styleClasses.textClass,Rn.textClass||""))),Rn.map.length==0&&Rn.map.push(0,0,Rn.content.appendChild($i(wn.display.measure))),Fn==0?(En.measure.map=Rn.map,En.measure.cache={}):((En.measure.maps||(En.measure.maps=[])).push(Rn.map),(En.measure.caches||(En.measure.caches=[])).push({}))}if(hn){var Kr=Rn.content.lastChild;(/\bcm-tab\b/.test(Kr.className)||Kr.querySelector&&Kr.querySelector(".cm-tab"))&&(Rn.content.className="cm-tab-wrap-hack")}return la(wn,"renderLine",wn,En.line,Rn.pre),Rn.pre.className&&(Rn.textClass=Zr(Rn.pre.className,Rn.textClass||"")),Rn}function Fi(wn){var En=Xn("span","â¢","cm-invalidchar");return En.title="\\u"+wn.charCodeAt(0).toString(16),En.setAttribute("aria-label",En.title),En}function no(wn,En,$n,Rn,Fn,Zn,zr){if(En){var Gr=wn.splitSpaces?uo(En,wn.trailingSpace):En,Kr=wn.cm.state.specialChars,ii=!1,mi;if(!Kr.test(En))wn.col+=En.length,mi=document.createTextNode(Gr),wn.map.push(wn.pos,wn.pos+En.length,mi),un&&fn<9&&(ii=!0),wn.pos+=En.length;else{mi=document.createDocumentFragment();for(var Ci=0;;){Kr.lastIndex=Ci;var Vi=Kr.exec(En),Ni=Vi?Vi.index-Ci:En.length-Ci;if(Ni){var Qi=document.createTextNode(Gr.slice(Ci,Ci+Ni));un&&fn<9?mi.appendChild(Xn("span",[Qi])):mi.appendChild(Qi),wn.map.push(wn.pos,wn.pos+Ni,Qi),wn.col+=Ni,wn.pos+=Ni}if(!Vi)break;Ci+=Ni+1;var ho=void 0;if(Vi[0]=="	"){var Ao=wn.cm.options.tabSize,Lo=Ao-wn.col%Ao;ho=mi.appendChild(Xn("span",Po(Lo),"cm-tab")),ho.setAttribute("role","presentation"),ho.setAttribute("cm-text","	"),wn.col+=Lo}else Vi[0]=="\r"||Vi[0]==`
`?(ho=mi.appendChild(Xn("span",Vi[0]=="\r"?"â":"â¤","cm-invalidchar")),ho.setAttribute("cm-text",Vi[0]),wn.col+=1):(ho=wn.cm.options.specialCharPlaceholder(Vi[0]),ho.setAttribute("cm-text",Vi[0]),un&&fn<9?mi.appendChild(Xn("span",[ho])):mi.appendChild(ho),wn.col+=1);wn.map.push(wn.pos,wn.pos+1,ho),wn.pos++}}if(wn.trailingSpace=Gr.charCodeAt(En.length-1)==32,$n||Rn||Fn||ii||Zn||zr){var Vo=$n||"";Rn&&(Vo+=Rn),Fn&&(Vo+=Fn);var Do=Xn("span",[mi],Vo,Zn);if(zr)for(var Yo in zr)zr.hasOwnProperty(Yo)&&Yo!="style"&&Yo!="class"&&Do.setAttribute(Yo,zr[Yo]);return wn.content.appendChild(Do)}wn.content.appendChild(mi)}}function uo(wn,En){if(wn.length>1&&!/  /.test(wn))return wn;for(var $n=En,Rn="",Fn=0;Fn<wn.length;Fn++){var Zn=wn.charAt(Fn);Zn==" "&&$n&&(Fn==wn.length-1||wn.charCodeAt(Fn+1)==32)&&(Zn="Â "),Rn+=Zn,$n=Zn==" "}return Rn}function Ki(wn,En){return function($n,Rn,Fn,Zn,zr,Gr,Kr){Fn=Fn?Fn+" cm-force-border":"cm-force-border";for(var ii=$n.pos,mi=ii+Rn.length;;){for(var Ci=void 0,Vi=0;Vi<En.length&&(Ci=En[Vi],!(Ci.to>ii&&Ci.from<=ii));Vi++);if(Ci.to>=mi)return wn($n,Rn,Fn,Zn,zr,Gr,Kr);wn($n,Rn.slice(0,Ci.to-ii),Fn,Zn,null,Gr,Kr),Zn=null,Rn=Rn.slice(Ci.to-ii),ii=Ci.to}}}function _o(wn,En,$n,Rn){var Fn=!Rn&&$n.widgetNode;Fn&&wn.map.push(wn.pos,wn.pos+En,Fn),!Rn&&wn.cm.display.input.needsContentAttribute&&(Fn||(Fn=wn.content.appendChild(document.createElement("span"))),Fn.setAttribute("cm-marker",$n.id)),Fn&&(wn.cm.display.input.setUneditable(Fn),wn.content.appendChild(Fn)),wn.pos+=En,wn.trailingSpace=!1}function ba(wn,En,$n){var Rn=wn.markedSpans,Fn=wn.text,Zn=0;if(!Rn){for(var zr=1;zr<$n.length;zr+=2)En.addToken(En,Fn.slice(Zn,Zn=$n[zr]),Ii($n[zr+1],En.cm.options));return}for(var Gr=Fn.length,Kr=0,ii=1,mi="",Ci,Vi,Ni=0,Qi,ho,Ao,Lo,Vo;;){if(Ni==Kr){Qi=ho=Ao=Vi="",Vo=null,Lo=null,Ni=1/0;for(var Do=[],Yo=void 0,sa=0;sa<Rn.length;++sa){var Jo=Rn[sa],Ga=Jo.marker;if(Ga.type=="bookmark"&&Jo.from==Kr&&Ga.widgetNode)Do.push(Ga);else if(Jo.from<=Kr&&(Jo.to==null||Jo.to>Kr||Ga.collapsed&&Jo.to==Kr&&Jo.from==Kr)){if(Jo.to!=null&&Jo.to!=Kr&&Ni>Jo.to&&(Ni=Jo.to,ho=""),Ga.className&&(Qi+=" "+Ga.className),Ga.css&&(Vi=(Vi?Vi+";":"")+Ga.css),Ga.startStyle&&Jo.from==Kr&&(Ao+=" "+Ga.startStyle),Ga.endStyle&&Jo.to==Ni&&(Yo||(Yo=[])).push(Ga.endStyle,Jo.to),Ga.title&&((Vo||(Vo={})).title=Ga.title),Ga.attributes)for(var Ds in Ga.attributes)(Vo||(Vo={}))[Ds]=Ga.attributes[Ds];Ga.collapsed&&(!Lo||ns(Lo.marker,Ga)<0)&&(Lo=Jo)}else Jo.from>Kr&&Ni>Jo.from&&(Ni=Jo.from)}if(Yo)for(var Tl=0;Tl<Yo.length;Tl+=2)Yo[Tl+1]==Ni&&(ho+=" "+Yo[Tl]);if(!Lo||Lo.from==Kr)for(var Qs=0;Qs<Do.length;++Qs)_o(En,0,Do[Qs]);if(Lo&&(Lo.from||0)==Kr){if(_o(En,(Lo.to==null?Gr+1:Lo.to)-Kr,Lo.marker,Lo.from==null),Lo.to==null)return;Lo.to==Kr&&(Lo=!1)}}if(Kr>=Gr)break;for(var yc=Math.min(Gr,Ni);;){if(mi){var sc=Kr+mi.length;if(!Lo){var hl=sc>yc?mi.slice(0,yc-Kr):mi;En.addToken(En,hl,Ci?Ci+Qi:Qi,Ao,Kr+hl.length==Ni?ho:"",Vi,Vo)}if(sc>=yc){mi=mi.slice(yc-Kr),Kr=yc;break}Kr=sc,Ao=""}mi=Fn.slice(Zn,Zn=$n[ii++]),Ci=Ii($n[ii++],En.cm.options)}}}function Wa(wn,En,$n){this.line=En,this.rest=el(En),this.size=this.rest?Ea(Oi(this.rest))-$n+1:1,this.node=this.text=null,this.hidden=El(wn,En)}function xa(wn,En,$n){for(var Rn=[],Fn,Zn=En;Zn<$n;Zn=Fn){var zr=new Wa(wn.doc,Ei(wn.doc,Zn),Zn);Fn=Zn+zr.size,Rn.push(zr)}return Rn}var Ss=null;function tl(wn){Ss?Ss.ops.push(wn):wn.ownsGroup=Ss={ops:[wn],delayedCallbacks:[]}}function Yl(wn){var En=wn.delayedCallbacks,$n=0;do{for(;$n<En.length;$n++)En[$n].call(null);for(var Rn=0;Rn<wn.ops.length;Rn++){var Fn=wn.ops[Rn];if(Fn.cursorActivityHandlers)for(;Fn.cursorActivityCalled<Fn.cursorActivityHandlers.length;)Fn.cursorActivityHandlers[Fn.cursorActivityCalled++].call(null,Fn.cm)}}while($n<En.length)}function Gl(wn,En){var $n=wn.ownsGroup;if($n)try{Yl($n)}finally{Ss=null,En($n)}}var $a=null;function ws(wn,En){var $n=zo(wn,En);if($n.length){var Rn=Array.prototype.slice.call(arguments,2),Fn;Ss?Fn=Ss.delayedCallbacks:$a?Fn=$a:(Fn=$a=[],setTimeout(Qa,0));for(var Zn=function(Gr){Fn.push(function(){return $n[Gr].apply(null,Rn)})},zr=0;zr<$n.length;++zr)Zn(zr)}}function Qa(){var wn=$a;$a=null;for(var En=0;En<wn.length;++En)wn[En]()}function Ps(wn,En,$n,Rn){for(var Fn=0;Fn<En.changes.length;Fn++){var Zn=En.changes[Fn];Zn=="text"?Zl(wn,En):Zn=="gutter"?ic(wn,En,$n,Rn):Zn=="class"?Pl(wn,En):Zn=="widget"&&fc(wn,En,Rn)}En.changes=null}function rc(wn){return wn.node==wn.text&&(wn.node=Xn("div",null,null,"position: relative"),wn.text.parentNode&&wn.text.parentNode.replaceChild(wn.node,wn.text),wn.node.appendChild(wn.text),un&&fn<8&&(wn.node.style.zIndex=2)),wn.node}function Yc(wn,En){var $n=En.bgClass?En.bgClass+" "+(En.line.bgClass||""):En.line.bgClass;if($n&&($n+=" CodeMirror-linebackground"),En.background)$n?En.background.className=$n:(En.background.parentNode.removeChild(En.background),En.background=null);else if($n){var Rn=rc(En);En.background=Rn.insertBefore(Xn("div",null,$n),Rn.firstChild),wn.display.input.setUneditable(En.background)}}function Kl(wn,En){var $n=wn.display.externalMeasured;return $n&&$n.line==En.line?(wn.display.externalMeasured=null,En.measure=$n.measure,$n.built):xi(wn,En)}function Zl(wn,En){var $n=En.text.className,Rn=Kl(wn,En);En.text==En.node&&(En.node=Rn.pre),En.text.parentNode.replaceChild(Rn.pre,En.text),En.text=Rn.pre,Rn.bgClass!=En.bgClass||Rn.textClass!=En.textClass?(En.bgClass=Rn.bgClass,En.textClass=Rn.textClass,Pl(wn,En)):$n&&(En.text.className=$n)}function Pl(wn,En){Yc(wn,En),En.line.wrapClass?rc(En).className=En.line.wrapClass:En.node!=En.text&&(En.node.className="");var $n=En.textClass?En.textClass+" "+(En.line.textClass||""):En.line.textClass;En.text.className=$n||""}function ic(wn,En,$n,Rn){if(En.gutter&&(En.node.removeChild(En.gutter),En.gutter=null),En.gutterBackground&&(En.node.removeChild(En.gutterBackground),En.gutterBackground=null),En.line.gutterClass){var Fn=rc(En);En.gutterBackground=Xn("div",null,"CodeMirror-gutter-background "+En.line.gutterClass,"left: "+(wn.options.fixedGutter?Rn.fixedPos:-Rn.gutterTotalWidth)+"px; width: "+Rn.gutterTotalWidth+"px"),wn.display.input.setUneditable(En.gutterBackground),Fn.insertBefore(En.gutterBackground,En.text)}var Zn=En.line.gutterMarkers;if(wn.options.lineNumbers||Zn){var zr=rc(En),Gr=En.gutter=Xn("div",null,"CodeMirror-gutter-wrapper","left: "+(wn.options.fixedGutter?Rn.fixedPos:-Rn.gutterTotalWidth)+"px");if(Gr.setAttribute("aria-hidden","true"),wn.display.input.setUneditable(Gr),zr.insertBefore(Gr,En.text),En.line.gutterClass&&(Gr.className+=" "+En.line.gutterClass),wn.options.lineNumbers&&(!Zn||!Zn["CodeMirror-linenumbers"])&&(En.lineNumber=Gr.appendChild(Xn("div",ul(wn.options,$n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+Rn.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+wn.display.lineNumInnerWidth+"px"))),Zn)for(var Kr=0;Kr<wn.display.gutterSpecs.length;++Kr){var ii=wn.display.gutterSpecs[Kr].className,mi=Zn.hasOwnProperty(ii)&&Zn[ii];mi&&Gr.appendChild(Xn("div",[mi],"CodeMirror-gutter-elt","left: "+Rn.gutterLeft[ii]+"px; width: "+Rn.gutterWidth[ii]+"px"))}}}function fc(wn,En,$n){En.alignable&&(En.alignable=null);for(var Rn=jn("CodeMirror-linewidget"),Fn=En.node.firstChild,Zn=void 0;Fn;Fn=Zn)Zn=Fn.nextSibling,Rn.test(Fn.className)&&En.node.removeChild(Fn);Kc(wn,En,$n)}function Ol(wn,En,$n,Rn){var Fn=Kl(wn,En);return En.text=En.node=Fn.pre,Fn.bgClass&&(En.bgClass=Fn.bgClass),Fn.textClass&&(En.textClass=Fn.textClass),Pl(wn,En),ic(wn,En,$n,Rn),Kc(wn,En,Rn),En.node}function Kc(wn,En,$n){if(Xl(wn,En.line,En,$n,!0),En.rest)for(var Rn=0;Rn<En.rest.length;Rn++)Xl(wn,En.rest[Rn],En,$n,!1)}function Xl(wn,En,$n,Rn,Fn){if(En.widgets)for(var Zn=rc($n),zr=0,Gr=En.widgets;zr<Gr.length;++zr){var Kr=Gr[zr],ii=Xn("div",[Kr.node],"CodeMirror-linewidget"+(Kr.className?" "+Kr.className:""));Kr.handleMouseEvents||ii.setAttribute("cm-ignore-events","true"),hc(Kr,ii,$n,Rn),wn.display.input.setUneditable(ii),Fn&&Kr.above?Zn.insertBefore(ii,$n.gutter||$n.text):Zn.appendChild(ii),ws(Kr,"redraw")}}function hc(wn,En,$n,Rn){if(wn.noHScroll){($n.alignable||($n.alignable=[])).push(En);var Fn=Rn.wrapperWidth;En.style.left=Rn.fixedPos+"px",wn.coverGutter||(Fn-=Rn.gutterTotalWidth,En.style.paddingLeft=Rn.gutterTotalWidth+"px"),En.style.width=Fn+"px"}wn.coverGutter&&(En.style.zIndex=5,En.style.position="relative",wn.noHScroll||(En.style.marginLeft=-Rn.gutterTotalWidth+"px"))}function Zc(wn){if(wn.height!=null)return wn.height;var En=wn.doc.cm;if(!En)return 0;if(!Jr(document.body,wn.node)){var $n="position: relative;";wn.coverGutter&&($n+="margin-left: -"+En.display.gutters.offsetWidth+"px;"),wn.noHScroll&&($n+="width: "+En.display.wrapper.clientWidth+"px;"),Qn(En.display.measure,Xn("div",[wn.node],null,$n))}return wn.height=wn.node.parentNode.offsetHeight}function wc(wn,En){for(var $n=us(En);$n!=wn.wrapper;$n=$n.parentNode)if(!$n||$n.nodeType==1&&$n.getAttribute("cm-ignore-events")=="true"||$n.parentNode==wn.sizer&&$n!=wn.mover)return!0}function Iu(wn){return wn.lineSpace.offsetTop}function ls(wn){return wn.mover.offsetHeight-wn.lineSpace.offsetHeight}function pu(wn){if(wn.cachedPaddingH)return wn.cachedPaddingH;var En=Qn(wn.measure,Xn("pre","x","CodeMirror-line-like")),$n=window.getComputedStyle?window.getComputedStyle(En):En.currentStyle,Rn={left:parseInt($n.paddingLeft),right:parseInt($n.paddingRight)};return!isNaN(Rn.left)&&!isNaN(Rn.right)&&(wn.cachedPaddingH=Rn),Rn}function Ys(wn){return Pi-wn.display.nativeBarWidth}function sl(wn){return wn.display.scroller.clientWidth-Ys(wn)-wn.display.barWidth}function Dc(wn){return wn.display.scroller.clientHeight-Ys(wn)-wn.display.barHeight}function Ju(wn,En,$n){var Rn=wn.options.lineWrapping,Fn=Rn&&sl(wn);if(!En.measure.heights||Rn&&En.measure.width!=Fn){var Zn=En.measure.heights=[];if(Rn){En.measure.width=Fn;for(var zr=En.text.firstChild.getClientRects(),Gr=0;Gr<zr.length-1;Gr++){var Kr=zr[Gr],ii=zr[Gr+1];Math.abs(Kr.bottom-ii.bottom)>2&&Zn.push((Kr.bottom+ii.top)/2-$n.top)}}Zn.push($n.bottom-$n.top)}}function ed(wn,En,$n){if(wn.line==En)return{map:wn.measure.map,cache:wn.measure.cache};if(wn.rest){for(var Rn=0;Rn<wn.rest.length;Rn++)if(wn.rest[Rn]==En)return{map:wn.measure.maps[Rn],cache:wn.measure.caches[Rn]};for(var Fn=0;Fn<wn.rest.length;Fn++)if(Ea(wn.rest[Fn])>$n)return{map:wn.measure.maps[Fn],cache:wn.measure.caches[Fn],before:!0}}}function pc(wn,En){En=Za(En);var $n=Ea(En),Rn=wn.display.externalMeasured=new Wa(wn.doc,En,$n);Rn.lineN=$n;var Fn=Rn.built=xi(wn,Rn);return Rn.text=Fn.pre,Qn(wn.display.lineMeasure,Fn.pre),Rn}function Xc(wn,En,$n,Rn){return Rl(wn,vc(wn,En),$n,Rn)}function gc(wn,En){if(En>=wn.display.viewFrom&&En<wn.display.viewTo)return wn.display.view[Nc(wn,En)];var $n=wn.display.externalMeasured;if($n&&En>=$n.lineN&&En<$n.lineN+$n.size)return $n}function vc(wn,En){var $n=Ea(En),Rn=gc(wn,$n);Rn&&!Rn.text?Rn=null:Rn&&Rn.changes&&(Ps(wn,Rn,$n,Ks(wn)),wn.curOp.forceUpdate=!0),Rn||(Rn=pc(wn,En));var Fn=ed(Rn,En,$n);return{line:En,view:Rn,rect:null,map:Fn.map,cache:Fn.cache,before:Fn.before,hasHeights:!1}}function Rl(wn,En,$n,Rn,Fn){En.before&&($n=-1);var Zn=$n+(Rn||""),zr;return En.cache.hasOwnProperty(Zn)?zr=En.cache[Zn]:(En.rect||(En.rect=En.view.text.getBoundingClientRect()),En.hasHeights||(Ju(wn,En.view,En.rect),En.hasHeights=!0),zr=nd(wn,En,$n,Rn),zr.bogus||(En.cache[Zn]=zr)),{left:zr.left,right:zr.right,top:Fn?zr.rtop:zr.top,bottom:Fn?zr.rbottom:zr.bottom}}var Qc={left:0,right:0,top:0,bottom:0};function Jc(wn,En,$n){for(var Rn,Fn,Zn,zr,Gr,Kr,ii=0;ii<wn.length;ii+=3)if(Gr=wn[ii],Kr=wn[ii+1],En<Gr?(Fn=0,Zn=1,zr="left"):En<Kr?(Fn=En-Gr,Zn=Fn+1):(ii==wn.length-3||En==Kr&&wn[ii+3]>En)&&(Zn=Kr-Gr,Fn=Zn-1,En>=Kr&&(zr="right")),Fn!=null){if(Rn=wn[ii+2],Gr==Kr&&$n==(Rn.insertLeft?"left":"right")&&(zr=$n),$n=="left"&&Fn==0)for(;ii&&wn[ii-2]==wn[ii-3]&&wn[ii-1].insertLeft;)Rn=wn[(ii-=3)+2],zr="left";if($n=="right"&&Fn==Kr-Gr)for(;ii<wn.length-3&&wn[ii+3]==wn[ii+4]&&!wn[ii+5].insertLeft;)Rn=wn[(ii+=3)+2],zr="right";break}return{node:Rn,start:Fn,end:Zn,collapse:zr,coverStart:Gr,coverEnd:Kr}}function td(wn,En){var $n=Qc;if(En=="left")for(var Rn=0;Rn<wn.length&&($n=wn[Rn]).left==$n.right;Rn++);else for(var Fn=wn.length-1;Fn>=0&&($n=wn[Fn]).left==$n.right;Fn--);return $n}function nd(wn,En,$n,Rn){var Fn=Jc(En.map,$n,Rn),Zn=Fn.node,zr=Fn.start,Gr=Fn.end,Kr=Fn.collapse,ii;if(Zn.nodeType==3){for(var mi=0;mi<4;mi++){for(;zr&&di(En.line.text.charAt(Fn.coverStart+zr));)--zr;for(;Fn.coverStart+Gr<Fn.coverEnd&&di(En.line.text.charAt(Fn.coverStart+Gr));)++Gr;if(un&&fn<9&&zr==0&&Gr==Fn.coverEnd-Fn.coverStart?ii=Zn.parentNode.getBoundingClientRect():ii=td(Wr(Zn,zr,Gr).getClientRects(),Rn),ii.left||ii.right||zr==0)break;Gr=zr,zr=zr-1,Kr="right"}un&&fn<11&&(ii=Lu(wn.display.measure,ii))}else{zr>0&&(Kr=Rn="right");var Ci;wn.options.lineWrapping&&(Ci=Zn.getClientRects()).length>1?ii=Ci[Rn=="right"?Ci.length-1:0]:ii=Zn.getBoundingClientRect()}if(un&&fn<9&&!zr&&(!ii||!ii.left&&!ii.right)){var Vi=Zn.parentNode.getClientRects()[0];Vi?ii={left:Vi.left,right:Vi.left+Vs(wn.display),top:Vi.top,bottom:Vi.bottom}:ii=Qc}for(var Ni=ii.top-En.rect.top,Qi=ii.bottom-En.rect.top,ho=(Ni+Qi)/2,Ao=En.view.measure.heights,Lo=0;Lo<Ao.length-1&&!(ho<Ao[Lo]);Lo++);var Vo=Lo?Ao[Lo-1]:0,Do=Ao[Lo],Yo={left:(Kr=="right"?ii.right:ii.left)-En.rect.left,right:(Kr=="left"?ii.left:ii.right)-En.rect.left,top:Vo,bottom:Do};return!ii.left&&!ii.right&&(Yo.bogus=!0),wn.options.singleCursorHeightPerLine||(Yo.rtop=Ni,Yo.rbottom=Qi),Yo}function Lu(wn,En){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ra(wn))return En;var $n=screen.logicalXDPI/screen.deviceXDPI,Rn=screen.logicalYDPI/screen.deviceYDPI;return{left:En.left*$n,right:En.right*$n,top:En.top*Rn,bottom:En.bottom*Rn}}function gu(wn){if(wn.measure&&(wn.measure.cache={},wn.measure.heights=null,wn.rest))for(var En=0;En<wn.rest.length;En++)wn.measure.caches[En]={}}function Pu(wn){wn.display.externalMeasure=null,Wn(wn.display.lineMeasure);for(var En=0;En<wn.display.view.length;En++)gu(wn.display.view[En])}function eu(wn){Pu(wn),wn.display.cachedCharWidth=wn.display.cachedTextHeight=wn.display.cachedPaddingH=null,wn.options.lineWrapping||(wn.display.maxLineChanged=!0),wn.display.lineNumChars=null}function vu(wn){return gn&&Mn?-(wn.body.getBoundingClientRect().left-parseInt(getComputedStyle(wn.body).marginLeft)):wn.defaultView.pageXOffset||(wn.documentElement||wn.body).scrollLeft}function mu(wn){return gn&&Mn?-(wn.body.getBoundingClientRect().top-parseInt(getComputedStyle(wn.body).marginTop)):wn.defaultView.pageYOffset||(wn.documentElement||wn.body).scrollTop}function _i(wn){var En=Za(wn),$n=En.widgets,Rn=0;if($n)for(var Fn=0;Fn<$n.length;++Fn)$n[Fn].above&&(Rn+=Zc($n[Fn]));return Rn}function Ri(wn,En,$n,Rn,Fn){if(!Fn){var Zn=_i(En);$n.top+=Zn,$n.bottom+=Zn}if(Rn=="line")return $n;Rn||(Rn="local");var zr=al(En);if(Rn=="local"?zr+=Iu(wn.display):zr-=wn.display.viewOffset,Rn=="page"||Rn=="window"){var Gr=wn.display.lineSpace.getBoundingClientRect();zr+=Gr.top+(Rn=="window"?0:mu(Jn(wn)));var Kr=Gr.left+(Rn=="window"?0:vu(Jn(wn)));$n.left+=Kr,$n.right+=Kr}return $n.top+=zr,$n.bottom+=zr,$n}function qi(wn,En,$n){if($n=="div")return En;var Rn=En.left,Fn=En.top;if($n=="page")Rn-=vu(Jn(wn)),Fn-=mu(Jn(wn));else if($n=="local"||!$n){var Zn=wn.display.sizer.getBoundingClientRect();Rn+=Zn.left,Fn+=Zn.top}var zr=wn.display.lineSpace.getBoundingClientRect();return{left:Rn-zr.left,top:Fn-zr.top}}function Zi(wn,En,$n,Rn,Fn){return Rn||(Rn=Ei(wn.doc,En.line)),Ri(wn,Rn,Xc(wn,Rn,En.ch,Fn),$n)}function oo(wn,En,$n,Rn,Fn,Zn){Rn=Rn||Ei(wn.doc,En.line),Fn||(Fn=vc(wn,Rn));function zr(Qi,ho){var Ao=Rl(wn,Fn,Qi,ho?"right":"left",Zn);return ho?Ao.left=Ao.right:Ao.right=Ao.left,Ri(wn,Rn,Ao,$n)}var Gr=$o(Rn,wn.doc.direction),Kr=En.ch,ii=En.sticky;if(Kr>=Rn.text.length?(Kr=Rn.text.length,ii="before"):Kr<=0&&(Kr=0,ii="after"),!Gr)return zr(ii=="before"?Kr-1:Kr,ii=="before");function mi(Qi,ho,Ao){var Lo=Gr[ho],Vo=Lo.level==1;return zr(Ao?Qi-1:Qi,Vo!=Ao)}var Ci=ko(Gr,Kr,ii),Vi=yo,Ni=mi(Kr,Ci,ii=="before");return Vi!=null&&(Ni.other=mi(Kr,Vi,ii!="before")),Ni}function Io(wn,En){var $n=0;En=Gi(wn.doc,En),wn.options.lineWrapping||($n=Vs(wn.display)*En.ch);var Rn=Ei(wn.doc,En.line),Fn=al(Rn)+Iu(wn.display);return{left:$n,right:$n,top:Fn,bottom:Fn+Rn.height}}function Go(wn,En,$n,Rn,Fn){var Zn=lo(wn,En,$n);return Zn.xRel=Fn,Rn&&(Zn.outside=Rn),Zn}function Mo(wn,En,$n){var Rn=wn.doc;if($n+=wn.display.viewOffset,$n<0)return Go(Rn.first,0,null,-1,-1);var Fn=Fs(Rn,$n),Zn=Rn.first+Rn.size-1;if(Fn>Zn)return Go(Rn.first+Rn.size-1,Ei(Rn,Zn).text.length,null,1,1);En<0&&(En=0);for(var zr=Ei(Rn,Fn);;){var Gr=ka(wn,zr,Fn,En,$n),Kr=pa(zr,Gr.ch+(Gr.xRel>0||Gr.outside>0?1:0));if(!Kr)return Gr;var ii=Kr.find(1);if(ii.line==Fn)return ii;zr=Ei(Rn,Fn=ii.line)}}function Wo(wn,En,$n,Rn){Rn-=_i(En);var Fn=En.text.length,Zn=bi(function(zr){return Rl(wn,$n,zr-1).bottom<=Rn},Fn,0);return Fn=bi(function(zr){return Rl(wn,$n,zr).top>Rn},Zn,Fn),{begin:Zn,end:Fn}}function Ba(wn,En,$n,Rn){$n||($n=vc(wn,En));var Fn=Ri(wn,En,Rl(wn,$n,Rn),"line").top;return Wo(wn,En,$n,Fn)}function ua(wn,En,$n,Rn){return wn.bottom<=$n?!1:wn.top>$n?!0:(Rn?wn.left:wn.right)>En}function ka(wn,En,$n,Rn,Fn){Fn-=al(En);var Zn=vc(wn,En),zr=_i(En),Gr=0,Kr=En.text.length,ii=!0,mi=$o(En,wn.doc.direction);if(mi){var Ci=(wn.options.lineWrapping?ga:Ua)(wn,En,$n,Zn,mi,Rn,Fn);ii=Ci.level!=1,Gr=ii?Ci.from:Ci.to-1,Kr=ii?Ci.to:Ci.from-1}var Vi=null,Ni=null,Qi=bi(function(sa){var Jo=Rl(wn,Zn,sa);return Jo.top+=zr,Jo.bottom+=zr,ua(Jo,Rn,Fn,!1)?(Jo.top<=Fn&&Jo.left<=Rn&&(Vi=sa,Ni=Jo),!0):!1},Gr,Kr),ho,Ao,Lo=!1;if(Ni){var Vo=Rn-Ni.left<Ni.right-Rn,Do=Vo==ii;Qi=Vi+(Do?0:1),Ao=Do?"after":"before",ho=Vo?Ni.left:Ni.right}else{!ii&&(Qi==Kr||Qi==Gr)&&Qi++,Ao=Qi==0?"after":Qi==En.text.length?"before":Rl(wn,Zn,Qi-(ii?1:0)).bottom+zr<=Fn==ii?"after":"before";var Yo=oo(wn,lo($n,Qi,Ao),"line",En,Zn);ho=Yo.left,Lo=Fn<Yo.top?-1:Fn>=Yo.bottom?1:0}return Qi=Di(En.text,Qi,1),Go($n,Qi,Ao,Lo,Rn-ho)}function Ua(wn,En,$n,Rn,Fn,Zn,zr){var Gr=bi(function(Ci){var Vi=Fn[Ci],Ni=Vi.level!=1;return ua(oo(wn,lo($n,Ni?Vi.to:Vi.from,Ni?"before":"after"),"line",En,Rn),Zn,zr,!0)},0,Fn.length-1),Kr=Fn[Gr];if(Gr>0){var ii=Kr.level!=1,mi=oo(wn,lo($n,ii?Kr.from:Kr.to,ii?"after":"before"),"line",En,Rn);ua(mi,Zn,zr,!0)&&mi.top>zr&&(Kr=Fn[Gr-1])}return Kr}function ga(wn,En,$n,Rn,Fn,Zn,zr){var Gr=Wo(wn,En,Rn,zr),Kr=Gr.begin,ii=Gr.end;/\s/.test(En.text.charAt(ii-1))&&ii--;for(var mi=null,Ci=null,Vi=0;Vi<Fn.length;Vi++){var Ni=Fn[Vi];if(!(Ni.from>=ii||Ni.to<=Kr)){var Qi=Ni.level!=1,ho=Rl(wn,Rn,Qi?Math.min(ii,Ni.to)-1:Math.max(Kr,Ni.from)).right,Ao=ho<Zn?Zn-ho+1e9:ho-Zn;(!mi||Ci>Ao)&&(mi=Ni,Ci=Ao)}}return mi||(mi=Fn[Fn.length-1]),mi.from<Kr&&(mi={from:Kr,to:mi.to,level:mi.level}),mi.to>ii&&(mi={from:mi.from,to:ii,level:mi.level}),mi}var Va;function Hs(wn){if(wn.cachedTextHeight!=null)return wn.cachedTextHeight;if(Va==null){Va=Xn("pre",null,"CodeMirror-line-like");for(var En=0;En<49;++En)Va.appendChild(document.createTextNode("x")),Va.appendChild(Xn("br"));Va.appendChild(document.createTextNode("x"))}Qn(wn.measure,Va);var $n=Va.offsetHeight/50;return $n>3&&(wn.cachedTextHeight=$n),Wn(wn.measure),$n||1}function Vs(wn){if(wn.cachedCharWidth!=null)return wn.cachedCharWidth;var En=Xn("span","xxxxxxxxxx"),$n=Xn("pre",[En],"CodeMirror-line-like");Qn(wn.measure,$n);var Rn=En.getBoundingClientRect(),Fn=(Rn.right-Rn.left)/10;return Fn>2&&(wn.cachedCharWidth=Fn),Fn||10}function Ks(wn){for(var En=wn.display,$n={},Rn={},Fn=En.gutters.clientLeft,Zn=En.gutters.firstChild,zr=0;Zn;Zn=Zn.nextSibling,++zr){var Gr=wn.display.gutterSpecs[zr].className;$n[Gr]=Zn.offsetLeft+Zn.clientLeft+Fn,Rn[Gr]=Zn.clientWidth}return{fixedPos:Ql(En),gutterTotalWidth:En.gutters.offsetWidth,gutterLeft:$n,gutterWidth:Rn,wrapperWidth:En.wrapper.clientWidth}}function Ql(wn){return wn.scroller.getBoundingClientRect().left-wn.sizer.getBoundingClientRect().left}function Nl(wn){var En=Hs(wn.display),$n=wn.options.lineWrapping,Rn=$n&&Math.max(5,wn.display.scroller.clientWidth/Vs(wn.display)-3);return function(Fn){if(El(wn.doc,Fn))return 0;var Zn=0;if(Fn.widgets)for(var zr=0;zr<Fn.widgets.length;zr++)Fn.widgets[zr].height&&(Zn+=Fn.widgets[zr].height);return $n?Zn+(Math.ceil(Fn.text.length/Rn)||1)*En:Zn+En}}function Xs(wn){var En=wn.doc,$n=Nl(wn);En.iter(function(Rn){var Fn=$n(Rn);Fn!=Rn.height&&Bs(Rn,Fn)})}function Ta(wn,En,$n,Rn){var Fn=wn.display;if(!$n&&us(En).getAttribute("cm-not-content")=="true")return null;var Zn,zr,Gr=Fn.lineSpace.getBoundingClientRect();try{Zn=En.clientX-Gr.left,zr=En.clientY-Gr.top}catch{return null}var Kr=Mo(wn,Zn,zr),ii;if(Rn&&Kr.xRel>0&&(ii=Ei(wn.doc,Kr.line).text).length==Kr.ch){var mi=fi(ii,ii.length,wn.options.tabSize)-ii.length;Kr=lo(Kr.line,Math.max(0,Math.round((Zn-pu(wn.display).left)/Vs(wn.display))-mi))}return Kr}function Nc(wn,En){if(En>=wn.display.viewTo||(En-=wn.display.viewFrom,En<0))return null;for(var $n=wn.display.view,Rn=0;Rn<$n.length;Rn++)if(En-=$n[Rn].size,En<0)return Rn}function rs(wn,En,$n,Rn){En==null&&(En=wn.doc.first),$n==null&&($n=wn.doc.first+wn.doc.size),Rn||(Rn=0);var Fn=wn.display;if(Rn&&$n<Fn.viewTo&&(Fn.updateLineNumbers==null||Fn.updateLineNumbers>En)&&(Fn.updateLineNumbers=En),wn.curOp.viewChanged=!0,En>=Fn.viewTo)Na&&Sl(wn.doc,En)<Fn.viewTo&&$c(wn);else if($n<=Fn.viewFrom)Na&&bl(wn.doc,$n+Rn)>Fn.viewFrom?$c(wn):(Fn.viewFrom+=Rn,Fn.viewTo+=Rn);else if(En<=Fn.viewFrom&&$n>=Fn.viewTo)$c(wn);else if(En<=Fn.viewFrom){var Zn=Ou(wn,$n,$n+Rn,1);Zn?(Fn.view=Fn.view.slice(Zn.index),Fn.viewFrom=Zn.lineN,Fn.viewTo+=Rn):$c(wn)}else if($n>=Fn.viewTo){var zr=Ou(wn,En,En,-1);zr?(Fn.view=Fn.view.slice(0,zr.index),Fn.viewTo=zr.lineN):$c(wn)}else{var Gr=Ou(wn,En,En,-1),Kr=Ou(wn,$n,$n+Rn,1);Gr&&Kr?(Fn.view=Fn.view.slice(0,Gr.index).concat(xa(wn,Gr.lineN,Kr.lineN)).concat(Fn.view.slice(Kr.index)),Fn.viewTo+=Rn):$c(wn)}var ii=Fn.externalMeasured;ii&&($n<ii.lineN?ii.lineN+=Rn:En<ii.lineN+ii.size&&(Fn.externalMeasured=null))}function kc(wn,En,$n){wn.curOp.viewChanged=!0;var Rn=wn.display,Fn=wn.display.externalMeasured;if(Fn&&En>=Fn.lineN&&En<Fn.lineN+Fn.size&&(Rn.externalMeasured=null),!(En<Rn.viewFrom||En>=Rn.viewTo)){var Zn=Rn.view[Nc(wn,En)];if(Zn.node!=null){var zr=Zn.changes||(Zn.changes=[]);Si(zr,$n)==-1&&zr.push($n)}}}function $c(wn){wn.display.viewFrom=wn.display.viewTo=wn.doc.first,wn.display.view=[],wn.display.viewOffset=0}function Ou(wn,En,$n,Rn){var Fn=Nc(wn,En),Zn,zr=wn.display.view;if(!Na||$n==wn.doc.first+wn.doc.size)return{index:Fn,lineN:$n};for(var Gr=wn.display.viewFrom,Kr=0;Kr<Fn;Kr++)Gr+=zr[Kr].size;if(Gr!=En){if(Rn>0){if(Fn==zr.length-1)return null;Zn=Gr+zr[Fn].size-En,Fn++}else Zn=Gr-En;En+=Zn,$n+=Zn}for(;Sl(wn.doc,$n)!=$n;){if(Fn==(Rn<0?0:zr.length-1))return null;$n+=Rn*zr[Fn-(Rn<0?1:0)].size,Fn+=Rn}return{index:Fn,lineN:$n}}function js(wn,En,$n){var Rn=wn.display,Fn=Rn.view;Fn.length==0||En>=Rn.viewTo||$n<=Rn.viewFrom?(Rn.view=xa(wn,En,$n),Rn.viewFrom=En):(Rn.viewFrom>En?Rn.view=xa(wn,En,Rn.viewFrom).concat(Rn.view):Rn.viewFrom<En&&(Rn.view=Rn.view.slice(Nc(wn,En))),Rn.viewFrom=En,Rn.viewTo<$n?Rn.view=Rn.view.concat(xa(wn,Rn.viewTo,$n)):Rn.viewTo>$n&&(Rn.view=Rn.view.slice(0,Nc(wn,$n)))),Rn.viewTo=$n}function rd(wn){for(var En=wn.display.view,$n=0,Rn=0;Rn<En.length;Rn++){var Fn=En[Rn];!Fn.hidden&&(!Fn.node||Fn.changes)&&++$n}return $n}function Ru(wn){wn.display.input.showSelection(wn.display.input.prepareSelection())}function mc(wn,En){En===void 0&&(En=!0);var $n=wn.doc,Rn={},Fn=Rn.cursors=document.createDocumentFragment(),Zn=Rn.selection=document.createDocumentFragment(),zr=wn.options.$customCursor;zr&&(En=!0);for(var Gr=0;Gr<$n.sel.ranges.length;Gr++)if(!(!En&&Gr==$n.sel.primIndex)){var Kr=$n.sel.ranges[Gr];if(!(Kr.from().line>=wn.display.viewTo||Kr.to().line<wn.display.viewFrom)){var ii=Kr.empty();if(zr){var mi=zr(wn,Kr);mi&&yu(wn,mi,Fn)}else(ii||wn.options.showCursorWhenSelecting)&&yu(wn,Kr.head,Fn);ii||wd(wn,Kr,Zn)}}return Rn}function yu(wn,En,$n){var Rn=oo(wn,En,"div",null,null,!wn.options.singleCursorHeightPerLine),Fn=$n.appendChild(Xn("div","Â ","CodeMirror-cursor"));if(Fn.style.left=Rn.left+"px",Fn.style.top=Rn.top+"px",Fn.style.height=Math.max(0,Rn.bottom-Rn.top)*wn.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(wn.getWrapperElement().className)){var Zn=Zi(wn,En,"div",null,null),zr=Zn.right-Zn.left;Fn.style.width=(zr>0?zr:wn.defaultCharWidth())+"px"}if(Rn.other){var Gr=$n.appendChild(Xn("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));Gr.style.display="",Gr.style.left=Rn.other.left+"px",Gr.style.top=Rn.other.top+"px",Gr.style.height=(Rn.other.bottom-Rn.other.top)*.85+"px"}}function Oa(wn,En){return wn.top-En.top||wn.left-En.left}function wd(wn,En,$n){var Rn=wn.display,Fn=wn.doc,Zn=document.createDocumentFragment(),zr=pu(wn.display),Gr=zr.left,Kr=Math.max(Rn.sizerWidth,sl(wn)-Rn.sizer.offsetLeft)-zr.right,ii=Fn.direction=="ltr";function mi(Do,Yo,sa,Jo){Yo<0&&(Yo=0),Yo=Math.round(Yo),Jo=Math.round(Jo),Zn.appendChild(Xn("div",null,"CodeMirror-selected","position: absolute; left: "+Do+`px;
                             top: `+Yo+"px; width: "+(sa??Kr-Do)+`px;
                             height: `+(Jo-Yo)+"px"))}function Ci(Do,Yo,sa){var Jo=Ei(Fn,Do),Ga=Jo.text.length,Ds,Tl;function Qs(hl,lc){return Zi(wn,lo(Do,hl),"div",Jo,lc)}function yc(hl,lc,zl){var wl=Ba(wn,Jo,null,hl),ll=lc=="ltr"==(zl=="after")?"left":"right",il=zl=="after"?wl.begin:wl.end-(/\s/.test(Jo.text.charAt(wl.end-1))?2:1);return Qs(il,ll)[ll]}var sc=$o(Jo,Fn.direction);return Li(sc,Yo||0,sa??Ga,function(hl,lc,zl,wl){var ll=zl=="ltr",il=Qs(hl,ll?"left":"right"),cc=Qs(lc-1,ll?"right":"left"),cu=Yo==null&&hl==0,Wu=sa==null&&lc==Ga,Wl=wl==0,uu=!sc||wl==sc.length-1;if(cc.top-il.top<=3){var cl=(ii?cu:Wu)&&Wl,Uh=(ii?Wu:cu)&&uu,xu=cl?Gr:(ll?il:cc).left,pd=Uh?Kr:(ll?cc:il).right;mi(xu,il.top,pd-xu,il.bottom)}else{var qu,Jl,Od,Hf;ll?(qu=ii&&cu&&Wl?Gr:il.left,Jl=ii?Kr:yc(hl,zl,"before"),Od=ii?Gr:yc(lc,zl,"after"),Hf=ii&&Wu&&uu?Kr:cc.right):(qu=ii?yc(hl,zl,"before"):Gr,Jl=!ii&&cu&&Wl?Kr:il.right,Od=!ii&&Wu&&uu?Gr:cc.left,Hf=ii?yc(lc,zl,"after"):Kr),mi(qu,il.top,Jl-qu,il.bottom),il.bottom<cc.top&&mi(Gr,il.bottom,null,cc.top),mi(Od,cc.top,Hf-Od,cc.bottom)}(!Ds||Oa(il,Ds)<0)&&(Ds=il),Oa(cc,Ds)<0&&(Ds=cc),(!Tl||Oa(il,Tl)<0)&&(Tl=il),Oa(cc,Tl)<0&&(Tl=cc)}),{start:Ds,end:Tl}}var Vi=En.from(),Ni=En.to();if(Vi.line==Ni.line)Ci(Vi.line,Vi.ch,Ni.ch);else{var Qi=Ei(Fn,Vi.line),ho=Ei(Fn,Ni.line),Ao=Za(Qi)==Za(ho),Lo=Ci(Vi.line,Vi.ch,Ao?Qi.text.length+1:null).end,Vo=Ci(Ni.line,Ao?0:null,Ni.ch).start;Ao&&(Lo.top<Vo.top-2?(mi(Lo.right,Lo.top,null,Lo.bottom),mi(Gr,Vo.top,Vo.left,Vo.bottom)):mi(Lo.right,Lo.top,Vo.left-Lo.right,Lo.bottom)),Lo.bottom<Vo.top&&mi(Gr,Lo.bottom,null,Vo.top)}$n.appendChild(Zn)}function Hd(wn){if(wn.state.focused){var En=wn.display;clearInterval(En.blinker);var $n=!0;En.cursorDiv.style.visibility="",wn.options.cursorBlinkRate>0?En.blinker=setInterval(function(){wn.hasFocus()||Ac(wn),En.cursorDiv.style.visibility=($n=!$n)?"":"hidden"},wn.options.cursorBlinkRate):wn.options.cursorBlinkRate<0&&(En.cursorDiv.style.visibility="hidden")}}function kd(wn){wn.hasFocus()||(wn.display.input.focus(),wn.state.focused||Ad(wn))}function Nu(wn){wn.state.delayingBlurEvent=!0,setTimeout(function(){wn.state.delayingBlurEvent&&(wn.state.delayingBlurEvent=!1,wn.state.focused&&Ac(wn))},100)}function Ad(wn,En){wn.state.delayingBlurEvent&&!wn.state.draggingText&&(wn.state.delayingBlurEvent=!1),wn.options.readOnly!="nocursor"&&(wn.state.focused||(la(wn,"focus",wn,En),wn.state.focused=!0,ti(wn.display.wrapper,"CodeMirror-focused"),!wn.curOp&&wn.display.selForContextMenu!=wn.doc.sel&&(wn.display.input.reset(),hn&&setTimeout(function(){return wn.display.input.reset(!0)},20)),wn.display.input.receivedFocus()),Hd(wn))}function Ac(wn,En){wn.state.delayingBlurEvent||(wn.state.focused&&(la(wn,"blur",wn,En),wn.state.focused=!1,Yn(wn.display.wrapper,"CodeMirror-focused")),clearInterval(wn.display.blinker),setTimeout(function(){wn.state.focused||(wn.display.shift=!1)},150))}function Tc(wn){for(var En=wn.display,$n=En.lineDiv.offsetTop,Rn=Math.max(0,En.scroller.getBoundingClientRect().top),Fn=En.lineDiv.getBoundingClientRect().top,Zn=0,zr=0;zr<En.view.length;zr++){var Gr=En.view[zr],Kr=wn.options.lineWrapping,ii=void 0,mi=0;if(!Gr.hidden){if(Fn+=Gr.line.height,un&&fn<8){var Ci=Gr.node.offsetTop+Gr.node.offsetHeight;ii=Ci-$n,$n=Ci}else{var Vi=Gr.node.getBoundingClientRect();ii=Vi.bottom-Vi.top,!Kr&&Gr.text.firstChild&&(mi=Gr.text.firstChild.getBoundingClientRect().right-Vi.left-1)}var Ni=Gr.line.height-ii;if((Ni>.005||Ni<-.005)&&(Fn<Rn&&(Zn-=Ni),Bs(Gr.line,ii),$u(Gr.line),Gr.rest))for(var Qi=0;Qi<Gr.rest.length;Qi++)$u(Gr.rest[Qi]);if(mi>wn.display.sizerWidth){var ho=Math.ceil(mi/Vs(wn.display));ho>wn.display.maxLineLength&&(wn.display.maxLineLength=ho,wn.display.maxLine=Gr.line,wn.display.maxLineChanged=!0)}}}Math.abs(Zn)>2&&(En.scroller.scrollTop+=Zn)}function $u(wn){if(wn.widgets)for(var En=0;En<wn.widgets.length;++En){var $n=wn.widgets[En],Rn=$n.node.parentNode;Rn&&($n.height=Rn.offsetHeight)}}function _r(wn,En,$n){var Rn=$n&&$n.top!=null?Math.max(0,$n.top):wn.scroller.scrollTop;Rn=Math.floor(Rn-Iu(wn));var Fn=$n&&$n.bottom!=null?$n.bottom:Rn+wn.wrapper.clientHeight,Zn=Fs(En,Rn),zr=Fs(En,Fn);if($n&&$n.ensure){var Gr=$n.ensure.from.line,Kr=$n.ensure.to.line;Gr<Zn?(Zn=Gr,zr=Fs(En,al(Ei(En,Gr))+wn.wrapper.clientHeight)):Math.min(Kr,En.lastLine())>=zr&&(Zn=Fs(En,al(Ei(En,Kr))-wn.wrapper.clientHeight),zr=Kr)}return{from:Zn,to:Math.max(zr,Zn+1)}}function Vr(wn,En){if(!ya(wn,"scrollCursorIntoView")){var $n=wn.display,Rn=$n.sizer.getBoundingClientRect(),Fn=null,Zn=$n.wrapper.ownerDocument;if(En.top+Rn.top<0?Fn=!0:En.bottom+Rn.top>(Zn.defaultView.innerHeight||Zn.documentElement.clientHeight)&&(Fn=!1),Fn!=null&&!xn){var zr=Xn("div","â",null,`position: absolute;
                         top: `+(En.top-$n.viewOffset-Iu(wn.display))+`px;
                         height: `+(En.bottom-En.top+Ys(wn)+$n.barHeight)+`px;
                         left: `+En.left+"px; width: "+Math.max(2,En.right-En.left)+"px;");wn.display.lineSpace.appendChild(zr),zr.scrollIntoView(Fn),wn.display.lineSpace.removeChild(zr)}}}function ai(wn,En,$n,Rn){Rn==null&&(Rn=0);var Fn;!wn.options.lineWrapping&&En==$n&&($n=En.sticky=="before"?lo(En.line,En.ch+1,"before"):En,En=En.ch?lo(En.line,En.sticky=="before"?En.ch-1:En.ch,"after"):En);for(var Zn=0;Zn<5;Zn++){var zr=!1,Gr=oo(wn,En),Kr=!$n||$n==En?Gr:oo(wn,$n);Fn={left:Math.min(Gr.left,Kr.left),top:Math.min(Gr.top,Kr.top)-Rn,right:Math.max(Gr.left,Kr.left),bottom:Math.max(Gr.bottom,Kr.bottom)+Rn};var ii=ao(wn,Fn),mi=wn.doc.scrollTop,Ci=wn.doc.scrollLeft;if(ii.scrollTop!=null&&(Vd(wn,ii.scrollTop),Math.abs(wn.doc.scrollTop-mi)>1&&(zr=!0)),ii.scrollLeft!=null&&(id(wn,ii.scrollLeft),Math.abs(wn.doc.scrollLeft-Ci)>1&&(zr=!0)),!zr)break}return Fn}function Ai(wn,En){var $n=ao(wn,En);$n.scrollTop!=null&&Vd(wn,$n.scrollTop),$n.scrollLeft!=null&&id(wn,$n.scrollLeft)}function ao(wn,En){var $n=wn.display,Rn=Hs(wn.display);En.top<0&&(En.top=0);var Fn=wn.curOp&&wn.curOp.scrollTop!=null?wn.curOp.scrollTop:$n.scroller.scrollTop,Zn=Dc(wn),zr={};En.bottom-En.top>Zn&&(En.bottom=En.top+Zn);var Gr=wn.doc.height+ls($n),Kr=En.top<Rn,ii=En.bottom>Gr-Rn;if(En.top<Fn)zr.scrollTop=Kr?0:En.top;else if(En.bottom>Fn+Zn){var mi=Math.min(En.top,(ii?Gr:En.bottom)-Zn);mi!=Fn&&(zr.scrollTop=mi)}var Ci=wn.options.fixedGutter?0:$n.gutters.offsetWidth,Vi=wn.curOp&&wn.curOp.scrollLeft!=null?wn.curOp.scrollLeft:$n.scroller.scrollLeft-Ci,Ni=sl(wn)-$n.gutters.offsetWidth,Qi=En.right-En.left>Ni;return Qi&&(En.right=En.left+Ni),En.left<10?zr.scrollLeft=0:En.left<Vi?zr.scrollLeft=Math.max(0,En.left+Ci-(Qi?0:10)):En.right>Ni+Vi-3&&(zr.scrollLeft=En.right+(Qi?0:10)-Ni),zr}function aa(wn,En){En!=null&&(Mc(wn),wn.curOp.scrollTop=(wn.curOp.scrollTop==null?wn.doc.scrollTop:wn.curOp.scrollTop)+En)}function Ja(wn){Mc(wn);var En=wn.getCursor();wn.curOp.scrollToPos={from:En,to:En,margin:wn.options.cursorScrollMargin}}function ys(wn,En,$n){(En!=null||$n!=null)&&Mc(wn),En!=null&&(wn.curOp.scrollLeft=En),$n!=null&&(wn.curOp.scrollTop=$n)}function Us(wn,En){Mc(wn),wn.curOp.scrollToPos=En}function Mc(wn){var En=wn.curOp.scrollToPos;if(En){wn.curOp.scrollToPos=null;var $n=Io(wn,En.from),Rn=Io(wn,En.to);Bu(wn,$n,Rn,En.margin)}}function Bu(wn,En,$n,Rn){var Fn=ao(wn,{left:Math.min(En.left,$n.left),top:Math.min(En.top,$n.top)-Rn,right:Math.max(En.right,$n.right),bottom:Math.max(En.bottom,$n.bottom)+Rn});ys(wn,Fn.scrollLeft,Fn.scrollTop)}function Vd(wn,En){Math.abs(wn.doc.scrollTop-En)<2||(rn||Cc(wn,{top:En}),th(wn,En,!0),rn&&Cc(wn),Wd(wn,100))}function th(wn,En,$n){En=Math.max(0,Math.min(wn.display.scroller.scrollHeight-wn.display.scroller.clientHeight,En)),!(wn.display.scroller.scrollTop==En&&!$n)&&(wn.doc.scrollTop=En,wn.display.scrollbars.setScrollTop(En),wn.display.scroller.scrollTop!=En&&(wn.display.scroller.scrollTop=En))}function id(wn,En,$n,Rn){En=Math.max(0,Math.min(En,wn.display.scroller.scrollWidth-wn.display.scroller.clientWidth)),!(($n?En==wn.doc.scrollLeft:Math.abs(wn.doc.scrollLeft-En)<2)&&!Rn)&&(wn.doc.scrollLeft=En,Yd(wn),wn.display.scroller.scrollLeft!=En&&(wn.display.scroller.scrollLeft=En),wn.display.scrollbars.setScrollLeft(En))}function jd(wn){var En=wn.display,$n=En.gutters.offsetWidth,Rn=Math.round(wn.doc.height+ls(wn.display));return{clientHeight:En.scroller.clientHeight,viewHeight:En.wrapper.clientHeight,scrollWidth:En.scroller.scrollWidth,clientWidth:En.scroller.clientWidth,viewWidth:En.wrapper.clientWidth,barLeft:wn.options.fixedGutter?$n:0,docHeight:Rn,scrollHeight:Rn+Ys(wn)+En.barHeight,nativeBarWidth:En.nativeBarWidth,gutterWidth:$n}}var Xa=function(wn,En,$n){this.cm=$n;var Rn=this.vert=Xn("div",[Xn("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),Fn=this.horiz=Xn("div",[Xn("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");Rn.tabIndex=Fn.tabIndex=-1,wn(Rn),wn(Fn),Xi(Rn,"scroll",function(){Rn.clientHeight&&En(Rn.scrollTop,"vertical")}),Xi(Fn,"scroll",function(){Fn.clientWidth&&En(Fn.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,un&&fn<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Xa.prototype.update=function(wn){var En=wn.scrollWidth>wn.clientWidth+1,$n=wn.scrollHeight>wn.clientHeight+1,Rn=wn.nativeBarWidth;if($n){this.vert.style.display="block",this.vert.style.bottom=En?Rn+"px":"0";var Fn=wn.viewHeight-(En?Rn:0);this.vert.firstChild.style.height=Math.max(0,wn.scrollHeight-wn.clientHeight+Fn)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(En){this.horiz.style.display="block",this.horiz.style.right=$n?Rn+"px":"0",this.horiz.style.left=wn.barLeft+"px";var Zn=wn.viewWidth-wn.barLeft-($n?Rn:0);this.horiz.firstChild.style.width=Math.max(0,wn.scrollWidth-wn.clientWidth+Zn)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&wn.clientHeight>0&&(Rn==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:$n?Rn:0,bottom:En?Rn:0}},Xa.prototype.setScrollLeft=function(wn){this.horiz.scrollLeft!=wn&&(this.horiz.scrollLeft=wn),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Xa.prototype.setScrollTop=function(wn){this.vert.scrollTop!=wn&&(this.vert.scrollTop=wn),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Xa.prototype.zeroWidthHack=function(){var wn=On&&!Cn?"12px":"18px";this.horiz.style.height=this.vert.style.width=wn,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new yi,this.disableVert=new yi},Xa.prototype.enableZeroWidthBar=function(wn,En,$n){wn.style.visibility="";function Rn(){var Fn=wn.getBoundingClientRect(),Zn=$n=="vert"?document.elementFromPoint(Fn.right-1,(Fn.top+Fn.bottom)/2):document.elementFromPoint((Fn.right+Fn.left)/2,Fn.bottom-1);Zn!=wn?wn.style.visibility="hidden":En.set(1e3,Rn)}En.set(1e3,Rn)},Xa.prototype.clear=function(){var wn=this.horiz.parentNode;wn.removeChild(this.horiz),wn.removeChild(this.vert)};var Ud=function(){};Ud.prototype.update=function(){return{bottom:0,right:0}},Ud.prototype.setScrollLeft=function(){},Ud.prototype.setScrollTop=function(){},Ud.prototype.clear=function(){};function Bc(wn,En){En||(En=jd(wn));var $n=wn.display.barWidth,Rn=wn.display.barHeight;Gd(wn,En);for(var Fn=0;Fn<4&&$n!=wn.display.barWidth||Rn!=wn.display.barHeight;Fn++)$n!=wn.display.barWidth&&wn.options.lineWrapping&&Tc(wn),Gd(wn,jd(wn)),$n=wn.display.barWidth,Rn=wn.display.barHeight}function Gd(wn,En){var $n=wn.display,Rn=$n.scrollbars.update(En);$n.sizer.style.paddingRight=($n.barWidth=Rn.right)+"px",$n.sizer.style.paddingBottom=($n.barHeight=Rn.bottom)+"px",$n.heightForcer.style.borderBottom=Rn.bottom+"px solid transparent",Rn.right&&Rn.bottom?($n.scrollbarFiller.style.display="block",$n.scrollbarFiller.style.height=Rn.bottom+"px",$n.scrollbarFiller.style.width=Rn.right+"px"):$n.scrollbarFiller.style.display="",Rn.bottom&&wn.options.coverGutterNextToScrollbar&&wn.options.fixedGutter?($n.gutterFiller.style.display="block",$n.gutterFiller.style.height=Rn.bottom+"px",$n.gutterFiller.style.width=En.gutterWidth+"px"):$n.gutterFiller.style.display=""}var nh={native:Xa,null:Ud};function kf(wn){wn.display.scrollbars&&(wn.display.scrollbars.clear(),wn.display.scrollbars.addClass&&Yn(wn.display.wrapper,wn.display.scrollbars.addClass)),wn.display.scrollbars=new nh[wn.options.scrollbarStyle](function(En){wn.display.wrapper.insertBefore(En,wn.display.scrollbarFiller),Xi(En,"mousedown",function(){wn.state.focused&&setTimeout(function(){return wn.display.input.focus()},0)}),En.setAttribute("cm-not-content","true")},function(En,$n){$n=="horizontal"?id(wn,En):Vd(wn,En)},wn),wn.display.scrollbars.addClass&&ti(wn.display.wrapper,wn.display.scrollbars.addClass)}var $l=0;function od(wn){wn.curOp={cm:wn,viewChanged:!1,startHeight:wn.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++$l,markArrays:null},tl(wn.curOp)}function ad(wn){var En=wn.curOp;En&&Gl(En,function($n){for(var Rn=0;Rn<$n.ops.length;Rn++)$n.ops[Rn].cm.curOp=null;ip($n)})}function ip(wn){for(var En=wn.ops,$n=0;$n<En.length;$n++)sg(En[$n]);for(var Rn=0;Rn<En.length;Rn++)Fc(En[Rn]);for(var Fn=0;Fn<En.length;Fn++)_l(En[Fn]);for(var Zn=0;Zn<En.length;Zn++)Ic(En[Zn]);for(var zr=0;zr<En.length;zr++)tu(En[zr])}function sg(wn){var En=wn.cm,$n=En.display;lg(En),wn.updateMaxLine&&qn(En),wn.mustUpdate=wn.viewChanged||wn.forceUpdate||wn.scrollTop!=null||wn.scrollToPos&&(wn.scrollToPos.from.line<$n.viewFrom||wn.scrollToPos.to.line>=$n.viewTo)||$n.maxLineChanged&&En.options.lineWrapping,wn.update=wn.mustUpdate&&new zc(En,wn.mustUpdate&&{top:wn.scrollTop,ensure:wn.scrollToPos},wn.forceUpdate)}function Fc(wn){wn.updatedDisplay=wn.mustUpdate&&rh(wn.cm,wn.update)}function _l(wn){var En=wn.cm,$n=En.display;wn.updatedDisplay&&Tc(En),wn.barMeasure=jd(En),$n.maxLineChanged&&!En.options.lineWrapping&&(wn.adjustWidthTo=Xc(En,$n.maxLine,$n.maxLine.text.length).left+3,En.display.sizerWidth=wn.adjustWidthTo,wn.barMeasure.scrollWidth=Math.max($n.scroller.clientWidth,$n.sizer.offsetLeft+wn.adjustWidthTo+Ys(En)+En.display.barWidth),wn.maxScrollLeft=Math.max(0,$n.sizer.offsetLeft+wn.adjustWidthTo-sl(En))),(wn.updatedDisplay||wn.selectionChanged)&&(wn.preparedSelection=$n.input.prepareSelection())}function Ic(wn){var En=wn.cm;wn.adjustWidthTo!=null&&(En.display.sizer.style.minWidth=wn.adjustWidthTo+"px",wn.maxScrollLeft<En.doc.scrollLeft&&id(En,Math.min(En.display.scroller.scrollLeft,wn.maxScrollLeft),!0),En.display.maxLineChanged=!1);var $n=wn.focus&&wn.focus==ci(Jn(En));wn.preparedSelection&&En.display.input.showSelection(wn.preparedSelection,$n),(wn.updatedDisplay||wn.startHeight!=En.doc.height)&&Bc(En,wn.barMeasure),wn.updatedDisplay&&Af(En,wn.barMeasure),wn.selectionChanged&&Hd(En),En.state.focused&&wn.updateInput&&En.display.input.reset(wn.typing),$n&&kd(wn.cm)}function tu(wn){var En=wn.cm,$n=En.display,Rn=En.doc;if(wn.updatedDisplay&&is(En,wn.update),$n.wheelStartX!=null&&(wn.scrollTop!=null||wn.scrollLeft!=null||wn.scrollToPos)&&($n.wheelStartX=$n.wheelStartY=null),wn.scrollTop!=null&&th(En,wn.scrollTop,wn.forceScroll),wn.scrollLeft!=null&&id(En,wn.scrollLeft,!0,!0),wn.scrollToPos){var Fn=ai(En,Gi(Rn,wn.scrollToPos.from),Gi(Rn,wn.scrollToPos.to),wn.scrollToPos.margin);Vr(En,Fn)}var Zn=wn.maybeHiddenMarkers,zr=wn.maybeUnhiddenMarkers;if(Zn)for(var Gr=0;Gr<Zn.length;++Gr)Zn[Gr].lines.length||la(Zn[Gr],"hide");if(zr)for(var Kr=0;Kr<zr.length;++Kr)zr[Kr].lines.length&&la(zr[Kr],"unhide");$n.wrapper.offsetHeight&&(Rn.scrollTop=En.display.scroller.scrollTop),wn.changeObjs&&la(En,"changes",En,wn.changeObjs),wn.update&&wn.update.finish()}function nl(wn,En){if(wn.curOp)return En();od(wn);try{return En()}finally{ad(wn)}}function dl(wn,En){return function(){if(wn.curOp)return En.apply(wn,arguments);od(wn);try{return En.apply(wn,arguments)}finally{ad(wn)}}}function Bl(wn){return function(){if(this.curOp)return wn.apply(this,arguments);od(this);try{return wn.apply(this,arguments)}finally{ad(this)}}}function fl(wn){return function(){var En=this.cm;if(!En||En.curOp)return wn.apply(this,arguments);od(En);try{return wn.apply(this,arguments)}finally{ad(En)}}}function Wd(wn,En){wn.doc.highlightFrontier<wn.display.viewTo&&wn.state.highlight.set(En,pi(op,wn))}function op(wn){var En=wn.doc;if(!(En.highlightFrontier>=wn.display.viewTo)){var $n=+new Date+wn.options.workTime,Rn=Ho(wn,En.highlightFrontier),Fn=[];En.iter(Rn.line,Math.min(En.first+En.size,wn.display.viewTo+500),function(Zn){if(Rn.line>=wn.display.viewFrom){var zr=Zn.styles,Gr=Zn.text.length>wn.options.maxHighlightLength?ia(En.mode,Rn.state):null,Kr=Zo(wn,Zn,Rn,!0);Gr&&(Rn.state=Gr),Zn.styles=Kr.styles;var ii=Zn.styleClasses,mi=Kr.classes;mi?Zn.styleClasses=mi:ii&&(Zn.styleClasses=null);for(var Ci=!zr||zr.length!=Zn.styles.length||ii!=mi&&(!ii||!mi||ii.bgClass!=mi.bgClass||ii.textClass!=mi.textClass),Vi=0;!Ci&&Vi<zr.length;++Vi)Ci=zr[Vi]!=Zn.styles[Vi];Ci&&Fn.push(Rn.line),Zn.stateAfter=Rn.save(),Rn.nextLine()}else Zn.text.length<=wn.options.maxHighlightLength&&Da(wn,Zn.text,Rn),Zn.stateAfter=Rn.line%5==0?Rn.save():null,Rn.nextLine();if(+new Date>$n)return Wd(wn,wn.options.workDelay),!0}),En.highlightFrontier=Rn.line,En.modeFrontier=Math.max(En.modeFrontier,Rn.line),Fn.length&&nl(wn,function(){for(var Zn=0;Zn<Fn.length;Zn++)kc(wn,Fn[Zn],"text")})}}var zc=function(wn,En,$n){var Rn=wn.display;this.viewport=En,this.visible=_r(Rn,wn.doc,En),this.editorIsHidden=!Rn.wrapper.offsetWidth,this.wrapperHeight=Rn.wrapper.clientHeight,this.wrapperWidth=Rn.wrapper.clientWidth,this.oldDisplayWidth=sl(wn),this.force=$n,this.dims=Ks(wn),this.events=[]};zc.prototype.signal=function(wn,En){da(wn,En)&&this.events.push(arguments)},zc.prototype.finish=function(){for(var wn=0;wn<this.events.length;wn++)la.apply(null,this.events[wn])};function lg(wn){var En=wn.display;!En.scrollbarsClipped&&En.scroller.offsetWidth&&(En.nativeBarWidth=En.scroller.offsetWidth-En.scroller.clientWidth,En.heightForcer.style.height=Ys(wn)+"px",En.sizer.style.marginBottom=-En.nativeBarWidth+"px",En.sizer.style.borderRightWidth=Ys(wn)+"px",En.scrollbarsClipped=!0)}function Qo(wn){if(wn.hasFocus())return null;var En=ci(Jn(wn));if(!En||!Jr(wn.display.lineDiv,En))return null;var $n={activeElt:En};if(window.getSelection){var Rn=oi(wn).getSelection();Rn.anchorNode&&Rn.extend&&Jr(wn.display.lineDiv,Rn.anchorNode)&&($n.anchorNode=Rn.anchorNode,$n.anchorOffset=Rn.anchorOffset,$n.focusNode=Rn.focusNode,$n.focusOffset=Rn.focusOffset)}return $n}function ap(wn){if(!(!wn||!wn.activeElt||wn.activeElt==ci(wn.activeElt.ownerDocument))&&(wn.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(wn.activeElt.nodeName)&&wn.anchorNode&&Jr(document.body,wn.anchorNode)&&Jr(document.body,wn.focusNode))){var En=wn.activeElt.ownerDocument,$n=En.defaultView.getSelection(),Rn=En.createRange();Rn.setEnd(wn.anchorNode,wn.anchorOffset),Rn.collapse(!1),$n.removeAllRanges(),$n.addRange(Rn),$n.extend(wn.focusNode,wn.focusOffset)}}function rh(wn,En){var $n=wn.display,Rn=wn.doc;if(En.editorIsHidden)return $c(wn),!1;if(!En.force&&En.visible.from>=$n.viewFrom&&En.visible.to<=$n.viewTo&&($n.updateLineNumbers==null||$n.updateLineNumbers>=$n.viewTo)&&$n.renderedView==$n.view&&rd(wn)==0)return!1;oh(wn)&&($c(wn),En.dims=Ks(wn));var Fn=Rn.first+Rn.size,Zn=Math.max(En.visible.from-wn.options.viewportMargin,Rn.first),zr=Math.min(Fn,En.visible.to+wn.options.viewportMargin);$n.viewFrom<Zn&&Zn-$n.viewFrom<20&&(Zn=Math.max(Rn.first,$n.viewFrom)),$n.viewTo>zr&&$n.viewTo-zr<20&&(zr=Math.min(Fn,$n.viewTo)),Na&&(Zn=Sl(wn.doc,Zn),zr=bl(wn.doc,zr));var Gr=Zn!=$n.viewFrom||zr!=$n.viewTo||$n.lastWrapHeight!=En.wrapperHeight||$n.lastWrapWidth!=En.wrapperWidth;js(wn,Zn,zr),$n.viewOffset=al(Ei(wn.doc,$n.viewFrom)),wn.display.mover.style.top=$n.viewOffset+"px";var Kr=rd(wn);if(!Gr&&Kr==0&&!En.force&&$n.renderedView==$n.view&&($n.updateLineNumbers==null||$n.updateLineNumbers>=$n.viewTo))return!1;var ii=Qo(wn);return Kr>4&&($n.lineDiv.style.display="none"),qd(wn,$n.updateLineNumbers,En.dims),Kr>4&&($n.lineDiv.style.display=""),$n.renderedView=$n.view,ap(ii),Wn($n.cursorDiv),Wn($n.selectionDiv),$n.gutters.style.height=$n.sizer.style.minHeight=0,Gr&&($n.lastWrapHeight=En.wrapperHeight,$n.lastWrapWidth=En.wrapperWidth,Wd(wn,400)),$n.updateLineNumbers=null,!0}function is(wn,En){for(var $n=En.viewport,Rn=!0;;Rn=!1){if(!Rn||!wn.options.lineWrapping||En.oldDisplayWidth==sl(wn)){if($n&&$n.top!=null&&($n={top:Math.min(wn.doc.height+ls(wn.display)-Dc(wn),$n.top)}),En.visible=_r(wn.display,wn.doc,$n),En.visible.from>=wn.display.viewFrom&&En.visible.to<=wn.display.viewTo)break}else Rn&&(En.visible=_r(wn.display,wn.doc,$n));if(!rh(wn,En))break;Tc(wn);var Fn=jd(wn);Ru(wn),Bc(wn,Fn),Af(wn,Fn),En.force=!1}En.signal(wn,"update",wn),(wn.display.viewFrom!=wn.display.reportedViewFrom||wn.display.viewTo!=wn.display.reportedViewTo)&&(En.signal(wn,"viewportChange",wn,wn.display.viewFrom,wn.display.viewTo),wn.display.reportedViewFrom=wn.display.viewFrom,wn.display.reportedViewTo=wn.display.viewTo)}function Cc(wn,En){var $n=new zc(wn,En);if(rh(wn,$n)){Tc(wn),is(wn,$n);var Rn=jd(wn);Ru(wn),Bc(wn,Rn),Af(wn,Rn),$n.finish()}}function qd(wn,En,$n){var Rn=wn.display,Fn=wn.options.lineNumbers,Zn=Rn.lineDiv,zr=Zn.firstChild;function Gr(Qi){var ho=Qi.nextSibling;return hn&&On&&wn.display.currentWheelTarget==Qi?Qi.style.display="none":Qi.parentNode.removeChild(Qi),ho}for(var Kr=Rn.view,ii=Rn.viewFrom,mi=0;mi<Kr.length;mi++){var Ci=Kr[mi];if(!Ci.hidden)if(!Ci.node||Ci.node.parentNode!=Zn){var Vi=Ol(wn,Ci,ii,$n);Zn.insertBefore(Vi,zr)}else{for(;zr!=Ci.node;)zr=Gr(zr);var Ni=Fn&&En!=null&&En<=ii&&Ci.lineNumber;Ci.changes&&(Si(Ci.changes,"gutter")>-1&&(Ni=!1),Ps(wn,Ci,ii,$n)),Ni&&(Wn(Ci.lineNumber),Ci.lineNumber.appendChild(document.createTextNode(ul(wn.options,ii)))),zr=Ci.node.nextSibling}ii+=Ci.size}for(;zr;)zr=Gr(zr)}function ih(wn){var En=wn.gutters.offsetWidth;wn.sizer.style.marginLeft=En+"px",ws(wn,"gutterChanged",wn)}function Af(wn,En){wn.display.sizer.style.minHeight=En.docHeight+"px",wn.display.heightForcer.style.top=En.docHeight+"px",wn.display.gutters.style.height=En.docHeight+wn.display.barHeight+Ys(wn)+"px"}function Yd(wn){var En=wn.display,$n=En.view;if(!(!En.alignWidgets&&(!En.gutters.firstChild||!wn.options.fixedGutter))){for(var Rn=Ql(En)-En.scroller.scrollLeft+wn.doc.scrollLeft,Fn=En.gutters.offsetWidth,Zn=Rn+"px",zr=0;zr<$n.length;zr++)if(!$n[zr].hidden){wn.options.fixedGutter&&($n[zr].gutter&&($n[zr].gutter.style.left=Zn),$n[zr].gutterBackground&&($n[zr].gutterBackground.style.left=Zn));var Gr=$n[zr].alignable;if(Gr)for(var Kr=0;Kr<Gr.length;Kr++)Gr[Kr].style.left=Zn}wn.options.fixedGutter&&(En.gutters.style.left=Rn+Fn+"px")}}function oh(wn){if(!wn.options.lineNumbers)return!1;var En=wn.doc,$n=ul(wn.options,En.first+En.size-1),Rn=wn.display;if($n.length!=Rn.lineNumChars){var Fn=Rn.measure.appendChild(Xn("div",[Xn("div",$n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),Zn=Fn.firstChild.offsetWidth,zr=Fn.offsetWidth-Zn;return Rn.lineGutter.style.width="",Rn.lineNumInnerWidth=Math.max(Zn,Rn.lineGutter.offsetWidth-zr)+1,Rn.lineNumWidth=Rn.lineNumInnerWidth+zr,Rn.lineNumChars=Rn.lineNumInnerWidth?$n.length:-1,Rn.lineGutter.style.width=Rn.lineNumWidth+"px",ih(wn.display),!0}return!1}function ah(wn,En){for(var $n=[],Rn=!1,Fn=0;Fn<wn.length;Fn++){var Zn=wn[Fn],zr=null;if(typeof Zn!="string"&&(zr=Zn.style,Zn=Zn.className),Zn=="CodeMirror-linenumbers")if(En)Rn=!0;else continue;$n.push({className:Zn,style:zr})}return En&&!Rn&&$n.push({className:"CodeMirror-linenumbers",style:null}),$n}function sp(wn){var En=wn.gutters,$n=wn.gutterSpecs;Wn(En),wn.lineGutter=null;for(var Rn=0;Rn<$n.length;++Rn){var Fn=$n[Rn],Zn=Fn.className,zr=Fn.style,Gr=En.appendChild(Xn("div",null,"CodeMirror-gutter "+Zn));zr&&(Gr.style.cssText=zr),Zn=="CodeMirror-linenumbers"&&(wn.lineGutter=Gr,Gr.style.width=(wn.lineNumWidth||1)+"px")}En.style.display=$n.length?"":"none",ih(wn)}function Kd(wn){sp(wn.display),rs(wn),Yd(wn)}function lp(wn,En,$n,Rn){var Fn=this;this.input=$n,Fn.scrollbarFiller=Xn("div",null,"CodeMirror-scrollbar-filler"),Fn.scrollbarFiller.setAttribute("cm-not-content","true"),Fn.gutterFiller=Xn("div",null,"CodeMirror-gutter-filler"),Fn.gutterFiller.setAttribute("cm-not-content","true"),Fn.lineDiv=jr("div",null,"CodeMirror-code"),Fn.selectionDiv=Xn("div",null,null,"position: relative; z-index: 1"),Fn.cursorDiv=Xn("div",null,"CodeMirror-cursors"),Fn.measure=Xn("div",null,"CodeMirror-measure"),Fn.lineMeasure=Xn("div",null,"CodeMirror-measure"),Fn.lineSpace=jr("div",[Fn.measure,Fn.lineMeasure,Fn.selectionDiv,Fn.cursorDiv,Fn.lineDiv],null,"position: relative; outline: none");var Zn=jr("div",[Fn.lineSpace],"CodeMirror-lines");Fn.mover=Xn("div",[Zn],null,"position: relative"),Fn.sizer=Xn("div",[Fn.mover],"CodeMirror-sizer"),Fn.sizerWidth=null,Fn.heightForcer=Xn("div",null,null,"position: absolute; height: "+Pi+"px; width: 1px;"),Fn.gutters=Xn("div",null,"CodeMirror-gutters"),Fn.lineGutter=null,Fn.scroller=Xn("div",[Fn.sizer,Fn.heightForcer,Fn.gutters],"CodeMirror-scroll"),Fn.scroller.setAttribute("tabIndex","-1"),Fn.wrapper=Xn("div",[Fn.scrollbarFiller,Fn.gutterFiller,Fn.scroller],"CodeMirror"),gn&&mn>=105&&(Fn.wrapper.style.clipPath="inset(0px)"),Fn.wrapper.setAttribute("translate","no"),un&&fn<8&&(Fn.gutters.style.zIndex=-1,Fn.scroller.style.paddingRight=0),!hn&&!(rn&&In)&&(Fn.scroller.draggable=!0),wn&&(wn.appendChild?wn.appendChild(Fn.wrapper):wn(Fn.wrapper)),Fn.viewFrom=Fn.viewTo=En.first,Fn.reportedViewFrom=Fn.reportedViewTo=En.first,Fn.view=[],Fn.renderedView=null,Fn.externalMeasured=null,Fn.viewOffset=0,Fn.lastWrapHeight=Fn.lastWrapWidth=0,Fn.updateLineNumbers=null,Fn.nativeBarWidth=Fn.barHeight=Fn.barWidth=0,Fn.scrollbarsClipped=!1,Fn.lineNumWidth=Fn.lineNumInnerWidth=Fn.lineNumChars=null,Fn.alignWidgets=!1,Fn.cachedCharWidth=Fn.cachedTextHeight=Fn.cachedPaddingH=null,Fn.maxLine=null,Fn.maxLineLength=0,Fn.maxLineChanged=!1,Fn.wheelDX=Fn.wheelDY=Fn.wheelStartX=Fn.wheelStartY=null,Fn.shift=!1,Fn.selForContextMenu=null,Fn.activeTouch=null,Fn.gutterSpecs=ah(Rn.gutters,Rn.lineNumbers),sp(Fn),$n.init(Fn)}var Zd=0,nu=null;un?nu=-.53:rn?nu=15:gn?nu=-.7:kn&&(nu=-1/3);function sh(wn){var En=wn.wheelDeltaX,$n=wn.wheelDeltaY;return En==null&&wn.detail&&wn.axis==wn.HORIZONTAL_AXIS&&(En=wn.detail),$n==null&&wn.detail&&wn.axis==wn.VERTICAL_AXIS?$n=wn.detail:$n==null&&($n=wn.wheelDelta),{x:En,y:$n}}function cp(wn){var En=sh(wn);return En.x*=nu,En.y*=nu,En}function lh(wn,En){gn&&mn==102&&(wn.display.chromeScrollHack==null?wn.display.sizer.style.pointerEvents="none":clearTimeout(wn.display.chromeScrollHack),wn.display.chromeScrollHack=setTimeout(function(){wn.display.chromeScrollHack=null,wn.display.sizer.style.pointerEvents=""},100));var $n=sh(En),Rn=$n.x,Fn=$n.y,Zn=nu;En.deltaMode===0&&(Rn=En.deltaX,Fn=En.deltaY,Zn=1);var zr=wn.display,Gr=zr.scroller,Kr=Gr.scrollWidth>Gr.clientWidth,ii=Gr.scrollHeight>Gr.clientHeight;if(Rn&&Kr||Fn&&ii){if(Fn&&On&&hn){e:for(var mi=En.target,Ci=zr.view;mi!=Gr;mi=mi.parentNode)for(var Vi=0;Vi<Ci.length;Vi++)if(Ci[Vi].node==mi){wn.display.currentWheelTarget=mi;break e}}if(Rn&&!rn&&!_n&&Zn!=null){Fn&&ii&&Vd(wn,Math.max(0,Gr.scrollTop+Fn*Zn)),id(wn,Math.max(0,Gr.scrollLeft+Rn*Zn)),(!Fn||Fn&&ii)&&Fa(En),zr.wheelStartX=null;return}if(Fn&&Zn!=null){var Ni=Fn*Zn,Qi=wn.doc.scrollTop,ho=Qi+zr.wrapper.clientHeight;Ni<0?Qi=Math.max(0,Qi+Ni-50):ho=Math.min(wn.doc.height,ho+Ni+50),Cc(wn,{top:Qi,bottom:ho})}Zd<20&&En.deltaMode!==0&&(zr.wheelStartX==null?(zr.wheelStartX=Gr.scrollLeft,zr.wheelStartY=Gr.scrollTop,zr.wheelDX=Rn,zr.wheelDY=Fn,setTimeout(function(){if(zr.wheelStartX!=null){var Ao=Gr.scrollLeft-zr.wheelStartX,Lo=Gr.scrollTop-zr.wheelStartY,Vo=Lo&&zr.wheelDY&&Lo/zr.wheelDY||Ao&&zr.wheelDX&&Ao/zr.wheelDX;zr.wheelStartX=zr.wheelStartY=null,Vo&&(nu=(nu*Zd+Vo)/(Zd+1),++Zd)}},200)):(zr.wheelDX+=Rn,zr.wheelDY+=Fn))}}var Fl=function(wn,En){this.ranges=wn,this.primIndex=En};Fl.prototype.primary=function(){return this.ranges[this.primIndex]},Fl.prototype.equals=function(wn){if(wn==this)return!0;if(wn.primIndex!=this.primIndex||wn.ranges.length!=this.ranges.length)return!1;for(var En=0;En<this.ranges.length;En++){var $n=this.ranges[En],Rn=wn.ranges[En];if(!hs($n.anchor,Rn.anchor)||!hs($n.head,Rn.head))return!1}return!0},Fl.prototype.deepCopy=function(){for(var wn=[],En=0;En<this.ranges.length;En++)wn[En]=new cs(ml(this.ranges[En].anchor),ml(this.ranges[En].head));return new Fl(wn,this.primIndex)},Fl.prototype.somethingSelected=function(){for(var wn=0;wn<this.ranges.length;wn++)if(!this.ranges[wn].empty())return!0;return!1},Fl.prototype.contains=function(wn,En){En||(En=wn);for(var $n=0;$n<this.ranges.length;$n++){var Rn=this.ranges[$n];if(ea(En,Rn.from())>=0&&ea(wn,Rn.to())<=0)return $n}return-1};var cs=function(wn,En){this.anchor=wn,this.head=En};cs.prototype.from=function(){return vi(this.anchor,this.head)},cs.prototype.to=function(){return ki(this.anchor,this.head)},cs.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function xc(wn,En,$n){var Rn=wn&&wn.options.selectionsMayTouch,Fn=En[$n];En.sort(function(Vi,Ni){return ea(Vi.from(),Ni.from())}),$n=Si(En,Fn);for(var Zn=1;Zn<En.length;Zn++){var zr=En[Zn],Gr=En[Zn-1],Kr=ea(Gr.to(),zr.from());if(Rn&&!zr.empty()?Kr>0:Kr>=0){var ii=vi(Gr.from(),zr.from()),mi=ki(Gr.to(),zr.to()),Ci=Gr.empty()?zr.from()==zr.head:Gr.from()==Gr.head;Zn<=$n&&--$n,En.splice(--Zn,2,new cs(Ci?mi:ii,Ci?ii:mi))}}return new Fl(En,$n)}function ru(wn,En){return new Fl([new cs(wn,En||wn)],0)}function bu(wn){return wn.text?lo(wn.from.line+wn.text.length-1,Oi(wn.text).length+(wn.text.length==1?wn.from.ch:0)):wn.to}function ch(wn,En){if(ea(wn,En.from)<0)return wn;if(ea(wn,En.to)<=0)return bu(En);var $n=wn.line+En.text.length-(En.to.line-En.from.line)-1,Rn=wn.ch;return wn.line==En.to.line&&(Rn+=bu(En).ch-En.to.ch),lo($n,Rn)}function uh(wn,En){for(var $n=[],Rn=0;Rn<wn.sel.ranges.length;Rn++){var Fn=wn.sel.ranges[Rn];$n.push(new cs(ch(Fn.anchor,En),ch(Fn.head,En)))}return xc(wn.cm,$n,wn.sel.primIndex)}function dh(wn,En,$n){return wn.line==En.line?lo($n.line,wn.ch-En.ch+$n.ch):lo($n.line+(wn.line-En.line),wn.ch)}function cg(wn,En,$n){for(var Rn=[],Fn=lo(wn.first,0),Zn=Fn,zr=0;zr<En.length;zr++){var Gr=En[zr],Kr=dh(Gr.from,Fn,Zn),ii=dh(bu(Gr),Fn,Zn);if(Fn=Gr.to,Zn=ii,$n=="around"){var mi=wn.sel.ranges[zr],Ci=ea(mi.head,mi.anchor)<0;Rn[zr]=new cs(Ci?ii:Kr,Ci?Kr:ii)}else Rn[zr]=new cs(Kr,Kr)}return new Fl(Rn,wn.sel.primIndex)}function Cf(wn){wn.doc.mode=za(wn.options,wn.doc.modeOption),iu(wn)}function iu(wn){wn.doc.iter(function(En){En.stateAfter&&(En.stateAfter=null),En.styles&&(En.styles=null)}),wn.doc.modeFrontier=wn.doc.highlightFrontier=wn.doc.first,Wd(wn,100),wn.state.modeGen++,wn.curOp&&rs(wn)}function fh(wn,En){return En.from.ch==0&&En.to.ch==0&&Oi(En.text)==""&&(!wn.cm||wn.cm.options.wholeLineUpdateBefore)}function hh(wn,En,$n,Rn){function Fn(Vo){return $n?$n[Vo]:null}function Zn(Vo,Do,Yo){Ur(Vo,Do,Yo,Rn),ws(Vo,"change",Vo,En)}function zr(Vo,Do){for(var Yo=[],sa=Vo;sa<Do;++sa)Yo.push(new Fr(ii[sa],Fn(sa),Rn));return Yo}var Gr=En.from,Kr=En.to,ii=En.text,mi=Ei(wn,Gr.line),Ci=Ei(wn,Kr.line),Vi=Oi(ii),Ni=Fn(ii.length-1),Qi=Kr.line-Gr.line;if(En.full)wn.insert(0,zr(0,ii.length)),wn.remove(ii.length,wn.size-ii.length);else if(fh(wn,En)){var ho=zr(0,ii.length-1);Zn(Ci,Ci.text,Ni),Qi&&wn.remove(Gr.line,Qi),ho.length&&wn.insert(Gr.line,ho)}else if(mi==Ci)if(ii.length==1)Zn(mi,mi.text.slice(0,Gr.ch)+Vi+mi.text.slice(Kr.ch),Ni);else{var Ao=zr(1,ii.length-1);Ao.push(new Fr(Vi+mi.text.slice(Kr.ch),Ni,Rn)),Zn(mi,mi.text.slice(0,Gr.ch)+ii[0],Fn(0)),wn.insert(Gr.line+1,Ao)}else if(ii.length==1)Zn(mi,mi.text.slice(0,Gr.ch)+ii[0]+Ci.text.slice(Kr.ch),Fn(0)),wn.remove(Gr.line+1,Qi);else{Zn(mi,mi.text.slice(0,Gr.ch)+ii[0],Fn(0)),Zn(Ci,Vi+Ci.text.slice(Kr.ch),Ni);var Lo=zr(1,ii.length-1);Qi>1&&wn.remove(Gr.line+1,Qi-1),wn.insert(Gr.line+1,Lo)}ws(wn,"change",wn,En)}function gs(wn,En,$n){function Rn(Fn,Zn,zr){if(Fn.linked)for(var Gr=0;Gr<Fn.linked.length;++Gr){var Kr=Fn.linked[Gr];if(Kr.doc!=Zn){var ii=zr&&Kr.sharedHist;$n&&!ii||(En(Kr.doc,ii),Rn(Kr.doc,Fn,ii))}}}Rn(wn,null,!0)}function ph(wn,En){if(En.cm)throw new Error("This document is already in use.");wn.doc=En,En.cm=wn,Xs(wn),Cf(wn),up(wn),wn.options.direction=En.direction,wn.options.lineWrapping||qn(wn),wn.options.mode=En.modeOption,rs(wn)}function up(wn){(wn.doc.direction=="rtl"?ti:Yn)(wn.display.lineDiv,"CodeMirror-rtl")}function xf(wn){nl(wn,function(){up(wn),rs(wn)})}function Xd(wn){this.done=[],this.undone=[],this.undoDepth=wn?wn.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=wn?wn.maxGeneration:1}function gh(wn,En){var $n={from:ml(En.from),to:bu(En),text:vs(wn,En.from,En.to)};return yh(wn,$n,En.from.line,En.to.line+1),gs(wn,function(Rn){return yh(Rn,$n,En.from.line,En.to.line+1)},!0),$n}function vh(wn){for(;wn.length;){var En=Oi(wn);if(En.ranges)wn.pop();else break}}function ug(wn,En){if(En)return vh(wn.done),Oi(wn.done);if(wn.done.length&&!Oi(wn.done).ranges)return Oi(wn.done);if(wn.done.length>1&&!wn.done[wn.done.length-2].ranges)return wn.done.pop(),Oi(wn.done)}function mh(wn,En,$n,Rn){var Fn=wn.history;Fn.undone.length=0;var Zn=+new Date,zr,Gr;if((Fn.lastOp==Rn||Fn.lastOrigin==En.origin&&En.origin&&(En.origin.charAt(0)=="+"&&Fn.lastModTime>Zn-(wn.cm?wn.cm.options.historyEventDelay:500)||En.origin.charAt(0)=="*"))&&(zr=ug(Fn,Fn.lastOp==Rn)))Gr=Oi(zr.changes),ea(En.from,En.to)==0&&ea(En.from,Gr.to)==0?Gr.to=bu(En):zr.changes.push(gh(wn,En));else{var Kr=Oi(Fn.done);for((!Kr||!Kr.ranges)&&Cd(wn.sel,Fn.done),zr={changes:[gh(wn,En)],generation:Fn.generation},Fn.done.push(zr);Fn.done.length>Fn.undoDepth;)Fn.done.shift(),Fn.done[0].ranges||Fn.done.shift()}Fn.done.push($n),Fn.generation=++Fn.maxGeneration,Fn.lastModTime=Fn.lastSelTime=Zn,Fn.lastOp=Fn.lastSelOp=Rn,Fn.lastOrigin=Fn.lastSelOrigin=En.origin,Gr||la(wn,"historyAdded")}function dp(wn,En,$n,Rn){var Fn=En.charAt(0);return Fn=="*"||Fn=="+"&&$n.ranges.length==Rn.ranges.length&&$n.somethingSelected()==Rn.somethingSelected()&&new Date-wn.history.lastSelTime<=(wn.cm?wn.cm.options.historyEventDelay:500)}function dg(wn,En,$n,Rn){var Fn=wn.history,Zn=Rn&&Rn.origin;$n==Fn.lastSelOp||Zn&&Fn.lastSelOrigin==Zn&&(Fn.lastModTime==Fn.lastSelTime&&Fn.lastOrigin==Zn||dp(wn,Zn,Oi(Fn.done),En))?Fn.done[Fn.done.length-1]=En:Cd(En,Fn.done),Fn.lastSelTime=+new Date,Fn.lastSelOrigin=Zn,Fn.lastSelOp=$n,Rn&&Rn.clearRedo!==!1&&vh(Fn.undone)}function Cd(wn,En){var $n=Oi(En);$n&&$n.ranges&&$n.equals(wn)||En.push(wn)}function yh(wn,En,$n,Rn){var Fn=En["spans_"+wn.id],Zn=0;wn.iter(Math.max(wn.first,$n),Math.min(wn.first+wn.size,Rn),function(zr){zr.markedSpans&&((Fn||(Fn=En["spans_"+wn.id]={}))[Zn]=zr.markedSpans),++Zn})}function fg(wn){if(!wn)return null;for(var En,$n=0;$n<wn.length;++$n)wn[$n].marker.explicitlyCleared?En||(En=wn.slice(0,$n)):En&&En.push(wn[$n]);return En?En.length?En:null:wn}function hg(wn,En){var $n=En["spans_"+wn.id];if(!$n)return null;for(var Rn=[],Fn=0;Fn<En.text.length;++Fn)Rn.push(fg($n[Fn]));return Rn}function fp(wn,En){var $n=hg(wn,En),Rn=Ll(wn,En);if(!$n)return Rn;if(!Rn)return $n;for(var Fn=0;Fn<$n.length;++Fn){var Zn=$n[Fn],zr=Rn[Fn];if(Zn&&zr)e:for(var Gr=0;Gr<zr.length;++Gr){for(var Kr=zr[Gr],ii=0;ii<Zn.length;++ii)if(Zn[ii].marker==Kr.marker)continue e;Zn.push(Kr)}else zr&&($n[Fn]=zr)}return $n}function xd(wn,En,$n){for(var Rn=[],Fn=0;Fn<wn.length;++Fn){var Zn=wn[Fn];if(Zn.ranges){Rn.push($n?Fl.prototype.deepCopy.call(Zn):Zn);continue}var zr=Zn.changes,Gr=[];Rn.push({changes:Gr});for(var Kr=0;Kr<zr.length;++Kr){var ii=zr[Kr],mi=void 0;if(Gr.push({from:ii.from,to:ii.to,text:ii.text}),En)for(var Ci in ii)(mi=Ci.match(/^spans_(\d+)$/))&&Si(En,Number(mi[1]))>-1&&(Oi(Gr)[Ci]=ii[Ci],delete ii[Ci])}}return Rn}function Sf(wn,En,$n,Rn){if(Rn){var Fn=wn.anchor;if($n){var Zn=ea(En,Fn)<0;Zn!=ea($n,Fn)<0?(Fn=En,En=$n):Zn!=ea(En,$n)<0&&(En=$n)}return new cs(Fn,En)}else return new cs($n||En,En)}function Ef(wn,En,$n,Rn,Fn){Fn==null&&(Fn=wn.cm&&(wn.cm.display.shift||wn.extend)),Dl(wn,new Fl([Sf(wn.sel.primary(),En,$n,Fn)],0),Rn)}function Df(wn,En,$n){for(var Rn=[],Fn=wn.cm&&(wn.cm.display.shift||wn.extend),Zn=0;Zn<wn.sel.ranges.length;Zn++)Rn[Zn]=Sf(wn.sel.ranges[Zn],En[Zn],null,Fn);var zr=xc(wn.cm,Rn,wn.sel.primIndex);Dl(wn,zr,$n)}function Qd(wn,En,$n,Rn){var Fn=wn.sel.ranges.slice(0);Fn[En]=$n,Dl(wn,xc(wn.cm,Fn,wn.sel.primIndex),Rn)}function bh(wn,En,$n,Rn){Dl(wn,ru(En,$n),Rn)}function pg(wn,En,$n){var Rn={ranges:En.ranges,update:function(Fn){this.ranges=[];for(var Zn=0;Zn<Fn.length;Zn++)this.ranges[Zn]=new cs(Gi(wn,Fn[Zn].anchor),Gi(wn,Fn[Zn].head))},origin:$n&&$n.origin};return la(wn,"beforeSelectionChange",wn,Rn),wn.cm&&la(wn.cm,"beforeSelectionChange",wn.cm,Rn),Rn.ranges!=En.ranges?xc(wn.cm,Rn.ranges,Rn.ranges.length-1):En}function sd(wn,En,$n){var Rn=wn.history.done,Fn=Oi(Rn);Fn&&Fn.ranges?(Rn[Rn.length-1]=En,Jd(wn,En,$n)):Dl(wn,En,$n)}function Dl(wn,En,$n){Jd(wn,En,$n),dg(wn,wn.sel,wn.cm?wn.cm.curOp.id:NaN,$n)}function Jd(wn,En,$n){(da(wn,"beforeSelectionChange")||wn.cm&&da(wn.cm,"beforeSelectionChange"))&&(En=pg(wn,En,$n));var Rn=$n&&$n.bias||(ea(En.primary().head,wn.sel.primary().head)<0?-1:1);hp(wn,xo(wn,En,Rn,!0)),!($n&&$n.scroll===!1)&&wn.cm&&wn.cm.getOption("readOnly")!="nocursor"&&Ja(wn.cm)}function hp(wn,En){En.equals(wn.sel)||(wn.sel=En,wn.cm&&(wn.cm.curOp.updateInput=1,wn.cm.curOp.selectionChanged=!0,Ms(wn.cm)),ws(wn,"cursorActivity",wn))}function _h(wn){hp(wn,xo(wn,wn.sel,null,!1))}function xo(wn,En,$n,Rn){for(var Fn,Zn=0;Zn<En.ranges.length;Zn++){var zr=En.ranges[Zn],Gr=En.ranges.length==wn.sel.ranges.length&&wn.sel.ranges[Zn],Kr=qa(wn,zr.anchor,Gr&&Gr.anchor,$n,Rn),ii=zr.head==zr.anchor?Kr:qa(wn,zr.head,Gr&&Gr.head,$n,Rn);(Fn||Kr!=zr.anchor||ii!=zr.head)&&(Fn||(Fn=En.ranges.slice(0,Zn)),Fn[Zn]=new cs(Kr,ii))}return Fn?xc(wn.cm,Fn,En.primIndex):En}function ld(wn,En,$n,Rn,Fn){var Zn=Ei(wn,En.line);if(Zn.markedSpans)for(var zr=0;zr<Zn.markedSpans.length;++zr){var Gr=Zn.markedSpans[zr],Kr=Gr.marker,ii="selectLeft"in Kr?!Kr.selectLeft:Kr.inclusiveLeft,mi="selectRight"in Kr?!Kr.selectRight:Kr.inclusiveRight;if((Gr.from==null||(ii?Gr.from<=En.ch:Gr.from<En.ch))&&(Gr.to==null||(mi?Gr.to>=En.ch:Gr.to>En.ch))){if(Fn&&(la(Kr,"beforeCursorEnter"),Kr.explicitlyCleared))if(Zn.markedSpans){--zr;continue}else break;if(!Kr.atomic)continue;if($n){var Ci=Kr.find(Rn<0?1:-1),Vi=void 0;if((Rn<0?mi:ii)&&(Ci=wh(wn,Ci,-Rn,Ci&&Ci.line==En.line?Zn:null)),Ci&&Ci.line==En.line&&(Vi=ea(Ci,$n))&&(Rn<0?Vi<0:Vi>0))return ld(wn,Ci,En,Rn,Fn)}var Ni=Kr.find(Rn<0?-1:1);return(Rn<0?ii:mi)&&(Ni=wh(wn,Ni,Rn,Ni.line==En.line?Zn:null)),Ni?ld(wn,Ni,En,Rn,Fn):null}}return En}function qa(wn,En,$n,Rn,Fn){var Zn=Rn||1,zr=ld(wn,En,$n,Zn,Fn)||!Fn&&ld(wn,En,$n,Zn,!0)||ld(wn,En,$n,-Zn,Fn)||!Fn&&ld(wn,En,$n,-Zn,!0);return zr||(wn.cantEdit=!0,lo(wn.first,0))}function wh(wn,En,$n,Rn){return $n<0&&En.ch==0?En.line>wn.first?Gi(wn,lo(En.line-1)):null:$n>0&&En.ch==(Rn||Ei(wn,En.line)).text.length?En.line<wn.first+wn.size-1?lo(En.line+1,0):null:new lo(En.line,En.ch+$n)}function kh(wn){wn.setSelection(lo(wn.firstLine(),0),lo(wn.lastLine()),ji)}function Ah(wn,En,$n){var Rn={canceled:!1,from:En.from,to:En.to,text:En.text,origin:En.origin,cancel:function(){return Rn.canceled=!0}};return $n&&(Rn.update=function(Fn,Zn,zr,Gr){Fn&&(Rn.from=Gi(wn,Fn)),Zn&&(Rn.to=Gi(wn,Zn)),zr&&(Rn.text=zr),Gr!==void 0&&(Rn.origin=Gr)}),la(wn,"beforeChange",wn,Rn),wn.cm&&la(wn.cm,"beforeChange",wn.cm,Rn),Rn.canceled?(wn.cm&&(wn.cm.curOp.updateInput=2),null):{from:Rn.from,to:Rn.to,text:Rn.text,origin:Rn.origin}}function cd(wn,En,$n){if(wn.cm){if(!wn.cm.curOp)return dl(wn.cm,cd)(wn,En,$n);if(wn.cm.state.suppressEdits)return}if(!((da(wn,"beforeChange")||wn.cm&&da(wn.cm,"beforeChange"))&&(En=Ah(wn,En,!0),!En))){var Rn=va&&!$n&&nc(wn,En.from,En.to);if(Rn)for(var Fn=Rn.length-1;Fn>=0;--Fn)ef(wn,{from:Rn[Fn].from,to:Rn[Fn].to,text:Fn?[""]:En.text,origin:En.origin});else ef(wn,En)}}function ef(wn,En){if(!(En.text.length==1&&En.text[0]==""&&ea(En.from,En.to)==0)){var $n=uh(wn,En);mh(wn,En,$n,wn.cm?wn.cm.curOp.id:NaN),tf(wn,En,$n,Ll(wn,En));var Rn=[];gs(wn,function(Fn,Zn){!Zn&&Si(Rn,Fn.history)==-1&&(xh(Fn.history,En),Rn.push(Fn.history)),tf(Fn,En,null,Ll(Fn,En))})}}function Tf(wn,En,$n){var Rn=wn.cm&&wn.cm.state.suppressEdits;if(!(Rn&&!$n)){for(var Fn=wn.history,Zn,zr=wn.sel,Gr=En=="undo"?Fn.done:Fn.undone,Kr=En=="undo"?Fn.undone:Fn.done,ii=0;ii<Gr.length&&(Zn=Gr[ii],!($n?Zn.ranges&&!Zn.equals(wn.sel):!Zn.ranges));ii++);if(ii!=Gr.length){for(Fn.lastOrigin=Fn.lastSelOrigin=null;;)if(Zn=Gr.pop(),Zn.ranges){if(Cd(Zn,Kr),$n&&!Zn.equals(wn.sel)){Dl(wn,Zn,{clearRedo:!1});return}zr=Zn}else if(Rn){Gr.push(Zn);return}else break;var mi=[];Cd(zr,Kr),Kr.push({changes:mi,generation:Fn.generation}),Fn.generation=Zn.generation||++Fn.maxGeneration;for(var Ci=da(wn,"beforeChange")||wn.cm&&da(wn.cm,"beforeChange"),Vi=function(ho){var Ao=Zn.changes[ho];if(Ao.origin=En,Ci&&!Ah(wn,Ao,!1))return Gr.length=0,{};mi.push(gh(wn,Ao));var Lo=ho?uh(wn,Ao):Oi(Gr);tf(wn,Ao,Lo,fp(wn,Ao)),!ho&&wn.cm&&wn.cm.scrollIntoView({from:Ao.from,to:bu(Ao)});var Vo=[];gs(wn,function(Do,Yo){!Yo&&Si(Vo,Do.history)==-1&&(xh(Do.history,Ao),Vo.push(Do.history)),tf(Do,Ao,null,fp(Do,Ao))})},Ni=Zn.changes.length-1;Ni>=0;--Ni){var Qi=Vi(Ni);if(Qi)return Qi.v}}}}function Ch(wn,En){if(En!=0&&(wn.first+=En,wn.sel=new Fl(Wi(wn.sel.ranges,function(Fn){return new cs(lo(Fn.anchor.line+En,Fn.anchor.ch),lo(Fn.head.line+En,Fn.head.ch))}),wn.sel.primIndex),wn.cm)){rs(wn.cm,wn.first,wn.first-En,En);for(var $n=wn.cm.display,Rn=$n.viewFrom;Rn<$n.viewTo;Rn++)kc(wn.cm,Rn,"gutter")}}function tf(wn,En,$n,Rn){if(wn.cm&&!wn.cm.curOp)return dl(wn.cm,tf)(wn,En,$n,Rn);if(En.to.line<wn.first){Ch(wn,En.text.length-1-(En.to.line-En.from.line));return}if(!(En.from.line>wn.lastLine())){if(En.from.line<wn.first){var Fn=En.text.length-1-(wn.first-En.from.line);Ch(wn,Fn),En={from:lo(wn.first,0),to:lo(En.to.line+Fn,En.to.ch),text:[Oi(En.text)],origin:En.origin}}var Zn=wn.lastLine();En.to.line>Zn&&(En={from:En.from,to:lo(Zn,Ei(wn,Zn).text.length),text:[En.text[0]],origin:En.origin}),En.removed=vs(wn,En.from,En.to),$n||($n=uh(wn,En)),wn.cm?Mf(wn.cm,En,Rn):hh(wn,En,Rn),Jd(wn,$n,ji),wn.cantEdit&&qa(wn,lo(wn.firstLine(),0))&&(wn.cantEdit=!1)}}function Mf(wn,En,$n){var Rn=wn.doc,Fn=wn.display,Zn=En.from,zr=En.to,Gr=!1,Kr=Zn.line;wn.options.lineWrapping||(Kr=Ea(Za(Ei(Rn,Zn.line))),Rn.iter(Kr,zr.line+1,function(Ni){if(Ni==Fn.maxLine)return Gr=!0,!0})),Rn.sel.contains(En.from,En.to)>-1&&Ms(wn),hh(Rn,En,$n,Nl(wn)),wn.options.lineWrapping||(Rn.iter(Kr,Zn.line+En.text.length,function(Ni){var Qi=zn(Ni);Qi>Fn.maxLineLength&&(Fn.maxLine=Ni,Fn.maxLineLength=Qi,Fn.maxLineChanged=!0,Gr=!1)}),Gr&&(wn.curOp.updateMaxLine=!0)),ms(Rn,Zn.line),Wd(wn,400);var ii=En.text.length-(zr.line-Zn.line)-1;En.full?rs(wn):Zn.line==zr.line&&En.text.length==1&&!fh(wn.doc,En)?kc(wn,Zn.line,"text"):rs(wn,Zn.line,zr.line+1,ii);var mi=da(wn,"changes"),Ci=da(wn,"change");if(Ci||mi){var Vi={from:Zn,to:zr,text:En.text,removed:En.removed,origin:En.origin};Ci&&ws(wn,"change",wn,Vi),mi&&(wn.curOp.changeObjs||(wn.curOp.changeObjs=[])).push(Vi)}wn.display.selForContextMenu=null}function ud(wn,En,$n,Rn,Fn){var Zn;Rn||(Rn=$n),ea(Rn,$n)<0&&(Zn=[Rn,$n],$n=Zn[0],Rn=Zn[1]),typeof En=="string"&&(En=wn.splitLines(En)),cd(wn,{from:$n,to:Rn,text:En,origin:Fn})}function pp(wn,En,$n,Rn){$n<wn.line?wn.line+=Rn:En<wn.line&&(wn.line=En,wn.ch=0)}function If(wn,En,$n,Rn){for(var Fn=0;Fn<wn.length;++Fn){var Zn=wn[Fn],zr=!0;if(Zn.ranges){Zn.copied||(Zn=wn[Fn]=Zn.deepCopy(),Zn.copied=!0);for(var Gr=0;Gr<Zn.ranges.length;Gr++)pp(Zn.ranges[Gr].anchor,En,$n,Rn),pp(Zn.ranges[Gr].head,En,$n,Rn);continue}for(var Kr=0;Kr<Zn.changes.length;++Kr){var ii=Zn.changes[Kr];if($n<ii.from.line)ii.from=lo(ii.from.line+Rn,ii.from.ch),ii.to=lo(ii.to.line+Rn,ii.to.ch);else if(En<=ii.to.line){zr=!1;break}}zr||(wn.splice(0,Fn+1),Fn=0)}}function xh(wn,En){var $n=En.from.line,Rn=En.to.line,Fn=En.text.length-(Rn-$n)-1;If(wn.done,$n,Rn,Fn),If(wn.undone,$n,Rn,Fn)}function nf(wn,En,$n,Rn){var Fn=En,Zn=En;return typeof En=="number"?Zn=Ei(wn,Bi(wn,En)):Fn=Ea(En),Fn==null?null:(Rn(Zn,Fn)&&wn.cm&&kc(wn.cm,Fn,$n),Zn)}function Hc(wn){this.lines=wn,this.parent=null;for(var En=0,$n=0;$n<wn.length;++$n)wn[$n].parent=this,En+=wn[$n].height;this.height=En}Hc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(wn,En){for(var $n=wn,Rn=wn+En;$n<Rn;++$n){var Fn=this.lines[$n];this.height-=Fn.height,ei(Fn),ws(Fn,"delete")}this.lines.splice(wn,En)},collapse:function(wn){wn.push.apply(wn,this.lines)},insertInner:function(wn,En,$n){this.height+=$n,this.lines=this.lines.slice(0,wn).concat(En).concat(this.lines.slice(wn));for(var Rn=0;Rn<En.length;++Rn)En[Rn].parent=this},iterN:function(wn,En,$n){for(var Rn=wn+En;wn<Rn;++wn)if($n(this.lines[wn]))return!0}};function Sd(wn){this.children=wn;for(var En=0,$n=0,Rn=0;Rn<wn.length;++Rn){var Fn=wn[Rn];En+=Fn.chunkSize(),$n+=Fn.height,Fn.parent=this}this.size=En,this.height=$n,this.parent=null}Sd.prototype={chunkSize:function(){return this.size},removeInner:function(wn,En){this.size-=En;for(var $n=0;$n<this.children.length;++$n){var Rn=this.children[$n],Fn=Rn.chunkSize();if(wn<Fn){var Zn=Math.min(En,Fn-wn),zr=Rn.height;if(Rn.removeInner(wn,Zn),this.height-=zr-Rn.height,Fn==Zn&&(this.children.splice($n--,1),Rn.parent=null),(En-=Zn)==0)break;wn=0}else wn-=Fn}if(this.size-En<25&&(this.children.length>1||!(this.children[0]instanceof Hc))){var Gr=[];this.collapse(Gr),this.children=[new Hc(Gr)],this.children[0].parent=this}},collapse:function(wn){for(var En=0;En<this.children.length;++En)this.children[En].collapse(wn)},insertInner:function(wn,En,$n){this.size+=En.length,this.height+=$n;for(var Rn=0;Rn<this.children.length;++Rn){var Fn=this.children[Rn],Zn=Fn.chunkSize();if(wn<=Zn){if(Fn.insertInner(wn,En,$n),Fn.lines&&Fn.lines.length>50){for(var zr=Fn.lines.length%25+25,Gr=zr;Gr<Fn.lines.length;){var Kr=new Hc(Fn.lines.slice(Gr,Gr+=25));Fn.height-=Kr.height,this.children.splice(++Rn,0,Kr),Kr.parent=this}Fn.lines=Fn.lines.slice(0,zr),this.maybeSpill()}break}wn-=Zn}},maybeSpill:function(){if(!(this.children.length<=10)){var wn=this;do{var En=wn.children.splice(wn.children.length-5,5),$n=new Sd(En);if(wn.parent){wn.size-=$n.size,wn.height-=$n.height;var Fn=Si(wn.parent.children,wn);wn.parent.children.splice(Fn+1,0,$n)}else{var Rn=new Sd(wn.children);Rn.parent=wn,wn.children=[Rn,$n],wn=Rn}$n.parent=wn.parent}while(wn.children.length>10);wn.parent.maybeSpill()}},iterN:function(wn,En,$n){for(var Rn=0;Rn<this.children.length;++Rn){var Fn=this.children[Rn],Zn=Fn.chunkSize();if(wn<Zn){var zr=Math.min(En,Zn-wn);if(Fn.iterN(wn,zr,$n))return!0;if((En-=zr)==0)break;wn=0}else wn-=Zn}}};var Vc=function(wn,En,$n){if($n)for(var Rn in $n)$n.hasOwnProperty(Rn)&&(this[Rn]=$n[Rn]);this.doc=wn,this.node=En};Vc.prototype.clear=function(){var wn=this.doc.cm,En=this.line.widgets,$n=this.line,Rn=Ea($n);if(!(Rn==null||!En)){for(var Fn=0;Fn<En.length;++Fn)En[Fn]==this&&En.splice(Fn--,1);En.length||($n.widgets=null);var Zn=Zc(this);Bs($n,Math.max(0,$n.height-Zn)),wn&&(nl(wn,function(){Ls(wn,$n,-Zn),kc(wn,Rn,"widget")}),ws(wn,"lineWidgetCleared",wn,this,Rn))}},Vc.prototype.changed=function(){var wn=this,En=this.height,$n=this.doc.cm,Rn=this.line;this.height=null;var Fn=Zc(this)-En;Fn&&(El(this.doc,Rn)||Bs(Rn,Rn.height+Fn),$n&&nl($n,function(){$n.curOp.forceUpdate=!0,Ls($n,Rn,Fn),ws($n,"lineWidgetChanged",$n,wn,Ea(Rn))}))},os(Vc);function Ls(wn,En,$n){al(En)<(wn.curOp&&wn.curOp.scrollTop||wn.doc.scrollTop)&&aa(wn,$n)}function ou(wn,En,$n,Rn){var Fn=new Vc(wn,$n,Rn),Zn=wn.cm;return Zn&&Fn.noHScroll&&(Zn.display.alignWidgets=!0),nf(wn,En,"widget",function(zr){var Gr=zr.widgets||(zr.widgets=[]);if(Fn.insertAt==null?Gr.push(Fn):Gr.splice(Math.min(Gr.length,Math.max(0,Fn.insertAt)),0,Fn),Fn.line=zr,Zn&&!El(wn,zr)){var Kr=al(zr)<wn.scrollTop;Bs(zr,zr.height+Zc(Fn)),Kr&&aa(Zn,Fn.height),Zn.curOp.forceUpdate=!0}return!0}),Zn&&ws(Zn,"lineWidgetAdded",Zn,Fn,typeof En=="number"?En:Ea(En)),Fn}var jc=0,_u=function(wn,En){this.lines=[],this.type=En,this.doc=wn,this.id=++jc};_u.prototype.clear=function(){if(!this.explicitlyCleared){var wn=this.doc.cm,En=wn&&!wn.curOp;if(En&&od(wn),da(this,"clear")){var $n=this.find();$n&&ws(this,"clear",$n.from,$n.to)}for(var Rn=null,Fn=null,Zn=0;Zn<this.lines.length;++Zn){var zr=this.lines[Zn],Gr=ps(zr.markedSpans,this);wn&&!this.collapsed?kc(wn,Ea(zr),"text"):wn&&(Gr.to!=null&&(Fn=Ea(zr)),Gr.from!=null&&(Rn=Ea(zr))),zr.markedSpans=Is(zr.markedSpans,Gr),Gr.from==null&&this.collapsed&&!El(this.doc,zr)&&wn&&Bs(zr,Hs(wn.display))}if(wn&&this.collapsed&&!wn.options.lineWrapping)for(var Kr=0;Kr<this.lines.length;++Kr){var ii=Za(this.lines[Kr]),mi=zn(ii);mi>wn.display.maxLineLength&&(wn.display.maxLine=ii,wn.display.maxLineLength=mi,wn.display.maxLineChanged=!0)}Rn!=null&&wn&&this.collapsed&&rs(wn,Rn,Fn+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,wn&&_h(wn.doc)),wn&&ws(wn,"markerCleared",wn,this,Rn,Fn),En&&ad(wn),this.parent&&this.parent.clear()}},_u.prototype.find=function(wn,En){wn==null&&this.type=="bookmark"&&(wn=1);for(var $n,Rn,Fn=0;Fn<this.lines.length;++Fn){var Zn=this.lines[Fn],zr=ps(Zn.markedSpans,this);if(zr.from!=null&&($n=lo(En?Zn:Ea(Zn),zr.from),wn==-1))return $n;if(zr.to!=null&&(Rn=lo(En?Zn:Ea(Zn),zr.to),wn==1))return Rn}return $n&&{from:$n,to:Rn}},_u.prototype.changed=function(){var wn=this,En=this.find(-1,!0),$n=this,Rn=this.doc.cm;!En||!Rn||nl(Rn,function(){var Fn=En.line,Zn=Ea(En.line),zr=gc(Rn,Zn);if(zr&&(gu(zr),Rn.curOp.selectionChanged=Rn.curOp.forceUpdate=!0),Rn.curOp.updateMaxLine=!0,!El($n.doc,Fn)&&$n.height!=null){var Gr=$n.height;$n.height=null;var Kr=Zc($n)-Gr;Kr&&Bs(Fn,Fn.height+Kr)}ws(Rn,"markerChanged",Rn,wn)})},_u.prototype.attachLine=function(wn){if(!this.lines.length&&this.doc.cm){var En=this.doc.cm.curOp;(!En.maybeHiddenMarkers||Si(En.maybeHiddenMarkers,this)==-1)&&(En.maybeUnhiddenMarkers||(En.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(wn)},_u.prototype.detachLine=function(wn){if(this.lines.splice(Si(this.lines,wn),1),!this.lines.length&&this.doc.cm){var En=this.doc.cm.curOp;(En.maybeHiddenMarkers||(En.maybeHiddenMarkers=[])).push(this)}},os(_u);function Fu(wn,En,$n,Rn,Fn){if(Rn&&Rn.shared)return gg(wn,En,$n,Rn,Fn);if(wn.cm&&!wn.cm.curOp)return dl(wn.cm,Fu)(wn,En,$n,Rn,Fn);var Zn=new _u(wn,Fn),zr=ea(En,$n);if(Rn&&ri(Rn,Zn,!1),zr>0||zr==0&&Zn.clearWhenEmpty!==!1)return Zn;if(Zn.replacedWith&&(Zn.collapsed=!0,Zn.widgetNode=jr("span",[Zn.replacedWith],"CodeMirror-widget"),Rn.handleMouseEvents||Zn.widgetNode.setAttribute("cm-ignore-events","true"),Rn.insertLeft&&(Zn.widgetNode.insertLeft=!0)),Zn.collapsed){if(Pa(wn,En.line,En,$n,Zn)||En.line!=$n.line&&Pa(wn,$n.line,En,$n,Zn))throw new Error("Inserting collapsed marker partially overlapping an existing one");_s()}Zn.addToHistory&&mh(wn,{from:En,to:$n,origin:"markText"},wn.sel,NaN);var Gr=En.line,Kr=wn.cm,ii;if(wn.iter(Gr,$n.line+1,function(Ci){Kr&&Zn.collapsed&&!Kr.options.lineWrapping&&Za(Ci)==Kr.display.maxLine&&(ii=!0),Zn.collapsed&&Gr!=En.line&&Bs(Ci,0),xs(Ci,new ts(Zn,Gr==En.line?En.ch:null,Gr==$n.line?$n.ch:null),wn.cm&&wn.cm.curOp),++Gr}),Zn.collapsed&&wn.iter(En.line,$n.line+1,function(Ci){El(wn,Ci)&&Bs(Ci,0)}),Zn.clearOnEnter&&Xi(Zn,"beforeCursorEnter",function(){return Zn.clear()}),Zn.readOnly&&(La(),(wn.history.done.length||wn.history.undone.length)&&wn.clearHistory()),Zn.collapsed&&(Zn.id=++jc,Zn.atomic=!0),Kr){if(ii&&(Kr.curOp.updateMaxLine=!0),Zn.collapsed)rs(Kr,En.line,$n.line+1);else if(Zn.className||Zn.startStyle||Zn.endStyle||Zn.css||Zn.attributes||Zn.title)for(var mi=En.line;mi<=$n.line;mi++)kc(Kr,mi,"text");Zn.atomic&&_h(Kr.doc),ws(Kr,"markerAdded",Kr,Zn)}return Zn}var zu=function(wn,En){this.markers=wn,this.primary=En;for(var $n=0;$n<wn.length;++$n)wn[$n].parent=this};zu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var wn=0;wn<this.markers.length;++wn)this.markers[wn].clear();ws(this,"clear")}},zu.prototype.find=function(wn,En){return this.primary.find(wn,En)},os(zu);function gg(wn,En,$n,Rn,Fn){Rn=ri(Rn),Rn.shared=!1;var Zn=[Fu(wn,En,$n,Rn,Fn)],zr=Zn[0],Gr=Rn.widgetNode;return gs(wn,function(Kr){Gr&&(Rn.widgetNode=Gr.cloneNode(!0)),Zn.push(Fu(Kr,Gi(Kr,En),Gi(Kr,$n),Rn,Fn));for(var ii=0;ii<Kr.linked.length;++ii)if(Kr.linked[ii].isParent)return;zr=Oi(Zn)}),new zu(Zn,zr)}function gp(wn){return wn.findMarks(lo(wn.first,0),wn.clipPos(lo(wn.lastLine())),function(En){return En.parent})}function vg(wn,En){for(var $n=0;$n<En.length;$n++){var Rn=En[$n],Fn=Rn.find(),Zn=wn.clipPos(Fn.from),zr=wn.clipPos(Fn.to);if(ea(Zn,zr)){var Gr=Fu(wn,Zn,zr,Rn.primary,Rn.primary.type);Rn.markers.push(Gr),Gr.parent=Rn}}}function Sh(wn){for(var En=function(Rn){var Fn=wn[Rn],Zn=[Fn.primary.doc];gs(Fn.primary.doc,function(Kr){return Zn.push(Kr)});for(var zr=0;zr<Fn.markers.length;zr++){var Gr=Fn.markers[zr];Si(Zn,Gr.doc)==-1&&(Gr.parent=null,Fn.markers.splice(zr--,1))}},$n=0;$n<wn.length;$n++)En($n)}var mg=0,oc=function(wn,En,$n,Rn,Fn){if(!(this instanceof oc))return new oc(wn,En,$n,Rn,Fn);$n==null&&($n=0),Sd.call(this,[new Hc([new Fr("",null)])]),this.first=$n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=$n;var Zn=lo($n,0);this.sel=ru(Zn),this.history=new Xd(null),this.id=++mg,this.modeOption=En,this.lineSep=Rn,this.direction=Fn=="rtl"?"rtl":"ltr",this.extend=!1,typeof wn=="string"&&(wn=this.splitLines(wn)),hh(this,{from:Zn,to:Zn,text:wn}),Dl(this,ru(Zn),ji)};oc.prototype=ro(Sd.prototype,{constructor:oc,iter:function(wn,En,$n){$n?this.iterN(wn-this.first,En-wn,$n):this.iterN(this.first,this.first+this.size,wn)},insert:function(wn,En){for(var $n=0,Rn=0;Rn<En.length;++Rn)$n+=En[Rn].height;this.insertInner(wn-this.first,En,$n)},remove:function(wn,En){this.removeInner(wn-this.first,En)},getValue:function(wn){var En=ma(this,this.first,this.first+this.size);return wn===!1?En:En.join(wn||this.lineSeparator())},setValue:fl(function(wn){var En=lo(this.first,0),$n=this.first+this.size-1;cd(this,{from:En,to:lo($n,Ei(this,$n).text.length),text:this.splitLines(wn),origin:"setValue",full:!0},!0),this.cm&&ys(this.cm,0,0),Dl(this,ru(En),ji)}),replaceRange:function(wn,En,$n,Rn){En=Gi(this,En),$n=$n?Gi(this,$n):En,ud(this,wn,En,$n,Rn)},getRange:function(wn,En,$n){var Rn=vs(this,Gi(this,wn),Gi(this,En));return $n===!1?Rn:$n===""?Rn.join(""):Rn.join($n||this.lineSeparator())},getLine:function(wn){var En=this.getLineHandle(wn);return En&&En.text},getLineHandle:function(wn){if(Js(this,wn))return Ei(this,wn)},getLineNumber:function(wn){return Ea(wn)},getLineHandleVisualStart:function(wn){return typeof wn=="number"&&(wn=Ei(this,wn)),Za(wn)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(wn){return Gi(this,wn)},getCursor:function(wn){var En=this.sel.primary(),$n;return wn==null||wn=="head"?$n=En.head:wn=="anchor"?$n=En.anchor:wn=="end"||wn=="to"||wn===!1?$n=En.to():$n=En.from(),$n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:fl(function(wn,En,$n){bh(this,Gi(this,typeof wn=="number"?lo(wn,En||0):wn),null,$n)}),setSelection:fl(function(wn,En,$n){bh(this,Gi(this,wn),Gi(this,En||wn),$n)}),extendSelection:fl(function(wn,En,$n){Ef(this,Gi(this,wn),En&&Gi(this,En),$n)}),extendSelections:fl(function(wn,En){Df(this,Eo(this,wn),En)}),extendSelectionsBy:fl(function(wn,En){var $n=Wi(this.sel.ranges,wn);Df(this,Eo(this,$n),En)}),setSelections:fl(function(wn,En,$n){if(wn.length){for(var Rn=[],Fn=0;Fn<wn.length;Fn++)Rn[Fn]=new cs(Gi(this,wn[Fn].anchor),Gi(this,wn[Fn].head||wn[Fn].anchor));En==null&&(En=Math.min(wn.length-1,this.sel.primIndex)),Dl(this,xc(this.cm,Rn,En),$n)}}),addSelection:fl(function(wn,En,$n){var Rn=this.sel.ranges.slice(0);Rn.push(new cs(Gi(this,wn),Gi(this,En||wn))),Dl(this,xc(this.cm,Rn,Rn.length-1),$n)}),getSelection:function(wn){for(var En=this.sel.ranges,$n,Rn=0;Rn<En.length;Rn++){var Fn=vs(this,En[Rn].from(),En[Rn].to());$n=$n?$n.concat(Fn):Fn}return wn===!1?$n:$n.join(wn||this.lineSeparator())},getSelections:function(wn){for(var En=[],$n=this.sel.ranges,Rn=0;Rn<$n.length;Rn++){var Fn=vs(this,$n[Rn].from(),$n[Rn].to());wn!==!1&&(Fn=Fn.join(wn||this.lineSeparator())),En[Rn]=Fn}return En},replaceSelection:function(wn,En,$n){for(var Rn=[],Fn=0;Fn<this.sel.ranges.length;Fn++)Rn[Fn]=wn;this.replaceSelections(Rn,En,$n||"+input")},replaceSelections:fl(function(wn,En,$n){for(var Rn=[],Fn=this.sel,Zn=0;Zn<Fn.ranges.length;Zn++){var zr=Fn.ranges[Zn];Rn[Zn]={from:zr.from(),to:zr.to(),text:this.splitLines(wn[Zn]),origin:$n}}for(var Gr=En&&En!="end"&&cg(this,Rn,En),Kr=Rn.length-1;Kr>=0;Kr--)cd(this,Rn[Kr]);Gr?sd(this,Gr):this.cm&&Ja(this.cm)}),undo:fl(function(){Tf(this,"undo")}),redo:fl(function(){Tf(this,"redo")}),undoSelection:fl(function(){Tf(this,"undo",!0)}),redoSelection:fl(function(){Tf(this,"redo",!0)}),setExtending:function(wn){this.extend=wn},getExtending:function(){return this.extend},historySize:function(){for(var wn=this.history,En=0,$n=0,Rn=0;Rn<wn.done.length;Rn++)wn.done[Rn].ranges||++En;for(var Fn=0;Fn<wn.undone.length;Fn++)wn.undone[Fn].ranges||++$n;return{undo:En,redo:$n}},clearHistory:function(){var wn=this;this.history=new Xd(this.history),gs(this,function(En){return En.history=wn.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(wn){return wn&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(wn){return this.history.generation==(wn||this.cleanGeneration)},getHistory:function(){return{done:xd(this.history.done),undone:xd(this.history.undone)}},setHistory:function(wn){var En=this.history=new Xd(this.history);En.done=xd(wn.done.slice(0),null,!0),En.undone=xd(wn.undone.slice(0),null,!0)},setGutterMarker:fl(function(wn,En,$n){return nf(this,wn,"gutter",function(Rn){var Fn=Rn.gutterMarkers||(Rn.gutterMarkers={});return Fn[En]=$n,!$n&&Ti(Fn)&&(Rn.gutterMarkers=null),!0})}),clearGutter:fl(function(wn){var En=this;this.iter(function($n){$n.gutterMarkers&&$n.gutterMarkers[wn]&&nf(En,$n,"gutter",function(){return $n.gutterMarkers[wn]=null,Ti($n.gutterMarkers)&&($n.gutterMarkers=null),!0})})}),lineInfo:function(wn){var En;if(typeof wn=="number"){if(!Js(this,wn)||(En=wn,wn=Ei(this,wn),!wn))return null}else if(En=Ea(wn),En==null)return null;return{line:En,handle:wn,text:wn.text,gutterMarkers:wn.gutterMarkers,textClass:wn.textClass,bgClass:wn.bgClass,wrapClass:wn.wrapClass,widgets:wn.widgets}},addLineClass:fl(function(wn,En,$n){return nf(this,wn,En=="gutter"?"gutter":"class",function(Rn){var Fn=En=="text"?"textClass":En=="background"?"bgClass":En=="gutter"?"gutterClass":"wrapClass";if(!Rn[Fn])Rn[Fn]=$n;else{if(jn($n).test(Rn[Fn]))return!1;Rn[Fn]+=" "+$n}return!0})}),removeLineClass:fl(function(wn,En,$n){return nf(this,wn,En=="gutter"?"gutter":"class",function(Rn){var Fn=En=="text"?"textClass":En=="background"?"bgClass":En=="gutter"?"gutterClass":"wrapClass",Zn=Rn[Fn];if(Zn)if($n==null)Rn[Fn]=null;else{var zr=Zn.match(jn($n));if(!zr)return!1;var Gr=zr.index+zr[0].length;Rn[Fn]=Zn.slice(0,zr.index)+(!zr.index||Gr==Zn.length?"":" ")+Zn.slice(Gr)||null}else return!1;return!0})}),addLineWidget:fl(function(wn,En,$n){return ou(this,wn,En,$n)}),removeLineWidget:function(wn){wn.clear()},markText:function(wn,En,$n){return Fu(this,Gi(this,wn),Gi(this,En),$n,$n&&$n.type||"range")},setBookmark:function(wn,En){var $n={replacedWith:En&&(En.nodeType==null?En.widget:En),insertLeft:En&&En.insertLeft,clearWhenEmpty:!1,shared:En&&En.shared,handleMouseEvents:En&&En.handleMouseEvents};return wn=Gi(this,wn),Fu(this,wn,wn,$n,"bookmark")},findMarksAt:function(wn){wn=Gi(this,wn);var En=[],$n=Ei(this,wn.line).markedSpans;if($n)for(var Rn=0;Rn<$n.length;++Rn){var Fn=$n[Rn];(Fn.from==null||Fn.from<=wn.ch)&&(Fn.to==null||Fn.to>=wn.ch)&&En.push(Fn.marker.parent||Fn.marker)}return En},findMarks:function(wn,En,$n){wn=Gi(this,wn),En=Gi(this,En);var Rn=[],Fn=wn.line;return this.iter(wn.line,En.line+1,function(Zn){var zr=Zn.markedSpans;if(zr)for(var Gr=0;Gr<zr.length;Gr++){var Kr=zr[Gr];!(Kr.to!=null&&Fn==wn.line&&wn.ch>=Kr.to||Kr.from==null&&Fn!=wn.line||Kr.from!=null&&Fn==En.line&&Kr.from>=En.ch)&&(!$n||$n(Kr.marker))&&Rn.push(Kr.marker.parent||Kr.marker)}++Fn}),Rn},getAllMarks:function(){var wn=[];return this.iter(function(En){var $n=En.markedSpans;if($n)for(var Rn=0;Rn<$n.length;++Rn)$n[Rn].from!=null&&wn.push($n[Rn].marker)}),wn},posFromIndex:function(wn){var En,$n=this.first,Rn=this.lineSeparator().length;return this.iter(function(Fn){var Zn=Fn.text.length+Rn;if(Zn>wn)return En=wn,!0;wn-=Zn,++$n}),Gi(this,lo($n,En))},indexFromPos:function(wn){wn=Gi(this,wn);var En=wn.ch;if(wn.line<this.first||wn.ch<0)return 0;var $n=this.lineSeparator().length;return this.iter(this.first,wn.line,function(Rn){En+=Rn.text.length+$n}),En},copy:function(wn){var En=new oc(ma(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return En.scrollTop=this.scrollTop,En.scrollLeft=this.scrollLeft,En.sel=this.sel,En.extend=!1,wn&&(En.history.undoDepth=this.history.undoDepth,En.setHistory(this.getHistory())),En},linkedDoc:function(wn){wn||(wn={});var En=this.first,$n=this.first+this.size;wn.from!=null&&wn.from>En&&(En=wn.from),wn.to!=null&&wn.to<$n&&($n=wn.to);var Rn=new oc(ma(this,En,$n),wn.mode||this.modeOption,En,this.lineSep,this.direction);return wn.sharedHist&&(Rn.history=this.history),(this.linked||(this.linked=[])).push({doc:Rn,sharedHist:wn.sharedHist}),Rn.linked=[{doc:this,isParent:!0,sharedHist:wn.sharedHist}],vg(Rn,gp(this)),Rn},unlinkDoc:function(wn){if(wn instanceof Os&&(wn=wn.doc),this.linked)for(var En=0;En<this.linked.length;++En){var $n=this.linked[En];if($n.doc==wn){this.linked.splice(En,1),wn.unlinkDoc(this),Sh(gp(this));break}}if(wn.history==this.history){var Rn=[wn.id];gs(wn,function(Fn){return Rn.push(Fn.id)},!0),wn.history=new Xd(null),wn.history.done=xd(this.history.done,Rn),wn.history.undone=xd(this.history.undone,Rn)}},iterLinkedDocs:function(wn){gs(this,wn)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(wn){return this.lineSep?wn.split(this.lineSep):So(wn)},lineSeparator:function(){return this.lineSep||`
`},setDirection:fl(function(wn){wn!="rtl"&&(wn="ltr"),wn!=this.direction&&(this.direction=wn,this.iter(function(En){return En.order=null}),this.cm&&xf(this.cm))})}),oc.prototype.eachLine=oc.prototype.iter;var vp=0;function yg(wn){var En=this;if(mp(En),!(ya(En,wn)||wc(En.display,wn))){Fa(wn),un&&(vp=+new Date);var $n=Ta(En,wn,!0),Rn=wn.dataTransfer.files;if(!(!$n||En.isReadOnly()))if(Rn&&Rn.length&&window.FileReader&&window.File)for(var Fn=Rn.length,Zn=Array(Fn),zr=0,Gr=function(){++zr==Fn&&dl(En,function(){$n=Gi(En.doc,$n);var Ni={from:$n,to:$n,text:En.doc.splitLines(Zn.filter(function(Qi){return Qi!=null}).join(En.doc.lineSeparator())),origin:"paste"};cd(En.doc,Ni),sd(En.doc,ru(Gi(En.doc,$n),Gi(En.doc,bu(Ni))))})()},Kr=function(Ni,Qi){if(En.options.allowDropFileTypes&&Si(En.options.allowDropFileTypes,Ni.type)==-1){Gr();return}var ho=new FileReader;ho.onerror=function(){return Gr()},ho.onload=function(){var Ao=ho.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ao)){Gr();return}Zn[Qi]=Ao,Gr()},ho.readAsText(Ni)},ii=0;ii<Rn.length;ii++)Kr(Rn[ii],ii);else{if(En.state.draggingText&&En.doc.sel.contains($n)>-1){En.state.draggingText(wn),setTimeout(function(){return En.display.input.focus()},20);return}try{var mi=wn.dataTransfer.getData("Text");if(mi){var Ci;if(En.state.draggingText&&!En.state.draggingText.copy&&(Ci=En.listSelections()),Jd(En.doc,ru($n,$n)),Ci)for(var Vi=0;Vi<Ci.length;++Vi)ud(En.doc,"",Ci[Vi].anchor,Ci[Vi].head,"drag");En.replaceSelection(mi,"around","paste"),En.display.input.focus()}}catch{}}}}function bg(wn,En){if(un&&(!wn.state.draggingText||+new Date-vp<100)){gl(En);return}if(!(ya(wn,En)||wc(wn.display,En))&&(En.dataTransfer.setData("Text",wn.getSelection()),En.dataTransfer.effectAllowed="copyMove",En.dataTransfer.setDragImage&&!kn)){var $n=Xn("img",null,null,"position: fixed; left: 0; top: 0;");$n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_n&&($n.width=$n.height=1,wn.display.wrapper.appendChild($n),$n._top=$n.offsetTop),En.dataTransfer.setDragImage($n,0,0),_n&&$n.parentNode.removeChild($n)}}function _g(wn,En){var $n=Ta(wn,En);if($n){var Rn=document.createDocumentFragment();yu(wn,$n,Rn),wn.display.dragCursor||(wn.display.dragCursor=Xn("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),wn.display.lineSpace.insertBefore(wn.display.dragCursor,wn.display.cursorDiv)),Qn(wn.display.dragCursor,Rn)}}function mp(wn){wn.display.dragCursor&&(wn.display.lineSpace.removeChild(wn.display.dragCursor),wn.display.dragCursor=null)}function Eh(wn){if(document.getElementsByClassName){for(var En=document.getElementsByClassName("CodeMirror"),$n=[],Rn=0;Rn<En.length;Rn++){var Fn=En[Rn].CodeMirror;Fn&&$n.push(Fn)}$n.length&&$n[0].operation(function(){for(var Zn=0;Zn<$n.length;Zn++)wn($n[Zn])})}}var Dh=!1;function wg(){Dh||(Th(),Dh=!0)}function Th(){var wn;Xi(window,"resize",function(){wn==null&&(wn=setTimeout(function(){wn=null,Eh(Mh)},100))}),Xi(window,"blur",function(){return Eh(Ac)})}function Mh(wn){var En=wn.display;En.cachedCharWidth=En.cachedTextHeight=En.cachedPaddingH=null,En.scrollbarsClipped=!1,wn.setSize()}for(var Hu={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},dd=0;dd<10;dd++)Hu[dd+48]=Hu[dd+96]=String(dd);for(var rf=65;rf<=90;rf++)Hu[rf]=String.fromCharCode(rf);for(var Ed=1;Ed<=12;Ed++)Hu[Ed+111]=Hu[Ed+63235]="F"+Ed;var wu={};wu.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},wu.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},wu.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},wu.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},wu.default=On?wu.macDefault:wu.pcDefault;function kg(wn){var En=wn.split(/-(?!$)/);wn=En[En.length-1];for(var $n,Rn,Fn,Zn,zr=0;zr<En.length-1;zr++){var Gr=En[zr];if(/^(cmd|meta|m)$/i.test(Gr))Zn=!0;else if(/^a(lt)?$/i.test(Gr))$n=!0;else if(/^(c|ctrl|control)$/i.test(Gr))Rn=!0;else if(/^s(hift)?$/i.test(Gr))Fn=!0;else throw new Error("Unrecognized modifier name: "+Gr)}return $n&&(wn="Alt-"+wn),Rn&&(wn="Ctrl-"+wn),Zn&&(wn="Cmd-"+wn),Fn&&(wn="Shift-"+wn),wn}function Ag(wn){var En={};for(var $n in wn)if(wn.hasOwnProperty($n)){var Rn=wn[$n];if(/^(name|fallthrough|(de|at)tach)$/.test($n))continue;if(Rn=="..."){delete wn[$n];continue}for(var Fn=Wi($n.split(" "),kg),Zn=0;Zn<Fn.length;Zn++){var zr=void 0,Gr=void 0;Zn==Fn.length-1?(Gr=Fn.join(" "),zr=Rn):(Gr=Fn.slice(0,Zn+1).join(" "),zr="...");var Kr=En[Gr];if(!Kr)En[Gr]=zr;else if(Kr!=zr)throw new Error("Inconsistent bindings for "+Gr)}delete wn[$n]}for(var ii in En)wn[ii]=En[ii];return wn}function ku(wn,En,$n,Rn){En=Dd(En);var Fn=En.call?En.call(wn,Rn):En[wn];if(Fn===!1)return"nothing";if(Fn==="...")return"multi";if(Fn!=null&&$n(Fn))return"handled";if(En.fallthrough){if(Object.prototype.toString.call(En.fallthrough)!="[object Array]")return ku(wn,En.fallthrough,$n,Rn);for(var Zn=0;Zn<En.fallthrough.length;Zn++){var zr=ku(wn,En.fallthrough[Zn],$n,Rn);if(zr)return zr}}}function Lf(wn){var En=typeof wn=="string"?wn:Hu[wn.keyCode];return En=="Ctrl"||En=="Alt"||En=="Shift"||En=="Mod"}function yp(wn,En,$n){var Rn=wn;return En.altKey&&Rn!="Alt"&&(wn="Alt-"+wn),(Hn?En.metaKey:En.ctrlKey)&&Rn!="Ctrl"&&(wn="Ctrl-"+wn),(Hn?En.ctrlKey:En.metaKey)&&Rn!="Mod"&&(wn="Cmd-"+wn),!$n&&En.shiftKey&&Rn!="Shift"&&(wn="Shift-"+wn),wn}function bp(wn,En){if(_n&&wn.keyCode==34&&wn.char)return!1;var $n=Hu[wn.keyCode];return $n==null||wn.altGraphKey?!1:(wn.keyCode==3&&wn.code&&($n=wn.code),yp($n,wn,En))}function Dd(wn){return typeof wn=="string"?wu[wn]:wn}function Td(wn,En){for(var $n=wn.doc.sel.ranges,Rn=[],Fn=0;Fn<$n.length;Fn++){for(var Zn=En($n[Fn]);Rn.length&&ea(Zn.from,Oi(Rn).to)<=0;){var zr=Rn.pop();if(ea(zr.from,Zn.from)<0){Zn.from=zr.from;break}}Rn.push(Zn)}nl(wn,function(){for(var Gr=Rn.length-1;Gr>=0;Gr--)ud(wn.doc,"",Rn[Gr].from,Rn[Gr].to,"+delete");Ja(wn)})}function Ih(wn,En,$n){var Rn=Di(wn.text,En+$n,$n);return Rn<0||Rn>wn.text.length?null:Rn}function Lh(wn,En,$n){var Rn=Ih(wn,En.ch,$n);return Rn==null?null:new lo(En.line,Rn,$n<0?"after":"before")}function Au(wn,En,$n,Rn,Fn){if(wn){En.doc.direction=="rtl"&&(Fn=-Fn);var Zn=$o($n,En.doc.direction);if(Zn){var zr=Fn<0?Oi(Zn):Zn[0],Gr=Fn<0==(zr.level==1),Kr=Gr?"after":"before",ii;if(zr.level>0||En.doc.direction=="rtl"){var mi=vc(En,$n);ii=Fn<0?$n.text.length-1:0;var Ci=Rl(En,mi,ii).top;ii=bi(function(Vi){return Rl(En,mi,Vi).top==Ci},Fn<0==(zr.level==1)?zr.from:zr.to-1,ii),Kr=="before"&&(ii=Ih($n,ii,1))}else ii=Fn<0?zr.to:zr.from;return new lo(Rn,ii,Kr)}}return new lo(Rn,Fn<0?$n.text.length:0,Fn<0?"before":"after")}function Cg(wn,En,$n,Rn){var Fn=$o(En,wn.doc.direction);if(!Fn)return Lh(En,$n,Rn);$n.ch>=En.text.length?($n.ch=En.text.length,$n.sticky="before"):$n.ch<=0&&($n.ch=0,$n.sticky="after");var Zn=ko(Fn,$n.ch,$n.sticky),zr=Fn[Zn];if(wn.doc.direction=="ltr"&&zr.level%2==0&&(Rn>0?zr.to>$n.ch:zr.from<$n.ch))return Lh(En,$n,Rn);var Gr=function(Lo,Vo){return Ih(En,Lo instanceof lo?Lo.ch:Lo,Vo)},Kr,ii=function(Lo){return wn.options.lineWrapping?(Kr=Kr||vc(wn,En),Ba(wn,En,Kr,Lo)):{begin:0,end:En.text.length}},mi=ii($n.sticky=="before"?Gr($n,-1):$n.ch);if(wn.doc.direction=="rtl"||zr.level==1){var Ci=zr.level==1==Rn<0,Vi=Gr($n,Ci?1:-1);if(Vi!=null&&(Ci?Vi<=zr.to&&Vi<=mi.end:Vi>=zr.from&&Vi>=mi.begin)){var Ni=Ci?"before":"after";return new lo($n.line,Vi,Ni)}}var Qi=function(Lo,Vo,Do){for(var Yo=function(Ds,Tl){return Tl?new lo($n.line,Gr(Ds,1),"before"):new lo($n.line,Ds,"after")};Lo>=0&&Lo<Fn.length;Lo+=Vo){var sa=Fn[Lo],Jo=Vo>0==(sa.level!=1),Ga=Jo?Do.begin:Gr(Do.end,-1);if(sa.from<=Ga&&Ga<sa.to||(Ga=Jo?sa.from:Gr(sa.to,-1),Do.begin<=Ga&&Ga<Do.end))return Yo(Ga,Jo)}},ho=Qi(Zn+Rn,Rn,mi);if(ho)return ho;var Ao=Rn>0?mi.end:Gr(mi.begin,-1);return Ao!=null&&!(Rn>0&&Ao==En.text.length)&&(ho=Qi(Rn>0?0:Fn.length-1,Rn,ii(Ao)),ho)?ho:null}var Md={selectAll:kh,singleSelection:function(wn){return wn.setSelection(wn.getCursor("anchor"),wn.getCursor("head"),ji)},killLine:function(wn){return Td(wn,function(En){if(En.empty()){var $n=Ei(wn.doc,En.head.line).text.length;return En.head.ch==$n&&En.head.line<wn.lastLine()?{from:En.head,to:lo(En.head.line+1,0)}:{from:En.head,to:lo(En.head.line,$n)}}else return{from:En.from(),to:En.to()}})},deleteLine:function(wn){return Td(wn,function(En){return{from:lo(En.from().line,0),to:Gi(wn.doc,lo(En.to().line+1,0))}})},delLineLeft:function(wn){return Td(wn,function(En){return{from:lo(En.from().line,0),to:En.from()}})},delWrappedLineLeft:function(wn){return Td(wn,function(En){var $n=wn.charCoords(En.head,"div").top+5,Rn=wn.coordsChar({left:0,top:$n},"div");return{from:Rn,to:En.from()}})},delWrappedLineRight:function(wn){return Td(wn,function(En){var $n=wn.charCoords(En.head,"div").top+5,Rn=wn.coordsChar({left:wn.display.lineDiv.offsetWidth+100,top:$n},"div");return{from:En.from(),to:Rn}})},undo:function(wn){return wn.undo()},redo:function(wn){return wn.redo()},undoSelection:function(wn){return wn.undoSelection()},redoSelection:function(wn){return wn.redoSelection()},goDocStart:function(wn){return wn.extendSelection(lo(wn.firstLine(),0))},goDocEnd:function(wn){return wn.extendSelection(lo(wn.lastLine()))},goLineStart:function(wn){return wn.extendSelectionsBy(function(En){return _p(wn,En.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(wn){return wn.extendSelectionsBy(function(En){return wp(wn,En.head)},{origin:"+move",bias:1})},goLineEnd:function(wn){return wn.extendSelectionsBy(function(En){return xg(wn,En.head.line)},{origin:"+move",bias:-1})},goLineRight:function(wn){return wn.extendSelectionsBy(function(En){var $n=wn.cursorCoords(En.head,"div").top+5;return wn.coordsChar({left:wn.display.lineDiv.offsetWidth+100,top:$n},"div")},po)},goLineLeft:function(wn){return wn.extendSelectionsBy(function(En){var $n=wn.cursorCoords(En.head,"div").top+5;return wn.coordsChar({left:0,top:$n},"div")},po)},goLineLeftSmart:function(wn){return wn.extendSelectionsBy(function(En){var $n=wn.cursorCoords(En.head,"div").top+5,Rn=wn.coordsChar({left:0,top:$n},"div");return Rn.ch<wn.getLine(Rn.line).search(/\S/)?wp(wn,En.head):Rn},po)},goLineUp:function(wn){return wn.moveV(-1,"line")},goLineDown:function(wn){return wn.moveV(1,"line")},goPageUp:function(wn){return wn.moveV(-1,"page")},goPageDown:function(wn){return wn.moveV(1,"page")},goCharLeft:function(wn){return wn.moveH(-1,"char")},goCharRight:function(wn){return wn.moveH(1,"char")},goColumnLeft:function(wn){return wn.moveH(-1,"column")},goColumnRight:function(wn){return wn.moveH(1,"column")},goWordLeft:function(wn){return wn.moveH(-1,"word")},goGroupRight:function(wn){return wn.moveH(1,"group")},goGroupLeft:function(wn){return wn.moveH(-1,"group")},goWordRight:function(wn){return wn.moveH(1,"word")},delCharBefore:function(wn){return wn.deleteH(-1,"codepoint")},delCharAfter:function(wn){return wn.deleteH(1,"char")},delWordBefore:function(wn){return wn.deleteH(-1,"word")},delWordAfter:function(wn){return wn.deleteH(1,"word")},delGroupBefore:function(wn){return wn.deleteH(-1,"group")},delGroupAfter:function(wn){return wn.deleteH(1,"group")},indentAuto:function(wn){return wn.indentSelection("smart")},indentMore:function(wn){return wn.indentSelection("add")},indentLess:function(wn){return wn.indentSelection("subtract")},insertTab:function(wn){return wn.replaceSelection("	")},insertSoftTab:function(wn){for(var En=[],$n=wn.listSelections(),Rn=wn.options.tabSize,Fn=0;Fn<$n.length;Fn++){var Zn=$n[Fn].from(),zr=fi(wn.getLine(Zn.line),Zn.ch,Rn);En.push(Po(Rn-zr%Rn))}wn.replaceSelections(En)},defaultTab:function(wn){wn.somethingSelected()?wn.indentSelection("add"):wn.execCommand("insertTab")},transposeChars:function(wn){return nl(wn,function(){for(var En=wn.listSelections(),$n=[],Rn=0;Rn<En.length;Rn++)if(En[Rn].empty()){var Fn=En[Rn].head,Zn=Ei(wn.doc,Fn.line).text;if(Zn){if(Fn.ch==Zn.length&&(Fn=new lo(Fn.line,Fn.ch-1)),Fn.ch>0)Fn=new lo(Fn.line,Fn.ch+1),wn.replaceRange(Zn.charAt(Fn.ch-1)+Zn.charAt(Fn.ch-2),lo(Fn.line,Fn.ch-2),Fn,"+transpose");else if(Fn.line>wn.doc.first){var zr=Ei(wn.doc,Fn.line-1).text;zr&&(Fn=new lo(Fn.line,1),wn.replaceRange(Zn.charAt(0)+wn.doc.lineSeparator()+zr.charAt(zr.length-1),lo(Fn.line-1,zr.length-1),Fn,"+transpose"))}}$n.push(new cs(Fn,Fn))}wn.setSelections($n)})},newlineAndIndent:function(wn){return nl(wn,function(){for(var En=wn.listSelections(),$n=En.length-1;$n>=0;$n--)wn.replaceRange(wn.doc.lineSeparator(),En[$n].anchor,En[$n].head,"+input");En=wn.listSelections();for(var Rn=0;Rn<En.length;Rn++)wn.indentLine(En[Rn].from().line,null,!0);Ja(wn)})},openLine:function(wn){return wn.replaceSelection(`
`,"start")},toggleOverwrite:function(wn){return wn.toggleOverwrite()}};function _p(wn,En){var $n=Ei(wn.doc,En),Rn=Za($n);return Rn!=$n&&(En=Ea(Rn)),Au(!0,wn,Rn,En,1)}function xg(wn,En){var $n=Ei(wn.doc,En),Rn=zs($n);return Rn!=$n&&(En=Ea(Rn)),Au(!0,wn,$n,En,-1)}function wp(wn,En){var $n=_p(wn,En.line),Rn=Ei(wn.doc,$n.line),Fn=$o(Rn,wn.doc.direction);if(!Fn||Fn[0].level==0){var Zn=Math.max($n.ch,Rn.text.search(/\S/)),zr=En.line==$n.line&&En.ch<=Zn&&En.ch;return lo($n.line,zr?0:Zn,$n.sticky)}return $n}function Pf(wn,En,$n){if(typeof En=="string"&&(En=Md[En],!En))return!1;wn.display.input.ensurePolled();var Rn=wn.display.shift,Fn=!1;try{wn.isReadOnly()&&(wn.state.suppressEdits=!0),$n&&(wn.display.shift=!1),Fn=En(wn)!=Ui}finally{wn.display.shift=Rn,wn.state.suppressEdits=!1}return Fn}function Uv(wn,En,$n){for(var Rn=0;Rn<wn.state.keyMaps.length;Rn++){var Fn=ku(En,wn.state.keyMaps[Rn],$n,wn);if(Fn)return Fn}return wn.options.extraKeys&&ku(En,wn.options.extraKeys,$n,wn)||ku(En,wn.options.keyMap,$n,wn)}var Sg=new yi;function of(wn,En,$n,Rn){var Fn=wn.state.keySeq;if(Fn){if(Lf(En))return"handled";if(/\'$/.test(En)?wn.state.keySeq=null:Sg.set(50,function(){wn.state.keySeq==Fn&&(wn.state.keySeq=null,wn.display.input.reset())}),kp(wn,Fn+" "+En,$n,Rn))return!0}return kp(wn,En,$n,Rn)}function kp(wn,En,$n,Rn){var Fn=Uv(wn,En,Rn);return Fn=="multi"&&(wn.state.keySeq=En),Fn=="handled"&&ws(wn,"keyHandled",wn,En,$n),(Fn=="handled"||Fn=="multi")&&(Fa($n),Hd(wn)),!!Fn}function Ph(wn,En){var $n=bp(En,!0);return $n?En.shiftKey&&!wn.state.keySeq?of(wn,"Shift-"+$n,En,function(Rn){return Pf(wn,Rn,!0)})||of(wn,$n,En,function(Rn){if(typeof Rn=="string"?/^go[A-Z]/.test(Rn):Rn.motion)return Pf(wn,Rn)}):of(wn,$n,En,function(Rn){return Pf(wn,Rn)}):!1}function Ap(wn,En,$n){return of(wn,"'"+$n+"'",En,function(Rn){return Pf(wn,Rn,!0)})}var Oh=null;function Cp(wn){var En=this;if(!(wn.target&&wn.target!=En.display.input.getField())&&(En.curOp.focus=ci(Jn(En)),!ya(En,wn))){un&&fn<11&&wn.keyCode==27&&(wn.returnValue=!1);var $n=wn.keyCode;En.display.shift=$n==16||wn.shiftKey;var Rn=Ph(En,wn);_n&&(Oh=Rn?$n:null,!Rn&&$n==88&&!Ro&&(On?wn.metaKey:wn.ctrlKey)&&En.replaceSelection("",null,"cut")),rn&&!On&&!Rn&&$n==46&&wn.shiftKey&&!wn.ctrlKey&&document.execCommand&&document.execCommand("cut"),$n==18&&!/\bCodeMirror-crosshair\b/.test(En.display.lineDiv.className)&&Eg(En)}}function Eg(wn){var En=wn.display.lineDiv;ti(En,"CodeMirror-crosshair");function $n(Rn){(Rn.keyCode==18||!Rn.altKey)&&(Yn(En,"CodeMirror-crosshair"),fo(document,"keyup",$n),fo(document,"mouseover",$n))}Xi(document,"keyup",$n),Xi(document,"mouseover",$n)}function xp(wn){wn.keyCode==16&&(this.doc.sel.shift=!1),ya(this,wn)}function Of(wn){var En=this;if(!(wn.target&&wn.target!=En.display.input.getField())&&!(wc(En.display,wn)||ya(En,wn)||wn.ctrlKey&&!wn.altKey||On&&wn.metaKey)){var $n=wn.keyCode,Rn=wn.charCode;if(_n&&$n==Oh){Oh=null,Fa(wn);return}if(!(_n&&(!wn.which||wn.which<10)&&Ph(En,wn))){var Fn=String.fromCharCode(Rn??$n);Fn!="\b"&&(Ap(En,wn,Fn)||En.display.input.onKeyPress(wn))}}}var Rh=400,ac=function(wn,En,$n){this.time=wn,this.pos=En,this.button=$n};ac.prototype.compare=function(wn,En,$n){return this.time+Rh>wn&&ea(En,this.pos)==0&&$n==this.button};var Id,Cu;function Sp(wn,En){var $n=+new Date;return Cu&&Cu.compare($n,wn,En)?(Id=Cu=null,"triple"):Id&&Id.compare($n,wn,En)?(Cu=new ac($n,wn,En),Id=null,"double"):(Id=new ac($n,wn,En),Cu=null,"single")}function af(wn){var En=this,$n=En.display;if(!(ya(En,wn)||$n.activeTouch&&$n.input.supportsTouch())){if($n.input.ensurePolled(),$n.shift=wn.shiftKey,wc($n,wn)){hn||($n.scroller.draggable=!1,setTimeout(function(){return $n.scroller.draggable=!0},100));return}if(!Vu(En,wn)){var Rn=Ta(En,wn),Fn=jl(wn),Zn=Rn?Sp(Rn,Fn):"single";oi(En).focus(),Fn==1&&En.state.selectingText&&En.state.selectingText(wn),!(Rn&&Ep(En,Fn,Rn,Zn,wn))&&(Fn==1?Rn?fd(En,Rn,Zn,wn):us(wn)==$n.scroller&&Fa(wn):Fn==2?(Rn&&Ef(En.doc,Rn),setTimeout(function(){return $n.input.focus()},20)):Fn==3&&(Un?En.display.input.onContextMenu(wn):Nu(En)))}}}function Ep(wn,En,$n,Rn,Fn){var Zn="Click";return Rn=="double"?Zn="Double"+Zn:Rn=="triple"&&(Zn="Triple"+Zn),Zn=(En==1?"Left":En==2?"Middle":"Right")+Zn,of(wn,yp(Zn,Fn),Fn,function(zr){if(typeof zr=="string"&&(zr=Md[zr]),!zr)return!1;var Gr=!1;try{wn.isReadOnly()&&(wn.state.suppressEdits=!0),Gr=zr(wn,$n)!=Ui}finally{wn.state.suppressEdits=!1}return Gr})}function Dp(wn,En,$n){var Rn=wn.getOption("configureMouse"),Fn=Rn?Rn(wn,En,$n):{};if(Fn.unit==null){var Zn=Pn?$n.shiftKey&&$n.metaKey:$n.altKey;Fn.unit=Zn?"rectangle":En=="single"?"char":En=="double"?"word":"line"}return(Fn.extend==null||wn.doc.extend)&&(Fn.extend=wn.doc.extend||$n.shiftKey),Fn.addNew==null&&(Fn.addNew=On?$n.metaKey:$n.ctrlKey),Fn.moveOnDrag==null&&(Fn.moveOnDrag=!(On?$n.altKey:$n.ctrlKey)),Fn}function fd(wn,En,$n,Rn){un?setTimeout(pi(kd,wn),0):wn.curOp.focus=ci(Jn(wn));var Fn=Dp(wn,$n,Rn),Zn=wn.doc.sel,zr;wn.options.dragDrop&&vl&&!wn.isReadOnly()&&$n=="single"&&(zr=Zn.contains(En))>-1&&(ea((zr=Zn.ranges[zr]).from(),En)<0||En.xRel>0)&&(ea(zr.to(),En)>0||En.xRel<0)?No(wn,Rn,En,Fn):Rf(wn,Rn,En,Fn)}function No(wn,En,$n,Rn){var Fn=wn.display,Zn=!1,zr=dl(wn,function(ii){hn&&(Fn.scroller.draggable=!1),wn.state.draggingText=!1,wn.state.delayingBlurEvent&&(wn.hasFocus()?wn.state.delayingBlurEvent=!1:Nu(wn)),fo(Fn.wrapper.ownerDocument,"mouseup",zr),fo(Fn.wrapper.ownerDocument,"mousemove",Gr),fo(Fn.scroller,"dragstart",Kr),fo(Fn.scroller,"drop",zr),Zn||(Fa(ii),Rn.addNew||Ef(wn.doc,$n,null,null,Rn.extend),hn&&!kn||un&&fn==9?setTimeout(function(){Fn.wrapper.ownerDocument.body.focus({preventScroll:!0}),Fn.input.focus()},20):Fn.input.focus())}),Gr=function(ii){Zn=Zn||Math.abs(En.clientX-ii.clientX)+Math.abs(En.clientY-ii.clientY)>=10},Kr=function(){return Zn=!0};hn&&(Fn.scroller.draggable=!0),wn.state.draggingText=zr,zr.copy=!Rn.moveOnDrag,Xi(Fn.wrapper.ownerDocument,"mouseup",zr),Xi(Fn.wrapper.ownerDocument,"mousemove",Gr),Xi(Fn.scroller,"dragstart",Kr),Xi(Fn.scroller,"drop",zr),wn.state.delayingBlurEvent=!0,setTimeout(function(){return Fn.input.focus()},20),Fn.scroller.dragDrop&&Fn.scroller.dragDrop()}function Aa(wn,En,$n){if($n=="char")return new cs(En,En);if($n=="word")return wn.findWordAt(En);if($n=="line")return new cs(lo(En.line,0),Gi(wn.doc,lo(En.line+1,0)));var Rn=$n(wn,En);return new cs(Rn.from,Rn.to)}function Rf(wn,En,$n,Rn){un&&Nu(wn);var Fn=wn.display,Zn=wn.doc;Fa(En);var zr,Gr,Kr=Zn.sel,ii=Kr.ranges;if(Rn.addNew&&!Rn.extend?(Gr=Zn.sel.contains($n),Gr>-1?zr=ii[Gr]:zr=new cs($n,$n)):(zr=Zn.sel.primary(),Gr=Zn.sel.primIndex),Rn.unit=="rectangle")Rn.addNew||(zr=new cs($n,$n)),$n=Ta(wn,En,!0,!0),Gr=-1;else{var mi=Aa(wn,$n,Rn.unit);Rn.extend?zr=Sf(zr,mi.anchor,mi.head,Rn.extend):zr=mi}Rn.addNew?Gr==-1?(Gr=ii.length,Dl(Zn,xc(wn,ii.concat([zr]),Gr),{scroll:!1,origin:"*mouse"})):ii.length>1&&ii[Gr].empty()&&Rn.unit=="char"&&!Rn.extend?(Dl(Zn,xc(wn,ii.slice(0,Gr).concat(ii.slice(Gr+1)),0),{scroll:!1,origin:"*mouse"}),Kr=Zn.sel):Qd(Zn,Gr,zr,go):(Gr=0,Dl(Zn,new Fl([zr],0),go),Kr=Zn.sel);var Ci=$n;function Vi(Do){if(ea(Ci,Do)!=0)if(Ci=Do,Rn.unit=="rectangle"){for(var Yo=[],sa=wn.options.tabSize,Jo=fi(Ei(Zn,$n.line).text,$n.ch,sa),Ga=fi(Ei(Zn,Do.line).text,Do.ch,sa),Ds=Math.min(Jo,Ga),Tl=Math.max(Jo,Ga),Qs=Math.min($n.line,Do.line),yc=Math.min(wn.lastLine(),Math.max($n.line,Do.line));Qs<=yc;Qs++){var sc=Ei(Zn,Qs).text,hl=Yi(sc,Ds,sa);Ds==Tl?Yo.push(new cs(lo(Qs,hl),lo(Qs,hl))):sc.length>hl&&Yo.push(new cs(lo(Qs,hl),lo(Qs,Yi(sc,Tl,sa))))}Yo.length||Yo.push(new cs($n,$n)),Dl(Zn,xc(wn,Kr.ranges.slice(0,Gr).concat(Yo),Gr),{origin:"*mouse",scroll:!1}),wn.scrollIntoView(Do)}else{var lc=zr,zl=Aa(wn,Do,Rn.unit),wl=lc.anchor,ll;ea(zl.anchor,wl)>0?(ll=zl.head,wl=vi(lc.from(),zl.anchor)):(ll=zl.anchor,wl=ki(lc.to(),zl.head));var il=Kr.ranges.slice(0);il[Gr]=au(wn,new cs(Gi(Zn,wl),ll)),Dl(Zn,xc(wn,il,Gr),go)}}var Ni=Fn.wrapper.getBoundingClientRect(),Qi=0;function ho(Do){var Yo=++Qi,sa=Ta(wn,Do,!0,Rn.unit=="rectangle");if(sa)if(ea(sa,Ci)!=0){wn.curOp.focus=ci(Jn(wn)),Vi(sa);var Jo=_r(Fn,Zn);(sa.line>=Jo.to||sa.line<Jo.from)&&setTimeout(dl(wn,function(){Qi==Yo&&ho(Do)}),150)}else{var Ga=Do.clientY<Ni.top?-20:Do.clientY>Ni.bottom?20:0;Ga&&setTimeout(dl(wn,function(){Qi==Yo&&(Fn.scroller.scrollTop+=Ga,ho(Do))}),50)}}function Ao(Do){wn.state.selectingText=!1,Qi=1/0,Do&&(Fa(Do),Fn.input.focus()),fo(Fn.wrapper.ownerDocument,"mousemove",Lo),fo(Fn.wrapper.ownerDocument,"mouseup",Vo),Zn.history.lastSelOrigin=null}var Lo=dl(wn,function(Do){Do.buttons===0||!jl(Do)?Ao(Do):ho(Do)}),Vo=dl(wn,Ao);wn.state.selectingText=Vo,Xi(Fn.wrapper.ownerDocument,"mousemove",Lo),Xi(Fn.wrapper.ownerDocument,"mouseup",Vo)}function au(wn,En){var $n=En.anchor,Rn=En.head,Fn=Ei(wn.doc,$n.line);if(ea($n,Rn)==0&&$n.sticky==Rn.sticky)return En;var Zn=$o(Fn);if(!Zn)return En;var zr=ko(Zn,$n.ch,$n.sticky),Gr=Zn[zr];if(Gr.from!=$n.ch&&Gr.to!=$n.ch)return En;var Kr=zr+(Gr.from==$n.ch==(Gr.level!=1)?0:1);if(Kr==0||Kr==Zn.length)return En;var ii;if(Rn.line!=$n.line)ii=(Rn.line-$n.line)*(wn.doc.direction=="ltr"?1:-1)>0;else{var mi=ko(Zn,Rn.ch,Rn.sticky),Ci=mi-zr||(Rn.ch-$n.ch)*(Gr.level==1?-1:1);mi==Kr-1||mi==Kr?ii=Ci<0:ii=Ci>0}var Vi=Zn[Kr+(ii?-1:0)],Ni=ii==(Vi.level==1),Qi=Ni?Vi.from:Vi.to,ho=Ni?"after":"before";return $n.ch==Qi&&$n.sticky==ho?En:new cs(new lo($n.line,Qi,ho),Rn)}function Nf(wn,En,$n,Rn){var Fn,Zn;if(En.touches)Fn=En.touches[0].clientX,Zn=En.touches[0].clientY;else try{Fn=En.clientX,Zn=En.clientY}catch{return!1}if(Fn>=Math.floor(wn.display.gutters.getBoundingClientRect().right))return!1;Rn&&Fa(En);var zr=wn.display,Gr=zr.lineDiv.getBoundingClientRect();if(Zn>Gr.bottom||!da(wn,$n))return Zs(En);Zn-=Gr.top-zr.viewOffset;for(var Kr=0;Kr<wn.display.gutterSpecs.length;++Kr){var ii=zr.gutters.childNodes[Kr];if(ii&&ii.getBoundingClientRect().right>=Fn){var mi=Fs(wn.doc,Zn),Ci=wn.display.gutterSpecs[Kr];return la(wn,$n,wn,mi,Ci.className,En),Zs(En)}}}function Vu(wn,En){return Nf(wn,En,"gutterClick",!0)}function $f(wn,En){wc(wn.display,En)||Nh(wn,En)||ya(wn,En,"contextmenu")||Un||wn.display.input.onContextMenu(En)}function Nh(wn,En){return da(wn,"gutterContextMenu")?Nf(wn,En,"gutterContextMenu",!1):!1}function Ld(wn){wn.display.wrapper.className=wn.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+wn.options.theme.replace(/(^|\s)\s*/g," cm-s-"),eu(wn)}var Uc={toString:function(){return"CodeMirror.Init"}},$h={},Pd={};function Bf(wn){var En=wn.optionHandlers;function $n(Rn,Fn,Zn,zr){wn.defaults[Rn]=Fn,Zn&&(En[Rn]=zr?function(Gr,Kr,ii){ii!=Uc&&Zn(Gr,Kr,ii)}:Zn)}wn.defineOption=$n,wn.Init=Uc,$n("value","",function(Rn,Fn){return Rn.setValue(Fn)},!0),$n("mode",null,function(Rn,Fn){Rn.doc.modeOption=Fn,Cf(Rn)},!0),$n("indentUnit",2,Cf,!0),$n("indentWithTabs",!1),$n("smartIndent",!0),$n("tabSize",4,function(Rn){iu(Rn),eu(Rn),rs(Rn)},!0),$n("lineSeparator",null,function(Rn,Fn){if(Rn.doc.lineSep=Fn,!!Fn){var Zn=[],zr=Rn.doc.first;Rn.doc.iter(function(Kr){for(var ii=0;;){var mi=Kr.text.indexOf(Fn,ii);if(mi==-1)break;ii=mi+Fn.length,Zn.push(lo(zr,mi))}zr++});for(var Gr=Zn.length-1;Gr>=0;Gr--)ud(Rn.doc,Fn,Zn[Gr],lo(Zn[Gr].line,Zn[Gr].ch+Fn.length))}}),$n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(Rn,Fn,Zn){Rn.state.specialChars=new RegExp(Fn.source+(Fn.test("	")?"":"|	"),"g"),Zn!=Uc&&Rn.refresh()}),$n("specialCharPlaceholder",Fi,function(Rn){return Rn.refresh()},!0),$n("electricChars",!0),$n("inputStyle",In?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),$n("spellcheck",!1,function(Rn,Fn){return Rn.getInputField().spellcheck=Fn},!0),$n("autocorrect",!1,function(Rn,Fn){return Rn.getInputField().autocorrect=Fn},!0),$n("autocapitalize",!1,function(Rn,Fn){return Rn.getInputField().autocapitalize=Fn},!0),$n("rtlMoveVisually",!Tn),$n("wholeLineUpdateBefore",!0),$n("theme","default",function(Rn){Ld(Rn),Kd(Rn)},!0),$n("keyMap","default",function(Rn,Fn,Zn){var zr=Dd(Fn),Gr=Zn!=Uc&&Dd(Zn);Gr&&Gr.detach&&Gr.detach(Rn,zr),zr.attach&&zr.attach(Rn,Gr||null)}),$n("extraKeys",null),$n("configureMouse",null),$n("lineWrapping",!1,Dg,!0),$n("gutters",[],function(Rn,Fn){Rn.display.gutterSpecs=ah(Fn,Rn.options.lineNumbers),Kd(Rn)},!0),$n("fixedGutter",!0,function(Rn,Fn){Rn.display.gutters.style.left=Fn?Ql(Rn.display)+"px":"0",Rn.refresh()},!0),$n("coverGutterNextToScrollbar",!1,function(Rn){return Bc(Rn)},!0),$n("scrollbarStyle","native",function(Rn){kf(Rn),Bc(Rn),Rn.display.scrollbars.setScrollTop(Rn.doc.scrollTop),Rn.display.scrollbars.setScrollLeft(Rn.doc.scrollLeft)},!0),$n("lineNumbers",!1,function(Rn,Fn){Rn.display.gutterSpecs=ah(Rn.options.gutters,Fn),Kd(Rn)},!0),$n("firstLineNumber",1,Kd,!0),$n("lineNumberFormatter",function(Rn){return Rn},Kd,!0),$n("showCursorWhenSelecting",!1,Ru,!0),$n("resetSelectionOnContextMenu",!0),$n("lineWiseCopyCut",!0),$n("pasteLinesPerSelection",!0),$n("selectionsMayTouch",!1),$n("readOnly",!1,function(Rn,Fn){Fn=="nocursor"&&(Ac(Rn),Rn.display.input.blur()),Rn.display.input.readOnlyChanged(Fn)}),$n("screenReaderLabel",null,function(Rn,Fn){Fn=Fn===""?null:Fn,Rn.display.input.screenReaderLabelChanged(Fn)}),$n("disableInput",!1,function(Rn,Fn){Fn||Rn.display.input.reset()},!0),$n("dragDrop",!0,hd),$n("allowDropFileTypes",null),$n("cursorBlinkRate",530),$n("cursorScrollMargin",0),$n("cursorHeight",1,Ru,!0),$n("singleCursorHeightPerLine",!0,Ru,!0),$n("workTime",100),$n("workDelay",100),$n("flattenSpans",!0,iu,!0),$n("addModeClass",!1,iu,!0),$n("pollInterval",100),$n("undoDepth",200,function(Rn,Fn){return Rn.doc.history.undoDepth=Fn}),$n("historyEventDelay",1250),$n("viewportMargin",10,function(Rn){return Rn.refresh()},!0),$n("maxHighlightLength",1e4,iu,!0),$n("moveInputWithCursor",!0,function(Rn,Fn){Fn||Rn.display.input.resetPosition()}),$n("tabindex",null,function(Rn,Fn){return Rn.display.input.getField().tabIndex=Fn||""}),$n("autofocus",null),$n("direction","ltr",function(Rn,Fn){return Rn.doc.setDirection(Fn)},!0),$n("phrases",null)}function hd(wn,En,$n){var Rn=$n&&$n!=Uc;if(!En!=!Rn){var Fn=wn.display.dragFunctions,Zn=En?Xi:fo;Zn(wn.display.scroller,"dragstart",Fn.start),Zn(wn.display.scroller,"dragenter",Fn.enter),Zn(wn.display.scroller,"dragover",Fn.over),Zn(wn.display.scroller,"dragleave",Fn.leave),Zn(wn.display.scroller,"drop",Fn.drop)}}function Dg(wn){wn.options.lineWrapping?(ti(wn.display.wrapper,"CodeMirror-wrap"),wn.display.sizer.style.minWidth="",wn.display.sizerWidth=null):(Yn(wn.display.wrapper,"CodeMirror-wrap"),qn(wn)),Xs(wn),rs(wn),eu(wn),setTimeout(function(){return Bc(wn)},100)}function Os(wn,En){var $n=this;if(!(this instanceof Os))return new Os(wn,En);this.options=En=En?ri(En):{},ri($h,En,!1);var Rn=En.value;typeof Rn=="string"?Rn=new oc(Rn,En.mode,null,En.lineSeparator,En.direction):En.mode&&(Rn.modeOption=En.mode),this.doc=Rn;var Fn=new Os.inputStyles[En.inputStyle](this),Zn=this.display=new lp(wn,Rn,Fn,En);Zn.wrapper.CodeMirror=this,Ld(this),En.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),kf(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new yi,keySeq:null,specialChars:null},En.autofocus&&!In&&Zn.input.focus(),un&&fn<11&&setTimeout(function(){return $n.display.input.reset(!0)},20),Bh(this),wg(),od(this),this.curOp.forceUpdate=!0,ph(this,Rn),En.autofocus&&!In||this.hasFocus()?setTimeout(function(){$n.hasFocus()&&!$n.state.focused&&Ad($n)},20):Ac(this);for(var zr in Pd)Pd.hasOwnProperty(zr)&&Pd[zr](this,En[zr],Uc);oh(this),En.finishInit&&En.finishInit(this);for(var Gr=0;Gr<Fh.length;++Gr)Fh[Gr](this);ad(this),hn&&En.lineWrapping&&getComputedStyle(Zn.lineDiv).textRendering=="optimizelegibility"&&(Zn.lineDiv.style.textRendering="auto")}Os.defaults=$h,Os.optionHandlers=Pd;function Bh(wn){var En=wn.display;Xi(En.scroller,"mousedown",dl(wn,af)),un&&fn<11?Xi(En.scroller,"dblclick",dl(wn,function(Kr){if(!ya(wn,Kr)){var ii=Ta(wn,Kr);if(!(!ii||Vu(wn,Kr)||wc(wn.display,Kr))){Fa(Kr);var mi=wn.findWordAt(ii);Ef(wn.doc,mi.anchor,mi.head)}}})):Xi(En.scroller,"dblclick",function(Kr){return ya(wn,Kr)||Fa(Kr)}),Xi(En.scroller,"contextmenu",function(Kr){return $f(wn,Kr)}),Xi(En.input.getField(),"contextmenu",function(Kr){En.scroller.contains(Kr.target)||$f(wn,Kr)});var $n,Rn={end:0};function Fn(){En.activeTouch&&($n=setTimeout(function(){return En.activeTouch=null},1e3),Rn=En.activeTouch,Rn.end=+new Date)}function Zn(Kr){if(Kr.touches.length!=1)return!1;var ii=Kr.touches[0];return ii.radiusX<=1&&ii.radiusY<=1}function zr(Kr,ii){if(ii.left==null)return!0;var mi=ii.left-Kr.left,Ci=ii.top-Kr.top;return mi*mi+Ci*Ci>20*20}Xi(En.scroller,"touchstart",function(Kr){if(!ya(wn,Kr)&&!Zn(Kr)&&!Vu(wn,Kr)){En.input.ensurePolled(),clearTimeout($n);var ii=+new Date;En.activeTouch={start:ii,moved:!1,prev:ii-Rn.end<=300?Rn:null},Kr.touches.length==1&&(En.activeTouch.left=Kr.touches[0].pageX,En.activeTouch.top=Kr.touches[0].pageY)}}),Xi(En.scroller,"touchmove",function(){En.activeTouch&&(En.activeTouch.moved=!0)}),Xi(En.scroller,"touchend",function(Kr){var ii=En.activeTouch;if(ii&&!wc(En,Kr)&&ii.left!=null&&!ii.moved&&new Date-ii.start<300){var mi=wn.coordsChar(En.activeTouch,"page"),Ci;!ii.prev||zr(ii,ii.prev)?Ci=new cs(mi,mi):!ii.prev.prev||zr(ii,ii.prev.prev)?Ci=wn.findWordAt(mi):Ci=new cs(lo(mi.line,0),Gi(wn.doc,lo(mi.line+1,0))),wn.setSelection(Ci.anchor,Ci.head),wn.focus(),Fa(Kr)}Fn()}),Xi(En.scroller,"touchcancel",Fn),Xi(En.scroller,"scroll",function(){En.scroller.clientHeight&&(Vd(wn,En.scroller.scrollTop),id(wn,En.scroller.scrollLeft,!0),la(wn,"scroll",wn))}),Xi(En.scroller,"mousewheel",function(Kr){return lh(wn,Kr)}),Xi(En.scroller,"DOMMouseScroll",function(Kr){return lh(wn,Kr)}),Xi(En.wrapper,"scroll",function(){return En.wrapper.scrollTop=En.wrapper.scrollLeft=0}),En.dragFunctions={enter:function(Kr){ya(wn,Kr)||gl(Kr)},over:function(Kr){ya(wn,Kr)||(_g(wn,Kr),gl(Kr))},start:function(Kr){return bg(wn,Kr)},drop:dl(wn,yg),leave:function(Kr){ya(wn,Kr)||mp(wn)}};var Gr=En.input.getField();Xi(Gr,"keyup",function(Kr){return xp.call(wn,Kr)}),Xi(Gr,"keydown",dl(wn,Cp)),Xi(Gr,"keypress",dl(wn,Of)),Xi(Gr,"focus",function(Kr){return Ad(wn,Kr)}),Xi(Gr,"blur",function(Kr){return Ac(wn,Kr)})}var Fh=[];Os.defineInitHook=function(wn){return Fh.push(wn)};function ju(wn,En,$n,Rn){var Fn=wn.doc,Zn;$n==null&&($n="add"),$n=="smart"&&(Fn.mode.indent?Zn=Ho(wn,En).state:$n="prev");var zr=wn.options.tabSize,Gr=Ei(Fn,En),Kr=fi(Gr.text,null,zr);Gr.stateAfter&&(Gr.stateAfter=null);var ii=Gr.text.match(/^\s*/)[0],mi;if(!Rn&&!/\S/.test(Gr.text))mi=0,$n="not";else if($n=="smart"&&(mi=Fn.mode.indent(Zn,Gr.text.slice(ii.length),Gr.text),mi==Ui||mi>150)){if(!Rn)return;$n="prev"}$n=="prev"?En>Fn.first?mi=fi(Ei(Fn,En-1).text,null,zr):mi=0:$n=="add"?mi=Kr+wn.options.indentUnit:$n=="subtract"?mi=Kr-wn.options.indentUnit:typeof $n=="number"&&(mi=Kr+$n),mi=Math.max(0,mi);var Ci="",Vi=0;if(wn.options.indentWithTabs)for(var Ni=Math.floor(mi/zr);Ni;--Ni)Vi+=zr,Ci+="	";if(Vi<mi&&(Ci+=Po(mi-Vi)),Ci!=ii)return ud(Fn,Ci,lo(En,0),lo(En,ii.length),"+input"),Gr.stateAfter=null,!0;for(var Qi=0;Qi<Fn.sel.ranges.length;Qi++){var ho=Fn.sel.ranges[Qi];if(ho.head.line==En&&ho.head.ch<ii.length){var Ao=lo(En,ii.length);Qd(Fn,Qi,new cs(Ao,Ao));break}}}var Gc=null;function Ff(wn){Gc=wn}function sf(wn,En,$n,Rn,Fn){var Zn=wn.doc;wn.display.shift=!1,Rn||(Rn=Zn.sel);var zr=+new Date-200,Gr=Fn=="paste"||wn.state.pasteIncoming>zr,Kr=So(En),ii=null;if(Gr&&Rn.ranges.length>1)if(Gc&&Gc.text.join(`
`)==En){if(Rn.ranges.length%Gc.text.length==0){ii=[];for(var mi=0;mi<Gc.text.length;mi++)ii.push(Zn.splitLines(Gc.text[mi]))}}else Kr.length==Rn.ranges.length&&wn.options.pasteLinesPerSelection&&(ii=Wi(Kr,function(Lo){return[Lo]}));for(var Ci=wn.curOp.updateInput,Vi=Rn.ranges.length-1;Vi>=0;Vi--){var Ni=Rn.ranges[Vi],Qi=Ni.from(),ho=Ni.to();Ni.empty()&&($n&&$n>0?Qi=lo(Qi.line,Qi.ch-$n):wn.state.overwrite&&!Gr?ho=lo(ho.line,Math.min(Ei(Zn,ho.line).text.length,ho.ch+Oi(Kr).length)):Gr&&Gc&&Gc.lineWise&&Gc.text.join(`
`)==Kr.join(`
`)&&(Qi=ho=lo(Qi.line,0)));var Ao={from:Qi,to:ho,text:ii?ii[Vi%ii.length]:Kr,origin:Fn||(Gr?"paste":wn.state.cutIncoming>zr?"cut":"+input")};cd(wn.doc,Ao),ws(wn,"inputRead",wn,Ao)}En&&!Gr&&Uu(wn,En),Ja(wn),wn.curOp.updateInput<2&&(wn.curOp.updateInput=Ci),wn.curOp.typing=!0,wn.state.pasteIncoming=wn.state.cutIncoming=-1}function Tp(wn,En){var $n=wn.clipboardData&&wn.clipboardData.getData("Text");if($n)return wn.preventDefault(),!En.isReadOnly()&&!En.options.disableInput&&En.hasFocus()&&nl(En,function(){return sf(En,$n,0,null,"paste")}),!0}function Uu(wn,En){if(!(!wn.options.electricChars||!wn.options.smartIndent))for(var $n=wn.doc.sel,Rn=$n.ranges.length-1;Rn>=0;Rn--){var Fn=$n.ranges[Rn];if(!(Fn.head.ch>100||Rn&&$n.ranges[Rn-1].head.line==Fn.head.line)){var Zn=wn.getModeAt(Fn.head),zr=!1;if(Zn.electricChars){for(var Gr=0;Gr<Zn.electricChars.length;Gr++)if(En.indexOf(Zn.electricChars.charAt(Gr))>-1){zr=ju(wn,Fn.head.line,"smart");break}}else Zn.electricInput&&Zn.electricInput.test(Ei(wn.doc,Fn.head.line).text.slice(0,Fn.head.ch))&&(zr=ju(wn,Fn.head.line,"smart"));zr&&ws(wn,"electricInput",wn,Fn.head.line)}}}function zh(wn){for(var En=[],$n=[],Rn=0;Rn<wn.doc.sel.ranges.length;Rn++){var Fn=wn.doc.sel.ranges[Rn].head.line,Zn={anchor:lo(Fn,0),head:lo(Fn+1,0)};$n.push(Zn),En.push(wn.getRange(Zn.anchor,Zn.head))}return{text:En,ranges:$n}}function lf(wn,En,$n,Rn){wn.setAttribute("autocorrect",$n?"on":"off"),wn.setAttribute("autocapitalize",Rn?"on":"off"),wn.setAttribute("spellcheck",!!En)}function Mp(){var wn=Xn("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),En=Xn("div",[wn],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return hn?wn.style.width="1000px":wn.setAttribute("wrap","off"),Sn&&(wn.style.border="1px solid black"),En}function Ip(wn){var En=wn.optionHandlers,$n=wn.helpers={};wn.prototype={constructor:wn,focus:function(){oi(this).focus(),this.display.input.focus()},setOption:function(Rn,Fn){var Zn=this.options,zr=Zn[Rn];Zn[Rn]==Fn&&Rn!="mode"||(Zn[Rn]=Fn,En.hasOwnProperty(Rn)&&dl(this,En[Rn])(this,Fn,zr),la(this,"optionChange",this,Rn))},getOption:function(Rn){return this.options[Rn]},getDoc:function(){return this.doc},addKeyMap:function(Rn,Fn){this.state.keyMaps[Fn?"push":"unshift"](Dd(Rn))},removeKeyMap:function(Rn){for(var Fn=this.state.keyMaps,Zn=0;Zn<Fn.length;++Zn)if(Fn[Zn]==Rn||Fn[Zn].name==Rn)return Fn.splice(Zn,1),!0},addOverlay:Bl(function(Rn,Fn){var Zn=Rn.token?Rn:wn.getMode(this.options,Rn);if(Zn.startState)throw new Error("Overlays may not be stateful.");vo(this.state.overlays,{mode:Zn,modeSpec:Rn,opaque:Fn&&Fn.opaque,priority:Fn&&Fn.priority||0},function(zr){return zr.priority}),this.state.modeGen++,rs(this)}),removeOverlay:Bl(function(Rn){for(var Fn=this.state.overlays,Zn=0;Zn<Fn.length;++Zn){var zr=Fn[Zn].modeSpec;if(zr==Rn||typeof Rn=="string"&&zr.name==Rn){Fn.splice(Zn,1),this.state.modeGen++,rs(this);return}}}),indentLine:Bl(function(Rn,Fn,Zn){typeof Fn!="string"&&typeof Fn!="number"&&(Fn==null?Fn=this.options.smartIndent?"smart":"prev":Fn=Fn?"add":"subtract"),Js(this.doc,Rn)&&ju(this,Rn,Fn,Zn)}),indentSelection:Bl(function(Rn){for(var Fn=this.doc.sel.ranges,Zn=-1,zr=0;zr<Fn.length;zr++){var Gr=Fn[zr];if(Gr.empty())Gr.head.line>Zn&&(ju(this,Gr.head.line,Rn,!0),Zn=Gr.head.line,zr==this.doc.sel.primIndex&&Ja(this));else{var Kr=Gr.from(),ii=Gr.to(),mi=Math.max(Zn,Kr.line);Zn=Math.min(this.lastLine(),ii.line-(ii.ch?0:1))+1;for(var Ci=mi;Ci<Zn;++Ci)ju(this,Ci,Rn);var Vi=this.doc.sel.ranges;Kr.ch==0&&Fn.length==Vi.length&&Vi[zr].from().ch>0&&Qd(this.doc,zr,new cs(Kr,Vi[zr].to()),ji)}}}),getTokenAt:function(Rn,Fn){return Ma(this,Rn,Fn)},getLineTokens:function(Rn,Fn){return Ma(this,lo(Rn),Fn,!0)},getTokenTypeAt:function(Rn){Rn=Gi(this.doc,Rn);var Fn=ta(this,Ei(this.doc,Rn.line)),Zn=0,zr=(Fn.length-1)/2,Gr=Rn.ch,Kr;if(Gr==0)Kr=Fn[2];else for(;;){var ii=Zn+zr>>1;if((ii?Fn[ii*2-1]:0)>=Gr)zr=ii;else if(Fn[ii*2+1]<Gr)Zn=ii+1;else{Kr=Fn[ii*2+2];break}}var mi=Kr?Kr.indexOf("overlay "):-1;return mi<0?Kr:mi==0?null:Kr.slice(0,mi-1)},getModeAt:function(Rn){var Fn=this.doc.mode;return Fn.innerMode?wn.innerMode(Fn,this.getTokenAt(Rn).state).mode:Fn},getHelper:function(Rn,Fn){return this.getHelpers(Rn,Fn)[0]},getHelpers:function(Rn,Fn){var Zn=[];if(!$n.hasOwnProperty(Fn))return Zn;var zr=$n[Fn],Gr=this.getModeAt(Rn);if(typeof Gr[Fn]=="string")zr[Gr[Fn]]&&Zn.push(zr[Gr[Fn]]);else if(Gr[Fn])for(var Kr=0;Kr<Gr[Fn].length;Kr++){var ii=zr[Gr[Fn][Kr]];ii&&Zn.push(ii)}else Gr.helperType&&zr[Gr.helperType]?Zn.push(zr[Gr.helperType]):zr[Gr.name]&&Zn.push(zr[Gr.name]);for(var mi=0;mi<zr._global.length;mi++){var Ci=zr._global[mi];Ci.pred(Gr,this)&&Si(Zn,Ci.val)==-1&&Zn.push(Ci.val)}return Zn},getStateAfter:function(Rn,Fn){var Zn=this.doc;return Rn=Bi(Zn,Rn??Zn.first+Zn.size-1),Ho(this,Rn+1,Fn).state},cursorCoords:function(Rn,Fn){var Zn,zr=this.doc.sel.primary();return Rn==null?Zn=zr.head:typeof Rn=="object"?Zn=Gi(this.doc,Rn):Zn=Rn?zr.from():zr.to(),oo(this,Zn,Fn||"page")},charCoords:function(Rn,Fn){return Zi(this,Gi(this.doc,Rn),Fn||"page")},coordsChar:function(Rn,Fn){return Rn=qi(this,Rn,Fn||"page"),Mo(this,Rn.left,Rn.top)},lineAtHeight:function(Rn,Fn){return Rn=qi(this,{top:Rn,left:0},Fn||"page").top,Fs(this.doc,Rn+this.display.viewOffset)},heightAtLine:function(Rn,Fn,Zn){var zr=!1,Gr;if(typeof Rn=="number"){var Kr=this.doc.first+this.doc.size-1;Rn<this.doc.first?Rn=this.doc.first:Rn>Kr&&(Rn=Kr,zr=!0),Gr=Ei(this.doc,Rn)}else Gr=Rn;return Ri(this,Gr,{top:0,left:0},Fn||"page",Zn||zr).top+(zr?this.doc.height-al(Gr):0)},defaultTextHeight:function(){return Hs(this.display)},defaultCharWidth:function(){return Vs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(Rn,Fn,Zn,zr,Gr){var Kr=this.display;Rn=oo(this,Gi(this.doc,Rn));var ii=Rn.bottom,mi=Rn.left;if(Fn.style.position="absolute",Fn.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(Fn),Kr.sizer.appendChild(Fn),zr=="over")ii=Rn.top;else if(zr=="above"||zr=="near"){var Ci=Math.max(Kr.wrapper.clientHeight,this.doc.height),Vi=Math.max(Kr.sizer.clientWidth,Kr.lineSpace.clientWidth);(zr=="above"||Rn.bottom+Fn.offsetHeight>Ci)&&Rn.top>Fn.offsetHeight?ii=Rn.top-Fn.offsetHeight:Rn.bottom+Fn.offsetHeight<=Ci&&(ii=Rn.bottom),mi+Fn.offsetWidth>Vi&&(mi=Vi-Fn.offsetWidth)}Fn.style.top=ii+"px",Fn.style.left=Fn.style.right="",Gr=="right"?(mi=Kr.sizer.clientWidth-Fn.offsetWidth,Fn.style.right="0px"):(Gr=="left"?mi=0:Gr=="middle"&&(mi=(Kr.sizer.clientWidth-Fn.offsetWidth)/2),Fn.style.left=mi+"px"),Zn&&Ai(this,{left:mi,top:ii,right:mi+Fn.offsetWidth,bottom:ii+Fn.offsetHeight})},triggerOnKeyDown:Bl(Cp),triggerOnKeyPress:Bl(Of),triggerOnKeyUp:xp,triggerOnMouseDown:Bl(af),execCommand:function(Rn){if(Md.hasOwnProperty(Rn))return Md[Rn].call(null,this)},triggerElectric:Bl(function(Rn){Uu(this,Rn)}),findPosH:function(Rn,Fn,Zn,zr){var Gr=1;Fn<0&&(Gr=-1,Fn=-Fn);for(var Kr=Gi(this.doc,Rn),ii=0;ii<Fn&&(Kr=cf(this.doc,Kr,Gr,Zn,zr),!Kr.hitSide);++ii);return Kr},moveH:Bl(function(Rn,Fn){var Zn=this;this.extendSelectionsBy(function(zr){return Zn.display.shift||Zn.doc.extend||zr.empty()?cf(Zn.doc,zr.head,Rn,Fn,Zn.options.rtlMoveVisually):Rn<0?zr.from():zr.to()},po)}),deleteH:Bl(function(Rn,Fn){var Zn=this.doc.sel,zr=this.doc;Zn.somethingSelected()?zr.replaceSelection("",null,"+delete"):Td(this,function(Gr){var Kr=cf(zr,Gr.head,Rn,Fn,!1);return Rn<0?{from:Kr,to:Gr.head}:{from:Gr.head,to:Kr}})}),findPosV:function(Rn,Fn,Zn,zr){var Gr=1,Kr=zr;Fn<0&&(Gr=-1,Fn=-Fn);for(var ii=Gi(this.doc,Rn),mi=0;mi<Fn;++mi){var Ci=oo(this,ii,"div");if(Kr==null?Kr=Ci.left:Ci.left=Kr,ii=Hh(this,Ci,Gr,Zn),ii.hitSide)break}return ii},moveV:Bl(function(Rn,Fn){var Zn=this,zr=this.doc,Gr=[],Kr=!this.display.shift&&!zr.extend&&zr.sel.somethingSelected();if(zr.extendSelectionsBy(function(mi){if(Kr)return Rn<0?mi.from():mi.to();var Ci=oo(Zn,mi.head,"div");mi.goalColumn!=null&&(Ci.left=mi.goalColumn),Gr.push(Ci.left);var Vi=Hh(Zn,Ci,Rn,Fn);return Fn=="page"&&mi==zr.sel.primary()&&aa(Zn,Zi(Zn,Vi,"div").top-Ci.top),Vi},po),Gr.length)for(var ii=0;ii<zr.sel.ranges.length;ii++)zr.sel.ranges[ii].goalColumn=Gr[ii]}),findWordAt:function(Rn){var Fn=this.doc,Zn=Ei(Fn,Rn.line).text,zr=Rn.ch,Gr=Rn.ch;if(Zn){var Kr=this.getHelper(Rn,"wordChars");(Rn.sticky=="before"||Gr==Zn.length)&&zr?--zr:++Gr;for(var ii=Zn.charAt(zr),mi=gi(ii,Kr)?function(Ci){return gi(Ci,Kr)}:/\s/.test(ii)?function(Ci){return/\s/.test(Ci)}:function(Ci){return!/\s/.test(Ci)&&!gi(Ci)};zr>0&&mi(Zn.charAt(zr-1));)--zr;for(;Gr<Zn.length&&mi(Zn.charAt(Gr));)++Gr}return new cs(lo(Rn.line,zr),lo(Rn.line,Gr))},toggleOverwrite:function(Rn){Rn!=null&&Rn==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ti(this.display.cursorDiv,"CodeMirror-overwrite"):Yn(this.display.cursorDiv,"CodeMirror-overwrite"),la(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ci(Jn(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Bl(function(Rn,Fn){ys(this,Rn,Fn)}),getScrollInfo:function(){var Rn=this.display.scroller;return{left:Rn.scrollLeft,top:Rn.scrollTop,height:Rn.scrollHeight-Ys(this)-this.display.barHeight,width:Rn.scrollWidth-Ys(this)-this.display.barWidth,clientHeight:Dc(this),clientWidth:sl(this)}},scrollIntoView:Bl(function(Rn,Fn){Rn==null?(Rn={from:this.doc.sel.primary().head,to:null},Fn==null&&(Fn=this.options.cursorScrollMargin)):typeof Rn=="number"?Rn={from:lo(Rn,0),to:null}:Rn.from==null&&(Rn={from:Rn,to:null}),Rn.to||(Rn.to=Rn.from),Rn.margin=Fn||0,Rn.from.line!=null?Us(this,Rn):Bu(this,Rn.from,Rn.to,Rn.margin)}),setSize:Bl(function(Rn,Fn){var Zn=this,zr=function(Kr){return typeof Kr=="number"||/^\d+$/.test(String(Kr))?Kr+"px":Kr};Rn!=null&&(this.display.wrapper.style.width=zr(Rn)),Fn!=null&&(this.display.wrapper.style.height=zr(Fn)),this.options.lineWrapping&&Pu(this);var Gr=this.display.viewFrom;this.doc.iter(Gr,this.display.viewTo,function(Kr){if(Kr.widgets){for(var ii=0;ii<Kr.widgets.length;ii++)if(Kr.widgets[ii].noHScroll){kc(Zn,Gr,"widget");break}}++Gr}),this.curOp.forceUpdate=!0,la(this,"refresh",this)}),operation:function(Rn){return nl(this,Rn)},startOperation:function(){return od(this)},endOperation:function(){return ad(this)},refresh:Bl(function(){var Rn=this.display.cachedTextHeight;rs(this),this.curOp.forceUpdate=!0,eu(this),ys(this,this.doc.scrollLeft,this.doc.scrollTop),ih(this.display),(Rn==null||Math.abs(Rn-Hs(this.display))>.5||this.options.lineWrapping)&&Xs(this),la(this,"refresh",this)}),swapDoc:Bl(function(Rn){var Fn=this.doc;return Fn.cm=null,this.state.selectingText&&this.state.selectingText(),ph(this,Rn),eu(this),this.display.input.reset(),ys(this,Rn.scrollLeft,Rn.scrollTop),this.curOp.forceScroll=!0,ws(this,"swapDoc",this,Fn),Fn}),phrase:function(Rn){var Fn=this.options.phrases;return Fn&&Object.prototype.hasOwnProperty.call(Fn,Rn)?Fn[Rn]:Rn},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},os(wn),wn.registerHelper=function(Rn,Fn,Zn){$n.hasOwnProperty(Rn)||($n[Rn]=wn[Rn]={_global:[]}),$n[Rn][Fn]=Zn},wn.registerGlobalHelper=function(Rn,Fn,Zn,zr){wn.registerHelper(Rn,Fn,zr),$n[Rn]._global.push({pred:Zn,val:zr})}}function cf(wn,En,$n,Rn,Fn){var Zn=En,zr=$n,Gr=Ei(wn,En.line),Kr=Fn&&wn.direction=="rtl"?-$n:$n;function ii(){var Vo=En.line+Kr;return Vo<wn.first||Vo>=wn.first+wn.size?!1:(En=new lo(Vo,En.ch,En.sticky),Gr=Ei(wn,Vo))}function mi(Vo){var Do;if(Rn=="codepoint"){var Yo=Gr.text.charCodeAt(En.ch+($n>0?0:-1));if(isNaN(Yo))Do=null;else{var sa=$n>0?Yo>=55296&&Yo<56320:Yo>=56320&&Yo<57343;Do=new lo(En.line,Math.max(0,Math.min(Gr.text.length,En.ch+$n*(sa?2:1))),-$n)}}else Fn?Do=Cg(wn.cm,Gr,En,$n):Do=Lh(Gr,En,$n);if(Do==null)if(!Vo&&ii())En=Au(Fn,wn.cm,Gr,En.line,Kr);else return!1;else En=Do;return!0}if(Rn=="char"||Rn=="codepoint")mi();else if(Rn=="column")mi(!0);else if(Rn=="word"||Rn=="group")for(var Ci=null,Vi=Rn=="group",Ni=wn.cm&&wn.cm.getHelper(En,"wordChars"),Qi=!0;!($n<0&&!mi(!Qi));Qi=!1){var ho=Gr.text.charAt(En.ch)||`
`,Ao=gi(ho,Ni)?"w":Vi&&ho==`
`?"n":!Vi||/\s/.test(ho)?null:"p";if(Vi&&!Qi&&!Ao&&(Ao="s"),Ci&&Ci!=Ao){$n<0&&($n=1,mi(),En.sticky="after");break}if(Ao&&(Ci=Ao),$n>0&&!mi(!Qi))break}var Lo=qa(wn,En,Zn,zr,!0);return hs(Zn,Lo)&&(Lo.hitSide=!0),Lo}function Hh(wn,En,$n,Rn){var Fn=wn.doc,Zn=En.left,zr;if(Rn=="page"){var Gr=Math.min(wn.display.wrapper.clientHeight,oi(wn).innerHeight||Fn(wn).documentElement.clientHeight),Kr=Math.max(Gr-.5*Hs(wn.display),3);zr=($n>0?En.bottom:En.top)+$n*Kr}else Rn=="line"&&(zr=$n>0?En.bottom+3:En.top-3);for(var ii;ii=Mo(wn,Zn,zr),!!ii.outside;){if($n<0?zr<=0:zr>=Fn.height){ii.hitSide=!0;break}zr+=$n*5}return ii}var Es=function(wn){this.cm=wn,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new yi,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Es.prototype.init=function(wn){var En=this,$n=this,Rn=$n.cm,Fn=$n.div=wn.lineDiv;Fn.contentEditable=!0,lf(Fn,Rn.options.spellcheck,Rn.options.autocorrect,Rn.options.autocapitalize);function Zn(Gr){for(var Kr=Gr.target;Kr;Kr=Kr.parentNode){if(Kr==Fn)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Kr.className))break}return!1}Xi(Fn,"paste",function(Gr){!Zn(Gr)||ya(Rn,Gr)||Tp(Gr,Rn)||fn<=11&&setTimeout(dl(Rn,function(){return En.updateFromDOM()}),20)}),Xi(Fn,"compositionstart",function(Gr){En.composing={data:Gr.data,done:!1}}),Xi(Fn,"compositionupdate",function(Gr){En.composing||(En.composing={data:Gr.data,done:!1})}),Xi(Fn,"compositionend",function(Gr){En.composing&&(Gr.data!=En.composing.data&&En.readFromDOMSoon(),En.composing.done=!0)}),Xi(Fn,"touchstart",function(){return $n.forceCompositionEnd()}),Xi(Fn,"input",function(){En.composing||En.readFromDOMSoon()});function zr(Gr){if(!(!Zn(Gr)||ya(Rn,Gr))){if(Rn.somethingSelected())Ff({lineWise:!1,text:Rn.getSelections()}),Gr.type=="cut"&&Rn.replaceSelection("",null,"cut");else if(Rn.options.lineWiseCopyCut){var Kr=zh(Rn);Ff({lineWise:!0,text:Kr.text}),Gr.type=="cut"&&Rn.operation(function(){Rn.setSelections(Kr.ranges,0,ji),Rn.replaceSelection("",null,"cut")})}else return;if(Gr.clipboardData){Gr.clipboardData.clearData();var ii=Gc.text.join(`
`);if(Gr.clipboardData.setData("Text",ii),Gr.clipboardData.getData("Text")==ii){Gr.preventDefault();return}}var mi=Mp(),Ci=mi.firstChild;lf(Ci),Rn.display.lineSpace.insertBefore(mi,Rn.display.lineSpace.firstChild),Ci.value=Gc.text.join(`
`);var Vi=ci(Fn.ownerDocument);Br(Ci),setTimeout(function(){Rn.display.lineSpace.removeChild(mi),Vi.focus(),Vi==Fn&&$n.showPrimarySelection()},50)}}Xi(Fn,"copy",zr),Xi(Fn,"cut",zr)},Es.prototype.screenReaderLabelChanged=function(wn){wn?this.div.setAttribute("aria-label",wn):this.div.removeAttribute("aria-label")},Es.prototype.prepareSelection=function(){var wn=mc(this.cm,!1);return wn.focus=ci(this.div.ownerDocument)==this.div,wn},Es.prototype.showSelection=function(wn,En){!wn||!this.cm.display.view.length||((wn.focus||En)&&this.showPrimarySelection(),this.showMultipleSelections(wn))},Es.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Es.prototype.showPrimarySelection=function(){var wn=this.getSelection(),En=this.cm,$n=En.doc.sel.primary(),Rn=$n.from(),Fn=$n.to();if(En.display.viewTo==En.display.viewFrom||Rn.line>=En.display.viewTo||Fn.line<En.display.viewFrom){wn.removeAllRanges();return}var Zn=uf(En,wn.anchorNode,wn.anchorOffset),zr=uf(En,wn.focusNode,wn.focusOffset);if(!(Zn&&!Zn.bad&&zr&&!zr.bad&&ea(vi(Zn,zr),Rn)==0&&ea(ki(Zn,zr),Fn)==0)){var Gr=En.display.view,Kr=Rn.line>=En.display.viewFrom&&Vh(En,Rn)||{node:Gr[0].measure.map[2],offset:0},ii=Fn.line<En.display.viewTo&&Vh(En,Fn);if(!ii){var mi=Gr[Gr.length-1].measure,Ci=mi.maps?mi.maps[mi.maps.length-1]:mi.map;ii={node:Ci[Ci.length-1],offset:Ci[Ci.length-2]-Ci[Ci.length-3]}}if(!Kr||!ii){wn.removeAllRanges();return}var Vi=wn.rangeCount&&wn.getRangeAt(0),Ni;try{Ni=Wr(Kr.node,Kr.offset,ii.offset,ii.node)}catch{}Ni&&(!rn&&En.state.focused?(wn.collapse(Kr.node,Kr.offset),Ni.collapsed||(wn.removeAllRanges(),wn.addRange(Ni))):(wn.removeAllRanges(),wn.addRange(Ni)),Vi&&wn.anchorNode==null?wn.addRange(Vi):rn&&this.startGracePeriod()),this.rememberSelection()}},Es.prototype.startGracePeriod=function(){var wn=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){wn.gracePeriod=!1,wn.selectionChanged()&&wn.cm.operation(function(){return wn.cm.curOp.selectionChanged=!0})},20)},Es.prototype.showMultipleSelections=function(wn){Qn(this.cm.display.cursorDiv,wn.cursors),Qn(this.cm.display.selectionDiv,wn.selection)},Es.prototype.rememberSelection=function(){var wn=this.getSelection();this.lastAnchorNode=wn.anchorNode,this.lastAnchorOffset=wn.anchorOffset,this.lastFocusNode=wn.focusNode,this.lastFocusOffset=wn.focusOffset},Es.prototype.selectionInEditor=function(){var wn=this.getSelection();if(!wn.rangeCount)return!1;var En=wn.getRangeAt(0).commonAncestorContainer;return Jr(this.div,En)},Es.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ci(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Es.prototype.blur=function(){this.div.blur()},Es.prototype.getField=function(){return this.div},Es.prototype.supportsTouch=function(){return!0},Es.prototype.receivedFocus=function(){var wn=this,En=this;this.selectionInEditor()?setTimeout(function(){return wn.pollSelection()},20):nl(this.cm,function(){return En.cm.curOp.selectionChanged=!0});function $n(){En.cm.state.focused&&(En.pollSelection(),En.polling.set(En.cm.options.pollInterval,$n))}this.polling.set(this.cm.options.pollInterval,$n)},Es.prototype.selectionChanged=function(){var wn=this.getSelection();return wn.anchorNode!=this.lastAnchorNode||wn.anchorOffset!=this.lastAnchorOffset||wn.focusNode!=this.lastFocusNode||wn.focusOffset!=this.lastFocusOffset},Es.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var wn=this.getSelection(),En=this.cm;if(Mn&&gn&&this.cm.display.gutterSpecs.length&&jh(wn.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var $n=uf(En,wn.anchorNode,wn.anchorOffset),Rn=uf(En,wn.focusNode,wn.focusOffset);$n&&Rn&&nl(En,function(){Dl(En.doc,ru($n,Rn),ji),($n.bad||Rn.bad)&&(En.curOp.selectionChanged=!0)})}}},Es.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var wn=this.cm,En=wn.display,$n=wn.doc.sel.primary(),Rn=$n.from(),Fn=$n.to();if(Rn.ch==0&&Rn.line>wn.firstLine()&&(Rn=lo(Rn.line-1,Ei(wn.doc,Rn.line-1).length)),Fn.ch==Ei(wn.doc,Fn.line).text.length&&Fn.line<wn.lastLine()&&(Fn=lo(Fn.line+1,0)),Rn.line<En.viewFrom||Fn.line>En.viewTo-1)return!1;var Zn,zr,Gr;Rn.line==En.viewFrom||(Zn=Nc(wn,Rn.line))==0?(zr=Ea(En.view[0].line),Gr=En.view[0].node):(zr=Ea(En.view[Zn].line),Gr=En.view[Zn-1].node.nextSibling);var Kr=Nc(wn,Fn.line),ii,mi;if(Kr==En.view.length-1?(ii=En.viewTo-1,mi=En.lineDiv.lastChild):(ii=Ea(En.view[Kr+1].line)-1,mi=En.view[Kr+1].node.previousSibling),!Gr)return!1;for(var Ci=wn.doc.splitLines(Lp(wn,Gr,mi,zr,ii)),Vi=vs(wn.doc,lo(zr,0),lo(ii,Ei(wn.doc,ii).text.length));Ci.length>1&&Vi.length>1;)if(Oi(Ci)==Oi(Vi))Ci.pop(),Vi.pop(),ii--;else if(Ci[0]==Vi[0])Ci.shift(),Vi.shift(),zr++;else break;for(var Ni=0,Qi=0,ho=Ci[0],Ao=Vi[0],Lo=Math.min(ho.length,Ao.length);Ni<Lo&&ho.charCodeAt(Ni)==Ao.charCodeAt(Ni);)++Ni;for(var Vo=Oi(Ci),Do=Oi(Vi),Yo=Math.min(Vo.length-(Ci.length==1?Ni:0),Do.length-(Vi.length==1?Ni:0));Qi<Yo&&Vo.charCodeAt(Vo.length-Qi-1)==Do.charCodeAt(Do.length-Qi-1);)++Qi;if(Ci.length==1&&Vi.length==1&&zr==Rn.line)for(;Ni&&Ni>Rn.ch&&Vo.charCodeAt(Vo.length-Qi-1)==Do.charCodeAt(Do.length-Qi-1);)Ni--,Qi++;Ci[Ci.length-1]=Vo.slice(0,Vo.length-Qi).replace(/^\u200b+/,""),Ci[0]=Ci[0].slice(Ni).replace(/\u200b+$/,"");var sa=lo(zr,Ni),Jo=lo(ii,Vi.length?Oi(Vi).length-Qi:0);if(Ci.length>1||Ci[0]||ea(sa,Jo))return ud(wn.doc,Ci,sa,Jo,"+input"),!0},Es.prototype.ensurePolled=function(){this.forceCompositionEnd()},Es.prototype.reset=function(){this.forceCompositionEnd()},Es.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Es.prototype.readFromDOMSoon=function(){var wn=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(wn.readDOMTimeout=null,wn.composing)if(wn.composing.done)wn.composing=null;else return;wn.updateFromDOM()},80))},Es.prototype.updateFromDOM=function(){var wn=this;(this.cm.isReadOnly()||!this.pollContent())&&nl(this.cm,function(){return rs(wn.cm)})},Es.prototype.setUneditable=function(wn){wn.contentEditable="false"},Es.prototype.onKeyPress=function(wn){wn.charCode==0||this.composing||(wn.preventDefault(),this.cm.isReadOnly()||dl(this.cm,sf)(this.cm,String.fromCharCode(wn.charCode==null?wn.keyCode:wn.charCode),0))},Es.prototype.readOnlyChanged=function(wn){this.div.contentEditable=String(wn!="nocursor")},Es.prototype.onContextMenu=function(){},Es.prototype.resetPosition=function(){},Es.prototype.needsContentAttribute=!0;function Vh(wn,En){var $n=gc(wn,En.line);if(!$n||$n.hidden)return null;var Rn=Ei(wn.doc,En.line),Fn=ed($n,Rn,En.line),Zn=$o(Rn,wn.doc.direction),zr="left";if(Zn){var Gr=ko(Zn,En.ch);zr=Gr%2?"right":"left"}var Kr=Jc(Fn.map,En.ch,zr);return Kr.offset=Kr.collapse=="right"?Kr.end:Kr.start,Kr}function jh(wn){for(var En=wn;En;En=En.parentNode)if(/CodeMirror-gutter-wrapper/.test(En.className))return!0;return!1}function su(wn,En){return En&&(wn.bad=!0),wn}function Lp(wn,En,$n,Rn,Fn){var Zn="",zr=!1,Gr=wn.doc.lineSeparator(),Kr=!1;function ii(Ni){return function(Qi){return Qi.id==Ni}}function mi(){zr&&(Zn+=Gr,Kr&&(Zn+=Gr),zr=Kr=!1)}function Ci(Ni){Ni&&(mi(),Zn+=Ni)}function Vi(Ni){if(Ni.nodeType==1){var Qi=Ni.getAttribute("cm-text");if(Qi){Ci(Qi);return}var ho=Ni.getAttribute("cm-marker"),Ao;if(ho){var Lo=wn.findMarks(lo(Rn,0),lo(Fn+1,0),ii(+ho));Lo.length&&(Ao=Lo[0].find(0))&&Ci(vs(wn.doc,Ao.from,Ao.to).join(Gr));return}if(Ni.getAttribute("contenteditable")=="false")return;var Vo=/^(pre|div|p|li|table|br)$/i.test(Ni.nodeName);if(!/^br$/i.test(Ni.nodeName)&&Ni.textContent.length==0)return;Vo&&mi();for(var Do=0;Do<Ni.childNodes.length;Do++)Vi(Ni.childNodes[Do]);/^(pre|p)$/i.test(Ni.nodeName)&&(Kr=!0),Vo&&(zr=!0)}else Ni.nodeType==3&&Ci(Ni.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Vi(En),En!=$n;)En=En.nextSibling,Kr=!1;return Zn}function uf(wn,En,$n){var Rn;if(En==wn.display.lineDiv){if(Rn=wn.display.lineDiv.childNodes[$n],!Rn)return su(wn.clipPos(lo(wn.display.viewTo-1)),!0);En=null,$n=0}else for(Rn=En;;Rn=Rn.parentNode){if(!Rn||Rn==wn.display.lineDiv)return null;if(Rn.parentNode&&Rn.parentNode==wn.display.lineDiv)break}for(var Fn=0;Fn<wn.display.view.length;Fn++){var Zn=wn.display.view[Fn];if(Zn.node==Rn)return Pp(Zn,En,$n)}}function Pp(wn,En,$n){var Rn=wn.text.firstChild,Fn=!1;if(!En||!Jr(Rn,En))return su(lo(Ea(wn.line),0),!0);if(En==Rn&&(Fn=!0,En=Rn.childNodes[$n],$n=0,!En)){var Zn=wn.rest?Oi(wn.rest):wn.line;return su(lo(Ea(Zn),Zn.text.length),Fn)}var zr=En.nodeType==3?En:null,Gr=En;for(!zr&&En.childNodes.length==1&&En.firstChild.nodeType==3&&(zr=En.firstChild,$n&&($n=zr.nodeValue.length));Gr.parentNode!=Rn;)Gr=Gr.parentNode;var Kr=wn.measure,ii=Kr.maps;function mi(Ao,Lo,Vo){for(var Do=-1;Do<(ii?ii.length:0);Do++)for(var Yo=Do<0?Kr.map:ii[Do],sa=0;sa<Yo.length;sa+=3){var Jo=Yo[sa+2];if(Jo==Ao||Jo==Lo){var Ga=Ea(Do<0?wn.line:wn.rest[Do]),Ds=Yo[sa]+Vo;return(Vo<0||Jo!=Ao)&&(Ds=Yo[sa+(Vo?1:0)]),lo(Ga,Ds)}}}var Ci=mi(zr,Gr,$n);if(Ci)return su(Ci,Fn);for(var Vi=Gr.nextSibling,Ni=zr?zr.nodeValue.length-$n:0;Vi;Vi=Vi.nextSibling){if(Ci=mi(Vi,Vi.firstChild,0),Ci)return su(lo(Ci.line,Ci.ch-Ni),Fn);Ni+=Vi.textContent.length}for(var Qi=Gr.previousSibling,ho=$n;Qi;Qi=Qi.previousSibling){if(Ci=mi(Qi,Qi.firstChild,-1),Ci)return su(lo(Ci.line,Ci.ch+ho),Fn);ho+=Qi.textContent.length}}var rl=function(wn){this.cm=wn,this.prevInput="",this.pollingFast=!1,this.polling=new yi,this.hasSelection=!1,this.composing=null,this.resetting=!1};rl.prototype.init=function(wn){var En=this,$n=this,Rn=this.cm;this.createField(wn);var Fn=this.textarea;wn.wrapper.insertBefore(this.wrapper,wn.wrapper.firstChild),Sn&&(Fn.style.width="0px"),Xi(Fn,"input",function(){un&&fn>=9&&En.hasSelection&&(En.hasSelection=null),$n.poll()}),Xi(Fn,"paste",function(zr){ya(Rn,zr)||Tp(zr,Rn)||(Rn.state.pasteIncoming=+new Date,$n.fastPoll())});function Zn(zr){if(!ya(Rn,zr)){if(Rn.somethingSelected())Ff({lineWise:!1,text:Rn.getSelections()});else if(Rn.options.lineWiseCopyCut){var Gr=zh(Rn);Ff({lineWise:!0,text:Gr.text}),zr.type=="cut"?Rn.setSelections(Gr.ranges,null,ji):($n.prevInput="",Fn.value=Gr.text.join(`
`),Br(Fn))}else return;zr.type=="cut"&&(Rn.state.cutIncoming=+new Date)}}Xi(Fn,"cut",Zn),Xi(Fn,"copy",Zn),Xi(wn.scroller,"paste",function(zr){if(!(wc(wn,zr)||ya(Rn,zr))){if(!Fn.dispatchEvent){Rn.state.pasteIncoming=+new Date,$n.focus();return}var Gr=new Event("paste");Gr.clipboardData=zr.clipboardData,Fn.dispatchEvent(Gr)}}),Xi(wn.lineSpace,"selectstart",function(zr){wc(wn,zr)||Fa(zr)}),Xi(Fn,"compositionstart",function(){var zr=Rn.getCursor("from");$n.composing&&$n.composing.range.clear(),$n.composing={start:zr,range:Rn.markText(zr,Rn.getCursor("to"),{className:"CodeMirror-composing"})}}),Xi(Fn,"compositionend",function(){$n.composing&&($n.poll(),$n.composing.range.clear(),$n.composing=null)})},rl.prototype.createField=function(wn){this.wrapper=Mp(),this.textarea=this.wrapper.firstChild;var En=this.cm.options;lf(this.textarea,En.spellcheck,En.autocorrect,En.autocapitalize)},rl.prototype.screenReaderLabelChanged=function(wn){wn?this.textarea.setAttribute("aria-label",wn):this.textarea.removeAttribute("aria-label")},rl.prototype.prepareSelection=function(){var wn=this.cm,En=wn.display,$n=wn.doc,Rn=mc(wn);if(wn.options.moveInputWithCursor){var Fn=oo(wn,$n.sel.primary().head,"div"),Zn=En.wrapper.getBoundingClientRect(),zr=En.lineDiv.getBoundingClientRect();Rn.teTop=Math.max(0,Math.min(En.wrapper.clientHeight-10,Fn.top+zr.top-Zn.top)),Rn.teLeft=Math.max(0,Math.min(En.wrapper.clientWidth-10,Fn.left+zr.left-Zn.left))}return Rn},rl.prototype.showSelection=function(wn){var En=this.cm,$n=En.display;Qn($n.cursorDiv,wn.cursors),Qn($n.selectionDiv,wn.selection),wn.teTop!=null&&(this.wrapper.style.top=wn.teTop+"px",this.wrapper.style.left=wn.teLeft+"px")},rl.prototype.reset=function(wn){if(!(this.contextMenuPending||this.composing&&wn)){var En=this.cm;if(this.resetting=!0,En.somethingSelected()){this.prevInput="";var $n=En.getSelection();this.textarea.value=$n,En.state.focused&&Br(this.textarea),un&&fn>=9&&(this.hasSelection=$n)}else wn||(this.prevInput=this.textarea.value="",un&&fn>=9&&(this.hasSelection=null));this.resetting=!1}},rl.prototype.getField=function(){return this.textarea},rl.prototype.supportsTouch=function(){return!1},rl.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!In||ci(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},rl.prototype.blur=function(){this.textarea.blur()},rl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},rl.prototype.receivedFocus=function(){this.slowPoll()},rl.prototype.slowPoll=function(){var wn=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){wn.poll(),wn.cm.state.focused&&wn.slowPoll()})},rl.prototype.fastPoll=function(){var wn=!1,En=this;En.pollingFast=!0;function $n(){var Rn=En.poll();!Rn&&!wn?(wn=!0,En.polling.set(60,$n)):(En.pollingFast=!1,En.slowPoll())}En.polling.set(20,$n)},rl.prototype.poll=function(){var wn=this,En=this.cm,$n=this.textarea,Rn=this.prevInput;if(this.contextMenuPending||this.resetting||!En.state.focused||Xo($n)&&!Rn&&!this.composing||En.isReadOnly()||En.options.disableInput||En.state.keySeq)return!1;var Fn=$n.value;if(Fn==Rn&&!En.somethingSelected())return!1;if(un&&fn>=9&&this.hasSelection===Fn||On&&/[\uf700-\uf7ff]/.test(Fn))return En.display.input.reset(),!1;if(En.doc.sel==En.display.selForContextMenu){var Zn=Fn.charCodeAt(0);if(Zn==8203&&!Rn&&(Rn="â"),Zn==8666)return this.reset(),this.cm.execCommand("undo")}for(var zr=0,Gr=Math.min(Rn.length,Fn.length);zr<Gr&&Rn.charCodeAt(zr)==Fn.charCodeAt(zr);)++zr;return nl(En,function(){sf(En,Fn.slice(zr),Rn.length-zr,null,wn.composing?"*compose":null),Fn.length>1e3||Fn.indexOf(`
`)>-1?$n.value=wn.prevInput="":wn.prevInput=Fn,wn.composing&&(wn.composing.range.clear(),wn.composing.range=En.markText(wn.composing.start,En.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},rl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},rl.prototype.onKeyPress=function(){un&&fn>=9&&(this.hasSelection=null),this.fastPoll()},rl.prototype.onContextMenu=function(wn){var En=this,$n=En.cm,Rn=$n.display,Fn=En.textarea;En.contextMenuPending&&En.contextMenuPending();var Zn=Ta($n,wn),zr=Rn.scroller.scrollTop;if(!Zn||_n)return;var Gr=$n.options.resetSelectionOnContextMenu;Gr&&$n.doc.sel.contains(Zn)==-1&&dl($n,Dl)($n.doc,ru(Zn),ji);var Kr=Fn.style.cssText,ii=En.wrapper.style.cssText,mi=En.wrapper.offsetParent.getBoundingClientRect();En.wrapper.style.cssText="position: static",Fn.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(wn.clientY-mi.top-5)+"px; left: "+(wn.clientX-mi.left-5)+`px;
      z-index: 1000; background: `+(un?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Ci;hn&&(Ci=Fn.ownerDocument.defaultView.scrollY),Rn.input.focus(),hn&&Fn.ownerDocument.defaultView.scrollTo(null,Ci),Rn.input.reset(),$n.somethingSelected()||(Fn.value=En.prevInput=" "),En.contextMenuPending=Ni,Rn.selForContextMenu=$n.doc.sel,clearTimeout(Rn.detectingSelectAll);function Vi(){if(Fn.selectionStart!=null){var ho=$n.somethingSelected(),Ao="â"+(ho?Fn.value:"");Fn.value="â",Fn.value=Ao,En.prevInput=ho?"":"â",Fn.selectionStart=1,Fn.selectionEnd=Ao.length,Rn.selForContextMenu=$n.doc.sel}}function Ni(){if(En.contextMenuPending==Ni&&(En.contextMenuPending=!1,En.wrapper.style.cssText=ii,Fn.style.cssText=Kr,un&&fn<9&&Rn.scrollbars.setScrollTop(Rn.scroller.scrollTop=zr),Fn.selectionStart!=null)){(!un||un&&fn<9)&&Vi();var ho=0,Ao=function(){Rn.selForContextMenu==$n.doc.sel&&Fn.selectionStart==0&&Fn.selectionEnd>0&&En.prevInput=="â"?dl($n,kh)($n):ho++<10?Rn.detectingSelectAll=setTimeout(Ao,500):(Rn.selForContextMenu=null,Rn.input.reset())};Rn.detectingSelectAll=setTimeout(Ao,200)}}if(un&&fn>=9&&Vi(),Un){gl(wn);var Qi=function(){fo(window,"mouseup",Qi),setTimeout(Ni,20)};Xi(window,"mouseup",Qi)}else setTimeout(Ni,50)},rl.prototype.readOnlyChanged=function(wn){wn||this.reset(),this.textarea.disabled=wn=="nocursor",this.textarea.readOnly=!!wn},rl.prototype.setUneditable=function(){},rl.prototype.needsContentAttribute=!1;function lu(wn,En){if(En=En?ri(En):{},En.value=wn.value,!En.tabindex&&wn.tabIndex&&(En.tabindex=wn.tabIndex),!En.placeholder&&wn.placeholder&&(En.placeholder=wn.placeholder),En.autofocus==null){var $n=ci(wn.ownerDocument);En.autofocus=$n==wn||wn.getAttribute("autofocus")!=null&&$n==document.body}function Rn(){wn.value=Gr.getValue()}var Fn;if(wn.form&&(Xi(wn.form,"submit",Rn),!En.leaveSubmitMethodAlone)){var Zn=wn.form;Fn=Zn.submit;try{var zr=Zn.submit=function(){Rn(),Zn.submit=Fn,Zn.submit(),Zn.submit=zr}}catch{}}En.finishInit=function(Kr){Kr.save=Rn,Kr.getTextArea=function(){return wn},Kr.toTextArea=function(){Kr.toTextArea=isNaN,Rn(),wn.parentNode.removeChild(Kr.getWrapperElement()),wn.style.display="",wn.form&&(fo(wn.form,"submit",Rn),!En.leaveSubmitMethodAlone&&typeof wn.form.submit=="function"&&(wn.form.submit=Fn))}},wn.style.display="none";var Gr=Os(function(Kr){return wn.parentNode.insertBefore(Kr,wn.nextSibling)},En);return Gr}function zf(wn){wn.off=fo,wn.on=Xi,wn.wheelEventPixels=cp,wn.Doc=oc,wn.splitLines=So,wn.countColumn=fi,wn.findColumn=Yi,wn.isWordChar=Mi,wn.Pass=Ui,wn.signal=la,wn.Line=Fr,wn.changeEnd=bu,wn.scrollbarModel=nh,wn.Pos=lo,wn.cmpPos=ea,wn.modes=fa,wn.mimeModes=jo,wn.resolveMode=ss,wn.getMode=za,wn.modeExtensions=Ya,wn.extendMode=ha,wn.copyState=ia,wn.startState=oa,wn.innerMode=ca,wn.commands=Md,wn.keyMap=wu,wn.keyName=bp,wn.isModifierKey=Lf,wn.lookupKey=ku,wn.normalizeKeyMap=Ag,wn.StringStream=Uo,wn.SharedTextMarker=zu,wn.TextMarker=_u,wn.LineWidget=Vc,wn.e_preventDefault=Fa,wn.e_stopPropagation=As,wn.e_stop=gl,wn.addClass=ti,wn.contains=Jr,wn.rmClass=Yn,wn.keyNames=Hu}Bf(Os),Ip(Os);var Sc="iter insert remove copy getEditor constructor".split(" ");for(var Gu in oc.prototype)oc.prototype.hasOwnProperty(Gu)&&Si(Sc,Gu)<0&&(Os.prototype[Gu]=function(wn){return function(){return wn.apply(this.doc,arguments)}}(oc.prototype[Gu]));return os(oc),Os.inputStyles={textarea:rl,contenteditable:Es},Os.defineMode=function(wn){!Os.defaults.mode&&wn!="null"&&(Os.defaults.mode=wn),Ca.apply(this,arguments)},Os.defineMIME=ja,Os.defineMode("null",function(){return{token:function(wn){return wn.skipToEnd()}}}),Os.defineMIME("text/plain","null"),Os.defineExtension=function(wn,En){Os.prototype[wn]=En},Os.defineDocExtension=function(wn,En){oc.prototype[wn]=En},Os.fromTextArea=lu,zf(Os),Os.version="5.65.15",Os})})(codemirror);var codemirrorExports=codemirror.exports;(function(Fe,en){(function(tn){tn(codemirrorExports)})(function(tn){var nn=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,rn=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,an=/[*+-]\s/;tn.commands.newlineAndIndentContinueMarkdownList=function(cn){if(cn.getOption("disableInput"))return tn.Pass;for(var un=cn.listSelections(),fn=[],hn=0;hn<un.length;hn++){var pn=un[hn].head,gn=cn.getStateAfter(pn.line),mn=tn.innerMode(cn.getMode(),gn);if(mn.mode.name!=="markdown"&&mn.mode.helperType!=="markdown"){cn.execCommand("newlineAndIndent");return}else gn=mn.state;var _n=gn.list!==!1,kn=gn.quote!==0,Cn=cn.getLine(pn.line),xn=nn.exec(Cn),Sn=/^\s*$/.test(Cn.slice(0,pn.ch));if(!un[hn].empty()||!_n&&!kn||!xn||Sn){cn.execCommand("newlineAndIndent");return}if(rn.test(Cn)){var Mn=kn&&/>\s*$/.test(Cn),In=!/>\s*$/.test(Cn);(Mn||In)&&cn.replaceRange("",{line:pn.line,ch:0},{line:pn.line,ch:pn.ch+1}),fn[hn]=`
`}else{var On=xn[1],Pn=xn[5],Tn=!(an.test(xn[2])||xn[2].indexOf(">")>=0),Nn=Tn?parseInt(xn[3],10)+1+xn[4]:xn[2].replace("x"," ");fn[hn]=`
`+On+Nn+Pn,Tn&&ln(cn,pn)}}cn.replaceSelections(fn)};function ln(cn,un){var fn=un.line,hn=0,pn=0,gn=nn.exec(cn.getLine(fn)),mn=gn[1];do{hn+=1;var _n=fn+hn,kn=cn.getLine(_n),Cn=nn.exec(kn);if(Cn){var xn=Cn[1],Sn=parseInt(gn[3],10)+hn-pn,Mn=parseInt(Cn[3],10),In=Mn;if(mn===xn&&!isNaN(Mn))Sn===Mn&&(In=Mn+1),Sn>Mn&&(In=Sn+1),cn.replaceRange(kn.replace(nn,xn+In+Cn[4]+Cn[5]),{line:_n,ch:0},{line:_n,ch:kn.length});else{if(mn.length>xn.length||mn.length<xn.length&&hn===1)return;pn+=1}}}while(Cn)}})})();var CodeMirror$1=codemirrorExports;CodeMirror$1.commands.tabAndIndentMarkdownList=function(Fe){var en=Fe.listSelections(),tn=en[0].head,nn=Fe.getStateAfter(tn.line),rn=nn.list!==!1;if(rn){Fe.execCommand("indentMore");return}if(Fe.options.indentWithTabs)Fe.execCommand("insertTab");else{var an=Array(Fe.options.tabSize+1).join(" ");Fe.replaceSelection(an)}};CodeMirror$1.commands.shiftTabAndUnindentMarkdownList=function(Fe){var en=Fe.listSelections(),tn=en[0].head,nn=Fe.getStateAfter(tn.line),rn=nn.list!==!1;if(rn){Fe.execCommand("indentLess");return}if(Fe.options.indentWithTabs)Fe.execCommand("insertTab");else{var an=Array(Fe.options.tabSize+1).join(" ");Fe.replaceSelection(an)}};(function(Fe,en){(function(tn){tn(codemirrorExports)})(function(tn){tn.defineOption("fullScreen",!1,function(an,ln,cn){cn==tn.Init&&(cn=!1),!cn!=!ln&&(ln?nn(an):rn(an))});function nn(an){var ln=an.getWrapperElement();an.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:ln.style.width,height:ln.style.height},ln.style.width="",ln.style.height="auto",ln.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",an.refresh()}function rn(an){var ln=an.getWrapperElement();ln.className=ln.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var cn=an.state.fullScreenRestore;ln.style.width=cn.width,ln.style.height=cn.height,window.scrollTo(cn.scrollLeft,cn.scrollTop),an.refresh()}})})();var markdown={exports:{}},xml={exports:{}};(function(Fe,en){(function(tn){tn(codemirrorExports)})(function(tn){var nn={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},rn={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};tn.defineMode("xml",function(an,ln){var cn=an.indentUnit,un={},fn=ln.htmlMode?nn:rn;for(var hn in fn)un[hn]=fn[hn];for(var hn in ln)un[hn]=ln[hn];var pn,gn;function mn(Xn,jr){function Wr(ti){return jr.tokenize=ti,ti(Xn,jr)}var Jr=Xn.next();if(Jr=="<")return Xn.eat("!")?Xn.eat("[")?Xn.match("CDATA[")?Wr(Cn("atom","]]>")):null:Xn.match("--")?Wr(Cn("comment","-->")):Xn.match("DOCTYPE",!0,!0)?(Xn.eatWhile(/[\w\._\-]/),Wr(xn(1))):null:Xn.eat("?")?(Xn.eatWhile(/[\w\._\-]/),jr.tokenize=Cn("meta","?>"),"meta"):(pn=Xn.eat("/")?"closeTag":"openTag",jr.tokenize=_n,"tag bracket");if(Jr=="&"){var ci;return Xn.eat("#")?Xn.eat("x")?ci=Xn.eatWhile(/[a-fA-F\d]/)&&Xn.eat(";"):ci=Xn.eatWhile(/[\d]/)&&Xn.eat(";"):ci=Xn.eatWhile(/[\w\.\-:]/)&&Xn.eat(";"),ci?"atom":"error"}else return Xn.eatWhile(/[^&<]/),null}mn.isInText=!0;function _n(Xn,jr){var Wr=Xn.next();if(Wr==">"||Wr=="/"&&Xn.eat(">"))return jr.tokenize=mn,pn=Wr==">"?"endTag":"selfcloseTag","tag bracket";if(Wr=="=")return pn="equals",null;if(Wr=="<"){jr.tokenize=mn,jr.state=Pn,jr.tagName=jr.tagStart=null;var Jr=jr.tokenize(Xn,jr);return Jr?Jr+" tag error":"tag error"}else return/[\'\"]/.test(Wr)?(jr.tokenize=kn(Wr),jr.stringStartCol=Xn.column(),jr.tokenize(Xn,jr)):(Xn.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function kn(Xn){var jr=function(Wr,Jr){for(;!Wr.eol();)if(Wr.next()==Xn){Jr.tokenize=_n;break}return"string"};return jr.isInAttribute=!0,jr}function Cn(Xn,jr){return function(Wr,Jr){for(;!Wr.eol();){if(Wr.match(jr)){Jr.tokenize=mn;break}Wr.next()}return Xn}}function xn(Xn){return function(jr,Wr){for(var Jr;(Jr=jr.next())!=null;){if(Jr=="<")return Wr.tokenize=xn(Xn+1),Wr.tokenize(jr,Wr);if(Jr==">")if(Xn==1){Wr.tokenize=mn;break}else return Wr.tokenize=xn(Xn-1),Wr.tokenize(jr,Wr)}return"meta"}}function Sn(Xn){return Xn&&Xn.toLowerCase()}function Mn(Xn,jr,Wr){this.prev=Xn.context,this.tagName=jr||"",this.indent=Xn.indented,this.startOfLine=Wr,(un.doNotIndent.hasOwnProperty(jr)||Xn.context&&Xn.context.noIndent)&&(this.noIndent=!0)}function In(Xn){Xn.context&&(Xn.context=Xn.context.prev)}function On(Xn,jr){for(var Wr;;){if(!Xn.context||(Wr=Xn.context.tagName,!un.contextGrabbers.hasOwnProperty(Sn(Wr))||!un.contextGrabbers[Sn(Wr)].hasOwnProperty(Sn(jr))))return;In(Xn)}}function Pn(Xn,jr,Wr){return Xn=="openTag"?(Wr.tagStart=jr.column(),Tn):Xn=="closeTag"?Nn:Pn}function Tn(Xn,jr,Wr){return Xn=="word"?(Wr.tagName=jr.current(),gn="tag",jn):un.allowMissingTagName&&Xn=="endTag"?(gn="tag bracket",jn(Xn,jr,Wr)):(gn="error",Tn)}function Nn(Xn,jr,Wr){if(Xn=="word"){var Jr=jr.current();return Wr.context&&Wr.context.tagName!=Jr&&un.implicitlyClosed.hasOwnProperty(Sn(Wr.context.tagName))&&In(Wr),Wr.context&&Wr.context.tagName==Jr||un.matchClosing===!1?(gn="tag",Hn):(gn="tag error",Un)}else return un.allowMissingTagName&&Xn=="endTag"?(gn="tag bracket",Hn(Xn,jr,Wr)):(gn="error",Un)}function Hn(Xn,jr,Wr){return Xn!="endTag"?(gn="error",Hn):(In(Wr),Pn)}function Un(Xn,jr,Wr){return gn="error",Hn(Xn,jr,Wr)}function jn(Xn,jr,Wr){if(Xn=="word")return gn="attribute",Yn;if(Xn=="endTag"||Xn=="selfcloseTag"){var Jr=Wr.tagName,ci=Wr.tagStart;return Wr.tagName=Wr.tagStart=null,Xn=="selfcloseTag"||un.autoSelfClosers.hasOwnProperty(Sn(Jr))?On(Wr,Jr):(On(Wr,Jr),Wr.context=new Mn(Wr,Jr,ci==Wr.indented)),Pn}return gn="error",jn}function Yn(Xn,jr,Wr){return Xn=="equals"?Wn:(un.allowMissing||(gn="error"),jn(Xn,jr,Wr))}function Wn(Xn,jr,Wr){return Xn=="string"?Qn:Xn=="word"&&un.allowUnquoted?(gn="string",jn):(gn="error",jn(Xn,jr,Wr))}function Qn(Xn,jr,Wr){return Xn=="string"?Qn:jn(Xn,jr,Wr)}return{startState:function(Xn){var jr={tokenize:mn,state:Pn,indented:Xn||0,tagName:null,tagStart:null,context:null};return Xn!=null&&(jr.baseIndent=Xn),jr},token:function(Xn,jr){if(!jr.tagName&&Xn.sol()&&(jr.indented=Xn.indentation()),Xn.eatSpace())return null;pn=null;var Wr=jr.tokenize(Xn,jr);return(Wr||pn)&&Wr!="comment"&&(gn=null,jr.state=jr.state(pn||Wr,Xn,jr),gn&&(Wr=gn=="error"?Wr+" error":gn)),Wr},indent:function(Xn,jr,Wr){var Jr=Xn.context;if(Xn.tokenize.isInAttribute)return Xn.tagStart==Xn.indented?Xn.stringStartCol+1:Xn.indented+cn;if(Jr&&Jr.noIndent)return tn.Pass;if(Xn.tokenize!=_n&&Xn.tokenize!=mn)return Wr?Wr.match(/^(\s*)/)[0].length:0;if(Xn.tagName)return un.multilineTagIndentPastTag!==!1?Xn.tagStart+Xn.tagName.length+2:Xn.tagStart+cn*(un.multilineTagIndentFactor||1);if(un.alignCDATA&&/<!\[CDATA\[/.test(jr))return 0;var ci=jr&&/^<(\/)?([\w_:\.-]*)/.exec(jr);if(ci&&ci[1])for(;Jr;)if(Jr.tagName==ci[2]){Jr=Jr.prev;break}else if(un.implicitlyClosed.hasOwnProperty(Sn(Jr.tagName)))Jr=Jr.prev;else break;else if(ci)for(;Jr;){var ti=un.contextGrabbers[Sn(Jr.tagName)];if(ti&&ti.hasOwnProperty(Sn(ci[2])))Jr=Jr.prev;else break}for(;Jr&&Jr.prev&&!Jr.startOfLine;)Jr=Jr.prev;return Jr?Jr.indent+cn:Xn.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:un.htmlMode?"html":"xml",helperType:un.htmlMode?"html":"xml",skipAttribute:function(Xn){Xn.state==Wn&&(Xn.state=jn)},xmlCurrentTag:function(Xn){return Xn.tagName?{name:Xn.tagName,close:Xn.type=="closeTag"}:null},xmlCurrentContext:function(Xn){for(var jr=[],Wr=Xn.context;Wr;Wr=Wr.prev)jr.push(Wr.tagName);return jr.reverse()}}}),tn.defineMIME("text/xml","xml"),tn.defineMIME("application/xml","xml"),tn.mimeModes.hasOwnProperty("text/html")||tn.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var xmlExports=xml.exports,meta={exports:{}},hasRequiredMeta;function requireMeta(){return hasRequiredMeta||(hasRequiredMeta=1,function(Fe,en){(function(tn){tn(codemirrorExports)})(function(tn){tn.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var nn=0;nn<tn.modeInfo.length;nn++){var rn=tn.modeInfo[nn];rn.mimes&&(rn.mime=rn.mimes[0])}tn.findModeByMIME=function(an){an=an.toLowerCase();for(var ln=0;ln<tn.modeInfo.length;ln++){var cn=tn.modeInfo[ln];if(cn.mime==an)return cn;if(cn.mimes){for(var un=0;un<cn.mimes.length;un++)if(cn.mimes[un]==an)return cn}}if(/\+xml$/.test(an))return tn.findModeByMIME("application/xml");if(/\+json$/.test(an))return tn.findModeByMIME("application/json")},tn.findModeByExtension=function(an){an=an.toLowerCase();for(var ln=0;ln<tn.modeInfo.length;ln++){var cn=tn.modeInfo[ln];if(cn.ext){for(var un=0;un<cn.ext.length;un++)if(cn.ext[un]==an)return cn}}},tn.findModeByFileName=function(an){for(var ln=0;ln<tn.modeInfo.length;ln++){var cn=tn.modeInfo[ln];if(cn.file&&cn.file.test(an))return cn}var un=an.lastIndexOf("."),fn=un>-1&&an.substring(un+1,an.length);if(fn)return tn.findModeByExtension(fn)},tn.findModeByName=function(an){an=an.toLowerCase();for(var ln=0;ln<tn.modeInfo.length;ln++){var cn=tn.modeInfo[ln];if(cn.name.toLowerCase()==an)return cn;if(cn.alias){for(var un=0;un<cn.alias.length;un++)if(cn.alias[un].toLowerCase()==an)return cn}}}})}()),meta.exports}(function(Fe,en){(function(tn){tn(codemirrorExports,xmlExports,requireMeta())})(function(tn){tn.defineMode("markdown",function(nn,rn){var an=tn.getMode(nn,"text/html"),ln=an.name=="null";function cn(Br){if(tn.findModeByName){var Jn=tn.findModeByName(Br);Jn&&(Br=Jn.mime||Jn.mimes[0])}var oi=tn.getMode(nn,Br);return oi.name=="null"?null:oi}rn.highlightFormatting===void 0&&(rn.highlightFormatting=!1),rn.maxBlockquoteDepth===void 0&&(rn.maxBlockquoteDepth=0),rn.taskLists===void 0&&(rn.taskLists=!1),rn.strikethrough===void 0&&(rn.strikethrough=!1),rn.emoji===void 0&&(rn.emoji=!1),rn.fencedCodeBlockHighlighting===void 0&&(rn.fencedCodeBlockHighlighting=!0),rn.fencedCodeBlockDefaultMode===void 0&&(rn.fencedCodeBlockDefaultMode="text/plain"),rn.xml===void 0&&(rn.xml=!0),rn.tokenTypeOverrides===void 0&&(rn.tokenTypeOverrides={});var un={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var fn in un)un.hasOwnProperty(fn)&&rn.tokenTypeOverrides[fn]&&(un[fn]=rn.tokenTypeOverrides[fn]);var hn=/^([*\-_])(?:\s*\1){2,}\s*$/,pn=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,gn=/^\[(x| )\](?=\s)/i,mn=rn.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,_n=/^ {0,3}(?:\={1,}|-{2,})\s*$/,kn=/^[^#!\[\]*_\\<>` "'(~:]+/,Cn=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,xn=/^\s*\[[^\]]+?\]:.*$/,Sn=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,Mn="    ";function In(Br,Jn,oi){return Jn.f=Jn.inline=oi,oi(Br,Jn)}function On(Br,Jn,oi){return Jn.f=Jn.block=oi,oi(Br,Jn)}function Pn(Br){return!Br||!/\S/.test(Br.string)}function Tn(Br){if(Br.linkTitle=!1,Br.linkHref=!1,Br.linkText=!1,Br.em=!1,Br.strong=!1,Br.strikethrough=!1,Br.quote=0,Br.indentedCode=!1,Br.f==Hn){var Jn=ln;if(!Jn){var oi=tn.innerMode(an,Br.htmlState);Jn=oi.mode.name=="xml"&&oi.state.tagStart===null&&!oi.state.context&&oi.state.tokenize.isInText}Jn&&(Br.f=Wn,Br.block=Nn,Br.htmlState=null)}return Br.trailingSpace=0,Br.trailingSpaceNewLine=!1,Br.prevLine=Br.thisLine,Br.thisLine={stream:null},null}function Nn(Br,Jn){var oi=Br.column()===Jn.indentation,pi=Pn(Jn.prevLine.stream),ri=Jn.indentedCode,fi=Jn.prevLine.hr,yi=Jn.list!==!1,Si=(Jn.listStack[Jn.listStack.length-1]||0)+3;Jn.indentedCode=!1;var Pi=Jn.indentation;if(Jn.indentationDiff===null&&(Jn.indentationDiff=Jn.indentation,yi)){for(Jn.list=null;Pi<Jn.listStack[Jn.listStack.length-1];)Jn.listStack.pop(),Jn.listStack.length?Jn.indentation=Jn.listStack[Jn.listStack.length-1]:Jn.list=!1;Jn.list!==!1&&(Jn.indentationDiff=Pi-Jn.listStack[Jn.listStack.length-1])}var Ui=!pi&&!fi&&!Jn.prevLine.header&&(!yi||!ri)&&!Jn.prevLine.fencedCodeEnd,ji=(Jn.list===!1||fi||pi)&&Jn.indentation<=Si&&Br.match(hn),go=null;if(Jn.indentationDiff>=4&&(ri||Jn.prevLine.fencedCodeEnd||Jn.prevLine.header||pi))return Br.skipToEnd(),Jn.indentedCode=!0,un.code;if(Br.eatSpace())return null;if(oi&&Jn.indentation<=Si&&(go=Br.match(mn))&&go[1].length<=6)return Jn.quote=0,Jn.header=go[1].length,Jn.thisLine.header=!0,rn.highlightFormatting&&(Jn.formatting="header"),Jn.f=Jn.inline,jn(Jn);if(Jn.indentation<=Si&&Br.eat(">"))return Jn.quote=oi?1:Jn.quote+1,rn.highlightFormatting&&(Jn.formatting="quote"),Br.eatSpace(),jn(Jn);if(!ji&&!Jn.setext&&oi&&Jn.indentation<=Si&&(go=Br.match(pn))){var po=go[1]?"ol":"ul";return Jn.indentation=Pi+Br.current().length,Jn.list=!0,Jn.quote=0,Jn.listStack.push(Jn.indentation),Jn.em=!1,Jn.strong=!1,Jn.code=!1,Jn.strikethrough=!1,rn.taskLists&&Br.match(gn,!1)&&(Jn.taskList=!0),Jn.f=Jn.inline,rn.highlightFormatting&&(Jn.formatting=["list","list-"+po]),jn(Jn)}else{if(oi&&Jn.indentation<=Si&&(go=Br.match(Cn,!0)))return Jn.quote=0,Jn.fencedEndRE=new RegExp(go[1]+"+ *$"),Jn.localMode=rn.fencedCodeBlockHighlighting&&cn(go[2]||rn.fencedCodeBlockDefaultMode),Jn.localMode&&(Jn.localState=tn.startState(Jn.localMode)),Jn.f=Jn.block=Un,rn.highlightFormatting&&(Jn.formatting="code-block"),Jn.code=-1,jn(Jn);if(Jn.setext||(!Ui||!yi)&&!Jn.quote&&Jn.list===!1&&!Jn.code&&!ji&&!xn.test(Br.string)&&(go=Br.lookAhead(1))&&(go=go.match(_n)))return Jn.setext?(Jn.header=Jn.setext,Jn.setext=0,Br.skipToEnd(),rn.highlightFormatting&&(Jn.formatting="header")):(Jn.header=go[0].charAt(0)=="="?1:2,Jn.setext=Jn.header),Jn.thisLine.header=!0,Jn.f=Jn.inline,jn(Jn);if(ji)return Br.skipToEnd(),Jn.hr=!0,Jn.thisLine.hr=!0,un.hr;if(Br.peek()==="[")return In(Br,Jn,Jr)}return In(Br,Jn,Jn.inline)}function Hn(Br,Jn){var oi=an.token(Br,Jn.htmlState);if(!ln){var pi=tn.innerMode(an,Jn.htmlState);(pi.mode.name=="xml"&&pi.state.tagStart===null&&!pi.state.context&&pi.state.tokenize.isInText||Jn.md_inside&&Br.current().indexOf(">")>-1)&&(Jn.f=Wn,Jn.block=Nn,Jn.htmlState=null)}return oi}function Un(Br,Jn){var oi=Jn.listStack[Jn.listStack.length-1]||0,pi=Jn.indentation<oi,ri=oi+3;if(Jn.fencedEndRE&&Jn.indentation<=ri&&(pi||Br.match(Jn.fencedEndRE))){rn.highlightFormatting&&(Jn.formatting="code-block");var fi;return pi||(fi=jn(Jn)),Jn.localMode=Jn.localState=null,Jn.block=Nn,Jn.f=Wn,Jn.fencedEndRE=null,Jn.code=0,Jn.thisLine.fencedCodeEnd=!0,pi?On(Br,Jn,Jn.block):fi}else return Jn.localMode?Jn.localMode.token(Br,Jn.localState):(Br.skipToEnd(),un.code)}function jn(Br){var Jn=[];if(Br.formatting){Jn.push(un.formatting),typeof Br.formatting=="string"&&(Br.formatting=[Br.formatting]);for(var oi=0;oi<Br.formatting.length;oi++)Jn.push(un.formatting+"-"+Br.formatting[oi]),Br.formatting[oi]==="header"&&Jn.push(un.formatting+"-"+Br.formatting[oi]+"-"+Br.header),Br.formatting[oi]==="quote"&&(!rn.maxBlockquoteDepth||rn.maxBlockquoteDepth>=Br.quote?Jn.push(un.formatting+"-"+Br.formatting[oi]+"-"+Br.quote):Jn.push("error"))}if(Br.taskOpen)return Jn.push("meta"),Jn.length?Jn.join(" "):null;if(Br.taskClosed)return Jn.push("property"),Jn.length?Jn.join(" "):null;if(Br.linkHref?Jn.push(un.linkHref,"url"):(Br.strong&&Jn.push(un.strong),Br.em&&Jn.push(un.em),Br.strikethrough&&Jn.push(un.strikethrough),Br.emoji&&Jn.push(un.emoji),Br.linkText&&Jn.push(un.linkText),Br.code&&Jn.push(un.code),Br.image&&Jn.push(un.image),Br.imageAltText&&Jn.push(un.imageAltText,"link"),Br.imageMarker&&Jn.push(un.imageMarker)),Br.header&&Jn.push(un.header,un.header+"-"+Br.header),Br.quote&&(Jn.push(un.quote),!rn.maxBlockquoteDepth||rn.maxBlockquoteDepth>=Br.quote?Jn.push(un.quote+"-"+Br.quote):Jn.push(un.quote+"-"+rn.maxBlockquoteDepth)),Br.list!==!1){var pi=(Br.listStack.length-1)%3;pi?pi===1?Jn.push(un.list2):Jn.push(un.list3):Jn.push(un.list1)}return Br.trailingSpaceNewLine?Jn.push("trailing-space-new-line"):Br.trailingSpace&&Jn.push("trailing-space-"+(Br.trailingSpace%2?"a":"b")),Jn.length?Jn.join(" "):null}function Yn(Br,Jn){if(Br.match(kn,!0))return jn(Jn)}function Wn(Br,Jn){var oi=Jn.text(Br,Jn);if(typeof oi<"u")return oi;if(Jn.list)return Jn.list=null,jn(Jn);if(Jn.taskList){var pi=Br.match(gn,!0)[1]===" ";return pi?Jn.taskOpen=!0:Jn.taskClosed=!0,rn.highlightFormatting&&(Jn.formatting="task"),Jn.taskList=!1,jn(Jn)}if(Jn.taskOpen=!1,Jn.taskClosed=!1,Jn.header&&Br.match(/^#+$/,!0))return rn.highlightFormatting&&(Jn.formatting="header"),jn(Jn);var ri=Br.next();if(Jn.linkTitle){Jn.linkTitle=!1;var fi=ri;ri==="("&&(fi=")"),fi=(fi+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var yi="^\\s*(?:[^"+fi+"\\\\]+|\\\\\\\\|\\\\.)"+fi;if(Br.match(new RegExp(yi),!0))return un.linkHref}if(ri==="`"){var Si=Jn.formatting;rn.highlightFormatting&&(Jn.formatting="code"),Br.eatWhile("`");var Pi=Br.current().length;if(Jn.code==0&&(!Jn.quote||Pi==1))return Jn.code=Pi,jn(Jn);if(Pi==Jn.code){var Ui=jn(Jn);return Jn.code=0,Ui}else return Jn.formatting=Si,jn(Jn)}else if(Jn.code)return jn(Jn);if(ri==="\\"&&(Br.next(),rn.highlightFormatting)){var ji=jn(Jn),go=un.formatting+"-escape";return ji?ji+" "+go:go}if(ri==="!"&&Br.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Jn.imageMarker=!0,Jn.image=!0,rn.highlightFormatting&&(Jn.formatting="image"),jn(Jn);if(ri==="["&&Jn.imageMarker&&Br.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Jn.imageMarker=!1,Jn.imageAltText=!0,rn.highlightFormatting&&(Jn.formatting="image"),jn(Jn);if(ri==="]"&&Jn.imageAltText){rn.highlightFormatting&&(Jn.formatting="image");var ji=jn(Jn);return Jn.imageAltText=!1,Jn.image=!1,Jn.inline=Jn.f=Xn,ji}if(ri==="["&&!Jn.image)return Jn.linkText&&Br.match(/^.*?\]/)||(Jn.linkText=!0,rn.highlightFormatting&&(Jn.formatting="link")),jn(Jn);if(ri==="]"&&Jn.linkText){rn.highlightFormatting&&(Jn.formatting="link");var ji=jn(Jn);return Jn.linkText=!1,Jn.inline=Jn.f=Br.match(/\(.*?\)| ?\[.*?\]/,!1)?Xn:Wn,ji}if(ri==="<"&&Br.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Jn.f=Jn.inline=Qn,rn.highlightFormatting&&(Jn.formatting="link");var ji=jn(Jn);return ji?ji+=" ":ji="",ji+un.linkInline}if(ri==="<"&&Br.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Jn.f=Jn.inline=Qn,rn.highlightFormatting&&(Jn.formatting="link");var ji=jn(Jn);return ji?ji+=" ":ji="",ji+un.linkEmail}if(rn.xml&&ri==="<"&&Br.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var po=Br.string.indexOf(">",Br.pos);if(po!=-1){var Yi=Br.string.substring(Br.start,po);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Yi)&&(Jn.md_inside=!0)}return Br.backUp(1),Jn.htmlState=tn.startState(an),On(Br,Jn,Hn)}if(rn.xml&&ri==="<"&&Br.match(/^\/\w*?>/))return Jn.md_inside=!1,"tag";if(ri==="*"||ri==="_"){for(var Fo=1,Po=Br.pos==1?" ":Br.string.charAt(Br.pos-2);Fo<3&&Br.eat(ri);)Fo++;var Oi=Br.peek()||" ",Wi=!/\s/.test(Oi)&&(!Sn.test(Oi)||/\s/.test(Po)||Sn.test(Po)),vo=!/\s/.test(Po)&&(!Sn.test(Po)||/\s/.test(Oi)||Sn.test(Oi)),mo=null,ro=null;if(Fo%2&&(!Jn.em&&Wi&&(ri==="*"||!vo||Sn.test(Po))?mo=!0:Jn.em==ri&&vo&&(ri==="*"||!Wi||Sn.test(Oi))&&(mo=!1)),Fo>1&&(!Jn.strong&&Wi&&(ri==="*"||!vo||Sn.test(Po))?ro=!0:Jn.strong==ri&&vo&&(ri==="*"||!Wi||Sn.test(Oi))&&(ro=!1)),ro!=null||mo!=null){rn.highlightFormatting&&(Jn.formatting=mo==null?"strong":ro==null?"em":"strong em"),mo===!0&&(Jn.em=ri),ro===!0&&(Jn.strong=ri);var Ui=jn(Jn);return mo===!1&&(Jn.em=!1),ro===!1&&(Jn.strong=!1),Ui}}else if(ri===" "&&(Br.eat("*")||Br.eat("_"))){if(Br.peek()===" ")return jn(Jn);Br.backUp(1)}if(rn.strikethrough){if(ri==="~"&&Br.eatWhile(ri)){if(Jn.strikethrough){rn.highlightFormatting&&(Jn.formatting="strikethrough");var Ui=jn(Jn);return Jn.strikethrough=!1,Ui}else if(Br.match(/^[^\s]/,!1))return Jn.strikethrough=!0,rn.highlightFormatting&&(Jn.formatting="strikethrough"),jn(Jn)}else if(ri===" "&&Br.match("~~",!0)){if(Br.peek()===" ")return jn(Jn);Br.backUp(2)}}if(rn.emoji&&ri===":"&&Br.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Jn.emoji=!0,rn.highlightFormatting&&(Jn.formatting="emoji");var Oo=jn(Jn);return Jn.emoji=!1,Oo}return ri===" "&&(Br.match(/^ +$/,!1)?Jn.trailingSpace++:Jn.trailingSpace&&(Jn.trailingSpaceNewLine=!0)),jn(Jn)}function Qn(Br,Jn){var oi=Br.next();if(oi===">"){Jn.f=Jn.inline=Wn,rn.highlightFormatting&&(Jn.formatting="link");var pi=jn(Jn);return pi?pi+=" ":pi="",pi+un.linkInline}return Br.match(/^[^>]+/,!0),un.linkInline}function Xn(Br,Jn){if(Br.eatSpace())return null;var oi=Br.next();return oi==="("||oi==="["?(Jn.f=Jn.inline=Wr(oi==="("?")":"]"),rn.highlightFormatting&&(Jn.formatting="link-string"),Jn.linkHref=!0,jn(Jn)):"error"}var jr={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Wr(Br){return function(Jn,oi){var pi=Jn.next();if(pi===Br){oi.f=oi.inline=Wn,rn.highlightFormatting&&(oi.formatting="link-string");var ri=jn(oi);return oi.linkHref=!1,ri}return Jn.match(jr[Br]),oi.linkHref=!0,jn(oi)}}function Jr(Br,Jn){return Br.match(/^([^\]\\]|\\.)*\]:/,!1)?(Jn.f=ci,Br.next(),rn.highlightFormatting&&(Jn.formatting="link"),Jn.linkText=!0,jn(Jn)):In(Br,Jn,Wn)}function ci(Br,Jn){if(Br.match("]:",!0)){Jn.f=Jn.inline=ti,rn.highlightFormatting&&(Jn.formatting="link");var oi=jn(Jn);return Jn.linkText=!1,oi}return Br.match(/^([^\]\\]|\\.)+/,!0),un.linkText}function ti(Br,Jn){return Br.eatSpace()?null:(Br.match(/^[^\s]+/,!0),Br.peek()===void 0?Jn.linkTitle=!0:Br.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Jn.f=Jn.inline=Wn,un.linkHref+" url")}var Zr={startState:function(){return{f:Nn,prevLine:{stream:null},thisLine:{stream:null},block:Nn,htmlState:null,indentation:0,inline:Wn,text:Yn,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(Br){return{f:Br.f,prevLine:Br.prevLine,thisLine:Br.thisLine,block:Br.block,htmlState:Br.htmlState&&tn.copyState(an,Br.htmlState),indentation:Br.indentation,localMode:Br.localMode,localState:Br.localMode?tn.copyState(Br.localMode,Br.localState):null,inline:Br.inline,text:Br.text,formatting:!1,linkText:Br.linkText,linkTitle:Br.linkTitle,linkHref:Br.linkHref,code:Br.code,em:Br.em,strong:Br.strong,strikethrough:Br.strikethrough,emoji:Br.emoji,header:Br.header,setext:Br.setext,hr:Br.hr,taskList:Br.taskList,list:Br.list,listStack:Br.listStack.slice(0),quote:Br.quote,indentedCode:Br.indentedCode,trailingSpace:Br.trailingSpace,trailingSpaceNewLine:Br.trailingSpaceNewLine,md_inside:Br.md_inside,fencedEndRE:Br.fencedEndRE}},token:function(Br,Jn){if(Jn.formatting=!1,Br!=Jn.thisLine.stream){if(Jn.header=0,Jn.hr=!1,Br.match(/^\s*$/,!0))return Tn(Jn),null;if(Jn.prevLine=Jn.thisLine,Jn.thisLine={stream:Br},Jn.taskList=!1,Jn.trailingSpace=0,Jn.trailingSpaceNewLine=!1,!Jn.localState&&(Jn.f=Jn.block,Jn.f!=Hn)){var oi=Br.match(/^\s*/,!0)[0].replace(/\t/g,Mn).length;if(Jn.indentation=oi,Jn.indentationDiff=null,oi>0)return null}}return Jn.f(Br,Jn)},innerMode:function(Br){return Br.block==Hn?{state:Br.htmlState,mode:an}:Br.localState?{state:Br.localState,mode:Br.localMode}:{state:Br,mode:Zr}},indent:function(Br,Jn,oi){return Br.block==Hn&&an.indent?an.indent(Br.htmlState,Jn,oi):Br.localState&&Br.localMode.indent?Br.localMode.indent(Br.localState,Jn,oi):tn.Pass},blankLine:Tn,getType:jn,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Zr},"xml"),tn.defineMIME("text/markdown","markdown"),tn.defineMIME("text/x-markdown","markdown")})})();var markdownExports=markdown.exports,overlay={exports:{}};(function(Fe,en){(function(tn){tn(codemirrorExports)})(function(tn){tn.overlayMode=function(nn,rn,an){return{startState:function(){return{base:tn.startState(nn),overlay:tn.startState(rn),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(ln){return{base:tn.copyState(nn,ln.base),overlay:tn.copyState(rn,ln.overlay),basePos:ln.basePos,baseCur:null,overlayPos:ln.overlayPos,overlayCur:null}},token:function(ln,cn){return(ln!=cn.streamSeen||Math.min(cn.basePos,cn.overlayPos)<ln.start)&&(cn.streamSeen=ln,cn.basePos=cn.overlayPos=ln.start),ln.start==cn.basePos&&(cn.baseCur=nn.token(ln,cn.base),cn.basePos=ln.pos),ln.start==cn.overlayPos&&(ln.pos=ln.start,cn.overlayCur=rn.token(ln,cn.overlay),cn.overlayPos=ln.pos),ln.pos=Math.min(cn.basePos,cn.overlayPos),cn.overlayCur==null?cn.baseCur:cn.baseCur!=null&&cn.overlay.combineTokens||an&&cn.overlay.combineTokens==null?cn.baseCur+" "+cn.overlayCur:cn.overlayCur},indent:nn.indent&&function(ln,cn,un){return nn.indent(ln.base,cn,un)},electricChars:nn.electricChars,innerMode:function(ln){return{state:ln.base,mode:nn}},blankLine:function(ln){var cn,un;return nn.blankLine&&(cn=nn.blankLine(ln.base)),rn.blankLine&&(un=rn.blankLine(ln.overlay)),un==null?cn:an&&cn!=null?cn+" "+un:un}}}})})();var overlayExports=overlay.exports;(function(Fe,en){(function(tn){tn(codemirrorExports)})(function(tn){tn.defineOption("placeholder","",function(fn,hn,pn){var gn=pn&&pn!=tn.Init;if(hn&&!gn)fn.on("blur",ln),fn.on("change",cn),fn.on("swapDoc",cn),tn.on(fn.getInputField(),"compositionupdate",fn.state.placeholderCompose=function(){an(fn)}),cn(fn);else if(!hn&&gn){fn.off("blur",ln),fn.off("change",cn),fn.off("swapDoc",cn),tn.off(fn.getInputField(),"compositionupdate",fn.state.placeholderCompose),nn(fn);var mn=fn.getWrapperElement();mn.className=mn.className.replace(" CodeMirror-empty","")}hn&&!fn.hasFocus()&&ln(fn)});function nn(fn){fn.state.placeholder&&(fn.state.placeholder.parentNode.removeChild(fn.state.placeholder),fn.state.placeholder=null)}function rn(fn){nn(fn);var hn=fn.state.placeholder=document.createElement("pre");hn.style.cssText="height: 0; overflow: visible",hn.style.direction=fn.getOption("direction"),hn.className="CodeMirror-placeholder CodeMirror-line-like";var pn=fn.getOption("placeholder");typeof pn=="string"&&(pn=document.createTextNode(pn)),hn.appendChild(pn),fn.display.lineSpace.insertBefore(hn,fn.display.lineSpace.firstChild)}function an(fn){setTimeout(function(){var hn=!1;if(fn.lineCount()==1){var pn=fn.getInputField();hn=pn.nodeName=="TEXTAREA"?!fn.getLine(0).length:!/[^\u200b]/.test(pn.querySelector(".CodeMirror-line").textContent)}hn?rn(fn):nn(fn)},20)}function ln(fn){un(fn)&&rn(fn)}function cn(fn){var hn=fn.getWrapperElement(),pn=un(fn);hn.className=hn.className.replace(" CodeMirror-empty","")+(pn?" CodeMirror-empty":""),pn?rn(fn):nn(fn)}function un(fn){return fn.lineCount()===1&&fn.getLine(0)===""}})})();(function(Fe,en){(function(tn){tn(codemirrorExports)})(function(tn){tn.defineOption("autoRefresh",!1,function(an,ln){an.state.autoRefresh&&(rn(an,an.state.autoRefresh),an.state.autoRefresh=null),ln&&an.display.wrapper.offsetHeight==0&&nn(an,an.state.autoRefresh={delay:ln.delay||250})});function nn(an,ln){function cn(){an.display.wrapper.offsetHeight?(rn(an,ln),an.display.lastWrapHeight!=an.display.wrapper.clientHeight&&an.refresh()):ln.timeout=setTimeout(cn,ln.delay)}ln.timeout=setTimeout(cn,ln.delay),ln.hurry=function(){clearTimeout(ln.timeout),ln.timeout=setTimeout(cn,50)},tn.on(window,"mouseup",ln.hurry),tn.on(window,"keyup",ln.hurry)}function rn(an,ln){clearTimeout(ln.timeout),tn.off(window,"mouseup",ln.hurry),tn.off(window,"keyup",ln.hurry)}})})();(function(Fe,en){(function(tn){tn(codemirrorExports)})(function(tn){tn.defineOption("styleSelectedText",!1,function(gn,mn,_n){var kn=_n&&_n!=tn.Init;mn&&!kn?(gn.state.markedSelection=[],gn.state.markedSelectionStyle=typeof mn=="string"?mn:"CodeMirror-selectedtext",hn(gn),gn.on("cursorActivity",nn),gn.on("change",rn)):!mn&&kn&&(gn.off("cursorActivity",nn),gn.off("change",rn),fn(gn),gn.state.markedSelection=gn.state.markedSelectionStyle=null)});function nn(gn){gn.state.markedSelection&&gn.operation(function(){pn(gn)})}function rn(gn){gn.state.markedSelection&&gn.state.markedSelection.length&&gn.operation(function(){fn(gn)})}var an=8,ln=tn.Pos,cn=tn.cmpPos;function un(gn,mn,_n,kn){if(cn(mn,_n)!=0)for(var Cn=gn.state.markedSelection,xn=gn.state.markedSelectionStyle,Sn=mn.line;;){var Mn=Sn==mn.line?mn:ln(Sn,0),In=Sn+an,On=In>=_n.line,Pn=On?_n:ln(In,0),Tn=gn.markText(Mn,Pn,{className:xn});if(kn==null?Cn.push(Tn):Cn.splice(kn++,0,Tn),On)break;Sn=In}}function fn(gn){for(var mn=gn.state.markedSelection,_n=0;_n<mn.length;++_n)mn[_n].clear();mn.length=0}function hn(gn){fn(gn);for(var mn=gn.listSelections(),_n=0;_n<mn.length;_n++)un(gn,mn[_n].from(),mn[_n].to())}function pn(gn){if(!gn.somethingSelected())return fn(gn);if(gn.listSelections().length>1)return hn(gn);var mn=gn.getCursor("start"),_n=gn.getCursor("end"),kn=gn.state.markedSelection;if(!kn.length)return un(gn,mn,_n);var Cn=kn[0].find(),xn=kn[kn.length-1].find();if(!Cn||!xn||_n.line-mn.line<=an||cn(mn,xn.to)>=0||cn(_n,Cn.from)<=0)return hn(gn);for(;cn(mn,Cn.from)>0;)kn.shift().clear(),Cn=kn[0].find();for(cn(mn,Cn.from)<0&&(Cn.to.line-mn.line<an?(kn.shift().clear(),un(gn,mn,Cn.to,0)):un(gn,mn,Cn.from,0));cn(_n,xn.to)<0;)kn.pop().clear(),xn=kn[kn.length-1].find();cn(_n,xn.to)>0&&(_n.line-xn.from.line<an?(kn.pop().clear(),un(gn,xn.from,_n)):un(gn,xn.to,_n))}})})();(function(Fe,en){(function(tn){tn(codemirrorExports)})(function(tn){var nn=tn.Pos;function rn(Sn){var Mn=Sn.flags;return Mn??(Sn.ignoreCase?"i":"")+(Sn.global?"g":"")+(Sn.multiline?"m":"")}function an(Sn,Mn){for(var In=rn(Sn),On=In,Pn=0;Pn<Mn.length;Pn++)On.indexOf(Mn.charAt(Pn))==-1&&(On+=Mn.charAt(Pn));return In==On?Sn:new RegExp(Sn.source,On)}function ln(Sn){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(Sn.source)}function cn(Sn,Mn,In){Mn=an(Mn,"g");for(var On=In.line,Pn=In.ch,Tn=Sn.lastLine();On<=Tn;On++,Pn=0){Mn.lastIndex=Pn;var Nn=Sn.getLine(On),Hn=Mn.exec(Nn);if(Hn)return{from:nn(On,Hn.index),to:nn(On,Hn.index+Hn[0].length),match:Hn}}}function un(Sn,Mn,In){if(!ln(Mn))return cn(Sn,Mn,In);Mn=an(Mn,"gm");for(var On,Pn=1,Tn=In.line,Nn=Sn.lastLine();Tn<=Nn;){for(var Hn=0;Hn<Pn&&!(Tn>Nn);Hn++){var Un=Sn.getLine(Tn++);On=On==null?Un:On+`
`+Un}Pn=Pn*2,Mn.lastIndex=In.ch;var jn=Mn.exec(On);if(jn){var Yn=On.slice(0,jn.index).split(`
`),Wn=jn[0].split(`
`),Qn=In.line+Yn.length-1,Xn=Yn[Yn.length-1].length;return{from:nn(Qn,Xn),to:nn(Qn+Wn.length-1,Wn.length==1?Xn+Wn[0].length:Wn[Wn.length-1].length),match:jn}}}}function fn(Sn,Mn,In){for(var On,Pn=0;Pn<=Sn.length;){Mn.lastIndex=Pn;var Tn=Mn.exec(Sn);if(!Tn)break;var Nn=Tn.index+Tn[0].length;if(Nn>Sn.length-In)break;(!On||Nn>On.index+On[0].length)&&(On=Tn),Pn=Tn.index+1}return On}function hn(Sn,Mn,In){Mn=an(Mn,"g");for(var On=In.line,Pn=In.ch,Tn=Sn.firstLine();On>=Tn;On--,Pn=-1){var Nn=Sn.getLine(On),Hn=fn(Nn,Mn,Pn<0?0:Nn.length-Pn);if(Hn)return{from:nn(On,Hn.index),to:nn(On,Hn.index+Hn[0].length),match:Hn}}}function pn(Sn,Mn,In){if(!ln(Mn))return hn(Sn,Mn,In);Mn=an(Mn,"gm");for(var On,Pn=1,Tn=Sn.getLine(In.line).length-In.ch,Nn=In.line,Hn=Sn.firstLine();Nn>=Hn;){for(var Un=0;Un<Pn&&Nn>=Hn;Un++){var jn=Sn.getLine(Nn--);On=On==null?jn:jn+`
`+On}Pn*=2;var Yn=fn(On,Mn,Tn);if(Yn){var Wn=On.slice(0,Yn.index).split(`
`),Qn=Yn[0].split(`
`),Xn=Nn+Wn.length,jr=Wn[Wn.length-1].length;return{from:nn(Xn,jr),to:nn(Xn+Qn.length-1,Qn.length==1?jr+Qn[0].length:Qn[Qn.length-1].length),match:Yn}}}}var gn,mn;String.prototype.normalize?(gn=function(Sn){return Sn.normalize("NFD").toLowerCase()},mn=function(Sn){return Sn.normalize("NFD")}):(gn=function(Sn){return Sn.toLowerCase()},mn=function(Sn){return Sn});function _n(Sn,Mn,In,On){if(Sn.length==Mn.length)return In;for(var Pn=0,Tn=In+Math.max(0,Sn.length-Mn.length);;){if(Pn==Tn)return Pn;var Nn=Pn+Tn>>1,Hn=On(Sn.slice(0,Nn)).length;if(Hn==In)return Nn;Hn>In?Tn=Nn:Pn=Nn+1}}function kn(Sn,Mn,In,On){if(!Mn.length)return null;var Pn=On?gn:mn,Tn=Pn(Mn).split(/\r|\n\r?/);e:for(var Nn=In.line,Hn=In.ch,Un=Sn.lastLine()+1-Tn.length;Nn<=Un;Nn++,Hn=0){var jn=Sn.getLine(Nn).slice(Hn),Yn=Pn(jn);if(Tn.length==1){var Wn=Yn.indexOf(Tn[0]);if(Wn==-1)continue e;var In=_n(jn,Yn,Wn,Pn)+Hn;return{from:nn(Nn,_n(jn,Yn,Wn,Pn)+Hn),to:nn(Nn,_n(jn,Yn,Wn+Tn[0].length,Pn)+Hn)}}else{var Qn=Yn.length-Tn[0].length;if(Yn.slice(Qn)!=Tn[0])continue e;for(var Xn=1;Xn<Tn.length-1;Xn++)if(Pn(Sn.getLine(Nn+Xn))!=Tn[Xn])continue e;var jr=Sn.getLine(Nn+Tn.length-1),Wr=Pn(jr),Jr=Tn[Tn.length-1];if(Wr.slice(0,Jr.length)!=Jr)continue e;return{from:nn(Nn,_n(jn,Yn,Qn,Pn)+Hn),to:nn(Nn+Tn.length-1,_n(jr,Wr,Jr.length,Pn))}}}}function Cn(Sn,Mn,In,On){if(!Mn.length)return null;var Pn=On?gn:mn,Tn=Pn(Mn).split(/\r|\n\r?/);e:for(var Nn=In.line,Hn=In.ch,Un=Sn.firstLine()-1+Tn.length;Nn>=Un;Nn--,Hn=-1){var jn=Sn.getLine(Nn);Hn>-1&&(jn=jn.slice(0,Hn));var Yn=Pn(jn);if(Tn.length==1){var Wn=Yn.lastIndexOf(Tn[0]);if(Wn==-1)continue e;return{from:nn(Nn,_n(jn,Yn,Wn,Pn)),to:nn(Nn,_n(jn,Yn,Wn+Tn[0].length,Pn))}}else{var Qn=Tn[Tn.length-1];if(Yn.slice(0,Qn.length)!=Qn)continue e;for(var Xn=1,In=Nn-Tn.length+1;Xn<Tn.length-1;Xn++)if(Pn(Sn.getLine(In+Xn))!=Tn[Xn])continue e;var jr=Sn.getLine(Nn+1-Tn.length),Wr=Pn(jr);if(Wr.slice(Wr.length-Tn[0].length)!=Tn[0])continue e;return{from:nn(Nn+1-Tn.length,_n(jr,Wr,jr.length-Tn[0].length,Pn)),to:nn(Nn,_n(jn,Yn,Qn.length,Pn))}}}}function xn(Sn,Mn,In,On){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=Sn,In=In?Sn.clipPos(In):nn(0,0),this.pos={from:In,to:In};var Pn;typeof On=="object"?Pn=On.caseFold:(Pn=On,On=null),typeof Mn=="string"?(Pn==null&&(Pn=!1),this.matches=function(Tn,Nn){return(Tn?Cn:kn)(Sn,Mn,Nn,Pn)}):(Mn=an(Mn,"gm"),!On||On.multiline!==!1?this.matches=function(Tn,Nn){return(Tn?pn:un)(Sn,Mn,Nn)}:this.matches=function(Tn,Nn){return(Tn?hn:cn)(Sn,Mn,Nn)})}xn.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(Sn){var Mn=this.doc.clipPos(Sn?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(Mn=nn(Mn.line,Mn.ch),Sn?(Mn.ch--,Mn.ch<0&&(Mn.line--,Mn.ch=(this.doc.getLine(Mn.line)||"").length)):(Mn.ch++,Mn.ch>(this.doc.getLine(Mn.line)||"").length&&(Mn.ch=0,Mn.line++)),tn.cmpPos(Mn,this.doc.clipPos(Mn))!=0))return this.atOccurrence=!1;var In=this.matches(Sn,Mn);if(this.afterEmptyMatch=In&&tn.cmpPos(In.from,In.to)==0,In)return this.pos=In,this.atOccurrence=!0,this.pos.match||!0;var On=nn(Sn?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:On,to:On},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(Sn,Mn){if(this.atOccurrence){var In=tn.splitLines(Sn);this.doc.replaceRange(In,this.pos.from,this.pos.to,Mn),this.pos.to=nn(this.pos.from.line+In.length-1,In[In.length-1].length+(In.length==1?this.pos.from.ch:0))}}},tn.defineExtension("getSearchCursor",function(Sn,Mn,In){return new xn(this.doc,Sn,Mn,In)}),tn.defineDocExtension("getSearchCursor",function(Sn,Mn,In){return new xn(this,Sn,Mn,In)}),tn.defineExtension("selectMatches",function(Sn,Mn){for(var In=[],On=this.getSearchCursor(Sn,this.getCursor("from"),Mn);On.findNext()&&!(tn.cmpPos(On.to(),this.getCursor("to"))>0);)In.push({anchor:On.from(),head:On.to()});In.length&&this.setSelections(In,0)})})})();(function(Fe,en){(function(tn){tn(codemirrorExports,markdownExports,overlayExports)})(function(tn){var nn=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?Â«Â»ââââ]))/i;tn.defineMode("gfm",function(rn,an){var ln=0;function cn(pn){return pn.code=!1,null}var un={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(pn){return{code:pn.code,codeBlock:pn.codeBlock,ateSpace:pn.ateSpace}},token:function(pn,gn){if(gn.combineTokens=null,gn.codeBlock)return pn.match(/^```+/)?(gn.codeBlock=!1,null):(pn.skipToEnd(),null);if(pn.sol()&&(gn.code=!1),pn.sol()&&pn.match(/^```+/))return pn.skipToEnd(),gn.codeBlock=!0,null;if(pn.peek()==="`"){pn.next();var mn=pn.pos;pn.eatWhile("`");var _n=1+pn.pos-mn;return gn.code?_n===ln&&(gn.code=!1):(ln=_n,gn.code=!0),null}else if(gn.code)return pn.next(),null;if(pn.eatSpace())return gn.ateSpace=!0,null;if((pn.sol()||gn.ateSpace)&&(gn.ateSpace=!1,an.gitHubSpice!==!1)){if(pn.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return gn.combineTokens=!0,"link";if(pn.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return gn.combineTokens=!0,"link"}return pn.match(nn)&&pn.string.slice(pn.start-2,pn.start)!="]("&&(pn.start==0||/\W/.test(pn.string.charAt(pn.start-1)))?(gn.combineTokens=!0,"link"):(pn.next(),null)},blankLine:cn},fn={taskLists:!0,strikethrough:!0,emoji:!0};for(var hn in an)fn[hn]=an[hn];return fn.name="markdown",tn.overlayMode(tn.getMode(rn,fn),un)},"markdown"),tn.defineMIME("text/x-gfm","gfm")})})();function commonjsRequire(Fe){throw new Error('Could not dynamically require "'+Fe+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var typo={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(Fe){var en;(function(){en=function(tn,nn,rn,an){an=an||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=an.flags||{},this.memoized={},this.loaded=!1;var ln=this,cn,un,fn,hn,pn;tn&&(ln.dictionary=tn,nn&&rn?kn():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(an.dictionaryPath?cn=an.dictionaryPath:cn="typo/dictionaries",nn||gn(chrome.extension.getURL(cn+"/"+tn+"/"+tn+".aff"),mn),rn||gn(chrome.extension.getURL(cn+"/"+tn+"/"+tn+".dic"),_n)):(an.dictionaryPath?cn=an.dictionaryPath:typeof __dirname<"u"?cn=__dirname+"/dictionaries":cn="./dictionaries",nn||gn(cn+"/"+tn+"/"+tn+".aff",mn),rn||gn(cn+"/"+tn+"/"+tn+".dic",_n)));function gn(Cn,xn){var Sn=ln._readFile(Cn,null,an.asyncLoad);an.asyncLoad?Sn.then(function(Mn){xn(Mn)}):xn(Sn)}function mn(Cn){nn=Cn,rn&&kn()}function _n(Cn){rn=Cn,nn&&kn()}function kn(){for(ln.rules=ln._parseAFF(nn),ln.compoundRuleCodes={},un=0,hn=ln.compoundRules.length;un<hn;un++){var Cn=ln.compoundRules[un];for(fn=0,pn=Cn.length;fn<pn;fn++)ln.compoundRuleCodes[Cn[fn]]=[]}"ONLYINCOMPOUND"in ln.flags&&(ln.compoundRuleCodes[ln.flags.ONLYINCOMPOUND]=[]),ln.dictionaryTable=ln._parseDIC(rn);for(un in ln.compoundRuleCodes)ln.compoundRuleCodes[un].length===0&&delete ln.compoundRuleCodes[un];for(un=0,hn=ln.compoundRules.length;un<hn;un++){var xn=ln.compoundRules[un],Sn="";for(fn=0,pn=xn.length;fn<pn;fn++){var Mn=xn[fn];Mn in ln.compoundRuleCodes?Sn+="("+ln.compoundRuleCodes[Mn].join("|")+")":Sn+=Mn}ln.compoundRules[un]=new RegExp(Sn,"i")}ln.loaded=!0,an.asyncLoad&&an.loadedCallback&&an.loadedCallback(ln)}return this},en.prototype={load:function(tn){for(var nn in tn)tn.hasOwnProperty(nn)&&(this[nn]=tn[nn]);return this},_readFile:function(tn,nn,rn){if(nn=nn||"utf8",typeof XMLHttpRequest<"u"){var an,ln=new XMLHttpRequest;return ln.open("GET",tn,rn),rn&&(an=new Promise(function(un,fn){ln.onload=function(){ln.status===200?un(ln.responseText):fn(ln.statusText)},ln.onerror=function(){fn(ln.statusText)}})),ln.overrideMimeType&&ln.overrideMimeType("text/plain; charset="+nn),ln.send(null),rn?an:ln.responseText}else if(typeof commonjsRequire<"u"){var cn=require$$0;try{if(cn.existsSync(tn))return cn.readFileSync(tn,nn);console.log("Path "+tn+" does not exist.")}catch(un){return console.log(un),""}}},_parseAFF:function(tn){var nn={},rn,an,ln,cn,un,fn,hn,pn,gn=tn.split(/\r?\n/);for(un=0,hn=gn.length;un<hn;un++)if(rn=this._removeAffixComments(gn[un]),rn=rn.trim(),!!rn){var mn=rn.split(/\s+/),_n=mn[0];if(_n=="PFX"||_n=="SFX"){var kn=mn[1],Cn=mn[2];ln=parseInt(mn[3],10);var xn=[];for(fn=un+1,pn=un+1+ln;fn<pn;fn++){an=gn[fn],cn=an.split(/\s+/);var Sn=cn[2],Mn=cn[3].split("/"),In=Mn[0];In==="0"&&(In="");var On=this.parseRuleCodes(Mn[1]),Pn=cn[4],Tn={};Tn.add=In,On.length>0&&(Tn.continuationClasses=On),Pn!=="."&&(_n==="SFX"?Tn.match=new RegExp(Pn+"$"):Tn.match=new RegExp("^"+Pn)),Sn!="0"&&(_n==="SFX"?Tn.remove=new RegExp(Sn+"$"):Tn.remove=Sn),xn.push(Tn)}nn[kn]={type:_n,combineable:Cn=="Y",entries:xn},un+=ln}else if(_n==="COMPOUNDRULE"){for(ln=parseInt(mn[1],10),fn=un+1,pn=un+1+ln;fn<pn;fn++)rn=gn[fn],cn=rn.split(/\s+/),this.compoundRules.push(cn[1]);un+=ln}else _n==="REP"?(cn=rn.split(/\s+/),cn.length===3&&this.replacementTable.push([cn[1],cn[2]])):this.flags[_n]=mn[1]}return nn},_removeAffixComments:function(tn){return tn.match(/^\s*#/,"")?"":tn},_parseDIC:function(tn){tn=this._removeDicComments(tn);var nn=tn.split(/\r?\n/),rn={};function an(jn,Yn){rn.hasOwnProperty(jn)||(rn[jn]=null),Yn.length>0&&(rn[jn]===null&&(rn[jn]=[]),rn[jn].push(Yn))}for(var ln=1,cn=nn.length;ln<cn;ln++){var un=nn[ln];if(un){var fn=un.split("/",2),hn=fn[0];if(fn.length>1){var pn=this.parseRuleCodes(fn[1]);(!("NEEDAFFIX"in this.flags)||pn.indexOf(this.flags.NEEDAFFIX)==-1)&&an(hn,pn);for(var gn=0,mn=pn.length;gn<mn;gn++){var _n=pn[gn],kn=this.rules[_n];if(kn)for(var Cn=this._applyRule(hn,kn),xn=0,Sn=Cn.length;xn<Sn;xn++){var Mn=Cn[xn];if(an(Mn,[]),kn.combineable)for(var In=gn+1;In<mn;In++){var On=pn[In],Pn=this.rules[On];if(Pn&&Pn.combineable&&kn.type!=Pn.type)for(var Tn=this._applyRule(Mn,Pn),Nn=0,Hn=Tn.length;Nn<Hn;Nn++){var Un=Tn[Nn];an(Un,[])}}}_n in this.compoundRuleCodes&&this.compoundRuleCodes[_n].push(hn)}}else an(hn.trim(),[])}}return rn},_removeDicComments:function(tn){return tn=tn.replace(/^\t.*$/mg,""),tn},parseRuleCodes:function(tn){if(tn)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var nn=[],rn=0,an=tn.length;rn<an;rn+=2)nn.push(tn.substr(rn,2));return nn}else return this.flags.FLAG==="num"?tn.split(","):this.flags.FLAG==="UTF-8"?Array.from(tn):tn.split("");else return tn.split("");else return[]},_applyRule:function(tn,nn){for(var rn=nn.entries,an=[],ln=0,cn=rn.length;ln<cn;ln++){var un=rn[ln];if(!un.match||tn.match(un.match)){var fn=tn;if(un.remove&&(fn=fn.replace(un.remove,"")),nn.type==="SFX"?fn=fn+un.add:fn=un.add+fn,an.push(fn),"continuationClasses"in un)for(var hn=0,pn=un.continuationClasses.length;hn<pn;hn++){var gn=this.rules[un.continuationClasses[hn]];gn&&(an=an.concat(this._applyRule(fn,gn)))}}}return an},check:function(tn){if(!this.loaded)throw"Dictionary not loaded.";var nn=tn.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(nn))return!0;if(nn.toUpperCase()===nn){var rn=nn[0]+nn.substring(1).toLowerCase();if(this.hasFlag(rn,"KEEPCASE"))return!1;if(this.checkExact(rn)||this.checkExact(nn.toLowerCase()))return!0}var an=nn[0].toLowerCase()+nn.substring(1);if(an!==nn){if(this.hasFlag(an,"KEEPCASE"))return!1;if(this.checkExact(an))return!0}return!1},checkExact:function(tn){if(!this.loaded)throw"Dictionary not loaded.";var nn=this.dictionaryTable[tn],rn,an;if(typeof nn>"u"){if("COMPOUNDMIN"in this.flags&&tn.length>=this.flags.COMPOUNDMIN){for(rn=0,an=this.compoundRules.length;rn<an;rn++)if(tn.match(this.compoundRules[rn]))return!0}}else{if(nn===null)return!0;if(typeof nn=="object"){for(rn=0,an=nn.length;rn<an;rn++)if(!this.hasFlag(tn,"ONLYINCOMPOUND",nn[rn]))return!0}}return!1},hasFlag:function(tn,nn,rn){if(!this.loaded)throw"Dictionary not loaded.";return!!(nn in this.flags&&(typeof rn>"u"&&(rn=Array.prototype.concat.apply([],this.dictionaryTable[tn])),rn&&rn.indexOf(this.flags[nn])!==-1))},alphabet:"",suggest:function(tn,nn){if(!this.loaded)throw"Dictionary not loaded.";if(nn=nn||5,this.memoized.hasOwnProperty(tn)){var rn=this.memoized[tn].limit;if(nn<=rn||this.memoized[tn].suggestions.length<rn)return this.memoized[tn].suggestions.slice(0,nn)}if(this.check(tn))return[];for(var an=0,ln=this.replacementTable.length;an<ln;an++){var cn=this.replacementTable[an];if(tn.indexOf(cn[0])!==-1){var un=tn.replace(cn[0],cn[1]);if(this.check(un))return[un]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var fn=this.alphabet.split("");fn.sort();for(var hn={},an=0;an<fn.length;an++)hn[fn[an]]=!0;this.alphabet="";for(var an in hn)this.alphabet+=an}var pn=this;function gn(_n,kn){var Cn={},xn,Sn,Mn,In,On=pn.alphabet.length;if(typeof _n=="string"){var Pn=_n;_n={},_n[Pn]=!0}for(var Pn in _n)for(xn=0,Mn=Pn.length+1;xn<Mn;xn++){var Tn=[Pn.substring(0,xn),Pn.substring(xn)];if(Tn[1]&&(In=Tn[0]+Tn[1].substring(1),(!kn||pn.check(In))&&(In in Cn?Cn[In]+=1:Cn[In]=1)),Tn[1].length>1&&Tn[1][1]!==Tn[1][0]&&(In=Tn[0]+Tn[1][1]+Tn[1][0]+Tn[1].substring(2),(!kn||pn.check(In))&&(In in Cn?Cn[In]+=1:Cn[In]=1)),Tn[1]){var Nn=Tn[1].substring(0,1).toUpperCase()===Tn[1].substring(0,1)?"uppercase":"lowercase";for(Sn=0;Sn<On;Sn++){var Hn=pn.alphabet[Sn];Nn==="uppercase"&&(Hn=Hn.toUpperCase()),Hn!=Tn[1].substring(0,1)&&(In=Tn[0]+Hn+Tn[1].substring(1),(!kn||pn.check(In))&&(In in Cn?Cn[In]+=1:Cn[In]=1))}}if(Tn[1])for(Sn=0;Sn<On;Sn++){var Nn=Tn[0].substring(-1).toUpperCase()===Tn[0].substring(-1)&&Tn[1].substring(0,1).toUpperCase()===Tn[1].substring(0,1)?"uppercase":"lowercase",Hn=pn.alphabet[Sn];Nn==="uppercase"&&(Hn=Hn.toUpperCase()),In=Tn[0]+Hn+Tn[1],(!kn||pn.check(In))&&(In in Cn?Cn[In]+=1:Cn[In]=1)}}return Cn}function mn(_n){var kn=gn(_n),Cn=gn(kn,!0),xn=Cn;for(var Sn in kn)pn.check(Sn)&&(Sn in xn?xn[Sn]+=kn[Sn]:xn[Sn]=kn[Sn]);var Mn,In=[];for(Mn in xn)xn.hasOwnProperty(Mn)&&In.push([Mn,xn[Mn]]);function On(Hn,Un){var jn=Hn[1],Yn=Un[1];return jn<Yn?-1:jn>Yn?1:Un[0].localeCompare(Hn[0])}In.sort(On).reverse();var Pn=[],Tn="lowercase";_n.toUpperCase()===_n?Tn="uppercase":_n.substr(0,1).toUpperCase()+_n.substr(1).toLowerCase()===_n&&(Tn="capitalized");var Nn=nn;for(Mn=0;Mn<Math.min(Nn,In.length);Mn++)Tn==="uppercase"?In[Mn][0]=In[Mn][0].toUpperCase():Tn==="capitalized"&&(In[Mn][0]=In[Mn][0].substr(0,1).toUpperCase()+In[Mn][0].substr(1)),!pn.hasFlag(In[Mn][0],"NOSUGGEST")&&Pn.indexOf(In[Mn][0])==-1?Pn.push(In[Mn][0]):Nn++;return Pn}return this.memoized[tn]={suggestions:mn(tn),limit:nn},this.memoized[tn].suggestions}}})(),Fe.exports=en})(typo);var typoExports=typo.exports,Typo=typoExports;function CodeMirrorSpellChecker$1(Fe){if(Fe=Fe||{},typeof Fe.codeMirrorInstance!="function"||typeof Fe.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),Fe.codeMirrorInstance.defineMode("spell-checker",function(en){if(!CodeMirrorSpellChecker$1.aff_loading){CodeMirrorSpellChecker$1.aff_loading=!0;var tn=new XMLHttpRequest;tn.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),tn.onload=function(){tn.readyState===4&&tn.status===200&&(CodeMirrorSpellChecker$1.aff_data=tn.responseText,CodeMirrorSpellChecker$1.num_loaded++,CodeMirrorSpellChecker$1.num_loaded==2&&(CodeMirrorSpellChecker$1.typo=new Typo("en_US",CodeMirrorSpellChecker$1.aff_data,CodeMirrorSpellChecker$1.dic_data,{platform:"any"})))},tn.send(null)}if(!CodeMirrorSpellChecker$1.dic_loading){CodeMirrorSpellChecker$1.dic_loading=!0;var nn=new XMLHttpRequest;nn.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),nn.onload=function(){nn.readyState===4&&nn.status===200&&(CodeMirrorSpellChecker$1.dic_data=nn.responseText,CodeMirrorSpellChecker$1.num_loaded++,CodeMirrorSpellChecker$1.num_loaded==2&&(CodeMirrorSpellChecker$1.typo=new Typo("en_US",CodeMirrorSpellChecker$1.aff_data,CodeMirrorSpellChecker$1.dic_data,{platform:"any"})))},nn.send(null)}var rn='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',an={token:function(cn){var un=cn.peek(),fn="";if(rn.includes(un))return cn.next(),null;for(;(un=cn.peek())!=null&&!rn.includes(un);)fn+=un,cn.next();return CodeMirrorSpellChecker$1.typo&&!CodeMirrorSpellChecker$1.typo.check(fn)?"spell-error":null}},ln=Fe.codeMirrorInstance.getMode(en,en.backdrop||"text/plain");return Fe.codeMirrorInstance.overlayMode(ln,an,!0)})}CodeMirrorSpellChecker$1.num_loaded=0;CodeMirrorSpellChecker$1.aff_loading=!1;CodeMirrorSpellChecker$1.dic_loading=!1;CodeMirrorSpellChecker$1.aff_data="";CodeMirrorSpellChecker$1.dic_data="";CodeMirrorSpellChecker$1.typo;var spellChecker=CodeMirrorSpellChecker$1,marked$1={};(function(Fe){function en(Mi,gi){for(var Ti=0;Ti<gi.length;Ti++){var li=gi[Ti];li.enumerable=li.enumerable||!1,li.configurable=!0,"value"in li&&(li.writable=!0),Object.defineProperty(Mi,un(li.key),li)}}function tn(Mi,gi,Ti){return gi&&en(Mi.prototype,gi),Ti&&en(Mi,Ti),Object.defineProperty(Mi,"prototype",{writable:!1}),Mi}function nn(){return nn=Object.assign?Object.assign.bind():function(Mi){for(var gi=1;gi<arguments.length;gi++){var Ti=arguments[gi];for(var li in Ti)Object.prototype.hasOwnProperty.call(Ti,li)&&(Mi[li]=Ti[li])}return Mi},nn.apply(this,arguments)}function rn(Mi,gi){if(Mi){if(typeof Mi=="string")return an(Mi,gi);var Ti=Object.prototype.toString.call(Mi).slice(8,-1);if(Ti==="Object"&&Mi.constructor&&(Ti=Mi.constructor.name),Ti==="Map"||Ti==="Set")return Array.from(Mi);if(Ti==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ti))return an(Mi,gi)}}function an(Mi,gi){(gi==null||gi>Mi.length)&&(gi=Mi.length);for(var Ti=0,li=new Array(gi);Ti<gi;Ti++)li[Ti]=Mi[Ti];return li}function ln(Mi,gi){var Ti=typeof Symbol<"u"&&Mi[Symbol.iterator]||Mi["@@iterator"];if(Ti)return(Ti=Ti.call(Mi)).next.bind(Ti);if(Array.isArray(Mi)||(Ti=rn(Mi))||gi&&Mi&&typeof Mi.length=="number"){Ti&&(Mi=Ti);var li=0;return function(){return li>=Mi.length?{done:!0}:{done:!1,value:Mi[li++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(Mi,gi){if(typeof Mi!="object"||Mi===null)return Mi;var Ti=Mi[Symbol.toPrimitive];if(Ti!==void 0){var li=Ti.call(Mi,gi||"default");if(typeof li!="object")return li;throw new TypeError("@@toPrimitive must return a primitive value.")}return(gi==="string"?String:Number)(Mi)}function un(Mi){var gi=cn(Mi,"string");return typeof gi=="symbol"?gi:String(gi)}function fn(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Fe.defaults=fn();function hn(Mi){Fe.defaults=Mi}var pn=/[&<>"']/,gn=new RegExp(pn.source,"g"),mn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,_n=new RegExp(mn.source,"g"),kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cn=function(gi){return kn[gi]};function xn(Mi,gi){if(gi){if(pn.test(Mi))return Mi.replace(gn,Cn)}else if(mn.test(Mi))return Mi.replace(_n,Cn);return Mi}var Sn=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Mn(Mi){return Mi.replace(Sn,function(gi,Ti){return Ti=Ti.toLowerCase(),Ti==="colon"?":":Ti.charAt(0)==="#"?Ti.charAt(1)==="x"?String.fromCharCode(parseInt(Ti.substring(2),16)):String.fromCharCode(+Ti.substring(1)):""})}var In=/(^|[^\[])\^/g;function On(Mi,gi){Mi=typeof Mi=="string"?Mi:Mi.source,gi=gi||"";var Ti={replace:function(di,Di){return Di=Di.source||Di,Di=Di.replace(In,"$1"),Mi=Mi.replace(di,Di),Ti},getRegex:function(){return new RegExp(Mi,gi)}};return Ti}var Pn=/[^\w:]/g,Tn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Nn(Mi,gi,Ti){if(Mi){var li;try{li=decodeURIComponent(Mn(Ti)).replace(Pn,"").toLowerCase()}catch{return null}if(li.indexOf("javascript:")===0||li.indexOf("vbscript:")===0||li.indexOf("data:")===0)return null}gi&&!Tn.test(Ti)&&(Ti=Wn(gi,Ti));try{Ti=encodeURI(Ti).replace(/%25/g,"%")}catch{return null}return Ti}var Hn={},Un=/^[^:]+:\/*[^/]*$/,jn=/^([^:]+:)[\s\S]*$/,Yn=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Wn(Mi,gi){Hn[" "+Mi]||(Un.test(Mi)?Hn[" "+Mi]=Mi+"/":Hn[" "+Mi]=jr(Mi,"/",!0)),Mi=Hn[" "+Mi];var Ti=Mi.indexOf(":")===-1;return gi.substring(0,2)==="//"?Ti?gi:Mi.replace(jn,"$1")+gi:gi.charAt(0)==="/"?Ti?gi:Mi.replace(Yn,"$1")+gi:Mi+gi}var Qn={exec:function(){}};function Xn(Mi,gi){var Ti=Mi.replace(/\|/g,function(Di,bi,Li){for(var yo=!1,ko=bi;--ko>=0&&Li[ko]==="\\";)yo=!yo;return yo?"|":" |"}),li=Ti.split(/ \|/),di=0;if(li[0].trim()||li.shift(),li.length>0&&!li[li.length-1].trim()&&li.pop(),li.length>gi)li.splice(gi);else for(;li.length<gi;)li.push("");for(;di<li.length;di++)li[di]=li[di].trim().replace(/\\\|/g,"|");return li}function jr(Mi,gi,Ti){var li=Mi.length;if(li===0)return"";for(var di=0;di<li;){var Di=Mi.charAt(li-di-1);if(Di===gi&&!Ti)di++;else if(Di!==gi&&Ti)di++;else break}return Mi.slice(0,li-di)}function Wr(Mi,gi){if(Mi.indexOf(gi[1])===-1)return-1;for(var Ti=Mi.length,li=0,di=0;di<Ti;di++)if(Mi[di]==="\\")di++;else if(Mi[di]===gi[0])li++;else if(Mi[di]===gi[1]&&(li--,li<0))return di;return-1}function Jr(Mi){Mi&&Mi.sanitize&&!Mi.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ci(Mi,gi){if(gi<1)return"";for(var Ti="";gi>1;)gi&1&&(Ti+=Mi),gi>>=1,Mi+=Mi;return Ti+Mi}function ti(Mi,gi,Ti,li){var di=gi.href,Di=gi.title?xn(gi.title):null,bi=Mi[1].replace(/\\([\[\]])/g,"$1");if(Mi[0].charAt(0)!=="!"){li.state.inLink=!0;var Li={type:"link",raw:Ti,href:di,title:Di,text:bi,tokens:li.inlineTokens(bi)};return li.state.inLink=!1,Li}return{type:"image",raw:Ti,href:di,title:Di,text:xn(bi)}}function Zr(Mi,gi){var Ti=Mi.match(/^(\s+)(?:```)/);if(Ti===null)return gi;var li=Ti[1];return gi.split(`
`).map(function(di){var Di=di.match(/^\s+/);if(Di===null)return di;var bi=Di[0];return bi.length>=li.length?di.slice(li.length):di}).join(`
`)}var Br=function(){function Mi(Ti){this.options=Ti||Fe.defaults}var gi=Mi.prototype;return gi.space=function(li){var di=this.rules.block.newline.exec(li);if(di&&di[0].length>0)return{type:"space",raw:di[0]}},gi.code=function(li){var di=this.rules.block.code.exec(li);if(di){var Di=di[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:di[0],codeBlockStyle:"indented",text:this.options.pedantic?Di:jr(Di,`
`)}}},gi.fences=function(li){var di=this.rules.block.fences.exec(li);if(di){var Di=di[0],bi=Zr(Di,di[3]||"");return{type:"code",raw:Di,lang:di[2]?di[2].trim().replace(this.rules.inline._escapes,"$1"):di[2],text:bi}}},gi.heading=function(li){var di=this.rules.block.heading.exec(li);if(di){var Di=di[2].trim();if(/#$/.test(Di)){var bi=jr(Di,"#");(this.options.pedantic||!bi||/ $/.test(bi))&&(Di=bi.trim())}return{type:"heading",raw:di[0],depth:di[1].length,text:Di,tokens:this.lexer.inline(Di)}}},gi.hr=function(li){var di=this.rules.block.hr.exec(li);if(di)return{type:"hr",raw:di[0]}},gi.blockquote=function(li){var di=this.rules.block.blockquote.exec(li);if(di){var Di=di[0].replace(/^ *>[ \t]?/gm,""),bi=this.lexer.state.top;this.lexer.state.top=!0;var Li=this.lexer.blockTokens(Di);return this.lexer.state.top=bi,{type:"blockquote",raw:di[0],tokens:Li,text:Di}}},gi.list=function(li){var di=this.rules.block.list.exec(li);if(di){var Di,bi,Li,yo,ko,bo,$o,ra,Xi,zo,fo,la,ya=di[1].trim(),Ms=ya.length>1,da={type:"list",raw:"",ordered:Ms,start:Ms?+ya.slice(0,-1):"",loose:!1,items:[]};ya=Ms?"\\d{1,9}\\"+ya.slice(-1):"\\"+ya,this.options.pedantic&&(ya=Ms?ya:"[*+-]");for(var os=new RegExp("^( {0,3}"+ya+")((?:[	 ][^\\n]*)?(?:\\n|$))");li&&(la=!1,!(!(di=os.exec(li))||this.rules.block.hr.test(li)));){if(Di=di[0],li=li.substring(Di.length),ra=di[2].split(`
`,1)[0].replace(/^\t+/,function(fs){return" ".repeat(3*fs.length)}),Xi=li.split(`
`,1)[0],this.options.pedantic?(yo=2,fo=ra.trimLeft()):(yo=di[2].search(/[^ ]/),yo=yo>4?1:yo,fo=ra.slice(yo),yo+=di[1].length),bo=!1,!ra&&/^ *$/.test(Xi)&&(Di+=Xi+`
`,li=li.substring(Xi.length+1),la=!0),!la)for(var Fa=new RegExp("^ {0,"+Math.min(3,yo-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),As=new RegExp("^ {0,"+Math.min(3,yo-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Zs=new RegExp("^ {0,"+Math.min(3,yo-1)+"}(?:```|~~~)"),gl=new RegExp("^ {0,"+Math.min(3,yo-1)+"}#");li&&(zo=li.split(`
`,1)[0],Xi=zo,this.options.pedantic&&(Xi=Xi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Zs.test(Xi)||gl.test(Xi)||Fa.test(Xi)||As.test(li)));){if(Xi.search(/[^ ]/)>=yo||!Xi.trim())fo+=`
`+Xi.slice(yo);else{if(bo||ra.search(/[^ ]/)>=4||Zs.test(ra)||gl.test(ra)||As.test(ra))break;fo+=`
`+Xi}!bo&&!Xi.trim()&&(bo=!0),Di+=zo+`
`,li=li.substring(zo.length+1),ra=Xi.slice(yo)}da.loose||($o?da.loose=!0:/\n *\n *$/.test(Di)&&($o=!0)),this.options.gfm&&(bi=/^\[[ xX]\] /.exec(fo),bi&&(Li=bi[0]!=="[ ] ",fo=fo.replace(/^\[[ xX]\] +/,""))),da.items.push({type:"list_item",raw:Di,task:!!bi,checked:Li,loose:!1,text:fo}),da.raw+=Di}da.items[da.items.length-1].raw=Di.trimRight(),da.items[da.items.length-1].text=fo.trimRight(),da.raw=da.raw.trimRight();var us=da.items.length;for(ko=0;ko<us;ko++)if(this.lexer.state.top=!1,da.items[ko].tokens=this.lexer.blockTokens(da.items[ko].text,[]),!da.loose){var jl=da.items[ko].tokens.filter(function(fs){return fs.type==="space"}),vl=jl.length>0&&jl.some(function(fs){return/\n.*\n/.test(fs.raw)});da.loose=vl}if(da.loose)for(ko=0;ko<us;ko++)da.items[ko].loose=!0;return da}},gi.html=function(li){var di=this.rules.block.html.exec(li);if(di){var Di={type:"html",raw:di[0],pre:!this.options.sanitizer&&(di[1]==="pre"||di[1]==="script"||di[1]==="style"),text:di[0]};if(this.options.sanitize){var bi=this.options.sanitizer?this.options.sanitizer(di[0]):xn(di[0]);Di.type="paragraph",Di.text=bi,Di.tokens=this.lexer.inline(bi)}return Di}},gi.def=function(li){var di=this.rules.block.def.exec(li);if(di){var Di=di[1].toLowerCase().replace(/\s+/g," "),bi=di[2]?di[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",Li=di[3]?di[3].substring(1,di[3].length-1).replace(this.rules.inline._escapes,"$1"):di[3];return{type:"def",tag:Di,raw:di[0],href:bi,title:Li}}},gi.table=function(li){var di=this.rules.block.table.exec(li);if(di){var Di={type:"table",header:Xn(di[1]).map(function($o){return{text:$o}}),align:di[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:di[3]&&di[3].trim()?di[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Di.header.length===Di.align.length){Di.raw=di[0];var bi=Di.align.length,Li,yo,ko,bo;for(Li=0;Li<bi;Li++)/^ *-+: *$/.test(Di.align[Li])?Di.align[Li]="right":/^ *:-+: *$/.test(Di.align[Li])?Di.align[Li]="center":/^ *:-+ *$/.test(Di.align[Li])?Di.align[Li]="left":Di.align[Li]=null;for(bi=Di.rows.length,Li=0;Li<bi;Li++)Di.rows[Li]=Xn(Di.rows[Li],Di.header.length).map(function($o){return{text:$o}});for(bi=Di.header.length,yo=0;yo<bi;yo++)Di.header[yo].tokens=this.lexer.inline(Di.header[yo].text);for(bi=Di.rows.length,yo=0;yo<bi;yo++)for(bo=Di.rows[yo],ko=0;ko<bo.length;ko++)bo[ko].tokens=this.lexer.inline(bo[ko].text);return Di}}},gi.lheading=function(li){var di=this.rules.block.lheading.exec(li);if(di)return{type:"heading",raw:di[0],depth:di[2].charAt(0)==="="?1:2,text:di[1],tokens:this.lexer.inline(di[1])}},gi.paragraph=function(li){var di=this.rules.block.paragraph.exec(li);if(di){var Di=di[1].charAt(di[1].length-1)===`
`?di[1].slice(0,-1):di[1];return{type:"paragraph",raw:di[0],text:Di,tokens:this.lexer.inline(Di)}}},gi.text=function(li){var di=this.rules.block.text.exec(li);if(di)return{type:"text",raw:di[0],text:di[0],tokens:this.lexer.inline(di[0])}},gi.escape=function(li){var di=this.rules.inline.escape.exec(li);if(di)return{type:"escape",raw:di[0],text:xn(di[1])}},gi.tag=function(li){var di=this.rules.inline.tag.exec(li);if(di)return!this.lexer.state.inLink&&/^<a /i.test(di[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(di[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(di[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(di[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:di[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(di[0]):xn(di[0]):di[0]}},gi.link=function(li){var di=this.rules.inline.link.exec(li);if(di){var Di=di[2].trim();if(!this.options.pedantic&&/^</.test(Di)){if(!/>$/.test(Di))return;var bi=jr(Di.slice(0,-1),"\\");if((Di.length-bi.length)%2===0)return}else{var Li=Wr(di[2],"()");if(Li>-1){var yo=di[0].indexOf("!")===0?5:4,ko=yo+di[1].length+Li;di[2]=di[2].substring(0,Li),di[0]=di[0].substring(0,ko).trim(),di[3]=""}}var bo=di[2],$o="";if(this.options.pedantic){var ra=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(bo);ra&&(bo=ra[1],$o=ra[3])}else $o=di[3]?di[3].slice(1,-1):"";return bo=bo.trim(),/^</.test(bo)&&(this.options.pedantic&&!/>$/.test(Di)?bo=bo.slice(1):bo=bo.slice(1,-1)),ti(di,{href:bo&&bo.replace(this.rules.inline._escapes,"$1"),title:$o&&$o.replace(this.rules.inline._escapes,"$1")},di[0],this.lexer)}},gi.reflink=function(li,di){var Di;if((Di=this.rules.inline.reflink.exec(li))||(Di=this.rules.inline.nolink.exec(li))){var bi=(Di[2]||Di[1]).replace(/\s+/g," ");if(bi=di[bi.toLowerCase()],!bi){var Li=Di[0].charAt(0);return{type:"text",raw:Li,text:Li}}return ti(Di,bi,Di[0],this.lexer)}},gi.emStrong=function(li,di,Di){Di===void 0&&(Di="");var bi=this.rules.inline.emStrong.lDelim.exec(li);if(bi&&!(bi[3]&&Di.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Li=bi[1]||bi[2]||"";if(!Li||Li&&(Di===""||this.rules.inline.punctuation.exec(Di))){var yo=bi[0].length-1,ko,bo,$o=yo,ra=0,Xi=bi[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Xi.lastIndex=0,di=di.slice(-1*li.length+yo);(bi=Xi.exec(di))!=null;)if(ko=bi[1]||bi[2]||bi[3]||bi[4]||bi[5]||bi[6],!!ko){if(bo=ko.length,bi[3]||bi[4]){$o+=bo;continue}else if((bi[5]||bi[6])&&yo%3&&!((yo+bo)%3)){ra+=bo;continue}if($o-=bo,!($o>0)){bo=Math.min(bo,bo+$o+ra);var zo=li.slice(0,yo+bi.index+(bi[0].length-ko.length)+bo);if(Math.min(yo,bo)%2){var fo=zo.slice(1,-1);return{type:"em",raw:zo,text:fo,tokens:this.lexer.inlineTokens(fo)}}var la=zo.slice(2,-2);return{type:"strong",raw:zo,text:la,tokens:this.lexer.inlineTokens(la)}}}}}},gi.codespan=function(li){var di=this.rules.inline.code.exec(li);if(di){var Di=di[2].replace(/\n/g," "),bi=/[^ ]/.test(Di),Li=/^ /.test(Di)&&/ $/.test(Di);return bi&&Li&&(Di=Di.substring(1,Di.length-1)),Di=xn(Di,!0),{type:"codespan",raw:di[0],text:Di}}},gi.br=function(li){var di=this.rules.inline.br.exec(li);if(di)return{type:"br",raw:di[0]}},gi.del=function(li){var di=this.rules.inline.del.exec(li);if(di)return{type:"del",raw:di[0],text:di[2],tokens:this.lexer.inlineTokens(di[2])}},gi.autolink=function(li,di){var Di=this.rules.inline.autolink.exec(li);if(Di){var bi,Li;return Di[2]==="@"?(bi=xn(this.options.mangle?di(Di[1]):Di[1]),Li="mailto:"+bi):(bi=xn(Di[1]),Li=bi),{type:"link",raw:Di[0],text:bi,href:Li,tokens:[{type:"text",raw:bi,text:bi}]}}},gi.url=function(li,di){var Di;if(Di=this.rules.inline.url.exec(li)){var bi,Li;if(Di[2]==="@")bi=xn(this.options.mangle?di(Di[0]):Di[0]),Li="mailto:"+bi;else{var yo;do yo=Di[0],Di[0]=this.rules.inline._backpedal.exec(Di[0])[0];while(yo!==Di[0]);bi=xn(Di[0]),Di[1]==="www."?Li="http://"+Di[0]:Li=Di[0]}return{type:"link",raw:Di[0],text:bi,href:Li,tokens:[{type:"text",raw:bi,text:bi}]}}},gi.inlineText=function(li,di){var Di=this.rules.inline.text.exec(li);if(Di){var bi;return this.lexer.state.inRawBlock?bi=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Di[0]):xn(Di[0]):Di[0]:bi=xn(this.options.smartypants?di(Di[0]):Di[0]),{type:"text",raw:Di[0],text:bi}}},Mi}(),Jn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Qn,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Jn._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Jn._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Jn.def=On(Jn.def).replace("label",Jn._label).replace("title",Jn._title).getRegex(),Jn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Jn.listItemStart=On(/^( *)(bull) */).replace("bull",Jn.bullet).getRegex(),Jn.list=On(Jn.list).replace(/bull/g,Jn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Jn.def.source+")").getRegex(),Jn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Jn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Jn.html=On(Jn.html,"i").replace("comment",Jn._comment).replace("tag",Jn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Jn.paragraph=On(Jn._paragraph).replace("hr",Jn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jn._tag).getRegex(),Jn.blockquote=On(Jn.blockquote).replace("paragraph",Jn.paragraph).getRegex(),Jn.normal=nn({},Jn),Jn.gfm=nn({},Jn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Jn.gfm.table=On(Jn.gfm.table).replace("hr",Jn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jn._tag).getRegex(),Jn.gfm.paragraph=On(Jn._paragraph).replace("hr",Jn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Jn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jn._tag).getRegex(),Jn.pedantic=nn({},Jn.normal,{html:On(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Jn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Qn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:On(Jn.normal._paragraph).replace("hr",Jn.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Jn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var oi={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Qn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Qn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};oi._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",oi.punctuation=On(oi.punctuation).replace(/punctuation/g,oi._punctuation).getRegex(),oi.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,oi.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,oi._comment=On(Jn._comment).replace("(?:-->|$)","-->").getRegex(),oi.emStrong.lDelim=On(oi.emStrong.lDelim).replace(/punct/g,oi._punctuation).getRegex(),oi.emStrong.rDelimAst=On(oi.emStrong.rDelimAst,"g").replace(/punct/g,oi._punctuation).getRegex(),oi.emStrong.rDelimUnd=On(oi.emStrong.rDelimUnd,"g").replace(/punct/g,oi._punctuation).getRegex(),oi._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,oi._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,oi._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,oi.autolink=On(oi.autolink).replace("scheme",oi._scheme).replace("email",oi._email).getRegex(),oi._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,oi.tag=On(oi.tag).replace("comment",oi._comment).replace("attribute",oi._attribute).getRegex(),oi._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,oi._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,oi._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,oi.link=On(oi.link).replace("label",oi._label).replace("href",oi._href).replace("title",oi._title).getRegex(),oi.reflink=On(oi.reflink).replace("label",oi._label).replace("ref",Jn._label).getRegex(),oi.nolink=On(oi.nolink).replace("ref",Jn._label).getRegex(),oi.reflinkSearch=On(oi.reflinkSearch,"g").replace("reflink",oi.reflink).replace("nolink",oi.nolink).getRegex(),oi.normal=nn({},oi),oi.pedantic=nn({},oi.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:On(/^!?\[(label)\]\((.*?)\)/).replace("label",oi._label).getRegex(),reflink:On(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",oi._label).getRegex()}),oi.gfm=nn({},oi.normal,{escape:On(oi.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),oi.gfm.url=On(oi.gfm.url,"i").replace("email",oi.gfm._extended_email).getRegex(),oi.breaks=nn({},oi.gfm,{br:On(oi.br).replace("{2,}","*").getRegex(),text:On(oi.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function pi(Mi){return Mi.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦")}function ri(Mi){var gi="",Ti,li,di=Mi.length;for(Ti=0;Ti<di;Ti++)li=Mi.charCodeAt(Ti),Math.random()>.5&&(li="x"+li.toString(16)),gi+="&#"+li+";";return gi}var fi=function(){function Mi(Ti){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ti||Fe.defaults,this.options.tokenizer=this.options.tokenizer||new Br,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var li={block:Jn.normal,inline:oi.normal};this.options.pedantic?(li.block=Jn.pedantic,li.inline=oi.pedantic):this.options.gfm&&(li.block=Jn.gfm,this.options.breaks?li.inline=oi.breaks:li.inline=oi.gfm),this.tokenizer.rules=li}Mi.lex=function(li,di){var Di=new Mi(di);return Di.lex(li)},Mi.lexInline=function(li,di){var Di=new Mi(di);return Di.inlineTokens(li)};var gi=Mi.prototype;return gi.lex=function(li){li=li.replace(/\r\n|\r/g,`
`),this.blockTokens(li,this.tokens);for(var di;di=this.inlineQueue.shift();)this.inlineTokens(di.src,di.tokens);return this.tokens},gi.blockTokens=function(li,di){var Di=this;di===void 0&&(di=[]),this.options.pedantic?li=li.replace(/\t/g,"    ").replace(/^ +$/gm,""):li=li.replace(/^( *)(\t+)/gm,function($o,ra,Xi){return ra+"    ".repeat(Xi.length)});for(var bi,Li,yo,ko;li;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function($o){return(bi=$o.call({lexer:Di},li,di))?(li=li.substring(bi.raw.length),di.push(bi),!0):!1}))){if(bi=this.tokenizer.space(li)){li=li.substring(bi.raw.length),bi.raw.length===1&&di.length>0?di[di.length-1].raw+=`
`:di.push(bi);continue}if(bi=this.tokenizer.code(li)){li=li.substring(bi.raw.length),Li=di[di.length-1],Li&&(Li.type==="paragraph"||Li.type==="text")?(Li.raw+=`
`+bi.raw,Li.text+=`
`+bi.text,this.inlineQueue[this.inlineQueue.length-1].src=Li.text):di.push(bi);continue}if(bi=this.tokenizer.fences(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.heading(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.hr(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.blockquote(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.list(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.html(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.def(li)){li=li.substring(bi.raw.length),Li=di[di.length-1],Li&&(Li.type==="paragraph"||Li.type==="text")?(Li.raw+=`
`+bi.raw,Li.text+=`
`+bi.raw,this.inlineQueue[this.inlineQueue.length-1].src=Li.text):this.tokens.links[bi.tag]||(this.tokens.links[bi.tag]={href:bi.href,title:bi.title});continue}if(bi=this.tokenizer.table(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.lheading(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(yo=li,this.options.extensions&&this.options.extensions.startBlock&&function(){var $o=1/0,ra=li.slice(1),Xi=void 0;Di.options.extensions.startBlock.forEach(function(zo){Xi=zo.call({lexer:this},ra),typeof Xi=="number"&&Xi>=0&&($o=Math.min($o,Xi))}),$o<1/0&&$o>=0&&(yo=li.substring(0,$o+1))}(),this.state.top&&(bi=this.tokenizer.paragraph(yo))){Li=di[di.length-1],ko&&Li.type==="paragraph"?(Li.raw+=`
`+bi.raw,Li.text+=`
`+bi.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Li.text):di.push(bi),ko=yo.length!==li.length,li=li.substring(bi.raw.length);continue}if(bi=this.tokenizer.text(li)){li=li.substring(bi.raw.length),Li=di[di.length-1],Li&&Li.type==="text"?(Li.raw+=`
`+bi.raw,Li.text+=`
`+bi.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Li.text):di.push(bi);continue}if(li){var bo="Infinite loop on byte: "+li.charCodeAt(0);if(this.options.silent){console.error(bo);break}else throw new Error(bo)}}return this.state.top=!0,di},gi.inline=function(li,di){return di===void 0&&(di=[]),this.inlineQueue.push({src:li,tokens:di}),di},gi.inlineTokens=function(li,di){var Di=this;di===void 0&&(di=[]);var bi,Li,yo,ko=li,bo,$o,ra;if(this.tokens.links){var Xi=Object.keys(this.tokens.links);if(Xi.length>0)for(;(bo=this.tokenizer.rules.inline.reflinkSearch.exec(ko))!=null;)Xi.includes(bo[0].slice(bo[0].lastIndexOf("[")+1,-1))&&(ko=ko.slice(0,bo.index)+"["+ci("a",bo[0].length-2)+"]"+ko.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(bo=this.tokenizer.rules.inline.blockSkip.exec(ko))!=null;)ko=ko.slice(0,bo.index)+"["+ci("a",bo[0].length-2)+"]"+ko.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(bo=this.tokenizer.rules.inline.escapedEmSt.exec(ko))!=null;)ko=ko.slice(0,bo.index+bo[0].length-2)+"++"+ko.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;li;)if($o||(ra=""),$o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(fo){return(bi=fo.call({lexer:Di},li,di))?(li=li.substring(bi.raw.length),di.push(bi),!0):!1}))){if(bi=this.tokenizer.escape(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.tag(li)){li=li.substring(bi.raw.length),Li=di[di.length-1],Li&&bi.type==="text"&&Li.type==="text"?(Li.raw+=bi.raw,Li.text+=bi.text):di.push(bi);continue}if(bi=this.tokenizer.link(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.reflink(li,this.tokens.links)){li=li.substring(bi.raw.length),Li=di[di.length-1],Li&&bi.type==="text"&&Li.type==="text"?(Li.raw+=bi.raw,Li.text+=bi.text):di.push(bi);continue}if(bi=this.tokenizer.emStrong(li,ko,ra)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.codespan(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.br(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.del(li)){li=li.substring(bi.raw.length),di.push(bi);continue}if(bi=this.tokenizer.autolink(li,ri)){li=li.substring(bi.raw.length),di.push(bi);continue}if(!this.state.inLink&&(bi=this.tokenizer.url(li,ri))){li=li.substring(bi.raw.length),di.push(bi);continue}if(yo=li,this.options.extensions&&this.options.extensions.startInline&&function(){var fo=1/0,la=li.slice(1),ya=void 0;Di.options.extensions.startInline.forEach(function(Ms){ya=Ms.call({lexer:this},la),typeof ya=="number"&&ya>=0&&(fo=Math.min(fo,ya))}),fo<1/0&&fo>=0&&(yo=li.substring(0,fo+1))}(),bi=this.tokenizer.inlineText(yo,pi)){li=li.substring(bi.raw.length),bi.raw.slice(-1)!=="_"&&(ra=bi.raw.slice(-1)),$o=!0,Li=di[di.length-1],Li&&Li.type==="text"?(Li.raw+=bi.raw,Li.text+=bi.text):di.push(bi);continue}if(li){var zo="Infinite loop on byte: "+li.charCodeAt(0);if(this.options.silent){console.error(zo);break}else throw new Error(zo)}}return di},tn(Mi,null,[{key:"rules",get:function(){return{block:Jn,inline:oi}}}]),Mi}(),yi=function(){function Mi(Ti){this.options=Ti||Fe.defaults}var gi=Mi.prototype;return gi.code=function(li,di,Di){var bi=(di||"").match(/\S*/)[0];if(this.options.highlight){var Li=this.options.highlight(li,bi);Li!=null&&Li!==li&&(Di=!0,li=Li)}return li=li.replace(/\n$/,"")+`
`,bi?'<pre><code class="'+this.options.langPrefix+xn(bi)+'">'+(Di?li:xn(li,!0))+`</code></pre>
`:"<pre><code>"+(Di?li:xn(li,!0))+`</code></pre>
`},gi.blockquote=function(li){return`<blockquote>
`+li+`</blockquote>
`},gi.html=function(li){return li},gi.heading=function(li,di,Di,bi){if(this.options.headerIds){var Li=this.options.headerPrefix+bi.slug(Di);return"<h"+di+' id="'+Li+'">'+li+"</h"+di+`>
`}return"<h"+di+">"+li+"</h"+di+`>
`},gi.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},gi.list=function(li,di,Di){var bi=di?"ol":"ul",Li=di&&Di!==1?' start="'+Di+'"':"";return"<"+bi+Li+`>
`+li+"</"+bi+`>
`},gi.listitem=function(li){return"<li>"+li+`</li>
`},gi.checkbox=function(li){return"<input "+(li?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},gi.paragraph=function(li){return"<p>"+li+`</p>
`},gi.table=function(li,di){return di&&(di="<tbody>"+di+"</tbody>"),`<table>
<thead>
`+li+`</thead>
`+di+`</table>
`},gi.tablerow=function(li){return`<tr>
`+li+`</tr>
`},gi.tablecell=function(li,di){var Di=di.header?"th":"td",bi=di.align?"<"+Di+' align="'+di.align+'">':"<"+Di+">";return bi+li+("</"+Di+`>
`)},gi.strong=function(li){return"<strong>"+li+"</strong>"},gi.em=function(li){return"<em>"+li+"</em>"},gi.codespan=function(li){return"<code>"+li+"</code>"},gi.br=function(){return this.options.xhtml?"<br/>":"<br>"},gi.del=function(li){return"<del>"+li+"</del>"},gi.link=function(li,di,Di){if(li=Nn(this.options.sanitize,this.options.baseUrl,li),li===null)return Di;var bi='<a href="'+li+'"';return di&&(bi+=' title="'+di+'"'),bi+=">"+Di+"</a>",bi},gi.image=function(li,di,Di){if(li=Nn(this.options.sanitize,this.options.baseUrl,li),li===null)return Di;var bi='<img src="'+li+'" alt="'+Di+'"';return di&&(bi+=' title="'+di+'"'),bi+=this.options.xhtml?"/>":">",bi},gi.text=function(li){return li},Mi}(),Si=function(){function Mi(){}var gi=Mi.prototype;return gi.strong=function(li){return li},gi.em=function(li){return li},gi.codespan=function(li){return li},gi.del=function(li){return li},gi.html=function(li){return li},gi.text=function(li){return li},gi.link=function(li,di,Di){return""+Di},gi.image=function(li,di,Di){return""+Di},gi.br=function(){return""},Mi}(),Pi=function(){function Mi(){this.seen={}}var gi=Mi.prototype;return gi.serialize=function(li){return li.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},gi.getNextSafeSlug=function(li,di){var Di=li,bi=0;if(this.seen.hasOwnProperty(Di)){bi=this.seen[li];do bi++,Di=li+"-"+bi;while(this.seen.hasOwnProperty(Di))}return di||(this.seen[li]=bi,this.seen[Di]=0),Di},gi.slug=function(li,di){di===void 0&&(di={});var Di=this.serialize(li);return this.getNextSafeSlug(Di,di.dryrun)},Mi}(),Ui=function(){function Mi(Ti){this.options=Ti||Fe.defaults,this.options.renderer=this.options.renderer||new yi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Si,this.slugger=new Pi}Mi.parse=function(li,di){var Di=new Mi(di);return Di.parse(li)},Mi.parseInline=function(li,di){var Di=new Mi(di);return Di.parseInline(li)};var gi=Mi.prototype;return gi.parse=function(li,di){di===void 0&&(di=!0);var Di="",bi,Li,yo,ko,bo,$o,ra,Xi,zo,fo,la,ya,Ms,da,os,Fa,As,Zs,gl,us=li.length;for(bi=0;bi<us;bi++){if(fo=li[bi],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[fo.type]&&(gl=this.options.extensions.renderers[fo.type].call({parser:this},fo),gl!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(fo.type))){Di+=gl||"";continue}switch(fo.type){case"space":continue;case"hr":{Di+=this.renderer.hr();continue}case"heading":{Di+=this.renderer.heading(this.parseInline(fo.tokens),fo.depth,Mn(this.parseInline(fo.tokens,this.textRenderer)),this.slugger);continue}case"code":{Di+=this.renderer.code(fo.text,fo.lang,fo.escaped);continue}case"table":{for(Xi="",ra="",ko=fo.header.length,Li=0;Li<ko;Li++)ra+=this.renderer.tablecell(this.parseInline(fo.header[Li].tokens),{header:!0,align:fo.align[Li]});for(Xi+=this.renderer.tablerow(ra),zo="",ko=fo.rows.length,Li=0;Li<ko;Li++){for($o=fo.rows[Li],ra="",bo=$o.length,yo=0;yo<bo;yo++)ra+=this.renderer.tablecell(this.parseInline($o[yo].tokens),{header:!1,align:fo.align[yo]});zo+=this.renderer.tablerow(ra)}Di+=this.renderer.table(Xi,zo);continue}case"blockquote":{zo=this.parse(fo.tokens),Di+=this.renderer.blockquote(zo);continue}case"list":{for(la=fo.ordered,ya=fo.start,Ms=fo.loose,ko=fo.items.length,zo="",Li=0;Li<ko;Li++)os=fo.items[Li],Fa=os.checked,As=os.task,da="",os.task&&(Zs=this.renderer.checkbox(Fa),Ms?os.tokens.length>0&&os.tokens[0].type==="paragraph"?(os.tokens[0].text=Zs+" "+os.tokens[0].text,os.tokens[0].tokens&&os.tokens[0].tokens.length>0&&os.tokens[0].tokens[0].type==="text"&&(os.tokens[0].tokens[0].text=Zs+" "+os.tokens[0].tokens[0].text)):os.tokens.unshift({type:"text",text:Zs}):da+=Zs),da+=this.parse(os.tokens,Ms),zo+=this.renderer.listitem(da,As,Fa);Di+=this.renderer.list(zo,la,ya);continue}case"html":{Di+=this.renderer.html(fo.text);continue}case"paragraph":{Di+=this.renderer.paragraph(this.parseInline(fo.tokens));continue}case"text":{for(zo=fo.tokens?this.parseInline(fo.tokens):fo.text;bi+1<us&&li[bi+1].type==="text";)fo=li[++bi],zo+=`
`+(fo.tokens?this.parseInline(fo.tokens):fo.text);Di+=di?this.renderer.paragraph(zo):zo;continue}default:{var jl='Token with "'+fo.type+'" type was not found.';if(this.options.silent){console.error(jl);return}else throw new Error(jl)}}}return Di},gi.parseInline=function(li,di){di=di||this.renderer;var Di="",bi,Li,yo,ko=li.length;for(bi=0;bi<ko;bi++){if(Li=li[bi],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Li.type]&&(yo=this.options.extensions.renderers[Li.type].call({parser:this},Li),yo!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Li.type))){Di+=yo||"";continue}switch(Li.type){case"escape":{Di+=di.text(Li.text);break}case"html":{Di+=di.html(Li.text);break}case"link":{Di+=di.link(Li.href,Li.title,this.parseInline(Li.tokens,di));break}case"image":{Di+=di.image(Li.href,Li.title,Li.text);break}case"strong":{Di+=di.strong(this.parseInline(Li.tokens,di));break}case"em":{Di+=di.em(this.parseInline(Li.tokens,di));break}case"codespan":{Di+=di.codespan(Li.text);break}case"br":{Di+=di.br();break}case"del":{Di+=di.del(this.parseInline(Li.tokens,di));break}case"text":{Di+=di.text(Li.text);break}default:{var bo='Token with "'+Li.type+'" type was not found.';if(this.options.silent){console.error(bo);return}else throw new Error(bo)}}}return Di},Mi}(),ji=function(){function Mi(Ti){this.options=Ti||Fe.defaults}var gi=Mi.prototype;return gi.preprocess=function(li){return li},gi.postprocess=function(li){return li},Mi}();ji.passThroughHooks=new Set(["preprocess","postprocess"]);function go(Mi,gi,Ti){return function(li){if(li.message+=`
Please report this to https://github.com/markedjs/marked.`,Mi){var di="<p>An error occurred:</p><pre>"+xn(li.message+"",!0)+"</pre>";if(gi)return Promise.resolve(di);if(Ti){Ti(null,di);return}return di}if(gi)return Promise.reject(li);if(Ti){Ti(li);return}throw li}}function po(Mi,gi){return function(Ti,li,di){typeof li=="function"&&(di=li,li=null);var Di=nn({},li);li=nn({},Yi.defaults,Di);var bi=go(li.silent,li.async,di);if(typeof Ti>"u"||Ti===null)return bi(new Error("marked(): input parameter is undefined or null"));if(typeof Ti!="string")return bi(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ti)+", string expected"));if(Jr(li),li.hooks&&(li.hooks.options=li),di){var Li=li.highlight,yo;try{li.hooks&&(Ti=li.hooks.preprocess(Ti)),yo=Mi(Ti,li)}catch(Xi){return bi(Xi)}var ko=function(zo){var fo;if(!zo)try{li.walkTokens&&Yi.walkTokens(yo,li.walkTokens),fo=gi(yo,li),li.hooks&&(fo=li.hooks.postprocess(fo))}catch(la){zo=la}return li.highlight=Li,zo?bi(zo):di(null,fo)};if(!Li||Li.length<3||(delete li.highlight,!yo.length))return ko();var bo=0;Yi.walkTokens(yo,function(Xi){Xi.type==="code"&&(bo++,setTimeout(function(){Li(Xi.text,Xi.lang,function(zo,fo){if(zo)return ko(zo);fo!=null&&fo!==Xi.text&&(Xi.text=fo,Xi.escaped=!0),bo--,bo===0&&ko()})},0))}),bo===0&&ko();return}if(li.async)return Promise.resolve(li.hooks?li.hooks.preprocess(Ti):Ti).then(function(Xi){return Mi(Xi,li)}).then(function(Xi){return li.walkTokens?Promise.all(Yi.walkTokens(Xi,li.walkTokens)).then(function(){return Xi}):Xi}).then(function(Xi){return gi(Xi,li)}).then(function(Xi){return li.hooks?li.hooks.postprocess(Xi):Xi}).catch(bi);try{li.hooks&&(Ti=li.hooks.preprocess(Ti));var $o=Mi(Ti,li);li.walkTokens&&Yi.walkTokens($o,li.walkTokens);var ra=gi($o,li);return li.hooks&&(ra=li.hooks.postprocess(ra)),ra}catch(Xi){return bi(Xi)}}}function Yi(Mi,gi,Ti){return po(fi.lex,Ui.parse)(Mi,gi,Ti)}Yi.options=Yi.setOptions=function(Mi){return Yi.defaults=nn({},Yi.defaults,Mi),hn(Yi.defaults),Yi},Yi.getDefaults=fn,Yi.defaults=Fe.defaults,Yi.use=function(){for(var Mi=Yi.defaults.extensions||{renderers:{},childTokens:{}},gi=arguments.length,Ti=new Array(gi),li=0;li<gi;li++)Ti[li]=arguments[li];Ti.forEach(function(di){var Di=nn({},di);if(Di.async=Yi.defaults.async||Di.async||!1,di.extensions&&(di.extensions.forEach(function(Li){if(!Li.name)throw new Error("extension name required");if(Li.renderer){var yo=Mi.renderers[Li.name];yo?Mi.renderers[Li.name]=function(){for(var ko=arguments.length,bo=new Array(ko),$o=0;$o<ko;$o++)bo[$o]=arguments[$o];var ra=Li.renderer.apply(this,bo);return ra===!1&&(ra=yo.apply(this,bo)),ra}:Mi.renderers[Li.name]=Li.renderer}if(Li.tokenizer){if(!Li.level||Li.level!=="block"&&Li.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Mi[Li.level]?Mi[Li.level].unshift(Li.tokenizer):Mi[Li.level]=[Li.tokenizer],Li.start&&(Li.level==="block"?Mi.startBlock?Mi.startBlock.push(Li.start):Mi.startBlock=[Li.start]:Li.level==="inline"&&(Mi.startInline?Mi.startInline.push(Li.start):Mi.startInline=[Li.start]))}Li.childTokens&&(Mi.childTokens[Li.name]=Li.childTokens)}),Di.extensions=Mi),di.renderer&&function(){var Li=Yi.defaults.renderer||new yi,yo=function($o){var ra=Li[$o];Li[$o]=function(){for(var Xi=arguments.length,zo=new Array(Xi),fo=0;fo<Xi;fo++)zo[fo]=arguments[fo];var la=di.renderer[$o].apply(Li,zo);return la===!1&&(la=ra.apply(Li,zo)),la}};for(var ko in di.renderer)yo(ko);Di.renderer=Li}(),di.tokenizer&&function(){var Li=Yi.defaults.tokenizer||new Br,yo=function($o){var ra=Li[$o];Li[$o]=function(){for(var Xi=arguments.length,zo=new Array(Xi),fo=0;fo<Xi;fo++)zo[fo]=arguments[fo];var la=di.tokenizer[$o].apply(Li,zo);return la===!1&&(la=ra.apply(Li,zo)),la}};for(var ko in di.tokenizer)yo(ko);Di.tokenizer=Li}(),di.hooks&&function(){var Li=Yi.defaults.hooks||new ji,yo=function($o){var ra=Li[$o];ji.passThroughHooks.has($o)?Li[$o]=function(Xi){if(Yi.defaults.async)return Promise.resolve(di.hooks[$o].call(Li,Xi)).then(function(fo){return ra.call(Li,fo)});var zo=di.hooks[$o].call(Li,Xi);return ra.call(Li,zo)}:Li[$o]=function(){for(var Xi=arguments.length,zo=new Array(Xi),fo=0;fo<Xi;fo++)zo[fo]=arguments[fo];var la=di.hooks[$o].apply(Li,zo);return la===!1&&(la=ra.apply(Li,zo)),la}};for(var ko in di.hooks)yo(ko);Di.hooks=Li}(),di.walkTokens){var bi=Yi.defaults.walkTokens;Di.walkTokens=function(Li){var yo=[];return yo.push(di.walkTokens.call(this,Li)),bi&&(yo=yo.concat(bi.call(this,Li))),yo}}Yi.setOptions(Di)})},Yi.walkTokens=function(Mi,gi){for(var Ti=[],li=function(){var Li=Di.value;switch(Ti=Ti.concat(gi.call(Yi,Li)),Li.type){case"table":{for(var yo=ln(Li.header),ko;!(ko=yo()).done;){var bo=ko.value;Ti=Ti.concat(Yi.walkTokens(bo.tokens,gi))}for(var $o=ln(Li.rows),ra;!(ra=$o()).done;)for(var Xi=ra.value,zo=ln(Xi),fo;!(fo=zo()).done;){var la=fo.value;Ti=Ti.concat(Yi.walkTokens(la.tokens,gi))}break}case"list":{Ti=Ti.concat(Yi.walkTokens(Li.items,gi));break}default:Yi.defaults.extensions&&Yi.defaults.extensions.childTokens&&Yi.defaults.extensions.childTokens[Li.type]?Yi.defaults.extensions.childTokens[Li.type].forEach(function(ya){Ti=Ti.concat(Yi.walkTokens(Li[ya],gi))}):Li.tokens&&(Ti=Ti.concat(Yi.walkTokens(Li.tokens,gi)))}},di=ln(Mi),Di;!(Di=di()).done;)li();return Ti},Yi.parseInline=po(fi.lexInline,Ui.parseInline),Yi.Parser=Ui,Yi.parser=Ui.parse,Yi.Renderer=yi,Yi.TextRenderer=Si,Yi.Lexer=fi,Yi.lexer=fi.lex,Yi.Tokenizer=Br,Yi.Slugger=Pi,Yi.Hooks=ji,Yi.parse=Yi;var Fo=Yi.options,Po=Yi.setOptions,Oi=Yi.use,Wi=Yi.walkTokens,vo=Yi.parseInline,mo=Yi,ro=Ui.parse,Oo=fi.lex;Fe.Hooks=ji,Fe.Lexer=fi,Fe.Parser=Ui,Fe.Renderer=yi,Fe.Slugger=Pi,Fe.TextRenderer=Si,Fe.Tokenizer=Br,Fe.getDefaults=fn,Fe.lexer=Oo,Fe.marked=Yi,Fe.options=Fo,Fe.parse=mo,Fe.parseInline=vo,Fe.parser=ro,Fe.setOptions=Po,Fe.use=Oi,Fe.walkTokens=Wi})(marked$1);var CodeMirror=codemirrorExports,CodeMirrorSpellChecker=spellChecker,marked=marked$1.marked,isMac=/Mac/.test(navigator.platform),anchorToExternalRegex=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),bindings={toggleBold,toggleItalic,drawLink,toggleHeadingSmaller,toggleHeadingBigger,drawImage,toggleBlockquote,toggleOrderedList,toggleUnorderedList,toggleCodeBlock,togglePreview,toggleStrikethrough,toggleHeading1,toggleHeading2,toggleHeading3,toggleHeading4,toggleHeading5,toggleHeading6,cleanBlock,drawTable,drawHorizontalRule,undo,redo,toggleSideBySide,toggleFullScreen},shortcuts={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},getBindingName=function(Fe){for(var en in bindings)if(bindings[en]===Fe)return en;return null},isMobile=function(){var Fe=!1;return function(en){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(en)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(en.substr(0,4)))&&(Fe=!0)}(navigator.userAgent||navigator.vendor||window.opera),Fe};function addAnchorTargetBlank(Fe){for(var en;(en=anchorToExternalRegex.exec(Fe))!==null;){var tn=en[0];if(tn.indexOf("target=")===-1){var nn=tn.replace(/>$/,' target="_blank">');Fe=Fe.replace(tn,nn)}}return Fe}function removeListStyleWhenCheckbox(Fe){for(var en=new DOMParser,tn=en.parseFromString(Fe,"text/html"),nn=tn.getElementsByTagName("li"),rn=0;rn<nn.length;rn++)for(var an=nn[rn],ln=0;ln<an.children.length;ln++){var cn=an.children[ln];cn instanceof HTMLInputElement&&cn.type==="checkbox"&&(an.style.marginLeft="-1.5em",an.style.listStyleType="none")}return tn.documentElement.innerHTML}function fixShortcut(Fe){return isMac?Fe=Fe.replace("Ctrl","Cmd"):Fe=Fe.replace("Cmd","Ctrl"),Fe}function createToolbarDropdown(Fe,en,tn,nn){var rn=createToolbarButton(Fe,!1,en,tn,"button",nn);rn.classList.add("easymde-dropdown"),rn.onclick=function(){rn.focus()};var an=document.createElement("div");an.className="easymde-dropdown-content";for(var ln=0;ln<Fe.children.length;ln++){var cn=Fe.children[ln],un;typeof cn=="string"&&cn in toolbarBuiltInButtons?un=createToolbarButton(toolbarBuiltInButtons[cn],!0,en,tn,"button",nn):un=createToolbarButton(cn,!0,en,tn,"button",nn),un.addEventListener("click",function(fn){fn.stopPropagation()},!1),an.appendChild(un)}return rn.appendChild(an),rn}function createToolbarButton(Fe,en,tn,nn,rn,an){Fe=Fe||{};var ln=document.createElement(rn);if(Fe.attributes)for(var cn in Fe.attributes)Object.prototype.hasOwnProperty.call(Fe.attributes,cn)&&ln.setAttribute(cn,Fe.attributes[cn]);var un=an.options.toolbarButtonClassPrefix?an.options.toolbarButtonClassPrefix+"-":"";ln.className=un+Fe.name,ln.setAttribute("type",rn),tn=tn??!0,Fe.text&&(ln.innerText=Fe.text),Fe.name&&Fe.name in nn&&(bindings[Fe.name]=Fe.action),Fe.title&&tn&&(ln.title=createTooltip(Fe.title,Fe.action,nn),isMac&&(ln.title=ln.title.replace("Ctrl","â"),ln.title=ln.title.replace("Alt","â¥"))),Fe.title&&ln.setAttribute("aria-label",Fe.title),Fe.noDisable&&ln.classList.add("no-disable"),Fe.noMobile&&ln.classList.add("no-mobile");var fn=[];typeof Fe.className<"u"&&(fn=Fe.className.split(" "));for(var hn=[],pn=0;pn<fn.length;pn++){var gn=fn[pn];gn.match(/^fa([srlb]|(-[\w-]*)|$)/)?hn.push(gn):ln.classList.add(gn)}if(ln.tabIndex=-1,hn.length>0){for(var mn=document.createElement("i"),_n=0;_n<hn.length;_n++){var kn=hn[_n];mn.classList.add(kn)}ln.appendChild(mn)}return typeof Fe.icon<"u"&&(ln.innerHTML=Fe.icon),Fe.action&&en&&(typeof Fe.action=="function"?ln.onclick=function(Cn){Cn.preventDefault(),Fe.action(an)}:typeof Fe.action=="string"&&(ln.onclick=function(Cn){Cn.preventDefault(),window.open(Fe.action,"_blank")})),ln}function createSep(){var Fe=document.createElement("i");return Fe.className="separator",Fe.innerHTML="|",Fe}function createTooltip(Fe,en,tn){var nn,rn=Fe;return en&&(nn=getBindingName(en),tn[nn]&&(rn+=" ("+fixShortcut(tn[nn])+")")),rn}function getState(Fe,en){en=en||Fe.getCursor("start");var tn=Fe.getTokenAt(en);if(!tn.type)return{};for(var nn=tn.type.split(" "),rn={},an,ln,cn=0;cn<nn.length;cn++)an=nn[cn],an==="strong"?rn.bold=!0:an==="variable-2"?(ln=Fe.getLine(en.line),/^\s*\d+\.\s/.test(ln)?rn["ordered-list"]=!0:rn["unordered-list"]=!0):an==="atom"?rn.quote=!0:an==="em"?rn.italic=!0:an==="quote"?rn.quote=!0:an==="strikethrough"?rn.strikethrough=!0:an==="comment"?rn.code=!0:an==="link"&&!rn.image?rn.link=!0:an==="image"?rn.image=!0:an.match(/^header(-[1-6])?$/)&&(rn[an.replace("header","heading")]=!0);return rn}var saved_overflow="";function toggleFullScreen(Fe){var en=Fe.codemirror;en.setOption("fullScreen",!en.getOption("fullScreen")),en.getOption("fullScreen")?(saved_overflow=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=saved_overflow;var tn=en.getWrapperElement(),nn=tn.nextSibling;if(nn.classList.contains("editor-preview-active-side"))if(Fe.options.sideBySideFullscreen===!1){var rn=tn.parentNode;en.getOption("fullScreen")?rn.classList.remove("sided--no-fullscreen"):rn.classList.add("sided--no-fullscreen")}else toggleSideBySide(Fe);if(Fe.options.onToggleFullScreen&&Fe.options.onToggleFullScreen(en.getOption("fullScreen")||!1),typeof Fe.options.maxHeight<"u"&&(en.getOption("fullScreen")?(en.getScrollerElement().style.removeProperty("height"),nn.style.removeProperty("height")):(en.getScrollerElement().style.height=Fe.options.maxHeight,Fe.setPreviewMaxHeight())),Fe.toolbar_div.classList.toggle("fullscreen"),Fe.toolbarElements&&Fe.toolbarElements.fullscreen){var an=Fe.toolbarElements.fullscreen;an.classList.toggle("active")}}function toggleBold(Fe){_toggleBlock(Fe,"bold",Fe.options.blockStyles.bold)}function toggleItalic(Fe){_toggleBlock(Fe,"italic",Fe.options.blockStyles.italic)}function toggleStrikethrough(Fe){_toggleBlock(Fe,"strikethrough","~~")}function toggleCodeBlock(Fe){var en=Fe.options.blockStyles.code;function tn(Qn){if(typeof Qn!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Qn+": "+Qn;return Qn.styles&&Qn.styles[2]&&Qn.styles[2].indexOf("formatting-code-block")!==-1}function nn(Qn){return Qn.state.base.base||Qn.state.base}function rn(Qn,Xn,jr,Wr,Jr){jr=jr||Qn.getLineHandle(Xn),Wr=Wr||Qn.getTokenAt({line:Xn,ch:1}),Jr=Jr||!!jr.text&&Qn.getTokenAt({line:Xn,ch:jr.text.length-1});var ci=Wr.type?Wr.type.split(" "):[];return Jr&&nn(Jr).indentedCode?"indented":ci.indexOf("comment")===-1?!1:nn(Wr).fencedChars||nn(Jr).fencedChars||tn(jr)?"fenced":"single"}function an(Qn,Xn,jr,Wr){var Jr=Xn.line+1,ci=jr.line+1,ti=Xn.line!==jr.line,Zr=Wr+`
`,Br=`
`+Wr;ti&&ci++,ti&&jr.ch===0&&(Br=Wr+`
`,ci--),_replaceSelection(Qn,!1,[Zr,Br]),Qn.setSelection({line:Jr,ch:0},{line:ci,ch:0})}var ln=Fe.codemirror,cn=ln.getCursor("start"),un=ln.getCursor("end"),fn=ln.getTokenAt({line:cn.line,ch:cn.ch||1}),hn=ln.getLineHandle(cn.line),pn=rn(ln,cn.line,hn,fn),gn,mn,_n;if(pn==="single"){var kn=hn.text.slice(0,cn.ch).replace("`",""),Cn=hn.text.slice(cn.ch).replace("`","");ln.replaceRange(kn+Cn,{line:cn.line,ch:0},{line:cn.line,ch:99999999999999}),cn.ch--,cn!==un&&un.ch--,ln.setSelection(cn,un),ln.focus()}else if(pn==="fenced")if(cn.line!==un.line||cn.ch!==un.ch){for(gn=cn.line;gn>=0&&(hn=ln.getLineHandle(gn),!tn(hn));gn--);var xn=ln.getTokenAt({line:gn,ch:1}),Sn=nn(xn).fencedChars,Mn,In,On,Pn;tn(ln.getLineHandle(cn.line))?(Mn="",In=cn.line):tn(ln.getLineHandle(cn.line-1))?(Mn="",In=cn.line-1):(Mn=Sn+`
`,In=cn.line),tn(ln.getLineHandle(un.line))?(On="",Pn=un.line,un.ch===0&&(Pn+=1)):un.ch!==0&&tn(ln.getLineHandle(un.line+1))?(On="",Pn=un.line+1):(On=Sn+`
`,Pn=un.line+1),un.ch===0&&(Pn-=1),ln.operation(function(){ln.replaceRange(On,{line:Pn,ch:0},{line:Pn+(On?0:1),ch:0}),ln.replaceRange(Mn,{line:In,ch:0},{line:In+(Mn?0:1),ch:0})}),ln.setSelection({line:In+(Mn?1:0),ch:0},{line:Pn+(Mn?1:-1),ch:0}),ln.focus()}else{var Tn=cn.line;if(tn(ln.getLineHandle(cn.line))&&(rn(ln,cn.line+1)==="fenced"?(gn=cn.line,Tn=cn.line+1):(mn=cn.line,Tn=cn.line-1)),gn===void 0)for(gn=Tn;gn>=0&&(hn=ln.getLineHandle(gn),!tn(hn));gn--);if(mn===void 0)for(_n=ln.lineCount(),mn=Tn;mn<_n&&(hn=ln.getLineHandle(mn),!tn(hn));mn++);ln.operation(function(){ln.replaceRange("",{line:gn,ch:0},{line:gn+1,ch:0}),ln.replaceRange("",{line:mn-1,ch:0},{line:mn,ch:0})}),ln.focus()}else if(pn==="indented"){if(cn.line!==un.line||cn.ch!==un.ch)gn=cn.line,mn=un.line,un.ch===0&&mn--;else{for(gn=cn.line;gn>=0;gn--)if(hn=ln.getLineHandle(gn),!hn.text.match(/^\s*$/)&&rn(ln,gn,hn)!=="indented"){gn+=1;break}for(_n=ln.lineCount(),mn=cn.line;mn<_n;mn++)if(hn=ln.getLineHandle(mn),!hn.text.match(/^\s*$/)&&rn(ln,mn,hn)!=="indented"){mn-=1;break}}var Nn=ln.getLineHandle(mn+1),Hn=Nn&&ln.getTokenAt({line:mn+1,ch:Nn.text.length-1}),Un=Hn&&nn(Hn).indentedCode;Un&&ln.replaceRange(`
`,{line:mn+1,ch:0});for(var jn=gn;jn<=mn;jn++)ln.indentLine(jn,"subtract");ln.focus()}else{var Yn=cn.line===un.line&&cn.ch===un.ch&&cn.ch===0,Wn=cn.line!==un.line;Yn||Wn?an(ln,cn,un,en):_replaceSelection(ln,!1,["`","`"])}}function toggleBlockquote(Fe){_toggleLine(Fe.codemirror,"quote")}function toggleHeadingSmaller(Fe){_toggleHeading(Fe.codemirror,"smaller")}function toggleHeadingBigger(Fe){_toggleHeading(Fe.codemirror,"bigger")}function toggleHeading1(Fe){_toggleHeading(Fe.codemirror,void 0,1)}function toggleHeading2(Fe){_toggleHeading(Fe.codemirror,void 0,2)}function toggleHeading3(Fe){_toggleHeading(Fe.codemirror,void 0,3)}function toggleHeading4(Fe){_toggleHeading(Fe.codemirror,void 0,4)}function toggleHeading5(Fe){_toggleHeading(Fe.codemirror,void 0,5)}function toggleHeading6(Fe){_toggleHeading(Fe.codemirror,void 0,6)}function toggleUnorderedList(Fe){var en=Fe.codemirror,tn="*";["-","+","*"].includes(Fe.options.unorderedListStyle)&&(tn=Fe.options.unorderedListStyle),_toggleLine(en,"unordered-list",tn)}function toggleOrderedList(Fe){_toggleLine(Fe.codemirror,"ordered-list")}function cleanBlock(Fe){_cleanBlock(Fe.codemirror)}function drawLink(Fe){var en=Fe.options,tn="https://";if(en.promptURLs){var nn=prompt(en.promptTexts.link,tn);if(!nn)return!1;tn=escapePromptURL(nn)}_toggleLink(Fe,"link",en.insertTexts.link,tn)}function drawImage(Fe){var en=Fe.options,tn="https://";if(en.promptURLs){var nn=prompt(en.promptTexts.image,tn);if(!nn)return!1;tn=escapePromptURL(nn)}_toggleLink(Fe,"image",en.insertTexts.image,tn)}function escapePromptURL(Fe){return encodeURI(Fe).replace(/([\\()])/g,"\\$1")}function drawUploadedImage(Fe){Fe.openBrowseFileWindow()}function afterImageUploaded(Fe,en){var tn=Fe.codemirror,nn=getState(tn),rn=Fe.options,an=en.substr(en.lastIndexOf("/")+1),ln=an.substring(an.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(ln))_replaceSelection(tn,nn.image,rn.insertTexts.uploadedImage,en);else{var cn=rn.insertTexts.link;cn[0]="["+an,_replaceSelection(tn,nn.link,cn,en)}Fe.updateStatusBar("upload-image",Fe.options.imageTexts.sbOnUploaded.replace("#image_name#",an)),setTimeout(function(){Fe.updateStatusBar("upload-image",Fe.options.imageTexts.sbInit)},1e3)}function drawTable(Fe){var en=Fe.codemirror,tn=getState(en),nn=Fe.options;_replaceSelection(en,tn.table,nn.insertTexts.table)}function drawHorizontalRule(Fe){var en=Fe.codemirror,tn=getState(en),nn=Fe.options;_replaceSelection(en,tn.image,nn.insertTexts.horizontalRule)}function undo(Fe){var en=Fe.codemirror;en.undo(),en.focus()}function redo(Fe){var en=Fe.codemirror;en.redo(),en.focus()}function toggleSideBySide(Fe){var en=Fe.codemirror,tn=en.getWrapperElement(),nn=tn.nextSibling,rn=Fe.toolbarElements&&Fe.toolbarElements["side-by-side"],an=!1,ln=tn.parentNode;nn.classList.contains("editor-preview-active-side")?(Fe.options.sideBySideFullscreen===!1&&ln.classList.remove("sided--no-fullscreen"),nn.classList.remove("editor-preview-active-side"),rn&&rn.classList.remove("active"),tn.classList.remove("CodeMirror-sided")):(setTimeout(function(){en.getOption("fullScreen")||(Fe.options.sideBySideFullscreen===!1?ln.classList.add("sided--no-fullscreen"):toggleFullScreen(Fe)),nn.classList.add("editor-preview-active-side")},1),rn&&rn.classList.add("active"),tn.classList.add("CodeMirror-sided"),an=!0);var cn=tn.lastChild;if(cn.classList.contains("editor-preview-active")){cn.classList.remove("editor-preview-active");var un=Fe.toolbarElements.preview,fn=Fe.toolbar_div;un.classList.remove("active"),fn.classList.remove("disabled-for-preview")}var hn=function(){var gn=Fe.options.previewRender(Fe.value(),nn);gn!=null&&(nn.innerHTML=gn)};if(en.sideBySideRenderingFunction||(en.sideBySideRenderingFunction=hn),an){var pn=Fe.options.previewRender(Fe.value(),nn);pn!=null&&(nn.innerHTML=pn),en.on("update",en.sideBySideRenderingFunction)}else en.off("update",en.sideBySideRenderingFunction);en.refresh()}function togglePreview(Fe){var en=Fe.codemirror,tn=en.getWrapperElement(),nn=Fe.toolbar_div,rn=Fe.options.toolbar?Fe.toolbarElements.preview:!1,an=tn.lastChild,ln=en.getWrapperElement().nextSibling;if(ln.classList.contains("editor-preview-active-side")&&toggleSideBySide(Fe),!an||!an.classList.contains("editor-preview-full")){if(an=document.createElement("div"),an.className="editor-preview-full",Fe.options.previewClass)if(Array.isArray(Fe.options.previewClass))for(var cn=0;cn<Fe.options.previewClass.length;cn++)an.classList.add(Fe.options.previewClass[cn]);else typeof Fe.options.previewClass=="string"&&an.classList.add(Fe.options.previewClass);tn.appendChild(an)}an.classList.contains("editor-preview-active")?(an.classList.remove("editor-preview-active"),rn&&(rn.classList.remove("active"),nn.classList.remove("disabled-for-preview"))):(setTimeout(function(){an.classList.add("editor-preview-active")},1),rn&&(rn.classList.add("active"),nn.classList.add("disabled-for-preview")));var un=Fe.options.previewRender(Fe.value(),an);un!==null&&(an.innerHTML=un)}function _replaceSelection(Fe,en,tn,nn){if(!Fe.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var rn,an=tn[0],ln=tn[1],cn={},un={};Object.assign(cn,Fe.getCursor("start")),Object.assign(un,Fe.getCursor("end")),nn&&(an=an.replace("#url#",nn),ln=ln.replace("#url#",nn)),en?(rn=Fe.getLine(cn.line),an=rn.slice(0,cn.ch),ln=rn.slice(cn.ch),Fe.replaceRange(an+ln,{line:cn.line,ch:0})):(rn=Fe.getSelection(),Fe.replaceSelection(an+rn+ln),cn.ch+=an.length,cn!==un&&(un.ch+=an.length)),Fe.setSelection(cn,un),Fe.focus()}}function _toggleHeading(Fe,en,tn){if(!Fe.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var nn=Fe.getCursor("start"),rn=Fe.getCursor("end"),an=nn.line;an<=rn.line;an++)(function(ln){var cn=Fe.getLine(ln),un=cn.search(/[^#]/);en!==void 0?un<=0?en=="bigger"?cn="###### "+cn:cn="# "+cn:un==6&&en=="smaller"?cn=cn.substr(7):un==1&&en=="bigger"?cn=cn.substr(2):en=="bigger"?cn=cn.substr(1):cn="#"+cn:un<=0?cn="#".repeat(tn)+" "+cn:un==tn?cn=cn.substr(un+1):cn="#".repeat(tn)+" "+cn.substr(un+1),Fe.replaceRange(cn,{line:ln,ch:0},{line:ln,ch:99999999999999})})(an);Fe.focus()}}function _toggleLine(Fe,en,tn){if(!Fe.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var nn=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,rn=/^\s*/,an=getState(Fe),ln=Fe.getCursor("start"),cn=Fe.getCursor("end"),un={quote:/^(\s*)>\s+/,"unordered-list":nn,"ordered-list":nn},fn=function(_n,kn){var Cn={quote:">","unordered-list":tn,"ordered-list":"%%i."};return Cn[_n].replace("%%i",kn)},hn=function(_n,kn){var Cn={quote:">","unordered-list":"\\"+tn,"ordered-list":"\\d+."},xn=new RegExp(Cn[_n]);return kn&&xn.test(kn)},pn=function(_n,kn,Cn){var xn=nn.exec(kn),Sn=fn(_n,gn);return xn!==null?(hn(_n,xn[2])&&(Sn=""),kn=xn[1]+Sn+xn[3]+kn.replace(rn,"").replace(un[_n],"$1")):Cn==!1&&(kn=Sn+" "+kn),kn},gn=1,mn=ln.line;mn<=cn.line;mn++)(function(_n){var kn=Fe.getLine(_n);an[en]?kn=kn.replace(un[en],"$1"):(en=="unordered-list"&&(kn=pn("ordered-list",kn,!0)),kn=pn(en,kn,!1),gn+=1),Fe.replaceRange(kn,{line:_n,ch:0},{line:_n,ch:99999999999999})})(mn);Fe.focus()}}function _toggleLink(Fe,en,tn,nn){if(!(!Fe.codemirror||Fe.isPreviewActive())){var rn=Fe.codemirror,an=getState(rn),ln=an[en];if(!ln){_replaceSelection(rn,ln,tn,nn);return}var cn=rn.getCursor("start"),un=rn.getCursor("end"),fn=rn.getLine(cn.line),hn=fn.slice(0,cn.ch),pn=fn.slice(cn.ch);en=="link"?hn=hn.replace(/(.*)[^!]\[/,"$1"):en=="image"&&(hn=hn.replace(/(.*)!\[$/,"$1")),pn=pn.replace(/]\(.*?\)/,""),rn.replaceRange(hn+pn,{line:cn.line,ch:0},{line:cn.line,ch:99999999999999}),cn.ch-=tn[0].length,cn!==un&&(un.ch-=tn[0].length),rn.setSelection(cn,un),rn.focus()}}function _toggleBlock(Fe,en,tn,nn){if(!(!Fe.codemirror||Fe.isPreviewActive())){nn=typeof nn>"u"?tn:nn;var rn=Fe.codemirror,an=getState(rn),ln,cn=tn,un=nn,fn=rn.getCursor("start"),hn=rn.getCursor("end");an[en]?(ln=rn.getLine(fn.line),cn=ln.slice(0,fn.ch),un=ln.slice(fn.ch),en=="bold"?(cn=cn.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),un=un.replace(/(\*\*|__)/,"")):en=="italic"?(cn=cn.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),un=un.replace(/(\*|_)/,"")):en=="strikethrough"&&(cn=cn.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),un=un.replace(/(\*\*|~~)/,"")),rn.replaceRange(cn+un,{line:fn.line,ch:0},{line:fn.line,ch:99999999999999}),en=="bold"||en=="strikethrough"?(fn.ch-=2,fn!==hn&&(hn.ch-=2)):en=="italic"&&(fn.ch-=1,fn!==hn&&(hn.ch-=1))):(ln=rn.getSelection(),en=="bold"?(ln=ln.split("**").join(""),ln=ln.split("__").join("")):en=="italic"?(ln=ln.split("*").join(""),ln=ln.split("_").join("")):en=="strikethrough"&&(ln=ln.split("~~").join("")),rn.replaceSelection(cn+ln+un),fn.ch+=tn.length,hn.ch=fn.ch+ln.length),rn.setSelection(fn,hn),rn.focus()}}function _cleanBlock(Fe){if(!Fe.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var en=Fe.getCursor("start"),tn=Fe.getCursor("end"),nn,rn=en.line;rn<=tn.line;rn++)nn=Fe.getLine(rn),nn=nn.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),Fe.replaceRange(nn,{line:rn,ch:0},{line:rn,ch:99999999999999})}function humanFileSize(Fe,en){if(Math.abs(Fe)<1024)return""+Fe+en[0];var tn=0;do Fe/=1024,++tn;while(Math.abs(Fe)>=1024&&tn<en.length);return""+Fe.toFixed(1)+en[tn]}function _mergeProperties(Fe,en){for(var tn in en)Object.prototype.hasOwnProperty.call(en,tn)&&(en[tn]instanceof Array?Fe[tn]=en[tn].concat(Fe[tn]instanceof Array?Fe[tn]:[]):en[tn]!==null&&typeof en[tn]=="object"&&en[tn].constructor===Object?Fe[tn]=_mergeProperties(Fe[tn]||{},en[tn]):Fe[tn]=en[tn]);return Fe}function extend$2(Fe){for(var en=1;en<arguments.length;en++)Fe=_mergeProperties(Fe,arguments[en]);return Fe}function wordCount(Fe){var en=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,tn=Fe.match(en),nn=0;if(tn===null)return nn;for(var rn=0;rn<tn.length;rn++)tn[rn].charCodeAt(0)>=19968?nn+=tn[rn].length:nn+=1;return nn}var iconClassMap={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},toolbarBuiltInButtons={bold:{name:"bold",action:toggleBold,className:iconClassMap.bold,title:"Bold",default:!0},italic:{name:"italic",action:toggleItalic,className:iconClassMap.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:toggleStrikethrough,className:iconClassMap.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:toggleHeadingSmaller,className:iconClassMap.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:toggleHeadingSmaller,className:iconClassMap["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:toggleHeadingBigger,className:iconClassMap["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:toggleHeading1,className:iconClassMap["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:toggleHeading2,className:iconClassMap["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:toggleHeading3,className:iconClassMap["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:toggleCodeBlock,className:iconClassMap.code,title:"Code"},quote:{name:"quote",action:toggleBlockquote,className:iconClassMap.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:toggleUnorderedList,className:iconClassMap["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:toggleOrderedList,className:iconClassMap["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:cleanBlock,className:iconClassMap["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:drawLink,className:iconClassMap.link,title:"Create Link",default:!0},image:{name:"image",action:drawImage,className:iconClassMap.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:drawUploadedImage,className:iconClassMap["upload-image"],title:"Import an image"},table:{name:"table",action:drawTable,className:iconClassMap.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:drawHorizontalRule,className:iconClassMap["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:togglePreview,className:iconClassMap.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:toggleSideBySide,className:iconClassMap["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:toggleFullScreen,className:iconClassMap.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:iconClassMap.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:undo,className:iconClassMap.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:redo,className:iconClassMap.redo,noDisable:!0,title:"Redo"}},insertTexts={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},promptTexts={link:"URL for the link:",image:"URL of the image:"},timeFormat={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},blockStyles={bold:"**",code:"```",italic:"*"},imageTexts={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},errorMessages={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function EasyMDE(Fe){Fe=Fe||{},Fe.parent=this;var en=!0;if(Fe.autoDownloadFontAwesome===!1&&(en=!1),Fe.autoDownloadFontAwesome!==!0)for(var tn=document.styleSheets,nn=0;nn<tn.length;nn++)tn[nn].href&&tn[nn].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(en=!1);if(en){var rn=document.createElement("link");rn.rel="stylesheet",rn.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(rn)}if(Fe.element)this.element=Fe.element;else if(Fe.element===null){console.log("EasyMDE: Error. No element was found.");return}if(Fe.toolbar===void 0){Fe.toolbar=[];for(var an in toolbarBuiltInButtons)Object.prototype.hasOwnProperty.call(toolbarBuiltInButtons,an)&&(an.indexOf("separator-")!=-1&&Fe.toolbar.push("|"),(toolbarBuiltInButtons[an].default===!0||Fe.showIcons&&Fe.showIcons.constructor===Array&&Fe.showIcons.indexOf(an)!=-1)&&Fe.toolbar.push(an))}if(Object.prototype.hasOwnProperty.call(Fe,"previewClass")||(Fe.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(Fe,"status")||(Fe.status=["autosave","lines","words","cursor"],Fe.uploadImage&&Fe.status.unshift("upload-image")),Fe.previewRender||(Fe.previewRender=function(cn){return this.parent.markdown(cn)}),Fe.parsingConfig=extend$2({highlightFormatting:!0},Fe.parsingConfig||{}),Fe.insertTexts=extend$2({},insertTexts,Fe.insertTexts||{}),Fe.promptTexts=extend$2({},promptTexts,Fe.promptTexts||{}),Fe.blockStyles=extend$2({},blockStyles,Fe.blockStyles||{}),Fe.autosave!=null&&(Fe.autosave.timeFormat=extend$2({},timeFormat,Fe.autosave.timeFormat||{})),Fe.iconClassMap=extend$2({},iconClassMap,Fe.iconClassMap||{}),Fe.shortcuts=extend$2({},shortcuts,Fe.shortcuts||{}),Fe.maxHeight=Fe.maxHeight||void 0,Fe.direction=Fe.direction||"ltr",typeof Fe.maxHeight<"u"?Fe.minHeight=Fe.maxHeight:Fe.minHeight=Fe.minHeight||"300px",Fe.errorCallback=Fe.errorCallback||function(cn){alert(cn)},Fe.uploadImage=Fe.uploadImage||!1,Fe.imageMaxSize=Fe.imageMaxSize||2097152,Fe.imageAccept=Fe.imageAccept||"image/png, image/jpeg, image/gif, image/avif",Fe.imageTexts=extend$2({},imageTexts,Fe.imageTexts||{}),Fe.errorMessages=extend$2({},errorMessages,Fe.errorMessages||{}),Fe.imagePathAbsolute=Fe.imagePathAbsolute||!1,Fe.imageCSRFName=Fe.imageCSRFName||"csrfmiddlewaretoken",Fe.imageCSRFHeader=Fe.imageCSRFHeader||!1,Fe.autosave!=null&&Fe.autosave.unique_id!=null&&Fe.autosave.unique_id!=""&&(Fe.autosave.uniqueId=Fe.autosave.unique_id),Fe.overlayMode&&Fe.overlayMode.combine===void 0&&(Fe.overlayMode.combine=!0),this.options=Fe,this.render(),Fe.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(Fe.initialValue),Fe.uploadImage){var ln=this;this.codemirror.on("dragenter",function(cn,un){ln.updateStatusBar("upload-image",ln.options.imageTexts.sbOnDragEnter),un.stopPropagation(),un.preventDefault()}),this.codemirror.on("dragend",function(cn,un){ln.updateStatusBar("upload-image",ln.options.imageTexts.sbInit),un.stopPropagation(),un.preventDefault()}),this.codemirror.on("dragleave",function(cn,un){ln.updateStatusBar("upload-image",ln.options.imageTexts.sbInit),un.stopPropagation(),un.preventDefault()}),this.codemirror.on("dragover",function(cn,un){ln.updateStatusBar("upload-image",ln.options.imageTexts.sbOnDragEnter),un.stopPropagation(),un.preventDefault()}),this.codemirror.on("drop",function(cn,un){un.stopPropagation(),un.preventDefault(),Fe.imageUploadFunction?ln.uploadImagesUsingCustomFunction(Fe.imageUploadFunction,un.dataTransfer.files):ln.uploadImages(un.dataTransfer.files)}),this.codemirror.on("paste",function(cn,un){Fe.imageUploadFunction?ln.uploadImagesUsingCustomFunction(Fe.imageUploadFunction,un.clipboardData.files):ln.uploadImages(un.clipboardData.files)})}}EasyMDE.prototype.uploadImages=function(Fe,en,tn){if(Fe.length!==0){for(var nn=[],rn=0;rn<Fe.length;rn++)nn.push(Fe[rn].name),this.uploadImage(Fe[rn],en,tn);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",nn.join(", ")))}};EasyMDE.prototype.uploadImagesUsingCustomFunction=function(Fe,en){if(en.length!==0){for(var tn=[],nn=0;nn<en.length;nn++)tn.push(en[nn].name),this.uploadImageUsingCustomFunction(Fe,en[nn]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",tn.join(", ")))}};EasyMDE.prototype.updateStatusBar=function(Fe,en){if(this.gui.statusbar){var tn=this.gui.statusbar.getElementsByClassName(Fe);tn.length===1?this.gui.statusbar.getElementsByClassName(Fe)[0].textContent=en:tn.length===0?console.log("EasyMDE: status bar item "+Fe+" was not found."):console.log("EasyMDE: Several status bar items named "+Fe+" was found.")}};EasyMDE.prototype.markdown=function(Fe){if(marked){var en;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?en=this.options.renderingConfig.markedOptions:en={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?en.breaks=!1:en.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var tn=this.options.renderingConfig.hljs||window.hljs;tn&&(en.highlight=function(rn,an){return an&&tn.getLanguage(an)?tn.highlight(an,rn).value:tn.highlightAuto(rn).value})}marked.setOptions(en);var nn=marked.parse(Fe);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(nn=this.options.renderingConfig.sanitizerFunction.call(this,nn)),nn=addAnchorTargetBlank(nn),nn=removeListStyleWhenCheckbox(nn),nn}};EasyMDE.prototype.render=function(Fe){if(Fe||(Fe=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===Fe)return;this.element=Fe;var en=this.options,tn=this,nn={};for(var rn in en.shortcuts)en.shortcuts[rn]!==null&&bindings[rn]!==null&&function(Cn){nn[fixShortcut(en.shortcuts[Cn])]=function(){var xn=bindings[Cn];typeof xn=="function"?xn(tn):typeof xn=="string"&&window.open(xn,"_blank")}}(rn);nn.Enter="newlineAndIndentContinueMarkdownList",nn.Tab="tabAndIndentMarkdownList",nn["Shift-Tab"]="shiftTabAndUnindentMarkdownList",nn.Esc=function(Cn){Cn.getOption("fullScreen")&&toggleFullScreen(tn)},this.documentOnKeyDown=function(Cn){Cn=Cn||window.event,Cn.keyCode==27&&tn.codemirror.getOption("fullScreen")&&toggleFullScreen(tn)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var an,ln;en.overlayMode?(CodeMirror.defineMode("overlay-mode",function(Cn){return CodeMirror.overlayMode(CodeMirror.getMode(Cn,en.spellChecker!==!1?"spell-checker":"gfm"),en.overlayMode.mode,en.overlayMode.combine)}),an="overlay-mode",ln=en.parsingConfig,ln.gitHubSpice=!1):(an=en.parsingConfig,an.name="gfm",an.gitHubSpice=!1),en.spellChecker!==!1&&(an="spell-checker",ln=en.parsingConfig,ln.name="gfm",ln.gitHubSpice=!1,typeof en.spellChecker=="function"?en.spellChecker({codeMirrorInstance:CodeMirror}):CodeMirrorSpellChecker({codeMirrorInstance:CodeMirror}));function cn(Cn,xn,Sn){return{addNew:!1}}if(this.codemirror=CodeMirror.fromTextArea(Fe,{mode:an,backdrop:ln,theme:en.theme!=null?en.theme:"easymde",tabSize:en.tabSize!=null?en.tabSize:2,indentUnit:en.tabSize!=null?en.tabSize:2,indentWithTabs:en.indentWithTabs!==!1,lineNumbers:en.lineNumbers===!0,autofocus:en.autofocus===!0,extraKeys:nn,direction:en.direction,lineWrapping:en.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:en.placeholder||Fe.getAttribute("placeholder")||"",styleSelectedText:en.styleSelectedText!=null?en.styleSelectedText:!isMobile(),scrollbarStyle:en.scrollbarStyle!=null?en.scrollbarStyle:"native",configureMouse:cn,inputStyle:en.inputStyle!=null?en.inputStyle:isMobile()?"contenteditable":"textarea",spellcheck:en.nativeSpellcheck!=null?en.nativeSpellcheck:!0,autoRefresh:en.autoRefresh!=null?en.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=en.minHeight,typeof en.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=en.maxHeight),en.forceSync===!0){var un=this.codemirror;un.on("change",function(){un.save()})}this.gui={};var fn=document.createElement("div");fn.classList.add("EasyMDEContainer"),fn.setAttribute("role","application");var hn=this.codemirror.getWrapperElement();hn.parentNode.insertBefore(fn,hn),fn.appendChild(hn),en.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),en.status!==!1&&(this.gui.statusbar=this.createStatusbar()),en.autosave!=null&&en.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(tn._autosave_timeout),tn._autosave_timeout=setTimeout(function(){tn.autosave()},tn.options.autosave.submit_delay||tn.options.autosave.delay||1e3)}));function pn(Cn,xn){var Sn,Mn=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return Cn<Mn?Sn=xn+"px":Sn=xn/Cn*100+"%",Sn}var gn=this;function mn(Cn,xn){Cn.setAttribute("data-img-src",xn.url),Cn.setAttribute("style","--bg-image:url("+xn.url+");--width:"+xn.naturalWidth+"px;--height:"+pn(xn.naturalWidth,xn.naturalHeight)),gn.codemirror.setSize()}function _n(){en.previewImagesInEditor&&fn.querySelectorAll(".cm-image-marker").forEach(function(Cn){var xn=Cn.parentElement;if(xn.innerText.match(/^!\[.*?\]\(.*\)/g)&&!xn.hasAttribute("data-img-src")){var Sn=xn.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),Sn&&Sn.length>=2){var Mn=Sn[1];if(en.imagesPreviewHandler){var In=en.imagesPreviewHandler(Sn[1]);typeof In=="string"&&(Mn=In)}if(window.EMDEimagesCache[Mn])mn(xn,window.EMDEimagesCache[Mn]);else{var On=document.createElement("img");On.onload=function(){window.EMDEimagesCache[Mn]={naturalWidth:On.naturalWidth,naturalHeight:On.naturalHeight,url:Mn},mn(xn,window.EMDEimagesCache[Mn])},On.src=Mn}}}})}this.codemirror.on("update",function(){_n()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(en.autofocus===!0||Fe.autofocus)&&this.codemirror.focus();var kn=this.codemirror;setTimeout((function(){kn.refresh()}).bind(kn),0)};EasyMDE.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function isLocalStorageAvailable(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}EasyMDE.prototype.autosave=function(){if(isLocalStorageAvailable()){var Fe=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(Fe.element.form!=null&&Fe.element.form!=null&&Fe.element.form.addEventListener("submit",function(){clearTimeout(Fe.autosaveTimeoutId),Fe.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+Fe.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var en=Fe.value();en!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,en):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var tn=document.getElementById("autosaved");if(tn!=null&&tn!=null&&tn!=""){var nn=new Date,rn=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(nn),an=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;tn.innerHTML=an+rn}}else console.log("EasyMDE: localStorage not available, cannot autosave")};EasyMDE.prototype.clearAutosavedValue=function(){if(isLocalStorageAvailable()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};EasyMDE.prototype.openBrowseFileWindow=function(Fe,en){var tn=this,nn=this.gui.toolbar.getElementsByClassName("imageInput")[0];nn.click();function rn(an){tn.options.imageUploadFunction?tn.uploadImagesUsingCustomFunction(tn.options.imageUploadFunction,an.target.files):tn.uploadImages(an.target.files,Fe,en),nn.removeEventListener("change",rn)}nn.addEventListener("change",rn)};EasyMDE.prototype.uploadImage=function(Fe,en,tn){var nn=this;en=en||function(fn){afterImageUploaded(nn,fn)};function rn(un){nn.updateStatusBar("upload-image",un),setTimeout(function(){nn.updateStatusBar("upload-image",nn.options.imageTexts.sbInit)},1e4),tn&&typeof tn=="function"&&tn(un),nn.options.errorCallback(un)}function an(un){var fn=nn.options.imageTexts.sizeUnits.split(",");return un.replace("#image_name#",Fe.name).replace("#image_size#",humanFileSize(Fe.size,fn)).replace("#image_max_size#",humanFileSize(nn.options.imageMaxSize,fn))}if(Fe.size>this.options.imageMaxSize){rn(an(this.options.errorMessages.fileTooLarge));return}var ln=new FormData;ln.append("image",Fe),nn.options.imageCSRFToken&&!nn.options.imageCSRFHeader&&ln.append(nn.options.imageCSRFName,nn.options.imageCSRFToken);var cn=new XMLHttpRequest;cn.upload.onprogress=function(un){if(un.lengthComputable){var fn=""+Math.round(un.loaded*100/un.total);nn.updateStatusBar("upload-image",nn.options.imageTexts.sbProgress.replace("#file_name#",Fe.name).replace("#progress#",fn))}},cn.open("POST",this.options.imageUploadEndpoint),nn.options.imageCSRFToken&&nn.options.imageCSRFHeader&&cn.setRequestHeader(nn.options.imageCSRFName,nn.options.imageCSRFToken),cn.onload=function(){try{var un=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),rn(an(nn.options.errorMessages.importError));return}this.status===200&&un&&!un.error&&un.data&&un.data.filePath?en((nn.options.imagePathAbsolute?"":window.location.origin+"/")+un.data.filePath):un.error&&un.error in nn.options.errorMessages?rn(an(nn.options.errorMessages[un.error])):un.error?rn(an(un.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),rn(an(nn.options.errorMessages.importError)))},cn.onerror=function(un){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+un.target.status+" ("+un.target.statusText+")"),rn(nn.options.errorMessages.importError)},cn.send(ln)};EasyMDE.prototype.uploadImageUsingCustomFunction=function(Fe,en){var tn=this;function nn(ln){afterImageUploaded(tn,ln)}function rn(ln){var cn=an(ln);tn.updateStatusBar("upload-image",cn),setTimeout(function(){tn.updateStatusBar("upload-image",tn.options.imageTexts.sbInit)},1e4),tn.options.errorCallback(cn)}function an(ln){var cn=tn.options.imageTexts.sizeUnits.split(",");return ln.replace("#image_name#",en.name).replace("#image_size#",humanFileSize(en.size,cn)).replace("#image_max_size#",humanFileSize(tn.options.imageMaxSize,cn))}Fe.apply(this,[en,nn,rn])};EasyMDE.prototype.setPreviewMaxHeight=function(){var Fe=this.codemirror,en=Fe.getWrapperElement(),tn=en.nextSibling,nn=parseInt(window.getComputedStyle(en).paddingTop),rn=parseInt(window.getComputedStyle(en).borderTopWidth),an=parseInt(this.options.maxHeight),ln=an+nn*2+rn*2,cn=ln.toString()+"px";tn.style.height=cn};EasyMDE.prototype.createSideBySide=function(){var Fe=this.codemirror,en=Fe.getWrapperElement(),tn=en.nextSibling;if(!tn||!tn.classList.contains("editor-preview-side")){if(tn=document.createElement("div"),tn.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var nn=0;nn<this.options.previewClass.length;nn++)tn.classList.add(this.options.previewClass[nn]);else typeof this.options.previewClass=="string"&&tn.classList.add(this.options.previewClass);en.parentNode.insertBefore(tn,en.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return tn;var rn=!1,an=!1;return Fe.on("scroll",function(ln){if(rn){rn=!1;return}an=!0;var cn=ln.getScrollInfo().height-ln.getScrollInfo().clientHeight,un=parseFloat(ln.getScrollInfo().top)/cn,fn=(tn.scrollHeight-tn.clientHeight)*un;tn.scrollTop=fn}),tn.onscroll=function(){if(an){an=!1;return}rn=!0;var ln=tn.scrollHeight-tn.clientHeight,cn=parseFloat(tn.scrollTop)/ln,un=(Fe.getScrollInfo().height-Fe.getScrollInfo().clientHeight)*cn;Fe.scrollTo(0,un)},tn};EasyMDE.prototype.createToolbar=function(Fe){if(Fe=Fe||this.options.toolbar,!(!Fe||Fe.length===0)){var en;for(en=0;en<Fe.length;en++)toolbarBuiltInButtons[Fe[en]]!=null&&(Fe[en]=toolbarBuiltInButtons[Fe[en]]);var tn=document.createElement("div");tn.className="editor-toolbar",tn.setAttribute("role","toolbar");var nn=this,rn={};for(nn.toolbar=Fe,en=0;en<Fe.length;en++)if(!(Fe[en].name=="guide"&&nn.options.toolbarGuideIcon===!1)&&!(nn.options.hideIcons&&nn.options.hideIcons.indexOf(Fe[en].name)!=-1)&&!((Fe[en].name=="fullscreen"||Fe[en].name=="side-by-side")&&isMobile())){if(Fe[en]==="|"){for(var an=!1,ln=en+1;ln<Fe.length;ln++)Fe[ln]!=="|"&&(!nn.options.hideIcons||nn.options.hideIcons.indexOf(Fe[ln].name)==-1)&&(an=!0);if(!an)continue}(function(fn){var hn;if(fn==="|"?hn=createSep():fn.children?hn=createToolbarDropdown(fn,nn.options.toolbarTips,nn.options.shortcuts,nn):hn=createToolbarButton(fn,!0,nn.options.toolbarTips,nn.options.shortcuts,"button",nn),rn[fn.name||fn]=hn,tn.appendChild(hn),fn.name==="upload-image"){var pn=document.createElement("input");pn.className="imageInput",pn.type="file",pn.multiple=!0,pn.name="image",pn.accept=nn.options.imageAccept,pn.style.display="none",pn.style.opacity=0,tn.appendChild(pn)}})(Fe[en])}nn.toolbar_div=tn,nn.toolbarElements=rn;var cn=this.codemirror;cn.on("cursorActivity",function(){var fn=getState(cn);for(var hn in rn)(function(pn){var gn=rn[pn];fn[pn]?gn.classList.add("active"):pn!="fullscreen"&&pn!="side-by-side"&&gn.classList.remove("active")})(hn)});var un=cn.getWrapperElement();return un.parentNode.insertBefore(tn,un),tn}};EasyMDE.prototype.createStatusbar=function(Fe){Fe=Fe||this.options.status;var en=this.options,tn=this.codemirror;if(!(!Fe||Fe.length===0)){var nn=[],rn,an,ln,cn;for(rn=0;rn<Fe.length;rn++)if(an=void 0,ln=void 0,cn=void 0,typeof Fe[rn]=="object")nn.push({className:Fe[rn].className,defaultValue:Fe[rn].defaultValue,onUpdate:Fe[rn].onUpdate,onActivity:Fe[rn].onActivity});else{var un=Fe[rn];un==="words"?(cn=function(mn){mn.innerHTML=wordCount(tn.getValue())},an=function(mn){mn.innerHTML=wordCount(tn.getValue())}):un==="lines"?(cn=function(mn){mn.innerHTML=tn.lineCount()},an=function(mn){mn.innerHTML=tn.lineCount()}):un==="cursor"?(cn=function(mn){mn.innerHTML="1:1"},ln=function(mn){var _n=tn.getCursor(),kn=_n.line+1,Cn=_n.ch+1;mn.innerHTML=kn+":"+Cn}):un==="autosave"?cn=function(mn){en.autosave!=null&&en.autosave.enabled===!0&&mn.setAttribute("id","autosaved")}:un==="upload-image"&&(cn=function(mn){mn.innerHTML=en.imageTexts.sbInit}),nn.push({className:un,defaultValue:cn,onUpdate:an,onActivity:ln})}var fn=document.createElement("div");for(fn.className="editor-statusbar",rn=0;rn<nn.length;rn++){var hn=nn[rn],pn=document.createElement("span");pn.className=hn.className,typeof hn.defaultValue=="function"&&hn.defaultValue(pn),typeof hn.onUpdate=="function"&&this.codemirror.on("update",function(mn,_n){return function(){_n.onUpdate(mn)}}(pn,hn)),typeof hn.onActivity=="function"&&this.codemirror.on("cursorActivity",function(mn,_n){return function(){_n.onActivity(mn)}}(pn,hn)),fn.appendChild(pn)}var gn=this.codemirror.getWrapperElement();return gn.parentNode.insertBefore(fn,gn.nextSibling),fn}};EasyMDE.prototype.value=function(Fe){var en=this.codemirror;if(Fe===void 0)return en.getValue();if(en.getDoc().setValue(Fe),this.isPreviewActive()){var tn=en.getWrapperElement(),nn=tn.lastChild,rn=this.options.previewRender(Fe,nn);rn!==null&&(nn.innerHTML=rn)}return this};EasyMDE.toggleBold=toggleBold;EasyMDE.toggleItalic=toggleItalic;EasyMDE.toggleStrikethrough=toggleStrikethrough;EasyMDE.toggleBlockquote=toggleBlockquote;EasyMDE.toggleHeadingSmaller=toggleHeadingSmaller;EasyMDE.toggleHeadingBigger=toggleHeadingBigger;EasyMDE.toggleHeading1=toggleHeading1;EasyMDE.toggleHeading2=toggleHeading2;EasyMDE.toggleHeading3=toggleHeading3;EasyMDE.toggleHeading4=toggleHeading4;EasyMDE.toggleHeading5=toggleHeading5;EasyMDE.toggleHeading6=toggleHeading6;EasyMDE.toggleCodeBlock=toggleCodeBlock;EasyMDE.toggleUnorderedList=toggleUnorderedList;EasyMDE.toggleOrderedList=toggleOrderedList;EasyMDE.cleanBlock=cleanBlock;EasyMDE.drawLink=drawLink;EasyMDE.drawImage=drawImage;EasyMDE.drawUploadedImage=drawUploadedImage;EasyMDE.drawTable=drawTable;EasyMDE.drawHorizontalRule=drawHorizontalRule;EasyMDE.undo=undo;EasyMDE.redo=redo;EasyMDE.togglePreview=togglePreview;EasyMDE.toggleSideBySide=toggleSideBySide;EasyMDE.toggleFullScreen=toggleFullScreen;EasyMDE.prototype.toggleBold=function(){toggleBold(this)};EasyMDE.prototype.toggleItalic=function(){toggleItalic(this)};EasyMDE.prototype.toggleStrikethrough=function(){toggleStrikethrough(this)};EasyMDE.prototype.toggleBlockquote=function(){toggleBlockquote(this)};EasyMDE.prototype.toggleHeadingSmaller=function(){toggleHeadingSmaller(this)};EasyMDE.prototype.toggleHeadingBigger=function(){toggleHeadingBigger(this)};EasyMDE.prototype.toggleHeading1=function(){toggleHeading1(this)};EasyMDE.prototype.toggleHeading2=function(){toggleHeading2(this)};EasyMDE.prototype.toggleHeading3=function(){toggleHeading3(this)};EasyMDE.prototype.toggleHeading4=function(){toggleHeading4(this)};EasyMDE.prototype.toggleHeading5=function(){toggleHeading5(this)};EasyMDE.prototype.toggleHeading6=function(){toggleHeading6(this)};EasyMDE.prototype.toggleCodeBlock=function(){toggleCodeBlock(this)};EasyMDE.prototype.toggleUnorderedList=function(){toggleUnorderedList(this)};EasyMDE.prototype.toggleOrderedList=function(){toggleOrderedList(this)};EasyMDE.prototype.cleanBlock=function(){cleanBlock(this)};EasyMDE.prototype.drawLink=function(){drawLink(this)};EasyMDE.prototype.drawImage=function(){drawImage(this)};EasyMDE.prototype.drawUploadedImage=function(){drawUploadedImage(this)};EasyMDE.prototype.drawTable=function(){drawTable(this)};EasyMDE.prototype.drawHorizontalRule=function(){drawHorizontalRule(this)};EasyMDE.prototype.undo=function(){undo(this)};EasyMDE.prototype.redo=function(){redo(this)};EasyMDE.prototype.togglePreview=function(){togglePreview(this)};EasyMDE.prototype.toggleSideBySide=function(){toggleSideBySide(this)};EasyMDE.prototype.toggleFullScreen=function(){toggleFullScreen(this)};EasyMDE.prototype.isPreviewActive=function(){var Fe=this.codemirror,en=Fe.getWrapperElement(),tn=en.lastChild;return tn.classList.contains("editor-preview-active")};EasyMDE.prototype.isSideBySideActive=function(){var Fe=this.codemirror,en=Fe.getWrapperElement(),tn=en.nextSibling;return tn.classList.contains("editor-preview-active-side")};EasyMDE.prototype.isFullscreenActive=function(){var Fe=this.codemirror;return Fe.getOption("fullScreen")};EasyMDE.prototype.getState=function(){var Fe=this.codemirror;return getState(Fe)};EasyMDE.prototype.toTextArea=function(){var Fe=this.codemirror,en=Fe.getWrapperElement(),tn=en.parentNode;tn&&(this.gui.toolbar&&tn.removeChild(this.gui.toolbar),this.gui.statusbar&&tn.removeChild(this.gui.statusbar),this.gui.sideBySide&&tn.removeChild(this.gui.sideBySide)),tn.parentNode.insertBefore(en,tn),tn.remove(),Fe.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var easymde=EasyMDE;const EasyMDE$1=getDefaultExportFromCjs(easymde);var ckeditor={exports:{}};ckeditor.exports;(function(Fe,en){(function(tn){const nn=tn.en=tn.en||{};nn.dictionary=Object.assign(nn.dictionary||{},{"%0 of %1":"%0 of %1","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerâroman":"Lowerâroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerâlatin list style":"Toggle the lowerâlatin list style","Toggle the lowerâroman list style":"Toggle the lowerâroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperâlatin list style":"Toggle the upperâlatin list style","Toggle the upperâroman list style":"Toggle the upperâroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(tn,nn){Fe.exports=nn()}(self,()=>(()=>{var tn={4959:(ln,cn,un)=>{const fn=un(1103),hn={};for(const gn of Object.keys(fn))hn[fn[gn]]=gn;const pn={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ln.exports=pn;for(const gn of Object.keys(pn)){if(!("channels"in pn[gn]))throw new Error("missing channels property: "+gn);if(!("labels"in pn[gn]))throw new Error("missing channel labels property: "+gn);if(pn[gn].labels.length!==pn[gn].channels)throw new Error("channel and label counts mismatch: "+gn);const{channels:mn,labels:_n}=pn[gn];delete pn[gn].channels,delete pn[gn].labels,Object.defineProperty(pn[gn],"channels",{value:mn}),Object.defineProperty(pn[gn],"labels",{value:_n})}pn.rgb.hsl=function(gn){const mn=gn[0]/255,_n=gn[1]/255,kn=gn[2]/255,Cn=Math.min(mn,_n,kn),xn=Math.max(mn,_n,kn),Sn=xn-Cn;let Mn,In;xn===Cn?Mn=0:mn===xn?Mn=(_n-kn)/Sn:_n===xn?Mn=2+(kn-mn)/Sn:kn===xn&&(Mn=4+(mn-_n)/Sn),Mn=Math.min(60*Mn,360),Mn<0&&(Mn+=360);const On=(Cn+xn)/2;return In=xn===Cn?0:On<=.5?Sn/(xn+Cn):Sn/(2-xn-Cn),[Mn,100*In,100*On]},pn.rgb.hsv=function(gn){let mn,_n,kn,Cn,xn;const Sn=gn[0]/255,Mn=gn[1]/255,In=gn[2]/255,On=Math.max(Sn,Mn,In),Pn=On-Math.min(Sn,Mn,In),Tn=function(Nn){return(On-Nn)/6/Pn+.5};return Pn===0?(Cn=0,xn=0):(xn=Pn/On,mn=Tn(Sn),_n=Tn(Mn),kn=Tn(In),Sn===On?Cn=kn-_n:Mn===On?Cn=.3333333333333333+mn-kn:In===On&&(Cn=.6666666666666666+_n-mn),Cn<0?Cn+=1:Cn>1&&(Cn-=1)),[360*Cn,100*xn,100*On]},pn.rgb.hwb=function(gn){const mn=gn[0],_n=gn[1];let kn=gn[2];const Cn=pn.rgb.hsl(gn)[0],xn=1/255*Math.min(mn,Math.min(_n,kn));return kn=1-.00392156862745098*Math.max(mn,Math.max(_n,kn)),[Cn,100*xn,100*kn]},pn.rgb.cmyk=function(gn){const mn=gn[0]/255,_n=gn[1]/255,kn=gn[2]/255,Cn=Math.min(1-mn,1-_n,1-kn);return[100*((1-mn-Cn)/(1-Cn)||0),100*((1-_n-Cn)/(1-Cn)||0),100*((1-kn-Cn)/(1-Cn)||0),100*Cn]},pn.rgb.keyword=function(gn){const mn=hn[gn];if(mn)return mn;let _n,kn=1/0;for(const Sn of Object.keys(fn)){const Mn=fn[Sn],In=(xn=Mn,((Cn=gn)[0]-xn[0])**2+(Cn[1]-xn[1])**2+(Cn[2]-xn[2])**2);In<kn&&(kn=In,_n=Sn)}var Cn,xn;return _n},pn.keyword.rgb=function(gn){return fn[gn]},pn.rgb.xyz=function(gn){let mn=gn[0]/255,_n=gn[1]/255,kn=gn[2]/255;return mn=mn>.04045?((mn+.055)/1.055)**2.4:mn/12.92,_n=_n>.04045?((_n+.055)/1.055)**2.4:_n/12.92,kn=kn>.04045?((kn+.055)/1.055)**2.4:kn/12.92,[100*(.4124*mn+.3576*_n+.1805*kn),100*(.2126*mn+.7152*_n+.0722*kn),100*(.0193*mn+.1192*_n+.9505*kn)]},pn.rgb.lab=function(gn){const mn=pn.rgb.xyz(gn);let _n=mn[0],kn=mn[1],Cn=mn[2];return _n/=95.047,kn/=100,Cn/=108.883,_n=_n>.008856?_n**.3333333333333333:7.787*_n+.13793103448275862,kn=kn>.008856?kn**.3333333333333333:7.787*kn+.13793103448275862,Cn=Cn>.008856?Cn**.3333333333333333:7.787*Cn+.13793103448275862,[116*kn-16,500*(_n-kn),200*(kn-Cn)]},pn.hsl.rgb=function(gn){const mn=gn[0]/360,_n=gn[1]/100,kn=gn[2]/100;let Cn,xn,Sn;if(_n===0)return Sn=255*kn,[Sn,Sn,Sn];Cn=kn<.5?kn*(1+_n):kn+_n-kn*_n;const Mn=2*kn-Cn,In=[0,0,0];for(let On=0;On<3;On++)xn=mn+.3333333333333333*-(On-1),xn<0&&xn++,xn>1&&xn--,Sn=6*xn<1?Mn+6*(Cn-Mn)*xn:2*xn<1?Cn:3*xn<2?Mn+(Cn-Mn)*(.6666666666666666-xn)*6:Mn,In[On]=255*Sn;return In},pn.hsl.hsv=function(gn){const mn=gn[0];let _n=gn[1]/100,kn=gn[2]/100,Cn=_n;const xn=Math.max(kn,.01);return kn*=2,_n*=kn<=1?kn:2-kn,Cn*=xn<=1?xn:2-xn,[mn,100*(kn===0?2*Cn/(xn+Cn):2*_n/(kn+_n)),100*((kn+_n)/2)]},pn.hsv.rgb=function(gn){const mn=gn[0]/60,_n=gn[1]/100;let kn=gn[2]/100;const Cn=Math.floor(mn)%6,xn=mn-Math.floor(mn),Sn=255*kn*(1-_n),Mn=255*kn*(1-_n*xn),In=255*kn*(1-_n*(1-xn));switch(kn*=255,Cn){case 0:return[kn,In,Sn];case 1:return[Mn,kn,Sn];case 2:return[Sn,kn,In];case 3:return[Sn,Mn,kn];case 4:return[In,Sn,kn];case 5:return[kn,Sn,Mn]}},pn.hsv.hsl=function(gn){const mn=gn[0],_n=gn[1]/100,kn=gn[2]/100,Cn=Math.max(kn,.01);let xn,Sn;Sn=(2-_n)*kn;const Mn=(2-_n)*Cn;return xn=_n*Cn,xn/=Mn<=1?Mn:2-Mn,xn=xn||0,Sn/=2,[mn,100*xn,100*Sn]},pn.hwb.rgb=function(gn){const mn=gn[0]/360;let _n=gn[1]/100,kn=gn[2]/100;const Cn=_n+kn;let xn;Cn>1&&(_n/=Cn,kn/=Cn);const Sn=Math.floor(6*mn),Mn=1-kn;xn=6*mn-Sn,1&Sn&&(xn=1-xn);const In=_n+xn*(Mn-_n);let On,Pn,Tn;switch(Sn){default:case 6:case 0:On=Mn,Pn=In,Tn=_n;break;case 1:On=In,Pn=Mn,Tn=_n;break;case 2:On=_n,Pn=Mn,Tn=In;break;case 3:On=_n,Pn=In,Tn=Mn;break;case 4:On=In,Pn=_n,Tn=Mn;break;case 5:On=Mn,Pn=_n,Tn=In}return[255*On,255*Pn,255*Tn]},pn.cmyk.rgb=function(gn){const mn=gn[0]/100,_n=gn[1]/100,kn=gn[2]/100,Cn=gn[3]/100;return[255*(1-Math.min(1,mn*(1-Cn)+Cn)),255*(1-Math.min(1,_n*(1-Cn)+Cn)),255*(1-Math.min(1,kn*(1-Cn)+Cn))]},pn.xyz.rgb=function(gn){const mn=gn[0]/100,_n=gn[1]/100,kn=gn[2]/100;let Cn,xn,Sn;return Cn=3.2406*mn+-1.5372*_n+-.4986*kn,xn=-.9689*mn+1.8758*_n+.0415*kn,Sn=.0557*mn+-.204*_n+1.057*kn,Cn=Cn>.0031308?1.055*Cn**.4166666666666667-.055:12.92*Cn,xn=xn>.0031308?1.055*xn**.4166666666666667-.055:12.92*xn,Sn=Sn>.0031308?1.055*Sn**.4166666666666667-.055:12.92*Sn,Cn=Math.min(Math.max(0,Cn),1),xn=Math.min(Math.max(0,xn),1),Sn=Math.min(Math.max(0,Sn),1),[255*Cn,255*xn,255*Sn]},pn.xyz.lab=function(gn){let mn=gn[0],_n=gn[1],kn=gn[2];return mn/=95.047,_n/=100,kn/=108.883,mn=mn>.008856?mn**.3333333333333333:7.787*mn+.13793103448275862,_n=_n>.008856?_n**.3333333333333333:7.787*_n+.13793103448275862,kn=kn>.008856?kn**.3333333333333333:7.787*kn+.13793103448275862,[116*_n-16,500*(mn-_n),200*(_n-kn)]},pn.lab.xyz=function(gn){let mn,_n,kn;_n=(gn[0]+16)/116,mn=gn[1]/500+_n,kn=_n-gn[2]/200;const Cn=_n**3,xn=mn**3,Sn=kn**3;return _n=Cn>.008856?Cn:(_n-.13793103448275862)/7.787,mn=xn>.008856?xn:(mn-.13793103448275862)/7.787,kn=Sn>.008856?Sn:(kn-.13793103448275862)/7.787,mn*=95.047,_n*=100,kn*=108.883,[mn,_n,kn]},pn.lab.lch=function(gn){const mn=gn[0],_n=gn[1],kn=gn[2];let Cn;return Cn=360*Math.atan2(kn,_n)/2/Math.PI,Cn<0&&(Cn+=360),[mn,Math.sqrt(_n*_n+kn*kn),Cn]},pn.lch.lab=function(gn){const mn=gn[0],_n=gn[1],kn=gn[2]/360*2*Math.PI;return[mn,_n*Math.cos(kn),_n*Math.sin(kn)]},pn.rgb.ansi16=function(gn,mn=null){const[_n,kn,Cn]=gn;let xn=mn===null?pn.rgb.hsv(gn)[2]:mn;if(xn=Math.round(xn/50),xn===0)return 30;let Sn=30+(Math.round(Cn/255)<<2|Math.round(kn/255)<<1|Math.round(_n/255));return xn===2&&(Sn+=60),Sn},pn.hsv.ansi16=function(gn){return pn.rgb.ansi16(pn.hsv.rgb(gn),gn[2])},pn.rgb.ansi256=function(gn){const mn=gn[0],_n=gn[1],kn=gn[2];return mn===_n&&_n===kn?mn<8?16:mn>248?231:Math.round((mn-8)/247*24)+232:16+36*Math.round(mn/255*5)+6*Math.round(_n/255*5)+Math.round(kn/255*5)},pn.ansi16.rgb=function(gn){let mn=gn%10;if(mn===0||mn===7)return gn>50&&(mn+=3.5),mn=mn/10.5*255,[mn,mn,mn];const _n=.5*(1+~~(gn>50));return[(1&mn)*_n*255,(mn>>1&1)*_n*255,(mn>>2&1)*_n*255]},pn.ansi256.rgb=function(gn){if(gn>=232){const _n=10*(gn-232)+8;return[_n,_n,_n]}let mn;return gn-=16,[Math.floor(gn/36)/5*255,Math.floor((mn=gn%36)/6)/5*255,mn%6/5*255]},pn.rgb.hex=function(gn){const mn=(((255&Math.round(gn[0]))<<16)+((255&Math.round(gn[1]))<<8)+(255&Math.round(gn[2]))).toString(16).toUpperCase();return"000000".substring(mn.length)+mn},pn.hex.rgb=function(gn){const mn=gn.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!mn)return[0,0,0];let _n=mn[0];mn[0].length===3&&(_n=_n.split("").map(Cn=>Cn+Cn).join(""));const kn=parseInt(_n,16);return[kn>>16&255,kn>>8&255,255&kn]},pn.rgb.hcg=function(gn){const mn=gn[0]/255,_n=gn[1]/255,kn=gn[2]/255,Cn=Math.max(Math.max(mn,_n),kn),xn=Math.min(Math.min(mn,_n),kn),Sn=Cn-xn;let Mn,In;return Mn=Sn<1?xn/(1-Sn):0,In=Sn<=0?0:Cn===mn?(_n-kn)/Sn%6:Cn===_n?2+(kn-mn)/Sn:4+(mn-_n)/Sn,In/=6,In%=1,[360*In,100*Sn,100*Mn]},pn.hsl.hcg=function(gn){const mn=gn[1]/100,_n=gn[2]/100,kn=_n<.5?2*mn*_n:2*mn*(1-_n);let Cn=0;return kn<1&&(Cn=(_n-.5*kn)/(1-kn)),[gn[0],100*kn,100*Cn]},pn.hsv.hcg=function(gn){const mn=gn[1]/100,_n=gn[2]/100,kn=mn*_n;let Cn=0;return kn<1&&(Cn=(_n-kn)/(1-kn)),[gn[0],100*kn,100*Cn]},pn.hcg.rgb=function(gn){const mn=gn[0]/360,_n=gn[1]/100,kn=gn[2]/100;if(_n===0)return[255*kn,255*kn,255*kn];const Cn=[0,0,0],xn=mn%1*6,Sn=xn%1,Mn=1-Sn;let In=0;switch(Math.floor(xn)){case 0:Cn[0]=1,Cn[1]=Sn,Cn[2]=0;break;case 1:Cn[0]=Mn,Cn[1]=1,Cn[2]=0;break;case 2:Cn[0]=0,Cn[1]=1,Cn[2]=Sn;break;case 3:Cn[0]=0,Cn[1]=Mn,Cn[2]=1;break;case 4:Cn[0]=Sn,Cn[1]=0,Cn[2]=1;break;default:Cn[0]=1,Cn[1]=0,Cn[2]=Mn}return In=(1-_n)*kn,[255*(_n*Cn[0]+In),255*(_n*Cn[1]+In),255*(_n*Cn[2]+In)]},pn.hcg.hsv=function(gn){const mn=gn[1]/100,_n=mn+gn[2]/100*(1-mn);let kn=0;return _n>0&&(kn=mn/_n),[gn[0],100*kn,100*_n]},pn.hcg.hsl=function(gn){const mn=gn[1]/100,_n=gn[2]/100*(1-mn)+.5*mn;let kn=0;return _n>0&&_n<.5?kn=mn/(2*_n):_n>=.5&&_n<1&&(kn=mn/(2*(1-_n))),[gn[0],100*kn,100*_n]},pn.hcg.hwb=function(gn){const mn=gn[1]/100,_n=mn+gn[2]/100*(1-mn);return[gn[0],100*(_n-mn),100*(1-_n)]},pn.hwb.hcg=function(gn){const mn=gn[1]/100,_n=1-gn[2]/100,kn=_n-mn;let Cn=0;return kn<1&&(Cn=(_n-kn)/(1-kn)),[gn[0],100*kn,100*Cn]},pn.apple.rgb=function(gn){return[gn[0]/65535*255,gn[1]/65535*255,gn[2]/65535*255]},pn.rgb.apple=function(gn){return[gn[0]/255*65535,gn[1]/255*65535,gn[2]/255*65535]},pn.gray.rgb=function(gn){return[gn[0]/100*255,gn[0]/100*255,gn[0]/100*255]},pn.gray.hsl=function(gn){return[0,0,gn[0]]},pn.gray.hsv=pn.gray.hsl,pn.gray.hwb=function(gn){return[0,100,gn[0]]},pn.gray.cmyk=function(gn){return[0,0,0,gn[0]]},pn.gray.lab=function(gn){return[gn[0],0,0]},pn.gray.hex=function(gn){const mn=255&Math.round(gn[0]/100*255),_n=((mn<<16)+(mn<<8)+mn).toString(16).toUpperCase();return"000000".substring(_n.length)+_n},pn.rgb.gray=function(gn){return[(gn[0]+gn[1]+gn[2])/3/255*100]}},841:(ln,cn,un)=>{const fn=un(4959),hn=un(9325),pn={};Object.keys(fn).forEach(gn=>{pn[gn]={},Object.defineProperty(pn[gn],"channels",{value:fn[gn].channels}),Object.defineProperty(pn[gn],"labels",{value:fn[gn].labels});const mn=hn(gn);Object.keys(mn).forEach(_n=>{const kn=mn[_n];pn[gn][_n]=function(Cn){const xn=function(...Sn){const Mn=Sn[0];if(Mn==null)return Mn;Mn.length>1&&(Sn=Mn);const In=Cn(Sn);if(typeof In=="object")for(let On=In.length,Pn=0;Pn<On;Pn++)In[Pn]=Math.round(In[Pn]);return In};return"conversion"in Cn&&(xn.conversion=Cn.conversion),xn}(kn),pn[gn][_n].raw=function(Cn){const xn=function(...Sn){const Mn=Sn[0];return Mn==null?Mn:(Mn.length>1&&(Sn=Mn),Cn(Sn))};return"conversion"in Cn&&(xn.conversion=Cn.conversion),xn}(kn)})}),ln.exports=pn},9325:(ln,cn,un)=>{const fn=un(4959);function hn(mn){const _n=function(){const Cn={},xn=Object.keys(fn);for(let Sn=xn.length,Mn=0;Mn<Sn;Mn++)Cn[xn[Mn]]={distance:-1,parent:null};return Cn}(),kn=[mn];for(_n[mn].distance=0;kn.length;){const Cn=kn.pop(),xn=Object.keys(fn[Cn]);for(let Sn=xn.length,Mn=0;Mn<Sn;Mn++){const In=xn[Mn],On=_n[In];On.distance===-1&&(On.distance=_n[Cn].distance+1,On.parent=Cn,kn.unshift(In))}}return _n}function pn(mn,_n){return function(kn){return _n(mn(kn))}}function gn(mn,_n){const kn=[_n[mn].parent,mn];let Cn=fn[_n[mn].parent][mn],xn=_n[mn].parent;for(;_n[xn].parent;)kn.unshift(_n[xn].parent),Cn=pn(fn[_n[xn].parent][xn],Cn),xn=_n[xn].parent;return Cn.conversion=kn,Cn}ln.exports=function(mn){const _n=hn(mn),kn={},Cn=Object.keys(_n);for(let xn=Cn.length,Sn=0;Sn<xn;Sn++){const Mn=Cn[Sn];_n[Mn].parent!==null&&(kn[Mn]=gn(Mn,_n))}return kn}},1103:ln=>{ln.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const mn=gn},3062:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const mn=gn},903:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const mn=gn},3143:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},4717:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const mn=gn},9315:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const mn=gn},8733:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const mn=gn},3508:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const mn=gn},2640:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const mn=gn},3535:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const mn=gn},1568:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const mn=gn},6270:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const mn=gn},5083:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},4036:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const mn=gn},3773:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const mn=gn},3689:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const mn=gn},1905:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},9773:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const mn=gn},2347:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},7754:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},111:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const mn=gn},4721:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const mn=gn},5730:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const mn=gn},4564:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},6082:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const mn=gn},2417:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const mn=gn},1199:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const mn=gn},4652:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const mn=gn},7442:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readâonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},9292:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},7368:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},4070:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},9247:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const mn=gn},1613:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const mn=gn},6306:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const mn=gn},2128:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-color-table-caption-background:#f7f7f7;--ck-color-table-caption-text:#333;--ck-color-table-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-table-caption-background);caption-side:top;color:var(--ck-color-table-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-table-caption-highlighted-background)}to{background-color:var(--ck-color-table-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAMC,yDAA0D,CAJ1D,gBAAiB,CAGjB,wCAAyC,CAJzC,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-caption-background: hsl(0, 0%, 97%);
	--ck-color-table-caption-text: hsl(0, 0%, 20%);
	--ck-color-table-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-table-caption-text);
	background-color: var(--ck-color-table-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-table-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-table-caption-background);
	}
}
`],sourceRoot:""}]);const mn=gn},5087:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},4101:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,iEAAkE,CAClE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,2DAA4D,CAC5D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-table-column-resizer-hover);
	opacity: 0.25;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const mn=gn},3881:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const mn=gn},6237:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},7341:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},6945:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},4906:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const mn=gn},5332:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingâpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const mn=gn},6781:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const mn=gn},3398:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAMD,CAJC,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const mn=gn},5485:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},3949:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},7686:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},7339:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const mn=gn},9688:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const mn=gn},8847:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const mn=gn},6574:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},4879:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const mn=gn},3662:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const mn=gn},2577:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},1046:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},8793:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const mn=gn},4650:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const mn=gn},7676:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const mn=gn},5868:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const mn=gn},6764:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const mn=gn},9695:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const mn=gn},5542:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const mn=gn},3332:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const mn=gn},4793:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const mn=gn},3488:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const mn=gn},8506:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const mn=gn},4921:(ln,cn,un)=>{un.d(cn,{Z:()=>mn});var fn=un(1799),hn=un.n(fn),pn=un(2609),gn=un.n(pn)()(hn());gn.push([ln.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const mn=gn},2609:ln=>{ln.exports=function(cn){var un=[];return un.toString=function(){return this.map(function(fn){var hn=cn(fn);return fn[2]?"@media ".concat(fn[2]," {").concat(hn,"}"):hn}).join("")},un.i=function(fn,hn,pn){typeof fn=="string"&&(fn=[[null,fn,""]]);var gn={};if(pn)for(var mn=0;mn<this.length;mn++){var _n=this[mn][0];_n!=null&&(gn[_n]=!0)}for(var kn=0;kn<fn.length;kn++){var Cn=[].concat(fn[kn]);pn&&gn[Cn[0]]||(hn&&(Cn[2]?Cn[2]="".concat(hn," and ").concat(Cn[2]):Cn[2]=hn),un.push(Cn))}},un}},1799:ln=>{function cn(fn,hn){return function(pn){if(Array.isArray(pn))return pn}(fn)||function(pn,gn){var mn=pn&&(typeof Symbol<"u"&&pn[Symbol.iterator]||pn["@@iterator"]);if(mn!=null){var _n,kn,Cn=[],xn=!0,Sn=!1;try{for(mn=mn.call(pn);!(xn=(_n=mn.next()).done)&&(Cn.push(_n.value),!gn||Cn.length!==gn);xn=!0);}catch(Mn){Sn=!0,kn=Mn}finally{try{xn||mn.return==null||mn.return()}finally{if(Sn)throw kn}}return Cn}}(fn,hn)||function(pn,gn){if(pn){if(typeof pn=="string")return un(pn,gn);var mn=Object.prototype.toString.call(pn).slice(8,-1);if(mn==="Object"&&pn.constructor&&(mn=pn.constructor.name),mn==="Map"||mn==="Set")return Array.from(pn);if(mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mn))return un(pn,gn)}}(fn,hn)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function un(fn,hn){(hn==null||hn>fn.length)&&(hn=fn.length);for(var pn=0,gn=new Array(hn);pn<hn;pn++)gn[pn]=fn[pn];return gn}ln.exports=function(fn){var hn=cn(fn,4),pn=hn[1],gn=hn[3];if(!gn)return pn;if(typeof btoa=="function"){var mn=btoa(unescape(encodeURIComponent(JSON.stringify(gn)))),_n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(mn),kn="/*# ".concat(_n," */"),Cn=gn.sources.map(function(xn){return"/*# sourceURL=".concat(gn.sourceRoot||"").concat(xn," */")});return[pn].concat(Cn).concat([kn]).join(`
`)}return[pn].join(`
`)}},6062:(ln,cn,un)=>{var fn,hn=function(){return fn===void 0&&(fn=!!(window&&document&&document.all&&!window.atob)),fn},pn=function(){var Tn={};return function(Nn){if(Tn[Nn]===void 0){var Hn=document.querySelector(Nn);if(window.HTMLIFrameElement&&Hn instanceof window.HTMLIFrameElement)try{Hn=Hn.contentDocument.head}catch{Hn=null}Tn[Nn]=Hn}return Tn[Nn]}}(),gn=[];function mn(Tn){for(var Nn=-1,Hn=0;Hn<gn.length;Hn++)if(gn[Hn].identifier===Tn){Nn=Hn;break}return Nn}function _n(Tn,Nn){for(var Hn={},Un=[],jn=0;jn<Tn.length;jn++){var Yn=Tn[jn],Wn=Nn.base?Yn[0]+Nn.base:Yn[0],Qn=Hn[Wn]||0,Xn="".concat(Wn," ").concat(Qn);Hn[Wn]=Qn+1;var jr=mn(Xn),Wr={css:Yn[1],media:Yn[2],sourceMap:Yn[3]};jr!==-1?(gn[jr].references++,gn[jr].updater(Wr)):gn.push({identifier:Xn,updater:Pn(Wr,Nn),references:1}),Un.push(Xn)}return Un}function kn(Tn){var Nn=document.createElement("style"),Hn=Tn.attributes||{};if(Hn.nonce===void 0){var Un=un.nc;Un&&(Hn.nonce=Un)}if(Object.keys(Hn).forEach(function(Yn){Nn.setAttribute(Yn,Hn[Yn])}),typeof Tn.insert=="function")Tn.insert(Nn);else{var jn=pn(Tn.insert||"head");if(!jn)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");jn.appendChild(Nn)}return Nn}var Cn,xn=(Cn=[],function(Tn,Nn){return Cn[Tn]=Nn,Cn.filter(Boolean).join(`
`)});function Sn(Tn,Nn,Hn,Un){var jn=Hn?"":Un.media?"@media ".concat(Un.media," {").concat(Un.css,"}"):Un.css;if(Tn.styleSheet)Tn.styleSheet.cssText=xn(Nn,jn);else{var Yn=document.createTextNode(jn),Wn=Tn.childNodes;Wn[Nn]&&Tn.removeChild(Wn[Nn]),Wn.length?Tn.insertBefore(Yn,Wn[Nn]):Tn.appendChild(Yn)}}function Mn(Tn,Nn,Hn){var Un=Hn.css,jn=Hn.media,Yn=Hn.sourceMap;if(jn?Tn.setAttribute("media",jn):Tn.removeAttribute("media"),Yn&&typeof btoa<"u"&&(Un+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Yn))))," */")),Tn.styleSheet)Tn.styleSheet.cssText=Un;else{for(;Tn.firstChild;)Tn.removeChild(Tn.firstChild);Tn.appendChild(document.createTextNode(Un))}}var In=null,On=0;function Pn(Tn,Nn){var Hn,Un,jn;if(Nn.singleton){var Yn=On++;Hn=In||(In=kn(Nn)),Un=Sn.bind(null,Hn,Yn,!1),jn=Sn.bind(null,Hn,Yn,!0)}else Hn=kn(Nn),Un=Mn.bind(null,Hn,Nn),jn=function(){(function(Wn){if(Wn.parentNode===null)return!1;Wn.parentNode.removeChild(Wn)})(Hn)};return Un(Tn),function(Wn){if(Wn){if(Wn.css===Tn.css&&Wn.media===Tn.media&&Wn.sourceMap===Tn.sourceMap)return;Un(Tn=Wn)}else jn()}}ln.exports=function(Tn,Nn){(Nn=Nn||{}).singleton||typeof Nn.singleton=="boolean"||(Nn.singleton=hn());var Hn=_n(Tn=Tn||[],Nn);return function(Un){if(Un=Un||[],Object.prototype.toString.call(Un)==="[object Array]"){for(var jn=0;jn<Hn.length;jn++){var Yn=mn(Hn[jn]);gn[Yn].references--}for(var Wn=_n(Un,Nn),Qn=0;Qn<Hn.length;Qn++){var Xn=mn(Hn[Qn]);gn[Xn].references===0&&(gn[Xn].updater(),gn.splice(Xn,1))}Hn=Wn}}}}},nn={};function rn(ln){var cn=nn[ln];if(cn!==void 0)return cn.exports;var un=nn[ln]={id:ln,exports:{}};return tn[ln](un,un.exports,rn),un.exports}rn.n=ln=>{var cn=ln&&ln.__esModule?()=>ln.default:()=>ln;return rn.d(cn,{a:cn}),cn},rn.d=(ln,cn)=>{for(var un in cn)rn.o(cn,un)&&!rn.o(ln,un)&&Object.defineProperty(ln,un,{enumerable:!0,get:cn[un]})},rn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),rn.o=(ln,cn)=>Object.prototype.hasOwnProperty.call(ln,cn),rn.nc=void 0;var an={};return(()=>{function ln({emitter:yn,activator:sn,callback:dn,contextElements:vn}){yn.listenTo(document,"mousedown",(bn,An)=>{if(!sn())return;const Dn=typeof An.composedPath=="function"?An.composedPath():[],Ln=typeof vn=="function"?vn():vn;for(const Bn of Ln)if(Bn.contains(An.target)||Dn.includes(Bn))return;dn()})}function cn(yn){return class extends yn{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...sn){super(...sn),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function un({view:yn}){yn.listenTo(yn.element,"submit",(sn,dn)=>{dn.preventDefault(),yn.fire("submit")},{useCapture:!0})}rn.d(an,{default:()=>jv});const fn=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var hn;const pn={isMac:gn(fn),isWindows:(hn=fn,hn.indexOf("windows")>-1),isGecko:function(yn){return!!yn.match(/gecko\/\d+/)}(fn),isSafari:function(yn){return yn.indexOf(" applewebkit/")>-1&&yn.indexOf("chrome")===-1}(fn),isiOS:function(yn){return!!yn.match(/iphone|ipad/i)||gn(yn)&&navigator.maxTouchPoints>0}(fn),isAndroid:function(yn){return yn.indexOf("android")>-1}(fn),isBlink:function(yn){return yn.indexOf("chrome/")>-1&&yn.indexOf("edge/")<0}(fn),features:{isRegExpUnicodePropertySupported:function(){let yn=!1;try{yn="Ä".search(new RegExp("[\\p{L}]","u"))===0}catch{}return yn}()}};function gn(yn){return yn.indexOf("macintosh")>-1}function mn(yn,sn,dn,vn){dn=dn||function(Bn,Vn){return Bn===Vn};const bn=Array.isArray(yn)?yn:Array.prototype.slice.call(yn),An=Array.isArray(sn)?sn:Array.prototype.slice.call(sn),Dn=function(Bn,Vn,Gn){const Kn=_n(Bn,Vn,Gn);if(Kn===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const $r=kn(Bn,Kn),Yr=kn(Vn,Kn),Qr=_n($r,Yr,Gn),si=Bn.length-Qr,hi=Vn.length-Qr;return{firstIndex:Kn,lastIndexOld:si,lastIndexNew:hi}}(bn,An,dn);return vn?function(Bn,Vn){const{firstIndex:Gn,lastIndexOld:Kn,lastIndexNew:$r}=Bn;if(Gn===-1)return Array(Vn).fill("equal");let Yr=[];return Gn>0&&(Yr=Yr.concat(Array(Gn).fill("equal"))),$r-Gn>0&&(Yr=Yr.concat(Array($r-Gn).fill("insert"))),Kn-Gn>0&&(Yr=Yr.concat(Array(Kn-Gn).fill("delete"))),$r<Vn&&(Yr=Yr.concat(Array(Vn-$r).fill("equal"))),Yr}(Dn,An.length):function(Bn,Vn){const Gn=[],{firstIndex:Kn,lastIndexOld:$r,lastIndexNew:Yr}=Vn;return Yr-Kn>0&&Gn.push({index:Kn,type:"insert",values:Bn.slice(Kn,Yr)}),$r-Kn>0&&Gn.push({index:Kn+(Yr-Kn),type:"delete",howMany:$r-Kn}),Gn}(An,Dn)}function _n(yn,sn,dn){for(let vn=0;vn<Math.max(yn.length,sn.length);vn++)if(yn[vn]===void 0||sn[vn]===void 0||!dn(yn[vn],sn[vn]))return vn;return-1}function kn(yn,sn){return yn.slice(sn).reverse()}function Cn(yn,sn,dn){dn=dn||function(si,hi){return si===hi};const vn=yn.length,bn=sn.length;if(vn>200||bn>200||vn+bn>300)return Cn.fastDiff(yn,sn,dn,!0);let An,Dn;if(bn<vn){const si=yn;yn=sn,sn=si,An="delete",Dn="insert"}else An="insert",Dn="delete";const Ln=yn.length,Bn=sn.length,Vn=Bn-Ln,Gn={},Kn={};function $r(si){const hi=(Kn[si-1]!==void 0?Kn[si-1]:-1)+1,wi=Kn[si+1]!==void 0?Kn[si+1]:-1,zi=hi>wi?-1:1;Gn[si+zi]&&(Gn[si]=Gn[si+zi].slice(0)),Gn[si]||(Gn[si]=[]),Gn[si].push(hi>wi?An:Dn);let so=Math.max(hi,wi),qo=so-si;for(;qo<Ln&&so<Bn&&dn(yn[qo],sn[so]);)qo++,so++,Gn[si].push("equal");return so}let Yr,Qr=0;do{for(Yr=-Qr;Yr<Vn;Yr++)Kn[Yr]=$r(Yr);for(Yr=Vn+Qr;Yr>Vn;Yr--)Kn[Yr]=$r(Yr);Kn[Vn]=$r(Vn),Qr++}while(Kn[Vn]!==Bn);return Gn[Vn].slice(1)}Cn.fastDiff=mn;const xn=function(){return function yn(){yn.called=!0}};class Sn{constructor(sn,dn){this.source=sn,this.name=dn,this.path=[],this.stop=xn(),this.off=xn()}}const Mn=new Array(256).fill("").map((yn,sn)=>("0"+sn.toString(16)).slice(-2));function In(){const yn=4294967296*Math.random()>>>0,sn=4294967296*Math.random()>>>0,dn=4294967296*Math.random()>>>0,vn=4294967296*Math.random()>>>0;return"e"+Mn[yn>>0&255]+Mn[yn>>8&255]+Mn[yn>>16&255]+Mn[yn>>24&255]+Mn[sn>>0&255]+Mn[sn>>8&255]+Mn[sn>>16&255]+Mn[sn>>24&255]+Mn[dn>>0&255]+Mn[dn>>8&255]+Mn[dn>>16&255]+Mn[dn>>24&255]+Mn[vn>>0&255]+Mn[vn>>8&255]+Mn[vn>>16&255]+Mn[vn>>24&255]}const On={get(yn="normal"){return typeof yn!="number"?this[yn]||this.normal:yn},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Pn(yn,sn){const dn=On.get(sn.priority);for(let vn=0;vn<yn.length;vn++)if(On.get(yn[vn].priority)<dn)return void yn.splice(vn,0,sn);yn.push(sn)}const Tn="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class Nn extends Error{constructor(sn,dn,vn){super(function(bn,An){const Dn=new WeakSet,Ln=(Gn,Kn)=>{if(typeof Kn=="object"&&Kn!==null){if(Dn.has(Kn))return`[object ${Kn.constructor.name}]`;Dn.add(Kn)}return Kn},Bn=An?` ${JSON.stringify(An,Ln)}`:"",Vn=jn(bn);return bn+Bn+Vn}(sn,vn)),this.name="CKEditorError",this.context=dn,this.data=vn}is(sn){return sn==="CKEditorError"}static rethrowUnexpectedError(sn,dn){if(sn.is&&sn.is("CKEditorError"))throw sn;const vn=new Nn(sn.message,dn);throw vn.stack=sn.stack,vn}}function Hn(yn,sn){console.warn(...Yn(yn,sn))}function Un(yn,sn){console.error(...Yn(yn,sn))}function jn(yn){return`
Read more: ${Tn}#error-${yn}`}function Yn(yn,sn){const dn=jn(yn);return sn?[yn,sn,dn]:[yn,dn]}const Wn="38.1.1",Qn=new Date(2023,6,11),Xn=typeof window=="object"?window:rn.g;if(Xn.CKEDITOR_VERSION)throw new Nn("ckeditor-duplicated-modules",null);Xn.CKEDITOR_VERSION=Wn;const jr=Symbol("listeningTo"),Wr=Symbol("emitterId"),Jr=Symbol("delegations"),ci=ti(Object);function ti(yn){return yn?class extends yn{on(sn,dn,vn){this.listenTo(this,sn,dn,vn)}once(sn,dn,vn){let bn=!1;this.listenTo(this,sn,(An,...Dn)=>{bn||(bn=!0,An.off(),dn.call(this,An,...Dn))},vn)}off(sn,dn){this.stopListening(this,sn,dn)}listenTo(sn,dn,vn,bn={}){let An,Dn;this[jr]||(this[jr]={});const Ln=this[jr];Br(sn)||Zr(sn);const Bn=Br(sn);(An=Ln[Bn])||(An=Ln[Bn]={emitter:sn,callbacks:{}}),(Dn=An.callbacks[dn])||(Dn=An.callbacks[dn]=[]),Dn.push(vn),function(Vn,Gn,Kn,$r,Yr){Gn._addEventListener?Gn._addEventListener(Kn,$r,Yr):Vn._addEventListener.call(Gn,Kn,$r,Yr)}(this,sn,dn,vn,bn)}stopListening(sn,dn,vn){const bn=this[jr];let An=sn&&Br(sn);const Dn=bn&&An?bn[An]:void 0,Ln=Dn&&dn?Dn.callbacks[dn]:void 0;if(!(!bn||sn&&!Dn||dn&&!Ln))if(vn)fi(this,sn,dn,vn),Ln.indexOf(vn)!==-1&&(Ln.length===1?delete Dn.callbacks[dn]:fi(this,sn,dn,vn));else if(Ln){for(;vn=Ln.pop();)fi(this,sn,dn,vn);delete Dn.callbacks[dn]}else if(Dn){for(dn in Dn.callbacks)this.stopListening(sn,dn);delete bn[An]}else{for(An in bn)this.stopListening(bn[An].emitter);delete this[jr]}}fire(sn,...dn){try{const vn=sn instanceof Sn?sn:new Sn(this,sn),bn=vn.name;let An=pi(this,bn);if(vn.path.push(this),An){const Ln=[vn,...dn];An=Array.from(An);for(let Bn=0;Bn<An.length&&(An[Bn].callback.apply(this,Ln),vn.off.called&&(delete vn.off.called,this._removeEventListener(bn,An[Bn].callback)),!vn.stop.called);Bn++);}const Dn=this[Jr];if(Dn){const Ln=Dn.get(bn),Bn=Dn.get("*");Ln&&ri(Ln,vn,dn),Bn&&ri(Bn,vn,dn)}return vn.return}catch(vn){Nn.rethrowUnexpectedError(vn,this)}}delegate(...sn){return{to:(dn,vn)=>{this[Jr]||(this[Jr]=new Map),sn.forEach(bn=>{const An=this[Jr].get(bn);An?An.set(dn,vn):this[Jr].set(bn,new Map([[dn,vn]]))})}}}stopDelegating(sn,dn){if(this[Jr])if(sn)if(dn){const vn=this[Jr].get(sn);vn&&vn.delete(dn)}else this[Jr].delete(sn);else this[Jr].clear()}_addEventListener(sn,dn,vn){(function(Dn,Ln){const Bn=Jn(Dn);if(Bn[Ln])return;let Vn=Ln,Gn=null;const Kn=[];for(;Vn!==""&&!Bn[Vn];)Bn[Vn]={callbacks:[],childEvents:[]},Kn.push(Bn[Vn]),Gn&&Bn[Vn].childEvents.push(Gn),Gn=Vn,Vn=Vn.substr(0,Vn.lastIndexOf(":"));if(Vn!==""){for(const $r of Kn)$r.callbacks=Bn[Vn].callbacks.slice();Bn[Vn].childEvents.push(Gn)}})(this,sn);const bn=oi(this,sn),An={callback:dn,priority:On.get(vn.priority)};for(const Dn of bn)Pn(Dn,An)}_removeEventListener(sn,dn){const vn=oi(this,sn);for(const bn of vn)for(let An=0;An<bn.length;An++)bn[An].callback==dn&&(bn.splice(An,1),An--)}}:ci}function Zr(yn,sn){yn[Wr]||(yn[Wr]=sn||In())}function Br(yn){return yn[Wr]}function Jn(yn){return yn._events||Object.defineProperty(yn,"_events",{value:{}}),yn._events}function oi(yn,sn){const dn=Jn(yn)[sn];if(!dn)return[];let vn=[dn.callbacks];for(let bn=0;bn<dn.childEvents.length;bn++){const An=oi(yn,dn.childEvents[bn]);vn=vn.concat(An)}return vn}function pi(yn,sn){let dn;return yn._events&&(dn=yn._events[sn])&&dn.callbacks.length?dn.callbacks:sn.indexOf(":")>-1?pi(yn,sn.substr(0,sn.lastIndexOf(":"))):null}function ri(yn,sn,dn){for(let[vn,bn]of yn){bn?typeof bn=="function"&&(bn=bn(sn.name)):bn=sn.name;const An=new Sn(sn.source,bn);An.path=[...sn.path],vn.fire(An,...dn)}}function fi(yn,sn,dn,vn){sn._removeEventListener?sn._removeEventListener(dn,vn):yn._removeEventListener.call(sn,dn,vn)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(yn=>{ti[yn]=ci.prototype[yn]});const yi=function(yn){var sn=typeof yn;return yn!=null&&(sn=="object"||sn=="function")},Si=Symbol("observableProperties"),Pi=Symbol("boundObservables"),Ui=Symbol("boundProperties"),ji=Symbol("decoratedMethods"),go=Symbol("decoratedOriginal"),po=Yi(ti());function Yi(yn){return yn?class extends yn{set(sn,dn){if(yi(sn))return void Object.keys(sn).forEach(bn=>{this.set(bn,sn[bn])},this);Fo(this);const vn=this[Si];if(sn in this&&!vn.has(sn))throw new Nn("observable-set-cannot-override",this);Object.defineProperty(this,sn,{enumerable:!0,configurable:!0,get:()=>vn.get(sn),set(bn){const An=vn.get(sn);let Dn=this.fire(`set:${sn}`,sn,bn,An);Dn===void 0&&(Dn=bn),An===Dn&&vn.has(sn)||(vn.set(sn,Dn),this.fire(`change:${sn}`,sn,Dn,An))}}),this[sn]=dn}bind(...sn){if(!sn.length||!Wi(sn))throw new Nn("observable-bind-wrong-properties",this);if(new Set(sn).size!==sn.length)throw new Nn("observable-bind-duplicate-properties",this);Fo(this);const dn=this[Ui];sn.forEach(bn=>{if(dn.has(bn))throw new Nn("observable-bind-rebind",this)});const vn=new Map;return sn.forEach(bn=>{const An={property:bn,to:[]};dn.set(bn,An),vn.set(bn,An)}),{to:Po,toMany:Oi,_observable:this,_bindProperties:sn,_to:[],_bindings:vn}}unbind(...sn){if(!this[Si])return;const dn=this[Ui],vn=this[Pi];if(sn.length){if(!Wi(sn))throw new Nn("observable-unbind-wrong-properties",this);sn.forEach(bn=>{const An=dn.get(bn);An&&(An.to.forEach(([Dn,Ln])=>{const Bn=vn.get(Dn),Vn=Bn[Ln];Vn.delete(An),Vn.size||delete Bn[Ln],Object.keys(Bn).length||(vn.delete(Dn),this.stopListening(Dn,"change"))}),dn.delete(bn))})}else vn.forEach((bn,An)=>{this.stopListening(An,"change")}),vn.clear(),dn.clear()}decorate(sn){Fo(this);const dn=this[sn];if(!dn)throw new Nn("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:sn});this.on(sn,(vn,bn)=>{vn.return=dn.apply(this,bn)}),this[sn]=function(...vn){return this.fire(sn,vn)},this[sn][go]=dn,this[ji]||(this[ji]=[]),this[ji].push(sn)}stopListening(sn,dn,vn){if(!sn&&this[ji]){for(const bn of this[ji])this[bn]=this[bn][go];delete this[ji]}super.stopListening(sn,dn,vn)}}:po}function Fo(yn){yn[Si]||(Object.defineProperty(yn,Si,{value:new Map}),Object.defineProperty(yn,Pi,{value:new Map}),Object.defineProperty(yn,Ui,{value:new Map}))}function Po(...yn){const sn=function(...An){if(!An.length)throw new Nn("observable-bind-to-parse-error",null);const Dn={to:[]};let Ln;return typeof An[An.length-1]=="function"&&(Dn.callback=An.pop()),An.forEach(Bn=>{if(typeof Bn=="string")Ln.properties.push(Bn);else{if(typeof Bn!="object")throw new Nn("observable-bind-to-parse-error",null);Ln={observable:Bn,properties:[]},Dn.to.push(Ln)}}),Dn}(...yn),dn=Array.from(this._bindings.keys()),vn=dn.length;if(!sn.callback&&sn.to.length>1)throw new Nn("observable-bind-to-no-callback",this);if(vn>1&&sn.callback)throw new Nn("observable-bind-to-extra-callback",this);var bn;sn.to.forEach(An=>{if(An.properties.length&&An.properties.length!==vn)throw new Nn("observable-bind-to-properties-length",this);An.properties.length||(An.properties=this._bindProperties)}),this._to=sn.to,sn.callback&&(this._bindings.get(dn[0]).callback=sn.callback),bn=this._observable,this._to.forEach(An=>{const Dn=bn[Pi];let Ln;Dn.get(An.observable)||bn.listenTo(An.observable,"change",(Bn,Vn)=>{Ln=Dn.get(An.observable)[Vn],Ln&&Ln.forEach(Gn=>{vo(bn,Gn.property)})})}),function(An){let Dn;An._bindings.forEach((Ln,Bn)=>{An._to.forEach(Vn=>{Dn=Vn.properties[Ln.callback?0:An._bindProperties.indexOf(Bn)],Ln.to.push([Vn.observable,Dn]),function(Gn,Kn,$r,Yr){const Qr=Gn[Pi],si=Qr.get($r),hi=si||{};hi[Yr]||(hi[Yr]=new Set),hi[Yr].add(Kn),si||Qr.set($r,hi)}(An._observable,Ln,Vn.observable,Dn)})})}(this),this._bindProperties.forEach(An=>{vo(this._observable,An)})}function Oi(yn,sn,dn){if(this._bindings.size>1)throw new Nn("observable-bind-to-many-not-one-binding",this);this.to(...function(vn,bn){const An=vn.map(Dn=>[Dn,bn]);return Array.prototype.concat.apply([],An)}(yn,sn),dn)}function Wi(yn){return yn.every(sn=>typeof sn=="string")}function vo(yn,sn){const dn=yn[Ui].get(sn);let vn;dn.callback?vn=dn.callback.apply(yn,dn.to.map(bn=>bn[0][bn[1]])):(vn=dn.to[0],vn=vn[0][vn[1]]),Object.prototype.hasOwnProperty.call(yn,sn)?yn[sn]=vn:yn.set(sn,vn)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(yn=>{Yi[yn]=po.prototype[yn]});class mo{constructor(){this._replacedElements=[]}replace(sn,dn){this._replacedElements.push({element:sn,newElement:dn}),sn.style.display="none",dn&&sn.parentNode.insertBefore(dn,sn.nextSibling)}restore(){this._replacedElements.forEach(({element:sn,newElement:dn})=>{sn.style.display="",dn&&dn.remove()}),this._replacedElements=[]}}function ro(yn){let sn=0;for(const dn of yn)sn++;return sn}function Oo(yn,sn){const dn=Math.min(yn.length,sn.length);for(let vn=0;vn<dn;vn++)if(yn[vn]!=sn[vn])return vn;return yn.length==sn.length?"same":yn.length<sn.length?"prefix":"extension"}function Mi(yn){return!(!yn||!yn[Symbol.iterator])}const gi=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;var Ti=typeof self=="object"&&self&&self.Object===Object&&self;const li=gi||Ti||Function("return this")(),di=li.Symbol;var Di=Object.prototype,bi=Di.hasOwnProperty,Li=Di.toString,yo=di?di.toStringTag:void 0;const ko=function(yn){var sn=bi.call(yn,yo),dn=yn[yo];try{yn[yo]=void 0;var vn=!0}catch{}var bn=Li.call(yn);return vn&&(sn?yn[yo]=dn:delete yn[yo]),bn};var bo=Object.prototype.toString;const $o=function(yn){return bo.call(yn)};var ra=di?di.toStringTag:void 0;const Xi=function(yn){return yn==null?yn===void 0?"[object Undefined]":"[object Null]":ra&&ra in Object(yn)?ko(yn):$o(yn)},zo=Array.isArray,fo=function(yn){return yn!=null&&typeof yn=="object"},la=function(yn){return typeof yn=="string"||!zo(yn)&&fo(yn)&&Xi(yn)=="[object String]"};function ya(yn,sn,dn={},vn=[]){const bn=dn&&dn.xmlns,An=bn?yn.createElementNS(bn,sn):yn.createElement(sn);for(const Dn in dn)An.setAttribute(Dn,dn[Dn]);!la(vn)&&Mi(vn)||(vn=[vn]);for(let Dn of vn)la(Dn)&&(Dn=yn.createTextNode(Dn)),An.appendChild(Dn);return An}const Ms=function(yn,sn){return function(dn){return yn(sn(dn))}},da=Ms(Object.getPrototypeOf,Object);var os=Function.prototype,Fa=Object.prototype,As=os.toString,Zs=Fa.hasOwnProperty,gl=As.call(Object);const us=function(yn){if(!fo(yn)||Xi(yn)!="[object Object]")return!1;var sn=da(yn);if(sn===null)return!0;var dn=Zs.call(sn,"constructor")&&sn.constructor;return typeof dn=="function"&&dn instanceof dn&&As.call(dn)==gl},jl=function(){this.__data__=[],this.size=0},vl=function(yn,sn){return yn===sn||yn!=yn&&sn!=sn},fs=function(yn,sn){for(var dn=yn.length;dn--;)if(vl(yn[dn][0],sn))return dn;return-1};var $i=Array.prototype.splice;const Hi=function(yn){var sn=this.__data__,dn=fs(sn,yn);return!(dn<0)&&(dn==sn.length-1?sn.pop():$i.call(sn,dn,1),--this.size,!0)},io=function(yn){var sn=this.__data__,dn=fs(sn,yn);return dn<0?void 0:sn[dn][1]},So=function(yn){return fs(this.__data__,yn)>-1},Xo=function(yn,sn){var dn=this.__data__,vn=fs(dn,yn);return vn<0?(++this.size,dn.push([yn,sn])):dn[vn][1]=sn,this};function Ro(yn){var sn=-1,dn=yn==null?0:yn.length;for(this.clear();++sn<dn;){var vn=yn[sn];this.set(vn[0],vn[1])}}Ro.prototype.clear=jl,Ro.prototype.delete=Hi,Ro.prototype.get=io,Ro.prototype.has=So,Ro.prototype.set=Xo;const To=Ro,Ra=function(){this.__data__=new To,this.size=0},fa=function(yn){var sn=this.__data__,dn=sn.delete(yn);return this.size=sn.size,dn},jo=function(yn){return this.__data__.get(yn)},Ca=function(yn){return this.__data__.has(yn)},ja=function(yn){if(!yi(yn))return!1;var sn=Xi(yn);return sn=="[object Function]"||sn=="[object GeneratorFunction]"||sn=="[object AsyncFunction]"||sn=="[object Proxy]"},ss=li["__core-js_shared__"];var za=function(){var yn=/[^.]+$/.exec(ss&&ss.keys&&ss.keys.IE_PROTO||"");return yn?"Symbol(src)_1."+yn:""}();const Ya=function(yn){return!!za&&za in yn};var ha=Function.prototype.toString;const ia=function(yn){if(yn!=null){try{return ha.call(yn)}catch{}try{return yn+""}catch{}}return""};var ca=/^\[object .+?Constructor\]$/,oa=Function.prototype,Uo=Object.prototype,Ei=oa.toString,vs=Uo.hasOwnProperty,ma=RegExp("^"+Ei.call(vs).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Bs=function(yn){return!(!yi(yn)||Ya(yn))&&(ja(yn)?ma:ca).test(ia(yn))},Ea=function(yn,sn){return yn==null?void 0:yn[sn]},Fs=function(yn,sn){var dn=Ea(yn,sn);return Bs(dn)?dn:void 0},Js=Fs(li,"Map"),ul=Fs(Object,"create"),lo=function(){this.__data__=ul?ul(null):{},this.size=0},ea=function(yn){var sn=this.has(yn)&&delete this.__data__[yn];return this.size-=sn?1:0,sn};var hs=Object.prototype.hasOwnProperty;const ml=function(yn){var sn=this.__data__;if(ul){var dn=sn[yn];return dn==="__lodash_hash_undefined__"?void 0:dn}return hs.call(sn,yn)?sn[yn]:void 0};var ki=Object.prototype.hasOwnProperty;const vi=function(yn){var sn=this.__data__;return ul?sn[yn]!==void 0:ki.call(sn,yn)},Bi=function(yn,sn){var dn=this.__data__;return this.size+=this.has(yn)?0:1,dn[yn]=ul&&sn===void 0?"__lodash_hash_undefined__":sn,this};function Gi(yn){var sn=-1,dn=yn==null?0:yn.length;for(this.clear();++sn<dn;){var vn=yn[sn];this.set(vn[0],vn[1])}}Gi.prototype.clear=lo,Gi.prototype.delete=ea,Gi.prototype.get=ml,Gi.prototype.has=vi,Gi.prototype.set=Bi;const co=Gi,Eo=function(){this.size=0,this.__data__={hash:new co,map:new(Js||To),string:new co}},Bo=function(yn){var sn=typeof yn;return sn=="string"||sn=="number"||sn=="symbol"||sn=="boolean"?yn!=="__proto__":yn===null},Co=function(yn,sn){var dn=yn.__data__;return Bo(sn)?dn[typeof sn=="string"?"string":"hash"]:dn.map},Zo=function(yn){var sn=Co(this,yn).delete(yn);return this.size-=sn?1:0,sn},ta=function(yn){return Co(this,yn).get(yn)},Ho=function(yn){return Co(this,yn).has(yn)},Da=function(yn,sn){var dn=Co(this,yn),vn=dn.size;return dn.set(yn,sn),this.size+=dn.size==vn?0:1,this};function es(yn){var sn=-1,dn=yn==null?0:yn.length;for(this.clear();++sn<dn;){var vn=yn[sn];this.set(vn[0],vn[1])}}es.prototype.clear=Eo,es.prototype.delete=Zo,es.prototype.get=ta,es.prototype.has=Ho,es.prototype.set=Da;const Ha=es,wa=function(yn,sn){var dn=this.__data__;if(dn instanceof To){var vn=dn.__data__;if(!Js||vn.length<199)return vn.push([yn,sn]),this.size=++dn.size,this;dn=this.__data__=new Ha(vn)}return dn.set(yn,sn),this.size=dn.size,this};function Ma(yn){var sn=this.__data__=new To(yn);this.size=sn.size}Ma.prototype.clear=Ra,Ma.prototype.delete=fa,Ma.prototype.get=jo,Ma.prototype.has=Ca,Ma.prototype.set=wa;const Ia=Ma,Cs=function(yn,sn){for(var dn=-1,vn=yn==null?0:yn.length;++dn<vn&&sn(yn[dn],dn,yn)!==!1;);return yn},Ka=function(){try{var yn=Fs(Object,"defineProperty");return yn({},"",{}),yn}catch{}}(),ms=function(yn,sn,dn){sn=="__proto__"&&Ka?Ka(yn,sn,{configurable:!0,enumerable:!0,value:dn,writable:!0}):yn[sn]=dn};var va=Object.prototype.hasOwnProperty;const Na=function(yn,sn,dn){var vn=yn[sn];va.call(yn,sn)&&vl(vn,dn)&&(dn!==void 0||sn in yn)||ms(yn,sn,dn)},La=function(yn,sn,dn,vn){var bn=!dn;dn||(dn={});for(var An=-1,Dn=sn.length;++An<Dn;){var Ln=sn[An],Bn=vn?vn(dn[Ln],yn[Ln],Ln,dn,yn):void 0;Bn===void 0&&(Bn=yn[Ln]),bn?ms(dn,Ln,Bn):Na(dn,Ln,Bn)}return dn},_s=function(yn,sn){for(var dn=-1,vn=Array(yn);++dn<yn;)vn[dn]=sn(dn);return vn},ts=function(yn){return fo(yn)&&Xi(yn)=="[object Arguments]"};var ps=Object.prototype,Is=ps.hasOwnProperty,xs=ps.propertyIsEnumerable;const Cl=ts(function(){return arguments}())?ts:function(yn){return fo(yn)&&Is.call(yn,"callee")&&!xs.call(yn,"callee")},ol=function(){return!1};var Ll=en&&!en.nodeType&&en,tc=Ll&&!0&&Fe&&!Fe.nodeType&&Fe,nc=tc&&tc.exports===Ll?li.Buffer:void 0;const qs=(nc?nc.isBuffer:void 0)||ol;var Ec=/^(?:0|[1-9]\d*)$/;const yl=function(yn,sn){var dn=typeof yn;return!!(sn=sn??9007199254740991)&&(dn=="number"||dn!="symbol"&&Ec.test(yn))&&yn>-1&&yn%1==0&&yn<sn},xl=function(yn){return typeof yn=="number"&&yn>-1&&yn%1==0&&yn<=9007199254740991};var ns={};ns["[object Float32Array]"]=ns["[object Float64Array]"]=ns["[object Int8Array]"]=ns["[object Int16Array]"]=ns["[object Int32Array]"]=ns["[object Uint8Array]"]=ns["[object Uint8ClampedArray]"]=ns["[object Uint16Array]"]=ns["[object Uint32Array]"]=!0,ns["[object Arguments]"]=ns["[object Array]"]=ns["[object ArrayBuffer]"]=ns["[object Boolean]"]=ns["[object DataView]"]=ns["[object Date]"]=ns["[object Error]"]=ns["[object Function]"]=ns["[object Map]"]=ns["[object Number]"]=ns["[object Object]"]=ns["[object RegExp]"]=ns["[object Set]"]=ns["[object String]"]=ns["[object WeakMap]"]=!1;const Ji=function(yn){return fo(yn)&&xl(yn.length)&&!!ns[Xi(yn)]},Ko=function(yn){return function(sn){return yn(sn)}};var na=en&&!en.nodeType&&en,pa=na&&!0&&Fe&&!Fe.nodeType&&Fe,Pa=pa&&pa.exports===na&&gi.process;const Za=function(){try{var yn=pa&&pa.require&&pa.require("util").types;return yn||Pa&&Pa.binding&&Pa.binding("util")}catch{}}();var zs=Za&&Za.isTypedArray;const el=zs?Ko(zs):Ji;var Sl=Object.prototype.hasOwnProperty;const bl=function(yn,sn){var dn=zo(yn),vn=!dn&&Cl(yn),bn=!dn&&!vn&&qs(yn),An=!dn&&!vn&&!bn&&el(yn),Dn=dn||vn||bn||An,Ln=Dn?_s(yn.length,String):[],Bn=Ln.length;for(var Vn in yn)!sn&&!Sl.call(yn,Vn)||Dn&&(Vn=="length"||bn&&(Vn=="offset"||Vn=="parent")||An&&(Vn=="buffer"||Vn=="byteLength"||Vn=="byteOffset")||yl(Vn,Bn))||Ln.push(Vn);return Ln};var El=Object.prototype;const Ul=function(yn){var sn=yn&&yn.constructor;return yn===(typeof sn=="function"&&sn.prototype||El)},al=Ms(Object.keys,Object);var zn=Object.prototype.hasOwnProperty;const qn=function(yn){if(!Ul(yn))return al(yn);var sn=[];for(var dn in Object(yn))zn.call(yn,dn)&&dn!="constructor"&&sn.push(dn);return sn},Fr=function(yn){return yn!=null&&xl(yn.length)&&!ja(yn)},Ur=function(yn){return Fr(yn)?bl(yn):qn(yn)},ei=function(yn,sn){return yn&&La(sn,Ur(sn),yn)},ni=function(yn){var sn=[];if(yn!=null)for(var dn in Object(yn))sn.push(dn);return sn};var ui=Object.prototype.hasOwnProperty;const Ii=function(yn){if(!yi(yn))return ni(yn);var sn=Ul(yn),dn=[];for(var vn in yn)(vn!="constructor"||!sn&&ui.call(yn,vn))&&dn.push(vn);return dn},xi=function(yn){return Fr(yn)?bl(yn,!0):Ii(yn)},Fi=function(yn,sn){return yn&&La(sn,xi(sn),yn)};var no=en&&!en.nodeType&&en,uo=no&&!0&&Fe&&!Fe.nodeType&&Fe,Ki=uo&&uo.exports===no?li.Buffer:void 0,_o=Ki?Ki.allocUnsafe:void 0;const ba=function(yn,sn){if(sn)return yn.slice();var dn=yn.length,vn=_o?_o(dn):new yn.constructor(dn);return yn.copy(vn),vn},Wa=function(yn,sn){var dn=-1,vn=yn.length;for(sn||(sn=Array(vn));++dn<vn;)sn[dn]=yn[dn];return sn},xa=function(yn,sn){for(var dn=-1,vn=yn==null?0:yn.length,bn=0,An=[];++dn<vn;){var Dn=yn[dn];sn(Dn,dn,yn)&&(An[bn++]=Dn)}return An},Ss=function(){return[]};var tl=Object.prototype.propertyIsEnumerable,Yl=Object.getOwnPropertySymbols;const Gl=Yl?function(yn){return yn==null?[]:(yn=Object(yn),xa(Yl(yn),function(sn){return tl.call(yn,sn)}))}:Ss,$a=function(yn,sn){return La(yn,Gl(yn),sn)},ws=function(yn,sn){for(var dn=-1,vn=sn.length,bn=yn.length;++dn<vn;)yn[bn+dn]=sn[dn];return yn},Qa=Object.getOwnPropertySymbols?function(yn){for(var sn=[];yn;)ws(sn,Gl(yn)),yn=da(yn);return sn}:Ss,Ps=function(yn,sn){return La(yn,Qa(yn),sn)},rc=function(yn,sn,dn){var vn=sn(yn);return zo(yn)?vn:ws(vn,dn(yn))},Yc=function(yn){return rc(yn,Ur,Gl)},Kl=function(yn){return rc(yn,xi,Qa)},Zl=Fs(li,"DataView"),Pl=Fs(li,"Promise"),ic=Fs(li,"Set"),fc=Fs(li,"WeakMap");var Ol="[object Map]",Kc="[object Promise]",Xl="[object Set]",hc="[object WeakMap]",Zc="[object DataView]",wc=ia(Zl),Iu=ia(Js),ls=ia(Pl),pu=ia(ic),Ys=ia(fc),sl=Xi;(Zl&&sl(new Zl(new ArrayBuffer(1)))!=Zc||Js&&sl(new Js)!=Ol||Pl&&sl(Pl.resolve())!=Kc||ic&&sl(new ic)!=Xl||fc&&sl(new fc)!=hc)&&(sl=function(yn){var sn=Xi(yn),dn=sn=="[object Object]"?yn.constructor:void 0,vn=dn?ia(dn):"";if(vn)switch(vn){case wc:return Zc;case Iu:return Ol;case ls:return Kc;case pu:return Xl;case Ys:return hc}return sn});const Dc=sl;var Ju=Object.prototype.hasOwnProperty;const ed=function(yn){var sn=yn.length,dn=new yn.constructor(sn);return sn&&typeof yn[0]=="string"&&Ju.call(yn,"index")&&(dn.index=yn.index,dn.input=yn.input),dn},pc=li.Uint8Array,Xc=function(yn){var sn=new yn.constructor(yn.byteLength);return new pc(sn).set(new pc(yn)),sn},gc=function(yn,sn){var dn=sn?Xc(yn.buffer):yn.buffer;return new yn.constructor(dn,yn.byteOffset,yn.byteLength)};var vc=/\w*$/;const Rl=function(yn){var sn=new yn.constructor(yn.source,vc.exec(yn));return sn.lastIndex=yn.lastIndex,sn};var Qc=di?di.prototype:void 0,Jc=Qc?Qc.valueOf:void 0;const td=function(yn){return Jc?Object(Jc.call(yn)):{}},nd=function(yn,sn){var dn=sn?Xc(yn.buffer):yn.buffer;return new yn.constructor(dn,yn.byteOffset,yn.length)},Lu=function(yn,sn,dn){var vn=yn.constructor;switch(sn){case"[object ArrayBuffer]":return Xc(yn);case"[object Boolean]":case"[object Date]":return new vn(+yn);case"[object DataView]":return gc(yn,dn);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return nd(yn,dn);case"[object Map]":case"[object Set]":return new vn;case"[object Number]":case"[object String]":return new vn(yn);case"[object RegExp]":return Rl(yn);case"[object Symbol]":return td(yn)}};var gu=Object.create;const Pu=function(){function yn(){}return function(sn){if(!yi(sn))return{};if(gu)return gu(sn);yn.prototype=sn;var dn=new yn;return yn.prototype=void 0,dn}}(),eu=function(yn){return typeof yn.constructor!="function"||Ul(yn)?{}:Pu(da(yn))},vu=function(yn){return fo(yn)&&Dc(yn)=="[object Map]"};var mu=Za&&Za.isMap;const _i=mu?Ko(mu):vu,Ri=function(yn){return fo(yn)&&Dc(yn)=="[object Set]"};var qi=Za&&Za.isSet;const Zi=qi?Ko(qi):Ri;var oo="[object Arguments]",Io="[object Function]",Go="[object Object]",Mo={};Mo[oo]=Mo["[object Array]"]=Mo["[object ArrayBuffer]"]=Mo["[object DataView]"]=Mo["[object Boolean]"]=Mo["[object Date]"]=Mo["[object Float32Array]"]=Mo["[object Float64Array]"]=Mo["[object Int8Array]"]=Mo["[object Int16Array]"]=Mo["[object Int32Array]"]=Mo["[object Map]"]=Mo["[object Number]"]=Mo[Go]=Mo["[object RegExp]"]=Mo["[object Set]"]=Mo["[object String]"]=Mo["[object Symbol]"]=Mo["[object Uint8Array]"]=Mo["[object Uint8ClampedArray]"]=Mo["[object Uint16Array]"]=Mo["[object Uint32Array]"]=!0,Mo["[object Error]"]=Mo[Io]=Mo["[object WeakMap]"]=!1;const Wo=function yn(sn,dn,vn,bn,An,Dn){var Ln,Bn=1&dn,Vn=2&dn,Gn=4&dn;if(vn&&(Ln=An?vn(sn,bn,An,Dn):vn(sn)),Ln!==void 0)return Ln;if(!yi(sn))return sn;var Kn=zo(sn);if(Kn){if(Ln=ed(sn),!Bn)return Wa(sn,Ln)}else{var $r=Dc(sn),Yr=$r==Io||$r=="[object GeneratorFunction]";if(qs(sn))return ba(sn,Bn);if($r==Go||$r==oo||Yr&&!An){if(Ln=Vn||Yr?{}:eu(sn),!Bn)return Vn?Ps(sn,Fi(Ln,sn)):$a(sn,ei(Ln,sn))}else{if(!Mo[$r])return An?sn:{};Ln=Lu(sn,$r,Bn)}}Dn||(Dn=new Ia);var Qr=Dn.get(sn);if(Qr)return Qr;Dn.set(sn,Ln),Zi(sn)?sn.forEach(function(hi){Ln.add(yn(hi,dn,vn,hi,sn,Dn))}):_i(sn)&&sn.forEach(function(hi,wi){Ln.set(wi,yn(hi,dn,vn,wi,sn,Dn))});var si=Kn?void 0:(Gn?Vn?Kl:Yc:Vn?xi:Ur)(sn);return Cs(si||sn,function(hi,wi){si&&(hi=sn[wi=hi]),Na(Ln,wi,yn(hi,dn,vn,wi,sn,Dn))}),Ln},Ba=function(yn,sn){return Wo(yn,5,sn=typeof sn=="function"?sn:void 0)},ua=function(yn){return fo(yn)&&yn.nodeType===1&&!us(yn)};class ka{constructor(sn,dn){this._config={},dn&&this.define(Ua(dn)),sn&&this._setObjectToTarget(this._config,sn)}set(sn,dn){this._setToTarget(this._config,sn,dn)}define(sn,dn){this._setToTarget(this._config,sn,dn,!0)}get(sn){return this._getFromSource(this._config,sn)}*names(){for(const sn of Object.keys(this._config))yield sn}_setToTarget(sn,dn,vn,bn=!1){if(us(dn))return void this._setObjectToTarget(sn,dn,bn);const An=dn.split(".");dn=An.pop();for(const Dn of An)us(sn[Dn])||(sn[Dn]={}),sn=sn[Dn];if(us(vn))return us(sn[dn])||(sn[dn]={}),sn=sn[dn],void this._setObjectToTarget(sn,vn,bn);bn&&sn[dn]!==void 0||(sn[dn]=vn)}_getFromSource(sn,dn){const vn=dn.split(".");dn=vn.pop();for(const bn of vn){if(!us(sn[bn])){sn=null;break}sn=sn[bn]}return sn?Ua(sn[dn]):void 0}_setObjectToTarget(sn,dn,vn){Object.keys(dn).forEach(bn=>{this._setToTarget(sn,bn,dn[bn],vn)})}}function Ua(yn){return Ba(yn,ga)}function ga(yn){return ua(yn)?yn:void 0}function Va(yn){if(yn){if(yn.defaultView)return yn instanceof yn.defaultView.Document;if(yn.ownerDocument&&yn.ownerDocument.defaultView)return yn instanceof yn.ownerDocument.defaultView.Node}return!1}function Hs(yn){const sn=Object.prototype.toString.apply(yn);return sn=="[object Window]"||sn=="[object global]"}const Vs=Ks(ti());function Ks(yn){return yn?class extends yn{listenTo(sn,dn,vn,bn={}){if(Va(sn)||Hs(sn)){const An={capture:!!bn.useCapture,passive:!!bn.usePassive},Dn=this._getProxyEmitter(sn,An)||new Ql(sn,An);this.listenTo(Dn,dn,vn,bn)}else super.listenTo(sn,dn,vn,bn)}stopListening(sn,dn,vn){if(Va(sn)||Hs(sn)){const bn=this._getAllProxyEmitters(sn);for(const An of bn)this.stopListening(An,dn,vn)}else super.stopListening(sn,dn,vn)}_getProxyEmitter(sn,dn){return function(vn,bn){const An=vn[jr];return An&&An[bn]?An[bn].emitter:null}(this,Nl(sn,dn))}_getAllProxyEmitters(sn){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(dn=>this._getProxyEmitter(sn,dn)).filter(dn=>!!dn)}}:Vs}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(yn=>{Ks[yn]=Vs.prototype[yn]});class Ql extends ti(){constructor(sn,dn){super(),Zr(this,Nl(sn,dn)),this._domNode=sn,this._options=dn}attach(sn){if(this._domListeners&&this._domListeners[sn])return;const dn=this._createDomListener(sn);this._domNode.addEventListener(sn,dn,this._options),this._domListeners||(this._domListeners={}),this._domListeners[sn]=dn}detach(sn){let dn;!this._domListeners[sn]||(dn=this._events[sn])&&dn.callbacks.length||this._domListeners[sn].removeListener()}_addEventListener(sn,dn,vn){this.attach(sn),ti().prototype._addEventListener.call(this,sn,dn,vn)}_removeEventListener(sn,dn){ti().prototype._removeEventListener.call(this,sn,dn),this.detach(sn)}_createDomListener(sn){const dn=vn=>{this.fire(sn,vn)};return dn.removeListener=()=>{this._domNode.removeEventListener(sn,dn,this._options),delete this._domListeners[sn]},dn}}function Nl(yn,sn){let dn=function(vn){return vn["data-ck-expando"]||(vn["data-ck-expando"]=In())}(yn);for(const vn of Object.keys(sn).sort())sn[vn]&&(dn+="-"+vn);return dn}let Xs;try{Xs={window,document}}catch{Xs={window:{},document:{}}}const Ta=Xs;function Nc(yn){const sn=[];let dn=yn;for(;dn&&dn.nodeType!=Node.DOCUMENT_NODE;)sn.unshift(dn),dn=dn.parentNode;return sn}function rs(yn){return Object.prototype.toString.call(yn)=="[object Text]"}function kc(yn){return Object.prototype.toString.apply(yn)=="[object Range]"}function $c(yn){const sn=yn.ownerDocument.defaultView.getComputedStyle(yn);return{top:parseInt(sn.borderTopWidth,10),right:parseInt(sn.borderRightWidth,10),bottom:parseInt(sn.borderBottomWidth,10),left:parseInt(sn.borderLeftWidth,10)}}const Ou=["top","right","bottom","left","width","height"];class js{constructor(sn){const dn=kc(sn);if(Object.defineProperty(this,"_source",{value:sn._source||sn,writable:!0,enumerable:!1}),mc(sn)||dn)if(dn){const vn=js.getDomRangeRects(sn);rd(this,js.getBoundingRect(vn))}else rd(this,sn.getBoundingClientRect());else if(Hs(sn)){const{innerWidth:vn,innerHeight:bn}=sn;rd(this,{top:0,right:vn,bottom:bn,left:0,width:vn,height:bn})}else rd(this,sn)}clone(){return new js(this)}moveTo(sn,dn){return this.top=dn,this.right=sn+this.width,this.bottom=dn+this.height,this.left=sn,this}moveBy(sn,dn){return this.top+=dn,this.right+=sn,this.left+=sn,this.bottom+=dn,this}getIntersection(sn){const dn={top:Math.max(this.top,sn.top),right:Math.min(this.right,sn.right),bottom:Math.min(this.bottom,sn.bottom),left:Math.max(this.left,sn.left),width:0,height:0};return dn.width=dn.right-dn.left,dn.height=dn.bottom-dn.top,dn.width<0||dn.height<0?null:new js(dn)}getIntersectionArea(sn){const dn=this.getIntersection(sn);return dn?dn.getArea():0}getArea(){return this.width*this.height}getVisible(){const sn=this._source;let dn=this.clone();if(Ru(sn))return dn;let vn,bn=sn,An=sn.parentNode||sn.commonAncestorContainer;for(;An&&!Ru(An);){if(bn instanceof HTMLElement&&yu(bn)==="absolute"&&(vn=bn),vn&&(yu(An)!=="relative"||(Dn=An).ownerDocument.defaultView.getComputedStyle(Dn).overflow==="visible")){bn=An,An=An.parentNode;continue}const Ln=new js(An),Bn=dn.getIntersection(Ln);if(!Bn)return null;Bn.getArea()<dn.getArea()&&(dn=Bn),bn=An,An=An.parentNode}var Dn;return dn}isEqual(sn){for(const dn of Ou)if(this[dn]!==sn[dn])return!1;return!0}contains(sn){const dn=this.getIntersection(sn);return!(!dn||!dn.isEqual(sn))}excludeScrollbarsAndBorders(){const sn=this._source;let dn,vn,bn;if(Hs(sn))dn=sn.innerWidth-sn.document.documentElement.clientWidth,vn=sn.innerHeight-sn.document.documentElement.clientHeight,bn=sn.getComputedStyle(sn.document.documentElement).direction;else{const An=$c(sn);dn=sn.offsetWidth-sn.clientWidth-An.left-An.right,vn=sn.offsetHeight-sn.clientHeight-An.top-An.bottom,bn=sn.ownerDocument.defaultView.getComputedStyle(sn).direction,this.left+=An.left,this.top+=An.top,this.right-=An.right,this.bottom-=An.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=dn,bn==="ltr"?this.right-=dn:this.left+=dn,this.height-=vn,this.bottom-=vn,this}static getDomRangeRects(sn){const dn=[],vn=Array.from(sn.getClientRects());if(vn.length)for(const bn of vn)dn.push(new js(bn));else{let bn=sn.startContainer;rs(bn)&&(bn=bn.parentNode);const An=new js(bn.getBoundingClientRect());An.right=An.left,An.width=0,dn.push(An)}return dn}static getBoundingRect(sn){const dn={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let vn=0;for(const bn of sn)vn++,dn.left=Math.min(dn.left,bn.left),dn.top=Math.min(dn.top,bn.top),dn.right=Math.max(dn.right,bn.right),dn.bottom=Math.max(dn.bottom,bn.bottom);return vn==0?null:(dn.width=dn.right-dn.left,dn.height=dn.bottom-dn.top,new js(dn))}}function rd(yn,sn){for(const dn of Ou)yn[dn]=sn[dn]}function Ru(yn){return!!mc(yn)&&yn===yn.ownerDocument.body}function mc(yn){return yn!==null&&typeof yn=="object"&&yn.nodeType===1&&typeof yn.getBoundingClientRect=="function"}function yu(yn){return yn.ownerDocument.defaultView.getComputedStyle(yn).position}const Oa=class{constructor(yn,sn){Oa._observerInstance||Oa._createObserver(),this._element=yn,this._callback=sn,Oa._addElementCallback(yn,sn),Oa._observerInstance.observe(yn)}get element(){return this._element}destroy(){Oa._deleteElementCallback(this._element,this._callback)}static _addElementCallback(yn,sn){Oa._elementCallbacks||(Oa._elementCallbacks=new Map);let dn=Oa._elementCallbacks.get(yn);dn||(dn=new Set,Oa._elementCallbacks.set(yn,dn)),dn.add(sn)}static _deleteElementCallback(yn,sn){const dn=Oa._getElementCallbacks(yn);dn&&(dn.delete(sn),dn.size||(Oa._elementCallbacks.delete(yn),Oa._observerInstance.unobserve(yn))),Oa._elementCallbacks&&!Oa._elementCallbacks.size&&(Oa._observerInstance=null,Oa._elementCallbacks=null)}static _getElementCallbacks(yn){return Oa._elementCallbacks?Oa._elementCallbacks.get(yn):null}static _createObserver(){Oa._observerInstance=new Ta.window.ResizeObserver(yn=>{for(const sn of yn){const dn=Oa._getElementCallbacks(sn.target);if(dn)for(const vn of dn)vn(sn)}})}};let wd=Oa;function Hd(yn,sn){yn instanceof HTMLTextAreaElement&&(yn.value=sn),yn.innerHTML=sn}function kd(yn){return sn=>sn+yn}function Nu(yn){let sn=0;for(;yn.previousSibling;)yn=yn.previousSibling,sn++;return sn}function Ad(yn,sn,dn){yn.insertBefore(dn,yn.childNodes[sn]||null)}function Ac(yn){return yn&&yn.nodeType===Node.COMMENT_NODE}function Tc(yn){return!!(yn&&yn.getClientRects&&yn.getClientRects().length)}wd._observerInstance=null,wd._elementCallbacks=null;var $u=Math.pow;function _r({element:yn,target:sn,positions:dn,limiter:vn,fitInViewport:bn,viewportOffsetConfig:An}){ja(sn)&&(sn=sn()),ja(vn)&&(vn=vn());const Dn=function($r){return $r&&$r.parentNode?$r.offsetParent===Ta.document.body?null:$r.offsetParent:null}(yn),Ln=new js(yn),Bn=new js(sn);let Vn;const Gn=bn&&function($r){$r=Object.assign({top:0,bottom:0,left:0,right:0},$r);const Yr=new js(Ta.window);return Yr.top+=$r.top,Yr.height-=$r.top,Yr.bottom-=$r.bottom,Yr.height-=$r.bottom,Yr}(An)||null,Kn={targetRect:Bn,elementRect:Ln,positionedElementAncestor:Dn,viewportRect:Gn};if(vn||bn){const $r=vn&&new js(vn).getVisible();Object.assign(Kn,{limiterRect:$r,viewportRect:Gn}),Vn=function(Yr,Qr){const{elementRect:si}=Qr,hi=si.getArea(),wi=Yr.map(qo=>new ai(qo,Qr)).filter(qo=>!!qo.name);let zi=0,so=null;for(const qo of wi){const{limiterIntersectionArea:Sa,viewportIntersectionArea:$s}=qo;if(Sa===hi)return qo;const ds=$u($s,2)+$u(Sa,2);ds>zi&&(zi=ds,so=qo)}return so}(dn,Kn)||new ai(dn[0],Kn)}else Vn=new ai(dn[0],Kn);return Vn}function Vr(yn){const{scrollX:sn,scrollY:dn}=Ta.window;return yn.clone().moveBy(sn,dn)}class ai{constructor(sn,dn){const vn=sn(dn.targetRect,dn.elementRect,dn.viewportRect);if(!vn)return;const{left:bn,top:An,name:Dn,config:Ln}=vn;this.name=Dn,this.config=Ln,this._positioningFunctionCorrdinates={left:bn,top:An},this._options=dn}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const sn=this._options.limiterRect;if(sn){const dn=this._options.viewportRect;if(!dn)return sn.getIntersectionArea(this._rect);{const vn=sn.getIntersection(dn);if(vn)return vn.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const sn=this._options.viewportRect;return sn?sn.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Vr(this._rect),this._options.positionedElementAncestor&&function(sn,dn){const vn=Vr(new js(dn)),bn=$c(dn);let An=0,Dn=0;An-=vn.left,Dn-=vn.top,An+=dn.scrollLeft,Dn+=dn.scrollTop,An-=bn.left,Dn-=bn.top,sn.moveBy(An,Dn)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function Ai(yn){const sn=yn.parentNode;sn&&sn.removeChild(yn)}function ao({window:yn,rect:sn,alignToTop:dn,forceScroll:vn,viewportOffset:bn}){const An=sn.clone().moveBy(0,bn.bottom),Dn=sn.clone().moveBy(0,-bn.top),Ln=new js(yn).excludeScrollbarsAndBorders(),Bn=dn&&vn,Vn=[Dn,An].every(Qr=>Ln.contains(Qr));let{scrollX:Gn,scrollY:Kn}=yn;const $r=Gn,Yr=Kn;Bn?Kn-=Ln.top-sn.top+bn.top:Vn||(ys(Dn,Ln)?Kn-=Ln.top-sn.top+bn.top:Ja(An,Ln)&&(Kn+=dn?sn.top-Ln.top-bn.top:sn.bottom-Ln.bottom+bn.bottom)),Vn||(Us(sn,Ln)?Gn-=Ln.left-sn.left+bn.left:Mc(sn,Ln)&&(Gn+=sn.right-Ln.right+bn.right)),Gn==$r&&Kn===Yr||yn.scrollTo(Gn,Kn)}function aa({parent:yn,getRect:sn,alignToTop:dn,forceScroll:vn,ancestorOffset:bn=0}){const An=Bu(yn),Dn=dn&&vn;let Ln,Bn,Vn;for(;yn!=An.document.body;)Bn=sn(),Ln=new js(yn).excludeScrollbarsAndBorders(),Vn=Ln.contains(Bn),Dn?yn.scrollTop-=Ln.top-Bn.top+bn:Vn||(ys(Bn,Ln)?yn.scrollTop-=Ln.top-Bn.top+bn:Ja(Bn,Ln)&&(yn.scrollTop+=dn?Bn.top-Ln.top-bn:Bn.bottom-Ln.bottom+bn)),Vn||(Us(Bn,Ln)?yn.scrollLeft-=Ln.left-Bn.left+bn:Mc(Bn,Ln)&&(yn.scrollLeft+=Bn.right-Ln.right+bn)),yn=yn.parentNode}function Ja(yn,sn){return yn.bottom>sn.bottom}function ys(yn,sn){return yn.top<sn.top}function Us(yn,sn){return yn.left<sn.left}function Mc(yn,sn){return yn.right>sn.right}function Bu(yn){return kc(yn)?yn.startContainer.ownerDocument.defaultView:yn.ownerDocument.defaultView}function Vd(yn){if(kc(yn)){let sn=yn.commonAncestorContainer;return rs(sn)&&(sn=sn.parentNode),sn}return yn.parentNode}function th(yn,sn){const dn=Bu(yn),vn=new js(yn);if(dn===sn)return vn;{let bn=dn;for(;bn!=sn;){const An=bn.frameElement,Dn=new js(An).excludeScrollbarsAndBorders();vn.moveBy(Dn.left,Dn.top),bn=bn.parent}}return vn}const id={ctrl:"â",cmd:"â",alt:"â¥",shift:"â§"},jd={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Xa=function(){const yn={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let sn=65;sn<=90;sn++)yn[String.fromCharCode(sn).toLowerCase()]=sn;for(let sn=48;sn<=57;sn++)yn[sn-48]=sn;for(let sn=112;sn<=123;sn++)yn["f"+(sn-111)]=sn;for(const sn of"`-=[];',./\\")yn[sn]=sn.charCodeAt(0);return yn}(),Ud=Object.fromEntries(Object.entries(Xa).map(([yn,sn])=>[sn,yn.charAt(0).toUpperCase()+yn.slice(1)]));function Bc(yn){let sn;if(typeof yn=="string"){if(sn=Xa[yn.toLowerCase()],!sn)throw new Nn("keyboard-unknown-key",null,{key:yn})}else sn=yn.keyCode+(yn.altKey?Xa.alt:0)+(yn.ctrlKey?Xa.ctrl:0)+(yn.shiftKey?Xa.shift:0)+(yn.metaKey?Xa.cmd:0);return sn}function Gd(yn){return typeof yn=="string"&&(yn=function(sn){return sn.split("+").map(dn=>dn.trim())}(yn)),yn.map(sn=>typeof sn=="string"?function(dn){if(dn.endsWith("!"))return Bc(dn.slice(0,-1));const vn=Bc(dn);return pn.isMac&&vn==Xa.ctrl?Xa.cmd:vn}(sn):sn).reduce((sn,dn)=>dn+sn,0)}function nh(yn){let sn=Gd(yn);return Object.entries(pn.isMac?id:jd).reduce((dn,[vn,bn])=>(sn&Xa[vn]&&(sn&=~Xa[vn],dn+=bn),dn),"")+(sn?Ud[sn]:"")}function kf(yn,sn){const dn=sn==="ltr";switch(yn){case Xa.arrowleft:return dn?"left":"right";case Xa.arrowright:return dn?"right":"left";case Xa.arrowup:return"up";case Xa.arrowdown:return"down"}}function $l(yn){return Array.isArray(yn)?yn:[yn]}function od(yn,sn,dn=1){if(typeof dn!="number")throw new Nn("translation-service-quantity-not-a-number",null,{quantity:dn});const vn=Object.keys(Ta.window.CKEDITOR_TRANSLATIONS).length;vn===1&&(yn=Object.keys(Ta.window.CKEDITOR_TRANSLATIONS)[0]);const bn=sn.id||sn.string;if(vn===0||!function(Bn,Vn){return!!Ta.window.CKEDITOR_TRANSLATIONS[Bn]&&!!Ta.window.CKEDITOR_TRANSLATIONS[Bn].dictionary[Vn]}(yn,bn))return dn!==1?sn.plural:sn.string;const An=Ta.window.CKEDITOR_TRANSLATIONS[yn].dictionary,Dn=Ta.window.CKEDITOR_TRANSLATIONS[yn].getPluralForm||(Bn=>Bn===1?0:1),Ln=An[bn];return typeof Ln=="string"?Ln:Ln[Number(Dn(dn))]}Ta.window.CKEDITOR_TRANSLATIONS||(Ta.window.CKEDITOR_TRANSLATIONS={});const ad=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function ip(yn){return ad.includes(yn)?"rtl":"ltr"}class sg{constructor({uiLanguage:sn="en",contentLanguage:dn}={}){this.uiLanguage=sn,this.contentLanguage=dn||this.uiLanguage,this.uiLanguageDirection=ip(this.uiLanguage),this.contentLanguageDirection=ip(this.contentLanguage),this.t=(vn,bn)=>this._t(vn,bn)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(sn,dn=[]){dn=$l(dn),typeof sn=="string"&&(sn={string:sn});const vn=sn.plural?dn[0]:1;return function(bn,An){return bn.replace(/%(\d+)/g,(Dn,Ln)=>Ln<An.length?An[Ln]:Dn)}(od(this.uiLanguage,sn,vn),dn)}}class Fc extends ti(){constructor(sn={},dn={}){super();const vn=Mi(sn);if(vn||(dn=sn),this._items=[],this._itemMap=new Map,this._idProperty=dn.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],vn)for(const bn of sn)this._items.push(bn),this._itemMap.set(this._getItemIdBeforeAdding(bn),bn)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(sn,dn){return this.addMany([sn],dn)}addMany(sn,dn){if(dn===void 0)dn=this._items.length;else if(dn>this._items.length||dn<0)throw new Nn("collection-add-item-invalid-index",this);let vn=0;for(const bn of sn){const An=this._getItemIdBeforeAdding(bn),Dn=dn+vn;this._items.splice(Dn,0,bn),this._itemMap.set(An,bn),this.fire("add",bn,Dn),vn++}return this.fire("change",{added:sn,removed:[],index:dn}),this}get(sn){let dn;if(typeof sn=="string")dn=this._itemMap.get(sn);else{if(typeof sn!="number")throw new Nn("collection-get-invalid-arg",this);dn=this._items[sn]}return dn||null}has(sn){if(typeof sn=="string")return this._itemMap.has(sn);{const dn=sn[this._idProperty];return dn&&this._itemMap.has(dn)}}getIndex(sn){let dn;return dn=typeof sn=="string"?this._itemMap.get(sn):sn,dn?this._items.indexOf(dn):-1}remove(sn){const[dn,vn]=this._remove(sn);return this.fire("change",{added:[],removed:[dn],index:vn}),dn}map(sn,dn){return this._items.map(sn,dn)}find(sn,dn){return this._items.find(sn,dn)}filter(sn,dn){return this._items.filter(sn,dn)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const sn=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:sn,index:0})}bindTo(sn){if(this._bindToCollection)throw new Nn("collection-bind-to-rebind",this);return this._bindToCollection=sn,{as:dn=>{this._setUpBindToBinding(vn=>new dn(vn))},using:dn=>{typeof dn=="function"?this._setUpBindToBinding(dn):this._setUpBindToBinding(vn=>vn[dn])}}}_setUpBindToBinding(sn){const dn=this._bindToCollection,vn=(bn,An,Dn)=>{const Ln=dn._bindToCollection==this,Bn=dn._bindToInternalToExternalMap.get(An);if(Ln&&Bn)this._bindToExternalToInternalMap.set(An,Bn),this._bindToInternalToExternalMap.set(Bn,An);else{const Vn=sn(An);if(!Vn)return void this._skippedIndexesFromExternal.push(Dn);let Gn=Dn;for(const Kn of this._skippedIndexesFromExternal)Dn>Kn&&Gn--;for(const Kn of dn._skippedIndexesFromExternal)Gn>=Kn&&Gn++;this._bindToExternalToInternalMap.set(An,Vn),this._bindToInternalToExternalMap.set(Vn,An),this.add(Vn,Gn);for(let Kn=0;Kn<dn._skippedIndexesFromExternal.length;Kn++)Gn<=dn._skippedIndexesFromExternal[Kn]&&dn._skippedIndexesFromExternal[Kn]++}};for(const bn of dn)vn(0,bn,dn.getIndex(bn));this.listenTo(dn,"add",vn),this.listenTo(dn,"remove",(bn,An,Dn)=>{const Ln=this._bindToExternalToInternalMap.get(An);Ln&&this.remove(Ln),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((Bn,Vn)=>(Dn<Vn&&Bn.push(Vn-1),Dn>Vn&&Bn.push(Vn),Bn),[])})}_getItemIdBeforeAdding(sn){const dn=this._idProperty;let vn;if(dn in sn){if(vn=sn[dn],typeof vn!="string")throw new Nn("collection-add-invalid-id",this);if(this.get(vn))throw new Nn("collection-add-item-already-exists",this)}else sn[dn]=vn=In();return vn}_remove(sn){let dn,vn,bn,An=!1;const Dn=this._idProperty;if(typeof sn=="string"?(vn=sn,bn=this._itemMap.get(vn),An=!bn,bn&&(dn=this._items.indexOf(bn))):typeof sn=="number"?(dn=sn,bn=this._items[dn],An=!bn,bn&&(vn=bn[Dn])):(bn=sn,vn=bn[Dn],dn=this._items.indexOf(bn),An=dn==-1||!this._itemMap.get(vn)),An)throw new Nn("collection-remove-404",this);this._items.splice(dn,1),this._itemMap.delete(vn);const Ln=this._bindToInternalToExternalMap.get(bn);return this._bindToInternalToExternalMap.delete(bn),this._bindToExternalToInternalMap.delete(Ln),this.fire("remove",bn,dn),[bn,dn]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function _l(yn){const sn=yn.next();return sn.done?null:sn.value}class Ic extends Ks(Yi()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(sn){if(this._elements.has(sn))throw new Nn("focustracker-add-element-already-exist",this);this.listenTo(sn,"focus",()=>this._focus(sn),{useCapture:!0}),this.listenTo(sn,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(sn)}remove(sn){sn===this.focusedElement&&this._blur(),this._elements.has(sn)&&(this.stopListening(sn),this._elements.delete(sn))}destroy(){this.stopListening()}_focus(sn){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=sn,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class tu{constructor(){this._listener=new(Ks())}listenTo(sn){this._listener.listenTo(sn,"keydown",(dn,vn)=>{this._listener.fire("_keydown:"+Bc(vn),vn)})}set(sn,dn,vn={}){const bn=Gd(sn),An=vn.priority;this._listener.listenTo(this._listener,"_keydown:"+bn,(Dn,Ln)=>{dn(Ln,()=>{Ln.preventDefault(),Ln.stopPropagation(),Dn.stop()}),Dn.return=!0},{priority:An})}press(sn){return!!this._listener.fire("_keydown:"+Bc(sn),sn)}stopListening(sn){this._listener.stopListening(sn)}destroy(){this.stopListening()}}function nl(yn){return Mi(yn)?new Map(yn):function(sn){const dn=new Map;for(const vn in sn)dn.set(vn,sn[vn]);return dn}(yn)}function dl(yn,sn){let dn;function vn(...bn){vn.cancel(),dn=setTimeout(()=>yn(...bn),sn)}return vn.cancel=()=>{clearTimeout(dn)},vn}function Bl(yn,sn){return!!(dn=yn.charAt(sn-1))&&dn.length==1&&/[\ud800-\udbff]/.test(dn)&&function(vn){return!!vn&&vn.length==1&&/[\udc00-\udfff]/.test(vn)}(yn.charAt(sn));var dn}function fl(yn,sn){return!!(dn=yn.charAt(sn))&&dn.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(dn);var dn}const Wd=function(){const yn=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],sn=new RegExp("\\p{Regional_Indicator}{2}","u").source,dn="(?:"+yn.map(vn=>vn.source).join("|")+")";return new RegExp(`${sn}|${dn}(?:â${dn})*`,"ug")}();function op(yn,sn){const dn=String(yn).matchAll(Wd);return Array.from(dn).some(vn=>vn.index<sn&&sn<vn.index+vn[0].length)}class zc extends Fc{constructor(sn=[]){super(sn,{idProperty:"viewUid"}),this.on("add",(dn,vn,bn)=>{this._renderViewIntoCollectionParent(vn,bn)}),this.on("remove",(dn,vn)=>{vn.element&&this._parentElement&&vn.element.remove()}),this._parentElement=null}destroy(){this.map(sn=>sn.destroy())}setParent(sn){this._parentElement=sn;for(const dn of this)this._renderViewIntoCollectionParent(dn)}delegate(...sn){if(!sn.length||!sn.every(dn=>typeof dn=="string"))throw new Nn("ui-viewcollection-delegate-wrong-events",this);return{to:dn=>{for(const vn of this)for(const bn of sn)vn.delegate(bn).to(dn);this.on("add",(vn,bn)=>{for(const An of sn)bn.delegate(An).to(dn)}),this.on("remove",(vn,bn)=>{for(const An of sn)bn.stopDelegating(An,dn)})}}}_renderViewIntoCollectionParent(sn,dn){sn.isRendered||sn.render(),sn.element&&this._parentElement&&this._parentElement.insertBefore(sn.element,this._parentElement.children[dn])}remove(sn){return super.remove(sn)}}var lg=rn(6062),Qo=rn.n(lg),ap=rn(4793),rh={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(ap.Z,rh),ap.Z.locals;class is extends Ks(Yi()){constructor(sn){super(),this.element=null,this.isRendered=!1,this.locale=sn,this.t=sn&&sn.t,this._viewCollections=new Fc,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(dn,vn)=>{vn.locale=sn,vn.t=sn&&sn.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Cc.bind(this,this)}createCollection(sn){const dn=new zc(sn);return this._viewCollections.add(dn),dn}registerChild(sn){Mi(sn)||(sn=[sn]);for(const dn of sn)this._unboundChildren.add(dn)}deregisterChild(sn){Mi(sn)||(sn=[sn]);for(const dn of sn)this._unboundChildren.remove(dn)}setTemplate(sn){this.template=new Cc(sn)}extendTemplate(sn){Cc.extend(this.template,sn)}render(){if(this.isRendered)throw new Nn("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(sn=>sn.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Cc extends ti(){constructor(sn){super(),Object.assign(this,Zd(lp(sn))),this._isRendered=!1,this._revertData=null}render(){const sn=this._renderNode({intoFragment:!0});return this._isRendered=!0,sn}apply(sn){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:sn,intoFragment:!1,isApplying:!0,revertData:this._revertData}),sn}revert(sn){if(!this._revertData)throw new Nn("ui-template-revert-not-applied",[this,sn]);this._revertTemplateFromNode(sn,this._revertData)}*getViews(){yield*function*sn(dn){if(dn.children)for(const vn of dn.children)cs(vn)?yield vn:xc(vn)&&(yield*sn(vn))}(this)}static bind(sn,dn){return{to:(vn,bn)=>new ih({eventNameOrFunction:vn,attribute:vn,observable:sn,emitter:dn,callback:bn}),if:(vn,bn,An)=>new Af({observable:sn,emitter:dn,attribute:vn,valueIfTrue:bn,callback:An})}}static extend(sn,dn){if(sn._isRendered)throw new Nn("template-extend-render",[this,sn]);lh(sn,Zd(lp(dn)))}_renderNode(sn){let dn;if(dn=sn.node?this.tag&&this.text:this.tag?this.text:!this.text,dn)throw new Nn("ui-template-wrong-syntax",this);return this.text?this._renderText(sn):this._renderElement(sn)}_renderElement(sn){let dn=sn.node;return dn||(dn=sn.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(sn),this._renderElementChildren(sn),this._setUpListeners(sn),dn}_renderText(sn){let dn=sn.node;return dn?sn.revertData.text=dn.textContent:dn=sn.node=document.createTextNode(""),Yd(this.text)?this._bindToObservable({schema:this.text,updater:ah(dn),data:sn}):dn.textContent=this.text.join(""),dn}_renderAttributes(sn){if(!this.attributes)return;const dn=sn.node,vn=sn.revertData;for(const bn in this.attributes){const An=dn.getAttribute(bn),Dn=this.attributes[bn];vn&&(vn.attributes[bn]=An);const Ln=bu(Dn)?Dn[0].ns:null;if(Yd(Dn)){const Bn=bu(Dn)?Dn[0].value:Dn;vn&&ch(bn)&&Bn.unshift(An),this._bindToObservable({schema:Bn,updater:sp(dn,bn,Ln),data:sn})}else if(bn=="style"&&typeof Dn[0]!="string")this._renderStyleAttribute(Dn[0],sn);else{vn&&An&&ch(bn)&&Dn.unshift(An);const Bn=Dn.map(Vn=>Vn&&Vn.value||Vn).reduce((Vn,Gn)=>Vn.concat(Gn),[]).reduce(sh,"");Fl(Bn)||dn.setAttributeNS(Ln,bn,Bn)}}}_renderStyleAttribute(sn,dn){const vn=dn.node;for(const bn in sn){const An=sn[bn];Yd(An)?this._bindToObservable({schema:[An],updater:Kd(vn,bn),data:dn}):vn.style[bn]=An}}_renderElementChildren(sn){const dn=sn.node,vn=sn.intoFragment?document.createDocumentFragment():dn,bn=sn.isApplying;let An=0;for(const Dn of this.children)if(ru(Dn)){if(!bn){Dn.setParent(dn);for(const Ln of Dn)vn.appendChild(Ln.element)}}else if(cs(Dn))bn||(Dn.isRendered||Dn.render(),vn.appendChild(Dn.element));else if(Va(Dn))vn.appendChild(Dn);else if(bn){const Ln={children:[],bindings:[],attributes:{}};sn.revertData.children.push(Ln),Dn._renderNode({intoFragment:!1,node:vn.childNodes[An++],isApplying:!0,revertData:Ln})}else vn.appendChild(Dn.render());sn.intoFragment&&dn.appendChild(vn)}_setUpListeners(sn){if(this.eventListeners)for(const dn in this.eventListeners){const vn=this.eventListeners[dn].map(bn=>{const[An,Dn]=dn.split("@");return bn.activateDomEventListener(An,Dn,sn)});sn.revertData&&sn.revertData.bindings.push(vn)}}_bindToObservable({schema:sn,updater:dn,data:vn}){const bn=vn.revertData;oh(sn,dn,vn);const An=sn.filter(Dn=>!Fl(Dn)).filter(Dn=>Dn.observable).map(Dn=>Dn.activateAttributeListener(sn,dn,vn));bn&&bn.bindings.push(An)}_revertTemplateFromNode(sn,dn){for(const bn of dn.bindings)for(const An of bn)An();if(dn.text)return void(sn.textContent=dn.text);const vn=sn;for(const bn in dn.attributes){const An=dn.attributes[bn];An===null?vn.removeAttribute(bn):vn.setAttribute(bn,An)}for(let bn=0;bn<dn.children.length;++bn)this._revertTemplateFromNode(vn.childNodes[bn],dn.children[bn])}}class qd{constructor(sn){this.attribute=sn.attribute,this.observable=sn.observable,this.emitter=sn.emitter,this.callback=sn.callback}getValue(sn){const dn=this.observable[this.attribute];return this.callback?this.callback(dn,sn):dn}activateAttributeListener(sn,dn,vn){const bn=()=>oh(sn,dn,vn);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,bn),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,bn)}}}class ih extends qd{constructor(sn){super(sn),this.eventNameOrFunction=sn.eventNameOrFunction}activateDomEventListener(sn,dn,vn){const bn=(An,Dn)=>{dn&&!Dn.target.matches(dn)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(Dn):this.observable.fire(this.eventNameOrFunction,Dn))};return this.emitter.listenTo(vn.node,sn,bn),()=>{this.emitter.stopListening(vn.node,sn,bn)}}}class Af extends qd{constructor(sn){super(sn),this.valueIfTrue=sn.valueIfTrue}getValue(sn){return!Fl(super.getValue(sn))&&(this.valueIfTrue||!0)}}function Yd(yn){return!!yn&&(yn.value&&(yn=yn.value),Array.isArray(yn)?yn.some(Yd):yn instanceof qd)}function oh(yn,sn,{node:dn}){const vn=function(An,Dn){return An.map(Ln=>Ln instanceof qd?Ln.getValue(Dn):Ln)}(yn,dn);let bn;bn=yn.length==1&&yn[0]instanceof Af?vn[0]:vn.reduce(sh,""),Fl(bn)?sn.remove():sn.set(bn)}function ah(yn){return{set(sn){yn.textContent=sn},remove(){yn.textContent=""}}}function sp(yn,sn,dn){return{set(vn){yn.setAttributeNS(dn,sn,vn)},remove(){yn.removeAttributeNS(dn,sn)}}}function Kd(yn,sn){return{set(dn){yn.style[sn]=dn},remove(){yn.style[sn]=null}}}function lp(yn){return Ba(yn,sn=>{if(sn&&(sn instanceof qd||xc(sn)||cs(sn)||ru(sn)))return sn})}function Zd(yn){if(typeof yn=="string"?yn=function(sn){return{text:[sn]}}(yn):yn.text&&function(sn){sn.text=$l(sn.text)}(yn),yn.on&&(yn.eventListeners=function(sn){for(const dn in sn)nu(sn,dn);return sn}(yn.on),delete yn.on),!yn.text){yn.attributes&&function(dn){for(const vn in dn)dn[vn].value&&(dn[vn].value=$l(dn[vn].value)),nu(dn,vn)}(yn.attributes);const sn=[];if(yn.children)if(ru(yn.children))sn.push(yn.children);else for(const dn of yn.children)xc(dn)||cs(dn)||Va(dn)?sn.push(dn):sn.push(new Cc(dn));yn.children=sn}return yn}function nu(yn,sn){yn[sn]=$l(yn[sn])}function sh(yn,sn){return Fl(sn)?yn:Fl(yn)?sn:`${yn} ${sn}`}function cp(yn,sn){for(const dn in sn)yn[dn]?yn[dn].push(...sn[dn]):yn[dn]=sn[dn]}function lh(yn,sn){if(sn.attributes&&(yn.attributes||(yn.attributes={}),cp(yn.attributes,sn.attributes)),sn.eventListeners&&(yn.eventListeners||(yn.eventListeners={}),cp(yn.eventListeners,sn.eventListeners)),sn.text&&yn.text.push(...sn.text),sn.children&&sn.children.length){if(yn.children.length!=sn.children.length)throw new Nn("ui-template-extend-children-mismatch",yn);let dn=0;for(const vn of sn.children)lh(yn.children[dn++],vn)}}function Fl(yn){return!yn&&yn!==0}function cs(yn){return yn instanceof is}function xc(yn){return yn instanceof Cc}function ru(yn){return yn instanceof zc}function bu(yn){return yi(yn[0])&&yn[0].ns}function ch(yn){return yn=="class"||yn=="style"}class uh extends zc{constructor(sn,dn=[]){super(dn),this.locale=sn}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Cc({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let sn=document.querySelector(".ck-body-wrapper");sn||(sn=ya(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(sn)),sn.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const sn=document.querySelector(".ck-body-wrapper");sn&&sn.childElementCount==0&&sn.remove()}}var dh=rn(6574),cg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(dh.Z,cg),dh.Z.locals;const Cf=class extends is{constructor(){super();const yn=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",yn.if("isColorInherited","ck-icon_inherit-color")],viewBox:yn.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const yn=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),sn=yn.getAttribute("viewBox");sn&&(this.viewBox=sn);for(const{name:dn,value:vn}of Array.from(yn.attributes))Cf.presentationalAttributeNames.includes(dn)&&this.element.setAttribute(dn,vn);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;yn.childNodes.length>0;)this.element.appendChild(yn.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(yn=>{yn.style.fill=this.fillColor})}};let iu=Cf;iu.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var fh=rn(4906),hh={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(fh.Z,hh),fh.Z.locals;class gs extends is{constructor(sn){super(sn),this._focusDelayed=null;const dn=this.bindTemplate,vn=In();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${vn}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new iu,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const bn={tag:"button",attributes:{class:["ck","ck-button",dn.to("class"),dn.if("isEnabled","ck-disabled",An=>!An),dn.if("isVisible","ck-hidden",An=>!An),dn.to("isOn",An=>An?"ck-on":"ck-off"),dn.if("withText","ck-button_with-text"),dn.if("withKeystroke","ck-button_with-keystroke")],role:dn.to("role"),type:dn.to("type",An=>An||"button"),tabindex:dn.to("tabindex"),"aria-label":dn.to("ariaLabel"),"aria-labelledby":dn.to("ariaLabelledBy"),"aria-disabled":dn.if("isEnabled",!0,An=>!An),"aria-checked":dn.to("isOn"),"aria-pressed":dn.to("isOn",An=>!!this.isToggleable&&String(!!An)),"data-cke-tooltip-text":dn.to("_tooltipString"),"data-cke-tooltip-position":dn.to("tooltipPosition")},children:this.children,on:{click:dn.to(An=>{this.isEnabled?this.fire("execute"):An.preventDefault()})}};pn.isSafari&&(this._focusDelayed||(this._focusDelayed=dl(()=>this.focus(),0)),bn.on.mousedown=dn.to(()=>{this._focusDelayed()}),bn.on.mouseup=dn.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(bn)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const sn=new is,dn=this.bindTemplate;return sn.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:dn.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:dn.to("label")}]}),sn}_createKeystrokeView(){const sn=new is;return sn.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",dn=>nh(dn))}]}),sn}_getTooltipString(sn,dn,vn){return sn?typeof sn=="string"?sn:(vn&&(vn=nh(vn)),sn instanceof Function?sn(dn,vn):`${dn}${vn?` (${vn})`:""}`):""}}var ph=rn(5332),up={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(ph.Z,up),ph.Z.locals;class xf extends gs{constructor(sn){super(sn),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const sn=new is;return sn.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),sn}}var Xd=rn(6781),gh={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Xd.Z,gh),Xd.Z.locals,rn(1103),rn(841);var vh=rn(3662),ug={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(vh.Z,ug),vh.Z.locals;class mh extends is{constructor(sn){super(sn),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${In()}`;const dn=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:dn.to("for")},children:[{text:dn.to("text")}]})}}var dp=rn(2577),dg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(dp.Z,dg),dp.Z.locals;class Cd extends is{constructor(sn,dn){super(sn);const vn=`ck-labeled-field-view-${In()}`,bn=`ck-labeled-field-view-status-${In()}`;this.fieldView=dn(this,vn,bn),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(vn),this.statusView=this._createStatusView(bn),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(Dn,Ln)=>Dn||Ln);const An=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",An.to("class"),An.if("isEnabled","ck-disabled",Dn=>!Dn),An.if("isEmpty","ck-labeled-field-view_empty"),An.if("isFocused","ck-labeled-field-view_focused"),An.if("placeholder","ck-labeled-field-view_placeholder"),An.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(sn){const dn=new mh(this.locale);return dn.for=sn,dn.bind("text").to(this,"label"),dn}_createStatusView(sn){const dn=new is(this.locale),vn=this.bindTemplate;return dn.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",vn.if("errorText","ck-labeled-field-view__status_error"),vn.if("_statusText","ck-hidden",bn=>!bn)],id:sn,role:vn.if("errorText","alert")},children:[{text:vn.to("_statusText")}]}),dn}focus(){this.fieldView.focus()}}var yh=rn(4879),fg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(yh.Z,fg),yh.Z.locals;class hg extends is{constructor(sn){super(sn),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Ic,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const dn=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",dn.if("isFocused","ck-input_focused"),dn.if("isEmpty","ck-input-text_empty"),dn.if("hasError","ck-error")],id:dn.to("id"),placeholder:dn.to("placeholder"),readonly:dn.to("isReadOnly"),inputmode:dn.to("inputMode"),"aria-invalid":dn.if("hasError",!0),"aria-describedby":dn.to("ariaDescribedById")},on:{input:dn.to((...vn)=>{this.fire("input",...vn),this._updateIsEmpty()}),change:dn.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(sn,dn,vn)=>{this._setDomElementValue(vn),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(sn){this.element.value=sn||sn===0?sn:""}}class fp extends hg{constructor(sn){super(sn),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class xd extends is{constructor(sn){super(sn);const dn=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",dn.to("position",vn=>`ck-dropdown__panel_${vn}`),dn.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:dn.to(vn=>{vn.target.tagName.toLocaleLowerCase()!=="input"&&vn.preventDefault()})}})}focus(){if(this.children.length){const sn=this.children.first;typeof sn.focus=="function"?sn.focus():Hn("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const sn=this.children.last;typeof sn.focusLast=="function"?sn.focusLast():sn.focus()}}}var Sf=rn(5485),Ef={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Sf.Z,Ef),Sf.Z.locals;const Df=class extends is{constructor(yn,sn,dn){super(yn);const vn=this.bindTemplate;this.buttonView=sn,this.panelView=dn,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new tu,this.focusTracker=new Ic,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",vn.to("class"),vn.if("isEnabled","ck-disabled",bn=>!bn)],id:vn.to("id"),"aria-describedby":vn.to("ariaDescribedById")},children:[sn,dn]}),sn.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":vn.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(sn,dn,vn)=>{vn&&(this.panelPosition==="auto"?this.panelView.position=Df._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const yn=(sn,dn)=>{this.isOpen&&(this.isOpen=!1,dn())};this.keystrokes.set("arrowdown",(sn,dn)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,dn())}),this.keystrokes.set("arrowright",(sn,dn)=>{this.isOpen&&dn()}),this.keystrokes.set("arrowleft",yn),this.keystrokes.set("esc",yn)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:yn,north:sn,southEast:dn,southWest:vn,northEast:bn,northWest:An,southMiddleEast:Dn,southMiddleWest:Ln,northMiddleEast:Bn,northMiddleWest:Vn}=Df.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[dn,vn,Dn,Ln,yn,bn,An,Bn,Vn,sn]:[vn,dn,Ln,Dn,yn,An,bn,Vn,Bn,sn]}};let Qd=Df;Qd.defaultPanelPositions={south:(yn,sn)=>({top:yn.bottom,left:yn.left-(sn.width-yn.width)/2,name:"s"}),southEast:yn=>({top:yn.bottom,left:yn.left,name:"se"}),southWest:(yn,sn)=>({top:yn.bottom,left:yn.left-sn.width+yn.width,name:"sw"}),southMiddleEast:(yn,sn)=>({top:yn.bottom,left:yn.left-(sn.width-yn.width)/4,name:"sme"}),southMiddleWest:(yn,sn)=>({top:yn.bottom,left:yn.left-3*(sn.width-yn.width)/4,name:"smw"}),north:(yn,sn)=>({top:yn.top-sn.height,left:yn.left-(sn.width-yn.width)/2,name:"n"}),northEast:(yn,sn)=>({top:yn.top-sn.height,left:yn.left,name:"ne"}),northWest:(yn,sn)=>({top:yn.top-sn.height,left:yn.left-sn.width+yn.width,name:"nw"}),northMiddleEast:(yn,sn)=>({top:yn.top-sn.height,left:yn.left-(sn.width-yn.width)/4,name:"nme"}),northMiddleWest:(yn,sn)=>({top:yn.top-sn.height,left:yn.left-3*(sn.width-yn.width)/4,name:"nmw"})},Qd._getOptimalPosition=_r;const bh='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class pg extends gs{constructor(sn){super(sn),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",dn=>String(dn))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const sn=new iu;return sn.content=bh,sn.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),sn}}class sd{constructor(sn){if(this.focusables=sn.focusables,this.focusTracker=sn.focusTracker,this.keystrokeHandler=sn.keystrokeHandler,this.actions=sn.actions,sn.actions&&sn.keystrokeHandler)for(const dn in sn.actions){let vn=sn.actions[dn];typeof vn=="string"&&(vn=[vn]);for(const bn of vn)sn.keystrokeHandler.set(bn,(An,Dn)=>{this[dn](),Dn()})}}get first(){return this.focusables.find(Dl)||null}get last(){return this.focusables.filter(Dl).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let sn=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((dn,vn)=>{const bn=dn.element===this.focusTracker.focusedElement;return bn&&(sn=vn),bn}),sn)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(sn){sn&&sn.focus()}_getFocusableItem(sn){const dn=this.current,vn=this.focusables.length;if(!vn)return null;if(dn===null)return this[sn===1?"first":"last"];let bn=(dn+vn+sn)%vn;do{const An=this.focusables.get(bn);if(Dl(An))return An;bn=(bn+vn+sn)%vn}while(bn!==dn);return null}}function Dl(yn){return!(!yn.focus||!Tc(yn.element))}class Jd extends is{constructor(sn){super(sn),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class hp extends is{constructor(sn){super(sn),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function _h(yn){return Array.isArray(yn)?{items:yn,removeItems:[]}:yn?Object.assign({items:[],removeItems:[]},yn):{items:[],removeItems:[]}}class xo extends Yi(){constructor(sn){super(),this._disableStack=new Set,this.editor=sn,this.set("isEnabled",!0)}forceDisabled(sn){this._disableStack.add(sn),this._disableStack.size==1&&(this.on("set:isEnabled",ld,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(sn){this._disableStack.delete(sn),this._disableStack.size==0&&(this.off("set:isEnabled",ld),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function ld(yn){yn.return=!1,yn.stop()}class qa extends Yi(){constructor(sn){super(),this.editor=sn,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(sn,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",dn=>{this.affectsData&&(sn.isReadOnly||this._isEnabledBasedOnSelection&&!sn.model.canEditAt(sn.model.document.selection))&&(dn.return=!1,dn.stop())},{priority:"highest"}),this.on("execute",dn=>{this.isEnabled||dn.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(sn){this._affectsData=sn}refresh(){this.isEnabled=!0}forceDisabled(sn){this._disableStack.add(sn),this._disableStack.size==1&&(this.on("set:isEnabled",wh,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(sn){this._disableStack.delete(sn),this._disableStack.size==0&&(this.off("set:isEnabled",wh),this.refresh())}execute(...sn){}destroy(){this.stopListening()}}function wh(yn){yn.return=!1,yn.stop()}class kh extends qa{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...sn){const dn=this._getFirstEnabledCommand();return!!dn&&dn.execute(sn)}registerChildCommand(sn,dn={}){Pn(this._childCommandsDefinitions,{command:sn,priority:dn.priority||"normal"}),sn.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const sn=this._childCommandsDefinitions.find(({command:dn})=>dn.isEnabled);return sn&&sn.command}}class Ah extends ti(){constructor(sn,dn=[],vn=[]){super(),this._plugins=new Map,this._context=sn,this._availablePlugins=new Map;for(const bn of dn)bn.pluginName&&this._availablePlugins.set(bn.pluginName,bn);this._contextPlugins=new Map;for(const[bn,An]of vn)this._contextPlugins.set(bn,An),this._contextPlugins.set(An,bn),bn.pluginName&&this._availablePlugins.set(bn.pluginName,bn)}*[Symbol.iterator](){for(const sn of this._plugins)typeof sn[0]=="function"&&(yield sn)}get(sn){const dn=this._plugins.get(sn);if(!dn){let vn=sn;throw typeof sn=="function"&&(vn=sn.pluginName||sn.name),new Nn("plugincollection-plugin-not-loaded",this._context,{plugin:vn})}return dn}has(sn){return this._plugins.has(sn)}init(sn,dn=[],vn=[]){const bn=this,An=this._context;(function Qr(si,hi=new Set){si.forEach(wi=>{Bn(wi)&&(hi.has(wi)||(hi.add(wi),wi.pluginName&&!bn._availablePlugins.has(wi.pluginName)&&bn._availablePlugins.set(wi.pluginName,wi),wi.requires&&Qr(wi.requires,hi)))})})(sn),$r(sn);const Dn=[...function Qr(si,hi=new Set){return si.map(wi=>Bn(wi)?wi:bn._availablePlugins.get(wi)).reduce((wi,zi)=>hi.has(zi)?wi:(hi.add(zi),zi.requires&&($r(zi.requires,zi),Qr(zi.requires,hi).forEach(so=>wi.add(so))),wi.add(zi)),new Set)}(sn.filter(Qr=>!Gn(Qr,dn)))];(function(Qr,si){for(const hi of si){if(typeof hi!="function")throw new Nn("plugincollection-replace-plugin-invalid-type",null,{pluginItem:hi});const wi=hi.pluginName;if(!wi)throw new Nn("plugincollection-replace-plugin-missing-name",null,{pluginItem:hi});if(hi.requires&&hi.requires.length)throw new Nn("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:wi});const zi=bn._availablePlugins.get(wi);if(!zi)throw new Nn("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:wi});const so=Qr.indexOf(zi);if(so===-1){if(bn._contextPlugins.has(zi))return;throw new Nn("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:wi})}if(zi.requires&&zi.requires.length)throw new Nn("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:wi});Qr.splice(so,1,hi),bn._availablePlugins.set(wi,hi)}})(Dn,vn);const Ln=Dn.map(Qr=>{let si=bn._contextPlugins.get(Qr);return si=si||new Qr(An),bn._add(Qr,si),si});return Yr(Ln,"init").then(()=>Yr(Ln,"afterInit")).then(()=>Ln);function Bn(Qr){return typeof Qr=="function"}function Vn(Qr){return Bn(Qr)&&!!Qr.isContextPlugin}function Gn(Qr,si){return si.some(hi=>hi===Qr||Kn(Qr)===hi||Kn(hi)===Qr)}function Kn(Qr){return Bn(Qr)?Qr.pluginName||Qr.name:Qr}function $r(Qr,si=null){Qr.map(hi=>Bn(hi)?hi:bn._availablePlugins.get(hi)||hi).forEach(hi=>{(function(wi,zi){if(!Bn(wi))throw zi?new Nn("plugincollection-soft-required",An,{missingPlugin:wi,requiredBy:Kn(zi)}):new Nn("plugincollection-plugin-not-found",An,{plugin:wi})})(hi,si),function(wi,zi){if(Vn(zi)&&!Vn(wi))throw new Nn("plugincollection-context-required",An,{plugin:Kn(wi),requiredBy:Kn(zi)})}(hi,si),function(wi,zi){if(zi&&Gn(wi,dn))throw new Nn("plugincollection-required",An,{plugin:Kn(wi),requiredBy:Kn(zi)})}(hi,si)})}function Yr(Qr,si){return Qr.reduce((hi,wi)=>wi[si]?bn._contextPlugins.has(wi)?hi:hi.then(wi[si].bind(wi)):hi,Promise.resolve())}}destroy(){const sn=[];for(const[,dn]of this)typeof dn.destroy!="function"||this._contextPlugins.has(dn)||sn.push(dn.destroy());return Promise.all(sn)}_add(sn,dn){this._plugins.set(sn,dn);const vn=sn.pluginName;if(vn){if(this._plugins.has(vn))throw new Nn("plugincollection-plugin-name-conflict",null,{pluginName:vn,plugin1:this._plugins.get(vn).constructor,plugin2:sn});this._plugins.set(vn,dn)}}}class cd{constructor(sn){this._contextOwner=null,this.config=new ka(sn,this.constructor.defaultConfig);const dn=this.constructor.builtinPlugins;this.config.define("plugins",dn),this.plugins=new Ah(this,dn);const vn=this.config.get("language")||{};this.locale=new sg({uiLanguage:typeof vn=="string"?vn:vn.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Fc}initPlugins(){const sn=this.config.get("plugins")||[],dn=this.config.get("substitutePlugins")||[];for(const vn of sn.concat(dn)){if(typeof vn!="function")throw new Nn("context-initplugins-constructor-only",null,{Plugin:vn});if(vn.isContextPlugin!==!0)throw new Nn("context-initplugins-invalid-plugin",null,{Plugin:vn})}return this.plugins.init(sn,[],dn)}destroy(){return Promise.all(Array.from(this.editors,sn=>sn.destroy())).then(()=>this.plugins.destroy())}_addEditor(sn,dn){if(this._contextOwner)throw new Nn("context-addeditor-private-context");this.editors.add(sn),dn&&(this._contextOwner=sn)}_removeEditor(sn){return this.editors.has(sn)&&this.editors.remove(sn),this._contextOwner===sn?this.destroy():Promise.resolve()}_getEditorConfig(){const sn={};for(const dn of this.config.names())["plugins","removePlugins","extraPlugins"].includes(dn)||(sn[dn]=this.config.get(dn));return sn}static create(sn){return new Promise(dn=>{const vn=new this(sn);dn(vn.initPlugins().then(()=>vn))})}}class ef extends Yi(){constructor(sn){super(),this.context=sn}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Tf extends tu{constructor(sn){super(),this.editor=sn}set(sn,dn,vn={}){if(typeof dn=="string"){const bn=dn;dn=(An,Dn)=>{this.editor.execute(bn),Dn()}}super.set(sn,dn,vn)}}var Ch=rn(4717),tf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Ch.Z,tf),Ch.Z.locals;const Mf=new WeakMap;function ud({view:yn,element:sn,text:dn,isDirectHost:vn=!0,keepOnFocus:bn=!1}){const An=yn.document;Mf.has(An)||(Mf.set(An,new Map),An.registerPostFixer(Dn=>If(An,Dn)),An.on("change:isComposing",()=>{yn.change(Dn=>If(An,Dn))},{priority:"high"})),Mf.get(An).set(sn,{text:dn,isDirectHost:vn,keepOnFocus:bn,hostElement:vn?sn:null}),yn.change(Dn=>If(An,Dn))}function pp(yn,sn){return!!sn.hasClass("ck-placeholder")&&(yn.removeClass("ck-placeholder",sn),!0)}function If(yn,sn){const dn=Mf.get(yn),vn=[];let bn=!1;for(const[An,Dn]of dn)Dn.isDirectHost&&(vn.push(An),xh(sn,An,Dn)&&(bn=!0));for(const[An,Dn]of dn){if(Dn.isDirectHost)continue;const Ln=nf(An);Ln&&(vn.includes(Ln)||(Dn.hostElement=Ln,xh(sn,An,Dn)&&(bn=!0)))}return bn}function xh(yn,sn,dn){const{text:vn,isDirectHost:bn,hostElement:An}=dn;let Dn=!1;return An.getAttribute("data-placeholder")!==vn&&(yn.setAttribute("data-placeholder",vn,An),Dn=!0),(bn||sn.childCount==1)&&function(Ln,Bn){if(!Ln.isAttached()||Array.from(Ln.getChildren()).some(Kn=>!Kn.is("uiElement")))return!1;const Vn=Ln.document,Gn=Vn.selection.anchor;return!(Vn.isComposing&&Gn&&Gn.parent===Ln||!Bn&&Vn.isFocused&&(!Gn||Gn.parent===Ln))}(An,dn.keepOnFocus)?function(Ln,Bn){return!Bn.hasClass("ck-placeholder")&&(Ln.addClass("ck-placeholder",Bn),!0)}(yn,An)&&(Dn=!0):pp(yn,An)&&(Dn=!0),Dn}function nf(yn){if(yn.childCount){const sn=yn.getChild(0);if(sn.is("element")&&!sn.is("uiElement")&&!sn.is("attributeElement"))return sn}return null}class Hc{is(){throw new Error("is() method is abstract")}}const Sd=function(yn){return Wo(yn,4)};class Vc extends ti(Hc){constructor(sn){super(),this.document=sn,this.parent=null}get index(){let sn;if(!this.parent)return null;if((sn=this.parent.getChildIndex(this))==-1)throw new Nn("view-node-not-found-in-parent",this);return sn}get nextSibling(){const sn=this.index;return sn!==null&&this.parent.getChild(sn+1)||null}get previousSibling(){const sn=this.index;return sn!==null&&this.parent.getChild(sn-1)||null}get root(){let sn=this;for(;sn.parent;)sn=sn.parent;return sn}isAttached(){return this.root.is("rootElement")}getPath(){const sn=[];let dn=this;for(;dn.parent;)sn.unshift(dn.index),dn=dn.parent;return sn}getAncestors(sn={}){const dn=[];let vn=sn.includeSelf?this:this.parent;for(;vn;)dn[sn.parentFirst?"push":"unshift"](vn),vn=vn.parent;return dn}getCommonAncestor(sn,dn={}){const vn=this.getAncestors(dn),bn=sn.getAncestors(dn);let An=0;for(;vn[An]==bn[An]&&vn[An];)An++;return An===0?null:vn[An-1]}isBefore(sn){if(this==sn||this.root!==sn.root)return!1;const dn=this.getPath(),vn=sn.getPath(),bn=Oo(dn,vn);switch(bn){case"prefix":return!0;case"extension":return!1;default:return dn[bn]<vn[bn]}}isAfter(sn){return this!=sn&&this.root===sn.root&&!this.isBefore(sn)}_remove(){this.parent._removeChildren(this.index)}_fireChange(sn,dn){this.fire(`change:${sn}`,dn),this.parent&&this.parent._fireChange(sn,dn)}toJSON(){const sn=Sd(this);return delete sn.parent,sn}}Vc.prototype.is=function(yn){return yn==="node"||yn==="view:node"};class Ls extends Vc{constructor(sn,dn){super(sn),this._textData=dn}get data(){return this._textData}get _data(){return this.data}set _data(sn){this._fireChange("text",this),this._textData=sn}isSimilar(sn){return sn instanceof Ls&&(this===sn||this.data===sn.data)}_clone(){return new Ls(this.document,this.data)}}Ls.prototype.is=function(yn){return yn==="$text"||yn==="view:$text"||yn==="text"||yn==="view:text"||yn==="node"||yn==="view:node"};class ou extends Hc{constructor(sn,dn,vn){if(super(),this.textNode=sn,dn<0||dn>sn.data.length)throw new Nn("view-textproxy-wrong-offsetintext",this);if(vn<0||dn+vn>sn.data.length)throw new Nn("view-textproxy-wrong-length",this);this.data=sn.data.substring(dn,dn+vn),this.offsetInText=dn}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(sn={}){const dn=[];let vn=sn.includeSelf?this.textNode:this.parent;for(;vn!==null;)dn[sn.parentFirst?"push":"unshift"](vn),vn=vn.parent;return dn}}ou.prototype.is=function(yn){return yn==="$textProxy"||yn==="view:$textProxy"||yn==="textProxy"||yn==="view:textProxy"};class jc{constructor(...sn){this._patterns=[],this.add(...sn)}add(...sn){for(let dn of sn)(typeof dn=="string"||dn instanceof RegExp)&&(dn={name:dn}),this._patterns.push(dn)}match(...sn){for(const dn of sn)for(const vn of this._patterns){const bn=_u(dn,vn);if(bn)return{element:dn,pattern:vn,match:bn}}return null}matchAll(...sn){const dn=[];for(const vn of sn)for(const bn of this._patterns){const An=_u(vn,bn);An&&dn.push({element:vn,pattern:bn,match:An})}return dn.length>0?dn:null}getElementName(){if(this._patterns.length!==1)return null;const sn=this._patterns[0],dn=sn.name;return typeof sn=="function"||!dn||dn instanceof RegExp?null:dn}}function _u(yn,sn){if(typeof sn=="function")return sn(yn);const dn={};return sn.name&&(dn.name=function(vn,bn){return vn instanceof RegExp?!!bn.match(vn):vn===bn}(sn.name,yn.name),!dn.name)||sn.attributes&&(dn.attributes=function(vn,bn){const An=new Set(bn.getAttributeKeys());return us(vn)?(vn.style!==void 0&&Hn("matcher-pattern-deprecated-attributes-style-key",vn),vn.class!==void 0&&Hn("matcher-pattern-deprecated-attributes-class-key",vn)):(An.delete("style"),An.delete("class")),Fu(vn,An,Dn=>bn.getAttribute(Dn))}(sn.attributes,yn),!dn.attributes)||sn.classes&&(dn.classes=function(vn,bn){return Fu(vn,bn.getClassNames(),()=>{})}(sn.classes,yn),!dn.classes)||sn.styles&&(dn.styles=function(vn,bn){return Fu(vn,bn.getStyleNames(!0),An=>bn.getStyle(An))}(sn.styles,yn),!dn.styles)?null:dn}function Fu(yn,sn,dn){const vn=function(Dn){return Array.isArray(Dn)?Dn.map(Ln=>us(Ln)?(Ln.key!==void 0&&Ln.value!==void 0||Hn("matcher-pattern-missing-key-or-value",Ln),[Ln.key,Ln.value]):[Ln,!0]):us(Dn)?Object.entries(Dn):[[Dn,!0]]}(yn),bn=Array.from(sn),An=[];if(vn.forEach(([Dn,Ln])=>{bn.forEach(Bn=>{(function(Vn,Gn){return Vn===!0||Vn===Gn||Vn instanceof RegExp&&Gn.match(Vn)})(Dn,Bn)&&function(Vn,Gn,Kn){if(Vn===!0)return!0;const $r=Kn(Gn);return Vn===$r||Vn instanceof RegExp&&!!String($r).match(Vn)}(Ln,Bn,dn)&&An.push(Bn)})}),vn.length&&!(An.length<vn.length))return An}const zu=function(yn){return typeof yn=="symbol"||fo(yn)&&Xi(yn)=="[object Symbol]"};var gg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gp=/^\w*$/;const vg=function(yn,sn){if(zo(yn))return!1;var dn=typeof yn;return!(dn!="number"&&dn!="symbol"&&dn!="boolean"&&yn!=null&&!zu(yn))||gp.test(yn)||!gg.test(yn)||sn!=null&&yn in Object(sn)};function Sh(yn,sn){if(typeof yn!="function"||sn!=null&&typeof sn!="function")throw new TypeError("Expected a function");var dn=function(){var vn=arguments,bn=sn?sn.apply(this,vn):vn[0],An=dn.cache;if(An.has(bn))return An.get(bn);var Dn=yn.apply(this,vn);return dn.cache=An.set(bn,Dn)||An,Dn};return dn.cache=new(Sh.Cache||Ha),dn}Sh.Cache=Ha;const mg=Sh,oc=function(yn){var sn=mg(yn,function(vn){return dn.size===500&&dn.clear(),vn}),dn=sn.cache;return sn};var vp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yg=/\\(\\)?/g,bg=oc(function(yn){var sn=[];return yn.charCodeAt(0)===46&&sn.push(""),yn.replace(vp,function(dn,vn,bn,An){sn.push(bn?An.replace(yg,"$1"):vn||dn)}),sn});const _g=bg,mp=function(yn,sn){for(var dn=-1,vn=yn==null?0:yn.length,bn=Array(vn);++dn<vn;)bn[dn]=sn(yn[dn],dn,yn);return bn};var Eh=di?di.prototype:void 0,Dh=Eh?Eh.toString:void 0;const wg=function yn(sn){if(typeof sn=="string")return sn;if(zo(sn))return mp(sn,yn)+"";if(zu(sn))return Dh?Dh.call(sn):"";var dn=sn+"";return dn=="0"&&1/sn==-1/0?"-0":dn},Th=function(yn){return yn==null?"":wg(yn)},Mh=function(yn,sn){return zo(yn)?yn:vg(yn,sn)?[yn]:_g(Th(yn))},Hu=function(yn){var sn=yn==null?0:yn.length;return sn?yn[sn-1]:void 0},dd=function(yn){if(typeof yn=="string"||zu(yn))return yn;var sn=yn+"";return sn=="0"&&1/yn==-1/0?"-0":sn},rf=function(yn,sn){for(var dn=0,vn=(sn=Mh(sn,yn)).length;yn!=null&&dn<vn;)yn=yn[dd(sn[dn++])];return dn&&dn==vn?yn:void 0},Ed=function(yn,sn,dn){var vn=-1,bn=yn.length;sn<0&&(sn=-sn>bn?0:bn+sn),(dn=dn>bn?bn:dn)<0&&(dn+=bn),bn=sn>dn?0:dn-sn>>>0,sn>>>=0;for(var An=Array(bn);++vn<bn;)An[vn]=yn[vn+sn];return An},wu=function(yn,sn){return sn.length<2?yn:rf(yn,Ed(sn,0,-1))},kg=function(yn,sn){return sn=Mh(sn,yn),(yn=wu(yn,sn))==null||delete yn[dd(Hu(sn))]},Ag=function(yn,sn){return yn==null||kg(yn,sn)},ku=function(yn,sn,dn){var vn=yn==null?void 0:rf(yn,sn);return vn===void 0?dn:vn},Lf=function(yn,sn,dn){(dn!==void 0&&!vl(yn[sn],dn)||dn===void 0&&!(sn in yn))&&ms(yn,sn,dn)},yp=function(yn){return function(sn,dn,vn){for(var bn=-1,An=Object(sn),Dn=vn(sn),Ln=Dn.length;Ln--;){var Bn=Dn[yn?Ln:++bn];if(dn(An[Bn],Bn,An)===!1)break}return sn}}(),bp=function(yn){return fo(yn)&&Fr(yn)},Dd=function(yn,sn){if((sn!=="constructor"||typeof yn[sn]!="function")&&sn!="__proto__")return yn[sn]},Td=function(yn){return La(yn,xi(yn))},Ih=function(yn,sn,dn,vn,bn,An,Dn){var Ln=Dd(yn,dn),Bn=Dd(sn,dn),Vn=Dn.get(Bn);if(Vn)Lf(yn,dn,Vn);else{var Gn=An?An(Ln,Bn,dn+"",yn,sn,Dn):void 0,Kn=Gn===void 0;if(Kn){var $r=zo(Bn),Yr=!$r&&qs(Bn),Qr=!$r&&!Yr&&el(Bn);Gn=Bn,$r||Yr||Qr?zo(Ln)?Gn=Ln:bp(Ln)?Gn=Wa(Ln):Yr?(Kn=!1,Gn=ba(Bn,!0)):Qr?(Kn=!1,Gn=nd(Bn,!0)):Gn=[]:us(Bn)||Cl(Bn)?(Gn=Ln,Cl(Ln)?Gn=Td(Ln):yi(Ln)&&!ja(Ln)||(Gn=eu(Bn))):Kn=!1}Kn&&(Dn.set(Bn,Gn),bn(Gn,Bn,vn,An,Dn),Dn.delete(Bn)),Lf(yn,dn,Gn)}},Lh=function yn(sn,dn,vn,bn,An){sn!==dn&&yp(dn,function(Dn,Ln){if(An||(An=new Ia),yi(Dn))Ih(sn,dn,Ln,vn,yn,bn,An);else{var Bn=bn?bn(Dd(sn,Ln),Dn,Ln+"",sn,dn,An):void 0;Bn===void 0&&(Bn=Dn),Lf(sn,Ln,Bn)}},xi)},Au=function(yn){return yn},Cg=function(yn,sn,dn){switch(dn.length){case 0:return yn.call(sn);case 1:return yn.call(sn,dn[0]);case 2:return yn.call(sn,dn[0],dn[1]);case 3:return yn.call(sn,dn[0],dn[1],dn[2])}return yn.apply(sn,dn)};var Md=Math.max;const _p=function(yn,sn,dn){return sn=Md(sn===void 0?yn.length-1:sn,0),function(){for(var vn=arguments,bn=-1,An=Md(vn.length-sn,0),Dn=Array(An);++bn<An;)Dn[bn]=vn[sn+bn];bn=-1;for(var Ln=Array(sn+1);++bn<sn;)Ln[bn]=vn[bn];return Ln[sn]=dn(Dn),Cg(yn,this,Ln)}},xg=function(yn){return function(){return yn}},wp=Ka?function(yn,sn){return Ka(yn,"toString",{configurable:!0,enumerable:!1,value:xg(sn),writable:!0})}:Au;var Pf=Date.now;const Sg=function(yn){var sn=0,dn=0;return function(){var vn=Pf(),bn=16-(vn-dn);if(dn=vn,bn>0){if(++sn>=800)return arguments[0]}else sn=0;return yn.apply(void 0,arguments)}}(wp),of=function(yn,sn){return Sg(_p(yn,sn,Au),yn+"")},kp=function(yn,sn,dn){if(!yi(dn))return!1;var vn=typeof sn;return!!(vn=="number"?Fr(dn)&&yl(sn,dn.length):vn=="string"&&sn in dn)&&vl(dn[sn],yn)},Ph=function(yn){return of(function(sn,dn){var vn=-1,bn=dn.length,An=bn>1?dn[bn-1]:void 0,Dn=bn>2?dn[2]:void 0;for(An=yn.length>3&&typeof An=="function"?(bn--,An):void 0,Dn&&kp(dn[0],dn[1],Dn)&&(An=bn<3?void 0:An,bn=1),sn=Object(sn);++vn<bn;){var Ln=dn[vn];Ln&&yn(sn,Ln,vn,An)}return sn})},Ap=Ph(function(yn,sn,dn){Lh(yn,sn,dn)}),Oh=function(yn,sn,dn,vn){if(!yi(yn))return yn;for(var bn=-1,An=(sn=Mh(sn,yn)).length,Dn=An-1,Ln=yn;Ln!=null&&++bn<An;){var Bn=dd(sn[bn]),Vn=dn;if(Bn==="__proto__"||Bn==="constructor"||Bn==="prototype")return yn;if(bn!=Dn){var Gn=Ln[Bn];(Vn=vn?vn(Gn,Bn,Ln):void 0)===void 0&&(Vn=yi(Gn)?Gn:yl(sn[bn+1])?[]:{})}Na(Ln,Bn,Vn),Ln=Ln[Bn]}return yn},Cp=function(yn,sn,dn){return yn==null?yn:Oh(yn,sn,dn)};class Eg{constructor(sn){this._styles={},this._styleProcessor=sn}get isEmpty(){const sn=Object.entries(this._styles);return!Array.from(sn).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(sn){this.clear();const dn=Array.from(function(vn){let bn=null,An=0,Dn=0,Ln=null;const Bn=new Map;if(vn==="")return Bn;vn.charAt(vn.length-1)!=";"&&(vn+=";");for(let Vn=0;Vn<vn.length;Vn++){const Gn=vn.charAt(Vn);if(bn===null)switch(Gn){case":":Ln||(Ln=vn.substr(An,Vn-An),Dn=Vn+1);break;case'"':case"'":bn=Gn;break;case";":{const Kn=vn.substr(Dn,Vn-Dn);Ln&&Bn.set(Ln.trim(),Kn.trim()),Ln=null,An=Vn+1;break}}else Gn===bn&&(bn=null)}return Bn}(sn).entries());for(const[vn,bn]of dn)this._styleProcessor.toNormalizedForm(vn,bn,this._styles)}has(sn){if(this.isEmpty)return!1;const dn=this._styleProcessor.getReducedForm(sn,this._styles).find(([vn])=>vn===sn);return Array.isArray(dn)}set(sn,dn){if(yi(sn))for(const[vn,bn]of Object.entries(sn))this._styleProcessor.toNormalizedForm(vn,bn,this._styles);else this._styleProcessor.toNormalizedForm(sn,dn,this._styles)}remove(sn){const dn=Of(sn);Ag(this._styles,dn),delete this._styles[sn],this._cleanEmptyObjectsOnPath(dn)}getNormalized(sn){return this._styleProcessor.getNormalized(sn,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(sn=>sn.join(":")).sort().join(";")+";"}getAsString(sn){if(this.isEmpty)return;if(this._styles[sn]&&!yi(this._styles[sn]))return this._styles[sn];const dn=this._styleProcessor.getReducedForm(sn,this._styles).find(([vn])=>vn===sn);return Array.isArray(dn)?dn[1]:void 0}getStyleNames(sn=!1){return this.isEmpty?[]:sn?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([dn])=>dn)}clear(){this._styles={}}_getStylesEntries(){const sn=[],dn=Object.keys(this._styles);for(const vn of dn)sn.push(...this._styleProcessor.getReducedForm(vn,this._styles));return sn}_cleanEmptyObjectsOnPath(sn){const dn=sn.split(".");if(!(dn.length>1))return;const vn=dn.splice(0,dn.length-1).join("."),bn=ku(this._styles,vn);bn&&!Array.from(Object.keys(bn)).length&&this.remove(vn)}}class xp{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(sn,dn,vn){if(yi(dn))Rh(vn,Of(sn),dn);else if(this._normalizers.has(sn)){const bn=this._normalizers.get(sn),{path:An,value:Dn}=bn(dn);Rh(vn,An,Dn)}else Rh(vn,sn,dn)}getNormalized(sn,dn){if(!sn)return Ap({},dn);if(dn[sn]!==void 0)return dn[sn];if(this._extractors.has(sn)){const vn=this._extractors.get(sn);if(typeof vn=="string")return ku(dn,vn);const bn=vn(sn,dn);if(bn)return bn}return ku(dn,Of(sn))}getReducedForm(sn,dn){const vn=this.getNormalized(sn,dn);return vn===void 0?[]:this._reducers.has(sn)?this._reducers.get(sn)(vn):[[sn,vn]]}getStyleNames(sn){const dn=Array.from(this._consumables.keys()).filter(bn=>{const An=this.getNormalized(bn,sn);return An&&typeof An=="object"?Object.keys(An).length:An}),vn=new Set([...dn,...Object.keys(sn)]);return Array.from(vn.values())}getRelatedStyles(sn){return this._consumables.get(sn)||[]}setNormalizer(sn,dn){this._normalizers.set(sn,dn)}setExtractor(sn,dn){this._extractors.set(sn,dn)}setReducer(sn,dn){this._reducers.set(sn,dn)}setStyleRelation(sn,dn){this._mapStyleNames(sn,dn);for(const vn of dn)this._mapStyleNames(vn,[sn])}_mapStyleNames(sn,dn){this._consumables.has(sn)||this._consumables.set(sn,[]),this._consumables.get(sn).push(...dn)}}function Of(yn){return yn.replace("-",".")}function Rh(yn,sn,dn){let vn=dn;yi(dn)&&(vn=Ap({},ku(yn,sn),dn)),Cp(yn,sn,vn)}class ac extends Vc{constructor(sn,dn,vn,bn){if(super(sn),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=dn,this._attrs=function(An){const Dn=nl(An);for(const[Ln,Bn]of Dn)Bn===null?Dn.delete(Ln):typeof Bn!="string"&&Dn.set(Ln,String(Bn));return Dn}(vn),this._children=[],bn&&this._insertChild(0,bn),this._classes=new Set,this._attrs.has("class")){const An=this._attrs.get("class");Id(this._classes,An),this._attrs.delete("class")}this._styles=new Eg(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(sn){return this._children[sn]}getChildIndex(sn){return this._children.indexOf(sn)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(sn){if(sn=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(sn=="style"){const dn=this._styles.toString();return dn==""?void 0:dn}return this._attrs.get(sn)}hasAttribute(sn){return sn=="class"?this._classes.size>0:sn=="style"?!this._styles.isEmpty:this._attrs.has(sn)}isSimilar(sn){if(!(sn instanceof ac))return!1;if(this===sn)return!0;if(this.name!=sn.name||this._attrs.size!==sn._attrs.size||this._classes.size!==sn._classes.size||this._styles.size!==sn._styles.size)return!1;for(const[dn,vn]of this._attrs)if(!sn._attrs.has(dn)||sn._attrs.get(dn)!==vn)return!1;for(const dn of this._classes)if(!sn._classes.has(dn))return!1;for(const dn of this._styles.getStyleNames())if(!sn._styles.has(dn)||sn._styles.getAsString(dn)!==this._styles.getAsString(dn))return!1;return!0}hasClass(...sn){for(const dn of sn)if(!this._classes.has(dn))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(sn){return this._styles.getAsString(sn)}getNormalizedStyle(sn){return this._styles.getNormalized(sn)}getStyleNames(sn){return this._styles.getStyleNames(sn)}hasStyle(...sn){for(const dn of sn)if(!this._styles.has(dn))return!1;return!0}findAncestor(...sn){const dn=new jc(...sn);let vn=this.parent;for(;vn&&!vn.is("documentFragment");){if(dn.match(vn))return vn;vn=vn.parent}return null}getCustomProperty(sn){return this._customProperties.get(sn)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const sn=Array.from(this._classes).sort().join(","),dn=this._styles.toString(),vn=Array.from(this._attrs).map(bn=>`${bn[0]}="${bn[1]}"`).sort().join(" ");return this.name+(sn==""?"":` class="${sn}"`)+(dn?` style="${dn}"`:"")+(vn==""?"":` ${vn}`)}shouldRenderUnsafeAttribute(sn){return this._unsafeAttributesToRender.includes(sn)}_clone(sn=!1){const dn=[];if(sn)for(const bn of this.getChildren())dn.push(bn._clone(sn));const vn=new this.constructor(this.document,this.name,this._attrs,dn);return vn._classes=new Set(this._classes),vn._styles.set(this._styles.getNormalized()),vn._customProperties=new Map(this._customProperties),vn.getFillerOffset=this.getFillerOffset,vn._unsafeAttributesToRender=this._unsafeAttributesToRender,vn}_appendChild(sn){return this._insertChild(this.childCount,sn)}_insertChild(sn,dn){this._fireChange("children",this);let vn=0;const bn=function(An,Dn){return typeof Dn=="string"?[new Ls(An,Dn)]:(Mi(Dn)||(Dn=[Dn]),Array.from(Dn).map(Ln=>typeof Ln=="string"?new Ls(An,Ln):Ln instanceof ou?new Ls(An,Ln.data):Ln))}(this.document,dn);for(const An of bn)An.parent!==null&&An._remove(),An.parent=this,An.document=this.document,this._children.splice(sn,0,An),sn++,vn++;return vn}_removeChildren(sn,dn=1){this._fireChange("children",this);for(let vn=sn;vn<sn+dn;vn++)this._children[vn].parent=null;return this._children.splice(sn,dn)}_setAttribute(sn,dn){const vn=String(dn);this._fireChange("attributes",this),sn=="class"?Id(this._classes,vn):sn=="style"?this._styles.setTo(vn):this._attrs.set(sn,vn)}_removeAttribute(sn){return this._fireChange("attributes",this),sn=="class"?this._classes.size>0&&(this._classes.clear(),!0):sn=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(sn)}_addClass(sn){this._fireChange("attributes",this);for(const dn of $l(sn))this._classes.add(dn)}_removeClass(sn){this._fireChange("attributes",this);for(const dn of $l(sn))this._classes.delete(dn)}_setStyle(sn,dn){this._fireChange("attributes",this),typeof sn!="string"?this._styles.set(sn):this._styles.set(sn,dn)}_removeStyle(sn){this._fireChange("attributes",this);for(const dn of $l(sn))this._styles.remove(dn)}_setCustomProperty(sn,dn){this._customProperties.set(sn,dn)}_removeCustomProperty(sn){return this._customProperties.delete(sn)}}function Id(yn,sn){const dn=sn.split(/\s+/);yn.clear(),dn.forEach(vn=>yn.add(vn))}ac.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="element"||yn==="view:element"):yn==="element"||yn==="view:element"||yn==="node"||yn==="view:node"};class Cu extends ac{constructor(sn,dn,vn,bn){super(sn,dn,vn,bn),this.getFillerOffset=Sp}}function Sp(){const yn=[...this.getChildren()],sn=yn[this.childCount-1];if(sn&&sn.is("element","br"))return this.childCount;for(const dn of yn)if(!dn.is("uiElement"))return null;return this.childCount}Cu.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="containerElement"||yn==="view:containerElement"||yn==="element"||yn==="view:element"):yn==="containerElement"||yn==="view:containerElement"||yn==="element"||yn==="view:element"||yn==="node"||yn==="view:node"};class af extends Yi(Cu){constructor(sn,dn,vn,bn){super(sn,dn,vn,bn),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(sn),this.bind("isFocused").to(sn,"isFocused",An=>An&&sn.selection.editableElement==this),this.listenTo(sn.selection,"change",()=>{this.isFocused=sn.isFocused&&sn.selection.editableElement==this})}destroy(){this.stopListening()}}af.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="editableElement"||yn==="view:editableElement"||yn==="containerElement"||yn==="view:containerElement"||yn==="element"||yn==="view:element"):yn==="editableElement"||yn==="view:editableElement"||yn==="containerElement"||yn==="view:containerElement"||yn==="element"||yn==="view:element"||yn==="node"||yn==="view:node"};const Ep=Symbol("rootName");class Dp extends af{constructor(sn,dn){super(sn,dn),this.rootName="main"}get rootName(){return this.getCustomProperty(Ep)}set rootName(sn){this._setCustomProperty(Ep,sn)}set _name(sn){this.name=sn}}Dp.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="rootElement"||yn==="view:rootElement"||yn==="editableElement"||yn==="view:editableElement"||yn==="containerElement"||yn==="view:containerElement"||yn==="element"||yn==="view:element"):yn==="rootElement"||yn==="view:rootElement"||yn==="editableElement"||yn==="view:editableElement"||yn==="containerElement"||yn==="view:containerElement"||yn==="element"||yn==="view:element"||yn==="node"||yn==="view:node"};class fd{constructor(sn={}){if(!sn.boundaries&&!sn.startPosition)throw new Nn("view-tree-walker-no-start-position",null);if(sn.direction&&sn.direction!="forward"&&sn.direction!="backward")throw new Nn("view-tree-walker-unknown-direction",sn.startPosition,{direction:sn.direction});this.boundaries=sn.boundaries||null,sn.startPosition?this._position=No._createAt(sn.startPosition):this._position=No._createAt(sn.boundaries[sn.direction=="backward"?"end":"start"]),this.direction=sn.direction||"forward",this.singleCharacters=!!sn.singleCharacters,this.shallow=!!sn.shallow,this.ignoreElementEnd=!!sn.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(sn){let dn,vn;do vn=this.position,dn=this.next();while(!dn.done&&sn(dn.value));dn.done||(this._position=vn)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let sn=this.position.clone();const dn=this.position,vn=sn.parent;if(vn.parent===null&&sn.offset===vn.childCount)return{done:!0,value:void 0};if(vn===this._boundaryEndParent&&sn.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let bn;if(vn instanceof Ls){if(sn.isAtEnd)return this._position=No._createAfter(vn),this._next();bn=vn.data[sn.offset]}else bn=vn.getChild(sn.offset);if(bn instanceof ac){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(sn))return{done:!0,value:void 0};sn.offset++}else sn=new No(bn,0);return this._position=sn,this._formatReturnValue("elementStart",bn,dn,sn,1)}if(bn instanceof Ls){if(this.singleCharacters)return sn=new No(bn,0),this._position=sn,this._next();let An,Dn=bn.data.length;return bn==this._boundaryEndParent?(Dn=this.boundaries.end.offset,An=new ou(bn,0,Dn),sn=No._createAfter(An)):(An=new ou(bn,0,bn.data.length),sn.offset++),this._position=sn,this._formatReturnValue("text",An,dn,sn,Dn)}if(typeof bn=="string"){let An;this.singleCharacters?An=1:An=(vn===this._boundaryEndParent?this.boundaries.end.offset:vn.data.length)-sn.offset;const Dn=new ou(vn,sn.offset,An);return sn.offset+=An,this._position=sn,this._formatReturnValue("text",Dn,dn,sn,An)}return sn=No._createAfter(vn),this._position=sn,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",vn,dn,sn)}_previous(){let sn=this.position.clone();const dn=this.position,vn=sn.parent;if(vn.parent===null&&sn.offset===0)return{done:!0,value:void 0};if(vn==this._boundaryStartParent&&sn.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let bn;if(vn instanceof Ls){if(sn.isAtStart)return this._position=No._createBefore(vn),this._previous();bn=vn.data[sn.offset-1]}else bn=vn.getChild(sn.offset-1);if(bn instanceof ac)return this.shallow?(sn.offset--,this._position=sn,this._formatReturnValue("elementStart",bn,dn,sn,1)):(sn=new No(bn,bn.childCount),this._position=sn,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",bn,dn,sn));if(bn instanceof Ls){if(this.singleCharacters)return sn=new No(bn,bn.data.length),this._position=sn,this._previous();let An,Dn=bn.data.length;if(bn==this._boundaryStartParent){const Ln=this.boundaries.start.offset;An=new ou(bn,Ln,bn.data.length-Ln),Dn=An.data.length,sn=No._createBefore(An)}else An=new ou(bn,0,bn.data.length),sn.offset--;return this._position=sn,this._formatReturnValue("text",An,dn,sn,Dn)}if(typeof bn=="string"){let An;if(this.singleCharacters)An=1;else{const Ln=vn===this._boundaryStartParent?this.boundaries.start.offset:0;An=sn.offset-Ln}sn.offset-=An;const Dn=new ou(vn,sn.offset,An);return this._position=sn,this._formatReturnValue("text",Dn,dn,sn,An)}return sn=No._createBefore(vn),this._position=sn,this._formatReturnValue("elementStart",vn,dn,sn,1)}_formatReturnValue(sn,dn,vn,bn,An){return dn instanceof ou&&(dn.offsetInText+dn.data.length==dn.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?vn=No._createAfter(dn.textNode):(bn=No._createAfter(dn.textNode),this._position=bn)),dn.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?vn=No._createBefore(dn.textNode):(bn=No._createBefore(dn.textNode),this._position=bn))),{done:!1,value:{type:sn,item:dn,previousPosition:vn,nextPosition:bn,length:An}}}}class No extends Hc{constructor(sn,dn){super(),this.parent=sn,this.offset=dn}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const sn=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===sn}get root(){return this.parent.root}get editableElement(){let sn=this.parent;for(;!(sn instanceof af);){if(!sn.parent)return null;sn=sn.parent}return sn}getShiftedBy(sn){const dn=No._createAt(this),vn=dn.offset+sn;return dn.offset=vn<0?0:vn,dn}getLastMatchingPosition(sn,dn={}){dn.startPosition=this;const vn=new fd(dn);return vn.skip(sn),vn.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(sn){const dn=this.getAncestors(),vn=sn.getAncestors();let bn=0;for(;dn[bn]==vn[bn]&&dn[bn];)bn++;return bn===0?null:dn[bn-1]}isEqual(sn){return this.parent==sn.parent&&this.offset==sn.offset}isBefore(sn){return this.compareWith(sn)=="before"}isAfter(sn){return this.compareWith(sn)=="after"}compareWith(sn){if(this.root!==sn.root)return"different";if(this.isEqual(sn))return"same";const dn=this.parent.is("node")?this.parent.getPath():[],vn=sn.parent.is("node")?sn.parent.getPath():[];dn.push(this.offset),vn.push(sn.offset);const bn=Oo(dn,vn);switch(bn){case"prefix":return"before";case"extension":return"after";default:return dn[bn]<vn[bn]?"before":"after"}}getWalker(sn={}){return sn.startPosition=this,new fd(sn)}clone(){return new No(this.parent,this.offset)}static _createAt(sn,dn){if(sn instanceof No)return new this(sn.parent,sn.offset);{const vn=sn;if(dn=="end")dn=vn.is("$text")?vn.data.length:vn.childCount;else{if(dn=="before")return this._createBefore(vn);if(dn=="after")return this._createAfter(vn);if(dn!==0&&!dn)throw new Nn("view-createpositionat-offset-required",vn)}return new No(vn,dn)}}static _createAfter(sn){if(sn.is("$textProxy"))return new No(sn.textNode,sn.offsetInText+sn.data.length);if(!sn.parent)throw new Nn("view-position-after-root",sn,{root:sn});return new No(sn.parent,sn.index+1)}static _createBefore(sn){if(sn.is("$textProxy"))return new No(sn.textNode,sn.offsetInText);if(!sn.parent)throw new Nn("view-position-before-root",sn,{root:sn});return new No(sn.parent,sn.index)}}No.prototype.is=function(yn){return yn==="position"||yn==="view:position"};class Aa extends Hc{constructor(sn,dn=null){super(),this.start=sn.clone(),this.end=dn?dn.clone():sn.clone()}*[Symbol.iterator](){yield*new fd({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let sn=this.start.getLastMatchingPosition(Rf,{direction:"backward"}),dn=this.end.getLastMatchingPosition(Rf);return sn.parent.is("$text")&&sn.isAtStart&&(sn=No._createBefore(sn.parent)),dn.parent.is("$text")&&dn.isAtEnd&&(dn=No._createAfter(dn.parent)),new Aa(sn,dn)}getTrimmed(){let sn=this.start.getLastMatchingPosition(Rf);if(sn.isAfter(this.end)||sn.isEqual(this.end))return new Aa(sn,sn);let dn=this.end.getLastMatchingPosition(Rf,{direction:"backward"});const vn=sn.nodeAfter,bn=dn.nodeBefore;return vn&&vn.is("$text")&&(sn=new No(vn,0)),bn&&bn.is("$text")&&(dn=new No(bn,bn.data.length)),new Aa(sn,dn)}isEqual(sn){return this==sn||this.start.isEqual(sn.start)&&this.end.isEqual(sn.end)}containsPosition(sn){return sn.isAfter(this.start)&&sn.isBefore(this.end)}containsRange(sn,dn=!1){sn.isCollapsed&&(dn=!1);const vn=this.containsPosition(sn.start)||dn&&this.start.isEqual(sn.start),bn=this.containsPosition(sn.end)||dn&&this.end.isEqual(sn.end);return vn&&bn}getDifference(sn){const dn=[];return this.isIntersecting(sn)?(this.containsPosition(sn.start)&&dn.push(new Aa(this.start,sn.start)),this.containsPosition(sn.end)&&dn.push(new Aa(sn.end,this.end))):dn.push(this.clone()),dn}getIntersection(sn){if(this.isIntersecting(sn)){let dn=this.start,vn=this.end;return this.containsPosition(sn.start)&&(dn=sn.start),this.containsPosition(sn.end)&&(vn=sn.end),new Aa(dn,vn)}return null}getWalker(sn={}){return sn.boundaries=this,new fd(sn)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let sn=this.start.nodeAfter,dn=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(sn=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(dn=this.end.parent.previousSibling),sn&&sn.is("element")&&sn===dn?sn:null}clone(){return new Aa(this.start,this.end)}*getItems(sn={}){sn.boundaries=this,sn.ignoreElementEnd=!0;const dn=new fd(sn);for(const vn of dn)yield vn.item}*getPositions(sn={}){sn.boundaries=this;const dn=new fd(sn);yield dn.position;for(const vn of dn)yield vn.nextPosition}isIntersecting(sn){return this.start.isBefore(sn.end)&&this.end.isAfter(sn.start)}static _createFromParentsAndOffsets(sn,dn,vn,bn){return new this(new No(sn,dn),new No(vn,bn))}static _createFromPositionAndShift(sn,dn){const vn=sn,bn=sn.getShiftedBy(dn);return dn>0?new this(vn,bn):new this(bn,vn)}static _createIn(sn){return this._createFromParentsAndOffsets(sn,0,sn,sn.childCount)}static _createOn(sn){const dn=sn.is("$textProxy")?sn.offsetSize:1;return this._createFromPositionAndShift(No._createBefore(sn),dn)}}function Rf(yn){return!(!yn.item.is("attributeElement")&&!yn.item.is("uiElement"))}Aa.prototype.is=function(yn){return yn==="range"||yn==="view:range"};class au extends ti(Hc){constructor(...sn){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",sn.length&&this.setTo(...sn)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const sn=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?sn.end:sn.start).clone()}get focus(){if(!this._ranges.length)return null;const sn=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?sn.start:sn.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const sn of this._ranges)yield sn.clone()}getFirstRange(){let sn=null;for(const dn of this._ranges)sn&&!dn.start.isBefore(sn.start)||(sn=dn);return sn?sn.clone():null}getLastRange(){let sn=null;for(const dn of this._ranges)sn&&!dn.end.isAfter(sn.end)||(sn=dn);return sn?sn.clone():null}getFirstPosition(){const sn=this.getFirstRange();return sn?sn.start.clone():null}getLastPosition(){const sn=this.getLastRange();return sn?sn.end.clone():null}isEqual(sn){if(this.isFake!=sn.isFake||this.isFake&&this.fakeSelectionLabel!=sn.fakeSelectionLabel||this.rangeCount!=sn.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(sn.anchor)||!this.focus.isEqual(sn.focus))return!1;for(const dn of this._ranges){let vn=!1;for(const bn of sn._ranges)if(dn.isEqual(bn)){vn=!0;break}if(!vn)return!1}return!0}isSimilar(sn){if(this.isBackward!=sn.isBackward)return!1;const dn=ro(this.getRanges());if(dn!=ro(sn.getRanges()))return!1;if(dn==0)return!0;for(let vn of this.getRanges()){vn=vn.getTrimmed();let bn=!1;for(let An of sn.getRanges())if(An=An.getTrimmed(),vn.start.isEqual(An.start)&&vn.end.isEqual(An.end)){bn=!0;break}if(!bn)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...sn){let[dn,vn,bn]=sn;if(typeof vn=="object"&&(bn=vn,vn=void 0),dn===null)this._setRanges([]),this._setFakeOptions(bn);else if(dn instanceof au||dn instanceof Nf)this._setRanges(dn.getRanges(),dn.isBackward),this._setFakeOptions({fake:dn.isFake,label:dn.fakeSelectionLabel});else if(dn instanceof Aa)this._setRanges([dn],bn&&bn.backward),this._setFakeOptions(bn);else if(dn instanceof No)this._setRanges([new Aa(dn)]),this._setFakeOptions(bn);else if(dn instanceof Vc){const An=!!bn&&!!bn.backward;let Dn;if(vn===void 0)throw new Nn("view-selection-setto-required-second-parameter",this);Dn=vn=="in"?Aa._createIn(dn):vn=="on"?Aa._createOn(dn):new Aa(No._createAt(dn,vn)),this._setRanges([Dn],An),this._setFakeOptions(bn)}else{if(!Mi(dn))throw new Nn("view-selection-setto-not-selectable",this);this._setRanges(dn,bn&&bn.backward),this._setFakeOptions(bn)}this.fire("change")}setFocus(sn,dn){if(this.anchor===null)throw new Nn("view-selection-setfocus-no-ranges",this);const vn=No._createAt(sn,dn);if(vn.compareWith(this.focus)=="same")return;const bn=this.anchor;this._ranges.pop(),vn.compareWith(bn)=="before"?this._addRange(new Aa(vn,bn),!0):this._addRange(new Aa(bn,vn)),this.fire("change")}_setRanges(sn,dn=!1){sn=Array.from(sn),this._ranges=[];for(const vn of sn)this._addRange(vn);this._lastRangeBackward=!!dn}_setFakeOptions(sn={}){this._isFake=!!sn.fake,this._fakeSelectionLabel=sn.fake&&sn.label||""}_addRange(sn,dn=!1){if(!(sn instanceof Aa))throw new Nn("view-selection-add-range-not-range",this);this._pushRange(sn),this._lastRangeBackward=!!dn}_pushRange(sn){for(const dn of this._ranges)if(sn.isIntersecting(dn))throw new Nn("view-selection-range-intersects",this,{addedRange:sn,intersectingRange:dn});this._ranges.push(new Aa(sn.start,sn.end))}}au.prototype.is=function(yn){return yn==="selection"||yn==="view:selection"};class Nf extends ti(Hc){constructor(...sn){super(),this._selection=new au,this._selection.delegate("change").to(this),sn.length&&this._selection.setTo(...sn)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(sn){return this._selection.isEqual(sn)}isSimilar(sn){return this._selection.isSimilar(sn)}_setTo(...sn){this._selection.setTo(...sn)}_setFocus(sn,dn){this._selection.setFocus(sn,dn)}}Nf.prototype.is=function(yn){return yn==="selection"||yn=="documentSelection"||yn=="view:selection"||yn=="view:documentSelection"};class Vu extends Sn{constructor(sn,dn,vn){super(sn,dn),this.startRange=vn,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const $f=Symbol("bubbling contexts");function Nh(yn){return class extends yn{fire(sn,...dn){try{const vn=sn instanceof Sn?sn:new Sn(this,sn),bn=Pd(this);if(!bn.size)return;if(Ld(vn,"capturing",this),Uc(bn,"$capture",vn,...dn))return vn.return;const An=vn.startRange||this.selection.getFirstRange(),Dn=An?An.getContainedElement():null,Ln=!!Dn&&!!$h(bn,Dn);let Bn=Dn||function(Vn){if(!Vn)return null;const Gn=Vn.start.parent,Kn=Vn.end.parent,$r=Gn.getPath(),Yr=Kn.getPath();return $r.length>Yr.length?Gn:Kn}(An);if(Ld(vn,"atTarget",Bn),!Ln){if(Uc(bn,"$text",vn,...dn))return vn.return;Ld(vn,"bubbling",Bn)}for(;Bn;){if(Bn.is("rootElement")){if(Uc(bn,"$root",vn,...dn))return vn.return}else if(Bn.is("element")&&Uc(bn,Bn.name,vn,...dn))return vn.return;if(Uc(bn,Bn,vn,...dn))return vn.return;Bn=Bn.parent,Ld(vn,"bubbling",Bn)}return Ld(vn,"bubbling",this),Uc(bn,"$document",vn,...dn),vn.return}catch(vn){Nn.rethrowUnexpectedError(vn,this)}}_addEventListener(sn,dn,vn){const bn=$l(vn.context||"$document"),An=Pd(this);for(const Dn of bn){let Ln=An.get(Dn);Ln||(Ln=new(ti()),An.set(Dn,Ln)),this.listenTo(Ln,sn,dn,vn)}}_removeEventListener(sn,dn){const vn=Pd(this);for(const bn of vn.values())this.stopListening(bn,sn,dn)}}}{const yn=Nh(Object);["fire","_addEventListener","_removeEventListener"].forEach(sn=>{Nh[sn]=yn.prototype[sn]})}function Ld(yn,sn,dn){yn instanceof Vu&&(yn._eventPhase=sn,yn._currentTarget=dn)}function Uc(yn,sn,dn,...vn){const bn=typeof sn=="string"?yn.get(sn):$h(yn,sn);return!!bn&&(bn.fire(dn,...vn),dn.stop.called)}function $h(yn,sn){for(const[dn,vn]of yn)if(typeof dn=="function"&&dn(sn))return vn;return null}function Pd(yn){return yn[$f]||(yn[$f]=new Map),yn[$f]}class Bf extends Nh(Yi()){constructor(sn){super(),this._postFixers=new Set,this.selection=new Nf,this.roots=new Fc({idProperty:"rootName"}),this.stylesProcessor=sn,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(sn="main"){return this.roots.get(sn)}registerPostFixer(sn){this._postFixers.add(sn)}destroy(){this.roots.map(sn=>sn.destroy()),this.stopListening()}_callPostFixers(sn){let dn=!1;do for(const vn of this._postFixers)if(dn=vn(sn),dn)break;while(dn)}}class hd extends ac{constructor(sn,dn,vn,bn){super(sn,dn,vn,bn),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=Dg}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new Nn("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(sn){return this.id!==null||sn.id!==null?this.id===sn.id:super.isSimilar(sn)&&this.priority==sn.priority}_clone(sn=!1){const dn=super._clone(sn);return dn._priority=this._priority,dn._id=this._id,dn}}function Dg(){if(Os(this))return null;let yn=this.parent;for(;yn&&yn.is("attributeElement");){if(Os(yn)>1)return null;yn=yn.parent}return!yn||Os(yn)>1?null:this.childCount}function Os(yn){return Array.from(yn.getChildren()).filter(sn=>!sn.is("uiElement")).length}hd.DEFAULT_PRIORITY=10,hd.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="attributeElement"||yn==="view:attributeElement"||yn==="element"||yn==="view:element"):yn==="attributeElement"||yn==="view:attributeElement"||yn==="element"||yn==="view:element"||yn==="node"||yn==="view:node"};class Bh extends ac{constructor(sn,dn,vn,bn){super(sn,dn,vn,bn),this.getFillerOffset=Fh}_insertChild(sn,dn){if(dn&&(dn instanceof Vc||Array.from(dn).length>0))throw new Nn("view-emptyelement-cannot-add",[this,dn]);return 0}}function Fh(){return null}Bh.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="emptyElement"||yn==="view:emptyElement"||yn==="element"||yn==="view:element"):yn==="emptyElement"||yn==="view:emptyElement"||yn==="element"||yn==="view:element"||yn==="node"||yn==="view:node"};class ju extends ac{constructor(sn,dn,vn,bn){super(sn,dn,vn,bn),this.getFillerOffset=Ff}_insertChild(sn,dn){if(dn&&(dn instanceof Vc||Array.from(dn).length>0))throw new Nn("view-uielement-cannot-add",[this,dn]);return 0}render(sn,dn){return this.toDomElement(sn)}toDomElement(sn){const dn=sn.createElement(this.name);for(const vn of this.getAttributeKeys())dn.setAttribute(vn,this.getAttribute(vn));return dn}}function Gc(yn){yn.document.on("arrowKey",(sn,dn)=>function(vn,bn,An){if(bn.keyCode==Xa.arrowright){const Dn=bn.domTarget.ownerDocument.defaultView.getSelection(),Ln=Dn.rangeCount==1&&Dn.getRangeAt(0).collapsed;if(Ln||bn.shiftKey){const Bn=Dn.focusNode,Vn=Dn.focusOffset,Gn=An.domPositionToView(Bn,Vn);if(Gn===null)return;let Kn=!1;const $r=Gn.getLastMatchingPosition(Yr=>(Yr.item.is("uiElement")&&(Kn=!0),!(!Yr.item.is("uiElement")&&!Yr.item.is("attributeElement"))));if(Kn){const Yr=An.viewPositionToDom($r);Ln?Dn.collapse(Yr.parent,Yr.offset):Dn.extend(Yr.parent,Yr.offset)}}}}(0,dn,yn.domConverter),{priority:"low"})}function Ff(){return null}ju.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="uiElement"||yn==="view:uiElement"||yn==="element"||yn==="view:element"):yn==="uiElement"||yn==="view:uiElement"||yn==="element"||yn==="view:element"||yn==="node"||yn==="view:node"};class sf extends ac{constructor(sn,dn,vn,bn){super(sn,dn,vn,bn),this.getFillerOffset=Tp}_insertChild(sn,dn){if(dn&&(dn instanceof Vc||Array.from(dn).length>0))throw new Nn("view-rawelement-cannot-add",[this,dn]);return 0}render(sn,dn){}}function Tp(){return null}sf.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="rawElement"||yn==="view:rawElement"||yn==="element"||yn==="view:element"):yn==="rawElement"||yn==="view:rawElement"||yn===this.name||yn==="view:"+this.name||yn==="element"||yn==="view:element"||yn==="node"||yn==="view:node"};class Uu extends ti(Hc){constructor(sn,dn){super(),this._children=[],this._customProperties=new Map,this.document=sn,dn&&this._insertChild(0,dn)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(sn){return this._customProperties.get(sn)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(sn){return this._insertChild(this.childCount,sn)}getChild(sn){return this._children[sn]}getChildIndex(sn){return this._children.indexOf(sn)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(sn,dn){this._fireChange("children",this);let vn=0;const bn=function(An,Dn){return typeof Dn=="string"?[new Ls(An,Dn)]:(Mi(Dn)||(Dn=[Dn]),Array.from(Dn).map(Ln=>typeof Ln=="string"?new Ls(An,Ln):Ln instanceof ou?new Ls(An,Ln.data):Ln))}(this.document,dn);for(const An of bn)An.parent!==null&&An._remove(),An.parent=this,this._children.splice(sn,0,An),sn++,vn++;return vn}_removeChildren(sn,dn=1){this._fireChange("children",this);for(let vn=sn;vn<sn+dn;vn++)this._children[vn].parent=null;return this._children.splice(sn,dn)}_fireChange(sn,dn){this.fire("change:"+sn,dn)}_setCustomProperty(sn,dn){this._customProperties.set(sn,dn)}_removeCustomProperty(sn){return this._customProperties.delete(sn)}}Uu.prototype.is=function(yn){return yn==="documentFragment"||yn==="view:documentFragment"};class zh{constructor(sn){this._cloneGroups=new Map,this._slotFactory=null,this.document=sn}setSelection(...sn){this.document.selection._setTo(...sn)}setSelectionFocus(sn,dn){this.document.selection._setFocus(sn,dn)}createDocumentFragment(sn){return new Uu(this.document,sn)}createText(sn){return new Ls(this.document,sn)}createAttributeElement(sn,dn,vn={}){const bn=new hd(this.document,sn,dn);return typeof vn.priority=="number"&&(bn._priority=vn.priority),vn.id&&(bn._id=vn.id),vn.renderUnsafeAttributes&&bn._unsafeAttributesToRender.push(...vn.renderUnsafeAttributes),bn}createContainerElement(sn,dn,vn={},bn={}){let An=null;us(vn)?bn=vn:An=vn;const Dn=new Cu(this.document,sn,dn,An);return bn.renderUnsafeAttributes&&Dn._unsafeAttributesToRender.push(...bn.renderUnsafeAttributes),Dn}createEditableElement(sn,dn,vn={}){const bn=new af(this.document,sn,dn);return vn.renderUnsafeAttributes&&bn._unsafeAttributesToRender.push(...vn.renderUnsafeAttributes),bn}createEmptyElement(sn,dn,vn={}){const bn=new Bh(this.document,sn,dn);return vn.renderUnsafeAttributes&&bn._unsafeAttributesToRender.push(...vn.renderUnsafeAttributes),bn}createUIElement(sn,dn,vn){const bn=new ju(this.document,sn,dn);return vn&&(bn.render=vn),bn}createRawElement(sn,dn,vn,bn={}){const An=new sf(this.document,sn,dn);return vn&&(An.render=vn),bn.renderUnsafeAttributes&&An._unsafeAttributesToRender.push(...bn.renderUnsafeAttributes),An}setAttribute(sn,dn,vn){vn._setAttribute(sn,dn)}removeAttribute(sn,dn){dn._removeAttribute(sn)}addClass(sn,dn){dn._addClass(sn)}removeClass(sn,dn){dn._removeClass(sn)}setStyle(sn,dn,vn){us(sn)&&vn===void 0?dn._setStyle(sn):vn._setStyle(sn,dn)}removeStyle(sn,dn){dn._removeStyle(sn)}setCustomProperty(sn,dn,vn){vn._setCustomProperty(sn,dn)}removeCustomProperty(sn,dn){return dn._removeCustomProperty(sn)}breakAttributes(sn){return sn instanceof No?this._breakAttributes(sn):this._breakAttributesRange(sn)}breakContainer(sn){const dn=sn.parent;if(!dn.is("containerElement"))throw new Nn("view-writer-break-non-container-element",this.document);if(!dn.parent)throw new Nn("view-writer-break-root",this.document);if(sn.isAtStart)return No._createBefore(dn);if(!sn.isAtEnd){const vn=dn._clone(!1);this.insert(No._createAfter(dn),vn);const bn=new Aa(sn,No._createAt(dn,"end")),An=new No(vn,0);this.move(bn,An)}return No._createAfter(dn)}mergeAttributes(sn){const dn=sn.offset,vn=sn.parent;if(vn.is("$text"))return sn;if(vn.is("attributeElement")&&vn.childCount===0){const Dn=vn.parent,Ln=vn.index;return vn._remove(),this._removeFromClonedElementsGroup(vn),this.mergeAttributes(new No(Dn,Ln))}const bn=vn.getChild(dn-1),An=vn.getChild(dn);if(!bn||!An)return sn;if(bn.is("$text")&&An.is("$text"))return Hh(bn,An);if(bn.is("attributeElement")&&An.is("attributeElement")&&bn.isSimilar(An)){const Dn=bn.childCount;return bn._appendChild(An.getChildren()),An._remove(),this._removeFromClonedElementsGroup(An),this.mergeAttributes(new No(bn,Dn))}return sn}mergeContainers(sn){const dn=sn.nodeBefore,vn=sn.nodeAfter;if(!(dn&&vn&&dn.is("containerElement")&&vn.is("containerElement")))throw new Nn("view-writer-merge-containers-invalid-position",this.document);const bn=dn.getChild(dn.childCount-1),An=bn instanceof Ls?No._createAt(bn,"end"):No._createAt(dn,"end");return this.move(Aa._createIn(vn),No._createAt(dn,"end")),this.remove(Aa._createOn(vn)),An}insert(sn,dn){Vh(dn=Mi(dn)?[...dn]:[dn],this.document);const vn=dn.reduce((Dn,Ln)=>{const Bn=Dn[Dn.length-1],Vn=!Ln.is("uiElement");return Bn&&Bn.breakAttributes==Vn?Bn.nodes.push(Ln):Dn.push({breakAttributes:Vn,nodes:[Ln]}),Dn},[]);let bn=null,An=sn;for(const{nodes:Dn,breakAttributes:Ln}of vn){const Bn=this._insertNodes(An,Dn,Ln);bn||(bn=Bn.start),An=Bn.end}return bn?new Aa(bn,An):new Aa(sn)}remove(sn){const dn=sn instanceof Aa?sn:Aa._createOn(sn);if(su(dn,this.document),dn.isCollapsed)return new Uu(this.document);const{start:vn,end:bn}=this._breakAttributesRange(dn,!0),An=vn.parent,Dn=bn.offset-vn.offset,Ln=An._removeChildren(vn.offset,Dn);for(const Vn of Ln)this._removeFromClonedElementsGroup(Vn);const Bn=this.mergeAttributes(vn);return dn.start=Bn,dn.end=Bn.clone(),new Uu(this.document,Ln)}clear(sn,dn){su(sn,this.document);const vn=sn.getWalker({direction:"backward",ignoreElementEnd:!0});for(const bn of vn){const An=bn.item;let Dn;if(An.is("element")&&dn.isSimilar(An))Dn=Aa._createOn(An);else if(!bn.nextPosition.isAfter(sn.start)&&An.is("$textProxy")){const Ln=An.getAncestors().find(Bn=>Bn.is("element")&&dn.isSimilar(Bn));Ln&&(Dn=Aa._createIn(Ln))}Dn&&(Dn.end.isAfter(sn.end)&&(Dn.end=sn.end),Dn.start.isBefore(sn.start)&&(Dn.start=sn.start),this.remove(Dn))}}move(sn,dn){let vn;if(dn.isAfter(sn.end)){const bn=(dn=this._breakAttributes(dn,!0)).parent,An=bn.childCount;sn=this._breakAttributesRange(sn,!0),vn=this.remove(sn),dn.offset+=bn.childCount-An}else vn=this.remove(sn);return this.insert(dn,vn)}wrap(sn,dn){if(!(dn instanceof hd))throw new Nn("view-writer-wrap-invalid-attribute",this.document);if(su(sn,this.document),sn.isCollapsed){let bn=sn.start;bn.parent.is("element")&&(vn=bn.parent,!Array.from(vn.getChildren()).some(Dn=>!Dn.is("uiElement")))&&(bn=bn.getLastMatchingPosition(Dn=>Dn.item.is("uiElement"))),bn=this._wrapPosition(bn,dn);const An=this.document.selection;return An.isCollapsed&&An.getFirstPosition().isEqual(sn.start)&&this.setSelection(bn),new Aa(bn)}return this._wrapRange(sn,dn);var vn}unwrap(sn,dn){if(!(dn instanceof hd))throw new Nn("view-writer-unwrap-invalid-attribute",this.document);if(su(sn,this.document),sn.isCollapsed)return sn;const{start:vn,end:bn}=this._breakAttributesRange(sn,!0),An=vn.parent,Dn=this._unwrapChildren(An,vn.offset,bn.offset,dn),Ln=this.mergeAttributes(Dn.start);Ln.isEqual(Dn.start)||Dn.end.offset--;const Bn=this.mergeAttributes(Dn.end);return new Aa(Ln,Bn)}rename(sn,dn){const vn=new Cu(this.document,sn,dn.getAttributes());return this.insert(No._createAfter(dn),vn),this.move(Aa._createIn(dn),No._createAt(vn,0)),this.remove(Aa._createOn(dn)),vn}clearClonedElementsGroup(sn){this._cloneGroups.delete(sn)}createPositionAt(sn,dn){return No._createAt(sn,dn)}createPositionAfter(sn){return No._createAfter(sn)}createPositionBefore(sn){return No._createBefore(sn)}createRange(sn,dn){return new Aa(sn,dn)}createRangeOn(sn){return Aa._createOn(sn)}createRangeIn(sn){return Aa._createIn(sn)}createSelection(...sn){return new au(...sn)}createSlot(sn="children"){if(!this._slotFactory)throw new Nn("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,sn)}_registerSlotFactory(sn){this._slotFactory=sn}_clearSlotFactory(){this._slotFactory=null}_insertNodes(sn,dn,vn){let bn,An;if(bn=vn?lf(sn):sn.parent.is("$text")?sn.parent.parent:sn.parent,!bn)throw new Nn("view-writer-invalid-position-container",this.document);An=vn?this._breakAttributes(sn,!0):sn.parent.is("$text")?cf(sn):sn;const Dn=bn._insertChild(An.offset,dn);for(const Gn of dn)this._addToClonedElementsGroup(Gn);const Ln=An.getShiftedBy(Dn),Bn=this.mergeAttributes(An);Bn.isEqual(An)||Ln.offset--;const Vn=this.mergeAttributes(Ln);return new Aa(Bn,Vn)}_wrapChildren(sn,dn,vn,bn){let An=dn;const Dn=[];for(;An<vn;){const Bn=sn.getChild(An),Vn=Bn.is("$text"),Gn=Bn.is("attributeElement");if(Gn&&this._wrapAttributeElement(bn,Bn))Dn.push(new No(sn,An));else if(Vn||!Gn||Mp(bn,Bn)){const Kn=bn._clone();Bn._remove(),Kn._appendChild(Bn),sn._insertChild(An,Kn),this._addToClonedElementsGroup(Kn),Dn.push(new No(sn,An))}else this._wrapChildren(Bn,0,Bn.childCount,bn);An++}let Ln=0;for(const Bn of Dn)Bn.offset-=Ln,Bn.offset!=dn&&(this.mergeAttributes(Bn).isEqual(Bn)||(Ln++,vn--));return Aa._createFromParentsAndOffsets(sn,dn,sn,vn)}_unwrapChildren(sn,dn,vn,bn){let An=dn;const Dn=[];for(;An<vn;){const Bn=sn.getChild(An);if(Bn.is("attributeElement"))if(Bn.isSimilar(bn)){const Vn=Bn.getChildren(),Gn=Bn.childCount;Bn._remove(),sn._insertChild(An,Vn),this._removeFromClonedElementsGroup(Bn),Dn.push(new No(sn,An),new No(sn,An+Gn)),An+=Gn,vn+=Gn-1}else this._unwrapAttributeElement(bn,Bn)?(Dn.push(new No(sn,An),new No(sn,An+1)),An++):(this._unwrapChildren(Bn,0,Bn.childCount,bn),An++);else An++}let Ln=0;for(const Bn of Dn)Bn.offset-=Ln,!(Bn.offset==dn||Bn.offset==vn)&&(this.mergeAttributes(Bn).isEqual(Bn)||(Ln++,vn--));return Aa._createFromParentsAndOffsets(sn,dn,sn,vn)}_wrapRange(sn,dn){const{start:vn,end:bn}=this._breakAttributesRange(sn,!0),An=vn.parent,Dn=this._wrapChildren(An,vn.offset,bn.offset,dn),Ln=this.mergeAttributes(Dn.start);Ln.isEqual(Dn.start)||Dn.end.offset--;const Bn=this.mergeAttributes(Dn.end);return new Aa(Ln,Bn)}_wrapPosition(sn,dn){if(dn.isSimilar(sn.parent))return Ip(sn.clone());sn.parent.is("$text")&&(sn=cf(sn));const vn=this.createAttributeElement("_wrapPosition-fake-element");vn._priority=Number.POSITIVE_INFINITY,vn.isSimilar=()=>!1,sn.parent._insertChild(sn.offset,vn);const bn=new Aa(sn,sn.getShiftedBy(1));this.wrap(bn,dn);const An=new No(vn.parent,vn.index);vn._remove();const Dn=An.nodeBefore,Ln=An.nodeAfter;return Dn instanceof Ls&&Ln instanceof Ls?Hh(Dn,Ln):Ip(An)}_wrapAttributeElement(sn,dn){if(!Lp(sn,dn)||sn.name!==dn.name||sn.priority!==dn.priority)return!1;for(const vn of sn.getAttributeKeys())if(vn!=="class"&&vn!=="style"&&dn.hasAttribute(vn)&&dn.getAttribute(vn)!==sn.getAttribute(vn))return!1;for(const vn of sn.getStyleNames())if(dn.hasStyle(vn)&&dn.getStyle(vn)!==sn.getStyle(vn))return!1;for(const vn of sn.getAttributeKeys())vn!=="class"&&vn!=="style"&&(dn.hasAttribute(vn)||this.setAttribute(vn,sn.getAttribute(vn),dn));for(const vn of sn.getStyleNames())dn.hasStyle(vn)||this.setStyle(vn,sn.getStyle(vn),dn);for(const vn of sn.getClassNames())dn.hasClass(vn)||this.addClass(vn,dn);return!0}_unwrapAttributeElement(sn,dn){if(!Lp(sn,dn)||sn.name!==dn.name||sn.priority!==dn.priority)return!1;for(const vn of sn.getAttributeKeys())if(vn!=="class"&&vn!=="style"&&(!dn.hasAttribute(vn)||dn.getAttribute(vn)!==sn.getAttribute(vn)))return!1;if(!dn.hasClass(...sn.getClassNames()))return!1;for(const vn of sn.getStyleNames())if(!dn.hasStyle(vn)||dn.getStyle(vn)!==sn.getStyle(vn))return!1;for(const vn of sn.getAttributeKeys())vn!=="class"&&vn!=="style"&&this.removeAttribute(vn,dn);return this.removeClass(Array.from(sn.getClassNames()),dn),this.removeStyle(Array.from(sn.getStyleNames()),dn),!0}_breakAttributesRange(sn,dn=!1){const vn=sn.start,bn=sn.end;if(su(sn,this.document),sn.isCollapsed){const Bn=this._breakAttributes(sn.start,dn);return new Aa(Bn,Bn)}const An=this._breakAttributes(bn,dn),Dn=An.parent.childCount,Ln=this._breakAttributes(vn,dn);return An.offset+=An.parent.childCount-Dn,new Aa(Ln,An)}_breakAttributes(sn,dn=!1){const vn=sn.offset,bn=sn.parent;if(sn.parent.is("emptyElement"))throw new Nn("view-writer-cannot-break-empty-element",this.document);if(sn.parent.is("uiElement"))throw new Nn("view-writer-cannot-break-ui-element",this.document);if(sn.parent.is("rawElement"))throw new Nn("view-writer-cannot-break-raw-element",this.document);if(!dn&&bn.is("$text")&&jh(bn.parent)||jh(bn))return sn.clone();if(bn.is("$text"))return this._breakAttributes(cf(sn),dn);if(vn==bn.childCount){const An=new No(bn.parent,bn.index+1);return this._breakAttributes(An,dn)}if(vn===0){const An=new No(bn.parent,bn.index);return this._breakAttributes(An,dn)}{const An=bn.index+1,Dn=bn._clone();bn.parent._insertChild(An,Dn),this._addToClonedElementsGroup(Dn);const Ln=bn.childCount-vn,Bn=bn._removeChildren(vn,Ln);Dn._appendChild(Bn);const Vn=new No(bn.parent,An);return this._breakAttributes(Vn,dn)}}_addToClonedElementsGroup(sn){if(!sn.root.is("rootElement"))return;if(sn.is("element"))for(const bn of sn.getChildren())this._addToClonedElementsGroup(bn);const dn=sn.id;if(!dn)return;let vn=this._cloneGroups.get(dn);vn||(vn=new Set,this._cloneGroups.set(dn,vn)),vn.add(sn),sn._clonesGroup=vn}_removeFromClonedElementsGroup(sn){if(sn.is("element"))for(const bn of sn.getChildren())this._removeFromClonedElementsGroup(bn);const dn=sn.id;if(!dn)return;const vn=this._cloneGroups.get(dn);vn&&vn.delete(sn)}}function lf(yn){let sn=yn.parent;for(;!jh(sn);){if(!sn)return;sn=sn.parent}return sn}function Mp(yn,sn){return yn.priority<sn.priority||!(yn.priority>sn.priority)&&yn.getIdentity()<sn.getIdentity()}function Ip(yn){const sn=yn.nodeBefore;if(sn&&sn.is("$text"))return new No(sn,sn.data.length);const dn=yn.nodeAfter;return dn&&dn.is("$text")?new No(dn,0):yn}function cf(yn){if(yn.offset==yn.parent.data.length)return new No(yn.parent.parent,yn.parent.index+1);if(yn.offset===0)return new No(yn.parent.parent,yn.parent.index);const sn=yn.parent.data.slice(yn.offset);return yn.parent._data=yn.parent.data.slice(0,yn.offset),yn.parent.parent._insertChild(yn.parent.index+1,new Ls(yn.root.document,sn)),new No(yn.parent.parent,yn.parent.index+1)}function Hh(yn,sn){const dn=yn.data.length;return yn._data+=sn.data,sn._remove(),new No(yn,dn)}const Es=[Ls,hd,Cu,Bh,sf,ju];function Vh(yn,sn){for(const dn of yn){if(!Es.some(vn=>dn instanceof vn))throw new Nn("view-writer-insert-invalid-node-type",sn);dn.is("$text")||Vh(dn.getChildren(),sn)}}function jh(yn){return yn&&(yn.is("containerElement")||yn.is("documentFragment"))}function su(yn,sn){const dn=lf(yn.start),vn=lf(yn.end);if(!dn||!vn||dn!==vn)throw new Nn("view-writer-invalid-range-container",sn)}function Lp(yn,sn){return yn.id===null&&sn.id===null}const uf=yn=>yn.createTextNode("Â "),Pp=yn=>{const sn=yn.createElement("span");return sn.dataset.ckeFiller="true",sn.innerText="Â ",sn},rl=yn=>{const sn=yn.createElement("br");return sn.dataset.ckeFiller="true",sn},lu=7,zf="â ".repeat(lu);function Sc(yn){return rs(yn)&&yn.data.substr(0,lu)===zf}function Gu(yn){return yn.data.length==lu&&Sc(yn)}function wn(yn){return Sc(yn)?yn.data.slice(lu):yn.data}function En(yn,sn){if(sn.keyCode==Xa.arrowleft){const dn=sn.domTarget.ownerDocument.defaultView.getSelection();if(dn.rangeCount==1&&dn.getRangeAt(0).collapsed){const vn=dn.getRangeAt(0).startContainer,bn=dn.getRangeAt(0).startOffset;Sc(vn)&&bn<=lu&&dn.collapse(vn,0)}}}var $n=rn(9315),Rn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()($n.Z,Rn),$n.Z.locals;class Fn extends Yi(){constructor(sn,dn){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=sn,this.selection=dn,this.set("isFocused",!1),this.set("isSelecting",!1),pn.isBlink&&!pn.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(sn,dn){if(sn==="text")this.domConverter.mapViewToDom(dn.parent)&&this.markedTexts.add(dn);else{if(!this.domConverter.mapViewToDom(dn))return;if(sn==="attributes")this.markedAttributes.add(dn);else{if(sn!=="children")throw new Nn("view-renderer-unknown-type",this);this.markedChildren.add(dn)}}}render(){if(this.isComposing&&!pn.isAndroid)return;let sn=null;const dn=!(pn.isBlink&&!pn.isAndroid)||!this.isSelecting;for(const vn of this.markedChildren)this._updateChildrenMappings(vn);dn?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?sn=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(sn=this.selection.getFirstPosition(),this.markedChildren.add(sn.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(sn=this.domConverter.domPositionToView(this._inlineFiller),sn&&sn.parent.is("$text")&&(sn=No._createBefore(sn.parent)));for(const vn of this.markedAttributes)this._updateAttrs(vn);for(const vn of this.markedChildren)this._updateChildren(vn,{inlineFillerPosition:sn});for(const vn of this.markedTexts)!this.markedChildren.has(vn.parent)&&this.domConverter.mapViewToDom(vn.parent)&&this._updateText(vn,{inlineFillerPosition:sn});if(dn)if(sn){const vn=this.domConverter.viewPositionToDom(sn),bn=vn.parent.ownerDocument;Sc(vn.parent)?this._inlineFiller=vn.parent:this._inlineFiller=Zn(bn,vn.parent,vn.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(sn){if(!this.domConverter.mapViewToDom(sn))return;const dn=Array.from(this.domConverter.mapViewToDom(sn).childNodes),vn=Array.from(this.domConverter.viewChildrenToDom(sn,{withChildren:!1})),bn=this._diffNodeLists(dn,vn),An=this._findUpdateActions(bn,dn,vn,zr);if(An.indexOf("update")!==-1){const Dn={equal:0,insert:0,delete:0};for(const Ln of An)if(Ln==="update"){const Bn=Dn.equal+Dn.insert,Vn=Dn.equal+Dn.delete,Gn=sn.getChild(Bn);!Gn||Gn.is("uiElement")||Gn.is("rawElement")||this._updateElementMappings(Gn,dn[Vn]),Ai(vn[Bn]),Dn.equal++}else Dn[Ln]++}}_updateElementMappings(sn,dn){this.domConverter.unbindDomElement(dn),this.domConverter.bindElements(dn,sn),this.markedChildren.add(sn),this.markedAttributes.add(sn)}_getInlineFillerPosition(){const sn=this.selection.getFirstPosition();return sn.parent.is("$text")?No._createBefore(sn.parent):sn}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const sn=this.selection.getFirstPosition(),dn=this.domConverter.viewPositionToDom(sn);return!!(dn&&rs(dn.parent)&&Sc(dn.parent))}_removeInlineFiller(){const sn=this._inlineFiller;if(!Sc(sn))throw new Nn("view-renderer-filler-was-lost",this);Gu(sn)?sn.remove():sn.data=sn.data.substr(lu),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const sn=this.selection.getFirstPosition(),dn=sn.parent,vn=sn.offset;if(!this.domConverter.mapViewToDom(dn.root)||!dn.is("element")||!function(Dn){if(Dn.getAttribute("contenteditable")=="false")return!1;const Ln=Dn.findAncestor(Bn=>Bn.hasAttribute("contenteditable"));return!Ln||Ln.getAttribute("contenteditable")=="true"}(dn)||vn===dn.getFillerOffset())return!1;const bn=sn.nodeBefore,An=sn.nodeAfter;return!(bn instanceof Ls||An instanceof Ls)&&(!pn.isAndroid||!bn&&!An)}_updateText(sn,dn){const vn=this.domConverter.findCorrespondingDomText(sn);let bn=this.domConverter.viewToDom(sn).data;const An=dn.inlineFillerPosition;An&&An.parent==sn.parent&&An.offset==sn.index&&(bn=zf+bn),ii(vn,bn)}_updateAttrs(sn){const dn=this.domConverter.mapViewToDom(sn);if(!dn)return;const vn=Array.from(dn.attributes).map(An=>An.name),bn=sn.getAttributeKeys();for(const An of bn)this.domConverter.setDomElementAttribute(dn,An,sn.getAttribute(An),sn);for(const An of vn)sn.hasAttribute(An)||this.domConverter.removeDomElementAttribute(dn,An)}_updateChildren(sn,dn){const vn=this.domConverter.mapViewToDom(sn);if(!vn)return;if(pn.isAndroid){let Kn=null;for(const $r of Array.from(vn.childNodes)){if(Kn&&rs(Kn)&&rs($r)){vn.normalize();break}Kn=$r}}const bn=dn.inlineFillerPosition,An=vn.childNodes,Dn=Array.from(this.domConverter.viewChildrenToDom(sn,{bind:!0}));bn&&bn.parent===sn&&Zn(vn.ownerDocument,Dn,bn.offset);const Ln=this._diffNodeLists(An,Dn),Bn=this._findUpdateActions(Ln,An,Dn,Gr);let Vn=0;const Gn=new Set;for(const Kn of Bn)Kn==="delete"?(Gn.add(An[Vn]),Ai(An[Vn])):Kn!=="equal"&&Kn!=="update"||Vn++;Vn=0;for(const Kn of Bn)Kn==="insert"?(Ad(vn,Vn,Dn[Vn]),Vn++):Kn==="update"?(ii(An[Vn],Dn[Vn].data),Vn++):Kn==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(Dn[Vn])),Vn++);for(const Kn of Gn)Kn.parentNode||this.domConverter.unbindDomElement(Kn)}_diffNodeLists(sn,dn){return sn=function(vn,bn){const An=Array.from(vn);return An.length==0||!bn||An[An.length-1]==bn&&An.pop(),An}(sn,this._fakeSelectionContainer),Cn(sn,dn,Kr.bind(null,this.domConverter))}_findUpdateActions(sn,dn,vn,bn){if(sn.indexOf("insert")===-1||sn.indexOf("delete")===-1)return sn;let An=[],Dn=[],Ln=[];const Bn={equal:0,insert:0,delete:0};for(const Vn of sn)Vn==="insert"?Ln.push(vn[Bn.equal+Bn.insert]):Vn==="delete"?Dn.push(dn[Bn.equal+Bn.delete]):(An=An.concat(Cn(Dn,Ln,bn).map(Gn=>Gn==="equal"?"update":Gn)),An.push("equal"),Dn=[],Ln=[]),Bn[Vn]++;return An.concat(Cn(Dn,Ln,bn).map(Vn=>Vn==="equal"?"update":Vn))}_markDescendantTextToSync(sn){if(sn){if(sn.is("$text"))this.markedTexts.add(sn);else if(sn.is("element"))for(const dn of sn.getChildren())this._markDescendantTextToSync(dn)}}_updateSelection(){if(pn.isBlink&&!pn.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const sn=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&sn&&(this.selection.isFake?this._updateFakeSelection(sn):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(sn)):this.isComposing&&pn.isAndroid||this._updateDomSelection(sn))}_updateFakeSelection(sn){const dn=sn.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(Dn){const Ln=Dn.createElement("div");return Ln.className="ck-fake-selection-container",Object.assign(Ln.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),Ln.textContent="Â ",Ln}(dn));const vn=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(vn,this.selection),!this._fakeSelectionNeedsUpdate(sn))return;vn.parentElement&&vn.parentElement==sn||sn.appendChild(vn),vn.textContent=this.selection.fakeSelectionLabel||"Â ";const bn=dn.getSelection(),An=dn.createRange();bn.removeAllRanges(),An.selectNodeContents(vn),bn.addRange(An)}_updateDomSelection(sn){const dn=sn.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(dn))return;const vn=this.domConverter.viewPositionToDom(this.selection.anchor),bn=this.domConverter.viewPositionToDom(this.selection.focus);dn.collapse(vn.parent,vn.offset),dn.extend(bn.parent,bn.offset),pn.isGecko&&function(An,Dn){const Ln=An.parent;if(Ln.nodeType!=Node.ELEMENT_NODE||An.offset!=Ln.childNodes.length-1)return;const Bn=Ln.childNodes[An.offset];Bn&&Bn.tagName=="BR"&&Dn.addRange(Dn.getRangeAt(0))}(bn,dn)}_domSelectionNeedsUpdate(sn){if(!this.domConverter.isDomSelectionCorrect(sn))return!0;const dn=sn&&this.domConverter.domSelectionToView(sn);return(!dn||!this.selection.isEqual(dn))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(dn))}_fakeSelectionNeedsUpdate(sn){const dn=this._fakeSelectionContainer,vn=sn.ownerDocument.getSelection();return!dn||dn.parentElement!==sn||vn.anchorNode!==dn&&!dn.contains(vn.anchorNode)||dn.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const sn of this.domDocuments){const dn=sn.getSelection();if(dn.rangeCount){const vn=sn.activeElement,bn=this.domConverter.mapDomToView(vn);vn&&bn&&dn.removeAllRanges()}}}_removeFakeSelection(){const sn=this._fakeSelectionContainer;sn&&sn.remove()}_updateFocus(){if(this.isFocused){const sn=this.selection.editableElement;sn&&this.domConverter.focus(sn)}}}function Zn(yn,sn,dn){const vn=sn instanceof Array?sn:sn.childNodes,bn=vn[dn];if(rs(bn))return bn.data=zf+bn.data,bn;{const An=yn.createTextNode(zf);return Array.isArray(sn)?vn.splice(dn,0,An):Ad(sn,dn,An),An}}function zr(yn,sn){return Va(yn)&&Va(sn)&&!rs(yn)&&!rs(sn)&&!Ac(yn)&&!Ac(sn)&&yn.tagName.toLowerCase()===sn.tagName.toLowerCase()}function Gr(yn,sn){return Va(yn)&&Va(sn)&&rs(yn)&&rs(sn)}function Kr(yn,sn,dn){return sn===dn||(rs(sn)&&rs(dn)?sn.data===dn.data:!(!yn.isBlockFiller(sn)||!yn.isBlockFiller(dn)))}function ii(yn,sn){const dn=yn.data;if(dn==sn)return;const vn=mn(dn,sn);for(const bn of vn)bn.type==="insert"?yn.insertData(bn.index,bn.values.join("")):yn.deleteData(bn.index,bn.howMany)}const mi=rl(Ta.document),Ci=uf(Ta.document),Vi=Pp(Ta.document),Ni="data-ck-unsafe-attribute-",Qi="data-ck-unsafe-element";class ho{constructor(sn,{blockFillerMode:dn,renderingMode:vn="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new jc,this._encounteredRawContentDomNodes=new WeakSet,this.document=sn,this.renderingMode=vn,this.blockFillerMode=dn||(vn==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Ta.document:Ta.document.implementation.createHTMLDocument("")}bindFakeSelection(sn,dn){this._fakeSelectionMapping.set(sn,new au(dn))}fakeSelectionToView(sn){return this._fakeSelectionMapping.get(sn)}bindElements(sn,dn){this._domToViewMapping.set(sn,dn),this._viewToDomMapping.set(dn,sn)}unbindDomElement(sn){const dn=this._domToViewMapping.get(sn);if(dn){this._domToViewMapping.delete(sn),this._viewToDomMapping.delete(dn);for(const vn of Array.from(sn.children))this.unbindDomElement(vn)}}bindDocumentFragments(sn,dn){this._domToViewMapping.set(sn,dn),this._viewToDomMapping.set(dn,sn)}shouldRenderAttribute(sn,dn,vn){return this.renderingMode==="data"||!(sn=sn.toLowerCase()).startsWith("on")&&(sn!=="srcdoc"||!dn.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(vn==="img"&&(sn==="src"||sn==="srcset")||vn==="source"&&sn==="srcset"||!dn.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(sn,dn){if(this.renderingMode==="data")return void(sn.innerHTML=dn);const vn=new DOMParser().parseFromString(dn,"text/html"),bn=vn.createDocumentFragment(),An=vn.body.childNodes;for(;An.length>0;)bn.appendChild(An[0]);const Dn=vn.createTreeWalker(bn,NodeFilter.SHOW_ELEMENT),Ln=[];let Bn;for(;Bn=Dn.nextNode();)Ln.push(Bn);for(const Vn of Ln){for(const Kn of Vn.getAttributeNames())this.setDomElementAttribute(Vn,Kn,Vn.getAttribute(Kn));const Gn=Vn.tagName.toLowerCase();this._shouldRenameElement(Gn)&&(Vo(Gn),Vn.replaceWith(this._createReplacementDomElement(Gn,Vn)))}for(;sn.firstChild;)sn.firstChild.remove();sn.append(bn)}viewToDom(sn,dn={}){if(sn.is("$text")){const vn=this._processDataFromViewText(sn);return this._domDocument.createTextNode(vn)}{if(this.mapViewToDom(sn))return this.mapViewToDom(sn);let vn;if(sn.is("documentFragment"))vn=this._domDocument.createDocumentFragment(),dn.bind&&this.bindDocumentFragments(vn,sn);else{if(sn.is("uiElement"))return vn=sn.name==="$comment"?this._domDocument.createComment(sn.getCustomProperty("$rawContent")):sn.render(this._domDocument,this),dn.bind&&this.bindElements(vn,sn),vn;this._shouldRenameElement(sn.name)?(Vo(sn.name),vn=this._createReplacementDomElement(sn.name)):vn=sn.hasAttribute("xmlns")?this._domDocument.createElementNS(sn.getAttribute("xmlns"),sn.name):this._domDocument.createElement(sn.name),sn.is("rawElement")&&sn.render(vn,this),dn.bind&&this.bindElements(vn,sn);for(const bn of sn.getAttributeKeys())this.setDomElementAttribute(vn,bn,sn.getAttribute(bn),sn)}if(dn.withChildren!==!1)for(const bn of this.viewChildrenToDom(sn,dn))vn.appendChild(bn);return vn}}setDomElementAttribute(sn,dn,vn,bn){const An=this.shouldRenderAttribute(dn,vn,sn.tagName.toLowerCase())||bn&&bn.shouldRenderUnsafeAttribute(dn);An||Hn("domconverter-unsafe-attribute-detected",{domElement:sn,key:dn,value:vn}),function(Dn){try{Ta.document.createAttribute(Dn)}catch{return!1}return!0}(dn)?(sn.hasAttribute(dn)&&!An?sn.removeAttribute(dn):sn.hasAttribute(Ni+dn)&&An&&sn.removeAttribute(Ni+dn),sn.setAttribute(An?dn:Ni+dn,vn)):Hn("domconverter-invalid-attribute-detected",{domElement:sn,key:dn,value:vn})}removeDomElementAttribute(sn,dn){dn!=Qi&&(sn.removeAttribute(dn),sn.removeAttribute(Ni+dn))}*viewChildrenToDom(sn,dn={}){const vn=sn.getFillerOffset&&sn.getFillerOffset();let bn=0;for(const An of sn.getChildren()){vn===bn&&(yield this._getBlockFiller());const Dn=An.is("element")&&!!An.getCustomProperty("dataPipeline:transparentRendering")&&!_l(An.getAttributes());Dn&&this.renderingMode=="data"?yield*this.viewChildrenToDom(An,dn):(Dn&&Hn("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:An}),yield this.viewToDom(An,dn)),bn++}vn===bn&&(yield this._getBlockFiller())}viewRangeToDom(sn){const dn=this.viewPositionToDom(sn.start),vn=this.viewPositionToDom(sn.end),bn=this._domDocument.createRange();return bn.setStart(dn.parent,dn.offset),bn.setEnd(vn.parent,vn.offset),bn}viewPositionToDom(sn){const dn=sn.parent;if(dn.is("$text")){const vn=this.findCorrespondingDomText(dn);if(!vn)return null;let bn=sn.offset;return Sc(vn)&&(bn+=lu),{parent:vn,offset:bn}}{let vn,bn,An;if(sn.offset===0){if(vn=this.mapViewToDom(dn),!vn)return null;An=vn.childNodes[0]}else{const Dn=sn.nodeBefore;if(bn=Dn.is("$text")?this.findCorrespondingDomText(Dn):this.mapViewToDom(Dn),!bn)return null;vn=bn.parentNode,An=bn.nextSibling}return rs(An)&&Sc(An)?{parent:An,offset:lu}:{parent:vn,offset:bn?Nu(bn)+1:0}}}domToView(sn,dn={}){if(this.isBlockFiller(sn))return null;const vn=this.getHostViewElement(sn);if(vn)return vn;if(Ac(sn)&&dn.skipComments)return null;if(rs(sn)){if(Gu(sn))return null;{const bn=this._processDataFromDomText(sn);return bn===""?null:new Ls(this.document,bn)}}{if(this.mapDomToView(sn))return this.mapDomToView(sn);let bn;if(this.isDocumentFragment(sn))bn=new Uu(this.document),dn.bind&&this.bindDocumentFragments(sn,bn);else{bn=this._createViewElement(sn,dn),dn.bind&&this.bindElements(sn,bn);const An=sn.attributes;if(An)for(let Dn=An.length,Ln=0;Ln<Dn;Ln++)bn._setAttribute(An[Ln].name,An[Ln].value);if(this._isViewElementWithRawContent(bn,dn)||Ac(sn)){const Dn=Ac(sn)?sn.data:sn.innerHTML;return bn._setCustomProperty("$rawContent",Dn),this._encounteredRawContentDomNodes.add(sn),bn}}if(dn.withChildren!==!1)for(const An of this.domChildrenToView(sn,dn))bn._appendChild(An);return bn}}*domChildrenToView(sn,dn){for(let vn=0;vn<sn.childNodes.length;vn++){const bn=sn.childNodes[vn],An=this.domToView(bn,dn);An!==null&&(yield An)}}domSelectionToView(sn){if(sn.rangeCount===1){let bn=sn.getRangeAt(0).startContainer;rs(bn)&&(bn=bn.parentNode);const An=this.fakeSelectionToView(bn);if(An)return An}const dn=this.isDomSelectionBackward(sn),vn=[];for(let bn=0;bn<sn.rangeCount;bn++){const An=sn.getRangeAt(bn),Dn=this.domRangeToView(An);Dn&&vn.push(Dn)}return new au(vn,{backward:dn})}domRangeToView(sn){const dn=this.domPositionToView(sn.startContainer,sn.startOffset),vn=this.domPositionToView(sn.endContainer,sn.endOffset);return dn&&vn?new Aa(dn,vn):null}domPositionToView(sn,dn=0){if(this.isBlockFiller(sn))return this.domPositionToView(sn.parentNode,Nu(sn));const vn=this.mapDomToView(sn);if(vn&&(vn.is("uiElement")||vn.is("rawElement")))return No._createBefore(vn);if(rs(sn)){if(Gu(sn))return this.domPositionToView(sn.parentNode,Nu(sn));const bn=this.findCorrespondingViewText(sn);let An=dn;return bn?(Sc(sn)&&(An-=lu,An=An<0?0:An),new No(bn,An)):null}if(dn===0){const bn=this.mapDomToView(sn);if(bn)return new No(bn,0)}else{const bn=sn.childNodes[dn-1];if(rs(bn)&&Gu(bn)||bn&&this.isBlockFiller(bn))return this.domPositionToView(bn.parentNode,Nu(bn));const An=rs(bn)?this.findCorrespondingViewText(bn):this.mapDomToView(bn);if(An&&An.parent)return new No(An.parent,An.index+1)}return null}mapDomToView(sn){return this.getHostViewElement(sn)||this._domToViewMapping.get(sn)}findCorrespondingViewText(sn){if(Gu(sn))return null;const dn=this.getHostViewElement(sn);if(dn)return dn;const vn=sn.previousSibling;if(vn){if(!this.isElement(vn))return null;const bn=this.mapDomToView(vn);if(bn){const An=bn.nextSibling;return An instanceof Ls?An:null}}else{const bn=this.mapDomToView(sn.parentNode);if(bn){const An=bn.getChild(0);return An instanceof Ls?An:null}}return null}mapViewToDom(sn){return this._viewToDomMapping.get(sn)}findCorrespondingDomText(sn){const dn=sn.previousSibling;return dn&&this.mapViewToDom(dn)?this.mapViewToDom(dn).nextSibling:!dn&&sn.parent&&this.mapViewToDom(sn.parent)?this.mapViewToDom(sn.parent).childNodes[0]:null}focus(sn){const dn=this.mapViewToDom(sn);if(dn&&dn.ownerDocument.activeElement!==dn){const{scrollX:vn,scrollY:bn}=Ta.window,An=[];Ao(dn,Dn=>{const{scrollLeft:Ln,scrollTop:Bn}=Dn;An.push([Ln,Bn])}),dn.focus(),Ao(dn,Dn=>{const[Ln,Bn]=An.shift();Dn.scrollLeft=Ln,Dn.scrollTop=Bn}),Ta.window.scrollTo(vn,bn)}}isElement(sn){return sn&&sn.nodeType==Node.ELEMENT_NODE}isDocumentFragment(sn){return sn&&sn.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(sn){return this.blockFillerMode=="br"?sn.isEqualNode(mi):!(sn.tagName!=="BR"||!Lo(sn,this.blockElements)||sn.parentNode.childNodes.length!==1)||sn.isEqualNode(Vi)||function(dn,vn){return dn.isEqualNode(Ci)&&Lo(dn,vn)&&dn.parentNode.childNodes.length===1}(sn,this.blockElements)}isDomSelectionBackward(sn){if(sn.isCollapsed)return!1;const dn=this._domDocument.createRange();try{dn.setStart(sn.anchorNode,sn.anchorOffset),dn.setEnd(sn.focusNode,sn.focusOffset)}catch{return!1}const vn=dn.collapsed;return dn.detach(),vn}getHostViewElement(sn){const dn=Nc(sn);for(dn.pop();dn.length;){const vn=dn.pop(),bn=this._domToViewMapping.get(vn);if(bn&&(bn.is("uiElement")||bn.is("rawElement")))return bn}return null}isDomSelectionCorrect(sn){return this._isDomSelectionPositionCorrect(sn.anchorNode,sn.anchorOffset)&&this._isDomSelectionPositionCorrect(sn.focusNode,sn.focusOffset)}registerRawContentMatcher(sn){this._rawContentElementMatcher.add(sn)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return uf(this._domDocument);case"markedNbsp":return Pp(this._domDocument);case"br":return rl(this._domDocument)}}_isDomSelectionPositionCorrect(sn,dn){if(rs(sn)&&Sc(sn)&&dn<lu||this.isElement(sn)&&Sc(sn.childNodes[dn]))return!1;const vn=this.mapDomToView(sn);return!vn||!vn.is("uiElement")&&!vn.is("rawElement")}_processDataFromViewText(sn){let dn=sn.data;if(sn.getAncestors().some(vn=>this.preElements.includes(vn.name)))return dn;if(dn.charAt(0)==" "){const vn=this._getTouchingInlineViewNode(sn,!1);!(vn&&vn.is("$textProxy")&&this._nodeEndsWithSpace(vn))&&vn||(dn="Â "+dn.substr(1))}if(dn.charAt(dn.length-1)==" "){const vn=this._getTouchingInlineViewNode(sn,!0),bn=vn&&vn.is("$textProxy")&&vn.data.charAt(0)==" ";dn.charAt(dn.length-2)!=" "&&vn&&!bn||(dn=dn.substr(0,dn.length-1)+"Â ")}return dn.replace(/ {2}/g," Â ")}_nodeEndsWithSpace(sn){if(sn.getAncestors().some(vn=>this.preElements.includes(vn.name)))return!1;const dn=this._processDataFromViewText(sn);return dn.charAt(dn.length-1)==" "}_processDataFromDomText(sn){let dn=sn.data;if(function(Vn,Gn){return Nc(Vn).some($r=>$r.tagName&&Gn.includes($r.tagName.toLowerCase()))}(sn,this.preElements))return wn(sn);dn=dn.replace(/[ \n\t\r]{1,}/g," ");const vn=this._getTouchingInlineDomNode(sn,!1),bn=this._getTouchingInlineDomNode(sn,!0),An=this._checkShouldLeftTrimDomText(sn,vn),Dn=this._checkShouldRightTrimDomText(sn,bn);An&&(dn=dn.replace(/^ /,"")),Dn&&(dn=dn.replace(/ $/,"")),dn=wn(new Text(dn)),dn=dn.replace(/ \u00A0/g,"  ");const Ln=bn&&this.isElement(bn)&&bn.tagName!="BR",Bn=bn&&rs(bn)&&bn.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(dn)||!bn||Ln||Bn)&&(dn=dn.replace(/\u00A0$/," ")),(An||vn&&this.isElement(vn)&&vn.tagName!="BR")&&(dn=dn.replace(/^\u00A0/," ")),dn}_checkShouldLeftTrimDomText(sn,dn){return!dn||(this.isElement(dn)?dn.tagName==="BR":!this._encounteredRawContentDomNodes.has(sn.previousSibling)&&/[^\S\u00A0]/.test(dn.data.charAt(dn.data.length-1)))}_checkShouldRightTrimDomText(sn,dn){return!dn&&!Sc(sn)}_getTouchingInlineViewNode(sn,dn){const vn=new fd({startPosition:dn?No._createAfter(sn):No._createBefore(sn),direction:dn?"forward":"backward"});for(const bn of vn){if(bn.item.is("element")&&this.inlineObjectElements.includes(bn.item.name))return bn.item;if(bn.item.is("containerElement")||bn.item.is("element","br"))return null;if(bn.item.is("$textProxy"))return bn.item}return null}_getTouchingInlineDomNode(sn,dn){if(!sn.parentNode)return null;const vn=dn?"firstChild":"lastChild",bn=dn?"nextSibling":"previousSibling";let An=!0,Dn=sn;do if(!An&&Dn[vn]?Dn=Dn[vn]:Dn[bn]?(Dn=Dn[bn],An=!1):(Dn=Dn.parentNode,An=!0),!Dn||this._isBlockElement(Dn))return null;while(!rs(Dn)&&Dn.tagName!="BR"&&!this._isInlineObjectElement(Dn));return Dn}_isBlockElement(sn){return this.isElement(sn)&&this.blockElements.includes(sn.tagName.toLowerCase())}_isInlineObjectElement(sn){return this.isElement(sn)&&this.inlineObjectElements.includes(sn.tagName.toLowerCase())}_createViewElement(sn,dn){if(Ac(sn))return new ju(this.document,"$comment");const vn=dn.keepOriginalCase?sn.tagName:sn.tagName.toLowerCase();return new ac(this.document,vn)}_isViewElementWithRawContent(sn,dn){return dn.withChildren!==!1&&!!this._rawContentElementMatcher.match(sn)}_shouldRenameElement(sn){const dn=sn.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(dn)}_createReplacementDomElement(sn,dn){const vn=this._domDocument.createElement("span");if(vn.setAttribute(Qi,sn),dn){for(;dn.firstChild;)vn.appendChild(dn.firstChild);for(const bn of dn.getAttributeNames())vn.setAttribute(bn,dn.getAttribute(bn))}return vn}}function Ao(yn,sn){let dn=yn;for(;dn;)sn(dn),dn=dn.parentElement}function Lo(yn,sn){const dn=yn.parentNode;return!!dn&&!!dn.tagName&&sn.includes(dn.tagName.toLowerCase())}function Vo(yn){yn==="script"&&Hn("domconverter-unsafe-script-element-detected"),yn==="style"&&Hn("domconverter-unsafe-style-element-detected")}class Do extends Ks(){constructor(sn){super(),this._isEnabled=!1,this.view=sn,this.document=sn.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(sn){return sn&&sn.nodeType===3&&(sn=sn.parentNode),!(!sn||sn.nodeType!==1)&&sn.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Yo=Ph(function(yn,sn){La(sn,xi(sn),yn)});class sa{constructor(sn,dn,vn){this.view=sn,this.document=sn.document,this.domEvent=dn,this.domTarget=dn.target,Yo(this,vn)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Jo extends Do{constructor(){super(...arguments),this.useCapture=!1}observe(sn){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(dn=>{this.listenTo(sn,dn,(vn,bn)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(bn.target)&&this.onDomEvent(bn)},{useCapture:this.useCapture})})}stopObserving(sn){this.stopListening(sn)}fire(sn,dn,vn){this.isEnabled&&this.document.fire(sn,new sa(this.view,dn,vn))}}class Ga extends Jo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(sn){const dn={keyCode:sn.keyCode,altKey:sn.altKey,ctrlKey:sn.ctrlKey,shiftKey:sn.shiftKey,metaKey:sn.metaKey,get keystroke(){return Bc(this)}};this.fire(sn.type,sn,dn)}}const Ds=function(){return li.Date.now()};var Tl=/\s/;const Qs=function(yn){for(var sn=yn.length;sn--&&Tl.test(yn.charAt(sn)););return sn};var yc=/^\s+/;const sc=function(yn){return yn&&yn.slice(0,Qs(yn)+1).replace(yc,"")};var hl=/^[-+]0x[0-9a-f]+$/i,lc=/^0b[01]+$/i,zl=/^0o[0-7]+$/i,wl=parseInt;const ll=function(yn){if(typeof yn=="number")return yn;if(zu(yn))return NaN;if(yi(yn)){var sn=typeof yn.valueOf=="function"?yn.valueOf():yn;yn=yi(sn)?sn+"":sn}if(typeof yn!="string")return yn===0?yn:+yn;yn=sc(yn);var dn=lc.test(yn);return dn||zl.test(yn)?wl(yn.slice(2),dn?2:8):hl.test(yn)?NaN:+yn};var il=Math.max,cc=Math.min;const cu=function(yn,sn,dn){var vn,bn,An,Dn,Ln,Bn,Vn=0,Gn=!1,Kn=!1,$r=!0;if(typeof yn!="function")throw new TypeError("Expected a function");function Yr(zi){var so=vn,qo=bn;return vn=bn=void 0,Vn=zi,Dn=yn.apply(qo,so)}function Qr(zi){var so=zi-Bn;return Bn===void 0||so>=sn||so<0||Kn&&zi-Vn>=An}function si(){var zi=Ds();if(Qr(zi))return hi(zi);Ln=setTimeout(si,function(so){var qo=sn-(so-Bn);return Kn?cc(qo,An-(so-Vn)):qo}(zi))}function hi(zi){return Ln=void 0,$r&&vn?Yr(zi):(vn=bn=void 0,Dn)}function wi(){var zi=Ds(),so=Qr(zi);if(vn=arguments,bn=this,Bn=zi,so){if(Ln===void 0)return function(qo){return Vn=qo,Ln=setTimeout(si,sn),Gn?Yr(qo):Dn}(Bn);if(Kn)return clearTimeout(Ln),Ln=setTimeout(si,sn),Yr(Bn)}return Ln===void 0&&(Ln=setTimeout(si,sn)),Dn}return sn=ll(sn)||0,yi(dn)&&(Gn=!!dn.leading,An=(Kn="maxWait"in dn)?il(ll(dn.maxWait)||0,sn):An,$r="trailing"in dn?!!dn.trailing:$r),wi.cancel=function(){Ln!==void 0&&clearTimeout(Ln),Vn=0,vn=Bn=bn=Ln=void 0},wi.flush=function(){return Ln===void 0?Dn:hi(Ds())},wi};class Wu extends Do{constructor(sn){super(sn),this._fireSelectionChangeDoneDebounced=cu(dn=>{this.document.fire("selectionChangeDone",dn)},200)}observe(){const sn=this.document;sn.on("arrowKey",(dn,vn)=>{sn.selection.isFake&&this.isEnabled&&vn.preventDefault()},{context:"$capture"}),sn.on("arrowKey",(dn,vn)=>{sn.selection.isFake&&this.isEnabled&&this._handleSelectionMove(vn.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(sn){const dn=this.document.selection,vn=new au(dn.getRanges(),{backward:dn.isBackward,fake:!1});sn!=Xa.arrowleft&&sn!=Xa.arrowup||vn.setTo(vn.getFirstPosition()),sn!=Xa.arrowright&&sn!=Xa.arrowdown||vn.setTo(vn.getLastPosition());const bn={oldSelection:dn,newSelection:vn,domSelection:null};this.document.fire("selectionChange",bn),this._fireSelectionChangeDoneDebounced(bn)}}const Wl=function(yn){return this.__data__.set(yn,"__lodash_hash_undefined__"),this},uu=function(yn){return this.__data__.has(yn)};function cl(yn){var sn=-1,dn=yn==null?0:yn.length;for(this.__data__=new Ha;++sn<dn;)this.add(yn[sn])}cl.prototype.add=cl.prototype.push=Wl,cl.prototype.has=uu;const Uh=cl,xu=function(yn,sn){for(var dn=-1,vn=yn==null?0:yn.length;++dn<vn;)if(sn(yn[dn],dn,yn))return!0;return!1},pd=function(yn,sn){return yn.has(sn)},qu=function(yn,sn,dn,vn,bn,An){var Dn=1&dn,Ln=yn.length,Bn=sn.length;if(Ln!=Bn&&!(Dn&&Bn>Ln))return!1;var Vn=An.get(yn),Gn=An.get(sn);if(Vn&&Gn)return Vn==sn&&Gn==yn;var Kn=-1,$r=!0,Yr=2&dn?new Uh:void 0;for(An.set(yn,sn),An.set(sn,yn);++Kn<Ln;){var Qr=yn[Kn],si=sn[Kn];if(vn)var hi=Dn?vn(si,Qr,Kn,sn,yn,An):vn(Qr,si,Kn,yn,sn,An);if(hi!==void 0){if(hi)continue;$r=!1;break}if(Yr){if(!xu(sn,function(wi,zi){if(!pd(Yr,zi)&&(Qr===wi||bn(Qr,wi,dn,vn,An)))return Yr.push(zi)})){$r=!1;break}}else if(Qr!==si&&!bn(Qr,si,dn,vn,An)){$r=!1;break}}return An.delete(yn),An.delete(sn),$r},Jl=function(yn){var sn=-1,dn=Array(yn.size);return yn.forEach(function(vn,bn){dn[++sn]=[bn,vn]}),dn},Od=function(yn){var sn=-1,dn=Array(yn.size);return yn.forEach(function(vn){dn[++sn]=vn}),dn};var Hf=di?di.prototype:void 0,Tg=Hf?Hf.valueOf:void 0;const n1=function(yn,sn,dn,vn,bn,An,Dn){switch(dn){case"[object DataView]":if(yn.byteLength!=sn.byteLength||yn.byteOffset!=sn.byteOffset)return!1;yn=yn.buffer,sn=sn.buffer;case"[object ArrayBuffer]":return!(yn.byteLength!=sn.byteLength||!An(new pc(yn),new pc(sn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vl(+yn,+sn);case"[object Error]":return yn.name==sn.name&&yn.message==sn.message;case"[object RegExp]":case"[object String]":return yn==sn+"";case"[object Map]":var Ln=Jl;case"[object Set]":var Bn=1&vn;if(Ln||(Ln=Od),yn.size!=sn.size&&!Bn)return!1;var Vn=Dn.get(yn);if(Vn)return Vn==sn;vn|=2,Dn.set(yn,sn);var Gn=qu(Ln(yn),Ln(sn),vn,bn,An,Dn);return Dn.delete(yn),Gn;case"[object Symbol]":if(Tg)return Tg.call(yn)==Tg.call(sn)}return!1};var r1=Object.prototype.hasOwnProperty;const i1=function(yn,sn,dn,vn,bn,An){var Dn=1&dn,Ln=Yc(yn),Bn=Ln.length;if(Bn!=Yc(sn).length&&!Dn)return!1;for(var Vn=Bn;Vn--;){var Gn=Ln[Vn];if(!(Dn?Gn in sn:r1.call(sn,Gn)))return!1}var Kn=An.get(yn),$r=An.get(sn);if(Kn&&$r)return Kn==sn&&$r==yn;var Yr=!0;An.set(yn,sn),An.set(sn,yn);for(var Qr=Dn;++Vn<Bn;){var si=yn[Gn=Ln[Vn]],hi=sn[Gn];if(vn)var wi=Dn?vn(hi,si,Gn,sn,yn,An):vn(si,hi,Gn,yn,sn,An);if(!(wi===void 0?si===hi||bn(si,hi,dn,vn,An):wi)){Yr=!1;break}Qr||(Qr=Gn=="constructor")}if(Yr&&!Qr){var zi=yn.constructor,so=sn.constructor;zi==so||!("constructor"in yn)||!("constructor"in sn)||typeof zi=="function"&&zi instanceof zi&&typeof so=="function"&&so instanceof so||(Yr=!1)}return An.delete(yn),An.delete(sn),Yr};var Gv="[object Arguments]",Wv="[object Array]",Op="[object Object]",qv=Object.prototype.hasOwnProperty;const o1=function(yn,sn,dn,vn,bn,An){var Dn=zo(yn),Ln=zo(sn),Bn=Dn?Wv:Dc(yn),Vn=Ln?Wv:Dc(sn),Gn=(Bn=Bn==Gv?Op:Bn)==Op,Kn=(Vn=Vn==Gv?Op:Vn)==Op,$r=Bn==Vn;if($r&&qs(yn)){if(!qs(sn))return!1;Dn=!0,Gn=!1}if($r&&!Gn)return An||(An=new Ia),Dn||el(yn)?qu(yn,sn,dn,vn,bn,An):n1(yn,sn,Bn,dn,vn,bn,An);if(!(1&dn)){var Yr=Gn&&qv.call(yn,"__wrapped__"),Qr=Kn&&qv.call(sn,"__wrapped__");if(Yr||Qr){var si=Yr?yn.value():yn,hi=Qr?sn.value():sn;return An||(An=new Ia),bn(si,hi,dn,vn,An)}}return!!$r&&(An||(An=new Ia),i1(yn,sn,dn,vn,bn,An))},Yv=function yn(sn,dn,vn,bn,An){return sn===dn||(sn==null||dn==null||!fo(sn)&&!fo(dn)?sn!=sn&&dn!=dn:o1(sn,dn,vn,bn,yn,An))},a1=function(yn,sn,dn){var vn=(dn=typeof dn=="function"?dn:void 0)?dn(yn,sn):void 0;return vn===void 0?Yv(yn,sn,void 0,dn):!!vn};class Kv extends Do{constructor(sn){super(sn),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=sn.domConverter,this.renderer=sn._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(sn){this._domElements.add(sn),this.isEnabled&&this._mutationObserver.observe(sn,this._config)}stopObserving(sn){if(this._domElements.delete(sn),this.isEnabled){this._mutationObserver.disconnect();for(const dn of this._domElements)this._mutationObserver.observe(dn,this._config)}}enable(){super.enable();for(const sn of this._domElements)this._mutationObserver.observe(sn,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(sn){if(sn.length===0)return;const dn=this.domConverter,vn=new Set,bn=new Set;for(const Dn of sn){const Ln=dn.mapDomToView(Dn.target);Ln&&(Ln.is("uiElement")||Ln.is("rawElement")||Dn.type!=="childList"||this._isBogusBrMutation(Dn)||bn.add(Ln))}for(const Dn of sn){const Ln=dn.mapDomToView(Dn.target);if((!Ln||!Ln.is("uiElement")&&!Ln.is("rawElement"))&&Dn.type==="characterData"){const Bn=dn.findCorrespondingViewText(Dn.target);Bn&&!bn.has(Bn.parent)?vn.add(Bn):!Bn&&Sc(Dn.target)&&bn.add(dn.mapDomToView(Dn.target.parentNode))}}let An=!1;for(const Dn of vn)An=!0,this.renderer.markToSync("text",Dn);for(const Dn of bn){const Ln=dn.mapViewToDom(Dn),Bn=Array.from(Dn.getChildren()),Vn=Array.from(dn.domChildrenToView(Ln,{withChildren:!1}));a1(Bn,Vn,s1)||(An=!0,this.renderer.markToSync("children",Dn))}An&&this.view.forceRender()}_isBogusBrMutation(sn){let dn=null;return sn.nextSibling===null&&sn.removedNodes.length===0&&sn.addedNodes.length==1&&(dn=this.domConverter.domToView(sn.addedNodes[0],{withChildren:!1})),dn&&dn.is("element","br")}}function s1(yn,sn){if(!Array.isArray(yn))return yn===sn||!(!yn.is("$text")||!sn.is("$text"))&&yn.data===sn.data}class Mg extends Jo{constructor(sn){super(sn),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const dn=this.document;dn.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),sn.change(()=>{})},50)}),dn.on("blur",(vn,bn)=>{const An=dn.selection.editableElement;An!==null&&An!==bn.target||(dn.isFocused=!1,this._isFocusChanging=!1,sn.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(sn){this.fire(sn.type,sn)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class l1 extends Do{constructor(sn){super(sn),this.mutationObserver=sn.getObserver(Kv),this.focusObserver=sn.getObserver(Mg),this.selection=this.document.selection,this.domConverter=sn.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=cu(dn=>{this.document.fire("selectionChangeDone",dn)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=cu(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(sn){const dn=sn.ownerDocument,vn=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,dn),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(sn,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(sn,"keydown",vn,{priority:"highest",useCapture:!0}),this.listenTo(sn,"keyup",vn,{priority:"highest",useCapture:!0}),this._documents.has(dn)||(this.listenTo(dn,"mouseup",vn,{priority:"highest",useCapture:!0}),this.listenTo(dn,"selectionchange",(bn,An)=>{this.document.isComposing&&!pn.isAndroid||(this._handleSelectionChange(An,dn),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(dn))}stopObserving(sn){this.stopListening(sn)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(sn,dn){if(!this.isEnabled)return;const vn=dn.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(vn.anchorNode))return;this.mutationObserver.flush();const bn=this.domConverter.domSelectionToView(vn);if(bn.rangeCount!=0){if(this.view.hasDomSelection=!0,!this.selection.isEqual(bn)||!this.domConverter.isDomSelectionCorrect(vn))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.focusObserver.flush(),this.selection.isSimilar(bn))this.view.forceRender();else{const An={oldSelection:this.selection,newSelection:bn,domSelection:vn};this.document.fire("selectionChange",An),this._fireSelectionChangeDoneDebounced(An)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class c1 extends Jo{constructor(sn){super(sn),this.domEventType=["compositionstart","compositionupdate","compositionend"];const dn=this.document;dn.on("compositionstart",()=>{dn.isComposing=!0},{priority:"low"}),dn.on("compositionend",()=>{dn.isComposing=!1},{priority:"low"})}onDomEvent(sn){this.fire(sn.type,sn,{data:sn.data})}}class Zv{constructor(sn,dn={}){this._files=dn.cacheFiles?Xv(sn):null,this._native=sn}get files(){return this._files||(this._files=Xv(this._native)),this._files}get types(){return this._native.types}getData(sn){return this._native.getData(sn)}setData(sn,dn){this._native.setData(sn,dn)}set effectAllowed(sn){this._native.effectAllowed=sn}get effectAllowed(){return this._native.effectAllowed}set dropEffect(sn){this._native.dropEffect=sn}get dropEffect(){return this._native.dropEffect}setDragImage(sn,dn,vn){this._native.setDragImage(sn,dn,vn)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Xv(yn){const sn=Array.from(yn.files||[]),dn=Array.from(yn.items||[]);return sn.length?sn:dn.filter(vn=>vn.kind==="file").map(vn=>vn.getAsFile())}class u1 extends Jo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(sn){const dn=sn.getTargetRanges(),vn=this.view,bn=vn.document;let An=null,Dn=null,Ln=[];if(sn.dataTransfer&&(An=new Zv(sn.dataTransfer)),sn.data!==null?Dn=sn.data:An&&(Dn=An.getData("text/plain")),bn.selection.isFake)Ln=Array.from(bn.selection.getRanges());else if(dn.length)Ln=dn.map(Bn=>{const Vn=vn.domConverter.domPositionToView(Bn.startContainer,Bn.startOffset),Gn=vn.domConverter.domPositionToView(Bn.endContainer,Bn.endOffset);return Vn?vn.createRange(Vn,Gn):Gn?vn.createRange(Gn):void 0}).filter(Bn=>!!Bn);else if(pn.isAndroid){const Bn=sn.target.ownerDocument.defaultView.getSelection();Ln=Array.from(vn.domConverter.domSelectionToView(Bn).getRanges())}if(pn.isAndroid&&sn.inputType=="insertCompositionText"&&Dn&&Dn.endsWith(`
`))this.fire(sn.type,sn,{inputType:"insertParagraph",targetRanges:[vn.createRange(Ln[0].end)]});else if(sn.inputType=="insertText"&&Dn&&Dn.includes(`
`)){const Bn=Dn.split(/\n{1,2}/g);let Vn=Ln;for(let Gn=0;Gn<Bn.length;Gn++){const Kn=Bn[Gn];Kn!=""&&(this.fire(sn.type,sn,{data:Kn,dataTransfer:An,targetRanges:Vn,inputType:sn.inputType,isComposing:sn.isComposing}),Vn=[bn.selection.getFirstRange()]),Gn+1<Bn.length&&(this.fire(sn.type,sn,{inputType:"insertParagraph",targetRanges:Vn}),Vn=[bn.selection.getFirstRange()])}}else this.fire(sn.type,sn,{data:Dn,dataTransfer:An,targetRanges:Ln,inputType:sn.inputType,isComposing:sn.isComposing})}}class d1 extends Do{constructor(sn){super(sn),this.document.on("keydown",(dn,vn)=>{if(this.isEnabled&&((bn=vn.keyCode)==Xa.arrowright||bn==Xa.arrowleft||bn==Xa.arrowup||bn==Xa.arrowdown)){const An=new Vu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(An,vn),An.stop.called&&dn.stop()}var bn})}observe(){}stopObserving(){}}class f1 extends Do{constructor(sn){super(sn);const dn=this.document;dn.on("keydown",(vn,bn)=>{if(!this.isEnabled||bn.keyCode!=Xa.tab||bn.ctrlKey)return;const An=new Vu(dn,"tab",dn.selection.getFirstRange());dn.fire(An,bn),An.stop.called&&vn.stop()})}observe(){}stopObserving(){}}const Rd=function(yn){return Wo(yn,5)};class h1 extends Yi(){constructor(sn){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Bf(sn),this.domConverter=new ho(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Fn(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new zh(this.document),this.addObserver(Kv),this.addObserver(Mg),this.addObserver(l1),this.addObserver(Ga),this.addObserver(Wu),this.addObserver(c1),this.addObserver(d1),this.addObserver(u1),this.addObserver(f1),this.document.on("arrowKey",En,{priority:"low"}),Gc(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(sn,dn="main"){const vn=this.document.getRoot(dn);vn._name=sn.tagName.toLowerCase();const bn={};for(const{name:Dn,value:Ln}of Array.from(sn.attributes))bn[Dn]=Ln,Dn==="class"?this._writer.addClass(Ln.split(" "),vn):this._writer.setAttribute(Dn,Ln,vn);this._initialDomRootAttributes.set(sn,bn);const An=()=>{this._writer.setAttribute("contenteditable",(!vn.isReadOnly).toString(),vn),vn.isReadOnly?this._writer.addClass("ck-read-only",vn):this._writer.removeClass("ck-read-only",vn)};An(),this.domRoots.set(dn,sn),this.domConverter.bindElements(sn,vn),this._renderer.markToSync("children",vn),this._renderer.markToSync("attributes",vn),this._renderer.domDocuments.add(sn.ownerDocument),vn.on("change:children",(Dn,Ln)=>this._renderer.markToSync("children",Ln)),vn.on("change:attributes",(Dn,Ln)=>this._renderer.markToSync("attributes",Ln)),vn.on("change:text",(Dn,Ln)=>this._renderer.markToSync("text",Ln)),vn.on("change:isReadOnly",()=>this.change(An)),vn.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const Dn of this._observers.values())Dn.observe(sn,dn)}detachDomRoot(sn){const dn=this.domRoots.get(sn);Array.from(dn.attributes).forEach(({name:bn})=>dn.removeAttribute(bn));const vn=this._initialDomRootAttributes.get(dn);for(const bn in vn)dn.setAttribute(bn,vn[bn]);this.domRoots.delete(sn),this.domConverter.unbindDomElement(dn);for(const bn of this._observers.values())bn.stopObserving(dn)}getDomRoot(sn="main"){return this.domRoots.get(sn)}addObserver(sn){let dn=this._observers.get(sn);if(dn)return dn;dn=new sn(this),this._observers.set(sn,dn);for(const[vn,bn]of this.domRoots)dn.observe(bn,vn);return dn.enable(),dn}getObserver(sn){return this._observers.get(sn)}disableObservers(){for(const sn of this._observers.values())sn.disable()}enableObservers(){for(const sn of this._observers.values())sn.enable()}scrollToTheSelection({alignToTop:sn,forceScroll:dn,viewportOffset:vn=20,ancestorOffset:bn=20}={}){const An=this.document.selection.getFirstRange();if(!An)return;const Dn=Rd({alignToTop:sn,forceScroll:dn,viewportOffset:vn,ancestorOffset:bn});typeof vn=="number"&&(vn={top:vn,bottom:vn,left:vn,right:vn});const Ln={target:this.domConverter.viewRangeToDom(An),viewportOffset:vn,ancestorOffset:bn,alignToTop:sn,forceScroll:dn};this.fire("scrollToTheSelection",Ln,Dn),function({target:Bn,viewportOffset:Vn=0,ancestorOffset:Gn=0,alignToTop:Kn,forceScroll:$r}){const Yr=Bu(Bn);let Qr=Yr,si=null;for(Vn=function(hi){return typeof hi=="number"?{top:hi,bottom:hi,left:hi,right:hi}:hi}(Vn);Qr;){let hi;hi=Vd(Qr==Yr?Bn:si),aa({parent:hi,getRect:()=>th(Bn,Qr),alignToTop:Kn,ancestorOffset:Gn,forceScroll:$r});const wi=th(Bn,Qr);if(ao({window:Qr,rect:wi,viewportOffset:Vn,alignToTop:Kn,forceScroll:$r}),Qr.parent!=Qr){if(si=Qr.frameElement,Qr=Qr.parent,!si)return}else Qr=null}}(Ln)}focus(){if(!this.document.isFocused){const sn=this.document.selection.editableElement;sn&&(this.domConverter.focus(sn),this.forceRender())}}change(sn){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Nn("cannot-change-view-tree",this);try{if(this._ongoingChange)return sn(this._writer);this._ongoingChange=!0;const dn=sn(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),dn}catch(dn){Nn.rethrowUnexpectedError(dn,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Mg).flush(),this.change(()=>{})}destroy(){for(const sn of this._observers.values())sn.destroy();this.document.destroy(),this.stopListening()}createPositionAt(sn,dn){return No._createAt(sn,dn)}createPositionAfter(sn){return No._createAfter(sn)}createPositionBefore(sn){return No._createBefore(sn)}createRange(sn,dn){return new Aa(sn,dn)}createRangeOn(sn){return Aa._createOn(sn)}createRangeIn(sn){return Aa._createIn(sn)}createSelection(...sn){return new au(...sn)}_disableRendering(sn){this._renderingDisabled=sn,sn==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Nd{is(){throw new Error("is() method is abstract")}}class df extends Nd{constructor(sn){super(),this.parent=null,this._attrs=nl(sn)}get document(){return null}get index(){let sn;if(!this.parent)return null;if((sn=this.parent.getChildIndex(this))===null)throw new Nn("model-node-not-found-in-parent",this);return sn}get startOffset(){let sn;if(!this.parent)return null;if((sn=this.parent.getChildStartOffset(this))===null)throw new Nn("model-node-not-found-in-parent",this);return sn}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const sn=this.index;return sn!==null&&this.parent.getChild(sn+1)||null}get previousSibling(){const sn=this.index;return sn!==null&&this.parent.getChild(sn-1)||null}get root(){let sn=this;for(;sn.parent;)sn=sn.parent;return sn}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const sn=[];let dn=this;for(;dn.parent;)sn.unshift(dn.startOffset),dn=dn.parent;return sn}getAncestors(sn={}){const dn=[];let vn=sn.includeSelf?this:this.parent;for(;vn;)dn[sn.parentFirst?"push":"unshift"](vn),vn=vn.parent;return dn}getCommonAncestor(sn,dn={}){const vn=this.getAncestors(dn),bn=sn.getAncestors(dn);let An=0;for(;vn[An]==bn[An]&&vn[An];)An++;return An===0?null:vn[An-1]}isBefore(sn){if(this==sn||this.root!==sn.root)return!1;const dn=this.getPath(),vn=sn.getPath(),bn=Oo(dn,vn);switch(bn){case"prefix":return!0;case"extension":return!1;default:return dn[bn]<vn[bn]}}isAfter(sn){return this!=sn&&this.root===sn.root&&!this.isBefore(sn)}hasAttribute(sn){return this._attrs.has(sn)}getAttribute(sn){return this._attrs.get(sn)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const sn={};return this._attrs.size&&(sn.attributes=Array.from(this._attrs).reduce((dn,vn)=>(dn[vn[0]]=vn[1],dn),{})),sn}_clone(sn){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(sn,dn){this._attrs.set(sn,dn)}_setAttributesTo(sn){this._attrs=nl(sn)}_removeAttribute(sn){return this._attrs.delete(sn)}_clearAttributes(){this._attrs.clear()}}df.prototype.is=function(yn){return yn==="node"||yn==="model:node"};class Gh{constructor(sn){this._nodes=[],sn&&this._insertNodes(0,sn)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((sn,dn)=>sn+dn.offsetSize,0)}getNode(sn){return this._nodes[sn]||null}getNodeIndex(sn){const dn=this._nodes.indexOf(sn);return dn==-1?null:dn}getNodeStartOffset(sn){const dn=this.getNodeIndex(sn);return dn===null?null:this._nodes.slice(0,dn).reduce((vn,bn)=>vn+bn.offsetSize,0)}indexToOffset(sn){if(sn==this._nodes.length)return this.maxOffset;const dn=this._nodes[sn];if(!dn)throw new Nn("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(dn)}offsetToIndex(sn){let dn=0;for(const vn of this._nodes){if(sn>=dn&&sn<dn+vn.offsetSize)return this.getNodeIndex(vn);dn+=vn.offsetSize}if(dn!=sn)throw new Nn("model-nodelist-offset-out-of-bounds",this,{offset:sn,nodeList:this});return this.length}_insertNodes(sn,dn){for(const vn of dn)if(!(vn instanceof df))throw new Nn("model-nodelist-insertnodes-not-node",this);this._nodes=function(vn,bn,An,Dn){if(Math.max(bn.length,vn.length)>1e4)return vn.slice(0,An).concat(bn).concat(vn.slice(An+Dn,vn.length));{const Ln=Array.from(vn);return Ln.splice(An,Dn,...bn),Ln}}(this._nodes,Array.from(dn),sn,0)}_removeNodes(sn,dn=1){return this._nodes.splice(sn,dn)}toJSON(){return this._nodes.map(sn=>sn.toJSON())}}class Gs extends df{constructor(sn,dn){super(dn),this._data=sn||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const sn=super.toJSON();return sn.data=this.data,sn}_clone(){return new Gs(this.data,this.getAttributes())}static fromJSON(sn){return new Gs(sn.data,sn.attributes)}}Gs.prototype.is=function(yn){return yn==="$text"||yn==="model:$text"||yn==="text"||yn==="model:text"||yn==="node"||yn==="model:node"};class Su extends Nd{constructor(sn,dn,vn){if(super(),this.textNode=sn,dn<0||dn>sn.offsetSize)throw new Nn("model-textproxy-wrong-offsetintext",this);if(vn<0||dn+vn>sn.offsetSize)throw new Nn("model-textproxy-wrong-length",this);this.data=sn.data.substring(dn,dn+vn),this.offsetInText=dn}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const sn=this.textNode.getPath();return sn.length>0&&(sn[sn.length-1]+=this.offsetInText),sn}getAncestors(sn={}){const dn=[];let vn=sn.includeSelf?this:this.parent;for(;vn;)dn[sn.parentFirst?"push":"unshift"](vn),vn=vn.parent;return dn}hasAttribute(sn){return this.textNode.hasAttribute(sn)}getAttribute(sn){return this.textNode.getAttribute(sn)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Su.prototype.is=function(yn){return yn==="$textProxy"||yn==="model:$textProxy"||yn==="textProxy"||yn==="model:textProxy"};class Rs extends df{constructor(sn,dn,vn){super(dn),this._children=new Gh,this.name=sn,vn&&this._insertChild(0,vn)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(sn){return this._children.getNode(sn)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(sn){return this._children.getNodeIndex(sn)}getChildStartOffset(sn){return this._children.getNodeStartOffset(sn)}offsetToIndex(sn){return this._children.offsetToIndex(sn)}getNodeByPath(sn){let dn=this;for(const vn of sn)dn=dn.getChild(dn.offsetToIndex(vn));return dn}findAncestor(sn,dn={}){let vn=dn.includeSelf?this:this.parent;for(;vn;){if(vn.name===sn)return vn;vn=vn.parent}return null}toJSON(){const sn=super.toJSON();if(sn.name=this.name,this._children.length>0){sn.children=[];for(const dn of this._children)sn.children.push(dn.toJSON())}return sn}_clone(sn=!1){const dn=sn?Array.from(this._children).map(vn=>vn._clone(!0)):void 0;return new Rs(this.name,this.getAttributes(),dn)}_appendChild(sn){this._insertChild(this.childCount,sn)}_insertChild(sn,dn){const vn=function(bn){return typeof bn=="string"?[new Gs(bn)]:(Mi(bn)||(bn=[bn]),Array.from(bn).map(An=>typeof An=="string"?new Gs(An):An instanceof Su?new Gs(An.data,An.getAttributes()):An))}(dn);for(const bn of vn)bn.parent!==null&&bn._remove(),bn.parent=this;this._children._insertNodes(sn,vn)}_removeChildren(sn,dn=1){const vn=this._children._removeNodes(sn,dn);for(const bn of vn)bn.parent=null;return vn}static fromJSON(sn){let dn;if(sn.children){dn=[];for(const vn of sn.children)vn.name?dn.push(Rs.fromJSON(vn)):dn.push(Gs.fromJSON(vn))}return new Rs(sn.name,sn.attributes,dn)}}Rs.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="element"||yn==="model:element"):yn==="element"||yn==="model:element"||yn==="node"||yn==="model:node"};class Yu{constructor(sn){if(!sn||!sn.boundaries&&!sn.startPosition)throw new Nn("model-tree-walker-no-start-position",null);const dn=sn.direction||"forward";if(dn!="forward"&&dn!="backward")throw new Nn("model-tree-walker-unknown-direction",sn,{direction:dn});this.direction=dn,this.boundaries=sn.boundaries||null,sn.startPosition?this._position=sn.startPosition.clone():this._position=wo._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!sn.singleCharacters,this.shallow=!!sn.shallow,this.ignoreElementEnd=!!sn.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(sn){let dn,vn,bn,An;do bn=this.position,An=this._visitedParent,{done:dn,value:vn}=this.next();while(!dn&&sn(vn));dn||(this._position=bn,this._visitedParent=An)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const sn=this.position,dn=this.position.clone(),vn=this._visitedParent;if(vn.parent===null&&dn.offset===vn.maxOffset)return{done:!0,value:void 0};if(vn===this._boundaryEndParent&&dn.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const bn=Wh(dn,vn),An=bn||Qv(dn,vn,bn);if(An instanceof Rs){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(dn))return{done:!0,value:void 0};dn.offset++}else dn.path.push(0),this._visitedParent=An;return this._position=dn,ff("elementStart",An,sn,dn,1)}if(An instanceof Gs){let Dn;if(this.singleCharacters)Dn=1;else{let Vn=An.endOffset;this._boundaryEndParent==vn&&this.boundaries.end.offset<Vn&&(Vn=this.boundaries.end.offset),Dn=Vn-dn.offset}const Ln=dn.offset-An.startOffset,Bn=new Su(An,Ln,Dn);return dn.offset+=Dn,this._position=dn,ff("text",Bn,sn,dn,Dn)}return dn.path.pop(),dn.offset++,this._position=dn,this._visitedParent=vn.parent,this.ignoreElementEnd?this._next():ff("elementEnd",vn,sn,dn)}_previous(){const sn=this.position,dn=this.position.clone(),vn=this._visitedParent;if(vn.parent===null&&dn.offset===0)return{done:!0,value:void 0};if(vn==this._boundaryStartParent&&dn.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const bn=dn.parent,An=Wh(dn,bn),Dn=An||Jv(dn,bn,An);if(Dn instanceof Rs)return dn.offset--,this.shallow?(this._position=dn,ff("elementStart",Dn,sn,dn,1)):(dn.path.push(Dn.maxOffset),this._position=dn,this._visitedParent=Dn,this.ignoreElementEnd?this._previous():ff("elementEnd",Dn,sn,dn));if(Dn instanceof Gs){let Ln;if(this.singleCharacters)Ln=1;else{let Gn=Dn.startOffset;this._boundaryStartParent==vn&&this.boundaries.start.offset>Gn&&(Gn=this.boundaries.start.offset),Ln=dn.offset-Gn}const Bn=dn.offset-Dn.startOffset,Vn=new Su(Dn,Bn-Ln,Ln);return dn.offset-=Ln,this._position=dn,ff("text",Vn,sn,dn,Ln)}return dn.path.pop(),this._position=dn,this._visitedParent=vn.parent,ff("elementStart",vn,sn,dn,1)}}function ff(yn,sn,dn,vn,bn){return{done:!1,value:{type:yn,item:sn,previousPosition:dn,nextPosition:vn,length:bn}}}class wo extends Nd{constructor(sn,dn,vn="toNone"){if(super(),!sn.is("element")&&!sn.is("documentFragment"))throw new Nn("model-position-root-invalid",sn);if(!(dn instanceof Array)||dn.length===0)throw new Nn("model-position-path-incorrect-format",sn,{path:dn});sn.is("rootElement")?dn=dn.slice():(dn=[...sn.getPath(),...dn],sn=sn.root),this.root=sn,this.path=dn,this.stickiness=vn}get offset(){return this.path[this.path.length-1]}set offset(sn){this.path[this.path.length-1]=sn}get parent(){let sn=this.root;for(let dn=0;dn<this.path.length-1;dn++)if(sn=sn.getChild(sn.offsetToIndex(this.path[dn])),!sn)throw new Nn("model-position-path-incorrect",this,{position:this});if(sn.is("$text"))throw new Nn("model-position-path-incorrect",this,{position:this});return sn}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Wh(this,this.parent)}get nodeAfter(){const sn=this.parent;return Qv(this,sn,Wh(this,sn))}get nodeBefore(){const sn=this.parent;return Jv(this,sn,Wh(this,sn))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(sn){if(this.root!=sn.root)return"different";const dn=Oo(this.path,sn.path);switch(dn){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[dn]<sn.path[dn]?"before":"after"}}getLastMatchingPosition(sn,dn={}){dn.startPosition=this;const vn=new Yu(dn);return vn.skip(sn),vn.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const sn=this.parent;return sn.is("documentFragment")?[sn]:sn.getAncestors({includeSelf:!0})}findAncestor(sn){const dn=this.parent;return dn.is("element")?dn.findAncestor(sn,{includeSelf:!0}):null}getCommonPath(sn){if(this.root!=sn.root)return[];const dn=Oo(this.path,sn.path),vn=typeof dn=="string"?Math.min(this.path.length,sn.path.length):dn;return this.path.slice(0,vn)}getCommonAncestor(sn){const dn=this.getAncestors(),vn=sn.getAncestors();let bn=0;for(;dn[bn]==vn[bn]&&dn[bn];)bn++;return bn===0?null:dn[bn-1]}getShiftedBy(sn){const dn=this.clone(),vn=dn.offset+sn;return dn.offset=vn<0?0:vn,dn}isAfter(sn){return this.compareWith(sn)=="after"}isBefore(sn){return this.compareWith(sn)=="before"}isEqual(sn){return this.compareWith(sn)=="same"}isTouching(sn){if(this.root!==sn.root)return!1;const dn=Math.min(this.path.length,sn.path.length);for(let vn=0;vn<dn;vn++){const bn=this.path[vn]-sn.path[vn];if(bn<-1||bn>1)return!1;if(bn===1)return em(sn,this,vn);if(bn===-1)return em(this,sn,vn)}return this.path.length===sn.path.length||(this.path.length>sn.path.length?Ig(this.path,dn):Ig(sn.path,dn))}hasSameParentAs(sn){return this.root!==sn.root?!1:Oo(this.getParentPath(),sn.getParentPath())=="same"}getTransformedByOperation(sn){let dn;switch(sn.type){case"insert":dn=this._getTransformedByInsertOperation(sn);break;case"move":case"remove":case"reinsert":dn=this._getTransformedByMoveOperation(sn);break;case"split":dn=this._getTransformedBySplitOperation(sn);break;case"merge":dn=this._getTransformedByMergeOperation(sn);break;default:dn=wo._createAt(this)}return dn}_getTransformedByInsertOperation(sn){return this._getTransformedByInsertion(sn.position,sn.howMany)}_getTransformedByMoveOperation(sn){return this._getTransformedByMove(sn.sourcePosition,sn.targetPosition,sn.howMany)}_getTransformedBySplitOperation(sn){const dn=sn.movedRange;return dn.containsPosition(this)||dn.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(sn.splitPosition,sn.moveTargetPosition):sn.graveyardPosition?this._getTransformedByMove(sn.graveyardPosition,sn.insertionPosition,1):this._getTransformedByInsertion(sn.insertionPosition,1)}_getTransformedByMergeOperation(sn){const dn=sn.movedRange;let vn;return dn.containsPosition(this)||dn.start.isEqual(this)?(vn=this._getCombined(sn.sourcePosition,sn.targetPosition),sn.sourcePosition.isBefore(sn.targetPosition)&&(vn=vn._getTransformedByDeletion(sn.deletionPosition,1))):vn=this.isEqual(sn.deletionPosition)?wo._createAt(sn.deletionPosition):this._getTransformedByMove(sn.deletionPosition,sn.graveyardPosition,1),vn}_getTransformedByDeletion(sn,dn){const vn=wo._createAt(this);if(this.root!=sn.root)return vn;if(Oo(sn.getParentPath(),this.getParentPath())=="same"){if(sn.offset<this.offset){if(sn.offset+dn>this.offset)return null;vn.offset-=dn}}else if(Oo(sn.getParentPath(),this.getParentPath())=="prefix"){const bn=sn.path.length-1;if(sn.offset<=this.path[bn]){if(sn.offset+dn>this.path[bn])return null;vn.path[bn]-=dn}}return vn}_getTransformedByInsertion(sn,dn){const vn=wo._createAt(this);if(this.root!=sn.root)return vn;if(Oo(sn.getParentPath(),this.getParentPath())=="same")(sn.offset<this.offset||sn.offset==this.offset&&this.stickiness!="toPrevious")&&(vn.offset+=dn);else if(Oo(sn.getParentPath(),this.getParentPath())=="prefix"){const bn=sn.path.length-1;sn.offset<=this.path[bn]&&(vn.path[bn]+=dn)}return vn}_getTransformedByMove(sn,dn,vn){if(dn=dn._getTransformedByDeletion(sn,vn),sn.isEqual(dn))return wo._createAt(this);const bn=this._getTransformedByDeletion(sn,vn);return bn===null||sn.isEqual(this)&&this.stickiness=="toNext"||sn.getShiftedBy(vn).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(sn,dn):bn._getTransformedByInsertion(dn,vn)}_getCombined(sn,dn){const vn=sn.path.length-1,bn=wo._createAt(dn);return bn.stickiness=this.stickiness,bn.offset=bn.offset+this.path[vn]-sn.offset,bn.path=[...bn.path,...this.path.slice(vn+1)],bn}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(sn,dn,vn="toNone"){if(sn instanceof wo)return new wo(sn.root,sn.path,sn.stickiness);{const bn=sn;if(dn=="end")dn=bn.maxOffset;else{if(dn=="before")return this._createBefore(bn,vn);if(dn=="after")return this._createAfter(bn,vn);if(dn!==0&&!dn)throw new Nn("model-createpositionat-offset-required",[this,sn])}if(!bn.is("element")&&!bn.is("documentFragment"))throw new Nn("model-position-parent-incorrect",[this,sn]);const An=bn.getPath();return An.push(dn),new this(bn.root,An,vn)}}static _createAfter(sn,dn){if(!sn.parent)throw new Nn("model-position-after-root",[this,sn],{root:sn});return this._createAt(sn.parent,sn.endOffset,dn)}static _createBefore(sn,dn){if(!sn.parent)throw new Nn("model-position-before-root",sn,{root:sn});return this._createAt(sn.parent,sn.startOffset,dn)}static fromJSON(sn,dn){if(sn.root==="$graveyard"){const vn=new wo(dn.graveyard,sn.path);return vn.stickiness=sn.stickiness,vn}if(!dn.getRoot(sn.root))throw new Nn("model-position-fromjson-no-root",dn,{rootName:sn.root});return new wo(dn.getRoot(sn.root),sn.path,sn.stickiness)}}function Wh(yn,sn){const dn=sn.getChild(sn.offsetToIndex(yn.offset));return dn&&dn.is("$text")&&dn.startOffset<yn.offset?dn:null}function Qv(yn,sn,dn){return dn!==null?null:sn.getChild(sn.offsetToIndex(yn.offset))}function Jv(yn,sn,dn){return dn!==null?null:sn.getChild(sn.offsetToIndex(yn.offset)-1)}function em(yn,sn,dn){return dn+1!==yn.path.length&&!!Ig(sn.path,dn+1)&&!!function(vn,bn){let An=vn.parent,Dn=vn.path.length-1,Ln=0;for(;Dn>=bn;){if(vn.path[Dn]+Ln!==An.maxOffset)return!1;Ln=1,Dn--,An=An.parent}return!0}(yn,dn+1)}function Ig(yn,sn){for(;sn<yn.length;){if(yn[sn]!==0)return!1;sn++}return!0}wo.prototype.is=function(yn){return yn==="position"||yn==="model:position"};class eo extends Nd{constructor(sn,dn){super(),this.start=wo._createAt(sn),this.end=dn?wo._createAt(dn):wo._createAt(sn),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Yu({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Oo(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(sn){return sn.isAfter(this.start)&&sn.isBefore(this.end)}containsRange(sn,dn=!1){sn.isCollapsed&&(dn=!1);const vn=this.containsPosition(sn.start)||dn&&this.start.isEqual(sn.start),bn=this.containsPosition(sn.end)||dn&&this.end.isEqual(sn.end);return vn&&bn}containsItem(sn){const dn=wo._createBefore(sn);return this.containsPosition(dn)||this.start.isEqual(dn)}isEqual(sn){return this.start.isEqual(sn.start)&&this.end.isEqual(sn.end)}isIntersecting(sn){return this.start.isBefore(sn.end)&&this.end.isAfter(sn.start)}getDifference(sn){const dn=[];return this.isIntersecting(sn)?(this.containsPosition(sn.start)&&dn.push(new eo(this.start,sn.start)),this.containsPosition(sn.end)&&dn.push(new eo(sn.end,this.end))):dn.push(new eo(this.start,this.end)),dn}getIntersection(sn){if(this.isIntersecting(sn)){let dn=this.start,vn=this.end;return this.containsPosition(sn.start)&&(dn=sn.start),this.containsPosition(sn.end)&&(vn=sn.end),new eo(dn,vn)}return null}getJoined(sn,dn=!1){let vn=this.isIntersecting(sn);if(vn||(vn=this.start.isBefore(sn.start)?dn?this.end.isTouching(sn.start):this.end.isEqual(sn.start):dn?sn.end.isTouching(this.start):sn.end.isEqual(this.start)),!vn)return null;let bn=this.start,An=this.end;return sn.start.isBefore(bn)&&(bn=sn.start),sn.end.isAfter(An)&&(An=sn.end),new eo(bn,An)}getMinimalFlatRanges(){const sn=[],dn=this.start.getCommonPath(this.end).length,vn=wo._createAt(this.start);let bn=vn.parent;for(;vn.path.length>dn+1;){const An=bn.maxOffset-vn.offset;An!==0&&sn.push(new eo(vn,vn.getShiftedBy(An))),vn.path=vn.path.slice(0,-1),vn.offset++,bn=bn.parent}for(;vn.path.length<=this.end.path.length;){const An=this.end.path[vn.path.length-1],Dn=An-vn.offset;Dn!==0&&sn.push(new eo(vn,vn.getShiftedBy(Dn))),vn.offset=An,vn.path.push(0)}return sn}getWalker(sn={}){return sn.boundaries=this,new Yu(sn)}*getItems(sn={}){sn.boundaries=this,sn.ignoreElementEnd=!0;const dn=new Yu(sn);for(const vn of dn)yield vn.item}*getPositions(sn={}){sn.boundaries=this;const dn=new Yu(sn);yield dn.position;for(const vn of dn)yield vn.nextPosition}getTransformedByOperation(sn){switch(sn.type){case"insert":return this._getTransformedByInsertOperation(sn);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(sn);case"split":return[this._getTransformedBySplitOperation(sn)];case"merge":return[this._getTransformedByMergeOperation(sn)]}return[new eo(this.start,this.end)]}getTransformedByOperations(sn){const dn=[new eo(this.start,this.end)];for(const vn of sn)for(let bn=0;bn<dn.length;bn++){const An=dn[bn].getTransformedByOperation(vn);dn.splice(bn,1,...An),bn+=An.length-1}for(let vn=0;vn<dn.length;vn++){const bn=dn[vn];for(let An=vn+1;An<dn.length;An++){const Dn=dn[An];(bn.containsRange(Dn)||Dn.containsRange(bn)||bn.isEqual(Dn))&&dn.splice(An,1)}}return dn}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const sn=this.start.nodeAfter,dn=this.end.nodeBefore;return sn&&sn.is("element")&&sn===dn?sn:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(sn,dn=!1){return this._getTransformedByInsertion(sn.position,sn.howMany,dn)}_getTransformedByMoveOperation(sn,dn=!1){const vn=sn.sourcePosition,bn=sn.howMany,An=sn.targetPosition;return this._getTransformedByMove(vn,An,bn,dn)}_getTransformedBySplitOperation(sn){const dn=this.start._getTransformedBySplitOperation(sn);let vn=this.end._getTransformedBySplitOperation(sn);return this.end.isEqual(sn.insertionPosition)&&(vn=this.end.getShiftedBy(1)),dn.root!=vn.root&&(vn=this.end.getShiftedBy(-1)),new eo(dn,vn)}_getTransformedByMergeOperation(sn){if(this.start.isEqual(sn.targetPosition)&&this.end.isEqual(sn.deletionPosition))return new eo(this.start);let dn=this.start._getTransformedByMergeOperation(sn),vn=this.end._getTransformedByMergeOperation(sn);return dn.root!=vn.root&&(vn=this.end.getShiftedBy(-1)),dn.isAfter(vn)?(sn.sourcePosition.isBefore(sn.targetPosition)?(dn=wo._createAt(vn),dn.offset=0):(sn.deletionPosition.isEqual(dn)||(vn=sn.deletionPosition),dn=sn.targetPosition),new eo(dn,vn)):new eo(dn,vn)}_getTransformedByInsertion(sn,dn,vn=!1){if(vn&&this.containsPosition(sn))return[new eo(this.start,sn),new eo(sn.getShiftedBy(dn),this.end._getTransformedByInsertion(sn,dn))];{const bn=new eo(this.start,this.end);return bn.start=bn.start._getTransformedByInsertion(sn,dn),bn.end=bn.end._getTransformedByInsertion(sn,dn),[bn]}}_getTransformedByMove(sn,dn,vn,bn=!1){if(this.isCollapsed){const Kn=this.start._getTransformedByMove(sn,dn,vn);return[new eo(Kn)]}const An=eo._createFromPositionAndShift(sn,vn),Dn=dn._getTransformedByDeletion(sn,vn);if(this.containsPosition(dn)&&!bn&&(An.containsPosition(this.start)||An.containsPosition(this.end))){const Kn=this.start._getTransformedByMove(sn,dn,vn),$r=this.end._getTransformedByMove(sn,dn,vn);return[new eo(Kn,$r)]}let Ln;const Bn=this.getDifference(An);let Vn=null;const Gn=this.getIntersection(An);if(Bn.length==1?Vn=new eo(Bn[0].start._getTransformedByDeletion(sn,vn),Bn[0].end._getTransformedByDeletion(sn,vn)):Bn.length==2&&(Vn=new eo(this.start,this.end._getTransformedByDeletion(sn,vn))),Ln=Vn?Vn._getTransformedByInsertion(Dn,vn,Gn!==null||bn):[],Gn){const Kn=new eo(Gn.start._getCombined(An.start,Dn),Gn.end._getCombined(An.start,Dn));Ln.length==2?Ln.splice(1,0,Kn):Ln.push(Kn)}return Ln}_getTransformedByDeletion(sn,dn){let vn=this.start._getTransformedByDeletion(sn,dn),bn=this.end._getTransformedByDeletion(sn,dn);return vn==null&&bn==null?null:(vn==null&&(vn=sn),bn==null&&(bn=sn),new eo(vn,bn))}static _createFromPositionAndShift(sn,dn){const vn=sn,bn=sn.getShiftedBy(dn);return dn>0?new this(vn,bn):new this(bn,vn)}static _createIn(sn){return new this(wo._createAt(sn,0),wo._createAt(sn,sn.maxOffset))}static _createOn(sn){return this._createFromPositionAndShift(wo._createBefore(sn),sn.offsetSize)}static _createFromRanges(sn){if(sn.length===0)throw new Nn("range-create-from-ranges-empty-array",null);if(sn.length==1)return sn[0].clone();const dn=sn[0];sn.sort((An,Dn)=>An.start.isAfter(Dn.start)?1:-1);const vn=sn.indexOf(dn),bn=new this(dn.start,dn.end);if(vn>0)for(let An=vn-1;sn[An].end.isEqual(bn.start);An++)bn.start=wo._createAt(sn[An].start);for(let An=vn+1;An<sn.length&&sn[An].start.isEqual(bn.end);An++)bn.end=wo._createAt(sn[An].end);return bn}static fromJSON(sn,dn){return new this(wo.fromJSON(sn.start,dn),wo.fromJSON(sn.end,dn))}}eo.prototype.is=function(yn){return yn==="range"||yn==="model:range"};class tm extends ti(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(sn,dn)=>{if(dn.viewPosition)return;const vn=this._modelToViewMapping.get(dn.modelPosition.parent);if(!vn)throw new Nn("mapping-model-position-view-parent-not-found",this,{modelPosition:dn.modelPosition});dn.viewPosition=this.findPositionIn(vn,dn.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(sn,dn)=>{if(dn.modelPosition)return;const vn=this.findMappedViewAncestor(dn.viewPosition),bn=this._viewToModelMapping.get(vn),An=this._toModelOffset(dn.viewPosition.parent,dn.viewPosition.offset,vn);dn.modelPosition=wo._createAt(bn,An)},{priority:"low"})}bindElements(sn,dn){this._modelToViewMapping.set(sn,dn),this._viewToModelMapping.set(dn,sn)}unbindViewElement(sn,dn={}){const vn=this.toModelElement(sn);if(this._elementToMarkerNames.has(sn))for(const bn of this._elementToMarkerNames.get(sn))this._unboundMarkerNames.add(bn);dn.defer?this._deferredBindingRemovals.set(sn,sn.root):(this._viewToModelMapping.delete(sn),this._modelToViewMapping.get(vn)==sn&&this._modelToViewMapping.delete(vn))}unbindModelElement(sn){const dn=this.toViewElement(sn);this._modelToViewMapping.delete(sn),this._viewToModelMapping.get(dn)==sn&&this._viewToModelMapping.delete(dn)}bindElementToMarker(sn,dn){const vn=this._markerNameToElements.get(dn)||new Set;vn.add(sn);const bn=this._elementToMarkerNames.get(sn)||new Set;bn.add(dn),this._markerNameToElements.set(dn,vn),this._elementToMarkerNames.set(sn,bn)}unbindElementFromMarkerName(sn,dn){const vn=this._markerNameToElements.get(dn);vn&&(vn.delete(sn),vn.size==0&&this._markerNameToElements.delete(dn));const bn=this._elementToMarkerNames.get(sn);bn&&(bn.delete(dn),bn.size==0&&this._elementToMarkerNames.delete(sn))}flushUnboundMarkerNames(){const sn=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),sn}flushDeferredBindings(){for(const[sn,dn]of this._deferredBindingRemovals)sn.root==dn&&this.unbindViewElement(sn);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(sn){return this._viewToModelMapping.get(sn)}toViewElement(sn){return this._modelToViewMapping.get(sn)}toModelRange(sn){return new eo(this.toModelPosition(sn.start),this.toModelPosition(sn.end))}toViewRange(sn){return new Aa(this.toViewPosition(sn.start),this.toViewPosition(sn.end))}toModelPosition(sn){const dn={viewPosition:sn,mapper:this};return this.fire("viewToModelPosition",dn),dn.modelPosition}toViewPosition(sn,dn={}){const vn={modelPosition:sn,mapper:this,isPhantom:dn.isPhantom};return this.fire("modelToViewPosition",vn),vn.viewPosition}markerNameToElements(sn){const dn=this._markerNameToElements.get(sn);if(!dn)return null;const vn=new Set;for(const bn of dn)if(bn.is("attributeElement"))for(const An of bn.getElementsWithSameId())vn.add(An);else vn.add(bn);return vn}registerViewToModelLength(sn,dn){this._viewToModelLengthCallbacks.set(sn,dn)}findMappedViewAncestor(sn){let dn=sn.parent;for(;!this._viewToModelMapping.has(dn);)dn=dn.parent;return dn}_toModelOffset(sn,dn,vn){if(vn!=sn)return this._toModelOffset(sn.parent,sn.index,vn)+this._toModelOffset(sn,dn,sn);if(sn.is("$text"))return dn;let bn=0;for(let An=0;An<dn;An++)bn+=this.getModelLength(sn.getChild(An));return bn}getModelLength(sn){if(this._viewToModelLengthCallbacks.get(sn.name))return this._viewToModelLengthCallbacks.get(sn.name)(sn);if(this._viewToModelMapping.has(sn))return 1;if(sn.is("$text"))return sn.data.length;if(sn.is("uiElement"))return 0;{let dn=0;for(const vn of sn.getChildren())dn+=this.getModelLength(vn);return dn}}findPositionIn(sn,dn){let vn,bn=0,An=0,Dn=0;if(sn.is("$text"))return new No(sn,dn);for(;An<dn;)vn=sn.getChild(Dn),bn=this.getModelLength(vn),An+=bn,Dn++;return An==dn?this._moveViewPositionToTextNode(new No(sn,Dn)):this.findPositionIn(vn,dn-(An-bn))}_moveViewPositionToTextNode(sn){const dn=sn.nodeBefore,vn=sn.nodeAfter;return dn instanceof Ls?new No(dn,dn.data.length):vn instanceof Ls?new No(vn,0):sn}}class p1{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(sn,dn){dn=Rp(dn),sn instanceof Su&&(sn=this._getSymbolForTextProxy(sn)),this._consumable.has(sn)||this._consumable.set(sn,new Map),this._consumable.get(sn).set(dn,!0)}consume(sn,dn){return dn=Rp(dn),sn instanceof Su&&(sn=this._getSymbolForTextProxy(sn)),!!this.test(sn,dn)&&(this._consumable.get(sn).set(dn,!1),!0)}test(sn,dn){dn=Rp(dn),sn instanceof Su&&(sn=this._getSymbolForTextProxy(sn));const vn=this._consumable.get(sn);if(vn===void 0)return null;const bn=vn.get(dn);return bn===void 0?null:bn}revert(sn,dn){dn=Rp(dn),sn instanceof Su&&(sn=this._getSymbolForTextProxy(sn));const vn=this.test(sn,dn);return vn===!1?(this._consumable.get(sn).set(dn,!0),!0):vn!==!0&&null}verifyAllConsumed(sn){const dn=[];for(const[vn,bn]of this._consumable)for(const[An,Dn]of bn){const Ln=An.split(":")[0];Dn&&sn==Ln&&dn.push({event:An,item:vn.name||vn.description})}if(dn.length)throw new Nn("conversion-model-consumable-not-consumed",null,{items:dn})}_getSymbolForTextProxy(sn){let dn=null;const vn=this._textProxyRegistry.get(sn.startOffset);if(vn){const bn=vn.get(sn.endOffset);bn&&(dn=bn.get(sn.parent))}return dn||(dn=this._addSymbolForTextProxy(sn)),dn}_addSymbolForTextProxy(sn){const dn=sn.startOffset,vn=sn.endOffset,bn=sn.parent,An=Symbol("$textProxy:"+sn.data);let Dn,Ln;return Dn=this._textProxyRegistry.get(dn),Dn||(Dn=new Map,this._textProxyRegistry.set(dn,Dn)),Ln=Dn.get(vn),Ln||(Ln=new Map,Dn.set(vn,Ln)),Ln.set(bn,An),An}}function Rp(yn){const sn=yn.split(":");return sn[0]=="insert"?sn[0]:sn[0]=="addMarker"||sn[0]=="removeMarker"?yn:sn.length>1?sn[0]+":"+sn[1]:sn[0]}var g1=Object.defineProperty,m1=Object.defineProperties,y1=Object.getOwnPropertyDescriptors,nm=Object.getOwnPropertySymbols,b1=Object.prototype.hasOwnProperty,_1=Object.prototype.propertyIsEnumerable,rm=(yn,sn,dn)=>sn in yn?g1(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn,Lg=(yn,sn)=>{for(var dn in sn||(sn={}))b1.call(sn,dn)&&rm(yn,dn,sn[dn]);if(nm)for(var dn of nm(sn))_1.call(sn,dn)&&rm(yn,dn,sn[dn]);return yn},im=(yn,sn)=>m1(yn,y1(sn));class om extends ti(){constructor(sn){super(),this._conversionApi=Lg({dispatcher:this},sn),this._firedEventsMap=new WeakMap}convertChanges(sn,dn,vn){const bn=this._createConversionApi(vn,sn.getRefreshedItems());for(const Dn of sn.getMarkersToRemove())this._convertMarkerRemove(Dn.name,Dn.range,bn);const An=this._reduceChanges(sn.getChanges());for(const Dn of An)Dn.type==="insert"?this._convertInsert(eo._createFromPositionAndShift(Dn.position,Dn.length),bn):Dn.type==="reinsert"?this._convertReinsert(eo._createFromPositionAndShift(Dn.position,Dn.length),bn):Dn.type==="remove"?this._convertRemove(Dn.position,Dn.length,Dn.name,bn):this._convertAttribute(Dn.range,Dn.attributeKey,Dn.attributeOldValue,Dn.attributeNewValue,bn);for(const Dn of bn.mapper.flushUnboundMarkerNames()){const Ln=dn.get(Dn).getRange();this._convertMarkerRemove(Dn,Ln,bn),this._convertMarkerAdd(Dn,Ln,bn)}for(const Dn of sn.getMarkersToAdd())this._convertMarkerAdd(Dn.name,Dn.range,bn);bn.mapper.flushDeferredBindings(),bn.consumable.verifyAllConsumed("insert")}convert(sn,dn,vn,bn={}){const An=this._createConversionApi(vn,void 0,bn);this._convertInsert(sn,An);for(const[Dn,Ln]of dn)this._convertMarkerAdd(Dn,Ln,An);An.consumable.verifyAllConsumed("insert")}convertSelection(sn,dn,vn){const bn=Array.from(dn.getMarkersAtPosition(sn.getFirstPosition())),An=this._createConversionApi(vn);if(this._addConsumablesForSelection(An.consumable,sn,bn),this.fire("selection",{selection:sn},An),sn.isCollapsed){for(const Dn of bn){const Ln=Dn.getRange();if(!w1(sn.getFirstPosition(),Dn,An.mapper))continue;const Bn={item:sn,markerName:Dn.name,markerRange:Ln};An.consumable.test(sn,"addMarker:"+Dn.name)&&this.fire(`addMarker:${Dn.name}`,Bn,An)}for(const Dn of sn.getAttributeKeys()){const Ln={item:sn,range:sn.getFirstRange(),attributeKey:Dn,attributeOldValue:null,attributeNewValue:sn.getAttribute(Dn)};An.consumable.test(sn,"attribute:"+Ln.attributeKey)&&this.fire(`attribute:${Ln.attributeKey}:$text`,Ln,An)}}}_convertInsert(sn,dn,vn={}){vn.doNotAddConsumables||this._addConsumablesForInsert(dn.consumable,Array.from(sn));for(const bn of Array.from(sn.getWalker({shallow:!0})).map(am))this._testAndFire("insert",bn,dn)}_convertRemove(sn,dn,vn,bn){this.fire(`remove:${vn}`,{position:sn,length:dn},bn)}_convertAttribute(sn,dn,vn,bn,An){this._addConsumablesForRange(An.consumable,sn,`attribute:${dn}`);for(const Dn of sn){const Ln={item:Dn.item,range:eo._createFromPositionAndShift(Dn.previousPosition,Dn.length),attributeKey:dn,attributeOldValue:vn,attributeNewValue:bn};this._testAndFire(`attribute:${dn}`,Ln,An)}}_convertReinsert(sn,dn){const vn=Array.from(sn.getWalker({shallow:!0}));this._addConsumablesForInsert(dn.consumable,vn);for(const bn of vn.map(am))this._testAndFire("insert",im(Lg({},bn),{reconversion:!0}),dn)}_convertMarkerAdd(sn,dn,vn){if(dn.root.rootName=="$graveyard")return;const bn=`addMarker:${sn}`;if(vn.consumable.add(dn,bn),this.fire(bn,{markerName:sn,markerRange:dn},vn),vn.consumable.consume(dn,bn)){this._addConsumablesForRange(vn.consumable,dn,bn);for(const An of dn.getItems()){if(!vn.consumable.test(An,bn))continue;const Dn={item:An,range:eo._createOn(An),markerName:sn,markerRange:dn};this.fire(bn,Dn,vn)}}}_convertMarkerRemove(sn,dn,vn){dn.root.rootName!="$graveyard"&&this.fire(`removeMarker:${sn}`,{markerName:sn,markerRange:dn},vn)}_reduceChanges(sn){const dn={changes:sn};return this.fire("reduceChanges",dn),dn.changes}_addConsumablesForInsert(sn,dn){for(const vn of dn){const bn=vn.item;if(sn.test(bn,"insert")===null){sn.add(bn,"insert");for(const An of bn.getAttributeKeys())sn.add(bn,"attribute:"+An)}}return sn}_addConsumablesForRange(sn,dn,vn){for(const bn of dn.getItems())sn.add(bn,vn);return sn}_addConsumablesForSelection(sn,dn,vn){sn.add(dn,"selection");for(const bn of vn)sn.add(dn,"addMarker:"+bn.name);for(const bn of dn.getAttributeKeys())sn.add(dn,"attribute:"+bn);return sn}_testAndFire(sn,dn,vn){const bn=function(Bn,Vn){const Gn=Vn.item.is("element")?Vn.item.name:"$text";return`${Bn}:${Gn}`}(sn,dn),An=dn.item.is("$textProxy")?vn.consumable._getSymbolForTextProxy(dn.item):dn.item,Dn=this._firedEventsMap.get(vn),Ln=Dn.get(An);if(Ln){if(Ln.has(bn))return;Ln.add(bn)}else Dn.set(An,new Set([bn]));this.fire(bn,dn,vn)}_testAndFireAddAttributes(sn,dn){const vn={item:sn,range:eo._createOn(sn)};for(const bn of vn.item.getAttributeKeys())vn.attributeKey=bn,vn.attributeOldValue=null,vn.attributeNewValue=vn.item.getAttribute(bn),this._testAndFire(`attribute:${bn}`,vn,dn)}_createConversionApi(sn,dn=new Set,vn={}){const bn=im(Lg({},this._conversionApi),{consumable:new p1,writer:sn,options:vn,convertItem:An=>this._convertInsert(eo._createOn(An),bn),convertChildren:An=>this._convertInsert(eo._createIn(An),bn,{doNotAddConsumables:!0}),convertAttributes:An=>this._testAndFireAddAttributes(An,bn),canReuseView:An=>!dn.has(bn.mapper.toModelElement(An))});return this._firedEventsMap.set(bn,new Map),bn}}function w1(yn,sn,dn){const vn=sn.getRange(),bn=Array.from(yn.getAncestors());return bn.shift(),bn.reverse(),!bn.some(An=>{if(vn.containsItem(An))return!!dn.toViewElement(An).getCustomProperty("addHighlight")})}function am(yn){return{item:yn.item,range:eo._createFromPositionAndShift(yn.previousPosition,yn.length)}}class Wc extends ti(Nd){constructor(...sn){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],sn.length&&this.setTo(...sn)}get anchor(){if(this._ranges.length>0){const sn=this._ranges[this._ranges.length-1];return this._lastRangeBackward?sn.end:sn.start}return null}get focus(){if(this._ranges.length>0){const sn=this._ranges[this._ranges.length-1];return this._lastRangeBackward?sn.start:sn.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(sn){if(this.rangeCount!=sn.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(sn.anchor)||!this.focus.isEqual(sn.focus))return!1;for(const dn of this._ranges){let vn=!1;for(const bn of sn._ranges)if(dn.isEqual(bn)){vn=!0;break}if(!vn)return!1}return!0}*getRanges(){for(const sn of this._ranges)yield new eo(sn.start,sn.end)}getFirstRange(){let sn=null;for(const dn of this._ranges)sn&&!dn.start.isBefore(sn.start)||(sn=dn);return sn?new eo(sn.start,sn.end):null}getLastRange(){let sn=null;for(const dn of this._ranges)sn&&!dn.end.isAfter(sn.end)||(sn=dn);return sn?new eo(sn.start,sn.end):null}getFirstPosition(){const sn=this.getFirstRange();return sn?sn.start.clone():null}getLastPosition(){const sn=this.getLastRange();return sn?sn.end.clone():null}setTo(...sn){let[dn,vn,bn]=sn;if(typeof vn=="object"&&(bn=vn,vn=void 0),dn===null)this._setRanges([]);else if(dn instanceof Wc)this._setRanges(dn.getRanges(),dn.isBackward);else if(dn&&typeof dn.getRanges=="function")this._setRanges(dn.getRanges(),dn.isBackward);else if(dn instanceof eo)this._setRanges([dn],!!bn&&!!bn.backward);else if(dn instanceof wo)this._setRanges([new eo(dn)]);else if(dn instanceof df){const An=!!bn&&!!bn.backward;let Dn;if(vn=="in")Dn=eo._createIn(dn);else if(vn=="on")Dn=eo._createOn(dn);else{if(vn===void 0)throw new Nn("model-selection-setto-required-second-parameter",[this,dn]);Dn=new eo(wo._createAt(dn,vn))}this._setRanges([Dn],An)}else{if(!Mi(dn))throw new Nn("model-selection-setto-not-selectable",[this,dn]);this._setRanges(dn,bn&&!!bn.backward)}}_setRanges(sn,dn=!1){const vn=Array.from(sn),bn=vn.some(An=>{if(!(An instanceof eo))throw new Nn("model-selection-set-ranges-not-range",[this,sn]);return this._ranges.every(Dn=>!Dn.isEqual(An))});(vn.length!==this._ranges.length||bn)&&(this._replaceAllRanges(vn),this._lastRangeBackward=!!dn,this.fire("change:range",{directChange:!0}))}setFocus(sn,dn){if(this.anchor===null)throw new Nn("model-selection-setfocus-no-ranges",[this,sn]);const vn=wo._createAt(sn,dn);if(vn.compareWith(this.focus)=="same")return;const bn=this.anchor;this._ranges.length&&this._popRange(),vn.compareWith(bn)=="before"?(this._pushRange(new eo(vn,bn)),this._lastRangeBackward=!0):(this._pushRange(new eo(bn,vn)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(sn){return this._attrs.get(sn)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(sn){return this._attrs.has(sn)}removeAttribute(sn){this.hasAttribute(sn)&&(this._attrs.delete(sn),this.fire("change:attribute",{attributeKeys:[sn],directChange:!0}))}setAttribute(sn,dn){this.getAttribute(sn)!==dn&&(this._attrs.set(sn,dn),this.fire("change:attribute",{attributeKeys:[sn],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const sn=new WeakSet;for(const dn of this.getRanges()){const vn=lm(dn.start,sn);A1(vn,dn)&&(yield vn);for(const An of dn.getWalker()){const Dn=An.item;An.type=="elementEnd"&&k1(Dn,sn,dn)&&(yield Dn)}const bn=lm(dn.end,sn);C1(bn,dn)&&(yield bn)}}containsEntireContent(sn=this.anchor.root){const dn=wo._createAt(sn,0),vn=wo._createAt(sn,"end");return dn.isTouching(this.getFirstPosition())&&vn.isTouching(this.getLastPosition())}_pushRange(sn){this._checkRange(sn),this._ranges.push(new eo(sn.start,sn.end))}_checkRange(sn){for(let dn=0;dn<this._ranges.length;dn++)if(sn.isIntersecting(this._ranges[dn]))throw new Nn("model-selection-range-intersects",[this,sn],{addedRange:sn,intersectingRange:this._ranges[dn]})}_replaceAllRanges(sn){this._removeAllRanges();for(const dn of sn)this._pushRange(dn)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function sm(yn,sn){return!sn.has(yn)&&(sn.add(yn),yn.root.document.model.schema.isBlock(yn)&&!!yn.parent)}function k1(yn,sn,dn){return sm(yn,sn)&&Pg(yn,dn)}function lm(yn,sn){const dn=yn.parent.root.document.model.schema,vn=yn.parent.getAncestors({parentFirst:!0,includeSelf:!0});let bn=!1;const An=vn.find(Dn=>!bn&&(bn=dn.isLimit(Dn),!bn&&sm(Dn,sn)));return vn.forEach(Dn=>sn.add(Dn)),An}function Pg(yn,sn){const dn=function(vn){const bn=vn.root.document.model.schema;let An=vn.parent;for(;An;){if(bn.isBlock(An))return An;An=An.parent}}(yn);return dn?!sn.containsRange(eo._createOn(dn),!0):!0}function A1(yn,sn){return!!yn&&(!(!sn.isCollapsed&&!yn.isEmpty)||!sn.start.isTouching(wo._createAt(yn,yn.maxOffset))&&Pg(yn,sn))}function C1(yn,sn){return!!yn&&(!(!sn.isCollapsed&&!yn.isEmpty)||!sn.end.isTouching(wo._createAt(yn,0))&&Pg(yn,sn))}Wc.prototype.is=function(yn){return yn==="selection"||yn==="model:selection"};class Eu extends ti(eo){constructor(sn,dn){super(sn,dn),x1.call(this)}detach(){this.stopListening()}toRange(){return new eo(this.start,this.end)}static fromRange(sn){return new Eu(sn.start,sn.end)}}function x1(){this.listenTo(this.root.document.model,"applyOperation",(yn,sn)=>{const dn=sn[0];dn.isDocumentOperation&&S1.call(this,dn)},{priority:"low"})}function S1(yn){const sn=this.getTransformedByOperation(yn),dn=eo._createFromRanges(sn),vn=!dn.isEqual(this),bn=function(Dn,Ln){switch(Ln.type){case"insert":return Dn.containsPosition(Ln.position);case"move":case"remove":case"reinsert":case"merge":return Dn.containsPosition(Ln.sourcePosition)||Dn.start.isEqual(Ln.sourcePosition)||Dn.containsPosition(Ln.targetPosition);case"split":return Dn.containsPosition(Ln.splitPosition)||Dn.containsPosition(Ln.insertionPosition)}return!1}(this,yn);let An=null;if(vn){dn.root.rootName=="$graveyard"&&(An=yn.type=="remove"?yn.sourcePosition:yn.deletionPosition);const Dn=this.toRange();this.start=dn.start,this.end=dn.end,this.fire("change:range",Dn,{deletionPosition:An})}else bn&&this.fire("change:content",this.toRange(),{deletionPosition:An})}Eu.prototype.is=function(yn){return yn==="liveRange"||yn==="model:liveRange"||yn=="range"||yn==="model:range"};const Np="selection:";class Du extends ti(Nd){constructor(sn){super(),this._selection=new E1(sn),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(sn){return this._selection.containsEntireContent(sn)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(sn){return this._selection.getAttribute(sn)}hasAttribute(sn){return this._selection.hasAttribute(sn)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(sn){this._selection.observeMarkers(sn)}_setFocus(sn,dn){this._selection.setFocus(sn,dn)}_setTo(...sn){this._selection.setTo(...sn)}_setAttribute(sn,dn){this._selection.setAttribute(sn,dn)}_removeAttribute(sn){this._selection.removeAttribute(sn)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(sn){this._selection.restoreGravity(sn)}static _getStoreAttributeKey(sn){return Np+sn}static _isStoreAttributeKey(sn){return sn.startsWith(Np)}}Du.prototype.is=function(yn){return yn==="selection"||yn=="model:selection"||yn=="documentSelection"||yn=="model:documentSelection"};class E1 extends Wc{constructor(sn){super(),this.markers=new Fc({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=sn.model,this._document=sn,this.listenTo(this._model,"applyOperation",(dn,vn)=>{const bn=vn[0];bn.isDocumentOperation&&bn.type!="marker"&&bn.type!="rename"&&bn.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(dn,vn,bn,An)=>{this._updateMarker(vn,An)}),this.listenTo(this._document,"change",(dn,vn)=>{(function(bn,An){const Dn=bn.document.differ;for(const Ln of Dn.getChanges()){if(Ln.type!="insert")continue;const Bn=Ln.position.parent;Ln.length===Bn.maxOffset&&bn.enqueueChange(An,Vn=>{const Gn=Array.from(Bn.getAttributeKeys()).filter(Kn=>Kn.startsWith(Np));for(const Kn of Gn)Vn.removeAttribute(Kn,Bn)})}})(this._model,vn)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let sn=0;sn<this._ranges.length;sn++)this._ranges[sn].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...sn){super.setTo(...sn),this._updateAttributes(!0),this.updateMarkers()}setFocus(sn,dn){super.setFocus(sn,dn),this._updateAttributes(!0),this.updateMarkers()}setAttribute(sn,dn){if(this._setAttribute(sn,dn)){const vn=[sn];this.fire("change:attribute",{attributeKeys:vn,directChange:!0})}}removeAttribute(sn){if(this._removeAttribute(sn)){const dn=[sn];this.fire("change:attribute",{attributeKeys:dn,directChange:!0})}}overrideGravity(){const sn=In();return this._overriddenGravityRegister.add(sn),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),sn}restoreGravity(sn){if(!this._overriddenGravityRegister.has(sn))throw new Nn("document-selection-gravity-wrong-restore",this,{uid:sn});this._overriddenGravityRegister.delete(sn),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(sn){this._observedMarkers.add(sn),this.updateMarkers()}_replaceAllRanges(sn){this._validateSelectionRanges(sn),super._replaceAllRanges(sn)}_popRange(){this._ranges.pop().detach()}_pushRange(sn){const dn=this._prepareRange(sn);dn&&this._ranges.push(dn)}_validateSelectionRanges(sn){for(const dn of sn)if(!this._document._validateSelectionRange(dn))throw new Nn("document-selection-wrong-position",this,{range:dn})}_prepareRange(sn){if(this._checkRange(sn),sn.root==this._document.graveyard)return;const dn=Eu.fromRange(sn);return dn.on("change:range",(vn,bn,An)=>{if(this._hasChangedRange=!0,dn.root==this._document.graveyard){this._selectionRestorePosition=An.deletionPosition;const Dn=this._ranges.indexOf(dn);this._ranges.splice(Dn,1),dn.detach()}}),dn}updateMarkers(){if(!this._observedMarkers.size)return;const sn=[];let dn=!1;for(const bn of this._model.markers){const An=bn.name.split(":",1)[0];if(!this._observedMarkers.has(An))continue;const Dn=bn.getRange();for(const Ln of this.getRanges())Dn.containsRange(Ln,!Ln.isCollapsed)&&sn.push(bn)}const vn=Array.from(this.markers);for(const bn of sn)this.markers.has(bn)||(this.markers.add(bn),dn=!0);for(const bn of Array.from(this.markers))sn.includes(bn)||(this.markers.remove(bn),dn=!0);dn&&this.fire("change:marker",{oldMarkers:vn,directChange:!1})}_updateMarker(sn,dn){const vn=sn.name.split(":",1)[0];if(!this._observedMarkers.has(vn))return;let bn=!1;const An=Array.from(this.markers),Dn=this.markers.has(sn);if(dn){let Ln=!1;for(const Bn of this.getRanges())if(dn.containsRange(Bn,!Bn.isCollapsed)){Ln=!0;break}Ln&&!Dn?(this.markers.add(sn),bn=!0):!Ln&&Dn&&(this.markers.remove(sn),bn=!0)}else Dn&&(this.markers.remove(sn),bn=!0);bn&&this.fire("change:marker",{oldMarkers:An,directChange:!1})}_updateAttributes(sn){const dn=nl(this._getSurroundingAttributes()),vn=nl(this.getAttributes());if(sn)this._attributePriority=new Map,this._attrs=new Map;else for(const[An,Dn]of this._attributePriority)Dn=="low"&&(this._attrs.delete(An),this._attributePriority.delete(An));this._setAttributesTo(dn);const bn=[];for(const[An,Dn]of this.getAttributes())vn.has(An)&&vn.get(An)===Dn||bn.push(An);for(const[An]of vn)this.hasAttribute(An)||bn.push(An);bn.length>0&&this.fire("change:attribute",{attributeKeys:bn,directChange:!1})}_setAttribute(sn,dn,vn=!0){const bn=vn?"normal":"low";return bn=="low"&&this._attributePriority.get(sn)=="normal"?!1:super.getAttribute(sn)!==dn&&(this._attrs.set(sn,dn),this._attributePriority.set(sn,bn),!0)}_removeAttribute(sn,dn=!0){const vn=dn?"normal":"low";return(vn!="low"||this._attributePriority.get(sn)!="normal")&&(this._attributePriority.set(sn,vn),!!super.hasAttribute(sn)&&(this._attrs.delete(sn),!0))}_setAttributesTo(sn){const dn=new Set;for(const[vn,bn]of this.getAttributes())sn.get(vn)!==bn&&this._removeAttribute(vn,!1);for(const[vn,bn]of sn)this._setAttribute(vn,bn,!1)&&dn.add(vn);return dn}*getStoredAttributes(){const sn=this.getFirstPosition().parent;if(this.isCollapsed&&sn.isEmpty)for(const dn of sn.getAttributeKeys())dn.startsWith(Np)&&(yield[dn.substr(10),sn.getAttribute(dn)])}_getSurroundingAttributes(){const sn=this.getFirstPosition(),dn=this._model.schema;let vn=null;if(this.isCollapsed){const bn=sn.textNode?sn.textNode:sn.nodeBefore,An=sn.textNode?sn.textNode:sn.nodeAfter;if(this.isGravityOverridden||(vn=$p(bn,dn)),vn||(vn=$p(An,dn)),!this.isGravityOverridden&&!vn){let Dn=bn;for(;Dn&&!vn;)Dn=Dn.previousSibling,vn=$p(Dn,dn)}if(!vn){let Dn=An;for(;Dn&&!vn;)Dn=Dn.nextSibling,vn=$p(Dn,dn)}vn||(vn=this.getStoredAttributes())}else{const bn=this.getFirstRange();for(const An of bn){if(An.item.is("element")&&dn.isObject(An.item))break;if(An.type=="text"){vn=An.item.getAttributes();break}}}return vn}_fixGraveyardSelection(sn){const dn=this._model.schema.getNearestSelectionRange(sn);dn&&this._pushRange(dn)}}function $p(yn,sn){if(!yn)return null;if(yn instanceof Su||yn instanceof Gs)return yn.getAttributes();if(!sn.isInline(yn))return null;if(!sn.isObject(yn))return[];const dn=[];for(const[vn,bn]of yn.getAttributes())sn.checkAttribute("$text",vn)&&dn.push([vn,bn]);return dn}class cm{constructor(sn){this._dispatchers=sn}add(sn){for(const dn of this._dispatchers)sn(dn);return this}}class D1 extends cm{elementToElement(sn){return this.add(function(dn){const vn=fm(dn.model),bn=qh(dn.view,"container");return vn.attributes.length&&(vn.children=!0),An=>{An.on(`insert:${vn.name}`,function(Dn,Ln=M1){return(Bn,Vn,Gn)=>{if(!Ln(Vn.item,Gn.consumable,{preflight:!0}))return;const Kn=Dn(Vn.item,Gn,Vn);if(!Kn)return;Ln(Vn.item,Gn.consumable);const $r=Gn.mapper.toViewPosition(Vn.range.start);Gn.mapper.bindElements(Vn.item,Kn),Gn.writer.insert($r,Kn),Gn.convertAttributes(Vn.item),mm(Kn,Vn.item.getChildren(),Gn,{reconversion:Vn.reconversion})}}(bn,vm(vn)),{priority:dn.converterPriority||"normal"}),(vn.children||vn.attributes.length)&&An.on("reduceChanges",gm(vn),{priority:"low"})}}(sn))}elementToStructure(sn){return this.add(function(dn){const vn=fm(dn.model),bn=qh(dn.view,"container");return vn.children=!0,An=>{if(An._conversionApi.schema.checkChild(vn.name,"$text"))throw new Nn("conversion-element-to-structure-disallowed-text",An,{elementName:vn.name});var Dn,Ln;An.on(`insert:${vn.name}`,(Dn=bn,Ln=vm(vn),(Bn,Vn,Gn)=>{if(!Ln(Vn.item,Gn.consumable,{preflight:!0}))return;const Kn=new Map;Gn.writer._registerSlotFactory(function(Qr,si,hi){return(wi,zi)=>{const so=wi.createContainerElement("$slot");let qo=null;if(zi==="children")qo=Array.from(Qr.getChildren());else{if(typeof zi!="function")throw new Nn("conversion-slot-mode-unknown",hi.dispatcher,{modeOrFilter:zi});qo=Array.from(Qr.getChildren()).filter(Sa=>zi(Sa))}return si.set(so,qo),so}}(Vn.item,Kn,Gn));const $r=Dn(Vn.item,Gn,Vn);if(Gn.writer._clearSlotFactory(),!$r)return;(function(Qr,si,hi){const wi=Array.from(si.values()).flat(),zi=new Set(wi);if(zi.size!=wi.length)throw new Nn("conversion-slot-filter-overlap",hi.dispatcher,{element:Qr});if(zi.size!=Qr.childCount)throw new Nn("conversion-slot-filter-incomplete",hi.dispatcher,{element:Qr})})(Vn.item,Kn,Gn),Ln(Vn.item,Gn.consumable);const Yr=Gn.mapper.toViewPosition(Vn.range.start);Gn.mapper.bindElements(Vn.item,$r),Gn.writer.insert(Yr,$r),Gn.convertAttributes(Vn.item),function(Qr,si,hi,wi){hi.mapper.on("modelToViewPosition",qo,{priority:"highest"});let zi=null,so=null;for([zi,so]of si)mm(Qr,so,hi,wi),hi.writer.move(hi.writer.createRangeIn(zi),hi.writer.createPositionBefore(zi)),hi.writer.remove(zi);function qo(Sa,$s){const ds=$s.modelPosition.nodeAfter,ql=so.indexOf(ds);ql<0||($s.viewPosition=$s.mapper.findPositionIn(zi,ql))}hi.mapper.off("modelToViewPosition",qo)}($r,Kn,Gn,{reconversion:Vn.reconversion})}),{priority:dn.converterPriority||"normal"}),An.on("reduceChanges",gm(vn),{priority:"low"})}}(sn))}attributeToElement(sn){return this.add(function(dn){dn=Rd(dn);let vn=dn.model;typeof vn=="string"&&(vn={key:vn});let bn=`attribute:${vn.key}`;if(vn.name&&(bn+=":"+vn.name),vn.values)for(const Dn of vn.values)dn.view[Dn]=qh(dn.view[Dn],"attribute");else dn.view=qh(dn.view,"attribute");const An=hm(dn);return Dn=>{Dn.on(bn,function(Ln){return(Bn,Vn,Gn)=>{if(!Gn.consumable.test(Vn.item,Bn.name))return;const Kn=Ln(Vn.attributeOldValue,Gn,Vn),$r=Ln(Vn.attributeNewValue,Gn,Vn);if(!Kn&&!$r)return;Gn.consumable.consume(Vn.item,Bn.name);const Yr=Gn.writer,Qr=Yr.document.selection;if(Vn.item instanceof Wc||Vn.item instanceof Du)Yr.wrap(Qr.getFirstRange(),$r);else{let si=Gn.mapper.toViewRange(Vn.range);Vn.attributeOldValue!==null&&Kn&&(si=Yr.unwrap(si,Kn)),Vn.attributeNewValue!==null&&$r&&Yr.wrap(si,$r)}}}(An),{priority:dn.converterPriority||"normal"})}}(sn))}attributeToAttribute(sn){return this.add(function(dn){dn=Rd(dn);let vn=dn.model;typeof vn=="string"&&(vn={key:vn});let bn=`attribute:${vn.key}`;if(vn.name&&(bn+=":"+vn.name),vn.values)for(const Dn of vn.values)dn.view[Dn]=pm(dn.view[Dn]);else dn.view=pm(dn.view);const An=hm(dn);return Dn=>{var Ln;Dn.on(bn,(Ln=An,(Bn,Vn,Gn)=>{if(!Gn.consumable.test(Vn.item,Bn.name))return;const Kn=Ln(Vn.attributeOldValue,Gn,Vn),$r=Ln(Vn.attributeNewValue,Gn,Vn);if(!Kn&&!$r)return;Gn.consumable.consume(Vn.item,Bn.name);const Yr=Gn.mapper.toViewElement(Vn.item),Qr=Gn.writer;if(!Yr)throw new Nn("conversion-attribute-to-attribute-on-text",Gn.dispatcher,Vn);if(Vn.attributeOldValue!==null&&Kn)if(Kn.key=="class"){const si=$l(Kn.value);for(const hi of si)Qr.removeClass(hi,Yr)}else if(Kn.key=="style"){const si=Object.keys(Kn.value);for(const hi of si)Qr.removeStyle(hi,Yr)}else Qr.removeAttribute(Kn.key,Yr);if(Vn.attributeNewValue!==null&&$r)if($r.key=="class"){const si=$l($r.value);for(const hi of si)Qr.addClass(hi,Yr)}else if($r.key=="style"){const si=Object.keys($r.value);for(const hi of si)Qr.setStyle(hi,$r.value[hi],Yr)}else Qr.setAttribute($r.key,$r.value,Yr)}),{priority:dn.converterPriority||"normal"})}}(sn))}markerToElement(sn){return this.add(function(dn){const vn=qh(dn.view,"ui");return bn=>{var An;bn.on(`addMarker:${dn.model}`,(An=vn,(Dn,Ln,Bn)=>{Ln.isOpening=!0;const Vn=An(Ln,Bn);Ln.isOpening=!1;const Gn=An(Ln,Bn);if(!Vn||!Gn)return;const Kn=Ln.markerRange;if(Kn.isCollapsed&&!Bn.consumable.consume(Kn,Dn.name))return;for(const Qr of Kn)if(!Bn.consumable.consume(Qr.item,Dn.name))return;const $r=Bn.mapper,Yr=Bn.writer;Yr.insert($r.toViewPosition(Kn.start),Vn),Bn.mapper.bindElementToMarker(Vn,Ln.markerName),Kn.isCollapsed||(Yr.insert($r.toViewPosition(Kn.end),Gn),Bn.mapper.bindElementToMarker(Gn,Ln.markerName)),Dn.stop()}),{priority:dn.converterPriority||"normal"}),bn.on(`removeMarker:${dn.model}`,(Dn,Ln,Bn)=>{const Vn=Bn.mapper.markerNameToElements(Ln.markerName);if(Vn){for(const Gn of Vn)Bn.mapper.unbindElementFromMarkerName(Gn,Ln.markerName),Bn.writer.clear(Bn.writer.createRangeOn(Gn),Gn);Bn.writer.clearClonedElementsGroup(Ln.markerName),Dn.stop()}},{priority:dn.converterPriority||"normal"})}}(sn))}markerToHighlight(sn){return this.add(function(dn){return vn=>{var bn;vn.on(`addMarker:${dn.model}`,(bn=dn.view,(An,Dn,Ln)=>{if(!Dn.item||!(Dn.item instanceof Wc||Dn.item instanceof Du||Dn.item.is("$textProxy")))return;const Bn=Og(bn,Dn,Ln);if(!Bn||!Ln.consumable.consume(Dn.item,An.name))return;const Vn=Ln.writer,Gn=um(Vn,Bn),Kn=Vn.document.selection;if(Dn.item instanceof Wc||Dn.item instanceof Du)Vn.wrap(Kn.getFirstRange(),Gn);else{const $r=Ln.mapper.toViewRange(Dn.range),Yr=Vn.wrap($r,Gn);for(const Qr of Yr.getItems())if(Qr.is("attributeElement")&&Qr.isSimilar(Gn)){Ln.mapper.bindElementToMarker(Qr,Dn.markerName);break}}}),{priority:dn.converterPriority||"normal"}),vn.on(`addMarker:${dn.model}`,function(An){return(Dn,Ln,Bn)=>{if(!Ln.item||!(Ln.item instanceof Rs))return;const Vn=Og(An,Ln,Bn);if(!Vn||!Bn.consumable.test(Ln.item,Dn.name))return;const Gn=Bn.mapper.toViewElement(Ln.item);if(Gn&&Gn.getCustomProperty("addHighlight")){Bn.consumable.consume(Ln.item,Dn.name);for(const Kn of eo._createIn(Ln.item))Bn.consumable.consume(Kn.item,Dn.name);Gn.getCustomProperty("addHighlight")(Gn,Vn,Bn.writer),Bn.mapper.bindElementToMarker(Gn,Ln.markerName)}}}(dn.view),{priority:dn.converterPriority||"normal"}),vn.on(`removeMarker:${dn.model}`,function(An){return(Dn,Ln,Bn)=>{if(Ln.markerRange.isCollapsed)return;const Vn=Og(An,Ln,Bn);if(!Vn)return;const Gn=um(Bn.writer,Vn),Kn=Bn.mapper.markerNameToElements(Ln.markerName);if(Kn){for(const $r of Kn)Bn.mapper.unbindElementFromMarkerName($r,Ln.markerName),$r.is("attributeElement")?Bn.writer.unwrap(Bn.writer.createRangeOn($r),Gn):$r.getCustomProperty("removeHighlight")($r,Vn.id,Bn.writer);Bn.writer.clearClonedElementsGroup(Ln.markerName),Dn.stop()}}}(dn.view),{priority:dn.converterPriority||"normal"})}}(sn))}markerToData(sn){return this.add(function(dn){dn=Rd(dn);const vn=dn.model;let bn=dn.view;return bn||(bn=An=>({group:vn,name:An.substr(dn.model.length+1)})),An=>{var Dn;An.on(`addMarker:${vn}`,(Dn=bn,(Ln,Bn,Vn)=>{const Gn=Dn(Bn.markerName,Vn);if(!Gn)return;const Kn=Bn.markerRange;Vn.consumable.consume(Kn,Ln.name)&&(dm(Kn,!1,Vn,Bn,Gn),dm(Kn,!0,Vn,Bn,Gn),Ln.stop())}),{priority:dn.converterPriority||"normal"}),An.on(`removeMarker:${vn}`,function(Ln){return(Bn,Vn,Gn)=>{const Kn=Ln(Vn.markerName,Gn);if(!Kn)return;const $r=Gn.mapper.markerNameToElements(Vn.markerName);if($r){for(const Qr of $r)Gn.mapper.unbindElementFromMarkerName(Qr,Vn.markerName),Qr.is("containerElement")?(Yr(`data-${Kn.group}-start-before`,Qr),Yr(`data-${Kn.group}-start-after`,Qr),Yr(`data-${Kn.group}-end-before`,Qr),Yr(`data-${Kn.group}-end-after`,Qr)):Gn.writer.clear(Gn.writer.createRangeOn(Qr),Qr);Gn.writer.clearClonedElementsGroup(Vn.markerName),Bn.stop()}function Yr(Qr,si){if(si.hasAttribute(Qr)){const hi=new Set(si.getAttribute(Qr).split(","));hi.delete(Kn.name),hi.size==0?Gn.writer.removeAttribute(Qr,si):Gn.writer.setAttribute(Qr,Array.from(hi).join(","),si)}}}}(bn),{priority:dn.converterPriority||"normal"})}}(sn))}}function um(yn,sn){const dn=yn.createAttributeElement("span",sn.attributes);return sn.classes&&dn._addClass(sn.classes),typeof sn.priority=="number"&&(dn._priority=sn.priority),dn._id=sn.id,dn}function dm(yn,sn,dn,vn,bn){const An=sn?yn.start:yn.end,Dn=An.nodeAfter&&An.nodeAfter.is("element")?An.nodeAfter:null,Ln=An.nodeBefore&&An.nodeBefore.is("element")?An.nodeBefore:null;if(Dn||Ln){let Bn,Vn;sn&&Dn||!sn&&!Ln?(Bn=Dn,Vn=!0):(Bn=Ln,Vn=!1);const Gn=dn.mapper.toViewElement(Bn);if(Gn)return void function(Kn,$r,Yr,Qr,si,hi){const wi=`data-${hi.group}-${$r?"start":"end"}-${Yr?"before":"after"}`,zi=Kn.hasAttribute(wi)?Kn.getAttribute(wi).split(","):[];zi.unshift(hi.name),Qr.writer.setAttribute(wi,zi.join(","),Kn),Qr.mapper.bindElementToMarker(Kn,si.markerName)}(Gn,sn,Vn,dn,vn,bn)}(function(Bn,Vn,Gn,Kn,$r){const Yr=`${$r.group}-${Vn?"start":"end"}`,Qr=$r.name?{name:$r.name}:null,si=Gn.writer.createUIElement(Yr,Qr);Gn.writer.insert(Bn,si),Gn.mapper.bindElementToMarker(si,Kn.markerName)})(dn.mapper.toViewPosition(An),sn,dn,vn,bn)}function fm(yn){return typeof yn=="string"&&(yn={name:yn}),yn.attributes?Array.isArray(yn.attributes)||(yn.attributes=[yn.attributes]):yn.attributes=[],yn.children=!!yn.children,yn}function qh(yn,sn){return typeof yn=="function"?yn:(dn,vn)=>function(bn,An,Dn){typeof bn=="string"&&(bn={name:bn});let Ln;const Bn=An.writer,Vn=Object.assign({},bn.attributes);if(Dn=="container")Ln=Bn.createContainerElement(bn.name,Vn);else if(Dn=="attribute"){const Gn={priority:bn.priority||hd.DEFAULT_PRIORITY};Ln=Bn.createAttributeElement(bn.name,Vn,Gn)}else Ln=Bn.createUIElement(bn.name,Vn);if(bn.styles){const Gn=Object.keys(bn.styles);for(const Kn of Gn)Bn.setStyle(Kn,bn.styles[Kn],Ln)}if(bn.classes){const Gn=bn.classes;if(typeof Gn=="string")Bn.addClass(Gn,Ln);else for(const Kn of Gn)Bn.addClass(Kn,Ln)}return Ln}(yn,vn,sn)}function hm(yn){return yn.model.values?(sn,dn,vn)=>{const bn=yn.view[sn];return bn?bn(sn,dn,vn):null}:yn.view}function pm(yn){return typeof yn=="string"?sn=>({key:yn,value:sn}):typeof yn=="object"?yn.value?()=>yn:sn=>({key:yn.key,value:sn}):yn}function Og(yn,sn,dn){const vn=typeof yn=="function"?yn(sn,dn):yn;return vn?(vn.priority||(vn.priority=10),vn.id||(vn.id=sn.markerName),vn):null}function gm(yn){const sn=function(dn){return(vn,bn)=>{if(!vn.is("element",dn.name))return!1;if(bn.type=="attribute"){if(dn.attributes.includes(bn.attributeKey))return!0}else if(dn.children)return!0;return!1}}(yn);return(dn,vn)=>{const bn=[];vn.reconvertedElements||(vn.reconvertedElements=new Set);for(const An of vn.changes){const Dn=An.type=="attribute"?An.range.start.nodeAfter:An.position.parent;if(Dn&&sn(Dn,An)){if(!vn.reconvertedElements.has(Dn)){vn.reconvertedElements.add(Dn);const Ln=wo._createBefore(Dn);let Bn=bn.length;for(let Vn=bn.length-1;Vn>=0;Vn--){const Gn=bn[Vn],Kn=(Gn.type=="attribute"?Gn.range.start:Gn.position).compareWith(Ln);if(Kn=="before"||Gn.type=="remove"&&Kn=="same")break;Bn=Vn}bn.splice(Bn,0,{type:"remove",name:Dn.name,position:Ln,length:1},{type:"reinsert",name:Dn.name,position:Ln,length:1})}}else bn.push(An)}vn.changes=bn}}function vm(yn){return(sn,dn,vn={})=>{const bn=["insert"];for(const An of yn.attributes)sn.hasAttribute(An)&&bn.push(`attribute:${An}`);return!!bn.every(An=>dn.test(sn,An))&&(vn.preflight||bn.forEach(An=>dn.consume(sn,An)),!0)}}function mm(yn,sn,dn,vn){for(const bn of sn)T1(yn.root,bn,dn,vn)||dn.convertItem(bn)}function T1(yn,sn,dn,vn){const{writer:bn,mapper:An}=dn;if(!vn.reconversion)return!1;const Dn=An.toViewElement(sn);return!(!Dn||Dn.root==yn)&&!!dn.canReuseView(Dn)&&(bn.move(bn.createRangeOn(Dn),An.toViewPosition(wo._createBefore(sn))),!0)}function M1(yn,sn,{preflight:dn}={}){return dn?sn.test(yn,"insert"):sn.consume(yn,"insert")}function ym(yn){const{schema:sn,document:dn}=yn.model;for(const vn of dn.getRootNames()){const bn=dn.getRoot(vn);if(bn.isEmpty&&!sn.checkChild(bn,"$text")&&sn.checkChild(bn,"paragraph"))return yn.insertElement("paragraph",bn),!0}return!1}function bm(yn,sn,dn){const vn=dn.createContext(yn);return!!dn.checkChild(vn,"paragraph")&&!!dn.checkChild(vn.push("paragraph"),sn)}function _m(yn,sn){const dn=sn.createElement("paragraph");return sn.insert(dn,yn),sn.createPositionAt(dn,0)}var I1=Object.defineProperty,L1=Object.defineProperties,P1=Object.getOwnPropertyDescriptors,wm=Object.getOwnPropertySymbols,O1=Object.prototype.hasOwnProperty,R1=Object.prototype.propertyIsEnumerable,km=(yn,sn,dn)=>sn in yn?I1(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn;class N1 extends cm{elementToElement(sn){return this.add(Am(sn))}elementToAttribute(sn){return this.add(function(dn){dn=Rd(dn),Cm(dn);const vn=xm(dn,!1),bn=Rg(dn.view),An=bn?`element:${bn}`:"element";return Dn=>{Dn.on(An,vn,{priority:dn.converterPriority||"low"})}}(sn))}attributeToAttribute(sn){return this.add(function(dn){dn=Rd(dn);let vn=null;(typeof dn.view=="string"||dn.view.key)&&(vn=function(An){typeof An.view=="string"&&(An.view={key:An.view});const Dn=An.view.key;let Ln;return Dn=="class"||Dn=="style"?Ln={[Dn=="class"?"classes":"styles"]:An.view.value}:Ln={attributes:{[Dn]:An.view.value===void 0?/[\s\S]*/:An.view.value}},An.view.name&&(Ln.name=An.view.name),An.view=Ln,Dn}(dn)),Cm(dn,vn);const bn=xm(dn,!0);return An=>{An.on("element",bn,{priority:dn.converterPriority||"low"})}}(sn))}elementToMarker(sn){return this.add(function(dn){const vn=function(Dn){return(Ln,Bn)=>{const Vn=typeof Dn=="string"?Dn:Dn(Ln,Bn);return Bn.writer.createElement("$marker",{"data-name":Vn})}}(dn.model);return Am((bn=((Dn,Ln)=>{for(var Bn in Ln||(Ln={}))O1.call(Ln,Bn)&&km(Dn,Bn,Ln[Bn]);if(wm)for(var Bn of wm(Ln))R1.call(Ln,Bn)&&km(Dn,Bn,Ln[Bn]);return Dn})({},dn),An={model:vn},L1(bn,P1(An))));var bn,An}(sn))}dataToMarker(sn){return this.add(function(dn){dn=Rd(dn),dn.model||(dn.model=Dn=>Dn?dn.view+":"+Dn:dn.view);const vn={view:dn.view,model:dn.model},bn=Ng(Sm(vn,"start")),An=Ng(Sm(vn,"end"));return Dn=>{Dn.on(`element:${dn.view}-start`,bn,{priority:dn.converterPriority||"normal"}),Dn.on(`element:${dn.view}-end`,An,{priority:dn.converterPriority||"normal"});const Ln=On.low,Bn=On.highest,Vn=On.get(dn.converterPriority)/Bn;Dn.on("element",function(Gn){return(Kn,$r,Yr)=>{const Qr=`data-${Gn.view}`;function si(hi,wi){for(const zi of wi){const so=Gn.model(zi,Yr),qo=Yr.writer.createElement("$marker",{"data-name":so});Yr.writer.insert(qo,hi),$r.modelCursor.isEqual(hi)?$r.modelCursor=$r.modelCursor.getShiftedBy(1):$r.modelCursor=$r.modelCursor._getTransformedByInsertion(hi,1),$r.modelRange=$r.modelRange._getTransformedByInsertion(hi,1)[0]}}(Yr.consumable.test($r.viewItem,{attributes:Qr+"-end-after"})||Yr.consumable.test($r.viewItem,{attributes:Qr+"-start-after"})||Yr.consumable.test($r.viewItem,{attributes:Qr+"-end-before"})||Yr.consumable.test($r.viewItem,{attributes:Qr+"-start-before"}))&&($r.modelRange||Object.assign($r,Yr.convertChildren($r.viewItem,$r.modelCursor)),Yr.consumable.consume($r.viewItem,{attributes:Qr+"-end-after"})&&si($r.modelRange.end,$r.viewItem.getAttribute(Qr+"-end-after").split(",")),Yr.consumable.consume($r.viewItem,{attributes:Qr+"-start-after"})&&si($r.modelRange.end,$r.viewItem.getAttribute(Qr+"-start-after").split(",")),Yr.consumable.consume($r.viewItem,{attributes:Qr+"-end-before"})&&si($r.modelRange.start,$r.viewItem.getAttribute(Qr+"-end-before").split(",")),Yr.consumable.consume($r.viewItem,{attributes:Qr+"-start-before"})&&si($r.modelRange.start,$r.viewItem.getAttribute(Qr+"-start-before").split(",")))}}(vn),{priority:Ln+Vn})}}(sn))}}function Am(yn){const sn=Ng(yn=Rd(yn)),dn=Rg(yn.view),vn=dn?`element:${dn}`:"element";return bn=>{bn.on(vn,sn,{priority:yn.converterPriority||"normal"})}}function Rg(yn){return typeof yn=="string"?yn:typeof yn=="object"&&typeof yn.name=="string"?yn.name:null}function Ng(yn){const sn=new jc(yn.view);return(dn,vn,bn)=>{const An=sn.match(vn.viewItem);if(!An)return;const Dn=An.match;if(Dn.name=!0,!bn.consumable.test(vn.viewItem,Dn))return;const Ln=function(Bn,Vn,Gn){return Bn instanceof Function?Bn(Vn,Gn):Gn.writer.createElement(Bn)}(yn.model,vn.viewItem,bn);Ln&&bn.safeInsert(Ln,vn.modelCursor)&&(bn.consumable.consume(vn.viewItem,Dn),bn.convertChildren(vn.viewItem,Ln),bn.updateConversionResult(Ln,vn))}}function Cm(yn,sn=null){const dn=sn===null||(An=>An.getAttribute(sn)),vn=typeof yn.model!="object"?yn.model:yn.model.key,bn=typeof yn.model!="object"||yn.model.value===void 0?dn:yn.model.value;yn.model={key:vn,value:bn}}function xm(yn,sn){const dn=new jc(yn.view);return(vn,bn,An)=>{if(!bn.modelRange&&sn)return;const Dn=dn.match(bn.viewItem);if(!Dn||(function(Gn,Kn){const $r=typeof Gn=="function"?Gn(Kn):Gn;return typeof $r=="object"&&!Rg($r)?!1:!$r.classes&&!$r.attributes&&!$r.styles}(yn.view,bn.viewItem)?Dn.match.name=!0:delete Dn.match.name,!An.consumable.test(bn.viewItem,Dn.match)))return;const Ln=yn.model.key,Bn=typeof yn.model.value=="function"?yn.model.value(bn.viewItem,An):yn.model.value;if(Bn===null)return;bn.modelRange||Object.assign(bn,An.convertChildren(bn.viewItem,bn.modelCursor)),function(Gn,Kn,$r,Yr){let Qr=!1;for(const si of Array.from(Gn.getItems({shallow:$r})))Yr.schema.checkAttribute(si,Kn.key)&&(Qr=!0,si.hasAttribute(Kn.key)||Yr.writer.setAttribute(Kn.key,Kn.value,si));return Qr}(bn.modelRange,{key:Ln,value:Bn},sn,An)&&(An.consumable.test(bn.viewItem,{name:!0})&&(Dn.match.name=!0),An.consumable.consume(bn.viewItem,Dn.match))}}function Sm(yn,sn){return{view:`${yn.view}-${sn}`,model:(dn,vn)=>{const bn=dn.getAttribute("name"),An=yn.model(bn,vn);return vn.writer.createElement("$marker",{"data-name":An})}}}function $1(yn){yn.document.registerPostFixer(sn=>function(dn,vn){const bn=vn.document.selection,An=vn.schema,Dn=[];let Ln=!1;for(const Bn of bn.getRanges()){const Vn=Em(Bn,An);Vn&&!Vn.isEqual(Bn)?(Dn.push(Vn),Ln=!0):Dn.push(Bn)}return Ln&&dn.setSelection(function(Bn){const Vn=[...Bn],Gn=new Set;let Kn=1;for(;Kn<Vn.length;){const $r=Vn[Kn],Yr=Vn.slice(0,Kn);for(const[Qr,si]of Yr.entries())if(!Gn.has(Qr)){if($r.isEqual(si))Gn.add(Qr);else if($r.isIntersecting(si)){Gn.add(Qr),Gn.add(Kn);const hi=$r.getJoined(si);Vn.push(hi)}}Kn++}return Vn.filter(($r,Yr)=>!Gn.has(Yr))}(Dn),{backward:bn.isBackward}),!1}(sn,yn))}function Em(yn,sn){return yn.isCollapsed?function(dn,vn){const bn=dn.start,An=vn.getNearestSelectionRange(bn);if(!An){const Ln=bn.getAncestors().reverse().find(Bn=>vn.isObject(Bn));return Ln?eo._createOn(Ln):null}if(!An.isCollapsed)return An;const Dn=An.start;return bn.isEqual(Dn)?null:new eo(Dn)}(yn,sn):function(dn,vn){const{start:bn,end:An}=dn,Dn=vn.checkChild(bn,"$text"),Ln=vn.checkChild(An,"$text"),Bn=vn.getLimitElement(bn),Vn=vn.getLimitElement(An);if(Bn===Vn){if(Dn&&Ln)return null;if(function($r,Yr,Qr){const si=$r.nodeAfter&&!Qr.isLimit($r.nodeAfter)||Qr.checkChild($r,"$text"),hi=Yr.nodeBefore&&!Qr.isLimit(Yr.nodeBefore)||Qr.checkChild(Yr,"$text");return si||hi}(bn,An,vn)){const $r=bn.nodeAfter&&vn.isSelectable(bn.nodeAfter)?null:vn.getNearestSelectionRange(bn,"forward"),Yr=An.nodeBefore&&vn.isSelectable(An.nodeBefore)?null:vn.getNearestSelectionRange(An,"backward"),Qr=$r?$r.start:bn,si=Yr?Yr.end:An;return new eo(Qr,si)}}const Gn=Bn&&!Bn.is("rootElement"),Kn=Vn&&!Vn.is("rootElement");if(Gn||Kn){const $r=bn.nodeAfter&&An.nodeBefore&&bn.nodeAfter.parent===An.nodeBefore.parent,Yr=Gn&&(!$r||!Tm(bn.nodeAfter,vn)),Qr=Kn&&(!$r||!Tm(An.nodeBefore,vn));let si=bn,hi=An;return Yr&&(si=wo._createBefore(Dm(Bn,vn))),Qr&&(hi=wo._createAfter(Dm(Vn,vn))),new eo(si,hi)}return null}(yn,sn)}function Dm(yn,sn){let dn=yn,vn=dn;for(;sn.isLimit(vn)&&vn.parent;)dn=vn,vn=vn.parent;return dn}function Tm(yn,sn){return yn&&sn.isSelectable(yn)}class B1 extends Yi(){constructor(sn,dn){super(),this.model=sn,this.view=new h1(dn),this.mapper=new tm,this.downcastDispatcher=new om({mapper:this.mapper,schema:sn.schema});const vn=this.model.document,bn=vn.selection,An=this.model.markers;var Dn,Ln,Bn;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(vn,"change",()=>{this.view.change(Vn=>{this.downcastDispatcher.convertChanges(vn.differ,An,Vn),this.downcastDispatcher.convertSelection(bn,An,Vn)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(Vn,Gn){return(Kn,$r)=>{const Yr=$r.newSelection,Qr=[];for(const hi of Yr.getRanges())Qr.push(Gn.toModelRange(hi));const si=Vn.createSelection(Qr,{backward:Yr.isBackward});si.isEqual(Vn.document.selection)||Vn.change(hi=>{hi.setSelection(si)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(Dn=this.mapper,Ln=this.model.schema,Bn=this.view,(Vn,Gn)=>{if(!Bn.document.isComposing||pn.isAndroid)for(let Kn=0;Kn<Gn.targetRanges.length;Kn++){const $r=Gn.targetRanges[Kn],Yr=Dn.toModelRange($r),Qr=Em(Yr,Ln);Qr&&!Qr.isEqual(Yr)&&(Gn.targetRanges[Kn]=Dn.toViewRange(Qr))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(Vn,Gn,Kn)=>{if(!Kn.consumable.consume(Gn.item,Vn.name))return;const $r=Kn.writer,Yr=Kn.mapper.toViewPosition(Gn.range.start),Qr=$r.createText(Gn.item.data);$r.insert(Yr,Qr)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(Vn,Gn,Kn)=>{Kn.convertAttributes(Gn.item),Gn.reconversion||!Gn.item.is("element")||Gn.item.isEmpty||Kn.convertChildren(Gn.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(Vn,Gn,Kn)=>{const $r=Kn.mapper.toViewPosition(Gn.position),Yr=Gn.position.getShiftedBy(Gn.length),Qr=Kn.mapper.toViewPosition(Yr,{isPhantom:!0}),si=Kn.writer.createRange($r,Qr),hi=Kn.writer.remove(si.getTrimmed());for(const wi of Kn.writer.createRangeIn(hi).getItems())Kn.mapper.unbindViewElement(wi,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(Vn,Gn,Kn)=>{const $r=Kn.writer,Yr=$r.document.selection;for(const Qr of Yr.getRanges())Qr.isCollapsed&&Qr.end.parent.isAttached()&&Kn.writer.mergeAttributes(Qr.start);$r.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(Vn,Gn,Kn)=>{const $r=Gn.selection;if($r.isCollapsed||!Kn.consumable.consume($r,"selection"))return;const Yr=[];for(const Qr of $r.getRanges())Yr.push(Kn.mapper.toViewRange(Qr));Kn.writer.setSelection(Yr,{backward:$r.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(Vn,Gn,Kn)=>{const $r=Gn.selection;if(!$r.isCollapsed||!Kn.consumable.consume($r,"selection"))return;const Yr=Kn.writer,Qr=$r.getFirstPosition(),si=Kn.mapper.toViewPosition(Qr),hi=Yr.breakAttributes(si);Yr.setSelection(hi)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(Vn=>{if(Vn.rootName=="$graveyard")return null;const Gn=new Dp(this.view.document,Vn.name);return Gn.rootName=Vn.rootName,this.mapper.bindElements(Vn,Gn),Gn})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(sn){const dn=typeof sn=="string"?sn:sn.name,vn=this.model.markers.get(dn);if(!vn)throw new Nn("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:dn});this.model.change(()=>{this.model.markers._refresh(vn)})}reconvertItem(sn){this.model.change(()=>{this.model.document.differ._refreshItem(sn)})}}class Yh{constructor(){this._consumables=new Map}add(sn,dn){let vn;sn.is("$text")||sn.is("documentFragment")?this._consumables.set(sn,!0):(this._consumables.has(sn)?vn=this._consumables.get(sn):(vn=new F1(sn),this._consumables.set(sn,vn)),vn.add(dn))}test(sn,dn){const vn=this._consumables.get(sn);return vn===void 0?null:sn.is("$text")||sn.is("documentFragment")?vn:vn.test(dn)}consume(sn,dn){return!!this.test(sn,dn)&&(sn.is("$text")||sn.is("documentFragment")?this._consumables.set(sn,!1):this._consumables.get(sn).consume(dn),!0)}revert(sn,dn){const vn=this._consumables.get(sn);vn!==void 0&&(sn.is("$text")||sn.is("documentFragment")?this._consumables.set(sn,!0):vn.revert(dn))}static consumablesFromElement(sn){const dn={element:sn,name:!0,attributes:[],classes:[],styles:[]},vn=sn.getAttributeKeys();for(const Dn of vn)Dn!="style"&&Dn!="class"&&dn.attributes.push(Dn);const bn=sn.getClassNames();for(const Dn of bn)dn.classes.push(Dn);const An=sn.getStyleNames();for(const Dn of An)dn.styles.push(Dn);return dn}static createFrom(sn,dn){if(dn||(dn=new Yh),sn.is("$text"))return dn.add(sn),dn;sn.is("element")&&dn.add(sn,Yh.consumablesFromElement(sn)),sn.is("documentFragment")&&dn.add(sn);for(const vn of sn.getChildren())dn=Yh.createFrom(vn,dn);return dn}}const Bp=["attributes","classes","styles"];class F1{constructor(sn){this.element=sn,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(sn){sn.name&&(this._canConsumeName=!0);for(const dn of Bp)dn in sn&&this._add(dn,sn[dn])}test(sn){if(sn.name&&!this._canConsumeName)return this._canConsumeName;for(const dn of Bp)if(dn in sn){const vn=this._test(dn,sn[dn]);if(vn!==!0)return vn}return!0}consume(sn){sn.name&&(this._canConsumeName=!1);for(const dn of Bp)dn in sn&&this._consume(dn,sn[dn])}revert(sn){sn.name&&(this._canConsumeName=!0);for(const dn of Bp)dn in sn&&this._revert(dn,sn[dn])}_add(sn,dn){const vn=zo(dn)?dn:[dn],bn=this._consumables[sn];for(const An of vn){if(sn==="attributes"&&(An==="class"||An==="style"))throw new Nn("viewconsumable-invalid-attribute",this);if(bn.set(An,!0),sn==="styles")for(const Dn of this.element.document.stylesProcessor.getRelatedStyles(An))bn.set(Dn,!0)}}_test(sn,dn){const vn=zo(dn)?dn:[dn],bn=this._consumables[sn];for(const An of vn)if(sn!=="attributes"||An!=="class"&&An!=="style"){const Dn=bn.get(An);if(Dn===void 0)return null;if(!Dn)return!1}else{const Dn=An=="class"?"classes":"styles",Ln=this._test(Dn,[...this._consumables[Dn].keys()]);if(Ln!==!0)return Ln}return!0}_consume(sn,dn){const vn=zo(dn)?dn:[dn],bn=this._consumables[sn];for(const An of vn)if(sn!=="attributes"||An!=="class"&&An!=="style"){if(bn.set(An,!1),sn=="styles")for(const Dn of this.element.document.stylesProcessor.getRelatedStyles(An))bn.set(Dn,!1)}else{const Dn=An=="class"?"classes":"styles";this._consume(Dn,[...this._consumables[Dn].keys()])}}_revert(sn,dn){const vn=zo(dn)?dn:[dn],bn=this._consumables[sn];for(const An of vn)if(sn!=="attributes"||An!=="class"&&An!=="style")bn.get(An)===!1&&bn.set(An,!0);else{const Dn=An=="class"?"classes":"styles";this._revert(Dn,[...this._consumables[Dn].keys()])}}}class z1 extends Yi(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(sn,dn)=>{dn[0]=new hf(dn[0])},{priority:"highest"}),this.on("checkChild",(sn,dn)=>{dn[0]=new hf(dn[0]),dn[1]=this.getDefinition(dn[1])},{priority:"highest"})}register(sn,dn){if(this._sourceDefinitions[sn])throw new Nn("schema-cannot-register-item-twice",this,{itemName:sn});this._sourceDefinitions[sn]=[Object.assign({},dn)],this._clearCache()}extend(sn,dn){if(!this._sourceDefinitions[sn])throw new Nn("schema-cannot-extend-missing-item",this,{itemName:sn});this._sourceDefinitions[sn].push(Object.assign({},dn)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(sn){let dn;return dn=typeof sn=="string"?sn:"is"in sn&&(sn.is("$text")||sn.is("$textProxy"))?"$text":sn.name,this.getDefinitions()[dn]}isRegistered(sn){return!!this.getDefinition(sn)}isBlock(sn){const dn=this.getDefinition(sn);return!(!dn||!dn.isBlock)}isLimit(sn){const dn=this.getDefinition(sn);return!!dn&&!(!dn.isLimit&&!dn.isObject)}isObject(sn){const dn=this.getDefinition(sn);return!!dn&&!!(dn.isObject||dn.isLimit&&dn.isSelectable&&dn.isContent)}isInline(sn){const dn=this.getDefinition(sn);return!(!dn||!dn.isInline)}isSelectable(sn){const dn=this.getDefinition(sn);return!!dn&&!(!dn.isSelectable&&!dn.isObject)}isContent(sn){const dn=this.getDefinition(sn);return!!dn&&!(!dn.isContent&&!dn.isObject)}checkChild(sn,dn){return!!dn&&this._checkContextMatch(dn,sn)}checkAttribute(sn,dn){const vn=this.getDefinition(sn.last);return!!vn&&vn.allowAttributes.includes(dn)}checkMerge(sn,dn){if(sn instanceof wo){const vn=sn.nodeBefore,bn=sn.nodeAfter;if(!(vn instanceof Rs))throw new Nn("schema-check-merge-no-element-before",this);if(!(bn instanceof Rs))throw new Nn("schema-check-merge-no-element-after",this);return this.checkMerge(vn,bn)}for(const vn of dn.getChildren())if(!this.checkChild(sn,vn))return!1;return!0}addChildCheck(sn){this.on("checkChild",(dn,[vn,bn])=>{if(!bn)return;const An=sn(vn,bn);typeof An=="boolean"&&(dn.stop(),dn.return=An)},{priority:"high"})}addAttributeCheck(sn){this.on("checkAttribute",(dn,[vn,bn])=>{const An=sn(vn,bn);typeof An=="boolean"&&(dn.stop(),dn.return=An)},{priority:"high"})}setAttributeProperties(sn,dn){this._attributeProperties[sn]=Object.assign(this.getAttributeProperties(sn),dn)}getAttributeProperties(sn){return this._attributeProperties[sn]||{}}getLimitElement(sn){let dn;for(sn instanceof wo?dn=sn.parent:dn=(sn instanceof eo?[sn]:Array.from(sn.getRanges())).reduce((vn,bn)=>{const An=bn.getCommonAncestor();return vn?vn.getCommonAncestor(An,{includeSelf:!0}):An},null);!this.isLimit(dn)&&dn.parent;)dn=dn.parent;return dn}checkAttributeInSelection(sn,dn){if(sn.isCollapsed){const vn=[...sn.getFirstPosition().getAncestors(),new Gs("",sn.getAttributes())];return this.checkAttribute(vn,dn)}{const vn=sn.getRanges();for(const bn of vn)for(const An of bn)if(this.checkAttribute(An.item,dn))return!0}return!1}*getValidRanges(sn,dn){sn=function*(vn){for(const bn of vn)yield*bn.getMinimalFlatRanges()}(sn);for(const vn of sn)yield*this._getValidRangesForRange(vn,dn)}getNearestSelectionRange(sn,dn="both"){if(this.checkChild(sn,"$text"))return new eo(sn);let vn,bn;const An=sn.getAncestors().reverse().find(Dn=>this.isLimit(Dn))||sn.root;dn!="both"&&dn!="backward"||(vn=new Yu({boundaries:eo._createIn(An),startPosition:sn,direction:"backward"})),dn!="both"&&dn!="forward"||(bn=new Yu({boundaries:eo._createIn(An),startPosition:sn}));for(const Dn of function*(Ln,Bn){let Vn=!1;for(;!Vn;){if(Vn=!0,Ln){const Gn=Ln.next();Gn.done||(Vn=!1,yield{walker:Ln,value:Gn.value})}if(Bn){const Gn=Bn.next();Gn.done||(Vn=!1,yield{walker:Bn,value:Gn.value})}}}(vn,bn)){const Ln=Dn.walker==vn?"elementEnd":"elementStart",Bn=Dn.value;if(Bn.type==Ln&&this.isObject(Bn.item))return eo._createOn(Bn.item);if(this.checkChild(Bn.nextPosition,"$text"))return new eo(Bn.nextPosition)}return null}findAllowedParent(sn,dn){let vn=sn.parent;for(;vn;){if(this.checkChild(vn,dn))return vn;if(this.isLimit(vn))return null;vn=vn.parent}return null}setAllowedAttributes(sn,dn,vn){const bn=vn.model;for(const[An,Dn]of Object.entries(dn))bn.schema.checkAttribute(sn,An)&&vn.setAttribute(An,Dn,sn)}removeDisallowedAttributes(sn,dn){for(const vn of sn)if(vn.is("$text"))Mm(this,vn,dn);else{const bn=eo._createIn(vn).getPositions();for(const An of bn)Mm(this,An.nodeBefore||An.parent,dn)}}getAttributesWithProperty(sn,dn,vn){const bn={};for(const[An,Dn]of sn.getAttributes()){const Ln=this.getAttributeProperties(An);Ln[dn]!==void 0&&(vn!==void 0&&vn!==Ln[dn]||(bn[An]=Dn))}return bn}createContext(sn){return new hf(sn)}_clearCache(){this._compiledDefinitions=null}_compile(){const sn={},dn=this._sourceDefinitions,vn=Object.keys(dn);for(const bn of vn)sn[bn]=H1(dn[bn],bn);for(const bn of vn)V1(sn,bn);for(const bn of vn)j1(sn,bn);for(const bn of vn)U1(sn,bn);for(const bn of vn)G1(sn,bn),W1(sn,bn);for(const bn of vn)q1(sn,bn),Y1(sn,bn),K1(sn,bn);this._compiledDefinitions=sn}_checkContextMatch(sn,dn,vn=dn.length-1){const bn=dn.getItem(vn);if(sn.allowIn.includes(bn.name)){if(vn==0)return!0;{const An=this.getDefinition(bn);return this._checkContextMatch(An,dn,vn-1)}}return!1}*_getValidRangesForRange(sn,dn){let vn=sn.start,bn=sn.start;for(const An of sn.getItems({shallow:!0}))An.is("element")&&(yield*this._getValidRangesForRange(eo._createIn(An),dn)),this.checkAttribute(An,dn)||(vn.isEqual(bn)||(yield new eo(vn,bn)),vn=wo._createAfter(An)),bn=wo._createAfter(An);vn.isEqual(bn)||(yield new eo(vn,bn))}}class hf{constructor(sn){if(sn instanceof hf)return sn;let dn;dn=typeof sn=="string"?[sn]:Array.isArray(sn)?sn:sn.getAncestors({includeSelf:!0}),this._items=dn.map(X1)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(sn){const dn=new hf([sn]);return dn._items=[...this._items,...dn._items],dn}getItem(sn){return this._items[sn]}*getNames(){yield*this._items.map(sn=>sn.name)}endsWith(sn){return Array.from(this.getNames()).join(" ").endsWith(sn)}startsWith(sn){return Array.from(this.getNames()).join(" ").startsWith(sn)}}function H1(yn,sn){const dn={name:sn,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(vn,bn){for(const An of vn){const Dn=Object.keys(An).filter(Ln=>Ln.startsWith("is"));for(const Ln of Dn)bn[Ln]=!!An[Ln]}}(yn,dn),pf(yn,dn,"allowIn"),pf(yn,dn,"allowContentOf"),pf(yn,dn,"allowWhere"),pf(yn,dn,"allowAttributes"),pf(yn,dn,"allowAttributesOf"),pf(yn,dn,"allowChildren"),pf(yn,dn,"inheritTypesFrom"),function(vn,bn){for(const An of vn){const Dn=An.inheritAllFrom;Dn&&(bn.allowContentOf.push(Dn),bn.allowWhere.push(Dn),bn.allowAttributesOf.push(Dn),bn.inheritTypesFrom.push(Dn))}}(yn,dn),dn}function V1(yn,sn){const dn=yn[sn];for(const vn of dn.allowChildren){const bn=yn[vn];bn&&bn.allowIn.push(sn)}dn.allowChildren.length=0}function j1(yn,sn){for(const dn of yn[sn].allowContentOf)yn[dn]&&Z1(yn,dn).forEach(vn=>{vn.allowIn.push(sn)});delete yn[sn].allowContentOf}function U1(yn,sn){for(const dn of yn[sn].allowWhere){const vn=yn[dn];if(vn){const bn=vn.allowIn;yn[sn].allowIn.push(...bn)}}delete yn[sn].allowWhere}function G1(yn,sn){for(const dn of yn[sn].allowAttributesOf){const vn=yn[dn];if(vn){const bn=vn.allowAttributes;yn[sn].allowAttributes.push(...bn)}}delete yn[sn].allowAttributesOf}function W1(yn,sn){const dn=yn[sn];for(const vn of dn.inheritTypesFrom){const bn=yn[vn];if(bn){const An=Object.keys(bn).filter(Dn=>Dn.startsWith("is"));for(const Dn of An)Dn in dn||(dn[Dn]=bn[Dn])}}delete dn.inheritTypesFrom}function q1(yn,sn){const dn=yn[sn],vn=dn.allowIn.filter(bn=>yn[bn]);dn.allowIn=Array.from(new Set(vn))}function Y1(yn,sn){const dn=yn[sn];for(const vn of dn.allowIn)yn[vn].allowChildren.push(sn)}function K1(yn,sn){const dn=yn[sn];dn.allowAttributes=Array.from(new Set(dn.allowAttributes))}function pf(yn,sn,dn){for(const vn of yn){const bn=vn[dn];typeof bn=="string"?sn[dn].push(bn):Array.isArray(bn)&&sn[dn].push(...bn)}}function Z1(yn,sn){const dn=yn[sn];return(vn=yn,Object.keys(vn).map(bn=>vn[bn])).filter(bn=>bn.allowIn.includes(dn.name));var vn}function X1(yn){return typeof yn=="string"||yn.is("documentFragment")?{name:typeof yn=="string"?yn:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:yn.is("element")?yn.name:"$text",*getAttributeKeys(){yield*yn.getAttributeKeys()},getAttribute:sn=>yn.getAttribute(sn)}}function Mm(yn,sn,dn){for(const vn of sn.getAttributeKeys())yn.checkAttribute(sn,vn)||dn.removeAttribute(vn,sn)}var Q1=Object.defineProperty,J1=Object.defineProperties,ek=Object.getOwnPropertyDescriptors,Im=Object.getOwnPropertySymbols,tk=Object.prototype.hasOwnProperty,nk=Object.prototype.propertyIsEnumerable,Lm=(yn,sn,dn)=>sn in yn?Q1(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn;class rk extends ti(){constructor(sn){var dn;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(dn=((vn,bn)=>{for(var An in bn||(bn={}))tk.call(bn,An)&&Lm(vn,An,bn[An]);if(Im)for(var An of Im(bn))nk.call(bn,An)&&Lm(vn,An,bn[An]);return vn})({},sn),J1(dn,ek({consumable:null,writer:null,store:null,convertItem:(vn,bn)=>this._convertItem(vn,bn),convertChildren:(vn,bn)=>this._convertChildren(vn,bn),safeInsert:(vn,bn)=>this._safeInsert(vn,bn),updateConversionResult:(vn,bn)=>this._updateConversionResult(vn,bn),splitToAllowedParent:(vn,bn)=>this._splitToAllowedParent(vn,bn),getSplitParts:vn=>this._getSplitParts(vn),keepEmptyElement:vn=>this._keepEmptyElement(vn)})))}convert(sn,dn,vn=["$root"]){this.fire("viewCleanup",sn),this._modelCursor=function(Dn,Ln){let Bn;for(const Vn of new hf(Dn)){const Gn={};for(const $r of Vn.getAttributeKeys())Gn[$r]=Vn.getAttribute($r);const Kn=Ln.createElement(Vn.name,Gn);Bn&&Ln.insert(Kn,Bn),Bn=wo._createAt(Kn,0)}return Bn}(vn,dn),this.conversionApi.writer=dn,this.conversionApi.consumable=Yh.createFrom(sn),this.conversionApi.store={};const{modelRange:bn}=this._convertItem(sn,this._modelCursor),An=dn.createDocumentFragment();if(bn){this._removeEmptyElements();for(const Dn of Array.from(this._modelCursor.parent.getChildren()))dn.append(Dn,An);An.markers=function(Dn,Ln){const Bn=new Set,Vn=new Map,Gn=eo._createIn(Dn).getItems();for(const Kn of Gn)Kn.is("element","$marker")&&Bn.add(Kn);for(const Kn of Bn){const $r=Kn.getAttribute("data-name"),Yr=Ln.createPositionBefore(Kn);Vn.has($r)?Vn.get($r).end=Yr.clone():Vn.set($r,new eo(Yr.clone())),Ln.remove(Kn)}return Vn}(An,dn)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,An}_convertItem(sn,dn){const vn={viewItem:sn,modelCursor:dn,modelRange:null};if(sn.is("element")?this.fire(`element:${sn.name}`,vn,this.conversionApi):sn.is("$text")?this.fire("text",vn,this.conversionApi):this.fire("documentFragment",vn,this.conversionApi),vn.modelRange&&!(vn.modelRange instanceof eo))throw new Nn("view-conversion-dispatcher-incorrect-result",this);return{modelRange:vn.modelRange,modelCursor:vn.modelCursor}}_convertChildren(sn,dn){let vn=dn.is("position")?dn:wo._createAt(dn,0);const bn=new eo(vn);for(const An of Array.from(sn.getChildren())){const Dn=this._convertItem(An,vn);Dn.modelRange instanceof eo&&(bn.end=Dn.modelRange.end,vn=Dn.modelCursor)}return{modelRange:bn,modelCursor:vn}}_safeInsert(sn,dn){const vn=this._splitToAllowedParent(sn,dn);return!!vn&&(this.conversionApi.writer.insert(sn,vn.position),!0)}_updateConversionResult(sn,dn){const vn=this._getSplitParts(sn),bn=this.conversionApi.writer;dn.modelRange||(dn.modelRange=bn.createRange(bn.createPositionBefore(sn),bn.createPositionAfter(vn[vn.length-1])));const An=this._cursorParents.get(sn);dn.modelCursor=An?bn.createPositionAt(An,0):dn.modelRange.end}_splitToAllowedParent(sn,dn){const{schema:vn,writer:bn}=this.conversionApi;let An=vn.findAllowedParent(dn,sn);if(An){if(An===dn.parent)return{position:dn};this._modelCursor.parent.getAncestors().includes(An)&&(An=null)}if(!An)return bm(dn,sn,vn)?{position:_m(dn,bn)}:null;const Dn=this.conversionApi.writer.split(dn,An),Ln=[];for(const Vn of Dn.range.getWalker())if(Vn.type=="elementEnd")Ln.push(Vn.item);else{const Gn=Ln.pop(),Kn=Vn.item;this._registerSplitPair(Gn,Kn)}const Bn=Dn.range.end.parent;return this._cursorParents.set(sn,Bn),{position:Dn.position,cursorParent:Bn}}_registerSplitPair(sn,dn){this._splitParts.has(sn)||this._splitParts.set(sn,[sn]);const vn=this._splitParts.get(sn);this._splitParts.set(dn,vn),vn.push(dn)}_getSplitParts(sn){let dn;return dn=this._splitParts.has(sn)?this._splitParts.get(sn):[sn],dn}_keepEmptyElement(sn){this._emptyElementsToKeep.add(sn)}_removeEmptyElements(){let sn=!1;for(const dn of this._splitParts.keys())dn.isEmpty&&!this._emptyElementsToKeep.has(dn)&&(this.conversionApi.writer.remove(dn),this._splitParts.delete(dn),sn=!0);sn&&this._removeEmptyElements()}}class ik{getHtml(sn){const dn=document.implementation.createHTMLDocument("").createElement("div");return dn.appendChild(sn),dn.innerHTML}}class ok{constructor(sn){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new ho(sn,{renderingMode:"data"}),this.htmlWriter=new ik}toData(sn){const dn=this.domConverter.viewToDom(sn);return this.htmlWriter.getHtml(dn)}toView(sn){const dn=this._toDom(sn);return this.domConverter.domToView(dn,{skipComments:this.skipComments})}registerRawContentMatcher(sn){this.domConverter.registerRawContentMatcher(sn)}useFillerType(sn){this.domConverter.blockFillerMode=sn=="marked"?"markedNbsp":"nbsp"}_toDom(sn){sn.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(sn=`<body>${sn}</body>`);const dn=this.domParser.parseFromString(sn,"text/html"),vn=dn.createDocumentFragment(),bn=dn.body.childNodes;for(;bn.length>0;)vn.appendChild(bn[0]);return vn}}class ak extends ti(){constructor(sn,dn){super(),this.model=sn,this.mapper=new tm,this.downcastDispatcher=new om({mapper:this.mapper,schema:sn.schema}),this.downcastDispatcher.on("insert:$text",(vn,bn,An)=>{if(!An.consumable.consume(bn.item,vn.name))return;const Dn=An.writer,Ln=An.mapper.toViewPosition(bn.range.start),Bn=Dn.createText(bn.item.data);Dn.insert(Ln,Bn)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(vn,bn,An)=>{An.convertAttributes(bn.item),bn.reconversion||!bn.item.is("element")||bn.item.isEmpty||An.convertChildren(bn.item)},{priority:"lowest"}),this.upcastDispatcher=new rk({schema:sn.schema}),this.viewDocument=new Bf(dn),this.stylesProcessor=dn,this.htmlProcessor=new ok(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new zh(this.viewDocument),this.upcastDispatcher.on("text",(vn,bn,{schema:An,consumable:Dn,writer:Ln})=>{let Bn=bn.modelCursor;if(!Dn.test(bn.viewItem))return;if(!An.checkChild(Bn,"$text")){if(!bm(Bn,"$text",An)||bn.viewItem.data.trim().length==0)return;const Gn=Bn.nodeBefore;Bn=_m(Bn,Ln),Gn&&Gn.is("element","$marker")&&(Ln.move(Ln.createRangeOn(Gn),Bn),Bn=Ln.createPositionAfter(Gn))}Dn.consume(bn.viewItem);const Vn=Ln.createText(bn.viewItem.data);Ln.insert(Vn,Bn),bn.modelRange=Ln.createRange(Bn,Bn.getShiftedBy(Vn.offsetSize)),bn.modelCursor=bn.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(vn,bn,An)=>{if(!bn.modelRange&&An.consumable.consume(bn.viewItem,{name:!0})){const{modelRange:Dn,modelCursor:Ln}=An.convertChildren(bn.viewItem,bn.modelCursor);bn.modelRange=Dn,bn.modelCursor=Ln}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(vn,bn,An)=>{if(!bn.modelRange&&An.consumable.consume(bn.viewItem,{name:!0})){const{modelRange:Dn,modelCursor:Ln}=An.convertChildren(bn.viewItem,bn.modelCursor);bn.modelRange=Dn,bn.modelCursor=Ln}},{priority:"lowest"}),Yi().prototype.decorate.call(this,"init"),Yi().prototype.decorate.call(this,"set"),Yi().prototype.decorate.call(this,"get"),Yi().prototype.decorate.call(this,"toView"),Yi().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},ym)},{priority:"lowest"})}get(sn={}){const{rootName:dn="main",trim:vn="empty"}=sn;if(!this._checkIfRootsExists([dn]))throw new Nn("datacontroller-get-non-existent-root",this);const bn=this.model.document.getRoot(dn);return bn.isAttached()||Hn("datacontroller-get-detached-root",this),vn!=="empty"||this.model.hasContent(bn,{ignoreWhitespaces:!0})?this.stringify(bn,sn):""}stringify(sn,dn={}){const vn=this.toView(sn,dn);return this.processor.toData(vn)}toView(sn,dn={}){const vn=this.viewDocument,bn=this._viewWriter;this.mapper.clearBindings();const An=eo._createIn(sn),Dn=new Uu(vn);this.mapper.bindElements(sn,Dn);const Ln=sn.is("documentFragment")?sn.markers:function(Bn){const Vn=[],Gn=Bn.root.document;if(!Gn)return new Map;const Kn=eo._createIn(Bn);for(const $r of Gn.model.markers){const Yr=$r.getRange(),Qr=Yr.isCollapsed,si=Yr.start.isEqual(Kn.start)||Yr.end.isEqual(Kn.end);if(Qr&&si)Vn.push([$r.name,Yr]);else{const hi=Kn.getIntersection(Yr);hi&&Vn.push([$r.name,hi])}}return Vn.sort(([$r,Yr],[Qr,si])=>{if(Yr.end.compareWith(si.start)!=="after")return 1;if(Yr.start.compareWith(si.end)!=="before")return-1;switch(Yr.start.compareWith(si.start)){case"before":return 1;case"after":return-1;default:switch(Yr.end.compareWith(si.end)){case"before":return 1;case"after":return-1;default:return Qr.localeCompare($r)}}}),new Map(Vn)}(sn);return this.downcastDispatcher.convert(An,Ln,bn,dn),Dn}init(sn){if(this.model.document.version)throw new Nn("datacontroller-init-document-not-empty",this);let dn={};if(typeof sn=="string"?dn.main=sn:dn=sn,!this._checkIfRootsExists(Object.keys(dn)))throw new Nn("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},vn=>{for(const bn of Object.keys(dn)){const An=this.model.document.getRoot(bn);vn.insert(this.parse(dn[bn],An),An,0)}}),Promise.resolve()}set(sn,dn={}){let vn={};if(typeof sn=="string"?vn.main=sn:vn=sn,!this._checkIfRootsExists(Object.keys(vn)))throw new Nn("datacontroller-set-non-existent-root",this);this.model.enqueueChange(dn.batchType||{},bn=>{bn.setSelection(null),bn.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const An of Object.keys(vn)){const Dn=this.model.document.getRoot(An);bn.remove(bn.createRangeIn(Dn)),bn.insert(this.parse(vn[An],Dn),Dn,0)}})}parse(sn,dn="$root"){const vn=this.processor.toView(sn);return this.toModel(vn,dn)}toModel(sn,dn="$root"){return this.model.change(vn=>this.upcastDispatcher.convert(sn,vn,dn))}addStyleProcessorRules(sn){sn(this.stylesProcessor)}registerRawContentMatcher(sn){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(sn),this.htmlProcessor.registerRawContentMatcher(sn)}destroy(){this.stopListening()}_checkIfRootsExists(sn){for(const dn of sn)if(!this.model.document.getRoot(dn))return!1;return!0}}class sk{constructor(sn,dn){this._helpers=new Map,this._downcast=$l(sn),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=$l(dn),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(sn,dn){const vn=this._downcast.includes(dn);if(!this._upcast.includes(dn)&&!vn)throw new Nn("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:sn,dispatchers:[dn],isDowncast:vn})}for(sn){if(!this._helpers.has(sn))throw new Nn("conversion-for-unknown-group",this);return this._helpers.get(sn)}elementToElement(sn){this.for("downcast").elementToElement(sn);for(const{model:dn,view:vn}of $g(sn))this.for("upcast").elementToElement({model:dn,view:vn,converterPriority:sn.converterPriority})}attributeToElement(sn){this.for("downcast").attributeToElement(sn);for(const{model:dn,view:vn}of $g(sn))this.for("upcast").elementToAttribute({view:vn,model:dn,converterPriority:sn.converterPriority})}attributeToAttribute(sn){this.for("downcast").attributeToAttribute(sn);for(const{model:dn,view:vn}of $g(sn))this.for("upcast").attributeToAttribute({view:vn,model:dn})}_createConversionHelpers({name:sn,dispatchers:dn,isDowncast:vn}){if(this._helpers.has(sn))throw new Nn("conversion-group-exists",this);const bn=vn?new D1(dn):new N1(dn);this._helpers.set(sn,bn)}}function*$g(yn){if(yn.model.values)for(const sn of yn.model.values){const dn={key:yn.model.key,value:sn},vn=yn.view[sn],bn=yn.upcastAlso?yn.upcastAlso[sn]:void 0;yield*Pm(dn,vn,bn)}else yield*Pm(yn.model,yn.view,yn.upcastAlso)}function*Pm(yn,sn,dn){if(yield{model:yn,view:sn},dn)for(const vn of $l(dn))yield{model:yn,view:vn}}class qc{constructor(sn){this.baseVersion=sn,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const sn=Object.assign({},this);return sn.__className=this.constructor.className,delete sn.batch,delete sn.isDocumentOperation,sn}static get className(){return"Operation"}static fromJSON(sn,dn){return new this(sn.baseVersion)}}function Bg(yn,sn){const dn=Rm(sn),vn=dn.reduce((Dn,Ln)=>Dn+Ln.offsetSize,0),bn=yn.parent;Xh(yn);const An=yn.index;return bn._insertChild(An,dn),Zh(bn,An+dn.length),Zh(bn,An),new eo(yn,yn.getShiftedBy(vn))}function Om(yn){if(!yn.isFlat)throw new Nn("operation-utils-remove-range-not-flat",this);const sn=yn.start.parent;Xh(yn.start),Xh(yn.end);const dn=sn._removeChildren(yn.start.index,yn.end.index-yn.start.index);return Zh(sn,yn.start.index),dn}function Kh(yn,sn){if(!yn.isFlat)throw new Nn("operation-utils-move-range-not-flat",this);const dn=Om(yn);return Bg(sn=sn._getTransformedByDeletion(yn.start,yn.end.offset-yn.start.offset),dn)}function Rm(yn){const sn=[];(function dn(vn){if(typeof vn=="string")sn.push(new Gs(vn));else if(vn instanceof Su)sn.push(new Gs(vn.data,vn.getAttributes()));else if(vn instanceof df)sn.push(vn);else if(Mi(vn))for(const bn of vn)dn(bn)})(yn);for(let dn=1;dn<sn.length;dn++){const vn=sn[dn],bn=sn[dn-1];vn instanceof Gs&&bn instanceof Gs&&Nm(vn,bn)&&(sn.splice(dn-1,2,new Gs(bn.data+vn.data,bn.getAttributes())),dn--)}return sn}function Zh(yn,sn){const dn=yn.getChild(sn-1),vn=yn.getChild(sn);if(dn&&vn&&dn.is("$text")&&vn.is("$text")&&Nm(dn,vn)){const bn=new Gs(dn.data+vn.data,dn.getAttributes());yn._removeChildren(sn-1,2),yn._insertChild(sn-1,bn)}}function Xh(yn){const sn=yn.textNode,dn=yn.parent;if(sn){const vn=yn.offset-sn.startOffset,bn=sn.index;dn._removeChildren(bn,1);const An=new Gs(sn.data.substr(0,vn),sn.getAttributes()),Dn=new Gs(sn.data.substr(vn),sn.getAttributes());dn._insertChild(bn,[An,Dn])}}function Nm(yn,sn){const dn=yn.getAttributes(),vn=sn.getAttributes();for(const bn of dn){if(bn[1]!==sn.getAttribute(bn[0]))return!1;vn.next()}return vn.next().done}class Ts extends qc{constructor(sn,dn,vn,bn){super(bn),this.sourcePosition=sn.clone(),this.sourcePosition.stickiness="toNext",this.howMany=dn,this.targetPosition=vn.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[eo._createFromPositionAndShift(this.sourcePosition,this.howMany),eo._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Ts(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const sn=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Ts(this.getMovedRangeStart(),this.howMany,sn,this.baseVersion+1)}_validate(){const sn=this.sourcePosition.parent,dn=this.targetPosition.parent,vn=this.sourcePosition.offset,bn=this.targetPosition.offset;if(vn+this.howMany>sn.maxOffset)throw new Nn("move-operation-nodes-do-not-exist",this);if(sn===dn&&vn<bn&&bn<vn+this.howMany)throw new Nn("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Oo(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const An=this.sourcePosition.path.length-1;if(this.targetPosition.path[An]>=vn&&this.targetPosition.path[An]<vn+this.howMany)throw new Nn("move-operation-node-into-itself",this)}}_execute(){Kh(eo._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const sn=super.toJSON();return sn.sourcePosition=this.sourcePosition.toJSON(),sn.targetPosition=this.targetPosition.toJSON(),sn}static get className(){return"MoveOperation"}static fromJSON(sn,dn){const vn=wo.fromJSON(sn.sourcePosition,dn),bn=wo.fromJSON(sn.targetPosition,dn);return new this(vn,sn.howMany,bn,sn.baseVersion)}}class ec extends qc{constructor(sn,dn,vn){super(vn),this.position=sn.clone(),this.position.stickiness="toNone",this.nodes=new Gh(Rm(dn)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const sn=new Gh([...this.nodes].map(vn=>vn._clone(!0))),dn=new ec(this.position,sn,this.baseVersion);return dn.shouldReceiveAttributes=this.shouldReceiveAttributes,dn}getReversed(){const sn=this.position.root.document.graveyard,dn=new wo(sn,[0]);return new Ts(this.position,this.nodes.maxOffset,dn,this.baseVersion+1)}_validate(){const sn=this.position.parent;if(!sn||sn.maxOffset<this.position.offset)throw new Nn("insert-operation-position-invalid",this)}_execute(){const sn=this.nodes;this.nodes=new Gh([...sn].map(dn=>dn._clone(!0))),Bg(this.position,sn)}toJSON(){const sn=super.toJSON();return sn.position=this.position.toJSON(),sn.nodes=this.nodes.toJSON(),sn}static get className(){return"InsertOperation"}static fromJSON(sn,dn){const vn=[];for(const An of sn.nodes)An.name?vn.push(Rs.fromJSON(An)):vn.push(Gs.fromJSON(An));const bn=new ec(wo.fromJSON(sn.position,dn),vn,sn.baseVersion);return bn.shouldReceiveAttributes=sn.shouldReceiveAttributes,bn}}class Ws extends qc{constructor(sn,dn,vn,bn,An){super(An),this.splitPosition=sn.clone(),this.splitPosition.stickiness="toNext",this.howMany=dn,this.insertionPosition=vn,this.graveyardPosition=bn?bn.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const sn=this.insertionPosition.path.slice();return sn.push(0),new wo(this.insertionPosition.root,sn)}get movedRange(){const sn=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new eo(this.splitPosition,sn)}get affectedSelectable(){const sn=[eo._createFromPositionAndShift(this.splitPosition,0),eo._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&sn.push(eo._createFromPositionAndShift(this.graveyardPosition,0)),sn}clone(){return new Ws(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const sn=this.splitPosition.root.document.graveyard,dn=new wo(sn,[0]);return new kl(this.moveTargetPosition,this.howMany,this.splitPosition,dn,this.baseVersion+1)}_validate(){const sn=this.splitPosition.parent,dn=this.splitPosition.offset;if(!sn||sn.maxOffset<dn)throw new Nn("split-operation-position-invalid",this);if(!sn.parent)throw new Nn("split-operation-split-in-root",this);if(this.howMany!=sn.maxOffset-this.splitPosition.offset)throw new Nn("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Nn("split-operation-graveyard-position-invalid",this)}_execute(){const sn=this.splitPosition.parent;if(this.graveyardPosition)Kh(eo._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const dn=sn._clone();Bg(this.insertionPosition,dn)}Kh(new eo(wo._createAt(sn,this.splitPosition.offset),wo._createAt(sn,sn.maxOffset)),this.moveTargetPosition)}toJSON(){const sn=super.toJSON();return sn.splitPosition=this.splitPosition.toJSON(),sn.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(sn.graveyardPosition=this.graveyardPosition.toJSON()),sn}static get className(){return"SplitOperation"}static getInsertionPosition(sn){const dn=sn.path.slice(0,-1);return dn[dn.length-1]++,new wo(sn.root,dn,"toPrevious")}static fromJSON(sn,dn){const vn=wo.fromJSON(sn.splitPosition,dn),bn=wo.fromJSON(sn.insertionPosition,dn),An=sn.graveyardPosition?wo.fromJSON(sn.graveyardPosition,dn):null;return new this(vn,sn.howMany,bn,An,sn.baseVersion)}}class kl extends qc{constructor(sn,dn,vn,bn,An){super(An),this.sourcePosition=sn.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=dn,this.targetPosition=vn.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=bn.clone()}get type(){return"merge"}get deletionPosition(){return new wo(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const sn=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new eo(this.sourcePosition,sn)}get affectedSelectable(){const sn=this.sourcePosition.parent;return[eo._createOn(sn),eo._createFromPositionAndShift(this.targetPosition,0),eo._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new kl(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const sn=this.targetPosition._getTransformedByMergeOperation(this),dn=this.sourcePosition.path.slice(0,-1),vn=new wo(this.sourcePosition.root,dn)._getTransformedByMergeOperation(this);return new Ws(sn,this.howMany,vn,this.graveyardPosition,this.baseVersion+1)}_validate(){const sn=this.sourcePosition.parent,dn=this.targetPosition.parent;if(!sn.parent)throw new Nn("merge-operation-source-position-invalid",this);if(!dn.parent)throw new Nn("merge-operation-target-position-invalid",this);if(this.howMany!=sn.maxOffset)throw new Nn("merge-operation-how-many-invalid",this)}_execute(){const sn=this.sourcePosition.parent;Kh(eo._createIn(sn),this.targetPosition),Kh(eo._createOn(sn),this.graveyardPosition)}toJSON(){const sn=super.toJSON();return sn.sourcePosition=sn.sourcePosition.toJSON(),sn.targetPosition=sn.targetPosition.toJSON(),sn.graveyardPosition=sn.graveyardPosition.toJSON(),sn}static get className(){return"MergeOperation"}static fromJSON(sn,dn){const vn=wo.fromJSON(sn.sourcePosition,dn),bn=wo.fromJSON(sn.targetPosition,dn),An=wo.fromJSON(sn.graveyardPosition,dn);return new this(vn,sn.howMany,bn,An,sn.baseVersion)}}class Lc extends qc{constructor(sn,dn,vn,bn,An,Dn){super(Dn),this.name=sn,this.oldRange=dn?dn.clone():null,this.newRange=vn?vn.clone():null,this.affectsData=An,this._markers=bn}get type(){return"marker"}get affectedSelectable(){const sn=[];return this.oldRange&&sn.push(this.oldRange.clone()),this.newRange&&(this.oldRange?sn.push(...this.newRange.getDifference(this.oldRange)):sn.push(this.newRange.clone())),sn}clone(){return new Lc(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Lc(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const sn=super.toJSON();return this.oldRange&&(sn.oldRange=this.oldRange.toJSON()),this.newRange&&(sn.newRange=this.newRange.toJSON()),delete sn._markers,sn}static get className(){return"MarkerOperation"}static fromJSON(sn,dn){return new Lc(sn.name,sn.oldRange?eo.fromJSON(sn.oldRange,dn):null,sn.newRange?eo.fromJSON(sn.newRange,dn):null,dn.model.markers,sn.affectsData,sn.baseVersion)}}const $m=function(yn,sn){return Yv(yn,sn)};class Ml extends qc{constructor(sn,dn,vn,bn,An){super(An),this.range=sn.clone(),this.key=dn,this.oldValue=vn===void 0?null:vn,this.newValue=bn===void 0?null:bn}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Ml(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ml(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const sn=super.toJSON();return sn.range=this.range.toJSON(),sn}_validate(){if(!this.range.isFlat)throw new Nn("attribute-operation-range-not-flat",this);for(const sn of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!$m(sn.getAttribute(this.key),this.oldValue))throw new Nn("attribute-operation-wrong-old-value",this,{item:sn,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&sn.hasAttribute(this.key))throw new Nn("attribute-operation-attribute-exists",this,{node:sn,key:this.key})}}_execute(){$m(this.oldValue,this.newValue)||function(sn,dn,vn){Xh(sn.start),Xh(sn.end);for(const bn of sn.getItems({shallow:!0})){const An=bn.is("$textProxy")?bn.textNode:bn;vn!==null?An._setAttribute(dn,vn):An._removeAttribute(dn),Zh(An.parent,An.index)}Zh(sn.end.parent,sn.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(sn,dn){return new Ml(eo.fromJSON(sn.range,dn),sn.key,sn.oldValue,sn.newValue,sn.baseVersion)}}class Hl extends qc{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Hl(this.baseVersion)}getReversed(){return new Hl(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Pc extends qc{constructor(sn,dn,vn,bn){super(bn),this.position=sn,this.position.stickiness="toNext",this.oldName=dn,this.newName=vn}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Pc(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Pc(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const sn=this.position.nodeAfter;if(!(sn instanceof Rs))throw new Nn("rename-operation-wrong-position",this);if(sn.name!==this.oldName)throw new Nn("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const sn=super.toJSON();return sn.position=this.position.toJSON(),sn}static get className(){return"RenameOperation"}static fromJSON(sn,dn){return new Pc(wo.fromJSON(sn.position,dn),sn.oldName,sn.newName,sn.baseVersion)}}class gd extends qc{constructor(sn,dn,vn,bn,An){super(An),this.root=sn,this.key=dn,this.oldValue=vn===void 0?null:vn,this.newValue=bn===void 0?null:bn}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new gd(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new gd(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Nn("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new Nn("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new Nn("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const sn=super.toJSON();return sn.root=this.root.toJSON(),sn}static get className(){return"RootAttributeOperation"}static fromJSON(sn,dn){if(!dn.getRoot(sn.root))throw new Nn("rootattribute-operation-fromjson-no-root",this,{rootName:sn.root});return new gd(dn.getRoot(sn.root),sn.key,sn.oldValue,sn.newValue,sn.baseVersion)}}class Ku extends qc{constructor(sn,dn,vn,bn,An){super(An),this.rootName=sn,this.elementName=dn,this.isAdd=vn,this._document=bn,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ku(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ku(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const sn=this._document.getRoot(this.rootName);if(sn.isAttached()&&this.isAdd)throw new Nn("root-operation-root-attached",this);if(!sn.isAttached()&&!this.isAdd)throw new Nn("root-operation-root-detached",this)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const sn=super.toJSON();return delete sn._document,sn}static get className(){return"RootOperation"}static fromJSON(sn,dn){return new Ku(sn.rootName,sn.elementName,sn.isAdd,dn,sn.baseVersion)}}const du={};du[Ml.className]=Ml,du[ec.className]=ec,du[Lc.className]=Lc,du[Ts.className]=Ts,du[Hl.className]=Hl,du[qc.className]=qc,du[Pc.className]=Pc,du[gd.className]=gd,du[Ku.className]=Ku,du[Ws.className]=Ws,du[kl.className]=kl;class lk{static fromJSON(sn,dn){return du[sn.__className].fromJSON(sn,dn)}}const Fg=new Map;function bs(yn,sn,dn){let vn=Fg.get(yn);vn||(vn=new Map,Fg.set(yn,vn)),vn.set(sn,dn)}function ck(yn){return[yn]}function Bm(yn,sn,dn={}){const vn=function(bn,An){const Dn=Fg.get(bn);return Dn&&Dn.has(An)?Dn.get(An):ck}(yn.constructor,sn.constructor);try{return vn(yn=yn.clone(),sn,dn)}catch(bn){throw bn}}function uk(yn,sn,dn){yn=yn.slice(),sn=sn.slice();const vn=new dk(dn.document,dn.useRelations,dn.forceWeakRemove);vn.setOriginalOperations(yn),vn.setOriginalOperations(sn);const bn=vn.originalOperations;if(yn.length==0||sn.length==0)return{operationsA:yn,operationsB:sn,originalOperations:bn};const An=new WeakMap;for(const Bn of yn)An.set(Bn,0);const Dn={nextBaseVersionA:yn[yn.length-1].baseVersion+1,nextBaseVersionB:sn[sn.length-1].baseVersion+1,originalOperationsACount:yn.length,originalOperationsBCount:sn.length};let Ln=0;for(;Ln<yn.length;){const Bn=yn[Ln],Vn=An.get(Bn);if(Vn==sn.length){Ln++;continue}const Gn=sn[Vn],Kn=Bm(Bn,Gn,vn.getContext(Bn,Gn,!0)),$r=Bm(Gn,Bn,vn.getContext(Gn,Bn,!1));vn.updateRelation(Bn,Gn),vn.setOriginalOperations(Kn,Bn),vn.setOriginalOperations($r,Gn);for(const Yr of Kn)An.set(Yr,Vn+$r.length);yn.splice(Ln,1,...Kn),sn.splice(Vn,1,...$r)}if(dn.padWithNoOps){const Bn=yn.length-Dn.originalOperationsACount,Vn=sn.length-Dn.originalOperationsBCount;zm(yn,Vn-Bn),zm(sn,Bn-Vn)}return Fm(yn,Dn.nextBaseVersionB),Fm(sn,Dn.nextBaseVersionA),{operationsA:yn,operationsB:sn,originalOperations:bn}}class dk{constructor(sn,dn,vn=!1){this.originalOperations=new Map,this._history=sn.history,this._useRelations=dn,this._forceWeakRemove=!!vn,this._relations=new Map}setOriginalOperations(sn,dn=null){const vn=dn?this.originalOperations.get(dn):null;for(const bn of sn)this.originalOperations.set(bn,vn||bn)}updateRelation(sn,dn){if(sn instanceof Ts)dn instanceof kl?sn.targetPosition.isEqual(dn.sourcePosition)||dn.movedRange.containsPosition(sn.targetPosition)?this._setRelation(sn,dn,"insertAtSource"):sn.targetPosition.isEqual(dn.deletionPosition)?this._setRelation(sn,dn,"insertBetween"):sn.targetPosition.isAfter(dn.sourcePosition)&&this._setRelation(sn,dn,"moveTargetAfter"):dn instanceof Ts&&(sn.targetPosition.isEqual(dn.sourcePosition)||sn.targetPosition.isBefore(dn.sourcePosition)?this._setRelation(sn,dn,"insertBefore"):this._setRelation(sn,dn,"insertAfter"));else if(sn instanceof Ws){if(dn instanceof kl)sn.splitPosition.isBefore(dn.sourcePosition)&&this._setRelation(sn,dn,"splitBefore");else if(dn instanceof Ts)if(sn.splitPosition.isEqual(dn.sourcePosition)||sn.splitPosition.isBefore(dn.sourcePosition))this._setRelation(sn,dn,"splitBefore");else{const vn=eo._createFromPositionAndShift(dn.sourcePosition,dn.howMany);if(sn.splitPosition.hasSameParentAs(dn.sourcePosition)&&vn.containsPosition(sn.splitPosition)){const bn=vn.end.offset-sn.splitPosition.offset,An=sn.splitPosition.offset-vn.start.offset;this._setRelation(sn,dn,{howMany:bn,offset:An})}}}else if(sn instanceof kl)dn instanceof kl?(sn.targetPosition.isEqual(dn.sourcePosition)||this._setRelation(sn,dn,"mergeTargetNotMoved"),sn.sourcePosition.isEqual(dn.targetPosition)&&this._setRelation(sn,dn,"mergeSourceNotMoved"),sn.sourcePosition.isEqual(dn.sourcePosition)&&this._setRelation(sn,dn,"mergeSameElement")):dn instanceof Ws&&sn.sourcePosition.isEqual(dn.splitPosition)&&this._setRelation(sn,dn,"splitAtSource");else if(sn instanceof Lc){const vn=sn.newRange;if(!vn)return;if(dn instanceof Ts){const bn=eo._createFromPositionAndShift(dn.sourcePosition,dn.howMany),An=bn.containsPosition(vn.start)||bn.start.isEqual(vn.start),Dn=bn.containsPosition(vn.end)||bn.end.isEqual(vn.end);!An&&!Dn||bn.containsRange(vn)||this._setRelation(sn,dn,{side:An?"left":"right",path:An?vn.start.path.slice():vn.end.path.slice()})}else if(dn instanceof kl){const bn=vn.start.isEqual(dn.targetPosition),An=vn.start.isEqual(dn.deletionPosition),Dn=vn.end.isEqual(dn.deletionPosition),Ln=vn.end.isEqual(dn.sourcePosition);(bn||An||Dn||Ln)&&this._setRelation(sn,dn,{wasInLeftElement:bn,wasStartBeforeMergedElement:An,wasEndBeforeMergedElement:Dn,wasInRightElement:Ln})}}}getContext(sn,dn,vn){return{aIsStrong:vn,aWasUndone:this._wasUndone(sn),bWasUndone:this._wasUndone(dn),abRelation:this._useRelations?this._getRelation(sn,dn):null,baRelation:this._useRelations?this._getRelation(dn,sn):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(sn){const dn=this.originalOperations.get(sn);return dn.wasUndone||this._history.isUndoneOperation(dn)}_getRelation(sn,dn){const vn=this.originalOperations.get(dn),bn=this._history.getUndoneOperation(vn);if(!bn)return null;const An=this.originalOperations.get(sn),Dn=this._relations.get(An);return Dn&&Dn.get(bn)||null}_setRelation(sn,dn,vn){const bn=this.originalOperations.get(sn),An=this.originalOperations.get(dn);let Dn=this._relations.get(bn);Dn||(Dn=new Map,this._relations.set(bn,Dn)),Dn.set(An,vn)}}function Fm(yn,sn){for(const dn of yn)dn.baseVersion=sn++}function zm(yn,sn){for(let dn=0;dn<sn;dn++)yn.push(new Hl(0))}function Hm(yn,sn,dn){const vn=yn.nodes.getNode(0).getAttribute(sn);if(vn==dn)return null;const bn=new eo(yn.position,yn.position.getShiftedBy(yn.howMany));return new Ml(bn,sn,vn,dn,0)}function Vm(yn,sn){return yn.targetPosition._getTransformedByDeletion(sn.sourcePosition,sn.howMany)===null}function Vf(yn,sn){const dn=[];for(let vn=0;vn<yn.length;vn++){const bn=yn[vn],An=new Ts(bn.start,bn.end.offset-bn.start.offset,sn,0);dn.push(An);for(let Dn=vn+1;Dn<yn.length;Dn++)yn[Dn]=yn[Dn]._getTransformedByMove(An.sourcePosition,An.targetPosition,An.howMany)[0];sn=sn._getTransformedByMove(An.sourcePosition,An.targetPosition,An.howMany)}return dn}bs(Ml,Ml,(yn,sn,dn)=>{if(yn.key===sn.key&&yn.range.start.hasSameParentAs(sn.range.start)){const vn=yn.range.getDifference(sn.range).map(An=>new Ml(An,yn.key,yn.oldValue,yn.newValue,0)),bn=yn.range.getIntersection(sn.range);return bn&&dn.aIsStrong&&vn.push(new Ml(bn,sn.key,sn.newValue,yn.newValue,0)),vn.length==0?[new Hl(0)]:vn}return[yn]}),bs(Ml,ec,(yn,sn)=>{if(yn.range.start.hasSameParentAs(sn.position)&&yn.range.containsPosition(sn.position)){const dn=yn.range._getTransformedByInsertion(sn.position,sn.howMany,!sn.shouldReceiveAttributes).map(vn=>new Ml(vn,yn.key,yn.oldValue,yn.newValue,yn.baseVersion));if(sn.shouldReceiveAttributes){const vn=Hm(sn,yn.key,yn.oldValue);vn&&dn.unshift(vn)}return dn}return yn.range=yn.range._getTransformedByInsertion(sn.position,sn.howMany,!1)[0],[yn]}),bs(Ml,kl,(yn,sn)=>{const dn=[];yn.range.start.hasSameParentAs(sn.deletionPosition)&&(yn.range.containsPosition(sn.deletionPosition)||yn.range.start.isEqual(sn.deletionPosition))&&dn.push(eo._createFromPositionAndShift(sn.graveyardPosition,1));const vn=yn.range._getTransformedByMergeOperation(sn);return vn.isCollapsed||dn.push(vn),dn.map(bn=>new Ml(bn,yn.key,yn.oldValue,yn.newValue,yn.baseVersion))}),bs(Ml,Ts,(yn,sn)=>function(vn,bn){const An=eo._createFromPositionAndShift(bn.sourcePosition,bn.howMany);let Dn=null,Ln=[];An.containsRange(vn,!0)?Dn=vn:vn.start.hasSameParentAs(An.start)?(Ln=vn.getDifference(An),Dn=vn.getIntersection(An)):Ln=[vn];const Bn=[];for(let Vn of Ln){Vn=Vn._getTransformedByDeletion(bn.sourcePosition,bn.howMany);const Gn=bn.getMovedRangeStart(),Kn=Vn.start.hasSameParentAs(Gn),$r=Vn._getTransformedByInsertion(Gn,bn.howMany,Kn);Bn.push(...$r)}return Dn&&Bn.push(Dn._getTransformedByMove(bn.sourcePosition,bn.targetPosition,bn.howMany,!1)[0]),Bn}(yn.range,sn).map(vn=>new Ml(vn,yn.key,yn.oldValue,yn.newValue,yn.baseVersion))),bs(Ml,Ws,(yn,sn)=>{if(yn.range.end.isEqual(sn.insertionPosition))return sn.graveyardPosition||yn.range.end.offset++,[yn];if(yn.range.start.hasSameParentAs(sn.splitPosition)&&yn.range.containsPosition(sn.splitPosition)){const dn=yn.clone();return dn.range=new eo(sn.moveTargetPosition.clone(),yn.range.end._getCombined(sn.splitPosition,sn.moveTargetPosition)),yn.range.end=sn.splitPosition.clone(),yn.range.end.stickiness="toPrevious",[yn,dn]}return yn.range=yn.range._getTransformedBySplitOperation(sn),[yn]}),bs(ec,Ml,(yn,sn)=>{const dn=[yn];if(yn.shouldReceiveAttributes&&yn.position.hasSameParentAs(sn.range.start)&&sn.range.containsPosition(yn.position)){const vn=Hm(yn,sn.key,sn.newValue);vn&&dn.push(vn)}return dn}),bs(ec,ec,(yn,sn,dn)=>(yn.position.isEqual(sn.position)&&dn.aIsStrong||(yn.position=yn.position._getTransformedByInsertOperation(sn)),[yn])),bs(ec,Ts,(yn,sn)=>(yn.position=yn.position._getTransformedByMoveOperation(sn),[yn])),bs(ec,Ws,(yn,sn)=>(yn.position=yn.position._getTransformedBySplitOperation(sn),[yn])),bs(ec,kl,(yn,sn)=>(yn.position=yn.position._getTransformedByMergeOperation(sn),[yn])),bs(Lc,ec,(yn,sn)=>(yn.oldRange&&(yn.oldRange=yn.oldRange._getTransformedByInsertOperation(sn)[0]),yn.newRange&&(yn.newRange=yn.newRange._getTransformedByInsertOperation(sn)[0]),[yn])),bs(Lc,Lc,(yn,sn,dn)=>{if(yn.name==sn.name){if(!dn.aIsStrong)return[new Hl(0)];yn.oldRange=sn.newRange?sn.newRange.clone():null}return[yn]}),bs(Lc,kl,(yn,sn)=>(yn.oldRange&&(yn.oldRange=yn.oldRange._getTransformedByMergeOperation(sn)),yn.newRange&&(yn.newRange=yn.newRange._getTransformedByMergeOperation(sn)),[yn])),bs(Lc,Ts,(yn,sn,dn)=>{if(yn.oldRange&&(yn.oldRange=eo._createFromRanges(yn.oldRange._getTransformedByMoveOperation(sn))),yn.newRange){if(dn.abRelation){const vn=eo._createFromRanges(yn.newRange._getTransformedByMoveOperation(sn));if(dn.abRelation.side=="left"&&sn.targetPosition.isEqual(yn.newRange.start))return yn.newRange.end=vn.end,yn.newRange.start.path=dn.abRelation.path,[yn];if(dn.abRelation.side=="right"&&sn.targetPosition.isEqual(yn.newRange.end))return yn.newRange.start=vn.start,yn.newRange.end.path=dn.abRelation.path,[yn]}yn.newRange=eo._createFromRanges(yn.newRange._getTransformedByMoveOperation(sn))}return[yn]}),bs(Lc,Ws,(yn,sn,dn)=>{if(yn.oldRange&&(yn.oldRange=yn.oldRange._getTransformedBySplitOperation(sn)),yn.newRange){if(dn.abRelation){const vn=yn.newRange._getTransformedBySplitOperation(sn);return yn.newRange.start.isEqual(sn.splitPosition)&&dn.abRelation.wasStartBeforeMergedElement?yn.newRange.start=wo._createAt(sn.insertionPosition):yn.newRange.start.isEqual(sn.splitPosition)&&!dn.abRelation.wasInLeftElement&&(yn.newRange.start=wo._createAt(sn.moveTargetPosition)),yn.newRange.end.isEqual(sn.splitPosition)&&dn.abRelation.wasInRightElement?yn.newRange.end=wo._createAt(sn.moveTargetPosition):yn.newRange.end.isEqual(sn.splitPosition)&&dn.abRelation.wasEndBeforeMergedElement?yn.newRange.end=wo._createAt(sn.insertionPosition):yn.newRange.end=vn.end,[yn]}yn.newRange=yn.newRange._getTransformedBySplitOperation(sn)}return[yn]}),bs(kl,ec,(yn,sn)=>(yn.sourcePosition.hasSameParentAs(sn.position)&&(yn.howMany+=sn.howMany),yn.sourcePosition=yn.sourcePosition._getTransformedByInsertOperation(sn),yn.targetPosition=yn.targetPosition._getTransformedByInsertOperation(sn),[yn])),bs(kl,kl,(yn,sn,dn)=>{if(yn.sourcePosition.isEqual(sn.sourcePosition)&&yn.targetPosition.isEqual(sn.targetPosition)){if(dn.bWasUndone){const vn=sn.graveyardPosition.path.slice();return vn.push(0),yn.sourcePosition=new wo(sn.graveyardPosition.root,vn),yn.howMany=0,[yn]}return[new Hl(0)]}if(yn.sourcePosition.isEqual(sn.sourcePosition)&&!yn.targetPosition.isEqual(sn.targetPosition)&&!dn.bWasUndone&&dn.abRelation!="splitAtSource"){const vn=yn.targetPosition.root.rootName=="$graveyard",bn=sn.targetPosition.root.rootName=="$graveyard";if(bn&&!vn||!(vn&&!bn)&&dn.aIsStrong){const An=sn.targetPosition._getTransformedByMergeOperation(sn),Dn=yn.targetPosition._getTransformedByMergeOperation(sn);return[new Ts(An,yn.howMany,Dn,0)]}return[new Hl(0)]}return yn.sourcePosition.hasSameParentAs(sn.targetPosition)&&(yn.howMany+=sn.howMany),yn.sourcePosition=yn.sourcePosition._getTransformedByMergeOperation(sn),yn.targetPosition=yn.targetPosition._getTransformedByMergeOperation(sn),yn.graveyardPosition.isEqual(sn.graveyardPosition)&&dn.aIsStrong||(yn.graveyardPosition=yn.graveyardPosition._getTransformedByMergeOperation(sn)),[yn]}),bs(kl,Ts,(yn,sn,dn)=>{const vn=eo._createFromPositionAndShift(sn.sourcePosition,sn.howMany);return sn.type=="remove"&&!dn.bWasUndone&&!dn.forceWeakRemove&&yn.deletionPosition.hasSameParentAs(sn.sourcePosition)&&vn.containsPosition(yn.sourcePosition)?[new Hl(0)]:(yn.sourcePosition.hasSameParentAs(sn.targetPosition)&&(yn.howMany+=sn.howMany),yn.sourcePosition.hasSameParentAs(sn.sourcePosition)&&(yn.howMany-=sn.howMany),yn.sourcePosition=yn.sourcePosition._getTransformedByMoveOperation(sn),yn.targetPosition=yn.targetPosition._getTransformedByMoveOperation(sn),yn.graveyardPosition.isEqual(sn.targetPosition)||(yn.graveyardPosition=yn.graveyardPosition._getTransformedByMoveOperation(sn)),[yn])}),bs(kl,Ws,(yn,sn,dn)=>{if(sn.graveyardPosition&&(yn.graveyardPosition=yn.graveyardPosition._getTransformedByDeletion(sn.graveyardPosition,1),yn.deletionPosition.isEqual(sn.graveyardPosition)&&(yn.howMany=sn.howMany)),yn.targetPosition.isEqual(sn.splitPosition)){const vn=sn.howMany!=0,bn=sn.graveyardPosition&&yn.deletionPosition.isEqual(sn.graveyardPosition);if(vn||bn||dn.abRelation=="mergeTargetNotMoved")return yn.sourcePosition=yn.sourcePosition._getTransformedBySplitOperation(sn),[yn]}if(yn.sourcePosition.isEqual(sn.splitPosition)){if(dn.abRelation=="mergeSourceNotMoved")return yn.howMany=0,yn.targetPosition=yn.targetPosition._getTransformedBySplitOperation(sn),[yn];if(dn.abRelation=="mergeSameElement"||yn.sourcePosition.offset>0)return yn.sourcePosition=sn.moveTargetPosition.clone(),yn.targetPosition=yn.targetPosition._getTransformedBySplitOperation(sn),[yn]}return yn.sourcePosition.hasSameParentAs(sn.splitPosition)&&(yn.howMany=sn.splitPosition.offset),yn.sourcePosition=yn.sourcePosition._getTransformedBySplitOperation(sn),yn.targetPosition=yn.targetPosition._getTransformedBySplitOperation(sn),[yn]}),bs(Ts,ec,(yn,sn)=>{const dn=eo._createFromPositionAndShift(yn.sourcePosition,yn.howMany)._getTransformedByInsertOperation(sn,!1)[0];return yn.sourcePosition=dn.start,yn.howMany=dn.end.offset-dn.start.offset,yn.targetPosition.isEqual(sn.position)||(yn.targetPosition=yn.targetPosition._getTransformedByInsertOperation(sn)),[yn]}),bs(Ts,Ts,(yn,sn,dn)=>{const vn=eo._createFromPositionAndShift(yn.sourcePosition,yn.howMany),bn=eo._createFromPositionAndShift(sn.sourcePosition,sn.howMany);let An,Dn=dn.aIsStrong,Ln=!dn.aIsStrong;if(dn.abRelation=="insertBefore"||dn.baRelation=="insertAfter"?Ln=!0:dn.abRelation!="insertAfter"&&dn.baRelation!="insertBefore"||(Ln=!1),An=yn.targetPosition.isEqual(sn.targetPosition)&&Ln?yn.targetPosition._getTransformedByDeletion(sn.sourcePosition,sn.howMany):yn.targetPosition._getTransformedByMove(sn.sourcePosition,sn.targetPosition,sn.howMany),Vm(yn,sn)&&Vm(sn,yn))return[sn.getReversed()];if(vn.containsPosition(sn.targetPosition)&&vn.containsRange(bn,!0))return vn.start=vn.start._getTransformedByMove(sn.sourcePosition,sn.targetPosition,sn.howMany),vn.end=vn.end._getTransformedByMove(sn.sourcePosition,sn.targetPosition,sn.howMany),Vf([vn],An);if(bn.containsPosition(yn.targetPosition)&&bn.containsRange(vn,!0))return vn.start=vn.start._getCombined(sn.sourcePosition,sn.getMovedRangeStart()),vn.end=vn.end._getCombined(sn.sourcePosition,sn.getMovedRangeStart()),Vf([vn],An);const Bn=Oo(yn.sourcePosition.getParentPath(),sn.sourcePosition.getParentPath());if(Bn=="prefix"||Bn=="extension")return vn.start=vn.start._getTransformedByMove(sn.sourcePosition,sn.targetPosition,sn.howMany),vn.end=vn.end._getTransformedByMove(sn.sourcePosition,sn.targetPosition,sn.howMany),Vf([vn],An);yn.type!="remove"||sn.type=="remove"||dn.aWasUndone||dn.forceWeakRemove?yn.type=="remove"||sn.type!="remove"||dn.bWasUndone||dn.forceWeakRemove||(Dn=!1):Dn=!0;const Vn=[],Gn=vn.getDifference(bn);for(const $r of Gn){$r.start=$r.start._getTransformedByDeletion(sn.sourcePosition,sn.howMany),$r.end=$r.end._getTransformedByDeletion(sn.sourcePosition,sn.howMany);const Yr=Oo($r.start.getParentPath(),sn.getMovedRangeStart().getParentPath())=="same",Qr=$r._getTransformedByInsertion(sn.getMovedRangeStart(),sn.howMany,Yr);Vn.push(...Qr)}const Kn=vn.getIntersection(bn);return Kn!==null&&Dn&&(Kn.start=Kn.start._getCombined(sn.sourcePosition,sn.getMovedRangeStart()),Kn.end=Kn.end._getCombined(sn.sourcePosition,sn.getMovedRangeStart()),Vn.length===0?Vn.push(Kn):Vn.length==1?bn.start.isBefore(vn.start)||bn.start.isEqual(vn.start)?Vn.unshift(Kn):Vn.push(Kn):Vn.splice(1,0,Kn)),Vn.length===0?[new Hl(yn.baseVersion)]:Vf(Vn,An)}),bs(Ts,Ws,(yn,sn,dn)=>{let vn=yn.targetPosition.clone();yn.targetPosition.isEqual(sn.insertionPosition)&&sn.graveyardPosition&&dn.abRelation!="moveTargetAfter"||(vn=yn.targetPosition._getTransformedBySplitOperation(sn));const bn=eo._createFromPositionAndShift(yn.sourcePosition,yn.howMany);if(bn.end.isEqual(sn.insertionPosition))return sn.graveyardPosition||yn.howMany++,yn.targetPosition=vn,[yn];if(bn.start.hasSameParentAs(sn.splitPosition)&&bn.containsPosition(sn.splitPosition)){let Dn=new eo(sn.splitPosition,bn.end);return Dn=Dn._getTransformedBySplitOperation(sn),Vf([new eo(bn.start,sn.splitPosition),Dn],vn)}yn.targetPosition.isEqual(sn.splitPosition)&&dn.abRelation=="insertAtSource"&&(vn=sn.moveTargetPosition),yn.targetPosition.isEqual(sn.insertionPosition)&&dn.abRelation=="insertBetween"&&(vn=yn.targetPosition);const An=[bn._getTransformedBySplitOperation(sn)];if(sn.graveyardPosition){const Dn=bn.start.isEqual(sn.graveyardPosition)||bn.containsPosition(sn.graveyardPosition);yn.howMany>1&&Dn&&!dn.aWasUndone&&An.push(eo._createFromPositionAndShift(sn.insertionPosition,1))}return Vf(An,vn)}),bs(Ts,kl,(yn,sn,dn)=>{const vn=eo._createFromPositionAndShift(yn.sourcePosition,yn.howMany);if(sn.deletionPosition.hasSameParentAs(yn.sourcePosition)&&vn.containsPosition(sn.sourcePosition)){if(yn.type!="remove"||dn.forceWeakRemove){if(yn.howMany==1)return dn.bWasUndone?(yn.sourcePosition=sn.graveyardPosition.clone(),yn.targetPosition=yn.targetPosition._getTransformedByMergeOperation(sn),[yn]):[new Hl(0)]}else if(!dn.aWasUndone){const An=[];let Dn=sn.graveyardPosition.clone(),Ln=sn.targetPosition._getTransformedByMergeOperation(sn);yn.howMany>1&&(An.push(new Ts(yn.sourcePosition,yn.howMany-1,yn.targetPosition,0)),Dn=Dn._getTransformedByMove(yn.sourcePosition,yn.targetPosition,yn.howMany-1),Ln=Ln._getTransformedByMove(yn.sourcePosition,yn.targetPosition,yn.howMany-1));const Bn=sn.deletionPosition._getCombined(yn.sourcePosition,yn.targetPosition),Vn=new Ts(Dn,1,Bn,0),Gn=Vn.getMovedRangeStart().path.slice();Gn.push(0);const Kn=new wo(Vn.targetPosition.root,Gn);Ln=Ln._getTransformedByMove(Dn,Bn,1);const $r=new Ts(Ln,sn.howMany,Kn,0);return An.push(Vn),An.push($r),An}}const bn=eo._createFromPositionAndShift(yn.sourcePosition,yn.howMany)._getTransformedByMergeOperation(sn);return yn.sourcePosition=bn.start,yn.howMany=bn.end.offset-bn.start.offset,yn.targetPosition=yn.targetPosition._getTransformedByMergeOperation(sn),[yn]}),bs(Pc,ec,(yn,sn)=>(yn.position=yn.position._getTransformedByInsertOperation(sn),[yn])),bs(Pc,kl,(yn,sn)=>yn.position.isEqual(sn.deletionPosition)?(yn.position=sn.graveyardPosition.clone(),yn.position.stickiness="toNext",[yn]):(yn.position=yn.position._getTransformedByMergeOperation(sn),[yn])),bs(Pc,Ts,(yn,sn)=>(yn.position=yn.position._getTransformedByMoveOperation(sn),[yn])),bs(Pc,Pc,(yn,sn,dn)=>{if(yn.position.isEqual(sn.position)){if(!dn.aIsStrong)return[new Hl(0)];yn.oldName=sn.newName}return[yn]}),bs(Pc,Ws,(yn,sn)=>{if(Oo(yn.position.path,sn.splitPosition.getParentPath())=="same"&&!sn.graveyardPosition){const dn=new Pc(yn.position.getShiftedBy(1),yn.oldName,yn.newName,0);return[yn,dn]}return yn.position=yn.position._getTransformedBySplitOperation(sn),[yn]}),bs(gd,gd,(yn,sn,dn)=>{if(yn.root===sn.root&&yn.key===sn.key){if(!dn.aIsStrong||yn.newValue===sn.newValue)return[new Hl(0)];yn.oldValue=sn.newValue}return[yn]}),bs(Ku,Ku,(yn,sn,dn)=>yn.rootName!==sn.rootName||yn.isAdd!==sn.isAdd||dn.bWasUndone?[yn]:[new Hl(0)]),bs(Ws,ec,(yn,sn)=>(yn.splitPosition.hasSameParentAs(sn.position)&&yn.splitPosition.offset<sn.position.offset&&(yn.howMany+=sn.howMany),yn.splitPosition=yn.splitPosition._getTransformedByInsertOperation(sn),yn.insertionPosition=yn.insertionPosition._getTransformedByInsertOperation(sn),[yn])),bs(Ws,kl,(yn,sn,dn)=>{if(!yn.graveyardPosition&&!dn.bWasUndone&&yn.splitPosition.hasSameParentAs(sn.sourcePosition)){const vn=sn.graveyardPosition.path.slice();vn.push(0);const bn=new wo(sn.graveyardPosition.root,vn),An=Ws.getInsertionPosition(new wo(sn.graveyardPosition.root,vn)),Dn=new Ws(bn,0,An,null,0);return yn.splitPosition=yn.splitPosition._getTransformedByMergeOperation(sn),yn.insertionPosition=Ws.getInsertionPosition(yn.splitPosition),yn.graveyardPosition=Dn.insertionPosition.clone(),yn.graveyardPosition.stickiness="toNext",[Dn,yn]}return yn.splitPosition.hasSameParentAs(sn.deletionPosition)&&!yn.splitPosition.isAfter(sn.deletionPosition)&&yn.howMany--,yn.splitPosition.hasSameParentAs(sn.targetPosition)&&(yn.howMany+=sn.howMany),yn.splitPosition=yn.splitPosition._getTransformedByMergeOperation(sn),yn.insertionPosition=Ws.getInsertionPosition(yn.splitPosition),yn.graveyardPosition&&(yn.graveyardPosition=yn.graveyardPosition._getTransformedByMergeOperation(sn)),[yn]}),bs(Ws,Ts,(yn,sn,dn)=>{const vn=eo._createFromPositionAndShift(sn.sourcePosition,sn.howMany);if(yn.graveyardPosition){const An=vn.start.isEqual(yn.graveyardPosition)||vn.containsPosition(yn.graveyardPosition);if(!dn.bWasUndone&&An){const Dn=yn.splitPosition._getTransformedByMoveOperation(sn),Ln=yn.graveyardPosition._getTransformedByMoveOperation(sn),Bn=Ln.path.slice();Bn.push(0);const Vn=new wo(Ln.root,Bn);return[new Ts(Dn,yn.howMany,Vn,0)]}yn.graveyardPosition=yn.graveyardPosition._getTransformedByMoveOperation(sn)}const bn=yn.splitPosition.isEqual(sn.targetPosition);if(bn&&(dn.baRelation=="insertAtSource"||dn.abRelation=="splitBefore"))return yn.howMany+=sn.howMany,yn.splitPosition=yn.splitPosition._getTransformedByDeletion(sn.sourcePosition,sn.howMany),yn.insertionPosition=Ws.getInsertionPosition(yn.splitPosition),[yn];if(bn&&dn.abRelation&&dn.abRelation.howMany){const{howMany:An,offset:Dn}=dn.abRelation;return yn.howMany+=An,yn.splitPosition=yn.splitPosition.getShiftedBy(Dn),[yn]}if(yn.splitPosition.hasSameParentAs(sn.sourcePosition)&&vn.containsPosition(yn.splitPosition)){const An=sn.howMany-(yn.splitPosition.offset-sn.sourcePosition.offset);return yn.howMany-=An,yn.splitPosition.hasSameParentAs(sn.targetPosition)&&yn.splitPosition.offset<sn.targetPosition.offset&&(yn.howMany+=sn.howMany),yn.splitPosition=sn.sourcePosition.clone(),yn.insertionPosition=Ws.getInsertionPosition(yn.splitPosition),[yn]}return sn.sourcePosition.isEqual(sn.targetPosition)||(yn.splitPosition.hasSameParentAs(sn.sourcePosition)&&yn.splitPosition.offset<=sn.sourcePosition.offset&&(yn.howMany-=sn.howMany),yn.splitPosition.hasSameParentAs(sn.targetPosition)&&yn.splitPosition.offset<sn.targetPosition.offset&&(yn.howMany+=sn.howMany)),yn.splitPosition.stickiness="toNone",yn.splitPosition=yn.splitPosition._getTransformedByMoveOperation(sn),yn.splitPosition.stickiness="toNext",yn.graveyardPosition?yn.insertionPosition=yn.insertionPosition._getTransformedByMoveOperation(sn):yn.insertionPosition=Ws.getInsertionPosition(yn.splitPosition),[yn]}),bs(Ws,Ws,(yn,sn,dn)=>{if(yn.splitPosition.isEqual(sn.splitPosition)){if(!yn.graveyardPosition&&!sn.graveyardPosition)return[new Hl(0)];if(yn.graveyardPosition&&sn.graveyardPosition&&yn.graveyardPosition.isEqual(sn.graveyardPosition))return[new Hl(0)];if(dn.abRelation=="splitBefore")return yn.howMany=0,yn.graveyardPosition=yn.graveyardPosition._getTransformedBySplitOperation(sn),[yn]}if(yn.graveyardPosition&&sn.graveyardPosition&&yn.graveyardPosition.isEqual(sn.graveyardPosition)){const vn=yn.splitPosition.root.rootName=="$graveyard",bn=sn.splitPosition.root.rootName=="$graveyard";if(bn&&!vn||!(vn&&!bn)&&dn.aIsStrong){const An=[];return sn.howMany&&An.push(new Ts(sn.moveTargetPosition,sn.howMany,sn.splitPosition,0)),yn.howMany&&An.push(new Ts(yn.splitPosition,yn.howMany,yn.moveTargetPosition,0)),An}return[new Hl(0)]}if(yn.graveyardPosition&&(yn.graveyardPosition=yn.graveyardPosition._getTransformedBySplitOperation(sn)),yn.splitPosition.isEqual(sn.insertionPosition)&&dn.abRelation=="splitBefore")return yn.howMany++,[yn];if(sn.splitPosition.isEqual(yn.insertionPosition)&&dn.baRelation=="splitBefore"){const vn=sn.insertionPosition.path.slice();vn.push(0);const bn=new wo(sn.insertionPosition.root,vn);return[yn,new Ts(yn.insertionPosition,1,bn,0)]}return yn.splitPosition.hasSameParentAs(sn.splitPosition)&&yn.splitPosition.offset<sn.splitPosition.offset&&(yn.howMany-=sn.howMany),yn.splitPosition=yn.splitPosition._getTransformedBySplitOperation(sn),yn.insertionPosition=Ws.getInsertionPosition(yn.splitPosition),[yn]});class uc extends ti(wo){constructor(sn,dn,vn="toNone"){if(super(sn,dn,vn),!this.root.is("rootElement"))throw new Nn("model-liveposition-root-not-rootelement",sn);fk.call(this)}detach(){this.stopListening()}toPosition(){return new wo(this.root,this.path.slice(),this.stickiness)}static fromPosition(sn,dn){return new this(sn.root,sn.path.slice(),dn||sn.stickiness)}}function fk(){this.listenTo(this.root.document.model,"applyOperation",(yn,sn)=>{const dn=sn[0];dn.isDocumentOperation&&hk.call(this,dn)},{priority:"low"})}function hk(yn){const sn=this.getTransformedByOperation(yn);if(!this.isEqual(sn)){const dn=this.toPosition();this.path=sn.path,this.root=sn.root,this.fire("change",dn)}}uc.prototype.is=function(yn){return yn==="livePosition"||yn==="model:livePosition"||yn=="position"||yn==="model:position"};class jf{constructor(sn={}){typeof sn=="string"&&(sn=sn==="transparent"?{isUndoable:!1}:{},Hn("batch-constructor-deprecated-string-type"));const{isUndoable:dn=!0,isLocal:vn=!0,isUndo:bn=!1,isTyping:An=!1}=sn;this.operations=[],this.isUndoable=dn,this.isLocal=vn,this.isUndo=bn,this.isTyping=An}get type(){return Hn("batch-type-deprecated"),"default"}get baseVersion(){for(const sn of this.operations)if(sn.baseVersion!==null)return sn.baseVersion;return null}addOperation(sn){return sn.batch=this,this.operations.push(sn),sn}}var pk=Object.defineProperty,jm=Object.getOwnPropertySymbols,gk=Object.prototype.hasOwnProperty,vk=Object.prototype.propertyIsEnumerable,Um=(yn,sn,dn)=>sn in yn?pk(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn;class mk{constructor(sn){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=sn}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(sn){const dn=sn;switch(dn.type){case"insert":if(this._isInInsertedElement(dn.position.parent))return;this._markInsert(dn.position.parent,dn.position.offset,dn.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const vn of dn.range.getItems({shallow:!0}))this._isInInsertedElement(vn.parent)||this._markAttribute(vn);break;case"remove":case"move":case"reinsert":{if(dn.sourcePosition.isEqual(dn.targetPosition)||dn.sourcePosition.getShiftedBy(dn.howMany).isEqual(dn.targetPosition))return;const vn=this._isInInsertedElement(dn.sourcePosition.parent),bn=this._isInInsertedElement(dn.targetPosition.parent);vn||this._markRemove(dn.sourcePosition.parent,dn.sourcePosition.offset,dn.howMany),bn||this._markInsert(dn.targetPosition.parent,dn.getMovedRangeStart().offset,dn.howMany);break}case"rename":{if(this._isInInsertedElement(dn.position.parent))return;this._markRemove(dn.position.parent,dn.position.offset,1),this._markInsert(dn.position.parent,dn.position.offset,1);const vn=eo._createFromPositionAndShift(dn.position,1);for(const bn of this._markerCollection.getMarkersIntersectingRange(vn)){const An=bn.getData();this.bufferMarkerChange(bn.name,An,An)}break}case"split":{const vn=dn.splitPosition.parent;this._isInInsertedElement(vn)||this._markRemove(vn,dn.splitPosition.offset,dn.howMany),this._isInInsertedElement(dn.insertionPosition.parent)||this._markInsert(dn.insertionPosition.parent,dn.insertionPosition.offset,1),dn.graveyardPosition&&this._markRemove(dn.graveyardPosition.parent,dn.graveyardPosition.offset,1);break}case"merge":{const vn=dn.sourcePosition.parent;this._isInInsertedElement(vn.parent)||this._markRemove(vn.parent,vn.startOffset,1);const bn=dn.graveyardPosition.parent;this._markInsert(bn,dn.graveyardPosition.offset,1);const An=dn.targetPosition.parent;this._isInInsertedElement(An)||this._markInsert(An,dn.targetPosition.offset,vn.maxOffset);break}case"detachRoot":case"addRoot":this._bufferRootStateChange(dn.rootName,dn.isAdd);break;case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const vn=dn.root.rootName;this._bufferRootAttributeChange(vn,dn.key,dn.oldValue,dn.newValue);break}}this._cachedChanges=null}bufferMarkerChange(sn,dn,vn){const bn=this._changedMarkers.get(sn);bn?(bn.newMarkerData=vn,bn.oldMarkerData.range==null&&vn.range==null&&this._changedMarkers.delete(sn)):this._changedMarkers.set(sn,{newMarkerData:vn,oldMarkerData:dn})}getMarkersToRemove(){const sn=[];for(const[dn,vn]of this._changedMarkers)vn.oldMarkerData.range!=null&&sn.push({name:dn,range:vn.oldMarkerData.range});return sn}getMarkersToAdd(){const sn=[];for(const[dn,vn]of this._changedMarkers)vn.newMarkerData.range!=null&&sn.push({name:dn,range:vn.newMarkerData.range});return sn}getChangedMarkers(){return Array.from(this._changedMarkers).map(([sn,dn])=>({name:sn,data:{oldRange:dn.oldMarkerData.range,newRange:dn.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:sn,oldMarkerData:dn}of this._changedMarkers.values()){if(sn.affectsData!==dn.affectsData)return!0;if(sn.affectsData){const vn=sn.range&&!dn.range,bn=!sn.range&&dn.range,An=sn.range&&dn.range&&!sn.range.isEqual(dn.range);if(vn||bn||An)return!0}}return!1}getChanges(sn={}){if(this._cachedChanges)return sn.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let dn=[];for(const vn of this._changesInElement.keys()){const bn=this._changesInElement.get(vn).sort((Gn,Kn)=>Gn.offset===Kn.offset?Gn.type!=Kn.type?Gn.type=="remove"?-1:1:0:Gn.offset<Kn.offset?-1:1),An=this._elementSnapshots.get(vn),Dn=Gm(vn.getChildren()),Ln=yk(An.length,bn);let Bn=0,Vn=0;for(const Gn of Ln)if(Gn==="i")dn.push(this._getInsertDiff(vn,Bn,Dn[Bn])),Bn++;else if(Gn==="r")dn.push(this._getRemoveDiff(vn,Bn,An[Vn])),Vn++;else if(Gn==="a"){const Kn=Dn[Bn].attributes,$r=An[Vn].attributes;let Yr;if(Dn[Bn].name=="$text")Yr=new eo(wo._createAt(vn,Bn),wo._createAt(vn,Bn+1));else{const Qr=vn.offsetToIndex(Bn);Yr=new eo(wo._createAt(vn,Bn),wo._createAt(vn.getChild(Qr),0))}dn.push(...this._getAttributesDiff(Yr,$r,Kn)),Bn++,Vn++}else Bn++,Vn++}dn.sort((vn,bn)=>vn.position.root!=bn.position.root?vn.position.root.rootName<bn.position.root.rootName?-1:1:vn.position.isEqual(bn.position)?vn.changeCount-bn.changeCount:vn.position.isBefore(bn.position)?-1:1);for(let vn=1,bn=0;vn<dn.length;vn++){const An=dn[bn],Dn=dn[vn],Ln=An.type=="remove"&&Dn.type=="remove"&&An.name=="$text"&&Dn.name=="$text"&&An.position.isEqual(Dn.position),Bn=An.type=="insert"&&Dn.type=="insert"&&An.name=="$text"&&Dn.name=="$text"&&An.position.parent==Dn.position.parent&&An.position.offset+An.length==Dn.position.offset,Vn=An.type=="attribute"&&Dn.type=="attribute"&&An.position.parent==Dn.position.parent&&An.range.isFlat&&Dn.range.isFlat&&An.position.offset+An.length==Dn.position.offset&&An.attributeKey==Dn.attributeKey&&An.attributeOldValue==Dn.attributeOldValue&&An.attributeNewValue==Dn.attributeNewValue;Ln||Bn||Vn?(An.length++,Vn&&(An.range.end=An.range.end.getShiftedBy(1)),dn[vn]=null):bn=vn}dn=dn.filter(vn=>vn);for(const vn of dn)delete vn.changeCount,vn.type=="attribute"&&(delete vn.position,delete vn.length);return this._changeCount=0,this._cachedChangesWithGraveyard=dn,this._cachedChanges=dn.filter(bk),sn.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(sn=>{const dn=((vn,bn)=>{for(var An in bn||(bn={}))gk.call(bn,An)&&Um(vn,An,bn[An]);if(jm)for(var An of jm(bn))vk.call(bn,An)&&Um(vn,An,bn[An]);return vn})({},sn);return dn.state!==void 0&&delete dn.attributes,dn})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(sn,dn){if(!this._changedRoots.has(sn))return void this._changedRoots.set(sn,{name:sn,state:dn?"attached":"detached"});const vn=this._changedRoots.get(sn);vn.state!==void 0?(delete vn.state,vn.attributes===void 0&&this._changedRoots.delete(sn)):vn.state=dn?"attached":"detached"}_bufferRootAttributeChange(sn,dn,vn,bn){const An=this._changedRoots.get(sn)||{name:sn},Dn=An.attributes||{};if(Dn[dn]){const Ln=Dn[dn];bn===Ln.oldValue?delete Dn[dn]:Ln.newValue=bn}else Dn[dn]={oldValue:vn,newValue:bn};Object.entries(Dn).length===0?(delete An.attributes,An.state===void 0&&this._changedRoots.delete(sn)):(An.attributes=Dn,this._changedRoots.set(sn,An))}_refreshItem(sn){if(this._isInInsertedElement(sn.parent))return;this._markRemove(sn.parent,sn.startOffset,sn.offsetSize),this._markInsert(sn.parent,sn.startOffset,sn.offsetSize),this._refreshedItems.add(sn);const dn=eo._createOn(sn);for(const vn of this._markerCollection.getMarkersIntersectingRange(dn)){const bn=vn.getData();this.bufferMarkerChange(vn.name,bn,bn)}this._cachedChanges=null}_markInsert(sn,dn,vn){const bn={type:"insert",offset:dn,howMany:vn,count:this._changeCount++};this._markChange(sn,bn)}_markRemove(sn,dn,vn){const bn={type:"remove",offset:dn,howMany:vn,count:this._changeCount++};this._markChange(sn,bn),this._removeAllNestedChanges(sn,dn,vn)}_markAttribute(sn){const dn={type:"attribute",offset:sn.startOffset,howMany:sn.offsetSize,count:this._changeCount++};this._markChange(sn.parent,dn)}_markChange(sn,dn){this._makeSnapshot(sn);const vn=this._getChangesForElement(sn);this._handleChange(dn,vn),vn.push(dn);for(let bn=0;bn<vn.length;bn++)vn[bn].howMany<1&&(vn.splice(bn,1),bn--)}_getChangesForElement(sn){let dn;return this._changesInElement.has(sn)?dn=this._changesInElement.get(sn):(dn=[],this._changesInElement.set(sn,dn)),dn}_makeSnapshot(sn){this._elementSnapshots.has(sn)||this._elementSnapshots.set(sn,Gm(sn.getChildren()))}_handleChange(sn,dn){sn.nodesToHandle=sn.howMany;for(const vn of dn){const bn=sn.offset+sn.howMany,An=vn.offset+vn.howMany;if(sn.type=="insert"&&(vn.type=="insert"&&(sn.offset<=vn.offset?vn.offset+=sn.howMany:sn.offset<An&&(vn.howMany+=sn.nodesToHandle,sn.nodesToHandle=0)),vn.type=="remove"&&sn.offset<vn.offset&&(vn.offset+=sn.howMany),vn.type=="attribute")){if(sn.offset<=vn.offset)vn.offset+=sn.howMany;else if(sn.offset<An){const Dn=vn.howMany;vn.howMany=sn.offset-vn.offset,dn.unshift({type:"attribute",offset:bn,howMany:Dn-vn.howMany,count:this._changeCount++})}}if(sn.type=="remove"){if(vn.type=="insert"){if(bn<=vn.offset)vn.offset-=sn.howMany;else if(bn<=An)if(sn.offset<vn.offset){const Dn=bn-vn.offset;vn.offset=sn.offset,vn.howMany-=Dn,sn.nodesToHandle-=Dn}else vn.howMany-=sn.nodesToHandle,sn.nodesToHandle=0;else if(sn.offset<=vn.offset)sn.nodesToHandle-=vn.howMany,vn.howMany=0;else if(sn.offset<An){const Dn=An-sn.offset;vn.howMany-=Dn,sn.nodesToHandle-=Dn}}if(vn.type=="remove"&&(bn<=vn.offset?vn.offset-=sn.howMany:sn.offset<vn.offset&&(sn.nodesToHandle+=vn.howMany,vn.howMany=0)),vn.type=="attribute"){if(bn<=vn.offset)vn.offset-=sn.howMany;else if(sn.offset<vn.offset){const Dn=bn-vn.offset;vn.offset=sn.offset,vn.howMany-=Dn}else if(sn.offset<An)if(bn<=An){const Dn=vn.howMany;vn.howMany=sn.offset-vn.offset;const Ln=Dn-vn.howMany-sn.nodesToHandle;dn.unshift({type:"attribute",offset:sn.offset,howMany:Ln,count:this._changeCount++})}else vn.howMany-=An-sn.offset}}if(sn.type=="attribute"){if(vn.type=="insert")if(sn.offset<vn.offset&&bn>vn.offset){if(bn>An){const Dn={type:"attribute",offset:An,howMany:bn-An,count:this._changeCount++};this._handleChange(Dn,dn),dn.push(Dn)}sn.nodesToHandle=vn.offset-sn.offset,sn.howMany=sn.nodesToHandle}else sn.offset>=vn.offset&&sn.offset<An&&(bn>An?(sn.nodesToHandle=bn-An,sn.offset=An):sn.nodesToHandle=0);if(vn.type=="remove"&&sn.offset<vn.offset&&bn>vn.offset){const Dn={type:"attribute",offset:vn.offset,howMany:bn-vn.offset,count:this._changeCount++};this._handleChange(Dn,dn),dn.push(Dn),sn.nodesToHandle=vn.offset-sn.offset,sn.howMany=sn.nodesToHandle}vn.type=="attribute"&&(sn.offset>=vn.offset&&bn<=An?(sn.nodesToHandle=0,sn.howMany=0,sn.offset=0):sn.offset<=vn.offset&&bn>=An&&(vn.howMany=0))}}sn.howMany=sn.nodesToHandle,delete sn.nodesToHandle}_getInsertDiff(sn,dn,vn){return{type:"insert",position:wo._createAt(sn,dn),name:vn.name,attributes:new Map(vn.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(sn,dn,vn){return{type:"remove",position:wo._createAt(sn,dn),name:vn.name,attributes:new Map(vn.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(sn,dn,vn){const bn=[];vn=new Map(vn);for(const[An,Dn]of dn){const Ln=vn.has(An)?vn.get(An):null;Ln!==Dn&&bn.push({type:"attribute",position:sn.start,range:sn.clone(),length:1,attributeKey:An,attributeOldValue:Dn,attributeNewValue:Ln,changeCount:this._changeCount++}),vn.delete(An)}for(const[An,Dn]of vn)bn.push({type:"attribute",position:sn.start,range:sn.clone(),length:1,attributeKey:An,attributeOldValue:null,attributeNewValue:Dn,changeCount:this._changeCount++});return bn}_isInInsertedElement(sn){const dn=sn.parent;if(!dn)return!1;const vn=this._changesInElement.get(dn),bn=sn.startOffset;if(vn){for(const An of vn)if(An.type=="insert"&&bn>=An.offset&&bn<An.offset+An.howMany)return!0}return this._isInInsertedElement(dn)}_removeAllNestedChanges(sn,dn,vn){const bn=new eo(wo._createAt(sn,dn),wo._createAt(sn,dn+vn));for(const An of bn.getItems({shallow:!0}))An.is("element")&&(this._elementSnapshots.delete(An),this._changesInElement.delete(An),this._removeAllNestedChanges(An,0,An.maxOffset))}}function Gm(yn){const sn=[];for(const dn of yn)if(dn.is("$text"))for(let vn=0;vn<dn.data.length;vn++)sn.push({name:"$text",attributes:new Map(dn.getAttributes())});else sn.push({name:dn.name,attributes:new Map(dn.getAttributes())});return sn}function yk(yn,sn){const dn=[];let vn=0,bn=0;for(const An of sn){if(An.offset>vn){for(let Dn=0;Dn<An.offset-vn;Dn++)dn.push("e");bn+=An.offset-vn}if(An.type=="insert"){for(let Dn=0;Dn<An.howMany;Dn++)dn.push("i");vn=An.offset+An.howMany}else if(An.type=="remove"){for(let Dn=0;Dn<An.howMany;Dn++)dn.push("r");vn=An.offset,bn+=An.howMany}else dn.push(..."a".repeat(An.howMany).split("")),vn=An.offset+An.howMany,bn+=An.howMany}if(bn<yn)for(let An=0;An<yn-bn-vn;An++)dn.push("e");return dn}function bk(yn){const sn="position"in yn&&yn.position.root.rootName=="$graveyard",dn="range"in yn&&yn.range.root.rootName=="$graveyard";return!sn&&!dn}class _k{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(sn){this._operations.length&&sn>this._version+1&&this._gaps.set(this._version,sn),this._version=sn}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(sn){if(sn.baseVersion!==this.version)throw new Nn("model-document-history-addoperation-incorrect-version",this,{operation:sn,historyVersion:this.version});this._operations.push(sn),this._version++,this._baseVersionToOperationIndex.set(sn.baseVersion,this._operations.length-1)}getOperations(sn,dn=this.version){if(!this._operations.length)return[];const vn=this._operations[0];sn===void 0&&(sn=vn.baseVersion);let bn=dn-1;for(const[Ln,Bn]of this._gaps)sn>Ln&&sn<Bn&&(sn=Bn),bn>Ln&&bn<Bn&&(bn=Ln-1);if(bn<vn.baseVersion||sn>this.lastOperation.baseVersion)return[];let An=this._baseVersionToOperationIndex.get(sn);An===void 0&&(An=0);let Dn=this._baseVersionToOperationIndex.get(bn);return Dn===void 0&&(Dn=this._operations.length-1),this._operations.slice(An,Dn+1)}getOperation(sn){const dn=this._baseVersionToOperationIndex.get(sn);if(dn!==void 0)return this._operations[dn]}setOperationAsUndone(sn,dn){this._undoPairs.set(dn,sn),this._undoneOperations.add(sn)}isUndoingOperation(sn){return this._undoPairs.has(sn)}isUndoneOperation(sn){return this._undoneOperations.has(sn)}getUndoneOperation(sn){return this._undoPairs.get(sn)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Fp extends Rs{constructor(sn,dn,vn="main"){super(dn),this._isAttached=!0,this._document=sn,this.rootName=vn}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Fp.prototype.is=function(yn,sn){return sn?sn===this.name&&(yn==="rootElement"||yn==="model:rootElement"||yn==="element"||yn==="model:element"):yn==="rootElement"||yn==="model:rootElement"||yn==="element"||yn==="model:element"||yn==="node"||yn==="model:node"};var wk=Object.defineProperty,kk=Object.defineProperties,Ak=Object.getOwnPropertyDescriptors,Wm=Object.getOwnPropertySymbols,Ck=Object.prototype.hasOwnProperty,xk=Object.prototype.propertyIsEnumerable,qm=(yn,sn,dn)=>sn in yn?wk(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn,Ym=(yn,sn)=>{for(var dn in sn||(sn={}))Ck.call(sn,dn)&&qm(yn,dn,sn[dn]);if(Wm)for(var dn of Wm(sn))xk.call(sn,dn)&&qm(yn,dn,sn[dn]);return yn},Km=(yn,sn)=>kk(yn,Ak(sn));const zg="$graveyard";class Sk extends ti(){constructor(sn){super(),this.model=sn,this.history=new _k,this.selection=new Du(this),this.roots=new Fc({idProperty:"rootName"}),this.differ=new mk(sn.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",zg),this.listenTo(sn,"applyOperation",(dn,vn)=>{const bn=vn[0];bn.isDocumentOperation&&this.differ.bufferOperation(bn)},{priority:"high"}),this.listenTo(sn,"applyOperation",(dn,vn)=>{const bn=vn[0];bn.isDocumentOperation&&this.history.addOperation(bn)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(sn.markers,"update",(dn,vn,bn,An,Dn)=>{const Ln=Km(Ym({},vn.getData()),{range:An});this.differ.bufferMarkerChange(vn.name,Dn,Ln),bn===null&&vn.on("change",(Bn,Vn)=>{const Gn=vn.getData();this.differ.bufferMarkerChange(vn.name,Km(Ym({},Gn),{range:Vn}),Gn)})}),this.registerPostFixer(dn=>{let vn=!1;for(const bn of this.roots)bn.isAttached()||bn.isEmpty||(dn.remove(dn.createRangeIn(bn)),vn=!0);for(const bn of this.model.markers)bn.getRange().root.isAttached()||(dn.removeMarker(bn),vn=!0);return vn})}get version(){return this.history.version}set version(sn){this.history.version=sn}get graveyard(){return this.getRoot(zg)}createRoot(sn="$root",dn="main"){if(this.roots.get(dn))throw new Nn("model-document-createroot-name-exists",this,{name:dn});const vn=new Fp(this,sn,dn);return this.roots.add(vn),vn}destroy(){this.selection.destroy(),this.stopListening()}getRoot(sn="main"){return this.roots.get(sn)}getRootNames(sn=!1){return Array.from(this.roots).filter(dn=>dn.rootName!=zg&&(sn||dn.isAttached())).map(dn=>dn.rootName)}registerPostFixer(sn){this._postFixers.add(sn)}toJSON(){const sn=Sd(this);return sn.selection="[engine.model.DocumentSelection]",sn.model="[engine.model.Model]",sn}_handleChangeBlock(sn){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(sn),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",sn.batch):this.fire("change",sn.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const sn of this.roots)if(sn!==this.graveyard)return sn;return this.graveyard}_getDefaultRange(){const sn=this._getDefaultRoot(),dn=this.model,vn=dn.schema,bn=dn.createPositionFromPath(sn,[0]);return vn.getNearestSelectionRange(bn)||dn.createRange(bn)}_validateSelectionRange(sn){return Zm(sn.start)&&Zm(sn.end)}_callPostFixers(sn){let dn=!1;do for(const vn of this._postFixers)if(this.selection.refresh(),dn=vn(sn),dn)break;while(dn)}}function Zm(yn){const sn=yn.textNode;if(sn){const dn=sn.data,vn=yn.offset-sn.startOffset;return!Bl(dn,vn)&&!fl(dn,vn)}return!0}var Ek=Object.defineProperty,Dk=Object.defineProperties,Tk=Object.getOwnPropertyDescriptors,Xm=Object.getOwnPropertySymbols,Mk=Object.prototype.hasOwnProperty,Ik=Object.prototype.propertyIsEnumerable,Qm=(yn,sn,dn)=>sn in yn?Ek(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn;class Lk extends ti(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(sn){const dn=sn instanceof Uf?sn.name:sn;return this._markers.has(dn)}get(sn){return this._markers.get(sn)||null}_set(sn,dn,vn=!1,bn=!1){const An=sn instanceof Uf?sn.name:sn;if(An.includes(","))throw new Nn("markercollection-incorrect-marker-name",this);const Dn=this._markers.get(An);if(Dn){const Gn=Dn.getData(),Kn=Dn.getRange();let $r=!1;return Kn.isEqual(dn)||(Dn._attachLiveRange(Eu.fromRange(dn)),$r=!0),vn!=Dn.managedUsingOperations&&(Dn._managedUsingOperations=vn,$r=!0),typeof bn=="boolean"&&bn!=Dn.affectsData&&(Dn._affectsData=bn,$r=!0),$r&&this.fire(`update:${An}`,Dn,Kn,dn,Gn),Dn}const Ln=Eu.fromRange(dn),Bn=new Uf(An,Ln,vn,bn);var Vn;return this._markers.set(An,Bn),this.fire(`update:${An}`,Bn,null,dn,(Vn=((Gn,Kn)=>{for(var $r in Kn||(Kn={}))Mk.call(Kn,$r)&&Qm(Gn,$r,Kn[$r]);if(Xm)for(var $r of Xm(Kn))Ik.call(Kn,$r)&&Qm(Gn,$r,Kn[$r]);return Gn})({},Bn.getData()),Dk(Vn,Tk({range:null})))),Bn}_remove(sn){const dn=sn instanceof Uf?sn.name:sn,vn=this._markers.get(dn);return!!vn&&(this._markers.delete(dn),this.fire(`update:${dn}`,vn,vn.getRange(),null,vn.getData()),this._destroyMarker(vn),!0)}_refresh(sn){const dn=sn instanceof Uf?sn.name:sn,vn=this._markers.get(dn);if(!vn)throw new Nn("markercollection-refresh-marker-not-exists",this);const bn=vn.getRange();this.fire(`update:${dn}`,vn,bn,bn,vn.getData())}*getMarkersAtPosition(sn){for(const dn of this)dn.getRange().containsPosition(sn)&&(yield dn)}*getMarkersIntersectingRange(sn){for(const dn of this)dn.getRange().getIntersection(sn)!==null&&(yield dn)}destroy(){for(const sn of this._markers.values())this._destroyMarker(sn);this._markers=null,this.stopListening()}*getMarkersGroup(sn){for(const dn of this._markers.values())dn.name.startsWith(sn+":")&&(yield dn)}_destroyMarker(sn){sn.stopListening(),sn._detachLiveRange()}}class Uf extends ti(Nd){constructor(sn,dn,vn,bn){super(),this.name=sn,this._liveRange=this._attachLiveRange(dn),this._managedUsingOperations=vn,this._affectsData=bn}get managedUsingOperations(){if(!this._liveRange)throw new Nn("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new Nn("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new Nn("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new Nn("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new Nn("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(sn){return this._liveRange&&this._detachLiveRange(),sn.delegate("change:range").to(this),sn.delegate("change:content").to(this),this._liveRange=sn,sn}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Uf.prototype.is=function(yn){return yn==="marker"||yn==="model:marker"};class Pk extends qc{constructor(sn,dn){super(null),this.sourcePosition=sn.clone(),this.howMany=dn}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const sn=super.toJSON();return sn.sourcePosition=this.sourcePosition.toJSON(),sn}_validate(){if(this.sourcePosition.root.document)throw new Nn("detach-operation-on-document-node",this)}_execute(){Om(eo._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class vd extends Nd{constructor(sn){super(),this.markers=new Map,this._children=new Gh,sn&&this._insertChild(0,sn)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(sn){return this._children.getNode(sn)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(sn){return this._children.getNodeIndex(sn)}getChildStartOffset(sn){return this._children.getNodeStartOffset(sn)}getPath(){return[]}getNodeByPath(sn){let dn=this;for(const vn of sn)dn=dn.getChild(dn.offsetToIndex(vn));return dn}offsetToIndex(sn){return this._children.offsetToIndex(sn)}toJSON(){const sn=[];for(const dn of this._children)sn.push(dn.toJSON());return sn}static fromJSON(sn){const dn=[];for(const vn of sn)vn.name?dn.push(Rs.fromJSON(vn)):dn.push(Gs.fromJSON(vn));return new vd(dn)}_appendChild(sn){this._insertChild(this.childCount,sn)}_insertChild(sn,dn){const vn=function(bn){return typeof bn=="string"?[new Gs(bn)]:(Mi(bn)||(bn=[bn]),Array.from(bn).map(An=>typeof An=="string"?new Gs(An):An instanceof Su?new Gs(An.data,An.getAttributes()):An))}(dn);for(const bn of vn)bn.parent!==null&&bn._remove(),bn.parent=this;this._children._insertNodes(sn,vn)}_removeChildren(sn,dn=1){const vn=this._children._removeNodes(sn,dn);for(const bn of vn)bn.parent=null;return vn}}vd.prototype.is=function(yn){return yn==="documentFragment"||yn==="model:documentFragment"};class Ok{constructor(sn,dn){this.model=sn,this.batch=dn}createText(sn,dn){return new Gs(sn,dn)}createElement(sn,dn){return new Rs(sn,dn)}createDocumentFragment(){return new vd}cloneElement(sn,dn=!0){return sn._clone(dn)}insert(sn,dn,vn=0){if(this._assertWriterUsedCorrectly(),sn instanceof Gs&&sn.data=="")return;const bn=wo._createAt(dn,vn);if(sn.parent){if(ty(sn.root,bn.root))return void this.move(eo._createOn(sn),bn);if(sn.root.document)throw new Nn("model-writer-insert-forbidden-move",this);this.remove(sn)}const An=bn.root.document?bn.root.document.version:null,Dn=new ec(bn,sn,An);if(sn instanceof Gs&&(Dn.shouldReceiveAttributes=!0),this.batch.addOperation(Dn),this.model.applyOperation(Dn),sn instanceof vd)for(const[Ln,Bn]of sn.markers){const Vn=wo._createAt(Bn.root,0),Gn={range:new eo(Bn.start._getCombined(Vn,bn),Bn.end._getCombined(Vn,bn)),usingOperation:!0,affectsData:!0};this.model.markers.has(Ln)?this.updateMarker(Ln,Gn):this.addMarker(Ln,Gn)}}insertText(sn,dn,vn,bn){dn instanceof vd||dn instanceof Rs||dn instanceof wo?this.insert(this.createText(sn),dn,vn):this.insert(this.createText(sn,dn),vn,bn)}insertElement(sn,dn,vn,bn){dn instanceof vd||dn instanceof Rs||dn instanceof wo?this.insert(this.createElement(sn),dn,vn):this.insert(this.createElement(sn,dn),vn,bn)}append(sn,dn){this.insert(sn,dn,"end")}appendText(sn,dn,vn){dn instanceof vd||dn instanceof Rs?this.insert(this.createText(sn),dn,"end"):this.insert(this.createText(sn,dn),vn,"end")}appendElement(sn,dn,vn){dn instanceof vd||dn instanceof Rs?this.insert(this.createElement(sn),dn,"end"):this.insert(this.createElement(sn,dn),vn,"end")}setAttribute(sn,dn,vn){if(this._assertWriterUsedCorrectly(),vn instanceof eo){const bn=vn.getMinimalFlatRanges();for(const An of bn)Jm(this,sn,dn,An)}else ey(this,sn,dn,vn)}setAttributes(sn,dn){for(const[vn,bn]of nl(sn))this.setAttribute(vn,bn,dn)}removeAttribute(sn,dn){if(this._assertWriterUsedCorrectly(),dn instanceof eo){const vn=dn.getMinimalFlatRanges();for(const bn of vn)Jm(this,sn,null,bn)}else ey(this,sn,null,dn)}clearAttributes(sn){this._assertWriterUsedCorrectly();const dn=vn=>{for(const bn of vn.getAttributeKeys())this.removeAttribute(bn,vn)};if(sn instanceof eo)for(const vn of sn.getItems())dn(vn);else dn(sn)}move(sn,dn,vn){if(this._assertWriterUsedCorrectly(),!(sn instanceof eo))throw new Nn("writer-move-invalid-range",this);if(!sn.isFlat)throw new Nn("writer-move-range-not-flat",this);const bn=wo._createAt(dn,vn);if(bn.isEqual(sn.start))return;if(this._addOperationForAffectedMarkers("move",sn),!ty(sn.root,bn.root))throw new Nn("writer-move-different-document",this);const An=sn.root.document?sn.root.document.version:null,Dn=new Ts(sn.start,sn.end.offset-sn.start.offset,bn,An);this.batch.addOperation(Dn),this.model.applyOperation(Dn)}remove(sn){this._assertWriterUsedCorrectly();const dn=(sn instanceof eo?sn:eo._createOn(sn)).getMinimalFlatRanges().reverse();for(const vn of dn)this._addOperationForAffectedMarkers("move",vn),Rk(vn.start,vn.end.offset-vn.start.offset,this.batch,this.model)}merge(sn){this._assertWriterUsedCorrectly();const dn=sn.nodeBefore,vn=sn.nodeAfter;if(this._addOperationForAffectedMarkers("merge",sn),!(dn instanceof Rs))throw new Nn("writer-merge-no-element-before",this);if(!(vn instanceof Rs))throw new Nn("writer-merge-no-element-after",this);sn.root.document?this._merge(sn):this._mergeDetached(sn)}createPositionFromPath(sn,dn,vn){return this.model.createPositionFromPath(sn,dn,vn)}createPositionAt(sn,dn){return this.model.createPositionAt(sn,dn)}createPositionAfter(sn){return this.model.createPositionAfter(sn)}createPositionBefore(sn){return this.model.createPositionBefore(sn)}createRange(sn,dn){return this.model.createRange(sn,dn)}createRangeIn(sn){return this.model.createRangeIn(sn)}createRangeOn(sn){return this.model.createRangeOn(sn)}createSelection(...sn){return this.model.createSelection(...sn)}_mergeDetached(sn){const dn=sn.nodeBefore,vn=sn.nodeAfter;this.move(eo._createIn(vn),wo._createAt(dn,"end")),this.remove(vn)}_merge(sn){const dn=wo._createAt(sn.nodeBefore,"end"),vn=wo._createAt(sn.nodeAfter,0),bn=sn.root.document.graveyard,An=new wo(bn,[0]),Dn=sn.root.document.version,Ln=new kl(vn,sn.nodeAfter.maxOffset,dn,An,Dn);this.batch.addOperation(Ln),this.model.applyOperation(Ln)}rename(sn,dn){if(this._assertWriterUsedCorrectly(),!(sn instanceof Rs))throw new Nn("writer-rename-not-element-instance",this);const vn=sn.root.document?sn.root.document.version:null,bn=new Pc(wo._createBefore(sn),sn.name,dn,vn);this.batch.addOperation(bn),this.model.applyOperation(bn)}split(sn,dn){this._assertWriterUsedCorrectly();let vn,bn,An=sn.parent;if(!An.parent)throw new Nn("writer-split-element-no-parent",this);if(dn||(dn=An.parent),!sn.parent.getAncestors({includeSelf:!0}).includes(dn))throw new Nn("writer-split-invalid-limit-element",this);do{const Dn=An.root.document?An.root.document.version:null,Ln=An.maxOffset-sn.offset,Bn=Ws.getInsertionPosition(sn),Vn=new Ws(sn,Ln,Bn,null,Dn);this.batch.addOperation(Vn),this.model.applyOperation(Vn),vn||bn||(vn=An,bn=sn.parent.nextSibling),An=(sn=this.createPositionAfter(sn.parent)).parent}while(An!==dn);return{position:sn,range:new eo(wo._createAt(vn,"end"),wo._createAt(bn,0))}}wrap(sn,dn){if(this._assertWriterUsedCorrectly(),!sn.isFlat)throw new Nn("writer-wrap-range-not-flat",this);const vn=dn instanceof Rs?dn:new Rs(dn);if(vn.childCount>0)throw new Nn("writer-wrap-element-not-empty",this);if(vn.parent!==null)throw new Nn("writer-wrap-element-attached",this);this.insert(vn,sn.start);const bn=new eo(sn.start.getShiftedBy(1),sn.end.getShiftedBy(1));this.move(bn,wo._createAt(vn,0))}unwrap(sn){if(this._assertWriterUsedCorrectly(),sn.parent===null)throw new Nn("writer-unwrap-element-no-parent",this);this.move(eo._createIn(sn),this.createPositionAfter(sn)),this.remove(sn)}addMarker(sn,dn){if(this._assertWriterUsedCorrectly(),!dn||typeof dn.usingOperation!="boolean")throw new Nn("writer-addmarker-no-usingoperation",this);const vn=dn.usingOperation,bn=dn.range,An=dn.affectsData!==void 0&&dn.affectsData;if(this.model.markers.has(sn))throw new Nn("writer-addmarker-marker-exists",this);if(!bn)throw new Nn("writer-addmarker-no-range",this);return vn?(Qh(this,sn,null,bn,An),this.model.markers.get(sn)):this.model.markers._set(sn,bn,vn,An)}updateMarker(sn,dn){this._assertWriterUsedCorrectly();const vn=typeof sn=="string"?sn:sn.name,bn=this.model.markers.get(vn);if(!bn)throw new Nn("writer-updatemarker-marker-not-exists",this);if(!dn)return Hn("writer-updatemarker-reconvert-using-editingcontroller",{markerName:vn}),void this.model.markers._refresh(bn);const An=typeof dn.usingOperation=="boolean",Dn=typeof dn.affectsData=="boolean",Ln=Dn?dn.affectsData:bn.affectsData;if(!An&&!dn.range&&!Dn)throw new Nn("writer-updatemarker-wrong-options",this);const Bn=bn.getRange(),Vn=dn.range?dn.range:Bn;An&&dn.usingOperation!==bn.managedUsingOperations?dn.usingOperation?Qh(this,vn,null,Vn,Ln):(Qh(this,vn,Bn,null,Ln),this.model.markers._set(vn,Vn,void 0,Ln)):bn.managedUsingOperations?Qh(this,vn,Bn,Vn,Ln):this.model.markers._set(vn,Vn,void 0,Ln)}removeMarker(sn){this._assertWriterUsedCorrectly();const dn=typeof sn=="string"?sn:sn.name;if(!this.model.markers.has(dn))throw new Nn("writer-removemarker-no-marker",this);const vn=this.model.markers.get(dn);if(!vn.managedUsingOperations)return void this.model.markers._remove(dn);Qh(this,dn,vn.getRange(),null,vn.affectsData)}addRoot(sn,dn="$root"){this._assertWriterUsedCorrectly();const vn=this.model.document.getRoot(sn);if(vn&&vn.isAttached())throw new Nn("writer-addroot-root-exists",this);const bn=this.model.document,An=new Ku(sn,dn,!0,bn,bn.version);return this.batch.addOperation(An),this.model.applyOperation(An),this.model.document.getRoot(sn)}detachRoot(sn){this._assertWriterUsedCorrectly();const dn=typeof sn=="string"?this.model.document.getRoot(sn):sn;if(!dn||!dn.isAttached())throw new Nn("writer-detachroot-no-root",this);for(const An of this.model.markers)An.getRange().root===dn&&this.removeMarker(An);for(const An of dn.getAttributeKeys())this.removeAttribute(An,dn);this.remove(this.createRangeIn(dn));const vn=this.model.document,bn=new Ku(dn.rootName,dn.name,!1,vn,vn.version);this.batch.addOperation(bn),this.model.applyOperation(bn)}setSelection(...sn){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...sn)}setSelectionFocus(sn,dn){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(sn,dn)}setSelectionAttribute(sn,dn){if(this._assertWriterUsedCorrectly(),typeof sn=="string")this._setSelectionAttribute(sn,dn);else for(const[vn,bn]of nl(sn))this._setSelectionAttribute(vn,bn)}removeSelectionAttribute(sn){if(this._assertWriterUsedCorrectly(),typeof sn=="string")this._removeSelectionAttribute(sn);else for(const dn of sn)this._removeSelectionAttribute(dn)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(sn){this.model.document.selection._restoreGravity(sn)}_setSelectionAttribute(sn,dn){const vn=this.model.document.selection;if(vn.isCollapsed&&vn.anchor.parent.isEmpty){const bn=Du._getStoreAttributeKey(sn);this.setAttribute(bn,dn,vn.anchor.parent)}vn._setAttribute(sn,dn)}_removeSelectionAttribute(sn){const dn=this.model.document.selection;if(dn.isCollapsed&&dn.anchor.parent.isEmpty){const vn=Du._getStoreAttributeKey(sn);this.removeAttribute(vn,dn.anchor.parent)}dn._removeAttribute(sn)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Nn("writer-incorrect-use",this)}_addOperationForAffectedMarkers(sn,dn){for(const vn of this.model.markers){if(!vn.managedUsingOperations)continue;const bn=vn.getRange();let An=!1;if(sn==="move"){const Dn=dn;An=Dn.containsPosition(bn.start)||Dn.start.isEqual(bn.start)||Dn.containsPosition(bn.end)||Dn.end.isEqual(bn.end)}else{const Dn=dn,Ln=Dn.nodeBefore,Bn=Dn.nodeAfter,Vn=bn.start.parent==Ln&&bn.start.isAtEnd,Gn=bn.end.parent==Bn&&bn.end.offset==0,Kn=bn.end.nodeAfter==Bn,$r=bn.start.nodeAfter==Bn;An=Vn||Gn||Kn||$r}An&&this.updateMarker(vn.name,{range:bn})}}}function Jm(yn,sn,dn,vn){const bn=yn.model,An=bn.document;let Dn,Ln,Bn,Vn=vn.start;for(const Kn of vn.getWalker({shallow:!0}))Bn=Kn.item.getAttribute(sn),Dn&&Ln!=Bn&&(Ln!=dn&&Gn(),Vn=Dn),Dn=Kn.nextPosition,Ln=Bn;function Gn(){const Kn=new eo(Vn,Dn),$r=Kn.root.document?An.version:null,Yr=new Ml(Kn,sn,Ln,dn,$r);yn.batch.addOperation(Yr),bn.applyOperation(Yr)}Dn instanceof wo&&Dn!=Vn&&Ln!=dn&&Gn()}function ey(yn,sn,dn,vn){const bn=yn.model,An=bn.document,Dn=vn.getAttribute(sn);let Ln,Bn;if(Dn!=dn){if(vn.root===vn){const Vn=vn.document?An.version:null;Bn=new gd(vn,sn,Dn,dn,Vn)}else{Ln=new eo(wo._createBefore(vn),yn.createPositionAfter(vn));const Vn=Ln.root.document?An.version:null;Bn=new Ml(Ln,sn,Dn,dn,Vn)}yn.batch.addOperation(Bn),bn.applyOperation(Bn)}}function Qh(yn,sn,dn,vn,bn){const An=yn.model,Dn=An.document,Ln=new Lc(sn,dn,vn,An.markers,!!bn,Dn.version);yn.batch.addOperation(Ln),An.applyOperation(Ln)}function Rk(yn,sn,dn,vn){let bn;if(yn.root.document){const An=vn.document,Dn=new wo(An.graveyard,[0]);bn=new Ts(yn,sn,Dn,An.version)}else bn=new Pk(yn,sn);dn.addOperation(bn),vn.applyOperation(bn)}function ty(yn,sn){return yn===sn||yn instanceof Fp&&sn instanceof Fp}function Nk(yn,sn,dn={}){if(sn.isCollapsed)return;const vn=sn.getFirstRange();if(vn.root.rootName=="$graveyard")return;const bn=yn.schema;yn.change(An=>{if(!dn.doNotResetEntireContent&&function(Vn,Gn){const Kn=Vn.getLimitElement(Gn);if(!Gn.containsEntireContent(Kn))return!1;const $r=Gn.getFirstRange();return $r.start.parent==$r.end.parent?!1:Vn.checkChild(Kn,"paragraph")}(bn,sn))return void function(Vn,Gn){const Kn=Vn.model.schema.getLimitElement(Gn);Vn.remove(Vn.createRangeIn(Kn)),iy(Vn,Vn.createPositionAt(Kn,0),Gn)}(An,sn);const Dn={};if(!dn.doNotAutoparagraph){const Vn=sn.getSelectedElement();Vn&&Object.assign(Dn,bn.getAttributesWithProperty(Vn,"copyOnReplace",!0))}const[Ln,Bn]=function(Vn){const Gn=Vn.root.document.model,Kn=Vn.start;let $r=Vn.end;if(Gn.hasContent(Vn,{ignoreMarkers:!0})){const Yr=function(Qr){const si=Qr.parent,hi=si.root.document.model.schema,wi=si.getAncestors({parentFirst:!0,includeSelf:!0});for(const zi of wi){if(hi.isLimit(zi))return null;if(hi.isBlock(zi))return zi}}($r);if(Yr&&$r.isTouching(Gn.createPositionAt(Yr,0))){const Qr=Gn.createSelection(Vn);Gn.modifySelection(Qr,{direction:"backward"});const si=Qr.getLastPosition(),hi=Gn.createRange(si,$r);Gn.hasContent(hi,{ignoreMarkers:!0})||($r=si)}}return[uc.fromPosition(Kn,"toPrevious"),uc.fromPosition($r,"toNext")]}(vn);Ln.isTouching(Bn)||An.remove(An.createRange(Ln,Bn)),dn.leaveUnmerged||(function(Vn,Gn,Kn){const $r=Vn.model;if(!Hg(Vn.model.schema,Gn,Kn))return;const[Yr,Qr]=function(si,hi){const wi=si.getAncestors(),zi=hi.getAncestors();let so=0;for(;wi[so]&&wi[so]==zi[so];)so++;return[wi[so],zi[so]]}(Gn,Kn);!Yr||!Qr||(!$r.hasContent(Yr,{ignoreMarkers:!0})&&$r.hasContent(Qr,{ignoreMarkers:!0})?ry(Vn,Gn,Kn,Yr.parent):ny(Vn,Gn,Kn,Yr.parent))}(An,Ln,Bn),bn.removeDisallowedAttributes(Ln.parent.getChildren(),An)),oy(An,sn,Ln),!dn.doNotAutoparagraph&&function(Vn,Gn){const Kn=Vn.checkChild(Gn,"$text"),$r=Vn.checkChild(Gn,"paragraph");return!Kn&&$r}(bn,Ln)&&iy(An,Ln,sn,Dn),Ln.detach(),Bn.detach()})}function ny(yn,sn,dn,vn){const bn=sn.parent,An=dn.parent;if(bn!=vn&&An!=vn){for(sn=yn.createPositionAfter(bn),(dn=yn.createPositionBefore(An)).isEqual(sn)||yn.insert(An,sn),yn.merge(sn);dn.parent.isEmpty;){const Dn=dn.parent;dn=yn.createPositionBefore(Dn),yn.remove(Dn)}Hg(yn.model.schema,sn,dn)&&ny(yn,sn,dn,vn)}}function ry(yn,sn,dn,vn){const bn=sn.parent,An=dn.parent;if(bn!=vn&&An!=vn){for(sn=yn.createPositionAfter(bn),(dn=yn.createPositionBefore(An)).isEqual(sn)||yn.insert(bn,dn);sn.parent.isEmpty;){const Dn=sn.parent;sn=yn.createPositionBefore(Dn),yn.remove(Dn)}dn=yn.createPositionBefore(An),function(Dn,Ln){const Bn=Ln.nodeBefore,Vn=Ln.nodeAfter;Bn.name!=Vn.name&&Dn.rename(Bn,Vn.name),Dn.clearAttributes(Bn),Dn.setAttributes(Object.fromEntries(Vn.getAttributes()),Bn),Dn.merge(Ln)}(yn,dn),Hg(yn.model.schema,sn,dn)&&ry(yn,sn,dn,vn)}}function Hg(yn,sn,dn){const vn=sn.parent,bn=dn.parent;return vn!=bn&&!yn.isLimit(vn)&&!yn.isLimit(bn)&&function(An,Dn,Ln){const Bn=new eo(An,Dn);for(const Vn of Bn.getWalker())if(Ln.isLimit(Vn.item))return!1;return!0}(sn,dn,yn)}function iy(yn,sn,dn,vn={}){const bn=yn.createElement("paragraph");yn.model.schema.setAllowedAttributes(bn,vn,yn),yn.insert(bn,sn),oy(yn,dn,yn.createPositionAt(bn,0))}function oy(yn,sn,dn){sn instanceof Du?yn.setSelection(dn):sn.setTo(dn)}function ay(yn,sn){const dn=[];Array.from(yn.getItems({direction:"backward"})).map(vn=>sn.createRangeOn(vn)).filter(vn=>(vn.start.isAfter(yn.start)||vn.start.isEqual(yn.start))&&(vn.end.isBefore(yn.end)||vn.end.isEqual(yn.end))).forEach(vn=>{dn.push(vn.start.parent),sn.remove(vn)}),dn.forEach(vn=>{let bn=vn;for(;bn.parent&&bn.isEmpty;){const An=sn.createRangeOn(bn);bn=bn.parent,sn.remove(An)}})}class $k{constructor(sn,dn,vn){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=sn,this.writer=dn,this.position=vn,this.canMergeWith=new Set([this.position.parent]),this.schema=sn.schema,this._documentFragment=dn.createDocumentFragment(),this._documentFragmentPosition=dn.createPositionAt(this._documentFragment,0)}handleNodes(sn){for(const dn of Array.from(sn))this._handleNode(dn);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(sn){const dn=this.writer.createPositionAfter(this._lastNode),vn=this.writer.createPositionAfter(sn);if(vn.isAfter(dn)){if(this._lastNode=sn,this.position.parent!=sn||!this.position.isAtEnd)throw new Nn("insertcontent-invalid-insertion-position",this);this.position=vn,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?eo._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new eo(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(sn){if(this.schema.isObject(sn))return void this._handleObject(sn);let dn=this._checkAndAutoParagraphToAllowedPosition(sn);dn||(dn=this._checkAndSplitToAllowedPosition(sn),dn)?(this._appendToFragment(sn),this._firstNode||(this._firstNode=sn),this._lastNode=sn):this._handleDisallowedNode(sn)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const sn=uc.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=sn.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=sn.toPosition(),sn.detach()}_handleObject(sn){this._checkAndSplitToAllowedPosition(sn)?this._appendToFragment(sn):this._tryAutoparagraphing(sn)}_handleDisallowedNode(sn){sn.is("element")?this.handleNodes(sn.getChildren()):this._tryAutoparagraphing(sn)}_appendToFragment(sn){if(!this.schema.checkChild(this.position,sn))throw new Nn("insertcontent-wrong-position",this,{node:sn,position:this.position});this.writer.insert(sn,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(sn.offsetSize),this.schema.isObject(sn)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=sn:this._nodeToSelect=null,this._filterAttributesOf.push(sn)}_setAffectedBoundaries(sn){this._affectedStart||(this._affectedStart=uc.fromPosition(sn,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(sn)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=uc.fromPosition(sn,"toNext"))}_mergeOnLeft(){const sn=this._firstNode;if(!(sn instanceof Rs)||!this._canMergeLeft(sn))return;const dn=uc._createBefore(sn);dn.stickiness="toNext";const vn=uc.fromPosition(this.position,"toNext");this._affectedStart.isEqual(dn)&&(this._affectedStart.detach(),this._affectedStart=uc._createAt(dn.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=dn.nodeBefore,this._lastNode=dn.nodeBefore),this.writer.merge(dn),dn.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=uc._createAt(dn.nodeBefore,"end","toNext")),this.position=vn.toPosition(),vn.detach(),this._filterAttributesOf.push(this.position.parent),dn.detach()}_mergeOnRight(){const sn=this._lastNode;if(!(sn instanceof Rs)||!this._canMergeRight(sn))return;const dn=uc._createAfter(sn);if(dn.stickiness="toNext",!this.position.isEqual(dn))throw new Nn("insertcontent-invalid-insertion-position",this);this.position=wo._createAt(dn.nodeBefore,"end");const vn=uc.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(dn)&&(this._affectedEnd.detach(),this._affectedEnd=uc._createAt(dn.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=dn.nodeBefore,this._lastNode=dn.nodeBefore),this.writer.merge(dn),dn.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=uc._createAt(dn.nodeBefore,0,"toPrevious")),this.position=vn.toPosition(),vn.detach(),this._filterAttributesOf.push(this.position.parent),dn.detach()}_canMergeLeft(sn){const dn=sn.previousSibling;return dn instanceof Rs&&this.canMergeWith.has(dn)&&this.model.schema.checkMerge(dn,sn)}_canMergeRight(sn){const dn=sn.nextSibling;return dn instanceof Rs&&this.canMergeWith.has(dn)&&this.model.schema.checkMerge(sn,dn)}_tryAutoparagraphing(sn){const dn=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,dn)&&this.schema.checkChild(dn,sn)&&(dn._appendChild(sn),this._handleNode(dn))}_checkAndAutoParagraphToAllowedPosition(sn){if(this.schema.checkChild(this.position.parent,sn))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",sn))return!1;this._insertPartialFragment();const dn=this.writer.createElement("paragraph");return this.writer.insert(dn,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=dn,this.position=this.writer.createPositionAt(dn,0),!0}_checkAndSplitToAllowedPosition(sn){const dn=this._getAllowedIn(this.position.parent,sn);if(!dn)return!1;for(dn!=this.position.parent&&this._insertPartialFragment();dn!=this.position.parent;)if(this.position.isAtStart){const vn=this.position.parent;this.position=this.writer.createPositionBefore(vn),vn.isEmpty&&vn.parent===dn&&this.writer.remove(vn)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const vn=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=vn,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(sn,dn){return this.schema.checkChild(sn,dn)?sn:this.schema.isLimit(sn)?null:this._getAllowedIn(sn.parent,dn)}}function sy(yn,sn,dn="auto"){const vn=yn.getSelectedElement();if(vn&&sn.schema.isObject(vn)&&!sn.schema.isInline(vn))return dn=="before"||dn=="after"?sn.createRange(sn.createPositionAt(vn,dn)):sn.createRangeOn(vn);const bn=_l(yn.getSelectedBlocks());if(!bn)return sn.createRange(yn.focus);if(bn.isEmpty)return sn.createRange(sn.createPositionAt(bn,0));const An=sn.createPositionAfter(bn);return yn.focus.isTouching(An)?sn.createRange(An):sn.createRange(sn.createPositionBefore(bn))}function Bk(yn,sn,dn,vn={}){if(!yn.schema.isObject(sn))throw new Nn("insertobject-element-not-an-object",yn,{object:sn});const bn=dn||yn.document.selection;let An=bn;vn.findOptimalPosition&&yn.schema.isBlock(sn)&&(An=yn.createSelection(sy(bn,yn,vn.findOptimalPosition)));const Dn=_l(bn.getSelectedBlocks()),Ln={};return Dn&&Object.assign(Ln,yn.schema.getAttributesWithProperty(Dn,"copyOnReplace",!0)),yn.change(Bn=>{An.isCollapsed||yn.deleteContent(An,{doNotAutoparagraph:!0});let Vn=sn;const Gn=An.anchor.parent;!yn.schema.checkChild(Gn,sn)&&yn.schema.checkChild(Gn,"paragraph")&&yn.schema.checkChild("paragraph",sn)&&(Vn=Bn.createElement("paragraph"),Bn.insert(sn,Vn)),yn.schema.setAllowedAttributes(Vn,Ln,Bn);const Kn=yn.insertContent(Vn,An);return Kn.isCollapsed||vn.setSelection&&function($r,Yr,Qr,si){const hi=$r.model;if(Qr=="on")return void $r.setSelection(Yr,"on");if(Qr!="after")throw new Nn("insertobject-invalid-place-parameter-value",hi);let wi=Yr.nextSibling;if(hi.schema.isInline(Yr))return void $r.setSelection(Yr,"after");!(wi&&hi.schema.checkChild(wi,"$text"))&&hi.schema.checkChild(Yr.parent,"paragraph")&&(wi=$r.createElement("paragraph"),hi.schema.setAllowedAttributes(wi,si,$r),hi.insertContent(wi,$r.createPositionAfter(Yr))),wi&&$r.setSelection(wi,0)}(Bn,sn,vn.setSelection,Ln),Kn})}const Fk=' ,.?!:;"-()';function zk(yn,sn){const{isForward:dn,walker:vn,unit:bn,schema:An,treatEmojiAsSingleUnit:Dn}=yn,{type:Ln,item:Bn,nextPosition:Vn}=sn;if(Ln=="text")return yn.unit==="word"?function(Gn,Kn){let $r=Gn.position.textNode;for($r||($r=Kn?Gn.position.nodeAfter:Gn.position.nodeBefore);$r&&$r.is("$text");){const Yr=Gn.position.offset-$r.startOffset;if(jk($r,Yr,Kn))$r=Kn?Gn.position.nodeAfter:Gn.position.nodeBefore;else{if(Vk($r.data,Yr,Kn))break;Gn.next()}}return Gn.position}(vn,dn):function(Gn,Kn,$r){const Yr=Gn.position.textNode;if(Yr){const Qr=Yr.data;let si=Gn.position.offset-Yr.startOffset;for(;Bl(Qr,si)||Kn=="character"&&fl(Qr,si)||$r&&op(Qr,si);)Gn.next(),si=Gn.position.offset-Yr.startOffset}return Gn.position}(vn,bn,Dn);if(Ln==(dn?"elementStart":"elementEnd")){if(An.isSelectable(Bn))return wo._createAt(Bn,dn?"after":"before");if(An.checkChild(Vn,"$text"))return Vn}else{if(An.isLimit(Bn))return void vn.skip(()=>!0);if(An.checkChild(Vn,"$text"))return Vn}}function Hk(yn,sn){const dn=yn.root,vn=wo._createAt(dn,sn?"end":0);return sn?new eo(yn,vn):new eo(vn,yn)}function Vk(yn,sn,dn){const vn=sn+(dn?0:-1);return Fk.includes(yn.charAt(vn))}function jk(yn,sn,dn){return sn===(dn?yn.offsetSize:0)}class Uk extends Yi(){constructor(){super(),this.markers=new Lk,this.document=new Sk(this),this.schema=new z1,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(sn=>this.decorate(sn)),this.on("applyOperation",(sn,dn)=>{dn[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((sn,dn)=>{if(dn.name==="$marker")return!0}),$1(this),this.document.registerPostFixer(ym),this.on("insertContent",(sn,[dn,vn])=>{sn.return=function(bn,An,Dn){return bn.change(Ln=>{const Bn=Dn||bn.document.selection;Bn.isCollapsed||bn.deleteContent(Bn,{doNotAutoparagraph:!0});const Vn=new $k(bn,Ln,Bn.anchor),Gn=[];let Kn;if(An.is("documentFragment")){if(An.markers.size){const Qr=[];for(const[si,hi]of An.markers){const{start:wi,end:zi}=hi,so=wi.isEqual(zi);Qr.push({position:wi,name:si,isCollapsed:so},{position:zi,name:si,isCollapsed:so})}Qr.sort(({position:si},{position:hi})=>si.isBefore(hi)?1:-1);for(const{position:si,name:hi,isCollapsed:wi}of Qr){let zi=null,so=null;const qo=si.parent===An&&si.isAtStart,Sa=si.parent===An&&si.isAtEnd;qo||Sa?wi&&(so=qo?"start":"end"):(zi=Ln.createElement("$marker"),Ln.insert(zi,si)),Gn.push({name:hi,element:zi,collapsed:so})}}Kn=An.getChildren()}else Kn=[An];Vn.handleNodes(Kn);let $r=Vn.getSelectionRange();if(An.is("documentFragment")&&Gn.length){const Qr=$r?Eu.fromRange($r):null,si={};for(let hi=Gn.length-1;hi>=0;hi--){const{name:wi,element:zi,collapsed:so}=Gn[hi],qo=!si[wi];if(qo&&(si[wi]=[]),zi){const Sa=Ln.createPositionAt(zi,"before");si[wi].push(Sa),Ln.remove(zi)}else{const Sa=Vn.getAffectedRange();if(!Sa){so&&si[wi].push(Vn.position);continue}so?si[wi].push(Sa[so]):si[wi].push(qo?Sa.start:Sa.end)}}for(const[hi,[wi,zi]]of Object.entries(si))wi&&zi&&wi.root===zi.root&&Ln.addMarker(hi,{usingOperation:!0,affectsData:!0,range:new eo(wi,zi)});Qr&&($r=Qr.toRange(),Qr.detach())}$r&&(Bn instanceof Du?Ln.setSelection($r):Bn.setTo($r));const Yr=Vn.getAffectedRange()||bn.createRange(Bn.anchor);return Vn.destroy(),Yr})}(this,dn,vn)}),this.on("insertObject",(sn,[dn,vn,bn])=>{sn.return=Bk(this,dn,vn,bn)}),this.on("canEditAt",sn=>{const dn=!this.document.isReadOnly;sn.return=dn,dn||sn.stop()})}change(sn){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new jf,callback:sn}),this._runPendingChanges()[0]):sn(this._currentWriter)}catch(dn){Nn.rethrowUnexpectedError(dn,this)}}enqueueChange(sn,dn){try{sn?typeof sn=="function"?(dn=sn,sn=new jf):sn instanceof jf||(sn=new jf(sn)):sn=new jf,this._pendingChanges.push({batch:sn,callback:dn}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(vn){Nn.rethrowUnexpectedError(vn,this)}}applyOperation(sn){sn._execute()}insertContent(sn,dn,vn,...bn){const An=Vg(dn,vn);return this.fire("insertContent",[sn,An,vn,...bn])}insertObject(sn,dn,vn,bn,...An){const Dn=Vg(dn,vn);return this.fire("insertObject",[sn,Dn,bn,bn,...An])}deleteContent(sn,dn){Nk(this,sn,dn)}modifySelection(sn,dn){(function(vn,bn,An={}){const Dn=vn.schema,Ln=An.direction!="backward",Bn=An.unit?An.unit:"character",Vn=!!An.treatEmojiAsSingleUnit,Gn=bn.focus,Kn=new Yu({boundaries:Hk(Gn,Ln),singleCharacters:!0,direction:Ln?"forward":"backward"}),$r={walker:Kn,schema:Dn,isForward:Ln,unit:Bn,treatEmojiAsSingleUnit:Vn};let Yr;for(;Yr=Kn.next();){if(Yr.done)return;const Qr=zk($r,Yr.value);if(Qr)return void(bn instanceof Du?vn.change(si=>{si.setSelectionFocus(Qr)}):bn.setFocus(Qr))}})(this,sn,dn)}getSelectedContent(sn){return function(dn,vn){return dn.change(bn=>{const An=bn.createDocumentFragment(),Dn=vn.getFirstRange();if(!Dn||Dn.isCollapsed)return An;const Ln=Dn.start.root,Bn=Dn.start.getCommonPath(Dn.end),Vn=Ln.getNodeByPath(Bn);let Gn;Gn=Dn.start.parent==Dn.end.parent?Dn:bn.createRange(bn.createPositionAt(Vn,Dn.start.path[Bn.length]),bn.createPositionAt(Vn,Dn.end.path[Bn.length]+1));const Kn=Gn.end.offset-Gn.start.offset;for(const $r of Gn.getItems({shallow:!0}))$r.is("$textProxy")?bn.appendText($r.data,$r.getAttributes(),An):bn.append(bn.cloneElement($r,!0),An);if(Gn!=Dn){const $r=Dn._getTransformedByMove(Gn.start,bn.createPositionAt(An,0),Kn)[0],Yr=bn.createRange(bn.createPositionAt(An,0),$r.start);ay(bn.createRange($r.end,bn.createPositionAt(An,"end")),bn),ay(Yr,bn)}return An})}(this,sn)}hasContent(sn,dn={}){const vn=sn instanceof eo?sn:eo._createIn(sn);if(vn.isCollapsed)return!1;const{ignoreWhitespaces:bn=!1,ignoreMarkers:An=!1}=dn;if(!An){for(const Dn of this.markers.getMarkersIntersectingRange(vn))if(Dn.affectsData)return!0}for(const Dn of vn.getItems())if(this.schema.isContent(Dn)&&(!Dn.is("$textProxy")||!bn||Dn.data.search(/\S/)!==-1))return!0;return!1}canEditAt(sn){const dn=Vg(sn);return this.fire("canEditAt",[dn])}createPositionFromPath(sn,dn,vn){return new wo(sn,dn,vn)}createPositionAt(sn,dn){return wo._createAt(sn,dn)}createPositionAfter(sn){return wo._createAfter(sn)}createPositionBefore(sn){return wo._createBefore(sn)}createRange(sn,dn){return new eo(sn,dn)}createRangeIn(sn){return eo._createIn(sn)}createRangeOn(sn){return eo._createOn(sn)}createSelection(...sn){return new Wc(...sn)}createBatch(sn){return new jf(sn)}createOperationFromJSON(sn){return lk.fromJSON(sn,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const sn=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const dn=this._pendingChanges[0].batch;this._currentWriter=new Ok(this,dn);const vn=this._pendingChanges[0].callback(this._currentWriter);sn.push(vn),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return sn}}function Vg(yn,sn){if(yn)return yn instanceof Wc||yn instanceof Du?yn:yn instanceof df?sn||sn===0?new Wc(yn,sn):yn.is("rootElement")?new Wc(yn,"in"):new Wc(yn,"on"):new Wc(yn)}class Gk extends Jo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(sn){this.fire(sn.type,sn)}}class jg extends Jo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(sn){this.fire(sn.type,sn)}}class gf{constructor(sn){this.document=sn}createDocumentFragment(sn){return new Uu(this.document,sn)}createElement(sn,dn,vn){return new ac(this.document,sn,dn,vn)}createText(sn){return new Ls(this.document,sn)}clone(sn,dn=!1){return sn._clone(dn)}appendChild(sn,dn){return dn._appendChild(sn)}insertChild(sn,dn,vn){return vn._insertChild(sn,dn)}removeChildren(sn,dn,vn){return vn._removeChildren(sn,dn)}remove(sn){const dn=sn.parent;return dn?this.removeChildren(dn.getChildIndex(sn),1,dn):[]}replace(sn,dn){const vn=sn.parent;if(vn){const bn=vn.getChildIndex(sn);return this.removeChildren(bn,1,vn),this.insertChild(bn,dn,vn),!0}return!1}unwrapElement(sn){const dn=sn.parent;if(dn){const vn=dn.getChildIndex(sn);this.remove(sn),this.insertChild(vn,sn.getChildren(),dn)}}rename(sn,dn){const vn=new ac(this.document,sn,dn.getAttributes(),dn.getChildren());return this.replace(dn,vn)?vn:null}setAttribute(sn,dn,vn){vn._setAttribute(sn,dn)}removeAttribute(sn,dn){dn._removeAttribute(sn)}addClass(sn,dn){dn._addClass(sn)}removeClass(sn,dn){dn._removeClass(sn)}setStyle(sn,dn,vn){us(sn)&&vn===void 0?dn._setStyle(sn):vn._setStyle(sn,dn)}removeStyle(sn,dn){dn._removeStyle(sn)}setCustomProperty(sn,dn,vn){vn._setCustomProperty(sn,dn)}removeCustomProperty(sn,dn){return dn._removeCustomProperty(sn)}createPositionAt(sn,dn){return No._createAt(sn,dn)}createPositionAfter(sn){return No._createAfter(sn)}createPositionBefore(sn){return No._createBefore(sn)}createRange(sn,dn){return new Aa(sn,dn)}createRangeOn(sn){return Aa._createOn(sn)}createRangeIn(sn){return Aa._createIn(sn)}createSelection(...sn){return new au(...sn)}}class Wk{constructor(){this._commands=new Map}add(sn,dn){this._commands.set(sn,dn)}get(sn){return this._commands.get(sn)}execute(sn,...dn){const vn=this.get(sn);if(!vn)throw new Nn("commandcollection-command-not-found",this,{commandName:sn});return vn.execute(...dn)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const sn of this.commands())sn.destroy()}}class qk extends Yi(){constructor(sn={}){super();const dn=this.constructor,vn=sn.language||dn.defaultConfig&&dn.defaultConfig.language;this._context=sn.context||new cd({language:vn}),this._context._addEditor(this,!sn.context);const bn=Array.from(dn.builtinPlugins||[]);this.config=new ka(sn,dn.defaultConfig),this.config.define("plugins",bn),this.config.define(this._context._getEditorConfig()),this.plugins=new Ah(this,bn,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Wk,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Uk,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const An=new xp;this.data=new ak(this.model,An),this.editing=new B1(this.model,An),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new sk([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Tf(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(sn){throw new Nn("editor-isreadonly-has-no-setter")}enableReadOnlyMode(sn){if(typeof sn!="string"&&typeof sn!="symbol")throw new Nn("editor-read-only-lock-id-invalid",null,{lockId:sn});this._readOnlyLocks.has(sn)||(this._readOnlyLocks.add(sn),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(sn){if(typeof sn!="string"&&typeof sn!="symbol")throw new Nn("editor-read-only-lock-id-invalid",null,{lockId:sn});this._readOnlyLocks.has(sn)&&(this._readOnlyLocks.delete(sn),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const sn=this.config,dn=sn.get("plugins"),vn=sn.get("removePlugins")||[],bn=sn.get("extraPlugins")||[],An=sn.get("substitutePlugins")||[];return this.plugins.init(dn.concat(bn),vn,An)}destroy(){let sn=Promise.resolve();return this.state=="initializing"&&(sn=new Promise(dn=>this.once("ready",dn))),sn.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(sn,...dn){try{return this.commands.execute(sn,...dn)}catch(vn){Nn.rethrowUnexpectedError(vn,this)}}focus(){this.editing.view.focus()}static create(...sn){throw new Error("This is an abstract method.")}}function zp(yn){return class extends yn{setData(sn){this.data.set(sn)}getData(sn){return this.data.get(sn)}}}{const yn=zp(Object);zp.setData=yn.prototype.setData,zp.getData=yn.prototype.getData}function Ug(yn){return class extends yn{updateSourceElement(sn=this.data.get()){if(!this.sourceElement)throw new Nn("editor-missing-sourceelement",this);const dn=this.config.get("updateSourceElementOnDestroy"),vn=this.sourceElement instanceof HTMLTextAreaElement;Hd(this.sourceElement,dn||vn?sn:"")}}}Ug.updateSourceElement=Ug(Object).prototype.updateSourceElement;class ly extends ef{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Fc({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(sn){if(typeof sn!="string")throw new Nn("pendingactions-add-invalid-message",this);const dn=new(Yi());return dn.set("message",sn),this._actions.add(dn),this.hasAny=!0,dn}remove(sn){this._actions.remove(sn),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Il={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var cy=rn(5542),Yk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(cy.Z,Yk),cy.Z.locals;const{threeVerticalDots:uy}=Il,Kk={alignLeft:Il.alignLeft,bold:Il.bold,importExport:Il.importExport,paragraph:Il.paragraph,plus:Il.plus,text:Il.text,threeVerticalDots:Il.threeVerticalDots};class Gg extends is{constructor(sn,dn){super(sn);const vn=this.bindTemplate,bn=this.t;this.options=dn||{},this.set("ariaLabel",bn("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Ic,this.keystrokes=new tu,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Zk(sn),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const An=sn.uiLanguageDirection==="rtl";this._focusCycler=new sd({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[An?"arrowright":"arrowleft","arrowup"],focusNext:[An?"arrowleft":"arrowright","arrowdown"]}});const Dn=["ck","ck-toolbar",vn.to("class"),vn.if("isCompact","ck-toolbar_compact")];var Ln;this.options.shouldGroupWhenFull&&this.options.isFloating&&Dn.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:Dn,role:"toolbar","aria-label":vn.to("ariaLabel"),style:{maxWidth:vn.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(Ln=this,Ln.bindTemplate.to(Bn=>{Bn.target===Ln.element&&Bn.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Qk(this):new Xk(this)}render(){super.render(),this.focusTracker.add(this.element);for(const sn of this.items)this.focusTracker.add(sn.element);this.items.on("add",(sn,dn)=>{this.focusTracker.add(dn.element)}),this.items.on("remove",(sn,dn)=>{this.focusTracker.remove(dn.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(sn,dn,vn){this.items.addMany(this._buildItemsFromConfig(sn,dn,vn))}_buildItemsFromConfig(sn,dn,vn){const bn=_h(sn),An=vn||bn.removeItems;return this._cleanItemsConfiguration(bn.items,dn,An).map(Dn=>yi(Dn)?this._createNestedToolbarDropdown(Dn,dn,An):Dn==="|"?new Jd:Dn==="-"?new hp:dn.create(Dn)).filter(Dn=>!!Dn)}_cleanItemsConfiguration(sn,dn,vn){const bn=sn.filter((An,Dn,Ln)=>An==="|"||vn.indexOf(An)===-1&&(An==="-"?!this.options.shouldGroupWhenFull||(Hn("toolbarview-line-break-ignored-when-grouping-items",Ln),!1):!(!yi(An)&&!dn.has(An))||(Hn("toolbarview-item-unavailable",{item:An}),!1)));return this._cleanSeparatorsAndLineBreaks(bn)}_cleanSeparatorsAndLineBreaks(sn){const dn=Dn=>Dn!=="-"&&Dn!=="|",vn=sn.length,bn=sn.findIndex(dn);if(bn===-1)return[];const An=vn-sn.slice().reverse().findIndex(dn);return sn.slice(bn,An).filter((Dn,Ln,Bn)=>dn(Dn)?!0:!(Ln>0&&Bn[Ln-1]===Dn))}_createNestedToolbarDropdown(sn,dn,vn){let{label:bn,icon:An,items:Dn,tooltip:Ln=!0,withText:Bn=!1}=sn;if(Dn=this._cleanItemsConfiguration(Dn,dn,vn),!Dn.length)return null;const Vn=$d(this.locale);return bn||Hn("toolbarview-nested-toolbar-dropdown-missing-label",sn),Vn.class="ck-toolbar__nested-toolbar-dropdown",Vn.buttonView.set({label:bn,tooltip:Ln,withText:!!Bn}),An!==!1?Vn.buttonView.icon=Kk[An]||An||uy:Vn.buttonView.withText=!0,qg(Vn,()=>Vn.toolbarView._buildItemsFromConfig(Dn,dn,vn)),Vn}}class Zk extends is{constructor(sn){super(sn),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Xk{constructor(sn){const dn=sn.bindTemplate;sn.set("isVertical",!1),sn.itemsView.children.bindTo(sn.items).using(vn=>vn),sn.focusables.bindTo(sn.items).using(vn=>vn),sn.extendTemplate({attributes:{class:[dn.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Qk{constructor(sn){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=sn,this.viewChildren=sn.children,this.viewFocusables=sn.focusables,this.viewItemsView=sn.itemsView,this.viewFocusTracker=sn.focusTracker,this.viewLocale=sn.locale,this.ungroupedItems=sn.createCollection(),this.groupedItems=sn.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),sn.itemsView.children.bindTo(this.ungroupedItems).using(dn=>dn),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),sn.children.on("change",this._updateFocusCycleableItems.bind(this)),sn.items.on("change",(dn,vn)=>{const bn=vn.index,An=Array.from(vn.added);for(const Dn of vn.removed)bn>=this.ungroupedItems.length?this.groupedItems.remove(Dn):this.ungroupedItems.remove(Dn);for(let Dn=bn;Dn<bn+An.length;Dn++){const Ln=An[Dn-bn];Dn>this.ungroupedItems.length?this.groupedItems.add(Ln,Dn-this.ungroupedItems.length):this.ungroupedItems.add(Ln,Dn)}this._updateGrouping()}),sn.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(sn){this.viewElement=sn.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(sn)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Tc(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const sn=this.groupedItems.length;let dn;for(;this._areItemsOverflowing;)this._groupLastItem(),dn=!0;if(!dn&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==sn&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const sn=this.viewElement,dn=this.viewLocale.uiLanguageDirection,vn=new js(sn.lastChild),bn=new js(sn);if(!this.cachedPadding){const An=Ta.window.getComputedStyle(sn),Dn=dn==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(An[Dn])}return dn==="ltr"?vn.right>bn.right-this.cachedPadding:vn.left<bn.left+this.cachedPadding}_enableGroupingOnResize(){let sn;this.resizeObserver=new wd(this.viewElement,dn=>{sn&&sn===dn.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),sn=dn.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(sn){sn.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Jd),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const sn=this.viewLocale,dn=sn.t,vn=$d(sn);return vn.class="ck-toolbar__grouped-dropdown",vn.panelPosition=sn.uiLanguageDirection==="ltr"?"sw":"se",qg(vn,this.groupedItems),vn.buttonView.set({label:dn("Show more items"),tooltip:!0,tooltipPosition:sn.uiLanguageDirection==="rtl"?"se":"sw",icon:uy}),vn}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(sn=>{this.viewFocusables.add(sn)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var dy=rn(1046),Jk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(dy.Z,Jk),dy.Z.locals;class eA extends is{constructor(sn){super(sn);const dn=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Ic,this.keystrokes=new tu,this._focusCycler=new sd({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:dn.to("role"),"aria-label":dn.to("ariaLabel")},children:this.items})}render(){super.render();for(const sn of this.items)this.focusTracker.add(sn.element);this.items.on("add",(sn,dn)=>{this.focusTracker.add(dn.element)}),this.items.on("remove",(sn,dn)=>{this.focusTracker.remove(dn.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class fy extends is{constructor(sn){super(sn);const dn=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",dn.if("isVisible","ck-hidden",vn=>!vn)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class tA extends is{constructor(sn){super(sn),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var hy=rn(7686),nA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(hy.Z,nA),hy.Z.locals;class Wg extends is{constructor(sn){super(sn);const dn=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new tu,this.focusTracker=new Ic,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",dn.to("class"),dn.if("isVisible","ck-hidden",vn=>!vn),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(sn,dn)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),dn())}),this.keystrokes.set("arrowleft",(sn,dn)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),dn())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const sn=new gs;return sn.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),sn.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),sn.delegate("execute").to(this),sn}_createArrowView(){const sn=new gs,dn=sn.bindTemplate;return sn.icon=bh,sn.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":dn.to("isOn"),"aria-haspopup":!0,"aria-expanded":dn.to("isOn",vn=>String(vn))}}),sn.bind("isEnabled").to(this),sn.bind("label").to(this),sn.bind("tooltip").to(this),sn.delegate("execute").to(this,"open"),sn}}var py=rn(7339),rA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(py.Z,rA),py.Z.locals;var gy=rn(3949),iA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(gy.Z,iA),gy.Z.locals;function $d(yn,sn=pg){const dn=new sn(yn),vn=new xd(yn),bn=new Qd(yn,dn,vn);return dn.bind("isEnabled").to(bn),dn instanceof Wg?dn.arrowView.bind("isOn").to(bn,"isOpen"):dn.bind("isOn").to(bn,"isOpen"),function(An){(function(Dn){Dn.on("render",()=>{ln({emitter:Dn,activator:()=>Dn.isOpen,callback:()=>{Dn.isOpen=!1},contextElements:[Dn.element]})})})(An),function(Dn){Dn.on("execute",Ln=>{Ln.source instanceof xf||(Dn.isOpen=!1)})}(An),function(Dn){Dn.focusTracker.on("change:isFocused",(Ln,Bn,Vn)=>{Dn.isOpen&&!Vn&&(Dn.isOpen=!1)})}(An),function(Dn){Dn.keystrokes.set("arrowdown",(Ln,Bn)=>{Dn.isOpen&&(Dn.panelView.focus(),Bn())}),Dn.keystrokes.set("arrowup",(Ln,Bn)=>{Dn.isOpen&&(Dn.panelView.focusLast(),Bn())})}(An),function(Dn){Dn.on("change:isOpen",(Ln,Bn,Vn)=>{if(Vn)return;const Gn=Dn.panelView.element;Gn&&Gn.contains(Ta.document.activeElement)&&Dn.buttonView.focus()})}(An),function(Dn){Dn.on("change:isOpen",(Ln,Bn,Vn)=>{Vn&&Dn.panelView.focus()},{priority:"low"})}(An)}(bn),bn}function qg(yn,sn,dn={}){yn.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),yn.isOpen?vy(yn,sn,dn):yn.once("change:isOpen",()=>vy(yn,sn,dn),{priority:"highest"}),dn.enableActiveItemFocusOnDropdownOpen&&by(yn,()=>yn.toolbarView.items.find(vn=>vn.isOn))}function vy(yn,sn,dn){const vn=yn.locale,bn=vn.t,An=yn.toolbarView=new Gg(vn),Dn=typeof sn=="function"?sn():sn;An.ariaLabel=dn.ariaLabel||bn("Dropdown toolbar"),dn.maxWidth&&(An.maxWidth=dn.maxWidth),dn.class&&(An.class=dn.class),dn.isCompact&&(An.isCompact=dn.isCompact),dn.isVertical&&(An.isVertical=!0),Dn instanceof zc?An.items.bindTo(Dn).using(Ln=>Ln):An.items.addMany(Dn),yn.panelView.children.add(An),An.items.delegate("execute").to(yn)}function my(yn,sn,dn={}){yn.isOpen?yy(yn,sn,dn):yn.once("change:isOpen",()=>yy(yn,sn,dn),{priority:"highest"}),by(yn,()=>yn.listView.items.find(vn=>vn instanceof fy&&vn.children.first.isOn))}function yy(yn,sn,dn){const vn=yn.locale,bn=yn.listView=new eA(vn),An=typeof sn=="function"?sn():sn;bn.ariaLabel=dn.ariaLabel,bn.role=dn.role,bn.items.bindTo(An).using(Dn=>{if(Dn.type==="separator")return new tA(vn);if(Dn.type==="button"||Dn.type==="switchbutton"){const Ln=new fy(vn);let Bn;return Bn=Dn.type==="button"?new gs(vn):new xf(vn),Bn.bind(...Object.keys(Dn.model)).to(Dn.model),Bn.delegate("execute").to(Ln),Ln.children.add(Bn),Ln}return null}),yn.panelView.children.add(bn),bn.items.delegate("execute").to(yn)}function by(yn,sn){yn.on("change:isOpen",()=>{if(!yn.isOpen)return;const dn=sn();dn&&(typeof dn.focus=="function"?dn.focus():Hn("ui-dropdown-focus-child-on-open-child-missing-focus",{view:dn}))},{priority:On.low-10})}function Yg(yn,sn,dn){const vn=new fp(yn.locale);return vn.set({id:sn,ariaDescribedById:dn}),vn.bind("isReadOnly").to(yn,"isEnabled",bn=>!bn),vn.bind("hasError").to(yn,"errorText",bn=>!!bn),vn.on("input",()=>{yn.errorText=null}),yn.bind("isEmpty","isFocused","placeholder").to(vn),vn}const Jh=(yn,sn=0,dn=1)=>yn>dn?dn:yn<sn?sn:yn,dc=(yn,sn=0,dn=Math.pow(10,sn))=>Math.round(dn*yn)/dn,Kg=yn=>(yn[0]==="#"&&(yn=yn.substring(1)),yn.length<6?{r:parseInt(yn[0]+yn[0],16),g:parseInt(yn[1]+yn[1],16),b:parseInt(yn[2]+yn[2],16),a:yn.length===4?dc(parseInt(yn[3]+yn[3],16)/255,2):1}:{r:parseInt(yn.substring(0,2),16),g:parseInt(yn.substring(2,4),16),b:parseInt(yn.substring(4,6),16),a:yn.length===8?dc(parseInt(yn.substring(6,8),16)/255,2):1}),oA=({h:yn,s:sn,v:dn,a:vn})=>{const bn=(200-sn)*dn/100;return{h:dc(yn),s:dc(bn>0&&bn<200?sn*dn/100/(bn<=100?bn:200-bn)*100:0),l:dc(bn/2),a:dc(vn,2)}},Zg=yn=>{const{h:sn,s:dn,l:vn}=oA(yn);return`hsl(${sn}, ${dn}%, ${vn}%)`},aA=({h:yn,s:sn,v:dn,a:vn})=>{yn=yn/360*6,sn/=100,dn/=100;const bn=Math.floor(yn),An=dn*(1-sn),Dn=dn*(1-(yn-bn)*sn),Ln=dn*(1-(1-yn+bn)*sn),Bn=bn%6;return{r:dc(255*[dn,Dn,An,An,Ln,dn][Bn]),g:dc(255*[Ln,dn,dn,Dn,An,An][Bn]),b:dc(255*[An,An,Ln,dn,dn,Dn][Bn]),a:dc(vn,2)}},Hp=yn=>{const sn=yn.toString(16);return sn.length<2?"0"+sn:sn},sA=({r:yn,g:sn,b:dn,a:vn})=>{const bn=vn<1?Hp(dc(255*vn)):"";return"#"+Hp(yn)+Hp(sn)+Hp(dn)+bn},lA=({r:yn,g:sn,b:dn,a:vn})=>{const bn=Math.max(yn,sn,dn),An=bn-Math.min(yn,sn,dn),Dn=An?bn===yn?(sn-dn)/An:bn===sn?2+(dn-yn)/An:4+(yn-sn)/An:0;return{h:dc(60*(Dn<0?Dn+6:Dn)),s:dc(bn?An/bn*100:0),v:dc(bn/255*100),a:vn}},_y=(yn,sn)=>{if(yn===sn)return!0;for(const dn in yn)if(yn[dn]!==sn[dn])return!1;return!0},wy={},ky=yn=>{let sn=wy[yn];return sn||(sn=document.createElement("template"),sn.innerHTML=yn,wy[yn]=sn),sn},Xg=(yn,sn,dn)=>{yn.dispatchEvent(new CustomEvent(sn,{bubbles:!0,detail:dn}))};let Gf=!1;const Qg=yn=>"touches"in yn,Ay=(yn,sn)=>{const dn=Qg(sn)?sn.touches[0]:sn,vn=yn.el.getBoundingClientRect();Xg(yn.el,"move",yn.getMove({x:Jh((dn.pageX-(vn.left+window.pageXOffset))/vn.width),y:Jh((dn.pageY-(vn.top+window.pageYOffset))/vn.height)}))};class Cy{constructor(sn,dn,vn,bn){const An=ky(`<div role="slider" tabindex="0" part="${dn}" ${vn}><div part="${dn}-pointer"></div></div>`);sn.appendChild(An.content.cloneNode(!0));const Dn=sn.querySelector(`[part=${dn}]`);Dn.addEventListener("mousedown",this),Dn.addEventListener("touchstart",this),Dn.addEventListener("keydown",this),this.el=Dn,this.xy=bn,this.nodes=[Dn.firstChild,Dn]}set dragging(sn){const dn=sn?document.addEventListener:document.removeEventListener;dn(Gf?"touchmove":"mousemove",this),dn(Gf?"touchend":"mouseup",this)}handleEvent(sn){switch(sn.type){case"mousedown":case"touchstart":if(sn.preventDefault(),!(dn=>!(Gf&&!Qg(dn)||(Gf||(Gf=Qg(dn)),0)))(sn)||!Gf&&sn.button!=0)return;this.el.focus(),Ay(this,sn),this.dragging=!0;break;case"mousemove":case"touchmove":sn.preventDefault(),Ay(this,sn);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((dn,vn)=>{const bn=vn.keyCode;bn>40||dn.xy&&bn<37||bn<33||(vn.preventDefault(),Xg(dn.el,"move",dn.getMove({x:bn===39?.01:bn===37?-.01:bn===34?.05:bn===33?-.05:bn===35?1:bn===36?-1:0,y:bn===40?.01:bn===38?-.01:0},!0)))})(this,sn)}}style(sn){sn.forEach((dn,vn)=>{for(const bn in dn)this.nodes[vn].style.setProperty(bn,dn[bn])})}}class cA extends Cy{constructor(sn){super(sn,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:sn}){this.h=sn,this.style([{left:sn/360*100+"%",color:Zg({h:sn,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${dc(sn)}`)}getMove(sn,dn){return{h:dn?Jh(this.h+360*sn.x,0,360):360*sn.x}}}class uA extends Cy{constructor(sn){super(sn,"saturation",'aria-label="Color"',!0)}update(sn){this.hsva=sn,this.style([{top:100-sn.v+"%",left:`${sn.s}%`,color:Zg(sn)},{"background-color":Zg({h:sn.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${dc(sn.s)}%, Brightness ${dc(sn.v)}%`)}getMove(sn,dn){return{s:dn?Jh(this.hsva.s+100*sn.x,0,100):100*sn.x,v:dn?Jh(this.hsva.v-100*sn.y,0,100):Math.round(100-100*sn.y)}}}const Vp=Symbol("same"),Jg=Symbol("color"),xy=Symbol("hsva"),ev=Symbol("update"),Sy=Symbol("parts"),Ey=Symbol("css"),Dy=Symbol("sliders");class dA extends HTMLElement{static get observedAttributes(){return["color"]}get[Ey](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[Dy](){return[uA,cA]}get color(){return this[Jg]}set color(sn){if(!this[Vp](sn)){const dn=this.colorModel.toHsva(sn);this[ev](dn),this[Jg]=sn}}constructor(){super();const sn=ky(`<style>${this[Ey].join("")}</style>`),dn=this.attachShadow({mode:"open"});dn.appendChild(sn.content.cloneNode(!0)),dn.addEventListener("move",this),this[Sy]=this[Dy].map(vn=>new vn(dn))}connectedCallback(){if(this.hasOwnProperty("color")){const sn=this.color;delete this.color,this.color=sn}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(sn,dn,vn){const bn=this.colorModel.fromAttr(vn);this[Vp](bn)||(this.color=bn)}handleEvent(sn){const dn=this[xy],vn={...dn,...sn.detail};let bn;this[ev](vn),_y(vn,dn)||this[Vp](bn=this.colorModel.fromHsva(vn))||(this[Jg]=bn,Xg(this,"color-changed",{value:bn}))}[Vp](sn){return this.color&&this.colorModel.equal(sn,this.color)}[ev](sn){this[xy]=sn,this[Sy].forEach(dn=>dn.update(sn))}}const fA={defaultColor:"#000",toHsva:yn=>lA(Kg(yn)),fromHsva:({h:yn,s:sn,v:dn})=>sA(aA({h:yn,s:sn,v:dn,a:1})),equal:(yn,sn)=>yn.toLowerCase()===sn.toLowerCase()||_y(Kg(yn),Kg(sn)),fromAttr:yn=>yn};class hA extends dA{get colorModel(){return fA}}customElements.define("hex-color-picker",class extends hA{});var Ty=rn(3398),pA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Ty.Z,pA),Ty.Z.locals;class gA{constructor(sn){this._components=new Map,this.editor=sn}*names(){for(const sn of this._components.values())yield sn.originalName}add(sn,dn){this._components.set(tv(sn),{callback:dn,originalName:sn})}create(sn){if(!this.has(sn))throw new Nn("componentfactory-item-missing",this,{name:sn});return this._components.get(tv(sn)).callback(this.editor.locale)}has(sn){return this._components.has(tv(sn))}}function tv(yn){return String(yn).toLowerCase()}var My=rn(8793),vA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(My.Z,vA),My.Z.locals;var mA=Object.defineProperty,Iy=Object.getOwnPropertySymbols,yA=Object.prototype.hasOwnProperty,bA=Object.prototype.propertyIsEnumerable,Ly=(yn,sn,dn)=>sn in yn?mA(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn,ks=(yn,sn)=>{for(var dn in sn||(sn={}))yA.call(sn,dn)&&Ly(yn,dn,sn[dn]);if(Iy)for(var dn of Iy(sn))bA.call(sn,dn)&&Ly(yn,dn,sn[dn]);return yn};const Py=kd("px"),Oy=Ta.document.body,nv=class extends is{constructor(yn){super(yn);const sn=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",sn.to("position",dn=>`ck-balloon-panel_${dn}`),sn.if("isVisible","ck-balloon-panel_visible"),sn.if("withArrow","ck-balloon-panel_with-arrow"),sn.to("class")],style:{top:sn.to("top",Py),left:sn.to("left",Py)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(yn){this.show();const sn=nv.defaultPositions,dn=Object.assign({},{element:this.element,positions:[sn.southArrowNorth,sn.southArrowNorthMiddleWest,sn.southArrowNorthMiddleEast,sn.southArrowNorthWest,sn.southArrowNorthEast,sn.northArrowSouth,sn.northArrowSouthMiddleWest,sn.northArrowSouthMiddleEast,sn.northArrowSouthWest,sn.northArrowSouthEast,sn.viewportStickyNorth],limiter:Oy,fitInViewport:!0},yn),vn=nv._getOptimalPosition(dn),bn=parseInt(vn.left),An=parseInt(vn.top),Dn=vn.name,Ln=vn.config||{},{withArrow:Bn=!0}=Ln;this.top=An,this.left=bn,this.position=Dn,this.withArrow=Bn}pin(yn){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(yn):this._stopPinning()},this._startPinning(yn),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(yn){this.attachTo(yn);const sn=rv(yn.target),dn=yn.limiter?rv(yn.limiter):Oy;this.listenTo(Ta.document,"scroll",(vn,bn)=>{const An=bn.target,Dn=sn&&An.contains(sn),Ln=dn&&An.contains(dn);!Dn&&!Ln&&sn&&dn||this.attachTo(yn)},{useCapture:!0}),this.listenTo(Ta.window,"resize",()=>{this.attachTo(yn)})}_stopPinning(){this.stopListening(Ta.document,"scroll"),this.stopListening(Ta.window,"resize")}};let Oc=nv;function rv(yn){return ua(yn)?yn:kc(yn)?yn.commonAncestorContainer:typeof yn=="function"?rv(yn()):null}function Ry(yn={}){const{sideOffset:sn=Oc.arrowSideOffset,heightOffset:dn=Oc.arrowHeightOffset,stickyVerticalOffset:vn=Oc.stickyVerticalOffset,config:bn}=yn;return{northWestArrowSouthWest:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left-sn,name:"arrow_sw"},bn&&{config:bn}),northWestArrowSouthMiddleWest:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left-.25*Bn.width-sn,name:"arrow_smw"},bn&&{config:bn}),northWestArrowSouth:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left-Bn.width/2,name:"arrow_s"},bn&&{config:bn}),northWestArrowSouthMiddleEast:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left-.75*Bn.width+sn,name:"arrow_sme"},bn&&{config:bn}),northWestArrowSouthEast:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left-Bn.width+sn,name:"arrow_se"},bn&&{config:bn}),northArrowSouthWest:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left+Ln.width/2-sn,name:"arrow_sw"},bn&&{config:bn}),northArrowSouthMiddleWest:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left+Ln.width/2-.25*Bn.width-sn,name:"arrow_smw"},bn&&{config:bn}),northArrowSouth:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left+Ln.width/2-Bn.width/2,name:"arrow_s"},bn&&{config:bn}),northArrowSouthMiddleEast:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left+Ln.width/2-.75*Bn.width+sn,name:"arrow_sme"},bn&&{config:bn}),northArrowSouthEast:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.left+Ln.width/2-Bn.width+sn,name:"arrow_se"},bn&&{config:bn}),northEastArrowSouthWest:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.right-sn,name:"arrow_sw"},bn&&{config:bn}),northEastArrowSouthMiddleWest:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.right-.25*Bn.width-sn,name:"arrow_smw"},bn&&{config:bn}),northEastArrowSouth:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.right-Bn.width/2,name:"arrow_s"},bn&&{config:bn}),northEastArrowSouthMiddleEast:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.right-.75*Bn.width+sn,name:"arrow_sme"},bn&&{config:bn}),northEastArrowSouthEast:(Ln,Bn)=>ks({top:An(Ln,Bn),left:Ln.right-Bn.width+sn,name:"arrow_se"},bn&&{config:bn}),southWestArrowNorthWest:Ln=>ks({top:Dn(Ln),left:Ln.left-sn,name:"arrow_nw"},bn&&{config:bn}),southWestArrowNorthMiddleWest:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.left-.25*Bn.width-sn,name:"arrow_nmw"},bn&&{config:bn}),southWestArrowNorth:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.left-Bn.width/2,name:"arrow_n"},bn&&{config:bn}),southWestArrowNorthMiddleEast:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.left-.75*Bn.width+sn,name:"arrow_nme"},bn&&{config:bn}),southWestArrowNorthEast:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.left-Bn.width+sn,name:"arrow_ne"},bn&&{config:bn}),southArrowNorthWest:Ln=>ks({top:Dn(Ln),left:Ln.left+Ln.width/2-sn,name:"arrow_nw"},bn&&{config:bn}),southArrowNorthMiddleWest:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.left+Ln.width/2-.25*Bn.width-sn,name:"arrow_nmw"},bn&&{config:bn}),southArrowNorth:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.left+Ln.width/2-Bn.width/2,name:"arrow_n"},bn&&{config:bn}),southArrowNorthMiddleEast:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.left+Ln.width/2-.75*Bn.width+sn,name:"arrow_nme"},bn&&{config:bn}),southArrowNorthEast:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.left+Ln.width/2-Bn.width+sn,name:"arrow_ne"},bn&&{config:bn}),southEastArrowNorthWest:Ln=>ks({top:Dn(Ln),left:Ln.right-sn,name:"arrow_nw"},bn&&{config:bn}),southEastArrowNorthMiddleWest:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.right-.25*Bn.width-sn,name:"arrow_nmw"},bn&&{config:bn}),southEastArrowNorth:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.right-Bn.width/2,name:"arrow_n"},bn&&{config:bn}),southEastArrowNorthMiddleEast:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.right-.75*Bn.width+sn,name:"arrow_nme"},bn&&{config:bn}),southEastArrowNorthEast:(Ln,Bn)=>ks({top:Dn(Ln),left:Ln.right-Bn.width+sn,name:"arrow_ne"},bn&&{config:bn}),westArrowEast:(Ln,Bn)=>ks({top:Ln.top+Ln.height/2-Bn.height/2,left:Ln.left-Bn.width-dn,name:"arrow_e"},bn&&{config:bn}),eastArrowWest:(Ln,Bn)=>ks({top:Ln.top+Ln.height/2-Bn.height/2,left:Ln.right+dn,name:"arrow_w"},bn&&{config:bn}),viewportStickyNorth:(Ln,Bn,Vn)=>Ln.getIntersection(Vn)?{top:Vn.top+vn,left:Ln.left+Ln.width/2-Bn.width/2,name:"arrowless",config:ks({withArrow:!1},bn)}:null};function An(Ln,Bn){return Ln.top-Bn.height-dn}function Dn(Ln){return Ln.bottom+dn}}Oc.arrowSideOffset=25,Oc.arrowHeightOffset=10,Oc.stickyVerticalOffset=20,Oc._getOptimalPosition=_r,Oc.defaultPositions=Ry();var Ny=rn(3332),_A={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Ny.Z,_A),Ny.Z.locals;const $y="ck-tooltip",Rc=class extends Ks(){constructor(yn){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Rc._editors.add(yn),Rc._instance)return Rc._instance;Rc._instance=this,this.tooltipTextView=new is(yn.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Oc(yn.locale),this.balloonPanelView.class=$y,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=cu(this._pinTooltip,600),this.listenTo(Ta.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ta.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ta.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ta.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ta.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(yn){const sn=yn.ui.view&&yn.ui.view.body;Rc._editors.delete(yn),this.stopListening(yn.ui),sn&&sn.has(this.balloonPanelView)&&sn.remove(this.balloonPanelView),Rc._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Rc._instance=null)}static getPositioningFunctions(yn){const sn=Rc.defaultBalloonPositions;return{s:[sn.southArrowNorth,sn.southArrowNorthEast,sn.southArrowNorthWest],n:[sn.northArrowSouth],e:[sn.eastArrowWest],w:[sn.westArrowEast],sw:[sn.southArrowNorthEast],se:[sn.southArrowNorthWest]}[yn]}_onEnterOrFocus(yn,{target:sn}){const dn=iv(sn);var vn;dn&&dn!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(dn,{text:(vn=dn).dataset.ckeTooltipText,position:vn.dataset.ckeTooltipPosition||"s",cssClass:vn.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(yn,{target:sn,relatedTarget:dn}){if(yn.name==="mouseleave"){if(!ua(sn)||this._currentElementWithTooltip&&sn!==this._currentElementWithTooltip)return;const vn=iv(sn),bn=iv(dn);vn&&vn!==bn&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&sn!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(yn,{target:sn}){this._currentElementWithTooltip&&(sn.contains(this.balloonPanelView.element)&&sn.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(yn,{text:sn,position:dn,cssClass:vn}){const bn=_l(Rc._editors.values()).ui.view.body;bn.has(this.balloonPanelView)||bn.add(this.balloonPanelView),this.tooltipTextView.text=sn,this.balloonPanelView.pin({target:yn,positions:Rc.getPositioningFunctions(dn)}),this._resizeObserver=new wd(yn,()=>{Tc(yn)||this._unpinTooltip()}),this.balloonPanelView.class=[$y,vn].filter(An=>An).join(" ");for(const An of Rc._editors)this.listenTo(An.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=yn,this._currentTooltipPosition=dn}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const yn of Rc._editors)this.stopListening(yn.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Tc(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Rc.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let jp=Rc;function iv(yn){return ua(yn)?yn.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}jp.defaultBalloonPositions=Ry({heightOffset:5,sideOffset:13}),jp._editors=new Set,jp._instance=null;const ov=function(yn,sn,dn){var vn=!0,bn=!0;if(typeof yn!="function")throw new TypeError("Expected a function");return yi(dn)&&(vn="leading"in dn?!!dn.leading:vn,bn="trailing"in dn?!!dn.trailing:bn),cu(yn,sn,{leading:vn,maxWait:sn,trailing:bn})};var wA=Object.defineProperty,By=Object.getOwnPropertySymbols,kA=Object.prototype.hasOwnProperty,AA=Object.prototype.propertyIsEnumerable,Fy=(yn,sn,dn)=>sn in yn?wA(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn,CA=(yn,sn)=>{for(var dn in sn||(sn={}))kA.call(sn,dn)&&Fy(yn,dn,sn[dn]);if(By)for(var dn of By(sn))AA.call(sn,dn)&&Fy(yn,dn,sn[dn]);return yn};const xA=50,SA=350,EA="Powered by",Up={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class DA extends Ks(){constructor(sn){super(),this.editor=sn,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=ov(this._showBalloon.bind(this),50,{leading:!0}),sn.on("ready",this._handleEditorReady.bind(this))}destroy(){const sn=this._balloonView;sn&&(sn.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const sn=this.editor;(sn.config.get("ui.poweredBy.forceVisible")||function(dn){function vn(Yr){return Yr.length>=40&&Yr.length<=255?"VALID":"INVALID"}if(!dn)return"INVALID";let bn="";try{bn=atob(dn)}catch{return"INVALID"}const An=bn.split("-"),Dn=An[0],Ln=An[1];if(!Ln)return vn(dn);try{atob(Ln)}catch{try{if(atob(Dn),!atob(Dn).length)return vn(dn)}catch{return vn(dn)}}if(Dn.length<40||Dn.length>255)return"INVALID";let Bn="";try{atob(Dn),Bn=atob(Ln)}catch{return"INVALID"}if(Bn.length!==8)return"INVALID";const Vn=Number(Bn.substring(0,4)),Gn=Number(Bn.substring(4,6))-1,Kn=Number(Bn.substring(6,8)),$r=new Date(Vn,Gn,Kn);return $r<Qn||isNaN(Number($r))?"INVALID":"VALID"}(sn.config.get("licenseKey"))!=="VALID")&&sn.ui.view&&(sn.ui.focusTracker.on("change:isFocused",(dn,vn,bn)=>{this._updateLastFocusedEditableElement(),bn?this._showBalloon():this._hideBalloon()}),sn.ui.focusTracker.on("change:focusedElement",(dn,vn,bn)=>{this._updateLastFocusedEditableElement(),bn&&this._showBalloon()}),sn.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const sn=this.editor,dn=this._balloonView=new Oc,vn=Hy(sn),bn=new TA(sn.locale,vn.label);dn.content.add(bn),dn.set({class:"ck-powered-by-balloon"}),sn.ui.view.body.add(dn),sn.ui.focusTracker.add(dn.element),this._balloonView=dn}_showBalloon(){if(!this._lastFocusedEditableElement)return;const sn=function(dn,vn){const bn=Hy(dn),An=bn.side==="right"?function(Dn,Ln){return zy(Dn,Ln,(Bn,Vn)=>Bn.left+Bn.width-Vn.width-Ln.horizontalOffset)}(vn,bn):function(Dn,Ln){return zy(Dn,Ln,Bn=>Bn.left+Ln.horizontalOffset)}(vn,bn);return{target:vn,positions:[An]}}(this.editor,this._lastFocusedEditableElement);sn&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(sn))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const sn=this.editor,dn=sn.ui.focusTracker.isFocused,vn=sn.ui.focusTracker.focusedElement;if(!dn||!vn)return void(this._lastFocusedEditableElement=null);const bn=Array.from(sn.ui.getEditableElementsNames()).map(An=>sn.ui.getEditableElement(An));bn.includes(vn)?this._lastFocusedEditableElement=vn:this._lastFocusedEditableElement=bn[0]}}class TA extends is{constructor(sn,dn){super(sn);const vn=new iu,bn=this.bindTemplate;vn.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),vn.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...dn?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[dn]}]:[],vn],on:{dragstart:bn.to(An=>An.preventDefault())}}]})}}function zy(yn,sn,dn){return(vn,bn)=>{const An=vn.getVisible();if(!An||vn.width<SA||vn.height<xA)return Up;let Dn;Dn=sn.position==="inside"?vn.bottom-bn.height:vn.bottom-bn.height/2,Dn-=sn.verticalOffset;const Ln=dn(vn,bn);if(sn.position==="inside"){const Bn=bn.clone().moveTo(Ln,Dn);if(Bn.getIntersectionArea(An)<Bn.getArea())return Up}else{const Bn=function(Vn){let Gn=Vn.parentElement;if(!Gn)return null;for(;Gn.tagName!="BODY";){const Kn=Gn.style.overflowY||Ta.window.getComputedStyle(Gn).overflowY;if(Kn==="auto"||Kn==="scroll")break;if(Gn=Gn.parentElement,!Gn)return null}return Gn}(yn);if(Bn){const Vn=new js(Bn);if(An.bottom+bn.height/2>Vn.bottom)return Up}}return{top:Dn,left:Ln,name:`position_${sn.position}-side_${sn.side}`,config:{withArrow:!1}}}}function Hy(yn){const sn=yn.config.get("ui.poweredBy"),dn=sn&&sn.position||"border";return CA({position:dn,label:EA,verticalOffset:dn==="inside"?5:0,horizontalOffset:5,side:yn.locale.contentLanguageDirection==="ltr"?"right":"left"},sn)}var MA=Object.defineProperty,Vy=Object.getOwnPropertySymbols,IA=Object.prototype.hasOwnProperty,LA=Object.prototype.propertyIsEnumerable,jy=(yn,sn,dn)=>sn in yn?MA(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn;class PA extends Yi(){constructor(sn){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const dn=sn.editing.view;this.editor=sn,this.componentFactory=new gA(sn),this.focusTracker=new Ic,this.tooltipManager=new jp(sn),this.poweredBy=new DA(sn),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(dn.document,"layoutChanged",this.update.bind(this)),this.listenTo(dn,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const sn of this._editableElementsMap.values())sn.ckeditorInstance=null,this.editor.keystrokes.stopListening(sn);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(sn,dn){this._editableElementsMap.set(sn,dn),dn.ckeditorInstance||(dn.ckeditorInstance=this.editor),this.focusTracker.add(dn);const vn=()=>{this.editor.editing.view.getDomRoot(sn)||this.editor.keystrokes.listenTo(dn)};this.isReady?vn():this.once("ready",vn)}removeEditableElement(sn){const dn=this._editableElementsMap.get(sn);dn&&(this._editableElementsMap.delete(sn),this.editor.keystrokes.stopListening(dn),this.focusTracker.remove(dn),dn.ckeditorInstance=null)}getEditableElement(sn="main"){return this._editableElementsMap.get(sn)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(sn,dn={}){sn.isRendered?(this.focusTracker.add(sn.element),this.editor.keystrokes.listenTo(sn.element)):sn.once("render",()=>{this.focusTracker.add(sn.element),this.editor.keystrokes.listenTo(sn.element)}),this._focusableToolbarDefinitions.push({toolbarView:sn,options:dn})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const sn=this.editor,dn=sn.config.get("ui.viewportOffset");if(dn)return dn;const vn=sn.config.get("toolbar.viewportTopOffset");return vn?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:vn}):{top:0}}_initFocusTracking(){const sn=this.editor,dn=sn.editing.view;let vn,bn;sn.keystrokes.set("Alt+F10",(An,Dn)=>{const Ln=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(Ln)&&!Array.from(dn.domRoots.values()).includes(Ln)&&(vn=Ln);const Bn=this._getCurrentFocusedToolbarDefinition();Bn&&bn||(bn=this._getFocusableCandidateToolbarDefinitions());for(let Vn=0;Vn<bn.length;Vn++){const Gn=bn.shift();if(bn.push(Gn),Gn!==Bn&&this._focusFocusableCandidateToolbar(Gn)){Bn&&Bn.options.afterBlur&&Bn.options.afterBlur();break}}Dn()}),sn.keystrokes.set("Esc",(An,Dn)=>{const Ln=this._getCurrentFocusedToolbarDefinition();Ln&&(vn?(vn.focus(),vn=null):sn.editing.view.focus(),Ln.options.afterBlur&&Ln.options.afterBlur(),Dn())})}_getFocusableCandidateToolbarDefinitions(){const sn=[];for(const dn of this._focusableToolbarDefinitions){const{toolbarView:vn,options:bn}=dn;(Tc(vn.element)||bn.beforeFocus)&&sn.push(dn)}return sn.sort((dn,vn)=>Uy(dn)-Uy(vn)),sn}_getCurrentFocusedToolbarDefinition(){for(const sn of this._focusableToolbarDefinitions)if(sn.toolbarView.element&&sn.toolbarView.element.contains(this.focusTracker.focusedElement))return sn;return null}_focusFocusableCandidateToolbar(sn){const{toolbarView:dn,options:{beforeFocus:vn}}=sn;return vn&&vn(),!!Tc(dn.element)&&(dn.focus(),!0)}_handleScrollToTheSelection(sn,dn){const vn=((bn,An)=>{for(var Dn in An||(An={}))IA.call(An,Dn)&&jy(bn,Dn,An[Dn]);if(Vy)for(var Dn of Vy(An))LA.call(An,Dn)&&jy(bn,Dn,An[Dn]);return bn})({top:0,bottom:0,left:0,right:0},this.viewportOffset);dn.viewportOffset.top+=vn.top,dn.viewportOffset.bottom+=vn.bottom,dn.viewportOffset.left+=vn.left,dn.viewportOffset.right+=vn.right}}function Uy(yn){const{toolbarView:sn,options:dn}=yn;let vn=10;return Tc(sn.element)&&vn--,dn.isContextual&&vn--,vn}var Gy=rn(9688),OA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Gy.Z,OA),Gy.Z.locals;class RA extends is{constructor(sn){super(sn),this.body=new uh(sn)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class NA extends RA{constructor(sn){super(sn),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:sn.uiLanguageDirection,lang:sn.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const sn=this.t,dn=new mh;return dn.text=sn("Rich Text Editor"),dn.extendTemplate({attributes:{class:"ck-voice-label"}}),dn}}class $A extends is{constructor(sn,dn,vn){super(sn),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:sn.contentLanguage,dir:sn.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=vn,this._hasExternalElement=!!this._editableElement,this._editingView=dn}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const sn=this._editingView;function dn(vn){sn.change(bn=>{const An=sn.document.getRoot(vn.name);bn.addClass(vn.isFocused?"ck-focused":"ck-blurred",An),bn.removeClass(vn.isFocused?"ck-blurred":"ck-focused",An)})}sn.isRenderingInProgress?function vn(bn){sn.once("change:isRenderingInProgress",(An,Dn,Ln)=>{Ln?vn(bn):dn(bn)})}(this):dn(this)}}class BA extends $A{constructor(sn,dn,vn,bn={}){super(sn,dn,vn);const An=sn.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=bn.label||(()=>An("Editor editing area: %0",this.name))}render(){super.render();const sn=this._editingView;sn.change(dn=>{const vn=sn.document.getRoot(this.name);dn.setAttribute("aria-label",this._generateLabel(this),vn)})}}var Wy=rn(8847),FA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Wy.Z,FA),Wy.Z.locals;class av extends ef{static get pluginName(){return"Notification"}init(){this.on("show:warning",(sn,dn)=>{window.alert(dn.message)},{priority:"lowest"})}showSuccess(sn,dn={}){this._showNotification({message:sn,type:"success",namespace:dn.namespace,title:dn.title})}showInfo(sn,dn={}){this._showNotification({message:sn,type:"info",namespace:dn.namespace,title:dn.title})}showWarning(sn,dn={}){this._showNotification({message:sn,type:"warning",namespace:dn.namespace,title:dn.title})}_showNotification(sn){const dn=sn.namespace?`show:${sn.type}:${sn.namespace}`:`show:${sn.type}`;this.fire(dn,{message:sn.message,type:sn.type,title:sn.title||""})}}class qy extends Yi(){constructor(sn,dn){super(),dn&&Yo(this,dn),sn&&this.set(sn)}}var Yy=rn(4650),zA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Yy.Z,zA),Yy.Z.locals;var Ky=rn(7676),HA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Ky.Z,HA),Ky.Z.locals;const Gp=kd("px");class Wp extends xo{constructor(sn){super(sn),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const dn=this.editor.editing.view,vn=dn.document.selection.editableElement;return vn?dn.domConverter.mapViewToDom(vn.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(sn){return Array.from(this._viewToStack.keys()).includes(sn)}add(sn){if(this._view||this._createPanelView(),this.hasView(sn.view))throw new Nn("contextualballoon-add-view-exist",[this,sn]);const dn=sn.stackId||"main";if(!this._idToStack.has(dn))return this._idToStack.set(dn,new Map([[sn.view,sn]])),this._viewToStack.set(sn.view,this._idToStack.get(dn)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!sn.singleViewMode||this.showStack(dn));const vn=this._idToStack.get(dn);sn.singleViewMode&&this.showStack(dn),vn.set(sn.view,sn),this._viewToStack.set(sn.view,vn),vn===this._visibleStack&&this._showView(sn)}remove(sn){if(!this.hasView(sn))throw new Nn("contextualballoon-remove-view-not-exist",[this,sn]);const dn=this._viewToStack.get(sn);this._singleViewMode&&this.visibleView===sn&&(this._singleViewMode=!1),this.visibleView===sn&&(dn.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(dn.values())[dn.size-2])),dn.size===1?(this._idToStack.delete(this._getStackId(dn)),this._numberOfStacks=this._idToStack.size):dn.delete(sn),this._viewToStack.delete(sn)}updatePosition(sn){sn&&(this._visibleStack.get(this.visibleView).position=sn),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(sn){this.visibleStack=sn;const dn=this._idToStack.get(sn);if(!dn)throw new Nn("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==dn&&this._showView(Array.from(dn.values()).pop())}_createPanelView(){this._view=new Oc(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(sn){return Array.from(this._idToStack.entries()).find(dn=>dn[1]===sn)[0]}_showNextStack(){const sn=Array.from(this._idToStack.values());let dn=sn.indexOf(this._visibleStack)+1;sn[dn]||(dn=0),this.showStack(this._getStackId(sn[dn]))}_showPrevStack(){const sn=Array.from(this._idToStack.values());let dn=sn.indexOf(this._visibleStack)-1;sn[dn]||(dn=sn.length-1),this.showStack(this._getStackId(sn[dn]))}_createRotatorView(){const sn=new VA(this.editor.locale),dn=this.editor.locale.t;return this.view.content.add(sn),sn.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(vn,bn)=>!bn&&vn>1),sn.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),sn.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(vn,bn)=>{if(bn<2)return"";const An=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return dn("%0 of %1",[An,bn])}),sn.buttonNextView.on("execute",()=>{sn.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),sn.buttonPrevView.on("execute",()=>{sn.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),sn}_createFakePanelsView(){const sn=new jA(this.editor.locale,this.view);return sn.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(dn,vn)=>!vn&&dn>=2?Math.min(dn-1,2):0),sn.listenTo(this.view,"change:top",()=>sn.updatePosition()),sn.listenTo(this.view,"change:left",()=>sn.updatePosition()),this.editor.ui.view.body.add(sn),sn}_showView({view:sn,balloonClassName:dn="",withArrow:vn=!0,singleViewMode:bn=!1}){this.view.class=dn,this.view.withArrow=vn,this._rotatorView.showView(sn),this.visibleView=sn,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),bn&&(this._singleViewMode=!0)}_getBalloonPosition(){let sn=Array.from(this._visibleStack.values()).pop().position;return sn&&(sn.limiter||(sn=Object.assign({},sn,{limiter:this.positionLimiter})),sn=Object.assign({},sn,{viewportOffsetConfig:this.editor.ui.viewportOffset})),sn}}class VA extends is{constructor(sn){super(sn);const dn=sn.t,vn=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ic,this.buttonPrevView=this._createButtonView(dn("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(dn("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",vn.to("isNavigationVisible",bn=>bn?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:vn.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(sn){this.hideView(),this.content.add(sn)}hideView(){this.content.clear()}_createButtonView(sn,dn){const vn=new gs(this.locale);return vn.set({label:sn,icon:dn,tooltip:!0}),vn}}class jA extends is{constructor(sn,dn){super(sn);const vn=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=dn,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",vn.to("numberOfPanels",bn=>bn?"":"ck-hidden")],style:{top:vn.to("top",Gp),left:vn.to("left",Gp),width:vn.to("width",Gp),height:vn.to("height",Gp)}},children:this.content}),this.on("change:numberOfPanels",(bn,An,Dn,Ln)=>{Dn>Ln?this._addPanels(Dn-Ln):this._removePanels(Ln-Dn),this.updatePosition()})}_addPanels(sn){for(;sn--;){const dn=new is;dn.setTemplate({tag:"div"}),this.content.add(dn),this.registerChild(dn)}}_removePanels(sn){for(;sn--;){const dn=this.content.last;this.content.remove(dn),this.deregisterChild(dn),dn.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:sn,left:dn}=this._balloonPanelView,{width:vn,height:bn}=new js(this._balloonPanelView.element);Object.assign(this,{top:sn,left:dn,width:vn,height:bn})}}}var Zy=rn(5868),UA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Zy.Z,UA),Zy.Z.locals;const ep=kd("px");class GA extends is{constructor(sn){super(sn);const dn=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Cc({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:dn.to("isSticky",vn=>vn?"block":"none"),height:dn.to("isSticky",vn=>vn?ep(this._panelRect.height):null)}}}).render(),this._contentPanel=new Cc({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",dn.if("isSticky","ck-sticky-panel__content_sticky"),dn.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:dn.to("isSticky",vn=>vn?ep(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:dn.to("_hasViewportTopOffset",vn=>vn?ep(this.viewportTopOffset):null),bottom:dn.to("_isStickyToTheLimiter",vn=>vn?ep(this.limiterBottomOffset):null),marginLeft:dn.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Ta.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const sn=this._panelRect=this._contentPanel.getBoundingClientRect();let dn;this.limiterElement?(dn=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&dn.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<dn.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=dn.bottom<sn.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:ep(-Ta.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var Xy=rn(9695),WA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Xy.Z,WA),Xy.Z.locals;class qA extends PA{constructor(sn,dn){super(sn),this.view=dn,this._toolbarConfig=_h(sn.config.get("toolbar")),this._elementReplacer=new mo,this.listenTo(sn.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(sn){const dn=this.editor,vn=this.view,bn=dn.editing.view,An=vn.editable,Dn=bn.document.getRoot();An.name=Dn.rootName,vn.render();const Ln=An.element;this.setEditableElement(An.name,Ln),vn.editable.bind("isFocused").to(this.focusTracker),bn.attachDomRoot(Ln),sn&&this._elementReplacer.replace(sn,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const sn=this.view,dn=this.editor.editing.view;this._elementReplacer.restore(),dn.detachDomRoot(sn.editable.name),sn.destroy()}_initToolbar(){const sn=this.view;sn.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),sn.stickyPanel.limiterElement=sn.element,sn.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:dn})=>dn||0),sn.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(sn.toolbar)}_initPlaceholder(){const sn=this.editor,dn=sn.editing.view,vn=dn.document.getRoot(),bn=sn.sourceElement;let An;const Dn=sn.config.get("placeholder");Dn&&(An=typeof Dn=="string"?Dn:Dn[this.view.editable.name]),!An&&bn&&bn.tagName.toLowerCase()==="textarea"&&(An=bn.getAttribute("placeholder")),An&&ud({view:dn,element:vn,text:An,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(sn,dn,vn){const bn=this.view.stickyPanel;if(bn.isSticky){const An=new js(bn.element).height;dn.viewportOffset.top+=An}else{const An=()=>{this.editor.editing.view.scrollToTheSelection(vn)};this.listenTo(bn,"change:isSticky",An),setTimeout(()=>{this.stopListening(bn,"change:isSticky",An)},20)}}}var Qy=rn(3143),YA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Qy.Z,YA),Qy.Z.locals;class KA extends NA{constructor(sn,dn,vn={}){super(sn),this.stickyPanel=new GA(sn),this.toolbar=new Gg(sn,{shouldGroupWhenFull:vn.shouldToolbarGroupWhenFull}),this.editable=new BA(sn,dn)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Jy{constructor(sn){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof sn.crashNumberLimit=="number"?sn.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof sn.minimumNonErrorTimePeriod=="number"?sn.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=dn=>{const vn="error"in dn?dn.error:dn.reason;vn instanceof Error&&this._handleError(vn,dn)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(sn,dn){this._listeners[sn]||(this._listeners[sn]=[]),this._listeners[sn].push(dn)}off(sn,dn){this._listeners[sn]=this._listeners[sn].filter(vn=>vn!==dn)}_fire(sn,...dn){const vn=this._listeners[sn]||[];for(const bn of vn)bn.apply(this,[null,...dn])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(sn,dn){if(this._shouldReactToError(sn)){this.crashes.push({message:sn.message,stack:sn.stack,filename:dn instanceof ErrorEvent?dn.filename:void 0,lineno:dn instanceof ErrorEvent?dn.lineno:void 0,colno:dn instanceof ErrorEvent?dn.colno:void 0,date:this._now()});const vn=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:sn,causesRestart:vn}),vn?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(sn){return sn.is&&sn.is("CKEditorError")&&sn.context!==void 0&&sn.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(sn)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function sv(yn,sn=new Set){const dn=[yn],vn=new Set;let bn=0;for(;dn.length>bn;){const An=dn[bn++];if(!vn.has(An)&&ZA(An)&&!sn.has(An))if(vn.add(An),Symbol.iterator in An)try{for(const Dn of An)dn.push(Dn)}catch{}else for(const Dn in An)Dn!=="defaultValue"&&dn.push(An[Dn])}return vn}function ZA(yn){const sn=Object.prototype.toString.call(yn),dn=typeof yn;return!(dn==="number"||dn==="boolean"||dn==="string"||dn==="symbol"||dn==="function"||sn==="[object Date]"||sn==="[object RegExp]"||sn==="[object Module]"||yn==null||yn._watchdogExcluded||yn instanceof EventTarget||yn instanceof Event)}function eb(yn,sn,dn=new Set){if(yn===sn&&typeof(vn=yn)=="object"&&vn!==null)return!0;var vn;const bn=sv(yn,dn),An=sv(sn,dn);for(const Dn of bn)if(An.has(Dn))return!0;return!1}class tb extends Jy{constructor(sn,dn={}){super(dn),this._editor=null,this._throttledSave=ov(this._save.bind(this),typeof dn.saveInterval=="number"?dn.saveInterval:5e3),sn&&(this._creator=(vn,bn)=>sn.create(vn,bn)),this._destructor=vn=>vn.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(sn){this._creator=sn}setDestructor(sn){this._destructor=sn}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(sn=>{console.error("An error happened during the editor destroying.",sn)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const sn=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,sn,sn.context)}}).then(()=>{this._fire("restart")})}create(sn=this._elementOrData,dn=this._config,vn){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=sn,this._config=this._cloneEditorConfiguration(dn)||{},this._config.context=vn,this._creator(sn,this._config))).then(bn=>{this._editor=bn,bn.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=bn.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const sn=this._editor;return this._editor=null,sn.model.document.off("change:data",this._throttledSave),this._destructor(sn)})}_save(){const sn=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=sn}catch(dn){console.error(dn,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(sn){this._excludedProps=sn}_getData(){const sn={};for(const dn of this._editor.model.document.getRootNames())sn[dn]=this._editor.data.get({rootName:dn});return sn}_isErrorComingFromThisItem(sn){return eb(this._editor,sn.context,this._excludedProps)}_cloneEditorConfiguration(sn){return Ba(sn,(dn,vn)=>ua(dn)||vn==="context"?dn:void 0)}}const tp=Symbol("MainQueueId");class XA{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(sn){this._onEmptyCallbacks.push(sn)}enqueue(sn,dn){const vn=sn===tp;this._activeActions++,this._queues.get(sn)||this._queues.set(sn,Promise.resolve());const bn=(vn?Promise.all(this._queues.values()):Promise.all([this._queues.get(tp),this._queues.get(sn)])).then(dn),An=bn.catch(()=>{});return this._queues.set(sn,An),bn.finally(()=>{this._activeActions--,this._queues.get(sn)===An&&this._activeActions===0&&this._onEmptyCallbacks.forEach(Dn=>Dn())})}}function nb(yn){return Array.isArray(yn)?yn:[yn]}class qp extends zp(Ug(qk)){constructor(sn,dn={}){if(!Yp(sn)&&dn.initialData!==void 0)throw new Nn("editor-create-initial-data",null);super(dn),this.config.get("initialData")===void 0&&this.config.set("initialData",function(An){return Yp(An)?(Dn=An,Dn instanceof HTMLTextAreaElement?Dn.value:Dn.innerHTML):An;var Dn}(sn)),Yp(sn)&&(this.sourceElement=sn),this.model.document.createRoot();const vn=!this.config.get("toolbar.shouldNotGroupWhenFull"),bn=new KA(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:vn});this.ui=new qA(this,bn),function(An){if(!ja(An.updateSourceElement))throw new Nn("attachtoform-missing-elementapi-interface",An);const Dn=An.sourceElement;if(function(Ln){return!!Ln&&Ln.tagName.toLowerCase()==="textarea"}(Dn)&&Dn.form){let Ln;const Bn=Dn.form,Vn=()=>An.updateSourceElement();ja(Bn.submit)&&(Ln=Bn.submit,Bn.submit=()=>{Vn(),Ln.apply(Bn)}),Bn.addEventListener("submit",Vn),An.on("destroy",()=>{Bn.removeEventListener("submit",Vn),Ln&&(Bn.submit=Ln)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(sn,dn={}){return new Promise(vn=>{const bn=new this(sn,dn);vn(bn.initPlugins().then(()=>bn.ui.init(Yp(sn)?sn:null)).then(()=>bn.data.init(bn.config.get("initialData"))).then(()=>bn.fire("ready")).then(()=>bn))})}}function Yp(yn){return ua(yn)}qp.Context=cd,qp.EditorWatchdog=tb,qp.ContextWatchdog=class extends Jy{constructor(yn,sn={}){super(sn),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new XA,this._watchdogConfig=sn,this._creator=dn=>yn.create(dn),this._destructor=dn=>dn.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(yn){this._creator=yn}setDestructor(yn){this._destructor=yn}get context(){return this._context}create(yn={}){return this._actionQueues.enqueue(tp,()=>(this._contextConfig=yn,this._create()))}getItem(yn){return this._getWatchdog(yn)._item}getItemState(yn){return this._getWatchdog(yn).state}add(yn){const sn=nb(yn);return Promise.all(sn.map(dn=>this._actionQueues.enqueue(dn.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let vn;if(this._watchdogs.has(dn.id))throw new Error(`Item with the given id is already added: '${dn.id}'.`);if(dn.type==="editor")return vn=new tb(null,this._watchdogConfig),vn.setCreator(dn.creator),vn._setExcludedProperties(this._contextProps),dn.destructor&&vn.setDestructor(dn.destructor),this._watchdogs.set(dn.id,vn),vn.on("error",(bn,{error:An,causesRestart:Dn})=>{this._fire("itemError",{itemId:dn.id,error:An}),Dn&&this._actionQueues.enqueue(dn.id,()=>new Promise(Ln=>{const Bn=()=>{vn.off("restart",Bn),this._fire("itemRestart",{itemId:dn.id}),Ln()};vn.on("restart",Bn)}))}),vn.create(dn.sourceElementOrData,dn.config,this._context);throw new Error(`Not supported item type: '${dn.type}'.`)})))}remove(yn){const sn=nb(yn);return Promise.all(sn.map(dn=>this._actionQueues.enqueue(dn,()=>{const vn=this._getWatchdog(dn);return this._watchdogs.delete(dn),vn.destroy()})))}destroy(){return this._actionQueues.enqueue(tp,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(tp,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(yn=>{console.error("An error happened during destroying the context or items.",yn)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(yn=>(this._context=yn,this._contextProps=sv(this._context),Promise.all(Array.from(this._watchdogs.values()).map(sn=>(sn._setExcludedProperties(this._contextProps),sn.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const yn=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(sn=>sn.destroy())).then(()=>this._destructor(yn))})}_getWatchdog(yn){const sn=this._watchdogs.get(yn);if(!sn)throw new Error(`Item with the given id was not registered: ${yn}.`);return sn}_isErrorComingFromThisItem(yn){for(const sn of this._watchdogs.values())if(sn._isErrorComingFromThisItem(yn))return!1;return eb(this._context,yn.context)}};class lv extends Jo{constructor(sn){super(sn),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const dn=this.document;function vn(bn){return(An,Dn)=>{Dn.preventDefault();const Ln=Dn.dropRange?[Dn.dropRange]:null,Bn=new Sn(dn,bn);dn.fire(Bn,{dataTransfer:Dn.dataTransfer,method:An.name,targetRanges:Ln,target:Dn.target,domEvent:Dn.domEvent}),Bn.stop.called&&Dn.stopPropagation()}}this.listenTo(dn,"paste",vn("clipboardInput"),{priority:"low"}),this.listenTo(dn,"drop",vn("clipboardInput"),{priority:"low"}),this.listenTo(dn,"dragover",vn("dragging"),{priority:"low"})}onDomEvent(sn){const dn="clipboardData"in sn?sn.clipboardData:sn.dataTransfer,vn=sn.type=="drop"||sn.type=="paste",bn={dataTransfer:new Zv(dn,{cacheFiles:vn})};sn.type!="drop"&&sn.type!="dragover"||(bn.dropRange=function(An,Dn){const Ln=Dn.target.ownerDocument,Bn=Dn.clientX,Vn=Dn.clientY;let Gn;return Ln.caretRangeFromPoint&&Ln.caretRangeFromPoint(Bn,Vn)?Gn=Ln.caretRangeFromPoint(Bn,Vn):Dn.rangeParent&&(Gn=Ln.createRange(),Gn.setStart(Dn.rangeParent,Dn.rangeOffset),Gn.collapse(!0)),Gn?An.domConverter.domRangeToView(Gn):null}(this.view,sn)),this.fire(sn.type,sn,bn)}}const ib=["figcaption","li"];function ob(yn){let sn="";if(yn.is("$text")||yn.is("$textProxy"))sn=yn.data;else if(yn.is("element","img")&&yn.hasAttribute("alt"))sn=yn.getAttribute("alt");else if(yn.is("element","br"))sn=`
`;else{let dn=null;for(const vn of yn.getChildren()){const bn=ob(vn);dn&&(dn.is("containerElement")||vn.is("containerElement"))&&(ib.includes(dn.name)||ib.includes(vn.name)?sn+=`
`:sn+=`

`),sn+=bn,dn=vn}}return sn}class Zu extends xo{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(lv),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const sn=this.editor,dn=sn.model,vn=sn.editing.view,bn=vn.document;this.listenTo(bn,"clipboardInput",(An,Dn)=>{Dn.method!="paste"||sn.model.canEditAt(sn.model.document.selection)||An.stop()},{priority:"highest"}),this.listenTo(bn,"clipboardInput",(An,Dn)=>{const Ln=Dn.dataTransfer;let Bn;if(Dn.content)Bn=Dn.content;else{let Kn="";Ln.getData("text/html")?Kn=function($r){return $r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(Yr,Qr)=>Qr.length==1?" ":Qr).replace(/<!--[\s\S]*?-->/g,"")}(Ln.getData("text/html")):Ln.getData("text/plain")&&(((Vn=(Vn=Ln.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||Vn.includes("<br>"))&&(Vn=`<p>${Vn}</p>`),Kn=Vn),Bn=this.editor.data.htmlProcessor.toView(Kn)}var Vn;const Gn=new Sn(this,"inputTransformation");this.fire(Gn,{content:Bn,dataTransfer:Ln,targetRanges:Dn.targetRanges,method:Dn.method}),Gn.stop.called&&An.stop(),vn.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(An,Dn)=>{if(Dn.content.isEmpty)return;const Ln=this.editor.data.toModel(Dn.content,"$clipboardHolder");Ln.childCount!=0&&(An.stop(),dn.change(()=>{this.fire("contentInsertion",{content:Ln,method:Dn.method,dataTransfer:Dn.dataTransfer,targetRanges:Dn.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(An,Dn)=>{Dn.resultRange=dn.insertContent(Dn.content)},{priority:"low"})}_setupCopyCut(){const sn=this.editor,dn=sn.model.document,vn=sn.editing.view.document,bn=(An,Dn)=>{const Ln=Dn.dataTransfer;Dn.preventDefault();const Bn=sn.data.toView(sn.model.getSelectedContent(dn.selection));vn.fire("clipboardOutput",{dataTransfer:Ln,content:Bn,method:An.name})};this.listenTo(vn,"copy",bn,{priority:"low"}),this.listenTo(vn,"cut",(An,Dn)=>{sn.model.canEditAt(sn.model.document.selection)?bn(An,Dn):Dn.preventDefault()},{priority:"low"}),this.listenTo(vn,"clipboardOutput",(An,Dn)=>{Dn.content.isEmpty||(Dn.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(Dn.content)),Dn.dataTransfer.setData("text/plain",ob(Dn.content))),Dn.method=="cut"&&sn.model.deleteContent(dn.selection)},{priority:"low"})}}class ab{constructor(sn,dn=20){this._batch=null,this.model=sn,this._size=0,this.limit=dn,this._isLocked=!1,this._changeCallback=(vn,bn)=>{bn.isLocal&&bn.isUndoable&&bn!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(sn){this._size+=sn,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(sn=!1){this.isLocked&&!sn||(this._batch=null,this._size=0)}}class QA extends qa{constructor(sn,dn){super(sn),this._buffer=new ab(sn.model,dn),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(sn={}){const dn=this.editor.model,vn=dn.document,bn=sn.text||"",An=bn.length;let Dn=vn.selection;if(sn.selection?Dn=sn.selection:sn.range&&(Dn=dn.createSelection(sn.range)),!dn.canEditAt(Dn))return;const Ln=sn.resultRange;dn.enqueueChange(this._buffer.batch,Bn=>{this._buffer.lock(),dn.deleteContent(Dn),bn&&dn.insertContent(Bn.createText(bn,vn.selection.getAttributes()),Dn),Ln?Bn.setSelection(Ln):Dn.is("documentSelection")||Bn.setSelection(Dn),this._buffer.unlock(),this._buffer.input(An)})}}const sb=["insertText","insertReplacementText"];class JA extends Do{constructor(sn){super(sn),pn.isAndroid&&sb.push("insertCompositionText");const dn=sn.document;dn.on("beforeinput",(vn,bn)=>{if(!this.isEnabled)return;const{data:An,targetRanges:Dn,inputType:Ln,domEvent:Bn}=bn;if(!sb.includes(Ln))return;const Vn=new Sn(dn,"insertText");dn.fire(Vn,new sa(sn,Bn,{text:An,selection:sn.createSelection(Dn)})),Vn.stop.called&&vn.stop()}),dn.on("compositionend",(vn,{data:bn,domEvent:An})=>{this.isEnabled&&!pn.isAndroid&&bn&&dn.fire("insertText",new sa(sn,An,{text:bn,selection:dn.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class cb extends xo{static get pluginName(){return"Input"}init(){const sn=this.editor,dn=sn.model,vn=sn.editing.view,bn=dn.document.selection;vn.addObserver(JA);const An=new QA(sn,sn.config.get("typing.undoStep")||20);sn.commands.add("insertText",An),sn.commands.add("input",An),this.listenTo(vn.document,"insertText",(Dn,Ln)=>{vn.document.isComposing||Ln.preventDefault();const{text:Bn,selection:Vn,resultRange:Gn}=Ln,Kn=Array.from(Vn.getRanges()).map(Qr=>sn.editing.mapper.toModelRange(Qr));let $r=Bn;if(pn.isAndroid){const Qr=Array.from(Kn[0].getItems()).reduce((si,hi)=>si+(hi.is("$textProxy")?hi.data:""),"");Qr&&(Qr.length<=$r.length?$r.startsWith(Qr)&&($r=$r.substring(Qr.length),Kn[0].start=Kn[0].start.getShiftedBy(Qr.length)):Qr.startsWith($r)&&(Kn[0].start=Kn[0].start.getShiftedBy($r.length),$r=""))}const Yr={text:$r,selection:dn.createSelection(Kn)};Gn&&(Yr.resultRange=sn.editing.mapper.toModelRange(Gn)),sn.execute("insertText",Yr)}),pn.isAndroid?this.listenTo(vn.document,"keydown",(Dn,Ln)=>{!bn.isCollapsed&&Ln.keyCode==229&&vn.document.isComposing&&ub(dn,An)}):this.listenTo(vn.document,"compositionstart",()=>{bn.isCollapsed||ub(dn,An)})}}function ub(yn,sn){if(!sn.isEnabled)return;const dn=sn.buffer;dn.lock(),yn.enqueueChange(dn.batch,()=>{yn.deleteContent(yn.document.selection)}),dn.unlock()}class db extends qa{constructor(sn,dn){super(sn),this.direction=dn,this._buffer=new ab(sn.model,sn.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(sn={}){const dn=this.editor.model,vn=dn.document;dn.enqueueChange(this._buffer.batch,bn=>{this._buffer.lock();const An=bn.createSelection(sn.selection||vn.selection);if(!dn.canEditAt(An))return;const Dn=sn.sequence||1,Ln=An.isCollapsed;if(An.isCollapsed&&dn.modifySelection(An,{direction:this.direction,unit:sn.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(Dn))return void this._replaceEntireContentWithParagraph(bn);if(this._shouldReplaceFirstBlockWithParagraph(An,Dn))return void this.editor.execute("paragraph",{selection:An});if(An.isCollapsed)return;let Bn=0;An.getFirstRange().getMinimalFlatRanges().forEach(Vn=>{Bn+=ro(Vn.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),dn.deleteContent(An,{doNotResetEntireContent:Ln,direction:this.direction}),this._buffer.input(Bn),bn.setSelection(An),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(sn){if(sn>1)return!1;const dn=this.editor.model,vn=dn.document.selection,bn=dn.schema.getLimitElement(vn);if(!(vn.isCollapsed&&vn.containsEntireContent(bn))||!dn.schema.checkChild(bn,"paragraph"))return!1;const An=bn.getChild(0);return!An||!An.is("element","paragraph")}_replaceEntireContentWithParagraph(sn){const dn=this.editor.model,vn=dn.document.selection,bn=dn.schema.getLimitElement(vn),An=sn.createElement("paragraph");sn.remove(sn.createRangeIn(bn)),sn.insert(An,bn),sn.setSelection(An,0)}_shouldReplaceFirstBlockWithParagraph(sn,dn){const vn=this.editor.model;if(dn>1||this.direction!="backward"||!sn.isCollapsed)return!1;const bn=sn.getFirstPosition(),An=vn.schema.getLimitElement(bn),Dn=An.getChild(0);return bn.parent==Dn&&!!sn.containsEntireContent(Dn)&&!!vn.schema.checkChild(An,"paragraph")&&Dn.name!="paragraph"}}const fb="word",Bd="selection",Wf="backward",np="forward",hb={deleteContent:{unit:Bd,direction:Wf},deleteContentBackward:{unit:"codePoint",direction:Wf},deleteWordBackward:{unit:fb,direction:Wf},deleteHardLineBackward:{unit:Bd,direction:Wf},deleteSoftLineBackward:{unit:Bd,direction:Wf},deleteContentForward:{unit:"character",direction:np},deleteWordForward:{unit:fb,direction:np},deleteHardLineForward:{unit:Bd,direction:np},deleteSoftLineForward:{unit:Bd,direction:np}};class eC extends Do{constructor(sn){super(sn);const dn=sn.document;let vn=0;dn.on("keydown",()=>{vn++}),dn.on("keyup",()=>{vn=0}),dn.on("beforeinput",(bn,An)=>{if(!this.isEnabled)return;const{targetRanges:Dn,domEvent:Ln,inputType:Bn}=An,Vn=hb[Bn];if(!Vn)return;const Gn={direction:Vn.direction,unit:Vn.unit,sequence:vn};Gn.unit==Bd&&(Gn.selectionToRemove=sn.createSelection(Dn[0])),Bn==="deleteContentBackward"&&(pn.isAndroid&&(Gn.sequence=1),function($r){if($r.length!=1||$r[0].isCollapsed)return!1;const Yr=$r[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let Qr=0;for(const{nextPosition:si}of Yr){if(si.parent.is("$text")){const hi=si.parent.data,wi=si.offset;if(Bl(hi,wi)||fl(hi,wi)||op(hi,wi))continue;Qr++}else Qr++;if(Qr>1)return!0}return!1}(Dn)&&(Gn.unit=Bd,Gn.selectionToRemove=sn.createSelection(Dn)));const Kn=new Vu(dn,"delete",Dn[0]);dn.fire(Kn,new sa(sn,Ln,Gn)),Kn.stop.called&&bn.stop()}),pn.isBlink&&function(bn){const An=bn.view,Dn=An.document;let Ln=null,Bn=!1;function Vn(Kn){return Kn==Xa.backspace||Kn==Xa.delete}function Gn(Kn){return Kn==Xa.backspace?Wf:np}Dn.on("keydown",(Kn,{keyCode:$r})=>{Ln=$r,Bn=!1}),Dn.on("keyup",(Kn,{keyCode:$r,domEvent:Yr})=>{const Qr=Dn.selection,si=bn.isEnabled&&$r==Ln&&Vn($r)&&!Qr.isCollapsed&&!Bn;if(Ln=null,si){const hi=Qr.getFirstRange(),wi=new Vu(Dn,"delete",hi),zi={unit:Bd,direction:Gn($r),selectionToRemove:Qr};Dn.fire(wi,new sa(An,Yr,zi))}}),Dn.on("beforeinput",(Kn,{inputType:$r})=>{const Yr=hb[$r];Vn(Ln)&&Yr&&Yr.direction==Gn(Ln)&&(Bn=!0)},{priority:"high"}),Dn.on("beforeinput",(Kn,{inputType:$r,data:Yr})=>{Ln==Xa.delete&&$r=="insertText"&&Yr==""&&Kn.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class md extends xo{static get pluginName(){return"Delete"}init(){const sn=this.editor,dn=sn.editing.view,vn=dn.document,bn=sn.model.document;dn.addObserver(eC),this._undoOnBackspace=!1;const An=new db(sn,"forward");sn.commands.add("deleteForward",An),sn.commands.add("forwardDelete",An),sn.commands.add("delete",new db(sn,"backward")),this.listenTo(vn,"delete",(Dn,Ln)=>{vn.isComposing||Ln.preventDefault();const{direction:Bn,sequence:Vn,selectionToRemove:Gn,unit:Kn}=Ln,$r=Bn==="forward"?"deleteForward":"delete",Yr={sequence:Vn};if(Kn=="selection"){const Qr=Array.from(Gn.getRanges()).map(si=>sn.editing.mapper.toModelRange(si));Yr.selection=sn.model.createSelection(Qr)}else Yr.unit=Kn;sn.execute($r,Yr),dn.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(vn,"delete",(Dn,Ln)=>{this._undoOnBackspace&&Ln.direction=="backward"&&Ln.sequence==1&&Ln.unit=="codePoint"&&(this._undoOnBackspace=!1,sn.execute("undo"),Ln.preventDefault(),Dn.stop())},{context:"$capture"}),this.listenTo(bn,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class tC extends xo{static get requires(){return[cb,md]}static get pluginName(){return"Typing"}}function pb(yn,sn){let dn=yn.start;return{text:Array.from(yn.getWalker({ignoreElementEnd:!1})).reduce((vn,{item:bn})=>bn.is("$text")||bn.is("$textProxy")?vn+bn.data:(dn=sn.createPositionAfter(bn),""),""),range:sn.createRange(dn,yn.end)}}class gb extends Yi(){constructor(sn,dn){super(),this.model=sn,this.testCallback=dn,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(sn.document.selection),this.stopListening(sn.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const sn=this.model.document;this.listenTo(sn.selection,"change:range",(dn,{directChange:vn})=>{vn&&(sn.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(sn,"change:data",(dn,vn)=>{!vn.isUndo&&vn.isLocal&&this._evaluateTextBeforeSelection("data",{batch:vn})})}_evaluateTextBeforeSelection(sn,dn={}){const vn=this.model,bn=vn.document.selection,An=vn.createRange(vn.createPositionAt(bn.focus.parent,0),bn.focus),{text:Dn,range:Ln}=pb(An,vn),Bn=this.testCallback(Dn);if(!Bn&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!Bn,Bn){const Vn=Object.assign(dn,{text:Dn,range:Ln});typeof Bn=="object"&&Object.assign(Vn,Bn),this.fire(`matched:${sn}`,Vn)}}}class vb extends xo{constructor(sn){super(sn),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const sn=this.editor,dn=sn.model,vn=sn.editing.view,bn=sn.locale,An=dn.document.selection;this.listenTo(vn.document,"arrowKey",(Dn,Ln)=>{if(!An.isCollapsed||Ln.shiftKey||Ln.altKey||Ln.ctrlKey)return;const Bn=Ln.keyCode==Xa.arrowright,Vn=Ln.keyCode==Xa.arrowleft;if(!Bn&&!Vn)return;const Gn=bn.contentLanguageDirection;let Kn=!1;Kn=Gn==="ltr"&&Bn||Gn==="rtl"&&Vn?this._handleForwardMovement(Ln):this._handleBackwardMovement(Ln),Kn===!0&&Dn.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(An,"change:range",(Dn,Ln)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!Ln.directChange&&Zp(An.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(sn){this.attributes.add(sn)}_handleForwardMovement(sn){const dn=this.attributes,vn=this.editor.model.document.selection,bn=vn.getFirstPosition();return!this._isGravityOverridden&&(!bn.isAtStart||!cv(vn,dn))&&!!Zp(bn,dn)&&(Kp(sn),this._overrideGravity(),!0)}_handleBackwardMovement(sn){const dn=this.attributes,vn=this.editor.model,bn=vn.document.selection,An=bn.getFirstPosition();return this._isGravityOverridden?(Kp(sn),this._restoreGravity(),uv(vn,dn,An),!0):An.isAtStart?!!cv(bn,dn)&&(Kp(sn),uv(vn,dn,An),!0):!!function(Dn,Ln){const Bn=Dn.getShiftedBy(-1);return Zp(Bn,Ln)}(An,dn)&&(An.isAtEnd&&!cv(bn,dn)&&Zp(An,dn)?(Kp(sn),uv(vn,dn,An),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(sn=>sn.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(sn=>{sn.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function cv(yn,sn){for(const dn of sn)if(yn.hasAttribute(dn))return!0;return!1}function uv(yn,sn,dn){const vn=dn.nodeBefore;yn.change(bn=>{vn?bn.setSelectionAttribute(vn.getAttributes()):bn.removeSelectionAttribute(sn)})}function Kp(yn){yn.preventDefault()}function Zp(yn,sn){const{nodeBefore:dn,nodeAfter:vn}=yn;for(const bn of sn){const An=dn?dn.getAttribute(bn):void 0;if((vn?vn.getAttribute(bn):void 0)!==An)return!0}return!1}var mb=/[\\^$.*+?()[\]{}|]/g,nC=RegExp(mb.source);const rC=function(yn){return(yn=Th(yn))&&nC.test(yn)?yn.replace(mb,"\\$&"):yn},yb={copyright:{from:"(c)",to:"Â©"},registeredTrademark:{from:"(r)",to:"Â®"},trademark:{from:"(tm)",to:"â¢"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"Â½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"â",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"â",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"Â¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"Â¾",null]},lessThanOrEqual:{from:"<=",to:"â¤"},greaterThanOrEqual:{from:">=",to:"â¥"},notEqual:{from:"!=",to:"â "},arrowLeft:{from:"<-",to:"â"},arrowRight:{from:"->",to:"â"},horizontalEllipsis:{from:"...",to:"â¦"},enDash:{from:/(^| )(--)( )$/,to:[null,"â",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"â",null]},quotesPrimary:{from:qf('"'),to:[null,"â",null,"â"]},quotesSecondary:{from:qf("'"),to:[null,"â",null,"â"]},quotesPrimaryEnGb:{from:qf("'"),to:[null,"â",null,"â"]},quotesSecondaryEnGb:{from:qf('"'),to:[null,"â",null,"â"]},quotesPrimaryPl:{from:qf('"'),to:[null,"â",null,"â"]},quotesSecondaryPl:{from:qf("'"),to:[null,"â",null,"â"]}},bb={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},iC=["symbols","mathematical","typography","quotes"];function oC(yn){return typeof yn=="string"?new RegExp(`(${rC(yn)})$`):yn}function aC(yn){return typeof yn=="string"?()=>[yn]:yn instanceof Array?()=>yn:yn}function sC(yn){return(yn.textNode?yn.textNode:yn.nodeAfter).getAttributes()}function qf(yn){return new RegExp(`(^|\\s)(${yn})([^${yn}]*)(${yn})$`)}function Yf(yn,sn,dn,vn){return vn.createRange(wb(yn,sn,dn,!0,vn),wb(yn,sn,dn,!1,vn))}function wb(yn,sn,dn,vn,bn){let An=yn.textNode||(vn?yn.nodeBefore:yn.nodeAfter),Dn=null;for(;An&&An.getAttribute(sn)==dn;)Dn=An,An=vn?An.previousSibling:An.nextSibling;return Dn?bn.createPositionAt(Dn,vn?"before":"after"):yn}function*kb(yn,sn){for(const dn of sn)dn&&yn.getAttributeProperties(dn[0]).copyOnEnter&&(yield dn)}class lC extends qa{execute(){this.editor.model.change(sn=>{this.enterBlock(sn),this.fire("afterExecute",{writer:sn})})}enterBlock(sn){const dn=this.editor.model,vn=dn.document.selection,bn=dn.schema,An=vn.isCollapsed,Dn=vn.getFirstRange(),Ln=Dn.start.parent,Bn=Dn.end.parent;if(bn.isLimit(Ln)||bn.isLimit(Bn))return An||Ln!=Bn||dn.deleteContent(vn),!1;if(An){const Vn=kb(sn.model.schema,vn.getAttributes());return Ab(sn,Dn.start),sn.setSelectionAttribute(Vn),!0}{const Vn=!(Dn.start.isAtStart&&Dn.end.isAtEnd),Gn=Ln==Bn;if(dn.deleteContent(vn,{leaveUnmerged:Vn}),Vn){if(Gn)return Ab(sn,vn.focus),!0;sn.setSelection(Bn,0)}}return!1}}function Ab(yn,sn){yn.split(sn),yn.setSelection(sn.parent.nextSibling,0)}const cC={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Cb extends Do{constructor(sn){super(sn);const dn=this.document;let vn=!1;dn.on("keydown",(bn,An)=>{vn=An.shiftKey}),dn.on("beforeinput",(bn,An)=>{if(!this.isEnabled)return;let Dn=An.inputType;pn.isSafari&&vn&&Dn=="insertParagraph"&&(Dn="insertLineBreak");const Ln=An.domEvent,Bn=cC[Dn];if(!Bn)return;const Vn=new Vu(dn,"enter",An.targetRanges[0]);dn.fire(Vn,new sa(sn,Ln,{isSoft:Bn.isSoft})),Vn.stop.called&&bn.stop()})}observe(){}stopObserving(){}}class Xp extends xo{static get pluginName(){return"Enter"}init(){const sn=this.editor,dn=sn.editing.view,vn=dn.document;dn.addObserver(Cb),sn.commands.add("enter",new lC(sn)),this.listenTo(vn,"enter",(bn,An)=>{vn.isComposing||An.preventDefault(),An.isSoft||(sn.execute("enter"),dn.scrollToTheSelection())},{priority:"low"})}}class uC extends qa{execute(){const sn=this.editor.model,dn=sn.document;sn.change(vn=>{(function(bn,An,Dn){const Ln=Dn.isCollapsed,Bn=Dn.getFirstRange(),Vn=Bn.start.parent,Gn=Bn.end.parent,Kn=Vn==Gn;if(Ln){const $r=kb(bn.schema,Dn.getAttributes());xb(bn,An,Bn.end),An.removeSelectionAttribute(Dn.getAttributeKeys()),An.setSelectionAttribute($r)}else{const $r=!(Bn.start.isAtStart&&Bn.end.isAtEnd);bn.deleteContent(Dn,{leaveUnmerged:$r}),Kn?xb(bn,An,Dn.focus):$r&&An.setSelection(Gn,0)}})(sn,vn,dn.selection),this.fire("afterExecute",{writer:vn})})}refresh(){const sn=this.editor.model,dn=sn.document;this.isEnabled=function(vn,bn){if(bn.rangeCount>1)return!1;const An=bn.anchor;if(!An||!vn.checkChild(An,"softBreak"))return!1;const Dn=bn.getFirstRange(),Ln=Dn.start.parent,Bn=Dn.end.parent;return!((dv(Ln,vn)||dv(Bn,vn))&&Ln!==Bn)}(sn.schema,dn.selection)}}function xb(yn,sn,dn){const vn=sn.createElement("softBreak");yn.insertContent(vn,dn),sn.setSelection(vn,"after")}function dv(yn,sn){return!yn.is("rootElement")&&(sn.isLimit(yn)||dv(yn.parent,sn))}class dC extends xo{static get pluginName(){return"ShiftEnter"}init(){const sn=this.editor,dn=sn.model.schema,vn=sn.conversion,bn=sn.editing.view,An=bn.document;dn.register("softBreak",{allowWhere:"$text",isInline:!0}),vn.for("upcast").elementToElement({model:"softBreak",view:"br"}),vn.for("downcast").elementToElement({model:"softBreak",view:(Dn,{writer:Ln})=>Ln.createEmptyElement("br")}),bn.addObserver(Cb),sn.commands.add("shiftEnter",new uC(sn)),this.listenTo(An,"enter",(Dn,Ln)=>{An.isComposing||Ln.preventDefault(),Ln.isSoft&&(sn.execute("shiftEnter"),bn.scrollToTheSelection())},{priority:"low"})}}class fC extends ti(){constructor(){super(...arguments),this._stack=[]}add(sn,dn){const vn=this._stack,bn=vn[0];this._insertDescriptor(sn);const An=vn[0];bn===An||fv(bn,An)||this.fire("change:top",{oldDescriptor:bn,newDescriptor:An,writer:dn})}remove(sn,dn){const vn=this._stack,bn=vn[0];this._removeDescriptor(sn);const An=vn[0];bn===An||fv(bn,An)||this.fire("change:top",{oldDescriptor:bn,newDescriptor:An,writer:dn})}_insertDescriptor(sn){const dn=this._stack,vn=dn.findIndex(An=>An.id===sn.id);if(fv(sn,dn[vn]))return;vn>-1&&dn.splice(vn,1);let bn=0;for(;dn[bn]&&hC(dn[bn],sn);)bn++;dn.splice(bn,0,sn)}_removeDescriptor(sn){const dn=this._stack,vn=dn.findIndex(bn=>bn.id===sn);vn>-1&&dn.splice(vn,1)}}function fv(yn,sn){return yn&&sn&&yn.priority==sn.priority&&Qp(yn.classes)==Qp(sn.classes)}function hC(yn,sn){return yn.priority>sn.priority||!(yn.priority<sn.priority)&&Qp(yn.classes)>Qp(sn.classes)}function Qp(yn){return Array.isArray(yn)?yn.sort().join(","):yn}const pC='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',gC="ck-widget",Sb="ck-widget_selected";function pl(yn){return!!yn.is("element")&&!!yn.getCustomProperty("widget")}function hv(yn,sn,dn={}){if(!yn.is("containerElement"))throw new Nn("widget-to-widget-wrong-element-type",null,{element:yn});return sn.setAttribute("contenteditable","false",yn),sn.addClass(gC,yn),sn.setCustomProperty("widget",!0,yn),yn.getFillerOffset=yC,sn.setCustomProperty("widgetLabel",[],yn),dn.label&&function(vn,bn){vn.getCustomProperty("widgetLabel").push(bn)}(yn,dn.label),dn.hasSelectionHandle&&function(vn,bn){const An=bn.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(Dn){const Ln=this.toDomElement(Dn),Bn=new iu;return Bn.set("content",pC),Bn.render(),Ln.appendChild(Bn.element),Ln});bn.insert(bn.createPositionAt(vn,0),An),bn.addClass(["ck-widget_with-selection-handle"],vn)}(yn,sn),Eb(yn,sn),yn}function vC(yn,sn,dn){if(sn.classes&&dn.addClass($l(sn.classes),yn),sn.attributes)for(const vn in sn.attributes)dn.setAttribute(vn,sn.attributes[vn],yn)}function mC(yn,sn,dn){if(sn.classes&&dn.removeClass($l(sn.classes),yn),sn.attributes)for(const vn in sn.attributes)dn.removeAttribute(vn,yn)}function Eb(yn,sn,dn=vC,vn=mC){const bn=new fC;bn.on("change:top",(An,Dn)=>{Dn.oldDescriptor&&vn(yn,Dn.oldDescriptor,Dn.writer),Dn.newDescriptor&&dn(yn,Dn.newDescriptor,Dn.writer)}),sn.setCustomProperty("addHighlight",(An,Dn,Ln)=>bn.add(Dn,Ln),yn),sn.setCustomProperty("removeHighlight",(An,Dn,Ln)=>bn.remove(Dn,Ln),yn)}function Db(yn,sn,dn={}){return sn.addClass(["ck-editor__editable","ck-editor__nested-editable"],yn),sn.setAttribute("role","textbox",yn),dn.label&&sn.setAttribute("aria-label",dn.label,yn),sn.setAttribute("contenteditable",yn.isReadOnly?"false":"true",yn),yn.on("change:isReadOnly",(vn,bn,An)=>{sn.setAttribute("contenteditable",An?"false":"true",yn)}),yn.on("change:isFocused",(vn,bn,An)=>{An?sn.addClass("ck-editor__nested-editable_focused",yn):sn.removeClass("ck-editor__nested-editable_focused",yn)}),Eb(yn,sn),yn}function Tb(yn,sn){const dn=yn.getSelectedElement();if(dn){const vn=Fd(yn);if(vn)return sn.createRange(sn.createPositionAt(dn,vn))}return sy(yn,sn)}function yC(){return null}const yd="widget-type-around";function vf(yn,sn,dn){return!!yn&&pl(yn)&&!dn.isInline(sn)}function Fd(yn){return yn.getAttribute(yd)}var Mb=rn(4921),bC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Mb.Z,bC),Mb.Z.locals;const Ib=["before","after"],_C=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Lb="ck-widget__type-around_disabled";class wC extends xo{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Xp,md]}init(){const sn=this.editor,dn=sn.editing.view;this.on("change:isEnabled",(vn,bn,An)=>{dn.change(Dn=>{for(const Ln of dn.document.roots)An?Dn.removeClass(Lb,Ln):Dn.addClass(Lb,Ln)}),An||sn.model.change(Dn=>{Dn.removeSelectionAttribute(yd)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(sn,dn){const vn=this.editor,bn=vn.editing.view,An=vn.model.schema.getAttributesWithProperty(sn,"copyOnReplace",!0);vn.execute("insertParagraph",{position:vn.model.createPositionAt(sn,dn),attributes:An}),bn.focus(),bn.scrollToTheSelection()}_listenToIfEnabled(sn,dn,vn,bn){this.listenTo(sn,dn,(...An)=>{this.isEnabled&&vn(...An)},bn)}_insertParagraphAccordingToFakeCaretPosition(){const sn=this.editor.model.document.selection,dn=Fd(sn);if(!dn)return!1;const vn=sn.getSelectedElement();return this._insertParagraph(vn,dn),!0}_enableTypeAroundUIInjection(){const sn=this.editor,dn=sn.model.schema,vn=sn.locale.t,bn={before:vn("Insert paragraph before block"),after:vn("Insert paragraph after block")};sn.editing.downcastDispatcher.on("insert",(An,Dn,Ln)=>{const Bn=Ln.mapper.toViewElement(Dn.item);Bn&&vf(Bn,Dn.item,dn)&&(function(Vn,Gn,Kn){const $r=Vn.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Yr){const Qr=this.toDomElement(Yr);return function(si,hi){for(const wi of Ib){const zi=new Cc({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${wi}`],title:hi[wi],"aria-hidden":"true"},children:[si.ownerDocument.importNode(_C,!0)]});si.appendChild(zi.render())}}(Qr,Gn),function(si){const hi=new Cc({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});si.appendChild(hi.render())}(Qr),Qr});Vn.insert(Vn.createPositionAt(Kn,"end"),$r)}(Ln.writer,bn,Bn),Bn.getCustomProperty("widgetLabel").push(()=>this.isEnabled?vn("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const sn=this.editor,dn=sn.model,vn=dn.document.selection,bn=dn.schema,An=sn.editing.view;function Dn(Ln){return`ck-widget_type-around_show-fake-caret_${Ln}`}this._listenToIfEnabled(An.document,"arrowKey",(Ln,Bn)=>{this._handleArrowKeyPress(Ln,Bn)},{context:[pl,"$text"],priority:"high"}),this._listenToIfEnabled(vn,"change:range",(Ln,Bn)=>{Bn.directChange&&sn.model.change(Vn=>{Vn.removeSelectionAttribute(yd)})}),this._listenToIfEnabled(dn.document,"change:data",()=>{const Ln=vn.getSelectedElement();Ln&&vf(sn.editing.mapper.toViewElement(Ln),Ln,bn)||sn.model.change(Bn=>{Bn.removeSelectionAttribute(yd)})}),this._listenToIfEnabled(sn.editing.downcastDispatcher,"selection",(Ln,Bn,Vn)=>{const Gn=Vn.writer;if(this._currentFakeCaretModelElement){const Qr=Vn.mapper.toViewElement(this._currentFakeCaretModelElement);Qr&&(Gn.removeClass(Ib.map(Dn),Qr),this._currentFakeCaretModelElement=null)}const Kn=Bn.selection.getSelectedElement();if(!Kn)return;const $r=Vn.mapper.toViewElement(Kn);if(!vf($r,Kn,bn))return;const Yr=Fd(Bn.selection);Yr&&(Gn.addClass(Dn(Yr),$r),this._currentFakeCaretModelElement=Kn)}),this._listenToIfEnabled(sn.ui.focusTracker,"change:isFocused",(Ln,Bn,Vn)=>{Vn||sn.model.change(Gn=>{Gn.removeSelectionAttribute(yd)})})}_handleArrowKeyPress(sn,dn){const vn=this.editor,bn=vn.model,An=bn.document.selection,Dn=bn.schema,Ln=vn.editing.view,Bn=function(Kn,$r){const Yr=kf(Kn,$r);return Yr==="down"||Yr==="right"}(dn.keyCode,vn.locale.contentLanguageDirection),Vn=Ln.document.selection.getSelectedElement();let Gn;vf(Vn,vn.editing.mapper.toModelElement(Vn),Dn)?Gn=this._handleArrowKeyPressOnSelectedWidget(Bn):An.isCollapsed?Gn=this._handleArrowKeyPressWhenSelectionNextToAWidget(Bn):dn.shiftKey||(Gn=this._handleArrowKeyPressWhenNonCollapsedSelection(Bn)),Gn&&(dn.preventDefault(),sn.stop())}_handleArrowKeyPressOnSelectedWidget(sn){const dn=this.editor.model,vn=Fd(dn.document.selection);return dn.change(bn=>vn?vn!==(sn?"after":"before")?(bn.removeSelectionAttribute(yd),!0):!1:(bn.setSelectionAttribute(yd,sn?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(sn){const dn=this.editor,vn=dn.model,bn=vn.schema,An=dn.plugins.get("Widget"),Dn=An._getObjectElementNextToSelection(sn);return!!vf(dn.editing.mapper.toViewElement(Dn),Dn,bn)&&(vn.change(Ln=>{An._setSelectionOverElement(Dn),Ln.setSelectionAttribute(yd,sn?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(sn){const dn=this.editor,vn=dn.model,bn=vn.schema,An=dn.editing.mapper,Dn=vn.document.selection,Ln=sn?Dn.getLastPosition().nodeBefore:Dn.getFirstPosition().nodeAfter;return!!vf(An.toViewElement(Ln),Ln,bn)&&(vn.change(Bn=>{Bn.setSelection(Ln,"on"),Bn.setSelectionAttribute(yd,sn?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const sn=this.editor,dn=sn.editing.view;this._listenToIfEnabled(dn.document,"mousedown",(vn,bn)=>{const An=bn.domTarget.closest(".ck-widget__type-around__button");if(!An)return;const Dn=function(Vn){return Vn.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(An),Ln=function(Vn,Gn){const Kn=Vn.closest(".ck-widget");return Gn.mapDomToView(Kn)}(An,dn.domConverter),Bn=sn.editing.mapper.toModelElement(Ln);this._insertParagraph(Bn,Dn),bn.preventDefault(),vn.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const sn=this.editor,dn=sn.model.document.selection,vn=sn.editing.view;this._listenToIfEnabled(vn.document,"enter",(bn,An)=>{if(bn.eventPhase!="atTarget")return;const Dn=dn.getSelectedElement(),Ln=sn.editing.mapper.toViewElement(Dn),Bn=sn.model.schema;let Vn;this._insertParagraphAccordingToFakeCaretPosition()?Vn=!0:vf(Ln,Dn,Bn)&&(this._insertParagraph(Dn,An.isSoft?"before":"after"),Vn=!0),Vn&&(An.preventDefault(),bn.stop())},{context:pl})}_enableInsertingParagraphsOnTypingKeystroke(){const sn=this.editor.editing.view.document;this._listenToIfEnabled(sn,"insertText",(dn,vn)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(vn.selection=sn.selection)},{priority:"high"}),pn.isAndroid?this._listenToIfEnabled(sn,"keydown",(dn,vn)=>{vn.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(sn,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const sn=this.editor,dn=sn.editing.view,vn=sn.model,bn=vn.schema;this._listenToIfEnabled(dn.document,"delete",(An,Dn)=>{if(An.eventPhase!="atTarget")return;const Ln=Fd(vn.document.selection);if(!Ln)return;const Bn=Dn.direction,Vn=vn.document.selection.getSelectedElement(),Gn=Bn=="forward";if(Ln==="before"===Gn)sn.execute("delete",{selection:vn.createSelection(Vn,"on")});else{const Kn=bn.getNearestSelectionRange(vn.createPositionAt(Vn,Ln),Bn);if(Kn)if(Kn.isCollapsed){const $r=vn.createSelection(Kn.start);if(vn.modifySelection($r,{direction:Bn}),$r.focus.isEqual(Kn.start)){const Yr=function(Qr,si){let hi=si;for(const wi of si.getAncestors({parentFirst:!0})){if(wi.childCount>1||Qr.isLimit(wi))break;hi=wi}return hi}(bn,Kn.start.parent);vn.deleteContent(vn.createSelection(Yr,"on"),{doNotAutoparagraph:!0})}else vn.change(Yr=>{Yr.setSelection(Kn),sn.execute(Gn?"deleteForward":"delete")})}else vn.change($r=>{$r.setSelection(Kn),sn.execute(Gn?"deleteForward":"delete")})}Dn.preventDefault(),An.stop()},{context:pl})}_enableInsertContentIntegration(){const sn=this.editor,dn=this.editor.model,vn=dn.document.selection;this._listenToIfEnabled(sn.model,"insertContent",(bn,[An,Dn])=>{if(Dn&&!Dn.is("documentSelection"))return;const Ln=Fd(vn);return Ln?(bn.stop(),dn.change(Bn=>{const Vn=vn.getSelectedElement(),Gn=dn.createPositionAt(Vn,Ln),Kn=Bn.createSelection(Gn),$r=dn.insertContent(An,Kn);return Bn.setSelection(Kn),$r})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const sn=this.editor,dn=this.editor.model.document.selection;this._listenToIfEnabled(sn.model,"insertObject",(vn,bn)=>{const[,An,Dn={}]=bn;if(An&&!An.is("documentSelection"))return;const Ln=Fd(dn);Ln&&(Dn.findOptimalPosition=Ln,bn[3]=Dn)},{priority:"high"})}_enableDeleteContentIntegration(){const sn=this.editor,dn=this.editor.model.document.selection;this._listenToIfEnabled(sn.model,"deleteContent",(vn,[bn])=>{bn&&!bn.is("documentSelection")||Fd(dn)&&vn.stop()},{priority:"high"})}}function kC(yn){const sn=yn.model;return(dn,vn)=>{const bn=vn.keyCode==Xa.arrowup,An=vn.keyCode==Xa.arrowdown,Dn=vn.shiftKey,Ln=sn.document.selection;if(!bn&&!An)return;const Bn=An;if(Dn&&function(Gn,Kn){return!Gn.isCollapsed&&Gn.isBackward==Kn}(Ln,Bn))return;const Vn=function(Gn,Kn,$r){const Yr=Gn.model;if($r){const Qr=Kn.isCollapsed?Kn.focus:Kn.getLastPosition(),si=Pb(Yr,Qr,"forward");if(!si)return null;const hi=Yr.createRange(Qr,si),wi=Ob(Yr.schema,hi,"backward");return wi?Yr.createRange(Qr,wi):null}{const Qr=Kn.isCollapsed?Kn.focus:Kn.getFirstPosition(),si=Pb(Yr,Qr,"backward");if(!si)return null;const hi=Yr.createRange(si,Qr),wi=Ob(Yr.schema,hi,"forward");return wi?Yr.createRange(wi,Qr):null}}(yn,Ln,Bn);if(Vn){if(Vn.isCollapsed&&(Ln.isCollapsed||Dn))return;(Vn.isCollapsed||function(Gn,Kn,$r){const Yr=Gn.model,Qr=Gn.view.domConverter;if($r){const so=Yr.createSelection(Kn.start);Yr.modifySelection(so),so.focus.isAtEnd||Kn.start.isEqual(so.focus)||(Kn=Yr.createRange(so.focus,Kn.end))}const si=Gn.mapper.toViewRange(Kn),hi=Qr.viewRangeToDom(si),wi=js.getDomRangeRects(hi);let zi;for(const so of wi)if(zi!==void 0){if(Math.round(so.top)>=zi)return!1;zi=Math.max(zi,Math.round(so.bottom))}else zi=Math.round(so.bottom);return!0}(yn,Vn,Bn))&&(sn.change(Gn=>{const Kn=Bn?Vn.end:Vn.start;if(Dn){const $r=sn.createSelection(Ln.anchor);$r.setFocus(Kn),Gn.setSelection($r)}else Gn.setSelection(Kn)}),dn.stop(),vn.preventDefault(),vn.stopPropagation())}}}function Pb(yn,sn,dn){const vn=yn.schema,bn=yn.createRangeIn(sn.root),An=dn=="forward"?"elementStart":"elementEnd";for(const{previousPosition:Dn,item:Ln,type:Bn}of bn.getWalker({startPosition:sn,direction:dn})){if(vn.isLimit(Ln)&&!vn.isInline(Ln))return Dn;if(Bn==An&&vn.isBlock(Ln))return null}return null}function Ob(yn,sn,dn){const vn=dn=="backward"?sn.end:sn.start;if(yn.checkChild(vn,"$text"))return vn;for(const{nextPosition:bn}of sn.getWalker({direction:dn}))if(yn.checkChild(bn,"$text"))return bn;return null}var Rb=rn(3488),AC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Rb.Z,AC),Rb.Z.locals;class rp extends xo{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[wC,md]}init(){const sn=this.editor,dn=sn.editing.view,vn=dn.document;this.editor.editing.downcastDispatcher.on("selection",(bn,An,Dn)=>{const Ln=Dn.writer,Bn=An.selection;if(Bn.isCollapsed)return;const Vn=Bn.getSelectedElement();if(!Vn)return;const Gn=sn.editing.mapper.toViewElement(Vn);var Kn;pl(Gn)&&Dn.consumable.consume(Bn,"selection")&&Ln.setSelection(Ln.createRangeOn(Gn),{fake:!0,label:(Kn=Gn,Kn.getCustomProperty("widgetLabel").reduce(($r,Yr)=>typeof Yr=="function"?$r?$r+". "+Yr():Yr():$r?$r+". "+Yr:Yr,""))})}),this.editor.editing.downcastDispatcher.on("selection",(bn,An,Dn)=>{this._clearPreviouslySelectedWidgets(Dn.writer);const Ln=Dn.writer,Bn=Ln.document.selection;let Vn=null;for(const Gn of Bn.getRanges())for(const Kn of Gn){const $r=Kn.item;pl($r)&&!CC($r,Vn)&&(Ln.addClass(Sb,$r),this._previouslySelected.add($r),Vn=$r)}},{priority:"low"}),dn.addObserver(jg),this.listenTo(vn,"mousedown",(...bn)=>this._onMousedown(...bn)),this.listenTo(vn,"arrowKey",(...bn)=>{this._handleSelectionChangeOnArrowKeyPress(...bn)},{context:[pl,"$text"]}),this.listenTo(vn,"arrowKey",(...bn)=>{this._preventDefaultOnArrowKeyPress(...bn)},{context:"$root"}),this.listenTo(vn,"arrowKey",kC(this.editor.editing),{context:"$text"}),this.listenTo(vn,"delete",(bn,An)=>{this._handleDelete(An.direction=="forward")&&(An.preventDefault(),bn.stop())},{context:"$root"})}_onMousedown(sn,dn){const vn=this.editor,bn=vn.editing.view,An=bn.document;let Dn=dn.target;if(function(Bn){let Vn=Bn;for(;Vn;){if(Vn.is("editableElement")&&!Vn.is("rootElement"))return!0;if(pl(Vn))return!1;Vn=Vn.parent}return!1}(Dn)){if((pn.isSafari||pn.isGecko)&&dn.domEvent.detail>=3){const Bn=vn.editing.mapper,Vn=Dn.is("attributeElement")?Dn.findAncestor(Kn=>!Kn.is("attributeElement")):Dn,Gn=Bn.toModelElement(Vn);dn.preventDefault(),this.editor.model.change(Kn=>{Kn.setSelection(Gn,"in")})}return}if(!pl(Dn)&&(Dn=Dn.findAncestor(pl),!Dn))return;pn.isAndroid&&dn.preventDefault(),An.isFocused||bn.focus();const Ln=vn.editing.mapper.toModelElement(Dn);this._setSelectionOverElement(Ln)}_handleSelectionChangeOnArrowKeyPress(sn,dn){const vn=dn.keyCode,bn=this.editor.model,An=bn.schema,Dn=bn.document.selection,Ln=Dn.getSelectedElement(),Bn=kf(vn,this.editor.locale.contentLanguageDirection),Vn=Bn=="down"||Bn=="right",Gn=Bn=="up"||Bn=="down";if(Ln&&An.isObject(Ln)){const $r=Vn?Dn.getLastPosition():Dn.getFirstPosition(),Yr=An.getNearestSelectionRange($r,Vn?"forward":"backward");return void(Yr&&(bn.change(Qr=>{Qr.setSelection(Yr)}),dn.preventDefault(),sn.stop()))}if(!Dn.isCollapsed&&!dn.shiftKey){const $r=Dn.getFirstPosition(),Yr=Dn.getLastPosition(),Qr=$r.nodeAfter,si=Yr.nodeBefore;return void((Qr&&An.isObject(Qr)||si&&An.isObject(si))&&(bn.change(hi=>{hi.setSelection(Vn?Yr:$r)}),dn.preventDefault(),sn.stop()))}if(!Dn.isCollapsed)return;const Kn=this._getObjectElementNextToSelection(Vn);if(Kn&&An.isObject(Kn)){if(An.isInline(Kn)&&Gn)return;this._setSelectionOverElement(Kn),dn.preventDefault(),sn.stop()}}_preventDefaultOnArrowKeyPress(sn,dn){const vn=this.editor.model,bn=vn.schema,An=vn.document.selection.getSelectedElement();An&&bn.isObject(An)&&(dn.preventDefault(),sn.stop())}_handleDelete(sn){const dn=this.editor.model.document.selection;if(!this.editor.model.canEditAt(dn)||!dn.isCollapsed)return;const vn=this._getObjectElementNextToSelection(sn);return vn?(this.editor.model.change(bn=>{let An=dn.anchor.parent;for(;An.isEmpty;){const Dn=An;An=Dn.parent,bn.remove(Dn)}this._setSelectionOverElement(vn)}),!0):void 0}_setSelectionOverElement(sn){this.editor.model.change(dn=>{dn.setSelection(dn.createRangeOn(sn))})}_getObjectElementNextToSelection(sn){const dn=this.editor.model,vn=dn.schema,bn=dn.document.selection,An=dn.createSelection(bn);if(dn.modifySelection(An,{direction:sn?"forward":"backward"}),An.isEqual(bn))return null;const Dn=sn?An.focus.nodeBefore:An.focus.nodeAfter;return Dn&&vn.isObject(Dn)?Dn:null}_clearPreviouslySelectedWidgets(sn){for(const dn of this._previouslySelected)sn.removeClass(Sb,dn);this._previouslySelected.clear()}}function CC(yn,sn){return!!sn&&Array.from(yn.getAncestors()).includes(sn)}class Jp extends xo{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Wp]}static get pluginName(){return"WidgetToolbarRepository"}init(){const sn=this.editor;if(sn.plugins.has("BalloonToolbar")){const dn=sn.plugins.get("BalloonToolbar");this.listenTo(dn,"show",vn=>{(function(bn){const An=bn.getSelectedElement();return!(!An||!pl(An))})(sn.editing.view.document.selection)&&vn.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(sn.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(sn.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const sn of this._toolbarDefinitions.values())sn.view.destroy()}register(sn,{ariaLabel:dn,items:vn,getRelatedElement:bn,balloonClassName:An="ck-toolbar-container"}){if(!vn.length)return void Hn("widget-toolbar-no-items",{toolbarId:sn});const Dn=this.editor,Ln=Dn.t,Bn=new Gg(Dn.locale);if(Bn.ariaLabel=dn||Ln("Widget toolbar"),this._toolbarDefinitions.has(sn))throw new Nn("widget-toolbar-duplicated",this,{toolbarId:sn});const Vn={view:Bn,getRelatedElement:bn,balloonClassName:An,itemsConfig:vn,initialized:!1};Dn.ui.addToolbar(Bn,{isContextual:!0,beforeFocus:()=>{const Gn=bn(Dn.editing.view.document.selection);Gn&&this._showToolbar(Vn,Gn)},afterBlur:()=>{this._hideToolbar(Vn)}}),this._toolbarDefinitions.set(sn,Vn)}_updateToolbarsVisibility(){let sn=0,dn=null,vn=null;for(const bn of this._toolbarDefinitions.values()){const An=bn.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&An)if(this.editor.ui.focusTracker.isFocused){const Dn=An.getAncestors().length;Dn>sn&&(sn=Dn,dn=An,vn=bn)}else this._isToolbarVisible(bn)&&this._hideToolbar(bn);else this._isToolbarInBalloon(bn)&&this._hideToolbar(bn)}vn&&this._showToolbar(vn,dn)}_hideToolbar(sn){this._balloon.remove(sn.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(sn,dn){this._isToolbarVisible(sn)?Nb(this.editor,dn):this._isToolbarInBalloon(sn)||(sn.initialized||(sn.initialized=!0,sn.view.fillFromConfig(sn.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:sn.view,position:$b(this.editor,dn),balloonClassName:sn.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const vn of this._toolbarDefinitions.values())if(this._isToolbarVisible(vn)){const bn=vn.getRelatedElement(this.editor.editing.view.document.selection);Nb(this.editor,bn)}}))}_isToolbarVisible(sn){return this._balloon.visibleView===sn.view}_isToolbarInBalloon(sn){return this._balloon.hasView(sn.view)}}function Nb(yn,sn){const dn=yn.plugins.get("ContextualBalloon"),vn=$b(yn,sn);dn.updatePosition(vn)}function $b(yn,sn){const dn=yn.editing.view,vn=Oc.defaultPositions;return{target:dn.domConverter.mapViewToDom(sn),positions:[vn.northArrowSouth,vn.northArrowSouthWest,vn.northArrowSouthEast,vn.southArrowNorth,vn.southArrowNorthWest,vn.southArrowNorthEast,vn.viewportStickyNorth]}}var Bb=rn(8506),xC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Bb.Z,xC),Bb.Z.locals;var Fb=rn(903),SC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Fb.Z,SC),Fb.Z.locals;class EC extends xo{static get pluginName(){return"DragDrop"}static get requires(){return[Zu,rp]}init(){const sn=this.editor,dn=sn.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=ov(vn=>this._updateDropMarker(vn),40),this._removeDropMarkerDelayed=dl(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=dl(()=>this._clearDraggableAttributes(),40),sn.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(dn.addObserver(lv),dn.addObserver(jg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(sn,"change:isReadOnly",(vn,bn,An)=>{An?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(vn,bn,An)=>{An||this._finalizeDragging(!1)}),pn.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const sn=this.editor,dn=sn.model,vn=dn.document,bn=sn.editing.view,An=bn.document;this.listenTo(An,"dragstart",(Dn,Ln)=>{const Bn=vn.selection;if(Ln.target&&Ln.target.is("editableElement"))return void Ln.preventDefault();const Vn=Ln.target?Vb(Ln.target):null;if(Vn){const Yr=sn.editing.mapper.toModelElement(Vn);this._draggedRange=Eu.fromRange(dn.createRangeOn(Yr)),sn.plugins.has("WidgetToolbarRepository")&&sn.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!An.selection.isCollapsed){const Yr=An.selection.getSelectedElement();Yr&&pl(Yr)||(this._draggedRange=Eu.fromRange(Bn.getFirstRange()))}if(!this._draggedRange)return void Ln.preventDefault();this._draggingUid=In();const Gn=this.isEnabled&&sn.model.canEditAt(this._draggedRange);Ln.dataTransfer.effectAllowed=Gn?"copyMove":"copy",Ln.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const Kn=dn.createSelection(this._draggedRange.toRange()),$r=sn.data.toView(dn.getSelectedContent(Kn));An.fire("clipboardOutput",{dataTransfer:Ln.dataTransfer,content:$r,method:"dragstart"}),Gn||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(An,"dragend",(Dn,Ln)=>{this._finalizeDragging(!Ln.dataTransfer.isCanceled&&Ln.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(An,"dragenter",()=>{this.isEnabled&&bn.focus()}),this.listenTo(An,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(An,"dragging",(Dn,Ln)=>{if(!this.isEnabled)return void(Ln.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const Bn=zb(sn,Ln.targetRanges,Ln.target);sn.model.canEditAt(Bn)?(this._draggedRange||(Ln.dataTransfer.dropEffect="copy"),pn.isGecko||(Ln.dataTransfer.effectAllowed=="copy"?Ln.dataTransfer.dropEffect="copy":["all","copyMove"].includes(Ln.dataTransfer.effectAllowed)&&(Ln.dataTransfer.dropEffect="move")),Bn&&this._updateDropMarkerThrottled(Bn)):Ln.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const sn=this.editor,dn=sn.editing.view.document;this.listenTo(dn,"clipboardInput",(vn,bn)=>{if(bn.method!="drop")return;const An=zb(sn,bn.targetRanges,bn.target);if(this._removeDropMarker(),!An||!sn.model.canEditAt(An))return this._finalizeDragging(!1),void vn.stop();if(this._draggedRange&&this._draggingUid!=bn.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Hb(bn.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(An,!0))return this._finalizeDragging(!1),void vn.stop();bn.targetRanges=[sn.editing.mapper.toViewRange(An)]},{priority:"high"})}_setupContentInsertionIntegration(){const sn=this.editor.plugins.get(Zu);sn.on("contentInsertion",(dn,vn)=>{if(!this.isEnabled||vn.method!=="drop")return;const bn=vn.targetRanges.map(An=>this.editor.editing.mapper.toModelRange(An));this.editor.model.change(An=>An.setSelection(bn))},{priority:"high"}),sn.on("contentInsertion",(dn,vn)=>{if(!this.isEnabled||vn.method!=="drop")return;const bn=Hb(vn.dataTransfer)=="move",An=!vn.resultRange||!vn.resultRange.isCollapsed;this._finalizeDragging(An&&bn)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const sn=this.editor,dn=sn.editing.view,vn=dn.document;this.listenTo(vn,"mousedown",(bn,An)=>{if(pn.isAndroid||!An)return;this._clearDraggableAttributesDelayed.cancel();let Dn=Vb(An.target);if(pn.isBlink&&!Dn&&!vn.selection.isCollapsed){const Ln=vn.selection.getSelectedElement();if(!Ln||!pl(Ln)){const Bn=vn.selection.editableElement;Bn&&!Bn.isReadOnly&&(Dn=Bn)}}Dn&&(dn.change(Ln=>{Ln.setAttribute("draggable","true",Dn)}),this._draggableElement=sn.editing.mapper.toModelElement(Dn))}),this.listenTo(vn,"mouseup",()=>{pn.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const sn=this.editor.editing;sn.view.change(dn=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&dn.removeAttribute("draggable",sn.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const sn=this.editor;sn.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),sn.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(dn,{writer:vn})=>{if(sn.model.schema.checkChild(dn.markerRange.start,"$text"))return vn.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(bn){const An=this.toDomElement(bn);return An.append("â ",bn.createElement("span"),"â "),An})}})}_updateDropMarker(sn){const dn=this.editor,vn=dn.model.markers;dn.model.change(bn=>{vn.has("drop-target")?vn.get("drop-target").getRange().isEqual(sn)||bn.updateMarker("drop-target",{range:sn}):bn.addMarker("drop-target",{range:sn,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const sn=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),sn.markers.has("drop-target")&&sn.change(dn=>{dn.removeMarker("drop-target")})}_finalizeDragging(sn){const dn=this.editor,vn=dn.model;this._removeDropMarker(),this._clearDraggableAttributes(),dn.plugins.has("WidgetToolbarRepository")&&dn.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(sn&&this.isEnabled&&vn.deleteContent(vn.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function zb(yn,sn,dn){const vn=yn.model,bn=yn.editing.mapper;let An=null;const Dn=sn?sn[0].start:null;if(dn.is("uiElement")&&(dn=dn.parent),An=function(Vn,Gn){const Kn=Vn.model,$r=Vn.editing.mapper;if(pl(Gn))return Kn.createRangeOn($r.toModelElement(Gn));if(!Gn.is("editableElement")){const Yr=Gn.findAncestor(Qr=>pl(Qr)||Qr.is("editableElement"));if(pl(Yr))return Kn.createRangeOn($r.toModelElement(Yr))}return null}(yn,dn),An)return An;const Ln=function(Vn,Gn){const Kn=Vn.editing.mapper,$r=Vn.editing.view,Yr=Kn.toModelElement(Gn);if(Yr)return Yr;const Qr=$r.createPositionBefore(Gn),si=Kn.findMappedViewAncestor(Qr);return Kn.toModelElement(si)}(yn,dn),Bn=Dn?bn.toModelPosition(Dn):null;return Bn?(An=function(Vn,Gn,Kn){const $r=Vn.model;if(!$r.schema.checkChild(Kn,"$block"))return null;const Yr=$r.createPositionAt(Kn,0),Qr=Gn.path.slice(0,Yr.path.length),si=$r.createPositionFromPath(Gn.root,Qr),hi=si.nodeAfter;return hi&&$r.schema.isObject(hi)?$r.createRangeOn(hi):null}(yn,Bn,Ln),An||(An=vn.schema.getNearestSelectionRange(Bn,pn.isGecko?"forward":"backward"),An||function(Vn,Gn){const Kn=Vn.model;let $r=Gn;for(;$r;){if(Kn.schema.isObject($r))return Kn.createRangeOn($r);$r=$r.parent}return null}(yn,Bn.parent))):function(Vn,Gn){const Kn=Vn.model,$r=Kn.schema,Yr=Kn.createPositionAt(Gn,0);return $r.getNearestSelectionRange(Yr,"forward")}(yn,Ln)}function Hb(yn){return pn.isGecko?yn.dropEffect:["all","copyMove"].includes(yn.effectAllowed)?"move":"copy"}function Vb(yn){if(yn.is("editableElement"))return null;if(yn.hasClass("ck-widget__selection-handle"))return yn.findAncestor(pl);if(pl(yn))return yn;const sn=yn.findAncestor(dn=>pl(dn)||dn.is("editableElement"));return pl(sn)?sn:null}class DC extends xo{static get pluginName(){return"PastePlainText"}static get requires(){return[Zu]}init(){const sn=this.editor,dn=sn.model,vn=sn.editing.view,bn=vn.document,An=dn.document.selection;let Dn=!1;vn.addObserver(lv),this.listenTo(bn,"keydown",(Ln,Bn)=>{Dn=Bn.shiftKey}),sn.plugins.get(Zu).on("contentInsertion",(Ln,Bn)=>{(Dn||function(Vn,Gn){if(Vn.childCount>1)return!1;const Kn=Vn.getChild(0);return Gn.isObject(Kn)?!1:Array.from(Kn.getAttributeKeys()).length==0}(Bn.content,dn.schema))&&dn.change(Vn=>{const Gn=Array.from(An.getAttributes()).filter(([$r])=>dn.schema.getAttributeProperties($r).isFormatting);An.isCollapsed||dn.deleteContent(An,{doNotAutoparagraph:!0}),Gn.push(...An.getAttributes());const Kn=Vn.createRangeIn(Bn.content);for(const $r of Kn.getItems())$r.is("$textProxy")&&Vn.setAttributes(Gn,$r)})})}}class jb extends xo{static get pluginName(){return"Clipboard"}static get requires(){return[Zu,EC,DC]}}class TC extends qa{constructor(sn){super(sn),this.affectsData=!1}execute(){const sn=this.editor.model,dn=sn.document.selection;let vn=sn.schema.getLimitElement(dn);if(dn.containsEntireContent(vn)||!Ub(sn.schema,vn))do if(vn=vn.parent,!vn)return;while(!Ub(sn.schema,vn));sn.change(bn=>{bn.setSelection(vn,"in")})}}function Ub(yn,sn){return yn.isLimit(sn)&&(yn.checkChild(sn,"$text")||yn.checkChild(sn,"paragraph"))}const MC=Gd("Ctrl+A");class IC extends xo{static get pluginName(){return"SelectAllEditing"}init(){const sn=this.editor,dn=sn.editing.view.document;sn.commands.add("selectAll",new TC(sn)),this.listenTo(dn,"keydown",(vn,bn)=>{Bc(bn)===MC&&(sn.execute("selectAll"),bn.preventDefault())})}}class LC extends xo{static get pluginName(){return"SelectAllUI"}init(){const sn=this.editor;sn.ui.componentFactory.add("selectAll",dn=>{const vn=sn.commands.get("selectAll"),bn=new gs(dn),An=dn.t;return bn.set({label:An("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),bn.bind("isEnabled").to(vn,"isEnabled"),this.listenTo(bn,"execute",()=>{sn.execute("selectAll"),sn.editing.view.focus()}),bn})}}class PC extends xo{static get requires(){return[IC,LC]}static get pluginName(){return"SelectAll"}}var OC=Object.defineProperty,Gb=Object.getOwnPropertySymbols,RC=Object.prototype.hasOwnProperty,NC=Object.prototype.propertyIsEnumerable,Wb=(yn,sn,dn)=>sn in yn?OC(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn;class qb extends qa{constructor(sn){super(sn),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(sn.data,"set",(dn,vn)=>{vn[1]=((An,Dn)=>{for(var Ln in Dn||(Dn={}))RC.call(Dn,Ln)&&Wb(An,Ln,Dn[Ln]);if(Gb)for(var Ln of Gb(Dn))NC.call(Dn,Ln)&&Wb(An,Ln,Dn[Ln]);return An})({},vn[1]);const bn=vn[1];bn.batchType||(bn.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(sn.data,"set",(dn,vn)=>{vn[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(sn){const dn=this.editor.model.document.selection,vn={ranges:dn.hasOwnRange?Array.from(dn.getRanges()):[],isBackward:dn.isBackward};this._stack.push({batch:sn,selection:vn}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(sn,dn,vn){const bn=this.editor.model,An=bn.document,Dn=[],Ln=sn.map(Vn=>Vn.getTransformedByOperations(vn)),Bn=Ln.flat();for(const Vn of Ln){const Gn=Vn.filter(Kn=>Kn.root!=An.graveyard).filter(Kn=>!BC(Kn,Bn));Gn.length&&($C(Gn),Dn.push(Gn[0]))}Dn.length&&bn.change(Vn=>{Vn.setSelection(Dn,{backward:dn})})}_undo(sn,dn){const vn=this.editor.model,bn=vn.document;this._createdBatches.add(dn);const An=sn.operations.slice().filter(Dn=>Dn.isDocumentOperation);An.reverse();for(const Dn of An){const Ln=Dn.baseVersion+1,Bn=Array.from(bn.history.getOperations(Ln)),Vn=uk([Dn.getReversed()],Bn,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let Gn of Vn){const Kn=Gn.affectedSelectable;Kn&&!vn.canEditAt(Kn)&&(Gn=new Hl(Gn.baseVersion)),dn.addOperation(Gn),vn.applyOperation(Gn),bn.history.setOperationAsUndone(Dn,Gn)}}}}function $C(yn){yn.sort((sn,dn)=>sn.start.isBefore(dn.start)?-1:1);for(let sn=1;sn<yn.length;sn++){const dn=yn[sn-1].getJoined(yn[sn],!0);dn&&(sn--,yn.splice(sn,2,dn))}}function BC(yn,sn){return sn.some(dn=>dn!==yn&&dn.containsRange(yn,!0))}class FC extends qb{execute(sn=null){const dn=sn?this._stack.findIndex(An=>An.batch==sn):this._stack.length-1,vn=this._stack.splice(dn,1)[0],bn=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(bn,()=>{this._undo(vn.batch,bn);const An=this.editor.model.document.history.getOperations(vn.batch.baseVersion);this._restoreSelection(vn.selection.ranges,vn.selection.isBackward,An),this.fire("revert",vn.batch,bn)}),this.refresh()}}class zC extends qb{execute(){const sn=this._stack.pop(),dn=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(dn,()=>{const vn=sn.batch.operations[sn.batch.operations.length-1].baseVersion+1,bn=this.editor.model.document.history.getOperations(vn);this._restoreSelection(sn.selection.ranges,sn.selection.isBackward,bn),this._undo(sn.batch,dn)}),this.refresh()}}class HC extends xo{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const sn=this.editor;this._undoCommand=new FC(sn),this._redoCommand=new zC(sn),sn.commands.add("undo",this._undoCommand),sn.commands.add("redo",this._redoCommand),this.listenTo(sn.model,"applyOperation",(dn,vn)=>{const bn=vn[0];if(!bn.isDocumentOperation)return;const An=bn.batch,Dn=this._redoCommand.createdBatches.has(An),Ln=this._undoCommand.createdBatches.has(An);this._batchRegistry.has(An)||(this._batchRegistry.add(An),An.isUndoable&&(Dn?this._undoCommand.addBatch(An):Ln||(this._undoCommand.addBatch(An),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(dn,vn,bn)=>{this._redoCommand.addBatch(bn)}),sn.keystrokes.set("CTRL+Z","undo"),sn.keystrokes.set("CTRL+Y","redo"),sn.keystrokes.set("CTRL+SHIFT+Z","redo")}}const Yb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Kb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class VC extends xo{static get pluginName(){return"UndoUI"}init(){const sn=this.editor,dn=sn.locale,vn=sn.t,bn=dn.uiLanguageDirection=="ltr"?Yb:Kb,An=dn.uiLanguageDirection=="ltr"?Kb:Yb;this._addButton("undo",vn("Undo"),"CTRL+Z",bn),this._addButton("redo",vn("Redo"),"CTRL+Y",An)}_addButton(sn,dn,vn,bn){const An=this.editor;An.ui.componentFactory.add(sn,Dn=>{const Ln=An.commands.get(sn),Bn=new gs(Dn);return Bn.set({label:dn,icon:bn,keystroke:vn,tooltip:!0}),Bn.bind("isEnabled").to(Ln,"isEnabled"),this.listenTo(Bn,"execute",()=>{An.execute(sn),An.editing.view.focus()}),Bn})}}class Zb extends xo{static get requires(){return[HC,VC]}static get pluginName(){return"Undo"}}class jC extends Yi(){constructor(){super();const sn=new window.FileReader;this._reader=sn,this._data=void 0,this.set("loaded",0),sn.onprogress=dn=>{this.loaded=dn.loaded}}get error(){return this._reader.error}get data(){return this._data}read(sn){const dn=this._reader;return this.total=sn.size,new Promise((vn,bn)=>{dn.onload=()=>{const An=dn.result;this._data=An,vn(An)},dn.onerror=()=>{bn("error")},dn.onabort=()=>{bn("aborted")},this._reader.readAsDataURL(sn)})}abort(){this._reader.abort()}}class Tu extends xo{constructor(){super(...arguments),this.loaders=new Fc,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[ly]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(sn,dn)=>dn?sn/dn*100:0)}getLoader(sn){return this._loadersMap.get(sn)||null}createLoader(sn){if(!this.createUploadAdapter)return Hn("filerepository-no-upload-adapter"),null;const dn=new Xb(Promise.resolve(sn),this.createUploadAdapter);return this.loaders.add(dn),this._loadersMap.set(sn,dn),sn instanceof Promise&&dn.file.then(vn=>{this._loadersMap.set(vn,dn)}).catch(()=>{}),dn.on("change:uploaded",()=>{let vn=0;for(const bn of this.loaders)vn+=bn.uploaded;this.uploaded=vn}),dn.on("change:uploadTotal",()=>{let vn=0;for(const bn of this.loaders)bn.uploadTotal&&(vn+=bn.uploadTotal);this.uploadTotal=vn}),dn}destroyLoader(sn){const dn=sn instanceof Xb?sn:this.getLoader(sn);dn._destroy(),this.loaders.remove(dn),this._loadersMap.forEach((vn,bn)=>{vn===dn&&this._loadersMap.delete(bn)})}_updatePendingAction(){const sn=this.editor.plugins.get(ly);if(this.loaders.length){if(!this._pendingAction){const dn=this.editor.t,vn=bn=>`${dn("Upload in progress")} ${parseInt(bn)}%.`;this._pendingAction=sn.add(vn(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",vn)}}else sn.remove(this._pendingAction),this._pendingAction=null}}class Xb extends Yi(){constructor(sn,dn){super(),this.id=In(),this._filePromiseWrapper=this._createFilePromiseWrapper(sn),this._adapter=dn(this),this._reader=new jC,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(vn,bn)=>bn?vn/bn*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(sn=>this._filePromiseWrapper?sn:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new Nn("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(sn=>this._reader.read(sn)).then(sn=>{if(this.status!=="reading")throw this.status;return this.status="idle",sn}).catch(sn=>{throw sn==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:sn)})}upload(){if(this.status!="idle")throw new Nn("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(sn=>(this.uploadResponse=sn,this.status="idle",sn)).catch(sn=>{throw this.status==="aborted"?"aborted":(this.status="error",sn)})}abort(){const sn=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?sn=="reading"?this._reader.abort():sn=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(sn){const dn={};return dn.promise=new Promise((vn,bn)=>{dn.rejecter=bn,dn.isFulfilled=!1,sn.then(An=>{dn.isFulfilled=!0,vn(An)}).catch(An=>{dn.isFulfilled=!0,bn(An)})}),dn}}class UC extends is{constructor(sn){super(sn),this.buttonView=new gs(sn),this._fileInputView=new GC(sn),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class GC extends is{constructor(sn){super(sn),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const dn=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:dn.to("acceptedType"),multiple:dn.to("allowMultipleFiles")},on:{change:dn.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Qb="ckCsrfToken",Jb="abcdefghijklmnopqrstuvwxyz0123456789";function WC(){let yn=function(vn){vn=vn.toLowerCase();const bn=document.cookie.split(";");for(const An of bn){const Dn=An.split("=");if(decodeURIComponent(Dn[0].trim().toLowerCase())===vn)return decodeURIComponent(Dn[1])}return null}(Qb);var sn,dn;return yn&&yn.length==40||(yn=function(vn){let bn="";const An=new Uint8Array(vn);window.crypto.getRandomValues(An);for(let Dn=0;Dn<An.length;Dn++){const Ln=Jb.charAt(An[Dn]%Jb.length);bn+=Math.random()>.5?Ln.toUpperCase():Ln}return bn}(40),sn=Qb,dn=yn,document.cookie=encodeURIComponent(sn)+"="+encodeURIComponent(dn)+";path=/"),yn}class qC{constructor(sn,dn,vn){this.loader=sn,this.url=dn,this.t=vn}upload(){return this.loader.file.then(sn=>new Promise((dn,vn)=>{this._initRequest(),this._initListeners(dn,vn,sn),this._sendRequest(sn)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const sn=this.xhr=new XMLHttpRequest;sn.open("POST",this.url,!0),sn.responseType="json"}_initListeners(sn,dn,vn){const bn=this.xhr,An=this.loader,Dn=(0,this.t)("Cannot upload file:")+` ${vn.name}.`;bn.addEventListener("error",()=>dn(Dn)),bn.addEventListener("abort",()=>dn()),bn.addEventListener("load",()=>{const Ln=bn.response;if(!Ln||!Ln.uploaded)return dn(Ln&&Ln.error&&Ln.error.message?Ln.error.message:Dn);sn({default:Ln.url})}),bn.upload&&bn.upload.addEventListener("progress",Ln=>{Ln.lengthComputable&&(An.uploadTotal=Ln.total,An.uploaded=Ln.loaded)})}_sendRequest(sn){const dn=new FormData;dn.append("upload",sn),dn.append("ckCsrfToken",WC()),this.xhr.send(dn)}}function zd(yn,sn,dn,vn){let bn,An=null;typeof vn=="function"?bn=vn:(An=yn.commands.get(vn),bn=()=>{yn.execute(vn)}),yn.model.document.on("change:data",(Dn,Ln)=>{if(An&&!An.isEnabled||!sn.isEnabled)return;const Bn=_l(yn.model.document.selection.getRanges());if(!Bn.isCollapsed||Ln.isUndo||!Ln.isLocal)return;const Vn=Array.from(yn.model.document.differ.getChanges()),Gn=Vn[0];if(Vn.length!=1||Gn.type!=="insert"||Gn.name!="$text"||Gn.length!=1)return;const Kn=Gn.position.parent;if(Kn.is("element","codeBlock")||Kn.is("element","listItem")&&typeof vn!="function"&&!["numberedList","bulletedList","todoList"].includes(vn)||An&&An.value===!0)return;const $r=Kn.getChild(0),Yr=yn.model.createRangeOn($r);if(!Yr.containsRange(Bn)&&!Bn.end.isEqual(Yr.end))return;const Qr=dn.exec($r.data.substr(0,Bn.end.offset));Qr&&yn.model.enqueueChange(si=>{const hi=si.createPositionAt(Kn,0),wi=si.createPositionAt(Kn,Qr[0].length),zi=new Eu(hi,wi);if(bn({match:Qr})!==!1){si.remove(zi);const so=yn.model.document.selection.getFirstRange(),qo=si.createRangeIn(Kn);!Kn.isEmpty||qo.isEqual(so)||qo.containsRange(so,!0)||si.remove(Kn)}zi.detach(),yn.model.enqueueChange(()=>{yn.plugins.get("Delete").requestUndoOnBackspace()})})})}function Kf(yn,sn,dn,vn){let bn,An;dn instanceof RegExp?bn=dn:An=dn,An=An||(Dn=>{let Ln;const Bn=[],Vn=[];for(;(Ln=bn.exec(Dn))!==null&&!(Ln&&Ln.length<4);){let{index:Gn,1:Kn,2:$r,3:Yr}=Ln;const Qr=Kn+$r+Yr;Gn+=Ln[0].length-Qr.length;const si=[Gn,Gn+Kn.length],hi=[Gn+Kn.length+$r.length,Gn+Kn.length+$r.length+Yr.length];Bn.push(si),Bn.push(hi),Vn.push([Gn+Kn.length,Gn+Kn.length+$r.length])}return{remove:Bn,format:Vn}}),yn.model.document.on("change:data",(Dn,Ln)=>{if(Ln.isUndo||!Ln.isLocal||!sn.isEnabled)return;const Bn=yn.model,Vn=Bn.document.selection;if(!Vn.isCollapsed)return;const Gn=Array.from(Bn.document.differ.getChanges()),Kn=Gn[0];if(Gn.length!=1||Kn.type!=="insert"||Kn.name!="$text"||Kn.length!=1)return;const $r=Vn.focus,Yr=$r.parent,{text:Qr,range:si}=function(so,qo){let Sa=so.start;return{text:Array.from(so.getItems()).reduce((ds,ql)=>!ql.is("$text")&&!ql.is("$textProxy")||ql.getAttribute("code")?(Sa=qo.createPositionAfter(ql),""):ds+ql.data,""),range:qo.createRange(Sa,so.end)}}(Bn.createRange(Bn.createPositionAt(Yr,0),$r),Bn),hi=An(Qr),wi=e0(si.start,hi.format,Bn),zi=e0(si.start,hi.remove,Bn);wi.length&&zi.length&&Bn.enqueueChange(so=>{if(vn(so,wi)!==!1){for(const qo of zi.reverse())so.remove(qo);Bn.enqueueChange(()=>{yn.plugins.get("Delete").requestUndoOnBackspace()})}})})}function e0(yn,sn,dn){return sn.filter(vn=>vn[0]!==void 0&&vn[1]!==void 0).map(vn=>dn.createRange(yn.getShiftedBy(vn[0]),yn.getShiftedBy(vn[1])))}function eg(yn,sn){return(dn,vn)=>{if(!yn.commands.get(sn).isEnabled)return!1;const bn=yn.model.schema.getValidRanges(vn,sn);for(const An of bn)dn.setAttribute(sn,!0,An);dn.removeSelectionAttribute(sn)}}class t0 extends qa{constructor(sn,dn){super(sn),this.attributeKey=dn}refresh(){const sn=this.editor.model,dn=sn.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=sn.schema.checkAttributeInSelection(dn.selection,this.attributeKey)}execute(sn={}){const dn=this.editor.model,vn=dn.document.selection,bn=sn.forceValue===void 0?!this.value:sn.forceValue;dn.change(An=>{if(vn.isCollapsed)bn?An.setSelectionAttribute(this.attributeKey,!0):An.removeSelectionAttribute(this.attributeKey);else{const Dn=dn.schema.getValidRanges(vn.getRanges(),this.attributeKey);for(const Ln of Dn)bn?An.setAttribute(this.attributeKey,bn,Ln):An.removeAttribute(this.attributeKey,Ln)}})}_getValueFromFirstAllowedNode(){const sn=this.editor.model,dn=sn.schema,vn=sn.document.selection;if(vn.isCollapsed)return vn.hasAttribute(this.attributeKey);for(const bn of vn.getRanges())for(const An of bn.getItems())if(dn.checkAttribute(An,this.attributeKey))return An.hasAttribute(this.attributeKey);return!1}}const Zf="bold";class YC extends xo{static get pluginName(){return"BoldEditing"}init(){const sn=this.editor;sn.model.schema.extend("$text",{allowAttributes:Zf}),sn.model.schema.setAttributeProperties(Zf,{isFormatting:!0,copyOnEnter:!0}),sn.conversion.attributeToElement({model:Zf,view:"strong",upcastAlso:["b",dn=>{const vn=dn.getStyle("font-weight");return vn&&(vn=="bold"||Number(vn)>=600)?{name:!0,styles:["font-weight"]}:null}]}),sn.commands.add(Zf,new t0(sn,Zf)),sn.keystrokes.set("CTRL+B",Zf)}}const pv="bold";class KC extends xo{static get pluginName(){return"BoldUI"}init(){const sn=this.editor,dn=sn.t;sn.ui.componentFactory.add(pv,vn=>{const bn=sn.commands.get(pv),An=new gs(vn);return An.set({label:dn("Bold"),icon:Il.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),An.bind("isOn","isEnabled").to(bn,"value","isEnabled"),this.listenTo(An,"execute",()=>{sn.execute(pv),sn.editing.view.focus()}),An})}}var n0=rn(8603),ZC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(n0.Z,ZC),n0.Z.locals;const Xf="italic";class XC extends xo{static get pluginName(){return"ItalicEditing"}init(){const sn=this.editor;sn.model.schema.extend("$text",{allowAttributes:Xf}),sn.model.schema.setAttributeProperties(Xf,{isFormatting:!0,copyOnEnter:!0}),sn.conversion.attributeToElement({model:Xf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),sn.commands.add(Xf,new t0(sn,Xf)),sn.keystrokes.set("CTRL+I",Xf)}}const gv="italic";class QC extends xo{static get pluginName(){return"ItalicUI"}init(){const sn=this.editor,dn=sn.t;sn.ui.componentFactory.add(gv,vn=>{const bn=sn.commands.get(gv),An=new gs(vn);return An.set({label:dn("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),An.bind("isOn","isEnabled").to(bn,"value","isEnabled"),this.listenTo(An,"execute",()=>{sn.execute(gv),sn.editing.view.focus()}),An})}}class JC extends qa{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(sn={}){const dn=this.editor.model,vn=dn.schema,bn=dn.document.selection,An=Array.from(bn.getSelectedBlocks()),Dn=sn.forceValue===void 0?!this.value:sn.forceValue;dn.change(Ln=>{if(Dn){const Bn=An.filter(Vn=>tg(Vn)||i0(vn,Vn));this._applyQuote(Ln,Bn)}else this._removeQuote(Ln,An.filter(tg))})}_getValue(){const sn=_l(this.editor.model.document.selection.getSelectedBlocks());return!(!sn||!tg(sn))}_checkEnabled(){if(this.value)return!0;const sn=this.editor.model.document.selection,dn=this.editor.model.schema,vn=_l(sn.getSelectedBlocks());return!!vn&&i0(dn,vn)}_removeQuote(sn,dn){r0(sn,dn).reverse().forEach(vn=>{if(vn.start.isAtStart&&vn.end.isAtEnd)return void sn.unwrap(vn.start.parent);if(vn.start.isAtStart){const An=sn.createPositionBefore(vn.start.parent);return void sn.move(vn,An)}vn.end.isAtEnd||sn.split(vn.end);const bn=sn.createPositionAfter(vn.end.parent);sn.move(vn,bn)})}_applyQuote(sn,dn){const vn=[];r0(sn,dn).reverse().forEach(bn=>{let An=tg(bn.start);An||(An=sn.createElement("blockQuote"),sn.wrap(bn,An)),vn.push(An)}),vn.reverse().reduce((bn,An)=>bn.nextSibling==An?(sn.merge(sn.createPositionAfter(bn)),bn):An)}}function tg(yn){return yn.parent.name=="blockQuote"?yn.parent:null}function r0(yn,sn){let dn,vn=0;const bn=[];for(;vn<sn.length;){const An=sn[vn],Dn=sn[vn+1];dn||(dn=yn.createPositionBefore(An)),Dn&&An.nextSibling==Dn||(bn.push(yn.createRange(dn,yn.createPositionAfter(An))),dn=null),vn++}return bn}function i0(yn,sn){const dn=yn.checkChild(sn.parent,"blockQuote"),vn=yn.checkChild(["$root","blockQuote"],sn);return dn&&vn}class ex extends xo{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Xp,md]}init(){const sn=this.editor,dn=sn.model.schema;sn.commands.add("blockQuote",new JC(sn)),dn.register("blockQuote",{inheritAllFrom:"$container"}),sn.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),sn.model.document.registerPostFixer(Dn=>{const Ln=sn.model.document.differ.getChanges();for(const Bn of Ln)if(Bn.type=="insert"){const Vn=Bn.position.nodeAfter;if(!Vn)continue;if(Vn.is("element","blockQuote")&&Vn.isEmpty)return Dn.remove(Vn),!0;if(Vn.is("element","blockQuote")&&!dn.checkChild(Bn.position,Vn))return Dn.unwrap(Vn),!0;if(Vn.is("element")){const Gn=Dn.createRangeIn(Vn);for(const Kn of Gn.getItems())if(Kn.is("element","blockQuote")&&!dn.checkChild(Dn.createPositionBefore(Kn),Kn))return Dn.unwrap(Kn),!0}}else if(Bn.type=="remove"){const Vn=Bn.position.parent;if(Vn.is("element","blockQuote")&&Vn.isEmpty)return Dn.remove(Vn),!0}return!1});const vn=this.editor.editing.view.document,bn=sn.model.document.selection,An=sn.commands.get("blockQuote");this.listenTo(vn,"enter",(Dn,Ln)=>{!bn.isCollapsed||!An.value||bn.getLastPosition().parent.isEmpty&&(sn.execute("blockQuote"),sn.editing.view.scrollToTheSelection(),Ln.preventDefault(),Dn.stop())},{context:"blockquote"}),this.listenTo(vn,"delete",(Dn,Ln)=>{if(Ln.direction!="backward"||!bn.isCollapsed||!An.value)return;const Bn=bn.getLastPosition().parent;Bn.isEmpty&&!Bn.previousSibling&&(sn.execute("blockQuote"),sn.editing.view.scrollToTheSelection(),Ln.preventDefault(),Dn.stop())},{context:"blockquote"})}}var o0=rn(3062),tx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(o0.Z,tx),o0.Z.locals;class nx extends xo{static get pluginName(){return"BlockQuoteUI"}init(){const sn=this.editor,dn=sn.t;sn.ui.componentFactory.add("blockQuote",vn=>{const bn=sn.commands.get("blockQuote"),An=new gs(vn);return An.set({label:dn("Block quote"),icon:Il.quote,tooltip:!0,isToggleable:!0}),An.bind("isOn","isEnabled").to(bn,"value","isEnabled"),this.listenTo(An,"execute",()=>{sn.execute("blockQuote"),sn.editing.view.focus()}),An})}}class rx extends xo{static get pluginName(){return"CKBoxUI"}afterInit(){const sn=this.editor,dn=sn.commands.get("ckbox");if(!dn)return;const vn=sn.t;sn.ui.componentFactory.add("ckbox",bn=>{const An=new gs(bn);return An.set({label:vn("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),An.bind("isOn","isEnabled").to(dn,"value","isEnabled"),An.on("execute",()=>{sn.execute("ckbox")}),An})}}const ix=4e3,ox=80,ax=10;function a0({token:yn,id:sn,origin:dn,width:vn,extension:bn}){const An=s0(yn),Dn=function(Bn){const Vn=[Bn*ax/100,ox],Gn=Math.floor(Math.max(...Vn)),Kn=[Math.min(Bn,ix)];let $r=Kn[0];for(;$r-Gn>=Gn;)$r-=Gn,Kn.unshift($r);return Kn}(vn),Ln=function(Bn){return Bn==="bmp"||Bn==="tiff"||Bn==="jpg"?"jpeg":Bn}(bn);return{imageFallbackUrl:l0({environmentId:An,id:sn,origin:dn,width:vn,extension:Ln}),imageSources:[{srcset:Dn.map(Bn=>`${l0({environmentId:An,id:sn,origin:dn,width:Bn,extension:"webp"})} ${Bn}w`).join(","),sizes:`(max-width: ${vn}px) 100vw, ${vn}px`,type:"image/webp"}]}}function s0(yn){const[,sn]=yn.value.split(".");return JSON.parse(atob(sn)).aud}function l0({environmentId:yn,id:sn,origin:dn,width:vn,extension:bn}){return new URL(`${yn}/assets/${sn}/images/${vn}.${bn}`,dn).toString()}class sx extends qa{constructor(sn){super(sn),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const sn=this.editor.commands.get("insertImage"),dn=this.editor.commands.get("link");return!(!sn.isEnabled&&!dn.isEnabled)}_prepareOptions(){const sn=this.editor.config.get("ckbox");return{theme:sn.theme,language:sn.language,tokenUrl:sn.tokenUrl,serviceOrigin:sn.serviceOrigin,assetsOrigin:sn.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:dn=>this.fire("ckbox:choose",dn)}}}_initListeners(){const sn=this.editor,dn=sn.model,vn=!sn.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=ya(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(bn,An)=>{if(!this.isEnabled)return;const Dn=sn.commands.get("insertImage"),Ln=sn.commands.get("link"),Bn=sn.plugins.get("CKBoxEditing"),Vn=function({assets:Gn,origin:Kn,token:$r,isImageAllowed:Yr,isLinkAllowed:Qr}){return Gn.map(si=>function(hi){const wi=hi.data.metadata;return wi?wi.width&&wi.height:!1}(si)?{id:si.data.id,type:"image",attributes:lx(si,$r,Kn)}:{id:si.data.id,type:"link",attributes:cx(si,$r,Kn)}).filter(si=>si.type==="image"?Yr:Qr)}({assets:An,origin:sn.config.get("ckbox.assetsOrigin"),token:Bn.getToken(),isImageAllowed:Dn.isEnabled,isLinkAllowed:Ln.isEnabled});Vn.length!==0&&dn.change(Gn=>{for(const Kn of Vn){const $r=Kn===Vn[Vn.length-1];this._insertAsset(Kn,$r,Gn),vn&&(setTimeout(()=>this._chosenAssets.delete(Kn),1e3),this._chosenAssets.add(Kn))}})}),this.listenTo(sn,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(sn,dn,vn){const bn=this.editor.model.document.selection;vn.removeSelectionAttribute("linkHref"),sn.type==="image"?this._insertImage(sn):this._insertLink(sn,vn),dn||vn.setSelection(bn.getLastPosition())}_insertImage(sn){const dn=this.editor,{imageFallbackUrl:vn,imageSources:bn,imageTextAlternative:An}=sn.attributes;dn.execute("insertImage",{source:{src:vn,sources:bn,alt:An}})}_insertLink(sn,dn){const vn=this.editor,bn=vn.model,An=bn.document.selection,{linkName:Dn,linkHref:Ln}=sn.attributes;if(An.isCollapsed){const Bn=nl(An.getAttributes()),Vn=dn.createText(Dn,Bn),Gn=bn.insertContent(Vn);dn.setSelection(Gn)}vn.execute("link",Ln)}}function lx(yn,sn,dn){const{imageFallbackUrl:vn,imageSources:bn}=a0({token:sn,origin:dn,id:yn.data.id,width:yn.data.metadata.width,extension:yn.data.extension});return{imageFallbackUrl:vn,imageSources:bn,imageTextAlternative:yn.data.metadata.description||""}}function cx(yn,sn,dn){return{linkName:yn.data.name,linkHref:ux(yn,sn,dn)}}function ux(yn,sn,dn){const vn=s0(sn),bn=new URL(`${vn}/assets/${yn.data.id}/file`,dn);return bn.searchParams.set("download","true"),bn.toString()}var mf=(yn,sn,dn)=>new Promise((vn,bn)=>{var An=Bn=>{try{Ln(dn.next(Bn))}catch(Vn){bn(Vn)}},Dn=Bn=>{try{Ln(dn.throw(Bn))}catch(Vn){bn(Vn)}},Ln=Bn=>Bn.done?vn(Bn.value):Promise.resolve(Bn.value).then(An,Dn);Ln((dn=dn.apply(yn,sn)).next())});class dx extends xo{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Tu,vv]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return mf(this,null,function*(){const sn=this.editor,dn=!!sn.config.get("ckbox"),vn=!!window.CKBox;if(!dn&&!vn)return;const bn=sn.plugins.get(Tu),An=sn.plugins.get(vv);bn.createUploadAdapter=Bn=>new fx(Bn,An.getToken(),sn);const Dn=!sn.config.get("ckbox.ignoreDataId"),Ln=sn.plugins.get("ImageUploadEditing");Dn&&Ln.on("uploadComplete",(Bn,{imageElement:Vn,data:Gn})=>{sn.model.change(Kn=>{Kn.setAttribute("ckboxImageId",Gn.ckboxImageId,Vn)})})})}}class fx{constructor(sn,dn,vn){this.loader=sn,this.token=dn,this.editor=vn,this.controller=new AbortController,this.serviceOrigin=vn.config.get("ckbox.serviceOrigin"),this.assetsOrigin=vn.config.get("ckbox.assetsOrigin")}getAvailableCategories(sn=0){return mf(this,null,function*(){const dn=new URL("categories",this.serviceOrigin);return dn.searchParams.set("limit",50 .toString()),dn.searchParams.set("offset",sn.toString()),this._sendHttpRequest({url:dn}).then(vn=>mf(this,null,function*(){if(vn.totalCount-(sn+50)>0){const bn=yield this.getAvailableCategories(sn+50);return[...vn.items,...bn]}return vn.items})).catch(()=>{this.controller.signal.throwIfAborted(),Un("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(sn){return mf(this,null,function*(){const dn=c0(sn.name),vn=yield this.getAvailableCategories();if(!vn)return null;const bn=this.editor.config.get("ckbox.defaultUploadCategories");if(bn){const Dn=Object.keys(bn).find(Ln=>bn[Ln].includes(dn));if(Dn){const Ln=vn.find(Bn=>Bn.id===Dn||Bn.name===Dn);return Ln?Ln.id:null}}const An=vn.find(Dn=>Dn.extensions.includes(dn));return An?An.id:null})}upload(){return mf(this,null,function*(){const sn=this.editor.t,dn=sn("Cannot determine a category for the uploaded file."),vn=yield this.loader.file,bn=yield this.getCategoryIdForFile(vn);if(!bn)return Promise.reject(dn);const An=new URL("assets",this.serviceOrigin),Dn=new FormData;Dn.append("categoryId",bn),Dn.append("file",vn);const Ln={method:"POST",url:An,data:Dn,onUploadProgress:Bn=>{Bn.lengthComputable&&(this.loader.uploadTotal=Bn.total,this.loader.uploaded=Bn.loaded)}};return this._sendHttpRequest(Ln).then(Bn=>mf(this,null,function*(){const Vn=yield this._getImageWidth(),Gn=c0(vn.name),Kn=a0({token:this.token,id:Bn.id,origin:this.assetsOrigin,width:Vn,extension:Gn});return{ckboxImageId:Bn.id,default:Kn.imageFallbackUrl,sources:Kn.imageSources}})).catch(()=>{const Bn=sn("Cannot upload file:")+` ${vn.name}.`;return Promise.reject(Bn)})})}abort(){this.controller.abort()}_sendHttpRequest({url:sn,method:dn="GET",data:vn,onUploadProgress:bn}){const An=this.controller.signal,Dn=new XMLHttpRequest;Dn.open(dn,sn.toString(),!0),Dn.setRequestHeader("Authorization",this.token.value),Dn.setRequestHeader("CKBox-Version","CKEditor 5"),Dn.responseType="json";const Ln=()=>{Dn.abort()};return new Promise((Bn,Vn)=>{An.addEventListener("abort",Ln),Dn.addEventListener("loadstart",()=>{An.addEventListener("abort",Ln)}),Dn.addEventListener("loadend",()=>{An.removeEventListener("abort",Ln)}),Dn.addEventListener("error",()=>{Vn()}),Dn.addEventListener("abort",()=>{Vn()}),Dn.addEventListener("load",()=>mf(this,null,function*(){const Gn=Dn.response;return!Gn||Gn.statusCode>=400?Vn(Gn&&Gn.message):Bn(Gn)})),bn&&Dn.upload.addEventListener("progress",Gn=>{bn(Gn)}),Dn.send(vn)})}_getImageWidth(){return new Promise(sn=>{const dn=new Image;dn.onload=()=>{URL.revokeObjectURL(dn.src),sn(dn.width)},dn.src=this.loader.data})}}function c0(yn){const sn=new RegExp("\\.(?<ext>[^.]+)$");return yn.match(sn).groups.ext}class vv extends xo{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",dx]}init(){return sn=this,dn=null,vn=function*(){const bn=this.editor,An=!!bn.config.get("ckbox"),Dn=!!window.CKBox;if(!An&&!Dn)return;this._initConfig();const Ln=bn.plugins.get("CloudServicesCore"),Bn=bn.config.get("ckbox.tokenUrl");if(Bn===bn.config.get("cloudServices.tokenUrl")){const Vn=bn.plugins.get("CloudServices");this._token=Vn.token}else this._token=yield Ln.createToken(Bn).init();bn.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),Dn&&bn.commands.add("ckbox",new sx(bn))},new Promise((bn,An)=>{var Dn=Vn=>{try{Bn(vn.next(Vn))}catch(Gn){An(Gn)}},Ln=Vn=>{try{Bn(vn.throw(Vn))}catch(Gn){An(Gn)}},Bn=Vn=>Vn.done?bn(Vn.value):Promise.resolve(Vn.value).then(Dn,Ln);Bn((vn=vn.apply(sn,dn)).next())});var sn,dn,vn}getToken(){return this._token}_initConfig(){const sn=this.editor;if(sn.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:sn.locale.uiLanguage,theme:"default",tokenUrl:sn.config.get("cloudServices.tokenUrl")}),!sn.config.get("ckbox.tokenUrl"))throw new Nn("ckbox-plugin-missing-token-url",this);sn.plugins.has("ImageBlockEditing")||sn.plugins.has("ImageInlineEditing")||Un("ckbox-plugin-image-feature-missing",sn)}_initSchema(){const sn=this.editor.model.schema;sn.extend("$text",{allowAttributes:"ckboxLinkId"}),sn.isRegistered("imageBlock")&&sn.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),sn.isRegistered("imageInline")&&sn.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),sn.addAttributeCheck((dn,vn)=>{if(!dn.last.getAttribute("linkHref")&&vn==="ckboxLinkId")return!1})}_initConversion(){const sn=this.editor;sn.conversion.for("downcast").add(dn=>{dn.on("attribute:ckboxLinkId:imageBlock",(vn,bn,An)=>{const{writer:Dn,mapper:Ln,consumable:Bn}=An;if(!Bn.consume(bn.item,vn.name))return;const Vn=[...Ln.toViewElement(bn.item).getChildren()].find(Gn=>Gn.name==="a");Vn&&(bn.item.hasAttribute("ckboxLinkId")?Dn.setAttribute("data-ckbox-resource-id",bn.item.getAttribute("ckboxLinkId"),Vn):Dn.removeAttribute("data-ckbox-resource-id",Vn))},{priority:"low"}),dn.on("attribute:ckboxLinkId",(vn,bn,An)=>{const{writer:Dn,mapper:Ln,consumable:Bn}=An;if(Bn.consume(bn.item,vn.name)){if(bn.attributeOldValue){const Vn=u0(Dn,bn.attributeOldValue);Dn.unwrap(Ln.toViewRange(bn.range),Vn)}if(bn.attributeNewValue){const Vn=u0(Dn,bn.attributeNewValue);if(bn.item.is("selection")){const Gn=Dn.document.selection;Dn.wrap(Gn.getFirstRange(),Vn)}else Dn.wrap(Ln.toViewRange(bn.range),Vn)}}},{priority:"low"})}),sn.conversion.for("upcast").add(dn=>{dn.on("element:a",(vn,bn,An)=>{const{writer:Dn,consumable:Ln}=An;if(!bn.viewItem.getAttribute("href")||!Ln.consume(bn.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const Bn=bn.viewItem.getAttribute("data-ckbox-resource-id");if(Bn)if(bn.modelRange)for(let Vn of bn.modelRange.getItems())Vn.is("$textProxy")&&(Vn=Vn.textNode),px(Vn)&&Dn.setAttribute("ckboxLinkId",Bn,Vn);else{const Vn=bn.modelCursor.nodeBefore||bn.modelCursor.parent;Dn.setAttribute("ckboxLinkId",Bn,Vn)}},{priority:"low"})}),sn.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),sn.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:dn=>dn.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const sn=this.editor,dn=sn.model,vn=dn.document.selection;dn.document.registerPostFixer(function(bn){return An=>{let Dn=!1;const Ln=bn.model,Bn=bn.commands.get("ckbox");if(!Bn)return Dn;for(const Vn of Ln.document.differ.getChanges()){if(Vn.type!=="insert"&&Vn.type!=="attribute")continue;const Gn=Vn.type==="insert"?new eo(Vn.position,Vn.position.getShiftedBy(Vn.length)):Vn.range,Kn=Vn.type==="attribute"&&Vn.attributeKey==="linkHref"&&Vn.attributeNewValue===null;for(const $r of Gn.getItems()){if(Kn&&$r.hasAttribute("ckboxLinkId")){An.removeAttribute("ckboxLinkId",$r),Dn=!0;continue}const Yr=hx($r,Bn._chosenAssets);for(const Qr of Yr){const si=Qr.type==="image"?"ckboxImageId":"ckboxLinkId";Qr.id!==$r.getAttribute(si)&&(An.setAttribute(si,Qr.id,$r),Dn=!0)}}}return Dn}}(sn)),dn.document.registerPostFixer(function(bn){return An=>!(bn.hasAttribute("linkHref")||!bn.hasAttribute("ckboxLinkId"))&&(An.removeSelectionAttribute("ckboxLinkId"),!0)}(vn))}}function hx(yn,sn){const dn=yn.is("element","imageInline")||yn.is("element","imageBlock"),vn=yn.hasAttribute("linkHref");return[...sn].filter(bn=>bn.type==="image"&&dn?bn.attributes.imageFallbackUrl===yn.getAttribute("src"):bn.type==="link"&&vn?bn.attributes.linkHref===yn.getAttribute("linkHref"):void 0)}function u0(yn,sn){const dn=yn.createAttributeElement("a",{"data-ckbox-resource-id":sn},{priority:5});return yn.setCustomProperty("link",!0,dn),dn}function px(yn){return!!yn.is("$text")||!(!yn.is("element","imageInline")&&!yn.is("element","imageBlock"))}class gx extends xo{static get pluginName(){return"CKFinderUI"}init(){const sn=this.editor,dn=sn.ui.componentFactory,vn=sn.t;dn.add("ckfinder",bn=>{const An=sn.commands.get("ckfinder"),Dn=new gs(bn);return Dn.set({label:vn("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),Dn.bind("isEnabled").to(An),Dn.on("execute",()=>{sn.execute("ckfinder"),sn.editing.view.focus()}),Dn})}}class vx extends qa{constructor(sn){super(sn),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const sn=this.editor.commands.get("insertImage"),dn=this.editor.commands.get("link");this.isEnabled=sn.isEnabled||dn.isEnabled}execute(){const sn=this.editor,dn=this.editor.config.get("ckfinder.openerMethod")||"modal";if(dn!="popup"&&dn!="modal")throw new Nn("ckfinder-unknown-openermethod",sn);const vn=this.editor.config.get("ckfinder.options")||{};vn.chooseFiles=!0;const bn=vn.onInit;vn.language||(vn.language=sn.locale.uiLanguage),vn.onInit=An=>{bn&&bn(An),An.on("files:choose",Dn=>{const Ln=Dn.data.files.toArray(),Bn=Ln.filter(Kn=>!Kn.isImage()),Vn=Ln.filter(Kn=>Kn.isImage());for(const Kn of Bn)sn.execute("link",Kn.getUrl());const Gn=[];for(const Kn of Vn){const $r=Kn.getUrl();Gn.push($r||An.request("file:getProxyUrl",{file:Kn}))}Gn.length&&d0(sn,Gn)}),An.on("file:choose:resizedImage",Dn=>{const Ln=Dn.data.resizedUrl;if(Ln)d0(sn,[Ln]);else{const Bn=sn.plugins.get("Notification"),Vn=sn.locale.t;Bn.showWarning(Vn("Could not obtain resized image URL."),{title:Vn("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[dn](vn)}}function d0(yn,sn){if(yn.commands.get("insertImage").isEnabled)yn.execute("insertImage",{source:sn});else{const dn=yn.plugins.get("Notification"),vn=yn.locale.t;dn.showWarning(vn("Could not insert image at the current position."),{title:vn("Inserting image failed"),namespace:"ckfinder"})}}class mx extends xo{static get pluginName(){return"CKFinderEditing"}static get requires(){return[av,"LinkEditing"]}init(){const sn=this.editor;if(!sn.plugins.has("ImageBlockEditing")&&!sn.plugins.has("ImageInlineEditing"))throw new Nn("ckfinder-missing-image-plugin",sn);sn.commands.add("ckfinder",new vx(sn))}}class yx extends xo{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Tu]}init(){const sn=this.editor,dn=sn.plugins.get("CloudServices"),vn=dn.token,bn=dn.uploadUrl;if(!vn)return;const An=sn.plugins.get("CloudServicesCore");this._uploadGateway=An.createUploadGateway(vn,bn),sn.plugins.get(Tu).createUploadAdapter=Dn=>new bx(this._uploadGateway,Dn)}}class bx{constructor(sn,dn){this.uploadGateway=sn,this.loader=dn}upload(){return this.loader.file.then(sn=>(this.fileUploader=this.uploadGateway.upload(sn),this.fileUploader.on("progress",(dn,vn)=>{this.loader.uploadTotal=vn.total,this.loader.uploaded=vn.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class _x extends qa{constructor(sn){super(sn),this._isEnabledBasedOnSelection=!1}refresh(){const sn=this.editor.model,dn=_l(sn.document.selection.getSelectedBlocks());this.value=!!dn&&dn.is("element","paragraph"),this.isEnabled=!!dn&&f0(dn,sn.schema)}execute(sn={}){const dn=this.editor.model,vn=dn.document,bn=sn.selection||vn.selection;dn.canEditAt(bn)&&dn.change(An=>{const Dn=bn.getSelectedBlocks();for(const Ln of Dn)!Ln.is("element","paragraph")&&f0(Ln,dn.schema)&&An.rename(Ln,"paragraph")})}}function f0(yn,sn){return sn.checkChild(yn.parent,"paragraph")&&!sn.isObject(yn)}class kx extends qa{constructor(sn){super(sn),this._isEnabledBasedOnSelection=!1}execute(sn){const dn=this.editor.model,vn=sn.attributes;let bn=sn.position;dn.canEditAt(bn)&&dn.change(An=>{const Dn=An.createElement("paragraph");if(vn&&dn.schema.setAllowedAttributes(Dn,vn,An),!dn.schema.checkChild(bn.parent,Dn)){const Ln=dn.schema.findAllowedParent(bn,Dn);if(!Ln)return;bn=An.split(bn,Ln).position}dn.insertContent(Dn,bn),An.setSelection(Dn,"in")})}}const h0=class extends xo{static get pluginName(){return"Paragraph"}init(){const yn=this.editor,sn=yn.model;yn.commands.add("paragraph",new _x(yn)),yn.commands.add("insertParagraph",new kx(yn)),sn.schema.register("paragraph",{inheritAllFrom:"$block"}),yn.conversion.elementToElement({model:"paragraph",view:"p"}),yn.conversion.for("upcast").elementToElement({model:(dn,{writer:vn})=>h0.paragraphLikeElements.has(dn.name)?dn.isEmpty?null:vn.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let mv=h0;mv.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Ax extends qa{constructor(sn,dn){super(sn),this.modelElements=dn}refresh(){const sn=_l(this.editor.model.document.selection.getSelectedBlocks());this.value=!!sn&&this.modelElements.includes(sn.name)&&sn.name,this.isEnabled=!!sn&&this.modelElements.some(dn=>p0(sn,dn,this.editor.model.schema))}execute(sn){const dn=this.editor.model,vn=dn.document,bn=sn.value;dn.change(An=>{const Dn=Array.from(vn.selection.getSelectedBlocks()).filter(Ln=>p0(Ln,bn,dn.schema));for(const Ln of Dn)Ln.is("element",bn)||An.rename(Ln,bn)})}}function p0(yn,sn,dn){return dn.checkChild(yn.parent,sn)&&!dn.isObject(yn)}const g0="paragraph";class Cx extends xo{static get pluginName(){return"HeadingEditing"}constructor(sn){super(sn),sn.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[mv]}init(){const sn=this.editor,dn=sn.config.get("heading.options"),vn=[];for(const bn of dn)bn.model!=="paragraph"&&(sn.model.schema.register(bn.model,{inheritAllFrom:"$block"}),sn.conversion.elementToElement(bn),vn.push(bn.model));this._addDefaultH1Conversion(sn),sn.commands.add("heading",new Ax(sn,vn))}afterInit(){const sn=this.editor,dn=sn.commands.get("enter"),vn=sn.config.get("heading.options");dn&&this.listenTo(dn,"afterExecute",(bn,An)=>{const Dn=sn.model.document.selection.getFirstPosition().parent;vn.some(Ln=>Dn.is("element",Ln.model))&&!Dn.is("element",g0)&&Dn.childCount===0&&An.writer.rename(Dn,g0)})}_addDefaultH1Conversion(sn){sn.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:On.low+1})}}var v0=rn(8733),xx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(v0.Z,xx),v0.Z.locals;class Sx extends xo{static get pluginName(){return"HeadingUI"}init(){const sn=this.editor,dn=sn.t,vn=function(Dn){const Ln=Dn.t,Bn={Paragraph:Ln("Paragraph"),"Heading 1":Ln("Heading 1"),"Heading 2":Ln("Heading 2"),"Heading 3":Ln("Heading 3"),"Heading 4":Ln("Heading 4"),"Heading 5":Ln("Heading 5"),"Heading 6":Ln("Heading 6")};return Dn.config.get("heading.options").map(Vn=>{const Gn=Bn[Vn.title];return Gn&&Gn!=Vn.title&&(Vn.title=Gn),Vn})}(sn),bn=dn("Choose heading"),An=dn("Heading");sn.ui.componentFactory.add("heading",Dn=>{const Ln={},Bn=new Fc,Vn=sn.commands.get("heading"),Gn=sn.commands.get("paragraph"),Kn=[Vn];for(const Yr of vn){const Qr={type:"button",model:new qy({label:Yr.title,class:Yr.class,role:"menuitemradio",withText:!0})};Yr.model==="paragraph"?(Qr.model.bind("isOn").to(Gn,"value"),Qr.model.set("commandName","paragraph"),Kn.push(Gn)):(Qr.model.bind("isOn").to(Vn,"value",si=>si===Yr.model),Qr.model.set({commandName:"heading",commandValue:Yr.model})),Bn.add(Qr),Ln[Yr.model]=Yr.title}const $r=$d(Dn);return my($r,Bn,{ariaLabel:An,role:"menu"}),$r.buttonView.set({ariaLabel:An,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:An}),$r.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),$r.bind("isEnabled").toMany(Kn,"isEnabled",(...Yr)=>Yr.some(Qr=>Qr)),$r.buttonView.bind("label").to(Vn,"value",Gn,"value",(Yr,Qr)=>{const si=Yr||Qr&&"paragraph";return typeof si=="boolean"?bn:Ln[si]?Ln[si]:bn}),this.listenTo($r,"execute",Yr=>{const{commandName:Qr,commandValue:si}=Yr.source;sn.execute(Qr,si?{value:si}:void 0),sn.editing.view.focus()}),$r})}}function m0(yn){return yn.createContainerElement("figure",{class:"image"},[yn.createEmptyElement("img"),yn.createSlot("children")])}function y0(yn,sn){const dn=yn.plugins.get("ImageUtils"),vn=yn.plugins.has("ImageInlineEditing")&&yn.plugins.has("ImageBlockEditing");return An=>dn.isInlineImageView(An)?vn&&(An.getStyle("display")=="block"||An.findAncestor(dn.isBlockImageView)?"imageBlock":"imageInline")!==sn?null:bn(An):null;function bn(An){const Dn={name:!0};return An.hasAttribute("src")&&(Dn.attributes=["src"]),Dn}}function yv(yn,sn){const dn=_l(sn.getSelectedBlocks());return!dn||yn.isObject(dn)||dn.isEmpty&&dn.name!="listItem"?"imageBlock":"imageInline"}var Ex=Object.defineProperty,b0=Object.getOwnPropertySymbols,Dx=Object.prototype.hasOwnProperty,Tx=Object.prototype.propertyIsEnumerable,_0=(yn,sn,dn)=>sn in yn?Ex(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn,w0=(yn,sn)=>{for(var dn in sn||(sn={}))Dx.call(sn,dn)&&_0(yn,dn,sn[dn]);if(b0)for(var dn of b0(sn))Tx.call(sn,dn)&&_0(yn,dn,sn[dn]);return yn};class Mu extends xo{static get pluginName(){return"ImageUtils"}isImage(sn){return this.isInlineImage(sn)||this.isBlockImage(sn)}isInlineImageView(sn){return!!sn&&sn.is("element","img")}isBlockImageView(sn){return!!sn&&sn.is("element","figure")&&sn.hasClass("image")}insertImage(sn={},dn=null,vn=null){const bn=this.editor,An=bn.model,Dn=An.document.selection;vn=k0(bn,dn||Dn,vn),sn=w0(w0({},Object.fromEntries(Dn.getAttributes())),sn);for(const Ln in sn)An.schema.checkAttribute(vn,Ln)||delete sn[Ln];return An.change(Ln=>{const Bn=Ln.createElement(vn,sn);return An.insertObject(Bn,dn,null,{setSelection:"on",findOptimalPosition:dn||vn=="imageInline"?void 0:"auto"}),Bn.parent?Bn:null})}getClosestSelectedImageWidget(sn){const dn=sn.getFirstPosition();if(!dn)return null;const vn=sn.getSelectedElement();if(vn&&this.isImageWidget(vn))return vn;let bn=dn.parent;for(;bn;){if(bn.is("element")&&this.isImageWidget(bn))return bn;bn=bn.parent}return null}getClosestSelectedImageElement(sn){const dn=sn.getSelectedElement();return this.isImage(dn)?dn:sn.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const sn=this.editor.model.document.selection;return function(dn,vn){if(k0(dn,vn,null)=="imageBlock"){const An=function(Dn,Ln){const Bn=Tb(Dn,Ln),Vn=Bn.start.parent;return Vn.isEmpty&&!Vn.is("element","$root")?Vn.parent:Vn}(vn,dn.model);if(dn.model.schema.checkChild(An,"imageBlock"))return!0}else if(dn.model.schema.checkChild(vn.focus,"imageInline"))return!0;return!1}(this.editor,sn)&&function(dn){return[...dn.focus.getAncestors()].every(vn=>!vn.is("element","imageBlock"))}(sn)}toImageWidget(sn,dn,vn){return dn.setCustomProperty("image",!0,sn),hv(sn,dn,{label:()=>{const bn=this.findViewImgElement(sn).getAttribute("alt");return bn?`${bn} ${vn}`:vn}})}isImageWidget(sn){return!!sn.getCustomProperty("image")&&pl(sn)}isBlockImage(sn){return!!sn&&sn.is("element","imageBlock")}isInlineImage(sn){return!!sn&&sn.is("element","imageInline")}findViewImgElement(sn){if(this.isInlineImageView(sn))return sn;const dn=this.editor.editing.view;for(const{item:vn}of dn.createRangeIn(sn))if(this.isInlineImageView(vn))return vn}}function k0(yn,sn,dn){const vn=yn.model.schema,bn=yn.config.get("image.insert.type");return yn.plugins.has("ImageBlockEditing")?yn.plugins.has("ImageInlineEditing")?dn||(bn==="inline"?"imageInline":bn==="block"?"imageBlock":sn.is("selection")?yv(vn,sn):vn.checkChild(sn,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Mx extends qa{refresh(){const sn=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!sn,this.isEnabled&&sn.hasAttribute("alt")?this.value=sn.getAttribute("alt"):this.value=!1}execute(sn){const dn=this.editor,vn=dn.plugins.get("ImageUtils"),bn=dn.model,An=vn.getClosestSelectedImageElement(bn.document.selection);bn.change(Dn=>{Dn.setAttribute("alt",sn.newValue,An)})}}class Ix extends xo{static get requires(){return[Mu]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Mx(this.editor))}}var A0=rn(1905),Lx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(A0.Z,Lx),A0.Z.locals;var C0=rn(6764),Px={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(C0.Z,Px),C0.Z.locals;class Ox extends is{constructor(sn){super(sn);const dn=this.locale.t;this.focusTracker=new Ic,this.keystrokes=new tu,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(dn("Save"),Il.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(dn("Cancel"),Il.cancel,"ck-button-cancel","cancel"),this._focusables=new zc,this._focusCycler=new sd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),un({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(sn=>{this._focusables.add(sn),this.focusTracker.add(sn.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(sn,dn,vn,bn){const An=new gs(this.locale);return An.set({label:sn,icon:dn,tooltip:!0}),An.extendTemplate({attributes:{class:vn}}),bn&&An.delegate("execute").to(this,bn),An}_createLabeledInputView(){const sn=this.locale.t,dn=new Cd(this.locale,Yg);return dn.label=sn("Text alternative"),dn}}function x0(yn){const sn=yn.editing.view,dn=Oc.defaultPositions,vn=yn.plugins.get("ImageUtils");return{target:sn.domConverter.mapViewToDom(vn.getClosestSelectedImageWidget(sn.document.selection)),positions:[dn.northArrowSouth,dn.northArrowSouthWest,dn.northArrowSouthEast,dn.southArrowNorth,dn.southArrowNorthWest,dn.southArrowNorthEast,dn.viewportStickyNorth]}}class Rx extends xo{static get requires(){return[Wp]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const sn=this.editor,dn=sn.t;sn.ui.componentFactory.add("imageTextAlternative",vn=>{const bn=sn.commands.get("imageTextAlternative"),An=new gs(vn);return An.set({label:dn("Change image text alternative"),icon:Il.lowVision,tooltip:!0}),An.bind("isEnabled").to(bn,"isEnabled"),An.bind("isOn").to(bn,"value",Dn=>!!Dn),this.listenTo(An,"execute",()=>{this._showForm()}),An})}_createForm(){const sn=this.editor,dn=sn.editing.view.document,vn=sn.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(cn(Ox))(sn.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{sn.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(bn,An)=>{this._hideForm(!0),An()}),this.listenTo(sn.ui,"update",()=>{vn.getClosestSelectedImageWidget(dn.selection)?this._isVisible&&function(bn){const An=bn.plugins.get("ContextualBalloon");if(bn.plugins.get("ImageUtils").getClosestSelectedImageWidget(bn.editing.view.document.selection)){const Dn=x0(bn);An.updatePosition(Dn)}}(sn):this._hideForm(!0)}),ln({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const sn=this.editor,dn=sn.commands.get("imageTextAlternative"),vn=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:x0(sn)}),vn.fieldView.value=vn.fieldView.element.value=dn.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(sn=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),sn&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class S0 extends xo{static get requires(){return[Ix,Rx]}static get pluginName(){return"ImageTextAlternative"}}function E0(yn,sn){const dn=(vn,bn,An)=>{if(!An.consumable.consume(bn.item,vn.name))return;const Dn=An.writer,Ln=An.mapper.toViewElement(bn.item),Bn=yn.findViewImgElement(Ln);if(bn.attributeNewValue===null){const Vn=bn.attributeOldValue;Vn&&Vn.data&&(Dn.removeAttribute("srcset",Bn),Dn.removeAttribute("sizes",Bn),Vn.width&&Dn.removeAttribute("width",Bn))}else{const Vn=bn.attributeNewValue;Vn&&Vn.data&&(Dn.setAttribute("srcset",Vn.data,Bn),Dn.setAttribute("sizes","100vw",Bn),Vn.width&&Dn.setAttribute("width",Vn.width,Bn))}};return vn=>{vn.on(`attribute:srcset:${sn}`,dn)}}function ng(yn,sn,dn){const vn=(bn,An,Dn)=>{if(!Dn.consumable.consume(An.item,bn.name))return;const Ln=Dn.writer,Bn=Dn.mapper.toViewElement(An.item),Vn=yn.findViewImgElement(Bn);Ln.setAttribute(An.attributeKey,An.attributeNewValue||"",Vn)};return bn=>{bn.on(`attribute:${dn}:${sn}`,vn)}}class Nx extends Do{observe(sn){this.listenTo(sn,"load",(dn,vn)=>{const bn=vn.target;this.checkShouldIgnoreEventFromTarget(bn)||bn.tagName=="IMG"&&this._fireEvents(vn)},{useCapture:!0})}stopObserving(sn){this.stopListening(sn)}_fireEvents(sn){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",sn))}}var $x=Object.defineProperty,D0=Object.getOwnPropertySymbols,Bx=Object.prototype.hasOwnProperty,Fx=Object.prototype.propertyIsEnumerable,T0=(yn,sn,dn)=>sn in yn?$x(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn,rg=(yn,sn)=>{for(var dn in sn||(sn={}))Bx.call(sn,dn)&&T0(yn,dn,sn[dn]);if(D0)for(var dn of D0(sn))Fx.call(sn,dn)&&T0(yn,dn,sn[dn]);return yn};class zx extends qa{constructor(sn){super(sn);const dn=sn.config.get("image.insert.type");sn.plugins.has("ImageBlockEditing")||dn==="block"&&Hn("image-block-plugin-required"),sn.plugins.has("ImageInlineEditing")||dn==="inline"&&Hn("image-inline-plugin-required")}refresh(){const sn=this.editor.plugins.get("ImageUtils");this.isEnabled=sn.isImageAllowed()}execute(sn){const dn=$l(sn.source),vn=this.editor.model.document.selection,bn=this.editor.plugins.get("ImageUtils"),An=Object.fromEntries(vn.getAttributes());dn.forEach((Dn,Ln)=>{const Bn=vn.getSelectedElement();if(typeof Dn=="string"&&(Dn={src:Dn}),Ln&&Bn&&bn.isImage(Bn)){const Vn=this.editor.model.createPositionAfter(Bn);bn.insertImage(rg(rg({},Dn),An),Vn)}else bn.insertImage(rg(rg({},Dn),An))})}}class Hx extends qa{refresh(){const sn=this.editor.plugins.get("ImageUtils"),dn=this.editor.model.document.selection.getSelectedElement();this.isEnabled=sn.isImage(dn),this.value=this.isEnabled?dn.getAttribute("src"):null}execute(sn){const dn=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(vn=>{vn.setAttribute("src",sn.source,dn),vn.removeAttribute("srcset",dn),vn.removeAttribute("sizes",dn)})}}class bv extends xo{static get requires(){return[Mu]}static get pluginName(){return"ImageEditing"}init(){const sn=this.editor,dn=sn.conversion;sn.editing.view.addObserver(Nx),dn.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:An=>{const Dn={data:An.getAttribute("srcset")};return An.hasAttribute("width")&&(Dn.width=An.getAttribute("width")),Dn}}});const vn=new zx(sn),bn=new Hx(sn);sn.commands.add("insertImage",vn),sn.commands.add("replaceImageSource",bn),sn.commands.add("imageInsert",vn)}}class M0 extends qa{constructor(sn,dn){super(sn),this._modelElementName=dn}refresh(){const sn=this.editor.plugins.get("ImageUtils"),dn=sn.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=sn.isInlineImage(dn):this.isEnabled=sn.isBlockImage(dn)}execute(){const sn=this.editor,dn=this.editor.model,vn=sn.plugins.get("ImageUtils"),bn=vn.getClosestSelectedImageElement(dn.document.selection),An=Object.fromEntries(bn.getAttributes());return An.src||An.uploadId?dn.change(Dn=>{const Ln=Array.from(dn.markers).filter(Gn=>Gn.getRange().containsItem(bn)),Bn=vn.insertImage(An,dn.createSelection(bn,"on"),this._modelElementName);if(!Bn)return null;const Vn=Dn.createRangeOn(Bn);for(const Gn of Ln){const Kn=Gn.getRange(),$r=Kn.root.rootName!="$graveyard"?Kn.getJoined(Vn,!0):Vn;Dn.updateMarker(Gn,{range:$r})}return{oldElement:bn,newElement:Bn}}):null}}class I0 extends xo{static get requires(){return[bv,Mu,Zu]}static get pluginName(){return"ImageBlockEditing"}init(){const sn=this.editor;sn.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),sn.plugins.has("ImageInlineEditing")&&(sn.commands.add("imageTypeBlock",new M0(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const sn=this.editor,dn=sn.t,vn=sn.conversion,bn=sn.plugins.get("ImageUtils");vn.for("dataDowncast").elementToStructure({model:"imageBlock",view:(An,{writer:Dn})=>m0(Dn)}),vn.for("editingDowncast").elementToStructure({model:"imageBlock",view:(An,{writer:Dn})=>bn.toImageWidget(m0(Dn),Dn,dn("image widget"))}),vn.for("downcast").add(ng(bn,"imageBlock","src")).add(ng(bn,"imageBlock","alt")).add(E0(bn,"imageBlock")),vn.for("upcast").elementToElement({view:y0(sn,"imageBlock"),model:(An,{writer:Dn})=>Dn.createElement("imageBlock",An.hasAttribute("src")?{src:An.getAttribute("src")}:void 0)}).add(function(An){const Dn=(Ln,Bn,Vn)=>{if(!Vn.consumable.test(Bn.viewItem,{name:!0,classes:"image"}))return;const Gn=An.findViewImgElement(Bn.viewItem);if(!Gn||!Vn.consumable.test(Gn,{name:!0}))return;Vn.consumable.consume(Bn.viewItem,{name:!0,classes:"image"});const Kn=_l(Vn.convertItem(Gn,Bn.modelCursor).modelRange.getItems());Kn?(Vn.convertChildren(Bn.viewItem,Kn),Vn.updateConversionResult(Kn,Bn)):Vn.consumable.revert(Bn.viewItem,{name:!0,classes:"image"})};return Ln=>{Ln.on("element:figure",Dn)}}(bn))}_setupClipboardIntegration(){const sn=this.editor,dn=sn.model,vn=sn.editing.view,bn=sn.plugins.get("ImageUtils"),An=sn.plugins.get("ClipboardPipeline");this.listenTo(An,"inputTransformation",(Dn,Ln)=>{const Bn=Array.from(Ln.content.getChildren());let Vn;if(!Bn.every(bn.isInlineImageView))return;Vn=Ln.targetRanges?sn.editing.mapper.toModelRange(Ln.targetRanges[0]):dn.document.selection.getFirstRange();const Gn=dn.createSelection(Vn);if(yv(dn.schema,Gn)==="imageBlock"){const Kn=new gf(vn.document),$r=Bn.map(Yr=>Kn.createElement("figure",{class:"image"},Yr));Ln.content=Kn.createDocumentFragment($r)}})}}var L0=rn(3508),Vx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(L0.Z,Vx),L0.Z.locals;class jx extends xo{static get requires(){return[I0,rp,S0]}static get pluginName(){return"ImageBlock"}}class Ux extends xo{static get requires(){return[bv,Mu,Zu]}static get pluginName(){return"ImageInlineEditing"}init(){const sn=this.editor,dn=sn.model.schema;dn.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),dn.addChildCheck((vn,bn)=>{if(vn.endsWith("caption")&&bn.name==="imageInline")return!1}),this._setupConversion(),sn.plugins.has("ImageBlockEditing")&&(sn.commands.add("imageTypeInline",new M0(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const sn=this.editor,dn=sn.t,vn=sn.conversion,bn=sn.plugins.get("ImageUtils");vn.for("dataDowncast").elementToElement({model:"imageInline",view:(An,{writer:Dn})=>Dn.createEmptyElement("img")}),vn.for("editingDowncast").elementToStructure({model:"imageInline",view:(An,{writer:Dn})=>bn.toImageWidget(function(Ln){return Ln.createContainerElement("span",{class:"image-inline"},Ln.createEmptyElement("img"))}(Dn),Dn,dn("image widget"))}),vn.for("downcast").add(ng(bn,"imageInline","src")).add(ng(bn,"imageInline","alt")).add(E0(bn,"imageInline")),vn.for("upcast").elementToElement({view:y0(sn,"imageInline"),model:(An,{writer:Dn})=>Dn.createElement("imageInline",An.hasAttribute("src")?{src:An.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const sn=this.editor,dn=sn.model,vn=sn.editing.view,bn=sn.plugins.get("ImageUtils"),An=sn.plugins.get("ClipboardPipeline");this.listenTo(An,"inputTransformation",(Dn,Ln)=>{const Bn=Array.from(Ln.content.getChildren());let Vn;if(!Bn.every(bn.isBlockImageView))return;Vn=Ln.targetRanges?sn.editing.mapper.toModelRange(Ln.targetRanges[0]):dn.document.selection.getFirstRange();const Gn=dn.createSelection(Vn);if(yv(dn.schema,Gn)==="imageInline"){const Kn=new gf(vn.document),$r=Bn.map(Yr=>Yr.childCount===1?(Array.from(Yr.getAttributes()).forEach(Qr=>Kn.setAttribute(...Qr,bn.findViewImgElement(Yr))),Yr.getChild(0)):Yr);Ln.content=Kn.createDocumentFragment($r)}})}}class Gx extends xo{static get requires(){return[Ux,rp,S0]}static get pluginName(){return"ImageInline"}}class P0 extends xo{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Mu]}getCaptionFromImageModelElement(sn){for(const dn of sn.getChildren())if(dn&&dn.is("element","caption"))return dn;return null}getCaptionFromModelSelection(sn){const dn=this.editor.plugins.get("ImageUtils"),vn=sn.getFirstPosition().findAncestor("caption");return vn&&dn.isBlockImage(vn.parent)?vn:null}matchImageCaptionViewElement(sn){const dn=this.editor.plugins.get("ImageUtils");return sn.name=="figcaption"&&dn.isBlockImageView(sn.parent)?{name:!0}:null}}class Wx extends qa{refresh(){const sn=this.editor,dn=sn.plugins.get("ImageCaptionUtils"),vn=sn.plugins.get("ImageUtils");if(!sn.plugins.has(I0))return this.isEnabled=!1,void(this.value=!1);const bn=sn.model.document.selection,An=bn.getSelectedElement();if(!An){const Dn=dn.getCaptionFromModelSelection(bn);return this.isEnabled=!!Dn,void(this.value=!!Dn)}this.isEnabled=vn.isImage(An),this.isEnabled?this.value=!!dn.getCaptionFromImageModelElement(An):this.value=!1}execute(sn={}){const{focusCaptionOnShow:dn}=sn;this.editor.model.change(vn=>{this.value?this._hideImageCaption(vn):this._showImageCaption(vn,dn)})}_showImageCaption(sn,dn){const vn=this.editor.model.document.selection,bn=this.editor.plugins.get("ImageCaptionEditing"),An=this.editor.plugins.get("ImageUtils");let Dn=vn.getSelectedElement();const Ln=bn._getSavedCaption(Dn);An.isInlineImage(Dn)&&(this.editor.execute("imageTypeBlock"),Dn=vn.getSelectedElement());const Bn=Ln||sn.createElement("caption");sn.append(Bn,Dn),dn&&sn.setSelection(Bn,"in")}_hideImageCaption(sn){const dn=this.editor,vn=dn.model.document.selection,bn=dn.plugins.get("ImageCaptionEditing"),An=dn.plugins.get("ImageCaptionUtils");let Dn,Ln=vn.getSelectedElement();Ln?Dn=An.getCaptionFromImageModelElement(Ln):(Dn=An.getCaptionFromModelSelection(vn),Ln=Dn.parent),bn._saveCaption(Ln,Dn),sn.setSelection(Ln,"on"),sn.remove(Dn)}}class qx extends xo{constructor(sn){super(sn),this._savedCaptionsMap=new WeakMap}static get requires(){return[Mu,P0]}static get pluginName(){return"ImageCaptionEditing"}init(){const sn=this.editor,dn=sn.model.schema;dn.isRegistered("caption")?dn.extend("caption",{allowIn:"imageBlock"}):dn.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),sn.commands.add("toggleImageCaption",new Wx(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const sn=this.editor,dn=sn.editing.view,vn=sn.plugins.get("ImageUtils"),bn=sn.plugins.get("ImageCaptionUtils"),An=sn.t;sn.conversion.for("upcast").elementToElement({view:Dn=>bn.matchImageCaptionViewElement(Dn),model:"caption"}),sn.conversion.for("dataDowncast").elementToElement({model:"caption",view:(Dn,{writer:Ln})=>vn.isBlockImage(Dn.parent)?Ln.createContainerElement("figcaption"):null}),sn.conversion.for("editingDowncast").elementToElement({model:"caption",view:(Dn,{writer:Ln})=>{if(!vn.isBlockImage(Dn.parent))return null;const Bn=Ln.createEditableElement("figcaption");Ln.setCustomProperty("imageCaption",!0,Bn),ud({view:dn,element:Bn,text:An("Enter image caption"),keepOnFocus:!0});const Vn=Dn.parent.getAttribute("alt");return Db(Bn,Ln,{label:Vn?An("Caption for image: %0",[Vn]):An("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const sn=this.editor,dn=sn.plugins.get("ImageUtils"),vn=sn.plugins.get("ImageCaptionUtils"),bn=sn.commands.get("imageTypeInline"),An=sn.commands.get("imageTypeBlock"),Dn=Ln=>{if(!Ln.return)return;const{oldElement:Bn,newElement:Vn}=Ln.return;if(!Bn)return;if(dn.isBlockImage(Bn)){const Kn=vn.getCaptionFromImageModelElement(Bn);if(Kn)return void this._saveCaption(Vn,Kn)}const Gn=this._getSavedCaption(Bn);Gn&&this._saveCaption(Vn,Gn)};bn&&this.listenTo(bn,"execute",Dn,{priority:"low"}),An&&this.listenTo(An,"execute",Dn,{priority:"low"})}_getSavedCaption(sn){const dn=this._savedCaptionsMap.get(sn);return dn?Rs.fromJSON(dn):null}_saveCaption(sn,dn){this._savedCaptionsMap.set(sn,dn.toJSON())}_registerCaptionReconversion(){const sn=this.editor,dn=sn.model,vn=sn.plugins.get("ImageUtils"),bn=sn.plugins.get("ImageCaptionUtils");dn.document.on("change:data",()=>{const An=dn.document.differ.getChanges();for(const Dn of An){if(Dn.attributeKey!=="alt")continue;const Ln=Dn.range.start.nodeAfter;if(vn.isBlockImage(Ln)){const Bn=bn.getCaptionFromImageModelElement(Ln);if(!Bn)return;sn.editing.reconvertItem(Bn)}}})}}class Yx extends xo{static get requires(){return[P0]}static get pluginName(){return"ImageCaptionUI"}init(){const sn=this.editor,dn=sn.editing.view,vn=sn.plugins.get("ImageCaptionUtils"),bn=sn.t;sn.ui.componentFactory.add("toggleImageCaption",An=>{const Dn=sn.commands.get("toggleImageCaption"),Ln=new gs(An);return Ln.set({icon:Il.caption,tooltip:!0,isToggleable:!0}),Ln.bind("isOn","isEnabled").to(Dn,"value","isEnabled"),Ln.bind("label").to(Dn,"value",Bn=>bn(Bn?"Toggle caption off":"Toggle caption on")),this.listenTo(Ln,"execute",()=>{sn.execute("toggleImageCaption",{focusCaptionOnShow:!0});const Bn=vn.getCaptionFromModelSelection(sn.model.document.selection);if(Bn){const Vn=sn.editing.mapper.toViewElement(Bn);dn.scrollToTheSelection(),dn.change(Gn=>{Gn.addClass("image__caption_highlighted",Vn)})}sn.editing.view.focus()}),Ln})}}var O0=rn(2640),Kx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(O0.Z,Kx),O0.Z.locals;function R0(yn){const sn=yn.map(dn=>dn.replace("+","\\+"));return new RegExp(`^image\\/(${sn.join("|")})$`)}function Zx(yn){return new Promise((sn,dn)=>{const vn=yn.getAttribute("src");fetch(vn).then(bn=>bn.blob()).then(bn=>{const An=N0(bn,vn),Dn=An.replace("image/",""),Ln=new File([bn],`image.${Dn}`,{type:An});sn(Ln)}).catch(bn=>bn&&bn.name==="TypeError"?function(An){return function(Dn){return new Promise((Ln,Bn)=>{const Vn=Ta.document.createElement("img");Vn.addEventListener("load",()=>{const Gn=Ta.document.createElement("canvas");Gn.width=Vn.width,Gn.height=Vn.height,Gn.getContext("2d").drawImage(Vn,0,0),Gn.toBlob(Kn=>Kn?Ln(Kn):Bn())}),Vn.addEventListener("error",()=>Bn()),Vn.src=Dn})}(An).then(Dn=>{const Ln=N0(Dn,An),Bn=Ln.replace("image/","");return new File([Dn],`image.${Bn}`,{type:Ln})})}(vn).then(sn).catch(dn):dn(bn))})}function N0(yn,sn){return yn.type?yn.type:sn.match(/data:(image\/\w+);base64/)?sn.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Xx extends xo{static get pluginName(){return"ImageUploadUI"}init(){const sn=this.editor,dn=sn.t,vn=bn=>{const An=new UC(bn),Dn=sn.commands.get("uploadImage"),Ln=sn.config.get("image.upload.types"),Bn=R0(Ln);return An.set({acceptedType:Ln.map(Vn=>`image/${Vn}`).join(","),allowMultipleFiles:!0}),An.buttonView.set({label:dn("Insert image"),icon:Il.image,tooltip:!0}),An.buttonView.bind("isEnabled").to(Dn),An.on("done",(Vn,Gn)=>{const Kn=Array.from(Gn).filter($r=>Bn.test($r.type));Kn.length&&(sn.execute("uploadImage",{file:Kn}),sn.editing.view.focus())}),An};sn.ui.componentFactory.add("uploadImage",vn),sn.ui.componentFactory.add("imageUpload",vn)}}var $0=rn(3689),Qx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()($0.Z,Qx),$0.Z.locals;var B0=rn(4036),Jx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(B0.Z,Jx),B0.Z.locals;var F0=rn(3773),eS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(F0.Z,eS),F0.Z.locals;class tS extends xo{constructor(sn){super(sn),this.uploadStatusChange=(dn,vn,bn)=>{const An=this.editor,Dn=vn.item,Ln=Dn.getAttribute("uploadId");if(!bn.consumable.consume(vn.item,dn.name))return;const Bn=An.plugins.get("ImageUtils"),Vn=An.plugins.get(Tu),Gn=Ln?vn.attributeNewValue:null,Kn=this.placeholder,$r=An.editing.mapper.toViewElement(Dn),Yr=bn.writer;if(Gn=="reading")return z0($r,Yr),void H0(Bn,Kn,$r,Yr);if(Gn=="uploading"){const Qr=Vn.loaders.get(Ln);return z0($r,Yr),void(Qr?(V0($r,Yr),function(si,hi,wi,zi){const so=function(qo){const Sa=qo.createUIElement("div",{class:"ck-progress-bar"});return qo.setCustomProperty("progressBar",!0,Sa),Sa}(hi);hi.insert(hi.createPositionAt(si,"end"),so),wi.on("change:uploadedPercent",(qo,Sa,$s)=>{zi.change(ds=>{ds.setStyle("width",$s+"%",so)})})}($r,Yr,Qr,An.editing.view),function(si,hi,wi,zi){if(zi.data){const so=si.findViewImgElement(hi);wi.setAttribute("src",zi.data,so)}}(Bn,$r,Yr,Qr)):H0(Bn,Kn,$r,Yr))}Gn=="complete"&&Vn.loaders.get(Ln)&&function(Qr,si,hi){const wi=si.createUIElement("div",{class:"ck-image-upload-complete-icon"});si.insert(si.createPositionAt(Qr,"end"),wi),setTimeout(()=>{hi.change(zi=>zi.remove(zi.createRangeOn(wi)))},3e3)}($r,Yr,An.editing.view),function(Qr,si){U0(Qr,si,"progressBar")}($r,Yr),V0($r,Yr),function(Qr,si){si.removeClass("ck-appear",Qr)}($r,Yr)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const sn=this.editor;sn.plugins.has("ImageBlockEditing")&&sn.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),sn.plugins.has("ImageInlineEditing")&&sn.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function z0(yn,sn){yn.hasClass("ck-appear")||sn.addClass("ck-appear",yn)}function H0(yn,sn,dn,vn){dn.hasClass("ck-image-upload-placeholder")||vn.addClass("ck-image-upload-placeholder",dn);const bn=yn.findViewImgElement(dn);bn.getAttribute("src")!==sn&&vn.setAttribute("src",sn,bn),j0(dn,"placeholder")||vn.insert(vn.createPositionAfter(bn),function(An){const Dn=An.createUIElement("div",{class:"ck-upload-placeholder-loader"});return An.setCustomProperty("placeholder",!0,Dn),Dn}(vn))}function V0(yn,sn){yn.hasClass("ck-image-upload-placeholder")&&sn.removeClass("ck-image-upload-placeholder",yn),U0(yn,sn,"placeholder")}function j0(yn,sn){for(const dn of yn.getChildren())if(dn.getCustomProperty(sn))return dn}function U0(yn,sn,dn){const vn=j0(yn,dn);vn&&sn.remove(sn.createRangeOn(vn))}var nS=Object.defineProperty,rS=Object.defineProperties,iS=Object.getOwnPropertyDescriptors,G0=Object.getOwnPropertySymbols,oS=Object.prototype.hasOwnProperty,aS=Object.prototype.propertyIsEnumerable,W0=(yn,sn,dn)=>sn in yn?nS(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn;class sS extends qa{refresh(){const sn=this.editor,dn=sn.plugins.get("ImageUtils"),vn=sn.model.document.selection.getSelectedElement();this.isEnabled=dn.isImageAllowed()||dn.isImage(vn)}execute(sn){const dn=$l(sn.file),vn=this.editor.model.document.selection,bn=this.editor.plugins.get("ImageUtils"),An=Object.fromEntries(vn.getAttributes());dn.forEach((Dn,Ln)=>{const Bn=vn.getSelectedElement();if(Ln&&Bn&&bn.isImage(Bn)){const Vn=this.editor.model.createPositionAfter(Bn);this._uploadImage(Dn,An,Vn)}else this._uploadImage(Dn,An)})}_uploadImage(sn,dn,vn){const bn=this.editor,An=bn.plugins.get(Tu).createLoader(sn),Dn=bn.plugins.get("ImageUtils");var Ln,Bn;An&&Dn.insertImage((Ln=((Vn,Gn)=>{for(var Kn in Gn||(Gn={}))oS.call(Gn,Kn)&&W0(Vn,Kn,Gn[Kn]);if(G0)for(var Kn of G0(Gn))aS.call(Gn,Kn)&&W0(Vn,Kn,Gn[Kn]);return Vn})({},dn),Bn={uploadId:An.id},rS(Ln,iS(Bn))),vn)}}class lS extends xo{constructor(sn){super(sn),sn.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Tu,av,Zu,Mu]}static get pluginName(){return"ImageUploadEditing"}init(){const sn=this.editor,dn=sn.model.document,vn=sn.conversion,bn=sn.plugins.get(Tu),An=sn.plugins.get("ImageUtils"),Dn=sn.plugins.get("ClipboardPipeline"),Ln=R0(sn.config.get("image.upload.types")),Bn=new sS(sn);sn.commands.add("uploadImage",Bn),sn.commands.add("imageUpload",Bn),vn.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(sn.editing.view.document,"clipboardInput",(Vn,Gn)=>{if(Kn=Gn.dataTransfer,Array.from(Kn.types).includes("text/html")&&Kn.getData("text/html")!=="")return;var Kn;const $r=Array.from(Gn.dataTransfer.files).filter(Yr=>!!Yr&&Ln.test(Yr.type));$r.length&&(Vn.stop(),sn.model.change(Yr=>{Gn.targetRanges&&Yr.setSelection(Gn.targetRanges.map(Qr=>sn.editing.mapper.toModelRange(Qr))),sn.model.enqueueChange(()=>{sn.execute("uploadImage",{file:$r})})}))}),this.listenTo(Dn,"inputTransformation",(Vn,Gn)=>{const Kn=Array.from(sn.editing.view.createRangeIn(Gn.content)).map(Yr=>Yr.item).filter(Yr=>function(Qr,si){return!(!Qr.isInlineImageView(si)||!si.getAttribute("src")||!si.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!si.getAttribute("src").match(/^blob:/g))}(An,Yr)&&!Yr.getAttribute("uploadProcessed")).map(Yr=>({promise:Zx(Yr),imageElement:Yr}));if(!Kn.length)return;const $r=new gf(sn.editing.view.document);for(const Yr of Kn){$r.setAttribute("uploadProcessed",!0,Yr.imageElement);const Qr=bn.createLoader(Yr.promise);Qr&&($r.setAttribute("src","",Yr.imageElement),$r.setAttribute("uploadId",Qr.id,Yr.imageElement))}}),sn.editing.view.document.on("dragover",(Vn,Gn)=>{Gn.preventDefault()}),dn.on("change",()=>{const Vn=dn.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),Gn=new Set;for(const Kn of Vn)if(Kn.type=="insert"&&Kn.name!="$text"){const $r=Kn.position.nodeAfter,Yr=Kn.position.root.rootName=="$graveyard";for(const Qr of cS(sn,$r)){const si=Qr.getAttribute("uploadId");if(!si)continue;const hi=bn.loaders.get(si);hi&&(Yr?Gn.has(si)||hi.abort():(Gn.add(si),this._uploadImageElements.set(si,Qr),hi.status=="idle"&&this._readAndUpload(hi)))}}}),this.on("uploadComplete",(Vn,{imageElement:Gn,data:Kn})=>{const $r=Kn.urls?Kn.urls:Kn;this.editor.model.change(Yr=>{Yr.setAttribute("src",$r.default,Gn),this._parseAndSetSrcsetAttributeOnImage($r,Gn,Yr)})},{priority:"low"})}afterInit(){const sn=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&sn.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&sn.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(sn){const dn=this.editor,vn=dn.model,bn=dn.locale.t,An=dn.plugins.get(Tu),Dn=dn.plugins.get(av),Ln=dn.plugins.get("ImageUtils"),Bn=this._uploadImageElements;return vn.enqueueChange({isUndoable:!1},Gn=>{Gn.setAttribute("uploadStatus","reading",Bn.get(sn.id))}),sn.read().then(()=>{const Gn=sn.upload(),Kn=Bn.get(sn.id);if(pn.isSafari){const $r=dn.editing.mapper.toViewElement(Kn),Yr=Ln.findViewImgElement($r);dn.editing.view.once("render",()=>{if(!Yr.parent)return;const Qr=dn.editing.view.domConverter.mapViewToDom(Yr.parent);if(!Qr)return;const si=Qr.style.display;Qr.style.display="none",Qr._ckHack=Qr.offsetHeight,Qr.style.display=si})}return vn.enqueueChange({isUndoable:!1},$r=>{$r.setAttribute("uploadStatus","uploading",Kn)}),Gn}).then(Gn=>{vn.enqueueChange({isUndoable:!1},Kn=>{const $r=Bn.get(sn.id);Kn.setAttribute("uploadStatus","complete",$r),this.fire("uploadComplete",{data:Gn,imageElement:$r})}),Vn()}).catch(Gn=>{if(sn.status!=="error"&&sn.status!=="aborted")throw Gn;sn.status=="error"&&Gn&&Dn.showWarning(Gn,{title:bn("Upload failed"),namespace:"upload"}),vn.enqueueChange({isUndoable:!1},Kn=>{Kn.remove(Bn.get(sn.id))}),Vn()});function Vn(){vn.enqueueChange({isUndoable:!1},Gn=>{const Kn=Bn.get(sn.id);Gn.removeAttribute("uploadId",Kn),Gn.removeAttribute("uploadStatus",Kn),Bn.delete(sn.id)}),An.destroyLoader(sn)}}_parseAndSetSrcsetAttributeOnImage(sn,dn,vn){let bn=0;const An=Object.keys(sn).filter(Dn=>{const Ln=parseInt(Dn,10);if(!isNaN(Ln))return bn=Math.max(bn,Ln),!0}).map(Dn=>`${sn[Dn]} ${Dn}w`).join(", ");An!=""&&vn.setAttribute("srcset",{data:An,width:bn},dn)}}function cS(yn,sn){const dn=yn.plugins.get("ImageUtils");return Array.from(yn.model.createRangeOn(sn)).filter(vn=>dn.isImage(vn.item)).map(vn=>vn.item)}var q0=rn(1568),uS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(q0.Z,uS),q0.Z.locals;var Y0=rn(3535),dS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Y0.Z,dS),Y0.Z.locals;var K0=rn(6270),fS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(K0.Z,fS),K0.Z.locals;class hS extends qa{constructor(sn,dn){super(sn),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(dn.map(vn=>{if(vn.isDefault)for(const bn of vn.modelElements)this._defaultStyles[bn]=vn.name;return[vn.name,vn]}))}refresh(){const sn=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!sn,this.isEnabled?sn.hasAttribute("imageStyle")?this.value=sn.getAttribute("imageStyle"):this.value=this._defaultStyles[sn.name]:this.value=!1}execute(sn={}){const dn=this.editor,vn=dn.model,bn=dn.plugins.get("ImageUtils");vn.change(An=>{const Dn=sn.value;let Ln=bn.getClosestSelectedImageElement(vn.document.selection);Dn&&this.shouldConvertImageType(Dn,Ln)&&(this.editor.execute(bn.isBlockImage(Ln)?"imageTypeInline":"imageTypeBlock"),Ln=bn.getClosestSelectedImageElement(vn.document.selection)),!Dn||this._styles.get(Dn).isDefault?An.removeAttribute("imageStyle",Ln):An.setAttribute("imageStyle",Dn,Ln)})}shouldConvertImageType(sn,dn){return!this._styles.get(sn).modelElements.includes(dn.name)}}var pS=Object.defineProperty,Z0=Object.getOwnPropertySymbols,gS=Object.prototype.hasOwnProperty,vS=Object.prototype.propertyIsEnumerable,X0=(yn,sn,dn)=>sn in yn?pS(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn,Q0=(yn,sn)=>{for(var dn in sn||(sn={}))gS.call(sn,dn)&&X0(yn,dn,sn[dn]);if(Z0)for(var dn of Z0(sn))vS.call(sn,dn)&&X0(yn,dn,sn[dn]);return yn};const{objectFullWidth:mS,objectInline:J0,objectLeft:e_,objectRight:_v,objectCenter:wv,objectBlockLeft:t_,objectBlockRight:n_}=Il,ig={get inline(){return{name:"inline",title:"In line",icon:J0,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:e_,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:t_,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:wv,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:_v,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:n_,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:wv,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:_v,modelElements:["imageBlock"],className:"image-style-side"}}},r_={full:mS,left:t_,right:n_,center:wv,inlineLeft:e_,inlineRight:_v,inline:J0},i_=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function o_(yn){Hn("image-style-configuration-definition-invalid",yn)}const kv={normalizeStyles:function(yn){return(yn.configuredStyles.options||[]).map(sn=>function(dn){return dn=typeof dn=="string"?ig[dn]?Q0({},ig[dn]):{name:dn}:function(vn,bn){const An=Q0({},bn);for(const Dn in vn)Object.prototype.hasOwnProperty.call(bn,Dn)||(An[Dn]=vn[Dn]);return An}(ig[dn.name],dn),typeof dn.icon=="string"&&(dn.icon=r_[dn.icon]||dn.icon),dn}(sn)).filter(sn=>function(dn,{isBlockPluginLoaded:vn,isInlinePluginLoaded:bn}){const{modelElements:An,name:Dn}=dn;if(!(An&&An.length&&Dn))return o_({style:dn}),!1;{const Ln=[vn?"imageBlock":null,bn?"imageInline":null];if(!An.some(Bn=>Ln.includes(Bn)))return Hn("image-style-missing-dependency",{style:dn,missingPlugins:An.map(Bn=>Bn==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(sn,yn))},getDefaultStylesConfiguration:function(yn,sn){return yn&&sn?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:yn?{options:["block","side"]}:sn?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(yn){return yn.has("ImageBlockEditing")&&yn.has("ImageInlineEditing")?[...i_]:[]},warnInvalidStyle:o_,DEFAULT_OPTIONS:ig,DEFAULT_ICONS:r_,DEFAULT_DROPDOWN_DEFINITIONS:i_};function a_(yn,sn){for(const dn of sn)if(dn.name===yn)return dn}class s_ extends xo{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Mu]}init(){const{normalizeStyles:sn,getDefaultStylesConfiguration:dn}=kv,vn=this.editor,bn=vn.plugins.has("ImageBlockEditing"),An=vn.plugins.has("ImageInlineEditing");vn.config.define("image.styles",dn(bn,An)),this.normalizedStyles=sn({configuredStyles:vn.config.get("image.styles"),isBlockPluginLoaded:bn,isInlinePluginLoaded:An}),this._setupConversion(bn,An),this._setupPostFixer(),vn.commands.add("imageStyle",new hS(vn,this.normalizedStyles))}_setupConversion(sn,dn){const vn=this.editor,bn=vn.model.schema,An=(Dn=this.normalizedStyles,(Bn,Vn,Gn)=>{if(!Gn.consumable.consume(Vn.item,Bn.name))return;const Kn=a_(Vn.attributeNewValue,Dn),$r=a_(Vn.attributeOldValue,Dn),Yr=Gn.mapper.toViewElement(Vn.item),Qr=Gn.writer;$r&&Qr.removeClass($r.className,Yr),Kn&&Qr.addClass(Kn.className,Yr)});var Dn;const Ln=function(Bn){const Vn={imageInline:Bn.filter(Gn=>!Gn.isDefault&&Gn.modelElements.includes("imageInline")),imageBlock:Bn.filter(Gn=>!Gn.isDefault&&Gn.modelElements.includes("imageBlock"))};return(Gn,Kn,$r)=>{if(!Kn.modelRange)return;const Yr=Kn.viewItem,Qr=_l(Kn.modelRange.getItems());if(Qr&&$r.schema.checkAttribute(Qr,"imageStyle"))for(const si of Vn[Qr.name])$r.consumable.consume(Yr,{classes:si.className})&&$r.writer.setAttribute("imageStyle",si.name,Qr)}}(this.normalizedStyles);vn.editing.downcastDispatcher.on("attribute:imageStyle",An),vn.data.downcastDispatcher.on("attribute:imageStyle",An),sn&&(bn.extend("imageBlock",{allowAttributes:"imageStyle"}),vn.data.upcastDispatcher.on("element:figure",Ln,{priority:"low"})),dn&&(bn.extend("imageInline",{allowAttributes:"imageStyle"}),vn.data.upcastDispatcher.on("element:img",Ln,{priority:"low"}))}_setupPostFixer(){const sn=this.editor,dn=sn.model.document,vn=sn.plugins.get(Mu),bn=new Map(this.normalizedStyles.map(An=>[An.name,An]));dn.registerPostFixer(An=>{let Dn=!1;for(const Ln of dn.differ.getChanges())if(Ln.type=="insert"||Ln.type=="attribute"&&Ln.attributeKey=="imageStyle"){let Bn=Ln.type=="insert"?Ln.position.nodeAfter:Ln.range.start.nodeAfter;if(Bn&&Bn.is("element","paragraph")&&Bn.childCount>0&&(Bn=Bn.getChild(0)),!vn.isImage(Bn))continue;const Vn=Bn.getAttribute("imageStyle");if(!Vn)continue;const Gn=bn.get(Vn);Gn&&Gn.modelElements.includes(Bn.name)||(An.removeAttribute("imageStyle",Bn),Dn=!0)}return Dn})}}var l_=rn(5083),yS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(l_.Z,yS),l_.Z.locals;class bS extends xo{static get requires(){return[s_]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const sn=this.editor.t;return{"Wrap text":sn("Wrap text"),"Break text":sn("Break text"),"In line":sn("In line"),"Full size image":sn("Full size image"),"Side image":sn("Side image"),"Left aligned image":sn("Left aligned image"),"Centered image":sn("Centered image"),"Right aligned image":sn("Right aligned image")}}init(){const sn=this.editor.plugins,dn=this.editor.config.get("image.toolbar")||[],vn=c_(sn.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const An of vn)this._createButton(An);const bn=c_([...dn.filter(yi),...kv.getDefaultDropdownDefinitions(sn)],this.localizedDefaultStylesTitles);for(const An of bn)this._createDropdown(An,vn)}_createDropdown(sn,dn){const vn=this.editor.ui.componentFactory;vn.add(sn.name,bn=>{let An;const{defaultItem:Dn,items:Ln,title:Bn}=sn,Vn=Ln.filter(Yr=>dn.find(({name:Qr})=>u_(Qr)===Yr)).map(Yr=>{const Qr=vn.create(Yr);return Yr===Dn&&(An=Qr),Qr});Ln.length!==Vn.length&&kv.warnInvalidStyle({dropdown:sn});const Gn=$d(bn,Wg),Kn=Gn.buttonView,$r=Kn.arrowView;return qg(Gn,Vn,{enableActiveItemFocusOnDropdownOpen:!0}),Kn.set({label:d_(Bn,An.label),class:null,tooltip:!0}),$r.unbind("label"),$r.set({label:Bn}),Kn.bind("icon").toMany(Vn,"isOn",(...Yr)=>{const Qr=Yr.findIndex(Au);return Qr<0?An.icon:Vn[Qr].icon}),Kn.bind("label").toMany(Vn,"isOn",(...Yr)=>{const Qr=Yr.findIndex(Au);return d_(Bn,Qr<0?An.label:Vn[Qr].label)}),Kn.bind("isOn").toMany(Vn,"isOn",(...Yr)=>Yr.some(Au)),Kn.bind("class").toMany(Vn,"isOn",(...Yr)=>Yr.some(Au)?"ck-splitbutton_flatten":void 0),Kn.on("execute",()=>{Vn.some(({isOn:Yr})=>Yr)?Gn.isOpen=!Gn.isOpen:An.fire("execute")}),Gn.bind("isEnabled").toMany(Vn,"isEnabled",(...Yr)=>Yr.some(Au)),this.listenTo(Gn,"execute",()=>{this.editor.editing.view.focus()}),Gn})}_createButton(sn){const dn=sn.name;this.editor.ui.componentFactory.add(u_(dn),vn=>{const bn=this.editor.commands.get("imageStyle"),An=new gs(vn);return An.set({label:sn.title,icon:sn.icon,tooltip:!0,isToggleable:!0}),An.bind("isEnabled").to(bn,"isEnabled"),An.bind("isOn").to(bn,"value",Dn=>Dn===dn),An.on("execute",this._executeCommand.bind(this,dn)),An})}_executeCommand(sn){this.editor.execute("imageStyle",{value:sn}),this.editor.editing.view.focus()}}function c_(yn,sn){for(const dn of yn)sn[dn.title]&&(dn.title=sn[dn.title]);return yn}function u_(yn){return`imageStyle:${yn}`}function d_(yn,sn){return(yn?yn+": ":"")+sn}class _S extends xo{static get pluginName(){return"IndentEditing"}init(){const sn=this.editor;sn.commands.add("indent",new kh(sn)),sn.commands.add("outdent",new kh(sn))}}const f_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',h_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class wS extends xo{static get pluginName(){return"IndentUI"}init(){const sn=this.editor,dn=sn.locale,vn=sn.t,bn=dn.uiLanguageDirection=="ltr"?f_:h_,An=dn.uiLanguageDirection=="ltr"?h_:f_;this._defineButton("indent",vn("Increase indent"),bn),this._defineButton("outdent",vn("Decrease indent"),An)}_defineButton(sn,dn,vn){const bn=this.editor;bn.ui.componentFactory.add(sn,An=>{const Dn=bn.commands.get(sn),Ln=new gs(An);return Ln.set({label:dn,icon:vn,tooltip:!0}),Ln.bind("isEnabled").to(Dn,"isEnabled"),this.listenTo(Ln,"execute",()=>{bn.execute(sn),bn.editing.view.focus()}),Ln})}}class kS{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(sn){Array.isArray(sn)?sn.forEach(dn=>this._definitions.add(dn)):this._definitions.add(sn)}getDispatcher(){return sn=>{sn.on("attribute:linkHref",(dn,vn,bn)=>{if(!bn.consumable.test(vn.item,"attribute:linkHref")||!vn.item.is("selection")&&!bn.schema.isInline(vn.item))return;const An=bn.writer,Dn=An.document.selection;for(const Ln of this._definitions){const Bn=An.createAttributeElement("a",Ln.attributes,{priority:5});Ln.classes&&An.addClass(Ln.classes,Bn);for(const Vn in Ln.styles)An.setStyle(Vn,Ln.styles[Vn],Bn);An.setCustomProperty("link",!0,Bn),Ln.callback(vn.attributeNewValue)?vn.item.is("selection")?An.wrap(Dn.getFirstRange(),Bn):An.wrap(bn.mapper.toViewRange(vn.range),Bn):An.unwrap(bn.mapper.toViewRange(vn.range),Bn)}},{priority:"high"})}}getDispatcherForLinkedImage(){return sn=>{sn.on("attribute:linkHref:imageBlock",(dn,vn,{writer:bn,mapper:An})=>{const Dn=An.toViewElement(vn.item),Ln=Array.from(Dn.getChildren()).find(Bn=>Bn.is("element","a"));for(const Bn of this._definitions){const Vn=nl(Bn.attributes);if(Bn.callback(vn.attributeNewValue)){for(const[Gn,Kn]of Vn)Gn==="class"?bn.addClass(Kn,Ln):bn.setAttribute(Gn,Kn,Ln);Bn.classes&&bn.addClass(Bn.classes,Ln);for(const Gn in Bn.styles)bn.setStyle(Gn,Bn.styles[Gn],Ln)}else{for(const[Gn,Kn]of Vn)Gn==="class"?bn.removeClass(Kn,Ln):bn.removeAttribute(Gn,Ln);Bn.classes&&bn.removeClass(Bn.classes,Ln);for(const Gn in Bn.styles)bn.removeStyle(Gn,Ln)}}})}}}const AS=function(yn,sn,dn){var vn=yn.length;return dn=dn===void 0?vn:dn,!sn&&dn>=vn?yn:Ed(yn,sn,dn)};var CS=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const p_=function(yn){return CS.test(yn)},xS=function(yn){return yn.split("")};var g_="\\ud800-\\udfff",SS="["+g_+"]",Av="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Cv="\\ud83c[\\udffb-\\udfff]",v_="[^"+g_+"]",m_="(?:\\ud83c[\\udde6-\\uddff]){2}",y_="[\\ud800-\\udbff][\\udc00-\\udfff]",b_="(?:"+Av+"|"+Cv+")?",__="[\\ufe0e\\ufe0f]?",ES=__+b_+("(?:\\u200d(?:"+[v_,m_,y_].join("|")+")"+__+b_+")*"),DS="(?:"+[v_+Av+"?",Av,m_,y_,SS].join("|")+")",TS=RegExp(Cv+"(?="+Cv+")|"+DS+ES,"g");const MS=function(yn){return yn.match(TS)||[]},IS=function(yn){return p_(yn)?MS(yn):xS(yn)},LS=function(yn){return function(sn){sn=Th(sn);var dn=p_(sn)?IS(sn):void 0,vn=dn?dn[0]:sn.charAt(0),bn=dn?AS(dn,1).join(""):sn.slice(1);return vn[yn]()+bn}}("toUpperCase"),PS=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,OS=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,RS=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,NS=/^((\w+:(\/{2,})?)|(\W))/i,xv="Ctrl+K";function w_(yn,{writer:sn}){const dn=sn.createAttributeElement("a",{href:yn},{priority:5});return sn.setCustomProperty("link",!0,dn),dn}function k_(yn){const sn=String(yn);return function(dn){return!!dn.replace(PS,"").match(OS)}(sn)?sn:"#"}function Sv(yn,sn){return!!yn&&sn.checkAttribute(yn.name,"linkHref")}function Ev(yn,sn){const dn=(vn=yn,RS.test(vn)?"mailto:":sn);var vn;const bn=!!dn&&!A_(yn);return yn&&bn?dn+yn:yn}function A_(yn){return NS.test(yn)}function C_(yn){window.open(yn,"_blank","noopener")}class $S extends qa{constructor(){super(...arguments),this.manualDecorators=new Fc,this.automaticDecorators=new kS}restoreManualDecoratorStates(){for(const sn of this.manualDecorators)sn.value=this._getDecoratorStateFromModel(sn.id)}refresh(){const sn=this.editor.model,dn=sn.document.selection,vn=dn.getSelectedElement()||_l(dn.getSelectedBlocks());Sv(vn,sn.schema)?(this.value=vn.getAttribute("linkHref"),this.isEnabled=sn.schema.checkAttribute(vn,"linkHref")):(this.value=dn.getAttribute("linkHref"),this.isEnabled=sn.schema.checkAttributeInSelection(dn,"linkHref"));for(const bn of this.manualDecorators)bn.value=this._getDecoratorStateFromModel(bn.id)}execute(sn,dn={}){const vn=this.editor.model,bn=vn.document.selection,An=[],Dn=[];for(const Ln in dn)dn[Ln]?An.push(Ln):Dn.push(Ln);vn.change(Ln=>{if(bn.isCollapsed){const Bn=bn.getFirstPosition();if(bn.hasAttribute("linkHref")){const Vn=x_(bn);let Gn=Yf(Bn,"linkHref",bn.getAttribute("linkHref"),vn);bn.getAttribute("linkHref")===Vn&&(Gn=this._updateLinkContent(vn,Ln,Gn,sn)),Ln.setAttribute("linkHref",sn,Gn),An.forEach(Kn=>{Ln.setAttribute(Kn,!0,Gn)}),Dn.forEach(Kn=>{Ln.removeAttribute(Kn,Gn)}),Ln.setSelection(Ln.createPositionAfter(Gn.end.nodeBefore))}else if(sn!==""){const Vn=nl(bn.getAttributes());Vn.set("linkHref",sn),An.forEach(Kn=>{Vn.set(Kn,!0)});const{end:Gn}=vn.insertContent(Ln.createText(sn,Vn),Bn);Ln.setSelection(Gn)}["linkHref",...An,...Dn].forEach(Vn=>{Ln.removeSelectionAttribute(Vn)})}else{const Bn=vn.schema.getValidRanges(bn.getRanges(),"linkHref"),Vn=[];for(const Kn of bn.getSelectedBlocks())vn.schema.checkAttribute(Kn,"linkHref")&&Vn.push(Ln.createRangeOn(Kn));const Gn=Vn.slice();for(const Kn of Bn)this._isRangeToUpdate(Kn,Vn)&&Gn.push(Kn);for(const Kn of Gn){let $r=Kn;if(Gn.length===1){const Yr=x_(bn);bn.getAttribute("linkHref")===Yr&&($r=this._updateLinkContent(vn,Ln,Kn,sn),Ln.setSelection(Ln.createSelection($r)))}Ln.setAttribute("linkHref",sn,$r),An.forEach(Yr=>{Ln.setAttribute(Yr,!0,$r)}),Dn.forEach(Yr=>{Ln.removeAttribute(Yr,$r)})}}})}_getDecoratorStateFromModel(sn){const dn=this.editor.model,vn=dn.document.selection,bn=vn.getSelectedElement();return Sv(bn,dn.schema)?bn.getAttribute(sn):vn.getAttribute(sn)}_isRangeToUpdate(sn,dn){for(const vn of dn)if(vn.containsRange(sn))return!1;return!0}_updateLinkContent(sn,dn,vn,bn){const An=dn.createText(bn,{linkHref:bn});return sn.insertContent(An,vn)}}function x_(yn){if(yn.isCollapsed){const sn=yn.getFirstPosition();return sn.textNode&&sn.textNode.data}{const sn=Array.from(yn.getFirstRange().getItems());if(sn.length>1)return null;const dn=sn[0];return dn.is("$text")||dn.is("$textProxy")?dn.data:null}}class BS extends qa{refresh(){const sn=this.editor.model,dn=sn.document.selection,vn=dn.getSelectedElement();Sv(vn,sn.schema)?this.isEnabled=sn.schema.checkAttribute(vn,"linkHref"):this.isEnabled=sn.schema.checkAttributeInSelection(dn,"linkHref")}execute(){const sn=this.editor,dn=this.editor.model,vn=dn.document.selection,bn=sn.commands.get("link");dn.change(An=>{const Dn=vn.isCollapsed?[Yf(vn.getFirstPosition(),"linkHref",vn.getAttribute("linkHref"),dn)]:dn.schema.getValidRanges(vn.getRanges(),"linkHref");for(const Ln of Dn)if(An.removeAttribute("linkHref",Ln),bn)for(const Bn of bn.manualDecorators)An.removeAttribute(Bn.id,Ln)})}}class FS extends Yi(){constructor({id:sn,label:dn,attributes:vn,classes:bn,styles:An,defaultValue:Dn}){super(),this.id=sn,this.set("value",void 0),this.defaultValue=Dn,this.label=dn,this.attributes=vn,this.classes=bn,this.styles=An}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var S_=rn(9773),zS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(S_.Z,zS),S_.Z.locals;var HS=Object.defineProperty,E_=Object.getOwnPropertySymbols,VS=Object.prototype.hasOwnProperty,jS=Object.prototype.propertyIsEnumerable,D_=(yn,sn,dn)=>sn in yn?HS(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn,US=(yn,sn)=>{for(var dn in sn||(sn={}))VS.call(sn,dn)&&D_(yn,dn,sn[dn]);if(E_)for(var dn of E_(sn))jS.call(sn,dn)&&D_(yn,dn,sn[dn]);return yn};const T_="automatic",GS=/^(https?:)?\/\//;class WS extends xo{static get pluginName(){return"LinkEditing"}static get requires(){return[vb,cb,Zu]}constructor(sn){super(sn),sn.config.define("link",{addTargetToExternalLinks:!1})}init(){const sn=this.editor;sn.model.schema.extend("$text",{allowAttributes:"linkHref"}),sn.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:w_}),sn.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(vn,bn)=>w_(k_(vn),bn)}),sn.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:vn=>vn.getAttribute("href")}}),sn.commands.add("link",new $S(sn)),sn.commands.add("unlink",new BS(sn));const dn=function(vn,bn){const An={"Open in a new tab":vn("Open in a new tab"),Downloadable:vn("Downloadable")};return bn.forEach(Dn=>("label"in Dn&&An[Dn.label]&&(Dn.label=An[Dn.label]),Dn)),bn}(sn.t,function(vn){const bn=[];if(vn)for(const[An,Dn]of Object.entries(vn)){const Ln=Object.assign({},Dn,{id:`link${LS(An)}`});bn.push(Ln)}return bn}(sn.config.get("link.decorators")));this._enableAutomaticDecorators(dn.filter(vn=>vn.mode===T_)),this._enableManualDecorators(dn.filter(vn=>vn.mode==="manual")),sn.plugins.get(vb).registerAttribute("linkHref"),function(vn,bn,An,Dn){const Ln=vn.editing.view,Bn=new Set;Ln.document.registerPostFixer(Vn=>{const Gn=vn.model.document.selection;let Kn=!1;if(Gn.hasAttribute(bn)){const $r=Yf(Gn.getFirstPosition(),bn,Gn.getAttribute(bn),vn.model),Yr=vn.editing.mapper.toViewRange($r);for(const Qr of Yr.getItems())Qr.is("element",An)&&!Qr.hasClass(Dn)&&(Vn.addClass(Dn,Qr),Bn.add(Qr),Kn=!0)}return Kn}),vn.conversion.for("editingDowncast").add(Vn=>{function Gn(){Ln.change(Kn=>{for(const $r of Bn.values())Kn.removeClass(Dn,$r),Bn.delete($r)})}Vn.on("insert",Gn,{priority:"highest"}),Vn.on("remove",Gn,{priority:"highest"}),Vn.on("attribute",Gn,{priority:"highest"}),Vn.on("selection",Gn,{priority:"highest"})})}(sn,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(sn){const dn=this.editor,vn=dn.commands.get("link").automaticDecorators;dn.config.get("link.addTargetToExternalLinks")&&vn.add({id:"linkIsExternal",mode:T_,callback:bn=>!!bn&&GS.test(bn),attributes:{target:"_blank",rel:"noopener noreferrer"}}),vn.add(sn),vn.length&&dn.conversion.for("downcast").add(vn.getDispatcher())}_enableManualDecorators(sn){if(!sn.length)return;const dn=this.editor,vn=dn.commands.get("link").manualDecorators;sn.forEach(bn=>{dn.model.schema.extend("$text",{allowAttributes:bn.id});const An=new FS(bn);vn.add(An),dn.conversion.for("downcast").attributeToElement({model:An.id,view:(Dn,{writer:Ln,schema:Bn},{item:Vn})=>{if((Vn.is("selection")||Bn.isInline(Vn))&&Dn){const Gn=Ln.createAttributeElement("a",An.attributes,{priority:5});An.classes&&Ln.addClass(An.classes,Gn);for(const Kn in An.styles)Ln.setStyle(Kn,An.styles[Kn],Gn);return Ln.setCustomProperty("link",!0,Gn),Gn}}}),dn.conversion.for("upcast").elementToAttribute({view:US({name:"a"},An._createPattern()),model:{key:An.id}})})}_enableLinkOpen(){const sn=this.editor,dn=sn.editing.view.document;this.listenTo(dn,"click",(vn,bn)=>{if(!(pn.isMac?bn.domEvent.metaKey:bn.domEvent.ctrlKey))return;let An=bn.domTarget;if(An.tagName.toLowerCase()!="a"&&(An=An.closest("a")),!An)return;const Dn=An.getAttribute("href");Dn&&(vn.stop(),bn.preventDefault(),C_(Dn))},{context:"$capture"}),this.listenTo(dn,"keydown",(vn,bn)=>{const An=sn.commands.get("link").value;An&&bn.keyCode===Xa.enter&&bn.altKey&&(vn.stop(),C_(An))})}_enableInsertContentSelectionAttributesFixer(){const sn=this.editor.model,dn=sn.document.selection;this.listenTo(sn,"insertContent",()=>{const vn=dn.anchor.nodeBefore,bn=dn.anchor.nodeAfter;dn.hasAttribute("linkHref")&&vn&&vn.hasAttribute("linkHref")&&(bn&&bn.hasAttribute("linkHref")||sn.change(An=>{Dv(An,Tv(sn.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const sn=this.editor,dn=sn.model;sn.editing.view.addObserver(jg);let vn=!1;this.listenTo(sn.editing.view.document,"mousedown",()=>{vn=!0}),this.listenTo(sn.editing.view.document,"selectionChange",()=>{if(!vn)return;vn=!1;const bn=dn.document.selection;if(!bn.isCollapsed||!bn.hasAttribute("linkHref"))return;const An=bn.getFirstPosition(),Dn=Yf(An,"linkHref",bn.getAttribute("linkHref"),dn);(An.isTouching(Dn.start)||An.isTouching(Dn.end))&&dn.change(Ln=>{Dv(Ln,Tv(dn.schema))})})}_enableTypingOverLink(){const sn=this.editor,dn=sn.editing.view;let vn=null,bn=!1;this.listenTo(dn.document,"delete",()=>{bn=!0},{priority:"high"}),this.listenTo(sn.model,"deleteContent",()=>{const An=sn.model.document.selection;An.isCollapsed||(bn?bn=!1:M_(sn)&&function(Dn){const Ln=Dn.document.selection,Bn=Ln.getFirstPosition(),Vn=Ln.getLastPosition(),Gn=Bn.nodeAfter;if(!Gn||!Gn.is("$text")||!Gn.hasAttribute("linkHref"))return!1;const Kn=Vn.textNode||Vn.nodeBefore;return Gn===Kn?!0:Yf(Bn,"linkHref",Gn.getAttribute("linkHref"),Dn).containsRange(Dn.createRange(Bn,Vn),!0)}(sn.model)&&(vn=An.getAttributes()))},{priority:"high"}),this.listenTo(sn.model,"insertContent",(An,[Dn])=>{bn=!1,M_(sn)&&vn&&(sn.model.change(Ln=>{for(const[Bn,Vn]of vn)Ln.setAttribute(Bn,Vn,Dn)}),vn=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const sn=this.editor,dn=sn.model,vn=dn.document.selection,bn=sn.editing.view;let An=!1,Dn=!1;this.listenTo(bn.document,"delete",(Ln,Bn)=>{Dn=Bn.direction==="backward"},{priority:"high"}),this.listenTo(dn,"deleteContent",()=>{An=!1;const Ln=vn.getFirstPosition(),Bn=vn.getAttribute("linkHref");if(!Bn)return;const Vn=Yf(Ln,"linkHref",Bn,dn);An=Vn.containsPosition(Ln)||Vn.end.isEqual(Ln)},{priority:"high"}),this.listenTo(dn,"deleteContent",()=>{Dn&&(Dn=!1,An||sn.model.enqueueChange(Ln=>{Dv(Ln,Tv(dn.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const sn=this.editor,dn=sn.model,vn=this.editor.config.get("link.defaultProtocol");vn&&this.listenTo(sn.plugins.get("ClipboardPipeline"),"contentInsertion",(bn,An)=>{dn.change(Dn=>{const Ln=Dn.createRangeIn(An.content);for(const Bn of Ln.getItems())if(Bn.hasAttribute("linkHref")){const Vn=Ev(Bn.getAttribute("linkHref"),vn);Dn.setAttribute("linkHref",Vn,Bn)}})})}}function Dv(yn,sn){yn.removeSelectionAttribute("linkHref");for(const dn of sn)yn.removeSelectionAttribute(dn)}function M_(yn){return yn.model.change(sn=>sn.batch).isTyping}function Tv(yn){return yn.getDefinition("$text").allowAttributes.filter(sn=>sn.startsWith("link"))}var I_=rn(7754),qS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(I_.Z,qS),I_.Z.locals;class YS extends is{constructor(sn,dn){super(sn),this.focusTracker=new Ic,this.keystrokes=new tu,this._focusables=new zc;const vn=sn.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(vn("Save"),Il.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(vn("Cancel"),Il.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(dn),this.children=this._createFormChildren(dn.manualDecorators),this._focusCycler=new sd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const bn=["ck","ck-link-form","ck-responsive-form"];dn.manualDecorators.length&&bn.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:bn,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((sn,dn)=>(sn[dn.name]=dn.isOn,sn),{})}render(){super.render(),un({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(sn=>{this._focusables.add(sn),this.focusTracker.add(sn.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const sn=this.locale.t,dn=new Cd(this.locale,Yg);return dn.label=sn("Link URL"),dn}_createButton(sn,dn,vn,bn){const An=new gs(this.locale);return An.set({label:sn,icon:dn,tooltip:!0}),An.extendTemplate({attributes:{class:vn}}),bn&&An.delegate("execute").to(this,bn),An}_createManualDecoratorSwitches(sn){const dn=this.createCollection();for(const vn of sn.manualDecorators){const bn=new xf(this.locale);bn.set({name:vn.id,label:vn.label,withText:!0}),bn.bind("isOn").toMany([vn,sn],"value",(An,Dn)=>Dn===void 0&&An===void 0?!!vn.defaultValue:!!An),bn.on("execute",()=>{vn.set("value",!bn.isOn)}),dn.add(bn)}return dn}_createFormChildren(sn){const dn=this.createCollection();if(dn.add(this.urlInputView),sn.length){const vn=new is;vn.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(bn=>({tag:"li",children:[bn],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),dn.add(vn)}return dn.add(this.saveButtonView),dn.add(this.cancelButtonView),dn}}var L_=rn(2347),KS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(L_.Z,KS),L_.Z.locals;class ZS extends is{constructor(sn){super(sn),this.focusTracker=new Ic,this.keystrokes=new tu,this._focusables=new zc;const dn=sn.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(dn("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(dn("Edit link"),Il.pencil,"edit"),this.set("href",void 0),this._focusCycler=new sd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(sn=>{this._focusables.add(sn),this.focusTracker.add(sn.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(sn,dn,vn){const bn=new gs(this.locale);return bn.set({label:sn,icon:dn,tooltip:!0}),bn.delegate("execute").to(this,vn),bn}_createPreviewButton(){const sn=new gs(this.locale),dn=this.bindTemplate,vn=this.t;return sn.set({withText:!0,tooltip:vn("Open link in new tab")}),sn.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:dn.to("href",bn=>bn&&k_(bn)),target:"_blank",rel:"noopener noreferrer"}}),sn.bind("label").to(this,"href",bn=>bn||vn("This link has no URL")),sn.bind("isEnabled").to(this,"href",bn=>!!bn),sn.template.tag="a",sn.template.eventListeners={},sn}}const Xu="link-ui";class XS extends xo{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Wp]}static get pluginName(){return"LinkUI"}init(){const sn=this.editor;sn.editing.view.addObserver(Gk),this._balloon=sn.plugins.get(Wp),this._createToolbarLinkButton(),this._enableBalloonActivators(),sn.conversion.for("editingDowncast").markerToHighlight({model:Xu,view:{classes:["ck-fake-link-selection"]}}),sn.conversion.for("editingDowncast").markerToElement({model:Xu,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const sn=this.editor,dn=new ZS(sn.locale),vn=sn.commands.get("link"),bn=sn.commands.get("unlink");return dn.bind("href").to(vn,"value"),dn.editButtonView.bind("isEnabled").to(vn),dn.unlinkButtonView.bind("isEnabled").to(bn),this.listenTo(dn,"edit",()=>{this._addFormView()}),this.listenTo(dn,"unlink",()=>{sn.execute("unlink"),this._hideUI()}),dn.keystrokes.set("Esc",(An,Dn)=>{this._hideUI(),Dn()}),dn.keystrokes.set(xv,(An,Dn)=>{this._addFormView(),Dn()}),dn}_createFormView(){const sn=this.editor,dn=sn.commands.get("link"),vn=sn.config.get("link.defaultProtocol"),bn=new(cn(YS))(sn.locale,dn);return bn.urlInputView.fieldView.bind("value").to(dn,"value"),bn.urlInputView.bind("isEnabled").to(dn,"isEnabled"),bn.saveButtonView.bind("isEnabled").to(dn),this.listenTo(bn,"submit",()=>{const{value:An}=bn.urlInputView.fieldView.element,Dn=Ev(An,vn);sn.execute("link",Dn,bn.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(bn,"cancel",()=>{this._closeFormView()}),bn.keystrokes.set("Esc",(An,Dn)=>{this._closeFormView(),Dn()}),bn}_createToolbarLinkButton(){const sn=this.editor,dn=sn.commands.get("link"),vn=sn.t;sn.ui.componentFactory.add("link",bn=>{const An=new gs(bn);return An.isEnabled=!0,An.label=vn("Link"),An.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',An.keystroke=xv,An.tooltip=!0,An.isToggleable=!0,An.bind("isEnabled").to(dn,"isEnabled"),An.bind("isOn").to(dn,"value",Dn=>!!Dn),this.listenTo(An,"execute",()=>this._showUI(!0)),An})}_enableBalloonActivators(){const sn=this.editor,dn=sn.editing.view.document;this.listenTo(dn,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),sn.keystrokes.set(xv,(vn,bn)=>{bn(),sn.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(sn,dn)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),dn())},{priority:"high"}),this.editor.keystrokes.set("Esc",(sn,dn)=>{this._isUIVisible&&(this._hideUI(),dn())}),ln({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const sn=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=sn.value||""}_closeFormView(){const sn=this.editor.commands.get("link");sn.restoreManualDecoratorStates(),sn.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(sn=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),sn&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),sn&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const sn=this.editor;this.stopListening(sn.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),sn.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const sn=this.editor,dn=sn.editing.view.document;let vn=this._getSelectedLinkElement(),bn=Dn();const An=()=>{const Ln=this._getSelectedLinkElement(),Bn=Dn();vn&&!Ln||!vn&&Bn!==bn?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),vn=Ln,bn=Bn};function Dn(){return dn.selection.focus.getAncestors().reverse().find(Ln=>Ln.is("element"))}this.listenTo(sn.ui,"update",An),this.listenTo(this._balloon,"change:visibleView",An)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const sn=this._balloon.visibleView;return!!this.formView&&sn==this.formView||this._areActionsVisible}_getBalloonPositionData(){const sn=this.editor.editing.view,dn=this.editor.model,vn=sn.document;let bn;if(dn.markers.has(Xu)){const An=Array.from(this.editor.editing.mapper.markerNameToElements(Xu)),Dn=sn.createRange(sn.createPositionBefore(An[0]),sn.createPositionAfter(An[An.length-1]));bn=sn.domConverter.viewRangeToDom(Dn)}else bn=()=>{const An=this._getSelectedLinkElement();return An?sn.domConverter.mapViewToDom(An):sn.domConverter.viewRangeToDom(vn.selection.getFirstRange())};return{target:bn}}_getSelectedLinkElement(){const sn=this.editor.editing.view,dn=sn.document.selection,vn=dn.getSelectedElement();if(dn.isCollapsed||vn&&pl(vn))return Mv(dn.getFirstPosition());{const bn=dn.getFirstRange().getTrimmed(),An=Mv(bn.start),Dn=Mv(bn.end);return An&&An==Dn&&sn.createRangeIn(An).getTrimmed().isEqual(bn)?An:null}}_showFakeVisualSelection(){const sn=this.editor.model;sn.change(dn=>{const vn=sn.document.selection.getFirstRange();if(sn.markers.has(Xu))dn.updateMarker(Xu,{range:vn});else if(vn.start.isAtEnd){const bn=vn.start.getLastMatchingPosition(({item:An})=>!sn.schema.isContent(An),{boundaries:vn});dn.addMarker(Xu,{usingOperation:!1,affectsData:!1,range:dn.createRange(bn,vn.end)})}else dn.addMarker(Xu,{usingOperation:!1,affectsData:!1,range:vn})})}_hideFakeVisualSelection(){const sn=this.editor.model;sn.markers.has(Xu)&&sn.change(dn=>{dn.removeMarker(Xu)})}}function Mv(yn){return yn.getAncestors().find(sn=>{return(dn=sn).is("attributeElement")&&!!dn.getCustomProperty("link");var dn})||null}const QS=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class JS extends xo{static get requires(){return[md]}static get pluginName(){return"AutoLink"}init(){const sn=this.editor.model.document.selection;sn.on("change:range",()=>{this.isEnabled=!sn.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const sn=this.editor,dn=new gb(sn.model,vn=>{if(!function(An){return An.length>4&&An[An.length-1]===" "&&An[An.length-2]!==" "}(vn))return;const bn=P_(vn.substr(0,vn.length-1));return bn?{url:bn}:void 0});dn.on("matched:data",(vn,bn)=>{const{batch:An,range:Dn,url:Ln}=bn;if(!An.isTyping)return;const Bn=Dn.end.getShiftedBy(-1),Vn=Bn.getShiftedBy(-Ln.length),Gn=sn.model.createRange(Vn,Bn);this._applyAutoLink(Ln,Gn)}),dn.bind("isEnabled").to(this)}_enableEnterHandling(){const sn=this.editor,dn=sn.model,vn=sn.commands.get("enter");vn&&vn.on("execute",()=>{const bn=dn.document.selection.getFirstPosition();if(!bn.parent.previousSibling)return;const An=dn.createRangeIn(bn.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(An)})}_enableShiftEnterHandling(){const sn=this.editor,dn=sn.model,vn=sn.commands.get("shiftEnter");vn&&vn.on("execute",()=>{const bn=dn.document.selection.getFirstPosition(),An=dn.createRange(dn.createPositionAt(bn.parent,0),bn.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(An)})}_checkAndApplyAutoLinkOnRange(sn){const dn=this.editor.model,{text:vn,range:bn}=pb(sn,dn),An=P_(vn);if(An){const Dn=dn.createRange(bn.end.getShiftedBy(-An.length),bn.end);this._applyAutoLink(An,Dn)}}_applyAutoLink(sn,dn){const vn=this.editor.model,bn=Ev(sn,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(An,Dn){return Dn.schema.checkAttributeInSelection(Dn.createSelection(An),"linkHref")}(dn,vn)&&A_(bn)&&!function(An){const Dn=An.start.nodeAfter;return!!Dn&&Dn.hasAttribute("linkHref")}(dn)&&this._persistAutoLink(bn,dn)}_persistAutoLink(sn,dn){const vn=this.editor.model,bn=this.editor.plugins.get("Delete");vn.enqueueChange(An=>{An.setAttribute("linkHref",sn,dn),vn.enqueueChange(()=>{bn.requestUndoOnBackspace()})})}}function P_(yn){const sn=QS.exec(yn);return sn?sn[2]:null}var O_=rn(111),eE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(O_.Z,eE),O_.Z.locals;var R_=rn(5730),tE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(R_.Z,tE),R_.Z.locals;var N_=rn(4564),nE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(N_.Z,nE),N_.Z.locals;function rE(yn,sn){const dn=sn.mapper,vn=sn.writer,bn=yn.getAttribute("listType")=="numbered"?"ol":"ul",An=function(Ln){const Bn=Ln.createContainerElement("li");return Bn.getFillerOffset=aE,Bn}(vn),Dn=vn.createContainerElement(bn,null);return vn.insert(vn.createPositionAt(Dn,0),An),dn.bindElements(yn,An),An}function $_(yn,sn,dn,vn){const bn=sn.parent,An=dn.mapper,Dn=dn.writer;let Ln=An.toViewPosition(vn.createPositionBefore(yn));const Bn=F_(yn.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:yn.getAttribute("listIndent")}),Vn=yn.previousSibling;if(Bn&&Bn.getAttribute("listIndent")==yn.getAttribute("listIndent")){const Gn=An.toViewElement(Bn);Ln=Dn.breakContainer(Dn.createPositionAfter(Gn))}else if(Vn&&Vn.name=="listItem"){Ln=An.toViewPosition(vn.createPositionAt(Vn,"end"));const Gn=An.findMappedViewAncestor(Ln),Kn=function($r){for(const Yr of $r.getChildren())if(Yr.name=="ul"||Yr.name=="ol")return Yr;return null}(Gn);Ln=Kn?Dn.createPositionBefore(Kn):Dn.createPositionAt(Gn,"end")}else Ln=An.toViewPosition(vn.createPositionBefore(yn));if(Ln=B_(Ln),Dn.insert(Ln,bn),Vn&&Vn.name=="listItem"){const Gn=An.toViewElement(Vn),Kn=Dn.createRange(Dn.createPositionAt(Gn,0),Ln).getWalker({ignoreElementEnd:!0});for(const $r of Kn)if($r.item.is("element","li")){const Yr=Dn.breakContainer(Dn.createPositionBefore($r.item)),Qr=$r.item.parent,si=Dn.createPositionAt(sn,"end");fu(Dn,si.nodeBefore,si.nodeAfter),Dn.move(Dn.createRangeOn(Qr),si),Kn._position=Yr}}else{const Gn=bn.nextSibling;if(Gn&&(Gn.is("element","ul")||Gn.is("element","ol"))){let Kn=null;for(const $r of Gn.getChildren()){const Yr=An.toModelElement($r);if(!(Yr&&Yr.getAttribute("listIndent")>yn.getAttribute("listIndent")))break;Kn=$r}Kn&&(Dn.breakContainer(Dn.createPositionAfter(Kn)),Dn.move(Dn.createRangeOn(Kn.parent),Dn.createPositionAt(sn,"end")))}}fu(Dn,bn,bn.nextSibling),fu(Dn,bn.previousSibling,bn)}function fu(yn,sn,dn){return!sn||!dn||sn.name!="ul"&&sn.name!="ol"||sn.name!=dn.name||sn.getAttribute("class")!==dn.getAttribute("class")?null:yn.mergeContainers(yn.createPositionAfter(sn))}function B_(yn){return yn.getLastMatchingPosition(sn=>sn.item.is("uiElement"))}function F_(yn,sn){const dn=!!sn.sameIndent,vn=!!sn.smallerIndent,bn=sn.listIndent;let An=yn;for(;An&&An.name=="listItem";){const Dn=An.getAttribute("listIndent");if(dn&&bn==Dn||vn&&bn>Dn)return An;An=sn.direction==="forward"?An.nextSibling:An.previousSibling}return null}function z_(yn,sn,dn,vn){yn.ui.componentFactory.add(sn,bn=>{const An=yn.commands.get(sn),Dn=new gs(bn);return Dn.set({label:dn,icon:vn,tooltip:!0,isToggleable:!0}),Dn.bind("isOn","isEnabled").to(An,"value","isEnabled"),Dn.on("execute",()=>{yn.execute(sn),yn.editing.view.focus()}),Dn})}function Iv(yn,sn){const dn=[],vn=yn.parent,bn={ignoreElementEnd:!1,startPosition:yn,shallow:!0,direction:sn},An=vn.getAttribute("listIndent"),Dn=[...new Yu(bn)].filter(Ln=>Ln.item.is("element")).map(Ln=>Ln.item);for(const Ln of Dn){if(!Ln.is("element","listItem")||Ln.getAttribute("listIndent")<An)break;if(!(Ln.getAttribute("listIndent")>An)){if(Ln.getAttribute("listType")!==vn.getAttribute("listType")||Ln.getAttribute("listStyle")!==vn.getAttribute("listStyle")||Ln.getAttribute("listReversed")!==vn.getAttribute("listReversed")||Ln.getAttribute("listStart")!==vn.getAttribute("listStart"))break;sn==="backward"?dn.unshift(Ln):dn.push(Ln)}}return dn}const iE=["disc","circle","square"],oE=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function aE(){const yn=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||yn?0:Sp.call(this)}class sE extends xo{static get pluginName(){return"ListUI"}init(){const sn=this.editor.t;z_(this.editor,"numberedList",sn("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),z_(this.editor,"bulletedList",sn("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const lE=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:yn,typeAttribute:sn,listType:dn}of lE);var H_=rn(4721),cE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(H_.Z,cE),H_.Z.locals;var V_=rn(6082),uE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(V_.Z,uE),V_.Z.locals;var j_=rn(2417),dE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(j_.Z,dE),j_.Z.locals;class U_ extends qa{constructor(sn,dn){super(sn),this._indentBy=dn=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const sn=this.editor.model,dn=sn.document;let vn=Array.from(dn.selection.getSelectedBlocks());sn.change(bn=>{const An=vn[vn.length-1];let Dn=An.nextSibling;for(;Dn&&Dn.name=="listItem"&&Dn.getAttribute("listIndent")>An.getAttribute("listIndent");)vn.push(Dn),Dn=Dn.nextSibling;this._indentBy<0&&(vn=vn.reverse());for(const Ln of vn){const Bn=Ln.getAttribute("listIndent")+this._indentBy;Bn<0?bn.rename(Ln,"paragraph"):bn.setAttribute("listIndent",Bn,Ln)}this.fire("_executeCleanup",vn)})}_checkEnabled(){const sn=_l(this.editor.model.document.selection.getSelectedBlocks());if(!sn||!sn.is("element","listItem"))return!1;if(this._indentBy>0){const dn=sn.getAttribute("listIndent"),vn=sn.getAttribute("listType");let bn=sn.previousSibling;for(;bn&&bn.is("element","listItem")&&bn.getAttribute("listIndent")>=dn;){if(bn.getAttribute("listIndent")==dn)return bn.getAttribute("listType")==vn;bn=bn.previousSibling}return!1}return!0}}class G_ extends qa{constructor(sn,dn){super(sn),this.type=dn}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(sn={}){const dn=this.editor.model,vn=dn.document,bn=Array.from(vn.selection.getSelectedBlocks()).filter(Dn=>q_(Dn,dn.schema)),An=sn.forceValue!==void 0?!sn.forceValue:this.value;dn.change(Dn=>{if(An){let Ln=bn[bn.length-1].nextSibling,Bn=Number.POSITIVE_INFINITY,Vn=[];for(;Ln&&Ln.name=="listItem"&&Ln.getAttribute("listIndent")!==0;){const Gn=Ln.getAttribute("listIndent");Gn<Bn&&(Bn=Gn);const Kn=Gn-Bn;Vn.push({element:Ln,listIndent:Kn}),Ln=Ln.nextSibling}Vn=Vn.reverse();for(const Gn of Vn)Dn.setAttribute("listIndent",Gn.listIndent,Gn.element)}if(!An){let Ln=Number.POSITIVE_INFINITY;for(const Bn of bn)Bn.is("element","listItem")&&Bn.getAttribute("listIndent")<Ln&&(Ln=Bn.getAttribute("listIndent"));Ln=Ln===0?1:Ln,W_(bn,!0,Ln),W_(bn,!1,Ln)}for(const Ln of bn.reverse())An&&Ln.name=="listItem"?Dn.rename(Ln,"paragraph"):An||Ln.name=="listItem"?An||Ln.name!="listItem"||Ln.getAttribute("listType")==this.type||Dn.setAttribute("listType",this.type,Ln):(Dn.setAttributes({listType:this.type,listIndent:0},Ln),Dn.rename(Ln,"listItem"));this.fire("_executeCleanup",bn)})}_getValue(){const sn=_l(this.editor.model.document.selection.getSelectedBlocks());return!!sn&&sn.is("element","listItem")&&sn.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const sn=this.editor.model.document.selection,dn=this.editor.model.schema,vn=_l(sn.getSelectedBlocks());return!!vn&&q_(vn,dn)}}function W_(yn,sn,dn){const vn=sn?yn[0]:yn[yn.length-1];if(vn.is("element","listItem")){let bn=vn[sn?"previousSibling":"nextSibling"],An=vn.getAttribute("listIndent");for(;bn&&bn.is("element","listItem")&&bn.getAttribute("listIndent")>=dn;)An>bn.getAttribute("listIndent")&&(An=bn.getAttribute("listIndent")),bn.getAttribute("listIndent")==An&&yn[sn?"unshift":"push"](bn),bn=bn[sn?"previousSibling":"nextSibling"]}}function q_(yn,sn){return sn.checkChild(yn.parent,"listItem")&&!sn.isObject(yn)}class fE extends xo{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(sn){return function(dn){return iE.includes(dn)?"bulleted":oE.includes(dn)?"numbered":null}(sn)}getSelectedListItems(sn){return function(dn){let vn=[...dn.document.selection.getSelectedBlocks()].filter(bn=>bn.is("element","listItem")).map(bn=>{const An=dn.change(Dn=>Dn.createPositionAt(bn,0));return[...Iv(An,"backward"),...Iv(An,"forward")]}).flat();return vn=[...new Set(vn)],vn}(sn)}getSiblingNodes(sn,dn){return Iv(sn,dn)}}function Y_(yn){return(sn,dn,vn)=>{const bn=vn.consumable;if(!bn.test(dn.item,"insert")||!bn.test(dn.item,"attribute:listType")||!bn.test(dn.item,"attribute:listIndent"))return;bn.consume(dn.item,"insert"),bn.consume(dn.item,"attribute:listType"),bn.consume(dn.item,"attribute:listIndent");const An=dn.item;$_(An,rE(An,vn),vn,yn)}}const hE=(yn,sn,dn)=>{if(!dn.consumable.test(sn.item,yn.name))return;const vn=dn.mapper.toViewElement(sn.item),bn=dn.writer;bn.breakContainer(bn.createPositionBefore(vn)),bn.breakContainer(bn.createPositionAfter(vn));const An=vn.parent,Dn=sn.attributeNewValue=="numbered"?"ol":"ul";bn.rename(Dn,An)},pE=(yn,sn,dn)=>{dn.consumable.consume(sn.item,yn.name);const vn=dn.mapper.toViewElement(sn.item).parent,bn=dn.writer;fu(bn,vn,vn.nextSibling),fu(bn,vn.previousSibling,vn)},K_=(yn,sn,dn)=>{if(dn.consumable.test(sn.item,yn.name)&&sn.item.name!="listItem"){let vn=dn.mapper.toViewPosition(sn.range.start);const bn=dn.writer,An=[];for(;(vn.parent.name=="ul"||vn.parent.name=="ol")&&(vn=bn.breakContainer(vn),vn.parent.name=="li");){const Dn=vn,Ln=bn.createPositionAt(vn.parent,"end");if(!Dn.isEqual(Ln)){const Bn=bn.remove(bn.createRange(Dn,Ln));An.push(Bn)}vn=bn.createPositionAfter(vn.parent)}if(An.length>0){for(let Dn=0;Dn<An.length;Dn++){const Ln=vn.nodeBefore;if(vn=bn.insert(vn,An[Dn]).end,Dn>0){const Bn=fu(bn,Ln,Ln.nextSibling);Bn&&Bn.parent==Ln&&vn.offset--}}fu(bn,vn.nodeBefore,vn.nodeAfter)}}},gE=(yn,sn,dn)=>{const vn=dn.mapper.toViewPosition(sn.position),bn=vn.nodeBefore,An=vn.nodeAfter;fu(dn.writer,bn,An)},vE=(yn,sn,dn)=>{if(dn.consumable.consume(sn.viewItem,{name:!0})){const vn=dn.writer,bn=vn.createElement("listItem"),An=function(Bn){let Vn=0,Gn=Bn.parent;for(;Gn;){if(Gn.is("element","li"))Vn++;else{const Kn=Gn.previousSibling;Kn&&Kn.is("element","li")&&Vn++}Gn=Gn.parent}return Vn}(sn.viewItem);vn.setAttribute("listIndent",An,bn);const Dn=sn.viewItem.parent&&sn.viewItem.parent.name=="ol"?"numbered":"bulleted";if(vn.setAttribute("listType",Dn,bn),!dn.safeInsert(bn,sn.modelCursor))return;const Ln=function(Bn,Vn,Gn){const{writer:Kn,schema:$r}=Gn;let Yr=Kn.createPositionAfter(Bn);for(const Qr of Vn)if(Qr.name=="ul"||Qr.name=="ol")Yr=Gn.convertItem(Qr,Yr).modelCursor;else{const si=Gn.convertItem(Qr,Kn.createPositionAt(Bn,"end")),hi=si.modelRange.start.nodeAfter;hi&&hi.is("element")&&!$r.checkChild(Bn,hi.name)&&(Bn=si.modelCursor.parent.is("element","listItem")?si.modelCursor.parent:bE(si.modelCursor),Yr=Kn.createPositionAfter(Bn))}return Yr}(bn,sn.viewItem.getChildren(),dn);sn.modelRange=vn.createRange(sn.modelCursor,Ln),dn.updateConversionResult(bn,sn)}},Z_=(yn,sn,dn)=>{if(dn.consumable.test(sn.viewItem,{name:!0})){const vn=Array.from(sn.viewItem.getChildren());for(const bn of vn)!(bn.is("element","li")||Qf(bn))&&bn._remove()}},mE=(yn,sn,dn)=>{if(dn.consumable.test(sn.viewItem,{name:!0})){if(sn.viewItem.childCount===0)return;const vn=[...sn.viewItem.getChildren()];let bn=!1;for(const An of vn)bn&&!Qf(An)&&An._remove(),Qf(An)&&(bn=!0)}};function X_(yn){return(sn,dn)=>{if(dn.isPhantom)return;const vn=dn.modelPosition.nodeBefore;if(vn&&vn.is("element","listItem")){const bn=dn.mapper.toViewElement(vn),An=bn.getAncestors().find(Qf),Dn=yn.createPositionAt(bn,0).getWalker();for(const Ln of Dn){if(Ln.type=="elementStart"&&Ln.item.is("element","li")){dn.viewPosition=Ln.previousPosition;break}if(Ln.type=="elementEnd"&&Ln.item==An){dn.viewPosition=Ln.nextPosition;break}}}}}const yE=function(yn,[sn,dn]){const vn=this;let bn,An=sn.is("documentFragment")?sn.getChild(0):sn;if(bn=dn?vn.createSelection(dn):vn.document.selection,An&&An.is("element","listItem")){const Dn=bn.getFirstPosition();let Ln=null;if(Dn.parent.is("element","listItem")?Ln=Dn.parent:Dn.nodeBefore&&Dn.nodeBefore.is("element","listItem")&&(Ln=Dn.nodeBefore),Ln){const Bn=Ln.getAttribute("listIndent");if(Bn>0)for(;An&&An.is("element","listItem");)An._setAttribute("listIndent",An.getAttribute("listIndent")+Bn),An=An.nextSibling}}};function bE(yn){const sn=new Yu({startPosition:yn});let dn;do dn=sn.next();while(!dn.value.item.is("element","listItem"));return dn.value.item}function Q_(yn,sn,dn,vn,bn,An){const Dn=F_(sn.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:yn}),Ln=bn.mapper,Bn=bn.writer,Vn=Dn?Dn.getAttribute("listIndent"):null;let Gn;if(Dn)if(Vn==yn){const Kn=Ln.toViewElement(Dn).parent;Gn=Bn.createPositionAfter(Kn)}else{const Kn=An.createPositionAt(Dn,"end");Gn=Ln.toViewPosition(Kn)}else Gn=dn;Gn=B_(Gn);for(const Kn of[...vn.getChildren()])Qf(Kn)&&(Gn=Bn.move(Bn.createRangeOn(Kn),Gn).end,fu(Bn,Kn,Kn.nextSibling),fu(Bn,Kn.previousSibling,Kn))}function Qf(yn){return yn.is("element","ol")||yn.is("element","ul")}class _E extends xo{static get pluginName(){return"ListEditing"}static get requires(){return[Xp,md,fE]}init(){const sn=this.editor;sn.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const dn=sn.data,vn=sn.editing;var bn;sn.model.document.registerPostFixer(Dn=>function(Ln,Bn){const Vn=Ln.document.differ.getChanges(),Gn=new Map;let Kn=!1;for(const si of Vn)if(si.type=="insert"&&si.name=="listItem")$r(si.position);else if(si.type=="insert"&&si.name!="listItem"){if(si.name!="$text"){const hi=si.position.nodeAfter;hi.hasAttribute("listIndent")&&(Bn.removeAttribute("listIndent",hi),Kn=!0),hi.hasAttribute("listType")&&(Bn.removeAttribute("listType",hi),Kn=!0),hi.hasAttribute("listStyle")&&(Bn.removeAttribute("listStyle",hi),Kn=!0),hi.hasAttribute("listReversed")&&(Bn.removeAttribute("listReversed",hi),Kn=!0),hi.hasAttribute("listStart")&&(Bn.removeAttribute("listStart",hi),Kn=!0);for(const wi of Array.from(Ln.createRangeIn(hi)).filter(zi=>zi.item.is("element","listItem")))$r(wi.previousPosition)}$r(si.position.getShiftedBy(si.length))}else si.type=="remove"&&si.name=="listItem"?$r(si.position):(si.type=="attribute"&&si.attributeKey=="listIndent"||si.type=="attribute"&&si.attributeKey=="listType")&&$r(si.range.start);for(const si of Gn.values())Yr(si),Qr(si);return Kn;function $r(si){const hi=si.nodeBefore;if(hi&&hi.is("element","listItem")){let wi=hi;if(Gn.has(wi))return;for(let zi=wi.previousSibling;zi&&zi.is("element","listItem");zi=wi.previousSibling)if(wi=zi,Gn.has(wi))return;Gn.set(hi,wi)}else{const wi=si.nodeAfter;wi&&wi.is("element","listItem")&&Gn.set(wi,wi)}}function Yr(si){let hi=0,wi=null;for(;si&&si.is("element","listItem");){const zi=si.getAttribute("listIndent");if(zi>hi){let so;wi===null?(wi=zi-hi,so=hi):(wi>zi&&(wi=zi),so=zi-wi),Bn.setAttribute("listIndent",so,si),Kn=!0}else wi=null,hi=si.getAttribute("listIndent")+1;si=si.nextSibling}}function Qr(si){let hi=[],wi=null;for(;si&&si.is("element","listItem");){const zi=si.getAttribute("listIndent");if(wi&&wi.getAttribute("listIndent")>zi&&(hi=hi.slice(0,zi+1)),zi!=0)if(hi[zi]){const so=hi[zi];si.getAttribute("listType")!=so&&(Bn.setAttribute("listType",so,si),Kn=!0)}else hi[zi]=si.getAttribute("listType");wi=si,si=si.nextSibling}}}(sn.model,Dn)),vn.mapper.registerViewToModelLength("li",Lv),dn.mapper.registerViewToModelLength("li",Lv),vn.mapper.on("modelToViewPosition",X_(vn.view)),vn.mapper.on("viewToModelPosition",(bn=sn.model,(Dn,Ln)=>{const Bn=Ln.viewPosition,Vn=Bn.parent,Gn=Ln.mapper;if(Vn.name=="ul"||Vn.name=="ol"){if(Bn.isAtEnd){const Kn=Gn.toModelElement(Bn.nodeBefore),$r=Gn.getModelLength(Bn.nodeBefore);Ln.modelPosition=bn.createPositionBefore(Kn).getShiftedBy($r)}else{const Kn=Gn.toModelElement(Bn.nodeAfter);Ln.modelPosition=bn.createPositionBefore(Kn)}Dn.stop()}else if(Vn.name=="li"&&Bn.nodeBefore&&(Bn.nodeBefore.name=="ul"||Bn.nodeBefore.name=="ol")){const Kn=Gn.toModelElement(Vn);let $r=1,Yr=Bn.nodeBefore;for(;Yr&&Qf(Yr);)$r+=Gn.getModelLength(Yr),Yr=Yr.previousSibling;Ln.modelPosition=bn.createPositionBefore(Kn).getShiftedBy($r),Dn.stop()}})),dn.mapper.on("modelToViewPosition",X_(vn.view)),sn.conversion.for("editingDowncast").add(Dn=>{Dn.on("insert",K_,{priority:"high"}),Dn.on("insert:listItem",Y_(sn.model)),Dn.on("attribute:listType:listItem",hE,{priority:"high"}),Dn.on("attribute:listType:listItem",pE,{priority:"low"}),Dn.on("attribute:listIndent:listItem",function(Ln){return(Bn,Vn,Gn)=>{if(!Gn.consumable.consume(Vn.item,"attribute:listIndent"))return;const Kn=Gn.mapper.toViewElement(Vn.item),$r=Gn.writer;$r.breakContainer($r.createPositionBefore(Kn)),$r.breakContainer($r.createPositionAfter(Kn));const Yr=Kn.parent,Qr=Yr.previousSibling,si=$r.createRangeOn(Yr);$r.remove(si),Qr&&Qr.nextSibling&&fu($r,Qr,Qr.nextSibling),Q_(Vn.attributeOldValue+1,Vn.range.start,si.start,Kn,Gn,Ln),$_(Vn.item,Kn,Gn,Ln);for(const hi of Vn.item.getChildren())Gn.consumable.consume(hi,"insert")}}(sn.model)),Dn.on("remove:listItem",function(Ln){return(Bn,Vn,Gn)=>{const Kn=Gn.mapper.toViewPosition(Vn.position).getLastMatchingPosition(wi=>!wi.item.is("element","li")).nodeAfter,$r=Gn.writer;$r.breakContainer($r.createPositionBefore(Kn)),$r.breakContainer($r.createPositionAfter(Kn));const Yr=Kn.parent,Qr=Yr.previousSibling,si=$r.createRangeOn(Yr),hi=$r.remove(si);Qr&&Qr.nextSibling&&fu($r,Qr,Qr.nextSibling),Q_(Gn.mapper.toModelElement(Kn).getAttribute("listIndent")+1,Vn.position,si.start,Kn,Gn,Ln);for(const wi of $r.createRangeIn(hi).getItems())Gn.mapper.unbindViewElement(wi);Bn.stop()}}(sn.model)),Dn.on("remove",gE,{priority:"low"})}),sn.conversion.for("dataDowncast").add(Dn=>{Dn.on("insert",K_,{priority:"high"}),Dn.on("insert:listItem",Y_(sn.model))}),sn.conversion.for("upcast").add(Dn=>{Dn.on("element:ul",Z_,{priority:"high"}),Dn.on("element:ol",Z_,{priority:"high"}),Dn.on("element:li",mE,{priority:"high"}),Dn.on("element:li",vE)}),sn.model.on("insertContent",yE,{priority:"high"}),sn.commands.add("numberedList",new G_(sn,"numbered")),sn.commands.add("bulletedList",new G_(sn,"bulleted")),sn.commands.add("indentList",new U_(sn,"forward")),sn.commands.add("outdentList",new U_(sn,"backward"));const An=vn.view.document;this.listenTo(An,"enter",(Dn,Ln)=>{const Bn=this.editor.model.document,Vn=Bn.selection.getLastPosition().parent;Bn.selection.isCollapsed&&Vn.name=="listItem"&&Vn.isEmpty&&(this.editor.execute("outdentList"),Ln.preventDefault(),Dn.stop())},{context:"li"}),this.listenTo(An,"delete",(Dn,Ln)=>{if(Ln.direction!=="backward")return;const Bn=this.editor.model.document.selection;if(!Bn.isCollapsed)return;const Vn=Bn.getFirstPosition();if(!Vn.isAtStart)return;const Gn=Vn.parent;Gn.name==="listItem"&&(Gn.previousSibling&&Gn.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),Ln.preventDefault(),Dn.stop()))},{context:"li"}),this.listenTo(sn.editing.view.document,"tab",(Dn,Ln)=>{const Bn=Ln.shiftKey?"outdentList":"indentList";this.editor.commands.get(Bn).isEnabled&&(sn.execute(Bn),Ln.stopPropagation(),Ln.preventDefault(),Dn.stop())},{context:"li"})}afterInit(){const sn=this.editor.commands,dn=sn.get("indent"),vn=sn.get("outdent");dn&&dn.registerChildCommand(sn.get("indentList")),vn&&vn.registerChildCommand(sn.get("outdentList"))}}function Lv(yn){let sn=1;for(const dn of yn.getChildren())if(dn.name=="ul"||dn.name=="ol")for(const vn of dn.getChildren())sn+=Lv(vn);return sn}Gd("Ctrl+Enter");var J_=rn(1199),wE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(J_.Z,wE),J_.Z.locals;function ew(yn,sn){const dn=(vn,bn,An)=>{if(!An.consumable.consume(bn.item,vn.name))return;const Dn=bn.attributeNewValue,Ln=An.writer,Bn=An.mapper.toViewElement(bn.item),Vn=[...Bn.getChildren()].find(Kn=>Kn.getCustomProperty("media-content"));Ln.remove(Vn);const Gn=yn.getMediaViewElement(Ln,Dn,sn);Ln.insert(Ln.createPositionAt(Bn,0),Gn)};return vn=>{vn.on("attribute:url:media",dn)}}function tw(yn,sn,dn,vn){return yn.createContainerElement("figure",{class:"media"},[sn.getMediaViewElement(yn,dn,vn),yn.createSlot()])}function nw(yn){const sn=yn.getSelectedElement();return sn&&sn.is("element","media")?sn:null}function rw(yn,sn,dn,vn){yn.change(bn=>{const An=bn.createElement("media",{url:sn});yn.insertObject(An,dn,null,{setSelection:"on",findOptimalPosition:vn?"auto":void 0})})}class kE extends qa{refresh(){const sn=this.editor.model,dn=sn.document.selection,vn=nw(dn);this.value=vn?vn.getAttribute("url"):void 0,this.isEnabled=function(bn){const An=bn.getSelectedElement();return!!An&&An.name==="media"}(dn)||function(bn,An){let Ln=Tb(bn,An).start.parent;return Ln.isEmpty&&!An.schema.isLimit(Ln)&&(Ln=Ln.parent),An.schema.checkChild(Ln,"media")}(dn,sn)}execute(sn){const dn=this.editor.model,vn=dn.document.selection,bn=nw(vn);bn?dn.change(An=>{An.setAttribute("url",sn,bn)}):rw(dn,sn,vn,!0)}}class AE{constructor(sn,dn){const vn=dn.providers,bn=dn.extraProviders||[],An=new Set(dn.removeProviders),Dn=vn.concat(bn).filter(Ln=>{const Bn=Ln.name;return Bn?!An.has(Bn):(Hn("media-embed-no-provider-name",{provider:Ln}),!1)});this.locale=sn,this.providerDefinitions=Dn}hasMedia(sn){return!!this._getMedia(sn)}getMediaViewElement(sn,dn,vn){return this._getMedia(dn).getViewElement(sn,vn)}_getMedia(sn){if(!sn)return new iw(this.locale);sn=sn.trim();for(const dn of this.providerDefinitions){const vn=dn.html,bn=$l(dn.url);for(const An of bn){const Dn=this._getUrlMatches(sn,An);if(Dn)return new iw(this.locale,sn,Dn,vn)}}return null}_getUrlMatches(sn,dn){let vn=sn.match(dn);if(vn)return vn;let bn=sn.replace(/^https?:\/\//,"");return vn=bn.match(dn),vn||(bn=bn.replace(/^www\./,""),vn=bn.match(dn),vn||null)}}class iw{constructor(sn,dn,vn,bn){this.url=this._getValidUrl(dn),this._locale=sn,this._match=vn,this._previewRenderer=bn}getViewElement(sn,dn){const vn={};let bn;if(dn.renderForEditingView||dn.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(vn["data-oembed-url"]=this.url),dn.renderForEditingView&&(vn.class="ck-media__wrapper");const An=this._getPreviewHtml(dn);bn=sn.createRawElement("div",vn,(Dn,Ln)=>{Ln.setContentOf(Dn,An)})}else this.url&&(vn.url=this.url),bn=sn.createEmptyElement(dn.elementName,vn);return sn.setCustomProperty("media-content",!0,bn),bn}_getPreviewHtml(sn){return this._previewRenderer?this._previewRenderer(this._match):this.url&&sn.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const sn=new iu,dn=this._locale.t;return sn.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',sn.viewBox="0 0 64 42",new Cc({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[sn]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":dn("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(sn){return sn?sn.match(/^https?/)?sn:"https://"+sn:null}}var ow=rn(7442),CE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(ow.Z,CE),ow.Z.locals;class og extends xo{constructor(sn){super(sn),sn.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:dn=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${dn[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:dn=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${dn[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:dn=>{const vn=dn[1],bn=dn[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${vn}${bn?`?start=${bn}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:dn=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${dn[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new AE(sn.locale,sn.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const sn=this.editor,dn=sn.model.schema,vn=sn.t,bn=sn.conversion,An=sn.config.get("mediaEmbed.previewsInData"),Dn=sn.config.get("mediaEmbed.elementName"),Ln=this.registry;sn.commands.add("mediaEmbed",new kE(sn)),dn.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),bn.for("dataDowncast").elementToStructure({model:"media",view:(Bn,{writer:Vn})=>{const Gn=Bn.getAttribute("url");return tw(Vn,Ln,Gn,{elementName:Dn,renderMediaPreview:!!Gn&&An})}}),bn.for("dataDowncast").add(ew(Ln,{elementName:Dn,renderMediaPreview:An})),bn.for("editingDowncast").elementToStructure({model:"media",view:(Bn,{writer:Vn})=>{const Gn=Bn.getAttribute("url");return function(Kn,$r,Yr){return $r.setCustomProperty("media",!0,Kn),hv(Kn,$r,{label:Yr})}(tw(Vn,Ln,Gn,{elementName:Dn,renderForEditingView:!0}),Vn,vn("media widget"))}}),bn.for("editingDowncast").add(ew(Ln,{elementName:Dn,renderForEditingView:!0})),bn.for("upcast").elementToElement({view:Bn=>["oembed",Dn].includes(Bn.name)&&Bn.getAttribute("url")?{name:!0}:null,model:(Bn,{writer:Vn})=>{const Gn=Bn.getAttribute("url");return Ln.hasMedia(Gn)?Vn.createElement("media",{url:Gn}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(Bn,{writer:Vn})=>{const Gn=Bn.getAttribute("data-oembed-url");return Ln.hasMedia(Gn)?Vn.createElement("media",{url:Gn}):null}}).add(Bn=>{Bn.on("element:figure",(Vn,Gn,Kn)=>{if(!Kn.consumable.consume(Gn.viewItem,{name:!0,classes:"media"}))return;const{modelRange:$r,modelCursor:Yr}=Kn.convertChildren(Gn.viewItem,Gn.modelCursor);Gn.modelRange=$r,Gn.modelCursor=Yr,_l($r.getItems())||Kn.consumable.revert(Gn.viewItem,{name:!0,classes:"media"})})})}}const xE=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class SE extends xo{constructor(sn){super(sn),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[jb,md,Zb]}static get pluginName(){return"AutoMediaEmbed"}init(){const sn=this.editor,dn=sn.model.document,vn=sn.plugins.get("ClipboardPipeline");this.listenTo(vn,"inputTransformation",()=>{const bn=dn.selection.getFirstRange(),An=uc.fromPosition(bn.start);An.stickiness="toPrevious";const Dn=uc.fromPosition(bn.end);Dn.stickiness="toNext",dn.once("change:data",()=>{this._embedMediaBetweenPositions(An,Dn),An.detach(),Dn.detach()},{priority:"high"})}),sn.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ta.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(sn,dn){const vn=this.editor,bn=vn.plugins.get(og).registry,An=new Eu(sn,dn),Dn=An.getWalker({ignoreElementEnd:!0});let Ln="";for(const Bn of Dn)Bn.item.is("$textProxy")&&(Ln+=Bn.item.data);if(Ln=Ln.trim(),!Ln.match(xE)||!bn.hasMedia(Ln))return void An.detach();vn.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=uc.fromPosition(sn),this._timeoutId=Ta.window.setTimeout(()=>{vn.model.change(Bn=>{this._timeoutId=null,Bn.remove(An),An.detach();let Vn=null;this._positionToInsert.root.rootName!=="$graveyard"&&(Vn=this._positionToInsert),rw(vn.model,Ln,Vn,!1),this._positionToInsert.detach(),this._positionToInsert=null}),vn.plugins.get(md).requestUndoOnBackspace()},100)):An.detach()}}var aw=rn(9292),EE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(aw.Z,EE),aw.Z.locals;class DE extends is{constructor(sn,dn){super(dn);const vn=dn.t;this.focusTracker=new Ic,this.keystrokes=new tu,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(vn("Save"),Il.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",bn=>!!bn),this.cancelButtonView=this._createButton(vn("Cancel"),Il.cancel,"ck-button-cancel","cancel"),this._focusables=new zc,this._focusCycler=new sd({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=sn,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),un({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(dn=>{this._focusables.add(dn),this.focusTracker.add(dn.element)}),this.keystrokes.listenTo(this.element);const sn=dn=>dn.stopPropagation();this.keystrokes.set("arrowright",sn),this.keystrokes.set("arrowleft",sn),this.keystrokes.set("arrowup",sn),this.keystrokes.set("arrowdown",sn)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(sn){this.urlInputView.fieldView.element.value=sn.trim()}isValid(){this.resetFormStatus();for(const sn of this._validators){const dn=sn(this);if(dn)return this.urlInputView.errorText=dn,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const sn=this.locale.t,dn=new Cd(this.locale,Yg),vn=dn.fieldView;return this._urlInputViewInfoDefault=sn("Paste the media URL in the input."),this._urlInputViewInfoTip=sn("Tip: Paste the URL into the content to embed faster."),dn.label=sn("Media URL"),dn.infoText=this._urlInputViewInfoDefault,vn.on("input",()=>{dn.infoText=vn.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=vn.element.value.trim()}),dn}_createButton(sn,dn,vn,bn){const An=new gs(this.locale);return An.set({label:sn,icon:dn,tooltip:!0}),An.extendTemplate({attributes:{class:vn}}),bn&&An.delegate("execute").to(this,bn),An}}class TE extends xo{static get requires(){return[og]}static get pluginName(){return"MediaEmbedUI"}init(){const sn=this.editor,dn=sn.commands.get("mediaEmbed");sn.ui.componentFactory.add("mediaEmbed",vn=>{const bn=$d(vn);return this._setUpDropdown(bn,dn),bn})}_setUpDropdown(sn,dn){const vn=this.editor,bn=vn.t,An=sn.buttonView,Dn=vn.plugins.get(og).registry;sn.once("change:isOpen",()=>{const Ln=new(cn(DE))(function(Bn,Vn){return[Gn=>{if(!Gn.url.length)return Bn("The URL must not be empty.")},Gn=>{if(!Vn.hasMedia(Gn.url))return Bn("This media URL is not supported.")}]}(vn.t,Dn),vn.locale);sn.panelView.children.add(Ln),An.on("open",()=>{Ln.disableCssTransitions(),Ln.url=dn.value||"",Ln.urlInputView.fieldView.select(),Ln.enableCssTransitions()},{priority:"low"}),sn.on("submit",()=>{Ln.isValid()&&(vn.execute("mediaEmbed",Ln.url),vn.editing.view.focus())}),sn.on("change:isOpen",()=>Ln.resetFormStatus()),sn.on("cancel",()=>{vn.editing.view.focus()}),Ln.delegate("submit","cancel").to(sn),Ln.urlInputView.fieldView.bind("value").to(dn,"value"),Ln.urlInputView.bind("isEnabled").to(dn,"isEnabled")}),sn.bind("isEnabled").to(dn),An.set({label:bn("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var sw=rn(4652),ME={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(sw.Z,ME),sw.Z.locals;function IE(yn,sn){if(!yn.childCount)return;const dn=new gf(yn.document),vn=function(Dn,Ln){const Bn=Ln.createRangeIn(Dn),Vn=new jc({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),Gn=[];for(const Kn of Bn)if(Kn.type==="elementStart"&&Vn.match(Kn.item)){const $r=PE(Kn.item);Gn.push({element:Kn.item,id:$r.id,order:$r.order,indent:$r.indent})}return Gn}(yn,dn);if(!vn.length)return;let bn=null,An=1;vn.forEach((Dn,Ln)=>{const Bn=function(Qr,si){if(!Qr)return!0;if(Qr.id!==si.id)return si.indent-Qr.indent!=1;const hi=si.element.previousSibling;if(!hi)return!0;return wi=hi,!(wi.is("element","ol")||wi.is("element","ul"));var wi}(vn[Ln-1],Dn),Vn=Bn?null:vn[Ln-1],Gn=($r=Dn,(Kn=Vn)?$r.indent-Kn.indent:$r.indent-1);var Kn,$r;if(Bn&&(bn=null,An=1),!bn||Gn!==0){const Qr=function(si,hi){const wi=new RegExp(`@list l${si.id}:level${si.indent}\\s*({[^}]*)`,"gi"),zi=/mso-level-number-format:([^;]{0,100});/gi,so=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,qo=wi.exec(hi);let Sa="decimal",$s="ol",ds=null;if(qo&&qo[1]){const ql=zi.exec(qo[1]);if(ql&&ql[1]&&(Sa=ql[1].trim(),$s=Sa!=="bullet"&&Sa!=="image"?"ol":"ul"),Sa==="bullet"){const Vl=function(eh){const Qu=function(bd){if(bd.getChild(0).is("$text"))return null;for(const _d of bd.getChildren()){if(!_d.is("element","span"))continue;const wf=_d.getChild(0);if(wf)return wf.is("$text")?wf:wf.getChild(0)}return null}(eh);if(!Qu)return null;const hu=Qu._data;return hu==="o"?"circle":hu==="Â·"?"disc":hu==="Â§"?"square":null}(si.element);Vl&&(Sa=Vl)}else{const Vl=so.exec(qo[1]);Vl&&Vl[1]&&(ds=parseInt(Vl[1]))}}return{type:$s,startIndex:ds,style:LE(Sa)}}(Dn,sn);if(bn){if(Dn.indent>An){const si=bn.getChild(bn.childCount-1),hi=si.getChild(si.childCount-1);bn=lw(Qr,hi,dn),An+=1}else if(Dn.indent<An){const si=An-Dn.indent;bn=function(hi,wi){const zi=hi.getAncestors({parentFirst:!0});let so=null,qo=0;for(const Sa of zi)if((Sa.is("element","ul")||Sa.is("element","ol"))&&qo++,qo===wi){so=Sa;break}return so}(bn,si),An=Dn.indent}}else bn=lw(Qr,Dn.element,dn);Dn.indent<=An&&(bn.is("element",Qr.type)||(bn=dn.rename(Qr.type,bn)))}const Yr=function(Qr,si){return function(hi,wi){const zi=new jc({name:"span",styles:{"mso-list":"Ignore"}}),so=wi.createRangeIn(hi);for(const qo of so)qo.type==="elementStart"&&zi.match(qo.item)&&wi.remove(qo.item)}(Qr,si),si.removeStyle("text-indent",Qr),si.rename("li",Qr)}(Dn.element,dn);dn.appendChild(Yr,bn)})}function LE(yn){if(yn.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(yn){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return yn;default:return null}}function lw(yn,sn,dn){const vn=sn.parent,bn=dn.createElement(yn.type),An=vn.getChildIndex(sn)+1;return dn.insertChild(An,bn,vn),yn.style&&dn.setStyle("list-style-type",yn.style,bn),yn.startIndex&&yn.startIndex>1&&dn.setAttribute("start",yn.startIndex,bn),bn}function PE(yn){const sn={},dn=yn.getStyle("mso-list");if(dn){const vn=dn.match(/(^|\s{1,100})l(\d+)/i),bn=dn.match(/\s{0,100}lfo(\d+)/i),An=dn.match(/\s{0,100}level(\d+)/i);vn&&bn&&An&&(sn.id=vn[2],sn.order=bn[1],sn.indent=parseInt(An[1]))}return sn}function OE(yn,sn){if(!yn.childCount)return;const dn=new gf(yn.document),vn=function(An,Dn){const Ln=Dn.createRangeIn(An),Bn=new jc({name:/v:(.+)/}),Vn=[];for(const Gn of Ln){if(Gn.type!="elementStart")continue;const Kn=Gn.item,$r=Kn.previousSibling,Yr=$r&&$r.is("element")?$r.name:null;Bn.match(Kn)&&Kn.getAttribute("o:gfxdata")&&Yr!=="v:shapetype"&&Vn.push(Gn.item.getAttribute("id"))}return Vn}(yn,dn);(function(An,Dn,Ln){const Bn=Ln.createRangeIn(Dn),Vn=new jc({name:"img"}),Gn=[];for(const Kn of Bn)if(Kn.item.is("element")&&Vn.match(Kn.item)){const $r=Kn.item,Yr=$r.getAttribute("v:shapes")?$r.getAttribute("v:shapes").split(" "):[];Yr.length&&Yr.every(Qr=>An.indexOf(Qr)>-1)?Gn.push($r):$r.getAttribute("src")||Gn.push($r)}for(const Kn of Gn)Ln.remove(Kn)})(vn,yn,dn),function(An,Dn,Ln){const Bn=Ln.createRangeIn(Dn),Vn=[];for(const $r of Bn)if($r.type=="elementStart"&&$r.item.is("element","v:shape")){const Yr=$r.item.getAttribute("id");if(An.includes(Yr))continue;Gn($r.item.parent.getChildren(),Yr)||Vn.push($r.item)}for(const $r of Vn){const Yr={src:Kn($r)};$r.hasAttribute("alt")&&(Yr.alt=$r.getAttribute("alt"));const Qr=Ln.createElement("img",Yr);Ln.insertChild($r.index+1,Qr,$r.parent)}function Gn($r,Yr){for(const Qr of $r)if(Qr.is("element")&&(Qr.name=="img"&&Qr.getAttribute("v:shapes")==Yr||Gn(Qr.getChildren(),Yr)))return!0;return!1}function Kn($r){for(const Yr of $r.getChildren())if(Yr.is("element")&&Yr.getAttribute("src"))return Yr.getAttribute("src")}}(vn,yn,dn),function(An,Dn){const Ln=Dn.createRangeIn(An),Bn=new jc({name:/v:(.+)/}),Vn=[];for(const Gn of Ln)Gn.type=="elementStart"&&Bn.match(Gn.item)&&Vn.push(Gn.item);for(const Gn of Vn)Dn.remove(Gn)}(yn,dn);const bn=function(An,Dn){const Ln=Dn.createRangeIn(An),Bn=new jc({name:"img"}),Vn=[];for(const Gn of Ln)Gn.item.is("element")&&Bn.match(Gn.item)&&Gn.item.getAttribute("src").startsWith("file://")&&Vn.push(Gn.item);return Vn}(yn,dn);bn.length&&function(An,Dn,Ln){if(An.length===Dn.length)for(let Bn=0;Bn<An.length;Bn++){const Vn=`data:${Dn[Bn].type};base64,${RE(Dn[Bn].hex)}`;Ln.setAttribute("src",Vn,An[Bn])}}(bn,function(An){if(!An)return[];const Dn=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,Ln=new RegExp("(?:("+Dn.source+"))([\\da-fA-F\\s]+)\\}","g"),Bn=An.match(Ln),Vn=[];if(Bn)for(const Gn of Bn){let Kn=!1;Gn.includes("\\pngblip")?Kn="image/png":Gn.includes("\\jpegblip")&&(Kn="image/jpeg"),Kn&&Vn.push({hex:Gn.replace(Dn,"").replace(/[^\da-fA-F]/g,""),type:Kn})}return Vn}(sn),dn)}function RE(yn){return btoa(yn.match(/\w{2}/g).map(sn=>String.fromCharCode(parseInt(sn,16))).join(""))}const NE=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,$E=/xmlns:o="urn:schemas-microsoft-com/i;class BE{constructor(sn){this.document=sn}isActive(sn){return NE.test(sn)||$E.test(sn)}execute(sn){const{body:dn,stylesString:vn}=sn._parsedData;IE(dn,vn),OE(dn,sn.dataTransfer.getData("text/rtf")),sn.content=dn}}function cw(yn,sn,dn,{blockElements:vn,inlineObjectElements:bn}){let An=dn.createPositionAt(yn,sn=="forward"?"after":"before");return An=An.getLastMatchingPosition(({item:Dn})=>Dn.is("element")&&!vn.includes(Dn.name)&&!bn.includes(Dn.name),{direction:sn}),sn=="forward"?An.nodeAfter:An.nodeBefore}function uw(yn,sn){return!!yn&&yn.is("element")&&sn.includes(yn.name)}const FE=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class zE{constructor(sn){this.document=sn}isActive(sn){return FE.test(sn)}execute(sn){const dn=new gf(this.document),{body:vn}=sn._parsedData;(function(bn,An){for(const Dn of bn.getChildren())if(Dn.is("element","b")&&Dn.getStyle("font-weight")==="normal"){const Ln=bn.getChildIndex(Dn);An.remove(Dn),An.insertChild(Ln,Dn.getChildren(),bn)}})(vn,dn),function(bn,An){for(const Dn of An.createRangeIn(bn)){const Ln=Dn.item;if(Ln.is("element","li")){const Bn=Ln.getChild(0);Bn&&Bn.is("element","p")&&An.unwrapElement(Bn)}}}(vn,dn),function(bn,An){const Dn=new Bf(An.document.stylesProcessor),Ln=new ho(Dn,{renderingMode:"data"}),Bn=Ln.blockElements,Vn=Ln.inlineObjectElements,Gn=[];for(const Kn of An.createRangeIn(bn)){const $r=Kn.item;if($r.is("element","br")){const Yr=cw($r,"forward",An,{blockElements:Bn,inlineObjectElements:Vn}),Qr=cw($r,"backward",An,{blockElements:Bn,inlineObjectElements:Vn}),si=uw(Yr,Bn);(uw(Qr,Bn)||si)&&Gn.push($r)}}for(const Kn of Gn)Kn.hasClass("Apple-interchange-newline")?An.remove(Kn):An.replace(Kn,An.createElement("p"))}(vn,dn),sn.content=vn}}const HE=/<google-sheets-html-origin/i;class VE{constructor(sn){this.document=sn}isActive(sn){return HE.test(sn)}execute(sn){const dn=new gf(this.document),{body:vn}=sn._parsedData;(function(bn,An){for(const Dn of bn.getChildren())if(Dn.is("element","google-sheets-html-origin")){const Ln=bn.getChildIndex(Dn);An.remove(Dn),An.insertChild(Ln,Dn.getChildren(),bn)}})(vn,dn),function(bn,An){for(const Dn of bn.getChildren())Dn.is("element","table")&&Dn.hasAttribute("xmlns")&&An.removeAttribute("xmlns",Dn)}(vn,dn),function(bn,An){for(const Dn of bn.getChildren())Dn.is("element","table")&&Dn.getStyle("width")==="0px"&&An.removeStyle("width",Dn)}(vn,dn),function(bn,An){for(const Dn of Array.from(bn.getChildren()))Dn.is("element","style")&&An.remove(Dn)}(vn,dn),sn.content=vn}}function dw(yn){return yn.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(sn,dn)=>dn.length===1?" ":Array(dn.length+1).join("Â  ").substr(0,dn.length))}function jE(yn,sn){const dn=new DOMParser,vn=function(Bn){return dw(dw(Bn)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"Â </").replace(/ <o:p><\/o:p>/g,"Â <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(Bn){const Vn="</body>",Gn="</html>",Kn=Bn.indexOf(Vn);if(Kn<0)return Bn;const $r=Bn.indexOf(Gn,Kn+Vn.length);return Bn.substring(0,Kn+Vn.length)+($r>=0?Bn.substring($r):"")}(yn=yn.replace(/<!--\[if gte vml 1]>/g,""))),bn=dn.parseFromString(vn,"text/html");(function(Bn){Bn.querySelectorAll("span[style*=spacerun]").forEach(Vn=>{const Gn=Vn,Kn=Gn.innerText.length||0;Gn.innerText=Array(Kn+1).join("Â  ").substr(0,Kn)})})(bn);const An=bn.body.innerHTML,Dn=function(Bn,Vn){const Gn=new Bf(Vn),Kn=new ho(Gn,{renderingMode:"data"}),$r=Bn.createDocumentFragment(),Yr=Bn.body.childNodes;for(;Yr.length>0;)$r.appendChild(Yr[0]);return Kn.domToView($r,{skipComments:!0})}(bn,sn),Ln=function(Bn){const Vn=[],Gn=[],Kn=Array.from(Bn.getElementsByTagName("style"));for(const $r of Kn)$r.sheet&&$r.sheet.cssRules&&$r.sheet.cssRules.length&&(Vn.push($r.sheet),Gn.push($r.innerHTML));return{styles:Vn,stylesString:Gn.join(" ")}}(bn);return{body:Dn,bodyString:An,styles:Ln.styles,stylesString:Ln.stylesString}}function Al(yn,sn,dn,vn,bn=1){sn!=null&&bn!=null&&sn>bn?vn.setAttribute(yn,sn,dn):vn.removeAttribute(yn,dn)}function yf(yn,sn,dn={}){const vn=yn.createElement("tableCell",dn);return yn.insertElement("paragraph",vn),yn.insert(vn,sn),vn}function Pv(yn,sn){const dn=sn.parent.parent,vn=parseInt(dn.getAttribute("headingColumns")||"0"),{column:bn}=yn.getCellLocation(sn);return!!vn&&bn<vn}function UE(){return yn=>{yn.on("element:table",(sn,dn,vn)=>{const bn=dn.viewItem;if(!vn.consumable.test(bn,{name:!0}))return;const{rows:An,headingRows:Dn,headingColumns:Ln}=function(Gn){let Kn,$r=0;const Yr=[],Qr=[];let si;for(const hi of Array.from(Gn.getChildren())){if(hi.name!=="tbody"&&hi.name!=="thead"&&hi.name!=="tfoot")continue;hi.name!=="thead"||si||(si=hi);const wi=Array.from(hi.getChildren()).filter(zi=>zi.is("element","tr"));for(const zi of wi)if(si&&hi===si||hi.name==="tbody"&&Array.from(zi.getChildren()).length&&Array.from(zi.getChildren()).every(so=>so.is("element","th")))$r++,Yr.push(zi);else{Qr.push(zi);const so=GE(zi);(!Kn||so<Kn)&&(Kn=so)}}return{headingRows:$r,headingColumns:Kn||0,rows:[...Yr,...Qr]}}(bn),Bn={};Ln&&(Bn.headingColumns=Ln),Dn&&(Bn.headingRows=Dn);const Vn=vn.writer.createElement("table",Bn);if(vn.safeInsert(Vn,dn.modelCursor)){if(vn.consumable.consume(bn,{name:!0}),An.forEach(Gn=>vn.convertItem(Gn,vn.writer.createPositionAt(Vn,"end"))),vn.convertChildren(bn,vn.writer.createPositionAt(Vn,"end")),Vn.isEmpty){const Gn=vn.writer.createElement("tableRow");vn.writer.insert(Gn,vn.writer.createPositionAt(Vn,"end")),yf(vn.writer,vn.writer.createPositionAt(Gn,"end"))}vn.updateConversionResult(Vn,dn)}})}}function fw(yn){return sn=>{sn.on(`element:${yn}`,(dn,vn,{writer:bn})=>{if(!vn.modelRange)return;const An=vn.modelRange.start.nodeAfter,Dn=bn.createPositionAt(An,0);if(vn.viewItem.isEmpty)return void bn.insertElement("paragraph",Dn);const Ln=Array.from(An.getChildren());if(Ln.every(Bn=>Bn.is("element","$marker"))){const Bn=bn.createElement("paragraph");bn.insert(Bn,bn.createPositionAt(An,0));for(const Vn of Ln)bn.move(bn.createRangeOn(Vn),bn.createPositionAt(Bn,"end"))}},{priority:"low"})}}function GE(yn){let sn=0,dn=0;const vn=Array.from(yn.getChildren()).filter(bn=>bn.name==="th"||bn.name==="td");for(;dn<vn.length&&vn[dn].name==="th";){const bn=vn[dn];sn+=parseInt(bn.getAttribute("colspan")||"1"),dn++}return sn}class Ns{constructor(sn,dn={}){this._table=sn,this._startRow=dn.row!==void 0?dn.row:dn.startRow||0,this._endRow=dn.row!==void 0?dn.row:dn.endRow,this._startColumn=dn.column!==void 0?dn.column:dn.startColumn||0,this._endColumn=dn.column!==void 0?dn.column:dn.endColumn,this._includeAllSlots=!!dn.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const sn=this._table.getChild(this._rowIndex);if(!sn||this._isOverEndRow())return{done:!0,value:void 0};if(!sn.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let dn=null;const vn=this._getSpanned();if(vn)this._includeAllSlots&&!this._shouldSkipSlot()&&(dn=this._formatOutValue(vn.cell,vn.row,vn.column));else{const bn=sn.getChild(this._cellIndex);if(!bn)return this._advanceToNextRow();const An=parseInt(bn.getAttribute("colspan")||"1"),Dn=parseInt(bn.getAttribute("rowspan")||"1");(An>1||Dn>1)&&this._recordSpans(bn,Dn,An),this._shouldSkipSlot()||(dn=this._formatOutValue(bn)),this._nextCellAtColumn=this._column+An}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,dn||this.next()}skipRow(sn){this._skipRows.add(sn)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(sn,dn=this._row,vn=this._column){return{done:!1,value:new WE(this,sn,dn,vn)}}_shouldSkipSlot(){const sn=this._skipRows.has(this._row),dn=this._row<this._startRow,vn=this._column<this._startColumn,bn=this._endColumn!==void 0&&this._column>this._endColumn;return sn||dn||vn||bn}_getSpanned(){const sn=this._spannedCells.get(this._row);return sn&&sn.get(this._column)||null}_recordSpans(sn,dn,vn){const bn={cell:sn,row:this._row,column:this._column};for(let An=this._row;An<this._row+dn;An++)for(let Dn=this._column;Dn<this._column+vn;Dn++)An==this._row&&Dn==this._column||this._markSpannedCell(An,Dn,bn)}_markSpannedCell(sn,dn,vn){this._spannedCells.has(sn)||this._spannedCells.set(sn,new Map),this._spannedCells.get(sn).set(dn,vn)}}class WE{constructor(sn,dn,vn,bn){this.cell=dn,this.row=sn._row,this.column=sn._column,this.cellAnchorRow=vn,this.cellAnchorColumn=bn,this._cellIndex=sn._cellIndex,this._rowIndex=sn._rowIndex,this._table=sn._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function hw(yn,sn){return(dn,{writer:vn})=>{const bn=dn.getAttribute("headingRows")||0,An=vn.createContainerElement("table",null,[]),Dn=vn.createContainerElement("figure",{class:"table"},An);bn>0&&vn.insert(vn.createPositionAt(An,"end"),vn.createContainerElement("thead",null,vn.createSlot(Ln=>Ln.is("element","tableRow")&&Ln.index<bn))),bn<yn.getRows(dn)&&vn.insert(vn.createPositionAt(An,"end"),vn.createContainerElement("tbody",null,vn.createSlot(Ln=>Ln.is("element","tableRow")&&Ln.index>=bn)));for(const{positionOffset:Ln,filter:Bn}of sn.additionalSlots)vn.insert(vn.createPositionAt(An,Ln),vn.createSlot(Bn));return vn.insert(vn.createPositionAt(An,"after"),vn.createSlot(Ln=>!Ln.is("element","tableRow")&&!sn.additionalSlots.some(({filter:Bn})=>Bn(Ln)))),sn.asWidget?function(Ln,Bn){return Bn.setCustomProperty("table",!0,Ln),hv(Ln,Bn,{hasSelectionHandle:!0})}(Dn,vn):Dn}}function pw(yn={}){return(sn,{writer:dn})=>{const vn=sn.parent,bn=vn.parent,An=bn.getChildIndex(vn),Dn=new Ns(bn,{row:An}),Ln=bn.getAttribute("headingRows")||0,Bn=bn.getAttribute("headingColumns")||0;let Vn=null;for(const Gn of Dn)if(Gn.cell==sn){const Kn=Gn.row<Ln||Gn.column<Bn?"th":"td";Vn=yn.asWidget?Db(dn.createEditableElement(Kn),dn):dn.createContainerElement(Kn);break}return Vn}}function gw(yn={}){return(sn,{writer:dn})=>{if(!sn.parent.is("element","tableCell")||!vw(sn))return null;if(yn.asWidget)return dn.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const vn=dn.createContainerElement("p");return dn.setCustomProperty("dataPipeline:transparentRendering",!0,vn),vn}}}function vw(yn){return yn.parent.childCount==1&&!!yn.getAttributeKeys().next().done}class qE extends qa{refresh(){const sn=this.editor.model,dn=sn.document.selection,vn=sn.schema;this.isEnabled=function(bn,An){const Dn=bn.getFirstPosition().parent,Ln=Dn===Dn.root?Dn:Dn.parent;return An.checkChild(Ln,"table")}(dn,vn)}execute(sn={}){const dn=this.editor,vn=dn.model,bn=dn.plugins.get("TableUtils"),An=dn.config.get("table.defaultHeadings.rows"),Dn=dn.config.get("table.defaultHeadings.columns");sn.headingRows===void 0&&An&&(sn.headingRows=An),sn.headingColumns===void 0&&Dn&&(sn.headingColumns=Dn),vn.change(Ln=>{const Bn=bn.createTable(Ln,sn);vn.insertObject(Bn,null,null,{findOptimalPosition:"auto"}),Ln.setSelection(Ln.createPositionAt(Bn.getNodeByPath([0,0,0]),0))})}}class mw extends qa{constructor(sn,dn={}){super(sn),this.order=dn.order||"below"}refresh(){const sn=this.editor.model.document.selection,dn=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(sn).length;this.isEnabled=dn}execute(){const sn=this.editor,dn=sn.model.document.selection,vn=sn.plugins.get("TableUtils"),bn=this.order==="above",An=vn.getSelectionAffectedTableCells(dn),Dn=vn.getRowIndexes(An),Ln=bn?Dn.first:Dn.last,Bn=An[0].findAncestor("table");vn.insertRows(Bn,{at:bn?Ln:Ln+1,copyStructureFromAbove:!bn})}}class yw extends qa{constructor(sn,dn={}){super(sn),this.order=dn.order||"right"}refresh(){const sn=this.editor.model.document.selection,dn=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(sn).length;this.isEnabled=dn}execute(){const sn=this.editor,dn=sn.model.document.selection,vn=sn.plugins.get("TableUtils"),bn=this.order==="left",An=vn.getSelectionAffectedTableCells(dn),Dn=vn.getColumnIndexes(An),Ln=bn?Dn.first:Dn.last,Bn=An[0].findAncestor("table");vn.insertColumns(Bn,{columns:1,at:bn?Ln:Ln+1})}}class bw extends qa{constructor(sn,dn={}){super(sn),this.direction=dn.direction||"horizontally"}refresh(){const sn=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=sn.length===1}execute(){const sn=this.editor.plugins.get("TableUtils"),dn=sn.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?sn.splitCellHorizontally(dn,2):sn.splitCellVertically(dn,2)}}function _w(yn,sn,dn){const{startRow:vn,startColumn:bn,endRow:An,endColumn:Dn}=sn,Ln=dn.createElement("table"),Bn=An-vn+1;for(let Gn=0;Gn<Bn;Gn++)dn.insertElement("tableRow",Ln,"end");const Vn=[...new Ns(yn,{startRow:vn,endRow:An,startColumn:bn,endColumn:Dn,includeAllSlots:!0})];for(const{row:Gn,column:Kn,cell:$r,isAnchor:Yr,cellAnchorRow:Qr,cellAnchorColumn:si}of Vn){const hi=Gn-vn,wi=Ln.getChild(hi);if(Yr){const zi=dn.cloneElement($r);dn.append(zi,wi),xw(zi,Gn,Kn,An,Dn,dn)}else(Qr<vn||si<bn)&&yf(dn,dn.createPositionAt(wi,"end"))}return function(Gn,Kn,$r,Yr,Qr){const si=parseInt(Kn.getAttribute("headingRows")||"0");si>0&&Al("headingRows",si-$r,Gn,Qr,0);const hi=parseInt(Kn.getAttribute("headingColumns")||"0");hi>0&&Al("headingColumns",hi-Yr,Gn,Qr,0)}(Ln,yn,vn,bn,dn),Ln}function ww(yn,sn,dn=0){const vn=[],bn=new Ns(yn,{startRow:dn,endRow:sn-1});for(const An of bn){const{row:Dn,cellHeight:Ln}=An;Dn<sn&&sn<=Dn+Ln-1&&vn.push(An)}return vn}function kw(yn,sn,dn){const vn=yn.parent,bn=vn.parent,An=vn.index,Dn=sn-An,Ln={},Bn=parseInt(yn.getAttribute("rowspan"))-Dn;Bn>1&&(Ln.rowspan=Bn);const Vn=parseInt(yn.getAttribute("colspan")||"1");Vn>1&&(Ln.colspan=Vn);const Gn=An+Dn,Kn=[...new Ns(bn,{startRow:An,endRow:Gn,includeAllSlots:!0})];let $r,Yr=null;for(const Qr of Kn){const{row:si,column:hi,cell:wi}=Qr;wi===yn&&$r===void 0&&($r=hi),$r!==void 0&&$r===hi&&si===Gn&&(Yr=yf(dn,Qr.getPositionBefore(),Ln))}return Al("rowspan",Dn,yn,dn),Yr}function Aw(yn,sn){const dn=[],vn=new Ns(yn);for(const bn of vn){const{column:An,cellWidth:Dn}=bn;An<sn&&sn<=An+Dn-1&&dn.push(bn)}return dn}function Cw(yn,sn,dn,vn){const bn=dn-sn,An={},Dn=parseInt(yn.getAttribute("colspan"))-bn;Dn>1&&(An.colspan=Dn);const Ln=parseInt(yn.getAttribute("rowspan")||"1");Ln>1&&(An.rowspan=Ln);const Bn=yf(vn,vn.createPositionAfter(yn),An);return Al("colspan",bn,yn,vn),Bn}function xw(yn,sn,dn,vn,bn,An){const Dn=parseInt(yn.getAttribute("colspan")||"1"),Ln=parseInt(yn.getAttribute("rowspan")||"1");dn+Dn-1>bn&&Al("colspan",bn-dn+1,yn,An,1),sn+Ln-1>vn&&Al("rowspan",vn-sn+1,yn,An,1)}function Ov(yn,sn){const dn=sn.getColumns(yn),vn=new Array(dn).fill(0);for(const{column:An}of new Ns(yn))vn[An]++;const bn=vn.reduce((An,Dn,Ln)=>Dn?An:[...An,Ln],[]);if(bn.length>0){const An=bn[bn.length-1];return sn.removeColumns(yn,{at:An}),!0}return!1}function Rv(yn,sn){const dn=[],vn=sn.getRows(yn);for(let bn=0;bn<vn;bn++)yn.getChild(bn).isEmpty&&dn.push(bn);if(dn.length>0){const bn=dn[dn.length-1];return sn.removeRows(yn,{at:bn}),!0}return!1}function Nv(yn,sn){Ov(yn,sn)||Rv(yn,sn)}function Sw(yn,sn){const dn=Array.from(new Ns(yn,{startColumn:sn.firstColumn,endColumn:sn.lastColumn,row:sn.lastRow}));if(dn.every(({cellHeight:bn})=>bn===1))return sn.lastRow;const vn=dn[0].cellHeight-1;return sn.lastRow+vn}function Ew(yn,sn){const dn=Array.from(new Ns(yn,{startRow:sn.firstRow,endRow:sn.lastRow,column:sn.lastColumn}));if(dn.every(({cellWidth:bn})=>bn===1))return sn.lastColumn;const vn=dn[0].cellWidth-1;return sn.lastColumn+vn}class ag extends qa{constructor(sn,dn){super(sn),this.direction=dn.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const sn=this._getMergeableCell();this.value=sn,this.isEnabled=!!sn}execute(){const sn=this.editor.model,dn=sn.document,vn=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(dn.selection)[0],bn=this.value,An=this.direction;sn.change(Dn=>{const Ln=An=="right"||An=="down",Bn=Ln?vn:bn,Vn=Ln?bn:vn,Gn=Vn.parent;(function(si,hi,wi){Dw(si)||(Dw(hi)&&wi.remove(wi.createRangeIn(hi)),wi.move(wi.createRangeIn(si),wi.createPositionAt(hi,"end"))),wi.remove(si)})(Vn,Bn,Dn);const Kn=this.isHorizontal?"colspan":"rowspan",$r=parseInt(vn.getAttribute(Kn)||"1"),Yr=parseInt(bn.getAttribute(Kn)||"1");Dn.setAttribute(Kn,$r+Yr,Bn),Dn.setSelection(Dn.createRangeIn(Bn));const Qr=this.editor.plugins.get("TableUtils");Nv(Gn.findAncestor("table"),Qr)})}_getMergeableCell(){const sn=this.editor.model.document,dn=this.editor.plugins.get("TableUtils"),vn=dn.getTableCellsContainingSelection(sn.selection)[0];if(!vn)return;const bn=this.isHorizontal?function(Ln,Bn,Vn){const Gn=Ln.parent,Kn=Gn.parent,$r=Bn=="right"?Ln.nextSibling:Ln.previousSibling,Yr=(Kn.getAttribute("headingColumns")||0)>0;if(!$r)return;const Qr=Bn=="right"?Ln:$r,si=Bn=="right"?$r:Ln,{column:hi}=Vn.getCellLocation(Qr),{column:wi}=Vn.getCellLocation(si),zi=parseInt(Qr.getAttribute("colspan")||"1"),so=Pv(Vn,Qr),qo=Pv(Vn,si);if(!(Yr&&so!=qo))return hi+zi===wi?$r:void 0}(vn,this.direction,dn):function(Ln,Bn,Vn){const Gn=Ln.parent,Kn=Gn.parent,$r=Kn.getChildIndex(Gn);if(Bn=="down"&&$r===Vn.getRows(Kn)-1||Bn=="up"&&$r===0)return null;const Yr=parseInt(Ln.getAttribute("rowspan")||"1"),Qr=Kn.getAttribute("headingRows")||0,si=Bn=="down"&&$r+Yr===Qr,hi=Bn=="up"&&$r===Qr;if(Qr&&(si||hi))return null;const wi=parseInt(Ln.getAttribute("rowspan")||"1"),zi=Bn=="down"?$r+wi:$r,so=[...new Ns(Kn,{endRow:zi})],qo=so.find(ds=>ds.cell===Ln),Sa=qo.column,$s=so.find(({row:ds,cellHeight:ql,column:Vl})=>Vl===Sa&&(Bn=="down"?ds===zi:zi===ds+ql));return $s&&$s.cell?$s.cell:null}(vn,this.direction,dn);if(!bn)return;const An=this.isHorizontal?"rowspan":"colspan",Dn=parseInt(vn.getAttribute(An)||"1");return parseInt(bn.getAttribute(An)||"1")===Dn?bn:void 0}}function Dw(yn){const sn=yn.getChild(0);return yn.childCount==1&&sn.is("element","paragraph")&&sn.isEmpty}class YE extends qa{refresh(){const sn=this.editor.plugins.get("TableUtils"),dn=sn.getSelectionAffectedTableCells(this.editor.model.document.selection),vn=dn[0];if(vn){const bn=vn.findAncestor("table"),An=sn.getRows(bn)-1,Dn=sn.getRowIndexes(dn),Ln=Dn.first===0&&Dn.last===An;this.isEnabled=!Ln}else this.isEnabled=!1}execute(){const sn=this.editor.model,dn=this.editor.plugins.get("TableUtils"),vn=dn.getSelectionAffectedTableCells(sn.document.selection),bn=dn.getRowIndexes(vn),An=vn[0],Dn=An.findAncestor("table"),Ln=dn.getCellLocation(An).column;sn.change(Bn=>{const Vn=bn.last-bn.first+1;dn.removeRows(Dn,{at:bn.first,rows:Vn});const Gn=function(Kn,$r,Yr,Qr){const si=Kn.getChild(Math.min($r,Qr-1));let hi=si.getChild(0),wi=0;for(const zi of si.getChildren()){if(wi>Yr)return hi;hi=zi,wi+=parseInt(zi.getAttribute("colspan")||"1")}return hi}(Dn,bn.first,Ln,dn.getRows(Dn));Bn.setSelection(Bn.createPositionAt(Gn,0))})}}class KE extends qa{refresh(){const sn=this.editor.plugins.get("TableUtils"),dn=sn.getSelectionAffectedTableCells(this.editor.model.document.selection),vn=dn[0];if(vn){const bn=vn.findAncestor("table"),An=sn.getColumns(bn),{first:Dn,last:Ln}=sn.getColumnIndexes(dn);this.isEnabled=Ln-Dn<An-1}else this.isEnabled=!1}execute(){const sn=this.editor.plugins.get("TableUtils"),[dn,vn]=function(Bn,Vn){const Gn=Vn.getSelectionAffectedTableCells(Bn),Kn=Gn[0],$r=Gn.pop(),Yr=[Kn,$r];return Kn.isBefore($r)?Yr:Yr.reverse()}(this.editor.model.document.selection,sn),bn=dn.parent.parent,An=[...new Ns(bn)],Dn={first:An.find(Bn=>Bn.cell===dn).column,last:An.find(Bn=>Bn.cell===vn).column},Ln=function(Bn,Vn,Gn,Kn){return parseInt(Gn.getAttribute("colspan")||"1")>1?Gn:Vn.previousSibling||Gn.nextSibling?Gn.nextSibling||Vn.previousSibling:Kn.first?Bn.reverse().find(({column:Yr})=>Yr<Kn.first).cell:Bn.reverse().find(({column:Yr})=>Yr>Kn.last).cell}(An,dn,vn,Dn);this.editor.model.change(Bn=>{const Vn=Dn.last-Dn.first+1;sn.removeColumns(bn,{at:Dn.first,columns:Vn}),Bn.setSelection(Bn.createPositionAt(Ln,0))})}}class ZE extends qa{refresh(){const sn=this.editor.plugins.get("TableUtils"),dn=this.editor.model,vn=sn.getSelectionAffectedTableCells(dn.document.selection),bn=vn.length>0;this.isEnabled=bn,this.value=bn&&vn.every(An=>this._isInHeading(An,An.parent.parent))}execute(sn={}){if(sn.forceValue===this.value)return;const dn=this.editor.plugins.get("TableUtils"),vn=this.editor.model,bn=dn.getSelectionAffectedTableCells(vn.document.selection),An=bn[0].findAncestor("table"),{first:Dn,last:Ln}=dn.getRowIndexes(bn),Bn=this.value?Dn:Ln+1,Vn=An.getAttribute("headingRows")||0;vn.change(Gn=>{if(Bn){const Kn=ww(An,Bn,Bn>Vn?Vn:0);for(const{cell:$r}of Kn)kw($r,Bn,Gn)}Al("headingRows",Bn,An,Gn,0)})}_isInHeading(sn,dn){const vn=parseInt(dn.getAttribute("headingRows")||"0");return!!vn&&sn.parent.index<vn}}class XE extends qa{refresh(){const sn=this.editor.model,dn=this.editor.plugins.get("TableUtils"),vn=dn.getSelectionAffectedTableCells(sn.document.selection),bn=vn.length>0;this.isEnabled=bn,this.value=bn&&vn.every(An=>Pv(dn,An))}execute(sn={}){if(sn.forceValue===this.value)return;const dn=this.editor.plugins.get("TableUtils"),vn=this.editor.model,bn=dn.getSelectionAffectedTableCells(vn.document.selection),An=bn[0].findAncestor("table"),{first:Dn,last:Ln}=dn.getColumnIndexes(bn),Bn=this.value?Dn:Ln+1;vn.change(Vn=>{if(Bn){const Gn=Aw(An,Bn);for(const{cell:Kn,column:$r}of Gn)Cw(Kn,$r,Bn,Vn)}Al("headingColumns",Bn,An,Vn,0)})}}class bc extends xo{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(sn){const dn=sn.parent,vn=dn.parent,bn=vn.getChildIndex(dn),An=new Ns(vn,{row:bn});for(const{cell:Dn,row:Ln,column:Bn}of An)if(Dn===sn)return{row:Ln,column:Bn}}createTable(sn,dn){const vn=sn.createElement("table"),bn=dn.rows||2,An=dn.columns||2;return $v(sn,vn,0,bn,An),dn.headingRows&&Al("headingRows",Math.min(dn.headingRows,bn),vn,sn,0),dn.headingColumns&&Al("headingColumns",Math.min(dn.headingColumns,An),vn,sn,0),vn}insertRows(sn,dn={}){const vn=this.editor.model,bn=dn.at||0,An=dn.rows||1,Dn=dn.copyStructureFromAbove!==void 0,Ln=dn.copyStructureFromAbove?bn-1:bn,Bn=this.getRows(sn),Vn=this.getColumns(sn);if(bn>Bn)throw new Nn("tableutils-insertrows-insert-out-of-range",this,{options:dn});vn.change(Gn=>{const Kn=sn.getAttribute("headingRows")||0;if(Kn>bn&&Al("headingRows",Kn+An,sn,Gn,0),!Dn&&(bn===0||bn===Bn))return void $v(Gn,sn,bn,An,Vn);const $r=Dn?Math.max(bn,Ln):bn,Yr=new Ns(sn,{endRow:$r}),Qr=new Array(Vn).fill(1);for(const{row:si,column:hi,cellHeight:wi,cellWidth:zi,cell:so}of Yr){const qo=si+wi-1,Sa=si<=Ln&&Ln<=qo;si<bn&&bn<=qo?(Gn.setAttribute("rowspan",wi+An,so),Qr[hi]=-zi):Dn&&Sa&&(Qr[hi]=zi)}for(let si=0;si<An;si++){const hi=Gn.createElement("tableRow");Gn.insert(hi,sn,bn);for(let wi=0;wi<Qr.length;wi++){const zi=Qr[wi],so=Gn.createPositionAt(hi,"end");zi>0&&yf(Gn,so,zi>1?{colspan:zi}:void 0),wi+=Math.abs(zi)-1}}})}insertColumns(sn,dn={}){const vn=this.editor.model,bn=dn.at||0,An=dn.columns||1;vn.change(Dn=>{const Ln=sn.getAttribute("headingColumns");bn<Ln&&Dn.setAttribute("headingColumns",Ln+An,sn);const Bn=this.getColumns(sn);if(bn===0||Bn===bn){for(const Gn of sn.getChildren())Gn.is("element","tableRow")&&Jf(An,Dn,Dn.createPositionAt(Gn,bn?"end":0));return}const Vn=new Ns(sn,{column:bn,includeAllSlots:!0});for(const Gn of Vn){const{row:Kn,cell:$r,cellAnchorColumn:Yr,cellAnchorRow:Qr,cellWidth:si,cellHeight:hi}=Gn;if(Yr<bn){Dn.setAttribute("colspan",si+An,$r);const wi=Qr+hi-1;for(let zi=Kn;zi<=wi;zi++)Vn.skipRow(zi)}else Jf(An,Dn,Gn.getPositionBefore())}})}removeRows(sn,dn){const vn=this.editor.model,bn=dn.rows||1,An=this.getRows(sn),Dn=dn.at,Ln=Dn+bn-1;if(Ln>An-1)throw new Nn("tableutils-removerows-row-index-out-of-range",this,{table:sn,options:dn});vn.change(Bn=>{const Vn={first:Dn,last:Ln},{cellsToMove:Gn,cellsToTrim:Kn}=function($r,{first:Yr,last:Qr}){const si=new Map,hi=[];for(const{row:wi,column:zi,cellHeight:so,cell:qo}of new Ns($r,{endRow:Qr})){const Sa=wi+so-1;if(wi>=Yr&&wi<=Qr&&Sa>Qr){const $s=so-(Qr-wi+1);si.set(zi,{cell:qo,rowspan:$s})}if(wi<Yr&&Sa>=Yr){let $s;$s=Sa>=Qr?Qr-Yr+1:Sa-Yr+1,hi.push({cell:qo,rowspan:so-$s})}}return{cellsToMove:si,cellsToTrim:hi}}(sn,Vn);Gn.size&&function($r,Yr,Qr,si){const hi=new Ns($r,{includeAllSlots:!0,row:Yr}),wi=[...hi],zi=$r.getChild(Yr);let so;for(const{column:qo,cell:Sa,isAnchor:$s}of wi)if(Qr.has(qo)){const{cell:ds,rowspan:ql}=Qr.get(qo),Vl=so?si.createPositionAfter(so):si.createPositionAt(zi,0);si.move(si.createRangeOn(ds),Vl),Al("rowspan",ql,ds,si),so=ds}else $s&&(so=Sa)}(sn,Ln+1,Gn,Bn);for(let $r=Ln;$r>=Dn;$r--)Bn.remove(sn.getChild($r));for(const{rowspan:$r,cell:Yr}of Kn)Al("rowspan",$r,Yr,Bn);(function($r,{first:Yr,last:Qr},si){const hi=$r.getAttribute("headingRows")||0;Yr<hi&&Al("headingRows",Qr<hi?hi-(Qr-Yr+1):Yr,$r,si,0)})(sn,Vn,Bn),Ov(sn,this)||Rv(sn,this)})}removeColumns(sn,dn){const vn=this.editor.model,bn=dn.at,An=dn.columns||1,Dn=dn.at+An-1;vn.change(Ln=>{(function(Bn,Vn,Gn){const Kn=Bn.getAttribute("headingColumns")||0;if(Kn&&Vn.first<Kn){const $r=Math.min(Kn-1,Vn.last)-Vn.first+1;Gn.setAttribute("headingColumns",Kn-$r,Bn)}})(sn,{first:bn,last:Dn},Ln);for(let Bn=Dn;Bn>=bn;Bn--)for(const{cell:Vn,column:Gn,cellWidth:Kn}of[...new Ns(sn)])Gn<=Bn&&Kn>1&&Gn+Kn>Bn?Al("colspan",Kn-1,Vn,Ln):Gn===Bn&&Ln.remove(Vn);Rv(sn,this)||Ov(sn,this)})}splitCellVertically(sn,dn=2){const vn=this.editor.model,bn=sn.parent.parent,An=parseInt(sn.getAttribute("rowspan")||"1"),Dn=parseInt(sn.getAttribute("colspan")||"1");vn.change(Ln=>{if(Dn>1){const{newCellsSpan:Bn,updatedSpan:Vn}=Tw(Dn,dn);Al("colspan",Vn,sn,Ln);const Gn={};Bn>1&&(Gn.colspan=Bn),An>1&&(Gn.rowspan=An),Jf(Dn>dn?dn-1:Dn-1,Ln,Ln.createPositionAfter(sn),Gn)}if(Dn<dn){const Bn=dn-Dn,Vn=[...new Ns(bn)],{column:Gn}=Vn.find(({cell:Qr})=>Qr===sn),Kn=Vn.filter(({cell:Qr,cellWidth:si,column:hi})=>Qr!==sn&&hi===Gn||hi<Gn&&hi+si>Gn);for(const{cell:Qr,cellWidth:si}of Kn)Ln.setAttribute("colspan",si+Bn,Qr);const $r={};An>1&&($r.rowspan=An),Jf(Bn,Ln,Ln.createPositionAfter(sn),$r);const Yr=bn.getAttribute("headingColumns")||0;Yr>Gn&&Al("headingColumns",Yr+Bn,bn,Ln)}})}splitCellHorizontally(sn,dn=2){const vn=this.editor.model,bn=sn.parent,An=bn.parent,Dn=An.getChildIndex(bn),Ln=parseInt(sn.getAttribute("rowspan")||"1"),Bn=parseInt(sn.getAttribute("colspan")||"1");vn.change(Vn=>{if(Ln>1){const Gn=[...new Ns(An,{startRow:Dn,endRow:Dn+Ln-1,includeAllSlots:!0})],{newCellsSpan:Kn,updatedSpan:$r}=Tw(Ln,dn);Al("rowspan",$r,sn,Vn);const{column:Yr}=Gn.find(({cell:si})=>si===sn),Qr={};Kn>1&&(Qr.rowspan=Kn),Bn>1&&(Qr.colspan=Bn);for(const si of Gn){const{column:hi,row:wi}=si;wi>=Dn+$r&&hi===Yr&&(wi+Dn+$r)%Kn==0&&Jf(1,Vn,si.getPositionBefore(),Qr)}}if(Ln<dn){const Gn=dn-Ln,Kn=[...new Ns(An,{startRow:0,endRow:Dn})];for(const{cell:Qr,cellHeight:si,row:hi}of Kn)if(Qr!==sn&&hi+si>Dn){const wi=si+Gn;Vn.setAttribute("rowspan",wi,Qr)}const $r={};Bn>1&&($r.colspan=Bn),$v(Vn,An,Dn+1,Gn,1,$r);const Yr=An.getAttribute("headingRows")||0;Yr>Dn&&Al("headingRows",Yr+Gn,An,Vn)}})}getColumns(sn){return[...sn.getChild(0).getChildren()].reduce((dn,vn)=>dn+parseInt(vn.getAttribute("colspan")||"1"),0)}getRows(sn){return Array.from(sn.getChildren()).reduce((dn,vn)=>vn.is("element","tableRow")?dn+1:dn,0)}createTableWalker(sn,dn={}){return new Ns(sn,dn)}getSelectedTableCells(sn){const dn=[];for(const vn of this.sortRanges(sn.getRanges())){const bn=vn.getContainedElement();bn&&bn.is("element","tableCell")&&dn.push(bn)}return dn}getTableCellsContainingSelection(sn){const dn=[];for(const vn of sn.getRanges()){const bn=vn.start.findAncestor("tableCell");bn&&dn.push(bn)}return dn}getSelectionAffectedTableCells(sn){const dn=this.getSelectedTableCells(sn);return dn.length?dn:this.getTableCellsContainingSelection(sn)}getRowIndexes(sn){const dn=sn.map(vn=>vn.parent.index);return this._getFirstLastIndexesObject(dn)}getColumnIndexes(sn){const dn=sn[0].findAncestor("table"),vn=[...new Ns(dn)].filter(bn=>sn.includes(bn.cell)).map(bn=>bn.column);return this._getFirstLastIndexesObject(vn)}isSelectionRectangular(sn){if(sn.length<2||!this._areCellInTheSameTableSection(sn))return!1;const dn=new Set,vn=new Set;let bn=0;for(const Dn of sn){const{row:Ln,column:Bn}=this.getCellLocation(Dn),Vn=parseInt(Dn.getAttribute("rowspan"))||1,Gn=parseInt(Dn.getAttribute("colspan"))||1;dn.add(Ln),vn.add(Bn),Vn>1&&dn.add(Ln+Vn-1),Gn>1&&vn.add(Bn+Gn-1),bn+=Vn*Gn}return function(Dn,Ln){const Bn=Array.from(Dn.values()),Vn=Array.from(Ln.values()),Gn=Math.max(...Bn),Kn=Math.min(...Bn),$r=Math.max(...Vn),Yr=Math.min(...Vn);return(Gn-Kn+1)*($r-Yr+1)}(dn,vn)==bn}sortRanges(sn){return Array.from(sn).sort(QE)}_getFirstLastIndexesObject(sn){const dn=sn.sort((vn,bn)=>vn-bn);return{first:dn[0],last:dn[dn.length-1]}}_areCellInTheSameTableSection(sn){const dn=sn[0].findAncestor("table"),vn=this.getRowIndexes(sn),bn=parseInt(dn.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(vn,bn))return!1;const An=this.getColumnIndexes(sn),Dn=parseInt(dn.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(An,Dn)}_areIndexesInSameSection({first:sn,last:dn},vn){return sn<vn==dn<vn}}function $v(yn,sn,dn,vn,bn,An={}){for(let Dn=0;Dn<vn;Dn++){const Ln=yn.createElement("tableRow");yn.insert(Ln,sn,dn),Jf(bn,yn,yn.createPositionAt(Ln,"end"),An)}}function Jf(yn,sn,dn,vn={}){for(let bn=0;bn<yn;bn++)yf(sn,dn,vn)}function Tw(yn,sn){if(yn<sn)return{newCellsSpan:1,updatedSpan:1};const dn=Math.floor(yn/sn);return{newCellsSpan:dn,updatedSpan:yn-dn*sn+dn}}function QE(yn,sn){const dn=yn.start,vn=sn.start;return dn.isBefore(vn)?-1:1}class JE extends qa{refresh(){const sn=this.editor.plugins.get(bc),dn=sn.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=sn.isSelectionRectangular(dn)}execute(){const sn=this.editor.model,dn=this.editor.plugins.get(bc);sn.change(vn=>{const bn=dn.getSelectedTableCells(sn.document.selection),An=bn.shift(),{mergeWidth:Dn,mergeHeight:Ln}=function(Bn,Vn,Gn){let Kn=0,$r=0;for(const wi of Vn){const{row:zi,column:so}=Gn.getCellLocation(wi);Kn=Iw(wi,so,Kn,"colspan"),$r=Iw(wi,zi,$r,"rowspan")}const{row:Yr,column:Qr}=Gn.getCellLocation(Bn),si=Kn-Qr,hi=$r-Yr;return{mergeWidth:si,mergeHeight:hi}}(An,bn,dn);Al("colspan",Dn,An,vn),Al("rowspan",Ln,An,vn);for(const Bn of bn)eD(Bn,An,vn);Nv(An.findAncestor("table"),dn),vn.setSelection(An,"in")})}}function eD(yn,sn,dn){Mw(yn)||(Mw(sn)&&dn.remove(dn.createRangeIn(sn)),dn.move(dn.createRangeIn(yn),dn.createPositionAt(sn,"end"))),dn.remove(yn)}function Mw(yn){const sn=yn.getChild(0);return yn.childCount==1&&sn.is("element","paragraph")&&sn.isEmpty}function Iw(yn,sn,dn,vn){const bn=parseInt(yn.getAttribute(vn)||"1");return Math.max(dn,sn+bn)}class tD extends qa{constructor(sn){super(sn),this.affectsData=!1}refresh(){const sn=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=sn.length>0}execute(){const sn=this.editor.model,dn=this.editor.plugins.get("TableUtils"),vn=dn.getSelectionAffectedTableCells(sn.document.selection),bn=dn.getRowIndexes(vn),An=vn[0].findAncestor("table"),Dn=[];for(let Ln=bn.first;Ln<=bn.last;Ln++)for(const Bn of An.getChild(Ln).getChildren())Dn.push(sn.createRangeOn(Bn));sn.change(Ln=>{Ln.setSelection(Dn)})}}class nD extends qa{constructor(sn){super(sn),this.affectsData=!1}refresh(){const sn=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=sn.length>0}execute(){const sn=this.editor.plugins.get("TableUtils"),dn=this.editor.model,vn=sn.getSelectionAffectedTableCells(dn.document.selection),bn=vn[0],An=vn.pop(),Dn=bn.findAncestor("table"),Ln=sn.getCellLocation(bn),Bn=sn.getCellLocation(An),Vn=Math.min(Ln.column,Bn.column),Gn=Math.max(Ln.column,Bn.column),Kn=[];for(const $r of new Ns(Dn,{startColumn:Vn,endColumn:Gn}))Kn.push(dn.createRangeOn($r.cell));dn.change($r=>{$r.setSelection(Kn)})}}function rD(yn){yn.document.registerPostFixer(sn=>function(dn,vn){const bn=vn.document.differ.getChanges();let An=!1;const Dn=new Set;for(const Ln of bn){let Bn=null;Ln.type=="insert"&&Ln.name=="table"&&(Bn=Ln.position.nodeAfter),Ln.type!="insert"&&Ln.type!="remove"||Ln.name!="tableRow"&&Ln.name!="tableCell"||(Bn=Ln.position.findAncestor("table")),aD(Ln)&&(Bn=Ln.range.start.findAncestor("table")),Bn&&!Dn.has(Bn)&&(An=iD(Bn,dn)||An,An=oD(Bn,dn)||An,Dn.add(Bn))}return An}(sn,yn))}function iD(yn,sn){let dn=!1;const vn=function(bn){const An=parseInt(bn.getAttribute("headingRows")||"0"),Dn=Array.from(bn.getChildren()).reduce((Bn,Vn)=>Vn.is("element","tableRow")?Bn+1:Bn,0),Ln=[];for(const{row:Bn,cell:Vn,cellHeight:Gn}of new Ns(bn)){if(Gn<2)continue;const Kn=Bn<An?An:Dn;if(Bn+Gn>Kn){const $r=Kn-Bn;Ln.push({cell:Vn,rowspan:$r})}}return Ln}(yn);if(vn.length){dn=!0;for(const bn of vn)Al("rowspan",bn.rowspan,bn.cell,sn,1)}return dn}function oD(yn,sn){let dn=!1;const vn=function(Ln){const Bn=new Array(Ln.childCount).fill(0);for(const{rowIndex:Vn}of new Ns(Ln,{includeAllSlots:!0}))Bn[Vn]++;return Bn}(yn),bn=[];for(const[Ln,Bn]of vn.entries())!Bn&&yn.getChild(Ln).is("element","tableRow")&&bn.push(Ln);if(bn.length){dn=!0;for(const Ln of bn.reverse())sn.remove(yn.getChild(Ln)),vn.splice(Ln,1)}const An=vn.filter((Ln,Bn)=>yn.getChild(Bn).is("element","tableRow")),Dn=An[0];if(!An.every(Ln=>Ln===Dn)){const Ln=An.reduce((Bn,Vn)=>Vn>Bn?Vn:Bn,0);for(const[Bn,Vn]of An.entries()){const Gn=Ln-Vn;if(Gn){for(let Kn=0;Kn<Gn;Kn++)yf(sn,sn.createPositionAt(yn.getChild(Bn),"end"));dn=!0}}}return dn}function aD(yn){if(yn.type!=="attribute")return!1;const sn=yn.attributeKey;return sn==="headingRows"||sn==="colspan"||sn==="rowspan"}function sD(yn){yn.document.registerPostFixer(sn=>function(dn,vn){const bn=vn.document.differ.getChanges();let An=!1;for(const Dn of bn)Dn.type=="insert"&&Dn.name=="table"&&(An=lD(Dn.position.nodeAfter,dn)||An),Dn.type=="insert"&&Dn.name=="tableRow"&&(An=Lw(Dn.position.nodeAfter,dn)||An),Dn.type=="insert"&&Dn.name=="tableCell"&&(An=Bv(Dn.position.nodeAfter,dn)||An),Dn.type!="remove"&&Dn.type!="insert"||!cD(Dn)||(An=Bv(Dn.position.parent,dn)||An);return An}(sn,yn))}function lD(yn,sn){let dn=!1;for(const vn of yn.getChildren())vn.is("element","tableRow")&&(dn=Lw(vn,sn)||dn);return dn}function Lw(yn,sn){let dn=!1;for(const vn of yn.getChildren())dn=Bv(vn,sn)||dn;return dn}function Bv(yn,sn){if(yn.childCount==0)return sn.insertElement("paragraph",yn),!0;const dn=Array.from(yn.getChildren()).filter(vn=>vn.is("$text"));for(const vn of dn)sn.wrap(sn.createRangeOn(vn),"paragraph");return!!dn.length}function cD(yn){return!!yn.position.parent.is("element","tableCell")&&(yn.type=="insert"&&yn.name=="$text"||yn.type=="remove")}function uD(yn,sn){if(!yn.is("element","paragraph"))return!1;const dn=sn.toViewElement(yn);return!!dn&&vw(yn)!==dn.is("element","span")}var Pw=rn(3881),dD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Pw.Z,dD),Pw.Z.locals;class fD extends xo{constructor(sn){super(sn),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[bc]}init(){const sn=this.editor,dn=sn.model,vn=dn.schema,bn=sn.conversion,An=sn.plugins.get(bc);vn.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),vn.register("tableRow",{allowIn:"table",isLimit:!0}),vn.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),bn.for("upcast").add(Dn=>{Dn.on("element:figure",(Ln,Bn,Vn)=>{if(!Vn.consumable.test(Bn.viewItem,{name:!0,classes:"table"}))return;const Gn=function($r){for(const Yr of $r.getChildren())if(Yr.is("element","table"))return Yr}(Bn.viewItem);if(!Gn||!Vn.consumable.test(Gn,{name:!0}))return;Vn.consumable.consume(Bn.viewItem,{name:!0,classes:"table"});const Kn=_l(Vn.convertItem(Gn,Bn.modelCursor).modelRange.getItems());Kn?(Vn.convertChildren(Bn.viewItem,Vn.writer.createPositionAt(Kn,"end")),Vn.updateConversionResult(Kn,Bn)):Vn.consumable.revert(Bn.viewItem,{name:!0,classes:"table"})})}),bn.for("upcast").add(UE()),bn.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:hw(An,{asWidget:!0,additionalSlots:this._additionalSlots})}),bn.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:hw(An,{additionalSlots:this._additionalSlots})}),bn.for("upcast").elementToElement({model:"tableRow",view:"tr"}),bn.for("upcast").add(Dn=>{Dn.on("element:tr",(Ln,Bn)=>{Bn.viewItem.isEmpty&&Bn.modelCursor.index==0&&Ln.stop()},{priority:"high"})}),bn.for("downcast").elementToElement({model:"tableRow",view:(Dn,{writer:Ln})=>Dn.isEmpty?Ln.createEmptyElement("tr"):Ln.createContainerElement("tr")}),bn.for("upcast").elementToElement({model:"tableCell",view:"td"}),bn.for("upcast").elementToElement({model:"tableCell",view:"th"}),bn.for("upcast").add(fw("td")),bn.for("upcast").add(fw("th")),bn.for("editingDowncast").elementToElement({model:"tableCell",view:pw({asWidget:!0})}),bn.for("dataDowncast").elementToElement({model:"tableCell",view:pw()}),bn.for("editingDowncast").elementToElement({model:"paragraph",view:gw({asWidget:!0}),converterPriority:"high"}),bn.for("dataDowncast").elementToElement({model:"paragraph",view:gw(),converterPriority:"high"}),bn.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),bn.for("upcast").attributeToAttribute({model:{key:"colspan",value:Ow("colspan")},view:"colspan"}),bn.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),bn.for("upcast").attributeToAttribute({model:{key:"rowspan",value:Ow("rowspan")},view:"rowspan"}),sn.config.define("table.defaultHeadings.rows",0),sn.config.define("table.defaultHeadings.columns",0),sn.commands.add("insertTable",new qE(sn)),sn.commands.add("insertTableRowAbove",new mw(sn,{order:"above"})),sn.commands.add("insertTableRowBelow",new mw(sn,{order:"below"})),sn.commands.add("insertTableColumnLeft",new yw(sn,{order:"left"})),sn.commands.add("insertTableColumnRight",new yw(sn,{order:"right"})),sn.commands.add("removeTableRow",new YE(sn)),sn.commands.add("removeTableColumn",new KE(sn)),sn.commands.add("splitTableCellVertically",new bw(sn,{direction:"vertically"})),sn.commands.add("splitTableCellHorizontally",new bw(sn,{direction:"horizontally"})),sn.commands.add("mergeTableCells",new JE(sn)),sn.commands.add("mergeTableCellRight",new ag(sn,{direction:"right"})),sn.commands.add("mergeTableCellLeft",new ag(sn,{direction:"left"})),sn.commands.add("mergeTableCellDown",new ag(sn,{direction:"down"})),sn.commands.add("mergeTableCellUp",new ag(sn,{direction:"up"})),sn.commands.add("setTableColumnHeader",new XE(sn)),sn.commands.add("setTableRowHeader",new ZE(sn)),sn.commands.add("selectTableRow",new tD(sn)),sn.commands.add("selectTableColumn",new nD(sn)),rD(dn),sD(dn),this.listenTo(dn.document,"change:data",()=>{(function(Dn,Ln){const Bn=Dn.document.differ;for(const Vn of Bn.getChanges()){let Gn,Kn=!1;if(Vn.type=="attribute"){const si=Vn.range.start.nodeAfter;if(!si||!si.is("element","table")||Vn.attributeKey!="headingRows"&&Vn.attributeKey!="headingColumns")continue;Gn=si,Kn=Vn.attributeKey=="headingRows"}else Vn.name!="tableRow"&&Vn.name!="tableCell"||(Gn=Vn.position.findAncestor("table"),Kn=Vn.name=="tableRow");if(!Gn)continue;const $r=Gn.getAttribute("headingRows")||0,Yr=Gn.getAttribute("headingColumns")||0,Qr=new Ns(Gn);for(const si of Qr){const hi=si.row<$r||si.column<Yr?"th":"td",wi=Ln.mapper.toViewElement(si.cell);wi&&wi.is("element")&&wi.name!=hi&&Ln.reconvertItem(Kn?si.cell.parent:si.cell)}}})(dn,sn.editing),function(Dn,Ln){const Bn=Dn.document.differ,Vn=new Set;for(const Gn of Bn.getChanges()){const Kn=Gn.type=="attribute"?Gn.range.start.parent:Gn.position.parent;Kn.is("element","tableCell")&&Vn.add(Kn)}for(const Gn of Vn.values()){const Kn=Array.from(Gn.getChildren()).filter($r=>uD($r,Ln.mapper));for(const $r of Kn)Ln.reconvertItem($r)}}(dn,sn.editing)})}registerAdditionalSlot(sn){this._additionalSlots.push(sn)}}function Ow(yn){return sn=>{const dn=parseInt(sn.getAttribute(yn));return Number.isNaN(dn)||dn<=0?null:dn}}var Rw=rn(1613),hD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Rw.Z,hD),Rw.Z.locals;class pD extends is{constructor(sn){super(sn);const dn=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new tu,this.focusTracker=new Ic,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(vn,bn)=>`${bn} Ã ${vn}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":dn.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:dn.to("label")}]}],on:{mousedown:dn.to(vn=>{vn.preventDefault()}),click:dn.to(()=>{this.fire("execute")})}}),this.on("boxover",(vn,bn)=>{const{row:An,column:Dn}=bn.target.dataset;this.items.get(10*(parseInt(An,10)-1)+(parseInt(Dn,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(vn,bn,An)=>{if(!An)return;const{row:Dn,column:Ln}=An.dataset;this.set({rows:parseInt(Dn),columns:parseInt(Ln)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:sn,focusTracker:dn,gridItems:vn,numberOfColumns:bn,uiLanguageDirection:An}){const Dn=typeof bn=="number"?()=>bn:bn;function Ln(Gn){return Kn=>{const $r=vn.find(si=>si.element===dn.focusedElement),Yr=vn.getIndex($r),Qr=Gn(Yr,vn);vn.get(Qr).focus(),Kn.stopPropagation(),Kn.preventDefault()}}function Bn(Gn,Kn){return Gn===Kn-1?0:Gn+1}function Vn(Gn,Kn){return Gn===0?Kn-1:Gn-1}sn.set("arrowright",Ln((Gn,Kn)=>An==="rtl"?Vn(Gn,Kn.length):Bn(Gn,Kn.length))),sn.set("arrowleft",Ln((Gn,Kn)=>An==="rtl"?Bn(Gn,Kn.length):Vn(Gn,Kn.length))),sn.set("arrowup",Ln((Gn,Kn)=>{let $r=Gn-Dn();return $r<0&&($r=Gn+Dn()*Math.floor(Kn.length/Dn()),$r>Kn.length-1&&($r-=Dn())),$r})),sn.set("arrowdown",Ln((Gn,Kn)=>{let $r=Gn+Dn();return $r>Kn.length-1&&($r=Gn%Dn()),$r}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const sn of this.items)this.focusTracker.add(sn.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const sn=this.rows,dn=this.columns;this.items.map((vn,bn)=>{const An=Math.floor(bn/10)<sn&&bn%10<dn;vn.set("isOn",An)})}_createGridButton(sn,dn,vn,bn){const An=new gs(sn);return An.set({label:bn,class:"ck-insert-table-dropdown-grid-box"}),An.extendTemplate({attributes:{"data-row":dn,"data-column":vn}}),An}_createGridCollection(){const sn=[];for(let dn=0;dn<100;dn++){const vn=Math.floor(dn/10),bn=dn%10,An=`${vn+1} Ã ${bn+1}`;sn.push(this._createGridButton(this.locale,vn+1,bn+1,An))}return this.createCollection(sn)}}class gD extends xo{static get pluginName(){return"TableUI"}init(){const sn=this.editor,dn=this.editor.t,vn=sn.locale.contentLanguageDirection==="ltr";sn.ui.componentFactory.add("insertTable",bn=>{const An=sn.commands.get("insertTable"),Dn=$d(bn);let Ln;return Dn.bind("isEnabled").to(An),Dn.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:dn("Insert table"),tooltip:!0}),Dn.on("change:isOpen",()=>{Ln||(Ln=new pD(bn),Dn.panelView.children.add(Ln),Ln.delegate("execute").to(Dn),Dn.on("execute",()=>{sn.execute("insertTable",{rows:Ln.rows,columns:Ln.columns}),sn.editing.view.focus()}))}),Dn}),sn.ui.componentFactory.add("tableColumn",bn=>{const An=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:dn("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:vn?"insertTableColumnLeft":"insertTableColumnRight",label:dn("Insert column left")}},{type:"button",model:{commandName:vn?"insertTableColumnRight":"insertTableColumnLeft",label:dn("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:dn("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:dn("Select column")}}];return this._prepareDropdown(dn("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',An,bn)}),sn.ui.componentFactory.add("tableRow",bn=>{const An=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:dn("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:dn("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:dn("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:dn("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:dn("Select row")}}];return this._prepareDropdown(dn("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',An,bn)}),sn.ui.componentFactory.add("mergeTableCells",bn=>{const An=[{type:"button",model:{commandName:"mergeTableCellUp",label:dn("Merge cell up")}},{type:"button",model:{commandName:vn?"mergeTableCellRight":"mergeTableCellLeft",label:dn("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:dn("Merge cell down")}},{type:"button",model:{commandName:vn?"mergeTableCellLeft":"mergeTableCellRight",label:dn("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:dn("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:dn("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(dn("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',An,bn)})}_prepareDropdown(sn,dn,vn,bn){const An=this.editor,Dn=$d(bn),Ln=this._fillDropdownWithListOptions(Dn,vn);return Dn.buttonView.set({label:sn,icon:dn,tooltip:!0}),Dn.bind("isEnabled").toMany(Ln,"isEnabled",(...Bn)=>Bn.some(Vn=>Vn)),this.listenTo(Dn,"execute",Bn=>{An.execute(Bn.source.commandName),Bn.source instanceof xf||An.editing.view.focus()}),Dn}_prepareMergeSplitButtonDropdown(sn,dn,vn,bn){const An=this.editor,Dn=$d(bn,Wg),Ln="mergeTableCells",Bn=An.commands.get(Ln),Vn=this._fillDropdownWithListOptions(Dn,vn);return Dn.buttonView.set({label:sn,icon:dn,tooltip:!0,isEnabled:!0}),Dn.bind("isEnabled").toMany([Bn,...Vn],"isEnabled",(...Gn)=>Gn.some(Kn=>Kn)),this.listenTo(Dn.buttonView,"execute",()=>{An.execute(Ln),An.editing.view.focus()}),this.listenTo(Dn,"execute",Gn=>{An.execute(Gn.source.commandName),An.editing.view.focus()}),Dn}_fillDropdownWithListOptions(sn,dn){const vn=this.editor,bn=[],An=new Fc;for(const Dn of dn)vD(Dn,vn,bn,An);return my(sn,An),bn}}function vD(yn,sn,dn,vn){if(yn.type==="button"||yn.type==="switchbutton"){const bn=yn.model=new qy(yn.model),{commandName:An,bindIsOn:Dn}=yn.model,Ln=sn.commands.get(An);dn.push(Ln),bn.set({commandName:An}),bn.bind("isEnabled").to(Ln),Dn&&bn.bind("isOn").to(Ln,"value"),bn.set({withText:!0})}vn.add(yn)}var Nw=rn(6945),mD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Nw.Z,mD),Nw.Z.locals;class bf extends xo{static get pluginName(){return"TableSelection"}static get requires(){return[bc,bc]}init(){const sn=this.editor,dn=sn.model,vn=sn.editing.view;this.listenTo(dn,"deleteContent",(bn,An)=>this._handleDeleteContent(bn,An),{priority:"high"}),this.listenTo(vn.document,"insertText",(bn,An)=>this._handleInsertTextEvent(bn,An),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const sn=this.editor.plugins.get(bc),dn=this.editor.model.document.selection,vn=sn.getSelectedTableCells(dn);return vn.length==0?null:vn}getSelectionAsFragment(){const sn=this.editor.plugins.get(bc),dn=this.getSelectedTableCells();return dn?this.editor.model.change(vn=>{const bn=vn.createDocumentFragment(),{first:An,last:Dn}=sn.getColumnIndexes(dn),{first:Ln,last:Bn}=sn.getRowIndexes(dn),Vn=dn[0].findAncestor("table");let Gn=Bn,Kn=Dn;if(sn.isSelectionRectangular(dn)){const Yr={firstColumn:An,lastColumn:Dn,firstRow:Ln,lastRow:Bn};Gn=Sw(Vn,Yr),Kn=Ew(Vn,Yr)}const $r=_w(Vn,{startRow:Ln,startColumn:An,endRow:Gn,endColumn:Kn},vn);return vn.insert($r,bn,0),bn}):null}setCellSelection(sn,dn){const vn=this._getCellsToSelect(sn,dn);this.editor.model.change(bn=>{bn.setSelection(vn.cells.map(An=>bn.createRangeOn(An)),{backward:vn.backward})})}getFocusCell(){const sn=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return sn&&sn.is("element","tableCell")?sn:null}getAnchorCell(){const sn=_l(this.editor.model.document.selection.getRanges()).getContainedElement();return sn&&sn.is("element","tableCell")?sn:null}_defineSelectionConverter(){const sn=this.editor,dn=new Set;sn.conversion.for("editingDowncast").add(vn=>vn.on("selection",(bn,An,Dn)=>{const Ln=Dn.writer;(function(Gn){for(const Kn of dn)Gn.removeClass("ck-editor__editable_selected",Kn);dn.clear()})(Ln);const Bn=this.getSelectedTableCells();if(!Bn)return;for(const Gn of Bn){const Kn=Dn.mapper.toViewElement(Gn);Ln.addClass("ck-editor__editable_selected",Kn),dn.add(Kn)}const Vn=Dn.mapper.toViewElement(Bn[Bn.length-1]);Ln.setSelection(Vn,0)},{priority:"lowest"}))}_enablePluginDisabling(){const sn=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const dn=this.getSelectedTableCells();if(!dn)return;sn.model.change(vn=>{const bn=vn.createPositionAt(dn[0],0),An=sn.model.schema.getNearestSelectionRange(bn);vn.setSelection(An)})}})}_handleDeleteContent(sn,dn){const vn=this.editor.plugins.get(bc),bn=dn[0],An=dn[1],Dn=this.editor.model,Ln=!An||An.direction=="backward",Bn=vn.getSelectedTableCells(bn);Bn.length&&(sn.stop(),Dn.change(Vn=>{const Gn=Bn[Ln?Bn.length-1:0];Dn.change($r=>{for(const Yr of Bn)Dn.deleteContent($r.createSelection(Yr,"in"))});const Kn=Dn.schema.getNearestSelectionRange(Vn.createPositionAt(Gn,0));bn.is("documentSelection")?Vn.setSelection(Kn):bn.setTo(Kn)}))}_handleInsertTextEvent(sn,dn){const vn=this.editor,bn=this.getSelectedTableCells();if(!bn)return;const An=vn.editing.view,Dn=vn.editing.mapper,Ln=bn.map(Bn=>An.createRangeOn(Dn.toViewElement(Bn)));dn.selection=An.createSelection(Ln)}_getCellsToSelect(sn,dn){const vn=this.editor.plugins.get("TableUtils"),bn=vn.getCellLocation(sn),An=vn.getCellLocation(dn),Dn=Math.min(bn.row,An.row),Ln=Math.max(bn.row,An.row),Bn=Math.min(bn.column,An.column),Vn=Math.max(bn.column,An.column),Gn=new Array(Ln-Dn+1).fill(null).map(()=>[]),Kn={startRow:Dn,endRow:Ln,startColumn:Bn,endColumn:Vn};for(const{row:Qr,cell:si}of new Ns(sn.findAncestor("table"),Kn))Gn[Qr-Dn].push(si);const $r=An.row<bn.row,Yr=An.column<bn.column;return $r&&Gn.reverse(),Yr&&Gn.forEach(Qr=>Qr.reverse()),{cells:Gn.flat(),backward:$r||Yr}}}class yD extends xo{static get pluginName(){return"TableClipboard"}static get requires(){return[bf,bc]}init(){const sn=this.editor,dn=sn.editing.view.document;this.listenTo(dn,"copy",(vn,bn)=>this._onCopyCut(vn,bn)),this.listenTo(dn,"cut",(vn,bn)=>this._onCopyCut(vn,bn)),this.listenTo(sn.model,"insertContent",(vn,[bn,An])=>this._onInsertContent(vn,bn,An),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(sn,dn){const vn=this.editor.plugins.get(bf);if(!vn.getSelectedTableCells()||sn.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;dn.preventDefault(),sn.stop();const bn=this.editor.data,An=this.editor.editing.view.document,Dn=bn.toView(vn.getSelectionAsFragment());An.fire("clipboardOutput",{dataTransfer:dn.dataTransfer,content:Dn,method:sn.name})}_onInsertContent(sn,dn,vn){if(vn&&!vn.is("documentSelection"))return;const bn=this.editor.model,An=this.editor.plugins.get(bc);let Dn=this.getTableIfOnlyTableInContent(dn,bn);if(!Dn)return;const Ln=An.getSelectionAffectedTableCells(bn.document.selection);Ln.length?(sn.stop(),bn.change(Bn=>{const Vn={width:An.getColumns(Dn),height:An.getRows(Dn)},Gn=function(hi,wi,zi,so){const qo=hi[0].findAncestor("table"),Sa=so.getColumnIndexes(hi),$s=so.getRowIndexes(hi),ds={firstColumn:Sa.first,lastColumn:Sa.last,firstRow:$s.first,lastRow:$s.last},ql=hi.length===1;return ql&&(ds.lastRow+=wi.height-1,ds.lastColumn+=wi.width-1,function(Vl,eh,Qu,hu){const bd=hu.getColumns(Vl),_d=hu.getRows(Vl);Qu>bd&&hu.insertColumns(Vl,{at:bd,columns:Qu-bd}),eh>_d&&hu.insertRows(Vl,{at:_d,rows:eh-_d})}(qo,ds.lastRow+1,ds.lastColumn+1,so)),ql||!so.isSelectionRectangular(hi)?function(Vl,eh,Qu){const{firstRow:hu,lastRow:bd,firstColumn:_d,lastColumn:wf}=eh,e1={first:hu,last:bd},t1={first:_d,last:wf};zv(Vl,_d,e1,Qu),zv(Vl,wf+1,e1,Qu),Fv(Vl,hu,t1,Qu),Fv(Vl,bd+1,t1,Qu,hu)}(qo,ds,zi):(ds.lastRow=Sw(qo,ds),ds.lastColumn=Ew(qo,ds)),ds}(Ln,Vn,Bn,An),Kn=Gn.lastRow-Gn.firstRow+1,$r=Gn.lastColumn-Gn.firstColumn+1,Yr={startRow:0,startColumn:0,endRow:Math.min(Kn,Vn.height)-1,endColumn:Math.min($r,Vn.width)-1};Dn=_w(Dn,Yr,Bn);const Qr=Ln[0].findAncestor("table"),si=this._replaceSelectedCellsWithPasted(Dn,Vn,Qr,Gn,Bn);if(this.editor.plugins.get("TableSelection").isEnabled){const hi=An.sortRanges(si.map(wi=>Bn.createRangeOn(wi)));Bn.setSelection(hi)}else Bn.setSelection(si[0],0)})):Nv(Dn,An)}_replaceSelectedCellsWithPasted(sn,dn,vn,bn,An){const{width:Dn,height:Ln}=dn,Bn=function(hi,wi,zi){const so=new Array(zi).fill(null).map(()=>new Array(wi).fill(null));for(const{column:qo,row:Sa,cell:$s}of new Ns(hi))so[Sa][qo]=$s;return so}(sn,Dn,Ln),Vn=[...new Ns(vn,{startRow:bn.firstRow,endRow:bn.lastRow,startColumn:bn.firstColumn,endColumn:bn.lastColumn,includeAllSlots:!0})],Gn=[];let Kn;for(const hi of Vn){const{row:wi,column:zi}=hi;zi===bn.firstColumn&&(Kn=hi.getPositionBefore());const so=wi-bn.firstRow,qo=zi-bn.firstColumn,Sa=Bn[so%Ln][qo%Dn],$s=Sa?An.cloneElement(Sa):null,ds=this._replaceTableSlotCell(hi,$s,Kn,An);ds&&(xw(ds,wi,zi,bn.lastRow,bn.lastColumn,An),Gn.push(ds),Kn=An.createPositionAfter(ds))}const $r=parseInt(vn.getAttribute("headingRows")||"0"),Yr=parseInt(vn.getAttribute("headingColumns")||"0"),Qr=bn.firstRow<$r&&$r<=bn.lastRow,si=bn.firstColumn<Yr&&Yr<=bn.lastColumn;if(Qr){const hi=Fv(vn,$r,{first:bn.firstColumn,last:bn.lastColumn},An,bn.firstRow);Gn.push(...hi)}if(si){const hi=zv(vn,Yr,{first:bn.firstRow,last:bn.lastRow},An);Gn.push(...hi)}return Gn}_replaceTableSlotCell(sn,dn,vn,bn){const{cell:An,isAnchor:Dn}=sn;return Dn&&bn.remove(An),dn?(bn.insert(dn,vn),dn):null}getTableIfOnlyTableInContent(sn,dn){if(!sn.is("documentFragment")&&!sn.is("element"))return null;if(sn.is("element","table"))return sn;if(sn.childCount==1&&sn.getChild(0).is("element","table"))return sn.getChild(0);const vn=dn.createRangeIn(sn);for(const bn of vn.getItems())if(bn.is("element","table")){const An=dn.createRange(vn.start,dn.createPositionBefore(bn));if(dn.hasContent(An,{ignoreWhitespaces:!0}))return null;const Dn=dn.createRange(dn.createPositionAfter(bn),vn.end);return dn.hasContent(Dn,{ignoreWhitespaces:!0})?null:bn}return null}}function Fv(yn,sn,dn,vn,bn=0){if(!(sn<1))return ww(yn,sn,bn).filter(({column:An,cellWidth:Dn})=>$w(An,Dn,dn)).map(({cell:An})=>kw(An,sn,vn))}function zv(yn,sn,dn,vn){if(!(sn<1))return Aw(yn,sn).filter(({row:bn,cellHeight:An})=>$w(bn,An,dn)).map(({cell:bn,column:An})=>Cw(bn,An,sn,vn))}function $w(yn,sn,dn){const vn=yn+sn-1,{first:bn,last:An}=dn;return yn>=bn&&yn<=An||yn<bn&&vn>=bn}class bD extends xo{static get pluginName(){return"TableKeyboard"}static get requires(){return[bf,bc]}init(){const sn=this.editor.editing.view.document;this.listenTo(sn,"arrowKey",(...dn)=>this._onArrowKey(...dn),{context:"table"}),this.listenTo(sn,"tab",(...dn)=>this._handleTabOnSelectedTable(...dn),{context:"figure"}),this.listenTo(sn,"tab",(...dn)=>this._handleTab(...dn),{context:["th","td"]})}_handleTabOnSelectedTable(sn,dn){const vn=this.editor,bn=vn.model.document.selection.getSelectedElement();bn&&bn.is("element","table")&&(dn.preventDefault(),dn.stopPropagation(),sn.stop(),vn.model.change(An=>{An.setSelection(An.createRangeIn(bn.getChild(0).getChild(0)))}))}_handleTab(sn,dn){const vn=this.editor,bn=this.editor.plugins.get(bc),An=this.editor.plugins.get("TableSelection"),Dn=vn.model.document.selection,Ln=!dn.shiftKey;let Bn=bn.getTableCellsContainingSelection(Dn)[0];if(Bn||(Bn=An.getFocusCell()),!Bn)return;dn.preventDefault(),dn.stopPropagation(),sn.stop();const Vn=Bn.parent,Gn=Vn.parent,Kn=Gn.getChildIndex(Vn),$r=Vn.getChildIndex(Bn),Yr=$r===0;if(!Ln&&Yr&&Kn===0)return void vn.model.change(wi=>{wi.setSelection(wi.createRangeOn(Gn))});const Qr=$r===Vn.childCount-1,si=Kn===bn.getRows(Gn)-1;if(Ln&&si&&Qr&&(vn.execute("insertTableRowBelow"),Kn===bn.getRows(Gn)-1))return void vn.model.change(wi=>{wi.setSelection(wi.createRangeOn(Gn))});let hi;if(Ln&&Qr)hi=Gn.getChild(Kn+1).getChild(0);else if(!Ln&&Yr){const wi=Gn.getChild(Kn-1);hi=wi.getChild(wi.childCount-1)}else hi=Vn.getChild($r+(Ln?1:-1));vn.model.change(wi=>{wi.setSelection(wi.createRangeIn(hi))})}_onArrowKey(sn,dn){const vn=this.editor,bn=kf(dn.keyCode,vn.locale.contentLanguageDirection);this._handleArrowKeys(bn,dn.shiftKey)&&(dn.preventDefault(),dn.stopPropagation(),sn.stop())}_handleArrowKeys(sn,dn){const vn=this.editor.plugins.get(bc),bn=this.editor.plugins.get("TableSelection"),An=this.editor.model,Dn=An.document.selection,Ln=["right","down"].includes(sn),Bn=vn.getSelectedTableCells(Dn);if(Bn.length){let Gn;return Gn=dn?bn.getFocusCell():Ln?Bn[Bn.length-1]:Bn[0],this._navigateFromCellInDirection(Gn,sn,dn),!0}const Vn=Dn.focus.findAncestor("tableCell");if(!Vn)return!1;if(!Dn.isCollapsed)if(dn){if(Dn.isBackward==Ln&&!Dn.containsEntireContent(Vn))return!1}else{const Gn=Dn.getSelectedElement();if(!Gn||!An.schema.isObject(Gn))return!1}return!!this._isSelectionAtCellEdge(Dn,Vn,Ln)&&(this._navigateFromCellInDirection(Vn,sn,dn),!0)}_isSelectionAtCellEdge(sn,dn,vn){const bn=this.editor.model,An=this.editor.model.schema,Dn=vn?sn.getLastPosition():sn.getFirstPosition();if(!An.getLimitElement(Dn).is("element","tableCell"))return bn.createPositionAt(dn,vn?"end":0).isTouching(Dn);const Ln=bn.createSelection(Dn);return bn.modifySelection(Ln,{direction:vn?"forward":"backward"}),Dn.isEqual(Ln.focus)}_navigateFromCellInDirection(sn,dn,vn=!1){const bn=this.editor.model,An=sn.findAncestor("table"),Dn=[...new Ns(An,{includeAllSlots:!0})],{row:Ln,column:Bn}=Dn[Dn.length-1],Vn=Dn.find(({cell:si})=>si==sn);let{row:Gn,column:Kn}=Vn;switch(dn){case"left":Kn--;break;case"up":Gn--;break;case"right":Kn+=Vn.cellWidth;break;case"down":Gn+=Vn.cellHeight}if(Gn<0||Gn>Ln||Kn<0&&Gn<=0||Kn>Bn&&Gn>=Ln)return void bn.change(si=>{si.setSelection(si.createRangeOn(An))});Kn<0?(Kn=vn?0:Bn,Gn--):Kn>Bn&&(Kn=vn?Bn:0,Gn++);const $r=Dn.find(si=>si.row==Gn&&si.column==Kn).cell,Yr=["right","down"].includes(dn),Qr=this.editor.plugins.get("TableSelection");if(vn&&Qr.isEnabled){const si=Qr.getAnchorCell()||sn;Qr.setCellSelection(si,$r)}else{const si=bn.createPositionAt($r,Yr?0:"end");bn.change(hi=>{hi.setSelection(si)})}}}class _D extends Jo{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(sn){this.fire(sn.type,sn)}}class wD extends xo{static get pluginName(){return"TableMouse"}static get requires(){return[bf,bc]}init(){this.editor.editing.view.addObserver(_D),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const sn=this.editor,dn=sn.plugins.get(bc);let vn=!1;const bn=sn.plugins.get(bf);this.listenTo(sn.editing.view.document,"mousedown",(An,Dn)=>{const Ln=sn.model.document.selection;if(!this.isEnabled||!bn.isEnabled||!Dn.domEvent.shiftKey)return;const Bn=bn.getAnchorCell()||dn.getTableCellsContainingSelection(Ln)[0];if(!Bn)return;const Vn=this._getModelTableCellFromDomEvent(Dn);Vn&&Bw(Bn,Vn)&&(vn=!0,bn.setCellSelection(Bn,Vn),Dn.preventDefault())}),this.listenTo(sn.editing.view.document,"mouseup",()=>{vn=!1}),this.listenTo(sn.editing.view.document,"selectionChange",An=>{vn&&An.stop()},{priority:"highest"})}_enableMouseDragSelection(){const sn=this.editor;let dn,vn,bn=!1,An=!1;const Dn=sn.plugins.get(bf);this.listenTo(sn.editing.view.document,"mousedown",(Ln,Bn)=>{this.isEnabled&&Dn.isEnabled&&(Bn.domEvent.shiftKey||Bn.domEvent.ctrlKey||Bn.domEvent.altKey||(dn=this._getModelTableCellFromDomEvent(Bn)))}),this.listenTo(sn.editing.view.document,"mousemove",(Ln,Bn)=>{if(!Bn.domEvent.buttons||!dn)return;const Vn=this._getModelTableCellFromDomEvent(Bn);Vn&&Bw(dn,Vn)&&(vn=Vn,bn||vn==dn||(bn=!0)),bn&&(An=!0,Dn.setCellSelection(dn,vn),Bn.preventDefault())}),this.listenTo(sn.editing.view.document,"mouseup",()=>{bn=!1,An=!1,dn=null,vn=null}),this.listenTo(sn.editing.view.document,"selectionChange",Ln=>{An&&Ln.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(sn){const dn=sn.target,vn=this.editor.editing.view.createPositionAt(dn,0);return this.editor.editing.mapper.toModelPosition(vn).parent.findAncestor("tableCell",{includeSelf:!0})}}function Bw(yn,sn){return yn.parent.parent==sn.parent.parent}var Fw=rn(6306),kD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Fw.Z,kD),Fw.Z.locals;function AD(yn){const sn=yn.getSelectedElement();return sn&&zw(sn)?sn:null}function CD(yn){const sn=yn.getFirstPosition();if(!sn)return null;let dn=sn.parent;for(;dn;){if(dn.is("element")&&zw(dn))return dn;dn=dn.parent}return null}function zw(yn){return!!yn.getCustomProperty("table")&&pl(yn)}var Hw=rn(7368),xD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Hw.Z,xD),Hw.Z.locals;var Vw=rn(9247),SD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Vw.Z,SD),Vw.Z.locals;var jw=rn(4070),ED={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(jw.Z,ED),jw.Z.locals;var Uw=rn(6237),DD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Uw.Z,DD),Uw.Z.locals;var Gw=rn(5087),TD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Gw.Z,TD),Gw.Z.locals;const _f=Oc.defaultPositions;_f.northArrowSouth,_f.northArrowSouthWest,_f.northArrowSouthEast,_f.southArrowNorth,_f.southArrowNorthWest,_f.southArrowNorthEast,_f.viewportStickyNorth;var Ww=rn(7341),MD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Ww.Z,MD),Ww.Z.locals;var qw=rn(2128),ID={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(qw.Z,ID),qw.Z.locals;var Yw=rn(4101),LD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Qo()(Yw.Z,LD),Yw.Z.locals;var PD=Object.defineProperty,Kw=Object.getOwnPropertySymbols,OD=Object.prototype.hasOwnProperty,RD=Object.prototype.propertyIsEnumerable,Zw=(yn,sn,dn)=>sn in yn?PD(yn,sn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):yn[sn]=dn,Xw=(yn,sn)=>{for(var dn in sn||(sn={}))OD.call(sn,dn)&&Zw(yn,dn,sn[dn]);if(Kw)for(var dn of Kw(sn))RD.call(sn,dn)&&Zw(yn,dn,sn[dn]);return yn};const ND={autoRefresh:!0},Qw=36e5;class Hv extends Yi(){constructor(sn,dn={}){if(super(),!sn)throw new Nn("token-missing-token-url",this);dn.initValue&&this._validateTokenValue(dn.initValue),this.set("value",dn.initValue),this._refresh=typeof sn=="function"?sn:()=>{return vn=sn,new Promise((bn,An)=>{const Dn=new XMLHttpRequest;Dn.open("GET",vn),Dn.addEventListener("load",()=>{const Ln=Dn.status,Bn=Dn.response;return Ln<200||Ln>299?An(new Nn("token-cannot-download-new-token",null)):bn(Bn)}),Dn.addEventListener("error",()=>An(new Error("Network Error"))),Dn.addEventListener("abort",()=>An(new Error("Abort"))),Dn.send()});var vn},this._options=Xw(Xw({},ND),dn)}init(){return new Promise((sn,dn)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),sn(this)):this.refreshToken().then(sn).catch(dn)})}refreshToken(){return this._refresh().then(sn=>(this._validateTokenValue(sn),this.set("value",sn),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(sn){const dn=typeof sn=="string",vn=!/^".*"$/.test(sn),bn=dn&&sn.split(".").length===3;if(!vn||!bn)throw new Nn("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const sn=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},sn)}_getTokenRefreshTimeoutTime(){try{const[,sn]=this.value.split("."),{exp:dn}=JSON.parse(atob(sn));return dn?Math.floor((1e3*dn-Date.now())/2):Qw}catch{return Qw}}static create(sn,dn={}){return new Hv(sn,dn).init()}}const Vv=/^data:(\S*?);base64,/;class $D extends ti(){constructor(sn,dn,vn){if(super(),!sn)throw new Nn("fileuploader-missing-file",null);if(!dn)throw new Nn("fileuploader-missing-token",null);if(!vn)throw new Nn("fileuploader-missing-api-address",null);this.file=function(bn){if(typeof bn!="string")return!1;const An=bn.match(Vv);return!(!An||!An.length)}(sn)?function(bn,An=512){try{const Dn=bn.match(Vv)[1],Ln=atob(bn.replace(Vv,"")),Bn=[];for(let Vn=0;Vn<Ln.length;Vn+=An){const Gn=Ln.slice(Vn,Vn+An),Kn=new Array(Gn.length);for(let $r=0;$r<Gn.length;$r++)Kn[$r]=Gn.charCodeAt($r);Bn.push(new Uint8Array(Kn))}return new Blob(Bn,{type:Dn})}catch{throw new Nn("fileuploader-decoding-image-data-error",null)}}(sn):sn,this._token=dn,this._apiAddress=vn}onProgress(sn){return this.on("progress",(dn,vn)=>sn(vn)),this}onError(sn){return this.once("error",(dn,vn)=>sn(vn)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const sn=new XMLHttpRequest;sn.open("POST",this._apiAddress),sn.setRequestHeader("Authorization",this._token.value),sn.responseType="json",this.xhr=sn}_attachXHRListeners(){const sn=this.xhr,dn=vn=>()=>this.fire("error",vn);sn.addEventListener("error",dn("Network Error")),sn.addEventListener("abort",dn("Abort")),sn.upload&&sn.upload.addEventListener("progress",vn=>{vn.lengthComputable&&this.fire("progress",{total:vn.total,uploaded:vn.loaded})}),sn.addEventListener("load",()=>{const vn=sn.status,bn=sn.response;if(vn<200||vn>299)return this.fire("error",bn.message||bn.error)})}_sendRequest(){const sn=new FormData,dn=this.xhr;return sn.append("file",this.file),new Promise((vn,bn)=>{dn.addEventListener("load",()=>{const An=dn.status,Dn=dn.response;return An<200||An>299?Dn.message?bn(new Nn("fileuploader-uploading-data-failed",this,{message:Dn.message})):bn(Dn.error):vn(Dn)}),dn.addEventListener("error",()=>bn(new Error("Network Error"))),dn.addEventListener("abort",()=>bn(new Error("Abort"))),dn.send(sn)})}}class BD{constructor(sn,dn){if(!sn)throw new Nn("uploadgateway-missing-token",null);if(!dn)throw new Nn("uploadgateway-missing-api-address",null);this._token=sn,this._apiAddress=dn}upload(sn){return new $D(sn,this._token,this._apiAddress)}}class FD extends ef{static get pluginName(){return"CloudServicesCore"}createToken(sn,dn){return new Hv(sn,dn)}createUploadGateway(sn,dn){return new BD(sn,dn)}}var Jw=(yn,sn,dn)=>new Promise((vn,bn)=>{var An=Bn=>{try{Ln(dn.next(Bn))}catch(Vn){bn(Vn)}},Dn=Bn=>{try{Ln(dn.throw(Bn))}catch(Vn){bn(Vn)}},Ln=Bn=>Bn.done?vn(Bn.value):Promise.resolve(Bn.value).then(An,Dn);Ln((dn=dn.apply(yn,sn)).next())});class jv extends qp{}jv.builtinPlugins=[class extends xo{static get requires(){return[jb,Xp,PC,dC,tC,Zb]}static get pluginName(){return"Essentials"}},class extends xo{static get requires(){return[Tu]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const yn=this.editor.config.get("ckfinder.uploadUrl");yn&&(this.editor.plugins.get(Tu).createUploadAdapter=sn=>new qC(sn,yn,this.editor.t))}},class extends xo{static get requires(){return[md]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const yn=this.editor.commands;yn.get("bulletedList")&&zd(this.editor,this,/^[*-]\s$/,"bulletedList"),yn.get("numberedList")&&zd(this.editor,this,/^1[.|)]\s$/,"numberedList"),yn.get("todoList")&&zd(this.editor,this,/^\[\s?\]\s$/,"todoList"),yn.get("checkTodoList")&&zd(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const yn=this.editor.commands;if(yn.get("bold")){const sn=eg(this.editor,"bold");Kf(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,sn),Kf(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,sn)}if(yn.get("italic")){const sn=eg(this.editor,"italic");Kf(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,sn),Kf(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,sn)}if(yn.get("code")){const sn=eg(this.editor,"code");Kf(this.editor,this,/(`)([^`]+)(`)$/g,sn)}if(yn.get("strikethrough")){const sn=eg(this.editor,"strikethrough");Kf(this.editor,this,/(~~)([^~]+)(~~)$/g,sn)}}_addHeadingAutoformats(){const yn=this.editor.commands.get("heading");yn&&yn.modelElements.filter(sn=>sn.match(/^heading[1-6]$/)).forEach(sn=>{const dn=sn[7],vn=new RegExp(`^(#{${dn}})\\s$`);zd(this.editor,this,vn,()=>{if(!yn.isEnabled||yn.value===sn)return!1;this.editor.execute("heading",{value:sn})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&zd(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const yn=this.editor,sn=yn.model.document.selection;yn.commands.get("codeBlock")&&zd(yn,this,/^```$/,()=>{if(sn.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&zd(this.editor,this,/^---$/,"horizontalLine")}},class extends xo{static get requires(){return[YC,KC]}static get pluginName(){return"Bold"}},class extends xo{static get requires(){return[XC,QC]}static get pluginName(){return"Italic"}},class extends xo{static get requires(){return[ex,nx]}static get pluginName(){return"BlockQuote"}},class extends xo{static get pluginName(){return"CKBox"}static get requires(){return[vv,rx]}},class extends xo{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",mx,gx]}},class extends ef{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[FD]}init(){return Jw(this,null,function*(){const yn=this.context.config.get("cloudServices")||{};for(const[dn,vn]of Object.entries(yn))this[dn]=vn;if(!this.tokenUrl)return void(this.token=null);const sn=this.context.plugins.get("CloudServicesCore");this.token=yield sn.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(yn){return Jw(this,null,function*(){if(this._tokens.has(yn))return this.getTokenFor(yn);const sn=this.context.plugins.get("CloudServicesCore"),dn=yield sn.createToken(yn).init();return this._tokens.set(yn,dn),dn})}getTokenFor(yn){const sn=this._tokens.get(yn);if(!sn)throw new Nn("cloudservices-token-not-registered",this);return sn}destroy(){super.destroy();for(const yn of this._tokens.values())yn.destroy()}},class extends xo{static get pluginName(){return"EasyImage"}static get requires(){return[yx,"ImageUpload"]}init(){const yn=this.editor;yn.plugins.has("ImageBlockEditing")||yn.plugins.has("ImageInlineEditing")||Hn("easy-image-image-feature-missing",yn)}},class extends xo{static get requires(){return[Cx,Sx]}static get pluginName(){return"Heading"}},class extends xo{static get requires(){return[jx,Gx]}static get pluginName(){return"Image"}},class extends xo{static get requires(){return[qx,Yx]}static get pluginName(){return"ImageCaption"}},class extends xo{static get requires(){return[s_,bS]}static get pluginName(){return"ImageStyle"}},class extends xo{static get requires(){return[Jp,Mu]}static get pluginName(){return"ImageToolbar"}afterInit(){const yn=this.editor,sn=yn.t,dn=yn.plugins.get(Jp),vn=yn.plugins.get("ImageUtils");var bn;dn.register("image",{ariaLabel:sn("Image toolbar"),items:(bn=yn.config.get("image.toolbar")||[],bn.map(An=>yi(An)?An.name:An)),getRelatedElement:An=>vn.getClosestSelectedImageWidget(An)})}},class extends xo{static get pluginName(){return"ImageUpload"}static get requires(){return[lS,Xx,tS]}},class extends xo{static get pluginName(){return"Indent"}static get requires(){return[_S,wS]}},class extends xo{static get requires(){return[WS,XS,JS]}static get pluginName(){return"Link"}},class extends xo{static get requires(){return[_E,sE]}static get pluginName(){return"List"}},class extends xo{static get requires(){return[og,TE,SE,rp]}static get pluginName(){return"MediaEmbed"}},mv,class extends xo{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Zu]}init(){const yn=this.editor,sn=yn.plugins.get("ClipboardPipeline"),dn=yn.editing.view.document,vn=[];vn.push(new BE(dn)),vn.push(new zE(dn)),vn.push(new VE(dn)),sn.on("inputTransformation",(bn,An)=>{if(An._isTransformedWithPasteFromOffice||yn.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const Dn=An.dataTransfer.getData("text/html"),Ln=vn.find(Bn=>Bn.isActive(Dn));Ln&&(An._parsedData||(An._parsedData=jE(Dn,dn.stylesProcessor)),Ln.execute(An),An._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends xo{static get requires(){return[bv,Mu]}static get pluginName(){return"PictureEditing"}afterInit(){const yn=this.editor;yn.plugins.has("ImageBlockEditing")&&yn.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),yn.plugins.has("ImageInlineEditing")&&yn.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const yn=this.editor,sn=yn.conversion,dn=yn.plugins.get("ImageUtils");sn.for("upcast").add(function(vn){const bn=["srcset","media","type","sizes"],An=(Dn,Ln,Bn)=>{const Vn=Ln.viewItem;if(!Bn.consumable.test(Vn,{name:!0}))return;const Gn=new Map;for(const Yr of Vn.getChildren())if(Yr.is("element","source")){const Qr={};for(const si of bn)Yr.hasAttribute(si)&&Bn.consumable.test(Yr,{attributes:si})&&(Qr[si]=Yr.getAttribute(si));Object.keys(Qr).length&&Gn.set(Yr,Qr)}const Kn=vn.findViewImgElement(Vn);if(!Kn)return;let $r=Ln.modelCursor.parent;if(!$r.is("element","imageBlock")){const Yr=Bn.convertItem(Kn,Ln.modelCursor);Ln.modelRange=Yr.modelRange,Ln.modelCursor=Yr.modelCursor,$r=_l(Yr.modelRange.getItems())}Bn.consumable.consume(Vn,{name:!0});for(const[Yr,Qr]of Gn)Bn.consumable.consume(Yr,{attributes:Object.keys(Qr)});Gn.size&&Bn.writer.setAttribute("sources",Array.from(Gn.values()),$r),Bn.convertChildren(Vn,$r)};return Dn=>{Dn.on("element:picture",An)}}(dn)),sn.for("downcast").add(function(vn){const bn=(An,Dn,Ln)=>{if(!Ln.consumable.consume(Dn.item,An.name))return;const Bn=Ln.writer,Vn=Ln.mapper.toViewElement(Dn.item),Gn=vn.findViewImgElement(Vn),Kn=Dn.attributeNewValue;if(Kn&&Kn.length){const $r=Bn.createContainerElement("picture",null,Kn.map(si=>Bn.createEmptyElement("source",si))),Yr=[];let Qr=Gn.parent;for(;Qr&&Qr.is("attributeElement");){const si=Qr.parent;Bn.unwrap(Bn.createRangeOn(Gn),Qr),Yr.unshift(Qr),Qr=si}Bn.insert(Bn.createPositionBefore(Gn),$r),Bn.move(Bn.createRangeOn(Gn),Bn.createPositionAt($r,"end"));for(const si of Yr)Bn.wrap(Bn.createRangeOn($r),si)}else if(Gn.parent.is("element","picture")){const $r=Gn.parent;Bn.move(Bn.createRangeOn(Gn),Bn.createPositionBefore($r)),Bn.remove($r)}};return An=>{An.on("attribute:sources:imageBlock",bn),An.on("attribute:sources:imageInline",bn)}}(dn))}_setupImageUploadEditingIntegration(){const yn=this.editor;if(!yn.plugins.has("ImageUploadEditing"))return;const sn=yn.plugins.get("ImageUploadEditing");this.listenTo(sn,"uploadComplete",(dn,{imageElement:vn,data:bn})=>{const An=bn.sources;An&&yn.model.change(Dn=>{Dn.setAttributes({sources:An},vn)})})}},class extends xo{static get requires(){return[fD,gD,bf,wD,bD,yD,rp]}static get pluginName(){return"Table"}},class extends xo{static get requires(){return[Jp]}static get pluginName(){return"TableToolbar"}afterInit(){const yn=this.editor,sn=yn.t,dn=yn.plugins.get(Jp),vn=yn.config.get("table.contentToolbar"),bn=yn.config.get("table.tableToolbar");vn&&dn.register("tableContent",{ariaLabel:sn("Table toolbar"),items:vn,getRelatedElement:CD}),bn&&dn.register("table",{ariaLabel:sn("Table toolbar"),items:bn,getRelatedElement:AD})}},class extends xo{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(yn){super(yn),yn.config.define("typing",{transformations:{include:iC}})}init(){const yn=this.editor.model.document.selection;yn.on("change:range",()=>{this.isEnabled=!yn.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const yn=this.editor,sn=yn.model,dn=yn.plugins.get("Delete"),vn=function(An){const Dn=An.extra||[],Ln=An.remove||[],Bn=Vn=>!Ln.includes(Vn);return function(Vn){const Gn=new Set;for(const Kn of Vn)if(typeof Kn=="string"&&bb[Kn])for(const $r of bb[Kn])Gn.add($r);else Gn.add(Kn);return Array.from(Gn)}(An.include.concat(Dn).filter(Bn)).filter(Bn).map(Vn=>typeof Vn=="string"&&yb[Vn]?yb[Vn]:Vn).filter(Vn=>typeof Vn=="object").map(Vn=>({from:oC(Vn.from),to:aC(Vn.to)}))}(yn.config.get("typing.transformations")),bn=new gb(yn.model,An=>{for(const Dn of vn)if(Dn.from.test(An))return{normalizedTransformation:Dn}});bn.on("matched:data",(An,Dn)=>{if(!Dn.batch.isTyping)return;const{from:Ln,to:Bn}=Dn.normalizedTransformation,Vn=Ln.exec(Dn.text),Gn=Bn(Vn.slice(1)),Kn=Dn.range;let $r=Vn.index;sn.enqueueChange(Yr=>{for(let Qr=1;Qr<Vn.length;Qr++){const si=Vn[Qr],hi=Gn[Qr-1];if(hi==null){$r+=si.length;continue}const wi=Kn.start.getShiftedBy($r),zi=sn.createRange(wi,wi.getShiftedBy(si.length)),so=sC(wi);sn.insertContent(Yr.createText(hi,so),zi),$r+=hi.length}sn.enqueueChange(()=>{dn.requestUndoOnBackspace()})})}),bn.bind("isEnabled").to(this)}}],jv.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),an=an.default})())})(ckeditor,ckeditor.exports);var ckeditorExports=ckeditor.exports;const ClassicEditor=getDefaultExportFromCjs(ckeditorExports);var flushPending=!1,flushing=!1,queue=[],lastFlushedIndex=-1;function scheduler(Fe){queueJob(Fe)}function queueJob(Fe){queue.includes(Fe)||queue.push(Fe),queueFlush()}function dequeueJob(Fe){let en=queue.indexOf(Fe);en!==-1&&en>lastFlushedIndex&&queue.splice(en,1)}function queueFlush(){!flushing&&!flushPending&&(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let Fe=0;Fe<queue.length;Fe++)queue[Fe](),lastFlushedIndex=Fe;queue.length=0,lastFlushedIndex=-1,flushing=!1}var reactive,effect,release$1,raw,shouldSchedule=!0;function disableEffectScheduling(Fe){shouldSchedule=!1,Fe(),shouldSchedule=!0}function setReactivityEngine(Fe){reactive=Fe.reactive,release$1=Fe.release,effect=en=>Fe.effect(en,{scheduler:tn=>{shouldSchedule?scheduler(tn):tn()}}),raw=Fe.raw}function overrideEffect(Fe){effect=Fe}function elementBoundEffect(Fe){let en=()=>{};return[nn=>{let rn=effect(nn);return Fe._x_effects||(Fe._x_effects=new Set,Fe._x_runEffects=()=>{Fe._x_effects.forEach(an=>an())}),Fe._x_effects.add(rn),en=()=>{rn!==void 0&&(Fe._x_effects.delete(rn),release$1(rn))},rn},()=>{en()}]}function dispatch(Fe,en,tn={}){Fe.dispatchEvent(new CustomEvent(en,{detail:tn,bubbles:!0,composed:!0,cancelable:!0}))}function walk(Fe,en){if(typeof ShadowRoot=="function"&&Fe instanceof ShadowRoot){Array.from(Fe.children).forEach(rn=>walk(rn,en));return}let tn=!1;if(en(Fe,()=>tn=!0),tn)return;let nn=Fe.firstElementChild;for(;nn;)walk(nn,en),nn=nn.nextElementSibling}function warn$1(Fe,...en){console.warn(`Alpine Warning: ${Fe}`,...en)}var started=!1;function start$1(){started&&warn$1("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),started=!0,document.body||warn$1("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded(en=>initTree(en,walk)),onElRemoved(en=>destroyTree(en)),onAttributesAdded((en,tn)=>{directives(en,tn).forEach(nn=>nn())});let Fe=en=>!closestRoot(en.parentElement,!0);Array.from(document.querySelectorAll(allSelectors())).filter(Fe).forEach(en=>{initTree(en)}),dispatch(document,"alpine:initialized")}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map(Fe=>Fe())}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map(Fe=>Fe())}function addRootSelector(Fe){rootSelectorCallbacks.push(Fe)}function addInitSelector(Fe){initSelectorCallbacks.push(Fe)}function closestRoot(Fe,en=!1){return findClosest(Fe,tn=>{if((en?allSelectors():rootSelectors()).some(rn=>tn.matches(rn)))return!0})}function findClosest(Fe,en){if(Fe){if(en(Fe))return Fe;if(Fe._x_teleportBack&&(Fe=Fe._x_teleportBack),!!Fe.parentElement)return findClosest(Fe.parentElement,en)}}function isRoot(Fe){return rootSelectors().some(en=>Fe.matches(en))}var initInterceptors=[];function interceptInit(Fe){initInterceptors.push(Fe)}function initTree(Fe,en=walk,tn=()=>{}){deferHandlingDirectives(()=>{en(Fe,(nn,rn)=>{tn(nn,rn),initInterceptors.forEach(an=>an(nn,rn)),directives(nn,nn.attributes).forEach(an=>an()),nn._x_ignore&&rn()})})}function destroyTree(Fe){walk(Fe,en=>{cleanupAttributes(en),cleanupElement(en)})}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(Fe){onElAddeds.push(Fe)}function onElRemoved(Fe,en){typeof en=="function"?(Fe._x_cleanups||(Fe._x_cleanups=[]),Fe._x_cleanups.push(en)):(en=Fe,onElRemoveds.push(en))}function onAttributesAdded(Fe){onAttributeAddeds.push(Fe)}function onAttributeRemoved(Fe,en,tn){Fe._x_attributeCleanups||(Fe._x_attributeCleanups={}),Fe._x_attributeCleanups[en]||(Fe._x_attributeCleanups[en]=[]),Fe._x_attributeCleanups[en].push(tn)}function cleanupAttributes(Fe,en){Fe._x_attributeCleanups&&Object.entries(Fe._x_attributeCleanups).forEach(([tn,nn])=>{(en===void 0||en.includes(tn))&&(nn.forEach(rn=>rn()),delete Fe._x_attributeCleanups[tn])})}function cleanupElement(Fe){if(Fe._x_cleanups)for(;Fe._x_cleanups.length;)Fe._x_cleanups.pop()()}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var recordQueue=[],willProcessRecordQueue=!1;function flushObserver(){recordQueue=recordQueue.concat(observer.takeRecords()),recordQueue.length&&!willProcessRecordQueue&&(willProcessRecordQueue=!0,queueMicrotask(()=>{processRecordQueue(),willProcessRecordQueue=!1}))}function processRecordQueue(){onMutate(recordQueue),recordQueue.length=0}function mutateDom(Fe){if(!currentlyObserving)return Fe();stopObservingMutations();let en=Fe();return startObservingMutations(),en}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(Fe){if(isCollecting){deferredMutations=deferredMutations.concat(Fe);return}let en=[],tn=[],nn=new Map,rn=new Map;for(let an=0;an<Fe.length;an++)if(!Fe[an].target._x_ignoreMutationObserver&&(Fe[an].type==="childList"&&(Fe[an].addedNodes.forEach(ln=>ln.nodeType===1&&en.push(ln)),Fe[an].removedNodes.forEach(ln=>ln.nodeType===1&&tn.push(ln))),Fe[an].type==="attributes")){let ln=Fe[an].target,cn=Fe[an].attributeName,un=Fe[an].oldValue,fn=()=>{nn.has(ln)||nn.set(ln,[]),nn.get(ln).push({name:cn,value:ln.getAttribute(cn)})},hn=()=>{rn.has(ln)||rn.set(ln,[]),rn.get(ln).push(cn)};ln.hasAttribute(cn)&&un===null?fn():ln.hasAttribute(cn)?(hn(),fn()):hn()}rn.forEach((an,ln)=>{cleanupAttributes(ln,an)}),nn.forEach((an,ln)=>{onAttributeAddeds.forEach(cn=>cn(ln,an))});for(let an of tn)en.includes(an)||(onElRemoveds.forEach(ln=>ln(an)),destroyTree(an));en.forEach(an=>{an._x_ignoreSelf=!0,an._x_ignore=!0});for(let an of en)tn.includes(an)||an.isConnected&&(delete an._x_ignoreSelf,delete an._x_ignore,onElAddeds.forEach(ln=>ln(an)),an._x_ignore=!0,an._x_ignoreSelf=!0);en.forEach(an=>{delete an._x_ignoreSelf,delete an._x_ignore}),en=null,tn=null,nn=null,rn=null}function scope(Fe){return mergeProxies(closestDataStack(Fe))}function addScopeToNode(Fe,en,tn){return Fe._x_dataStack=[en,...closestDataStack(tn||Fe)],()=>{Fe._x_dataStack=Fe._x_dataStack.filter(nn=>nn!==en)}}function closestDataStack(Fe){return Fe._x_dataStack?Fe._x_dataStack:typeof ShadowRoot=="function"&&Fe instanceof ShadowRoot?closestDataStack(Fe.host):Fe.parentNode?closestDataStack(Fe.parentNode):[]}function mergeProxies(Fe){return new Proxy({objects:Fe},mergeProxyTrap)}var mergeProxyTrap={ownKeys({objects:Fe}){return Array.from(new Set(Fe.flatMap(en=>Object.keys(en))))},has({objects:Fe},en){return en==Symbol.unscopables?!1:Fe.some(tn=>Object.prototype.hasOwnProperty.call(tn,en))},get({objects:Fe},en,tn){return en=="toJSON"?collapseProxies:Reflect.get(Fe.find(nn=>Object.prototype.hasOwnProperty.call(nn,en))||{},en,tn)},set({objects:Fe},en,tn,nn){const rn=Fe.find(ln=>Object.prototype.hasOwnProperty.call(ln,en))||Fe[Fe.length-1],an=Object.getOwnPropertyDescriptor(rn,en);return an!=null&&an.set&&(an!=null&&an.get)?Reflect.set(rn,en,tn,nn):Reflect.set(rn,en,tn)}};function collapseProxies(){return Reflect.ownKeys(this).reduce((en,tn)=>(en[tn]=Reflect.get(this,tn),en),{})}function initInterceptors2(Fe){let en=nn=>typeof nn=="object"&&!Array.isArray(nn)&&nn!==null,tn=(nn,rn="")=>{Object.entries(Object.getOwnPropertyDescriptors(nn)).forEach(([an,{value:ln,enumerable:cn}])=>{if(cn===!1||ln===void 0)return;let un=rn===""?an:`${rn}.${an}`;typeof ln=="object"&&ln!==null&&ln._x_interceptor?nn[an]=ln.initialize(Fe,un,an):en(ln)&&ln!==nn&&!(ln instanceof Element)&&tn(ln,un)})};return tn(Fe)}function interceptor(Fe,en=()=>{}){let tn={initialValue:void 0,_x_interceptor:!0,initialize(nn,rn,an){return Fe(this.initialValue,()=>get$1(nn,rn),ln=>set$2(nn,rn,ln),rn,an)}};return en(tn),nn=>{if(typeof nn=="object"&&nn!==null&&nn._x_interceptor){let rn=tn.initialize.bind(tn);tn.initialize=(an,ln,cn)=>{let un=nn.initialize(an,ln,cn);return tn.initialValue=un,rn(an,ln,cn)}}else tn.initialValue=nn;return tn}}function get$1(Fe,en){return en.split(".").reduce((tn,nn)=>tn[nn],Fe)}function set$2(Fe,en,tn){if(typeof en=="string"&&(en=en.split(".")),en.length===1)Fe[en[0]]=tn;else{if(en.length===0)throw error;return Fe[en[0]]||(Fe[en[0]]={}),set$2(Fe[en[0]],en.slice(1),tn)}}var magics={};function magic(Fe,en){magics[Fe]=en}function injectMagics(Fe,en){return Object.entries(magics).forEach(([tn,nn])=>{let rn=null;function an(){if(rn)return rn;{let[ln,cn]=getElementBoundUtilities(en);return rn={interceptor,...ln},onElRemoved(en,cn),rn}}Object.defineProperty(Fe,`$${tn}`,{get(){return nn(en,an())},enumerable:!1})}),Fe}function tryCatch(Fe,en,tn,...nn){try{return tn(...nn)}catch(rn){handleError(rn,Fe,en)}}function handleError(Fe,en,tn=void 0){Object.assign(Fe,{el:en,expression:tn}),console.warn(`Alpine Expression Error: ${Fe.message}

${tn?'Expression: "'+tn+`"

`:""}`,en),setTimeout(()=>{throw Fe},0)}var shouldAutoEvaluateFunctions=!0;function dontAutoEvaluateFunctions(Fe){let en=shouldAutoEvaluateFunctions;shouldAutoEvaluateFunctions=!1;let tn=Fe();return shouldAutoEvaluateFunctions=en,tn}function evaluate(Fe,en,tn={}){let nn;return evaluateLater(Fe,en)(rn=>nn=rn,tn),nn}function evaluateLater(...Fe){return theEvaluatorFunction(...Fe)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(Fe){theEvaluatorFunction=Fe}function normalEvaluator(Fe,en){let tn={};injectMagics(tn,Fe);let nn=[tn,...closestDataStack(Fe)],rn=typeof en=="function"?generateEvaluatorFromFunction(nn,en):generateEvaluatorFromString(nn,en,Fe);return tryCatch.bind(null,Fe,en,rn)}function generateEvaluatorFromFunction(Fe,en){return(tn=()=>{},{scope:nn={},params:rn=[]}={})=>{let an=en.apply(mergeProxies([nn,...Fe]),rn);runIfTypeOfFunction(tn,an)}}var evaluatorMemo={};function generateFunctionFromString(Fe,en){if(evaluatorMemo[Fe])return evaluatorMemo[Fe];let tn=Object.getPrototypeOf(async function(){}).constructor,nn=/^[\n\s]*if.*\(.*\)/.test(Fe.trim())||/^(let|const)\s/.test(Fe.trim())?`(async()=>{ ${Fe} })()`:Fe,an=(()=>{try{let ln=new tn(["__self","scope"],`with (scope) { __self.result = ${nn} }; __self.finished = true; return __self.result;`);return Object.defineProperty(ln,"name",{value:`[Alpine] ${Fe}`}),ln}catch(ln){return handleError(ln,en,Fe),Promise.resolve()}})();return evaluatorMemo[Fe]=an,an}function generateEvaluatorFromString(Fe,en,tn){let nn=generateFunctionFromString(en,tn);return(rn=()=>{},{scope:an={},params:ln=[]}={})=>{nn.result=void 0,nn.finished=!1;let cn=mergeProxies([an,...Fe]);if(typeof nn=="function"){let un=nn(nn,cn).catch(fn=>handleError(fn,tn,en));nn.finished?(runIfTypeOfFunction(rn,nn.result,cn,ln,tn),nn.result=void 0):un.then(fn=>{runIfTypeOfFunction(rn,fn,cn,ln,tn)}).catch(fn=>handleError(fn,tn,en)).finally(()=>nn.result=void 0)}}}function runIfTypeOfFunction(Fe,en,tn,nn,rn){if(shouldAutoEvaluateFunctions&&typeof en=="function"){let an=en.apply(tn,nn);an instanceof Promise?an.then(ln=>runIfTypeOfFunction(Fe,ln,tn,nn)).catch(ln=>handleError(ln,rn,en)):Fe(an)}else typeof en=="object"&&en instanceof Promise?en.then(an=>Fe(an)):Fe(en)}var prefixAsString="x-";function prefix(Fe=""){return prefixAsString+Fe}function setPrefix(Fe){prefixAsString=Fe}var directiveHandlers={};function directive(Fe,en){return directiveHandlers[Fe]=en,{before(tn){if(!directiveHandlers[tn]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const nn=directiveOrder.indexOf(tn);directiveOrder.splice(nn>=0?nn:directiveOrder.indexOf("DEFAULT"),0,Fe)}}}function directives(Fe,en,tn){if(en=Array.from(en),Fe._x_virtualDirectives){let an=Object.entries(Fe._x_virtualDirectives).map(([cn,un])=>({name:cn,value:un})),ln=attributesOnly(an);an=an.map(cn=>ln.find(un=>un.name===cn.name)?{name:`x-bind:${cn.name}`,value:`"${cn.value}"`}:cn),en=en.concat(an)}let nn={};return en.map(toTransformedAttributes((an,ln)=>nn[an]=ln)).filter(outNonAlpineAttributes).map(toParsedDirectives(nn,tn)).sort(byPriority).map(an=>getDirectiveHandler(Fe,an))}function attributesOnly(Fe){return Array.from(Fe).map(toTransformedAttributes()).filter(en=>!outNonAlpineAttributes(en))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(Fe){isDeferringHandlers=!0;let en=Symbol();currentHandlerStackKey=en,directiveHandlerStacks.set(en,[]);let tn=()=>{for(;directiveHandlerStacks.get(en).length;)directiveHandlerStacks.get(en).shift()();directiveHandlerStacks.delete(en)},nn=()=>{isDeferringHandlers=!1,tn()};Fe(tn),nn()}function getElementBoundUtilities(Fe){let en=[],tn=cn=>en.push(cn),[nn,rn]=elementBoundEffect(Fe);return en.push(rn),[{Alpine:alpine_default,effect:nn,cleanup:tn,evaluateLater:evaluateLater.bind(evaluateLater,Fe),evaluate:evaluate.bind(evaluate,Fe)},()=>en.forEach(cn=>cn())]}function getDirectiveHandler(Fe,en){let tn=()=>{},nn=directiveHandlers[en.type]||tn,[rn,an]=getElementBoundUtilities(Fe);onAttributeRemoved(Fe,en.original,an);let ln=()=>{Fe._x_ignore||Fe._x_ignoreSelf||(nn.inline&&nn.inline(Fe,en,rn),nn=nn.bind(nn,Fe,en,rn),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(nn):nn())};return ln.runCleanups=an,ln}var startingWith=(Fe,en)=>({name:tn,value:nn})=>(tn.startsWith(Fe)&&(tn=tn.replace(Fe,en)),{name:tn,value:nn}),into=Fe=>Fe;function toTransformedAttributes(Fe=()=>{}){return({name:en,value:tn})=>{let{name:nn,value:rn}=attributeTransformers.reduce((an,ln)=>ln(an),{name:en,value:tn});return nn!==en&&Fe(nn,en),{name:nn,value:rn}}}var attributeTransformers=[];function mapAttributes(Fe){attributeTransformers.push(Fe)}function outNonAlpineAttributes({name:Fe}){return alpineAttributeRegex().test(Fe)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(Fe,en){return({name:tn,value:nn})=>{let rn=tn.match(alpineAttributeRegex()),an=tn.match(/:([a-zA-Z0-9\-_:]+)/),ln=tn.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],cn=en||Fe[tn]||tn;return{type:rn?rn[1]:null,value:an?an[1]:null,modifiers:ln.map(un=>un.replace(".","")),expression:nn,original:cn}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",DEFAULT,"teleport"];function byPriority(Fe,en){let tn=directiveOrder.indexOf(Fe.type)===-1?DEFAULT:Fe.type,nn=directiveOrder.indexOf(en.type)===-1?DEFAULT:en.type;return directiveOrder.indexOf(tn)-directiveOrder.indexOf(nn)}var tickStack=[],isHolding=!1;function nextTick(Fe=()=>{}){return queueMicrotask(()=>{isHolding||setTimeout(()=>{releaseNextTicks()})}),new Promise(en=>{tickStack.push(()=>{Fe(),en()})})}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function setClasses(Fe,en){return Array.isArray(en)?setClassesFromString(Fe,en.join(" ")):typeof en=="object"&&en!==null?setClassesFromObject(Fe,en):typeof en=="function"?setClasses(Fe,en()):setClassesFromString(Fe,en)}function setClassesFromString(Fe,en){let tn=rn=>rn.split(" ").filter(an=>!Fe.classList.contains(an)).filter(Boolean),nn=rn=>(Fe.classList.add(...rn),()=>{Fe.classList.remove(...rn)});return en=en===!0?en="":en||"",nn(tn(en))}function setClassesFromObject(Fe,en){let tn=cn=>cn.split(" ").filter(Boolean),nn=Object.entries(en).flatMap(([cn,un])=>un?tn(cn):!1).filter(Boolean),rn=Object.entries(en).flatMap(([cn,un])=>un?!1:tn(cn)).filter(Boolean),an=[],ln=[];return rn.forEach(cn=>{Fe.classList.contains(cn)&&(Fe.classList.remove(cn),ln.push(cn))}),nn.forEach(cn=>{Fe.classList.contains(cn)||(Fe.classList.add(cn),an.push(cn))}),()=>{ln.forEach(cn=>Fe.classList.add(cn)),an.forEach(cn=>Fe.classList.remove(cn))}}function setStyles(Fe,en){return typeof en=="object"&&en!==null?setStylesFromObject(Fe,en):setStylesFromString(Fe,en)}function setStylesFromObject(Fe,en){let tn={};return Object.entries(en).forEach(([nn,rn])=>{tn[nn]=Fe.style[nn],nn.startsWith("--")||(nn=kebabCase(nn)),Fe.style.setProperty(nn,rn)}),setTimeout(()=>{Fe.style.length===0&&Fe.removeAttribute("style")}),()=>{setStyles(Fe,tn)}}function setStylesFromString(Fe,en){let tn=Fe.getAttribute("style",en);return Fe.setAttribute("style",en),()=>{Fe.setAttribute("style",tn||"")}}function kebabCase(Fe){return Fe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once(Fe,en=()=>{}){let tn=!1;return function(){tn?en.apply(this,arguments):(tn=!0,Fe.apply(this,arguments))}}directive("transition",(Fe,{value:en,modifiers:tn,expression:nn},{evaluate:rn})=>{typeof nn=="function"&&(nn=rn(nn)),nn!==!1&&(!nn||typeof nn=="boolean"?registerTransitionsFromHelper(Fe,tn,en):registerTransitionsFromClassString(Fe,nn,en))});function registerTransitionsFromClassString(Fe,en,tn){registerTransitionObject(Fe,setClasses,""),{enter:rn=>{Fe._x_transition.enter.during=rn},"enter-start":rn=>{Fe._x_transition.enter.start=rn},"enter-end":rn=>{Fe._x_transition.enter.end=rn},leave:rn=>{Fe._x_transition.leave.during=rn},"leave-start":rn=>{Fe._x_transition.leave.start=rn},"leave-end":rn=>{Fe._x_transition.leave.end=rn}}[tn](en)}function registerTransitionsFromHelper(Fe,en,tn){registerTransitionObject(Fe,setStyles);let nn=!en.includes("in")&&!en.includes("out")&&!tn,rn=nn||en.includes("in")||["enter"].includes(tn),an=nn||en.includes("out")||["leave"].includes(tn);en.includes("in")&&!nn&&(en=en.filter((xn,Sn)=>Sn<en.indexOf("out"))),en.includes("out")&&!nn&&(en=en.filter((xn,Sn)=>Sn>en.indexOf("out")));let ln=!en.includes("opacity")&&!en.includes("scale"),cn=ln||en.includes("opacity"),un=ln||en.includes("scale"),fn=cn?0:1,hn=un?modifierValue$1(en,"scale",95)/100:1,pn=modifierValue$1(en,"delay",0)/1e3,gn=modifierValue$1(en,"origin","center"),mn="opacity, transform",_n=modifierValue$1(en,"duration",150)/1e3,kn=modifierValue$1(en,"duration",75)/1e3,Cn="cubic-bezier(0.4, 0.0, 0.2, 1)";rn&&(Fe._x_transition.enter.during={transformOrigin:gn,transitionDelay:`${pn}s`,transitionProperty:mn,transitionDuration:`${_n}s`,transitionTimingFunction:Cn},Fe._x_transition.enter.start={opacity:fn,transform:`scale(${hn})`},Fe._x_transition.enter.end={opacity:1,transform:"scale(1)"}),an&&(Fe._x_transition.leave.during={transformOrigin:gn,transitionDelay:`${pn}s`,transitionProperty:mn,transitionDuration:`${kn}s`,transitionTimingFunction:Cn},Fe._x_transition.leave.start={opacity:1,transform:"scale(1)"},Fe._x_transition.leave.end={opacity:fn,transform:`scale(${hn})`})}function registerTransitionObject(Fe,en,tn={}){Fe._x_transition||(Fe._x_transition={enter:{during:tn,start:tn,end:tn},leave:{during:tn,start:tn,end:tn},in(nn=()=>{},rn=()=>{}){transition(Fe,en,{during:this.enter.during,start:this.enter.start,end:this.enter.end},nn,rn)},out(nn=()=>{},rn=()=>{}){transition(Fe,en,{during:this.leave.during,start:this.leave.start,end:this.leave.end},nn,rn)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(Fe,en,tn,nn){const rn=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let an=()=>rn(tn);if(en){Fe._x_transition&&(Fe._x_transition.enter||Fe._x_transition.leave)?Fe._x_transition.enter&&(Object.entries(Fe._x_transition.enter.during).length||Object.entries(Fe._x_transition.enter.start).length||Object.entries(Fe._x_transition.enter.end).length)?Fe._x_transition.in(tn):an():Fe._x_transition?Fe._x_transition.in(tn):an();return}Fe._x_hidePromise=Fe._x_transition?new Promise((ln,cn)=>{Fe._x_transition.out(()=>{},()=>ln(nn)),Fe._x_transitioning.beforeCancel(()=>cn({isFromCancelledTransition:!0}))}):Promise.resolve(nn),queueMicrotask(()=>{let ln=closestHide(Fe);ln?(ln._x_hideChildren||(ln._x_hideChildren=[]),ln._x_hideChildren.push(Fe)):rn(()=>{let cn=un=>{let fn=Promise.all([un._x_hidePromise,...(un._x_hideChildren||[]).map(cn)]).then(([hn])=>hn());return delete un._x_hidePromise,delete un._x_hideChildren,fn};cn(Fe).catch(un=>{if(!un.isFromCancelledTransition)throw un})})})};function closestHide(Fe){let en=Fe.parentNode;if(en)return en._x_hidePromise?en:closestHide(en)}function transition(Fe,en,{during:tn,start:nn,end:rn}={},an=()=>{},ln=()=>{}){if(Fe._x_transitioning&&Fe._x_transitioning.cancel(),Object.keys(tn).length===0&&Object.keys(nn).length===0&&Object.keys(rn).length===0){an(),ln();return}let cn,un,fn;performTransition(Fe,{start(){cn=en(Fe,nn)},during(){un=en(Fe,tn)},before:an,end(){cn(),fn=en(Fe,rn)},after:ln,cleanup(){un(),fn()}})}function performTransition(Fe,en){let tn,nn,rn,an=once(()=>{mutateDom(()=>{tn=!0,nn||en.before(),rn||(en.end(),releaseNextTicks()),en.after(),Fe.isConnected&&en.cleanup(),delete Fe._x_transitioning})});Fe._x_transitioning={beforeCancels:[],beforeCancel(ln){this.beforeCancels.push(ln)},cancel:once(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();an()}),finish:an},mutateDom(()=>{en.start(),en.during()}),holdNextTicks(),requestAnimationFrame(()=>{if(tn)return;let ln=Number(getComputedStyle(Fe).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,cn=Number(getComputedStyle(Fe).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;ln===0&&(ln=Number(getComputedStyle(Fe).animationDuration.replace("s",""))*1e3),mutateDom(()=>{en.before()}),nn=!0,requestAnimationFrame(()=>{tn||(mutateDom(()=>{en.end()}),releaseNextTicks(),setTimeout(Fe._x_transitioning.finish,ln+cn),rn=!0)})})}function modifierValue$1(Fe,en,tn){if(Fe.indexOf(en)===-1)return tn;const nn=Fe[Fe.indexOf(en)+1];if(!nn||en==="scale"&&isNaN(nn))return tn;if(en==="duration"||en==="delay"){let rn=nn.match(/([0-9]+)ms/);if(rn)return rn[1]}return en==="origin"&&["top","right","left","center","bottom"].includes(Fe[Fe.indexOf(en)+2])?[nn,Fe[Fe.indexOf(en)+2]].join(" "):nn}var isCloning=!1;function skipDuringClone(Fe,en=()=>{}){return(...tn)=>isCloning?en(...tn):Fe(...tn)}function onlyDuringClone(Fe){return(...en)=>isCloning&&Fe(...en)}function cloneNode(Fe,en){Fe._x_dataStack&&(en._x_dataStack=Fe._x_dataStack,en.setAttribute("data-has-alpine-state",!0)),isCloning=!0,dontRegisterReactiveSideEffects(()=>{initTree(en,(tn,nn)=>{nn(tn,()=>{})})}),isCloning=!1}var isCloningLegacy=!1;function clone$5(Fe,en){en._x_dataStack||(en._x_dataStack=Fe._x_dataStack),isCloning=!0,isCloningLegacy=!0,dontRegisterReactiveSideEffects(()=>{cloneTree(en)}),isCloning=!1,isCloningLegacy=!1}function cloneTree(Fe){let en=!1;initTree(Fe,(nn,rn)=>{walk(nn,(an,ln)=>{if(en&&isRoot(an))return ln();en=!0,rn(an,ln)})})}function dontRegisterReactiveSideEffects(Fe){let en=effect;overrideEffect((tn,nn)=>{let rn=en(tn);return release$1(rn),()=>{}}),Fe(),overrideEffect(en)}function shouldSkipRegisteringDataDuringClone(Fe){return isCloning?isCloningLegacy?!0:Fe.hasAttribute("data-has-alpine-state"):!1}function bind$2(Fe,en,tn,nn=[]){switch(Fe._x_bindings||(Fe._x_bindings=reactive({})),Fe._x_bindings[en]=tn,en=nn.includes("camel")?camelCase(en):en,en){case"value":bindInputValue(Fe,tn);break;case"style":bindStyles(Fe,tn);break;case"class":bindClasses(Fe,tn);break;case"selected":case"checked":bindAttributeAndProperty(Fe,en,tn);break;default:bindAttribute(Fe,en,tn);break}}function bindInputValue(Fe,en){if(Fe.type==="radio")Fe.attributes.value===void 0&&(Fe.value=en),window.fromModel&&(Fe.checked=checkedAttrLooseCompare(Fe.value,en));else if(Fe.type==="checkbox")Number.isInteger(en)?Fe.value=en:!Array.isArray(en)&&typeof en!="boolean"&&![null,void 0].includes(en)?Fe.value=String(en):Array.isArray(en)?Fe.checked=en.some(tn=>checkedAttrLooseCompare(tn,Fe.value)):Fe.checked=!!en;else if(Fe.tagName==="SELECT")updateSelect(Fe,en);else{if(Fe.value===en)return;Fe.value=en===void 0?"":en}}function bindClasses(Fe,en){Fe._x_undoAddedClasses&&Fe._x_undoAddedClasses(),Fe._x_undoAddedClasses=setClasses(Fe,en)}function bindStyles(Fe,en){Fe._x_undoAddedStyles&&Fe._x_undoAddedStyles(),Fe._x_undoAddedStyles=setStyles(Fe,en)}function bindAttributeAndProperty(Fe,en,tn){bindAttribute(Fe,en,tn),setPropertyIfChanged(Fe,en,tn)}function bindAttribute(Fe,en,tn){[null,void 0,!1].includes(tn)&&attributeShouldntBePreservedIfFalsy(en)?Fe.removeAttribute(en):(isBooleanAttr(en)&&(tn=en),setIfChanged(Fe,en,tn))}function setIfChanged(Fe,en,tn){Fe.getAttribute(en)!=tn&&Fe.setAttribute(en,tn)}function setPropertyIfChanged(Fe,en,tn){Fe[en]!==tn&&(Fe[en]=tn)}function updateSelect(Fe,en){const tn=[].concat(en).map(nn=>nn+"");Array.from(Fe.options).forEach(nn=>{nn.selected=tn.includes(nn.value)})}function camelCase(Fe){return Fe.toLowerCase().replace(/-(\w)/g,(en,tn)=>tn.toUpperCase())}function checkedAttrLooseCompare(Fe,en){return Fe==en}function isBooleanAttr(Fe){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(Fe)}function attributeShouldntBePreservedIfFalsy(Fe){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(Fe)}function getBinding(Fe,en,tn){return Fe._x_bindings&&Fe._x_bindings[en]!==void 0?Fe._x_bindings[en]:getAttributeBinding(Fe,en,tn)}function extractProp(Fe,en,tn,nn=!0){if(Fe._x_bindings&&Fe._x_bindings[en]!==void 0)return Fe._x_bindings[en];if(Fe._x_inlineBindings&&Fe._x_inlineBindings[en]!==void 0){let rn=Fe._x_inlineBindings[en];return rn.extract=nn,dontAutoEvaluateFunctions(()=>evaluate(Fe,rn.expression))}return getAttributeBinding(Fe,en,tn)}function getAttributeBinding(Fe,en,tn){let nn=Fe.getAttribute(en);return nn===null?typeof tn=="function"?tn():tn:nn===""?!0:isBooleanAttr(en)?!![en,"true"].includes(nn):nn}function debounce(Fe,en){var tn;return function(){var nn=this,rn=arguments,an=function(){tn=null,Fe.apply(nn,rn)};clearTimeout(tn),tn=setTimeout(an,en)}}function throttle$1(Fe,en){let tn;return function(){let nn=this,rn=arguments;tn||(Fe.apply(nn,rn),tn=!0,setTimeout(()=>tn=!1,en))}}function entangle({get:Fe,set:en},{get:tn,set:nn}){let rn=!0,an,ln=effect(()=>{const cn=Fe(),un=tn();if(rn)nn(cloneIfObject(cn)),rn=!1,an=JSON.stringify(cn);else{const fn=JSON.stringify(cn);fn!==an?(nn(cloneIfObject(cn)),an=fn):(en(cloneIfObject(un)),an=JSON.stringify(un))}JSON.stringify(tn()),JSON.stringify(Fe())});return()=>{release$1(ln)}}function cloneIfObject(Fe){return typeof Fe=="object"?JSON.parse(JSON.stringify(Fe)):Fe}function plugin(Fe){(Array.isArray(Fe)?Fe:[Fe]).forEach(tn=>tn(alpine_default))}var stores={},isReactive=!1;function store(Fe,en){if(isReactive||(stores=reactive(stores),isReactive=!0),en===void 0)return stores[Fe];stores[Fe]=en,typeof en=="object"&&en!==null&&en.hasOwnProperty("init")&&typeof en.init=="function"&&stores[Fe].init(),initInterceptors2(stores[Fe])}function getStores(){return stores}var binds={};function bind2(Fe,en){let tn=typeof en!="function"?()=>en:en;return Fe instanceof Element?applyBindingsObject(Fe,tn()):(binds[Fe]=tn,()=>{})}function injectBindingProviders(Fe){return Object.entries(binds).forEach(([en,tn])=>{Object.defineProperty(Fe,en,{get(){return(...nn)=>tn(...nn)}})}),Fe}function applyBindingsObject(Fe,en,tn){let nn=[];for(;nn.length;)nn.pop()();let rn=Object.entries(en).map(([ln,cn])=>({name:ln,value:cn})),an=attributesOnly(rn);return rn=rn.map(ln=>an.find(cn=>cn.name===ln.name)?{name:`x-bind:${ln.name}`,value:`"${ln.value}"`}:ln),directives(Fe,rn,tn).map(ln=>{nn.push(ln.runCleanups),ln()}),()=>{for(;nn.length;)nn.pop()()}}var datas={};function data(Fe,en){datas[Fe]=en}function injectDataProviders(Fe,en){return Object.entries(datas).forEach(([tn,nn])=>{Object.defineProperty(Fe,tn,{get(){return(...rn)=>nn.bind(en)(...rn)},enumerable:!1})}),Fe}var Alpine$1={get reactive(){return reactive},get release(){return release$1},get effect(){return effect},get raw(){return raw},version:"3.13.2",flushAndStopDeferringMutations,dontAutoEvaluateFunctions,disableEffectScheduling,startObservingMutations,stopObservingMutations,setReactivityEngine,onAttributeRemoved,onAttributesAdded,closestDataStack,skipDuringClone,onlyDuringClone,addRootSelector,addInitSelector,addScopeToNode,deferMutations,mapAttributes,evaluateLater,interceptInit,setEvaluator,mergeProxies,extractProp,findClosest,onElRemoved,closestRoot,destroyTree,interceptor,transition,setStyles,mutateDom,directive,entangle,throttle:throttle$1,debounce,evaluate,initTree,nextTick,prefixed:prefix,prefix:setPrefix,plugin,magic,store,start:start$1,clone:clone$5,cloneNode,bound:getBinding,$data:scope,walk,data,bind:bind2},alpine_default=Alpine$1;function makeMap(Fe,en){const tn=Object.create(null),nn=Fe.split(",");for(let rn=0;rn<nn.length;rn++)tn[nn[rn]]=!0;return en?rn=>!!tn[rn.toLowerCase()]:rn=>!!tn[rn]}var EMPTY_OBJ$1=Object.freeze({}),hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn$1=(Fe,en)=>hasOwnProperty.call(Fe,en),isArray$2=Array.isArray,isMap=Fe=>toTypeString(Fe)==="[object Map]",isString$1=Fe=>typeof Fe=="string",isSymbol=Fe=>typeof Fe=="symbol",isObject$4=Fe=>Fe!==null&&typeof Fe=="object",objectToString=Object.prototype.toString,toTypeString=Fe=>objectToString.call(Fe),toRawType=Fe=>toTypeString(Fe).slice(8,-1),isIntegerKey=Fe=>isString$1(Fe)&&Fe!=="NaN"&&Fe[0]!=="-"&&""+parseInt(Fe,10)===Fe,cacheStringFunction=Fe=>{const en=Object.create(null);return tn=>en[tn]||(en[tn]=Fe(tn))},capitalize=cacheStringFunction(Fe=>Fe.charAt(0).toUpperCase()+Fe.slice(1)),hasChanged=(Fe,en)=>Fe!==en&&(Fe===Fe||en===en),targetMap=new WeakMap,effectStack=[],activeEffect,ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");function isEffect(Fe){return Fe&&Fe._isEffect===!0}function effect2(Fe,en=EMPTY_OBJ$1){isEffect(Fe)&&(Fe=Fe.raw);const tn=createReactiveEffect(Fe,en);return en.lazy||tn(),tn}function stop$1(Fe){Fe.active&&(cleanup(Fe),Fe.options.onStop&&Fe.options.onStop(),Fe.active=!1)}var uid=0;function createReactiveEffect(Fe,en){const tn=function(){if(!tn.active)return Fe();if(!effectStack.includes(tn)){cleanup(tn);try{return enableTracking(),effectStack.push(tn),activeEffect=tn,Fe()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return tn.id=uid++,tn.allowRecurse=!!en.allowRecurse,tn._isEffect=!0,tn.active=!0,tn.raw=Fe,tn.deps=[],tn.options=en,tn}function cleanup(Fe){const{deps:en}=Fe;if(en.length){for(let tn=0;tn<en.length;tn++)en[tn].delete(Fe);en.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const Fe=trackStack.pop();shouldTrack=Fe===void 0?!0:Fe}function track(Fe,en,tn){if(!shouldTrack||activeEffect===void 0)return;let nn=targetMap.get(Fe);nn||targetMap.set(Fe,nn=new Map);let rn=nn.get(tn);rn||nn.set(tn,rn=new Set),rn.has(activeEffect)||(rn.add(activeEffect),activeEffect.deps.push(rn),activeEffect.options.onTrack&&activeEffect.options.onTrack({effect:activeEffect,target:Fe,type:en,key:tn}))}function trigger$2(Fe,en,tn,nn,rn,an){const ln=targetMap.get(Fe);if(!ln)return;const cn=new Set,un=hn=>{hn&&hn.forEach(pn=>{(pn!==activeEffect||pn.allowRecurse)&&cn.add(pn)})};if(en==="clear")ln.forEach(un);else if(tn==="length"&&isArray$2(Fe))ln.forEach((hn,pn)=>{(pn==="length"||pn>=nn)&&un(hn)});else switch(tn!==void 0&&un(ln.get(tn)),en){case"add":isArray$2(Fe)?isIntegerKey(tn)&&un(ln.get("length")):(un(ln.get(ITERATE_KEY)),isMap(Fe)&&un(ln.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(Fe)||(un(ln.get(ITERATE_KEY)),isMap(Fe)&&un(ln.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(Fe)&&un(ln.get(ITERATE_KEY));break}const fn=hn=>{hn.options.onTrigger&&hn.options.onTrigger({effect:hn,target:Fe,key:tn,type:en,newValue:nn,oldValue:rn,oldTarget:an}),hn.options.scheduler?hn.options.scheduler(hn):hn()};cn.forEach(fn)}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(Fe=>Symbol[Fe]).filter(isSymbol)),get2=createGetter(),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const Fe={};return["includes","indexOf","lastIndexOf"].forEach(en=>{Fe[en]=function(...tn){const nn=toRaw(this);for(let an=0,ln=this.length;an<ln;an++)track(nn,"get",an+"");const rn=nn[en](...tn);return rn===-1||rn===!1?nn[en](...tn.map(toRaw)):rn}}),["push","pop","shift","unshift","splice"].forEach(en=>{Fe[en]=function(...tn){pauseTracking();const nn=toRaw(this)[en].apply(this,tn);return resetTracking(),nn}}),Fe}function createGetter(Fe=!1,en=!1){return function(nn,rn,an){if(rn==="__v_isReactive")return!Fe;if(rn==="__v_isReadonly")return Fe;if(rn==="__v_raw"&&an===(Fe?en?shallowReadonlyMap:readonlyMap:en?shallowReactiveMap:reactiveMap).get(nn))return nn;const ln=isArray$2(nn);if(!Fe&&ln&&hasOwn$1(arrayInstrumentations,rn))return Reflect.get(arrayInstrumentations,rn,an);const cn=Reflect.get(nn,rn,an);return(isSymbol(rn)?builtInSymbols.has(rn):isNonTrackableKeys(rn))||(Fe||track(nn,"get",rn),en)?cn:isRef(cn)?!ln||!isIntegerKey(rn)?cn.value:cn:isObject$4(cn)?Fe?readonly(cn):reactive2(cn):cn}}var set2=createSetter();function createSetter(Fe=!1){return function(tn,nn,rn,an){let ln=tn[nn];if(!Fe&&(rn=toRaw(rn),ln=toRaw(ln),!isArray$2(tn)&&isRef(ln)&&!isRef(rn)))return ln.value=rn,!0;const cn=isArray$2(tn)&&isIntegerKey(nn)?Number(nn)<tn.length:hasOwn$1(tn,nn),un=Reflect.set(tn,nn,rn,an);return tn===toRaw(an)&&(cn?hasChanged(rn,ln)&&trigger$2(tn,"set",nn,rn,ln):trigger$2(tn,"add",nn,rn)),un}}function deleteProperty(Fe,en){const tn=hasOwn$1(Fe,en),nn=Fe[en],rn=Reflect.deleteProperty(Fe,en);return rn&&tn&&trigger$2(Fe,"delete",en,void 0,nn),rn}function has$2(Fe,en){const tn=Reflect.has(Fe,en);return(!isSymbol(en)||!builtInSymbols.has(en))&&track(Fe,"has",en),tn}function ownKeys$1(Fe){return track(Fe,"iterate",isArray$2(Fe)?"length":ITERATE_KEY),Reflect.ownKeys(Fe)}var mutableHandlers={get:get2,set:set2,deleteProperty,has:has$2,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(Fe,en){return console.warn(`Set operation on key "${String(en)}" failed: target is readonly.`,Fe),!0},deleteProperty(Fe,en){return console.warn(`Delete operation on key "${String(en)}" failed: target is readonly.`,Fe),!0}},toReactive=Fe=>isObject$4(Fe)?reactive2(Fe):Fe,toReadonly=Fe=>isObject$4(Fe)?readonly(Fe):Fe,toShallow=Fe=>Fe,getProto=Fe=>Reflect.getPrototypeOf(Fe);function get$1$1(Fe,en,tn=!1,nn=!1){Fe=Fe.__v_raw;const rn=toRaw(Fe),an=toRaw(en);en!==an&&!tn&&track(rn,"get",en),!tn&&track(rn,"get",an);const{has:ln}=getProto(rn),cn=nn?toShallow:tn?toReadonly:toReactive;if(ln.call(rn,en))return cn(Fe.get(en));if(ln.call(rn,an))return cn(Fe.get(an));Fe!==rn&&Fe.get(en)}function has$1$1(Fe,en=!1){const tn=this.__v_raw,nn=toRaw(tn),rn=toRaw(Fe);return Fe!==rn&&!en&&track(nn,"has",Fe),!en&&track(nn,"has",rn),Fe===rn?tn.has(Fe):tn.has(Fe)||tn.has(rn)}function size(Fe,en=!1){return Fe=Fe.__v_raw,!en&&track(toRaw(Fe),"iterate",ITERATE_KEY),Reflect.get(Fe,"size",Fe)}function add$1(Fe){Fe=toRaw(Fe);const en=toRaw(this);return getProto(en).has.call(en,Fe)||(en.add(Fe),trigger$2(en,"add",Fe,Fe)),this}function set$1$1(Fe,en){en=toRaw(en);const tn=toRaw(this),{has:nn,get:rn}=getProto(tn);let an=nn.call(tn,Fe);an?checkIdentityKeys(tn,nn,Fe):(Fe=toRaw(Fe),an=nn.call(tn,Fe));const ln=rn.call(tn,Fe);return tn.set(Fe,en),an?hasChanged(en,ln)&&trigger$2(tn,"set",Fe,en,ln):trigger$2(tn,"add",Fe,en),this}function deleteEntry(Fe){const en=toRaw(this),{has:tn,get:nn}=getProto(en);let rn=tn.call(en,Fe);rn?checkIdentityKeys(en,tn,Fe):(Fe=toRaw(Fe),rn=tn.call(en,Fe));const an=nn?nn.call(en,Fe):void 0,ln=en.delete(Fe);return rn&&trigger$2(en,"delete",Fe,void 0,an),ln}function clear$2(){const Fe=toRaw(this),en=Fe.size!==0,tn=isMap(Fe)?new Map(Fe):new Set(Fe),nn=Fe.clear();return en&&trigger$2(Fe,"clear",void 0,void 0,tn),nn}function createForEach(Fe,en){return function(nn,rn){const an=this,ln=an.__v_raw,cn=toRaw(ln),un=en?toShallow:Fe?toReadonly:toReactive;return!Fe&&track(cn,"iterate",ITERATE_KEY),ln.forEach((fn,hn)=>nn.call(rn,un(fn),un(hn),an))}}function createIterableMethod(Fe,en,tn){return function(...nn){const rn=this.__v_raw,an=toRaw(rn),ln=isMap(an),cn=Fe==="entries"||Fe===Symbol.iterator&&ln,un=Fe==="keys"&&ln,fn=rn[Fe](...nn),hn=tn?toShallow:en?toReadonly:toReactive;return!en&&track(an,"iterate",un?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:pn,done:gn}=fn.next();return gn?{value:pn,done:gn}:{value:cn?[hn(pn[0]),hn(pn[1])]:hn(pn),done:gn}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(Fe){return function(...en){{const tn=en[0]?`on key "${en[0]}" `:"";console.warn(`${capitalize(Fe)} operation ${tn}failed: target is readonly.`,toRaw(this))}return Fe==="delete"?!1:this}}function createInstrumentations(){const Fe={get(an){return get$1$1(this,an)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!1)},en={get(an){return get$1$1(this,an,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!0)},tn={get(an){return get$1$1(this,an,!0)},get size(){return size(this,!0)},has(an){return has$1$1.call(this,an,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},nn={get(an){return get$1$1(this,an,!0,!0)},get size(){return size(this,!0)},has(an){return has$1$1.call(this,an,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(an=>{Fe[an]=createIterableMethod(an,!1,!1),tn[an]=createIterableMethod(an,!0,!1),en[an]=createIterableMethod(an,!1,!0),nn[an]=createIterableMethod(an,!0,!0)}),[Fe,tn,en,nn]}var[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(Fe,en){const tn=en?Fe?shallowReadonlyInstrumentations:shallowInstrumentations:Fe?readonlyInstrumentations:mutableInstrumentations;return(nn,rn,an)=>rn==="__v_isReactive"?!Fe:rn==="__v_isReadonly"?Fe:rn==="__v_raw"?nn:Reflect.get(hasOwn$1(tn,rn)&&rn in nn?tn:nn,rn,an)}var mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)};function checkIdentityKeys(Fe,en,tn){const nn=toRaw(tn);if(nn!==tn&&en.call(Fe,nn)){const rn=toRawType(Fe);console.warn(`Reactive ${rn} contains both the raw and reactive versions of the same object${rn==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(Fe){switch(Fe){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(Fe){return Fe.__v_skip||!Object.isExtensible(Fe)?0:targetTypeMap(toRawType(Fe))}function reactive2(Fe){return Fe&&Fe.__v_isReadonly?Fe:createReactiveObject(Fe,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(Fe){return createReactiveObject(Fe,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(Fe,en,tn,nn,rn){if(!isObject$4(Fe))return console.warn(`value cannot be made reactive: ${String(Fe)}`),Fe;if(Fe.__v_raw&&!(en&&Fe.__v_isReactive))return Fe;const an=rn.get(Fe);if(an)return an;const ln=getTargetType(Fe);if(ln===0)return Fe;const cn=new Proxy(Fe,ln===2?nn:tn);return rn.set(Fe,cn),cn}function toRaw(Fe){return Fe&&toRaw(Fe.__v_raw)||Fe}function isRef(Fe){return!!(Fe&&Fe.__v_isRef===!0)}magic("nextTick",()=>nextTick);magic("dispatch",Fe=>dispatch.bind(dispatch,Fe));magic("watch",(Fe,{evaluateLater:en,effect:tn})=>(nn,rn)=>{let an=en(nn),ln=!0,cn,un=tn(()=>an(fn=>{JSON.stringify(fn),ln?cn=fn:queueMicrotask(()=>{rn(fn,cn),cn=fn}),ln=!1}));Fe._x_effects.delete(un)});magic("store",getStores);magic("data",Fe=>scope(Fe));magic("root",Fe=>closestRoot(Fe));magic("refs",Fe=>(Fe._x_refs_proxy||(Fe._x_refs_proxy=mergeProxies(getArrayOfRefObject(Fe))),Fe._x_refs_proxy));function getArrayOfRefObject(Fe){let en=[],tn=Fe;for(;tn;)tn._x_refs&&en.push(tn._x_refs),tn=tn.parentNode;return en}var globalIdMemo={};function findAndIncrementId(Fe){return globalIdMemo[Fe]||(globalIdMemo[Fe]=0),++globalIdMemo[Fe]}function closestIdRoot(Fe,en){return findClosest(Fe,tn=>{if(tn._x_ids&&tn._x_ids[en])return!0})}function setIdRoot(Fe,en){Fe._x_ids||(Fe._x_ids={}),Fe._x_ids[en]||(Fe._x_ids[en]=findAndIncrementId(en))}magic("id",Fe=>(en,tn=null)=>{let nn=closestIdRoot(Fe,en),rn=nn?nn._x_ids[en]:findAndIncrementId(en);return tn?`${en}-${rn}-${tn}`:`${en}-${rn}`});magic("el",Fe=>Fe);warnMissingPluginMagic("Focus","focus","focus");warnMissingPluginMagic("Persist","persist","persist");function warnMissingPluginMagic(Fe,en,tn){magic(en,nn=>warn$1(`You can't use [$${en}] without first installing the "${Fe}" plugin here: https://alpinejs.dev/plugins/${tn}`,nn))}directive("modelable",(Fe,{expression:en},{effect:tn,evaluateLater:nn,cleanup:rn})=>{let an=nn(en),ln=()=>{let hn;return an(pn=>hn=pn),hn},cn=nn(`${en} = __placeholder`),un=hn=>cn(()=>{},{scope:{__placeholder:hn}}),fn=ln();un(fn),queueMicrotask(()=>{if(!Fe._x_model)return;Fe._x_removeModelListeners.default();let hn=Fe._x_model.get,pn=Fe._x_model.set,gn=entangle({get(){return hn()},set(mn){pn(mn)}},{get(){return ln()},set(mn){un(mn)}});rn(gn)})});directive("teleport",(Fe,{modifiers:en,expression:tn},{cleanup:nn})=>{Fe.tagName.toLowerCase()!=="template"&&warn$1("x-teleport can only be used on a <template> tag",Fe);let rn=getTarget(tn),an=Fe.content.cloneNode(!0).firstElementChild;Fe._x_teleport=an,an._x_teleportBack=Fe,Fe.setAttribute("data-teleport-template",!0),an.setAttribute("data-teleport-target",!0),Fe._x_forwardEvents&&Fe._x_forwardEvents.forEach(cn=>{an.addEventListener(cn,un=>{un.stopPropagation(),Fe.dispatchEvent(new un.constructor(un.type,un))})}),addScopeToNode(an,{},Fe);let ln=(cn,un,fn)=>{fn.includes("prepend")?un.parentNode.insertBefore(cn,un):fn.includes("append")?un.parentNode.insertBefore(cn,un.nextSibling):un.appendChild(cn)};mutateDom(()=>{ln(an,rn,en),initTree(an),an._x_ignore=!0}),Fe._x_teleportPutBack=()=>{let cn=getTarget(tn);mutateDom(()=>{ln(Fe._x_teleport,cn,en)})},nn(()=>an.remove())});var teleportContainerDuringClone=document.createElement("div");function getTarget(Fe){let en=skipDuringClone(()=>document.querySelector(Fe),()=>teleportContainerDuringClone)();return en||warn$1(`Cannot find x-teleport element for selector: "${Fe}"`),en}var handler=()=>{};handler.inline=(Fe,{modifiers:en},{cleanup:tn})=>{en.includes("self")?Fe._x_ignoreSelf=!0:Fe._x_ignore=!0,tn(()=>{en.includes("self")?delete Fe._x_ignoreSelf:delete Fe._x_ignore})};directive("ignore",handler);directive("effect",(Fe,{expression:en},{effect:tn})=>tn(evaluateLater(Fe,en)));function on(Fe,en,tn,nn){let rn=Fe,an=un=>nn(un),ln={},cn=(un,fn)=>hn=>fn(un,hn);if(tn.includes("dot")&&(en=dotSyntax(en)),tn.includes("camel")&&(en=camelCase2(en)),tn.includes("passive")&&(ln.passive=!0),tn.includes("capture")&&(ln.capture=!0),tn.includes("window")&&(rn=window),tn.includes("document")&&(rn=document),tn.includes("debounce")){let un=tn[tn.indexOf("debounce")+1]||"invalid-wait",fn=isNumeric$1(un.split("ms")[0])?Number(un.split("ms")[0]):250;an=debounce(an,fn)}if(tn.includes("throttle")){let un=tn[tn.indexOf("throttle")+1]||"invalid-wait",fn=isNumeric$1(un.split("ms")[0])?Number(un.split("ms")[0]):250;an=throttle$1(an,fn)}return tn.includes("prevent")&&(an=cn(an,(un,fn)=>{fn.preventDefault(),un(fn)})),tn.includes("stop")&&(an=cn(an,(un,fn)=>{fn.stopPropagation(),un(fn)})),tn.includes("self")&&(an=cn(an,(un,fn)=>{fn.target===Fe&&un(fn)})),(tn.includes("away")||tn.includes("outside"))&&(rn=document,an=cn(an,(un,fn)=>{Fe.contains(fn.target)||fn.target.isConnected!==!1&&(Fe.offsetWidth<1&&Fe.offsetHeight<1||Fe._x_isShown!==!1&&un(fn))})),tn.includes("once")&&(an=cn(an,(un,fn)=>{un(fn),rn.removeEventListener(en,an,ln)})),an=cn(an,(un,fn)=>{isKeyEvent(en)&&isListeningForASpecificKeyThatHasntBeenPressed(fn,tn)||un(fn)}),rn.addEventListener(en,an,ln),()=>{rn.removeEventListener(en,an,ln)}}function dotSyntax(Fe){return Fe.replace(/-/g,".")}function camelCase2(Fe){return Fe.toLowerCase().replace(/-(\w)/g,(en,tn)=>tn.toUpperCase())}function isNumeric$1(Fe){return!Array.isArray(Fe)&&!isNaN(Fe)}function kebabCase2(Fe){return[" ","_"].includes(Fe)?Fe:Fe.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(Fe){return["keydown","keyup"].includes(Fe)}function isListeningForASpecificKeyThatHasntBeenPressed(Fe,en){let tn=en.filter(an=>!["window","document","prevent","stop","once","capture"].includes(an));if(tn.includes("debounce")){let an=tn.indexOf("debounce");tn.splice(an,isNumeric$1((tn[an+1]||"invalid-wait").split("ms")[0])?2:1)}if(tn.includes("throttle")){let an=tn.indexOf("throttle");tn.splice(an,isNumeric$1((tn[an+1]||"invalid-wait").split("ms")[0])?2:1)}if(tn.length===0||tn.length===1&&keyToModifiers(Fe.key).includes(tn[0]))return!1;const rn=["ctrl","shift","alt","meta","cmd","super"].filter(an=>tn.includes(an));return tn=tn.filter(an=>!rn.includes(an)),!(rn.length>0&&rn.filter(ln=>((ln==="cmd"||ln==="super")&&(ln="meta"),Fe[`${ln}Key`])).length===rn.length&&keyToModifiers(Fe.key).includes(tn[0]))}function keyToModifiers(Fe){if(!Fe)return[];Fe=kebabCase2(Fe);let en={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return en[Fe]=Fe,Object.keys(en).map(tn=>{if(en[tn]===Fe)return tn}).filter(tn=>tn)}directive("model",(Fe,{modifiers:en,expression:tn},{effect:nn,cleanup:rn})=>{let an=Fe;en.includes("parent")&&(an=Fe.parentNode);let ln=evaluateLater(an,tn),cn;typeof tn=="string"?cn=evaluateLater(an,`${tn} = __placeholder`):typeof tn=="function"&&typeof tn()=="string"?cn=evaluateLater(an,`${tn()} = __placeholder`):cn=()=>{};let un=()=>{let gn;return ln(mn=>gn=mn),isGetterSetter(gn)?gn.get():gn},fn=gn=>{let mn;ln(_n=>mn=_n),isGetterSetter(mn)?mn.set(gn):cn(()=>{},{scope:{__placeholder:gn}})};typeof tn=="string"&&Fe.type==="radio"&&mutateDom(()=>{Fe.hasAttribute("name")||Fe.setAttribute("name",tn)});var hn=Fe.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(Fe.type)||en.includes("lazy")?"change":"input";let pn=isCloning?()=>{}:on(Fe,hn,en,gn=>{fn(getInputValue(Fe,en,gn,un()))});if(en.includes("fill")&&([null,""].includes(un())||Fe.type==="checkbox"&&Array.isArray(un()))&&Fe.dispatchEvent(new Event(hn,{})),Fe._x_removeModelListeners||(Fe._x_removeModelListeners={}),Fe._x_removeModelListeners.default=pn,rn(()=>Fe._x_removeModelListeners.default()),Fe.form){let gn=on(Fe.form,"reset",[],mn=>{nextTick(()=>Fe._x_model&&Fe._x_model.set(Fe.value))});rn(()=>gn())}Fe._x_model={get(){return un()},set(gn){fn(gn)}},Fe._x_forceModelUpdate=gn=>{gn===void 0&&typeof tn=="string"&&tn.match(/\./)&&(gn=""),window.fromModel=!0,mutateDom(()=>bind$2(Fe,"value",gn)),delete window.fromModel},nn(()=>{let gn=un();en.includes("unintrusive")&&document.activeElement.isSameNode(Fe)||Fe._x_forceModelUpdate(gn)})});function getInputValue(Fe,en,tn,nn){return mutateDom(()=>{if(tn instanceof CustomEvent&&tn.detail!==void 0)return tn.detail!==null&&tn.detail!==void 0?tn.detail:tn.target.value;if(Fe.type==="checkbox")if(Array.isArray(nn)){let rn=en.includes("number")?safeParseNumber(tn.target.value):tn.target.value;return tn.target.checked?nn.concat([rn]):nn.filter(an=>!checkedAttrLooseCompare2(an,rn))}else return tn.target.checked;else{if(Fe.tagName.toLowerCase()==="select"&&Fe.multiple)return en.includes("number")?Array.from(tn.target.selectedOptions).map(rn=>{let an=rn.value||rn.text;return safeParseNumber(an)}):Array.from(tn.target.selectedOptions).map(rn=>rn.value||rn.text);{let rn=tn.target.value;return en.includes("number")?safeParseNumber(rn):en.includes("trim")?rn.trim():rn}}})}function safeParseNumber(Fe){let en=Fe?parseFloat(Fe):null;return isNumeric2(en)?en:Fe}function checkedAttrLooseCompare2(Fe,en){return Fe==en}function isNumeric2(Fe){return!Array.isArray(Fe)&&!isNaN(Fe)}function isGetterSetter(Fe){return Fe!==null&&typeof Fe=="object"&&typeof Fe.get=="function"&&typeof Fe.set=="function"}directive("cloak",Fe=>queueMicrotask(()=>mutateDom(()=>Fe.removeAttribute(prefix("cloak")))));addInitSelector(()=>`[${prefix("init")}]`);directive("init",skipDuringClone((Fe,{expression:en},{evaluate:tn})=>typeof en=="string"?!!en.trim()&&tn(en,{},!1):tn(en,{},!1)));directive("text",(Fe,{expression:en},{effect:tn,evaluateLater:nn})=>{let rn=nn(en);tn(()=>{rn(an=>{mutateDom(()=>{Fe.textContent=an})})})});directive("html",(Fe,{expression:en},{effect:tn,evaluateLater:nn})=>{let rn=nn(en);tn(()=>{rn(an=>{mutateDom(()=>{Fe.innerHTML=an,Fe._x_ignoreSelf=!0,initTree(Fe),delete Fe._x_ignoreSelf})})})});mapAttributes(startingWith(":",into(prefix("bind:"))));var handler2=(Fe,{value:en,modifiers:tn,expression:nn,original:rn},{effect:an})=>{if(!en){let cn={};injectBindingProviders(cn),evaluateLater(Fe,nn)(fn=>{applyBindingsObject(Fe,fn,rn)},{scope:cn});return}if(en==="key")return storeKeyForXFor(Fe,nn);if(Fe._x_inlineBindings&&Fe._x_inlineBindings[en]&&Fe._x_inlineBindings[en].extract)return;let ln=evaluateLater(Fe,nn);an(()=>ln(cn=>{cn===void 0&&typeof nn=="string"&&nn.match(/\./)&&(cn=""),mutateDom(()=>bind$2(Fe,en,cn,tn))}))};handler2.inline=(Fe,{value:en,modifiers:tn,expression:nn})=>{en&&(Fe._x_inlineBindings||(Fe._x_inlineBindings={}),Fe._x_inlineBindings[en]={expression:nn,extract:!1})};directive("bind",handler2);function storeKeyForXFor(Fe,en){Fe._x_keyExpression=en}addRootSelector(()=>`[${prefix("data")}]`);directive("data",(Fe,{expression:en},{cleanup:tn})=>{if(shouldSkipRegisteringDataDuringClone(Fe))return;en=en===""?"{}":en;let nn={};injectMagics(nn,Fe);let rn={};injectDataProviders(rn,nn);let an=evaluate(Fe,en,{scope:rn});(an===void 0||an===!0)&&(an={}),injectMagics(an,Fe);let ln=reactive(an);initInterceptors2(ln);let cn=addScopeToNode(Fe,ln);ln.init&&evaluate(Fe,ln.init),tn(()=>{ln.destroy&&evaluate(Fe,ln.destroy),cn()})});directive("show",(Fe,{modifiers:en,expression:tn},{effect:nn})=>{let rn=evaluateLater(Fe,tn);Fe._x_doHide||(Fe._x_doHide=()=>{mutateDom(()=>{Fe.style.setProperty("display","none",en.includes("important")?"important":void 0)})}),Fe._x_doShow||(Fe._x_doShow=()=>{mutateDom(()=>{Fe.style.length===1&&Fe.style.display==="none"?Fe.removeAttribute("style"):Fe.style.removeProperty("display")})});let an=()=>{Fe._x_doHide(),Fe._x_isShown=!1},ln=()=>{Fe._x_doShow(),Fe._x_isShown=!0},cn=()=>setTimeout(ln),un=once(pn=>pn?ln():an(),pn=>{typeof Fe._x_toggleAndCascadeWithTransitions=="function"?Fe._x_toggleAndCascadeWithTransitions(Fe,pn,ln,an):pn?cn():an()}),fn,hn=!0;nn(()=>rn(pn=>{!hn&&pn===fn||(en.includes("immediate")&&(pn?cn():an()),un(pn),fn=pn,hn=!1)}))});directive("for",(Fe,{expression:en},{effect:tn,cleanup:nn})=>{let rn=parseForExpression(en),an=evaluateLater(Fe,rn.items),ln=evaluateLater(Fe,Fe._x_keyExpression||"index");Fe._x_prevKeys=[],Fe._x_lookup={},tn(()=>loop(Fe,rn,an,ln)),nn(()=>{Object.values(Fe._x_lookup).forEach(cn=>cn.remove()),delete Fe._x_prevKeys,delete Fe._x_lookup})});function loop(Fe,en,tn,nn){let rn=ln=>typeof ln=="object"&&!Array.isArray(ln),an=Fe;tn(ln=>{isNumeric3(ln)&&ln>=0&&(ln=Array.from(Array(ln).keys(),Cn=>Cn+1)),ln===void 0&&(ln=[]);let cn=Fe._x_lookup,un=Fe._x_prevKeys,fn=[],hn=[];if(rn(ln))ln=Object.entries(ln).map(([Cn,xn])=>{let Sn=getIterationScopeVariables(en,xn,Cn,ln);nn(Mn=>hn.push(Mn),{scope:{index:Cn,...Sn}}),fn.push(Sn)});else for(let Cn=0;Cn<ln.length;Cn++){let xn=getIterationScopeVariables(en,ln[Cn],Cn,ln);nn(Sn=>hn.push(Sn),{scope:{index:Cn,...xn}}),fn.push(xn)}let pn=[],gn=[],mn=[],_n=[];for(let Cn=0;Cn<un.length;Cn++){let xn=un[Cn];hn.indexOf(xn)===-1&&mn.push(xn)}un=un.filter(Cn=>!mn.includes(Cn));let kn="template";for(let Cn=0;Cn<hn.length;Cn++){let xn=hn[Cn],Sn=un.indexOf(xn);if(Sn===-1)un.splice(Cn,0,xn),pn.push([kn,Cn]);else if(Sn!==Cn){let Mn=un.splice(Cn,1)[0],In=un.splice(Sn-1,1)[0];un.splice(Cn,0,In),un.splice(Sn,0,Mn),gn.push([Mn,In])}else _n.push(xn);kn=xn}for(let Cn=0;Cn<mn.length;Cn++){let xn=mn[Cn];cn[xn]._x_effects&&cn[xn]._x_effects.forEach(dequeueJob),cn[xn].remove(),cn[xn]=null,delete cn[xn]}for(let Cn=0;Cn<gn.length;Cn++){let[xn,Sn]=gn[Cn],Mn=cn[xn],In=cn[Sn],On=document.createElement("div");mutateDom(()=>{In||warn$1('x-for ":key" is undefined or invalid',an),In.after(On),Mn.after(In),In._x_currentIfEl&&In.after(In._x_currentIfEl),On.before(Mn),Mn._x_currentIfEl&&Mn.after(Mn._x_currentIfEl),On.remove()}),In._x_refreshXForScope(fn[hn.indexOf(Sn)])}for(let Cn=0;Cn<pn.length;Cn++){let[xn,Sn]=pn[Cn],Mn=xn==="template"?an:cn[xn];Mn._x_currentIfEl&&(Mn=Mn._x_currentIfEl);let In=fn[Sn],On=hn[Sn],Pn=document.importNode(an.content,!0).firstElementChild,Tn=reactive(In);addScopeToNode(Pn,Tn,an),Pn._x_refreshXForScope=Nn=>{Object.entries(Nn).forEach(([Hn,Un])=>{Tn[Hn]=Un})},mutateDom(()=>{Mn.after(Pn),initTree(Pn)}),typeof On=="object"&&warn$1("x-for key cannot be an object, it must be a string or an integer",an),cn[On]=Pn}for(let Cn=0;Cn<_n.length;Cn++)cn[_n[Cn]]._x_refreshXForScope(fn[hn.indexOf(_n[Cn])]);an._x_prevKeys=hn})}function parseForExpression(Fe){let en=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,tn=/^\s*\(|\)\s*$/g,nn=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,rn=Fe.match(nn);if(!rn)return;let an={};an.items=rn[2].trim();let ln=rn[1].replace(tn,"").trim(),cn=ln.match(en);return cn?(an.item=ln.replace(en,"").trim(),an.index=cn[1].trim(),cn[2]&&(an.collection=cn[2].trim())):an.item=ln,an}function getIterationScopeVariables(Fe,en,tn,nn){let rn={};return/^\[.*\]$/.test(Fe.item)&&Array.isArray(en)?Fe.item.replace("[","").replace("]","").split(",").map(ln=>ln.trim()).forEach((ln,cn)=>{rn[ln]=en[cn]}):/^\{.*\}$/.test(Fe.item)&&!Array.isArray(en)&&typeof en=="object"?Fe.item.replace("{","").replace("}","").split(",").map(ln=>ln.trim()).forEach(ln=>{rn[ln]=en[ln]}):rn[Fe.item]=en,Fe.index&&(rn[Fe.index]=tn),Fe.collection&&(rn[Fe.collection]=nn),rn}function isNumeric3(Fe){return!Array.isArray(Fe)&&!isNaN(Fe)}function handler3(){}handler3.inline=(Fe,{expression:en},{cleanup:tn})=>{let nn=closestRoot(Fe);nn._x_refs||(nn._x_refs={}),nn._x_refs[en]=Fe,tn(()=>delete nn._x_refs[en])};directive("ref",handler3);directive("if",(Fe,{expression:en},{effect:tn,cleanup:nn})=>{Fe.tagName.toLowerCase()!=="template"&&warn$1("x-if can only be used on a <template> tag",Fe);let rn=evaluateLater(Fe,en),an=()=>{if(Fe._x_currentIfEl)return Fe._x_currentIfEl;let cn=Fe.content.cloneNode(!0).firstElementChild;return addScopeToNode(cn,{},Fe),mutateDom(()=>{Fe.after(cn),initTree(cn)}),Fe._x_currentIfEl=cn,Fe._x_undoIf=()=>{walk(cn,un=>{un._x_effects&&un._x_effects.forEach(dequeueJob)}),cn.remove(),delete Fe._x_currentIfEl},cn},ln=()=>{Fe._x_undoIf&&(Fe._x_undoIf(),delete Fe._x_undoIf)};tn(()=>rn(cn=>{cn?an():ln()})),nn(()=>Fe._x_undoIf&&Fe._x_undoIf())});directive("id",(Fe,{expression:en},{evaluate:tn})=>{tn(en).forEach(rn=>setIdRoot(Fe,rn))});mapAttributes(startingWith("@",into(prefix("on:"))));directive("on",skipDuringClone((Fe,{value:en,modifiers:tn,expression:nn},{cleanup:rn})=>{let an=nn?evaluateLater(Fe,nn):()=>{};Fe.tagName.toLowerCase()==="template"&&(Fe._x_forwardEvents||(Fe._x_forwardEvents=[]),Fe._x_forwardEvents.includes(en)||Fe._x_forwardEvents.push(en));let ln=on(Fe,en,tn,cn=>{an(()=>{},{scope:{$event:cn},params:[cn]})});rn(()=>ln())}));warnMissingPluginDirective("Collapse","collapse","collapse");warnMissingPluginDirective("Intersect","intersect","intersect");warnMissingPluginDirective("Focus","trap","focus");warnMissingPluginDirective("Mask","mask","mask");function warnMissingPluginDirective(Fe,en,tn){directive(en,nn=>warn$1(`You can't use [x-${en}] without first installing the "${Fe}" plugin here: https://alpinejs.dev/plugins/${tn}`,nn))}alpine_default.setEvaluator(normalEvaluator);alpine_default.setReactivityEngine({reactive:reactive2,effect:effect2,release:stop$1,raw:toRaw});var src_default$6=alpine_default,module_default$6=src_default$6;function src_default$5(Fe){let en=()=>{let tn,nn;try{nn=localStorage}catch(rn){console.error(rn),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let an=new Map;nn={getItem:an.get.bind(an),setItem:an.set.bind(an)}}return Fe.interceptor((rn,an,ln,cn,un)=>{let fn=tn||`_x_${cn}`,hn=storageHas(fn,nn)?storageGet(fn,nn):rn;return ln(hn),Fe.effect(()=>{let pn=an();storageSet(fn,pn,nn),ln(pn)}),hn},rn=>{rn.as=an=>(tn=an,rn),rn.using=an=>(nn=an,rn)})};Object.defineProperty(Fe,"$persist",{get:()=>en()}),Fe.magic("persist",en),Fe.persist=(tn,{get:nn,set:rn},an=localStorage)=>{let ln=storageHas(tn,an)?storageGet(tn,an):nn();rn(ln),Fe.effect(()=>{let cn=nn();storageSet(tn,cn,an),rn(cn)})}}function storageHas(Fe,en){return en.getItem(Fe)!==null}function storageGet(Fe,en){return JSON.parse(en.getItem(Fe,en))}function storageSet(Fe,en,tn){tn.setItem(Fe,JSON.stringify(en))}var module_default$5=src_default$5,candidateSelectors=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],candidateSelector=candidateSelectors.join(","),NoElement=typeof Element>"u",matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(Fe){return Fe.getRootNode()}:function(Fe){return Fe.ownerDocument},getCandidates=function(en,tn,nn){var rn=Array.prototype.slice.apply(en.querySelectorAll(candidateSelector));return tn&&matches.call(en,candidateSelector)&&rn.unshift(en),rn=rn.filter(nn),rn},getCandidatesIteratively=function Fe(en,tn,nn){for(var rn=[],an=Array.from(en);an.length;){var ln=an.shift();if(ln.tagName==="SLOT"){var cn=ln.assignedElements(),un=cn.length?cn:ln.children,fn=Fe(un,!0,nn);nn.flatten?rn.push.apply(rn,fn):rn.push({scope:ln,candidates:fn})}else{var hn=matches.call(ln,candidateSelector);hn&&nn.filter(ln)&&(tn||!en.includes(ln))&&rn.push(ln);var pn=ln.shadowRoot||typeof nn.getShadowRoot=="function"&&nn.getShadowRoot(ln),gn=!nn.shadowRootFilter||nn.shadowRootFilter(ln);if(pn&&gn){var mn=Fe(pn===!0?ln.children:pn.children,!0,nn);nn.flatten?rn.push.apply(rn,mn):rn.push({scope:ln,candidates:mn})}else an.unshift.apply(an,ln.children)}}return rn},getTabindex=function(en,tn){return en.tabIndex<0&&(tn||/^(AUDIO|VIDEO|DETAILS)$/.test(en.tagName)||en.isContentEditable)&&isNaN(parseInt(en.getAttribute("tabindex"),10))?0:en.tabIndex},sortOrderedTabbables=function(en,tn){return en.tabIndex===tn.tabIndex?en.documentOrder-tn.documentOrder:en.tabIndex-tn.tabIndex},isInput=function(en){return en.tagName==="INPUT"},isHiddenInput=function(en){return isInput(en)&&en.type==="hidden"},isDetailsWithSummary=function(en){var tn=en.tagName==="DETAILS"&&Array.prototype.slice.apply(en.children).some(function(nn){return nn.tagName==="SUMMARY"});return tn},getCheckedRadio=function(en,tn){for(var nn=0;nn<en.length;nn++)if(en[nn].checked&&en[nn].form===tn)return en[nn]},isTabbableRadio=function(en){if(!en.name)return!0;var tn=en.form||getRootNode(en),nn=function(cn){return tn.querySelectorAll('input[type="radio"][name="'+cn+'"]')},rn;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")rn=nn(window.CSS.escape(en.name));else try{rn=nn(en.name)}catch(ln){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",ln.message),!1}var an=getCheckedRadio(rn,en.form);return!an||an===en},isRadio=function(en){return isInput(en)&&en.type==="radio"},isNonTabbableRadio=function(en){return isRadio(en)&&!isTabbableRadio(en)},isZeroArea=function(en){var tn=en.getBoundingClientRect(),nn=tn.width,rn=tn.height;return nn===0&&rn===0},isHidden=function(en,tn){var nn=tn.displayCheck,rn=tn.getShadowRoot;if(getComputedStyle(en).visibility==="hidden")return!0;var an=matches.call(en,"details>summary:first-of-type"),ln=an?en.parentElement:en;if(matches.call(ln,"details:not([open]) *"))return!0;var cn=getRootNode(en).host,un=(cn==null?void 0:cn.ownerDocument.contains(cn))||en.ownerDocument.contains(en);if(!nn||nn==="full"){if(typeof rn=="function"){for(var fn=en;en;){var hn=en.parentElement,pn=getRootNode(en);if(hn&&!hn.shadowRoot&&rn(hn)===!0)return isZeroArea(en);en.assignedSlot?en=en.assignedSlot:!hn&&pn!==en.ownerDocument?en=pn.host:en=hn}en=fn}if(un)return!en.getClientRects().length}else if(nn==="non-zero-area")return isZeroArea(en);return!1},isDisabledFromFieldset=function(en){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(en.tagName))for(var tn=en.parentElement;tn;){if(tn.tagName==="FIELDSET"&&tn.disabled){for(var nn=0;nn<tn.children.length;nn++){var rn=tn.children.item(nn);if(rn.tagName==="LEGEND")return matches.call(tn,"fieldset[disabled] *")?!0:!rn.contains(en)}return!0}tn=tn.parentElement}return!1},isNodeMatchingSelectorFocusable=function(en,tn){return!(tn.disabled||isHiddenInput(tn)||isHidden(tn,en)||isDetailsWithSummary(tn)||isDisabledFromFieldset(tn))},isNodeMatchingSelectorTabbable=function(en,tn){return!(isNonTabbableRadio(tn)||getTabindex(tn)<0||!isNodeMatchingSelectorFocusable(en,tn))},isValidShadowRootTabbable=function(en){var tn=parseInt(en.getAttribute("tabindex"),10);return!!(isNaN(tn)||tn>=0)},sortByOrder=function Fe(en){var tn=[],nn=[];return en.forEach(function(rn,an){var ln=!!rn.scope,cn=ln?rn.scope:rn,un=getTabindex(cn,ln),fn=ln?Fe(rn.candidates):cn;un===0?ln?tn.push.apply(tn,fn):tn.push(cn):nn.push({documentOrder:an,tabIndex:un,item:rn,isScope:ln,content:fn})}),nn.sort(sortOrderedTabbables).reduce(function(rn,an){return an.isScope?rn.push.apply(rn,an.content):rn.push(an.content),rn},[]).concat(tn)},tabbable=function(en,tn){tn=tn||{};var nn;return tn.getShadowRoot?nn=getCandidatesIteratively([en],tn.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,tn),flatten:!1,getShadowRoot:tn.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):nn=getCandidates(en,tn.includeContainer,isNodeMatchingSelectorTabbable.bind(null,tn)),sortByOrder(nn)},focusable=function(en,tn){tn=tn||{};var nn;return tn.getShadowRoot?nn=getCandidatesIteratively([en],tn.includeContainer,{filter:isNodeMatchingSelectorFocusable.bind(null,tn),flatten:!0,getShadowRoot:tn.getShadowRoot}):nn=getCandidates(en,tn.includeContainer,isNodeMatchingSelectorFocusable.bind(null,tn)),nn},isTabbable=function(en,tn){if(tn=tn||{},!en)throw new Error("No node provided");return matches.call(en,candidateSelector)===!1?!1:isNodeMatchingSelectorTabbable(tn,en)},focusableCandidateSelector=candidateSelectors.concat("iframe").join(","),isFocusable=function(en,tn){if(tn=tn||{},!en)throw new Error("No node provided");return matches.call(en,focusableCandidateSelector)===!1?!1:isNodeMatchingSelectorFocusable(tn,en)};function ownKeys(Fe,en){var tn=Object.keys(Fe);if(Object.getOwnPropertySymbols){var nn=Object.getOwnPropertySymbols(Fe);en&&(nn=nn.filter(function(rn){return Object.getOwnPropertyDescriptor(Fe,rn).enumerable})),tn.push.apply(tn,nn)}return tn}function _objectSpread2(Fe){for(var en=1;en<arguments.length;en++){var tn=arguments[en]!=null?arguments[en]:{};en%2?ownKeys(Object(tn),!0).forEach(function(nn){_defineProperty(Fe,nn,tn[nn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fe,Object.getOwnPropertyDescriptors(tn)):ownKeys(Object(tn)).forEach(function(nn){Object.defineProperty(Fe,nn,Object.getOwnPropertyDescriptor(tn,nn))})}return Fe}function _defineProperty(Fe,en,tn){return en in Fe?Object.defineProperty(Fe,en,{value:tn,enumerable:!0,configurable:!0,writable:!0}):Fe[en]=tn,Fe}var activeFocusTraps=function(){var Fe=[];return{activateTrap:function(tn){if(Fe.length>0){var nn=Fe[Fe.length-1];nn!==tn&&nn.pause()}var rn=Fe.indexOf(tn);rn===-1||Fe.splice(rn,1),Fe.push(tn)},deactivateTrap:function(tn){var nn=Fe.indexOf(tn);nn!==-1&&Fe.splice(nn,1),Fe.length>0&&Fe[Fe.length-1].unpause()}}}(),isSelectableInput=function(en){return en.tagName&&en.tagName.toLowerCase()==="input"&&typeof en.select=="function"},isEscapeEvent=function(en){return en.key==="Escape"||en.key==="Esc"||en.keyCode===27},isTabEvent=function(en){return en.key==="Tab"||en.keyCode===9},delay=function(en){return setTimeout(en,0)},findIndex=function(en,tn){var nn=-1;return en.every(function(rn,an){return tn(rn)?(nn=an,!1):!0}),nn},valueOrHandler=function(en){for(var tn=arguments.length,nn=new Array(tn>1?tn-1:0),rn=1;rn<tn;rn++)nn[rn-1]=arguments[rn];return typeof en=="function"?en.apply(void 0,nn):en},getActualTarget=function(en){return en.target.shadowRoot&&typeof en.composedPath=="function"?en.composedPath()[0]:en.target},createFocusTrap=function(en,tn){var nn=(tn==null?void 0:tn.document)||document,rn=_objectSpread2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},tn),an={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},ln,cn=function(Pn,Tn,Nn){return Pn&&Pn[Tn]!==void 0?Pn[Tn]:rn[Nn||Tn]},un=function(Pn){return an.containerGroups.findIndex(function(Tn){var Nn=Tn.container,Hn=Tn.tabbableNodes;return Nn.contains(Pn)||Hn.find(function(Un){return Un===Pn})})},fn=function(Pn){var Tn=rn[Pn];if(typeof Tn=="function"){for(var Nn=arguments.length,Hn=new Array(Nn>1?Nn-1:0),Un=1;Un<Nn;Un++)Hn[Un-1]=arguments[Un];Tn=Tn.apply(void 0,Hn)}if(Tn===!0&&(Tn=void 0),!Tn){if(Tn===void 0||Tn===!1)return Tn;throw new Error("`".concat(Pn,"` was specified but was not a node, or did not return a node"))}var jn=Tn;if(typeof Tn=="string"&&(jn=nn.querySelector(Tn),!jn))throw new Error("`".concat(Pn,"` as selector refers to no known node"));return jn},hn=function(){var Pn=fn("initialFocus");if(Pn===!1)return!1;if(Pn===void 0)if(un(nn.activeElement)>=0)Pn=nn.activeElement;else{var Tn=an.tabbableGroups[0],Nn=Tn&&Tn.firstTabbableNode;Pn=Nn||fn("fallbackFocus")}if(!Pn)throw new Error("Your focus-trap needs to have at least one focusable element");return Pn},pn=function(){if(an.containerGroups=an.containers.map(function(Pn){var Tn=tabbable(Pn,rn.tabbableOptions),Nn=focusable(Pn,rn.tabbableOptions);return{container:Pn,tabbableNodes:Tn,focusableNodes:Nn,firstTabbableNode:Tn.length>0?Tn[0]:null,lastTabbableNode:Tn.length>0?Tn[Tn.length-1]:null,nextTabbableNode:function(Un){var jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Yn=Nn.findIndex(function(Wn){return Wn===Un});if(!(Yn<0))return jn?Nn.slice(Yn+1).find(function(Wn){return isTabbable(Wn,rn.tabbableOptions)}):Nn.slice(0,Yn).reverse().find(function(Wn){return isTabbable(Wn,rn.tabbableOptions)})}}}),an.tabbableGroups=an.containerGroups.filter(function(Pn){return Pn.tabbableNodes.length>0}),an.tabbableGroups.length<=0&&!fn("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},gn=function On(Pn){if(Pn!==!1&&Pn!==nn.activeElement){if(!Pn||!Pn.focus){On(hn());return}Pn.focus({preventScroll:!!rn.preventScroll}),an.mostRecentlyFocusedNode=Pn,isSelectableInput(Pn)&&Pn.select()}},mn=function(Pn){var Tn=fn("setReturnFocus",Pn);return Tn||(Tn===!1?!1:Pn)},_n=function(Pn){var Tn=getActualTarget(Pn);if(!(un(Tn)>=0)){if(valueOrHandler(rn.clickOutsideDeactivates,Pn)){ln.deactivate({returnFocus:rn.returnFocusOnDeactivate&&!isFocusable(Tn,rn.tabbableOptions)});return}valueOrHandler(rn.allowOutsideClick,Pn)||Pn.preventDefault()}},kn=function(Pn){var Tn=getActualTarget(Pn),Nn=un(Tn)>=0;Nn||Tn instanceof Document?Nn&&(an.mostRecentlyFocusedNode=Tn):(Pn.stopImmediatePropagation(),gn(an.mostRecentlyFocusedNode||hn()))},Cn=function(Pn){var Tn=getActualTarget(Pn);pn();var Nn=null;if(an.tabbableGroups.length>0){var Hn=un(Tn),Un=Hn>=0?an.containerGroups[Hn]:void 0;if(Hn<0)Pn.shiftKey?Nn=an.tabbableGroups[an.tabbableGroups.length-1].lastTabbableNode:Nn=an.tabbableGroups[0].firstTabbableNode;else if(Pn.shiftKey){var jn=findIndex(an.tabbableGroups,function(Wr){var Jr=Wr.firstTabbableNode;return Tn===Jr});if(jn<0&&(Un.container===Tn||isFocusable(Tn,rn.tabbableOptions)&&!isTabbable(Tn,rn.tabbableOptions)&&!Un.nextTabbableNode(Tn,!1))&&(jn=Hn),jn>=0){var Yn=jn===0?an.tabbableGroups.length-1:jn-1,Wn=an.tabbableGroups[Yn];Nn=Wn.lastTabbableNode}}else{var Qn=findIndex(an.tabbableGroups,function(Wr){var Jr=Wr.lastTabbableNode;return Tn===Jr});if(Qn<0&&(Un.container===Tn||isFocusable(Tn,rn.tabbableOptions)&&!isTabbable(Tn,rn.tabbableOptions)&&!Un.nextTabbableNode(Tn))&&(Qn=Hn),Qn>=0){var Xn=Qn===an.tabbableGroups.length-1?0:Qn+1,jr=an.tabbableGroups[Xn];Nn=jr.firstTabbableNode}}}else Nn=fn("fallbackFocus");Nn&&(Pn.preventDefault(),gn(Nn))},xn=function(Pn){if(isEscapeEvent(Pn)&&valueOrHandler(rn.escapeDeactivates,Pn)!==!1){Pn.preventDefault(),ln.deactivate();return}if(isTabEvent(Pn)){Cn(Pn);return}},Sn=function(Pn){var Tn=getActualTarget(Pn);un(Tn)>=0||valueOrHandler(rn.clickOutsideDeactivates,Pn)||valueOrHandler(rn.allowOutsideClick,Pn)||(Pn.preventDefault(),Pn.stopImmediatePropagation())},Mn=function(){if(an.active)return activeFocusTraps.activateTrap(ln),an.delayInitialFocusTimer=rn.delayInitialFocus?delay(function(){gn(hn())}):gn(hn()),nn.addEventListener("focusin",kn,!0),nn.addEventListener("mousedown",_n,{capture:!0,passive:!1}),nn.addEventListener("touchstart",_n,{capture:!0,passive:!1}),nn.addEventListener("click",Sn,{capture:!0,passive:!1}),nn.addEventListener("keydown",xn,{capture:!0,passive:!1}),ln},In=function(){if(an.active)return nn.removeEventListener("focusin",kn,!0),nn.removeEventListener("mousedown",_n,!0),nn.removeEventListener("touchstart",_n,!0),nn.removeEventListener("click",Sn,!0),nn.removeEventListener("keydown",xn,!0),ln};return ln={get active(){return an.active},get paused(){return an.paused},activate:function(Pn){if(an.active)return this;var Tn=cn(Pn,"onActivate"),Nn=cn(Pn,"onPostActivate"),Hn=cn(Pn,"checkCanFocusTrap");Hn||pn(),an.active=!0,an.paused=!1,an.nodeFocusedBeforeActivation=nn.activeElement,Tn&&Tn();var Un=function(){Hn&&pn(),Mn(),Nn&&Nn()};return Hn?(Hn(an.containers.concat()).then(Un,Un),this):(Un(),this)},deactivate:function(Pn){if(!an.active)return this;var Tn=_objectSpread2({onDeactivate:rn.onDeactivate,onPostDeactivate:rn.onPostDeactivate,checkCanReturnFocus:rn.checkCanReturnFocus},Pn);clearTimeout(an.delayInitialFocusTimer),an.delayInitialFocusTimer=void 0,In(),an.active=!1,an.paused=!1,activeFocusTraps.deactivateTrap(ln);var Nn=cn(Tn,"onDeactivate"),Hn=cn(Tn,"onPostDeactivate"),Un=cn(Tn,"checkCanReturnFocus"),jn=cn(Tn,"returnFocus","returnFocusOnDeactivate");Nn&&Nn();var Yn=function(){delay(function(){jn&&gn(mn(an.nodeFocusedBeforeActivation)),Hn&&Hn()})};return jn&&Un?(Un(mn(an.nodeFocusedBeforeActivation)).then(Yn,Yn),this):(Yn(),this)},pause:function(){return an.paused||!an.active?this:(an.paused=!0,In(),this)},unpause:function(){return!an.paused||!an.active?this:(an.paused=!1,pn(),Mn(),this)},updateContainerElements:function(Pn){var Tn=[].concat(Pn).filter(Boolean);return an.containers=Tn.map(function(Nn){return typeof Nn=="string"?nn.querySelector(Nn):Nn}),an.active&&pn(),this}},ln.updateContainerElements(en),ln};function src_default$4(Fe){let en,tn;window.addEventListener("focusin",()=>{en=tn,tn=document.activeElement}),Fe.magic("focus",nn=>{let rn=nn;return{__noscroll:!1,__wrapAround:!1,within(an){return rn=an,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(an){return isFocusable(an)},previouslyFocused(){return en},lastFocused(){return en},focused(){return tn},focusables(){return Array.isArray(rn)?rn:focusable(rn,{displayCheck:"none"})},all(){return this.focusables()},isFirst(an){let ln=this.all();return ln[0]&&ln[0].isSameNode(an)},isLast(an){let ln=this.all();return ln.length&&ln.slice(-1)[0].isSameNode(an)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let an=this.all(),ln=document.activeElement;if(an.indexOf(ln)!==-1)return this.__wrapAround&&an.indexOf(ln)===an.length-1?an[0]:an[an.indexOf(ln)+1]},getPrevious(){let an=this.all(),ln=document.activeElement;if(an.indexOf(ln)!==-1)return this.__wrapAround&&an.indexOf(ln)===0?an.slice(-1)[0]:an[an.indexOf(ln)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(an){an&&setTimeout(()=>{an.hasAttribute("tabindex")||an.setAttribute("tabindex","0"),an.focus({preventScroll:this._noscroll})})}}}),Fe.directive("trap",Fe.skipDuringClone((nn,{expression:rn,modifiers:an},{effect:ln,evaluateLater:cn,cleanup:un})=>{let fn=cn(rn),hn=!1,pn={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>nn},gn=nn.querySelector("[autofocus]");gn&&(pn.initialFocus=gn);let mn=createFocusTrap(nn,pn),_n=()=>{},kn=()=>{};const Cn=()=>{_n(),_n=()=>{},kn(),kn=()=>{},mn.deactivate({returnFocus:!an.includes("noreturn")})};ln(()=>fn(xn=>{hn!==xn&&(xn&&!hn&&setTimeout(()=>{an.includes("inert")&&(_n=setInert(nn)),an.includes("noscroll")&&(kn=disableScrolling()),mn.activate()}),!xn&&hn&&Cn(),hn=!!xn)})),un(Cn)},(nn,{expression:rn,modifiers:an},{evaluate:ln})=>{an.includes("inert")&&ln(rn)&&setInert(nn)}))}function setInert(Fe){let en=[];return crawlSiblingsUp(Fe,tn=>{let nn=tn.hasAttribute("aria-hidden");tn.setAttribute("aria-hidden","true"),en.push(()=>nn||tn.removeAttribute("aria-hidden"))}),()=>{for(;en.length;)en.pop()()}}function crawlSiblingsUp(Fe,en){Fe.isSameNode(document.body)||!Fe.parentNode||Array.from(Fe.parentNode.children).forEach(tn=>{tn.isSameNode(Fe)?crawlSiblingsUp(Fe.parentNode,en):en(tn)})}function disableScrolling(){let Fe=document.documentElement.style.overflow,en=document.documentElement.style.paddingRight,tn=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${tn}px`,()=>{document.documentElement.style.overflow=Fe,document.documentElement.style.paddingRight=en}}var module_default$4=src_default$4;/*! Bundled license information:

tabbable/dist/index.esm.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/function morph(Fe,en,tn){monkeyPatchDomSetAttributeToAllowAtSymbols();let nn,rn,an,ln,cn,un,fn,hn,pn;function gn(Pn={}){let Tn=Hn=>Hn.getAttribute("key"),Nn=()=>{};ln=Pn.updating||Nn,cn=Pn.updated||Nn,un=Pn.removing||Nn,fn=Pn.removed||Nn,hn=Pn.adding||Nn,pn=Pn.added||Nn,rn=Pn.key||Tn,an=Pn.lookahead||!1}function mn(Pn,Tn){if(_n(Pn,Tn))return kn(Pn,Tn);let Nn=!1;if(!shouldSkip(ln,Pn,Tn,()=>Nn=!0)){if(Pn.nodeType===1&&window.Alpine&&window.Alpine.cloneNode(Pn,Tn),textOrComment(Tn)){Cn(Pn,Tn),cn(Pn,Tn);return}Nn||xn(Pn,Tn),cn(Pn,Tn),Sn(Pn,Tn)}}function _n(Pn,Tn){return Pn.nodeType!=Tn.nodeType||Pn.nodeName!=Tn.nodeName||Mn(Pn)!=Mn(Tn)}function kn(Pn,Tn){if(shouldSkip(un,Pn))return;let Nn=Tn.cloneNode(!0);shouldSkip(hn,Nn)||(Pn.replaceWith(Nn),fn(Pn),pn(Nn))}function Cn(Pn,Tn){let Nn=Tn.nodeValue;Pn.nodeValue!==Nn&&(Pn.nodeValue=Nn)}function xn(Pn,Tn){if(Pn._x_transitioning||Pn._x_isShown&&!Tn._x_isShown||!Pn._x_isShown&&Tn._x_isShown)return;let Nn=Array.from(Pn.attributes),Hn=Array.from(Tn.attributes);for(let Un=Nn.length-1;Un>=0;Un--){let jn=Nn[Un].name;Tn.hasAttribute(jn)||Pn.removeAttribute(jn)}for(let Un=Hn.length-1;Un>=0;Un--){let jn=Hn[Un].name,Yn=Hn[Un].value;Pn.getAttribute(jn)!==Yn&&Pn.setAttribute(jn,Yn)}}function Sn(Pn,Tn){let Nn=In(Pn.children),Hn={},Un=getFirstNode(Tn),jn=getFirstNode(Pn);for(;Un;){let Wn=Mn(Un),Qn=Mn(jn);if(!jn)if(Wn&&Hn[Wn]){let Jr=Hn[Wn];Pn.appendChild(Jr),jn=Jr}else{if(!shouldSkip(hn,Un)){let Jr=Un.cloneNode(!0);Pn.appendChild(Jr),pn(Jr)}Un=getNextSibling(Tn,Un);continue}let Xn=Jr=>Jr&&Jr.nodeType===8&&Jr.textContent==="[if BLOCK]><![endif]",jr=Jr=>Jr&&Jr.nodeType===8&&Jr.textContent==="[if ENDBLOCK]><![endif]";if(Xn(Un)&&Xn(jn)){let Jr=0,ci=jn;for(;jn;){let pi=getNextSibling(Pn,jn);if(Xn(pi))Jr++;else if(jr(pi)&&Jr>0)Jr--;else if(jr(pi)&&Jr===0){jn=pi;break}jn=pi}let ti=jn;Jr=0;let Zr=Un;for(;Un;){let pi=getNextSibling(Tn,Un);if(Xn(pi))Jr++;else if(jr(pi)&&Jr>0)Jr--;else if(jr(pi)&&Jr===0){Un=pi;break}Un=pi}let Br=Un,Jn=new Block(ci,ti),oi=new Block(Zr,Br);Sn(Jn,oi);continue}if(jn.nodeType===1&&an&&!jn.isEqualNode(Un)){let Jr=getNextSibling(Tn,Un),ci=!1;for(;!ci&&Jr;)Jr.nodeType===1&&jn.isEqualNode(Jr)&&(ci=!0,jn=On(Pn,Un,jn),Qn=Mn(jn)),Jr=getNextSibling(Tn,Jr)}if(Wn!==Qn){if(!Wn&&Qn){Hn[Qn]=jn,jn=On(Pn,Un,jn),Hn[Qn].remove(),jn=getNextSibling(Pn,jn),Un=getNextSibling(Tn,Un);continue}if(Wn&&!Qn&&Nn[Wn]&&(jn.replaceWith(Nn[Wn]),jn=Nn[Wn]),Wn&&Qn){let Jr=Nn[Wn];if(Jr)Hn[Qn]=jn,jn.replaceWith(Jr),jn=Jr;else{Hn[Qn]=jn,jn=On(Pn,Un,jn),Hn[Qn].remove(),jn=getNextSibling(Pn,jn),Un=getNextSibling(Tn,Un);continue}}}let Wr=jn&&getNextSibling(Pn,jn);mn(jn,Un),Un=Un&&getNextSibling(Tn,Un),jn=Wr}let Yn=[];for(;jn;)shouldSkip(un,jn)||Yn.push(jn),jn=getNextSibling(Pn,jn);for(;Yn.length;){let Wn=Yn.shift();Wn.remove(),fn(Wn)}}function Mn(Pn){return Pn&&Pn.nodeType===1&&rn(Pn)}function In(Pn){let Tn={};for(let Nn of Pn){let Hn=Mn(Nn);Hn&&(Tn[Hn]=Nn)}return Tn}function On(Pn,Tn,Nn){if(!shouldSkip(hn,Tn)){let Hn=Tn.cloneNode(!0);return Pn.insertBefore(Hn,Nn),pn(Hn),Hn}return Tn}return gn(tn),nn=typeof en=="string"?createElement$1(en):en,window.Alpine&&window.Alpine.closestDataStack&&!Fe._x_dataStack&&(nn._x_dataStack=window.Alpine.closestDataStack(Fe),nn._x_dataStack&&window.Alpine.cloneNode(Fe,nn)),mn(Fe,nn),nn=void 0,Fe}morph.step=()=>{};morph.log=()=>{};function shouldSkip(Fe,...en){let tn=!1;return Fe(...en,()=>tn=!0),tn}var patched=!1;function createElement$1(Fe){const en=document.createElement("template");return en.innerHTML=Fe,en.content.firstElementChild}function textOrComment(Fe){return Fe.nodeType===3||Fe.nodeType===8}var Block=class{constructor(Fe,en){this.startComment=Fe,this.endComment=en}get children(){let Fe=[],en=this.startComment.nextSibling;for(;en&&en!==this.endComment;)Fe.push(en),en=en.nextSibling;return Fe}appendChild(Fe){this.endComment.before(Fe)}get firstChild(){let Fe=this.startComment.nextSibling;if(Fe!==this.endComment)return Fe}nextNode(Fe){let en=Fe.nextSibling;if(en!==this.endComment)return en}insertBefore(Fe,en){return en.before(Fe),Fe}};function getFirstNode(Fe){return Fe.firstChild}function getNextSibling(Fe,en){if(en._x_teleport)return en._x_teleport;let tn;return Fe instanceof Block?tn=Fe.nextNode(en):tn=en.nextSibling,tn}function monkeyPatchDomSetAttributeToAllowAtSymbols(){if(patched)return;patched=!0;let Fe=Element.prototype.setAttribute,en=document.createElement("div");Element.prototype.setAttribute=function(nn,rn){if(!nn.includes("@"))return Fe.call(this,nn,rn);en.innerHTML=`<span ${nn}="${rn}"></span>`;let an=en.firstElementChild.getAttributeNode(nn);en.firstElementChild.removeAttributeNode(an),this.setAttributeNode(an)}}function src_default$3(Fe){Fe.morph=morph}var module_default$3=src_default$3;let onCopy=()=>{};const copy$2=(Fe,en=void 0)=>(typeof Fe=="function"&&(Fe=Fe()),typeof Fe=="object"&&(Fe=JSON.stringify(Fe)),en!==void 0?window.navigator.clipboard.write([new ClipboardItem({[en]:new Blob([Fe],{type:en})})]).then(onCopy):window.navigator.clipboard.writeText(Fe).then(onCopy));function Clipboard(Fe){Fe.magic("clipboard",()=>copy$2),Fe.directive("clipboard",(en,{modifiers:tn,expression:nn},{evaluateLater:rn,cleanup:an})=>{const ln=tn.includes("raw")?un=>un(nn):rn(nn),cn=()=>ln(copy$2);en.addEventListener("click",cn),an(()=>{en.removeEventListener("click",cn)})})}Clipboard.configure=Fe=>(Fe.hasOwnProperty("onCopy")&&typeof Fe.onCopy=="function"&&(onCopy=Fe.onCopy),Clipboard);var __create=Object.create,__defProp=Object.defineProperty,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__markAsModule=Fe=>__defProp(Fe,"__esModule",{value:!0}),__commonJS=(Fe,en)=>()=>(en||(en={exports:{}},Fe(en.exports,en)),en.exports),__exportStar=(Fe,en,tn)=>{if(en&&typeof en=="object"||typeof en=="function")for(let nn of __getOwnPropNames(en))!__hasOwnProp.call(Fe,nn)&&nn!=="default"&&__defProp(Fe,nn,{get:()=>en[nn],enumerable:!(tn=__getOwnPropDesc(en,nn))||tn.enumerable});return Fe},__toModule=Fe=>__exportStar(__markAsModule(__defProp(Fe!=null?__create(__getProtoOf(Fe)):{},"default",Fe&&Fe.__esModule&&"default"in Fe?{get:()=>Fe.default,enumerable:!0}:{value:Fe,enumerable:!0})),Fe),require_popper=__commonJS(Fe=>{Object.defineProperty(Fe,"__esModule",{value:!0});function en(ki){var vi=ki.getBoundingClientRect();return{width:vi.width,height:vi.height,top:vi.top,right:vi.right,bottom:vi.bottom,left:vi.left,x:vi.left,y:vi.top}}function tn(ki){if(ki==null)return window;if(ki.toString()!=="[object Window]"){var vi=ki.ownerDocument;return vi&&vi.defaultView||window}return ki}function nn(ki){var vi=tn(ki),Bi=vi.pageXOffset,Gi=vi.pageYOffset;return{scrollLeft:Bi,scrollTop:Gi}}function rn(ki){var vi=tn(ki).Element;return ki instanceof vi||ki instanceof Element}function an(ki){var vi=tn(ki).HTMLElement;return ki instanceof vi||ki instanceof HTMLElement}function ln(ki){if(typeof ShadowRoot>"u")return!1;var vi=tn(ki).ShadowRoot;return ki instanceof vi||ki instanceof ShadowRoot}function cn(ki){return{scrollLeft:ki.scrollLeft,scrollTop:ki.scrollTop}}function un(ki){return ki===tn(ki)||!an(ki)?nn(ki):cn(ki)}function fn(ki){return ki?(ki.nodeName||"").toLowerCase():null}function hn(ki){return((rn(ki)?ki.ownerDocument:ki.document)||window.document).documentElement}function pn(ki){return en(hn(ki)).left+nn(ki).scrollLeft}function gn(ki){return tn(ki).getComputedStyle(ki)}function mn(ki){var vi=gn(ki),Bi=vi.overflow,Gi=vi.overflowX,co=vi.overflowY;return/auto|scroll|overlay|hidden/.test(Bi+co+Gi)}function _n(ki,vi,Bi){Bi===void 0&&(Bi=!1);var Gi=hn(vi),co=en(ki),Eo=an(vi),Bo={scrollLeft:0,scrollTop:0},Co={x:0,y:0};return(Eo||!Eo&&!Bi)&&((fn(vi)!=="body"||mn(Gi))&&(Bo=un(vi)),an(vi)?(Co=en(vi),Co.x+=vi.clientLeft,Co.y+=vi.clientTop):Gi&&(Co.x=pn(Gi))),{x:co.left+Bo.scrollLeft-Co.x,y:co.top+Bo.scrollTop-Co.y,width:co.width,height:co.height}}function kn(ki){var vi=en(ki),Bi=ki.offsetWidth,Gi=ki.offsetHeight;return Math.abs(vi.width-Bi)<=1&&(Bi=vi.width),Math.abs(vi.height-Gi)<=1&&(Gi=vi.height),{x:ki.offsetLeft,y:ki.offsetTop,width:Bi,height:Gi}}function Cn(ki){return fn(ki)==="html"?ki:ki.assignedSlot||ki.parentNode||(ln(ki)?ki.host:null)||hn(ki)}function xn(ki){return["html","body","#document"].indexOf(fn(ki))>=0?ki.ownerDocument.body:an(ki)&&mn(ki)?ki:xn(Cn(ki))}function Sn(ki,vi){var Bi;vi===void 0&&(vi=[]);var Gi=xn(ki),co=Gi===((Bi=ki.ownerDocument)==null?void 0:Bi.body),Eo=tn(Gi),Bo=co?[Eo].concat(Eo.visualViewport||[],mn(Gi)?Gi:[]):Gi,Co=vi.concat(Bo);return co?Co:Co.concat(Sn(Cn(Bo)))}function Mn(ki){return["table","td","th"].indexOf(fn(ki))>=0}function In(ki){return!an(ki)||gn(ki).position==="fixed"?null:ki.offsetParent}function On(ki){var vi=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,Bi=navigator.userAgent.indexOf("Trident")!==-1;if(Bi&&an(ki)){var Gi=gn(ki);if(Gi.position==="fixed")return null}for(var co=Cn(ki);an(co)&&["html","body"].indexOf(fn(co))<0;){var Eo=gn(co);if(Eo.transform!=="none"||Eo.perspective!=="none"||Eo.contain==="paint"||["transform","perspective"].indexOf(Eo.willChange)!==-1||vi&&Eo.willChange==="filter"||vi&&Eo.filter&&Eo.filter!=="none")return co;co=co.parentNode}return null}function Pn(ki){for(var vi=tn(ki),Bi=In(ki);Bi&&Mn(Bi)&&gn(Bi).position==="static";)Bi=In(Bi);return Bi&&(fn(Bi)==="html"||fn(Bi)==="body"&&gn(Bi).position==="static")?vi:Bi||On(ki)||vi}var Tn="top",Nn="bottom",Hn="right",Un="left",jn="auto",Yn=[Tn,Nn,Hn,Un],Wn="start",Qn="end",Xn="clippingParents",jr="viewport",Wr="popper",Jr="reference",ci=Yn.reduce(function(ki,vi){return ki.concat([vi+"-"+Wn,vi+"-"+Qn])},[]),ti=[].concat(Yn,[jn]).reduce(function(ki,vi){return ki.concat([vi,vi+"-"+Wn,vi+"-"+Qn])},[]),Zr="beforeRead",Br="read",Jn="afterRead",oi="beforeMain",pi="main",ri="afterMain",fi="beforeWrite",yi="write",Si="afterWrite",Pi=[Zr,Br,Jn,oi,pi,ri,fi,yi,Si];function Ui(ki){var vi=new Map,Bi=new Set,Gi=[];ki.forEach(function(Eo){vi.set(Eo.name,Eo)});function co(Eo){Bi.add(Eo.name);var Bo=[].concat(Eo.requires||[],Eo.requiresIfExists||[]);Bo.forEach(function(Co){if(!Bi.has(Co)){var Zo=vi.get(Co);Zo&&co(Zo)}}),Gi.push(Eo)}return ki.forEach(function(Eo){Bi.has(Eo.name)||co(Eo)}),Gi}function ji(ki){var vi=Ui(ki);return Pi.reduce(function(Bi,Gi){return Bi.concat(vi.filter(function(co){return co.phase===Gi}))},[])}function go(ki){var vi;return function(){return vi||(vi=new Promise(function(Bi){Promise.resolve().then(function(){vi=void 0,Bi(ki())})})),vi}}function po(ki){for(var vi=arguments.length,Bi=new Array(vi>1?vi-1:0),Gi=1;Gi<vi;Gi++)Bi[Gi-1]=arguments[Gi];return[].concat(Bi).reduce(function(co,Eo){return co.replace(/%s/,Eo)},ki)}var Yi='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Fo='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',Po=["name","enabled","phase","fn","effect","requires","options"];function Oi(ki){ki.forEach(function(vi){Object.keys(vi).forEach(function(Bi){switch(Bi){case"name":typeof vi.name!="string"&&console.error(po(Yi,String(vi.name),'"name"','"string"','"'+String(vi.name)+'"'));break;case"enabled":typeof vi.enabled!="boolean"&&console.error(po(Yi,vi.name,'"enabled"','"boolean"','"'+String(vi.enabled)+'"'));case"phase":Pi.indexOf(vi.phase)<0&&console.error(po(Yi,vi.name,'"phase"',"either "+Pi.join(", "),'"'+String(vi.phase)+'"'));break;case"fn":typeof vi.fn!="function"&&console.error(po(Yi,vi.name,'"fn"','"function"','"'+String(vi.fn)+'"'));break;case"effect":typeof vi.effect!="function"&&console.error(po(Yi,vi.name,'"effect"','"function"','"'+String(vi.fn)+'"'));break;case"requires":Array.isArray(vi.requires)||console.error(po(Yi,vi.name,'"requires"','"array"','"'+String(vi.requires)+'"'));break;case"requiresIfExists":Array.isArray(vi.requiresIfExists)||console.error(po(Yi,vi.name,'"requiresIfExists"','"array"','"'+String(vi.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+vi.name+'" modifier, valid properties are '+Po.map(function(Gi){return'"'+Gi+'"'}).join(", ")+'; but "'+Bi+'" was provided.')}vi.requires&&vi.requires.forEach(function(Gi){ki.find(function(co){return co.name===Gi})==null&&console.error(po(Fo,String(vi.name),Gi,Gi))})})})}function Wi(ki,vi){var Bi=new Set;return ki.filter(function(Gi){var co=vi(Gi);if(!Bi.has(co))return Bi.add(co),!0})}function vo(ki){return ki.split("-")[0]}function mo(ki){var vi=ki.reduce(function(Bi,Gi){var co=Bi[Gi.name];return Bi[Gi.name]=co?Object.assign({},co,Gi,{options:Object.assign({},co.options,Gi.options),data:Object.assign({},co.data,Gi.data)}):Gi,Bi},{});return Object.keys(vi).map(function(Bi){return vi[Bi]})}function ro(ki){var vi=tn(ki),Bi=hn(ki),Gi=vi.visualViewport,co=Bi.clientWidth,Eo=Bi.clientHeight,Bo=0,Co=0;return Gi&&(co=Gi.width,Eo=Gi.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Bo=Gi.offsetLeft,Co=Gi.offsetTop)),{width:co,height:Eo,x:Bo+pn(ki),y:Co}}var Oo=Math.max,Mi=Math.min,gi=Math.round;function Ti(ki){var vi,Bi=hn(ki),Gi=nn(ki),co=(vi=ki.ownerDocument)==null?void 0:vi.body,Eo=Oo(Bi.scrollWidth,Bi.clientWidth,co?co.scrollWidth:0,co?co.clientWidth:0),Bo=Oo(Bi.scrollHeight,Bi.clientHeight,co?co.scrollHeight:0,co?co.clientHeight:0),Co=-Gi.scrollLeft+pn(ki),Zo=-Gi.scrollTop;return gn(co||Bi).direction==="rtl"&&(Co+=Oo(Bi.clientWidth,co?co.clientWidth:0)-Eo),{width:Eo,height:Bo,x:Co,y:Zo}}function li(ki,vi){var Bi=vi.getRootNode&&vi.getRootNode();if(ki.contains(vi))return!0;if(Bi&&ln(Bi)){var Gi=vi;do{if(Gi&&ki.isSameNode(Gi))return!0;Gi=Gi.parentNode||Gi.host}while(Gi)}return!1}function di(ki){return Object.assign({},ki,{left:ki.x,top:ki.y,right:ki.x+ki.width,bottom:ki.y+ki.height})}function Di(ki){var vi=en(ki);return vi.top=vi.top+ki.clientTop,vi.left=vi.left+ki.clientLeft,vi.bottom=vi.top+ki.clientHeight,vi.right=vi.left+ki.clientWidth,vi.width=ki.clientWidth,vi.height=ki.clientHeight,vi.x=vi.left,vi.y=vi.top,vi}function bi(ki,vi){return vi===jr?di(ro(ki)):an(vi)?Di(vi):di(Ti(hn(ki)))}function Li(ki){var vi=Sn(Cn(ki)),Bi=["absolute","fixed"].indexOf(gn(ki).position)>=0,Gi=Bi&&an(ki)?Pn(ki):ki;return rn(Gi)?vi.filter(function(co){return rn(co)&&li(co,Gi)&&fn(co)!=="body"}):[]}function yo(ki,vi,Bi){var Gi=vi==="clippingParents"?Li(ki):[].concat(vi),co=[].concat(Gi,[Bi]),Eo=co[0],Bo=co.reduce(function(Co,Zo){var ta=bi(ki,Zo);return Co.top=Oo(ta.top,Co.top),Co.right=Mi(ta.right,Co.right),Co.bottom=Mi(ta.bottom,Co.bottom),Co.left=Oo(ta.left,Co.left),Co},bi(ki,Eo));return Bo.width=Bo.right-Bo.left,Bo.height=Bo.bottom-Bo.top,Bo.x=Bo.left,Bo.y=Bo.top,Bo}function ko(ki){return ki.split("-")[1]}function bo(ki){return["top","bottom"].indexOf(ki)>=0?"x":"y"}function $o(ki){var vi=ki.reference,Bi=ki.element,Gi=ki.placement,co=Gi?vo(Gi):null,Eo=Gi?ko(Gi):null,Bo=vi.x+vi.width/2-Bi.width/2,Co=vi.y+vi.height/2-Bi.height/2,Zo;switch(co){case Tn:Zo={x:Bo,y:vi.y-Bi.height};break;case Nn:Zo={x:Bo,y:vi.y+vi.height};break;case Hn:Zo={x:vi.x+vi.width,y:Co};break;case Un:Zo={x:vi.x-Bi.width,y:Co};break;default:Zo={x:vi.x,y:vi.y}}var ta=co?bo(co):null;if(ta!=null){var Ho=ta==="y"?"height":"width";switch(Eo){case Wn:Zo[ta]=Zo[ta]-(vi[Ho]/2-Bi[Ho]/2);break;case Qn:Zo[ta]=Zo[ta]+(vi[Ho]/2-Bi[Ho]/2);break}}return Zo}function ra(){return{top:0,right:0,bottom:0,left:0}}function Xi(ki){return Object.assign({},ra(),ki)}function zo(ki,vi){return vi.reduce(function(Bi,Gi){return Bi[Gi]=ki,Bi},{})}function fo(ki,vi){vi===void 0&&(vi={});var Bi=vi,Gi=Bi.placement,co=Gi===void 0?ki.placement:Gi,Eo=Bi.boundary,Bo=Eo===void 0?Xn:Eo,Co=Bi.rootBoundary,Zo=Co===void 0?jr:Co,ta=Bi.elementContext,Ho=ta===void 0?Wr:ta,Da=Bi.altBoundary,es=Da===void 0?!1:Da,Ha=Bi.padding,wa=Ha===void 0?0:Ha,Ma=Xi(typeof wa!="number"?wa:zo(wa,Yn)),Ia=Ho===Wr?Jr:Wr,Cs=ki.elements.reference,Ka=ki.rects.popper,ms=ki.elements[es?Ia:Ho],va=yo(rn(ms)?ms:ms.contextElement||hn(ki.elements.popper),Bo,Zo),Na=en(Cs),La=$o({reference:Na,element:Ka,strategy:"absolute",placement:co}),_s=di(Object.assign({},Ka,La)),ts=Ho===Wr?_s:Na,ps={top:va.top-ts.top+Ma.top,bottom:ts.bottom-va.bottom+Ma.bottom,left:va.left-ts.left+Ma.left,right:ts.right-va.right+Ma.right},Is=ki.modifiersData.offset;if(Ho===Wr&&Is){var xs=Is[co];Object.keys(ps).forEach(function(Cl){var ol=[Hn,Nn].indexOf(Cl)>=0?1:-1,Ll=[Tn,Nn].indexOf(Cl)>=0?"y":"x";ps[Cl]+=xs[Ll]*ol})}return ps}var la="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",ya="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",Ms={placement:"bottom",modifiers:[],strategy:"absolute"};function da(){for(var ki=arguments.length,vi=new Array(ki),Bi=0;Bi<ki;Bi++)vi[Bi]=arguments[Bi];return!vi.some(function(Gi){return!(Gi&&typeof Gi.getBoundingClientRect=="function")})}function os(ki){ki===void 0&&(ki={});var vi=ki,Bi=vi.defaultModifiers,Gi=Bi===void 0?[]:Bi,co=vi.defaultOptions,Eo=co===void 0?Ms:co;return function(Co,Zo,ta){ta===void 0&&(ta=Eo);var Ho={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ms,Eo),modifiersData:{},elements:{reference:Co,popper:Zo},attributes:{},styles:{}},Da=[],es=!1,Ha={state:Ho,setOptions:function(Cs){Ma(),Ho.options=Object.assign({},Eo,Ho.options,Cs),Ho.scrollParents={reference:rn(Co)?Sn(Co):Co.contextElement?Sn(Co.contextElement):[],popper:Sn(Zo)};var Ka=ji(mo([].concat(Gi,Ho.options.modifiers)));Ho.orderedModifiers=Ka.filter(function(Is){return Is.enabled});{var ms=Wi([].concat(Ka,Ho.options.modifiers),function(Is){var xs=Is.name;return xs});if(Oi(ms),vo(Ho.options.placement)===jn){var va=Ho.orderedModifiers.find(function(Is){var xs=Is.name;return xs==="flip"});va||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var Na=gn(Zo),La=Na.marginTop,_s=Na.marginRight,ts=Na.marginBottom,ps=Na.marginLeft;[La,_s,ts,ps].some(function(Is){return parseFloat(Is)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return wa(),Ha.update()},forceUpdate:function(){if(!es){var Cs=Ho.elements,Ka=Cs.reference,ms=Cs.popper;if(!da(Ka,ms)){console.error(la);return}Ho.rects={reference:_n(Ka,Pn(ms),Ho.options.strategy==="fixed"),popper:kn(ms)},Ho.reset=!1,Ho.placement=Ho.options.placement,Ho.orderedModifiers.forEach(function(xs){return Ho.modifiersData[xs.name]=Object.assign({},xs.data)});for(var va=0,Na=0;Na<Ho.orderedModifiers.length;Na++){if(va+=1,va>100){console.error(ya);break}if(Ho.reset===!0){Ho.reset=!1,Na=-1;continue}var La=Ho.orderedModifiers[Na],_s=La.fn,ts=La.options,ps=ts===void 0?{}:ts,Is=La.name;typeof _s=="function"&&(Ho=_s({state:Ho,options:ps,name:Is,instance:Ha})||Ho)}}},update:go(function(){return new Promise(function(Ia){Ha.forceUpdate(),Ia(Ho)})}),destroy:function(){Ma(),es=!0}};if(!da(Co,Zo))return console.error(la),Ha;Ha.setOptions(ta).then(function(Ia){!es&&ta.onFirstUpdate&&ta.onFirstUpdate(Ia)});function wa(){Ho.orderedModifiers.forEach(function(Ia){var Cs=Ia.name,Ka=Ia.options,ms=Ka===void 0?{}:Ka,va=Ia.effect;if(typeof va=="function"){var Na=va({state:Ho,name:Cs,instance:Ha,options:ms}),La=function(){};Da.push(Na||La)}})}function Ma(){Da.forEach(function(Ia){return Ia()}),Da=[]}return Ha}}var Fa={passive:!0};function As(ki){var vi=ki.state,Bi=ki.instance,Gi=ki.options,co=Gi.scroll,Eo=co===void 0?!0:co,Bo=Gi.resize,Co=Bo===void 0?!0:Bo,Zo=tn(vi.elements.popper),ta=[].concat(vi.scrollParents.reference,vi.scrollParents.popper);return Eo&&ta.forEach(function(Ho){Ho.addEventListener("scroll",Bi.update,Fa)}),Co&&Zo.addEventListener("resize",Bi.update,Fa),function(){Eo&&ta.forEach(function(Ho){Ho.removeEventListener("scroll",Bi.update,Fa)}),Co&&Zo.removeEventListener("resize",Bi.update,Fa)}}var Zs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:As,data:{}};function gl(ki){var vi=ki.state,Bi=ki.name;vi.modifiersData[Bi]=$o({reference:vi.rects.reference,element:vi.rects.popper,strategy:"absolute",placement:vi.placement})}var us={name:"popperOffsets",enabled:!0,phase:"read",fn:gl,data:{}},jl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vl(ki){var vi=ki.x,Bi=ki.y,Gi=window,co=Gi.devicePixelRatio||1;return{x:gi(gi(vi*co)/co)||0,y:gi(gi(Bi*co)/co)||0}}function fs(ki){var vi,Bi=ki.popper,Gi=ki.popperRect,co=ki.placement,Eo=ki.offsets,Bo=ki.position,Co=ki.gpuAcceleration,Zo=ki.adaptive,ta=ki.roundOffsets,Ho=ta===!0?vl(Eo):typeof ta=="function"?ta(Eo):Eo,Da=Ho.x,es=Da===void 0?0:Da,Ha=Ho.y,wa=Ha===void 0?0:Ha,Ma=Eo.hasOwnProperty("x"),Ia=Eo.hasOwnProperty("y"),Cs=Un,Ka=Tn,ms=window;if(Zo){var va=Pn(Bi),Na="clientHeight",La="clientWidth";va===tn(Bi)&&(va=hn(Bi),gn(va).position!=="static"&&(Na="scrollHeight",La="scrollWidth")),va=va,co===Tn&&(Ka=Nn,wa-=va[Na]-Gi.height,wa*=Co?1:-1),co===Un&&(Cs=Hn,es-=va[La]-Gi.width,es*=Co?1:-1)}var _s=Object.assign({position:Bo},Zo&&jl);if(Co){var ts;return Object.assign({},_s,(ts={},ts[Ka]=Ia?"0":"",ts[Cs]=Ma?"0":"",ts.transform=(ms.devicePixelRatio||1)<2?"translate("+es+"px, "+wa+"px)":"translate3d("+es+"px, "+wa+"px, 0)",ts))}return Object.assign({},_s,(vi={},vi[Ka]=Ia?wa+"px":"",vi[Cs]=Ma?es+"px":"",vi.transform="",vi))}function $i(ki){var vi=ki.state,Bi=ki.options,Gi=Bi.gpuAcceleration,co=Gi===void 0?!0:Gi,Eo=Bi.adaptive,Bo=Eo===void 0?!0:Eo,Co=Bi.roundOffsets,Zo=Co===void 0?!0:Co;{var ta=gn(vi.elements.popper).transitionProperty||"";Bo&&["transform","top","right","bottom","left"].some(function(Da){return ta.indexOf(Da)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var Ho={placement:vo(vi.placement),popper:vi.elements.popper,popperRect:vi.rects.popper,gpuAcceleration:co};vi.modifiersData.popperOffsets!=null&&(vi.styles.popper=Object.assign({},vi.styles.popper,fs(Object.assign({},Ho,{offsets:vi.modifiersData.popperOffsets,position:vi.options.strategy,adaptive:Bo,roundOffsets:Zo})))),vi.modifiersData.arrow!=null&&(vi.styles.arrow=Object.assign({},vi.styles.arrow,fs(Object.assign({},Ho,{offsets:vi.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Zo})))),vi.attributes.popper=Object.assign({},vi.attributes.popper,{"data-popper-placement":vi.placement})}var Hi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$i,data:{}};function io(ki){var vi=ki.state;Object.keys(vi.elements).forEach(function(Bi){var Gi=vi.styles[Bi]||{},co=vi.attributes[Bi]||{},Eo=vi.elements[Bi];!an(Eo)||!fn(Eo)||(Object.assign(Eo.style,Gi),Object.keys(co).forEach(function(Bo){var Co=co[Bo];Co===!1?Eo.removeAttribute(Bo):Eo.setAttribute(Bo,Co===!0?"":Co)}))})}function So(ki){var vi=ki.state,Bi={popper:{position:vi.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(vi.elements.popper.style,Bi.popper),vi.styles=Bi,vi.elements.arrow&&Object.assign(vi.elements.arrow.style,Bi.arrow),function(){Object.keys(vi.elements).forEach(function(Gi){var co=vi.elements[Gi],Eo=vi.attributes[Gi]||{},Bo=Object.keys(vi.styles.hasOwnProperty(Gi)?vi.styles[Gi]:Bi[Gi]),Co=Bo.reduce(function(Zo,ta){return Zo[ta]="",Zo},{});!an(co)||!fn(co)||(Object.assign(co.style,Co),Object.keys(Eo).forEach(function(Zo){co.removeAttribute(Zo)}))})}}var Xo={name:"applyStyles",enabled:!0,phase:"write",fn:io,effect:So,requires:["computeStyles"]};function Ro(ki,vi,Bi){var Gi=vo(ki),co=[Un,Tn].indexOf(Gi)>=0?-1:1,Eo=typeof Bi=="function"?Bi(Object.assign({},vi,{placement:ki})):Bi,Bo=Eo[0],Co=Eo[1];return Bo=Bo||0,Co=(Co||0)*co,[Un,Hn].indexOf(Gi)>=0?{x:Co,y:Bo}:{x:Bo,y:Co}}function To(ki){var vi=ki.state,Bi=ki.options,Gi=ki.name,co=Bi.offset,Eo=co===void 0?[0,0]:co,Bo=ti.reduce(function(Ho,Da){return Ho[Da]=Ro(Da,vi.rects,Eo),Ho},{}),Co=Bo[vi.placement],Zo=Co.x,ta=Co.y;vi.modifiersData.popperOffsets!=null&&(vi.modifiersData.popperOffsets.x+=Zo,vi.modifiersData.popperOffsets.y+=ta),vi.modifiersData[Gi]=Bo}var Ra={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:To},fa={left:"right",right:"left",bottom:"top",top:"bottom"};function jo(ki){return ki.replace(/left|right|bottom|top/g,function(vi){return fa[vi]})}var Ca={start:"end",end:"start"};function ja(ki){return ki.replace(/start|end/g,function(vi){return Ca[vi]})}function ss(ki,vi){vi===void 0&&(vi={});var Bi=vi,Gi=Bi.placement,co=Bi.boundary,Eo=Bi.rootBoundary,Bo=Bi.padding,Co=Bi.flipVariations,Zo=Bi.allowedAutoPlacements,ta=Zo===void 0?ti:Zo,Ho=ko(Gi),Da=Ho?Co?ci:ci.filter(function(wa){return ko(wa)===Ho}):Yn,es=Da.filter(function(wa){return ta.indexOf(wa)>=0});es.length===0&&(es=Da,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var Ha=es.reduce(function(wa,Ma){return wa[Ma]=fo(ki,{placement:Ma,boundary:co,rootBoundary:Eo,padding:Bo})[vo(Ma)],wa},{});return Object.keys(Ha).sort(function(wa,Ma){return Ha[wa]-Ha[Ma]})}function za(ki){if(vo(ki)===jn)return[];var vi=jo(ki);return[ja(ki),vi,ja(vi)]}function Ya(ki){var vi=ki.state,Bi=ki.options,Gi=ki.name;if(!vi.modifiersData[Gi]._skip){for(var co=Bi.mainAxis,Eo=co===void 0?!0:co,Bo=Bi.altAxis,Co=Bo===void 0?!0:Bo,Zo=Bi.fallbackPlacements,ta=Bi.padding,Ho=Bi.boundary,Da=Bi.rootBoundary,es=Bi.altBoundary,Ha=Bi.flipVariations,wa=Ha===void 0?!0:Ha,Ma=Bi.allowedAutoPlacements,Ia=vi.options.placement,Cs=vo(Ia),Ka=Cs===Ia,ms=Zo||(Ka||!wa?[jo(Ia)]:za(Ia)),va=[Ia].concat(ms).reduce(function(na,pa){return na.concat(vo(pa)===jn?ss(vi,{placement:pa,boundary:Ho,rootBoundary:Da,padding:ta,flipVariations:wa,allowedAutoPlacements:Ma}):pa)},[]),Na=vi.rects.reference,La=vi.rects.popper,_s=new Map,ts=!0,ps=va[0],Is=0;Is<va.length;Is++){var xs=va[Is],Cl=vo(xs),ol=ko(xs)===Wn,Ll=[Tn,Nn].indexOf(Cl)>=0,tc=Ll?"width":"height",nc=fo(vi,{placement:xs,boundary:Ho,rootBoundary:Da,altBoundary:es,padding:ta}),qs=Ll?ol?Hn:Un:ol?Nn:Tn;Na[tc]>La[tc]&&(qs=jo(qs));var Ec=jo(qs),yl=[];if(Eo&&yl.push(nc[Cl]<=0),Co&&yl.push(nc[qs]<=0,nc[Ec]<=0),yl.every(function(na){return na})){ps=xs,ts=!1;break}_s.set(xs,yl)}if(ts)for(var xl=wa?3:1,ns=function(pa){var Pa=va.find(function(Za){var zs=_s.get(Za);if(zs)return zs.slice(0,pa).every(function(el){return el})});if(Pa)return ps=Pa,"break"},Ji=xl;Ji>0;Ji--){var Ko=ns(Ji);if(Ko==="break")break}vi.placement!==ps&&(vi.modifiersData[Gi]._skip=!0,vi.placement=ps,vi.reset=!0)}}var ha={name:"flip",enabled:!0,phase:"main",fn:Ya,requiresIfExists:["offset"],data:{_skip:!1}};function ia(ki){return ki==="x"?"y":"x"}function ca(ki,vi,Bi){return Oo(ki,Mi(vi,Bi))}function oa(ki){var vi=ki.state,Bi=ki.options,Gi=ki.name,co=Bi.mainAxis,Eo=co===void 0?!0:co,Bo=Bi.altAxis,Co=Bo===void 0?!1:Bo,Zo=Bi.boundary,ta=Bi.rootBoundary,Ho=Bi.altBoundary,Da=Bi.padding,es=Bi.tether,Ha=es===void 0?!0:es,wa=Bi.tetherOffset,Ma=wa===void 0?0:wa,Ia=fo(vi,{boundary:Zo,rootBoundary:ta,padding:Da,altBoundary:Ho}),Cs=vo(vi.placement),Ka=ko(vi.placement),ms=!Ka,va=bo(Cs),Na=ia(va),La=vi.modifiersData.popperOffsets,_s=vi.rects.reference,ts=vi.rects.popper,ps=typeof Ma=="function"?Ma(Object.assign({},vi.rects,{placement:vi.placement})):Ma,Is={x:0,y:0};if(La){if(Eo||Co){var xs=va==="y"?Tn:Un,Cl=va==="y"?Nn:Hn,ol=va==="y"?"height":"width",Ll=La[va],tc=La[va]+Ia[xs],nc=La[va]-Ia[Cl],qs=Ha?-ts[ol]/2:0,Ec=Ka===Wn?_s[ol]:ts[ol],yl=Ka===Wn?-ts[ol]:-_s[ol],xl=vi.elements.arrow,ns=Ha&&xl?kn(xl):{width:0,height:0},Ji=vi.modifiersData["arrow#persistent"]?vi.modifiersData["arrow#persistent"].padding:ra(),Ko=Ji[xs],na=Ji[Cl],pa=ca(0,_s[ol],ns[ol]),Pa=ms?_s[ol]/2-qs-pa-Ko-ps:Ec-pa-Ko-ps,Za=ms?-_s[ol]/2+qs+pa+na+ps:yl+pa+na+ps,zs=vi.elements.arrow&&Pn(vi.elements.arrow),el=zs?va==="y"?zs.clientTop||0:zs.clientLeft||0:0,Sl=vi.modifiersData.offset?vi.modifiersData.offset[vi.placement][va]:0,bl=La[va]+Pa-Sl-el,El=La[va]+Za-Sl;if(Eo){var Ul=ca(Ha?Mi(tc,bl):tc,Ll,Ha?Oo(nc,El):nc);La[va]=Ul,Is[va]=Ul-Ll}if(Co){var al=va==="x"?Tn:Un,zn=va==="x"?Nn:Hn,qn=La[Na],Fr=qn+Ia[al],Ur=qn-Ia[zn],ei=ca(Ha?Mi(Fr,bl):Fr,qn,Ha?Oo(Ur,El):Ur);La[Na]=ei,Is[Na]=ei-qn}}vi.modifiersData[Gi]=Is}}var Uo={name:"preventOverflow",enabled:!0,phase:"main",fn:oa,requiresIfExists:["offset"]},Ei=function(vi,Bi){return vi=typeof vi=="function"?vi(Object.assign({},Bi.rects,{placement:Bi.placement})):vi,Xi(typeof vi!="number"?vi:zo(vi,Yn))};function vs(ki){var vi,Bi=ki.state,Gi=ki.name,co=ki.options,Eo=Bi.elements.arrow,Bo=Bi.modifiersData.popperOffsets,Co=vo(Bi.placement),Zo=bo(Co),ta=[Un,Hn].indexOf(Co)>=0,Ho=ta?"height":"width";if(!(!Eo||!Bo)){var Da=Ei(co.padding,Bi),es=kn(Eo),Ha=Zo==="y"?Tn:Un,wa=Zo==="y"?Nn:Hn,Ma=Bi.rects.reference[Ho]+Bi.rects.reference[Zo]-Bo[Zo]-Bi.rects.popper[Ho],Ia=Bo[Zo]-Bi.rects.reference[Zo],Cs=Pn(Eo),Ka=Cs?Zo==="y"?Cs.clientHeight||0:Cs.clientWidth||0:0,ms=Ma/2-Ia/2,va=Da[Ha],Na=Ka-es[Ho]-Da[wa],La=Ka/2-es[Ho]/2+ms,_s=ca(va,La,Na),ts=Zo;Bi.modifiersData[Gi]=(vi={},vi[ts]=_s,vi.centerOffset=_s-La,vi)}}function ma(ki){var vi=ki.state,Bi=ki.options,Gi=Bi.element,co=Gi===void 0?"[data-popper-arrow]":Gi;if(co!=null&&!(typeof co=="string"&&(co=vi.elements.popper.querySelector(co),!co))){if(an(co)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),!li(vi.elements.popper,co)){console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}vi.elements.arrow=co}}var Bs={name:"arrow",enabled:!0,phase:"main",fn:vs,effect:ma,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ea(ki,vi,Bi){return Bi===void 0&&(Bi={x:0,y:0}),{top:ki.top-vi.height-Bi.y,right:ki.right-vi.width+Bi.x,bottom:ki.bottom-vi.height+Bi.y,left:ki.left-vi.width-Bi.x}}function Fs(ki){return[Tn,Hn,Nn,Un].some(function(vi){return ki[vi]>=0})}function Js(ki){var vi=ki.state,Bi=ki.name,Gi=vi.rects.reference,co=vi.rects.popper,Eo=vi.modifiersData.preventOverflow,Bo=fo(vi,{elementContext:"reference"}),Co=fo(vi,{altBoundary:!0}),Zo=Ea(Bo,Gi),ta=Ea(Co,co,Eo),Ho=Fs(Zo),Da=Fs(ta);vi.modifiersData[Bi]={referenceClippingOffsets:Zo,popperEscapeOffsets:ta,isReferenceHidden:Ho,hasPopperEscaped:Da},vi.attributes.popper=Object.assign({},vi.attributes.popper,{"data-popper-reference-hidden":Ho,"data-popper-escaped":Da})}var ul={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Js},lo=[Zs,us,Hi,Xo],ea=os({defaultModifiers:lo}),hs=[Zs,us,Hi,Xo,Ra,ha,Uo,Bs,ul],ml=os({defaultModifiers:hs});Fe.applyStyles=Xo,Fe.arrow=Bs,Fe.computeStyles=Hi,Fe.createPopper=ml,Fe.createPopperLite=ea,Fe.defaultModifiers=hs,Fe.detectOverflow=fo,Fe.eventListeners=Zs,Fe.flip=ha,Fe.hide=ul,Fe.offset=Ra,Fe.popperGenerator=os,Fe.popperOffsets=us,Fe.preventOverflow=Uo}),require_tippy_cjs=__commonJS(Fe=>{Object.defineProperty(Fe,"__esModule",{value:!0});var en=require_popper(),tn='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',nn="tippy-box",rn="tippy-content",an="tippy-backdrop",ln="tippy-arrow",cn="tippy-svg-arrow",un={passive:!0,capture:!0};function fn($i,Hi){return{}.hasOwnProperty.call($i,Hi)}function hn($i,Hi,io){if(Array.isArray($i)){var So=$i[Hi];return So??(Array.isArray(io)?io[Hi]:io)}return $i}function pn($i,Hi){var io={}.toString.call($i);return io.indexOf("[object")===0&&io.indexOf(Hi+"]")>-1}function gn($i,Hi){return typeof $i=="function"?$i.apply(void 0,Hi):$i}function mn($i,Hi){if(Hi===0)return $i;var io;return function(So){clearTimeout(io),io=setTimeout(function(){$i(So)},Hi)}}function _n($i,Hi){var io=Object.assign({},$i);return Hi.forEach(function(So){delete io[So]}),io}function kn($i){return $i.split(/\s+/).filter(Boolean)}function Cn($i){return[].concat($i)}function xn($i,Hi){$i.indexOf(Hi)===-1&&$i.push(Hi)}function Sn($i){return $i.filter(function(Hi,io){return $i.indexOf(Hi)===io})}function Mn($i){return $i.split("-")[0]}function In($i){return[].slice.call($i)}function On($i){return Object.keys($i).reduce(function(Hi,io){return $i[io]!==void 0&&(Hi[io]=$i[io]),Hi},{})}function Pn(){return document.createElement("div")}function Tn($i){return["Element","Fragment"].some(function(Hi){return pn($i,Hi)})}function Nn($i){return pn($i,"NodeList")}function Hn($i){return pn($i,"MouseEvent")}function Un($i){return!!($i&&$i._tippy&&$i._tippy.reference===$i)}function jn($i){return Tn($i)?[$i]:Nn($i)?In($i):Array.isArray($i)?$i:In(document.querySelectorAll($i))}function Yn($i,Hi){$i.forEach(function(io){io&&(io.style.transitionDuration=Hi+"ms")})}function Wn($i,Hi){$i.forEach(function(io){io&&io.setAttribute("data-state",Hi)})}function Qn($i){var Hi,io=Cn($i),So=io[0];return!(So==null||(Hi=So.ownerDocument)==null)&&Hi.body?So.ownerDocument:document}function Xn($i,Hi){var io=Hi.clientX,So=Hi.clientY;return $i.every(function(Xo){var Ro=Xo.popperRect,To=Xo.popperState,Ra=Xo.props,fa=Ra.interactiveBorder,jo=Mn(To.placement),Ca=To.modifiersData.offset;if(!Ca)return!0;var ja=jo==="bottom"?Ca.top.y:0,ss=jo==="top"?Ca.bottom.y:0,za=jo==="right"?Ca.left.x:0,Ya=jo==="left"?Ca.right.x:0,ha=Ro.top-So+ja>fa,ia=So-Ro.bottom-ss>fa,ca=Ro.left-io+za>fa,oa=io-Ro.right-Ya>fa;return ha||ia||ca||oa})}function jr($i,Hi,io){var So=Hi+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(Xo){$i[So](Xo,io)})}var Wr={isTouch:!1},Jr=0;function ci(){Wr.isTouch||(Wr.isTouch=!0,window.performance&&document.addEventListener("mousemove",ti))}function ti(){var $i=performance.now();$i-Jr<20&&(Wr.isTouch=!1,document.removeEventListener("mousemove",ti)),Jr=$i}function Zr(){var $i=document.activeElement;if(Un($i)){var Hi=$i._tippy;$i.blur&&!Hi.state.isVisible&&$i.blur()}}function Br(){document.addEventListener("touchstart",ci,un),window.addEventListener("blur",Zr)}var Jn=typeof window<"u"&&typeof document<"u",oi=Jn?navigator.userAgent:"",pi=/MSIE |Trident\//.test(oi);function ri($i){var Hi=$i==="destroy"?"n already-":" ";return[$i+"() was called on a"+Hi+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function fi($i){var Hi=/[ \t]{2,}/g,io=/^[ \t]*/gm;return $i.replace(Hi," ").replace(io,"").trim()}function yi($i){return fi(`
  %ctippy.js

  %c`+fi($i)+`

  %cð·â This is a development-only message. It will be removed in production.
  `)}function Si($i){return[yi($i),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Pi;Ui();function Ui(){Pi=new Set}function ji($i,Hi){if($i&&!Pi.has(Hi)){var io;Pi.add(Hi),(io=console).warn.apply(io,Si(Hi))}}function go($i,Hi){if($i&&!Pi.has(Hi)){var io;Pi.add(Hi),(io=console).error.apply(io,Si(Hi))}}function po($i){var Hi=!$i,io=Object.prototype.toString.call($i)==="[object Object]"&&!$i.addEventListener;go(Hi,["tippy() was passed","`"+String($i)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),go(io,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var Yi={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Fo={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Po=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Yi,{},Fo),Oi=Object.keys(Po),Wi=function(Hi){Oo(Hi,[]);var io=Object.keys(Hi);io.forEach(function(So){Po[So]=Hi[So]})};function vo($i){var Hi=$i.plugins||[],io=Hi.reduce(function(So,Xo){var Ro=Xo.name,To=Xo.defaultValue;return Ro&&(So[Ro]=$i[Ro]!==void 0?$i[Ro]:To),So},{});return Object.assign({},$i,{},io)}function mo($i,Hi){var io=Hi?Object.keys(vo(Object.assign({},Po,{plugins:Hi}))):Oi,So=io.reduce(function(Xo,Ro){var To=($i.getAttribute("data-tippy-"+Ro)||"").trim();if(!To)return Xo;if(Ro==="content")Xo[Ro]=To;else try{Xo[Ro]=JSON.parse(To)}catch{Xo[Ro]=To}return Xo},{});return So}function ro($i,Hi){var io=Object.assign({},Hi,{content:gn(Hi.content,[$i])},Hi.ignoreAttributes?{}:mo($i,Hi.plugins));return io.aria=Object.assign({},Po.aria,{},io.aria),io.aria={expanded:io.aria.expanded==="auto"?Hi.interactive:io.aria.expanded,content:io.aria.content==="auto"?Hi.interactive?null:"describedby":io.aria.content},io}function Oo($i,Hi){$i===void 0&&($i={}),Hi===void 0&&(Hi=[]);var io=Object.keys($i);io.forEach(function(So){var Xo=_n(Po,Object.keys(Yi)),Ro=!fn(Xo,So);Ro&&(Ro=Hi.filter(function(To){return To.name===So}).length===0),ji(Ro,["`"+So+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Mi=function(){return"innerHTML"};function gi($i,Hi){$i[Mi()]=Hi}function Ti($i){var Hi=Pn();return $i===!0?Hi.className=ln:(Hi.className=cn,Tn($i)?Hi.appendChild($i):gi(Hi,$i)),Hi}function li($i,Hi){Tn(Hi.content)?(gi($i,""),$i.appendChild(Hi.content)):typeof Hi.content!="function"&&(Hi.allowHTML?gi($i,Hi.content):$i.textContent=Hi.content)}function di($i){var Hi=$i.firstElementChild,io=In(Hi.children);return{box:Hi,content:io.find(function(So){return So.classList.contains(rn)}),arrow:io.find(function(So){return So.classList.contains(ln)||So.classList.contains(cn)}),backdrop:io.find(function(So){return So.classList.contains(an)})}}function Di($i){var Hi=Pn(),io=Pn();io.className=nn,io.setAttribute("data-state","hidden"),io.setAttribute("tabindex","-1");var So=Pn();So.className=rn,So.setAttribute("data-state","hidden"),li(So,$i.props),Hi.appendChild(io),io.appendChild(So),Xo($i.props,$i.props);function Xo(Ro,To){var Ra=di(Hi),fa=Ra.box,jo=Ra.content,Ca=Ra.arrow;To.theme?fa.setAttribute("data-theme",To.theme):fa.removeAttribute("data-theme"),typeof To.animation=="string"?fa.setAttribute("data-animation",To.animation):fa.removeAttribute("data-animation"),To.inertia?fa.setAttribute("data-inertia",""):fa.removeAttribute("data-inertia"),fa.style.maxWidth=typeof To.maxWidth=="number"?To.maxWidth+"px":To.maxWidth,To.role?fa.setAttribute("role",To.role):fa.removeAttribute("role"),(Ro.content!==To.content||Ro.allowHTML!==To.allowHTML)&&li(jo,$i.props),To.arrow?Ca?Ro.arrow!==To.arrow&&(fa.removeChild(Ca),fa.appendChild(Ti(To.arrow))):fa.appendChild(Ti(To.arrow)):Ca&&fa.removeChild(Ca)}return{popper:Hi,onUpdate:Xo}}Di.$$tippy=!0;var bi=1,Li=[],yo=[];function ko($i,Hi){var io=ro($i,Object.assign({},Po,{},vo(On(Hi)))),So,Xo,Ro,To=!1,Ra=!1,fa=!1,jo=!1,Ca,ja,ss,za=[],Ya=mn(Ka,io.interactiveDebounce),ha,ia=bi++,ca=null,oa=Sn(io.plugins),Uo={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},Ei={id:ia,reference:$i,popper:Pn(),popperInstance:ca,props:io,state:Uo,plugins:oa,clearDelayTimeouts:Ll,setProps:tc,setContent:nc,show:qs,hide:Ec,hideWithInteractivity:yl,enable:Cl,disable:ol,unmount:xl,destroy:ns};if(!io.render)return go(!0,"render() function has not been supplied."),Ei;var vs=io.render(Ei),ma=vs.popper,Bs=vs.onUpdate;ma.setAttribute("data-tippy-root",""),ma.id="tippy-"+Ei.id,Ei.popper=ma,$i._tippy=Ei,ma._tippy=Ei;var Ea=oa.map(function(Ji){return Ji.fn(Ei)}),Fs=$i.hasAttribute("aria-expanded");return Ma(),co(),vi(),Bi("onCreate",[Ei]),io.showOnCreate&&Is(),ma.addEventListener("mouseenter",function(){Ei.props.interactive&&Ei.state.isVisible&&Ei.clearDelayTimeouts()}),ma.addEventListener("mouseleave",function(Ji){Ei.props.interactive&&Ei.props.trigger.indexOf("mouseenter")>=0&&(hs().addEventListener("mousemove",Ya),Ya(Ji))}),Ei;function Js(){var Ji=Ei.props.touch;return Array.isArray(Ji)?Ji:[Ji,0]}function ul(){return Js()[0]==="hold"}function lo(){var Ji;return!!((Ji=Ei.props.render)!=null&&Ji.$$tippy)}function ea(){return ha||$i}function hs(){var Ji=ea().parentNode;return Ji?Qn(Ji):document}function ml(){return di(ma)}function ki(Ji){return Ei.state.isMounted&&!Ei.state.isVisible||Wr.isTouch||Ca&&Ca.type==="focus"?0:hn(Ei.props.delay,Ji?0:1,Po.delay)}function vi(){ma.style.pointerEvents=Ei.props.interactive&&Ei.state.isVisible?"":"none",ma.style.zIndex=""+Ei.props.zIndex}function Bi(Ji,Ko,na){if(na===void 0&&(na=!0),Ea.forEach(function(Pa){Pa[Ji]&&Pa[Ji].apply(void 0,Ko)}),na){var pa;(pa=Ei.props)[Ji].apply(pa,Ko)}}function Gi(){var Ji=Ei.props.aria;if(Ji.content){var Ko="aria-"+Ji.content,na=ma.id,pa=Cn(Ei.props.triggerTarget||$i);pa.forEach(function(Pa){var Za=Pa.getAttribute(Ko);if(Ei.state.isVisible)Pa.setAttribute(Ko,Za?Za+" "+na:na);else{var zs=Za&&Za.replace(na,"").trim();zs?Pa.setAttribute(Ko,zs):Pa.removeAttribute(Ko)}})}}function co(){if(!(Fs||!Ei.props.aria.expanded)){var Ji=Cn(Ei.props.triggerTarget||$i);Ji.forEach(function(Ko){Ei.props.interactive?Ko.setAttribute("aria-expanded",Ei.state.isVisible&&Ko===ea()?"true":"false"):Ko.removeAttribute("aria-expanded")})}}function Eo(){hs().removeEventListener("mousemove",Ya),Li=Li.filter(function(Ji){return Ji!==Ya})}function Bo(Ji){if(!(Wr.isTouch&&(fa||Ji.type==="mousedown"))&&!(Ei.props.interactive&&ma.contains(Ji.target))){if(ea().contains(Ji.target)){if(Wr.isTouch||Ei.state.isVisible&&Ei.props.trigger.indexOf("click")>=0)return}else Bi("onClickOutside",[Ei,Ji]);Ei.props.hideOnClick===!0&&(Ei.clearDelayTimeouts(),Ei.hide(),Ra=!0,setTimeout(function(){Ra=!1}),Ei.state.isMounted||Ho())}}function Co(){fa=!0}function Zo(){fa=!1}function ta(){var Ji=hs();Ji.addEventListener("mousedown",Bo,!0),Ji.addEventListener("touchend",Bo,un),Ji.addEventListener("touchstart",Zo,un),Ji.addEventListener("touchmove",Co,un)}function Ho(){var Ji=hs();Ji.removeEventListener("mousedown",Bo,!0),Ji.removeEventListener("touchend",Bo,un),Ji.removeEventListener("touchstart",Zo,un),Ji.removeEventListener("touchmove",Co,un)}function Da(Ji,Ko){Ha(Ji,function(){!Ei.state.isVisible&&ma.parentNode&&ma.parentNode.contains(ma)&&Ko()})}function es(Ji,Ko){Ha(Ji,Ko)}function Ha(Ji,Ko){var na=ml().box;function pa(Pa){Pa.target===na&&(jr(na,"remove",pa),Ko())}if(Ji===0)return Ko();jr(na,"remove",ja),jr(na,"add",pa),ja=pa}function wa(Ji,Ko,na){na===void 0&&(na=!1);var pa=Cn(Ei.props.triggerTarget||$i);pa.forEach(function(Pa){Pa.addEventListener(Ji,Ko,na),za.push({node:Pa,eventType:Ji,handler:Ko,options:na})})}function Ma(){ul()&&(wa("touchstart",Cs,{passive:!0}),wa("touchend",ms,{passive:!0})),kn(Ei.props.trigger).forEach(function(Ji){if(Ji!=="manual")switch(wa(Ji,Cs),Ji){case"mouseenter":wa("mouseleave",ms);break;case"focus":wa(pi?"focusout":"blur",va);break;case"focusin":wa("focusout",va);break}})}function Ia(){za.forEach(function(Ji){var Ko=Ji.node,na=Ji.eventType,pa=Ji.handler,Pa=Ji.options;Ko.removeEventListener(na,pa,Pa)}),za=[]}function Cs(Ji){var Ko,na=!1;if(!(!Ei.state.isEnabled||Na(Ji)||Ra)){var pa=((Ko=Ca)==null?void 0:Ko.type)==="focus";Ca=Ji,ha=Ji.currentTarget,co(),!Ei.state.isVisible&&Hn(Ji)&&Li.forEach(function(Pa){return Pa(Ji)}),Ji.type==="click"&&(Ei.props.trigger.indexOf("mouseenter")<0||To)&&Ei.props.hideOnClick!==!1&&Ei.state.isVisible?na=!0:Is(Ji),Ji.type==="click"&&(To=!na),na&&!pa&&xs(Ji)}}function Ka(Ji){var Ko=Ji.target,na=ea().contains(Ko)||ma.contains(Ko);if(!(Ji.type==="mousemove"&&na)){var pa=ps().concat(ma).map(function(Pa){var Za,zs=Pa._tippy,el=(Za=zs.popperInstance)==null?void 0:Za.state;return el?{popperRect:Pa.getBoundingClientRect(),popperState:el,props:io}:null}).filter(Boolean);Xn(pa,Ji)&&(Eo(),xs(Ji))}}function ms(Ji){var Ko=Na(Ji)||Ei.props.trigger.indexOf("click")>=0&&To;if(!Ko){if(Ei.props.interactive){Ei.hideWithInteractivity(Ji);return}xs(Ji)}}function va(Ji){Ei.props.trigger.indexOf("focusin")<0&&Ji.target!==ea()||Ei.props.interactive&&Ji.relatedTarget&&ma.contains(Ji.relatedTarget)||xs(Ji)}function Na(Ji){return Wr.isTouch?ul()!==Ji.type.indexOf("touch")>=0:!1}function La(){_s();var Ji=Ei.props,Ko=Ji.popperOptions,na=Ji.placement,pa=Ji.offset,Pa=Ji.getReferenceClientRect,Za=Ji.moveTransition,zs=lo()?di(ma).arrow:null,el=Pa?{getBoundingClientRect:Pa,contextElement:Pa.contextElement||ea()}:$i,Sl={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ul){var al=Ul.state;if(lo()){var zn=ml(),qn=zn.box;["placement","reference-hidden","escaped"].forEach(function(Fr){Fr==="placement"?qn.setAttribute("data-placement",al.placement):al.attributes.popper["data-popper-"+Fr]?qn.setAttribute("data-"+Fr,""):qn.removeAttribute("data-"+Fr)}),al.attributes.popper={}}}},bl=[{name:"offset",options:{offset:pa}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Za}},Sl];lo()&&zs&&bl.push({name:"arrow",options:{element:zs,padding:3}}),bl.push.apply(bl,(Ko==null?void 0:Ko.modifiers)||[]),Ei.popperInstance=en.createPopper(el,ma,Object.assign({},Ko,{placement:na,onFirstUpdate:ss,modifiers:bl}))}function _s(){Ei.popperInstance&&(Ei.popperInstance.destroy(),Ei.popperInstance=null)}function ts(){var Ji=Ei.props.appendTo,Ko,na=ea();Ei.props.interactive&&Ji===Po.appendTo||Ji==="parent"?Ko=na.parentNode:Ko=gn(Ji,[na]),Ko.contains(ma)||Ko.appendChild(ma),La(),ji(Ei.props.interactive&&Ji===Po.appendTo&&na.nextElementSibling!==ma,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function ps(){return In(ma.querySelectorAll("[data-tippy-root]"))}function Is(Ji){Ei.clearDelayTimeouts(),Ji&&Bi("onTrigger",[Ei,Ji]),ta();var Ko=ki(!0),na=Js(),pa=na[0],Pa=na[1];Wr.isTouch&&pa==="hold"&&Pa&&(Ko=Pa),Ko?So=setTimeout(function(){Ei.show()},Ko):Ei.show()}function xs(Ji){if(Ei.clearDelayTimeouts(),Bi("onUntrigger",[Ei,Ji]),!Ei.state.isVisible){Ho();return}if(!(Ei.props.trigger.indexOf("mouseenter")>=0&&Ei.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Ji.type)>=0&&To)){var Ko=ki(!1);Ko?Xo=setTimeout(function(){Ei.state.isVisible&&Ei.hide()},Ko):Ro=requestAnimationFrame(function(){Ei.hide()})}}function Cl(){Ei.state.isEnabled=!0}function ol(){Ei.hide(),Ei.state.isEnabled=!1}function Ll(){clearTimeout(So),clearTimeout(Xo),cancelAnimationFrame(Ro)}function tc(Ji){if(ji(Ei.state.isDestroyed,ri("setProps")),!Ei.state.isDestroyed){Bi("onBeforeUpdate",[Ei,Ji]),Ia();var Ko=Ei.props,na=ro($i,Object.assign({},Ei.props,{},Ji,{ignoreAttributes:!0}));Ei.props=na,Ma(),Ko.interactiveDebounce!==na.interactiveDebounce&&(Eo(),Ya=mn(Ka,na.interactiveDebounce)),Ko.triggerTarget&&!na.triggerTarget?Cn(Ko.triggerTarget).forEach(function(pa){pa.removeAttribute("aria-expanded")}):na.triggerTarget&&$i.removeAttribute("aria-expanded"),co(),vi(),Bs&&Bs(Ko,na),Ei.popperInstance&&(La(),ps().forEach(function(pa){requestAnimationFrame(pa._tippy.popperInstance.forceUpdate)})),Bi("onAfterUpdate",[Ei,Ji])}}function nc(Ji){Ei.setProps({content:Ji})}function qs(){ji(Ei.state.isDestroyed,ri("show"));var Ji=Ei.state.isVisible,Ko=Ei.state.isDestroyed,na=!Ei.state.isEnabled,pa=Wr.isTouch&&!Ei.props.touch,Pa=hn(Ei.props.duration,0,Po.duration);if(!(Ji||Ko||na||pa)&&!ea().hasAttribute("disabled")&&(Bi("onShow",[Ei],!1),Ei.props.onShow(Ei)!==!1)){if(Ei.state.isVisible=!0,lo()&&(ma.style.visibility="visible"),vi(),ta(),Ei.state.isMounted||(ma.style.transition="none"),lo()){var Za=ml(),zs=Za.box,el=Za.content;Yn([zs,el],0)}ss=function(){var bl;if(!(!Ei.state.isVisible||jo)){if(jo=!0,ma.offsetHeight,ma.style.transition=Ei.props.moveTransition,lo()&&Ei.props.animation){var El=ml(),Ul=El.box,al=El.content;Yn([Ul,al],Pa),Wn([Ul,al],"visible")}Gi(),co(),xn(yo,Ei),(bl=Ei.popperInstance)==null||bl.forceUpdate(),Ei.state.isMounted=!0,Bi("onMount",[Ei]),Ei.props.animation&&lo()&&es(Pa,function(){Ei.state.isShown=!0,Bi("onShown",[Ei])})}},ts()}}function Ec(){ji(Ei.state.isDestroyed,ri("hide"));var Ji=!Ei.state.isVisible,Ko=Ei.state.isDestroyed,na=!Ei.state.isEnabled,pa=hn(Ei.props.duration,1,Po.duration);if(!(Ji||Ko||na)&&(Bi("onHide",[Ei],!1),Ei.props.onHide(Ei)!==!1)){if(Ei.state.isVisible=!1,Ei.state.isShown=!1,jo=!1,To=!1,lo()&&(ma.style.visibility="hidden"),Eo(),Ho(),vi(),lo()){var Pa=ml(),Za=Pa.box,zs=Pa.content;Ei.props.animation&&(Yn([Za,zs],pa),Wn([Za,zs],"hidden"))}Gi(),co(),Ei.props.animation?lo()&&Da(pa,Ei.unmount):Ei.unmount()}}function yl(Ji){ji(Ei.state.isDestroyed,ri("hideWithInteractivity")),hs().addEventListener("mousemove",Ya),xn(Li,Ya),Ya(Ji)}function xl(){ji(Ei.state.isDestroyed,ri("unmount")),Ei.state.isVisible&&Ei.hide(),Ei.state.isMounted&&(_s(),ps().forEach(function(Ji){Ji._tippy.unmount()}),ma.parentNode&&ma.parentNode.removeChild(ma),yo=yo.filter(function(Ji){return Ji!==Ei}),Ei.state.isMounted=!1,Bi("onHidden",[Ei]))}function ns(){ji(Ei.state.isDestroyed,ri("destroy")),!Ei.state.isDestroyed&&(Ei.clearDelayTimeouts(),Ei.unmount(),Ia(),delete $i._tippy,Ei.state.isDestroyed=!0,Bi("onDestroy",[Ei]))}}function bo($i,Hi){Hi===void 0&&(Hi={});var io=Po.plugins.concat(Hi.plugins||[]);po($i),Oo(Hi,io),Br();var So=Object.assign({},Hi,{plugins:io}),Xo=jn($i);{var Ro=Tn(So.content),To=Xo.length>1;ji(Ro&&To,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var Ra=Xo.reduce(function(fa,jo){var Ca=jo&&ko(jo,So);return Ca&&fa.push(Ca),fa},[]);return Tn($i)?Ra[0]:Ra}bo.defaultProps=Po,bo.setDefaultProps=Wi,bo.currentInput=Wr;var $o=function(Hi){var io=Hi===void 0?{}:Hi,So=io.exclude,Xo=io.duration;yo.forEach(function(Ro){var To=!1;if(So&&(To=Un(So)?Ro.reference===So:Ro.popper===So.popper),!To){var Ra=Ro.props.duration;Ro.setProps({duration:Xo}),Ro.hide(),Ro.state.isDestroyed||Ro.setProps({duration:Ra})}})},ra=Object.assign({},en.applyStyles,{effect:function(Hi){var io=Hi.state,So={popper:{position:io.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(io.elements.popper.style,So.popper),io.styles=So,io.elements.arrow&&Object.assign(io.elements.arrow.style,So.arrow)}}),Xi=function(Hi,io){var So;io===void 0&&(io={}),go(!Array.isArray(Hi),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(Hi)].join(" "));var Xo=Hi,Ro=[],To,Ra=io.overrides,fa=[],jo=!1;function Ca(){Ro=Xo.map(function(oa){return oa.reference})}function ja(oa){Xo.forEach(function(Uo){oa?Uo.enable():Uo.disable()})}function ss(oa){return Xo.map(function(Uo){var Ei=Uo.setProps;return Uo.setProps=function(vs){Ei(vs),Uo.reference===To&&oa.setProps(vs)},function(){Uo.setProps=Ei}})}function za(oa,Uo){var Ei=Ro.indexOf(Uo);if(Uo!==To){To=Uo;var vs=(Ra||[]).concat("content").reduce(function(ma,Bs){return ma[Bs]=Xo[Ei].props[Bs],ma},{});oa.setProps(Object.assign({},vs,{getReferenceClientRect:typeof vs.getReferenceClientRect=="function"?vs.getReferenceClientRect:function(){return Uo.getBoundingClientRect()}}))}}ja(!1),Ca();var Ya={fn:function(){return{onDestroy:function(){ja(!0)},onHidden:function(){To=null},onClickOutside:function(Ei){Ei.props.showOnCreate&&!jo&&(jo=!0,To=null)},onShow:function(Ei){Ei.props.showOnCreate&&!jo&&(jo=!0,za(Ei,Ro[0]))},onTrigger:function(Ei,vs){za(Ei,vs.currentTarget)}}}},ha=bo(Pn(),Object.assign({},_n(io,["overrides"]),{plugins:[Ya].concat(io.plugins||[]),triggerTarget:Ro,popperOptions:Object.assign({},io.popperOptions,{modifiers:[].concat(((So=io.popperOptions)==null?void 0:So.modifiers)||[],[ra])})})),ia=ha.show;ha.show=function(oa){if(ia(),!To&&oa==null)return za(ha,Ro[0]);if(!(To&&oa==null)){if(typeof oa=="number")return Ro[oa]&&za(ha,Ro[oa]);if(Xo.includes(oa)){var Uo=oa.reference;return za(ha,Uo)}if(Ro.includes(oa))return za(ha,oa)}},ha.showNext=function(){var oa=Ro[0];if(!To)return ha.show(0);var Uo=Ro.indexOf(To);ha.show(Ro[Uo+1]||oa)},ha.showPrevious=function(){var oa=Ro[Ro.length-1];if(!To)return ha.show(oa);var Uo=Ro.indexOf(To),Ei=Ro[Uo-1]||oa;ha.show(Ei)};var ca=ha.setProps;return ha.setProps=function(oa){Ra=oa.overrides||Ra,ca(oa)},ha.setInstances=function(oa){ja(!0),fa.forEach(function(Uo){return Uo()}),Xo=oa,ja(!1),Ca(),ss(ha),ha.setProps({triggerTarget:Ro})},fa=ss(ha),ha},zo={mouseover:"mouseenter",focusin:"focus",click:"click"};function fo($i,Hi){go(!(Hi&&Hi.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var io=[],So=[],Xo=!1,Ro=Hi.target,To=_n(Hi,["target"]),Ra=Object.assign({},To,{trigger:"manual",touch:!1}),fa=Object.assign({},To,{showOnCreate:!0}),jo=bo($i,Ra),Ca=Cn(jo);function ja(ia){if(!(!ia.target||Xo)){var ca=ia.target.closest(Ro);if(ca){var oa=ca.getAttribute("data-tippy-trigger")||Hi.trigger||Po.trigger;if(!ca._tippy&&!(ia.type==="touchstart"&&typeof fa.touch=="boolean")&&!(ia.type!=="touchstart"&&oa.indexOf(zo[ia.type])<0)){var Uo=bo(ca,fa);Uo&&(So=So.concat(Uo))}}}}function ss(ia,ca,oa,Uo){Uo===void 0&&(Uo=!1),ia.addEventListener(ca,oa,Uo),io.push({node:ia,eventType:ca,handler:oa,options:Uo})}function za(ia){var ca=ia.reference;ss(ca,"touchstart",ja,un),ss(ca,"mouseover",ja),ss(ca,"focusin",ja),ss(ca,"click",ja)}function Ya(){io.forEach(function(ia){var ca=ia.node,oa=ia.eventType,Uo=ia.handler,Ei=ia.options;ca.removeEventListener(oa,Uo,Ei)}),io=[]}function ha(ia){var ca=ia.destroy,oa=ia.enable,Uo=ia.disable;ia.destroy=function(Ei){Ei===void 0&&(Ei=!0),Ei&&So.forEach(function(vs){vs.destroy()}),So=[],Ya(),ca()},ia.enable=function(){oa(),So.forEach(function(Ei){return Ei.enable()}),Xo=!1},ia.disable=function(){Uo(),So.forEach(function(Ei){return Ei.disable()}),Xo=!0},za(ia)}return Ca.forEach(ha),jo}var la={name:"animateFill",defaultValue:!1,fn:function(Hi){var io;if(!((io=Hi.props.render)!=null&&io.$$tippy))return go(Hi.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var So=di(Hi.popper),Xo=So.box,Ro=So.content,To=Hi.props.animateFill?ya():null;return{onCreate:function(){To&&(Xo.insertBefore(To,Xo.firstElementChild),Xo.setAttribute("data-animatefill",""),Xo.style.overflow="hidden",Hi.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(To){var fa=Xo.style.transitionDuration,jo=Number(fa.replace("ms",""));Ro.style.transitionDelay=Math.round(jo/10)+"ms",To.style.transitionDuration=fa,Wn([To],"visible")}},onShow:function(){To&&(To.style.transitionDuration="0ms")},onHide:function(){To&&Wn([To],"hidden")}}}};function ya(){var $i=Pn();return $i.className=an,Wn([$i],"hidden"),$i}var Ms={clientX:0,clientY:0},da=[];function os($i){var Hi=$i.clientX,io=$i.clientY;Ms={clientX:Hi,clientY:io}}function Fa($i){$i.addEventListener("mousemove",os)}function As($i){$i.removeEventListener("mousemove",os)}var Zs={name:"followCursor",defaultValue:!1,fn:function(Hi){var io=Hi.reference,So=Qn(Hi.props.triggerTarget||io),Xo=!1,Ro=!1,To=!0,Ra=Hi.props;function fa(){return Hi.props.followCursor==="initial"&&Hi.state.isVisible}function jo(){So.addEventListener("mousemove",ss)}function Ca(){So.removeEventListener("mousemove",ss)}function ja(){Xo=!0,Hi.setProps({getReferenceClientRect:null}),Xo=!1}function ss(ha){var ia=ha.target?io.contains(ha.target):!0,ca=Hi.props.followCursor,oa=ha.clientX,Uo=ha.clientY,Ei=io.getBoundingClientRect(),vs=oa-Ei.left,ma=Uo-Ei.top;(ia||!Hi.props.interactive)&&Hi.setProps({getReferenceClientRect:function(){var Ea=io.getBoundingClientRect(),Fs=oa,Js=Uo;ca==="initial"&&(Fs=Ea.left+vs,Js=Ea.top+ma);var ul=ca==="horizontal"?Ea.top:Js,lo=ca==="vertical"?Ea.right:Fs,ea=ca==="horizontal"?Ea.bottom:Js,hs=ca==="vertical"?Ea.left:Fs;return{width:lo-hs,height:ea-ul,top:ul,right:lo,bottom:ea,left:hs}}})}function za(){Hi.props.followCursor&&(da.push({instance:Hi,doc:So}),Fa(So))}function Ya(){da=da.filter(function(ha){return ha.instance!==Hi}),da.filter(function(ha){return ha.doc===So}).length===0&&As(So)}return{onCreate:za,onDestroy:Ya,onBeforeUpdate:function(){Ra=Hi.props},onAfterUpdate:function(ia,ca){var oa=ca.followCursor;Xo||oa!==void 0&&Ra.followCursor!==oa&&(Ya(),oa?(za(),Hi.state.isMounted&&!Ro&&!fa()&&jo()):(Ca(),ja()))},onMount:function(){Hi.props.followCursor&&!Ro&&(To&&(ss(Ms),To=!1),fa()||jo())},onTrigger:function(ia,ca){Hn(ca)&&(Ms={clientX:ca.clientX,clientY:ca.clientY}),Ro=ca.type==="focus"},onHidden:function(){Hi.props.followCursor&&(ja(),Ca(),To=!0)}}}};function gl($i,Hi){var io;return{popperOptions:Object.assign({},$i.popperOptions,{modifiers:[].concat((((io=$i.popperOptions)==null?void 0:io.modifiers)||[]).filter(function(So){var Xo=So.name;return Xo!==Hi.name}),[Hi])})}}var us={name:"inlinePositioning",defaultValue:!1,fn:function(Hi){var io=Hi.reference;function So(){return!!Hi.props.inlinePositioning}var Xo,Ro=-1,To=!1,Ra={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(ss){var za=ss.state;So()&&(Xo!==za.placement&&Hi.setProps({getReferenceClientRect:function(){return fa(za.placement)}}),Xo=za.placement)}};function fa(ja){return jl(Mn(ja),io.getBoundingClientRect(),In(io.getClientRects()),Ro)}function jo(ja){To=!0,Hi.setProps(ja),To=!1}function Ca(){To||jo(gl(Hi.props,Ra))}return{onCreate:Ca,onAfterUpdate:Ca,onTrigger:function(ss,za){if(Hn(za)){var Ya=In(Hi.reference.getClientRects()),ha=Ya.find(function(ia){return ia.left-2<=za.clientX&&ia.right+2>=za.clientX&&ia.top-2<=za.clientY&&ia.bottom+2>=za.clientY});Ro=Ya.indexOf(ha)}},onUntrigger:function(){Ro=-1}}}};function jl($i,Hi,io,So){if(io.length<2||$i===null)return Hi;if(io.length===2&&So>=0&&io[0].left>io[1].right)return io[So]||Hi;switch($i){case"top":case"bottom":{var Xo=io[0],Ro=io[io.length-1],To=$i==="top",Ra=Xo.top,fa=Ro.bottom,jo=To?Xo.left:Ro.left,Ca=To?Xo.right:Ro.right,ja=Ca-jo,ss=fa-Ra;return{top:Ra,bottom:fa,left:jo,right:Ca,width:ja,height:ss}}case"left":case"right":{var za=Math.min.apply(Math,io.map(function(ma){return ma.left})),Ya=Math.max.apply(Math,io.map(function(ma){return ma.right})),ha=io.filter(function(ma){return $i==="left"?ma.left===za:ma.right===Ya}),ia=ha[0].top,ca=ha[ha.length-1].bottom,oa=za,Uo=Ya,Ei=Uo-oa,vs=ca-ia;return{top:ia,bottom:ca,left:oa,right:Uo,width:Ei,height:vs}}default:return Hi}}var vl={name:"sticky",defaultValue:!1,fn:function(Hi){var io=Hi.reference,So=Hi.popper;function Xo(){return Hi.popperInstance?Hi.popperInstance.state.elements.reference:io}function Ro(jo){return Hi.props.sticky===!0||Hi.props.sticky===jo}var To=null,Ra=null;function fa(){var jo=Ro("reference")?Xo().getBoundingClientRect():null,Ca=Ro("popper")?So.getBoundingClientRect():null;(jo&&fs(To,jo)||Ca&&fs(Ra,Ca))&&Hi.popperInstance&&Hi.popperInstance.update(),To=jo,Ra=Ca,Hi.state.isMounted&&requestAnimationFrame(fa)}return{onMount:function(){Hi.props.sticky&&fa()}}}};function fs($i,Hi){return $i&&Hi?$i.top!==Hi.top||$i.right!==Hi.right||$i.bottom!==Hi.bottom||$i.left!==Hi.left:!0}bo.setDefaultProps({render:Di}),Fe.animateFill=la,Fe.createSingleton=Xi,Fe.default=bo,Fe.delegate=fo,Fe.followCursor=Zs,Fe.hideAll=$o,Fe.inlinePositioning=us,Fe.roundArrow=tn,Fe.sticky=vl}),import_tippy2=__toModule(require_tippy_cjs()),import_tippy=__toModule(require_tippy_cjs()),buildConfigFromModifiers=Fe=>{const en={plugins:[]},tn=nn=>Fe[Fe.indexOf(nn)+1];if(Fe.includes("animation")&&(en.animation=tn("animation")),Fe.includes("duration")&&(en.duration=parseInt(tn("duration"))),Fe.includes("delay")){const nn=tn("delay");en.delay=nn.includes("-")?nn.split("-").map(rn=>parseInt(rn)):parseInt(nn)}if(Fe.includes("cursor")){en.plugins.push(import_tippy.followCursor);const nn=tn("cursor");["x","initial"].includes(nn)?en.followCursor=nn==="x"?"horizontal":"initial":en.followCursor=!0}return Fe.includes("on")&&(en.trigger=tn("on")),Fe.includes("arrowless")&&(en.arrow=!1),Fe.includes("html")&&(en.allowHTML=!0),Fe.includes("interactive")&&(en.interactive=!0),Fe.includes("border")&&en.interactive&&(en.interactiveBorder=parseInt(tn("border"))),Fe.includes("debounce")&&en.interactive&&(en.interactiveDebounce=parseInt(tn("debounce"))),Fe.includes("max-width")&&(en.maxWidth=parseInt(tn("max-width"))),Fe.includes("theme")&&(en.theme=tn("theme")),Fe.includes("placement")&&(en.placement=tn("placement")),en};function Tooltip(Fe){Fe.magic("tooltip",en=>(tn,nn={})=>{const rn=(0,import_tippy2.default)(en,{content:tn,trigger:"manual",...nn});rn.show(),setTimeout(()=>{rn.hide(),setTimeout(()=>rn.destroy(),nn.duration||300)},nn.timeout||2e3)}),Fe.directive("tooltip",(en,{modifiers:tn,expression:nn},{evaluateLater:rn,effect:an})=>{const ln=tn.length>0?buildConfigFromModifiers(tn):{};en.__x_tippy||(en.__x_tippy=(0,import_tippy2.default)(en,ln));const cn=()=>en.__x_tippy.enable(),un=()=>en.__x_tippy.disable(),fn=hn=>{hn?(cn(),en.__x_tippy.setContent(hn)):un()};if(tn.includes("raw"))fn(nn);else{const hn=rn(nn);an(()=>{hn(pn=>{typeof pn=="object"?(en.__x_tippy.setProps(pn),cn()):fn(pn)})})}})}Tooltip.defaultProps=Fe=>(import_tippy2.default.setDefaultProps(Fe),Tooltip);var src_default$2=Tooltip,module_default$2=src_default$2;function src_default$1(Fe){Fe.directive("collapse",en),en.inline=(tn,{modifiers:nn})=>{nn.includes("min")&&(tn._x_doShow=()=>{},tn._x_doHide=()=>{})};function en(tn,{modifiers:nn}){let rn=modifierValue(nn,"duration",250)/1e3,an=modifierValue(nn,"min",0),ln=!nn.includes("min");tn._x_isShown||(tn.style.height=`${an}px`),!tn._x_isShown&&ln&&(tn.hidden=!0),tn._x_isShown||(tn.style.overflow="hidden");let cn=(fn,hn)=>{let pn=Fe.setStyles(fn,hn);return hn.height?()=>{}:pn},un={transitionProperty:"height",transitionDuration:`${rn}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};tn._x_transition={in(fn=()=>{},hn=()=>{}){ln&&(tn.hidden=!1),ln&&(tn.style.display=null);let pn=tn.getBoundingClientRect().height;tn.style.height="auto";let gn=tn.getBoundingClientRect().height;pn===gn&&(pn=an),Fe.transition(tn,Fe.setStyles,{during:un,start:{height:pn+"px"},end:{height:gn+"px"}},()=>tn._x_isShown=!0,()=>{tn.getBoundingClientRect().height==gn&&(tn.style.overflow=null)})},out(fn=()=>{},hn=()=>{}){let pn=tn.getBoundingClientRect().height;Fe.transition(tn,cn,{during:un,start:{height:pn+"px"},end:{height:an+"px"}},()=>tn.style.overflow="hidden",()=>{tn._x_isShown=!1,tn.style.height==`${an}px`&&ln&&(tn.style.display="none",tn.hidden=!0)})}}}}function modifierValue(Fe,en,tn){if(Fe.indexOf(en)===-1)return tn;const nn=Fe[Fe.indexOf(en)+1];if(!nn)return tn;if(en==="duration"){let rn=nn.match(/([0-9]+)ms/);if(rn)return rn[1]}if(en==="min"){let rn=nn.match(/([0-9]+)px/);if(rn)return rn[1]}return nn}var module_default$1=src_default$1;function src_default(Fe){Fe.directive("mask",(en,{value:tn,expression:nn},{effect:rn,evaluateLater:an})=>{let ln=()=>nn,cn="";queueMicrotask(()=>{if(["function","dynamic"].includes(tn)){let hn=an(nn);rn(()=>{ln=pn=>{let gn;return Fe.dontAutoEvaluateFunctions(()=>{hn(mn=>{gn=typeof mn=="function"?mn(pn):mn},{scope:{$input:pn,$money:formatMoney.bind({el:en})}})}),gn},un(en,!1)})}else un(en,!1);en._x_model&&en._x_model.set(en.value)}),en.addEventListener("input",()=>un(en)),en.addEventListener("blur",()=>un(en,!1));function un(hn,pn=!0){let gn=hn.value,mn=ln(gn);if(!mn||mn==="false")return!1;if(cn.length-hn.value.length===1)return cn=hn.value;let _n=()=>{cn=hn.value=fn(gn,mn)};pn?restoreCursorPosition(hn,mn,()=>{_n()}):_n()}function fn(hn,pn){if(hn==="")return"";let gn=stripDown(pn,hn);return buildUp(pn,gn)}}).before("model")}function restoreCursorPosition(Fe,en,tn){let nn=Fe.selectionStart,rn=Fe.value;tn();let an=rn.slice(0,nn),ln=buildUp(en,stripDown(en,an)).length;Fe.setSelectionRange(ln,ln)}function stripDown(Fe,en){let tn=en,nn="",rn={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},an="";for(let ln=0;ln<Fe.length;ln++){if(["9","a","*"].includes(Fe[ln])){an+=Fe[ln];continue}for(let cn=0;cn<tn.length;cn++)if(tn[cn]===Fe[ln]){tn=tn.slice(0,cn)+tn.slice(cn+1);break}}for(let ln=0;ln<an.length;ln++){let cn=!1;for(let un=0;un<tn.length;un++)if(rn[an[ln]].test(tn[un])){nn+=tn[un],tn=tn.slice(0,un)+tn.slice(un+1),cn=!0;break}if(!cn)break}return nn}function buildUp(Fe,en){let tn=Array.from(en),nn="";for(let rn=0;rn<Fe.length;rn++){if(!["9","a","*"].includes(Fe[rn])){nn+=Fe[rn];continue}if(tn.length===0)break;nn+=tn.shift()}return nn}function formatMoney(Fe,en=".",tn,nn=2){if(Fe==="-")return"-";if(/^\D+$/.test(Fe))return"9";tn==null&&(tn=en===","?".":",");let rn=(un,fn)=>{let hn="",pn=0;for(let gn=un.length-1;gn>=0;gn--)un[gn]!==fn&&(pn===3?(hn=un[gn]+fn+hn,pn=0):hn=un[gn]+hn,pn++);return hn},an=Fe.startsWith("-")?"-":"",ln=Fe.replaceAll(new RegExp(`[^0-9\\${en}]`,"g"),""),cn=Array.from({length:ln.split(en)[0].length}).fill("9").join("");return cn=`${an}${rn(cn,tn)}`,nn>0&&Fe.includes(en)&&(cn+=`${en}`+"9".repeat(nn)),queueMicrotask(()=>{this.el.value.endsWith(en)||this.el.value[this.el.selectionStart-1]===en&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),cn}var module_default=src_default;/*! DataTables 1.13.7
 * Â©2008-2023 SpryMedia Ltd - datatables.net/license
 */var $$2=$$3,DataTable=function(Fe,en){if(DataTable.factory(Fe,en))return DataTable;if(this instanceof DataTable)return $$2(Fe).DataTable(en);en=Fe,this.$=function(ln,cn){return this.api(!0).$(ln,cn)},this._=function(ln,cn){return this.api(!0).rows(ln,cn).data()},this.api=function(ln){return ln?new _Api(_fnSettingsFromNode(this[_ext.iApiIndex])):new _Api(this)},this.fnAddData=function(ln,cn){var un=this.api(!0),fn=Array.isArray(ln)&&(Array.isArray(ln[0])||$$2.isPlainObject(ln[0]))?un.rows.add(ln):un.row.add(ln);return(cn===void 0||cn)&&un.draw(),fn.flatten().toArray()},this.fnAdjustColumnSizing=function(ln){var cn=this.api(!0).columns.adjust(),un=cn.settings()[0],fn=un.oScroll;ln===void 0||ln?cn.draw(!1):(fn.sX!==""||fn.sY!=="")&&_fnScrollDraw(un)},this.fnClearTable=function(ln){var cn=this.api(!0).clear();(ln===void 0||ln)&&cn.draw()},this.fnClose=function(ln){this.api(!0).row(ln).child.hide()},this.fnDeleteRow=function(ln,cn,un){var fn=this.api(!0),hn=fn.rows(ln),pn=hn.settings()[0],gn=pn.aoData[hn[0][0]];return hn.remove(),cn&&cn.call(this,pn,gn),(un===void 0||un)&&fn.draw(),gn},this.fnDestroy=function(ln){this.api(!0).destroy(ln)},this.fnDraw=function(ln){this.api(!0).draw(ln)},this.fnFilter=function(ln,cn,un,fn,hn,pn){var gn=this.api(!0);cn==null?gn.search(ln,un,fn,pn):gn.column(cn).search(ln,un,fn,pn),gn.draw()},this.fnGetData=function(ln,cn){var un=this.api(!0);if(ln!==void 0){var fn=ln.nodeName?ln.nodeName.toLowerCase():"";return cn!==void 0||fn=="td"||fn=="th"?un.cell(ln,cn).data():un.row(ln).data()||null}return un.data().toArray()},this.fnGetNodes=function(ln){var cn=this.api(!0);return ln!==void 0?cn.row(ln).node():cn.rows().nodes().flatten().toArray()},this.fnGetPosition=function(ln){var cn=this.api(!0),un=ln.nodeName.toUpperCase();if(un=="TR")return cn.row(ln).index();if(un=="TD"||un=="TH"){var fn=cn.cell(ln).index();return[fn.row,fn.columnVisible,fn.column]}return null},this.fnIsOpen=function(ln){return this.api(!0).row(ln).child.isShown()},this.fnOpen=function(ln,cn,un){return this.api(!0).row(ln).child(cn,un).show().child()[0]},this.fnPageChange=function(ln,cn){var un=this.api(!0).page(ln);(cn===void 0||cn)&&un.draw(!1)},this.fnSetColumnVis=function(ln,cn,un){var fn=this.api(!0).column(ln).visible(cn);(un===void 0||un)&&fn.columns.adjust().draw()},this.fnSettings=function(){return _fnSettingsFromNode(this[_ext.iApiIndex])},this.fnSort=function(ln){this.api(!0).order(ln).draw()},this.fnSortListener=function(ln,cn,un){this.api(!0).order.listener(ln,cn,un)},this.fnUpdate=function(ln,cn,un,fn,hn){var pn=this.api(!0);return un==null?pn.row(cn).data(ln):pn.cell(cn,un).data(ln),(hn===void 0||hn)&&pn.columns.adjust(),(fn===void 0||fn)&&pn.draw(),0},this.fnVersionCheck=_ext.fnVersionCheck;var tn=this,nn=en===void 0,rn=this.length;nn&&(en={}),this.oApi=this.internal=_ext.internal;for(var an in DataTable.ext.internal)an&&(this[an]=_fnExternApiFunc(an));return this.each(function(){var ln={},cn=rn>1?_fnExtend(ln,en,!0):en,un=0,fn,hn=this.getAttribute("id"),pn=!1,gn=DataTable.defaults,mn=$$2(this);if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}_fnCompatOpts(gn),_fnCompatCols(gn.column),_fnCamelToHungarian(gn,gn,!0),_fnCamelToHungarian(gn.column,gn.column,!0),_fnCamelToHungarian(gn,$$2.extend(cn,mn.data()),!0);var _n=DataTable.settings;for(un=0,fn=_n.length;un<fn;un++){var kn=_n[un];if(kn.nTable==this||kn.nTHead&&kn.nTHead.parentNode==this||kn.nTFoot&&kn.nTFoot.parentNode==this){var Cn=cn.bRetrieve!==void 0?cn.bRetrieve:gn.bRetrieve,xn=cn.bDestroy!==void 0?cn.bDestroy:gn.bDestroy;if(nn||Cn)return kn.oInstance;if(xn){kn.oInstance.fnDestroy();break}else{_fnLog(kn,0,"Cannot reinitialise DataTable",3);return}}if(kn.sTableId==this.id){_n.splice(un,1);break}}(hn===null||hn==="")&&(hn="DataTables_Table_"+DataTable.ext._unique++,this.id=hn);var Sn=$$2.extend(!0,{},DataTable.models.oSettings,{sDestroyWidth:mn[0].style.width,sInstance:hn,sTableId:hn});Sn.nTable=this,Sn.oApi=tn.internal,Sn.oInit=cn,_n.push(Sn),Sn.oInstance=tn.length===1?tn:mn.dataTable(),_fnCompatOpts(cn),_fnLanguageCompat(cn.oLanguage),cn.aLengthMenu&&!cn.iDisplayLength&&(cn.iDisplayLength=Array.isArray(cn.aLengthMenu[0])?cn.aLengthMenu[0][0]:cn.aLengthMenu[0]),cn=_fnExtend($$2.extend(!0,{},gn),cn),_fnMap(Sn.oFeatures,cn,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),_fnMap(Sn,cn,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),_fnMap(Sn.oScroll,cn,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),_fnMap(Sn.oLanguage,cn,"fnInfoCallback"),_fnCallbackReg(Sn,"aoDrawCallback",cn.fnDrawCallback,"user"),_fnCallbackReg(Sn,"aoServerParams",cn.fnServerParams,"user"),_fnCallbackReg(Sn,"aoStateSaveParams",cn.fnStateSaveParams,"user"),_fnCallbackReg(Sn,"aoStateLoadParams",cn.fnStateLoadParams,"user"),_fnCallbackReg(Sn,"aoStateLoaded",cn.fnStateLoaded,"user"),_fnCallbackReg(Sn,"aoRowCallback",cn.fnRowCallback,"user"),_fnCallbackReg(Sn,"aoRowCreatedCallback",cn.fnCreatedRow,"user"),_fnCallbackReg(Sn,"aoHeaderCallback",cn.fnHeaderCallback,"user"),_fnCallbackReg(Sn,"aoFooterCallback",cn.fnFooterCallback,"user"),_fnCallbackReg(Sn,"aoInitComplete",cn.fnInitComplete,"user"),_fnCallbackReg(Sn,"aoPreDrawCallback",cn.fnPreDrawCallback,"user"),Sn.rowIdFn=_fnGetObjectDataFn(cn.rowId),_fnBrowserDetect(Sn);var Mn=Sn.oClasses;if($$2.extend(Mn,DataTable.ext.classes,cn.oClasses),mn.addClass(Mn.sTable),Sn.iInitDisplayStart===void 0&&(Sn.iInitDisplayStart=cn.iDisplayStart,Sn._iDisplayStart=cn.iDisplayStart),cn.iDeferLoading!==null){Sn.bDeferLoading=!0;var In=Array.isArray(cn.iDeferLoading);Sn._iRecordsDisplay=In?cn.iDeferLoading[0]:cn.iDeferLoading,Sn._iRecordsTotal=In?cn.iDeferLoading[1]:cn.iDeferLoading}var On=Sn.oLanguage;$$2.extend(!0,On,cn.oLanguage),On.sUrl?($$2.ajax({dataType:"json",url:On.sUrl,success:function(Qn){_fnCamelToHungarian(gn.oLanguage,Qn),_fnLanguageCompat(Qn),$$2.extend(!0,On,Qn,Sn.oInit.oLanguage),_fnCallbackFire(Sn,null,"i18n",[Sn]),_fnInitialise(Sn)},error:function(){_fnInitialise(Sn)}}),pn=!0):_fnCallbackFire(Sn,null,"i18n",[Sn]),cn.asStripeClasses===null&&(Sn.asStripeClasses=[Mn.sStripeOdd,Mn.sStripeEven]);var Pn=Sn.asStripeClasses,Tn=mn.children("tbody").find("tr").eq(0);$$2.inArray(!0,$$2.map(Pn,function(Qn,Xn){return Tn.hasClass(Qn)}))!==-1&&($$2("tbody tr",this).removeClass(Pn.join(" ")),Sn.asDestroyStripes=Pn.slice());var Nn=[],Hn,Un=this.getElementsByTagName("thead");if(Un.length!==0&&(_fnDetectHeader(Sn.aoHeader,Un[0]),Nn=_fnGetUniqueThs(Sn)),cn.aoColumns===null)for(Hn=[],un=0,fn=Nn.length;un<fn;un++)Hn.push(null);else Hn=cn.aoColumns;for(un=0,fn=Hn.length;un<fn;un++)_fnAddColumn(Sn,Nn?Nn[un]:null);if(_fnApplyColumnDefs(Sn,cn.aoColumnDefs,Hn,function(Qn,Xn){_fnColumnOptions(Sn,Qn,Xn)}),Tn.length){var jn=function(Qn,Xn){return Qn.getAttribute("data-"+Xn)!==null?Xn:null};$$2(Tn[0]).children("th, td").each(function(Qn,Xn){var jr=Sn.aoColumns[Qn];if(jr||_fnLog(Sn,0,"Incorrect column count",18),jr.mData===Qn){var Wr=jn(Xn,"sort")||jn(Xn,"order"),Jr=jn(Xn,"filter")||jn(Xn,"search");(Wr!==null||Jr!==null)&&(jr.mData={_:Qn+".display",sort:Wr!==null?Qn+".@data-"+Wr:void 0,type:Wr!==null?Qn+".@data-"+Wr:void 0,filter:Jr!==null?Qn+".@data-"+Jr:void 0},jr._isArrayHost=!0,_fnColumnOptions(Sn,Qn))}})}var Yn=Sn.oFeatures,Wn=function(){if(cn.aaSorting===void 0){var Qn=Sn.aaSorting;for(un=0,fn=Qn.length;un<fn;un++)Qn[un][1]=Sn.aoColumns[un].asSorting[0]}_fnSortingClasses(Sn),Yn.bSort&&_fnCallbackReg(Sn,"aoDrawCallback",function(){if(Sn.bSorted){var ci=_fnSortFlatten(Sn),ti={};$$2.each(ci,function(Zr,Br){ti[Br.src]=Br.dir}),_fnCallbackFire(Sn,null,"order",[Sn,ci,ti]),_fnSortAria(Sn)}}),_fnCallbackReg(Sn,"aoDrawCallback",function(){(Sn.bSorted||_fnDataSource(Sn)==="ssp"||Yn.bDeferRender)&&_fnSortingClasses(Sn)},"sc");var Xn=mn.children("caption").each(function(){this._captionSide=$$2(this).css("caption-side")}),jr=mn.children("thead");jr.length===0&&(jr=$$2("<thead/>").appendTo(mn)),Sn.nTHead=jr[0];var Wr=mn.children("tbody");Wr.length===0&&(Wr=$$2("<tbody/>").insertAfter(jr)),Sn.nTBody=Wr[0];var Jr=mn.children("tfoot");if(Jr.length===0&&Xn.length>0&&(Sn.oScroll.sX!==""||Sn.oScroll.sY!=="")&&(Jr=$$2("<tfoot/>").appendTo(mn)),Jr.length===0||Jr.children().length===0?mn.addClass(Mn.sNoFooter):Jr.length>0&&(Sn.nTFoot=Jr[0],_fnDetectHeader(Sn.aoFooter,Sn.nTFoot)),cn.aaData)for(un=0;un<cn.aaData.length;un++)_fnAddData(Sn,cn.aaData[un]);else(Sn.bDeferLoading||_fnDataSource(Sn)=="dom")&&_fnAddTr(Sn,$$2(Sn.nTBody).children("tr"));Sn.aiDisplay=Sn.aiDisplayMaster.slice(),Sn.bInitialised=!0,pn===!1&&_fnInitialise(Sn)};_fnCallbackReg(Sn,"aoDrawCallback",_fnSaveState,"state_save"),cn.bStateSave?(Yn.bStateSave=!0,_fnLoadState(Sn,cn,Wn)):Wn()}),tn=null,this},_ext,_Api,_api_register,_api_registerPlural,_re_dic={},_re_new_lines=/[\r\n\u2028]/g,_re_html=/<.*?>/g,_re_date=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,_re_escape_regex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),_re_formatted_numeric=/['\u00A0,$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,_empty=function(Fe){return!Fe||Fe===!0||Fe==="-"},_intVal=function(Fe){var en=parseInt(Fe,10);return!isNaN(en)&&isFinite(Fe)?en:null},_numToDecimal=function(Fe,en){return _re_dic[en]||(_re_dic[en]=new RegExp(_fnEscapeRegex(en),"g")),typeof Fe=="string"&&en!=="."?Fe.replace(/\./g,"").replace(_re_dic[en],"."):Fe},_isNumber=function(Fe,en,tn){var nn=typeof Fe,rn=nn==="string";return nn==="number"||nn==="bigint"||_empty(Fe)?!0:(en&&rn&&(Fe=_numToDecimal(Fe,en)),tn&&rn&&(Fe=Fe.replace(_re_formatted_numeric,"")),!isNaN(parseFloat(Fe))&&isFinite(Fe))},_isHtml=function(Fe){return _empty(Fe)||typeof Fe=="string"},_htmlNumeric=function(Fe,en,tn){if(_empty(Fe))return!0;var nn=_isHtml(Fe);return nn&&_isNumber(_stripHtml(Fe),en,tn)?!0:null},_pluck=function(Fe,en,tn){var nn=[],rn=0,an=Fe.length;if(tn!==void 0)for(;rn<an;rn++)Fe[rn]&&Fe[rn][en]&&nn.push(Fe[rn][en][tn]);else for(;rn<an;rn++)Fe[rn]&&nn.push(Fe[rn][en]);return nn},_pluck_order=function(Fe,en,tn,nn){var rn=[],an=0,ln=en.length;if(nn!==void 0)for(;an<ln;an++)Fe[en[an]][tn]&&rn.push(Fe[en[an]][tn][nn]);else for(;an<ln;an++)rn.push(Fe[en[an]][tn]);return rn},_range=function(Fe,en){var tn=[],nn;en===void 0?(en=0,nn=Fe):(nn=en,en=Fe);for(var rn=en;rn<nn;rn++)tn.push(rn);return tn},_removeEmpty=function(Fe){for(var en=[],tn=0,nn=Fe.length;tn<nn;tn++)Fe[tn]&&en.push(Fe[tn]);return en},_stripHtml=function(Fe){return Fe.replace(_re_html,"").replace(/<script/i,"")},_areAllUnique=function(Fe){if(Fe.length<2)return!0;for(var en=Fe.slice().sort(),tn=en[0],nn=1,rn=en.length;nn<rn;nn++){if(en[nn]===tn)return!1;tn=en[nn]}return!0},_unique=function(Fe){if(_areAllUnique(Fe))return Fe.slice();var en=[],tn,nn,rn=Fe.length,an,ln=0;e:for(nn=0;nn<rn;nn++){for(tn=Fe[nn],an=0;an<ln;an++)if(en[an]===tn)continue e;en.push(tn),ln++}return en},_flatten=function(Fe,en){if(Array.isArray(en))for(var tn=0;tn<en.length;tn++)_flatten(Fe,en[tn]);else Fe.push(en);return Fe},_includes=function(Fe,en){return en===void 0&&(en=0),this.indexOf(Fe,en)!==-1};Array.isArray||(Array.isArray=function(Fe){return Object.prototype.toString.call(Fe)==="[object Array]"});Array.prototype.includes||(Array.prototype.includes=_includes);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=_includes);DataTable.util={throttle:function(Fe,en){var tn=en!==void 0?en:200,nn,rn;return function(){var an=this,ln=+new Date,cn=arguments;nn&&ln<nn+tn?(clearTimeout(rn),rn=setTimeout(function(){nn=void 0,Fe.apply(an,cn)},tn)):(nn=ln,Fe.apply(an,cn))}},escapeRegex:function(Fe){return Fe.replace(_re_escape_regex,"\\$1")},set:function(Fe){if($$2.isPlainObject(Fe))return DataTable.util.set(Fe._);if(Fe===null)return function(){};if(typeof Fe=="function")return function(tn,nn,rn){Fe(tn,"set",nn,rn)};if(typeof Fe=="string"&&(Fe.indexOf(".")!==-1||Fe.indexOf("[")!==-1||Fe.indexOf("(")!==-1)){var en=function(tn,nn,rn){for(var an=_fnSplitObjNotation(rn),ln,cn=an[an.length-1],un,fn,hn,pn,gn=0,mn=an.length-1;gn<mn;gn++){if(an[gn]==="__proto__"||an[gn]==="constructor")throw new Error("Cannot set prototype values");if(un=an[gn].match(__reArray),fn=an[gn].match(__reFn),un){if(an[gn]=an[gn].replace(__reArray,""),tn[an[gn]]=[],ln=an.slice(),ln.splice(0,gn+1),pn=ln.join("."),Array.isArray(nn))for(var _n=0,kn=nn.length;_n<kn;_n++)hn={},en(hn,nn[_n],pn),tn[an[gn]].push(hn);else tn[an[gn]]=nn;return}else fn&&(an[gn]=an[gn].replace(__reFn,""),tn=tn[an[gn]](nn));(tn[an[gn]]===null||tn[an[gn]]===void 0)&&(tn[an[gn]]={}),tn=tn[an[gn]]}cn.match(__reFn)?tn=tn[cn.replace(__reFn,"")](nn):tn[cn.replace(__reArray,"")]=nn};return function(tn,nn){return en(tn,nn,Fe)}}else return function(tn,nn){tn[Fe]=nn}},get:function(Fe){if($$2.isPlainObject(Fe)){var en={};return $$2.each(Fe,function(nn,rn){rn&&(en[nn]=DataTable.util.get(rn))}),function(nn,rn,an,ln){var cn=en[rn]||en._;return cn!==void 0?cn(nn,rn,an,ln):nn}}else{if(Fe===null)return function(nn){return nn};if(typeof Fe=="function")return function(nn,rn,an,ln){return Fe(nn,rn,an,ln)};if(typeof Fe=="string"&&(Fe.indexOf(".")!==-1||Fe.indexOf("[")!==-1||Fe.indexOf("(")!==-1)){var tn=function(nn,rn,an){var ln,cn,un,fn;if(an!=="")for(var hn=_fnSplitObjNotation(an),pn=0,gn=hn.length;pn<gn;pn++){if(ln=hn[pn].match(__reArray),cn=hn[pn].match(__reFn),ln){if(hn[pn]=hn[pn].replace(__reArray,""),hn[pn]!==""&&(nn=nn[hn[pn]]),un=[],hn.splice(0,pn+1),fn=hn.join("."),Array.isArray(nn))for(var mn=0,_n=nn.length;mn<_n;mn++)un.push(tn(nn[mn],rn,fn));var kn=ln[0].substring(1,ln[0].length-1);nn=kn===""?un:un.join(kn);break}else if(cn){hn[pn]=hn[pn].replace(__reFn,""),nn=nn[hn[pn]]();continue}if(nn===null||nn[hn[pn]]===null)return null;if(nn===void 0||nn[hn[pn]]===void 0)return;nn=nn[hn[pn]]}return nn};return function(nn,rn){return tn(nn,rn,Fe)}}else return function(nn,rn){return nn[Fe]}}}};function _fnHungarianMap(Fe){var en="a aa ai ao as b fn i m o s ",tn,nn,rn={};$$2.each(Fe,function(an,ln){tn=an.match(/^([^A-Z]+?)([A-Z])/),tn&&en.indexOf(tn[1]+" ")!==-1&&(nn=an.replace(tn[0],tn[2].toLowerCase()),rn[nn]=an,tn[1]==="o"&&_fnHungarianMap(Fe[an]))}),Fe._hungarianMap=rn}function _fnCamelToHungarian(Fe,en,tn){Fe._hungarianMap||_fnHungarianMap(Fe);var nn;$$2.each(en,function(rn,an){nn=Fe._hungarianMap[rn],nn!==void 0&&(tn||en[nn]===void 0)&&(nn.charAt(0)==="o"?(en[nn]||(en[nn]={}),$$2.extend(!0,en[nn],en[rn]),_fnCamelToHungarian(Fe[nn],en[nn],tn)):en[nn]=en[rn])})}function _fnLanguageCompat(Fe){var en=DataTable.defaults.oLanguage,tn=en.sDecimal;if(tn&&_addNumericSort(tn),Fe){var nn=Fe.sZeroRecords;!Fe.sEmptyTable&&nn&&en.sEmptyTable==="No data available in table"&&_fnMap(Fe,Fe,"sZeroRecords","sEmptyTable"),!Fe.sLoadingRecords&&nn&&en.sLoadingRecords==="Loading..."&&_fnMap(Fe,Fe,"sZeroRecords","sLoadingRecords"),Fe.sInfoThousands&&(Fe.sThousands=Fe.sInfoThousands);var rn=Fe.sDecimal;rn&&tn!==rn&&_addNumericSort(rn)}}var _fnCompatMap=function(Fe,en,tn){Fe[en]!==void 0&&(Fe[tn]=Fe[en])};function _fnCompatOpts(Fe){_fnCompatMap(Fe,"ordering","bSort"),_fnCompatMap(Fe,"orderMulti","bSortMulti"),_fnCompatMap(Fe,"orderClasses","bSortClasses"),_fnCompatMap(Fe,"orderCellsTop","bSortCellsTop"),_fnCompatMap(Fe,"order","aaSorting"),_fnCompatMap(Fe,"orderFixed","aaSortingFixed"),_fnCompatMap(Fe,"paging","bPaginate"),_fnCompatMap(Fe,"pagingType","sPaginationType"),_fnCompatMap(Fe,"pageLength","iDisplayLength"),_fnCompatMap(Fe,"searching","bFilter"),typeof Fe.sScrollX=="boolean"&&(Fe.sScrollX=Fe.sScrollX?"100%":""),typeof Fe.scrollX=="boolean"&&(Fe.scrollX=Fe.scrollX?"100%":"");var en=Fe.aoSearchCols;if(en)for(var tn=0,nn=en.length;tn<nn;tn++)en[tn]&&_fnCamelToHungarian(DataTable.models.oSearch,en[tn])}function _fnCompatCols(Fe){_fnCompatMap(Fe,"orderable","bSortable"),_fnCompatMap(Fe,"orderData","aDataSort"),_fnCompatMap(Fe,"orderSequence","asSorting"),_fnCompatMap(Fe,"orderDataType","sortDataType");var en=Fe.aDataSort;typeof en=="number"&&!Array.isArray(en)&&(Fe.aDataSort=[en])}function _fnBrowserDetect(Fe){if(!DataTable.__browser){var en={};DataTable.__browser=en;var tn=$$2("<div/>").css({position:"fixed",top:0,left:$$2(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append($$2("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append($$2("<div/>").css({width:"100%",height:10}))).appendTo("body"),nn=tn.children(),rn=nn.children();en.barWidth=nn[0].offsetWidth-nn[0].clientWidth,en.bScrollOversize=rn[0].offsetWidth===100&&nn[0].clientWidth!==100,en.bScrollbarLeft=Math.round(rn.offset().left)!==1,en.bBounding=!!tn[0].getBoundingClientRect().width,tn.remove()}$$2.extend(Fe.oBrowser,DataTable.__browser),Fe.oScroll.iBarWidth=DataTable.__browser.barWidth}function _fnReduce(Fe,en,tn,nn,rn,an){var ln=nn,cn,un=!1;for(tn!==void 0&&(cn=tn,un=!0);ln!==rn;)Fe.hasOwnProperty(ln)&&(cn=un?en(cn,Fe[ln],ln,Fe):Fe[ln],un=!0,ln+=an);return cn}function _fnAddColumn(Fe,en){var tn=DataTable.defaults.column,nn=Fe.aoColumns.length,rn=$$2.extend({},DataTable.models.oColumn,tn,{nTh:en||document.createElement("th"),sTitle:tn.sTitle?tn.sTitle:en?en.innerHTML:"",aDataSort:tn.aDataSort?tn.aDataSort:[nn],mData:tn.mData?tn.mData:nn,idx:nn});Fe.aoColumns.push(rn);var an=Fe.aoPreSearchCols;an[nn]=$$2.extend({},DataTable.models.oSearch,an[nn]),_fnColumnOptions(Fe,nn,$$2(en).data())}function _fnColumnOptions(Fe,en,tn){var nn=Fe.aoColumns[en],rn=Fe.oClasses,an=$$2(nn.nTh);if(!nn.sWidthOrig){nn.sWidthOrig=an.attr("width")||null;var ln=(an.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);ln&&(nn.sWidthOrig=ln[1])}if(tn!=null){_fnCompatCols(tn),_fnCamelToHungarian(DataTable.defaults.column,tn,!0),tn.mDataProp!==void 0&&!tn.mData&&(tn.mData=tn.mDataProp),tn.sType&&(nn._sManualType=tn.sType),tn.className&&!tn.sClass&&(tn.sClass=tn.className),tn.sClass&&an.addClass(tn.sClass);var cn=nn.sClass;$$2.extend(nn,tn),_fnMap(nn,tn,"sWidth","sWidthOrig"),cn!==nn.sClass&&(nn.sClass=cn+" "+nn.sClass),tn.iDataSort!==void 0&&(nn.aDataSort=[tn.iDataSort]),_fnMap(nn,tn,"aDataSort"),nn.ariaTitle||(nn.ariaTitle=an.attr("aria-label"))}var un=nn.mData,fn=_fnGetObjectDataFn(un),hn=nn.mRender?_fnGetObjectDataFn(nn.mRender):null,pn=function(_n){return typeof _n=="string"&&_n.indexOf("@")!==-1};nn._bAttrSrc=$$2.isPlainObject(un)&&(pn(un.sort)||pn(un.type)||pn(un.filter)),nn._setter=null,nn.fnGetData=function(_n,kn,Cn){var xn=fn(_n,kn,void 0,Cn);return hn&&kn?hn(xn,kn,_n,Cn):xn},nn.fnSetData=function(_n,kn,Cn){return _fnSetObjectDataFn(un)(_n,kn,Cn)},typeof un!="number"&&!nn._isArrayHost&&(Fe._rowReadObject=!0),Fe.oFeatures.bSort||(nn.bSortable=!1,an.addClass(rn.sSortableNone));var gn=$$2.inArray("asc",nn.asSorting)!==-1,mn=$$2.inArray("desc",nn.asSorting)!==-1;!nn.bSortable||!gn&&!mn?(nn.sSortingClass=rn.sSortableNone,nn.sSortingClassJUI=""):gn&&!mn?(nn.sSortingClass=rn.sSortableAsc,nn.sSortingClassJUI=rn.sSortJUIAscAllowed):!gn&&mn?(nn.sSortingClass=rn.sSortableDesc,nn.sSortingClassJUI=rn.sSortJUIDescAllowed):(nn.sSortingClass=rn.sSortable,nn.sSortingClassJUI=rn.sSortJUI)}function _fnAdjustColumnSizing(Fe){if(Fe.oFeatures.bAutoWidth!==!1){var en=Fe.aoColumns;_fnCalculateColumnWidths(Fe);for(var tn=0,nn=en.length;tn<nn;tn++)en[tn].nTh.style.width=en[tn].sWidth}var rn=Fe.oScroll;(rn.sY!==""||rn.sX!=="")&&_fnScrollDraw(Fe),_fnCallbackFire(Fe,null,"column-sizing",[Fe])}function _fnVisibleToColumnIndex(Fe,en){var tn=_fnGetColumns(Fe,"bVisible");return typeof tn[en]=="number"?tn[en]:null}function _fnColumnIndexToVisible(Fe,en){var tn=_fnGetColumns(Fe,"bVisible"),nn=$$2.inArray(en,tn);return nn!==-1?nn:null}function _fnVisbleColumns(Fe){var en=0;return $$2.each(Fe.aoColumns,function(tn,nn){nn.bVisible&&$$2(nn.nTh).css("display")!=="none"&&en++}),en}function _fnGetColumns(Fe,en){var tn=[];return $$2.map(Fe.aoColumns,function(nn,rn){nn[en]&&tn.push(rn)}),tn}function _fnColumnTypes(Fe){var en=Fe.aoColumns,tn=Fe.aoData,nn=DataTable.ext.type.detect,rn,an,ln,cn,un,fn,hn,pn,gn;for(rn=0,an=en.length;rn<an;rn++)if(hn=en[rn],gn=[],!hn.sType&&hn._sManualType)hn.sType=hn._sManualType;else if(!hn.sType){for(ln=0,cn=nn.length;ln<cn;ln++){for(un=0,fn=tn.length;un<fn&&(gn[un]===void 0&&(gn[un]=_fnGetCellData(Fe,un,rn,"type")),pn=nn[ln](gn[un],Fe),!(!pn&&ln!==nn.length-1||pn==="html"&&!_empty(gn[un])));un++);if(pn){hn.sType=pn;break}}hn.sType||(hn.sType="string")}}function _fnApplyColumnDefs(Fe,en,tn,nn){var rn,an,ln,cn,un,fn,hn,pn=Fe.aoColumns;if(en)for(rn=en.length-1;rn>=0;rn--){hn=en[rn];var gn=hn.target!==void 0?hn.target:hn.targets!==void 0?hn.targets:hn.aTargets;for(Array.isArray(gn)||(gn=[gn]),ln=0,cn=gn.length;ln<cn;ln++)if(typeof gn[ln]=="number"&&gn[ln]>=0){for(;pn.length<=gn[ln];)_fnAddColumn(Fe);nn(gn[ln],hn)}else if(typeof gn[ln]=="number"&&gn[ln]<0)nn(pn.length+gn[ln],hn);else if(typeof gn[ln]=="string")for(un=0,fn=pn.length;un<fn;un++)(gn[ln]=="_all"||$$2(pn[un].nTh).hasClass(gn[ln]))&&nn(un,hn)}if(tn)for(rn=0,an=tn.length;rn<an;rn++)nn(rn,tn[rn])}function _fnAddData(Fe,en,tn,nn){var rn=Fe.aoData.length,an=$$2.extend(!0,{},DataTable.models.oRow,{src:tn?"dom":"data",idx:rn});an._aData=en,Fe.aoData.push(an);for(var ln=Fe.aoColumns,cn=0,un=ln.length;cn<un;cn++)ln[cn].sType=null;Fe.aiDisplayMaster.push(rn);var fn=Fe.rowIdFn(en);return fn!==void 0&&(Fe.aIds[fn]=an),(tn||!Fe.oFeatures.bDeferRender)&&_fnCreateTr(Fe,rn,tn,nn),rn}function _fnAddTr(Fe,en){var tn;return en instanceof $$2||(en=$$2(en)),en.map(function(nn,rn){return tn=_fnGetRowElements(Fe,rn),_fnAddData(Fe,tn.data,rn,tn.cells)})}function _fnNodeToDataIndex(Fe,en){return en._DT_RowIndex!==void 0?en._DT_RowIndex:null}function _fnNodeToColumnIndex(Fe,en,tn){return $$2.inArray(tn,Fe.aoData[en].anCells)}function _fnGetCellData(Fe,en,tn,nn){nn==="search"?nn="filter":nn==="order"&&(nn="sort");var rn=Fe.iDraw,an=Fe.aoColumns[tn],ln=Fe.aoData[en]._aData,cn=an.sDefaultContent,un=an.fnGetData(ln,nn,{settings:Fe,row:en,col:tn});if(un===void 0)return Fe.iDrawError!=rn&&cn===null&&(_fnLog(Fe,0,"Requested unknown parameter "+(typeof an.mData=="function"?"{function}":"'"+an.mData+"'")+" for row "+en+", column "+tn,4),Fe.iDrawError=rn),cn;if((un===ln||un===null)&&cn!==null&&nn!==void 0)un=cn;else if(typeof un=="function")return un.call(ln);if(un===null&&nn==="display")return"";if(nn==="filter"){var fn=DataTable.ext.type.search;fn[an.sType]&&(un=fn[an.sType](un))}return un}function _fnSetCellData(Fe,en,tn,nn){var rn=Fe.aoColumns[tn],an=Fe.aoData[en]._aData;rn.fnSetData(an,nn,{settings:Fe,row:en,col:tn})}var __reArray=/\[.*?\]$/,__reFn=/\(\)$/;function _fnSplitObjNotation(Fe){return $$2.map(Fe.match(/(\\.|[^\.])+/g)||[""],function(en){return en.replace(/\\\./g,".")})}var _fnGetObjectDataFn=DataTable.util.get,_fnSetObjectDataFn=DataTable.util.set;function _fnGetDataMaster(Fe){return _pluck(Fe.aoData,"_aData")}function _fnClearTable(Fe){Fe.aoData.length=0,Fe.aiDisplayMaster.length=0,Fe.aiDisplay.length=0,Fe.aIds={}}function _fnDeleteIndex(Fe,en,tn){for(var nn=-1,rn=0,an=Fe.length;rn<an;rn++)Fe[rn]==en?nn=rn:Fe[rn]>en&&Fe[rn]--;nn!=-1&&tn===void 0&&Fe.splice(nn,1)}function _fnInvalidate(Fe,en,tn,nn){var rn=Fe.aoData[en],an,ln,cn=function(hn,pn){for(;hn.childNodes.length;)hn.removeChild(hn.firstChild);hn.innerHTML=_fnGetCellData(Fe,en,pn,"display")};if(tn==="dom"||(!tn||tn==="auto")&&rn.src==="dom")rn._aData=_fnGetRowElements(Fe,rn,nn,nn===void 0?void 0:rn._aData).data;else{var un=rn.anCells;if(un)if(nn!==void 0)cn(un[nn],nn);else for(an=0,ln=un.length;an<ln;an++)cn(un[an],an)}rn._aSortData=null,rn._aFilterData=null;var fn=Fe.aoColumns;if(nn!==void 0)fn[nn].sType=null;else{for(an=0,ln=fn.length;an<ln;an++)fn[an].sType=null;_fnRowAttributes(Fe,rn)}}function _fnGetRowElements(Fe,en,tn,nn){var rn=[],an=en.firstChild,ln,cn,un=0,fn,hn=Fe.aoColumns,pn=Fe._rowReadObject;nn=nn!==void 0?nn:pn?{}:[];var gn=function(Sn,Mn){if(typeof Sn=="string"){var In=Sn.indexOf("@");if(In!==-1){var On=Sn.substring(In+1),Pn=_fnSetObjectDataFn(Sn);Pn(nn,Mn.getAttribute(On))}}},mn=function(Sn){if(tn===void 0||tn===un)if(cn=hn[un],fn=Sn.innerHTML.trim(),cn&&cn._bAttrSrc){var Mn=_fnSetObjectDataFn(cn.mData._);Mn(nn,fn),gn(cn.mData.sort,Sn),gn(cn.mData.type,Sn),gn(cn.mData.filter,Sn)}else pn?(cn._setter||(cn._setter=_fnSetObjectDataFn(cn.mData)),cn._setter(nn,fn)):nn[un]=fn;un++};if(an)for(;an;)ln=an.nodeName.toUpperCase(),(ln=="TD"||ln=="TH")&&(mn(an),rn.push(an)),an=an.nextSibling;else{rn=en.anCells;for(var _n=0,kn=rn.length;_n<kn;_n++)mn(rn[_n])}var Cn=en.firstChild?en:en.nTr;if(Cn){var xn=Cn.getAttribute("id");xn&&_fnSetObjectDataFn(Fe.rowId)(nn,xn)}return{data:nn,cells:rn}}function _fnCreateTr(Fe,en,tn,nn){var rn=Fe.aoData[en],an=rn._aData,ln=[],cn,un,fn,hn,pn,gn;if(rn.nTr===null){for(cn=tn||document.createElement("tr"),rn.nTr=cn,rn.anCells=ln,cn._DT_RowIndex=en,_fnRowAttributes(Fe,rn),hn=0,pn=Fe.aoColumns.length;hn<pn;hn++)fn=Fe.aoColumns[hn],gn=!tn,un=gn?document.createElement(fn.sCellType):nn[hn],un||_fnLog(Fe,0,"Incorrect column count",18),un._DT_CellIndex={row:en,column:hn},ln.push(un),(gn||(fn.mRender||fn.mData!==hn)&&(!$$2.isPlainObject(fn.mData)||fn.mData._!==hn+".display"))&&(un.innerHTML=_fnGetCellData(Fe,en,hn,"display")),fn.sClass&&(un.className+=" "+fn.sClass),fn.bVisible&&!tn?cn.appendChild(un):!fn.bVisible&&tn&&un.parentNode.removeChild(un),fn.fnCreatedCell&&fn.fnCreatedCell.call(Fe.oInstance,un,_fnGetCellData(Fe,en,hn),an,en,hn);_fnCallbackFire(Fe,"aoRowCreatedCallback",null,[cn,an,en,ln])}}function _fnRowAttributes(Fe,en){var tn=en.nTr,nn=en._aData;if(tn){var rn=Fe.rowIdFn(nn);if(rn&&(tn.id=rn),nn.DT_RowClass){var an=nn.DT_RowClass.split(" ");en.__rowc=en.__rowc?_unique(en.__rowc.concat(an)):an,$$2(tn).removeClass(en.__rowc.join(" ")).addClass(nn.DT_RowClass)}nn.DT_RowAttr&&$$2(tn).attr(nn.DT_RowAttr),nn.DT_RowData&&$$2(tn).data(nn.DT_RowData)}}function _fnBuildHead(Fe){var en,tn,nn,rn,an,ln=Fe.nTHead,cn=Fe.nTFoot,un=$$2("th, td",ln).length===0,fn=Fe.oClasses,hn=Fe.aoColumns;for(un&&(rn=$$2("<tr/>").appendTo(ln)),en=0,tn=hn.length;en<tn;en++)an=hn[en],nn=$$2(an.nTh).addClass(an.sClass),un&&nn.appendTo(rn),Fe.oFeatures.bSort&&(nn.addClass(an.sSortingClass),an.bSortable!==!1&&(nn.attr("tabindex",Fe.iTabIndex).attr("aria-controls",Fe.sTableId),_fnSortAttachListener(Fe,an.nTh,en))),an.sTitle!=nn[0].innerHTML&&nn.html(an.sTitle),_fnRenderer(Fe,"header")(Fe,nn,an,fn);if(un&&_fnDetectHeader(Fe.aoHeader,ln),$$2(ln).children("tr").children("th, td").addClass(fn.sHeaderTH),$$2(cn).children("tr").children("th, td").addClass(fn.sFooterTH),cn!==null){var pn=Fe.aoFooter[0];for(en=0,tn=pn.length;en<tn;en++)an=hn[en],an?(an.nTf=pn[en].cell,an.sClass&&$$2(an.nTf).addClass(an.sClass)):_fnLog(Fe,0,"Incorrect column count",18)}}function _fnDrawHead(Fe,en,tn){var nn,rn,an,ln,cn,un,fn,hn=[],pn=[],gn=Fe.aoColumns.length,mn,_n;if(en){for(tn===void 0&&(tn=!1),nn=0,rn=en.length;nn<rn;nn++){for(hn[nn]=en[nn].slice(),hn[nn].nTr=en[nn].nTr,an=gn-1;an>=0;an--)!Fe.aoColumns[an].bVisible&&!tn&&hn[nn].splice(an,1);pn.push([])}for(nn=0,rn=hn.length;nn<rn;nn++){if(fn=hn[nn].nTr,fn)for(;un=fn.firstChild;)fn.removeChild(un);for(an=0,ln=hn[nn].length;an<ln;an++)if(mn=1,_n=1,pn[nn][an]===void 0){for(fn.appendChild(hn[nn][an].cell),pn[nn][an]=1;hn[nn+mn]!==void 0&&hn[nn][an].cell==hn[nn+mn][an].cell;)pn[nn+mn][an]=1,mn++;for(;hn[nn][an+_n]!==void 0&&hn[nn][an].cell==hn[nn][an+_n].cell;){for(cn=0;cn<mn;cn++)pn[nn+cn][an+_n]=1;_n++}$$2(hn[nn][an].cell).attr("rowspan",mn).attr("colspan",_n)}}}}function _fnDraw(Fe,en){_fnStart(Fe);var tn=_fnCallbackFire(Fe,"aoPreDrawCallback","preDraw",[Fe]);if($$2.inArray(!1,tn)!==-1){_fnProcessingDisplay(Fe,!1);return}var nn=[],rn=0,an=Fe.asStripeClasses,ln=an.length,cn=Fe.oLanguage,un=_fnDataSource(Fe)=="ssp",fn=Fe.aiDisplay,hn=Fe._iDisplayStart,pn=Fe.fnDisplayEnd();if(Fe.bDrawing=!0,Fe.bDeferLoading)Fe.bDeferLoading=!1,Fe.iDraw++,_fnProcessingDisplay(Fe,!1);else if(!un)Fe.iDraw++;else if(!Fe.bDestroying&&!en){_fnAjaxUpdate(Fe);return}if(fn.length!==0)for(var gn=un?0:hn,mn=un?Fe.aoData.length:pn,_n=gn;_n<mn;_n++){var kn=fn[_n],Cn=Fe.aoData[kn];Cn.nTr===null&&_fnCreateTr(Fe,kn);var xn=Cn.nTr;if(ln!==0){var Sn=an[rn%ln];Cn._sRowStripe!=Sn&&($$2(xn).removeClass(Cn._sRowStripe).addClass(Sn),Cn._sRowStripe=Sn)}_fnCallbackFire(Fe,"aoRowCallback",null,[xn,Cn._aData,rn,_n,kn]),nn.push(xn),rn++}else{var Mn=cn.sZeroRecords;Fe.iDraw==1&&_fnDataSource(Fe)=="ajax"?Mn=cn.sLoadingRecords:cn.sEmptyTable&&Fe.fnRecordsTotal()===0&&(Mn=cn.sEmptyTable),nn[0]=$$2("<tr/>",{class:ln?an[0]:""}).append($$2("<td />",{valign:"top",colSpan:_fnVisbleColumns(Fe),class:Fe.oClasses.sRowEmpty}).html(Mn))[0]}_fnCallbackFire(Fe,"aoHeaderCallback","header",[$$2(Fe.nTHead).children("tr")[0],_fnGetDataMaster(Fe),hn,pn,fn]),_fnCallbackFire(Fe,"aoFooterCallback","footer",[$$2(Fe.nTFoot).children("tr")[0],_fnGetDataMaster(Fe),hn,pn,fn]);var In=$$2(Fe.nTBody);In.children().detach(),In.append($$2(nn)),_fnCallbackFire(Fe,"aoDrawCallback","draw",[Fe]),Fe.bSorted=!1,Fe.bFiltered=!1,Fe.bDrawing=!1}function _fnReDraw(Fe,en){var tn=Fe.oFeatures,nn=tn.bSort,rn=tn.bFilter;nn&&_fnSort(Fe),rn?_fnFilterComplete(Fe,Fe.oPreviousSearch):Fe.aiDisplay=Fe.aiDisplayMaster.slice(),en!==!0&&(Fe._iDisplayStart=0),Fe._drawHold=en,_fnDraw(Fe),Fe._drawHold=!1}function _fnAddOptionsHtml(Fe){var en=Fe.oClasses,tn=$$2(Fe.nTable),nn=$$2("<div/>").insertBefore(tn),rn=Fe.oFeatures,an=$$2("<div/>",{id:Fe.sTableId+"_wrapper",class:en.sWrapper+(Fe.nTFoot?"":" "+en.sNoFooter)});Fe.nHolding=nn[0],Fe.nTableWrapper=an[0],Fe.nTableReinsertBefore=Fe.nTable.nextSibling;for(var ln=Fe.sDom.split(""),cn,un,fn,hn,pn,gn,mn=0;mn<ln.length;mn++){if(cn=null,un=ln[mn],un=="<"){if(fn=$$2("<div/>")[0],hn=ln[mn+1],hn=="'"||hn=='"'){for(pn="",gn=2;ln[mn+gn]!=hn;)pn+=ln[mn+gn],gn++;if(pn=="H"?pn=en.sJUIHeader:pn=="F"&&(pn=en.sJUIFooter),pn.indexOf(".")!=-1){var _n=pn.split(".");fn.id=_n[0].substr(1,_n[0].length-1),fn.className=_n[1]}else pn.charAt(0)=="#"?fn.id=pn.substr(1,pn.length-1):fn.className=pn;mn+=gn}an.append(fn),an=$$2(fn)}else if(un==">")an=an.parent();else if(un=="l"&&rn.bPaginate&&rn.bLengthChange)cn=_fnFeatureHtmlLength(Fe);else if(un=="f"&&rn.bFilter)cn=_fnFeatureHtmlFilter(Fe);else if(un=="r"&&rn.bProcessing)cn=_fnFeatureHtmlProcessing(Fe);else if(un=="t")cn=_fnFeatureHtmlTable(Fe);else if(un=="i"&&rn.bInfo)cn=_fnFeatureHtmlInfo(Fe);else if(un=="p"&&rn.bPaginate)cn=_fnFeatureHtmlPaginate(Fe);else if(DataTable.ext.feature.length!==0){for(var kn=DataTable.ext.feature,Cn=0,xn=kn.length;Cn<xn;Cn++)if(un==kn[Cn].cFeature){cn=kn[Cn].fnInit(Fe);break}}if(cn){var Sn=Fe.aanFeatures;Sn[un]||(Sn[un]=[]),Sn[un].push(cn),an.append(cn)}}nn.replaceWith(an),Fe.nHolding=null}function _fnDetectHeader(Fe,en){var tn=$$2(en).children("tr"),nn,rn,an,ln,cn,un,fn,hn,pn,gn,mn,_n=function(kn,Cn,xn){for(var Sn=kn[Cn];Sn[xn];)xn++;return xn};for(Fe.splice(0,Fe.length),an=0,un=tn.length;an<un;an++)Fe.push([]);for(an=0,un=tn.length;an<un;an++)for(nn=tn[an],hn=0,rn=nn.firstChild;rn;){if(rn.nodeName.toUpperCase()=="TD"||rn.nodeName.toUpperCase()=="TH")for(pn=rn.getAttribute("colspan")*1,gn=rn.getAttribute("rowspan")*1,pn=!pn||pn===0||pn===1?1:pn,gn=!gn||gn===0||gn===1?1:gn,fn=_n(Fe,an,hn),mn=pn===1,cn=0;cn<pn;cn++)for(ln=0;ln<gn;ln++)Fe[an+ln][fn+cn]={cell:rn,unique:mn},Fe[an+ln].nTr=nn;rn=rn.nextSibling}}function _fnGetUniqueThs(Fe,en,tn){var nn=[];tn||(tn=Fe.aoHeader,en&&(tn=[],_fnDetectHeader(tn,en)));for(var rn=0,an=tn.length;rn<an;rn++)for(var ln=0,cn=tn[rn].length;ln<cn;ln++)tn[rn][ln].unique&&(!nn[ln]||!Fe.bSortCellsTop)&&(nn[ln]=tn[rn][ln].cell);return nn}function _fnStart(Fe){var en=_fnDataSource(Fe)=="ssp",tn=Fe.iInitDisplayStart;tn!==void 0&&tn!==-1&&(Fe._iDisplayStart=en?tn:tn>=Fe.fnRecordsDisplay()?0:tn,Fe.iInitDisplayStart=-1)}function _fnBuildAjax(Fe,en,tn){if(_fnCallbackFire(Fe,"aoServerParams","serverParams",[en]),en&&Array.isArray(en)){var nn={},rn=/(.*?)\[\]$/;$$2.each(en,function(pn,gn){var mn=gn.name.match(rn);if(mn){var _n=mn[0];nn[_n]||(nn[_n]=[]),nn[_n].push(gn.value)}else nn[gn.name]=gn.value}),en=nn}var an,ln=Fe.ajax,cn=Fe.oInstance,un=function(pn){var gn=Fe.jqXHR?Fe.jqXHR.status:null;(pn===null||typeof gn=="number"&&gn==204)&&(pn={},_fnAjaxDataSrc(Fe,pn,[]));var mn=pn.error||pn.sError;mn&&_fnLog(Fe,0,mn),Fe.json=pn,_fnCallbackFire(Fe,null,"xhr",[Fe,pn,Fe.jqXHR]),tn(pn)};if($$2.isPlainObject(ln)&&ln.data){an=ln.data;var fn=typeof an=="function"?an(en,Fe):an;en=typeof an=="function"&&fn?fn:$$2.extend(!0,en,fn),delete ln.data}var hn={data:en,success:un,dataType:"json",cache:!1,type:Fe.sServerMethod,error:function(pn,gn,mn){var _n=_fnCallbackFire(Fe,null,"xhr",[Fe,null,Fe.jqXHR]);$$2.inArray(!0,_n)===-1&&(gn=="parsererror"?_fnLog(Fe,0,"Invalid JSON response",1):pn.readyState===4&&_fnLog(Fe,0,"Ajax error",7)),_fnProcessingDisplay(Fe,!1)}};Fe.oAjaxData=en,_fnCallbackFire(Fe,null,"preXhr",[Fe,en]),Fe.fnServerData?Fe.fnServerData.call(cn,Fe.sAjaxSource,$$2.map(en,function(pn,gn){return{name:gn,value:pn}}),un,Fe):Fe.sAjaxSource||typeof ln=="string"?Fe.jqXHR=$$2.ajax($$2.extend(hn,{url:ln||Fe.sAjaxSource})):typeof ln=="function"?Fe.jqXHR=ln.call(cn,en,un,Fe):(Fe.jqXHR=$$2.ajax($$2.extend(hn,ln)),ln.data=an)}function _fnAjaxUpdate(Fe){Fe.iDraw++,_fnProcessingDisplay(Fe,!0);var en=Fe._drawHold;_fnBuildAjax(Fe,_fnAjaxParameters(Fe),function(tn){Fe._drawHold=en,_fnAjaxUpdateDraw(Fe,tn),Fe._drawHold=!1})}function _fnAjaxParameters(Fe){var en=Fe.aoColumns,tn=en.length,nn=Fe.oFeatures,rn=Fe.oPreviousSearch,an=Fe.aoPreSearchCols,ln,cn=[],un,fn,hn,pn=_fnSortFlatten(Fe),gn=Fe._iDisplayStart,mn=nn.bPaginate!==!1?Fe._iDisplayLength:-1,_n=function(xn,Sn){cn.push({name:xn,value:Sn})};_n("sEcho",Fe.iDraw),_n("iColumns",tn),_n("sColumns",_pluck(en,"sName").join(",")),_n("iDisplayStart",gn),_n("iDisplayLength",mn);var kn={draw:Fe.iDraw,columns:[],order:[],start:gn,length:mn,search:{value:rn.sSearch,regex:rn.bRegex}};for(ln=0;ln<tn;ln++)fn=en[ln],hn=an[ln],un=typeof fn.mData=="function"?"function":fn.mData,kn.columns.push({data:un,name:fn.sName,searchable:fn.bSearchable,orderable:fn.bSortable,search:{value:hn.sSearch,regex:hn.bRegex}}),_n("mDataProp_"+ln,un),nn.bFilter&&(_n("sSearch_"+ln,hn.sSearch),_n("bRegex_"+ln,hn.bRegex),_n("bSearchable_"+ln,fn.bSearchable)),nn.bSort&&_n("bSortable_"+ln,fn.bSortable);nn.bFilter&&(_n("sSearch",rn.sSearch),_n("bRegex",rn.bRegex)),nn.bSort&&($$2.each(pn,function(xn,Sn){kn.order.push({column:Sn.col,dir:Sn.dir}),_n("iSortCol_"+xn,Sn.col),_n("sSortDir_"+xn,Sn.dir)}),_n("iSortingCols",pn.length));var Cn=DataTable.ext.legacy.ajax;return Cn===null?Fe.sAjaxSource?cn:kn:Cn?cn:kn}function _fnAjaxUpdateDraw(Fe,en){var tn=function(fn,hn){return en[fn]!==void 0?en[fn]:en[hn]},nn=_fnAjaxDataSrc(Fe,en),rn=tn("sEcho","draw"),an=tn("iTotalRecords","recordsTotal"),ln=tn("iTotalDisplayRecords","recordsFiltered");if(rn!==void 0){if(rn*1<Fe.iDraw)return;Fe.iDraw=rn*1}nn||(nn=[]),_fnClearTable(Fe),Fe._iRecordsTotal=parseInt(an,10),Fe._iRecordsDisplay=parseInt(ln,10);for(var cn=0,un=nn.length;cn<un;cn++)_fnAddData(Fe,nn[cn]);Fe.aiDisplay=Fe.aiDisplayMaster.slice(),_fnDraw(Fe,!0),Fe._bInitComplete||_fnInitComplete(Fe,en),_fnProcessingDisplay(Fe,!1)}function _fnAjaxDataSrc(Fe,en,tn){var nn=$$2.isPlainObject(Fe.ajax)&&Fe.ajax.dataSrc!==void 0?Fe.ajax.dataSrc:Fe.sAjaxDataProp;if(!tn)return nn==="data"?en.aaData||en[nn]:nn!==""?_fnGetObjectDataFn(nn)(en):en;_fnSetObjectDataFn(nn)(en,tn)}function _fnFeatureHtmlFilter(Fe){var en=Fe.oClasses,tn=Fe.sTableId,nn=Fe.oLanguage,rn=Fe.oPreviousSearch,an=Fe.aanFeatures,ln='<input type="search" class="'+en.sFilterInput+'"/>',cn=nn.sSearch;cn=cn.match(/_INPUT_/)?cn.replace("_INPUT_",ln):cn+ln;var un=$$2("<div/>",{id:an.f?null:tn+"_filter",class:en.sFilter}).append($$2("<label/>").append(cn)),fn=function(gn){an.f;var mn=this.value?this.value:"";rn.return&&gn.key!=="Enter"||mn!=rn.sSearch&&(_fnFilterComplete(Fe,{sSearch:mn,bRegex:rn.bRegex,bSmart:rn.bSmart,bCaseInsensitive:rn.bCaseInsensitive,return:rn.return}),Fe._iDisplayStart=0,_fnDraw(Fe))},hn=Fe.searchDelay!==null?Fe.searchDelay:_fnDataSource(Fe)==="ssp"?400:0,pn=$$2("input",un).val(rn.sSearch).attr("placeholder",nn.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",hn?_fnThrottle(fn,hn):fn).on("mouseup.DT",function(gn){setTimeout(function(){fn.call(pn[0],gn)},10)}).on("keypress.DT",function(gn){if(gn.keyCode==13)return!1}).attr("aria-controls",tn);return $$2(Fe.nTable).on("search.dt.DT",function(gn,mn){if(Fe===mn)try{pn[0]!==document.activeElement&&pn.val(rn.sSearch)}catch{}}),un[0]}function _fnFilterComplete(Fe,en,tn){var nn=Fe.oPreviousSearch,rn=Fe.aoPreSearchCols,an=function(un){nn.sSearch=un.sSearch,nn.bRegex=un.bRegex,nn.bSmart=un.bSmart,nn.bCaseInsensitive=un.bCaseInsensitive,nn.return=un.return},ln=function(un){return un.bEscapeRegex!==void 0?!un.bEscapeRegex:un.bRegex};if(_fnColumnTypes(Fe),_fnDataSource(Fe)!="ssp"){_fnFilter(Fe,en.sSearch,tn,ln(en),en.bSmart,en.bCaseInsensitive),an(en);for(var cn=0;cn<rn.length;cn++)_fnFilterColumn(Fe,rn[cn].sSearch,cn,ln(rn[cn]),rn[cn].bSmart,rn[cn].bCaseInsensitive);_fnFilterCustom(Fe)}else an(en);Fe.bFiltered=!0,_fnCallbackFire(Fe,null,"search",[Fe])}function _fnFilterCustom(Fe){for(var en=DataTable.ext.search,tn=Fe.aiDisplay,nn,rn,an=0,ln=en.length;an<ln;an++){for(var cn=[],un=0,fn=tn.length;un<fn;un++)rn=tn[un],nn=Fe.aoData[rn],en[an](Fe,nn._aFilterData,rn,nn._aData,un)&&cn.push(rn);tn.length=0,$$2.merge(tn,cn)}}function _fnFilterColumn(Fe,en,tn,nn,rn,an){if(en!==""){for(var ln,cn=[],un=Fe.aiDisplay,fn=_fnFilterCreateSearch(en,nn,rn,an),hn=0;hn<un.length;hn++)ln=Fe.aoData[un[hn]]._aFilterData[tn],fn.test(ln)&&cn.push(un[hn]);Fe.aiDisplay=cn}}function _fnFilter(Fe,en,tn,nn,rn,an){var ln=_fnFilterCreateSearch(en,nn,rn,an),cn=Fe.oPreviousSearch.sSearch,un=Fe.aiDisplayMaster,fn,hn,pn,gn=[];if(DataTable.ext.search.length!==0&&(tn=!0),hn=_fnFilterData(Fe),en.length<=0)Fe.aiDisplay=un.slice();else{for((hn||tn||nn||cn.length>en.length||en.indexOf(cn)!==0||Fe.bSorted)&&(Fe.aiDisplay=un.slice()),fn=Fe.aiDisplay,pn=0;pn<fn.length;pn++)ln.test(Fe.aoData[fn[pn]]._sFilterRow)&&gn.push(fn[pn]);Fe.aiDisplay=gn}}function _fnFilterCreateSearch(Fe,en,tn,nn){if(Fe=en?Fe:_fnEscapeRegex(Fe),tn){var rn=$$2.map(Fe.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(an){if(an.charAt(0)==='"'){var ln=an.match(/^"(.*)"$/);an=ln?ln[1]:an}else if(an.charAt(0)==="â"){var ln=an.match(/^\u201C(.*)\u201D$/);an=ln?ln[1]:an}return an.replace('"',"")});Fe="^(?=.*?"+rn.join(")(?=.*?")+").*$"}return new RegExp(Fe,nn?"i":"")}var _fnEscapeRegex=DataTable.util.escapeRegex,__filter_div=$$2("<div>")[0],__filter_div_textContent=__filter_div.textContent!==void 0;function _fnFilterData(Fe){var en=Fe.aoColumns,tn,nn,rn,an,ln,cn,un,fn,hn=!1;for(nn=0,an=Fe.aoData.length;nn<an;nn++)if(fn=Fe.aoData[nn],!fn._aFilterData){for(cn=[],rn=0,ln=en.length;rn<ln;rn++)tn=en[rn],tn.bSearchable?(un=_fnGetCellData(Fe,nn,rn,"filter"),un===null&&(un=""),typeof un!="string"&&un.toString&&(un=un.toString())):un="",un.indexOf&&un.indexOf("&")!==-1&&(__filter_div.innerHTML=un,un=__filter_div_textContent?__filter_div.textContent:__filter_div.innerText),un.replace&&(un=un.replace(/[\r\n\u2028]/g,"")),cn.push(un);fn._aFilterData=cn,fn._sFilterRow=cn.join("  "),hn=!0}return hn}function _fnSearchToCamel(Fe){return{search:Fe.sSearch,smart:Fe.bSmart,regex:Fe.bRegex,caseInsensitive:Fe.bCaseInsensitive}}function _fnSearchToHung(Fe){return{sSearch:Fe.search,bSmart:Fe.smart,bRegex:Fe.regex,bCaseInsensitive:Fe.caseInsensitive}}function _fnFeatureHtmlInfo(Fe){var en=Fe.sTableId,tn=Fe.aanFeatures.i,nn=$$2("<div/>",{class:Fe.oClasses.sInfo,id:tn?null:en+"_info"});return tn||(Fe.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),nn.attr("role","status").attr("aria-live","polite"),$$2(Fe.nTable).attr("aria-describedby",en+"_info")),nn[0]}function _fnUpdateInfo(Fe){var en=Fe.aanFeatures.i;if(en.length!==0){var tn=Fe.oLanguage,nn=Fe._iDisplayStart+1,rn=Fe.fnDisplayEnd(),an=Fe.fnRecordsTotal(),ln=Fe.fnRecordsDisplay(),cn=ln?tn.sInfo:tn.sInfoEmpty;ln!==an&&(cn+=" "+tn.sInfoFiltered),cn+=tn.sInfoPostFix,cn=_fnInfoMacros(Fe,cn);var un=tn.fnInfoCallback;un!==null&&(cn=un.call(Fe.oInstance,Fe,nn,rn,an,ln,cn)),$$2(en).html(cn)}}function _fnInfoMacros(Fe,en){var tn=Fe.fnFormatNumber,nn=Fe._iDisplayStart+1,rn=Fe._iDisplayLength,an=Fe.fnRecordsDisplay(),ln=rn===-1;return en.replace(/_START_/g,tn.call(Fe,nn)).replace(/_END_/g,tn.call(Fe,Fe.fnDisplayEnd())).replace(/_MAX_/g,tn.call(Fe,Fe.fnRecordsTotal())).replace(/_TOTAL_/g,tn.call(Fe,an)).replace(/_PAGE_/g,tn.call(Fe,ln?1:Math.ceil(nn/rn))).replace(/_PAGES_/g,tn.call(Fe,ln?1:Math.ceil(an/rn)))}function _fnInitialise(Fe){var en,tn,nn=Fe.iInitDisplayStart,rn=Fe.aoColumns,an,ln=Fe.oFeatures,cn=Fe.bDeferLoading;if(!Fe.bInitialised){setTimeout(function(){_fnInitialise(Fe)},200);return}for(_fnAddOptionsHtml(Fe),_fnBuildHead(Fe),_fnDrawHead(Fe,Fe.aoHeader),_fnDrawHead(Fe,Fe.aoFooter),_fnProcessingDisplay(Fe,!0),ln.bAutoWidth&&_fnCalculateColumnWidths(Fe),en=0,tn=rn.length;en<tn;en++)an=rn[en],an.sWidth&&(an.nTh.style.width=_fnStringToCss(an.sWidth));_fnCallbackFire(Fe,null,"preInit",[Fe]),_fnReDraw(Fe);var un=_fnDataSource(Fe);(un!="ssp"||cn)&&(un=="ajax"?_fnBuildAjax(Fe,[],function(fn){var hn=_fnAjaxDataSrc(Fe,fn);for(en=0;en<hn.length;en++)_fnAddData(Fe,hn[en]);Fe.iInitDisplayStart=nn,_fnReDraw(Fe),_fnProcessingDisplay(Fe,!1),_fnInitComplete(Fe,fn)}):(_fnProcessingDisplay(Fe,!1),_fnInitComplete(Fe)))}function _fnInitComplete(Fe,en){Fe._bInitComplete=!0,(en||Fe.oInit.aaData)&&_fnAdjustColumnSizing(Fe),_fnCallbackFire(Fe,null,"plugin-init",[Fe,en]),_fnCallbackFire(Fe,"aoInitComplete","init",[Fe,en])}function _fnLengthChange(Fe,en){var tn=parseInt(en,10);Fe._iDisplayLength=tn,_fnLengthOverflow(Fe),_fnCallbackFire(Fe,null,"length",[Fe,tn])}function _fnFeatureHtmlLength(Fe){for(var en=Fe.oClasses,tn=Fe.sTableId,nn=Fe.aLengthMenu,rn=Array.isArray(nn[0]),an=rn?nn[0]:nn,ln=rn?nn[1]:nn,cn=$$2("<select/>",{name:tn+"_length","aria-controls":tn,class:en.sLengthSelect}),un=0,fn=an.length;un<fn;un++)cn[0][un]=new Option(typeof ln[un]=="number"?Fe.fnFormatNumber(ln[un]):ln[un],an[un]);var hn=$$2("<div><label/></div>").addClass(en.sLength);return Fe.aanFeatures.l||(hn[0].id=tn+"_length"),hn.children().append(Fe.oLanguage.sLengthMenu.replace("_MENU_",cn[0].outerHTML)),$$2("select",hn).val(Fe._iDisplayLength).on("change.DT",function(pn){_fnLengthChange(Fe,$$2(this).val()),_fnDraw(Fe)}),$$2(Fe.nTable).on("length.dt.DT",function(pn,gn,mn){Fe===gn&&$$2("select",hn).val(mn)}),hn[0]}function _fnFeatureHtmlPaginate(Fe){var en=Fe.sPaginationType,tn=DataTable.ext.pager[en],nn=typeof tn=="function",rn=function(cn){_fnDraw(cn)},an=$$2("<div/>").addClass(Fe.oClasses.sPaging+en)[0],ln=Fe.aanFeatures;return nn||tn.fnInit(Fe,an,rn),ln.p||(an.id=Fe.sTableId+"_paginate",Fe.aoDrawCallback.push({fn:function(cn){if(nn){var un=cn._iDisplayStart,fn=cn._iDisplayLength,hn=cn.fnRecordsDisplay(),pn=fn===-1,gn=pn?0:Math.ceil(un/fn),mn=pn?1:Math.ceil(hn/fn),_n=tn(gn,mn),kn,Cn;for(kn=0,Cn=ln.p.length;kn<Cn;kn++)_fnRenderer(cn,"pageButton")(cn,ln.p[kn],kn,_n,gn,mn)}else tn.fnUpdate(cn,rn)},sName:"pagination"})),an}function _fnPageChange(Fe,en,tn){var nn=Fe._iDisplayStart,rn=Fe._iDisplayLength,an=Fe.fnRecordsDisplay();an===0||rn===-1?nn=0:typeof en=="number"?(nn=en*rn,nn>an&&(nn=0)):en=="first"?nn=0:en=="previous"?(nn=rn>=0?nn-rn:0,nn<0&&(nn=0)):en=="next"?nn+rn<an&&(nn+=rn):en=="last"?nn=Math.floor((an-1)/rn)*rn:_fnLog(Fe,0,"Unknown paging action: "+en,5);var ln=Fe._iDisplayStart!==nn;return Fe._iDisplayStart=nn,ln?(_fnCallbackFire(Fe,null,"page",[Fe]),tn&&_fnDraw(Fe)):_fnCallbackFire(Fe,null,"page-nc",[Fe]),ln}function _fnFeatureHtmlProcessing(Fe){return $$2("<div/>",{id:Fe.aanFeatures.r?null:Fe.sTableId+"_processing",class:Fe.oClasses.sProcessing,role:"status"}).html(Fe.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(Fe.nTable)[0]}function _fnProcessingDisplay(Fe,en){Fe.oFeatures.bProcessing&&$$2(Fe.aanFeatures.r).css("display",en?"block":"none"),_fnCallbackFire(Fe,null,"processing",[Fe,en])}function _fnFeatureHtmlTable(Fe){var en=$$2(Fe.nTable),tn=Fe.oScroll;if(tn.sX===""&&tn.sY==="")return Fe.nTable;var nn=tn.sX,rn=tn.sY,an=Fe.oClasses,ln=en.children("caption"),cn=ln.length?ln[0]._captionSide:null,un=$$2(en[0].cloneNode(!1)),fn=$$2(en[0].cloneNode(!1)),hn=en.children("tfoot"),pn="<div/>",gn=function(Sn){return Sn?_fnStringToCss(Sn):null};hn.length||(hn=null);var mn=$$2(pn,{class:an.sScrollWrapper}).append($$2(pn,{class:an.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:nn?gn(nn):"100%"}).append($$2(pn,{class:an.sScrollHeadInner}).css({"box-sizing":"content-box",width:tn.sXInner||"100%"}).append(un.removeAttr("id").css("margin-left",0).append(cn==="top"?ln:null).append(en.children("thead"))))).append($$2(pn,{class:an.sScrollBody}).css({position:"relative",overflow:"auto",width:gn(nn)}).append(en));hn&&mn.append($$2(pn,{class:an.sScrollFoot}).css({overflow:"hidden",border:0,width:nn?gn(nn):"100%"}).append($$2(pn,{class:an.sScrollFootInner}).append(fn.removeAttr("id").css("margin-left",0).append(cn==="bottom"?ln:null).append(en.children("tfoot")))));var _n=mn.children(),kn=_n[0],Cn=_n[1],xn=hn?_n[2]:null;return nn&&$$2(Cn).on("scroll.DT",function(Sn){var Mn=this.scrollLeft;kn.scrollLeft=Mn,hn&&(xn.scrollLeft=Mn)}),$$2(Cn).css("max-height",rn),tn.bCollapse||$$2(Cn).css("height",rn),Fe.nScrollHead=kn,Fe.nScrollBody=Cn,Fe.nScrollFoot=xn,Fe.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),mn[0]}function _fnScrollDraw(Fe){var en=Fe.oScroll,tn=en.sX,nn=en.sXInner,rn=en.sY,an=en.iBarWidth,ln=$$2(Fe.nScrollHead),cn=ln[0].style,un=ln.children("div"),fn=un[0].style,hn=un.children("table"),pn=Fe.nScrollBody,gn=$$2(pn),mn=pn.style,_n=$$2(Fe.nScrollFoot),kn=_n.children("div"),Cn=kn.children("table"),xn=$$2(Fe.nTHead),Sn=$$2(Fe.nTable),Mn=Sn[0],In=Mn.style,On=Fe.nTFoot?$$2(Fe.nTFoot):null,Pn=Fe.oBrowser,Tn=Pn.bScrollOversize;_pluck(Fe.aoColumns,"nTh");var Nn,Hn,Un,jn,Yn,Wn,Qn=[],Xn=[],jr=[],Wr=[],Jr,ci,ti,Zr=function(ri){var fi=ri.style;fi.paddingTop="0",fi.paddingBottom="0",fi.borderTopWidth="0",fi.borderBottomWidth="0",fi.height=0},Br=pn.scrollHeight>pn.clientHeight;if(Fe.scrollBarVis!==Br&&Fe.scrollBarVis!==void 0){Fe.scrollBarVis=Br,_fnAdjustColumnSizing(Fe);return}else Fe.scrollBarVis=Br;Sn.children("thead, tfoot").remove(),On&&(Wn=On.clone().prependTo(Sn),Hn=On.find("tr"),jn=Wn.find("tr"),Wn.find("[id]").removeAttr("id")),Yn=xn.clone().prependTo(Sn),Nn=xn.find("tr"),Un=Yn.find("tr"),Yn.find("th, td").removeAttr("tabindex"),Yn.find("[id]").removeAttr("id"),tn||(mn.width="100%",ln[0].style.width="100%"),$$2.each(_fnGetUniqueThs(Fe,Yn),function(ri,fi){Jr=_fnVisibleToColumnIndex(Fe,ri),fi.style.width=Fe.aoColumns[Jr].sWidth}),On&&_fnApplyToChildren(function(ri){ri.style.width=""},jn),ti=Sn.outerWidth(),tn===""?(In.width="100%",Tn&&(Sn.find("tbody").height()>pn.offsetHeight||gn.css("overflow-y")=="scroll")&&(In.width=_fnStringToCss(Sn.outerWidth()-an)),ti=Sn.outerWidth()):nn!==""&&(In.width=_fnStringToCss(nn),ti=Sn.outerWidth()),_fnApplyToChildren(Zr,Un),_fnApplyToChildren(function(ri){var fi=window.getComputedStyle?window.getComputedStyle(ri).width:_fnStringToCss($$2(ri).width());jr.push(ri.innerHTML),Qn.push(fi)},Un),_fnApplyToChildren(function(ri,fi){ri.style.width=Qn[fi]},Nn),$$2(Un).css("height",0),On&&(_fnApplyToChildren(Zr,jn),_fnApplyToChildren(function(ri){Wr.push(ri.innerHTML),Xn.push(_fnStringToCss($$2(ri).css("width")))},jn),_fnApplyToChildren(function(ri,fi){ri.style.width=Xn[fi]},Hn),$$2(jn).height(0)),_fnApplyToChildren(function(ri,fi){ri.innerHTML='<div class="dataTables_sizing">'+jr[fi]+"</div>",ri.childNodes[0].style.height="0",ri.childNodes[0].style.overflow="hidden",ri.style.width=Qn[fi]},Un),On&&_fnApplyToChildren(function(ri,fi){ri.innerHTML='<div class="dataTables_sizing">'+Wr[fi]+"</div>",ri.childNodes[0].style.height="0",ri.childNodes[0].style.overflow="hidden",ri.style.width=Xn[fi]},jn),Math.round(Sn.outerWidth())<Math.round(ti)?(ci=pn.scrollHeight>pn.offsetHeight||gn.css("overflow-y")=="scroll"?ti+an:ti,Tn&&(pn.scrollHeight>pn.offsetHeight||gn.css("overflow-y")=="scroll")&&(In.width=_fnStringToCss(ci-an)),(tn===""||nn!=="")&&_fnLog(Fe,1,"Possible column misalignment",6)):ci="100%",mn.width=_fnStringToCss(ci),cn.width=_fnStringToCss(ci),On&&(Fe.nScrollFoot.style.width=_fnStringToCss(ci)),rn||Tn&&(mn.height=_fnStringToCss(Mn.offsetHeight+an));var Jn=Sn.outerWidth();hn[0].style.width=_fnStringToCss(Jn),fn.width=_fnStringToCss(Jn);var oi=Sn.height()>pn.clientHeight||gn.css("overflow-y")=="scroll",pi="padding"+(Pn.bScrollbarLeft?"Left":"Right");fn[pi]=oi?an+"px":"0px",On&&(Cn[0].style.width=_fnStringToCss(Jn),kn[0].style.width=_fnStringToCss(Jn),kn[0].style[pi]=oi?an+"px":"0px"),Sn.children("colgroup").insertBefore(Sn.children("thead")),gn.trigger("scroll"),(Fe.bSorted||Fe.bFiltered)&&!Fe._drawHold&&(pn.scrollTop=0)}function _fnApplyToChildren(Fe,en,tn){for(var nn=0,rn=0,an=en.length,ln,cn;rn<an;){for(ln=en[rn].firstChild,cn=tn?tn[rn].firstChild:null;ln;)ln.nodeType===1&&(tn?Fe(ln,cn,nn):Fe(ln,nn),nn++),ln=ln.nextSibling,cn=tn?cn.nextSibling:null;rn++}}var __re_html_remove=/<.*?>/g;function _fnCalculateColumnWidths(Fe){var en=Fe.nTable,tn=Fe.aoColumns,nn=Fe.oScroll,rn=nn.sY,an=nn.sX,ln=nn.sXInner,cn=tn.length,un=_fnGetColumns(Fe,"bVisible"),fn=$$2("th",Fe.nTHead),hn=en.getAttribute("width"),pn=en.parentNode,gn=!1,mn,_n,kn,Cn=Fe.oBrowser,xn=Cn.bScrollOversize,Sn=en.style.width;Sn&&Sn.indexOf("%")!==-1&&(hn=Sn);var Mn=_fnConvertToWidth(_pluck(tn,"sWidthOrig"),pn);for(mn=0;mn<un.length;mn++)_n=tn[un[mn]],_n.sWidth!==null&&(_n.sWidth=Mn[mn],gn=!0);if(xn||!gn&&!an&&!rn&&cn==_fnVisbleColumns(Fe)&&cn==fn.length)for(mn=0;mn<cn;mn++){var In=_fnVisibleToColumnIndex(Fe,mn);In!==null&&(tn[In].sWidth=_fnStringToCss(fn.eq(mn).width()))}else{var On=$$2(en).clone().css("visibility","hidden").removeAttr("id");On.find("tbody tr").remove();var Pn=$$2("<tr/>").appendTo(On.find("tbody"));for(On.find("thead, tfoot").remove(),On.append($$2(Fe.nTHead).clone()).append($$2(Fe.nTFoot).clone()),On.find("tfoot th, tfoot td").css("width",""),fn=_fnGetUniqueThs(Fe,On.find("thead")[0]),mn=0;mn<un.length;mn++)_n=tn[un[mn]],fn[mn].style.width=_n.sWidthOrig!==null&&_n.sWidthOrig!==""?_fnStringToCss(_n.sWidthOrig):"",_n.sWidthOrig&&an&&$$2(fn[mn]).append($$2("<div/>").css({width:_n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(Fe.aoData.length)for(mn=0;mn<un.length;mn++)kn=un[mn],_n=tn[kn],$$2(_fnGetWidestNode(Fe,kn)).clone(!1).append(_n.sContentPadding).appendTo(Pn);$$2("[name]",On).removeAttr("name");var Tn=$$2("<div/>").css(an||rn?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(On).appendTo(pn);an&&ln?On.width(ln):an?(On.css("width","auto"),On.removeAttr("width"),On.width()<pn.clientWidth&&hn&&On.width(pn.clientWidth)):rn?On.width(pn.clientWidth):hn&&On.width(hn);var Nn=0;for(mn=0;mn<un.length;mn++){var Hn=$$2(fn[mn]),Un=Hn.outerWidth()-Hn.width(),jn=Cn.bBounding?Math.ceil(fn[mn].getBoundingClientRect().width):Hn.outerWidth();Nn+=jn,tn[un[mn]].sWidth=_fnStringToCss(jn-Un)}en.style.width=_fnStringToCss(Nn),Tn.remove()}if(hn&&(en.style.width=_fnStringToCss(hn)),(hn||an)&&!Fe._reszEvt){var Yn=function(){$$2(window).on("resize.DT-"+Fe.sInstance,_fnThrottle(function(){_fnAdjustColumnSizing(Fe)}))};xn?setTimeout(Yn,1e3):Yn(),Fe._reszEvt=!0}}var _fnThrottle=DataTable.util.throttle;function _fnConvertToWidth(Fe,en){for(var tn=[],nn=[],rn=0;rn<Fe.length;rn++)Fe[rn]?tn.push($$2("<div/>").css("width",_fnStringToCss(Fe[rn])).appendTo(en||document.body)):tn.push(null);for(var rn=0;rn<Fe.length;rn++)nn.push(tn[rn]?tn[rn][0].offsetWidth:null);return $$2(tn).remove(),nn}function _fnGetWidestNode(Fe,en){var tn=_fnGetMaxLenString(Fe,en);if(tn<0)return null;var nn=Fe.aoData[tn];return nn.nTr?nn.anCells[en]:$$2("<td/>").html(_fnGetCellData(Fe,tn,en,"display"))[0]}function _fnGetMaxLenString(Fe,en){for(var tn,nn=-1,rn=-1,an=0,ln=Fe.aoData.length;an<ln;an++)tn=_fnGetCellData(Fe,an,en,"display")+"",tn=tn.replace(__re_html_remove,""),tn=tn.replace(/&nbsp;/g," "),tn.length>nn&&(nn=tn.length,rn=an);return rn}function _fnStringToCss(Fe){return Fe===null?"0px":typeof Fe=="number"?Fe<0?"0px":Fe+"px":Fe.match(/\d$/)?Fe+"px":Fe}function _fnSortFlatten(Fe){var en,tn,nn,rn=[],an=Fe.aoColumns,ln,cn,un,fn,hn=Fe.aaSortingFixed,pn=$$2.isPlainObject(hn),gn=[],mn=function(_n){_n.length&&!Array.isArray(_n[0])?gn.push(_n):$$2.merge(gn,_n)};for(Array.isArray(hn)&&mn(hn),pn&&hn.pre&&mn(hn.pre),mn(Fe.aaSorting),pn&&hn.post&&mn(hn.post),en=0;en<gn.length;en++)for(fn=gn[en][0],ln=an[fn].aDataSort,tn=0,nn=ln.length;tn<nn;tn++)cn=ln[tn],un=an[cn].sType||"string",gn[en]._idx===void 0&&(gn[en]._idx=$$2.inArray(gn[en][1],an[cn].asSorting)),rn.push({src:fn,col:cn,dir:gn[en][1],index:gn[en]._idx,type:un,formatter:DataTable.ext.type.order[un+"-pre"]});return rn}function _fnSort(Fe){var en,tn,nn,rn=[],an=DataTable.ext.type.order,ln=Fe.aoData;Fe.aoColumns;var cn=0,un,fn=Fe.aiDisplayMaster,hn;for(_fnColumnTypes(Fe),hn=_fnSortFlatten(Fe),en=0,tn=hn.length;en<tn;en++)un=hn[en],un.formatter&&cn++,_fnSortData(Fe,un.col);if(_fnDataSource(Fe)!="ssp"&&hn.length!==0){for(en=0,nn=fn.length;en<nn;en++)rn[fn[en]]=en;cn===hn.length?fn.sort(function(pn,gn){var mn,_n,kn,Cn,xn,Sn=hn.length,Mn=ln[pn]._aSortData,In=ln[gn]._aSortData;for(kn=0;kn<Sn;kn++)if(xn=hn[kn],mn=Mn[xn.col],_n=In[xn.col],Cn=mn<_n?-1:mn>_n?1:0,Cn!==0)return xn.dir==="asc"?Cn:-Cn;return mn=rn[pn],_n=rn[gn],mn<_n?-1:mn>_n?1:0}):fn.sort(function(pn,gn){var mn,_n,kn,Cn,xn,Sn,Mn=hn.length,In=ln[pn]._aSortData,On=ln[gn]._aSortData;for(kn=0;kn<Mn;kn++)if(xn=hn[kn],mn=In[xn.col],_n=On[xn.col],Sn=an[xn.type+"-"+xn.dir]||an["string-"+xn.dir],Cn=Sn(mn,_n),Cn!==0)return Cn;return mn=rn[pn],_n=rn[gn],mn<_n?-1:mn>_n?1:0})}Fe.bSorted=!0}function _fnSortAria(Fe){for(var en,tn,nn=Fe.aoColumns,rn=_fnSortFlatten(Fe),an=Fe.oLanguage.oAria,ln=0,cn=nn.length;ln<cn;ln++){var un=nn[ln],fn=un.asSorting,hn=un.ariaTitle||un.sTitle.replace(/<.*?>/g,""),pn=un.nTh;pn.removeAttribute("aria-sort"),un.bSortable?(rn.length>0&&rn[0].col==ln?(pn.setAttribute("aria-sort",rn[0].dir=="asc"?"ascending":"descending"),tn=fn[rn[0].index+1]||fn[0]):tn=fn[0],en=hn+(tn==="asc"?an.sSortAscending:an.sSortDescending)):en=hn,pn.setAttribute("aria-label",en)}}function _fnSortListener(Fe,en,tn,nn){var rn=Fe.aoColumns[en],an=Fe.aaSorting,ln=rn.asSorting,cn,un=function(hn,pn){var gn=hn._idx;return gn===void 0&&(gn=$$2.inArray(hn[1],ln)),gn+1<ln.length?gn+1:pn?null:0};if(typeof an[0]=="number"&&(an=Fe.aaSorting=[an]),tn&&Fe.oFeatures.bSortMulti){var fn=$$2.inArray(en,_pluck(an,"0"));fn!==-1?(cn=un(an[fn],!0),cn===null&&an.length===1&&(cn=0),cn===null?an.splice(fn,1):(an[fn][1]=ln[cn],an[fn]._idx=cn)):(an.push([en,ln[0],0]),an[an.length-1]._idx=0)}else an.length&&an[0][0]==en?(cn=un(an[0]),an.length=1,an[0][1]=ln[cn],an[0]._idx=cn):(an.length=0,an.push([en,ln[0]]),an[0]._idx=0);_fnReDraw(Fe),typeof nn=="function"&&nn(Fe)}function _fnSortAttachListener(Fe,en,tn,nn){var rn=Fe.aoColumns[tn];_fnBindAction(en,{},function(an){rn.bSortable!==!1&&(Fe.oFeatures.bProcessing?(_fnProcessingDisplay(Fe,!0),setTimeout(function(){_fnSortListener(Fe,tn,an.shiftKey,nn),_fnDataSource(Fe)!=="ssp"&&_fnProcessingDisplay(Fe,!1)},0)):_fnSortListener(Fe,tn,an.shiftKey,nn))})}function _fnSortingClasses(Fe){var en=Fe.aLastSort,tn=Fe.oClasses.sSortColumn,nn=_fnSortFlatten(Fe),rn=Fe.oFeatures,an,ln,cn;if(rn.bSort&&rn.bSortClasses){for(an=0,ln=en.length;an<ln;an++)cn=en[an].src,$$2(_pluck(Fe.aoData,"anCells",cn)).removeClass(tn+(an<2?an+1:3));for(an=0,ln=nn.length;an<ln;an++)cn=nn[an].src,$$2(_pluck(Fe.aoData,"anCells",cn)).addClass(tn+(an<2?an+1:3))}Fe.aLastSort=nn}function _fnSortData(Fe,en){var tn=Fe.aoColumns[en],nn=DataTable.ext.order[tn.sSortDataType],rn;nn&&(rn=nn.call(Fe.oInstance,Fe,en,_fnColumnIndexToVisible(Fe,en)));for(var an,ln,cn=DataTable.ext.type.order[tn.sType+"-pre"],un=0,fn=Fe.aoData.length;un<fn;un++)an=Fe.aoData[un],an._aSortData||(an._aSortData=[]),(!an._aSortData[en]||nn)&&(ln=nn?rn[un]:_fnGetCellData(Fe,un,en,"sort"),an._aSortData[en]=cn?cn(ln):ln)}function _fnSaveState(Fe){if(!Fe._bLoadingState){var en={time:+new Date,start:Fe._iDisplayStart,length:Fe._iDisplayLength,order:$$2.extend(!0,[],Fe.aaSorting),search:_fnSearchToCamel(Fe.oPreviousSearch),columns:$$2.map(Fe.aoColumns,function(tn,nn){return{visible:tn.bVisible,search:_fnSearchToCamel(Fe.aoPreSearchCols[nn])}})};Fe.oSavedState=en,_fnCallbackFire(Fe,"aoStateSaveParams","stateSaveParams",[Fe,en]),Fe.oFeatures.bStateSave&&!Fe.bDestroying&&Fe.fnStateSaveCallback.call(Fe.oInstance,Fe,en)}}function _fnLoadState(Fe,en,tn){if(!Fe.oFeatures.bStateSave){tn();return}var nn=function(an){_fnImplementState(Fe,an,tn)},rn=Fe.fnStateLoadCallback.call(Fe.oInstance,Fe,nn);return rn!==void 0&&_fnImplementState(Fe,rn,tn),!0}function _fnImplementState(Fe,en,tn){var nn,rn,an=Fe.aoColumns;Fe._bLoadingState=!0;var ln=Fe._bInitComplete?new DataTable.Api(Fe):null;if(!en||!en.time){Fe._bLoadingState=!1,tn();return}var cn=_fnCallbackFire(Fe,"aoStateLoadParams","stateLoadParams",[Fe,en]);if($$2.inArray(!1,cn)!==-1){Fe._bLoadingState=!1,tn();return}var un=Fe.iStateDuration;if(un>0&&en.time<+new Date-un*1e3){Fe._bLoadingState=!1,tn();return}if(en.columns&&an.length!==en.columns.length){Fe._bLoadingState=!1,tn();return}if(Fe.oLoadedState=$$2.extend(!0,{},en),en.length!==void 0&&(ln?ln.page.len(en.length):Fe._iDisplayLength=en.length),en.start!==void 0&&(ln===null?(Fe._iDisplayStart=en.start,Fe.iInitDisplayStart=en.start):_fnPageChange(Fe,en.start/Fe._iDisplayLength)),en.order!==void 0&&(Fe.aaSorting=[],$$2.each(en.order,function(hn,pn){Fe.aaSorting.push(pn[0]>=an.length?[0,pn[1]]:pn)})),en.search!==void 0&&$$2.extend(Fe.oPreviousSearch,_fnSearchToHung(en.search)),en.columns){for(nn=0,rn=en.columns.length;nn<rn;nn++){var fn=en.columns[nn];fn.visible!==void 0&&(ln?ln.column(nn).visible(fn.visible,!1):an[nn].bVisible=fn.visible),fn.search!==void 0&&$$2.extend(Fe.aoPreSearchCols[nn],_fnSearchToHung(fn.search))}ln&&ln.columns.adjust()}Fe._bLoadingState=!1,_fnCallbackFire(Fe,"aoStateLoaded","stateLoaded",[Fe,en]),tn()}function _fnSettingsFromNode(Fe){var en=DataTable.settings,tn=$$2.inArray(Fe,_pluck(en,"nTable"));return tn!==-1?en[tn]:null}function _fnLog(Fe,en,tn,nn){if(tn="DataTables warning: "+(Fe?"table id="+Fe.sTableId+" - ":"")+tn,nn&&(tn+=". For more information about this error, please see https://datatables.net/tn/"+nn),en)window.console&&console.log&&console.log(tn);else{var rn=DataTable.ext,an=rn.sErrMode||rn.errMode;if(Fe&&_fnCallbackFire(Fe,null,"error",[Fe,nn,tn]),an=="alert")alert(tn);else{if(an=="throw")throw new Error(tn);typeof an=="function"&&an(Fe,nn,tn)}}}function _fnMap(Fe,en,tn,nn){if(Array.isArray(tn)){$$2.each(tn,function(rn,an){Array.isArray(an)?_fnMap(Fe,en,an[0],an[1]):_fnMap(Fe,en,an)});return}nn===void 0&&(nn=tn),en[tn]!==void 0&&(Fe[nn]=en[tn])}function _fnExtend(Fe,en,tn){var nn;for(var rn in en)en.hasOwnProperty(rn)&&(nn=en[rn],$$2.isPlainObject(nn)?($$2.isPlainObject(Fe[rn])||(Fe[rn]={}),$$2.extend(!0,Fe[rn],nn)):tn&&rn!=="data"&&rn!=="aaData"&&Array.isArray(nn)?Fe[rn]=nn.slice():Fe[rn]=nn);return Fe}function _fnBindAction(Fe,en,tn){$$2(Fe).on("click.DT",en,function(nn){$$2(Fe).trigger("blur"),tn(nn)}).on("keypress.DT",en,function(nn){nn.which===13&&(nn.preventDefault(),tn(nn))}).on("selectstart.DT",function(){return!1})}function _fnCallbackReg(Fe,en,tn,nn){tn&&Fe[en].push({fn:tn,sName:nn})}function _fnCallbackFire(Fe,en,tn,nn){var rn=[];if(en&&(rn=$$2.map(Fe[en].slice().reverse(),function(cn,un){return cn.fn.apply(Fe.oInstance,nn)})),tn!==null){var an=$$2.Event(tn+".dt"),ln=$$2(Fe.nTable);ln.trigger(an,nn),ln.parents("body").length===0&&$$2("body").trigger(an,nn),rn.push(an.result)}return rn}function _fnLengthOverflow(Fe){var en=Fe._iDisplayStart,tn=Fe.fnDisplayEnd(),nn=Fe._iDisplayLength;en>=tn&&(en=tn-nn),en-=en%nn,(nn===-1||en<0)&&(en=0),Fe._iDisplayStart=en}function _fnRenderer(Fe,en){var tn=Fe.renderer,nn=DataTable.ext.renderer[en];return $$2.isPlainObject(tn)&&tn[en]?nn[tn[en]]||nn._:typeof tn=="string"&&nn[tn]||nn._}function _fnDataSource(Fe){return Fe.oFeatures.bServerSide?"ssp":Fe.ajax||Fe.sAjaxSource?"ajax":"dom"}var __apiStruct=[],__arrayProto=Array.prototype,_toSettings=function(Fe){var en,tn,nn=DataTable.settings,rn=$$2.map(nn,function(an,ln){return an.nTable});if(Fe){if(Fe.nTable&&Fe.oApi)return[Fe];if(Fe.nodeName&&Fe.nodeName.toLowerCase()==="table")return en=$$2.inArray(Fe,rn),en!==-1?[nn[en]]:null;if(Fe&&typeof Fe.settings=="function")return Fe.settings().toArray();typeof Fe=="string"?tn=$$2(Fe):Fe instanceof $$2&&(tn=Fe)}else return[];if(tn)return tn.map(function(an){return en=$$2.inArray(this,rn),en!==-1?nn[en]:null}).toArray()};_Api=function(Fe,en){if(!(this instanceof _Api))return new _Api(Fe,en);var tn=[],nn=function(ln){var cn=_toSettings(ln);cn&&tn.push.apply(tn,cn)};if(Array.isArray(Fe))for(var rn=0,an=Fe.length;rn<an;rn++)nn(Fe[rn]);else nn(Fe);this.context=_unique(tn),en&&$$2.merge(this,en),this.selector={rows:null,cols:null,opts:null},_Api.extend(this,this,__apiStruct)};DataTable.Api=_Api;$$2.extend(_Api.prototype,{any:function(){return this.count()!==0},concat:__arrayProto.concat,context:[],count:function(){return this.flatten().length},each:function(Fe){for(var en=0,tn=this.length;en<tn;en++)Fe.call(this,this[en],en,this);return this},eq:function(Fe){var en=this.context;return en.length>Fe?new _Api(en[Fe],this[Fe]):null},filter:function(Fe){var en=[];if(__arrayProto.filter)en=__arrayProto.filter.call(this,Fe,this);else for(var tn=0,nn=this.length;tn<nn;tn++)Fe.call(this,this[tn],tn,this)&&en.push(this[tn]);return new _Api(this.context,en)},flatten:function(){var Fe=[];return new _Api(this.context,Fe.concat.apply(Fe,this.toArray()))},join:__arrayProto.join,indexOf:__arrayProto.indexOf||function(Fe,en){for(var tn=en||0,nn=this.length;tn<nn;tn++)if(this[tn]===Fe)return tn;return-1},iterator:function(Fe,en,tn,nn){var rn=[],an,ln,cn,un,fn,hn=this.context,pn,gn,mn,_n=this.selector;for(typeof Fe=="string"&&(nn=tn,tn=en,en=Fe,Fe=!1),ln=0,cn=hn.length;ln<cn;ln++){var kn=new _Api(hn[ln]);if(en==="table")an=tn.call(kn,hn[ln],ln),an!==void 0&&rn.push(an);else if(en==="columns"||en==="rows")an=tn.call(kn,hn[ln],this[ln],ln),an!==void 0&&rn.push(an);else if(en==="column"||en==="column-rows"||en==="row"||en==="cell")for(gn=this[ln],en==="column-rows"&&(pn=_selector_row_indexes(hn[ln],_n.opts)),un=0,fn=gn.length;un<fn;un++)mn=gn[un],en==="cell"?an=tn.call(kn,hn[ln],mn.row,mn.column,ln,un):an=tn.call(kn,hn[ln],mn,ln,un,pn),an!==void 0&&rn.push(an)}if(rn.length||nn){var Cn=new _Api(hn,Fe?rn.concat.apply([],rn):rn),xn=Cn.selector;return xn.rows=_n.rows,xn.cols=_n.cols,xn.opts=_n.opts,Cn}return this},lastIndexOf:__arrayProto.lastIndexOf||function(Fe,en){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(Fe){var en=[];if(__arrayProto.map)en=__arrayProto.map.call(this,Fe,this);else for(var tn=0,nn=this.length;tn<nn;tn++)en.push(Fe.call(this,this[tn],tn));return new _Api(this.context,en)},pluck:function(Fe){var en=DataTable.util.get(Fe);return this.map(function(tn){return en(tn)})},pop:__arrayProto.pop,push:__arrayProto.push,reduce:__arrayProto.reduce||function(Fe,en){return _fnReduce(this,Fe,en,0,this.length,1)},reduceRight:__arrayProto.reduceRight||function(Fe,en){return _fnReduce(this,Fe,en,this.length-1,-1,-1)},reverse:__arrayProto.reverse,selector:null,shift:__arrayProto.shift,slice:function(){return new _Api(this.context,this)},sort:__arrayProto.sort,splice:__arrayProto.splice,toArray:function(){return __arrayProto.slice.call(this)},to$:function(){return $$2(this)},toJQuery:function(){return $$2(this)},unique:function(){return new _Api(this.context,_unique(this))},unshift:__arrayProto.unshift});_Api.extend=function(Fe,en,tn){if(!(!tn.length||!en||!(en instanceof _Api)&&!en.__dt_wrapper)){var nn,rn,an,ln=function(cn,un,fn){return function(){var hn=un.apply(cn,arguments);return _Api.extend(hn,hn,fn.methodExt),hn}};for(nn=0,rn=tn.length;nn<rn;nn++)an=tn[nn],en[an.name]=an.type==="function"?ln(Fe,an.val,an):an.type==="object"?{}:an.val,en[an.name].__dt_wrapper=!0,_Api.extend(Fe,en[an.name],an.propExt)}};_Api.register=_api_register=function(Fe,en){if(Array.isArray(Fe)){for(var tn=0,nn=Fe.length;tn<nn;tn++)_Api.register(Fe[tn],en);return}var rn,an,ln=Fe.split("."),cn=__apiStruct,un,fn,hn=function(gn,mn){for(var _n=0,kn=gn.length;_n<kn;_n++)if(gn[_n].name===mn)return gn[_n];return null};for(rn=0,an=ln.length;rn<an;rn++){fn=ln[rn].indexOf("()")!==-1,un=fn?ln[rn].replace("()",""):ln[rn];var pn=hn(cn,un);pn||(pn={name:un,val:{},methodExt:[],propExt:[],type:"object"},cn.push(pn)),rn===an-1?(pn.val=en,pn.type=typeof en=="function"?"function":$$2.isPlainObject(en)?"object":"other"):cn=fn?pn.methodExt:pn.propExt}};_Api.registerPlural=_api_registerPlural=function(Fe,en,tn){_Api.register(Fe,tn),_Api.register(en,function(){var nn=tn.apply(this,arguments);return nn===this?this:nn instanceof _Api?nn.length?Array.isArray(nn[0])?new _Api(nn.context,nn[0]):nn[0]:void 0:nn})};var __table_selector=function(Fe,en){if(Array.isArray(Fe))return $$2.map(Fe,function(nn){return __table_selector(nn,en)});if(typeof Fe=="number")return[en[Fe]];var tn=$$2.map(en,function(nn,rn){return nn.nTable});return $$2(tn).filter(Fe).map(function(nn){var rn=$$2.inArray(this,tn);return en[rn]}).toArray()};_api_register("tables()",function(Fe){return Fe!=null?new _Api(__table_selector(Fe,this.context)):this});_api_register("table()",function(Fe){var en=this.tables(Fe),tn=en.context;return tn.length?new _Api(tn[0]):en});_api_registerPlural("tables().nodes()","table().node()",function(){return this.iterator("table",function(Fe){return Fe.nTable},1)});_api_registerPlural("tables().body()","table().body()",function(){return this.iterator("table",function(Fe){return Fe.nTBody},1)});_api_registerPlural("tables().header()","table().header()",function(){return this.iterator("table",function(Fe){return Fe.nTHead},1)});_api_registerPlural("tables().footer()","table().footer()",function(){return this.iterator("table",function(Fe){return Fe.nTFoot},1)});_api_registerPlural("tables().containers()","table().container()",function(){return this.iterator("table",function(Fe){return Fe.nTableWrapper},1)});_api_register("draw()",function(Fe){return this.iterator("table",function(en){Fe==="page"?_fnDraw(en):(typeof Fe=="string"&&(Fe=Fe!=="full-hold"),_fnReDraw(en,Fe===!1))})});_api_register("page()",function(Fe){return Fe===void 0?this.page.info().page:this.iterator("table",function(en){_fnPageChange(en,Fe)})});_api_register("page.info()",function(Fe){if(this.context.length!==0){var en=this.context[0],tn=en._iDisplayStart,nn=en.oFeatures.bPaginate?en._iDisplayLength:-1,rn=en.fnRecordsDisplay(),an=nn===-1;return{page:an?0:Math.floor(tn/nn),pages:an?1:Math.ceil(rn/nn),start:tn,end:en.fnDisplayEnd(),length:nn,recordsTotal:en.fnRecordsTotal(),recordsDisplay:rn,serverSide:_fnDataSource(en)==="ssp"}}});_api_register("page.len()",function(Fe){return Fe===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(en){_fnLengthChange(en,Fe)})});var __reload=function(Fe,en,tn){if(tn){var nn=new _Api(Fe);nn.one("draw",function(){tn(nn.ajax.json())})}if(_fnDataSource(Fe)=="ssp")_fnReDraw(Fe,en);else{_fnProcessingDisplay(Fe,!0);var rn=Fe.jqXHR;rn&&rn.readyState!==4&&rn.abort(),_fnBuildAjax(Fe,[],function(an){_fnClearTable(Fe);for(var ln=_fnAjaxDataSrc(Fe,an),cn=0,un=ln.length;cn<un;cn++)_fnAddData(Fe,ln[cn]);_fnReDraw(Fe,en),_fnProcessingDisplay(Fe,!1)})}};_api_register("ajax.json()",function(){var Fe=this.context;if(Fe.length>0)return Fe[0].json});_api_register("ajax.params()",function(){var Fe=this.context;if(Fe.length>0)return Fe[0].oAjaxData});_api_register("ajax.reload()",function(Fe,en){return this.iterator("table",function(tn){__reload(tn,en===!1,Fe)})});_api_register("ajax.url()",function(Fe){var en=this.context;return Fe===void 0?en.length===0?void 0:(en=en[0],en.ajax?$$2.isPlainObject(en.ajax)?en.ajax.url:en.ajax:en.sAjaxSource):this.iterator("table",function(tn){$$2.isPlainObject(tn.ajax)?tn.ajax.url=Fe:tn.ajax=Fe})});_api_register("ajax.url().load()",function(Fe,en){return this.iterator("table",function(tn){__reload(tn,en===!1,Fe)})});var _selector_run=function(Fe,en,tn,nn,rn){var an=[],ln,cn,un,fn,hn,pn,gn=typeof en;for((!en||gn==="string"||gn==="function"||en.length===void 0)&&(en=[en]),un=0,fn=en.length;un<fn;un++)for(cn=en[un]&&en[un].split&&!en[un].match(/[\[\(:]/)?en[un].split(","):[en[un]],hn=0,pn=cn.length;hn<pn;hn++)ln=tn(typeof cn[hn]=="string"?cn[hn].trim():cn[hn]),ln&&ln.length&&(an=an.concat(ln));var mn=_ext.selector[Fe];if(mn.length)for(un=0,fn=mn.length;un<fn;un++)an=mn[un](nn,rn,an);return _unique(an)},_selector_opts=function(Fe){return Fe||(Fe={}),Fe.filter&&Fe.search===void 0&&(Fe.search=Fe.filter),$$2.extend({search:"none",order:"current",page:"all"},Fe)},_selector_first=function(Fe){for(var en=0,tn=Fe.length;en<tn;en++)if(Fe[en].length>0)return Fe[0]=Fe[en],Fe[0].length=1,Fe.length=1,Fe.context=[Fe.context[en]],Fe;return Fe.length=0,Fe},_selector_row_indexes=function(Fe,en){var tn,nn,rn,an=[],ln=Fe.aiDisplay,cn=Fe.aiDisplayMaster,un=en.search,fn=en.order,hn=en.page;if(_fnDataSource(Fe)=="ssp")return un==="removed"?[]:_range(0,cn.length);if(hn=="current")for(tn=Fe._iDisplayStart,nn=Fe.fnDisplayEnd();tn<nn;tn++)an.push(ln[tn]);else if(fn=="current"||fn=="applied"){if(un=="none")an=cn.slice();else if(un=="applied")an=ln.slice();else if(un=="removed"){for(var pn={},tn=0,nn=ln.length;tn<nn;tn++)pn[ln[tn]]=null;an=$$2.map(cn,function(gn){return pn.hasOwnProperty(gn)?null:gn})}}else if(fn=="index"||fn=="original")for(tn=0,nn=Fe.aoData.length;tn<nn;tn++)un=="none"?an.push(tn):(rn=$$2.inArray(tn,ln),(rn===-1&&un=="removed"||rn>=0&&un=="applied")&&an.push(tn));return an},__row_selector=function(Fe,en,tn){var nn,rn=function(an){var ln=_intVal(an),cn=Fe.aoData;if(ln!==null&&!tn)return[ln];if(nn||(nn=_selector_row_indexes(Fe,tn)),ln!==null&&$$2.inArray(ln,nn)!==-1)return[ln];if(an==null||an==="")return nn;if(typeof an=="function")return $$2.map(nn,function(mn){var _n=cn[mn];return an(mn,_n._aData,_n.nTr)?mn:null});if(an.nodeName){var un=an._DT_RowIndex,fn=an._DT_CellIndex;if(un!==void 0)return cn[un]&&cn[un].nTr===an?[un]:[];if(fn)return cn[fn.row]&&cn[fn.row].nTr===an.parentNode?[fn.row]:[];var hn=$$2(an).closest("*[data-dt-row]");return hn.length?[hn.data("dt-row")]:[]}if(typeof an=="string"&&an.charAt(0)==="#"){var pn=Fe.aIds[an.replace(/^#/,"")];if(pn!==void 0)return[pn.idx]}var gn=_removeEmpty(_pluck_order(Fe.aoData,nn,"nTr"));return $$2(gn).filter(an).map(function(){return this._DT_RowIndex}).toArray()};return _selector_run("row",en,rn,Fe,tn)};_api_register("rows()",function(Fe,en){Fe===void 0?Fe="":$$2.isPlainObject(Fe)&&(en=Fe,Fe=""),en=_selector_opts(en);var tn=this.iterator("table",function(nn){return __row_selector(nn,Fe,en)},1);return tn.selector.rows=Fe,tn.selector.opts=en,tn});_api_register("rows().nodes()",function(){return this.iterator("row",function(Fe,en){return Fe.aoData[en].nTr||void 0},1)});_api_register("rows().data()",function(){return this.iterator(!0,"rows",function(Fe,en){return _pluck_order(Fe.aoData,en,"_aData")},1)});_api_registerPlural("rows().cache()","row().cache()",function(Fe){return this.iterator("row",function(en,tn){var nn=en.aoData[tn];return Fe==="search"?nn._aFilterData:nn._aSortData},1)});_api_registerPlural("rows().invalidate()","row().invalidate()",function(Fe){return this.iterator("row",function(en,tn){_fnInvalidate(en,tn,Fe)})});_api_registerPlural("rows().indexes()","row().index()",function(){return this.iterator("row",function(Fe,en){return en},1)});_api_registerPlural("rows().ids()","row().id()",function(Fe){for(var en=[],tn=this.context,nn=0,rn=tn.length;nn<rn;nn++)for(var an=0,ln=this[nn].length;an<ln;an++){var cn=tn[nn].rowIdFn(tn[nn].aoData[this[nn][an]]._aData);en.push((Fe===!0?"#":"")+cn)}return new _Api(tn,en)});_api_registerPlural("rows().remove()","row().remove()",function(){var Fe=this;return this.iterator("row",function(en,tn,nn){var rn=en.aoData,an=rn[tn],ln,cn,un,fn,hn,pn;for(rn.splice(tn,1),ln=0,cn=rn.length;ln<cn;ln++)if(hn=rn[ln],pn=hn.anCells,hn.nTr!==null&&(hn.nTr._DT_RowIndex=ln),pn!==null)for(un=0,fn=pn.length;un<fn;un++)pn[un]._DT_CellIndex.row=ln;_fnDeleteIndex(en.aiDisplayMaster,tn),_fnDeleteIndex(en.aiDisplay,tn),_fnDeleteIndex(Fe[nn],tn,!1),en._iRecordsDisplay>0&&en._iRecordsDisplay--,_fnLengthOverflow(en);var gn=en.rowIdFn(an._aData);gn!==void 0&&delete en.aIds[gn]}),this.iterator("table",function(en){for(var tn=0,nn=en.aoData.length;tn<nn;tn++)en.aoData[tn].idx=tn}),this});_api_register("rows.add()",function(Fe){var en=this.iterator("table",function(nn){var rn,an,ln,cn=[];for(an=0,ln=Fe.length;an<ln;an++)rn=Fe[an],rn.nodeName&&rn.nodeName.toUpperCase()==="TR"?cn.push(_fnAddTr(nn,rn)[0]):cn.push(_fnAddData(nn,rn));return cn},1),tn=this.rows(-1);return tn.pop(),$$2.merge(tn,en),tn});_api_register("row()",function(Fe,en){return _selector_first(this.rows(Fe,en))});_api_register("row().data()",function(Fe){var en=this.context;if(Fe===void 0)return en.length&&this.length?en[0].aoData[this[0]]._aData:void 0;var tn=en[0].aoData[this[0]];return tn._aData=Fe,Array.isArray(Fe)&&tn.nTr&&tn.nTr.id&&_fnSetObjectDataFn(en[0].rowId)(Fe,tn.nTr.id),_fnInvalidate(en[0],this[0],"data"),this});_api_register("row().node()",function(){var Fe=this.context;return Fe.length&&this.length&&Fe[0].aoData[this[0]].nTr||null});_api_register("row.add()",function(Fe){Fe instanceof $$2&&Fe.length&&(Fe=Fe[0]);var en=this.iterator("table",function(tn){return Fe.nodeName&&Fe.nodeName.toUpperCase()==="TR"?_fnAddTr(tn,Fe)[0]:_fnAddData(tn,Fe)});return this.row(en[0])});$$2(document).on("plugin-init.dt",function(Fe,en){var tn=new _Api(en),nn="on-plugin-init",rn="stateSaveParams."+nn,an="destroy. "+nn;tn.on(rn,function(cn,un,fn){for(var hn=un.rowIdFn,pn=un.aoData,gn=[],mn=0;mn<pn.length;mn++)pn[mn]._detailsShow&&gn.push("#"+hn(pn[mn]._aData));fn.childRows=gn}),tn.on(an,function(){tn.off(rn+" "+an)});var ln=tn.state.loaded();ln&&ln.childRows&&tn.rows($$2.map(ln.childRows,function(cn){return cn.replace(/:/g,"\\:")})).every(function(){_fnCallbackFire(en,null,"requestChild",[this])})});var __details_add=function(Fe,en,tn,nn){var rn=[],an=function(ln,cn){if(Array.isArray(ln)||ln instanceof $$2){for(var un=0,fn=ln.length;un<fn;un++)an(ln[un],cn);return}if(ln.nodeName&&ln.nodeName.toLowerCase()==="tr")rn.push(ln);else{var hn=$$2("<tr><td></td></tr>").addClass(cn);$$2("td",hn).addClass(cn).html(ln)[0].colSpan=_fnVisbleColumns(Fe),rn.push(hn[0])}};an(tn,nn),en._details&&en._details.detach(),en._details=$$2(rn),en._detailsShow&&en._details.insertAfter(en.nTr)},__details_state=DataTable.util.throttle(function(Fe){_fnSaveState(Fe[0])},500),__details_remove=function(Fe,en){var tn=Fe.context;if(tn.length){var nn=tn[0].aoData[en!==void 0?en:Fe[0]];nn&&nn._details&&(nn._details.remove(),nn._detailsShow=void 0,nn._details=void 0,$$2(nn.nTr).removeClass("dt-hasChild"),__details_state(tn))}},__details_display=function(Fe,en){var tn=Fe.context;if(tn.length&&Fe.length){var nn=tn[0].aoData[Fe[0]];nn._details&&(nn._detailsShow=en,en?(nn._details.insertAfter(nn.nTr),$$2(nn.nTr).addClass("dt-hasChild")):(nn._details.detach(),$$2(nn.nTr).removeClass("dt-hasChild")),_fnCallbackFire(tn[0],null,"childRow",[en,Fe.row(Fe[0])]),__details_events(tn[0]),__details_state(tn))}},__details_events=function(Fe){var en=new _Api(Fe),tn=".dt.DT_details",nn="draw"+tn,rn="column-sizing"+tn,an="destroy"+tn,ln=Fe.aoData;en.off(nn+" "+rn+" "+an),_pluck(ln,"_details").length>0&&(en.on(nn,function(cn,un){Fe===un&&en.rows({page:"current"}).eq(0).each(function(fn){var hn=ln[fn];hn._detailsShow&&hn._details.insertAfter(hn.nTr)})}),en.on(rn,function(cn,un,fn,hn){if(Fe===un)for(var pn,gn=_fnVisbleColumns(un),mn=0,_n=ln.length;mn<_n;mn++)pn=ln[mn],pn._details&&pn._details.children("td[colspan]").attr("colspan",gn)}),en.on(an,function(cn,un){if(Fe===un)for(var fn=0,hn=ln.length;fn<hn;fn++)ln[fn]._details&&__details_remove(en,fn)}))},_emp="",_child_obj=_emp+"row().child",_child_mth=_child_obj+"()";_api_register(_child_mth,function(Fe,en){var tn=this.context;return Fe===void 0?tn.length&&this.length?tn[0].aoData[this[0]]._details:void 0:(Fe===!0?this.child.show():Fe===!1?__details_remove(this):tn.length&&this.length&&__details_add(tn[0],tn[0].aoData[this[0]],Fe,en),this)});_api_register([_child_obj+".show()",_child_mth+".show()"],function(Fe){return __details_display(this,!0),this});_api_register([_child_obj+".hide()",_child_mth+".hide()"],function(){return __details_display(this,!1),this});_api_register([_child_obj+".remove()",_child_mth+".remove()"],function(){return __details_remove(this),this});_api_register(_child_obj+".isShown()",function(){var Fe=this.context;return Fe.length&&this.length&&Fe[0].aoData[this[0]]._detailsShow||!1});var __re_column_selector=/^([^:]+):(name|visIdx|visible)$/,__columnData=function(Fe,en,tn,nn,rn){for(var an=[],ln=0,cn=rn.length;ln<cn;ln++)an.push(_fnGetCellData(Fe,rn[ln],en));return an},__column_selector=function(Fe,en,tn){var nn=Fe.aoColumns,rn=_pluck(nn,"sName"),an=_pluck(nn,"nTh"),ln=function(cn){var un=_intVal(cn);if(cn==="")return _range(nn.length);if(un!==null)return[un>=0?un:nn.length+un];if(typeof cn=="function"){var fn=_selector_row_indexes(Fe,tn);return $$2.map(nn,function(kn,Cn){return cn(Cn,__columnData(Fe,Cn,0,0,fn),an[Cn])?Cn:null})}var hn=typeof cn=="string"?cn.match(__re_column_selector):"";if(hn)switch(hn[2]){case"visIdx":case"visible":var pn=parseInt(hn[1],10);if(pn<0){var gn=$$2.map(nn,function(kn,Cn){return kn.bVisible?Cn:null});return[gn[gn.length+pn]]}return[_fnVisibleToColumnIndex(Fe,pn)];case"name":return $$2.map(rn,function(kn,Cn){return kn===hn[1]?Cn:null});default:return[]}if(cn.nodeName&&cn._DT_CellIndex)return[cn._DT_CellIndex.column];var mn=$$2(an).filter(cn).map(function(){return $$2.inArray(this,an)}).toArray();if(mn.length||!cn.nodeName)return mn;var _n=$$2(cn).closest("*[data-dt-column]");return _n.length?[_n.data("dt-column")]:[]};return _selector_run("column",en,ln,Fe,tn)},__setColumnVis=function(Fe,en,tn){var nn=Fe.aoColumns,rn=nn[en],an=Fe.aoData,ln,cn,un,fn;if(tn===void 0)return rn.bVisible;if(rn.bVisible!==tn){if(tn){var hn=$$2.inArray(!0,_pluck(nn,"bVisible"),en+1);for(cn=0,un=an.length;cn<un;cn++)fn=an[cn].nTr,ln=an[cn].anCells,fn&&fn.insertBefore(ln[en],ln[hn]||null)}else $$2(_pluck(Fe.aoData,"anCells",en)).detach();rn.bVisible=tn}};_api_register("columns()",function(Fe,en){Fe===void 0?Fe="":$$2.isPlainObject(Fe)&&(en=Fe,Fe=""),en=_selector_opts(en);var tn=this.iterator("table",function(nn){return __column_selector(nn,Fe,en)},1);return tn.selector.cols=Fe,tn.selector.opts=en,tn});_api_registerPlural("columns().header()","column().header()",function(Fe,en){return this.iterator("column",function(tn,nn){return tn.aoColumns[nn].nTh},1)});_api_registerPlural("columns().footer()","column().footer()",function(Fe,en){return this.iterator("column",function(tn,nn){return tn.aoColumns[nn].nTf},1)});_api_registerPlural("columns().data()","column().data()",function(){return this.iterator("column-rows",__columnData,1)});_api_registerPlural("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(Fe,en){return Fe.aoColumns[en].mData},1)});_api_registerPlural("columns().cache()","column().cache()",function(Fe){return this.iterator("column-rows",function(en,tn,nn,rn,an){return _pluck_order(en.aoData,an,Fe==="search"?"_aFilterData":"_aSortData",tn)},1)});_api_registerPlural("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(Fe,en,tn,nn,rn){return _pluck_order(Fe.aoData,rn,"anCells",en)},1)});_api_registerPlural("columns().visible()","column().visible()",function(Fe,en){var tn=this,nn=this.iterator("column",function(rn,an){if(Fe===void 0)return rn.aoColumns[an].bVisible;__setColumnVis(rn,an,Fe)});return Fe!==void 0&&this.iterator("table",function(rn){_fnDrawHead(rn,rn.aoHeader),_fnDrawHead(rn,rn.aoFooter),rn.aiDisplay.length||$$2(rn.nTBody).find("td[colspan]").attr("colspan",_fnVisbleColumns(rn)),_fnSaveState(rn),tn.iterator("column",function(an,ln){_fnCallbackFire(an,null,"column-visibility",[an,ln,Fe,en])}),(en===void 0||en)&&tn.columns.adjust()}),nn});_api_registerPlural("columns().indexes()","column().index()",function(Fe){return this.iterator("column",function(en,tn){return Fe==="visible"?_fnColumnIndexToVisible(en,tn):tn},1)});_api_register("columns.adjust()",function(){return this.iterator("table",function(Fe){_fnAdjustColumnSizing(Fe)},1)});_api_register("column.index()",function(Fe,en){if(this.context.length!==0){var tn=this.context[0];if(Fe==="fromVisible"||Fe==="toData")return _fnVisibleToColumnIndex(tn,en);if(Fe==="fromData"||Fe==="toVisible")return _fnColumnIndexToVisible(tn,en)}});_api_register("column()",function(Fe,en){return _selector_first(this.columns(Fe,en))});var __cell_selector=function(Fe,en,tn){var nn=Fe.aoData,rn=_selector_row_indexes(Fe,tn),an=_removeEmpty(_pluck_order(nn,rn,"anCells")),ln=$$2(_flatten([],an)),cn,un=Fe.aoColumns.length,fn,hn,pn,gn,mn,_n,kn=function(Cn){var xn=typeof Cn=="function";if(Cn==null||xn){for(fn=[],hn=0,pn=rn.length;hn<pn;hn++)for(cn=rn[hn],gn=0;gn<un;gn++)mn={row:cn,column:gn},xn?(_n=nn[cn],Cn(mn,_fnGetCellData(Fe,cn,gn),_n.anCells?_n.anCells[gn]:null)&&fn.push(mn)):fn.push(mn);return fn}if($$2.isPlainObject(Cn))return Cn.column!==void 0&&Cn.row!==void 0&&$$2.inArray(Cn.row,rn)!==-1?[Cn]:[];var Sn=ln.filter(Cn).map(function(Mn,In){return{row:In._DT_CellIndex.row,column:In._DT_CellIndex.column}}).toArray();return Sn.length||!Cn.nodeName?Sn:(_n=$$2(Cn).closest("*[data-dt-row]"),_n.length?[{row:_n.data("dt-row"),column:_n.data("dt-column")}]:[])};return _selector_run("cell",en,kn,Fe,tn)};_api_register("cells()",function(Fe,en,tn){if($$2.isPlainObject(Fe)&&(Fe.row===void 0?(tn=Fe,Fe=null):(tn=en,en=null)),$$2.isPlainObject(en)&&(tn=en,en=null),en==null)return this.iterator("table",function(gn){return __cell_selector(gn,Fe,_selector_opts(tn))});var nn=tn?{page:tn.page,order:tn.order,search:tn.search}:{},rn=this.columns(en,nn),an=this.rows(Fe,nn),ln,cn,un,fn,hn=this.iterator("table",function(gn,mn){var _n=[];for(ln=0,cn=an[mn].length;ln<cn;ln++)for(un=0,fn=rn[mn].length;un<fn;un++)_n.push({row:an[mn][ln],column:rn[mn][un]});return _n},1),pn=tn&&tn.selected?this.cells(hn,tn):hn;return $$2.extend(pn.selector,{cols:en,rows:Fe,opts:tn}),pn});_api_registerPlural("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(Fe,en,tn){var nn=Fe.aoData[en];return nn&&nn.anCells?nn.anCells[tn]:void 0},1)});_api_register("cells().data()",function(){return this.iterator("cell",function(Fe,en,tn){return _fnGetCellData(Fe,en,tn)},1)});_api_registerPlural("cells().cache()","cell().cache()",function(Fe){return Fe=Fe==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(en,tn,nn){return en.aoData[tn][Fe][nn]},1)});_api_registerPlural("cells().render()","cell().render()",function(Fe){return this.iterator("cell",function(en,tn,nn){return _fnGetCellData(en,tn,nn,Fe)},1)});_api_registerPlural("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(Fe,en,tn){return{row:en,column:tn,columnVisible:_fnColumnIndexToVisible(Fe,tn)}},1)});_api_registerPlural("cells().invalidate()","cell().invalidate()",function(Fe){return this.iterator("cell",function(en,tn,nn){_fnInvalidate(en,tn,Fe,nn)})});_api_register("cell()",function(Fe,en,tn){return _selector_first(this.cells(Fe,en,tn))});_api_register("cell().data()",function(Fe){var en=this.context,tn=this[0];return Fe===void 0?en.length&&tn.length?_fnGetCellData(en[0],tn[0].row,tn[0].column):void 0:(_fnSetCellData(en[0],tn[0].row,tn[0].column,Fe),_fnInvalidate(en[0],tn[0].row,"data",tn[0].column),this)});_api_register("order()",function(Fe,en){var tn=this.context;return Fe===void 0?tn.length!==0?tn[0].aaSorting:void 0:(typeof Fe=="number"?Fe=[[Fe,en]]:Fe.length&&!Array.isArray(Fe[0])&&(Fe=Array.prototype.slice.call(arguments)),this.iterator("table",function(nn){nn.aaSorting=Fe.slice()}))});_api_register("order.listener()",function(Fe,en,tn){return this.iterator("table",function(nn){_fnSortAttachListener(nn,Fe,en,tn)})});_api_register("order.fixed()",function(Fe){if(!Fe){var en=this.context,tn=en.length?en[0].aaSortingFixed:void 0;return Array.isArray(tn)?{pre:tn}:tn}return this.iterator("table",function(nn){nn.aaSortingFixed=$$2.extend(!0,{},Fe)})});_api_register(["columns().order()","column().order()"],function(Fe){var en=this;return this.iterator("table",function(tn,nn){var rn=[];$$2.each(en[nn],function(an,ln){rn.push([ln,Fe])}),tn.aaSorting=rn})});_api_register("search()",function(Fe,en,tn,nn){var rn=this.context;return Fe===void 0?rn.length!==0?rn[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(an){an.oFeatures.bFilter&&_fnFilterComplete(an,$$2.extend({},an.oPreviousSearch,{sSearch:Fe+"",bRegex:en===null?!1:en,bSmart:tn===null?!0:tn,bCaseInsensitive:nn===null?!0:nn}),1)})});_api_registerPlural("columns().search()","column().search()",function(Fe,en,tn,nn){return this.iterator("column",function(rn,an){var ln=rn.aoPreSearchCols;if(Fe===void 0)return ln[an].sSearch;rn.oFeatures.bFilter&&($$2.extend(ln[an],{sSearch:Fe+"",bRegex:en===null?!1:en,bSmart:tn===null?!0:tn,bCaseInsensitive:nn===null?!0:nn}),_fnFilterComplete(rn,rn.oPreviousSearch,1))})});_api_register("state()",function(){return this.context.length?this.context[0].oSavedState:null});_api_register("state.clear()",function(){return this.iterator("table",function(Fe){Fe.fnStateSaveCallback.call(Fe.oInstance,Fe,{})})});_api_register("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});_api_register("state.save()",function(){return this.iterator("table",function(Fe){_fnSaveState(Fe)})});DataTable.use=function(Fe,en){en==="lib"||Fe.fn?$$2=Fe:en=="win"||Fe.document?(window=Fe,document=Fe.document):(en==="datetime"||Fe.type==="DateTime")&&(DataTable.DateTime=Fe)};DataTable.factory=function(Fe,en){var tn=!1;return Fe&&Fe.document&&(window=Fe,document=Fe.document),en&&en.fn&&en.fn.jquery&&($$2=en,tn=!0),tn};DataTable.versionCheck=DataTable.fnVersionCheck=function(Fe){for(var en=DataTable.version.split("."),tn=Fe.split("."),nn,rn,an=0,ln=tn.length;an<ln;an++)if(nn=parseInt(en[an],10)||0,rn=parseInt(tn[an],10)||0,nn!==rn)return nn>rn;return!0};DataTable.isDataTable=DataTable.fnIsDataTable=function(Fe){var en=$$2(Fe).get(0),tn=!1;return Fe instanceof DataTable.Api?!0:($$2.each(DataTable.settings,function(nn,rn){var an=rn.nScrollHead?$$2("table",rn.nScrollHead)[0]:null,ln=rn.nScrollFoot?$$2("table",rn.nScrollFoot)[0]:null;(rn.nTable===en||an===en||ln===en)&&(tn=!0)}),tn)};DataTable.tables=DataTable.fnTables=function(Fe){var en=!1;$$2.isPlainObject(Fe)&&(en=Fe.api,Fe=Fe.visible);var tn=$$2.map(DataTable.settings,function(nn){if(!Fe||Fe&&$$2(nn.nTable).is(":visible"))return nn.nTable});return en?new _Api(tn):tn};DataTable.camelToHungarian=_fnCamelToHungarian;_api_register("$()",function(Fe,en){var tn=this.rows(en).nodes(),nn=$$2(tn);return $$2([].concat(nn.filter(Fe).toArray(),nn.find(Fe).toArray()))});$$2.each(["on","one","off"],function(Fe,en){_api_register(en+"()",function(){var tn=Array.prototype.slice.call(arguments);tn[0]=$$2.map(tn[0].split(/\s/),function(rn){return rn.match(/\.dt\b/)?rn:rn+".dt"}).join(" ");var nn=$$2(this.tables().nodes());return nn[en].apply(nn,tn),this})});_api_register("clear()",function(){return this.iterator("table",function(Fe){_fnClearTable(Fe)})});_api_register("settings()",function(){return new _Api(this.context,this.context)});_api_register("init()",function(){var Fe=this.context;return Fe.length?Fe[0].oInit:null});_api_register("data()",function(){return this.iterator("table",function(Fe){return _pluck(Fe.aoData,"_aData")}).flatten()});_api_register("destroy()",function(Fe){return Fe=Fe||!1,this.iterator("table",function(en){var tn=en.oClasses,nn=en.nTable,rn=en.nTBody,an=en.nTHead,ln=en.nTFoot,cn=$$2(nn),un=$$2(rn),fn=$$2(en.nTableWrapper),hn=$$2.map(en.aoData,function(kn){return kn.nTr}),pn;en.bDestroying=!0,_fnCallbackFire(en,"aoDestroyCallback","destroy",[en]),Fe||new _Api(en).columns().visible(!0),fn.off(".DT").find(":not(tbody *)").off(".DT"),$$2(window).off(".DT-"+en.sInstance),nn!=an.parentNode&&(cn.children("thead").detach(),cn.append(an)),ln&&nn!=ln.parentNode&&(cn.children("tfoot").detach(),cn.append(ln)),en.aaSorting=[],en.aaSortingFixed=[],_fnSortingClasses(en),$$2(hn).removeClass(en.asStripeClasses.join(" ")),$$2("th, td",an).removeClass(tn.sSortable+" "+tn.sSortableAsc+" "+tn.sSortableDesc+" "+tn.sSortableNone),un.children().detach(),un.append(hn);var gn=en.nTableWrapper.parentNode,mn=Fe?"remove":"detach";cn[mn](),fn[mn](),!Fe&&gn&&(gn.insertBefore(nn,en.nTableReinsertBefore),cn.css("width",en.sDestroyWidth).removeClass(tn.sTable),pn=en.asDestroyStripes.length,pn&&un.children().each(function(kn){$$2(this).addClass(en.asDestroyStripes[kn%pn])}));var _n=$$2.inArray(en,DataTable.settings);_n!==-1&&DataTable.settings.splice(_n,1)})});$$2.each(["column","row","cell"],function(Fe,en){_api_register(en+"s().every()",function(tn){var nn=this.selector.opts,rn=this;return this.iterator(en,function(an,ln,cn,un,fn){tn.call(rn[en](ln,en==="cell"?cn:nn,en==="cell"?nn:void 0),ln,cn,un,fn)})})});_api_register("i18n()",function(Fe,en,tn){var nn=this.context[0],rn=_fnGetObjectDataFn(Fe)(nn.oLanguage);return rn===void 0&&(rn=en),tn!==void 0&&$$2.isPlainObject(rn)&&(rn=rn[tn]!==void 0?rn[tn]:rn._),typeof rn=="string"?rn.replace("%d",tn):rn});DataTable.version="1.13.7";DataTable.settings=[];DataTable.models={};DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1};DataTable.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};DataTable.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(Fe){return Fe.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(Fe){try{return JSON.parse((Fe.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+Fe.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(Fe,en){try{(Fe.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+Fe.sInstance+"_"+location.pathname,JSON.stringify(en))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$$2.extend({},DataTable.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};_fnHungarianMap(DataTable.defaults);DataTable.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};_fnHungarianMap(DataTable.defaults.column);DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return _fnDataSource(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return _fnDataSource(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var Fe=this._iDisplayLength,en=this._iDisplayStart,tn=en+Fe,nn=this.aiDisplay.length,rn=this.oFeatures,an=rn.bPaginate;return rn.bServerSide?an===!1||Fe===-1?en+nn:Math.min(en+Fe,this._iRecordsDisplay):!an||tn>nn||Fe===-1?nn:tn},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};DataTable.ext=_ext={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:DataTable.version};$$2.extend(_ext,{afnFiltering:_ext.search,aTypes:_ext.type.detect,ofnSearch:_ext.type.search,oSort:_ext.type.order,afnSortData:_ext.order,aoFeatures:_ext.feature,oApi:_ext.internal,oStdClasses:_ext.classes,oPagination:_ext.pager});$$2.extend(DataTable.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var extPagination=DataTable.ext.pager;function _numbers(Fe,en){var tn=[],nn=extPagination.numbers_length,rn=Math.floor(nn/2);return en<=nn?tn=_range(0,en):Fe<=rn?(tn=_range(0,nn-2),tn.push("ellipsis"),tn.push(en-1)):Fe>=en-1-rn?(tn=_range(en-(nn-2),en),tn.splice(0,0,"ellipsis"),tn.splice(0,0,0)):(tn=_range(Fe-rn+2,Fe+rn-1),tn.push("ellipsis"),tn.push(en-1),tn.splice(0,0,"ellipsis"),tn.splice(0,0,0)),tn.DT_el="span",tn}$$2.extend(extPagination,{simple:function(Fe,en){return["previous","next"]},full:function(Fe,en){return["first","previous","next","last"]},numbers:function(Fe,en){return[_numbers(Fe,en)]},simple_numbers:function(Fe,en){return["previous",_numbers(Fe,en),"next"]},full_numbers:function(Fe,en){return["first","previous",_numbers(Fe,en),"next","last"]},first_last_numbers:function(Fe,en){return["first",_numbers(Fe,en),"last"]},_numbers,numbers_length:7});$$2.extend(!0,DataTable.ext.renderer,{pageButton:{_:function(Fe,en,tn,nn,rn,an){var ln=Fe.oClasses,cn=Fe.oLanguage.oPaginate,un=Fe.oLanguage.oAria.paginate||{},fn,hn,pn=function(mn,_n){var kn,Cn,xn,Sn,Mn=ln.sPageButtonDisabled,In=function(Nn){_fnPageChange(Fe,Nn.data.action,!0)};for(kn=0,Cn=_n.length;kn<Cn;kn++)if(Sn=_n[kn],Array.isArray(Sn)){var On=$$2("<"+(Sn.DT_el||"div")+"/>").appendTo(mn);pn(On,Sn)}else{var Pn=!1;switch(fn=null,hn=Sn,Sn){case"ellipsis":mn.append('<span class="ellipsis">&#x2026;</span>');break;case"first":fn=cn.sFirst,rn===0&&(Pn=!0);break;case"previous":fn=cn.sPrevious,rn===0&&(Pn=!0);break;case"next":fn=cn.sNext,(an===0||rn===an-1)&&(Pn=!0);break;case"last":fn=cn.sLast,(an===0||rn===an-1)&&(Pn=!0);break;default:fn=Fe.fnFormatNumber(Sn+1),hn=rn===Sn?ln.sPageButtonActive:"";break}if(fn!==null){var Tn=Fe.oInit.pagingTag||"a";Pn&&(hn+=" "+Mn),xn=$$2("<"+Tn+">",{class:ln.sPageButton+" "+hn,"aria-controls":Fe.sTableId,"aria-disabled":Pn?"true":null,"aria-label":un[Sn],role:"link","aria-current":hn===ln.sPageButtonActive?"page":null,"data-dt-idx":Sn,tabindex:Pn?-1:Fe.iTabIndex,id:tn===0&&typeof Sn=="string"?Fe.sTableId+"_"+Sn:null}).html(fn).appendTo(mn),_fnBindAction(xn,{action:Sn},In)}}},gn;try{gn=$$2(en).find(document.activeElement).data("dt-idx")}catch{}pn($$2(en).empty(),nn),gn!==void 0&&$$2(en).find("[data-dt-idx="+gn+"]").trigger("focus")}}});$$2.extend(DataTable.ext.type.detect,[function(Fe,en){var tn=en.oLanguage.sDecimal;return _isNumber(Fe,tn)?"num"+tn:null},function(Fe,en){if(Fe&&!(Fe instanceof Date)&&!_re_date.test(Fe))return null;var tn=Date.parse(Fe);return tn!==null&&!isNaN(tn)||_empty(Fe)?"date":null},function(Fe,en){var tn=en.oLanguage.sDecimal;return _isNumber(Fe,tn,!0)?"num-fmt"+tn:null},function(Fe,en){var tn=en.oLanguage.sDecimal;return _htmlNumeric(Fe,tn)?"html-num"+tn:null},function(Fe,en){var tn=en.oLanguage.sDecimal;return _htmlNumeric(Fe,tn,!0)?"html-num-fmt"+tn:null},function(Fe,en){return _empty(Fe)||typeof Fe=="string"&&Fe.indexOf("<")!==-1?"html":null}]);$$2.extend(DataTable.ext.type.search,{html:function(Fe){return _empty(Fe)?Fe:typeof Fe=="string"?Fe.replace(_re_new_lines," ").replace(_re_html,""):""},string:function(Fe){return _empty(Fe)?Fe:typeof Fe=="string"?Fe.replace(_re_new_lines," "):Fe}});var __numericReplace=function(Fe,en,tn,nn){if(Fe!==0&&(!Fe||Fe==="-"))return-1/0;var rn=typeof Fe;return rn==="number"||rn==="bigint"?Fe:(en&&(Fe=_numToDecimal(Fe,en)),Fe.replace&&(tn&&(Fe=Fe.replace(tn,"")),nn&&(Fe=Fe.replace(nn,""))),Fe*1)};function _addNumericSort(Fe){$$2.each({num:function(en){return __numericReplace(en,Fe)},"num-fmt":function(en){return __numericReplace(en,Fe,_re_formatted_numeric)},"html-num":function(en){return __numericReplace(en,Fe,_re_html)},"html-num-fmt":function(en){return __numericReplace(en,Fe,_re_html,_re_formatted_numeric)}},function(en,tn){_ext.type.order[en+Fe+"-pre"]=tn,en.match(/^html\-/)&&(_ext.type.search[en+Fe]=_ext.type.search.html)})}$$2.extend(_ext.type.order,{"date-pre":function(Fe){var en=Date.parse(Fe);return isNaN(en)?-1/0:en},"html-pre":function(Fe){return _empty(Fe)?"":Fe.replace?Fe.replace(/<.*?>/g,"").toLowerCase():Fe+""},"string-pre":function(Fe){return _empty(Fe)?"":typeof Fe=="string"?Fe.toLowerCase():Fe.toString?Fe.toString():""},"string-asc":function(Fe,en){return Fe<en?-1:Fe>en?1:0},"string-desc":function(Fe,en){return Fe<en?1:Fe>en?-1:0}});_addNumericSort("");$$2.extend(!0,DataTable.ext.renderer,{header:{_:function(Fe,en,tn,nn){$$2(Fe.nTable).on("order.dt.DT",function(rn,an,ln,cn){if(Fe===an){var un=tn.idx;en.removeClass(nn.sSortAsc+" "+nn.sSortDesc).addClass(cn[un]=="asc"?nn.sSortAsc:cn[un]=="desc"?nn.sSortDesc:tn.sSortingClass)}})},jqueryui:function(Fe,en,tn,nn){$$2("<div/>").addClass(nn.sSortJUIWrapper).append(en.contents()).append($$2("<span/>").addClass(nn.sSortIcon+" "+tn.sSortingClassJUI)).appendTo(en),$$2(Fe.nTable).on("order.dt.DT",function(rn,an,ln,cn){if(Fe===an){var un=tn.idx;en.removeClass(nn.sSortAsc+" "+nn.sSortDesc).addClass(cn[un]=="asc"?nn.sSortAsc:cn[un]=="desc"?nn.sSortDesc:tn.sSortingClass),en.find("span."+nn.sSortIcon).removeClass(nn.sSortJUIAsc+" "+nn.sSortJUIDesc+" "+nn.sSortJUI+" "+nn.sSortJUIAscAllowed+" "+nn.sSortJUIDescAllowed).addClass(cn[un]=="asc"?nn.sSortJUIAsc:cn[un]=="desc"?nn.sSortJUIDesc:tn.sSortingClassJUI)}})}}});var __htmlEscapeEntities=function(Fe){return Array.isArray(Fe)&&(Fe=Fe.join(",")),typeof Fe=="string"?Fe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):Fe};function __mld(Fe,en,tn,nn,rn){return window.moment?Fe[en](rn):window.luxon?Fe[tn](rn):nn?Fe[nn](rn):Fe}var __mlWarning=!1;function __mldObj(Fe,en,tn){var nn;if(window.moment){if(nn=window.moment.utc(Fe,en,tn,!0),!nn.isValid())return null}else if(window.luxon){if(nn=en&&typeof Fe=="string"?window.luxon.DateTime.fromFormat(Fe,en):window.luxon.DateTime.fromISO(Fe),!nn.isValid)return null;nn.setLocale(tn)}else en?(__mlWarning||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),__mlWarning=!0):nn=new Date(Fe);return nn}function __mlHelper(Fe){return function(en,tn,nn,rn){arguments.length===0?(nn="en",tn=null,en=null):arguments.length===1?(nn="en",tn=en,en=null):arguments.length===2&&(nn=tn,tn=en,en=null);var an="datetime-"+tn;return DataTable.ext.type.order[an]||(DataTable.ext.type.detect.unshift(function(ln){return ln===an?an:!1}),DataTable.ext.type.order[an+"-asc"]=function(ln,cn){var un=ln.valueOf(),fn=cn.valueOf();return un===fn?0:un<fn?-1:1},DataTable.ext.type.order[an+"-desc"]=function(ln,cn){var un=ln.valueOf(),fn=cn.valueOf();return un===fn?0:un>fn?-1:1}),function(ln,cn){if(ln==null)if(rn==="--now"){var un=new Date;ln=new Date(Date.UTC(un.getFullYear(),un.getMonth(),un.getDate(),un.getHours(),un.getMinutes(),un.getSeconds()))}else ln="";if(cn==="type")return an;if(ln==="")return cn!=="sort"?"":__mldObj("0000-01-01 00:00:00",null,nn);if(tn!==null&&en===tn&&cn!=="sort"&&cn!=="type"&&!(ln instanceof Date))return ln;var fn=__mldObj(ln,en,nn);if(fn===null)return ln;if(cn==="sort")return fn;var hn=tn===null?__mld(fn,"toDate","toJSDate","")[Fe]():__mld(fn,"format","toFormat","toISOString",tn);return cn==="display"?__htmlEscapeEntities(hn):hn}}}var __thousands=",",__decimal=".";if(window.Intl!==void 0)try{for(var num=new Intl.NumberFormat().formatToParts(100000.1),i$1=0;i$1<num.length;i$1++)num[i$1].type==="group"?__thousands=num[i$1].value:num[i$1].type==="decimal"&&(__decimal=num[i$1].value)}catch{}DataTable.datetime=function(Fe,en){var tn="datetime-detect-"+Fe;en||(en="en"),DataTable.ext.type.order[tn]||(DataTable.ext.type.detect.unshift(function(nn){var rn=__mldObj(nn,Fe,en);return nn===""||rn?tn:!1}),DataTable.ext.type.order[tn+"-pre"]=function(nn){return __mldObj(nn,Fe,en)||0})};DataTable.render={date:__mlHelper("toLocaleDateString"),datetime:__mlHelper("toLocaleString"),time:__mlHelper("toLocaleTimeString"),number:function(Fe,en,tn,nn,rn){return Fe==null&&(Fe=__thousands),en==null&&(en=__decimal),{display:function(an){if(typeof an!="number"&&typeof an!="string"||an===""||an===null)return an;var ln=an<0?"-":"",cn=parseFloat(an);if(isNaN(cn))return __htmlEscapeEntities(an);cn=cn.toFixed(tn),an=Math.abs(cn);var un=parseInt(an,10),fn=tn?en+(an-un).toFixed(tn).substring(2):"";return un===0&&parseFloat(fn)===0&&(ln=""),ln+(nn||"")+un.toString().replace(/\B(?=(\d{3})+(?!\d))/g,Fe)+fn+(rn||"")}}},text:function(){return{display:__htmlEscapeEntities,filter:__htmlEscapeEntities}}};function _fnExternApiFunc(Fe){return function(){var en=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.internal[Fe].apply(this,en)}}$$2.extend(DataTable.ext.internal,{_fnExternApiFunc,_fnBuildAjax,_fnAjaxUpdate,_fnAjaxParameters,_fnAjaxUpdateDraw,_fnAjaxDataSrc,_fnAddColumn,_fnColumnOptions,_fnAdjustColumnSizing,_fnVisibleToColumnIndex,_fnColumnIndexToVisible,_fnVisbleColumns,_fnGetColumns,_fnColumnTypes,_fnApplyColumnDefs,_fnHungarianMap,_fnCamelToHungarian,_fnLanguageCompat,_fnBrowserDetect,_fnAddData,_fnAddTr,_fnNodeToDataIndex,_fnNodeToColumnIndex,_fnGetCellData,_fnSetCellData,_fnSplitObjNotation,_fnGetObjectDataFn,_fnSetObjectDataFn,_fnGetDataMaster,_fnClearTable,_fnDeleteIndex,_fnInvalidate,_fnGetRowElements,_fnCreateTr,_fnBuildHead,_fnDrawHead,_fnDraw,_fnReDraw,_fnAddOptionsHtml,_fnDetectHeader,_fnGetUniqueThs,_fnFeatureHtmlFilter,_fnFilterComplete,_fnFilterCustom,_fnFilterColumn,_fnFilter,_fnFilterCreateSearch,_fnEscapeRegex,_fnFilterData,_fnFeatureHtmlInfo,_fnUpdateInfo,_fnInfoMacros,_fnInitialise,_fnInitComplete,_fnLengthChange,_fnFeatureHtmlLength,_fnFeatureHtmlPaginate,_fnPageChange,_fnFeatureHtmlProcessing,_fnProcessingDisplay,_fnFeatureHtmlTable,_fnScrollDraw,_fnApplyToChildren,_fnCalculateColumnWidths,_fnThrottle,_fnConvertToWidth,_fnGetWidestNode,_fnGetMaxLenString,_fnStringToCss,_fnSortFlatten,_fnSort,_fnSortAria,_fnSortListener,_fnSortAttachListener,_fnSortingClasses,_fnSortData,_fnSaveState,_fnLoadState,_fnImplementState,_fnSettingsFromNode,_fnLog,_fnMap,_fnBindAction,_fnCallbackReg,_fnCallbackFire,_fnLengthOverflow,_fnRenderer,_fnDataSource,_fnRowAttributes,_fnExtend,_fnCalculateEnd:function(){}});$$2.fn.dataTable=DataTable;DataTable.$=$$2;$$2.fn.dataTableSettings=DataTable.settings;$$2.fn.dataTableExt=DataTable.ext;$$2.fn.DataTable=function(Fe){return $$2(this).dataTable(Fe).api()};$$2.each(DataTable,function(Fe,en){$$2.fn.DataTable[Fe]=en});/*! Responsive 2.5.0
 * Â© SpryMedia Ltd - datatables.net/license
 */let $$1=$$3;var Responsive=function(Fe,en){if(!DataTable.versionCheck||!DataTable.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={childNodeStore:{},columns:[],current:[],dt:new DataTable.Api(Fe)},!this.s.dt.settings()[0].responsive&&(en&&typeof en.details=="string"?en.details={type:en.details}:en&&en.details===!1?en.details={type:!1}:en&&en.details===!0&&(en.details={type:"inline"}),this.c=$$1.extend(!0,{},Responsive.defaults,DataTable.defaults.responsive,en),Fe.responsive=this,this._constructor())};$$1.extend(Responsive.prototype,{_constructor:function(){var Fe=this,en=this.s.dt,tn=en.settings()[0],nn=$$1(window).innerWidth();en.settings()[0]._responsive=this,$$1(window).on("resize.dtr orientationchange.dtr",DataTable.util.throttle(function(){var an=$$1(window).innerWidth();an!==nn&&(Fe._resize(),nn=an)})),tn.oApi._fnCallbackReg(tn,"aoRowCreatedCallback",function(an,ln,cn){$$1.inArray(!1,Fe.s.current)!==-1&&$$1(">td, >th",an).each(function(un){var fn=en.column.index("toData",un);Fe.s.current[fn]===!1&&$$1(this).css("display","none")})}),en.on("destroy.dtr",function(){en.off(".dtr"),$$1(en.table().body()).off(".dtr"),$$1(window).off("resize.dtr orientationchange.dtr"),en.cells(".dtr-control").nodes().to$().removeClass("dtr-control"),$$1.each(Fe.s.current,function(an,ln){ln===!1&&Fe._setColumnVis(an,!0)})}),this.c.breakpoints.sort(function(an,ln){return an.width<ln.width?1:an.width>ln.width?-1:0}),this._classLogic(),this._resizeAuto();var rn=this.c.details;rn.type!==!1&&(Fe._detailsInit(),en.on("column-visibility.dtr",function(){Fe._timer&&clearTimeout(Fe._timer),Fe._timer=setTimeout(function(){Fe._timer=null,Fe._classLogic(),Fe._resizeAuto(),Fe._resize(!0),Fe._redrawChildren()},100)}),en.on("draw.dtr",function(){Fe._redrawChildren()}),$$1(en.table().node()).addClass("dtr-"+rn.type)),en.on("column-reorder.dtr",function(an,ln,cn){Fe._classLogic(),Fe._resizeAuto(),Fe._resize(!0)}),en.on("column-sizing.dtr",function(){Fe._resizeAuto(),Fe._resize()}),en.on("column-calc.dt",function(an,ln){for(var cn=Fe.s.current,un=0;un<cn.length;un++){var fn=ln.visible.indexOf(un);cn[un]===!1&&fn>=0&&ln.visible.splice(fn,1)}}),en.on("preXhr.dtr",function(){var an=[];en.rows().every(function(){this.child.isShown()&&an.push(this.id(!0))}),en.one("draw.dtr",function(){Fe._resizeAuto(),Fe._resize(),en.rows(an).every(function(){Fe._detailsDisplay(this,!1)})})}),en.on("draw.dtr",function(){Fe._controlClass()}).on("init.dtr",function(an,ln,cn){an.namespace==="dt"&&(Fe._resizeAuto(),Fe._resize(),$$1.inArray(!1,Fe.s.current)&&en.columns.adjust())}),this._resize()},_childNodes:function(Fe,en,tn){var nn=en+"-"+tn;if(this.s.childNodeStore[nn])return this.s.childNodeStore[nn];for(var rn=[],an=Fe.cell(en,tn).node().childNodes,ln=0,cn=an.length;ln<cn;ln++)rn.push(an[ln]);return this.s.childNodeStore[nn]=rn,rn},_childNodesRestore:function(Fe,en,tn){var nn=en+"-"+tn;if(this.s.childNodeStore[nn]){for(var rn=Fe.cell(en,tn).node(),an=this.s.childNodeStore[nn],ln=an[0].parentNode,cn=ln.childNodes,un=[],fn=0,hn=cn.length;fn<hn;fn++)un.push(cn[fn]);for(var pn=0,gn=un.length;pn<gn;pn++)rn.appendChild(un[pn]);this.s.childNodeStore[nn]=void 0}},_columnsVisiblity:function(Fe){var en=this.s.dt,tn=this.s.columns,nn,rn,an=tn.map(function(kn,Cn){return{columnIdx:Cn,priority:kn.priority}}).sort(function(kn,Cn){return kn.priority!==Cn.priority?kn.priority-Cn.priority:kn.columnIdx-Cn.columnIdx}),ln=$$1.map(tn,function(kn,Cn){return en.column(Cn).visible()===!1?"not-visible":kn.auto&&kn.minWidth===null?!1:kn.auto===!0?"-":$$1.inArray(Fe,kn.includeIn)!==-1}),cn=0;for(nn=0,rn=ln.length;nn<rn;nn++)ln[nn]===!0&&(cn+=tn[nn].minWidth);var un=en.settings()[0].oScroll,fn=un.sY||un.sX?un.iBarWidth:0,hn=en.table().container().offsetWidth-fn,pn=hn-cn;for(nn=0,rn=ln.length;nn<rn;nn++)tn[nn].control&&(pn-=tn[nn].minWidth);var gn=!1;for(nn=0,rn=an.length;nn<rn;nn++){var mn=an[nn].columnIdx;ln[mn]==="-"&&!tn[mn].control&&tn[mn].minWidth&&(gn||pn-tn[mn].minWidth<0?(gn=!0,ln[mn]=!1):ln[mn]=!0,pn-=tn[mn].minWidth)}var _n=!1;for(nn=0,rn=tn.length;nn<rn;nn++)if(!tn[nn].control&&!tn[nn].never&&ln[nn]===!1){_n=!0;break}for(nn=0,rn=tn.length;nn<rn;nn++)tn[nn].control&&(ln[nn]=_n),ln[nn]==="not-visible"&&(ln[nn]=!1);return $$1.inArray(!0,ln)===-1&&(ln[0]=!0),ln},_classLogic:function(){var Fe=this,en=this.c.breakpoints,tn=this.s.dt,nn=tn.columns().eq(0).map(function(ln){var cn=this.column(ln),un=cn.header().className,fn=tn.settings()[0].aoColumns[ln].responsivePriority,hn=cn.header().getAttribute("data-priority");return fn===void 0&&(fn=hn==null?1e4:hn*1),{className:un,includeIn:[],auto:!1,control:!1,never:!!un.match(/\b(dtr\-)?never\b/),priority:fn}}),rn=function(ln,cn){var un=nn[ln].includeIn;$$1.inArray(cn,un)===-1&&un.push(cn)},an=function(ln,cn,un,fn){var hn,pn,gn;if(!un)nn[ln].includeIn.push(cn);else if(un==="max-")for(hn=Fe._find(cn).width,pn=0,gn=en.length;pn<gn;pn++)en[pn].width<=hn&&rn(ln,en[pn].name);else if(un==="min-")for(hn=Fe._find(cn).width,pn=0,gn=en.length;pn<gn;pn++)en[pn].width>=hn&&rn(ln,en[pn].name);else if(un==="not-")for(pn=0,gn=en.length;pn<gn;pn++)en[pn].name.indexOf(fn)===-1&&rn(ln,en[pn].name)};nn.each(function(ln,cn){for(var un=ln.className.split(" "),fn=!1,hn=0,pn=un.length;hn<pn;hn++){var gn=un[hn].trim();if(gn==="all"||gn==="dtr-all"){fn=!0,ln.includeIn=$$1.map(en,function(mn){return mn.name});return}else if(gn==="none"||gn==="dtr-none"||ln.never){fn=!0;return}else if(gn==="control"||gn==="dtr-control"){fn=!0,ln.control=!0;return}$$1.each(en,function(mn,_n){var kn=_n.name.split("-"),Cn=new RegExp("(min\\-|max\\-|not\\-)?("+kn[0]+")(\\-[_a-zA-Z0-9])?"),xn=gn.match(Cn);xn&&(fn=!0,xn[2]===kn[0]&&xn[3]==="-"+kn[1]?an(cn,_n.name,xn[1],xn[2]+xn[3]):xn[2]===kn[0]&&!xn[3]&&an(cn,_n.name,xn[1],xn[2]))})}fn||(ln.auto=!0)}),this.s.columns=nn},_controlClass:function(){if(this.c.details.type==="inline"){var Fe=this.s.dt,en=this.s.current,tn=$$1.inArray(!0,en);Fe.cells(null,function(nn){return nn!==tn},{page:"current"}).nodes().to$().filter(".dtr-control").removeClass("dtr-control"),Fe.cells(null,tn,{page:"current"}).nodes().to$().addClass("dtr-control")}},_detailsDisplay:function(Fe,en){var tn=this,nn=this.s.dt,rn=this.c.details,an=function(un){$$1(Fe.node()).toggleClass("parent",un!==!1),$$1(nn.table().node()).triggerHandler("responsive-display.dt",[nn,Fe,un,en])};if(rn&&rn.type!==!1){var ln=typeof rn.renderer=="string"?Responsive.renderer[rn.renderer]():rn.renderer,cn=rn.display(Fe,en,function(){return ln.call(tn,nn,Fe[0],tn._detailsObj(Fe[0]))},function(){an(!1)});typeof cn=="boolean"&&an(cn)}},_detailsInit:function(){var Fe=this,en=this.s.dt,tn=this.c.details;tn.type==="inline"&&(tn.target="td.dtr-control, th.dtr-control"),en.on("draw.dtr",function(){Fe._tabIndexes()}),Fe._tabIndexes(),$$1(en.table().body()).on("keyup.dtr","td, th",function(an){an.keyCode===13&&$$1(this).data("dtr-keyboard")&&$$1(this).click()});var nn=tn.target,rn=typeof nn=="string"?nn:"td, th";(nn!==void 0||nn!==null)&&$$1(en.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",rn,function(an){if($$1(en.table().node()).hasClass("collapsed")&&$$1.inArray($$1(this).closest("tr").get(0),en.rows().nodes().toArray())!==-1){if(typeof nn=="number"){var ln=nn<0?en.columns().eq(0).length+nn:nn;if(en.cell(this).index().column!==ln)return}var cn=en.row($$1(this).closest("tr"));an.type==="click"?Fe._detailsDisplay(cn,!1):an.type==="mousedown"?$$1(this).css("outline","none"):an.type==="mouseup"&&$$1(this).trigger("blur").css("outline","")}})},_detailsObj:function(Fe){var en=this,tn=this.s.dt;return $$1.map(this.s.columns,function(nn,rn){if(!(nn.never||nn.control)){var an=tn.settings()[0].aoColumns[rn];return{className:an.sClass,columnIndex:rn,data:tn.cell(Fe,rn).render(en.c.orthogonal),hidden:tn.column(rn).visible()&&!en.s.current[rn],rowIndex:Fe,title:an.sTitle!==null?an.sTitle:$$1(tn.column(rn).header()).text()}}})},_find:function(Fe){for(var en=this.c.breakpoints,tn=0,nn=en.length;tn<nn;tn++)if(en[tn].name===Fe)return en[tn]},_redrawChildren:function(){var Fe=this,en=this.s.dt;en.rows({page:"current"}).iterator("row",function(tn,nn){Fe._detailsDisplay(en.row(nn),!0)})},_resize:function(Fe){var en=this,tn=this.s.dt,nn=$$1(window).innerWidth(),rn=this.c.breakpoints,an=rn[0].name,ln=this.s.columns,cn,un,fn=this.s.current.slice();for(cn=rn.length-1;cn>=0;cn--)if(nn<=rn[cn].width){an=rn[cn].name;break}var hn=this._columnsVisiblity(an);this.s.current=hn;var pn=!1;for(cn=0,un=ln.length;cn<un;cn++)if(hn[cn]===!1&&!ln[cn].never&&!ln[cn].control&&tn.column(cn).visible()){pn=!0;break}$$1(tn.table().node()).toggleClass("collapsed",pn);var gn=!1,mn=0;tn.columns().eq(0).each(function(_n,kn){hn[kn]===!0&&mn++,(Fe||hn[kn]!==fn[kn])&&(gn=!0,en._setColumnVis(_n,hn[kn]))}),this._redrawChildren(),gn&&($$1(tn.table().node()).trigger("responsive-resize.dt",[tn,this.s.current]),tn.page.info().recordsDisplay===0&&$$1("td",tn.table().body()).eq(0).attr("colspan",mn)),en._controlClass()},_resizeAuto:function(){var Fe=this.s.dt,en=this.s.columns,tn=this;if(this.c.auto&&$$1.inArray(!0,$$1.map(en,function(pn){return pn.auto}))!==-1){$$1.isEmptyObject(this.s.childNodeStore)||$$1.each(this.s.childNodeStore,function(pn){var gn=pn.split("-");tn._childNodesRestore(Fe,gn[0]*1,gn[1]*1)}),Fe.table().node().offsetWidth,Fe.columns;var nn=Fe.table().node().cloneNode(!1),rn=$$1(Fe.table().header().cloneNode(!1)).appendTo(nn),an=$$1(Fe.table().body()).clone(!1,!1).empty().appendTo(nn);nn.style.width="auto";var ln=Fe.columns().header().filter(function(pn){return Fe.column(pn).visible()}).to$().clone(!1).css("display","table-cell").css("width","auto").css("min-width",0);$$1(an).append($$1(Fe.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");var cn=Fe.table().footer();if(cn){var un=$$1(cn.cloneNode(!1)).appendTo(nn),fn=Fe.columns().footer().filter(function(pn){return Fe.column(pn).visible()}).to$().clone(!1).css("display","table-cell");$$1("<tr/>").append(fn).appendTo(un)}$$1("<tr/>").append(ln).appendTo(rn),this.c.details.type==="inline"&&$$1(nn).addClass("dtr-inline collapsed"),$$1(nn).find("[name]").removeAttr("name"),$$1(nn).css("position","relative");var hn=$$1("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(nn);hn.insertBefore(Fe.table().node()),ln.each(function(pn){var gn=Fe.column.index("fromVisible",pn);en[gn].minWidth=this.offsetWidth||0}),hn.remove()}},_responsiveOnlyHidden:function(){var Fe=this.s.dt;return $$1.map(this.s.current,function(en,tn){return Fe.column(tn).visible()===!1?!0:en})},_setColumnVis:function(Fe,en){var tn=this,nn=this.s.dt,rn=en?"":"none";$$1(nn.column(Fe).header()).css("display",rn).toggleClass("dtr-hidden",!en),$$1(nn.column(Fe).footer()).css("display",rn).toggleClass("dtr-hidden",!en),nn.column(Fe).nodes().to$().css("display",rn).toggleClass("dtr-hidden",!en),$$1.isEmptyObject(this.s.childNodeStore)||nn.cells(null,Fe).indexes().each(function(an){tn._childNodesRestore(nn,an.row,an.column)})},_tabIndexes:function(){var Fe=this.s.dt,en=Fe.cells({page:"current"}).nodes().to$(),tn=Fe.settings()[0],nn=this.c.details.target;en.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),typeof nn=="number"?Fe.cells(null,nn,{page:"current"}).nodes().to$().attr("tabIndex",tn.iTabIndex).data("dtr-keyboard",1):(nn==="td:first-child, th:first-child"&&(nn=">td:first-child, >th:first-child"),$$1(nn,Fe.rows({page:"current"}).nodes()).attr("tabIndex",tn.iTabIndex).data("dtr-keyboard",1))}});Responsive.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];Responsive.display={childRow:function(Fe,en,tn){if(en){if($$1(Fe.node()).hasClass("parent"))return Fe.child(tn(),"child").show(),!0}else return Fe.child.isShown()?(Fe.child(!1),!1):(Fe.child(tn(),"child").show(),!0)},childRowImmediate:function(Fe,en,tn){return!en&&Fe.child.isShown()||!Fe.responsive.hasHidden()?(Fe.child(!1),!1):(Fe.child(tn(),"child").show(),!0)},modal:function(Fe){return function(en,tn,nn,rn){if(tn){var ln=$$1("div.dtr-modal-content");if(ln.length&&en.index()===ln.data("dtr-row-idx"))ln.empty().append(nn());else return null}else{var an=function(){ln.remove(),$$1(document).off("keypress.dtr"),$$1(en.node()).removeClass("parent"),rn()},ln=$$1('<div class="dtr-modal"/>').append($$1('<div class="dtr-modal-display"/>').append($$1('<div class="dtr-modal-content"/>').data("dtr-row-idx",en.index()).append(nn())).append($$1('<div class="dtr-modal-close">&times;</div>').click(function(){an()}))).append($$1('<div class="dtr-modal-background"/>').click(function(){an()})).appendTo("body");$$1(en.node()).addClass("parent"),$$1(document).on("keyup.dtr",function(cn){cn.keyCode===27&&(cn.stopPropagation(),an())})}return Fe&&Fe.header&&$$1("div.dtr-modal-content").prepend("<h2>"+Fe.header(en)+"</h2>"),!0}}};Responsive.renderer={listHiddenNodes:function(){return function(Fe,en,tn){var nn=this,rn=$$1('<ul data-dtr-index="'+en+'" class="dtr-details"/>'),an=!1;return $$1.each(tn,function(ln,cn){if(cn.hidden){var un=cn.className?'class="'+cn.className+'"':"";$$1("<li "+un+' data-dtr-index="'+cn.columnIndex+'" data-dt-row="'+cn.rowIndex+'" data-dt-column="'+cn.columnIndex+'"><span class="dtr-title">'+cn.title+"</span> </li>").append($$1('<span class="dtr-data"/>').append(nn._childNodes(Fe,cn.rowIndex,cn.columnIndex))).appendTo(rn),an=!0}}),an?rn:!1}},listHidden:function(){return function(Fe,en,tn){var nn=$$1.map(tn,function(rn){var an=rn.className?'class="'+rn.className+'"':"";return rn.hidden?"<li "+an+' data-dtr-index="'+rn.columnIndex+'" data-dt-row="'+rn.rowIndex+'" data-dt-column="'+rn.columnIndex+'"><span class="dtr-title">'+rn.title+'</span> <span class="dtr-data">'+rn.data+"</span></li>":""}).join("");return nn?$$1('<ul data-dtr-index="'+en+'" class="dtr-details"/>').append(nn):!1}},tableAll:function(Fe){return Fe=$$1.extend({tableClass:""},Fe),function(en,tn,nn){var rn=$$1.map(nn,function(an){var ln=an.className?'class="'+an.className+'"':"";return"<tr "+ln+' data-dt-row="'+an.rowIndex+'" data-dt-column="'+an.columnIndex+'"><td>'+an.title+":</td> <td>"+an.data+"</td></tr>"}).join("");return $$1('<table class="'+Fe.tableClass+' dtr-details" width="100%"/>').append(rn)}}};Responsive.defaults={breakpoints:Responsive.breakpoints,auto:!0,details:{display:Responsive.display.childRow,renderer:Responsive.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var Api=$$1.fn.dataTable.Api;Api.register("responsive()",function(){return this});Api.register("responsive.index()",function(Fe){return Fe=$$1(Fe),{column:Fe.data("dtr-index"),row:Fe.parent().data("dtr-index")}});Api.register("responsive.rebuild()",function(){return this.iterator("table",function(Fe){Fe._responsive&&Fe._responsive._classLogic()})});Api.register("responsive.recalc()",function(){return this.iterator("table",function(Fe){Fe._responsive&&(Fe._responsive._resizeAuto(),Fe._responsive._resize())})});Api.register("responsive.hasHidden()",function(){var Fe=this.context[0];return Fe._responsive?$$1.inArray(!1,Fe._responsive._responsiveOnlyHidden())!==-1:!1});Api.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(Fe,en){return Fe._responsive?Fe._responsive._responsiveOnlyHidden()[en]:!1},1)});Responsive.version="2.5.0";$$1.fn.dataTable.Responsive=Responsive;$$1.fn.DataTable.Responsive=Responsive;$$1(document).on("preInit.dt.dtr",function(Fe,en,tn){if(Fe.namespace==="dt"&&($$1(en.nTable).hasClass("responsive")||$$1(en.nTable).hasClass("dt-responsive")||en.oInit.responsive||DataTable.defaults.responsive)){var nn=en.oInit.responsive;nn!==!1&&new Responsive(en,$$1.isPlainObject(nn)?nn:{})}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(Fe,en){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tn,nn){tn.__proto__=nn}||function(tn,nn){for(var rn in nn)Object.prototype.hasOwnProperty.call(nn,rn)&&(tn[rn]=nn[rn])},extendStatics(Fe,en)};function __extends(Fe,en){if(typeof en!="function"&&en!==null)throw new TypeError("Class extends value "+String(en)+" is not a constructor or null");extendStatics(Fe,en);function tn(){this.constructor=Fe}Fe.prototype=en===null?Object.create(en):(tn.prototype=en.prototype,new tn)}var Browser=function(){function Fe(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return Fe}(),Env=function(){function Fe(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return Fe}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(Fe,en){var tn=en.browser,nn=Fe.match(/Firefox\/([\d.]+)/),rn=Fe.match(/MSIE\s([\d.]+)/)||Fe.match(/Trident\/.+?rv:(([\d.]+))/),an=Fe.match(/Edge?\/([\d.]+)/),ln=/micromessenger/i.test(Fe);nn&&(tn.firefox=!0,tn.version=nn[1]),rn&&(tn.ie=!0,tn.version=rn[1]),an&&(tn.edge=!0,tn.version=an[1],tn.newEdge=+an[1].split(".")[0]>18),ln&&(tn.weChat=!0),en.svgSupported=typeof SVGRect<"u",en.touchEventsSupported="ontouchstart"in window&&!tn.ie&&!tn.edge,en.pointerEventsSupported="onpointerdown"in window&&(tn.edge||tn.ie&&+tn.version>=11),en.domSupported=typeof document<"u";var cn=document.documentElement.style;en.transform3dSupported=(tn.ie&&"transition"in cn||tn.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in cn)&&!("OTransition"in cn),en.transformSupported=en.transform3dSupported||tn.ie&&+tn.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(Fe){var en={};if(typeof JSON>"u")return en;for(var tn=0;tn<Fe.length;tn++){var nn=String.fromCharCode(tn+32),rn=(Fe.charCodeAt(tn)-OFFSET)/SCALE;en[nn]=rn}return en}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var Fe,en;return function(tn,nn){if(!Fe){var rn=platformApi.createCanvas();Fe=rn&&rn.getContext("2d")}if(Fe)return en!==nn&&(en=Fe.font=nn||DEFAULT_FONT),Fe.measureText(tn);tn=tn||"",nn=nn||DEFAULT_FONT;var an=/(\d+)px/.exec(nn),ln=an&&+an[1]||DEFAULT_FONT_SIZE,cn=0;if(nn.indexOf("mono")>=0)cn=ln*tn.length;else for(var un=0;un<tn.length;un++){var fn=DEFAULT_TEXT_WIDTH_MAP[tn[un]];cn+=fn==null?ln:fn*ln}return{width:cn}}}(),loadImage:function(Fe,en,tn){var nn=new Image;return nn.onload=en,nn.onerror=tn,nn.src=Fe,nn}};function setPlatformAPI(Fe){for(var en in platformApi)Fe[en]&&(platformApi[en]=Fe[en])}var BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(Fe,en){return Fe["[object "+en+"]"]=!0,Fe},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(Fe,en){return Fe["[object "+en+"Array]"]=!0,Fe},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError$1(){for(var Fe=[],en=0;en<arguments.length;en++)Fe[en]=arguments[en];typeof console<"u"&&console.error.apply(console,Fe)}function clone$4(Fe){if(Fe==null||typeof Fe!="object")return Fe;var en=Fe,tn=objToString.call(Fe);if(tn==="[object Array]"){if(!isPrimitive(Fe)){en=[];for(var nn=0,rn=Fe.length;nn<rn;nn++)en[nn]=clone$4(Fe[nn])}}else if(TYPED_ARRAY[tn]){if(!isPrimitive(Fe)){var an=Fe.constructor;if(an.from)en=an.from(Fe);else{en=new an(Fe.length);for(var nn=0,rn=Fe.length;nn<rn;nn++)en[nn]=Fe[nn]}}}else if(!BUILTIN_OBJECT[tn]&&!isPrimitive(Fe)&&!isDom(Fe)){en={};for(var ln in Fe)Fe.hasOwnProperty(ln)&&ln!==protoKey&&(en[ln]=clone$4(Fe[ln]))}return en}function merge(Fe,en,tn){if(!isObject$3(en)||!isObject$3(Fe))return tn?clone$4(en):Fe;for(var nn in en)if(en.hasOwnProperty(nn)&&nn!==protoKey){var rn=Fe[nn],an=en[nn];isObject$3(an)&&isObject$3(rn)&&!isArray$1(an)&&!isArray$1(rn)&&!isDom(an)&&!isDom(rn)&&!isBuiltInObject(an)&&!isBuiltInObject(rn)&&!isPrimitive(an)&&!isPrimitive(rn)?merge(rn,an,tn):(tn||!(nn in Fe))&&(Fe[nn]=clone$4(en[nn]))}return Fe}function mergeAll(Fe,en){for(var tn=Fe[0],nn=1,rn=Fe.length;nn<rn;nn++)tn=merge(tn,Fe[nn],en);return tn}function extend$1(Fe,en){if(Object.assign)Object.assign(Fe,en);else for(var tn in en)en.hasOwnProperty(tn)&&tn!==protoKey&&(Fe[tn]=en[tn]);return Fe}function defaults(Fe,en,tn){for(var nn=keys(en),rn=0;rn<nn.length;rn++){var an=nn[rn];(tn?en[an]!=null:Fe[an]==null)&&(Fe[an]=en[an])}return Fe}var createCanvas=platformApi.createCanvas;function indexOf(Fe,en){if(Fe){if(Fe.indexOf)return Fe.indexOf(en);for(var tn=0,nn=Fe.length;tn<nn;tn++)if(Fe[tn]===en)return tn}return-1}function inherits(Fe,en){var tn=Fe.prototype;function nn(){}nn.prototype=en.prototype,Fe.prototype=new nn;for(var rn in tn)tn.hasOwnProperty(rn)&&(Fe.prototype[rn]=tn[rn]);Fe.prototype.constructor=Fe,Fe.superClass=en}function mixin(Fe,en,tn){if(Fe="prototype"in Fe?Fe.prototype:Fe,en="prototype"in en?en.prototype:en,Object.getOwnPropertyNames)for(var nn=Object.getOwnPropertyNames(en),rn=0;rn<nn.length;rn++){var an=nn[rn];an!=="constructor"&&(tn?en[an]!=null:Fe[an]==null)&&(Fe[an]=en[an])}else defaults(Fe,en,tn)}function isArrayLike(Fe){return!Fe||typeof Fe=="string"?!1:typeof Fe.length=="number"}function each$f(Fe,en,tn){if(Fe&&en)if(Fe.forEach&&Fe.forEach===nativeForEach)Fe.forEach(en,tn);else if(Fe.length===+Fe.length)for(var nn=0,rn=Fe.length;nn<rn;nn++)en.call(tn,Fe[nn],nn,Fe);else for(var an in Fe)Fe.hasOwnProperty(an)&&en.call(tn,Fe[an],an,Fe)}function map$1(Fe,en,tn){if(!Fe)return[];if(!en)return slice(Fe);if(Fe.map&&Fe.map===nativeMap)return Fe.map(en,tn);for(var nn=[],rn=0,an=Fe.length;rn<an;rn++)nn.push(en.call(tn,Fe[rn],rn,Fe));return nn}function reduce(Fe,en,tn,nn){if(Fe&&en){for(var rn=0,an=Fe.length;rn<an;rn++)tn=en.call(nn,tn,Fe[rn],rn,Fe);return tn}}function filter(Fe,en,tn){if(!Fe)return[];if(!en)return slice(Fe);if(Fe.filter&&Fe.filter===nativeFilter)return Fe.filter(en,tn);for(var nn=[],rn=0,an=Fe.length;rn<an;rn++)en.call(tn,Fe[rn],rn,Fe)&&nn.push(Fe[rn]);return nn}function find(Fe,en,tn){if(Fe&&en){for(var nn=0,rn=Fe.length;nn<rn;nn++)if(en.call(tn,Fe[nn],nn,Fe))return Fe[nn]}}function keys(Fe){if(!Fe)return[];if(Object.keys)return Object.keys(Fe);var en=[];for(var tn in Fe)Fe.hasOwnProperty(tn)&&en.push(tn);return en}function bindPolyfill(Fe,en){for(var tn=[],nn=2;nn<arguments.length;nn++)tn[nn-2]=arguments[nn];return function(){return Fe.apply(en,tn.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(Fe){for(var en=[],tn=1;tn<arguments.length;tn++)en[tn-1]=arguments[tn];return function(){return Fe.apply(this,en.concat(nativeSlice.call(arguments)))}}function isArray$1(Fe){return Array.isArray?Array.isArray(Fe):objToString.call(Fe)==="[object Array]"}function isFunction(Fe){return typeof Fe=="function"}function isString(Fe){return typeof Fe=="string"}function isStringSafe(Fe){return objToString.call(Fe)==="[object String]"}function isNumber(Fe){return typeof Fe=="number"}function isObject$3(Fe){var en=typeof Fe;return en==="function"||!!Fe&&en==="object"}function isBuiltInObject(Fe){return!!BUILTIN_OBJECT[objToString.call(Fe)]}function isTypedArray(Fe){return!!TYPED_ARRAY[objToString.call(Fe)]}function isDom(Fe){return typeof Fe=="object"&&typeof Fe.nodeType=="number"&&typeof Fe.ownerDocument=="object"}function isGradientObject(Fe){return Fe.colorStops!=null}function isImagePatternObject(Fe){return Fe.image!=null}function isRegExp(Fe){return objToString.call(Fe)==="[object RegExp]"}function eqNaN(Fe){return Fe!==Fe}function retrieve(){for(var Fe=[],en=0;en<arguments.length;en++)Fe[en]=arguments[en];for(var tn=0,nn=Fe.length;tn<nn;tn++)if(Fe[tn]!=null)return Fe[tn]}function retrieve2(Fe,en){return Fe??en}function retrieve3(Fe,en,tn){return Fe??en??tn}function slice(Fe){for(var en=[],tn=1;tn<arguments.length;tn++)en[tn-1]=arguments[tn];return nativeSlice.apply(Fe,en)}function normalizeCssArray$1(Fe){if(typeof Fe=="number")return[Fe,Fe,Fe,Fe];var en=Fe.length;return en===2?[Fe[0],Fe[1],Fe[0],Fe[1]]:en===3?[Fe[0],Fe[1],Fe[2],Fe[1]]:Fe}function assert(Fe,en){if(!Fe)throw new Error(en)}function trim$1(Fe){return Fe==null?null:typeof Fe.trim=="function"?Fe.trim():Fe.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(Fe){Fe[primitiveKey]=!0}function isPrimitive(Fe){return Fe[primitiveKey]}var MapPolyfill=function(){function Fe(){this.data={}}return Fe.prototype.delete=function(en){var tn=this.has(en);return tn&&delete this.data[en],tn},Fe.prototype.has=function(en){return this.data.hasOwnProperty(en)},Fe.prototype.get=function(en){return this.data[en]},Fe.prototype.set=function(en,tn){return this.data[en]=tn,this},Fe.prototype.keys=function(){return keys(this.data)},Fe.prototype.forEach=function(en){var tn=this.data;for(var nn in tn)tn.hasOwnProperty(nn)&&en(tn[nn],nn)},Fe}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function Fe(en){var tn=isArray$1(en);this.data=maybeNativeMap();var nn=this;en instanceof Fe?en.each(rn):en&&each$f(en,rn);function rn(an,ln){tn?nn.set(an,ln):nn.set(ln,an)}}return Fe.prototype.hasKey=function(en){return this.data.has(en)},Fe.prototype.get=function(en){return this.data.get(en)},Fe.prototype.set=function(en,tn){return this.data.set(en,tn),tn},Fe.prototype.each=function(en,tn){this.data.forEach(function(nn,rn){en.call(tn,nn,rn)})},Fe.prototype.keys=function(){var en=this.data.keys();return isNativeMapSupported?Array.from(en):en},Fe.prototype.removeKey=function(en){this.data.delete(en)},Fe}();function createHashMap(Fe){return new HashMap(Fe)}function concatArray(Fe,en){for(var tn=new Fe.constructor(Fe.length+en.length),nn=0;nn<Fe.length;nn++)tn[nn]=Fe[nn];for(var rn=Fe.length,nn=0;nn<en.length;nn++)tn[nn+rn]=en[nn];return tn}function createObject(Fe,en){var tn;if(Object.create)tn=Object.create(Fe);else{var nn=function(){};nn.prototype=Fe,tn=new nn}return en&&extend$1(tn,en),tn}function disableUserSelect(Fe){var en=Fe.style;en.webkitUserSelect="none",en.userSelect="none",en.webkitTapHighlightColor="rgba(0,0,0,0)",en["-webkit-touch-callout"]="none"}function hasOwn(Fe,en){return Fe.hasOwnProperty(en)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;const util$1=Object.freeze(Object.defineProperty({__proto__:null,HashMap,RADIAN_TO_DEGREE,assert,bind:bind$1,clone:clone$4,concatArray,createCanvas,createHashMap,createObject,curry:curry$1,defaults,disableUserSelect,each:each$f,eqNaN,extend:extend$1,filter,find,guid,hasOwn,indexOf,inherits,isArray:isArray$1,isArrayLike,isBuiltInObject,isDom,isFunction,isGradientObject,isImagePatternObject,isNumber,isObject:isObject$3,isPrimitive,isRegExp,isString,isStringSafe,isTypedArray,keys,logError:logError$1,map:map$1,merge,mergeAll,mixin,noop,normalizeCssArray:normalizeCssArray$1,reduce,retrieve,retrieve2,retrieve3,setAsPrimitive,slice,trim:trim$1},Symbol.toStringTag,{value:"Module"}));function create$2(Fe,en){return Fe==null&&(Fe=0),en==null&&(en=0),[Fe,en]}function copy$1(Fe,en){return Fe[0]=en[0],Fe[1]=en[1],Fe}function clone$3(Fe){return[Fe[0],Fe[1]]}function set$1(Fe,en,tn){return Fe[0]=en,Fe[1]=tn,Fe}function add(Fe,en,tn){return Fe[0]=en[0]+tn[0],Fe[1]=en[1]+tn[1],Fe}function scaleAndAdd$1(Fe,en,tn,nn){return Fe[0]=en[0]+tn[0]*nn,Fe[1]=en[1]+tn[1]*nn,Fe}function sub(Fe,en,tn){return Fe[0]=en[0]-tn[0],Fe[1]=en[1]-tn[1],Fe}function len(Fe){return Math.sqrt(lenSquare(Fe))}var length=len;function lenSquare(Fe){return Fe[0]*Fe[0]+Fe[1]*Fe[1]}var lengthSquare=lenSquare;function mul$1(Fe,en,tn){return Fe[0]=en[0]*tn[0],Fe[1]=en[1]*tn[1],Fe}function div(Fe,en,tn){return Fe[0]=en[0]/tn[0],Fe[1]=en[1]/tn[1],Fe}function dot(Fe,en){return Fe[0]*en[0]+Fe[1]*en[1]}function scale$2(Fe,en,tn){return Fe[0]=en[0]*tn,Fe[1]=en[1]*tn,Fe}function normalize$3(Fe,en){var tn=len(en);return tn===0?(Fe[0]=0,Fe[1]=0):(Fe[0]=en[0]/tn,Fe[1]=en[1]/tn),Fe}function distance(Fe,en){return Math.sqrt((Fe[0]-en[0])*(Fe[0]-en[0])+(Fe[1]-en[1])*(Fe[1]-en[1]))}var dist$1=distance;function distanceSquare(Fe,en){return(Fe[0]-en[0])*(Fe[0]-en[0])+(Fe[1]-en[1])*(Fe[1]-en[1])}var distSquare=distanceSquare;function negate(Fe,en){return Fe[0]=-en[0],Fe[1]=-en[1],Fe}function lerp$1(Fe,en,tn,nn){return Fe[0]=en[0]+nn*(tn[0]-en[0]),Fe[1]=en[1]+nn*(tn[1]-en[1]),Fe}function applyTransform$1(Fe,en,tn){var nn=en[0],rn=en[1];return Fe[0]=tn[0]*nn+tn[2]*rn+tn[4],Fe[1]=tn[1]*nn+tn[3]*rn+tn[5],Fe}function min$1(Fe,en,tn){return Fe[0]=Math.min(en[0],tn[0]),Fe[1]=Math.min(en[1],tn[1]),Fe}function max$1(Fe,en,tn){return Fe[0]=Math.max(en[0],tn[0]),Fe[1]=Math.max(en[1],tn[1]),Fe}const vector=Object.freeze(Object.defineProperty({__proto__:null,add,applyTransform:applyTransform$1,clone:clone$3,copy:copy$1,create:create$2,dist:dist$1,distSquare,distance,distanceSquare,div,dot,len,lenSquare,length,lengthSquare,lerp:lerp$1,max:max$1,min:min$1,mul:mul$1,negate,normalize:normalize$3,scale:scale$2,scaleAndAdd:scaleAndAdd$1,set:set$1,sub},Symbol.toStringTag,{value:"Module"}));var Param=function(){function Fe(en,tn){this.target=en,this.topTarget=tn&&tn.topTarget}return Fe}(),Draggable=function(){function Fe(en){this.handler=en,en.on("mousedown",this._dragStart,this),en.on("mousemove",this._drag,this),en.on("mouseup",this._dragEnd,this)}return Fe.prototype._dragStart=function(en){for(var tn=en.target;tn&&!tn.draggable;)tn=tn.parent||tn.__hostTarget;tn&&(this._draggingTarget=tn,tn.dragging=!0,this._x=en.offsetX,this._y=en.offsetY,this.handler.dispatchToElement(new Param(tn,en),"dragstart",en.event))},Fe.prototype._drag=function(en){var tn=this._draggingTarget;if(tn){var nn=en.offsetX,rn=en.offsetY,an=nn-this._x,ln=rn-this._y;this._x=nn,this._y=rn,tn.drift(an,ln,en),this.handler.dispatchToElement(new Param(tn,en),"drag",en.event);var cn=this.handler.findHover(nn,rn,tn).target,un=this._dropTarget;this._dropTarget=cn,tn!==cn&&(un&&cn!==un&&this.handler.dispatchToElement(new Param(un,en),"dragleave",en.event),cn&&cn!==un&&this.handler.dispatchToElement(new Param(cn,en),"dragenter",en.event))}},Fe.prototype._dragEnd=function(en){var tn=this._draggingTarget;tn&&(tn.dragging=!1),this.handler.dispatchToElement(new Param(tn,en),"dragend",en.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,en),"drop",en.event),this._draggingTarget=null,this._dropTarget=null},Fe}();const Draggable$1=Draggable;var Eventful=function(){function Fe(en){en&&(this._$eventProcessor=en)}return Fe.prototype.on=function(en,tn,nn,rn){this._$handlers||(this._$handlers={});var an=this._$handlers;if(typeof tn=="function"&&(rn=nn,nn=tn,tn=null),!nn||!en)return this;var ln=this._$eventProcessor;tn!=null&&ln&&ln.normalizeQuery&&(tn=ln.normalizeQuery(tn)),an[en]||(an[en]=[]);for(var cn=0;cn<an[en].length;cn++)if(an[en][cn].h===nn)return this;var un={h:nn,query:tn,ctx:rn||this,callAtLast:nn.zrEventfulCallAtLast},fn=an[en].length-1,hn=an[en][fn];return hn&&hn.callAtLast?an[en].splice(fn,0,un):an[en].push(un),this},Fe.prototype.isSilent=function(en){var tn=this._$handlers;return!tn||!tn[en]||!tn[en].length},Fe.prototype.off=function(en,tn){var nn=this._$handlers;if(!nn)return this;if(!en)return this._$handlers={},this;if(tn){if(nn[en]){for(var rn=[],an=0,ln=nn[en].length;an<ln;an++)nn[en][an].h!==tn&&rn.push(nn[en][an]);nn[en]=rn}nn[en]&&nn[en].length===0&&delete nn[en]}else delete nn[en];return this},Fe.prototype.trigger=function(en){for(var tn=[],nn=1;nn<arguments.length;nn++)tn[nn-1]=arguments[nn];if(!this._$handlers)return this;var rn=this._$handlers[en],an=this._$eventProcessor;if(rn)for(var ln=tn.length,cn=rn.length,un=0;un<cn;un++){var fn=rn[un];if(!(an&&an.filter&&fn.query!=null&&!an.filter(en,fn.query)))switch(ln){case 0:fn.h.call(fn.ctx);break;case 1:fn.h.call(fn.ctx,tn[0]);break;case 2:fn.h.call(fn.ctx,tn[0],tn[1]);break;default:fn.h.apply(fn.ctx,tn);break}}return an&&an.afterTrigger&&an.afterTrigger(en),this},Fe.prototype.triggerWithContext=function(en){for(var tn=[],nn=1;nn<arguments.length;nn++)tn[nn-1]=arguments[nn];if(!this._$handlers)return this;var rn=this._$handlers[en],an=this._$eventProcessor;if(rn)for(var ln=tn.length,cn=tn[ln-1],un=rn.length,fn=0;fn<un;fn++){var hn=rn[fn];if(!(an&&an.filter&&hn.query!=null&&!an.filter(en,hn.query)))switch(ln){case 0:hn.h.call(cn);break;case 1:hn.h.call(cn,tn[0]);break;case 2:hn.h.call(cn,tn[0],tn[1]);break;default:hn.h.apply(cn,tn.slice(1,ln-1));break}}return an&&an.afterTrigger&&an.afterTrigger(en),this},Fe}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(Fe,en,tn,nn,rn,an){var ln=nn+"-"+rn,cn=Fe.length;if(an.hasOwnProperty(ln))return an[ln];if(en===1){var un=Math.round(Math.log((1<<cn)-1&~rn)/LN2);return Fe[tn][un]}for(var fn=nn|1<<tn,hn=tn+1;nn&1<<hn;)hn++;for(var pn=0,gn=0,mn=0;gn<cn;gn++){var _n=1<<gn;_n&rn||(pn+=(mn%2?-1:1)*Fe[tn][gn]*determinant(Fe,en-1,hn,fn,rn|_n,an),mn++)}return an[ln]=pn,pn}function buildTransformer(Fe,en){var tn=[[Fe[0],Fe[1],1,0,0,0,-en[0]*Fe[0],-en[0]*Fe[1]],[0,0,0,Fe[0],Fe[1],1,-en[1]*Fe[0],-en[1]*Fe[1]],[Fe[2],Fe[3],1,0,0,0,-en[2]*Fe[2],-en[2]*Fe[3]],[0,0,0,Fe[2],Fe[3],1,-en[3]*Fe[2],-en[3]*Fe[3]],[Fe[4],Fe[5],1,0,0,0,-en[4]*Fe[4],-en[4]*Fe[5]],[0,0,0,Fe[4],Fe[5],1,-en[5]*Fe[4],-en[5]*Fe[5]],[Fe[6],Fe[7],1,0,0,0,-en[6]*Fe[6],-en[6]*Fe[7]],[0,0,0,Fe[6],Fe[7],1,-en[7]*Fe[6],-en[7]*Fe[7]]],nn={},rn=determinant(tn,8,0,0,0,nn);if(rn!==0){for(var an=[],ln=0;ln<8;ln++)for(var cn=0;cn<8;cn++)an[cn]==null&&(an[cn]=0),an[cn]+=((ln+cn)%2?-1:1)*determinant(tn,7,ln===0?1:0,1<<ln,1<<cn,nn)/rn*en[ln];return function(un,fn,hn){var pn=fn*an[6]+hn*an[7]+1;un[0]=(fn*an[0]+hn*an[1]+an[2])/pn,un[1]=(fn*an[3]+hn*an[4]+an[5])/pn}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(Fe,en,tn,nn,rn){return transformCoordWithViewport(_calcOut$1,en,nn,rn,!0)&&transformCoordWithViewport(Fe,tn,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(Fe,en,tn,nn,rn){if(en.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(en)){var an=en[EVENT_SAVED_PROP]||(en[EVENT_SAVED_PROP]={}),ln=prepareCoordMarkers(en,an),cn=preparePointerTransformer(ln,an,rn);if(cn)return cn(Fe,tn,nn),!0}return!1}function prepareCoordMarkers(Fe,en){var tn=en.markers;if(tn)return tn;tn=en.markers=[];for(var nn=["left","right"],rn=["top","bottom"],an=0;an<4;an++){var ln=document.createElement("div"),cn=ln.style,un=an%2,fn=(an>>1)%2;cn.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",nn[un]+":0",rn[fn]+":0",nn[1-un]+":auto",rn[1-fn]+":auto",""].join("!important;"),Fe.appendChild(ln),tn.push(ln)}return tn}function preparePointerTransformer(Fe,en,tn){for(var nn=tn?"invTrans":"trans",rn=en[nn],an=en.srcCoords,ln=[],cn=[],un=!0,fn=0;fn<4;fn++){var hn=Fe[fn].getBoundingClientRect(),pn=2*fn,gn=hn.left,mn=hn.top;ln.push(gn,mn),un=un&&an&&gn===an[pn]&&mn===an[pn+1],cn.push(Fe[fn].offsetLeft,Fe[fn].offsetTop)}return un&&rn?rn:(en.srcCoords=ln,en[nn]=tn?buildTransformer(cn,ln):buildTransformer(ln,cn))}function isCanvasEl(Fe){return Fe.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(Fe){return Fe==null?"":(Fe+"").replace(replaceReg,function(en,tn){return replaceMap[tn]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(Fe,en,tn,nn){return tn=tn||{},nn?calculateZrXY(Fe,en,tn):firefoxNotSupportOffsetXY&&en.layerX!=null&&en.layerX!==en.offsetX?(tn.zrX=en.layerX,tn.zrY=en.layerY):en.offsetX!=null?(tn.zrX=en.offsetX,tn.zrY=en.offsetY):calculateZrXY(Fe,en,tn),tn}function calculateZrXY(Fe,en,tn){if(env$1.domSupported&&Fe.getBoundingClientRect){var nn=en.clientX,rn=en.clientY;if(isCanvasEl(Fe)){var an=Fe.getBoundingClientRect();tn.zrX=nn-an.left,tn.zrY=rn-an.top;return}else if(transformCoordWithViewport(_calcOut,Fe,nn,rn)){tn.zrX=_calcOut[0],tn.zrY=_calcOut[1];return}}tn.zrX=tn.zrY=0}function getNativeEvent(Fe){return Fe||window.event}function normalizeEvent(Fe,en,tn){if(en=getNativeEvent(en),en.zrX!=null)return en;var nn=en.type,rn=nn&&nn.indexOf("touch")>=0;if(rn){var ln=nn!=="touchend"?en.targetTouches[0]:en.changedTouches[0];ln&&clientToLocal(Fe,ln,en,tn)}else{clientToLocal(Fe,en,en,tn);var an=getWheelDeltaMayPolyfill(en);en.zrDelta=an?an/120:-(en.detail||0)/3}var cn=en.button;return en.which==null&&cn!==void 0&&MOUSE_EVENT_REG.test(en.type)&&(en.which=cn&1?1:cn&2?3:cn&4?2:0),en}function getWheelDeltaMayPolyfill(Fe){var en=Fe.wheelDelta;if(en)return en;var tn=Fe.deltaX,nn=Fe.deltaY;if(tn==null||nn==null)return en;var rn=Math.abs(nn!==0?nn:tn),an=nn>0?-1:nn<0?1:tn>0?-1:1;return 3*rn*an}function addEventListener(Fe,en,tn,nn){Fe.addEventListener(en,tn,nn)}function removeEventListener(Fe,en,tn,nn){Fe.removeEventListener(en,tn,nn)}var stop=function(Fe){Fe.preventDefault(),Fe.stopPropagation(),Fe.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(Fe){return Fe.which===2||Fe.which===3}var GestureMgr=function(){function Fe(){this._track=[]}return Fe.prototype.recognize=function(en,tn,nn){return this._doTrack(en,tn,nn),this._recognize(en)},Fe.prototype.clear=function(){return this._track.length=0,this},Fe.prototype._doTrack=function(en,tn,nn){var rn=en.touches;if(rn){for(var an={points:[],touches:[],target:tn,event:en},ln=0,cn=rn.length;ln<cn;ln++){var un=rn[ln],fn=clientToLocal(nn,un,{});an.points.push([fn.zrX,fn.zrY]),an.touches.push(un)}this._track.push(an)}},Fe.prototype._recognize=function(en){for(var tn in recognizers)if(recognizers.hasOwnProperty(tn)){var nn=recognizers[tn](this._track,en);if(nn)return nn}},Fe}();function dist(Fe){var en=Fe[1][0]-Fe[0][0],tn=Fe[1][1]-Fe[0][1];return Math.sqrt(en*en+tn*tn)}function center$1(Fe){return[(Fe[0][0]+Fe[1][0])/2,(Fe[0][1]+Fe[1][1])/2]}var recognizers={pinch:function(Fe,en){var tn=Fe.length;if(tn){var nn=(Fe[tn-1]||{}).points,rn=(Fe[tn-2]||{}).points||nn;if(rn&&rn.length>1&&nn&&nn.length>1){var an=dist(nn)/dist(rn);!isFinite(an)&&(an=1),en.pinchScale=an;var ln=center$1(nn);return en.pinchX=ln[0],en.pinchY=ln[1],{type:"pinch",target:Fe[0].target,event:en}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(Fe){return Fe[0]=1,Fe[1]=0,Fe[2]=0,Fe[3]=1,Fe[4]=0,Fe[5]=0,Fe}function copy(Fe,en){return Fe[0]=en[0],Fe[1]=en[1],Fe[2]=en[2],Fe[3]=en[3],Fe[4]=en[4],Fe[5]=en[5],Fe}function mul(Fe,en,tn){var nn=en[0]*tn[0]+en[2]*tn[1],rn=en[1]*tn[0]+en[3]*tn[1],an=en[0]*tn[2]+en[2]*tn[3],ln=en[1]*tn[2]+en[3]*tn[3],cn=en[0]*tn[4]+en[2]*tn[5]+en[4],un=en[1]*tn[4]+en[3]*tn[5]+en[5];return Fe[0]=nn,Fe[1]=rn,Fe[2]=an,Fe[3]=ln,Fe[4]=cn,Fe[5]=un,Fe}function translate(Fe,en,tn){return Fe[0]=en[0],Fe[1]=en[1],Fe[2]=en[2],Fe[3]=en[3],Fe[4]=en[4]+tn[0],Fe[5]=en[5]+tn[1],Fe}function rotate(Fe,en,tn){var nn=en[0],rn=en[2],an=en[4],ln=en[1],cn=en[3],un=en[5],fn=Math.sin(tn),hn=Math.cos(tn);return Fe[0]=nn*hn+ln*fn,Fe[1]=-nn*fn+ln*hn,Fe[2]=rn*hn+cn*fn,Fe[3]=-rn*fn+hn*cn,Fe[4]=hn*an+fn*un,Fe[5]=hn*un-fn*an,Fe}function scale$1(Fe,en,tn){var nn=tn[0],rn=tn[1];return Fe[0]=en[0]*nn,Fe[1]=en[1]*rn,Fe[2]=en[2]*nn,Fe[3]=en[3]*rn,Fe[4]=en[4]*nn,Fe[5]=en[5]*rn,Fe}function invert(Fe,en){var tn=en[0],nn=en[2],rn=en[4],an=en[1],ln=en[3],cn=en[5],un=tn*ln-an*nn;return un?(un=1/un,Fe[0]=ln*un,Fe[1]=-an*un,Fe[2]=-nn*un,Fe[3]=tn*un,Fe[4]=(nn*cn-ln*rn)*un,Fe[5]=(an*rn-tn*cn)*un,Fe):null}function clone$2(Fe){var en=create$1();return copy(en,Fe),en}const matrix=Object.freeze(Object.defineProperty({__proto__:null,clone:clone$2,copy,create:create$1,identity,invert,mul,rotate,scale:scale$1,translate},Symbol.toStringTag,{value:"Module"}));var Point=function(){function Fe(en,tn){this.x=en||0,this.y=tn||0}return Fe.prototype.copy=function(en){return this.x=en.x,this.y=en.y,this},Fe.prototype.clone=function(){return new Fe(this.x,this.y)},Fe.prototype.set=function(en,tn){return this.x=en,this.y=tn,this},Fe.prototype.equal=function(en){return en.x===this.x&&en.y===this.y},Fe.prototype.add=function(en){return this.x+=en.x,this.y+=en.y,this},Fe.prototype.scale=function(en){this.x*=en,this.y*=en},Fe.prototype.scaleAndAdd=function(en,tn){this.x+=en.x*tn,this.y+=en.y*tn},Fe.prototype.sub=function(en){return this.x-=en.x,this.y-=en.y,this},Fe.prototype.dot=function(en){return this.x*en.x+this.y*en.y},Fe.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Fe.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},Fe.prototype.normalize=function(){var en=this.len();return this.x/=en,this.y/=en,this},Fe.prototype.distance=function(en){var tn=this.x-en.x,nn=this.y-en.y;return Math.sqrt(tn*tn+nn*nn)},Fe.prototype.distanceSquare=function(en){var tn=this.x-en.x,nn=this.y-en.y;return tn*tn+nn*nn},Fe.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},Fe.prototype.transform=function(en){if(en){var tn=this.x,nn=this.y;return this.x=en[0]*tn+en[2]*nn+en[4],this.y=en[1]*tn+en[3]*nn+en[5],this}},Fe.prototype.toArray=function(en){return en[0]=this.x,en[1]=this.y,en},Fe.prototype.fromArray=function(en){this.x=en[0],this.y=en[1]},Fe.set=function(en,tn,nn){en.x=tn,en.y=nn},Fe.copy=function(en,tn){en.x=tn.x,en.y=tn.y},Fe.len=function(en){return Math.sqrt(en.x*en.x+en.y*en.y)},Fe.lenSquare=function(en){return en.x*en.x+en.y*en.y},Fe.dot=function(en,tn){return en.x*tn.x+en.y*tn.y},Fe.add=function(en,tn,nn){en.x=tn.x+nn.x,en.y=tn.y+nn.y},Fe.sub=function(en,tn,nn){en.x=tn.x-nn.x,en.y=tn.y-nn.y},Fe.scale=function(en,tn,nn){en.x=tn.x*nn,en.y=tn.y*nn},Fe.scaleAndAdd=function(en,tn,nn,rn){en.x=tn.x+nn.x*rn,en.y=tn.y+nn.y*rn},Fe.lerp=function(en,tn,nn,rn){var an=1-rn;en.x=an*tn.x+rn*nn.x,en.y=an*tn.y+rn*nn.y},Fe}();const Point$1=Point;var mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point$1,rb=new Point$1,lb=new Point$1,rt=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function Fe(en,tn,nn,rn){nn<0&&(en=en+nn,nn=-nn),rn<0&&(tn=tn+rn,rn=-rn),this.x=en,this.y=tn,this.width=nn,this.height=rn}return Fe.prototype.union=function(en){var tn=mathMin$a(en.x,this.x),nn=mathMin$a(en.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(en.x+en.width,this.x+this.width)-tn:this.width=en.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(en.y+en.height,this.y+this.height)-nn:this.height=en.height,this.x=tn,this.y=nn},Fe.prototype.applyTransform=function(en){Fe.applyTransform(this,this,en)},Fe.prototype.calculateTransform=function(en){var tn=this,nn=en.width/tn.width,rn=en.height/tn.height,an=create$1();return translate(an,an,[-tn.x,-tn.y]),scale$1(an,an,[nn,rn]),translate(an,an,[en.x,en.y]),an},Fe.prototype.intersect=function(en,tn){if(!en)return!1;en instanceof Fe||(en=Fe.create(en));var nn=this,rn=nn.x,an=nn.x+nn.width,ln=nn.y,cn=nn.y+nn.height,un=en.x,fn=en.x+en.width,hn=en.y,pn=en.y+en.height,gn=!(an<un||fn<rn||cn<hn||pn<ln);if(tn){var mn=1/0,_n=0,kn=Math.abs(an-un),Cn=Math.abs(fn-rn),xn=Math.abs(cn-hn),Sn=Math.abs(pn-ln),Mn=Math.min(kn,Cn),In=Math.min(xn,Sn);an<un||fn<rn?Mn>_n&&(_n=Mn,kn<Cn?Point$1.set(maxTv$1,-kn,0):Point$1.set(maxTv$1,Cn,0)):Mn<mn&&(mn=Mn,kn<Cn?Point$1.set(minTv$1,kn,0):Point$1.set(minTv$1,-Cn,0)),cn<hn||pn<ln?In>_n&&(_n=In,xn<Sn?Point$1.set(maxTv$1,0,-xn):Point$1.set(maxTv$1,0,Sn)):Mn<mn&&(mn=Mn,xn<Sn?Point$1.set(minTv$1,0,xn):Point$1.set(minTv$1,0,-Sn))}return tn&&Point$1.copy(tn,gn?minTv$1:maxTv$1),gn},Fe.prototype.contain=function(en,tn){var nn=this;return en>=nn.x&&en<=nn.x+nn.width&&tn>=nn.y&&tn<=nn.y+nn.height},Fe.prototype.clone=function(){return new Fe(this.x,this.y,this.width,this.height)},Fe.prototype.copy=function(en){Fe.copy(this,en)},Fe.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},Fe.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},Fe.prototype.isZero=function(){return this.width===0||this.height===0},Fe.create=function(en){return new Fe(en.x,en.y,en.width,en.height)},Fe.copy=function(en,tn){en.x=tn.x,en.y=tn.y,en.width=tn.width,en.height=tn.height},Fe.applyTransform=function(en,tn,nn){if(!nn){en!==tn&&Fe.copy(en,tn);return}if(nn[1]<1e-5&&nn[1]>-1e-5&&nn[2]<1e-5&&nn[2]>-1e-5){var rn=nn[0],an=nn[3],ln=nn[4],cn=nn[5];en.x=tn.x*rn+ln,en.y=tn.y*an+cn,en.width=tn.width*rn,en.height=tn.height*an,en.width<0&&(en.x+=en.width,en.width=-en.width),en.height<0&&(en.y+=en.height,en.height=-en.height);return}lt.x=lb.x=tn.x,lt.y=rt.y=tn.y,rb.x=rt.x=tn.x+tn.width,rb.y=lb.y=tn.y+tn.height,lt.transform(nn),rt.transform(nn),rb.transform(nn),lb.transform(nn),en.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),en.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var un=mathMax$a(lt.x,rb.x,lb.x,rt.x),fn=mathMax$a(lt.y,rb.y,lb.y,rt.y);en.width=un-en.x,en.height=fn-en.y},Fe}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(Fe,en,tn){return{type:Fe,event:tn,target:en.target,topTarget:en.topTarget,cancelBubble:!1,offsetX:tn.zrX,offsetY:tn.zrY,gestureEvent:tn.gestureEvent,pinchX:tn.pinchX,pinchY:tn.pinchY,pinchScale:tn.pinchScale,wheelDelta:tn.zrDelta,zrByTouch:tn.zrByTouch,which:tn.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.handler=null,tn}return en.prototype.dispose=function(){},en.prototype.setCursor=function(){},en}(Eventful$1),HoveredResult=function(){function Fe(en,tn){this.x=en,this.y=tn}return Fe}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(Fe){__extends(en,Fe);function en(tn,nn,rn,an,ln){var cn=Fe.call(this)||this;return cn._hovered=new HoveredResult(0,0),cn.storage=tn,cn.painter=nn,cn.painterRoot=an,cn._pointerSize=ln,rn=rn||new EmptyProxy,cn.proxy=null,cn.setHandlerProxy(rn),cn._draggingMgr=new Draggable$1(cn),cn}return en.prototype.setHandlerProxy=function(tn){this.proxy&&this.proxy.dispose(),tn&&(each$f(handlerNames,function(nn){tn.on&&tn.on(nn,this[nn],this)},this),tn.handler=this),this.proxy=tn},en.prototype.mousemove=function(tn){var nn=tn.zrX,rn=tn.zrY,an=isOutsideBoundary(this,nn,rn),ln=this._hovered,cn=ln.target;cn&&!cn.__zr&&(ln=this.findHover(ln.x,ln.y),cn=ln.target);var un=this._hovered=an?new HoveredResult(nn,rn):this.findHover(nn,rn),fn=un.target,hn=this.proxy;hn.setCursor&&hn.setCursor(fn?fn.cursor:"default"),cn&&fn!==cn&&this.dispatchToElement(ln,"mouseout",tn),this.dispatchToElement(un,"mousemove",tn),fn&&fn!==cn&&this.dispatchToElement(un,"mouseover",tn)},en.prototype.mouseout=function(tn){var nn=tn.zrEventControl;nn!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",tn),nn!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:tn})},en.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},en.prototype.dispatch=function(tn,nn){var rn=this[tn];rn&&rn.call(this,nn)},en.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},en.prototype.setCursorStyle=function(tn){var nn=this.proxy;nn.setCursor&&nn.setCursor(tn)},en.prototype.dispatchToElement=function(tn,nn,rn){tn=tn||{};var an=tn.target;if(!(an&&an.silent)){for(var ln="on"+nn,cn=makeEventPacket(nn,tn,rn);an&&(an[ln]&&(cn.cancelBubble=!!an[ln].call(an,cn)),an.trigger(nn,cn),an=an.__hostTarget?an.__hostTarget:an.parent,!cn.cancelBubble););cn.cancelBubble||(this.trigger(nn,cn),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(un){typeof un[ln]=="function"&&un[ln].call(un,cn),un.trigger&&un.trigger(nn,cn)}))}},en.prototype.findHover=function(tn,nn,rn){var an=this.storage.getDisplayList(),ln=new HoveredResult(tn,nn);if(setHoverTarget(an,ln,tn,nn,rn),this._pointerSize&&!ln.target){for(var cn=[],un=this._pointerSize,fn=un/2,hn=new BoundingRect$1(tn-fn,nn-fn,un,un),pn=an.length-1;pn>=0;pn--){var gn=an[pn];gn!==rn&&!gn.ignore&&!gn.ignoreCoarsePointer&&(!gn.parent||!gn.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(gn.getBoundingRect()),gn.transform&&tmpRect$1.applyTransform(gn.transform),tmpRect$1.intersect(hn)&&cn.push(gn))}if(cn.length)for(var mn=4,_n=Math.PI/12,kn=Math.PI*2,Cn=0;Cn<fn;Cn+=mn)for(var xn=0;xn<kn;xn+=_n){var Sn=tn+Cn*Math.cos(xn),Mn=nn+Cn*Math.sin(xn);if(setHoverTarget(cn,ln,Sn,Mn,rn),ln.target)return ln}}return ln},en.prototype.processGesture=function(tn,nn){this._gestureMgr||(this._gestureMgr=new GestureMgr);var rn=this._gestureMgr;nn==="start"&&rn.clear();var an=rn.recognize(tn,this.findHover(tn.zrX,tn.zrY,null).target,this.proxy.dom);if(nn==="end"&&rn.clear(),an){var ln=an.type;tn.gestureEvent=ln;var cn=new HoveredResult;cn.target=an.target,this.dispatchToElement(cn,ln,an.event)}},en}(Eventful$1);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Fe){Handler.prototype[Fe]=function(en){var tn=en.zrX,nn=en.zrY,rn=isOutsideBoundary(this,tn,nn),an,ln;if((Fe!=="mouseup"||!rn)&&(an=this.findHover(tn,nn),ln=an.target),Fe==="mousedown")this._downEl=ln,this._downPoint=[en.zrX,en.zrY],this._upEl=ln;else if(Fe==="mouseup")this._upEl=ln;else if(Fe==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[en.zrX,en.zrY])>4)return;this._downPoint=null}this.dispatchToElement(an,Fe,en)}});function isHover(Fe,en,tn){if(Fe[Fe.rectHover?"rectContain":"contain"](en,tn)){for(var nn=Fe,rn=void 0,an=!1;nn;){if(nn.ignoreClip&&(an=!0),!an){var ln=nn.getClipPath();if(ln&&!ln.contain(en,tn))return!1;nn.silent&&(rn=!0)}var cn=nn.__hostTarget;nn=cn||nn.parent}return rn?SILENT:!0}return!1}function setHoverTarget(Fe,en,tn,nn,rn){for(var an=Fe.length-1;an>=0;an--){var ln=Fe[an],cn=void 0;if(ln!==rn&&!ln.ignore&&(cn=isHover(ln,tn,nn))&&(!en.topTarget&&(en.topTarget=ln),cn!==SILENT)){en.target=ln;break}}}function isOutsideBoundary(Fe,en,tn){var nn=Fe.painter;return en<0||en>nn.getWidth()||tn<0||tn>nn.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(Fe){for(var en=0;Fe>=DEFAULT_MIN_MERGE;)en|=Fe&1,Fe>>=1;return Fe+en}function makeAscendingRun(Fe,en,tn,nn){var rn=en+1;if(rn===tn)return 1;if(nn(Fe[rn++],Fe[en])<0){for(;rn<tn&&nn(Fe[rn],Fe[rn-1])<0;)rn++;reverseRun(Fe,en,rn)}else for(;rn<tn&&nn(Fe[rn],Fe[rn-1])>=0;)rn++;return rn-en}function reverseRun(Fe,en,tn){for(tn--;en<tn;){var nn=Fe[en];Fe[en++]=Fe[tn],Fe[tn--]=nn}}function binaryInsertionSort(Fe,en,tn,nn,rn){for(nn===en&&nn++;nn<tn;nn++){for(var an=Fe[nn],ln=en,cn=nn,un;ln<cn;)un=ln+cn>>>1,rn(an,Fe[un])<0?cn=un:ln=un+1;var fn=nn-ln;switch(fn){case 3:Fe[ln+3]=Fe[ln+2];case 2:Fe[ln+2]=Fe[ln+1];case 1:Fe[ln+1]=Fe[ln];break;default:for(;fn>0;)Fe[ln+fn]=Fe[ln+fn-1],fn--}Fe[ln]=an}}function gallopLeft(Fe,en,tn,nn,rn,an){var ln=0,cn=0,un=1;if(an(Fe,en[tn+rn])>0){for(cn=nn-rn;un<cn&&an(Fe,en[tn+rn+un])>0;)ln=un,un=(un<<1)+1,un<=0&&(un=cn);un>cn&&(un=cn),ln+=rn,un+=rn}else{for(cn=rn+1;un<cn&&an(Fe,en[tn+rn-un])<=0;)ln=un,un=(un<<1)+1,un<=0&&(un=cn);un>cn&&(un=cn);var fn=ln;ln=rn-un,un=rn-fn}for(ln++;ln<un;){var hn=ln+(un-ln>>>1);an(Fe,en[tn+hn])>0?ln=hn+1:un=hn}return un}function gallopRight(Fe,en,tn,nn,rn,an){var ln=0,cn=0,un=1;if(an(Fe,en[tn+rn])<0){for(cn=rn+1;un<cn&&an(Fe,en[tn+rn-un])<0;)ln=un,un=(un<<1)+1,un<=0&&(un=cn);un>cn&&(un=cn);var fn=ln;ln=rn-un,un=rn-fn}else{for(cn=nn-rn;un<cn&&an(Fe,en[tn+rn+un])>=0;)ln=un,un=(un<<1)+1,un<=0&&(un=cn);un>cn&&(un=cn),ln+=rn,un+=rn}for(ln++;ln<un;){var hn=ln+(un-ln>>>1);an(Fe,en[tn+hn])<0?un=hn:ln=hn+1}return un}function TimSort(Fe,en){var tn=DEFAULT_MIN_GALLOPING,nn,rn,an=0;Fe.length;var ln=[];nn=[],rn=[];function cn(mn,_n){nn[an]=mn,rn[an]=_n,an+=1}function un(){for(;an>1;){var mn=an-2;if(mn>=1&&rn[mn-1]<=rn[mn]+rn[mn+1]||mn>=2&&rn[mn-2]<=rn[mn]+rn[mn-1])rn[mn-1]<rn[mn+1]&&mn--;else if(rn[mn]>rn[mn+1])break;hn(mn)}}function fn(){for(;an>1;){var mn=an-2;mn>0&&rn[mn-1]<rn[mn+1]&&mn--,hn(mn)}}function hn(mn){var _n=nn[mn],kn=rn[mn],Cn=nn[mn+1],xn=rn[mn+1];rn[mn]=kn+xn,mn===an-3&&(nn[mn+1]=nn[mn+2],rn[mn+1]=rn[mn+2]),an--;var Sn=gallopRight(Fe[Cn],Fe,_n,kn,0,en);_n+=Sn,kn-=Sn,kn!==0&&(xn=gallopLeft(Fe[_n+kn-1],Fe,Cn,xn,xn-1,en),xn!==0&&(kn<=xn?pn(_n,kn,Cn,xn):gn(_n,kn,Cn,xn)))}function pn(mn,_n,kn,Cn){var xn=0;for(xn=0;xn<_n;xn++)ln[xn]=Fe[mn+xn];var Sn=0,Mn=kn,In=mn;if(Fe[In++]=Fe[Mn++],--Cn===0){for(xn=0;xn<_n;xn++)Fe[In+xn]=ln[Sn+xn];return}if(_n===1){for(xn=0;xn<Cn;xn++)Fe[In+xn]=Fe[Mn+xn];Fe[In+Cn]=ln[Sn];return}for(var On=tn,Pn,Tn,Nn;;){Pn=0,Tn=0,Nn=!1;do if(en(Fe[Mn],ln[Sn])<0){if(Fe[In++]=Fe[Mn++],Tn++,Pn=0,--Cn===0){Nn=!0;break}}else if(Fe[In++]=ln[Sn++],Pn++,Tn=0,--_n===1){Nn=!0;break}while((Pn|Tn)<On);if(Nn)break;do{if(Pn=gallopRight(Fe[Mn],ln,Sn,_n,0,en),Pn!==0){for(xn=0;xn<Pn;xn++)Fe[In+xn]=ln[Sn+xn];if(In+=Pn,Sn+=Pn,_n-=Pn,_n<=1){Nn=!0;break}}if(Fe[In++]=Fe[Mn++],--Cn===0){Nn=!0;break}if(Tn=gallopLeft(ln[Sn],Fe,Mn,Cn,0,en),Tn!==0){for(xn=0;xn<Tn;xn++)Fe[In+xn]=Fe[Mn+xn];if(In+=Tn,Mn+=Tn,Cn-=Tn,Cn===0){Nn=!0;break}}if(Fe[In++]=ln[Sn++],--_n===1){Nn=!0;break}On--}while(Pn>=DEFAULT_MIN_GALLOPING||Tn>=DEFAULT_MIN_GALLOPING);if(Nn)break;On<0&&(On=0),On+=2}if(tn=On,tn<1&&(tn=1),_n===1){for(xn=0;xn<Cn;xn++)Fe[In+xn]=Fe[Mn+xn];Fe[In+Cn]=ln[Sn]}else{if(_n===0)throw new Error;for(xn=0;xn<_n;xn++)Fe[In+xn]=ln[Sn+xn]}}function gn(mn,_n,kn,Cn){var xn=0;for(xn=0;xn<Cn;xn++)ln[xn]=Fe[kn+xn];var Sn=mn+_n-1,Mn=Cn-1,In=kn+Cn-1,On=0,Pn=0;if(Fe[In--]=Fe[Sn--],--_n===0){for(On=In-(Cn-1),xn=0;xn<Cn;xn++)Fe[On+xn]=ln[xn];return}if(Cn===1){for(In-=_n,Sn-=_n,Pn=In+1,On=Sn+1,xn=_n-1;xn>=0;xn--)Fe[Pn+xn]=Fe[On+xn];Fe[In]=ln[Mn];return}for(var Tn=tn;;){var Nn=0,Hn=0,Un=!1;do if(en(ln[Mn],Fe[Sn])<0){if(Fe[In--]=Fe[Sn--],Nn++,Hn=0,--_n===0){Un=!0;break}}else if(Fe[In--]=ln[Mn--],Hn++,Nn=0,--Cn===1){Un=!0;break}while((Nn|Hn)<Tn);if(Un)break;do{if(Nn=_n-gallopRight(ln[Mn],Fe,mn,_n,_n-1,en),Nn!==0){for(In-=Nn,Sn-=Nn,_n-=Nn,Pn=In+1,On=Sn+1,xn=Nn-1;xn>=0;xn--)Fe[Pn+xn]=Fe[On+xn];if(_n===0){Un=!0;break}}if(Fe[In--]=ln[Mn--],--Cn===1){Un=!0;break}if(Hn=Cn-gallopLeft(Fe[Sn],ln,0,Cn,Cn-1,en),Hn!==0){for(In-=Hn,Mn-=Hn,Cn-=Hn,Pn=In+1,On=Mn+1,xn=0;xn<Hn;xn++)Fe[Pn+xn]=ln[On+xn];if(Cn<=1){Un=!0;break}}if(Fe[In--]=Fe[Sn--],--_n===0){Un=!0;break}Tn--}while(Nn>=DEFAULT_MIN_GALLOPING||Hn>=DEFAULT_MIN_GALLOPING);if(Un)break;Tn<0&&(Tn=0),Tn+=2}if(tn=Tn,tn<1&&(tn=1),Cn===1){for(In-=_n,Sn-=_n,Pn=In+1,On=Sn+1,xn=_n-1;xn>=0;xn--)Fe[Pn+xn]=Fe[On+xn];Fe[In]=ln[Mn]}else{if(Cn===0)throw new Error;for(On=In-(Cn-1),xn=0;xn<Cn;xn++)Fe[On+xn]=ln[xn]}}return{mergeRuns:un,forceMergeRuns:fn,pushRun:cn}}function sort$2(Fe,en,tn,nn){tn||(tn=0),nn||(nn=Fe.length);var rn=nn-tn;if(!(rn<2)){var an=0;if(rn<DEFAULT_MIN_MERGE){an=makeAscendingRun(Fe,tn,nn,en),binaryInsertionSort(Fe,tn,nn,tn+an,en);return}var ln=TimSort(Fe,en),cn=minRunLength(rn);do{if(an=makeAscendingRun(Fe,tn,nn,en),an<cn){var un=rn;un>cn&&(un=cn),binaryInsertionSort(Fe,tn,tn+un,tn+an,en),an=un}ln.pushRun(tn,an),ln.mergeRuns(),rn-=an,tn+=an}while(rn!==0);ln.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(Fe,en){return Fe.zlevel===en.zlevel?Fe.z===en.z?Fe.z2-en.z2:Fe.z-en.z:Fe.zlevel-en.zlevel}var Storage=function(){function Fe(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return Fe.prototype.traverse=function(en,tn){for(var nn=0;nn<this._roots.length;nn++)this._roots[nn].traverse(en,tn)},Fe.prototype.getDisplayList=function(en,tn){tn=tn||!1;var nn=this._displayList;return(en||!nn.length)&&this.updateDisplayList(tn),nn},Fe.prototype.updateDisplayList=function(en){this._displayListLen=0;for(var tn=this._roots,nn=this._displayList,rn=0,an=tn.length;rn<an;rn++)this._updateAndAddDisplayable(tn[rn],null,en);nn.length=this._displayListLen,sort$2(nn,shapeCompareFunc)},Fe.prototype._updateAndAddDisplayable=function(en,tn,nn){if(!(en.ignore&&!nn)){en.beforeUpdate(),en.update(),en.afterUpdate();var rn=en.getClipPath();if(en.ignoreClip)tn=null;else if(rn){tn?tn=tn.slice():tn=[];for(var an=rn,ln=en;an;)an.parent=ln,an.updateTransform(),tn.push(an),ln=an,an=an.getClipPath()}if(en.childrenRef){for(var cn=en.childrenRef(),un=0;un<cn.length;un++){var fn=cn[un];en.__dirty&&(fn.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(fn,tn,nn)}en.__dirty=0}else{var hn=en;tn&&tn.length?hn.__clipPaths=tn:hn.__clipPaths&&hn.__clipPaths.length>0&&(hn.__clipPaths=[]),isNaN(hn.z)&&(logInvalidZError(),hn.z=0),isNaN(hn.z2)&&(logInvalidZError(),hn.z2=0),isNaN(hn.zlevel)&&(logInvalidZError(),hn.zlevel=0),this._displayList[this._displayListLen++]=hn}var pn=en.getDecalElement&&en.getDecalElement();pn&&this._updateAndAddDisplayable(pn,tn,nn);var gn=en.getTextGuideLine();gn&&this._updateAndAddDisplayable(gn,tn,nn);var mn=en.getTextContent();mn&&this._updateAndAddDisplayable(mn,tn,nn)}},Fe.prototype.addRoot=function(en){en.__zr&&en.__zr.storage===this||this._roots.push(en)},Fe.prototype.delRoot=function(en){if(en instanceof Array){for(var tn=0,nn=en.length;tn<nn;tn++)this.delRoot(en[tn]);return}var rn=indexOf(this._roots,en);rn>=0&&this._roots.splice(rn,1)},Fe.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Fe.prototype.getRoots=function(){return this._roots},Fe.prototype.dispose=function(){this._displayList=null,this._roots=null},Fe}();const Storage$1=Storage;var requestAnimationFrame$1;requestAnimationFrame$1=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(Fe){return setTimeout(Fe,16)};const requestAnimationFrame$2=requestAnimationFrame$1;var easingFuncs={linear:function(Fe){return Fe},quadraticIn:function(Fe){return Fe*Fe},quadraticOut:function(Fe){return Fe*(2-Fe)},quadraticInOut:function(Fe){return(Fe*=2)<1?.5*Fe*Fe:-.5*(--Fe*(Fe-2)-1)},cubicIn:function(Fe){return Fe*Fe*Fe},cubicOut:function(Fe){return--Fe*Fe*Fe+1},cubicInOut:function(Fe){return(Fe*=2)<1?.5*Fe*Fe*Fe:.5*((Fe-=2)*Fe*Fe+2)},quarticIn:function(Fe){return Fe*Fe*Fe*Fe},quarticOut:function(Fe){return 1- --Fe*Fe*Fe*Fe},quarticInOut:function(Fe){return(Fe*=2)<1?.5*Fe*Fe*Fe*Fe:-.5*((Fe-=2)*Fe*Fe*Fe-2)},quinticIn:function(Fe){return Fe*Fe*Fe*Fe*Fe},quinticOut:function(Fe){return--Fe*Fe*Fe*Fe*Fe+1},quinticInOut:function(Fe){return(Fe*=2)<1?.5*Fe*Fe*Fe*Fe*Fe:.5*((Fe-=2)*Fe*Fe*Fe*Fe+2)},sinusoidalIn:function(Fe){return 1-Math.cos(Fe*Math.PI/2)},sinusoidalOut:function(Fe){return Math.sin(Fe*Math.PI/2)},sinusoidalInOut:function(Fe){return .5*(1-Math.cos(Math.PI*Fe))},exponentialIn:function(Fe){return Fe===0?0:Math.pow(1024,Fe-1)},exponentialOut:function(Fe){return Fe===1?1:1-Math.pow(2,-10*Fe)},exponentialInOut:function(Fe){return Fe===0?0:Fe===1?1:(Fe*=2)<1?.5*Math.pow(1024,Fe-1):.5*(-Math.pow(2,-10*(Fe-1))+2)},circularIn:function(Fe){return 1-Math.sqrt(1-Fe*Fe)},circularOut:function(Fe){return Math.sqrt(1- --Fe*Fe)},circularInOut:function(Fe){return(Fe*=2)<1?-.5*(Math.sqrt(1-Fe*Fe)-1):.5*(Math.sqrt(1-(Fe-=2)*Fe)+1)},elasticIn:function(Fe){var en,tn=.1,nn=.4;return Fe===0?0:Fe===1?1:(!tn||tn<1?(tn=1,en=nn/4):en=nn*Math.asin(1/tn)/(2*Math.PI),-(tn*Math.pow(2,10*(Fe-=1))*Math.sin((Fe-en)*(2*Math.PI)/nn)))},elasticOut:function(Fe){var en,tn=.1,nn=.4;return Fe===0?0:Fe===1?1:(!tn||tn<1?(tn=1,en=nn/4):en=nn*Math.asin(1/tn)/(2*Math.PI),tn*Math.pow(2,-10*Fe)*Math.sin((Fe-en)*(2*Math.PI)/nn)+1)},elasticInOut:function(Fe){var en,tn=.1,nn=.4;return Fe===0?0:Fe===1?1:(!tn||tn<1?(tn=1,en=nn/4):en=nn*Math.asin(1/tn)/(2*Math.PI),(Fe*=2)<1?-.5*(tn*Math.pow(2,10*(Fe-=1))*Math.sin((Fe-en)*(2*Math.PI)/nn)):tn*Math.pow(2,-10*(Fe-=1))*Math.sin((Fe-en)*(2*Math.PI)/nn)*.5+1)},backIn:function(Fe){var en=1.70158;return Fe*Fe*((en+1)*Fe-en)},backOut:function(Fe){var en=1.70158;return--Fe*Fe*((en+1)*Fe+en)+1},backInOut:function(Fe){var en=2.5949095;return(Fe*=2)<1?.5*(Fe*Fe*((en+1)*Fe-en)):.5*((Fe-=2)*Fe*((en+1)*Fe+en)+2)},bounceIn:function(Fe){return 1-easingFuncs.bounceOut(1-Fe)},bounceOut:function(Fe){return Fe<1/2.75?7.5625*Fe*Fe:Fe<2/2.75?7.5625*(Fe-=1.5/2.75)*Fe+.75:Fe<2.5/2.75?7.5625*(Fe-=2.25/2.75)*Fe+.9375:7.5625*(Fe-=2.625/2.75)*Fe+.984375},bounceInOut:function(Fe){return Fe<.5?easingFuncs.bounceIn(Fe*2)*.5:easingFuncs.bounceOut(Fe*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(Fe){return Fe>-EPSILON$4&&Fe<EPSILON$4}function isNotAroundZero$1(Fe){return Fe>EPSILON$4||Fe<-EPSILON$4}function cubicAt(Fe,en,tn,nn,rn){var an=1-rn;return an*an*(an*Fe+3*rn*en)+rn*rn*(rn*nn+3*an*tn)}function cubicDerivativeAt(Fe,en,tn,nn,rn){var an=1-rn;return 3*(((en-Fe)*an+2*(tn-en)*rn)*an+(nn-tn)*rn*rn)}function cubicRootAt(Fe,en,tn,nn,rn,an){var ln=nn+3*(en-tn)-Fe,cn=3*(tn-en*2+Fe),un=3*(en-Fe),fn=Fe-rn,hn=cn*cn-3*ln*un,pn=cn*un-9*ln*fn,gn=un*un-3*cn*fn,mn=0;if(isAroundZero$1(hn)&&isAroundZero$1(pn))if(isAroundZero$1(cn))an[0]=0;else{var _n=-un/cn;_n>=0&&_n<=1&&(an[mn++]=_n)}else{var kn=pn*pn-4*hn*gn;if(isAroundZero$1(kn)){var Cn=pn/hn,_n=-cn/ln+Cn,xn=-Cn/2;_n>=0&&_n<=1&&(an[mn++]=_n),xn>=0&&xn<=1&&(an[mn++]=xn)}else if(kn>0){var Sn=mathSqrt$3(kn),Mn=hn*cn+1.5*ln*(-pn+Sn),In=hn*cn+1.5*ln*(-pn-Sn);Mn<0?Mn=-mathPow$2(-Mn,ONE_THIRD):Mn=mathPow$2(Mn,ONE_THIRD),In<0?In=-mathPow$2(-In,ONE_THIRD):In=mathPow$2(In,ONE_THIRD);var _n=(-cn-(Mn+In))/(3*ln);_n>=0&&_n<=1&&(an[mn++]=_n)}else{var On=(2*hn*cn-3*ln*pn)/(2*mathSqrt$3(hn*hn*hn)),Pn=Math.acos(On)/3,Tn=mathSqrt$3(hn),Nn=Math.cos(Pn),_n=(-cn-2*Tn*Nn)/(3*ln),xn=(-cn+Tn*(Nn+THREE_SQRT*Math.sin(Pn)))/(3*ln),Hn=(-cn+Tn*(Nn-THREE_SQRT*Math.sin(Pn)))/(3*ln);_n>=0&&_n<=1&&(an[mn++]=_n),xn>=0&&xn<=1&&(an[mn++]=xn),Hn>=0&&Hn<=1&&(an[mn++]=Hn)}}return mn}function cubicExtrema(Fe,en,tn,nn,rn){var an=6*tn-12*en+6*Fe,ln=9*en+3*nn-3*Fe-9*tn,cn=3*en-3*Fe,un=0;if(isAroundZero$1(ln)){if(isNotAroundZero$1(an)){var fn=-cn/an;fn>=0&&fn<=1&&(rn[un++]=fn)}}else{var hn=an*an-4*ln*cn;if(isAroundZero$1(hn))rn[0]=-an/(2*ln);else if(hn>0){var pn=mathSqrt$3(hn),fn=(-an+pn)/(2*ln),gn=(-an-pn)/(2*ln);fn>=0&&fn<=1&&(rn[un++]=fn),gn>=0&&gn<=1&&(rn[un++]=gn)}}return un}function cubicSubdivide(Fe,en,tn,nn,rn,an){var ln=(en-Fe)*rn+Fe,cn=(tn-en)*rn+en,un=(nn-tn)*rn+tn,fn=(cn-ln)*rn+ln,hn=(un-cn)*rn+cn,pn=(hn-fn)*rn+fn;an[0]=Fe,an[1]=ln,an[2]=fn,an[3]=pn,an[4]=pn,an[5]=hn,an[6]=un,an[7]=nn}function cubicProjectPoint(Fe,en,tn,nn,rn,an,ln,cn,un,fn,hn){var pn,gn=.005,mn=1/0,_n,kn,Cn,xn;_v0[0]=un,_v0[1]=fn;for(var Sn=0;Sn<1;Sn+=.05)_v1[0]=cubicAt(Fe,tn,rn,ln,Sn),_v1[1]=cubicAt(en,nn,an,cn,Sn),Cn=distSquare(_v0,_v1),Cn<mn&&(pn=Sn,mn=Cn);mn=1/0;for(var Mn=0;Mn<32&&!(gn<EPSILON_NUMERIC);Mn++)_n=pn-gn,kn=pn+gn,_v1[0]=cubicAt(Fe,tn,rn,ln,_n),_v1[1]=cubicAt(en,nn,an,cn,_n),Cn=distSquare(_v1,_v0),_n>=0&&Cn<mn?(pn=_n,mn=Cn):(_v2[0]=cubicAt(Fe,tn,rn,ln,kn),_v2[1]=cubicAt(en,nn,an,cn,kn),xn=distSquare(_v2,_v0),kn<=1&&xn<mn?(pn=kn,mn=xn):gn*=.5);return hn&&(hn[0]=cubicAt(Fe,tn,rn,ln,pn),hn[1]=cubicAt(en,nn,an,cn,pn)),mathSqrt$3(mn)}function cubicLength(Fe,en,tn,nn,rn,an,ln,cn,un){for(var fn=Fe,hn=en,pn=0,gn=1/un,mn=1;mn<=un;mn++){var _n=mn*gn,kn=cubicAt(Fe,tn,rn,ln,_n),Cn=cubicAt(en,nn,an,cn,_n),xn=kn-fn,Sn=Cn-hn;pn+=Math.sqrt(xn*xn+Sn*Sn),fn=kn,hn=Cn}return pn}function quadraticAt$1(Fe,en,tn,nn){var rn=1-nn;return rn*(rn*Fe+2*nn*en)+nn*nn*tn}function quadraticDerivativeAt(Fe,en,tn,nn){return 2*((1-nn)*(en-Fe)+nn*(tn-en))}function quadraticRootAt(Fe,en,tn,nn,rn){var an=Fe-2*en+tn,ln=2*(en-Fe),cn=Fe-nn,un=0;if(isAroundZero$1(an)){if(isNotAroundZero$1(ln)){var fn=-cn/ln;fn>=0&&fn<=1&&(rn[un++]=fn)}}else{var hn=ln*ln-4*an*cn;if(isAroundZero$1(hn)){var fn=-ln/(2*an);fn>=0&&fn<=1&&(rn[un++]=fn)}else if(hn>0){var pn=mathSqrt$3(hn),fn=(-ln+pn)/(2*an),gn=(-ln-pn)/(2*an);fn>=0&&fn<=1&&(rn[un++]=fn),gn>=0&&gn<=1&&(rn[un++]=gn)}}return un}function quadraticExtremum(Fe,en,tn){var nn=Fe+tn-2*en;return nn===0?.5:(Fe-en)/nn}function quadraticSubdivide(Fe,en,tn,nn,rn){var an=(en-Fe)*nn+Fe,ln=(tn-en)*nn+en,cn=(ln-an)*nn+an;rn[0]=Fe,rn[1]=an,rn[2]=cn,rn[3]=cn,rn[4]=ln,rn[5]=tn}function quadraticProjectPoint(Fe,en,tn,nn,rn,an,ln,cn,un){var fn,hn=.005,pn=1/0;_v0[0]=ln,_v0[1]=cn;for(var gn=0;gn<1;gn+=.05){_v1[0]=quadraticAt$1(Fe,tn,rn,gn),_v1[1]=quadraticAt$1(en,nn,an,gn);var mn=distSquare(_v0,_v1);mn<pn&&(fn=gn,pn=mn)}pn=1/0;for(var _n=0;_n<32&&!(hn<EPSILON_NUMERIC);_n++){var kn=fn-hn,Cn=fn+hn;_v1[0]=quadraticAt$1(Fe,tn,rn,kn),_v1[1]=quadraticAt$1(en,nn,an,kn);var mn=distSquare(_v1,_v0);if(kn>=0&&mn<pn)fn=kn,pn=mn;else{_v2[0]=quadraticAt$1(Fe,tn,rn,Cn),_v2[1]=quadraticAt$1(en,nn,an,Cn);var xn=distSquare(_v2,_v0);Cn<=1&&xn<pn?(fn=Cn,pn=xn):hn*=.5}}return un&&(un[0]=quadraticAt$1(Fe,tn,rn,fn),un[1]=quadraticAt$1(en,nn,an,fn)),mathSqrt$3(pn)}function quadraticLength(Fe,en,tn,nn,rn,an,ln){for(var cn=Fe,un=en,fn=0,hn=1/ln,pn=1;pn<=ln;pn++){var gn=pn*hn,mn=quadraticAt$1(Fe,tn,rn,gn),_n=quadraticAt$1(en,nn,an,gn),kn=mn-cn,Cn=_n-un;fn+=Math.sqrt(kn*kn+Cn*Cn),cn=mn,un=_n}return fn}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(Fe){var en=Fe&&regexp.exec(Fe);if(en){var tn=en[1].split(","),nn=+trim$1(tn[0]),rn=+trim$1(tn[1]),an=+trim$1(tn[2]),ln=+trim$1(tn[3]);if(isNaN(nn+rn+an+ln))return;var cn=[];return function(un){return un<=0?0:un>=1?1:cubicRootAt(0,nn,an,1,un,cn)&&cubicAt(0,rn,ln,1,cn[0])}}}var Clip=function(){function Fe(en){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=en.life||1e3,this._delay=en.delay||0,this.loop=en.loop||!1,this.onframe=en.onframe||noop,this.ondestroy=en.ondestroy||noop,this.onrestart=en.onrestart||noop,en.easing&&this.setEasing(en.easing)}return Fe.prototype.step=function(en,tn){if(this._inited||(this._startTime=en+this._delay,this._inited=!0),this._paused){this._pausedTime+=tn;return}var nn=this._life,rn=en-this._startTime-this._pausedTime,an=rn/nn;an<0&&(an=0),an=Math.min(an,1);var ln=this.easingFunc,cn=ln?ln(an):an;if(this.onframe(cn),an===1)if(this.loop){var un=rn%nn;this._startTime=en-un,this._pausedTime=0,this.onrestart()}else return!0;return!1},Fe.prototype.pause=function(){this._paused=!0},Fe.prototype.resume=function(){this._paused=!1},Fe.prototype.setEasing=function(en){this.easing=en,this.easingFunc=isFunction(en)?en:easingFuncs$1[en]||createCubicEasingFunc(en)},Fe}();const Clip$1=Clip;var Entry=function(){function Fe(en){this.value=en}return Fe}(),LinkedList=function(){function Fe(){this._len=0}return Fe.prototype.insert=function(en){var tn=new Entry(en);return this.insertEntry(tn),tn},Fe.prototype.insertEntry=function(en){this.head?(this.tail.next=en,en.prev=this.tail,en.next=null,this.tail=en):this.head=this.tail=en,this._len++},Fe.prototype.remove=function(en){var tn=en.prev,nn=en.next;tn?tn.next=nn:this.head=nn,nn?nn.prev=tn:this.tail=tn,en.next=en.prev=null,this._len--},Fe.prototype.len=function(){return this._len},Fe.prototype.clear=function(){this.head=this.tail=null,this._len=0},Fe}(),LRU=function(){function Fe(en){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=en}return Fe.prototype.put=function(en,tn){var nn=this._list,rn=this._map,an=null;if(rn[en]==null){var ln=nn.len(),cn=this._lastRemovedEntry;if(ln>=this._maxSize&&ln>0){var un=nn.head;nn.remove(un),delete rn[un.key],an=un.value,this._lastRemovedEntry=un}cn?cn.value=tn:cn=new Entry(tn),cn.key=en,nn.insertEntry(cn),rn[en]=cn}return an},Fe.prototype.get=function(en){var tn=this._map[en],nn=this._list;if(tn!=null)return tn!==nn.tail&&(nn.remove(tn),nn.insertEntry(tn)),tn.value},Fe.prototype.clear=function(){this._list.clear(),this._map={}},Fe.prototype.len=function(){return this._list.len()},Fe}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(Fe){return Fe=Math.round(Fe),Fe<0?0:Fe>255?255:Fe}function clampCssAngle(Fe){return Fe=Math.round(Fe),Fe<0?0:Fe>360?360:Fe}function clampCssFloat(Fe){return Fe<0?0:Fe>1?1:Fe}function parseCssInt(Fe){var en=Fe;return en.length&&en.charAt(en.length-1)==="%"?clampCssByte(parseFloat(en)/100*255):clampCssByte(parseInt(en,10))}function parseCssFloat(Fe){var en=Fe;return en.length&&en.charAt(en.length-1)==="%"?clampCssFloat(parseFloat(en)/100):clampCssFloat(parseFloat(en))}function cssHueToRgb(Fe,en,tn){return tn<0?tn+=1:tn>1&&(tn-=1),tn*6<1?Fe+(en-Fe)*tn*6:tn*2<1?en:tn*3<2?Fe+(en-Fe)*(2/3-tn)*6:Fe}function lerpNumber(Fe,en,tn){return Fe+(en-Fe)*tn}function setRgba(Fe,en,tn,nn,rn){return Fe[0]=en,Fe[1]=tn,Fe[2]=nn,Fe[3]=rn,Fe}function copyRgba(Fe,en){return Fe[0]=en[0],Fe[1]=en[1],Fe[2]=en[2],Fe[3]=en[3],Fe}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(Fe,en){lastRemovedArr&&copyRgba(lastRemovedArr,en),lastRemovedArr=colorCache.put(Fe,lastRemovedArr||en.slice())}function parse(Fe,en){if(Fe){en=en||[];var tn=colorCache.get(Fe);if(tn)return copyRgba(en,tn);Fe=Fe+"";var nn=Fe.replace(/ /g,"").toLowerCase();if(nn in kCSSColorTable)return copyRgba(en,kCSSColorTable[nn]),putToCache(Fe,en),en;var rn=nn.length;if(nn.charAt(0)==="#"){if(rn===4||rn===5){var an=parseInt(nn.slice(1,4),16);if(!(an>=0&&an<=4095)){setRgba(en,0,0,0,1);return}return setRgba(en,(an&3840)>>4|(an&3840)>>8,an&240|(an&240)>>4,an&15|(an&15)<<4,rn===5?parseInt(nn.slice(4),16)/15:1),putToCache(Fe,en),en}else if(rn===7||rn===9){var an=parseInt(nn.slice(1,7),16);if(!(an>=0&&an<=16777215)){setRgba(en,0,0,0,1);return}return setRgba(en,(an&16711680)>>16,(an&65280)>>8,an&255,rn===9?parseInt(nn.slice(7),16)/255:1),putToCache(Fe,en),en}return}var ln=nn.indexOf("("),cn=nn.indexOf(")");if(ln!==-1&&cn+1===rn){var un=nn.substr(0,ln),fn=nn.substr(ln+1,cn-(ln+1)).split(","),hn=1;switch(un){case"rgba":if(fn.length!==4)return fn.length===3?setRgba(en,+fn[0],+fn[1],+fn[2],1):setRgba(en,0,0,0,1);hn=parseCssFloat(fn.pop());case"rgb":if(fn.length>=3)return setRgba(en,parseCssInt(fn[0]),parseCssInt(fn[1]),parseCssInt(fn[2]),fn.length===3?hn:parseCssFloat(fn[3])),putToCache(Fe,en),en;setRgba(en,0,0,0,1);return;case"hsla":if(fn.length!==4){setRgba(en,0,0,0,1);return}return fn[3]=parseCssFloat(fn[3]),hsla2rgba(fn,en),putToCache(Fe,en),en;case"hsl":if(fn.length!==3){setRgba(en,0,0,0,1);return}return hsla2rgba(fn,en),putToCache(Fe,en),en;default:return}}setRgba(en,0,0,0,1)}}function hsla2rgba(Fe,en){var tn=(parseFloat(Fe[0])%360+360)%360/360,nn=parseCssFloat(Fe[1]),rn=parseCssFloat(Fe[2]),an=rn<=.5?rn*(nn+1):rn+nn-rn*nn,ln=rn*2-an;return en=en||[],setRgba(en,clampCssByte(cssHueToRgb(ln,an,tn+1/3)*255),clampCssByte(cssHueToRgb(ln,an,tn)*255),clampCssByte(cssHueToRgb(ln,an,tn-1/3)*255),1),Fe.length===4&&(en[3]=Fe[3]),en}function rgba2hsla(Fe){if(Fe){var en=Fe[0]/255,tn=Fe[1]/255,nn=Fe[2]/255,rn=Math.min(en,tn,nn),an=Math.max(en,tn,nn),ln=an-rn,cn=(an+rn)/2,un,fn;if(ln===0)un=0,fn=0;else{cn<.5?fn=ln/(an+rn):fn=ln/(2-an-rn);var hn=((an-en)/6+ln/2)/ln,pn=((an-tn)/6+ln/2)/ln,gn=((an-nn)/6+ln/2)/ln;en===an?un=gn-pn:tn===an?un=1/3+hn-gn:nn===an&&(un=2/3+pn-hn),un<0&&(un+=1),un>1&&(un-=1)}var mn=[un*360,fn,cn];return Fe[3]!=null&&mn.push(Fe[3]),mn}}function lift(Fe,en){var tn=parse(Fe);if(tn){for(var nn=0;nn<3;nn++)en<0?tn[nn]=tn[nn]*(1-en)|0:tn[nn]=(255-tn[nn])*en+tn[nn]|0,tn[nn]>255?tn[nn]=255:tn[nn]<0&&(tn[nn]=0);return stringify(tn,tn.length===4?"rgba":"rgb")}}function toHex(Fe){var en=parse(Fe);if(en)return((1<<24)+(en[0]<<16)+(en[1]<<8)+ +en[2]).toString(16).slice(1)}function fastLerp(Fe,en,tn){if(!(!(en&&en.length)||!(Fe>=0&&Fe<=1))){tn=tn||[];var nn=Fe*(en.length-1),rn=Math.floor(nn),an=Math.ceil(nn),ln=en[rn],cn=en[an],un=nn-rn;return tn[0]=clampCssByte(lerpNumber(ln[0],cn[0],un)),tn[1]=clampCssByte(lerpNumber(ln[1],cn[1],un)),tn[2]=clampCssByte(lerpNumber(ln[2],cn[2],un)),tn[3]=clampCssFloat(lerpNumber(ln[3],cn[3],un)),tn}}var fastMapToColor=fastLerp;function lerp(Fe,en,tn){if(!(!(en&&en.length)||!(Fe>=0&&Fe<=1))){var nn=Fe*(en.length-1),rn=Math.floor(nn),an=Math.ceil(nn),ln=parse(en[rn]),cn=parse(en[an]),un=nn-rn,fn=stringify([clampCssByte(lerpNumber(ln[0],cn[0],un)),clampCssByte(lerpNumber(ln[1],cn[1],un)),clampCssByte(lerpNumber(ln[2],cn[2],un)),clampCssFloat(lerpNumber(ln[3],cn[3],un))],"rgba");return tn?{color:fn,leftIndex:rn,rightIndex:an,value:nn}:fn}}var mapToColor=lerp;function modifyHSL(Fe,en,tn,nn){var rn=parse(Fe);if(Fe)return rn=rgba2hsla(rn),en!=null&&(rn[0]=clampCssAngle(en)),tn!=null&&(rn[1]=parseCssFloat(tn)),nn!=null&&(rn[2]=parseCssFloat(nn)),stringify(hsla2rgba(rn),"rgba")}function modifyAlpha(Fe,en){var tn=parse(Fe);if(tn&&en!=null)return tn[3]=clampCssFloat(en),stringify(tn,"rgba")}function stringify(Fe,en){if(!(!Fe||!Fe.length)){var tn=Fe[0]+","+Fe[1]+","+Fe[2];return(en==="rgba"||en==="hsva"||en==="hsla")&&(tn+=","+Fe[3]),en+"("+tn+")"}}function lum(Fe,en){var tn=parse(Fe);return tn?(.299*tn[0]+.587*tn[1]+.114*tn[2])*tn[3]/255+(1-tn[3])*en:0}function random(){return stringify([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}const color=Object.freeze(Object.defineProperty({__proto__:null,fastLerp,fastMapToColor,lerp,lift,lum,mapToColor,modifyAlpha,modifyHSL,parse,random,stringify,toHex},Symbol.toStringTag,{value:"Module"}));var mathRound$1=Math.round;function normalizeColor(Fe){var en;if(!Fe||Fe==="transparent")Fe="none";else if(typeof Fe=="string"&&Fe.indexOf("rgba")>-1){var tn=parse(Fe);tn&&(Fe="rgb("+tn[0]+","+tn[1]+","+tn[2]+")",en=tn[3])}return{color:Fe,opacity:en??1}}var EPSILON$3=1e-4;function isAroundZero(Fe){return Fe<EPSILON$3&&Fe>-EPSILON$3}function round3(Fe){return mathRound$1(Fe*1e3)/1e3}function round4(Fe){return mathRound$1(Fe*1e4)/1e4}function getMatrixStr(Fe){return"matrix("+round3(Fe[0])+","+round3(Fe[1])+","+round3(Fe[2])+","+round3(Fe[3])+","+round4(Fe[4])+","+round4(Fe[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(Fe,en,tn){return tn==="top"?Fe+=en/2:tn==="bottom"&&(Fe-=en/2),Fe}function hasShadow(Fe){return Fe&&(Fe.shadowBlur||Fe.shadowOffsetX||Fe.shadowOffsetY)}function getShadowKey(Fe){var en=Fe.style,tn=Fe.getGlobalScale();return[en.shadowColor,(en.shadowBlur||0).toFixed(2),(en.shadowOffsetX||0).toFixed(2),(en.shadowOffsetY||0).toFixed(2),tn[0],tn[1]].join(",")}function isImagePattern(Fe){return Fe&&!!Fe.image}function isSVGPattern(Fe){return Fe&&!!Fe.svgElement}function isPattern(Fe){return isImagePattern(Fe)||isSVGPattern(Fe)}function isLinearGradient(Fe){return Fe.type==="linear"}function isRadialGradient(Fe){return Fe.type==="radial"}function isGradient(Fe){return Fe&&(Fe.type==="linear"||Fe.type==="radial")}function getIdURL(Fe){return"url(#"+Fe+")"}function getPathPrecision(Fe){var en=Fe.getGlobalScale(),tn=Math.max(en[0],en[1]);return Math.max(Math.ceil(Math.log(tn)/Math.log(10)),1)}function getSRTTransformString(Fe){var en=Fe.x||0,tn=Fe.y||0,nn=(Fe.rotation||0)*RADIAN_TO_DEGREE,rn=retrieve2(Fe.scaleX,1),an=retrieve2(Fe.scaleY,1),ln=Fe.skewX||0,cn=Fe.skewY||0,un=[];return(en||tn)&&un.push("translate("+en+"px,"+tn+"px)"),nn&&un.push("rotate("+nn+")"),(rn!==1||an!==1)&&un.push("scale("+rn+","+an+")"),(ln||cn)&&un.push("skew("+mathRound$1(ln*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(cn*RADIAN_TO_DEGREE)+"deg)"),un.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction(window.btoa)?function(Fe){return window.btoa(unescape(encodeURIComponent(Fe)))}:typeof Buffer<"u"?function(Fe){return Buffer.from(Fe).toString("base64")}:function(Fe){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(Fe,en,tn){return(en-Fe)*tn+Fe}function interpolate1DArray(Fe,en,tn,nn){for(var rn=en.length,an=0;an<rn;an++)Fe[an]=interpolateNumber$1(en[an],tn[an],nn);return Fe}function interpolate2DArray(Fe,en,tn,nn){for(var rn=en.length,an=rn&&en[0].length,ln=0;ln<rn;ln++){Fe[ln]||(Fe[ln]=[]);for(var cn=0;cn<an;cn++)Fe[ln][cn]=interpolateNumber$1(en[ln][cn],tn[ln][cn],nn)}return Fe}function add1DArray(Fe,en,tn,nn){for(var rn=en.length,an=0;an<rn;an++)Fe[an]=en[an]+tn[an]*nn;return Fe}function add2DArray(Fe,en,tn,nn){for(var rn=en.length,an=rn&&en[0].length,ln=0;ln<rn;ln++){Fe[ln]||(Fe[ln]=[]);for(var cn=0;cn<an;cn++)Fe[ln][cn]=en[ln][cn]+tn[ln][cn]*nn}return Fe}function fillColorStops(Fe,en){for(var tn=Fe.length,nn=en.length,rn=tn>nn?en:Fe,an=Math.min(tn,nn),ln=rn[an-1]||{color:[0,0,0,0],offset:0},cn=an;cn<Math.max(tn,nn);cn++)rn.push({offset:ln.offset,color:ln.color.slice()})}function fillArray(Fe,en,tn){var nn=Fe,rn=en;if(!(!nn.push||!rn.push)){var an=nn.length,ln=rn.length;if(an!==ln){var cn=an>ln;if(cn)nn.length=ln;else for(var un=an;un<ln;un++)nn.push(tn===1?rn[un]:arraySlice.call(rn[un]))}for(var fn=nn[0]&&nn[0].length,un=0;un<nn.length;un++)if(tn===1)isNaN(nn[un])&&(nn[un]=rn[un]);else for(var hn=0;hn<fn;hn++)isNaN(nn[un][hn])&&(nn[un][hn]=rn[un][hn])}}function cloneValue(Fe){if(isArrayLike(Fe)){var en=Fe.length;if(isArrayLike(Fe[0])){for(var tn=[],nn=0;nn<en;nn++)tn.push(arraySlice.call(Fe[nn]));return tn}return arraySlice.call(Fe)}return Fe}function rgba2String(Fe){return Fe[0]=Math.floor(Fe[0])||0,Fe[1]=Math.floor(Fe[1])||0,Fe[2]=Math.floor(Fe[2])||0,Fe[3]=Fe[3]==null?1:Fe[3],"rgba("+Fe.join(",")+")"}function guessArrayDim(Fe){return isArrayLike(Fe&&Fe[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(Fe){return Fe===VALUE_TYPE_LINEAR_GRADIENT||Fe===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(Fe){return Fe===VALUE_TYPE_1D_ARRAY||Fe===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function Fe(en){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=en}return Fe.prototype.isFinished=function(){return this._finished},Fe.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},Fe.prototype.needsAnimate=function(){return this.keyframes.length>=1},Fe.prototype.getAdditiveTrack=function(){return this._additiveTrack},Fe.prototype.addKeyframe=function(en,tn,nn){this._needsSort=!0;var rn=this.keyframes,an=rn.length,ln=!1,cn=VALUE_TYPE_UNKOWN,un=tn;if(isArrayLike(tn)){var fn=guessArrayDim(tn);cn=fn,(fn===1&&!isNumber(tn[0])||fn===2&&!isNumber(tn[0][0]))&&(ln=!0)}else if(isNumber(tn)&&!eqNaN(tn))cn=VALUE_TYPE_NUMBER;else if(isString(tn))if(!isNaN(+tn))cn=VALUE_TYPE_NUMBER;else{var hn=parse(tn);hn&&(un=hn,cn=VALUE_TYPE_COLOR)}else if(isGradientObject(tn)){var pn=extend$1({},un);pn.colorStops=map$1(tn.colorStops,function(mn){return{offset:mn.offset,color:parse(mn.color)}}),isLinearGradient(tn)?cn=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(tn)&&(cn=VALUE_TYPE_RADIAL_GRADIENT),un=pn}an===0?this.valType=cn:(cn!==this.valType||cn===VALUE_TYPE_UNKOWN)&&(ln=!0),this.discrete=this.discrete||ln;var gn={time:en,value:un,rawValue:tn,percent:0};return nn&&(gn.easing=nn,gn.easingFunc=isFunction(nn)?nn:easingFuncs$1[nn]||createCubicEasingFunc(nn)),rn.push(gn),gn},Fe.prototype.prepare=function(en,tn){var nn=this.keyframes;this._needsSort&&nn.sort(function(kn,Cn){return kn.time-Cn.time});for(var rn=this.valType,an=nn.length,ln=nn[an-1],cn=this.discrete,un=isArrayValueType(rn),fn=isGradientValueType(rn),hn=0;hn<an;hn++){var pn=nn[hn],gn=pn.value,mn=ln.value;pn.percent=pn.time/en,cn||(un&&hn!==an-1?fillArray(gn,mn,rn):fn&&fillColorStops(gn.colorStops,mn.colorStops))}if(!cn&&rn!==VALUE_TYPE_RADIAL_GRADIENT&&tn&&this.needsAnimate()&&tn.needsAnimate()&&rn===tn.valType&&!tn._finished){this._additiveTrack=tn;for(var _n=nn[0].value,hn=0;hn<an;hn++)rn===VALUE_TYPE_NUMBER?nn[hn].additiveValue=nn[hn].value-_n:rn===VALUE_TYPE_COLOR?nn[hn].additiveValue=add1DArray([],nn[hn].value,_n,-1):isArrayValueType(rn)&&(nn[hn].additiveValue=rn===VALUE_TYPE_1D_ARRAY?add1DArray([],nn[hn].value,_n,-1):add2DArray([],nn[hn].value,_n,-1))}},Fe.prototype.step=function(en,tn){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var nn=this._additiveTrack!=null,rn=nn?"additiveValue":"value",an=this.valType,ln=this.keyframes,cn=ln.length,un=this.propName,fn=an===VALUE_TYPE_COLOR,hn,pn=this._lastFr,gn=Math.min,mn,_n;if(cn===1)mn=_n=ln[0];else{if(tn<0)hn=0;else if(tn<this._lastFrP){var kn=gn(pn+1,cn-1);for(hn=kn;hn>=0&&!(ln[hn].percent<=tn);hn--);hn=gn(hn,cn-2)}else{for(hn=pn;hn<cn&&!(ln[hn].percent>tn);hn++);hn=gn(hn-1,cn-2)}_n=ln[hn+1],mn=ln[hn]}if(mn&&_n){this._lastFr=hn,this._lastFrP=tn;var Cn=_n.percent-mn.percent,xn=Cn===0?1:gn((tn-mn.percent)/Cn,1);_n.easingFunc&&(xn=_n.easingFunc(xn));var Sn=nn?this._additiveValue:fn?tmpRgba:en[un];if((isArrayValueType(an)||fn)&&!Sn&&(Sn=this._additiveValue=[]),this.discrete)en[un]=xn<1?mn.rawValue:_n.rawValue;else if(isArrayValueType(an))an===VALUE_TYPE_1D_ARRAY?interpolate1DArray(Sn,mn[rn],_n[rn],xn):interpolate2DArray(Sn,mn[rn],_n[rn],xn);else if(isGradientValueType(an)){var Mn=mn[rn],In=_n[rn],On=an===VALUE_TYPE_LINEAR_GRADIENT;en[un]={type:On?"linear":"radial",x:interpolateNumber$1(Mn.x,In.x,xn),y:interpolateNumber$1(Mn.y,In.y,xn),colorStops:map$1(Mn.colorStops,function(Tn,Nn){var Hn=In.colorStops[Nn];return{offset:interpolateNumber$1(Tn.offset,Hn.offset,xn),color:rgba2String(interpolate1DArray([],Tn.color,Hn.color,xn))}}),global:In.global},On?(en[un].x2=interpolateNumber$1(Mn.x2,In.x2,xn),en[un].y2=interpolateNumber$1(Mn.y2,In.y2,xn)):en[un].r=interpolateNumber$1(Mn.r,In.r,xn)}else if(fn)interpolate1DArray(Sn,mn[rn],_n[rn],xn),nn||(en[un]=rgba2String(Sn));else{var Pn=interpolateNumber$1(mn[rn],_n[rn],xn);nn?this._additiveValue=Pn:en[un]=Pn}nn&&this._addToTarget(en)}}},Fe.prototype._addToTarget=function(en){var tn=this.valType,nn=this.propName,rn=this._additiveValue;tn===VALUE_TYPE_NUMBER?en[nn]=en[nn]+rn:tn===VALUE_TYPE_COLOR?(parse(en[nn],tmpRgba),add1DArray(tmpRgba,tmpRgba,rn,1),en[nn]=rgba2String(tmpRgba)):tn===VALUE_TYPE_1D_ARRAY?add1DArray(en[nn],en[nn],rn,1):tn===VALUE_TYPE_2D_ARRAY&&add2DArray(en[nn],en[nn],rn,1)},Fe}(),Animator=function(){function Fe(en,tn,nn,rn){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=en,this._loop=tn,tn&&rn){logError$1("Can' use additive animation on looped animation.");return}this._additiveAnimators=rn,this._allowDiscrete=nn}return Fe.prototype.getMaxTime=function(){return this._maxTime},Fe.prototype.getDelay=function(){return this._delay},Fe.prototype.getLoop=function(){return this._loop},Fe.prototype.getTarget=function(){return this._target},Fe.prototype.changeTarget=function(en){this._target=en},Fe.prototype.when=function(en,tn,nn){return this.whenWithKeys(en,tn,keys(tn),nn)},Fe.prototype.whenWithKeys=function(en,tn,nn,rn){for(var an=this._tracks,ln=0;ln<nn.length;ln++){var cn=nn[ln],un=an[cn];if(!un){un=an[cn]=new Track(cn);var fn=void 0,hn=this._getAdditiveTrack(cn);if(hn){var pn=hn.keyframes,gn=pn[pn.length-1];fn=gn&&gn.value,hn.valType===VALUE_TYPE_COLOR&&fn&&(fn=rgba2String(fn))}else fn=this._target[cn];if(fn==null)continue;en>0&&un.addKeyframe(0,cloneValue(fn),rn),this._trackKeys.push(cn)}un.addKeyframe(en,cloneValue(tn[cn]),rn)}return this._maxTime=Math.max(this._maxTime,en),this},Fe.prototype.pause=function(){this._clip.pause(),this._paused=!0},Fe.prototype.resume=function(){this._clip.resume(),this._paused=!1},Fe.prototype.isPaused=function(){return!!this._paused},Fe.prototype.duration=function(en){return this._maxTime=en,this._force=!0,this},Fe.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var en=this._doneCbs;if(en)for(var tn=en.length,nn=0;nn<tn;nn++)en[nn].call(this)},Fe.prototype._abortedCallback=function(){this._setTracksFinished();var en=this.animation,tn=this._abortedCbs;if(en&&en.removeClip(this._clip),this._clip=null,tn)for(var nn=0;nn<tn.length;nn++)tn[nn].call(this)},Fe.prototype._setTracksFinished=function(){for(var en=this._tracks,tn=this._trackKeys,nn=0;nn<tn.length;nn++)en[tn[nn]].setFinished()},Fe.prototype._getAdditiveTrack=function(en){var tn,nn=this._additiveAnimators;if(nn)for(var rn=0;rn<nn.length;rn++){var an=nn[rn].getTrack(en);an&&(tn=an)}return tn},Fe.prototype.start=function(en){if(!(this._started>0)){this._started=1;for(var tn=this,nn=[],rn=this._maxTime||0,an=0;an<this._trackKeys.length;an++){var ln=this._trackKeys[an],cn=this._tracks[ln],un=this._getAdditiveTrack(ln),fn=cn.keyframes,hn=fn.length;if(cn.prepare(rn,un),cn.needsAnimate())if(!this._allowDiscrete&&cn.discrete){var pn=fn[hn-1];pn&&(tn._target[cn.propName]=pn.rawValue),cn.setFinished()}else nn.push(cn)}if(nn.length||this._force){var gn=new Clip$1({life:rn,loop:this._loop,delay:this._delay||0,onframe:function(mn){tn._started=2;var _n=tn._additiveAnimators;if(_n){for(var kn=!1,Cn=0;Cn<_n.length;Cn++)if(_n[Cn]._clip){kn=!0;break}kn||(tn._additiveAnimators=null)}for(var Cn=0;Cn<nn.length;Cn++)nn[Cn].step(tn._target,mn);var xn=tn._onframeCbs;if(xn)for(var Cn=0;Cn<xn.length;Cn++)xn[Cn](tn._target,mn)},ondestroy:function(){tn._doneCallback()}});this._clip=gn,this.animation&&this.animation.addClip(gn),en&&gn.setEasing(en)}else this._doneCallback();return this}},Fe.prototype.stop=function(en){if(this._clip){var tn=this._clip;en&&tn.onframe(1),this._abortedCallback()}},Fe.prototype.delay=function(en){return this._delay=en,this},Fe.prototype.during=function(en){return en&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(en)),this},Fe.prototype.done=function(en){return en&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(en)),this},Fe.prototype.aborted=function(en){return en&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(en)),this},Fe.prototype.getClip=function(){return this._clip},Fe.prototype.getTrack=function(en){return this._tracks[en]},Fe.prototype.getTracks=function(){var en=this;return map$1(this._trackKeys,function(tn){return en._tracks[tn]})},Fe.prototype.stopTracks=function(en,tn){if(!en.length||!this._clip)return!0;for(var nn=this._tracks,rn=this._trackKeys,an=0;an<en.length;an++){var ln=nn[en[an]];ln&&!ln.isFinished()&&(tn?ln.step(this._target,1):this._started===1&&ln.step(this._target,0),ln.setFinished())}for(var cn=!0,an=0;an<rn.length;an++)if(!nn[rn[an]].isFinished()){cn=!1;break}return cn&&this._abortedCallback(),cn},Fe.prototype.saveTo=function(en,tn,nn){if(en){tn=tn||this._trackKeys;for(var rn=0;rn<tn.length;rn++){var an=tn[rn],ln=this._tracks[an];if(!(!ln||ln.isFinished())){var cn=ln.keyframes,un=cn[nn?0:cn.length-1];un&&(en[an]=cloneValue(un.rawValue))}}}},Fe.prototype.__changeFinalValue=function(en,tn){tn=tn||keys(en);for(var nn=0;nn<tn.length;nn++){var rn=tn[nn],an=this._tracks[rn];if(an){var ln=an.keyframes;if(ln.length>1){var cn=ln.pop();an.addKeyframe(cn.time,en[rn]),an.prepare(this._maxTime,an.getAdditiveTrack())}}}},Fe}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this)||this;return nn._running=!1,nn._time=0,nn._pausedTime=0,nn._pauseStart=0,nn._paused=!1,tn=tn||{},nn.stage=tn.stage||{},nn}return en.prototype.addClip=function(tn){tn.animation&&this.removeClip(tn),this._head?(this._tail.next=tn,tn.prev=this._tail,tn.next=null,this._tail=tn):this._head=this._tail=tn,tn.animation=this},en.prototype.addAnimator=function(tn){tn.animation=this;var nn=tn.getClip();nn&&this.addClip(nn)},en.prototype.removeClip=function(tn){if(tn.animation){var nn=tn.prev,rn=tn.next;nn?nn.next=rn:this._head=rn,rn?rn.prev=nn:this._tail=nn,tn.next=tn.prev=tn.animation=null}},en.prototype.removeAnimator=function(tn){var nn=tn.getClip();nn&&this.removeClip(nn),tn.animation=null},en.prototype.update=function(tn){for(var nn=getTime()-this._pausedTime,rn=nn-this._time,an=this._head;an;){var ln=an.next,cn=an.step(nn,rn);cn&&(an.ondestroy(),this.removeClip(an)),an=ln}this._time=nn,tn||(this.trigger("frame",rn),this.stage.update&&this.stage.update())},en.prototype._startLoop=function(){var tn=this;this._running=!0;function nn(){tn._running&&(requestAnimationFrame$2(nn),!tn._paused&&tn.update())}requestAnimationFrame$2(nn)},en.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},en.prototype.stop=function(){this._running=!1},en.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},en.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},en.prototype.clear=function(){for(var tn=this._head;tn;){var nn=tn.next;tn.prev=tn.next=tn.animation=null,tn=nn}this._head=this._tail=null},en.prototype.isFinished=function(){return this._head==null},en.prototype.animate=function(tn,nn){nn=nn||{},this.start();var rn=new Animator$1(tn,nn.loop);return this.addAnimator(rn),rn},en}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var Fe=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],en=["touchstart","touchend","touchmove"],tn={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},nn=map$1(Fe,function(rn){var an=rn.replace("mouse","pointer");return tn.hasOwnProperty(an)?an:rn});return{mouse:Fe,touch:en,pointer:nn}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(Fe){var en=Fe.pointerType;return en==="pen"||en==="touch"}function setTouchTimer(Fe){Fe.touching=!0,Fe.touchTimer!=null&&(clearTimeout(Fe.touchTimer),Fe.touchTimer=null),Fe.touchTimer=setTimeout(function(){Fe.touching=!1,Fe.touchTimer=null},700)}function markTouch(Fe){Fe&&(Fe.zrByTouch=!0)}function normalizeGlobalEvent(Fe,en){return normalizeEvent(Fe.dom,new FakeGlobalEvent(Fe,en),!0)}function isLocalEl(Fe,en){for(var tn=en,nn=!1;tn&&tn.nodeType!==9&&!(nn=tn.domBelongToZr||tn!==en&&tn===Fe.painterRoot);)tn=tn.parentNode;return nn}var FakeGlobalEvent=function(){function Fe(en,tn){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=tn.type,this.target=this.currentTarget=en.dom,this.pointerType=tn.pointerType,this.clientX=tn.clientX,this.clientY=tn.clientY}return Fe}(),localDOMHandlers={mousedown:function(Fe){Fe=normalizeEvent(this.dom,Fe),this.__mayPointerCapture=[Fe.zrX,Fe.zrY],this.trigger("mousedown",Fe)},mousemove:function(Fe){Fe=normalizeEvent(this.dom,Fe);var en=this.__mayPointerCapture;en&&(Fe.zrX!==en[0]||Fe.zrY!==en[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",Fe)},mouseup:function(Fe){Fe=normalizeEvent(this.dom,Fe),this.__togglePointerCapture(!1),this.trigger("mouseup",Fe)},mouseout:function(Fe){Fe=normalizeEvent(this.dom,Fe);var en=Fe.toElement||Fe.relatedTarget;isLocalEl(this,en)||(this.__pointerCapturing&&(Fe.zrEventControl="no_globalout"),this.trigger("mouseout",Fe))},wheel:function(Fe){wheelEventSupported=!0,Fe=normalizeEvent(this.dom,Fe),this.trigger("mousewheel",Fe)},mousewheel:function(Fe){wheelEventSupported||(Fe=normalizeEvent(this.dom,Fe),this.trigger("mousewheel",Fe))},touchstart:function(Fe){Fe=normalizeEvent(this.dom,Fe),markTouch(Fe),this.__lastTouchMoment=new Date,this.handler.processGesture(Fe,"start"),localDOMHandlers.mousemove.call(this,Fe),localDOMHandlers.mousedown.call(this,Fe)},touchmove:function(Fe){Fe=normalizeEvent(this.dom,Fe),markTouch(Fe),this.handler.processGesture(Fe,"change"),localDOMHandlers.mousemove.call(this,Fe)},touchend:function(Fe){Fe=normalizeEvent(this.dom,Fe),markTouch(Fe),this.handler.processGesture(Fe,"end"),localDOMHandlers.mouseup.call(this,Fe),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,Fe)},pointerdown:function(Fe){localDOMHandlers.mousedown.call(this,Fe)},pointermove:function(Fe){isPointerFromTouch(Fe)||localDOMHandlers.mousemove.call(this,Fe)},pointerup:function(Fe){localDOMHandlers.mouseup.call(this,Fe)},pointerout:function(Fe){isPointerFromTouch(Fe)||localDOMHandlers.mouseout.call(this,Fe)}};each$f(["click","dblclick","contextmenu"],function(Fe){localDOMHandlers[Fe]=function(en){en=normalizeEvent(this.dom,en),this.trigger(Fe,en)}});var globalDOMHandlers={pointermove:function(Fe){isPointerFromTouch(Fe)||globalDOMHandlers.mousemove.call(this,Fe)},pointerup:function(Fe){globalDOMHandlers.mouseup.call(this,Fe)},mousemove:function(Fe){this.trigger("mousemove",Fe)},mouseup:function(Fe){var en=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",Fe),en&&(Fe.zrEventControl="only_globalout",this.trigger("mouseout",Fe))}};function mountLocalDOMEventListeners(Fe,en){var tn=en.domHandlers;env$1.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(nn){mountSingleDOMEventListener(en,nn,function(rn){tn[nn].call(Fe,rn)})}):(env$1.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(nn){mountSingleDOMEventListener(en,nn,function(rn){tn[nn].call(Fe,rn),setTouchTimer(en)})}),each$f(localNativeListenerNames.mouse,function(nn){mountSingleDOMEventListener(en,nn,function(rn){rn=getNativeEvent(rn),en.touching||tn[nn].call(Fe,rn)})}))}function mountGlobalDOMEventListeners(Fe,en){env$1.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,tn):env$1.touchEventsSupported||each$f(globalNativeListenerNames.mouse,tn);function tn(nn){function rn(an){an=getNativeEvent(an),isLocalEl(Fe,an.target)||(an=normalizeGlobalEvent(Fe,an),en.domHandlers[nn].call(Fe,an))}mountSingleDOMEventListener(en,nn,rn,{capture:!0})}}function mountSingleDOMEventListener(Fe,en,tn,nn){Fe.mounted[en]=tn,Fe.listenerOpts[en]=nn,addEventListener(Fe.domTarget,en,tn,nn)}function unmountDOMEventListeners(Fe){var en=Fe.mounted;for(var tn in en)en.hasOwnProperty(tn)&&removeEventListener(Fe.domTarget,tn,en[tn],Fe.listenerOpts[tn]);Fe.mounted={}}var DOMHandlerScope=function(){function Fe(en,tn){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=en,this.domHandlers=tn}return Fe}(),HandlerDomProxy=function(Fe){__extends(en,Fe);function en(tn,nn){var rn=Fe.call(this)||this;return rn.__pointerCapturing=!1,rn.dom=tn,rn.painterRoot=nn,rn._localHandlerScope=new DOMHandlerScope(tn,localDOMHandlers),globalEventSupported&&(rn._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(rn,rn._localHandlerScope),rn}return en.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},en.prototype.setCursor=function(tn){this.dom.style&&(this.dom.style.cursor=tn||"default")},en.prototype.__togglePointerCapture=function(tn){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+tn){this.__pointerCapturing=tn;var nn=this._globalHandlerScope;tn?mountGlobalDOMEventListeners(this,nn):unmountDOMEventListeners(nn)}},en}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(Fe){return Fe>EPSILON$2||Fe<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function Fe(){}return Fe.prototype.getLocalTransform=function(en){return Fe.getLocalTransform(this,en)},Fe.prototype.setPosition=function(en){this.x=en[0],this.y=en[1]},Fe.prototype.setScale=function(en){this.scaleX=en[0],this.scaleY=en[1]},Fe.prototype.setSkew=function(en){this.skewX=en[0],this.skewY=en[1]},Fe.prototype.setOrigin=function(en){this.originX=en[0],this.originY=en[1]},Fe.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},Fe.prototype.updateTransform=function(){var en=this.parent&&this.parent.transform,tn=this.needLocalTransform(),nn=this.transform;if(!(tn||en)){nn&&(mIdentity(nn),this.invTransform=null);return}nn=nn||create$1(),tn?this.getLocalTransform(nn):mIdentity(nn),en&&(tn?mul(nn,en,nn):copy(nn,en)),this.transform=nn,this._resolveGlobalScaleRatio(nn)},Fe.prototype._resolveGlobalScaleRatio=function(en){var tn=this.globalScaleRatio;if(tn!=null&&tn!==1){this.getGlobalScale(scaleTmp);var nn=scaleTmp[0]<0?-1:1,rn=scaleTmp[1]<0?-1:1,an=((scaleTmp[0]-nn)*tn+nn)/scaleTmp[0]||0,ln=((scaleTmp[1]-rn)*tn+rn)/scaleTmp[1]||0;en[0]*=an,en[1]*=an,en[2]*=ln,en[3]*=ln}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,en)},Fe.prototype.getComputedTransform=function(){for(var en=this,tn=[];en;)tn.push(en),en=en.parent;for(;en=tn.pop();)en.updateTransform();return this.transform},Fe.prototype.setLocalTransform=function(en){if(en){var tn=en[0]*en[0]+en[1]*en[1],nn=en[2]*en[2]+en[3]*en[3],rn=Math.atan2(en[1],en[0]),an=Math.PI/2+rn-Math.atan2(en[3],en[2]);nn=Math.sqrt(nn)*Math.cos(an),tn=Math.sqrt(tn),this.skewX=an,this.skewY=0,this.rotation=-rn,this.x=+en[4],this.y=+en[5],this.scaleX=tn,this.scaleY=nn,this.originX=0,this.originY=0}},Fe.prototype.decomposeTransform=function(){if(this.transform){var en=this.parent,tn=this.transform;en&&en.transform&&(mul(tmpTransform,en.invTransform,tn),tn=tmpTransform);var nn=this.originX,rn=this.originY;(nn||rn)&&(originTransform[4]=nn,originTransform[5]=rn,mul(tmpTransform,tn,originTransform),tmpTransform[4]-=nn,tmpTransform[5]-=rn,tn=tmpTransform),this.setLocalTransform(tn)}},Fe.prototype.getGlobalScale=function(en){var tn=this.transform;return en=en||[],tn?(en[0]=Math.sqrt(tn[0]*tn[0]+tn[1]*tn[1]),en[1]=Math.sqrt(tn[2]*tn[2]+tn[3]*tn[3]),tn[0]<0&&(en[0]=-en[0]),tn[3]<0&&(en[1]=-en[1]),en):(en[0]=1,en[1]=1,en)},Fe.prototype.transformCoordToLocal=function(en,tn){var nn=[en,tn],rn=this.invTransform;return rn&&applyTransform$1(nn,nn,rn),nn},Fe.prototype.transformCoordToGlobal=function(en,tn){var nn=[en,tn],rn=this.transform;return rn&&applyTransform$1(nn,nn,rn),nn},Fe.prototype.getLineScale=function(){var en=this.transform;return en&&abs(en[0]-1)>1e-10&&abs(en[3]-1)>1e-10?Math.sqrt(abs(en[0]*en[3]-en[2]*en[1])):1},Fe.prototype.copyTransform=function(en){copyTransform(this,en)},Fe.getLocalTransform=function(en,tn){tn=tn||[];var nn=en.originX||0,rn=en.originY||0,an=en.scaleX,ln=en.scaleY,cn=en.anchorX,un=en.anchorY,fn=en.rotation||0,hn=en.x,pn=en.y,gn=en.skewX?Math.tan(en.skewX):0,mn=en.skewY?Math.tan(-en.skewY):0;if(nn||rn||cn||un){var _n=nn+cn,kn=rn+un;tn[4]=-_n*an-gn*kn*ln,tn[5]=-kn*ln-mn*_n*an}else tn[4]=tn[5]=0;return tn[0]=an,tn[3]=ln,tn[1]=mn*an,tn[2]=gn*ln,fn&&rotate(tn,tn,fn),tn[4]+=nn+hn,tn[5]+=rn+pn,tn},Fe.initDefaultProps=function(){var en=Fe.prototype;en.scaleX=en.scaleY=en.globalScaleRatio=1,en.x=en.y=en.originX=en.originY=en.skewX=en.skewY=en.rotation=en.anchorX=en.anchorY=0}(),Fe}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(Fe,en){for(var tn=0;tn<TRANSFORMABLE_PROPS.length;tn++){var nn=TRANSFORMABLE_PROPS[tn];Fe[nn]=en[nn]}}const Transformable$1=Transformable;var textWidthCache={};function getWidth(Fe,en){en=en||DEFAULT_FONT;var tn=textWidthCache[en];tn||(tn=textWidthCache[en]=new LRU$1(500));var nn=tn.get(Fe);return nn==null&&(nn=platformApi.measureText(Fe,en).width,tn.put(Fe,nn)),nn}function innerGetBoundingRect(Fe,en,tn,nn){var rn=getWidth(Fe,en),an=getLineHeight(en),ln=adjustTextX(0,rn,tn),cn=adjustTextY(0,an,nn),un=new BoundingRect$1(ln,cn,rn,an);return un}function getBoundingRect(Fe,en,tn,nn){var rn=((Fe||"")+"").split(`
`),an=rn.length;if(an===1)return innerGetBoundingRect(rn[0],en,tn,nn);for(var ln=new BoundingRect$1(0,0,0,0),cn=0;cn<rn.length;cn++){var un=innerGetBoundingRect(rn[cn],en,tn,nn);cn===0?ln.copy(un):ln.union(un)}return ln}function adjustTextX(Fe,en,tn){return tn==="right"?Fe-=en:tn==="center"&&(Fe-=en/2),Fe}function adjustTextY(Fe,en,tn){return tn==="middle"?Fe-=en/2:tn==="bottom"&&(Fe-=en),Fe}function getLineHeight(Fe){return getWidth("å½",Fe)}function parsePercent$1(Fe,en){return typeof Fe=="string"?Fe.lastIndexOf("%")>=0?parseFloat(Fe)/100*en:parseFloat(Fe):Fe}function calculateTextPosition(Fe,en,tn){var nn=en.position||"inside",rn=en.distance!=null?en.distance:5,an=tn.height,ln=tn.width,cn=an/2,un=tn.x,fn=tn.y,hn="left",pn="top";if(nn instanceof Array)un+=parsePercent$1(nn[0],tn.width),fn+=parsePercent$1(nn[1],tn.height),hn=null,pn=null;else switch(nn){case"left":un-=rn,fn+=cn,hn="right",pn="middle";break;case"right":un+=rn+ln,fn+=cn,pn="middle";break;case"top":un+=ln/2,fn-=rn,hn="center",pn="bottom";break;case"bottom":un+=ln/2,fn+=an+rn,hn="center";break;case"inside":un+=ln/2,fn+=cn,hn="center",pn="middle";break;case"insideLeft":un+=rn,fn+=cn,pn="middle";break;case"insideRight":un+=ln-rn,fn+=cn,hn="right",pn="middle";break;case"insideTop":un+=ln/2,fn+=rn,hn="center";break;case"insideBottom":un+=ln/2,fn+=an-rn,hn="center",pn="bottom";break;case"insideTopLeft":un+=rn,fn+=rn;break;case"insideTopRight":un+=ln-rn,fn+=rn,hn="right";break;case"insideBottomLeft":un+=rn,fn+=an-rn,pn="bottom";break;case"insideBottomRight":un+=ln-rn,fn+=an-rn,hn="right",pn="bottom";break}return Fe=Fe||{},Fe.x=un,Fe.y=fn,Fe.align=hn,Fe.verticalAlign=pn,Fe}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(Fe,en){return Fe[en]=!0,Fe},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function Fe(en){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(en)}return Fe.prototype._init=function(en){this.attr(en)},Fe.prototype.drift=function(en,tn,nn){switch(this.draggable){case"horizontal":tn=0;break;case"vertical":en=0;break}var rn=this.transform;rn||(rn=this.transform=[1,0,0,1,0,0]),rn[4]+=en,rn[5]+=tn,this.decomposeTransform(),this.markRedraw()},Fe.prototype.beforeUpdate=function(){},Fe.prototype.afterUpdate=function(){},Fe.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},Fe.prototype.updateInnerText=function(en){var tn=this._textContent;if(tn&&(!tn.ignore||en)){this.textConfig||(this.textConfig={});var nn=this.textConfig,rn=nn.local,an=tn.innerTransformable,ln=void 0,cn=void 0,un=!1;an.parent=rn?this:null;var fn=!1;if(an.copyTransform(tn),nn.position!=null){var hn=tmpBoundingRect;nn.layoutRect?hn.copy(nn.layoutRect):hn.copy(this.getBoundingRect()),rn||hn.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,nn,hn):calculateTextPosition(tmpTextPosCalcRes,nn,hn),an.x=tmpTextPosCalcRes.x,an.y=tmpTextPosCalcRes.y,ln=tmpTextPosCalcRes.align,cn=tmpTextPosCalcRes.verticalAlign;var pn=nn.origin;if(pn&&nn.rotation!=null){var gn=void 0,mn=void 0;pn==="center"?(gn=hn.width*.5,mn=hn.height*.5):(gn=parsePercent$1(pn[0],hn.width),mn=parsePercent$1(pn[1],hn.height)),fn=!0,an.originX=-an.x+gn+(rn?0:hn.x),an.originY=-an.y+mn+(rn?0:hn.y)}}nn.rotation!=null&&(an.rotation=nn.rotation);var _n=nn.offset;_n&&(an.x+=_n[0],an.y+=_n[1],fn||(an.originX=-_n[0],an.originY=-_n[1]));var kn=nn.inside==null?typeof nn.position=="string"&&nn.position.indexOf("inside")>=0:nn.inside,Cn=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),xn=void 0,Sn=void 0,Mn=void 0;kn&&this.canBeInsideText()?(xn=nn.insideFill,Sn=nn.insideStroke,(xn==null||xn==="auto")&&(xn=this.getInsideTextFill()),(Sn==null||Sn==="auto")&&(Sn=this.getInsideTextStroke(xn),Mn=!0)):(xn=nn.outsideFill,Sn=nn.outsideStroke,(xn==null||xn==="auto")&&(xn=this.getOutsideFill()),(Sn==null||Sn==="auto")&&(Sn=this.getOutsideStroke(xn),Mn=!0)),xn=xn||"#000",(xn!==Cn.fill||Sn!==Cn.stroke||Mn!==Cn.autoStroke||ln!==Cn.align||cn!==Cn.verticalAlign)&&(un=!0,Cn.fill=xn,Cn.stroke=Sn,Cn.autoStroke=Mn,Cn.align=ln,Cn.verticalAlign=cn,tn.setDefaultTextStyle(Cn)),tn.__dirty|=REDRAW_BIT,un&&tn.dirtyStyle(!0)}},Fe.prototype.canBeInsideText=function(){return!0},Fe.prototype.getInsideTextFill=function(){return"#fff"},Fe.prototype.getInsideTextStroke=function(en){return"#000"},Fe.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},Fe.prototype.getOutsideStroke=function(en){var tn=this.__zr&&this.__zr.getBackgroundColor(),nn=typeof tn=="string"&&parse(tn);nn||(nn=[255,255,255,1]);for(var rn=nn[3],an=this.__zr.isDarkMode(),ln=0;ln<3;ln++)nn[ln]=nn[ln]*rn+(an?0:255)*(1-rn);return nn[3]=1,stringify(nn,"rgba")},Fe.prototype.traverse=function(en,tn){},Fe.prototype.attrKV=function(en,tn){en==="textConfig"?this.setTextConfig(tn):en==="textContent"?this.setTextContent(tn):en==="clipPath"?this.setClipPath(tn):en==="extra"?(this.extra=this.extra||{},extend$1(this.extra,tn)):this[en]=tn},Fe.prototype.hide=function(){this.ignore=!0,this.markRedraw()},Fe.prototype.show=function(){this.ignore=!1,this.markRedraw()},Fe.prototype.attr=function(en,tn){if(typeof en=="string")this.attrKV(en,tn);else if(isObject$3(en))for(var nn=en,rn=keys(nn),an=0;an<rn.length;an++){var ln=rn[an];this.attrKV(ln,en[ln])}return this.markRedraw(),this},Fe.prototype.saveCurrentToNormalState=function(en){this._innerSaveToNormal(en);for(var tn=this._normalState,nn=0;nn<this.animators.length;nn++){var rn=this.animators[nn],an=rn.__fromStateTransition;if(!(rn.getLoop()||an&&an!==PRESERVED_NORMAL_STATE)){var ln=rn.targetName,cn=ln?tn[ln]:tn;rn.saveTo(cn)}}},Fe.prototype._innerSaveToNormal=function(en){var tn=this._normalState;tn||(tn=this._normalState={}),en.textConfig&&!tn.textConfig&&(tn.textConfig=this.textConfig),this._savePrimaryToNormal(en,tn,PRIMARY_STATES_KEYS$1)},Fe.prototype._savePrimaryToNormal=function(en,tn,nn){for(var rn=0;rn<nn.length;rn++){var an=nn[rn];en[an]!=null&&!(an in tn)&&(tn[an]=this[an])}},Fe.prototype.hasState=function(){return this.currentStates.length>0},Fe.prototype.getState=function(en){return this.states[en]},Fe.prototype.ensureState=function(en){var tn=this.states;return tn[en]||(tn[en]={}),tn[en]},Fe.prototype.clearStates=function(en){this.useState(PRESERVED_NORMAL_STATE,!1,en)},Fe.prototype.useState=function(en,tn,nn,rn){var an=en===PRESERVED_NORMAL_STATE,ln=this.hasState();if(!(!ln&&an)){var cn=this.currentStates,un=this.stateTransition;if(!(indexOf(cn,en)>=0&&(tn||cn.length===1))){var fn;if(this.stateProxy&&!an&&(fn=this.stateProxy(en)),fn||(fn=this.states&&this.states[en]),!fn&&!an){logError$1("State "+en+" not exists.");return}an||this.saveCurrentToNormalState(fn);var hn=!!(fn&&fn.hoverLayer||rn);hn&&this._toggleHoverLayerFlag(!0),this._applyStateObj(en,fn,this._normalState,tn,!nn&&!this.__inHover&&un&&un.duration>0,un);var pn=this._textContent,gn=this._textGuide;return pn&&pn.useState(en,tn,nn,hn),gn&&gn.useState(en,tn,nn,hn),an?(this.currentStates=[],this._normalState={}):tn?this.currentStates.push(en):this.currentStates=[en],this._updateAnimationTargets(),this.markRedraw(),!hn&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),fn}}},Fe.prototype.useStates=function(en,tn,nn){if(!en.length)this.clearStates();else{var rn=[],an=this.currentStates,ln=en.length,cn=ln===an.length;if(cn){for(var un=0;un<ln;un++)if(en[un]!==an[un]){cn=!1;break}}if(cn)return;for(var un=0;un<ln;un++){var fn=en[un],hn=void 0;this.stateProxy&&(hn=this.stateProxy(fn,en)),hn||(hn=this.states[fn]),hn&&rn.push(hn)}var pn=rn[ln-1],gn=!!(pn&&pn.hoverLayer||nn);gn&&this._toggleHoverLayerFlag(!0);var mn=this._mergeStates(rn),_n=this.stateTransition;this.saveCurrentToNormalState(mn),this._applyStateObj(en.join(","),mn,this._normalState,!1,!tn&&!this.__inHover&&_n&&_n.duration>0,_n);var kn=this._textContent,Cn=this._textGuide;kn&&kn.useStates(en,tn,gn),Cn&&Cn.useStates(en,tn,gn),this._updateAnimationTargets(),this.currentStates=en.slice(),this.markRedraw(),!gn&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},Fe.prototype._updateAnimationTargets=function(){for(var en=0;en<this.animators.length;en++){var tn=this.animators[en];tn.targetName&&tn.changeTarget(this[tn.targetName])}},Fe.prototype.removeState=function(en){var tn=indexOf(this.currentStates,en);if(tn>=0){var nn=this.currentStates.slice();nn.splice(tn,1),this.useStates(nn)}},Fe.prototype.replaceState=function(en,tn,nn){var rn=this.currentStates.slice(),an=indexOf(rn,en),ln=indexOf(rn,tn)>=0;an>=0?ln?rn.splice(an,1):rn[an]=tn:nn&&!ln&&rn.push(tn),this.useStates(rn)},Fe.prototype.toggleState=function(en,tn){tn?this.useState(en,!0):this.removeState(en)},Fe.prototype._mergeStates=function(en){for(var tn={},nn,rn=0;rn<en.length;rn++){var an=en[rn];extend$1(tn,an),an.textConfig&&(nn=nn||{},extend$1(nn,an.textConfig))}return nn&&(tn.textConfig=nn),tn},Fe.prototype._applyStateObj=function(en,tn,nn,rn,an,ln){var cn=!(tn&&rn);tn&&tn.textConfig?(this.textConfig=extend$1({},rn?this.textConfig:nn.textConfig),extend$1(this.textConfig,tn.textConfig)):cn&&nn.textConfig&&(this.textConfig=nn.textConfig);for(var un={},fn=!1,hn=0;hn<PRIMARY_STATES_KEYS$1.length;hn++){var pn=PRIMARY_STATES_KEYS$1[hn],gn=an&&DEFAULT_ANIMATABLE_MAP[pn];tn&&tn[pn]!=null?gn?(fn=!0,un[pn]=tn[pn]):this[pn]=tn[pn]:cn&&nn[pn]!=null&&(gn?(fn=!0,un[pn]=nn[pn]):this[pn]=nn[pn])}if(!an)for(var hn=0;hn<this.animators.length;hn++){var mn=this.animators[hn],_n=mn.targetName;mn.getLoop()||mn.__changeFinalValue(_n?(tn||nn)[_n]:tn||nn)}fn&&this._transitionState(en,un,ln)},Fe.prototype._attachComponent=function(en){if(!(en.__zr&&!en.__hostTarget)&&en!==this){var tn=this.__zr;tn&&en.addSelfToZr(tn),en.__zr=tn,en.__hostTarget=this}},Fe.prototype._detachComponent=function(en){en.__zr&&en.removeSelfFromZr(en.__zr),en.__zr=null,en.__hostTarget=null},Fe.prototype.getClipPath=function(){return this._clipPath},Fe.prototype.setClipPath=function(en){this._clipPath&&this._clipPath!==en&&this.removeClipPath(),this._attachComponent(en),this._clipPath=en,this.markRedraw()},Fe.prototype.removeClipPath=function(){var en=this._clipPath;en&&(this._detachComponent(en),this._clipPath=null,this.markRedraw())},Fe.prototype.getTextContent=function(){return this._textContent},Fe.prototype.setTextContent=function(en){var tn=this._textContent;tn!==en&&(tn&&tn!==en&&this.removeTextContent(),en.innerTransformable=new Transformable$1,this._attachComponent(en),this._textContent=en,this.markRedraw())},Fe.prototype.setTextConfig=function(en){this.textConfig||(this.textConfig={}),extend$1(this.textConfig,en),this.markRedraw()},Fe.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},Fe.prototype.removeTextContent=function(){var en=this._textContent;en&&(en.innerTransformable=null,this._detachComponent(en),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},Fe.prototype.getTextGuideLine=function(){return this._textGuide},Fe.prototype.setTextGuideLine=function(en){this._textGuide&&this._textGuide!==en&&this.removeTextGuideLine(),this._attachComponent(en),this._textGuide=en,this.markRedraw()},Fe.prototype.removeTextGuideLine=function(){var en=this._textGuide;en&&(this._detachComponent(en),this._textGuide=null,this.markRedraw())},Fe.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var en=this.__zr;en&&(this.__inHover?en.refreshHover():en.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},Fe.prototype.dirty=function(){this.markRedraw()},Fe.prototype._toggleHoverLayerFlag=function(en){this.__inHover=en;var tn=this._textContent,nn=this._textGuide;tn&&(tn.__inHover=en),nn&&(nn.__inHover=en)},Fe.prototype.addSelfToZr=function(en){if(this.__zr!==en){this.__zr=en;var tn=this.animators;if(tn)for(var nn=0;nn<tn.length;nn++)en.animation.addAnimator(tn[nn]);this._clipPath&&this._clipPath.addSelfToZr(en),this._textContent&&this._textContent.addSelfToZr(en),this._textGuide&&this._textGuide.addSelfToZr(en)}},Fe.prototype.removeSelfFromZr=function(en){if(this.__zr){this.__zr=null;var tn=this.animators;if(tn)for(var nn=0;nn<tn.length;nn++)en.animation.removeAnimator(tn[nn]);this._clipPath&&this._clipPath.removeSelfFromZr(en),this._textContent&&this._textContent.removeSelfFromZr(en),this._textGuide&&this._textGuide.removeSelfFromZr(en)}},Fe.prototype.animate=function(en,tn,nn){var rn=en?this[en]:this,an=new Animator$1(rn,tn,nn);return en&&(an.targetName=en),this.addAnimator(an,en),an},Fe.prototype.addAnimator=function(en,tn){var nn=this.__zr,rn=this;en.during(function(){rn.updateDuringAnimation(tn)}).done(function(){var an=rn.animators,ln=indexOf(an,en);ln>=0&&an.splice(ln,1)}),this.animators.push(en),nn&&nn.animation.addAnimator(en),nn&&nn.wakeUp()},Fe.prototype.updateDuringAnimation=function(en){this.markRedraw()},Fe.prototype.stopAnimation=function(en,tn){for(var nn=this.animators,rn=nn.length,an=[],ln=0;ln<rn;ln++){var cn=nn[ln];!en||en===cn.scope?cn.stop(tn):an.push(cn)}return this.animators=an,this},Fe.prototype.animateTo=function(en,tn,nn){animateTo(this,en,tn,nn)},Fe.prototype.animateFrom=function(en,tn,nn){animateTo(this,en,tn,nn,!0)},Fe.prototype._transitionState=function(en,tn,nn,rn){for(var an=animateTo(this,tn,nn,rn),ln=0;ln<an.length;ln++)an[ln].__fromStateTransition=en},Fe.prototype.getBoundingRect=function(){return null},Fe.prototype.getPaintRect=function(){return null},Fe.initDefaultProps=function(){var en=Fe.prototype;en.type="element",en.name="",en.ignore=en.silent=en.isGroup=en.draggable=en.dragging=en.ignoreClip=en.__inHover=!1,en.__dirty=REDRAW_BIT;function tn(nn,rn,an,ln){Object.defineProperty(en,nn,{get:function(){if(!this[rn]){var un=this[rn]=[];cn(this,un)}return this[rn]},set:function(un){this[an]=un[0],this[ln]=un[1],this[rn]=un,cn(this,un)}});function cn(un,fn){Object.defineProperty(fn,0,{get:function(){return un[an]},set:function(hn){un[an]=hn}}),Object.defineProperty(fn,1,{get:function(){return un[ln]},set:function(hn){un[ln]=hn}})}}Object.defineProperty&&(tn("position","_legacyPos","x","y"),tn("scale","_legacyScale","scaleX","scaleY"),tn("origin","_legacyOrigin","originX","originY"))}(),Fe}();mixin(Element$1,Eventful$1);mixin(Element$1,Transformable$1);function animateTo(Fe,en,tn,nn,rn){tn=tn||{};var an=[];animateToShallow(Fe,"",Fe,en,tn,nn,an,rn);var ln=an.length,cn=!1,un=tn.done,fn=tn.aborted,hn=function(){cn=!0,ln--,ln<=0&&(cn?un&&un():fn&&fn())},pn=function(){ln--,ln<=0&&(cn?un&&un():fn&&fn())};ln||un&&un(),an.length>0&&tn.during&&an[0].during(function(_n,kn){tn.during(kn)});for(var gn=0;gn<an.length;gn++){var mn=an[gn];hn&&mn.done(hn),pn&&mn.aborted(pn),tn.force&&mn.duration(tn.duration),mn.start(tn.easing)}return an}function copyArrShallow(Fe,en,tn){for(var nn=0;nn<tn;nn++)Fe[nn]=en[nn]}function is2DArray(Fe){return isArrayLike(Fe[0])}function copyValue(Fe,en,tn){if(isArrayLike(en[tn]))if(isArrayLike(Fe[tn])||(Fe[tn]=[]),isTypedArray(en[tn])){var nn=en[tn].length;Fe[tn].length!==nn&&(Fe[tn]=new en[tn].constructor(nn),copyArrShallow(Fe[tn],en[tn],nn))}else{var rn=en[tn],an=Fe[tn],ln=rn.length;if(is2DArray(rn))for(var cn=rn[0].length,un=0;un<ln;un++)an[un]?copyArrShallow(an[un],rn[un],cn):an[un]=Array.prototype.slice.call(rn[un]);else copyArrShallow(an,rn,ln);an.length=rn.length}else Fe[tn]=en[tn]}function isValueSame(Fe,en){return Fe===en||isArrayLike(Fe)&&isArrayLike(en)&&is1DArraySame(Fe,en)}function is1DArraySame(Fe,en){var tn=Fe.length;if(tn!==en.length)return!1;for(var nn=0;nn<tn;nn++)if(Fe[nn]!==en[nn])return!1;return!0}function animateToShallow(Fe,en,tn,nn,rn,an,ln,cn){for(var un=keys(nn),fn=rn.duration,hn=rn.delay,pn=rn.additive,gn=rn.setToFinal,mn=!isObject$3(an),_n=Fe.animators,kn=[],Cn=0;Cn<un.length;Cn++){var xn=un[Cn],Sn=nn[xn];if(Sn!=null&&tn[xn]!=null&&(mn||an[xn]))if(isObject$3(Sn)&&!isArrayLike(Sn)&&!isGradientObject(Sn)){if(en){cn||(tn[xn]=Sn,Fe.updateDuringAnimation(en));continue}animateToShallow(Fe,xn,tn[xn],Sn,rn,an&&an[xn],ln,cn)}else kn.push(xn);else cn||(tn[xn]=Sn,Fe.updateDuringAnimation(en),kn.push(xn))}var Mn=kn.length;if(!pn&&Mn)for(var In=0;In<_n.length;In++){var On=_n[In];if(On.targetName===en){var Pn=On.stopTracks(kn);if(Pn){var Tn=indexOf(_n,On);_n.splice(Tn,1)}}}if(rn.force||(kn=filter(kn,function(jn){return!isValueSame(nn[jn],tn[jn])}),Mn=kn.length),Mn>0||rn.force&&!ln.length){var Nn=void 0,Hn=void 0,Un=void 0;if(cn){Hn={},gn&&(Nn={});for(var In=0;In<Mn;In++){var xn=kn[In];Hn[xn]=tn[xn],gn?Nn[xn]=nn[xn]:tn[xn]=nn[xn]}}else if(gn){Un={};for(var In=0;In<Mn;In++){var xn=kn[In];Un[xn]=cloneValue(tn[xn]),copyValue(tn,nn,xn)}}var On=new Animator$1(tn,!1,!1,pn?filter(_n,function(Yn){return Yn.targetName===en}):null);On.targetName=en,rn.scope&&(On.scope=rn.scope),gn&&Nn&&On.whenWithKeys(0,Nn,kn),Un&&On.whenWithKeys(0,Un,kn),On.whenWithKeys(fn??500,cn?Hn:nn,kn).delay(hn||0),Fe.addAnimator(On,en),ln.push(On)}}const Element$2=Element$1;var Group$3=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this)||this;return nn.isGroup=!0,nn._children=[],nn.attr(tn),nn}return en.prototype.childrenRef=function(){return this._children},en.prototype.children=function(){return this._children.slice()},en.prototype.childAt=function(tn){return this._children[tn]},en.prototype.childOfName=function(tn){for(var nn=this._children,rn=0;rn<nn.length;rn++)if(nn[rn].name===tn)return nn[rn]},en.prototype.childCount=function(){return this._children.length},en.prototype.add=function(tn){return tn&&tn!==this&&tn.parent!==this&&(this._children.push(tn),this._doAdd(tn)),this},en.prototype.addBefore=function(tn,nn){if(tn&&tn!==this&&tn.parent!==this&&nn&&nn.parent===this){var rn=this._children,an=rn.indexOf(nn);an>=0&&(rn.splice(an,0,tn),this._doAdd(tn))}return this},en.prototype.replace=function(tn,nn){var rn=indexOf(this._children,tn);return rn>=0&&this.replaceAt(nn,rn),this},en.prototype.replaceAt=function(tn,nn){var rn=this._children,an=rn[nn];if(tn&&tn!==this&&tn.parent!==this&&tn!==an){rn[nn]=tn,an.parent=null;var ln=this.__zr;ln&&an.removeSelfFromZr(ln),this._doAdd(tn)}return this},en.prototype._doAdd=function(tn){tn.parent&&tn.parent.remove(tn),tn.parent=this;var nn=this.__zr;nn&&nn!==tn.__zr&&tn.addSelfToZr(nn),nn&&nn.refresh()},en.prototype.remove=function(tn){var nn=this.__zr,rn=this._children,an=indexOf(rn,tn);return an<0?this:(rn.splice(an,1),tn.parent=null,nn&&tn.removeSelfFromZr(nn),nn&&nn.refresh(),this)},en.prototype.removeAll=function(){for(var tn=this._children,nn=this.__zr,rn=0;rn<tn.length;rn++){var an=tn[rn];nn&&an.removeSelfFromZr(nn),an.parent=null}return tn.length=0,this},en.prototype.eachChild=function(tn,nn){for(var rn=this._children,an=0;an<rn.length;an++){var ln=rn[an];tn.call(nn,ln,an)}return this},en.prototype.traverse=function(tn,nn){for(var rn=0;rn<this._children.length;rn++){var an=this._children[rn],ln=tn.call(nn,an);an.isGroup&&!ln&&an.traverse(tn,nn)}return this},en.prototype.addSelfToZr=function(tn){Fe.prototype.addSelfToZr.call(this,tn);for(var nn=0;nn<this._children.length;nn++){var rn=this._children[nn];rn.addSelfToZr(tn)}},en.prototype.removeSelfFromZr=function(tn){Fe.prototype.removeSelfFromZr.call(this,tn);for(var nn=0;nn<this._children.length;nn++){var rn=this._children[nn];rn.removeSelfFromZr(tn)}},en.prototype.getBoundingRect=function(tn){for(var nn=new BoundingRect$1(0,0,0,0),rn=tn||this._children,an=[],ln=null,cn=0;cn<rn.length;cn++){var un=rn[cn];if(!(un.ignore||un.invisible)){var fn=un.getBoundingRect(),hn=un.getLocalTransform(an);hn?(BoundingRect$1.applyTransform(nn,fn,hn),ln=ln||nn.clone(),ln.union(nn)):(ln=ln||fn.clone(),ln.union(fn))}}return ln||nn},en}(Element$2);Group$3.prototype.type="group";const Group$4=Group$3;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(Fe){delete instances$1[Fe]}function isDarkMode(Fe){if(!Fe)return!1;if(typeof Fe=="string")return lum(Fe,1)<DARK_MODE_THRESHOLD;if(Fe.colorStops){for(var en=Fe.colorStops,tn=0,nn=en.length,rn=0;rn<nn;rn++)tn+=lum(en[rn].color,1);return tn/=nn,tn<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function Fe(en,tn,nn){var rn=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,nn=nn||{},this.dom=tn,this.id=en;var an=new Storage$1,ln=nn.renderer||"canvas";painterCtors[ln]||(ln=keys(painterCtors)[0]),nn.useDirtyRect=nn.useDirtyRect==null?!1:nn.useDirtyRect;var cn=new painterCtors[ln](tn,an,nn,en),un=nn.ssr||cn.ssrOnly;this.storage=an,this.painter=cn;var fn=!env$1.node&&!env$1.worker&&!un?new HandlerProxy(cn.getViewportRoot(),cn.root):null,hn=nn.useCoarsePointer,pn=hn==null||hn==="auto"?env$1.touchEventsSupported:!!hn,gn=44,mn;pn&&(mn=retrieve2(nn.pointerSize,gn)),this.handler=new Handler$1(an,cn,fn,cn.root,mn),this.animation=new Animation$1({stage:{update:un?null:function(){return rn._flush(!0)}}}),un||this.animation.start()}return Fe.prototype.add=function(en){en&&(this.storage.addRoot(en),en.addSelfToZr(this),this.refresh())},Fe.prototype.remove=function(en){en&&(this.storage.delRoot(en),en.removeSelfFromZr(this),this.refresh())},Fe.prototype.configLayer=function(en,tn){this.painter.configLayer&&this.painter.configLayer(en,tn),this.refresh()},Fe.prototype.setBackgroundColor=function(en){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(en),this.refresh(),this._backgroundColor=en,this._darkMode=isDarkMode(en)},Fe.prototype.getBackgroundColor=function(){return this._backgroundColor},Fe.prototype.setDarkMode=function(en){this._darkMode=en},Fe.prototype.isDarkMode=function(){return this._darkMode},Fe.prototype.refreshImmediately=function(en){en||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},Fe.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},Fe.prototype.flush=function(){this._flush(!1)},Fe.prototype._flush=function(en){var tn,nn=getTime();this._needsRefresh&&(tn=!0,this.refreshImmediately(en)),this._needsRefreshHover&&(tn=!0,this.refreshHoverImmediately());var rn=getTime();tn?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:rn-nn})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},Fe.prototype.setSleepAfterStill=function(en){this._sleepAfterStill=en},Fe.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},Fe.prototype.refreshHover=function(){this._needsRefreshHover=!0},Fe.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},Fe.prototype.resize=function(en){en=en||{},this.painter.resize(en.width,en.height),this.handler.resize()},Fe.prototype.clearAnimation=function(){this.animation.clear()},Fe.prototype.getWidth=function(){return this.painter.getWidth()},Fe.prototype.getHeight=function(){return this.painter.getHeight()},Fe.prototype.setCursorStyle=function(en){this.handler.setCursorStyle(en)},Fe.prototype.findHover=function(en,tn){return this.handler.findHover(en,tn)},Fe.prototype.on=function(en,tn,nn){return this.handler.on(en,tn,nn),this},Fe.prototype.off=function(en,tn){this.handler.off(en,tn)},Fe.prototype.trigger=function(en,tn){this.handler.trigger(en,tn)},Fe.prototype.clear=function(){for(var en=this.storage.getRoots(),tn=0;tn<en.length;tn++)en[tn]instanceof Group$4&&en[tn].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},Fe.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},Fe}();function init$2(Fe,en){var tn=new ZRender(guid(),Fe,en);return instances$1[tn.id]=tn,tn}function dispose$1(Fe){Fe.dispose()}function disposeAll(){for(var Fe in instances$1)instances$1.hasOwnProperty(Fe)&&instances$1[Fe].dispose();instances$1={}}function getInstance(Fe){return instances$1[Fe]}function registerPainter(Fe,en){painterCtors[Fe]=en}var version$1="5.4.4";const zrender=Object.freeze(Object.defineProperty({__proto__:null,dispose:dispose$1,disposeAll,getInstance,init:init$2,registerPainter,version:version$1},Symbol.toStringTag,{value:"Module"}));var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(Fe){return Fe.replace(/^\s+|\s+$/g,"")}function linearMap$2(Fe,en,tn,nn){var rn=en[0],an=en[1],ln=tn[0],cn=tn[1],un=an-rn,fn=cn-ln;if(un===0)return fn===0?ln:(ln+cn)/2;if(nn)if(un>0){if(Fe<=rn)return ln;if(Fe>=an)return cn}else{if(Fe>=rn)return ln;if(Fe<=an)return cn}else{if(Fe===rn)return ln;if(Fe===an)return cn}return(Fe-rn)/un*fn+ln}function parsePercent(Fe,en){switch(Fe){case"center":case"middle":Fe="50%";break;case"left":case"top":Fe="0%";break;case"right":case"bottom":Fe="100%";break}return isString(Fe)?_trim(Fe).match(/%$/)?parseFloat(Fe)/100*en:parseFloat(Fe):Fe==null?NaN:+Fe}function round$3(Fe,en,tn){return en==null&&(en=10),en=Math.min(Math.max(0,en),ROUND_SUPPORTED_PRECISION_MAX),Fe=(+Fe).toFixed(en),tn?Fe:+Fe}function asc$2(Fe){return Fe.sort(function(en,tn){return en-tn}),Fe}function getPrecision(Fe){if(Fe=+Fe,isNaN(Fe))return 0;if(Fe>1e-14){for(var en=1,tn=0;tn<15;tn++,en*=10)if(Math.round(Fe*en)/en===Fe)return tn}return getPrecisionSafe(Fe)}function getPrecisionSafe(Fe){var en=Fe.toString().toLowerCase(),tn=en.indexOf("e"),nn=tn>0?+en.slice(tn+1):0,rn=tn>0?tn:en.length,an=en.indexOf("."),ln=an<0?0:rn-1-an;return Math.max(0,ln-nn)}function getPixelPrecision(Fe,en){var tn=Math.log,nn=Math.LN10,rn=Math.floor(tn(Fe[1]-Fe[0])/nn),an=Math.round(tn(Math.abs(en[1]-en[0]))/nn),ln=Math.min(Math.max(-rn+an,0),20);return isFinite(ln)?ln:20}function getPercentWithPrecision(Fe,en,tn){if(!Fe[en])return 0;var nn=getPercentSeats(Fe,tn);return nn[en]||0}function getPercentSeats(Fe,en){var tn=reduce(Fe,function(mn,_n){return mn+(isNaN(_n)?0:_n)},0);if(tn===0)return[];for(var nn=Math.pow(10,en),rn=map$1(Fe,function(mn){return(isNaN(mn)?0:mn)/tn*nn*100}),an=nn*100,ln=map$1(rn,function(mn){return Math.floor(mn)}),cn=reduce(ln,function(mn,_n){return mn+_n},0),un=map$1(rn,function(mn,_n){return mn-ln[_n]});cn<an;){for(var fn=Number.NEGATIVE_INFINITY,hn=null,pn=0,gn=un.length;pn<gn;++pn)un[pn]>fn&&(fn=un[pn],hn=pn);++ln[hn],un[hn]=0,++cn}return map$1(ln,function(mn){return mn/nn})}function addSafe(Fe,en){var tn=Math.max(getPrecision(Fe),getPrecision(en)),nn=Fe+en;return tn>ROUND_SUPPORTED_PRECISION_MAX?nn:round$3(nn,tn)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(Fe){var en=Math.PI*2;return(Fe%en+en)%en}function isRadianAroundZero(Fe){return Fe>-RADIAN_EPSILON&&Fe<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(Fe){if(Fe instanceof Date)return Fe;if(isString(Fe)){var en=TIME_REG.exec(Fe);if(!en)return new Date(NaN);if(en[8]){var tn=+en[4]||0;return en[8].toUpperCase()!=="Z"&&(tn-=+en[8].slice(0,3)),new Date(Date.UTC(+en[1],+(en[2]||1)-1,+en[3]||1,tn,+(en[5]||0),+en[6]||0,en[7]?+en[7].substring(0,3):0))}else return new Date(+en[1],+(en[2]||1)-1,+en[3]||1,+en[4]||0,+(en[5]||0),+en[6]||0,en[7]?+en[7].substring(0,3):0)}else if(Fe==null)return new Date(NaN);return new Date(Math.round(Fe))}function quantity(Fe){return Math.pow(10,quantityExponent(Fe))}function quantityExponent(Fe){if(Fe===0)return 0;var en=Math.floor(Math.log(Fe)/Math.LN10);return Fe/Math.pow(10,en)>=10&&en++,en}function nice(Fe,en){var tn=quantityExponent(Fe),nn=Math.pow(10,tn),rn=Fe/nn,an;return en?rn<1.5?an=1:rn<2.5?an=2:rn<4?an=3:rn<7?an=5:an=10:rn<1?an=1:rn<2?an=2:rn<3?an=3:rn<5?an=5:an=10,Fe=an*nn,tn>=-20?+Fe.toFixed(tn<0?-tn:0):Fe}function quantile(Fe,en){var tn=(Fe.length-1)*en+1,nn=Math.floor(tn),rn=+Fe[nn-1],an=tn-nn;return an?rn+an*(Fe[nn]-rn):rn}function reformIntervals(Fe){Fe.sort(function(un,fn){return cn(un,fn,0)?-1:1});for(var en=-1/0,tn=1,nn=0;nn<Fe.length;){for(var rn=Fe[nn].interval,an=Fe[nn].close,ln=0;ln<2;ln++)rn[ln]<=en&&(rn[ln]=en,an[ln]=ln?1:1-tn),en=rn[ln],tn=an[ln];rn[0]===rn[1]&&an[0]*an[1]!==1?Fe.splice(nn,1):nn++}return Fe;function cn(un,fn,hn){return un.interval[hn]<fn.interval[hn]||un.interval[hn]===fn.interval[hn]&&(un.close[hn]-fn.close[hn]===(hn?-1:1)||!hn&&cn(un,fn,1))}}function numericToNumber(Fe){var en=parseFloat(Fe);return en==Fe&&(en!==0||!isString(Fe)||Fe.indexOf("x")<=0)?en:NaN}function isNumeric(Fe){return!isNaN(numericToNumber(Fe))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(Fe,en){return en===0?Fe:getGreatestCommonDividor(en,Fe%en)}function getLeastCommonMultiple(Fe,en){return Fe==null?en:en==null?Fe:Fe*en/getGreatestCommonDividor(Fe,en)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(Fe,en,tn){if(hasConsole){if(tn){if(storedLogs[en])return;storedLogs[en]=!0}console[Fe](ECHARTS_PREFIX+en)}}function warn(Fe,en){outputLog("warn",Fe,en)}function throwError(Fe){throw new Error(Fe)}function interpolateNumber(Fe,en,tn){return(en-Fe)*tn+Fe}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(Fe){return Fe instanceof Array?Fe:Fe==null?[]:[Fe]}function defaultEmphasis(Fe,en,tn){if(Fe){Fe[en]=Fe[en]||{},Fe.emphasis=Fe.emphasis||{},Fe.emphasis[en]=Fe.emphasis[en]||{};for(var nn=0,rn=tn.length;nn<rn;nn++){var an=tn[nn];!Fe.emphasis[en].hasOwnProperty(an)&&Fe[en].hasOwnProperty(an)&&(Fe.emphasis[en][an]=Fe[en][an])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(Fe){return isObject$3(Fe)&&!isArray$1(Fe)&&!(Fe instanceof Date)?Fe.value:Fe}function isDataItemOption(Fe){return isObject$3(Fe)&&!(Fe instanceof Array)}function mappingToExists(Fe,en,tn){var nn=tn==="normalMerge",rn=tn==="replaceMerge",an=tn==="replaceAll";Fe=Fe||[],en=(en||[]).slice();var ln=createHashMap();each$f(en,function(un,fn){if(!isObject$3(un)){en[fn]=null;return}});var cn=prepareResult(Fe,ln,tn);return(nn||rn)&&mappingById(cn,Fe,ln,en),nn&&mappingByName(cn,en),nn||rn?mappingByIndex(cn,en,rn):an&&mappingInReplaceAllMode(cn,en),makeIdAndName(cn),cn}function prepareResult(Fe,en,tn){var nn=[];if(tn==="replaceAll")return nn;for(var rn=0;rn<Fe.length;rn++){var an=Fe[rn];an&&an.id!=null&&en.set(an.id,rn),nn.push({existing:tn==="replaceMerge"||isComponentIdInternal(an)?null:an,newOption:null,keyInfo:null,brandNew:null})}return nn}function mappingById(Fe,en,tn,nn){each$f(nn,function(rn,an){if(!(!rn||rn.id==null)){var ln=makeComparableKey(rn.id),cn=tn.get(ln);if(cn!=null){var un=Fe[cn];assert(!un.newOption,'Duplicated option on id "'+ln+'".'),un.newOption=rn,un.existing=en[cn],nn[an]=null}}})}function mappingByName(Fe,en){each$f(en,function(tn,nn){if(!(!tn||tn.name==null))for(var rn=0;rn<Fe.length;rn++){var an=Fe[rn].existing;if(!Fe[rn].newOption&&an&&(an.id==null||tn.id==null)&&!isComponentIdInternal(tn)&&!isComponentIdInternal(an)&&keyExistAndEqual("name",an,tn)){Fe[rn].newOption=tn,en[nn]=null;return}}})}function mappingByIndex(Fe,en,tn){each$f(en,function(nn){if(nn){for(var rn,an=0;(rn=Fe[an])&&(rn.newOption||isComponentIdInternal(rn.existing)||rn.existing&&nn.id!=null&&!keyExistAndEqual("id",nn,rn.existing));)an++;rn?(rn.newOption=nn,rn.brandNew=tn):Fe.push({newOption:nn,brandNew:tn,existing:null,keyInfo:null}),an++}})}function mappingInReplaceAllMode(Fe,en){each$f(en,function(tn){Fe.push({newOption:tn,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(Fe){var en=createHashMap();each$f(Fe,function(tn){var nn=tn.existing;nn&&en.set(nn.id,tn)}),each$f(Fe,function(tn){var nn=tn.newOption;assert(!nn||nn.id==null||!en.get(nn.id)||en.get(nn.id)===tn,"id duplicates: "+(nn&&nn.id)),nn&&nn.id!=null&&en.set(nn.id,tn),!tn.keyInfo&&(tn.keyInfo={})}),each$f(Fe,function(tn,nn){var rn=tn.existing,an=tn.newOption,ln=tn.keyInfo;if(isObject$3(an)){if(ln.name=an.name!=null?makeComparableKey(an.name):rn?rn.name:DUMMY_COMPONENT_NAME_PREFIX+nn,rn)ln.id=makeComparableKey(rn.id);else if(an.id!=null)ln.id=makeComparableKey(an.id);else{var cn=0;do ln.id="\0"+ln.name+"\0"+cn++;while(en.get(ln.id))}en.set(ln.id,tn)}})}function keyExistAndEqual(Fe,en,tn){var nn=convertOptionIdName(en[Fe],null),rn=convertOptionIdName(tn[Fe],null);return nn!=null&&rn!=null&&nn===rn}function makeComparableKey(Fe){return convertOptionIdName(Fe,"")}function convertOptionIdName(Fe,en){return Fe==null?en:isString(Fe)?Fe:isNumber(Fe)||isStringSafe(Fe)?Fe+"":en}function isNameSpecified(Fe){var en=Fe.name;return!!(en&&en.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(Fe){return Fe&&Fe.id!=null&&makeComparableKey(Fe.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(Fe){return INTERNAL_COMPONENT_ID_PREFIX+Fe}function setComponentTypeToKeyInfo(Fe,en,tn){each$f(Fe,function(nn){var rn=nn.newOption;isObject$3(rn)&&(nn.keyInfo.mainType=en,nn.keyInfo.subType=determineSubType(en,rn,nn.existing,tn))})}function determineSubType(Fe,en,tn,nn){var rn=en.type?en.type:tn?tn.subType:nn.determineSubType(Fe,en);return rn}function compressBatches(Fe,en){var tn={},nn={};return rn(Fe||[],tn),rn(en||[],nn,tn),[an(tn),an(nn)];function rn(ln,cn,un){for(var fn=0,hn=ln.length;fn<hn;fn++){var pn=convertOptionIdName(ln[fn].seriesId,null);if(pn==null)return;for(var gn=normalizeToArray(ln[fn].dataIndex),mn=un&&un[pn],_n=0,kn=gn.length;_n<kn;_n++){var Cn=gn[_n];mn&&mn[Cn]?mn[Cn]=null:(cn[pn]||(cn[pn]={}))[Cn]=1}}}function an(ln,cn){var un=[];for(var fn in ln)if(ln.hasOwnProperty(fn)&&ln[fn]!=null)if(cn)un.push(+fn);else{var hn=an(ln[fn],!0);hn.length&&un.push({seriesId:fn,dataIndex:hn})}return un}}function queryDataIndex(Fe,en){if(en.dataIndexInside!=null)return en.dataIndexInside;if(en.dataIndex!=null)return isArray$1(en.dataIndex)?map$1(en.dataIndex,function(tn){return Fe.indexOfRawIndex(tn)}):Fe.indexOfRawIndex(en.dataIndex);if(en.name!=null)return isArray$1(en.name)?map$1(en.name,function(tn){return Fe.indexOfName(tn)}):Fe.indexOfName(en.name)}function makeInner(){var Fe="__ec_inner_"+innerUniqueIndex++;return function(en){return en[Fe]||(en[Fe]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(Fe,en,tn){var nn=preParseFinder(en,tn),rn=nn.mainTypeSpecified,an=nn.queryOptionMap,ln=nn.others,cn=ln,un=tn?tn.defaultMainType:null;return!rn&&un&&an.set(un,{}),an.each(function(fn,hn){var pn=queryReferringComponents(Fe,hn,fn,{useDefault:un===hn,enableAll:tn&&tn.enableAll!=null?tn.enableAll:!0,enableNone:tn&&tn.enableNone!=null?tn.enableNone:!0});cn[hn+"Models"]=pn.models,cn[hn+"Model"]=pn.models[0]}),cn}function preParseFinder(Fe,en){var tn;if(isString(Fe)){var nn={};nn[Fe+"Index"]=0,tn=nn}else tn=Fe;var rn=createHashMap(),an={},ln=!1;return each$f(tn,function(cn,un){if(un==="dataIndex"||un==="dataIndexInside"){an[un]=cn;return}var fn=un.match(/^(\w+)(Index|Id|Name)$/)||[],hn=fn[1],pn=(fn[2]||"").toLowerCase();if(!(!hn||!pn||en&&en.includeMainTypes&&indexOf(en.includeMainTypes,hn)<0)){ln=ln||!!hn;var gn=rn.get(hn)||rn.set(hn,{});gn[pn]=cn}}),{mainTypeSpecified:ln,queryOptionMap:rn,others:an}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(Fe,en,tn,nn){nn=nn||SINGLE_REFERRING;var rn=tn.index,an=tn.id,ln=tn.name,cn={models:null,specified:rn!=null||an!=null||ln!=null};if(!cn.specified){var un=void 0;return cn.models=nn.useDefault&&(un=Fe.getComponent(en))?[un]:[],cn}return rn==="none"||rn===!1?(assert(nn.enableNone,'`"none"` or `false` is not a valid value on index option.'),cn.models=[],cn):(rn==="all"&&(assert(nn.enableAll,'`"all"` is not a valid value on index option.'),rn=an=ln=null),cn.models=Fe.queryComponents({mainType:en,index:rn,id:an,name:ln}),cn)}function setAttribute(Fe,en,tn){Fe.setAttribute?Fe.setAttribute(en,tn):Fe[en]=tn}function getAttribute(Fe,en){return Fe.getAttribute?Fe.getAttribute(en):Fe[en]}function getTooltipRenderMode(Fe){return Fe==="auto"?env$1.domSupported?"html":"richText":Fe||"html"}function groupData(Fe,en){var tn=createHashMap(),nn=[];return each$f(Fe,function(rn){var an=en(rn);(tn.get(an)||(nn.push(an),tn.set(an,[]))).push(rn)}),{keys:nn,buckets:tn}}function interpolateRawValues(Fe,en,tn,nn,rn){var an=en==null||en==="auto";if(nn==null)return nn;if(isNumber(nn)){var ln=interpolateNumber(tn||0,nn,rn);return round$3(ln,an?Math.max(getPrecision(tn||0),getPrecision(nn)):en)}else{if(isString(nn))return rn<1?tn:nn;for(var cn=[],un=tn,fn=nn,hn=Math.max(un?un.length:0,fn.length),pn=0;pn<hn;++pn){var gn=Fe.getDimensionInfo(pn);if(gn&&gn.type==="ordinal")cn[pn]=(rn<1&&un?un:fn)[pn];else{var mn=un&&un[pn]?un[pn]:0,_n=fn[pn],ln=interpolateNumber(mn,_n,rn);cn[pn]=round$3(ln,an?Math.max(getPrecision(mn),getPrecision(_n)):en)}}return cn}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(Fe){var en={main:"",sub:""};if(Fe){var tn=Fe.split(TYPE_DELIMITER);en.main=tn[0]||"",en.sub=tn[1]||""}return en}function checkClassType(Fe){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(Fe),'componentType "'+Fe+'" illegal')}function isExtendedClass(Fe){return!!(Fe&&Fe[IS_EXTENDED_CLASS])}function enableClassExtend(Fe,en){Fe.$constructor=Fe,Fe.extend=function(tn){var nn=this,rn;return isESClass(nn)?rn=function(an){__extends(ln,an);function ln(){return an.apply(this,arguments)||this}return ln}(nn):(rn=function(){(tn.$constructor||nn).apply(this,arguments)},inherits(rn,this)),extend$1(rn.prototype,tn),rn[IS_EXTENDED_CLASS]=!0,rn.extend=this.extend,rn.superCall=superCall,rn.superApply=superApply,rn.superClass=nn,rn}}function isESClass(Fe){return isFunction(Fe)&&/^class\s/.test(Function.prototype.toString.call(Fe))}function mountExtend(Fe,en){Fe.extend=en.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(Fe){var en=["__\0is_clz",classBase++].join("_");Fe.prototype[en]=!0,Fe.isInstance=function(tn){return!!(tn&&tn[en])}}function superCall(Fe,en){for(var tn=[],nn=2;nn<arguments.length;nn++)tn[nn-2]=arguments[nn];return this.superClass.prototype[en].apply(Fe,tn)}function superApply(Fe,en,tn){return this.superClass.prototype[en].apply(Fe,tn)}function enableClassManagement(Fe){var en={};Fe.registerClass=function(nn){var rn=nn.type||nn.prototype.type;if(rn){checkClassType(rn),nn.prototype.type=rn;var an=parseClassType(rn);if(!an.sub)en[an.main]=nn;else if(an.sub!==IS_CONTAINER){var ln=tn(an);ln[an.sub]=nn}}return nn},Fe.getClass=function(nn,rn,an){var ln=en[nn];if(ln&&ln[IS_CONTAINER]&&(ln=rn?ln[rn]:null),an&&!ln)throw new Error(rn?"Component "+nn+"."+(rn||"")+" is used but not imported.":nn+".type should be specified.");return ln},Fe.getClassesByMainType=function(nn){var rn=parseClassType(nn),an=[],ln=en[rn.main];return ln&&ln[IS_CONTAINER]?each$f(ln,function(cn,un){un!==IS_CONTAINER&&an.push(cn)}):an.push(ln),an},Fe.hasClass=function(nn){var rn=parseClassType(nn);return!!en[rn.main]},Fe.getAllClassMainTypes=function(){var nn=[];return each$f(en,function(rn,an){nn.push(an)}),nn},Fe.hasSubTypes=function(nn){var rn=parseClassType(nn),an=en[rn.main];return an&&an[IS_CONTAINER]};function tn(nn){var rn=en[nn.main];return(!rn||!rn[IS_CONTAINER])&&(rn=en[nn.main]={},rn[IS_CONTAINER]=!0),rn}}function makeStyleMapper(Fe,en){for(var tn=0;tn<Fe.length;tn++)Fe[tn][1]||(Fe[tn][1]=Fe[tn][0]);return en=en||!1,function(nn,rn,an){for(var ln={},cn=0;cn<Fe.length;cn++){var un=Fe[cn][1];if(!(rn&&indexOf(rn,un)>=0||an&&indexOf(an,un)<0)){var fn=nn.getShallow(un,en);fn!=null&&(ln[Fe[cn][0]]=fn)}}return ln}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function Fe(){}return Fe.prototype.getAreaStyle=function(en,tn){return getAreaStyle(this,en,tn)},Fe}(),globalImageCache=new LRU$1(50);function findExistImage(Fe){if(typeof Fe=="string"){var en=globalImageCache.get(Fe);return en&&en.image}else return Fe}function createOrUpdateImage(Fe,en,tn,nn,rn){if(Fe)if(typeof Fe=="string"){if(en&&en.__zrImageSrc===Fe||!tn)return en;var an=globalImageCache.get(Fe),ln={hostEl:tn,cb:nn,cbPayload:rn};return an?(en=an.image,!isImageReady(en)&&an.pending.push(ln)):(en=platformApi.loadImage(Fe,imageOnLoad,imageOnLoad),en.__zrImageSrc=Fe,globalImageCache.put(Fe,en.__cachedImgObj={image:en,pending:[ln]})),en}else return Fe;else return en}function imageOnLoad(){var Fe=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var en=0;en<Fe.pending.length;en++){var tn=Fe.pending[en],nn=tn.cb;nn&&nn(this,tn.cbPayload),tn.hostEl.dirty()}Fe.pending.length=0}function isImageReady(Fe){return Fe&&Fe.width&&Fe.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(Fe,en,tn,nn,rn){if(!en)return"";var an=(Fe+"").split(`
`);rn=prepareTruncateOptions(en,tn,nn,rn);for(var ln=0,cn=an.length;ln<cn;ln++)an[ln]=truncateSingleLine(an[ln],rn);return an.join(`
`)}function prepareTruncateOptions(Fe,en,tn,nn){nn=nn||{};var rn=extend$1({},nn);rn.font=en,tn=retrieve2(tn,"..."),rn.maxIterations=retrieve2(nn.maxIterations,2);var an=rn.minChar=retrieve2(nn.minChar,0);rn.cnCharWidth=getWidth("å½",en);var ln=rn.ascCharWidth=getWidth("a",en);rn.placeholder=retrieve2(nn.placeholder,"");for(var cn=Fe=Math.max(0,Fe-1),un=0;un<an&&cn>=ln;un++)cn-=ln;var fn=getWidth(tn,en);return fn>cn&&(tn="",fn=0),cn=Fe-fn,rn.ellipsis=tn,rn.ellipsisWidth=fn,rn.contentWidth=cn,rn.containerWidth=Fe,rn}function truncateSingleLine(Fe,en){var tn=en.containerWidth,nn=en.font,rn=en.contentWidth;if(!tn)return"";var an=getWidth(Fe,nn);if(an<=tn)return Fe;for(var ln=0;;ln++){if(an<=rn||ln>=en.maxIterations){Fe+=en.ellipsis;break}var cn=ln===0?estimateLength(Fe,rn,en.ascCharWidth,en.cnCharWidth):an>0?Math.floor(Fe.length*rn/an):0;Fe=Fe.substr(0,cn),an=getWidth(Fe,nn)}return Fe===""&&(Fe=en.placeholder),Fe}function estimateLength(Fe,en,tn,nn){for(var rn=0,an=0,ln=Fe.length;an<ln&&rn<en;an++){var cn=Fe.charCodeAt(an);rn+=0<=cn&&cn<=127?tn:nn}return an}function parsePlainText(Fe,en){Fe!=null&&(Fe+="");var tn=en.overflow,nn=en.padding,rn=en.font,an=tn==="truncate",ln=getLineHeight(rn),cn=retrieve2(en.lineHeight,ln),un=!!en.backgroundColor,fn=en.lineOverflow==="truncate",hn=en.width,pn;hn!=null&&(tn==="break"||tn==="breakAll")?pn=Fe?wrapText(Fe,en.font,hn,tn==="breakAll",0).lines:[]:pn=Fe?Fe.split(`
`):[];var gn=pn.length*cn,mn=retrieve2(en.height,gn);if(gn>mn&&fn){var _n=Math.floor(mn/cn);pn=pn.slice(0,_n)}if(Fe&&an&&hn!=null)for(var kn=prepareTruncateOptions(hn,rn,en.ellipsis,{minChar:en.truncateMinChar,placeholder:en.placeholder}),Cn=0;Cn<pn.length;Cn++)pn[Cn]=truncateSingleLine(pn[Cn],kn);for(var xn=mn,Sn=0,Cn=0;Cn<pn.length;Cn++)Sn=Math.max(getWidth(pn[Cn],rn),Sn);hn==null&&(hn=Sn);var Mn=Sn;return nn&&(xn+=nn[0]+nn[2],Mn+=nn[1]+nn[3],hn+=nn[1]+nn[3]),un&&(Mn=hn),{lines:pn,height:mn,outerWidth:Mn,outerHeight:xn,lineHeight:cn,calculatedLineHeight:ln,contentWidth:Sn,contentHeight:gn,width:hn}}var RichTextToken=function(){function Fe(){}return Fe}(),RichTextLine=function(){function Fe(en){this.tokens=[],en&&(this.tokens=en)}return Fe}(),RichTextContentBlock=function(){function Fe(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return Fe}();function parseRichText(Fe,en){var tn=new RichTextContentBlock;if(Fe!=null&&(Fe+=""),!Fe)return tn;for(var nn=en.width,rn=en.height,an=en.overflow,ln=(an==="break"||an==="breakAll")&&nn!=null?{width:nn,accumWidth:0,breakAll:an==="breakAll"}:null,cn=STYLE_REG.lastIndex=0,un;(un=STYLE_REG.exec(Fe))!=null;){var fn=un.index;fn>cn&&pushTokens(tn,Fe.substring(cn,fn),en,ln),pushTokens(tn,un[2],en,ln,un[1]),cn=STYLE_REG.lastIndex}cn<Fe.length&&pushTokens(tn,Fe.substring(cn,Fe.length),en,ln);var hn=[],pn=0,gn=0,mn=en.padding,_n=an==="truncate",kn=en.lineOverflow==="truncate";function Cn(Jr,ci,ti){Jr.width=ci,Jr.lineHeight=ti,pn+=ti,gn=Math.max(gn,ci)}e:for(var xn=0;xn<tn.lines.length;xn++){for(var Sn=tn.lines[xn],Mn=0,In=0,On=0;On<Sn.tokens.length;On++){var Pn=Sn.tokens[On],Tn=Pn.styleName&&en.rich[Pn.styleName]||{},Nn=Pn.textPadding=Tn.padding,Hn=Nn?Nn[1]+Nn[3]:0,Un=Pn.font=Tn.font||en.font;Pn.contentHeight=getLineHeight(Un);var jn=retrieve2(Tn.height,Pn.contentHeight);if(Pn.innerHeight=jn,Nn&&(jn+=Nn[0]+Nn[2]),Pn.height=jn,Pn.lineHeight=retrieve3(Tn.lineHeight,en.lineHeight,jn),Pn.align=Tn&&Tn.align||en.align,Pn.verticalAlign=Tn&&Tn.verticalAlign||"middle",kn&&rn!=null&&pn+Pn.lineHeight>rn){On>0?(Sn.tokens=Sn.tokens.slice(0,On),Cn(Sn,In,Mn),tn.lines=tn.lines.slice(0,xn+1)):tn.lines=tn.lines.slice(0,xn);break e}var Yn=Tn.width,Wn=Yn==null||Yn==="auto";if(typeof Yn=="string"&&Yn.charAt(Yn.length-1)==="%")Pn.percentWidth=Yn,hn.push(Pn),Pn.contentWidth=getWidth(Pn.text,Un);else{if(Wn){var Qn=Tn.backgroundColor,Xn=Qn&&Qn.image;Xn&&(Xn=findExistImage(Xn),isImageReady(Xn)&&(Pn.width=Math.max(Pn.width,Xn.width*jn/Xn.height)))}var jr=_n&&nn!=null?nn-In:null;jr!=null&&jr<Pn.width?!Wn||jr<Hn?(Pn.text="",Pn.width=Pn.contentWidth=0):(Pn.text=truncateText(Pn.text,jr-Hn,Un,en.ellipsis,{minChar:en.truncateMinChar}),Pn.width=Pn.contentWidth=getWidth(Pn.text,Un)):Pn.contentWidth=getWidth(Pn.text,Un)}Pn.width+=Hn,In+=Pn.width,Tn&&(Mn=Math.max(Mn,Pn.lineHeight))}Cn(Sn,In,Mn)}tn.outerWidth=tn.width=retrieve2(nn,gn),tn.outerHeight=tn.height=retrieve2(rn,pn),tn.contentHeight=pn,tn.contentWidth=gn,mn&&(tn.outerWidth+=mn[1]+mn[3],tn.outerHeight+=mn[0]+mn[2]);for(var xn=0;xn<hn.length;xn++){var Pn=hn[xn],Wr=Pn.percentWidth;Pn.width=parseInt(Wr,10)/100*tn.width}return tn}function pushTokens(Fe,en,tn,nn,rn){var an=en==="",ln=rn&&tn.rich[rn]||{},cn=Fe.lines,un=ln.font||tn.font,fn=!1,hn,pn;if(nn){var gn=ln.padding,mn=gn?gn[1]+gn[3]:0;if(ln.width!=null&&ln.width!=="auto"){var _n=parsePercent$1(ln.width,nn.width)+mn;cn.length>0&&_n+nn.accumWidth>nn.width&&(hn=en.split(`
`),fn=!0),nn.accumWidth=_n}else{var kn=wrapText(en,un,nn.width,nn.breakAll,nn.accumWidth);nn.accumWidth=kn.accumWidth+mn,pn=kn.linesWidths,hn=kn.lines}}else hn=en.split(`
`);for(var Cn=0;Cn<hn.length;Cn++){var xn=hn[Cn],Sn=new RichTextToken;if(Sn.styleName=rn,Sn.text=xn,Sn.isLineHolder=!xn&&!an,typeof ln.width=="number"?Sn.width=ln.width:Sn.width=pn?pn[Cn]:getWidth(xn,un),!Cn&&!fn){var Mn=(cn[cn.length-1]||(cn[0]=new RichTextLine)).tokens,In=Mn.length;In===1&&Mn[0].isLineHolder?Mn[0]=Sn:(xn||!In||an)&&Mn.push(Sn)}else cn.push(new RichTextLine([Sn]))}}function isAlphabeticLetter(Fe){var en=Fe.charCodeAt(0);return en>=32&&en<=591||en>=880&&en<=4351||en>=4608&&en<=5119||en>=7680&&en<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(Fe,en){return Fe[en]=!0,Fe},{});function isWordBreakChar(Fe){return isAlphabeticLetter(Fe)?!!breakCharMap[Fe]:!0}function wrapText(Fe,en,tn,nn,rn){for(var an=[],ln=[],cn="",un="",fn=0,hn=0,pn=0;pn<Fe.length;pn++){var gn=Fe.charAt(pn);if(gn===`
`){un&&(cn+=un,hn+=fn),an.push(cn),ln.push(hn),cn="",un="",fn=0,hn=0;continue}var mn=getWidth(gn,en),_n=nn?!1:!isWordBreakChar(gn);if(an.length?hn+mn>tn:rn+hn+mn>tn){hn?(cn||un)&&(_n?(cn||(cn=un,un="",fn=0,hn=fn),an.push(cn),ln.push(hn-fn),un+=gn,fn+=mn,cn="",hn=fn):(un&&(cn+=un,un="",fn=0),an.push(cn),ln.push(hn),cn=gn,hn=mn)):_n?(an.push(un),ln.push(fn),un=gn,fn=mn):(an.push(gn),ln.push(mn));continue}hn+=mn,_n?(un+=gn,fn+=mn):(un&&(cn+=un,un="",fn=0),cn+=gn)}return!an.length&&!cn&&(cn=Fe,un="",fn=0),un&&(cn+=un),cn&&(an.push(cn),ln.push(hn)),an.length===1&&(hn+=rn),{accumWidth:hn,lines:an,linesWidths:ln}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype._init=function(tn){for(var nn=keys(tn),rn=0;rn<nn.length;rn++){var an=nn[rn];an==="style"?this.useStyle(tn[an]):Fe.prototype.attrKV.call(this,an,tn[an])}this.style||this.useStyle({})},en.prototype.beforeBrush=function(){},en.prototype.afterBrush=function(){},en.prototype.innerBeforeBrush=function(){},en.prototype.innerAfterBrush=function(){},en.prototype.shouldBePainted=function(tn,nn,rn,an){var ln=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,tn,nn)||ln&&!ln[0]&&!ln[3])return!1;if(rn&&this.__clipPaths){for(var cn=0;cn<this.__clipPaths.length;++cn)if(this.__clipPaths[cn].isZeroArea())return!1}if(an&&this.parent)for(var un=this.parent;un;){if(un.ignore)return!1;un=un.parent}return!0},en.prototype.contain=function(tn,nn){return this.rectContain(tn,nn)},en.prototype.traverse=function(tn,nn){tn.call(nn,this)},en.prototype.rectContain=function(tn,nn){var rn=this.transformCoordToLocal(tn,nn),an=this.getBoundingRect();return an.contain(rn[0],rn[1])},en.prototype.getPaintRect=function(){var tn=this._paintRect;if(!this._paintRect||this.__dirty){var nn=this.transform,rn=this.getBoundingRect(),an=this.style,ln=an.shadowBlur||0,cn=an.shadowOffsetX||0,un=an.shadowOffsetY||0;tn=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),nn?BoundingRect$1.applyTransform(tn,rn,nn):tn.copy(rn),(ln||cn||un)&&(tn.width+=ln*2+Math.abs(cn),tn.height+=ln*2+Math.abs(un),tn.x=Math.min(tn.x,tn.x+cn-ln),tn.y=Math.min(tn.y,tn.y+un-ln));var fn=this.dirtyRectTolerance;tn.isZero()||(tn.x=Math.floor(tn.x-fn),tn.y=Math.floor(tn.y-fn),tn.width=Math.ceil(tn.width+1+fn*2),tn.height=Math.ceil(tn.height+1+fn*2))}return tn},en.prototype.setPrevPaintRect=function(tn){tn?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(tn)):this._prevPaintRect=null},en.prototype.getPrevPaintRect=function(){return this._prevPaintRect},en.prototype.animateStyle=function(tn){return this.animate("style",tn)},en.prototype.updateDuringAnimation=function(tn){tn==="style"?this.dirtyStyle():this.markRedraw()},en.prototype.attrKV=function(tn,nn){tn!=="style"?Fe.prototype.attrKV.call(this,tn,nn):this.style?this.setStyle(nn):this.useStyle(nn)},en.prototype.setStyle=function(tn,nn){return typeof tn=="string"?this.style[tn]=nn:extend$1(this.style,tn),this.dirtyStyle(),this},en.prototype.dirtyStyle=function(tn){tn||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},en.prototype.dirty=function(){this.dirtyStyle()},en.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},en.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},en.prototype.createStyle=function(tn){return createObject(DEFAULT_COMMON_STYLE,tn)},en.prototype.useStyle=function(tn){tn[STYLE_MAGIC_KEY]||(tn=this.createStyle(tn)),this.__inHover?this.__hoverStyle=tn:this.style=tn,this.dirtyStyle()},en.prototype.isStyleObject=function(tn){return tn[STYLE_MAGIC_KEY]},en.prototype._innerSaveToNormal=function(tn){Fe.prototype._innerSaveToNormal.call(this,tn);var nn=this._normalState;tn.style&&!nn.style&&(nn.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(tn,nn,PRIMARY_STATES_KEYS)},en.prototype._applyStateObj=function(tn,nn,rn,an,ln,cn){Fe.prototype._applyStateObj.call(this,tn,nn,rn,an,ln,cn);var un=!(nn&&an),fn;if(nn&&nn.style?ln?an?fn=nn.style:(fn=this._mergeStyle(this.createStyle(),rn.style),this._mergeStyle(fn,nn.style)):(fn=this._mergeStyle(this.createStyle(),an?this.style:rn.style),this._mergeStyle(fn,nn.style)):un&&(fn=rn.style),fn)if(ln){var hn=this.style;if(this.style=this.createStyle(un?{}:hn),un)for(var pn=keys(hn),gn=0;gn<pn.length;gn++){var mn=pn[gn];mn in fn&&(fn[mn]=fn[mn],this.style[mn]=hn[mn])}for(var _n=keys(fn),gn=0;gn<_n.length;gn++){var mn=_n[gn];this.style[mn]=this.style[mn]}this._transitionState(tn,{style:fn},cn,this.getAnimationStyleProps())}else this.useStyle(fn);for(var kn=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,gn=0;gn<kn.length;gn++){var mn=kn[gn];nn&&nn[mn]!=null?this[mn]=nn[mn]:un&&rn[mn]!=null&&(this[mn]=rn[mn])}},en.prototype._mergeStates=function(tn){for(var nn=Fe.prototype._mergeStates.call(this,tn),rn,an=0;an<tn.length;an++){var ln=tn[an];ln.style&&(rn=rn||{},this._mergeStyle(rn,ln.style))}return rn&&(nn.style=rn),nn},en.prototype._mergeStyle=function(tn,nn){return extend$1(tn,nn),tn},en.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},en.initDefaultProps=function(){var tn=en.prototype;tn.type="displayable",tn.invisible=!1,tn.z=0,tn.z2=0,tn.zlevel=0,tn.culling=!1,tn.cursor="pointer",tn.rectHover=!1,tn.incremental=!1,tn._rect=null,tn.dirtyRectTolerance=0,tn.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),en}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(Fe,en,tn){return tmpRect.copy(Fe.getBoundingRect()),Fe.transform&&tmpRect.applyTransform(Fe.transform),viewRect.width=en,viewRect.height=tn,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(Fe,en,tn){if(Fe.length!==0){for(var nn=Fe[0],rn=nn[0],an=nn[0],ln=nn[1],cn=nn[1],un=1;un<Fe.length;un++)nn=Fe[un],rn=mathMin$9(rn,nn[0]),an=mathMax$9(an,nn[0]),ln=mathMin$9(ln,nn[1]),cn=mathMax$9(cn,nn[1]);en[0]=rn,en[1]=ln,tn[0]=an,tn[1]=cn}}function fromLine(Fe,en,tn,nn,rn,an){rn[0]=mathMin$9(Fe,tn),rn[1]=mathMin$9(en,nn),an[0]=mathMax$9(Fe,tn),an[1]=mathMax$9(en,nn)}var xDim=[],yDim=[];function fromCubic(Fe,en,tn,nn,rn,an,ln,cn,un,fn){var hn=cubicExtrema,pn=cubicAt,gn=hn(Fe,tn,rn,ln,xDim);un[0]=1/0,un[1]=1/0,fn[0]=-1/0,fn[1]=-1/0;for(var mn=0;mn<gn;mn++){var _n=pn(Fe,tn,rn,ln,xDim[mn]);un[0]=mathMin$9(_n,un[0]),fn[0]=mathMax$9(_n,fn[0])}gn=hn(en,nn,an,cn,yDim);for(var mn=0;mn<gn;mn++){var kn=pn(en,nn,an,cn,yDim[mn]);un[1]=mathMin$9(kn,un[1]),fn[1]=mathMax$9(kn,fn[1])}un[0]=mathMin$9(Fe,un[0]),fn[0]=mathMax$9(Fe,fn[0]),un[0]=mathMin$9(ln,un[0]),fn[0]=mathMax$9(ln,fn[0]),un[1]=mathMin$9(en,un[1]),fn[1]=mathMax$9(en,fn[1]),un[1]=mathMin$9(cn,un[1]),fn[1]=mathMax$9(cn,fn[1])}function fromQuadratic(Fe,en,tn,nn,rn,an,ln,cn){var un=quadraticExtremum,fn=quadraticAt$1,hn=mathMax$9(mathMin$9(un(Fe,tn,rn),1),0),pn=mathMax$9(mathMin$9(un(en,nn,an),1),0),gn=fn(Fe,tn,rn,hn),mn=fn(en,nn,an,pn);ln[0]=mathMin$9(Fe,rn,gn),ln[1]=mathMin$9(en,an,mn),cn[0]=mathMax$9(Fe,rn,gn),cn[1]=mathMax$9(en,an,mn)}function fromArc(Fe,en,tn,nn,rn,an,ln,cn,un){var fn=min$1,hn=max$1,pn=Math.abs(rn-an);if(pn%PI2$8<1e-4&&pn>1e-4){cn[0]=Fe-tn,cn[1]=en-nn,un[0]=Fe+tn,un[1]=en+nn;return}if(start[0]=mathCos$4(rn)*tn+Fe,start[1]=mathSin$4(rn)*nn+en,end[0]=mathCos$4(an)*tn+Fe,end[1]=mathSin$4(an)*nn+en,fn(cn,start,end),hn(un,start,end),rn=rn%PI2$8,rn<0&&(rn=rn+PI2$8),an=an%PI2$8,an<0&&(an=an+PI2$8),rn>an&&!ln?an+=PI2$8:rn<an&&ln&&(rn+=PI2$8),ln){var gn=an;an=rn,rn=gn}for(var mn=0;mn<an;mn+=Math.PI/2)mn>rn&&(extremity[0]=mathCos$4(mn)*tn+Fe,extremity[1]=mathSin$4(mn)*nn+en,fn(cn,extremity,cn),hn(un,extremity,un))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(Fe){var en=Math.round(Fe/PI$8*1e8)/1e8;return en%2*PI$8}function normalizeArcAngles(Fe,en){var tn=modPI2(Fe[0]);tn<0&&(tn+=PI2$7);var nn=tn-Fe[0],rn=Fe[1];rn+=nn,!en&&rn-tn>=PI2$7?rn=tn+PI2$7:en&&tn-rn>=PI2$7?rn=tn-PI2$7:!en&&tn>rn?rn=tn+(PI2$7-modPI2(tn-rn)):en&&tn<rn&&(rn=tn-(PI2$7-modPI2(rn-tn))),Fe[0]=tn,Fe[1]=rn}var PathProxy=function(){function Fe(en){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,en&&(this._saveData=!1),this._saveData&&(this.data=[])}return Fe.prototype.increaseVersion=function(){this._version++},Fe.prototype.getVersion=function(){return this._version},Fe.prototype.setScale=function(en,tn,nn){nn=nn||0,nn>0&&(this._ux=mathAbs$2(nn/devicePixelRatio/en)||0,this._uy=mathAbs$2(nn/devicePixelRatio/tn)||0)},Fe.prototype.setDPR=function(en){this.dpr=en},Fe.prototype.setContext=function(en){this._ctx=en},Fe.prototype.getContext=function(){return this._ctx},Fe.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},Fe.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},Fe.prototype.moveTo=function(en,tn){return this._drawPendingPt(),this.addData(CMD$4.M,en,tn),this._ctx&&this._ctx.moveTo(en,tn),this._x0=en,this._y0=tn,this._xi=en,this._yi=tn,this},Fe.prototype.lineTo=function(en,tn){var nn=mathAbs$2(en-this._xi),rn=mathAbs$2(tn-this._yi),an=nn>this._ux||rn>this._uy;if(this.addData(CMD$4.L,en,tn),this._ctx&&an&&this._ctx.lineTo(en,tn),an)this._xi=en,this._yi=tn,this._pendingPtDist=0;else{var ln=nn*nn+rn*rn;ln>this._pendingPtDist&&(this._pendingPtX=en,this._pendingPtY=tn,this._pendingPtDist=ln)}return this},Fe.prototype.bezierCurveTo=function(en,tn,nn,rn,an,ln){return this._drawPendingPt(),this.addData(CMD$4.C,en,tn,nn,rn,an,ln),this._ctx&&this._ctx.bezierCurveTo(en,tn,nn,rn,an,ln),this._xi=an,this._yi=ln,this},Fe.prototype.quadraticCurveTo=function(en,tn,nn,rn){return this._drawPendingPt(),this.addData(CMD$4.Q,en,tn,nn,rn),this._ctx&&this._ctx.quadraticCurveTo(en,tn,nn,rn),this._xi=nn,this._yi=rn,this},Fe.prototype.arc=function(en,tn,nn,rn,an,ln){this._drawPendingPt(),tmpAngles[0]=rn,tmpAngles[1]=an,normalizeArcAngles(tmpAngles,ln),rn=tmpAngles[0],an=tmpAngles[1];var cn=an-rn;return this.addData(CMD$4.A,en,tn,nn,nn,rn,cn,0,ln?0:1),this._ctx&&this._ctx.arc(en,tn,nn,rn,an,ln),this._xi=mathCos$3(an)*nn+en,this._yi=mathSin$3(an)*nn+tn,this},Fe.prototype.arcTo=function(en,tn,nn,rn,an){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(en,tn,nn,rn,an),this},Fe.prototype.rect=function(en,tn,nn,rn){return this._drawPendingPt(),this._ctx&&this._ctx.rect(en,tn,nn,rn),this.addData(CMD$4.R,en,tn,nn,rn),this},Fe.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var en=this._ctx,tn=this._x0,nn=this._y0;return en&&en.closePath(),this._xi=tn,this._yi=nn,this},Fe.prototype.fill=function(en){en&&en.fill(),this.toStatic()},Fe.prototype.stroke=function(en){en&&en.stroke(),this.toStatic()},Fe.prototype.len=function(){return this._len},Fe.prototype.setData=function(en){var tn=en.length;!(this.data&&this.data.length===tn)&&hasTypedArray&&(this.data=new Float32Array(tn));for(var nn=0;nn<tn;nn++)this.data[nn]=en[nn];this._len=tn},Fe.prototype.appendPath=function(en){en instanceof Array||(en=[en]);for(var tn=en.length,nn=0,rn=this._len,an=0;an<tn;an++)nn+=en[an].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(rn+nn));for(var an=0;an<tn;an++)for(var ln=en[an].data,cn=0;cn<ln.length;cn++)this.data[rn++]=ln[cn];this._len=rn},Fe.prototype.addData=function(en,tn,nn,rn,an,ln,cn,un,fn){if(this._saveData){var hn=this.data;this._len+arguments.length>hn.length&&(this._expandData(),hn=this.data);for(var pn=0;pn<arguments.length;pn++)hn[this._len++]=arguments[pn]}},Fe.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},Fe.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var en=[],tn=0;tn<this._len;tn++)en[tn]=this.data[tn];this.data=en}},Fe.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var en=this.data;en instanceof Array&&(en.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(en)))}},Fe.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var en=this.data,tn=0,nn=0,rn=0,an=0,ln;for(ln=0;ln<this._len;){var cn=en[ln++],un=ln===1;switch(un&&(tn=en[ln],nn=en[ln+1],rn=tn,an=nn),cn){case CMD$4.M:tn=rn=en[ln++],nn=an=en[ln++],min2[0]=rn,min2[1]=an,max2[0]=rn,max2[1]=an;break;case CMD$4.L:fromLine(tn,nn,en[ln],en[ln+1],min2,max2),tn=en[ln++],nn=en[ln++];break;case CMD$4.C:fromCubic(tn,nn,en[ln++],en[ln++],en[ln++],en[ln++],en[ln],en[ln+1],min2,max2),tn=en[ln++],nn=en[ln++];break;case CMD$4.Q:fromQuadratic(tn,nn,en[ln++],en[ln++],en[ln],en[ln+1],min2,max2),tn=en[ln++],nn=en[ln++];break;case CMD$4.A:var fn=en[ln++],hn=en[ln++],pn=en[ln++],gn=en[ln++],mn=en[ln++],_n=en[ln++]+mn;ln+=1;var kn=!en[ln++];un&&(rn=mathCos$3(mn)*pn+fn,an=mathSin$3(mn)*gn+hn),fromArc(fn,hn,pn,gn,mn,_n,kn,min2,max2),tn=mathCos$3(_n)*pn+fn,nn=mathSin$3(_n)*gn+hn;break;case CMD$4.R:rn=tn=en[ln++],an=nn=en[ln++];var Cn=en[ln++],xn=en[ln++];fromLine(rn,an,rn+Cn,an+xn,min2,max2);break;case CMD$4.Z:tn=rn,nn=an;break}min$1(min,min,min2),max$1(max,max,max2)}return ln===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},Fe.prototype._calculateLength=function(){var en=this.data,tn=this._len,nn=this._ux,rn=this._uy,an=0,ln=0,cn=0,un=0;this._pathSegLen||(this._pathSegLen=[]);for(var fn=this._pathSegLen,hn=0,pn=0,gn=0;gn<tn;){var mn=en[gn++],_n=gn===1;_n&&(an=en[gn],ln=en[gn+1],cn=an,un=ln);var kn=-1;switch(mn){case CMD$4.M:an=cn=en[gn++],ln=un=en[gn++];break;case CMD$4.L:{var Cn=en[gn++],xn=en[gn++],Sn=Cn-an,Mn=xn-ln;(mathAbs$2(Sn)>nn||mathAbs$2(Mn)>rn||gn===tn-1)&&(kn=Math.sqrt(Sn*Sn+Mn*Mn),an=Cn,ln=xn);break}case CMD$4.C:{var In=en[gn++],On=en[gn++],Cn=en[gn++],xn=en[gn++],Pn=en[gn++],Tn=en[gn++];kn=cubicLength(an,ln,In,On,Cn,xn,Pn,Tn,10),an=Pn,ln=Tn;break}case CMD$4.Q:{var In=en[gn++],On=en[gn++],Cn=en[gn++],xn=en[gn++];kn=quadraticLength(an,ln,In,On,Cn,xn,10),an=Cn,ln=xn;break}case CMD$4.A:var Nn=en[gn++],Hn=en[gn++],Un=en[gn++],jn=en[gn++],Yn=en[gn++],Wn=en[gn++],Qn=Wn+Yn;gn+=1,en[gn++],_n&&(cn=mathCos$3(Yn)*Un+Nn,un=mathSin$3(Yn)*jn+Hn),kn=mathMax$8(Un,jn)*mathMin$8(PI2$7,Math.abs(Wn)),an=mathCos$3(Qn)*Un+Nn,ln=mathSin$3(Qn)*jn+Hn;break;case CMD$4.R:{cn=an=en[gn++],un=ln=en[gn++];var Xn=en[gn++],jr=en[gn++];kn=Xn*2+jr*2;break}case CMD$4.Z:{var Sn=cn-an,Mn=un-ln;kn=Math.sqrt(Sn*Sn+Mn*Mn),an=cn,ln=un;break}}kn>=0&&(fn[pn++]=kn,hn+=kn)}return this._pathLen=hn,hn},Fe.prototype.rebuildPath=function(en,tn){var nn=this.data,rn=this._ux,an=this._uy,ln=this._len,cn,un,fn,hn,pn,gn,mn=tn<1,_n,kn,Cn=0,xn=0,Sn,Mn=0,In,On;if(!(mn&&(this._pathSegLen||this._calculateLength(),_n=this._pathSegLen,kn=this._pathLen,Sn=tn*kn,!Sn)))e:for(var Pn=0;Pn<ln;){var Tn=nn[Pn++],Nn=Pn===1;switch(Nn&&(fn=nn[Pn],hn=nn[Pn+1],cn=fn,un=hn),Tn!==CMD$4.L&&Mn>0&&(en.lineTo(In,On),Mn=0),Tn){case CMD$4.M:cn=fn=nn[Pn++],un=hn=nn[Pn++],en.moveTo(fn,hn);break;case CMD$4.L:{pn=nn[Pn++],gn=nn[Pn++];var Hn=mathAbs$2(pn-fn),Un=mathAbs$2(gn-hn);if(Hn>rn||Un>an){if(mn){var jn=_n[xn++];if(Cn+jn>Sn){var Yn=(Sn-Cn)/jn;en.lineTo(fn*(1-Yn)+pn*Yn,hn*(1-Yn)+gn*Yn);break e}Cn+=jn}en.lineTo(pn,gn),fn=pn,hn=gn,Mn=0}else{var Wn=Hn*Hn+Un*Un;Wn>Mn&&(In=pn,On=gn,Mn=Wn)}break}case CMD$4.C:{var Qn=nn[Pn++],Xn=nn[Pn++],jr=nn[Pn++],Wr=nn[Pn++],Jr=nn[Pn++],ci=nn[Pn++];if(mn){var jn=_n[xn++];if(Cn+jn>Sn){var Yn=(Sn-Cn)/jn;cubicSubdivide(fn,Qn,jr,Jr,Yn,tmpOutX),cubicSubdivide(hn,Xn,Wr,ci,Yn,tmpOutY),en.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}Cn+=jn}en.bezierCurveTo(Qn,Xn,jr,Wr,Jr,ci),fn=Jr,hn=ci;break}case CMD$4.Q:{var Qn=nn[Pn++],Xn=nn[Pn++],jr=nn[Pn++],Wr=nn[Pn++];if(mn){var jn=_n[xn++];if(Cn+jn>Sn){var Yn=(Sn-Cn)/jn;quadraticSubdivide(fn,Qn,jr,Yn,tmpOutX),quadraticSubdivide(hn,Xn,Wr,Yn,tmpOutY),en.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}Cn+=jn}en.quadraticCurveTo(Qn,Xn,jr,Wr),fn=jr,hn=Wr;break}case CMD$4.A:var ti=nn[Pn++],Zr=nn[Pn++],Br=nn[Pn++],Jn=nn[Pn++],oi=nn[Pn++],pi=nn[Pn++],ri=nn[Pn++],fi=!nn[Pn++],yi=Br>Jn?Br:Jn,Si=mathAbs$2(Br-Jn)>.001,Pi=oi+pi,Ui=!1;if(mn){var jn=_n[xn++];Cn+jn>Sn&&(Pi=oi+pi*(Sn-Cn)/jn,Ui=!0),Cn+=jn}if(Si&&en.ellipse?en.ellipse(ti,Zr,Br,Jn,ri,oi,Pi,fi):en.arc(ti,Zr,yi,oi,Pi,fi),Ui)break e;Nn&&(cn=mathCos$3(oi)*Br+ti,un=mathSin$3(oi)*Jn+Zr),fn=mathCos$3(Pi)*Br+ti,hn=mathSin$3(Pi)*Jn+Zr;break;case CMD$4.R:cn=fn=nn[Pn],un=hn=nn[Pn+1],pn=nn[Pn++],gn=nn[Pn++];var ji=nn[Pn++],go=nn[Pn++];if(mn){var jn=_n[xn++];if(Cn+jn>Sn){var po=Sn-Cn;en.moveTo(pn,gn),en.lineTo(pn+mathMin$8(po,ji),gn),po-=ji,po>0&&en.lineTo(pn+ji,gn+mathMin$8(po,go)),po-=go,po>0&&en.lineTo(pn+mathMax$8(ji-po,0),gn+go),po-=ji,po>0&&en.lineTo(pn,gn+mathMax$8(go-po,0));break e}Cn+=jn}en.rect(pn,gn,ji,go);break;case CMD$4.Z:if(mn){var jn=_n[xn++];if(Cn+jn>Sn){var Yn=(Sn-Cn)/jn;en.lineTo(fn*(1-Yn)+cn*Yn,hn*(1-Yn)+un*Yn);break e}Cn+=jn}en.closePath(),fn=cn,hn=un}}},Fe.prototype.clone=function(){var en=new Fe,tn=this.data;return en.data=tn.slice?tn.slice():Array.prototype.slice.call(tn),en._len=this._len,en},Fe.CMD=CMD$4,Fe.initDefaultProps=function(){var en=Fe.prototype;en._saveData=!0,en._ux=0,en._uy=0,en._pendingPtDist=0,en._version=0}(),Fe}();const PathProxy$1=PathProxy;function containStroke$4(Fe,en,tn,nn,rn,an,ln){if(rn===0)return!1;var cn=rn,un=0,fn=Fe;if(ln>en+cn&&ln>nn+cn||ln<en-cn&&ln<nn-cn||an>Fe+cn&&an>tn+cn||an<Fe-cn&&an<tn-cn)return!1;if(Fe!==tn)un=(en-nn)/(Fe-tn),fn=(Fe*nn-tn*en)/(Fe-tn);else return Math.abs(an-Fe)<=cn/2;var hn=un*an-ln+fn,pn=hn*hn/(un*un+1);return pn<=cn/2*cn/2}function containStroke$3(Fe,en,tn,nn,rn,an,ln,cn,un,fn,hn){if(un===0)return!1;var pn=un;if(hn>en+pn&&hn>nn+pn&&hn>an+pn&&hn>cn+pn||hn<en-pn&&hn<nn-pn&&hn<an-pn&&hn<cn-pn||fn>Fe+pn&&fn>tn+pn&&fn>rn+pn&&fn>ln+pn||fn<Fe-pn&&fn<tn-pn&&fn<rn-pn&&fn<ln-pn)return!1;var gn=cubicProjectPoint(Fe,en,tn,nn,rn,an,ln,cn,fn,hn,null);return gn<=pn/2}function containStroke$2(Fe,en,tn,nn,rn,an,ln,cn,un){if(ln===0)return!1;var fn=ln;if(un>en+fn&&un>nn+fn&&un>an+fn||un<en-fn&&un<nn-fn&&un<an-fn||cn>Fe+fn&&cn>tn+fn&&cn>rn+fn||cn<Fe-fn&&cn<tn-fn&&cn<rn-fn)return!1;var hn=quadraticProjectPoint(Fe,en,tn,nn,rn,an,cn,un,null);return hn<=fn/2}var PI2$6=Math.PI*2;function normalizeRadian(Fe){return Fe%=PI2$6,Fe<0&&(Fe+=PI2$6),Fe}var PI2$5=Math.PI*2;function containStroke$1(Fe,en,tn,nn,rn,an,ln,cn,un){if(ln===0)return!1;var fn=ln;cn-=Fe,un-=en;var hn=Math.sqrt(cn*cn+un*un);if(hn-fn>tn||hn+fn<tn)return!1;if(Math.abs(nn-rn)%PI2$5<1e-4)return!0;if(an){var pn=nn;nn=normalizeRadian(rn),rn=normalizeRadian(pn)}else nn=normalizeRadian(nn),rn=normalizeRadian(rn);nn>rn&&(rn+=PI2$5);var gn=Math.atan2(un,cn);return gn<0&&(gn+=PI2$5),gn>=nn&&gn<=rn||gn+PI2$5>=nn&&gn+PI2$5<=rn}function windingLine(Fe,en,tn,nn,rn,an){if(an>en&&an>nn||an<en&&an<nn||nn===en)return 0;var ln=(an-en)/(nn-en),cn=nn<en?1:-1;(ln===1||ln===0)&&(cn=nn<en?.5:-.5);var un=ln*(tn-Fe)+Fe;return un===rn?1/0:un>rn?cn:0}var CMD$3=PathProxy$1.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(Fe,en){return Math.abs(Fe-en)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var Fe=extrema[0];extrema[0]=extrema[1],extrema[1]=Fe}function windingCubic(Fe,en,tn,nn,rn,an,ln,cn,un,fn){if(fn>en&&fn>nn&&fn>an&&fn>cn||fn<en&&fn<nn&&fn<an&&fn<cn)return 0;var hn=cubicRootAt(en,nn,an,cn,fn,roots);if(hn===0)return 0;for(var pn=0,gn=-1,mn=void 0,_n=void 0,kn=0;kn<hn;kn++){var Cn=roots[kn],xn=Cn===0||Cn===1?.5:1,Sn=cubicAt(Fe,tn,rn,ln,Cn);Sn<un||(gn<0&&(gn=cubicExtrema(en,nn,an,cn,extrema),extrema[1]<extrema[0]&&gn>1&&swapExtrema(),mn=cubicAt(en,nn,an,cn,extrema[0]),gn>1&&(_n=cubicAt(en,nn,an,cn,extrema[1]))),gn===2?Cn<extrema[0]?pn+=mn<en?xn:-xn:Cn<extrema[1]?pn+=_n<mn?xn:-xn:pn+=cn<_n?xn:-xn:Cn<extrema[0]?pn+=mn<en?xn:-xn:pn+=cn<mn?xn:-xn)}return pn}function windingQuadratic(Fe,en,tn,nn,rn,an,ln,cn){if(cn>en&&cn>nn&&cn>an||cn<en&&cn<nn&&cn<an)return 0;var un=quadraticRootAt(en,nn,an,cn,roots);if(un===0)return 0;var fn=quadraticExtremum(en,nn,an);if(fn>=0&&fn<=1){for(var hn=0,pn=quadraticAt$1(en,nn,an,fn),gn=0;gn<un;gn++){var mn=roots[gn]===0||roots[gn]===1?.5:1,_n=quadraticAt$1(Fe,tn,rn,roots[gn]);_n<ln||(roots[gn]<fn?hn+=pn<en?mn:-mn:hn+=an<pn?mn:-mn)}return hn}else{var mn=roots[0]===0||roots[0]===1?.5:1,_n=quadraticAt$1(Fe,tn,rn,roots[0]);return _n<ln?0:an<en?mn:-mn}}function windingArc(Fe,en,tn,nn,rn,an,ln,cn){if(cn-=en,cn>tn||cn<-tn)return 0;var un=Math.sqrt(tn*tn-cn*cn);roots[0]=-un,roots[1]=un;var fn=Math.abs(nn-rn);if(fn<1e-4)return 0;if(fn>=PI2$4-1e-4){nn=0,rn=PI2$4;var hn=an?1:-1;return ln>=roots[0]+Fe&&ln<=roots[1]+Fe?hn:0}if(nn>rn){var pn=nn;nn=rn,rn=pn}nn<0&&(nn+=PI2$4,rn+=PI2$4);for(var gn=0,mn=0;mn<2;mn++){var _n=roots[mn];if(_n+Fe>ln){var kn=Math.atan2(cn,_n),hn=an?1:-1;kn<0&&(kn=PI2$4+kn),(kn>=nn&&kn<=rn||kn+PI2$4>=nn&&kn+PI2$4<=rn)&&(kn>Math.PI/2&&kn<Math.PI*1.5&&(hn=-hn),gn+=hn)}}return gn}function containPath(Fe,en,tn,nn,rn){for(var an=Fe.data,ln=Fe.len(),cn=0,un=0,fn=0,hn=0,pn=0,gn,mn,_n=0;_n<ln;){var kn=an[_n++],Cn=_n===1;switch(kn===CMD$3.M&&_n>1&&(tn||(cn+=windingLine(un,fn,hn,pn,nn,rn))),Cn&&(un=an[_n],fn=an[_n+1],hn=un,pn=fn),kn){case CMD$3.M:hn=an[_n++],pn=an[_n++],un=hn,fn=pn;break;case CMD$3.L:if(tn){if(containStroke$4(un,fn,an[_n],an[_n+1],en,nn,rn))return!0}else cn+=windingLine(un,fn,an[_n],an[_n+1],nn,rn)||0;un=an[_n++],fn=an[_n++];break;case CMD$3.C:if(tn){if(containStroke$3(un,fn,an[_n++],an[_n++],an[_n++],an[_n++],an[_n],an[_n+1],en,nn,rn))return!0}else cn+=windingCubic(un,fn,an[_n++],an[_n++],an[_n++],an[_n++],an[_n],an[_n+1],nn,rn)||0;un=an[_n++],fn=an[_n++];break;case CMD$3.Q:if(tn){if(containStroke$2(un,fn,an[_n++],an[_n++],an[_n],an[_n+1],en,nn,rn))return!0}else cn+=windingQuadratic(un,fn,an[_n++],an[_n++],an[_n],an[_n+1],nn,rn)||0;un=an[_n++],fn=an[_n++];break;case CMD$3.A:var xn=an[_n++],Sn=an[_n++],Mn=an[_n++],In=an[_n++],On=an[_n++],Pn=an[_n++];_n+=1;var Tn=!!(1-an[_n++]);gn=Math.cos(On)*Mn+xn,mn=Math.sin(On)*In+Sn,Cn?(hn=gn,pn=mn):cn+=windingLine(un,fn,gn,mn,nn,rn);var Nn=(nn-xn)*In/Mn+xn;if(tn){if(containStroke$1(xn,Sn,In,On,On+Pn,Tn,en,Nn,rn))return!0}else cn+=windingArc(xn,Sn,In,On,On+Pn,Tn,Nn,rn);un=Math.cos(On+Pn)*Mn+xn,fn=Math.sin(On+Pn)*In+Sn;break;case CMD$3.R:hn=un=an[_n++],pn=fn=an[_n++];var Hn=an[_n++],Un=an[_n++];if(gn=hn+Hn,mn=pn+Un,tn){if(containStroke$4(hn,pn,gn,pn,en,nn,rn)||containStroke$4(gn,pn,gn,mn,en,nn,rn)||containStroke$4(gn,mn,hn,mn,en,nn,rn)||containStroke$4(hn,mn,hn,pn,en,nn,rn))return!0}else cn+=windingLine(gn,pn,gn,mn,nn,rn),cn+=windingLine(hn,mn,hn,pn,nn,rn);break;case CMD$3.Z:if(tn){if(containStroke$4(un,fn,hn,pn,en,nn,rn))return!0}else cn+=windingLine(un,fn,hn,pn,nn,rn);un=hn,fn=pn;break}}return!tn&&!isAroundEqual$1(fn,pn)&&(cn+=windingLine(un,fn,hn,pn,nn,rn)||0),cn!==0}function contain$2(Fe,en,tn){return containPath(Fe,0,!1,en,tn)}function containStroke(Fe,en,tn,nn){return containPath(Fe,en,!0,tn,nn)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.update=function(){var tn=this;Fe.prototype.update.call(this);var nn=this.style;if(nn.decal){var rn=this._decalEl=this._decalEl||new en;rn.buildPath===en.prototype.buildPath&&(rn.buildPath=function(un){tn.buildPath(un,tn.shape)}),rn.silent=!0;var an=rn.style;for(var ln in nn)an[ln]!==nn[ln]&&(an[ln]=nn[ln]);an.fill=nn.fill?nn.decal:null,an.decal=null,an.shadowColor=null,nn.strokeFirst&&(an.stroke=null);for(var cn=0;cn<pathCopyParams.length;++cn)rn[pathCopyParams[cn]]=this[pathCopyParams[cn]];rn.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},en.prototype.getDecalElement=function(){return this._decalEl},en.prototype._init=function(tn){var nn=keys(tn);this.shape=this.getDefaultShape();var rn=this.getDefaultStyle();rn&&this.useStyle(rn);for(var an=0;an<nn.length;an++){var ln=nn[an],cn=tn[ln];ln==="style"?this.style?extend$1(this.style,cn):this.useStyle(cn):ln==="shape"?extend$1(this.shape,cn):Fe.prototype.attrKV.call(this,ln,cn)}this.style||this.useStyle({})},en.prototype.getDefaultStyle=function(){return null},en.prototype.getDefaultShape=function(){return{}},en.prototype.canBeInsideText=function(){return this.hasFill()},en.prototype.getInsideTextFill=function(){var tn=this.style.fill;if(tn!=="none"){if(isString(tn)){var nn=lum(tn,0);return nn>.5?DARK_LABEL_COLOR:nn>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(tn)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},en.prototype.getInsideTextStroke=function(tn){var nn=this.style.fill;if(isString(nn)){var rn=this.__zr,an=!!(rn&&rn.isDarkMode()),ln=lum(tn,0)<DARK_MODE_THRESHOLD;if(an===ln)return nn}},en.prototype.buildPath=function(tn,nn,rn){},en.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},en.prototype.getUpdatedPathProxy=function(tn){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,tn),this.path},en.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},en.prototype.hasStroke=function(){var tn=this.style,nn=tn.stroke;return!(nn==null||nn==="none"||!(tn.lineWidth>0))},en.prototype.hasFill=function(){var tn=this.style,nn=tn.fill;return nn!=null&&nn!=="none"},en.prototype.getBoundingRect=function(){var tn=this._rect,nn=this.style,rn=!tn;if(rn){var an=!1;this.path||(an=!0,this.createPathProxy());var ln=this.path;(an||this.__dirty&SHAPE_CHANGED_BIT)&&(ln.beginPath(),this.buildPath(ln,this.shape,!1),this.pathUpdated()),tn=ln.getBoundingRect()}if(this._rect=tn,this.hasStroke()&&this.path&&this.path.len()>0){var cn=this._rectStroke||(this._rectStroke=tn.clone());if(this.__dirty||rn){cn.copy(tn);var un=nn.strokeNoScale?this.getLineScale():1,fn=nn.lineWidth;if(!this.hasFill()){var hn=this.strokeContainThreshold;fn=Math.max(fn,hn??4)}un>1e-10&&(cn.width+=fn/un,cn.height+=fn/un,cn.x-=fn/un/2,cn.y-=fn/un/2)}return cn}return tn},en.prototype.contain=function(tn,nn){var rn=this.transformCoordToLocal(tn,nn),an=this.getBoundingRect(),ln=this.style;if(tn=rn[0],nn=rn[1],an.contain(tn,nn)){var cn=this.path;if(this.hasStroke()){var un=ln.lineWidth,fn=ln.strokeNoScale?this.getLineScale():1;if(fn>1e-10&&(this.hasFill()||(un=Math.max(un,this.strokeContainThreshold)),containStroke(cn,un/fn,tn,nn)))return!0}if(this.hasFill())return contain$2(cn,tn,nn)}return!1},en.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},en.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},en.prototype.animateShape=function(tn){return this.animate("shape",tn)},en.prototype.updateDuringAnimation=function(tn){tn==="style"?this.dirtyStyle():tn==="shape"?this.dirtyShape():this.markRedraw()},en.prototype.attrKV=function(tn,nn){tn==="shape"?this.setShape(nn):Fe.prototype.attrKV.call(this,tn,nn)},en.prototype.setShape=function(tn,nn){var rn=this.shape;return rn||(rn=this.shape={}),typeof tn=="string"?rn[tn]=nn:extend$1(rn,tn),this.dirtyShape(),this},en.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},en.prototype.createStyle=function(tn){return createObject(DEFAULT_PATH_STYLE,tn)},en.prototype._innerSaveToNormal=function(tn){Fe.prototype._innerSaveToNormal.call(this,tn);var nn=this._normalState;tn.shape&&!nn.shape&&(nn.shape=extend$1({},this.shape))},en.prototype._applyStateObj=function(tn,nn,rn,an,ln,cn){Fe.prototype._applyStateObj.call(this,tn,nn,rn,an,ln,cn);var un=!(nn&&an),fn;if(nn&&nn.shape?ln?an?fn=nn.shape:(fn=extend$1({},rn.shape),extend$1(fn,nn.shape)):(fn=extend$1({},an?this.shape:rn.shape),extend$1(fn,nn.shape)):un&&(fn=rn.shape),fn)if(ln){this.shape=extend$1({},this.shape);for(var hn={},pn=keys(fn),gn=0;gn<pn.length;gn++){var mn=pn[gn];typeof fn[mn]=="object"?this.shape[mn]=fn[mn]:hn[mn]=fn[mn]}this._transitionState(tn,{shape:hn},cn)}else this.shape=fn,this.dirtyShape()},en.prototype._mergeStates=function(tn){for(var nn=Fe.prototype._mergeStates.call(this,tn),rn,an=0;an<tn.length;an++){var ln=tn[an];ln.shape&&(rn=rn||{},this._mergeStyle(rn,ln.shape))}return rn&&(nn.shape=rn),nn},en.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},en.prototype.isZeroArea=function(){return!1},en.extend=function(tn){var nn=function(an){__extends(ln,an);function ln(cn){var un=an.call(this,cn)||this;return tn.init&&tn.init.call(un,cn),un}return ln.prototype.getDefaultStyle=function(){return clone$4(tn.style)},ln.prototype.getDefaultShape=function(){return clone$4(tn.shape)},ln}(en);for(var rn in tn)typeof tn[rn]=="function"&&(nn.prototype[rn]=tn[rn]);return nn},en.initDefaultProps=function(){var tn=en.prototype;tn.type="path",tn.strokeContainThreshold=5,tn.segmentIgnoreThreshold=0,tn.subPixelOptimize=!1,tn.autoBatch=!1,tn.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),en}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.hasStroke=function(){var tn=this.style,nn=tn.stroke;return nn!=null&&nn!=="none"&&tn.lineWidth>0},en.prototype.hasFill=function(){var tn=this.style,nn=tn.fill;return nn!=null&&nn!=="none"},en.prototype.createStyle=function(tn){return createObject(DEFAULT_TSPAN_STYLE,tn)},en.prototype.setBoundingRect=function(tn){this._rect=tn},en.prototype.getBoundingRect=function(){var tn=this.style;if(!this._rect){var nn=tn.text;nn!=null?nn+="":nn="";var rn=getBoundingRect(nn,tn.font,tn.textAlign,tn.textBaseline);if(rn.x+=tn.x||0,rn.y+=tn.y||0,this.hasStroke()){var an=tn.lineWidth;rn.x-=an/2,rn.y-=an/2,rn.width+=an,rn.height+=an}this._rect=rn}return this._rect},en.initDefaultProps=function(){var tn=en.prototype;tn.dirtyRectTolerance=10}(),en}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(Fe){return!!(Fe&&typeof Fe!="string"&&Fe.width&&Fe.height)}var ZRImage=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.createStyle=function(tn){return createObject(DEFAULT_IMAGE_STYLE,tn)},en.prototype._getSize=function(tn){var nn=this.style,rn=nn[tn];if(rn!=null)return rn;var an=isImageLike$1(nn.image)?nn.image:this.__image;if(!an)return 0;var ln=tn==="width"?"height":"width",cn=nn[ln];return cn==null?an[tn]:an[tn]/an[ln]*cn},en.prototype.getWidth=function(){return this._getSize("width")},en.prototype.getHeight=function(){return this._getSize("height")},en.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},en.prototype.getBoundingRect=function(){var tn=this.style;return this._rect||(this._rect=new BoundingRect$1(tn.x||0,tn.y||0,this.getWidth(),this.getHeight())),this._rect},en}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(Fe,en){var tn=en.x,nn=en.y,rn=en.width,an=en.height,ln=en.r,cn,un,fn,hn;rn<0&&(tn=tn+rn,rn=-rn),an<0&&(nn=nn+an,an=-an),typeof ln=="number"?cn=un=fn=hn=ln:ln instanceof Array?ln.length===1?cn=un=fn=hn=ln[0]:ln.length===2?(cn=fn=ln[0],un=hn=ln[1]):ln.length===3?(cn=ln[0],un=hn=ln[1],fn=ln[2]):(cn=ln[0],un=ln[1],fn=ln[2],hn=ln[3]):cn=un=fn=hn=0;var pn;cn+un>rn&&(pn=cn+un,cn*=rn/pn,un*=rn/pn),fn+hn>rn&&(pn=fn+hn,fn*=rn/pn,hn*=rn/pn),un+fn>an&&(pn=un+fn,un*=an/pn,fn*=an/pn),cn+hn>an&&(pn=cn+hn,cn*=an/pn,hn*=an/pn),Fe.moveTo(tn+cn,nn),Fe.lineTo(tn+rn-un,nn),un!==0&&Fe.arc(tn+rn-un,nn+un,un,-Math.PI/2,0),Fe.lineTo(tn+rn,nn+an-fn),fn!==0&&Fe.arc(tn+rn-fn,nn+an-fn,fn,0,Math.PI/2),Fe.lineTo(tn+hn,nn+an),hn!==0&&Fe.arc(tn+hn,nn+an-hn,hn,Math.PI/2,Math.PI),Fe.lineTo(tn,nn+cn),cn!==0&&Fe.arc(tn+cn,nn+cn,cn,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(Fe,en,tn){if(en){var nn=en.x1,rn=en.x2,an=en.y1,ln=en.y2;Fe.x1=nn,Fe.x2=rn,Fe.y1=an,Fe.y2=ln;var cn=tn&&tn.lineWidth;return cn&&(round$2(nn*2)===round$2(rn*2)&&(Fe.x1=Fe.x2=subPixelOptimize$1(nn,cn,!0)),round$2(an*2)===round$2(ln*2)&&(Fe.y1=Fe.y2=subPixelOptimize$1(an,cn,!0))),Fe}}function subPixelOptimizeRect$1(Fe,en,tn){if(en){var nn=en.x,rn=en.y,an=en.width,ln=en.height;Fe.x=nn,Fe.y=rn,Fe.width=an,Fe.height=ln;var cn=tn&&tn.lineWidth;return cn&&(Fe.x=subPixelOptimize$1(nn,cn,!0),Fe.y=subPixelOptimize$1(rn,cn,!0),Fe.width=Math.max(subPixelOptimize$1(nn+an,cn,!1)-Fe.x,an===0?0:1),Fe.height=Math.max(subPixelOptimize$1(rn+ln,cn,!1)-Fe.y,ln===0?0:1)),Fe}}function subPixelOptimize$1(Fe,en,tn){if(!en)return Fe;var nn=round$2(Fe*2);return(nn+round$2(en))%2===0?nn/2:(nn+(tn?1:-1))/2}var RectShape=function(){function Fe(){this.x=0,this.y=0,this.width=0,this.height=0}return Fe}(),subPixelOptimizeOutputShape$1={},Rect$2=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultShape=function(){return new RectShape},en.prototype.buildPath=function(tn,nn){var rn,an,ln,cn;if(this.subPixelOptimize){var un=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,nn,this.style);rn=un.x,an=un.y,ln=un.width,cn=un.height,un.r=nn.r,nn=un}else rn=nn.x,an=nn.y,ln=nn.width,cn=nn.height;nn.r?buildPath$2(tn,nn):tn.rect(rn,an,ln,cn)},en.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},en}(Path$1);Rect$2.prototype.type="rect";const Rect$3=Rect$2;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this)||this;return nn.type="text",nn._children=[],nn._defaultStyle=DEFAULT_RICH_TEXT_COLOR,nn.attr(tn),nn}return en.prototype.childrenRef=function(){return this._children},en.prototype.update=function(){Fe.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var tn=0;tn<this._children.length;tn++){var nn=this._children[tn];nn.zlevel=this.zlevel,nn.z=this.z,nn.z2=this.z2,nn.culling=this.culling,nn.cursor=this.cursor,nn.invisible=this.invisible}},en.prototype.updateTransform=function(){var tn=this.innerTransformable;tn?(tn.updateTransform(),tn.transform&&(this.transform=tn.transform)):Fe.prototype.updateTransform.call(this)},en.prototype.getLocalTransform=function(tn){var nn=this.innerTransformable;return nn?nn.getLocalTransform(tn):Fe.prototype.getLocalTransform.call(this,tn)},en.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),Fe.prototype.getComputedTransform.call(this)},en.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},en.prototype.addSelfToZr=function(tn){Fe.prototype.addSelfToZr.call(this,tn);for(var nn=0;nn<this._children.length;nn++)this._children[nn].__zr=tn},en.prototype.removeSelfFromZr=function(tn){Fe.prototype.removeSelfFromZr.call(this,tn);for(var nn=0;nn<this._children.length;nn++)this._children[nn].__zr=null},en.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var tn=new BoundingRect$1(0,0,0,0),nn=this._children,rn=[],an=null,ln=0;ln<nn.length;ln++){var cn=nn[ln],un=cn.getBoundingRect(),fn=cn.getLocalTransform(rn);fn?(tn.copy(un),tn.applyTransform(fn),an=an||tn.clone(),an.union(tn)):(an=an||un.clone(),an.union(un))}this._rect=an||tn}return this._rect},en.prototype.setDefaultTextStyle=function(tn){this._defaultStyle=tn||DEFAULT_RICH_TEXT_COLOR},en.prototype.setTextContent=function(tn){},en.prototype._mergeStyle=function(tn,nn){if(!nn)return tn;var rn=nn.rich,an=tn.rich||rn&&{};return extend$1(tn,nn),rn&&an?(this._mergeRich(an,rn),tn.rich=an):an&&(tn.rich=an),tn},en.prototype._mergeRich=function(tn,nn){for(var rn=keys(nn),an=0;an<rn.length;an++){var ln=rn[an];tn[ln]=tn[ln]||{},extend$1(tn[ln],nn[ln])}},en.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},en.prototype._getOrCreateChild=function(tn){var nn=this._children[this._childCursor];return(!nn||!(nn instanceof tn))&&(nn=new tn),this._children[this._childCursor++]=nn,nn.__zr=this.__zr,nn.parent=this,nn},en.prototype._updatePlainTexts=function(){var tn=this.style,nn=tn.font||DEFAULT_FONT,rn=tn.padding,an=getStyleText(tn),ln=parsePlainText(an,tn),cn=needDrawBackground(tn),un=!!tn.backgroundColor,fn=ln.outerHeight,hn=ln.outerWidth,pn=ln.contentWidth,gn=ln.lines,mn=ln.lineHeight,_n=this._defaultStyle,kn=tn.x||0,Cn=tn.y||0,xn=tn.align||_n.align||"left",Sn=tn.verticalAlign||_n.verticalAlign||"top",Mn=kn,In=adjustTextY(Cn,ln.contentHeight,Sn);if(cn||rn){var On=adjustTextX(kn,hn,xn),Pn=adjustTextY(Cn,fn,Sn);cn&&this._renderBackground(tn,tn,On,Pn,hn,fn)}In+=mn/2,rn&&(Mn=getTextXForPadding(kn,xn,rn),Sn==="top"?In+=rn[0]:Sn==="bottom"&&(In-=rn[2]));for(var Tn=0,Nn=!1,Hn=getFill("fill"in tn?tn.fill:(Nn=!0,_n.fill)),Un=getStroke("stroke"in tn?tn.stroke:!un&&(!_n.autoStroke||Nn)?(Tn=DEFAULT_STROKE_LINE_WIDTH,_n.stroke):null),jn=tn.textShadowBlur>0,Yn=tn.width!=null&&(tn.overflow==="truncate"||tn.overflow==="break"||tn.overflow==="breakAll"),Wn=ln.calculatedLineHeight,Qn=0;Qn<gn.length;Qn++){var Xn=this._getOrCreateChild(TSpan$1),jr=Xn.createStyle();Xn.useStyle(jr),jr.text=gn[Qn],jr.x=Mn,jr.y=In,xn&&(jr.textAlign=xn),jr.textBaseline="middle",jr.opacity=tn.opacity,jr.strokeFirst=!0,jn&&(jr.shadowBlur=tn.textShadowBlur||0,jr.shadowColor=tn.textShadowColor||"transparent",jr.shadowOffsetX=tn.textShadowOffsetX||0,jr.shadowOffsetY=tn.textShadowOffsetY||0),jr.stroke=Un,jr.fill=Hn,Un&&(jr.lineWidth=tn.lineWidth||Tn,jr.lineDash=tn.lineDash,jr.lineDashOffset=tn.lineDashOffset||0),jr.font=nn,setSeparateFont(jr,tn),In+=mn,Yn&&Xn.setBoundingRect(new BoundingRect$1(adjustTextX(jr.x,tn.width,jr.textAlign),adjustTextY(jr.y,Wn,jr.textBaseline),pn,Wn))}},en.prototype._updateRichTexts=function(){var tn=this.style,nn=getStyleText(tn),rn=parseRichText(nn,tn),an=rn.width,ln=rn.outerWidth,cn=rn.outerHeight,un=tn.padding,fn=tn.x||0,hn=tn.y||0,pn=this._defaultStyle,gn=tn.align||pn.align,mn=tn.verticalAlign||pn.verticalAlign,_n=adjustTextX(fn,ln,gn),kn=adjustTextY(hn,cn,mn),Cn=_n,xn=kn;un&&(Cn+=un[3],xn+=un[0]);var Sn=Cn+an;needDrawBackground(tn)&&this._renderBackground(tn,tn,_n,kn,ln,cn);for(var Mn=!!tn.backgroundColor,In=0;In<rn.lines.length;In++){for(var On=rn.lines[In],Pn=On.tokens,Tn=Pn.length,Nn=On.lineHeight,Hn=On.width,Un=0,jn=Cn,Yn=Sn,Wn=Tn-1,Qn=void 0;Un<Tn&&(Qn=Pn[Un],!Qn.align||Qn.align==="left");)this._placeToken(Qn,tn,Nn,xn,jn,"left",Mn),Hn-=Qn.width,jn+=Qn.width,Un++;for(;Wn>=0&&(Qn=Pn[Wn],Qn.align==="right");)this._placeToken(Qn,tn,Nn,xn,Yn,"right",Mn),Hn-=Qn.width,Yn-=Qn.width,Wn--;for(jn+=(an-(jn-Cn)-(Sn-Yn)-Hn)/2;Un<=Wn;)Qn=Pn[Un],this._placeToken(Qn,tn,Nn,xn,jn+Qn.width/2,"center",Mn),jn+=Qn.width,Un++;xn+=Nn}},en.prototype._placeToken=function(tn,nn,rn,an,ln,cn,un){var fn=nn.rich[tn.styleName]||{};fn.text=tn.text;var hn=tn.verticalAlign,pn=an+rn/2;hn==="top"?pn=an+tn.height/2:hn==="bottom"&&(pn=an+rn-tn.height/2);var gn=!tn.isLineHolder&&needDrawBackground(fn);gn&&this._renderBackground(fn,nn,cn==="right"?ln-tn.width:cn==="center"?ln-tn.width/2:ln,pn-tn.height/2,tn.width,tn.height);var mn=!!fn.backgroundColor,_n=tn.textPadding;_n&&(ln=getTextXForPadding(ln,cn,_n),pn-=tn.height/2-_n[0]-tn.innerHeight/2);var kn=this._getOrCreateChild(TSpan$1),Cn=kn.createStyle();kn.useStyle(Cn);var xn=this._defaultStyle,Sn=!1,Mn=0,In=getFill("fill"in fn?fn.fill:"fill"in nn?nn.fill:(Sn=!0,xn.fill)),On=getStroke("stroke"in fn?fn.stroke:"stroke"in nn?nn.stroke:!mn&&!un&&(!xn.autoStroke||Sn)?(Mn=DEFAULT_STROKE_LINE_WIDTH,xn.stroke):null),Pn=fn.textShadowBlur>0||nn.textShadowBlur>0;Cn.text=tn.text,Cn.x=ln,Cn.y=pn,Pn&&(Cn.shadowBlur=fn.textShadowBlur||nn.textShadowBlur||0,Cn.shadowColor=fn.textShadowColor||nn.textShadowColor||"transparent",Cn.shadowOffsetX=fn.textShadowOffsetX||nn.textShadowOffsetX||0,Cn.shadowOffsetY=fn.textShadowOffsetY||nn.textShadowOffsetY||0),Cn.textAlign=cn,Cn.textBaseline="middle",Cn.font=tn.font||DEFAULT_FONT,Cn.opacity=retrieve3(fn.opacity,nn.opacity,1),setSeparateFont(Cn,fn),On&&(Cn.lineWidth=retrieve3(fn.lineWidth,nn.lineWidth,Mn),Cn.lineDash=retrieve2(fn.lineDash,nn.lineDash),Cn.lineDashOffset=nn.lineDashOffset||0,Cn.stroke=On),In&&(Cn.fill=In);var Tn=tn.contentWidth,Nn=tn.contentHeight;kn.setBoundingRect(new BoundingRect$1(adjustTextX(Cn.x,Tn,Cn.textAlign),adjustTextY(Cn.y,Nn,Cn.textBaseline),Tn,Nn))},en.prototype._renderBackground=function(tn,nn,rn,an,ln,cn){var un=tn.backgroundColor,fn=tn.borderWidth,hn=tn.borderColor,pn=un&&un.image,gn=un&&!pn,mn=tn.borderRadius,_n=this,kn,Cn;if(gn||tn.lineHeight||fn&&hn){kn=this._getOrCreateChild(Rect$3),kn.useStyle(kn.createStyle()),kn.style.fill=null;var xn=kn.shape;xn.x=rn,xn.y=an,xn.width=ln,xn.height=cn,xn.r=mn,kn.dirtyShape()}if(gn){var Sn=kn.style;Sn.fill=un||null,Sn.fillOpacity=retrieve2(tn.fillOpacity,1)}else if(pn){Cn=this._getOrCreateChild(ZRImage$1),Cn.onload=function(){_n.dirtyStyle()};var Mn=Cn.style;Mn.image=un.image,Mn.x=rn,Mn.y=an,Mn.width=ln,Mn.height=cn}if(fn&&hn){var Sn=kn.style;Sn.lineWidth=fn,Sn.stroke=hn,Sn.strokeOpacity=retrieve2(tn.strokeOpacity,1),Sn.lineDash=tn.borderDash,Sn.lineDashOffset=tn.borderDashOffset||0,kn.strokeContainThreshold=0,kn.hasFill()&&kn.hasStroke()&&(Sn.strokeFirst=!0,Sn.lineWidth*=2)}var In=(kn||Cn).style;In.shadowBlur=tn.shadowBlur||0,In.shadowColor=tn.shadowColor||"transparent",In.shadowOffsetX=tn.shadowOffsetX||0,In.shadowOffsetY=tn.shadowOffsetY||0,In.opacity=retrieve3(tn.opacity,nn.opacity,1)},en.makeFont=function(tn){var nn="";return hasSeparateFont(tn)&&(nn=[tn.fontStyle,tn.fontWeight,parseFontSize(tn.fontSize),tn.fontFamily||"sans-serif"].join(" ")),nn&&trim$1(nn)||tn.textFont||tn.font},en}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(Fe){return typeof Fe=="string"&&(Fe.indexOf("px")!==-1||Fe.indexOf("rem")!==-1||Fe.indexOf("em")!==-1)?Fe:isNaN(+Fe)?DEFAULT_FONT_SIZE+"px":Fe+"px"}function setSeparateFont(Fe,en){for(var tn=0;tn<FONT_PARTS.length;tn++){var nn=FONT_PARTS[tn],rn=en[nn];rn!=null&&(Fe[nn]=rn)}}function hasSeparateFont(Fe){return Fe.fontSize!=null||Fe.fontFamily||Fe.fontWeight}function normalizeTextStyle(Fe){return normalizeStyle(Fe),each$f(Fe.rich,normalizeStyle),Fe}function normalizeStyle(Fe){if(Fe){Fe.font=ZRText.makeFont(Fe);var en=Fe.align;en==="middle"&&(en="center"),Fe.align=en==null||VALID_TEXT_ALIGN[en]?en:"left";var tn=Fe.verticalAlign;tn==="center"&&(tn="middle"),Fe.verticalAlign=tn==null||VALID_TEXT_VERTICAL_ALIGN[tn]?tn:"top";var nn=Fe.padding;nn&&(Fe.padding=normalizeCssArray$1(Fe.padding))}}function getStroke(Fe,en){return Fe==null||en<=0||Fe==="transparent"||Fe==="none"?null:Fe.image||Fe.colorStops?"#000":Fe}function getFill(Fe){return Fe==null||Fe==="none"?null:Fe.image||Fe.colorStops?"#000":Fe}function getTextXForPadding(Fe,en,tn){return en==="right"?Fe-tn[1]:en==="center"?Fe+tn[3]/2-tn[1]/2:Fe+tn[3]}function getStyleText(Fe){var en=Fe.text;return en!=null&&(en+=""),en}function needDrawBackground(Fe){return!!(Fe.backgroundColor||Fe.lineHeight||Fe.borderWidth&&Fe.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(Fe,en,tn,nn){if(nn){var rn=getECData(nn);rn.dataIndex=tn,rn.dataType=en,rn.seriesIndex=Fe,nn.type==="group"&&nn.traverse(function(an){var ln=getECData(an);ln.seriesIndex=Fe,ln.dataIndex=tn,ln.dataType=en})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(Fe){return Fe!=null&&Fe!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(Fe){if(isString(Fe)){var en=liftedColorCache.get(Fe);return en||(en=lift(Fe,-.1),liftedColorCache.put(Fe,en)),en}else if(isGradientObject(Fe)){var tn=extend$1({},Fe);return tn.colorStops=map$1(Fe.colorStops,function(nn){return{offset:nn.offset,color:lift(nn.color,-.1)}}),tn}return Fe}function doChangeHoverState(Fe,en,tn){Fe.onHoverStateChange&&(Fe.hoverState||0)!==tn&&Fe.onHoverStateChange(en),Fe.hoverState=tn}function singleEnterEmphasis(Fe){doChangeHoverState(Fe,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(Fe){Fe.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(Fe,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(Fe){doChangeHoverState(Fe,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(Fe){Fe.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(Fe,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(Fe){Fe.selected=!0}function singleLeaveSelect(Fe){Fe.selected=!1}function updateElementState(Fe,en,tn){en(Fe,tn)}function traverseUpdateState(Fe,en,tn){updateElementState(Fe,en,tn),Fe.isGroup&&Fe.traverse(function(nn){updateElementState(nn,en,tn)})}function setStatesFlag(Fe,en){switch(en){case"emphasis":Fe.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":Fe.hoverState=HOVER_STATE_NORMAL;break;case"blur":Fe.hoverState=HOVER_STATE_BLUR;break;case"select":Fe.selected=!0}}function getFromStateStyle(Fe,en,tn,nn){for(var rn=Fe.style,an={},ln=0;ln<en.length;ln++){var cn=en[ln],un=rn[cn];an[cn]=un??(nn&&nn[cn])}for(var ln=0;ln<Fe.animators.length;ln++){var fn=Fe.animators[ln];fn.__fromStateTransition&&fn.__fromStateTransition.indexOf(tn)<0&&fn.targetName==="style"&&fn.saveTo(an,en)}return an}function createEmphasisDefaultState(Fe,en,tn,nn){var rn=tn&&indexOf(tn,"select")>=0,an=!1;if(Fe instanceof Path$1){var ln=getSavedStates(Fe),cn=rn&&ln.selectFill||ln.normalFill,un=rn&&ln.selectStroke||ln.normalStroke;if(hasFillOrStroke(cn)||hasFillOrStroke(un)){nn=nn||{};var fn=nn.style||{};fn.fill==="inherit"?(an=!0,nn=extend$1({},nn),fn=extend$1({},fn),fn.fill=cn):!hasFillOrStroke(fn.fill)&&hasFillOrStroke(cn)?(an=!0,nn=extend$1({},nn),fn=extend$1({},fn),fn.fill=liftColor(cn)):!hasFillOrStroke(fn.stroke)&&hasFillOrStroke(un)&&(an||(nn=extend$1({},nn),fn=extend$1({},fn)),fn.stroke=liftColor(un)),nn.style=fn}}if(nn&&nn.z2==null){an||(nn=extend$1({},nn));var hn=Fe.z2EmphasisLift;nn.z2=Fe.z2+(hn??Z2_EMPHASIS_LIFT)}return nn}function createSelectDefaultState(Fe,en,tn){if(tn&&tn.z2==null){tn=extend$1({},tn);var nn=Fe.z2SelectLift;tn.z2=Fe.z2+(nn??Z2_SELECT_LIFT)}return tn}function createBlurDefaultState(Fe,en,tn){var nn=indexOf(Fe.currentStates,en)>=0,rn=Fe.style.opacity,an=nn?null:getFromStateStyle(Fe,["opacity"],en,{opacity:1});tn=tn||{};var ln=tn.style||{};return ln.opacity==null&&(tn=extend$1({},tn),ln=extend$1({opacity:nn?rn:an.opacity*.1},ln),tn.style=ln),tn}function elementStateProxy(Fe,en){var tn=this.states[Fe];if(this.style){if(Fe==="emphasis")return createEmphasisDefaultState(this,Fe,en,tn);if(Fe==="blur")return createBlurDefaultState(this,Fe,tn);if(Fe==="select")return createSelectDefaultState(this,Fe,tn)}return tn}function setDefaultStateProxy(Fe){Fe.stateProxy=elementStateProxy;var en=Fe.getTextContent(),tn=Fe.getTextGuideLine();en&&(en.stateProxy=elementStateProxy),tn&&(tn.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(Fe,en){!shouldSilent(Fe,en)&&!Fe.__highByOuter&&traverseUpdateState(Fe,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(Fe,en){!shouldSilent(Fe,en)&&!Fe.__highByOuter&&traverseUpdateState(Fe,singleLeaveEmphasis)}function enterEmphasis(Fe,en){Fe.__highByOuter|=1<<(en||0),traverseUpdateState(Fe,singleEnterEmphasis)}function leaveEmphasis(Fe,en){!(Fe.__highByOuter&=~(1<<(en||0)))&&traverseUpdateState(Fe,singleLeaveEmphasis)}function enterBlur(Fe){traverseUpdateState(Fe,singleEnterBlur)}function leaveBlur(Fe){traverseUpdateState(Fe,singleLeaveBlur)}function enterSelect(Fe){traverseUpdateState(Fe,singleEnterSelect)}function leaveSelect(Fe){traverseUpdateState(Fe,singleLeaveSelect)}function shouldSilent(Fe,en){return Fe.__highDownSilentOnTouch&&en.zrByTouch}function allLeaveBlur(Fe){var en=Fe.getModel(),tn=[],nn=[];en.eachComponent(function(rn,an){var ln=getComponentStates(an),cn=rn==="series",un=cn?Fe.getViewOfSeriesModel(an):Fe.getViewOfComponentModel(an);!cn&&nn.push(un),ln.isBlured&&(un.group.traverse(function(fn){singleLeaveBlur(fn)}),cn&&tn.push(an)),ln.isBlured=!1}),each$f(nn,function(rn){rn&&rn.toggleBlurSeries&&rn.toggleBlurSeries(tn,!1,en)})}function blurSeries(Fe,en,tn,nn){var rn=nn.getModel();tn=tn||"coordinateSystem";function an(fn,hn){for(var pn=0;pn<hn.length;pn++){var gn=fn.getItemGraphicEl(hn[pn]);gn&&leaveBlur(gn)}}if(Fe!=null&&!(!en||en==="none")){var ln=rn.getSeriesByIndex(Fe),cn=ln.coordinateSystem;cn&&cn.master&&(cn=cn.master);var un=[];rn.eachSeries(function(fn){var hn=ln===fn,pn=fn.coordinateSystem;pn&&pn.master&&(pn=pn.master);var gn=pn&&cn?pn===cn:hn;if(!(tn==="series"&&!hn||tn==="coordinateSystem"&&!gn||en==="series"&&hn)){var mn=nn.getViewOfSeriesModel(fn);if(mn.group.traverse(function(Cn){Cn.__highByOuter&&hn&&en==="self"||singleEnterBlur(Cn)}),isArrayLike(en))an(fn.getData(),en);else if(isObject$3(en))for(var _n=keys(en),kn=0;kn<_n.length;kn++)an(fn.getData(_n[kn]),en[_n[kn]]);un.push(fn),getComponentStates(fn).isBlured=!0}}),rn.eachComponent(function(fn,hn){if(fn!=="series"){var pn=nn.getViewOfComponentModel(hn);pn&&pn.toggleBlurSeries&&pn.toggleBlurSeries(un,!0,rn)}})}}function blurComponent(Fe,en,tn){if(!(Fe==null||en==null)){var nn=tn.getModel().getComponent(Fe,en);if(nn){getComponentStates(nn).isBlured=!0;var rn=tn.getViewOfComponentModel(nn);!rn||!rn.focusBlurEnabled||rn.group.traverse(function(an){singleEnterBlur(an)})}}}function blurSeriesFromHighlightPayload(Fe,en,tn){var nn=Fe.seriesIndex,rn=Fe.getData(en.dataType);if(rn){var an=queryDataIndex(rn,en);an=(isArray$1(an)?an[0]:an)||0;var ln=rn.getItemGraphicEl(an);if(!ln)for(var cn=rn.count(),un=0;!ln&&un<cn;)ln=rn.getItemGraphicEl(un++);if(ln){var fn=getECData(ln);blurSeries(nn,fn.focus,fn.blurScope,tn)}else{var hn=Fe.get(["emphasis","focus"]),pn=Fe.get(["emphasis","blurScope"]);hn!=null&&blurSeries(nn,hn,pn,tn)}}}function findComponentHighDownDispatchers(Fe,en,tn,nn){var rn={focusSelf:!1,dispatchers:null};if(Fe==null||Fe==="series"||en==null||tn==null)return rn;var an=nn.getModel().getComponent(Fe,en);if(!an)return rn;var ln=nn.getViewOfComponentModel(an);if(!ln||!ln.findHighDownDispatchers)return rn;for(var cn=ln.findHighDownDispatchers(tn),un,fn=0;fn<cn.length;fn++)if(getECData(cn[fn]).focus==="self"){un=!0;break}return{focusSelf:un,dispatchers:cn}}function handleGlobalMouseOverForHighDown(Fe,en,tn){var nn=getECData(Fe),rn=findComponentHighDownDispatchers(nn.componentMainType,nn.componentIndex,nn.componentHighDownName,tn),an=rn.dispatchers,ln=rn.focusSelf;an?(ln&&blurComponent(nn.componentMainType,nn.componentIndex,tn),each$f(an,function(cn){return enterEmphasisWhenMouseOver(cn,en)})):(blurSeries(nn.seriesIndex,nn.focus,nn.blurScope,tn),nn.focus==="self"&&blurComponent(nn.componentMainType,nn.componentIndex,tn),enterEmphasisWhenMouseOver(Fe,en))}function handleGlobalMouseOutForHighDown(Fe,en,tn){allLeaveBlur(tn);var nn=getECData(Fe),rn=findComponentHighDownDispatchers(nn.componentMainType,nn.componentIndex,nn.componentHighDownName,tn).dispatchers;rn?each$f(rn,function(an){return leaveEmphasisWhenMouseOut(an,en)}):leaveEmphasisWhenMouseOut(Fe,en)}function toggleSelectionFromPayload(Fe,en,tn){if(isSelectChangePayload(en)){var nn=en.dataType,rn=Fe.getData(nn),an=queryDataIndex(rn,en);isArray$1(an)||(an=[an]),Fe[en.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":en.type===SELECT_ACTION_TYPE?"select":"unselect"](an,nn)}}function updateSeriesElementSelection(Fe){var en=Fe.getAllData();each$f(en,function(tn){var nn=tn.data,rn=tn.type;nn.eachItemGraphicEl(function(an,ln){Fe.isSelected(ln,rn)?enterSelect(an):leaveSelect(an)})})}function getAllSelectedIndices(Fe){var en=[];return Fe.eachSeries(function(tn){var nn=tn.getAllData();each$f(nn,function(rn){rn.data;var an=rn.type,ln=tn.getSelectedDataIndices();if(ln.length>0){var cn={dataIndex:ln,seriesIndex:tn.seriesIndex};an!=null&&(cn.dataType=an),en.push(cn)}})}),en}function enableHoverEmphasis(Fe,en,tn){setAsHighDownDispatcher(Fe,!0),traverseUpdateState(Fe,setDefaultStateProxy),enableHoverFocus(Fe,en,tn)}function disableHoverEmphasis(Fe){setAsHighDownDispatcher(Fe,!1)}function toggleHoverEmphasis(Fe,en,tn,nn){nn?disableHoverEmphasis(Fe):enableHoverEmphasis(Fe,en,tn)}function enableHoverFocus(Fe,en,tn){var nn=getECData(Fe);en!=null?(nn.focus=en,nn.blurScope=tn):nn.focus&&(nn.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(Fe,en,tn,nn){tn=tn||"itemStyle";for(var rn=0;rn<OTHER_STATES.length;rn++){var an=OTHER_STATES[rn],ln=en.getModel([an,tn]),cn=Fe.ensureState(an);cn.style=nn?nn(ln):ln[defaultStyleGetterMap[tn]]()}}function setAsHighDownDispatcher(Fe,en){var tn=en===!1,nn=Fe;Fe.highDownSilentOnTouch&&(nn.__highDownSilentOnTouch=Fe.highDownSilentOnTouch),(!tn||nn.__highDownDispatcher)&&(nn.__highByOuter=nn.__highByOuter||0,nn.__highDownDispatcher=!tn)}function isHighDownDispatcher(Fe){return!!(Fe&&Fe.__highDownDispatcher)}function enableComponentHighDownFeatures(Fe,en,tn){var nn=getECData(Fe);nn.componentMainType=en.mainType,nn.componentIndex=en.componentIndex,nn.componentHighDownName=tn}function getHighlightDigit(Fe){var en=_highlightKeyMap[Fe];return en==null&&_highlightNextDigit<=32&&(en=_highlightKeyMap[Fe]=_highlightNextDigit++),en}function isSelectChangePayload(Fe){var en=Fe.type;return en===SELECT_ACTION_TYPE||en===UNSELECT_ACTION_TYPE||en===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(Fe){var en=Fe.type;return en===HIGHLIGHT_ACTION_TYPE||en===DOWNPLAY_ACTION_TYPE}function savePathStates(Fe){var en=getSavedStates(Fe);en.normalFill=Fe.style.fill,en.normalStroke=Fe.style.stroke;var tn=Fe.states.select||{};en.selectFill=tn.style&&tn.style.fill||null,en.selectStroke=tn.style&&tn.style.stroke||null}var CMD$2=PathProxy$1.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(Fe,en){if(en){var tn=Fe.data,nn=Fe.len(),rn,an,ln,cn,un,fn,hn=CMD$2.M,pn=CMD$2.C,gn=CMD$2.L,mn=CMD$2.R,_n=CMD$2.A,kn=CMD$2.Q;for(ln=0,cn=0;ln<nn;){switch(rn=tn[ln++],cn=ln,an=0,rn){case hn:an=1;break;case gn:an=1;break;case pn:an=3;break;case kn:an=2;break;case _n:var Cn=en[4],xn=en[5],Sn=mathSqrt$2(en[0]*en[0]+en[1]*en[1]),Mn=mathSqrt$2(en[2]*en[2]+en[3]*en[3]),In=mathAtan2(-en[1]/Mn,en[0]/Sn);tn[ln]*=Sn,tn[ln++]+=Cn,tn[ln]*=Mn,tn[ln++]+=xn,tn[ln++]*=Sn,tn[ln++]*=Mn,tn[ln++]+=In,tn[ln++]+=In,ln+=2,cn=ln;break;case mn:fn[0]=tn[ln++],fn[1]=tn[ln++],applyTransform$1(fn,fn,en),tn[cn++]=fn[0],tn[cn++]=fn[1],fn[0]+=tn[ln++],fn[1]+=tn[ln++],applyTransform$1(fn,fn,en),tn[cn++]=fn[0],tn[cn++]=fn[1]}for(un=0;un<an;un++){var On=points$2[un];On[0]=tn[ln++],On[1]=tn[ln++],applyTransform$1(On,On,en),tn[cn++]=On[0],tn[cn++]=On[1]}}Fe.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(Fe){return Math.sqrt(Fe[0]*Fe[0]+Fe[1]*Fe[1])}function vRatio(Fe,en){return(Fe[0]*en[0]+Fe[1]*en[1])/(vMag(Fe)*vMag(en))}function vAngle(Fe,en){return(Fe[0]*en[1]<Fe[1]*en[0]?-1:1)*Math.acos(vRatio(Fe,en))}function processArc(Fe,en,tn,nn,rn,an,ln,cn,un,fn,hn){var pn=un*(PI$7/180),gn=mathCos$2(pn)*(Fe-tn)/2+mathSin$2(pn)*(en-nn)/2,mn=-1*mathSin$2(pn)*(Fe-tn)/2+mathCos$2(pn)*(en-nn)/2,_n=gn*gn/(ln*ln)+mn*mn/(cn*cn);_n>1&&(ln*=mathSqrt$1(_n),cn*=mathSqrt$1(_n));var kn=(rn===an?-1:1)*mathSqrt$1((ln*ln*(cn*cn)-ln*ln*(mn*mn)-cn*cn*(gn*gn))/(ln*ln*(mn*mn)+cn*cn*(gn*gn)))||0,Cn=kn*ln*mn/cn,xn=kn*-cn*gn/ln,Sn=(Fe+tn)/2+mathCos$2(pn)*Cn-mathSin$2(pn)*xn,Mn=(en+nn)/2+mathSin$2(pn)*Cn+mathCos$2(pn)*xn,In=vAngle([1,0],[(gn-Cn)/ln,(mn-xn)/cn]),On=[(gn-Cn)/ln,(mn-xn)/cn],Pn=[(-1*gn-Cn)/ln,(-1*mn-xn)/cn],Tn=vAngle(On,Pn);if(vRatio(On,Pn)<=-1&&(Tn=PI$7),vRatio(On,Pn)>=1&&(Tn=0),Tn<0){var Nn=Math.round(Tn/PI$7*1e6)/1e6;Tn=PI$7*2+Nn%2*PI$7}hn.addData(fn,Sn,Mn,ln,cn,In,Tn,pn,an)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(Fe){var en=new PathProxy$1;if(!Fe)return en;var tn=0,nn=0,rn=tn,an=nn,ln,cn=PathProxy$1.CMD,un=Fe.match(commandReg);if(!un)return en;for(var fn=0;fn<un.length;fn++){for(var hn=un[fn],pn=hn.charAt(0),gn=void 0,mn=hn.match(numberReg$1)||[],_n=mn.length,kn=0;kn<_n;kn++)mn[kn]=parseFloat(mn[kn]);for(var Cn=0;Cn<_n;){var xn=void 0,Sn=void 0,Mn=void 0,In=void 0,On=void 0,Pn=void 0,Tn=void 0,Nn=tn,Hn=nn,Un=void 0,jn=void 0;switch(pn){case"l":tn+=mn[Cn++],nn+=mn[Cn++],gn=cn.L,en.addData(gn,tn,nn);break;case"L":tn=mn[Cn++],nn=mn[Cn++],gn=cn.L,en.addData(gn,tn,nn);break;case"m":tn+=mn[Cn++],nn+=mn[Cn++],gn=cn.M,en.addData(gn,tn,nn),rn=tn,an=nn,pn="l";break;case"M":tn=mn[Cn++],nn=mn[Cn++],gn=cn.M,en.addData(gn,tn,nn),rn=tn,an=nn,pn="L";break;case"h":tn+=mn[Cn++],gn=cn.L,en.addData(gn,tn,nn);break;case"H":tn=mn[Cn++],gn=cn.L,en.addData(gn,tn,nn);break;case"v":nn+=mn[Cn++],gn=cn.L,en.addData(gn,tn,nn);break;case"V":nn=mn[Cn++],gn=cn.L,en.addData(gn,tn,nn);break;case"C":gn=cn.C,en.addData(gn,mn[Cn++],mn[Cn++],mn[Cn++],mn[Cn++],mn[Cn++],mn[Cn++]),tn=mn[Cn-2],nn=mn[Cn-1];break;case"c":gn=cn.C,en.addData(gn,mn[Cn++]+tn,mn[Cn++]+nn,mn[Cn++]+tn,mn[Cn++]+nn,mn[Cn++]+tn,mn[Cn++]+nn),tn+=mn[Cn-2],nn+=mn[Cn-1];break;case"S":xn=tn,Sn=nn,Un=en.len(),jn=en.data,ln===cn.C&&(xn+=tn-jn[Un-4],Sn+=nn-jn[Un-3]),gn=cn.C,Nn=mn[Cn++],Hn=mn[Cn++],tn=mn[Cn++],nn=mn[Cn++],en.addData(gn,xn,Sn,Nn,Hn,tn,nn);break;case"s":xn=tn,Sn=nn,Un=en.len(),jn=en.data,ln===cn.C&&(xn+=tn-jn[Un-4],Sn+=nn-jn[Un-3]),gn=cn.C,Nn=tn+mn[Cn++],Hn=nn+mn[Cn++],tn+=mn[Cn++],nn+=mn[Cn++],en.addData(gn,xn,Sn,Nn,Hn,tn,nn);break;case"Q":Nn=mn[Cn++],Hn=mn[Cn++],tn=mn[Cn++],nn=mn[Cn++],gn=cn.Q,en.addData(gn,Nn,Hn,tn,nn);break;case"q":Nn=mn[Cn++]+tn,Hn=mn[Cn++]+nn,tn+=mn[Cn++],nn+=mn[Cn++],gn=cn.Q,en.addData(gn,Nn,Hn,tn,nn);break;case"T":xn=tn,Sn=nn,Un=en.len(),jn=en.data,ln===cn.Q&&(xn+=tn-jn[Un-4],Sn+=nn-jn[Un-3]),tn=mn[Cn++],nn=mn[Cn++],gn=cn.Q,en.addData(gn,xn,Sn,tn,nn);break;case"t":xn=tn,Sn=nn,Un=en.len(),jn=en.data,ln===cn.Q&&(xn+=tn-jn[Un-4],Sn+=nn-jn[Un-3]),tn+=mn[Cn++],nn+=mn[Cn++],gn=cn.Q,en.addData(gn,xn,Sn,tn,nn);break;case"A":Mn=mn[Cn++],In=mn[Cn++],On=mn[Cn++],Pn=mn[Cn++],Tn=mn[Cn++],Nn=tn,Hn=nn,tn=mn[Cn++],nn=mn[Cn++],gn=cn.A,processArc(Nn,Hn,tn,nn,Pn,Tn,Mn,In,On,gn,en);break;case"a":Mn=mn[Cn++],In=mn[Cn++],On=mn[Cn++],Pn=mn[Cn++],Tn=mn[Cn++],Nn=tn,Hn=nn,tn+=mn[Cn++],nn+=mn[Cn++],gn=cn.A,processArc(Nn,Hn,tn,nn,Pn,Tn,Mn,In,On,gn,en);break}}(pn==="z"||pn==="Z")&&(gn=cn.Z,en.addData(gn),tn=rn,nn=an),ln=gn}return en.toStatic(),en}var SVGPath=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.applyTransform=function(tn){},en}(Path$1);function isPathProxy(Fe){return Fe.setData!=null}function createPathOptions(Fe,en){var tn=createPathProxyFromString(Fe),nn=extend$1({},en);return nn.buildPath=function(rn){if(isPathProxy(rn)){rn.setData(tn.data);var an=rn.getContext();an&&rn.rebuildPath(an,1)}else{var an=rn;tn.rebuildPath(an,1)}},nn.applyTransform=function(rn){transformPath(tn,rn),this.dirtyShape()},nn}function createFromString(Fe,en){return new SVGPath(createPathOptions(Fe,en))}function extendFromString(Fe,en){var tn=createPathOptions(Fe,en),nn=function(rn){__extends(an,rn);function an(ln){var cn=rn.call(this,ln)||this;return cn.applyTransform=tn.applyTransform,cn.buildPath=tn.buildPath,cn}return an}(SVGPath);return nn}function mergePath$1(Fe,en){for(var tn=[],nn=Fe.length,rn=0;rn<nn;rn++){var an=Fe[rn];tn.push(an.getUpdatedPathProxy(!0))}var ln=new Path$1(en);return ln.createPathProxy(),ln.buildPath=function(cn){if(isPathProxy(cn)){cn.appendPath(tn);var un=cn.getContext();un&&cn.rebuildPath(un,1)}},ln}function clonePath(Fe,en){en=en||{};var tn=new Path$1;return Fe.shape&&tn.setShape(Fe.shape),tn.setStyle(Fe.style),en.bakeTransform?transformPath(tn.path,Fe.getComputedTransform()):en.toLocal?tn.setLocalTransform(Fe.getComputedTransform()):tn.copyTransform(Fe),tn.buildPath=Fe.buildPath,tn.applyTransform=tn.applyTransform,tn.z=Fe.z,tn.z2=Fe.z2,tn.zlevel=Fe.zlevel,tn}var CircleShape=function(){function Fe(){this.cx=0,this.cy=0,this.r=0}return Fe}(),Circle=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultShape=function(){return new CircleShape},en.prototype.buildPath=function(tn,nn){tn.moveTo(nn.cx+nn.r,nn.cy),tn.arc(nn.cx,nn.cy,nn.r,0,Math.PI*2)},en}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function Fe(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return Fe}(),Ellipse=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultShape=function(){return new EllipseShape},en.prototype.buildPath=function(tn,nn){var rn=.5522848,an=nn.cx,ln=nn.cy,cn=nn.rx,un=nn.ry,fn=cn*rn,hn=un*rn;tn.moveTo(an-cn,ln),tn.bezierCurveTo(an-cn,ln-hn,an-fn,ln-un,an,ln-un),tn.bezierCurveTo(an+fn,ln-un,an+cn,ln-hn,an+cn,ln),tn.bezierCurveTo(an+cn,ln+hn,an+fn,ln+un,an,ln+un),tn.bezierCurveTo(an-fn,ln+un,an-cn,ln+hn,an-cn,ln),tn.closePath()},en}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(Fe,en,tn,nn,rn,an,ln,cn){var un=tn-Fe,fn=nn-en,hn=ln-rn,pn=cn-an,gn=pn*un-hn*fn;if(!(gn*gn<e))return gn=(hn*(en-an)-pn*(Fe-rn))/gn,[Fe+gn*un,en+gn*fn]}function computeCornerTangents(Fe,en,tn,nn,rn,an,ln){var cn=Fe-tn,un=en-nn,fn=(ln?an:-an)/mathSqrt(cn*cn+un*un),hn=fn*un,pn=-fn*cn,gn=Fe+hn,mn=en+pn,_n=tn+hn,kn=nn+pn,Cn=(gn+_n)/2,xn=(mn+kn)/2,Sn=_n-gn,Mn=kn-mn,In=Sn*Sn+Mn*Mn,On=rn-an,Pn=gn*kn-_n*mn,Tn=(Mn<0?-1:1)*mathSqrt(mathMax$7(0,On*On*In-Pn*Pn)),Nn=(Pn*Mn-Sn*Tn)/In,Hn=(-Pn*Sn-Mn*Tn)/In,Un=(Pn*Mn+Sn*Tn)/In,jn=(-Pn*Sn+Mn*Tn)/In,Yn=Nn-Cn,Wn=Hn-xn,Qn=Un-Cn,Xn=jn-xn;return Yn*Yn+Wn*Wn>Qn*Qn+Xn*Xn&&(Nn=Un,Hn=jn),{cx:Nn,cy:Hn,x0:-hn,y0:-pn,x1:Nn*(rn/On-1),y1:Hn*(rn/On-1)}}function normalizeCornerRadius(Fe){var en;if(isArray$1(Fe)){var tn=Fe.length;if(!tn)return Fe;tn===1?en=[Fe[0],Fe[0],0,0]:tn===2?en=[Fe[0],Fe[0],Fe[1],Fe[1]]:tn===3?en=Fe.concat(Fe[2]):en=Fe}else en=[Fe,Fe,Fe,Fe];return en}function buildPath$1(Fe,en){var tn,nn=mathMax$7(en.r,0),rn=mathMax$7(en.r0||0,0),an=nn>0,ln=rn>0;if(!(!an&&!ln)){if(an||(nn=rn,rn=0),rn>nn){var cn=nn;nn=rn,rn=cn}var un=en.startAngle,fn=en.endAngle;if(!(isNaN(un)||isNaN(fn))){var hn=en.cx,pn=en.cy,gn=!!en.clockwise,mn=mathAbs$1(fn-un),_n=mn>PI2$3&&mn%PI2$3;if(_n>e&&(mn=_n),!(nn>e))Fe.moveTo(hn,pn);else if(mn>PI2$3-e)Fe.moveTo(hn+nn*mathCos$1(un),pn+nn*mathSin$1(un)),Fe.arc(hn,pn,nn,un,fn,!gn),rn>e&&(Fe.moveTo(hn+rn*mathCos$1(fn),pn+rn*mathSin$1(fn)),Fe.arc(hn,pn,rn,fn,un,gn));else{var kn=void 0,Cn=void 0,xn=void 0,Sn=void 0,Mn=void 0,In=void 0,On=void 0,Pn=void 0,Tn=void 0,Nn=void 0,Hn=void 0,Un=void 0,jn=void 0,Yn=void 0,Wn=void 0,Qn=void 0,Xn=nn*mathCos$1(un),jr=nn*mathSin$1(un),Wr=rn*mathCos$1(fn),Jr=rn*mathSin$1(fn),ci=mn>e;if(ci){var ti=en.cornerRadius;ti&&(tn=normalizeCornerRadius(ti),kn=tn[0],Cn=tn[1],xn=tn[2],Sn=tn[3]);var Zr=mathAbs$1(nn-rn)/2;if(Mn=mathMin$7(Zr,xn),In=mathMin$7(Zr,Sn),On=mathMin$7(Zr,kn),Pn=mathMin$7(Zr,Cn),Hn=Tn=mathMax$7(Mn,In),Un=Nn=mathMax$7(On,Pn),(Tn>e||Nn>e)&&(jn=nn*mathCos$1(fn),Yn=nn*mathSin$1(fn),Wn=rn*mathCos$1(un),Qn=rn*mathSin$1(un),mn<PI$6)){var Br=intersect(Xn,jr,Wn,Qn,jn,Yn,Wr,Jr);if(Br){var Jn=Xn-Br[0],oi=jr-Br[1],pi=jn-Br[0],ri=Yn-Br[1],fi=1/mathSin$1(mathACos((Jn*pi+oi*ri)/(mathSqrt(Jn*Jn+oi*oi)*mathSqrt(pi*pi+ri*ri)))/2),yi=mathSqrt(Br[0]*Br[0]+Br[1]*Br[1]);Hn=mathMin$7(Tn,(nn-yi)/(fi+1)),Un=mathMin$7(Nn,(rn-yi)/(fi-1))}}}if(!ci)Fe.moveTo(hn+Xn,pn+jr);else if(Hn>e){var Si=mathMin$7(xn,Hn),Pi=mathMin$7(Sn,Hn),Ui=computeCornerTangents(Wn,Qn,Xn,jr,nn,Si,gn),ji=computeCornerTangents(jn,Yn,Wr,Jr,nn,Pi,gn);Fe.moveTo(hn+Ui.cx+Ui.x0,pn+Ui.cy+Ui.y0),Hn<Tn&&Si===Pi?Fe.arc(hn+Ui.cx,pn+Ui.cy,Hn,mathATan2(Ui.y0,Ui.x0),mathATan2(ji.y0,ji.x0),!gn):(Si>0&&Fe.arc(hn+Ui.cx,pn+Ui.cy,Si,mathATan2(Ui.y0,Ui.x0),mathATan2(Ui.y1,Ui.x1),!gn),Fe.arc(hn,pn,nn,mathATan2(Ui.cy+Ui.y1,Ui.cx+Ui.x1),mathATan2(ji.cy+ji.y1,ji.cx+ji.x1),!gn),Pi>0&&Fe.arc(hn+ji.cx,pn+ji.cy,Pi,mathATan2(ji.y1,ji.x1),mathATan2(ji.y0,ji.x0),!gn))}else Fe.moveTo(hn+Xn,pn+jr),Fe.arc(hn,pn,nn,un,fn,!gn);if(!(rn>e)||!ci)Fe.lineTo(hn+Wr,pn+Jr);else if(Un>e){var Si=mathMin$7(kn,Un),Pi=mathMin$7(Cn,Un),Ui=computeCornerTangents(Wr,Jr,jn,Yn,rn,-Pi,gn),ji=computeCornerTangents(Xn,jr,Wn,Qn,rn,-Si,gn);Fe.lineTo(hn+Ui.cx+Ui.x0,pn+Ui.cy+Ui.y0),Un<Nn&&Si===Pi?Fe.arc(hn+Ui.cx,pn+Ui.cy,Un,mathATan2(Ui.y0,Ui.x0),mathATan2(ji.y0,ji.x0),!gn):(Pi>0&&Fe.arc(hn+Ui.cx,pn+Ui.cy,Pi,mathATan2(Ui.y0,Ui.x0),mathATan2(Ui.y1,Ui.x1),!gn),Fe.arc(hn,pn,rn,mathATan2(Ui.cy+Ui.y1,Ui.cx+Ui.x1),mathATan2(ji.cy+ji.y1,ji.cx+ji.x1),gn),Si>0&&Fe.arc(hn+ji.cx,pn+ji.cy,Si,mathATan2(ji.y1,ji.x1),mathATan2(ji.y0,ji.x0),!gn))}else Fe.lineTo(hn+Wr,pn+Jr),Fe.arc(hn,pn,rn,fn,un,gn)}Fe.closePath()}}}var SectorShape=function(){function Fe(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return Fe}(),Sector=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultShape=function(){return new SectorShape},en.prototype.buildPath=function(tn,nn){buildPath$1(tn,nn)},en.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},en}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function Fe(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return Fe}(),Ring=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultShape=function(){return new RingShape},en.prototype.buildPath=function(tn,nn){var rn=nn.cx,an=nn.cy,ln=Math.PI*2;tn.moveTo(rn+nn.r,an),tn.arc(rn,an,nn.r,0,ln,!1),tn.moveTo(rn+nn.r0,an),tn.arc(rn,an,nn.r0,0,ln,!0)},en}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(Fe,en,tn,nn){var rn=[],an=[],ln=[],cn=[],un,fn,hn,pn;if(nn){hn=[1/0,1/0],pn=[-1/0,-1/0];for(var gn=0,mn=Fe.length;gn<mn;gn++)min$1(hn,hn,Fe[gn]),max$1(pn,pn,Fe[gn]);min$1(hn,hn,nn[0]),max$1(pn,pn,nn[1])}for(var gn=0,mn=Fe.length;gn<mn;gn++){var _n=Fe[gn];if(tn)un=Fe[gn?gn-1:mn-1],fn=Fe[(gn+1)%mn];else if(gn===0||gn===mn-1){rn.push(clone$3(Fe[gn]));continue}else un=Fe[gn-1],fn=Fe[gn+1];sub(an,fn,un),scale$2(an,an,en);var kn=distance(_n,un),Cn=distance(_n,fn),xn=kn+Cn;xn!==0&&(kn/=xn,Cn/=xn),scale$2(ln,an,-kn),scale$2(cn,an,Cn);var Sn=add([],_n,ln),Mn=add([],_n,cn);nn&&(max$1(Sn,Sn,hn),min$1(Sn,Sn,pn),max$1(Mn,Mn,hn),min$1(Mn,Mn,pn)),rn.push(Sn),rn.push(Mn)}return tn&&rn.push(rn.shift()),rn}function buildPath(Fe,en,tn){var nn=en.smooth,rn=en.points;if(rn&&rn.length>=2){if(nn){var an=smoothBezier(rn,nn,tn,en.smoothConstraint);Fe.moveTo(rn[0][0],rn[0][1]);for(var ln=rn.length,cn=0;cn<(tn?ln:ln-1);cn++){var un=an[cn*2],fn=an[cn*2+1],hn=rn[(cn+1)%ln];Fe.bezierCurveTo(un[0],un[1],fn[0],fn[1],hn[0],hn[1])}}else{Fe.moveTo(rn[0][0],rn[0][1]);for(var cn=1,pn=rn.length;cn<pn;cn++)Fe.lineTo(rn[cn][0],rn[cn][1])}tn&&Fe.closePath()}}var PolygonShape=function(){function Fe(){this.points=null,this.smooth=0,this.smoothConstraint=null}return Fe}(),Polygon=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultShape=function(){return new PolygonShape},en.prototype.buildPath=function(tn,nn){buildPath(tn,nn,!0)},en}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function Fe(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return Fe}(),Polyline$2=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},en.prototype.getDefaultShape=function(){return new PolylineShape},en.prototype.buildPath=function(tn,nn){buildPath(tn,nn,!1)},en}(Path$1);Polyline$2.prototype.type="polyline";const Polyline$3=Polyline$2;var subPixelOptimizeOutputShape={},LineShape=function(){function Fe(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return Fe}(),Line$2=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},en.prototype.getDefaultShape=function(){return new LineShape},en.prototype.buildPath=function(tn,nn){var rn,an,ln,cn;if(this.subPixelOptimize){var un=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,nn,this.style);rn=un.x1,an=un.y1,ln=un.x2,cn=un.y2}else rn=nn.x1,an=nn.y1,ln=nn.x2,cn=nn.y2;var fn=nn.percent;fn!==0&&(tn.moveTo(rn,an),fn<1&&(ln=rn*(1-fn)+ln*fn,cn=an*(1-fn)+cn*fn),tn.lineTo(ln,cn))},en.prototype.pointAt=function(tn){var nn=this.shape;return[nn.x1*(1-tn)+nn.x2*tn,nn.y1*(1-tn)+nn.y2*tn]},en}(Path$1);Line$2.prototype.type="line";const Line$3=Line$2;var out=[],BezierCurveShape=function(){function Fe(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return Fe}();function someVectorAt(Fe,en,tn){var nn=Fe.cpx2,rn=Fe.cpy2;return nn!=null||rn!=null?[(tn?cubicDerivativeAt:cubicAt)(Fe.x1,Fe.cpx1,Fe.cpx2,Fe.x2,en),(tn?cubicDerivativeAt:cubicAt)(Fe.y1,Fe.cpy1,Fe.cpy2,Fe.y2,en)]:[(tn?quadraticDerivativeAt:quadraticAt$1)(Fe.x1,Fe.cpx1,Fe.x2,en),(tn?quadraticDerivativeAt:quadraticAt$1)(Fe.y1,Fe.cpy1,Fe.y2,en)]}var BezierCurve=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},en.prototype.getDefaultShape=function(){return new BezierCurveShape},en.prototype.buildPath=function(tn,nn){var rn=nn.x1,an=nn.y1,ln=nn.x2,cn=nn.y2,un=nn.cpx1,fn=nn.cpy1,hn=nn.cpx2,pn=nn.cpy2,gn=nn.percent;gn!==0&&(tn.moveTo(rn,an),hn==null||pn==null?(gn<1&&(quadraticSubdivide(rn,un,ln,gn,out),un=out[1],ln=out[2],quadraticSubdivide(an,fn,cn,gn,out),fn=out[1],cn=out[2]),tn.quadraticCurveTo(un,fn,ln,cn)):(gn<1&&(cubicSubdivide(rn,un,hn,ln,gn,out),un=out[1],hn=out[2],ln=out[3],cubicSubdivide(an,fn,pn,cn,gn,out),fn=out[1],pn=out[2],cn=out[3]),tn.bezierCurveTo(un,fn,hn,pn,ln,cn)))},en.prototype.pointAt=function(tn){return someVectorAt(this.shape,tn,!1)},en.prototype.tangentAt=function(tn){var nn=someVectorAt(this.shape,tn,!0);return normalize$3(nn,nn)},en}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function Fe(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return Fe}(),Arc=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},en.prototype.getDefaultShape=function(){return new ArcShape},en.prototype.buildPath=function(tn,nn){var rn=nn.cx,an=nn.cy,ln=Math.max(nn.r,0),cn=nn.startAngle,un=nn.endAngle,fn=nn.clockwise,hn=Math.cos(cn),pn=Math.sin(cn);tn.moveTo(hn*ln+rn,pn*ln+an),tn.arc(rn,an,ln,cn,un,!fn)},en}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type="compound",tn}return en.prototype._updatePathDirty=function(){for(var tn=this.shape.paths,nn=this.shapeChanged(),rn=0;rn<tn.length;rn++)nn=nn||tn[rn].shapeChanged();nn&&this.dirtyShape()},en.prototype.beforeBrush=function(){this._updatePathDirty();for(var tn=this.shape.paths||[],nn=this.getGlobalScale(),rn=0;rn<tn.length;rn++)tn[rn].path||tn[rn].createPathProxy(),tn[rn].path.setScale(nn[0],nn[1],tn[rn].segmentIgnoreThreshold)},en.prototype.buildPath=function(tn,nn){for(var rn=nn.paths||[],an=0;an<rn.length;an++)rn[an].buildPath(tn,rn[an].shape,!0)},en.prototype.afterBrush=function(){for(var tn=this.shape.paths||[],nn=0;nn<tn.length;nn++)tn[nn].pathUpdated()},en.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},en}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function Fe(en){this.colorStops=en||[]}return Fe.prototype.addColorStop=function(en,tn){this.colorStops.push({offset:en,color:tn})},Fe}();const Gradient$1=Gradient;var LinearGradient=function(Fe){__extends(en,Fe);function en(tn,nn,rn,an,ln,cn){var un=Fe.call(this,ln)||this;return un.x=tn??0,un.y=nn??0,un.x2=rn??1,un.y2=an??0,un.type="linear",un.global=cn||!1,un}return en}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(Fe){__extends(en,Fe);function en(tn,nn,rn,an,ln){var cn=Fe.call(this,an)||this;return cn.x=tn??.5,cn.y=nn??.5,cn.r=rn??.5,cn.type="radial",cn.global=ln||!1,cn}return en}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function Fe(en,tn){this._corners=[],this._axes=[],this._origin=[0,0];for(var nn=0;nn<4;nn++)this._corners[nn]=new Point$1;for(var nn=0;nn<2;nn++)this._axes[nn]=new Point$1;en&&this.fromBoundingRect(en,tn)}return Fe.prototype.fromBoundingRect=function(en,tn){var nn=this._corners,rn=this._axes,an=en.x,ln=en.y,cn=an+en.width,un=ln+en.height;if(nn[0].set(an,ln),nn[1].set(cn,ln),nn[2].set(cn,un),nn[3].set(an,un),tn)for(var fn=0;fn<4;fn++)nn[fn].transform(tn);Point$1.sub(rn[0],nn[1],nn[0]),Point$1.sub(rn[1],nn[3],nn[0]),rn[0].normalize(),rn[1].normalize();for(var fn=0;fn<2;fn++)this._origin[fn]=rn[fn].dot(nn[0])},Fe.prototype.intersect=function(en,tn){var nn=!0,rn=!tn;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,en,minTv,maxTv,rn,1)&&(nn=!1,rn)||!this._intersectCheckOneSide(en,this,minTv,maxTv,rn,-1)&&(nn=!1,rn)||rn||Point$1.copy(tn,nn?minTv:maxTv),nn},Fe.prototype._intersectCheckOneSide=function(en,tn,nn,rn,an,ln){for(var cn=!0,un=0;un<2;un++){var fn=this._axes[un];if(this._getProjMinMaxOnAxis(un,en._corners,extent),this._getProjMinMaxOnAxis(un,tn._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(cn=!1,an)return cn;var hn=Math.abs(extent2[0]-extent[1]),pn=Math.abs(extent[0]-extent2[1]);Math.min(hn,pn)>rn.len()&&(hn<pn?Point$1.scale(rn,fn,-hn*ln):Point$1.scale(rn,fn,pn*ln))}else if(nn){var hn=Math.abs(extent2[0]-extent[1]),pn=Math.abs(extent[0]-extent2[1]);Math.min(hn,pn)<nn.len()&&(hn<pn?Point$1.scale(nn,fn,hn*ln):Point$1.scale(nn,fn,-pn*ln))}}return cn},Fe.prototype._getProjMinMaxOnAxis=function(en,tn,nn){for(var rn=this._axes[en],an=this._origin,ln=tn[0].dot(rn)+an[en],cn=ln,un=ln,fn=1;fn<tn.length;fn++){var hn=tn[fn].dot(rn)+an[en];cn=Math.min(hn,cn),un=Math.max(hn,un)}nn[0]=cn,nn[1]=un},Fe}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.notClear=!0,tn.incremental=!0,tn._displayables=[],tn._temporaryDisplayables=[],tn._cursor=0,tn}return en.prototype.traverse=function(tn,nn){tn.call(nn,this)},en.prototype.useStyle=function(){this.style={}},en.prototype.getCursor=function(){return this._cursor},en.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},en.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},en.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},en.prototype.addDisplayable=function(tn,nn){nn?this._temporaryDisplayables.push(tn):this._displayables.push(tn),this.markRedraw()},en.prototype.addDisplayables=function(tn,nn){nn=nn||!1;for(var rn=0;rn<tn.length;rn++)this.addDisplayable(tn[rn],nn)},en.prototype.getDisplayables=function(){return this._displayables},en.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},en.prototype.eachPendingDisplayable=function(tn){for(var nn=this._cursor;nn<this._displayables.length;nn++)tn&&tn(this._displayables[nn]);for(var nn=0;nn<this._temporaryDisplayables.length;nn++)tn&&tn(this._temporaryDisplayables[nn])},en.prototype.update=function(){this.updateTransform();for(var tn=this._cursor;tn<this._displayables.length;tn++){var nn=this._displayables[tn];nn.parent=this,nn.update(),nn.parent=null}for(var tn=0;tn<this._temporaryDisplayables.length;tn++){var nn=this._temporaryDisplayables[tn];nn.parent=this,nn.update(),nn.parent=null}},en.prototype.getBoundingRect=function(){if(!this._rect){for(var tn=new BoundingRect$1(1/0,1/0,-1/0,-1/0),nn=0;nn<this._displayables.length;nn++){var rn=this._displayables[nn],an=rn.getBoundingRect().clone();rn.needLocalTransform()&&an.applyTransform(rn.getLocalTransform(m)),tn.union(an)}this._rect=tn}return this._rect},en.prototype.contain=function(tn,nn){var rn=this.transformCoordToLocal(tn,nn),an=this.getBoundingRect();if(an.contain(rn[0],rn[1]))for(var ln=0;ln<this._displayables.length;ln++){var cn=this._displayables[ln];if(cn.contain(tn,nn))return!0}return!1},en}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(Fe,en,tn,nn,rn){var an;if(en&&en.ecModel){var ln=en.ecModel.getUpdatePayload();an=ln&&ln.animation}var cn=en&&en.isAnimationEnabled(),un=Fe==="update";if(cn){var fn=void 0,hn=void 0,pn=void 0;nn?(fn=retrieve2(nn.duration,200),hn=retrieve2(nn.easing,"cubicOut"),pn=0):(fn=en.getShallow(un?"animationDurationUpdate":"animationDuration"),hn=en.getShallow(un?"animationEasingUpdate":"animationEasing"),pn=en.getShallow(un?"animationDelayUpdate":"animationDelay")),an&&(an.duration!=null&&(fn=an.duration),an.easing!=null&&(hn=an.easing),an.delay!=null&&(pn=an.delay)),isFunction(pn)&&(pn=pn(tn,rn)),isFunction(fn)&&(fn=fn(tn));var gn={duration:fn||0,delay:pn,easing:hn};return gn}else return null}function animateOrSetProps(Fe,en,tn,nn,rn,an,ln){var cn=!1,un;isFunction(rn)?(ln=an,an=rn,rn=null):isObject$3(rn)&&(an=rn.cb,ln=rn.during,cn=rn.isFrom,un=rn.removeOpt,rn=rn.dataIndex);var fn=Fe==="leave";fn||en.stopAnimation("leave");var hn=getAnimationConfig(Fe,nn,rn,fn?un||{}:null,nn&&nn.getAnimationDelayParams?nn.getAnimationDelayParams(en,rn):null);if(hn&&hn.duration>0){var pn=hn.duration,gn=hn.delay,mn=hn.easing,_n={duration:pn,delay:gn||0,easing:mn,done:an,force:!!an||!!ln,setToFinal:!fn,scope:Fe,during:ln};cn?en.animateFrom(tn,_n):en.animateTo(tn,_n)}else en.stopAnimation(),!cn&&en.attr(tn),ln&&ln(1),an&&an()}function updateProps$1(Fe,en,tn,nn,rn,an){animateOrSetProps("update",Fe,en,tn,nn,rn,an)}function initProps(Fe,en,tn,nn,rn,an){animateOrSetProps("enter",Fe,en,tn,nn,rn,an)}function isElementRemoved(Fe){if(!Fe.__zr)return!0;for(var en=0;en<Fe.animators.length;en++){var tn=Fe.animators[en];if(tn.scope==="leave")return!0}return!1}function removeElement(Fe,en,tn,nn,rn,an){isElementRemoved(Fe)||animateOrSetProps("leave",Fe,en,tn,nn,rn,an)}function fadeOutDisplayable(Fe,en,tn,nn){Fe.removeTextContent(),Fe.removeTextGuideLine(),removeElement(Fe,{style:{opacity:0}},en,tn,nn)}function removeElementWithFadeOut(Fe,en,tn){function nn(){Fe.parent&&Fe.parent.remove(Fe)}Fe.isGroup?Fe.traverse(function(rn){rn.isGroup||fadeOutDisplayable(rn,en,tn,nn)}):fadeOutDisplayable(Fe,en,tn,nn)}function saveOldStyle(Fe){transitionStore(Fe).oldStyle=Fe.style}function getOldStyle(Fe){return transitionStore(Fe).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(Fe){return Path$1.extend(Fe)}var extendPathFromString=extendFromString;function extendPath(Fe,en){return extendPathFromString(Fe,en)}function registerShape(Fe,en){_customShapeMap[Fe]=en}function getShapeClass(Fe){if(_customShapeMap.hasOwnProperty(Fe))return _customShapeMap[Fe]}function makePath(Fe,en,tn,nn){var rn=createFromString(Fe,en);return tn&&(nn==="center"&&(tn=centerGraphic(tn,rn.getBoundingRect())),resizePath(rn,tn)),rn}function makeImage(Fe,en,tn){var nn=new ZRImage$1({style:{image:Fe,x:en.x,y:en.y,width:en.width,height:en.height},onload:function(rn){if(tn==="center"){var an={width:rn.width,height:rn.height};nn.setStyle(centerGraphic(en,an))}}});return nn}function centerGraphic(Fe,en){var tn=en.width/en.height,nn=Fe.height*tn,rn;nn<=Fe.width?rn=Fe.height:(nn=Fe.width,rn=nn/tn);var an=Fe.x+Fe.width/2,ln=Fe.y+Fe.height/2;return{x:an-nn/2,y:ln-rn/2,width:nn,height:rn}}var mergePath=mergePath$1;function resizePath(Fe,en){if(Fe.applyTransform){var tn=Fe.getBoundingRect(),nn=tn.calculateTransform(en);Fe.applyTransform(nn)}}function subPixelOptimizeLine(Fe,en){return subPixelOptimizeLine$1(Fe,Fe,{lineWidth:en}),Fe}function subPixelOptimizeRect(Fe){return subPixelOptimizeRect$1(Fe.shape,Fe.shape,Fe.style),Fe}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(Fe,en){for(var tn=identity([]);Fe&&Fe!==en;)mul(tn,Fe.getLocalTransform(),tn),Fe=Fe.parent;return tn}function applyTransform(Fe,en,tn){return en&&!isArrayLike(en)&&(en=Transformable$1.getLocalTransform(en)),tn&&(en=invert([],en)),applyTransform$1([],Fe,en)}function transformDirection(Fe,en,tn){var nn=en[4]===0||en[5]===0||en[0]===0?1:Math.abs(2*en[4]/en[0]),rn=en[4]===0||en[5]===0||en[2]===0?1:Math.abs(2*en[4]/en[2]),an=[Fe==="left"?-nn:Fe==="right"?nn:0,Fe==="top"?-rn:Fe==="bottom"?rn:0];return an=applyTransform(an,en,tn),Math.abs(an[0])>Math.abs(an[1])?an[0]>0?"right":"left":an[1]>0?"bottom":"top"}function isNotGroup(Fe){return!Fe.isGroup}function isPath$1(Fe){return Fe.shape!=null}function groupTransition(Fe,en,tn){if(!Fe||!en)return;function nn(ln){var cn={};return ln.traverse(function(un){isNotGroup(un)&&un.anid&&(cn[un.anid]=un)}),cn}function rn(ln){var cn={x:ln.x,y:ln.y,rotation:ln.rotation};return isPath$1(ln)&&(cn.shape=extend$1({},ln.shape)),cn}var an=nn(Fe);en.traverse(function(ln){if(isNotGroup(ln)&&ln.anid){var cn=an[ln.anid];if(cn){var un=rn(ln);ln.attr(rn(cn)),updateProps$1(ln,un,tn,getECData(ln).dataIndex)}}})}function clipPointsByRect(Fe,en){return map$1(Fe,function(tn){var nn=tn[0];nn=mathMax$6(nn,en.x),nn=mathMin$6(nn,en.x+en.width);var rn=tn[1];return rn=mathMax$6(rn,en.y),rn=mathMin$6(rn,en.y+en.height),[nn,rn]})}function clipRectByRect(Fe,en){var tn=mathMax$6(Fe.x,en.x),nn=mathMin$6(Fe.x+Fe.width,en.x+en.width),rn=mathMax$6(Fe.y,en.y),an=mathMin$6(Fe.y+Fe.height,en.y+en.height);if(nn>=tn&&an>=rn)return{x:tn,y:rn,width:nn-tn,height:an-rn}}function createIcon(Fe,en,tn){var nn=extend$1({rectHover:!0},en),rn=nn.style={strokeNoScale:!0};if(tn=tn||{x:-1,y:-1,width:2,height:2},Fe)return Fe.indexOf("image://")===0?(rn.image=Fe.slice(8),defaults(rn,tn),new ZRImage$1(nn)):makePath(Fe.replace("path://",""),nn,tn,"center")}function linePolygonIntersect(Fe,en,tn,nn,rn){for(var an=0,ln=rn[rn.length-1];an<rn.length;an++){var cn=rn[an];if(lineLineIntersect$1(Fe,en,tn,nn,cn[0],cn[1],ln[0],ln[1]))return!0;ln=cn}}function lineLineIntersect$1(Fe,en,tn,nn,rn,an,ln,cn){var un=tn-Fe,fn=nn-en,hn=ln-rn,pn=cn-an,gn=crossProduct2d$1(hn,pn,un,fn);if(nearZero(gn))return!1;var mn=Fe-rn,_n=en-an,kn=crossProduct2d$1(mn,_n,un,fn)/gn;if(kn<0||kn>1)return!1;var Cn=crossProduct2d$1(mn,_n,hn,pn)/gn;return!(Cn<0||Cn>1)}function crossProduct2d$1(Fe,en,tn,nn){return Fe*nn-tn*en}function nearZero(Fe){return Fe<=1e-6&&Fe>=-1e-6}function setTooltipConfig(Fe){var en=Fe.itemTooltipOption,tn=Fe.componentModel,nn=Fe.itemName,rn=isString(en)?{formatter:en}:en,an=tn.mainType,ln=tn.componentIndex,cn={componentType:an,name:nn,$vars:["name"]};cn[an+"Index"]=ln;var un=Fe.formatterParamsExtra;un&&each$f(keys(un),function(hn){hasOwn(cn,hn)||(cn[hn]=un[hn],cn.$vars.push(hn))});var fn=getECData(Fe.el);fn.componentMainType=an,fn.componentIndex=ln,fn.tooltipConfig={name:nn,option:defaults({content:nn,formatterParams:cn},rn)}}function traverseElement(Fe,en){var tn;Fe.isGroup&&(tn=en(Fe)),tn||Fe.traverse(en)}function traverseElements(Fe,en){if(Fe)if(isArray$1(Fe))for(var tn=0;tn<Fe.length;tn++)traverseElement(Fe[tn],en);else traverseElement(Fe,en)}registerShape("circle",Circle$1);registerShape("ellipse",Ellipse$1);registerShape("sector",Sector$1);registerShape("ring",Ring$1);registerShape("polygon",Polygon$1);registerShape("polyline",Polyline$3);registerShape("rect",Rect$3);registerShape("line",Line$3);registerShape("bezierCurve",BezierCurve$1);registerShape("arc",Arc$1);const graphic$1=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$4,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$3,LinearGradient:LinearGradient$1,OrientedBoundingRect:OrientedBoundingRect$1,Path:Path$1,Point:Point$1,Polygon:Polygon$1,Polyline:Polyline$3,RadialGradient:RadialGradient$1,Rect:Rect$3,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,groupTransition,initProps,isElementRemoved,lineLineIntersect:lineLineIntersect$1,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(Fe,en){for(var tn=0;tn<SPECIAL_STATES.length;tn++){var nn=SPECIAL_STATES[tn],rn=en[nn],an=Fe.ensureState(nn);an.style=an.style||{},an.style.text=rn}var ln=Fe.currentStates.slice();Fe.clearStates(!0),Fe.setStyle({text:en.normal}),Fe.useStates(ln,!0)}function getLabelText(Fe,en,tn){var nn=Fe.labelFetcher,rn=Fe.labelDataIndex,an=Fe.labelDimIndex,ln=en.normal,cn;nn&&(cn=nn.getFormattedLabel(rn,"normal",null,an,ln&&ln.get("formatter"),tn!=null?{interpolatedValue:tn}:null)),cn==null&&(cn=isFunction(Fe.defaultText)?Fe.defaultText(rn,Fe,tn):Fe.defaultText);for(var un={normal:cn},fn=0;fn<SPECIAL_STATES.length;fn++){var hn=SPECIAL_STATES[fn],pn=en[hn];un[hn]=retrieve2(nn?nn.getFormattedLabel(rn,hn,null,an,pn&&pn.get("formatter")):null,cn)}return un}function setLabelStyle(Fe,en,tn,nn){tn=tn||EMPTY_OBJ;for(var rn=Fe instanceof ZRText$1,an=!1,ln=0;ln<DISPLAY_STATES.length;ln++){var cn=en[DISPLAY_STATES[ln]];if(cn&&cn.getShallow("show")){an=!0;break}}var un=rn?Fe:Fe.getTextContent();if(an){rn||(un||(un=new ZRText$1,Fe.setTextContent(un)),Fe.stateProxy&&(un.stateProxy=Fe.stateProxy));var fn=getLabelText(tn,en),hn=en.normal,pn=!!hn.getShallow("show"),gn=createTextStyle$1(hn,nn&&nn.normal,tn,!1,!rn);gn.text=fn.normal,rn||Fe.setTextConfig(createTextConfig(hn,tn,!1));for(var ln=0;ln<SPECIAL_STATES.length;ln++){var mn=SPECIAL_STATES[ln],cn=en[mn];if(cn){var _n=un.ensureState(mn),kn=!!retrieve2(cn.getShallow("show"),pn);if(kn!==pn&&(_n.ignore=!kn),_n.style=createTextStyle$1(cn,nn&&nn[mn],tn,!0,!rn),_n.style.text=fn[mn],!rn){var Cn=Fe.ensureState(mn);Cn.textConfig=createTextConfig(cn,tn,!0)}}}un.silent=!!hn.getShallow("silent"),un.style.x!=null&&(gn.x=un.style.x),un.style.y!=null&&(gn.y=un.style.y),un.ignore=!pn,un.useStyle(gn),un.dirty(),tn.enableTextSetter&&(labelInner(un).setLabelText=function(xn){var Sn=getLabelText(tn,en,xn);setLabelText(un,Sn)})}else un&&(un.ignore=!0);Fe.dirty()}function getLabelStatesModels(Fe,en){en=en||"label";for(var tn={normal:Fe.getModel(en)},nn=0;nn<SPECIAL_STATES.length;nn++){var rn=SPECIAL_STATES[nn];tn[rn]=Fe.getModel([rn,en])}return tn}function createTextStyle$1(Fe,en,tn,nn,rn){var an={};return setTextStyleCommon(an,Fe,tn,nn,rn),en&&extend$1(an,en),an}function createTextConfig(Fe,en,tn){en=en||{};var nn={},rn,an=Fe.getShallow("rotate"),ln=retrieve2(Fe.getShallow("distance"),tn?null:5),cn=Fe.getShallow("offset");return rn=Fe.getShallow("position")||(tn?null:"inside"),rn==="outside"&&(rn=en.defaultOutsidePosition||"top"),rn!=null&&(nn.position=rn),cn!=null&&(nn.offset=cn),an!=null&&(an*=Math.PI/180,nn.rotation=an),ln!=null&&(nn.distance=ln),nn.outsideFill=Fe.get("color")==="inherit"?en.inheritColor||null:"auto",nn}function setTextStyleCommon(Fe,en,tn,nn,rn){tn=tn||EMPTY_OBJ;var an=en.ecModel,ln=an&&an.option.textStyle,cn=getRichItemNames(en),un;if(cn){un={};for(var fn in cn)if(cn.hasOwnProperty(fn)){var hn=en.getModel(["rich",fn]);setTokenTextStyle(un[fn]={},hn,ln,tn,nn,rn,!1,!0)}}un&&(Fe.rich=un);var pn=en.get("overflow");pn&&(Fe.overflow=pn);var gn=en.get("minMargin");gn!=null&&(Fe.margin=gn),setTokenTextStyle(Fe,en,ln,tn,nn,rn,!0,!1)}function getRichItemNames(Fe){for(var en;Fe&&Fe!==Fe.ecModel;){var tn=(Fe.option||EMPTY_OBJ).rich;if(tn){en=en||{};for(var nn=keys(tn),rn=0;rn<nn.length;rn++){var an=nn[rn];en[an]=1}}Fe=Fe.parentModel}return en}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(Fe,en,tn,nn,rn,an,ln,cn){tn=!rn&&tn||EMPTY_OBJ;var un=nn&&nn.inheritColor,fn=en.getShallow("color"),hn=en.getShallow("textBorderColor"),pn=retrieve2(en.getShallow("opacity"),tn.opacity);(fn==="inherit"||fn==="auto")&&(un?fn=un:fn=null),(hn==="inherit"||hn==="auto")&&(un?hn=un:hn=null),an||(fn=fn||tn.color,hn=hn||tn.textBorderColor),fn!=null&&(Fe.fill=fn),hn!=null&&(Fe.stroke=hn);var gn=retrieve2(en.getShallow("textBorderWidth"),tn.textBorderWidth);gn!=null&&(Fe.lineWidth=gn);var mn=retrieve2(en.getShallow("textBorderType"),tn.textBorderType);mn!=null&&(Fe.lineDash=mn);var _n=retrieve2(en.getShallow("textBorderDashOffset"),tn.textBorderDashOffset);_n!=null&&(Fe.lineDashOffset=_n),!rn&&pn==null&&!cn&&(pn=nn&&nn.defaultOpacity),pn!=null&&(Fe.opacity=pn),!rn&&!an&&Fe.fill==null&&nn.inheritColor&&(Fe.fill=nn.inheritColor);for(var kn=0;kn<TEXT_PROPS_WITH_GLOBAL.length;kn++){var Cn=TEXT_PROPS_WITH_GLOBAL[kn],xn=retrieve2(en.getShallow(Cn),tn[Cn]);xn!=null&&(Fe[Cn]=xn)}for(var kn=0;kn<TEXT_PROPS_SELF.length;kn++){var Cn=TEXT_PROPS_SELF[kn],xn=en.getShallow(Cn);xn!=null&&(Fe[Cn]=xn)}if(Fe.verticalAlign==null){var Sn=en.getShallow("baseline");Sn!=null&&(Fe.verticalAlign=Sn)}if(!ln||!nn.disableBox){for(var kn=0;kn<TEXT_PROPS_BOX.length;kn++){var Cn=TEXT_PROPS_BOX[kn],xn=en.getShallow(Cn);xn!=null&&(Fe[Cn]=xn)}var Mn=en.getShallow("borderType");Mn!=null&&(Fe.borderDash=Mn),(Fe.backgroundColor==="auto"||Fe.backgroundColor==="inherit")&&un&&(Fe.backgroundColor=un),(Fe.borderColor==="auto"||Fe.borderColor==="inherit")&&un&&(Fe.borderColor=un)}}function getFont(Fe,en){var tn=en&&en.getModel("textStyle");return trim$1([Fe.fontStyle||tn&&tn.getShallow("fontStyle")||"",Fe.fontWeight||tn&&tn.getShallow("fontWeight")||"",(Fe.fontSize||tn&&tn.getShallow("fontSize")||12)+"px",Fe.fontFamily||tn&&tn.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(Fe,en,tn,nn){if(Fe){var rn=labelInner(Fe);rn.prevValue=rn.value,rn.value=tn;var an=en.normal;rn.valueAnimation=an.get("valueAnimation"),rn.valueAnimation&&(rn.precision=an.get("precision"),rn.defaultInterpolatedText=nn,rn.statesModels=en)}}function animateLabelValue(Fe,en,tn,nn,rn){var an=labelInner(Fe);if(!an.valueAnimation||an.prevValue===an.value)return;var ln=an.defaultInterpolatedText,cn=retrieve2(an.interpolatedValue,an.prevValue),un=an.value;function fn(hn){var pn=interpolateRawValues(tn,an.precision,cn,un,hn);an.interpolatedValue=hn===1?null:pn;var gn=getLabelText({labelDataIndex:en,labelFetcher:rn,defaultText:ln?ln(pn):pn+""},an.statesModels,pn);setLabelText(Fe,gn)}Fe.percent=0,(an.prevValue==null?initProps:updateProps$1)(Fe,{percent:1},nn,en,null,fn)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function Fe(){}return Fe.prototype.getTextColor=function(en){var tn=this.ecModel;return this.getShallow("color")||(!en&&tn?tn.get(PATH_COLOR):null)},Fe.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},Fe.prototype.getTextRect=function(en){for(var tn={text:en,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},nn=0;nn<textStyleParams.length;nn++)tn[textStyleParams[nn]]=this.getShallow(textStyleParams[nn]);return tmpText.useStyle(tn),tmpText.update(),tmpText.getBoundingRect()},Fe}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function Fe(){}return Fe.prototype.getLineStyle=function(en){return getLineStyle(this,en)},Fe}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function Fe(){}return Fe.prototype.getItemStyle=function(en,tn){return getItemStyle(this,en,tn)},Fe}(),Model=function(){function Fe(en,tn,nn){this.parentModel=tn,this.ecModel=nn,this.option=en}return Fe.prototype.init=function(en,tn,nn){},Fe.prototype.mergeOption=function(en,tn){merge(this.option,en,!0)},Fe.prototype.get=function(en,tn){return en==null?this.option:this._doGet(this.parsePath(en),!tn&&this.parentModel)},Fe.prototype.getShallow=function(en,tn){var nn=this.option,rn=nn==null?nn:nn[en];if(rn==null&&!tn){var an=this.parentModel;an&&(rn=an.getShallow(en))}return rn},Fe.prototype.getModel=function(en,tn){var nn=en!=null,rn=nn?this.parsePath(en):null,an=nn?this._doGet(rn):this.option;return tn=tn||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(rn)),new Fe(an,tn,this.ecModel)},Fe.prototype.isEmpty=function(){return this.option==null},Fe.prototype.restoreData=function(){},Fe.prototype.clone=function(){var en=this.constructor;return new en(clone$4(this.option))},Fe.prototype.parsePath=function(en){return typeof en=="string"?en.split("."):en},Fe.prototype.resolveParentPath=function(en){return en},Fe.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},Fe.prototype._doGet=function(en,tn){var nn=this.option;if(!en)return nn;for(var rn=0;rn<en.length&&!(en[rn]&&(nn=nn&&typeof nn=="object"?nn[en[rn]]:null,nn==null));rn++);return nn==null&&tn&&(nn=tn._doGet(this.resolveParentPath(en),tn.parentModel)),nn},Fe}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(Fe){return[Fe||"",base++].join("_")}function enableSubTypeDefaulter(Fe){var en={};Fe.registerSubTypeDefaulter=function(tn,nn){var rn=parseClassType(tn);en[rn.main]=nn},Fe.determineSubType=function(tn,nn){var rn=nn.type;if(!rn){var an=parseClassType(tn).main;Fe.hasSubTypes(tn)&&en[an]&&(rn=en[an](nn))}return rn}}function enableTopologicalTravel(Fe,en){Fe.topologicalTravel=function(an,ln,cn,un){if(!an.length)return;var fn=tn(ln),hn=fn.graph,pn=fn.noEntryList,gn={};for(each$f(an,function(Sn){gn[Sn]=!0});pn.length;){var mn=pn.pop(),_n=hn[mn],kn=!!gn[mn];kn&&(cn.call(un,mn,_n.originalDeps.slice()),delete gn[mn]),each$f(_n.successor,kn?xn:Cn)}each$f(gn,function(){var Sn="";throw new Error(Sn)});function Cn(Sn){hn[Sn].entryCount--,hn[Sn].entryCount===0&&pn.push(Sn)}function xn(Sn){gn[Sn]=!0,Cn(Sn)}};function tn(an){var ln={},cn=[];return each$f(an,function(un){var fn=nn(ln,un),hn=fn.originalDeps=en(un),pn=rn(hn,an);fn.entryCount=pn.length,fn.entryCount===0&&cn.push(un),each$f(pn,function(gn){indexOf(fn.predecessor,gn)<0&&fn.predecessor.push(gn);var mn=nn(ln,gn);indexOf(mn.successor,gn)<0&&mn.successor.push(un)})}),{graph:ln,noEntryList:cn}}function nn(an,ln){return an[ln]||(an[ln]={predecessor:[],successor:[]}),an[ln]}function rn(an,ln){var cn=[];return each$f(an,function(un){indexOf(ln,un)>=0&&cn.push(un)}),cn}}function inheritDefaultOption(Fe,en){return merge(merge({},Fe,!0),en,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],monthAbbr:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],dayOfWeek:["æææ¥","ææä¸","ææäº","ææä¸","ææå","ææäº","ææå­"],dayOfWeekAbbr:["æ¥","ä¸","äº","ä¸","å","äº","å­"]},legend:{selector:{all:"å¨é",inverse:"åé"}},toolbox:{brush:{title:{rect:"ç©å½¢éæ©",polygon:"åé",lineX:"æ¨ªåéæ©",lineY:"çºµåéæ©",keep:"ä¿æéæ©",clear:"æ¸é¤éæ©"}},dataView:{title:"æ°æ®è§å¾",lang:["æ°æ®è§å¾","å³é­","å·æ°"]},dataZoom:{title:{zoom:"åºåç¼©æ¾",back:"åºåç¼©æ¾è¿å"}},magicType:{title:{line:"åæ¢ä¸ºæçº¿å¾",bar:"åæ¢ä¸ºæ±ç¶å¾",stack:"åæ¢ä¸ºå å ",tiled:"åæ¢ä¸ºå¹³éº"}},restore:{title:"è¿å"},saveAsImage:{title:"ä¿å­ä¸ºå¾ç",lang:["å³é®å¦å­ä¸ºå¾ç"]}},series:{typeNames:{pie:"é¥¼å¾",bar:"æ±ç¶å¾",line:"æçº¿å¾",scatter:"æ£ç¹å¾",effectScatter:"æ¶æ¼ªæ£ç¹å¾",radar:"é·è¾¾å¾",tree:"æ å¾",treemap:"ç©å½¢æ å¾",boxplot:"ç®±åå¾",candlestick:"Kçº¿å¾",k:"Kçº¿å¾",heatmap:"ç­åå¾",map:"å°å¾",parallel:"å¹³è¡åæ å¾",lines:"çº¿å¾",graph:"å³ç³»å¾",sankey:"æ¡åºå¾",funnel:"æ¼æå¾",gauge:"ä»ªè¡¨çå¾",pictorialBar:"è±¡å½¢æ±å¾",themeRiver:"ä¸»é¢æ²³æµå¾",sunburst:"æ­æ¥å¾"}},aria:{general:{withTitle:"è¿æ¯ä¸ä¸ªå³äºâ{title}âçå¾è¡¨ã",withoutTitle:"è¿æ¯ä¸ä¸ªå¾è¡¨ï¼"},series:{single:{prefix:"",withName:"å¾è¡¨ç±»åæ¯{seriesType}ï¼è¡¨ç¤º{seriesName}ã",withoutName:"å¾è¡¨ç±»åæ¯{seriesType}ã"},multiple:{prefix:"å®ç±{seriesCount}ä¸ªå¾è¡¨ç³»åç»æã",withName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ªè¡¨ç¤º{seriesName}ç{seriesType}ï¼",withoutName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ª{seriesType}ï¼",separator:{middle:"ï¼",end:"ã"}}},data:{allData:"å¶æ°æ®æ¯ââ",partialData:"å¶ä¸­ï¼å{displayCnt}é¡¹æ¯ââ",withName:"{name}çæ°æ®æ¯{value}",withoutName:"{value}",separator:{middle:"ï¼",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var Fe=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return Fe.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(Fe,en){Fe=Fe.toUpperCase(),localeModels[Fe]=new Model$1(en),localeStorage[Fe]=en}function createLocaleObject(Fe){if(isString(Fe)){var en=localeStorage[Fe.toUpperCase()]||{};return Fe===LOCALE_ZH||Fe===LOCALE_EN?clone$4(en):merge(clone$4(en),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(Fe),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(Fe){return localeModels[Fe]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(Fe,en){return Fe+="","0000".substr(0,en-Fe.length)+Fe}function getPrimaryTimeUnit(Fe){switch(Fe){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return Fe}}function isPrimaryTimeUnit(Fe){return Fe===getPrimaryTimeUnit(Fe)}function getDefaultFormatPrecisionOfInterval(Fe){switch(Fe){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format$1(Fe,en,tn,nn){var rn=parseDate(Fe),an=rn[fullYearGetterName(tn)](),ln=rn[monthGetterName(tn)]()+1,cn=Math.floor((ln-1)/3)+1,un=rn[dateGetterName(tn)](),fn=rn["get"+(tn?"UTC":"")+"Day"](),hn=rn[hoursGetterName(tn)](),pn=(hn-1)%12+1,gn=rn[minutesGetterName(tn)](),mn=rn[secondsGetterName(tn)](),_n=rn[millisecondsGetterName(tn)](),kn=nn instanceof Model$1?nn:getLocaleModel(nn||SYSTEM_LANG)||getDefaultLocaleModel(),Cn=kn.getModel("time"),xn=Cn.get("month"),Sn=Cn.get("monthAbbr"),Mn=Cn.get("dayOfWeek"),In=Cn.get("dayOfWeekAbbr");return(en||"").replace(/{yyyy}/g,an+"").replace(/{yy}/g,pad(an%100+"",2)).replace(/{Q}/g,cn+"").replace(/{MMMM}/g,xn[ln-1]).replace(/{MMM}/g,Sn[ln-1]).replace(/{MM}/g,pad(ln,2)).replace(/{M}/g,ln+"").replace(/{dd}/g,pad(un,2)).replace(/{d}/g,un+"").replace(/{eeee}/g,Mn[fn]).replace(/{ee}/g,In[fn]).replace(/{e}/g,fn+"").replace(/{HH}/g,pad(hn,2)).replace(/{H}/g,hn+"").replace(/{hh}/g,pad(pn+"",2)).replace(/{h}/g,pn+"").replace(/{mm}/g,pad(gn,2)).replace(/{m}/g,gn+"").replace(/{ss}/g,pad(mn,2)).replace(/{s}/g,mn+"").replace(/{SSS}/g,pad(_n,3)).replace(/{S}/g,_n+"")}function leveledFormat(Fe,en,tn,nn,rn){var an=null;if(isString(tn))an=tn;else if(isFunction(tn))an=tn(Fe.value,en,{level:Fe.level});else{var ln=extend$1({},defaultLeveledFormatter);if(Fe.level>0)for(var cn=0;cn<primaryTimeUnits.length;++cn)ln[primaryTimeUnits[cn]]="{primary|"+ln[primaryTimeUnits[cn]]+"}";var un=tn?tn.inherit===!1?tn:defaults(tn,ln):ln,fn=getUnitFromValue(Fe.value,rn);if(un[fn])an=un[fn];else if(un.inherit){for(var hn=timeUnits.indexOf(fn),cn=hn-1;cn>=0;--cn)if(un[fn]){an=un[fn];break}an=an||ln.none}if(isArray$1(an)){var pn=Fe.level==null?0:Fe.level>=0?Fe.level:an.length+Fe.level;pn=Math.min(pn,an.length-1),an=an[pn]}}return format$1(new Date(Fe.value),an,rn,nn)}function getUnitFromValue(Fe,en){var tn=parseDate(Fe),nn=tn[monthGetterName(en)]()+1,rn=tn[dateGetterName(en)](),an=tn[hoursGetterName(en)](),ln=tn[minutesGetterName(en)](),cn=tn[secondsGetterName(en)](),un=tn[millisecondsGetterName(en)](),fn=un===0,hn=fn&&cn===0,pn=hn&&ln===0,gn=pn&&an===0,mn=gn&&rn===1,_n=mn&&nn===1;return _n?"year":mn?"month":gn?"day":pn?"hour":hn?"minute":fn?"second":"millisecond"}function getUnitValue(Fe,en,tn){var nn=isNumber(Fe)?parseDate(Fe):Fe;switch(en=en||getUnitFromValue(Fe,tn),en){case"year":return nn[fullYearGetterName(tn)]();case"half-year":return nn[monthGetterName(tn)]()>=6?1:0;case"quarter":return Math.floor((nn[monthGetterName(tn)]()+1)/4);case"month":return nn[monthGetterName(tn)]();case"day":return nn[dateGetterName(tn)]();case"half-day":return nn[hoursGetterName(tn)]()/24;case"hour":return nn[hoursGetterName(tn)]();case"minute":return nn[minutesGetterName(tn)]();case"second":return nn[secondsGetterName(tn)]();case"millisecond":return nn[millisecondsGetterName(tn)]()}}function fullYearGetterName(Fe){return Fe?"getUTCFullYear":"getFullYear"}function monthGetterName(Fe){return Fe?"getUTCMonth":"getMonth"}function dateGetterName(Fe){return Fe?"getUTCDate":"getDate"}function hoursGetterName(Fe){return Fe?"getUTCHours":"getHours"}function minutesGetterName(Fe){return Fe?"getUTCMinutes":"getMinutes"}function secondsGetterName(Fe){return Fe?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(Fe){return Fe?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(Fe){return Fe?"setUTCFullYear":"setFullYear"}function monthSetterName(Fe){return Fe?"setUTCMonth":"setMonth"}function dateSetterName(Fe){return Fe?"setUTCDate":"setDate"}function hoursSetterName(Fe){return Fe?"setUTCHours":"setHours"}function minutesSetterName(Fe){return Fe?"setUTCMinutes":"setMinutes"}function secondsSetterName(Fe){return Fe?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(Fe){return Fe?"setUTCMilliseconds":"setMilliseconds"}function getTextRect(Fe,en,tn,nn,rn,an,ln,cn){var un=new ZRText$1({style:{text:Fe,font:en,align:tn,verticalAlign:nn,padding:rn,rich:an,overflow:ln?"truncate":null,lineHeight:cn}});return un.getBoundingRect()}function addCommas(Fe){if(!isNumeric(Fe))return isString(Fe)?Fe:"-";var en=(Fe+"").split(".");return en[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(en.length>1?"."+en[1]:"")}function toCamelCase(Fe,en){return Fe=(Fe||"").toLowerCase().replace(/-(.)/g,function(tn,nn){return nn.toUpperCase()}),en&&Fe&&(Fe=Fe.charAt(0).toUpperCase()+Fe.slice(1)),Fe}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(Fe,en,tn){var nn="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function rn(hn){return hn&&trim$1(hn)?hn:"-"}function an(hn){return!!(hn!=null&&!isNaN(hn)&&isFinite(hn))}var ln=en==="time",cn=Fe instanceof Date;if(ln||cn){var un=ln?parseDate(Fe):Fe;if(isNaN(+un)){if(cn)return"-"}else return format$1(un,nn,tn)}if(en==="ordinal")return isStringSafe(Fe)?rn(Fe):isNumber(Fe)&&an(Fe)?Fe+"":"-";var fn=numericToNumber(Fe);return an(fn)?addCommas(fn):isStringSafe(Fe)?rn(Fe):typeof Fe=="boolean"?Fe+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(Fe,en){return"{"+Fe+(en??"")+"}"};function formatTpl(Fe,en,tn){isArray$1(en)||(en=[en]);var nn=en.length;if(!nn)return"";for(var rn=en[0].$vars||[],an=0;an<rn.length;an++){var ln=TPL_VAR_ALIAS[an];Fe=Fe.replace(wrapVar(ln),wrapVar(ln,0))}for(var cn=0;cn<nn;cn++)for(var un=0;un<rn.length;un++){var fn=en[cn][rn[un]];Fe=Fe.replace(wrapVar(TPL_VAR_ALIAS[un],cn),tn?encodeHTML(fn):fn)}return Fe}function formatTplSimple(Fe,en,tn){return each$f(en,function(nn,rn){Fe=Fe.replace("{"+rn+"}",tn?encodeHTML(nn):nn)}),Fe}function getTooltipMarker(Fe,en){var tn=isString(Fe)?{color:Fe,extraCssText:en}:Fe||{},nn=tn.color,rn=tn.type;en=tn.extraCssText;var an=tn.renderMode||"html";if(!nn)return"";if(an==="html")return rn==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(nn)+";"+(en||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(nn)+";"+(en||"")+'"></span>';var ln=tn.markerId||"markerX";return{renderMode:an,content:"{"+ln+"|}  ",style:rn==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:nn}:{width:10,height:10,borderRadius:5,backgroundColor:nn}}}function formatTime(Fe,en,tn){(Fe==="week"||Fe==="month"||Fe==="quarter"||Fe==="half-year"||Fe==="year")&&(Fe=`MM-dd
yyyy`);var nn=parseDate(en),rn=tn?"getUTC":"get",an=nn[rn+"FullYear"](),ln=nn[rn+"Month"]()+1,cn=nn[rn+"Date"](),un=nn[rn+"Hours"](),fn=nn[rn+"Minutes"](),hn=nn[rn+"Seconds"](),pn=nn[rn+"Milliseconds"]();return Fe=Fe.replace("MM",pad(ln,2)).replace("M",ln).replace("yyyy",an).replace("yy",pad(an%100+"",2)).replace("dd",pad(cn,2)).replace("d",cn).replace("hh",pad(un,2)).replace("h",un).replace("mm",pad(fn,2)).replace("m",fn).replace("ss",pad(hn,2)).replace("s",hn).replace("SSS",pad(pn,3)),Fe}function capitalFirst(Fe){return Fe&&Fe.charAt(0).toUpperCase()+Fe.substr(1)}function convertToColorString(Fe,en){return en=en||"transparent",isString(Fe)?Fe:isObject$3(Fe)&&Fe.colorStops&&(Fe.colorStops[0]||{}).color||en}function windowOpen(Fe,en){if(en==="_blank"||en==="blank"){var tn=window.open();tn.opener=null,tn.location.href=Fe}else window.open(Fe,en)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(Fe,en,tn,nn,rn){var an=0,ln=0;nn==null&&(nn=1/0),rn==null&&(rn=1/0);var cn=0;en.eachChild(function(un,fn){var hn=un.getBoundingRect(),pn=en.childAt(fn+1),gn=pn&&pn.getBoundingRect(),mn,_n;if(Fe==="horizontal"){var kn=hn.width+(gn?-gn.x+hn.x:0);mn=an+kn,mn>nn||un.newline?(an=0,mn=kn,ln+=cn+tn,cn=hn.height):cn=Math.max(cn,hn.height)}else{var Cn=hn.height+(gn?-gn.y+hn.y:0);_n=ln+Cn,_n>rn||un.newline?(an+=cn+tn,ln=0,_n=Cn,cn=hn.width):cn=Math.max(cn,hn.width)}un.newline||(un.x=an,un.y=ln,un.markRedraw(),Fe==="horizontal"?an=mn+tn:ln=_n+tn)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(Fe,en,tn){var nn=en.width,rn=en.height,an=parsePercent(Fe.left,nn),ln=parsePercent(Fe.top,rn),cn=parsePercent(Fe.right,nn),un=parsePercent(Fe.bottom,rn);return(isNaN(an)||isNaN(parseFloat(Fe.left)))&&(an=0),(isNaN(cn)||isNaN(parseFloat(Fe.right)))&&(cn=nn),(isNaN(ln)||isNaN(parseFloat(Fe.top)))&&(ln=0),(isNaN(un)||isNaN(parseFloat(Fe.bottom)))&&(un=rn),tn=normalizeCssArray(tn||0),{width:Math.max(cn-an-tn[1]-tn[3],0),height:Math.max(un-ln-tn[0]-tn[2],0)}}function getLayoutRect(Fe,en,tn){tn=normalizeCssArray(tn||0);var nn=en.width,rn=en.height,an=parsePercent(Fe.left,nn),ln=parsePercent(Fe.top,rn),cn=parsePercent(Fe.right,nn),un=parsePercent(Fe.bottom,rn),fn=parsePercent(Fe.width,nn),hn=parsePercent(Fe.height,rn),pn=tn[2]+tn[0],gn=tn[1]+tn[3],mn=Fe.aspect;switch(isNaN(fn)&&(fn=nn-cn-gn-an),isNaN(hn)&&(hn=rn-un-pn-ln),mn!=null&&(isNaN(fn)&&isNaN(hn)&&(mn>nn/rn?fn=nn*.8:hn=rn*.8),isNaN(fn)&&(fn=mn*hn),isNaN(hn)&&(hn=fn/mn)),isNaN(an)&&(an=nn-cn-fn-gn),isNaN(ln)&&(ln=rn-un-hn-pn),Fe.left||Fe.right){case"center":an=nn/2-fn/2-tn[3];break;case"right":an=nn-fn-gn;break}switch(Fe.top||Fe.bottom){case"middle":case"center":ln=rn/2-hn/2-tn[0];break;case"bottom":ln=rn-hn-pn;break}an=an||0,ln=ln||0,isNaN(fn)&&(fn=nn-gn-an-(cn||0)),isNaN(hn)&&(hn=rn-pn-ln-(un||0));var _n=new BoundingRect$1(an+tn[3],ln+tn[0],fn,hn);return _n.margin=tn,_n}function positionElement(Fe,en,tn,nn,rn,an){var ln=!rn||!rn.hv||rn.hv[0],cn=!rn||!rn.hv||rn.hv[1],un=rn&&rn.boundingMode||"all";if(an=an||Fe,an.x=Fe.x,an.y=Fe.y,!ln&&!cn)return!1;var fn;if(un==="raw")fn=Fe.type==="group"?new BoundingRect$1(0,0,+en.width||0,+en.height||0):Fe.getBoundingRect();else if(fn=Fe.getBoundingRect(),Fe.needLocalTransform()){var hn=Fe.getLocalTransform();fn=fn.clone(),fn.applyTransform(hn)}var pn=getLayoutRect(defaults({width:fn.width,height:fn.height},en),tn,nn),gn=ln?pn.x-fn.x:0,mn=cn?pn.y-fn.y:0;return un==="raw"?(an.x=gn,an.y=mn):(an.x+=gn,an.y+=mn),an===Fe&&Fe.markRedraw(),!0}function sizeCalculable(Fe,en){return Fe[HV_NAMES[en][0]]!=null||Fe[HV_NAMES[en][1]]!=null&&Fe[HV_NAMES[en][2]]!=null}function fetchLayoutMode(Fe){var en=Fe.layoutMode||Fe.constructor.layoutMode;return isObject$3(en)?en:en?{type:en}:null}function mergeLayoutParam(Fe,en,tn){var nn=tn&&tn.ignoreSize;!isArray$1(nn)&&(nn=[nn,nn]);var rn=ln(HV_NAMES[0],0),an=ln(HV_NAMES[1],1);fn(HV_NAMES[0],Fe,rn),fn(HV_NAMES[1],Fe,an);function ln(hn,pn){var gn={},mn=0,_n={},kn=0,Cn=2;if(each$e(hn,function(Mn){_n[Mn]=Fe[Mn]}),each$e(hn,function(Mn){cn(en,Mn)&&(gn[Mn]=_n[Mn]=en[Mn]),un(gn,Mn)&&mn++,un(_n,Mn)&&kn++}),nn[pn])return un(en,hn[1])?_n[hn[2]]=null:un(en,hn[2])&&(_n[hn[1]]=null),_n;if(kn===Cn||!mn)return _n;if(mn>=Cn)return gn;for(var xn=0;xn<hn.length;xn++){var Sn=hn[xn];if(!cn(gn,Sn)&&cn(Fe,Sn)){gn[Sn]=Fe[Sn];break}}return gn}function cn(hn,pn){return hn.hasOwnProperty(pn)}function un(hn,pn){return hn[pn]!=null&&hn[pn]!=="auto"}function fn(hn,pn,gn){each$e(hn,function(mn){pn[mn]=gn[mn]})}}function getLayoutParams(Fe){return copyLayoutParams({},Fe)}function copyLayoutParams(Fe,en){return en&&Fe&&each$e(LOCATION_PARAMS,function(tn){en.hasOwnProperty(tn)&&(Fe[tn]=en[tn])}),Fe}var inner$l=makeInner(),ComponentModel=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this,tn,nn,rn)||this;return an.uid=getUID("ec_cpt_model"),an}return en.prototype.init=function(tn,nn,rn){this.mergeDefaultAndTheme(tn,rn)},en.prototype.mergeDefaultAndTheme=function(tn,nn){var rn=fetchLayoutMode(this),an=rn?getLayoutParams(tn):{},ln=nn.getTheme();merge(tn,ln.get(this.mainType)),merge(tn,this.getDefaultOption()),rn&&mergeLayoutParam(tn,an,rn)},en.prototype.mergeOption=function(tn,nn){merge(this.option,tn,!0);var rn=fetchLayoutMode(this);rn&&mergeLayoutParam(this.option,tn,rn)},en.prototype.optionUpdated=function(tn,nn){},en.prototype.getDefaultOption=function(){var tn=this.constructor;if(!isExtendedClass(tn))return tn.defaultOption;var nn=inner$l(this);if(!nn.defaultOption){for(var rn=[],an=tn;an;){var ln=an.prototype.defaultOption;ln&&rn.push(ln),an=an.superClass}for(var cn={},un=rn.length-1;un>=0;un--)cn=merge(cn,rn[un],!0);nn.defaultOption=cn}return nn.defaultOption},en.prototype.getReferringComponents=function(tn,nn){var rn=tn+"Index",an=tn+"Id";return queryReferringComponents(this.ecModel,tn,{index:this.get(rn,!0),id:this.get(an,!0)},nn)},en.prototype.getBoxLayoutParams=function(){var tn=this;return{left:tn.get("left"),top:tn.get("top"),right:tn.get("right"),bottom:tn.get("bottom"),width:tn.get("width"),height:tn.get("height")}},en.prototype.getZLevelKey=function(){return""},en.prototype.setZLevel=function(tn){this.option.zlevel=tn},en.protoInitialize=function(){var tn=en.prototype;tn.type="component",tn.id="",tn.name="",tn.mainType="",tn.subType="",tn.componentIndex=0}(),en}(Model$1);mountExtend(ComponentModel,Model$1);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(Fe){var en=[];return each$f(ComponentModel.getClassesByMainType(Fe),function(tn){en=en.concat(tn.dependencies||tn.prototype.dependencies||[])}),en=map$1(en,function(tn){return parseClassType(tn).main}),Fe!=="dataset"&&indexOf(en,"dataset")<=0&&en.unshift("dataset"),en}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(Fe){innerGlobalModel(Fe).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(Fe,en,tn){var nn={},rn=querySeriesUpstreamDatasetModel(en);if(!rn||!Fe)return nn;var an=[],ln=[],cn=en.ecModel,un=innerGlobalModel(cn).datasetMap,fn=rn.uid+"_"+tn.seriesLayoutBy,hn,pn;Fe=Fe.slice(),each$f(Fe,function(kn,Cn){var xn=isObject$3(kn)?kn:Fe[Cn]={name:kn};xn.type==="ordinal"&&hn==null&&(hn=Cn,pn=_n(xn)),nn[xn.name]=[]});var gn=un.get(fn)||un.set(fn,{categoryWayDim:pn,valueWayDim:0});each$f(Fe,function(kn,Cn){var xn=kn.name,Sn=_n(kn);if(hn==null){var Mn=gn.valueWayDim;mn(nn[xn],Mn,Sn),mn(ln,Mn,Sn),gn.valueWayDim+=Sn}else if(hn===Cn)mn(nn[xn],0,Sn),mn(an,0,Sn);else{var Mn=gn.categoryWayDim;mn(nn[xn],Mn,Sn),mn(ln,Mn,Sn),gn.categoryWayDim+=Sn}});function mn(kn,Cn,xn){for(var Sn=0;Sn<xn;Sn++)kn.push(Cn+Sn)}function _n(kn){var Cn=kn.dimsDef;return Cn?Cn.length:1}return an.length&&(nn.itemName=an),ln.length&&(nn.seriesName=ln),nn}function makeSeriesEncodeForNameBased(Fe,en,tn){var nn={},rn=querySeriesUpstreamDatasetModel(Fe);if(!rn)return nn;var an=en.sourceFormat,ln=en.dimensionsDefine,cn;(an===SOURCE_FORMAT_OBJECT_ROWS||an===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(ln,function(hn,pn){(isObject$3(hn)?hn.name:hn)==="name"&&(cn=pn)});var un=function(){for(var hn={},pn={},gn=[],mn=0,_n=Math.min(5,tn);mn<_n;mn++){var kn=doGuessOrdinal(en.data,an,en.seriesLayoutBy,ln,en.startIndex,mn);gn.push(kn);var Cn=kn===BE_ORDINAL.Not;if(Cn&&hn.v==null&&mn!==cn&&(hn.v=mn),(hn.n==null||hn.n===hn.v||!Cn&&gn[hn.n]===BE_ORDINAL.Not)&&(hn.n=mn),xn(hn)&&gn[hn.n]!==BE_ORDINAL.Not)return hn;Cn||(kn===BE_ORDINAL.Might&&pn.v==null&&mn!==cn&&(pn.v=mn),(pn.n==null||pn.n===pn.v)&&(pn.n=mn))}function xn(Sn){return Sn.v!=null&&Sn.n!=null}return xn(hn)?hn:xn(pn)?pn:null}();if(un){nn.value=[un.v];var fn=cn??un.n;nn.itemName=[fn],nn.seriesName=[fn]}return nn}function querySeriesUpstreamDatasetModel(Fe){var en=Fe.get("data",!0);if(!en)return queryReferringComponents(Fe.ecModel,"dataset",{index:Fe.get("datasetIndex",!0),id:Fe.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(Fe){return!Fe.get("transform",!0)&&!Fe.get("fromTransformResult",!0)?[]:queryReferringComponents(Fe.ecModel,"dataset",{index:Fe.get("fromDatasetIndex",!0),id:Fe.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(Fe,en){return doGuessOrdinal(Fe.data,Fe.sourceFormat,Fe.seriesLayoutBy,Fe.dimensionsDefine,Fe.startIndex,en)}function doGuessOrdinal(Fe,en,tn,nn,rn,an){var ln,cn=5;if(isTypedArray(Fe))return BE_ORDINAL.Not;var un,fn;if(nn){var hn=nn[an];isObject$3(hn)?(un=hn.name,fn=hn.type):isString(hn)&&(un=hn)}if(fn!=null)return fn==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(en===SOURCE_FORMAT_ARRAY_ROWS){var pn=Fe;if(tn===SERIES_LAYOUT_BY_ROW){for(var gn=pn[an],mn=0;mn<(gn||[]).length&&mn<cn;mn++)if((ln=In(gn[rn+mn]))!=null)return ln}else for(var mn=0;mn<pn.length&&mn<cn;mn++){var _n=pn[rn+mn];if(_n&&(ln=In(_n[an]))!=null)return ln}}else if(en===SOURCE_FORMAT_OBJECT_ROWS){var kn=Fe;if(!un)return BE_ORDINAL.Not;for(var mn=0;mn<kn.length&&mn<cn;mn++){var Cn=kn[mn];if(Cn&&(ln=In(Cn[un]))!=null)return ln}}else if(en===SOURCE_FORMAT_KEYED_COLUMNS){var xn=Fe;if(!un)return BE_ORDINAL.Not;var gn=xn[un];if(!gn||isTypedArray(gn))return BE_ORDINAL.Not;for(var mn=0;mn<gn.length&&mn<cn;mn++)if((ln=In(gn[mn]))!=null)return ln}else if(en===SOURCE_FORMAT_ORIGINAL)for(var Sn=Fe,mn=0;mn<Sn.length&&mn<cn;mn++){var Cn=Sn[mn],Mn=getDataItemValue(Cn);if(!isArray$1(Mn))return BE_ORDINAL.Not;if((ln=In(Mn[an]))!=null)return ln}function In(On){var Pn=isString(On);if(On!=null&&isFinite(On)&&On!=="")return Pn?BE_ORDINAL.Might:BE_ORDINAL.Not;if(Pn&&On!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(Fe,en){assert(internalOptionCreatorMap.get(Fe)==null&&en),internalOptionCreatorMap.set(Fe,en)}function concatInternalOptions(Fe,en,tn){var nn=internalOptionCreatorMap.get(en);if(!nn)return tn;var rn=nn(Fe);return rn?tn.concat(rn):tn}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function Fe(){}return Fe.prototype.getColorFromPalette=function(en,tn,nn){var rn=normalizeToArray(this.get("color",!0)),an=this.get("colorLayer",!0);return getFromPalette(this,innerColor,rn,an,en,tn,nn)},Fe.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},Fe}();function getDecalFromPalette(Fe,en,tn,nn){var rn=normalizeToArray(Fe.get(["aria","decal","decals"]));return getFromPalette(Fe,innerDecal,rn,null,en,tn,nn)}function getNearestPalette(Fe,en){for(var tn=Fe.length,nn=0;nn<tn;nn++)if(Fe[nn].length>en)return Fe[nn];return Fe[tn-1]}function getFromPalette(Fe,en,tn,nn,rn,an,ln){an=an||Fe;var cn=en(an),un=cn.paletteIdx||0,fn=cn.paletteNameMap=cn.paletteNameMap||{};if(fn.hasOwnProperty(rn))return fn[rn];var hn=ln==null||!nn?tn:getNearestPalette(nn,ln);if(hn=hn||tn,!(!hn||!hn.length)){var pn=hn[un];return rn&&(fn[rn]=pn),cn.paletteIdx=(un+1)%hn.length,pn}}function clearPalette(Fe,en){en(Fe).paletteIdx=0,en(Fe).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.init=function(tn,nn,rn,an,ln,cn){an=an||{},this.option=null,this._theme=new Model$1(an),this._locale=new Model$1(ln),this._optionManager=cn},en.prototype.setOption=function(tn,nn,rn){var an=normalizeSetOptionInput(nn);this._optionManager.setOption(tn,rn,an),this._resetOption(null,an)},en.prototype.resetOption=function(tn,nn){return this._resetOption(tn,normalizeSetOptionInput(nn))},en.prototype._resetOption=function(tn,nn){var rn=!1,an=this._optionManager;if(!tn||tn==="recreate"){var ln=an.mountOption(tn==="recreate");!this.option||tn==="recreate"?initBase(this,ln):(this.restoreData(),this._mergeOption(ln,nn)),rn=!0}if((tn==="timeline"||tn==="media")&&this.restoreData(),!tn||tn==="recreate"||tn==="timeline"){var cn=an.getTimelineOption(this);cn&&(rn=!0,this._mergeOption(cn,nn))}if(!tn||tn==="recreate"||tn==="media"){var un=an.getMediaOption(this);un.length&&each$f(un,function(fn){rn=!0,this._mergeOption(fn,nn)},this)}return rn},en.prototype.mergeOption=function(tn){this._mergeOption(tn,null)},en.prototype._mergeOption=function(tn,nn){var rn=this.option,an=this._componentsMap,ln=this._componentsCount,cn=[],un=createHashMap(),fn=nn&&nn.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(tn,function(pn,gn){pn!=null&&(ComponentModel$1.hasClass(gn)?gn&&(cn.push(gn),un.set(gn,!0)):rn[gn]=rn[gn]==null?clone$4(pn):merge(rn[gn],pn,!0))}),fn&&fn.each(function(pn,gn){ComponentModel$1.hasClass(gn)&&!un.get(gn)&&(cn.push(gn),un.set(gn,!0))}),ComponentModel$1.topologicalTravel(cn,ComponentModel$1.getAllClassMainTypes(),hn,this);function hn(pn){var gn=concatInternalOptions(this,pn,normalizeToArray(tn[pn])),mn=an.get(pn),_n=mn?fn&&fn.get(pn)?"replaceMerge":"normalMerge":"replaceAll",kn=mappingToExists(mn,gn,_n);setComponentTypeToKeyInfo(kn,pn,ComponentModel$1),rn[pn]=null,an.set(pn,null),ln.set(pn,0);var Cn=[],xn=[],Sn=0,Mn;each$f(kn,function(In,On){var Pn=In.existing,Tn=In.newOption;if(!Tn)Pn&&(Pn.mergeOption({},this),Pn.optionUpdated({},!1));else{var Nn=pn==="series",Hn=ComponentModel$1.getClass(pn,In.keyInfo.subType,!Nn);if(!Hn)return;if(pn==="tooltip"){if(Mn)return;Mn=!0}if(Pn&&Pn.constructor===Hn)Pn.name=In.keyInfo.name,Pn.mergeOption(Tn,this),Pn.optionUpdated(Tn,!1);else{var Un=extend$1({componentIndex:On},In.keyInfo);Pn=new Hn(Tn,this,this,Un),extend$1(Pn,Un),In.brandNew&&(Pn.__requireNewView=!0),Pn.init(Tn,this,this),Pn.optionUpdated(null,!0)}}Pn?(Cn.push(Pn.option),xn.push(Pn),Sn++):(Cn.push(void 0),xn.push(void 0))},this),rn[pn]=Cn,an.set(pn,xn),ln.set(pn,Sn),pn==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},en.prototype.getOption=function(){var tn=clone$4(this.option);return each$f(tn,function(nn,rn){if(ComponentModel$1.hasClass(rn)){for(var an=normalizeToArray(nn),ln=an.length,cn=!1,un=ln-1;un>=0;un--)an[un]&&!isComponentIdInternal(an[un])?cn=!0:(an[un]=null,!cn&&ln--);an.length=ln,tn[rn]=an}}),delete tn[OPTION_INNER_KEY],tn},en.prototype.getTheme=function(){return this._theme},en.prototype.getLocaleModel=function(){return this._locale},en.prototype.setUpdatePayload=function(tn){this._payload=tn},en.prototype.getUpdatePayload=function(){return this._payload},en.prototype.getComponent=function(tn,nn){var rn=this._componentsMap.get(tn);if(rn){var an=rn[nn||0];if(an)return an;if(nn==null){for(var ln=0;ln<rn.length;ln++)if(rn[ln])return rn[ln]}}},en.prototype.queryComponents=function(tn){var nn=tn.mainType;if(!nn)return[];var rn=tn.index,an=tn.id,ln=tn.name,cn=this._componentsMap.get(nn);if(!cn||!cn.length)return[];var un;return rn!=null?(un=[],each$f(normalizeToArray(rn),function(fn){cn[fn]&&un.push(cn[fn])})):an!=null?un=queryByIdOrName("id",an,cn):ln!=null?un=queryByIdOrName("name",ln,cn):un=filter(cn,function(fn){return!!fn}),filterBySubType(un,tn)},en.prototype.findComponents=function(tn){var nn=tn.query,rn=tn.mainType,an=cn(nn),ln=an?this.queryComponents(an):filter(this._componentsMap.get(rn),function(fn){return!!fn});return un(filterBySubType(ln,tn));function cn(fn){var hn=rn+"Index",pn=rn+"Id",gn=rn+"Name";return fn&&(fn[hn]!=null||fn[pn]!=null||fn[gn]!=null)?{mainType:rn,index:fn[hn],id:fn[pn],name:fn[gn]}:null}function un(fn){return tn.filter?filter(fn,tn.filter):fn}},en.prototype.eachComponent=function(tn,nn,rn){var an=this._componentsMap;if(isFunction(tn)){var ln=nn,cn=tn;an.each(function(pn,gn){for(var mn=0;pn&&mn<pn.length;mn++){var _n=pn[mn];_n&&cn.call(ln,gn,_n,_n.componentIndex)}})}else for(var un=isString(tn)?an.get(tn):isObject$3(tn)?this.findComponents(tn):null,fn=0;un&&fn<un.length;fn++){var hn=un[fn];hn&&nn.call(rn,hn,hn.componentIndex)}},en.prototype.getSeriesByName=function(tn){var nn=convertOptionIdName(tn,null);return filter(this._componentsMap.get("series"),function(rn){return!!rn&&nn!=null&&rn.name===nn})},en.prototype.getSeriesByIndex=function(tn){return this._componentsMap.get("series")[tn]},en.prototype.getSeriesByType=function(tn){return filter(this._componentsMap.get("series"),function(nn){return!!nn&&nn.subType===tn})},en.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(tn){return!!tn})},en.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},en.prototype.eachSeries=function(tn,nn){assertSeriesInitialized(this),each$f(this._seriesIndices,function(rn){var an=this._componentsMap.get("series")[rn];tn.call(nn,an,rn)},this)},en.prototype.eachRawSeries=function(tn,nn){each$f(this._componentsMap.get("series"),function(rn){rn&&tn.call(nn,rn,rn.componentIndex)})},en.prototype.eachSeriesByType=function(tn,nn,rn){assertSeriesInitialized(this),each$f(this._seriesIndices,function(an){var ln=this._componentsMap.get("series")[an];ln.subType===tn&&nn.call(rn,ln,an)},this)},en.prototype.eachRawSeriesByType=function(tn,nn,rn){return each$f(this.getSeriesByType(tn),nn,rn)},en.prototype.isSeriesFiltered=function(tn){return assertSeriesInitialized(this),this._seriesIndicesMap.get(tn.componentIndex)==null},en.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},en.prototype.filterSeries=function(tn,nn){assertSeriesInitialized(this);var rn=[];each$f(this._seriesIndices,function(an){var ln=this._componentsMap.get("series")[an];tn.call(nn,ln,an)&&rn.push(an)},this),this._seriesIndices=rn,this._seriesIndicesMap=createHashMap(rn)},en.prototype.restoreData=function(tn){reCreateSeriesIndices(this);var nn=this._componentsMap,rn=[];nn.each(function(an,ln){ComponentModel$1.hasClass(ln)&&rn.push(ln)}),ComponentModel$1.topologicalTravel(rn,ComponentModel$1.getAllClassMainTypes(),function(an){each$f(nn.get(an),function(ln){ln&&(an!=="series"||!isNotTargetSeries(ln,tn))&&ln.restoreData()})})},en.internalField=function(){reCreateSeriesIndices=function(tn){var nn=tn._seriesIndices=[];each$f(tn._componentsMap.get("series"),function(rn){rn&&nn.push(rn.componentIndex)}),tn._seriesIndicesMap=createHashMap(nn)},assertSeriesInitialized=function(tn){},initBase=function(tn,nn){tn.option={},tn.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,tn._componentsMap=createHashMap({series:[]}),tn._componentsCount=createHashMap();var rn=nn.aria;isObject$3(rn)&&rn.enabled==null&&(rn.enabled=!0),mergeTheme(nn,tn._theme.option),merge(nn,globalDefault,!1),tn._mergeOption(nn,null)}}(),en}(Model$1);function isNotTargetSeries(Fe,en){if(en){var tn=en.seriesIndex,nn=en.seriesId,rn=en.seriesName;return tn!=null&&Fe.componentIndex!==tn||nn!=null&&Fe.id!==nn||rn!=null&&Fe.name!==rn}}function mergeTheme(Fe,en){var tn=Fe.color&&!Fe.colorLayer;each$f(en,function(nn,rn){rn==="colorLayer"&&tn||ComponentModel$1.hasClass(rn)||(typeof nn=="object"?Fe[rn]=Fe[rn]?merge(Fe[rn],nn,!1):clone$4(nn):Fe[rn]==null&&(Fe[rn]=nn))})}function queryByIdOrName(Fe,en,tn){if(isArray$1(en)){var nn=createHashMap();return each$f(en,function(an){if(an!=null){var ln=convertOptionIdName(an,null);ln!=null&&nn.set(an,!0)}}),filter(tn,function(an){return an&&nn.get(an[Fe])})}else{var rn=convertOptionIdName(en,null);return filter(tn,function(an){return an&&rn!=null&&an[Fe]===rn})}}function filterBySubType(Fe,en){return en.hasOwnProperty("subType")?filter(Fe,function(tn){return tn&&tn.subType===en.subType}):Fe}function normalizeSetOptionInput(Fe){var en=createHashMap();return Fe&&each$f(normalizeToArray(Fe.replaceMerge),function(tn){en.set(tn,!0)}),{replaceMergeMainTypeMap:en}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function Fe(en){each$f(availableMethods,function(tn){this[tn]=bind$1(en[tn],en)},this)}return Fe}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function Fe(){this._coordinateSystems=[]}return Fe.prototype.create=function(en,tn){var nn=[];each$f(coordinateSystemCreators,function(rn,an){var ln=rn.create(en,tn);nn=nn.concat(ln||[])}),this._coordinateSystems=nn},Fe.prototype.update=function(en,tn){each$f(this._coordinateSystems,function(nn){nn.update&&nn.update(en,tn)})},Fe.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},Fe.register=function(en,tn){coordinateSystemCreators[en]=tn},Fe.get=function(en){return coordinateSystemCreators[en]},Fe}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function Fe(en){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=en}return Fe.prototype.setOption=function(en,tn,nn){en&&(each$f(normalizeToArray(en.series),function(ln){ln&&ln.data&&isTypedArray(ln.data)&&setAsPrimitive(ln.data)}),each$f(normalizeToArray(en.dataset),function(ln){ln&&ln.source&&isTypedArray(ln.source)&&setAsPrimitive(ln.source)})),en=clone$4(en);var rn=this._optionBackup,an=parseRawOption(en,tn,!rn);this._newBaseOption=an.baseOption,rn?(an.timelineOptions.length&&(rn.timelineOptions=an.timelineOptions),an.mediaList.length&&(rn.mediaList=an.mediaList),an.mediaDefault&&(rn.mediaDefault=an.mediaDefault)):this._optionBackup=an},Fe.prototype.mountOption=function(en){var tn=this._optionBackup;return this._timelineOptions=tn.timelineOptions,this._mediaList=tn.mediaList,this._mediaDefault=tn.mediaDefault,this._currentMediaIndices=[],clone$4(en?tn.baseOption:this._newBaseOption)},Fe.prototype.getTimelineOption=function(en){var tn,nn=this._timelineOptions;if(nn.length){var rn=en.getComponent("timeline");rn&&(tn=clone$4(nn[rn.getCurrentIndex()]))}return tn},Fe.prototype.getMediaOption=function(en){var tn=this._api.getWidth(),nn=this._api.getHeight(),rn=this._mediaList,an=this._mediaDefault,ln=[],cn=[];if(!rn.length&&!an)return cn;for(var un=0,fn=rn.length;un<fn;un++)applyMediaQuery(rn[un].query,tn,nn)&&ln.push(un);return!ln.length&&an&&(ln=[-1]),ln.length&&!indicesEquals(ln,this._currentMediaIndices)&&(cn=map$1(ln,function(hn){return clone$4(hn===-1?an.option:rn[hn].option)})),this._currentMediaIndices=ln,cn},Fe}();function parseRawOption(Fe,en,tn){var nn=[],rn,an,ln=Fe.baseOption,cn=Fe.timeline,un=Fe.options,fn=Fe.media,hn=!!Fe.media,pn=!!(un||cn||ln&&ln.timeline);ln?(an=ln,an.timeline||(an.timeline=cn)):((pn||hn)&&(Fe.options=Fe.media=null),an=Fe),hn&&isArray$1(fn)&&each$f(fn,function(mn){mn&&mn.option&&(mn.query?nn.push(mn):rn||(rn=mn))}),gn(an),each$f(un,function(mn){return gn(mn)}),each$f(nn,function(mn){return gn(mn.option)});function gn(mn){each$f(en,function(_n){_n(mn,tn)})}return{baseOption:an,timelineOptions:un||[],mediaDefault:rn,mediaList:nn}}function applyMediaQuery(Fe,en,tn){var nn={width:en,height:tn,aspectratio:en/tn},rn=!0;return each$f(Fe,function(an,ln){var cn=ln.match(QUERY_REG);if(!(!cn||!cn[1]||!cn[2])){var un=cn[1],fn=cn[2].toLowerCase();compare(nn[fn],an,un)||(rn=!1)}}),rn}function compare(Fe,en,tn){return tn==="min"?Fe>=en:tn==="max"?Fe<=en:Fe===en}function indicesEquals(Fe,en){return Fe.join(",")===en.join(",")}const OptionManager$1=OptionManager;var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(Fe){var en=Fe&&Fe.itemStyle;if(en)for(var tn=0,nn=POSSIBLE_STYLES.length;tn<nn;tn++){var rn=POSSIBLE_STYLES[tn],an=en.normal,ln=en.emphasis;an&&an[rn]&&(Fe[rn]=Fe[rn]||{},Fe[rn].normal?merge(Fe[rn].normal,an[rn]):Fe[rn].normal=an[rn],an[rn]=null),ln&&ln[rn]&&(Fe[rn]=Fe[rn]||{},Fe[rn].emphasis?merge(Fe[rn].emphasis,ln[rn]):Fe[rn].emphasis=ln[rn],ln[rn]=null)}}function convertNormalEmphasis(Fe,en,tn){if(Fe&&Fe[en]&&(Fe[en].normal||Fe[en].emphasis)){var nn=Fe[en].normal,rn=Fe[en].emphasis;nn&&(tn?(Fe[en].normal=Fe[en].emphasis=null,defaults(Fe[en],nn)):Fe[en]=nn),rn&&(Fe.emphasis=Fe.emphasis||{},Fe.emphasis[en]=rn,rn.focus&&(Fe.emphasis.focus=rn.focus),rn.blurScope&&(Fe.emphasis.blurScope=rn.blurScope))}}function removeEC3NormalStatus(Fe){convertNormalEmphasis(Fe,"itemStyle"),convertNormalEmphasis(Fe,"lineStyle"),convertNormalEmphasis(Fe,"areaStyle"),convertNormalEmphasis(Fe,"label"),convertNormalEmphasis(Fe,"labelLine"),convertNormalEmphasis(Fe,"upperLabel"),convertNormalEmphasis(Fe,"edgeLabel")}function compatTextStyle(Fe,en){var tn=isObject$2(Fe)&&Fe[en],nn=isObject$2(tn)&&tn.textStyle;if(nn)for(var rn=0,an=TEXT_STYLE_OPTIONS.length;rn<an;rn++){var ln=TEXT_STYLE_OPTIONS[rn];nn.hasOwnProperty(ln)&&(tn[ln]=nn[ln])}}function compatEC3CommonStyles(Fe){Fe&&(removeEC3NormalStatus(Fe),compatTextStyle(Fe,"label"),Fe.emphasis&&compatTextStyle(Fe.emphasis,"label"))}function processSeries(Fe){if(isObject$2(Fe)){compatEC2ItemStyle(Fe),removeEC3NormalStatus(Fe),compatTextStyle(Fe,"label"),compatTextStyle(Fe,"upperLabel"),compatTextStyle(Fe,"edgeLabel"),Fe.emphasis&&(compatTextStyle(Fe.emphasis,"label"),compatTextStyle(Fe.emphasis,"upperLabel"),compatTextStyle(Fe.emphasis,"edgeLabel"));var en=Fe.markPoint;en&&(compatEC2ItemStyle(en),compatEC3CommonStyles(en));var tn=Fe.markLine;tn&&(compatEC2ItemStyle(tn),compatEC3CommonStyles(tn));var nn=Fe.markArea;nn&&compatEC3CommonStyles(nn);var rn=Fe.data;if(Fe.type==="graph"){rn=rn||Fe.nodes;var an=Fe.links||Fe.edges;if(an&&!isTypedArray(an))for(var ln=0;ln<an.length;ln++)compatEC3CommonStyles(an[ln]);each$f(Fe.categories,function(fn){removeEC3NormalStatus(fn)})}if(rn&&!isTypedArray(rn))for(var ln=0;ln<rn.length;ln++)compatEC3CommonStyles(rn[ln]);if(en=Fe.markPoint,en&&en.data)for(var cn=en.data,ln=0;ln<cn.length;ln++)compatEC3CommonStyles(cn[ln]);if(tn=Fe.markLine,tn&&tn.data)for(var un=tn.data,ln=0;ln<un.length;ln++)isArray$1(un[ln])?(compatEC3CommonStyles(un[ln][0]),compatEC3CommonStyles(un[ln][1])):compatEC3CommonStyles(un[ln]);Fe.type==="gauge"?(compatTextStyle(Fe,"axisLabel"),compatTextStyle(Fe,"title"),compatTextStyle(Fe,"detail")):Fe.type==="treemap"?(convertNormalEmphasis(Fe.breadcrumb,"itemStyle"),each$f(Fe.levels,function(fn){removeEC3NormalStatus(fn)})):Fe.type==="tree"&&removeEC3NormalStatus(Fe.leaves)}}function toArr(Fe){return isArray$1(Fe)?Fe:Fe?[Fe]:[]}function toObj(Fe){return(isArray$1(Fe)?Fe[0]:Fe)||{}}function globalCompatStyle(Fe,en){each$d(toArr(Fe.series),function(nn){isObject$2(nn)&&processSeries(nn)});var tn=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];en&&tn.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(tn,function(nn){each$d(toArr(Fe[nn]),function(rn){rn&&(compatTextStyle(rn,"axisLabel"),compatTextStyle(rn.axisPointer,"label"))})}),each$d(toArr(Fe.parallel),function(nn){var rn=nn&&nn.parallelAxisDefault;compatTextStyle(rn,"axisLabel"),compatTextStyle(rn&&rn.axisPointer,"label")}),each$d(toArr(Fe.calendar),function(nn){convertNormalEmphasis(nn,"itemStyle"),compatTextStyle(nn,"dayLabel"),compatTextStyle(nn,"monthLabel"),compatTextStyle(nn,"yearLabel")}),each$d(toArr(Fe.radar),function(nn){compatTextStyle(nn,"name"),nn.name&&nn.axisName==null&&(nn.axisName=nn.name,delete nn.name),nn.nameGap!=null&&nn.axisNameGap==null&&(nn.axisNameGap=nn.nameGap,delete nn.nameGap)}),each$d(toArr(Fe.geo),function(nn){isObject$2(nn)&&(compatEC3CommonStyles(nn),each$d(toArr(nn.regions),function(rn){compatEC3CommonStyles(rn)}))}),each$d(toArr(Fe.timeline),function(nn){compatEC3CommonStyles(nn),convertNormalEmphasis(nn,"label"),convertNormalEmphasis(nn,"itemStyle"),convertNormalEmphasis(nn,"controlStyle",!0);var rn=nn.data;isArray$1(rn)&&each$f(rn,function(an){isObject$3(an)&&(convertNormalEmphasis(an,"label"),convertNormalEmphasis(an,"itemStyle"))})}),each$d(toArr(Fe.toolbox),function(nn){convertNormalEmphasis(nn,"iconStyle"),each$d(nn.feature,function(rn){convertNormalEmphasis(rn,"iconStyle")})}),compatTextStyle(toObj(Fe.axisPointer),"label"),compatTextStyle(toObj(Fe.tooltip).axisPointer,"label")}function get(Fe,en){for(var tn=en.split(","),nn=Fe,rn=0;rn<tn.length&&(nn=nn&&nn[tn[rn]],nn!=null);rn++);return nn}function set(Fe,en,tn,nn){for(var rn=en.split(","),an=Fe,ln,cn=0;cn<rn.length-1;cn++)ln=rn[cn],an[ln]==null&&(an[ln]={}),an=an[ln];(nn||an[rn[cn]]==null)&&(an[rn[cn]]=tn)}function compatLayoutProperties(Fe){Fe&&each$f(LAYOUT_PROPERTIES,function(en){en[0]in Fe&&!(en[1]in Fe)&&(Fe[en[1]]=Fe[en[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(Fe){var en=Fe&&Fe.itemStyle;if(en)for(var tn=0;tn<BAR_ITEM_STYLE_MAP.length;tn++){var nn=BAR_ITEM_STYLE_MAP[tn][1],rn=BAR_ITEM_STYLE_MAP[tn][0];en[nn]!=null&&(en[rn]=en[nn])}}function compatPieLabel(Fe){Fe&&Fe.alignTo==="edge"&&Fe.margin!=null&&Fe.edgeDistance==null&&(Fe.edgeDistance=Fe.margin)}function compatSunburstState(Fe){Fe&&Fe.downplay&&!Fe.blur&&(Fe.blur=Fe.downplay)}function compatGraphFocus(Fe){Fe&&Fe.focusNodeAdjacency!=null&&(Fe.emphasis=Fe.emphasis||{},Fe.emphasis.focus==null&&(Fe.emphasis.focus="adjacency"))}function traverseTree(Fe,en){if(Fe)for(var tn=0;tn<Fe.length;tn++)en(Fe[tn]),Fe[tn]&&traverseTree(Fe[tn].children,en)}function globalBackwardCompat(Fe,en){globalCompatStyle(Fe,en),Fe.series=normalizeToArray(Fe.series),each$f(Fe.series,function(tn){if(isObject$3(tn)){var nn=tn.type;if(nn==="line")tn.clipOverflow!=null&&(tn.clip=tn.clipOverflow);else if(nn==="pie"||nn==="gauge"){tn.clockWise!=null&&(tn.clockwise=tn.clockWise),compatPieLabel(tn.label);var rn=tn.data;if(rn&&!isTypedArray(rn))for(var an=0;an<rn.length;an++)compatPieLabel(rn[an]);tn.hoverOffset!=null&&(tn.emphasis=tn.emphasis||{},(tn.emphasis.scaleSize=null)&&(tn.emphasis.scaleSize=tn.hoverOffset))}else if(nn==="gauge"){var ln=get(tn,"pointer.color");ln!=null&&set(tn,"itemStyle.color",ln)}else if(nn==="bar"){compatBarItemStyle(tn),compatBarItemStyle(tn.backgroundStyle),compatBarItemStyle(tn.emphasis);var rn=tn.data;if(rn&&!isTypedArray(rn))for(var an=0;an<rn.length;an++)typeof rn[an]=="object"&&(compatBarItemStyle(rn[an]),compatBarItemStyle(rn[an]&&rn[an].emphasis))}else if(nn==="sunburst"){var cn=tn.highlightPolicy;cn&&(tn.emphasis=tn.emphasis||{},tn.emphasis.focus||(tn.emphasis.focus=cn)),compatSunburstState(tn),traverseTree(tn.data,compatSunburstState)}else nn==="graph"||nn==="sankey"?compatGraphFocus(tn):nn==="map"&&(tn.mapType&&!tn.map&&(tn.map=tn.mapType),tn.mapLocation&&defaults(tn,tn.mapLocation));tn.hoverAnimation!=null&&(tn.emphasis=tn.emphasis||{},tn.emphasis&&tn.emphasis.scale==null&&(tn.emphasis.scale=tn.hoverAnimation)),compatLayoutProperties(tn)}}),Fe.dataRange&&(Fe.visualMap=Fe.dataRange),each$f(COMPATITABLE_COMPONENTS,function(tn){var nn=Fe[tn];nn&&(isArray$1(nn)||(nn=[nn]),each$f(nn,function(rn){compatLayoutProperties(rn)}))})}function dataStack$1(Fe){var en=createHashMap();Fe.eachSeries(function(tn){var nn=tn.get("stack");if(nn){var rn=en.get(nn)||en.set(nn,[]),an=tn.getData(),ln={stackResultDimension:an.getCalculationInfo("stackResultDimension"),stackedOverDimension:an.getCalculationInfo("stackedOverDimension"),stackedDimension:an.getCalculationInfo("stackedDimension"),stackedByDimension:an.getCalculationInfo("stackedByDimension"),isStackedByIndex:an.getCalculationInfo("isStackedByIndex"),data:an,seriesModel:tn};if(!ln.stackedDimension||!(ln.isStackedByIndex||ln.stackedByDimension))return;rn.length&&an.setCalculationInfo("stackedOnSeries",rn[rn.length-1].seriesModel),rn.push(ln)}}),en.each(calculateStack)}function calculateStack(Fe){each$f(Fe,function(en,tn){var nn=[],rn=[NaN,NaN],an=[en.stackResultDimension,en.stackedOverDimension],ln=en.data,cn=en.isStackedByIndex,un=en.seriesModel.get("stackStrategy")||"samesign";ln.modify(an,function(fn,hn,pn){var gn=ln.get(en.stackedDimension,pn);if(isNaN(gn))return rn;var mn,_n;cn?_n=ln.getRawIndex(pn):mn=ln.get(en.stackedByDimension,pn);for(var kn=NaN,Cn=tn-1;Cn>=0;Cn--){var xn=Fe[Cn];if(cn||(_n=xn.data.rawIndexOf(xn.stackedByDimension,mn)),_n>=0){var Sn=xn.data.getByRawIndex(xn.stackResultDimension,_n);if(un==="all"||un==="positive"&&Sn>0||un==="negative"&&Sn<0||un==="samesign"&&gn>=0&&Sn>0||un==="samesign"&&gn<=0&&Sn<0){gn=addSafe(gn,Sn),kn=Sn;break}}}return nn[0]=gn,nn[1]=kn,nn})})}var SourceImpl=function(){function Fe(en){this.data=en.data||(en.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=en.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=en.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=en.startIndex||0,this.dimensionsDetectedCount=en.dimensionsDetectedCount,this.metaRawOption=en.metaRawOption;var tn=this.dimensionsDefine=en.dimensionsDefine;if(tn)for(var nn=0;nn<tn.length;nn++){var rn=tn[nn];rn.type==null&&guessOrdinal(this,nn)===BE_ORDINAL.Must&&(rn.type="ordinal")}}return Fe}();function isSourceInstance(Fe){return Fe instanceof SourceImpl}function createSource(Fe,en,tn){tn=tn||detectSourceFormat(Fe);var nn=en.seriesLayoutBy,rn=determineSourceDimensions(Fe,tn,nn,en.sourceHeader,en.dimensions),an=new SourceImpl({data:Fe,sourceFormat:tn,seriesLayoutBy:nn,dimensionsDefine:rn.dimensionsDefine,startIndex:rn.startIndex,dimensionsDetectedCount:rn.dimensionsDetectedCount,metaRawOption:clone$4(en)});return an}function createSourceFromSeriesDataOption(Fe){return new SourceImpl({data:Fe,sourceFormat:isTypedArray(Fe)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(Fe){return new SourceImpl({data:Fe.data,sourceFormat:Fe.sourceFormat,seriesLayoutBy:Fe.seriesLayoutBy,dimensionsDefine:clone$4(Fe.dimensionsDefine),startIndex:Fe.startIndex,dimensionsDetectedCount:Fe.dimensionsDetectedCount})}function detectSourceFormat(Fe){var en=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(Fe))en=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(Fe)){Fe.length===0&&(en=SOURCE_FORMAT_ARRAY_ROWS);for(var tn=0,nn=Fe.length;tn<nn;tn++){var rn=Fe[tn];if(rn!=null){if(isArray$1(rn)){en=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(rn)){en=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(Fe)){for(var an in Fe)if(hasOwn(Fe,an)&&isArrayLike(Fe[an])){en=SOURCE_FORMAT_KEYED_COLUMNS;break}}return en}function determineSourceDimensions(Fe,en,tn,nn,rn){var an,ln;if(!Fe)return{dimensionsDefine:normalizeDimensionsOption(rn),startIndex:ln,dimensionsDetectedCount:an};if(en===SOURCE_FORMAT_ARRAY_ROWS){var cn=Fe;nn==="auto"||nn==null?arrayRowsTravelFirst(function(fn){fn!=null&&fn!=="-"&&(isString(fn)?ln==null&&(ln=1):ln=0)},tn,cn,10):ln=isNumber(nn)?nn:nn?1:0,!rn&&ln===1&&(rn=[],arrayRowsTravelFirst(function(fn,hn){rn[hn]=fn!=null?fn+"":""},tn,cn,1/0)),an=rn?rn.length:tn===SERIES_LAYOUT_BY_ROW?cn.length:cn[0]?cn[0].length:null}else if(en===SOURCE_FORMAT_OBJECT_ROWS)rn||(rn=objectRowsCollectDimensions(Fe));else if(en===SOURCE_FORMAT_KEYED_COLUMNS)rn||(rn=[],each$f(Fe,function(fn,hn){rn.push(hn)}));else if(en===SOURCE_FORMAT_ORIGINAL){var un=getDataItemValue(Fe[0]);an=isArray$1(un)&&un.length||1}return{startIndex:ln,dimensionsDefine:normalizeDimensionsOption(rn),dimensionsDetectedCount:an}}function objectRowsCollectDimensions(Fe){for(var en=0,tn;en<Fe.length&&!(tn=Fe[en++]););if(tn)return keys(tn)}function normalizeDimensionsOption(Fe){if(Fe){var en=createHashMap();return map$1(Fe,function(tn,nn){tn=isObject$3(tn)?tn:{name:tn};var rn={name:tn.name,displayName:tn.displayName,type:tn.type};if(rn.name==null)return rn;rn.name+="",rn.displayName==null&&(rn.displayName=rn.name);var an=en.get(rn.name);return an?rn.name+="-"+an.count++:en.set(rn.name,{count:1}),rn})}}function arrayRowsTravelFirst(Fe,en,tn,nn){if(en===SERIES_LAYOUT_BY_ROW)for(var rn=0;rn<tn.length&&rn<nn;rn++)Fe(tn[rn]?tn[rn][0]:null,rn);else for(var an=tn[0]||[],rn=0;rn<an.length&&rn<nn;rn++)Fe(an[rn],rn)}function shouldRetrieveDataByName(Fe){var en=Fe.sourceFormat;return en===SOURCE_FORMAT_OBJECT_ROWS||en===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function Fe(en,tn){var nn=isSourceInstance(en)?en:createSourceFromSeriesDataOption(en);this._source=nn;var rn=this._data=nn.data;nn.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=tn,this._data=rn),mountMethods(this,rn,nn)}return Fe.prototype.getSource=function(){return this._source},Fe.prototype.count=function(){return 0},Fe.prototype.getItem=function(en,tn){},Fe.prototype.appendData=function(en){},Fe.prototype.clean=function(){},Fe.protoInitialize=function(){var en=Fe.prototype;en.pure=!1,en.persistent=!0}(),Fe.internalField=function(){var en;mountMethods=function(ln,cn,un){var fn=un.sourceFormat,hn=un.seriesLayoutBy,pn=un.startIndex,gn=un.dimensionsDefine,mn=providerMethods[getMethodMapKey(fn,hn)];if(extend$1(ln,mn),fn===SOURCE_FORMAT_TYPED_ARRAY)ln.getItem=tn,ln.count=rn,ln.fillStorage=nn;else{var _n=getRawSourceItemGetter(fn,hn);ln.getItem=bind$1(_n,null,cn,pn,gn);var kn=getRawSourceDataCounter(fn,hn);ln.count=bind$1(kn,null,cn,pn,gn)}};var tn=function(ln,cn){ln=ln-this._offset,cn=cn||[];for(var un=this._data,fn=this._dimSize,hn=fn*ln,pn=0;pn<fn;pn++)cn[pn]=un[hn+pn];return cn},nn=function(ln,cn,un,fn){for(var hn=this._data,pn=this._dimSize,gn=0;gn<pn;gn++){for(var mn=fn[gn],_n=mn[0]==null?1/0:mn[0],kn=mn[1]==null?-1/0:mn[1],Cn=cn-ln,xn=un[gn],Sn=0;Sn<Cn;Sn++){var Mn=hn[Sn*pn+gn];xn[ln+Sn]=Mn,Mn<_n&&(_n=Mn),Mn>kn&&(kn=Mn)}mn[0]=_n,mn[1]=kn}},rn=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(en={},en[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:an},en[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},en[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:an},en[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(ln){var cn=this._data;each$f(ln,function(un,fn){for(var hn=cn[fn]||(cn[fn]=[]),pn=0;pn<(un||[]).length;pn++)hn.push(un[pn])})}},en[SOURCE_FORMAT_ORIGINAL]={appendData:an},en[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(ln){this._data=ln},clean:function(){this._offset+=this.count(),this._data=null}},en);function an(ln){for(var cn=0;cn<ln.length;cn++)this._data.push(ln[cn])}}(),Fe}(),getItemSimply=function(Fe,en,tn,nn){return Fe[nn]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(Fe,en,tn,nn){return Fe[nn+en]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(Fe,en,tn,nn,rn){nn+=en;for(var an=rn||[],ln=Fe,cn=0;cn<ln.length;cn++){var un=ln[cn];an[cn]=un?un[nn]:null}return an},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(Fe,en,tn,nn,rn){for(var an=rn||[],ln=0;ln<tn.length;ln++){var cn=tn[ln].name,un=Fe[cn];an[ln]=un?un[nn]:null}return an},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(Fe,en){var tn=rawSourceItemGetterMap[getMethodMapKey(Fe,en)];return tn}var countSimply=function(Fe,en,tn){return Fe.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(Fe,en,tn){return Math.max(0,Fe.length-en)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(Fe,en,tn){var nn=Fe[0];return nn?Math.max(0,nn.length-en):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(Fe,en,tn){var nn=tn[0].name,rn=Fe[nn];return rn?rn.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(Fe,en){var tn=rawSourceDataCounterMap[getMethodMapKey(Fe,en)];return tn}var getRawValueSimply=function(Fe,en,tn){return Fe[en]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(Fe,en,tn){return Fe[tn]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(Fe,en,tn){var nn=getDataItemValue(Fe);return nn instanceof Array?nn[en]:nn},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(Fe){var en=rawSourceValueGetterMap[Fe];return en}function getMethodMapKey(Fe,en){return Fe===SOURCE_FORMAT_ARRAY_ROWS?Fe+"_"+en:Fe}function retrieveRawValue(Fe,en,tn){if(Fe){var nn=Fe.getRawDataItem(en);if(nn!=null){var rn=Fe.getStore(),an=rn.getSource().sourceFormat;if(tn!=null){var ln=Fe.getDimensionIndex(tn),cn=rn.getDimensionProperty(ln);return getRawSourceValueGetter(an)(nn,ln,cn)}else{var un=nn;return an===SOURCE_FORMAT_ORIGINAL&&(un=getDataItemValue(nn)),un}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function Fe(){}return Fe.prototype.getDataParams=function(en,tn){var nn=this.getData(tn),rn=this.getRawValue(en,tn),an=nn.getRawIndex(en),ln=nn.getName(en),cn=nn.getRawDataItem(en),un=nn.getItemVisual(en,"style"),fn=un&&un[nn.getItemVisual(en,"drawType")||"fill"],hn=un&&un.stroke,pn=this.mainType,gn=pn==="series",mn=nn.userOutput&&nn.userOutput.get();return{componentType:pn,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:gn?this.subType:null,seriesIndex:this.seriesIndex,seriesId:gn?this.id:null,seriesName:gn?this.name:null,name:ln,dataIndex:an,data:cn,dataType:tn,value:rn,color:fn,borderColor:hn,dimensionNames:mn?mn.fullDimensions:null,encode:mn?mn.encode:null,$vars:["seriesName","name","value"]}},Fe.prototype.getFormattedLabel=function(en,tn,nn,rn,an,ln){tn=tn||"normal";var cn=this.getData(nn),un=this.getDataParams(en,nn);if(ln&&(un.value=ln.interpolatedValue),rn!=null&&isArray$1(un.value)&&(un.value=un.value[rn]),!an){var fn=cn.getItemModel(en);an=fn.get(tn==="normal"?["label","formatter"]:[tn,"label","formatter"])}if(isFunction(an))return un.status=tn,un.dimensionIndex=rn,an(un);if(isString(an)){var hn=formatTpl(an,un);return hn.replace(DIMENSION_LABEL_REG,function(pn,gn){var mn=gn.length,_n=gn;_n.charAt(0)==="["&&_n.charAt(mn-1)==="]"&&(_n=+_n.slice(1,mn-1));var kn=retrieveRawValue(cn,en,_n);if(ln&&isArray$1(ln.interpolatedValue)){var Cn=cn.getDimensionIndex(_n);Cn>=0&&(kn=ln.interpolatedValue[Cn])}return kn!=null?kn+"":""})}},Fe.prototype.getRawValue=function(en,tn){return retrieveRawValue(this.getData(tn),en)},Fe.prototype.formatTooltip=function(en,tn,nn){},Fe}();function normalizeTooltipFormatResult(Fe){var en,tn;return isObject$3(Fe)?Fe.type&&(tn=Fe):en=Fe,{text:en,frag:tn}}function createTask(Fe){return new Task(Fe)}var Task=function(){function Fe(en){en=en||{},this._reset=en.reset,this._plan=en.plan,this._count=en.count,this._onDirty=en.onDirty,this._dirty=!0}return Fe.prototype.perform=function(en){var tn=this._upstream,nn=en&&en.skip;if(this._dirty&&tn){var rn=this.context;rn.data=rn.outputData=tn.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var an;this._plan&&!nn&&(an=this._plan(this.context));var ln=hn(this._modBy),cn=this._modDataCount||0,un=hn(en&&en.modBy),fn=en&&en.modDataCount||0;(ln!==un||cn!==fn)&&(an="reset");function hn(Sn){return!(Sn>=1)&&(Sn=1),Sn}var pn;(this._dirty||an==="reset")&&(this._dirty=!1,pn=this._doReset(nn)),this._modBy=un,this._modDataCount=fn;var gn=en&&en.step;if(tn?this._dueEnd=tn._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var mn=this._dueIndex,_n=Math.min(gn!=null?this._dueIndex+gn:1/0,this._dueEnd);if(!nn&&(pn||mn<_n)){var kn=this._progress;if(isArray$1(kn))for(var Cn=0;Cn<kn.length;Cn++)this._doProgress(kn[Cn],mn,_n,un,fn);else this._doProgress(kn,mn,_n,un,fn)}this._dueIndex=_n;var xn=this._settedOutputEnd!=null?this._settedOutputEnd:_n;this._outputDueEnd=xn}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Fe.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Fe.prototype._doProgress=function(en,tn,nn,rn,an){iterator.reset(tn,nn,rn,an),this._callingProgress=en,this._callingProgress({start:tn,end:nn,count:nn-tn,next:iterator.next},this.context)},Fe.prototype._doReset=function(en){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var tn,nn;!en&&this._reset&&(tn=this._reset(this.context),tn&&tn.progress&&(nn=tn.forceFirstProgress,tn=tn.progress),isArray$1(tn)&&!tn.length&&(tn=null)),this._progress=tn,this._modBy=this._modDataCount=null;var rn=this._downstream;return rn&&rn.dirty(),nn},Fe.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Fe.prototype.pipe=function(en){(this._downstream!==en||this._dirty)&&(this._downstream=en,en._upstream=this,en.dirty())},Fe.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Fe.prototype.getUpstream=function(){return this._upstream},Fe.prototype.getDownstream=function(){return this._downstream},Fe.prototype.setOutputEnd=function(en){this._outputDueEnd=this._settedOutputEnd=en},Fe}(),iterator=function(){var Fe,en,tn,nn,rn,an={reset:function(un,fn,hn,pn){en=un,Fe=fn,tn=hn,nn=pn,rn=Math.ceil(nn/tn),an.next=tn>1&&nn>0?cn:ln}};return an;function ln(){return en<Fe?en++:null}function cn(){var un=en%rn*tn+Math.ceil(en/rn),fn=en>=Fe?null:un<nn?un:en;return en++,fn}}();function parseDataValue(Fe,en){var tn=en&&en.type;return tn==="ordinal"?Fe:(tn==="time"&&!isNumber(Fe)&&Fe!=null&&Fe!=="-"&&(Fe=+parseDate(Fe)),Fe==null||Fe===""?NaN:+Fe)}var valueParserMap=createHashMap({number:function(Fe){return parseFloat(Fe)},time:function(Fe){return+parseDate(Fe)},trim:function(Fe){return isString(Fe)?trim$1(Fe):Fe}});function getRawValueParser(Fe){return valueParserMap.get(Fe)}var ORDER_COMPARISON_OP_MAP={lt:function(Fe,en){return Fe<en},lte:function(Fe,en){return Fe<=en},gt:function(Fe,en){return Fe>en},gte:function(Fe,en){return Fe>=en}},FilterOrderComparator=function(){function Fe(en,tn){if(!isNumber(tn)){var nn="";throwError(nn)}this._opFn=ORDER_COMPARISON_OP_MAP[en],this._rvalFloat=numericToNumber(tn)}return Fe.prototype.evaluate=function(en){return isNumber(en)?this._opFn(en,this._rvalFloat):this._opFn(numericToNumber(en),this._rvalFloat)},Fe}(),SortOrderComparator=function(){function Fe(en,tn){var nn=en==="desc";this._resultLT=nn?1:-1,tn==null&&(tn=nn?"min":"max"),this._incomparable=tn==="min"?-1/0:1/0}return Fe.prototype.evaluate=function(en,tn){var nn=isNumber(en)?en:numericToNumber(en),rn=isNumber(tn)?tn:numericToNumber(tn),an=isNaN(nn),ln=isNaN(rn);if(an&&(nn=this._incomparable),ln&&(rn=this._incomparable),an&&ln){var cn=isString(en),un=isString(tn);cn&&(nn=un?en:0),un&&(rn=cn?tn:0)}return nn<rn?this._resultLT:nn>rn?-this._resultLT:0},Fe}(),FilterEqualityComparator=function(){function Fe(en,tn){this._rval=tn,this._isEQ=en,this._rvalTypeof=typeof tn,this._rvalFloat=numericToNumber(tn)}return Fe.prototype.evaluate=function(en){var tn=en===this._rval;if(!tn){var nn=typeof en;nn!==this._rvalTypeof&&(nn==="number"||this._rvalTypeof==="number")&&(tn=numericToNumber(en)===this._rvalFloat)}return this._isEQ?tn:!tn},Fe}();function createFilterComparator(Fe,en){return Fe==="eq"||Fe==="ne"?new FilterEqualityComparator(Fe==="eq",en):hasOwn(ORDER_COMPARISON_OP_MAP,Fe)?new FilterOrderComparator(Fe,en):null}var ExternalSource=function(){function Fe(){}return Fe.prototype.getRawData=function(){throw new Error("not supported")},Fe.prototype.getRawDataItem=function(en){throw new Error("not supported")},Fe.prototype.cloneRawData=function(){},Fe.prototype.getDimensionInfo=function(en){},Fe.prototype.cloneAllDimensionInfo=function(){},Fe.prototype.count=function(){},Fe.prototype.retrieveValue=function(en,tn){},Fe.prototype.retrieveValueFromItem=function(en,tn){},Fe.prototype.convertValue=function(en,tn){return parseDataValue(en,tn)},Fe}();function createExternalSource(Fe,en){var tn=new ExternalSource,nn=Fe.data,rn=tn.sourceFormat=Fe.sourceFormat,an=Fe.startIndex,ln="";Fe.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(ln);var cn=[],un={},fn=Fe.dimensionsDefine;if(fn)each$f(fn,function(kn,Cn){var xn=kn.name,Sn={index:Cn,name:xn,displayName:kn.displayName};if(cn.push(Sn),xn!=null){var Mn="";hasOwn(un,xn)&&throwError(Mn),un[xn]=Sn}});else for(var hn=0;hn<Fe.dimensionsDetectedCount;hn++)cn.push({index:hn});var pn=getRawSourceItemGetter(rn,SERIES_LAYOUT_BY_COLUMN);en.__isBuiltIn&&(tn.getRawDataItem=function(kn){return pn(nn,an,cn,kn)},tn.getRawData=bind$1(getRawData,null,Fe)),tn.cloneRawData=bind$1(cloneRawData,null,Fe);var gn=getRawSourceDataCounter(rn,SERIES_LAYOUT_BY_COLUMN);tn.count=bind$1(gn,null,nn,an,cn);var mn=getRawSourceValueGetter(rn);tn.retrieveValue=function(kn,Cn){var xn=pn(nn,an,cn,kn);return _n(xn,Cn)};var _n=tn.retrieveValueFromItem=function(kn,Cn){if(kn!=null){var xn=cn[Cn];if(xn)return mn(kn,Cn,xn.name)}};return tn.getDimensionInfo=bind$1(getDimensionInfo,null,cn,un),tn.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,cn),tn}function getRawData(Fe){var en=Fe.sourceFormat;if(!isSupportedSourceFormat(en)){var tn="";throwError(tn)}return Fe.data}function cloneRawData(Fe){var en=Fe.sourceFormat,tn=Fe.data;if(!isSupportedSourceFormat(en)){var nn="";throwError(nn)}if(en===SOURCE_FORMAT_ARRAY_ROWS){for(var rn=[],an=0,ln=tn.length;an<ln;an++)rn.push(tn[an].slice());return rn}else if(en===SOURCE_FORMAT_OBJECT_ROWS){for(var rn=[],an=0,ln=tn.length;an<ln;an++)rn.push(extend$1({},tn[an]));return rn}}function getDimensionInfo(Fe,en,tn){if(tn!=null){if(isNumber(tn)||!isNaN(tn)&&!hasOwn(en,tn))return Fe[tn];if(hasOwn(en,tn))return en[tn]}}function cloneAllDimensionInfo(Fe){return clone$4(Fe)}var externalTransformMap=createHashMap();function registerExternalTransform(Fe){Fe=clone$4(Fe);var en=Fe.type,tn="";en||throwError(tn);var nn=en.split(":");nn.length!==2&&throwError(tn);var rn=!1;nn[0]==="echarts"&&(en=nn[1],rn=!0),Fe.__isBuiltIn=rn,externalTransformMap.set(en,Fe)}function applyDataTransform(Fe,en,tn){var nn=normalizeToArray(Fe),rn=nn.length,an="";rn||throwError(an);for(var ln=0,cn=rn;ln<cn;ln++){var un=nn[ln];en=applySingleDataTransform(un,en),ln!==cn-1&&(en.length=Math.max(en.length,1))}return en}function applySingleDataTransform(Fe,en,tn,nn){var rn="";en.length||throwError(rn),isObject$3(Fe)||throwError(rn);var an=Fe.type,ln=externalTransformMap.get(an);ln||throwError(rn);var cn=map$1(en,function(fn){return createExternalSource(fn,ln)}),un=normalizeToArray(ln.transform({upstream:cn[0],upstreamList:cn,config:clone$4(Fe.config)}));return map$1(un,function(fn,hn){var pn="";isObject$3(fn)||throwError(pn),fn.data||throwError(pn);var gn=detectSourceFormat(fn.data);isSupportedSourceFormat(gn)||throwError(pn);var mn,_n=en[0];if(_n&&hn===0&&!fn.dimensions){var kn=_n.startIndex;kn&&(fn.data=_n.data.slice(0,kn).concat(fn.data)),mn={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:kn,dimensions:_n.metaRawOption.dimensions}}else mn={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:fn.dimensions};return createSource(fn.data,mn,null)})}function isSupportedSourceFormat(Fe){return Fe===SOURCE_FORMAT_ARRAY_ROWS||Fe===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(Fe){return Fe>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(Fe){var en=Fe.constructor;return en===Array?Fe.slice():new en(Fe)}function prepareStore(Fe,en,tn,nn,rn){var an=dataCtors[tn||"float"];if(rn){var ln=Fe[en],cn=ln&&ln.length;if(cn!==nn){for(var un=new an(nn),fn=0;fn<cn;fn++)un[fn]=ln[fn];Fe[en]=un}}else Fe[en]=new an(nn)}var DataStore=function(){function Fe(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return Fe.prototype.initData=function(en,tn,nn){this._provider=en,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var rn=en.getSource(),an=this.defaultDimValueGetter=defaultDimValueGetters[rn.sourceFormat];this._dimValueGetter=nn||an,this._rawExtent=[],shouldRetrieveDataByName(rn),this._dimensions=map$1(tn,function(ln){return{type:ln.type,property:ln.property}}),this._initDataFromProvider(0,en.count())},Fe.prototype.getProvider=function(){return this._provider},Fe.prototype.getSource=function(){return this._provider.getSource()},Fe.prototype.ensureCalculationDimension=function(en,tn){var nn=this._calcDimNameToIdx,rn=this._dimensions,an=nn.get(en);if(an!=null){if(rn[an].type===tn)return an}else an=rn.length;return rn[an]={type:tn},nn.set(en,an),this._chunks[an]=new dataCtors[tn||"float"](this._rawCount),this._rawExtent[an]=getInitialExtent(),an},Fe.prototype.collectOrdinalMeta=function(en,tn){var nn=this._chunks[en],rn=this._dimensions[en],an=this._rawExtent,ln=rn.ordinalOffset||0,cn=nn.length;ln===0&&(an[en]=getInitialExtent());for(var un=an[en],fn=ln;fn<cn;fn++){var hn=nn[fn]=tn.parseAndCollect(nn[fn]);isNaN(hn)||(un[0]=Math.min(hn,un[0]),un[1]=Math.max(hn,un[1]))}rn.ordinalMeta=tn,rn.ordinalOffset=cn,rn.type="ordinal"},Fe.prototype.getOrdinalMeta=function(en){var tn=this._dimensions[en],nn=tn.ordinalMeta;return nn},Fe.prototype.getDimensionProperty=function(en){var tn=this._dimensions[en];return tn&&tn.property},Fe.prototype.appendData=function(en){var tn=this._provider,nn=this.count();tn.appendData(en);var rn=tn.count();return tn.persistent||(rn+=nn),nn<rn&&this._initDataFromProvider(nn,rn,!0),[nn,rn]},Fe.prototype.appendValues=function(en,tn){for(var nn=this._chunks,rn=this._dimensions,an=rn.length,ln=this._rawExtent,cn=this.count(),un=cn+Math.max(en.length,tn||0),fn=0;fn<an;fn++){var hn=rn[fn];prepareStore(nn,fn,hn.type,un,!0)}for(var pn=[],gn=cn;gn<un;gn++)for(var mn=gn-cn,_n=0;_n<an;_n++){var hn=rn[_n],kn=defaultDimValueGetters.arrayRows.call(this,en[mn]||pn,hn.property,mn,_n);nn[_n][gn]=kn;var Cn=ln[_n];kn<Cn[0]&&(Cn[0]=kn),kn>Cn[1]&&(Cn[1]=kn)}return this._rawCount=this._count=un,{start:cn,end:un}},Fe.prototype._initDataFromProvider=function(en,tn,nn){for(var rn=this._provider,an=this._chunks,ln=this._dimensions,cn=ln.length,un=this._rawExtent,fn=map$1(ln,function(Sn){return Sn.property}),hn=0;hn<cn;hn++){var pn=ln[hn];un[hn]||(un[hn]=getInitialExtent()),prepareStore(an,hn,pn.type,tn,nn)}if(rn.fillStorage)rn.fillStorage(en,tn,an,un);else for(var gn=[],mn=en;mn<tn;mn++){gn=rn.getItem(mn,gn);for(var _n=0;_n<cn;_n++){var kn=an[_n],Cn=this._dimValueGetter(gn,fn[_n],mn,_n);kn[mn]=Cn;var xn=un[_n];Cn<xn[0]&&(xn[0]=Cn),Cn>xn[1]&&(xn[1]=Cn)}}!rn.persistent&&rn.clean&&rn.clean(),this._rawCount=this._count=tn,this._extent=[]},Fe.prototype.count=function(){return this._count},Fe.prototype.get=function(en,tn){if(!(tn>=0&&tn<this._count))return NaN;var nn=this._chunks[en];return nn?nn[this.getRawIndex(tn)]:NaN},Fe.prototype.getValues=function(en,tn){var nn=[],rn=[];if(tn==null){tn=en,en=[];for(var an=0;an<this._dimensions.length;an++)rn.push(an)}else rn=en;for(var an=0,ln=rn.length;an<ln;an++)nn.push(this.get(rn[an],tn));return nn},Fe.prototype.getByRawIndex=function(en,tn){if(!(tn>=0&&tn<this._rawCount))return NaN;var nn=this._chunks[en];return nn?nn[tn]:NaN},Fe.prototype.getSum=function(en){var tn=this._chunks[en],nn=0;if(tn)for(var rn=0,an=this.count();rn<an;rn++){var ln=this.get(en,rn);isNaN(ln)||(nn+=ln)}return nn},Fe.prototype.getMedian=function(en){var tn=[];this.each([en],function(an){isNaN(an)||tn.push(an)});var nn=tn.sort(function(an,ln){return an-ln}),rn=this.count();return rn===0?0:rn%2===1?nn[(rn-1)/2]:(nn[rn/2]+nn[rn/2-1])/2},Fe.prototype.indexOfRawIndex=function(en){if(en>=this._rawCount||en<0)return-1;if(!this._indices)return en;var tn=this._indices,nn=tn[en];if(nn!=null&&nn<this._count&&nn===en)return en;for(var rn=0,an=this._count-1;rn<=an;){var ln=(rn+an)/2|0;if(tn[ln]<en)rn=ln+1;else if(tn[ln]>en)an=ln-1;else return ln}return-1},Fe.prototype.indicesOfNearest=function(en,tn,nn){var rn=this._chunks,an=rn[en],ln=[];if(!an)return ln;nn==null&&(nn=1/0);for(var cn=1/0,un=-1,fn=0,hn=0,pn=this.count();hn<pn;hn++){var gn=this.getRawIndex(hn),mn=tn-an[gn],_n=Math.abs(mn);_n<=nn&&((_n<cn||_n===cn&&mn>=0&&un<0)&&(cn=_n,un=mn,fn=0),mn===un&&(ln[fn++]=hn))}return ln.length=fn,ln},Fe.prototype.getIndices=function(){var en,tn=this._indices;if(tn){var nn=tn.constructor,rn=this._count;if(nn===Array){en=new nn(rn);for(var an=0;an<rn;an++)en[an]=tn[an]}else en=new nn(tn.buffer,0,rn)}else{var nn=getIndicesCtor(this._rawCount);en=new nn(this.count());for(var an=0;an<en.length;an++)en[an]=an}return en},Fe.prototype.filter=function(en,tn){if(!this._count)return this;for(var nn=this.clone(),rn=nn.count(),an=getIndicesCtor(nn._rawCount),ln=new an(rn),cn=[],un=en.length,fn=0,hn=en[0],pn=nn._chunks,gn=0;gn<rn;gn++){var mn=void 0,_n=nn.getRawIndex(gn);if(un===0)mn=tn(gn);else if(un===1){var kn=pn[hn][_n];mn=tn(kn,gn)}else{for(var Cn=0;Cn<un;Cn++)cn[Cn]=pn[en[Cn]][_n];cn[Cn]=gn,mn=tn.apply(null,cn)}mn&&(ln[fn++]=_n)}return fn<rn&&(nn._indices=ln),nn._count=fn,nn._extent=[],nn._updateGetRawIdx(),nn},Fe.prototype.selectRange=function(en){var tn=this.clone(),nn=tn._count;if(!nn)return this;var rn=keys(en),an=rn.length;if(!an)return this;var ln=tn.count(),cn=getIndicesCtor(tn._rawCount),un=new cn(ln),fn=0,hn=rn[0],pn=en[hn][0],gn=en[hn][1],mn=tn._chunks,_n=!1;if(!tn._indices){var kn=0;if(an===1){for(var Cn=mn[rn[0]],xn=0;xn<nn;xn++){var Sn=Cn[xn];(Sn>=pn&&Sn<=gn||isNaN(Sn))&&(un[fn++]=kn),kn++}_n=!0}else if(an===2){for(var Cn=mn[rn[0]],Mn=mn[rn[1]],In=en[rn[1]][0],On=en[rn[1]][1],xn=0;xn<nn;xn++){var Sn=Cn[xn],Pn=Mn[xn];(Sn>=pn&&Sn<=gn||isNaN(Sn))&&(Pn>=In&&Pn<=On||isNaN(Pn))&&(un[fn++]=kn),kn++}_n=!0}}if(!_n)if(an===1)for(var xn=0;xn<ln;xn++){var Tn=tn.getRawIndex(xn),Sn=mn[rn[0]][Tn];(Sn>=pn&&Sn<=gn||isNaN(Sn))&&(un[fn++]=Tn)}else for(var xn=0;xn<ln;xn++){for(var Nn=!0,Tn=tn.getRawIndex(xn),Hn=0;Hn<an;Hn++){var Un=rn[Hn],Sn=mn[Un][Tn];(Sn<en[Un][0]||Sn>en[Un][1])&&(Nn=!1)}Nn&&(un[fn++]=tn.getRawIndex(xn))}return fn<ln&&(tn._indices=un),tn._count=fn,tn._extent=[],tn._updateGetRawIdx(),tn},Fe.prototype.map=function(en,tn){var nn=this.clone(en);return this._updateDims(nn,en,tn),nn},Fe.prototype.modify=function(en,tn){this._updateDims(this,en,tn)},Fe.prototype._updateDims=function(en,tn,nn){for(var rn=en._chunks,an=[],ln=tn.length,cn=en.count(),un=[],fn=en._rawExtent,hn=0;hn<tn.length;hn++)fn[tn[hn]]=getInitialExtent();for(var pn=0;pn<cn;pn++){for(var gn=en.getRawIndex(pn),mn=0;mn<ln;mn++)un[mn]=rn[tn[mn]][gn];un[ln]=pn;var _n=nn&&nn.apply(null,un);if(_n!=null){typeof _n!="object"&&(an[0]=_n,_n=an);for(var hn=0;hn<_n.length;hn++){var kn=tn[hn],Cn=_n[hn],xn=fn[kn],Sn=rn[kn];Sn&&(Sn[gn]=Cn),Cn<xn[0]&&(xn[0]=Cn),Cn>xn[1]&&(xn[1]=Cn)}}}},Fe.prototype.lttbDownSample=function(en,tn){var nn=this.clone([en],!0),rn=nn._chunks,an=rn[en],ln=this.count(),cn=0,un=Math.floor(1/tn),fn=this.getRawIndex(0),hn,pn,gn,mn=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(ln/un)+2)*2,ln));mn[cn++]=fn;for(var _n=1;_n<ln-1;_n+=un){for(var kn=Math.min(_n+un,ln-1),Cn=Math.min(_n+un*2,ln),xn=(Cn+kn)/2,Sn=0,Mn=kn;Mn<Cn;Mn++){var In=this.getRawIndex(Mn),On=an[In];isNaN(On)||(Sn+=On)}Sn/=Cn-kn;var Pn=_n,Tn=Math.min(_n+un,ln),Nn=_n-1,Hn=an[fn];hn=-1,gn=Pn;for(var Un=-1,jn=0,Mn=Pn;Mn<Tn;Mn++){var In=this.getRawIndex(Mn),On=an[In];if(isNaN(On)){jn++,Un<0&&(Un=In);continue}pn=Math.abs((Nn-xn)*(On-Hn)-(Nn-Mn)*(Sn-Hn)),pn>hn&&(hn=pn,gn=In)}jn>0&&jn<Tn-Pn&&(mn[cn++]=Math.min(Un,gn),gn=Math.max(Un,gn)),mn[cn++]=gn,fn=gn}return mn[cn++]=this.getRawIndex(ln-1),nn._count=cn,nn._indices=mn,nn.getRawIndex=this._getRawIdx,nn},Fe.prototype.downSample=function(en,tn,nn,rn){for(var an=this.clone([en],!0),ln=an._chunks,cn=[],un=Math.floor(1/tn),fn=ln[en],hn=this.count(),pn=an._rawExtent[en]=getInitialExtent(),gn=new(getIndicesCtor(this._rawCount))(Math.ceil(hn/un)),mn=0,_n=0;_n<hn;_n+=un){un>hn-_n&&(un=hn-_n,cn.length=un);for(var kn=0;kn<un;kn++){var Cn=this.getRawIndex(_n+kn);cn[kn]=fn[Cn]}var xn=nn(cn),Sn=this.getRawIndex(Math.min(_n+rn(cn,xn)||0,hn-1));fn[Sn]=xn,xn<pn[0]&&(pn[0]=xn),xn>pn[1]&&(pn[1]=xn),gn[mn++]=Sn}return an._count=mn,an._indices=gn,an._updateGetRawIdx(),an},Fe.prototype.each=function(en,tn){if(this._count)for(var nn=en.length,rn=this._chunks,an=0,ln=this.count();an<ln;an++){var cn=this.getRawIndex(an);switch(nn){case 0:tn(an);break;case 1:tn(rn[en[0]][cn],an);break;case 2:tn(rn[en[0]][cn],rn[en[1]][cn],an);break;default:for(var un=0,fn=[];un<nn;un++)fn[un]=rn[en[un]][cn];fn[un]=an,tn.apply(null,fn)}}},Fe.prototype.getDataExtent=function(en){var tn=this._chunks[en],nn=getInitialExtent();if(!tn)return nn;var rn=this.count(),an=!this._indices,ln;if(an)return this._rawExtent[en].slice();if(ln=this._extent[en],ln)return ln.slice();ln=nn;for(var cn=ln[0],un=ln[1],fn=0;fn<rn;fn++){var hn=this.getRawIndex(fn),pn=tn[hn];pn<cn&&(cn=pn),pn>un&&(un=pn)}return ln=[cn,un],this._extent[en]=ln,ln},Fe.prototype.getRawDataItem=function(en){var tn=this.getRawIndex(en);if(this._provider.persistent)return this._provider.getItem(tn);for(var nn=[],rn=this._chunks,an=0;an<rn.length;an++)nn.push(rn[an][tn]);return nn},Fe.prototype.clone=function(en,tn){var nn=new Fe,rn=this._chunks,an=en&&reduce(en,function(cn,un){return cn[un]=!0,cn},{});if(an)for(var ln=0;ln<rn.length;ln++)nn._chunks[ln]=an[ln]?cloneChunk(rn[ln]):rn[ln];else nn._chunks=rn;return this._copyCommonProps(nn),tn||(nn._indices=this._cloneIndices()),nn._updateGetRawIdx(),nn},Fe.prototype._copyCommonProps=function(en){en._count=this._count,en._rawCount=this._rawCount,en._provider=this._provider,en._dimensions=this._dimensions,en._extent=clone$4(this._extent),en._rawExtent=clone$4(this._rawExtent)},Fe.prototype._cloneIndices=function(){if(this._indices){var en=this._indices.constructor,tn=void 0;if(en===Array){var nn=this._indices.length;tn=new en(nn);for(var rn=0;rn<nn;rn++)tn[rn]=this._indices[rn]}else tn=new en(this._indices);return tn}return null},Fe.prototype._getRawIdxIdentity=function(en){return en},Fe.prototype._getRawIdx=function(en){return en<this._count&&en>=0?this._indices[en]:-1},Fe.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},Fe.internalField=function(){function en(tn,nn,rn,an){return parseDataValue(tn[an],this._dimensions[an])}defaultDimValueGetters={arrayRows:en,objectRows:function(tn,nn,rn,an){return parseDataValue(tn[nn],this._dimensions[an])},keyedColumns:en,original:function(tn,nn,rn,an){var ln=tn&&(tn.value==null?tn:tn.value);return parseDataValue(ln instanceof Array?ln[an]:ln,this._dimensions[an])},typedArray:function(tn,nn,rn,an){return tn[an]}}}(),Fe}();const DataStore$1=DataStore;var SourceManager=function(){function Fe(en){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=en}return Fe.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},Fe.prototype._setLocalSource=function(en,tn){this._sourceList=en,this._upstreamSignList=tn,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},Fe.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},Fe.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},Fe.prototype._createSource=function(){this._setLocalSource([],[]);var en=this._sourceHost,tn=this._getUpstreamSourceManagers(),nn=!!tn.length,rn,an;if(isSeries(en)){var ln=en,cn=void 0,un=void 0,fn=void 0;if(nn){var hn=tn[0];hn.prepareSource(),fn=hn.getSource(),cn=fn.data,un=fn.sourceFormat,an=[hn._getVersionSign()]}else cn=ln.get("data",!0),un=isTypedArray(cn)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,an=[];var pn=this._getSourceMetaRawOption()||{},gn=fn&&fn.metaRawOption||{},mn=retrieve2(pn.seriesLayoutBy,gn.seriesLayoutBy)||null,_n=retrieve2(pn.sourceHeader,gn.sourceHeader),kn=retrieve2(pn.dimensions,gn.dimensions),Cn=mn!==gn.seriesLayoutBy||!!_n!=!!gn.sourceHeader||kn;rn=Cn?[createSource(cn,{seriesLayoutBy:mn,sourceHeader:_n,dimensions:kn},un)]:[]}else{var xn=en;if(nn){var Sn=this._applyTransform(tn);rn=Sn.sourceList,an=Sn.upstreamSignList}else{var Mn=xn.get("source",!0);rn=[createSource(Mn,this._getSourceMetaRawOption(),null)],an=[]}}this._setLocalSource(rn,an)},Fe.prototype._applyTransform=function(en){var tn=this._sourceHost,nn=tn.get("transform",!0),rn=tn.get("fromTransformResult",!0);if(rn!=null){var an="";en.length!==1&&doThrow(an)}var ln,cn=[],un=[];return each$f(en,function(fn){fn.prepareSource();var hn=fn.getSource(rn||0),pn="";rn!=null&&!hn&&doThrow(pn),cn.push(hn),un.push(fn._getVersionSign())}),nn?ln=applyDataTransform(nn,cn,{datasetIndex:tn.componentIndex}):rn!=null&&(ln=[cloneSourceShallow(cn[0])]),{sourceList:ln,upstreamSignList:un}},Fe.prototype._isDirty=function(){if(this._dirty)return!0;for(var en=this._getUpstreamSourceManagers(),tn=0;tn<en.length;tn++){var nn=en[tn];if(nn._isDirty()||this._upstreamSignList[tn]!==nn._getVersionSign())return!0}},Fe.prototype.getSource=function(en){en=en||0;var tn=this._sourceList[en];if(!tn){var nn=this._getUpstreamSourceManagers();return nn[0]&&nn[0].getSource(en)}return tn},Fe.prototype.getSharedDataStore=function(en){var tn=en.makeStoreSchema();return this._innerGetDataStore(tn.dimensions,en.source,tn.hash)},Fe.prototype._innerGetDataStore=function(en,tn,nn){var rn=0,an=this._storeList,ln=an[rn];ln||(ln=an[rn]={});var cn=ln[nn];if(!cn){var un=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&un?cn=un._innerGetDataStore(en,tn,nn):(cn=new DataStore$1,cn.initData(new DefaultDataProvider(tn,en.length),en)),ln[nn]=cn}return cn},Fe.prototype._getUpstreamSourceManagers=function(){var en=this._sourceHost;if(isSeries(en)){var tn=querySeriesUpstreamDatasetModel(en);return tn?[tn.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(en),function(nn){return nn.getSourceManager()})},Fe.prototype._getSourceMetaRawOption=function(){var en=this._sourceHost,tn,nn,rn;if(isSeries(en))tn=en.get("seriesLayoutBy",!0),nn=en.get("sourceHeader",!0),rn=en.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var an=en;tn=an.get("seriesLayoutBy",!0),nn=an.get("sourceHeader",!0),rn=an.get("dimensions",!0)}return{seriesLayoutBy:tn,sourceHeader:nn,dimensions:rn}},Fe}();function disableTransformOptionMerge(Fe){var en=Fe.option.transform;en&&setAsPrimitive(Fe.option.transform)}function isSeries(Fe){return Fe.mainType==="series"}function doThrow(Fe){throw new Error(Fe)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(Fe,en){var tn=Fe.color||"#6e7079",nn=Fe.fontSize||12,rn=Fe.fontWeight||"400",an=Fe.color||"#464646",ln=Fe.fontSize||14,cn=Fe.fontWeight||"900";return en==="html"?{nameStyle:"font-size:"+encodeHTML(nn+"")+"px;color:"+encodeHTML(tn)+";font-weight:"+encodeHTML(rn+""),valueStyle:"font-size:"+encodeHTML(ln+"")+"px;color:"+encodeHTML(an)+";font-weight:"+encodeHTML(cn+"")}:{nameStyle:{fontSize:nn,fill:tn,fontWeight:rn},valueStyle:{fontSize:ln,fill:an,fontWeight:cn}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(Fe,en){return en.type=Fe,en}function isSectionFragment(Fe){return Fe.type==="section"}function getBuilder(Fe){return isSectionFragment(Fe)?buildSection:buildNameValue}function getBlockGapLevel(Fe){if(isSectionFragment(Fe)){var en=0,tn=Fe.blocks.length,nn=tn>1||tn>0&&!Fe.noHeader;return each$f(Fe.blocks,function(rn){var an=getBlockGapLevel(rn);an>=en&&(en=an+ +(nn&&(!an||isSectionFragment(rn)&&!rn.noHeader)))}),en}return 0}function buildSection(Fe,en,tn,nn){var rn=en.noHeader,an=getGap(getBlockGapLevel(en)),ln=[],cn=en.blocks||[];assert(!cn||isArray$1(cn)),cn=cn||[];var un=Fe.orderMode;if(en.sortBlocks&&un){cn=cn.slice();var fn={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(fn,un)){var hn=new SortOrderComparator(fn[un],null);cn.sort(function(_n,kn){return hn.evaluate(_n.sortParam,kn.sortParam)})}else un==="seriesDesc"&&cn.reverse()}each$f(cn,function(_n,kn){var Cn=en.valueFormatter,xn=getBuilder(_n)(Cn?extend$1(extend$1({},Fe),{valueFormatter:Cn}):Fe,_n,kn>0?an.html:0,nn);xn!=null&&ln.push(xn)});var pn=Fe.renderMode==="richText"?ln.join(an.richText):wrapBlockHTML(ln.join(""),rn?tn:an.html);if(rn)return pn;var gn=makeValueReadable(en.header,"ordinal",Fe.useUTC),mn=getTooltipTextStyle(nn,Fe.renderMode).nameStyle;return Fe.renderMode==="richText"?wrapInlineNameRichText(Fe,gn,mn)+an.richText+pn:wrapBlockHTML('<div style="'+mn+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(gn)+"</div>"+pn,tn)}function buildNameValue(Fe,en,tn,nn){var rn=Fe.renderMode,an=en.noName,ln=en.noValue,cn=!en.markerType,un=en.name,fn=Fe.useUTC,hn=en.valueFormatter||Fe.valueFormatter||function(In){return In=isArray$1(In)?In:[In],map$1(In,function(On,Pn){return makeValueReadable(On,isArray$1(mn)?mn[Pn]:mn,fn)})};if(!(an&&ln)){var pn=cn?"":Fe.markupStyleCreator.makeTooltipMarker(en.markerType,en.markerColor||"#333",rn),gn=an?"":makeValueReadable(un,"ordinal",fn),mn=en.valueType,_n=ln?[]:hn(en.value),kn=!cn||!an,Cn=!cn&&an,xn=getTooltipTextStyle(nn,rn),Sn=xn.nameStyle,Mn=xn.valueStyle;return rn==="richText"?(cn?"":pn)+(an?"":wrapInlineNameRichText(Fe,gn,Sn))+(ln?"":wrapInlineValueRichText(Fe,_n,kn,Cn,Mn)):wrapBlockHTML((cn?"":pn)+(an?"":wrapInlineNameHTML(gn,!cn,Sn))+(ln?"":wrapInlineValueHTML(_n,kn,Cn,Mn)),tn)}}function buildTooltipMarkup(Fe,en,tn,nn,rn,an){if(Fe){var ln=getBuilder(Fe),cn={useUTC:rn,renderMode:tn,orderMode:nn,markupStyleCreator:en,valueFormatter:Fe.valueFormatter};return ln(cn,Fe,0,an)}}function getGap(Fe){return{html:HTML_GAPS[Fe],richText:RICH_TEXT_GAPS[Fe]}}function wrapBlockHTML(Fe,en){var tn='<div style="clear:both"></div>',nn="margin: "+en+"px 0 0";return'<div style="'+nn+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+Fe+tn+"</div>"}function wrapInlineNameHTML(Fe,en,tn){var nn=en?"margin-left:2px":"";return'<span style="'+tn+";"+nn+'">'+encodeHTML(Fe)+"</span>"}function wrapInlineValueHTML(Fe,en,tn,nn){var rn=tn?"10px":"20px",an=en?"float:right;margin-left:"+rn:"";return Fe=isArray$1(Fe)?Fe:[Fe],'<span style="'+an+";"+nn+'">'+map$1(Fe,function(ln){return encodeHTML(ln)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(Fe,en,tn){return Fe.markupStyleCreator.wrapRichTextStyle(en,tn)}function wrapInlineValueRichText(Fe,en,tn,nn,rn){var an=[rn],ln=nn?10:20;return tn&&an.push({padding:[0,0,0,ln],align:"right"}),Fe.markupStyleCreator.wrapRichTextStyle(isArray$1(en)?en.join("  "):en,an)}function retrieveVisualColorForTooltipMarker(Fe,en){var tn=Fe.getData().getItemVisual(en,"style"),nn=tn[Fe.visualDrawType];return convertToColorString(nn)}function getPaddingFromTooltipModel(Fe,en){var tn=Fe.get("padding");return tn??(en==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function Fe(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return Fe.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},Fe.prototype.makeTooltipMarker=function(en,tn,nn){var rn=nn==="richText"?this._generateStyleName():null,an=getTooltipMarker({color:tn,type:en,renderMode:nn,markerId:rn});return isString(an)?an:(this.richTextStyles[rn]=an.style,an.content)},Fe.prototype.wrapRichTextStyle=function(en,tn){var nn={};isArray$1(tn)?each$f(tn,function(an){return extend$1(nn,an)}):extend$1(nn,tn);var rn=this._generateStyleName();return this.richTextStyles[rn]=nn,"{"+rn+"|"+en+"}"},Fe}();function defaultSeriesFormatTooltip(Fe){var en=Fe.series,tn=Fe.dataIndex,nn=Fe.multipleSeries,rn=en.getData(),an=rn.mapDimensionsAll("defaultedTooltip"),ln=an.length,cn=en.getRawValue(tn),un=isArray$1(cn),fn=retrieveVisualColorForTooltipMarker(en,tn),hn,pn,gn,mn;if(ln>1||un&&!ln){var _n=formatTooltipArrayValue(cn,en,tn,an,fn);hn=_n.inlineValues,pn=_n.inlineValueTypes,gn=_n.blocks,mn=_n.inlineValues[0]}else if(ln){var kn=rn.getDimensionInfo(an[0]);mn=hn=retrieveRawValue(rn,tn,an[0]),pn=kn.type}else mn=hn=un?cn[0]:cn;var Cn=isNameSpecified(en),xn=Cn&&en.name||"",Sn=rn.getName(tn),Mn=nn?xn:Sn;return createTooltipMarkup("section",{header:xn,noHeader:nn||!Cn,sortParam:mn,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:fn,name:Mn,noName:!trim$1(Mn),value:hn,valueType:pn})].concat(gn||[])})}function formatTooltipArrayValue(Fe,en,tn,nn,rn){var an=en.getData(),ln=reduce(Fe,function(pn,gn,mn){var _n=an.getDimensionInfo(mn);return pn=pn||_n&&_n.tooltip!==!1&&_n.displayName!=null},!1),cn=[],un=[],fn=[];nn.length?each$f(nn,function(pn){hn(retrieveRawValue(an,tn,pn),pn)}):each$f(Fe,hn);function hn(pn,gn){var mn=an.getDimensionInfo(gn);!mn||mn.otherDims.tooltip===!1||(ln?fn.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:rn,name:mn.displayName,value:pn,valueType:mn.type})):(cn.push(pn),un.push(mn.type)))}return{inlineValues:cn,inlineValueTypes:un,blocks:fn}}var inner$k=makeInner();function getSelectionKey(Fe,en){return Fe.getName(en)||Fe.getId(en)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn._selectedDataIndicesMap={},tn}return en.prototype.init=function(tn,nn,rn){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(tn,rn);var an=inner$k(this).sourceManager=new SourceManager(this);an.prepareSource();var ln=this.getInitialData(tn,rn);wrapData(ln,this),this.dataTask.context.data=ln,inner$k(this).dataBeforeProcessed=ln,autoSeriesName(this),this._initSelectedMapFromData(ln)},en.prototype.mergeDefaultAndTheme=function(tn,nn){var rn=fetchLayoutMode(this),an=rn?getLayoutParams(tn):{},ln=this.subType;ComponentModel$1.hasClass(ln)&&(ln+="Series"),merge(tn,nn.getTheme().get(this.subType)),merge(tn,this.getDefaultOption()),defaultEmphasis(tn,"label",["show"]),this.fillDataTextStyle(tn.data),rn&&mergeLayoutParam(tn,an,rn)},en.prototype.mergeOption=function(tn,nn){tn=merge(this.option,tn,!0),this.fillDataTextStyle(tn.data);var rn=fetchLayoutMode(this);rn&&mergeLayoutParam(this.option,tn,rn);var an=inner$k(this).sourceManager;an.dirty(),an.prepareSource();var ln=this.getInitialData(tn,nn);wrapData(ln,this),this.dataTask.dirty(),this.dataTask.context.data=ln,inner$k(this).dataBeforeProcessed=ln,autoSeriesName(this),this._initSelectedMapFromData(ln)},en.prototype.fillDataTextStyle=function(tn){if(tn&&!isTypedArray(tn))for(var nn=["show"],rn=0;rn<tn.length;rn++)tn[rn]&&tn[rn].label&&defaultEmphasis(tn[rn],"label",nn)},en.prototype.getInitialData=function(tn,nn){},en.prototype.appendData=function(tn){var nn=this.getRawData();nn.appendData(tn.data)},en.prototype.getData=function(tn){var nn=getCurrentTask(this);if(nn){var rn=nn.context.data;return tn==null?rn:rn.getLinkedData(tn)}else return inner$k(this).data},en.prototype.getAllData=function(){var tn=this.getData();return tn&&tn.getLinkedDataAll?tn.getLinkedDataAll():[{data:tn}]},en.prototype.setData=function(tn){var nn=getCurrentTask(this);if(nn){var rn=nn.context;rn.outputData=tn,nn!==this.dataTask&&(rn.data=tn)}inner$k(this).data=tn},en.prototype.getEncode=function(){var tn=this.get("encode",!0);if(tn)return createHashMap(tn)},en.prototype.getSourceManager=function(){return inner$k(this).sourceManager},en.prototype.getSource=function(){return this.getSourceManager().getSource()},en.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},en.prototype.getColorBy=function(){var tn=this.get("colorBy");return tn||"series"},en.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},en.prototype.getBaseAxis=function(){var tn=this.coordinateSystem;return tn&&tn.getBaseAxis&&tn.getBaseAxis()},en.prototype.formatTooltip=function(tn,nn,rn){return defaultSeriesFormatTooltip({series:this,dataIndex:tn,multipleSeries:nn})},en.prototype.isAnimationEnabled=function(){var tn=this.ecModel;if(env$1.node&&!(tn&&tn.ssr))return!1;var nn=this.getShallow("animation");return nn&&this.getData().count()>this.getShallow("animationThreshold")&&(nn=!1),!!nn},en.prototype.restoreData=function(){this.dataTask.dirty()},en.prototype.getColorFromPalette=function(tn,nn,rn){var an=this.ecModel,ln=PaletteMixin.prototype.getColorFromPalette.call(this,tn,nn,rn);return ln||(ln=an.getColorFromPalette(tn,nn,rn)),ln},en.prototype.coordDimToDataDim=function(tn){return this.getRawData().mapDimensionsAll(tn)},en.prototype.getProgressive=function(){return this.get("progressive")},en.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},en.prototype.select=function(tn,nn){this._innerSelect(this.getData(nn),tn)},en.prototype.unselect=function(tn,nn){var rn=this.option.selectedMap;if(rn){var an=this.option.selectedMode,ln=this.getData(nn);if(an==="series"||rn==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var cn=0;cn<tn.length;cn++){var un=tn[cn],fn=getSelectionKey(ln,un);rn[fn]=!1,this._selectedDataIndicesMap[fn]=-1}}},en.prototype.toggleSelect=function(tn,nn){for(var rn=[],an=0;an<tn.length;an++)rn[0]=tn[an],this.isSelected(tn[an],nn)?this.unselect(rn,nn):this.select(rn,nn)},en.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var tn=this._selectedDataIndicesMap,nn=keys(tn),rn=[],an=0;an<nn.length;an++){var ln=tn[nn[an]];ln>=0&&rn.push(ln)}return rn},en.prototype.isSelected=function(tn,nn){var rn=this.option.selectedMap;if(!rn)return!1;var an=this.getData(nn);return(rn==="all"||rn[getSelectionKey(an,tn)])&&!an.getItemModel(tn).get(["select","disabled"])},en.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var tn=this.option.universalTransition;return tn?tn===!0?!0:tn&&tn.enabled:!1},en.prototype._innerSelect=function(tn,nn){var rn,an,ln=this.option,cn=ln.selectedMode,un=nn.length;if(!(!cn||!un)){if(cn==="series")ln.selectedMap="all";else if(cn==="multiple"){isObject$3(ln.selectedMap)||(ln.selectedMap={});for(var fn=ln.selectedMap,hn=0;hn<un;hn++){var pn=nn[hn],gn=getSelectionKey(tn,pn);fn[gn]=!0,this._selectedDataIndicesMap[gn]=tn.getRawIndex(pn)}}else if(cn==="single"||cn===!0){var mn=nn[un-1],gn=getSelectionKey(tn,mn);ln.selectedMap=(rn={},rn[gn]=!0,rn),this._selectedDataIndicesMap=(an={},an[gn]=tn.getRawIndex(mn),an)}}},en.prototype._initSelectedMapFromData=function(tn){if(!this.option.selectedMap){var nn=[];tn.hasItemOption&&tn.each(function(rn){var an=tn.getRawDataItem(rn);an&&an.selected&&nn.push(rn)}),nn.length>0&&this._innerSelect(tn,nn)}},en.registerClass=function(tn){return ComponentModel$1.registerClass(tn)},en.protoInitialize=function(){var tn=en.prototype;tn.type="series.__base__",tn.seriesIndex=0,tn.ignoreStyleOnData=!1,tn.hasSymbolVisual=!1,tn.defaultSymbol="circle",tn.visualStyleAccessPath="itemStyle",tn.visualDrawType="fill"}(),en}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(Fe){var en=Fe.name;isNameSpecified(Fe)||(Fe.name=getSeriesAutoName(Fe)||en)}function getSeriesAutoName(Fe){var en=Fe.getRawData(),tn=en.mapDimensionsAll("seriesName"),nn=[];return each$f(tn,function(rn){var an=en.getDimensionInfo(rn);an.displayName&&nn.push(an.displayName)}),nn.join(" ")}function dataTaskCount(Fe){return Fe.model.getRawData().count()}function dataTaskReset(Fe){var en=Fe.model;return en.setData(en.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(Fe,en){en.outputData&&Fe.end>en.outputData.count()&&en.model.getRawData().cloneShallow(en.outputData)}function wrapData(Fe,en){each$f(concatArray(Fe.CHANGABLE_METHODS,Fe.DOWNSAMPLE_METHODS),function(tn){Fe.wrapMethod(tn,curry$1(onDataChange,en))})}function onDataChange(Fe,en){var tn=getCurrentTask(Fe);return tn&&tn.setOutputEnd((en||this).count()),en}function getCurrentTask(Fe){var en=(Fe.ecModel||{}).scheduler,tn=en&&en.getPipeline(Fe.uid);if(tn){var nn=tn.currentTask;if(nn){var rn=nn.agentStubMap;rn&&(nn=rn.get(Fe.uid))}return nn}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function Fe(){this.group=new Group$4,this.uid=getUID("viewComponent")}return Fe.prototype.init=function(en,tn){},Fe.prototype.render=function(en,tn,nn,rn){},Fe.prototype.dispose=function(en,tn){},Fe.prototype.updateView=function(en,tn,nn,rn){},Fe.prototype.updateLayout=function(en,tn,nn,rn){},Fe.prototype.updateVisual=function(en,tn,nn,rn){},Fe.prototype.toggleBlurSeries=function(en,tn,nn){},Fe.prototype.eachRendered=function(en){var tn=this.group;tn&&tn.traverse(en)},Fe}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var Fe=makeInner();return function(en){var tn=Fe(en),nn=en.pipelineContext,rn=!!tn.large,an=!!tn.progressiveRender,ln=tn.large=!!(nn&&nn.large),cn=tn.progressiveRender=!!(nn&&nn.progressiveRender);return(rn!==ln||an!==cn)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function Fe(){this.group=new Group$4,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return Fe.prototype.init=function(en,tn){},Fe.prototype.render=function(en,tn,nn,rn){},Fe.prototype.highlight=function(en,tn,nn,rn){var an=en.getData(rn&&rn.dataType);an&&toggleHighlight(an,rn,"emphasis")},Fe.prototype.downplay=function(en,tn,nn,rn){var an=en.getData(rn&&rn.dataType);an&&toggleHighlight(an,rn,"normal")},Fe.prototype.remove=function(en,tn){this.group.removeAll()},Fe.prototype.dispose=function(en,tn){},Fe.prototype.updateView=function(en,tn,nn,rn){this.render(en,tn,nn,rn)},Fe.prototype.updateLayout=function(en,tn,nn,rn){this.render(en,tn,nn,rn)},Fe.prototype.updateVisual=function(en,tn,nn,rn){this.render(en,tn,nn,rn)},Fe.prototype.eachRendered=function(en){traverseElements(this.group,en)},Fe.markUpdateMethod=function(en,tn){inner$j(en).updateMethod=tn},Fe.protoInitialize=function(){var en=Fe.prototype;en.type="chart"}(),Fe}();function elSetState(Fe,en,tn){Fe&&isHighDownDispatcher(Fe)&&(en==="emphasis"?enterEmphasis:leaveEmphasis)(Fe,tn)}function toggleHighlight(Fe,en,tn){var nn=queryDataIndex(Fe,en),rn=en&&en.highlightKey!=null?getHighlightDigit(en.highlightKey):null;nn!=null?each$f(normalizeToArray(nn),function(an){elSetState(Fe.getItemGraphicEl(an),tn,rn)}):Fe.eachItemGraphicEl(function(an){elSetState(an,tn,rn)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(Fe){return renderPlanner(Fe.model)}function renderTaskReset(Fe){var en=Fe.model,tn=Fe.ecModel,nn=Fe.api,rn=Fe.payload,an=en.pipelineContext.progressiveRender,ln=Fe.view,cn=rn&&inner$j(rn).updateMethod,un=an?"incrementalPrepareRender":cn&&ln[cn]?cn:"render";return un!=="render"&&ln[un](en,tn,nn,rn),progressMethodMap[un]}var progressMethodMap={incrementalPrepareRender:{progress:function(Fe,en){en.view.incrementalRender(Fe,en.model,en.ecModel,en.api,en.payload)}},render:{forceFirstProgress:!0,progress:function(Fe,en){en.view.render(en.model,en.ecModel,en.api,en.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(Fe,en,tn){var nn,rn=0,an=0,ln=null,cn,un,fn,hn;en=en||0;function pn(){an=new Date().getTime(),ln=null,Fe.apply(un,fn||[])}var gn=function(){for(var mn=[],_n=0;_n<arguments.length;_n++)mn[_n]=arguments[_n];nn=new Date().getTime(),un=this,fn=mn;var kn=hn||en,Cn=hn||tn;hn=null,cn=nn-(Cn?rn:an)-kn,clearTimeout(ln),Cn?ln=setTimeout(pn,kn):cn>=0?pn():ln=setTimeout(pn,-cn),rn=nn};return gn.clear=function(){ln&&(clearTimeout(ln),ln=null)},gn.debounceNextCall=function(mn){hn=mn},gn}function createOrUpdate(Fe,en,tn,nn){var rn=Fe[en];if(rn){var an=rn[ORIGIN_METHOD]||rn,ln=rn[THROTTLE_TYPE],cn=rn[RATE];if(cn!==tn||ln!==nn){if(tn==null||!nn)return Fe[en]=an;rn=Fe[en]=throttle(an,tn,nn==="debounce"),rn[ORIGIN_METHOD]=an,rn[THROTTLE_TYPE]=nn,rn[RATE]=tn}return rn}}function clear$1(Fe,en){var tn=Fe[en];tn&&tn[ORIGIN_METHOD]&&(tn.clear&&tn.clear(),Fe[en]=tn[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(Fe,en){var tn=Fe.visualStyleMapper||defaultStyleMappers[en];return tn||(console.warn("Unknown style type '"+en+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(Fe,en){var tn=Fe.visualDrawType||defaultColorKey[en];return tn||(console.warn("Unknown style type '"+en+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Fe,en){var tn=Fe.getData(),nn=Fe.visualStyleAccessPath||"itemStyle",rn=Fe.getModel(nn),an=getStyleMapper(Fe,nn),ln=an(rn),cn=rn.getShallow("decal");cn&&(tn.setVisual("decal",cn),cn.dirty=!0);var un=getDefaultColorKey(Fe,nn),fn=ln[un],hn=isFunction(fn)?fn:null,pn=ln.fill==="auto"||ln.stroke==="auto";if(!ln[un]||hn||pn){var gn=Fe.getColorFromPalette(Fe.name,null,en.getSeriesCount());ln[un]||(ln[un]=gn,tn.setVisual("colorFromPalette",!0)),ln.fill=ln.fill==="auto"||isFunction(ln.fill)?gn:ln.fill,ln.stroke=ln.stroke==="auto"||isFunction(ln.stroke)?gn:ln.stroke}if(tn.setVisual("style",ln),tn.setVisual("drawType",un),!en.isSeriesFiltered(Fe)&&hn)return tn.setVisual("colorFromPalette",!1),{dataEach:function(mn,_n){var kn=Fe.getDataParams(_n),Cn=extend$1({},ln);Cn[un]=hn(kn),mn.setItemVisual(_n,"style",Cn)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Fe,en){if(!(Fe.ignoreStyleOnData||en.isSeriesFiltered(Fe))){var tn=Fe.getData(),nn=Fe.visualStyleAccessPath||"itemStyle",rn=getStyleMapper(Fe,nn),an=tn.getVisual("drawType");return{dataEach:tn.hasItemOption?function(ln,cn){var un=ln.getRawDataItem(cn);if(un&&un[nn]){sharedModel.option=un[nn];var fn=rn(sharedModel),hn=ln.ensureUniqueItemVisual(cn,"style");extend$1(hn,fn),sharedModel.option.decal&&(ln.setItemVisual(cn,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),an in fn&&ln.setItemVisual(cn,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(Fe){var en=createHashMap();Fe.eachSeries(function(tn){var nn=tn.getColorBy();if(!tn.isColorBySeries()){var rn=tn.type+"-"+nn,an=en.get(rn);an||(an={},en.set(rn,an)),inner$i(tn).scope=an}}),Fe.eachSeries(function(tn){if(!(tn.isColorBySeries()||Fe.isSeriesFiltered(tn))){var nn=tn.getRawData(),rn={},an=tn.getData(),ln=inner$i(tn).scope,cn=tn.visualStyleAccessPath||"itemStyle",un=getDefaultColorKey(tn,cn);an.each(function(fn){var hn=an.getRawIndex(fn);rn[hn]=fn}),nn.each(function(fn){var hn=rn[fn],pn=an.getItemVisual(hn,"colorFromPalette");if(pn){var gn=an.ensureUniqueItemVisual(hn,"style"),mn=nn.getName(fn)||fn+"",_n=nn.count();gn[un]=tn.getColorFromPalette(mn,ln,_n)}})}})}},PI$5=Math.PI;function defaultLoading(Fe,en){en=en||{},defaults(en,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var tn=new Group$4,nn=new Rect$3({style:{fill:en.maskColor},zlevel:en.zlevel,z:1e4});tn.add(nn);var rn=new ZRText$1({style:{text:en.text,fill:en.textColor,fontSize:en.fontSize,fontWeight:en.fontWeight,fontStyle:en.fontStyle,fontFamily:en.fontFamily},zlevel:en.zlevel,z:10001}),an=new Rect$3({style:{fill:"none"},textContent:rn,textConfig:{position:"right",distance:10},zlevel:en.zlevel,z:10001});tn.add(an);var ln;return en.showSpinner&&(ln=new Arc$1({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:en.spinnerRadius},style:{stroke:en.color,lineCap:"round",lineWidth:en.lineWidth},zlevel:en.zlevel,z:10001}),ln.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),ln.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),tn.add(ln)),tn.resize=function(){var cn=rn.getBoundingRect().width,un=en.showSpinner?en.spinnerRadius:0,fn=(Fe.getWidth()-un*2-(en.showSpinner&&cn?10:0)-cn)/2-(en.showSpinner&&cn?0:5+cn/2)+(en.showSpinner?0:cn/2)+(cn?0:un),hn=Fe.getHeight()/2;en.showSpinner&&ln.setShape({cx:fn,cy:hn}),an.setShape({x:fn-un,y:hn-un,width:un*2,height:un*2}),nn.setShape({x:0,y:0,width:Fe.getWidth(),height:Fe.getHeight()})},tn.resize(),tn}var Scheduler=function(){function Fe(en,tn,nn,rn){this._stageTaskMap=createHashMap(),this.ecInstance=en,this.api=tn,nn=this._dataProcessorHandlers=nn.slice(),rn=this._visualHandlers=rn.slice(),this._allHandlers=nn.concat(rn)}return Fe.prototype.restoreData=function(en,tn){en.restoreData(tn),this._stageTaskMap.each(function(nn){var rn=nn.overallTask;rn&&rn.dirty()})},Fe.prototype.getPerformArgs=function(en,tn){if(en.__pipeline){var nn=this._pipelineMap.get(en.__pipeline.id),rn=nn.context,an=!tn&&nn.progressiveEnabled&&(!rn||rn.progressiveRender)&&en.__idxInPipeline>nn.blockIndex,ln=an?nn.step:null,cn=rn&&rn.modDataCount,un=cn!=null?Math.ceil(cn/ln):null;return{step:ln,modBy:un,modDataCount:cn}}},Fe.prototype.getPipeline=function(en){return this._pipelineMap.get(en)},Fe.prototype.updateStreamModes=function(en,tn){var nn=this._pipelineMap.get(en.uid),rn=en.getData(),an=rn.count(),ln=nn.progressiveEnabled&&tn.incrementalPrepareRender&&an>=nn.threshold,cn=en.get("large")&&an>=en.get("largeThreshold"),un=en.get("progressiveChunkMode")==="mod"?an:null;en.pipelineContext=nn.context={progressiveRender:ln,modDataCount:un,large:cn}},Fe.prototype.restorePipelines=function(en){var tn=this,nn=tn._pipelineMap=createHashMap();en.eachSeries(function(rn){var an=rn.getProgressive(),ln=rn.uid;nn.set(ln,{id:ln,head:null,tail:null,threshold:rn.getProgressiveThreshold(),progressiveEnabled:an&&!(rn.preventIncremental&&rn.preventIncremental()),blockIndex:-1,step:Math.round(an||700),count:0}),tn._pipe(rn,rn.dataTask)})},Fe.prototype.prepareStageTasks=function(){var en=this._stageTaskMap,tn=this.api.getModel(),nn=this.api;each$f(this._allHandlers,function(rn){var an=en.get(rn.uid)||en.set(rn.uid,{}),ln="";assert(!(rn.reset&&rn.overallReset),ln),rn.reset&&this._createSeriesStageTask(rn,an,tn,nn),rn.overallReset&&this._createOverallStageTask(rn,an,tn,nn)},this)},Fe.prototype.prepareView=function(en,tn,nn,rn){var an=en.renderTask,ln=an.context;ln.model=tn,ln.ecModel=nn,ln.api=rn,an.__block=!en.incrementalPrepareRender,this._pipe(tn,an)},Fe.prototype.performDataProcessorTasks=function(en,tn){this._performStageTasks(this._dataProcessorHandlers,en,tn,{block:!0})},Fe.prototype.performVisualTasks=function(en,tn,nn){this._performStageTasks(this._visualHandlers,en,tn,nn)},Fe.prototype._performStageTasks=function(en,tn,nn,rn){rn=rn||{};var an=!1,ln=this;each$f(en,function(un,fn){if(!(rn.visualType&&rn.visualType!==un.visualType)){var hn=ln._stageTaskMap.get(un.uid),pn=hn.seriesTaskMap,gn=hn.overallTask;if(gn){var mn,_n=gn.agentStubMap;_n.each(function(Cn){cn(rn,Cn)&&(Cn.dirty(),mn=!0)}),mn&&gn.dirty(),ln.updatePayload(gn,nn);var kn=ln.getPerformArgs(gn,rn.block);_n.each(function(Cn){Cn.perform(kn)}),gn.perform(kn)&&(an=!0)}else pn&&pn.each(function(Cn,xn){cn(rn,Cn)&&Cn.dirty();var Sn=ln.getPerformArgs(Cn,rn.block);Sn.skip=!un.performRawSeries&&tn.isSeriesFiltered(Cn.context.model),ln.updatePayload(Cn,nn),Cn.perform(Sn)&&(an=!0)})}});function cn(un,fn){return un.setDirty&&(!un.dirtyMap||un.dirtyMap.get(fn.__pipeline.id))}this.unfinished=an||this.unfinished},Fe.prototype.performSeriesTasks=function(en){var tn;en.eachSeries(function(nn){tn=nn.dataTask.perform()||tn}),this.unfinished=tn||this.unfinished},Fe.prototype.plan=function(){this._pipelineMap.each(function(en){var tn=en.tail;do{if(tn.__block){en.blockIndex=tn.__idxInPipeline;break}tn=tn.getUpstream()}while(tn)})},Fe.prototype.updatePayload=function(en,tn){tn!=="remain"&&(en.context.payload=tn)},Fe.prototype._createSeriesStageTask=function(en,tn,nn,rn){var an=this,ln=tn.seriesTaskMap,cn=tn.seriesTaskMap=createHashMap(),un=en.seriesType,fn=en.getTargetSeries;en.createOnAllSeries?nn.eachRawSeries(hn):un?nn.eachRawSeriesByType(un,hn):fn&&fn(nn,rn).each(hn);function hn(pn){var gn=pn.uid,mn=cn.set(gn,ln&&ln.get(gn)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));mn.context={model:pn,ecModel:nn,api:rn,useClearVisual:en.isVisual&&!en.isLayout,plan:en.plan,reset:en.reset,scheduler:an},an._pipe(pn,mn)}},Fe.prototype._createOverallStageTask=function(en,tn,nn,rn){var an=this,ln=tn.overallTask=tn.overallTask||createTask({reset:overallTaskReset});ln.context={ecModel:nn,api:rn,overallReset:en.overallReset,scheduler:an};var cn=ln.agentStubMap,un=ln.agentStubMap=createHashMap(),fn=en.seriesType,hn=en.getTargetSeries,pn=!0,gn=!1,mn="";assert(!en.createOnAllSeries,mn),fn?nn.eachRawSeriesByType(fn,_n):hn?hn(nn,rn).each(_n):(pn=!1,each$f(nn.getSeries(),_n));function _n(kn){var Cn=kn.uid,xn=un.set(Cn,cn&&cn.get(Cn)||(gn=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));xn.context={model:kn,overallProgress:pn},xn.agent=ln,xn.__block=pn,an._pipe(kn,xn)}gn&&ln.dirty()},Fe.prototype._pipe=function(en,tn){var nn=en.uid,rn=this._pipelineMap.get(nn);!rn.head&&(rn.head=tn),rn.tail&&rn.tail.pipe(tn),rn.tail=tn,tn.__idxInPipeline=rn.count++,tn.__pipeline=rn},Fe.wrapStageHandler=function(en,tn){return isFunction(en)&&(en={overallReset:en,seriesType:detectSeriseType(en)}),en.uid=getUID("stageHandler"),tn&&(en.visualType=tn),en},Fe}();function overallTaskReset(Fe){Fe.overallReset(Fe.ecModel,Fe.api,Fe.payload)}function stubReset(Fe){return Fe.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(Fe){return Fe.plan?Fe.plan(Fe.model,Fe.ecModel,Fe.api,Fe.payload):null}function seriesTaskReset(Fe){Fe.useClearVisual&&Fe.data.clearAllVisual();var en=Fe.resetDefines=normalizeToArray(Fe.reset(Fe.model,Fe.ecModel,Fe.api,Fe.payload));return en.length>1?map$1(en,function(tn,nn){return makeSeriesTaskProgress(nn)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(Fe){return function(en,tn){var nn=tn.data,rn=tn.resetDefines[Fe];if(rn&&rn.dataEach)for(var an=en.start;an<en.end;an++)rn.dataEach(nn,an);else rn&&rn.progress&&rn.progress(en,nn)}}function seriesTaskCount(Fe){return Fe.data.count()}function detectSeriseType(Fe){seriesType=null;try{Fe(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1);mockMethods(apiMock,ExtensionAPI$1);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(Fe){seriesType=Fe};ecModelMock.eachComponent=function(Fe){Fe.mainType==="series"&&Fe.subType&&(seriesType=Fe.subType)};function mockMethods(Fe,en){for(var tn in en.prototype)Fe[tn]=noop}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function Fe(){}return Fe.prototype.normalizeQuery=function(en){var tn={},nn={},rn={};if(isString(en)){var an=parseClassType(en);tn.mainType=an.main||null,tn.subType=an.sub||null}else{var ln=["Index","Name","Id"],cn={name:1,dataIndex:1,dataType:1};each$f(en,function(un,fn){for(var hn=!1,pn=0;pn<ln.length;pn++){var gn=ln[pn],mn=fn.lastIndexOf(gn);if(mn>0&&mn===fn.length-gn.length){var _n=fn.slice(0,mn);_n!=="data"&&(tn.mainType=_n,tn[gn.toLowerCase()]=un,hn=!0)}}cn.hasOwnProperty(fn)&&(nn[fn]=un,hn=!0),hn||(rn[fn]=un)})}return{cptQuery:tn,dataQuery:nn,otherQuery:rn}},Fe.prototype.filter=function(en,tn){var nn=this.eventInfo;if(!nn)return!0;var rn=nn.targetEl,an=nn.packedEvent,ln=nn.model,cn=nn.view;if(!ln||!cn)return!0;var un=tn.cptQuery,fn=tn.dataQuery;return hn(un,ln,"mainType")&&hn(un,ln,"subType")&&hn(un,ln,"index","componentIndex")&&hn(un,ln,"name")&&hn(un,ln,"id")&&hn(fn,an,"name")&&hn(fn,an,"dataIndex")&&hn(fn,an,"dataType")&&(!cn.filterForExposedEvent||cn.filterForExposedEvent(en,tn.otherQuery,rn,an));function hn(pn,gn,mn,_n){return pn[mn]==null||gn[_n||mn]===pn[mn]}},Fe.prototype.afterTrigger=function(){this.eventInfo=null},Fe}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Fe,en){var tn=Fe.getData();if(Fe.legendIcon&&tn.setVisual("legendIcon",Fe.legendIcon),!Fe.hasSymbolVisual)return;for(var nn={},rn={},an=!1,ln=0;ln<SYMBOL_PROPS_WITH_CB.length;ln++){var cn=SYMBOL_PROPS_WITH_CB[ln],un=Fe.get(cn);isFunction(un)?(an=!0,rn[cn]=un):nn[cn]=un}if(nn.symbol=nn.symbol||Fe.defaultSymbol,tn.setVisual(extend$1({legendIcon:Fe.legendIcon||nn.symbol,symbolKeepAspect:Fe.get("symbolKeepAspect")},nn)),en.isSeriesFiltered(Fe))return;var fn=keys(rn);function hn(pn,gn){for(var mn=Fe.getRawValue(gn),_n=Fe.getDataParams(gn),kn=0;kn<fn.length;kn++){var Cn=fn[kn];pn.setItemVisual(gn,Cn,rn[Cn](mn,_n))}}return{dataEach:an?hn:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Fe,en){if(!Fe.hasSymbolVisual||en.isSeriesFiltered(Fe))return;var tn=Fe.getData();function nn(rn,an){for(var ln=rn.getItemModel(an),cn=0;cn<SYMBOL_PROPS.length;cn++){var un=SYMBOL_PROPS[cn],fn=ln.getShallow(un,!0);fn!=null&&rn.setItemVisual(an,un,fn)}}return{dataEach:tn.hasItemOption?nn:null}}};function getItemVisualFromData(Fe,en,tn){switch(tn){case"color":var nn=Fe.getItemVisual(en,"style");return nn[Fe.getVisual("drawType")];case"opacity":return Fe.getItemVisual(en,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return Fe.getItemVisual(en,tn)}}function getVisualFromData(Fe,en){switch(en){case"color":var tn=Fe.getVisual("style");return tn[Fe.getVisual("drawType")];case"opacity":return Fe.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return Fe.getVisual(en)}}function setItemVisualFromData(Fe,en,tn,nn){switch(tn){case"color":var rn=Fe.ensureUniqueItemVisual(en,"style");rn[Fe.getVisual("drawType")]=nn,Fe.setItemVisual(en,"colorFromPalette",!1);break;case"opacity":Fe.ensureUniqueItemVisual(en,"style").opacity=nn;break;case"symbol":case"symbolSize":case"liftZ":Fe.setItemVisual(en,tn,nn);break}}function createLegacyDataSelectAction(Fe,en){function tn(nn,rn){var an=[];return nn.eachComponent({mainType:"series",subType:Fe,query:rn},function(ln){an.push(ln.seriesIndex)}),an}each$f([[Fe+"ToggleSelect","toggleSelect"],[Fe+"Select","select"],[Fe+"UnSelect","unselect"]],function(nn){en(nn[0],function(rn,an,ln){rn=extend$1({},rn),ln.dispatchAction(extend$1(rn,{type:nn[1],seriesIndex:tn(an,rn)}))})})}function handleSeriesLegacySelectEvents(Fe,en,tn,nn,rn){var an=Fe+en;tn.isSilent(an)||nn.eachComponent({mainType:"series",subType:"pie"},function(ln){for(var cn=ln.seriesIndex,un=ln.option.selectedMap,fn=rn.selected,hn=0;hn<fn.length;hn++)if(fn[hn].seriesIndex===cn){var pn=ln.getData(),gn=queryDataIndex(pn,rn.fromActionPayload);tn.trigger(an,{type:an,seriesId:ln.id,name:isArray$1(gn)?pn.getName(gn[0]):pn.getName(gn),selected:isString(un)?un:extend$1({},un)})}})}function handleLegacySelectEvents(Fe,en,tn){Fe.on("selectchanged",function(nn){var rn=tn.getModel();nn.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",en,rn,nn),handleSeriesLegacySelectEvents("pie","selectchanged",en,rn,nn)):nn.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",en,rn,nn),handleSeriesLegacySelectEvents("pie","selected",en,rn,nn)):nn.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",en,rn,nn),handleSeriesLegacySelectEvents("pie","unselected",en,rn,nn))})}function findEventDispatcher(Fe,en,tn){for(var nn;Fe&&!(en(Fe)&&(nn=Fe,tn));)Fe=Fe.__hostTarget||Fe.parent;return nn}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function Fe(){this._id="__ec_inner_"+wmUniqueIndex++}return Fe.prototype.get=function(en){return this._guard(en)[this._id]},Fe.prototype.set=function(en,tn){var nn=this._guard(en);return supportDefineProperty?Object.defineProperty(nn,this._id,{value:tn,enumerable:!1,configurable:!0}):nn[this._id]=tn,this},Fe.prototype.delete=function(en){return this.has(en)?(delete this._guard(en)[this._id],!0):!1},Fe.prototype.has=function(en){return!!this._guard(en)[this._id]},Fe.prototype._guard=function(en){if(en!==Object(en))throw TypeError("Value of WeakMap is not a non-null object.");return en},Fe}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Fe,en){var tn=en.cx,nn=en.cy,rn=en.width/2,an=en.height/2;Fe.moveTo(tn,nn-an),Fe.lineTo(tn+rn,nn+an),Fe.lineTo(tn-rn,nn+an),Fe.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Fe,en){var tn=en.cx,nn=en.cy,rn=en.width/2,an=en.height/2;Fe.moveTo(tn,nn-an),Fe.lineTo(tn+rn,nn),Fe.lineTo(tn,nn+an),Fe.lineTo(tn-rn,nn),Fe.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(Fe,en){var tn=en.x,nn=en.y,rn=en.width/5*3,an=Math.max(rn,en.height),ln=rn/2,cn=ln*ln/(an-ln),un=nn-an+ln+cn,fn=Math.asin(cn/ln),hn=Math.cos(fn)*ln,pn=Math.sin(fn),gn=Math.cos(fn),mn=ln*.6,_n=ln*.7;Fe.moveTo(tn-hn,un+cn),Fe.arc(tn,un,ln,Math.PI-fn,Math.PI*2+fn),Fe.bezierCurveTo(tn+hn-pn*mn,un+cn+gn*mn,tn,nn-_n,tn,nn),Fe.bezierCurveTo(tn,nn-_n,tn-hn+pn*mn,un+cn+gn*mn,tn-hn,un+cn),Fe.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(Fe,en){var tn=en.height,nn=en.width,rn=en.x,an=en.y,ln=nn/3*2;Fe.moveTo(rn,an),Fe.lineTo(rn+ln,an+tn),Fe.lineTo(rn,an+tn/4*3),Fe.lineTo(rn-ln,an+tn),Fe.lineTo(rn,an),Fe.closePath()}}),symbolCtors={line:Line$3,rect:Rect$3,roundRect:Rect$3,square:Rect$3,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(Fe,en,tn,nn,rn){rn.x1=Fe,rn.y1=en+nn/2,rn.x2=Fe+tn,rn.y2=en+nn/2},rect:function(Fe,en,tn,nn,rn){rn.x=Fe,rn.y=en,rn.width=tn,rn.height=nn},roundRect:function(Fe,en,tn,nn,rn){rn.x=Fe,rn.y=en,rn.width=tn,rn.height=nn,rn.r=Math.min(tn,nn)/4},square:function(Fe,en,tn,nn,rn){var an=Math.min(tn,nn);rn.x=Fe,rn.y=en,rn.width=an,rn.height=an},circle:function(Fe,en,tn,nn,rn){rn.cx=Fe+tn/2,rn.cy=en+nn/2,rn.r=Math.min(tn,nn)/2},diamond:function(Fe,en,tn,nn,rn){rn.cx=Fe+tn/2,rn.cy=en+nn/2,rn.width=tn,rn.height=nn},pin:function(Fe,en,tn,nn,rn){rn.x=Fe+tn/2,rn.y=en+nn/2,rn.width=tn,rn.height=nn},arrow:function(Fe,en,tn,nn,rn){rn.x=Fe+tn/2,rn.y=en+nn/2,rn.width=tn,rn.height=nn},triangle:function(Fe,en,tn,nn,rn){rn.cx=Fe+tn/2,rn.cy=en+nn/2,rn.width=tn,rn.height=nn}},symbolBuildProxies={};each$f(symbolCtors,function(Fe,en){symbolBuildProxies[en]=new Fe});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(Fe,en,tn){var nn=calculateTextPosition(Fe,en,tn),rn=this.shape;return rn&&rn.symbolType==="pin"&&en.position==="inside"&&(nn.y=tn.y+tn.height*.4),nn},buildPath:function(Fe,en,tn){var nn=en.symbolType;if(nn!=="none"){var rn=symbolBuildProxies[nn];rn||(nn="rect",rn=symbolBuildProxies[nn]),symbolShapeMakers[nn](en.x,en.y,en.width,en.height,rn.shape),rn.buildPath(Fe,rn.shape,tn)}}});function symbolPathSetColor(Fe,en){if(this.type!=="image"){var tn=this.style;this.__isEmptyBrush?(tn.stroke=Fe,tn.fill=en||"#fff",tn.lineWidth=2):this.shape.symbolType==="line"?tn.stroke=Fe:tn.fill=Fe,this.markRedraw()}}function createSymbol$1(Fe,en,tn,nn,rn,an,ln){var cn=Fe.indexOf("empty")===0;cn&&(Fe=Fe.substr(5,1).toLowerCase()+Fe.substr(6));var un;return Fe.indexOf("image://")===0?un=makeImage(Fe.slice(8),new BoundingRect$1(en,tn,nn,rn),ln?"center":"cover"):Fe.indexOf("path://")===0?un=makePath(Fe.slice(7),{},new BoundingRect$1(en,tn,nn,rn),ln?"center":"cover"):un=new SymbolClz$1({shape:{symbolType:Fe,x:en,y:tn,width:nn,height:rn}}),un.__isEmptyBrush=cn,un.setColor=symbolPathSetColor,an&&un.setColor(an),un}function normalizeSymbolSize(Fe){return isArray$1(Fe)||(Fe=[+Fe,+Fe]),[Fe[0]||0,Fe[1]||0]}function normalizeSymbolOffset(Fe,en){if(Fe!=null)return isArray$1(Fe)||(Fe=[Fe,Fe]),[parsePercent(Fe[0],en[0])||0,parsePercent(retrieve2(Fe[1],Fe[0]),en[1])||0]}function isSafeNum(Fe){return isFinite(Fe)}function createLinearGradient(Fe,en,tn){var nn=en.x==null?0:en.x,rn=en.x2==null?1:en.x2,an=en.y==null?0:en.y,ln=en.y2==null?0:en.y2;en.global||(nn=nn*tn.width+tn.x,rn=rn*tn.width+tn.x,an=an*tn.height+tn.y,ln=ln*tn.height+tn.y),nn=isSafeNum(nn)?nn:0,rn=isSafeNum(rn)?rn:1,an=isSafeNum(an)?an:0,ln=isSafeNum(ln)?ln:0;var cn=Fe.createLinearGradient(nn,an,rn,ln);return cn}function createRadialGradient(Fe,en,tn){var nn=tn.width,rn=tn.height,an=Math.min(nn,rn),ln=en.x==null?.5:en.x,cn=en.y==null?.5:en.y,un=en.r==null?.5:en.r;en.global||(ln=ln*nn+tn.x,cn=cn*rn+tn.y,un=un*an),ln=isSafeNum(ln)?ln:.5,cn=isSafeNum(cn)?cn:.5,un=un>=0&&isSafeNum(un)?un:.5;var fn=Fe.createRadialGradient(ln,cn,0,ln,cn,un);return fn}function getCanvasGradient(Fe,en,tn){for(var nn=en.type==="radial"?createRadialGradient(Fe,en,tn):createLinearGradient(Fe,en,tn),rn=en.colorStops,an=0;an<rn.length;an++)nn.addColorStop(rn[an].offset,rn[an].color);return nn}function isClipPathChanged(Fe,en){if(Fe===en||!Fe&&!en)return!1;if(!Fe||!en||Fe.length!==en.length)return!0;for(var tn=0;tn<Fe.length;tn++)if(Fe[tn]!==en[tn])return!0;return!1}function parseInt10(Fe){return parseInt(Fe,10)}function getSize$1(Fe,en,tn){var nn=["width","height"][en],rn=["clientWidth","clientHeight"][en],an=["paddingLeft","paddingTop"][en],ln=["paddingRight","paddingBottom"][en];if(tn[nn]!=null&&tn[nn]!=="auto")return parseFloat(tn[nn]);var cn=document.defaultView.getComputedStyle(Fe);return(Fe[rn]||parseInt10(cn[nn])||parseInt10(Fe.style[nn]))-(parseInt10(cn[an])||0)-(parseInt10(cn[ln])||0)|0}function normalizeLineDash(Fe,en){return!Fe||Fe==="solid"||!(en>0)?null:Fe==="dashed"?[4*en,2*en]:Fe==="dotted"?[en]:isNumber(Fe)?[Fe]:isArray$1(Fe)?Fe:null}function getLineDash(Fe){var en=Fe.style,tn=en.lineDash&&en.lineWidth>0&&normalizeLineDash(en.lineDash,en.lineWidth),nn=en.lineDashOffset;if(tn){var rn=en.strokeNoScale&&Fe.getLineScale?Fe.getLineScale():1;rn&&rn!==1&&(tn=map$1(tn,function(an){return an/rn}),nn/=rn)}return[tn,nn]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(Fe){var en=Fe.stroke;return!(en==null||en==="none"||!(Fe.lineWidth>0))}function isValidStrokeFillStyle(Fe){return typeof Fe=="string"&&Fe!=="none"}function styleHasFill(Fe){var en=Fe.fill;return en!=null&&en!=="none"}function doFillPath(Fe,en){if(en.fillOpacity!=null&&en.fillOpacity!==1){var tn=Fe.globalAlpha;Fe.globalAlpha=en.fillOpacity*en.opacity,Fe.fill(),Fe.globalAlpha=tn}else Fe.fill()}function doStrokePath(Fe,en){if(en.strokeOpacity!=null&&en.strokeOpacity!==1){var tn=Fe.globalAlpha;Fe.globalAlpha=en.strokeOpacity*en.opacity,Fe.stroke(),Fe.globalAlpha=tn}else Fe.stroke()}function createCanvasPattern(Fe,en,tn){var nn=createOrUpdateImage(en.image,en.__image,tn);if(isImageReady(nn)){var rn=Fe.createPattern(nn,en.repeat||"repeat");if(typeof DOMMatrix=="function"&&rn&&rn.setTransform){var an=new DOMMatrix;an.translateSelf(en.x||0,en.y||0),an.rotateSelf(0,0,(en.rotation||0)*RADIAN_TO_DEGREE),an.scaleSelf(en.scaleX||1,en.scaleY||1),rn.setTransform(an)}return rn}}function brushPath(Fe,en,tn,nn){var rn,an=styleHasStroke(tn),ln=styleHasFill(tn),cn=tn.strokePercent,un=cn<1,fn=!en.path;(!en.silent||un)&&fn&&en.createPathProxy();var hn=en.path||pathProxyForDraw,pn=en.__dirty;if(!nn){var gn=tn.fill,mn=tn.stroke,_n=ln&&!!gn.colorStops,kn=an&&!!mn.colorStops,Cn=ln&&!!gn.image,xn=an&&!!mn.image,Sn=void 0,Mn=void 0,In=void 0,On=void 0,Pn=void 0;(_n||kn)&&(Pn=en.getBoundingRect()),_n&&(Sn=pn?getCanvasGradient(Fe,gn,Pn):en.__canvasFillGradient,en.__canvasFillGradient=Sn),kn&&(Mn=pn?getCanvasGradient(Fe,mn,Pn):en.__canvasStrokeGradient,en.__canvasStrokeGradient=Mn),Cn&&(In=pn||!en.__canvasFillPattern?createCanvasPattern(Fe,gn,en):en.__canvasFillPattern,en.__canvasFillPattern=In),xn&&(On=pn||!en.__canvasStrokePattern?createCanvasPattern(Fe,mn,en):en.__canvasStrokePattern,en.__canvasStrokePattern=In),_n?Fe.fillStyle=Sn:Cn&&(In?Fe.fillStyle=In:ln=!1),kn?Fe.strokeStyle=Mn:xn&&(On?Fe.strokeStyle=On:an=!1)}var Tn=en.getGlobalScale();hn.setScale(Tn[0],Tn[1],en.segmentIgnoreThreshold);var Nn,Hn;Fe.setLineDash&&tn.lineDash&&(rn=getLineDash(en),Nn=rn[0],Hn=rn[1]);var Un=!0;(fn||pn&SHAPE_CHANGED_BIT)&&(hn.setDPR(Fe.dpr),un?hn.setContext(null):(hn.setContext(Fe),Un=!1),hn.reset(),en.buildPath(hn,en.shape,nn),hn.toStatic(),en.pathUpdated()),Un&&hn.rebuildPath(Fe,un?cn:1),Nn&&(Fe.setLineDash(Nn),Fe.lineDashOffset=Hn),nn||(tn.strokeFirst?(an&&doStrokePath(Fe,tn),ln&&doFillPath(Fe,tn)):(ln&&doFillPath(Fe,tn),an&&doStrokePath(Fe,tn))),Nn&&Fe.setLineDash([])}function brushImage(Fe,en,tn){var nn=en.__image=createOrUpdateImage(tn.image,en.__image,en,en.onload);if(!(!nn||!isImageReady(nn))){var rn=tn.x||0,an=tn.y||0,ln=en.getWidth(),cn=en.getHeight(),un=nn.width/nn.height;if(ln==null&&cn!=null?ln=cn*un:cn==null&&ln!=null?cn=ln/un:ln==null&&cn==null&&(ln=nn.width,cn=nn.height),tn.sWidth&&tn.sHeight){var fn=tn.sx||0,hn=tn.sy||0;Fe.drawImage(nn,fn,hn,tn.sWidth,tn.sHeight,rn,an,ln,cn)}else if(tn.sx&&tn.sy){var fn=tn.sx,hn=tn.sy,pn=ln-fn,gn=cn-hn;Fe.drawImage(nn,fn,hn,pn,gn,rn,an,ln,cn)}else Fe.drawImage(nn,rn,an,ln,cn)}}function brushText(Fe,en,tn){var nn,rn=tn.text;if(rn!=null&&(rn+=""),rn){Fe.font=tn.font||DEFAULT_FONT,Fe.textAlign=tn.textAlign,Fe.textBaseline=tn.textBaseline;var an=void 0,ln=void 0;Fe.setLineDash&&tn.lineDash&&(nn=getLineDash(en),an=nn[0],ln=nn[1]),an&&(Fe.setLineDash(an),Fe.lineDashOffset=ln),tn.strokeFirst?(styleHasStroke(tn)&&Fe.strokeText(rn,tn.x,tn.y),styleHasFill(tn)&&Fe.fillText(rn,tn.x,tn.y)):(styleHasFill(tn)&&Fe.fillText(rn,tn.x,tn.y),styleHasStroke(tn)&&Fe.strokeText(rn,tn.x,tn.y)),an&&Fe.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(Fe,en,tn,nn,rn){var an=!1;if(!nn&&(tn=tn||{},en===tn))return!1;if(nn||en.opacity!==tn.opacity){flushPathDrawn(Fe,rn),an=!0;var ln=Math.max(Math.min(en.opacity,1),0);Fe.globalAlpha=isNaN(ln)?DEFAULT_COMMON_STYLE.opacity:ln}(nn||en.blend!==tn.blend)&&(an||(flushPathDrawn(Fe,rn),an=!0),Fe.globalCompositeOperation=en.blend||DEFAULT_COMMON_STYLE.blend);for(var cn=0;cn<SHADOW_NUMBER_PROPS.length;cn++){var un=SHADOW_NUMBER_PROPS[cn];(nn||en[un]!==tn[un])&&(an||(flushPathDrawn(Fe,rn),an=!0),Fe[un]=Fe.dpr*(en[un]||0))}return(nn||en.shadowColor!==tn.shadowColor)&&(an||(flushPathDrawn(Fe,rn),an=!0),Fe.shadowColor=en.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),an}function bindPathAndTextCommonStyle(Fe,en,tn,nn,rn){var an=getStyle(en,rn.inHover),ln=nn?null:tn&&getStyle(tn,rn.inHover)||{};if(an===ln)return!1;var cn=bindCommonProps(Fe,an,ln,nn,rn);if((nn||an.fill!==ln.fill)&&(cn||(flushPathDrawn(Fe,rn),cn=!0),isValidStrokeFillStyle(an.fill)&&(Fe.fillStyle=an.fill)),(nn||an.stroke!==ln.stroke)&&(cn||(flushPathDrawn(Fe,rn),cn=!0),isValidStrokeFillStyle(an.stroke)&&(Fe.strokeStyle=an.stroke)),(nn||an.opacity!==ln.opacity)&&(cn||(flushPathDrawn(Fe,rn),cn=!0),Fe.globalAlpha=an.opacity==null?1:an.opacity),en.hasStroke()){var un=an.lineWidth,fn=un/(an.strokeNoScale&&en.getLineScale?en.getLineScale():1);Fe.lineWidth!==fn&&(cn||(flushPathDrawn(Fe,rn),cn=!0),Fe.lineWidth=fn)}for(var hn=0;hn<STROKE_PROPS.length;hn++){var pn=STROKE_PROPS[hn],gn=pn[0];(nn||an[gn]!==ln[gn])&&(cn||(flushPathDrawn(Fe,rn),cn=!0),Fe[gn]=an[gn]||pn[1])}return cn}function bindImageStyle(Fe,en,tn,nn,rn){return bindCommonProps(Fe,getStyle(en,rn.inHover),tn&&getStyle(tn,rn.inHover),nn,rn)}function setContextTransform(Fe,en){var tn=en.transform,nn=Fe.dpr||1;tn?Fe.setTransform(nn*tn[0],nn*tn[1],nn*tn[2],nn*tn[3],nn*tn[4],nn*tn[5]):Fe.setTransform(nn,0,0,nn,0,0)}function updateClipStatus(Fe,en,tn){for(var nn=!1,rn=0;rn<Fe.length;rn++){var an=Fe[rn];nn=nn||an.isZeroArea(),setContextTransform(en,an),en.beginPath(),an.buildPath(en,an.shape),en.clip()}tn.allClipped=nn}function isTransformChanged(Fe,en){return Fe&&en?Fe[0]!==en[0]||Fe[1]!==en[1]||Fe[2]!==en[2]||Fe[3]!==en[3]||Fe[4]!==en[4]||Fe[5]!==en[5]:!(!Fe&&!en)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(Fe){var en=styleHasFill(Fe),tn=styleHasStroke(Fe);return!(Fe.lineDash||!(+en^+tn)||en&&typeof Fe.fill!="string"||tn&&typeof Fe.stroke!="string"||Fe.strokePercent<1||Fe.strokeOpacity<1||Fe.fillOpacity<1)}function flushPathDrawn(Fe,en){en.batchFill&&Fe.fill(),en.batchStroke&&Fe.stroke(),en.batchFill="",en.batchStroke=""}function getStyle(Fe,en){return en&&Fe.__hoverStyle||Fe.style}function brushSingle(Fe,en){brush$1(Fe,en,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(Fe,en,tn,nn){var rn=en.transform;if(!en.shouldBePainted(tn.viewWidth,tn.viewHeight,!1,!1)){en.__dirty&=~REDRAW_BIT,en.__isRendered=!1;return}var an=en.__clipPaths,ln=tn.prevElClipPaths,cn=!1,un=!1;if((!ln||isClipPathChanged(an,ln))&&(ln&&ln.length&&(flushPathDrawn(Fe,tn),Fe.restore(),un=cn=!0,tn.prevElClipPaths=null,tn.allClipped=!1,tn.prevEl=null),an&&an.length&&(flushPathDrawn(Fe,tn),Fe.save(),updateClipStatus(an,Fe,tn),cn=!0),tn.prevElClipPaths=an),tn.allClipped){en.__isRendered=!1;return}en.beforeBrush&&en.beforeBrush(),en.innerBeforeBrush();var fn=tn.prevEl;fn||(un=cn=!0);var hn=en instanceof Path$1&&en.autoBatch&&canPathBatch(en.style);cn||isTransformChanged(rn,fn.transform)?(flushPathDrawn(Fe,tn),setContextTransform(Fe,en)):hn||flushPathDrawn(Fe,tn);var pn=getStyle(en,tn.inHover);en instanceof Path$1?(tn.lastDrawType!==DRAW_TYPE_PATH&&(un=!0,tn.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(Fe,en,fn,un,tn),(!hn||!tn.batchFill&&!tn.batchStroke)&&Fe.beginPath(),brushPath(Fe,en,pn,hn),hn&&(tn.batchFill=pn.fill||"",tn.batchStroke=pn.stroke||"")):en instanceof TSpan$1?(tn.lastDrawType!==DRAW_TYPE_TEXT&&(un=!0,tn.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(Fe,en,fn,un,tn),brushText(Fe,en,pn)):en instanceof ZRImage$1?(tn.lastDrawType!==DRAW_TYPE_IMAGE&&(un=!0,tn.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(Fe,en,fn,un,tn),brushImage(Fe,en,pn)):en.getTemporalDisplayables&&(tn.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(un=!0,tn.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(Fe,en,tn)),hn&&nn&&flushPathDrawn(Fe,tn),en.innerAfterBrush(),en.afterBrush&&en.afterBrush(),tn.prevEl=en,en.__dirty=0,en.__isRendered=!0}function brushIncremental(Fe,en,tn){var nn=en.getDisplayables(),rn=en.getTemporalDisplayables();Fe.save();var an={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:tn.viewWidth,viewHeight:tn.viewHeight,inHover:tn.inHover},ln,cn;for(ln=en.getCursor(),cn=nn.length;ln<cn;ln++){var un=nn[ln];un.beforeBrush&&un.beforeBrush(),un.innerBeforeBrush(),brush$1(Fe,un,an,ln===cn-1),un.innerAfterBrush(),un.afterBrush&&un.afterBrush(),an.prevEl=un}for(var fn=0,hn=rn.length;fn<hn;fn++){var un=rn[fn];un.beforeBrush&&un.beforeBrush(),un.innerBeforeBrush(),brush$1(Fe,un,an,fn===hn-1),un.innerAfterBrush(),un.afterBrush&&un.afterBrush(),an.prevEl=un}en.clearTemporalDisplayables(),en.notClear=!0,Fe.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(Fe,en){if(Fe==="none")return null;var tn=en.getDevicePixelRatio(),nn=en.getZr(),rn=nn.painter.type==="svg";Fe.dirty&&decalMap.delete(Fe);var an=decalMap.get(Fe);if(an)return an;var ln=defaults(Fe,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});ln.backgroundColor==="none"&&(ln.backgroundColor=null);var cn={repeat:"repeat"};return un(cn),cn.rotation=ln.rotation,cn.scaleX=cn.scaleY=rn?1:1/tn,decalMap.set(Fe,cn),Fe.dirty=!1,cn;function un(fn){for(var hn=[tn],pn=!0,gn=0;gn<decalKeys.length;++gn){var mn=ln[decalKeys[gn]];if(mn!=null&&!isArray$1(mn)&&!isString(mn)&&!isNumber(mn)&&typeof mn!="boolean"){pn=!1;break}hn.push(mn)}var _n;if(pn){_n=hn.join(",")+(rn?"-svg":"");var kn=decalCache.get(_n);kn&&(rn?fn.svgElement=kn:fn.image=kn)}var Cn=normalizeDashArrayX(ln.dashArrayX),xn=normalizeDashArrayY(ln.dashArrayY),Sn=normalizeSymbolArray(ln.symbol),Mn=getLineBlockLengthX(Cn),In=getLineBlockLengthY(xn),On=!rn&&platformApi.createCanvas(),Pn=rn&&{tag:"g",attrs:{},key:"dcl",children:[]},Tn=Hn(),Nn;On&&(On.width=Tn.width*tn,On.height=Tn.height*tn,Nn=On.getContext("2d")),Un(),pn&&decalCache.put(_n,On||Pn),fn.image=On,fn.svgElement=Pn,fn.svgWidth=Tn.width,fn.svgHeight=Tn.height;function Hn(){for(var jn=1,Yn=0,Wn=Mn.length;Yn<Wn;++Yn)jn=getLeastCommonMultiple(jn,Mn[Yn]);for(var Qn=1,Yn=0,Wn=Sn.length;Yn<Wn;++Yn)Qn=getLeastCommonMultiple(Qn,Sn[Yn].length);jn*=Qn;var Xn=In*Mn.length*Sn.length;return{width:Math.max(1,Math.min(jn,ln.maxTileWidth)),height:Math.max(1,Math.min(Xn,ln.maxTileHeight))}}function Un(){Nn&&(Nn.clearRect(0,0,On.width,On.height),ln.backgroundColor&&(Nn.fillStyle=ln.backgroundColor,Nn.fillRect(0,0,On.width,On.height)));for(var jn=0,Yn=0;Yn<xn.length;++Yn)jn+=xn[Yn];if(jn<=0)return;for(var Wn=-In,Qn=0,Xn=0,jr=0;Wn<Tn.height;){if(Qn%2===0){for(var Wr=Xn/2%Sn.length,Jr=0,ci=0,ti=0;Jr<Tn.width*2;){for(var Zr=0,Yn=0;Yn<Cn[jr].length;++Yn)Zr+=Cn[jr][Yn];if(Zr<=0)break;if(ci%2===0){var Br=(1-ln.symbolSize)*.5,Jn=Jr+Cn[jr][ci]*Br,oi=Wn+xn[Qn]*Br,pi=Cn[jr][ci]*ln.symbolSize,ri=xn[Qn]*ln.symbolSize,fi=ti/2%Sn[Wr].length;yi(Jn,oi,pi,ri,Sn[Wr][fi])}Jr+=Cn[jr][ci],++ti,++ci,ci===Cn[jr].length&&(ci=0)}++jr,jr===Cn.length&&(jr=0)}Wn+=xn[Qn],++Xn,++Qn,Qn===xn.length&&(Qn=0)}function yi(Si,Pi,Ui,ji,go){var po=rn?1:tn,Yi=createSymbol$1(go,Si*po,Pi*po,Ui*po,ji*po,ln.color,ln.symbolKeepAspect);if(rn){var Fo=nn.painter.renderOneToVNode(Yi);Fo&&Pn.children.push(Fo)}else brushSingle(Nn,Yi)}}}}function normalizeSymbolArray(Fe){if(!Fe||Fe.length===0)return[["rect"]];if(isString(Fe))return[[Fe]];for(var en=!0,tn=0;tn<Fe.length;++tn)if(!isString(Fe[tn])){en=!1;break}if(en)return normalizeSymbolArray([Fe]);for(var nn=[],tn=0;tn<Fe.length;++tn)isString(Fe[tn])?nn.push([Fe[tn]]):nn.push(Fe[tn]);return nn}function normalizeDashArrayX(Fe){if(!Fe||Fe.length===0)return[[0,0]];if(isNumber(Fe)){var en=Math.ceil(Fe);return[[en,en]]}for(var tn=!0,nn=0;nn<Fe.length;++nn)if(!isNumber(Fe[nn])){tn=!1;break}if(tn)return normalizeDashArrayX([Fe]);for(var rn=[],nn=0;nn<Fe.length;++nn)if(isNumber(Fe[nn])){var en=Math.ceil(Fe[nn]);rn.push([en,en])}else{var en=map$1(Fe[nn],function(cn){return Math.ceil(cn)});en.length%2===1?rn.push(en.concat(en)):rn.push(en)}return rn}function normalizeDashArrayY(Fe){if(!Fe||typeof Fe=="object"&&Fe.length===0)return[0,0];if(isNumber(Fe)){var en=Math.ceil(Fe);return[en,en]}var tn=map$1(Fe,function(nn){return Math.ceil(nn)});return Fe.length%2?tn.concat(tn):tn}function getLineBlockLengthX(Fe){return map$1(Fe,function(en){return getLineBlockLengthY(en)})}function getLineBlockLengthY(Fe){for(var en=0,tn=0;tn<Fe.length;++tn)en+=Fe[tn];return Fe.length%2===1?en*2:en}function decalVisual(Fe,en){Fe.eachRawSeries(function(tn){if(!Fe.isSeriesFiltered(tn)){var nn=tn.getData();nn.hasItemVisual()&&nn.each(function(ln){var cn=nn.getItemVisual(ln,"decal");if(cn){var un=nn.ensureUniqueItemVisual(ln,"style");un.decal=createOrUpdatePatternFromDecal(cn,en)}});var rn=nn.getVisual("decal");if(rn){var an=nn.getVisual("style");an.decal=createOrUpdatePatternFromDecal(rn,en)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(Fe,en){implsStore[Fe]=en}function getImpl(Fe){return implsStore[Fe]}var version="5.4.3",dependencies={zrender:"5.4.4"},TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(Fe){return function(){for(var en=[],tn=0;tn<arguments.length;tn++)en[tn]=arguments[tn];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,Fe,en)}}function createRegisterEventWithLowercaseMessageCenter(Fe){return function(){for(var en=[],tn=0;tn<arguments.length;tn++)en[tn]=arguments[tn];return toLowercaseNameAndCallEventful(this,Fe,en)}}function toLowercaseNameAndCallEventful(Fe,en,tn){return tn[0]=tn[0]&&tn[0].toLowerCase(),Eventful$1.prototype[en].apply(Fe,tn)}var MessageCenter=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this,new ECEventProcessor)||this;an._chartsViews=[],an._chartsMap={},an._componentsViews=[],an._componentsMap={},an._pendingActions=[],rn=rn||{},isString(nn)&&(nn=themeStorage[nn]),an._dom=tn;var ln="canvas",cn="auto",un=!1,fn=an._zr=init$2(tn,{renderer:rn.renderer||ln,devicePixelRatio:rn.devicePixelRatio,width:rn.width,height:rn.height,ssr:rn.ssr,useDirtyRect:retrieve2(rn.useDirtyRect,un),useCoarsePointer:retrieve2(rn.useCoarsePointer,cn),pointerSize:rn.pointerSize});an._ssr=rn.ssr,an._throttledZrFlush=throttle(bind$1(fn.flush,fn),17),nn=clone$4(nn),nn&&globalBackwardCompat(nn,!0),an._theme=nn,an._locale=createLocaleObject(rn.locale||SYSTEM_LANG),an._coordSysMgr=new CoordinateSystem;var hn=an._api=createExtensionAPI(an);function pn(gn,mn){return gn.__prio-mn.__prio}return sort$2(visualFuncs,pn),sort$2(dataProcessorFuncs,pn),an._scheduler=new Scheduler$1(an,hn,dataProcessorFuncs,visualFuncs),an._messageCenter=new MessageCenter,an._initEvents(),an.resize=bind$1(an.resize,an),fn.animation.on("frame",an._onframe,an),bindRenderedEvent(fn,an),bindMouseEvent(fn,an),setAsPrimitive(an),an}return en.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var tn=this._scheduler;if(this[PENDING_UPDATE]){var nn=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(un){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,un}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,nn),triggerUpdatedEvent.call(this,nn)}else if(tn.unfinished){var rn=TEST_FRAME_REMAIN_TIME,an=this._model,ln=this._api;tn.unfinished=!1;do{var cn=+new Date;tn.performSeriesTasks(an),tn.performDataProcessorTasks(an),updateStreamModes(this,an),tn.performVisualTasks(an),renderSeries(this,this._model,ln,"remain",{}),rn-=+new Date-cn}while(rn>0&&tn.unfinished);tn.unfinished||this._zr.flush()}}},en.prototype.getDom=function(){return this._dom},en.prototype.getId=function(){return this.id},en.prototype.getZr=function(){return this._zr},en.prototype.isSSR=function(){return this._ssr},en.prototype.setOption=function(tn,nn,rn){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var an,ln,cn;if(isObject$3(nn)&&(rn=nn.lazyUpdate,an=nn.silent,ln=nn.replaceMerge,cn=nn.transition,nn=nn.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||nn){var un=new OptionManager$1(this._api),fn=this._theme,hn=this._model=new GlobalModel$1;hn.scheduler=this._scheduler,hn.ssr=this._ssr,hn.init(null,null,null,fn,this._locale,un)}this._model.setOption(tn,{replaceMerge:ln},optionPreprocessorFuncs);var pn={seriesTransition:cn,optionChanged:!0};if(rn)this[PENDING_UPDATE]={silent:an,updateParams:pn},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,pn)}catch(gn){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,gn}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,an),triggerUpdatedEvent.call(this,an)}}},en.prototype.setTheme=function(){},en.prototype.getModel=function(){return this._model},en.prototype.getOption=function(){return this._model&&this._model.getOption()},en.prototype.getWidth=function(){return this._zr.getWidth()},en.prototype.getHeight=function(){return this._zr.getHeight()},en.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},en.prototype.getRenderedCanvas=function(tn){return this.renderToCanvas(tn)},en.prototype.renderToCanvas=function(tn){tn=tn||{};var nn=this._zr.painter;return nn.getRenderedCanvas({backgroundColor:tn.backgroundColor||this._model.get("backgroundColor"),pixelRatio:tn.pixelRatio||this.getDevicePixelRatio()})},en.prototype.renderToSVGString=function(tn){tn=tn||{};var nn=this._zr.painter;return nn.renderToString({useViewBox:tn.useViewBox})},en.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var tn=this._zr,nn=tn.storage.getDisplayList();return each$f(nn,function(rn){rn.stopAnimation(null,!0)}),tn.painter.toDataURL()}},en.prototype.getDataURL=function(tn){if(this._disposed){this.id;return}tn=tn||{};var nn=tn.excludeComponents,rn=this._model,an=[],ln=this;each$f(nn,function(un){rn.eachComponent({mainType:un},function(fn){var hn=ln._componentsMap[fn.__viewId];hn.group.ignore||(an.push(hn),hn.group.ignore=!0)})});var cn=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(tn).toDataURL("image/"+(tn&&tn.type||"png"));return each$f(an,function(un){un.group.ignore=!1}),cn},en.prototype.getConnectedDataURL=function(tn){if(this._disposed){this.id;return}var nn=tn.type==="svg",rn=this.group,an=Math.min,ln=Math.max,cn=1/0;if(connectedGroups[rn]){var un=cn,fn=cn,hn=-cn,pn=-cn,gn=[],mn=tn&&tn.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(Mn,In){if(Mn.group===rn){var On=nn?Mn.getZr().painter.getSvgDom().innerHTML:Mn.renderToCanvas(clone$4(tn)),Pn=Mn.getDom().getBoundingClientRect();un=an(Pn.left,un),fn=an(Pn.top,fn),hn=ln(Pn.right,hn),pn=ln(Pn.bottom,pn),gn.push({dom:On,left:Pn.left,top:Pn.top})}}),un*=mn,fn*=mn,hn*=mn,pn*=mn;var _n=hn-un,kn=pn-fn,Cn=platformApi.createCanvas(),xn=init$2(Cn,{renderer:nn?"svg":"canvas"});if(xn.resize({width:_n,height:kn}),nn){var Sn="";return each$f(gn,function(Mn){var In=Mn.left-un,On=Mn.top-fn;Sn+='<g transform="translate('+In+","+On+')">'+Mn.dom+"</g>"}),xn.painter.getSvgRoot().innerHTML=Sn,tn.connectedBackgroundColor&&xn.painter.setBackgroundColor(tn.connectedBackgroundColor),xn.refreshImmediately(),xn.painter.toDataURL()}else return tn.connectedBackgroundColor&&xn.add(new Rect$3({shape:{x:0,y:0,width:_n,height:kn},style:{fill:tn.connectedBackgroundColor}})),each$f(gn,function(Mn){var In=new ZRImage$1({style:{x:Mn.left*mn-un,y:Mn.top*mn-fn,image:Mn.dom}});xn.add(In)}),xn.refreshImmediately(),Cn.toDataURL("image/"+(tn&&tn.type||"png"))}else return this.getDataURL(tn)},en.prototype.convertToPixel=function(tn,nn){return doConvertPixel(this,"convertToPixel",tn,nn)},en.prototype.convertFromPixel=function(tn,nn){return doConvertPixel(this,"convertFromPixel",tn,nn)},en.prototype.containPixel=function(tn,nn){if(this._disposed){this.id;return}var rn=this._model,an,ln=parseFinder$1(rn,tn);return each$f(ln,function(cn,un){un.indexOf("Models")>=0&&each$f(cn,function(fn){var hn=fn.coordinateSystem;if(hn&&hn.containPoint)an=an||!!hn.containPoint(nn);else if(un==="seriesModels"){var pn=this._chartsMap[fn.__viewId];pn&&pn.containPoint&&(an=an||pn.containPoint(nn,fn))}},this)},this),!!an},en.prototype.getVisual=function(tn,nn){var rn=this._model,an=parseFinder$1(rn,tn,{defaultMainType:"series"}),ln=an.seriesModel,cn=ln.getData(),un=an.hasOwnProperty("dataIndexInside")?an.dataIndexInside:an.hasOwnProperty("dataIndex")?cn.indexOfRawIndex(an.dataIndex):null;return un!=null?getItemVisualFromData(cn,un,nn):getVisualFromData(cn,nn)},en.prototype.getViewOfComponentModel=function(tn){return this._componentsMap[tn.__viewId]},en.prototype.getViewOfSeriesModel=function(tn){return this._chartsMap[tn.__viewId]},en.prototype._initEvents=function(){var tn=this;each$f(MOUSE_EVENT_NAMES,function(nn){var rn=function(an){var ln=tn.getModel(),cn=an.target,un,fn=nn==="globalout";if(fn?un={}:cn&&findEventDispatcher(cn,function(_n){var kn=getECData(_n);if(kn&&kn.dataIndex!=null){var Cn=kn.dataModel||ln.getSeriesByIndex(kn.seriesIndex);return un=Cn&&Cn.getDataParams(kn.dataIndex,kn.dataType,cn)||{},!0}else if(kn.eventData)return un=extend$1({},kn.eventData),!0},!0),un){var hn=un.componentType,pn=un.componentIndex;(hn==="markLine"||hn==="markPoint"||hn==="markArea")&&(hn="series",pn=un.seriesIndex);var gn=hn&&pn!=null&&ln.getComponent(hn,pn),mn=gn&&tn[gn.mainType==="series"?"_chartsMap":"_componentsMap"][gn.__viewId];un.event=an,un.type=nn,tn._$eventProcessor.eventInfo={targetEl:cn,packedEvent:un,model:gn,view:mn},tn.trigger(nn,un)}};rn.zrEventfulCallAtLast=!0,tn._zr.on(nn,rn,tn)}),each$f(eventActionMap,function(nn,rn){tn._messageCenter.on(rn,function(an){this.trigger(rn,an)},tn)}),each$f(["selectchanged"],function(nn){tn._messageCenter.on(nn,function(rn){this.trigger(nn,rn)},tn)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},en.prototype.isDisposed=function(){return this._disposed},en.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},en.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var tn=this.getDom();tn&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var nn=this,rn=nn._api,an=nn._model;each$f(nn._componentsViews,function(ln){ln.dispose(an,rn)}),each$f(nn._chartsViews,function(ln){ln.dispose(an,rn)}),nn._zr.dispose(),nn._dom=nn._model=nn._chartsMap=nn._componentsMap=nn._chartsViews=nn._componentsViews=nn._scheduler=nn._api=nn._zr=nn._throttledZrFlush=nn._theme=nn._coordSysMgr=nn._messageCenter=null,delete instances[nn.id]},en.prototype.resize=function(tn){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(tn);var nn=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!nn){var rn=nn.resetOption("media"),an=tn&&tn.silent;this[PENDING_UPDATE]&&(an==null&&(an=this[PENDING_UPDATE].silent),rn=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{rn&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend$1({duration:0},tn&&tn.animation)})}catch(ln){throw this[IN_MAIN_PROCESS_KEY]=!1,ln}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,an),triggerUpdatedEvent.call(this,an)}}},en.prototype.showLoading=function(tn,nn){if(this._disposed){this.id;return}if(isObject$3(tn)&&(nn=tn,tn=""),tn=tn||"default",this.hideLoading(),!!loadingEffects[tn]){var rn=loadingEffects[tn](this._api,nn),an=this._zr;this._loadingFX=rn,an.add(rn)}},en.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},en.prototype.makeActionFromEvent=function(tn){var nn=extend$1({},tn);return nn.type=eventActionMap[tn.type],nn},en.prototype.dispatchAction=function(tn,nn){if(this._disposed){this.id;return}if(isObject$3(nn)||(nn={silent:!!nn}),!!actions[tn.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(tn);return}var rn=nn.silent;doDispatchAction.call(this,tn,rn);var an=nn.flush;an?this._zr.flush():an!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,rn),triggerUpdatedEvent.call(this,rn)}},en.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},en.prototype.appendData=function(tn){if(this._disposed){this.id;return}var nn=tn.seriesIndex,rn=this.getModel(),an=rn.getSeriesByIndex(nn);an.appendData(tn),this._scheduler.unfinished=!0,this.getZr().wakeUp()},en.internalField=function(){prepare=function(pn){var gn=pn._scheduler;gn.restorePipelines(pn._model),gn.prepareStageTasks(),prepareView(pn,!0),prepareView(pn,!1),gn.plan()},prepareView=function(pn,gn){for(var mn=pn._model,_n=pn._scheduler,kn=gn?pn._componentsViews:pn._chartsViews,Cn=gn?pn._componentsMap:pn._chartsMap,xn=pn._zr,Sn=pn._api,Mn=0;Mn<kn.length;Mn++)kn[Mn].__alive=!1;gn?mn.eachComponent(function(Pn,Tn){Pn!=="series"&&In(Tn)}):mn.eachSeries(In);function In(Pn){var Tn=Pn.__requireNewView;Pn.__requireNewView=!1;var Nn="_ec_"+Pn.id+"_"+Pn.type,Hn=!Tn&&Cn[Nn];if(!Hn){var Un=parseClassType(Pn.type),jn=gn?ComponentView$1.getClass(Un.main,Un.sub):ChartView$1.getClass(Un.sub);Hn=new jn,Hn.init(mn,Sn),Cn[Nn]=Hn,kn.push(Hn),xn.add(Hn.group)}Pn.__viewId=Hn.__id=Nn,Hn.__alive=!0,Hn.__model=Pn,Hn.group.__ecComponentInfo={mainType:Pn.mainType,index:Pn.componentIndex},!gn&&_n.prepareView(Hn,Pn,mn,Sn)}for(var Mn=0;Mn<kn.length;){var On=kn[Mn];On.__alive?Mn++:(!gn&&On.renderTask.dispose(),xn.remove(On.group),On.dispose(mn,Sn),kn.splice(Mn,1),Cn[On.__id]===On&&delete Cn[On.__id],On.__id=On.group.__ecComponentInfo=null)}},updateDirectly=function(pn,gn,mn,_n,kn){var Cn=pn._model;if(Cn.setUpdatePayload(mn),!_n){each$f([].concat(pn._componentsViews).concat(pn._chartsViews),On);return}var xn={};xn[_n+"Id"]=mn[_n+"Id"],xn[_n+"Index"]=mn[_n+"Index"],xn[_n+"Name"]=mn[_n+"Name"];var Sn={mainType:_n,query:xn};kn&&(Sn.subType=kn);var Mn=mn.excludeSeriesId,In;Mn!=null&&(In=createHashMap(),each$f(normalizeToArray(Mn),function(Pn){var Tn=convertOptionIdName(Pn,null);Tn!=null&&In.set(Tn,!0)})),Cn&&Cn.eachComponent(Sn,function(Pn){var Tn=In&&In.get(Pn.id)!=null;if(!Tn)if(isHighDownPayload(mn))if(Pn instanceof SeriesModel$1)mn.type===HIGHLIGHT_ACTION_TYPE&&!mn.notBlur&&!Pn.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(Pn,mn,pn._api);else{var Nn=findComponentHighDownDispatchers(Pn.mainType,Pn.componentIndex,mn.name,pn._api),Hn=Nn.focusSelf,Un=Nn.dispatchers;mn.type===HIGHLIGHT_ACTION_TYPE&&Hn&&!mn.notBlur&&blurComponent(Pn.mainType,Pn.componentIndex,pn._api),Un&&each$f(Un,function(jn){mn.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(jn):leaveEmphasis(jn)})}else isSelectChangePayload(mn)&&Pn instanceof SeriesModel$1&&(toggleSelectionFromPayload(Pn,mn,pn._api),updateSeriesElementSelection(Pn),markStatusToUpdate(pn))},pn),Cn&&Cn.eachComponent(Sn,function(Pn){var Tn=In&&In.get(Pn.id)!=null;Tn||On(pn[_n==="series"?"_chartsMap":"_componentsMap"][Pn.__viewId])},pn);function On(Pn){Pn&&Pn.__alive&&Pn[gn]&&Pn[gn](Pn.__model,Cn,pn._api,mn)}},updateMethods={prepareAndUpdate:function(pn){prepare(this),updateMethods.update.call(this,pn,{optionChanged:pn.newOption!=null})},update:function(pn,gn){var mn=this._model,_n=this._api,kn=this._zr,Cn=this._coordSysMgr,xn=this._scheduler;if(mn){mn.setUpdatePayload(pn),xn.restoreData(mn,pn),xn.performSeriesTasks(mn),Cn.create(mn,_n),xn.performDataProcessorTasks(mn,pn),updateStreamModes(this,mn),Cn.update(mn,_n),tn(mn),xn.performVisualTasks(mn,pn),render(this,mn,_n,pn,gn);var Sn=mn.get("backgroundColor")||"transparent",Mn=mn.get("darkMode");kn.setBackgroundColor(Sn),Mn!=null&&Mn!=="auto"&&kn.setDarkMode(Mn),lifecycle$1.trigger("afterupdate",mn,_n)}},updateTransform:function(pn){var gn=this,mn=this._model,_n=this._api;if(mn){mn.setUpdatePayload(pn);var kn=[];mn.eachComponent(function(xn,Sn){if(xn!=="series"){var Mn=gn.getViewOfComponentModel(Sn);if(Mn&&Mn.__alive)if(Mn.updateTransform){var In=Mn.updateTransform(Sn,mn,_n,pn);In&&In.update&&kn.push(Mn)}else kn.push(Mn)}});var Cn=createHashMap();mn.eachSeries(function(xn){var Sn=gn._chartsMap[xn.__viewId];if(Sn.updateTransform){var Mn=Sn.updateTransform(xn,mn,_n,pn);Mn&&Mn.update&&Cn.set(xn.uid,1)}else Cn.set(xn.uid,1)}),tn(mn),this._scheduler.performVisualTasks(mn,pn,{setDirty:!0,dirtyMap:Cn}),renderSeries(this,mn,_n,pn,{},Cn),lifecycle$1.trigger("afterupdate",mn,_n)}},updateView:function(pn){var gn=this._model;gn&&(gn.setUpdatePayload(pn),ChartView$1.markUpdateMethod(pn,"updateView"),tn(gn),this._scheduler.performVisualTasks(gn,pn,{setDirty:!0}),render(this,gn,this._api,pn,{}),lifecycle$1.trigger("afterupdate",gn,this._api))},updateVisual:function(pn){var gn=this,mn=this._model;mn&&(mn.setUpdatePayload(pn),mn.eachSeries(function(_n){_n.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(pn,"updateVisual"),tn(mn),this._scheduler.performVisualTasks(mn,pn,{visualType:"visual",setDirty:!0}),mn.eachComponent(function(_n,kn){if(_n!=="series"){var Cn=gn.getViewOfComponentModel(kn);Cn&&Cn.__alive&&Cn.updateVisual(kn,mn,gn._api,pn)}}),mn.eachSeries(function(_n){var kn=gn._chartsMap[_n.__viewId];kn.updateVisual(_n,mn,gn._api,pn)}),lifecycle$1.trigger("afterupdate",mn,this._api))},updateLayout:function(pn){updateMethods.update.call(this,pn)}},doConvertPixel=function(pn,gn,mn,_n){if(pn._disposed){pn.id;return}for(var kn=pn._model,Cn=pn._coordSysMgr.getCoordinateSystems(),xn,Sn=parseFinder$1(kn,mn),Mn=0;Mn<Cn.length;Mn++){var In=Cn[Mn];if(In[gn]&&(xn=In[gn](kn,Sn,_n))!=null)return xn}},updateStreamModes=function(pn,gn){var mn=pn._chartsMap,_n=pn._scheduler;gn.eachSeries(function(kn){_n.updateStreamModes(kn,mn[kn.__viewId])})},doDispatchAction=function(pn,gn){var mn=this,_n=this.getModel(),kn=pn.type,Cn=pn.escapeConnect,xn=actions[kn],Sn=xn.actionInfo,Mn=(Sn.update||"update").split(":"),In=Mn.pop(),On=Mn[0]!=null&&parseClassType(Mn[0]);this[IN_MAIN_PROCESS_KEY]=!0;var Pn=[pn],Tn=!1;pn.batch&&(Tn=!0,Pn=map$1(pn.batch,function(Qn){return Qn=defaults(extend$1({},Qn),pn),Qn.batch=null,Qn}));var Nn=[],Hn,Un=isSelectChangePayload(pn),jn=isHighDownPayload(pn);if(jn&&allLeaveBlur(this._api),each$f(Pn,function(Qn){if(Hn=xn.action(Qn,mn._model,mn._api),Hn=Hn||extend$1({},Qn),Hn.type=Sn.event||Hn.type,Nn.push(Hn),jn){var Xn=preParseFinder(pn),jr=Xn.queryOptionMap,Wr=Xn.mainTypeSpecified,Jr=Wr?jr.keys()[0]:"series";updateDirectly(mn,In,Qn,Jr),markStatusToUpdate(mn)}else Un?(updateDirectly(mn,In,Qn,"series"),markStatusToUpdate(mn)):On&&updateDirectly(mn,In,Qn,On.main,On.sub)}),In!=="none"&&!jn&&!Un&&!On)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,pn),this[PENDING_UPDATE]=null):updateMethods[In].call(this,pn)}catch(Qn){throw this[IN_MAIN_PROCESS_KEY]=!1,Qn}if(Tn?Hn={type:Sn.event||kn,escapeConnect:Cn,batch:Nn}:Hn=Nn[0],this[IN_MAIN_PROCESS_KEY]=!1,!gn){var Yn=this._messageCenter;if(Yn.trigger(Hn.type,Hn),Un){var Wn={type:"selectchanged",escapeConnect:Cn,selected:getAllSelectedIndices(_n),isFromClick:pn.isFromClick||!1,fromAction:pn.type,fromActionPayload:pn};Yn.trigger(Wn.type,Wn)}}},flushPendingActions=function(pn){for(var gn=this._pendingActions;gn.length;){var mn=gn.shift();doDispatchAction.call(this,mn,pn)}},triggerUpdatedEvent=function(pn){!pn&&this.trigger("updated")},bindRenderedEvent=function(pn,gn){pn.on("rendered",function(mn){gn.trigger("rendered",mn),pn.animation.isFinished()&&!gn[PENDING_UPDATE]&&!gn._scheduler.unfinished&&!gn._pendingActions.length&&gn.trigger("finished")})},bindMouseEvent=function(pn,gn){pn.on("mouseover",function(mn){var _n=mn.target,kn=findEventDispatcher(_n,isHighDownDispatcher);kn&&(handleGlobalMouseOverForHighDown(kn,mn,gn._api),markStatusToUpdate(gn))}).on("mouseout",function(mn){var _n=mn.target,kn=findEventDispatcher(_n,isHighDownDispatcher);kn&&(handleGlobalMouseOutForHighDown(kn,mn,gn._api),markStatusToUpdate(gn))}).on("click",function(mn){var _n=mn.target,kn=findEventDispatcher(_n,function(Sn){return getECData(Sn).dataIndex!=null},!0);if(kn){var Cn=kn.selected?"unselect":"select",xn=getECData(kn);gn._api.dispatchAction({type:Cn,dataType:xn.dataType,dataIndexInside:xn.dataIndex,seriesIndex:xn.seriesIndex,isFromClick:!0})}})};function tn(pn){pn.clearColorPalette(),pn.eachSeries(function(gn){gn.clearColorPalette()})}function nn(pn){var gn=[],mn=[],_n=!1;if(pn.eachComponent(function(Sn,Mn){var In=Mn.get("zlevel")||0,On=Mn.get("z")||0,Pn=Mn.getZLevelKey();_n=_n||!!Pn,(Sn==="series"?mn:gn).push({zlevel:In,z:On,idx:Mn.componentIndex,type:Sn,key:Pn})}),_n){var kn=gn.concat(mn),Cn,xn;sort$2(kn,function(Sn,Mn){return Sn.zlevel===Mn.zlevel?Sn.z-Mn.z:Sn.zlevel-Mn.zlevel}),each$f(kn,function(Sn){var Mn=pn.getComponent(Sn.type,Sn.idx),In=Sn.zlevel,On=Sn.key;Cn!=null&&(In=Math.max(Cn,In)),On?(In===Cn&&On!==xn&&In++,xn=On):xn&&(In===Cn&&In++,xn=""),Cn=In,Mn.setZLevel(In)})}}render=function(pn,gn,mn,_n,kn){nn(gn),renderComponents(pn,gn,mn,_n,kn),each$f(pn._chartsViews,function(Cn){Cn.__alive=!1}),renderSeries(pn,gn,mn,_n,kn),each$f(pn._chartsViews,function(Cn){Cn.__alive||Cn.remove(gn,mn)})},renderComponents=function(pn,gn,mn,_n,kn,Cn){each$f(Cn||pn._componentsViews,function(xn){var Sn=xn.__model;fn(Sn,xn),xn.render(Sn,gn,mn,_n),cn(Sn,xn),hn(Sn,xn)})},renderSeries=function(pn,gn,mn,_n,kn,Cn){var xn=pn._scheduler;kn=extend$1(kn||{},{updatedSeries:gn.getSeries()}),lifecycle$1.trigger("series:beforeupdate",gn,mn,kn);var Sn=!1;gn.eachSeries(function(Mn){var In=pn._chartsMap[Mn.__viewId];In.__alive=!0;var On=In.renderTask;xn.updatePayload(On,_n),fn(Mn,In),Cn&&Cn.get(Mn.uid)&&On.dirty(),On.perform(xn.getPerformArgs(On))&&(Sn=!0),In.group.silent=!!Mn.get("silent"),ln(Mn,In),updateSeriesElementSelection(Mn)}),xn.unfinished=Sn||xn.unfinished,lifecycle$1.trigger("series:layoutlabels",gn,mn,kn),lifecycle$1.trigger("series:transition",gn,mn,kn),gn.eachSeries(function(Mn){var In=pn._chartsMap[Mn.__viewId];cn(Mn,In),hn(Mn,In)}),an(pn,gn),lifecycle$1.trigger("series:afterupdate",gn,mn,kn)},markStatusToUpdate=function(pn){pn[STATUS_NEEDS_UPDATE_KEY]=!0,pn.getZr().wakeUp()},applyChangedStates=function(pn){pn[STATUS_NEEDS_UPDATE_KEY]&&(pn.getZr().storage.traverse(function(gn){isElementRemoved(gn)||rn(gn)}),pn[STATUS_NEEDS_UPDATE_KEY]=!1)};function rn(pn){for(var gn=[],mn=pn.currentStates,_n=0;_n<mn.length;_n++){var kn=mn[_n];kn==="emphasis"||kn==="blur"||kn==="select"||gn.push(kn)}pn.selected&&pn.states.select&&gn.push("select"),pn.hoverState===HOVER_STATE_EMPHASIS&&pn.states.emphasis?gn.push("emphasis"):pn.hoverState===HOVER_STATE_BLUR&&pn.states.blur&&gn.push("blur"),pn.useStates(gn)}function an(pn,gn){var mn=pn._zr,_n=mn.storage,kn=0;_n.traverse(function(Cn){Cn.isGroup||kn++}),kn>gn.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&gn.eachSeries(function(Cn){if(!Cn.preventUsingHoverLayer){var xn=pn._chartsMap[Cn.__viewId];xn.__alive&&xn.eachRendered(function(Sn){Sn.states.emphasis&&(Sn.states.emphasis.hoverLayer=!0)})}})}function ln(pn,gn){var mn=pn.get("blendMode")||null;gn.eachRendered(function(_n){_n.isGroup||(_n.style.blend=mn)})}function cn(pn,gn){if(!pn.preventAutoZ){var mn=pn.get("z")||0,_n=pn.get("zlevel")||0;gn.eachRendered(function(kn){return un(kn,mn,_n,-1/0),!0})}}function un(pn,gn,mn,_n){var kn=pn.getTextContent(),Cn=pn.getTextGuideLine(),xn=pn.isGroup;if(xn)for(var Sn=pn.childrenRef(),Mn=0;Mn<Sn.length;Mn++)_n=Math.max(un(Sn[Mn],gn,mn,_n),_n);else pn.z=gn,pn.zlevel=mn,_n=Math.max(pn.z2,_n);if(kn&&(kn.z=gn,kn.zlevel=mn,isFinite(_n)&&(kn.z2=_n+2)),Cn){var In=pn.textGuideLineConfig;Cn.z=gn,Cn.zlevel=mn,isFinite(_n)&&(Cn.z2=_n+(In&&In.showAbove?1:-1))}return _n}function fn(pn,gn){gn.eachRendered(function(mn){if(!isElementRemoved(mn)){var _n=mn.getTextContent(),kn=mn.getTextGuideLine();mn.stateTransition&&(mn.stateTransition=null),_n&&_n.stateTransition&&(_n.stateTransition=null),kn&&kn.stateTransition&&(kn.stateTransition=null),mn.hasState()?(mn.prevStates=mn.currentStates,mn.clearStates()):mn.prevStates&&(mn.prevStates=null)}})}function hn(pn,gn){var mn=pn.getModel("stateAnimation"),_n=pn.isAnimationEnabled(),kn=mn.get("duration"),Cn=kn>0?{duration:kn,delay:mn.get("delay"),easing:mn.get("easing")}:null;gn.eachRendered(function(xn){if(xn.states&&xn.states.emphasis){if(isElementRemoved(xn))return;if(xn instanceof Path$1&&savePathStates(xn),xn.__dirty){var Sn=xn.prevStates;Sn&&xn.useStates(Sn)}if(_n){xn.stateTransition=Cn;var Mn=xn.getTextContent(),In=xn.getTextGuideLine();Mn&&(Mn.stateTransition=Cn),In&&(In.stateTransition=Cn)}xn.__dirty&&rn(xn)}})}createExtensionAPI=function(pn){return new(function(gn){__extends(mn,gn);function mn(){return gn!==null&&gn.apply(this,arguments)||this}return mn.prototype.getCoordinateSystems=function(){return pn._coordSysMgr.getCoordinateSystems()},mn.prototype.getComponentByElement=function(_n){for(;_n;){var kn=_n.__ecComponentInfo;if(kn!=null)return pn._model.getComponent(kn.mainType,kn.index);_n=_n.parent}},mn.prototype.enterEmphasis=function(_n,kn){enterEmphasis(_n,kn),markStatusToUpdate(pn)},mn.prototype.leaveEmphasis=function(_n,kn){leaveEmphasis(_n,kn),markStatusToUpdate(pn)},mn.prototype.enterBlur=function(_n){enterBlur(_n),markStatusToUpdate(pn)},mn.prototype.leaveBlur=function(_n){leaveBlur(_n),markStatusToUpdate(pn)},mn.prototype.enterSelect=function(_n){enterSelect(_n),markStatusToUpdate(pn)},mn.prototype.leaveSelect=function(_n){leaveSelect(_n),markStatusToUpdate(pn)},mn.prototype.getModel=function(){return pn.getModel()},mn.prototype.getViewOfComponentModel=function(_n){return pn.getViewOfComponentModel(_n)},mn.prototype.getViewOfSeriesModel=function(_n){return pn.getViewOfSeriesModel(_n)},mn}(ExtensionAPI$1))(pn)},enableConnect=function(pn){function gn(mn,_n){for(var kn=0;kn<mn.length;kn++){var Cn=mn[kn];Cn[CONNECT_STATUS_KEY]=_n}}each$f(eventActionMap,function(mn,_n){pn._messageCenter.on(_n,function(kn){if(connectedGroups[pn.group]&&pn[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(kn&&kn.escapeConnect)return;var Cn=pn.makeActionFromEvent(kn),xn=[];each$f(instances,function(Sn){Sn!==pn&&Sn.group===pn.group&&xn.push(Sn)}),gn(xn,CONNECT_STATUS_PENDING),each$f(xn,function(Sn){Sn[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&Sn.dispatchAction(Cn)}),gn(xn,CONNECT_STATUS_UPDATED)}})})}}(),en}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(Fe,en,tn){var nn=this;function rn(){for(var an=[],ln=0;ln<arguments.length;ln++)an[ln]=arguments[ln];en&&en.apply&&en.apply(this,an),nn.off(Fe,rn)}this.on.call(this,Fe,rn,tn)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(Fe){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,groupIdBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(Fe,en,tn){var nn=!(tn&&tn.ssr);if(nn){var rn=getInstanceByDom(Fe);if(rn)return rn}var an=new ECharts(Fe,en,tn);return an.id="ec_"+idBase++,instances[an.id]=an,nn&&setAttribute(Fe,DOM_ATTRIBUTE_KEY,an.id),enableConnect(an),lifecycle$1.trigger("afterinit",an),an}function connect(Fe){if(isArray$1(Fe)){var en=Fe;Fe=null,each$f(en,function(tn){tn.group!=null&&(Fe=tn.group)}),Fe=Fe||"g_"+groupIdBase++,each$f(en,function(tn){tn.group=Fe})}return connectedGroups[Fe]=!0,Fe}function disconnect(Fe){connectedGroups[Fe]=!1}var disConnect=disconnect;function dispose(Fe){isString(Fe)?Fe=instances[Fe]:Fe instanceof ECharts||(Fe=getInstanceByDom(Fe)),Fe instanceof ECharts&&!Fe.isDisposed()&&Fe.dispose()}function getInstanceByDom(Fe){return instances[getAttribute(Fe,DOM_ATTRIBUTE_KEY)]}function getInstanceById(Fe){return instances[Fe]}function registerTheme(Fe,en){themeStorage[Fe]=en}function registerPreprocessor(Fe){indexOf(optionPreprocessorFuncs,Fe)<0&&optionPreprocessorFuncs.push(Fe)}function registerProcessor(Fe,en){normalizeRegister(dataProcessorFuncs,Fe,en,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(Fe){registerUpdateLifecycle("afterinit",Fe)}function registerPostUpdate(Fe){registerUpdateLifecycle("afterupdate",Fe)}function registerUpdateLifecycle(Fe,en){lifecycle$1.on(Fe,en)}function registerAction(Fe,en,tn){isFunction(en)&&(tn=en,en="");var nn=isObject$3(Fe)?Fe.type:[Fe,Fe={event:en}][0];Fe.event=(Fe.event||nn).toLowerCase(),en=Fe.event,!eventActionMap[en]&&(assert(ACTION_REG.test(nn)&&ACTION_REG.test(en)),actions[nn]||(actions[nn]={action:tn,actionInfo:Fe}),eventActionMap[en]=nn)}function registerCoordinateSystem(Fe,en){CoordinateSystem.register(Fe,en)}function getCoordinateSystemDimensions(Fe){var en=CoordinateSystem.get(Fe);if(en)return en.getDimensionsInfo?en.getDimensionsInfo():en.dimensions.slice()}function registerLayout(Fe,en){normalizeRegister(visualFuncs,Fe,en,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(Fe,en){normalizeRegister(visualFuncs,Fe,en,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(Fe,en,tn,nn,rn){if((isFunction(en)||isObject$3(en))&&(tn=en,en=nn),!(indexOf(registeredTasks,tn)>=0)){registeredTasks.push(tn);var an=Scheduler$1.wrapStageHandler(tn,rn);an.__prio=en,an.__raw=tn,Fe.push(an)}}function registerLoading(Fe,en){loadingEffects[Fe]=en}function setCanvasCreator(Fe){setPlatformAPI({createCanvas:Fe})}function registerMap$1(Fe,en,tn){var nn=getImpl("registerMap");nn&&nn(Fe,en,tn)}function getMap(Fe){var en=getImpl("getMap");return en&&en(Fe)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack$1);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",darkTheme);var dataTool={},extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(Fe){ComponentModel$1.registerClass(Fe)},registerComponentView:function(Fe){ComponentView$1.registerClass(Fe)},registerSeriesModel:function(Fe){SeriesModel$1.registerClass(Fe)},registerChartView:function(Fe){ChartView$1.registerClass(Fe)},registerSubTypeDefaulter:function(Fe,en){ComponentModel$1.registerSubTypeDefaulter(Fe,en)},registerPainter:function(Fe,en){registerPainter(Fe,en)}};function use(Fe){if(isArray$1(Fe)){each$f(Fe,function(en){use(en)});return}indexOf(extensions,Fe)>=0||(extensions.push(Fe),isFunction(Fe)&&(Fe={install:Fe}),Fe.install(extensionRegisters))}function dataIndexMapValueLength(Fe){return Fe==null?0:Fe.length||1}function defaultKeyGetter(Fe){return Fe}var DataDiffer=function(){function Fe(en,tn,nn,rn,an,ln){this._old=en,this._new=tn,this._oldKeyGetter=nn||defaultKeyGetter,this._newKeyGetter=rn||defaultKeyGetter,this.context=an,this._diffModeMultiple=ln==="multiple"}return Fe.prototype.add=function(en){return this._add=en,this},Fe.prototype.update=function(en){return this._update=en,this},Fe.prototype.updateManyToOne=function(en){return this._updateManyToOne=en,this},Fe.prototype.updateOneToMany=function(en){return this._updateOneToMany=en,this},Fe.prototype.updateManyToMany=function(en){return this._updateManyToMany=en,this},Fe.prototype.remove=function(en){return this._remove=en,this},Fe.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},Fe.prototype._executeOneToOne=function(){var en=this._old,tn=this._new,nn={},rn=new Array(en.length),an=new Array(tn.length);this._initIndexMap(en,null,rn,"_oldKeyGetter"),this._initIndexMap(tn,nn,an,"_newKeyGetter");for(var ln=0;ln<en.length;ln++){var cn=rn[ln],un=nn[cn],fn=dataIndexMapValueLength(un);if(fn>1){var hn=un.shift();un.length===1&&(nn[cn]=un[0]),this._update&&this._update(hn,ln)}else fn===1?(nn[cn]=null,this._update&&this._update(un,ln)):this._remove&&this._remove(ln)}this._performRestAdd(an,nn)},Fe.prototype._executeMultiple=function(){var en=this._old,tn=this._new,nn={},rn={},an=[],ln=[];this._initIndexMap(en,nn,an,"_oldKeyGetter"),this._initIndexMap(tn,rn,ln,"_newKeyGetter");for(var cn=0;cn<an.length;cn++){var un=an[cn],fn=nn[un],hn=rn[un],pn=dataIndexMapValueLength(fn),gn=dataIndexMapValueLength(hn);if(pn>1&&gn===1)this._updateManyToOne&&this._updateManyToOne(hn,fn),rn[un]=null;else if(pn===1&&gn>1)this._updateOneToMany&&this._updateOneToMany(hn,fn),rn[un]=null;else if(pn===1&&gn===1)this._update&&this._update(hn,fn),rn[un]=null;else if(pn>1&&gn>1)this._updateManyToMany&&this._updateManyToMany(hn,fn),rn[un]=null;else if(pn>1)for(var mn=0;mn<pn;mn++)this._remove&&this._remove(fn[mn]);else this._remove&&this._remove(fn)}this._performRestAdd(ln,rn)},Fe.prototype._performRestAdd=function(en,tn){for(var nn=0;nn<en.length;nn++){var rn=en[nn],an=tn[rn],ln=dataIndexMapValueLength(an);if(ln>1)for(var cn=0;cn<ln;cn++)this._add&&this._add(an[cn]);else ln===1&&this._add&&this._add(an);tn[rn]=null}},Fe.prototype._initIndexMap=function(en,tn,nn,rn){for(var an=this._diffModeMultiple,ln=0;ln<en.length;ln++){var cn="_ec_"+this[rn](en[ln],ln);if(an||(nn[ln]=cn),!!tn){var un=tn[cn],fn=dataIndexMapValueLength(un);fn===0?(tn[cn]=ln,an&&nn.push(cn)):fn===1?tn[cn]=[un,ln]:un.push(ln)}}},Fe}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function Fe(en,tn){this._encode=en,this._schema=tn}return Fe.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},Fe.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},Fe}();function summarizeDimensions(Fe,en){var tn={},nn=tn.encode={},rn=createHashMap(),an=[],ln=[],cn={};each$f(Fe.dimensions,function(gn){var mn=Fe.getDimensionInfo(gn),_n=mn.coordDim;if(_n){var kn=mn.coordDimIndex;getOrCreateEncodeArr(nn,_n)[kn]=gn,mn.isExtraCoord||(rn.set(_n,1),mayLabelDimType(mn.type)&&(an[0]=gn),getOrCreateEncodeArr(cn,_n)[kn]=Fe.getDimensionIndex(mn.name)),mn.defaultTooltip&&ln.push(gn)}VISUAL_DIMENSIONS.each(function(Cn,xn){var Sn=getOrCreateEncodeArr(nn,xn),Mn=mn.otherDims[xn];Mn!=null&&Mn!==!1&&(Sn[Mn]=mn.name)})});var un=[],fn={};rn.each(function(gn,mn){var _n=nn[mn];fn[mn]=_n[0],un=un.concat(_n)}),tn.dataDimsOnCoord=un,tn.dataDimIndicesOnCoord=map$1(un,function(gn){return Fe.getDimensionInfo(gn).storeDimIndex}),tn.encodeFirstDimNotExtra=fn;var hn=nn.label;hn&&hn.length&&(an=hn.slice());var pn=nn.tooltip;return pn&&pn.length?ln=pn.slice():ln.length||(ln=an.slice()),nn.defaultedLabel=an,nn.defaultedTooltip=ln,tn.userOutput=new DimensionUserOuput(cn,en),tn}function getOrCreateEncodeArr(Fe,en){return Fe.hasOwnProperty(en)||(Fe[en]=[]),Fe[en]}function getDimensionTypeByAxis(Fe){return Fe==="category"?"ordinal":Fe==="time"?"time":"float"}function mayLabelDimType(Fe){return!(Fe==="ordinal"||Fe==="time")}var SeriesDimensionDefine=function(){function Fe(en){this.otherDims={},en!=null&&extend$1(this,en)}return Fe}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function Fe(en){this.dimensions=en.dimensions,this._dimOmitted=en.dimensionOmitted,this.source=en.source,this._fullDimCount=en.fullDimensionCount,this._updateDimOmitted(en.dimensionOmitted)}return Fe.prototype.isDimensionOmitted=function(){return this._dimOmitted},Fe.prototype._updateDimOmitted=function(en){this._dimOmitted=en,en&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},Fe.prototype.getSourceDimensionIndex=function(en){return retrieve2(this._dimNameMap.get(en),-1)},Fe.prototype.getSourceDimension=function(en){var tn=this.source.dimensionsDefine;if(tn)return tn[en]},Fe.prototype.makeStoreSchema=function(){for(var en=this._fullDimCount,tn=shouldRetrieveDataByName(this.source),nn=!shouldOmitUnusedDimensions(en),rn="",an=[],ln=0,cn=0;ln<en;ln++){var un=void 0,fn=void 0,hn=void 0,pn=this.dimensions[cn];if(pn&&pn.storeDimIndex===ln)un=tn?pn.name:null,fn=pn.type,hn=pn.ordinalMeta,cn++;else{var gn=this.getSourceDimension(ln);gn&&(un=tn?gn.name:null,fn=gn.type)}an.push({property:un,type:fn,ordinalMeta:hn}),tn&&un!=null&&(!pn||!pn.isCalculationCoord)&&(rn+=nn?un.replace(/\`/g,"`1").replace(/\$/g,"`2"):un),rn+="$",rn+=dimTypeShort[fn]||"f",hn&&(rn+=hn.uid),rn+="$"}var mn=this.source,_n=[mn.seriesLayoutBy,mn.startIndex,rn].join("$$");return{dimensions:an,hash:_n}},Fe.prototype.makeOutputDimensionNames=function(){for(var en=[],tn=0,nn=0;tn<this._fullDimCount;tn++){var rn=void 0,an=this.dimensions[nn];if(an&&an.storeDimIndex===tn)an.isCalculationCoord||(rn=an.name),nn++;else{var ln=this.getSourceDimension(tn);ln&&(rn=ln.name)}en.push(rn)}return en},Fe.prototype.appendCalculationDimension=function(en){this.dimensions.push(en),en.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},Fe}();function isSeriesDataSchema(Fe){return Fe instanceof SeriesDataSchema}function createDimNameMap(Fe){for(var en=createHashMap(),tn=0;tn<(Fe||[]).length;tn++){var nn=Fe[tn],rn=isObject$3(nn)?nn.name:nn;rn!=null&&en.get(rn)==null&&en.set(rn,tn)}return en}function ensureSourceDimNameMap(Fe){var en=inner$h(Fe);return en.dimNameMap||(en.dimNameMap=createDimNameMap(Fe.dimensionsDefine))}function shouldOmitUnusedDimensions(Fe){return Fe>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function Fe(en,tn){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var nn,rn=!1;isSeriesDataSchema(en)?(nn=en.dimensions,this._dimOmitted=en.isDimensionOmitted(),this._schema=en):(rn=!0,nn=en),nn=nn||["x","y"];for(var an={},ln=[],cn={},un=!1,fn={},hn=0;hn<nn.length;hn++){var pn=nn[hn],gn=isString(pn)?new SeriesDimensionDefine$1({name:pn}):pn instanceof SeriesDimensionDefine$1?pn:new SeriesDimensionDefine$1(pn),mn=gn.name;gn.type=gn.type||"float",gn.coordDim||(gn.coordDim=mn,gn.coordDimIndex=0);var _n=gn.otherDims=gn.otherDims||{};ln.push(mn),an[mn]=gn,fn[mn]!=null&&(un=!0),gn.createInvertedIndices&&(cn[mn]=[]),_n.itemName===0&&(this._nameDimIdx=hn),_n.itemId===0&&(this._idDimIdx=hn),rn&&(gn.storeDimIndex=hn)}if(this.dimensions=ln,this._dimInfos=an,this._initGetDimensionInfo(un),this.hostModel=tn,this._invertedIndicesMap=cn,this._dimOmitted){var kn=this._dimIdxToName=createHashMap();each$f(ln,function(Cn){kn.set(an[Cn].storeDimIndex,Cn)})}}return Fe.prototype.getDimension=function(en){var tn=this._recognizeDimIndex(en);if(tn==null)return en;if(tn=en,!this._dimOmitted)return this.dimensions[tn];var nn=this._dimIdxToName.get(tn);if(nn!=null)return nn;var rn=this._schema.getSourceDimension(tn);if(rn)return rn.name},Fe.prototype.getDimensionIndex=function(en){var tn=this._recognizeDimIndex(en);if(tn!=null)return tn;if(en==null)return-1;var nn=this._getDimInfo(en);return nn?nn.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(en):-1},Fe.prototype._recognizeDimIndex=function(en){if(isNumber(en)||en!=null&&!isNaN(en)&&!this._getDimInfo(en)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(en)<0))return+en},Fe.prototype._getStoreDimIndex=function(en){var tn=this.getDimensionIndex(en);return tn},Fe.prototype.getDimensionInfo=function(en){return this._getDimInfo(this.getDimension(en))},Fe.prototype._initGetDimensionInfo=function(en){var tn=this._dimInfos;this._getDimInfo=en?function(nn){return tn.hasOwnProperty(nn)?tn[nn]:void 0}:function(nn){return tn[nn]}},Fe.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},Fe.prototype.mapDimension=function(en,tn){var nn=this._dimSummary;if(tn==null)return nn.encodeFirstDimNotExtra[en];var rn=nn.encode[en];return rn?rn[tn]:null},Fe.prototype.mapDimensionsAll=function(en){var tn=this._dimSummary,nn=tn.encode[en];return(nn||[]).slice()},Fe.prototype.getStore=function(){return this._store},Fe.prototype.initData=function(en,tn,nn){var rn=this,an;if(en instanceof DataStore$1&&(an=en),!an){var ln=this.dimensions,cn=isSourceInstance(en)||isArrayLike(en)?new DefaultDataProvider(en,ln.length):en;an=new DataStore$1;var un=map(ln,function(fn){return{type:rn._dimInfos[fn].type,property:fn}});an.initData(cn,un,nn)}this._store=an,this._nameList=(tn||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,an.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},Fe.prototype.appendData=function(en){var tn=this._store.appendData(en);this._doInit(tn[0],tn[1])},Fe.prototype.appendValues=function(en,tn){var nn=this._store.appendValues(en,tn.length),rn=nn.start,an=nn.end,ln=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),tn)for(var cn=rn;cn<an;cn++){var un=cn-rn;this._nameList[cn]=tn[un],ln&&makeIdFromName(this,cn)}},Fe.prototype._updateOrdinalMeta=function(){for(var en=this._store,tn=this.dimensions,nn=0;nn<tn.length;nn++){var rn=this._dimInfos[tn[nn]];rn.ordinalMeta&&en.collectOrdinalMeta(rn.storeDimIndex,rn.ordinalMeta)}},Fe.prototype._shouldMakeIdFromName=function(){var en=this._store.getProvider();return this._idDimIdx==null&&en.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!en.fillStorage},Fe.prototype._doInit=function(en,tn){if(!(en>=tn)){var nn=this._store,rn=nn.getProvider();this._updateOrdinalMeta();var an=this._nameList,ln=this._idList,cn=rn.getSource().sourceFormat,un=cn===SOURCE_FORMAT_ORIGINAL;if(un&&!rn.pure)for(var fn=[],hn=en;hn<tn;hn++){var pn=rn.getItem(hn,fn);if(!this.hasItemOption&&isDataItemOption(pn)&&(this.hasItemOption=!0),pn){var gn=pn.name;an[hn]==null&&gn!=null&&(an[hn]=convertOptionIdName(gn,null));var mn=pn.id;ln[hn]==null&&mn!=null&&(ln[hn]=convertOptionIdName(mn,null))}}if(this._shouldMakeIdFromName())for(var hn=en;hn<tn;hn++)makeIdFromName(this,hn);prepareInvertedIndex(this)}},Fe.prototype.getApproximateExtent=function(en){return this._approximateExtent[en]||this._store.getDataExtent(this._getStoreDimIndex(en))},Fe.prototype.setApproximateExtent=function(en,tn){tn=this.getDimension(tn),this._approximateExtent[tn]=en.slice()},Fe.prototype.getCalculationInfo=function(en){return this._calculationInfo[en]},Fe.prototype.setCalculationInfo=function(en,tn){isObject$1(en)?extend$1(this._calculationInfo,en):this._calculationInfo[en]=tn},Fe.prototype.getName=function(en){var tn=this.getRawIndex(en),nn=this._nameList[tn];return nn==null&&this._nameDimIdx!=null&&(nn=getIdNameFromStore(this,this._nameDimIdx,tn)),nn==null&&(nn=""),nn},Fe.prototype._getCategory=function(en,tn){var nn=this._store.get(en,tn),rn=this._store.getOrdinalMeta(en);return rn?rn.categories[nn]:nn},Fe.prototype.getId=function(en){return getId(this,this.getRawIndex(en))},Fe.prototype.count=function(){return this._store.count()},Fe.prototype.get=function(en,tn){var nn=this._store,rn=this._dimInfos[en];if(rn)return nn.get(rn.storeDimIndex,tn)},Fe.prototype.getByRawIndex=function(en,tn){var nn=this._store,rn=this._dimInfos[en];if(rn)return nn.getByRawIndex(rn.storeDimIndex,tn)},Fe.prototype.getIndices=function(){return this._store.getIndices()},Fe.prototype.getDataExtent=function(en){return this._store.getDataExtent(this._getStoreDimIndex(en))},Fe.prototype.getSum=function(en){return this._store.getSum(this._getStoreDimIndex(en))},Fe.prototype.getMedian=function(en){return this._store.getMedian(this._getStoreDimIndex(en))},Fe.prototype.getValues=function(en,tn){var nn=this,rn=this._store;return isArray$1(en)?rn.getValues(map(en,function(an){return nn._getStoreDimIndex(an)}),tn):rn.getValues(en)},Fe.prototype.hasValue=function(en){for(var tn=this._dimSummary.dataDimIndicesOnCoord,nn=0,rn=tn.length;nn<rn;nn++)if(isNaN(this._store.get(tn[nn],en)))return!1;return!0},Fe.prototype.indexOfName=function(en){for(var tn=0,nn=this._store.count();tn<nn;tn++)if(this.getName(tn)===en)return tn;return-1},Fe.prototype.getRawIndex=function(en){return this._store.getRawIndex(en)},Fe.prototype.indexOfRawIndex=function(en){return this._store.indexOfRawIndex(en)},Fe.prototype.rawIndexOf=function(en,tn){var nn=en&&this._invertedIndicesMap[en],rn=nn[tn];return rn==null||isNaN(rn)?INDEX_NOT_FOUND:rn},Fe.prototype.indicesOfNearest=function(en,tn,nn){return this._store.indicesOfNearest(this._getStoreDimIndex(en),tn,nn)},Fe.prototype.each=function(en,tn,nn){isFunction(en)&&(nn=tn,tn=en,en=[]);var rn=nn||this,an=map(normalizeDimensions(en),this._getStoreDimIndex,this);this._store.each(an,rn?bind$1(tn,rn):tn)},Fe.prototype.filterSelf=function(en,tn,nn){isFunction(en)&&(nn=tn,tn=en,en=[]);var rn=nn||this,an=map(normalizeDimensions(en),this._getStoreDimIndex,this);return this._store=this._store.filter(an,rn?bind$1(tn,rn):tn),this},Fe.prototype.selectRange=function(en){var tn=this,nn={},rn=keys(en);return each$f(rn,function(an){var ln=tn._getStoreDimIndex(an);nn[ln]=en[an]}),this._store=this._store.selectRange(nn),this},Fe.prototype.mapArray=function(en,tn,nn){isFunction(en)&&(nn=tn,tn=en,en=[]),nn=nn||this;var rn=[];return this.each(en,function(){rn.push(tn&&tn.apply(this,arguments))},nn),rn},Fe.prototype.map=function(en,tn,nn,rn){var an=nn||rn||this,ln=map(normalizeDimensions(en),this._getStoreDimIndex,this),cn=cloneListForMapAndSample(this);return cn._store=this._store.map(ln,an?bind$1(tn,an):tn),cn},Fe.prototype.modify=function(en,tn,nn,rn){var an=nn||rn||this,ln=map(normalizeDimensions(en),this._getStoreDimIndex,this);this._store.modify(ln,an?bind$1(tn,an):tn)},Fe.prototype.downSample=function(en,tn,nn,rn){var an=cloneListForMapAndSample(this);return an._store=this._store.downSample(this._getStoreDimIndex(en),tn,nn,rn),an},Fe.prototype.lttbDownSample=function(en,tn){var nn=cloneListForMapAndSample(this);return nn._store=this._store.lttbDownSample(this._getStoreDimIndex(en),tn),nn},Fe.prototype.getRawDataItem=function(en){return this._store.getRawDataItem(en)},Fe.prototype.getItemModel=function(en){var tn=this.hostModel,nn=this.getRawDataItem(en);return new Model$1(nn,tn,tn&&tn.ecModel)},Fe.prototype.diff=function(en){var tn=this;return new DataDiffer$1(en?en.getStore().getIndices():[],this.getStore().getIndices(),function(nn){return getId(en,nn)},function(nn){return getId(tn,nn)})},Fe.prototype.getVisual=function(en){var tn=this._visual;return tn&&tn[en]},Fe.prototype.setVisual=function(en,tn){this._visual=this._visual||{},isObject$1(en)?extend$1(this._visual,en):this._visual[en]=tn},Fe.prototype.getItemVisual=function(en,tn){var nn=this._itemVisuals[en],rn=nn&&nn[tn];return rn??this.getVisual(tn)},Fe.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},Fe.prototype.ensureUniqueItemVisual=function(en,tn){var nn=this._itemVisuals,rn=nn[en];rn||(rn=nn[en]={});var an=rn[tn];return an==null&&(an=this.getVisual(tn),isArray$1(an)?an=an.slice():isObject$1(an)&&(an=extend$1({},an)),rn[tn]=an),an},Fe.prototype.setItemVisual=function(en,tn,nn){var rn=this._itemVisuals[en]||{};this._itemVisuals[en]=rn,isObject$1(tn)?extend$1(rn,tn):rn[tn]=nn},Fe.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},Fe.prototype.setLayout=function(en,tn){isObject$1(en)?extend$1(this._layout,en):this._layout[en]=tn},Fe.prototype.getLayout=function(en){return this._layout[en]},Fe.prototype.getItemLayout=function(en){return this._itemLayouts[en]},Fe.prototype.setItemLayout=function(en,tn,nn){this._itemLayouts[en]=nn?extend$1(this._itemLayouts[en]||{},tn):tn},Fe.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},Fe.prototype.setItemGraphicEl=function(en,tn){var nn=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(nn,this.dataType,en,tn),this._graphicEls[en]=tn},Fe.prototype.getItemGraphicEl=function(en){return this._graphicEls[en]},Fe.prototype.eachItemGraphicEl=function(en,tn){each$f(this._graphicEls,function(nn,rn){nn&&en&&en.call(tn,nn,rn)})},Fe.prototype.cloneShallow=function(en){return en||(en=new Fe(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(en,this),en._store=this._store,en},Fe.prototype.wrapMethod=function(en,tn){var nn=this[en];isFunction(nn)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(en),this[en]=function(){var rn=nn.apply(this,arguments);return tn.apply(this,[rn].concat(slice(arguments)))})},Fe.internalField=function(){prepareInvertedIndex=function(en){var tn=en._invertedIndicesMap;each$f(tn,function(nn,rn){var an=en._dimInfos[rn],ln=an.ordinalMeta,cn=en._store;if(ln){nn=tn[rn]=new CtorInt32Array(ln.categories.length);for(var un=0;un<nn.length;un++)nn[un]=INDEX_NOT_FOUND;for(var un=0;un<cn.count();un++)nn[cn.get(an.storeDimIndex,un)]=un}})},getIdNameFromStore=function(en,tn,nn){return convertOptionIdName(en._getCategory(tn,nn),null)},getId=function(en,tn){var nn=en._idList[tn];return nn==null&&en._idDimIdx!=null&&(nn=getIdNameFromStore(en,en._idDimIdx,tn)),nn==null&&(nn=ID_PREFIX+tn),nn},normalizeDimensions=function(en){return isArray$1(en)||(en=en!=null?[en]:[]),en},cloneListForMapAndSample=function(en){var tn=new Fe(en._schema?en._schema:map(en.dimensions,en._getDimInfo,en),en.hostModel);return transferProperties(tn,en),tn},transferProperties=function(en,tn){each$f(TRANSFERABLE_PROPERTIES.concat(tn.__wrappedMethods||[]),function(nn){tn.hasOwnProperty(nn)&&(en[nn]=tn[nn])}),en.__wrappedMethods=tn.__wrappedMethods,each$f(CLONE_PROPERTIES,function(nn){en[nn]=clone$4(tn[nn])}),en._calculationInfo=extend$1({},tn._calculationInfo)},makeIdFromName=function(en,tn){var nn=en._nameList,rn=en._idList,an=en._nameDimIdx,ln=en._idDimIdx,cn=nn[tn],un=rn[tn];if(cn==null&&an!=null&&(nn[tn]=cn=getIdNameFromStore(en,an,tn)),un==null&&ln!=null&&(rn[tn]=un=getIdNameFromStore(en,ln,tn)),un==null&&cn!=null){var fn=en._nameRepeatCount,hn=fn[cn]=(fn[cn]||0)+1;un=cn,hn>1&&(un+="__ec__"+hn),rn[tn]=un}}}(),Fe}();const SeriesData$1=SeriesData;function createDimensions(Fe,en){return prepareSeriesDataSchema(Fe,en).dimensions}function prepareSeriesDataSchema(Fe,en){isSourceInstance(Fe)||(Fe=createSourceFromSeriesDataOption(Fe)),en=en||{};var tn=en.coordDimensions||[],nn=en.dimensionsDefine||Fe.dimensionsDefine||[],rn=createHashMap(),an=[],ln=getDimCount(Fe,tn,nn,en.dimensionsCount),cn=en.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(ln),un=nn===Fe.dimensionsDefine,fn=un?ensureSourceDimNameMap(Fe):createDimNameMap(nn),hn=en.encodeDefine;!hn&&en.encodeDefaulter&&(hn=en.encodeDefaulter(Fe,ln));for(var pn=createHashMap(hn),gn=new CtorInt32Array$1(ln),mn=0;mn<gn.length;mn++)gn[mn]=-1;function _n(Hn){var Un=gn[Hn];if(Un<0){var jn=nn[Hn],Yn=isObject$3(jn)?jn:{name:jn},Wn=new SeriesDimensionDefine$1,Qn=Yn.name;Qn!=null&&fn.get(Qn)!=null&&(Wn.name=Wn.displayName=Qn),Yn.type!=null&&(Wn.type=Yn.type),Yn.displayName!=null&&(Wn.displayName=Yn.displayName);var Xn=an.length;return gn[Hn]=Xn,Wn.storeDimIndex=Hn,an.push(Wn),Wn}return an[Un]}if(!cn)for(var mn=0;mn<ln;mn++)_n(mn);pn.each(function(Hn,Un){var jn=normalizeToArray(Hn).slice();if(jn.length===1&&!isString(jn[0])&&jn[0]<0){pn.set(Un,!1);return}var Yn=pn.set(Un,[]);each$f(jn,function(Wn,Qn){var Xn=isString(Wn)?fn.get(Wn):Wn;Xn!=null&&Xn<ln&&(Yn[Qn]=Xn,Cn(_n(Xn),Un,Qn))})});var kn=0;each$f(tn,function(Hn){var Un,jn,Yn,Wn;if(isString(Hn))Un=Hn,Wn={};else{Wn=Hn,Un=Wn.name;var Qn=Wn.ordinalMeta;Wn.ordinalMeta=null,Wn=extend$1({},Wn),Wn.ordinalMeta=Qn,jn=Wn.dimsDef,Yn=Wn.otherDims,Wn.name=Wn.coordDim=Wn.coordDimIndex=Wn.dimsDef=Wn.otherDims=null}var Xn=pn.get(Un);if(Xn!==!1){if(Xn=normalizeToArray(Xn),!Xn.length)for(var jr=0;jr<(jn&&jn.length||1);jr++){for(;kn<ln&&_n(kn).coordDim!=null;)kn++;kn<ln&&Xn.push(kn++)}each$f(Xn,function(Wr,Jr){var ci=_n(Wr);if(un&&Wn.type!=null&&(ci.type=Wn.type),Cn(defaults(ci,Wn),Un,Jr),ci.name==null&&jn){var ti=jn[Jr];!isObject$3(ti)&&(ti={name:ti}),ci.name=ci.displayName=ti.name,ci.defaultTooltip=ti.defaultTooltip}Yn&&defaults(ci.otherDims,Yn)})}});function Cn(Hn,Un,jn){VISUAL_DIMENSIONS.get(Un)!=null?Hn.otherDims[Un]=jn:(Hn.coordDim=Un,Hn.coordDimIndex=jn,rn.set(Un,!0))}var xn=en.generateCoord,Sn=en.generateCoordCount,Mn=Sn!=null;Sn=xn?Sn||1:0;var In=xn||"value";function On(Hn){Hn.name==null&&(Hn.name=Hn.coordDim)}if(cn)each$f(an,function(Hn){On(Hn)}),an.sort(function(Hn,Un){return Hn.storeDimIndex-Un.storeDimIndex});else for(var Pn=0;Pn<ln;Pn++){var Tn=_n(Pn),Nn=Tn.coordDim;Nn==null&&(Tn.coordDim=genCoordDimName(In,rn,Mn),Tn.coordDimIndex=0,(!xn||Sn<=0)&&(Tn.isExtraCoord=!0),Sn--),On(Tn),Tn.type==null&&(guessOrdinal(Fe,Pn)===BE_ORDINAL.Must||Tn.isExtraCoord&&(Tn.otherDims.itemName!=null||Tn.otherDims.seriesName!=null))&&(Tn.type="ordinal")}return removeDuplication(an),new SeriesDataSchema({source:Fe,dimensions:an,fullDimensionCount:ln,dimensionOmitted:cn})}function removeDuplication(Fe){for(var en=createHashMap(),tn=0;tn<Fe.length;tn++){var nn=Fe[tn],rn=nn.name,an=en.get(rn)||0;an>0&&(nn.name=rn+(an-1)),an++,en.set(rn,an)}}function getDimCount(Fe,en,tn,nn){var rn=Math.max(Fe.dimensionsDetectedCount||1,en.length,tn.length,nn||0);return each$f(en,function(an){var ln;isObject$3(an)&&(ln=an.dimsDef)&&(rn=Math.max(rn,ln.length))}),rn}function genCoordDimName(Fe,en,tn){if(tn||en.hasKey(Fe)){for(var nn=0;en.hasKey(Fe+nn);)nn++;Fe+=nn}return en.set(Fe,!0),Fe}var CoordSysInfo=function(){function Fe(en){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=en}return Fe}();function getCoordSysInfoBySeries(Fe){var en=Fe.get("coordinateSystem"),tn=new CoordSysInfo(en),nn=fetchers[en];if(nn)return nn(Fe,tn,tn.axisMap,tn.categoryAxisMap),tn}var fetchers={cartesian2d:function(Fe,en,tn,nn){var rn=Fe.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],an=Fe.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];en.coordSysDims=["x","y"],tn.set("x",rn),tn.set("y",an),isCategory(rn)&&(nn.set("x",rn),en.firstCategoryDimIndex=0),isCategory(an)&&(nn.set("y",an),en.firstCategoryDimIndex==null&&(en.firstCategoryDimIndex=1))},singleAxis:function(Fe,en,tn,nn){var rn=Fe.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];en.coordSysDims=["single"],tn.set("single",rn),isCategory(rn)&&(nn.set("single",rn),en.firstCategoryDimIndex=0)},polar:function(Fe,en,tn,nn){var rn=Fe.getReferringComponents("polar",SINGLE_REFERRING).models[0],an=rn.findAxisModel("radiusAxis"),ln=rn.findAxisModel("angleAxis");en.coordSysDims=["radius","angle"],tn.set("radius",an),tn.set("angle",ln),isCategory(an)&&(nn.set("radius",an),en.firstCategoryDimIndex=0),isCategory(ln)&&(nn.set("angle",ln),en.firstCategoryDimIndex==null&&(en.firstCategoryDimIndex=1))},geo:function(Fe,en,tn,nn){en.coordSysDims=["lng","lat"]},parallel:function(Fe,en,tn,nn){var rn=Fe.ecModel,an=rn.getComponent("parallel",Fe.get("parallelIndex")),ln=en.coordSysDims=an.dimensions.slice();each$f(an.parallelAxisIndex,function(cn,un){var fn=rn.getComponent("parallelAxis",cn),hn=ln[un];tn.set(hn,fn),isCategory(fn)&&(nn.set(hn,fn),en.firstCategoryDimIndex==null&&(en.firstCategoryDimIndex=un))})}};function isCategory(Fe){return Fe.get("type")==="category"}function enableDataStack(Fe,en,tn){tn=tn||{};var nn=tn.byIndex,rn=tn.stackedCoordDimension,an,ln,cn;isLegacyDimensionsInput(en)?an=en:(ln=en.schema,an=ln.dimensions,cn=en.store);var un=!!(Fe&&Fe.get("stack")),fn,hn,pn,gn;if(each$f(an,function(Sn,Mn){isString(Sn)&&(an[Mn]=Sn={name:Sn}),un&&!Sn.isExtraCoord&&(!nn&&!fn&&Sn.ordinalMeta&&(fn=Sn),!hn&&Sn.type!=="ordinal"&&Sn.type!=="time"&&(!rn||rn===Sn.coordDim)&&(hn=Sn))}),hn&&!nn&&!fn&&(nn=!0),hn){pn="__\0ecstackresult_"+Fe.id,gn="__\0ecstackedover_"+Fe.id,fn&&(fn.createInvertedIndices=!0);var mn=hn.coordDim,_n=hn.type,kn=0;each$f(an,function(Sn){Sn.coordDim===mn&&kn++});var Cn={name:pn,coordDim:mn,coordDimIndex:kn,type:_n,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:an.length},xn={name:gn,coordDim:gn,coordDimIndex:kn+1,type:_n,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:an.length+1};ln?(cn&&(Cn.storeDimIndex=cn.ensureCalculationDimension(gn,_n),xn.storeDimIndex=cn.ensureCalculationDimension(pn,_n)),ln.appendCalculationDimension(Cn),ln.appendCalculationDimension(xn)):(an.push(Cn),an.push(xn))}return{stackedDimension:hn&&hn.name,stackedByDimension:fn&&fn.name,isStackedByIndex:nn,stackedOverDimension:gn,stackResultDimension:pn}}function isLegacyDimensionsInput(Fe){return!isSeriesDataSchema(Fe.schema)}function isDimensionStacked(Fe,en){return!!en&&en===Fe.getCalculationInfo("stackedDimension")}function getStackedDimension(Fe,en){return isDimensionStacked(Fe,en)?Fe.getCalculationInfo("stackResultDimension"):en}function getCoordSysDimDefs(Fe,en){var tn=Fe.get("coordinateSystem"),nn=CoordinateSystem.get(tn),rn;return en&&en.coordSysDims&&(rn=map$1(en.coordSysDims,function(an){var ln={name:an},cn=en.axisMap.get(an);if(cn){var un=cn.get("type");ln.type=getDimensionTypeByAxis(un)}return ln})),rn||(rn=nn&&(nn.getDimensionsInfo?nn.getDimensionsInfo():nn.dimensions.slice())||["x","y"]),rn}function injectOrdinalMeta(Fe,en,tn){var nn,rn;return tn&&each$f(Fe,function(an,ln){var cn=an.coordDim,un=tn.categoryAxisMap.get(cn);un&&(nn==null&&(nn=ln),an.ordinalMeta=un.getOrdinalMeta(),en&&(an.createInvertedIndices=!0)),an.otherDims.itemName!=null&&(rn=!0)}),!rn&&nn!=null&&(Fe[nn].otherDims.itemName=0),nn}function createSeriesData(Fe,en,tn){tn=tn||{};var nn=en.getSourceManager(),rn,an=!1;Fe?(an=!0,rn=createSourceFromSeriesDataOption(Fe)):(rn=nn.getSource(),an=rn.sourceFormat===SOURCE_FORMAT_ORIGINAL);var ln=getCoordSysInfoBySeries(en),cn=getCoordSysDimDefs(en,ln),un=tn.useEncodeDefaulter,fn=isFunction(un)?un:un?curry$1(makeSeriesEncodeForAxisCoordSys,cn,en):null,hn={coordDimensions:cn,generateCoord:tn.generateCoord,encodeDefine:en.getEncode(),encodeDefaulter:fn,canOmitUnusedDimensions:!an},pn=prepareSeriesDataSchema(rn,hn),gn=injectOrdinalMeta(pn.dimensions,tn.createInvertedIndices,ln),mn=an?null:nn.getSharedDataStore(pn),_n=enableDataStack(en,{schema:pn,store:mn}),kn=new SeriesData$1(pn,en);kn.setCalculationInfo(_n);var Cn=gn!=null&&isNeedCompleteOrdinalData(rn)?function(xn,Sn,Mn,In){return In===gn?Mn:this.defaultDimValueGetter(xn,Sn,Mn,In)}:null;return kn.hasItemOption=!1,kn.initData(an?rn:mn,null,Cn),kn}function isNeedCompleteOrdinalData(Fe){if(Fe.sourceFormat===SOURCE_FORMAT_ORIGINAL){var en=firstDataNotNull(Fe.data||[]);return!isArray$1(getDataItemValue(en))}}function firstDataNotNull(Fe){for(var en=0;en<Fe.length&&Fe[en]==null;)en++;return Fe[en]}var Scale=function(){function Fe(en){this._setting=en||{},this._extent=[1/0,-1/0]}return Fe.prototype.getSetting=function(en){return this._setting[en]},Fe.prototype.unionExtent=function(en){var tn=this._extent;en[0]<tn[0]&&(tn[0]=en[0]),en[1]>tn[1]&&(tn[1]=en[1])},Fe.prototype.unionExtentFromData=function(en,tn){this.unionExtent(en.getApproximateExtent(tn))},Fe.prototype.getExtent=function(){return this._extent.slice()},Fe.prototype.setExtent=function(en,tn){var nn=this._extent;isNaN(en)||(nn[0]=en),isNaN(tn)||(nn[1]=tn)},Fe.prototype.isInExtentRange=function(en){return this._extent[0]<=en&&this._extent[1]>=en},Fe.prototype.isBlank=function(){return this._isBlank},Fe.prototype.setBlank=function(en){this._isBlank=en},Fe}();enableClassManagement(Scale);const Scale$1=Scale;var uidBase=0,OrdinalMeta=function(){function Fe(en){this.categories=en.categories||[],this._needCollect=en.needCollect,this._deduplication=en.deduplication,this.uid=++uidBase}return Fe.createByAxisModel=function(en){var tn=en.option,nn=tn.data,rn=nn&&map$1(nn,getName);return new Fe({categories:rn,needCollect:!rn,deduplication:tn.dedplication!==!1})},Fe.prototype.getOrdinal=function(en){return this._getOrCreateMap().get(en)},Fe.prototype.parseAndCollect=function(en){var tn,nn=this._needCollect;if(!isString(en)&&!nn)return en;if(nn&&!this._deduplication)return tn=this.categories.length,this.categories[tn]=en,tn;var rn=this._getOrCreateMap();return tn=rn.get(en),tn==null&&(nn?(tn=this.categories.length,this.categories[tn]=en,rn.set(en,tn)):tn=NaN),tn},Fe.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},Fe}();function getName(Fe){return isObject$3(Fe)&&Fe.value!=null?Fe.value:Fe+""}const OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale(Fe){return Fe.type==="interval"||Fe.type==="log"}function intervalScaleNiceTicks(Fe,en,tn,nn){var rn={},an=Fe[1]-Fe[0],ln=rn.interval=nice(an/en,!0);tn!=null&&ln<tn&&(ln=rn.interval=tn),nn!=null&&ln>nn&&(ln=rn.interval=nn);var cn=rn.intervalPrecision=getIntervalPrecision(ln),un=rn.niceTickExtent=[round$3(Math.ceil(Fe[0]/ln)*ln,cn),round$3(Math.floor(Fe[1]/ln)*ln,cn)];return fixExtent(un,Fe),rn}function increaseInterval(Fe){var en=Math.pow(10,quantityExponent(Fe)),tn=Fe/en;return tn?tn===2?tn=3:tn===3?tn=5:tn*=2:tn=1,round$3(tn*en)}function getIntervalPrecision(Fe){return getPrecision(Fe)+2}function clamp(Fe,en,tn){Fe[en]=Math.max(Math.min(Fe[en],tn[1]),tn[0])}function fixExtent(Fe,en){!isFinite(Fe[0])&&(Fe[0]=en[0]),!isFinite(Fe[1])&&(Fe[1]=en[1]),clamp(Fe,0,en),clamp(Fe,1,en),Fe[0]>Fe[1]&&(Fe[0]=Fe[1])}function contain$1(Fe,en){return Fe>=en[0]&&Fe<=en[1]}function normalize$2(Fe,en){return en[1]===en[0]?.5:(Fe-en[0])/(en[1]-en[0])}function scale(Fe,en){return Fe*(en[1]-en[0])+en[0]}var OrdinalScale=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;nn.type="ordinal";var rn=nn.getSetting("ordinalMeta");return rn||(rn=new OrdinalMeta$1({})),isArray$1(rn)&&(rn=new OrdinalMeta$1({categories:map$1(rn,function(an){return isObject$3(an)?an.value:an})})),nn._ordinalMeta=rn,nn._extent=nn.getSetting("extent")||[0,rn.categories.length-1],nn}return en.prototype.parse=function(tn){return tn==null?NaN:isString(tn)?this._ordinalMeta.getOrdinal(tn):Math.round(tn)},en.prototype.contain=function(tn){return tn=this.parse(tn),contain$1(tn,this._extent)&&this._ordinalMeta.categories[tn]!=null},en.prototype.normalize=function(tn){return tn=this._getTickNumber(this.parse(tn)),normalize$2(tn,this._extent)},en.prototype.scale=function(tn){return tn=Math.round(scale(tn,this._extent)),this.getRawOrdinalNumber(tn)},en.prototype.getTicks=function(){for(var tn=[],nn=this._extent,rn=nn[0];rn<=nn[1];)tn.push({value:rn}),rn++;return tn},en.prototype.getMinorTicks=function(tn){},en.prototype.setSortInfo=function(tn){if(tn==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var nn=tn.ordinalNumbers,rn=this._ordinalNumbersByTick=[],an=this._ticksByOrdinalNumber=[],ln=0,cn=this._ordinalMeta.categories.length,un=Math.min(cn,nn.length);ln<un;++ln){var fn=nn[ln];rn[ln]=fn,an[fn]=ln}for(var hn=0;ln<cn;++ln){for(;an[hn]!=null;)hn++;rn.push(hn),an[hn]=ln}},en.prototype._getTickNumber=function(tn){var nn=this._ticksByOrdinalNumber;return nn&&tn>=0&&tn<nn.length?nn[tn]:tn},en.prototype.getRawOrdinalNumber=function(tn){var nn=this._ordinalNumbersByTick;return nn&&tn>=0&&tn<nn.length?nn[tn]:tn},en.prototype.getLabel=function(tn){if(!this.isBlank()){var nn=this.getRawOrdinalNumber(tn.value),rn=this._ordinalMeta.categories[nn];return rn==null?"":rn+""}},en.prototype.count=function(){return this._extent[1]-this._extent[0]+1},en.prototype.unionExtentFromData=function(tn,nn){this.unionExtent(tn.getApproximateExtent(nn))},en.prototype.isInExtentRange=function(tn){return tn=this._getTickNumber(tn),this._extent[0]<=tn&&this._extent[1]>=tn},en.prototype.getOrdinalMeta=function(){return this._ordinalMeta},en.prototype.calcNiceTicks=function(){},en.prototype.calcNiceExtent=function(){},en.type="ordinal",en}(Scale$1);Scale$1.registerClass(OrdinalScale);const OrdinalScale$1=OrdinalScale;var roundNumber=round$3,IntervalScale=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type="interval",tn._interval=0,tn._intervalPrecision=2,tn}return en.prototype.parse=function(tn){return tn},en.prototype.contain=function(tn){return contain$1(tn,this._extent)},en.prototype.normalize=function(tn){return normalize$2(tn,this._extent)},en.prototype.scale=function(tn){return scale(tn,this._extent)},en.prototype.setExtent=function(tn,nn){var rn=this._extent;isNaN(tn)||(rn[0]=parseFloat(tn)),isNaN(nn)||(rn[1]=parseFloat(nn))},en.prototype.unionExtent=function(tn){var nn=this._extent;tn[0]<nn[0]&&(nn[0]=tn[0]),tn[1]>nn[1]&&(nn[1]=tn[1]),this.setExtent(nn[0],nn[1])},en.prototype.getInterval=function(){return this._interval},en.prototype.setInterval=function(tn){this._interval=tn,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(tn)},en.prototype.getTicks=function(tn){var nn=this._interval,rn=this._extent,an=this._niceExtent,ln=this._intervalPrecision,cn=[];if(!nn)return cn;var un=1e4;rn[0]<an[0]&&(tn?cn.push({value:roundNumber(an[0]-nn,ln)}):cn.push({value:rn[0]}));for(var fn=an[0];fn<=an[1]&&(cn.push({value:fn}),fn=roundNumber(fn+nn,ln),fn!==cn[cn.length-1].value);)if(cn.length>un)return[];var hn=cn.length?cn[cn.length-1].value:an[1];return rn[1]>hn&&(tn?cn.push({value:roundNumber(hn+nn,ln)}):cn.push({value:rn[1]})),cn},en.prototype.getMinorTicks=function(tn){for(var nn=this.getTicks(!0),rn=[],an=this.getExtent(),ln=1;ln<nn.length;ln++){for(var cn=nn[ln],un=nn[ln-1],fn=0,hn=[],pn=cn.value-un.value,gn=pn/tn;fn<tn-1;){var mn=roundNumber(un.value+(fn+1)*gn);mn>an[0]&&mn<an[1]&&hn.push(mn),fn++}rn.push(hn)}return rn},en.prototype.getLabel=function(tn,nn){if(tn==null)return"";var rn=nn&&nn.precision;rn==null?rn=getPrecision(tn.value)||0:rn==="auto"&&(rn=this._intervalPrecision);var an=roundNumber(tn.value,rn,!0);return addCommas(an)},en.prototype.calcNiceTicks=function(tn,nn,rn){tn=tn||5;var an=this._extent,ln=an[1]-an[0];if(isFinite(ln)){ln<0&&(ln=-ln,an.reverse());var cn=intervalScaleNiceTicks(an,tn,nn,rn);this._intervalPrecision=cn.intervalPrecision,this._interval=cn.interval,this._niceExtent=cn.niceTickExtent}},en.prototype.calcNiceExtent=function(tn){var nn=this._extent;if(nn[0]===nn[1])if(nn[0]!==0){var rn=Math.abs(nn[0]);tn.fixMax||(nn[1]+=rn/2),nn[0]-=rn/2}else nn[1]=1;var an=nn[1]-nn[0];isFinite(an)||(nn[0]=0,nn[1]=1),this.calcNiceTicks(tn.splitNumber,tn.minInterval,tn.maxInterval);var ln=this._interval;tn.fixMin||(nn[0]=roundNumber(Math.floor(nn[0]/ln)*ln)),tn.fixMax||(nn[1]=roundNumber(Math.ceil(nn[1]/ln)*ln))},en.prototype.setNiceExtent=function(tn,nn){this._niceExtent=[tn,nn]},en.type="interval",en}(Scale$1);Scale$1.registerClass(IntervalScale);const IntervalScale$1=IntervalScale;var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(Fe){return isArray$1(Fe)?supportFloat32Array?new Float32Array(Fe):Fe:new Float32ArrayCtor(Fe)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(Fe){return Fe.get("stack")||STACK_PREFIX+Fe.seriesIndex}function getAxisKey$1(Fe){return Fe.dim+Fe.index}function getLayoutOnAxis(Fe){var en=[],tn=Fe.axis,nn="axis0";if(tn.type==="category"){for(var rn=tn.getBandWidth(),an=0;an<Fe.count;an++)en.push(defaults({bandWidth:rn,axisKey:nn,stackId:STACK_PREFIX+an},Fe));for(var ln=doCalBarWidthAndOffset(en),cn=[],an=0;an<Fe.count;an++){var un=ln[nn][STACK_PREFIX+an];un.offsetCenter=un.offset+un.width/2,cn.push(un)}return cn}}function prepareLayoutBarSeries(Fe,en){var tn=[];return en.eachSeriesByType(Fe,function(nn){isOnCartesian(nn)&&tn.push(nn)}),tn}function getValueAxesMinGaps(Fe){var en={};each$f(Fe,function(un){var fn=un.coordinateSystem,hn=fn.getBaseAxis();if(!(hn.type!=="time"&&hn.type!=="value"))for(var pn=un.getData(),gn=hn.dim+"_"+hn.index,mn=pn.getDimensionIndex(pn.mapDimension(hn.dim)),_n=pn.getStore(),kn=0,Cn=_n.count();kn<Cn;++kn){var xn=_n.get(mn,kn);en[gn]?en[gn].push(xn):en[gn]=[xn]}});var tn={};for(var nn in en)if(en.hasOwnProperty(nn)){var rn=en[nn];if(rn){rn.sort(function(un,fn){return un-fn});for(var an=null,ln=1;ln<rn.length;++ln){var cn=rn[ln]-rn[ln-1];cn>0&&(an=an===null?cn:Math.min(an,cn))}tn[nn]=an}}return tn}function makeColumnLayout(Fe){var en=getValueAxesMinGaps(Fe),tn=[];return each$f(Fe,function(nn){var rn=nn.coordinateSystem,an=rn.getBaseAxis(),ln=an.getExtent(),cn;if(an.type==="category")cn=an.getBandWidth();else if(an.type==="value"||an.type==="time"){var un=an.dim+"_"+an.index,fn=en[un],hn=Math.abs(ln[1]-ln[0]),pn=an.scale.getExtent(),gn=Math.abs(pn[1]-pn[0]);cn=fn?hn/gn*fn:hn}else{var mn=nn.getData();cn=Math.abs(ln[1]-ln[0])/mn.count()}var _n=parsePercent(nn.get("barWidth"),cn),kn=parsePercent(nn.get("barMaxWidth"),cn),Cn=parsePercent(nn.get("barMinWidth")||(isInLargeMode(nn)?.5:1),cn),xn=nn.get("barGap"),Sn=nn.get("barCategoryGap");tn.push({bandWidth:cn,barWidth:_n,barMaxWidth:kn,barMinWidth:Cn,barGap:xn,barCategoryGap:Sn,axisKey:getAxisKey$1(an),stackId:getSeriesStackId$1(nn)})}),doCalBarWidthAndOffset(tn)}function doCalBarWidthAndOffset(Fe){var en={};each$f(Fe,function(nn,rn){var an=nn.axisKey,ln=nn.bandWidth,cn=en[an]||{bandWidth:ln,remainedWidth:ln,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},un=cn.stacks;en[an]=cn;var fn=nn.stackId;un[fn]||cn.autoWidthCount++,un[fn]=un[fn]||{width:0,maxWidth:0};var hn=nn.barWidth;hn&&!un[fn].width&&(un[fn].width=hn,hn=Math.min(cn.remainedWidth,hn),cn.remainedWidth-=hn);var pn=nn.barMaxWidth;pn&&(un[fn].maxWidth=pn);var gn=nn.barMinWidth;gn&&(un[fn].minWidth=gn);var mn=nn.barGap;mn!=null&&(cn.gap=mn);var _n=nn.barCategoryGap;_n!=null&&(cn.categoryGap=_n)});var tn={};return each$f(en,function(nn,rn){tn[rn]={};var an=nn.stacks,ln=nn.bandWidth,cn=nn.categoryGap;if(cn==null){var un=keys(an).length;cn=Math.max(35-un*4,15)+"%"}var fn=parsePercent(cn,ln),hn=parsePercent(nn.gap,1),pn=nn.remainedWidth,gn=nn.autoWidthCount,mn=(pn-fn)/(gn+(gn-1)*hn);mn=Math.max(mn,0),each$f(an,function(xn){var Sn=xn.maxWidth,Mn=xn.minWidth;if(xn.width){var In=xn.width;Sn&&(In=Math.min(In,Sn)),Mn&&(In=Math.max(In,Mn)),xn.width=In,pn-=In+hn*In,gn--}else{var In=mn;Sn&&Sn<In&&(In=Math.min(Sn,pn)),Mn&&Mn>In&&(In=Mn),In!==mn&&(xn.width=In,pn-=In+hn*In,gn--)}}),mn=(pn-fn)/(gn+(gn-1)*hn),mn=Math.max(mn,0);var _n=0,kn;each$f(an,function(xn,Sn){xn.width||(xn.width=mn),kn=xn,_n+=xn.width*(1+hn)}),kn&&(_n-=kn.width*hn);var Cn=-_n/2;each$f(an,function(xn,Sn){tn[rn][Sn]=tn[rn][Sn]||{bandWidth:ln,offset:Cn,width:xn.width},Cn+=xn.width*(1+hn)})}),tn}function retrieveColumnLayout(Fe,en,tn){if(Fe&&en){var nn=Fe[getAxisKey$1(en)];return nn!=null&&tn!=null?nn[getSeriesStackId$1(tn)]:nn}}function layout$3(Fe,en){var tn=prepareLayoutBarSeries(Fe,en),nn=makeColumnLayout(tn);each$f(tn,function(rn){var an=rn.getData(),ln=rn.coordinateSystem,cn=ln.getBaseAxis(),un=getSeriesStackId$1(rn),fn=nn[getAxisKey$1(cn)][un],hn=fn.offset,pn=fn.width;an.setLayout({bandWidth:fn.bandWidth,offset:hn,size:pn})})}function createProgressiveLayout(Fe){return{seriesType:Fe,plan:createRenderPlanner(),reset:function(en){if(isOnCartesian(en)){var tn=en.getData(),nn=en.coordinateSystem,rn=nn.getBaseAxis(),an=nn.getOtherAxis(rn),ln=tn.getDimensionIndex(tn.mapDimension(an.dim)),cn=tn.getDimensionIndex(tn.mapDimension(rn.dim)),un=en.get("showBackground",!0),fn=tn.mapDimension(an.dim),hn=tn.getCalculationInfo("stackResultDimension"),pn=isDimensionStacked(tn,fn)&&!!tn.getCalculationInfo("stackedOnSeries"),gn=an.isHorizontal(),mn=getValueAxisStart(rn,an),_n=isInLargeMode(en),kn=en.get("barMinHeight")||0,Cn=hn&&tn.getDimensionIndex(hn),xn=tn.getLayout("size"),Sn=tn.getLayout("offset");return{progress:function(Mn,In){for(var On=Mn.count,Pn=_n&&createFloat32Array(On*3),Tn=_n&&un&&createFloat32Array(On*3),Nn=_n&&createFloat32Array(On),Hn=nn.master.getRect(),Un=gn?Hn.width:Hn.height,jn,Yn=In.getStore(),Wn=0;(jn=Mn.next())!=null;){var Qn=Yn.get(pn?Cn:ln,jn),Xn=Yn.get(cn,jn),jr=mn,Wr=void 0;pn&&(Wr=+Qn-Yn.get(ln,jn));var Jr=void 0,ci=void 0,ti=void 0,Zr=void 0;if(gn){var Br=nn.dataToPoint([Qn,Xn]);if(pn){var Jn=nn.dataToPoint([Wr,Xn]);jr=Jn[0]}Jr=jr,ci=Br[1]+Sn,ti=Br[0]-jr,Zr=xn,Math.abs(ti)<kn&&(ti=(ti<0?-1:1)*kn)}else{var Br=nn.dataToPoint([Xn,Qn]);if(pn){var Jn=nn.dataToPoint([Xn,Wr]);jr=Jn[1]}Jr=Br[0]+Sn,ci=jr,ti=xn,Zr=Br[1]-jr,Math.abs(Zr)<kn&&(Zr=(Zr<=0?-1:1)*kn)}_n?(Pn[Wn]=Jr,Pn[Wn+1]=ci,Pn[Wn+2]=gn?ti:Zr,Tn&&(Tn[Wn]=gn?Hn.x:Jr,Tn[Wn+1]=gn?ci:Hn.y,Tn[Wn+2]=Un),Nn[jn]=jn):In.setItemLayout(jn,{x:Jr,y:ci,width:ti,height:Zr}),Wn+=3}_n&&In.setLayout({largePoints:Pn,largeDataIndices:Nn,largeBackgroundPoints:Tn,valueAxisHorizontal:gn})}}}}}}function isOnCartesian(Fe){return Fe.coordinateSystem&&Fe.coordinateSystem.type==="cartesian2d"}function isInLargeMode(Fe){return Fe.pipelineContext&&Fe.pipelineContext.large}function getValueAxisStart(Fe,en){return en.toGlobalCoord(en.dataToCoord(en.type==="log"?1:0))}var bisect=function(Fe,en,tn,nn){for(;tn<nn;){var rn=tn+nn>>>1;Fe[rn][1]<en?tn=rn+1:nn=rn}return tn},TimeScale=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="time",nn}return en.prototype.getLabel=function(tn){var nn=this.getSetting("useUTC");return format$1(tn.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,nn,this.getSetting("locale"))},en.prototype.getFormattedLabel=function(tn,nn,rn){var an=this.getSetting("useUTC"),ln=this.getSetting("locale");return leveledFormat(tn,nn,rn,ln,an)},en.prototype.getTicks=function(){var tn=this._interval,nn=this._extent,rn=[];if(!tn)return rn;rn.push({value:nn[0],level:0});var an=this.getSetting("useUTC"),ln=getIntervalTicks(this._minLevelUnit,this._approxInterval,an,nn);return rn=rn.concat(ln),rn.push({value:nn[1],level:0}),rn},en.prototype.calcNiceExtent=function(tn){var nn=this._extent;if(nn[0]===nn[1]&&(nn[0]-=ONE_DAY,nn[1]+=ONE_DAY),nn[1]===-1/0&&nn[0]===1/0){var rn=new Date;nn[1]=+new Date(rn.getFullYear(),rn.getMonth(),rn.getDate()),nn[0]=nn[1]-ONE_DAY}this.calcNiceTicks(tn.splitNumber,tn.minInterval,tn.maxInterval)},en.prototype.calcNiceTicks=function(tn,nn,rn){tn=tn||10;var an=this._extent,ln=an[1]-an[0];this._approxInterval=ln/tn,nn!=null&&this._approxInterval<nn&&(this._approxInterval=nn),rn!=null&&this._approxInterval>rn&&(this._approxInterval=rn);var cn=scaleIntervals.length,un=Math.min(bisect(scaleIntervals,this._approxInterval,0,cn),cn-1);this._interval=scaleIntervals[un][1],this._minLevelUnit=scaleIntervals[Math.max(un-1,0)][0]},en.prototype.parse=function(tn){return isNumber(tn)?tn:+parseDate(tn)},en.prototype.contain=function(tn){return contain$1(this.parse(tn),this._extent)},en.prototype.normalize=function(tn){return normalize$2(this.parse(tn),this._extent)},en.prototype.scale=function(tn){return scale(tn,this._extent)},en.type="time",en}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(Fe,en,tn,nn){var rn=parseDate(en),an=parseDate(tn),ln=function(_n){return getUnitValue(rn,_n,nn)===getUnitValue(an,_n,nn)},cn=function(){return ln("year")},un=function(){return cn()&&ln("month")},fn=function(){return un()&&ln("day")},hn=function(){return fn()&&ln("hour")},pn=function(){return hn()&&ln("minute")},gn=function(){return pn()&&ln("second")},mn=function(){return gn()&&ln("millisecond")};switch(Fe){case"year":return cn();case"month":return un();case"day":return fn();case"hour":return hn();case"minute":return pn();case"second":return gn();case"millisecond":return mn()}}function getDateInterval(Fe,en){return Fe/=ONE_DAY,Fe>16?16:Fe>7.5?7:Fe>3.5?4:Fe>1.5?2:1}function getMonthInterval(Fe){var en=30*ONE_DAY;return Fe/=en,Fe>6?6:Fe>3?3:Fe>2?2:1}function getHourInterval(Fe){return Fe/=ONE_HOUR,Fe>12?12:Fe>6?6:Fe>3.5?4:Fe>2?2:1}function getMinutesAndSecondsInterval(Fe,en){return Fe/=en?ONE_MINUTE:ONE_SECOND,Fe>30?30:Fe>20?20:Fe>15?15:Fe>10?10:Fe>5?5:Fe>2?2:1}function getMillisecondsInterval(Fe){return nice(Fe,!0)}function getFirstTimestampOfUnit(Fe,en,tn){var nn=new Date(Fe);switch(getPrimaryTimeUnit(en)){case"year":case"month":nn[monthSetterName(tn)](0);case"day":nn[dateSetterName(tn)](1);case"hour":nn[hoursSetterName(tn)](0);case"minute":nn[minutesSetterName(tn)](0);case"second":nn[secondsSetterName(tn)](0),nn[millisecondsSetterName(tn)](0)}return nn.getTime()}function getIntervalTicks(Fe,en,tn,nn){var rn=1e4,an=timeUnits,ln=0;function cn(Un,jn,Yn,Wn,Qn,Xn,jr){for(var Wr=new Date(jn),Jr=jn,ci=Wr[Wn]();Jr<Yn&&Jr<=nn[1];)jr.push({value:Jr}),ci+=Un,Wr[Qn](ci),Jr=Wr.getTime();jr.push({value:Jr,notAdd:!0})}function un(Un,jn,Yn){var Wn=[],Qn=!jn.length;if(!isUnitValueSame(getPrimaryTimeUnit(Un),nn[0],nn[1],tn)){Qn&&(jn=[{value:getFirstTimestampOfUnit(new Date(nn[0]),Un,tn)},{value:nn[1]}]);for(var Xn=0;Xn<jn.length-1;Xn++){var jr=jn[Xn].value,Wr=jn[Xn+1].value;if(jr!==Wr){var Jr=void 0,ci=void 0,ti=void 0,Zr=!1;switch(Un){case"year":Jr=Math.max(1,Math.round(en/ONE_DAY/365)),ci=fullYearGetterName(tn),ti=fullYearSetterName(tn);break;case"half-year":case"quarter":case"month":Jr=getMonthInterval(en),ci=monthGetterName(tn),ti=monthSetterName(tn);break;case"week":case"half-week":case"day":Jr=getDateInterval(en),ci=dateGetterName(tn),ti=dateSetterName(tn),Zr=!0;break;case"half-day":case"quarter-day":case"hour":Jr=getHourInterval(en),ci=hoursGetterName(tn),ti=hoursSetterName(tn);break;case"minute":Jr=getMinutesAndSecondsInterval(en,!0),ci=minutesGetterName(tn),ti=minutesSetterName(tn);break;case"second":Jr=getMinutesAndSecondsInterval(en,!1),ci=secondsGetterName(tn),ti=secondsSetterName(tn);break;case"millisecond":Jr=getMillisecondsInterval(en),ci=millisecondsGetterName(tn),ti=millisecondsSetterName(tn);break}cn(Jr,jr,Wr,ci,ti,Zr,Wn),Un==="year"&&Yn.length>1&&Xn===0&&Yn.unshift({value:Yn[0].value-Jr})}}for(var Xn=0;Xn<Wn.length;Xn++)Yn.push(Wn[Xn]);return Wn}}for(var fn=[],hn=[],pn=0,gn=0,mn=0;mn<an.length&&ln++<rn;++mn){var _n=getPrimaryTimeUnit(an[mn]);if(isPrimaryTimeUnit(an[mn])){un(an[mn],fn[fn.length-1]||[],hn);var kn=an[mn+1]?getPrimaryTimeUnit(an[mn+1]):null;if(_n!==kn){if(hn.length){gn=pn,hn.sort(function(Un,jn){return Un.value-jn.value});for(var Cn=[],xn=0;xn<hn.length;++xn){var Sn=hn[xn].value;(xn===0||hn[xn-1].value!==Sn)&&(Cn.push(hn[xn]),Sn>=nn[0]&&Sn<=nn[1]&&pn++)}var Mn=(nn[1]-nn[0])/en;if(pn>Mn*1.5&&gn>Mn/1.5||(fn.push(Cn),pn>Mn||Fe===an[mn]))break}hn=[]}}}for(var In=filter(map$1(fn,function(Un){return filter(Un,function(jn){return jn.value>=nn[0]&&jn.value<=nn[1]&&!jn.notAdd})}),function(Un){return Un.length>0}),On=[],Pn=In.length-1,mn=0;mn<In.length;++mn)for(var Tn=In[mn],Nn=0;Nn<Tn.length;++Nn)On.push({value:Tn[Nn].value,level:Pn-mn});On.sort(function(Un,jn){return Un.value-jn.value});for(var Hn=[],mn=0;mn<On.length;++mn)(mn===0||On[mn].value!==On[mn-1].value)&&Hn.push(On[mn]);return Hn}Scale$1.registerClass(TimeScale);const TimeScale$1=TimeScale;var scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type="log",tn.base=10,tn._originalScale=new IntervalScale$1,tn._interval=0,tn}return en.prototype.getTicks=function(tn){var nn=this._originalScale,rn=this._extent,an=nn.getExtent(),ln=intervalScaleProto.getTicks.call(this,tn);return map$1(ln,function(cn){var un=cn.value,fn=round$3(mathPow$1(this.base,un));return fn=un===rn[0]&&this._fixMin?fixRoundingError(fn,an[0]):fn,fn=un===rn[1]&&this._fixMax?fixRoundingError(fn,an[1]):fn,{value:fn}},this)},en.prototype.setExtent=function(tn,nn){var rn=mathLog$1(this.base);tn=mathLog$1(Math.max(0,tn))/rn,nn=mathLog$1(Math.max(0,nn))/rn,intervalScaleProto.setExtent.call(this,tn,nn)},en.prototype.getExtent=function(){var tn=this.base,nn=scaleProto.getExtent.call(this);nn[0]=mathPow$1(tn,nn[0]),nn[1]=mathPow$1(tn,nn[1]);var rn=this._originalScale,an=rn.getExtent();return this._fixMin&&(nn[0]=fixRoundingError(nn[0],an[0])),this._fixMax&&(nn[1]=fixRoundingError(nn[1],an[1])),nn},en.prototype.unionExtent=function(tn){this._originalScale.unionExtent(tn);var nn=this.base;tn[0]=mathLog$1(tn[0])/mathLog$1(nn),tn[1]=mathLog$1(tn[1])/mathLog$1(nn),scaleProto.unionExtent.call(this,tn)},en.prototype.unionExtentFromData=function(tn,nn){this.unionExtent(tn.getApproximateExtent(nn))},en.prototype.calcNiceTicks=function(tn){tn=tn||10;var nn=this._extent,rn=nn[1]-nn[0];if(!(rn===1/0||rn<=0)){var an=quantity(rn),ln=tn/rn*an;for(ln<=.5&&(an*=10);!isNaN(an)&&Math.abs(an)<1&&Math.abs(an)>0;)an*=10;var cn=[round$3(mathCeil$1(nn[0]/an)*an),round$3(mathFloor$1(nn[1]/an)*an)];this._interval=an,this._niceExtent=cn}},en.prototype.calcNiceExtent=function(tn){intervalScaleProto.calcNiceExtent.call(this,tn),this._fixMin=tn.fixMin,this._fixMax=tn.fixMax},en.prototype.parse=function(tn){return tn},en.prototype.contain=function(tn){return tn=mathLog$1(tn)/mathLog$1(this.base),contain$1(tn,this._extent)},en.prototype.normalize=function(tn){return tn=mathLog$1(tn)/mathLog$1(this.base),normalize$2(tn,this._extent)},en.prototype.scale=function(tn){return tn=scale(tn,this._extent),mathPow$1(this.base,tn)},en.type="log",en}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(Fe,en){return roundingErrorFix(Fe,getPrecision(en))}Scale$1.registerClass(LogScale);const LogScale$1=LogScale;var ScaleRawExtentInfo=function(){function Fe(en,tn,nn){this._prepareParams(en,tn,nn)}return Fe.prototype._prepareParams=function(en,tn,nn){nn[1]<nn[0]&&(nn=[NaN,NaN]),this._dataMin=nn[0],this._dataMax=nn[1];var rn=this._isOrdinal=en.type==="ordinal";this._needCrossZero=en.type==="interval"&&tn.getNeedCrossZero&&tn.getNeedCrossZero();var an=this._modelMinRaw=tn.get("min",!0);isFunction(an)?this._modelMinNum=parseAxisModelMinMax(en,an({min:nn[0],max:nn[1]})):an!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(en,an));var ln=this._modelMaxRaw=tn.get("max",!0);if(isFunction(ln)?this._modelMaxNum=parseAxisModelMinMax(en,ln({min:nn[0],max:nn[1]})):ln!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(en,ln)),rn)this._axisDataLen=tn.getCategories().length;else{var cn=tn.get("boundaryGap"),un=isArray$1(cn)?cn:[cn||0,cn||0];typeof un[0]=="boolean"||typeof un[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(un[0],1),parsePercent$1(un[1],1)]}},Fe.prototype.calculate=function(){var en=this._isOrdinal,tn=this._dataMin,nn=this._dataMax,rn=this._axisDataLen,an=this._boundaryGapInner,ln=en?null:nn-tn||Math.abs(tn),cn=this._modelMinRaw==="dataMin"?tn:this._modelMinNum,un=this._modelMaxRaw==="dataMax"?nn:this._modelMaxNum,fn=cn!=null,hn=un!=null;cn==null&&(cn=en?rn?0:NaN:tn-an[0]*ln),un==null&&(un=en?rn?rn-1:NaN:nn+an[1]*ln),(cn==null||!isFinite(cn))&&(cn=NaN),(un==null||!isFinite(un))&&(un=NaN);var pn=eqNaN(cn)||eqNaN(un)||en&&!rn;this._needCrossZero&&(cn>0&&un>0&&!fn&&(cn=0),cn<0&&un<0&&!hn&&(un=0));var gn=this._determinedMin,mn=this._determinedMax;return gn!=null&&(cn=gn,fn=!0),mn!=null&&(un=mn,hn=!0),{min:cn,max:un,minFixed:fn,maxFixed:hn,isBlank:pn}},Fe.prototype.modifyDataMinMax=function(en,tn){this[DATA_MIN_MAX_ATTR[en]]=tn},Fe.prototype.setDeterminedMinMax=function(en,tn){var nn=DETERMINED_MIN_MAX_ATTR[en];this[nn]=tn},Fe.prototype.freeze=function(){this.frozen=!0},Fe}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(Fe,en,tn){var nn=Fe.rawExtentInfo;return nn||(nn=new ScaleRawExtentInfo(Fe,en,tn),Fe.rawExtentInfo=nn,nn)}function parseAxisModelMinMax(Fe,en){return en==null?null:eqNaN(en)?NaN:Fe.parse(en)}function getScaleExtent(Fe,en){var tn=Fe.type,nn=ensureScaleRawExtentInfo(Fe,en,Fe.getExtent()).calculate();Fe.setBlank(nn.isBlank);var rn=nn.min,an=nn.max,ln=en.ecModel;if(ln&&tn==="time"){var cn=prepareLayoutBarSeries("bar",ln),un=!1;if(each$f(cn,function(pn){un=un||pn.getBaseAxis()===en.axis}),un){var fn=makeColumnLayout(cn),hn=adjustScaleForOverflow(rn,an,en,fn);rn=hn.min,an=hn.max}}return{extent:[rn,an],fixMin:nn.minFixed,fixMax:nn.maxFixed}}function adjustScaleForOverflow(Fe,en,tn,nn){var rn=tn.axis.getExtent(),an=rn[1]-rn[0],ln=retrieveColumnLayout(nn,tn.axis);if(ln===void 0)return{min:Fe,max:en};var cn=1/0;each$f(ln,function(mn){cn=Math.min(mn.offset,cn)});var un=-1/0;each$f(ln,function(mn){un=Math.max(mn.offset+mn.width,un)}),cn=Math.abs(cn),un=Math.abs(un);var fn=cn+un,hn=en-Fe,pn=1-(cn+un)/an,gn=hn/pn-hn;return en+=gn*(un/fn),Fe-=gn*(cn/fn),{min:Fe,max:en}}function niceScaleExtent(Fe,en){var tn=en,nn=getScaleExtent(Fe,tn),rn=nn.extent,an=tn.get("splitNumber");Fe instanceof LogScale$1&&(Fe.base=tn.get("logBase"));var ln=Fe.type,cn=tn.get("interval"),un=ln==="interval"||ln==="time";Fe.setExtent(rn[0],rn[1]),Fe.calcNiceExtent({splitNumber:an,fixMin:nn.fixMin,fixMax:nn.fixMax,minInterval:un?tn.get("minInterval"):null,maxInterval:un?tn.get("maxInterval"):null}),cn!=null&&Fe.setInterval&&Fe.setInterval(cn)}function createScaleByModel$1(Fe,en){if(en=en||Fe.get("type"),en)switch(en){case"category":return new OrdinalScale$1({ordinalMeta:Fe.getOrdinalMeta?Fe.getOrdinalMeta():Fe.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:Fe.ecModel.getLocaleModel(),useUTC:Fe.ecModel.get("useUTC")});default:return new(Scale$1.getClass(en)||IntervalScale$1)}}function ifAxisCrossZero(Fe){var en=Fe.scale.getExtent(),tn=en[0],nn=en[1];return!(tn>0&&nn>0||tn<0&&nn<0)}function makeLabelFormatter(Fe){var en=Fe.getLabelModel().get("formatter"),tn=Fe.type==="category"?Fe.scale.getExtent()[0]:null;return Fe.scale.type==="time"?function(nn){return function(rn,an){return Fe.scale.getFormattedLabel(rn,an,nn)}}(en):isString(en)?function(nn){return function(rn){var an=Fe.scale.getLabel(rn),ln=nn.replace("{value}",an??"");return ln}}(en):isFunction(en)?function(nn){return function(rn,an){return tn!=null&&(an=rn.value-tn),nn(getAxisRawValue(Fe,rn),an,rn.level!=null?{level:rn.level}:null)}}(en):function(nn){return Fe.scale.getLabel(nn)}}function getAxisRawValue(Fe,en){return Fe.type==="category"?Fe.scale.getLabel(en):en.value}function estimateLabelUnionRect(Fe){var en=Fe.model,tn=Fe.scale;if(!(!en.get(["axisLabel","show"])||tn.isBlank())){var nn,rn,an=tn.getExtent();tn instanceof OrdinalScale$1?rn=tn.count():(nn=tn.getTicks(),rn=nn.length);var ln=Fe.getLabelModel(),cn=makeLabelFormatter(Fe),un,fn=1;rn>40&&(fn=Math.ceil(rn/40));for(var hn=0;hn<rn;hn+=fn){var pn=nn?nn[hn]:{value:an[0]+hn},gn=cn(pn,hn),mn=ln.getTextRect(gn),_n=rotateTextRect(mn,ln.get("rotate")||0);un?un.union(_n):un=_n}return un}}function rotateTextRect(Fe,en){var tn=en*Math.PI/180,nn=Fe.width,rn=Fe.height,an=nn*Math.abs(Math.cos(tn))+Math.abs(rn*Math.sin(tn)),ln=nn*Math.abs(Math.sin(tn))+Math.abs(rn*Math.cos(tn)),cn=new BoundingRect$1(Fe.x,Fe.y,an,ln);return cn}function getOptionCategoryInterval(Fe){var en=Fe.get("interval");return en??"auto"}function shouldShowAllLabels(Fe){return Fe.type==="category"&&getOptionCategoryInterval(Fe.getLabelModel())===0}function getDataDimensionsOnAxis(Fe,en){var tn={};return each$f(Fe.mapDimensionsAll(en),function(nn){tn[getStackedDimension(Fe,nn)]=!0}),keys(tn)}function unionAxisExtentFromData(Fe,en,tn){en&&each$f(getDataDimensionsOnAxis(en,tn),function(nn){var rn=en.getApproximateExtent(nn);rn[0]<Fe[0]&&(Fe[0]=rn[0]),rn[1]>Fe[1]&&(Fe[1]=rn[1])})}var AxisModelCommonMixin=function(){function Fe(){}return Fe.prototype.getNeedCrossZero=function(){var en=this.option;return!en.scale},Fe.prototype.getCoordSysModel=function(){},Fe}();function createList$2(Fe){return createSeriesData(null,Fe)}var dataStack={isDimensionStacked,enableDataStack,getStackedDimension};function createScale(Fe,en){var tn=en;en instanceof Model$1||(tn=new Model$1(en));var nn=createScaleByModel$1(tn);return nn.setExtent(Fe[0],Fe[1]),niceScaleExtent(nn,tn),nn}function mixinAxisModelCommonMethods(Fe){mixin(Fe,AxisModelCommonMixin)}function createTextStyle(Fe,en){return en=en||{},createTextStyle$1(Fe,null,null,en.state!=="normal")}const helper=Object.freeze(Object.defineProperty({__proto__:null,createDimensions,createList:createList$2,createScale,createSymbol:createSymbol$1,createTextStyle,dataStack,enableHoverEmphasis,getECData,getLayoutRect,mixinAxisModelCommonMethods},Symbol.toStringTag,{value:"Module"}));var EPSILON=1e-8;function isAroundEqual(Fe,en){return Math.abs(Fe-en)<EPSILON}function contain(Fe,en,tn){var nn=0,rn=Fe[0];if(!rn)return!1;for(var an=1;an<Fe.length;an++){var ln=Fe[an];nn+=windingLine(rn[0],rn[1],ln[0],ln[1],en,tn),rn=ln}var cn=Fe[0];return(!isAroundEqual(rn[0],cn[0])||!isAroundEqual(rn[1],cn[1]))&&(nn+=windingLine(rn[0],rn[1],cn[0],cn[1],en,tn)),nn!==0}var TMP_TRANSFORM=[];function transformPoints(Fe,en){for(var tn=0;tn<Fe.length;tn++)applyTransform$1(Fe[tn],Fe[tn],en)}function updateBBoxFromPoints(Fe,en,tn,nn){for(var rn=0;rn<Fe.length;rn++){var an=Fe[rn];nn&&(an=nn.project(an)),an&&isFinite(an[0])&&isFinite(an[1])&&(min$1(en,en,an),max$1(tn,tn,an))}}function centroid$1(Fe){for(var en=0,tn=0,nn=0,rn=Fe.length,an=Fe[rn-1][0],ln=Fe[rn-1][1],cn=0;cn<rn;cn++){var un=Fe[cn][0],fn=Fe[cn][1],hn=an*fn-un*ln;en+=hn,tn+=(an+un)*hn,nn+=(ln+fn)*hn,an=un,ln=fn}return en?[tn/en/3,nn/en/3,en]:[Fe[0][0]||0,Fe[0][1]||0]}var Region=function(){function Fe(en){this.name=en}return Fe.prototype.setCenter=function(en){this._center=en},Fe.prototype.getCenter=function(){var en=this._center;return en||(en=this._center=this.calcCenter()),en},Fe}(),GeoJSONPolygonGeometry=function(){function Fe(en,tn){this.type="polygon",this.exterior=en,this.interiors=tn}return Fe}(),GeoJSONLineStringGeometry=function(){function Fe(en){this.type="linestring",this.points=en}return Fe}(),GeoJSONRegion=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this,tn)||this;return an.type="geoJSON",an.geometries=nn,an._center=rn&&[rn[0],rn[1]],an}return en.prototype.calcCenter=function(){for(var tn=this.geometries,nn,rn=0,an=0;an<tn.length;an++){var ln=tn[an],cn=ln.exterior,un=cn&&cn.length;un>rn&&(nn=ln,rn=un)}if(nn)return centroid$1(nn.exterior);var fn=this.getBoundingRect();return[fn.x+fn.width/2,fn.y+fn.height/2]},en.prototype.getBoundingRect=function(tn){var nn=this._rect;if(nn&&!tn)return nn;var rn=[1/0,1/0],an=[-1/0,-1/0],ln=this.geometries;return each$f(ln,function(cn){cn.type==="polygon"?updateBBoxFromPoints(cn.exterior,rn,an,tn):each$f(cn.points,function(un){updateBBoxFromPoints(un,rn,an,tn)})}),isFinite(rn[0])&&isFinite(rn[1])&&isFinite(an[0])&&isFinite(an[1])||(rn[0]=rn[1]=an[0]=an[1]=0),nn=new BoundingRect$1(rn[0],rn[1],an[0]-rn[0],an[1]-rn[1]),tn||(this._rect=nn),nn},en.prototype.contain=function(tn){var nn=this.getBoundingRect(),rn=this.geometries;if(!nn.contain(tn[0],tn[1]))return!1;e:for(var an=0,ln=rn.length;an<ln;an++){var cn=rn[an];if(cn.type==="polygon"){var un=cn.exterior,fn=cn.interiors;if(contain(un,tn[0],tn[1])){for(var hn=0;hn<(fn?fn.length:0);hn++)if(contain(fn[hn],tn[0],tn[1]))continue e;return!0}}}return!1},en.prototype.transformTo=function(tn,nn,rn,an){var ln=this.getBoundingRect(),cn=ln.width/ln.height;rn?an||(an=rn/cn):rn=cn*an;for(var un=new BoundingRect$1(tn,nn,rn,an),fn=ln.calculateTransform(un),hn=this.geometries,pn=0;pn<hn.length;pn++){var gn=hn[pn];gn.type==="polygon"?(transformPoints(gn.exterior,fn),each$f(gn.interiors,function(mn){transformPoints(mn,fn)})):each$f(gn.points,function(mn){transformPoints(mn,fn)})}ln=this._rect,ln.copy(un),this._center=[ln.x+ln.width/2,ln.y+ln.height/2]},en.prototype.cloneShallow=function(tn){tn==null&&(tn=this.name);var nn=new en(tn,this.geometries,this._center);return nn._rect=this._rect,nn.transformTo=null,nn},en}(Region),GeoSVGRegion=function(Fe){__extends(en,Fe);function en(tn,nn){var rn=Fe.call(this,tn)||this;return rn.type="geoSVG",rn._elOnlyForCalculate=nn,rn}return en.prototype.calcCenter=function(){for(var tn=this._elOnlyForCalculate,nn=tn.getBoundingRect(),rn=[nn.x+nn.width/2,nn.y+nn.height/2],an=identity(TMP_TRANSFORM),ln=tn;ln&&!ln.isGeoSVGGraphicRoot;)mul(an,ln.getLocalTransform(),an),ln=ln.parent;return invert(an,an),applyTransform$1(rn,rn,an),rn},en}(Region);function decode(Fe){if(!Fe.UTF8Encoding)return Fe;var en=Fe,tn=en.UTF8Scale;tn==null&&(tn=1024);var nn=en.features;return each$f(nn,function(rn){var an=rn.geometry,ln=an.encodeOffsets,cn=an.coordinates;if(ln)switch(an.type){case"LineString":an.coordinates=decodeRing(cn,ln,tn);break;case"Polygon":decodeRings(cn,ln,tn);break;case"MultiLineString":decodeRings(cn,ln,tn);break;case"MultiPolygon":each$f(cn,function(un,fn){return decodeRings(un,ln[fn],tn)})}}),en.UTF8Encoding=!1,en}function decodeRings(Fe,en,tn){for(var nn=0;nn<Fe.length;nn++)Fe[nn]=decodeRing(Fe[nn],en[nn],tn)}function decodeRing(Fe,en,tn){for(var nn=[],rn=en[0],an=en[1],ln=0;ln<Fe.length;ln+=2){var cn=Fe.charCodeAt(ln)-64,un=Fe.charCodeAt(ln+1)-64;cn=cn>>1^-(cn&1),un=un>>1^-(un&1),cn+=rn,un+=an,rn=cn,an=un,nn.push([cn/tn,un/tn])}return nn}function parseGeoJSON(Fe,en){return Fe=decode(Fe),map$1(filter(Fe.features,function(tn){return tn.geometry&&tn.properties&&tn.geometry.coordinates.length>0}),function(tn){var nn=tn.properties,rn=tn.geometry,an=[];switch(rn.type){case"Polygon":var ln=rn.coordinates;an.push(new GeoJSONPolygonGeometry(ln[0],ln.slice(1)));break;case"MultiPolygon":each$f(rn.coordinates,function(un){un[0]&&an.push(new GeoJSONPolygonGeometry(un[0],un.slice(1)))});break;case"LineString":an.push(new GeoJSONLineStringGeometry([rn.coordinates]));break;case"MultiLineString":an.push(new GeoJSONLineStringGeometry(rn.coordinates))}var cn=new GeoJSONRegion(nn[en||"name"],an,nn.cp);return cn.properties=nn,cn})}const number=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER,asc:asc$2,getPercentWithPrecision,getPixelPrecision,getPrecision,getPrecisionSafe,isNumeric,isRadianAroundZero,linearMap:linearMap$2,nice,numericToNumber,parseDate,quantile,quantity,quantityExponent,reformIntervals,remRadian,round:round$3},Symbol.toStringTag,{value:"Module"})),time=Object.freeze(Object.defineProperty({__proto__:null,format:format$1,parse:parseDate},Symbol.toStringTag,{value:"Module"})),graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$4,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$3,LinearGradient:LinearGradient$1,Polygon:Polygon$1,Polyline:Polyline$3,RadialGradient:RadialGradient$1,Rect:Rect$3,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,initProps,makeImage,makePath,mergePath,registerShape,resizePath,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"})),format=Object.freeze(Object.defineProperty({__proto__:null,addCommas,capitalFirst,encodeHTML,formatTime,formatTpl,getTextRect,getTooltipMarker,normalizeCssArray,toCamelCase,truncateText},Symbol.toStringTag,{value:"Module"})),util=Object.freeze(Object.defineProperty({__proto__:null,bind:bind$1,clone:clone$4,curry:curry$1,defaults,each:each$f,extend:extend$1,filter,indexOf,inherits,isArray:isArray$1,isFunction,isObject:isObject$3,isString,map:map$1,merge,reduce},Symbol.toStringTag,{value:"Module"}));var inner$g=makeInner();function createAxisLabels(Fe){return Fe.type==="category"?makeCategoryLabels(Fe):makeRealNumberLabels(Fe)}function createAxisTicks(Fe,en){return Fe.type==="category"?makeCategoryTicks(Fe,en):{ticks:map$1(Fe.scale.getTicks(),function(tn){return tn.value})}}function makeCategoryLabels(Fe){var en=Fe.getLabelModel(),tn=makeCategoryLabelsActually(Fe,en);return!en.get("show")||Fe.scale.isBlank()?{labels:[],labelCategoryInterval:tn.labelCategoryInterval}:tn}function makeCategoryLabelsActually(Fe,en){var tn=getListCache(Fe,"labels"),nn=getOptionCategoryInterval(en),rn=listCacheGet(tn,nn);if(rn)return rn;var an,ln;return isFunction(nn)?an=makeLabelsByCustomizedCategoryInterval(Fe,nn):(ln=nn==="auto"?makeAutoCategoryInterval(Fe):nn,an=makeLabelsByNumericCategoryInterval(Fe,ln)),listCacheSet(tn,nn,{labels:an,labelCategoryInterval:ln})}function makeCategoryTicks(Fe,en){var tn=getListCache(Fe,"ticks"),nn=getOptionCategoryInterval(en),rn=listCacheGet(tn,nn);if(rn)return rn;var an,ln;if((!en.get("show")||Fe.scale.isBlank())&&(an=[]),isFunction(nn))an=makeLabelsByCustomizedCategoryInterval(Fe,nn,!0);else if(nn==="auto"){var cn=makeCategoryLabelsActually(Fe,Fe.getLabelModel());ln=cn.labelCategoryInterval,an=map$1(cn.labels,function(un){return un.tickValue})}else ln=nn,an=makeLabelsByNumericCategoryInterval(Fe,ln,!0);return listCacheSet(tn,nn,{ticks:an,tickCategoryInterval:ln})}function makeRealNumberLabels(Fe){var en=Fe.scale.getTicks(),tn=makeLabelFormatter(Fe);return{labels:map$1(en,function(nn,rn){return{level:nn.level,formattedLabel:tn(nn,rn),rawLabel:Fe.scale.getLabel(nn),tickValue:nn.value}})}}function getListCache(Fe,en){return inner$g(Fe)[en]||(inner$g(Fe)[en]=[])}function listCacheGet(Fe,en){for(var tn=0;tn<Fe.length;tn++)if(Fe[tn].key===en)return Fe[tn].value}function listCacheSet(Fe,en,tn){return Fe.push({key:en,value:tn}),tn}function makeAutoCategoryInterval(Fe){var en=inner$g(Fe).autoInterval;return en??(inner$g(Fe).autoInterval=Fe.calculateCategoryInterval())}function calculateCategoryInterval(Fe){var en=fetchAutoCategoryIntervalCalculationParams(Fe),tn=makeLabelFormatter(Fe),nn=(en.axisRotate-en.labelRotate)/180*Math.PI,rn=Fe.scale,an=rn.getExtent(),ln=rn.count();if(an[1]-an[0]<1)return 0;var cn=1;ln>40&&(cn=Math.max(1,Math.floor(ln/40)));for(var un=an[0],fn=Fe.dataToCoord(un+1)-Fe.dataToCoord(un),hn=Math.abs(fn*Math.cos(nn)),pn=Math.abs(fn*Math.sin(nn)),gn=0,mn=0;un<=an[1];un+=cn){var _n=0,kn=0,Cn=getBoundingRect(tn({value:un}),en.font,"center","top");_n=Cn.width*1.3,kn=Cn.height*1.3,gn=Math.max(gn,_n,7),mn=Math.max(mn,kn,7)}var xn=gn/hn,Sn=mn/pn;isNaN(xn)&&(xn=1/0),isNaN(Sn)&&(Sn=1/0);var Mn=Math.max(0,Math.floor(Math.min(xn,Sn))),In=inner$g(Fe.model),On=Fe.getExtent(),Pn=In.lastAutoInterval,Tn=In.lastTickCount;return Pn!=null&&Tn!=null&&Math.abs(Pn-Mn)<=1&&Math.abs(Tn-ln)<=1&&Pn>Mn&&In.axisExtent0===On[0]&&In.axisExtent1===On[1]?Mn=Pn:(In.lastTickCount=ln,In.lastAutoInterval=Mn,In.axisExtent0=On[0],In.axisExtent1=On[1]),Mn}function fetchAutoCategoryIntervalCalculationParams(Fe){var en=Fe.getLabelModel();return{axisRotate:Fe.getRotate?Fe.getRotate():Fe.isHorizontal&&!Fe.isHorizontal()?90:0,labelRotate:en.get("rotate")||0,font:en.getFont()}}function makeLabelsByNumericCategoryInterval(Fe,en,tn){var nn=makeLabelFormatter(Fe),rn=Fe.scale,an=rn.getExtent(),ln=Fe.getLabelModel(),cn=[],un=Math.max((en||0)+1,1),fn=an[0],hn=rn.count();fn!==0&&un>1&&hn/un>2&&(fn=Math.round(Math.ceil(fn/un)*un));var pn=shouldShowAllLabels(Fe),gn=ln.get("showMinLabel")||pn,mn=ln.get("showMaxLabel")||pn;gn&&fn!==an[0]&&kn(an[0]);for(var _n=fn;_n<=an[1];_n+=un)kn(_n);mn&&_n-un!==an[1]&&kn(an[1]);function kn(Cn){var xn={value:Cn};cn.push(tn?Cn:{formattedLabel:nn(xn),rawLabel:rn.getLabel(xn),tickValue:Cn})}return cn}function makeLabelsByCustomizedCategoryInterval(Fe,en,tn){var nn=Fe.scale,rn=makeLabelFormatter(Fe),an=[];return each$f(nn.getTicks(),function(ln){var cn=nn.getLabel(ln),un=ln.value;en(ln.value,cn)&&an.push(tn?un:{formattedLabel:rn(ln),rawLabel:cn,tickValue:un})}),an}var NORMALIZED_EXTENT=[0,1],Axis=function(){function Fe(en,tn,nn){this.onBand=!1,this.inverse=!1,this.dim=en,this.scale=tn,this._extent=nn||[0,0]}return Fe.prototype.contain=function(en){var tn=this._extent,nn=Math.min(tn[0],tn[1]),rn=Math.max(tn[0],tn[1]);return en>=nn&&en<=rn},Fe.prototype.containData=function(en){return this.scale.contain(en)},Fe.prototype.getExtent=function(){return this._extent.slice()},Fe.prototype.getPixelPrecision=function(en){return getPixelPrecision(en||this.scale.getExtent(),this._extent)},Fe.prototype.setExtent=function(en,tn){var nn=this._extent;nn[0]=en,nn[1]=tn},Fe.prototype.dataToCoord=function(en,tn){var nn=this._extent,rn=this.scale;return en=rn.normalize(en),this.onBand&&rn.type==="ordinal"&&(nn=nn.slice(),fixExtentWithBands(nn,rn.count())),linearMap$2(en,NORMALIZED_EXTENT,nn,tn)},Fe.prototype.coordToData=function(en,tn){var nn=this._extent,rn=this.scale;this.onBand&&rn.type==="ordinal"&&(nn=nn.slice(),fixExtentWithBands(nn,rn.count()));var an=linearMap$2(en,nn,NORMALIZED_EXTENT,tn);return this.scale.scale(an)},Fe.prototype.pointToData=function(en,tn){},Fe.prototype.getTicksCoords=function(en){en=en||{};var tn=en.tickModel||this.getTickModel(),nn=createAxisTicks(this,tn),rn=nn.ticks,an=map$1(rn,function(cn){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(cn):cn),tickValue:cn}},this),ln=tn.get("alignWithLabel");return fixOnBandTicksCoords(this,an,ln,en.clamp),an},Fe.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var en=this.model.getModel("minorTick"),tn=en.get("splitNumber");tn>0&&tn<100||(tn=5);var nn=this.scale.getMinorTicks(tn),rn=map$1(nn,function(an){return map$1(an,function(ln){return{coord:this.dataToCoord(ln),tickValue:ln}},this)},this);return rn},Fe.prototype.getViewLabels=function(){return createAxisLabels(this).labels},Fe.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},Fe.prototype.getTickModel=function(){return this.model.getModel("axisTick")},Fe.prototype.getBandWidth=function(){var en=this._extent,tn=this.scale.getExtent(),nn=tn[1]-tn[0]+(this.onBand?1:0);nn===0&&(nn=1);var rn=Math.abs(en[1]-en[0]);return Math.abs(rn)/nn},Fe.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},Fe}();function fixExtentWithBands(Fe,en){var tn=Fe[1]-Fe[0],nn=en,rn=tn/nn/2;Fe[0]+=rn,Fe[1]-=rn}function fixOnBandTicksCoords(Fe,en,tn,nn){var rn=en.length;if(!Fe.onBand||tn||!rn)return;var an=Fe.getExtent(),ln,cn;if(rn===1)en[0].coord=an[0],ln=en[1]={coord:an[1]};else{var un=en[rn-1].tickValue-en[0].tickValue,fn=(en[rn-1].coord-en[0].coord)/un;each$f(en,function(mn){mn.coord-=fn/2});var hn=Fe.scale.getExtent();cn=1+hn[1]-en[rn-1].tickValue,ln={coord:en[rn-1].coord+fn*cn},en.push(ln)}var pn=an[0]>an[1];gn(en[0].coord,an[0])&&(nn?en[0].coord=an[0]:en.shift()),nn&&gn(an[0],en[0].coord)&&en.unshift({coord:an[0]}),gn(an[1],ln.coord)&&(nn?ln.coord=an[1]:en.pop()),nn&&gn(ln.coord,an[1])&&en.push({coord:an[1]});function gn(mn,_n){return mn=round$3(mn),_n=round$3(_n),pn?mn>_n:mn<_n}}const Axis$1=Axis;function extendComponentModel(Fe){var en=ComponentModel$1.extend(Fe);return ComponentModel$1.registerClass(en),en}function extendComponentView(Fe){var en=ComponentView$1.extend(Fe);return ComponentView$1.registerClass(en),en}function extendSeriesModel(Fe){var en=SeriesModel$1.extend(Fe);return SeriesModel$1.registerClass(en),en}function extendChartView(Fe){var en=ChartView$1.extend(Fe);return ChartView$1.registerClass(en),en}var PI2$2=Math.PI*2,CMD$1=PathProxy$1.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(Fe,en,tn,nn,rn){var an=tn.width,ln=tn.height;switch(Fe){case"top":nn.set(tn.x+an/2,tn.y-en),rn.set(0,-1);break;case"bottom":nn.set(tn.x+an/2,tn.y+ln+en),rn.set(0,1);break;case"left":nn.set(tn.x-en,tn.y+ln/2),rn.set(-1,0);break;case"right":nn.set(tn.x+an+en,tn.y+ln/2),rn.set(1,0);break}}function projectPointToArc(Fe,en,tn,nn,rn,an,ln,cn,un){ln-=Fe,cn-=en;var fn=Math.sqrt(ln*ln+cn*cn);ln/=fn,cn/=fn;var hn=ln*tn+Fe,pn=cn*tn+en;if(Math.abs(nn-rn)%PI2$2<1e-4)return un[0]=hn,un[1]=pn,fn-tn;if(an){var gn=nn;nn=normalizeRadian(rn),rn=normalizeRadian(gn)}else nn=normalizeRadian(nn),rn=normalizeRadian(rn);nn>rn&&(rn+=PI2$2);var mn=Math.atan2(cn,ln);if(mn<0&&(mn+=PI2$2),mn>=nn&&mn<=rn||mn+PI2$2>=nn&&mn+PI2$2<=rn)return un[0]=hn,un[1]=pn,fn-tn;var _n=tn*Math.cos(nn)+Fe,kn=tn*Math.sin(nn)+en,Cn=tn*Math.cos(rn)+Fe,xn=tn*Math.sin(rn)+en,Sn=(_n-ln)*(_n-ln)+(kn-cn)*(kn-cn),Mn=(Cn-ln)*(Cn-ln)+(xn-cn)*(xn-cn);return Sn<Mn?(un[0]=_n,un[1]=kn,Math.sqrt(Sn)):(un[0]=Cn,un[1]=xn,Math.sqrt(Mn))}function projectPointToLine(Fe,en,tn,nn,rn,an,ln,cn){var un=rn-Fe,fn=an-en,hn=tn-Fe,pn=nn-en,gn=Math.sqrt(hn*hn+pn*pn);hn/=gn,pn/=gn;var mn=un*hn+fn*pn,_n=mn/gn;cn&&(_n=Math.min(Math.max(_n,0),1)),_n*=gn;var kn=ln[0]=Fe+_n*hn,Cn=ln[1]=en+_n*pn;return Math.sqrt((kn-rn)*(kn-rn)+(Cn-an)*(Cn-an))}function projectPointToRect(Fe,en,tn,nn,rn,an,ln){tn<0&&(Fe=Fe+tn,tn=-tn),nn<0&&(en=en+nn,nn=-nn);var cn=Fe+tn,un=en+nn,fn=ln[0]=Math.min(Math.max(rn,Fe),cn),hn=ln[1]=Math.min(Math.max(an,en),un);return Math.sqrt((fn-rn)*(fn-rn)+(hn-an)*(hn-an))}var tmpPt=[];function nearestPointOnRect(Fe,en,tn){var nn=projectPointToRect(en.x,en.y,en.width,en.height,Fe.x,Fe.y,tmpPt);return tn.set(tmpPt[0],tmpPt[1]),nn}function nearestPointOnPath(Fe,en,tn){for(var nn=0,rn=0,an=0,ln=0,cn,un,fn=1/0,hn=en.data,pn=Fe.x,gn=Fe.y,mn=0;mn<hn.length;){var _n=hn[mn++];mn===1&&(nn=hn[mn],rn=hn[mn+1],an=nn,ln=rn);var kn=fn;switch(_n){case CMD$1.M:an=hn[mn++],ln=hn[mn++],nn=an,rn=ln;break;case CMD$1.L:kn=projectPointToLine(nn,rn,hn[mn],hn[mn+1],pn,gn,tmpPt,!0),nn=hn[mn++],rn=hn[mn++];break;case CMD$1.C:kn=cubicProjectPoint(nn,rn,hn[mn++],hn[mn++],hn[mn++],hn[mn++],hn[mn],hn[mn+1],pn,gn,tmpPt),nn=hn[mn++],rn=hn[mn++];break;case CMD$1.Q:kn=quadraticProjectPoint(nn,rn,hn[mn++],hn[mn++],hn[mn],hn[mn+1],pn,gn,tmpPt),nn=hn[mn++],rn=hn[mn++];break;case CMD$1.A:var Cn=hn[mn++],xn=hn[mn++],Sn=hn[mn++],Mn=hn[mn++],In=hn[mn++],On=hn[mn++];mn+=1;var Pn=!!(1-hn[mn++]);cn=Math.cos(In)*Sn+Cn,un=Math.sin(In)*Mn+xn,mn<=1&&(an=cn,ln=un);var Tn=(pn-Cn)*Mn/Sn+Cn;kn=projectPointToArc(Cn,xn,Mn,In,In+On,Pn,Tn,gn,tmpPt),nn=Math.cos(In+On)*Sn+Cn,rn=Math.sin(In+On)*Mn+xn;break;case CMD$1.R:an=nn=hn[mn++],ln=rn=hn[mn++];var Nn=hn[mn++],Hn=hn[mn++];kn=projectPointToRect(an,ln,Nn,Hn,pn,gn,tmpPt);break;case CMD$1.Z:kn=projectPointToLine(nn,rn,an,ln,pn,gn,tmpPt,!0),nn=an,rn=ln;break}kn<fn&&(fn=kn,tn.set(tmpPt[0],tmpPt[1]))}return fn}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1;function updateLabelLinePoints(Fe,en){if(Fe){var tn=Fe.getTextGuideLine(),nn=Fe.getTextContent();if(nn&&tn){var rn=Fe.textGuideLineConfig||{},an=[[0,0],[0,0],[0,0]],ln=rn.candidates||DEFAULT_SEARCH_SPACE,cn=nn.getBoundingRect().clone();cn.applyTransform(nn.getComputedTransform());var un=1/0,fn=rn.anchor,hn=Fe.getComputedTransform(),pn=hn&&invert([],hn),gn=en.get("length2")||0;fn&&pt2.copy(fn);for(var mn=0;mn<ln.length;mn++){var _n=ln[mn];getCandidateAnchor(_n,0,cn,pt0,dir),Point$1.scaleAndAdd(pt1,pt0,dir,gn),pt1.transform(pn);var kn=Fe.getBoundingRect(),Cn=fn?fn.distance(pt1):Fe instanceof Path$1?nearestPointOnPath(pt1,Fe.path,pt2):nearestPointOnRect(pt1,kn,pt2);Cn<un&&(un=Cn,pt1.transform(hn),pt2.transform(hn),pt2.toArray(an[0]),pt1.toArray(an[1]),pt0.toArray(an[2]))}limitTurnAngle(an,en.get("minTurnAngle")),tn.setShape({points:an})}}}var tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(Fe,en){if(en<=180&&en>0){en=en/180*Math.PI,pt0.fromArray(Fe[0]),pt1.fromArray(Fe[1]),pt2.fromArray(Fe[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var tn=dir.len(),nn=dir2.len();if(!(tn<.001||nn<.001)){dir.scale(1/tn),dir2.scale(1/nn);var rn=dir.dot(dir2),an=Math.cos(en);if(an<rn){var ln=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,ln/Math.tan(Math.PI-en));var cn=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(cn))return;cn<0?Point$1.copy(tmpProjPoint,pt1):cn>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(Fe[1])}}}}function limitSurfaceAngle(Fe,en,tn){if(tn<=180&&tn>0){tn=tn/180*Math.PI,pt0.fromArray(Fe[0]),pt1.fromArray(Fe[1]),pt2.fromArray(Fe[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var nn=dir.len(),rn=dir2.len();if(!(nn<.001||rn<.001)){dir.scale(1/nn),dir2.scale(1/rn);var an=dir.dot(en),ln=Math.cos(tn);if(an<ln){var cn=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var un=Math.PI/2,fn=Math.acos(dir2.dot(en)),hn=un+fn-tn;if(hn>=un)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,cn/Math.tan(Math.PI/2-hn));var pn=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(pn))return;pn<0?Point$1.copy(tmpProjPoint,pt1):pn>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(Fe[1])}}}}function setLabelLineState(Fe,en,tn,nn){var rn=tn==="normal",an=rn?Fe:Fe.ensureState(tn);an.ignore=en;var ln=nn.get("smooth");ln&&ln===!0&&(ln=.3),an.shape=an.shape||{},ln>0&&(an.shape.smooth=ln);var cn=nn.getModel("lineStyle").getLineStyle();rn?Fe.useStyle(cn):an.style=cn}function buildLabelLinePath(Fe,en){var tn=en.smooth,nn=en.points;if(nn)if(Fe.moveTo(nn[0][0],nn[0][1]),tn>0&&nn.length>=3){var rn=dist$1(nn[0],nn[1]),an=dist$1(nn[1],nn[2]);if(!rn||!an){Fe.lineTo(nn[1][0],nn[1][1]),Fe.lineTo(nn[2][0],nn[2][1]);return}var ln=Math.min(rn,an)*tn,cn=lerp$1([],nn[1],nn[0],ln/rn),un=lerp$1([],nn[1],nn[2],ln/an),fn=lerp$1([],cn,un,.5);Fe.bezierCurveTo(cn[0],cn[1],cn[0],cn[1],fn[0],fn[1]),Fe.bezierCurveTo(un[0],un[1],un[0],un[1],nn[2][0],nn[2][1])}else for(var hn=1;hn<nn.length;hn++)Fe.lineTo(nn[hn][0],nn[hn][1])}function setLabelLineStyle(Fe,en,tn){var nn=Fe.getTextGuideLine(),rn=Fe.getTextContent();if(!rn){nn&&Fe.removeTextGuideLine();return}for(var an=en.normal,ln=an.get("show"),cn=rn.ignore,un=0;un<DISPLAY_STATES.length;un++){var fn=DISPLAY_STATES[un],hn=en[fn],pn=fn==="normal";if(hn){var gn=hn.get("show"),mn=pn?cn:retrieve2(rn.states[fn]&&rn.states[fn].ignore,cn);if(mn||!retrieve2(gn,ln)){var _n=pn?nn:nn&&nn.states[fn];_n&&(_n.ignore=!0);continue}nn||(nn=new Polyline$3,Fe.setTextGuideLine(nn),!pn&&(cn||!ln)&&setLabelLineState(nn,!0,"normal",en.normal),Fe.stateProxy&&(nn.stateProxy=Fe.stateProxy)),setLabelLineState(nn,!1,fn,hn)}}if(nn){defaults(nn.style,tn),nn.style.fill=null;var kn=an.get("showAbove"),Cn=Fe.textGuideLineConfig=Fe.textGuideLineConfig||{};Cn.showAbove=kn||!1,nn.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(Fe,en){en=en||"labelLine";for(var tn={normal:Fe.getModel(en)},nn=0;nn<SPECIAL_STATES.length;nn++){var rn=SPECIAL_STATES[nn];tn[rn]=Fe.getModel([rn,en])}return tn}function prepareLayoutList(Fe){for(var en=[],tn=0;tn<Fe.length;tn++){var nn=Fe[tn];if(!nn.defaultAttr.ignore){var rn=nn.label,an=rn.getComputedTransform(),ln=rn.getBoundingRect(),cn=!an||an[1]<1e-5&&an[2]<1e-5,un=rn.style.margin||0,fn=ln.clone();fn.applyTransform(an),fn.x-=un/2,fn.y-=un/2,fn.width+=un,fn.height+=un;var hn=cn?new OrientedBoundingRect$1(ln,an):null;en.push({label:rn,labelLine:nn.labelLine,rect:fn,localRect:ln,obb:hn,priority:nn.priority,defaultAttr:nn.defaultAttr,layoutOption:nn.computedLayoutOption,axisAligned:cn,transform:an})}}return en}function shiftLayout(Fe,en,tn,nn,rn,an){var ln=Fe.length;if(ln<2)return;Fe.sort(function(Nn,Hn){return Nn.rect[en]-Hn.rect[en]});for(var cn=0,un,fn=!1,hn=0,pn=0;pn<ln;pn++){var gn=Fe[pn],mn=gn.rect;un=mn[en]-cn,un<0&&(mn[en]-=un,gn.label[en]-=un,fn=!0);var _n=Math.max(-un,0);hn+=_n,cn=mn[en]+mn[tn]}hn>0&&an&&On(-hn/ln,0,ln);var kn=Fe[0],Cn=Fe[ln-1],xn,Sn;Mn(),xn<0&&Pn(-xn,.8),Sn<0&&Pn(Sn,.8),Mn(),In(xn,Sn,1),In(Sn,xn,-1),Mn(),xn<0&&Tn(-xn),Sn<0&&Tn(Sn);function Mn(){xn=kn.rect[en]-nn,Sn=rn-Cn.rect[en]-Cn.rect[tn]}function In(Nn,Hn,Un){if(Nn<0){var jn=Math.min(Hn,-Nn);if(jn>0){On(jn*Un,0,ln);var Yn=jn+Nn;Yn<0&&Pn(-Yn*Un,1)}else Pn(-Nn*Un,1)}}function On(Nn,Hn,Un){Nn!==0&&(fn=!0);for(var jn=Hn;jn<Un;jn++){var Yn=Fe[jn],Wn=Yn.rect;Wn[en]+=Nn,Yn.label[en]+=Nn}}function Pn(Nn,Hn){for(var Un=[],jn=0,Yn=1;Yn<ln;Yn++){var Wn=Fe[Yn-1].rect,Qn=Math.max(Fe[Yn].rect[en]-Wn[en]-Wn[tn],0);Un.push(Qn),jn+=Qn}if(jn){var Xn=Math.min(Math.abs(Nn)/jn,Hn);if(Nn>0)for(var Yn=0;Yn<ln-1;Yn++){var jr=Un[Yn]*Xn;On(jr,0,Yn+1)}else for(var Yn=ln-1;Yn>0;Yn--){var jr=Un[Yn-1]*Xn;On(-jr,Yn,ln)}}}function Tn(Nn){var Hn=Nn<0?-1:1;Nn=Math.abs(Nn);for(var Un=Math.ceil(Nn/(ln-1)),jn=0;jn<ln-1;jn++)if(Hn>0?On(Un,0,jn+1):On(-Un,ln-jn-1,ln),Nn-=Un,Nn<=0)return}return fn}function shiftLayoutOnX(Fe,en,tn,nn){return shiftLayout(Fe,"x","width",en,tn,nn)}function shiftLayoutOnY(Fe,en,tn,nn){return shiftLayout(Fe,"y","height",en,tn,nn)}function hideOverlap(Fe){var en=[];Fe.sort(function(kn,Cn){return Cn.priority-kn.priority});var tn=new BoundingRect$1(0,0,0,0);function nn(kn){if(!kn.ignore){var Cn=kn.ensureState("emphasis");Cn.ignore==null&&(Cn.ignore=!1)}kn.ignore=!0}for(var rn=0;rn<Fe.length;rn++){var an=Fe[rn],ln=an.axisAligned,cn=an.localRect,un=an.transform,fn=an.label,hn=an.labelLine;tn.copy(an.rect),tn.width-=.1,tn.height-=.1,tn.x+=.05,tn.y+=.05;for(var pn=an.obb,gn=!1,mn=0;mn<en.length;mn++){var _n=en[mn];if(tn.intersect(_n.rect)){if(ln&&_n.axisAligned){gn=!0;break}if(_n.obb||(_n.obb=new OrientedBoundingRect$1(_n.localRect,_n.transform)),pn||(pn=new OrientedBoundingRect$1(cn,un)),pn.intersect(_n.obb)){gn=!0;break}}}gn?(nn(fn),hn&&nn(hn)):(fn.attr("ignore",an.defaultAttr.ignore),hn&&hn.attr("ignore",an.defaultAttr.labelGuideIgnore),en.push(an))}}function cloneArr(Fe){if(Fe){for(var en=[],tn=0;tn<Fe.length;tn++)en.push(Fe[tn].slice());return en}}function prepareLayoutCallbackParams(Fe,en){var tn=Fe.label,nn=en&&en.getTextGuideLine();return{dataIndex:Fe.dataIndex,dataType:Fe.dataType,seriesIndex:Fe.seriesModel.seriesIndex,text:Fe.label.style.text,rect:Fe.hostRect,labelRect:Fe.rect,align:tn.style.align,verticalAlign:tn.style.verticalAlign,labelLinePoints:cloneArr(nn&&nn.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable$1,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(Fe,en,tn){for(var nn=0;nn<tn.length;nn++){var rn=tn[nn];en[rn]!=null&&(Fe[rn]=en[rn])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function Fe(){this._labelList=[],this._chartViewList=[]}return Fe.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},Fe.prototype._addLabel=function(en,tn,nn,rn,an){var ln=rn.style,cn=rn.__hostTarget,un=cn.textConfig||{},fn=rn.getComputedTransform(),hn=rn.getBoundingRect().plain();BoundingRect$1.applyTransform(hn,hn,fn),fn?dummyTransformable.setLocalTransform(fn):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var pn=rn.__hostTarget,gn;if(pn){gn=pn.getBoundingRect().plain();var mn=pn.getComputedTransform();BoundingRect$1.applyTransform(gn,gn,mn)}var _n=gn&&pn.getTextGuideLine();this._labelList.push({label:rn,labelLine:_n,seriesModel:nn,dataIndex:en,dataType:tn,layoutOption:an,computedLayoutOption:null,rect:hn,hostRect:gn,priority:gn?gn.width*gn.height:0,defaultAttr:{ignore:rn.ignore,labelGuideIgnore:_n&&_n.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:ln.x,y:ln.y,align:ln.align,verticalAlign:ln.verticalAlign,width:ln.width,height:ln.height,fontSize:ln.fontSize},cursor:rn.cursor,attachedPos:un.position,attachedRot:un.rotation}})},Fe.prototype.addLabelsOfSeries=function(en){var tn=this;this._chartViewList.push(en);var nn=en.__model,rn=nn.get("labelLayout");(isFunction(rn)||keys(rn).length)&&en.group.traverse(function(an){if(an.ignore)return!0;var ln=an.getTextContent(),cn=getECData(an);ln&&!ln.disableLabelLayout&&tn._addLabel(cn.dataIndex,cn.dataType,nn,ln,rn)})},Fe.prototype.updateLayoutConfig=function(en){var tn=en.getWidth(),nn=en.getHeight();function rn(Mn,In){return function(){updateLabelLinePoints(Mn,In)}}for(var an=0;an<this._labelList.length;an++){var ln=this._labelList[an],cn=ln.label,un=cn.__hostTarget,fn=ln.defaultAttr,hn=void 0;isFunction(ln.layoutOption)?hn=ln.layoutOption(prepareLayoutCallbackParams(ln,un)):hn=ln.layoutOption,hn=hn||{},ln.computedLayoutOption=hn;var pn=Math.PI/180;un&&un.setTextConfig({local:!1,position:hn.x!=null||hn.y!=null?null:fn.attachedPos,rotation:hn.rotate!=null?hn.rotate*pn:fn.attachedRot,offset:[hn.dx||0,hn.dy||0]});var gn=!1;if(hn.x!=null?(cn.x=parsePercent(hn.x,tn),cn.setStyle("x",0),gn=!0):(cn.x=fn.x,cn.setStyle("x",fn.style.x)),hn.y!=null?(cn.y=parsePercent(hn.y,nn),cn.setStyle("y",0),gn=!0):(cn.y=fn.y,cn.setStyle("y",fn.style.y)),hn.labelLinePoints){var mn=un.getTextGuideLine();mn&&(mn.setShape({points:hn.labelLinePoints}),gn=!1)}var _n=labelLayoutInnerStore(cn);_n.needsUpdateLabelLine=gn,cn.rotation=hn.rotate!=null?hn.rotate*pn:fn.rotation,cn.scaleX=fn.scaleX,cn.scaleY=fn.scaleY;for(var kn=0;kn<LABEL_OPTION_TO_STYLE_KEYS.length;kn++){var Cn=LABEL_OPTION_TO_STYLE_KEYS[kn];cn.setStyle(Cn,hn[Cn]!=null?hn[Cn]:fn.style[Cn])}if(hn.draggable){if(cn.draggable=!0,cn.cursor="move",un){var xn=ln.seriesModel;if(ln.dataIndex!=null){var Sn=ln.seriesModel.getData(ln.dataType);xn=Sn.getItemModel(ln.dataIndex)}cn.on("drag",rn(un,xn.getModel("labelLine")))}}else cn.off("drag"),cn.cursor=fn.cursor}},Fe.prototype.layout=function(en){var tn=en.getWidth(),nn=en.getHeight(),rn=prepareLayoutList(this._labelList),an=filter(rn,function(un){return un.layoutOption.moveOverlap==="shiftX"}),ln=filter(rn,function(un){return un.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(an,0,tn),shiftLayoutOnY(ln,0,nn);var cn=filter(rn,function(un){return un.layoutOption.hideOverlap});hideOverlap(cn)},Fe.prototype.processLabelsOverall=function(){var en=this;each$f(this._chartViewList,function(tn){var nn=tn.__model,rn=tn.ignoreLabelLineUpdate,an=nn.isAnimationEnabled();tn.group.traverse(function(ln){if(ln.ignore&&!ln.forceLabelAnimation)return!0;var cn=!rn,un=ln.getTextContent();!cn&&un&&(cn=labelLayoutInnerStore(un).needsUpdateLabelLine),cn&&en._updateLabelLine(ln,nn),an&&en._animateLabels(ln,nn)})})},Fe.prototype._updateLabelLine=function(en,tn){var nn=en.getTextContent(),rn=getECData(en),an=rn.dataIndex;if(nn&&an!=null){var ln=tn.getData(rn.dataType),cn=ln.getItemModel(an),un={},fn=ln.getItemVisual(an,"style");if(fn){var hn=ln.getVisual("drawType");un.stroke=fn[hn]}var pn=cn.getModel("labelLine");setLabelLineStyle(en,getLabelLineStatesModels(cn),un),updateLabelLinePoints(en,pn)}},Fe.prototype._animateLabels=function(en,tn){var nn=en.getTextContent(),rn=en.getTextGuideLine();if(nn&&(en.forceLabelAnimation||!nn.ignore&&!nn.invisible&&!en.disableLabelAnimation&&!isElementRemoved(en))){var an=labelLayoutInnerStore(nn),ln=an.oldLayout,cn=getECData(en),un=cn.dataIndex,fn={x:nn.x,y:nn.y,rotation:nn.rotation},hn=tn.getData(cn.dataType);if(ln){nn.attr(ln);var gn=en.prevStates;gn&&(indexOf(gn,"select")>=0&&nn.attr(an.oldLayoutSelect),indexOf(gn,"emphasis")>=0&&nn.attr(an.oldLayoutEmphasis)),updateProps$1(nn,fn,tn,un)}else if(nn.attr(fn),!labelInner(nn).valueAnimation){var pn=retrieve2(nn.style.opacity,1);nn.style.opacity=0,initProps(nn,{style:{opacity:pn}},tn,un)}if(an.oldLayout=fn,nn.states.select){var mn=an.oldLayoutSelect={};extendWithKeys(mn,fn,LABEL_LAYOUT_PROPS),extendWithKeys(mn,nn.states.select,LABEL_LAYOUT_PROPS)}if(nn.states.emphasis){var _n=an.oldLayoutEmphasis={};extendWithKeys(_n,fn,LABEL_LAYOUT_PROPS),extendWithKeys(_n,nn.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(nn,un,hn,tn,tn)}if(rn&&!rn.ignore&&!rn.invisible){var an=labelLineAnimationStore(rn),ln=an.oldLayout,kn={points:rn.shape.points};ln?(rn.attr({shape:ln}),updateProps$1(rn,{shape:kn},tn)):(rn.setShape(kn),rn.style.strokePercent=0,initProps(rn,{style:{strokePercent:1}},tn)),an.oldLayout=kn}},Fe}();const LabelManager$1=LabelManager;var getLabelManager=makeInner();function installLabelLayout(Fe){Fe.registerUpdateLifecycle("series:beforeupdate",function(en,tn,nn){var rn=getLabelManager(tn).labelManager;rn||(rn=getLabelManager(tn).labelManager=new LabelManager$1),rn.clearLabels()}),Fe.registerUpdateLifecycle("series:layoutlabels",function(en,tn,nn){var rn=getLabelManager(tn).labelManager;nn.updatedSeries.forEach(function(an){rn.addLabelsOfSeries(tn.getViewOfSeriesModel(an))}),rn.updateLayoutConfig(tn),rn.layout(tn),rn.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function Fe(){}return Fe.prototype.reset=function(en){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,en||4)},Fe.prototype.moveTo=function(en,tn){this._add("M",en,tn)},Fe.prototype.lineTo=function(en,tn){this._add("L",en,tn)},Fe.prototype.bezierCurveTo=function(en,tn,nn,rn,an,ln){this._add("C",en,tn,nn,rn,an,ln)},Fe.prototype.quadraticCurveTo=function(en,tn,nn,rn){this._add("Q",en,tn,nn,rn)},Fe.prototype.arc=function(en,tn,nn,rn,an,ln){this.ellipse(en,tn,nn,nn,0,rn,an,ln)},Fe.prototype.ellipse=function(en,tn,nn,rn,an,ln,cn,un){var fn=cn-ln,hn=!un,pn=Math.abs(fn),gn=isAroundZero(pn-PI2$1)||(hn?fn>=PI2$1:-fn>=PI2$1),mn=fn>0?fn%PI2$1:fn%PI2$1+PI2$1,_n=!1;gn?_n=!0:isAroundZero(pn)?_n=!1:_n=mn>=PI$4==!!hn;var kn=en+nn*mathCos(ln),Cn=tn+rn*mathSin(ln);this._start&&this._add("M",kn,Cn);var xn=Math.round(an*degree);if(gn){var Sn=1/this._p,Mn=(hn?1:-1)*(PI2$1-Sn);this._add("A",nn,rn,xn,1,+hn,en+nn*mathCos(ln+Mn),tn+rn*mathSin(ln+Mn)),Sn>.01&&this._add("A",nn,rn,xn,0,+hn,kn,Cn)}else{var In=en+nn*mathCos(cn),On=tn+rn*mathSin(cn);this._add("A",nn,rn,xn,+_n,+hn,In,On)}},Fe.prototype.rect=function(en,tn,nn,rn){this._add("M",en,tn),this._add("l",nn,0),this._add("l",0,rn),this._add("l",-nn,0),this._add("Z")},Fe.prototype.closePath=function(){this._d.length>0&&this._add("Z")},Fe.prototype._add=function(en,tn,nn,rn,an,ln,cn,un,fn){for(var hn=[],pn=this._p,gn=1;gn<arguments.length;gn++){var mn=arguments[gn];if(isNaN(mn)){this._invalid=!0;return}hn.push(Math.round(mn*pn)/pn)}this._d.push(en+hn.join(" ")),this._start=en==="Z"},Fe.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},Fe.prototype.getStr=function(){return this._str},Fe}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(Fe){var en=Fe.fill;return en!=null&&en!==NONE}function pathHasStroke(Fe){var en=Fe.stroke;return en!=null&&en!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(Fe){return"stroke-"+Fe.toLowerCase()});function mapStyleToAttrs(Fe,en,tn,nn){var rn=en.opacity==null?1:en.opacity;if(tn instanceof ZRImage$1){Fe("opacity",rn);return}if(pathHasFill(en)){var an=normalizeColor(en.fill);Fe("fill",an.color);var ln=en.fillOpacity!=null?en.fillOpacity*an.opacity*rn:an.opacity*rn;(nn||ln<1)&&Fe("fill-opacity",ln)}else Fe("fill",NONE);if(pathHasStroke(en)){var cn=normalizeColor(en.stroke);Fe("stroke",cn.color);var un=en.strokeNoScale?tn.getLineScale():1,fn=un?(en.lineWidth||0)/un:0,hn=en.strokeOpacity!=null?en.strokeOpacity*cn.opacity*rn:cn.opacity*rn,pn=en.strokeFirst;if((nn||fn!==1)&&Fe("stroke-width",fn),(nn||pn)&&Fe("paint-order",pn?"stroke":"fill"),(nn||hn<1)&&Fe("stroke-opacity",hn),en.lineDash){var gn=getLineDash(tn),mn=gn[0],_n=gn[1];mn&&(_n=mathRound(_n||0),Fe("stroke-dasharray",mn.join(",")),(_n||nn)&&Fe("stroke-dashoffset",_n))}else nn&&Fe("stroke-dasharray",NONE);for(var kn=0;kn<strokeProps.length;kn++){var Cn=strokeProps[kn];if(nn||en[Cn]!==DEFAULT_PATH_STYLE[Cn]){var xn=en[Cn]||DEFAULT_PATH_STYLE[Cn];xn&&Fe(svgStrokeProps[kn],xn)}}}else nn&&Fe("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(Fe){return document.createElementNS(SVGNS,Fe)}function createVNode(Fe,en,tn,nn,rn){return{tag:Fe,attrs:tn||{},children:nn,text:rn,key:en}}function createElementOpen(Fe,en){var tn=[];if(en)for(var nn in en){var rn=en[nn],an=nn;rn!==!1&&(rn!==!0&&rn!=null&&(an+='="'+rn+'"'),tn.push(an))}return"<"+Fe+" "+tn.join(" ")+">"}function createElementClose(Fe){return"</"+Fe+">"}function vNodeToString(Fe,en){en=en||{};var tn=en.newline?`
`:"";function nn(rn){var an=rn.children,ln=rn.tag,cn=rn.attrs,un=rn.text;return createElementOpen(ln,cn)+(ln!=="style"?encodeHTML(un):un||"")+(an?""+tn+map$1(an,function(fn){return nn(fn)}).join(tn)+tn:"")+createElementClose(ln)}return nn(Fe)}function getCssString(Fe,en,tn){tn=tn||{};var nn=tn.newline?`
`:"",rn=" {"+nn,an=nn+"}",ln=map$1(keys(Fe),function(un){return un+rn+map$1(keys(Fe[un]),function(fn){return fn+":"+Fe[un][fn]+";"}).join(nn)+an}).join(nn),cn=map$1(keys(en),function(un){return"@keyframes "+un+rn+map$1(keys(en[un]),function(fn){return fn+rn+map$1(keys(en[un][fn]),function(hn){var pn=en[un][fn][hn];return hn==="d"&&(pn='path("'+pn+'")'),hn+":"+pn+";"}).join(nn)+an}).join(nn)+an}).join(nn);return!ln&&!cn?"":["<![CDATA[",ln,cn,"]]>"].join(nn)}function createBrushScope(Fe){return{zrId:Fe,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(Fe,en,tn,nn){return createVNode("svg","root",{width:Fe,height:en,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:nn?"0 0 "+Fe+" "+en:!1},tn)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(Fe,en,tn){var nn=extend$1({},Fe.shape);extend$1(nn,en),Fe.buildPath(tn,nn);var rn=new SVGPathRebuilder$1;return rn.reset(getPathPrecision(Fe)),tn.rebuildPath(rn,1),rn.generateStr(),rn.getStr()}function setTransformOrigin(Fe,en){var tn=en.originX,nn=en.originY;(tn||nn)&&(Fe[transformOriginKey]=tn+"px "+nn+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(Fe,en){var tn=en.zrId+"-ani-"+en.cssAnimIdx++;return en.cssAnims[tn]=Fe,tn}function createCompoundPathCSSAnimation(Fe,en,tn){var nn=Fe.shape.paths,rn={},an,ln;if(each$f(nn,function(un){var fn=createBrushScope(tn.zrId);fn.animation=!0,createCSSAnimation(un,{},fn,!0);var hn=fn.cssAnims,pn=fn.cssNodes,gn=keys(hn),mn=gn.length;if(mn){ln=gn[mn-1];var _n=hn[ln];for(var kn in _n){var Cn=_n[kn];rn[kn]=rn[kn]||{d:""},rn[kn].d+=Cn.d||""}for(var xn in pn){var Sn=pn[xn].animation;Sn.indexOf(ln)>=0&&(an=Sn)}}}),!!an){en.d=!1;var cn=addAnimation(rn,tn);return an.replace(ln,cn)}}function getEasingFunc(Fe){return isString(Fe)?EASING_MAP[Fe]?"cubic-bezier("+EASING_MAP[Fe]+")":createCubicEasingFunc(Fe)?Fe:"":""}function createCSSAnimation(Fe,en,tn,nn){var rn=Fe.animators,an=rn.length,ln=[];if(Fe instanceof CompoundPath$1){var cn=createCompoundPathCSSAnimation(Fe,en,tn);if(cn)ln.push(cn);else if(!an)return}else if(!an)return;for(var un={},fn=0;fn<an;fn++){var hn=rn[fn],pn=[hn.getMaxTime()/1e3+"s"],gn=getEasingFunc(hn.getClip().easing),mn=hn.getDelay();gn?pn.push(gn):pn.push("linear"),mn&&pn.push(mn/1e3+"s"),hn.getLoop()&&pn.push("infinite");var _n=pn.join(" ");un[_n]=un[_n]||[_n,[]],un[_n][1].push(hn)}function kn(Sn){var Mn=Sn[1],In=Mn.length,On={},Pn={},Tn={},Nn="animation-timing-function";function Hn(yi,Si,Pi){for(var Ui=yi.getTracks(),ji=yi.getMaxTime(),go=0;go<Ui.length;go++){var po=Ui[go];if(po.needsAnimate()){var Yi=po.keyframes,Fo=po.propName;if(Pi&&(Fo=Pi(Fo)),Fo)for(var Po=0;Po<Yi.length;Po++){var Oi=Yi[Po],Wi=Math.round(Oi.time/ji*100)+"%",vo=getEasingFunc(Oi.easing),mo=Oi.rawValue;(isString(mo)||isNumber(mo))&&(Si[Wi]=Si[Wi]||{},Si[Wi][Fo]=Oi.rawValue,vo&&(Si[Wi][Nn]=vo))}}}}for(var Un=0;Un<In;Un++){var jn=Mn[Un],Yn=jn.targetName;Yn?Yn==="shape"&&Hn(jn,Pn):!nn&&Hn(jn,On)}for(var Wn in On){var Qn={};copyTransform(Qn,Fe),extend$1(Qn,On[Wn]);var Xn=getSRTTransformString(Qn),jr=On[Wn][Nn];Tn[Wn]=Xn?{transform:Xn}:{},setTransformOrigin(Tn[Wn],Qn),jr&&(Tn[Wn][Nn]=jr)}var Wr,Jr=!0;for(var Wn in Pn){Tn[Wn]=Tn[Wn]||{};var ci=!Wr,jr=Pn[Wn][Nn];ci&&(Wr=new PathProxy$1);var ti=Wr.len();Wr.reset(),Tn[Wn].d=buildPathString(Fe,Pn[Wn],Wr);var Zr=Wr.len();if(!ci&&ti!==Zr){Jr=!1;break}jr&&(Tn[Wn][Nn]=jr)}if(!Jr)for(var Wn in Tn)delete Tn[Wn].d;if(!nn)for(var Un=0;Un<In;Un++){var jn=Mn[Un],Yn=jn.targetName;Yn==="style"&&Hn(jn,Tn,function(Ui){return ANIMATE_STYLE_MAP[Ui]})}for(var Br=keys(Tn),Jn=!0,oi,Un=1;Un<Br.length;Un++){var pi=Br[Un-1],ri=Br[Un];if(Tn[pi][transformOriginKey]!==Tn[ri][transformOriginKey]){Jn=!1;break}oi=Tn[pi][transformOriginKey]}if(Jn&&oi){for(var Wn in Tn)Tn[Wn][transformOriginKey]&&delete Tn[Wn][transformOriginKey];en[transformOriginKey]=oi}if(filter(Br,function(yi){return keys(Tn[yi]).length>0}).length){var fi=addAnimation(Tn,tn);return fi+" "+Sn[0]+" both"}}for(var Cn in un){var cn=kn(un[Cn]);cn&&ln.push(cn)}if(ln.length){var xn=tn.zrId+"-cls-"+tn.cssClassIdx++;tn.cssNodes["."+xn]={animation:ln.join(",")},en.class=xn}}var round$1=Math.round;function isImageLike(Fe){return Fe&&isString(Fe.src)}function isCanvasLike(Fe){return Fe&&isFunction(Fe.toDataURL)}function setStyleAttrs(Fe,en,tn,nn){mapStyleToAttrs(function(rn,an){var ln=rn==="fill"||rn==="stroke";ln&&isGradient(an)?setGradient(en,Fe,rn,nn):ln&&isPattern(an)?setPattern(tn,Fe,rn,nn):Fe[rn]=an},en,tn,!1),setShadow(tn,Fe,nn)}function noRotateScale(Fe){return isAroundZero(Fe[0]-1)&&isAroundZero(Fe[1])&&isAroundZero(Fe[2])&&isAroundZero(Fe[3]-1)}function noTranslate(Fe){return isAroundZero(Fe[4])&&isAroundZero(Fe[5])}function setTransform(Fe,en,tn){if(en&&!(noTranslate(en)&&noRotateScale(en))){var nn=tn?10:1e4;Fe.transform=noRotateScale(en)?"translate("+round$1(en[4]*nn)/nn+" "+round$1(en[5]*nn)/nn+")":getMatrixStr(en)}}function convertPolyShape(Fe,en,tn){for(var nn=Fe.points,rn=[],an=0;an<nn.length;an++)rn.push(round$1(nn[an][0]*tn)/tn),rn.push(round$1(nn[an][1]*tn)/tn);en.points=rn.join(" ")}function validatePolyShape(Fe){return!Fe.smooth}function createAttrsConvert(Fe){var en=map$1(Fe,function(tn){return typeof tn=="string"?[tn,tn]:tn});return function(tn,nn,rn){for(var an=0;an<en.length;an++){var ln=en[an],cn=tn[ln[0]];cn!=null&&(nn[ln[1]]=round$1(cn*rn)/rn)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(Fe){for(var en=Fe.animators,tn=0;tn<en.length;tn++)if(en[tn].targetName==="shape")return!0;return!1}function brushSVGPath(Fe,en){var tn=Fe.style,nn=Fe.shape,rn=builtinShapesDef[Fe.type],an={},ln=en.animation,cn="path",un=Fe.style.strokePercent,fn=en.compress&&getPathPrecision(Fe)||4;if(rn&&!en.willUpdate&&!(rn[1]&&!rn[1](nn))&&!(ln&&hasShapeAnimation(Fe))&&!(un<1)){cn=Fe.type;var hn=Math.pow(10,fn);rn[0](nn,an,hn)}else{var pn=!Fe.path||Fe.shapeChanged();Fe.path||Fe.createPathProxy();var gn=Fe.path;pn&&(gn.beginPath(),Fe.buildPath(gn,Fe.shape),Fe.pathUpdated());var mn=gn.getVersion(),_n=Fe,kn=_n.__svgPathBuilder;(_n.__svgPathVersion!==mn||!kn||un!==_n.__svgPathStrokePercent)&&(kn||(kn=_n.__svgPathBuilder=new SVGPathRebuilder$1),kn.reset(fn),gn.rebuildPath(kn,un),kn.generateStr(),_n.__svgPathVersion=mn,_n.__svgPathStrokePercent=un),an.d=kn.getStr()}return setTransform(an,Fe.transform),setStyleAttrs(an,tn,Fe,en),en.animation&&createCSSAnimation(Fe,an,en),createVNode(cn,Fe.id+"",an)}function brushSVGImage(Fe,en){var tn=Fe.style,nn=tn.image;if(nn&&!isString(nn)&&(isImageLike(nn)?nn=nn.src:isCanvasLike(nn)&&(nn=nn.toDataURL())),!!nn){var rn=tn.x||0,an=tn.y||0,ln=tn.width,cn=tn.height,un={href:nn,width:ln,height:cn};return rn&&(un.x=rn),an&&(un.y=an),setTransform(un,Fe.transform),setStyleAttrs(un,tn,Fe,en),en.animation&&createCSSAnimation(Fe,un,en),createVNode("image",Fe.id+"",un)}}function brushSVGTSpan(Fe,en){var tn=Fe.style,nn=tn.text;if(nn!=null&&(nn+=""),!(!nn||isNaN(tn.x)||isNaN(tn.y))){var rn=tn.font||DEFAULT_FONT,an=tn.x||0,ln=adjustTextY$1(tn.y||0,getLineHeight(rn),tn.textBaseline),cn=TEXT_ALIGN_TO_ANCHOR[tn.textAlign]||tn.textAlign,un={"dominant-baseline":"central","text-anchor":cn};if(hasSeparateFont(tn)){var fn="",hn=tn.fontStyle,pn=parseFontSize(tn.fontSize);if(!parseFloat(pn))return;var gn=tn.fontFamily||DEFAULT_FONT_FAMILY,mn=tn.fontWeight;fn+="font-size:"+pn+";font-family:"+gn+";",hn&&hn!=="normal"&&(fn+="font-style:"+hn+";"),mn&&mn!=="normal"&&(fn+="font-weight:"+mn+";"),un.style=fn}else un.style="font: "+rn;return nn.match(/\s/)&&(un["xml:space"]="preserve"),an&&(un.x=an),ln&&(un.y=ln),setTransform(un,Fe.transform),setStyleAttrs(un,tn,Fe,en),en.animation&&createCSSAnimation(Fe,un,en),createVNode("text",Fe.id+"",un,void 0,nn)}}function brush(Fe,en){if(Fe instanceof Path$1)return brushSVGPath(Fe,en);if(Fe instanceof ZRImage$1)return brushSVGImage(Fe,en);if(Fe instanceof TSpan$1)return brushSVGTSpan(Fe,en)}function setShadow(Fe,en,tn){var nn=Fe.style;if(hasShadow(nn)){var rn=getShadowKey(Fe),an=tn.shadowCache,ln=an[rn];if(!ln){var cn=Fe.getGlobalScale(),un=cn[0],fn=cn[1];if(!un||!fn)return;var hn=nn.shadowOffsetX||0,pn=nn.shadowOffsetY||0,gn=nn.shadowBlur,mn=normalizeColor(nn.shadowColor),_n=mn.opacity,kn=mn.color,Cn=gn/2/un,xn=gn/2/fn,Sn=Cn+" "+xn;ln=tn.zrId+"-s"+tn.shadowIdx++,tn.defs[ln]=createVNode("filter",ln,{id:ln,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:hn/un,dy:pn/fn,stdDeviation:Sn,"flood-color":kn,"flood-opacity":_n})]),an[rn]=ln}en.filter=getIdURL(ln)}}function setGradient(Fe,en,tn,nn){var rn=Fe[tn],an,ln={gradientUnits:rn.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(rn))an="linearGradient",ln.x1=rn.x,ln.y1=rn.y,ln.x2=rn.x2,ln.y2=rn.y2;else if(isRadialGradient(rn))an="radialGradient",ln.cx=retrieve2(rn.x,.5),ln.cy=retrieve2(rn.y,.5),ln.r=retrieve2(rn.r,.5);else return;for(var cn=rn.colorStops,un=[],fn=0,hn=cn.length;fn<hn;++fn){var pn=round4(cn[fn].offset)*100+"%",gn=cn[fn].color,mn=normalizeColor(gn),_n=mn.color,kn=mn.opacity,Cn={offset:pn};Cn["stop-color"]=_n,kn<1&&(Cn["stop-opacity"]=kn),un.push(createVNode("stop",fn+"",Cn))}var xn=createVNode(an,"",ln,un),Sn=vNodeToString(xn),Mn=nn.gradientCache,In=Mn[Sn];In||(In=nn.zrId+"-g"+nn.gradientIdx++,Mn[Sn]=In,ln.id=In,nn.defs[In]=createVNode(an,In,ln,un)),en[tn]=getIdURL(In)}function setPattern(Fe,en,tn,nn){var rn=Fe.style[tn],an=Fe.getBoundingRect(),ln={},cn=rn.repeat,un=cn==="no-repeat",fn=cn==="repeat-x",hn=cn==="repeat-y",pn;if(isImagePattern(rn)){var gn=rn.imageWidth,mn=rn.imageHeight,_n=void 0,kn=rn.image;if(isString(kn)?_n=kn:isImageLike(kn)?_n=kn.src:isCanvasLike(kn)&&(_n=kn.toDataURL()),typeof Image>"u"){var Cn="Image width/height must been given explictly in svg-ssr renderer.";assert(gn,Cn),assert(mn,Cn)}else if(gn==null||mn==null){var xn=function(Un,jn){if(Un){var Yn=Un.elm,Wn=gn||jn.width,Qn=mn||jn.height;Un.tag==="pattern"&&(fn?(Qn=1,Wn/=an.width):hn&&(Wn=1,Qn/=an.height)),Un.attrs.width=Wn,Un.attrs.height=Qn,Yn&&(Yn.setAttribute("width",Wn),Yn.setAttribute("height",Qn))}},Sn=createOrUpdateImage(_n,null,Fe,function(Un){un||xn(Pn,Un),xn(pn,Un)});Sn&&Sn.width&&Sn.height&&(gn=gn||Sn.width,mn=mn||Sn.height)}pn=createVNode("image","img",{href:_n,width:gn,height:mn}),ln.width=gn,ln.height=mn}else rn.svgElement&&(pn=clone$4(rn.svgElement),ln.width=rn.svgWidth,ln.height=rn.svgHeight);if(pn){var Mn,In;un?Mn=In=1:fn?(In=1,Mn=ln.width/an.width):hn?(Mn=1,In=ln.height/an.height):ln.patternUnits="userSpaceOnUse",Mn!=null&&!isNaN(Mn)&&(ln.width=Mn),In!=null&&!isNaN(In)&&(ln.height=In);var On=getSRTTransformString(rn);On&&(ln.patternTransform=On);var Pn=createVNode("pattern","",ln,[pn]),Tn=vNodeToString(Pn),Nn=nn.patternCache,Hn=Nn[Tn];Hn||(Hn=nn.zrId+"-p"+nn.patternIdx++,Nn[Tn]=Hn,ln.id=Hn,Pn=nn.defs[Hn]=createVNode("pattern",Hn,ln,[pn])),en[tn]=getIdURL(Hn)}}function setClipPath(Fe,en,tn){var nn=tn.clipPathCache,rn=tn.defs,an=nn[Fe.id];if(!an){an=tn.zrId+"-c"+tn.clipPathIdx++;var ln={id:an};nn[Fe.id]=an,rn[an]=createVNode("clipPath",an,ln,[brushSVGPath(Fe,tn)])}en["clip-path"]=getIdURL(an)}function createTextNode(Fe){return document.createTextNode(Fe)}function insertBefore(Fe,en,tn){Fe.insertBefore(en,tn)}function removeChild(Fe,en){Fe.removeChild(en)}function appendChild(Fe,en){Fe.appendChild(en)}function parentNode(Fe){return Fe.parentNode}function nextSibling(Fe){return Fe.nextSibling}function setTextContent(Fe,en){Fe.textContent=en}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(Fe){return Fe===void 0}function isDef(Fe){return Fe!==void 0}function createKeyToOldIdx(Fe,en,tn){for(var nn={},rn=en;rn<=tn;++rn){var an=Fe[rn].key;an!==void 0&&(nn[an]=rn)}return nn}function sameVnode(Fe,en){var tn=Fe.key===en.key,nn=Fe.tag===en.tag;return nn&&tn}function createElm(Fe){var en,tn=Fe.children,nn=Fe.tag;if(isDef(nn)){var rn=Fe.elm=createElement(nn);if(updateAttrs(emptyNode,Fe),isArray$1(tn))for(en=0;en<tn.length;++en){var an=tn[en];an!=null&&appendChild(rn,createElm(an))}else isDef(Fe.text)&&!isObject$3(Fe.text)&&appendChild(rn,createTextNode(Fe.text))}else Fe.elm=createTextNode(Fe.text);return Fe.elm}function addVnodes(Fe,en,tn,nn,rn){for(;nn<=rn;++nn){var an=tn[nn];an!=null&&insertBefore(Fe,createElm(an),en)}}function removeVnodes(Fe,en,tn,nn){for(;tn<=nn;++tn){var rn=en[tn];if(rn!=null)if(isDef(rn.tag)){var an=parentNode(rn.elm);removeChild(an,rn.elm)}else removeChild(Fe,rn.elm)}}function updateAttrs(Fe,en){var tn,nn=en.elm,rn=Fe&&Fe.attrs||{},an=en.attrs||{};if(rn!==an){for(tn in an){var ln=an[tn],cn=rn[tn];cn!==ln&&(ln===!0?nn.setAttribute(tn,""):ln===!1?nn.removeAttribute(tn):tn.charCodeAt(0)!==xChar?nn.setAttribute(tn,ln):tn==="xmlns:xlink"||tn==="xmlns"?nn.setAttributeNS(XMLNS,tn,ln):tn.charCodeAt(3)===colonChar?nn.setAttributeNS(XML_NAMESPACE,tn,ln):tn.charCodeAt(5)===colonChar?nn.setAttributeNS(XLINKNS,tn,ln):nn.setAttribute(tn,ln))}for(tn in rn)tn in an||nn.removeAttribute(tn)}}function updateChildren(Fe,en,tn){for(var nn=0,rn=0,an=en.length-1,ln=en[0],cn=en[an],un=tn.length-1,fn=tn[0],hn=tn[un],pn,gn,mn,_n;nn<=an&&rn<=un;)ln==null?ln=en[++nn]:cn==null?cn=en[--an]:fn==null?fn=tn[++rn]:hn==null?hn=tn[--un]:sameVnode(ln,fn)?(patchVnode(ln,fn),ln=en[++nn],fn=tn[++rn]):sameVnode(cn,hn)?(patchVnode(cn,hn),cn=en[--an],hn=tn[--un]):sameVnode(ln,hn)?(patchVnode(ln,hn),insertBefore(Fe,ln.elm,nextSibling(cn.elm)),ln=en[++nn],hn=tn[--un]):sameVnode(cn,fn)?(patchVnode(cn,fn),insertBefore(Fe,cn.elm,ln.elm),cn=en[--an],fn=tn[++rn]):(isUndef(pn)&&(pn=createKeyToOldIdx(en,nn,an)),gn=pn[fn.key],isUndef(gn)?insertBefore(Fe,createElm(fn),ln.elm):(mn=en[gn],mn.tag!==fn.tag?insertBefore(Fe,createElm(fn),ln.elm):(patchVnode(mn,fn),en[gn]=void 0,insertBefore(Fe,mn.elm,ln.elm))),fn=tn[++rn]);(nn<=an||rn<=un)&&(nn>an?(_n=tn[un+1]==null?null:tn[un+1].elm,addVnodes(Fe,_n,tn,rn,un)):removeVnodes(Fe,en,nn,an))}function patchVnode(Fe,en){var tn=en.elm=Fe.elm,nn=Fe.children,rn=en.children;Fe!==en&&(updateAttrs(Fe,en),isUndef(en.text)?isDef(nn)&&isDef(rn)?nn!==rn&&updateChildren(tn,nn,rn):isDef(rn)?(isDef(Fe.text)&&setTextContent(tn,""),addVnodes(tn,null,rn,0,rn.length-1)):isDef(nn)?removeVnodes(tn,nn,0,nn.length-1):isDef(Fe.text)&&setTextContent(tn,""):Fe.text!==en.text&&(isDef(nn)&&removeVnodes(tn,nn,0,nn.length-1),setTextContent(tn,en.text)))}function patch(Fe,en){if(sameVnode(Fe,en))patchVnode(Fe,en);else{var tn=Fe.elm,nn=parentNode(tn);createElm(en),nn!==null&&(insertBefore(nn,en.elm,nextSibling(tn)),removeVnodes(nn,[Fe],0,0))}return en}var svgId=0,SVGPainter=function(){function Fe(en,tn,nn){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=tn,this._opts=nn=extend$1({},nn),this.root=en,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(nn.width,nn.height),en&&!nn.ssr){var rn=this._viewport=document.createElement("div");rn.style.cssText="position:relative;overflow:hidden";var an=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),rn.appendChild(an),en.appendChild(rn)}this.resize(nn.width,nn.height)}return Fe.prototype.getType=function(){return this.type},Fe.prototype.getViewportRoot=function(){return this._viewport},Fe.prototype.getViewportRootOffset=function(){var en=this.getViewportRoot();if(en)return{offsetLeft:en.offsetLeft||0,offsetTop:en.offsetTop||0}},Fe.prototype.getSvgDom=function(){return this._svgDom},Fe.prototype.refresh=function(){if(this.root){var en=this.renderToVNode({willUpdate:!0});en.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,en),this._oldVNode=en}},Fe.prototype.renderOneToVNode=function(en){return brush(en,createBrushScope(this._id))},Fe.prototype.renderToVNode=function(en){en=en||{};var tn=this.storage.getDisplayList(!0),nn=this._width,rn=this._height,an=createBrushScope(this._id);an.animation=en.animation,an.willUpdate=en.willUpdate,an.compress=en.compress;var ln=[],cn=this._bgVNode=createBackgroundVNode(nn,rn,this._backgroundColor,an);cn&&ln.push(cn);var un=en.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(tn,an,un?un.children:ln),un&&ln.push(un);var fn=map$1(keys(an.defs),function(gn){return an.defs[gn]});if(fn.length&&ln.push(createVNode("defs","defs",{},fn)),en.animation){var hn=getCssString(an.cssNodes,an.cssAnims,{newline:!0});if(hn){var pn=createVNode("style","stl",{},[],hn);ln.push(pn)}}return createSVGVNode(nn,rn,ln,en.useViewBox)},Fe.prototype.renderToString=function(en){return en=en||{},vNodeToString(this.renderToVNode({animation:retrieve2(en.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(en.useViewBox,!0)}),{newline:!0})},Fe.prototype.setBackgroundColor=function(en){this._backgroundColor=en},Fe.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},Fe.prototype._paintList=function(en,tn,nn){for(var rn=en.length,an=[],ln=0,cn,un,fn=0,hn=0;hn<rn;hn++){var pn=en[hn];if(!pn.invisible){var gn=pn.__clipPaths,mn=gn&&gn.length||0,_n=un&&un.length||0,kn=void 0;for(kn=Math.max(mn-1,_n-1);kn>=0&&!(gn&&un&&gn[kn]===un[kn]);kn--);for(var Cn=_n-1;Cn>kn;Cn--)ln--,cn=an[ln-1];for(var xn=kn+1;xn<mn;xn++){var Sn={};setClipPath(gn[xn],Sn,tn);var Mn=createVNode("g","clip-g-"+fn++,Sn,[]);(cn?cn.children:nn).push(Mn),an[ln++]=Mn,cn=Mn}un=gn;var In=brush(pn,tn);In&&(cn?cn.children:nn).push(In)}}},Fe.prototype.resize=function(en,tn){var nn=this._opts,rn=this.root,an=this._viewport;if(en!=null&&(nn.width=en),tn!=null&&(nn.height=tn),rn&&an&&(an.style.display="none",en=getSize$1(rn,0,nn),tn=getSize$1(rn,1,nn),an.style.display=""),this._width!==en||this._height!==tn){if(this._width=en,this._height=tn,an){var ln=an.style;ln.width=en+"px",ln.height=tn+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var cn=this._svgDom;cn&&(cn.setAttribute("width",en),cn.setAttribute("height",tn));var un=this._bgVNode&&this._bgVNode.elm;un&&(un.setAttribute("width",en),un.setAttribute("height",tn))}}},Fe.prototype.getWidth=function(){return this._width},Fe.prototype.getHeight=function(){return this._height},Fe.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},Fe.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},Fe.prototype.toDataURL=function(en){var tn=this.renderToString(),nn="data:image/svg+xml;";return en?(tn=encodeBase64(tn),tn&&nn+"base64,"+tn):nn+"charset=UTF-8,"+encodeURIComponent(tn)},Fe}();function createMethodNotSupport(Fe){return function(){}}function createBackgroundVNode(Fe,en,tn,nn){var rn;if(tn&&tn!=="none")if(rn=createVNode("rect","bg",{width:Fe,height:en,x:"0",y:"0",id:"0"}),isGradient(tn))setGradient({fill:tn},rn.attrs,"fill",nn);else if(isPattern(tn))setPattern({style:{fill:tn},dirty:noop,getBoundingRect:function(){return{width:Fe,height:en}}},rn.attrs,"fill",nn);else{var an=normalizeColor(tn),ln=an.color,cn=an.opacity;rn.attrs.fill=ln,cn<1&&(rn.attrs["fill-opacity"]=cn)}return rn}const SVGPainter$1=SVGPainter;function install$S(Fe){Fe.registerPainter("svg",SVGPainter$1)}function createDom(Fe,en,tn){var nn=platformApi.createCanvas(),rn=en.getWidth(),an=en.getHeight(),ln=nn.style;return ln&&(ln.position="absolute",ln.left="0",ln.top="0",ln.width=rn+"px",ln.height=an+"px",nn.setAttribute("data-zr-dom-id",Fe)),nn.width=rn*tn,nn.height=an*tn,nn}var Layer=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this)||this;an.motionBlur=!1,an.lastFrameAlpha=.7,an.dpr=1,an.virtual=!1,an.config={},an.incremental=!1,an.zlevel=0,an.maxRepaintRectCount=5,an.__dirty=!0,an.__firstTimePaint=!0,an.__used=!1,an.__drawIndex=0,an.__startIndex=0,an.__endIndex=0,an.__prevStartIndex=null,an.__prevEndIndex=null;var ln;rn=rn||devicePixelRatio,typeof tn=="string"?ln=createDom(tn,nn,rn):isObject$3(tn)&&(ln=tn,tn=ln.id),an.id=tn,an.dom=ln;var cn=ln.style;return cn&&(disableUserSelect(ln),ln.onselectstart=function(){return!1},cn.padding="0",cn.margin="0",cn.borderWidth="0"),an.painter=nn,an.dpr=rn,an}return en.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},en.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},en.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},en.prototype.setUnpainted=function(){this.__firstTimePaint=!0},en.prototype.createBackBuffer=function(){var tn=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,tn),this.ctxBack=this.domBack.getContext("2d"),tn!==1&&this.ctxBack.scale(tn,tn)},en.prototype.createRepaintRects=function(tn,nn,rn,an){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var ln=[],cn=this.maxRepaintRectCount,un=!1,fn=new BoundingRect$1(0,0,0,0);function hn(Sn){if(!(!Sn.isFinite()||Sn.isZero()))if(ln.length===0){var Mn=new BoundingRect$1(0,0,0,0);Mn.copy(Sn),ln.push(Mn)}else{for(var In=!1,On=1/0,Pn=0,Tn=0;Tn<ln.length;++Tn){var Nn=ln[Tn];if(Nn.intersect(Sn)){var Hn=new BoundingRect$1(0,0,0,0);Hn.copy(Nn),Hn.union(Sn),ln[Tn]=Hn,In=!0;break}else if(un){fn.copy(Sn),fn.union(Nn);var Un=Sn.width*Sn.height,jn=Nn.width*Nn.height,Yn=fn.width*fn.height,Wn=Yn-Un-jn;Wn<On&&(On=Wn,Pn=Tn)}}if(un&&(ln[Pn].union(Sn),In=!0),!In){var Mn=new BoundingRect$1(0,0,0,0);Mn.copy(Sn),ln.push(Mn)}un||(un=ln.length>=cn)}}for(var pn=this.__startIndex;pn<this.__endIndex;++pn){var gn=tn[pn];if(gn){var mn=gn.shouldBePainted(rn,an,!0,!0),_n=gn.__isRendered&&(gn.__dirty&REDRAW_BIT||!mn)?gn.getPrevPaintRect():null;_n&&hn(_n);var kn=mn&&(gn.__dirty&REDRAW_BIT||!gn.__isRendered)?gn.getPaintRect():null;kn&&hn(kn)}}for(var pn=this.__prevStartIndex;pn<this.__prevEndIndex;++pn){var gn=nn[pn],mn=gn.shouldBePainted(rn,an,!0,!0);if(gn&&(!mn||!gn.__zr)&&gn.__isRendered){var _n=gn.getPrevPaintRect();_n&&hn(_n)}}var Cn;do{Cn=!1;for(var pn=0;pn<ln.length;){if(ln[pn].isZero()){ln.splice(pn,1);continue}for(var xn=pn+1;xn<ln.length;)ln[pn].intersect(ln[xn])?(Cn=!0,ln[pn].union(ln[xn]),ln.splice(xn,1)):xn++;pn++}}while(Cn);return this._paintRects=ln,ln},en.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},en.prototype.resize=function(tn,nn){var rn=this.dpr,an=this.dom,ln=an.style,cn=this.domBack;ln&&(ln.width=tn+"px",ln.height=nn+"px"),an.width=tn*rn,an.height=nn*rn,cn&&(cn.width=tn*rn,cn.height=nn*rn,rn!==1&&this.ctxBack.scale(rn,rn))},en.prototype.clear=function(tn,nn,rn){var an=this.dom,ln=this.ctx,cn=an.width,un=an.height;nn=nn||this.clearColor;var fn=this.motionBlur&&!tn,hn=this.lastFrameAlpha,pn=this.dpr,gn=this;fn&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(an,0,0,cn/pn,un/pn));var mn=this.domBack;function _n(kn,Cn,xn,Sn){if(ln.clearRect(kn,Cn,xn,Sn),nn&&nn!=="transparent"){var Mn=void 0;if(isGradientObject(nn)){var In=nn.global||nn.__width===xn&&nn.__height===Sn;Mn=In&&nn.__canvasGradient||getCanvasGradient(ln,nn,{x:0,y:0,width:xn,height:Sn}),nn.__canvasGradient=Mn,nn.__width=xn,nn.__height=Sn}else isImagePatternObject(nn)&&(nn.scaleX=nn.scaleX||pn,nn.scaleY=nn.scaleY||pn,Mn=createCanvasPattern(ln,nn,{dirty:function(){gn.setUnpainted(),gn.__painter.refresh()}}));ln.save(),ln.fillStyle=Mn||nn,ln.fillRect(kn,Cn,xn,Sn),ln.restore()}fn&&(ln.save(),ln.globalAlpha=hn,ln.drawImage(mn,kn,Cn,xn,Sn),ln.restore())}!rn||fn?_n(0,0,cn,un):rn.length&&each$f(rn,function(kn){_n(kn.x*pn,kn.y*pn,kn.width*pn,kn.height*pn)})},en}(Eventful$1);const Layer$1=Layer;var HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(Fe){return Fe?Fe.__builtin__?!0:!(typeof Fe.resize!="function"||typeof Fe.refresh!="function"):!1}function createRoot(Fe,en){var tn=document.createElement("div");return tn.style.cssText=["position:relative","width:"+Fe+"px","height:"+en+"px","padding:0","margin:0","border-width:0"].join(";")+";",tn}var CanvasPainter=function(){function Fe(en,tn,nn,rn){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var an=!en.nodeName||en.nodeName.toUpperCase()==="CANVAS";this._opts=nn=extend$1({},nn||{}),this.dpr=nn.devicePixelRatio||devicePixelRatio,this._singleCanvas=an,this.root=en;var ln=en.style;ln&&(disableUserSelect(en),en.innerHTML=""),this.storage=tn;var cn=this._zlevelList;this._prevDisplayList=[];var un=this._layers;if(an){var hn=en,pn=hn.width,gn=hn.height;nn.width!=null&&(pn=nn.width),nn.height!=null&&(gn=nn.height),this.dpr=nn.devicePixelRatio||1,hn.width=pn*this.dpr,hn.height=gn*this.dpr,this._width=pn,this._height=gn;var mn=new Layer$1(hn,this,this.dpr);mn.__builtin__=!0,mn.initContext(),un[CANVAS_ZLEVEL]=mn,mn.zlevel=CANVAS_ZLEVEL,cn.push(CANVAS_ZLEVEL),this._domRoot=en}else{this._width=getSize$1(en,0,nn),this._height=getSize$1(en,1,nn);var fn=this._domRoot=createRoot(this._width,this._height);en.appendChild(fn)}}return Fe.prototype.getType=function(){return"canvas"},Fe.prototype.isSingleCanvas=function(){return this._singleCanvas},Fe.prototype.getViewportRoot=function(){return this._domRoot},Fe.prototype.getViewportRootOffset=function(){var en=this.getViewportRoot();if(en)return{offsetLeft:en.offsetLeft||0,offsetTop:en.offsetTop||0}},Fe.prototype.refresh=function(en){var tn=this.storage.getDisplayList(!0),nn=this._prevDisplayList,rn=this._zlevelList;this._redrawId=Math.random(),this._paintList(tn,nn,en,this._redrawId);for(var an=0;an<rn.length;an++){var ln=rn[an],cn=this._layers[ln];if(!cn.__builtin__&&cn.refresh){var un=an===0?this._backgroundColor:null;cn.refresh(un)}}return this._opts.useDirtyRect&&(this._prevDisplayList=tn.slice()),this},Fe.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},Fe.prototype._paintHoverList=function(en){var tn=en.length,nn=this._hoverlayer;if(nn&&nn.clear(),!!tn){for(var rn={inHover:!0,viewWidth:this._width,viewHeight:this._height},an,ln=0;ln<tn;ln++){var cn=en[ln];cn.__inHover&&(nn||(nn=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),an||(an=nn.ctx,an.save()),brush$1(an,cn,rn,ln===tn-1))}an&&an.restore()}},Fe.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},Fe.prototype.paintOne=function(en,tn){brushSingle(en,tn)},Fe.prototype._paintList=function(en,tn,nn,rn){if(this._redrawId===rn){nn=nn||!1,this._updateLayerStatus(en);var an=this._doPaintList(en,tn,nn),ln=an.finished,cn=an.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),cn&&this._paintHoverList(en),ln)this.eachLayer(function(fn){fn.afterBrush&&fn.afterBrush()});else{var un=this;requestAnimationFrame$2(function(){un._paintList(en,tn,nn,rn)})}}},Fe.prototype._compositeManually=function(){var en=this.getLayer(CANVAS_ZLEVEL).ctx,tn=this._domRoot.width,nn=this._domRoot.height;en.clearRect(0,0,tn,nn),this.eachBuiltinLayer(function(rn){rn.virtual&&en.drawImage(rn.dom,0,0,tn,nn)})},Fe.prototype._doPaintList=function(en,tn,nn){for(var rn=this,an=[],ln=this._opts.useDirtyRect,cn=0;cn<this._zlevelList.length;cn++){var un=this._zlevelList[cn],fn=this._layers[un];fn.__builtin__&&fn!==this._hoverlayer&&(fn.__dirty||nn)&&an.push(fn)}for(var hn=!0,pn=!1,gn=function(kn){var Cn=an[kn],xn=Cn.ctx,Sn=ln&&Cn.createRepaintRects(en,tn,mn._width,mn._height),Mn=nn?Cn.__startIndex:Cn.__drawIndex,In=!nn&&Cn.incremental&&Date.now,On=In&&Date.now(),Pn=Cn.zlevel===mn._zlevelList[0]?mn._backgroundColor:null;if(Cn.__startIndex===Cn.__endIndex)Cn.clear(!1,Pn,Sn);else if(Mn===Cn.__startIndex){var Tn=en[Mn];(!Tn.incremental||!Tn.notClear||nn)&&Cn.clear(!1,Pn,Sn)}Mn===-1&&(console.error("For some unknown reason. drawIndex is -1"),Mn=Cn.__startIndex);var Nn,Hn=function(Wn){var Qn={inHover:!1,allClipped:!1,prevEl:null,viewWidth:rn._width,viewHeight:rn._height};for(Nn=Mn;Nn<Cn.__endIndex;Nn++){var Xn=en[Nn];if(Xn.__inHover&&(pn=!0),rn._doPaintEl(Xn,Cn,ln,Wn,Qn,Nn===Cn.__endIndex-1),In){var jr=Date.now()-On;if(jr>15)break}}Qn.prevElClipPaths&&xn.restore()};if(Sn)if(Sn.length===0)Nn=Cn.__endIndex;else for(var Un=mn.dpr,jn=0;jn<Sn.length;++jn){var Yn=Sn[jn];xn.save(),xn.beginPath(),xn.rect(Yn.x*Un,Yn.y*Un,Yn.width*Un,Yn.height*Un),xn.clip(),Hn(Yn),xn.restore()}else xn.save(),Hn(),xn.restore();Cn.__drawIndex=Nn,Cn.__drawIndex<Cn.__endIndex&&(hn=!1)},mn=this,_n=0;_n<an.length;_n++)gn(_n);return env$1.wxa&&each$f(this._layers,function(kn){kn&&kn.ctx&&kn.ctx.draw&&kn.ctx.draw()}),{finished:hn,needsRefreshHover:pn}},Fe.prototype._doPaintEl=function(en,tn,nn,rn,an,ln){var cn=tn.ctx;if(nn){var un=en.getPaintRect();(!rn||un&&un.intersect(rn))&&(brush$1(cn,en,an,ln),en.setPrevPaintRect(un))}else brush$1(cn,en,an,ln)},Fe.prototype.getLayer=function(en,tn){this._singleCanvas&&!this._needsManuallyCompositing&&(en=CANVAS_ZLEVEL);var nn=this._layers[en];return nn||(nn=new Layer$1("zr_"+en,this,this.dpr),nn.zlevel=en,nn.__builtin__=!0,this._layerConfig[en]?merge(nn,this._layerConfig[en],!0):this._layerConfig[en-EL_AFTER_INCREMENTAL_INC]&&merge(nn,this._layerConfig[en-EL_AFTER_INCREMENTAL_INC],!0),tn&&(nn.virtual=tn),this.insertLayer(en,nn),nn.initContext()),nn},Fe.prototype.insertLayer=function(en,tn){var nn=this._layers,rn=this._zlevelList,an=rn.length,ln=this._domRoot,cn=null,un=-1;if(!nn[en]&&isLayerValid(tn)){if(an>0&&en>rn[0]){for(un=0;un<an-1&&!(rn[un]<en&&rn[un+1]>en);un++);cn=nn[rn[un]]}if(rn.splice(un+1,0,en),nn[en]=tn,!tn.virtual)if(cn){var fn=cn.dom;fn.nextSibling?ln.insertBefore(tn.dom,fn.nextSibling):ln.appendChild(tn.dom)}else ln.firstChild?ln.insertBefore(tn.dom,ln.firstChild):ln.appendChild(tn.dom);tn.__painter=this}},Fe.prototype.eachLayer=function(en,tn){for(var nn=this._zlevelList,rn=0;rn<nn.length;rn++){var an=nn[rn];en.call(tn,this._layers[an],an)}},Fe.prototype.eachBuiltinLayer=function(en,tn){for(var nn=this._zlevelList,rn=0;rn<nn.length;rn++){var an=nn[rn],ln=this._layers[an];ln.__builtin__&&en.call(tn,ln,an)}},Fe.prototype.eachOtherLayer=function(en,tn){for(var nn=this._zlevelList,rn=0;rn<nn.length;rn++){var an=nn[rn],ln=this._layers[an];ln.__builtin__||en.call(tn,ln,an)}},Fe.prototype.getLayers=function(){return this._layers},Fe.prototype._updateLayerStatus=function(en){this.eachBuiltinLayer(function(pn,gn){pn.__dirty=pn.__used=!1});function tn(pn){an&&(an.__endIndex!==pn&&(an.__dirty=!0),an.__endIndex=pn)}if(this._singleCanvas)for(var nn=1;nn<en.length;nn++){var rn=en[nn];if(rn.zlevel!==en[nn-1].zlevel||rn.incremental){this._needsManuallyCompositing=!0;break}}var an=null,ln=0,cn,un;for(un=0;un<en.length;un++){var rn=en[un],fn=rn.zlevel,hn=void 0;cn!==fn&&(cn=fn,ln=0),rn.incremental?(hn=this.getLayer(fn+INCREMENTAL_INC,this._needsManuallyCompositing),hn.incremental=!0,ln=1):hn=this.getLayer(fn+(ln>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),hn.__builtin__||logError$1("ZLevel "+fn+" has been used by unkown layer "+hn.id),hn!==an&&(hn.__used=!0,hn.__startIndex!==un&&(hn.__dirty=!0),hn.__startIndex=un,hn.incremental?hn.__drawIndex=-1:hn.__drawIndex=un,tn(un),an=hn),rn.__dirty&REDRAW_BIT&&!rn.__inHover&&(hn.__dirty=!0,hn.incremental&&hn.__drawIndex<0&&(hn.__drawIndex=un))}tn(un),this.eachBuiltinLayer(function(pn,gn){!pn.__used&&pn.getElementCount()>0&&(pn.__dirty=!0,pn.__startIndex=pn.__endIndex=pn.__drawIndex=0),pn.__dirty&&pn.__drawIndex<0&&(pn.__drawIndex=pn.__startIndex)})},Fe.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},Fe.prototype._clearLayer=function(en){en.clear()},Fe.prototype.setBackgroundColor=function(en){this._backgroundColor=en,each$f(this._layers,function(tn){tn.setUnpainted()})},Fe.prototype.configLayer=function(en,tn){if(tn){var nn=this._layerConfig;nn[en]?merge(nn[en],tn,!0):nn[en]=tn;for(var rn=0;rn<this._zlevelList.length;rn++){var an=this._zlevelList[rn];if(an===en||an===en+EL_AFTER_INCREMENTAL_INC){var ln=this._layers[an];merge(ln,nn[en],!0)}}}},Fe.prototype.delLayer=function(en){var tn=this._layers,nn=this._zlevelList,rn=tn[en];rn&&(rn.dom.parentNode.removeChild(rn.dom),delete tn[en],nn.splice(indexOf(nn,en),1))},Fe.prototype.resize=function(en,tn){if(this._domRoot.style){var nn=this._domRoot;nn.style.display="none";var rn=this._opts,an=this.root;if(en!=null&&(rn.width=en),tn!=null&&(rn.height=tn),en=getSize$1(an,0,rn),tn=getSize$1(an,1,rn),nn.style.display="",this._width!==en||tn!==this._height){nn.style.width=en+"px",nn.style.height=tn+"px";for(var ln in this._layers)this._layers.hasOwnProperty(ln)&&this._layers[ln].resize(en,tn);this.refresh(!0)}this._width=en,this._height=tn}else{if(en==null||tn==null)return;this._width=en,this._height=tn,this.getLayer(CANVAS_ZLEVEL).resize(en,tn)}return this},Fe.prototype.clearLayer=function(en){var tn=this._layers[en];tn&&tn.clear()},Fe.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},Fe.prototype.getRenderedCanvas=function(en){if(en=en||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var tn=new Layer$1("image",this,en.pixelRatio||this.dpr);tn.initContext(),tn.clear(!1,en.backgroundColor||this._backgroundColor);var nn=tn.ctx;if(en.pixelRatio<=this.dpr){this.refresh();var rn=tn.dom.width,an=tn.dom.height;this.eachLayer(function(pn){pn.__builtin__?nn.drawImage(pn.dom,0,0,rn,an):pn.renderToCanvas&&(nn.save(),pn.renderToCanvas(nn),nn.restore())})}else for(var ln={inHover:!1,viewWidth:this._width,viewHeight:this._height},cn=this.storage.getDisplayList(!0),un=0,fn=cn.length;un<fn;un++){var hn=cn[un];brush$1(nn,hn,ln,un===fn-1)}return tn.dom},Fe.prototype.getWidth=function(){return this._width},Fe.prototype.getHeight=function(){return this._height},Fe}();const CanvasPainter$1=CanvasPainter;function install$R(Fe){Fe.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.hasSymbolVisual=!0,tn}return en.prototype.getInitialData=function(tn){return createSeriesData(null,this,{useEncodeDefaulter:!0})},en.prototype.getLegendIcon=function(tn){var nn=new Group$4,rn=createSymbol$1("line",0,tn.itemHeight/2,tn.itemWidth,0,tn.lineStyle.stroke,!1);nn.add(rn),rn.setStyle(tn.lineStyle);var an=this.getData().getVisual("symbol"),ln=this.getData().getVisual("symbolRotate"),cn=an==="none"?"circle":an,un=tn.itemHeight*.8,fn=createSymbol$1(cn,(tn.itemWidth-un)/2,(tn.itemHeight-un)/2,un,un,tn.itemStyle.fill);nn.add(fn),fn.setStyle(tn.itemStyle);var hn=tn.iconRotate==="inherit"?ln:tn.iconRotate||0;return fn.rotation=hn*Math.PI/180,fn.setOrigin([tn.itemWidth/2,tn.itemHeight/2]),cn.indexOf("empty")>-1&&(fn.style.stroke=fn.style.fill,fn.style.fill="#fff",fn.style.lineWidth=2),nn},en.type="series.line",en.dependencies=["grid","polar"],en.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},en}(SeriesModel$1);const LineSeries=LineSeriesModel;function getDefaultLabel(Fe,en){var tn=Fe.mapDimensionsAll("defaultedLabel"),nn=tn.length;if(nn===1){var rn=retrieveRawValue(Fe,en,tn[0]);return rn!=null?rn+"":null}else if(nn){for(var an=[],ln=0;ln<tn.length;ln++)an.push(retrieveRawValue(Fe,en,tn[ln]));return an.join(" ")}}function getDefaultInterpolatedLabel(Fe,en){var tn=Fe.mapDimensionsAll("defaultedLabel");if(!isArray$1(en))return en+"";for(var nn=[],rn=0;rn<tn.length;rn++){var an=Fe.getDimensionIndex(tn[rn]);an>=0&&nn.push(en[an])}return nn.join(" ")}var Symbol$1=function(Fe){__extends(en,Fe);function en(tn,nn,rn,an){var ln=Fe.call(this)||this;return ln.updateData(tn,nn,rn,an),ln}return en.prototype._createSymbol=function(tn,nn,rn,an,ln){this.removeAll();var cn=createSymbol$1(tn,-1,-1,2,2,null,ln);cn.attr({z2:100,culling:!0,scaleX:an[0]/2,scaleY:an[1]/2}),cn.drift=driftSymbol,this._symbolType=tn,this.add(cn)},en.prototype.stopSymbolAnimation=function(tn){this.childAt(0).stopAnimation(null,tn)},en.prototype.getSymbolType=function(){return this._symbolType},en.prototype.getSymbolPath=function(){return this.childAt(0)},en.prototype.highlight=function(){enterEmphasis(this.childAt(0))},en.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},en.prototype.setZ=function(tn,nn){var rn=this.childAt(0);rn.zlevel=tn,rn.z=nn},en.prototype.setDraggable=function(tn,nn){var rn=this.childAt(0);rn.draggable=tn,rn.cursor=!nn&&tn?"move":rn.cursor},en.prototype.updateData=function(tn,nn,rn,an){this.silent=!1;var ln=tn.getItemVisual(nn,"symbol")||"circle",cn=tn.hostModel,un=en.getSymbolSize(tn,nn),fn=ln!==this._symbolType,hn=an&&an.disableAnimation;if(fn){var pn=tn.getItemVisual(nn,"symbolKeepAspect");this._createSymbol(ln,tn,nn,un,pn)}else{var gn=this.childAt(0);gn.silent=!1;var mn={scaleX:un[0]/2,scaleY:un[1]/2};hn?gn.attr(mn):updateProps$1(gn,mn,cn,nn),saveOldStyle(gn)}if(this._updateCommon(tn,nn,un,rn,an),fn){var gn=this.childAt(0);if(!hn){var mn={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:gn.style.opacity}};gn.scaleX=gn.scaleY=0,gn.style.opacity=0,initProps(gn,mn,cn,nn)}}hn&&this.childAt(0).stopAnimation("leave")},en.prototype._updateCommon=function(tn,nn,rn,an,ln){var cn=this.childAt(0),un=tn.hostModel,fn,hn,pn,gn,mn,_n,kn,Cn,xn;if(an&&(fn=an.emphasisItemStyle,hn=an.blurItemStyle,pn=an.selectItemStyle,gn=an.focus,mn=an.blurScope,kn=an.labelStatesModels,Cn=an.hoverScale,xn=an.cursorStyle,_n=an.emphasisDisabled),!an||tn.hasItemOption){var Sn=an&&an.itemModel?an.itemModel:tn.getItemModel(nn),Mn=Sn.getModel("emphasis");fn=Mn.getModel("itemStyle").getItemStyle(),pn=Sn.getModel(["select","itemStyle"]).getItemStyle(),hn=Sn.getModel(["blur","itemStyle"]).getItemStyle(),gn=Mn.get("focus"),mn=Mn.get("blurScope"),_n=Mn.get("disabled"),kn=getLabelStatesModels(Sn),Cn=Mn.getShallow("scale"),xn=Sn.getShallow("cursor")}var In=tn.getItemVisual(nn,"symbolRotate");cn.attr("rotation",(In||0)*Math.PI/180||0);var On=normalizeSymbolOffset(tn.getItemVisual(nn,"symbolOffset"),rn);On&&(cn.x=On[0],cn.y=On[1]),xn&&cn.attr("cursor",xn);var Pn=tn.getItemVisual(nn,"style"),Tn=Pn.fill;if(cn instanceof ZRImage$1){var Nn=cn.style;cn.useStyle(extend$1({image:Nn.image,x:Nn.x,y:Nn.y,width:Nn.width,height:Nn.height},Pn))}else cn.__isEmptyBrush?cn.useStyle(extend$1({},Pn)):cn.useStyle(Pn),cn.style.decal=null,cn.setColor(Tn,ln&&ln.symbolInnerColor),cn.style.strokeNoScale=!0;var Hn=tn.getItemVisual(nn,"liftZ"),Un=this._z2;Hn!=null?Un==null&&(this._z2=cn.z2,cn.z2+=Hn):Un!=null&&(cn.z2=Un,this._z2=null);var jn=ln&&ln.useNameLabel;setLabelStyle(cn,kn,{labelFetcher:un,labelDataIndex:nn,defaultText:Yn,inheritColor:Tn,defaultOpacity:Pn.opacity});function Yn(Xn){return jn?tn.getName(Xn):getDefaultLabel(tn,Xn)}this._sizeX=rn[0]/2,this._sizeY=rn[1]/2;var Wn=cn.ensureState("emphasis");Wn.style=fn,cn.ensureState("select").style=pn,cn.ensureState("blur").style=hn;var Qn=Cn==null||Cn===!0?Math.max(1.1,3/this._sizeY):isFinite(Cn)&&Cn>0?+Cn:1;Wn.scaleX=this._sizeX*Qn,Wn.scaleY=this._sizeY*Qn,this.setSymbolScale(1),toggleHoverEmphasis(this,gn,mn,_n)},en.prototype.setSymbolScale=function(tn){this.scaleX=this.scaleY=tn},en.prototype.fadeOut=function(tn,nn,rn){var an=this.childAt(0),ln=getECData(this).dataIndex,cn=rn&&rn.animation;if(this.silent=an.silent=!0,rn&&rn.fadeLabel){var un=an.getTextContent();un&&removeElement(un,{style:{opacity:0}},nn,{dataIndex:ln,removeOpt:cn,cb:function(){an.removeTextContent()}})}else an.removeTextContent();removeElement(an,{style:{opacity:0},scaleX:0,scaleY:0},nn,{dataIndex:ln,cb:tn,removeOpt:cn})},en.getSymbolSize=function(tn,nn){return normalizeSymbolSize(tn.getItemVisual(nn,"symbolSize"))},en}(Group$4);function driftSymbol(Fe,en){this.parent.drift(Fe,en)}const SymbolClz=Symbol$1;function symbolNeedsDraw$1(Fe,en,tn,nn){return en&&!isNaN(en[0])&&!isNaN(en[1])&&!(nn.isIgnore&&nn.isIgnore(tn))&&!(nn.clipShape&&!nn.clipShape.contain(en[0],en[1]))&&Fe.getItemVisual(tn,"symbol")!=="none"}function normalizeUpdateOpt(Fe){return Fe!=null&&!isObject$3(Fe)&&(Fe={isIgnore:Fe}),Fe||{}}function makeSeriesScope$2(Fe){var en=Fe.hostModel,tn=en.getModel("emphasis");return{emphasisItemStyle:tn.getModel("itemStyle").getItemStyle(),blurItemStyle:en.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:en.getModel(["select","itemStyle"]).getItemStyle(),focus:tn.get("focus"),blurScope:tn.get("blurScope"),emphasisDisabled:tn.get("disabled"),hoverScale:tn.get("scale"),labelStatesModels:getLabelStatesModels(en),cursorStyle:en.get("cursor")}}var SymbolDraw=function(){function Fe(en){this.group=new Group$4,this._SymbolCtor=en||SymbolClz}return Fe.prototype.updateData=function(en,tn){this._progressiveEls=null,tn=normalizeUpdateOpt(tn);var nn=this.group,rn=en.hostModel,an=this._data,ln=this._SymbolCtor,cn=tn.disableAnimation,un=makeSeriesScope$2(en),fn={disableAnimation:cn},hn=tn.getSymbolPoint||function(pn){return en.getItemLayout(pn)};an||nn.removeAll(),en.diff(an).add(function(pn){var gn=hn(pn);if(symbolNeedsDraw$1(en,gn,pn,tn)){var mn=new ln(en,pn,un,fn);mn.setPosition(gn),en.setItemGraphicEl(pn,mn),nn.add(mn)}}).update(function(pn,gn){var mn=an.getItemGraphicEl(gn),_n=hn(pn);if(!symbolNeedsDraw$1(en,_n,pn,tn)){nn.remove(mn);return}var kn=en.getItemVisual(pn,"symbol")||"circle",Cn=mn&&mn.getSymbolType&&mn.getSymbolType();if(!mn||Cn&&Cn!==kn)nn.remove(mn),mn=new ln(en,pn,un,fn),mn.setPosition(_n);else{mn.updateData(en,pn,un,fn);var xn={x:_n[0],y:_n[1]};cn?mn.attr(xn):updateProps$1(mn,xn,rn)}nn.add(mn),en.setItemGraphicEl(pn,mn)}).remove(function(pn){var gn=an.getItemGraphicEl(pn);gn&&gn.fadeOut(function(){nn.remove(gn)},rn)}).execute(),this._getSymbolPoint=hn,this._data=en},Fe.prototype.updateLayout=function(){var en=this,tn=this._data;tn&&tn.eachItemGraphicEl(function(nn,rn){var an=en._getSymbolPoint(rn);nn.setPosition(an),nn.markRedraw()})},Fe.prototype.incrementalPrepareUpdate=function(en){this._seriesScope=makeSeriesScope$2(en),this._data=null,this.group.removeAll()},Fe.prototype.incrementalUpdate=function(en,tn,nn){this._progressiveEls=[],nn=normalizeUpdateOpt(nn);function rn(un){un.isGroup||(un.incremental=!0,un.ensureState("emphasis").hoverLayer=!0)}for(var an=en.start;an<en.end;an++){var ln=tn.getItemLayout(an);if(symbolNeedsDraw$1(tn,ln,an,nn)){var cn=new this._SymbolCtor(tn,an,this._seriesScope);cn.traverse(rn),cn.setPosition(ln),this.group.add(cn),tn.setItemGraphicEl(an,cn),this._progressiveEls.push(cn)}}},Fe.prototype.eachRendered=function(en){traverseElements(this._progressiveEls||this.group,en)},Fe.prototype.remove=function(en){var tn=this.group,nn=this._data;nn&&en?nn.eachItemGraphicEl(function(rn){rn.fadeOut(function(){tn.remove(rn)},nn.hostModel)}):tn.removeAll()},Fe}();const SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo(Fe,en,tn){var nn=Fe.getBaseAxis(),rn=Fe.getOtherAxis(nn),an=getValueStart(rn,tn),ln=nn.dim,cn=rn.dim,un=en.mapDimension(cn),fn=en.mapDimension(ln),hn=cn==="x"||cn==="radius"?1:0,pn=map$1(Fe.dimensions,function(_n){return en.mapDimension(_n)}),gn=!1,mn=en.getCalculationInfo("stackResultDimension");return isDimensionStacked(en,pn[0])&&(gn=!0,pn[0]=mn),isDimensionStacked(en,pn[1])&&(gn=!0,pn[1]=mn),{dataDimsForPoint:pn,valueStart:an,valueAxisDim:cn,baseAxisDim:ln,stacked:!!gn,valueDim:un,baseDim:fn,baseDataOffset:hn,stackedOverDimension:en.getCalculationInfo("stackedOverDimension")}}function getValueStart(Fe,en){var tn=0,nn=Fe.scale.getExtent();return en==="start"?tn=nn[0]:en==="end"?tn=nn[1]:isNumber(en)&&!isNaN(en)?tn=en:nn[0]>0?tn=nn[0]:nn[1]<0&&(tn=nn[1]),tn}function getStackedOnPoint(Fe,en,tn,nn){var rn=NaN;Fe.stacked&&(rn=tn.get(tn.getCalculationInfo("stackedOverDimension"),nn)),isNaN(rn)&&(rn=Fe.valueStart);var an=Fe.baseDataOffset,ln=[];return ln[an]=tn.get(Fe.baseDim,nn),ln[1-an]=rn,en.dataToPoint(ln)}function diffData(Fe,en){var tn=[];return en.diff(Fe).add(function(nn){tn.push({cmd:"+",idx:nn})}).update(function(nn,rn){tn.push({cmd:"=",idx:rn,idx1:nn})}).remove(function(nn){tn.push({cmd:"-",idx:nn})}).execute(),tn}function lineAnimationDiff(Fe,en,tn,nn,rn,an,ln,cn){for(var un=diffData(Fe,en),fn=[],hn=[],pn=[],gn=[],mn=[],_n=[],kn=[],Cn=prepareDataCoordInfo(rn,en,ln),xn=Fe.getLayout("points")||[],Sn=en.getLayout("points")||[],Mn=0;Mn<un.length;Mn++){var In=un[Mn],On=!0,Pn=void 0,Tn=void 0;switch(In.cmd){case"=":Pn=In.idx*2,Tn=In.idx1*2;var Nn=xn[Pn],Hn=xn[Pn+1],Un=Sn[Tn],jn=Sn[Tn+1];(isNaN(Nn)||isNaN(Hn))&&(Nn=Un,Hn=jn),fn.push(Nn,Hn),hn.push(Un,jn),pn.push(tn[Pn],tn[Pn+1]),gn.push(nn[Tn],nn[Tn+1]),kn.push(en.getRawIndex(In.idx1));break;case"+":var Yn=In.idx,Wn=Cn.dataDimsForPoint,Qn=rn.dataToPoint([en.get(Wn[0],Yn),en.get(Wn[1],Yn)]);Tn=Yn*2,fn.push(Qn[0],Qn[1]),hn.push(Sn[Tn],Sn[Tn+1]);var Xn=getStackedOnPoint(Cn,rn,en,Yn);pn.push(Xn[0],Xn[1]),gn.push(nn[Tn],nn[Tn+1]),kn.push(en.getRawIndex(Yn));break;case"-":On=!1}On&&(mn.push(In),_n.push(_n.length))}_n.sort(function(pi,ri){return kn[pi]-kn[ri]});for(var jr=fn.length,Wr=createFloat32Array(jr),Jr=createFloat32Array(jr),ci=createFloat32Array(jr),ti=createFloat32Array(jr),Zr=[],Mn=0;Mn<_n.length;Mn++){var Br=_n[Mn],Jn=Mn*2,oi=Br*2;Wr[Jn]=fn[oi],Wr[Jn+1]=fn[oi+1],Jr[Jn]=hn[oi],Jr[Jn+1]=hn[oi+1],ci[Jn]=pn[oi],ci[Jn+1]=pn[oi+1],ti[Jn]=gn[oi],ti[Jn+1]=gn[oi+1],Zr[Mn]=mn[Br]}return{current:Wr,next:Jr,stackedOnCurrent:ci,stackedOnNext:ti,status:Zr}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(Fe,en){return isNaN(Fe)||isNaN(en)}function drawSegment(Fe,en,tn,nn,rn,an,ln,cn,un){for(var fn,hn,pn,gn,mn,_n,kn=tn,Cn=0;Cn<nn;Cn++){var xn=en[kn*2],Sn=en[kn*2+1];if(kn>=rn||kn<0)break;if(isPointNull$1(xn,Sn)){if(un){kn+=an;continue}break}if(kn===tn)Fe[an>0?"moveTo":"lineTo"](xn,Sn),pn=xn,gn=Sn;else{var Mn=xn-fn,In=Sn-hn;if(Mn*Mn+In*In<.5){kn+=an;continue}if(ln>0){for(var On=kn+an,Pn=en[On*2],Tn=en[On*2+1];Pn===xn&&Tn===Sn&&Cn<nn;)Cn++,On+=an,kn+=an,Pn=en[On*2],Tn=en[On*2+1],xn=en[kn*2],Sn=en[kn*2+1],Mn=xn-fn,In=Sn-hn;var Nn=Cn+1;if(un)for(;isPointNull$1(Pn,Tn)&&Nn<nn;)Nn++,On+=an,Pn=en[On*2],Tn=en[On*2+1];var Hn=.5,Un=0,jn=0,Yn=void 0,Wn=void 0;if(Nn>=nn||isPointNull$1(Pn,Tn))mn=xn,_n=Sn;else{Un=Pn-fn,jn=Tn-hn;var Qn=xn-fn,Xn=Pn-xn,jr=Sn-hn,Wr=Tn-Sn,Jr=void 0,ci=void 0;if(cn==="x"){Jr=Math.abs(Qn),ci=Math.abs(Xn);var ti=Un>0?1:-1;mn=xn-ti*Jr*ln,_n=Sn,Yn=xn+ti*ci*ln,Wn=Sn}else if(cn==="y"){Jr=Math.abs(jr),ci=Math.abs(Wr);var Zr=jn>0?1:-1;mn=xn,_n=Sn-Zr*Jr*ln,Yn=xn,Wn=Sn+Zr*ci*ln}else Jr=Math.sqrt(Qn*Qn+jr*jr),ci=Math.sqrt(Xn*Xn+Wr*Wr),Hn=ci/(ci+Jr),mn=xn-Un*ln*(1-Hn),_n=Sn-jn*ln*(1-Hn),Yn=xn+Un*ln*Hn,Wn=Sn+jn*ln*Hn,Yn=mathMin$5(Yn,mathMax$5(Pn,xn)),Wn=mathMin$5(Wn,mathMax$5(Tn,Sn)),Yn=mathMax$5(Yn,mathMin$5(Pn,xn)),Wn=mathMax$5(Wn,mathMin$5(Tn,Sn)),Un=Yn-xn,jn=Wn-Sn,mn=xn-Un*Jr/ci,_n=Sn-jn*Jr/ci,mn=mathMin$5(mn,mathMax$5(fn,xn)),_n=mathMin$5(_n,mathMax$5(hn,Sn)),mn=mathMax$5(mn,mathMin$5(fn,xn)),_n=mathMax$5(_n,mathMin$5(hn,Sn)),Un=xn-mn,jn=Sn-_n,Yn=xn+Un*ci/Jr,Wn=Sn+jn*ci/Jr}Fe.bezierCurveTo(pn,gn,mn,_n,xn,Sn),pn=Yn,gn=Wn}else Fe.lineTo(xn,Sn)}fn=xn,hn=Sn,kn+=an}return Cn}var ECPolylineShape=function(){function Fe(){this.smooth=0,this.smoothConstraint=!0}return Fe}(),ECPolyline=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="ec-polyline",nn}return en.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},en.prototype.getDefaultShape=function(){return new ECPolylineShape},en.prototype.buildPath=function(tn,nn){var rn=nn.points,an=0,ln=rn.length/2;if(nn.connectNulls){for(;ln>0&&isPointNull$1(rn[ln*2-2],rn[ln*2-1]);ln--);for(;an<ln&&isPointNull$1(rn[an*2],rn[an*2+1]);an++);}for(;an<ln;)an+=drawSegment(tn,rn,an,ln,ln,1,nn.smooth,nn.smoothMonotone,nn.connectNulls)+1},en.prototype.getPointOn=function(tn,nn){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var rn=this.path,an=rn.data,ln=PathProxy$1.CMD,cn,un,fn=nn==="x",hn=[],pn=0;pn<an.length;){var gn=an[pn++],mn=void 0,_n=void 0,kn=void 0,Cn=void 0,xn=void 0,Sn=void 0,Mn=void 0;switch(gn){case ln.M:cn=an[pn++],un=an[pn++];break;case ln.L:if(mn=an[pn++],_n=an[pn++],Mn=fn?(tn-cn)/(mn-cn):(tn-un)/(_n-un),Mn<=1&&Mn>=0){var In=fn?(_n-un)*Mn+un:(mn-cn)*Mn+cn;return fn?[tn,In]:[In,tn]}cn=mn,un=_n;break;case ln.C:mn=an[pn++],_n=an[pn++],kn=an[pn++],Cn=an[pn++],xn=an[pn++],Sn=an[pn++];var On=fn?cubicRootAt(cn,mn,kn,xn,tn,hn):cubicRootAt(un,_n,Cn,Sn,tn,hn);if(On>0)for(var Pn=0;Pn<On;Pn++){var Tn=hn[Pn];if(Tn<=1&&Tn>=0){var In=fn?cubicAt(un,_n,Cn,Sn,Tn):cubicAt(cn,mn,kn,xn,Tn);return fn?[tn,In]:[In,tn]}}cn=xn,un=Sn;break}}},en}(Path$1),ECPolygonShape=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en}(ECPolylineShape),ECPolygon=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="ec-polygon",nn}return en.prototype.getDefaultShape=function(){return new ECPolygonShape},en.prototype.buildPath=function(tn,nn){var rn=nn.points,an=nn.stackedOnPoints,ln=0,cn=rn.length/2,un=nn.smoothMonotone;if(nn.connectNulls){for(;cn>0&&isPointNull$1(rn[cn*2-2],rn[cn*2-1]);cn--);for(;ln<cn&&isPointNull$1(rn[ln*2],rn[ln*2+1]);ln++);}for(;ln<cn;){var fn=drawSegment(tn,rn,ln,cn,cn,1,nn.smooth,un,nn.connectNulls);drawSegment(tn,an,ln+fn-1,fn,cn,-1,nn.stackedOnSmooth,un,nn.connectNulls),ln+=fn+1,tn.closePath()}},en}(Path$1);function createGridClipPath(Fe,en,tn,nn,rn){var an=Fe.getArea(),ln=an.x,cn=an.y,un=an.width,fn=an.height,hn=tn.get(["lineStyle","width"])||2;ln-=hn/2,cn-=hn/2,un+=hn,fn+=hn,ln=Math.floor(ln),un=Math.round(un);var pn=new Rect$3({shape:{x:ln,y:cn,width:un,height:fn}});if(en){var gn=Fe.getBaseAxis(),mn=gn.isHorizontal(),_n=gn.inverse;mn?(_n&&(pn.shape.x+=un),pn.shape.width=0):(_n||(pn.shape.y+=fn),pn.shape.height=0);var kn=isFunction(rn)?function(Cn){rn(Cn,pn)}:null;initProps(pn,{shape:{width:un,height:fn,x:ln,y:cn}},tn,null,nn,kn)}return pn}function createPolarClipPath(Fe,en,tn){var nn=Fe.getArea(),rn=round$3(nn.r0,1),an=round$3(nn.r,1),ln=new Sector$1({shape:{cx:round$3(Fe.cx,1),cy:round$3(Fe.cy,1),r0:rn,r:an,startAngle:nn.startAngle,endAngle:nn.endAngle,clockwise:nn.clockwise}});if(en){var cn=Fe.getBaseAxis().dim==="angle";cn?ln.shape.endAngle=nn.startAngle:ln.shape.r=rn,initProps(ln,{shape:{endAngle:nn.endAngle,r:an}},tn)}return ln}function createClipPath(Fe,en,tn,nn,rn){if(Fe){if(Fe.type==="polar")return createPolarClipPath(Fe,en,tn);if(Fe.type==="cartesian2d")return createGridClipPath(Fe,en,tn,nn,rn)}else return null;return null}function isCoordinateSystemType(Fe,en){return Fe.type===en}function isPointsSame(Fe,en){if(Fe.length===en.length){for(var tn=0;tn<Fe.length;tn++)if(Fe[tn]!==en[tn])return;return!0}}function bboxFromPoints(Fe){for(var en=1/0,tn=1/0,nn=-1/0,rn=-1/0,an=0;an<Fe.length;){var ln=Fe[an++],cn=Fe[an++];isNaN(ln)||(en=Math.min(ln,en),nn=Math.max(ln,nn)),isNaN(cn)||(tn=Math.min(cn,tn),rn=Math.max(cn,rn))}return[[en,tn],[nn,rn]]}function getBoundingDiff(Fe,en){var tn=bboxFromPoints(Fe),nn=tn[0],rn=tn[1],an=bboxFromPoints(en),ln=an[0],cn=an[1];return Math.max(Math.abs(nn[0]-ln[0]),Math.abs(nn[1]-ln[1]),Math.abs(rn[0]-cn[0]),Math.abs(rn[1]-cn[1]))}function getSmooth(Fe){return isNumber(Fe)?Fe:Fe?.5:0}function getStackedOnPoints(Fe,en,tn){if(!tn.valueDim)return[];for(var nn=en.count(),rn=createFloat32Array(nn*2),an=0;an<nn;an++){var ln=getStackedOnPoint(tn,Fe,en,an);rn[an*2]=ln[0],rn[an*2+1]=ln[1]}return rn}function turnPointsIntoStep(Fe,en,tn,nn){var rn=en.getBaseAxis(),an=rn.dim==="x"||rn.dim==="radius"?0:1,ln=[],cn=0,un=[],fn=[],hn=[],pn=[];if(nn){for(cn=0;cn<Fe.length;cn+=2)!isNaN(Fe[cn])&&!isNaN(Fe[cn+1])&&pn.push(Fe[cn],Fe[cn+1]);Fe=pn}for(cn=0;cn<Fe.length-2;cn+=2)switch(hn[0]=Fe[cn+2],hn[1]=Fe[cn+3],fn[0]=Fe[cn],fn[1]=Fe[cn+1],ln.push(fn[0],fn[1]),tn){case"end":un[an]=hn[an],un[1-an]=fn[1-an],ln.push(un[0],un[1]);break;case"middle":var gn=(fn[an]+hn[an])/2,mn=[];un[an]=mn[an]=gn,un[1-an]=fn[1-an],mn[1-an]=hn[1-an],ln.push(un[0],un[1]),ln.push(mn[0],mn[1]);break;default:un[an]=fn[an],un[1-an]=hn[1-an],ln.push(un[0],un[1])}return ln.push(Fe[cn++],Fe[cn++]),ln}function clipColorStops(Fe,en){var tn=[],nn=Fe.length,rn,an;function ln(hn,pn,gn){var mn=hn.coord,_n=(gn-mn)/(pn.coord-mn),kn=lerp(_n,[hn.color,pn.color]);return{coord:gn,color:kn}}for(var cn=0;cn<nn;cn++){var un=Fe[cn],fn=un.coord;if(fn<0)rn=un;else if(fn>en){an?tn.push(ln(an,un,en)):rn&&tn.push(ln(rn,un,0),ln(rn,un,en));break}else rn&&(tn.push(ln(rn,un,0)),rn=null),tn.push(un),an=un}return tn}function getVisualGradient(Fe,en,tn){var nn=Fe.getVisual("visualMeta");if(!(!nn||!nn.length||!Fe.count())&&en.type==="cartesian2d"){for(var rn,an,ln=nn.length-1;ln>=0;ln--){var cn=Fe.getDimensionInfo(nn[ln].dimension);if(rn=cn&&cn.coordDim,rn==="x"||rn==="y"){an=nn[ln];break}}if(an){var un=en.getAxis(rn),fn=map$1(an.stops,function(Mn){return{coord:un.toGlobalCoord(un.dataToCoord(Mn.value)),color:Mn.color}}),hn=fn.length,pn=an.outerColors.slice();hn&&fn[0].coord>fn[hn-1].coord&&(fn.reverse(),pn.reverse());var gn=clipColorStops(fn,rn==="x"?tn.getWidth():tn.getHeight()),mn=gn.length;if(!mn&&hn)return fn[0].coord<0?pn[1]?pn[1]:fn[hn-1].color:pn[0]?pn[0]:fn[0].color;var _n=10,kn=gn[0].coord-_n,Cn=gn[mn-1].coord+_n,xn=Cn-kn;if(xn<.001)return"transparent";each$f(gn,function(Mn){Mn.offset=(Mn.coord-kn)/xn}),gn.push({offset:mn?gn[mn-1].offset:.5,color:pn[1]||"transparent"}),gn.unshift({offset:mn?gn[0].offset:.5,color:pn[0]||"transparent"});var Sn=new LinearGradient$1(0,0,0,0,gn,!0);return Sn[rn]=kn,Sn[rn+"2"]=Cn,Sn}}}function getIsIgnoreFunc(Fe,en,tn){var nn=Fe.get("showAllSymbol"),rn=nn==="auto";if(!(nn&&!rn)){var an=tn.getAxesByScale("ordinal")[0];if(an&&!(rn&&canShowAllSymbolForCategory(an,en))){var ln=en.mapDimension(an.dim),cn={};return each$f(an.getViewLabels(),function(un){var fn=an.scale.getRawOrdinalNumber(un.tickValue);cn[fn]=1}),function(un){return!cn.hasOwnProperty(en.get(ln,un))}}}}function canShowAllSymbolForCategory(Fe,en){var tn=Fe.getExtent(),nn=Math.abs(tn[1]-tn[0])/Fe.scale.count();isNaN(nn)&&(nn=0);for(var rn=en.count(),an=Math.max(1,Math.round(rn/5)),ln=0;ln<rn;ln+=an)if(SymbolClz.getSymbolSize(en,ln)[Fe.isHorizontal()?1:0]*1.5>nn)return!1;return!0}function isPointNull(Fe,en){return isNaN(Fe)||isNaN(en)}function getLastIndexNotNull(Fe){for(var en=Fe.length/2;en>0&&isPointNull(Fe[en*2-2],Fe[en*2-1]);en--);return en-1}function getPointAtIndex(Fe,en){return[Fe[en*2],Fe[en*2+1]]}function getIndexRange(Fe,en,tn){for(var nn=Fe.length/2,rn=tn==="x"?0:1,an,ln,cn=0,un=-1,fn=0;fn<nn;fn++)if(ln=Fe[fn*2+rn],!(isNaN(ln)||isNaN(Fe[fn*2+1-rn]))){if(fn===0){an=ln;continue}if(an<=en&&ln>=en||an>=en&&ln<=en){un=fn;break}cn=fn,an=ln}return{range:[cn,un],t:(en-an)/(ln-an)}}function anyStateShowEndLabel(Fe){if(Fe.get(["endLabel","show"]))return!0;for(var en=0;en<SPECIAL_STATES.length;en++)if(Fe.get([SPECIAL_STATES[en],"endLabel","show"]))return!0;return!1}function createLineClipPath(Fe,en,tn,nn){if(isCoordinateSystemType(en,"cartesian2d")){var rn=nn.getModel("endLabel"),an=rn.get("valueAnimation"),ln=nn.getData(),cn={lastFrameIndex:0},un=anyStateShowEndLabel(nn)?function(mn,_n){Fe._endLabelOnDuring(mn,_n,ln,cn,an,rn,en)}:null,fn=en.getBaseAxis().isHorizontal(),hn=createGridClipPath(en,tn,nn,function(){var mn=Fe._endLabel;mn&&tn&&cn.originalX!=null&&mn.attr({x:cn.originalX,y:cn.originalY})},un);if(!nn.get("clip",!0)){var pn=hn.shape,gn=Math.max(pn.width,pn.height);fn?(pn.y-=gn,pn.height+=gn*2):(pn.x-=gn,pn.width+=gn*2)}return un&&un(1,hn),hn}else return createPolarClipPath(en,tn,nn)}function getEndLabelStateSpecified(Fe,en){var tn=en.getBaseAxis(),nn=tn.isHorizontal(),rn=tn.inverse,an=nn?rn?"right":"left":"center",ln=nn?"middle":rn?"top":"bottom";return{normal:{align:Fe.get("align")||an,verticalAlign:Fe.get("verticalAlign")||ln}}}var LineView=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.init=function(){var tn=new Group$4,nn=new SymbolDraw$1;this.group.add(nn.group),this._symbolDraw=nn,this._lineGroup=tn},en.prototype.render=function(tn,nn,rn){var an=this,ln=tn.coordinateSystem,cn=this.group,un=tn.getData(),fn=tn.getModel("lineStyle"),hn=tn.getModel("areaStyle"),pn=un.getLayout("points")||[],gn=ln.type==="polar",mn=this._coordSys,_n=this._symbolDraw,kn=this._polyline,Cn=this._polygon,xn=this._lineGroup,Sn=!nn.ssr&&tn.isAnimationEnabled(),Mn=!hn.isEmpty(),In=hn.get("origin"),On=prepareDataCoordInfo(ln,un,In),Pn=Mn&&getStackedOnPoints(ln,un,On),Tn=tn.get("showSymbol"),Nn=tn.get("connectNulls"),Hn=Tn&&!gn&&getIsIgnoreFunc(tn,un,ln),Un=this._data;Un&&Un.eachItemGraphicEl(function(ri,fi){ri.__temp&&(cn.remove(ri),Un.setItemGraphicEl(fi,null))}),Tn||_n.remove(),cn.add(xn);var jn=gn?!1:tn.get("step"),Yn;ln&&ln.getArea&&tn.get("clip",!0)&&(Yn=ln.getArea(),Yn.width!=null?(Yn.x-=.1,Yn.y-=.1,Yn.width+=.2,Yn.height+=.2):Yn.r0&&(Yn.r0-=.5,Yn.r+=.5)),this._clipShapeForSymbol=Yn;var Wn=getVisualGradient(un,ln,rn)||un.getVisual("style")[un.getVisual("drawType")];if(!(kn&&mn.type===ln.type&&jn===this._step))Tn&&_n.updateData(un,{isIgnore:Hn,clipShape:Yn,disableAnimation:!0,getSymbolPoint:function(ri){return[pn[ri*2],pn[ri*2+1]]}}),Sn&&this._initSymbolLabelAnimation(un,ln,Yn),jn&&(pn=turnPointsIntoStep(pn,ln,jn,Nn),Pn&&(Pn=turnPointsIntoStep(Pn,ln,jn,Nn))),kn=this._newPolyline(pn),Mn?Cn=this._newPolygon(pn,Pn):Cn&&(xn.remove(Cn),Cn=this._polygon=null),gn||this._initOrUpdateEndLabel(tn,ln,convertToColorString(Wn)),xn.setClipPath(createLineClipPath(this,ln,!0,tn));else{Mn&&!Cn?Cn=this._newPolygon(pn,Pn):Cn&&!Mn&&(xn.remove(Cn),Cn=this._polygon=null),gn||this._initOrUpdateEndLabel(tn,ln,convertToColorString(Wn));var Qn=xn.getClipPath();if(Qn){var Xn=createLineClipPath(this,ln,!1,tn);initProps(Qn,{shape:Xn.shape},tn)}else xn.setClipPath(createLineClipPath(this,ln,!0,tn));Tn&&_n.updateData(un,{isIgnore:Hn,clipShape:Yn,disableAnimation:!0,getSymbolPoint:function(ri){return[pn[ri*2],pn[ri*2+1]]}}),(!isPointsSame(this._stackedOnPoints,Pn)||!isPointsSame(this._points,pn))&&(Sn?this._doUpdateAnimation(un,Pn,ln,rn,jn,In,Nn):(jn&&(pn=turnPointsIntoStep(pn,ln,jn,Nn),Pn&&(Pn=turnPointsIntoStep(Pn,ln,jn,Nn))),kn.setShape({points:pn}),Cn&&Cn.setShape({points:pn,stackedOnPoints:Pn})))}var jr=tn.getModel("emphasis"),Wr=jr.get("focus"),Jr=jr.get("blurScope"),ci=jr.get("disabled");if(kn.useStyle(defaults(fn.getLineStyle(),{fill:"none",stroke:Wn,lineJoin:"bevel"})),setStatesStylesFromModel(kn,tn,"lineStyle"),kn.style.lineWidth>0&&tn.get(["emphasis","lineStyle","width"])==="bolder"){var ti=kn.getState("emphasis").style;ti.lineWidth=+kn.style.lineWidth+1}getECData(kn).seriesIndex=tn.seriesIndex,toggleHoverEmphasis(kn,Wr,Jr,ci);var Zr=getSmooth(tn.get("smooth")),Br=tn.get("smoothMonotone");if(kn.setShape({smooth:Zr,smoothMonotone:Br,connectNulls:Nn}),Cn){var Jn=un.getCalculationInfo("stackedOnSeries"),oi=0;Cn.useStyle(defaults(hn.getAreaStyle(),{fill:Wn,opacity:.7,lineJoin:"bevel",decal:un.getVisual("style").decal})),Jn&&(oi=getSmooth(Jn.get("smooth"))),Cn.setShape({smooth:Zr,stackedOnSmooth:oi,smoothMonotone:Br,connectNulls:Nn}),setStatesStylesFromModel(Cn,tn,"areaStyle"),getECData(Cn).seriesIndex=tn.seriesIndex,toggleHoverEmphasis(Cn,Wr,Jr,ci)}var pi=function(ri){an._changePolyState(ri)};un.eachItemGraphicEl(function(ri){ri&&(ri.onHoverStateChange=pi)}),this._polyline.onHoverStateChange=pi,this._data=un,this._coordSys=ln,this._stackedOnPoints=Pn,this._points=pn,this._step=jn,this._valueOrigin=In,tn.get("triggerLineEvent")&&(this.packEventData(tn,kn),Cn&&this.packEventData(tn,Cn))},en.prototype.packEventData=function(tn,nn){getECData(nn).eventData={componentType:"series",componentSubType:"line",componentIndex:tn.componentIndex,seriesIndex:tn.seriesIndex,seriesName:tn.name,seriesType:"line"}},en.prototype.highlight=function(tn,nn,rn,an){var ln=tn.getData(),cn=queryDataIndex(ln,an);if(this._changePolyState("emphasis"),!(cn instanceof Array)&&cn!=null&&cn>=0){var un=ln.getLayout("points"),fn=ln.getItemGraphicEl(cn);if(!fn){var hn=un[cn*2],pn=un[cn*2+1];if(isNaN(hn)||isNaN(pn)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(hn,pn))return;var gn=tn.get("zlevel")||0,mn=tn.get("z")||0;fn=new SymbolClz(ln,cn),fn.x=hn,fn.y=pn,fn.setZ(gn,mn);var _n=fn.getSymbolPath().getTextContent();_n&&(_n.zlevel=gn,_n.z=mn,_n.z2=this._polyline.z2+1),fn.__temp=!0,ln.setItemGraphicEl(cn,fn),fn.stopSymbolAnimation(!0),this.group.add(fn)}fn.highlight()}else ChartView$1.prototype.highlight.call(this,tn,nn,rn,an)},en.prototype.downplay=function(tn,nn,rn,an){var ln=tn.getData(),cn=queryDataIndex(ln,an);if(this._changePolyState("normal"),cn!=null&&cn>=0){var un=ln.getItemGraphicEl(cn);un&&(un.__temp?(ln.setItemGraphicEl(cn,null),this.group.remove(un)):un.downplay())}else ChartView$1.prototype.downplay.call(this,tn,nn,rn,an)},en.prototype._changePolyState=function(tn){var nn=this._polygon;setStatesFlag(this._polyline,tn),nn&&setStatesFlag(nn,tn)},en.prototype._newPolyline=function(tn){var nn=this._polyline;return nn&&this._lineGroup.remove(nn),nn=new ECPolyline({shape:{points:tn},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(nn),this._polyline=nn,nn},en.prototype._newPolygon=function(tn,nn){var rn=this._polygon;return rn&&this._lineGroup.remove(rn),rn=new ECPolygon({shape:{points:tn,stackedOnPoints:nn},segmentIgnoreThreshold:2}),this._lineGroup.add(rn),this._polygon=rn,rn},en.prototype._initSymbolLabelAnimation=function(tn,nn,rn){var an,ln,cn=nn.getBaseAxis(),un=cn.inverse;nn.type==="cartesian2d"?(an=cn.isHorizontal(),ln=!1):nn.type==="polar"&&(an=cn.dim==="angle",ln=!0);var fn=tn.hostModel,hn=fn.get("animationDuration");isFunction(hn)&&(hn=hn(null));var pn=fn.get("animationDelay")||0,gn=isFunction(pn)?pn(null):pn;tn.eachItemGraphicEl(function(mn,_n){var kn=mn;if(kn){var Cn=[mn.x,mn.y],xn=void 0,Sn=void 0,Mn=void 0;if(rn)if(ln){var In=rn,On=nn.pointToCoord(Cn);an?(xn=In.startAngle,Sn=In.endAngle,Mn=-On[1]/180*Math.PI):(xn=In.r0,Sn=In.r,Mn=On[0])}else{var Pn=rn;an?(xn=Pn.x,Sn=Pn.x+Pn.width,Mn=mn.x):(xn=Pn.y+Pn.height,Sn=Pn.y,Mn=mn.y)}var Tn=Sn===xn?0:(Mn-xn)/(Sn-xn);un&&(Tn=1-Tn);var Nn=isFunction(pn)?pn(_n):hn*Tn+gn,Hn=kn.getSymbolPath(),Un=Hn.getTextContent();kn.attr({scaleX:0,scaleY:0}),kn.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Nn}),Un&&Un.animateFrom({style:{opacity:0}},{duration:300,delay:Nn}),Hn.disableLabelAnimation=!0}})},en.prototype._initOrUpdateEndLabel=function(tn,nn,rn){var an=tn.getModel("endLabel");if(anyStateShowEndLabel(tn)){var ln=tn.getData(),cn=this._polyline,un=ln.getLayout("points");if(!un){cn.removeTextContent(),this._endLabel=null;return}var fn=this._endLabel;fn||(fn=this._endLabel=new ZRText$1({z2:200}),fn.ignoreClip=!0,cn.setTextContent(this._endLabel),cn.disableLabelAnimation=!0);var hn=getLastIndexNotNull(un);hn>=0&&(setLabelStyle(cn,getLabelStatesModels(tn,"endLabel"),{inheritColor:rn,labelFetcher:tn,labelDataIndex:hn,defaultText:function(pn,gn,mn){return mn!=null?getDefaultInterpolatedLabel(ln,mn):getDefaultLabel(ln,pn)},enableTextSetter:!0},getEndLabelStateSpecified(an,nn)),cn.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},en.prototype._endLabelOnDuring=function(tn,nn,rn,an,ln,cn,un){var fn=this._endLabel,hn=this._polyline;if(fn){tn<1&&an.originalX==null&&(an.originalX=fn.x,an.originalY=fn.y);var pn=rn.getLayout("points"),gn=rn.hostModel,mn=gn.get("connectNulls"),_n=cn.get("precision"),kn=cn.get("distance")||0,Cn=un.getBaseAxis(),xn=Cn.isHorizontal(),Sn=Cn.inverse,Mn=nn.shape,In=Sn?xn?Mn.x:Mn.y+Mn.height:xn?Mn.x+Mn.width:Mn.y,On=(xn?kn:0)*(Sn?-1:1),Pn=(xn?0:-kn)*(Sn?-1:1),Tn=xn?"x":"y",Nn=getIndexRange(pn,In,Tn),Hn=Nn.range,Un=Hn[1]-Hn[0],jn=void 0;if(Un>=1){if(Un>1&&!mn){var Yn=getPointAtIndex(pn,Hn[0]);fn.attr({x:Yn[0]+On,y:Yn[1]+Pn}),ln&&(jn=gn.getRawValue(Hn[0]))}else{var Yn=hn.getPointOn(In,Tn);Yn&&fn.attr({x:Yn[0]+On,y:Yn[1]+Pn});var Wn=gn.getRawValue(Hn[0]),Qn=gn.getRawValue(Hn[1]);ln&&(jn=interpolateRawValues(rn,_n,Wn,Qn,Nn.t))}an.lastFrameIndex=Hn[0]}else{var Xn=tn===1||an.lastFrameIndex>0?Hn[0]:0,Yn=getPointAtIndex(pn,Xn);ln&&(jn=gn.getRawValue(Xn)),fn.attr({x:Yn[0]+On,y:Yn[1]+Pn})}if(ln){var jr=labelInner(fn);typeof jr.setLabelText=="function"&&jr.setLabelText(jn)}}},en.prototype._doUpdateAnimation=function(tn,nn,rn,an,ln,cn,un){var fn=this._polyline,hn=this._polygon,pn=tn.hostModel,gn=lineAnimationDiff(this._data,tn,this._stackedOnPoints,nn,this._coordSys,rn,this._valueOrigin),mn=gn.current,_n=gn.stackedOnCurrent,kn=gn.next,Cn=gn.stackedOnNext;if(ln&&(mn=turnPointsIntoStep(gn.current,rn,ln,un),_n=turnPointsIntoStep(gn.stackedOnCurrent,rn,ln,un),kn=turnPointsIntoStep(gn.next,rn,ln,un),Cn=turnPointsIntoStep(gn.stackedOnNext,rn,ln,un)),getBoundingDiff(mn,kn)>3e3||hn&&getBoundingDiff(_n,Cn)>3e3){fn.stopAnimation(),fn.setShape({points:kn}),hn&&(hn.stopAnimation(),hn.setShape({points:kn,stackedOnPoints:Cn}));return}fn.shape.__points=gn.current,fn.shape.points=mn;var xn={shape:{points:kn}};gn.current!==mn&&(xn.shape.__points=gn.next),fn.stopAnimation(),updateProps$1(fn,xn,pn),hn&&(hn.setShape({points:mn,stackedOnPoints:_n}),hn.stopAnimation(),updateProps$1(hn,{shape:{stackedOnPoints:Cn}},pn),fn.shape.points!==hn.shape.points&&(hn.shape.points=fn.shape.points));for(var Sn=[],Mn=gn.status,In=0;In<Mn.length;In++){var On=Mn[In].cmd;if(On==="="){var Pn=tn.getItemGraphicEl(Mn[In].idx1);Pn&&Sn.push({el:Pn,ptIdx:In})}}fn.animators&&fn.animators.length&&fn.animators[0].during(function(){hn&&hn.dirtyShape();for(var Tn=fn.shape.__points,Nn=0;Nn<Sn.length;Nn++){var Hn=Sn[Nn].el,Un=Sn[Nn].ptIdx*2;Hn.x=Tn[Un],Hn.y=Tn[Un+1],Hn.markRedraw()}})},en.prototype.remove=function(tn){var nn=this.group,rn=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),rn&&rn.eachItemGraphicEl(function(an,ln){an.__temp&&(nn.remove(an),rn.setItemGraphicEl(ln,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},en.type="line",en}(ChartView$1);const LineView$1=LineView;function pointsLayout(Fe,en){return{seriesType:Fe,plan:createRenderPlanner(),reset:function(tn){var nn=tn.getData(),rn=tn.coordinateSystem,an=tn.pipelineContext,ln=en||an.large;if(rn){var cn=map$1(rn.dimensions,function(mn){return nn.mapDimension(mn)}).slice(0,2),un=cn.length,fn=nn.getCalculationInfo("stackResultDimension");isDimensionStacked(nn,cn[0])&&(cn[0]=fn),isDimensionStacked(nn,cn[1])&&(cn[1]=fn);var hn=nn.getStore(),pn=nn.getDimensionIndex(cn[0]),gn=nn.getDimensionIndex(cn[1]);return un&&{progress:function(mn,_n){for(var kn=mn.end-mn.start,Cn=ln&&createFloat32Array(kn*un),xn=[],Sn=[],Mn=mn.start,In=0;Mn<mn.end;Mn++){var On=void 0;if(un===1){var Pn=hn.get(pn,Mn);On=rn.dataToPoint(Pn,null,Sn)}else xn[0]=hn.get(pn,Mn),xn[1]=hn.get(gn,Mn),On=rn.dataToPoint(xn,null,Sn);ln?(Cn[In++]=On[0],Cn[In++]=On[1]):_n.setItemLayout(Mn,On.slice())}ln&&_n.setLayout("points",Cn)}}}}}}var samplers={average:function(Fe){for(var en=0,tn=0,nn=0;nn<Fe.length;nn++)isNaN(Fe[nn])||(en+=Fe[nn],tn++);return tn===0?NaN:en/tn},sum:function(Fe){for(var en=0,tn=0;tn<Fe.length;tn++)en+=Fe[tn]||0;return en},max:function(Fe){for(var en=-1/0,tn=0;tn<Fe.length;tn++)Fe[tn]>en&&(en=Fe[tn]);return isFinite(en)?en:NaN},min:function(Fe){for(var en=1/0,tn=0;tn<Fe.length;tn++)Fe[tn]<en&&(en=Fe[tn]);return isFinite(en)?en:NaN},nearest:function(Fe){return Fe[0]}},indexSampler=function(Fe){return Math.round(Fe.length/2)};function dataSample(Fe){return{seriesType:Fe,reset:function(en,tn,nn){var rn=en.getData(),an=en.get("sampling"),ln=en.coordinateSystem,cn=rn.count();if(cn>10&&ln.type==="cartesian2d"&&an){var un=ln.getBaseAxis(),fn=ln.getOtherAxis(un),hn=un.getExtent(),pn=nn.getDevicePixelRatio(),gn=Math.abs(hn[1]-hn[0])*(pn||1),mn=Math.round(cn/gn);if(isFinite(mn)&&mn>1){an==="lttb"&&en.setData(rn.lttbDownSample(rn.mapDimension(fn.dim),1/mn));var _n=void 0;isString(an)?_n=samplers[an]:isFunction(an)&&(_n=an),_n&&en.setData(rn.downSample(rn.mapDimension(fn.dim),1/mn,_n,indexSampler))}}}}}function install$Q(Fe){Fe.registerChartView(LineView$1),Fe.registerSeriesModel(LineSeries),Fe.registerLayout(pointsLayout("line",!0)),Fe.registerVisual({seriesType:"line",reset:function(en){var tn=en.getData(),nn=en.getModel("lineStyle").getLineStyle();nn&&!nn.stroke&&(nn.stroke=tn.getVisual("style").fill),tn.setVisual("legendLineStyle",nn)}}),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.getInitialData=function(tn,nn){return createSeriesData(null,this,{useEncodeDefaulter:!0})},en.prototype.getMarkerPosition=function(tn,nn,rn){var an=this.coordinateSystem;if(an&&an.clampData){var ln=an.clampData(tn),cn=an.dataToPoint(ln);if(rn)each$f(an.getAxes(),function(gn,mn){if(gn.type==="category"&&nn!=null){var _n=gn.getTicksCoords(),kn=ln[mn],Cn=nn[mn]==="x1"||nn[mn]==="y1";if(Cn&&(kn+=1),_n.length<2)return;if(_n.length===2){cn[mn]=gn.toGlobalCoord(gn.getExtent()[Cn?1:0]);return}for(var xn=void 0,Sn=void 0,Mn=1,In=0;In<_n.length;In++){var On=_n[In].coord,Pn=In===_n.length-1?_n[In-1].tickValue+Mn:_n[In].tickValue;if(Pn===kn){Sn=On;break}else if(Pn<kn)xn=On;else if(xn!=null&&Pn>kn){Sn=(On+xn)/2;break}In===1&&(Mn=Pn-_n[0].tickValue)}Sn==null&&(xn?xn&&(Sn=_n[_n.length-1].coord):Sn=_n[0].coord),cn[mn]=gn.toGlobalCoord(Sn)}});else{var un=this.getData(),fn=un.getLayout("offset"),hn=un.getLayout("size"),pn=an.getBaseAxis().isHorizontal()?0:1;cn[pn]+=fn+hn/2}return cn}return[NaN,NaN]},en.type="series.__base_bar__",en.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},en}(SeriesModel$1);SeriesModel$1.registerClass(BaseBarSeriesModel);const BaseBarSeriesModel$1=BaseBarSeriesModel;var BarSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},en.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},en.prototype.getProgressiveThreshold=function(){var tn=this.get("progressiveThreshold"),nn=this.get("largeThreshold");return nn>tn&&(tn=nn),tn},en.prototype.brushSelector=function(tn,nn,rn){return rn.rect(nn.getItemLayout(tn))},en.type="series.bar",en.dependencies=["grid","polar"],en.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),en}(BaseBarSeriesModel$1);const BarSeries=BarSeriesModel;var SausageShape=function(){function Fe(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return Fe}(),SausagePath=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="sausage",nn}return en.prototype.getDefaultShape=function(){return new SausageShape},en.prototype.buildPath=function(tn,nn){var rn=nn.cx,an=nn.cy,ln=Math.max(nn.r0||0,0),cn=Math.max(nn.r,0),un=(cn-ln)*.5,fn=ln+un,hn=nn.startAngle,pn=nn.endAngle,gn=nn.clockwise,mn=Math.PI*2,_n=gn?pn-hn<mn:hn-pn<mn;_n||(hn=pn-(gn?mn:-mn));var kn=Math.cos(hn),Cn=Math.sin(hn),xn=Math.cos(pn),Sn=Math.sin(pn);_n?(tn.moveTo(kn*ln+rn,Cn*ln+an),tn.arc(kn*fn+rn,Cn*fn+an,un,-Math.PI+hn,hn,!gn)):tn.moveTo(kn*cn+rn,Cn*cn+an),tn.arc(rn,an,cn,hn,pn,!gn),tn.arc(xn*fn+rn,Sn*fn+an,un,pn-Math.PI*2,pn-Math.PI,!gn),ln!==0&&tn.arc(rn,an,ln,pn,hn,gn)},en}(Path$1);const Sausage=SausagePath;function createSectorCalculateTextPosition(Fe,en){en=en||{};var tn=en.isRoundCap;return function(nn,rn,an){var ln=rn.position;if(!ln||ln instanceof Array)return calculateTextPosition(nn,rn,an);var cn=Fe(ln),un=rn.distance!=null?rn.distance:5,fn=this.shape,hn=fn.cx,pn=fn.cy,gn=fn.r,mn=fn.r0,_n=(gn+mn)/2,kn=fn.startAngle,Cn=fn.endAngle,xn=(kn+Cn)/2,Sn=tn?Math.abs(gn-mn)/2:0,Mn=Math.cos,In=Math.sin,On=hn+gn*Mn(kn),Pn=pn+gn*In(kn),Tn="left",Nn="top";switch(cn){case"startArc":On=hn+(mn-un)*Mn(xn),Pn=pn+(mn-un)*In(xn),Tn="center",Nn="top";break;case"insideStartArc":On=hn+(mn+un)*Mn(xn),Pn=pn+(mn+un)*In(xn),Tn="center",Nn="bottom";break;case"startAngle":On=hn+_n*Mn(kn)+adjustAngleDistanceX(kn,un+Sn,!1),Pn=pn+_n*In(kn)+adjustAngleDistanceY(kn,un+Sn,!1),Tn="right",Nn="middle";break;case"insideStartAngle":On=hn+_n*Mn(kn)+adjustAngleDistanceX(kn,-un+Sn,!1),Pn=pn+_n*In(kn)+adjustAngleDistanceY(kn,-un+Sn,!1),Tn="left",Nn="middle";break;case"middle":On=hn+_n*Mn(xn),Pn=pn+_n*In(xn),Tn="center",Nn="middle";break;case"endArc":On=hn+(gn+un)*Mn(xn),Pn=pn+(gn+un)*In(xn),Tn="center",Nn="bottom";break;case"insideEndArc":On=hn+(gn-un)*Mn(xn),Pn=pn+(gn-un)*In(xn),Tn="center",Nn="top";break;case"endAngle":On=hn+_n*Mn(Cn)+adjustAngleDistanceX(Cn,un+Sn,!0),Pn=pn+_n*In(Cn)+adjustAngleDistanceY(Cn,un+Sn,!0),Tn="left",Nn="middle";break;case"insideEndAngle":On=hn+_n*Mn(Cn)+adjustAngleDistanceX(Cn,-un+Sn,!0),Pn=pn+_n*In(Cn)+adjustAngleDistanceY(Cn,-un+Sn,!0),Tn="right",Nn="middle";break;default:return calculateTextPosition(nn,rn,an)}return nn=nn||{},nn.x=On,nn.y=Pn,nn.align=Tn,nn.verticalAlign=Nn,nn}}function setSectorTextRotation(Fe,en,tn,nn){if(isNumber(nn)){Fe.setTextConfig({rotation:nn});return}else if(isArray$1(en)){Fe.setTextConfig({rotation:0});return}var rn=Fe.shape,an=rn.clockwise?rn.startAngle:rn.endAngle,ln=rn.clockwise?rn.endAngle:rn.startAngle,cn=(an+ln)/2,un,fn=tn(en);switch(fn){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":un=cn;break;case"startAngle":case"insideStartAngle":un=an;break;case"endAngle":case"insideEndAngle":un=ln;break;default:Fe.setTextConfig({rotation:0});return}var hn=Math.PI*1.5-un;fn==="middle"&&hn>Math.PI/2&&hn<Math.PI*1.5&&(hn-=Math.PI),Fe.setTextConfig({rotation:hn})}function adjustAngleDistanceX(Fe,en,tn){return en*Math.sin(Fe)*(tn?-1:1)}function adjustAngleDistanceY(Fe,en,tn){return en*Math.cos(Fe)*(tn?1:-1)}function getSectorCornerRadius(Fe,en,tn){var nn=Fe.get("borderRadius");if(nn==null)return tn?{cornerRadius:0}:null;isArray$1(nn)||(nn=[nn,nn,nn,nn]);var rn=Math.abs(en.r||0-en.r0||0);return{cornerRadius:map$1(nn,function(an){return parsePercent$1(an,rn)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(Fe,en){var tn=Fe.getArea&&Fe.getArea();if(isCoordinateSystemType(Fe,"cartesian2d")){var nn=Fe.getBaseAxis();if(nn.type!=="category"||!nn.onBand){var rn=en.getLayout("bandWidth");nn.isHorizontal()?(tn.x-=rn,tn.width+=rn*2):(tn.y-=rn,tn.height+=rn*2)}}return tn}var BarView=function(Fe){__extends(en,Fe);function en(){var tn=Fe.call(this)||this;return tn.type=en.type,tn._isFirstFrame=!0,tn}return en.prototype.render=function(tn,nn,rn,an){this._model=tn,this._removeOnRenderedListener(rn),this._updateDrawMode(tn);var ln=tn.get("coordinateSystem");(ln==="cartesian2d"||ln==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(tn,nn,rn):this._renderNormal(tn,nn,rn,an))},en.prototype.incrementalPrepareRender=function(tn){this._clear(),this._updateDrawMode(tn),this._updateLargeClip(tn)},en.prototype.incrementalRender=function(tn,nn){this._progressiveEls=[],this._incrementalRenderLarge(tn,nn)},en.prototype.eachRendered=function(tn){traverseElements(this._progressiveEls||this.group,tn)},en.prototype._updateDrawMode=function(tn){var nn=tn.pipelineContext.large;(this._isLargeDraw==null||nn!==this._isLargeDraw)&&(this._isLargeDraw=nn,this._clear())},en.prototype._renderNormal=function(tn,nn,rn,an){var ln=this.group,cn=tn.getData(),un=this._data,fn=tn.coordinateSystem,hn=fn.getBaseAxis(),pn;fn.type==="cartesian2d"?pn=hn.isHorizontal():fn.type==="polar"&&(pn=hn.dim==="angle");var gn=tn.isAnimationEnabled()?tn:null,mn=shouldRealtimeSort(tn,fn);mn&&this._enableRealtimeSort(mn,cn,rn);var _n=tn.get("clip",!0)||mn,kn=getClipArea(fn,cn);ln.removeClipPath();var Cn=tn.get("roundCap",!0),xn=tn.get("showBackground",!0),Sn=tn.getModel("backgroundStyle"),Mn=Sn.get("borderRadius")||0,In=[],On=this._backgroundEls,Pn=an&&an.isInitSort,Tn=an&&an.type==="changeAxisOrder";function Nn(jn){var Yn=getLayout[fn.type](cn,jn),Wn=createBackgroundEl(fn,pn,Yn);return Wn.useStyle(Sn.getItemStyle()),fn.type==="cartesian2d"?Wn.setShape("r",Mn):Wn.setShape("cornerRadius",Mn),In[jn]=Wn,Wn}cn.diff(un).add(function(jn){var Yn=cn.getItemModel(jn),Wn=getLayout[fn.type](cn,jn,Yn);if(xn&&Nn(jn),!(!cn.hasValue(jn)||!isValidLayout[fn.type](Wn))){var Qn=!1;_n&&(Qn=clip[fn.type](kn,Wn));var Xn=elementCreator[fn.type](tn,cn,jn,Wn,pn,gn,hn.model,!1,Cn);mn&&(Xn.forceLabelAnimation=!0),updateStyle(Xn,cn,jn,Yn,Wn,tn,pn,fn.type==="polar"),Pn?Xn.attr({shape:Wn}):mn?updateRealtimeAnimation(mn,gn,Xn,Wn,jn,pn,!1,!1):initProps(Xn,{shape:Wn},tn,jn),cn.setItemGraphicEl(jn,Xn),ln.add(Xn),Xn.ignore=Qn}}).update(function(jn,Yn){var Wn=cn.getItemModel(jn),Qn=getLayout[fn.type](cn,jn,Wn);if(xn){var Xn=void 0;On.length===0?Xn=Nn(Yn):(Xn=On[Yn],Xn.useStyle(Sn.getItemStyle()),fn.type==="cartesian2d"?Xn.setShape("r",Mn):Xn.setShape("cornerRadius",Mn),In[jn]=Xn);var jr=getLayout[fn.type](cn,jn),Wr=createBackgroundShape(pn,jr,fn);updateProps$1(Xn,{shape:Wr},gn,jn)}var Jr=un.getItemGraphicEl(Yn);if(!cn.hasValue(jn)||!isValidLayout[fn.type](Qn)){ln.remove(Jr);return}var ci=!1;if(_n&&(ci=clip[fn.type](kn,Qn),ci&&ln.remove(Jr)),Jr?saveOldStyle(Jr):Jr=elementCreator[fn.type](tn,cn,jn,Qn,pn,gn,hn.model,!!Jr,Cn),mn&&(Jr.forceLabelAnimation=!0),Tn){var ti=Jr.getTextContent();if(ti){var Zr=labelInner(ti);Zr.prevValue!=null&&(Zr.prevValue=Zr.value)}}else updateStyle(Jr,cn,jn,Wn,Qn,tn,pn,fn.type==="polar");Pn?Jr.attr({shape:Qn}):mn?updateRealtimeAnimation(mn,gn,Jr,Qn,jn,pn,!0,Tn):updateProps$1(Jr,{shape:Qn},tn,jn,null),cn.setItemGraphicEl(jn,Jr),Jr.ignore=ci,ln.add(Jr)}).remove(function(jn){var Yn=un.getItemGraphicEl(jn);Yn&&removeElementWithFadeOut(Yn,tn,jn)}).execute();var Hn=this._backgroundGroup||(this._backgroundGroup=new Group$4);Hn.removeAll();for(var Un=0;Un<In.length;++Un)Hn.add(In[Un]);ln.add(Hn),this._backgroundEls=In,this._data=cn},en.prototype._renderLarge=function(tn,nn,rn){this._clear(),createLarge$1(tn,this.group),this._updateLargeClip(tn)},en.prototype._incrementalRenderLarge=function(tn,nn){this._removeBackground(),createLarge$1(nn,this.group,this._progressiveEls,!0)},en.prototype._updateLargeClip=function(tn){var nn=tn.get("clip",!0)&&createClipPath(tn.coordinateSystem,!1,tn),rn=this.group;nn?rn.setClipPath(nn):rn.removeClipPath()},en.prototype._enableRealtimeSort=function(tn,nn,rn){var an=this;if(nn.count()){var ln=tn.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(nn,tn,rn),this._isFirstFrame=!1;else{var cn=function(un){var fn=nn.getItemGraphicEl(un),hn=fn&&fn.shape;return hn&&Math.abs(ln.isHorizontal()?hn.height:hn.width)||0};this._onRendered=function(){an._updateSortWithinSameData(nn,cn,ln,rn)},rn.getZr().on("rendered",this._onRendered)}}},en.prototype._dataSort=function(tn,nn,rn){var an=[];return tn.each(tn.mapDimension(nn.dim),function(ln,cn){var un=rn(cn);un=un??NaN,an.push({dataIndex:cn,mappedValue:un,ordinalNumber:ln})}),an.sort(function(ln,cn){return cn.mappedValue-ln.mappedValue}),{ordinalNumbers:map$1(an,function(ln){return ln.ordinalNumber})}},en.prototype._isOrderChangedWithinSameData=function(tn,nn,rn){for(var an=rn.scale,ln=tn.mapDimension(rn.dim),cn=Number.MAX_VALUE,un=0,fn=an.getOrdinalMeta().categories.length;un<fn;++un){var hn=tn.rawIndexOf(ln,an.getRawOrdinalNumber(un)),pn=hn<0?Number.MIN_VALUE:nn(tn.indexOfRawIndex(hn));if(pn>cn)return!0;cn=pn}return!1},en.prototype._isOrderDifferentInView=function(tn,nn){for(var rn=nn.scale,an=rn.getExtent(),ln=Math.max(0,an[0]),cn=Math.min(an[1],rn.getOrdinalMeta().categories.length-1);ln<=cn;++ln)if(tn.ordinalNumbers[ln]!==rn.getRawOrdinalNumber(ln))return!0},en.prototype._updateSortWithinSameData=function(tn,nn,rn,an){if(this._isOrderChangedWithinSameData(tn,nn,rn)){var ln=this._dataSort(tn,rn,nn);this._isOrderDifferentInView(ln,rn)&&(this._removeOnRenderedListener(an),an.dispatchAction({type:"changeAxisOrder",componentType:rn.dim+"Axis",axisId:rn.index,sortInfo:ln}))}},en.prototype._dispatchInitSort=function(tn,nn,rn){var an=nn.baseAxis,ln=this._dataSort(tn,an,function(cn){return tn.get(tn.mapDimension(nn.otherAxis.dim),cn)});rn.dispatchAction({type:"changeAxisOrder",componentType:an.dim+"Axis",isInitSort:!0,axisId:an.index,sortInfo:ln})},en.prototype.remove=function(tn,nn){this._clear(this._model),this._removeOnRenderedListener(nn)},en.prototype.dispose=function(tn,nn){this._removeOnRenderedListener(nn)},en.prototype._removeOnRenderedListener=function(tn){this._onRendered&&(tn.getZr().off("rendered",this._onRendered),this._onRendered=null)},en.prototype._clear=function(tn){var nn=this.group,rn=this._data;tn&&tn.isAnimationEnabled()&&rn&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],rn.eachItemGraphicEl(function(an){removeElementWithFadeOut(an,tn,getECData(an).dataIndex)})):nn.removeAll(),this._data=null,this._isFirstFrame=!0},en.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},en.type="bar",en}(ChartView$1),clip={cartesian2d:function(Fe,en){var tn=en.width<0?-1:1,nn=en.height<0?-1:1;tn<0&&(en.x+=en.width,en.width=-en.width),nn<0&&(en.y+=en.height,en.height=-en.height);var rn=Fe.x+Fe.width,an=Fe.y+Fe.height,ln=mathMax$4(en.x,Fe.x),cn=mathMin$4(en.x+en.width,rn),un=mathMax$4(en.y,Fe.y),fn=mathMin$4(en.y+en.height,an),hn=cn<ln,pn=fn<un;return en.x=hn&&ln>rn?cn:ln,en.y=pn&&un>an?fn:un,en.width=hn?0:cn-ln,en.height=pn?0:fn-un,tn<0&&(en.x+=en.width,en.width=-en.width),nn<0&&(en.y+=en.height,en.height=-en.height),hn||pn},polar:function(Fe,en){var tn=en.r0<=en.r?1:-1;if(tn<0){var nn=en.r;en.r=en.r0,en.r0=nn}var rn=mathMin$4(en.r,Fe.r),an=mathMax$4(en.r0,Fe.r0);en.r=rn,en.r0=an;var ln=rn-an<0;if(tn<0){var nn=en.r;en.r=en.r0,en.r0=nn}return ln}},elementCreator={cartesian2d:function(Fe,en,tn,nn,rn,an,ln,cn,un){var fn=new Rect$3({shape:extend$1({},nn),z2:1});if(fn.__dataIndex=tn,fn.name="item",an){var hn=fn.shape,pn=rn?"height":"width";hn[pn]=0}return fn},polar:function(Fe,en,tn,nn,rn,an,ln,cn,un){var fn=!rn&&un?Sausage:Sector$1,hn=new fn({shape:nn,z2:1});hn.name="item";var pn=createPolarPositionMapping(rn);if(hn.calculateTextPosition=createSectorCalculateTextPosition(pn,{isRoundCap:fn===Sausage}),an){var gn=hn.shape,mn=rn?"r":"endAngle",_n={};gn[mn]=rn?nn.r0:nn.startAngle,_n[mn]=nn[mn],(cn?updateProps$1:initProps)(hn,{shape:_n},an)}return hn}};function shouldRealtimeSort(Fe,en){var tn=Fe.get("realtimeSort",!0),nn=en.getBaseAxis();if(tn&&nn.type==="category"&&en.type==="cartesian2d")return{baseAxis:nn,otherAxis:en.getOtherAxis(nn)}}function updateRealtimeAnimation(Fe,en,tn,nn,rn,an,ln,cn){var un,fn;an?(fn={x:nn.x,width:nn.width},un={y:nn.y,height:nn.height}):(fn={y:nn.y,height:nn.height},un={x:nn.x,width:nn.width}),cn||(ln?updateProps$1:initProps)(tn,{shape:un},en,rn,null);var hn=en?Fe.baseAxis.model:null;(ln?updateProps$1:initProps)(tn,{shape:fn},hn,rn)}function checkPropertiesNotValid(Fe,en){for(var tn=0;tn<en.length;tn++)if(!isFinite(Fe[en[tn]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(Fe){return!checkPropertiesNotValid(Fe,rectPropties)},polar:function(Fe){return!checkPropertiesNotValid(Fe,polarPropties)}},getLayout={cartesian2d:function(Fe,en,tn){var nn=Fe.getItemLayout(en),rn=tn?getLineWidth(tn,nn):0,an=nn.width>0?1:-1,ln=nn.height>0?1:-1;return{x:nn.x+an*rn/2,y:nn.y+ln*rn/2,width:nn.width-an*rn,height:nn.height-ln*rn}},polar:function(Fe,en,tn){var nn=Fe.getItemLayout(en);return{cx:nn.cx,cy:nn.cy,r0:nn.r0,r:nn.r,startAngle:nn.startAngle,endAngle:nn.endAngle,clockwise:nn.clockwise}}};function isZeroOnPolar(Fe){return Fe.startAngle!=null&&Fe.endAngle!=null&&Fe.startAngle===Fe.endAngle}function createPolarPositionMapping(Fe){return function(en){var tn=en?"Arc":"Angle";return function(nn){switch(nn){case"start":case"insideStart":case"end":case"insideEnd":return nn+tn;default:return nn}}}(Fe)}function updateStyle(Fe,en,tn,nn,rn,an,ln,cn){var un=en.getItemVisual(tn,"style");if(cn){if(!an.get("roundCap")){var hn=Fe.shape,pn=getSectorCornerRadius(nn.getModel("itemStyle"),hn,!0);extend$1(hn,pn),Fe.setShape(hn)}}else{var fn=nn.get(["itemStyle","borderRadius"])||0;Fe.setShape("r",fn)}Fe.useStyle(un);var gn=nn.getShallow("cursor");gn&&Fe.attr("cursor",gn);var mn=cn?ln?rn.r>=rn.r0?"endArc":"startArc":rn.endAngle>=rn.startAngle?"endAngle":"startAngle":ln?rn.height>=0?"bottom":"top":rn.width>=0?"right":"left",_n=getLabelStatesModels(nn);setLabelStyle(Fe,_n,{labelFetcher:an,labelDataIndex:tn,defaultText:getDefaultLabel(an.getData(),tn),inheritColor:un.fill,defaultOpacity:un.opacity,defaultOutsidePosition:mn});var kn=Fe.getTextContent();if(cn&&kn){var Cn=nn.get(["label","position"]);Fe.textConfig.inside=Cn==="middle"?!0:null,setSectorTextRotation(Fe,Cn==="outside"?mn:Cn,createPolarPositionMapping(ln),nn.get(["label","rotate"]))}setLabelValueAnimation(kn,_n,an.getRawValue(tn),function(Sn){return getDefaultInterpolatedLabel(en,Sn)});var xn=nn.getModel(["emphasis"]);toggleHoverEmphasis(Fe,xn.get("focus"),xn.get("blurScope"),xn.get("disabled")),setStatesStylesFromModel(Fe,nn),isZeroOnPolar(rn)&&(Fe.style.fill="none",Fe.style.stroke="none",each$f(Fe.states,function(Sn){Sn.style&&(Sn.style.fill=Sn.style.stroke="none")}))}function getLineWidth(Fe,en){var tn=Fe.get(["itemStyle","borderColor"]);if(!tn||tn==="none")return 0;var nn=Fe.get(["itemStyle","borderWidth"])||0,rn=isNaN(en.width)?Number.MAX_VALUE:Math.abs(en.width),an=isNaN(en.height)?Number.MAX_VALUE:Math.abs(en.height);return Math.min(nn,rn,an)}var LagePathShape=function(){function Fe(){}return Fe}(),LargePath=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="largeBar",nn}return en.prototype.getDefaultShape=function(){return new LagePathShape},en.prototype.buildPath=function(tn,nn){for(var rn=nn.points,an=this.baseDimIdx,ln=1-this.baseDimIdx,cn=[],un=[],fn=this.barWidth,hn=0;hn<rn.length;hn+=3)un[an]=fn,un[ln]=rn[hn+2],cn[an]=rn[hn+an],cn[ln]=rn[hn+ln],tn.rect(cn[0],cn[1],un[0],un[1])},en}(Path$1);function createLarge$1(Fe,en,tn,nn){var rn=Fe.getData(),an=rn.getLayout("valueAxisHorizontal")?1:0,ln=rn.getLayout("largeDataIndices"),cn=rn.getLayout("size"),un=Fe.getModel("backgroundStyle"),fn=rn.getLayout("largeBackgroundPoints");if(fn){var hn=new LargePath({shape:{points:fn},incremental:!!nn,silent:!0,z2:0});hn.baseDimIdx=an,hn.largeDataIndices=ln,hn.barWidth=cn,hn.useStyle(un.getItemStyle()),en.add(hn),tn&&tn.push(hn)}var pn=new LargePath({shape:{points:rn.getLayout("largePoints")},incremental:!!nn,ignoreCoarsePointer:!0,z2:1});pn.baseDimIdx=an,pn.largeDataIndices=ln,pn.barWidth=cn,en.add(pn),pn.useStyle(rn.getVisual("style")),getECData(pn).seriesIndex=Fe.seriesIndex,Fe.get("silent")||(pn.on("mousedown",largePathUpdateDataIndex),pn.on("mousemove",largePathUpdateDataIndex)),tn&&tn.push(pn)}var largePathUpdateDataIndex=throttle(function(Fe){var en=this,tn=largePathFindDataIndex(en,Fe.offsetX,Fe.offsetY);getECData(en).dataIndex=tn>=0?tn:null},30,!1);function largePathFindDataIndex(Fe,en,tn){for(var nn=Fe.baseDimIdx,rn=1-nn,an=Fe.shape.points,ln=Fe.largeDataIndices,cn=[],un=[],fn=Fe.barWidth,hn=0,pn=an.length/3;hn<pn;hn++){var gn=hn*3;if(un[nn]=fn,un[rn]=an[gn+2],cn[nn]=an[gn+nn],cn[rn]=an[gn+rn],un[rn]<0&&(cn[rn]+=un[rn],un[rn]=-un[rn]),en>=cn[0]&&en<=cn[0]+un[0]&&tn>=cn[1]&&tn<=cn[1]+un[1])return ln[hn]}return-1}function createBackgroundShape(Fe,en,tn){if(isCoordinateSystemType(tn,"cartesian2d")){var nn=en,rn=tn.getArea();return{x:Fe?nn.x:rn.x,y:Fe?rn.y:nn.y,width:Fe?nn.width:rn.width,height:Fe?rn.height:nn.height}}else{var rn=tn.getArea(),an=en;return{cx:rn.cx,cy:rn.cy,r0:Fe?rn.r0:an.r0,r:Fe?rn.r:an.r,startAngle:Fe?an.startAngle:0,endAngle:Fe?an.endAngle:Math.PI*2}}}function createBackgroundEl(Fe,en,tn){var nn=Fe.type==="polar"?Sector$1:Rect$3;return new nn({shape:createBackgroundShape(en,tn,Fe),silent:!0,z2:0})}const BarView$1=BarView;function install$P(Fe){Fe.registerChartView(BarView$1),Fe.registerSeriesModel(BarSeries),Fe.registerLayout(Fe.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),Fe.registerLayout(Fe.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),Fe.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(en,tn){var nn=en.componentType||"series";tn.eachComponent({mainType:nn,query:en},function(rn){en.sortInfo&&rn.axis.setCategorySortInfo(en.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(Fe,en){return getLayoutRect(Fe.getBoxLayoutParams(),{width:en.getWidth(),height:en.getHeight()})}function getBasicPieLayout(Fe,en){var tn=getViewRect$5(Fe,en),nn=Fe.get("center"),rn=Fe.get("radius");isArray$1(rn)||(rn=[0,rn]);var an=parsePercent(tn.width,en.getWidth()),ln=parsePercent(tn.height,en.getHeight()),cn=Math.min(an,ln),un=parsePercent(rn[0],cn/2),fn=parsePercent(rn[1],cn/2),hn,pn,gn=Fe.coordinateSystem;if(gn){var mn=gn.dataToPoint(nn);hn=mn[0]||0,pn=mn[1]||0}else isArray$1(nn)||(nn=[nn,nn]),hn=parsePercent(nn[0],an)+tn.x,pn=parsePercent(nn[1],ln)+tn.y;return{cx:hn,cy:pn,r0:un,r:fn}}function pieLayout(Fe,en,tn){en.eachSeriesByType(Fe,function(nn){var rn=nn.getData(),an=rn.mapDimension("value"),ln=getViewRect$5(nn,tn),cn=getBasicPieLayout(nn,tn),un=cn.cx,fn=cn.cy,hn=cn.r,pn=cn.r0,gn=-nn.get("startAngle")*RADIAN$2,mn=nn.get("minAngle")*RADIAN$2,_n=0;rn.each(an,function(Un){!isNaN(Un)&&_n++});var kn=rn.getSum(an),Cn=Math.PI/(kn||_n)*2,xn=nn.get("clockwise"),Sn=nn.get("roseType"),Mn=nn.get("stillShowZeroSum"),In=rn.getDataExtent(an);In[0]=0;var On=PI2,Pn=0,Tn=gn,Nn=xn?1:-1;if(rn.setLayout({viewRect:ln,r:hn}),rn.each(an,function(Un,jn){var Yn;if(isNaN(Un)){rn.setItemLayout(jn,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:xn,cx:un,cy:fn,r0:pn,r:Sn?NaN:hn});return}Sn!=="area"?Yn=kn===0&&Mn?Cn:Un*Cn:Yn=PI2/_n,Yn<mn?(Yn=mn,On-=mn):Pn+=Un;var Wn=Tn+Nn*Yn;rn.setItemLayout(jn,{angle:Yn,startAngle:Tn,endAngle:Wn,clockwise:xn,cx:un,cy:fn,r0:pn,r:Sn?linearMap$2(Un,In,[pn,hn]):hn}),Tn=Wn}),On<PI2&&_n)if(On<=.001){var Hn=PI2/_n;rn.each(an,function(Un,jn){if(!isNaN(Un)){var Yn=rn.getItemLayout(jn);Yn.angle=Hn,Yn.startAngle=gn+Nn*jn*Hn,Yn.endAngle=gn+Nn*(jn+1)*Hn}})}else Cn=On/Pn,Tn=gn,rn.each(an,function(Un,jn){if(!isNaN(Un)){var Yn=rn.getItemLayout(jn),Wn=Yn.angle===mn?mn:Un*Cn;Yn.startAngle=Tn,Yn.endAngle=Tn+Nn*Wn,Tn+=Nn*Wn}})})}function dataFilter$1(Fe){return{seriesType:Fe,reset:function(en,tn){var nn=tn.findComponents({mainType:"legend"});if(!(!nn||!nn.length)){var rn=en.getData();rn.filterSelf(function(an){for(var ln=rn.getName(an),cn=0;cn<nn.length;cn++)if(!nn[cn].isSelected(ln))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(Fe,en,tn,nn,rn,an,ln,cn,un,fn){if(Fe.length<2)return;function hn(kn){for(var Cn=kn.rB,xn=Cn*Cn,Sn=0;Sn<kn.list.length;Sn++){var Mn=kn.list[Sn],In=Math.abs(Mn.label.y-tn),On=nn+Mn.len,Pn=On*On,Tn=Math.sqrt((1-Math.abs(In*In/xn))*Pn),Nn=en+(Tn+Mn.len2)*rn,Hn=Nn-Mn.label.x,Un=Mn.targetTextWidth-Hn*rn;constrainTextWidth(Mn,Un,!0),Mn.label.x=Nn}}function pn(kn){for(var Cn={list:[],maxY:0},xn={list:[],maxY:0},Sn=0;Sn<kn.length;Sn++)if(kn[Sn].labelAlignTo==="none"){var Mn=kn[Sn],In=Mn.label.y>tn?xn:Cn,On=Math.abs(Mn.label.y-tn);if(On>=In.maxY){var Pn=Mn.label.x-en-Mn.len2*rn,Tn=nn+Mn.len,Nn=Math.abs(Pn)<Tn?Math.sqrt(On*On/(1-Pn*Pn/Tn/Tn)):Tn;In.rB=Nn,In.maxY=On}In.list.push(Mn)}hn(Cn),hn(xn)}for(var gn=Fe.length,mn=0;mn<gn;mn++)if(Fe[mn].position==="outer"&&Fe[mn].labelAlignTo==="labelLine"){var _n=Fe[mn].label.x-fn;Fe[mn].linePoints[1][0]+=_n,Fe[mn].label.x=fn}shiftLayoutOnY(Fe,un,un+ln)&&pn(Fe)}function avoidOverlap(Fe,en,tn,nn,rn,an,ln,cn){for(var un=[],fn=[],hn=Number.MAX_VALUE,pn=-Number.MAX_VALUE,gn=0;gn<Fe.length;gn++){var mn=Fe[gn].label;isPositionCenter(Fe[gn])||(mn.x<en?(hn=Math.min(hn,mn.x),un.push(Fe[gn])):(pn=Math.max(pn,mn.x),fn.push(Fe[gn])))}for(var gn=0;gn<Fe.length;gn++){var _n=Fe[gn];if(!isPositionCenter(_n)&&_n.linePoints){if(_n.labelStyleWidth!=null)continue;var mn=_n.label,kn=_n.linePoints,Cn=void 0;_n.labelAlignTo==="edge"?mn.x<en?Cn=kn[2][0]-_n.labelDistance-ln-_n.edgeDistance:Cn=ln+rn-_n.edgeDistance-kn[2][0]-_n.labelDistance:_n.labelAlignTo==="labelLine"?mn.x<en?Cn=hn-ln-_n.bleedMargin:Cn=ln+rn-pn-_n.bleedMargin:mn.x<en?Cn=mn.x-ln-_n.bleedMargin:Cn=ln+rn-mn.x-_n.bleedMargin,_n.targetTextWidth=Cn,constrainTextWidth(_n,Cn)}}adjustSingleSide(fn,en,tn,nn,1,rn,an,ln,cn,pn),adjustSingleSide(un,en,tn,nn,-1,rn,an,ln,cn,hn);for(var gn=0;gn<Fe.length;gn++){var _n=Fe[gn];if(!isPositionCenter(_n)&&_n.linePoints){var mn=_n.label,kn=_n.linePoints,xn=_n.labelAlignTo==="edge",Sn=mn.style.padding,Mn=Sn?Sn[1]+Sn[3]:0,In=mn.style.backgroundColor?0:Mn,On=_n.rect.width+In,Pn=kn[1][0]-kn[2][0];xn?mn.x<en?kn[2][0]=ln+_n.edgeDistance+On+_n.labelDistance:kn[2][0]=ln+rn-_n.edgeDistance-On-_n.labelDistance:(mn.x<en?kn[2][0]=mn.x+_n.labelDistance:kn[2][0]=mn.x-_n.labelDistance,kn[1][0]=kn[2][0]+Pn),kn[1][1]=kn[2][1]=mn.y}}}function constrainTextWidth(Fe,en,tn){if(tn===void 0&&(tn=!1),Fe.labelStyleWidth==null){var nn=Fe.label,rn=nn.style,an=Fe.rect,ln=rn.backgroundColor,cn=rn.padding,un=cn?cn[1]+cn[3]:0,fn=rn.overflow,hn=an.width+(ln?0:un);if(en<hn||tn){var pn=an.height;if(fn&&fn.match("break")){nn.setStyle("backgroundColor",null),nn.setStyle("width",en-un);var gn=nn.getBoundingRect();nn.setStyle("width",Math.ceil(gn.width)),nn.setStyle("backgroundColor",ln)}else{var mn=en-un,_n=en<hn?mn:tn?mn>Fe.unconstrainedWidth?null:mn:null;nn.setStyle("width",_n)}var kn=nn.getBoundingRect();an.width=kn.width;var Cn=(nn.style.margin||0)+2.1;an.height=kn.height+Cn,an.y-=(an.height-pn)/2}}}function isPositionCenter(Fe){return Fe.position==="center"}function pieLabelLayout(Fe){var en=Fe.getData(),tn=[],nn,rn,an=!1,ln=(Fe.get("minShowLabelAngle")||0)*RADIAN$1,cn=en.getLayout("viewRect"),un=en.getLayout("r"),fn=cn.width,hn=cn.x,pn=cn.y,gn=cn.height;function mn(Pn){Pn.ignore=!0}function _n(Pn){if(!Pn.ignore)return!0;for(var Tn in Pn.states)if(Pn.states[Tn].ignore===!1)return!0;return!1}en.each(function(Pn){var Tn=en.getItemGraphicEl(Pn),Nn=Tn.shape,Hn=Tn.getTextContent(),Un=Tn.getTextGuideLine(),jn=en.getItemModel(Pn),Yn=jn.getModel("label"),Wn=Yn.get("position")||jn.get(["emphasis","label","position"]),Qn=Yn.get("distanceToLabelLine"),Xn=Yn.get("alignTo"),jr=parsePercent(Yn.get("edgeDistance"),fn),Wr=Yn.get("bleedMargin"),Jr=jn.getModel("labelLine"),ci=Jr.get("length");ci=parsePercent(ci,fn);var ti=Jr.get("length2");if(ti=parsePercent(ti,fn),Math.abs(Nn.endAngle-Nn.startAngle)<ln){each$f(Hn.states,mn),Hn.ignore=!0,Un&&(each$f(Un.states,mn),Un.ignore=!0);return}if(_n(Hn)){var Zr=(Nn.startAngle+Nn.endAngle)/2,Br=Math.cos(Zr),Jn=Math.sin(Zr),oi,pi,ri,fi;nn=Nn.cx,rn=Nn.cy;var yi=Wn==="inside"||Wn==="inner";if(Wn==="center")oi=Nn.cx,pi=Nn.cy,fi="center";else{var Si=(yi?(Nn.r+Nn.r0)/2*Br:Nn.r*Br)+nn,Pi=(yi?(Nn.r+Nn.r0)/2*Jn:Nn.r*Jn)+rn;if(oi=Si+Br*3,pi=Pi+Jn*3,!yi){var Ui=Si+Br*(ci+un-Nn.r),ji=Pi+Jn*(ci+un-Nn.r),go=Ui+(Br<0?-1:1)*ti,po=ji;Xn==="edge"?oi=Br<0?hn+jr:hn+fn-jr:oi=go+(Br<0?-Qn:Qn),pi=po,ri=[[Si,Pi],[Ui,ji],[go,po]]}fi=yi?"center":Xn==="edge"?Br>0?"right":"left":Br>0?"left":"right"}var Yi=Math.PI,Fo=0,Po=Yn.get("rotate");if(isNumber(Po))Fo=Po*(Yi/180);else if(Wn==="center")Fo=0;else if(Po==="radial"||Po===!0){var Oi=Br<0?-Zr+Yi:-Zr;Fo=Oi}else if(Po==="tangential"&&Wn!=="outside"&&Wn!=="outer"){var Wi=Math.atan2(Br,Jn);Wi<0&&(Wi=Yi*2+Wi);var vo=Jn>0;vo&&(Wi=Yi+Wi),Fo=Wi-Yi}if(an=!!Fo,Hn.x=oi,Hn.y=pi,Hn.rotation=Fo,Hn.setStyle({verticalAlign:"middle"}),yi){Hn.setStyle({align:fi});var Oo=Hn.states.select;Oo&&(Oo.x+=Hn.x,Oo.y+=Hn.y)}else{var mo=Hn.getBoundingRect().clone();mo.applyTransform(Hn.getComputedTransform());var ro=(Hn.style.margin||0)+2.1;mo.y-=ro/2,mo.height+=ro,tn.push({label:Hn,labelLine:Un,position:Wn,len:ci,len2:ti,minTurnAngle:Jr.get("minTurnAngle"),maxSurfaceAngle:Jr.get("maxSurfaceAngle"),surfaceNormal:new Point$1(Br,Jn),linePoints:ri,textAlign:fi,labelDistance:Qn,labelAlignTo:Xn,edgeDistance:jr,bleedMargin:Wr,rect:mo,unconstrainedWidth:mo.width,labelStyleWidth:Hn.style.width})}Tn.setTextConfig({inside:yi})}}),!an&&Fe.get("avoidLabelOverlap")&&avoidOverlap(tn,nn,rn,un,fn,gn,hn,pn);for(var kn=0;kn<tn.length;kn++){var Cn=tn[kn],xn=Cn.label,Sn=Cn.labelLine,Mn=isNaN(xn.x)||isNaN(xn.y);if(xn){xn.setStyle({align:Cn.textAlign}),Mn&&(each$f(xn.states,mn),xn.ignore=!0);var In=xn.states.select;In&&(In.x+=xn.x,In.y+=xn.y)}if(Sn){var On=Cn.linePoints;Mn||!On?(each$f(Sn.states,mn),Sn.ignore=!0):(limitTurnAngle(On,Cn.minTurnAngle),limitSurfaceAngle(On,Cn.surfaceNormal,Cn.maxSurfaceAngle),Sn.setShape({points:On}),xn.__hostTarget.textGuideLineConfig={anchor:new Point$1(On[0][0],On[0][1])})}}}var PiePiece=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this)||this;an.z2=2;var ln=new ZRText$1;return an.setTextContent(ln),an.updateData(tn,nn,rn,!0),an}return en.prototype.updateData=function(tn,nn,rn,an){var ln=this,cn=tn.hostModel,un=tn.getItemModel(nn),fn=un.getModel("emphasis"),hn=tn.getItemLayout(nn),pn=extend$1(getSectorCornerRadius(un.getModel("itemStyle"),hn,!0),hn);if(isNaN(pn.startAngle)){ln.setShape(pn);return}if(an){ln.setShape(pn);var gn=cn.getShallow("animationType");cn.ecModel.ssr?(initProps(ln,{scaleX:0,scaleY:0},cn,{dataIndex:nn,isFrom:!0}),ln.originX=pn.cx,ln.originY=pn.cy):gn==="scale"?(ln.shape.r=hn.r0,initProps(ln,{shape:{r:hn.r}},cn,nn)):rn!=null?(ln.setShape({startAngle:rn,endAngle:rn}),initProps(ln,{shape:{startAngle:hn.startAngle,endAngle:hn.endAngle}},cn,nn)):(ln.shape.endAngle=hn.startAngle,updateProps$1(ln,{shape:{endAngle:hn.endAngle}},cn,nn))}else saveOldStyle(ln),updateProps$1(ln,{shape:pn},cn,nn);ln.useStyle(tn.getItemVisual(nn,"style")),setStatesStylesFromModel(ln,un);var mn=(hn.startAngle+hn.endAngle)/2,_n=cn.get("selectedOffset"),kn=Math.cos(mn)*_n,Cn=Math.sin(mn)*_n,xn=un.getShallow("cursor");xn&&ln.attr("cursor",xn),this._updateLabel(cn,tn,nn),ln.ensureState("emphasis").shape=extend$1({r:hn.r+(fn.get("scale")&&fn.get("scaleSize")||0)},getSectorCornerRadius(fn.getModel("itemStyle"),hn)),extend$1(ln.ensureState("select"),{x:kn,y:Cn,shape:getSectorCornerRadius(un.getModel(["select","itemStyle"]),hn)}),extend$1(ln.ensureState("blur"),{shape:getSectorCornerRadius(un.getModel(["blur","itemStyle"]),hn)});var Sn=ln.getTextGuideLine(),Mn=ln.getTextContent();Sn&&extend$1(Sn.ensureState("select"),{x:kn,y:Cn}),extend$1(Mn.ensureState("select"),{x:kn,y:Cn}),toggleHoverEmphasis(this,fn.get("focus"),fn.get("blurScope"),fn.get("disabled"))},en.prototype._updateLabel=function(tn,nn,rn){var an=this,ln=nn.getItemModel(rn),cn=ln.getModel("labelLine"),un=nn.getItemVisual(rn,"style"),fn=un&&un.fill,hn=un&&un.opacity;setLabelStyle(an,getLabelStatesModels(ln),{labelFetcher:nn.hostModel,labelDataIndex:rn,inheritColor:fn,defaultOpacity:hn,defaultText:tn.getFormattedLabel(rn,"normal")||nn.getName(rn)});var pn=an.getTextContent();an.setTextConfig({position:null,rotation:null}),pn.attr({z2:10});var gn=tn.get(["label","position"]);if(gn!=="outside"&&gn!=="outer")an.removeTextGuideLine();else{var mn=this.getTextGuideLine();mn||(mn=new Polyline$3,this.setTextGuideLine(mn)),setLabelLineStyle(this,getLabelLineStatesModels(ln),{stroke:fn,opacity:retrieve3(cn.get(["lineStyle","opacity"]),hn,1)})}},en}(Sector$1),PieView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.ignoreLabelLineUpdate=!0,tn}return en.prototype.render=function(tn,nn,rn,an){var ln=tn.getData(),cn=this._data,un=this.group,fn;if(!cn&&ln.count()>0){for(var hn=ln.getItemLayout(0),pn=1;isNaN(hn&&hn.startAngle)&&pn<ln.count();++pn)hn=ln.getItemLayout(pn);hn&&(fn=hn.startAngle)}if(this._emptyCircleSector&&un.remove(this._emptyCircleSector),ln.count()===0&&tn.get("showEmptyCircle")){var gn=new Sector$1({shape:getBasicPieLayout(tn,rn)});gn.useStyle(tn.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=gn,un.add(gn)}ln.diff(cn).add(function(mn){var _n=new PiePiece(ln,mn,fn);ln.setItemGraphicEl(mn,_n),un.add(_n)}).update(function(mn,_n){var kn=cn.getItemGraphicEl(_n);kn.updateData(ln,mn,fn),kn.off("click"),un.add(kn),ln.setItemGraphicEl(mn,kn)}).remove(function(mn){var _n=cn.getItemGraphicEl(mn);removeElementWithFadeOut(_n,tn,mn)}).execute(),pieLabelLayout(tn),tn.get("animationTypeUpdate")!=="expansion"&&(this._data=ln)},en.prototype.dispose=function(){},en.prototype.containPoint=function(tn,nn){var rn=nn.getData(),an=rn.getItemLayout(0);if(an){var ln=tn[0]-an.cx,cn=tn[1]-an.cy,un=Math.sqrt(ln*ln+cn*cn);return un<=an.r&&un>=an.r0}},en.type="pie",en}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(Fe,en,tn){en=isArray$1(en)&&{coordDimensions:en}||extend$1({encodeDefine:Fe.getEncode()},en);var nn=Fe.getSource(),rn=prepareSeriesDataSchema(nn,en).dimensions,an=new SeriesData$1(rn,Fe);return an.initData(nn,tn),an}var LegendVisualProvider=function(){function Fe(en,tn){this._getDataWithEncodedVisual=en,this._getRawData=tn}return Fe.prototype.getAllNames=function(){var en=this._getRawData();return en.mapArray(en.getName)},Fe.prototype.containName=function(en){var tn=this._getRawData();return tn.indexOfName(en)>=0},Fe.prototype.indexOfName=function(en){var tn=this._getDataWithEncodedVisual();return tn.indexOfName(en)},Fe.prototype.getItemVisual=function(en,tn){var nn=this._getDataWithEncodedVisual();return nn.getItemVisual(en,tn)},Fe}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.init=function(tn){Fe.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(tn)},en.prototype.mergeOption=function(){Fe.prototype.mergeOption.apply(this,arguments)},en.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},en.prototype.getDataParams=function(tn){var nn=this.getData(),rn=innerData(nn),an=rn.seats;if(!an){var ln=[];nn.each(nn.mapDimension("value"),function(un){ln.push(un)}),an=rn.seats=getPercentSeats(ln,nn.hostModel.get("percentPrecision"))}var cn=Fe.prototype.getDataParams.call(this,tn);return cn.percent=an[tn]||0,cn.$vars.push("percent"),cn},en.prototype._defaultLabelLine=function(tn){defaultEmphasis(tn,"labelLine",["show"]);var nn=tn.labelLine,rn=tn.emphasis.labelLine;nn.show=nn.show&&tn.label.show,rn.show=rn.show&&tn.emphasis.label.show},en.type="series.pie",en.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},en}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(Fe){return{seriesType:Fe,reset:function(en,tn){var nn=en.getData();nn.filterSelf(function(rn){var an=nn.mapDimension("value"),ln=nn.get(an,rn);return!(isNumber(ln)&&!isNaN(ln)&&ln<0)})}}}function install$O(Fe){Fe.registerChartView(PieView$1),Fe.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",Fe.registerAction),Fe.registerLayout(curry$1(pieLayout,"pie")),Fe.registerProcessor(dataFilter$1("pie")),Fe.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.hasSymbolVisual=!0,tn}return en.prototype.getInitialData=function(tn,nn){return createSeriesData(null,this,{useEncodeDefaulter:!0})},en.prototype.getProgressive=function(){var tn=this.option.progressive;return tn??(this.option.large?5e3:this.get("progressive"))},en.prototype.getProgressiveThreshold=function(){var tn=this.option.progressiveThreshold;return tn??(this.option.large?1e4:this.get("progressiveThreshold"))},en.prototype.brushSelector=function(tn,nn,rn){return rn.point(nn.getItemLayout(tn))},en.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},en.type="series.scatter",en.dependencies=["grid","polar","geo","singleAxis","calendar"],en.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},en}(SeriesModel$1);const ScatterSeriesModel$1=ScatterSeriesModel;var BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function Fe(){}return Fe}(),LargeSymbolPath=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn._off=0,nn.hoverDataIdx=-1,nn}return en.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},en.prototype.reset=function(){this.notClear=!1,this._off=0},en.prototype.buildPath=function(tn,nn){var rn=nn.points,an=nn.size,ln=this.symbolProxy,cn=ln.shape,un=tn.getContext?tn.getContext():tn,fn=un&&an[0]<BOOST_SIZE_THRESHOLD,hn=this.softClipShape,pn;if(fn){this._ctx=un;return}for(this._ctx=null,pn=this._off;pn<rn.length;){var gn=rn[pn++],mn=rn[pn++];isNaN(gn)||isNaN(mn)||hn&&!hn.contain(gn,mn)||(cn.x=gn-an[0]/2,cn.y=mn-an[1]/2,cn.width=an[0],cn.height=an[1],ln.buildPath(tn,cn,!0))}this.incremental&&(this._off=pn,this.notClear=!0)},en.prototype.afterBrush=function(){var tn=this.shape,nn=tn.points,rn=tn.size,an=this._ctx,ln=this.softClipShape,cn;if(an){for(cn=this._off;cn<nn.length;){var un=nn[cn++],fn=nn[cn++];isNaN(un)||isNaN(fn)||ln&&!ln.contain(un,fn)||an.fillRect(un-rn[0]/2,fn-rn[1]/2,rn[0],rn[1])}this.incremental&&(this._off=cn,this.notClear=!0)}},en.prototype.findDataIndex=function(tn,nn){for(var rn=this.shape,an=rn.points,ln=rn.size,cn=Math.max(ln[0],4),un=Math.max(ln[1],4),fn=an.length/2-1;fn>=0;fn--){var hn=fn*2,pn=an[hn]-cn/2,gn=an[hn+1]-un/2;if(tn>=pn&&nn>=gn&&tn<=pn+cn&&nn<=gn+un)return fn}return-1},en.prototype.contain=function(tn,nn){var rn=this.transformCoordToLocal(tn,nn),an=this.getBoundingRect();if(tn=rn[0],nn=rn[1],an.contain(tn,nn)){var ln=this.hoverDataIdx=this.findDataIndex(tn,nn);return ln>=0}return this.hoverDataIdx=-1,!1},en.prototype.getBoundingRect=function(){var tn=this._rect;if(!tn){for(var nn=this.shape,rn=nn.points,an=nn.size,ln=an[0],cn=an[1],un=1/0,fn=1/0,hn=-1/0,pn=-1/0,gn=0;gn<rn.length;){var mn=rn[gn++],_n=rn[gn++];un=Math.min(mn,un),hn=Math.max(mn,hn),fn=Math.min(_n,fn),pn=Math.max(_n,pn)}tn=this._rect=new BoundingRect$1(un-ln/2,fn-cn/2,hn-un+ln,pn-fn+cn)}return tn},en}(Path$1),LargeSymbolDraw=function(){function Fe(){this.group=new Group$4}return Fe.prototype.updateData=function(en,tn){this._clear();var nn=this._create();nn.setShape({points:en.getLayout("points")}),this._setCommon(nn,en,tn)},Fe.prototype.updateLayout=function(en){var tn=en.getLayout("points");this.group.eachChild(function(nn){if(nn.startIndex!=null){var rn=(nn.endIndex-nn.startIndex)*2,an=nn.startIndex*4*2;tn=new Float32Array(tn.buffer,an,rn)}nn.setShape("points",tn),nn.reset()})},Fe.prototype.incrementalPrepareUpdate=function(en){this._clear()},Fe.prototype.incrementalUpdate=function(en,tn,nn){var rn=this._newAdded[0],an=tn.getLayout("points"),ln=rn&&rn.shape.points;if(ln&&ln.length<2e4){var cn=ln.length,un=new Float32Array(cn+an.length);un.set(ln),un.set(an,cn),rn.endIndex=en.end,rn.setShape({points:un})}else{this._newAdded=[];var fn=this._create();fn.startIndex=en.start,fn.endIndex=en.end,fn.incremental=!0,fn.setShape({points:an}),this._setCommon(fn,tn,nn)}},Fe.prototype.eachRendered=function(en){this._newAdded[0]&&en(this._newAdded[0])},Fe.prototype._create=function(){var en=new LargeSymbolPath({cursor:"default"});return en.ignoreCoarsePointer=!0,this.group.add(en),this._newAdded.push(en),en},Fe.prototype._setCommon=function(en,tn,nn){var rn=tn.hostModel;nn=nn||{};var an=tn.getVisual("symbolSize");en.setShape("size",an instanceof Array?an:[an,an]),en.softClipShape=nn.clipShape||null,en.symbolProxy=createSymbol$1(tn.getVisual("symbol"),0,0,0,0),en.setColor=en.symbolProxy.setColor;var ln=en.shape.size[0]<BOOST_SIZE_THRESHOLD;en.useStyle(rn.getModel("itemStyle").getItemStyle(ln?["color","shadowBlur","shadowColor"]:["color"]));var cn=tn.getVisual("style"),un=cn&&cn.fill;un&&en.setColor(un);var fn=getECData(en);fn.seriesIndex=rn.seriesIndex,en.on("mousemove",function(hn){fn.dataIndex=null;var pn=en.hoverDataIdx;pn>=0&&(fn.dataIndex=pn+(en.startIndex||0))})},Fe.prototype.remove=function(){this._clear()},Fe.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},Fe}();const LargeSymbolDraw$1=LargeSymbolDraw;var ScatterView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){var an=tn.getData(),ln=this._updateSymbolDraw(an,tn);ln.updateData(an,{clipShape:this._getClipShape(tn)}),this._finished=!0},en.prototype.incrementalPrepareRender=function(tn,nn,rn){var an=tn.getData(),ln=this._updateSymbolDraw(an,tn);ln.incrementalPrepareUpdate(an),this._finished=!1},en.prototype.incrementalRender=function(tn,nn,rn){this._symbolDraw.incrementalUpdate(tn,nn.getData(),{clipShape:this._getClipShape(nn)}),this._finished=tn.end===nn.getData().count()},en.prototype.updateTransform=function(tn,nn,rn){var an=tn.getData();if(this.group.dirty(),!this._finished||an.count()>1e4)return{update:!0};var ln=pointsLayout("").reset(tn,nn,rn);ln.progress&&ln.progress({start:0,end:an.count(),count:an.count()},an),this._symbolDraw.updateLayout(an)},en.prototype.eachRendered=function(tn){this._symbolDraw&&this._symbolDraw.eachRendered(tn)},en.prototype._getClipShape=function(tn){var nn=tn.coordinateSystem,rn=nn&&nn.getArea&&nn.getArea();return tn.get("clip",!0)?rn:null},en.prototype._updateSymbolDraw=function(tn,nn){var rn=this._symbolDraw,an=nn.pipelineContext,ln=an.large;return(!rn||ln!==this._isLargeDraw)&&(rn&&rn.remove(),rn=this._symbolDraw=ln?new LargeSymbolDraw$1:new SymbolDraw$1,this._isLargeDraw=ln,this.group.removeAll()),this.group.add(rn.group),rn},en.prototype.remove=function(tn,nn){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},en.prototype.dispose=function(){},en.type="scatter",en}(ChartView$1);const ScatterView$1=ScatterView;var GridModel=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.type="grid",en.dependencies=["xAxis","yAxis"],en.layoutMode="box",en.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},en}(ComponentModel$1);const GridModel$1=GridModel;var CartesianAxisModel=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},en.type="cartesian2dAxis",en}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(Fe,en,tn,nn){each$f(AXIS_TYPES,function(rn,an){var ln=merge(merge({},axisDefault[an],!0),nn,!0),cn=function(un){__extends(fn,un);function fn(){var hn=un!==null&&un.apply(this,arguments)||this;return hn.type=en+"Axis."+an,hn}return fn.prototype.mergeDefaultAndTheme=function(hn,pn){var gn=fetchLayoutMode(this),mn=gn?getLayoutParams(hn):{},_n=pn.getTheme();merge(hn,_n.get(an+"Axis")),merge(hn,this.getDefaultOption()),hn.type=getAxisType(hn),gn&&mergeLayoutParam(hn,mn,gn)},fn.prototype.optionUpdated=function(){var hn=this.option;hn.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},fn.prototype.getCategories=function(hn){var pn=this.option;if(pn.type==="category")return hn?pn.data:this.__ordinalMeta.categories},fn.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},fn.type=en+"Axis."+an,fn.defaultOption=ln,fn}(tn);Fe.registerComponentModel(cn)}),Fe.registerSubTypeDefaulter(en+"Axis",getAxisType)}function getAxisType(Fe){return Fe.type||(Fe.data?"category":"value")}var Cartesian=function(){function Fe(en){this.type="cartesian",this._dimList=[],this._axes={},this.name=en||""}return Fe.prototype.getAxis=function(en){return this._axes[en]},Fe.prototype.getAxes=function(){return map$1(this._dimList,function(en){return this._axes[en]},this)},Fe.prototype.getAxesByScale=function(en){return en=en.toLowerCase(),filter(this.getAxes(),function(tn){return tn.scale.type===en})},Fe.prototype.addAxis=function(en){var tn=en.dim;this._axes[tn]=en,this._dimList.push(tn)},Fe}();const Cartesian$1=Cartesian;var cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(Fe){return Fe.type==="interval"||Fe.type==="time"}var Cartesian2D=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type="cartesian2d",tn.dimensions=cartesian2DDimensions,tn}return en.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var tn=this.getAxis("x").scale,nn=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(tn)||!canCalculateAffineTransform(nn))){var rn=tn.getExtent(),an=nn.getExtent(),ln=this.dataToPoint([rn[0],an[0]]),cn=this.dataToPoint([rn[1],an[1]]),un=rn[1]-rn[0],fn=an[1]-an[0];if(!(!un||!fn)){var hn=(cn[0]-ln[0])/un,pn=(cn[1]-ln[1])/fn,gn=ln[0]-rn[0]*hn,mn=ln[1]-an[0]*pn,_n=this._transform=[hn,0,0,pn,gn,mn];this._invTransform=invert([],_n)}}},en.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},en.prototype.containPoint=function(tn){var nn=this.getAxis("x"),rn=this.getAxis("y");return nn.contain(nn.toLocalCoord(tn[0]))&&rn.contain(rn.toLocalCoord(tn[1]))},en.prototype.containData=function(tn){return this.getAxis("x").containData(tn[0])&&this.getAxis("y").containData(tn[1])},en.prototype.containZone=function(tn,nn){var rn=this.dataToPoint(tn),an=this.dataToPoint(nn),ln=this.getArea(),cn=new BoundingRect$1(rn[0],rn[1],an[0]-rn[0],an[1]-rn[1]);return ln.intersect(cn)},en.prototype.dataToPoint=function(tn,nn,rn){rn=rn||[];var an=tn[0],ln=tn[1];if(this._transform&&an!=null&&isFinite(an)&&ln!=null&&isFinite(ln))return applyTransform$1(rn,tn,this._transform);var cn=this.getAxis("x"),un=this.getAxis("y");return rn[0]=cn.toGlobalCoord(cn.dataToCoord(an,nn)),rn[1]=un.toGlobalCoord(un.dataToCoord(ln,nn)),rn},en.prototype.clampData=function(tn,nn){var rn=this.getAxis("x").scale,an=this.getAxis("y").scale,ln=rn.getExtent(),cn=an.getExtent(),un=rn.parse(tn[0]),fn=an.parse(tn[1]);return nn=nn||[],nn[0]=Math.min(Math.max(Math.min(ln[0],ln[1]),un),Math.max(ln[0],ln[1])),nn[1]=Math.min(Math.max(Math.min(cn[0],cn[1]),fn),Math.max(cn[0],cn[1])),nn},en.prototype.pointToData=function(tn,nn){var rn=[];if(this._invTransform)return applyTransform$1(rn,tn,this._invTransform);var an=this.getAxis("x"),ln=this.getAxis("y");return rn[0]=an.coordToData(an.toLocalCoord(tn[0]),nn),rn[1]=ln.coordToData(ln.toLocalCoord(tn[1]),nn),rn},en.prototype.getOtherAxis=function(tn){return this.getAxis(tn.dim==="x"?"y":"x")},en.prototype.getArea=function(){var tn=this.getAxis("x").getGlobalExtent(),nn=this.getAxis("y").getGlobalExtent(),rn=Math.min(tn[0],tn[1]),an=Math.min(nn[0],nn[1]),ln=Math.max(tn[0],tn[1])-rn,cn=Math.max(nn[0],nn[1])-an;return new BoundingRect$1(rn,an,ln,cn)},en}(Cartesian$1),Axis2D=function(Fe){__extends(en,Fe);function en(tn,nn,rn,an,ln){var cn=Fe.call(this,tn,nn,rn)||this;return cn.index=0,cn.type=an||"value",cn.position=ln||"bottom",cn}return en.prototype.isHorizontal=function(){var tn=this.position;return tn==="top"||tn==="bottom"},en.prototype.getGlobalExtent=function(tn){var nn=this.getExtent();return nn[0]=this.toGlobalCoord(nn[0]),nn[1]=this.toGlobalCoord(nn[1]),tn&&nn[0]>nn[1]&&nn.reverse(),nn},en.prototype.pointToData=function(tn,nn){return this.coordToData(this.toLocalCoord(tn[this.dim==="x"?0:1]),nn)},en.prototype.setCategorySortInfo=function(tn){if(this.type!=="category")return!1;this.model.option.categorySortInfo=tn,this.scale.setSortInfo(tn)},en}(Axis$1);const Axis2D$1=Axis2D;function layout$2(Fe,en,tn){tn=tn||{};var nn=Fe.coordinateSystem,rn=en.axis,an={},ln=rn.getAxesOnZeroOf()[0],cn=rn.position,un=ln?"onZero":cn,fn=rn.dim,hn=nn.getRect(),pn=[hn.x,hn.x+hn.width,hn.y,hn.y+hn.height],gn={left:0,right:1,top:0,bottom:1,onZero:2},mn=en.get("offset")||0,_n=fn==="x"?[pn[2]-mn,pn[3]+mn]:[pn[0]-mn,pn[1]+mn];if(ln){var kn=ln.toGlobalCoord(ln.dataToCoord(0));_n[gn.onZero]=Math.max(Math.min(kn,_n[1]),_n[0])}an.position=[fn==="y"?_n[gn[un]]:pn[0],fn==="x"?_n[gn[un]]:pn[3]],an.rotation=Math.PI/2*(fn==="x"?0:1);var Cn={top:-1,bottom:1,left:-1,right:1};an.labelDirection=an.tickDirection=an.nameDirection=Cn[cn],an.labelOffset=ln?_n[gn[cn]]-_n[gn.onZero]:0,en.get(["axisTick","inside"])&&(an.tickDirection=-an.tickDirection),retrieve(tn.labelInside,en.get(["axisLabel","inside"]))&&(an.labelDirection=-an.labelDirection);var xn=en.get(["axisLabel","rotate"]);return an.labelRotate=un==="top"?-xn:xn,an.z2=1,an}function isCartesian2DSeries(Fe){return Fe.get("coordinateSystem")==="cartesian2d"}function findAxisModels(Fe){var en={xAxisModel:null,yAxisModel:null};return each$f(en,function(tn,nn){var rn=nn.replace(/Model$/,""),an=Fe.getReferringComponents(rn,SINGLE_REFERRING).models[0];en[nn]=an}),en}var mathLog=Math.log;function alignScaleTicks(Fe,en,tn){var nn=IntervalScale$1.prototype,rn=nn.getTicks.call(tn),an=nn.getTicks.call(tn,!0),ln=rn.length-1,cn=nn.getInterval.call(tn),un=getScaleExtent(Fe,en),fn=un.extent,hn=un.fixMin,pn=un.fixMax;if(Fe.type==="log"){var gn=mathLog(Fe.base);fn=[mathLog(fn[0])/gn,mathLog(fn[1])/gn]}Fe.setExtent(fn[0],fn[1]),Fe.calcNiceExtent({splitNumber:ln,fixMin:hn,fixMax:pn});var mn=nn.getExtent.call(Fe);hn&&(fn[0]=mn[0]),pn&&(fn[1]=mn[1]);var _n=nn.getInterval.call(Fe),kn=fn[0],Cn=fn[1];if(hn&&pn)_n=(Cn-kn)/ln;else if(hn)for(Cn=fn[0]+_n*ln;Cn<fn[1]&&isFinite(Cn)&&isFinite(fn[1]);)_n=increaseInterval(_n),Cn=fn[0]+_n*ln;else if(pn)for(kn=fn[1]-_n*ln;kn>fn[0]&&isFinite(kn)&&isFinite(fn[0]);)_n=increaseInterval(_n),kn=fn[1]-_n*ln;else{var xn=Fe.getTicks().length-1;xn>ln&&(_n=increaseInterval(_n));var Sn=_n*ln;Cn=Math.ceil(fn[1]/_n)*_n,kn=round$3(Cn-Sn),kn<0&&fn[0]>=0?(kn=0,Cn=round$3(Sn)):Cn>0&&fn[1]<=0&&(Cn=0,kn=-round$3(Sn))}var Mn=(rn[0].value-an[0].value)/cn,In=(rn[ln].value-an[ln].value)/cn;nn.setExtent.call(Fe,kn+_n*Mn,Cn+_n*In),nn.setInterval.call(Fe,_n),(Mn||In)&&nn.setNiceExtent.call(Fe,kn+_n,Cn-_n)}var Grid=function(){function Fe(en,tn,nn){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(en,tn,nn),this.model=en}return Fe.prototype.getRect=function(){return this._rect},Fe.prototype.update=function(en,tn){var nn=this._axesMap;this._updateScale(en,this.model);function rn(ln){var cn,un=keys(ln),fn=un.length;if(fn){for(var hn=[],pn=fn-1;pn>=0;pn--){var gn=+un[pn],mn=ln[gn],_n=mn.model,kn=mn.scale;isIntervalOrLogScale(kn)&&_n.get("alignTicks")&&_n.get("interval")==null?hn.push(mn):(niceScaleExtent(kn,_n),isIntervalOrLogScale(kn)&&(cn=mn))}hn.length&&(cn||(cn=hn.pop(),niceScaleExtent(cn.scale,cn.model)),each$f(hn,function(Cn){alignScaleTicks(Cn.scale,Cn.model,cn.scale)}))}}rn(nn.x),rn(nn.y);var an={};each$f(nn.x,function(ln){fixAxisOnZero(nn,"y",ln,an)}),each$f(nn.y,function(ln){fixAxisOnZero(nn,"x",ln,an)}),this.resize(this.model,tn)},Fe.prototype.resize=function(en,tn,nn){var rn=en.getBoxLayoutParams(),an=!nn&&en.get("containLabel"),ln=getLayoutRect(rn,{width:tn.getWidth(),height:tn.getHeight()});this._rect=ln;var cn=this._axesList;un(),an&&(each$f(cn,function(fn){if(!fn.model.get(["axisLabel","inside"])){var hn=estimateLabelUnionRect(fn);if(hn){var pn=fn.isHorizontal()?"height":"width",gn=fn.model.get(["axisLabel","margin"]);ln[pn]-=hn[pn]+gn,fn.position==="top"?ln.y+=hn.height+gn:fn.position==="left"&&(ln.x+=hn.width+gn)}}}),un()),each$f(this._coordsList,function(fn){fn.calcAffineTransform()});function un(){each$f(cn,function(fn){var hn=fn.isHorizontal(),pn=hn?[0,ln.width]:[0,ln.height],gn=fn.inverse?1:0;fn.setExtent(pn[gn],pn[1-gn]),updateAxisTransform(fn,hn?ln.x:ln.y)})}},Fe.prototype.getAxis=function(en,tn){var nn=this._axesMap[en];if(nn!=null)return nn[tn||0]},Fe.prototype.getAxes=function(){return this._axesList.slice()},Fe.prototype.getCartesian=function(en,tn){if(en!=null&&tn!=null){var nn="x"+en+"y"+tn;return this._coordsMap[nn]}isObject$3(en)&&(tn=en.yAxisIndex,en=en.xAxisIndex);for(var rn=0,an=this._coordsList;rn<an.length;rn++)if(an[rn].getAxis("x").index===en||an[rn].getAxis("y").index===tn)return an[rn]},Fe.prototype.getCartesians=function(){return this._coordsList.slice()},Fe.prototype.convertToPixel=function(en,tn,nn){var rn=this._findConvertTarget(tn);return rn.cartesian?rn.cartesian.dataToPoint(nn):rn.axis?rn.axis.toGlobalCoord(rn.axis.dataToCoord(nn)):null},Fe.prototype.convertFromPixel=function(en,tn,nn){var rn=this._findConvertTarget(tn);return rn.cartesian?rn.cartesian.pointToData(nn):rn.axis?rn.axis.coordToData(rn.axis.toLocalCoord(nn)):null},Fe.prototype._findConvertTarget=function(en){var tn=en.seriesModel,nn=en.xAxisModel||tn&&tn.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],rn=en.yAxisModel||tn&&tn.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],an=en.gridModel,ln=this._coordsList,cn,un;if(tn)cn=tn.coordinateSystem,indexOf(ln,cn)<0&&(cn=null);else if(nn&&rn)cn=this.getCartesian(nn.componentIndex,rn.componentIndex);else if(nn)un=this.getAxis("x",nn.componentIndex);else if(rn)un=this.getAxis("y",rn.componentIndex);else if(an){var fn=an.coordinateSystem;fn===this&&(cn=this._coordsList[0])}return{cartesian:cn,axis:un}},Fe.prototype.containPoint=function(en){var tn=this._coordsList[0];if(tn)return tn.containPoint(en)},Fe.prototype._initCartesian=function(en,tn,nn){var rn=this,an=this,ln={left:!1,right:!1,top:!1,bottom:!1},cn={x:{},y:{}},un={x:0,y:0};if(tn.eachComponent("xAxis",fn("x"),this),tn.eachComponent("yAxis",fn("y"),this),!un.x||!un.y){this._axesMap={},this._axesList=[];return}this._axesMap=cn,each$f(cn.x,function(hn,pn){each$f(cn.y,function(gn,mn){var _n="x"+pn+"y"+mn,kn=new Cartesian2D(_n);kn.master=rn,kn.model=en,rn._coordsMap[_n]=kn,rn._coordsList.push(kn),kn.addAxis(hn),kn.addAxis(gn)})});function fn(hn){return function(pn,gn){if(isAxisUsedInTheGrid(pn,en)){var mn=pn.get("position");hn==="x"?mn!=="top"&&mn!=="bottom"&&(mn=ln.bottom?"top":"bottom"):mn!=="left"&&mn!=="right"&&(mn=ln.left?"right":"left"),ln[mn]=!0;var _n=new Axis2D$1(hn,createScaleByModel$1(pn),[0,0],pn.get("type"),mn),kn=_n.type==="category";_n.onBand=kn&&pn.get("boundaryGap"),_n.inverse=pn.get("inverse"),pn.axis=_n,_n.model=pn,_n.grid=an,_n.index=gn,an._axesList.push(_n),cn[hn][gn]=_n,un[hn]++}}}},Fe.prototype._updateScale=function(en,tn){each$f(this._axesList,function(rn){if(rn.scale.setExtent(1/0,-1/0),rn.type==="category"){var an=rn.model.get("categorySortInfo");rn.scale.setSortInfo(an)}}),en.eachSeries(function(rn){if(isCartesian2DSeries(rn)){var an=findAxisModels(rn),ln=an.xAxisModel,cn=an.yAxisModel;if(!isAxisUsedInTheGrid(ln,tn)||!isAxisUsedInTheGrid(cn,tn))return;var un=this.getCartesian(ln.componentIndex,cn.componentIndex),fn=rn.getData(),hn=un.getAxis("x"),pn=un.getAxis("y");nn(fn,hn),nn(fn,pn)}},this);function nn(rn,an){each$f(getDataDimensionsOnAxis(rn,an.dim),function(ln){an.scale.unionExtentFromData(rn,ln)})}},Fe.prototype.getTooltipAxes=function(en){var tn=[],nn=[];return each$f(this.getCartesians(),function(rn){var an=en!=null&&en!=="auto"?rn.getAxis(en):rn.getBaseAxis(),ln=rn.getOtherAxis(an);indexOf(tn,an)<0&&tn.push(an),indexOf(nn,ln)<0&&nn.push(ln)}),{baseAxes:tn,otherAxes:nn}},Fe.create=function(en,tn){var nn=[];return en.eachComponent("grid",function(rn,an){var ln=new Fe(rn,en,tn);ln.name="grid_"+an,ln.resize(rn,tn,!0),rn.coordinateSystem=ln,nn.push(ln)}),en.eachSeries(function(rn){if(isCartesian2DSeries(rn)){var an=findAxisModels(rn),ln=an.xAxisModel,cn=an.yAxisModel,un=ln.getCoordSysModel(),fn=un.coordinateSystem;rn.coordinateSystem=fn.getCartesian(ln.componentIndex,cn.componentIndex)}}),nn},Fe.dimensions=cartesian2DDimensions,Fe}();function isAxisUsedInTheGrid(Fe,en){return Fe.getCoordSysModel()===en}function fixAxisOnZero(Fe,en,tn,nn){tn.getAxesOnZeroOf=function(){return an?[an]:[]};var rn=Fe[en],an,ln=tn.model,cn=ln.get(["axisLine","onZero"]),un=ln.get(["axisLine","onZeroAxisIndex"]);if(!cn)return;if(un!=null)canOnZeroToAxis(rn[un])&&(an=rn[un]);else for(var fn in rn)if(rn.hasOwnProperty(fn)&&canOnZeroToAxis(rn[fn])&&!nn[hn(rn[fn])]){an=rn[fn];break}an&&(nn[hn(an)]=!0);function hn(pn){return pn.dim+"_"+pn.index}}function canOnZeroToAxis(Fe){return Fe&&Fe.type!=="category"&&Fe.type!=="time"&&ifAxisCrossZero(Fe)}function updateAxisTransform(Fe,en){var tn=Fe.getExtent(),nn=tn[0]+tn[1];Fe.toGlobalCoord=Fe.dim==="x"?function(rn){return rn+en}:function(rn){return nn-rn+en},Fe.toLocalCoord=Fe.dim==="x"?function(rn){return rn-en}:function(rn){return nn-rn+en}}const Grid$1=Grid;var PI$3=Math.PI,AxisBuilder=function(){function Fe(en,tn){this.group=new Group$4,this.opt=tn,this.axisModel=en,defaults(tn,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var nn=new Group$4({x:tn.position[0],y:tn.position[1],rotation:tn.rotation});nn.updateTransform(),this._transformGroup=nn}return Fe.prototype.hasBuilder=function(en){return!!builders[en]},Fe.prototype.add=function(en){builders[en](this.opt,this.axisModel,this.group,this._transformGroup)},Fe.prototype.getGroup=function(){return this.group},Fe.innerTextLayout=function(en,tn,nn){var rn=remRadian(tn-en),an,ln;return isRadianAroundZero(rn)?(ln=nn>0?"top":"bottom",an="center"):isRadianAroundZero(rn-PI$3)?(ln=nn>0?"bottom":"top",an="center"):(ln="middle",rn>0&&rn<PI$3?an=nn>0?"right":"left":an=nn>0?"left":"right"),{rotation:rn,textAlign:an,textVerticalAlign:ln}},Fe.makeAxisEventDataBase=function(en){var tn={componentType:en.mainType,componentIndex:en.componentIndex};return tn[en.mainType+"Index"]=en.componentIndex,tn},Fe.isLabelSilent=function(en){var tn=en.get("tooltip");return en.get("silent")||!(en.get("triggerEvent")||tn&&tn.show)},Fe}(),builders={axisLine:function(Fe,en,tn,nn){var rn=en.get(["axisLine","show"]);if(rn==="auto"&&Fe.handleAutoShown&&(rn=Fe.handleAutoShown("axisLine")),!!rn){var an=en.axis.getExtent(),ln=nn.transform,cn=[an[0],0],un=[an[1],0],fn=cn[0]>un[0];ln&&(applyTransform$1(cn,cn,ln),applyTransform$1(un,un,ln));var hn=extend$1({lineCap:"round"},en.getModel(["axisLine","lineStyle"]).getLineStyle()),pn=new Line$3({shape:{x1:cn[0],y1:cn[1],x2:un[0],y2:un[1]},style:hn,strokeContainThreshold:Fe.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(pn.shape,pn.style.lineWidth),pn.anid="line",tn.add(pn);var gn=en.get(["axisLine","symbol"]);if(gn!=null){var mn=en.get(["axisLine","symbolSize"]);isString(gn)&&(gn=[gn,gn]),(isString(mn)||isNumber(mn))&&(mn=[mn,mn]);var _n=normalizeSymbolOffset(en.get(["axisLine","symbolOffset"])||0,mn),kn=mn[0],Cn=mn[1];each$f([{rotate:Fe.rotation+Math.PI/2,offset:_n[0],r:0},{rotate:Fe.rotation-Math.PI/2,offset:_n[1],r:Math.sqrt((cn[0]-un[0])*(cn[0]-un[0])+(cn[1]-un[1])*(cn[1]-un[1]))}],function(xn,Sn){if(gn[Sn]!=="none"&&gn[Sn]!=null){var Mn=createSymbol$1(gn[Sn],-kn/2,-Cn/2,kn,Cn,hn.stroke,!0),In=xn.r+xn.offset,On=fn?un:cn;Mn.attr({rotation:xn.rotate,x:On[0]+In*Math.cos(Fe.rotation),y:On[1]-In*Math.sin(Fe.rotation),silent:!0,z2:11}),tn.add(Mn)}})}}},axisTickLabel:function(Fe,en,tn,nn){var rn=buildAxisMajorTicks(tn,nn,en,Fe),an=buildAxisLabel(tn,nn,en,Fe);if(fixMinMaxLabelShow(en,an,rn),buildAxisMinorTicks(tn,nn,en,Fe.tickDirection),en.get(["axisLabel","hideOverlap"])){var ln=prepareLayoutList(map$1(an,function(cn){return{label:cn,priority:cn.z2,defaultAttr:{ignore:cn.ignore}}}));hideOverlap(ln)}},axisName:function(Fe,en,tn,nn){var rn=retrieve(Fe.axisName,en.get("name"));if(rn){var an=en.get("nameLocation"),ln=Fe.nameDirection,cn=en.getModel("nameTextStyle"),un=en.get("nameGap")||0,fn=en.axis.getExtent(),hn=fn[0]>fn[1]?-1:1,pn=[an==="start"?fn[0]-hn*un:an==="end"?fn[1]+hn*un:(fn[0]+fn[1])/2,isNameLocationCenter(an)?Fe.labelOffset+ln*un:0],gn,mn=en.get("nameRotate");mn!=null&&(mn=mn*PI$3/180);var _n;isNameLocationCenter(an)?gn=AxisBuilder.innerTextLayout(Fe.rotation,mn??Fe.rotation,ln):(gn=endTextLayout(Fe.rotation,an,mn||0,fn),_n=Fe.axisNameAvailableWidth,_n!=null&&(_n=Math.abs(_n/Math.sin(gn.rotation)),!isFinite(_n)&&(_n=null)));var kn=cn.getFont(),Cn=en.get("nameTruncate",!0)||{},xn=Cn.ellipsis,Sn=retrieve(Fe.nameTruncateMaxWidth,Cn.maxWidth,_n),Mn=new ZRText$1({x:pn[0],y:pn[1],rotation:gn.rotation,silent:AxisBuilder.isLabelSilent(en),style:createTextStyle$1(cn,{text:rn,font:kn,overflow:"truncate",width:Sn,ellipsis:xn,fill:cn.getTextColor()||en.get(["axisLine","lineStyle","color"]),align:cn.get("align")||gn.textAlign,verticalAlign:cn.get("verticalAlign")||gn.textVerticalAlign}),z2:1});if(setTooltipConfig({el:Mn,componentModel:en,itemName:rn}),Mn.__fullText=rn,Mn.anid="name",en.get("triggerEvent")){var In=AxisBuilder.makeAxisEventDataBase(en);In.targetType="axisName",In.name=rn,getECData(Mn).eventData=In}nn.add(Mn),Mn.updateTransform(),tn.add(Mn),Mn.decomposeTransform()}}};function endTextLayout(Fe,en,tn,nn){var rn=remRadian(tn-Fe),an,ln,cn=nn[0]>nn[1],un=en==="start"&&!cn||en!=="start"&&cn;return isRadianAroundZero(rn-PI$3/2)?(ln=un?"bottom":"top",an="center"):isRadianAroundZero(rn-PI$3*1.5)?(ln=un?"top":"bottom",an="center"):(ln="middle",rn<PI$3*1.5&&rn>PI$3/2?an=un?"left":"right":an=un?"right":"left"),{rotation:rn,textAlign:an,textVerticalAlign:ln}}function fixMinMaxLabelShow(Fe,en,tn){if(!shouldShowAllLabels(Fe.axis)){var nn=Fe.get(["axisLabel","showMinLabel"]),rn=Fe.get(["axisLabel","showMaxLabel"]);en=en||[],tn=tn||[];var an=en[0],ln=en[1],cn=en[en.length-1],un=en[en.length-2],fn=tn[0],hn=tn[1],pn=tn[tn.length-1],gn=tn[tn.length-2];nn===!1?(ignoreEl(an),ignoreEl(fn)):isTwoLabelOverlapped(an,ln)&&(nn?(ignoreEl(ln),ignoreEl(hn)):(ignoreEl(an),ignoreEl(fn))),rn===!1?(ignoreEl(cn),ignoreEl(pn)):isTwoLabelOverlapped(un,cn)&&(rn?(ignoreEl(un),ignoreEl(gn)):(ignoreEl(cn),ignoreEl(pn)))}}function ignoreEl(Fe){Fe&&(Fe.ignore=!0)}function isTwoLabelOverlapped(Fe,en){var tn=Fe&&Fe.getBoundingRect().clone(),nn=en&&en.getBoundingRect().clone();if(!(!tn||!nn)){var rn=identity([]);return rotate(rn,rn,-Fe.rotation),tn.applyTransform(mul([],rn,Fe.getLocalTransform())),nn.applyTransform(mul([],rn,en.getLocalTransform())),tn.intersect(nn)}}function isNameLocationCenter(Fe){return Fe==="middle"||Fe==="center"}function createTicks(Fe,en,tn,nn,rn){for(var an=[],ln=[],cn=[],un=0;un<Fe.length;un++){var fn=Fe[un].coord;ln[0]=fn,ln[1]=0,cn[0]=fn,cn[1]=tn,en&&(applyTransform$1(ln,ln,en),applyTransform$1(cn,cn,en));var hn=new Line$3({shape:{x1:ln[0],y1:ln[1],x2:cn[0],y2:cn[1]},style:nn,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(hn.shape,hn.style.lineWidth),hn.anid=rn+"_"+Fe[un].tickValue,an.push(hn)}return an}function buildAxisMajorTicks(Fe,en,tn,nn){var rn=tn.axis,an=tn.getModel("axisTick"),ln=an.get("show");if(ln==="auto"&&nn.handleAutoShown&&(ln=nn.handleAutoShown("axisTick")),!(!ln||rn.scale.isBlank())){for(var cn=an.getModel("lineStyle"),un=nn.tickDirection*an.get("length"),fn=rn.getTicksCoords(),hn=createTicks(fn,en.transform,un,defaults(cn.getLineStyle(),{stroke:tn.get(["axisLine","lineStyle","color"])}),"ticks"),pn=0;pn<hn.length;pn++)Fe.add(hn[pn]);return hn}}function buildAxisMinorTicks(Fe,en,tn,nn){var rn=tn.axis,an=tn.getModel("minorTick");if(!(!an.get("show")||rn.scale.isBlank())){var ln=rn.getMinorTicksCoords();if(ln.length)for(var cn=an.getModel("lineStyle"),un=nn*an.get("length"),fn=defaults(cn.getLineStyle(),defaults(tn.getModel("axisTick").getLineStyle(),{stroke:tn.get(["axisLine","lineStyle","color"])})),hn=0;hn<ln.length;hn++)for(var pn=createTicks(ln[hn],en.transform,un,fn,"minorticks_"+hn),gn=0;gn<pn.length;gn++)Fe.add(pn[gn])}}function buildAxisLabel(Fe,en,tn,nn){var rn=tn.axis,an=retrieve(nn.axisLabelShow,tn.get(["axisLabel","show"]));if(!(!an||rn.scale.isBlank())){var ln=tn.getModel("axisLabel"),cn=ln.get("margin"),un=rn.getViewLabels(),fn=(retrieve(nn.labelRotate,ln.get("rotate"))||0)*PI$3/180,hn=AxisBuilder.innerTextLayout(nn.rotation,fn,nn.labelDirection),pn=tn.getCategories&&tn.getCategories(!0),gn=[],mn=AxisBuilder.isLabelSilent(tn),_n=tn.get("triggerEvent");return each$f(un,function(kn,Cn){var xn=rn.scale.type==="ordinal"?rn.scale.getRawOrdinalNumber(kn.tickValue):kn.tickValue,Sn=kn.formattedLabel,Mn=kn.rawLabel,In=ln;if(pn&&pn[xn]){var On=pn[xn];isObject$3(On)&&On.textStyle&&(In=new Model$1(On.textStyle,ln,tn.ecModel))}var Pn=In.getTextColor()||tn.get(["axisLine","lineStyle","color"]),Tn=rn.dataToCoord(xn),Nn=new ZRText$1({x:Tn,y:nn.labelOffset+nn.labelDirection*cn,rotation:hn.rotation,silent:mn,z2:10+(kn.level||0),style:createTextStyle$1(In,{text:Sn,align:In.getShallow("align",!0)||hn.textAlign,verticalAlign:In.getShallow("verticalAlign",!0)||In.getShallow("baseline",!0)||hn.textVerticalAlign,fill:isFunction(Pn)?Pn(rn.type==="category"?Mn:rn.type==="value"?xn+"":xn,Cn):Pn})});if(Nn.anid="label_"+xn,_n){var Hn=AxisBuilder.makeAxisEventDataBase(tn);Hn.targetType="axisLabel",Hn.value=Mn,Hn.tickIndex=Cn,rn.type==="category"&&(Hn.dataIndex=xn),getECData(Nn).eventData=Hn}en.add(Nn),Nn.updateTransform(),gn.push(Nn),Fe.add(Nn),Nn.decomposeTransform()}),gn}}const AxisBuilder$1=AxisBuilder;function collect(Fe,en){var tn={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(tn,Fe,en),tn.seriesInvolved&&collectSeriesInfo(tn,Fe),tn}function collectAxesInfo(Fe,en,tn){var nn=en.getComponent("tooltip"),rn=en.getComponent("axisPointer"),an=rn.get("link",!0)||[],ln=[];each$f(tn.getCoordinateSystems(),function(cn){if(!cn.axisPointerEnabled)return;var un=makeKey(cn.model),fn=Fe.coordSysAxesInfo[un]={};Fe.coordSysMap[un]=cn;var hn=cn.model,pn=hn.getModel("tooltip",nn);if(each$f(cn.getAxes(),curry$1(kn,!1,null)),cn.getTooltipAxes&&nn&&pn.get("show")){var gn=pn.get("trigger")==="axis",mn=pn.get(["axisPointer","type"])==="cross",_n=cn.getTooltipAxes(pn.get(["axisPointer","axis"]));(gn||mn)&&each$f(_n.baseAxes,curry$1(kn,mn?"cross":!0,gn)),mn&&each$f(_n.otherAxes,curry$1(kn,"cross",!1))}function kn(Cn,xn,Sn){var Mn=Sn.model.getModel("axisPointer",rn),In=Mn.get("show");if(!(!In||In==="auto"&&!Cn&&!isHandleTrigger(Mn))){xn==null&&(xn=Mn.get("triggerTooltip")),Mn=Cn?makeAxisPointerModel(Sn,pn,rn,en,Cn,xn):Mn;var On=Mn.get("snap"),Pn=Mn.get("triggerEmphasis"),Tn=makeKey(Sn.model),Nn=xn||On||Sn.type==="category",Hn=Fe.axesInfo[Tn]={key:Tn,axis:Sn,coordSys:cn,axisPointerModel:Mn,triggerTooltip:xn,triggerEmphasis:Pn,involveSeries:Nn,snap:On,useHandle:isHandleTrigger(Mn),seriesModels:[],linkGroup:null};fn[Tn]=Hn,Fe.seriesInvolved=Fe.seriesInvolved||Nn;var Un=getLinkGroupIndex(an,Sn);if(Un!=null){var jn=ln[Un]||(ln[Un]={axesInfo:{}});jn.axesInfo[Tn]=Hn,jn.mapper=an[Un].mapper,Hn.linkGroup=jn}}}})}function makeAxisPointerModel(Fe,en,tn,nn,rn,an){var ln=en.getModel("axisPointer"),cn=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],un={};each$f(cn,function(gn){un[gn]=clone$4(ln.get(gn))}),un.snap=Fe.type!=="category"&&!!an,ln.get("type")==="cross"&&(un.type="line");var fn=un.label||(un.label={});if(fn.show==null&&(fn.show=!1),rn==="cross"){var hn=ln.get(["label","show"]);if(fn.show=hn??!0,!an){var pn=un.lineStyle=ln.get("crossStyle");pn&&defaults(fn,pn.textStyle)}}return Fe.model.getModel("axisPointer",new Model$1(un,tn,nn))}function collectSeriesInfo(Fe,en){en.eachSeries(function(tn){var nn=tn.coordinateSystem,rn=tn.get(["tooltip","trigger"],!0),an=tn.get(["tooltip","show"],!0);!nn||rn==="none"||rn===!1||rn==="item"||an===!1||tn.get(["axisPointer","show"],!0)===!1||each$f(Fe.coordSysAxesInfo[makeKey(nn.model)],function(ln){var cn=ln.axis;nn.getAxis(cn.dim)===cn&&(ln.seriesModels.push(tn),ln.seriesDataCount==null&&(ln.seriesDataCount=0),ln.seriesDataCount+=tn.getData().count())})})}function getLinkGroupIndex(Fe,en){for(var tn=en.model,nn=en.dim,rn=0;rn<Fe.length;rn++){var an=Fe[rn]||{};if(checkPropInLink(an[nn+"AxisId"],tn.id)||checkPropInLink(an[nn+"AxisIndex"],tn.componentIndex)||checkPropInLink(an[nn+"AxisName"],tn.name))return rn}}function checkPropInLink(Fe,en){return Fe==="all"||isArray$1(Fe)&&indexOf(Fe,en)>=0||Fe===en}function fixValue(Fe){var en=getAxisInfo$1(Fe);if(en){var tn=en.axisPointerModel,nn=en.axis.scale,rn=tn.option,an=tn.get("status"),ln=tn.get("value");ln!=null&&(ln=nn.parse(ln));var cn=isHandleTrigger(tn);an==null&&(rn.status=cn?"show":"hide");var un=nn.getExtent().slice();un[0]>un[1]&&un.reverse(),(ln==null||ln>un[1])&&(ln=un[1]),ln<un[0]&&(ln=un[0]),rn.value=ln,cn&&(rn.status=en.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(Fe){var en=(Fe.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return en&&en.axesInfo[makeKey(Fe)]}function getAxisPointerModel(Fe){var en=getAxisInfo$1(Fe);return en&&en.axisPointerModel}function isHandleTrigger(Fe){return!!Fe.get(["handle","show"])}function makeKey(Fe){return Fe.type+"||"+Fe.id}var axisPointerClazz={},AxisView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn,an){this.axisPointerClass&&fixValue(tn),Fe.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(tn,rn,!0)},en.prototype.updateAxisPointer=function(tn,nn,rn,an){this._doUpdateAxisPointerClass(tn,rn,!1)},en.prototype.remove=function(tn,nn){var rn=this._axisPointer;rn&&rn.remove(nn)},en.prototype.dispose=function(tn,nn){this._disposeAxisPointer(nn),Fe.prototype.dispose.apply(this,arguments)},en.prototype._doUpdateAxisPointerClass=function(tn,nn,rn){var an=en.getAxisPointerClass(this.axisPointerClass);if(an){var ln=getAxisPointerModel(tn);ln?(this._axisPointer||(this._axisPointer=new an)).render(tn,ln,nn,rn):this._disposeAxisPointer(nn)}},en.prototype._disposeAxisPointer=function(tn){this._axisPointer&&this._axisPointer.dispose(tn),this._axisPointer=null},en.registerAxisPointerClass=function(tn,nn){axisPointerClazz[tn]=nn},en.getAxisPointerClass=function(tn){return tn&&axisPointerClazz[tn]},en.type="axis",en}(ComponentView$1);const AxisView$1=AxisView;var inner$f=makeInner();function rectCoordAxisBuildSplitArea(Fe,en,tn,nn){var rn=tn.axis;if(!rn.scale.isBlank()){var an=tn.getModel("splitArea"),ln=an.getModel("areaStyle"),cn=ln.get("color"),un=nn.coordinateSystem.getRect(),fn=rn.getTicksCoords({tickModel:an,clamp:!0});if(fn.length){var hn=cn.length,pn=inner$f(Fe).splitAreaColors,gn=createHashMap(),mn=0;if(pn)for(var _n=0;_n<fn.length;_n++){var kn=pn.get(fn[_n].tickValue);if(kn!=null){mn=(kn+(hn-1)*_n)%hn;break}}var Cn=rn.toGlobalCoord(fn[0].coord),xn=ln.getAreaStyle();cn=isArray$1(cn)?cn:[cn];for(var _n=1;_n<fn.length;_n++){var Sn=rn.toGlobalCoord(fn[_n].coord),Mn=void 0,In=void 0,On=void 0,Pn=void 0;rn.isHorizontal()?(Mn=Cn,In=un.y,On=Sn-Mn,Pn=un.height,Cn=Mn+On):(Mn=un.x,In=Cn,On=un.width,Pn=Sn-In,Cn=In+Pn);var Tn=fn[_n-1].tickValue;Tn!=null&&gn.set(Tn,mn),en.add(new Rect$3({anid:Tn!=null?"area_"+Tn:null,shape:{x:Mn,y:In,width:On,height:Pn},style:defaults({fill:cn[mn]},xn),autoBatch:!0,silent:!0})),mn=(mn+1)%hn}inner$f(Fe).splitAreaColors=gn}}}function rectCoordAxisHandleRemove(Fe){inner$f(Fe).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.axisPointerClass="CartesianAxisPointer",tn}return en.prototype.render=function(tn,nn,rn,an){this.group.removeAll();var ln=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!tn.get("show")){var cn=tn.getCoordSysModel(),un=layout$2(cn,tn),fn=new AxisBuilder$1(tn,extend$1({handleAutoShown:function(pn){for(var gn=cn.coordinateSystem.getCartesians(),mn=0;mn<gn.length;mn++)if(isIntervalOrLogScale(gn[mn].getOtherAxis(tn.axis).scale))return!0;return!1}},un));each$f(axisBuilderAttrs$3,fn.add,fn),this._axisGroup.add(fn.getGroup()),each$f(selfBuilderAttrs$2,function(pn){tn.get([pn,"show"])&&axisElementBuilders$2[pn](this,this._axisGroup,tn,cn)},this);var hn=an&&an.type==="changeAxisOrder"&&an.isInitSort;hn||groupTransition(ln,this._axisGroup,tn),Fe.prototype.render.call(this,tn,nn,rn,an)}},en.prototype.remove=function(){rectCoordAxisHandleRemove(this)},en.type="cartesianAxis",en}(AxisView$1),axisElementBuilders$2={splitLine:function(Fe,en,tn,nn){var rn=tn.axis;if(!rn.scale.isBlank()){var an=tn.getModel("splitLine"),ln=an.getModel("lineStyle"),cn=ln.get("color");cn=isArray$1(cn)?cn:[cn];for(var un=nn.coordinateSystem.getRect(),fn=rn.isHorizontal(),hn=0,pn=rn.getTicksCoords({tickModel:an}),gn=[],mn=[],_n=ln.getLineStyle(),kn=0;kn<pn.length;kn++){var Cn=rn.toGlobalCoord(pn[kn].coord);fn?(gn[0]=Cn,gn[1]=un.y,mn[0]=Cn,mn[1]=un.y+un.height):(gn[0]=un.x,gn[1]=Cn,mn[0]=un.x+un.width,mn[1]=Cn);var xn=hn++%cn.length,Sn=pn[kn].tickValue,Mn=new Line$3({anid:Sn!=null?"line_"+pn[kn].tickValue:null,autoBatch:!0,shape:{x1:gn[0],y1:gn[1],x2:mn[0],y2:mn[1]},style:defaults({stroke:cn[xn]},_n),silent:!0});subPixelOptimizeLine(Mn.shape,_n.lineWidth),en.add(Mn)}}},minorSplitLine:function(Fe,en,tn,nn){var rn=tn.axis,an=tn.getModel("minorSplitLine"),ln=an.getModel("lineStyle"),cn=nn.coordinateSystem.getRect(),un=rn.isHorizontal(),fn=rn.getMinorTicksCoords();if(fn.length)for(var hn=[],pn=[],gn=ln.getLineStyle(),mn=0;mn<fn.length;mn++)for(var _n=0;_n<fn[mn].length;_n++){var kn=rn.toGlobalCoord(fn[mn][_n].coord);un?(hn[0]=kn,hn[1]=cn.y,pn[0]=kn,pn[1]=cn.y+cn.height):(hn[0]=cn.x,hn[1]=kn,pn[0]=cn.x+cn.width,pn[1]=kn);var Cn=new Line$3({anid:"minor_line_"+fn[mn][_n].tickValue,autoBatch:!0,shape:{x1:hn[0],y1:hn[1],x2:pn[0],y2:pn[1]},style:gn,silent:!0});subPixelOptimizeLine(Cn.shape,gn.lineWidth),en.add(Cn)}},splitArea:function(Fe,en,tn,nn){rectCoordAxisBuildSplitArea(Fe,en,tn,nn)}},CartesianXAxisView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="xAxis",en}(CartesianAxisView),CartesianYAxisView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=CartesianXAxisView.type,tn}return en.type="yAxis",en}(CartesianAxisView),GridView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type="grid",tn}return en.prototype.render=function(tn,nn){this.group.removeAll(),tn.get("show")&&this.group.add(new Rect$3({shape:tn.coordinateSystem.getRect(),style:defaults({fill:tn.get("backgroundColor")},tn.getItemStyle()),silent:!0,z2:-1}))},en.type="grid",en}(ComponentView$1),extraOption={offset:0};function install$N(Fe){Fe.registerComponentView(GridView),Fe.registerComponentModel(GridModel$1),Fe.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator(Fe,"x",CartesianAxisModel,extraOption),axisModelCreator(Fe,"y",CartesianAxisModel,extraOption),Fe.registerComponentView(CartesianXAxisView),Fe.registerComponentView(CartesianYAxisView),Fe.registerPreprocessor(function(en){en.xAxis&&en.yAxis&&!en.grid&&(en.grid={})})}function install$M(Fe){use(install$N),Fe.registerSeriesModel(ScatterSeriesModel$1),Fe.registerChartView(ScatterView$1),Fe.registerLayout(pointsLayout("scatter"))}function radarLayout(Fe){Fe.eachSeriesByType("radar",function(en){var tn=en.getData(),nn=[],rn=en.coordinateSystem;if(rn){var an=rn.getIndicatorAxes();each$f(an,function(ln,cn){tn.each(tn.mapDimension(an[cn].dim),function(un,fn){nn[fn]=nn[fn]||[];var hn=rn.dataToPoint(un,cn);nn[fn][cn]=isValidPoint(hn)?hn:getValueMissingPoint(rn)})}),tn.each(function(ln){var cn=find(nn[ln],function(un){return isValidPoint(un)})||getValueMissingPoint(rn);nn[ln].push(cn.slice()),tn.setItemLayout(ln,nn[ln])})}})}function isValidPoint(Fe){return!isNaN(Fe[0])&&!isNaN(Fe[1])}function getValueMissingPoint(Fe){return[Fe.cx,Fe.cy]}function radarBackwardCompat(Fe){var en=Fe.polar;if(en){isArray$1(en)||(en=[en]);var tn=[];each$f(en,function(nn,rn){nn.indicator?(nn.type&&!nn.shape&&(nn.shape=nn.type),Fe.radar=Fe.radar||[],isArray$1(Fe.radar)||(Fe.radar=[Fe.radar]),Fe.radar.push(nn)):tn.push(nn)}),Fe.polar=tn}each$f(Fe.series,function(nn){nn&&nn.type==="radar"&&nn.polarIndex&&(nn.radarIndex=nn.polarIndex)})}var RadarView$2=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){var an=tn.coordinateSystem,ln=this.group,cn=tn.getData(),un=this._data;function fn(gn,mn){var _n=gn.getItemVisual(mn,"symbol")||"circle";if(_n!=="none"){var kn=normalizeSymbolSize(gn.getItemVisual(mn,"symbolSize")),Cn=createSymbol$1(_n,-1,-1,2,2),xn=gn.getItemVisual(mn,"symbolRotate")||0;return Cn.attr({style:{strokeNoScale:!0},z2:100,scaleX:kn[0]/2,scaleY:kn[1]/2,rotation:xn*Math.PI/180||0}),Cn}}function hn(gn,mn,_n,kn,Cn,xn){_n.removeAll();for(var Sn=0;Sn<mn.length-1;Sn++){var Mn=fn(kn,Cn);Mn&&(Mn.__dimIdx=Sn,gn[Sn]?(Mn.setPosition(gn[Sn]),graphic$1[xn?"initProps":"updateProps"](Mn,{x:mn[Sn][0],y:mn[Sn][1]},tn,Cn)):Mn.setPosition(mn[Sn]),_n.add(Mn))}}function pn(gn){return map$1(gn,function(mn){return[an.cx,an.cy]})}cn.diff(un).add(function(gn){var mn=cn.getItemLayout(gn);if(mn){var _n=new Polygon$1,kn=new Polyline$3,Cn={shape:{points:mn}};_n.shape.points=pn(mn),kn.shape.points=pn(mn),initProps(_n,Cn,tn,gn),initProps(kn,Cn,tn,gn);var xn=new Group$4,Sn=new Group$4;xn.add(kn),xn.add(_n),xn.add(Sn),hn(kn.shape.points,mn,Sn,cn,gn,!0),cn.setItemGraphicEl(gn,xn)}}).update(function(gn,mn){var _n=un.getItemGraphicEl(mn),kn=_n.childAt(0),Cn=_n.childAt(1),xn=_n.childAt(2),Sn={shape:{points:cn.getItemLayout(gn)}};Sn.shape.points&&(hn(kn.shape.points,Sn.shape.points,xn,cn,gn,!1),saveOldStyle(Cn),saveOldStyle(kn),updateProps$1(kn,Sn,tn),updateProps$1(Cn,Sn,tn),cn.setItemGraphicEl(gn,_n))}).remove(function(gn){ln.remove(un.getItemGraphicEl(gn))}).execute(),cn.eachItemGraphicEl(function(gn,mn){var _n=cn.getItemModel(mn),kn=gn.childAt(0),Cn=gn.childAt(1),xn=gn.childAt(2),Sn=cn.getItemVisual(mn,"style"),Mn=Sn.fill;ln.add(gn),kn.useStyle(defaults(_n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Mn})),setStatesStylesFromModel(kn,_n,"lineStyle"),setStatesStylesFromModel(Cn,_n,"areaStyle");var In=_n.getModel("areaStyle"),On=In.isEmpty()&&In.parentModel.isEmpty();Cn.ignore=On,each$f(["emphasis","select","blur"],function(Nn){var Hn=_n.getModel([Nn,"areaStyle"]),Un=Hn.isEmpty()&&Hn.parentModel.isEmpty();Cn.ensureState(Nn).ignore=Un&&On}),Cn.useStyle(defaults(In.getAreaStyle(),{fill:Mn,opacity:.7,decal:Sn.decal}));var Pn=_n.getModel("emphasis"),Tn=Pn.getModel("itemStyle").getItemStyle();xn.eachChild(function(Nn){if(Nn instanceof ZRImage$1){var Hn=Nn.style;Nn.useStyle(extend$1({image:Hn.image,x:Hn.x,y:Hn.y,width:Hn.width,height:Hn.height},Sn))}else Nn.useStyle(Sn),Nn.setColor(Mn),Nn.style.strokeNoScale=!0;var Un=Nn.ensureState("emphasis");Un.style=clone$4(Tn);var jn=cn.getStore().get(cn.getDimensionIndex(Nn.__dimIdx),mn);(jn==null||isNaN(jn))&&(jn=""),setLabelStyle(Nn,getLabelStatesModels(_n),{labelFetcher:cn.hostModel,labelDataIndex:mn,labelDimIndex:Nn.__dimIdx,defaultText:jn,inheritColor:Mn,defaultOpacity:Sn.opacity})}),toggleHoverEmphasis(gn,Pn.get("focus"),Pn.get("blurScope"),Pn.get("disabled"))}),this._data=cn},en.prototype.remove=function(){this.group.removeAll(),this._data=null},en.type="radar",en}(ChartView$1);const RadarView$3=RadarView$2;var RadarSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.hasSymbolVisual=!0,tn}return en.prototype.init=function(tn){Fe.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},en.prototype.getInitialData=function(tn,nn){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},en.prototype.formatTooltip=function(tn,nn,rn){var an=this.getData(),ln=this.coordinateSystem,cn=ln.getIndicatorAxes(),un=this.getData().getName(tn),fn=un===""?this.name:un,hn=retrieveVisualColorForTooltipMarker(this,tn);return createTooltipMarkup("section",{header:fn,sortBlocks:!0,blocks:map$1(cn,function(pn){var gn=an.get(an.mapDimension(pn.dim),tn);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:hn,name:pn.name,value:gn,sortParam:gn})})})},en.prototype.getTooltipPosition=function(tn){if(tn!=null){for(var nn=this.getData(),rn=this.coordinateSystem,an=nn.getValues(map$1(rn.dimensions,function(fn){return nn.mapDimension(fn)}),tn),ln=0,cn=an.length;ln<cn;ln++)if(!isNaN(an[ln])){var un=rn.getIndicatorAxes();return rn.coordToPoint(un[ln].dataToCoord(an[ln]),ln)}}},en.type="series.radar",en.dependencies=["radar"],en.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},en}(SeriesModel$1);const RadarSeriesModel$1=RadarSeriesModel;var valueAxisDefault=axisDefault.value;function defaultsShow(Fe,en){return defaults({show:en},Fe)}var RadarModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.optionUpdated=function(){var tn=this.get("boundaryGap"),nn=this.get("splitNumber"),rn=this.get("scale"),an=this.get("axisLine"),ln=this.get("axisTick"),cn=this.get("axisLabel"),un=this.get("axisName"),fn=this.get(["axisName","show"]),hn=this.get(["axisName","formatter"]),pn=this.get("axisNameGap"),gn=this.get("triggerEvent"),mn=map$1(this.get("indicator")||[],function(_n){_n.max!=null&&_n.max>0&&!_n.min?_n.min=0:_n.min!=null&&_n.min<0&&!_n.max&&(_n.max=0);var kn=un;_n.color!=null&&(kn=defaults({color:_n.color},un));var Cn=merge(clone$4(_n),{boundaryGap:tn,splitNumber:nn,scale:rn,axisLine:an,axisTick:ln,axisLabel:cn,name:_n.text,showName:fn,nameLocation:"end",nameGap:pn,nameTextStyle:kn,triggerEvent:gn},!1);if(isString(hn)){var xn=Cn.name;Cn.name=hn.replace("{value}",xn??"")}else isFunction(hn)&&(Cn.name=hn(Cn.name,Cn));var Sn=new Model$1(Cn,null,this.ecModel);return mixin(Sn,AxisModelCommonMixin.prototype),Sn.mainType="radar",Sn.componentIndex=this.componentIndex,Sn},this);this._indicatorModels=mn},en.prototype.getIndicatorModels=function(){return this._indicatorModels},en.type="radar",en.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},en}(ComponentModel$1);const RadarModel$1=RadarModel;var axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){var an=this.group;an.removeAll(),this._buildAxes(tn),this._buildSplitLineAndArea(tn)},en.prototype._buildAxes=function(tn){var nn=tn.coordinateSystem,rn=nn.getIndicatorAxes(),an=map$1(rn,function(ln){var cn=ln.model.get("showName")?ln.name:"",un=new AxisBuilder$1(ln.model,{axisName:cn,position:[nn.cx,nn.cy],rotation:ln.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return un});each$f(an,function(ln){each$f(axisBuilderAttrs$2,ln.add,ln),this.group.add(ln.getGroup())},this)},en.prototype._buildSplitLineAndArea=function(tn){var nn=tn.coordinateSystem,rn=nn.getIndicatorAxes();if(!rn.length)return;var an=tn.get("shape"),ln=tn.getModel("splitLine"),cn=tn.getModel("splitArea"),un=ln.getModel("lineStyle"),fn=cn.getModel("areaStyle"),hn=ln.get("show"),pn=cn.get("show"),gn=un.get("color"),mn=fn.get("color"),_n=isArray$1(gn)?gn:[gn],kn=isArray$1(mn)?mn:[mn],Cn=[],xn=[];function Sn(Xn,jr,Wr){var Jr=Wr%jr.length;return Xn[Jr]=Xn[Jr]||[],Jr}if(an==="circle")for(var Mn=rn[0].getTicksCoords(),In=nn.cx,On=nn.cy,Pn=0;Pn<Mn.length;Pn++){if(hn){var Tn=Sn(Cn,_n,Pn);Cn[Tn].push(new Circle$1({shape:{cx:In,cy:On,r:Mn[Pn].coord}}))}if(pn&&Pn<Mn.length-1){var Tn=Sn(xn,kn,Pn);xn[Tn].push(new Ring$1({shape:{cx:In,cy:On,r0:Mn[Pn].coord,r:Mn[Pn+1].coord}}))}}else for(var Nn,Hn=map$1(rn,function(Xn,jr){var Wr=Xn.getTicksCoords();return Nn=Nn==null?Wr.length-1:Math.min(Wr.length-1,Nn),map$1(Wr,function(Jr){return nn.coordToPoint(Jr.coord,jr)})}),Un=[],Pn=0;Pn<=Nn;Pn++){for(var jn=[],Yn=0;Yn<rn.length;Yn++)jn.push(Hn[Yn][Pn]);if(jn[0]&&jn.push(jn[0].slice()),hn){var Tn=Sn(Cn,_n,Pn);Cn[Tn].push(new Polyline$3({shape:{points:jn}}))}if(pn&&Un){var Tn=Sn(xn,kn,Pn-1);xn[Tn].push(new Polygon$1({shape:{points:jn.concat(Un)}}))}Un=jn.slice().reverse()}var Wn=un.getLineStyle(),Qn=fn.getAreaStyle();each$f(xn,function(Xn,jr){this.group.add(mergePath(Xn,{style:defaults({stroke:"none",fill:kn[jr%kn.length]},Qn),silent:!0}))},this),each$f(Cn,function(Xn,jr){this.group.add(mergePath(Xn,{style:defaults({fill:"none",stroke:_n[jr%_n.length]},Wn),silent:!0}))},this)},en.type="radar",en}(ComponentView$1);const RadarView$1=RadarView;var IndicatorAxis=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this,tn,nn,rn)||this;return an.type="value",an.angle=0,an.name="",an}return en}(Axis$1);const IndicatorAxis$1=IndicatorAxis;var Radar=function(){function Fe(en,tn,nn){this.dimensions=[],this._model=en,this._indicatorAxes=map$1(en.getIndicatorModels(),function(rn,an){var ln="indicator_"+an,cn=new IndicatorAxis$1(ln,new IntervalScale$1);return cn.name=rn.get("name"),cn.model=rn,rn.axis=cn,this.dimensions.push(ln),cn},this),this.resize(en,nn)}return Fe.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Fe.prototype.dataToPoint=function(en,tn){var nn=this._indicatorAxes[tn];return this.coordToPoint(nn.dataToCoord(en),tn)},Fe.prototype.coordToPoint=function(en,tn){var nn=this._indicatorAxes[tn],rn=nn.angle,an=this.cx+en*Math.cos(rn),ln=this.cy-en*Math.sin(rn);return[an,ln]},Fe.prototype.pointToData=function(en){var tn=en[0]-this.cx,nn=en[1]-this.cy,rn=Math.sqrt(tn*tn+nn*nn);tn/=rn,nn/=rn;for(var an=Math.atan2(-nn,tn),ln=1/0,cn,un=-1,fn=0;fn<this._indicatorAxes.length;fn++){var hn=this._indicatorAxes[fn],pn=Math.abs(an-hn.angle);pn<ln&&(cn=hn,un=fn,ln=pn)}return[un,+(cn&&cn.coordToData(rn))]},Fe.prototype.resize=function(en,tn){var nn=en.get("center"),rn=tn.getWidth(),an=tn.getHeight(),ln=Math.min(rn,an)/2;this.cx=parsePercent(nn[0],rn),this.cy=parsePercent(nn[1],an),this.startAngle=en.get("startAngle")*Math.PI/180;var cn=en.get("radius");(isString(cn)||isNumber(cn))&&(cn=[0,cn]),this.r0=parsePercent(cn[0],ln),this.r=parsePercent(cn[1],ln),each$f(this._indicatorAxes,function(un,fn){un.setExtent(this.r0,this.r);var hn=this.startAngle+fn*Math.PI*2/this._indicatorAxes.length;hn=Math.atan2(Math.sin(hn),Math.cos(hn)),un.angle=hn},this)},Fe.prototype.update=function(en,tn){var nn=this._indicatorAxes,rn=this._model;each$f(nn,function(cn){cn.scale.setExtent(1/0,-1/0)}),en.eachSeriesByType("radar",function(cn,un){if(!(cn.get("coordinateSystem")!=="radar"||en.getComponent("radar",cn.get("radarIndex"))!==rn)){var fn=cn.getData();each$f(nn,function(hn){hn.scale.unionExtentFromData(fn,fn.mapDimension(hn.dim))})}},this);var an=rn.get("splitNumber"),ln=new IntervalScale$1;ln.setExtent(0,an),ln.setInterval(1),each$f(nn,function(cn,un){alignScaleTicks(cn.scale,cn.model,ln)})},Fe.prototype.convertToPixel=function(en,tn,nn){return console.warn("Not implemented."),null},Fe.prototype.convertFromPixel=function(en,tn,nn){return console.warn("Not implemented."),null},Fe.prototype.containPoint=function(en){return console.warn("Not implemented."),!1},Fe.create=function(en,tn){var nn=[];return en.eachComponent("radar",function(rn){var an=new Fe(rn,en,tn);nn.push(an),rn.coordinateSystem=an}),en.eachSeriesByType("radar",function(rn){rn.get("coordinateSystem")==="radar"&&(rn.coordinateSystem=nn[rn.get("radarIndex")||0])}),nn},Fe.dimensions=[],Fe}();const Radar$1=Radar;function install$L(Fe){Fe.registerCoordinateSystem("radar",Radar$1),Fe.registerComponentModel(RadarModel$1),Fe.registerComponentView(RadarView$1),Fe.registerVisual({seriesType:"radar",reset:function(en){var tn=en.getData();tn.each(function(nn){tn.setItemVisual(nn,"legendIcon","roundRect")}),tn.setVisual("legendIcon","roundRect")}})}function install$K(Fe){use(install$L),Fe.registerChartView(RadarView$3),Fe.registerSeriesModel(RadarSeriesModel$1),Fe.registerLayout(radarLayout),Fe.registerProcessor(dataFilter$1("radar")),Fe.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(Fe,en,tn){var nn=getStore(Fe);nn[en]=tn}function release(Fe,en,tn){var nn=getStore(Fe),rn=nn[en];rn===tn&&(nn[en]=null)}function isTaken(Fe,en){return!!getStore(Fe)[en]}function getStore(Fe){return Fe[ATTR]||(Fe[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this)||this;nn._zr=tn;var rn=bind$1(nn._mousedownHandler,nn),an=bind$1(nn._mousemoveHandler,nn),ln=bind$1(nn._mouseupHandler,nn),cn=bind$1(nn._mousewheelHandler,nn),un=bind$1(nn._pinchHandler,nn);return nn.enable=function(fn,hn){this.disable(),this._opt=defaults(clone$4(hn)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),fn==null&&(fn=!0),(fn===!0||fn==="move"||fn==="pan")&&(tn.on("mousedown",rn),tn.on("mousemove",an),tn.on("mouseup",ln)),(fn===!0||fn==="scale"||fn==="zoom")&&(tn.on("mousewheel",cn),tn.on("pinch",un))},nn.disable=function(){tn.off("mousedown",rn),tn.off("mousemove",an),tn.off("mouseup",ln),tn.off("mousewheel",cn),tn.off("pinch",un)},nn}return en.prototype.isDragging=function(){return this._dragging},en.prototype.isPinching=function(){return this._pinching},en.prototype.setPointerChecker=function(tn){this.pointerChecker=tn},en.prototype.dispose=function(){this.disable()},en.prototype._mousedownHandler=function(tn){if(!isMiddleOrRightButtonOnMouseUpDown(tn)){for(var nn=tn.target;nn;){if(nn.draggable)return;nn=nn.__hostTarget||nn.parent}var rn=tn.offsetX,an=tn.offsetY;this.pointerChecker&&this.pointerChecker(tn,rn,an)&&(this._x=rn,this._y=an,this._dragging=!0)}},en.prototype._mousemoveHandler=function(tn){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",tn,this._opt)||tn.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var nn=tn.offsetX,rn=tn.offsetY,an=this._x,ln=this._y,cn=nn-an,un=rn-ln;this._x=nn,this._y=rn,this._opt.preventDefaultMouseMove&&stop(tn.event),trigger$1(this,"pan","moveOnMouseMove",tn,{dx:cn,dy:un,oldX:an,oldY:ln,newX:nn,newY:rn,isAvailableBehavior:null})}},en.prototype._mouseupHandler=function(tn){isMiddleOrRightButtonOnMouseUpDown(tn)||(this._dragging=!1)},en.prototype._mousewheelHandler=function(tn){var nn=isAvailableBehavior("zoomOnMouseWheel",tn,this._opt),rn=isAvailableBehavior("moveOnMouseWheel",tn,this._opt),an=tn.wheelDelta,ln=Math.abs(an),cn=tn.offsetX,un=tn.offsetY;if(!(an===0||!nn&&!rn)){if(nn){var fn=ln>3?1.4:ln>1?1.2:1.1,hn=an>0?fn:1/fn;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",tn,{scale:hn,originX:cn,originY:un,isAvailableBehavior:null})}if(rn){var pn=Math.abs(an),gn=(an>0?1:-1)*(pn>3?.4:pn>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",tn,{scrollDelta:gn,originX:cn,originY:un,isAvailableBehavior:null})}}},en.prototype._pinchHandler=function(tn){if(!isTaken(this._zr,"globalPan")){var nn=tn.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,tn,{scale:nn,originX:tn.pinchX,originY:tn.pinchY,isAvailableBehavior:null})}},en}(Eventful$1);function checkPointerAndTrigger(Fe,en,tn,nn,rn){Fe.pointerChecker&&Fe.pointerChecker(nn,rn.originX,rn.originY)&&(stop(nn.event),trigger$1(Fe,en,tn,nn,rn))}function trigger$1(Fe,en,tn,nn,rn){rn.isAvailableBehavior=bind$1(isAvailableBehavior,null,tn,nn),Fe.trigger(en,rn)}function isAvailableBehavior(Fe,en,tn){var nn=tn[Fe];return!Fe||nn&&(!isString(nn)||en.event[nn+"Key"])}const RoamController$1=RoamController;function updateViewOnPan(Fe,en,tn){var nn=Fe.target;nn.x+=en,nn.y+=tn,nn.dirty()}function updateViewOnZoom(Fe,en,tn,nn){var rn=Fe.target,an=Fe.zoomLimit,ln=Fe.zoom=Fe.zoom||1;if(ln*=en,an){var cn=an.min||0,un=an.max||1/0;ln=Math.max(Math.min(un,ln),cn)}var fn=ln/Fe.zoom;Fe.zoom=ln,rn.x-=(tn-rn.x)*(fn-1),rn.y-=(nn-rn.y)*(fn-1),rn.scaleX*=fn,rn.scaleY*=fn,rn.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(Fe,en,tn){var nn=en.getComponentByElement(Fe.topTarget),rn=nn&&nn.coordinateSystem;return nn&&nn!==tn&&!IRRELEVANT_EXCLUDES.hasOwnProperty(nn.mainType)&&rn&&rn.model!==tn}function parseXML(Fe){if(isString(Fe)){var en=new DOMParser;Fe=en.parseFromString(Fe,"text/xml")}var tn=Fe;for(tn.nodeType===9&&(tn=tn.firstChild);tn.nodeName.toLowerCase()!=="svg"||tn.nodeType!==1;)tn=tn.nextSibling;return tn}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function Fe(){this._defs={},this._root=null}return Fe.prototype.parse=function(en,tn){tn=tn||{};var nn=parseXML(en);this._defsUsePending=[];var rn=new Group$4;this._root=rn;var an=[],ln=nn.getAttribute("viewBox")||"",cn=parseFloat(nn.getAttribute("width")||tn.width),un=parseFloat(nn.getAttribute("height")||tn.height);isNaN(cn)&&(cn=null),isNaN(un)&&(un=null),parseAttributes(nn,rn,null,!0,!1);for(var fn=nn.firstChild;fn;)this._parseNode(fn,rn,an,null,!1,!1),fn=fn.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var hn,pn;if(ln){var gn=splitNumberSequence(ln);gn.length>=4&&(hn={x:parseFloat(gn[0]||0),y:parseFloat(gn[1]||0),width:parseFloat(gn[2]),height:parseFloat(gn[3])})}if(hn&&cn!=null&&un!=null&&(pn=makeViewBoxTransform(hn,{x:0,y:0,width:cn,height:un}),!tn.ignoreViewBox)){var mn=rn;rn=new Group$4,rn.add(mn),mn.scaleX=mn.scaleY=pn.scale,mn.x=pn.x,mn.y=pn.y}return!tn.ignoreRootClip&&cn!=null&&un!=null&&rn.setClipPath(new Rect$3({shape:{x:0,y:0,width:cn,height:un}})),{root:rn,width:cn,height:un,viewBoxRect:hn,viewBoxTransform:pn,named:an}},Fe.prototype._parseNode=function(en,tn,nn,rn,an,ln){var cn=en.nodeName.toLowerCase(),un,fn=rn;if(cn==="defs"&&(an=!0),cn==="text"&&(ln=!0),cn==="defs"||cn==="switch")un=tn;else{if(!an){var hn=nodeParsers[cn];if(hn&&hasOwn(nodeParsers,cn)){un=hn.call(this,en,tn);var pn=en.getAttribute("name");if(pn){var gn={name:pn,namedFrom:null,svgNodeTagLower:cn,el:un};nn.push(gn),cn==="g"&&(fn=gn)}else rn&&nn.push({name:rn.name,namedFrom:rn,svgNodeTagLower:cn,el:un});tn.add(un)}}var mn=paintServerParsers[cn];if(mn&&hasOwn(paintServerParsers,cn)){var _n=mn.call(this,en),kn=en.getAttribute("id");kn&&(this._defs[kn]=_n)}}if(un&&un.isGroup)for(var Cn=en.firstChild;Cn;)Cn.nodeType===1?this._parseNode(Cn,un,nn,fn,an,ln):Cn.nodeType===3&&ln&&this._parseText(Cn,un),Cn=Cn.nextSibling},Fe.prototype._parseText=function(en,tn){var nn=new TSpan$1({style:{text:en.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(tn,nn),parseAttributes(en,nn,this._defsUsePending,!1,!1),applyTextAlignment(nn,tn);var rn=nn.style,an=rn.fontSize;an&&an<9&&(rn.fontSize=9,nn.scaleX*=an/9,nn.scaleY*=an/9);var ln=(rn.fontSize||rn.fontFamily)&&[rn.fontStyle,rn.fontWeight,(rn.fontSize||12)+"px",rn.fontFamily||"sans-serif"].join(" ");rn.font=ln;var cn=nn.getBoundingRect();return this._textX+=cn.width,tn.add(nn),nn},Fe.internalField=function(){nodeParsers={g:function(en,tn){var nn=new Group$4;return inheritStyle(tn,nn),parseAttributes(en,nn,this._defsUsePending,!1,!1),nn},rect:function(en,tn){var nn=new Rect$3;return inheritStyle(tn,nn),parseAttributes(en,nn,this._defsUsePending,!1,!1),nn.setShape({x:parseFloat(en.getAttribute("x")||"0"),y:parseFloat(en.getAttribute("y")||"0"),width:parseFloat(en.getAttribute("width")||"0"),height:parseFloat(en.getAttribute("height")||"0")}),nn.silent=!0,nn},circle:function(en,tn){var nn=new Circle$1;return inheritStyle(tn,nn),parseAttributes(en,nn,this._defsUsePending,!1,!1),nn.setShape({cx:parseFloat(en.getAttribute("cx")||"0"),cy:parseFloat(en.getAttribute("cy")||"0"),r:parseFloat(en.getAttribute("r")||"0")}),nn.silent=!0,nn},line:function(en,tn){var nn=new Line$3;return inheritStyle(tn,nn),parseAttributes(en,nn,this._defsUsePending,!1,!1),nn.setShape({x1:parseFloat(en.getAttribute("x1")||"0"),y1:parseFloat(en.getAttribute("y1")||"0"),x2:parseFloat(en.getAttribute("x2")||"0"),y2:parseFloat(en.getAttribute("y2")||"0")}),nn.silent=!0,nn},ellipse:function(en,tn){var nn=new Ellipse$1;return inheritStyle(tn,nn),parseAttributes(en,nn,this._defsUsePending,!1,!1),nn.setShape({cx:parseFloat(en.getAttribute("cx")||"0"),cy:parseFloat(en.getAttribute("cy")||"0"),rx:parseFloat(en.getAttribute("rx")||"0"),ry:parseFloat(en.getAttribute("ry")||"0")}),nn.silent=!0,nn},polygon:function(en,tn){var nn=en.getAttribute("points"),rn;nn&&(rn=parsePoints(nn));var an=new Polygon$1({shape:{points:rn||[]},silent:!0});return inheritStyle(tn,an),parseAttributes(en,an,this._defsUsePending,!1,!1),an},polyline:function(en,tn){var nn=en.getAttribute("points"),rn;nn&&(rn=parsePoints(nn));var an=new Polyline$3({shape:{points:rn||[]},silent:!0});return inheritStyle(tn,an),parseAttributes(en,an,this._defsUsePending,!1,!1),an},image:function(en,tn){var nn=new ZRImage$1;return inheritStyle(tn,nn),parseAttributes(en,nn,this._defsUsePending,!1,!1),nn.setStyle({image:en.getAttribute("xlink:href")||en.getAttribute("href"),x:+en.getAttribute("x"),y:+en.getAttribute("y"),width:+en.getAttribute("width"),height:+en.getAttribute("height")}),nn.silent=!0,nn},text:function(en,tn){var nn=en.getAttribute("x")||"0",rn=en.getAttribute("y")||"0",an=en.getAttribute("dx")||"0",ln=en.getAttribute("dy")||"0";this._textX=parseFloat(nn)+parseFloat(an),this._textY=parseFloat(rn)+parseFloat(ln);var cn=new Group$4;return inheritStyle(tn,cn),parseAttributes(en,cn,this._defsUsePending,!1,!0),cn},tspan:function(en,tn){var nn=en.getAttribute("x"),rn=en.getAttribute("y");nn!=null&&(this._textX=parseFloat(nn)),rn!=null&&(this._textY=parseFloat(rn));var an=en.getAttribute("dx")||"0",ln=en.getAttribute("dy")||"0",cn=new Group$4;return inheritStyle(tn,cn),parseAttributes(en,cn,this._defsUsePending,!1,!0),this._textX+=parseFloat(an),this._textY+=parseFloat(ln),cn},path:function(en,tn){var nn=en.getAttribute("d")||"",rn=createFromString(nn);return inheritStyle(tn,rn),parseAttributes(en,rn,this._defsUsePending,!1,!1),rn.silent=!0,rn}}}(),Fe}(),paintServerParsers={lineargradient:function(Fe){var en=parseInt(Fe.getAttribute("x1")||"0",10),tn=parseInt(Fe.getAttribute("y1")||"0",10),nn=parseInt(Fe.getAttribute("x2")||"10",10),rn=parseInt(Fe.getAttribute("y2")||"0",10),an=new LinearGradient$1(en,tn,nn,rn);return parsePaintServerUnit(Fe,an),parseGradientColorStops(Fe,an),an},radialgradient:function(Fe){var en=parseInt(Fe.getAttribute("cx")||"0",10),tn=parseInt(Fe.getAttribute("cy")||"0",10),nn=parseInt(Fe.getAttribute("r")||"0",10),rn=new RadialGradient$1(en,tn,nn);return parsePaintServerUnit(Fe,rn),parseGradientColorStops(Fe,rn),rn}};function parsePaintServerUnit(Fe,en){var tn=Fe.getAttribute("gradientUnits");tn==="userSpaceOnUse"&&(en.global=!0)}function parseGradientColorStops(Fe,en){for(var tn=Fe.firstChild;tn;){if(tn.nodeType===1&&tn.nodeName.toLocaleLowerCase()==="stop"){var nn=tn.getAttribute("offset"),rn=void 0;nn&&nn.indexOf("%")>0?rn=parseInt(nn,10)/100:nn?rn=parseFloat(nn):rn=0;var an={};parseInlineStyle(tn,an,an);var ln=an.stopColor||tn.getAttribute("stop-color")||"#000000";en.colorStops.push({offset:rn,color:ln})}tn=tn.nextSibling}}function inheritStyle(Fe,en){Fe&&Fe.__inheritedStyle&&(en.__inheritedStyle||(en.__inheritedStyle={}),defaults(en.__inheritedStyle,Fe.__inheritedStyle))}function parsePoints(Fe){for(var en=splitNumberSequence(Fe),tn=[],nn=0;nn<en.length;nn+=2){var rn=parseFloat(en[nn]),an=parseFloat(en[nn+1]);tn.push([rn,an])}return tn}function parseAttributes(Fe,en,tn,nn,rn){var an=en,ln=an.__inheritedStyle=an.__inheritedStyle||{},cn={};Fe.nodeType===1&&(parseTransformAttribute(Fe,en),parseInlineStyle(Fe,ln,cn),nn||parseAttributeStyle(Fe,ln,cn)),an.style=an.style||{},ln.fill!=null&&(an.style.fill=getFillStrokeStyle(an,"fill",ln.fill,tn)),ln.stroke!=null&&(an.style.stroke=getFillStrokeStyle(an,"stroke",ln.stroke,tn)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(un){ln[un]!=null&&(an.style[un]=parseFloat(ln[un]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(un){ln[un]!=null&&(an.style[un]=ln[un])}),rn&&(an.__selfStyle=cn),ln.lineDash&&(an.style.lineDash=map$1(splitNumberSequence(ln.lineDash),function(un){return parseFloat(un)})),(ln.visibility==="hidden"||ln.visibility==="collapse")&&(an.invisible=!0),ln.display==="none"&&(an.ignore=!0)}function applyTextAlignment(Fe,en){var tn=en.__selfStyle;if(tn){var nn=tn.textBaseline,rn=nn;!nn||nn==="auto"||nn==="baseline"?rn="alphabetic":nn==="before-edge"||nn==="text-before-edge"?rn="top":nn==="after-edge"||nn==="text-after-edge"?rn="bottom":(nn==="central"||nn==="mathematical")&&(rn="middle"),Fe.style.textBaseline=rn}var an=en.__inheritedStyle;if(an){var ln=an.textAlign,cn=ln;ln&&(ln==="middle"&&(cn="center"),Fe.style.textAlign=cn)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(Fe,en,tn,nn){var rn=tn&&tn.match(urlRegex);if(rn){var an=trim$1(rn[1]);nn.push([Fe,en,an]);return}return tn==="none"&&(tn=null),tn}function applyDefs(Fe,en){for(var tn=0;tn<en.length;tn++){var nn=en[tn];nn[0].style[nn[1]]=Fe[nn[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(Fe){return Fe.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(Fe,en){var tn=Fe.getAttribute("transform");if(tn){tn=tn.replace(/,/g," ");var nn=[],rn=null;tn.replace(transformRegex,function(pn,gn,mn){return nn.push(gn,mn),""});for(var an=nn.length-1;an>0;an-=2){var ln=nn[an],cn=nn[an-1],un=splitNumberSequence(ln);switch(rn=rn||create$1(),cn){case"translate":translate(rn,rn,[parseFloat(un[0]),parseFloat(un[1]||"0")]);break;case"scale":scale$1(rn,rn,[parseFloat(un[0]),parseFloat(un[1]||un[0])]);break;case"rotate":rotate(rn,rn,-parseFloat(un[0])*DEGREE_TO_ANGLE);break;case"skewX":var fn=Math.tan(parseFloat(un[0])*DEGREE_TO_ANGLE);mul(rn,[1,0,fn,1,0,0],rn);break;case"skewY":var hn=Math.tan(parseFloat(un[0])*DEGREE_TO_ANGLE);mul(rn,[1,hn,0,1,0,0],rn);break;case"matrix":rn[0]=parseFloat(un[0]),rn[1]=parseFloat(un[1]),rn[2]=parseFloat(un[2]),rn[3]=parseFloat(un[3]),rn[4]=parseFloat(un[4]),rn[5]=parseFloat(un[5]);break}}en.setLocalTransform(rn)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(Fe,en,tn){var nn=Fe.getAttribute("style");if(nn){styleRegex.lastIndex=0;for(var rn;(rn=styleRegex.exec(nn))!=null;){var an=rn[1],ln=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,an)?INHERITABLE_STYLE_ATTRIBUTES_MAP[an]:null;ln&&(en[ln]=rn[2]);var cn=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,an)?SELF_STYLE_ATTRIBUTES_MAP[an]:null;cn&&(tn[cn]=rn[2])}}}function parseAttributeStyle(Fe,en,tn){for(var nn=0;nn<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;nn++){var rn=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[nn],an=Fe.getAttribute(rn);an!=null&&(en[INHERITABLE_STYLE_ATTRIBUTES_MAP[rn]]=an)}for(var nn=0;nn<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;nn++){var rn=SELF_STYLE_ATTRIBUTES_MAP_KEYS[nn],an=Fe.getAttribute(rn);an!=null&&(tn[SELF_STYLE_ATTRIBUTES_MAP[rn]]=an)}}function makeViewBoxTransform(Fe,en){var tn=en.width/Fe.width,nn=en.height/Fe.height,rn=Math.min(tn,nn);return{scale:rn,x:-(Fe.x+Fe.width/2)*rn+(en.x+en.width/2),y:-(Fe.y+Fe.height/2)*rn+(en.y+en.height/2)}}function parseSVG(Fe,en){var tn=new SVGParser;return tn.parse(Fe,en)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function Fe(en,tn){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=en,this._parsedXML=parseXML(tn)}return Fe.prototype.load=function(){var en=this._firstGraphic;if(!en){en=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(en),this._boundingRect=this._firstGraphic.boundingRect.clone();var tn=createRegions(en.named),nn=tn.regions,rn=tn.regionsMap;this._regions=nn,this._regionsMap=rn}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},Fe.prototype._buildGraphic=function(en){var tn,nn;try{tn=en&&parseSVG(en,{ignoreViewBox:!0,ignoreRootClip:!0})||{},nn=tn.root,assert(nn!=null)}catch(Cn){throw new Error(`Invalid svg format
`+Cn.message)}var rn=new Group$4;rn.add(nn),rn.isGeoSVGGraphicRoot=!0;var an=tn.width,ln=tn.height,cn=tn.viewBoxRect,un=this._boundingRect;if(!un){var fn=void 0,hn=void 0,pn=void 0,gn=void 0;if(an!=null?(fn=0,pn=an):cn&&(fn=cn.x,pn=cn.width),ln!=null?(hn=0,gn=ln):cn&&(hn=cn.y,gn=cn.height),fn==null||hn==null){var mn=nn.getBoundingRect();fn==null&&(fn=mn.x,pn=mn.width),hn==null&&(hn=mn.y,gn=mn.height)}un=this._boundingRect=new BoundingRect$1(fn,hn,pn,gn)}if(cn){var _n=makeViewBoxTransform(cn,un);nn.scaleX=nn.scaleY=_n.scale,nn.x=_n.x,nn.y=_n.y}rn.setClipPath(new Rect$3({shape:un.plain()}));var kn=[];return each$f(tn.named,function(Cn){REGION_AVAILABLE_SVG_TAG_MAP.get(Cn.svgNodeTagLower)!=null&&(kn.push(Cn),setSilent(Cn.el))}),{root:rn,boundingRect:un,named:kn}},Fe.prototype.useGraphic=function(en){var tn=this._usedGraphicMap,nn=tn.get(en);return nn||(nn=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),tn.set(en,nn),nn)},Fe.prototype.freeGraphic=function(en){var tn=this._usedGraphicMap,nn=tn.get(en);nn&&(tn.removeKey(en),this._freedGraphics.push(nn))},Fe}();function setSilent(Fe){Fe.silent=!1,Fe.isGroup&&Fe.traverse(function(en){en.silent=!1})}function createRegions(Fe){var en=[],tn=createHashMap();return each$f(Fe,function(nn){if(nn.namedFrom==null){var rn=new GeoSVGRegion(nn.name,nn.el);en.push(rn),tn.set(nn.name,rn)}}),{regions:en,regionsMap:tn}}var geoCoord=[126,25],nanhaiName="åæµ·è¯¸å²",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(Fe,en){if(Fe==="china"){for(var tn=0;tn<en.length;tn++)if(en[tn].name===nanhaiName)return;en.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(nn){return{type:"polygon",exterior:nn}}),geoCoord))}}var coordsOffsetMap={åæµ·è¯¸å²:[32,80],å¹¿ä¸:[0,-10],é¦æ¸¯:[10,5],æ¾³é¨:[-10,10],å¤©æ´¥:[5,5]};function fixTextCoords(Fe,en){if(Fe==="china"){var tn=coordsOffsetMap[en.name];if(tn){var nn=en.getCenter();nn[0]+=tn[0]/10.5,nn[1]+=-tn[1]/(10.5/.75),en.setCenter(nn)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(Fe,en){Fe==="china"&&en.name==="å°æ¹¾"&&en.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function Fe(en,tn,nn){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=en,this._specialAreas=nn,this._geoJSON=parseInput(tn)}return Fe.prototype.load=function(en,tn){tn=tn||DEFAULT_NAME_PROPERTY;var nn=this._parsedMap.get(tn);if(!nn){var rn=this._parseToRegions(tn);nn=this._parsedMap.set(tn,{regions:rn,boundingRect:calculateBoundingRect(rn)})}var an=createHashMap(),ln=[];return each$f(nn.regions,function(cn){var un=cn.name;en&&hasOwn(en,un)&&(cn=cn.cloneShallow(un=en[un])),ln.push(cn),an.set(un,cn)}),{regions:ln,boundingRect:nn.boundingRect||new BoundingRect$1(0,0,0,0),regionsMap:an}},Fe.prototype._parseToRegions=function(en){var tn=this._mapName,nn=this._geoJSON,rn;try{rn=nn?parseGeoJSON(nn,en):[]}catch(an){throw new Error(`Invalid geoJson format
`+an.message)}return fixNanhai(tn,rn),each$f(rn,function(an){var ln=an.name;fixTextCoords(tn,an),fixDiaoyuIsland(tn,an);var cn=this._specialAreas&&this._specialAreas[ln];cn&&an.transformTo(cn.left,cn.top,cn.width,cn.height)},this),rn},Fe.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},Fe}();function calculateBoundingRect(Fe){for(var en,tn=0;tn<Fe.length;tn++){var nn=Fe[tn].getBoundingRect();en=en||nn.clone(),en.union(nn)}return en}function parseInput(Fe){return isString(Fe)?typeof JSON<"u"&&JSON.parse?JSON.parse(Fe):new Function("return ("+Fe+");")():Fe}var storage=createHashMap();const geoSourceManager={registerMap:function(Fe,en,tn){if(en.svg){var nn=new GeoSVGResource(Fe,en.svg);storage.set(Fe,nn)}else{var rn=en.geoJson||en.geoJSON;rn&&!en.features?tn=en.specialAreas:rn=en;var nn=new GeoJSONResource(Fe,rn,tn);storage.set(Fe,nn)}},getGeoResource:function(Fe){return storage.get(Fe)},getMapForUser:function(Fe){var en=storage.get(Fe);return en&&en.type==="geoJSON"&&en.getMapForUser()},load:function(Fe,en,tn){var nn=storage.get(Fe);if(nn)return nn.load(en,tn)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(Fe){var en=Fe.getItemStyle(),tn=Fe.get("areaColor");return tn!=null&&(en.fill=tn),en}function fixLineStyle(Fe){var en=Fe.style;en&&(en.stroke=en.stroke||en.fill,en.fill=null)}var MapDraw=function(){function Fe(en){var tn=new Group$4;this.uid=getUID("ec_map_draw"),this._controller=new RoamController$1(en.getZr()),this._controllerHost={target:tn},this.group=tn,tn.add(this._regionsGroup=new Group$4),tn.add(this._svgGroup=new Group$4)}return Fe.prototype.draw=function(en,tn,nn,rn,an){var ln=en.mainType==="geo",cn=en.getData&&en.getData();ln&&tn.eachComponent({mainType:"series",subType:"map"},function(xn){!cn&&xn.getHostGeoModel()===en&&(cn=xn.getData())});var un=en.coordinateSystem,fn=this._regionsGroup,hn=this.group,pn=un.getTransformInfo(),gn=pn.raw,mn=pn.roam,_n=!fn.childAt(0)||an;_n?(hn.x=mn.x,hn.y=mn.y,hn.scaleX=mn.scaleX,hn.scaleY=mn.scaleY,hn.dirty()):updateProps$1(hn,mn,en);var kn=cn&&cn.getVisual("visualMeta")&&cn.getVisual("visualMeta").length>0,Cn={api:nn,geo:un,mapOrGeoModel:en,data:cn,isVisualEncodedByVisualMap:kn,isGeo:ln,transformInfoRaw:gn};un.resourceType==="geoJSON"?this._buildGeoJSON(Cn):un.resourceType==="geoSVG"&&this._buildSVG(Cn),this._updateController(en,tn,nn),this._updateMapSelectHandler(en,fn,nn,rn)},Fe.prototype._buildGeoJSON=function(en){var tn=this._regionsGroupByName=createHashMap(),nn=createHashMap(),rn=this._regionsGroup,an=en.transformInfoRaw,ln=en.mapOrGeoModel,cn=en.data,un=en.geo.projection,fn=un&&un.stream;function hn(mn,_n){return _n&&(mn=_n(mn)),mn&&[mn[0]*an.scaleX+an.x,mn[1]*an.scaleY+an.y]}function pn(mn){for(var _n=[],kn=!fn&&un&&un.project,Cn=0;Cn<mn.length;++Cn){var xn=hn(mn[Cn],kn);xn&&_n.push(xn)}return _n}function gn(mn){return{shape:{points:pn(mn)}}}rn.removeAll(),each$f(en.geo.regions,function(mn){var _n=mn.name,kn=tn.get(_n),Cn=nn.get(_n)||{},xn=Cn.dataIdx,Sn=Cn.regionModel;kn||(kn=tn.set(_n,new Group$4),rn.add(kn),xn=cn?cn.indexOfName(_n):null,Sn=en.isGeo?ln.getRegionModel(_n):cn?cn.getItemModel(xn):null,nn.set(_n,{dataIdx:xn,regionModel:Sn}));var Mn=[],In=[];each$f(mn.geometries,function(Tn){if(Tn.type==="polygon"){var Nn=[Tn.exterior].concat(Tn.interiors||[]);fn&&(Nn=projectPolys(Nn,fn)),each$f(Nn,function(Un){Mn.push(new Polygon$1(gn(Un)))})}else{var Hn=Tn.points;fn&&(Hn=projectPolys(Hn,fn,!0)),each$f(Hn,function(Un){In.push(new Polyline$3(gn(Un)))})}});var On=hn(mn.getCenter(),un&&un.project);function Pn(Tn,Nn){if(Tn.length){var Hn=new CompoundPath$1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Tn}});kn.add(Hn),applyOptionStyleForRegion(en,Hn,xn,Sn),resetLabelForRegion(en,Hn,_n,Sn,ln,xn,On),Nn&&(fixLineStyle(Hn),each$f(Hn.states,fixLineStyle))}}Pn(Mn),Pn(In,!0)}),tn.each(function(mn,_n){var kn=nn.get(_n),Cn=kn.dataIdx,xn=kn.regionModel;resetEventTriggerForRegion(en,mn,_n,xn,ln,Cn),resetTooltipForRegion(en,mn,_n,xn,ln),resetStateTriggerForRegion(en,mn,_n,xn,ln)},this)},Fe.prototype._buildSVG=function(en){var tn=en.geo.map,nn=en.transformInfoRaw;this._svgGroup.x=nn.x,this._svgGroup.y=nn.y,this._svgGroup.scaleX=nn.scaleX,this._svgGroup.scaleY=nn.scaleY,this._svgResourceChanged(tn)&&(this._freeSVG(),this._useSVG(tn));var rn=this._svgDispatcherMap=createHashMap(),an=!1;each$f(this._svgGraphicRecord.named,function(ln){var cn=ln.name,un=en.mapOrGeoModel,fn=en.data,hn=ln.svgNodeTagLower,pn=ln.el,gn=fn?fn.indexOfName(cn):null,mn=un.getRegionModel(cn);if(OPTION_STYLE_ENABLED_TAG_MAP.get(hn)!=null&&pn instanceof Displayable$1&&applyOptionStyleForRegion(en,pn,gn,mn),pn instanceof Displayable$1&&(pn.culling=!0),pn.z2EmphasisLift=0,!ln.namedFrom&&(LABEL_HOST_MAP.get(hn)!=null&&resetLabelForRegion(en,pn,cn,mn,un,gn,null),resetEventTriggerForRegion(en,pn,cn,mn,un,gn),resetTooltipForRegion(en,pn,cn,mn,un),STATE_TRIGGER_TAG_MAP.get(hn)!=null)){var _n=resetStateTriggerForRegion(en,pn,cn,mn,un);_n==="self"&&(an=!0);var kn=rn.get(cn)||rn.set(cn,[]);kn.push(pn)}},this),this._enableBlurEntireSVG(an,en)},Fe.prototype._enableBlurEntireSVG=function(en,tn){if(en&&tn.isGeo){var nn=tn.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),rn=nn.opacity;this._svgGraphicRecord.root.traverse(function(an){if(!an.isGroup){setDefaultStateProxy(an);var ln=an.ensureState("blur").style||{};ln.opacity==null&&rn!=null&&(ln.opacity=rn),an.ensureState("emphasis")}})}},Fe.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},Fe.prototype.findHighDownDispatchers=function(en,tn){if(en==null)return[];var nn=tn.coordinateSystem;if(nn.resourceType==="geoJSON"){var rn=this._regionsGroupByName;if(rn){var an=rn.get(en);return an?[an]:[]}}else if(nn.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(en)||[]},Fe.prototype._svgResourceChanged=function(en){return this._svgMapName!==en},Fe.prototype._useSVG=function(en){var tn=geoSourceManager.getGeoResource(en);if(tn&&tn.type==="geoSVG"){var nn=tn.useGraphic(this.uid);this._svgGroup.add(nn.root),this._svgGraphicRecord=nn,this._svgMapName=en}},Fe.prototype._freeSVG=function(){var en=this._svgMapName;if(en!=null){var tn=geoSourceManager.getGeoResource(en);tn&&tn.type==="geoSVG"&&tn.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},Fe.prototype._updateController=function(en,tn,nn){var rn=en.coordinateSystem,an=this._controller,ln=this._controllerHost;ln.zoomLimit=en.get("scaleLimit"),ln.zoom=rn.getZoom(),an.enable(en.get("roam")||!1);var cn=en.mainType;function un(){var fn={type:"geoRoam",componentType:cn};return fn[cn+"Id"]=en.id,fn}an.off("pan").on("pan",function(fn){this._mouseDownFlag=!1,updateViewOnPan(ln,fn.dx,fn.dy),nn.dispatchAction(extend$1(un(),{dx:fn.dx,dy:fn.dy,animation:{duration:0}}))},this),an.off("zoom").on("zoom",function(fn){this._mouseDownFlag=!1,updateViewOnZoom(ln,fn.scale,fn.originX,fn.originY),nn.dispatchAction(extend$1(un(),{zoom:fn.scale,originX:fn.originX,originY:fn.originY,animation:{duration:0}}))},this),an.setPointerChecker(function(fn,hn,pn){return rn.containPoint([hn,pn])&&!onIrrelevantElement(fn,nn,en)})},Fe.prototype.resetForLabelLayout=function(){this.group.traverse(function(en){var tn=en.getTextContent();tn&&(tn.ignore=mapLabelRaw(tn).ignore)})},Fe.prototype._updateMapSelectHandler=function(en,tn,nn,rn){var an=this;tn.off("mousedown"),tn.off("click"),en.get("selectedMode")&&(tn.on("mousedown",function(){an._mouseDownFlag=!0}),tn.on("click",function(ln){an._mouseDownFlag&&(an._mouseDownFlag=!1)}))},Fe}();function applyOptionStyleForRegion(Fe,en,tn,nn){var rn=nn.getModel("itemStyle"),an=nn.getModel(["emphasis","itemStyle"]),ln=nn.getModel(["blur","itemStyle"]),cn=nn.getModel(["select","itemStyle"]),un=getFixedItemStyle(rn),fn=getFixedItemStyle(an),hn=getFixedItemStyle(cn),pn=getFixedItemStyle(ln),gn=Fe.data;if(gn){var mn=gn.getItemVisual(tn,"style"),_n=gn.getItemVisual(tn,"decal");Fe.isVisualEncodedByVisualMap&&mn.fill&&(un.fill=mn.fill),_n&&(un.decal=createOrUpdatePatternFromDecal(_n,Fe.api))}en.setStyle(un),en.style.strokeNoScale=!0,en.ensureState("emphasis").style=fn,en.ensureState("select").style=hn,en.ensureState("blur").style=pn,setDefaultStateProxy(en)}function resetLabelForRegion(Fe,en,tn,nn,rn,an,ln){var cn=Fe.data,un=Fe.isGeo,fn=cn&&isNaN(cn.get(cn.mapDimension("value"),an)),hn=cn&&cn.getItemLayout(an);if(un||fn||hn&&hn.showLabel){var pn=un?tn:an,gn=void 0;(!cn||an>=0)&&(gn=rn);var mn=ln?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(en,getLabelStatesModels(nn),{labelFetcher:gn,labelDataIndex:pn,defaultText:tn},mn);var _n=en.getTextContent();if(_n&&(mapLabelRaw(_n).ignore=_n.ignore,en.textConfig&&ln)){var kn=en.getBoundingRect().clone();en.textConfig.layoutRect=kn,en.textConfig.position=[(ln[0]-kn.x)/kn.width*100+"%",(ln[1]-kn.y)/kn.height*100+"%"]}en.disableLabelAnimation=!0}else en.removeTextContent(),en.removeTextConfig(),en.disableLabelAnimation=null}function resetEventTriggerForRegion(Fe,en,tn,nn,rn,an){Fe.data?Fe.data.setItemGraphicEl(an,en):getECData(en).eventData={componentType:"geo",componentIndex:rn.componentIndex,geoIndex:rn.componentIndex,name:tn,region:nn&&nn.option||{}}}function resetTooltipForRegion(Fe,en,tn,nn,rn){Fe.data||setTooltipConfig({el:en,componentModel:rn,itemName:tn,itemTooltipOption:nn.get("tooltip")})}function resetStateTriggerForRegion(Fe,en,tn,nn,rn){en.highDownSilentOnTouch=!!rn.get("selectedMode");var an=nn.getModel("emphasis"),ln=an.get("focus");return toggleHoverEmphasis(en,ln,an.get("blurScope"),an.get("disabled")),Fe.isGeo&&enableComponentHighDownFeatures(en,rn,tn),ln}function projectPolys(Fe,en,tn){var nn=[],rn;function an(){rn=[]}function ln(){rn.length&&(nn.push(rn),rn=[])}var cn=en({polygonStart:an,polygonEnd:ln,lineStart:an,lineEnd:ln,point:function(un,fn){isFinite(un)&&isFinite(fn)&&rn.push([un,fn])},sphere:function(){}});return!tn&&cn.polygonStart(),each$f(Fe,function(un){cn.lineStart();for(var fn=0;fn<un.length;fn++)cn.point(un[fn][0],un[fn][1]);cn.lineEnd()}),!tn&&cn.polygonEnd(),nn}const MapDraw$1=MapDraw;var MapView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn,an){if(!(an&&an.type==="mapToggleSelect"&&an.from===this.uid)){var ln=this.group;if(ln.removeAll(),!tn.getHostGeoModel()){if(this._mapDraw&&an&&an.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),an&&an.type==="geoRoam"&&an.componentType==="series"&&an.seriesId===tn.id){var cn=this._mapDraw;cn&&ln.add(cn.group)}else if(tn.needsDrawMap){var cn=this._mapDraw||new MapDraw$1(rn);ln.add(cn.group),cn.draw(tn,nn,rn,this,an),this._mapDraw=cn}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;tn.get("showLegendSymbol")&&nn.getComponent("legend")&&this._renderSymbols(tn,nn,rn)}}},en.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},en.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},en.prototype._renderSymbols=function(tn,nn,rn){var an=tn.originalData,ln=this.group;an.each(an.mapDimension("value"),function(cn,un){if(!isNaN(cn)){var fn=an.getItemLayout(un);if(!(!fn||!fn.point)){var hn=fn.point,pn=fn.offset,gn=new Circle$1({style:{fill:tn.getData().getVisual("style").fill},shape:{cx:hn[0]+pn*9,cy:hn[1],r:3},silent:!0,z2:8+(pn?0:Z2_EMPHASIS_LIFT+1)});if(!pn){var mn=tn.mainSeries.getData(),_n=an.getName(un),kn=mn.indexOfName(_n),Cn=an.getItemModel(un),xn=Cn.getModel("label"),Sn=mn.getItemGraphicEl(kn);setLabelStyle(gn,getLabelStatesModels(Cn),{labelFetcher:{getFormattedLabel:function(Mn,In){return tn.getFormattedLabel(kn,In)}},defaultText:_n}),gn.disableLabelAnimation=!0,xn.get("position")||gn.setTextConfig({position:"bottom"}),Sn.onHoverStateChange=function(Mn){setStatesFlag(gn,Mn)}}ln.add(gn)}}})},en.type="map",en}(ChartView$1);const MapView$1=MapView;var MapSeries=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.needsDrawMap=!1,tn.seriesGroup=[],tn.getTooltipPosition=function(nn){if(nn!=null){var rn=this.getData().getName(nn),an=this.coordinateSystem,ln=an.getRegion(rn);return ln&&an.dataToPoint(ln.getCenter())}},tn}return en.prototype.getInitialData=function(tn){for(var nn=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),rn=createHashMap(),an=[],ln=0,cn=nn.count();ln<cn;ln++){var un=nn.getName(ln);rn.set(un,!0)}var fn=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(fn.regions,function(hn){var pn=hn.name;rn.get(pn)||an.push(pn)}),nn.appendValues([],an),nn},en.prototype.getHostGeoModel=function(){var tn=this.option.geoIndex;return tn!=null?this.ecModel.getComponent("geo",tn):null},en.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},en.prototype.getRawValue=function(tn){var nn=this.getData();return nn.get(nn.mapDimension("value"),tn)},en.prototype.getRegionModel=function(tn){var nn=this.getData();return nn.getItemModel(nn.indexOfName(tn))},en.prototype.formatTooltip=function(tn,nn,rn){for(var an=this.getData(),ln=this.getRawValue(tn),cn=an.getName(tn),un=this.seriesGroup,fn=[],hn=0;hn<un.length;hn++){var pn=un[hn].originalData.indexOfName(cn),gn=an.mapDimension("value");isNaN(un[hn].originalData.get(gn,pn))||fn.push(un[hn].name)}return createTooltipMarkup("section",{header:fn.join(", "),noHeader:!fn.length,blocks:[createTooltipMarkup("nameValue",{name:cn,value:ln})]})},en.prototype.setZoom=function(tn){this.option.zoom=tn},en.prototype.setCenter=function(tn){this.option.center=tn},en.prototype.getLegendIcon=function(tn){var nn=tn.icon||"roundRect",rn=createSymbol$1(nn,0,0,tn.itemWidth,tn.itemHeight,tn.itemStyle.fill);return rn.setStyle(tn.itemStyle),rn.style.stroke="none",nn.indexOf("empty")>-1&&(rn.style.stroke=rn.style.fill,rn.style.fill="#fff",rn.style.lineWidth=2),rn},en.type="series.map",en.dependencies=["geo"],en.layoutMode="box",en.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},en}(SeriesModel$1);const MapSeries$1=MapSeries;function dataStatistics(Fe,en){var tn={};return each$f(Fe,function(nn){nn.each(nn.mapDimension("value"),function(rn,an){var ln="ec-"+nn.getName(an);tn[ln]=tn[ln]||[],isNaN(rn)||tn[ln].push(rn)})}),Fe[0].map(Fe[0].mapDimension("value"),function(nn,rn){for(var an="ec-"+Fe[0].getName(rn),ln=0,cn=1/0,un=-1/0,fn=tn[an].length,hn=0;hn<fn;hn++)cn=Math.min(cn,tn[an][hn]),un=Math.max(un,tn[an][hn]),ln+=tn[an][hn];var pn;return en==="min"?pn=cn:en==="max"?pn=un:en==="average"?pn=ln/fn:pn=ln,fn===0?NaN:pn})}function mapDataStatistic(Fe){var en={};Fe.eachSeriesByType("map",function(tn){var nn=tn.getHostGeoModel(),rn=nn?"o"+nn.id:"i"+tn.getMapType();(en[rn]=en[rn]||[]).push(tn)}),each$f(en,function(tn,nn){for(var rn=dataStatistics(map$1(tn,function(ln){return ln.getData()}),tn[0].get("mapValueCalculation")),an=0;an<tn.length;an++)tn[an].originalData=tn[an].getData();for(var an=0;an<tn.length;an++)tn[an].seriesGroup=tn,tn[an].needsDrawMap=an===0&&!tn[an].getHostGeoModel(),tn[an].setData(rn.cloneShallow()),tn[an].mainSeries=tn[0]})}function mapSymbolLayout(Fe){var en={};Fe.eachSeriesByType("map",function(tn){var nn=tn.getMapType();if(!(tn.getHostGeoModel()||en[nn])){var rn={};each$f(tn.seriesGroup,function(ln){var cn=ln.coordinateSystem,un=ln.originalData;ln.get("showLegendSymbol")&&Fe.getComponent("legend")&&un.each(un.mapDimension("value"),function(fn,hn){var pn=un.getName(hn),gn=cn.getRegion(pn);if(!(!gn||isNaN(fn))){var mn=rn[pn]||0,_n=cn.dataToPoint(gn.getCenter());rn[pn]=mn+1,un.setItemLayout(hn,{point:_n,offset:mn})}})});var an=tn.getData();an.each(function(ln){var cn=an.getName(ln),un=an.getItemLayout(ln)||{};un.showLabel=!rn[cn],an.setItemLayout(ln,un)}),en[nn]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this)||this;return nn.type="view",nn.dimensions=["x","y"],nn._roamTransformable=new Transformable$1,nn._rawTransformable=new Transformable$1,nn.name=tn,nn}return en.prototype.setBoundingRect=function(tn,nn,rn,an){return this._rect=new BoundingRect$1(tn,nn,rn,an),this._rect},en.prototype.getBoundingRect=function(){return this._rect},en.prototype.setViewRect=function(tn,nn,rn,an){this._transformTo(tn,nn,rn,an),this._viewRect=new BoundingRect$1(tn,nn,rn,an)},en.prototype._transformTo=function(tn,nn,rn,an){var ln=this.getBoundingRect(),cn=this._rawTransformable;cn.transform=ln.calculateTransform(new BoundingRect$1(tn,nn,rn,an));var un=cn.parent;cn.parent=null,cn.decomposeTransform(),cn.parent=un,this._updateTransform()},en.prototype.setCenter=function(tn,nn){tn&&(this._center=[parsePercent(tn[0],nn.getWidth()),parsePercent(tn[1],nn.getHeight())],this._updateCenterAndZoom())},en.prototype.setZoom=function(tn){tn=tn||1;var nn=this.zoomLimit;nn&&(nn.max!=null&&(tn=Math.min(nn.max,tn)),nn.min!=null&&(tn=Math.max(nn.min,tn))),this._zoom=tn,this._updateCenterAndZoom()},en.prototype.getDefaultCenter=function(){var tn=this.getBoundingRect(),nn=tn.x+tn.width/2,rn=tn.y+tn.height/2;return[nn,rn]},en.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},en.prototype.getZoom=function(){return this._zoom||1},en.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},en.prototype._updateCenterAndZoom=function(){var tn=this._rawTransformable.getLocalTransform(),nn=this._roamTransformable,rn=this.getDefaultCenter(),an=this.getCenter(),ln=this.getZoom();an=applyTransform$1([],an,tn),rn=applyTransform$1([],rn,tn),nn.originX=an[0],nn.originY=an[1],nn.x=rn[0]-an[0],nn.y=rn[1]-an[1],nn.scaleX=nn.scaleY=ln,this._updateTransform()},en.prototype._updateTransform=function(){var tn=this._roamTransformable,nn=this._rawTransformable;nn.parent=tn,tn.updateTransform(),nn.updateTransform(),copy(this.transform||(this.transform=[]),nn.transform||create$1()),this._rawTransform=nn.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},en.prototype.getTransformInfo=function(){var tn=this._rawTransformable,nn=this._roamTransformable,rn=new Transformable$1;return rn.transform=nn.transform,rn.decomposeTransform(),{roam:{x:rn.x,y:rn.y,scaleX:rn.scaleX,scaleY:rn.scaleY},raw:{x:tn.x,y:tn.y,scaleX:tn.scaleX,scaleY:tn.scaleY}}},en.prototype.getViewRect=function(){return this._viewRect},en.prototype.getViewRectAfterRoam=function(){var tn=this.getBoundingRect().clone();return tn.applyTransform(this.transform),tn},en.prototype.dataToPoint=function(tn,nn,rn){var an=nn?this._rawTransform:this.transform;return rn=rn||[],an?v2ApplyTransform(rn,tn,an):copy$1(rn,tn)},en.prototype.pointToData=function(tn){var nn=this.invTransform;return nn?v2ApplyTransform([],tn,nn):[tn[0],tn[1]]},en.prototype.convertToPixel=function(tn,nn,rn){var an=getCoordSys$4(nn);return an===this?an.dataToPoint(rn):null},en.prototype.convertFromPixel=function(tn,nn,rn){var an=getCoordSys$4(nn);return an===this?an.pointToData(rn):null},en.prototype.containPoint=function(tn){return this.getViewRectAfterRoam().contain(tn[0],tn[1])},en.dimensions=["x","y"],en}(Transformable$1);function getCoordSys$4(Fe){var en=Fe.seriesModel;return en?en.coordinateSystem:null}const View$1=View;var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this,tn)||this;an.dimensions=geo2DDimensions,an.type="geo",an._nameCoordMap=createHashMap(),an.map=nn;var ln=rn.projection,cn=geoSourceManager.load(nn,rn.nameMap,rn.nameProperty),un=geoSourceManager.getGeoResource(nn);an.resourceType=un?un.type:null;var fn=an.regions=cn.regions,hn=GEO_DEFAULT_PARAMS[un.type];an._regionsMap=cn.regionsMap,an.regions=cn.regions,an.projection=ln;var pn;if(ln)for(var gn=0;gn<fn.length;gn++){var mn=fn[gn].getBoundingRect(ln);pn=pn||mn.clone(),pn.union(mn)}else pn=cn.boundingRect;return an.setBoundingRect(pn.x,pn.y,pn.width,pn.height),an.aspectScale=ln?1:retrieve2(rn.aspectScale,hn.aspectScale),an._invertLongitute=ln?!1:hn.invertLongitute,an}return en.prototype._transformTo=function(tn,nn,rn,an){var ln=this.getBoundingRect(),cn=this._invertLongitute;ln=ln.clone(),cn&&(ln.y=-ln.y-ln.height);var un=this._rawTransformable;un.transform=ln.calculateTransform(new BoundingRect$1(tn,nn,rn,an));var fn=un.parent;un.parent=null,un.decomposeTransform(),un.parent=fn,cn&&(un.scaleY=-un.scaleY),this._updateTransform()},en.prototype.getRegion=function(tn){return this._regionsMap.get(tn)},en.prototype.getRegionByCoord=function(tn){for(var nn=this.regions,rn=0;rn<nn.length;rn++){var an=nn[rn];if(an.type==="geoJSON"&&an.contain(tn))return nn[rn]}},en.prototype.addGeoCoord=function(tn,nn){this._nameCoordMap.set(tn,nn)},en.prototype.getGeoCoord=function(tn){var nn=this._regionsMap.get(tn);return this._nameCoordMap.get(tn)||nn&&nn.getCenter()},en.prototype.dataToPoint=function(tn,nn,rn){if(isString(tn)&&(tn=this.getGeoCoord(tn)),tn){var an=this.projection;return an&&(tn=an.project(tn)),tn&&this.projectedToPoint(tn,nn,rn)}},en.prototype.pointToData=function(tn){var nn=this.projection;return nn&&(tn=nn.unproject(tn)),tn&&this.pointToProjected(tn)},en.prototype.pointToProjected=function(tn){return Fe.prototype.pointToData.call(this,tn)},en.prototype.projectedToPoint=function(tn,nn,rn){return Fe.prototype.dataToPoint.call(this,tn,nn,rn)},en.prototype.convertToPixel=function(tn,nn,rn){var an=getCoordSys$3(nn);return an===this?an.dataToPoint(rn):null},en.prototype.convertFromPixel=function(tn,nn,rn){var an=getCoordSys$3(nn);return an===this?an.pointToData(rn):null},en}(View$1);mixin(Geo,View$1);function getCoordSys$3(Fe){var en=Fe.geoModel,tn=Fe.seriesModel;return en?en.coordinateSystem:tn?tn.coordinateSystem||(tn.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}const Geo$1=Geo;function resizeGeo(Fe,en){var tn=Fe.get("boundingCoords");if(tn!=null){var nn=tn[0],rn=tn[1];if(isFinite(nn[0])&&isFinite(nn[1])&&isFinite(rn[0])&&isFinite(rn[1])){var an=this.projection;if(an){var ln=nn[0],cn=nn[1],un=rn[0],fn=rn[1];nn=[1/0,1/0],rn=[-1/0,-1/0];var hn=function(Pn,Tn,Nn,Hn){for(var Un=Nn-Pn,jn=Hn-Tn,Yn=0;Yn<=100;Yn++){var Wn=Yn/100,Qn=an.project([Pn+Un*Wn,Tn+jn*Wn]);min$1(nn,nn,Qn),max$1(rn,rn,Qn)}};hn(ln,cn,un,cn),hn(un,cn,un,fn),hn(un,fn,ln,fn),hn(ln,fn,un,cn)}this.setBoundingRect(nn[0],nn[1],rn[0]-nn[0],rn[1]-nn[1])}}var pn=this.getBoundingRect(),gn=Fe.get("layoutCenter"),mn=Fe.get("layoutSize"),_n=en.getWidth(),kn=en.getHeight(),Cn=pn.width/pn.height*this.aspectScale,xn=!1,Sn,Mn;gn&&mn&&(Sn=[parsePercent(gn[0],_n),parsePercent(gn[1],kn)],Mn=parsePercent(mn,Math.min(_n,kn)),!isNaN(Sn[0])&&!isNaN(Sn[1])&&!isNaN(Mn)&&(xn=!0));var In;if(xn)In={},Cn>1?(In.width=Mn,In.height=Mn/Cn):(In.height=Mn,In.width=Mn*Cn),In.y=Sn[1]-In.height/2,In.x=Sn[0]-In.width/2;else{var On=Fe.getBoxLayoutParams();On.aspect=Cn,In=getLayoutRect(On,{width:_n,height:kn})}this.setViewRect(In.x,In.y,In.width,In.height),this.setCenter(Fe.get("center"),en),this.setZoom(Fe.get("zoom"))}function setGeoCoords(Fe,en){each$f(en.get("geoCoord"),function(tn,nn){Fe.addGeoCoord(nn,tn)})}var GeoCreator=function(){function Fe(){this.dimensions=geo2DDimensions}return Fe.prototype.create=function(en,tn){var nn=[];function rn(ln){return{nameProperty:ln.get("nameProperty"),aspectScale:ln.get("aspectScale"),projection:ln.get("projection")}}en.eachComponent("geo",function(ln,cn){var un=ln.get("map"),fn=new Geo$1(un+cn,un,extend$1({nameMap:ln.get("nameMap")},rn(ln)));fn.zoomLimit=ln.get("scaleLimit"),nn.push(fn),ln.coordinateSystem=fn,fn.model=ln,fn.resize=resizeGeo,fn.resize(ln,tn)}),en.eachSeries(function(ln){var cn=ln.get("coordinateSystem");if(cn==="geo"){var un=ln.get("geoIndex")||0;ln.coordinateSystem=nn[un]}});var an={};return en.eachSeriesByType("map",function(ln){if(!ln.getHostGeoModel()){var cn=ln.getMapType();an[cn]=an[cn]||[],an[cn].push(ln)}}),each$f(an,function(ln,cn){var un=map$1(ln,function(hn){return hn.get("nameMap")}),fn=new Geo$1(cn,cn,extend$1({nameMap:mergeAll(un)},rn(ln[0])));fn.zoomLimit=retrieve.apply(null,map$1(ln,function(hn){return hn.get("scaleLimit")})),nn.push(fn),fn.resize=resizeGeo,fn.resize(ln[0],tn),each$f(ln,function(hn){hn.coordinateSystem=fn,setGeoCoords(fn,hn)})}),nn},Fe.prototype.getFilledRegions=function(en,tn,nn,rn){for(var an=(en||[]).slice(),ln=createHashMap(),cn=0;cn<an.length;cn++)ln.set(an[cn].name,an[cn]);var un=geoSourceManager.load(tn,nn,rn);return each$f(un.regions,function(fn){var hn=fn.name;!ln.get(hn)&&an.push({name:hn})}),an},Fe}(),geoCreator=new GeoCreator;const geoCreator$1=geoCreator;var GeoModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(tn,nn,rn){var an=geoSourceManager.getGeoResource(tn.map);if(an&&an.type==="geoJSON"){var ln=tn.itemStyle=tn.itemStyle||{};"color"in ln||(ln.color="#eee")}this.mergeDefaultAndTheme(tn,rn),defaultEmphasis(tn,"label",["show"])},en.prototype.optionUpdated=function(){var tn=this,nn=this.option;nn.regions=geoCreator$1.getFilledRegions(nn.regions,nn.map,nn.nameMap,nn.nameProperty);var rn={};this._optionModelMap=reduce(nn.regions||[],function(an,ln){var cn=ln.name;return cn&&(an.set(cn,new Model$1(ln,tn,tn.ecModel)),ln.selected&&(rn[cn]=!0)),an},createHashMap()),nn.selectedMap||(nn.selectedMap=rn)},en.prototype.getRegionModel=function(tn){return this._optionModelMap.get(tn)||new Model$1(null,this,this.ecModel)},en.prototype.getFormattedLabel=function(tn,nn){var rn=this.getRegionModel(tn),an=nn==="normal"?rn.get(["label","formatter"]):rn.get(["emphasis","label","formatter"]),ln={name:tn};if(isFunction(an))return ln.status=nn,an(ln);if(isString(an))return an.replace("{a}",tn??"")},en.prototype.setZoom=function(tn){this.option.zoom=tn},en.prototype.setCenter=function(tn){this.option.center=tn},en.prototype.select=function(tn){var nn=this.option,rn=nn.selectedMode;if(rn){rn!=="multiple"&&(nn.selectedMap=null);var an=nn.selectedMap||(nn.selectedMap={});an[tn]=!0}},en.prototype.unSelect=function(tn){var nn=this.option.selectedMap;nn&&(nn[tn]=!1)},en.prototype.toggleSelected=function(tn){this[this.isSelected(tn)?"unSelect":"select"](tn)},en.prototype.isSelected=function(tn){var nn=this.option.selectedMap;return!!(nn&&nn[tn])},en.type="geo",en.layoutMode="box",en.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},en}(ComponentModel$1);const GeoModel$1=GeoModel;function getCenterCoord(Fe,en){return Fe.pointToProjected?Fe.pointToProjected(en):Fe.pointToData(en)}function updateCenterAndZoom(Fe,en,tn,nn){var rn=Fe.getZoom(),an=Fe.getCenter(),ln=en.zoom,cn=Fe.projectedToPoint?Fe.projectedToPoint(an):Fe.dataToPoint(an);if(en.dx!=null&&en.dy!=null&&(cn[0]-=en.dx,cn[1]-=en.dy,Fe.setCenter(getCenterCoord(Fe,cn),nn)),ln!=null){if(tn){var un=tn.min||0,fn=tn.max||1/0;ln=Math.max(Math.min(rn*ln,fn),un)/rn}Fe.scaleX*=ln,Fe.scaleY*=ln;var hn=(en.originX-Fe.x)*(ln-1),pn=(en.originY-Fe.y)*(ln-1);Fe.x-=hn,Fe.y-=pn,Fe.updateTransform(),Fe.setCenter(getCenterCoord(Fe,cn),nn),Fe.setZoom(ln*rn)}return{center:Fe.getCenter(),zoom:Fe.getZoom()}}var GeoView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.focusBlurEnabled=!0,tn}return en.prototype.init=function(tn,nn){this._api=nn},en.prototype.render=function(tn,nn,rn,an){if(this._model=tn,!tn.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$1(rn));var ln=this._mapDraw;ln.draw(tn,nn,rn,this,an),ln.group.on("click",this._handleRegionClick,this),ln.group.silent=tn.get("silent"),this.group.add(ln.group),this.updateSelectStatus(tn,nn,rn)},en.prototype._handleRegionClick=function(tn){var nn;findEventDispatcher(tn.target,function(rn){return(nn=getECData(rn).eventData)!=null},!0),nn&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:nn.name})},en.prototype.updateSelectStatus=function(tn,nn,rn){var an=this;this._mapDraw.group.traverse(function(ln){var cn=getECData(ln).eventData;if(cn)return an._model.isSelected(cn.name)?rn.enterSelect(ln):rn.leaveSelect(ln),!0})},en.prototype.findHighDownDispatchers=function(tn){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(tn,this._model)},en.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},en.type="geo",en}(ComponentView$1);const GeoView$1=GeoView;function registerMap(Fe,en,tn){geoSourceManager.registerMap(Fe,en,tn)}function install$J(Fe){Fe.registerCoordinateSystem("geo",geoCreator$1),Fe.registerComponentModel(GeoModel$1),Fe.registerComponentView(GeoView$1),Fe.registerImpl("registerMap",registerMap),Fe.registerImpl("getMap",function(tn){return geoSourceManager.getMapForUser(tn)});function en(tn,nn){nn.update="geo:updateSelectStatus",Fe.registerAction(nn,function(rn,an){var ln={},cn=[];return an.eachComponent({mainType:"geo",query:rn},function(un){un[tn](rn.name);var fn=un.coordinateSystem;each$f(fn.regions,function(pn){ln[pn.name]=un.isSelected(pn.name)||!1});var hn=[];each$f(ln,function(pn,gn){ln[gn]&&hn.push(gn)}),cn.push({geoIndex:un.componentIndex,name:hn})}),{selected:ln,allSelected:cn,name:rn.name}})}en("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),en("select",{type:"geoSelect",event:"geoselected"}),en("unSelect",{type:"geoUnSelect",event:"geounselected"}),Fe.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(tn,nn,rn){var an=tn.componentType||"series";nn.eachComponent({mainType:an,query:tn},function(ln){var cn=ln.coordinateSystem;if(cn.type==="geo"){var un=updateCenterAndZoom(cn,tn,ln.get("scaleLimit"),rn);ln.setCenter&&ln.setCenter(un.center),ln.setZoom&&ln.setZoom(un.zoom),an==="series"&&each$f(ln.seriesGroup,function(fn){fn.setCenter(un.center),fn.setZoom(un.zoom)})}})})}function install$I(Fe){use(install$J),Fe.registerChartView(MapView$1),Fe.registerSeriesModel(MapSeries$1),Fe.registerLayout(mapSymbolLayout),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",Fe.registerAction)}function init(Fe){var en=Fe;en.hierNode={defaultAncestor:null,ancestor:en,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var tn=[en],nn,rn;nn=tn.pop();)if(rn=nn.children,nn.isExpand&&rn.length)for(var an=rn.length,ln=an-1;ln>=0;ln--){var cn=rn[ln];cn.hierNode={defaultAncestor:null,ancestor:cn,prelim:0,modifier:0,change:0,shift:0,i:ln,thread:null},tn.push(cn)}}function firstWalk(Fe,en){var tn=Fe.isExpand?Fe.children:[],nn=Fe.parentNode.children,rn=Fe.hierNode.i?nn[Fe.hierNode.i-1]:null;if(tn.length){executeShifts(Fe);var an=(tn[0].hierNode.prelim+tn[tn.length-1].hierNode.prelim)/2;rn?(Fe.hierNode.prelim=rn.hierNode.prelim+en(Fe,rn),Fe.hierNode.modifier=Fe.hierNode.prelim-an):Fe.hierNode.prelim=an}else rn&&(Fe.hierNode.prelim=rn.hierNode.prelim+en(Fe,rn));Fe.parentNode.hierNode.defaultAncestor=apportion(Fe,rn,Fe.parentNode.hierNode.defaultAncestor||nn[0],en)}function secondWalk(Fe){var en=Fe.hierNode.prelim+Fe.parentNode.hierNode.modifier;Fe.setLayout({x:en},!0),Fe.hierNode.modifier+=Fe.parentNode.hierNode.modifier}function separation(Fe){return arguments.length?Fe:defaultSeparation}function radialCoordinate(Fe,en){return Fe-=Math.PI/2,{x:en*Math.cos(Fe),y:en*Math.sin(Fe)}}function getViewRect$4(Fe,en){return getLayoutRect(Fe.getBoxLayoutParams(),{width:en.getWidth(),height:en.getHeight()})}function executeShifts(Fe){for(var en=Fe.children,tn=en.length,nn=0,rn=0;--tn>=0;){var an=en[tn];an.hierNode.prelim+=nn,an.hierNode.modifier+=nn,rn+=an.hierNode.change,nn+=an.hierNode.shift+rn}}function apportion(Fe,en,tn,nn){if(en){for(var rn=Fe,an=Fe,ln=an.parentNode.children[0],cn=en,un=rn.hierNode.modifier,fn=an.hierNode.modifier,hn=ln.hierNode.modifier,pn=cn.hierNode.modifier;cn=nextRight(cn),an=nextLeft(an),cn&&an;){rn=nextRight(rn),ln=nextLeft(ln),rn.hierNode.ancestor=Fe;var gn=cn.hierNode.prelim+pn-an.hierNode.prelim-fn+nn(cn,an);gn>0&&(moveSubtree(nextAncestor(cn,Fe,tn),Fe,gn),fn+=gn,un+=gn),pn+=cn.hierNode.modifier,fn+=an.hierNode.modifier,un+=rn.hierNode.modifier,hn+=ln.hierNode.modifier}cn&&!nextRight(rn)&&(rn.hierNode.thread=cn,rn.hierNode.modifier+=pn-un),an&&!nextLeft(ln)&&(ln.hierNode.thread=an,ln.hierNode.modifier+=fn-hn,tn=Fe)}return tn}function nextRight(Fe){var en=Fe.children;return en.length&&Fe.isExpand?en[en.length-1]:Fe.hierNode.thread}function nextLeft(Fe){var en=Fe.children;return en.length&&Fe.isExpand?en[0]:Fe.hierNode.thread}function nextAncestor(Fe,en,tn){return Fe.hierNode.ancestor.parentNode===en.parentNode?Fe.hierNode.ancestor:tn}function moveSubtree(Fe,en,tn){var nn=tn/(en.hierNode.i-Fe.hierNode.i);en.hierNode.change-=nn,en.hierNode.shift+=tn,en.hierNode.modifier+=tn,en.hierNode.prelim+=tn,Fe.hierNode.change+=nn}function defaultSeparation(Fe,en){return Fe.parentNode===en.parentNode?1:2}var TreeEdgeShape=function(){function Fe(){this.parentPoint=[],this.childPoints=[]}return Fe}(),TreePath=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},en.prototype.getDefaultShape=function(){return new TreeEdgeShape},en.prototype.buildPath=function(tn,nn){var rn=nn.childPoints,an=rn.length,ln=nn.parentPoint,cn=rn[0],un=rn[an-1];if(an===1){tn.moveTo(ln[0],ln[1]),tn.lineTo(cn[0],cn[1]);return}var fn=nn.orient,hn=fn==="TB"||fn==="BT"?0:1,pn=1-hn,gn=parsePercent(nn.forkPosition,1),mn=[];mn[hn]=ln[hn],mn[pn]=ln[pn]+(un[pn]-ln[pn])*gn,tn.moveTo(ln[0],ln[1]),tn.lineTo(mn[0],mn[1]),tn.moveTo(cn[0],cn[1]),mn[hn]=cn[hn],tn.lineTo(mn[0],mn[1]),mn[hn]=un[hn],tn.lineTo(mn[0],mn[1]),tn.lineTo(un[0],un[1]);for(var _n=1;_n<an-1;_n++){var kn=rn[_n];tn.moveTo(kn[0],kn[1]),mn[hn]=kn[hn],tn.lineTo(mn[0],mn[1])}},en}(Path$1),TreeView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn._mainGroup=new Group$4,tn}return en.prototype.init=function(tn,nn){this._controller=new RoamController$1(nn.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},en.prototype.render=function(tn,nn,rn){var an=tn.getData(),ln=tn.layoutInfo,cn=this._mainGroup,un=tn.get("layout");un==="radial"?(cn.x=ln.x+ln.width/2,cn.y=ln.y+ln.height/2):(cn.x=ln.x,cn.y=ln.y),this._updateViewCoordSys(tn,rn),this._updateController(tn,nn,rn);var fn=this._data;an.diff(fn).add(function(hn){symbolNeedsDraw(an,hn)&&updateNode(an,hn,null,cn,tn)}).update(function(hn,pn){var gn=fn.getItemGraphicEl(pn);if(!symbolNeedsDraw(an,hn)){gn&&removeNode(fn,pn,gn,cn,tn);return}updateNode(an,hn,gn,cn,tn)}).remove(function(hn){var pn=fn.getItemGraphicEl(hn);pn&&removeNode(fn,hn,pn,cn,tn)}).execute(),this._nodeScaleRatio=tn.get("nodeScaleRatio"),this._updateNodeAndLinkScale(tn),tn.get("expandAndCollapse")===!0&&an.eachItemGraphicEl(function(hn,pn){hn.off("click").on("click",function(){rn.dispatchAction({type:"treeExpandAndCollapse",seriesId:tn.id,dataIndex:pn})})}),this._data=an},en.prototype._updateViewCoordSys=function(tn,nn){var rn=tn.getData(),an=[];rn.each(function(pn){var gn=rn.getItemLayout(pn);gn&&!isNaN(gn.x)&&!isNaN(gn.y)&&an.push([+gn.x,+gn.y])});var ln=[],cn=[];fromPoints(an,ln,cn);var un=this._min,fn=this._max;cn[0]-ln[0]===0&&(ln[0]=un?un[0]:ln[0]-1,cn[0]=fn?fn[0]:cn[0]+1),cn[1]-ln[1]===0&&(ln[1]=un?un[1]:ln[1]-1,cn[1]=fn?fn[1]:cn[1]+1);var hn=tn.coordinateSystem=new View$1;hn.zoomLimit=tn.get("scaleLimit"),hn.setBoundingRect(ln[0],ln[1],cn[0]-ln[0],cn[1]-ln[1]),hn.setCenter(tn.get("center"),nn),hn.setZoom(tn.get("zoom")),this.group.attr({x:hn.x,y:hn.y,scaleX:hn.scaleX,scaleY:hn.scaleY}),this._min=ln,this._max=cn},en.prototype._updateController=function(tn,nn,rn){var an=this,ln=this._controller,cn=this._controllerHost,un=this.group;ln.setPointerChecker(function(fn,hn,pn){var gn=un.getBoundingRect();return gn.applyTransform(un.transform),gn.contain(hn,pn)&&!onIrrelevantElement(fn,rn,tn)}),ln.enable(tn.get("roam")),cn.zoomLimit=tn.get("scaleLimit"),cn.zoom=tn.coordinateSystem.getZoom(),ln.off("pan").off("zoom").on("pan",function(fn){updateViewOnPan(cn,fn.dx,fn.dy),rn.dispatchAction({seriesId:tn.id,type:"treeRoam",dx:fn.dx,dy:fn.dy})}).on("zoom",function(fn){updateViewOnZoom(cn,fn.scale,fn.originX,fn.originY),rn.dispatchAction({seriesId:tn.id,type:"treeRoam",zoom:fn.scale,originX:fn.originX,originY:fn.originY}),an._updateNodeAndLinkScale(tn),rn.updateLabelLayout()})},en.prototype._updateNodeAndLinkScale=function(tn){var nn=tn.getData(),rn=this._getNodeGlobalScale(tn);nn.eachItemGraphicEl(function(an,ln){an.setSymbolScale(rn)})},en.prototype._getNodeGlobalScale=function(tn){var nn=tn.coordinateSystem;if(nn.type!=="view")return 1;var rn=this._nodeScaleRatio,an=nn.scaleX||1,ln=nn.getZoom(),cn=(ln-1)*rn+1;return cn/an},en.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},en.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},en.type="tree",en}(ChartView$1);function symbolNeedsDraw(Fe,en){var tn=Fe.getItemLayout(en);return tn&&!isNaN(tn.x)&&!isNaN(tn.y)}function updateNode(Fe,en,tn,nn,rn){var an=!tn,ln=Fe.tree.getNodeByDataIndex(en),cn=ln.getModel(),un=ln.getVisual("style").fill,fn=ln.isExpand===!1&&ln.children.length!==0?un:"#fff",hn=Fe.tree.root,pn=ln.parentNode===hn?ln:ln.parentNode||ln,gn=Fe.getItemGraphicEl(pn.dataIndex),mn=pn.getLayout(),_n=gn?{x:gn.__oldX,y:gn.__oldY,rawX:gn.__radialOldRawX,rawY:gn.__radialOldRawY}:mn,kn=ln.getLayout();an?(tn=new SymbolClz(Fe,en,null,{symbolInnerColor:fn,useNameLabel:!0}),tn.x=_n.x,tn.y=_n.y):tn.updateData(Fe,en,null,{symbolInnerColor:fn,useNameLabel:!0}),tn.__radialOldRawX=tn.__radialRawX,tn.__radialOldRawY=tn.__radialRawY,tn.__radialRawX=kn.rawX,tn.__radialRawY=kn.rawY,nn.add(tn),Fe.setItemGraphicEl(en,tn),tn.__oldX=tn.x,tn.__oldY=tn.y,updateProps$1(tn,{x:kn.x,y:kn.y},rn);var Cn=tn.getSymbolPath();if(rn.get("layout")==="radial"){var xn=hn.children[0],Sn=xn.getLayout(),Mn=xn.children.length,In=void 0,On=void 0;if(kn.x===Sn.x&&ln.isExpand===!0&&xn.children.length){var Pn={x:(xn.children[0].getLayout().x+xn.children[Mn-1].getLayout().x)/2,y:(xn.children[0].getLayout().y+xn.children[Mn-1].getLayout().y)/2};In=Math.atan2(Pn.y-Sn.y,Pn.x-Sn.x),In<0&&(In=Math.PI*2+In),On=Pn.x<Sn.x,On&&(In=In-Math.PI)}else In=Math.atan2(kn.y-Sn.y,kn.x-Sn.x),In<0&&(In=Math.PI*2+In),ln.children.length===0||ln.children.length!==0&&ln.isExpand===!1?(On=kn.x<Sn.x,On&&(In=In-Math.PI)):(On=kn.x>Sn.x,On||(In=In-Math.PI));var Tn=On?"left":"right",Nn=cn.getModel("label"),Hn=Nn.get("rotate"),Un=Hn*(Math.PI/180),jn=Cn.getTextContent();jn&&(Cn.setTextConfig({position:Nn.get("position")||Tn,rotation:Hn==null?-In:Un,origin:"center"}),jn.setStyle("verticalAlign","middle"))}var Yn=cn.get(["emphasis","focus"]),Wn=Yn==="relative"?concatArray(ln.getAncestorsIndices(),ln.getDescendantIndices()):Yn==="ancestor"?ln.getAncestorsIndices():Yn==="descendant"?ln.getDescendantIndices():null;Wn&&(getECData(tn).focus=Wn),drawEdge(rn,ln,hn,tn,_n,mn,kn,nn),tn.__edge&&(tn.onHoverStateChange=function(Qn){if(Qn!=="blur"){var Xn=ln.parentNode&&Fe.getItemGraphicEl(ln.parentNode.dataIndex);Xn&&Xn.hoverState===HOVER_STATE_BLUR||setStatesFlag(tn.__edge,Qn)}})}function drawEdge(Fe,en,tn,nn,rn,an,ln,cn){var un=en.getModel(),fn=Fe.get("edgeShape"),hn=Fe.get("layout"),pn=Fe.getOrient(),gn=Fe.get(["lineStyle","curveness"]),mn=Fe.get("edgeForkPosition"),_n=un.getModel("lineStyle").getLineStyle(),kn=nn.__edge;if(fn==="curve")en.parentNode&&en.parentNode!==tn&&(kn||(kn=nn.__edge=new BezierCurve$1({shape:getEdgeShape(hn,pn,gn,rn,rn)})),updateProps$1(kn,{shape:getEdgeShape(hn,pn,gn,an,ln)},Fe));else if(fn==="polyline"&&hn==="orthogonal"&&en!==tn&&en.children&&en.children.length!==0&&en.isExpand===!0){for(var Cn=en.children,xn=[],Sn=0;Sn<Cn.length;Sn++){var Mn=Cn[Sn].getLayout();xn.push([Mn.x,Mn.y])}kn||(kn=nn.__edge=new TreePath({shape:{parentPoint:[ln.x,ln.y],childPoints:[[ln.x,ln.y]],orient:pn,forkPosition:mn}})),updateProps$1(kn,{shape:{parentPoint:[ln.x,ln.y],childPoints:xn}},Fe)}kn&&!(fn==="polyline"&&!en.isExpand)&&(kn.useStyle(defaults({strokeNoScale:!0,fill:null},_n)),setStatesStylesFromModel(kn,un,"lineStyle"),setDefaultStateProxy(kn),cn.add(kn))}function removeNodeEdge(Fe,en,tn,nn,rn){var an=en.tree.root,ln=getSourceNode(an,Fe),cn=ln.source,un=ln.sourceLayout,fn=en.getItemGraphicEl(Fe.dataIndex);if(fn){var hn=en.getItemGraphicEl(cn.dataIndex),pn=hn.__edge,gn=fn.__edge||(cn.isExpand===!1||cn.children.length===1?pn:void 0),mn=nn.get("edgeShape"),_n=nn.get("layout"),kn=nn.get("orient"),Cn=nn.get(["lineStyle","curveness"]);gn&&(mn==="curve"?removeElement(gn,{shape:getEdgeShape(_n,kn,Cn,un,un),style:{opacity:0}},nn,{cb:function(){tn.remove(gn)},removeOpt:rn}):mn==="polyline"&&nn.get("layout")==="orthogonal"&&removeElement(gn,{shape:{parentPoint:[un.x,un.y],childPoints:[[un.x,un.y]]},style:{opacity:0}},nn,{cb:function(){tn.remove(gn)},removeOpt:rn}))}}function getSourceNode(Fe,en){for(var tn=en.parentNode===Fe?en:en.parentNode||en,nn;nn=tn.getLayout(),nn==null;)tn=tn.parentNode===Fe?tn:tn.parentNode||tn;return{source:tn,sourceLayout:nn}}function removeNode(Fe,en,tn,nn,rn){var an=Fe.tree.getNodeByDataIndex(en),ln=Fe.tree.root,cn=getSourceNode(ln,an).sourceLayout,un={duration:rn.get("animationDurationUpdate"),easing:rn.get("animationEasingUpdate")};removeElement(tn,{x:cn.x+1,y:cn.y+1},rn,{cb:function(){nn.remove(tn),Fe.setItemGraphicEl(en,null)},removeOpt:un}),tn.fadeOut(null,Fe.hostModel,{fadeLabel:!0,animation:un}),an.children.forEach(function(fn){removeNodeEdge(fn,Fe,nn,rn,un)}),removeNodeEdge(an,Fe,nn,rn,un)}function getEdgeShape(Fe,en,tn,nn,rn){var an,ln,cn,un,fn,hn,pn,gn;if(Fe==="radial"){fn=nn.rawX,pn=nn.rawY,hn=rn.rawX,gn=rn.rawY;var mn=radialCoordinate(fn,pn),_n=radialCoordinate(fn,pn+(gn-pn)*tn),kn=radialCoordinate(hn,gn+(pn-gn)*tn),Cn=radialCoordinate(hn,gn);return{x1:mn.x||0,y1:mn.y||0,x2:Cn.x||0,y2:Cn.y||0,cpx1:_n.x||0,cpy1:_n.y||0,cpx2:kn.x||0,cpy2:kn.y||0}}else fn=nn.x,pn=nn.y,hn=rn.x,gn=rn.y,(en==="LR"||en==="RL")&&(an=fn+(hn-fn)*tn,ln=pn,cn=hn+(fn-hn)*tn,un=gn),(en==="TB"||en==="BT")&&(an=fn,ln=pn+(gn-pn)*tn,cn=hn,un=gn+(pn-gn)*tn);return{x1:fn,y1:pn,x2:hn,y2:gn,cpx1:an,cpy1:ln,cpx2:cn,cpy2:un}}const TreeView$1=TreeView;var inner$e=makeInner();function linkSeriesData(Fe){var en=Fe.mainData,tn=Fe.datas;tn||(tn={main:en},Fe.datasAttr={main:"data"}),Fe.datas=Fe.mainData=null,linkAll(en,tn,Fe),each$f(tn,function(nn){each$f(en.TRANSFERABLE_METHODS,function(rn){nn.wrapMethod(rn,curry$1(transferInjection,Fe))})}),en.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,Fe)),each$f(en.CHANGABLE_METHODS,function(nn){en.wrapMethod(nn,curry$1(changeInjection,Fe))}),assert(tn[en.dataType]===en)}function transferInjection(Fe,en){if(isMainData(this)){var tn=extend$1({},inner$e(this).datas);tn[this.dataType]=en,linkAll(en,tn,Fe)}else linkSingle(en,this.dataType,inner$e(this).mainData,Fe);return en}function changeInjection(Fe,en){return Fe.struct&&Fe.struct.update(),en}function cloneShallowInjection(Fe,en){return each$f(inner$e(en).datas,function(tn,nn){tn!==en&&linkSingle(tn.cloneShallow(),nn,en,Fe)}),en}function getLinkedData(Fe){var en=inner$e(this).mainData;return Fe==null||en==null?en:inner$e(en).datas[Fe]}function getLinkedDataAll(){var Fe=inner$e(this).mainData;return Fe==null?[{data:Fe}]:map$1(keys(inner$e(Fe).datas),function(en){return{type:en,data:inner$e(Fe).datas[en]}})}function isMainData(Fe){return inner$e(Fe).mainData===Fe}function linkAll(Fe,en,tn){inner$e(Fe).datas={},each$f(en,function(nn,rn){linkSingle(nn,rn,Fe,tn)})}function linkSingle(Fe,en,tn,nn){inner$e(tn).datas[en]=Fe,inner$e(Fe).mainData=tn,Fe.dataType=en,nn.struct&&(Fe[nn.structAttr]=nn.struct,nn.struct[nn.datasAttr[en]]=Fe),Fe.getLinkedData=getLinkedData,Fe.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function Fe(en,tn){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=en||"",this.hostTree=tn}return Fe.prototype.isRemoved=function(){return this.dataIndex<0},Fe.prototype.eachNode=function(en,tn,nn){isFunction(en)&&(nn=tn,tn=en,en=null),en=en||{},isString(en)&&(en={order:en});var rn=en.order||"preorder",an=this[en.attr||"children"],ln;rn==="preorder"&&(ln=tn.call(nn,this));for(var cn=0;!ln&&cn<an.length;cn++)an[cn].eachNode(en,tn,nn);rn==="postorder"&&tn.call(nn,this)},Fe.prototype.updateDepthAndHeight=function(en){var tn=0;this.depth=en;for(var nn=0;nn<this.children.length;nn++){var rn=this.children[nn];rn.updateDepthAndHeight(en+1),rn.height>tn&&(tn=rn.height)}this.height=tn+1},Fe.prototype.getNodeById=function(en){if(this.getId()===en)return this;for(var tn=0,nn=this.children,rn=nn.length;tn<rn;tn++){var an=nn[tn].getNodeById(en);if(an)return an}},Fe.prototype.contains=function(en){if(en===this)return!0;for(var tn=0,nn=this.children,rn=nn.length;tn<rn;tn++){var an=nn[tn].contains(en);if(an)return an}},Fe.prototype.getAncestors=function(en){for(var tn=[],nn=en?this:this.parentNode;nn;)tn.push(nn),nn=nn.parentNode;return tn.reverse(),tn},Fe.prototype.getAncestorsIndices=function(){for(var en=[],tn=this;tn;)en.push(tn.dataIndex),tn=tn.parentNode;return en.reverse(),en},Fe.prototype.getDescendantIndices=function(){var en=[];return this.eachNode(function(tn){en.push(tn.dataIndex)}),en},Fe.prototype.getValue=function(en){var tn=this.hostTree.data;return tn.getStore().get(tn.getDimensionIndex(en||"value"),this.dataIndex)},Fe.prototype.setLayout=function(en,tn){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,en,tn)},Fe.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},Fe.prototype.getModel=function(en){if(!(this.dataIndex<0)){var tn=this.hostTree,nn=tn.data.getItemModel(this.dataIndex);return nn.getModel(en)}},Fe.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},Fe.prototype.setVisual=function(en,tn){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,en,tn)},Fe.prototype.getVisual=function(en){return this.hostTree.data.getItemVisual(this.dataIndex,en)},Fe.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},Fe.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},Fe.prototype.getChildIndex=function(){if(this.parentNode){for(var en=this.parentNode.children,tn=0;tn<en.length;++tn)if(en[tn]===this)return tn;return-1}return-1},Fe.prototype.isAncestorOf=function(en){for(var tn=en.parentNode;tn;){if(tn===this)return!0;tn=tn.parentNode}return!1},Fe.prototype.isDescendantOf=function(en){return en!==this&&en.isAncestorOf(this)},Fe}(),Tree=function(){function Fe(en){this.type="tree",this._nodes=[],this.hostModel=en}return Fe.prototype.eachNode=function(en,tn,nn){this.root.eachNode(en,tn,nn)},Fe.prototype.getNodeByDataIndex=function(en){var tn=this.data.getRawIndex(en);return this._nodes[tn]},Fe.prototype.getNodeById=function(en){return this.root.getNodeById(en)},Fe.prototype.update=function(){for(var en=this.data,tn=this._nodes,nn=0,rn=tn.length;nn<rn;nn++)tn[nn].dataIndex=-1;for(var nn=0,rn=en.count();nn<rn;nn++)tn[en.getRawIndex(nn)].dataIndex=nn},Fe.prototype.clearLayouts=function(){this.data.clearItemLayouts()},Fe.createTree=function(en,tn,nn){var rn=new Fe(tn),an=[],ln=1;cn(en);function cn(hn,pn){var gn=hn.value;ln=Math.max(ln,isArray$1(gn)?gn.length:1),an.push(hn);var mn=new TreeNode(convertOptionIdName(hn.name,""),rn);pn?addChild(mn,pn):rn.root=mn,rn._nodes.push(mn);var _n=hn.children;if(_n)for(var kn=0;kn<_n.length;kn++)cn(_n[kn],mn)}rn.root.updateDepthAndHeight(0);var un=prepareSeriesDataSchema(an,{coordDimensions:["value"],dimensionsCount:ln}).dimensions,fn=new SeriesData$1(un,tn);return fn.initData(an),nn&&nn(fn),linkSeriesData({mainData:fn,struct:rn,structAttr:"tree"}),rn.update(),rn},Fe}();function addChild(Fe,en){var tn=en.children;Fe.parentNode!==en&&(tn.push(Fe),Fe.parentNode=en)}const Tree$1=Tree;function retrieveTargetInfo(Fe,en,tn){if(Fe&&indexOf(en,Fe.type)>=0){var nn=tn.getData().tree.root,rn=Fe.targetNode;if(isString(rn)&&(rn=nn.getNodeById(rn)),rn&&nn.contains(rn))return{node:rn};var an=Fe.targetNodeId;if(an!=null&&(rn=nn.getNodeById(an)))return{node:rn}}}function getPathToRoot(Fe){for(var en=[];Fe;)Fe=Fe.parentNode,Fe&&en.push(Fe);return en.reverse()}function aboveViewRoot(Fe,en){var tn=getPathToRoot(Fe);return indexOf(tn,en)>=0}function wrapTreePathInfo(Fe,en){for(var tn=[];Fe;){var nn=Fe.dataIndex;tn.push({name:Fe.name,dataIndex:nn,value:en.getRawValue(nn)}),Fe=Fe.parentNode}return tn.reverse(),tn}var TreeSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.hasSymbolVisual=!0,tn.ignoreStyleOnData=!0,tn}return en.prototype.getInitialData=function(tn){var nn={name:tn.name,children:tn.data},rn=tn.leaves||{},an=new Model$1(rn,this,this.ecModel),ln=Tree$1.createTree(nn,this,cn);function cn(pn){pn.wrapMethod("getItemModel",function(gn,mn){var _n=ln.getNodeByDataIndex(mn);return _n&&_n.children.length&&_n.isExpand||(gn.parentModel=an),gn})}var un=0;ln.eachNode("preorder",function(pn){pn.depth>un&&(un=pn.depth)});var fn=tn.expandAndCollapse,hn=fn&&tn.initialTreeDepth>=0?tn.initialTreeDepth:un;return ln.root.eachNode("preorder",function(pn){var gn=pn.hostTree.data.getRawDataItem(pn.dataIndex);pn.isExpand=gn&&gn.collapsed!=null?!gn.collapsed:pn.depth<=hn}),ln.data},en.prototype.getOrient=function(){var tn=this.get("orient");return tn==="horizontal"?tn="LR":tn==="vertical"&&(tn="TB"),tn},en.prototype.setZoom=function(tn){this.option.zoom=tn},en.prototype.setCenter=function(tn){this.option.center=tn},en.prototype.formatTooltip=function(tn,nn,rn){for(var an=this.getData().tree,ln=an.root.children[0],cn=an.getNodeByDataIndex(tn),un=cn.getValue(),fn=cn.name;cn&&cn!==ln;)fn=cn.parentNode.name+"."+fn,cn=cn.parentNode;return createTooltipMarkup("nameValue",{name:fn,value:un,noValue:isNaN(un)||un==null})},en.prototype.getDataParams=function(tn){var nn=Fe.prototype.getDataParams.apply(this,arguments),rn=this.getData().tree.getNodeByDataIndex(tn);return nn.treeAncestors=wrapTreePathInfo(rn,this),nn.collapsed=!rn.isExpand,nn},en.type="series.tree",en.layoutMode="box",en.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},en}(SeriesModel$1);const TreeSeriesModel$1=TreeSeriesModel;function eachAfter(Fe,en,tn){for(var nn=[Fe],rn=[],an;an=nn.pop();)if(rn.push(an),an.isExpand){var ln=an.children;if(ln.length)for(var cn=0;cn<ln.length;cn++)nn.push(ln[cn])}for(;an=rn.pop();)en(an,tn)}function eachBefore(Fe,en){for(var tn=[Fe],nn;nn=tn.pop();)if(en(nn),nn.isExpand){var rn=nn.children;if(rn.length)for(var an=rn.length-1;an>=0;an--)tn.push(rn[an])}}function treeLayout(Fe,en){Fe.eachSeriesByType("tree",function(tn){commonLayout(tn,en)})}function commonLayout(Fe,en){var tn=getViewRect$4(Fe,en);Fe.layoutInfo=tn;var nn=Fe.get("layout"),rn=0,an=0,ln=null;nn==="radial"?(rn=2*Math.PI,an=Math.min(tn.height,tn.width)/2,ln=separation(function(Mn,In){return(Mn.parentNode===In.parentNode?1:2)/Mn.depth})):(rn=tn.width,an=tn.height,ln=separation());var cn=Fe.getData().tree.root,un=cn.children[0];if(un){init(cn),eachAfter(un,firstWalk,ln),cn.hierNode.modifier=-un.hierNode.prelim,eachBefore(un,secondWalk);var fn=un,hn=un,pn=un;eachBefore(un,function(Mn){var In=Mn.getLayout().x;In<fn.getLayout().x&&(fn=Mn),In>hn.getLayout().x&&(hn=Mn),Mn.depth>pn.depth&&(pn=Mn)});var gn=fn===hn?1:ln(fn,hn)/2,mn=gn-fn.getLayout().x,_n=0,kn=0,Cn=0,xn=0;if(nn==="radial")_n=rn/(hn.getLayout().x+gn+mn),kn=an/(pn.depth-1||1),eachBefore(un,function(Mn){Cn=(Mn.getLayout().x+mn)*_n,xn=(Mn.depth-1)*kn;var In=radialCoordinate(Cn,xn);Mn.setLayout({x:In.x,y:In.y,rawX:Cn,rawY:xn},!0)});else{var Sn=Fe.getOrient();Sn==="RL"||Sn==="LR"?(kn=an/(hn.getLayout().x+gn+mn),_n=rn/(pn.depth-1||1),eachBefore(un,function(Mn){xn=(Mn.getLayout().x+mn)*kn,Cn=Sn==="LR"?(Mn.depth-1)*_n:rn-(Mn.depth-1)*_n,Mn.setLayout({x:Cn,y:xn},!0)})):(Sn==="TB"||Sn==="BT")&&(_n=rn/(hn.getLayout().x+gn+mn),kn=an/(pn.depth-1||1),eachBefore(un,function(Mn){Cn=(Mn.getLayout().x+mn)*_n,xn=Sn==="TB"?(Mn.depth-1)*kn:an-(Mn.depth-1)*kn,Mn.setLayout({x:Cn,y:xn},!0)}))}}}function treeVisual(Fe){Fe.eachSeriesByType("tree",function(en){var tn=en.getData(),nn=tn.tree;nn.eachNode(function(rn){var an=rn.getModel(),ln=an.getModel("itemStyle").getItemStyle(),cn=tn.ensureUniqueItemVisual(rn.dataIndex,"style");extend$1(cn,ln)})})}function installTreeAction(Fe){Fe.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(en,tn){tn.eachComponent({mainType:"series",subType:"tree",query:en},function(nn){var rn=en.dataIndex,an=nn.getData().tree,ln=an.getNodeByDataIndex(rn);ln.isExpand=!ln.isExpand})}),Fe.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(en,tn,nn){tn.eachComponent({mainType:"series",subType:"tree",query:en},function(rn){var an=rn.coordinateSystem,ln=updateCenterAndZoom(an,en,void 0,nn);rn.setCenter&&rn.setCenter(ln.center),rn.setZoom&&rn.setZoom(ln.zoom)})})}function install$H(Fe){Fe.registerChartView(TreeView$1),Fe.registerSeriesModel(TreeSeriesModel$1),Fe.registerLayout(treeLayout),Fe.registerVisual(treeVisual),installTreeAction(Fe)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(Fe){for(var en=0;en<actionTypes.length;en++)Fe.registerAction({type:actionTypes[en],update:"updateView"},noop);Fe.registerAction({type:"treemapRootToNode",update:"updateView"},function(tn,nn){nn.eachComponent({mainType:"series",subType:"treemap",query:tn},rn);function rn(an,ln){var cn=["treemapZoomToNode","treemapRootToNode"],un=retrieveTargetInfo(tn,cn,an);if(un){var fn=an.getViewRoot();fn&&(tn.direction=aboveViewRoot(fn,un.node)?"rollUp":"drillDown"),an.resetViewRoot(un.node)}}})}function enableAriaDecalForTree(Fe){var en=Fe.getData(),tn=en.tree,nn={};tn.eachNode(function(rn){for(var an=rn;an&&an.depth>1;)an=an.parentNode;var ln=getDecalFromPalette(Fe.ecModel,an.name||an.dataIndex+"",nn);rn.setVisual("decal",ln)})}var TreemapSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.preventUsingHoverLayer=!0,tn}return en.prototype.getInitialData=function(tn,nn){var rn={name:tn.name,children:tn.data};completeTreeValue$1(rn);var an=tn.levels||[],ln=this.designatedVisualItemStyle={},cn=new Model$1({itemStyle:ln},this,nn);an=tn.levels=setDefault(an,nn);var un=map$1(an||[],function(pn){return new Model$1(pn,cn,nn)},this),fn=Tree$1.createTree(rn,this,hn);function hn(pn){pn.wrapMethod("getItemModel",function(gn,mn){var _n=fn.getNodeByDataIndex(mn),kn=_n?un[_n.depth]:null;return gn.parentModel=kn||cn,gn})}return fn.data},en.prototype.optionUpdated=function(){this.resetViewRoot()},en.prototype.formatTooltip=function(tn,nn,rn){var an=this.getData(),ln=this.getRawValue(tn),cn=an.getName(tn);return createTooltipMarkup("nameValue",{name:cn,value:ln})},en.prototype.getDataParams=function(tn){var nn=Fe.prototype.getDataParams.apply(this,arguments),rn=this.getData().tree.getNodeByDataIndex(tn);return nn.treeAncestors=wrapTreePathInfo(rn,this),nn.treePathInfo=nn.treeAncestors,nn},en.prototype.setLayoutInfo=function(tn){this.layoutInfo=this.layoutInfo||{},extend$1(this.layoutInfo,tn)},en.prototype.mapIdToIndex=function(tn){var nn=this._idIndexMap;nn||(nn=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var rn=nn.get(tn);return rn==null&&nn.set(tn,rn=this._idIndexMapCount++),rn},en.prototype.getViewRoot=function(){return this._viewRoot},en.prototype.resetViewRoot=function(tn){tn?this._viewRoot=tn:tn=this._viewRoot;var nn=this.getRawData().tree.root;(!tn||tn!==nn&&!nn.contains(tn))&&(this._viewRoot=nn)},en.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},en.type="series.treemap",en.layoutMode="box",en.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â¶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},en}(SeriesModel$1);function completeTreeValue$1(Fe){var en=0;each$f(Fe.children,function(nn){completeTreeValue$1(nn);var rn=nn.value;isArray$1(rn)&&(rn=rn[0]),en+=rn});var tn=Fe.value;isArray$1(tn)&&(tn=tn[0]),(tn==null||isNaN(tn))&&(tn=en),tn<0&&(tn=0),isArray$1(Fe.value)?Fe.value[0]=tn:Fe.value=tn}function setDefault(Fe,en){var tn=normalizeToArray(en.get("color")),nn=normalizeToArray(en.get(["aria","decal","decals"]));if(tn){Fe=Fe||[];var rn,an;each$f(Fe,function(cn){var un=new Model$1(cn),fn=un.get("color"),hn=un.get("decal");(un.get(["itemStyle","color"])||fn&&fn!=="none")&&(rn=!0),(un.get(["itemStyle","decal"])||hn&&hn!=="none")&&(an=!0)});var ln=Fe[0]||(Fe[0]={});return rn||(ln.color=tn.slice()),!an&&nn&&(ln.decal=nn.slice()),Fe}}const TreemapSeriesModel$1=TreemapSeriesModel;var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function Fe(en){this.group=new Group$4,en.add(this.group)}return Fe.prototype.render=function(en,tn,nn,rn){var an=en.getModel("breadcrumb"),ln=this.group;if(ln.removeAll(),!(!an.get("show")||!nn)){var cn=an.getModel("itemStyle"),un=an.getModel("emphasis"),fn=cn.getModel("textStyle"),hn=un.getModel(["itemStyle","textStyle"]),pn={pos:{left:an.get("left"),right:an.get("right"),top:an.get("top"),bottom:an.get("bottom")},box:{width:tn.getWidth(),height:tn.getHeight()},emptyItemWidth:an.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(nn,pn,fn),this._renderContent(en,pn,cn,un,fn,hn,rn),positionElement(ln,pn.pos,pn.box)}},Fe.prototype._prepare=function(en,tn,nn){for(var rn=en;rn;rn=rn.parentNode){var an=convertOptionIdName(rn.getModel().get("name"),""),ln=nn.getTextRect(an),cn=Math.max(ln.width+TEXT_PADDING*2,tn.emptyItemWidth);tn.totalWidth+=cn+ITEM_GAP,tn.renderList.push({node:rn,text:an,width:cn})}},Fe.prototype._renderContent=function(en,tn,nn,rn,an,ln,cn){for(var un=0,fn=tn.emptyItemWidth,hn=en.get(["breadcrumb","height"]),pn=getAvailableSize(tn.pos,tn.box),gn=tn.totalWidth,mn=tn.renderList,_n=rn.getModel("itemStyle").getItemStyle(),kn=mn.length-1;kn>=0;kn--){var Cn=mn[kn],xn=Cn.node,Sn=Cn.width,Mn=Cn.text;gn>pn.width&&(gn-=Sn-fn,Sn=fn,Mn=null);var In=new Polygon$1({shape:{points:makeItemPoints(un,0,Sn,hn,kn===mn.length-1,kn===0)},style:defaults(nn.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$1({style:createTextStyle$1(an,{text:Mn})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(cn,xn)});In.disableLabelAnimation=!0,In.getTextContent().ensureState("emphasis").style=createTextStyle$1(ln,{text:Mn}),In.ensureState("emphasis").style=_n,toggleHoverEmphasis(In,rn.get("focus"),rn.get("blurScope"),rn.get("disabled")),this.group.add(In),packEventData(In,en,xn),un+=Sn+ITEM_GAP}},Fe.prototype.remove=function(){this.group.removeAll()},Fe}();function makeItemPoints(Fe,en,tn,nn,rn,an){var ln=[[rn?Fe:Fe-ARRAY_LENGTH,en],[Fe+tn,en],[Fe+tn,en+nn],[rn?Fe:Fe-ARRAY_LENGTH,en+nn]];return!an&&ln.splice(2,0,[Fe+tn+ARRAY_LENGTH,en+nn/2]),!rn&&ln.push([Fe,en+nn/2]),ln}function packEventData(Fe,en,tn){getECData(Fe).eventData={componentType:"series",componentSubType:"treemap",componentIndex:en.componentIndex,seriesIndex:en.seriesIndex,seriesName:en.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:tn&&tn.dataIndex,name:tn&&tn.name},treePathInfo:tn&&wrapTreePathInfo(tn,en)}}const Breadcrumb$1=Breadcrumb;var AnimationWrap=function(){function Fe(){this._storage=[],this._elExistsMap={}}return Fe.prototype.add=function(en,tn,nn,rn,an){return this._elExistsMap[en.id]?!1:(this._elExistsMap[en.id]=!0,this._storage.push({el:en,target:tn,duration:nn,delay:rn,easing:an}),!0)},Fe.prototype.finished=function(en){return this._finishedCallback=en,this},Fe.prototype.start=function(){for(var en=this,tn=this._storage.length,nn=function(){tn--,tn<=0&&(en._storage.length=0,en._elExistsMap={},en._finishedCallback&&en._finishedCallback())},rn=0,an=this._storage.length;rn<an;rn++){var ln=this._storage[rn];ln.el.animateTo(ln.target,{duration:ln.duration,delay:ln.delay,easing:ln.easing,setToFinal:!0,done:nn,aborted:nn})}return this},Fe}();function createWrap(){return new AnimationWrap}var Group$2=Group$4,Rect$1=Rect$3,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(Fe){var en=getStateItemStyle(Fe);return en.stroke=en.fill=en.lineWidth=null,en},inner$d=makeInner(),TreemapView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn._state="ready",tn._storage=createStorage(),tn}return en.prototype.render=function(tn,nn,rn,an){var ln=nn.findComponents({mainType:"series",subType:"treemap",query:an});if(!(indexOf(ln,tn)<0)){this.seriesModel=tn,this.api=rn,this.ecModel=nn;var cn=["treemapZoomToNode","treemapRootToNode"],un=retrieveTargetInfo(an,cn,tn),fn=an&&an.type,hn=tn.layoutInfo,pn=!this._oldTree,gn=this._storage,mn=fn==="treemapRootToNode"&&un&&gn?{rootNodeGroup:gn.nodeGroup[un.node.getRawIndex()],direction:an.direction}:null,_n=this._giveContainerGroup(hn),kn=tn.get("animation"),Cn=this._doRender(_n,tn,mn);kn&&!pn&&(!fn||fn==="treemapZoomToNode"||fn==="treemapRootToNode")?this._doAnimation(_n,Cn,tn,mn):Cn.renderFinally(),this._resetController(rn),this._renderBreadcrumb(tn,rn,un)}},en.prototype._giveContainerGroup=function(tn){var nn=this._containerGroup;return nn||(nn=this._containerGroup=new Group$2,this._initEvents(nn),this.group.add(nn)),nn.x=tn.x,nn.y=tn.y,nn},en.prototype._doRender=function(tn,nn,rn){var an=nn.getData().tree,ln=this._oldTree,cn=createStorage(),un=createStorage(),fn=this._storage,hn=[];function pn(Cn,xn,Sn,Mn){return renderNode(nn,un,fn,rn,cn,hn,Cn,xn,Sn,Mn)}mn(an.root?[an.root]:[],ln&&ln.root?[ln.root]:[],tn,an===ln||!ln,0);var gn=_n(fn);return this._oldTree=an,this._storage=un,{lastsForAnimation:cn,willDeleteEls:gn,renderFinally:kn};function mn(Cn,xn,Sn,Mn,In){Mn?(xn=Cn,each$f(Cn,function(Tn,Nn){!Tn.isRemoved()&&Pn(Nn,Nn)})):new DataDiffer$1(xn,Cn,On,On).add(Pn).update(Pn).remove(curry$1(Pn,null)).execute();function On(Tn){return Tn.getId()}function Pn(Tn,Nn){var Hn=Tn!=null?Cn[Tn]:null,Un=Nn!=null?xn[Nn]:null,jn=pn(Hn,Un,Sn,In);jn&&mn(Hn&&Hn.viewChildren||[],Un&&Un.viewChildren||[],jn,Mn,In+1)}}function _n(Cn){var xn=createStorage();return Cn&&each$f(Cn,function(Sn,Mn){var In=xn[Mn];each$f(Sn,function(On){On&&(In.push(On),inner$d(On).willDelete=!0)})}),xn}function kn(){each$f(gn,function(Cn){each$f(Cn,function(xn){xn.parent&&xn.parent.remove(xn)})}),each$f(hn,function(Cn){Cn.invisible=!0,Cn.dirty()})}},en.prototype._doAnimation=function(tn,nn,rn,an){var ln=rn.get("animationDurationUpdate"),cn=rn.get("animationEasing"),un=(isFunction(ln)?0:ln)||0,fn=(isFunction(cn)?null:cn)||"cubicOut",hn=createWrap();each$f(nn.willDeleteEls,function(pn,gn){each$f(pn,function(mn,_n){if(!mn.invisible){var kn=mn.parent,Cn,xn=inner$d(kn);if(an&&an.direction==="drillDown")Cn=kn===an.rootNodeGroup?{shape:{x:0,y:0,width:xn.nodeWidth,height:xn.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Sn=0,Mn=0;xn.willDelete||(Sn=xn.nodeWidth/2,Mn=xn.nodeHeight/2),Cn=gn==="nodeGroup"?{x:Sn,y:Mn,style:{opacity:0}}:{shape:{x:Sn,y:Mn,width:0,height:0},style:{opacity:0}}}Cn&&hn.add(mn,Cn,un,0,fn)}})}),each$f(this._storage,function(pn,gn){each$f(pn,function(mn,_n){var kn=nn.lastsForAnimation[gn][_n],Cn={};kn&&(mn instanceof Group$4?kn.oldX!=null&&(Cn.x=mn.x,Cn.y=mn.y,mn.x=kn.oldX,mn.y=kn.oldY):(kn.oldShape&&(Cn.shape=extend$1({},mn.shape),mn.setShape(kn.oldShape)),kn.fadein?(mn.setStyle("opacity",0),Cn.style={opacity:1}):mn.style.opacity!==1&&(Cn.style={opacity:1})),hn.add(mn,Cn,un,0,fn))})},this),this._state="animating",hn.finished(bind$1(function(){this._state="ready",nn.renderFinally()},this)).start()},en.prototype._resetController=function(tn){var nn=this._controller;nn||(nn=this._controller=new RoamController$1(tn.getZr()),nn.enable(this.seriesModel.get("roam")),nn.on("pan",bind$1(this._onPan,this)),nn.on("zoom",bind$1(this._onZoom,this)));var rn=new BoundingRect$1(0,0,tn.getWidth(),tn.getHeight());nn.setPointerChecker(function(an,ln,cn){return rn.contain(ln,cn)})},en.prototype._clearController=function(){var tn=this._controller;tn&&(tn.dispose(),tn=null)},en.prototype._onPan=function(tn){if(this._state!=="animating"&&(Math.abs(tn.dx)>DRAG_THRESHOLD||Math.abs(tn.dy)>DRAG_THRESHOLD)){var nn=this.seriesModel.getData().tree.root;if(!nn)return;var rn=nn.getLayout();if(!rn)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rn.x+tn.dx,y:rn.y+tn.dy,width:rn.width,height:rn.height}})}},en.prototype._onZoom=function(tn){var nn=tn.originX,rn=tn.originY;if(this._state!=="animating"){var an=this.seriesModel.getData().tree.root;if(!an)return;var ln=an.getLayout();if(!ln)return;var cn=new BoundingRect$1(ln.x,ln.y,ln.width,ln.height),un=this.seriesModel.layoutInfo;nn-=un.x,rn-=un.y;var fn=create$1();translate(fn,fn,[-nn,-rn]),scale$1(fn,fn,[tn.scale,tn.scale]),translate(fn,fn,[nn,rn]),cn.applyTransform(fn),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:cn.x,y:cn.y,width:cn.width,height:cn.height}})}},en.prototype._initEvents=function(tn){var nn=this;tn.on("click",function(rn){if(nn._state==="ready"){var an=nn.seriesModel.get("nodeClick",!0);if(an){var ln=nn.findTarget(rn.offsetX,rn.offsetY);if(ln){var cn=ln.node;if(cn.getLayout().isLeafRoot)nn._rootToNode(ln);else if(an==="zoomToNode")nn._zoomToNode(ln);else if(an==="link"){var un=cn.hostTree.data.getItemModel(cn.dataIndex),fn=un.get("link",!0),hn=un.get("target",!0)||"blank";fn&&windowOpen(fn,hn)}}}}},this)},en.prototype._renderBreadcrumb=function(tn,nn,rn){var an=this;rn||(rn=tn.get("leafDepth",!0)!=null?{node:tn.getViewRoot()}:this.findTarget(nn.getWidth()/2,nn.getHeight()/2),rn||(rn={node:tn.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$1(this.group))).render(tn,nn,rn.node,function(ln){an._state!=="animating"&&(aboveViewRoot(tn.getViewRoot(),ln)?an._rootToNode({node:ln}):an._zoomToNode({node:ln}))})},en.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},en.prototype.dispose=function(){this._clearController()},en.prototype._zoomToNode=function(tn){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:tn.node})},en.prototype._rootToNode=function(tn){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:tn.node})},en.prototype.findTarget=function(tn,nn){var rn,an=this.seriesModel.getViewRoot();return an.eachNode({attr:"viewChildren",order:"preorder"},function(ln){var cn=this._storage.background[ln.getRawIndex()];if(cn){var un=cn.transformCoordToLocal(tn,nn),fn=cn.shape;if(fn.x<=un[0]&&un[0]<=fn.x+fn.width&&fn.y<=un[1]&&un[1]<=fn.y+fn.height)rn={node:ln,offsetX:un[0],offsetY:un[1]};else return!1}},this),rn},en.type="treemap",en}(ChartView$1);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(Fe,en,tn,nn,rn,an,ln,cn,un,fn){if(!ln)return;var hn=ln.getLayout(),pn=Fe.getData(),gn=ln.getModel();if(pn.setItemGraphicEl(ln.dataIndex,null),!hn||!hn.isInView)return;var mn=hn.width,_n=hn.height,kn=hn.borderWidth,Cn=hn.invisible,xn=ln.getRawIndex(),Sn=cn&&cn.getRawIndex(),Mn=ln.viewChildren,In=hn.upperHeight,On=Mn&&Mn.length,Pn=gn.getModel("itemStyle"),Tn=gn.getModel(["emphasis","itemStyle"]),Nn=gn.getModel(["blur","itemStyle"]),Hn=gn.getModel(["select","itemStyle"]),Un=Pn.get("borderRadius")||0,jn=oi("nodeGroup",Group$2);if(!jn)return;if(un.add(jn),jn.x=hn.x||0,jn.y=hn.y||0,jn.markRedraw(),inner$d(jn).nodeWidth=mn,inner$d(jn).nodeHeight=_n,hn.isAboveViewRoot)return jn;var Yn=oi("background",Rect$1,fn,Z2_BG);Yn&&ci(jn,Yn,On&&hn.upperLabelHeight);var Wn=gn.getModel("emphasis"),Qn=Wn.get("focus"),Xn=Wn.get("blurScope"),jr=Wn.get("disabled"),Wr=Qn==="ancestor"?ln.getAncestorsIndices():Qn==="descendant"?ln.getDescendantIndices():Qn;if(On)isHighDownDispatcher(jn)&&setAsHighDownDispatcher(jn,!1),Yn&&(setAsHighDownDispatcher(Yn,!jr),pn.setItemGraphicEl(ln.dataIndex,Yn),enableHoverFocus(Yn,Wr,Xn));else{var Jr=oi("content",Rect$1,fn,Z2_CONTENT);Jr&&ti(jn,Jr),Yn.disableMorphing=!0,Yn&&isHighDownDispatcher(Yn)&&setAsHighDownDispatcher(Yn,!1),setAsHighDownDispatcher(jn,!jr),pn.setItemGraphicEl(ln.dataIndex,jn),enableHoverFocus(jn,Wr,Xn)}return jn;function ci(fi,yi,Si){var Pi=getECData(yi);if(Pi.dataIndex=ln.dataIndex,Pi.seriesIndex=Fe.seriesIndex,yi.setShape({x:0,y:0,width:mn,height:_n,r:Un}),Cn)Zr(yi);else{yi.invisible=!1;var Ui=ln.getVisual("style"),ji=Ui.stroke,go=getItemStyleNormal(Pn);go.fill=ji;var po=getStateItemStyle(Tn);po.fill=Tn.get("borderColor");var Yi=getStateItemStyle(Nn);Yi.fill=Nn.get("borderColor");var Fo=getStateItemStyle(Hn);if(Fo.fill=Hn.get("borderColor"),Si){var Po=mn-2*kn;Br(yi,ji,Ui.opacity,{x:kn,y:0,width:Po,height:In})}else yi.removeTextContent();yi.setStyle(go),yi.ensureState("emphasis").style=po,yi.ensureState("blur").style=Yi,yi.ensureState("select").style=Fo,setDefaultStateProxy(yi)}fi.add(yi)}function ti(fi,yi){var Si=getECData(yi);Si.dataIndex=ln.dataIndex,Si.seriesIndex=Fe.seriesIndex;var Pi=Math.max(mn-2*kn,0),Ui=Math.max(_n-2*kn,0);if(yi.culling=!0,yi.setShape({x:kn,y:kn,width:Pi,height:Ui,r:Un}),Cn)Zr(yi);else{yi.invisible=!1;var ji=ln.getVisual("style"),go=ji.fill,po=getItemStyleNormal(Pn);po.fill=go,po.decal=ji.decal;var Yi=getStateItemStyle(Tn),Fo=getStateItemStyle(Nn),Po=getStateItemStyle(Hn);Br(yi,go,ji.opacity,null),yi.setStyle(po),yi.ensureState("emphasis").style=Yi,yi.ensureState("blur").style=Fo,yi.ensureState("select").style=Po,setDefaultStateProxy(yi)}fi.add(yi)}function Zr(fi){!fi.invisible&&an.push(fi)}function Br(fi,yi,Si,Pi){var Ui=gn.getModel(Pi?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),ji=convertOptionIdName(gn.get("name"),null),go=Ui.getShallow("show");setLabelStyle(fi,getLabelStatesModels(gn,Pi?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:go?ji:null,inheritColor:yi,defaultOpacity:Si,labelFetcher:Fe,labelDataIndex:ln.dataIndex});var po=fi.getTextContent();if(po){var Yi=po.style,Fo=normalizeCssArray$1(Yi.padding||0);Pi&&(fi.setTextConfig({layoutRect:Pi}),po.disableLabelLayout=!0),po.beforeUpdate=function(){var Oi=Math.max((Pi?Pi.width:fi.shape.width)-Fo[1]-Fo[3],0),Wi=Math.max((Pi?Pi.height:fi.shape.height)-Fo[0]-Fo[2],0);(Yi.width!==Oi||Yi.height!==Wi)&&po.setStyle({width:Oi,height:Wi})},Yi.truncateMinChar=2,Yi.lineOverflow="truncate",Jn(Yi,Pi,hn);var Po=po.getState("emphasis");Jn(Po?Po.style:null,Pi,hn)}}function Jn(fi,yi,Si){var Pi=fi?fi.text:null;if(!yi&&Si.isLeafRoot&&Pi!=null){var Ui=Fe.get("drillDownIcon",!0);fi.text=Ui?Ui+" "+Pi:Pi}}function oi(fi,yi,Si,Pi){var Ui=Sn!=null&&tn[fi][Sn],ji=rn[fi];return Ui?(tn[fi][Sn]=null,pi(ji,Ui)):Cn||(Ui=new yi,Ui instanceof Displayable$1&&(Ui.z2=calculateZ2(Si,Pi)),ri(ji,Ui)),en[fi][xn]=Ui}function pi(fi,yi){var Si=fi[xn]={};yi instanceof Group$2?(Si.oldX=yi.x,Si.oldY=yi.y):Si.oldShape=extend$1({},yi.shape)}function ri(fi,yi){var Si=fi[xn]={},Pi=ln.parentNode,Ui=yi instanceof Group$4;if(Pi&&(!nn||nn.direction==="drillDown")){var ji=0,go=0,po=rn.background[Pi.getRawIndex()];!nn&&po&&po.oldShape&&(ji=po.oldShape.width,go=po.oldShape.height),Ui?(Si.oldX=0,Si.oldY=go):Si.oldShape={x:ji,y:go,width:0,height:0}}Si.fadein=!Ui}}function calculateZ2(Fe,en){return Fe*Z2_BASE+en}const TreemapView$1=TreemapView;var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function Fe(en){var tn=en.mappingMethod,nn=en.type,rn=this.option=clone$4(en);this.type=nn,this.mappingMethod=tn,this._normalizeData=normalizers[tn];var an=Fe.visualHandlers[nn];this.applyVisual=an.applyVisual,this.getColorMapper=an.getColorMapper,this._normalizedToVisual=an._normalizedToVisual[tn],tn==="piecewise"?(normalizeVisualRange(rn),preprocessForPiecewise(rn)):tn==="category"?rn.categories?preprocessForSpecifiedCategory(rn):normalizeVisualRange(rn,!0):(assert(tn!=="linear"||rn.dataExtent),normalizeVisualRange(rn))}return Fe.prototype.mapValueToVisual=function(en){var tn=this._normalizeData(en);return this._normalizedToVisual(tn,en)},Fe.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},Fe.listVisualTypes=function(){return keys(Fe.visualHandlers)},Fe.isValidType=function(en){return Fe.visualHandlers.hasOwnProperty(en)},Fe.eachVisual=function(en,tn,nn){isObject$3(en)?each$f(en,tn,nn):tn.call(nn,en)},Fe.mapVisual=function(en,tn,nn){var rn,an=isArray$1(en)?[]:isObject$3(en)?{}:(rn=!0,null);return Fe.eachVisual(en,function(ln,cn){var un=tn.call(nn,ln,cn);rn?an=un:an[cn]=un}),an},Fe.retrieveVisuals=function(en){var tn={},nn;return en&&each$c(Fe.visualHandlers,function(rn,an){en.hasOwnProperty(an)&&(tn[an]=en[an],nn=!0)}),nn?tn:null},Fe.prepareVisualTypes=function(en){if(isArray$1(en))en=en.slice();else if(isObject(en)){var tn=[];each$c(en,function(nn,rn){tn.push(rn)}),en=tn}else return[];return en.sort(function(nn,rn){return rn==="color"&&nn!=="color"&&nn.indexOf("color")===0?1:-1}),en},Fe.dependsOn=function(en,tn){return tn==="color"?!!(en&&en.indexOf(tn)===0):en===tn},Fe.findPieceIndex=function(en,tn,nn){for(var rn,an=1/0,ln=0,cn=tn.length;ln<cn;ln++){var un=tn[ln].value;if(un!=null){if(un===en||isString(un)&&un===en+"")return ln;nn&&gn(un,ln)}}for(var ln=0,cn=tn.length;ln<cn;ln++){var fn=tn[ln],hn=fn.interval,pn=fn.close;if(hn){if(hn[0]===-1/0){if(littleThan(pn[1],en,hn[1]))return ln}else if(hn[1]===1/0){if(littleThan(pn[0],hn[0],en))return ln}else if(littleThan(pn[0],hn[0],en)&&littleThan(pn[1],en,hn[1]))return ln;nn&&gn(hn[0],ln),nn&&gn(hn[1],ln)}}if(nn)return en===1/0?tn.length-1:en===-1/0?0:rn;function gn(mn,_n){var kn=Math.abs(mn-en);kn<an&&(an=kn,rn=_n)}},Fe.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var en=this.option;return bind$1(en.mappingMethod==="category"?function(tn,nn){return!nn&&(tn=this._normalizeData(tn)),doMapCategory.call(this,tn)}:function(tn,nn,rn){var an=!!rn;return!nn&&(tn=this._normalizeData(tn)),rn=fastLerp(tn,en.parsedVisual,rn),an?rn:stringify(rn,"rgba")},this)},_normalizedToVisual:{linear:function(en){return stringify(fastLerp(en,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(en,tn){var nn=getSpecifiedVisual.call(this,tn);return nn==null&&(nn=stringify(fastLerp(en,this.option.parsedVisual),"rgba")),nn},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(en,tn){return modifyHSL(en,tn)}),colorSaturation:makePartialColorVisualHandler(function(en,tn){return modifyHSL(en,null,tn)}),colorLightness:makePartialColorVisualHandler(function(en,tn){return modifyHSL(en,null,null,tn)}),colorAlpha:makePartialColorVisualHandler(function(en,tn){return modifyAlpha(en,tn)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(en,tn,nn){var rn=this.mapValueToVisual(en);nn("symbol",rn)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(en,tn){var nn=getSpecifiedVisual.call(this,tn);return nn==null&&(nn=doMapToArray.call(this,en)),nn},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},Fe}();function preprocessForPiecewise(Fe){var en=Fe.pieceList;Fe.hasSpecialVisual=!1,each$f(en,function(tn,nn){tn.originIndex=nn,tn.visual!=null&&(Fe.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(Fe){var en=Fe.categories,tn=Fe.categoryMap={},nn=Fe.visual;if(each$c(en,function(ln,cn){tn[ln]=cn}),!isArray$1(nn)){var rn=[];isObject$3(nn)?each$c(nn,function(ln,cn){var un=tn[cn];rn[un??CATEGORY_DEFAULT_VISUAL_INDEX]=ln}):rn[CATEGORY_DEFAULT_VISUAL_INDEX]=nn,nn=setVisualToOption(Fe,rn)}for(var an=en.length-1;an>=0;an--)nn[an]==null&&(delete tn[en[an]],en.pop())}function normalizeVisualRange(Fe,en){var tn=Fe.visual,nn=[];isObject$3(tn)?each$c(tn,function(an){nn.push(an)}):tn!=null&&nn.push(tn);var rn={color:1,symbol:1};!en&&nn.length===1&&!rn.hasOwnProperty(Fe.type)&&(nn[1]=nn[0]),setVisualToOption(Fe,nn)}function makePartialColorVisualHandler(Fe){return{applyVisual:function(en,tn,nn){var rn=this.mapValueToVisual(en);nn("color",Fe(tn("color"),rn))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(Fe){var en=this.option.visual;return en[Math.round(linearMap$2(Fe,[0,1],[0,en.length-1],!0))]||{}}function makeApplyVisual(Fe){return function(en,tn,nn){nn(Fe,this.mapValueToVisual(en))}}function doMapCategory(Fe){var en=this.option.visual;return en[this.option.loop&&Fe!==CATEGORY_DEFAULT_VISUAL_INDEX?Fe%en.length:Fe]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(Fe){return{linear:function(en){return linearMap$2(en,Fe,this.option.visual,!0)},category:doMapCategory,piecewise:function(en,tn){var nn=getSpecifiedVisual.call(this,tn);return nn==null&&(nn=linearMap$2(en,Fe,this.option.visual,!0)),nn},fixed:doMapFixed}}function getSpecifiedVisual(Fe){var en=this.option,tn=en.pieceList;if(en.hasSpecialVisual){var nn=VisualMapping.findPieceIndex(Fe,tn),rn=tn[nn];if(rn&&rn.visual)return rn.visual[this.type]}}function setVisualToOption(Fe,en){return Fe.visual=en,Fe.type==="color"&&(Fe.parsedVisual=map$1(en,function(tn){var nn=parse(tn);return nn||[0,0,0,1]})),en}var normalizers={linear:function(Fe){return linearMap$2(Fe,this.option.dataExtent,[0,1],!0)},piecewise:function(Fe){var en=this.option.pieceList,tn=VisualMapping.findPieceIndex(Fe,en,!0);if(tn!=null)return linearMap$2(tn,[0,en.length-1],[0,1],!0)},category:function(Fe){var en=this.option.categories?this.option.categoryMap[Fe]:Fe;return en??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop};function littleThan(Fe,en,tn){return Fe?en<=tn:en<tn}const VisualMapping$1=VisualMapping;var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(Fe){var en=Fe.getData().tree,tn=en.root;tn.isRemoved()||travelTree(tn,{},Fe.getViewRoot().getAncestors(),Fe)}};function travelTree(Fe,en,tn,nn){var rn=Fe.getModel(),an=Fe.getLayout(),ln=Fe.hostTree.data;if(!(!an||an.invisible||!an.isInView)){var cn=rn.getModel(ITEM_STYLE_NORMAL),un=buildVisuals(cn,en,nn),fn=ln.ensureUniqueItemVisual(Fe.dataIndex,"style"),hn=cn.get("borderColor"),pn=cn.get("borderColorSaturation"),gn;pn!=null&&(gn=calculateColor(un),hn=calculateBorderColor(pn,gn)),fn.stroke=hn;var mn=Fe.viewChildren;if(!mn||!mn.length)gn=calculateColor(un),fn.fill=gn;else{var _n=buildVisualMapping(Fe,rn,an,cn,un,mn);each$f(mn,function(kn,Cn){if(kn.depth>=tn.length||kn===tn[kn.depth]){var xn=mapVisual$1(rn,un,kn,Cn,_n,nn);travelTree(kn,xn,tn,nn)}})}}}function buildVisuals(Fe,en,tn){var nn=extend$1({},en),rn=tn.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(an){rn[an]=en[an];var ln=Fe.get(an);rn[an]=null,ln!=null&&(nn[an]=ln)}),nn}function calculateColor(Fe){var en=getValueVisualDefine(Fe,"color");if(en){var tn=getValueVisualDefine(Fe,"colorAlpha"),nn=getValueVisualDefine(Fe,"colorSaturation");return nn&&(en=modifyHSL(en,null,null,nn)),tn&&(en=modifyAlpha(en,tn)),en}}function calculateBorderColor(Fe,en){return en!=null?modifyHSL(en,null,null,Fe):null}function getValueVisualDefine(Fe,en){var tn=Fe[en];if(tn!=null&&tn!=="none")return tn}function buildVisualMapping(Fe,en,tn,nn,rn,an){if(!(!an||!an.length)){var ln=getRangeVisual(en,"color")||rn.color!=null&&rn.color!=="none"&&(getRangeVisual(en,"colorAlpha")||getRangeVisual(en,"colorSaturation"));if(ln){var cn=en.get("visualMin"),un=en.get("visualMax"),fn=tn.dataExtent.slice();cn!=null&&cn<fn[0]&&(fn[0]=cn),un!=null&&un>fn[1]&&(fn[1]=un);var hn=en.get("colorMappingBy"),pn={type:ln.name,dataExtent:fn,visual:ln.range};pn.type==="color"&&(hn==="index"||hn==="id")?(pn.mappingMethod="category",pn.loop=!0):pn.mappingMethod="linear";var gn=new VisualMapping$1(pn);return inner$c(gn).drColorMappingBy=hn,gn}}}function getRangeVisual(Fe,en){var tn=Fe.get(en);return isArray$1(tn)&&tn.length?{name:en,range:tn}:null}function mapVisual$1(Fe,en,tn,nn,rn,an){var ln=extend$1({},en);if(rn){var cn=rn.type,un=cn==="color"&&inner$c(rn).drColorMappingBy,fn=un==="index"?nn:un==="id"?an.mapIdToIndex(tn.getId()):tn.getValue(Fe.get("visualDimension"));ln[cn]=rn.mapValueToVisual(fn)}return ln}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(Fe,en,tn,nn){var rn=tn.getWidth(),an=tn.getHeight(),ln=Fe.option,cn=getLayoutRect(Fe.getBoxLayoutParams(),{width:tn.getWidth(),height:tn.getHeight()}),un=ln.size||[],fn=parsePercent(retrieveValue(cn.width,un[0]),rn),hn=parsePercent(retrieveValue(cn.height,un[1]),an),pn=nn&&nn.type,gn=["treemapZoomToNode","treemapRootToNode"],mn=retrieveTargetInfo(nn,gn,Fe),_n=pn==="treemapRender"||pn==="treemapMove"?nn.rootRect:null,kn=Fe.getViewRoot(),Cn=getPathToRoot(kn);if(pn!=="treemapMove"){var xn=pn==="treemapZoomToNode"?estimateRootSize(Fe,mn,kn,fn,hn):_n?[_n.width,_n.height]:[fn,hn],Sn=ln.sort;Sn&&Sn!=="asc"&&Sn!=="desc"&&(Sn="desc");var Mn={squareRatio:ln.squareRatio,sort:Sn,leafDepth:ln.leafDepth};kn.hostTree.clearLayouts();var In={x:0,y:0,width:xn[0],height:xn[1],area:xn[0]*xn[1]};kn.setLayout(In),squarify(kn,Mn,!1,0),In=kn.getLayout(),each$b(Cn,function(Pn,Tn){var Nn=(Cn[Tn+1]||kn).getValue();Pn.setLayout(extend$1({dataExtent:[Nn,Nn],borderWidth:0,upperHeight:0},In))})}var On=Fe.getData().tree.root;On.setLayout(calculateRootPosition(cn,_n,mn),!0),Fe.setLayoutInfo(cn),prunning(On,new BoundingRect$1(-cn.x,-cn.y,rn,an),Cn,kn,0)}};function squarify(Fe,en,tn,nn){var rn,an;if(!Fe.isRemoved()){var ln=Fe.getLayout();rn=ln.width,an=ln.height;var cn=Fe.getModel(),un=cn.get(PATH_BORDER_WIDTH),fn=cn.get(PATH_GAP_WIDTH)/2,hn=getUpperLabelHeight(cn),pn=Math.max(un,hn),gn=un-fn,mn=pn-fn;Fe.setLayout({borderWidth:un,upperHeight:pn,upperLabelHeight:hn},!0),rn=mathMax$3(rn-2*gn,0),an=mathMax$3(an-gn-mn,0);var _n=rn*an,kn=initChildren$1(Fe,cn,_n,en,tn,nn);if(kn.length){var Cn={x:gn,y:mn,width:rn,height:an},xn=mathMin$3(rn,an),Sn=1/0,Mn=[];Mn.area=0;for(var In=0,On=kn.length;In<On;){var Pn=kn[In];Mn.push(Pn),Mn.area+=Pn.getLayout().area;var Tn=worst(Mn,xn,en.squareRatio);Tn<=Sn?(In++,Sn=Tn):(Mn.area-=Mn.pop().getLayout().area,position(Mn,xn,Cn,fn,!1),xn=mathMin$3(Cn.width,Cn.height),Mn.length=Mn.area=0,Sn=1/0)}if(Mn.length&&position(Mn,xn,Cn,fn,!0),!tn){var Nn=cn.get("childrenVisibleMin");Nn!=null&&_n<Nn&&(tn=!0)}for(var In=0,On=kn.length;In<On;In++)squarify(kn[In],en,tn,nn+1)}}}function initChildren$1(Fe,en,tn,nn,rn,an){var ln=Fe.children||[],cn=nn.sort;cn!=="asc"&&cn!=="desc"&&(cn=null);var un=nn.leafDepth!=null&&nn.leafDepth<=an;if(rn&&!un)return Fe.viewChildren=[];ln=filter(ln,function(mn){return!mn.isRemoved()}),sort$1(ln,cn);var fn=statistic(en,ln,cn);if(fn.sum===0)return Fe.viewChildren=[];if(fn.sum=filterByThreshold(en,tn,fn.sum,cn,ln),fn.sum===0)return Fe.viewChildren=[];for(var hn=0,pn=ln.length;hn<pn;hn++){var gn=ln[hn].getValue()/fn.sum*tn;ln[hn].setLayout({area:gn})}return un&&(ln.length&&Fe.setLayout({isLeafRoot:!0},!0),ln.length=0),Fe.viewChildren=ln,Fe.setLayout({dataExtent:fn.dataExtent},!0),ln}function filterByThreshold(Fe,en,tn,nn,rn){if(!nn)return tn;for(var an=Fe.get("visibleMin"),ln=rn.length,cn=ln,un=ln-1;un>=0;un--){var fn=rn[nn==="asc"?ln-un-1:un].getValue();fn/tn*en<an&&(cn=un,tn-=fn)}return nn==="asc"?rn.splice(0,ln-cn):rn.splice(cn,ln-cn),tn}function sort$1(Fe,en){return en&&Fe.sort(function(tn,nn){var rn=en==="asc"?tn.getValue()-nn.getValue():nn.getValue()-tn.getValue();return rn===0?en==="asc"?tn.dataIndex-nn.dataIndex:nn.dataIndex-tn.dataIndex:rn}),Fe}function statistic(Fe,en,tn){for(var nn=0,rn=0,an=en.length;rn<an;rn++)nn+=en[rn].getValue();var ln=Fe.get("visualDimension"),cn;return!en||!en.length?cn=[NaN,NaN]:ln==="value"&&tn?(cn=[en[en.length-1].getValue(),en[0].getValue()],tn==="asc"&&cn.reverse()):(cn=[1/0,-1/0],each$b(en,function(un){var fn=un.getValue(ln);fn<cn[0]&&(cn[0]=fn),fn>cn[1]&&(cn[1]=fn)})),{sum:nn,dataExtent:cn}}function worst(Fe,en,tn){for(var nn=0,rn=1/0,an=0,ln=void 0,cn=Fe.length;an<cn;an++)ln=Fe[an].getLayout().area,ln&&(ln<rn&&(rn=ln),ln>nn&&(nn=ln));var un=Fe.area*Fe.area,fn=en*en*tn;return un?mathMax$3(fn*nn/un,un/(fn*rn)):1/0}function position(Fe,en,tn,nn,rn){var an=en===tn.width?0:1,ln=1-an,cn=["x","y"],un=["width","height"],fn=tn[cn[an]],hn=en?Fe.area/en:0;(rn||hn>tn[un[ln]])&&(hn=tn[un[ln]]);for(var pn=0,gn=Fe.length;pn<gn;pn++){var mn=Fe[pn],_n={},kn=hn?mn.getLayout().area/hn:0,Cn=_n[un[ln]]=mathMax$3(hn-2*nn,0),xn=tn[cn[an]]+tn[un[an]]-fn,Sn=pn===gn-1||xn<kn?xn:kn,Mn=_n[un[an]]=mathMax$3(Sn-2*nn,0);_n[cn[ln]]=tn[cn[ln]]+mathMin$3(nn,Cn/2),_n[cn[an]]=fn+mathMin$3(nn,Mn/2),fn+=Sn,mn.setLayout(_n,!0)}tn[cn[ln]]+=hn,tn[un[ln]]-=hn}function estimateRootSize(Fe,en,tn,nn,rn){var an=(en||{}).node,ln=[nn,rn];if(!an||an===tn)return ln;for(var cn,un=nn*rn,fn=un*Fe.option.zoomToNodeRatio;cn=an.parentNode;){for(var hn=0,pn=cn.children,gn=0,mn=pn.length;gn<mn;gn++)hn+=pn[gn].getValue();var _n=an.getValue();if(_n===0)return ln;fn*=hn/_n;var kn=cn.getModel(),Cn=kn.get(PATH_BORDER_WIDTH),xn=Math.max(Cn,getUpperLabelHeight(kn));fn+=4*Cn*Cn+(3*Cn+xn)*Math.pow(fn,.5),fn>MAX_SAFE_INTEGER&&(fn=MAX_SAFE_INTEGER),an=cn}fn<un&&(fn=un);var Sn=Math.pow(fn/un,.5);return[nn*Sn,rn*Sn]}function calculateRootPosition(Fe,en,tn){if(en)return{x:en.x,y:en.y};var nn={x:0,y:0};if(!tn)return nn;var rn=tn.node,an=rn.getLayout();if(!an)return nn;for(var ln=[an.width/2,an.height/2],cn=rn;cn;){var un=cn.getLayout();ln[0]+=un.x,ln[1]+=un.y,cn=cn.parentNode}return{x:Fe.width/2-ln[0],y:Fe.height/2-ln[1]}}function prunning(Fe,en,tn,nn,rn){var an=Fe.getLayout(),ln=tn[rn],cn=ln&&ln===Fe;if(!(ln&&!cn||rn===tn.length&&Fe!==nn)){Fe.setLayout({isInView:!0,invisible:!cn&&!en.intersect(an),isAboveViewRoot:cn},!0);var un=new BoundingRect$1(en.x-an.x,en.y-an.y,en.width,en.height);each$b(Fe.viewChildren||[],function(fn){prunning(fn,un,tn,nn,rn+1)})}}function getUpperLabelHeight(Fe){return Fe.get(PATH_UPPER_LABEL_SHOW)?Fe.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(Fe){Fe.registerSeriesModel(TreemapSeriesModel$1),Fe.registerChartView(TreemapView$1),Fe.registerVisual(treemapVisual),Fe.registerLayout(treemapLayout),installTreemapAction(Fe)}function categoryFilter(Fe){var en=Fe.findComponents({mainType:"legend"});!en||!en.length||Fe.eachSeriesByType("graph",function(tn){var nn=tn.getCategoriesData(),rn=tn.getGraph(),an=rn.data,ln=nn.mapArray(nn.getName);an.filterSelf(function(cn){var un=an.getItemModel(cn),fn=un.getShallow("category");if(fn!=null){isNumber(fn)&&(fn=ln[fn]);for(var hn=0;hn<en.length;hn++)if(!en[hn].isSelected(fn))return!1}return!0})})}function categoryVisual(Fe){var en={};Fe.eachSeriesByType("graph",function(tn){var nn=tn.getCategoriesData(),rn=tn.getData(),an={};nn.each(function(ln){var cn=nn.getName(ln);an["ec-"+cn]=ln;var un=nn.getItemModel(ln),fn=un.getModel("itemStyle").getItemStyle();fn.fill||(fn.fill=tn.getColorFromPalette(cn,en)),nn.setItemVisual(ln,"style",fn);for(var hn=["symbol","symbolSize","symbolKeepAspect"],pn=0;pn<hn.length;pn++){var gn=un.getShallow(hn[pn],!0);gn!=null&&nn.setItemVisual(ln,hn[pn],gn)}}),nn.count()&&rn.each(function(ln){var cn=rn.getItemModel(ln),un=cn.getShallow("category");if(un!=null){isString(un)&&(un=an["ec-"+un]);var fn=nn.getItemVisual(un,"style"),hn=rn.ensureUniqueItemVisual(ln,"style");extend$1(hn,fn);for(var pn=["symbol","symbolSize","symbolKeepAspect"],gn=0;gn<pn.length;gn++)rn.setItemVisual(ln,pn[gn],nn.getItemVisual(un,pn[gn]))}})})}function normalize$1(Fe){return Fe instanceof Array||(Fe=[Fe,Fe]),Fe}function graphEdgeVisual(Fe){Fe.eachSeriesByType("graph",function(en){var tn=en.getGraph(),nn=en.getEdgeData(),rn=normalize$1(en.get("edgeSymbol")),an=normalize$1(en.get("edgeSymbolSize"));nn.setVisual("fromSymbol",rn&&rn[0]),nn.setVisual("toSymbol",rn&&rn[1]),nn.setVisual("fromSymbolSize",an&&an[0]),nn.setVisual("toSymbolSize",an&&an[1]),nn.setVisual("style",en.getModel("lineStyle").getLineStyle()),nn.each(function(ln){var cn=nn.getItemModel(ln),un=tn.getEdgeByIndex(ln),fn=normalize$1(cn.getShallow("symbol",!0)),hn=normalize$1(cn.getShallow("symbolSize",!0)),pn=cn.getModel("lineStyle").getLineStyle(),gn=nn.ensureUniqueItemVisual(ln,"style");switch(extend$1(gn,pn),gn.stroke){case"source":{var mn=un.node1.getVisual("style");gn.stroke=mn&&mn.fill;break}case"target":{var mn=un.node2.getVisual("style");gn.stroke=mn&&mn.fill;break}}fn[0]&&un.setVisual("fromSymbol",fn[0]),fn[1]&&un.setVisual("toSymbol",fn[1]),hn[0]&&un.setVisual("fromSymbolSize",hn[0]),hn[1]&&un.setVisual("toSymbolSize",hn[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(Fe){return Fe.get("autoCurveness")||null},createCurveness=function(Fe,en){var tn=getAutoCurvenessParams(Fe),nn=20,rn=[];if(isNumber(tn))nn=tn;else if(isArray$1(tn)){Fe.__curvenessList=tn;return}en>nn&&(nn=en);var an=nn%2?nn+2:nn+3;rn=[];for(var ln=0;ln<an;ln++)rn.push((ln%2?ln+1:ln)/10*(ln%2?-1:1));Fe.__curvenessList=rn},getKeyOfEdges=function(Fe,en,tn){var nn=[Fe.id,Fe.dataIndex].join("."),rn=[en.id,en.dataIndex].join(".");return[tn.uid,nn,rn].join(KEY_DELIMITER)},getOppositeKey=function(Fe){var en=Fe.split(KEY_DELIMITER);return[en[0],en[2],en[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(Fe,en){var tn=getKeyOfEdges(Fe.node1,Fe.node2,en);return en.__edgeMap[tn]},getTotalLengthBetweenNodes=function(Fe,en){var tn=getEdgeMapLengthWithKey(getKeyOfEdges(Fe.node1,Fe.node2,en),en),nn=getEdgeMapLengthWithKey(getKeyOfEdges(Fe.node2,Fe.node1,en),en);return tn+nn},getEdgeMapLengthWithKey=function(Fe,en){var tn=en.__edgeMap;return tn[Fe]?tn[Fe].length:0};function initCurvenessList(Fe){getAutoCurvenessParams(Fe)&&(Fe.__curvenessList=[],Fe.__edgeMap={},createCurveness(Fe))}function createEdgeMapForCurveness(Fe,en,tn,nn){if(getAutoCurvenessParams(tn)){var rn=getKeyOfEdges(Fe,en,tn),an=tn.__edgeMap,ln=an[getOppositeKey(rn)];an[rn]&&!ln?an[rn].isForward=!0:ln&&an[rn]&&(ln.isForward=!0,an[rn].isForward=!1),an[rn]=an[rn]||[],an[rn].push(nn)}}function getCurvenessForEdge(Fe,en,tn,nn){var rn=getAutoCurvenessParams(en),an=isArray$1(rn);if(!rn)return null;var ln=getEdgeFromMap(Fe,en);if(!ln)return null;for(var cn=-1,un=0;un<ln.length;un++)if(ln[un]===tn){cn=un;break}var fn=getTotalLengthBetweenNodes(Fe,en);createCurveness(en,fn),Fe.lineStyle=Fe.lineStyle||{};var hn=getKeyOfEdges(Fe.node1,Fe.node2,en),pn=en.__curvenessList,gn=an||fn%2?0:1;if(ln.isForward)return pn[gn+cn];var mn=getOppositeKey(hn),_n=getEdgeMapLengthWithKey(mn,en),kn=pn[cn+_n+gn];return nn?an?rn&&rn[0]===0?(_n+gn)%2?kn:-kn:((_n%2?0:1)+gn)%2?kn:-kn:(_n+gn)%2?kn:-kn:pn[cn+_n+gn]}function simpleLayout(Fe){var en=Fe.coordinateSystem;if(!(en&&en.type!=="view")){var tn=Fe.getGraph();tn.eachNode(function(nn){var rn=nn.getModel();nn.setLayout([+rn.get("x"),+rn.get("y")])}),simpleLayoutEdge(tn,Fe)}}function simpleLayoutEdge(Fe,en){Fe.eachEdge(function(tn,nn){var rn=retrieve3(tn.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(tn,en,nn,!0),0),an=clone$3(tn.node1.getLayout()),ln=clone$3(tn.node2.getLayout()),cn=[an,ln];+rn&&cn.push([(an[0]+ln[0])/2-(an[1]-ln[1])*rn,(an[1]+ln[1])/2-(ln[0]-an[0])*rn]),tn.setLayout(cn)})}function graphSimpleLayout(Fe,en){Fe.eachSeriesByType("graph",function(tn){var nn=tn.get("layout"),rn=tn.coordinateSystem;if(rn&&rn.type!=="view"){var an=tn.getData(),ln=[];each$f(rn.dimensions,function(gn){ln=ln.concat(an.mapDimensionsAll(gn))});for(var cn=0;cn<an.count();cn++){for(var un=[],fn=!1,hn=0;hn<ln.length;hn++){var pn=an.get(ln[hn],cn);isNaN(pn)||(fn=!0),un.push(pn)}fn?an.setItemLayout(cn,rn.dataToPoint(un)):an.setItemLayout(cn,[NaN,NaN])}simpleLayoutEdge(an.graph,tn)}else(!nn||nn==="none")&&simpleLayout(tn)})}function getNodeGlobalScale(Fe){var en=Fe.coordinateSystem;if(en.type!=="view")return 1;var tn=Fe.option.nodeScaleRatio,nn=en.scaleX,rn=en.getZoom(),an=(rn-1)*tn+1;return an/nn}function getSymbolSize(Fe){var en=Fe.getVisual("symbolSize");return en instanceof Array&&(en=(en[0]+en[1])/2),+en}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(Fe,en,tn,nn){var rn=Fe.coordinateSystem;if(!(rn&&rn.type!=="view")){var an=rn.getBoundingRect(),ln=Fe.getData(),cn=ln.graph,un=an.width/2+an.x,fn=an.height/2+an.y,hn=Math.min(an.width,an.height)/2,pn=ln.count();if(ln.setLayout({cx:un,cy:fn}),!!pn){if(tn){var gn=rn.pointToData(nn),mn=gn[0],_n=gn[1],kn=[mn-un,_n-fn];normalize$3(kn,kn),scale$2(kn,kn,hn),tn.setLayout([un+kn[0],fn+kn[1]],!0);var Cn=Fe.get(["circular","rotateLabel"]);rotateNodeLabel(tn,Cn,un,fn)}_layoutNodesBasedOn[en](Fe,cn,ln,hn,un,fn,pn),cn.eachEdge(function(xn,Sn){var Mn=retrieve3(xn.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(xn,Fe,Sn),0),In=clone$3(xn.node1.getLayout()),On=clone$3(xn.node2.getLayout()),Pn,Tn=(In[0]+On[0])/2,Nn=(In[1]+On[1])/2;+Mn&&(Mn*=3,Pn=[un*Mn+Tn*(1-Mn),fn*Mn+Nn*(1-Mn)]),xn.setLayout([In,On,Pn])})}}}var _layoutNodesBasedOn={value:function(Fe,en,tn,nn,rn,an,ln){var cn=0,un=tn.getSum("value"),fn=Math.PI*2/(un||ln);en.eachNode(function(hn){var pn=hn.getValue("value"),gn=fn*(un?pn:1)/2;cn+=gn,hn.setLayout([nn*Math.cos(cn)+rn,nn*Math.sin(cn)+an]),cn+=gn})},symbolSize:function(Fe,en,tn,nn,rn,an,ln){var cn=0;_symbolRadiansHalf.length=ln;var un=getNodeGlobalScale(Fe);en.eachNode(function(pn){var gn=getSymbolSize(pn);isNaN(gn)&&(gn=2),gn<0&&(gn=0),gn*=un;var mn=Math.asin(gn/2/nn);isNaN(mn)&&(mn=PI$2/2),_symbolRadiansHalf[pn.dataIndex]=mn,cn+=mn*2});var fn=(2*PI$2-cn)/ln/2,hn=0;en.eachNode(function(pn){var gn=fn+_symbolRadiansHalf[pn.dataIndex];hn+=gn,(!pn.getLayout()||!pn.getLayout().fixed)&&pn.setLayout([nn*Math.cos(hn)+rn,nn*Math.sin(hn)+an]),hn+=gn})}};function rotateNodeLabel(Fe,en,tn,nn){var rn=Fe.getGraphicEl();if(rn){var an=Fe.getModel(),ln=an.get(["label","rotate"])||0,cn=rn.getSymbolPath();if(en){var un=Fe.getLayout(),fn=Math.atan2(un[1]-nn,un[0]-tn);fn<0&&(fn=Math.PI*2+fn);var hn=un[0]<tn;hn&&(fn=fn-Math.PI);var pn=hn?"left":"right";cn.setTextConfig({rotation:-fn,position:pn,origin:"center"});var gn=cn.ensureState("emphasis");extend$1(gn.textConfig||(gn.textConfig={}),{position:pn})}else cn.setTextConfig({rotation:ln*=Math.PI/180})}}function graphCircularLayout(Fe){Fe.eachSeriesByType("graph",function(en){en.get("layout")==="circular"&&circularLayout(en,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(Fe,en,tn){for(var nn=Fe,rn=en,an=tn.rect,ln=an.width,cn=an.height,un=[an.x+ln/2,an.y+cn/2],fn=tn.gravity==null?.1:tn.gravity,hn=0;hn<nn.length;hn++){var pn=nn[hn];pn.p||(pn.p=create$2(ln*(Math.random()-.5)+un[0],cn*(Math.random()-.5)+un[1])),pn.pp=clone$3(pn.p),pn.edges=null}var gn=tn.friction==null?.6:tn.friction,mn=gn,_n,kn;return{warmUp:function(){mn=gn*.8},setFixed:function(Cn){nn[Cn].fixed=!0},setUnfixed:function(Cn){nn[Cn].fixed=!1},beforeStep:function(Cn){_n=Cn},afterStep:function(Cn){kn=Cn},step:function(Cn){_n&&_n(nn,rn);for(var xn=[],Sn=nn.length,Mn=0;Mn<rn.length;Mn++){var In=rn[Mn];if(!In.ignoreForceLayout){var On=In.n1,Pn=In.n2;sub(xn,Pn.p,On.p);var Tn=len(xn)-In.d,Nn=Pn.w/(On.w+Pn.w);isNaN(Nn)&&(Nn=0),normalize$3(xn,xn),!On.fixed&&scaleAndAdd(On.p,On.p,xn,Nn*Tn*mn),!Pn.fixed&&scaleAndAdd(Pn.p,Pn.p,xn,-(1-Nn)*Tn*mn)}}for(var Mn=0;Mn<Sn;Mn++){var Hn=nn[Mn];Hn.fixed||(sub(xn,un,Hn.p),scaleAndAdd(Hn.p,Hn.p,xn,fn*mn))}for(var Mn=0;Mn<Sn;Mn++)for(var On=nn[Mn],Un=Mn+1;Un<Sn;Un++){var Pn=nn[Un];sub(xn,Pn.p,On.p);var Tn=len(xn);Tn===0&&(set$1(xn,Math.random()-.5,Math.random()-.5),Tn=1);var jn=(On.rep+Pn.rep)/Tn/Tn;!On.fixed&&scaleAndAdd(On.pp,On.pp,xn,jn),!Pn.fixed&&scaleAndAdd(Pn.pp,Pn.pp,xn,-jn)}for(var Yn=[],Mn=0;Mn<Sn;Mn++){var Hn=nn[Mn];Hn.fixed||(sub(Yn,Hn.p,Hn.pp),scaleAndAdd(Hn.p,Hn.p,Yn,mn),copy$1(Hn.pp,Hn.p))}mn=mn*.992;var Wn=mn<.01;kn&&kn(nn,rn,Wn),Cn&&Cn(Wn)}}}function graphForceLayout(Fe){Fe.eachSeriesByType("graph",function(en){var tn=en.coordinateSystem;if(!(tn&&tn.type!=="view"))if(en.get("layout")==="force"){var nn=en.preservedPoints||{},rn=en.getGraph(),an=rn.data,ln=rn.edgeData,cn=en.getModel("force"),un=cn.get("initLayout");en.preservedPoints?an.each(function(Mn){var In=an.getId(Mn);an.setItemLayout(Mn,nn[In]||[NaN,NaN])}):!un||un==="none"?simpleLayout(en):un==="circular"&&circularLayout(en,"value");var fn=an.getDataExtent("value"),hn=ln.getDataExtent("value"),pn=cn.get("repulsion"),gn=cn.get("edgeLength"),mn=isArray$1(pn)?pn:[pn,pn],_n=isArray$1(gn)?gn:[gn,gn];_n=[_n[1],_n[0]];var kn=an.mapArray("value",function(Mn,In){var On=an.getItemLayout(In),Pn=linearMap$2(Mn,fn,mn);return isNaN(Pn)&&(Pn=(mn[0]+mn[1])/2),{w:Pn,rep:Pn,fixed:an.getItemModel(In).get("fixed"),p:!On||isNaN(On[0])||isNaN(On[1])?null:On}}),Cn=ln.mapArray("value",function(Mn,In){var On=rn.getEdgeByIndex(In),Pn=linearMap$2(Mn,hn,_n);isNaN(Pn)&&(Pn=(_n[0]+_n[1])/2);var Tn=On.getModel(),Nn=retrieve3(On.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(On,en,In,!0),0);return{n1:kn[On.node1.dataIndex],n2:kn[On.node2.dataIndex],d:Pn,curveness:Nn,ignoreForceLayout:Tn.get("ignoreForceLayout")}}),xn=tn.getBoundingRect(),Sn=forceLayout(kn,Cn,{rect:xn,gravity:cn.get("gravity"),friction:cn.get("friction")});Sn.beforeStep(function(Mn,In){for(var On=0,Pn=Mn.length;On<Pn;On++)Mn[On].fixed&&copy$1(Mn[On].p,rn.getNodeByIndex(On).getLayout())}),Sn.afterStep(function(Mn,In,On){for(var Pn=0,Tn=Mn.length;Pn<Tn;Pn++)Mn[Pn].fixed||rn.getNodeByIndex(Pn).setLayout(Mn[Pn].p),nn[an.getId(Pn)]=Mn[Pn].p;for(var Pn=0,Tn=In.length;Pn<Tn;Pn++){var Nn=In[Pn],Hn=rn.getEdgeByIndex(Pn),Un=Nn.n1.p,jn=Nn.n2.p,Yn=Hn.getLayout();Yn=Yn?Yn.slice():[],Yn[0]=Yn[0]||[],Yn[1]=Yn[1]||[],copy$1(Yn[0],Un),copy$1(Yn[1],jn),+Nn.curveness&&(Yn[2]=[(Un[0]+jn[0])/2-(Un[1]-jn[1])*Nn.curveness,(Un[1]+jn[1])/2-(jn[0]-Un[0])*Nn.curveness]),Hn.setLayout(Yn)}}),en.forceLayout=Sn,en.preservedPoints=nn,Sn.step()}else en.forceLayout=null})}function getViewRect$3(Fe,en,tn){var nn=extend$1(Fe.getBoxLayoutParams(),{aspect:tn});return getLayoutRect(nn,{width:en.getWidth(),height:en.getHeight()})}function createViewCoordSys(Fe,en){var tn=[];return Fe.eachSeriesByType("graph",function(nn){var rn=nn.get("coordinateSystem");if(!rn||rn==="view"){var an=nn.getData(),ln=an.mapArray(function(Cn){var xn=an.getItemModel(Cn);return[+xn.get("x"),+xn.get("y")]}),cn=[],un=[];fromPoints(ln,cn,un),un[0]-cn[0]===0&&(un[0]+=1,cn[0]-=1),un[1]-cn[1]===0&&(un[1]+=1,cn[1]-=1);var fn=(un[0]-cn[0])/(un[1]-cn[1]),hn=getViewRect$3(nn,en,fn);isNaN(fn)&&(cn=[hn.x,hn.y],un=[hn.x+hn.width,hn.y+hn.height]);var pn=un[0]-cn[0],gn=un[1]-cn[1],mn=hn.width,_n=hn.height,kn=nn.coordinateSystem=new View$1;kn.zoomLimit=nn.get("scaleLimit"),kn.setBoundingRect(cn[0],cn[1],pn,gn),kn.setViewRect(hn.x,hn.y,mn,_n),kn.setCenter(nn.get("center"),en),kn.setZoom(nn.get("zoom")),tn.push(kn)}}),tn}var straightLineProto=Line$3.prototype,bezierCurveProto=BezierCurve$1.prototype,StraightLineShape=function(){function Fe(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return Fe}();(function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en})(StraightLineShape);function isStraightLine(Fe){return isNaN(+Fe.cpx1)||isNaN(+Fe.cpy1)}var ECLinePath=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="ec-line",nn}return en.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},en.prototype.getDefaultShape=function(){return new StraightLineShape},en.prototype.buildPath=function(tn,nn){isStraightLine(nn)?straightLineProto.buildPath.call(this,tn,nn):bezierCurveProto.buildPath.call(this,tn,nn)},en.prototype.pointAt=function(tn){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,tn):bezierCurveProto.pointAt.call(this,tn)},en.prototype.tangentAt=function(tn){var nn=this.shape,rn=isStraightLine(nn)?[nn.x2-nn.x1,nn.y2-nn.y1]:bezierCurveProto.tangentAt.call(this,tn);return normalize$3(rn,rn)},en}(Path$1);const ECLinePath$1=ECLinePath;var SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(Fe){return"_"+Fe+"Type"}function makeSymbolTypeValue(Fe,en,tn){var nn=en.getItemVisual(tn,Fe);if(!nn||nn==="none")return nn;var rn=en.getItemVisual(tn,Fe+"Size"),an=en.getItemVisual(tn,Fe+"Rotate"),ln=en.getItemVisual(tn,Fe+"Offset"),cn=en.getItemVisual(tn,Fe+"KeepAspect"),un=normalizeSymbolSize(rn),fn=normalizeSymbolOffset(ln||0,un);return nn+un+fn+(an||"")+(cn||"")}function createSymbol(Fe,en,tn){var nn=en.getItemVisual(tn,Fe);if(!(!nn||nn==="none")){var rn=en.getItemVisual(tn,Fe+"Size"),an=en.getItemVisual(tn,Fe+"Rotate"),ln=en.getItemVisual(tn,Fe+"Offset"),cn=en.getItemVisual(tn,Fe+"KeepAspect"),un=normalizeSymbolSize(rn),fn=normalizeSymbolOffset(ln||0,un),hn=createSymbol$1(nn,-un[0]/2+fn[0],-un[1]/2+fn[1],un[0],un[1],null,cn);return hn.__specifiedRotation=an==null||isNaN(an)?void 0:+an*Math.PI/180||0,hn.name=Fe,hn}}function createLine(Fe){var en=new ECLinePath$1({name:"line",subPixelOptimize:!0});return setLinePoints(en.shape,Fe),en}function setLinePoints(Fe,en){Fe.x1=en[0][0],Fe.y1=en[0][1],Fe.x2=en[1][0],Fe.y2=en[1][1],Fe.percent=1;var tn=en[2];tn?(Fe.cpx1=tn[0],Fe.cpy1=tn[1]):(Fe.cpx1=NaN,Fe.cpy1=NaN)}var Line=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this)||this;return an._createLine(tn,nn,rn),an}return en.prototype._createLine=function(tn,nn,rn){var an=tn.hostModel,ln=tn.getItemLayout(nn),cn=createLine(ln);cn.shape.percent=0,initProps(cn,{shape:{percent:1}},an,nn),this.add(cn),each$f(SYMBOL_CATEGORIES,function(un){var fn=createSymbol(un,tn,nn);this.add(fn),this[makeSymbolTypeKey(un)]=makeSymbolTypeValue(un,tn,nn)},this),this._updateCommonStl(tn,nn,rn)},en.prototype.updateData=function(tn,nn,rn){var an=tn.hostModel,ln=this.childOfName("line"),cn=tn.getItemLayout(nn),un={shape:{}};setLinePoints(un.shape,cn),updateProps$1(ln,un,an,nn),each$f(SYMBOL_CATEGORIES,function(fn){var hn=makeSymbolTypeValue(fn,tn,nn),pn=makeSymbolTypeKey(fn);if(this[pn]!==hn){this.remove(this.childOfName(fn));var gn=createSymbol(fn,tn,nn);this.add(gn)}this[pn]=hn},this),this._updateCommonStl(tn,nn,rn)},en.prototype.getLinePath=function(){return this.childAt(0)},en.prototype._updateCommonStl=function(tn,nn,rn){var an=tn.hostModel,ln=this.childOfName("line"),cn=rn&&rn.emphasisLineStyle,un=rn&&rn.blurLineStyle,fn=rn&&rn.selectLineStyle,hn=rn&&rn.labelStatesModels,pn=rn&&rn.emphasisDisabled,gn=rn&&rn.focus,mn=rn&&rn.blurScope;if(!rn||tn.hasItemOption){var _n=tn.getItemModel(nn),kn=_n.getModel("emphasis");cn=kn.getModel("lineStyle").getLineStyle(),un=_n.getModel(["blur","lineStyle"]).getLineStyle(),fn=_n.getModel(["select","lineStyle"]).getLineStyle(),pn=kn.get("disabled"),gn=kn.get("focus"),mn=kn.get("blurScope"),hn=getLabelStatesModels(_n)}var Cn=tn.getItemVisual(nn,"style"),xn=Cn.stroke;ln.useStyle(Cn),ln.style.fill=null,ln.style.strokeNoScale=!0,ln.ensureState("emphasis").style=cn,ln.ensureState("blur").style=un,ln.ensureState("select").style=fn,each$f(SYMBOL_CATEGORIES,function(Pn){var Tn=this.childOfName(Pn);if(Tn){Tn.setColor(xn),Tn.style.opacity=Cn.opacity;for(var Nn=0;Nn<SPECIAL_STATES.length;Nn++){var Hn=SPECIAL_STATES[Nn],Un=ln.getState(Hn);if(Un){var jn=Un.style||{},Yn=Tn.ensureState(Hn),Wn=Yn.style||(Yn.style={});jn.stroke!=null&&(Wn[Tn.__isEmptyBrush?"stroke":"fill"]=jn.stroke),jn.opacity!=null&&(Wn.opacity=jn.opacity)}}Tn.markRedraw()}},this);var Sn=an.getRawValue(nn);setLabelStyle(this,hn,{labelDataIndex:nn,labelFetcher:{getFormattedLabel:function(Pn,Tn){return an.getFormattedLabel(Pn,Tn,tn.dataType)}},inheritColor:xn||"#000",defaultOpacity:Cn.opacity,defaultText:(Sn==null?tn.getName(nn):isFinite(Sn)?round$3(Sn):Sn)+""});var Mn=this.getTextContent();if(Mn){var In=hn.normal;Mn.__align=Mn.style.align,Mn.__verticalAlign=Mn.style.verticalAlign,Mn.__position=In.get("position")||"middle";var On=In.get("distance");isArray$1(On)||(On=[On,On]),Mn.__labelDistance=On}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,gn,mn,pn)},en.prototype.highlight=function(){enterEmphasis(this)},en.prototype.downplay=function(){leaveEmphasis(this)},en.prototype.updateLayout=function(tn,nn){this.setLinePoints(tn.getItemLayout(nn))},en.prototype.setLinePoints=function(tn){var nn=this.childOfName("line");setLinePoints(nn.shape,tn),nn.dirty()},en.prototype.beforeUpdate=function(){var tn=this,nn=tn.childOfName("fromSymbol"),rn=tn.childOfName("toSymbol"),an=tn.getTextContent();if(!nn&&!rn&&(!an||an.ignore))return;for(var ln=1,cn=this.parent;cn;)cn.scaleX&&(ln/=cn.scaleX),cn=cn.parent;var un=tn.childOfName("line");if(!this.__dirty&&!un.__dirty)return;var fn=un.shape.percent,hn=un.pointAt(0),pn=un.pointAt(fn),gn=sub([],pn,hn);normalize$3(gn,gn);function mn(Un,jn){var Yn=Un.__specifiedRotation;if(Yn==null){var Wn=un.tangentAt(jn);Un.attr("rotation",(jn===1?-1:1)*Math.PI/2-Math.atan2(Wn[1],Wn[0]))}else Un.attr("rotation",Yn)}if(nn&&(nn.setPosition(hn),mn(nn,0),nn.scaleX=nn.scaleY=ln*fn,nn.markRedraw()),rn&&(rn.setPosition(pn),mn(rn,1),rn.scaleX=rn.scaleY=ln*fn,rn.markRedraw()),an&&!an.ignore){an.x=an.y=0,an.originX=an.originY=0;var _n=void 0,kn=void 0,Cn=an.__labelDistance,xn=Cn[0]*ln,Sn=Cn[1]*ln,Mn=fn/2,In=un.tangentAt(Mn),On=[In[1],-In[0]],Pn=un.pointAt(Mn);On[1]>0&&(On[0]=-On[0],On[1]=-On[1]);var Tn=In[0]<0?-1:1;if(an.__position!=="start"&&an.__position!=="end"){var Nn=-Math.atan2(In[1],In[0]);pn[0]<hn[0]&&(Nn=Math.PI+Nn),an.rotation=Nn}var Hn=void 0;switch(an.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Hn=-Sn,kn="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Hn=Sn,kn="top";break;default:Hn=0,kn="middle"}switch(an.__position){case"end":an.x=gn[0]*xn+pn[0],an.y=gn[1]*Sn+pn[1],_n=gn[0]>.8?"left":gn[0]<-.8?"right":"center",kn=gn[1]>.8?"top":gn[1]<-.8?"bottom":"middle";break;case"start":an.x=-gn[0]*xn+hn[0],an.y=-gn[1]*Sn+hn[1],_n=gn[0]>.8?"right":gn[0]<-.8?"left":"center",kn=gn[1]>.8?"bottom":gn[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":an.x=xn*Tn+hn[0],an.y=hn[1]+Hn,_n=In[0]<0?"right":"left",an.originX=-xn*Tn,an.originY=-Hn;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":an.x=Pn[0],an.y=Pn[1]+Hn,_n="center",an.originY=-Hn;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":an.x=-xn*Tn+pn[0],an.y=pn[1]+Hn,_n=In[0]>=0?"right":"left",an.originX=xn*Tn,an.originY=-Hn;break}an.scaleX=an.scaleY=ln,an.setStyle({verticalAlign:an.__verticalAlign||kn,align:an.__align||_n})}},en}(Group$4);const Line$1=Line;var LineDraw=function(){function Fe(en){this.group=new Group$4,this._LineCtor=en||Line$1}return Fe.prototype.updateData=function(en){var tn=this;this._progressiveEls=null;var nn=this,rn=nn.group,an=nn._lineData;nn._lineData=en,an||rn.removeAll();var ln=makeSeriesScope$1(en);en.diff(an).add(function(cn){tn._doAdd(en,cn,ln)}).update(function(cn,un){tn._doUpdate(an,en,un,cn,ln)}).remove(function(cn){rn.remove(an.getItemGraphicEl(cn))}).execute()},Fe.prototype.updateLayout=function(){var en=this._lineData;en&&en.eachItemGraphicEl(function(tn,nn){tn.updateLayout(en,nn)},this)},Fe.prototype.incrementalPrepareUpdate=function(en){this._seriesScope=makeSeriesScope$1(en),this._lineData=null,this.group.removeAll()},Fe.prototype.incrementalUpdate=function(en,tn){this._progressiveEls=[];function nn(cn){!cn.isGroup&&!isEffectObject(cn)&&(cn.incremental=!0,cn.ensureState("emphasis").hoverLayer=!0)}for(var rn=en.start;rn<en.end;rn++){var an=tn.getItemLayout(rn);if(lineNeedsDraw(an)){var ln=new this._LineCtor(tn,rn,this._seriesScope);ln.traverse(nn),this.group.add(ln),tn.setItemGraphicEl(rn,ln),this._progressiveEls.push(ln)}}},Fe.prototype.remove=function(){this.group.removeAll()},Fe.prototype.eachRendered=function(en){traverseElements(this._progressiveEls||this.group,en)},Fe.prototype._doAdd=function(en,tn,nn){var rn=en.getItemLayout(tn);if(lineNeedsDraw(rn)){var an=new this._LineCtor(en,tn,nn);en.setItemGraphicEl(tn,an),this.group.add(an)}},Fe.prototype._doUpdate=function(en,tn,nn,rn,an){var ln=en.getItemGraphicEl(nn);if(!lineNeedsDraw(tn.getItemLayout(rn))){this.group.remove(ln);return}ln?ln.updateData(tn,rn,an):ln=new this._LineCtor(tn,rn,an),tn.setItemGraphicEl(rn,ln),this.group.add(ln)},Fe}();function isEffectObject(Fe){return Fe.animators&&Fe.animators.length>0}function makeSeriesScope$1(Fe){var en=Fe.hostModel,tn=en.getModel("emphasis");return{lineStyle:en.getModel("lineStyle").getLineStyle(),emphasisLineStyle:tn.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:en.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:en.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:tn.get("disabled"),blurScope:tn.get("blurScope"),focus:tn.get("focus"),labelStatesModels:getLabelStatesModels(en)}}function isPointNaN(Fe){return isNaN(Fe[0])||isNaN(Fe[1])}function lineNeedsDraw(Fe){return Fe&&!isPointNaN(Fe[0])&&!isPointNaN(Fe[1])}const LineDraw$1=LineDraw;var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(Fe,en,tn){for(var nn=Fe[0],rn=Fe[1],an=Fe[2],ln=1/0,cn,un=tn*tn,fn=.1,hn=.1;hn<=.9;hn+=.1){v1[0]=quadraticAt(nn[0],rn[0],an[0],hn),v1[1]=quadraticAt(nn[1],rn[1],an[1],hn);var pn=mathAbs(v2DistSquare(v1,en)-un);pn<ln&&(ln=pn,cn=hn)}for(var gn=0;gn<32;gn++){var mn=cn+fn;v2[0]=quadraticAt(nn[0],rn[0],an[0],cn),v2[1]=quadraticAt(nn[1],rn[1],an[1],cn),v3[0]=quadraticAt(nn[0],rn[0],an[0],mn),v3[1]=quadraticAt(nn[1],rn[1],an[1],mn);var pn=v2DistSquare(v2,en)-un;if(mathAbs(pn)<.01)break;var _n=v2DistSquare(v3,en)-un;fn/=2,pn<0?_n>=0?cn=cn+fn:cn=cn-fn:_n>=0?cn=cn-fn:cn=cn+fn}return cn}function adjustEdge(Fe,en){var tn=[],nn=quadraticSubdivide,rn=[[],[],[]],an=[[],[]],ln=[];en/=2,Fe.eachEdge(function(cn,un){var fn=cn.getLayout(),hn=cn.getVisual("fromSymbol"),pn=cn.getVisual("toSymbol");fn.__original||(fn.__original=[clone$3(fn[0]),clone$3(fn[1])],fn[2]&&fn.__original.push(clone$3(fn[2])));var gn=fn.__original;if(fn[2]!=null){if(copy$1(rn[0],gn[0]),copy$1(rn[1],gn[2]),copy$1(rn[2],gn[1]),hn&&hn!=="none"){var mn=getSymbolSize(cn.node1),_n=intersectCurveCircle(rn,gn[0],mn*en);nn(rn[0][0],rn[1][0],rn[2][0],_n,tn),rn[0][0]=tn[3],rn[1][0]=tn[4],nn(rn[0][1],rn[1][1],rn[2][1],_n,tn),rn[0][1]=tn[3],rn[1][1]=tn[4]}if(pn&&pn!=="none"){var mn=getSymbolSize(cn.node2),_n=intersectCurveCircle(rn,gn[1],mn*en);nn(rn[0][0],rn[1][0],rn[2][0],_n,tn),rn[1][0]=tn[1],rn[2][0]=tn[2],nn(rn[0][1],rn[1][1],rn[2][1],_n,tn),rn[1][1]=tn[1],rn[2][1]=tn[2]}copy$1(fn[0],rn[0]),copy$1(fn[1],rn[2]),copy$1(fn[2],rn[1])}else{if(copy$1(an[0],gn[0]),copy$1(an[1],gn[1]),sub(ln,an[1],an[0]),normalize$3(ln,ln),hn&&hn!=="none"){var mn=getSymbolSize(cn.node1);scaleAndAdd$1(an[0],an[0],ln,mn*en)}if(pn&&pn!=="none"){var mn=getSymbolSize(cn.node2);scaleAndAdd$1(an[1],an[1],ln,-mn*en)}copy$1(fn[0],an[0]),copy$1(fn[1],an[1])}})}function isViewCoordSys(Fe){return Fe.type==="view"}var GraphView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(tn,nn){var rn=new SymbolDraw$1,an=new LineDraw$1,ln=this.group;this._controller=new RoamController$1(nn.getZr()),this._controllerHost={target:ln},ln.add(rn.group),ln.add(an.group),this._symbolDraw=rn,this._lineDraw=an,this._firstRender=!0},en.prototype.render=function(tn,nn,rn){var an=this,ln=tn.coordinateSystem;this._model=tn;var cn=this._symbolDraw,un=this._lineDraw,fn=this.group;if(isViewCoordSys(ln)){var hn={x:ln.x,y:ln.y,scaleX:ln.scaleX,scaleY:ln.scaleY};this._firstRender?fn.attr(hn):updateProps$1(fn,hn,tn)}adjustEdge(tn.getGraph(),getNodeGlobalScale(tn));var pn=tn.getData();cn.updateData(pn);var gn=tn.getEdgeData();un.updateData(gn),this._updateNodeAndLinkScale(),this._updateController(tn,nn,rn),clearTimeout(this._layoutTimeout);var mn=tn.forceLayout,_n=tn.get(["force","layoutAnimation"]);mn&&this._startForceLayoutIteration(mn,_n);var kn=tn.get("layout");pn.graph.eachNode(function(Mn){var In=Mn.dataIndex,On=Mn.getGraphicEl(),Pn=Mn.getModel();if(On){On.off("drag").off("dragend");var Tn=Pn.get("draggable");Tn&&On.on("drag",function(Hn){switch(kn){case"force":mn.warmUp(),!an._layouting&&an._startForceLayoutIteration(mn,_n),mn.setFixed(In),pn.setItemLayout(In,[On.x,On.y]);break;case"circular":pn.setItemLayout(In,[On.x,On.y]),Mn.setLayout({fixed:!0},!0),circularLayout(tn,"symbolSize",Mn,[Hn.offsetX,Hn.offsetY]),an.updateLayout(tn);break;case"none":default:pn.setItemLayout(In,[On.x,On.y]),simpleLayoutEdge(tn.getGraph(),tn),an.updateLayout(tn);break}}).on("dragend",function(){mn&&mn.setUnfixed(In)}),On.setDraggable(Tn,!!Pn.get("cursor"));var Nn=Pn.get(["emphasis","focus"]);Nn==="adjacency"&&(getECData(On).focus=Mn.getAdjacentDataIndices())}}),pn.graph.eachEdge(function(Mn){var In=Mn.getGraphicEl(),On=Mn.getModel().get(["emphasis","focus"]);In&&On==="adjacency"&&(getECData(In).focus={edge:[Mn.dataIndex],node:[Mn.node1.dataIndex,Mn.node2.dataIndex]})});var Cn=tn.get("layout")==="circular"&&tn.get(["circular","rotateLabel"]),xn=pn.getLayout("cx"),Sn=pn.getLayout("cy");pn.graph.eachNode(function(Mn){rotateNodeLabel(Mn,Cn,xn,Sn)}),this._firstRender=!1},en.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},en.prototype._startForceLayoutIteration=function(tn,nn){var rn=this;(function an(){tn.step(function(ln){rn.updateLayout(rn._model),(rn._layouting=!ln)&&(nn?rn._layoutTimeout=setTimeout(an,16):an())})})()},en.prototype._updateController=function(tn,nn,rn){var an=this,ln=this._controller,cn=this._controllerHost,un=this.group;if(ln.setPointerChecker(function(fn,hn,pn){var gn=un.getBoundingRect();return gn.applyTransform(un.transform),gn.contain(hn,pn)&&!onIrrelevantElement(fn,rn,tn)}),!isViewCoordSys(tn.coordinateSystem)){ln.disable();return}ln.enable(tn.get("roam")),cn.zoomLimit=tn.get("scaleLimit"),cn.zoom=tn.coordinateSystem.getZoom(),ln.off("pan").off("zoom").on("pan",function(fn){updateViewOnPan(cn,fn.dx,fn.dy),rn.dispatchAction({seriesId:tn.id,type:"graphRoam",dx:fn.dx,dy:fn.dy})}).on("zoom",function(fn){updateViewOnZoom(cn,fn.scale,fn.originX,fn.originY),rn.dispatchAction({seriesId:tn.id,type:"graphRoam",zoom:fn.scale,originX:fn.originX,originY:fn.originY}),an._updateNodeAndLinkScale(),adjustEdge(tn.getGraph(),getNodeGlobalScale(tn)),an._lineDraw.updateLayout(),rn.updateLabelLayout()})},en.prototype._updateNodeAndLinkScale=function(){var tn=this._model,nn=tn.getData(),rn=getNodeGlobalScale(tn);nn.eachItemGraphicEl(function(an,ln){an&&an.setSymbolScale(rn)})},en.prototype.updateLayout=function(tn){adjustEdge(tn.getGraph(),getNodeGlobalScale(tn)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},en.prototype.remove=function(tn,nn){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},en.type="graph",en}(ChartView$1);const GraphView$1=GraphView;function generateNodeKey(Fe){return"_EC_"+Fe}var Graph=function(){function Fe(en){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=en||!1}return Fe.prototype.isDirected=function(){return this._directed},Fe.prototype.addNode=function(en,tn){en=en==null?""+tn:""+en;var nn=this._nodesMap;if(!nn[generateNodeKey(en)]){var rn=new GraphNode(en,tn);return rn.hostGraph=this,this.nodes.push(rn),nn[generateNodeKey(en)]=rn,rn}},Fe.prototype.getNodeByIndex=function(en){var tn=this.data.getRawIndex(en);return this.nodes[tn]},Fe.prototype.getNodeById=function(en){return this._nodesMap[generateNodeKey(en)]},Fe.prototype.addEdge=function(en,tn,nn){var rn=this._nodesMap,an=this._edgesMap;if(isNumber(en)&&(en=this.nodes[en]),isNumber(tn)&&(tn=this.nodes[tn]),en instanceof GraphNode||(en=rn[generateNodeKey(en)]),tn instanceof GraphNode||(tn=rn[generateNodeKey(tn)]),!(!en||!tn)){var ln=en.id+"-"+tn.id,cn=new GraphEdge(en,tn,nn);return cn.hostGraph=this,this._directed&&(en.outEdges.push(cn),tn.inEdges.push(cn)),en.edges.push(cn),en!==tn&&tn.edges.push(cn),this.edges.push(cn),an[ln]=cn,cn}},Fe.prototype.getEdgeByIndex=function(en){var tn=this.edgeData.getRawIndex(en);return this.edges[tn]},Fe.prototype.getEdge=function(en,tn){en instanceof GraphNode&&(en=en.id),tn instanceof GraphNode&&(tn=tn.id);var nn=this._edgesMap;return this._directed?nn[en+"-"+tn]:nn[en+"-"+tn]||nn[tn+"-"+en]},Fe.prototype.eachNode=function(en,tn){for(var nn=this.nodes,rn=nn.length,an=0;an<rn;an++)nn[an].dataIndex>=0&&en.call(tn,nn[an],an)},Fe.prototype.eachEdge=function(en,tn){for(var nn=this.edges,rn=nn.length,an=0;an<rn;an++)nn[an].dataIndex>=0&&nn[an].node1.dataIndex>=0&&nn[an].node2.dataIndex>=0&&en.call(tn,nn[an],an)},Fe.prototype.breadthFirstTraverse=function(en,tn,nn,rn){if(tn instanceof GraphNode||(tn=this._nodesMap[generateNodeKey(tn)]),!!tn){for(var an=nn==="out"?"outEdges":nn==="in"?"inEdges":"edges",ln=0;ln<this.nodes.length;ln++)this.nodes[ln].__visited=!1;if(!en.call(rn,tn,null))for(var cn=[tn];cn.length;)for(var un=cn.shift(),fn=un[an],ln=0;ln<fn.length;ln++){var hn=fn[ln],pn=hn.node1===un?hn.node2:hn.node1;if(!pn.__visited){if(en.call(rn,pn,un))return;cn.push(pn),pn.__visited=!0}}}},Fe.prototype.update=function(){for(var en=this.data,tn=this.edgeData,nn=this.nodes,rn=this.edges,an=0,ln=nn.length;an<ln;an++)nn[an].dataIndex=-1;for(var an=0,ln=en.count();an<ln;an++)nn[en.getRawIndex(an)].dataIndex=an;tn.filterSelf(function(cn){var un=rn[tn.getRawIndex(cn)];return un.node1.dataIndex>=0&&un.node2.dataIndex>=0});for(var an=0,ln=rn.length;an<ln;an++)rn[an].dataIndex=-1;for(var an=0,ln=tn.count();an<ln;an++)rn[tn.getRawIndex(an)].dataIndex=an},Fe.prototype.clone=function(){for(var en=new Fe(this._directed),tn=this.nodes,nn=this.edges,rn=0;rn<tn.length;rn++)en.addNode(tn[rn].id,tn[rn].dataIndex);for(var rn=0;rn<nn.length;rn++){var an=nn[rn];en.addEdge(an.node1.id,an.node2.id,an.dataIndex)}return en},Fe}(),GraphNode=function(){function Fe(en,tn){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=en??"",this.dataIndex=tn??-1}return Fe.prototype.degree=function(){return this.edges.length},Fe.prototype.inDegree=function(){return this.inEdges.length},Fe.prototype.outDegree=function(){return this.outEdges.length},Fe.prototype.getModel=function(en){if(!(this.dataIndex<0)){var tn=this.hostGraph,nn=tn.data.getItemModel(this.dataIndex);return nn.getModel(en)}},Fe.prototype.getAdjacentDataIndices=function(){for(var en={edge:[],node:[]},tn=0;tn<this.edges.length;tn++){var nn=this.edges[tn];nn.dataIndex<0||(en.edge.push(nn.dataIndex),en.node.push(nn.node1.dataIndex,nn.node2.dataIndex))}return en},Fe.prototype.getTrajectoryDataIndices=function(){for(var en=createHashMap(),tn=createHashMap(),nn=0;nn<this.edges.length;nn++){var rn=this.edges[nn];if(!(rn.dataIndex<0)){en.set(rn.dataIndex,!0);for(var an=[rn.node1],ln=[rn.node2],cn=0;cn<an.length;){var un=an[cn];cn++,tn.set(un.dataIndex,!0);for(var fn=0;fn<un.inEdges.length;fn++)en.set(un.inEdges[fn].dataIndex,!0),an.push(un.inEdges[fn].node1)}for(cn=0;cn<ln.length;){var hn=ln[cn];cn++,tn.set(hn.dataIndex,!0);for(var fn=0;fn<hn.outEdges.length;fn++)en.set(hn.outEdges[fn].dataIndex,!0),ln.push(hn.outEdges[fn].node2)}}}return{edge:en.keys(),node:tn.keys()}},Fe}(),GraphEdge=function(){function Fe(en,tn,nn){this.dataIndex=-1,this.node1=en,this.node2=tn,this.dataIndex=nn??-1}return Fe.prototype.getModel=function(en){if(!(this.dataIndex<0)){var tn=this.hostGraph,nn=tn.edgeData.getItemModel(this.dataIndex);return nn.getModel(en)}},Fe.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},Fe.prototype.getTrajectoryDataIndices=function(){var en=createHashMap(),tn=createHashMap();en.set(this.dataIndex,!0);for(var nn=[this.node1],rn=[this.node2],an=0;an<nn.length;){var ln=nn[an];an++,tn.set(ln.dataIndex,!0);for(var cn=0;cn<ln.inEdges.length;cn++)en.set(ln.inEdges[cn].dataIndex,!0),nn.push(ln.inEdges[cn].node1)}for(an=0;an<rn.length;){var un=rn[an];an++,tn.set(un.dataIndex,!0);for(var cn=0;cn<un.outEdges.length;cn++)en.set(un.outEdges[cn].dataIndex,!0),rn.push(un.outEdges[cn].node2)}return{edge:en.keys(),node:tn.keys()}},Fe}();function createGraphDataProxyMixin(Fe,en){return{getValue:function(tn){var nn=this[Fe][en];return nn.getStore().get(nn.getDimensionIndex(tn||"value"),this.dataIndex)},setVisual:function(tn,nn){this.dataIndex>=0&&this[Fe][en].setItemVisual(this.dataIndex,tn,nn)},getVisual:function(tn){return this[Fe][en].getItemVisual(this.dataIndex,tn)},setLayout:function(tn,nn){this.dataIndex>=0&&this[Fe][en].setItemLayout(this.dataIndex,tn,nn)},getLayout:function(){return this[Fe][en].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[Fe][en].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[Fe][en].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));const Graph$1=Graph;function createGraphFromNodeEdge(Fe,en,tn,nn,rn){for(var an=new Graph$1(nn),ln=0;ln<Fe.length;ln++)an.addNode(retrieve(Fe[ln].id,Fe[ln].name,ln),ln);for(var cn=[],un=[],fn=0,ln=0;ln<en.length;ln++){var hn=en[ln],pn=hn.source,gn=hn.target;an.addEdge(pn,gn,fn)&&(un.push(hn),cn.push(retrieve(convertOptionIdName(hn.id,null),pn+" > "+gn)),fn++)}var mn=tn.get("coordinateSystem"),_n;if(mn==="cartesian2d"||mn==="polar")_n=createSeriesData(Fe,tn);else{var kn=CoordinateSystem.get(mn),Cn=kn?kn.dimensions||[]:[];indexOf(Cn,"value")<0&&Cn.concat(["value"]);var xn=prepareSeriesDataSchema(Fe,{coordDimensions:Cn,encodeDefine:tn.getEncode()}).dimensions;_n=new SeriesData$1(xn,tn),_n.initData(Fe)}var Sn=new SeriesData$1(["value"],tn);return Sn.initData(un,cn),rn&&rn(_n,Sn),linkSeriesData({mainData:_n,struct:an,structAttr:"graph",datas:{node:_n,edge:Sn},datasAttr:{node:"data",edge:"edgeData"}}),an.update(),an}var GraphSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.hasSymbolVisual=!0,tn}return en.prototype.init=function(tn){Fe.prototype.init.apply(this,arguments);var nn=this;function rn(){return nn._categoriesData}this.legendVisualProvider=new LegendVisualProvider$1(rn,rn),this.fillDataTextStyle(tn.edges||tn.links),this._updateCategoriesData()},en.prototype.mergeOption=function(tn){Fe.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(tn.edges||tn.links),this._updateCategoriesData()},en.prototype.mergeDefaultAndTheme=function(tn){Fe.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(tn,"edgeLabel",["show"])},en.prototype.getInitialData=function(tn,nn){var rn=tn.edges||tn.links||[],an=tn.data||tn.nodes||[],ln=this;if(an&&rn){initCurvenessList(this);var cn=createGraphFromNodeEdge(an,rn,this,!0,un);return each$f(cn.edges,function(fn){createEdgeMapForCurveness(fn.node1,fn.node2,this,fn.dataIndex)},this),cn.data}function un(fn,hn){fn.wrapMethod("getItemModel",function(_n){var kn=ln._categoriesModels,Cn=_n.getShallow("category"),xn=kn[Cn];return xn&&(xn.parentModel=_n.parentModel,_n.parentModel=xn),_n});var pn=Model$1.prototype.getModel;function gn(_n,kn){var Cn=pn.call(this,_n,kn);return Cn.resolveParentPath=mn,Cn}hn.wrapMethod("getItemModel",function(_n){return _n.resolveParentPath=mn,_n.getModel=gn,_n});function mn(_n){if(_n&&(_n[0]==="label"||_n[1]==="label")){var kn=_n.slice();return _n[0]==="label"?kn[0]="edgeLabel":_n[1]==="label"&&(kn[1]="edgeLabel"),kn}return _n}}},en.prototype.getGraph=function(){return this.getData().graph},en.prototype.getEdgeData=function(){return this.getGraph().edgeData},en.prototype.getCategoriesData=function(){return this._categoriesData},en.prototype.formatTooltip=function(tn,nn,rn){if(rn==="edge"){var an=this.getData(),ln=this.getDataParams(tn,rn),cn=an.graph.getEdgeByIndex(tn),un=an.getName(cn.node1.dataIndex),fn=an.getName(cn.node2.dataIndex),hn=[];return un!=null&&hn.push(un),fn!=null&&hn.push(fn),createTooltipMarkup("nameValue",{name:hn.join(" > "),value:ln.value,noValue:ln.value==null})}var pn=defaultSeriesFormatTooltip({series:this,dataIndex:tn,multipleSeries:nn});return pn},en.prototype._updateCategoriesData=function(){var tn=map$1(this.option.categories||[],function(rn){return rn.value!=null?rn:extend$1({value:0},rn)}),nn=new SeriesData$1(["value"],this);nn.initData(tn),this._categoriesData=nn,this._categoriesModels=nn.mapArray(function(rn){return nn.getItemModel(rn)})},en.prototype.setZoom=function(tn){this.option.zoom=tn},en.prototype.setCenter=function(tn){this.option.center=tn},en.prototype.isAnimationEnabled=function(){return Fe.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},en.type="series.graph",en.dependencies=["grid","polar","geo","singleAxis","calendar"],en.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},en}(SeriesModel$1);const GraphSeriesModel$1=GraphSeriesModel;var actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(Fe){Fe.registerChartView(GraphView$1),Fe.registerSeriesModel(GraphSeriesModel$1),Fe.registerProcessor(categoryFilter),Fe.registerVisual(categoryVisual),Fe.registerVisual(graphEdgeVisual),Fe.registerLayout(graphSimpleLayout),Fe.registerLayout(Fe.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),Fe.registerLayout(graphForceLayout),Fe.registerCoordinateSystem("graphView",{dimensions:View$1.dimensions,create:createViewCoordSys}),Fe.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),Fe.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),Fe.registerAction(actionInfo$1,function(en,tn,nn){tn.eachComponent({mainType:"series",query:en},function(rn){var an=rn.coordinateSystem,ln=updateCenterAndZoom(an,en,void 0,nn);rn.setCenter&&rn.setCenter(ln.center),rn.setZoom&&rn.setZoom(ln.zoom)})})}var PointerShape=function(){function Fe(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return Fe}(),PointerPath=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="pointer",nn}return en.prototype.getDefaultShape=function(){return new PointerShape},en.prototype.buildPath=function(tn,nn){var rn=Math.cos,an=Math.sin,ln=nn.r,cn=nn.width,un=nn.angle,fn=nn.x-rn(un)*cn*(cn>=ln/3?1:2),hn=nn.y-an(un)*cn*(cn>=ln/3?1:2);un=nn.angle-Math.PI/2,tn.moveTo(fn,hn),tn.lineTo(nn.x+rn(un)*cn,nn.y+an(un)*cn),tn.lineTo(nn.x+rn(nn.angle)*ln,nn.y+an(nn.angle)*ln),tn.lineTo(nn.x-rn(un)*cn,nn.y-an(un)*cn),tn.lineTo(fn,hn)},en}(Path$1);const PointerPath$1=PointerPath;function parsePosition(Fe,en){var tn=Fe.get("center"),nn=en.getWidth(),rn=en.getHeight(),an=Math.min(nn,rn),ln=parsePercent(tn[0],en.getWidth()),cn=parsePercent(tn[1],en.getHeight()),un=parsePercent(Fe.get("radius"),an/2);return{cx:ln,cy:cn,r:un}}function formatLabel(Fe,en){var tn=Fe==null?"":Fe+"";return en&&(isString(en)?tn=en.replace("{value}",tn):isFunction(en)&&(tn=en(Fe))),tn}var GaugeView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){this.group.removeAll();var an=tn.get(["axisLine","lineStyle","color"]),ln=parsePosition(tn,rn);this._renderMain(tn,nn,rn,an,ln),this._data=tn.getData()},en.prototype.dispose=function(){},en.prototype._renderMain=function(tn,nn,rn,an,ln){var cn=this.group,un=tn.get("clockwise"),fn=-tn.get("startAngle")/180*Math.PI,hn=-tn.get("endAngle")/180*Math.PI,pn=tn.getModel("axisLine"),gn=pn.get("roundCap"),mn=gn?Sausage:Sector$1,_n=pn.get("show"),kn=pn.getModel("lineStyle"),Cn=kn.get("width"),xn=[fn,hn];normalizeArcAngles(xn,!un),fn=xn[0],hn=xn[1];for(var Sn=hn-fn,Mn=fn,In=[],On=0;_n&&On<an.length;On++){var Pn=Math.min(Math.max(an[On][0],0),1);hn=fn+Sn*Pn;var Tn=new mn({shape:{startAngle:Mn,endAngle:hn,cx:ln.cx,cy:ln.cy,clockwise:un,r0:ln.r-Cn,r:ln.r},silent:!0});Tn.setStyle({fill:an[On][1]}),Tn.setStyle(kn.getLineStyle(["color","width"])),In.push(Tn),Mn=hn}In.reverse(),each$f(In,function(Hn){return cn.add(Hn)});var Nn=function(Hn){if(Hn<=0)return an[0][1];var Un;for(Un=0;Un<an.length;Un++)if(an[Un][0]>=Hn&&(Un===0?0:an[Un-1][0])<Hn)return an[Un][1];return an[Un-1][1]};this._renderTicks(tn,nn,rn,Nn,ln,fn,hn,un,Cn),this._renderTitleAndDetail(tn,nn,rn,Nn,ln),this._renderAnchor(tn,ln),this._renderPointer(tn,nn,rn,Nn,ln,fn,hn,un,Cn)},en.prototype._renderTicks=function(tn,nn,rn,an,ln,cn,un,fn,hn){for(var pn=this.group,gn=ln.cx,mn=ln.cy,_n=ln.r,kn=+tn.get("min"),Cn=+tn.get("max"),xn=tn.getModel("splitLine"),Sn=tn.getModel("axisTick"),Mn=tn.getModel("axisLabel"),In=tn.get("splitNumber"),On=Sn.get("splitNumber"),Pn=parsePercent(xn.get("length"),_n),Tn=parsePercent(Sn.get("length"),_n),Nn=cn,Hn=(un-cn)/In,Un=Hn/On,jn=xn.getModel("lineStyle").getLineStyle(),Yn=Sn.getModel("lineStyle").getLineStyle(),Wn=xn.get("distance"),Qn,Xn,jr=0;jr<=In;jr++){if(Qn=Math.cos(Nn),Xn=Math.sin(Nn),xn.get("show")){var Wr=Wn?Wn+hn:hn,Jr=new Line$3({shape:{x1:Qn*(_n-Wr)+gn,y1:Xn*(_n-Wr)+mn,x2:Qn*(_n-Pn-Wr)+gn,y2:Xn*(_n-Pn-Wr)+mn},style:jn,silent:!0});jn.stroke==="auto"&&Jr.setStyle({stroke:an(jr/In)}),pn.add(Jr)}if(Mn.get("show")){var Wr=Mn.get("distance")+Wn,ci=formatLabel(round$3(jr/In*(Cn-kn)+kn),Mn.get("formatter")),ti=an(jr/In),Zr=Qn*(_n-Pn-Wr)+gn,Br=Xn*(_n-Pn-Wr)+mn,Jn=Mn.get("rotate"),oi=0;Jn==="radial"?(oi=-Nn+2*Math.PI,oi>Math.PI/2&&(oi+=Math.PI)):Jn==="tangential"?oi=-Nn-Math.PI/2:isNumber(Jn)&&(oi=Jn*Math.PI/180),oi===0?pn.add(new ZRText$1({style:createTextStyle$1(Mn,{text:ci,x:Zr,y:Br,verticalAlign:Xn<-.8?"top":Xn>.8?"bottom":"middle",align:Qn<-.4?"left":Qn>.4?"right":"center"},{inheritColor:ti}),silent:!0})):pn.add(new ZRText$1({style:createTextStyle$1(Mn,{text:ci,x:Zr,y:Br,verticalAlign:"middle",align:"center"},{inheritColor:ti}),silent:!0,originX:Zr,originY:Br,rotation:oi}))}if(Sn.get("show")&&jr!==In){var Wr=Sn.get("distance");Wr=Wr?Wr+hn:hn;for(var pi=0;pi<=On;pi++){Qn=Math.cos(Nn),Xn=Math.sin(Nn);var ri=new Line$3({shape:{x1:Qn*(_n-Wr)+gn,y1:Xn*(_n-Wr)+mn,x2:Qn*(_n-Tn-Wr)+gn,y2:Xn*(_n-Tn-Wr)+mn},silent:!0,style:Yn});Yn.stroke==="auto"&&ri.setStyle({stroke:an((jr+pi/On)/In)}),pn.add(ri),Nn+=Un}Nn-=Un}else Nn+=Hn}},en.prototype._renderPointer=function(tn,nn,rn,an,ln,cn,un,fn,hn){var pn=this.group,gn=this._data,mn=this._progressEls,_n=[],kn=tn.get(["pointer","show"]),Cn=tn.getModel("progress"),xn=Cn.get("show"),Sn=tn.getData(),Mn=Sn.mapDimension("value"),In=+tn.get("min"),On=+tn.get("max"),Pn=[In,On],Tn=[cn,un];function Nn(Un,jn){var Yn=Sn.getItemModel(Un),Wn=Yn.getModel("pointer"),Qn=parsePercent(Wn.get("width"),ln.r),Xn=parsePercent(Wn.get("length"),ln.r),jr=tn.get(["pointer","icon"]),Wr=Wn.get("offsetCenter"),Jr=parsePercent(Wr[0],ln.r),ci=parsePercent(Wr[1],ln.r),ti=Wn.get("keepAspect"),Zr;return jr?Zr=createSymbol$1(jr,Jr-Qn/2,ci-Xn,Qn,Xn,null,ti):Zr=new PointerPath$1({shape:{angle:-Math.PI/2,width:Qn,r:Xn,x:Jr,y:ci}}),Zr.rotation=-(jn+Math.PI/2),Zr.x=ln.cx,Zr.y=ln.cy,Zr}function Hn(Un,jn){var Yn=Cn.get("roundCap"),Wn=Yn?Sausage:Sector$1,Qn=Cn.get("overlap"),Xn=Qn?Cn.get("width"):hn/Sn.count(),jr=Qn?ln.r-Xn:ln.r-(Un+1)*Xn,Wr=Qn?ln.r:ln.r-Un*Xn,Jr=new Wn({shape:{startAngle:cn,endAngle:jn,cx:ln.cx,cy:ln.cy,clockwise:fn,r0:jr,r:Wr}});return Qn&&(Jr.z2=On-Sn.get(Mn,Un)%On),Jr}(xn||kn)&&(Sn.diff(gn).add(function(Un){var jn=Sn.get(Mn,Un);if(kn){var Yn=Nn(Un,cn);initProps(Yn,{rotation:-((isNaN(+jn)?Tn[0]:linearMap$2(jn,Pn,Tn,!0))+Math.PI/2)},tn),pn.add(Yn),Sn.setItemGraphicEl(Un,Yn)}if(xn){var Wn=Hn(Un,cn),Qn=Cn.get("clip");initProps(Wn,{shape:{endAngle:linearMap$2(jn,Pn,Tn,Qn)}},tn),pn.add(Wn),setCommonECData(tn.seriesIndex,Sn.dataType,Un,Wn),_n[Un]=Wn}}).update(function(Un,jn){var Yn=Sn.get(Mn,Un);if(kn){var Wn=gn.getItemGraphicEl(jn),Qn=Wn?Wn.rotation:cn,Xn=Nn(Un,Qn);Xn.rotation=Qn,updateProps$1(Xn,{rotation:-((isNaN(+Yn)?Tn[0]:linearMap$2(Yn,Pn,Tn,!0))+Math.PI/2)},tn),pn.add(Xn),Sn.setItemGraphicEl(Un,Xn)}if(xn){var jr=mn[jn],Wr=jr?jr.shape.endAngle:cn,Jr=Hn(Un,Wr),ci=Cn.get("clip");updateProps$1(Jr,{shape:{endAngle:linearMap$2(Yn,Pn,Tn,ci)}},tn),pn.add(Jr),setCommonECData(tn.seriesIndex,Sn.dataType,Un,Jr),_n[Un]=Jr}}).execute(),Sn.each(function(Un){var jn=Sn.getItemModel(Un),Yn=jn.getModel("emphasis"),Wn=Yn.get("focus"),Qn=Yn.get("blurScope"),Xn=Yn.get("disabled");if(kn){var jr=Sn.getItemGraphicEl(Un),Wr=Sn.getItemVisual(Un,"style"),Jr=Wr.fill;if(jr instanceof ZRImage$1){var ci=jr.style;jr.useStyle(extend$1({image:ci.image,x:ci.x,y:ci.y,width:ci.width,height:ci.height},Wr))}else jr.useStyle(Wr),jr.type!=="pointer"&&jr.setColor(Jr);jr.setStyle(jn.getModel(["pointer","itemStyle"]).getItemStyle()),jr.style.fill==="auto"&&jr.setStyle("fill",an(linearMap$2(Sn.get(Mn,Un),Pn,[0,1],!0))),jr.z2EmphasisLift=0,setStatesStylesFromModel(jr,jn),toggleHoverEmphasis(jr,Wn,Qn,Xn)}if(xn){var ti=_n[Un];ti.useStyle(Sn.getItemVisual(Un,"style")),ti.setStyle(jn.getModel(["progress","itemStyle"]).getItemStyle()),ti.z2EmphasisLift=0,setStatesStylesFromModel(ti,jn),toggleHoverEmphasis(ti,Wn,Qn,Xn)}}),this._progressEls=_n)},en.prototype._renderAnchor=function(tn,nn){var rn=tn.getModel("anchor"),an=rn.get("show");if(an){var ln=rn.get("size"),cn=rn.get("icon"),un=rn.get("offsetCenter"),fn=rn.get("keepAspect"),hn=createSymbol$1(cn,nn.cx-ln/2+parsePercent(un[0],nn.r),nn.cy-ln/2+parsePercent(un[1],nn.r),ln,ln,null,fn);hn.z2=rn.get("showAbove")?1:0,hn.setStyle(rn.getModel("itemStyle").getItemStyle()),this.group.add(hn)}},en.prototype._renderTitleAndDetail=function(tn,nn,rn,an,ln){var cn=this,un=tn.getData(),fn=un.mapDimension("value"),hn=+tn.get("min"),pn=+tn.get("max"),gn=new Group$4,mn=[],_n=[],kn=tn.isAnimationEnabled(),Cn=tn.get(["pointer","showAbove"]);un.diff(this._data).add(function(xn){mn[xn]=new ZRText$1({silent:!0}),_n[xn]=new ZRText$1({silent:!0})}).update(function(xn,Sn){mn[xn]=cn._titleEls[Sn],_n[xn]=cn._detailEls[Sn]}).execute(),un.each(function(xn){var Sn=un.getItemModel(xn),Mn=un.get(fn,xn),In=new Group$4,On=an(linearMap$2(Mn,[hn,pn],[0,1],!0)),Pn=Sn.getModel("title");if(Pn.get("show")){var Tn=Pn.get("offsetCenter"),Nn=ln.cx+parsePercent(Tn[0],ln.r),Hn=ln.cy+parsePercent(Tn[1],ln.r),Un=mn[xn];Un.attr({z2:Cn?0:2,style:createTextStyle$1(Pn,{x:Nn,y:Hn,text:un.getName(xn),align:"center",verticalAlign:"middle"},{inheritColor:On})}),In.add(Un)}var jn=Sn.getModel("detail");if(jn.get("show")){var Yn=jn.get("offsetCenter"),Wn=ln.cx+parsePercent(Yn[0],ln.r),Qn=ln.cy+parsePercent(Yn[1],ln.r),Xn=parsePercent(jn.get("width"),ln.r),jr=parsePercent(jn.get("height"),ln.r),Wr=tn.get(["progress","show"])?un.getItemVisual(xn,"style").fill:On,Un=_n[xn],Jr=jn.get("formatter");Un.attr({z2:Cn?0:2,style:createTextStyle$1(jn,{x:Wn,y:Qn,text:formatLabel(Mn,Jr),width:isNaN(Xn)?null:Xn,height:isNaN(jr)?null:jr,align:"center",verticalAlign:"middle"},{inheritColor:Wr})}),setLabelValueAnimation(Un,{normal:jn},Mn,function(ti){return formatLabel(ti,Jr)}),kn&&animateLabelValue(Un,xn,un,tn,{getFormattedLabel:function(ti,Zr,Br,Jn,oi,pi){return formatLabel(pi?pi.interpolatedValue:Mn,Jr)}}),In.add(Un)}gn.add(In)}),this.group.add(gn),this._titleEls=mn,this._detailEls=_n},en.type="gauge",en}(ChartView$1);const GaugeView$1=GaugeView;var GaugeSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.visualStyleAccessPath="itemStyle",tn}return en.prototype.getInitialData=function(tn,nn){return createSeriesDataSimply(this,["value"])},en.type="series.gauge",en.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},en}(SeriesModel$1);const GaugeSeriesModel$1=GaugeSeriesModel;function install$E(Fe){Fe.registerChartView(GaugeView$1),Fe.registerSeriesModel(GaugeSeriesModel$1)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(Fe){__extends(en,Fe);function en(tn,nn){var rn=Fe.call(this)||this,an=rn,ln=new Polyline$3,cn=new ZRText$1;return an.setTextContent(cn),rn.setTextGuideLine(ln),rn.updateData(tn,nn,!0),rn}return en.prototype.updateData=function(tn,nn,rn){var an=this,ln=tn.hostModel,cn=tn.getItemModel(nn),un=tn.getItemLayout(nn),fn=cn.getModel("emphasis"),hn=cn.get(opacityAccessPath$1);hn=hn??1,rn||saveOldStyle(an),an.useStyle(tn.getItemVisual(nn,"style")),an.style.lineJoin="round",rn?(an.setShape({points:un.points}),an.style.opacity=0,initProps(an,{style:{opacity:hn}},ln,nn)):updateProps$1(an,{style:{opacity:hn},shape:{points:un.points}},ln,nn),setStatesStylesFromModel(an,cn),this._updateLabel(tn,nn),toggleHoverEmphasis(this,fn.get("focus"),fn.get("blurScope"),fn.get("disabled"))},en.prototype._updateLabel=function(tn,nn){var rn=this,an=this.getTextGuideLine(),ln=rn.getTextContent(),cn=tn.hostModel,un=tn.getItemModel(nn),fn=tn.getItemLayout(nn),hn=fn.label,pn=tn.getItemVisual(nn,"style"),gn=pn.fill;setLabelStyle(ln,getLabelStatesModels(un),{labelFetcher:tn.hostModel,labelDataIndex:nn,defaultOpacity:pn.opacity,defaultText:tn.getName(nn)},{normal:{align:hn.textAlign,verticalAlign:hn.verticalAlign}}),rn.setTextConfig({local:!0,inside:!!hn.inside,insideStroke:gn,outsideFill:gn});var mn=hn.linePoints;an.setShape({points:mn}),rn.textGuideLineConfig={anchor:mn?new Point$1(mn[0][0],mn[0][1]):null},updateProps$1(ln,{style:{x:hn.x,y:hn.y}},cn,nn),ln.attr({rotation:hn.rotation,originX:hn.x,originY:hn.y,z2:10}),setLabelLineStyle(rn,getLabelLineStatesModels(un),{stroke:gn})},en}(Polygon$1),FunnelView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.ignoreLabelLineUpdate=!0,tn}return en.prototype.render=function(tn,nn,rn){var an=tn.getData(),ln=this._data,cn=this.group;an.diff(ln).add(function(un){var fn=new FunnelPiece(an,un);an.setItemGraphicEl(un,fn),cn.add(fn)}).update(function(un,fn){var hn=ln.getItemGraphicEl(fn);hn.updateData(an,un),cn.add(hn),an.setItemGraphicEl(un,hn)}).remove(function(un){var fn=ln.getItemGraphicEl(un);removeElementWithFadeOut(fn,tn,un)}).execute(),this._data=an},en.prototype.remove=function(){this.group.removeAll(),this._data=null},en.prototype.dispose=function(){},en.type="funnel",en}(ChartView$1);const FunnelView$1=FunnelView;var FunnelSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(tn){Fe.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(tn)},en.prototype.getInitialData=function(tn,nn){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},en.prototype._defaultLabelLine=function(tn){defaultEmphasis(tn,"labelLine",["show"]);var nn=tn.labelLine,rn=tn.emphasis.labelLine;nn.show=nn.show&&tn.label.show,rn.show=rn.show&&tn.emphasis.label.show},en.prototype.getDataParams=function(tn){var nn=this.getData(),rn=Fe.prototype.getDataParams.call(this,tn),an=nn.mapDimension("value"),ln=nn.getSum(an);return rn.percent=ln?+(nn.get(an,tn)/ln*100).toFixed(2):0,rn.$vars.push("percent"),rn},en.type="series.funnel",en.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},en}(SeriesModel$1);const FunnelSeriesModel$1=FunnelSeriesModel;function getViewRect$2(Fe,en){return getLayoutRect(Fe.getBoxLayoutParams(),{width:en.getWidth(),height:en.getHeight()})}function getSortedIndices(Fe,en){for(var tn=Fe.mapDimension("value"),nn=Fe.mapArray(tn,function(un){return un}),rn=[],an=en==="ascending",ln=0,cn=Fe.count();ln<cn;ln++)rn[ln]=ln;return isFunction(en)?rn.sort(en):en!=="none"&&rn.sort(function(un,fn){return an?nn[un]-nn[fn]:nn[fn]-nn[un]}),rn}function labelLayout(Fe){var en=Fe.hostModel,tn=en.get("orient");Fe.each(function(nn){var rn=Fe.getItemModel(nn),an=rn.getModel("label"),ln=an.get("position"),cn=rn.getModel("labelLine"),un=Fe.getItemLayout(nn),fn=un.points,hn=ln==="inner"||ln==="inside"||ln==="center"||ln==="insideLeft"||ln==="insideRight",pn,gn,mn,_n;if(hn)ln==="insideLeft"?(gn=(fn[0][0]+fn[3][0])/2+5,mn=(fn[0][1]+fn[3][1])/2,pn="left"):ln==="insideRight"?(gn=(fn[1][0]+fn[2][0])/2-5,mn=(fn[1][1]+fn[2][1])/2,pn="right"):(gn=(fn[0][0]+fn[1][0]+fn[2][0]+fn[3][0])/4,mn=(fn[0][1]+fn[1][1]+fn[2][1]+fn[3][1])/4,pn="center"),_n=[[gn,mn],[gn,mn]];else{var kn=void 0,Cn=void 0,xn=void 0,Sn=void 0,Mn=cn.get("length");ln==="left"?(kn=(fn[3][0]+fn[0][0])/2,Cn=(fn[3][1]+fn[0][1])/2,xn=kn-Mn,gn=xn-5,pn="right"):ln==="right"?(kn=(fn[1][0]+fn[2][0])/2,Cn=(fn[1][1]+fn[2][1])/2,xn=kn+Mn,gn=xn+5,pn="left"):ln==="top"?(kn=(fn[3][0]+fn[0][0])/2,Cn=(fn[3][1]+fn[0][1])/2,Sn=Cn-Mn,mn=Sn-5,pn="center"):ln==="bottom"?(kn=(fn[1][0]+fn[2][0])/2,Cn=(fn[1][1]+fn[2][1])/2,Sn=Cn+Mn,mn=Sn+5,pn="center"):ln==="rightTop"?(kn=tn==="horizontal"?fn[3][0]:fn[1][0],Cn=tn==="horizontal"?fn[3][1]:fn[1][1],tn==="horizontal"?(Sn=Cn-Mn,mn=Sn-5,pn="center"):(xn=kn+Mn,gn=xn+5,pn="top")):ln==="rightBottom"?(kn=fn[2][0],Cn=fn[2][1],tn==="horizontal"?(Sn=Cn+Mn,mn=Sn+5,pn="center"):(xn=kn+Mn,gn=xn+5,pn="bottom")):ln==="leftTop"?(kn=fn[0][0],Cn=tn==="horizontal"?fn[0][1]:fn[1][1],tn==="horizontal"?(Sn=Cn-Mn,mn=Sn-5,pn="center"):(xn=kn-Mn,gn=xn-5,pn="right")):ln==="leftBottom"?(kn=tn==="horizontal"?fn[1][0]:fn[3][0],Cn=tn==="horizontal"?fn[1][1]:fn[2][1],tn==="horizontal"?(Sn=Cn+Mn,mn=Sn+5,pn="center"):(xn=kn-Mn,gn=xn-5,pn="right")):(kn=(fn[1][0]+fn[2][0])/2,Cn=(fn[1][1]+fn[2][1])/2,tn==="horizontal"?(Sn=Cn+Mn,mn=Sn+5,pn="center"):(xn=kn+Mn,gn=xn+5,pn="left")),tn==="horizontal"?(xn=kn,gn=xn):(Sn=Cn,mn=Sn),_n=[[kn,Cn],[xn,Sn]]}un.label={linePoints:_n,x:gn,y:mn,verticalAlign:"middle",textAlign:pn,inside:hn}})}function funnelLayout(Fe,en){Fe.eachSeriesByType("funnel",function(tn){var nn=tn.getData(),rn=nn.mapDimension("value"),an=tn.get("sort"),ln=getViewRect$2(tn,en),cn=tn.get("orient"),un=ln.width,fn=ln.height,hn=getSortedIndices(nn,an),pn=ln.x,gn=ln.y,mn=cn==="horizontal"?[parsePercent(tn.get("minSize"),fn),parsePercent(tn.get("maxSize"),fn)]:[parsePercent(tn.get("minSize"),un),parsePercent(tn.get("maxSize"),un)],_n=nn.getDataExtent(rn),kn=tn.get("min"),Cn=tn.get("max");kn==null&&(kn=Math.min(_n[0],0)),Cn==null&&(Cn=_n[1]);var xn=tn.get("funnelAlign"),Sn=tn.get("gap"),Mn=cn==="horizontal"?un:fn,In=(Mn-Sn*(nn.count()-1))/nn.count(),On=function(Qn,Xn){if(cn==="horizontal"){var jr=nn.get(rn,Qn)||0,Wr=linearMap$2(jr,[kn,Cn],mn,!0),Jr=void 0;switch(xn){case"top":Jr=gn;break;case"center":Jr=gn+(fn-Wr)/2;break;case"bottom":Jr=gn+(fn-Wr);break}return[[Xn,Jr],[Xn,Jr+Wr]]}var ci=nn.get(rn,Qn)||0,ti=linearMap$2(ci,[kn,Cn],mn,!0),Zr;switch(xn){case"left":Zr=pn;break;case"center":Zr=pn+(un-ti)/2;break;case"right":Zr=pn+un-ti;break}return[[Zr,Xn],[Zr+ti,Xn]]};an==="ascending"&&(In=-In,Sn=-Sn,cn==="horizontal"?pn+=un:gn+=fn,hn=hn.reverse());for(var Pn=0;Pn<hn.length;Pn++){var Tn=hn[Pn],Nn=hn[Pn+1],Hn=nn.getItemModel(Tn);if(cn==="horizontal"){var Un=Hn.get(["itemStyle","width"]);Un==null?Un=In:(Un=parsePercent(Un,un),an==="ascending"&&(Un=-Un));var jn=On(Tn,pn),Yn=On(Nn,pn+Un);pn+=Un+Sn,nn.setItemLayout(Tn,{points:jn.concat(Yn.slice().reverse())})}else{var Wn=Hn.get(["itemStyle","height"]);Wn==null?Wn=In:(Wn=parsePercent(Wn,fn),an==="ascending"&&(Wn=-Wn));var jn=On(Tn,gn),Yn=On(Nn,gn+Wn);gn+=Wn+Sn,nn.setItemLayout(Tn,{points:jn.concat(Yn.slice().reverse())})}}labelLayout(nn)})}function install$D(Fe){Fe.registerChartView(FunnelView$1),Fe.registerSeriesModel(FunnelSeriesModel$1),Fe.registerLayout(funnelLayout),Fe.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$2=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn._dataGroup=new Group$4,tn._initialized=!1,tn}return en.prototype.init=function(){this.group.add(this._dataGroup)},en.prototype.render=function(tn,nn,rn,an){this._progressiveEls=null;var ln=this._dataGroup,cn=tn.getData(),un=this._data,fn=tn.coordinateSystem,hn=fn.dimensions,pn=makeSeriesScope(tn);cn.diff(un).add(gn).update(mn).remove(_n).execute();function gn(Cn){var xn=addEl(cn,ln,Cn,hn,fn);updateElCommon(xn,cn,Cn,pn)}function mn(Cn,xn){var Sn=un.getItemGraphicEl(xn),Mn=createLinePoints(cn,Cn,hn,fn);cn.setItemGraphicEl(Cn,Sn),updateProps$1(Sn,{shape:{points:Mn}},tn,Cn),saveOldStyle(Sn),updateElCommon(Sn,cn,Cn,pn)}function _n(Cn){var xn=un.getItemGraphicEl(Cn);ln.remove(xn)}if(!this._initialized){this._initialized=!0;var kn=createGridClipShape$2(fn,tn,function(){setTimeout(function(){ln.removeClipPath()})});ln.setClipPath(kn)}this._data=cn},en.prototype.incrementalPrepareRender=function(tn,nn,rn){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},en.prototype.incrementalRender=function(tn,nn,rn){for(var an=nn.getData(),ln=nn.coordinateSystem,cn=ln.dimensions,un=makeSeriesScope(nn),fn=this._progressiveEls=[],hn=tn.start;hn<tn.end;hn++){var pn=addEl(an,this._dataGroup,hn,cn,ln);pn.incremental=!0,updateElCommon(pn,an,hn,un),fn.push(pn)}},en.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},en.type="parallel",en}(ChartView$1);function createGridClipShape$2(Fe,en,tn){var nn=Fe.model,rn=Fe.getRect(),an=new Rect$3({shape:{x:rn.x,y:rn.y,width:rn.width,height:rn.height}}),ln=nn.get("layout")==="horizontal"?"width":"height";return an.setShape(ln,0),initProps(an,{shape:{width:rn.width,height:rn.height}},en,tn),an}function createLinePoints(Fe,en,tn,nn){for(var rn=[],an=0;an<tn.length;an++){var ln=tn[an],cn=Fe.get(Fe.mapDimension(ln),en);isEmptyValue(cn,nn.getAxis(ln).type)||rn.push(nn.dataToPoint(cn,ln))}return rn}function addEl(Fe,en,tn,nn,rn){var an=createLinePoints(Fe,tn,nn,rn),ln=new Polyline$3({shape:{points:an},z2:10});return en.add(ln),Fe.setItemGraphicEl(tn,ln),ln}function makeSeriesScope(Fe){var en=Fe.get("smooth",!0);return en===!0&&(en=DEFAULT_SMOOTH),en=numericToNumber(en),eqNaN(en)&&(en=0),{smooth:en}}function updateElCommon(Fe,en,tn,nn){Fe.useStyle(en.getItemVisual(tn,"style")),Fe.style.fill=null,Fe.setShape("smooth",nn.smooth);var rn=en.getItemModel(tn),an=rn.getModel("emphasis");setStatesStylesFromModel(Fe,rn,"lineStyle"),toggleHoverEmphasis(Fe,an.get("focus"),an.get("blurScope"),an.get("disabled"))}function isEmptyValue(Fe,en){return en==="category"?Fe==null:Fe==null||isNaN(Fe)}const ParallelView$3=ParallelView$2;var ParallelSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.visualStyleAccessPath="lineStyle",tn.visualDrawType="stroke",tn}return en.prototype.getInitialData=function(tn,nn){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},en.prototype.getRawIndicesByActiveState=function(tn){var nn=this.coordinateSystem,rn=this.getData(),an=[];return nn.eachActiveState(rn,function(ln,cn){tn===ln&&an.push(rn.getRawIndex(cn))}),an},en.type="series.parallel",en.dependencies=["parallel"],en.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},en}(SeriesModel$1);function makeDefaultEncode(Fe){var en=Fe.ecModel.getComponent("parallel",Fe.get("parallelIndex"));if(en){var tn={};return each$f(en.dimensions,function(nn){var rn=convertDimNameToNumber(nn);tn[nn]=rn}),tn}}function convertDimNameToNumber(Fe){return+Fe.replace("dim","")}const ParallelSeriesModel$1=ParallelSeriesModel;var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(Fe,en){var tn=Fe.coordinateSystem,nn={normal:Fe.get(["lineStyle","opacity"]),active:Fe.get("activeOpacity"),inactive:Fe.get("inactiveOpacity")};return{progress:function(rn,an){tn.eachActiveState(an,function(ln,cn){var un=nn[ln];if(ln==="normal"&&an.hasItemOption){var fn=an.getItemModel(cn).get(opacityAccessPath,!0);fn!=null&&(un=fn)}var hn=an.ensureUniqueItemVisual(cn,"style");hn.opacity=un},rn.start,rn.end)}}}};const parallelVisual$1=parallelVisual;function parallelPreprocessor(Fe){createParallelIfNeeded(Fe),mergeAxisOptionFromParallel(Fe)}function createParallelIfNeeded(Fe){if(!Fe.parallel){var en=!1;each$f(Fe.series,function(tn){tn&&tn.type==="parallel"&&(en=!0)}),en&&(Fe.parallel=[{}])}}function mergeAxisOptionFromParallel(Fe){var en=normalizeToArray(Fe.parallelAxis);each$f(en,function(tn){if(isObject$3(tn)){var nn=tn.parallelIndex||0,rn=normalizeToArray(Fe.parallel)[nn];rn&&rn.parallelAxisDefault&&merge(tn,rn.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){this._model=tn,this._api=rn,this._handlers||(this._handlers={},each$f(handlers$1,function(an,ln){rn.getZr().on(ln,this._handlers[ln]=bind$1(an,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",tn.get("axisExpandRate"),"fixRate")},en.prototype.dispose=function(tn,nn){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(rn,an){nn.getZr().off(an,rn)}),this._handlers=null},en.prototype._throttledDispatchExpand=function(tn){this._dispatchExpand(tn)},en.prototype._dispatchExpand=function(tn){tn&&this._api.dispatchAction(extend$1({type:"parallelAxisExpand"},tn))},en.type="parallel",en}(ComponentView$1),handlers$1={mousedown:function(Fe){checkTrigger(this,"click")&&(this._mouseDownPoint=[Fe.offsetX,Fe.offsetY])},mouseup:function(Fe){var en=this._mouseDownPoint;if(checkTrigger(this,"click")&&en){var tn=[Fe.offsetX,Fe.offsetY],nn=Math.pow(en[0]-tn[0],2)+Math.pow(en[1]-tn[1],2);if(nn>CLICK_THRESHOLD)return;var rn=this._model.coordinateSystem.getSlidedAxisExpandWindow([Fe.offsetX,Fe.offsetY]);rn.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:rn.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(Fe){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var en=this._model,tn=en.coordinateSystem.getSlidedAxisExpandWindow([Fe.offsetX,Fe.offsetY]),nn=tn.behavior;nn==="jump"&&this._throttledDispatchExpand.debounceNextCall(en.get("axisExpandDebounce")),this._throttledDispatchExpand(nn==="none"?null:{axisExpandWindow:tn.axisExpandWindow,animation:nn==="jump"?null:{duration:0}})}}};function checkTrigger(Fe,en){var tn=Fe._model;return tn.get("axisExpandable")&&tn.get("axisExpandTriggerOn")===en}const ParallelView$1=ParallelView;var ParallelModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(){Fe.prototype.init.apply(this,arguments),this.mergeOption({})},en.prototype.mergeOption=function(tn){var nn=this.option;tn&&merge(nn,tn,!0),this._initDimensions()},en.prototype.contains=function(tn,nn){var rn=tn.get("parallelIndex");return rn!=null&&nn.getComponent("parallel",rn)===this},en.prototype.setAxisExpand=function(tn){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(nn){tn.hasOwnProperty(nn)&&(this.option[nn]=tn[nn])},this)},en.prototype._initDimensions=function(){var tn=this.dimensions=[],nn=this.parallelAxisIndex=[],rn=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(an){return(an.get("parallelIndex")||0)===this.componentIndex},this);each$f(rn,function(an){tn.push("dim"+an.get("dim")),nn.push(an.componentIndex)})},en.type="parallel",en.dependencies=["parallelAxis"],en.layoutMode="box",en.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},en}(ComponentModel$1);const ParallelModel$1=ParallelModel;var ParallelAxis=function(Fe){__extends(en,Fe);function en(tn,nn,rn,an,ln){var cn=Fe.call(this,tn,nn,rn)||this;return cn.type=an||"value",cn.axisIndex=ln,cn}return en.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},en}(Axis$1);const ParallelAxis$1=ParallelAxis;function sliderMove(Fe,en,tn,nn,rn,an){Fe=Fe||0;var ln=tn[1]-tn[0];if(rn!=null&&(rn=restrict$1(rn,[0,ln])),an!=null&&(an=Math.max(an,rn??0)),nn==="all"){var cn=Math.abs(en[1]-en[0]);cn=restrict$1(cn,[0,ln]),rn=an=restrict$1(cn,[rn,an]),nn=0}en[0]=restrict$1(en[0],tn),en[1]=restrict$1(en[1],tn);var un=getSpanSign(en,nn);en[nn]+=Fe;var fn=rn||0,hn=tn.slice();un.sign<0?hn[0]+=fn:hn[1]-=fn,en[nn]=restrict$1(en[nn],hn);var pn;return pn=getSpanSign(en,nn),rn!=null&&(pn.sign!==un.sign||pn.span<rn)&&(en[1-nn]=en[nn]+un.sign*rn),pn=getSpanSign(en,nn),an!=null&&pn.span>an&&(en[1-nn]=en[nn]+pn.sign*an),en}function getSpanSign(Fe,en){var tn=Fe[en]-Fe[1-en];return{span:Math.abs(tn),sign:tn>0?-1:tn<0?1:en?-1:1}}function restrict$1(Fe,en){return Math.min(en[1]!=null?en[1]:1/0,Math.max(en[0]!=null?en[0]:-1/0,Fe))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function Fe(en,tn,nn){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=en.dimensions,this._model=en,this._init(en,tn,nn)}return Fe.prototype._init=function(en,tn,nn){var rn=en.dimensions,an=en.parallelAxisIndex;each$a(rn,function(ln,cn){var un=an[cn],fn=tn.getComponent("parallelAxis",un),hn=this._axesMap.set(ln,new ParallelAxis$1(ln,createScaleByModel$1(fn),[0,0],fn.get("type"),un)),pn=hn.type==="category";hn.onBand=pn&&fn.get("boundaryGap"),hn.inverse=fn.get("inverse"),fn.axis=hn,hn.model=fn,hn.coordinateSystem=fn.coordinateSystem=this},this)},Fe.prototype.update=function(en,tn){this._updateAxesFromSeries(this._model,en)},Fe.prototype.containPoint=function(en){var tn=this._makeLayoutInfo(),nn=tn.axisBase,rn=tn.layoutBase,an=tn.pixelDimIndex,ln=en[1-an],cn=en[an];return ln>=nn&&ln<=nn+tn.axisLength&&cn>=rn&&cn<=rn+tn.layoutLength},Fe.prototype.getModel=function(){return this._model},Fe.prototype._updateAxesFromSeries=function(en,tn){tn.eachSeries(function(nn){if(en.contains(nn,tn)){var rn=nn.getData();each$a(this.dimensions,function(an){var ln=this._axesMap.get(an);ln.scale.unionExtentFromData(rn,rn.mapDimension(an)),niceScaleExtent(ln.scale,ln.model)},this)}},this)},Fe.prototype.resize=function(en,tn){this._rect=getLayoutRect(en.getBoxLayoutParams(),{width:tn.getWidth(),height:tn.getHeight()}),this._layoutAxes()},Fe.prototype.getRect=function(){return this._rect},Fe.prototype._makeLayoutInfo=function(){var en=this._model,tn=this._rect,nn=["x","y"],rn=["width","height"],an=en.get("layout"),ln=an==="horizontal"?0:1,cn=tn[rn[ln]],un=[0,cn],fn=this.dimensions.length,hn=restrict(en.get("axisExpandWidth"),un),pn=restrict(en.get("axisExpandCount")||0,[0,fn]),gn=en.get("axisExpandable")&&fn>3&&fn>pn&&pn>1&&hn>0&&cn>0,mn=en.get("axisExpandWindow"),_n;if(mn)_n=restrict(mn[1]-mn[0],un),mn[1]=mn[0]+_n;else{_n=restrict(hn*(pn-1),un);var kn=en.get("axisExpandCenter")||mathFloor(fn/2);mn=[hn*kn-_n/2],mn[1]=mn[0]+_n}var Cn=(cn-_n)/(fn-pn);Cn<3&&(Cn=0);var xn=[mathFloor(round(mn[0]/hn,1))+1,mathCeil(round(mn[1]/hn,1))-1],Sn=Cn/hn*mn[0];return{layout:an,pixelDimIndex:ln,layoutBase:tn[nn[ln]],layoutLength:cn,axisBase:tn[nn[1-ln]],axisLength:tn[rn[1-ln]],axisExpandable:gn,axisExpandWidth:hn,axisCollapseWidth:Cn,axisExpandWindow:mn,axisCount:fn,winInnerIndices:xn,axisExpandWindow0Pos:Sn}},Fe.prototype._layoutAxes=function(){var en=this._rect,tn=this._axesMap,nn=this.dimensions,rn=this._makeLayoutInfo(),an=rn.layout;tn.each(function(ln){var cn=[0,rn.axisLength],un=ln.inverse?1:0;ln.setExtent(cn[un],cn[1-un])}),each$a(nn,function(ln,cn){var un=(rn.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(cn,rn),fn={horizontal:{x:un.position,y:rn.axisLength},vertical:{x:0,y:un.position}},hn={horizontal:PI$1/2,vertical:0},pn=[fn[an].x+en.x,fn[an].y+en.y],gn=hn[an],mn=create$1();rotate(mn,mn,gn),translate(mn,mn,pn),this._axesLayout[ln]={position:pn,rotation:gn,transform:mn,axisNameAvailableWidth:un.axisNameAvailableWidth,axisLabelShow:un.axisLabelShow,nameTruncateMaxWidth:un.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},Fe.prototype.getAxis=function(en){return this._axesMap.get(en)},Fe.prototype.dataToPoint=function(en,tn){return this.axisCoordToPoint(this._axesMap.get(tn).dataToCoord(en),tn)},Fe.prototype.eachActiveState=function(en,tn,nn,rn){nn==null&&(nn=0),rn==null&&(rn=en.count());var an=this._axesMap,ln=this.dimensions,cn=[],un=[];each$f(ln,function(Cn){cn.push(en.mapDimension(Cn)),un.push(an.get(Cn).model)});for(var fn=this.hasAxisBrushed(),hn=nn;hn<rn;hn++){var pn=void 0;if(!fn)pn="normal";else{pn="active";for(var gn=en.getValues(cn,hn),mn=0,_n=ln.length;mn<_n;mn++){var kn=un[mn].getActiveState(gn[mn]);if(kn==="inactive"){pn="inactive";break}}}tn(pn,hn)}},Fe.prototype.hasAxisBrushed=function(){for(var en=this.dimensions,tn=this._axesMap,nn=!1,rn=0,an=en.length;rn<an;rn++)tn.get(en[rn]).model.getActiveState()!=="normal"&&(nn=!0);return nn},Fe.prototype.axisCoordToPoint=function(en,tn){var nn=this._axesLayout[tn];return applyTransform([en,0],nn.transform)},Fe.prototype.getAxisLayout=function(en){return clone$4(this._axesLayout[en])},Fe.prototype.getSlidedAxisExpandWindow=function(en){var tn=this._makeLayoutInfo(),nn=tn.pixelDimIndex,rn=tn.axisExpandWindow.slice(),an=rn[1]-rn[0],ln=[0,tn.axisExpandWidth*(tn.axisCount-1)];if(!this.containPoint(en))return{behavior:"none",axisExpandWindow:rn};var cn=en[nn]-tn.layoutBase-tn.axisExpandWindow0Pos,un,fn="slide",hn=tn.axisCollapseWidth,pn=this._model.get("axisExpandSlideTriggerArea"),gn=pn[0]!=null;if(hn)gn&&hn&&cn<an*pn[0]?(fn="jump",un=cn-an*pn[2]):gn&&hn&&cn>an*(1-pn[0])?(fn="jump",un=cn-an*(1-pn[2])):(un=cn-an*pn[1])>=0&&(un=cn-an*(1-pn[1]))<=0&&(un=0),un*=tn.axisExpandWidth/hn,un?sliderMove(un,rn,ln,"all"):fn="none";else{var mn=rn[1]-rn[0],_n=ln[1]*cn/mn;rn=[mathMax$2(0,_n-mn/2)],rn[1]=mathMin$2(ln[1],rn[0]+mn),rn[0]=rn[1]-mn}return{axisExpandWindow:rn,behavior:fn}},Fe}();function restrict(Fe,en){return mathMin$2(mathMax$2(Fe,en[0]),en[1])}function layoutAxisWithoutExpand(Fe,en){var tn=en.layoutLength/(en.axisCount-1);return{position:tn*Fe,axisNameAvailableWidth:tn,axisLabelShow:!0}}function layoutAxisWithExpand(Fe,en){var tn=en.layoutLength,nn=en.axisExpandWidth,rn=en.axisCount,an=en.axisCollapseWidth,ln=en.winInnerIndices,cn,un=an,fn=!1,hn;return Fe<ln[0]?(cn=Fe*an,hn=an):Fe<=ln[1]?(cn=en.axisExpandWindow0Pos+Fe*nn-en.axisExpandWindow[0],un=nn,fn=!0):(cn=tn-(rn-1-Fe)*an,hn=an),{position:cn,axisNameAvailableWidth:un,axisLabelShow:fn,nameTruncateMaxWidth:hn}}const Parallel$1=Parallel;function createParallelCoordSys(Fe,en){var tn=[];return Fe.eachComponent("parallel",function(nn,rn){var an=new Parallel$1(nn,Fe,en);an.name="parallel_"+rn,an.resize(nn,en),nn.coordinateSystem=an,an.model=nn,tn.push(an)}),Fe.eachSeries(function(nn){if(nn.get("coordinateSystem")==="parallel"){var rn=nn.getReferringComponents("parallel",SINGLE_REFERRING).models[0];nn.coordinateSystem=rn.coordinateSystem}}),tn}var parallelCoordSysCreator={create:createParallelCoordSys};const parallelCoordSysCreator$1=parallelCoordSysCreator;var ParallelAxisModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.activeIntervals=[],tn}return en.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},en.prototype.setActiveIntervals=function(tn){var nn=this.activeIntervals=clone$4(tn);if(nn)for(var rn=nn.length-1;rn>=0;rn--)asc$2(nn[rn])},en.prototype.getActiveState=function(tn){var nn=this.activeIntervals;if(!nn.length)return"normal";if(tn==null||isNaN(+tn))return"inactive";if(nn.length===1){var rn=nn[0];if(rn[0]<=tn&&tn<=rn[1])return"active"}else for(var an=0,ln=nn.length;an<ln;an++)if(nn[an][0]<=tn&&tn<=nn[an][1])return"active";return"inactive"},en}(ComponentModel$1);mixin(ParallelAxisModel,AxisModelCommonMixin);const ParallelAxisModel$1=ParallelAxisModel;var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this)||this;return nn._track=[],nn._covers=[],nn._handlers={},nn._zr=tn,nn.group=new Group$4,nn._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(rn,an){this._handlers[an]=bind$1(rn,this)},nn),nn}return en.prototype.enableBrush=function(tn){return this._brushType&&this._doDisableBrush(),tn.brushType&&this._doEnableBrush(tn),this},en.prototype._doEnableBrush=function(tn){var nn=this._zr;this._enableGlobalPan||take(nn,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(rn,an){nn.on(an,rn)}),this._brushType=tn.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),tn,!0)},en.prototype._doDisableBrush=function(){var tn=this._zr;release(tn,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(nn,rn){tn.off(rn,nn)}),this._brushType=this._brushOption=null},en.prototype.setPanels=function(tn){if(tn&&tn.length){var nn=this._panels={};each$f(tn,function(rn){nn[rn.panelId]=clone$4(rn)})}else this._panels=null;return this},en.prototype.mount=function(tn){tn=tn||{},this._enableGlobalPan=tn.enableGlobalPan;var nn=this.group;return this._zr.add(nn),nn.attr({x:tn.x||0,y:tn.y||0,rotation:tn.rotation||0,scaleX:tn.scaleX||1,scaleY:tn.scaleY||1}),this._transform=nn.getLocalTransform(),this},en.prototype.updateCovers=function(tn){tn=map$1(tn,function(gn){return merge(clone$4(DEFAULT_BRUSH_OPT),gn,!0)});var nn="\0-brush-index-",rn=this._covers,an=this._covers=[],ln=this,cn=this._creatingCover;return new DataDiffer$1(rn,tn,fn,un).add(hn).update(hn).remove(pn).execute(),this;function un(gn,mn){return(gn.id!=null?gn.id:nn+mn)+"-"+gn.brushType}function fn(gn,mn){return un(gn.__brushOption,mn)}function hn(gn,mn){var _n=tn[gn];if(mn!=null&&rn[mn]===cn)an[gn]=rn[mn];else{var kn=an[gn]=mn!=null?(rn[mn].__brushOption=_n,rn[mn]):endCreating(ln,createCover(ln,_n));updateCoverAfterCreation(ln,kn)}}function pn(gn){rn[gn]!==cn&&ln.group.remove(rn[gn])}},en.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},en.prototype.dispose=function(){this.unmount(),this.off()},en}(Eventful$1);function createCover(Fe,en){var tn=coverRenderers[en.brushType].createCover(Fe,en);return tn.__brushOption=en,updateZ$1(tn,en),Fe.group.add(tn),tn}function endCreating(Fe,en){var tn=getCoverRenderer(en);return tn.endCreating&&(tn.endCreating(Fe,en),updateZ$1(en,en.__brushOption)),en}function updateCoverShape(Fe,en){var tn=en.__brushOption;getCoverRenderer(en).updateCoverShape(Fe,en,tn.range,tn)}function updateZ$1(Fe,en){var tn=en.z;tn==null&&(tn=COVER_Z),Fe.traverse(function(nn){nn.z=tn,nn.z2=tn})}function updateCoverAfterCreation(Fe,en){getCoverRenderer(en).updateCommon(Fe,en),updateCoverShape(Fe,en)}function getCoverRenderer(Fe){return coverRenderers[Fe.__brushOption.brushType]}function getPanelByPoint(Fe,en,tn){var nn=Fe._panels;if(!nn)return BRUSH_PANEL_GLOBAL;var rn,an=Fe._transform;return each$f(nn,function(ln){ln.isTargetByCursor(en,tn,an)&&(rn=ln)}),rn}function getPanelByCover(Fe,en){var tn=Fe._panels;if(!tn)return BRUSH_PANEL_GLOBAL;var nn=en.__brushOption.panelId;return nn!=null?tn[nn]:BRUSH_PANEL_GLOBAL}function clearCovers(Fe){var en=Fe._covers,tn=en.length;return each$f(en,function(nn){Fe.group.remove(nn)},Fe),en.length=0,!!tn}function trigger(Fe,en){var tn=map$1(Fe._covers,function(nn){var rn=nn.__brushOption,an=clone$4(rn.range);return{brushType:rn.brushType,panelId:rn.panelId,range:an}});Fe.trigger("brush",{areas:tn,isEnd:!!en.isEnd,removeOnClick:!!en.removeOnClick})}function shouldShowCover(Fe){var en=Fe._track;if(!en.length)return!1;var tn=en[en.length-1],nn=en[0],rn=tn[0]-nn[0],an=tn[1]-nn[1],ln=mathPow(rn*rn+an*an,.5);return ln>UNSELECT_THRESHOLD}function getTrackEnds(Fe){var en=Fe.length-1;return en<0&&(en=0),[Fe[0],Fe[en]]}function createBaseRectCover(Fe,en,tn,nn){var rn=new Group$4;return rn.add(new Rect$3({name:"main",style:makeStyle(tn),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,Fe,en,rn,["n","s","w","e"]),ondragend:curry$1(trigger,en,{isEnd:!0})})),each$f(nn,function(an){rn.add(new Rect$3({name:an.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,Fe,en,rn,an),ondragend:curry$1(trigger,en,{isEnd:!0})}))}),rn}function updateBaseRect(Fe,en,tn,nn){var rn=nn.brushStyle.lineWidth||0,an=mathMax$1(rn,MIN_RESIZE_LINE_WIDTH),ln=tn[0][0],cn=tn[1][0],un=ln-rn/2,fn=cn-rn/2,hn=tn[0][1],pn=tn[1][1],gn=hn-an+rn/2,mn=pn-an+rn/2,_n=hn-ln,kn=pn-cn,Cn=_n+rn,xn=kn+rn;updateRectShape(Fe,en,"main",ln,cn,_n,kn),nn.transformable&&(updateRectShape(Fe,en,"w",un,fn,an,xn),updateRectShape(Fe,en,"e",gn,fn,an,xn),updateRectShape(Fe,en,"n",un,fn,Cn,an),updateRectShape(Fe,en,"s",un,mn,Cn,an),updateRectShape(Fe,en,"nw",un,fn,an,an),updateRectShape(Fe,en,"ne",gn,fn,an,an),updateRectShape(Fe,en,"sw",un,mn,an,an),updateRectShape(Fe,en,"se",gn,mn,an,an))}function updateCommon$1(Fe,en){var tn=en.__brushOption,nn=tn.transformable,rn=en.childAt(0);rn.useStyle(makeStyle(tn)),rn.attr({silent:!nn,cursor:nn?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(an){var ln=en.childOfName(an.join("")),cn=an.length===1?getGlobalDirection1(Fe,an[0]):getGlobalDirection2(Fe,an);ln&&ln.attr({silent:!nn,invisible:!nn,cursor:nn?CURSOR_MAP[cn]+"-resize":null})})}function updateRectShape(Fe,en,tn,nn,rn,an,ln){var cn=en.childOfName(tn);cn&&cn.setShape(pointsToRect(clipByPanel(Fe,en,[[nn,rn],[nn+an,rn+ln]])))}function makeStyle(Fe){return defaults({strokeNoScale:!0},Fe.brushStyle)}function formatRectRange(Fe,en,tn,nn){var rn=[mathMin$1(Fe,tn),mathMin$1(en,nn)],an=[mathMax$1(Fe,tn),mathMax$1(en,nn)];return[[rn[0],an[0]],[rn[1],an[1]]]}function getTransform(Fe){return getTransform$1(Fe.group)}function getGlobalDirection1(Fe,en){var tn={w:"left",e:"right",n:"top",s:"bottom"},nn={left:"w",right:"e",top:"n",bottom:"s"},rn=transformDirection(tn[en],getTransform(Fe));return nn[rn]}function getGlobalDirection2(Fe,en){var tn=[getGlobalDirection1(Fe,en[0]),getGlobalDirection1(Fe,en[1])];return(tn[0]==="e"||tn[0]==="w")&&tn.reverse(),tn.join("")}function driftRect(Fe,en,tn,nn,rn,an){var ln=tn.__brushOption,cn=Fe.toRectRange(ln.range),un=toLocalDelta(en,rn,an);each$f(nn,function(fn){var hn=DIRECTION_MAP[fn];cn[hn[0]][hn[1]]+=un[hn[0]]}),ln.range=Fe.fromRectRange(formatRectRange(cn[0][0],cn[1][0],cn[0][1],cn[1][1])),updateCoverAfterCreation(en,tn),trigger(en,{isEnd:!1})}function driftPolygon(Fe,en,tn,nn){var rn=en.__brushOption.range,an=toLocalDelta(Fe,tn,nn);each$f(rn,function(ln){ln[0]+=an[0],ln[1]+=an[1]}),updateCoverAfterCreation(Fe,en),trigger(Fe,{isEnd:!1})}function toLocalDelta(Fe,en,tn){var nn=Fe.group,rn=nn.transformCoordToLocal(en,tn),an=nn.transformCoordToLocal(0,0);return[rn[0]-an[0],rn[1]-an[1]]}function clipByPanel(Fe,en,tn){var nn=getPanelByCover(Fe,en);return nn&&nn!==BRUSH_PANEL_GLOBAL?nn.clipPath(tn,Fe._transform):clone$4(tn)}function pointsToRect(Fe){var en=mathMin$1(Fe[0][0],Fe[1][0]),tn=mathMin$1(Fe[0][1],Fe[1][1]),nn=mathMax$1(Fe[0][0],Fe[1][0]),rn=mathMax$1(Fe[0][1],Fe[1][1]);return{x:en,y:tn,width:nn-en,height:rn-tn}}function resetCursor(Fe,en,tn){if(!(!Fe._brushType||isOutsideZrArea(Fe,en.offsetX,en.offsetY))){var nn=Fe._zr,rn=Fe._covers,an=getPanelByPoint(Fe,en,tn);if(!Fe._dragging)for(var ln=0;ln<rn.length;ln++){var cn=rn[ln].__brushOption;if(an&&(an===BRUSH_PANEL_GLOBAL||cn.panelId===an.panelId)&&coverRenderers[cn.brushType].contain(rn[ln],tn[0],tn[1]))return}an&&nn.setCursorStyle("crosshair")}}function preventDefault(Fe){var en=Fe.event;en.preventDefault&&en.preventDefault()}function mainShapeContain(Fe,en,tn){return Fe.childOfName("main").contain(en,tn)}function updateCoverByMouse(Fe,en,tn,nn){var rn=Fe._creatingCover,an=Fe._creatingPanel,ln=Fe._brushOption,cn;if(Fe._track.push(tn.slice()),shouldShowCover(Fe)||rn){if(an&&!rn){ln.brushMode==="single"&&clearCovers(Fe);var un=clone$4(ln);un.brushType=determineBrushType(un.brushType,an),un.panelId=an===BRUSH_PANEL_GLOBAL?null:an.panelId,rn=Fe._creatingCover=createCover(Fe,un),Fe._covers.push(rn)}if(rn){var fn=coverRenderers[determineBrushType(Fe._brushType,an)],hn=rn.__brushOption;hn.range=fn.getCreatingRange(clipByPanel(Fe,rn,Fe._track)),nn&&(endCreating(Fe,rn),fn.updateCommon(Fe,rn)),updateCoverShape(Fe,rn),cn={isEnd:nn}}}else nn&&ln.brushMode==="single"&&ln.removeOnClick&&getPanelByPoint(Fe,en,tn)&&clearCovers(Fe)&&(cn={isEnd:nn,removeOnClick:!0});return cn}function determineBrushType(Fe,en){return Fe==="auto"?en.defaultBrushType:Fe}var pointerHandlers={mousedown:function(Fe){if(this._dragging)handleDragEnd(this,Fe);else if(!Fe.target||!Fe.target.draggable){preventDefault(Fe);var en=this.group.transformCoordToLocal(Fe.offsetX,Fe.offsetY);this._creatingCover=null;var tn=this._creatingPanel=getPanelByPoint(this,Fe,en);tn&&(this._dragging=!0,this._track=[en.slice()])}},mousemove:function(Fe){var en=Fe.offsetX,tn=Fe.offsetY,nn=this.group.transformCoordToLocal(en,tn);if(resetCursor(this,Fe,nn),this._dragging){preventDefault(Fe);var rn=updateCoverByMouse(this,Fe,nn,!1);rn&&trigger(this,rn)}},mouseup:function(Fe){handleDragEnd(this,Fe)}};function handleDragEnd(Fe,en){if(Fe._dragging){preventDefault(en);var tn=en.offsetX,nn=en.offsetY,rn=Fe.group.transformCoordToLocal(tn,nn),an=updateCoverByMouse(Fe,en,rn,!0);Fe._dragging=!1,Fe._track=[],Fe._creatingCover=null,an&&trigger(Fe,an)}}function isOutsideZrArea(Fe,en,tn){var nn=Fe._zr;return en<0||en>nn.getWidth()||tn<0||tn>nn.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(Fe,en){function tn(nn){return nn}return createBaseRectCover({toRectRange:tn,fromRectRange:tn},Fe,en,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(Fe){var en=getTrackEnds(Fe);return formatRectRange(en[1][0],en[1][1],en[0][0],en[0][1])},updateCoverShape:function(Fe,en,tn,nn){updateBaseRect(Fe,en,tn,nn)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(Fe,en){var tn=new Group$4;return tn.add(new Polyline$3({name:"main",style:makeStyle(en),silent:!0})),tn},getCreatingRange:function(Fe){return Fe},endCreating:function(Fe,en){en.remove(en.childAt(0)),en.add(new Polygon$1({name:"main",draggable:!0,drift:curry$1(driftPolygon,Fe,en),ondragend:curry$1(trigger,Fe,{isEnd:!0})}))},updateCoverShape:function(Fe,en,tn,nn){en.childAt(0).setShape({points:clipByPanel(Fe,en,tn)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(Fe){return{createCover:function(en,tn){return createBaseRectCover({toRectRange:function(nn){var rn=[nn,[0,100]];return Fe&&rn.reverse(),rn},fromRectRange:function(nn){return nn[Fe]}},en,tn,[[["w"],["e"]],[["n"],["s"]]][Fe])},getCreatingRange:function(en){var tn=getTrackEnds(en),nn=mathMin$1(tn[0][Fe],tn[1][Fe]),rn=mathMax$1(tn[0][Fe],tn[1][Fe]);return[nn,rn]},updateCoverShape:function(en,tn,nn,rn){var an,ln=getPanelByCover(en,tn);if(ln!==BRUSH_PANEL_GLOBAL&&ln.getLinearBrushOtherExtent)an=ln.getLinearBrushOtherExtent(Fe);else{var cn=en._zr;an=[0,[cn.getWidth(),cn.getHeight()][1-Fe]]}var un=[nn,an];Fe&&un.reverse(),updateBaseRect(en,tn,un,rn)},updateCommon:updateCommon$1,contain:mainShapeContain}}const BrushController$1=BrushController;function makeRectPanelClipPath(Fe){return Fe=normalizeRect(Fe),function(en){return clipPointsByRect(en,Fe)}}function makeLinearBrushOtherExtent(Fe,en){return Fe=normalizeRect(Fe),function(tn){var nn=en??tn,rn=nn?Fe.width:Fe.height,an=nn?Fe.x:Fe.y;return[an,an+(rn||0)]}}function makeRectIsTargetByCursor(Fe,en,tn){var nn=normalizeRect(Fe);return function(rn,an){return nn.contain(an[0],an[1])&&!onIrrelevantElement(rn,en,tn)}}function normalizeRect(Fe){return BoundingRect$1.create(Fe)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(tn,nn){Fe.prototype.init.apply(this,arguments),(this._brushController=new BrushController$1(nn.getZr())).on("brush",bind$1(this._onBrush,this))},en.prototype.render=function(tn,nn,rn,an){if(!fromAxisAreaSelect(tn,nn,an)){this.axisModel=tn,this.api=rn,this.group.removeAll();var ln=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!tn.get("show")){var cn=getCoordSysModel(tn,nn),un=cn.coordinateSystem,fn=tn.getAreaSelectStyle(),hn=fn.width,pn=tn.axis.dim,gn=un.getAxisLayout(pn),mn=extend$1({strokeContainThreshold:hn},gn),_n=new AxisBuilder$1(tn,mn);each$f(elementList$1,_n.add,_n),this._axisGroup.add(_n.getGroup()),this._refreshBrushController(mn,fn,tn,cn,hn,rn),groupTransition(ln,this._axisGroup,tn)}}},en.prototype._refreshBrushController=function(tn,nn,rn,an,ln,cn){var un=rn.axis.getExtent(),fn=un[1]-un[0],hn=Math.min(30,Math.abs(fn)*.1),pn=BoundingRect$1.create({x:un[0],y:-ln/2,width:fn,height:ln});pn.x-=hn,pn.width+=2*hn,this._brushController.mount({enableGlobalPan:!0,rotation:tn.rotation,x:tn.position[0],y:tn.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(pn),isTargetByCursor:makeRectIsTargetByCursor(pn,cn,an),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(pn,0)}]).enableBrush({brushType:"lineX",brushStyle:nn,removeOnClick:!0}).updateCovers(getCoverInfoList(rn))},en.prototype._onBrush=function(tn){var nn=tn.areas,rn=this.axisModel,an=rn.axis,ln=map$1(nn,function(cn){return[an.coordToData(cn.range[0],!0),an.coordToData(cn.range[1],!0)]});(!rn.option.realtime===tn.isEnd||tn.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:rn.id,intervals:ln})},en.prototype.dispose=function(){this._brushController.dispose()},en.type="parallelAxis",en}(ComponentView$1);function fromAxisAreaSelect(Fe,en,tn){return tn&&tn.type==="axisAreaSelect"&&en.findComponents({mainType:"parallelAxis",query:tn})[0]===Fe}function getCoverInfoList(Fe){var en=Fe.axis;return map$1(Fe.activeIntervals,function(tn){return{brushType:"lineX",panelId:"pl",range:[en.dataToCoord(tn[0],!0),en.dataToCoord(tn[1],!0)]}})}function getCoordSysModel(Fe,en){return en.getComponent("parallel",Fe.get("parallelIndex"))}const ParallelAxisView$1=ParallelAxisView;var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(Fe){Fe.registerAction(actionInfo,function(en,tn){tn.eachComponent({mainType:"parallelAxis",query:en},function(nn){nn.axis.model.setActiveIntervals(en.intervals)})}),Fe.registerAction("parallelAxisExpand",function(en,tn){tn.eachComponent({mainType:"parallel",query:en},function(nn){nn.setAxisExpand(en)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(Fe){Fe.registerComponentView(ParallelView$1),Fe.registerComponentModel(ParallelModel$1),Fe.registerCoordinateSystem("parallel",parallelCoordSysCreator$1),Fe.registerPreprocessor(parallelPreprocessor),Fe.registerComponentModel(ParallelAxisModel$1),Fe.registerComponentView(ParallelAxisView$1),axisModelCreator(Fe,"parallel",ParallelAxisModel$1,defaultAxisOption),installParallelActions(Fe)}function install$B(Fe){use(install$C),Fe.registerChartView(ParallelView$3),Fe.registerSeriesModel(ParallelSeriesModel$1),Fe.registerVisual(Fe.PRIORITY.VISUAL.BRUSH,parallelVisual$1)}var SankeyPathShape=function(){function Fe(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return Fe}(),SankeyPath=function(Fe){__extends(en,Fe);function en(tn){return Fe.call(this,tn)||this}return en.prototype.getDefaultShape=function(){return new SankeyPathShape},en.prototype.buildPath=function(tn,nn){var rn=nn.extent;tn.moveTo(nn.x1,nn.y1),tn.bezierCurveTo(nn.cpx1,nn.cpy1,nn.cpx2,nn.cpy2,nn.x2,nn.y2),nn.orient==="vertical"?(tn.lineTo(nn.x2+rn,nn.y2),tn.bezierCurveTo(nn.cpx2+rn,nn.cpy2,nn.cpx1+rn,nn.cpy1,nn.x1+rn,nn.y1)):(tn.lineTo(nn.x2,nn.y2+rn),tn.bezierCurveTo(nn.cpx2,nn.cpy2+rn,nn.cpx1,nn.cpy1+rn,nn.x1,nn.y1+rn)),tn.closePath()},en.prototype.highlight=function(){enterEmphasis(this)},en.prototype.downplay=function(){leaveEmphasis(this)},en}(Path$1),SankeyView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn._focusAdjacencyDisabled=!1,tn}return en.prototype.render=function(tn,nn,rn){var an=this,ln=tn.getGraph(),cn=this.group,un=tn.layoutInfo,fn=un.width,hn=un.height,pn=tn.getData(),gn=tn.getData("edge"),mn=tn.get("orient");this._model=tn,cn.removeAll(),cn.x=un.x,cn.y=un.y,ln.eachEdge(function(_n){var kn=new SankeyPath,Cn=getECData(kn);Cn.dataIndex=_n.dataIndex,Cn.seriesIndex=tn.seriesIndex,Cn.dataType="edge";var xn=_n.getModel(),Sn=xn.getModel("lineStyle"),Mn=Sn.get("curveness"),In=_n.node1.getLayout(),On=_n.node1.getModel(),Pn=On.get("localX"),Tn=On.get("localY"),Nn=_n.node2.getLayout(),Hn=_n.node2.getModel(),Un=Hn.get("localX"),jn=Hn.get("localY"),Yn=_n.getLayout(),Wn,Qn,Xn,jr,Wr,Jr,ci,ti;kn.shape.extent=Math.max(1,Yn.dy),kn.shape.orient=mn,mn==="vertical"?(Wn=(Pn!=null?Pn*fn:In.x)+Yn.sy,Qn=(Tn!=null?Tn*hn:In.y)+In.dy,Xn=(Un!=null?Un*fn:Nn.x)+Yn.ty,jr=jn!=null?jn*hn:Nn.y,Wr=Wn,Jr=Qn*(1-Mn)+jr*Mn,ci=Xn,ti=Qn*Mn+jr*(1-Mn)):(Wn=(Pn!=null?Pn*fn:In.x)+In.dx,Qn=(Tn!=null?Tn*hn:In.y)+Yn.sy,Xn=Un!=null?Un*fn:Nn.x,jr=(jn!=null?jn*hn:Nn.y)+Yn.ty,Wr=Wn*(1-Mn)+Xn*Mn,Jr=Qn,ci=Wn*Mn+Xn*(1-Mn),ti=jr),kn.setShape({x1:Wn,y1:Qn,x2:Xn,y2:jr,cpx1:Wr,cpy1:Jr,cpx2:ci,cpy2:ti}),kn.useStyle(Sn.getItemStyle()),applyCurveStyle(kn.style,mn,_n);var Zr=""+xn.get("value"),Br=getLabelStatesModels(xn,"edgeLabel");setLabelStyle(kn,Br,{labelFetcher:{getFormattedLabel:function(pi,ri,fi,yi,Si,Pi){return tn.getFormattedLabel(pi,ri,"edge",yi,retrieve3(Si,Br.normal&&Br.normal.get("formatter"),Zr),Pi)}},labelDataIndex:_n.dataIndex,defaultText:Zr}),kn.setTextConfig({position:"inside"});var Jn=xn.getModel("emphasis");setStatesStylesFromModel(kn,xn,"lineStyle",function(pi){var ri=pi.getItemStyle();return applyCurveStyle(ri,mn,_n),ri}),cn.add(kn),gn.setItemGraphicEl(_n.dataIndex,kn);var oi=Jn.get("focus");toggleHoverEmphasis(kn,oi==="adjacency"?_n.getAdjacentDataIndices():oi==="trajectory"?_n.getTrajectoryDataIndices():oi,Jn.get("blurScope"),Jn.get("disabled"))}),ln.eachNode(function(_n){var kn=_n.getLayout(),Cn=_n.getModel(),xn=Cn.get("localX"),Sn=Cn.get("localY"),Mn=Cn.getModel("emphasis"),In=new Rect$3({shape:{x:xn!=null?xn*fn:kn.x,y:Sn!=null?Sn*hn:kn.y,width:kn.dx,height:kn.dy},style:Cn.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(In,getLabelStatesModels(Cn),{labelFetcher:{getFormattedLabel:function(Pn,Tn){return tn.getFormattedLabel(Pn,Tn,"node")}},labelDataIndex:_n.dataIndex,defaultText:_n.id}),In.disableLabelAnimation=!0,In.setStyle("fill",_n.getVisual("color")),In.setStyle("decal",_n.getVisual("style").decal),setStatesStylesFromModel(In,Cn),cn.add(In),pn.setItemGraphicEl(_n.dataIndex,In),getECData(In).dataType="node";var On=Mn.get("focus");toggleHoverEmphasis(In,On==="adjacency"?_n.getAdjacentDataIndices():On==="trajectory"?_n.getTrajectoryDataIndices():On,Mn.get("blurScope"),Mn.get("disabled"))}),pn.eachItemGraphicEl(function(_n,kn){var Cn=pn.getItemModel(kn);Cn.get("draggable")&&(_n.drift=function(xn,Sn){an._focusAdjacencyDisabled=!0,this.shape.x+=xn,this.shape.y+=Sn,this.dirty(),rn.dispatchAction({type:"dragNode",seriesId:tn.id,dataIndex:pn.getRawIndex(kn),localX:this.shape.x/fn,localY:this.shape.y/hn})},_n.ondragend=function(){an._focusAdjacencyDisabled=!1},_n.draggable=!0,_n.cursor="move")}),!this._data&&tn.isAnimationEnabled()&&cn.setClipPath(createGridClipShape$1(cn.getBoundingRect(),tn,function(){cn.removeClipPath()})),this._data=tn.getData()},en.prototype.dispose=function(){},en.type="sankey",en}(ChartView$1);function applyCurveStyle(Fe,en,tn){switch(Fe.fill){case"source":Fe.fill=tn.node1.getVisual("color"),Fe.decal=tn.node1.getVisual("style").decal;break;case"target":Fe.fill=tn.node2.getVisual("color"),Fe.decal=tn.node2.getVisual("style").decal;break;case"gradient":var nn=tn.node1.getVisual("color"),rn=tn.node2.getVisual("color");isString(nn)&&isString(rn)&&(Fe.fill=new LinearGradient$1(0,0,+(en==="horizontal"),+(en==="vertical"),[{color:nn,offset:0},{color:rn,offset:1}]))}}function createGridClipShape$1(Fe,en,tn){var nn=new Rect$3({shape:{x:Fe.x-10,y:Fe.y-10,width:0,height:Fe.height+20}});return initProps(nn,{shape:{width:Fe.width+20}},en,tn),nn}const SankeyView$1=SankeyView;var SankeySeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.getInitialData=function(tn,nn){var rn=tn.edges||tn.links,an=tn.data||tn.nodes,ln=tn.levels;this.levelModels=[];for(var cn=this.levelModels,un=0;un<ln.length;un++)ln[un].depth!=null&&ln[un].depth>=0&&(cn[ln[un].depth]=new Model$1(ln[un],this,nn));if(an&&rn){var fn=createGraphFromNodeEdge(an,rn,this,!0,hn);return fn.data}function hn(pn,gn){pn.wrapMethod("getItemModel",function(mn,_n){var kn=mn.parentModel,Cn=kn.getData().getItemLayout(_n);if(Cn){var xn=Cn.depth,Sn=kn.levelModels[xn];Sn&&(mn.parentModel=Sn)}return mn}),gn.wrapMethod("getItemModel",function(mn,_n){var kn=mn.parentModel,Cn=kn.getGraph().getEdgeByIndex(_n),xn=Cn.node1.getLayout();if(xn){var Sn=xn.depth,Mn=kn.levelModels[Sn];Mn&&(mn.parentModel=Mn)}return mn})}},en.prototype.setNodePosition=function(tn,nn){var rn=this.option.data||this.option.nodes,an=rn[tn];an.localX=nn[0],an.localY=nn[1]},en.prototype.getGraph=function(){return this.getData().graph},en.prototype.getEdgeData=function(){return this.getGraph().edgeData},en.prototype.formatTooltip=function(tn,nn,rn){function an(mn){return isNaN(mn)||mn==null}if(rn==="edge"){var ln=this.getDataParams(tn,rn),cn=ln.data,un=ln.value,fn=cn.source+" -- "+cn.target;return createTooltipMarkup("nameValue",{name:fn,value:un,noValue:an(un)})}else{var hn=this.getGraph().getNodeByIndex(tn),pn=hn.getLayout().value,gn=this.getDataParams(tn,rn).data.name;return createTooltipMarkup("nameValue",{name:gn!=null?gn+"":null,value:pn,noValue:an(pn)})}},en.prototype.optionUpdated=function(){},en.prototype.getDataParams=function(tn,nn){var rn=Fe.prototype.getDataParams.call(this,tn,nn);if(rn.value==null&&nn==="node"){var an=this.getGraph().getNodeByIndex(tn),ln=an.getLayout().value;rn.value=ln}return rn},en.type="series.sankey",en.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},en}(SeriesModel$1);const SankeySeriesModel$1=SankeySeriesModel;function sankeyLayout(Fe,en){Fe.eachSeriesByType("sankey",function(tn){var nn=tn.get("nodeWidth"),rn=tn.get("nodeGap"),an=getViewRect$1(tn,en);tn.layoutInfo=an;var ln=an.width,cn=an.height,un=tn.getGraph(),fn=un.nodes,hn=un.edges;computeNodeValues(fn);var pn=filter(fn,function(kn){return kn.getLayout().value===0}),gn=pn.length!==0?0:tn.get("layoutIterations"),mn=tn.get("orient"),_n=tn.get("nodeAlign");layoutSankey(fn,hn,nn,rn,ln,cn,gn,mn,_n)})}function getViewRect$1(Fe,en){return getLayoutRect(Fe.getBoxLayoutParams(),{width:en.getWidth(),height:en.getHeight()})}function layoutSankey(Fe,en,tn,nn,rn,an,ln,cn,un){computeNodeBreadths(Fe,en,tn,rn,an,cn,un),computeNodeDepths(Fe,en,an,rn,nn,ln,cn),computeEdgeDepths(Fe,cn)}function computeNodeValues(Fe){each$f(Fe,function(en){var tn=sum(en.outEdges,getEdgeValue),nn=sum(en.inEdges,getEdgeValue),rn=en.getValue()||0,an=Math.max(tn,nn,rn);en.setLayout({value:an},!0)})}function computeNodeBreadths(Fe,en,tn,nn,rn,an,ln){for(var cn=[],un=[],fn=[],hn=[],pn=0,gn=0;gn<en.length;gn++)cn[gn]=1;for(var gn=0;gn<Fe.length;gn++)un[gn]=Fe[gn].inEdges.length,un[gn]===0&&fn.push(Fe[gn]);for(var mn=-1;fn.length;){for(var _n=0;_n<fn.length;_n++){var kn=fn[_n],Cn=kn.hostGraph.data.getRawDataItem(kn.dataIndex),xn=Cn.depth!=null&&Cn.depth>=0;xn&&Cn.depth>mn&&(mn=Cn.depth),kn.setLayout({depth:xn?Cn.depth:pn},!0),an==="vertical"?kn.setLayout({dy:tn},!0):kn.setLayout({dx:tn},!0);for(var Sn=0;Sn<kn.outEdges.length;Sn++){var Mn=kn.outEdges[Sn],In=en.indexOf(Mn);cn[In]=0;var On=Mn.node2,Pn=Fe.indexOf(On);--un[Pn]===0&&hn.indexOf(On)<0&&hn.push(On)}}++pn,fn=hn,hn=[]}for(var gn=0;gn<cn.length;gn++)if(cn[gn]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Tn=mn>pn-1?mn:pn-1;ln&&ln!=="left"&&adjustNodeWithNodeAlign(Fe,ln,an,Tn);var Nn=an==="vertical"?(rn-tn)/Tn:(nn-tn)/Tn;scaleNodeBreadths(Fe,Nn,an)}function isNodeDepth(Fe){var en=Fe.hostGraph.data.getRawDataItem(Fe.dataIndex);return en.depth!=null&&en.depth>=0}function adjustNodeWithNodeAlign(Fe,en,tn,nn){if(en==="right"){for(var rn=[],an=Fe,ln=0;an.length;){for(var cn=0;cn<an.length;cn++){var un=an[cn];un.setLayout({skNodeHeight:ln},!0);for(var fn=0;fn<un.inEdges.length;fn++){var hn=un.inEdges[fn];rn.indexOf(hn.node1)<0&&rn.push(hn.node1)}}an=rn,rn=[],++ln}each$f(Fe,function(pn){isNodeDepth(pn)||pn.setLayout({depth:Math.max(0,nn-pn.getLayout().skNodeHeight)},!0)})}else en==="justify"&&moveSinksRight(Fe,nn)}function moveSinksRight(Fe,en){each$f(Fe,function(tn){!isNodeDepth(tn)&&!tn.outEdges.length&&tn.setLayout({depth:en},!0)})}function scaleNodeBreadths(Fe,en,tn){each$f(Fe,function(nn){var rn=nn.getLayout().depth*en;tn==="vertical"?nn.setLayout({y:rn},!0):nn.setLayout({x:rn},!0)})}function computeNodeDepths(Fe,en,tn,nn,rn,an,ln){var cn=prepareNodesByBreadth(Fe,ln);initializeNodeDepth(cn,en,tn,nn,rn,ln),resolveCollisions(cn,rn,tn,nn,ln);for(var un=1;an>0;an--)un*=.99,relaxRightToLeft(cn,un,ln),resolveCollisions(cn,rn,tn,nn,ln),relaxLeftToRight(cn,un,ln),resolveCollisions(cn,rn,tn,nn,ln)}function prepareNodesByBreadth(Fe,en){var tn=[],nn=en==="vertical"?"y":"x",rn=groupData(Fe,function(an){return an.getLayout()[nn]});return rn.keys.sort(function(an,ln){return an-ln}),each$f(rn.keys,function(an){tn.push(rn.buckets.get(an))}),tn}function initializeNodeDepth(Fe,en,tn,nn,rn,an){var ln=1/0;each$f(Fe,function(cn){var un=cn.length,fn=0;each$f(cn,function(pn){fn+=pn.getLayout().value});var hn=an==="vertical"?(nn-(un-1)*rn)/fn:(tn-(un-1)*rn)/fn;hn<ln&&(ln=hn)}),each$f(Fe,function(cn){each$f(cn,function(un,fn){var hn=un.getLayout().value*ln;an==="vertical"?(un.setLayout({x:fn},!0),un.setLayout({dx:hn},!0)):(un.setLayout({y:fn},!0),un.setLayout({dy:hn},!0))})}),each$f(en,function(cn){var un=+cn.getValue()*ln;cn.setLayout({dy:un},!0)})}function resolveCollisions(Fe,en,tn,nn,rn){var an=rn==="vertical"?"x":"y";each$f(Fe,function(ln){ln.sort(function(kn,Cn){return kn.getLayout()[an]-Cn.getLayout()[an]});for(var cn,un,fn,hn=0,pn=ln.length,gn=rn==="vertical"?"dx":"dy",mn=0;mn<pn;mn++)un=ln[mn],fn=hn-un.getLayout()[an],fn>0&&(cn=un.getLayout()[an]+fn,rn==="vertical"?un.setLayout({x:cn},!0):un.setLayout({y:cn},!0)),hn=un.getLayout()[an]+un.getLayout()[gn]+en;var _n=rn==="vertical"?nn:tn;if(fn=hn-en-_n,fn>0){cn=un.getLayout()[an]-fn,rn==="vertical"?un.setLayout({x:cn},!0):un.setLayout({y:cn},!0),hn=cn;for(var mn=pn-2;mn>=0;--mn)un=ln[mn],fn=un.getLayout()[an]+un.getLayout()[gn]+en-hn,fn>0&&(cn=un.getLayout()[an]-fn,rn==="vertical"?un.setLayout({x:cn},!0):un.setLayout({y:cn},!0)),hn=un.getLayout()[an]}})}function relaxRightToLeft(Fe,en,tn){each$f(Fe.slice().reverse(),function(nn){each$f(nn,function(rn){if(rn.outEdges.length){var an=sum(rn.outEdges,weightedTarget,tn)/sum(rn.outEdges,getEdgeValue);if(isNaN(an)){var ln=rn.outEdges.length;an=ln?sum(rn.outEdges,centerTarget,tn)/ln:0}if(tn==="vertical"){var cn=rn.getLayout().x+(an-center(rn,tn))*en;rn.setLayout({x:cn},!0)}else{var un=rn.getLayout().y+(an-center(rn,tn))*en;rn.setLayout({y:un},!0)}}})})}function weightedTarget(Fe,en){return center(Fe.node2,en)*Fe.getValue()}function centerTarget(Fe,en){return center(Fe.node2,en)}function weightedSource(Fe,en){return center(Fe.node1,en)*Fe.getValue()}function centerSource(Fe,en){return center(Fe.node1,en)}function center(Fe,en){return en==="vertical"?Fe.getLayout().x+Fe.getLayout().dx/2:Fe.getLayout().y+Fe.getLayout().dy/2}function getEdgeValue(Fe){return Fe.getValue()}function sum(Fe,en,tn){for(var nn=0,rn=Fe.length,an=-1;++an<rn;){var ln=+en(Fe[an],tn);isNaN(ln)||(nn+=ln)}return nn}function relaxLeftToRight(Fe,en,tn){each$f(Fe,function(nn){each$f(nn,function(rn){if(rn.inEdges.length){var an=sum(rn.inEdges,weightedSource,tn)/sum(rn.inEdges,getEdgeValue);if(isNaN(an)){var ln=rn.inEdges.length;an=ln?sum(rn.inEdges,centerSource,tn)/ln:0}if(tn==="vertical"){var cn=rn.getLayout().x+(an-center(rn,tn))*en;rn.setLayout({x:cn},!0)}else{var un=rn.getLayout().y+(an-center(rn,tn))*en;rn.setLayout({y:un},!0)}}})})}function computeEdgeDepths(Fe,en){var tn=en==="vertical"?"x":"y";each$f(Fe,function(nn){nn.outEdges.sort(function(rn,an){return rn.node2.getLayout()[tn]-an.node2.getLayout()[tn]}),nn.inEdges.sort(function(rn,an){return rn.node1.getLayout()[tn]-an.node1.getLayout()[tn]})}),each$f(Fe,function(nn){var rn=0,an=0;each$f(nn.outEdges,function(ln){ln.setLayout({sy:rn},!0),rn+=ln.getLayout().dy}),each$f(nn.inEdges,function(ln){ln.setLayout({ty:an},!0),an+=ln.getLayout().dy})})}function sankeyVisual(Fe){Fe.eachSeriesByType("sankey",function(en){var tn=en.getGraph(),nn=tn.nodes,rn=tn.edges;if(nn.length){var an=1/0,ln=-1/0;each$f(nn,function(cn){var un=cn.getLayout().value;un<an&&(an=un),un>ln&&(ln=un)}),each$f(nn,function(cn){var un=new VisualMapping$1({type:"color",mappingMethod:"linear",dataExtent:[an,ln],visual:en.get("color")}),fn=un.mapValueToVisual(cn.getLayout().value),hn=cn.getModel().get(["itemStyle","color"]);hn!=null?(cn.setVisual("color",hn),cn.setVisual("style",{fill:hn})):(cn.setVisual("color",fn),cn.setVisual("style",{fill:fn}))})}rn.length&&each$f(rn,function(cn){var un=cn.getModel().get("lineStyle");cn.setVisual("style",un)})})}function install$A(Fe){Fe.registerChartView(SankeyView$1),Fe.registerSeriesModel(SankeySeriesModel$1),Fe.registerLayout(sankeyLayout),Fe.registerVisual(sankeyVisual),Fe.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(en,tn){tn.eachComponent({mainType:"series",subType:"sankey",query:en},function(nn){nn.setNodePosition(en.dataIndex,[en.localX,en.localY])})})}var WhiskerBoxCommonMixin=function(){function Fe(){}return Fe.prototype.getInitialData=function(en,tn){var nn,rn=tn.getComponent("xAxis",this.get("xAxisIndex")),an=tn.getComponent("yAxis",this.get("yAxisIndex")),ln=rn.get("type"),cn=an.get("type"),un;ln==="category"?(en.layout="horizontal",nn=rn.getOrdinalMeta(),un=!0):cn==="category"?(en.layout="vertical",nn=an.getOrdinalMeta(),un=!0):en.layout=en.layout||"horizontal";var fn=["x","y"],hn=en.layout==="horizontal"?0:1,pn=this._baseAxisDim=fn[hn],gn=fn[1-hn],mn=[rn,an],_n=mn[hn].get("type"),kn=mn[1-hn].get("type"),Cn=en.data;if(Cn&&un){var xn=[];each$f(Cn,function(In,On){var Pn;isArray$1(In)?(Pn=In.slice(),In.unshift(On)):isArray$1(In.value)?(Pn=extend$1({},In),Pn.value=Pn.value.slice(),In.value.unshift(On)):Pn=In,xn.push(Pn)}),en.data=xn}var Sn=this.defaultValueDimensions,Mn=[{name:pn,type:getDimensionTypeByAxis(_n),ordinalMeta:nn,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:gn,type:getDimensionTypeByAxis(kn),dimsDef:Sn.slice()}];return createSeriesDataSimply(this,{coordDimensions:Mn,dimensionsCount:Sn.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,Mn,this)})},Fe.prototype.getBaseAxis=function(){var en=this._baseAxisDim;return this.ecModel.getComponent(en+"Axis",this.get(en+"AxisIndex")).axis},Fe}(),BoxplotSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],tn.visualDrawType="stroke",tn}return en.type="series.boxplot",en.dependencies=["xAxis","yAxis","grid"],en.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},en}(SeriesModel$1);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);const BoxplotSeriesModel$1=BoxplotSeriesModel;var BoxplotView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){var an=tn.getData(),ln=this.group,cn=this._data;this._data||ln.removeAll();var un=tn.get("layout")==="horizontal"?1:0;an.diff(cn).add(function(fn){if(an.hasValue(fn)){var hn=an.getItemLayout(fn),pn=createNormalBox$1(hn,an,fn,un,!0);an.setItemGraphicEl(fn,pn),ln.add(pn)}}).update(function(fn,hn){var pn=cn.getItemGraphicEl(hn);if(!an.hasValue(fn)){ln.remove(pn);return}var gn=an.getItemLayout(fn);pn?(saveOldStyle(pn),updateNormalBoxData(gn,pn,an,fn)):pn=createNormalBox$1(gn,an,fn,un),ln.add(pn),an.setItemGraphicEl(fn,pn)}).remove(function(fn){var hn=cn.getItemGraphicEl(fn);hn&&ln.remove(hn)}).execute(),this._data=an},en.prototype.remove=function(tn){var nn=this.group,rn=this._data;this._data=null,rn&&rn.eachItemGraphicEl(function(an){an&&nn.remove(an)})},en.type="boxplot",en}(ChartView$1),BoxPathShape=function(){function Fe(){}return Fe}(),BoxPath=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="boxplotBoxPath",nn}return en.prototype.getDefaultShape=function(){return new BoxPathShape},en.prototype.buildPath=function(tn,nn){var rn=nn.points,an=0;for(tn.moveTo(rn[an][0],rn[an][1]),an++;an<4;an++)tn.lineTo(rn[an][0],rn[an][1]);for(tn.closePath();an<rn.length;an++)tn.moveTo(rn[an][0],rn[an][1]),an++,tn.lineTo(rn[an][0],rn[an][1])},en}(Path$1);function createNormalBox$1(Fe,en,tn,nn,rn){var an=Fe.ends,ln=new BoxPath({shape:{points:rn?transInit$1(an,nn,Fe):an}});return updateNormalBoxData(Fe,ln,en,tn,rn),ln}function updateNormalBoxData(Fe,en,tn,nn,rn){var an=tn.hostModel,ln=graphic$1[rn?"initProps":"updateProps"];ln(en,{shape:{points:Fe.ends}},an,nn),en.useStyle(tn.getItemVisual(nn,"style")),en.style.strokeNoScale=!0,en.z2=100;var cn=tn.getItemModel(nn),un=cn.getModel("emphasis");setStatesStylesFromModel(en,cn),toggleHoverEmphasis(en,un.get("focus"),un.get("blurScope"),un.get("disabled"))}function transInit$1(Fe,en,tn){return map$1(Fe,function(nn){return nn=nn.slice(),nn[en]=tn.initBaseline,nn})}const BoxplotView$1=BoxplotView;var each$9=each$f;function boxplotLayout(Fe){var en=groupSeriesByAxis(Fe);each$9(en,function(tn){var nn=tn.seriesModels;nn.length&&(calculateBase(tn),each$9(nn,function(rn,an){layoutSingleSeries(rn,tn.boxOffsetList[an],tn.boxWidthList[an])}))})}function groupSeriesByAxis(Fe){var en=[],tn=[];return Fe.eachSeriesByType("boxplot",function(nn){var rn=nn.getBaseAxis(),an=indexOf(tn,rn);an<0&&(an=tn.length,tn[an]=rn,en[an]={axis:rn,seriesModels:[]}),en[an].seriesModels.push(nn)}),en}function calculateBase(Fe){var en=Fe.axis,tn=Fe.seriesModels,nn=tn.length,rn=Fe.boxWidthList=[],an=Fe.boxOffsetList=[],ln=[],cn;if(en.type==="category")cn=en.getBandWidth();else{var un=0;each$9(tn,function(_n){un=Math.max(un,_n.getData().count())});var fn=en.getExtent();cn=Math.abs(fn[1]-fn[0])/un}each$9(tn,function(_n){var kn=_n.get("boxWidth");isArray$1(kn)||(kn=[kn,kn]),ln.push([parsePercent(kn[0],cn)||0,parsePercent(kn[1],cn)||0])});var hn=cn*.8-2,pn=hn/nn*.3,gn=(hn-pn*(nn-1))/nn,mn=gn/2-hn/2;each$9(tn,function(_n,kn){an.push(mn),mn+=pn+gn,rn.push(Math.min(Math.max(gn,ln[kn][0]),ln[kn][1]))})}function layoutSingleSeries(Fe,en,tn){var nn=Fe.coordinateSystem,rn=Fe.getData(),an=tn/2,ln=Fe.get("layout")==="horizontal"?0:1,cn=1-ln,un=["x","y"],fn=rn.mapDimension(un[ln]),hn=rn.mapDimensionsAll(un[cn]);if(fn==null||hn.length<5)return;for(var pn=0;pn<rn.count();pn++){var gn=rn.get(fn,pn),mn=Mn(gn,hn[2],pn),_n=Mn(gn,hn[0],pn),kn=Mn(gn,hn[1],pn),Cn=Mn(gn,hn[3],pn),xn=Mn(gn,hn[4],pn),Sn=[];In(Sn,kn,!1),In(Sn,Cn,!0),Sn.push(_n,kn,xn,Cn),On(Sn,_n),On(Sn,xn),On(Sn,mn),rn.setItemLayout(pn,{initBaseline:mn[cn],ends:Sn})}function Mn(Pn,Tn,Nn){var Hn=rn.get(Tn,Nn),Un=[];Un[ln]=Pn,Un[cn]=Hn;var jn;return isNaN(Pn)||isNaN(Hn)?jn=[NaN,NaN]:(jn=nn.dataToPoint(Un),jn[ln]+=en),jn}function In(Pn,Tn,Nn){var Hn=Tn.slice(),Un=Tn.slice();Hn[ln]+=an,Un[ln]-=an,Nn?Pn.push(Hn,Un):Pn.push(Un,Hn)}function On(Pn,Tn){var Nn=Tn.slice(),Hn=Tn.slice();Nn[ln]-=an,Hn[ln]+=an,Pn.push(Nn,Hn)}}function prepareBoxplotData(Fe,en){en=en||{};for(var tn=[],nn=[],rn=en.boundIQR,an=rn==="none"||rn===0,ln=0;ln<Fe.length;ln++){var cn=asc$2(Fe[ln].slice()),un=quantile(cn,.25),fn=quantile(cn,.5),hn=quantile(cn,.75),pn=cn[0],gn=cn[cn.length-1],mn=(rn??1.5)*(hn-un),_n=an?pn:Math.max(pn,un-mn),kn=an?gn:Math.min(gn,hn+mn),Cn=en.itemNameFormatter,xn=isFunction(Cn)?Cn({value:ln}):isString(Cn)?Cn.replace("{value}",ln+""):ln+"";tn.push([xn,_n,un,fn,hn,kn]);for(var Sn=0;Sn<cn.length;Sn++){var Mn=cn[Sn];if(Mn<_n||Mn>kn){var In=[xn,Mn];nn.push(In)}}}return{boxData:tn,outliers:nn}}var boxplotTransform={type:"echarts:boxplot",transform:function(en){var tn=en.upstream;if(tn.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var nn="";throwError(nn)}var rn=prepareBoxplotData(tn.getRawData(),en.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:rn.boxData},{data:rn.outliers}]}};function install$z(Fe){Fe.registerSeriesModel(BoxplotSeriesModel$1),Fe.registerChartView(BoxplotView$1),Fe.registerLayout(boxplotLayout),Fe.registerTransform(boxplotTransform)}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(tn),this._isLargeDraw?this._renderLarge(tn):this._renderNormal(tn)},en.prototype.incrementalPrepareRender=function(tn,nn,rn){this._clear(),this._updateDrawMode(tn)},en.prototype.incrementalRender=function(tn,nn,rn,an){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(tn,nn):this._incrementalRenderNormal(tn,nn)},en.prototype.eachRendered=function(tn){traverseElements(this._progressiveEls||this.group,tn)},en.prototype._updateDrawMode=function(tn){var nn=tn.pipelineContext.large;(this._isLargeDraw==null||nn!==this._isLargeDraw)&&(this._isLargeDraw=nn,this._clear())},en.prototype._renderNormal=function(tn){var nn=tn.getData(),rn=this._data,an=this.group,ln=nn.getLayout("isSimpleBox"),cn=tn.get("clip",!0),un=tn.coordinateSystem,fn=un.getArea&&un.getArea();this._data||an.removeAll(),nn.diff(rn).add(function(hn){if(nn.hasValue(hn)){var pn=nn.getItemLayout(hn);if(cn&&isNormalBoxClipped(fn,pn))return;var gn=createNormalBox(pn,hn,!0);initProps(gn,{shape:{points:pn.ends}},tn,hn),setBoxCommon(gn,nn,hn,ln),an.add(gn),nn.setItemGraphicEl(hn,gn)}}).update(function(hn,pn){var gn=rn.getItemGraphicEl(pn);if(!nn.hasValue(hn)){an.remove(gn);return}var mn=nn.getItemLayout(hn);if(cn&&isNormalBoxClipped(fn,mn)){an.remove(gn);return}gn?(updateProps$1(gn,{shape:{points:mn.ends}},tn,hn),saveOldStyle(gn)):gn=createNormalBox(mn),setBoxCommon(gn,nn,hn,ln),an.add(gn),nn.setItemGraphicEl(hn,gn)}).remove(function(hn){var pn=rn.getItemGraphicEl(hn);pn&&an.remove(pn)}).execute(),this._data=nn},en.prototype._renderLarge=function(tn){this._clear(),createLarge(tn,this.group);var nn=tn.get("clip",!0)?createClipPath(tn.coordinateSystem,!1,tn):null;nn?this.group.setClipPath(nn):this.group.removeClipPath()},en.prototype._incrementalRenderNormal=function(tn,nn){for(var rn=nn.getData(),an=rn.getLayout("isSimpleBox"),ln;(ln=tn.next())!=null;){var cn=rn.getItemLayout(ln),un=createNormalBox(cn);setBoxCommon(un,rn,ln,an),un.incremental=!0,this.group.add(un),this._progressiveEls.push(un)}},en.prototype._incrementalRenderLarge=function(tn,nn){createLarge(nn,this.group,this._progressiveEls,!0)},en.prototype.remove=function(tn){this._clear()},en.prototype._clear=function(){this.group.removeAll(),this._data=null},en.type="candlestick",en}(ChartView$1),NormalBoxPathShape=function(){function Fe(){}return Fe}(),NormalBoxPath=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="normalCandlestickBox",nn}return en.prototype.getDefaultShape=function(){return new NormalBoxPathShape},en.prototype.buildPath=function(tn,nn){var rn=nn.points;this.__simpleBox?(tn.moveTo(rn[4][0],rn[4][1]),tn.lineTo(rn[6][0],rn[6][1])):(tn.moveTo(rn[0][0],rn[0][1]),tn.lineTo(rn[1][0],rn[1][1]),tn.lineTo(rn[2][0],rn[2][1]),tn.lineTo(rn[3][0],rn[3][1]),tn.closePath(),tn.moveTo(rn[4][0],rn[4][1]),tn.lineTo(rn[5][0],rn[5][1]),tn.moveTo(rn[6][0],rn[6][1]),tn.lineTo(rn[7][0],rn[7][1]))},en}(Path$1);function createNormalBox(Fe,en,tn){var nn=Fe.ends;return new NormalBoxPath({shape:{points:tn?transInit(nn,Fe):nn},z2:100})}function isNormalBoxClipped(Fe,en){for(var tn=!0,nn=0;nn<en.ends.length;nn++)if(Fe.contain(en.ends[nn][0],en.ends[nn][1])){tn=!1;break}return tn}function setBoxCommon(Fe,en,tn,nn){var rn=en.getItemModel(tn);Fe.useStyle(en.getItemVisual(tn,"style")),Fe.style.strokeNoScale=!0,Fe.__simpleBox=nn,setStatesStylesFromModel(Fe,rn)}function transInit(Fe,en){return map$1(Fe,function(tn){return tn=tn.slice(),tn[1]=en.initBaseline,tn})}var LargeBoxPathShape=function(){function Fe(){}return Fe}(),LargeBoxPath=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn.type="largeCandlestickBox",nn}return en.prototype.getDefaultShape=function(){return new LargeBoxPathShape},en.prototype.buildPath=function(tn,nn){for(var rn=nn.points,an=0;an<rn.length;)if(this.__sign===rn[an++]){var ln=rn[an++];tn.moveTo(ln,rn[an++]),tn.lineTo(ln,rn[an++])}else an+=3},en}(Path$1);function createLarge(Fe,en,tn,nn){var rn=Fe.getData(),an=rn.getLayout("largePoints"),ln=new LargeBoxPath({shape:{points:an},__sign:1,ignoreCoarsePointer:!0});en.add(ln);var cn=new LargeBoxPath({shape:{points:an},__sign:-1,ignoreCoarsePointer:!0});en.add(cn);var un=new LargeBoxPath({shape:{points:an},__sign:0,ignoreCoarsePointer:!0});en.add(un),setLargeStyle(1,ln,Fe),setLargeStyle(-1,cn,Fe),setLargeStyle(0,un,Fe),nn&&(ln.incremental=!0,cn.incremental=!0),tn&&tn.push(ln,cn)}function setLargeStyle(Fe,en,tn,nn){var rn=tn.get(["itemStyle",Fe>0?"borderColor":"borderColor0"])||tn.get(["itemStyle",Fe>0?"color":"color0"]);Fe===0&&(rn=tn.get(["itemStyle","borderColorDoji"]));var an=tn.getModel("itemStyle").getItemStyle(SKIP_PROPS);en.useStyle(an),en.style.fill=null,en.style.stroke=rn}const CandlestickView$1=CandlestickView;var CandlestickSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],tn}return en.prototype.getShadowDim=function(){return"open"},en.prototype.brushSelector=function(tn,nn,rn){var an=nn.getItemLayout(tn);return an&&rn.rect(an.brushRect)},en.type="series.candlestick",en.dependencies=["xAxis","yAxis","grid"],en.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},en}(SeriesModel$1);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);const CandlestickSeriesModel$1=CandlestickSeriesModel;function candlestickPreprocessor(Fe){!Fe||!isArray$1(Fe.series)||each$f(Fe.series,function(en){isObject$3(en)&&en.type==="k"&&(en.type="candlestick")})}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(Fe,en){function tn(an,ln){return ln.get(an>0?positiveColorQuery:negativeColorQuery)}function nn(an,ln){return ln.get(an===0?dojiBorderColorQuery:an>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!en.isSeriesFiltered(Fe)){var rn=Fe.pipelineContext.large;return!rn&&{progress:function(an,ln){for(var cn;(cn=an.next())!=null;){var un=ln.getItemModel(cn),fn=ln.getItemLayout(cn).sign,hn=un.getItemStyle();hn.fill=tn(fn,un),hn.stroke=nn(fn,un)||hn.fill;var pn=ln.ensureUniqueItemVisual(cn,"style");extend$1(pn,hn)}}}}}};const candlestickVisual$1=candlestickVisual;var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(Fe){var en=Fe.coordinateSystem,tn=Fe.getData(),nn=calculateCandleWidth(Fe,tn),rn=0,an=1,ln=["x","y"],cn=tn.getDimensionIndex(tn.mapDimension(ln[rn])),un=map$1(tn.mapDimensionsAll(ln[an]),tn.getDimensionIndex,tn),fn=un[0],hn=un[1],pn=un[2],gn=un[3];if(tn.setLayout({candleWidth:nn,isSimpleBox:nn<=1.3}),cn<0||un.length<4)return;return{progress:Fe.pipelineContext.large?_n:mn};function mn(kn,Cn){for(var xn,Sn=Cn.getStore();(xn=kn.next())!=null;){var Mn=Sn.get(cn,xn),In=Sn.get(fn,xn),On=Sn.get(hn,xn),Pn=Sn.get(pn,xn),Tn=Sn.get(gn,xn),Nn=Math.min(In,On),Hn=Math.max(In,On),Un=Wr(Nn,Mn),jn=Wr(Hn,Mn),Yn=Wr(Pn,Mn),Wn=Wr(Tn,Mn),Qn=[];Jr(Qn,jn,0),Jr(Qn,Un,1),Qn.push(ti(Wn),ti(jn),ti(Yn),ti(Un));var Xn=Cn.getItemModel(xn),jr=!!Xn.get(["itemStyle","borderColorDoji"]);Cn.setItemLayout(xn,{sign:getSign(Sn,xn,In,On,hn,jr),initBaseline:In>On?jn[an]:Un[an],ends:Qn,brushRect:ci(Pn,Tn,Mn)})}function Wr(Zr,Br){var Jn=[];return Jn[rn]=Br,Jn[an]=Zr,isNaN(Br)||isNaN(Zr)?[NaN,NaN]:en.dataToPoint(Jn)}function Jr(Zr,Br,Jn){var oi=Br.slice(),pi=Br.slice();oi[rn]=subPixelOptimize(oi[rn]+nn/2,1,!1),pi[rn]=subPixelOptimize(pi[rn]-nn/2,1,!0),Jn?Zr.push(oi,pi):Zr.push(pi,oi)}function ci(Zr,Br,Jn){var oi=Wr(Zr,Jn),pi=Wr(Br,Jn);return oi[rn]-=nn/2,pi[rn]-=nn/2,{x:oi[0],y:oi[1],width:nn,height:pi[1]-oi[1]}}function ti(Zr){return Zr[rn]=subPixelOptimize(Zr[rn],1),Zr}}function _n(kn,Cn){for(var xn=createFloat32Array(kn.count*4),Sn=0,Mn,In=[],On=[],Pn,Tn=Cn.getStore(),Nn=!!Fe.get(["itemStyle","borderColorDoji"]);(Pn=kn.next())!=null;){var Hn=Tn.get(cn,Pn),Un=Tn.get(fn,Pn),jn=Tn.get(hn,Pn),Yn=Tn.get(pn,Pn),Wn=Tn.get(gn,Pn);if(isNaN(Hn)||isNaN(Yn)||isNaN(Wn)){xn[Sn++]=NaN,Sn+=3;continue}xn[Sn++]=getSign(Tn,Pn,Un,jn,hn,Nn),In[rn]=Hn,In[an]=Yn,Mn=en.dataToPoint(In,null,On),xn[Sn++]=Mn?Mn[0]:NaN,xn[Sn++]=Mn?Mn[1]:NaN,In[an]=Wn,Mn=en.dataToPoint(In,null,On),xn[Sn++]=Mn?Mn[1]:NaN}Cn.setLayout("largePoints",xn)}}};function getSign(Fe,en,tn,nn,rn,an){var ln;return tn>nn?ln=-1:tn<nn?ln=1:ln=an?0:en>0?Fe.get(rn,en-1)<=nn?1:-1:1,ln}function calculateCandleWidth(Fe,en){var tn=Fe.getBaseAxis(),nn,rn=tn.type==="category"?tn.getBandWidth():(nn=tn.getExtent(),Math.abs(nn[1]-nn[0])/en.count()),an=parsePercent(retrieve2(Fe.get("barMaxWidth"),rn),rn),ln=parsePercent(retrieve2(Fe.get("barMinWidth"),1),rn),cn=Fe.get("barWidth");return cn!=null?parsePercent(cn,rn):Math.max(Math.min(rn/2,an),ln)}const candlestickLayout$1=candlestickLayout;function install$y(Fe){Fe.registerChartView(CandlestickView$1),Fe.registerSeriesModel(CandlestickSeriesModel$1),Fe.registerPreprocessor(candlestickPreprocessor),Fe.registerVisual(candlestickVisual$1),Fe.registerLayout(candlestickLayout$1)}function updateRipplePath(Fe,en){var tn=en.rippleEffectColor||en.color;Fe.eachChild(function(nn){nn.attr({z:en.z,zlevel:en.zlevel,style:{stroke:en.brushType==="stroke"?tn:null,fill:en.brushType==="fill"?tn:null}})})}var EffectSymbol=function(Fe){__extends(en,Fe);function en(tn,nn){var rn=Fe.call(this)||this,an=new SymbolClz(tn,nn),ln=new Group$4;return rn.add(an),rn.add(ln),rn.updateData(tn,nn),rn}return en.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},en.prototype.startEffectAnimation=function(tn){for(var nn=tn.symbolType,rn=tn.color,an=tn.rippleNumber,ln=this.childAt(1),cn=0;cn<an;cn++){var un=createSymbol$1(nn,-1,-1,2,2,rn);un.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var fn=-cn/an*tn.period+tn.effectOffset;un.animate("",!0).when(tn.period,{scaleX:tn.rippleScale/2,scaleY:tn.rippleScale/2}).delay(fn).start(),un.animateStyle(!0).when(tn.period,{opacity:0}).delay(fn).start(),ln.add(un)}updateRipplePath(ln,tn)},en.prototype.updateEffectAnimation=function(tn){for(var nn=this._effectCfg,rn=this.childAt(1),an=["symbolType","period","rippleScale","rippleNumber"],ln=0;ln<an.length;ln++){var cn=an[ln];if(nn[cn]!==tn[cn]){this.stopEffectAnimation(),this.startEffectAnimation(tn);return}}updateRipplePath(rn,tn)},en.prototype.highlight=function(){enterEmphasis(this)},en.prototype.downplay=function(){leaveEmphasis(this)},en.prototype.getSymbolType=function(){var tn=this.childAt(0);return tn&&tn.getSymbolType()},en.prototype.updateData=function(tn,nn){var rn=this,an=tn.hostModel;this.childAt(0).updateData(tn,nn);var ln=this.childAt(1),cn=tn.getItemModel(nn),un=tn.getItemVisual(nn,"symbol"),fn=normalizeSymbolSize(tn.getItemVisual(nn,"symbolSize")),hn=tn.getItemVisual(nn,"style"),pn=hn&&hn.fill,gn=cn.getModel("emphasis");ln.setScale(fn),ln.traverse(function(Cn){Cn.setStyle("fill",pn)});var mn=normalizeSymbolOffset(tn.getItemVisual(nn,"symbolOffset"),fn);mn&&(ln.x=mn[0],ln.y=mn[1]);var _n=tn.getItemVisual(nn,"symbolRotate");ln.rotation=(_n||0)*Math.PI/180||0;var kn={};kn.showEffectOn=an.get("showEffectOn"),kn.rippleScale=cn.get(["rippleEffect","scale"]),kn.brushType=cn.get(["rippleEffect","brushType"]),kn.period=cn.get(["rippleEffect","period"])*1e3,kn.effectOffset=nn/tn.count(),kn.z=an.getShallow("z")||0,kn.zlevel=an.getShallow("zlevel")||0,kn.symbolType=un,kn.color=pn,kn.rippleEffectColor=cn.get(["rippleEffect","color"]),kn.rippleNumber=cn.get(["rippleEffect","number"]),kn.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(kn):this.startEffectAnimation(kn),this._effectCfg=kn):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(Cn){Cn==="emphasis"?kn.showEffectOn!=="render"&&rn.startEffectAnimation(kn):Cn==="normal"&&kn.showEffectOn!=="render"&&rn.stopEffectAnimation()}),this._effectCfg=kn,toggleHoverEmphasis(this,gn.get("focus"),gn.get("blurScope"),gn.get("disabled"))},en.prototype.fadeOut=function(tn){tn&&tn()},en}(Group$4);const EffectSymbol$1=EffectSymbol;var EffectScatterView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(){this._symbolDraw=new SymbolDraw$1(EffectSymbol$1)},en.prototype.render=function(tn,nn,rn){var an=tn.getData(),ln=this._symbolDraw;ln.updateData(an,{clipShape:this._getClipShape(tn)}),this.group.add(ln.group)},en.prototype._getClipShape=function(tn){var nn=tn.coordinateSystem,rn=nn&&nn.getArea&&nn.getArea();return tn.get("clip",!0)?rn:null},en.prototype.updateTransform=function(tn,nn,rn){var an=tn.getData();this.group.dirty();var ln=pointsLayout("").reset(tn,nn,rn);ln.progress&&ln.progress({start:0,end:an.count(),count:an.count()},an),this._symbolDraw.updateLayout()},en.prototype._updateGroupTransform=function(tn){var nn=tn.coordinateSystem;nn&&nn.getRoamTransform&&(this.group.transform=clone$2(nn.getRoamTransform()),this.group.decomposeTransform())},en.prototype.remove=function(tn,nn){this._symbolDraw&&this._symbolDraw.remove(!0)},en.type="effectScatter",en}(ChartView$1);const EffectScatterView$1=EffectScatterView;var EffectScatterSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.hasSymbolVisual=!0,tn}return en.prototype.getInitialData=function(tn,nn){return createSeriesData(null,this,{useEncodeDefaulter:!0})},en.prototype.brushSelector=function(tn,nn,rn){return rn.point(nn.getItemLayout(tn))},en.type="series.effectScatter",en.dependencies=["grid","polar"],en.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},en}(SeriesModel$1);const EffectScatterSeriesModel$1=EffectScatterSeriesModel;function install$x(Fe){Fe.registerChartView(EffectScatterView$1),Fe.registerSeriesModel(EffectScatterSeriesModel$1),Fe.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this)||this;return an.add(an.createLine(tn,nn,rn)),an._updateEffectSymbol(tn,nn),an}return en.prototype.createLine=function(tn,nn,rn){return new Line$1(tn,nn,rn)},en.prototype._updateEffectSymbol=function(tn,nn){var rn=tn.getItemModel(nn),an=rn.getModel("effect"),ln=an.get("symbolSize"),cn=an.get("symbol");isArray$1(ln)||(ln=[ln,ln]);var un=tn.getItemVisual(nn,"style"),fn=an.get("color")||un&&un.stroke,hn=this.childAt(1);this._symbolType!==cn&&(this.remove(hn),hn=createSymbol$1(cn,-.5,-.5,1,1,fn),hn.z2=100,hn.culling=!0,this.add(hn)),hn&&(hn.setStyle("shadowColor",fn),hn.setStyle(an.getItemStyle(["color"])),hn.scaleX=ln[0],hn.scaleY=ln[1],hn.setColor(fn),this._symbolType=cn,this._symbolScale=ln,this._updateEffectAnimation(tn,an,nn))},en.prototype._updateEffectAnimation=function(tn,nn,rn){var an=this.childAt(1);if(an){var ln=tn.getItemLayout(rn),cn=nn.get("period")*1e3,un=nn.get("loop"),fn=nn.get("roundTrip"),hn=nn.get("constantSpeed"),pn=retrieve(nn.get("delay"),function(mn){return mn/tn.count()*cn/3});if(an.ignore=!0,this._updateAnimationPoints(an,ln),hn>0&&(cn=this._getLineLength(an)/hn*1e3),cn!==this._period||un!==this._loop||fn!==this._roundTrip){an.stopAnimation();var gn=void 0;isFunction(pn)?gn=pn(rn):gn=pn,an.__t>0&&(gn=-cn*an.__t),this._animateSymbol(an,cn,gn,un,fn)}this._period=cn,this._loop=un,this._roundTrip=fn}},en.prototype._animateSymbol=function(tn,nn,rn,an,ln){if(nn>0){tn.__t=0;var cn=this,un=tn.animate("",an).when(ln?nn*2:nn,{__t:ln?2:1}).delay(rn).during(function(){cn._updateSymbolPosition(tn)});an||un.done(function(){cn.remove(tn)}),un.start()}},en.prototype._getLineLength=function(tn){return dist$1(tn.__p1,tn.__cp1)+dist$1(tn.__cp1,tn.__p2)},en.prototype._updateAnimationPoints=function(tn,nn){tn.__p1=nn[0],tn.__p2=nn[1],tn.__cp1=nn[2]||[(nn[0][0]+nn[1][0])/2,(nn[0][1]+nn[1][1])/2]},en.prototype.updateData=function(tn,nn,rn){this.childAt(0).updateData(tn,nn,rn),this._updateEffectSymbol(tn,nn)},en.prototype._updateSymbolPosition=function(tn){var nn=tn.__p1,rn=tn.__p2,an=tn.__cp1,ln=tn.__t<1?tn.__t:2-tn.__t,cn=[tn.x,tn.y],un=cn.slice(),fn=quadraticAt$1,hn=quadraticDerivativeAt;cn[0]=fn(nn[0],an[0],rn[0],ln),cn[1]=fn(nn[1],an[1],rn[1],ln);var pn=tn.__t<1?hn(nn[0],an[0],rn[0],ln):hn(rn[0],an[0],nn[0],1-ln),gn=tn.__t<1?hn(nn[1],an[1],rn[1],ln):hn(rn[1],an[1],nn[1],1-ln);tn.rotation=-Math.atan2(gn,pn)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(tn.__lastT!==void 0&&tn.__lastT<tn.__t?(tn.scaleY=dist$1(un,cn)*1.05,ln===1&&(cn[0]=un[0]+(cn[0]-un[0])/2,cn[1]=un[1]+(cn[1]-un[1])/2)):tn.__lastT===1?tn.scaleY=2*dist$1(nn,cn):tn.scaleY=this._symbolScale[1]),tn.__lastT=tn.__t,tn.ignore=!1,tn.x=cn[0],tn.y=cn[1]},en.prototype.updateLayout=function(tn,nn){this.childAt(0).updateLayout(tn,nn);var rn=tn.getItemModel(nn).getModel("effect");this._updateEffectAnimation(tn,rn,nn)},en}(Group$4);const EffectLine$1=EffectLine;var Polyline=function(Fe){__extends(en,Fe);function en(tn,nn,rn){var an=Fe.call(this)||this;return an._createPolyline(tn,nn,rn),an}return en.prototype._createPolyline=function(tn,nn,rn){var an=tn.getItemLayout(nn),ln=new Polyline$3({shape:{points:an}});this.add(ln),this._updateCommonStl(tn,nn,rn)},en.prototype.updateData=function(tn,nn,rn){var an=tn.hostModel,ln=this.childAt(0),cn={shape:{points:tn.getItemLayout(nn)}};updateProps$1(ln,cn,an,nn),this._updateCommonStl(tn,nn,rn)},en.prototype._updateCommonStl=function(tn,nn,rn){var an=this.childAt(0),ln=tn.getItemModel(nn),cn=rn&&rn.emphasisLineStyle,un=rn&&rn.focus,fn=rn&&rn.blurScope,hn=rn&&rn.emphasisDisabled;if(!rn||tn.hasItemOption){var pn=ln.getModel("emphasis");cn=pn.getModel("lineStyle").getLineStyle(),hn=pn.get("disabled"),un=pn.get("focus"),fn=pn.get("blurScope")}an.useStyle(tn.getItemVisual(nn,"style")),an.style.fill=null,an.style.strokeNoScale=!0;var gn=an.ensureState("emphasis");gn.style=cn,toggleHoverEmphasis(this,un,fn,hn)},en.prototype.updateLayout=function(tn,nn){var rn=this.childAt(0);rn.setShape("points",tn.getItemLayout(nn))},en}(Group$4);const Polyline$1=Polyline;var EffectPolyline=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn._lastFrame=0,tn._lastFramePercent=0,tn}return en.prototype.createLine=function(tn,nn,rn){return new Polyline$1(tn,nn,rn)},en.prototype._updateAnimationPoints=function(tn,nn){this._points=nn;for(var rn=[0],an=0,ln=1;ln<nn.length;ln++){var cn=nn[ln-1],un=nn[ln];an+=dist$1(cn,un),rn.push(an)}if(an===0){this._length=0;return}for(var ln=0;ln<rn.length;ln++)rn[ln]/=an;this._offsets=rn,this._length=an},en.prototype._getLineLength=function(){return this._length},en.prototype._updateSymbolPosition=function(tn){var nn=tn.__t<1?tn.__t:2-tn.__t,rn=this._points,an=this._offsets,ln=rn.length;if(an){var cn=this._lastFrame,un;if(nn<this._lastFramePercent){var fn=Math.min(cn+1,ln-1);for(un=fn;un>=0&&!(an[un]<=nn);un--);un=Math.min(un,ln-2)}else{for(un=cn;un<ln&&!(an[un]>nn);un++);un=Math.min(un-1,ln-2)}var hn=(nn-an[un])/(an[un+1]-an[un]),pn=rn[un],gn=rn[un+1];tn.x=pn[0]*(1-hn)+hn*gn[0],tn.y=pn[1]*(1-hn)+hn*gn[1];var mn=tn.__t<1?gn[0]-pn[0]:pn[0]-gn[0],_n=tn.__t<1?gn[1]-pn[1]:pn[1]-gn[1];tn.rotation=-Math.atan2(_n,mn)-Math.PI/2,this._lastFrame=un,this._lastFramePercent=nn,tn.ignore=!1}},en}(EffectLine$1);const EffectPolyline$1=EffectPolyline;var LargeLinesPathShape=function(){function Fe(){this.polyline=!1,this.curveness=0,this.segs=[]}return Fe}(),LargeLinesPath=function(Fe){__extends(en,Fe);function en(tn){var nn=Fe.call(this,tn)||this;return nn._off=0,nn.hoverDataIdx=-1,nn}return en.prototype.reset=function(){this.notClear=!1,this._off=0},en.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},en.prototype.getDefaultShape=function(){return new LargeLinesPathShape},en.prototype.buildPath=function(tn,nn){var rn=nn.segs,an=nn.curveness,ln;if(nn.polyline)for(ln=this._off;ln<rn.length;){var cn=rn[ln++];if(cn>0){tn.moveTo(rn[ln++],rn[ln++]);for(var un=1;un<cn;un++)tn.lineTo(rn[ln++],rn[ln++])}}else for(ln=this._off;ln<rn.length;){var fn=rn[ln++],hn=rn[ln++],pn=rn[ln++],gn=rn[ln++];if(tn.moveTo(fn,hn),an>0){var mn=(fn+pn)/2-(hn-gn)*an,_n=(hn+gn)/2-(pn-fn)*an;tn.quadraticCurveTo(mn,_n,pn,gn)}else tn.lineTo(pn,gn)}this.incremental&&(this._off=ln,this.notClear=!0)},en.prototype.findDataIndex=function(tn,nn){var rn=this.shape,an=rn.segs,ln=rn.curveness,cn=this.style.lineWidth;if(rn.polyline)for(var un=0,fn=0;fn<an.length;){var hn=an[fn++];if(hn>0)for(var pn=an[fn++],gn=an[fn++],mn=1;mn<hn;mn++){var _n=an[fn++],kn=an[fn++];if(containStroke$4(pn,gn,_n,kn,cn,tn,nn))return un}un++}else for(var un=0,fn=0;fn<an.length;){var pn=an[fn++],gn=an[fn++],_n=an[fn++],kn=an[fn++];if(ln>0){var Cn=(pn+_n)/2-(gn-kn)*ln,xn=(gn+kn)/2-(_n-pn)*ln;if(containStroke$2(pn,gn,Cn,xn,_n,kn,cn,tn,nn))return un}else if(containStroke$4(pn,gn,_n,kn,cn,tn,nn))return un;un++}return-1},en.prototype.contain=function(tn,nn){var rn=this.transformCoordToLocal(tn,nn),an=this.getBoundingRect();if(tn=rn[0],nn=rn[1],an.contain(tn,nn)){var ln=this.hoverDataIdx=this.findDataIndex(tn,nn);return ln>=0}return this.hoverDataIdx=-1,!1},en.prototype.getBoundingRect=function(){var tn=this._rect;if(!tn){for(var nn=this.shape,rn=nn.segs,an=1/0,ln=1/0,cn=-1/0,un=-1/0,fn=0;fn<rn.length;){var hn=rn[fn++],pn=rn[fn++];an=Math.min(hn,an),cn=Math.max(hn,cn),ln=Math.min(pn,ln),un=Math.max(pn,un)}tn=this._rect=new BoundingRect$1(an,ln,cn,un)}return tn},en}(Path$1),LargeLineDraw=function(){function Fe(){this.group=new Group$4}return Fe.prototype.updateData=function(en){this._clear();var tn=this._create();tn.setShape({segs:en.getLayout("linesPoints")}),this._setCommon(tn,en)},Fe.prototype.incrementalPrepareUpdate=function(en){this.group.removeAll(),this._clear()},Fe.prototype.incrementalUpdate=function(en,tn){var nn=this._newAdded[0],rn=tn.getLayout("linesPoints"),an=nn&&nn.shape.segs;if(an&&an.length<2e4){var ln=an.length,cn=new Float32Array(ln+rn.length);cn.set(an),cn.set(rn,ln),nn.setShape({segs:cn})}else{this._newAdded=[];var un=this._create();un.incremental=!0,un.setShape({segs:rn}),this._setCommon(un,tn),un.__startIndex=en.start}},Fe.prototype.remove=function(){this._clear()},Fe.prototype.eachRendered=function(en){this._newAdded[0]&&en(this._newAdded[0])},Fe.prototype._create=function(){var en=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(en),this.group.add(en),en},Fe.prototype._setCommon=function(en,tn,nn){var rn=tn.hostModel;en.setShape({polyline:rn.get("polyline"),curveness:rn.get(["lineStyle","curveness"])}),en.useStyle(rn.getModel("lineStyle").getLineStyle()),en.style.strokeNoScale=!0;var an=tn.getVisual("style");an&&an.stroke&&en.setStyle("stroke",an.stroke),en.setStyle("fill",null);var ln=getECData(en);ln.seriesIndex=rn.seriesIndex,en.on("mousemove",function(cn){ln.dataIndex=null;var un=en.hoverDataIdx;un>0&&(ln.dataIndex=un+en.__startIndex)})},Fe.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},Fe}();const LargeLineDraw$1=LargeLineDraw;var linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(Fe){var en=Fe.coordinateSystem;if(en){var tn=Fe.get("polyline"),nn=Fe.pipelineContext.large;return{progress:function(rn,an){var ln=[];if(nn){var cn=void 0,un=rn.end-rn.start;if(tn){for(var fn=0,hn=rn.start;hn<rn.end;hn++)fn+=Fe.getLineCoordsCount(hn);cn=new Float32Array(un+fn*2)}else cn=new Float32Array(un*4);for(var pn=0,gn=[],hn=rn.start;hn<rn.end;hn++){var mn=Fe.getLineCoords(hn,ln);tn&&(cn[pn++]=mn);for(var _n=0;_n<mn;_n++)gn=en.dataToPoint(ln[_n],!1,gn),cn[pn++]=gn[0],cn[pn++]=gn[1]}an.setLayout("linesPoints",cn)}else for(var hn=rn.start;hn<rn.end;hn++){var kn=an.getItemModel(hn),mn=Fe.getLineCoords(hn,ln),Cn=[];if(tn)for(var xn=0;xn<mn;xn++)Cn.push(en.dataToPoint(ln[xn]));else{Cn[0]=en.dataToPoint(ln[0]),Cn[1]=en.dataToPoint(ln[1]);var Sn=kn.get(["lineStyle","curveness"]);+Sn&&(Cn[2]=[(Cn[0][0]+Cn[1][0])/2-(Cn[0][1]-Cn[1][1])*Sn,(Cn[0][1]+Cn[1][1])/2-(Cn[1][0]-Cn[0][0])*Sn])}an.setItemLayout(hn,Cn)}}}}}};const linesLayout$1=linesLayout;var LinesView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){var an=tn.getData(),ln=this._updateLineDraw(an,tn),cn=tn.get("zlevel"),un=tn.get(["effect","trailLength"]),fn=rn.getZr(),hn=fn.painter.getType()==="svg";hn||fn.painter.getLayer(cn).clear(!0),this._lastZlevel!=null&&!hn&&fn.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(tn)&&un>0&&(hn||fn.configLayer(cn,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(un/10+.9,1),0)})),ln.updateData(an);var pn=tn.get("clip",!0)&&createClipPath(tn.coordinateSystem,!1,tn);pn?this.group.setClipPath(pn):this.group.removeClipPath(),this._lastZlevel=cn,this._finished=!0},en.prototype.incrementalPrepareRender=function(tn,nn,rn){var an=tn.getData(),ln=this._updateLineDraw(an,tn);ln.incrementalPrepareUpdate(an),this._clearLayer(rn),this._finished=!1},en.prototype.incrementalRender=function(tn,nn,rn){this._lineDraw.incrementalUpdate(tn,nn.getData()),this._finished=tn.end===nn.getData().count()},en.prototype.eachRendered=function(tn){this._lineDraw&&this._lineDraw.eachRendered(tn)},en.prototype.updateTransform=function(tn,nn,rn){var an=tn.getData(),ln=tn.pipelineContext;if(!this._finished||ln.large||ln.progressiveRender)return{update:!0};var cn=linesLayout$1.reset(tn,nn,rn);cn.progress&&cn.progress({start:0,end:an.count(),count:an.count()},an),this._lineDraw.updateLayout(),this._clearLayer(rn)},en.prototype._updateLineDraw=function(tn,nn){var rn=this._lineDraw,an=this._showEffect(nn),ln=!!nn.get("polyline"),cn=nn.pipelineContext,un=cn.large;return(!rn||an!==this._hasEffet||ln!==this._isPolyline||un!==this._isLargeDraw)&&(rn&&rn.remove(),rn=this._lineDraw=un?new LargeLineDraw$1:new LineDraw$1(ln?an?EffectPolyline$1:Polyline$1:an?EffectLine$1:Line$1),this._hasEffet=an,this._isPolyline=ln,this._isLargeDraw=un),this.group.add(rn.group),rn},en.prototype._showEffect=function(tn){return!!tn.get(["effect","show"])},en.prototype._clearLayer=function(tn){var nn=tn.getZr(),rn=nn.painter.getType()==="svg";!rn&&this._lastZlevel!=null&&nn.painter.getLayer(this._lastZlevel).clear(!0)},en.prototype.remove=function(tn,nn){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(nn)},en.prototype.dispose=function(tn,nn){this.remove(tn,nn)},en.type="lines",en}(ChartView$1);const LinesView$1=LinesView;var Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(Fe){var en=Fe.data;en&&en[0]&&en[0][0]&&en[0][0].coord&&(Fe.data=map$1(en,function(tn){var nn=[tn[0].coord,tn[1].coord],rn={coords:nn};return tn[0].name&&(rn.fromName=tn[0].name),tn[1].name&&(rn.toName=tn[1].name),mergeAll([rn,tn[0],tn[1]])}))}var LinesSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.visualStyleAccessPath="lineStyle",tn.visualDrawType="stroke",tn}return en.prototype.init=function(tn){tn.data=tn.data||[],compatEc2(tn);var nn=this._processFlatCoordsArray(tn.data);this._flatCoords=nn.flatCoords,this._flatCoordsOffset=nn.flatCoordsOffset,nn.flatCoords&&(tn.data=new Float32Array(nn.count)),Fe.prototype.init.apply(this,arguments)},en.prototype.mergeOption=function(tn){if(compatEc2(tn),tn.data){var nn=this._processFlatCoordsArray(tn.data);this._flatCoords=nn.flatCoords,this._flatCoordsOffset=nn.flatCoordsOffset,nn.flatCoords&&(tn.data=new Float32Array(nn.count))}Fe.prototype.mergeOption.apply(this,arguments)},en.prototype.appendData=function(tn){var nn=this._processFlatCoordsArray(tn.data);nn.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,nn.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,nn.flatCoordsOffset)):(this._flatCoords=nn.flatCoords,this._flatCoordsOffset=nn.flatCoordsOffset),tn.data=new Float32Array(nn.count)),this.getRawData().appendData(tn.data)},en.prototype._getCoordsFromItemModel=function(tn){var nn=this.getData().getItemModel(tn),rn=nn.option instanceof Array?nn.option:nn.getShallow("coords");return rn},en.prototype.getLineCoordsCount=function(tn){return this._flatCoordsOffset?this._flatCoordsOffset[tn*2+1]:this._getCoordsFromItemModel(tn).length},en.prototype.getLineCoords=function(tn,nn){if(this._flatCoordsOffset){for(var rn=this._flatCoordsOffset[tn*2],an=this._flatCoordsOffset[tn*2+1],ln=0;ln<an;ln++)nn[ln]=nn[ln]||[],nn[ln][0]=this._flatCoords[rn+ln*2],nn[ln][1]=this._flatCoords[rn+ln*2+1];return an}else{for(var cn=this._getCoordsFromItemModel(tn),ln=0;ln<cn.length;ln++)nn[ln]=nn[ln]||[],nn[ln][0]=cn[ln][0],nn[ln][1]=cn[ln][1];return cn.length}},en.prototype._processFlatCoordsArray=function(tn){var nn=0;if(this._flatCoords&&(nn=this._flatCoords.length),isNumber(tn[0])){for(var rn=tn.length,an=new Uint32Arr(rn),ln=new Float64Arr(rn),cn=0,un=0,fn=0,hn=0;hn<rn;){fn++;var pn=tn[hn++];an[un++]=cn+nn,an[un++]=pn;for(var gn=0;gn<pn;gn++){var mn=tn[hn++],_n=tn[hn++];ln[cn++]=mn,ln[cn++]=_n}}return{flatCoordsOffset:new Uint32Array(an.buffer,0,un),flatCoords:ln,count:fn}}return{flatCoordsOffset:null,flatCoords:null,count:tn.length}},en.prototype.getInitialData=function(tn,nn){var rn=new SeriesData$1(["value"],this);return rn.hasItemOption=!1,rn.initData(tn.data,[],function(an,ln,cn,un){if(an instanceof Array)return NaN;rn.hasItemOption=!0;var fn=an.value;if(fn!=null)return fn instanceof Array?fn[un]:fn}),rn},en.prototype.formatTooltip=function(tn,nn,rn){var an=this.getData(),ln=an.getItemModel(tn),cn=ln.get("name");if(cn)return cn;var un=ln.get("fromName"),fn=ln.get("toName"),hn=[];return un!=null&&hn.push(un),fn!=null&&hn.push(fn),createTooltipMarkup("nameValue",{name:hn.join(" > ")})},en.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},en.prototype.getProgressive=function(){var tn=this.option.progressive;return tn??(this.option.large?1e4:this.get("progressive"))},en.prototype.getProgressiveThreshold=function(){var tn=this.option.progressiveThreshold;return tn??(this.option.large?2e4:this.get("progressiveThreshold"))},en.prototype.getZLevelKey=function(){var tn=this.getModel("effect"),nn=tn.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:tn.get("show")&&nn>0?nn+"":""},en.type="series.lines",en.dependencies=["grid","polar","geo","calendar"],en.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},en}(SeriesModel$1);const LinesSeriesModel$1=LinesSeriesModel;function normalize(Fe){return Fe instanceof Array||(Fe=[Fe,Fe]),Fe}var linesVisual={seriesType:"lines",reset:function(Fe){var en=normalize(Fe.get("symbol")),tn=normalize(Fe.get("symbolSize")),nn=Fe.getData();nn.setVisual("fromSymbol",en&&en[0]),nn.setVisual("toSymbol",en&&en[1]),nn.setVisual("fromSymbolSize",tn&&tn[0]),nn.setVisual("toSymbolSize",tn&&tn[1]);function rn(an,ln){var cn=an.getItemModel(ln),un=normalize(cn.getShallow("symbol",!0)),fn=normalize(cn.getShallow("symbolSize",!0));un[0]&&an.setItemVisual(ln,"fromSymbol",un[0]),un[1]&&an.setItemVisual(ln,"toSymbol",un[1]),fn[0]&&an.setItemVisual(ln,"fromSymbolSize",fn[0]),fn[1]&&an.setItemVisual(ln,"toSymbolSize",fn[1])}return{dataEach:nn.hasItemOption?rn:null}}};const linesVisual$1=linesVisual;function install$w(Fe){Fe.registerChartView(LinesView$1),Fe.registerSeriesModel(LinesSeriesModel$1),Fe.registerLayout(linesLayout$1),Fe.registerVisual(linesVisual$1)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function Fe(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var en=platformApi.createCanvas();this.canvas=en}return Fe.prototype.update=function(en,tn,nn,rn,an,ln){var cn=this._getBrush(),un=this._getGradient(an,"inRange"),fn=this._getGradient(an,"outOfRange"),hn=this.pointSize+this.blurSize,pn=this.canvas,gn=pn.getContext("2d"),mn=en.length;pn.width=tn,pn.height=nn;for(var _n=0;_n<mn;++_n){var kn=en[_n],Cn=kn[0],xn=kn[1],Sn=kn[2],Mn=rn(Sn);gn.globalAlpha=Mn,gn.drawImage(cn,Cn-hn,xn-hn)}if(!pn.width||!pn.height)return pn;for(var In=gn.getImageData(0,0,pn.width,pn.height),On=In.data,Pn=0,Tn=On.length,Nn=this.minOpacity,Hn=this.maxOpacity,Un=Hn-Nn;Pn<Tn;){var Mn=On[Pn+3]/256,jn=Math.floor(Mn*(GRADIENT_LEVELS-1))*4;if(Mn>0){var Yn=ln(Mn)?un:fn;Mn>0&&(Mn=Mn*Un+Nn),On[Pn++]=Yn[jn],On[Pn++]=Yn[jn+1],On[Pn++]=Yn[jn+2],On[Pn++]=Yn[jn+3]*Mn*256}else Pn+=4}return gn.putImageData(In,0,0),pn},Fe.prototype._getBrush=function(){var en=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),tn=this.pointSize+this.blurSize,nn=tn*2;en.width=nn,en.height=nn;var rn=en.getContext("2d");return rn.clearRect(0,0,nn,nn),rn.shadowOffsetX=nn,rn.shadowBlur=this.blurSize,rn.shadowColor="#000",rn.beginPath(),rn.arc(-tn,tn,this.pointSize,0,Math.PI*2,!0),rn.closePath(),rn.fill(),en},Fe.prototype._getGradient=function(en,tn){for(var nn=this._gradientPixels,rn=nn[tn]||(nn[tn]=new Uint8ClampedArray(256*4)),an=[0,0,0,0],ln=0,cn=0;cn<256;cn++)en[tn](cn/255,!0,an),rn[ln++]=an[0],rn[ln++]=an[1],rn[ln++]=an[2],rn[ln++]=an[3];return rn},Fe}();const HeatmapLayer$1=HeatmapLayer;function getIsInPiecewiseRange(Fe,en,tn){var nn=Fe[1]-Fe[0];en=map$1(en,function(ln){return{interval:[(ln.interval[0]-Fe[0])/nn,(ln.interval[1]-Fe[0])/nn]}});var rn=en.length,an=0;return function(ln){var cn;for(cn=an;cn<rn;cn++){var un=en[cn].interval;if(un[0]<=ln&&ln<=un[1]){an=cn;break}}if(cn===rn)for(cn=an-1;cn>=0;cn--){var un=en[cn].interval;if(un[0]<=ln&&ln<=un[1]){an=cn;break}}return cn>=0&&cn<rn&&tn[cn]}}function getIsInContinuousRange(Fe,en){var tn=Fe[1]-Fe[0];return en=[(en[0]-Fe[0])/tn,(en[1]-Fe[0])/tn],function(nn){return nn>=en[0]&&nn<=en[1]}}function isGeoCoordSys(Fe){var en=Fe.dimensions;return en[0]==="lng"&&en[1]==="lat"}var HeatmapView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){var an;nn.eachComponent("visualMap",function(cn){cn.eachTargetSeries(function(un){un===tn&&(an=cn)})}),this._progressiveEls=null,this.group.removeAll();var ln=tn.coordinateSystem;ln.type==="cartesian2d"||ln.type==="calendar"?this._renderOnCartesianAndCalendar(tn,rn,0,tn.getData().count()):isGeoCoordSys(ln)&&this._renderOnGeo(ln,tn,an,rn)},en.prototype.incrementalPrepareRender=function(tn,nn,rn){this.group.removeAll()},en.prototype.incrementalRender=function(tn,nn,rn,an){var ln=nn.coordinateSystem;ln&&(isGeoCoordSys(ln)?this.render(nn,rn,an):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(nn,an,tn.start,tn.end,!0)))},en.prototype.eachRendered=function(tn){traverseElements(this._progressiveEls||this.group,tn)},en.prototype._renderOnCartesianAndCalendar=function(tn,nn,rn,an,ln){var cn=tn.coordinateSystem,un=isCoordinateSystemType(cn,"cartesian2d"),fn,hn,pn,gn;if(un){var mn=cn.getAxis("x"),_n=cn.getAxis("y");fn=mn.getBandWidth()+.5,hn=_n.getBandWidth()+.5,pn=mn.scale.getExtent(),gn=_n.scale.getExtent()}for(var kn=this.group,Cn=tn.getData(),xn=tn.getModel(["emphasis","itemStyle"]).getItemStyle(),Sn=tn.getModel(["blur","itemStyle"]).getItemStyle(),Mn=tn.getModel(["select","itemStyle"]).getItemStyle(),In=tn.get(["itemStyle","borderRadius"]),On=getLabelStatesModels(tn),Pn=tn.getModel("emphasis"),Tn=Pn.get("focus"),Nn=Pn.get("blurScope"),Hn=Pn.get("disabled"),Un=un?[Cn.mapDimension("x"),Cn.mapDimension("y"),Cn.mapDimension("value")]:[Cn.mapDimension("time"),Cn.mapDimension("value")],jn=rn;jn<an;jn++){var Yn=void 0,Wn=Cn.getItemVisual(jn,"style");if(un){var Qn=Cn.get(Un[0],jn),Xn=Cn.get(Un[1],jn);if(isNaN(Cn.get(Un[2],jn))||isNaN(Qn)||isNaN(Xn)||Qn<pn[0]||Qn>pn[1]||Xn<gn[0]||Xn>gn[1])continue;var jr=cn.dataToPoint([Qn,Xn]);Yn=new Rect$3({shape:{x:jr[0]-fn/2,y:jr[1]-hn/2,width:fn,height:hn},style:Wn})}else{if(isNaN(Cn.get(Un[1],jn)))continue;Yn=new Rect$3({z2:1,shape:cn.dataToRect([Cn.get(Un[0],jn)]).contentShape,style:Wn})}if(Cn.hasItemOption){var Wr=Cn.getItemModel(jn),Jr=Wr.getModel("emphasis");xn=Jr.getModel("itemStyle").getItemStyle(),Sn=Wr.getModel(["blur","itemStyle"]).getItemStyle(),Mn=Wr.getModel(["select","itemStyle"]).getItemStyle(),In=Wr.get(["itemStyle","borderRadius"]),Tn=Jr.get("focus"),Nn=Jr.get("blurScope"),Hn=Jr.get("disabled"),On=getLabelStatesModels(Wr)}Yn.shape.r=In;var ci=tn.getRawValue(jn),ti="-";ci&&ci[2]!=null&&(ti=ci[2]+""),setLabelStyle(Yn,On,{labelFetcher:tn,labelDataIndex:jn,defaultOpacity:Wn.opacity,defaultText:ti}),Yn.ensureState("emphasis").style=xn,Yn.ensureState("blur").style=Sn,Yn.ensureState("select").style=Mn,toggleHoverEmphasis(Yn,Tn,Nn,Hn),Yn.incremental=ln,ln&&(Yn.states.emphasis.hoverLayer=!0),kn.add(Yn),Cn.setItemGraphicEl(jn,Yn),this._progressiveEls&&this._progressiveEls.push(Yn)}},en.prototype._renderOnGeo=function(tn,nn,rn,an){var ln=rn.targetVisuals.inRange,cn=rn.targetVisuals.outOfRange,un=nn.getData(),fn=this._hmLayer||this._hmLayer||new HeatmapLayer$1;fn.blurSize=nn.get("blurSize"),fn.pointSize=nn.get("pointSize"),fn.minOpacity=nn.get("minOpacity"),fn.maxOpacity=nn.get("maxOpacity");var hn=tn.getViewRect().clone(),pn=tn.getRoamTransform();hn.applyTransform(pn);var gn=Math.max(hn.x,0),mn=Math.max(hn.y,0),_n=Math.min(hn.width+hn.x,an.getWidth()),kn=Math.min(hn.height+hn.y,an.getHeight()),Cn=_n-gn,xn=kn-mn,Sn=[un.mapDimension("lng"),un.mapDimension("lat"),un.mapDimension("value")],Mn=un.mapArray(Sn,function(Tn,Nn,Hn){var Un=tn.dataToPoint([Tn,Nn]);return Un[0]-=gn,Un[1]-=mn,Un.push(Hn),Un}),In=rn.getExtent(),On=rn.type==="visualMap.continuous"?getIsInContinuousRange(In,rn.option.range):getIsInPiecewiseRange(In,rn.getPieceList(),rn.option.selected);fn.update(Mn,Cn,xn,ln.color.getNormalizer(),{inRange:ln.color.getColorMapper(),outOfRange:cn.color.getColorMapper()},On);var Pn=new ZRImage$1({style:{width:Cn,height:xn,x:gn,y:mn,image:fn.canvas},silent:!0});this.group.add(Pn)},en.type="heatmap",en}(ChartView$1);const HeatmapView$1=HeatmapView;var HeatmapSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.getInitialData=function(tn,nn){return createSeriesData(null,this,{generateCoord:"value"})},en.prototype.preventIncremental=function(){var tn=CoordinateSystem.get(this.get("coordinateSystem"));if(tn&&tn.dimensions)return tn.dimensions[0]==="lng"&&tn.dimensions[1]==="lat"},en.type="series.heatmap",en.dependencies=["grid","geo","calendar"],en.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},en}(SeriesModel$1);const HeatmapSeriesModel$1=HeatmapSeriesModel;function install$v(Fe){Fe.registerChartView(HeatmapView$1),Fe.registerSeriesModel(HeatmapSeriesModel$1)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle$1,PictorialBarView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){var an=this.group,ln=tn.getData(),cn=this._data,un=tn.coordinateSystem,fn=un.getBaseAxis(),hn=fn.isHorizontal(),pn=un.master.getRect(),gn={ecSize:{width:rn.getWidth(),height:rn.getHeight()},seriesModel:tn,coordSys:un,coordSysExtent:[[pn.x,pn.x+pn.width],[pn.y,pn.y+pn.height]],isHorizontal:hn,valueDim:LAYOUT_ATTRS[+hn],categoryDim:LAYOUT_ATTRS[1-+hn]};return ln.diff(cn).add(function(mn){if(ln.hasValue(mn)){var _n=getItemModel(ln,mn),kn=getSymbolMeta(ln,mn,_n,gn),Cn=createBar(ln,gn,kn);ln.setItemGraphicEl(mn,Cn),an.add(Cn),updateCommon(Cn,gn,kn)}}).update(function(mn,_n){var kn=cn.getItemGraphicEl(_n);if(!ln.hasValue(mn)){an.remove(kn);return}var Cn=getItemModel(ln,mn),xn=getSymbolMeta(ln,mn,Cn,gn),Sn=getShapeStr(ln,xn);kn&&Sn!==kn.__pictorialShapeStr&&(an.remove(kn),ln.setItemGraphicEl(mn,null),kn=null),kn?updateBar(kn,gn,xn):kn=createBar(ln,gn,xn,!0),ln.setItemGraphicEl(mn,kn),kn.__pictorialSymbolMeta=xn,an.add(kn),updateCommon(kn,gn,xn)}).remove(function(mn){var _n=cn.getItemGraphicEl(mn);_n&&removeBar(cn,mn,_n.__pictorialSymbolMeta.animationModel,_n)}).execute(),this._data=ln,this.group},en.prototype.remove=function(tn,nn){var rn=this.group,an=this._data;tn.get("animation")?an&&an.eachItemGraphicEl(function(ln){removeBar(an,getECData(ln).dataIndex,tn,ln)}):rn.removeAll()},en.type="pictorialBar",en}(ChartView$1);function getSymbolMeta(Fe,en,tn,nn){var rn=Fe.getItemLayout(en),an=tn.get("symbolRepeat"),ln=tn.get("symbolClip"),cn=tn.get("symbolPosition")||"start",un=tn.get("symbolRotate"),fn=(un||0)*Math.PI/180||0,hn=tn.get("symbolPatternSize")||2,pn=tn.isAnimationEnabled(),gn={dataIndex:en,layout:rn,itemModel:tn,symbolType:Fe.getItemVisual(en,"symbol")||"circle",style:Fe.getItemVisual(en,"style"),symbolClip:ln,symbolRepeat:an,symbolRepeatDirection:tn.get("symbolRepeatDirection"),symbolPatternSize:hn,rotation:fn,animationModel:pn?tn:null,hoverScale:pn&&tn.get(["emphasis","scale"]),z2:tn.getShallow("z",!0)||0};prepareBarLength(tn,an,rn,nn,gn),prepareSymbolSize(Fe,en,rn,an,ln,gn.boundingLength,gn.pxSign,hn,nn,gn),prepareLineWidth(tn,gn.symbolScale,fn,nn,gn);var mn=gn.symbolSize,_n=normalizeSymbolOffset(tn.get("symbolOffset"),mn);return prepareLayoutInfo(tn,mn,rn,an,ln,_n,cn,gn.valueLineWidth,gn.boundingLength,gn.repeatCutLength,nn,gn),gn}function prepareBarLength(Fe,en,tn,nn,rn){var an=nn.valueDim,ln=Fe.get("symbolBoundingData"),cn=nn.coordSys.getOtherAxis(nn.coordSys.getBaseAxis()),un=cn.toGlobalCoord(cn.dataToCoord(0)),fn=1-+(tn[an.wh]<=0),hn;if(isArray$1(ln)){var pn=[convertToCoordOnAxis(cn,ln[0])-un,convertToCoordOnAxis(cn,ln[1])-un];pn[1]<pn[0]&&pn.reverse(),hn=pn[fn]}else ln!=null?hn=convertToCoordOnAxis(cn,ln)-un:en?hn=nn.coordSysExtent[an.index][fn]-un:hn=tn[an.wh];rn.boundingLength=hn,en&&(rn.repeatCutLength=tn[an.wh]),rn.pxSign=hn>0?1:-1}function convertToCoordOnAxis(Fe,en){return Fe.toGlobalCoord(Fe.dataToCoord(Fe.scale.parse(en)))}function prepareSymbolSize(Fe,en,tn,nn,rn,an,ln,cn,un,fn){var hn=un.valueDim,pn=un.categoryDim,gn=Math.abs(tn[pn.wh]),mn=Fe.getItemVisual(en,"symbolSize"),_n;isArray$1(mn)?_n=mn.slice():mn==null?_n=["100%","100%"]:_n=[mn,mn],_n[pn.index]=parsePercent(_n[pn.index],gn),_n[hn.index]=parsePercent(_n[hn.index],nn?gn:Math.abs(an)),fn.symbolSize=_n;var kn=fn.symbolScale=[_n[0]/cn,_n[1]/cn];kn[hn.index]*=(un.isHorizontal?-1:1)*ln}function prepareLineWidth(Fe,en,tn,nn,rn){var an=Fe.get(BAR_BORDER_WIDTH_QUERY)||0;an&&(pathForLineWidth.attr({scaleX:en[0],scaleY:en[1],rotation:tn}),pathForLineWidth.updateTransform(),an/=pathForLineWidth.getLineScale(),an*=en[nn.valueDim.index]),rn.valueLineWidth=an||0}function prepareLayoutInfo(Fe,en,tn,nn,rn,an,ln,cn,un,fn,hn,pn){var gn=hn.categoryDim,mn=hn.valueDim,_n=pn.pxSign,kn=Math.max(en[mn.index]+cn,0),Cn=kn;if(nn){var xn=Math.abs(un),Sn=retrieve(Fe.get("symbolMargin"),"15%")+"",Mn=!1;Sn.lastIndexOf("!")===Sn.length-1&&(Mn=!0,Sn=Sn.slice(0,Sn.length-1));var In=parsePercent(Sn,en[mn.index]),On=Math.max(kn+In*2,0),Pn=Mn?0:In*2,Tn=isNumeric(nn),Nn=Tn?nn:toIntTimes((xn+Pn)/On),Hn=xn-Nn*kn;In=Hn/2/(Mn?Nn:Math.max(Nn-1,1)),On=kn+In*2,Pn=Mn?0:In*2,!Tn&&nn!=="fixed"&&(Nn=fn?toIntTimes((Math.abs(fn)+Pn)/On):0),Cn=Nn*On-Pn,pn.repeatTimes=Nn,pn.symbolMargin=In}var Un=_n*(Cn/2),jn=pn.pathPosition=[];jn[gn.index]=tn[gn.wh]/2,jn[mn.index]=ln==="start"?Un:ln==="end"?un-Un:un/2,an&&(jn[0]+=an[0],jn[1]+=an[1]);var Yn=pn.bundlePosition=[];Yn[gn.index]=tn[gn.xy],Yn[mn.index]=tn[mn.xy];var Wn=pn.barRectShape=extend$1({},tn);Wn[mn.wh]=_n*Math.max(Math.abs(tn[mn.wh]),Math.abs(jn[mn.index]+Un)),Wn[gn.wh]=tn[gn.wh];var Qn=pn.clipShape={};Qn[gn.xy]=-tn[gn.xy],Qn[gn.wh]=hn.ecSize[gn.wh],Qn[mn.xy]=0,Qn[mn.wh]=tn[mn.wh]}function createPath(Fe){var en=Fe.symbolPatternSize,tn=createSymbol$1(Fe.symbolType,-en/2,-en/2,en,en);return tn.attr({culling:!0}),tn.type!=="image"&&tn.setStyle({strokeNoScale:!0}),tn}function createOrUpdateRepeatSymbols(Fe,en,tn,nn){var rn=Fe.__pictorialBundle,an=tn.symbolSize,ln=tn.valueLineWidth,cn=tn.pathPosition,un=en.valueDim,fn=tn.repeatTimes||0,hn=0,pn=an[en.valueDim.index]+ln+tn.symbolMargin*2;for(eachPath(Fe,function(kn){kn.__pictorialAnimationIndex=hn,kn.__pictorialRepeatTimes=fn,hn<fn?updateAttr(kn,null,_n(hn),tn,nn):updateAttr(kn,null,{scaleX:0,scaleY:0},tn,nn,function(){rn.remove(kn)}),hn++});hn<fn;hn++){var gn=createPath(tn);gn.__pictorialAnimationIndex=hn,gn.__pictorialRepeatTimes=fn,rn.add(gn);var mn=_n(hn);updateAttr(gn,{x:mn.x,y:mn.y,scaleX:0,scaleY:0},{scaleX:mn.scaleX,scaleY:mn.scaleY,rotation:mn.rotation},tn,nn)}function _n(kn){var Cn=cn.slice(),xn=tn.pxSign,Sn=kn;return(tn.symbolRepeatDirection==="start"?xn>0:xn<0)&&(Sn=fn-1-kn),Cn[un.index]=pn*(Sn-fn/2+.5)+cn[un.index],{x:Cn[0],y:Cn[1],scaleX:tn.symbolScale[0],scaleY:tn.symbolScale[1],rotation:tn.rotation}}}function createOrUpdateSingleSymbol(Fe,en,tn,nn){var rn=Fe.__pictorialBundle,an=Fe.__pictorialMainPath;an?updateAttr(an,null,{x:tn.pathPosition[0],y:tn.pathPosition[1],scaleX:tn.symbolScale[0],scaleY:tn.symbolScale[1],rotation:tn.rotation},tn,nn):(an=Fe.__pictorialMainPath=createPath(tn),rn.add(an),updateAttr(an,{x:tn.pathPosition[0],y:tn.pathPosition[1],scaleX:0,scaleY:0,rotation:tn.rotation},{scaleX:tn.symbolScale[0],scaleY:tn.symbolScale[1]},tn,nn))}function createOrUpdateBarRect(Fe,en,tn){var nn=extend$1({},en.barRectShape),rn=Fe.__pictorialBarRect;rn?updateAttr(rn,null,{shape:nn},en,tn):(rn=Fe.__pictorialBarRect=new Rect$3({z2:2,shape:nn,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),rn.disableMorphing=!0,Fe.add(rn))}function createOrUpdateClip(Fe,en,tn,nn){if(tn.symbolClip){var rn=Fe.__pictorialClipPath,an=extend$1({},tn.clipShape),ln=en.valueDim,cn=tn.animationModel,un=tn.dataIndex;if(rn)updateProps$1(rn,{shape:an},cn,un);else{an[ln.wh]=0,rn=new Rect$3({shape:an}),Fe.__pictorialBundle.setClipPath(rn),Fe.__pictorialClipPath=rn;var fn={};fn[ln.wh]=tn.clipShape[ln.wh],graphic$1[nn?"updateProps":"initProps"](rn,{shape:fn},cn,un)}}}function getItemModel(Fe,en){var tn=Fe.getItemModel(en);return tn.getAnimationDelayParams=getAnimationDelayParams,tn.isAnimationEnabled=isAnimationEnabled,tn}function getAnimationDelayParams(Fe){return{index:Fe.__pictorialAnimationIndex,count:Fe.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(Fe,en,tn,nn){var rn=new Group$4,an=new Group$4;return rn.add(an),rn.__pictorialBundle=an,an.x=tn.bundlePosition[0],an.y=tn.bundlePosition[1],tn.symbolRepeat?createOrUpdateRepeatSymbols(rn,en,tn):createOrUpdateSingleSymbol(rn,en,tn),createOrUpdateBarRect(rn,tn,nn),createOrUpdateClip(rn,en,tn,nn),rn.__pictorialShapeStr=getShapeStr(Fe,tn),rn.__pictorialSymbolMeta=tn,rn}function updateBar(Fe,en,tn){var nn=tn.animationModel,rn=tn.dataIndex,an=Fe.__pictorialBundle;updateProps$1(an,{x:tn.bundlePosition[0],y:tn.bundlePosition[1]},nn,rn),tn.symbolRepeat?createOrUpdateRepeatSymbols(Fe,en,tn,!0):createOrUpdateSingleSymbol(Fe,en,tn,!0),createOrUpdateBarRect(Fe,tn,!0),createOrUpdateClip(Fe,en,tn,!0)}function removeBar(Fe,en,tn,nn){var rn=nn.__pictorialBarRect;rn&&rn.removeTextContent();var an=[];eachPath(nn,function(ln){an.push(ln)}),nn.__pictorialMainPath&&an.push(nn.__pictorialMainPath),nn.__pictorialClipPath&&(tn=null),each$f(an,function(ln){removeElement(ln,{scaleX:0,scaleY:0},tn,en,function(){nn.parent&&nn.parent.remove(nn)})}),Fe.setItemGraphicEl(en,null)}function getShapeStr(Fe,en){return[Fe.getItemVisual(en.dataIndex,"symbol")||"none",!!en.symbolRepeat,!!en.symbolClip].join(":")}function eachPath(Fe,en,tn){each$f(Fe.__pictorialBundle.children(),function(nn){nn!==Fe.__pictorialBarRect&&en.call(tn,nn)})}function updateAttr(Fe,en,tn,nn,rn,an){en&&Fe.attr(en),nn.symbolClip&&!rn?tn&&Fe.attr(tn):tn&&graphic$1[rn?"updateProps":"initProps"](Fe,tn,nn.animationModel,nn.dataIndex,an)}function updateCommon(Fe,en,tn){var nn=tn.dataIndex,rn=tn.itemModel,an=rn.getModel("emphasis"),ln=an.getModel("itemStyle").getItemStyle(),cn=rn.getModel(["blur","itemStyle"]).getItemStyle(),un=rn.getModel(["select","itemStyle"]).getItemStyle(),fn=rn.getShallow("cursor"),hn=an.get("focus"),pn=an.get("blurScope"),gn=an.get("scale");eachPath(Fe,function(kn){if(kn instanceof ZRImage$1){var Cn=kn.style;kn.useStyle(extend$1({image:Cn.image,x:Cn.x,y:Cn.y,width:Cn.width,height:Cn.height},tn.style))}else kn.useStyle(tn.style);var xn=kn.ensureState("emphasis");xn.style=ln,gn&&(xn.scaleX=kn.scaleX*1.1,xn.scaleY=kn.scaleY*1.1),kn.ensureState("blur").style=cn,kn.ensureState("select").style=un,fn&&(kn.cursor=fn),kn.z2=tn.z2});var mn=en.valueDim.posDesc[+(tn.boundingLength>0)],_n=Fe.__pictorialBarRect;setLabelStyle(_n,getLabelStatesModels(rn),{labelFetcher:en.seriesModel,labelDataIndex:nn,defaultText:getDefaultLabel(en.seriesModel.getData(),nn),inheritColor:tn.style.fill,defaultOpacity:tn.style.opacity,defaultOutsidePosition:mn}),toggleHoverEmphasis(Fe,hn,pn,an.get("disabled"))}function toIntTimes(Fe){var en=Math.round(Fe);return Math.abs(Fe-en)<1e-4?en:Math.ceil(Fe)}const PictorialBarView$1=PictorialBarView;var PictorialBarSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.hasSymbolVisual=!0,tn.defaultSymbol="roundRect",tn}return en.prototype.getInitialData=function(tn){return tn.stack=null,Fe.prototype.getInitialData.apply(this,arguments)},en.type="series.pictorialBar",en.dependencies=["grid"],en.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),en}(BaseBarSeriesModel$1);const PictorialBarSeriesModel$1=PictorialBarSeriesModel;function install$u(Fe){Fe.registerChartView(PictorialBarView$1),Fe.registerSeriesModel(PictorialBarSeriesModel$1),Fe.registerLayout(Fe.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),Fe.registerLayout(Fe.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn._layers=[],tn}return en.prototype.render=function(tn,nn,rn){var an=tn.getData(),ln=this,cn=this.group,un=tn.getLayerSeries(),fn=an.getLayout("layoutInfo"),hn=fn.rect,pn=fn.boundaryGap;cn.x=0,cn.y=hn.y+pn[0];function gn(Cn){return Cn.name}var mn=new DataDiffer$1(this._layersSeries||[],un,gn,gn),_n=[];mn.add(bind$1(kn,this,"add")).update(bind$1(kn,this,"update")).remove(bind$1(kn,this,"remove")).execute();function kn(Cn,xn,Sn){var Mn=ln._layers;if(Cn==="remove"){cn.remove(Mn[xn]);return}for(var In=[],On=[],Pn,Tn=un[xn].indices,Nn=0;Nn<Tn.length;Nn++){var Hn=an.getItemLayout(Tn[Nn]),Un=Hn.x,jn=Hn.y0,Yn=Hn.y;In.push(Un,jn),On.push(Un,jn+Yn),Pn=an.getItemVisual(Tn[Nn],"style")}var Wn,Qn=an.getItemLayout(Tn[0]),Xn=tn.getModel("label"),jr=Xn.get("margin"),Wr=tn.getModel("emphasis");if(Cn==="add"){var Jr=_n[xn]=new Group$4;Wn=new ECPolygon({shape:{points:In,stackedOnPoints:On,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Jr.add(Wn),cn.add(Jr),tn.isAnimationEnabled()&&Wn.setClipPath(createGridClipShape(Wn.getBoundingRect(),tn,function(){Wn.removeClipPath()}))}else{var Jr=Mn[Sn];Wn=Jr.childAt(0),cn.add(Jr),_n[xn]=Jr,updateProps$1(Wn,{shape:{points:In,stackedOnPoints:On}},tn),saveOldStyle(Wn)}setLabelStyle(Wn,getLabelStatesModels(tn),{labelDataIndex:Tn[Nn-1],defaultText:an.getName(Tn[Nn-1]),inheritColor:Pn.fill},{normal:{verticalAlign:"middle"}}),Wn.setTextConfig({position:null,local:!0});var ci=Wn.getTextContent();ci&&(ci.x=Qn.x-jr,ci.y=Qn.y0+Qn.y/2),Wn.useStyle(Pn),an.setItemGraphicEl(xn,Wn),setStatesStylesFromModel(Wn,tn),toggleHoverEmphasis(Wn,Wr.get("focus"),Wr.get("blurScope"),Wr.get("disabled"))}this._layersSeries=un,this._layers=_n},en.type="themeRiver",en}(ChartView$1);function createGridClipShape(Fe,en,tn){var nn=new Rect$3({shape:{x:Fe.x-10,y:Fe.y-10,width:0,height:Fe.height+20}});return initProps(nn,{shape:{x:Fe.x-50,width:Fe.width+100,height:Fe.height+20}},en,tn),nn}const ThemeRiverView$1=ThemeRiverView;var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(tn){Fe.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},en.prototype.fixData=function(tn){var nn=tn.length,rn={},an=groupData(tn,function(gn){return rn.hasOwnProperty(gn[0]+"")||(rn[gn[0]+""]=-1),gn[2]}),ln=[];an.buckets.each(function(gn,mn){ln.push({name:mn,dataList:gn})});for(var cn=ln.length,un=0;un<cn;++un){for(var fn=ln[un].name,hn=0;hn<ln[un].dataList.length;++hn){var pn=ln[un].dataList[hn][0]+"";rn[pn]=un}for(var pn in rn)rn.hasOwnProperty(pn)&&rn[pn]!==un&&(rn[pn]=un,tn[nn]=[pn,0,fn],nn++)}return tn},en.prototype.getInitialData=function(tn,nn){for(var rn=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],an=rn.get("type"),ln=filter(tn.data,function(_n){return _n[2]!==void 0}),cn=this.fixData(ln||[]),un=[],fn=this.nameMap=createHashMap(),hn=0,pn=0;pn<cn.length;++pn)un.push(cn[pn][DATA_NAME_INDEX]),fn.get(cn[pn][DATA_NAME_INDEX])||(fn.set(cn[pn][DATA_NAME_INDEX],hn),hn++);var gn=prepareSeriesDataSchema(cn,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(an)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,mn=new SeriesData$1(gn,this);return mn.initData(cn),mn},en.prototype.getLayerSeries=function(){for(var tn=this.getData(),nn=tn.count(),rn=[],an=0;an<nn;++an)rn[an]=an;var ln=tn.mapDimension("single"),cn=groupData(rn,function(fn){return tn.get("name",fn)}),un=[];return cn.buckets.each(function(fn,hn){fn.sort(function(pn,gn){return tn.get(ln,pn)-tn.get(ln,gn)}),un.push({name:hn,indices:fn})}),un},en.prototype.getAxisTooltipData=function(tn,nn,rn){isArray$1(tn)||(tn=tn?[tn]:[]);for(var an=this.getData(),ln=this.getLayerSeries(),cn=[],un=ln.length,fn,hn=0;hn<un;++hn){for(var pn=Number.MAX_VALUE,gn=-1,mn=ln[hn].indices.length,_n=0;_n<mn;++_n){var kn=an.get(tn[0],ln[hn].indices[_n]),Cn=Math.abs(kn-nn);Cn<=pn&&(fn=kn,pn=Cn,gn=ln[hn].indices[_n])}cn.push(gn)}return{dataIndices:cn,nestestValue:fn}},en.prototype.formatTooltip=function(tn,nn,rn){var an=this.getData(),ln=an.getName(tn),cn=an.get(an.mapDimension("value"),tn);return createTooltipMarkup("nameValue",{name:ln,value:cn})},en.type="series.themeRiver",en.dependencies=["singleAxis"],en.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},en}(SeriesModel$1);const ThemeRiverSeriesModel$1=ThemeRiverSeriesModel;function themeRiverLayout(Fe,en){Fe.eachSeriesByType("themeRiver",function(tn){var nn=tn.getData(),rn=tn.coordinateSystem,an={},ln=rn.getRect();an.rect=ln;var cn=tn.get("boundaryGap"),un=rn.getAxis();if(an.boundaryGap=cn,un.orient==="horizontal"){cn[0]=parsePercent(cn[0],ln.height),cn[1]=parsePercent(cn[1],ln.height);var fn=ln.height-cn[0]-cn[1];doThemeRiverLayout(nn,tn,fn)}else{cn[0]=parsePercent(cn[0],ln.width),cn[1]=parsePercent(cn[1],ln.width);var hn=ln.width-cn[0]-cn[1];doThemeRiverLayout(nn,tn,hn)}nn.setLayout("layoutInfo",an)})}function doThemeRiverLayout(Fe,en,tn){if(Fe.count())for(var nn=en.coordinateSystem,rn=en.getLayerSeries(),an=Fe.mapDimension("single"),ln=Fe.mapDimension("value"),cn=map$1(rn,function(Cn){return map$1(Cn.indices,function(xn){var Sn=nn.dataToPoint(Fe.get(an,xn));return Sn[1]=Fe.get(ln,xn),Sn})}),un=computeBaseline(cn),fn=un.y0,hn=tn/un.max,pn=rn.length,gn=rn[0].indices.length,mn,_n=0;_n<gn;++_n){mn=fn[_n]*hn,Fe.setItemLayout(rn[0].indices[_n],{layerIndex:0,x:cn[0][_n][0],y0:mn,y:cn[0][_n][1]*hn});for(var kn=1;kn<pn;++kn)mn+=cn[kn-1][_n][1]*hn,Fe.setItemLayout(rn[kn].indices[_n],{layerIndex:kn,x:cn[kn][_n][0],y0:mn,y:cn[kn][_n][1]*hn})}}function computeBaseline(Fe){for(var en=Fe.length,tn=Fe[0].length,nn=[],rn=[],an=0,ln=0;ln<tn;++ln){for(var cn=0,un=0;un<en;++un)cn+=Fe[un][ln][1];cn>an&&(an=cn),nn.push(cn)}for(var fn=0;fn<tn;++fn)rn[fn]=(an-nn[fn])/2;an=0;for(var hn=0;hn<tn;++hn){var pn=nn[hn]+rn[hn];pn>an&&(an=pn)}return{y0:rn,max:an}}function install$t(Fe){Fe.registerChartView(ThemeRiverView$1),Fe.registerSeriesModel(ThemeRiverSeriesModel$1),Fe.registerLayout(themeRiverLayout),Fe.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(Fe){__extends(en,Fe);function en(tn,nn,rn,an){var ln=Fe.call(this)||this;ln.z2=DEFAULT_SECTOR_Z,ln.textConfig={inside:!0},getECData(ln).seriesIndex=nn.seriesIndex;var cn=new ZRText$1({z2:DEFAULT_TEXT_Z,silent:tn.getModel().get(["label","silent"])});return ln.setTextContent(cn),ln.updateData(!0,tn,nn,rn,an),ln}return en.prototype.updateData=function(tn,nn,rn,an,ln){this.node=nn,nn.piece=this,rn=rn||this._seriesModel,an=an||this._ecModel;var cn=this;getECData(cn).dataIndex=nn.dataIndex;var un=nn.getModel(),fn=un.getModel("emphasis"),hn=nn.getLayout(),pn=extend$1({},hn);pn.label=null;var gn=nn.getVisual("style");gn.lineJoin="bevel";var mn=nn.getVisual("decal");mn&&(gn.decal=createOrUpdatePatternFromDecal(mn,ln));var _n=getSectorCornerRadius(un.getModel("itemStyle"),pn,!0);extend$1(pn,_n),each$f(SPECIAL_STATES,function(Sn){var Mn=cn.ensureState(Sn),In=un.getModel([Sn,"itemStyle"]);Mn.style=In.getItemStyle();var On=getSectorCornerRadius(In,pn);On&&(Mn.shape=On)}),tn?(cn.setShape(pn),cn.shape.r=hn.r0,initProps(cn,{shape:{r:hn.r}},rn,nn.dataIndex)):(updateProps$1(cn,{shape:pn},rn),saveOldStyle(cn)),cn.useStyle(gn),this._updateLabel(rn);var kn=un.getShallow("cursor");kn&&cn.attr("cursor",kn),this._seriesModel=rn||this._seriesModel,this._ecModel=an||this._ecModel;var Cn=fn.get("focus"),xn=Cn==="ancestor"?nn.getAncestorsIndices():Cn==="descendant"?nn.getDescendantIndices():Cn;toggleHoverEmphasis(this,xn,fn.get("blurScope"),fn.get("disabled"))},en.prototype._updateLabel=function(tn){var nn=this,rn=this.node.getModel(),an=rn.getModel("label"),ln=this.node.getLayout(),cn=ln.endAngle-ln.startAngle,un=(ln.startAngle+ln.endAngle)/2,fn=Math.cos(un),hn=Math.sin(un),pn=this,gn=pn.getTextContent(),mn=this.node.dataIndex,_n=an.get("minAngle")/180*Math.PI,kn=an.get("show")&&!(_n!=null&&Math.abs(cn)<_n);gn.ignore=!kn,each$f(DISPLAY_STATES,function(xn){var Sn=xn==="normal"?rn.getModel("label"):rn.getModel([xn,"label"]),Mn=xn==="normal",In=Mn?gn:gn.ensureState(xn),On=tn.getFormattedLabel(mn,xn);Mn&&(On=On||nn.node.name),In.style=createTextStyle$1(Sn,{},null,xn!=="normal",!0),On&&(In.style.text=On);var Pn=Sn.get("show");Pn!=null&&!Mn&&(In.ignore=!Pn);var Tn=Cn(Sn,"position"),Nn=Mn?pn:pn.states[xn],Hn=Nn.style.fill;Nn.textConfig={outsideFill:Sn.get("color")==="inherit"?Hn:null,inside:Tn!=="outside"};var Un,jn=Cn(Sn,"distance")||0,Yn=Cn(Sn,"align");Tn==="outside"?(Un=ln.r+jn,Yn=un>Math.PI/2?"right":"left"):!Yn||Yn==="center"?(cn===2*Math.PI&&ln.r0===0?Un=0:Un=(ln.r+ln.r0)/2,Yn="center"):Yn==="left"?(Un=ln.r0+jn,un>Math.PI/2&&(Yn="right")):Yn==="right"&&(Un=ln.r-jn,un>Math.PI/2&&(Yn="left")),In.style.align=Yn,In.style.verticalAlign=Cn(Sn,"verticalAlign")||"middle",In.x=Un*fn+ln.cx,In.y=Un*hn+ln.cy;var Wn=Cn(Sn,"rotate"),Qn=0;Wn==="radial"?(Qn=normalizeRadian(-un),Qn>Math.PI/2&&Qn<Math.PI*1.5&&(Qn+=Math.PI)):Wn==="tangential"?(Qn=Math.PI/2-un,Qn>Math.PI/2?Qn-=Math.PI:Qn<-Math.PI/2&&(Qn+=Math.PI)):isNumber(Wn)&&(Qn=Wn*Math.PI/180),In.rotation=normalizeRadian(Qn)});function Cn(xn,Sn){var Mn=xn.get(Sn);return Mn??an.get(Sn)}gn.dirtyStyle()},en}(Sector$1);const SunburstPiece$1=SunburstPiece;var ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(Fe){Fe.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(en,tn){tn.eachComponent({mainType:"series",subType:"sunburst",query:en},nn);function nn(rn,an){var ln=retrieveTargetInfo(en,[ROOT_TO_NODE_ACTION],rn);if(ln){var cn=rn.getViewRoot();cn&&(en.direction=aboveViewRoot(cn,ln.node)?"rollUp":"drillDown"),rn.resetViewRoot(ln.node)}}}),Fe.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(en,tn,nn){en=extend$1({},en),tn.eachComponent({mainType:"series",subType:"sunburst",query:en},rn);function rn(an){var ln=retrieveTargetInfo(en,[HIGHLIGHT_ACTION],an);ln&&(en.dataIndex=ln.node.dataIndex)}nn.dispatchAction(extend$1(en,{type:"highlight"}))}),Fe.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(en,tn,nn){en=extend$1({},en),nn.dispatchAction(extend$1(en,{type:"downplay"}))})}var SunburstView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn,an){var ln=this;this.seriesModel=tn,this.api=rn,this.ecModel=nn;var cn=tn.getData(),un=cn.tree.root,fn=tn.getViewRoot(),hn=this.group,pn=tn.get("renderLabelForZeroData"),gn=[];fn.eachNode(function(Sn){gn.push(Sn)});var mn=this._oldChildren||[];_n(gn,mn),xn(un,fn),this._initEvents(),this._oldChildren=gn;function _n(Sn,Mn){if(Sn.length===0&&Mn.length===0)return;new DataDiffer$1(Mn,Sn,In,In).add(On).update(On).remove(curry$1(On,null)).execute();function In(Pn){return Pn.getId()}function On(Pn,Tn){var Nn=Pn==null?null:Sn[Pn],Hn=Tn==null?null:Mn[Tn];kn(Nn,Hn)}}function kn(Sn,Mn){if(!pn&&Sn&&!Sn.getValue()&&(Sn=null),Sn!==un&&Mn!==un){if(Mn&&Mn.piece)Sn?(Mn.piece.updateData(!1,Sn,tn,nn,rn),cn.setItemGraphicEl(Sn.dataIndex,Mn.piece)):Cn(Mn);else if(Sn){var In=new SunburstPiece$1(Sn,tn,nn,rn);hn.add(In),cn.setItemGraphicEl(Sn.dataIndex,In)}}}function Cn(Sn){Sn&&Sn.piece&&(hn.remove(Sn.piece),Sn.piece=null)}function xn(Sn,Mn){Mn.depth>0?(ln.virtualPiece?ln.virtualPiece.updateData(!1,Sn,tn,nn,rn):(ln.virtualPiece=new SunburstPiece$1(Sn,tn,nn,rn),hn.add(ln.virtualPiece)),Mn.piece.off("click"),ln.virtualPiece.on("click",function(In){ln._rootToNode(Mn.parentNode)})):ln.virtualPiece&&(hn.remove(ln.virtualPiece),ln.virtualPiece=null)}},en.prototype._initEvents=function(){var tn=this;this.group.off("click"),this.group.on("click",function(nn){var rn=!1,an=tn.seriesModel.getViewRoot();an.eachNode(function(ln){if(!rn&&ln.piece&&ln.piece===nn.target){var cn=ln.getModel().get("nodeClick");if(cn==="rootToNode")tn._rootToNode(ln);else if(cn==="link"){var un=ln.getModel(),fn=un.get("link");if(fn){var hn=un.get("target",!0)||"_blank";windowOpen(fn,hn)}}rn=!0}})})},en.prototype._rootToNode=function(tn){tn!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:tn})},en.prototype.containPoint=function(tn,nn){var rn=nn.getData(),an=rn.getItemLayout(0);if(an){var ln=tn[0]-an.cx,cn=tn[1]-an.cy,un=Math.sqrt(ln*ln+cn*cn);return un<=an.r&&un>=an.r0}},en.type="sunburst",en}(ChartView$1);const SunburstView$1=SunburstView;var SunburstSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.ignoreStyleOnData=!0,tn}return en.prototype.getInitialData=function(tn,nn){var rn={name:tn.name,children:tn.data};completeTreeValue(rn);var an=this._levelModels=map$1(tn.levels||[],function(un){return new Model$1(un,this,nn)},this),ln=Tree$1.createTree(rn,this,cn);function cn(un){un.wrapMethod("getItemModel",function(fn,hn){var pn=ln.getNodeByDataIndex(hn),gn=an[pn.depth];return gn&&(fn.parentModel=gn),fn})}return ln.data},en.prototype.optionUpdated=function(){this.resetViewRoot()},en.prototype.getDataParams=function(tn){var nn=Fe.prototype.getDataParams.apply(this,arguments),rn=this.getData().tree.getNodeByDataIndex(tn);return nn.treePathInfo=wrapTreePathInfo(rn,this),nn},en.prototype.getLevelModel=function(tn){return this._levelModels&&this._levelModels[tn.depth]},en.prototype.getViewRoot=function(){return this._viewRoot},en.prototype.resetViewRoot=function(tn){tn?this._viewRoot=tn:tn=this._viewRoot;var nn=this.getRawData().tree.root;(!tn||tn!==nn&&!nn.contains(tn))&&(this._viewRoot=nn)},en.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},en.type="series.sunburst",en.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},en}(SeriesModel$1);function completeTreeValue(Fe){var en=0;each$f(Fe.children,function(nn){completeTreeValue(nn);var rn=nn.value;isArray$1(rn)&&(rn=rn[0]),en+=rn});var tn=Fe.value;isArray$1(tn)&&(tn=tn[0]),(tn==null||isNaN(tn))&&(tn=en),tn<0&&(tn=0),isArray$1(Fe.value)?Fe.value[0]=tn:Fe.value=tn}const SunburstSeriesModel$1=SunburstSeriesModel;var RADIAN=Math.PI/180;function sunburstLayout(Fe,en,tn){en.eachSeriesByType(Fe,function(nn){var rn=nn.get("center"),an=nn.get("radius");isArray$1(an)||(an=[0,an]),isArray$1(rn)||(rn=[rn,rn]);var ln=tn.getWidth(),cn=tn.getHeight(),un=Math.min(ln,cn),fn=parsePercent(rn[0],ln),hn=parsePercent(rn[1],cn),pn=parsePercent(an[0],un/2),gn=parsePercent(an[1],un/2),mn=-nn.get("startAngle")*RADIAN,_n=nn.get("minAngle")*RADIAN,kn=nn.getData().tree.root,Cn=nn.getViewRoot(),xn=Cn.depth,Sn=nn.get("sort");Sn!=null&&initChildren(Cn,Sn);var Mn=0;each$f(Cn.children,function(jr){!isNaN(jr.getValue())&&Mn++});var In=Cn.getValue(),On=Math.PI/(In||Mn)*2,Pn=Cn.depth>0,Tn=Cn.height-(Pn?-1:1),Nn=(gn-pn)/(Tn||1),Hn=nn.get("clockwise"),Un=nn.get("stillShowZeroSum"),jn=Hn?1:-1,Yn=function(jr,Wr){if(jr){var Jr=Wr;if(jr!==kn){var ci=jr.getValue(),ti=In===0&&Un?On:ci*On;ti<_n&&(ti=_n),Jr=Wr+jn*ti;var Zr=jr.depth-xn-(Pn?-1:1),Br=pn+Nn*Zr,Jn=pn+Nn*(Zr+1),oi=nn.getLevelModel(jr);if(oi){var pi=oi.get("r0",!0),ri=oi.get("r",!0),fi=oi.get("radius",!0);fi!=null&&(pi=fi[0],ri=fi[1]),pi!=null&&(Br=parsePercent(pi,un/2)),ri!=null&&(Jn=parsePercent(ri,un/2))}jr.setLayout({angle:ti,startAngle:Wr,endAngle:Jr,clockwise:Hn,cx:fn,cy:hn,r0:Br,r:Jn})}if(jr.children&&jr.children.length){var yi=0;each$f(jr.children,function(Si){yi+=Yn(Si,Wr+yi)})}return Jr-Wr}};if(Pn){var Wn=pn,Qn=pn+Nn,Xn=Math.PI*2;kn.setLayout({angle:Xn,startAngle:mn,endAngle:mn+Xn,clockwise:Hn,cx:fn,cy:hn,r0:Wn,r:Qn})}Yn(Cn,mn)})}function initChildren(Fe,en){var tn=Fe.children||[];Fe.children=sort(tn,en),tn.length&&each$f(Fe.children,function(nn){initChildren(nn,en)})}function sort(Fe,en){if(isFunction(en)){var tn=map$1(Fe,function(rn,an){var ln=rn.getValue();return{params:{depth:rn.depth,height:rn.height,dataIndex:rn.dataIndex,getValue:function(){return ln}},index:an}});return tn.sort(function(rn,an){return en(rn.params,an.params)}),map$1(tn,function(rn){return Fe[rn.index]})}else{var nn=en==="asc";return Fe.sort(function(rn,an){var ln=(rn.getValue()-an.getValue())*(nn?1:-1);return ln===0?(rn.dataIndex-an.dataIndex)*(nn?-1:1):ln})}}function sunburstVisual(Fe){var en={};function tn(nn,rn,an){for(var ln=nn;ln&&ln.depth>1;)ln=ln.parentNode;var cn=rn.getColorFromPalette(ln.name||ln.dataIndex+"",en);return nn.depth>1&&isString(cn)&&(cn=lift(cn,(nn.depth-1)/(an-1)*.5)),cn}Fe.eachSeriesByType("sunburst",function(nn){var rn=nn.getData(),an=rn.tree;an.eachNode(function(ln){var cn=ln.getModel(),un=cn.getModel("itemStyle").getItemStyle();un.fill||(un.fill=tn(ln,nn,an.root.height));var fn=rn.ensureUniqueItemVisual(ln.dataIndex,"style");extend$1(fn,un)})})}function install$s(Fe){Fe.registerChartView(SunburstView$1),Fe.registerSeriesModel(SunburstSeriesModel$1),Fe.registerLayout(curry$1(sunburstLayout,"sunburst")),Fe.registerProcessor(curry$1(dataFilter$1,"sunburst")),Fe.registerVisual(sunburstVisual),installSunburstAction(Fe)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},en.prototype.getInitialData=function(tn,nn){return createSeriesData(null,this)},en.prototype.getDataParams=function(tn,nn,rn){var an=Fe.prototype.getDataParams.call(this,tn,nn);return rn&&(an.info=customInnerStore(rn).info),an},en.type="series.custom",en.dependencies=["grid","polar","geo","singleAxis","calendar"],en.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},en}(SeriesModel$1);const CustomSeriesModel$1=CustomSeriesModel;function dataToCoordSize$3(Fe,en){return en=en||[0,0],map$1(["x","y"],function(tn,nn){var rn=this.getAxis(tn),an=en[nn],ln=Fe[nn]/2;return rn.type==="category"?rn.getBandWidth():Math.abs(rn.dataToCoord(an-ln)-rn.dataToCoord(an+ln))},this)}function cartesianPrepareCustom(Fe){var en=Fe.master.getRect();return{coordSys:{type:"cartesian2d",x:en.x,y:en.y,width:en.width,height:en.height},api:{coord:function(tn){return Fe.dataToPoint(tn)},size:bind$1(dataToCoordSize$3,Fe)}}}function dataToCoordSize$2(Fe,en){return en=en||[0,0],map$1([0,1],function(tn){var nn=en[tn],rn=Fe[tn]/2,an=[],ln=[];return an[tn]=nn-rn,ln[tn]=nn+rn,an[1-tn]=ln[1-tn]=en[1-tn],Math.abs(this.dataToPoint(an)[tn]-this.dataToPoint(ln)[tn])},this)}function geoPrepareCustom(Fe){var en=Fe.getBoundingRect();return{coordSys:{type:"geo",x:en.x,y:en.y,width:en.width,height:en.height,zoom:Fe.getZoom()},api:{coord:function(tn){return Fe.dataToPoint(tn)},size:bind$1(dataToCoordSize$2,Fe)}}}function dataToCoordSize$1(Fe,en){var tn=this.getAxis(),nn=en instanceof Array?en[0]:en,rn=(Fe instanceof Array?Fe[0]:Fe)/2;return tn.type==="category"?tn.getBandWidth():Math.abs(tn.dataToCoord(nn-rn)-tn.dataToCoord(nn+rn))}function singlePrepareCustom(Fe){var en=Fe.getRect();return{coordSys:{type:"singleAxis",x:en.x,y:en.y,width:en.width,height:en.height},api:{coord:function(tn){return Fe.dataToPoint(tn)},size:bind$1(dataToCoordSize$1,Fe)}}}function dataToCoordSize(Fe,en){return en=en||[0,0],map$1(["Radius","Angle"],function(tn,nn){var rn="get"+tn+"Axis",an=this[rn](),ln=en[nn],cn=Fe[nn]/2,un=an.type==="category"?an.getBandWidth():Math.abs(an.dataToCoord(ln-cn)-an.dataToCoord(ln+cn));return tn==="Angle"&&(un=un*Math.PI/180),un},this)}function polarPrepareCustom(Fe){var en=Fe.getRadiusAxis(),tn=Fe.getAngleAxis(),nn=en.getExtent();return nn[0]>nn[1]&&nn.reverse(),{coordSys:{type:"polar",cx:Fe.cx,cy:Fe.cy,r:nn[1],r0:nn[0]},api:{coord:function(rn){var an=en.dataToRadius(rn[0]),ln=tn.dataToAngle(rn[1]),cn=Fe.coordToPoint([an,ln]);return cn.push(an,ln*Math.PI/180),cn},size:bind$1(dataToCoordSize,Fe)}}}function calendarPrepareCustom(Fe){var en=Fe.getRect(),tn=Fe.getRangeInfo();return{coordSys:{type:"calendar",x:en.x,y:en.y,width:en.width,height:en.height,cellWidth:Fe.getCellWidth(),cellHeight:Fe.getCellHeight(),rangeInfo:{start:tn.start,end:tn.end,weeks:tn.weeks,dayCount:tn.allDay}},api:{coord:function(nn,rn){return Fe.dataToPoint(nn,rn)}}}}function isEC4CompatibleStyle(Fe,en,tn,nn){return Fe&&(Fe.legacy||Fe.legacy!==!1&&!tn&&!nn&&en!=="tspan"&&(en==="text"||hasOwn(Fe,"text")))}function convertFromEC4CompatibleStyle(Fe,en,tn){var nn=Fe,rn,an,ln;if(en==="text")ln=nn;else{ln={},hasOwn(nn,"text")&&(ln.text=nn.text),hasOwn(nn,"rich")&&(ln.rich=nn.rich),hasOwn(nn,"textFill")&&(ln.fill=nn.textFill),hasOwn(nn,"textStroke")&&(ln.stroke=nn.textStroke),hasOwn(nn,"fontFamily")&&(ln.fontFamily=nn.fontFamily),hasOwn(nn,"fontSize")&&(ln.fontSize=nn.fontSize),hasOwn(nn,"fontStyle")&&(ln.fontStyle=nn.fontStyle),hasOwn(nn,"fontWeight")&&(ln.fontWeight=nn.fontWeight),an={type:"text",style:ln,silent:!0},rn={};var cn=hasOwn(nn,"textPosition");tn?rn.position=cn?nn.textPosition:"inside":cn&&(rn.position=nn.textPosition),hasOwn(nn,"textPosition")&&(rn.position=nn.textPosition),hasOwn(nn,"textOffset")&&(rn.offset=nn.textOffset),hasOwn(nn,"textRotation")&&(rn.rotation=nn.textRotation),hasOwn(nn,"textDistance")&&(rn.distance=nn.textDistance)}return convertEC4CompatibleRichItem(ln,Fe),each$f(ln.rich,function(un){convertEC4CompatibleRichItem(un,un)}),{textConfig:rn,textContent:an}}function convertEC4CompatibleRichItem(Fe,en){en&&(en.font=en.textFont||en.font,hasOwn(en,"textStrokeWidth")&&(Fe.lineWidth=en.textStrokeWidth),hasOwn(en,"textAlign")&&(Fe.align=en.textAlign),hasOwn(en,"textVerticalAlign")&&(Fe.verticalAlign=en.textVerticalAlign),hasOwn(en,"textLineHeight")&&(Fe.lineHeight=en.textLineHeight),hasOwn(en,"textWidth")&&(Fe.width=en.textWidth),hasOwn(en,"textHeight")&&(Fe.height=en.textHeight),hasOwn(en,"textBackgroundColor")&&(Fe.backgroundColor=en.textBackgroundColor),hasOwn(en,"textPadding")&&(Fe.padding=en.textPadding),hasOwn(en,"textBorderColor")&&(Fe.borderColor=en.textBorderColor),hasOwn(en,"textBorderWidth")&&(Fe.borderWidth=en.textBorderWidth),hasOwn(en,"textBorderRadius")&&(Fe.borderRadius=en.textBorderRadius),hasOwn(en,"textBoxShadowColor")&&(Fe.shadowColor=en.textBoxShadowColor),hasOwn(en,"textBoxShadowBlur")&&(Fe.shadowBlur=en.textBoxShadowBlur),hasOwn(en,"textBoxShadowOffsetX")&&(Fe.shadowOffsetX=en.textBoxShadowOffsetX),hasOwn(en,"textBoxShadowOffsetY")&&(Fe.shadowOffsetY=en.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(Fe,en,tn){var nn=Fe;nn.textPosition=nn.textPosition||tn.position||"inside",tn.offset!=null&&(nn.textOffset=tn.offset),tn.rotation!=null&&(nn.textRotation=tn.rotation),tn.distance!=null&&(nn.textDistance=tn.distance);var rn=nn.textPosition.indexOf("inside")>=0,an=Fe.fill||"#000";convertToEC4RichItem(nn,en);var ln=nn.textFill==null;return rn?ln&&(nn.textFill=tn.insideFill||"#fff",!nn.textStroke&&tn.insideStroke&&(nn.textStroke=tn.insideStroke),!nn.textStroke&&(nn.textStroke=an),nn.textStrokeWidth==null&&(nn.textStrokeWidth=2)):(ln&&(nn.textFill=Fe.fill||tn.outsideFill||"#000"),!nn.textStroke&&tn.outsideStroke&&(nn.textStroke=tn.outsideStroke)),nn.text=en.text,nn.rich=en.rich,each$f(en.rich,function(cn){convertToEC4RichItem(cn,cn)}),nn}function convertToEC4RichItem(Fe,en){en&&(hasOwn(en,"fill")&&(Fe.textFill=en.fill),hasOwn(en,"stroke")&&(Fe.textStroke=en.fill),hasOwn(en,"lineWidth")&&(Fe.textStrokeWidth=en.lineWidth),hasOwn(en,"font")&&(Fe.font=en.font),hasOwn(en,"fontStyle")&&(Fe.fontStyle=en.fontStyle),hasOwn(en,"fontWeight")&&(Fe.fontWeight=en.fontWeight),hasOwn(en,"fontSize")&&(Fe.fontSize=en.fontSize),hasOwn(en,"fontFamily")&&(Fe.fontFamily=en.fontFamily),hasOwn(en,"align")&&(Fe.textAlign=en.align),hasOwn(en,"verticalAlign")&&(Fe.textVerticalAlign=en.verticalAlign),hasOwn(en,"lineHeight")&&(Fe.textLineHeight=en.lineHeight),hasOwn(en,"width")&&(Fe.textWidth=en.width),hasOwn(en,"height")&&(Fe.textHeight=en.height),hasOwn(en,"backgroundColor")&&(Fe.textBackgroundColor=en.backgroundColor),hasOwn(en,"padding")&&(Fe.textPadding=en.padding),hasOwn(en,"borderColor")&&(Fe.textBorderColor=en.borderColor),hasOwn(en,"borderWidth")&&(Fe.textBorderWidth=en.borderWidth),hasOwn(en,"borderRadius")&&(Fe.textBorderRadius=en.borderRadius),hasOwn(en,"shadowColor")&&(Fe.textBoxShadowColor=en.shadowColor),hasOwn(en,"shadowBlur")&&(Fe.textBoxShadowBlur=en.shadowBlur),hasOwn(en,"shadowOffsetX")&&(Fe.textBoxShadowOffsetX=en.shadowOffsetX),hasOwn(en,"shadowOffsetY")&&(Fe.textBoxShadowOffsetY=en.shadowOffsetY),hasOwn(en,"textShadowColor")&&(Fe.textShadowColor=en.textShadowColor),hasOwn(en,"textShadowBlur")&&(Fe.textShadowBlur=en.textShadowBlur),hasOwn(en,"textShadowOffsetX")&&(Fe.textShadowOffsetX=en.textShadowOffsetX),hasOwn(en,"textShadowOffsetY")&&(Fe.textShadowOffsetY=en.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(Fe,en){return Fe[en]=1,Fe},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(Fe,en,tn,nn,rn){var an=Fe+"Animation",ln=getAnimationConfig(Fe,nn,rn)||{},cn=transitionInnerStore(en).userDuring;return ln.duration>0&&(ln.during=cn?bind$1(duringCall,{el:en,userDuring:cn}):null,ln.setToFinal=!0,ln.scope=Fe),extend$1(ln,tn[an]),ln}function applyUpdateTransition(Fe,en,tn,nn){nn=nn||{};var rn=nn.dataIndex,an=nn.isInit,ln=nn.clearStyle,cn=tn.isAnimationEnabled(),un=transitionInnerStore(Fe),fn=en.style;un.userDuring=en.during;var hn={},pn={};if(prepareTransformAllPropsFinal(Fe,en,pn),prepareShapeOrExtraAllPropsFinal("shape",en,pn),prepareShapeOrExtraAllPropsFinal("extra",en,pn),!an&&cn&&(prepareTransformTransitionFrom(Fe,en,hn),prepareShapeOrExtraTransitionFrom("shape",Fe,en,hn),prepareShapeOrExtraTransitionFrom("extra",Fe,en,hn),prepareStyleTransitionFrom(Fe,en,fn,hn)),pn.style=fn,applyPropsDirectly(Fe,pn,ln),applyMiscProps(Fe,en),cn)if(an){var gn={};each$f(ELEMENT_ANIMATABLE_PROPS,function(_n){var kn=_n?en[_n]:en;kn&&kn.enterFrom&&(_n&&(gn[_n]=gn[_n]||{}),extend$1(_n?gn[_n]:gn,kn.enterFrom))});var mn=getElementAnimationConfig("enter",Fe,en,tn,rn);mn.duration>0&&Fe.animateFrom(gn,mn)}else applyPropsTransition(Fe,en,rn||0,tn,hn);updateLeaveTo(Fe,en),fn?Fe.dirty():Fe.markRedraw()}function updateLeaveTo(Fe,en){for(var tn=transitionInnerStore(Fe).leaveToProps,nn=0;nn<ELEMENT_ANIMATABLE_PROPS.length;nn++){var rn=ELEMENT_ANIMATABLE_PROPS[nn],an=rn?en[rn]:en;an&&an.leaveTo&&(tn||(tn=transitionInnerStore(Fe).leaveToProps={}),rn&&(tn[rn]=tn[rn]||{}),extend$1(rn?tn[rn]:tn,an.leaveTo))}}function applyLeaveTransition(Fe,en,tn,nn){if(Fe){var rn=Fe.parent,an=transitionInnerStore(Fe).leaveToProps;if(an){var ln=getElementAnimationConfig("update",Fe,en,tn,0);ln.done=function(){rn.remove(Fe),nn&&nn()},Fe.animateTo(an,ln)}else rn.remove(Fe),nn&&nn()}}function isTransitionAll(Fe){return Fe==="all"}function applyPropsDirectly(Fe,en,tn){var nn=en.style;if(!Fe.isGroup&&nn){if(tn){Fe.useStyle({});for(var rn=Fe.animators,an=0;an<rn.length;an++){var ln=rn[an];ln.targetName==="style"&&ln.changeTarget(Fe.style)}}Fe.setStyle(nn)}en&&(en.style=null,en&&Fe.attr(en),en.style=nn)}function applyPropsTransition(Fe,en,tn,nn,rn){if(rn){var an=getElementAnimationConfig("update",Fe,en,nn,tn);an.duration>0&&Fe.animateFrom(rn,an)}}function applyMiscProps(Fe,en){hasOwn(en,"silent")&&(Fe.silent=en.silent),hasOwn(en,"ignore")&&(Fe.ignore=en.ignore),Fe instanceof Displayable$1&&hasOwn(en,"invisible")&&(Fe.invisible=en.invisible),Fe instanceof Path$1&&hasOwn(en,"autoBatch")&&(Fe.autoBatch=en.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(Fe,en){return tmpDuringScope.el[Fe]=en,this},getTransform:function(Fe){return tmpDuringScope.el[Fe]},setShape:function(Fe,en){var tn=tmpDuringScope.el,nn=tn.shape||(tn.shape={});return nn[Fe]=en,tn.dirtyShape&&tn.dirtyShape(),this},getShape:function(Fe){var en=tmpDuringScope.el.shape;if(en)return en[Fe]},setStyle:function(Fe,en){var tn=tmpDuringScope.el,nn=tn.style;return nn&&(nn[Fe]=en,tn.dirtyStyle&&tn.dirtyStyle()),this},getStyle:function(Fe){var en=tmpDuringScope.el.style;if(en)return en[Fe]},setExtra:function(Fe,en){var tn=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return tn[Fe]=en,this},getExtra:function(Fe){var en=tmpDuringScope.el.extra;if(en)return en[Fe]}};function duringCall(){var Fe=this,en=Fe.el;if(en){var tn=transitionInnerStore(en).userDuring,nn=Fe.userDuring;if(tn!==nn){Fe.el=Fe.userDuring=null;return}tmpDuringScope.el=en,nn(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(Fe,en,tn,nn){var rn=tn[Fe];if(rn){var an=en[Fe],ln;if(an){var cn=tn.transition,un=rn.transition;if(un)if(!ln&&(ln=nn[Fe]={}),isTransitionAll(un))extend$1(ln,an);else for(var fn=normalizeToArray(un),hn=0;hn<fn.length;hn++){var pn=fn[hn],gn=an[pn];ln[pn]=gn}else if(isTransitionAll(cn)||indexOf(cn,Fe)>=0){!ln&&(ln=nn[Fe]={});for(var mn=keys(an),hn=0;hn<mn.length;hn++){var pn=mn[hn],gn=an[pn];isNonStyleTransitionEnabled(rn[pn],gn)&&(ln[pn]=gn)}}}}}function prepareShapeOrExtraAllPropsFinal(Fe,en,tn){var nn=en[Fe];if(nn)for(var rn=tn[Fe]={},an=keys(nn),ln=0;ln<an.length;ln++){var cn=an[ln];rn[cn]=cloneValue(nn[cn])}}function prepareTransformTransitionFrom(Fe,en,tn){for(var nn=en.transition,rn=isTransitionAll(nn)?TRANSFORMABLE_PROPS:normalizeToArray(nn||[]),an=0;an<rn.length;an++){var ln=rn[an];if(!(ln==="style"||ln==="shape"||ln==="extra")){var cn=Fe[ln];tn[ln]=cn}}}function prepareTransformAllPropsFinal(Fe,en,tn){for(var nn=0;nn<LEGACY_TRANSFORM_PROPS.length;nn++){var rn=LEGACY_TRANSFORM_PROPS[nn],an=LEGACY_TRANSFORM_PROPS_MAP[rn],ln=en[rn];ln&&(tn[an[0]]=ln[0],tn[an[1]]=ln[1])}for(var nn=0;nn<TRANSFORMABLE_PROPS.length;nn++){var cn=TRANSFORMABLE_PROPS[nn];en[cn]!=null&&(tn[cn]=en[cn])}}function prepareStyleTransitionFrom(Fe,en,tn,nn){if(tn){var rn=Fe.style,an;if(rn){var ln=tn.transition,cn=en.transition;if(ln&&!isTransitionAll(ln)){var un=normalizeToArray(ln);!an&&(an=nn.style={});for(var fn=0;fn<un.length;fn++){var hn=un[fn],pn=rn[hn];an[hn]=pn}}else if(Fe.getAnimationStyleProps&&(isTransitionAll(cn)||isTransitionAll(ln)||indexOf(cn,"style")>=0)){var gn=Fe.getAnimationStyleProps(),mn=gn?gn.style:null;if(mn){!an&&(an=nn.style={});for(var _n=keys(tn),fn=0;fn<_n.length;fn++){var hn=_n[fn];if(mn[hn]){var pn=rn[hn];an[hn]=pn}}}}}}}function isNonStyleTransitionEnabled(Fe,en){return isArrayLike(Fe)?Fe!==en:Fe!=null&&isFinite(Fe)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(Fe){Fe.stopAnimation("keyframe"),Fe.attr(getStateToRestore(Fe))}function applyKeyframeAnimation(Fe,en,tn){if(!(!tn.isAnimationEnabled()||!en)){if(isArray$1(en)){each$f(en,function(cn){applyKeyframeAnimation(Fe,cn,tn)});return}var nn=en.keyframes,rn=en.duration;if(tn&&rn==null){var an=getAnimationConfig("enter",tn,0);rn=an&&an.duration}if(!(!nn||!rn)){var ln=getStateToRestore(Fe);each$f(ELEMENT_ANIMATABLE_PROPS,function(cn){if(!(cn&&!Fe[cn])){var un;nn.sort(function(fn,hn){return fn.percent-hn.percent}),each$f(nn,function(fn){var hn=Fe.animators,pn=cn?fn[cn]:fn;if(pn){var gn=keys(pn);if(cn||(gn=filter(gn,function(kn){return indexOf(KEYFRAME_EXCLUDE_KEYS,kn)<0})),!!gn.length){un||(un=Fe.animate(cn,en.loop,!0),un.scope="keyframe");for(var mn=0;mn<hn.length;mn++)hn[mn]!==un&&hn[mn].targetName===un.targetName&&hn[mn].stopTracks(gn);cn&&(ln[cn]=ln[cn]||{});var _n=cn?ln[cn]:ln;each$f(gn,function(kn){_n[kn]=((cn?Fe[cn]:Fe)||{})[kn]}),un.whenWithKeys(rn*fn.percent,pn,gn,fn.easing)}}}),un&&un.delay(en.delay||0).duration(rn).start(en.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(Fe){return Fe instanceof Path$1}function isDisplayable(Fe){return Fe instanceof Displayable$1}function copyElement(Fe,en){en.copyTransform(Fe),isDisplayable(en)&&isDisplayable(Fe)&&(en.setStyle(Fe.style),en.z=Fe.z,en.z2=Fe.z2,en.zlevel=Fe.zlevel,en.invisible=Fe.invisible,en.ignore=Fe.ignore,isPath(en)&&isPath(Fe)&&en.setShape(Fe.shape))}var CustomChartView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn,an){this._progressiveEls=null;var ln=this._data,cn=tn.getData(),un=this.group,fn=makeRenderItem(tn,cn,nn,rn);ln||un.removeAll(),cn.diff(ln).add(function(pn){createOrUpdateItem(rn,null,pn,fn(pn,an),tn,un,cn)}).remove(function(pn){var gn=ln.getItemGraphicEl(pn);gn&&applyLeaveTransition(gn,customInnerStore(gn).option,tn)}).update(function(pn,gn){var mn=ln.getItemGraphicEl(gn);createOrUpdateItem(rn,mn,pn,fn(pn,an),tn,un,cn)}).execute();var hn=tn.get("clip",!0)?createClipPath(tn.coordinateSystem,!1,tn):null;hn?un.setClipPath(hn):un.removeClipPath(),this._data=cn},en.prototype.incrementalPrepareRender=function(tn,nn,rn){this.group.removeAll(),this._data=null},en.prototype.incrementalRender=function(tn,nn,rn,an,ln){var cn=nn.getData(),un=makeRenderItem(nn,cn,rn,an),fn=this._progressiveEls=[];function hn(mn){mn.isGroup||(mn.incremental=!0,mn.ensureState("emphasis").hoverLayer=!0)}for(var pn=tn.start;pn<tn.end;pn++){var gn=createOrUpdateItem(null,null,pn,un(pn,ln),nn,this.group,cn);gn&&(gn.traverse(hn),fn.push(gn))}},en.prototype.eachRendered=function(tn){traverseElements(this._progressiveEls||this.group,tn)},en.prototype.filterForExposedEvent=function(tn,nn,rn,an){var ln=nn.element;if(ln==null||rn.name===ln)return!0;for(;(rn=rn.__hostTarget||rn.parent)&&rn!==this.group;)if(rn.name===ln)return!0;return!1},en.type="custom",en}(ChartView$1);const CustomChartView$1=CustomChartView;function createEl$1(Fe){var en=Fe.type,tn;if(en==="path"){var nn=Fe.shape,rn=nn.width!=null&&nn.height!=null?{x:nn.x||0,y:nn.y||0,width:nn.width,height:nn.height}:null,an=getPathData(nn);tn=makePath(an,null,rn,nn.layout||"center"),customInnerStore(tn).customPathData=an}else if(en==="image")tn=new ZRImage$1({}),customInnerStore(tn).customImagePath=Fe.style.image;else if(en==="text")tn=new ZRText$1({});else if(en==="group")tn=new Group$4;else{if(en==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var ln=getShapeClass(en);if(!ln){var cn="";throwError(cn)}tn=new ln}return customInnerStore(tn).customGraphicType=en,tn.name=Fe.name,tn.z2EmphasisLift=1,tn.z2SelectLift=1,tn}function updateElNormal(Fe,en,tn,nn,rn,an,ln){stopPreviousKeyframeAnimationAndRestore(en);var cn=rn&&rn.normal.cfg;cn&&en.setTextConfig(cn),nn&&nn.transition==null&&(nn.transition=DEFAULT_TRANSITION);var un=nn&&nn.style;if(un){if(en.type==="text"){var fn=un;hasOwn(fn,"textFill")&&(fn.fill=fn.textFill),hasOwn(fn,"textStroke")&&(fn.stroke=fn.textStroke)}var hn=void 0,pn=isPath(en)?un.decal:null;Fe&&pn&&(pn.dirty=!0,hn=createOrUpdatePatternFromDecal(pn,Fe)),un.__decalPattern=hn}if(isDisplayable(en)&&un){var hn=un.__decalPattern;hn&&(un.decal=hn)}applyUpdateTransition(en,nn,an,{dataIndex:tn,isInit:ln,clearStyle:!0}),applyKeyframeAnimation(en,nn.keyframeAnimation,an)}function updateElOnState(Fe,en,tn,nn,rn){var an=en.isGroup?null:en,ln=rn&&rn[Fe].cfg;if(an){var cn=an.ensureState(Fe);if(nn===!1){var un=an.getState(Fe);un&&(un.style=null)}else cn.style=nn||null;ln&&(cn.textConfig=ln),setDefaultStateProxy(an)}}function updateZ(Fe,en,tn){if(!Fe.isGroup){var nn=Fe,rn=tn.currentZ,an=tn.currentZLevel;nn.z=rn,nn.zlevel=an;var ln=en.z2;ln!=null&&(nn.z2=ln||0);for(var cn=0;cn<STATES.length;cn++)updateZForEachState(nn,en,STATES[cn])}}function updateZForEachState(Fe,en,tn){var nn=tn===NORMAL,rn=nn?en:retrieveStateOption(en,tn),an=rn?rn.z2:null,ln;an!=null&&(ln=nn?Fe:Fe.ensureState(tn),ln.z2=an||0)}function makeRenderItem(Fe,en,tn,nn){var rn=Fe.get("renderItem"),an=Fe.coordinateSystem,ln={};an&&(ln=an.prepareCustoms?an.prepareCustoms(an):prepareCustoms[an.type](an));for(var cn=defaults({getWidth:nn.getWidth,getHeight:nn.getHeight,getZr:nn.getZr,getDevicePixelRatio:nn.getDevicePixelRatio,value:In,style:Pn,ordinalRawValue:On,styleEmphasis:Tn,visual:Un,barLayout:jn,currentSeriesIndices:Yn,font:Wn},ln.api||{}),un={context:{},seriesId:Fe.id,seriesName:Fe.name,seriesIndex:Fe.seriesIndex,coordSys:ln.coordSys,dataInsideLength:en.count(),encode:wrapEncodeDef(Fe.getData())},fn,hn,pn={},gn={},mn={},_n={},kn=0;kn<STATES.length;kn++){var Cn=STATES[kn];mn[Cn]=Fe.getModel(PATH_ITEM_STYLE[Cn]),_n[Cn]=Fe.getModel(PATH_LABEL[Cn])}function xn(Qn){return Qn===fn?hn||(hn=en.getItemModel(Qn)):en.getItemModel(Qn)}function Sn(Qn,Xn){return en.hasItemOption?Qn===fn?pn[Xn]||(pn[Xn]=xn(Qn).getModel(PATH_ITEM_STYLE[Xn])):xn(Qn).getModel(PATH_ITEM_STYLE[Xn]):mn[Xn]}function Mn(Qn,Xn){return en.hasItemOption?Qn===fn?gn[Xn]||(gn[Xn]=xn(Qn).getModel(PATH_LABEL[Xn])):xn(Qn).getModel(PATH_LABEL[Xn]):_n[Xn]}return function(Qn,Xn){return fn=Qn,hn=null,pn={},gn={},rn&&rn(defaults({dataIndexInside:Qn,dataIndex:en.getRawIndex(Qn),actionType:Xn?Xn.type:null},un),cn)};function In(Qn,Xn){return Xn==null&&(Xn=fn),en.getStore().get(en.getDimensionIndex(Qn||0),Xn)}function On(Qn,Xn){Xn==null&&(Xn=fn),Qn=Qn||0;var jr=en.getDimensionInfo(Qn);if(!jr){var Wr=en.getDimensionIndex(Qn);return Wr>=0?en.getStore().get(Wr,Xn):void 0}var Jr=en.get(jr.name,Xn),ci=jr&&jr.ordinalMeta;return ci?ci.categories[Jr]:Jr}function Pn(Qn,Xn){Xn==null&&(Xn=fn);var jr=en.getItemVisual(Xn,"style"),Wr=jr&&jr.fill,Jr=jr&&jr.opacity,ci=Sn(Xn,NORMAL).getItemStyle();Wr!=null&&(ci.fill=Wr),Jr!=null&&(ci.opacity=Jr);var ti={inheritColor:isString(Wr)?Wr:"#000"},Zr=Mn(Xn,NORMAL),Br=createTextStyle$1(Zr,null,ti,!1,!0);Br.text=Zr.getShallow("show")?retrieve2(Fe.getFormattedLabel(Xn,NORMAL),getDefaultLabel(en,Xn)):null;var Jn=createTextConfig(Zr,ti,!1);return Hn(Qn,ci),ci=convertToEC4StyleForCustomSerise(ci,Br,Jn),Qn&&Nn(ci,Qn),ci.legacy=!0,ci}function Tn(Qn,Xn){Xn==null&&(Xn=fn);var jr=Sn(Xn,EMPHASIS).getItemStyle(),Wr=Mn(Xn,EMPHASIS),Jr=createTextStyle$1(Wr,null,null,!0,!0);Jr.text=Wr.getShallow("show")?retrieve3(Fe.getFormattedLabel(Xn,EMPHASIS),Fe.getFormattedLabel(Xn,NORMAL),getDefaultLabel(en,Xn)):null;var ci=createTextConfig(Wr,null,!0);return Hn(Qn,jr),jr=convertToEC4StyleForCustomSerise(jr,Jr,ci),Qn&&Nn(jr,Qn),jr.legacy=!0,jr}function Nn(Qn,Xn){for(var jr in Xn)hasOwn(Xn,jr)&&(Qn[jr]=Xn[jr])}function Hn(Qn,Xn){Qn&&(Qn.textFill&&(Xn.textFill=Qn.textFill),Qn.textPosition&&(Xn.textPosition=Qn.textPosition))}function Un(Qn,Xn){if(Xn==null&&(Xn=fn),hasOwn(STYLE_VISUAL_TYPE,Qn)){var jr=en.getItemVisual(Xn,"style");return jr?jr[STYLE_VISUAL_TYPE[Qn]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,Qn))return en.getItemVisual(Xn,Qn)}function jn(Qn){if(an.type==="cartesian2d"){var Xn=an.getBaseAxis();return getLayoutOnAxis(defaults({axis:Xn},Qn))}}function Yn(){return tn.getCurrentSeriesIndices()}function Wn(Qn){return getFont(Qn,tn)}}function wrapEncodeDef(Fe){var en={};return each$f(Fe.dimensions,function(tn){var nn=Fe.getDimensionInfo(tn);if(!nn.isExtraCoord){var rn=nn.coordDim,an=en[rn]=en[rn]||[];an[nn.coordDimIndex]=Fe.getDimensionIndex(tn)}}),en}function createOrUpdateItem(Fe,en,tn,nn,rn,an,ln){if(!nn){an.remove(en);return}var cn=doCreateOrUpdateEl(Fe,en,tn,nn,rn,an);return cn&&ln.setItemGraphicEl(tn,cn),cn&&toggleHoverEmphasis(cn,nn.focus,nn.blurScope,nn.emphasisDisabled),cn}function doCreateOrUpdateEl(Fe,en,tn,nn,rn,an){var ln=-1,cn=en;en&&doesElNeedRecreate(en,nn,rn)&&(ln=indexOf(an.childrenRef(),en),en=null);var un=!en,fn=en;fn?fn.clearStates():(fn=createEl$1(nn),cn&&copyElement(cn,fn)),nn.morph===!1?fn.disableMorphing=!0:fn.disableMorphing&&(fn.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(fn,tn,nn,rn,un,attachedTxInfoTmp),doCreateOrUpdateClipPath(fn,tn,nn,rn,un),updateElNormal(Fe,fn,tn,nn,attachedTxInfoTmp,rn,un),hasOwn(nn,"info")&&(customInnerStore(fn).info=nn.info);for(var hn=0;hn<STATES.length;hn++){var pn=STATES[hn];if(pn!==NORMAL){var gn=retrieveStateOption(nn,pn),mn=retrieveStyleOptionOnState(nn,gn,pn);updateElOnState(pn,fn,gn,mn,attachedTxInfoTmp)}}return updateZ(fn,nn,rn),nn.type==="group"&&mergeChildren(Fe,fn,tn,nn,rn),ln>=0?an.replaceAt(fn,ln):an.add(fn),fn}function doesElNeedRecreate(Fe,en,tn){var nn=customInnerStore(Fe),rn=en.type,an=en.shape,ln=en.style;return tn.isUniversalTransitionEnabled()||rn!=null&&rn!==nn.customGraphicType||rn==="path"&&hasOwnPathData(an)&&getPathData(an)!==nn.customPathData||rn==="image"&&hasOwn(ln,"image")&&ln.image!==nn.customImagePath}function doCreateOrUpdateClipPath(Fe,en,tn,nn,rn){var an=tn.clipPath;if(an===!1)Fe&&Fe.getClipPath()&&Fe.removeClipPath();else if(an){var ln=Fe.getClipPath();ln&&doesElNeedRecreate(ln,an,nn)&&(ln=null),ln||(ln=createEl$1(an),Fe.setClipPath(ln)),updateElNormal(null,ln,en,an,null,nn,rn)}}function doCreateOrUpdateAttachedTx(Fe,en,tn,nn,rn,an){if(!Fe.isGroup){processTxInfo(tn,null,an),processTxInfo(tn,EMPHASIS,an);var ln=an.normal.conOpt,cn=an.emphasis.conOpt,un=an.blur.conOpt,fn=an.select.conOpt;if(ln!=null||cn!=null||fn!=null||un!=null){var hn=Fe.getTextContent();if(ln===!1)hn&&Fe.removeTextContent();else{ln=an.normal.conOpt=ln||{type:"text"},hn?hn.clearStates():(hn=createEl$1(ln),Fe.setTextContent(hn)),updateElNormal(null,hn,en,ln,null,nn,rn);for(var pn=ln&&ln.style,gn=0;gn<STATES.length;gn++){var mn=STATES[gn];if(mn!==NORMAL){var _n=an[mn].conOpt;updateElOnState(mn,hn,_n,retrieveStyleOptionOnState(ln,_n,mn),null)}}pn?hn.dirty():hn.markRedraw()}}}}function processTxInfo(Fe,en,tn){var nn=en?retrieveStateOption(Fe,en):Fe,rn=en?retrieveStyleOptionOnState(Fe,nn,EMPHASIS):Fe.style,an=Fe.type,ln=nn?nn.textConfig:null,cn=Fe.textContent,un=cn?en?retrieveStateOption(cn,en):cn:null;if(rn&&(tn.isLegacy||isEC4CompatibleStyle(rn,an,!!ln,!!un))){tn.isLegacy=!0;var fn=convertFromEC4CompatibleStyle(rn,an,!en);!ln&&fn.textConfig&&(ln=fn.textConfig),!un&&fn.textContent&&(un=fn.textContent)}if(!en&&un){var hn=un;!hn.type&&(hn.type="text")}var pn=en?tn[en]:tn.normal;pn.cfg=ln,pn.conOpt=un}function retrieveStateOption(Fe,en){return en?Fe?Fe[en]:null:Fe}function retrieveStyleOptionOnState(Fe,en,tn){var nn=en&&en.style;return nn==null&&tn===EMPHASIS&&Fe&&(nn=Fe.styleEmphasis),nn}function mergeChildren(Fe,en,tn,nn,rn){var an=nn.children,ln=an?an.length:0,cn=nn.$mergeChildren,un=cn==="byName"||nn.diffChildrenByName,fn=cn===!1;if(!(!ln&&!un&&!fn)){if(un){diffGroupChildren({api:Fe,oldChildren:en.children()||[],newChildren:an||[],dataIndex:tn,seriesModel:rn,group:en});return}fn&&en.removeAll();for(var hn=0;hn<ln;hn++){var pn=an[hn],gn=en.childAt(hn);pn?(pn.ignore==null&&(pn.ignore=!1),doCreateOrUpdateEl(Fe,gn,tn,pn,rn,en)):gn.ignore=!0}for(var mn=en.childCount()-1;mn>=hn;mn--){var _n=en.childAt(mn);removeChildFromGroup(en,_n,rn)}}}function removeChildFromGroup(Fe,en,tn){en&&applyLeaveTransition(en,customInnerStore(Fe).option,tn)}function diffGroupChildren(Fe){new DataDiffer$1(Fe.oldChildren,Fe.newChildren,getKey,getKey,Fe).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(Fe,en){var tn=Fe&&Fe.name;return tn??GROUP_DIFF_PREFIX+en}function processAddUpdate(Fe,en){var tn=this.context,nn=Fe!=null?tn.newChildren[Fe]:null,rn=en!=null?tn.oldChildren[en]:null;doCreateOrUpdateEl(tn.api,rn,tn.dataIndex,nn,tn.seriesModel,tn.group)}function processRemove(Fe){var en=this.context,tn=en.oldChildren[Fe];tn&&applyLeaveTransition(tn,customInnerStore(tn).option,en.seriesModel)}function getPathData(Fe){return Fe&&(Fe.pathData||Fe.d)}function hasOwnPathData(Fe){return Fe&&(hasOwn(Fe,"pathData")||hasOwn(Fe,"d"))}function install$r(Fe){Fe.registerChartView(CustomChartView$1),Fe.registerSeriesModel(CustomSeriesModel$1)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function Fe(){this._dragging=!1,this.animationThreshold=15}return Fe.prototype.render=function(en,tn,nn,rn){var an=tn.get("value"),ln=tn.get("status");if(this._axisModel=en,this._axisPointerModel=tn,this._api=nn,!(!rn&&this._lastValue===an&&this._lastStatus===ln)){this._lastValue=an,this._lastStatus=ln;var cn=this._group,un=this._handle;if(!ln||ln==="hide"){cn&&cn.hide(),un&&un.hide();return}cn&&cn.show(),un&&un.show();var fn={};this.makeElOption(fn,an,en,tn,nn);var hn=fn.graphicKey;hn!==this._lastGraphicKey&&this.clear(nn),this._lastGraphicKey=hn;var pn=this._moveAnimation=this.determineAnimation(en,tn);if(!cn)cn=this._group=new Group$4,this.createPointerEl(cn,fn,en,tn),this.createLabelEl(cn,fn,en,tn),nn.getZr().add(cn);else{var gn=curry$1(updateProps,tn,pn);this.updatePointerEl(cn,fn,gn),this.updateLabelEl(cn,fn,gn,tn)}updateMandatoryProps(cn,tn,!0),this._renderHandle(an)}},Fe.prototype.remove=function(en){this.clear(en)},Fe.prototype.dispose=function(en){this.clear(en)},Fe.prototype.determineAnimation=function(en,tn){var nn=tn.get("animation"),rn=en.axis,an=rn.type==="category",ln=tn.get("snap");if(!ln&&!an)return!1;if(nn==="auto"||nn==null){var cn=this.animationThreshold;if(an&&rn.getBandWidth()>cn)return!0;if(ln){var un=getAxisInfo$1(en).seriesDataCount,fn=rn.getExtent();return Math.abs(fn[0]-fn[1])/un>cn}return!1}return nn===!0},Fe.prototype.makeElOption=function(en,tn,nn,rn,an){},Fe.prototype.createPointerEl=function(en,tn,nn,rn){var an=tn.pointer;if(an){var ln=inner$b(en).pointerEl=new graphic$1[an.type](clone$1(tn.pointer));en.add(ln)}},Fe.prototype.createLabelEl=function(en,tn,nn,rn){if(tn.label){var an=inner$b(en).labelEl=new ZRText$1(clone$1(tn.label));en.add(an),updateLabelShowHide(an,rn)}},Fe.prototype.updatePointerEl=function(en,tn,nn){var rn=inner$b(en).pointerEl;rn&&tn.pointer&&(rn.setStyle(tn.pointer.style),nn(rn,{shape:tn.pointer.shape}))},Fe.prototype.updateLabelEl=function(en,tn,nn,rn){var an=inner$b(en).labelEl;an&&(an.setStyle(tn.label.style),nn(an,{x:tn.label.x,y:tn.label.y}),updateLabelShowHide(an,rn))},Fe.prototype._renderHandle=function(en){if(!(this._dragging||!this.updateHandleTransform)){var tn=this._axisPointerModel,nn=this._api.getZr(),rn=this._handle,an=tn.getModel("handle"),ln=tn.get("status");if(!an.get("show")||!ln||ln==="hide"){rn&&nn.remove(rn),this._handle=null;return}var cn;this._handle||(cn=!0,rn=this._handle=createIcon(an.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(fn){stop(fn.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),nn.add(rn)),updateMandatoryProps(rn,tn,!1),rn.setStyle(an.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var un=an.get("size");isArray$1(un)||(un=[un,un]),rn.scaleX=un[0]/2,rn.scaleY=un[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",an.get("throttle")||0,"fixRate"),this._moveHandleToValue(en,cn)}},Fe.prototype._moveHandleToValue=function(en,tn){updateProps(this._axisPointerModel,!tn&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(en,this._axisModel,this._axisPointerModel)))},Fe.prototype._onHandleDragMove=function(en,tn){var nn=this._handle;if(nn){this._dragging=!0;var rn=this.updateHandleTransform(getHandleTransProps(nn),[en,tn],this._axisModel,this._axisPointerModel);this._payloadInfo=rn,nn.stopAnimation(),nn.attr(getHandleTransProps(rn)),inner$b(nn).lastProp=null,this._doDispatchAxisPointer()}},Fe.prototype._doDispatchAxisPointer=function(){var en=this._handle;if(en){var tn=this._payloadInfo,nn=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:tn.cursorPoint[0],y:tn.cursorPoint[1],tooltipOption:tn.tooltipOption,axesInfo:[{axisDim:nn.axis.dim,axisIndex:nn.componentIndex}]})}},Fe.prototype._onHandleDragEnd=function(){this._dragging=!1;var en=this._handle;if(en){var tn=this._axisPointerModel.get("value");this._moveHandleToValue(tn),this._api.dispatchAction({type:"hideTip"})}},Fe.prototype.clear=function(en){this._lastValue=null,this._lastStatus=null;var tn=en.getZr(),nn=this._group,rn=this._handle;tn&&nn&&(this._lastGraphicKey=null,nn&&tn.remove(nn),rn&&tn.remove(rn),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},Fe.prototype.doClear=function(){},Fe.prototype.buildLabel=function(en,tn,nn){return nn=nn||0,{x:en[nn],y:en[1-nn],width:tn[nn],height:tn[1-nn]}},Fe}();function updateProps(Fe,en,tn,nn){propsEqual(inner$b(tn).lastProp,nn)||(inner$b(tn).lastProp=nn,en?updateProps$1(tn,nn,Fe):(tn.stopAnimation(),tn.attr(nn)))}function propsEqual(Fe,en){if(isObject$3(Fe)&&isObject$3(en)){var tn=!0;return each$f(en,function(nn,rn){tn=tn&&propsEqual(Fe[rn],nn)}),!!tn}else return Fe===en}function updateLabelShowHide(Fe,en){Fe[en.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(Fe){return{x:Fe.x||0,y:Fe.y||0,rotation:Fe.rotation||0}}function updateMandatoryProps(Fe,en,tn){var nn=en.get("z"),rn=en.get("zlevel");Fe&&Fe.traverse(function(an){an.type!=="group"&&(nn!=null&&(an.z=nn),rn!=null&&(an.zlevel=rn),an.silent=tn)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(Fe){var en=Fe.get("type"),tn=Fe.getModel(en+"Style"),nn;return en==="line"?(nn=tn.getLineStyle(),nn.fill=null):en==="shadow"&&(nn=tn.getAreaStyle(),nn.stroke=null),nn}function buildLabelElOption(Fe,en,tn,nn,rn){var an=tn.get("value"),ln=getValueLabel(an,en.axis,en.ecModel,tn.get("seriesDataIndices"),{precision:tn.get(["label","precision"]),formatter:tn.get(["label","formatter"])}),cn=tn.getModel("label"),un=normalizeCssArray(cn.get("padding")||0),fn=cn.getFont(),hn=getBoundingRect(ln,fn),pn=rn.position,gn=hn.width+un[1]+un[3],mn=hn.height+un[0]+un[2],_n=rn.align;_n==="right"&&(pn[0]-=gn),_n==="center"&&(pn[0]-=gn/2);var kn=rn.verticalAlign;kn==="bottom"&&(pn[1]-=mn),kn==="middle"&&(pn[1]-=mn/2),confineInContainer(pn,gn,mn,nn);var Cn=cn.get("backgroundColor");(!Cn||Cn==="auto")&&(Cn=en.get(["axisLine","lineStyle","color"])),Fe.label={x:pn[0],y:pn[1],style:createTextStyle$1(cn,{text:ln,font:fn,fill:cn.getTextColor(),padding:un,backgroundColor:Cn}),z2:10}}function confineInContainer(Fe,en,tn,nn){var rn=nn.getWidth(),an=nn.getHeight();Fe[0]=Math.min(Fe[0]+en,rn)-en,Fe[1]=Math.min(Fe[1]+tn,an)-tn,Fe[0]=Math.max(Fe[0],0),Fe[1]=Math.max(Fe[1],0)}function getValueLabel(Fe,en,tn,nn,rn){Fe=en.scale.parse(Fe);var an=en.scale.getLabel({value:Fe},{precision:rn.precision}),ln=rn.formatter;if(ln){var cn={value:getAxisRawValue(en,{value:Fe}),axisDimension:en.dim,axisIndex:en.index,seriesData:[]};each$f(nn,function(un){var fn=tn.getSeriesByIndex(un.seriesIndex),hn=un.dataIndexInside,pn=fn&&fn.getDataParams(hn);pn&&cn.seriesData.push(pn)}),isString(ln)?an=ln.replace("{value}",an):isFunction(ln)&&(an=ln(cn))}return an}function getTransformedPosition(Fe,en,tn){var nn=create$1();return rotate(nn,nn,tn.rotation),translate(nn,nn,tn.position),applyTransform([Fe.dataToCoord(en),(tn.labelOffset||0)+(tn.labelDirection||1)*(tn.labelMargin||0)],nn)}function buildCartesianSingleLabelElOption(Fe,en,tn,nn,rn,an){var ln=AxisBuilder$1.innerTextLayout(tn.rotation,0,tn.labelDirection);tn.labelMargin=rn.get(["label","margin"]),buildLabelElOption(en,nn,rn,an,{position:getTransformedPosition(nn.axis,Fe,tn),align:ln.textAlign,verticalAlign:ln.textVerticalAlign})}function makeLineShape(Fe,en,tn){return tn=tn||0,{x1:Fe[tn],y1:Fe[1-tn],x2:en[tn],y2:en[1-tn]}}function makeRectShape(Fe,en,tn){return tn=tn||0,{x:Fe[tn],y:Fe[1-tn],width:en[tn],height:en[1-tn]}}function makeSectorShape(Fe,en,tn,nn,rn,an){return{cx:Fe,cy:en,r0:tn,r:nn,startAngle:rn,endAngle:an,clockwise:!0}}var CartesianAxisPointer=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.makeElOption=function(tn,nn,rn,an,ln){var cn=rn.axis,un=cn.grid,fn=an.get("type"),hn=getCartesian(un,cn).getOtherAxis(cn).getGlobalExtent(),pn=cn.toGlobalCoord(cn.dataToCoord(nn,!0));if(fn&&fn!=="none"){var gn=buildElStyle(an),mn=pointerShapeBuilder$2[fn](cn,pn,hn);mn.style=gn,tn.graphicKey=mn.type,tn.pointer=mn}var _n=layout$2(un.model,rn);buildCartesianSingleLabelElOption(nn,tn,_n,rn,an,ln)},en.prototype.getHandleTransform=function(tn,nn,rn){var an=layout$2(nn.axis.grid.model,nn,{labelInside:!1});an.labelMargin=rn.get(["handle","margin"]);var ln=getTransformedPosition(nn.axis,tn,an);return{x:ln[0],y:ln[1],rotation:an.rotation+(an.labelDirection<0?Math.PI:0)}},en.prototype.updateHandleTransform=function(tn,nn,rn,an){var ln=rn.axis,cn=ln.grid,un=ln.getGlobalExtent(!0),fn=getCartesian(cn,ln).getOtherAxis(ln).getGlobalExtent(),hn=ln.dim==="x"?0:1,pn=[tn.x,tn.y];pn[hn]+=nn[hn],pn[hn]=Math.min(un[1],pn[hn]),pn[hn]=Math.max(un[0],pn[hn]);var gn=(fn[1]+fn[0])/2,mn=[gn,gn];mn[hn]=pn[hn];var _n=[{verticalAlign:"middle"},{align:"center"}];return{x:pn[0],y:pn[1],rotation:tn.rotation,cursorPoint:mn,tooltipOption:_n[hn]}},en}(BaseAxisPointer$1);function getCartesian(Fe,en){var tn={};return tn[en.dim+"AxisIndex"]=en.index,Fe.getCartesian(tn)}var pointerShapeBuilder$2={line:function(Fe,en,tn){var nn=makeLineShape([en,tn[0]],[en,tn[1]],getAxisDimIndex(Fe));return{type:"Line",subPixelOptimize:!0,shape:nn}},shadow:function(Fe,en,tn){var nn=Math.max(1,Fe.getBandWidth()),rn=tn[1]-tn[0];return{type:"Rect",shape:makeRectShape([en-nn/2,tn[0]],[nn,rn],getAxisDimIndex(Fe))}}};function getAxisDimIndex(Fe){return Fe.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="axisPointer",en.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},en}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$a=makeInner(),each$8=each$f;function register(Fe,en,tn){if(!env$1.node){var nn=en.getZr();inner$a(nn).records||(inner$a(nn).records={}),initGlobalListeners(nn,en);var rn=inner$a(nn).records[Fe]||(inner$a(nn).records[Fe]={});rn.handler=tn}}function initGlobalListeners(Fe,en){if(inner$a(Fe).initialized)return;inner$a(Fe).initialized=!0,tn("click",curry$1(doEnter,"click")),tn("mousemove",curry$1(doEnter,"mousemove")),tn("globalout",onLeave);function tn(nn,rn){Fe.on(nn,function(an){var ln=makeDispatchAction$1(en);each$8(inner$a(Fe).records,function(cn){cn&&rn(cn,an,ln.dispatchAction)}),dispatchTooltipFinally(ln.pendings,en)})}}function dispatchTooltipFinally(Fe,en){var tn=Fe.showTip.length,nn=Fe.hideTip.length,rn;tn?rn=Fe.showTip[tn-1]:nn&&(rn=Fe.hideTip[nn-1]),rn&&(rn.dispatchAction=null,en.dispatchAction(rn))}function onLeave(Fe,en,tn){Fe.handler("leave",null,tn)}function doEnter(Fe,en,tn,nn){en.handler(Fe,tn,nn)}function makeDispatchAction$1(Fe){var en={showTip:[],hideTip:[]},tn=function(nn){var rn=en[nn.type];rn?rn.push(nn):(nn.dispatchAction=tn,Fe.dispatchAction(nn))};return{dispatchAction:tn,pendings:en}}function unregister(Fe,en){if(!env$1.node){var tn=en.getZr(),nn=(inner$a(tn).records||{})[Fe];nn&&(inner$a(tn).records[Fe]=null)}}var AxisPointerView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){var an=nn.getComponent("tooltip"),ln=tn.get("triggerOn")||an&&an.get("triggerOn")||"mousemove|click";register("axisPointer",rn,function(cn,un,fn){ln!=="none"&&(cn==="leave"||ln.indexOf(cn)>=0)&&fn({type:"updateAxisPointer",currTrigger:cn,x:un&&un.offsetX,y:un&&un.offsetY})})},en.prototype.remove=function(tn,nn){unregister("axisPointer",nn)},en.prototype.dispose=function(tn,nn){unregister("axisPointer",nn)},en.type="axisPointer",en}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(Fe,en){var tn=[],nn=Fe.seriesIndex,rn;if(nn==null||!(rn=en.getSeriesByIndex(nn)))return{point:[]};var an=rn.getData(),ln=queryDataIndex(an,Fe);if(ln==null||ln<0||isArray$1(ln))return{point:[]};var cn=an.getItemGraphicEl(ln),un=rn.coordinateSystem;if(rn.getTooltipPosition)tn=rn.getTooltipPosition(ln)||[];else if(un&&un.dataToPoint)if(Fe.isStacked){var fn=un.getBaseAxis(),hn=un.getOtherAxis(fn),pn=hn.dim,gn=fn.dim,mn=pn==="x"||pn==="radius"?1:0,_n=an.mapDimension(gn),kn=[];kn[mn]=an.get(_n,ln),kn[1-mn]=an.get(an.getCalculationInfo("stackResultDimension"),ln),tn=un.dataToPoint(kn)||[]}else tn=un.dataToPoint(an.getValues(map$1(un.dimensions,function(xn){return an.mapDimension(xn)}),ln))||[];else if(cn){var Cn=cn.getBoundingRect().clone();Cn.applyTransform(cn.transform),tn=[Cn.x+Cn.width/2,Cn.y+Cn.height/2]}return{point:tn,el:cn}}var inner$9=makeInner();function axisTrigger(Fe,en,tn){var nn=Fe.currTrigger,rn=[Fe.x,Fe.y],an=Fe,ln=Fe.dispatchAction||bind$1(tn.dispatchAction,tn),cn=en.getComponent("axisPointer").coordSysAxesInfo;if(cn){illegalPoint(rn)&&(rn=findPointFromSeries({seriesIndex:an.seriesIndex,dataIndex:an.dataIndex},en).point);var un=illegalPoint(rn),fn=an.axesInfo,hn=cn.axesInfo,pn=nn==="leave"||illegalPoint(rn),gn={},mn={},_n={list:[],map:{}},kn={showPointer:curry$1(showPointer,mn),showTooltip:curry$1(showTooltip,_n)};each$f(cn.coordSysMap,function(xn,Sn){var Mn=un||xn.containPoint(rn);each$f(cn.coordSysAxesInfo[Sn],function(In,On){var Pn=In.axis,Tn=findInputAxisInfo(fn,In);if(!pn&&Mn&&(!fn||Tn)){var Nn=Tn&&Tn.value;Nn==null&&!un&&(Nn=Pn.pointToData(rn)),Nn!=null&&processOnAxis(In,Nn,kn,!1,gn)}})});var Cn={};return each$f(hn,function(xn,Sn){var Mn=xn.linkGroup;Mn&&!mn[Sn]&&each$f(Mn.axesInfo,function(In,On){var Pn=mn[On];if(In!==xn&&Pn){var Tn=Pn.value;Mn.mapper&&(Tn=xn.axis.scale.parse(Mn.mapper(Tn,makeMapperParam(In),makeMapperParam(xn)))),Cn[xn.key]=Tn}})}),each$f(Cn,function(xn,Sn){processOnAxis(hn[Sn],xn,kn,!0,gn)}),updateModelActually(mn,hn,gn),dispatchTooltipActually(_n,rn,Fe,ln),dispatchHighDownActually(hn,ln,tn),gn}}function processOnAxis(Fe,en,tn,nn,rn){var an=Fe.axis;if(!(an.scale.isBlank()||!an.containData(en))){if(!Fe.involveSeries){tn.showPointer(Fe,en);return}var ln=buildPayloadsBySeries(en,Fe),cn=ln.payloadBatch,un=ln.snapToValue;cn[0]&&rn.seriesIndex==null&&extend$1(rn,cn[0]),!nn&&Fe.snap&&an.containData(un)&&un!=null&&(en=un),tn.showPointer(Fe,en,cn),tn.showTooltip(Fe,ln,un)}}function buildPayloadsBySeries(Fe,en){var tn=en.axis,nn=tn.dim,rn=Fe,an=[],ln=Number.MAX_VALUE,cn=-1;return each$f(en.seriesModels,function(un,fn){var hn=un.getData().mapDimensionsAll(nn),pn,gn;if(un.getAxisTooltipData){var mn=un.getAxisTooltipData(hn,Fe,tn);gn=mn.dataIndices,pn=mn.nestestValue}else{if(gn=un.getData().indicesOfNearest(hn[0],Fe,tn.type==="category"?.5:null),!gn.length)return;pn=un.getData().get(hn[0],gn[0])}if(!(pn==null||!isFinite(pn))){var _n=Fe-pn,kn=Math.abs(_n);kn<=ln&&((kn<ln||_n>=0&&cn<0)&&(ln=kn,cn=_n,rn=pn,an.length=0),each$f(gn,function(Cn){an.push({seriesIndex:un.seriesIndex,dataIndexInside:Cn,dataIndex:un.getData().getRawIndex(Cn)})}))}}),{payloadBatch:an,snapToValue:rn}}function showPointer(Fe,en,tn,nn){Fe[en.key]={value:tn,payloadBatch:nn}}function showTooltip(Fe,en,tn,nn){var rn=tn.payloadBatch,an=en.axis,ln=an.model,cn=en.axisPointerModel;if(!(!en.triggerTooltip||!rn.length)){var un=en.coordSys.model,fn=makeKey(un),hn=Fe.map[fn];hn||(hn=Fe.map[fn]={coordSysId:un.id,coordSysIndex:un.componentIndex,coordSysType:un.type,coordSysMainType:un.mainType,dataByAxis:[]},Fe.list.push(hn)),hn.dataByAxis.push({axisDim:an.dim,axisIndex:ln.componentIndex,axisType:ln.type,axisId:ln.id,value:nn,valueLabelOpt:{precision:cn.get(["label","precision"]),formatter:cn.get(["label","formatter"])},seriesDataIndices:rn.slice()})}}function updateModelActually(Fe,en,tn){var nn=tn.axesInfo=[];each$f(en,function(rn,an){var ln=rn.axisPointerModel.option,cn=Fe[an];cn?(!rn.useHandle&&(ln.status="show"),ln.value=cn.value,ln.seriesDataIndices=(cn.payloadBatch||[]).slice()):!rn.useHandle&&(ln.status="hide"),ln.status==="show"&&nn.push({axisDim:rn.axis.dim,axisIndex:rn.axis.model.componentIndex,value:ln.value})})}function dispatchTooltipActually(Fe,en,tn,nn){if(illegalPoint(en)||!Fe.list.length){nn({type:"hideTip"});return}var rn=((Fe.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};nn({type:"showTip",escapeConnect:!0,x:en[0],y:en[1],tooltipOption:tn.tooltipOption,position:tn.position,dataIndexInside:rn.dataIndexInside,dataIndex:rn.dataIndex,seriesIndex:rn.seriesIndex,dataByCoordSys:Fe.list})}function dispatchHighDownActually(Fe,en,tn){var nn=tn.getZr(),rn="axisPointerLastHighlights",an=inner$9(nn)[rn]||{},ln=inner$9(nn)[rn]={};each$f(Fe,function(fn,hn){var pn=fn.axisPointerModel.option;pn.status==="show"&&fn.triggerEmphasis&&each$f(pn.seriesDataIndices,function(gn){var mn=gn.seriesIndex+" | "+gn.dataIndex;ln[mn]=gn})});var cn=[],un=[];each$f(an,function(fn,hn){!ln[hn]&&un.push(fn)}),each$f(ln,function(fn,hn){!an[hn]&&cn.push(fn)}),un.length&&tn.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:un}),cn.length&&tn.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:cn})}function findInputAxisInfo(Fe,en){for(var tn=0;tn<(Fe||[]).length;tn++){var nn=Fe[tn];if(en.axis.dim===nn.axisDim&&en.axis.model.componentIndex===nn.axisIndex)return nn}}function makeMapperParam(Fe){var en=Fe.axis.model,tn={},nn=tn.axisDim=Fe.axis.dim;return tn.axisIndex=tn[nn+"AxisIndex"]=en.componentIndex,tn.axisName=tn[nn+"AxisName"]=en.name,tn.axisId=tn[nn+"AxisId"]=en.id,tn}function illegalPoint(Fe){return!Fe||Fe[0]==null||isNaN(Fe[0])||Fe[1]==null||isNaN(Fe[1])}function install$q(Fe){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),Fe.registerComponentModel(AxisPointerModel$1),Fe.registerComponentView(AxisPointerView$1),Fe.registerPreprocessor(function(en){if(en){(!en.axisPointer||en.axisPointer.length===0)&&(en.axisPointer={});var tn=en.axisPointer.link;tn&&!isArray$1(tn)&&(en.axisPointer.link=[tn])}}),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.STATISTIC,function(en,tn){en.getComponent("axisPointer").coordSysAxesInfo=collect(en,tn)}),Fe.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(Fe){use(install$N),use(install$q)}var PolarAxisPointer=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.makeElOption=function(tn,nn,rn,an,ln){var cn=rn.axis;cn.dim==="angle"&&(this.animationThreshold=Math.PI/18);var un=cn.polar,fn=un.getOtherAxis(cn),hn=fn.getExtent(),pn=cn.dataToCoord(nn),gn=an.get("type");if(gn&&gn!=="none"){var mn=buildElStyle(an),_n=pointerShapeBuilder$1[gn](cn,un,pn,hn);_n.style=mn,tn.graphicKey=_n.type,tn.pointer=_n}var kn=an.get(["label","margin"]),Cn=getLabelPosition(nn,rn,an,un,kn);buildLabelElOption(tn,rn,an,ln,Cn)},en}(BaseAxisPointer$1);function getLabelPosition(Fe,en,tn,nn,rn){var an=en.axis,ln=an.dataToCoord(Fe),cn=nn.getAngleAxis().getExtent()[0];cn=cn/180*Math.PI;var un=nn.getRadiusAxis().getExtent(),fn,hn,pn;if(an.dim==="radius"){var gn=create$1();rotate(gn,gn,cn),translate(gn,gn,[nn.cx,nn.cy]),fn=applyTransform([ln,-rn],gn);var mn=en.getModel("axisLabel").get("rotate")||0,_n=AxisBuilder$1.innerTextLayout(cn,mn*Math.PI/180,-1);hn=_n.textAlign,pn=_n.textVerticalAlign}else{var kn=un[1];fn=nn.coordToPoint([kn+rn,ln]);var Cn=nn.cx,xn=nn.cy;hn=Math.abs(fn[0]-Cn)/kn<.3?"center":fn[0]>Cn?"left":"right",pn=Math.abs(fn[1]-xn)/kn<.3?"middle":fn[1]>xn?"top":"bottom"}return{position:fn,align:hn,verticalAlign:pn}}var pointerShapeBuilder$1={line:function(Fe,en,tn,nn){return Fe.dim==="angle"?{type:"Line",shape:makeLineShape(en.coordToPoint([nn[0],tn]),en.coordToPoint([nn[1],tn]))}:{type:"Circle",shape:{cx:en.cx,cy:en.cy,r:tn}}},shadow:function(Fe,en,tn,nn){var rn=Math.max(1,Fe.getBandWidth()),an=Math.PI/180;return Fe.dim==="angle"?{type:"Sector",shape:makeSectorShape(en.cx,en.cy,nn[0],nn[1],(-tn-rn/2)*an,(-tn+rn/2)*an)}:{type:"Sector",shape:makeSectorShape(en.cx,en.cy,tn-rn/2,tn+rn/2,0,Math.PI*2)}}};const PolarAxisPointer$1=PolarAxisPointer;var PolarModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.findAxisModel=function(tn){var nn,rn=this.ecModel;return rn.eachComponent(tn,function(an){an.getCoordSysModel()===this&&(nn=an)},this),nn},en.type="polar",en.dependencies=["radiusAxis","angleAxis"],en.defaultOption={z:0,center:["50%","50%"],radius:"80%"},en}(ComponentModel$1);const PolarModel$1=PolarModel;var PolarAxisModel=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},en.type="polarAxis",en}(ComponentModel$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="angleAxis",en}(PolarAxisModel),RadiusAxisModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="radiusAxis",en}(PolarAxisModel),RadiusAxis=function(Fe){__extends(en,Fe);function en(tn,nn){return Fe.call(this,"radius",tn,nn)||this}return en.prototype.pointToData=function(tn,nn){return this.polar.pointToData(tn,nn)[this.dim==="radius"?0:1]},en}(Axis$1);RadiusAxis.prototype.dataToRadius=Axis$1.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis$1.prototype.coordToData;const RadiusAxis$1=RadiusAxis;var inner$8=makeInner(),AngleAxis=function(Fe){__extends(en,Fe);function en(tn,nn){return Fe.call(this,"angle",tn,nn||[0,360])||this}return en.prototype.pointToData=function(tn,nn){return this.polar.pointToData(tn,nn)[this.dim==="radius"?0:1]},en.prototype.calculateCategoryInterval=function(){var tn=this,nn=tn.getLabelModel(),rn=tn.scale,an=rn.getExtent(),ln=rn.count();if(an[1]-an[0]<1)return 0;var cn=an[0],un=tn.dataToCoord(cn+1)-tn.dataToCoord(cn),fn=Math.abs(un),hn=getBoundingRect(cn==null?"":cn+"",nn.getFont(),"center","top"),pn=Math.max(hn.height,7),gn=pn/fn;isNaN(gn)&&(gn=1/0);var mn=Math.max(0,Math.floor(gn)),_n=inner$8(tn.model),kn=_n.lastAutoInterval,Cn=_n.lastTickCount;return kn!=null&&Cn!=null&&Math.abs(kn-mn)<=1&&Math.abs(Cn-ln)<=1&&kn>mn?mn=kn:(_n.lastTickCount=ln,_n.lastAutoInterval=mn),mn},en}(Axis$1);AngleAxis.prototype.dataToAngle=Axis$1.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis$1.prototype.coordToData;const AngleAxis$1=AngleAxis;var polarDimensions=["radius","angle"],Polar=function(){function Fe(en){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$1,this._angleAxis=new AngleAxis$1,this.axisPointerEnabled=!0,this.name=en||"",this._radiusAxis.polar=this._angleAxis.polar=this}return Fe.prototype.containPoint=function(en){var tn=this.pointToCoord(en);return this._radiusAxis.contain(tn[0])&&this._angleAxis.contain(tn[1])},Fe.prototype.containData=function(en){return this._radiusAxis.containData(en[0])&&this._angleAxis.containData(en[1])},Fe.prototype.getAxis=function(en){var tn="_"+en+"Axis";return this[tn]},Fe.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},Fe.prototype.getAxesByScale=function(en){var tn=[],nn=this._angleAxis,rn=this._radiusAxis;return nn.scale.type===en&&tn.push(nn),rn.scale.type===en&&tn.push(rn),tn},Fe.prototype.getAngleAxis=function(){return this._angleAxis},Fe.prototype.getRadiusAxis=function(){return this._radiusAxis},Fe.prototype.getOtherAxis=function(en){var tn=this._angleAxis;return en===tn?this._radiusAxis:tn},Fe.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},Fe.prototype.getTooltipAxes=function(en){var tn=en!=null&&en!=="auto"?this.getAxis(en):this.getBaseAxis();return{baseAxes:[tn],otherAxes:[this.getOtherAxis(tn)]}},Fe.prototype.dataToPoint=function(en,tn){return this.coordToPoint([this._radiusAxis.dataToRadius(en[0],tn),this._angleAxis.dataToAngle(en[1],tn)])},Fe.prototype.pointToData=function(en,tn){var nn=this.pointToCoord(en);return[this._radiusAxis.radiusToData(nn[0],tn),this._angleAxis.angleToData(nn[1],tn)]},Fe.prototype.pointToCoord=function(en){var tn=en[0]-this.cx,nn=en[1]-this.cy,rn=this.getAngleAxis(),an=rn.getExtent(),ln=Math.min(an[0],an[1]),cn=Math.max(an[0],an[1]);rn.inverse?ln=cn-360:cn=ln+360;var un=Math.sqrt(tn*tn+nn*nn);tn/=un,nn/=un;for(var fn=Math.atan2(-nn,tn)/Math.PI*180,hn=fn<ln?1:-1;fn<ln||fn>cn;)fn+=hn*360;return[un,fn]},Fe.prototype.coordToPoint=function(en){var tn=en[0],nn=en[1]/180*Math.PI,rn=Math.cos(nn)*tn+this.cx,an=-Math.sin(nn)*tn+this.cy;return[rn,an]},Fe.prototype.getArea=function(){var en=this.getAngleAxis(),tn=this.getRadiusAxis(),nn=tn.getExtent().slice();nn[0]>nn[1]&&nn.reverse();var rn=en.getExtent(),an=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:nn[0],r:nn[1],startAngle:-rn[0]*an,endAngle:-rn[1]*an,clockwise:en.inverse,contain:function(ln,cn){var un=ln-this.cx,fn=cn-this.cy,hn=un*un+fn*fn-1e-4,pn=this.r,gn=this.r0;return hn<=pn*pn&&hn>=gn*gn}}},Fe.prototype.convertToPixel=function(en,tn,nn){var rn=getCoordSys$2(tn);return rn===this?this.dataToPoint(nn):null},Fe.prototype.convertFromPixel=function(en,tn,nn){var rn=getCoordSys$2(tn);return rn===this?this.pointToData(nn):null},Fe}();function getCoordSys$2(Fe){var en=Fe.seriesModel,tn=Fe.polarModel;return tn&&tn.coordinateSystem||en&&en.coordinateSystem}const Polar$1=Polar;function resizePolar(Fe,en,tn){var nn=en.get("center"),rn=tn.getWidth(),an=tn.getHeight();Fe.cx=parsePercent(nn[0],rn),Fe.cy=parsePercent(nn[1],an);var ln=Fe.getRadiusAxis(),cn=Math.min(rn,an)/2,un=en.get("radius");un==null?un=[0,"100%"]:isArray$1(un)||(un=[0,un]);var fn=[parsePercent(un[0],cn),parsePercent(un[1],cn)];ln.inverse?ln.setExtent(fn[1],fn[0]):ln.setExtent(fn[0],fn[1])}function updatePolarScale(Fe,en){var tn=this,nn=tn.getAngleAxis(),rn=tn.getRadiusAxis();if(nn.scale.setExtent(1/0,-1/0),rn.scale.setExtent(1/0,-1/0),Fe.eachSeries(function(cn){if(cn.coordinateSystem===tn){var un=cn.getData();each$f(getDataDimensionsOnAxis(un,"radius"),function(fn){rn.scale.unionExtentFromData(un,fn)}),each$f(getDataDimensionsOnAxis(un,"angle"),function(fn){nn.scale.unionExtentFromData(un,fn)})}}),niceScaleExtent(nn.scale,nn.model),niceScaleExtent(rn.scale,rn.model),nn.type==="category"&&!nn.onBand){var an=nn.getExtent(),ln=360/nn.scale.count();nn.inverse?an[1]+=ln:an[1]-=ln,nn.setExtent(an[0],an[1])}}function isAngleAxisModel(Fe){return Fe.mainType==="angleAxis"}function setAxis(Fe,en){if(Fe.type=en.get("type"),Fe.scale=createScaleByModel$1(en),Fe.onBand=en.get("boundaryGap")&&Fe.type==="category",Fe.inverse=en.get("inverse"),isAngleAxisModel(en)){Fe.inverse=Fe.inverse!==en.get("clockwise");var tn=en.get("startAngle");Fe.setExtent(tn,tn+(Fe.inverse?-360:360))}en.axis=Fe,Fe.model=en}var polarCreator={dimensions:polarDimensions,create:function(Fe,en){var tn=[];return Fe.eachComponent("polar",function(nn,rn){var an=new Polar$1(rn+"");an.update=updatePolarScale;var ln=an.getRadiusAxis(),cn=an.getAngleAxis(),un=nn.findAxisModel("radiusAxis"),fn=nn.findAxisModel("angleAxis");setAxis(ln,un),setAxis(cn,fn),resizePolar(an,nn,en),tn.push(an),nn.coordinateSystem=an,an.model=nn}),Fe.eachSeries(function(nn){if(nn.get("coordinateSystem")==="polar"){var rn=nn.getReferringComponents("polar",SINGLE_REFERRING).models[0];nn.coordinateSystem=rn.coordinateSystem}}),tn}};const polarCreator$1=polarCreator;var elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(Fe,en,tn){en[1]>en[0]&&(en=en.slice().reverse());var nn=Fe.coordToPoint([en[0],tn]),rn=Fe.coordToPoint([en[1],tn]);return{x1:nn[0],y1:nn[1],x2:rn[0],y2:rn[1]}}function getRadiusIdx(Fe){var en=Fe.getRadiusAxis();return en.inverse?0:1}function fixAngleOverlap(Fe){var en=Fe[0],tn=Fe[Fe.length-1];en&&tn&&Math.abs(Math.abs(en.coord-tn.coord)-360)<1e-4&&Fe.pop()}var AngleAxisView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.axisPointerClass="PolarAxisPointer",tn}return en.prototype.render=function(tn,nn){if(this.group.removeAll(),!!tn.get("show")){var rn=tn.axis,an=rn.polar,ln=an.getRadiusAxis().getExtent(),cn=rn.getTicksCoords(),un=rn.getMinorTicksCoords(),fn=map$1(rn.getViewLabels(),function(hn){hn=clone$4(hn);var pn=rn.scale,gn=pn.type==="ordinal"?pn.getRawOrdinalNumber(hn.tickValue):hn.tickValue;return hn.coord=rn.dataToCoord(gn),hn});fixAngleOverlap(fn),fixAngleOverlap(cn),each$f(elementList,function(hn){tn.get([hn,"show"])&&(!rn.scale.isBlank()||hn==="axisLine")&&angelAxisElementsBuilders[hn](this.group,tn,an,cn,un,ln,fn)},this)}},en.type="angleAxis",en}(AxisView$1),angelAxisElementsBuilders={axisLine:function(Fe,en,tn,nn,rn,an){var ln=en.getModel(["axisLine","lineStyle"]),cn=getRadiusIdx(tn),un=cn?0:1,fn;an[un]===0?fn=new Circle$1({shape:{cx:tn.cx,cy:tn.cy,r:an[cn]},style:ln.getLineStyle(),z2:1,silent:!0}):fn=new Ring$1({shape:{cx:tn.cx,cy:tn.cy,r:an[cn],r0:an[un]},style:ln.getLineStyle(),z2:1,silent:!0}),fn.style.fill=null,Fe.add(fn)},axisTick:function(Fe,en,tn,nn,rn,an){var ln=en.getModel("axisTick"),cn=(ln.get("inside")?-1:1)*ln.get("length"),un=an[getRadiusIdx(tn)],fn=map$1(nn,function(hn){return new Line$3({shape:getAxisLineShape(tn,[un,un+cn],hn.coord)})});Fe.add(mergePath(fn,{style:defaults(ln.getModel("lineStyle").getLineStyle(),{stroke:en.get(["axisLine","lineStyle","color"])})}))},minorTick:function(Fe,en,tn,nn,rn,an){if(rn.length){for(var ln=en.getModel("axisTick"),cn=en.getModel("minorTick"),un=(ln.get("inside")?-1:1)*cn.get("length"),fn=an[getRadiusIdx(tn)],hn=[],pn=0;pn<rn.length;pn++)for(var gn=0;gn<rn[pn].length;gn++)hn.push(new Line$3({shape:getAxisLineShape(tn,[fn,fn+un],rn[pn][gn].coord)}));Fe.add(mergePath(hn,{style:defaults(cn.getModel("lineStyle").getLineStyle(),defaults(ln.getLineStyle(),{stroke:en.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(Fe,en,tn,nn,rn,an,ln){var cn=en.getCategories(!0),un=en.getModel("axisLabel"),fn=un.get("margin"),hn=en.get("triggerEvent");each$f(ln,function(pn,gn){var mn=un,_n=pn.tickValue,kn=an[getRadiusIdx(tn)],Cn=tn.coordToPoint([kn+fn,pn.coord]),xn=tn.cx,Sn=tn.cy,Mn=Math.abs(Cn[0]-xn)/kn<.3?"center":Cn[0]>xn?"left":"right",In=Math.abs(Cn[1]-Sn)/kn<.3?"middle":Cn[1]>Sn?"top":"bottom";if(cn&&cn[_n]){var On=cn[_n];isObject$3(On)&&On.textStyle&&(mn=new Model$1(On.textStyle,un,un.ecModel))}var Pn=new ZRText$1({silent:AxisBuilder$1.isLabelSilent(en),style:createTextStyle$1(mn,{x:Cn[0],y:Cn[1],fill:mn.getTextColor()||en.get(["axisLine","lineStyle","color"]),text:pn.formattedLabel,align:Mn,verticalAlign:In})});if(Fe.add(Pn),hn){var Tn=AxisBuilder$1.makeAxisEventDataBase(en);Tn.targetType="axisLabel",Tn.value=pn.rawLabel,getECData(Pn).eventData=Tn}},this)},splitLine:function(Fe,en,tn,nn,rn,an){var ln=en.getModel("splitLine"),cn=ln.getModel("lineStyle"),un=cn.get("color"),fn=0;un=un instanceof Array?un:[un];for(var hn=[],pn=0;pn<nn.length;pn++){var gn=fn++%un.length;hn[gn]=hn[gn]||[],hn[gn].push(new Line$3({shape:getAxisLineShape(tn,an,nn[pn].coord)}))}for(var pn=0;pn<hn.length;pn++)Fe.add(mergePath(hn[pn],{style:defaults({stroke:un[pn%un.length]},cn.getLineStyle()),silent:!0,z:en.get("z")}))},minorSplitLine:function(Fe,en,tn,nn,rn,an){if(rn.length){for(var ln=en.getModel("minorSplitLine"),cn=ln.getModel("lineStyle"),un=[],fn=0;fn<rn.length;fn++)for(var hn=0;hn<rn[fn].length;hn++)un.push(new Line$3({shape:getAxisLineShape(tn,an,rn[fn][hn].coord)}));Fe.add(mergePath(un,{style:cn.getLineStyle(),silent:!0,z:en.get("z")}))}},splitArea:function(Fe,en,tn,nn,rn,an){if(nn.length){var ln=en.getModel("splitArea"),cn=ln.getModel("areaStyle"),un=cn.get("color"),fn=0;un=un instanceof Array?un:[un];for(var hn=[],pn=Math.PI/180,gn=-nn[0].coord*pn,mn=Math.min(an[0],an[1]),_n=Math.max(an[0],an[1]),kn=en.get("clockwise"),Cn=1,xn=nn.length;Cn<=xn;Cn++){var Sn=Cn===xn?nn[0].coord:nn[Cn].coord,Mn=fn++%un.length;hn[Mn]=hn[Mn]||[],hn[Mn].push(new Sector$1({shape:{cx:tn.cx,cy:tn.cy,r0:mn,r:_n,startAngle:gn,endAngle:-Sn*pn,clockwise:kn},silent:!0})),gn=-Sn*pn}for(var Cn=0;Cn<hn.length;Cn++)Fe.add(mergePath(hn[Cn],{style:defaults({fill:un[Cn%un.length]},cn.getAreaStyle()),silent:!0}))}}};const AngleAxisView$1=AngleAxisView;var axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.axisPointerClass="PolarAxisPointer",tn}return en.prototype.render=function(tn,nn){if(this.group.removeAll(),!!tn.get("show")){var rn=this._axisGroup,an=this._axisGroup=new Group$4;this.group.add(an);var ln=tn.axis,cn=ln.polar,un=cn.getAngleAxis(),fn=ln.getTicksCoords(),hn=ln.getMinorTicksCoords(),pn=un.getExtent()[0],gn=ln.getExtent(),mn=layoutAxis(cn,tn,pn),_n=new AxisBuilder$1(tn,mn);each$f(axisBuilderAttrs$1,_n.add,_n),an.add(_n.getGroup()),groupTransition(rn,an,tn),each$f(selfBuilderAttrs$1,function(kn){tn.get([kn,"show"])&&!ln.scale.isBlank()&&axisElementBuilders$1[kn](this.group,tn,cn,pn,gn,fn,hn)},this)}},en.type="radiusAxis",en}(AxisView$1),axisElementBuilders$1={splitLine:function(Fe,en,tn,nn,rn,an){var ln=en.getModel("splitLine"),cn=ln.getModel("lineStyle"),un=cn.get("color"),fn=0;un=un instanceof Array?un:[un];for(var hn=[],pn=0;pn<an.length;pn++){var gn=fn++%un.length;hn[gn]=hn[gn]||[],hn[gn].push(new Circle$1({shape:{cx:tn.cx,cy:tn.cy,r:Math.max(an[pn].coord,0)}}))}for(var pn=0;pn<hn.length;pn++)Fe.add(mergePath(hn[pn],{style:defaults({stroke:un[pn%un.length],fill:null},cn.getLineStyle()),silent:!0}))},minorSplitLine:function(Fe,en,tn,nn,rn,an,ln){if(ln.length){for(var cn=en.getModel("minorSplitLine"),un=cn.getModel("lineStyle"),fn=[],hn=0;hn<ln.length;hn++)for(var pn=0;pn<ln[hn].length;pn++)fn.push(new Circle$1({shape:{cx:tn.cx,cy:tn.cy,r:ln[hn][pn].coord}}));Fe.add(mergePath(fn,{style:defaults({fill:null},un.getLineStyle()),silent:!0}))}},splitArea:function(Fe,en,tn,nn,rn,an){if(an.length){var ln=en.getModel("splitArea"),cn=ln.getModel("areaStyle"),un=cn.get("color"),fn=0;un=un instanceof Array?un:[un];for(var hn=[],pn=an[0].coord,gn=1;gn<an.length;gn++){var mn=fn++%un.length;hn[mn]=hn[mn]||[],hn[mn].push(new Sector$1({shape:{cx:tn.cx,cy:tn.cy,r0:pn,r:an[gn].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),pn=an[gn].coord}for(var gn=0;gn<hn.length;gn++)Fe.add(mergePath(hn[gn],{style:defaults({fill:un[gn%un.length]},cn.getAreaStyle()),silent:!0}))}}};function layoutAxis(Fe,en,tn){return{position:[Fe.cx,Fe.cy],rotation:tn/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:en.getModel("axisLabel").get("rotate"),z2:1}}const RadiusAxisView$1=RadiusAxisView;function getSeriesStackId(Fe){return Fe.get("stack")||"__ec_stack_"+Fe.seriesIndex}function getAxisKey(Fe,en){return en.dim+Fe.model.componentIndex}function barLayoutPolar(Fe,en,tn){var nn={},rn=calRadialBar(filter(en.getSeriesByType(Fe),function(an){return!en.isSeriesFiltered(an)&&an.coordinateSystem&&an.coordinateSystem.type==="polar"}));en.eachSeriesByType(Fe,function(an){if(an.coordinateSystem.type==="polar"){var ln=an.getData(),cn=an.coordinateSystem,un=cn.getBaseAxis(),fn=getAxisKey(cn,un),hn=getSeriesStackId(an),pn=rn[fn][hn],gn=pn.offset,mn=pn.width,_n=cn.getOtherAxis(un),kn=an.coordinateSystem.cx,Cn=an.coordinateSystem.cy,xn=an.get("barMinHeight")||0,Sn=an.get("barMinAngle")||0;nn[hn]=nn[hn]||[];for(var Mn=ln.mapDimension(_n.dim),In=ln.mapDimension(un.dim),On=isDimensionStacked(ln,Mn),Pn=un.dim!=="radius"||!an.get("roundCap",!0),Tn=_n.dataToCoord(0),Nn=0,Hn=ln.count();Nn<Hn;Nn++){var Un=ln.get(Mn,Nn),jn=ln.get(In,Nn),Yn=Un>=0?"p":"n",Wn=Tn;On&&(nn[hn][jn]||(nn[hn][jn]={p:Tn,n:Tn}),Wn=nn[hn][jn][Yn]);var Qn=void 0,Xn=void 0,jr=void 0,Wr=void 0;if(_n.dim==="radius"){var Jr=_n.dataToCoord(Un)-Tn,ci=un.dataToCoord(jn);Math.abs(Jr)<xn&&(Jr=(Jr<0?-1:1)*xn),Qn=Wn,Xn=Wn+Jr,jr=ci-gn,Wr=jr-mn,On&&(nn[hn][jn][Yn]=Xn)}else{var ti=_n.dataToCoord(Un,Pn)-Tn,Zr=un.dataToCoord(jn);Math.abs(ti)<Sn&&(ti=(ti<0?-1:1)*Sn),Qn=Zr+gn,Xn=Qn+mn,jr=Wn,Wr=Wn+ti,On&&(nn[hn][jn][Yn]=Wr)}ln.setItemLayout(Nn,{cx:kn,cy:Cn,r0:Qn,r:Xn,startAngle:-jr*Math.PI/180,endAngle:-Wr*Math.PI/180,clockwise:jr>=Wr})}}})}function calRadialBar(Fe){var en={};each$f(Fe,function(nn,rn){var an=nn.getData(),ln=nn.coordinateSystem,cn=ln.getBaseAxis(),un=getAxisKey(ln,cn),fn=cn.getExtent(),hn=cn.type==="category"?cn.getBandWidth():Math.abs(fn[1]-fn[0])/an.count(),pn=en[un]||{bandWidth:hn,remainedWidth:hn,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},gn=pn.stacks;en[un]=pn;var mn=getSeriesStackId(nn);gn[mn]||pn.autoWidthCount++,gn[mn]=gn[mn]||{width:0,maxWidth:0};var _n=parsePercent(nn.get("barWidth"),hn),kn=parsePercent(nn.get("barMaxWidth"),hn),Cn=nn.get("barGap"),xn=nn.get("barCategoryGap");_n&&!gn[mn].width&&(_n=Math.min(pn.remainedWidth,_n),gn[mn].width=_n,pn.remainedWidth-=_n),kn&&(gn[mn].maxWidth=kn),Cn!=null&&(pn.gap=Cn),xn!=null&&(pn.categoryGap=xn)});var tn={};return each$f(en,function(nn,rn){tn[rn]={};var an=nn.stacks,ln=nn.bandWidth,cn=parsePercent(nn.categoryGap,ln),un=parsePercent(nn.gap,1),fn=nn.remainedWidth,hn=nn.autoWidthCount,pn=(fn-cn)/(hn+(hn-1)*un);pn=Math.max(pn,0),each$f(an,function(kn,Cn){var xn=kn.maxWidth;xn&&xn<pn&&(xn=Math.min(xn,fn),kn.width&&(xn=Math.min(xn,kn.width)),fn-=xn,kn.width=xn,hn--)}),pn=(fn-cn)/(hn+(hn-1)*un),pn=Math.max(pn,0);var gn=0,mn;each$f(an,function(kn,Cn){kn.width||(kn.width=pn),mn=kn,gn+=kn.width*(1+un)}),mn&&(gn-=mn.width*un);var _n=-gn/2;each$f(an,function(kn,Cn){tn[rn][Cn]=tn[rn][Cn]||{offset:_n,width:kn.width},_n+=kn.width*(1+un)})}),tn}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="polar",en}(ComponentView$1);function install$o(Fe){use(install$q),AxisView$1.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$1),Fe.registerCoordinateSystem("polar",polarCreator$1),Fe.registerComponentModel(PolarModel$1),Fe.registerComponentView(PolarView),axisModelCreator(Fe,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(Fe,"radius",RadiusAxisModel,radiusAxisExtraOption),Fe.registerComponentView(AngleAxisView$1),Fe.registerComponentView(RadiusAxisView$1),Fe.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(Fe,en){en=en||{};var tn=Fe.coordinateSystem,nn=Fe.axis,rn={},an=nn.position,ln=nn.orient,cn=tn.getRect(),un=[cn.x,cn.x+cn.width,cn.y,cn.y+cn.height],fn={horizontal:{top:un[2],bottom:un[3]},vertical:{left:un[0],right:un[1]}};rn.position=[ln==="vertical"?fn.vertical[an]:un[0],ln==="horizontal"?fn.horizontal[an]:un[3]];var hn={horizontal:0,vertical:1};rn.rotation=Math.PI/2*hn[ln];var pn={top:-1,bottom:1,right:1,left:-1};rn.labelDirection=rn.tickDirection=rn.nameDirection=pn[an],Fe.get(["axisTick","inside"])&&(rn.tickDirection=-rn.tickDirection),retrieve(en.labelInside,Fe.get(["axisLabel","inside"]))&&(rn.labelDirection=-rn.labelDirection);var gn=en.rotate;return gn==null&&(gn=Fe.get(["axisLabel","rotate"])),rn.labelRotation=an==="top"?-gn:gn,rn.z2=1,rn}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.axisPointerClass="SingleAxisPointer",tn}return en.prototype.render=function(tn,nn,rn,an){var ln=this.group;ln.removeAll();var cn=this._axisGroup;this._axisGroup=new Group$4;var un=layout$1(tn),fn=new AxisBuilder$1(tn,un);each$f(axisBuilderAttrs,fn.add,fn),ln.add(this._axisGroup),ln.add(fn.getGroup()),each$f(selfBuilderAttrs,function(hn){tn.get([hn,"show"])&&axisElementBuilders[hn](this,this.group,this._axisGroup,tn)},this),groupTransition(cn,this._axisGroup,tn),Fe.prototype.render.call(this,tn,nn,rn,an)},en.prototype.remove=function(){rectCoordAxisHandleRemove(this)},en.type="singleAxis",en}(AxisView$1),axisElementBuilders={splitLine:function(Fe,en,tn,nn){var rn=nn.axis;if(!rn.scale.isBlank()){var an=nn.getModel("splitLine"),ln=an.getModel("lineStyle"),cn=ln.get("color");cn=cn instanceof Array?cn:[cn];for(var un=ln.get("width"),fn=nn.coordinateSystem.getRect(),hn=rn.isHorizontal(),pn=[],gn=0,mn=rn.getTicksCoords({tickModel:an}),_n=[],kn=[],Cn=0;Cn<mn.length;++Cn){var xn=rn.toGlobalCoord(mn[Cn].coord);hn?(_n[0]=xn,_n[1]=fn.y,kn[0]=xn,kn[1]=fn.y+fn.height):(_n[0]=fn.x,_n[1]=xn,kn[0]=fn.x+fn.width,kn[1]=xn);var Sn=new Line$3({shape:{x1:_n[0],y1:_n[1],x2:kn[0],y2:kn[1]},silent:!0});subPixelOptimizeLine(Sn.shape,un);var Mn=gn++%cn.length;pn[Mn]=pn[Mn]||[],pn[Mn].push(Sn)}for(var In=ln.getLineStyle(["color"]),Cn=0;Cn<pn.length;++Cn)en.add(mergePath(pn[Cn],{style:defaults({stroke:cn[Cn%cn.length]},In),silent:!0}))}},splitArea:function(Fe,en,tn,nn){rectCoordAxisBuildSplitArea(Fe,tn,nn,nn)}};const SingleAxisView$1=SingleAxisView;var SingleAxisModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.getCoordSysModel=function(){return this},en.type="singleAxis",en.layoutMode="box",en.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},en}(ComponentModel$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);const SingleAxisModel$1=SingleAxisModel;var SingleAxis=function(Fe){__extends(en,Fe);function en(tn,nn,rn,an,ln){var cn=Fe.call(this,tn,nn,rn)||this;return cn.type=an||"value",cn.position=ln||"bottom",cn}return en.prototype.isHorizontal=function(){var tn=this.position;return tn==="top"||tn==="bottom"},en.prototype.pointToData=function(tn,nn){return this.coordinateSystem.pointToData(tn)[0]},en}(Axis$1);const SingleAxis$1=SingleAxis;var singleDimensions=["single"],Single=function(){function Fe(en,tn,nn){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=en,this._init(en,tn,nn)}return Fe.prototype._init=function(en,tn,nn){var rn=this.dimension,an=new SingleAxis$1(rn,createScaleByModel$1(en),[0,0],en.get("type"),en.get("position")),ln=an.type==="category";an.onBand=ln&&en.get("boundaryGap"),an.inverse=en.get("inverse"),an.orient=en.get("orient"),en.axis=an,an.model=en,an.coordinateSystem=this,this._axis=an},Fe.prototype.update=function(en,tn){en.eachSeries(function(nn){if(nn.coordinateSystem===this){var rn=nn.getData();each$f(rn.mapDimensionsAll(this.dimension),function(an){this._axis.scale.unionExtentFromData(rn,an)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},Fe.prototype.resize=function(en,tn){this._rect=getLayoutRect({left:en.get("left"),top:en.get("top"),right:en.get("right"),bottom:en.get("bottom"),width:en.get("width"),height:en.get("height")},{width:tn.getWidth(),height:tn.getHeight()}),this._adjustAxis()},Fe.prototype.getRect=function(){return this._rect},Fe.prototype._adjustAxis=function(){var en=this._rect,tn=this._axis,nn=tn.isHorizontal(),rn=nn?[0,en.width]:[0,en.height],an=tn.inverse?1:0;tn.setExtent(rn[an],rn[1-an]),this._updateAxisTransform(tn,nn?en.x:en.y)},Fe.prototype._updateAxisTransform=function(en,tn){var nn=en.getExtent(),rn=nn[0]+nn[1],an=en.isHorizontal();en.toGlobalCoord=an?function(ln){return ln+tn}:function(ln){return rn-ln+tn},en.toLocalCoord=an?function(ln){return ln-tn}:function(ln){return rn-ln+tn}},Fe.prototype.getAxis=function(){return this._axis},Fe.prototype.getBaseAxis=function(){return this._axis},Fe.prototype.getAxes=function(){return[this._axis]},Fe.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},Fe.prototype.containPoint=function(en){var tn=this.getRect(),nn=this.getAxis(),rn=nn.orient;return rn==="horizontal"?nn.contain(nn.toLocalCoord(en[0]))&&en[1]>=tn.y&&en[1]<=tn.y+tn.height:nn.contain(nn.toLocalCoord(en[1]))&&en[0]>=tn.y&&en[0]<=tn.y+tn.height},Fe.prototype.pointToData=function(en){var tn=this.getAxis();return[tn.coordToData(tn.toLocalCoord(en[tn.orient==="horizontal"?0:1]))]},Fe.prototype.dataToPoint=function(en){var tn=this.getAxis(),nn=this.getRect(),rn=[],an=tn.orient==="horizontal"?0:1;return en instanceof Array&&(en=en[0]),rn[an]=tn.toGlobalCoord(tn.dataToCoord(+en)),rn[1-an]=an===0?nn.y+nn.height/2:nn.x+nn.width/2,rn},Fe.prototype.convertToPixel=function(en,tn,nn){var rn=getCoordSys$1(tn);return rn===this?this.dataToPoint(nn):null},Fe.prototype.convertFromPixel=function(en,tn,nn){var rn=getCoordSys$1(tn);return rn===this?this.pointToData(nn):null},Fe}();function getCoordSys$1(Fe){var en=Fe.seriesModel,tn=Fe.singleAxisModel;return tn&&tn.coordinateSystem||en&&en.coordinateSystem}function create(Fe,en){var tn=[];return Fe.eachComponent("singleAxis",function(nn,rn){var an=new Single(nn,Fe,en);an.name="single_"+rn,an.resize(nn,en),nn.coordinateSystem=an,tn.push(an)}),Fe.eachSeries(function(nn){if(nn.get("coordinateSystem")==="singleAxis"){var rn=nn.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];nn.coordinateSystem=rn&&rn.coordinateSystem}}),tn}var singleCreator={create,dimensions:singleDimensions};const singleCreator$1=singleCreator;var XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.makeElOption=function(tn,nn,rn,an,ln){var cn=rn.axis,un=cn.coordinateSystem,fn=getGlobalExtent(un,1-getPointDimIndex(cn)),hn=un.dataToPoint(nn)[0],pn=an.get("type");if(pn&&pn!=="none"){var gn=buildElStyle(an),mn=pointerShapeBuilder[pn](cn,hn,fn);mn.style=gn,tn.graphicKey=mn.type,tn.pointer=mn}var _n=layout$1(rn);buildCartesianSingleLabelElOption(nn,tn,_n,rn,an,ln)},en.prototype.getHandleTransform=function(tn,nn,rn){var an=layout$1(nn,{labelInside:!1});an.labelMargin=rn.get(["handle","margin"]);var ln=getTransformedPosition(nn.axis,tn,an);return{x:ln[0],y:ln[1],rotation:an.rotation+(an.labelDirection<0?Math.PI:0)}},en.prototype.updateHandleTransform=function(tn,nn,rn,an){var ln=rn.axis,cn=ln.coordinateSystem,un=getPointDimIndex(ln),fn=getGlobalExtent(cn,un),hn=[tn.x,tn.y];hn[un]+=nn[un],hn[un]=Math.min(fn[1],hn[un]),hn[un]=Math.max(fn[0],hn[un]);var pn=getGlobalExtent(cn,1-un),gn=(pn[1]+pn[0])/2,mn=[gn,gn];return mn[un]=hn[un],{x:hn[0],y:hn[1],rotation:tn.rotation,cursorPoint:mn,tooltipOption:{verticalAlign:"middle"}}},en}(BaseAxisPointer$1),pointerShapeBuilder={line:function(Fe,en,tn){var nn=makeLineShape([en,tn[0]],[en,tn[1]],getPointDimIndex(Fe));return{type:"Line",subPixelOptimize:!0,shape:nn}},shadow:function(Fe,en,tn){var nn=Fe.getBandWidth(),rn=tn[1]-tn[0];return{type:"Rect",shape:makeRectShape([en-nn/2,tn[0]],[nn,rn],getPointDimIndex(Fe))}}};function getPointDimIndex(Fe){return Fe.isHorizontal()?0:1}function getGlobalExtent(Fe,en){var tn=Fe.getRect();return[tn[XY$1[en]],tn[XY$1[en]]+tn[WH$1[en]]]}const SingleAxisPointer$1=SingleAxisPointer;var SingleView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="single",en}(ComponentView$1);function install$n(Fe){use(install$q),AxisView$1.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$1),Fe.registerComponentView(SingleView),Fe.registerComponentView(SingleAxisView$1),Fe.registerComponentModel(SingleAxisModel$1),axisModelCreator(Fe,"single",SingleAxisModel$1,SingleAxisModel$1.defaultOption),Fe.registerCoordinateSystem("single",singleCreator$1)}var CalendarModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(tn,nn,rn){var an=getLayoutParams(tn);Fe.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(tn,an)},en.prototype.mergeOption=function(tn){Fe.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,tn)},en.prototype.getCellSize=function(){return this.option.cellSize},en.type="calendar",en.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},en}(ComponentModel$1);function mergeAndNormalizeLayoutParams$1(Fe,en){var tn=Fe.cellSize,nn;isArray$1(tn)?nn=tn:nn=Fe.cellSize=[tn,tn],nn.length===1&&(nn[1]=nn[0]);var rn=map$1([0,1],function(an){return sizeCalculable(en,an)&&(nn[an]="auto"),nn[an]!=null&&nn[an]!=="auto"});mergeLayoutParam(Fe,en,{type:"box",ignoreSize:rn})}const CalendarModel$1=CalendarModel;var CalendarView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){var an=this.group;an.removeAll();var ln=tn.coordinateSystem,cn=ln.getRangeInfo(),un=ln.getOrient(),fn=nn.getLocaleModel();this._renderDayRect(tn,cn,an),this._renderLines(tn,cn,un,an),this._renderYearText(tn,cn,un,an),this._renderMonthText(tn,fn,un,an),this._renderWeekText(tn,fn,cn,un,an)},en.prototype._renderDayRect=function(tn,nn,rn){for(var an=tn.coordinateSystem,ln=tn.getModel("itemStyle").getItemStyle(),cn=an.getCellWidth(),un=an.getCellHeight(),fn=nn.start.time;fn<=nn.end.time;fn=an.getNextNDay(fn,1).time){var hn=an.dataToRect([fn],!1).tl,pn=new Rect$3({shape:{x:hn[0],y:hn[1],width:cn,height:un},cursor:"default",style:ln});rn.add(pn)}},en.prototype._renderLines=function(tn,nn,rn,an){var ln=this,cn=tn.coordinateSystem,un=tn.getModel(["splitLine","lineStyle"]).getLineStyle(),fn=tn.get(["splitLine","show"]),hn=un.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var pn=nn.start,gn=0;pn.time<=nn.end.time;gn++){_n(pn.formatedDate),gn===0&&(pn=cn.getDateInfo(nn.start.y+"-"+nn.start.m));var mn=pn.date;mn.setMonth(mn.getMonth()+1),pn=cn.getDateInfo(mn)}_n(cn.getNextNDay(nn.end.time,1).formatedDate);function _n(kn){ln._firstDayOfMonth.push(cn.getDateInfo(kn)),ln._firstDayPoints.push(cn.dataToRect([kn],!1).tl);var Cn=ln._getLinePointsOfOneWeek(tn,kn,rn);ln._tlpoints.push(Cn[0]),ln._blpoints.push(Cn[Cn.length-1]),fn&&ln._drawSplitline(Cn,un,an)}fn&&this._drawSplitline(ln._getEdgesPoints(ln._tlpoints,hn,rn),un,an),fn&&this._drawSplitline(ln._getEdgesPoints(ln._blpoints,hn,rn),un,an)},en.prototype._getEdgesPoints=function(tn,nn,rn){var an=[tn[0].slice(),tn[tn.length-1].slice()],ln=rn==="horizontal"?0:1;return an[0][ln]=an[0][ln]-nn/2,an[1][ln]=an[1][ln]+nn/2,an},en.prototype._drawSplitline=function(tn,nn,rn){var an=new Polyline$3({z2:20,shape:{points:tn},style:nn});rn.add(an)},en.prototype._getLinePointsOfOneWeek=function(tn,nn,rn){for(var an=tn.coordinateSystem,ln=an.getDateInfo(nn),cn=[],un=0;un<7;un++){var fn=an.getNextNDay(ln.time,un),hn=an.dataToRect([fn.time],!1);cn[2*fn.day]=hn.tl,cn[2*fn.day+1]=hn[rn==="horizontal"?"bl":"tr"]}return cn},en.prototype._formatterLabel=function(tn,nn){return isString(tn)&&tn?formatTplSimple(tn,nn):isFunction(tn)?tn(nn):nn.nameMap},en.prototype._yearTextPositionControl=function(tn,nn,rn,an,ln){var cn=nn[0],un=nn[1],fn=["center","bottom"];an==="bottom"?(un+=ln,fn=["center","top"]):an==="left"?cn-=ln:an==="right"?(cn+=ln,fn=["center","top"]):un-=ln;var hn=0;return(an==="left"||an==="right")&&(hn=Math.PI/2),{rotation:hn,x:cn,y:un,style:{align:fn[0],verticalAlign:fn[1]}}},en.prototype._renderYearText=function(tn,nn,rn,an){var ln=tn.getModel("yearLabel");if(ln.get("show")){var cn=ln.get("margin"),un=ln.get("position");un||(un=rn!=="horizontal"?"top":"left");var fn=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],hn=(fn[0][0]+fn[1][0])/2,pn=(fn[0][1]+fn[1][1])/2,gn=rn==="horizontal"?0:1,mn={top:[hn,fn[gn][1]],bottom:[hn,fn[1-gn][1]],left:[fn[1-gn][0],pn],right:[fn[gn][0],pn]},_n=nn.start.y;+nn.end.y>+nn.start.y&&(_n=_n+"-"+nn.end.y);var kn=ln.get("formatter"),Cn={start:nn.start.y,end:nn.end.y,nameMap:_n},xn=this._formatterLabel(kn,Cn),Sn=new ZRText$1({z2:30,style:createTextStyle$1(ln,{text:xn})});Sn.attr(this._yearTextPositionControl(Sn,mn[un],rn,un,cn)),an.add(Sn)}},en.prototype._monthTextPositionControl=function(tn,nn,rn,an,ln){var cn="left",un="top",fn=tn[0],hn=tn[1];return rn==="horizontal"?(hn=hn+ln,nn&&(cn="center"),an==="start"&&(un="bottom")):(fn=fn+ln,nn&&(un="middle"),an==="start"&&(cn="right")),{x:fn,y:hn,align:cn,verticalAlign:un}},en.prototype._renderMonthText=function(tn,nn,rn,an){var ln=tn.getModel("monthLabel");if(ln.get("show")){var cn=ln.get("nameMap"),un=ln.get("margin"),fn=ln.get("position"),hn=ln.get("align"),pn=[this._tlpoints,this._blpoints];(!cn||isString(cn))&&(cn&&(nn=getLocaleModel(cn)||nn),cn=nn.get(["time","monthAbbr"])||[]);var gn=fn==="start"?0:1,mn=rn==="horizontal"?0:1;un=fn==="start"?-un:un;for(var _n=hn==="center",kn=0;kn<pn[gn].length-1;kn++){var Cn=pn[gn][kn].slice(),xn=this._firstDayOfMonth[kn];if(_n){var Sn=this._firstDayPoints[kn];Cn[mn]=(Sn[mn]+pn[0][kn+1][mn])/2}var Mn=ln.get("formatter"),In=cn[+xn.m-1],On={yyyy:xn.y,yy:(xn.y+"").slice(2),MM:xn.m,M:+xn.m,nameMap:In},Pn=this._formatterLabel(Mn,On),Tn=new ZRText$1({z2:30,style:extend$1(createTextStyle$1(ln,{text:Pn}),this._monthTextPositionControl(Cn,_n,rn,fn,un))});an.add(Tn)}}},en.prototype._weekTextPositionControl=function(tn,nn,rn,an,ln){var cn="center",un="middle",fn=tn[0],hn=tn[1],pn=rn==="start";return nn==="horizontal"?(fn=fn+an+(pn?1:-1)*ln[0]/2,cn=pn?"right":"left"):(hn=hn+an+(pn?1:-1)*ln[1]/2,un=pn?"bottom":"top"),{x:fn,y:hn,align:cn,verticalAlign:un}},en.prototype._renderWeekText=function(tn,nn,rn,an,ln){var cn=tn.getModel("dayLabel");if(cn.get("show")){var un=tn.coordinateSystem,fn=cn.get("position"),hn=cn.get("nameMap"),pn=cn.get("margin"),gn=un.getFirstDayOfWeek();if(!hn||isString(hn)){hn&&(nn=getLocaleModel(hn)||nn);var mn=nn.get(["time","dayOfWeekShort"]);hn=mn||map$1(nn.get(["time","dayOfWeekAbbr"]),function(On){return On[0]})}var _n=un.getNextNDay(rn.end.time,7-rn.lweek).time,kn=[un.getCellWidth(),un.getCellHeight()];pn=parsePercent(pn,Math.min(kn[1],kn[0])),fn==="start"&&(_n=un.getNextNDay(rn.start.time,-(7+rn.fweek)).time,pn=-pn);for(var Cn=0;Cn<7;Cn++){var xn=un.getNextNDay(_n,Cn),Sn=un.dataToRect([xn.time],!1).center,Mn=Cn;Mn=Math.abs((Cn+gn)%7);var In=new ZRText$1({z2:30,style:extend$1(createTextStyle$1(cn,{text:hn[Mn]}),this._weekTextPositionControl(Sn,an,fn,pn,kn))});ln.add(In)}}},en.type="calendar",en}(ComponentView$1);const CalendarView$1=CalendarView;var PROXIMATE_ONE_DAY=864e5,Calendar=function(){function Fe(en,tn,nn){this.type="calendar",this.dimensions=Fe.dimensions,this.getDimensionsInfo=Fe.getDimensionsInfo,this._model=en}return Fe.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},Fe.prototype.getRangeInfo=function(){return this._rangeInfo},Fe.prototype.getModel=function(){return this._model},Fe.prototype.getRect=function(){return this._rect},Fe.prototype.getCellWidth=function(){return this._sw},Fe.prototype.getCellHeight=function(){return this._sh},Fe.prototype.getOrient=function(){return this._orient},Fe.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},Fe.prototype.getDateInfo=function(en){en=parseDate(en);var tn=en.getFullYear(),nn=en.getMonth()+1,rn=nn<10?"0"+nn:""+nn,an=en.getDate(),ln=an<10?"0"+an:""+an,cn=en.getDay();return cn=Math.abs((cn+7-this.getFirstDayOfWeek())%7),{y:tn+"",m:rn,d:ln,day:cn,time:en.getTime(),formatedDate:tn+"-"+rn+"-"+ln,date:en}},Fe.prototype.getNextNDay=function(en,tn){return tn=tn||0,tn===0?this.getDateInfo(en):(en=new Date(this.getDateInfo(en).time),en.setDate(en.getDate()+tn),this.getDateInfo(en))},Fe.prototype.update=function(en,tn){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var nn=this._rangeInfo.weeks||1,rn=["width","height"],an=this._model.getCellSize().slice(),ln=this._model.getBoxLayoutParams(),cn=this._orient==="horizontal"?[nn,7]:[7,nn];each$f([0,1],function(pn){hn(an,pn)&&(ln[rn[pn]]=an[pn]*cn[pn])});var un={width:tn.getWidth(),height:tn.getHeight()},fn=this._rect=getLayoutRect(ln,un);each$f([0,1],function(pn){hn(an,pn)||(an[pn]=fn[rn[pn]]/cn[pn])});function hn(pn,gn){return pn[gn]!=null&&pn[gn]!=="auto"}this._sw=an[0],this._sh=an[1]},Fe.prototype.dataToPoint=function(en,tn){isArray$1(en)&&(en=en[0]),tn==null&&(tn=!0);var nn=this.getDateInfo(en),rn=this._rangeInfo,an=nn.formatedDate;if(tn&&!(nn.time>=rn.start.time&&nn.time<rn.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var ln=nn.day,cn=this._getRangeInfo([rn.start.time,an]).nthWeek;return this._orient==="vertical"?[this._rect.x+ln*this._sw+this._sw/2,this._rect.y+cn*this._sh+this._sh/2]:[this._rect.x+cn*this._sw+this._sw/2,this._rect.y+ln*this._sh+this._sh/2]},Fe.prototype.pointToData=function(en){var tn=this.pointToDate(en);return tn&&tn.time},Fe.prototype.dataToRect=function(en,tn){var nn=this.dataToPoint(en,tn);return{contentShape:{x:nn[0]-(this._sw-this._lineWidth)/2,y:nn[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:nn,tl:[nn[0]-this._sw/2,nn[1]-this._sh/2],tr:[nn[0]+this._sw/2,nn[1]-this._sh/2],br:[nn[0]+this._sw/2,nn[1]+this._sh/2],bl:[nn[0]-this._sw/2,nn[1]+this._sh/2]}},Fe.prototype.pointToDate=function(en){var tn=Math.floor((en[0]-this._rect.x)/this._sw)+1,nn=Math.floor((en[1]-this._rect.y)/this._sh)+1,rn=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(nn,tn-1,rn):this._getDateByWeeksAndDay(tn,nn-1,rn)},Fe.prototype.convertToPixel=function(en,tn,nn){var rn=getCoordSys(tn);return rn===this?rn.dataToPoint(nn):null},Fe.prototype.convertFromPixel=function(en,tn,nn){var rn=getCoordSys(tn);return rn===this?rn.pointToData(nn):null},Fe.prototype.containPoint=function(en){return console.warn("Not implemented."),!1},Fe.prototype._initRangeOption=function(){var en=this._model.get("range"),tn;if(isArray$1(en)&&en.length===1&&(en=en[0]),isArray$1(en))tn=en;else{var nn=en.toString();if(/^\d{4}$/.test(nn)&&(tn=[nn+"-01-01",nn+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(nn)){var rn=this.getDateInfo(nn),an=rn.date;an.setMonth(an.getMonth()+1);var ln=this.getNextNDay(an,-1);tn=[rn.formatedDate,ln.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(nn)&&(tn=[nn,nn])}if(!tn)return en;var cn=this._getRangeInfo(tn);return cn.start.time>cn.end.time&&tn.reverse(),tn},Fe.prototype._getRangeInfo=function(en){var tn=[this.getDateInfo(en[0]),this.getDateInfo(en[1])],nn;tn[0].time>tn[1].time&&(nn=!0,tn.reverse());var rn=Math.floor(tn[1].time/PROXIMATE_ONE_DAY)-Math.floor(tn[0].time/PROXIMATE_ONE_DAY)+1,an=new Date(tn[0].time),ln=an.getDate(),cn=tn[1].date.getDate();an.setDate(ln+rn-1);var un=an.getDate();if(un!==cn)for(var fn=an.getTime()-tn[1].time>0?1:-1;(un=an.getDate())!==cn&&(an.getTime()-tn[1].time)*fn>0;)rn-=fn,an.setDate(un-fn);var hn=Math.floor((rn+tn[0].day+6)/7),pn=nn?-hn+1:hn-1;return nn&&tn.reverse(),{range:[tn[0].formatedDate,tn[1].formatedDate],start:tn[0],end:tn[1],allDay:rn,weeks:hn,nthWeek:pn,fweek:tn[0].day,lweek:tn[1].day}},Fe.prototype._getDateByWeeksAndDay=function(en,tn,nn){var rn=this._getRangeInfo(nn);if(en>rn.weeks||en===0&&tn<rn.fweek||en===rn.weeks&&tn>rn.lweek)return null;var an=(en-1)*7-rn.fweek+tn,ln=new Date(rn.start.time);return ln.setDate(+rn.start.d+an),this.getDateInfo(ln)},Fe.create=function(en,tn){var nn=[];return en.eachComponent("calendar",function(rn){var an=new Fe(rn);nn.push(an),rn.coordinateSystem=an}),en.eachSeries(function(rn){rn.get("coordinateSystem")==="calendar"&&(rn.coordinateSystem=nn[rn.get("calendarIndex")||0])}),nn},Fe.dimensions=["time","value"],Fe}();function getCoordSys(Fe){var en=Fe.calendarModel,tn=Fe.seriesModel,nn=en?en.coordinateSystem:tn?tn.coordinateSystem:null;return nn}const Calendar$1=Calendar;function install$m(Fe){Fe.registerComponentModel(CalendarModel$1),Fe.registerComponentView(CalendarView$1),Fe.registerCoordinateSystem("calendar",Calendar$1)}function setKeyInfoToNewElOption(Fe,en){var tn=Fe.existing;if(en.id=Fe.keyInfo.id,!en.type&&tn&&(en.type=tn.type),en.parentId==null){var nn=en.parentOption;nn?en.parentId=nn.id:tn&&(en.parentId=tn.parentId)}en.parentOption=null}function isSetLoc(Fe,en){var tn;return each$f(en,function(nn){Fe[nn]!=null&&Fe[nn]!=="auto"&&(tn=!0)}),tn}function mergeNewElOptionToExist(Fe,en,tn){var nn=extend$1({},tn),rn=Fe[en],an=tn.$action||"merge";an==="merge"?rn?(merge(rn,nn,!0),mergeLayoutParam(rn,nn,{ignoreSize:!0}),copyLayoutParams(tn,rn),copyTransitionInfo(tn,rn),copyTransitionInfo(tn,rn,"shape"),copyTransitionInfo(tn,rn,"style"),copyTransitionInfo(tn,rn,"extra"),tn.clipPath=rn.clipPath):Fe[en]=nn:an==="replace"?Fe[en]=nn:an==="remove"&&rn&&(Fe[en]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(Fe,en,tn){if(tn&&(!Fe[tn]&&en[tn]&&(Fe[tn]={}),Fe=Fe[tn],en=en[tn]),!(!Fe||!en))for(var nn=tn?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,rn=0;rn<nn.length;rn++){var an=nn[rn];Fe[an]==null&&en[an]!=null&&(Fe[an]=en[an])}}function setLayoutInfoToExist(Fe,en){if(Fe&&(Fe.hv=en.hv=[isSetLoc(en,["left","right"]),isSetLoc(en,["top","bottom"])],Fe.type==="group")){var tn=Fe,nn=en;tn.width==null&&(tn.width=nn.width=0),tn.height==null&&(tn.height=nn.height=0)}}var GraphicComponentModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.preventAutoZ=!0,tn}return en.prototype.mergeOption=function(tn,nn){var rn=this.option.elements;this.option.elements=null,Fe.prototype.mergeOption.call(this,tn,nn),this.option.elements=rn},en.prototype.optionUpdated=function(tn,nn){var rn=this.option,an=(nn?rn:tn).elements,ln=rn.elements=nn?[]:rn.elements,cn=[];this._flatten(an,cn,null);var un=mappingToExists(ln,cn,"normalMerge"),fn=this._elOptionsToUpdate=[];each$f(un,function(hn,pn){var gn=hn.newOption;gn&&(fn.push(gn),setKeyInfoToNewElOption(hn,gn),mergeNewElOptionToExist(ln,pn,gn),setLayoutInfoToExist(ln[pn],gn))},this),rn.elements=filter(ln,function(hn){return hn&&delete hn.$action,hn!=null})},en.prototype._flatten=function(tn,nn,rn){each$f(tn,function(an){if(an){rn&&(an.parentOption=rn),nn.push(an);var ln=an.children;ln&&ln.length&&this._flatten(ln,nn,an),delete an.children}},this)},en.prototype.useElOptionsToUpdate=function(){var tn=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,tn},en.type="graphic",en.defaultOption={elements:[]},en}(ComponentModel$1),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$4,image:ZRImage$1,text:ZRText$1},inner$7=makeInner(),GraphicComponentView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(){this._elMap=createHashMap()},en.prototype.render=function(tn,nn,rn){tn!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=tn,this._updateElements(tn),this._relocate(tn,rn)},en.prototype._updateElements=function(tn){var nn=tn.useElOptionsToUpdate();if(nn){var rn=this._elMap,an=this.group,ln=tn.get("z"),cn=tn.get("zlevel");each$f(nn,function(un){var fn=convertOptionIdName(un.id,null),hn=fn!=null?rn.get(fn):null,pn=convertOptionIdName(un.parentId,null),gn=pn!=null?rn.get(pn):an,mn=un.type,_n=un.style;mn==="text"&&_n&&un.hv&&un.hv[1]&&(_n.textVerticalAlign=_n.textBaseline=_n.verticalAlign=_n.align=null);var kn=un.textContent,Cn=un.textConfig;if(_n&&isEC4CompatibleStyle(_n,mn,!!Cn,!!kn)){var xn=convertFromEC4CompatibleStyle(_n,mn,!0);!Cn&&xn.textConfig&&(Cn=un.textConfig=xn.textConfig),!kn&&xn.textContent&&(kn=xn.textContent)}var Sn=getCleanedElOption(un),Mn=un.$action||"merge",In=Mn==="merge",On=Mn==="replace";if(In){var Pn=!hn,Tn=hn;Pn?Tn=createEl(fn,gn,un.type,rn):(Tn&&(inner$7(Tn).isNew=!1),stopPreviousKeyframeAnimationAndRestore(Tn)),Tn&&(applyUpdateTransition(Tn,Sn,tn,{isInit:Pn}),updateCommonAttrs(Tn,un,ln,cn))}else if(On){removeEl$1(hn,un,rn,tn);var Nn=createEl(fn,gn,un.type,rn);Nn&&(applyUpdateTransition(Nn,Sn,tn,{isInit:!0}),updateCommonAttrs(Nn,un,ln,cn))}else Mn==="remove"&&(updateLeaveTo(hn,un),removeEl$1(hn,un,rn,tn));var Hn=rn.get(fn);if(Hn&&kn)if(In){var Un=Hn.getTextContent();Un?Un.attr(kn):Hn.setTextContent(new ZRText$1(kn))}else On&&Hn.setTextContent(new ZRText$1(kn));if(Hn){var jn=un.clipPath;if(jn){var Yn=jn.type,Wn=void 0,Pn=!1;if(In){var Qn=Hn.getClipPath();Pn=!Qn||inner$7(Qn).type!==Yn,Wn=Pn?newEl(Yn):Qn}else On&&(Pn=!0,Wn=newEl(Yn));Hn.setClipPath(Wn),applyUpdateTransition(Wn,jn,tn,{isInit:Pn}),applyKeyframeAnimation(Wn,jn.keyframeAnimation,tn)}var Xn=inner$7(Hn);Hn.setTextConfig(Cn),Xn.option=un,setEventData(Hn,tn,un),setTooltipConfig({el:Hn,componentModel:tn,itemName:Hn.name,itemTooltipOption:un.tooltip}),applyKeyframeAnimation(Hn,un.keyframeAnimation,tn)}})}},en.prototype._relocate=function(tn,nn){for(var rn=tn.option.elements,an=this.group,ln=this._elMap,cn=nn.getWidth(),un=nn.getHeight(),fn=["x","y"],hn=0;hn<rn.length;hn++){var pn=rn[hn],gn=convertOptionIdName(pn.id,null),mn=gn!=null?ln.get(gn):null;if(!(!mn||!mn.isGroup)){var _n=mn.parent,kn=_n===an,Cn=inner$7(mn),xn=inner$7(_n);Cn.width=parsePercent(Cn.option.width,kn?cn:xn.width)||0,Cn.height=parsePercent(Cn.option.height,kn?un:xn.height)||0}}for(var hn=rn.length-1;hn>=0;hn--){var pn=rn[hn],gn=convertOptionIdName(pn.id,null),mn=gn!=null?ln.get(gn):null;if(mn){var _n=mn.parent,xn=inner$7(_n),Sn=_n===an?{width:cn,height:un}:{width:xn.width,height:xn.height},Mn={},In=positionElement(mn,pn,Sn,null,{hv:pn.hv,boundingMode:pn.bounding},Mn);if(!inner$7(mn).isNew&&In){for(var On=pn.transition,Pn={},Tn=0;Tn<fn.length;Tn++){var Nn=fn[Tn],Hn=Mn[Nn];On&&(isTransitionAll(On)||indexOf(On,Nn)>=0)?Pn[Nn]=Hn:mn[Nn]=Hn}updateProps$1(mn,Pn,tn,0)}else mn.attr(Mn)}}},en.prototype._clear=function(){var tn=this,nn=this._elMap;nn.each(function(rn){removeEl$1(rn,inner$7(rn).option,nn,tn._lastGraphicModel)}),this._elMap=createHashMap()},en.prototype.dispose=function(){this._clear()},en.type="graphic",en}(ComponentView$1);function newEl(Fe){var en=hasOwn(nonShapeGraphicElements,Fe)?nonShapeGraphicElements[Fe]:getShapeClass(Fe),tn=new en({});return inner$7(tn).type=Fe,tn}function createEl(Fe,en,tn,nn){var rn=newEl(tn);return en.add(rn),nn.set(Fe,rn),inner$7(rn).id=Fe,inner$7(rn).isNew=!0,rn}function removeEl$1(Fe,en,tn,nn){var rn=Fe&&Fe.parent;rn&&(Fe.type==="group"&&Fe.traverse(function(an){removeEl$1(an,en,tn,nn)}),applyLeaveTransition(Fe,en,nn),tn.removeKey(inner$7(Fe).id))}function updateCommonAttrs(Fe,en,tn,nn){Fe.isGroup||each$f([["cursor",Displayable$1.prototype.cursor],["zlevel",nn||0],["z",tn||0],["z2",0]],function(rn){var an=rn[0];hasOwn(en,an)?Fe[an]=retrieve2(en[an],rn[1]):Fe[an]==null&&(Fe[an]=rn[1])}),each$f(keys(en),function(rn){if(rn.indexOf("on")===0){var an=en[rn];Fe[rn]=isFunction(an)?an:null}}),hasOwn(en,"draggable")&&(Fe.draggable=en.draggable),en.name!=null&&(Fe.name=en.name),en.id!=null&&(Fe.id=en.id)}function getCleanedElOption(Fe){return Fe=extend$1({},Fe),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(en){delete Fe[en]}),Fe}function setEventData(Fe,en,tn){var nn=getECData(Fe).eventData;!Fe.silent&&!Fe.ignore&&!nn&&(nn=getECData(Fe).eventData={componentType:"graphic",componentIndex:en.componentIndex,name:Fe.name}),nn&&(nn.info=tn.info)}function install$l(Fe){Fe.registerComponentModel(GraphicComponentModel),Fe.registerComponentView(GraphicComponentView),Fe.registerPreprocessor(function(en){var tn=en.graphic;isArray$1(tn)?!tn[0]||!tn[0].elements?en.graphic=[{elements:tn}]:en.graphic=[en.graphic[0]]:tn&&!tn.elements&&(en.graphic=[{elements:[tn]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(Fe){var en=Fe.get("coordinateSystem");return indexOf(SERIES_COORDS,en)>=0}function getAxisMainType(Fe){return Fe+"Axis"}function findEffectedDataZooms(Fe,en){var tn=createHashMap(),nn=[],rn=createHashMap();Fe.eachComponent({mainType:"dataZoom",query:en},function(hn){rn.get(hn.uid)||cn(hn)});var an;do an=!1,Fe.eachComponent("dataZoom",ln);while(an);function ln(hn){!rn.get(hn.uid)&&un(hn)&&(cn(hn),an=!0)}function cn(hn){rn.set(hn.uid,!0),nn.push(hn),fn(hn)}function un(hn){var pn=!1;return hn.eachTargetAxis(function(gn,mn){var _n=tn.get(gn);_n&&_n[mn]&&(pn=!0)}),pn}function fn(hn){hn.eachTargetAxis(function(pn,gn){(tn.get(pn)||tn.set(pn,[]))[gn]=!0})}return nn}function collectReferCoordSysModelInfo(Fe){var en=Fe.ecModel,tn={infoList:[],infoMap:createHashMap()};return Fe.eachTargetAxis(function(nn,rn){var an=en.getComponent(getAxisMainType(nn),rn);if(an){var ln=an.getCoordSysModel();if(ln){var cn=ln.uid,un=tn.infoMap.get(cn);un||(un={model:ln,axisModels:[]},tn.infoList.push(un),tn.infoMap.set(cn,un)),un.axisModels.push(an)}}}),tn}var DataZoomAxisInfo=function(){function Fe(){this.indexList=[],this.indexMap=[]}return Fe.prototype.add=function(en){this.indexMap[en]||(this.indexList.push(en),this.indexMap[en]=!0)},Fe}(),DataZoomModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn._autoThrottle=!0,tn._noTarget=!0,tn._rangePropMode=["percent","percent"],tn}return en.prototype.init=function(tn,nn,rn){var an=retrieveRawOption(tn);this.settledOption=an,this.mergeDefaultAndTheme(tn,rn),this._doInit(an)},en.prototype.mergeOption=function(tn){var nn=retrieveRawOption(tn);merge(this.option,tn,!0),merge(this.settledOption,nn,!0),this._doInit(nn)},en.prototype._doInit=function(tn){var nn=this.option;this._setDefaultThrottle(tn),this._updateRangeUse(tn);var rn=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(an,ln){this._rangePropMode[ln]==="value"&&(nn[an[0]]=rn[an[0]]=null)},this),this._resetTarget()},en.prototype._resetTarget=function(){var tn=this.get("orient",!0),nn=this._targetAxisInfoMap=createHashMap(),rn=this._fillSpecifiedTargetAxis(nn);rn?this._orient=tn||this._makeAutoOrientByTargetAxis():(this._orient=tn||"horizontal",this._fillAutoTargetAxisByOrient(nn,this._orient)),this._noTarget=!0,nn.each(function(an){an.indexList.length&&(this._noTarget=!1)},this)},en.prototype._fillSpecifiedTargetAxis=function(tn){var nn=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(rn){var an=this.getReferringComponents(getAxisMainType(rn),MULTIPLE_REFERRING);if(an.specified){nn=!0;var ln=new DataZoomAxisInfo;each$f(an.models,function(cn){ln.add(cn.componentIndex)}),tn.set(rn,ln)}},this),nn},en.prototype._fillAutoTargetAxisByOrient=function(tn,nn){var rn=this.ecModel,an=!0;if(an){var ln=nn==="vertical"?"y":"x",cn=rn.findComponents({mainType:ln+"Axis"});un(cn,ln)}if(an){var cn=rn.findComponents({mainType:"singleAxis",filter:function(hn){return hn.get("orient",!0)===nn}});un(cn,"single")}function un(fn,hn){var pn=fn[0];if(pn){var gn=new DataZoomAxisInfo;if(gn.add(pn.componentIndex),tn.set(hn,gn),an=!1,hn==="x"||hn==="y"){var mn=pn.getReferringComponents("grid",SINGLE_REFERRING).models[0];mn&&each$f(fn,function(_n){pn.componentIndex!==_n.componentIndex&&mn===_n.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&gn.add(_n.componentIndex)})}}}an&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(fn){if(an){var hn=rn.findComponents({mainType:getAxisMainType(fn),filter:function(gn){return gn.get("type",!0)==="category"}});if(hn[0]){var pn=new DataZoomAxisInfo;pn.add(hn[0].componentIndex),tn.set(fn,pn),an=!1}}},this)},en.prototype._makeAutoOrientByTargetAxis=function(){var tn;return this.eachTargetAxis(function(nn){!tn&&(tn=nn)},this),tn==="y"?"vertical":"horizontal"},en.prototype._setDefaultThrottle=function(tn){if(tn.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var nn=this.ecModel.option;this.option.throttle=nn.animation&&nn.animationDurationUpdate>0?100:20}},en.prototype._updateRangeUse=function(tn){var nn=this._rangePropMode,rn=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(an,ln){var cn=tn[an[0]]!=null,un=tn[an[1]]!=null;cn&&!un?nn[ln]="percent":!cn&&un?nn[ln]="value":rn?nn[ln]=rn[ln]:cn&&(nn[ln]="percent")})},en.prototype.noTarget=function(){return this._noTarget},en.prototype.getFirstTargetAxisModel=function(){var tn;return this.eachTargetAxis(function(nn,rn){tn==null&&(tn=this.ecModel.getComponent(getAxisMainType(nn),rn))},this),tn},en.prototype.eachTargetAxis=function(tn,nn){this._targetAxisInfoMap.each(function(rn,an){each$f(rn.indexList,function(ln){tn.call(nn,an,ln)})})},en.prototype.getAxisProxy=function(tn,nn){var rn=this.getAxisModel(tn,nn);if(rn)return rn.__dzAxisProxy},en.prototype.getAxisModel=function(tn,nn){var rn=this._targetAxisInfoMap.get(tn);if(rn&&rn.indexMap[nn])return this.ecModel.getComponent(getAxisMainType(tn),nn)},en.prototype.setRawRange=function(tn){var nn=this.option,rn=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(an){(tn[an[0]]!=null||tn[an[1]]!=null)&&(nn[an[0]]=rn[an[0]]=tn[an[0]],nn[an[1]]=rn[an[1]]=tn[an[1]])},this),this._updateRangeUse(tn)},en.prototype.setCalculatedRange=function(tn){var nn=this.option;each$f(["start","startValue","end","endValue"],function(rn){nn[rn]=tn[rn]})},en.prototype.getPercentRange=function(){var tn=this.findRepresentativeAxisProxy();if(tn)return tn.getDataPercentWindow()},en.prototype.getValueRange=function(tn,nn){if(tn==null&&nn==null){var rn=this.findRepresentativeAxisProxy();if(rn)return rn.getDataValueWindow()}else return this.getAxisProxy(tn,nn).getDataValueWindow()},en.prototype.findRepresentativeAxisProxy=function(tn){if(tn)return tn.__dzAxisProxy;for(var nn,rn=this._targetAxisInfoMap.keys(),an=0;an<rn.length;an++)for(var ln=rn[an],cn=this._targetAxisInfoMap.get(ln),un=0;un<cn.indexList.length;un++){var fn=this.getAxisProxy(ln,cn.indexList[un]);if(fn.hostedBy(this))return fn;nn||(nn=fn)}return nn},en.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},en.prototype.getOrient=function(){return this._orient},en.type="dataZoom",en.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],en.defaultOption={z:4,filterMode:"filter",start:0,end:100},en}(ComponentModel$1);function retrieveRawOption(Fe){var en={};return each$f(["start","end","startValue","endValue","throttle"],function(tn){Fe.hasOwnProperty(tn)&&(en[tn]=Fe[tn])}),en}const DataZoomModel$1=DataZoomModel;var SelectDataZoomModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="dataZoom.select",en}(DataZoomModel$1);const SelectZoomModel=SelectDataZoomModel;var DataZoomView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn,an){this.dataZoomModel=tn,this.ecModel=nn,this.api=rn},en.type="dataZoom",en}(ComponentView$1);const DataZoomView$1=DataZoomView;var SelectDataZoomView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="dataZoom.select",en}(DataZoomView$1);const SelectZoomView=SelectDataZoomView;var each$7=each$f,asc$1=asc$2,AxisProxy=function(){function Fe(en,tn,nn,rn){this._dimName=en,this._axisIndex=tn,this.ecModel=rn,this._dataZoomModel=nn}return Fe.prototype.hostedBy=function(en){return this._dataZoomModel===en},Fe.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},Fe.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},Fe.prototype.getTargetSeriesModels=function(){var en=[];return this.ecModel.eachSeries(function(tn){if(isCoordSupported(tn)){var nn=getAxisMainType(this._dimName),rn=tn.getReferringComponents(nn,SINGLE_REFERRING).models[0];rn&&this._axisIndex===rn.componentIndex&&en.push(tn)}},this),en},Fe.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},Fe.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},Fe.prototype.calculateDataWindow=function(en){var tn=this._dataExtent,nn=this.getAxisModel(),rn=nn.axis.scale,an=this._dataZoomModel.getRangePropMode(),ln=[0,100],cn=[],un=[],fn;each$7(["start","end"],function(gn,mn){var _n=en[gn],kn=en[gn+"Value"];an[mn]==="percent"?(_n==null&&(_n=ln[mn]),kn=rn.parse(linearMap$2(_n,ln,tn))):(fn=!0,kn=kn==null?tn[mn]:rn.parse(kn),_n=linearMap$2(kn,tn,ln)),un[mn]=kn==null||isNaN(kn)?tn[mn]:kn,cn[mn]=_n==null||isNaN(_n)?ln[mn]:_n}),asc$1(un),asc$1(cn);var hn=this._minMaxSpan;fn?pn(un,cn,tn,ln,!1):pn(cn,un,ln,tn,!0);function pn(gn,mn,_n,kn,Cn){var xn=Cn?"Span":"ValueSpan";sliderMove(0,gn,_n,"all",hn["min"+xn],hn["max"+xn]);for(var Sn=0;Sn<2;Sn++)mn[Sn]=linearMap$2(gn[Sn],_n,kn,!0),Cn&&(mn[Sn]=rn.parse(mn[Sn]))}return{valueWindow:un,percentWindow:cn}},Fe.prototype.reset=function(en){if(en===this._dataZoomModel){var tn=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,tn),this._updateMinMaxSpan();var nn=this.calculateDataWindow(en.settledOption);this._valueWindow=nn.valueWindow,this._percentWindow=nn.percentWindow,this._setAxisModel()}},Fe.prototype.filterData=function(en,tn){if(en!==this._dataZoomModel)return;var nn=this._dimName,rn=this.getTargetSeriesModels(),an=en.get("filterMode"),ln=this._valueWindow;if(an==="none")return;each$7(rn,function(un){var fn=un.getData(),hn=fn.mapDimensionsAll(nn);if(hn.length){if(an==="weakFilter"){var pn=fn.getStore(),gn=map$1(hn,function(mn){return fn.getDimensionIndex(mn)},fn);fn.filterSelf(function(mn){for(var _n,kn,Cn,xn=0;xn<hn.length;xn++){var Sn=pn.get(gn[xn],mn),Mn=!isNaN(Sn),In=Sn<ln[0],On=Sn>ln[1];if(Mn&&!In&&!On)return!0;Mn&&(Cn=!0),In&&(_n=!0),On&&(kn=!0)}return Cn&&_n&&kn})}else each$7(hn,function(mn){if(an==="empty")un.setData(fn=fn.map(mn,function(kn){return cn(kn)?kn:NaN}));else{var _n={};_n[mn]=ln,fn.selectRange(_n)}});each$7(hn,function(mn){fn.setApproximateExtent(ln,mn)})}});function cn(un){return un>=ln[0]&&un<=ln[1]}},Fe.prototype._updateMinMaxSpan=function(){var en=this._minMaxSpan={},tn=this._dataZoomModel,nn=this._dataExtent;each$7(["min","max"],function(rn){var an=tn.get(rn+"Span"),ln=tn.get(rn+"ValueSpan");ln!=null&&(ln=this.getAxisModel().axis.scale.parse(ln)),ln!=null?an=linearMap$2(nn[0]+ln,nn,[0,100],!0):an!=null&&(ln=linearMap$2(an,[0,100],nn,!0)-nn[0]),en[rn+"Span"]=an,en[rn+"ValueSpan"]=ln},this)},Fe.prototype._setAxisModel=function(){var en=this.getAxisModel(),tn=this._percentWindow,nn=this._valueWindow;if(tn){var rn=getPixelPrecision(nn,[0,500]);rn=Math.min(rn,20);var an=en.axis.scale.rawExtentInfo;tn[0]!==0&&an.setDeterminedMinMax("min",+nn[0].toFixed(rn)),tn[1]!==100&&an.setDeterminedMinMax("max",+nn[1].toFixed(rn)),an.freeze()}},Fe}();function calculateDataExtent(Fe,en,tn){var nn=[1/0,-1/0];each$7(tn,function(ln){unionAxisExtentFromData(nn,ln.getData(),en)});var rn=Fe.getAxisModel(),an=ensureScaleRawExtentInfo(rn.axis.scale,rn,nn).calculate();return[an.min,an.max]}const AxisProxy$1=AxisProxy;var dataZoomProcessor={getTargetSeries:function(Fe){function en(rn){Fe.eachComponent("dataZoom",function(an){an.eachTargetAxis(function(ln,cn){var un=Fe.getComponent(getAxisMainType(ln),cn);rn(ln,cn,un,an)})})}en(function(rn,an,ln,cn){ln.__dzAxisProxy=null});var tn=[];en(function(rn,an,ln,cn){ln.__dzAxisProxy||(ln.__dzAxisProxy=new AxisProxy$1(rn,an,cn,Fe),tn.push(ln.__dzAxisProxy))});var nn=createHashMap();return each$f(tn,function(rn){each$f(rn.getTargetSeriesModels(),function(an){nn.set(an.uid,an)})}),nn},overallReset:function(Fe,en){Fe.eachComponent("dataZoom",function(tn){tn.eachTargetAxis(function(nn,rn){tn.getAxisProxy(nn,rn).reset(tn)}),tn.eachTargetAxis(function(nn,rn){tn.getAxisProxy(nn,rn).filterData(tn,en)})}),Fe.eachComponent("dataZoom",function(tn){var nn=tn.findRepresentativeAxisProxy();if(nn){var rn=nn.getDataPercentWindow(),an=nn.getDataValueWindow();tn.setCalculatedRange({start:rn[0],end:rn[1],startValue:an[0],endValue:an[1]})}})}};const dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction(Fe){Fe.registerAction("dataZoom",function(en,tn){var nn=findEffectedDataZooms(tn,en);each$f(nn,function(rn){rn.setRawRange({start:en.start,end:en.end,startValue:en.startValue,endValue:en.endValue})})})}var installed$1=!1;function installCommon$1(Fe){installed$1||(installed$1=!0,Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction(Fe),Fe.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(Fe){Fe.registerComponentModel(SelectZoomModel),Fe.registerComponentView(SelectZoomView),installCommon$1(Fe)}var ToolboxFeature=function(){function Fe(){}return Fe}(),features={};function registerFeature(Fe,en){features[Fe]=en}function getFeature(Fe){return features[Fe]}var ToolboxModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.optionUpdated=function(){Fe.prototype.optionUpdated.apply(this,arguments);var tn=this.ecModel;each$f(this.option.feature,function(nn,rn){var an=getFeature(rn);an&&(an.getDefaultOption&&(an.defaultOption=an.getDefaultOption(tn)),merge(nn,an.defaultOption))})},en.type="toolbox",en.layoutMode={type:"box",ignoreSize:!0},en.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},en}(ComponentModel$1);const ToolboxModel$1=ToolboxModel;function layout(Fe,en,tn){var nn=en.getBoxLayoutParams(),rn=en.get("padding"),an={width:tn.getWidth(),height:tn.getHeight()},ln=getLayoutRect(nn,an,rn);box(en.get("orient"),Fe,en.get("itemGap"),ln.width,ln.height),positionElement(Fe,nn,an,rn)}function makeBackground(Fe,en){var tn=normalizeCssArray(en.get("padding")),nn=en.getItemStyle(["color","opacity"]);return nn.fill=en.get("backgroundColor"),Fe=new Rect$3({shape:{x:Fe.x-tn[3],y:Fe.y-tn[0],width:Fe.width+tn[1]+tn[3],height:Fe.height+tn[0]+tn[2],r:en.get("borderRadius")},style:nn,silent:!0,z2:-1}),Fe}var ToolboxView=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.render=function(tn,nn,rn,an){var ln=this.group;if(ln.removeAll(),!tn.get("show"))return;var cn=+tn.get("itemSize"),un=tn.get("orient")==="vertical",fn=tn.get("feature")||{},hn=this._features||(this._features={}),pn=[];each$f(fn,function(_n,kn){pn.push(kn)}),new DataDiffer$1(this._featureNames||[],pn).add(gn).update(gn).remove(curry$1(gn,null)).execute(),this._featureNames=pn;function gn(_n,kn){var Cn=pn[_n],xn=pn[kn],Sn=fn[Cn],Mn=new Model$1(Sn,tn,tn.ecModel),In;if(an&&an.newTitle!=null&&an.featureName===Cn&&(Sn.title=an.newTitle),Cn&&!xn){if(isUserFeatureName(Cn))In={onclick:Mn.option.onclick,featureName:Cn};else{var On=getFeature(Cn);if(!On)return;In=new On}hn[Cn]=In}else if(In=hn[xn],!In)return;In.uid=getUID("toolbox-feature"),In.model=Mn,In.ecModel=nn,In.api=rn;var Pn=In instanceof ToolboxFeature;if(!Cn&&xn){Pn&&In.dispose&&In.dispose(nn,rn);return}if(!Mn.get("show")||Pn&&In.unusable){Pn&&In.remove&&In.remove(nn,rn);return}mn(Mn,In,Cn),Mn.setIconStatus=function(Tn,Nn){var Hn=this.option,Un=this.iconPaths;Hn.iconStatus=Hn.iconStatus||{},Hn.iconStatus[Tn]=Nn,Un[Tn]&&(Nn==="emphasis"?enterEmphasis:leaveEmphasis)(Un[Tn])},In instanceof ToolboxFeature&&In.render&&In.render(Mn,nn,rn,an)}function mn(_n,kn,Cn){var xn=_n.getModel("iconStyle"),Sn=_n.getModel(["emphasis","iconStyle"]),Mn=kn instanceof ToolboxFeature&&kn.getIcons?kn.getIcons():_n.get("icon"),In=_n.get("title")||{},On,Pn;isString(Mn)?(On={},On[Cn]=Mn):On=Mn,isString(In)?(Pn={},Pn[Cn]=In):Pn=In;var Tn=_n.iconPaths={};each$f(On,function(Nn,Hn){var Un=createIcon(Nn,{},{x:-cn/2,y:-cn/2,width:cn,height:cn});Un.setStyle(xn.getItemStyle());var jn=Un.ensureState("emphasis");jn.style=Sn.getItemStyle();var Yn=new ZRText$1({style:{text:Pn[Hn],align:Sn.get("textAlign"),borderRadius:Sn.get("textBorderRadius"),padding:Sn.get("textPadding"),fill:null},ignore:!0});Un.setTextContent(Yn),setTooltipConfig({el:Un,componentModel:tn,itemName:Hn,formatterParamsExtra:{title:Pn[Hn]}}),Un.__title=Pn[Hn],Un.on("mouseover",function(){var Wn=Sn.getItemStyle(),Qn=un?tn.get("right")==null&&tn.get("left")!=="right"?"right":"left":tn.get("bottom")==null&&tn.get("top")!=="bottom"?"bottom":"top";Yn.setStyle({fill:Sn.get("textFill")||Wn.fill||Wn.stroke||"#000",backgroundColor:Sn.get("textBackgroundColor")}),Un.setTextConfig({position:Sn.get("textPosition")||Qn}),Yn.ignore=!tn.get("showTitle"),rn.enterEmphasis(this)}).on("mouseout",function(){_n.get(["iconStatus",Hn])!=="emphasis"&&rn.leaveEmphasis(this),Yn.hide()}),(_n.get(["iconStatus",Hn])==="emphasis"?enterEmphasis:leaveEmphasis)(Un),ln.add(Un),Un.on("click",bind$1(kn.onclick,kn,nn,rn,Hn)),Tn[Hn]=Un})}layout(ln,tn,rn),ln.add(makeBackground(ln.getBoundingRect(),tn)),un||ln.eachChild(function(_n){var kn=_n.__title,Cn=_n.ensureState("emphasis"),xn=Cn.textConfig||(Cn.textConfig={}),Sn=_n.getTextContent(),Mn=Sn&&Sn.ensureState("emphasis");if(Mn&&!isFunction(Mn)&&kn){var In=Mn.style||(Mn.style={}),On=getBoundingRect(kn,ZRText$1.makeFont(In)),Pn=_n.x+ln.x,Tn=_n.y+ln.y+cn,Nn=!1;Tn+On.height>rn.getHeight()&&(xn.position="top",Nn=!0);var Hn=Nn?-5-On.height:cn+10;Pn+On.width/2>rn.getWidth()?(xn.position=["100%",Hn],In.align="right"):Pn-On.width/2<0&&(xn.position=[0,Hn],In.align="left")}})},en.prototype.updateView=function(tn,nn,rn,an){each$f(this._features,function(ln){ln instanceof ToolboxFeature&&ln.updateView&&ln.updateView(ln.model,nn,rn,an)})},en.prototype.remove=function(tn,nn){each$f(this._features,function(rn){rn instanceof ToolboxFeature&&rn.remove&&rn.remove(tn,nn)}),this.group.removeAll()},en.prototype.dispose=function(tn,nn){each$f(this._features,function(rn){rn instanceof ToolboxFeature&&rn.dispose&&rn.dispose(tn,nn)})},en.type="toolbox",en}(ComponentView$1);function isUserFeatureName(Fe){return Fe.indexOf("my")===0}const ToolboxView$1=ToolboxView;var SaveAsImage=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.onclick=function(tn,nn){var rn=this.model,an=rn.get("name")||tn.get("title.0.text")||"echarts",ln=nn.getZr().painter.getType()==="svg",cn=ln?"svg":rn.get("type",!0)||"png",un=nn.getConnectedDataURL({type:cn,backgroundColor:rn.get("backgroundColor",!0)||tn.get("backgroundColor")||"#fff",connectedBackgroundColor:rn.get("connectedBackgroundColor"),excludeComponents:rn.get("excludeComponents"),pixelRatio:rn.get("pixelRatio")}),fn=env$1.browser;if(isFunction(MouseEvent)&&(fn.newEdge||!fn.ie&&!fn.edge)){var hn=document.createElement("a");hn.download=an+"."+cn,hn.target="_blank",hn.href=un;var pn=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});hn.dispatchEvent(pn)}else if(window.navigator.msSaveOrOpenBlob||ln){var gn=un.split(","),mn=gn[0].indexOf("base64")>-1,_n=ln?decodeURIComponent(gn[1]):gn[1];mn&&(_n=window.atob(_n));var kn=an+"."+cn;if(window.navigator.msSaveOrOpenBlob){for(var Cn=_n.length,xn=new Uint8Array(Cn);Cn--;)xn[Cn]=_n.charCodeAt(Cn);var Sn=new Blob([xn]);window.navigator.msSaveOrOpenBlob(Sn,kn)}else{var Mn=document.createElement("iframe");document.body.appendChild(Mn);var In=Mn.contentWindow,On=In.document;On.open("image/svg+xml","replace"),On.write(_n),On.close(),In.focus(),On.execCommand("SaveAs",!0,kn),document.body.removeChild(Mn)}}else{var Pn=rn.get("lang"),Tn='<body style="margin:0;"><img src="'+un+'" style="max-width:100%;" title="'+(Pn&&Pn[0]||"")+'" /></body>',Nn=window.open();Nn.document.write(Tn),Nn.document.title=an}},en.getDefaultOption=function(tn){var nn={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:tn.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:tn.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return nn},en}(ToolboxFeature);const SaveAsImage$1=SaveAsImage;var INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.getIcons=function(){var tn=this.model,nn=tn.get("icon"),rn={};return each$f(tn.get("type"),function(an){nn[an]&&(rn[an]=nn[an])}),rn},en.getDefaultOption=function(tn){var nn={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:tn.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return nn},en.prototype.onclick=function(tn,nn,rn){var an=this.model,ln=an.get(["seriesIndex",rn]);if(seriesOptGenreator[rn]){var cn={series:[]},un=function(pn){var gn=pn.subType,mn=pn.id,_n=seriesOptGenreator[rn](gn,mn,pn,an);_n&&(defaults(_n,pn.option),cn.series.push(_n));var kn=pn.coordinateSystem;if(kn&&kn.type==="cartesian2d"&&(rn==="line"||rn==="bar")){var Cn=kn.getAxesByScale("ordinal")[0];if(Cn){var xn=Cn.dim,Sn=xn+"Axis",Mn=pn.getReferringComponents(Sn,SINGLE_REFERRING).models[0],In=Mn.componentIndex;cn[Sn]=cn[Sn]||[];for(var On=0;On<=In;On++)cn[Sn][In]=cn[Sn][In]||{};cn[Sn][In].boundaryGap=rn==="bar"}}};each$f(radioTypes,function(pn){indexOf(pn,rn)>=0&&each$f(pn,function(gn){an.setIconStatus(gn,"normal")})}),an.setIconStatus(rn,"emphasis"),tn.eachComponent({mainType:"series",query:ln==null?null:{seriesIndex:ln}},un);var fn,hn=rn;rn==="stack"&&(fn=merge({stack:an.option.title.tiled,tiled:an.option.title.stack},an.option.title),an.get(["iconStatus",rn])!=="emphasis"&&(hn="tiled")),nn.dispatchAction({type:"changeMagicType",currentType:hn,newOption:cn,newTitle:fn,featureName:"magicType"})}},en}(ToolboxFeature),seriesOptGenreator={line:function(Fe,en,tn,nn){if(Fe==="bar")return merge({id:en,type:"line",data:tn.get("data"),stack:tn.get("stack"),markPoint:tn.get("markPoint"),markLine:tn.get("markLine")},nn.get(["option","line"])||{},!0)},bar:function(Fe,en,tn,nn){if(Fe==="line")return merge({id:en,type:"bar",data:tn.get("data"),stack:tn.get("stack"),markPoint:tn.get("markPoint"),markLine:tn.get("markLine")},nn.get(["option","bar"])||{},!0)},stack:function(Fe,en,tn,nn){var rn=tn.get("stack")===INNER_STACK_KEYWORD;if(Fe==="line"||Fe==="bar")return nn.setIconStatus("stack",rn?"normal":"emphasis"),merge({id:en,stack:rn?"":INNER_STACK_KEYWORD},nn.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(Fe,en){en.mergeOption(Fe.newOption)});const MagicType$1=MagicType;var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(Fe){var en={},tn=[],nn=[];return Fe.eachRawSeries(function(rn){var an=rn.coordinateSystem;if(an&&(an.type==="cartesian2d"||an.type==="polar")){var ln=an.getBaseAxis();if(ln.type==="category"){var cn=ln.dim+"_"+ln.index;en[cn]||(en[cn]={categoryAxis:ln,valueAxis:an.getOtherAxis(ln),series:[]},nn.push({axisDim:ln.dim,axisIndex:ln.index})),en[cn].series.push(rn)}else tn.push(rn)}else tn.push(rn)}),{seriesGroupByCategoryAxis:en,other:tn,meta:nn}}function assembleSeriesWithCategoryAxis(Fe){var en=[];return each$f(Fe,function(tn,nn){var rn=tn.categoryAxis,an=tn.valueAxis,ln=an.dim,cn=[" "].concat(map$1(tn.series,function(mn){return mn.name})),un=[rn.model.getCategories()];each$f(tn.series,function(mn){var _n=mn.getRawData();un.push(mn.getRawData().mapArray(_n.mapDimension(ln),function(kn){return kn}))});for(var fn=[cn.join(ITEM_SPLITER)],hn=0;hn<un[0].length;hn++){for(var pn=[],gn=0;gn<un.length;gn++)pn.push(un[gn][hn]);fn.push(pn.join(ITEM_SPLITER))}en.push(fn.join(`
`))}),en.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(Fe){return map$1(Fe,function(en){var tn=en.getRawData(),nn=[en.name],rn=[];return tn.each(tn.dimensions,function(){for(var an=arguments.length,ln=arguments[an-1],cn=tn.getName(ln),un=0;un<an-1;un++)rn[un]=arguments[un];nn.push((cn?cn+ITEM_SPLITER:"")+rn.join(ITEM_SPLITER))}),nn.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(Fe){var en=groupSeries(Fe);return{value:filter([assembleSeriesWithCategoryAxis(en.seriesGroupByCategoryAxis),assembleOtherSeries(en.other)],function(tn){return!!tn.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:en.meta}}function trim(Fe){return Fe.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(Fe){var en=Fe.slice(0,Fe.indexOf(`
`));if(en.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(Fe){for(var en=Fe.split(/\n+/g),tn=trim(en.shift()).split(itemSplitRegex),nn=[],rn=map$1(tn,function(un){return{name:un,data:[]}}),an=0;an<en.length;an++){var ln=trim(en[an]).split(itemSplitRegex);nn.push(ln.shift());for(var cn=0;cn<ln.length;cn++)rn[cn]&&(rn[cn].data[an]=ln[cn])}return{series:rn,categories:nn}}function parseListContents(Fe){for(var en=Fe.split(/\n+/g),tn=trim(en.shift()),nn=[],rn=0;rn<en.length;rn++){var an=trim(en[rn]);if(an){var ln=an.split(itemSplitRegex),cn="",un=void 0,fn=!1;isNaN(ln[0])?(fn=!0,cn=ln[0],ln=ln.slice(1),nn[rn]={name:cn,value:[]},un=nn[rn].value):un=nn[rn]=[];for(var hn=0;hn<ln.length;hn++)un.push(+ln[hn]);un.length===1&&(fn?nn[rn].value=un[0]:nn[rn]=un[0])}}return{name:tn,data:nn}}function parseContents(Fe,en){var tn=Fe.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),nn={series:[]};return each$f(tn,function(rn,an){if(isTSVFormat(rn)){var ln=parseTSVContents(rn),cn=en[an],un=cn.axisDim+"Axis";cn&&(nn[un]=nn[un]||[],nn[un][cn.axisIndex]={data:ln.categories},nn.series=nn.series.concat(ln.series))}else{var ln=parseListContents(rn);nn.series.push(ln)}}),nn}var DataView=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.onclick=function(tn,nn){setTimeout(function(){nn.dispatchAction({type:"hideTip"})});var rn=nn.getDom(),an=this.model;this._dom&&rn.removeChild(this._dom);var ln=document.createElement("div");ln.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",ln.style.backgroundColor=an.get("backgroundColor")||"#fff";var cn=document.createElement("h4"),un=an.get("lang")||[];cn.innerHTML=un[0]||an.get("title"),cn.style.cssText="margin:10px 20px",cn.style.color=an.get("textColor");var fn=document.createElement("div"),hn=document.createElement("textarea");fn.style.cssText="overflow:auto";var pn=an.get("optionToContent"),gn=an.get("contentToOption"),mn=getContentFromModel(tn);if(isFunction(pn)){var _n=pn(nn.getOption());isString(_n)?fn.innerHTML=_n:isDom(_n)&&fn.appendChild(_n)}else{hn.readOnly=an.get("readOnly");var kn=hn.style;kn.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",kn.color=an.get("textColor"),kn.borderColor=an.get("textareaBorderColor"),kn.backgroundColor=an.get("textareaColor"),hn.value=mn.value,fn.appendChild(hn)}var Cn=mn.meta,xn=document.createElement("div");xn.style.cssText="position:absolute;bottom:5px;left:0;right:0";var Sn="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Mn=document.createElement("div"),In=document.createElement("div");Sn+=";background-color:"+an.get("buttonColor"),Sn+=";color:"+an.get("buttonTextColor");var On=this;function Pn(){rn.removeChild(ln),On._dom=null}addEventListener(Mn,"click",Pn),addEventListener(In,"click",function(){if(gn==null&&pn!=null||gn!=null&&pn==null){Pn();return}var Tn;try{isFunction(gn)?Tn=gn(fn,nn.getOption()):Tn=parseContents(hn.value,Cn)}catch(Nn){throw Pn(),new Error("Data view format error "+Nn)}Tn&&nn.dispatchAction({type:"changeDataView",newOption:Tn}),Pn()}),Mn.innerHTML=un[1],In.innerHTML=un[2],In.style.cssText=Mn.style.cssText=Sn,!an.get("readOnly")&&xn.appendChild(In),xn.appendChild(Mn),ln.appendChild(cn),ln.appendChild(fn),ln.appendChild(xn),fn.style.height=rn.clientHeight-80+"px",rn.appendChild(ln),this._dom=ln},en.prototype.remove=function(tn,nn){this._dom&&nn.getDom().removeChild(this._dom)},en.prototype.dispose=function(tn,nn){this.remove(tn,nn)},en.getDefaultOption=function(tn){var nn={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:tn.getLocaleModel().get(["toolbox","dataView","title"]),lang:tn.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return nn},en}(ToolboxFeature);function tryMergeDataOption(Fe,en){return map$1(Fe,function(tn,nn){var rn=en&&en[nn];if(isObject$3(rn)&&!isArray$1(rn)){var an=isObject$3(tn)&&!isArray$1(tn);an||(tn={value:tn});var ln=rn.name!=null&&tn.name==null;return tn=defaults(tn,rn),ln&&delete tn.name,tn}else return tn})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(Fe,en){var tn=[];each$f(Fe.newOption.series,function(nn){var rn=en.getSeriesByName(nn.name)[0];if(!rn)tn.push(extend$1({type:"scatter"},nn));else{var an=rn.get("data");tn.push({name:nn.name,data:tryMergeDataOption(nn.data,an)})}}),en.mergeOption(defaults({series:tn},Fe.newOption))});const DataView$1=DataView;var each$6=each$f,inner$6=makeInner();function push(Fe,en){var tn=getStoreSnapshots(Fe);each$6(en,function(nn,rn){for(var an=tn.length-1;an>=0;an--){var ln=tn[an];if(ln[rn])break}if(an<0){var cn=Fe.queryComponents({mainType:"dataZoom",subType:"select",id:rn})[0];if(cn){var un=cn.getPercentRange();tn[0][rn]={dataZoomId:rn,start:un[0],end:un[1]}}}}),tn.push(en)}function pop(Fe){var en=getStoreSnapshots(Fe),tn=en[en.length-1];en.length>1&&en.pop();var nn={};return each$6(tn,function(rn,an){for(var ln=en.length-1;ln>=0;ln--)if(rn=en[ln][an],rn){nn[an]=rn;break}}),nn}function clear(Fe){inner$6(Fe).snapshots=null}function count(Fe){return getStoreSnapshots(Fe).length}function getStoreSnapshots(Fe){var en=inner$6(Fe);return en.snapshots||(en.snapshots=[{}]),en.snapshots}var RestoreOption=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.onclick=function(tn,nn){clear(tn),nn.dispatchAction({type:"restore",from:this.uid})},en.getDefaultOption=function(tn){var nn={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:tn.getLocaleModel().get(["toolbox","restore","title"])};return nn},en}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(Fe,en){en.resetOption("recreate")});const Restore=RestoreOption;var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function Fe(en,tn,nn){var rn=this;this._targetInfoList=[];var an=parseFinder(tn,en);each$f(targetInfoBuilders,function(ln,cn){(!nn||!nn.include||indexOf(nn.include,cn)>=0)&&ln(an,rn._targetInfoList)})}return Fe.prototype.setOutputRanges=function(en,tn){return this.matchOutputRanges(en,tn,function(nn,rn,an){if((nn.coordRanges||(nn.coordRanges=[])).push(rn),!nn.coordRange){nn.coordRange=rn;var ln=coordConvert[nn.brushType](0,an,rn);nn.__rangeOffset={offset:diffProcessor[nn.brushType](ln.values,nn.range,[1,1]),xyMinMax:ln.xyMinMax}}}),en},Fe.prototype.matchOutputRanges=function(en,tn,nn){each$f(en,function(rn){var an=this.findTargetInfo(rn,tn);an&&an!==!0&&each$f(an.coordSyses,function(ln){var cn=coordConvert[rn.brushType](1,ln,rn.range,!0);nn(rn,cn.values,ln,tn)})},this)},Fe.prototype.setInputRanges=function(en,tn){each$f(en,function(nn){var rn=this.findTargetInfo(nn,tn);if(nn.range=nn.range||[],rn&&rn!==!0){nn.panelId=rn.panelId;var an=coordConvert[nn.brushType](0,rn.coordSys,nn.coordRange),ln=nn.__rangeOffset;nn.range=ln?diffProcessor[nn.brushType](an.values,ln.offset,getScales(an.xyMinMax,ln.xyMinMax)):an.values}},this)},Fe.prototype.makePanelOpts=function(en,tn){return map$1(this._targetInfoList,function(nn){var rn=nn.getPanelRect();return{panelId:nn.panelId,defaultBrushType:tn?tn(nn):null,clipPath:makeRectPanelClipPath(rn),isTargetByCursor:makeRectIsTargetByCursor(rn,en,nn.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(rn)}})},Fe.prototype.controlSeries=function(en,tn,nn){var rn=this.findTargetInfo(en,nn);return rn===!0||rn&&indexOf(rn.coordSyses,tn.coordinateSystem)>=0},Fe.prototype.findTargetInfo=function(en,tn){for(var nn=this._targetInfoList,rn=parseFinder(tn,en),an=0;an<nn.length;an++){var ln=nn[an],cn=en.panelId;if(cn){if(ln.panelId===cn)return ln}else for(var un=0;un<targetInfoMatchers.length;un++)if(targetInfoMatchers[un](rn,ln))return ln}return!0},Fe}();function formatMinMax(Fe){return Fe[0]>Fe[1]&&Fe.reverse(),Fe}function parseFinder(Fe,en){return parseFinder$1(Fe,en,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(Fe,en){var tn=Fe.xAxisModels,nn=Fe.yAxisModels,rn=Fe.gridModels,an=createHashMap(),ln={},cn={};!tn&&!nn&&!rn||(each$f(tn,function(un){var fn=un.axis.grid.model;an.set(fn.id,fn),ln[fn.id]=!0}),each$f(nn,function(un){var fn=un.axis.grid.model;an.set(fn.id,fn),cn[fn.id]=!0}),each$f(rn,function(un){an.set(un.id,un),ln[un.id]=!0,cn[un.id]=!0}),an.each(function(un){var fn=un.coordinateSystem,hn=[];each$f(fn.getCartesians(),function(pn,gn){(indexOf(tn,pn.getAxis("x").model)>=0||indexOf(nn,pn.getAxis("y").model)>=0)&&hn.push(pn)}),en.push({panelId:"grid--"+un.id,gridModel:un,coordSysModel:un,coordSys:hn[0],coordSyses:hn,getPanelRect:panelRectBuilders.grid,xAxisDeclared:ln[un.id],yAxisDeclared:cn[un.id]})}))},geo:function(Fe,en){each$f(Fe.geoModels,function(tn){var nn=tn.coordinateSystem;en.push({panelId:"geo--"+tn.id,geoModel:tn,coordSysModel:tn,coordSys:nn,coordSyses:[nn],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(Fe,en){var tn=Fe.xAxisModel,nn=Fe.yAxisModel,rn=Fe.gridModel;return!rn&&tn&&(rn=tn.axis.grid.model),!rn&&nn&&(rn=nn.axis.grid.model),rn&&rn===en.gridModel},function(Fe,en){var tn=Fe.geoModel;return tn&&tn===en.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var Fe=this.coordSys,en=Fe.getBoundingRect().clone();return en.applyTransform(getTransform$1(Fe)),en}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(Fe,en,tn,nn){var rn=Fe?en.pointToData([tn[0][0],tn[1][0]],nn):en.dataToPoint([tn[0][0],tn[1][0]],nn),an=Fe?en.pointToData([tn[0][1],tn[1][1]],nn):en.dataToPoint([tn[0][1],tn[1][1]],nn),ln=[formatMinMax([rn[0],an[0]]),formatMinMax([rn[1],an[1]])];return{values:ln,xyMinMax:ln}},polygon:function(Fe,en,tn,nn){var rn=[[1/0,-1/0],[1/0,-1/0]],an=map$1(tn,function(ln){var cn=Fe?en.pointToData(ln,nn):en.dataToPoint(ln,nn);return rn[0][0]=Math.min(rn[0][0],cn[0]),rn[1][0]=Math.min(rn[1][0],cn[1]),rn[0][1]=Math.max(rn[0][1],cn[0]),rn[1][1]=Math.max(rn[1][1],cn[1]),cn});return{values:an,xyMinMax:rn}}};function axisConvert(Fe,en,tn,nn){var rn=tn.getAxis(["x","y"][Fe]),an=formatMinMax(map$1([0,1],function(cn){return en?rn.coordToData(rn.toLocalCoord(nn[cn]),!0):rn.toGlobalCoord(rn.dataToCoord(nn[cn]))})),ln=[];return ln[Fe]=an,ln[1-Fe]=[NaN,NaN],{values:an,xyMinMax:ln}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(Fe,en,tn){return[[Fe[0][0]-tn[0]*en[0][0],Fe[0][1]-tn[0]*en[0][1]],[Fe[1][0]-tn[1]*en[1][0],Fe[1][1]-tn[1]*en[1][1]]]},polygon:function(Fe,en,tn){return map$1(Fe,function(nn,rn){return[nn[0]-tn[0]*en[rn][0],nn[1]-tn[1]*en[rn][1]]})}};function axisDiffProcessor(Fe,en,tn,nn){return[en[0]-nn[Fe]*tn[0],en[1]-nn[Fe]*tn[1]]}function getScales(Fe,en){var tn=getSize(Fe),nn=getSize(en),rn=[tn[0]/nn[0],tn[1]/nn[1]];return isNaN(rn[0])&&(rn[0]=1),isNaN(rn[1])&&(rn[1]=1),rn}function getSize(Fe){return Fe?[Fe[0][1]-Fe[0][0],Fe[1][1]-Fe[1][0]]:[NaN,NaN]}const BrushTargetManager$1=BrushTargetManager;var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.render=function(tn,nn,rn,an){this._brushController||(this._brushController=new BrushController$1(rn.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(tn,nn,this,an,rn),updateBackBtnStatus(tn,nn)},en.prototype.onclick=function(tn,nn,rn){handlers[rn].call(this)},en.prototype.remove=function(tn,nn){this._brushController&&this._brushController.unmount()},en.prototype.dispose=function(tn,nn){this._brushController&&this._brushController.dispose()},en.prototype._onBrush=function(tn){var nn=tn.areas;if(!tn.isEnd||!nn.length)return;var rn={},an=this.ecModel;this._brushController.updateCovers([]);var ln=new BrushTargetManager$1(makeAxisFinder(this.model),an,{include:["grid"]});ln.matchOutputRanges(nn,an,function(fn,hn,pn){if(pn.type==="cartesian2d"){var gn=fn.brushType;gn==="rect"?(cn("x",pn,hn[0]),cn("y",pn,hn[1])):cn({lineX:"x",lineY:"y"}[gn],pn,hn)}}),push(an,rn),this._dispatchZoomAction(rn);function cn(fn,hn,pn){var gn=hn.getAxis(fn),mn=gn.model,_n=un(fn,mn,an),kn=_n.findRepresentativeAxisProxy(mn).getMinMaxSpan();(kn.minValueSpan!=null||kn.maxValueSpan!=null)&&(pn=sliderMove(0,pn.slice(),gn.scale.getExtent(),0,kn.minValueSpan,kn.maxValueSpan)),_n&&(rn[_n.id]={dataZoomId:_n.id,startValue:pn[0],endValue:pn[1]})}function un(fn,hn,pn){var gn;return pn.eachComponent({mainType:"dataZoom",subType:"select"},function(mn){var _n=mn.getAxisModel(fn,hn.componentIndex);_n&&(gn=mn)}),gn}},en.prototype._dispatchZoomAction=function(tn){var nn=[];each$5(tn,function(rn,an){nn.push(clone$4(rn))}),nn.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:nn})},en.getDefaultOption=function(tn){var nn={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:tn.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return nn},en}(ToolboxFeature),handlers={zoom:function(){var Fe=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:Fe})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(Fe){var en={xAxisIndex:Fe.get("xAxisIndex",!0),yAxisIndex:Fe.get("yAxisIndex",!0),xAxisId:Fe.get("xAxisId",!0),yAxisId:Fe.get("yAxisId",!0)};return en.xAxisIndex==null&&en.xAxisId==null&&(en.xAxisIndex="all"),en.yAxisIndex==null&&en.yAxisId==null&&(en.yAxisIndex="all"),en}function updateBackBtnStatus(Fe,en){Fe.setIconStatus("back",count(en)>1?"emphasis":"normal")}function updateZoomBtnStatus(Fe,en,tn,nn,rn){var an=tn._isZoomActive;nn&&nn.type==="takeGlobalCursor"&&(an=nn.key==="dataZoomSelect"?nn.dataZoomSelectActive:!1),tn._isZoomActive=an,Fe.setIconStatus("zoom",an?"emphasis":"normal");var ln=new BrushTargetManager$1(makeAxisFinder(Fe),en,{include:["grid"]}),cn=ln.makePanelOpts(rn,function(un){return un.xAxisDeclared&&!un.yAxisDeclared?"lineX":!un.xAxisDeclared&&un.yAxisDeclared?"lineY":"rect"});tn._brushController.setPanels(cn).enableBrush(an&&cn.length?{brushType:"auto",brushStyle:Fe.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(Fe){var en=Fe.getComponent("toolbox",0),tn=["feature","dataZoom"];if(!en||en.get(tn)==null)return;var nn=en.getModel(tn),rn=[],an=makeAxisFinder(nn),ln=parseFinder$1(Fe,an);each$5(ln.xAxisModels,function(un){return cn(un,"xAxis","xAxisIndex")}),each$5(ln.yAxisModels,function(un){return cn(un,"yAxis","yAxisIndex")});function cn(un,fn,hn){var pn=un.componentIndex,gn={type:"select",$fromToolbox:!0,filterMode:nn.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+fn+pn};gn[hn]=pn,rn.push(gn)}return rn});const DataZoom=DataZoomFeature;function install$j(Fe){Fe.registerComponentModel(ToolboxModel$1),Fe.registerComponentView(ToolboxView$1),registerFeature("saveAsImage",SaveAsImage$1),registerFeature("magicType",MagicType$1),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(install$k)}var TooltipModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="tooltip",en.dependencies=["axisPointer"],en.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},en}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(Fe){var en=Fe.get("confine");return en!=null?!!en:Fe.get("renderMode")==="richText"}function testStyle(Fe){if(env$1.domSupported){for(var en=document.documentElement.style,tn=0,nn=Fe.length;tn<nn;tn++)if(Fe[tn]in en)return Fe[tn]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(Fe,en){if(!Fe)return en;en=toCamelCase(en,!0);var tn=Fe.indexOf(en);return Fe=tn===-1?en:"-"+Fe.slice(0,tn)+"-"+en,Fe.toLowerCase()}function getComputedStyle$1(Fe,en){var tn=Fe.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(Fe);return tn?en?tn[en]:tn:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(Fe){return Fe=Fe==="left"?"right":Fe==="right"?"left":Fe==="top"?"bottom":"top",Fe}function assembleArrow(Fe,en,tn){if(!isString(tn)||tn==="inside")return"";var nn=Fe.get("backgroundColor"),rn=Fe.get("borderWidth");en=convertToColorString(en);var an=mirrorPos(tn),ln=Math.max(Math.round(rn)*1.5,6),cn="",un=CSS_TRANSFORM_VENDOR+":",fn;indexOf(["left","right"],an)>-1?(cn+="top:50%",un+="translateY(-50%) rotate("+(fn=an==="left"?-225:-45)+"deg)"):(cn+="left:50%",un+="translateX(-50%) rotate("+(fn=an==="top"?225:45)+"deg)");var hn=fn*Math.PI/180,pn=ln+rn,gn=pn*Math.abs(Math.cos(hn))+pn*Math.abs(Math.sin(hn)),mn=Math.round(((gn-Math.SQRT2*rn)/2+Math.SQRT2*rn-(gn-pn)/2)*100)/100;cn+=";"+an+":-"+mn+"px";var _n=en+" solid "+rn+"px;",kn=["position:absolute;width:"+ln+"px;height:"+ln+"px;z-index:-1;",cn+";"+un+";","border-bottom:"+_n,"border-right:"+_n,"background-color:"+nn+";"];return'<div style="'+kn.join("")+'"></div>'}function assembleTransition(Fe,en){var tn="cubic-bezier(0.23,1,0.32,1)",nn=" "+Fe/2+"s "+tn,rn="opacity"+nn+",visibility"+nn;return en||(nn=" "+Fe+"s "+tn,rn+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+nn:",left"+nn+",top"+nn),CSS_TRANSITION_VENDOR+":"+rn}function assembleTransform(Fe,en,tn){var nn=Fe.toFixed(0)+"px",rn=en.toFixed(0)+"px";if(!env$1.transformSupported)return tn?"top:"+rn+";left:"+nn+";":[["top",rn],["left",nn]];var an=env$1.transform3dSupported,ln="translate"+(an?"3d":"")+"("+nn+","+rn+(an?",0":"")+")";return tn?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+ln+";":[["top",0],["left",0],[TRANSFORM_VENDOR,ln]]}function assembleFont(Fe){var en=[],tn=Fe.get("fontSize"),nn=Fe.getTextColor();nn&&en.push("color:"+nn),en.push("font:"+Fe.getFont()),tn&&en.push("line-height:"+Math.round(tn*3/2)+"px");var rn=Fe.get("textShadowColor"),an=Fe.get("textShadowBlur")||0,ln=Fe.get("textShadowOffsetX")||0,cn=Fe.get("textShadowOffsetY")||0;return rn&&an&&en.push("text-shadow:"+ln+"px "+cn+"px "+an+"px "+rn),each$f(["decoration","align"],function(un){var fn=Fe.get(un);fn&&en.push("text-"+un+":"+fn)}),en.join(";")}function assembleCssText(Fe,en,tn){var nn=[],rn=Fe.get("transitionDuration"),an=Fe.get("backgroundColor"),ln=Fe.get("shadowBlur"),cn=Fe.get("shadowColor"),un=Fe.get("shadowOffsetX"),fn=Fe.get("shadowOffsetY"),hn=Fe.getModel("textStyle"),pn=getPaddingFromTooltipModel(Fe,"html"),gn=un+"px "+fn+"px "+ln+"px "+cn;return nn.push("box-shadow:"+gn),en&&rn&&nn.push(assembleTransition(rn,tn)),an&&nn.push("background-color:"+an),each$f(["width","color","radius"],function(mn){var _n="border-"+mn,kn=toCamelCase(_n),Cn=Fe.get(kn);Cn!=null&&nn.push(_n+":"+Cn+(mn==="color"?"":"px"))}),nn.push(assembleFont(hn)),pn!=null&&nn.push("padding:"+normalizeCssArray(pn).join("px ")+"px"),nn.join(";")+";"}function makeStyleCoord$1(Fe,en,tn,nn,rn){var an=en&&en.painter;if(tn){var ln=an&&an.getViewportRoot();ln&&transformLocalCoord(Fe,ln,document.body,nn,rn)}else{Fe[0]=nn,Fe[1]=rn;var cn=an&&an.getViewportRootOffset();cn&&(Fe[0]+=cn.offsetLeft,Fe[1]+=cn.offsetTop)}Fe[2]=Fe[0]/en.getWidth(),Fe[3]=Fe[1]/en.getHeight()}var TooltipHTMLContent=function(){function Fe(en,tn,nn){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var rn=document.createElement("div");rn.domBelongToZr=!0,this.el=rn;var an=this._zr=tn.getZr(),ln=this._appendToBody=nn&&nn.appendToBody;makeStyleCoord$1(this._styleCoord,an,ln,tn.getWidth()/2,tn.getHeight()/2),ln?document.body.appendChild(rn):en.appendChild(rn),this._container=en;var cn=this;rn.onmouseenter=function(){cn._enterable&&(clearTimeout(cn._hideTimeout),cn._show=!0),cn._inContent=!0},rn.onmousemove=function(un){if(un=un||window.event,!cn._enterable){var fn=an.handler,hn=an.painter.getViewportRoot();normalizeEvent(hn,un,!0),fn.dispatch("mousemove",un)}},rn.onmouseleave=function(){cn._inContent=!1,cn._enterable&&cn._show&&cn.hideLater(cn._hideDelay)}}return Fe.prototype.update=function(en){var tn=this._container,nn=getComputedStyle$1(tn,"position"),rn=tn.style;rn.position!=="absolute"&&nn!=="absolute"&&(rn.position="relative");var an=en.get("alwaysShowContent");an&&this._moveIfResized(),this._alwaysShowContent=an,this.el.className=en.get("className")||""},Fe.prototype.show=function(en,tn){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var nn=this.el,rn=nn.style,an=this._styleCoord;nn.innerHTML?rn.cssText=gCssText+assembleCssText(en,!this._firstShow,this._longHide)+assembleTransform(an[0],an[1],!0)+("border-color:"+convertToColorString(tn)+";")+(en.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):rn.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},Fe.prototype.setContent=function(en,tn,nn,rn,an){var ln=this.el;if(en==null){ln.innerHTML="";return}var cn="";if(isString(an)&&nn.get("trigger")==="item"&&!shouldTooltipConfine(nn)&&(cn=assembleArrow(nn,rn,an)),isString(en))ln.innerHTML=en+cn;else if(en){ln.innerHTML="",isArray$1(en)||(en=[en]);for(var un=0;un<en.length;un++)isDom(en[un])&&en[un].parentNode!==ln&&ln.appendChild(en[un]);if(cn&&ln.childNodes.length){var fn=document.createElement("div");fn.innerHTML=cn,ln.appendChild(fn)}}},Fe.prototype.setEnterable=function(en){this._enterable=en},Fe.prototype.getSize=function(){var en=this.el;return[en.offsetWidth,en.offsetHeight]},Fe.prototype.moveTo=function(en,tn){var nn=this._styleCoord;if(makeStyleCoord$1(nn,this._zr,this._appendToBody,en,tn),nn[0]!=null&&nn[1]!=null){var rn=this.el.style,an=assembleTransform(nn[0],nn[1]);each$f(an,function(ln){rn[ln[0]]=ln[1]})}},Fe.prototype._moveIfResized=function(){var en=this._styleCoord[2],tn=this._styleCoord[3];this.moveTo(en*this._zr.getWidth(),tn*this._zr.getHeight())},Fe.prototype.hide=function(){var en=this,tn=this.el.style;tn.visibility="hidden",tn.opacity="0",env$1.transform3dSupported&&(tn.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return en._longHide=!0},500)},Fe.prototype.hideLater=function(en){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(en?(this._hideDelay=en,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),en)):this.hide())},Fe.prototype.isShow=function(){return this._show},Fe.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},Fe}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function Fe(en){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=en.getZr(),makeStyleCoord(this._styleCoord,this._zr,en.getWidth()/2,en.getHeight()/2)}return Fe.prototype.update=function(en){var tn=en.get("alwaysShowContent");tn&&this._moveIfResized(),this._alwaysShowContent=tn},Fe.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},Fe.prototype.setContent=function(en,tn,nn,rn,an){var ln=this;isObject$3(en)&&throwError(""),this.el&&this._zr.remove(this.el);var cn=nn.getModel("textStyle");this.el=new ZRText$1({style:{rich:tn.richTextStyles,text:en,lineHeight:22,borderWidth:1,borderColor:rn,textShadowColor:cn.get("textShadowColor"),fill:nn.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(nn,"richText"),verticalAlign:"top",align:"left"},z:nn.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(fn){ln.el.style[fn]=nn.get(fn)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(fn){ln.el.style[fn]=cn.get(fn)||0}),this._zr.add(this.el);var un=this;this.el.on("mouseover",function(){un._enterable&&(clearTimeout(un._hideTimeout),un._show=!0),un._inContent=!0}),this.el.on("mouseout",function(){un._enterable&&un._show&&un.hideLater(un._hideDelay),un._inContent=!1})},Fe.prototype.setEnterable=function(en){this._enterable=en},Fe.prototype.getSize=function(){var en=this.el,tn=this.el.getBoundingRect(),nn=calcShadowOuterSize(en.style);return[tn.width+nn.left+nn.right,tn.height+nn.top+nn.bottom]},Fe.prototype.moveTo=function(en,tn){var nn=this.el;if(nn){var rn=this._styleCoord;makeStyleCoord(rn,this._zr,en,tn),en=rn[0],tn=rn[1];var an=nn.style,ln=mathMaxWith0(an.borderWidth||0),cn=calcShadowOuterSize(an);nn.x=en+ln+cn.left,nn.y=tn+ln+cn.top,nn.markRedraw()}},Fe.prototype._moveIfResized=function(){var en=this._styleCoord[2],tn=this._styleCoord[3];this.moveTo(en*this._zr.getWidth(),tn*this._zr.getHeight())},Fe.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},Fe.prototype.hideLater=function(en){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(en?(this._hideDelay=en,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),en)):this.hide())},Fe.prototype.isShow=function(){return this._show},Fe.prototype.dispose=function(){this._zr.remove(this.el)},Fe}();function mathMaxWith0(Fe){return Math.max(0,Fe)}function calcShadowOuterSize(Fe){var en=mathMaxWith0(Fe.shadowBlur||0),tn=mathMaxWith0(Fe.shadowOffsetX||0),nn=mathMaxWith0(Fe.shadowOffsetY||0);return{left:mathMaxWith0(en-tn),right:mathMaxWith0(en+tn),top:mathMaxWith0(en-nn),bottom:mathMaxWith0(en+nn)}}function makeStyleCoord(Fe,en,tn,nn){Fe[0]=tn,Fe[1]=nn,Fe[2]=Fe[0]/en.getWidth(),Fe[3]=Fe[1]/en.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$3({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(tn,nn){if(!(env$1.node||!nn.getDom())){var rn=tn.getComponent("tooltip"),an=this._renderMode=getTooltipRenderMode(rn.get("renderMode"));this._tooltipContent=an==="richText"?new TooltipRichContent$1(nn):new TooltipHTMLContent$1(nn.getDom(),nn,{appendToBody:rn.get("appendToBody",!0)})}},en.prototype.render=function(tn,nn,rn){if(!(env$1.node||!rn.getDom())){this.group.removeAll(),this._tooltipModel=tn,this._ecModel=nn,this._api=rn;var an=this._tooltipContent;an.update(tn),an.setEnterable(tn.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&tn.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},en.prototype._initGlobalListener=function(){var tn=this._tooltipModel,nn=tn.get("triggerOn");register("itemTooltip",this._api,bind$1(function(rn,an,ln){nn!=="none"&&(nn.indexOf(rn)>=0?this._tryShow(an,ln):rn==="leave"&&this._hide(ln))},this))},en.prototype._keepShow=function(){var tn=this._tooltipModel,nn=this._ecModel,rn=this._api,an=tn.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&an!=="none"&&an!=="click"){var ln=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!rn.isDisposed()&&ln.manuallyShowTip(tn,nn,rn,{x:ln._lastX,y:ln._lastY,dataByCoordSys:ln._lastDataByCoordSys})})}},en.prototype.manuallyShowTip=function(tn,nn,rn,an){if(!(an.from===this.uid||env$1.node||!rn.getDom())){var ln=makeDispatchAction(an,rn);this._ticket="";var cn=an.dataByCoordSys,un=findComponentReference(an,nn,rn);if(un){var fn=un.el.getBoundingRect().clone();fn.applyTransform(un.el.transform),this._tryShow({offsetX:fn.x+fn.width/2,offsetY:fn.y+fn.height/2,target:un.el,position:an.position,positionDefault:"bottom"},ln)}else if(an.tooltip&&an.x!=null&&an.y!=null){var hn=proxyRect;hn.x=an.x,hn.y=an.y,hn.update(),getECData(hn).tooltipConfig={name:null,option:an.tooltip},this._tryShow({offsetX:an.x,offsetY:an.y,target:hn},ln)}else if(cn)this._tryShow({offsetX:an.x,offsetY:an.y,position:an.position,dataByCoordSys:cn,tooltipOption:an.tooltipOption},ln);else if(an.seriesIndex!=null){if(this._manuallyAxisShowTip(tn,nn,rn,an))return;var pn=findPointFromSeries(an,nn),gn=pn.point[0],mn=pn.point[1];gn!=null&&mn!=null&&this._tryShow({offsetX:gn,offsetY:mn,target:pn.el,position:an.position,positionDefault:"bottom"},ln)}else an.x!=null&&an.y!=null&&(rn.dispatchAction({type:"updateAxisPointer",x:an.x,y:an.y}),this._tryShow({offsetX:an.x,offsetY:an.y,position:an.position,target:rn.getZr().findHover(an.x,an.y).target},ln))}},en.prototype.manuallyHideTip=function(tn,nn,rn,an){var ln=this._tooltipContent;this._tooltipModel&&ln.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,an.from!==this.uid&&this._hide(makeDispatchAction(an,rn))},en.prototype._manuallyAxisShowTip=function(tn,nn,rn,an){var ln=an.seriesIndex,cn=an.dataIndex,un=nn.getComponent("axisPointer").coordSysAxesInfo;if(!(ln==null||cn==null||un==null)){var fn=nn.getSeriesByIndex(ln);if(fn){var hn=fn.getData(),pn=buildTooltipModel([hn.getItemModel(cn),fn,(fn.coordinateSystem||{}).model],this._tooltipModel);if(pn.get("trigger")==="axis")return rn.dispatchAction({type:"updateAxisPointer",seriesIndex:ln,dataIndex:cn,position:an.position}),!0}}},en.prototype._tryShow=function(tn,nn){var rn=tn.target,an=this._tooltipModel;if(an){this._lastX=tn.offsetX,this._lastY=tn.offsetY;var ln=tn.dataByCoordSys;if(ln&&ln.length)this._showAxisTooltip(ln,tn);else if(rn){this._lastDataByCoordSys=null;var cn,un;findEventDispatcher(rn,function(fn){if(getECData(fn).dataIndex!=null)return cn=fn,!0;if(getECData(fn).tooltipConfig!=null)return un=fn,!0},!0),cn?this._showSeriesItemTooltip(tn,cn,nn):un?this._showComponentItemTooltip(tn,un,nn):this._hide(nn)}else this._lastDataByCoordSys=null,this._hide(nn)}},en.prototype._showOrMove=function(tn,nn){var rn=tn.get("showDelay");nn=bind$1(nn,this),clearTimeout(this._showTimout),rn>0?this._showTimout=setTimeout(nn,rn):nn()},en.prototype._showAxisTooltip=function(tn,nn){var rn=this._ecModel,an=this._tooltipModel,ln=[nn.offsetX,nn.offsetY],cn=buildTooltipModel([nn.tooltipOption],an),un=this._renderMode,fn=[],hn=createTooltipMarkup("section",{blocks:[],noHeader:!0}),pn=[],gn=new TooltipMarkupStyleCreator;each$f(tn,function(Sn){each$f(Sn.dataByAxis,function(Mn){var In=rn.getComponent(Mn.axisDim+"Axis",Mn.axisIndex),On=Mn.value;if(!(!In||On==null)){var Pn=getValueLabel(On,In.axis,rn,Mn.seriesDataIndices,Mn.valueLabelOpt),Tn=createTooltipMarkup("section",{header:Pn,noHeader:!trim$1(Pn),sortBlocks:!0,blocks:[]});hn.blocks.push(Tn),each$f(Mn.seriesDataIndices,function(Nn){var Hn=rn.getSeriesByIndex(Nn.seriesIndex),Un=Nn.dataIndexInside,jn=Hn.getDataParams(Un);if(!(jn.dataIndex<0)){jn.axisDim=Mn.axisDim,jn.axisIndex=Mn.axisIndex,jn.axisType=Mn.axisType,jn.axisId=Mn.axisId,jn.axisValue=getAxisRawValue(In.axis,{value:On}),jn.axisValueLabel=Pn,jn.marker=gn.makeTooltipMarker("item",convertToColorString(jn.color),un);var Yn=normalizeTooltipFormatResult(Hn.formatTooltip(Un,!0,null)),Wn=Yn.frag;if(Wn){var Qn=buildTooltipModel([Hn],an).get("valueFormatter");Tn.blocks.push(Qn?extend$1({valueFormatter:Qn},Wn):Wn)}Yn.text&&pn.push(Yn.text),fn.push(jn)}})}})}),hn.blocks.reverse(),pn.reverse();var mn=nn.position,_n=cn.get("order"),kn=buildTooltipMarkup(hn,gn,un,_n,rn.get("useUTC"),cn.get("textStyle"));kn&&pn.unshift(kn);var Cn=un==="richText"?`

`:"<br/>",xn=pn.join(Cn);this._showOrMove(cn,function(){this._updateContentNotChangedOnAxis(tn,fn)?this._updatePosition(cn,mn,ln[0],ln[1],this._tooltipContent,fn):this._showTooltipContent(cn,xn,fn,Math.random()+"",ln[0],ln[1],mn,null,gn)})},en.prototype._showSeriesItemTooltip=function(tn,nn,rn){var an=this._ecModel,ln=getECData(nn),cn=ln.seriesIndex,un=an.getSeriesByIndex(cn),fn=ln.dataModel||un,hn=ln.dataIndex,pn=ln.dataType,gn=fn.getData(pn),mn=this._renderMode,_n=tn.positionDefault,kn=buildTooltipModel([gn.getItemModel(hn),fn,un&&(un.coordinateSystem||{}).model],this._tooltipModel,_n?{position:_n}:null),Cn=kn.get("trigger");if(!(Cn!=null&&Cn!=="item")){var xn=fn.getDataParams(hn,pn),Sn=new TooltipMarkupStyleCreator;xn.marker=Sn.makeTooltipMarker("item",convertToColorString(xn.color),mn);var Mn=normalizeTooltipFormatResult(fn.formatTooltip(hn,!1,pn)),In=kn.get("order"),On=kn.get("valueFormatter"),Pn=Mn.frag,Tn=Pn?buildTooltipMarkup(On?extend$1({valueFormatter:On},Pn):Pn,Sn,mn,In,an.get("useUTC"),kn.get("textStyle")):Mn.text,Nn="item_"+fn.name+"_"+hn;this._showOrMove(kn,function(){this._showTooltipContent(kn,Tn,xn,Nn,tn.offsetX,tn.offsetY,tn.position,tn.target,Sn)}),rn({type:"showTip",dataIndexInside:hn,dataIndex:gn.getRawIndex(hn),seriesIndex:cn,from:this.uid})}},en.prototype._showComponentItemTooltip=function(tn,nn,rn){var an=getECData(nn),ln=an.tooltipConfig,cn=ln.option||{};if(isString(cn)){var un=cn;cn={content:un,formatter:un}}var fn=[cn],hn=this._ecModel.getComponent(an.componentMainType,an.componentIndex);hn&&fn.push(hn),fn.push({formatter:cn.content});var pn=tn.positionDefault,gn=buildTooltipModel(fn,this._tooltipModel,pn?{position:pn}:null),mn=gn.get("content"),_n=Math.random()+"",kn=new TooltipMarkupStyleCreator;this._showOrMove(gn,function(){var Cn=clone$4(gn.get("formatterParams")||{});this._showTooltipContent(gn,mn,Cn,_n,tn.offsetX,tn.offsetY,tn.position,nn,kn)}),rn({type:"showTip",from:this.uid})},en.prototype._showTooltipContent=function(tn,nn,rn,an,ln,cn,un,fn,hn){if(this._ticket="",!(!tn.get("showContent")||!tn.get("show"))){var pn=this._tooltipContent;pn.setEnterable(tn.get("enterable"));var gn=tn.get("formatter");un=un||tn.get("position");var mn=nn,_n=this._getNearestPoint([ln,cn],rn,tn.get("trigger"),tn.get("borderColor")),kn=_n.color;if(gn)if(isString(gn)){var Cn=tn.ecModel.get("useUTC"),xn=isArray$1(rn)?rn[0]:rn,Sn=xn&&xn.axisType&&xn.axisType.indexOf("time")>=0;mn=gn,Sn&&(mn=format$1(xn.axisValue,mn,Cn)),mn=formatTpl(mn,rn,!0)}else if(isFunction(gn)){var Mn=bind$1(function(In,On){In===this._ticket&&(pn.setContent(On,hn,tn,kn,un),this._updatePosition(tn,un,ln,cn,pn,rn,fn))},this);this._ticket=an,mn=gn(rn,an,Mn)}else mn=gn;pn.setContent(mn,hn,tn,kn,un),pn.show(tn,kn),this._updatePosition(tn,un,ln,cn,pn,rn,fn)}},en.prototype._getNearestPoint=function(tn,nn,rn,an){if(rn==="axis"||isArray$1(nn))return{color:an||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(nn))return{color:an||nn.color||nn.borderColor}},en.prototype._updatePosition=function(tn,nn,rn,an,ln,cn,un){var fn=this._api.getWidth(),hn=this._api.getHeight();nn=nn||tn.get("position");var pn=ln.getSize(),gn=tn.get("align"),mn=tn.get("verticalAlign"),_n=un&&un.getBoundingRect().clone();if(un&&_n.applyTransform(un.transform),isFunction(nn)&&(nn=nn([rn,an],cn,ln.el,_n,{viewSize:[fn,hn],contentSize:pn.slice()})),isArray$1(nn))rn=parsePercent(nn[0],fn),an=parsePercent(nn[1],hn);else if(isObject$3(nn)){var kn=nn;kn.width=pn[0],kn.height=pn[1];var Cn=getLayoutRect(kn,{width:fn,height:hn});rn=Cn.x,an=Cn.y,gn=null,mn=null}else if(isString(nn)&&un){var xn=calcTooltipPosition(nn,_n,pn,tn.get("borderWidth"));rn=xn[0],an=xn[1]}else{var xn=refixTooltipPosition(rn,an,ln,fn,hn,gn?null:20,mn?null:20);rn=xn[0],an=xn[1]}if(gn&&(rn-=isCenterAlign(gn)?pn[0]/2:gn==="right"?pn[0]:0),mn&&(an-=isCenterAlign(mn)?pn[1]/2:mn==="bottom"?pn[1]:0),shouldTooltipConfine(tn)){var xn=confineTooltipPosition(rn,an,ln,fn,hn);rn=xn[0],an=xn[1]}ln.moveTo(rn,an)},en.prototype._updateContentNotChangedOnAxis=function(tn,nn){var rn=this._lastDataByCoordSys,an=this._cbParamsList,ln=!!rn&&rn.length===tn.length;return ln&&each$f(rn,function(cn,un){var fn=cn.dataByAxis||[],hn=tn[un]||{},pn=hn.dataByAxis||[];ln=ln&&fn.length===pn.length,ln&&each$f(fn,function(gn,mn){var _n=pn[mn]||{},kn=gn.seriesDataIndices||[],Cn=_n.seriesDataIndices||[];ln=ln&&gn.value===_n.value&&gn.axisType===_n.axisType&&gn.axisId===_n.axisId&&kn.length===Cn.length,ln&&each$f(kn,function(xn,Sn){var Mn=Cn[Sn];ln=ln&&xn.seriesIndex===Mn.seriesIndex&&xn.dataIndex===Mn.dataIndex}),an&&each$f(gn.seriesDataIndices,function(xn){var Sn=xn.seriesIndex,Mn=nn[Sn],In=an[Sn];Mn&&In&&In.data!==Mn.data&&(ln=!1)})})}),this._lastDataByCoordSys=tn,this._cbParamsList=nn,!!ln},en.prototype._hide=function(tn){this._lastDataByCoordSys=null,tn({type:"hideTip",from:this.uid})},en.prototype.dispose=function(tn,nn){env$1.node||!nn.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",nn))},en.type="tooltip",en}(ComponentView$1);function buildTooltipModel(Fe,en,tn){var nn=en.ecModel,rn;tn?(rn=new Model$1(tn,nn,nn),rn=new Model$1(en.option,rn,nn)):rn=en;for(var an=Fe.length-1;an>=0;an--){var ln=Fe[an];ln&&(ln instanceof Model$1&&(ln=ln.get("tooltip",!0)),isString(ln)&&(ln={formatter:ln}),ln&&(rn=new Model$1(ln,rn,nn)))}return rn}function makeDispatchAction(Fe,en){return Fe.dispatchAction||bind$1(en.dispatchAction,en)}function refixTooltipPosition(Fe,en,tn,nn,rn,an,ln){var cn=tn.getSize(),un=cn[0],fn=cn[1];return an!=null&&(Fe+un+an+2>nn?Fe-=un+an:Fe+=an),ln!=null&&(en+fn+ln>rn?en-=fn+ln:en+=ln),[Fe,en]}function confineTooltipPosition(Fe,en,tn,nn,rn){var an=tn.getSize(),ln=an[0],cn=an[1];return Fe=Math.min(Fe+ln,nn)-ln,en=Math.min(en+cn,rn)-cn,Fe=Math.max(Fe,0),en=Math.max(en,0),[Fe,en]}function calcTooltipPosition(Fe,en,tn,nn){var rn=tn[0],an=tn[1],ln=Math.ceil(Math.SQRT2*nn)+8,cn=0,un=0,fn=en.width,hn=en.height;switch(Fe){case"inside":cn=en.x+fn/2-rn/2,un=en.y+hn/2-an/2;break;case"top":cn=en.x+fn/2-rn/2,un=en.y-an-ln;break;case"bottom":cn=en.x+fn/2-rn/2,un=en.y+hn+ln;break;case"left":cn=en.x-rn-ln,un=en.y+hn/2-an/2;break;case"right":cn=en.x+fn+ln,un=en.y+hn/2-an/2}return[cn,un]}function isCenterAlign(Fe){return Fe==="center"||Fe==="middle"}function findComponentReference(Fe,en,tn){var nn=preParseFinder(Fe).queryOptionMap,rn=nn.keys()[0];if(!(!rn||rn==="series")){var an=queryReferringComponents(en,rn,nn.get(rn),{useDefault:!1,enableAll:!1,enableNone:!1}),ln=an.models[0];if(ln){var cn=tn.getViewOfComponentModel(ln),un;if(cn.group.traverse(function(fn){var hn=getECData(fn).tooltipConfig;if(hn&&hn.name===Fe.name)return un=fn,!0}),un)return{componentMainType:rn,componentIndex:ln.componentIndex,el:un}}}}const TooltipView$1=TooltipView;function install$i(Fe){use(install$q),Fe.registerComponentModel(TooltipModel$1),Fe.registerComponentView(TooltipView$1),Fe.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),Fe.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(Fe,en){var tn=normalizeToArray(Fe?Fe.brush:[]);if(tn.length){var nn=[];each$f(tn,function(un){var fn=un.hasOwnProperty("toolbox")?un.toolbox:[];fn instanceof Array&&(nn=nn.concat(fn))});var rn=Fe&&Fe.toolbox;isArray$1(rn)&&(rn=rn[0]),rn||(rn={feature:{}},Fe.toolbox=[rn]);var an=rn.feature||(rn.feature={}),ln=an.brush||(an.brush={}),cn=ln.type||(ln.type=[]);cn.push.apply(cn,nn),removeDuplicate(cn),en&&!cn.length&&cn.push.apply(cn,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(Fe){var en={};each$f(Fe,function(tn){en[tn]=1}),Fe.length=0,each$f(en,function(tn,nn){Fe.push(nn)})}var each$4=each$f;function hasKeys(Fe){if(Fe){for(var en in Fe)if(Fe.hasOwnProperty(en))return!0}}function createVisualMappings(Fe,en,tn){var nn={};return each$4(en,function(an){var ln=nn[an]=rn();each$4(Fe[an],function(cn,un){if(VisualMapping$1.isValidType(un)){var fn={type:un,visual:cn};tn&&tn(fn,an),ln[un]=new VisualMapping$1(fn),un==="opacity"&&(fn=clone$4(fn),fn.type="colorAlpha",ln.__hidden.__alphaForOpacity=new VisualMapping$1(fn))}})}),nn;function rn(){var an=function(){};an.prototype.__hidden=an.prototype;var ln=new an;return ln}}function replaceVisualOption(Fe,en,tn){var nn;each$f(tn,function(rn){en.hasOwnProperty(rn)&&hasKeys(en[rn])&&(nn=!0)}),nn&&each$f(tn,function(rn){en.hasOwnProperty(rn)&&hasKeys(en[rn])?Fe[rn]=clone$4(en[rn]):delete Fe[rn]})}function applyVisual(Fe,en,tn,nn,rn,an){var ln={};each$f(Fe,function(pn){var gn=VisualMapping$1.prepareVisualTypes(en[pn]);ln[pn]=gn});var cn;function un(pn){return getItemVisualFromData(tn,cn,pn)}function fn(pn,gn){setItemVisualFromData(tn,cn,pn,gn)}an==null?tn.each(hn):tn.each([an],hn);function hn(pn,gn){cn=an==null?pn:gn;var mn=tn.getRawDataItem(cn);if(!(mn&&mn.visualMap===!1))for(var _n=nn.call(rn,pn),kn=en[_n],Cn=ln[_n],xn=0,Sn=Cn.length;xn<Sn;xn++){var Mn=Cn[xn];kn[Mn]&&kn[Mn].applyVisual(pn,un,fn)}}}function incrementalApplyVisual(Fe,en,tn,nn){var rn={};return each$f(Fe,function(an){var ln=VisualMapping$1.prepareVisualTypes(en[an]);rn[an]=ln}),{progress:function(ln,cn){var un;nn!=null&&(un=cn.getDimensionIndex(nn));function fn(On){return getItemVisualFromData(cn,pn,On)}function hn(On,Pn){setItemVisualFromData(cn,pn,On,Pn)}for(var pn,gn=cn.getStore();(pn=ln.next())!=null;){var mn=cn.getRawDataItem(pn);if(!(mn&&mn.visualMap===!1))for(var _n=nn!=null?gn.get(un,pn):pn,kn=tn(_n),Cn=en[kn],xn=rn[kn],Sn=0,Mn=xn.length;Sn<Mn;Sn++){var In=xn[Sn];Cn[In]&&Cn[In].applyVisual(_n,fn,hn)}}}}}function makeBrushCommonSelectorForSeries(Fe){var en=Fe.brushType,tn={point:function(nn){return selector[en].point(nn,tn,Fe)},rect:function(nn){return selector[en].rect(nn,tn,Fe)}};return tn}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(Fe,en,tn){return Fe&&tn.boundingRect.contain(Fe[0],Fe[1])},rect:function(Fe,en,tn){return Fe&&tn.boundingRect.intersect(Fe)}},polygon:{point:function(Fe,en,tn){return Fe&&tn.boundingRect.contain(Fe[0],Fe[1])&&contain(tn.range,Fe[0],Fe[1])},rect:function(Fe,en,tn){var nn=tn.range;if(!Fe||nn.length<=1)return!1;var rn=Fe.x,an=Fe.y,ln=Fe.width,cn=Fe.height,un=nn[0];if(contain(nn,rn,an)||contain(nn,rn+ln,an)||contain(nn,rn,an+cn)||contain(nn,rn+ln,an+cn)||BoundingRect$1.create(Fe).contain(un[0],un[1])||linePolygonIntersect(rn,an,rn+ln,an,nn)||linePolygonIntersect(rn,an,rn,an+cn,nn)||linePolygonIntersect(rn+ln,an,rn+ln,an+cn,nn)||linePolygonIntersect(rn,an+cn,rn+ln,an+cn,nn))return!0}}};function getLineSelectors(Fe){var en=["x","y"],tn=["width","height"];return{point:function(nn,rn,an){if(nn){var ln=an.range,cn=nn[Fe];return inLineRange(cn,ln)}},rect:function(nn,rn,an){if(nn){var ln=an.range,cn=[nn[en[Fe]],nn[en[Fe]]+nn[tn[Fe]]];return cn[1]<cn[0]&&cn.reverse(),inLineRange(cn[0],ln)||inLineRange(cn[1],ln)||inLineRange(ln[0],cn)||inLineRange(ln[1],cn)}}}}function inLineRange(Fe,en){return en[0]<=Fe&&Fe<=en[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(Fe){Fe.eachComponent({mainType:"brush"},function(en){var tn=en.brushTargetManager=new BrushTargetManager$1(en.option,Fe);tn.setInputRanges(en.areas,Fe)})}function brushVisual(Fe,en,tn){var nn=[],rn,an;Fe.eachComponent({mainType:"brush"},function(ln){tn&&tn.type==="takeGlobalCursor"&&ln.setBrushOption(tn.key==="brush"?tn.brushOption:{brushType:!1})}),layoutCovers(Fe),Fe.eachComponent({mainType:"brush"},function(ln,cn){var un={brushId:ln.id,brushIndex:cn,brushName:ln.name,areas:clone$4(ln.areas),selected:[]};nn.push(un);var fn=ln.option,hn=fn.brushLink,pn=[],gn=[],mn=[],_n=!1;cn||(rn=fn.throttleType,an=fn.throttleDelay);var kn=map$1(ln.areas,function(On){var Pn=boundingRectBuilders[On.brushType],Tn=defaults({boundingRect:Pn?Pn(On):void 0},On);return Tn.selectors=makeBrushCommonSelectorForSeries(Tn),Tn}),Cn=createVisualMappings(ln.option,STATE_LIST,function(On){On.mappingMethod="fixed"});isArray$1(hn)&&each$f(hn,function(On){pn[On]=1});function xn(On){return hn==="all"||!!pn[On]}function Sn(On){return!!On.length}Fe.eachSeries(function(On,Pn){var Tn=mn[Pn]=[];On.subType==="parallel"?Mn(On,Pn):In(On,Pn,Tn)});function Mn(On,Pn){var Tn=On.coordinateSystem;_n=_n||Tn.hasAxisBrushed(),xn(Pn)&&Tn.eachActiveState(On.getData(),function(Nn,Hn){Nn==="active"&&(gn[Hn]=1)})}function In(On,Pn,Tn){if(!(!On.brushSelector||brushModelNotControll(ln,Pn))&&(each$f(kn,function(Hn){ln.brushTargetManager.controlSeries(Hn,On,Fe)&&Tn.push(Hn),_n=_n||Sn(Tn)}),xn(Pn)&&Sn(Tn))){var Nn=On.getData();Nn.each(function(Hn){checkInRange(On,Tn,Nn,Hn)&&(gn[Hn]=1)})}}Fe.eachSeries(function(On,Pn){var Tn={seriesId:On.id,seriesIndex:Pn,seriesName:On.name,dataIndex:[]};un.selected.push(Tn);var Nn=mn[Pn],Hn=On.getData(),Un=xn(Pn)?function(jn){return gn[jn]?(Tn.dataIndex.push(Hn.getRawIndex(jn)),"inBrush"):"outOfBrush"}:function(jn){return checkInRange(On,Nn,Hn,jn)?(Tn.dataIndex.push(Hn.getRawIndex(jn)),"inBrush"):"outOfBrush"};(xn(Pn)?_n:Sn(Nn))&&applyVisual(STATE_LIST,Cn,Hn,Un)})}),dispatchAction$1(en,rn,an,nn,tn)}function dispatchAction$1(Fe,en,tn,nn,rn){if(rn){var an=Fe.getZr();if(!an[DISPATCH_FLAG]){an[DISPATCH_METHOD]||(an[DISPATCH_METHOD]=doDispatch);var ln=createOrUpdate(an,DISPATCH_METHOD,tn,en);ln(Fe,nn)}}}function doDispatch(Fe,en){if(!Fe.isDisposed()){var tn=Fe.getZr();tn[DISPATCH_FLAG]=!0,Fe.dispatchAction({type:"brushSelect",batch:en}),tn[DISPATCH_FLAG]=!1}}function checkInRange(Fe,en,tn,nn){for(var rn=0,an=en.length;rn<an;rn++){var ln=en[rn];if(Fe.brushSelector(nn,tn,ln.selectors,ln))return!0}}function brushModelNotControll(Fe,en){var tn=Fe.option.seriesIndex;return tn!=null&&tn!=="all"&&(isArray$1(tn)?indexOf(tn,en)<0:en!==tn)}var boundingRectBuilders={rect:function(Fe){return getBoundingRectFromMinMax(Fe.range)},polygon:function(Fe){for(var en,tn=Fe.range,nn=0,rn=tn.length;nn<rn;nn++){en=en||[[1/0,-1/0],[1/0,-1/0]];var an=tn[nn];an[0]<en[0][0]&&(en[0][0]=an[0]),an[0]>en[0][1]&&(en[0][1]=an[0]),an[1]<en[1][0]&&(en[1][0]=an[1]),an[1]>en[1][1]&&(en[1][1]=an[1])}return en&&getBoundingRectFromMinMax(en)}};function getBoundingRectFromMinMax(Fe){return new BoundingRect$1(Fe[0][0],Fe[1][0],Fe[0][1]-Fe[0][0],Fe[1][1]-Fe[1][0])}var BrushView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(tn,nn){this.ecModel=tn,this.api=nn,this.model,(this._brushController=new BrushController$1(nn.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},en.prototype.render=function(tn,nn,rn,an){this.model=tn,this._updateController(tn,nn,rn,an)},en.prototype.updateTransform=function(tn,nn,rn,an){layoutCovers(nn),this._updateController(tn,nn,rn,an)},en.prototype.updateVisual=function(tn,nn,rn,an){this.updateTransform(tn,nn,rn,an)},en.prototype.updateView=function(tn,nn,rn,an){this._updateController(tn,nn,rn,an)},en.prototype._updateController=function(tn,nn,rn,an){(!an||an.$from!==tn.id)&&this._brushController.setPanels(tn.brushTargetManager.makePanelOpts(rn)).enableBrush(tn.brushOption).updateCovers(tn.areas.slice())},en.prototype.dispose=function(){this._brushController.dispose()},en.prototype._onBrush=function(tn){var nn=this.model.id,rn=this.model.brushTargetManager.setOutputRanges(tn.areas,this.ecModel);(!tn.isEnd||tn.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:nn,areas:clone$4(rn),$from:nn}),tn.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:nn,areas:clone$4(rn),$from:nn})},en.type="brush",en}(ComponentView$1);const BrushView$1=BrushView;var DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.areas=[],tn.brushOption={},tn}return en.prototype.optionUpdated=function(tn,nn){var rn=this.option;!nn&&replaceVisualOption(rn,tn,["inBrush","outOfBrush"]);var an=rn.inBrush=rn.inBrush||{};rn.outOfBrush=rn.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},an.hasOwnProperty("liftZ")||(an.liftZ=5)},en.prototype.setAreas=function(tn){tn&&(this.areas=map$1(tn,function(nn){return generateBrushOption(this.option,nn)},this))},en.prototype.setBrushOption=function(tn){this.brushOption=generateBrushOption(this.option,tn),this.brushType=this.brushOption.brushType},en.type="brush",en.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],en.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},en}(ComponentModel$1);function generateBrushOption(Fe,en){return merge({brushType:Fe.brushType,brushMode:Fe.brushMode,transformable:Fe.transformable,brushStyle:new Model$1(Fe.brushStyle).getItemStyle(),removeOnClick:Fe.removeOnClick,z:Fe.z},en,!0)}const BrushModel$1=BrushModel;var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(Fe){__extends(en,Fe);function en(){return Fe!==null&&Fe.apply(this,arguments)||this}return en.prototype.render=function(tn,nn,rn){var an,ln,cn;nn.eachComponent({mainType:"brush"},function(un){an=un.brushType,ln=un.brushOption.brushMode||"single",cn=cn||!!un.areas.length}),this._brushType=an,this._brushMode=ln,each$f(tn.get("type",!0),function(un){tn.setIconStatus(un,(un==="keep"?ln==="multiple":un==="clear"?cn:un===an)?"emphasis":"normal")})},en.prototype.updateView=function(tn,nn,rn){this.render(tn,nn,rn)},en.prototype.getIcons=function(){var tn=this.model,nn=tn.get("icon",!0),rn={};return each$f(tn.get("type",!0),function(an){nn[an]&&(rn[an]=nn[an])}),rn},en.prototype.onclick=function(tn,nn,rn){var an=this._brushType,ln=this._brushMode;rn==="clear"?(nn.dispatchAction({type:"axisAreaSelect",intervals:[]}),nn.dispatchAction({type:"brush",command:"clear",areas:[]})):nn.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:rn==="keep"?an:an===rn?!1:rn,brushMode:rn==="keep"?ln==="multiple"?"single":"multiple":ln}})},en.getDefaultOption=function(tn){var nn={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:tn.getLocaleModel().get(["toolbox","brush","title"])};return nn},en}(ToolboxFeature);const BrushFeature$1=BrushFeature;function install$h(Fe){Fe.registerComponentView(BrushView$1),Fe.registerComponentModel(BrushModel$1),Fe.registerPreprocessor(brushPreprocessor),Fe.registerVisual(Fe.PRIORITY.VISUAL.BRUSH,brushVisual),Fe.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(en,tn){tn.eachComponent({mainType:"brush",query:en},function(nn){nn.setAreas(en.areas)})}),Fe.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),Fe.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature$1)}var TitleModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.layoutMode={type:"box",ignoreSize:!0},tn}return en.type="title",en.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},en}(ComponentModel$1),TitleView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.render=function(tn,nn,rn){if(this.group.removeAll(),!!tn.get("show")){var an=this.group,ln=tn.getModel("textStyle"),cn=tn.getModel("subtextStyle"),un=tn.get("textAlign"),fn=retrieve2(tn.get("textBaseline"),tn.get("textVerticalAlign")),hn=new ZRText$1({style:createTextStyle$1(ln,{text:tn.get("text"),fill:ln.getTextColor()},{disableBox:!0}),z2:10}),pn=hn.getBoundingRect(),gn=tn.get("subtext"),mn=new ZRText$1({style:createTextStyle$1(cn,{text:gn,fill:cn.getTextColor(),y:pn.height+tn.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_n=tn.get("link"),kn=tn.get("sublink"),Cn=tn.get("triggerEvent",!0);hn.silent=!_n&&!Cn,mn.silent=!kn&&!Cn,_n&&hn.on("click",function(){windowOpen(_n,"_"+tn.get("target"))}),kn&&mn.on("click",function(){windowOpen(kn,"_"+tn.get("subtarget"))}),getECData(hn).eventData=getECData(mn).eventData=Cn?{componentType:"title",componentIndex:tn.componentIndex}:null,an.add(hn),gn&&an.add(mn);var xn=an.getBoundingRect(),Sn=tn.getBoxLayoutParams();Sn.width=xn.width,Sn.height=xn.height;var Mn=getLayoutRect(Sn,{width:rn.getWidth(),height:rn.getHeight()},tn.get("padding"));un||(un=tn.get("left")||tn.get("right"),un==="middle"&&(un="center"),un==="right"?Mn.x+=Mn.width:un==="center"&&(Mn.x+=Mn.width/2)),fn||(fn=tn.get("top")||tn.get("bottom"),fn==="center"&&(fn="middle"),fn==="bottom"?Mn.y+=Mn.height:fn==="middle"&&(Mn.y+=Mn.height/2),fn=fn||"top"),an.x=Mn.x,an.y=Mn.y,an.markRedraw();var In={align:un,verticalAlign:fn};hn.setStyle(In),mn.setStyle(In),xn=an.getBoundingRect();var On=Mn.margin,Pn=tn.getItemStyle(["color","opacity"]);Pn.fill=tn.get("backgroundColor");var Tn=new Rect$3({shape:{x:xn.x-On[3],y:xn.y-On[0],width:xn.width+On[1]+On[3],height:xn.height+On[0]+On[2],r:tn.get("borderRadius")},style:Pn,subPixelOptimize:!0,silent:!0});an.add(Tn)}},en.type="title",en}(ComponentView$1);function install$g(Fe){Fe.registerComponentModel(TitleModel),Fe.registerComponentView(TitleView)}var TimelineModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.layoutMode="box",tn}return en.prototype.init=function(tn,nn,rn){this.mergeDefaultAndTheme(tn,rn),this._initData()},en.prototype.mergeOption=function(tn){Fe.prototype.mergeOption.apply(this,arguments),this._initData()},en.prototype.setCurrentIndex=function(tn){tn==null&&(tn=this.option.currentIndex);var nn=this._data.count();this.option.loop?tn=(tn%nn+nn)%nn:(tn>=nn&&(tn=nn-1),tn<0&&(tn=0)),this.option.currentIndex=tn},en.prototype.getCurrentIndex=function(){return this.option.currentIndex},en.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},en.prototype.setPlayState=function(tn){this.option.autoPlay=!!tn},en.prototype.getPlayState=function(){return!!this.option.autoPlay},en.prototype._initData=function(){var tn=this.option,nn=tn.data||[],rn=tn.axisType,an=this._names=[],ln;rn==="category"?(ln=[],each$f(nn,function(fn,hn){var pn=convertOptionIdName(getDataItemValue(fn),""),gn;isObject$3(fn)?(gn=clone$4(fn),gn.value=hn):gn=hn,ln.push(gn),an.push(pn)})):ln=nn;var cn={category:"ordinal",time:"time",value:"number"}[rn]||"number",un=this._data=new SeriesData$1([{name:"value",type:cn}],this);un.initData(ln,an)},en.prototype.getData=function(){return this._data},en.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},en.type="timeline",en.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},en}(ComponentModel$1);const TimelineModel$1=TimelineModel;var SliderTimelineModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="timeline.slider",en.defaultOption=inheritDefaultOption(TimelineModel$1.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),en}(TimelineModel$1);mixin(SliderTimelineModel,DataFormatMixin.prototype);const SliderTimelineModel$1=SliderTimelineModel;var TimelineView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="timeline",en}(ComponentView$1);const TimelineView$1=TimelineView;var TimelineAxis=function(Fe){__extends(en,Fe);function en(tn,nn,rn,an){var ln=Fe.call(this,tn,nn,rn)||this;return ln.type=an||"value",ln}return en.prototype.getLabelModel=function(){return this.model.getModel("label")},en.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},en}(Axis$1);const TimelineAxis$1=TimelineAxis;var PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(tn,nn){this.api=nn},en.prototype.render=function(tn,nn,rn){if(this.model=tn,this.api=rn,this.ecModel=nn,this.group.removeAll(),tn.get("show",!0)){var an=this._layout(tn,rn),ln=this._createGroup("_mainGroup"),cn=this._createGroup("_labelGroup"),un=this._axis=this._createAxis(an,tn);tn.formatTooltip=function(fn){var hn=un.scale.getLabel({value:fn});return createTooltipMarkup("nameValue",{noName:!0,value:hn})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(fn){this["_render"+fn](an,ln,un,tn)},this),this._renderAxisLabel(an,cn,un,tn),this._position(an,tn)}this._doPlayStop(),this._updateTicksStatus()},en.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},en.prototype.dispose=function(){this._clearTimer()},en.prototype._layout=function(tn,nn){var rn=tn.get(["label","position"]),an=tn.get("orient"),ln=getViewRect(tn,nn),cn;rn==null||rn==="auto"?cn=an==="horizontal"?ln.y+ln.height/2<nn.getHeight()/2?"-":"+":ln.x+ln.width/2<nn.getWidth()/2?"+":"-":isString(rn)?cn={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[an][rn]:cn=rn;var un={horizontal:"center",vertical:cn>=0||cn==="+"?"left":"right"},fn={horizontal:cn>=0||cn==="+"?"top":"bottom",vertical:"middle"},hn={horizontal:0,vertical:PI/2},pn=an==="vertical"?ln.height:ln.width,gn=tn.getModel("controlStyle"),mn=gn.get("show",!0),_n=mn?gn.get("itemSize"):0,kn=mn?gn.get("itemGap"):0,Cn=_n+kn,xn=tn.get(["label","rotate"])||0;xn=xn*PI/180;var Sn,Mn,In,On=gn.get("position",!0),Pn=mn&&gn.get("showPlayBtn",!0),Tn=mn&&gn.get("showPrevBtn",!0),Nn=mn&&gn.get("showNextBtn",!0),Hn=0,Un=pn;On==="left"||On==="bottom"?(Pn&&(Sn=[0,0],Hn+=Cn),Tn&&(Mn=[Hn,0],Hn+=Cn),Nn&&(In=[Un-_n,0],Un-=Cn)):(Pn&&(Sn=[Un-_n,0],Un-=Cn),Tn&&(Mn=[0,0],Hn+=Cn),Nn&&(In=[Un-_n,0],Un-=Cn));var jn=[Hn,Un];return tn.get("inverse")&&jn.reverse(),{viewRect:ln,mainLength:pn,orient:an,rotation:hn[an],labelRotation:xn,labelPosOpt:cn,labelAlign:tn.get(["label","align"])||un[an],labelBaseline:tn.get(["label","verticalAlign"])||tn.get(["label","baseline"])||fn[an],playPosition:Sn,prevBtnPosition:Mn,nextBtnPosition:In,axisExtent:jn,controlSize:_n,controlGap:kn}},en.prototype._position=function(tn,nn){var rn=this._mainGroup,an=this._labelGroup,ln=tn.viewRect;if(tn.orient==="vertical"){var cn=create$1(),un=ln.x,fn=ln.y+ln.height;translate(cn,cn,[-un,-fn]),rotate(cn,cn,-PI/2),translate(cn,cn,[un,fn]),ln=ln.clone(),ln.applyTransform(cn)}var hn=Sn(ln),pn=Sn(rn.getBoundingRect()),gn=Sn(an.getBoundingRect()),mn=[rn.x,rn.y],_n=[an.x,an.y];_n[0]=mn[0]=hn[0][0];var kn=tn.labelPosOpt;if(kn==null||isString(kn)){var Cn=kn==="+"?0:1;Mn(mn,pn,hn,1,Cn),Mn(_n,gn,hn,1,1-Cn)}else{var Cn=kn>=0?0:1;Mn(mn,pn,hn,1,Cn),_n[1]=mn[1]+kn}rn.setPosition(mn),an.setPosition(_n),rn.rotation=an.rotation=tn.rotation,xn(rn),xn(an);function xn(In){In.originX=hn[0][0]-In.x,In.originY=hn[1][0]-In.y}function Sn(In){return[[In.x,In.x+In.width],[In.y,In.y+In.height]]}function Mn(In,On,Pn,Tn,Nn){In[Tn]+=Pn[Tn][Nn]-On[Tn][Nn]}},en.prototype._createAxis=function(tn,nn){var rn=nn.getData(),an=nn.get("axisType"),ln=createScaleByModel(nn,an);ln.getTicks=function(){return rn.mapArray(["value"],function(fn){return{value:fn}})};var cn=rn.getDataExtent("value");ln.setExtent(cn[0],cn[1]),ln.calcNiceTicks();var un=new TimelineAxis$1("value",ln,tn.axisExtent,an);return un.model=nn,un},en.prototype._createGroup=function(tn){var nn=this[tn]=new Group$4;return this.group.add(nn),nn},en.prototype._renderAxisLine=function(tn,nn,rn,an){var ln=rn.getExtent();if(an.get(["lineStyle","show"])){var cn=new Line$3({shape:{x1:ln[0],y1:0,x2:ln[1],y2:0},style:extend$1({lineCap:"round"},an.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});nn.add(cn);var un=this._progressLine=new Line$3({shape:{x1:ln[0],x2:this._currentPointer?this._currentPointer.x:ln[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:cn.style.lineWidth},an.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});nn.add(un)}},en.prototype._renderAxisTick=function(tn,nn,rn,an){var ln=this,cn=an.getData(),un=rn.scale.getTicks();this._tickSymbols=[],each$f(un,function(fn){var hn=rn.dataToCoord(fn.value),pn=cn.getItemModel(fn.value),gn=pn.getModel("itemStyle"),mn=pn.getModel(["emphasis","itemStyle"]),_n=pn.getModel(["progress","itemStyle"]),kn={x:hn,y:0,onclick:bind$1(ln._changeTimeline,ln,fn.value)},Cn=giveSymbol(pn,gn,nn,kn);Cn.ensureState("emphasis").style=mn.getItemStyle(),Cn.ensureState("progress").style=_n.getItemStyle(),enableHoverEmphasis(Cn);var xn=getECData(Cn);pn.get("tooltip")?(xn.dataIndex=fn.value,xn.dataModel=an):xn.dataIndex=xn.dataModel=null,ln._tickSymbols.push(Cn)})},en.prototype._renderAxisLabel=function(tn,nn,rn,an){var ln=this,cn=rn.getLabelModel();if(cn.get("show")){var un=an.getData(),fn=rn.getViewLabels();this._tickLabels=[],each$f(fn,function(hn){var pn=hn.tickValue,gn=un.getItemModel(pn),mn=gn.getModel("label"),_n=gn.getModel(["emphasis","label"]),kn=gn.getModel(["progress","label"]),Cn=rn.dataToCoord(hn.tickValue),xn=new ZRText$1({x:Cn,y:0,rotation:tn.labelRotation-tn.rotation,onclick:bind$1(ln._changeTimeline,ln,pn),silent:!1,style:createTextStyle$1(mn,{text:hn.formattedLabel,align:tn.labelAlign,verticalAlign:tn.labelBaseline})});xn.ensureState("emphasis").style=createTextStyle$1(_n),xn.ensureState("progress").style=createTextStyle$1(kn),nn.add(xn),enableHoverEmphasis(xn),labelDataIndexStore(xn).dataIndex=pn,ln._tickLabels.push(xn)})}},en.prototype._renderControl=function(tn,nn,rn,an){var ln=tn.controlSize,cn=tn.rotation,un=an.getModel("controlStyle").getItemStyle(),fn=an.getModel(["emphasis","controlStyle"]).getItemStyle(),hn=an.getPlayState(),pn=an.get("inverse",!0);gn(tn.nextBtnPosition,"next",bind$1(this._changeTimeline,this,pn?"-":"+")),gn(tn.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,pn?"+":"-")),gn(tn.playPosition,hn?"stop":"play",bind$1(this._handlePlayClick,this,!hn),!0);function gn(mn,_n,kn,Cn){if(mn){var xn=parsePercent$1(retrieve2(an.get(["controlStyle",_n+"BtnSize"]),ln),ln),Sn=[0,-xn/2,xn,xn],Mn=makeControlIcon(an,_n+"Icon",Sn,{x:mn[0],y:mn[1],originX:ln/2,originY:0,rotation:Cn?-cn:0,rectHover:!0,style:un,onclick:kn});Mn.ensureState("emphasis").style=fn,nn.add(Mn),enableHoverEmphasis(Mn)}}},en.prototype._renderCurrentPointer=function(tn,nn,rn,an){var ln=an.getData(),cn=an.getCurrentIndex(),un=ln.getItemModel(cn).getModel("checkpointStyle"),fn=this,hn={onCreate:function(pn){pn.draggable=!0,pn.drift=bind$1(fn._handlePointerDrag,fn),pn.ondragend=bind$1(fn._handlePointerDragend,fn),pointerMoveTo(pn,fn._progressLine,cn,rn,an,!0)},onUpdate:function(pn){pointerMoveTo(pn,fn._progressLine,cn,rn,an)}};this._currentPointer=giveSymbol(un,un,this._mainGroup,{},this._currentPointer,hn)},en.prototype._handlePlayClick=function(tn){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:tn,from:this.uid})},en.prototype._handlePointerDrag=function(tn,nn,rn){this._clearTimer(),this._pointerChangeTimeline([rn.offsetX,rn.offsetY])},en.prototype._handlePointerDragend=function(tn){this._pointerChangeTimeline([tn.offsetX,tn.offsetY],!0)},en.prototype._pointerChangeTimeline=function(tn,nn){var rn=this._toAxisCoord(tn)[0],an=this._axis,ln=asc$2(an.getExtent().slice());rn>ln[1]&&(rn=ln[1]),rn<ln[0]&&(rn=ln[0]),this._currentPointer.x=rn,this._currentPointer.markRedraw();var cn=this._progressLine;cn&&(cn.shape.x2=rn,cn.dirty());var un=this._findNearestTick(rn),fn=this.model;(nn||un!==fn.getCurrentIndex()&&fn.get("realtime"))&&this._changeTimeline(un)},en.prototype._doPlayStop=function(){var tn=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var nn=tn.model;tn._changeTimeline(nn.getCurrentIndex()+(nn.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},en.prototype._toAxisCoord=function(tn){var nn=this._mainGroup.getLocalTransform();return applyTransform(tn,nn,!0)},en.prototype._findNearestTick=function(tn){var nn=this.model.getData(),rn=1/0,an,ln=this._axis;return nn.each(["value"],function(cn,un){var fn=ln.dataToCoord(cn),hn=Math.abs(fn-tn);hn<rn&&(rn=hn,an=un)}),an},en.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},en.prototype._changeTimeline=function(tn){var nn=this.model.getCurrentIndex();tn==="+"?tn=nn+1:tn==="-"&&(tn=nn-1),this.api.dispatchAction({type:"timelineChange",currentIndex:tn,from:this.uid})},en.prototype._updateTicksStatus=function(){var tn=this.model.getCurrentIndex(),nn=this._tickSymbols,rn=this._tickLabels;if(nn)for(var an=0;an<nn.length;an++)nn&&nn[an]&&nn[an].toggleState("progress",an<tn);if(rn)for(var an=0;an<rn.length;an++)rn&&rn[an]&&rn[an].toggleState("progress",labelDataIndexStore(rn[an]).dataIndex<=tn)},en.type="timeline.slider",en}(TimelineView$1);function createScaleByModel(Fe,en){if(en=en||Fe.get("type"),en)switch(en){case"category":return new OrdinalScale$1({ordinalMeta:Fe.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:Fe.ecModel.getLocaleModel(),useUTC:Fe.ecModel.get("useUTC")});default:return new IntervalScale$1}}function getViewRect(Fe,en){return getLayoutRect(Fe.getBoxLayoutParams(),{width:en.getWidth(),height:en.getHeight()},Fe.get("padding"))}function makeControlIcon(Fe,en,tn,nn){var rn=nn.style,an=createIcon(Fe.get(["controlStyle",en]),nn||{},new BoundingRect$1(tn[0],tn[1],tn[2],tn[3]));return rn&&an.setStyle(rn),an}function giveSymbol(Fe,en,tn,nn,rn,an){var ln=en.get("color");if(rn)rn.setColor(ln),tn.add(rn),an&&an.onUpdate(rn);else{var cn=Fe.get("symbol");rn=createSymbol$1(cn,-1,-1,2,2,ln),rn.setStyle("strokeNoScale",!0),tn.add(rn),an&&an.onCreate(rn)}var un=en.getItemStyle(["color"]);rn.setStyle(un),nn=merge({rectHover:!0,z2:100},nn,!0);var fn=normalizeSymbolSize(Fe.get("symbolSize"));nn.scaleX=fn[0]/2,nn.scaleY=fn[1]/2;var hn=normalizeSymbolOffset(Fe.get("symbolOffset"),fn);hn&&(nn.x=(nn.x||0)+hn[0],nn.y=(nn.y||0)+hn[1]);var pn=Fe.get("symbolRotate");return nn.rotation=(pn||0)*Math.PI/180||0,rn.attr(nn),rn.updateTransform(),rn}function pointerMoveTo(Fe,en,tn,nn,rn,an){if(!Fe.dragging){var ln=rn.getModel("checkpointStyle"),cn=nn.dataToCoord(rn.getData().get("value",tn));if(an||!ln.get("animation",!0))Fe.attr({x:cn,y:0}),en&&en.attr({shape:{x2:cn}});else{var un={duration:ln.get("animationDuration",!0),easing:ln.get("animationEasing",!0)};Fe.stopAnimation(null,!0),Fe.animateTo({x:cn,y:0},un),en&&en.animateTo({shape:{x2:cn}},un)}}}const SliderTimelineView$1=SliderTimelineView;function installTimelineAction(Fe){Fe.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(en,tn,nn){var rn=tn.getComponent("timeline");return rn&&en.currentIndex!=null&&(rn.setCurrentIndex(en.currentIndex),!rn.get("loop",!0)&&rn.isIndexMax()&&rn.getPlayState()&&(rn.setPlayState(!1),nn.dispatchAction({type:"timelinePlayChange",playState:!1,from:en.from}))),tn.resetOption("timeline",{replaceMerge:rn.get("replaceMerge",!0)}),defaults({currentIndex:rn.option.currentIndex},en)}),Fe.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(en,tn){var nn=tn.getComponent("timeline");nn&&en.playState!=null&&nn.setPlayState(en.playState)})}function timelinePreprocessor(Fe){var en=Fe&&Fe.timeline;isArray$1(en)||(en=en?[en]:[]),each$f(en,function(tn){tn&&compatibleEC2(tn)})}function compatibleEC2(Fe){var en=Fe.type,tn={number:"value",time:"time"};if(tn[en]&&(Fe.axisType=tn[en],delete Fe.type),transferItem(Fe),has$1(Fe,"controlPosition")){var nn=Fe.controlStyle||(Fe.controlStyle={});has$1(nn,"position")||(nn.position=Fe.controlPosition),nn.position==="none"&&!has$1(nn,"show")&&(nn.show=!1,delete nn.position),delete Fe.controlPosition}each$f(Fe.data||[],function(rn){isObject$3(rn)&&!isArray$1(rn)&&(!has$1(rn,"value")&&has$1(rn,"name")&&(rn.value=rn.name),transferItem(rn))})}function transferItem(Fe){var en=Fe.itemStyle||(Fe.itemStyle={}),tn=en.emphasis||(en.emphasis={}),nn=Fe.label||Fe.label||{},rn=nn.normal||(nn.normal={}),an={normal:1,emphasis:1};each$f(nn,function(ln,cn){!an[cn]&&!has$1(rn,cn)&&(rn[cn]=ln)}),tn.label&&!has$1(nn,"emphasis")&&(nn.emphasis=tn.label,delete tn.label)}function has$1(Fe,en){return Fe.hasOwnProperty(en)}function install$f(Fe){Fe.registerComponentModel(SliderTimelineModel$1),Fe.registerComponentView(SliderTimelineView$1),Fe.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(Fe),Fe.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(Fe,en){if(!Fe)return!1;for(var tn=isArray$1(Fe)?Fe:[Fe],nn=0;nn<tn.length;nn++)if(tn[nn]&&tn[nn][en])return!0;return!1}function fillLabel(Fe){defaultEmphasis(Fe,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.createdBySelf=!1,tn}return en.prototype.init=function(tn,nn,rn){this.mergeDefaultAndTheme(tn,rn),this._mergeOption(tn,rn,!1,!0)},en.prototype.isAnimationEnabled=function(){if(env$1.node)return!1;var tn=this.__hostSeries;return this.getShallow("animation")&&tn&&tn.isAnimationEnabled()},en.prototype.mergeOption=function(tn,nn){this._mergeOption(tn,nn,!1,!1)},en.prototype._mergeOption=function(tn,nn,rn,an){var ln=this.mainType;rn||nn.eachSeries(function(cn){var un=cn.get(this.mainType,!0),fn=inner$5(cn)[ln];if(!un||!un.data){inner$5(cn)[ln]=null;return}fn?fn._mergeOption(un,nn,!0):(an&&fillLabel(un),each$f(un.data,function(hn){hn instanceof Array?(fillLabel(hn[0]),fillLabel(hn[1])):fillLabel(hn)}),fn=this.createMarkerModelFromSeries(un,this,nn),extend$1(fn,{mainType:this.mainType,seriesIndex:cn.seriesIndex,name:cn.name,createdBySelf:!0}),fn.__hostSeries=cn),inner$5(cn)[ln]=fn},this)},en.prototype.formatTooltip=function(tn,nn,rn){var an=this.getData(),ln=this.getRawValue(tn),cn=an.getName(tn);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:cn,value:ln,noName:!cn,noValue:ln==null})]})},en.prototype.getData=function(){return this._data},en.prototype.setData=function(tn){this._data=tn},en.getMarkerModelFromSeries=function(tn,nn){return inner$5(tn)[nn]},en.type="marker",en.dependencies=["series","grid","polar","geo"],en}(ComponentModel$1);mixin(MarkerModel,DataFormatMixin.prototype);const MarkerModel$1=MarkerModel;var MarkPointModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.createMarkerModelFromSeries=function(tn,nn,rn){return new en(tn,nn,rn)},en.type="markPoint",en.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},en}(MarkerModel$1);const MarkPointModel$1=MarkPointModel;function hasXOrY(Fe){return!(isNaN(parseFloat(Fe.x))&&isNaN(parseFloat(Fe.y)))}function hasXAndY(Fe){return!isNaN(parseFloat(Fe.x))&&!isNaN(parseFloat(Fe.y))}function markerTypeCalculatorWithExtent(Fe,en,tn,nn,rn,an){var ln=[],cn=isDimensionStacked(en,nn),un=cn?en.getCalculationInfo("stackResultDimension"):nn,fn=numCalculate(en,un,Fe),hn=en.indicesOfNearest(un,fn)[0];ln[rn]=en.get(tn,hn),ln[an]=en.get(un,hn);var pn=en.get(nn,hn),gn=getPrecision(en.get(nn,hn));return gn=Math.min(gn,20),gn>=0&&(ln[an]=+ln[an].toFixed(gn)),[ln,pn]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(Fe,en){if(en){var tn=Fe.getData(),nn=Fe.coordinateSystem,rn=nn&&nn.dimensions;if(!hasXAndY(en)&&!isArray$1(en.coord)&&isArray$1(rn)){var an=getAxisInfo(en,tn,nn,Fe);if(en=clone$4(en),en.type&&markerTypeCalculator[en.type]&&an.baseAxis&&an.valueAxis){var ln=indexOf(rn,an.baseAxis.dim),cn=indexOf(rn,an.valueAxis.dim),un=markerTypeCalculator[en.type](tn,an.baseDataDim,an.valueDataDim,ln,cn);en.coord=un[0],en.value=un[1]}else en.coord=[en.xAxis!=null?en.xAxis:en.radiusAxis,en.yAxis!=null?en.yAxis:en.angleAxis]}if(en.coord==null||!isArray$1(rn))en.coord=[];else for(var fn=en.coord,hn=0;hn<2;hn++)markerTypeCalculator[fn[hn]]&&(fn[hn]=numCalculate(tn,tn.mapDimension(rn[hn]),fn[hn]));return en}}function getAxisInfo(Fe,en,tn,nn){var rn={};return Fe.valueIndex!=null||Fe.valueDim!=null?(rn.valueDataDim=Fe.valueIndex!=null?en.getDimension(Fe.valueIndex):Fe.valueDim,rn.valueAxis=tn.getAxis(dataDimToCoordDim(nn,rn.valueDataDim)),rn.baseAxis=tn.getOtherAxis(rn.valueAxis),rn.baseDataDim=en.mapDimension(rn.baseAxis.dim)):(rn.baseAxis=nn.getBaseAxis(),rn.valueAxis=tn.getOtherAxis(rn.baseAxis),rn.baseDataDim=en.mapDimension(rn.baseAxis.dim),rn.valueDataDim=en.mapDimension(rn.valueAxis.dim)),rn}function dataDimToCoordDim(Fe,en){var tn=Fe.getData().getDimensionInfo(en);return tn&&tn.coordDim}function dataFilter(Fe,en){return Fe&&Fe.containData&&en.coord&&!hasXOrY(en)?Fe.containData(en.coord):!0}function zoneFilter(Fe,en,tn){return Fe&&Fe.containZone&&en.coord&&tn.coord&&!hasXOrY(en)&&!hasXOrY(tn)?Fe.containZone(en.coord,tn.coord):!0}function createMarkerDimValueGetter(Fe,en){return Fe?function(tn,nn,rn,an){var ln=an<2?tn.coord&&tn.coord[an]:tn.value;return parseDataValue(ln,en[an])}:function(tn,nn,rn,an){return parseDataValue(tn.value,en[an])}}function numCalculate(Fe,en,tn){if(tn==="average"){var nn=0,rn=0;return Fe.each(en,function(an,ln){isNaN(an)||(nn+=an,rn++)}),nn/rn}else return tn==="median"?Fe.getMedian(en):Fe.getDataExtent(en)[tn==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.init=function(){this.markerGroupMap=createHashMap()},en.prototype.render=function(tn,nn,rn){var an=this,ln=this.markerGroupMap;ln.each(function(cn){inner$4(cn).keep=!1}),nn.eachSeries(function(cn){var un=MarkerModel$1.getMarkerModelFromSeries(cn,an.type);un&&an.renderSeries(cn,un,nn,rn)}),ln.each(function(cn){!inner$4(cn).keep&&an.group.remove(cn.group)})},en.prototype.markKeep=function(tn){inner$4(tn).keep=!0},en.prototype.toggleBlurSeries=function(tn,nn){var rn=this;each$f(tn,function(an){var ln=MarkerModel$1.getMarkerModelFromSeries(an,rn.type);if(ln){var cn=ln.getData();cn.eachItemGraphicEl(function(un){un&&(nn?enterBlur(un):leaveBlur(un))})}})},en.type="marker",en}(ComponentView$1);const MarkerView$1=MarkerView;function updateMarkerLayout(Fe,en,tn){var nn=en.coordinateSystem;Fe.each(function(rn){var an=Fe.getItemModel(rn),ln,cn=parsePercent(an.get("x"),tn.getWidth()),un=parsePercent(an.get("y"),tn.getHeight());if(!isNaN(cn)&&!isNaN(un))ln=[cn,un];else if(en.getMarkerPosition)ln=en.getMarkerPosition(Fe.getValues(Fe.dimensions,rn));else if(nn){var fn=Fe.get(nn.dimensions[0],rn),hn=Fe.get(nn.dimensions[1],rn);ln=nn.dataToPoint([fn,hn])}isNaN(cn)||(ln[0]=cn),isNaN(un)||(ln[1]=un),Fe.setItemLayout(rn,ln)})}var MarkPointView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.updateTransform=function(tn,nn,rn){nn.eachSeries(function(an){var ln=MarkerModel$1.getMarkerModelFromSeries(an,"markPoint");ln&&(updateMarkerLayout(ln.getData(),an,rn),this.markerGroupMap.get(an.id).updateLayout())},this)},en.prototype.renderSeries=function(tn,nn,rn,an){var ln=tn.coordinateSystem,cn=tn.id,un=tn.getData(),fn=this.markerGroupMap,hn=fn.get(cn)||fn.set(cn,new SymbolDraw$1),pn=createData(ln,tn,nn);nn.setData(pn),updateMarkerLayout(nn.getData(),tn,an),pn.each(function(gn){var mn=pn.getItemModel(gn),_n=mn.getShallow("symbol"),kn=mn.getShallow("symbolSize"),Cn=mn.getShallow("symbolRotate"),xn=mn.getShallow("symbolOffset"),Sn=mn.getShallow("symbolKeepAspect");if(isFunction(_n)||isFunction(kn)||isFunction(Cn)||isFunction(xn)){var Mn=nn.getRawValue(gn),In=nn.getDataParams(gn);isFunction(_n)&&(_n=_n(Mn,In)),isFunction(kn)&&(kn=kn(Mn,In)),isFunction(Cn)&&(Cn=Cn(Mn,In)),isFunction(xn)&&(xn=xn(Mn,In))}var On=mn.getModel("itemStyle").getItemStyle(),Pn=getVisualFromData(un,"color");On.fill||(On.fill=Pn),pn.setItemVisual(gn,{symbol:_n,symbolSize:kn,symbolRotate:Cn,symbolOffset:xn,symbolKeepAspect:Sn,style:On})}),hn.updateData(pn),this.group.add(hn.group),pn.eachItemGraphicEl(function(gn){gn.traverse(function(mn){getECData(mn).dataModel=nn})}),this.markKeep(hn),hn.group.silent=nn.get("silent")||tn.get("silent")},en.type="markPoint",en}(MarkerView$1);function createData(Fe,en,tn){var nn;Fe?nn=map$1(Fe&&Fe.dimensions,function(cn){var un=en.getData().getDimensionInfo(en.getData().mapDimension(cn))||{};return extend$1(extend$1({},un),{name:cn,ordinalMeta:null})}):nn=[{name:"value",type:"float"}];var rn=new SeriesData$1(nn,tn),an=map$1(tn.get("data"),curry$1(dataTransform,en));Fe&&(an=filter(an,curry$1(dataFilter,Fe)));var ln=createMarkerDimValueGetter(!!Fe,nn);return rn.initData(an,null,ln),rn}const MarkPointView$1=MarkPointView;function install$e(Fe){Fe.registerComponentModel(MarkPointModel$1),Fe.registerComponentView(MarkPointView$1),Fe.registerPreprocessor(function(en){checkMarkerInSeries(en.series,"markPoint")&&(en.markPoint=en.markPoint||{})})}var MarkLineModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.createMarkerModelFromSeries=function(tn,nn,rn){return new en(tn,nn,rn)},en.type="markLine",en.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},en}(MarkerModel$1);const MarkLineModel$1=MarkLineModel;var inner$3=makeInner(),markLineTransform=function(Fe,en,tn,nn){var rn=Fe.getData(),an;if(isArray$1(nn))an=nn;else{var ln=nn.type;if(ln==="min"||ln==="max"||ln==="average"||ln==="median"||nn.xAxis!=null||nn.yAxis!=null){var cn=void 0,un=void 0;if(nn.yAxis!=null||nn.xAxis!=null)cn=en.getAxis(nn.yAxis!=null?"y":"x"),un=retrieve(nn.yAxis,nn.xAxis);else{var fn=getAxisInfo(nn,rn,en,Fe);cn=fn.valueAxis;var hn=getStackedDimension(rn,fn.valueDataDim);un=numCalculate(rn,hn,ln)}var pn=cn.dim==="x"?0:1,gn=1-pn,mn=clone$4(nn),_n={coord:[]};mn.type=null,mn.coord=[],mn.coord[gn]=-1/0,_n.coord[gn]=1/0;var kn=tn.get("precision");kn>=0&&isNumber(un)&&(un=+un.toFixed(Math.min(kn,20))),mn.coord[pn]=_n.coord[pn]=un,an=[mn,_n,{type:ln,valueIndex:nn.valueIndex,value:un}]}else an=[]}var Cn=[dataTransform(Fe,an[0]),dataTransform(Fe,an[1]),extend$1({},an[2])];return Cn[2].type=Cn[2].type||null,merge(Cn[2],Cn[0]),merge(Cn[2],Cn[1]),Cn};function isInfinity$1(Fe){return!isNaN(Fe)&&!isFinite(Fe)}function ifMarkLineHasOnlyDim(Fe,en,tn,nn){var rn=1-Fe,an=nn.dimensions[Fe];return isInfinity$1(en[rn])&&isInfinity$1(tn[rn])&&en[Fe]===tn[Fe]&&nn.getAxis(an).containData(en[Fe])}function markLineFilter(Fe,en){if(Fe.type==="cartesian2d"){var tn=en[0].coord,nn=en[1].coord;if(tn&&nn&&(ifMarkLineHasOnlyDim(1,tn,nn,Fe)||ifMarkLineHasOnlyDim(0,tn,nn,Fe)))return!0}return dataFilter(Fe,en[0])&&dataFilter(Fe,en[1])}function updateSingleMarkerEndLayout(Fe,en,tn,nn,rn){var an=nn.coordinateSystem,ln=Fe.getItemModel(en),cn,un=parsePercent(ln.get("x"),rn.getWidth()),fn=parsePercent(ln.get("y"),rn.getHeight());if(!isNaN(un)&&!isNaN(fn))cn=[un,fn];else{if(nn.getMarkerPosition)cn=nn.getMarkerPosition(Fe.getValues(Fe.dimensions,en));else{var hn=an.dimensions,pn=Fe.get(hn[0],en),gn=Fe.get(hn[1],en);cn=an.dataToPoint([pn,gn])}if(isCoordinateSystemType(an,"cartesian2d")){var mn=an.getAxis("x"),_n=an.getAxis("y"),hn=an.dimensions;isInfinity$1(Fe.get(hn[0],en))?cn[0]=mn.toGlobalCoord(mn.getExtent()[tn?0:1]):isInfinity$1(Fe.get(hn[1],en))&&(cn[1]=_n.toGlobalCoord(_n.getExtent()[tn?0:1]))}isNaN(un)||(cn[0]=un),isNaN(fn)||(cn[1]=fn)}Fe.setItemLayout(en,cn)}var MarkLineView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.updateTransform=function(tn,nn,rn){nn.eachSeries(function(an){var ln=MarkerModel$1.getMarkerModelFromSeries(an,"markLine");if(ln){var cn=ln.getData(),un=inner$3(ln).from,fn=inner$3(ln).to;un.each(function(hn){updateSingleMarkerEndLayout(un,hn,!0,an,rn),updateSingleMarkerEndLayout(fn,hn,!1,an,rn)}),cn.each(function(hn){cn.setItemLayout(hn,[un.getItemLayout(hn),fn.getItemLayout(hn)])}),this.markerGroupMap.get(an.id).updateLayout()}},this)},en.prototype.renderSeries=function(tn,nn,rn,an){var ln=tn.coordinateSystem,cn=tn.id,un=tn.getData(),fn=this.markerGroupMap,hn=fn.get(cn)||fn.set(cn,new LineDraw$1);this.group.add(hn.group);var pn=createList$1(ln,tn,nn),gn=pn.from,mn=pn.to,_n=pn.line;inner$3(nn).from=gn,inner$3(nn).to=mn,nn.setData(_n);var kn=nn.get("symbol"),Cn=nn.get("symbolSize"),xn=nn.get("symbolRotate"),Sn=nn.get("symbolOffset");isArray$1(kn)||(kn=[kn,kn]),isArray$1(Cn)||(Cn=[Cn,Cn]),isArray$1(xn)||(xn=[xn,xn]),isArray$1(Sn)||(Sn=[Sn,Sn]),pn.from.each(function(In){Mn(gn,In,!0),Mn(mn,In,!1)}),_n.each(function(In){var On=_n.getItemModel(In).getModel("lineStyle").getLineStyle();_n.setItemLayout(In,[gn.getItemLayout(In),mn.getItemLayout(In)]),On.stroke==null&&(On.stroke=gn.getItemVisual(In,"style").fill),_n.setItemVisual(In,{fromSymbolKeepAspect:gn.getItemVisual(In,"symbolKeepAspect"),fromSymbolOffset:gn.getItemVisual(In,"symbolOffset"),fromSymbolRotate:gn.getItemVisual(In,"symbolRotate"),fromSymbolSize:gn.getItemVisual(In,"symbolSize"),fromSymbol:gn.getItemVisual(In,"symbol"),toSymbolKeepAspect:mn.getItemVisual(In,"symbolKeepAspect"),toSymbolOffset:mn.getItemVisual(In,"symbolOffset"),toSymbolRotate:mn.getItemVisual(In,"symbolRotate"),toSymbolSize:mn.getItemVisual(In,"symbolSize"),toSymbol:mn.getItemVisual(In,"symbol"),style:On})}),hn.updateData(_n),pn.line.eachItemGraphicEl(function(In){getECData(In).dataModel=nn,In.traverse(function(On){getECData(On).dataModel=nn})});function Mn(In,On,Pn){var Tn=In.getItemModel(On);updateSingleMarkerEndLayout(In,On,Pn,tn,an);var Nn=Tn.getModel("itemStyle").getItemStyle();Nn.fill==null&&(Nn.fill=getVisualFromData(un,"color")),In.setItemVisual(On,{symbolKeepAspect:Tn.get("symbolKeepAspect"),symbolOffset:retrieve2(Tn.get("symbolOffset",!0),Sn[Pn?0:1]),symbolRotate:retrieve2(Tn.get("symbolRotate",!0),xn[Pn?0:1]),symbolSize:retrieve2(Tn.get("symbolSize"),Cn[Pn?0:1]),symbol:retrieve2(Tn.get("symbol",!0),kn[Pn?0:1]),style:Nn})}this.markKeep(hn),hn.group.silent=nn.get("silent")||tn.get("silent")},en.type="markLine",en}(MarkerView$1);function createList$1(Fe,en,tn){var nn;Fe?nn=map$1(Fe&&Fe.dimensions,function(fn){var hn=en.getData().getDimensionInfo(en.getData().mapDimension(fn))||{};return extend$1(extend$1({},hn),{name:fn,ordinalMeta:null})}):nn=[{name:"value",type:"float"}];var rn=new SeriesData$1(nn,tn),an=new SeriesData$1(nn,tn),ln=new SeriesData$1([],tn),cn=map$1(tn.get("data"),curry$1(markLineTransform,en,Fe,tn));Fe&&(cn=filter(cn,curry$1(markLineFilter,Fe)));var un=createMarkerDimValueGetter(!!Fe,nn);return rn.initData(map$1(cn,function(fn){return fn[0]}),null,un),an.initData(map$1(cn,function(fn){return fn[1]}),null,un),ln.initData(map$1(cn,function(fn){return fn[2]})),ln.hasItemOption=!0,{from:rn,to:an,line:ln}}const MarkLineView$1=MarkLineView;function install$d(Fe){Fe.registerComponentModel(MarkLineModel$1),Fe.registerComponentView(MarkLineView$1),Fe.registerPreprocessor(function(en){checkMarkerInSeries(en.series,"markLine")&&(en.markLine=en.markLine||{})})}var MarkAreaModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.createMarkerModelFromSeries=function(tn,nn,rn){return new en(tn,nn,rn)},en.type="markArea",en.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},en}(MarkerModel$1);const MarkAreaModel$1=MarkAreaModel;var inner$2=makeInner(),markAreaTransform=function(Fe,en,tn,nn){var rn=nn[0],an=nn[1];if(!(!rn||!an)){var ln=dataTransform(Fe,rn),cn=dataTransform(Fe,an),un=ln.coord,fn=cn.coord;un[0]=retrieve(un[0],-1/0),un[1]=retrieve(un[1],-1/0),fn[0]=retrieve(fn[0],1/0),fn[1]=retrieve(fn[1],1/0);var hn=mergeAll([{},ln,cn]);return hn.coord=[ln.coord,cn.coord],hn.x0=ln.x,hn.y0=ln.y,hn.x1=cn.x,hn.y1=cn.y,hn}};function isInfinity(Fe){return!isNaN(Fe)&&!isFinite(Fe)}function ifMarkAreaHasOnlyDim(Fe,en,tn,nn){var rn=1-Fe;return isInfinity(en[rn])&&isInfinity(tn[rn])}function markAreaFilter(Fe,en){var tn=en.coord[0],nn=en.coord[1],rn={coord:tn,x:en.x0,y:en.y0},an={coord:nn,x:en.x1,y:en.y1};return isCoordinateSystemType(Fe,"cartesian2d")?tn&&nn&&(ifMarkAreaHasOnlyDim(1,tn,nn)||ifMarkAreaHasOnlyDim(0,tn,nn))?!0:zoneFilter(Fe,rn,an):dataFilter(Fe,rn)||dataFilter(Fe,an)}function getSingleMarkerEndPoint(Fe,en,tn,nn,rn){var an=nn.coordinateSystem,ln=Fe.getItemModel(en),cn,un=parsePercent(ln.get(tn[0]),rn.getWidth()),fn=parsePercent(ln.get(tn[1]),rn.getHeight());if(!isNaN(un)&&!isNaN(fn))cn=[un,fn];else{if(nn.getMarkerPosition){var hn=Fe.getValues(["x0","y0"],en),pn=Fe.getValues(["x1","y1"],en),gn=an.clampData(hn),mn=an.clampData(pn),_n=[];tn[0]==="x0"?_n[0]=gn[0]>mn[0]?pn[0]:hn[0]:_n[0]=gn[0]>mn[0]?hn[0]:pn[0],tn[1]==="y0"?_n[1]=gn[1]>mn[1]?pn[1]:hn[1]:_n[1]=gn[1]>mn[1]?hn[1]:pn[1],cn=nn.getMarkerPosition(_n,tn,!0)}else{var kn=Fe.get(tn[0],en),Cn=Fe.get(tn[1],en),xn=[kn,Cn];an.clampData&&an.clampData(xn,xn),cn=an.dataToPoint(xn,!0)}if(isCoordinateSystemType(an,"cartesian2d")){var Sn=an.getAxis("x"),Mn=an.getAxis("y"),kn=Fe.get(tn[0],en),Cn=Fe.get(tn[1],en);isInfinity(kn)?cn[0]=Sn.toGlobalCoord(Sn.getExtent()[tn[0]==="x0"?0:1]):isInfinity(Cn)&&(cn[1]=Mn.toGlobalCoord(Mn.getExtent()[tn[1]==="y0"?0:1]))}isNaN(un)||(cn[0]=un),isNaN(fn)||(cn[1]=fn)}return cn}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.updateTransform=function(tn,nn,rn){nn.eachSeries(function(an){var ln=MarkerModel$1.getMarkerModelFromSeries(an,"markArea");if(ln){var cn=ln.getData();cn.each(function(un){var fn=map$1(dimPermutations,function(pn){return getSingleMarkerEndPoint(cn,un,pn,an,rn)});cn.setItemLayout(un,fn);var hn=cn.getItemGraphicEl(un);hn.setShape("points",fn)})}},this)},en.prototype.renderSeries=function(tn,nn,rn,an){var ln=tn.coordinateSystem,cn=tn.id,un=tn.getData(),fn=this.markerGroupMap,hn=fn.get(cn)||fn.set(cn,{group:new Group$4});this.group.add(hn.group),this.markKeep(hn);var pn=createList(ln,tn,nn);nn.setData(pn),pn.each(function(gn){var mn=map$1(dimPermutations,function(Nn){return getSingleMarkerEndPoint(pn,gn,Nn,tn,an)}),_n=ln.getAxis("x").scale,kn=ln.getAxis("y").scale,Cn=_n.getExtent(),xn=kn.getExtent(),Sn=[_n.parse(pn.get("x0",gn)),_n.parse(pn.get("x1",gn))],Mn=[kn.parse(pn.get("y0",gn)),kn.parse(pn.get("y1",gn))];asc$2(Sn),asc$2(Mn);var In=!(Cn[0]>Sn[1]||Cn[1]<Sn[0]||xn[0]>Mn[1]||xn[1]<Mn[0]),On=!In;pn.setItemLayout(gn,{points:mn,allClipped:On});var Pn=pn.getItemModel(gn).getModel("itemStyle").getItemStyle(),Tn=getVisualFromData(un,"color");Pn.fill||(Pn.fill=Tn,isString(Pn.fill)&&(Pn.fill=modifyAlpha(Pn.fill,.4))),Pn.stroke||(Pn.stroke=Tn),pn.setItemVisual(gn,"style",Pn)}),pn.diff(inner$2(hn).data).add(function(gn){var mn=pn.getItemLayout(gn);if(!mn.allClipped){var _n=new Polygon$1({shape:{points:mn.points}});pn.setItemGraphicEl(gn,_n),hn.group.add(_n)}}).update(function(gn,mn){var _n=inner$2(hn).data.getItemGraphicEl(mn),kn=pn.getItemLayout(gn);kn.allClipped?_n&&hn.group.remove(_n):(_n?updateProps$1(_n,{shape:{points:kn.points}},nn,gn):_n=new Polygon$1({shape:{points:kn.points}}),pn.setItemGraphicEl(gn,_n),hn.group.add(_n))}).remove(function(gn){var mn=inner$2(hn).data.getItemGraphicEl(gn);hn.group.remove(mn)}).execute(),pn.eachItemGraphicEl(function(gn,mn){var _n=pn.getItemModel(mn),kn=pn.getItemVisual(mn,"style");gn.useStyle(pn.getItemVisual(mn,"style")),setLabelStyle(gn,getLabelStatesModels(_n),{labelFetcher:nn,labelDataIndex:mn,defaultText:pn.getName(mn)||"",inheritColor:isString(kn.fill)?modifyAlpha(kn.fill,1):"#000"}),setStatesStylesFromModel(gn,_n),toggleHoverEmphasis(gn,null,null,_n.get(["emphasis","disabled"])),getECData(gn).dataModel=nn}),inner$2(hn).data=pn,hn.group.silent=nn.get("silent")||tn.get("silent")},en.type="markArea",en}(MarkerView$1);function createList(Fe,en,tn){var nn,rn,an=["x0","y0","x1","y1"];if(Fe){var ln=map$1(Fe&&Fe.dimensions,function(fn){var hn=en.getData(),pn=hn.getDimensionInfo(hn.mapDimension(fn))||{};return extend$1(extend$1({},pn),{name:fn,ordinalMeta:null})});rn=map$1(an,function(fn,hn){return{name:fn,type:ln[hn%2].type}}),nn=new SeriesData$1(rn,tn)}else rn=[{name:"value",type:"float"}],nn=new SeriesData$1(rn,tn);var cn=map$1(tn.get("data"),curry$1(markAreaTransform,en,Fe,tn));Fe&&(cn=filter(cn,curry$1(markAreaFilter,Fe)));var un=Fe?function(fn,hn,pn,gn){var mn=fn.coord[Math.floor(gn/2)][gn%2];return parseDataValue(mn,rn[gn])}:function(fn,hn,pn,gn){return parseDataValue(fn.value,rn[gn])};return nn.initData(cn,null,un),nn.hasItemOption=!0,nn}const MarkAreaView$1=MarkAreaView;function install$c(Fe){Fe.registerComponentModel(MarkAreaModel$1),Fe.registerComponentView(MarkAreaView$1),Fe.registerPreprocessor(function(en){checkMarkerInSeries(en.series,"markArea")&&(en.markArea=en.markArea||{})})}var getDefaultSelectorOptions=function(Fe,en){if(en==="all")return{type:"all",title:Fe.getLocaleModel().get(["legend","selector","all"])};if(en==="inverse")return{type:"inverse",title:Fe.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.layoutMode={type:"box",ignoreSize:!0},tn}return en.prototype.init=function(tn,nn,rn){this.mergeDefaultAndTheme(tn,rn),tn.selected=tn.selected||{},this._updateSelector(tn)},en.prototype.mergeOption=function(tn,nn){Fe.prototype.mergeOption.call(this,tn,nn),this._updateSelector(tn)},en.prototype._updateSelector=function(tn){var nn=tn.selector,rn=this.ecModel;nn===!0&&(nn=tn.selector=["all","inverse"]),isArray$1(nn)&&each$f(nn,function(an,ln){isString(an)&&(an={type:an}),nn[ln]=merge(an,getDefaultSelectorOptions(rn,an.type))})},en.prototype.optionUpdated=function(){this._updateData(this.ecModel);var tn=this._data;if(tn[0]&&this.get("selectedMode")==="single"){for(var nn=!1,rn=0;rn<tn.length;rn++){var an=tn[rn].get("name");if(this.isSelected(an)){this.select(an),nn=!0;break}}!nn&&this.select(tn[0].get("name"))}},en.prototype._updateData=function(tn){var nn=[],rn=[];tn.eachRawSeries(function(un){var fn=un.name;rn.push(fn);var hn;if(un.legendVisualProvider){var pn=un.legendVisualProvider,gn=pn.getAllNames();tn.isSeriesFiltered(un)||(rn=rn.concat(gn)),gn.length?nn=nn.concat(gn):hn=!0}else hn=!0;hn&&isNameSpecified(un)&&nn.push(un.name)}),this._availableNames=rn;var an=this.get("data")||nn,ln=createHashMap(),cn=map$1(an,function(un){return(isString(un)||isNumber(un))&&(un={name:un}),ln.get(un.name)?null:(ln.set(un.name,!0),new Model$1(un,this,this.ecModel))},this);this._data=filter(cn,function(un){return!!un})},en.prototype.getData=function(){return this._data},en.prototype.select=function(tn){var nn=this.option.selected,rn=this.get("selectedMode");if(rn==="single"){var an=this._data;each$f(an,function(ln){nn[ln.get("name")]=!1})}nn[tn]=!0},en.prototype.unSelect=function(tn){this.get("selectedMode")!=="single"&&(this.option.selected[tn]=!1)},en.prototype.toggleSelected=function(tn){var nn=this.option.selected;nn.hasOwnProperty(tn)||(nn[tn]=!0),this[nn[tn]?"unSelect":"select"](tn)},en.prototype.allSelect=function(){var tn=this._data,nn=this.option.selected;each$f(tn,function(rn){nn[rn.get("name",!0)]=!0})},en.prototype.inverseSelect=function(){var tn=this._data,nn=this.option.selected;each$f(tn,function(rn){var an=rn.get("name",!0);nn.hasOwnProperty(an)||(nn[an]=!0),nn[an]=!nn[an]})},en.prototype.isSelected=function(tn){var nn=this.option.selected;return!(nn.hasOwnProperty(tn)&&!nn[tn])&&indexOf(this._availableNames,tn)>=0},en.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},en.type="legend.plain",en.dependencies=["series"],en.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},en}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each$3=each$f,Group$1=Group$4,LegendView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.newlineDisabled=!1,tn}return en.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},en.prototype.getContentGroup=function(){return this._contentGroup},en.prototype.getSelectorGroup=function(){return this._selectorGroup},en.prototype.render=function(tn,nn,rn){var an=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!tn.get("show",!0)){var ln=tn.get("align"),cn=tn.get("orient");(!ln||ln==="auto")&&(ln=tn.get("left")==="right"&&cn==="vertical"?"right":"left");var un=tn.get("selector",!0),fn=tn.get("selectorPosition",!0);un&&(!fn||fn==="auto")&&(fn=cn==="horizontal"?"end":"start"),this.renderInner(ln,tn,nn,rn,un,cn,fn);var hn=tn.getBoxLayoutParams(),pn={width:rn.getWidth(),height:rn.getHeight()},gn=tn.get("padding"),mn=getLayoutRect(hn,pn,gn),_n=this.layoutInner(tn,ln,mn,an,un,fn),kn=getLayoutRect(defaults({width:_n.width,height:_n.height},hn),pn,gn);this.group.x=kn.x-_n.x,this.group.y=kn.y-_n.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(_n,tn))}},en.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},en.prototype.renderInner=function(tn,nn,rn,an,ln,cn,un){var fn=this.getContentGroup(),hn=createHashMap(),pn=nn.get("selectedMode"),gn=[];rn.eachRawSeries(function(mn){!mn.get("legendHoverLink")&&gn.push(mn.id)}),each$3(nn.getData(),function(mn,_n){var kn=mn.get("name");if(!this.newlineDisabled&&(kn===""||kn===`
`)){var Cn=new Group$1;Cn.newline=!0,fn.add(Cn);return}var xn=rn.getSeriesByName(kn)[0];if(!hn.get(kn))if(xn){var Sn=xn.getData(),Mn=Sn.getVisual("legendLineStyle")||{},In=Sn.getVisual("legendIcon"),On=Sn.getVisual("style"),Pn=this._createItem(xn,kn,_n,mn,nn,tn,Mn,On,In,pn,an);Pn.on("click",curry(dispatchSelectAction,kn,null,an,gn)).on("mouseover",curry(dispatchHighlightAction,xn.name,null,an,gn)).on("mouseout",curry(dispatchDownplayAction,xn.name,null,an,gn)),hn.set(kn,!0)}else rn.eachRawSeries(function(Tn){if(!hn.get(kn)&&Tn.legendVisualProvider){var Nn=Tn.legendVisualProvider;if(!Nn.containName(kn))return;var Hn=Nn.indexOfName(kn),Un=Nn.getItemVisual(Hn,"style"),jn=Nn.getItemVisual(Hn,"legendIcon"),Yn=parse(Un.fill);Yn&&Yn[3]===0&&(Yn[3]=.2,Un=extend$1(extend$1({},Un),{fill:stringify(Yn,"rgba")}));var Wn=this._createItem(Tn,kn,_n,mn,nn,tn,{},Un,jn,pn,an);Wn.on("click",curry(dispatchSelectAction,null,kn,an,gn)).on("mouseover",curry(dispatchHighlightAction,null,kn,an,gn)).on("mouseout",curry(dispatchDownplayAction,null,kn,an,gn)),hn.set(kn,!0)}},this)},this),ln&&this._createSelector(ln,nn,an,cn,un)},en.prototype._createSelector=function(tn,nn,rn,an,ln){var cn=this.getSelectorGroup();each$3(tn,function(fn){var hn=fn.type,pn=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){rn.dispatchAction({type:hn==="all"?"legendAllSelect":"legendInverseSelect"})}});cn.add(pn);var gn=nn.getModel("selectorLabel"),mn=nn.getModel(["emphasis","selectorLabel"]);setLabelStyle(pn,{normal:gn,emphasis:mn},{defaultText:fn.title}),enableHoverEmphasis(pn)})},en.prototype._createItem=function(tn,nn,rn,an,ln,cn,un,fn,hn,pn,gn){var mn=tn.visualDrawType,_n=ln.get("itemWidth"),kn=ln.get("itemHeight"),Cn=ln.isSelected(nn),xn=an.get("symbolRotate"),Sn=an.get("symbolKeepAspect"),Mn=an.get("icon");hn=Mn||hn||"roundRect";var In=getLegendStyle(hn,an,un,fn,mn,Cn,gn),On=new Group$1,Pn=an.getModel("textStyle");if(isFunction(tn.getLegendIcon)&&(!Mn||Mn==="inherit"))On.add(tn.getLegendIcon({itemWidth:_n,itemHeight:kn,icon:hn,iconRotate:xn,itemStyle:In.itemStyle,lineStyle:In.lineStyle,symbolKeepAspect:Sn}));else{var Tn=Mn==="inherit"&&tn.getData().getVisual("symbol")?xn==="inherit"?tn.getData().getVisual("symbolRotate"):xn:0;On.add(getDefaultLegendIcon({itemWidth:_n,itemHeight:kn,icon:hn,iconRotate:Tn,itemStyle:In.itemStyle,lineStyle:In.lineStyle,symbolKeepAspect:Sn}))}var Nn=cn==="left"?_n+5:-5,Hn=cn,Un=ln.get("formatter"),jn=nn;isString(Un)&&Un?jn=Un.replace("{name}",nn??""):isFunction(Un)&&(jn=Un(nn));var Yn=Cn?Pn.getTextColor():an.get("inactiveColor");On.add(new ZRText$1({style:createTextStyle$1(Pn,{text:jn,x:Nn,y:kn/2,fill:Yn,align:Hn,verticalAlign:"middle"},{inheritColor:Yn})}));var Wn=new Rect$3({shape:On.getBoundingRect(),invisible:!0}),Qn=an.getModel("tooltip");return Qn.get("show")&&setTooltipConfig({el:Wn,componentModel:ln,itemName:nn,itemTooltipOption:Qn.option}),On.add(Wn),On.eachChild(function(Xn){Xn.silent=!0}),Wn.silent=!pn,this.getContentGroup().add(On),enableHoverEmphasis(On),On.__legendDataIndex=rn,On},en.prototype.layoutInner=function(tn,nn,rn,an,ln,cn){var un=this.getContentGroup(),fn=this.getSelectorGroup();box(tn.get("orient"),un,tn.get("itemGap"),rn.width,rn.height);var hn=un.getBoundingRect(),pn=[-hn.x,-hn.y];if(fn.markRedraw(),un.markRedraw(),ln){box("horizontal",fn,tn.get("selectorItemGap",!0));var gn=fn.getBoundingRect(),mn=[-gn.x,-gn.y],_n=tn.get("selectorButtonGap",!0),kn=tn.getOrient().index,Cn=kn===0?"width":"height",xn=kn===0?"height":"width",Sn=kn===0?"y":"x";cn==="end"?mn[kn]+=hn[Cn]+_n:pn[kn]+=gn[Cn]+_n,mn[1-kn]+=hn[xn]/2-gn[xn]/2,fn.x=mn[0],fn.y=mn[1],un.x=pn[0],un.y=pn[1];var Mn={x:0,y:0};return Mn[Cn]=hn[Cn]+_n+gn[Cn],Mn[xn]=Math.max(hn[xn],gn[xn]),Mn[Sn]=Math.min(0,gn[Sn]+mn[1-kn]),Mn}else return un.x=pn[0],un.y=pn[1],this.group.getBoundingRect()},en.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},en.type="legend.plain",en}(ComponentView$1);function getLegendStyle(Fe,en,tn,nn,rn,an,ln){function cn(Cn,xn){Cn.lineWidth==="auto"&&(Cn.lineWidth=xn.lineWidth>0?2:0),each$3(Cn,function(Sn,Mn){Cn[Mn]==="inherit"&&(Cn[Mn]=xn[Mn])})}var un=en.getModel("itemStyle"),fn=un.getItemStyle(),hn=Fe.lastIndexOf("empty",0)===0?"fill":"stroke",pn=un.getShallow("decal");fn.decal=!pn||pn==="inherit"?nn.decal:createOrUpdatePatternFromDecal(pn,ln),fn.fill==="inherit"&&(fn.fill=nn[rn]),fn.stroke==="inherit"&&(fn.stroke=nn[hn]),fn.opacity==="inherit"&&(fn.opacity=(rn==="fill"?nn:tn).opacity),cn(fn,nn);var gn=en.getModel("lineStyle"),mn=gn.getLineStyle();if(cn(mn,tn),fn.fill==="auto"&&(fn.fill=nn.fill),fn.stroke==="auto"&&(fn.stroke=nn.fill),mn.stroke==="auto"&&(mn.stroke=nn.fill),!an){var _n=en.get("inactiveBorderWidth"),kn=fn[hn];fn.lineWidth=_n==="auto"?nn.lineWidth>0&&kn?2:0:fn.lineWidth,fn.fill=en.get("inactiveColor"),fn.stroke=en.get("inactiveBorderColor"),mn.stroke=gn.get("inactiveColor"),mn.lineWidth=gn.get("inactiveWidth")}return{itemStyle:fn,lineStyle:mn}}function getDefaultLegendIcon(Fe){var en=Fe.icon||"roundRect",tn=createSymbol$1(en,0,0,Fe.itemWidth,Fe.itemHeight,Fe.itemStyle.fill,Fe.symbolKeepAspect);return tn.setStyle(Fe.itemStyle),tn.rotation=(Fe.iconRotate||0)*Math.PI/180,tn.setOrigin([Fe.itemWidth/2,Fe.itemHeight/2]),en.indexOf("empty")>-1&&(tn.style.stroke=tn.style.fill,tn.style.fill="#fff",tn.style.lineWidth=2),tn}function dispatchSelectAction(Fe,en,tn,nn){dispatchDownplayAction(Fe,en,tn,nn),tn.dispatchAction({type:"legendToggleSelect",name:Fe??en}),dispatchHighlightAction(Fe,en,tn,nn)}function isUseHoverLayer(Fe){for(var en=Fe.getZr().storage.getDisplayList(),tn,nn=0,rn=en.length;nn<rn&&!(tn=en[nn].states.emphasis);)nn++;return tn&&tn.hoverLayer}function dispatchHighlightAction(Fe,en,tn,nn){isUseHoverLayer(tn)||tn.dispatchAction({type:"highlight",seriesName:Fe,name:en,excludeSeriesId:nn})}function dispatchDownplayAction(Fe,en,tn,nn){isUseHoverLayer(tn)||tn.dispatchAction({type:"downplay",seriesName:Fe,name:en,excludeSeriesId:nn})}const LegendView$1=LegendView;function legendFilter(Fe){var en=Fe.findComponents({mainType:"legend"});en&&en.length&&Fe.filterSeries(function(tn){for(var nn=0;nn<en.length;nn++)if(!en[nn].isSelected(tn.name))return!1;return!0})}function legendSelectActionHandler(Fe,en,tn){var nn={},rn=Fe==="toggleSelected",an;return tn.eachComponent("legend",function(ln){rn&&an!=null?ln[an?"select":"unSelect"](en.name):Fe==="allSelect"||Fe==="inverseSelect"?ln[Fe]():(ln[Fe](en.name),an=ln.isSelected(en.name));var cn=ln.getData();each$f(cn,function(un){var fn=un.get("name");if(!(fn===`
`||fn==="")){var hn=ln.isSelected(fn);nn.hasOwnProperty(fn)?nn[fn]=nn[fn]&&hn:nn[fn]=hn}})}),Fe==="allSelect"||Fe==="inverseSelect"?{selected:nn}:{name:en.name,selected:nn}}function installLegendAction(Fe){Fe.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),Fe.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),Fe.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),Fe.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),Fe.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(Fe){Fe.registerComponentModel(LegendModel$1),Fe.registerComponentView(LegendView$1),Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),Fe.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(Fe)}var ScrollableLegendModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.setScrollDataIndex=function(tn){this.option.scrollDataIndex=tn},en.prototype.init=function(tn,nn,rn){var an=getLayoutParams(tn);Fe.prototype.init.call(this,tn,nn,rn),mergeAndNormalizeLayoutParams(this,tn,an)},en.prototype.mergeOption=function(tn,nn){Fe.prototype.mergeOption.call(this,tn,nn),mergeAndNormalizeLayoutParams(this,this.option,tn)},en.type="legend.scroll",en.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),en}(LegendModel$1);function mergeAndNormalizeLayoutParams(Fe,en,tn){var nn=Fe.getOrient(),rn=[1,1];rn[nn.index]=0,mergeLayoutParam(en,tn,{type:"box",ignoreSize:!!rn})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$4,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.newlineDisabled=!0,tn._currentIndex=0,tn}return en.prototype.init=function(){Fe.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},en.prototype.resetInner=function(){Fe.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},en.prototype.renderInner=function(tn,nn,rn,an,ln,cn,un){var fn=this;Fe.prototype.renderInner.call(this,tn,nn,rn,an,ln,cn,un);var hn=this._controllerGroup,pn=nn.get("pageIconSize",!0),gn=isArray$1(pn)?pn:[pn,pn];_n("pagePrev",0);var mn=nn.getModel("pageTextStyle");hn.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:mn.getTextColor(),font:mn.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),_n("pageNext",1);function _n(kn,Cn){var xn=kn+"DataIndex",Sn=createIcon(nn.get("pageIcons",!0)[nn.getOrient().name][Cn],{onclick:bind$1(fn._pageGo,fn,xn,nn,an)},{x:-gn[0]/2,y:-gn[1]/2,width:gn[0],height:gn[1]});Sn.name=kn,hn.add(Sn)}},en.prototype.layoutInner=function(tn,nn,rn,an,ln,cn){var un=this.getSelectorGroup(),fn=tn.getOrient().index,hn=WH[fn],pn=XY[fn],gn=WH[1-fn],mn=XY[1-fn];ln&&box("horizontal",un,tn.get("selectorItemGap",!0));var _n=tn.get("selectorButtonGap",!0),kn=un.getBoundingRect(),Cn=[-kn.x,-kn.y],xn=clone$4(rn);ln&&(xn[hn]=rn[hn]-kn[hn]-_n);var Sn=this._layoutContentAndController(tn,an,xn,fn,hn,gn,mn,pn);if(ln){if(cn==="end")Cn[fn]+=Sn[hn]+_n;else{var Mn=kn[hn]+_n;Cn[fn]-=Mn,Sn[pn]-=Mn}Sn[hn]+=kn[hn]+_n,Cn[1-fn]+=Sn[mn]+Sn[gn]/2-kn[gn]/2,Sn[gn]=Math.max(Sn[gn],kn[gn]),Sn[mn]=Math.min(Sn[mn],kn[mn]+Cn[1-fn]),un.x=Cn[0],un.y=Cn[1],un.markRedraw()}return Sn},en.prototype._layoutContentAndController=function(tn,nn,rn,an,ln,cn,un,fn){var hn=this.getContentGroup(),pn=this._containerGroup,gn=this._controllerGroup;box(tn.get("orient"),hn,tn.get("itemGap"),an?rn.width:null,an?null:rn.height),box("horizontal",gn,tn.get("pageButtonItemGap",!0));var mn=hn.getBoundingRect(),_n=gn.getBoundingRect(),kn=this._showController=mn[ln]>rn[ln],Cn=[-mn.x,-mn.y];nn||(Cn[an]=hn[fn]);var xn=[0,0],Sn=[-_n.x,-_n.y],Mn=retrieve2(tn.get("pageButtonGap",!0),tn.get("itemGap",!0));if(kn){var In=tn.get("pageButtonPosition",!0);In==="end"?Sn[an]+=rn[ln]-_n[ln]:xn[an]+=_n[ln]+Mn}Sn[1-an]+=mn[cn]/2-_n[cn]/2,hn.setPosition(Cn),pn.setPosition(xn),gn.setPosition(Sn);var On={x:0,y:0};if(On[ln]=kn?rn[ln]:mn[ln],On[cn]=Math.max(mn[cn],_n[cn]),On[un]=Math.min(0,_n[un]+Sn[1-an]),pn.__rectSize=rn[ln],kn){var Pn={x:0,y:0};Pn[ln]=Math.max(rn[ln]-_n[ln]-Mn,0),Pn[cn]=On[cn],pn.setClipPath(new Rect$3({shape:Pn})),pn.__rectSize=Pn[ln]}else gn.eachChild(function(Nn){Nn.attr({invisible:!0,silent:!0})});var Tn=this._getPageInfo(tn);return Tn.pageIndex!=null&&updateProps$1(hn,{x:Tn.contentPosition[0],y:Tn.contentPosition[1]},kn?tn:null),this._updatePageInfoView(tn,Tn),On},en.prototype._pageGo=function(tn,nn,rn){var an=this._getPageInfo(nn)[tn];an!=null&&rn.dispatchAction({type:"legendScroll",scrollDataIndex:an,legendId:nn.id})},en.prototype._updatePageInfoView=function(tn,nn){var rn=this._controllerGroup;each$f(["pagePrev","pageNext"],function(hn){var pn=hn+"DataIndex",gn=nn[pn]!=null,mn=rn.childOfName(hn);mn&&(mn.setStyle("fill",gn?tn.get("pageIconColor",!0):tn.get("pageIconInactiveColor",!0)),mn.cursor=gn?"pointer":"default")});var an=rn.childOfName("pageText"),ln=tn.get("pageFormatter"),cn=nn.pageIndex,un=cn!=null?cn+1:0,fn=nn.pageCount;an&&ln&&an.setStyle("text",isString(ln)?ln.replace("{current}",un==null?"":un+"").replace("{total}",fn==null?"":fn+""):ln({current:un,total:fn}))},en.prototype._getPageInfo=function(tn){var nn=tn.get("scrollDataIndex",!0),rn=this.getContentGroup(),an=this._containerGroup.__rectSize,ln=tn.getOrient().index,cn=WH[ln],un=XY[ln],fn=this._findTargetItemIndex(nn),hn=rn.children(),pn=hn[fn],gn=hn.length,mn=gn?1:0,_n={contentPosition:[rn.x,rn.y],pageCount:mn,pageIndex:mn-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!pn)return _n;var kn=In(pn);_n.contentPosition[ln]=-kn.s;for(var Cn=fn+1,xn=kn,Sn=kn,Mn=null;Cn<=gn;++Cn)Mn=In(hn[Cn]),(!Mn&&Sn.e>xn.s+an||Mn&&!On(Mn,xn.s))&&(Sn.i>xn.i?xn=Sn:xn=Mn,xn&&(_n.pageNextDataIndex==null&&(_n.pageNextDataIndex=xn.i),++_n.pageCount)),Sn=Mn;for(var Cn=fn-1,xn=kn,Sn=kn,Mn=null;Cn>=-1;--Cn)Mn=In(hn[Cn]),(!Mn||!On(Sn,Mn.s))&&xn.i<Sn.i&&(Sn=xn,_n.pagePrevDataIndex==null&&(_n.pagePrevDataIndex=xn.i),++_n.pageCount,++_n.pageIndex),xn=Mn;return _n;function In(Pn){if(Pn){var Tn=Pn.getBoundingRect(),Nn=Tn[un]+Pn[un];return{s:Nn,e:Nn+Tn[cn],i:Pn.__legendDataIndex}}}function On(Pn,Tn){return Pn.e>=Tn&&Pn.s<=Tn+an}},en.prototype._findTargetItemIndex=function(tn){if(!this._showController)return 0;var nn,rn=this.getContentGroup(),an;return rn.eachChild(function(ln,cn){var un=ln.__legendDataIndex;an==null&&un!=null&&(an=cn),un===tn&&(nn=cn)}),nn??an},en.type="legend.scroll",en}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(Fe){Fe.registerAction("legendScroll","legendscroll",function(en,tn){var nn=en.scrollDataIndex;nn!=null&&tn.eachComponent({mainType:"legend",subType:"scroll",query:en},function(rn){rn.setScrollDataIndex(nn)})})}function install$a(Fe){use(install$b),Fe.registerComponentModel(ScrollableLegendModel$1),Fe.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(Fe)}function install$9(Fe){use(install$b),use(install$a)}var InsideZoomModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="dataZoom.inside",en.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),en}(DataZoomModel$1);const InsideZoomModel$1=InsideZoomModel;var inner$1=makeInner();function setViewInfoToCoordSysRecord(Fe,en,tn){inner$1(Fe).coordSysRecordMap.each(function(nn){var rn=nn.dataZoomInfoMap.get(en.uid);rn&&(rn.getRange=tn)})}function disposeCoordSysRecordIfNeeded(Fe,en){for(var tn=inner$1(Fe).coordSysRecordMap,nn=tn.keys(),rn=0;rn<nn.length;rn++){var an=nn[rn],ln=tn.get(an),cn=ln.dataZoomInfoMap;if(cn){var un=en.uid,fn=cn.get(un);fn&&(cn.removeKey(un),cn.keys().length||disposeCoordSysRecord(tn,ln))}}}function disposeCoordSysRecord(Fe,en){if(en){Fe.removeKey(en.model.uid);var tn=en.controller;tn&&tn.dispose()}}function createCoordSysRecord(Fe,en){var tn={model:en,containsPoint:curry$1(containsPoint,en),dispatchAction:curry$1(dispatchAction,Fe),dataZoomInfoMap:null,controller:null},nn=tn.controller=new RoamController$1(Fe.getZr());return each$f(["pan","zoom","scrollMove"],function(rn){nn.on(rn,function(an){var ln=[];tn.dataZoomInfoMap.each(function(cn){if(an.isAvailableBehavior(cn.model.option)){var un=(cn.getRange||{})[rn],fn=un&&un(cn.dzReferCoordSysInfo,tn.model.mainType,tn.controller,an);!cn.model.get("disabled",!0)&&fn&&ln.push({dataZoomId:cn.model.id,start:fn[0],end:fn[1]})}}),ln.length&&tn.dispatchAction(ln)})}),tn}function dispatchAction(Fe,en){Fe.isDisposed()||Fe.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:en})}function containsPoint(Fe,en,tn,nn){return Fe.coordinateSystem.containPoint([tn,nn])}function mergeControllerParams(Fe){var en,tn="type_",nn={type_true:2,type_move:1,type_false:0,type_undefined:-1},rn=!0;return Fe.each(function(an){var ln=an.model,cn=ln.get("disabled",!0)?!1:ln.get("zoomLock",!0)?"move":!0;nn[tn+cn]>nn[tn+en]&&(en=cn),rn=rn&&ln.get("preventDefaultMouseMove",!0)}),{controlType:en,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!rn}}}function installDataZoomRoamProcessor(Fe){Fe.registerProcessor(Fe.PRIORITY.PROCESSOR.FILTER,function(en,tn){var nn=inner$1(tn),rn=nn.coordSysRecordMap||(nn.coordSysRecordMap=createHashMap());rn.each(function(an){an.dataZoomInfoMap=null}),en.eachComponent({mainType:"dataZoom",subType:"inside"},function(an){var ln=collectReferCoordSysModelInfo(an);each$f(ln.infoList,function(cn){var un=cn.model.uid,fn=rn.get(un)||rn.set(un,createCoordSysRecord(tn,cn.model)),hn=fn.dataZoomInfoMap||(fn.dataZoomInfoMap=createHashMap());hn.set(an.uid,{dzReferCoordSysInfo:cn,model:an,getRange:null})})}),rn.each(function(an){var ln=an.controller,cn,un=an.dataZoomInfoMap;if(un){var fn=un.keys()[0];fn!=null&&(cn=un.get(fn))}if(!cn){disposeCoordSysRecord(rn,an);return}var hn=mergeControllerParams(un);ln.enable(hn.controlType,hn.opt),ln.setPointerChecker(an.containsPoint),createOrUpdate(an,"dispatchAction",cn.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type="dataZoom.inside",tn}return en.prototype.render=function(tn,nn,rn){if(Fe.prototype.render.apply(this,arguments),tn.noTarget()){this._clear();return}this.range=tn.getPercentRange(),setViewInfoToCoordSysRecord(rn,tn,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},en.prototype.dispose=function(){this._clear(),Fe.prototype.dispose.apply(this,arguments)},en.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},en.type="dataZoom.inside",en}(DataZoomView$1),getRangeHandlers={zoom:function(Fe,en,tn,nn){var rn=this.range,an=rn.slice(),ln=Fe.axisModels[0];if(ln){var cn=getDirectionInfo[en](null,[nn.originX,nn.originY],ln,tn,Fe),un=(cn.signal>0?cn.pixelStart+cn.pixelLength-cn.pixel:cn.pixel-cn.pixelStart)/cn.pixelLength*(an[1]-an[0])+an[0],fn=Math.max(1/nn.scale,0);an[0]=(an[0]-un)*fn+un,an[1]=(an[1]-un)*fn+un;var hn=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,an,[0,100],0,hn.minSpan,hn.maxSpan),this.range=an,rn[0]!==an[0]||rn[1]!==an[1])return an}},pan:makeMover(function(Fe,en,tn,nn,rn,an){var ln=getDirectionInfo[nn]([an.oldX,an.oldY],[an.newX,an.newY],en,rn,tn);return ln.signal*(Fe[1]-Fe[0])*ln.pixel/ln.pixelLength}),scrollMove:makeMover(function(Fe,en,tn,nn,rn,an){var ln=getDirectionInfo[nn]([0,0],[an.scrollDelta,an.scrollDelta],en,rn,tn);return ln.signal*(Fe[1]-Fe[0])*an.scrollDelta})};function makeMover(Fe){return function(en,tn,nn,rn){var an=this.range,ln=an.slice(),cn=en.axisModels[0];if(cn){var un=Fe(ln,cn,en,tn,nn,rn);if(sliderMove(un,ln,[0,100],"all"),this.range=ln,an[0]!==ln[0]||an[1]!==ln[1])return ln}}}var getDirectionInfo={grid:function(Fe,en,tn,nn,rn){var an=tn.axis,ln={},cn=rn.model.coordinateSystem.getRect();return Fe=Fe||[0,0],an.dim==="x"?(ln.pixel=en[0]-Fe[0],ln.pixelLength=cn.width,ln.pixelStart=cn.x,ln.signal=an.inverse?1:-1):(ln.pixel=en[1]-Fe[1],ln.pixelLength=cn.height,ln.pixelStart=cn.y,ln.signal=an.inverse?-1:1),ln},polar:function(Fe,en,tn,nn,rn){var an=tn.axis,ln={},cn=rn.model.coordinateSystem,un=cn.getRadiusAxis().getExtent(),fn=cn.getAngleAxis().getExtent();return Fe=Fe?cn.pointToCoord(Fe):[0,0],en=cn.pointToCoord(en),tn.mainType==="radiusAxis"?(ln.pixel=en[0]-Fe[0],ln.pixelLength=un[1]-un[0],ln.pixelStart=un[0],ln.signal=an.inverse?1:-1):(ln.pixel=en[1]-Fe[1],ln.pixelLength=fn[1]-fn[0],ln.pixelStart=fn[0],ln.signal=an.inverse?-1:1),ln},singleAxis:function(Fe,en,tn,nn,rn){var an=tn.axis,ln=rn.model.coordinateSystem.getRect(),cn={};return Fe=Fe||[0,0],an.orient==="horizontal"?(cn.pixel=en[0]-Fe[0],cn.pixelLength=ln.width,cn.pixelStart=ln.x,cn.signal=an.inverse?1:-1):(cn.pixel=en[1]-Fe[1],cn.pixelLength=ln.height,cn.pixelStart=ln.y,cn.signal=an.inverse?-1:1),cn}};const InsideZoomView$1=InsideZoomView;function install$8(Fe){installCommon$1(Fe),Fe.registerComponentModel(InsideZoomModel$1),Fe.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor(Fe)}var SliderZoomModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.type="dataZoom.slider",en.layoutMode="box",en.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),en}(DataZoomModel$1);const SliderZoomModel$1=SliderZoomModel;var Rect=Rect$3,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn._displayables={},tn}return en.prototype.init=function(tn,nn){this.api=nn,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},en.prototype.render=function(tn,nn,rn,an){if(Fe.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",tn.get("throttle"),"fixRate"),this._orient=tn.getOrient(),tn.get("show")===!1){this.group.removeAll();return}if(tn.noTarget()){this._clear(),this.group.removeAll();return}(!an||an.type!=="dataZoom"||an.from!==this.uid)&&this._buildView(),this._updateView()},en.prototype.dispose=function(){this._clear(),Fe.prototype.dispose.apply(this,arguments)},en.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var tn=this.api.getZr();tn.off("mousemove",this._onBrush),tn.off("mouseup",this._onBrushEnd)},en.prototype._buildView=function(){var tn=this.group;tn.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var nn=this._displayables.sliderGroup=new Group$4;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),tn.add(nn),this._positionGroup()},en.prototype._resetLocation=function(){var tn=this.dataZoomModel,nn=this.api,rn=tn.get("brushSelect"),an=rn?DEFAULT_MOVE_HANDLE_SIZE:0,ln=this._findCoordRect(),cn={width:nn.getWidth(),height:nn.getHeight()},un=this._orient===HORIZONTAL?{right:cn.width-ln.x-ln.width,top:cn.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-an,width:ln.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:ln.y,width:DEFAULT_FILLER_SIZE,height:ln.height},fn=getLayoutParams(tn.option);each$f(["right","top","width","height"],function(pn){fn[pn]==="ph"&&(fn[pn]=un[pn])});var hn=getLayoutRect(fn,cn);this._location={x:hn.x,y:hn.y},this._size=[hn.width,hn.height],this._orient===VERTICAL&&this._size.reverse()},en.prototype._positionGroup=function(){var tn=this.group,nn=this._location,rn=this._orient,an=this.dataZoomModel.getFirstTargetAxisModel(),ln=an&&an.get("inverse"),cn=this._displayables.sliderGroup,un=(this._dataShadowInfo||{}).otherAxisInverse;cn.attr(rn===HORIZONTAL&&!ln?{scaleY:un?1:-1,scaleX:1}:rn===HORIZONTAL&&ln?{scaleY:un?1:-1,scaleX:-1}:rn===VERTICAL&&!ln?{scaleY:un?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:un?-1:1,scaleX:-1,rotation:Math.PI/2});var fn=tn.getBoundingRect([cn]);tn.x=nn.x-fn.x,tn.y=nn.y-fn.y,tn.markRedraw()},en.prototype._getViewExtent=function(){return[0,this._size[0]]},en.prototype._renderBackground=function(){var tn=this.dataZoomModel,nn=this._size,rn=this._displayables.sliderGroup,an=tn.get("brushSelect");rn.add(new Rect({silent:!0,shape:{x:0,y:0,width:nn[0],height:nn[1]},style:{fill:tn.get("backgroundColor")},z2:-40}));var ln=new Rect({shape:{x:0,y:0,width:nn[0],height:nn[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),cn=this.api.getZr();an?(ln.on("mousedown",this._onBrushStart,this),ln.cursor="crosshair",cn.on("mousemove",this._onBrush),cn.on("mouseup",this._onBrushEnd)):(cn.off("mousemove",this._onBrush),cn.off("mouseup",this._onBrushEnd)),rn.add(ln)},en.prototype._renderDataShadow=function(){var tn=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!tn)return;var nn=this._size,rn=this._shadowSize||[],an=tn.series,ln=an.getRawData(),cn=an.getShadowDim&&an.getShadowDim(),un=cn&&ln.getDimensionInfo(cn)?an.getShadowDim():tn.otherDim;if(un==null)return;var fn=this._shadowPolygonPts,hn=this._shadowPolylinePts;if(ln!==this._shadowData||un!==this._shadowDim||nn[0]!==rn[0]||nn[1]!==rn[1]){var pn=ln.getDataExtent(un),gn=(pn[1]-pn[0])*.3;pn=[pn[0]-gn,pn[1]+gn];var mn=[0,nn[1]],_n=[0,nn[0]],kn=[[nn[0],0],[0,0]],Cn=[],xn=_n[1]/(ln.count()-1),Sn=0,Mn=Math.round(ln.count()/nn[0]),In;ln.each([un],function(Hn,Un){if(Mn>0&&Un%Mn){Sn+=xn;return}var jn=Hn==null||isNaN(Hn)||Hn==="",Yn=jn?0:linearMap$2(Hn,pn,mn,!0);jn&&!In&&Un?(kn.push([kn[kn.length-1][0],0]),Cn.push([Cn[Cn.length-1][0],0])):!jn&&In&&(kn.push([Sn,0]),Cn.push([Sn,0])),kn.push([Sn,Yn]),Cn.push([Sn,Yn]),Sn+=xn,In=jn}),fn=this._shadowPolygonPts=kn,hn=this._shadowPolylinePts=Cn}this._shadowData=ln,this._shadowDim=un,this._shadowSize=[nn[0],nn[1]];var On=this.dataZoomModel;function Pn(Hn){var Un=On.getModel(Hn?"selectedDataBackground":"dataBackground"),jn=new Group$4,Yn=new Polygon$1({shape:{points:fn},segmentIgnoreThreshold:1,style:Un.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Wn=new Polyline$3({shape:{points:hn},segmentIgnoreThreshold:1,style:Un.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return jn.add(Yn),jn.add(Wn),jn}for(var Tn=0;Tn<3;Tn++){var Nn=Pn(Tn===1);this._displayables.sliderGroup.add(Nn),this._displayables.dataShadowSegs.push(Nn)}},en.prototype._prepareDataShadowInfo=function(){var tn=this.dataZoomModel,nn=tn.get("showDataShadow");if(nn!==!1){var rn,an=this.ecModel;return tn.eachTargetAxis(function(ln,cn){var un=tn.getAxisProxy(ln,cn).getTargetSeriesModels();each$f(un,function(fn){if(!rn&&!(nn!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,fn.get("type"))<0)){var hn=an.getComponent(getAxisMainType(ln),cn).axis,pn=getOtherDim(ln),gn,mn=fn.coordinateSystem;pn!=null&&mn.getOtherAxis&&(gn=mn.getOtherAxis(hn).inverse),pn=fn.getData().mapDimension(pn),rn={thisAxis:hn,series:fn,thisDim:ln,otherDim:pn,otherAxisInverse:gn}}},this)},this),rn}},en.prototype._renderHandle=function(){var tn=this.group,nn=this._displayables,rn=nn.handles=[null,null],an=nn.handleLabels=[null,null],ln=this._displayables.sliderGroup,cn=this._size,un=this.dataZoomModel,fn=this.api,hn=un.get("borderRadius")||0,pn=un.get("brushSelect"),gn=nn.filler=new Rect({silent:pn,style:{fill:un.get("fillerColor")},textConfig:{position:"inside"}});ln.add(gn),ln.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:cn[0],height:cn[1],r:hn},style:{stroke:un.get("dataBackgroundColor")||un.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(Mn){var In=un.get("handleIcon");!symbolBuildProxies[In]&&In.indexOf("path://")<0&&In.indexOf("image://")<0&&(In="path://"+In);var On=createSymbol$1(In,-1,0,2,2,null,!0);On.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,Mn),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var Pn=On.getBoundingRect(),Tn=un.get("handleSize");this._handleHeight=parsePercent(Tn,this._size[1]),this._handleWidth=Pn.width/Pn.height*this._handleHeight,On.setStyle(un.getModel("handleStyle").getItemStyle()),On.style.strokeNoScale=!0,On.rectHover=!0,On.ensureState("emphasis").style=un.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(On);var Nn=un.get("handleColor");Nn!=null&&(On.style.fill=Nn),ln.add(rn[Mn]=On);var Hn=un.getModel("textStyle");tn.add(an[Mn]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle$1(Hn,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:Hn.getTextColor(),font:Hn.getFont()}),z2:10}))},this);var mn=gn;if(pn){var _n=parsePercent(un.get("moveHandleSize"),cn[1]),kn=nn.moveHandle=new Rect$3({style:un.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:cn[1]-.5,height:_n}}),Cn=_n*.8,xn=nn.moveHandleIcon=createSymbol$1(un.get("moveHandleIcon"),-Cn/2,-Cn/2,Cn,Cn,"#fff",!0);xn.silent=!0,xn.y=cn[1]+_n/2-.5,kn.ensureState("emphasis").style=un.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var Sn=Math.min(cn[1]/2,Math.max(_n,10));mn=nn.moveZone=new Rect$3({invisible:!0,shape:{y:cn[1]-Sn,height:_n+Sn}}),mn.on("mouseover",function(){fn.enterEmphasis(kn)}).on("mouseout",function(){fn.leaveEmphasis(kn)}),ln.add(kn),ln.add(xn),ln.add(mn)}mn.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},en.prototype._resetInterval=function(){var tn=this._range=this.dataZoomModel.getPercentRange(),nn=this._getViewExtent();this._handleEnds=[linearMap$2(tn[0],[0,100],nn,!0),linearMap$2(tn[1],[0,100],nn,!0)]},en.prototype._updateInterval=function(tn,nn){var rn=this.dataZoomModel,an=this._handleEnds,ln=this._getViewExtent(),cn=rn.findRepresentativeAxisProxy().getMinMaxSpan(),un=[0,100];sliderMove(nn,an,ln,rn.get("zoomLock")?"all":tn,cn.minSpan!=null?linearMap$2(cn.minSpan,un,ln,!0):null,cn.maxSpan!=null?linearMap$2(cn.maxSpan,un,ln,!0):null);var fn=this._range,hn=this._range=asc$2([linearMap$2(an[0],ln,un,!0),linearMap$2(an[1],ln,un,!0)]);return!fn||fn[0]!==hn[0]||fn[1]!==hn[1]},en.prototype._updateView=function(tn){var nn=this._displayables,rn=this._handleEnds,an=asc$2(rn.slice()),ln=this._size;each$f([0,1],function(mn){var _n=nn.handles[mn],kn=this._handleHeight;_n.attr({scaleX:kn/2,scaleY:kn/2,x:rn[mn]+(mn?-1:1),y:ln[1]/2-kn/2})},this),nn.filler.setShape({x:an[0],y:0,width:an[1]-an[0],height:ln[1]});var cn={x:an[0],width:an[1]-an[0]};nn.moveHandle&&(nn.moveHandle.setShape(cn),nn.moveZone.setShape(cn),nn.moveZone.getBoundingRect(),nn.moveHandleIcon&&nn.moveHandleIcon.attr("x",cn.x+cn.width/2));for(var un=nn.dataShadowSegs,fn=[0,an[0],an[1],ln[0]],hn=0;hn<un.length;hn++){var pn=un[hn],gn=pn.getClipPath();gn||(gn=new Rect$3,pn.setClipPath(gn)),gn.setShape({x:fn[hn],y:0,width:fn[hn+1]-fn[hn],height:ln[1]})}this._updateDataInfo(tn)},en.prototype._updateDataInfo=function(tn){var nn=this.dataZoomModel,rn=this._displayables,an=rn.handleLabels,ln=this._orient,cn=["",""];if(nn.get("showDetail")){var un=nn.findRepresentativeAxisProxy();if(un){var fn=un.getAxisModel().axis,hn=this._range,pn=tn?un.calculateDataWindow({start:hn[0],end:hn[1]}).valueWindow:un.getDataValueWindow();cn=[this._formatLabel(pn[0],fn),this._formatLabel(pn[1],fn)]}}var gn=asc$2(this._handleEnds.slice());mn.call(this,0),mn.call(this,1);function mn(_n){var kn=getTransform$1(rn.handles[_n].parent,this.group),Cn=transformDirection(_n===0?"right":"left",kn),xn=this._handleWidth/2+LABEL_GAP,Sn=applyTransform([gn[_n]+(_n===0?-xn:xn),this._size[1]/2],kn);an[_n].setStyle({x:Sn[0],y:Sn[1],verticalAlign:ln===HORIZONTAL?"middle":Cn,align:ln===HORIZONTAL?Cn:"center",text:cn[_n]})}},en.prototype._formatLabel=function(tn,nn){var rn=this.dataZoomModel,an=rn.get("labelFormatter"),ln=rn.get("labelPrecision");(ln==null||ln==="auto")&&(ln=nn.getPixelPrecision());var cn=tn==null||isNaN(tn)?"":nn.type==="category"||nn.type==="time"?nn.scale.getLabel({value:Math.round(tn)}):tn.toFixed(Math.min(ln,20));return isFunction(an)?an(tn,cn):isString(an)?an.replace("{value}",cn):cn},en.prototype._showDataInfo=function(tn){tn=this._dragging||tn;var nn=this._displayables,rn=nn.handleLabels;rn[0].attr("invisible",!tn),rn[1].attr("invisible",!tn),nn.moveHandle&&this.api[tn?"enterEmphasis":"leaveEmphasis"](nn.moveHandle,1)},en.prototype._onDragMove=function(tn,nn,rn,an){this._dragging=!0,stop(an.event);var ln=this._displayables.sliderGroup.getLocalTransform(),cn=applyTransform([nn,rn],ln,!0),un=this._updateInterval(tn,cn[0]),fn=this.dataZoomModel.get("realtime");this._updateView(!fn),un&&fn&&this._dispatchZoomAction(!0)},en.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var tn=this.dataZoomModel.get("realtime");!tn&&this._dispatchZoomAction(!1)},en.prototype._onClickPanel=function(tn){var nn=this._size,rn=this._displayables.sliderGroup.transformCoordToLocal(tn.offsetX,tn.offsetY);if(!(rn[0]<0||rn[0]>nn[0]||rn[1]<0||rn[1]>nn[1])){var an=this._handleEnds,ln=(an[0]+an[1])/2,cn=this._updateInterval("all",rn[0]-ln);this._updateView(),cn&&this._dispatchZoomAction(!1)}},en.prototype._onBrushStart=function(tn){var nn=tn.offsetX,rn=tn.offsetY;this._brushStart=new Point$1(nn,rn),this._brushing=!0,this._brushStartTime=+new Date},en.prototype._onBrushEnd=function(tn){if(this._brushing){var nn=this._displayables.brushRect;if(this._brushing=!1,!!nn){nn.attr("ignore",!0);var rn=nn.shape,an=+new Date;if(!(an-this._brushStartTime<200&&Math.abs(rn.width)<5)){var ln=this._getViewExtent(),cn=[0,100];this._range=asc$2([linearMap$2(rn.x,ln,cn,!0),linearMap$2(rn.x+rn.width,ln,cn,!0)]),this._handleEnds=[rn.x,rn.x+rn.width],this._updateView(),this._dispatchZoomAction(!1)}}}},en.prototype._onBrush=function(tn){this._brushing&&(stop(tn.event),this._updateBrushRect(tn.offsetX,tn.offsetY))},en.prototype._updateBrushRect=function(tn,nn){var rn=this._displayables,an=this.dataZoomModel,ln=rn.brushRect;ln||(ln=rn.brushRect=new Rect({silent:!0,style:an.getModel("brushStyle").getItemStyle()}),rn.sliderGroup.add(ln)),ln.attr("ignore",!1);var cn=this._brushStart,un=this._displayables.sliderGroup,fn=un.transformCoordToLocal(tn,nn),hn=un.transformCoordToLocal(cn.x,cn.y),pn=this._size;fn[0]=Math.max(Math.min(pn[0],fn[0]),0),ln.setShape({x:hn[0],y:0,width:fn[0]-hn[0],height:pn[1]})},en.prototype._dispatchZoomAction=function(tn){var nn=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:tn?REALTIME_ANIMATION_CONFIG:null,start:nn[0],end:nn[1]})},en.prototype._findCoordRect=function(){var tn,nn=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!tn&&nn.length){var rn=nn[0].model.coordinateSystem;tn=rn.getRect&&rn.getRect()}if(!tn){var an=this.api.getWidth(),ln=this.api.getHeight();tn={x:an*.2,y:ln*.2,width:an*.6,height:ln*.6}}return tn},en.type="dataZoom.slider",en}(DataZoomView$1);function getOtherDim(Fe){var en={x:"y",y:"x",radius:"angle",angle:"radius"};return en[Fe]}function getCursor$1(Fe){return Fe==="vertical"?"ns-resize":"ew-resize"}const SliderZoomView$1=SliderZoomView;function install$7(Fe){Fe.registerComponentModel(SliderZoomModel$1),Fe.registerComponentView(SliderZoomView$1),installCommon$1(Fe)}function install$6(Fe){use(install$8),use(install$7)}var visualDefault={get:function(Fe,en,tn){var nn=clone$4((defaultOption[Fe]||{})[en]);return tn&&isArray$1(nn)?nn[nn.length-1]:nn}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const visualDefault$1=visualDefault;var mapVisual=VisualMapping$1.mapVisual,eachVisual=VisualMapping$1.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.stateList=["inRange","outOfRange"],tn.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],tn.layoutMode={type:"box",ignoreSize:!0},tn.dataBound=[-1/0,1/0],tn.targetVisuals={},tn.controllerVisuals={},tn}return en.prototype.init=function(tn,nn,rn){this.mergeDefaultAndTheme(tn,rn)},en.prototype.optionUpdated=function(tn,nn){var rn=this.option;!nn&&replaceVisualOption(rn,tn,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},en.prototype.resetVisual=function(tn){var nn=this.stateList;tn=bind$1(tn,this),this.controllerVisuals=createVisualMappings(this.option.controller,nn,tn),this.targetVisuals=createVisualMappings(this.option.target,nn,tn)},en.prototype.getItemSymbol=function(){return null},en.prototype.getTargetSeriesIndices=function(){var tn=this.option.seriesIndex,nn=[];return tn==null||tn==="all"?this.ecModel.eachSeries(function(rn,an){nn.push(an)}):nn=normalizeToArray(tn),nn},en.prototype.eachTargetSeries=function(tn,nn){each$f(this.getTargetSeriesIndices(),function(rn){var an=this.ecModel.getSeriesByIndex(rn);an&&tn.call(nn,an)},this)},en.prototype.isTargetSeries=function(tn){var nn=!1;return this.eachTargetSeries(function(rn){rn===tn&&(nn=!0)}),nn},en.prototype.formatValueText=function(tn,nn,rn){var an=this.option,ln=an.precision,cn=this.dataBound,un=an.formatter,fn;rn=rn||["<",">"],isArray$1(tn)&&(tn=tn.slice(),fn=!0);var hn=nn?tn:fn?[pn(tn[0]),pn(tn[1])]:pn(tn);if(isString(un))return un.replace("{value}",fn?hn[0]:hn).replace("{value2}",fn?hn[1]:hn);if(isFunction(un))return fn?un(tn[0],tn[1]):un(tn);if(fn)return tn[0]===cn[0]?rn[0]+" "+hn[1]:tn[1]===cn[1]?rn[1]+" "+hn[0]:hn[0]+" - "+hn[1];return hn;function pn(gn){return gn===cn[0]?"min":gn===cn[1]?"max":(+gn).toFixed(Math.min(ln,20))}},en.prototype.resetExtent=function(){var tn=this.option,nn=asc([tn.min,tn.max]);this._dataExtent=nn},en.prototype.getDataDimensionIndex=function(tn){var nn=this.option.dimension;if(nn!=null)return tn.getDimensionIndex(nn);for(var rn=tn.dimensions,an=rn.length-1;an>=0;an--){var ln=rn[an],cn=tn.getDimensionInfo(ln);if(!cn.isCalculationCoord)return cn.storeDimIndex}},en.prototype.getExtent=function(){return this._dataExtent.slice()},en.prototype.completeVisualOption=function(){var tn=this.ecModel,nn=this.option,rn={inRange:nn.inRange,outOfRange:nn.outOfRange},an=nn.target||(nn.target={}),ln=nn.controller||(nn.controller={});merge(an,rn),merge(ln,rn);var cn=this.isCategory();un.call(this,an),un.call(this,ln),fn.call(this,an,"inRange","outOfRange"),hn.call(this,ln);function un(pn){isArray(nn.color)&&!pn.inRange&&(pn.inRange={color:nn.color.slice().reverse()}),pn.inRange=pn.inRange||{color:tn.get("gradientColor")}}function fn(pn,gn,mn){var _n=pn[gn],kn=pn[mn];_n&&!kn&&(kn=pn[mn]={},each$2(_n,function(Cn,xn){if(VisualMapping$1.isValidType(xn)){var Sn=visualDefault$1.get(xn,"inactive",cn);Sn!=null&&(kn[xn]=Sn,xn==="color"&&!kn.hasOwnProperty("opacity")&&!kn.hasOwnProperty("colorAlpha")&&(kn.opacity=[0,0]))}}))}function hn(pn){var gn=(pn.inRange||{}).symbol||(pn.outOfRange||{}).symbol,mn=(pn.inRange||{}).symbolSize||(pn.outOfRange||{}).symbolSize,_n=this.get("inactiveColor"),kn=this.getItemSymbol(),Cn=kn||"roundRect";each$2(this.stateList,function(xn){var Sn=this.itemSize,Mn=pn[xn];Mn||(Mn=pn[xn]={color:cn?_n:[_n]}),Mn.symbol==null&&(Mn.symbol=gn&&clone$4(gn)||(cn?Cn:[Cn])),Mn.symbolSize==null&&(Mn.symbolSize=mn&&clone$4(mn)||(cn?Sn[0]:[Sn[0],Sn[0]])),Mn.symbol=mapVisual(Mn.symbol,function(Pn){return Pn==="none"?Cn:Pn});var In=Mn.symbolSize;if(In!=null){var On=-1/0;eachVisual(In,function(Pn){Pn>On&&(On=Pn)}),Mn.symbolSize=mapVisual(In,function(Pn){return linearMap$1(Pn,[0,On],[0,Sn[0]],!0)})}},this)}},en.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},en.prototype.isCategory=function(){return!!this.option.categories},en.prototype.setSelected=function(tn){},en.prototype.getSelected=function(){return null},en.prototype.getValueState=function(tn){return null},en.prototype.getVisualMeta=function(tn){return null},en.type="visualMap",en.dependencies=["series"],en.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},en}(ComponentModel$1);const VisualMapModel$1=VisualMapModel;var DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.optionUpdated=function(tn,nn){Fe.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(rn){rn.mappingMethod="linear",rn.dataExtent=this.getExtent()}),this._resetRange()},en.prototype.resetItemSize=function(){Fe.prototype.resetItemSize.apply(this,arguments);var tn=this.itemSize;(tn[0]==null||isNaN(tn[0]))&&(tn[0]=DEFAULT_BAR_BOUND[0]),(tn[1]==null||isNaN(tn[1]))&&(tn[1]=DEFAULT_BAR_BOUND[1])},en.prototype._resetRange=function(){var tn=this.getExtent(),nn=this.option.range;!nn||nn.auto?(tn.auto=1,this.option.range=tn):isArray$1(nn)&&(nn[0]>nn[1]&&nn.reverse(),nn[0]=Math.max(nn[0],tn[0]),nn[1]=Math.min(nn[1],tn[1]))},en.prototype.completeVisualOption=function(){Fe.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(tn){var nn=this.option.controller[tn].symbolSize;nn&&nn[0]!==nn[1]&&(nn[0]=nn[1]/3)},this)},en.prototype.setSelected=function(tn){this.option.range=tn.slice(),this._resetRange()},en.prototype.getSelected=function(){var tn=this.getExtent(),nn=asc$2((this.get("range")||[]).slice());return nn[0]>tn[1]&&(nn[0]=tn[1]),nn[1]>tn[1]&&(nn[1]=tn[1]),nn[0]<tn[0]&&(nn[0]=tn[0]),nn[1]<tn[0]&&(nn[1]=tn[0]),nn},en.prototype.getValueState=function(tn){var nn=this.option.range,rn=this.getExtent();return(nn[0]<=rn[0]||nn[0]<=tn)&&(nn[1]>=rn[1]||tn<=nn[1])?"inRange":"outOfRange"},en.prototype.findTargetDataIndices=function(tn){var nn=[];return this.eachTargetSeries(function(rn){var an=[],ln=rn.getData();ln.each(this.getDataDimensionIndex(ln),function(cn,un){tn[0]<=cn&&cn<=tn[1]&&an.push(un)},this),nn.push({seriesId:rn.id,dataIndex:an})},this),nn},en.prototype.getVisualMeta=function(tn){var nn=getColorStopValues(this,"outOfRange",this.getExtent()),rn=getColorStopValues(this,"inRange",this.option.range.slice()),an=[];function ln(mn,_n){an.push({value:mn,color:tn(mn,_n)})}for(var cn=0,un=0,fn=rn.length,hn=nn.length;un<hn&&(!rn.length||nn[un]<=rn[0]);un++)nn[un]<rn[cn]&&ln(nn[un],"outOfRange");for(var pn=1;cn<fn;cn++,pn=0)pn&&an.length&&ln(rn[cn],"outOfRange"),ln(rn[cn],"inRange");for(var pn=1;un<hn;un++)(!rn.length||rn[rn.length-1]<nn[un])&&(pn&&(an.length&&ln(an[an.length-1].value,"outOfRange"),pn=0),ln(nn[un],"outOfRange"));var gn=an.length;return{stops:an,outerColors:[gn?an[0].color:"transparent",gn?an[gn-1].color:"transparent"]}},en.type="visualMap.continuous",en.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),en}(VisualMapModel$1);function getColorStopValues(Fe,en,tn){if(tn[0]===tn[1])return tn.slice();for(var nn=200,rn=(tn[1]-tn[0])/nn,an=tn[0],ln=[],cn=0;cn<=nn&&an<tn[1];cn++)ln.push(an),an+=rn;return ln.push(tn[1]),ln}const ContinuousModel$1=ContinuousModel;var VisualMapView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn.autoPositionValues={left:1,right:1,top:1,bottom:1},tn}return en.prototype.init=function(tn,nn){this.ecModel=tn,this.api=nn},en.prototype.render=function(tn,nn,rn,an){if(this.visualMapModel=tn,tn.get("show")===!1){this.group.removeAll();return}this.doRender(tn,nn,rn,an)},en.prototype.renderBackground=function(tn){var nn=this.visualMapModel,rn=normalizeCssArray(nn.get("padding")||0),an=tn.getBoundingRect();tn.add(new Rect$3({z2:-1,silent:!0,shape:{x:an.x-rn[3],y:an.y-rn[0],width:an.width+rn[3]+rn[1],height:an.height+rn[0]+rn[2]},style:{fill:nn.get("backgroundColor"),stroke:nn.get("borderColor"),lineWidth:nn.get("borderWidth")}}))},en.prototype.getControllerVisual=function(tn,nn,rn){rn=rn||{};var an=rn.forceState,ln=this.visualMapModel,cn={};if(nn==="color"){var un=ln.get("contentColor");cn.color=un}function fn(mn){return cn[mn]}function hn(mn,_n){cn[mn]=_n}var pn=ln.controllerVisuals[an||ln.getValueState(tn)],gn=VisualMapping$1.prepareVisualTypes(pn);return each$f(gn,function(mn){var _n=pn[mn];rn.convertOpacityToAlpha&&mn==="opacity"&&(mn="colorAlpha",_n=pn.__alphaForOpacity),VisualMapping$1.dependsOn(mn,nn)&&_n&&_n.applyVisual(tn,fn,hn)}),cn[nn]},en.prototype.positionGroup=function(tn){var nn=this.visualMapModel,rn=this.api;positionElement(tn,nn.getBoxLayoutParams(),{width:rn.getWidth(),height:rn.getHeight()})},en.prototype.doRender=function(tn,nn,rn,an){},en.type="visualMap",en}(ComponentView$1);const VisualMapView$1=VisualMapView;var paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(Fe,en,tn){var nn=Fe.option,rn=nn.align;if(rn!=null&&rn!=="auto")return rn;for(var an={width:en.getWidth(),height:en.getHeight()},ln=nn.orient==="horizontal"?1:0,cn=paramsSet[ln],un=[0,null,10],fn={},hn=0;hn<3;hn++)fn[paramsSet[1-ln][hn]]=un[hn],fn[cn[hn]]=hn===2?tn[0]:nn[cn[hn]];var pn=[["x","width",3],["y","height",0]][ln],gn=getLayoutRect(fn,an,nn.padding);return cn[(gn.margin[pn[2]]||0)+gn[pn[0]]+gn[pn[1]]*.5<an[pn[1]]*.5?0:1]}function makeHighDownBatch(Fe,en){return each$f(Fe||[],function(tn){tn.dataIndex!=null&&(tn.dataIndexInside=tn.dataIndex,tn.dataIndex=null),tn.highlightKey="visualMap"+(en?en.componentIndex:"")}),Fe}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn._shapes={},tn._dataInterval=[],tn._handleEnds=[],tn._hoverLinkDataIndices=[],tn}return en.prototype.doRender=function(tn,nn,rn,an){this._api=rn,(!an||an.type!=="selectDataRange"||an.from!==this.uid)&&this._buildView()},en.prototype._buildView=function(){this.group.removeAll();var tn=this.visualMapModel,nn=this.group;this._orient=tn.get("orient"),this._useHandle=tn.get("calculable"),this._resetInterval(),this._renderBar(nn);var rn=tn.get("text");this._renderEndsText(nn,rn,0),this._renderEndsText(nn,rn,1),this._updateView(!0),this.renderBackground(nn),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(nn)},en.prototype._renderEndsText=function(tn,nn,rn){if(nn){var an=nn[1-rn];an=an!=null?an+"":"";var ln=this.visualMapModel,cn=ln.get("textGap"),un=ln.itemSize,fn=this._shapes.mainGroup,hn=this._applyTransform([un[0]/2,rn===0?-cn:un[1]+cn],fn),pn=this._applyTransform(rn===0?"bottom":"top",fn),gn=this._orient,mn=this.visualMapModel.textStyleModel;this.group.add(new ZRText$1({style:createTextStyle$1(mn,{x:hn[0],y:hn[1],verticalAlign:gn==="horizontal"?"middle":pn,align:gn==="horizontal"?pn:"center",text:an})}))}},en.prototype._renderBar=function(tn){var nn=this.visualMapModel,rn=this._shapes,an=nn.itemSize,ln=this._orient,cn=this._useHandle,un=getItemAlign(nn,this.api,an),fn=rn.mainGroup=this._createBarGroup(un),hn=new Group$4;fn.add(hn),hn.add(rn.outOfRange=createPolygon()),hn.add(rn.inRange=createPolygon(null,cn?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),hn.setClipPath(new Rect$3({shape:{x:0,y:0,width:an[0],height:an[1],r:3}}));var pn=nn.textStyleModel.getTextRect("å½"),gn=mathMax(pn.width,pn.height);cn&&(rn.handleThumbs=[],rn.handleLabels=[],rn.handleLabelPoints=[],this._createHandle(nn,fn,0,an,gn,ln),this._createHandle(nn,fn,1,an,gn,ln)),this._createIndicator(nn,fn,an,gn,ln),tn.add(fn)},en.prototype._createHandle=function(tn,nn,rn,an,ln,cn){var un=bind$1(this._dragHandle,this,rn,!1),fn=bind$1(this._dragHandle,this,rn,!0),hn=parsePercent$1(tn.get("handleSize"),an[0]),pn=createSymbol$1(tn.get("handleIcon"),-hn/2,-hn/2,hn,hn,null,!0),gn=getCursor(this._orient);pn.attr({cursor:gn,draggable:!0,drift:un,ondragend:fn,onmousemove:function(xn){stop(xn.event)}}),pn.x=an[0]/2,pn.useStyle(tn.getModel("handleStyle").getItemStyle()),pn.setStyle({strokeNoScale:!0,strokeFirst:!0}),pn.style.lineWidth*=2,pn.ensureState("emphasis").style=tn.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(pn,!0),nn.add(pn);var mn=this.visualMapModel.textStyleModel,_n=new ZRText$1({cursor:gn,draggable:!0,drift:un,onmousemove:function(xn){stop(xn.event)},ondragend:fn,style:createTextStyle$1(mn,{x:0,y:0,text:""})});_n.ensureState("blur").style={opacity:.1},_n.stateTransition={duration:200},this.group.add(_n);var kn=[hn,0],Cn=this._shapes;Cn.handleThumbs[rn]=pn,Cn.handleLabelPoints[rn]=kn,Cn.handleLabels[rn]=_n},en.prototype._createIndicator=function(tn,nn,rn,an,ln){var cn=parsePercent$1(tn.get("indicatorSize"),rn[0]),un=createSymbol$1(tn.get("indicatorIcon"),-cn/2,-cn/2,cn,cn,null,!0);un.attr({cursor:"move",invisible:!0,silent:!0,x:rn[0]/2});var fn=tn.getModel("indicatorStyle").getItemStyle();if(un instanceof ZRImage$1){var hn=un.style;un.useStyle(extend$1({image:hn.image,x:hn.x,y:hn.y,width:hn.width,height:hn.height},fn))}else un.useStyle(fn);nn.add(un);var pn=this.visualMapModel.textStyleModel,gn=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle$1(pn,{x:0,y:0,text:""})});this.group.add(gn);var mn=[(ln==="horizontal"?an/2:HOVER_LINK_OUT)+rn[0]/2,0],_n=this._shapes;_n.indicator=un,_n.indicatorLabel=gn,_n.indicatorLabelPoint=mn,this._firstShowIndicator=!0},en.prototype._dragHandle=function(tn,nn,rn,an){if(this._useHandle){if(this._dragging=!nn,!nn){var ln=this._applyTransform([rn,an],this._shapes.mainGroup,!0);this._updateInterval(tn,ln[1]),this._hideIndicator(),this._updateView()}nn===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),nn?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[tn],!1)}},en.prototype._resetInterval=function(){var tn=this.visualMapModel,nn=this._dataInterval=tn.getSelected(),rn=tn.getExtent(),an=[0,tn.itemSize[1]];this._handleEnds=[linearMap(nn[0],rn,an,!0),linearMap(nn[1],rn,an,!0)]},en.prototype._updateInterval=function(tn,nn){nn=nn||0;var rn=this.visualMapModel,an=this._handleEnds,ln=[0,rn.itemSize[1]];sliderMove(nn,an,ln,tn,0);var cn=rn.getExtent();this._dataInterval=[linearMap(an[0],ln,cn,!0),linearMap(an[1],ln,cn,!0)]},en.prototype._updateView=function(tn){var nn=this.visualMapModel,rn=nn.getExtent(),an=this._shapes,ln=[0,nn.itemSize[1]],cn=tn?ln:this._handleEnds,un=this._createBarVisual(this._dataInterval,rn,cn,"inRange"),fn=this._createBarVisual(rn,rn,ln,"outOfRange");an.inRange.setStyle({fill:un.barColor}).setShape("points",un.barPoints),an.outOfRange.setStyle({fill:fn.barColor}).setShape("points",fn.barPoints),this._updateHandle(cn,un)},en.prototype._createBarVisual=function(tn,nn,rn,an){var ln={forceState:an,convertOpacityToAlpha:!0},cn=this._makeColorGradient(tn,ln),un=[this.getControllerVisual(tn[0],"symbolSize",ln),this.getControllerVisual(tn[1],"symbolSize",ln)],fn=this._createBarPoints(rn,un);return{barColor:new LinearGradient$1(0,0,0,1,cn),barPoints:fn,handlesColor:[cn[0].color,cn[cn.length-1].color]}},en.prototype._makeColorGradient=function(tn,nn){var rn=100,an=[],ln=(tn[1]-tn[0])/rn;an.push({color:this.getControllerVisual(tn[0],"color",nn),offset:0});for(var cn=1;cn<rn;cn++){var un=tn[0]+ln*cn;if(un>tn[1])break;an.push({color:this.getControllerVisual(un,"color",nn),offset:cn/rn})}return an.push({color:this.getControllerVisual(tn[1],"color",nn),offset:1}),an},en.prototype._createBarPoints=function(tn,nn){var rn=this.visualMapModel.itemSize;return[[rn[0]-nn[0],tn[0]],[rn[0],tn[0]],[rn[0],tn[1]],[rn[0]-nn[1],tn[1]]]},en.prototype._createBarGroup=function(tn){var nn=this._orient,rn=this.visualMapModel.get("inverse");return new Group$4(nn==="horizontal"&&!rn?{scaleX:tn==="bottom"?1:-1,rotation:Math.PI/2}:nn==="horizontal"&&rn?{scaleX:tn==="bottom"?-1:1,rotation:-Math.PI/2}:nn==="vertical"&&!rn?{scaleX:tn==="left"?1:-1,scaleY:-1}:{scaleX:tn==="left"?1:-1})},en.prototype._updateHandle=function(tn,nn){if(this._useHandle){var rn=this._shapes,an=this.visualMapModel,ln=rn.handleThumbs,cn=rn.handleLabels,un=an.itemSize,fn=an.getExtent();each$1([0,1],function(hn){var pn=ln[hn];pn.setStyle("fill",nn.handlesColor[hn]),pn.y=tn[hn];var gn=linearMap(tn[hn],[0,un[1]],fn,!0),mn=this.getControllerVisual(gn,"symbolSize");pn.scaleX=pn.scaleY=mn/un[0],pn.x=un[0]-mn/2;var _n=applyTransform(rn.handleLabelPoints[hn],getTransform$1(pn,this.group));cn[hn].setStyle({x:_n[0],y:_n[1],text:an.formatValueText(this._dataInterval[hn]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",rn.mainGroup):"center"})},this)}},en.prototype._showIndicator=function(tn,nn,rn,an){var ln=this.visualMapModel,cn=ln.getExtent(),un=ln.itemSize,fn=[0,un[1]],hn=this._shapes,pn=hn.indicator;if(pn){pn.attr("invisible",!1);var gn={convertOpacityToAlpha:!0},mn=this.getControllerVisual(tn,"color",gn),_n=this.getControllerVisual(tn,"symbolSize"),kn=linearMap(tn,cn,fn,!0),Cn=un[0]-_n/2,xn={x:pn.x,y:pn.y};pn.y=kn,pn.x=Cn;var Sn=applyTransform(hn.indicatorLabelPoint,getTransform$1(pn,this.group)),Mn=hn.indicatorLabel;Mn.attr("invisible",!1);var In=this._applyTransform("left",hn.mainGroup),On=this._orient,Pn=On==="horizontal";Mn.setStyle({text:(rn||"")+ln.formatValueText(nn),verticalAlign:Pn?In:"middle",align:Pn?"center":In});var Tn={x:Cn,y:kn,style:{fill:mn}},Nn={style:{x:Sn[0],y:Sn[1]}};if(ln.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var Hn={duration:100,easing:"cubicInOut",additive:!0};pn.x=xn.x,pn.y=xn.y,pn.animateTo(Tn,Hn),Mn.animateTo(Nn,Hn)}else pn.attr(Tn),Mn.attr(Nn);this._firstShowIndicator=!1;var Un=this._shapes.handleLabels;if(Un)for(var jn=0;jn<Un.length;jn++)this._api.enterBlur(Un[jn])}},en.prototype._enableHoverLinkToSeries=function(){var tn=this;this._shapes.mainGroup.on("mousemove",function(nn){if(tn._hovering=!0,!tn._dragging){var rn=tn.visualMapModel.itemSize,an=tn._applyTransform([nn.offsetX,nn.offsetY],tn._shapes.mainGroup,!0,!0);an[1]=mathMin(mathMax(0,an[1]),rn[1]),tn._doHoverLinkToSeries(an[1],0<=an[0]&&an[0]<=rn[0])}}).on("mouseout",function(){tn._hovering=!1,!tn._dragging&&tn._clearHoverLinkToSeries()})},en.prototype._enableHoverLinkFromSeries=function(){var tn=this.api.getZr();this.visualMapModel.option.hoverLink?(tn.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),tn.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},en.prototype._doHoverLinkToSeries=function(tn,nn){var rn=this.visualMapModel,an=rn.itemSize;if(rn.option.hoverLink){var ln=[0,an[1]],cn=rn.getExtent();tn=mathMin(mathMax(ln[0],tn),ln[1]);var un=getHalfHoverLinkSize(rn,cn,ln),fn=[tn-un,tn+un],hn=linearMap(tn,ln,cn,!0),pn=[linearMap(fn[0],ln,cn,!0),linearMap(fn[1],ln,cn,!0)];fn[0]<ln[0]&&(pn[0]=-1/0),fn[1]>ln[1]&&(pn[1]=1/0),nn&&(pn[0]===-1/0?this._showIndicator(hn,pn[1],"< ",un):pn[1]===1/0?this._showIndicator(hn,pn[0],"> ",un):this._showIndicator(hn,hn,"â ",un));var gn=this._hoverLinkDataIndices,mn=[];(nn||useHoverLinkOnHandle(rn))&&(mn=this._hoverLinkDataIndices=rn.findTargetDataIndices(pn));var _n=compressBatches(gn,mn);this._dispatchHighDown("downplay",makeHighDownBatch(_n[0],rn)),this._dispatchHighDown("highlight",makeHighDownBatch(_n[1],rn))}},en.prototype._hoverLinkFromSeriesMouseOver=function(tn){var nn;if(findEventDispatcher(tn.target,function(un){var fn=getECData(un);if(fn.dataIndex!=null)return nn=fn,!0},!0),!!nn){var rn=this.ecModel.getSeriesByIndex(nn.seriesIndex),an=this.visualMapModel;if(an.isTargetSeries(rn)){var ln=rn.getData(nn.dataType),cn=ln.getStore().get(an.getDataDimensionIndex(ln),nn.dataIndex);isNaN(cn)||this._showIndicator(cn,cn)}}},en.prototype._hideIndicator=function(){var tn=this._shapes;tn.indicator&&tn.indicator.attr("invisible",!0),tn.indicatorLabel&&tn.indicatorLabel.attr("invisible",!0);var nn=this._shapes.handleLabels;if(nn)for(var rn=0;rn<nn.length;rn++)this._api.leaveBlur(nn[rn])},en.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var tn=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(tn,this.visualMapModel)),tn.length=0},en.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var tn=this.api.getZr();tn.off("mouseover",this._hoverLinkFromSeriesMouseOver),tn.off("mouseout",this._hideIndicator)},en.prototype._applyTransform=function(tn,nn,rn,an){var ln=getTransform$1(nn,an?null:this.group);return isArray$1(tn)?applyTransform(tn,ln,rn):transformDirection(tn,ln,rn)},en.prototype._dispatchHighDown=function(tn,nn){nn&&nn.length&&this.api.dispatchAction({type:tn,batch:nn})},en.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},en.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},en.type="visualMap.continuous",en}(VisualMapView$1);function createPolygon(Fe,en,tn,nn){return new Polygon$1({shape:{points:Fe},draggable:!!tn,cursor:en,drift:tn,onmousemove:function(rn){stop(rn.event)},ondragend:nn})}function getHalfHoverLinkSize(Fe,en,tn){var nn=HOVER_LINK_SIZE/2,rn=Fe.get("hoverLinkDataSize");return rn&&(nn=linearMap(rn,en,tn,!0)/2),nn}function useHoverLinkOnHandle(Fe){var en=Fe.get("hoverLinkOnHandle");return!!(en??Fe.get("realtime"))}function getCursor(Fe){return Fe==="vertical"?"ns-resize":"ew-resize"}const ContinuousView$1=ContinuousView;var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(Fe,en){en.eachComponent({mainType:"visualMap",query:Fe},function(tn){tn.setSelected(Fe.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(Fe,en){var tn=[];return en.eachComponent("visualMap",function(nn){var rn=Fe.pipelineContext;!nn.isTargetSeries(Fe)||rn&&rn.large||tn.push(incrementalApplyVisual(nn.stateList,nn.targetVisuals,bind$1(nn.getValueState,nn),nn.getDataDimensionIndex(Fe.getData())))}),tn}},{createOnAllSeries:!0,reset:function(Fe,en){var tn=Fe.getData(),nn=[];en.eachComponent("visualMap",function(rn){if(rn.isTargetSeries(Fe)){var an=rn.getVisualMeta(bind$1(getColorVisual,null,Fe,rn))||{stops:[],outerColors:[]},ln=rn.getDataDimensionIndex(tn);ln>=0&&(an.dimension=ln,nn.push(an))}}),Fe.getData().setVisual("visualMeta",nn)}}];function getColorVisual(Fe,en,tn,nn){for(var rn=en.targetVisuals[nn],an=VisualMapping$1.prepareVisualTypes(rn),ln={color:getVisualFromData(Fe.getData(),"color")},cn=0,un=an.length;cn<un;cn++){var fn=an[cn],hn=rn[fn==="opacity"?"__alphaForOpacity":fn];hn&&hn.applyVisual(tn,pn,gn)}return ln.color;function pn(mn){return ln[mn]}function gn(mn,_n){ln[mn]=_n}}var each=each$f;function visualMapPreprocessor(Fe){var en=Fe&&Fe.visualMap;isArray$1(en)||(en=en?[en]:[]),each(en,function(tn){if(tn){has(tn,"splitList")&&!has(tn,"pieces")&&(tn.pieces=tn.splitList,delete tn.splitList);var nn=tn.pieces;nn&&isArray$1(nn)&&each(nn,function(rn){isObject$3(rn)&&(has(rn,"start")&&!has(rn,"min")&&(rn.min=rn.start),has(rn,"end")&&!has(rn,"max")&&(rn.max=rn.end))})}})}function has(Fe,en){return Fe&&Fe.hasOwnProperty&&Fe.hasOwnProperty(en)}var installed=!1;function installCommon(Fe){installed||(installed=!0,Fe.registerSubTypeDefaulter("visualMap",function(en){return!en.categories&&(!(en.pieces?en.pieces.length>0:en.splitNumber>0)||en.calculable)?"continuous":"piecewise"}),Fe.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(en){Fe.registerVisual(Fe.PRIORITY.VISUAL.COMPONENT,en)}),Fe.registerPreprocessor(visualMapPreprocessor))}function install$5(Fe){Fe.registerComponentModel(ContinuousModel$1),Fe.registerComponentView(ContinuousView$1),installCommon(Fe)}var PiecewiseModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn._pieceList=[],tn}return en.prototype.optionUpdated=function(tn,nn){Fe.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var rn=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(tn,nn);var an=this.option.categories;this.resetVisual(function(ln,cn){rn==="categories"?(ln.mappingMethod="category",ln.categories=clone$4(an)):(ln.dataExtent=this.getExtent(),ln.mappingMethod="piecewise",ln.pieceList=map$1(this._pieceList,function(un){return un=clone$4(un),cn!=="inRange"&&(un.visual=null),un}))})},en.prototype.completeVisualOption=function(){var tn=this.option,nn={},rn=VisualMapping$1.listVisualTypes(),an=this.isCategory();each$f(tn.pieces,function(cn){each$f(rn,function(un){cn.hasOwnProperty(un)&&(nn[un]=1)})}),each$f(nn,function(cn,un){var fn=!1;each$f(this.stateList,function(hn){fn=fn||ln(tn,hn,un)||ln(tn.target,hn,un)},this),!fn&&each$f(this.stateList,function(hn){(tn[hn]||(tn[hn]={}))[un]=visualDefault$1.get(un,hn==="inRange"?"active":"inactive",an)})},this);function ln(cn,un,fn){return cn&&cn[un]&&cn[un].hasOwnProperty(fn)}Fe.prototype.completeVisualOption.apply(this,arguments)},en.prototype._resetSelected=function(tn,nn){var rn=this.option,an=this._pieceList,ln=(nn?rn:tn).selected||{};if(rn.selected=ln,each$f(an,function(un,fn){var hn=this.getSelectedMapKey(un);ln.hasOwnProperty(hn)||(ln[hn]=!0)},this),rn.selectedMode==="single"){var cn=!1;each$f(an,function(un,fn){var hn=this.getSelectedMapKey(un);ln[hn]&&(cn?ln[hn]=!1:cn=!0)},this)}},en.prototype.getItemSymbol=function(){return this.get("itemSymbol")},en.prototype.getSelectedMapKey=function(tn){return this._mode==="categories"?tn.value+"":tn.index+""},en.prototype.getPieceList=function(){return this._pieceList},en.prototype._determineMode=function(){var tn=this.option;return tn.pieces&&tn.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},en.prototype.setSelected=function(tn){this.option.selected=clone$4(tn)},en.prototype.getValueState=function(tn){var nn=VisualMapping$1.findPieceIndex(tn,this._pieceList);return nn!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[nn])]?"inRange":"outOfRange"},en.prototype.findTargetDataIndices=function(tn){var nn=[],rn=this._pieceList;return this.eachTargetSeries(function(an){var ln=[],cn=an.getData();cn.each(this.getDataDimensionIndex(cn),function(un,fn){var hn=VisualMapping$1.findPieceIndex(un,rn);hn===tn&&ln.push(fn)},this),nn.push({seriesId:an.id,dataIndex:ln})},this),nn},en.prototype.getRepresentValue=function(tn){var nn;if(this.isCategory())nn=tn.value;else if(tn.value!=null)nn=tn.value;else{var rn=tn.interval||[];nn=rn[0]===-1/0&&rn[1]===1/0?0:(rn[0]+rn[1])/2}return nn},en.prototype.getVisualMeta=function(tn){if(this.isCategory())return;var nn=[],rn=["",""],an=this;function ln(hn,pn){var gn=an.getRepresentValue({interval:hn});pn||(pn=an.getValueState(gn));var mn=tn(gn,pn);hn[0]===-1/0?rn[0]=mn:hn[1]===1/0?rn[1]=mn:nn.push({value:hn[0],color:mn},{value:hn[1],color:mn})}var cn=this._pieceList.slice();if(!cn.length)cn.push({interval:[-1/0,1/0]});else{var un=cn[0].interval[0];un!==-1/0&&cn.unshift({interval:[-1/0,un]}),un=cn[cn.length-1].interval[1],un!==1/0&&cn.push({interval:[un,1/0]})}var fn=-1/0;return each$f(cn,function(hn){var pn=hn.interval;pn&&(pn[0]>fn&&ln([fn,pn[0]],"outOfRange"),ln(pn.slice()),fn=pn[1])},this),{stops:nn,outerColors:rn}},en.type="visualMap.piecewise",en.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),en}(VisualMapModel$1),resetMethods={splitNumber:function(Fe){var en=this.option,tn=Math.min(en.precision,20),nn=this.getExtent(),rn=en.splitNumber;rn=Math.max(parseInt(rn,10),1),en.splitNumber=rn;for(var an=(nn[1]-nn[0])/rn;+an.toFixed(tn)!==an&&tn<5;)tn++;en.precision=tn,an=+an.toFixed(tn),en.minOpen&&Fe.push({interval:[-1/0,nn[0]],close:[0,0]});for(var ln=0,cn=nn[0];ln<rn;cn+=an,ln++){var un=ln===rn-1?nn[1]:cn+an;Fe.push({interval:[cn,un],close:[1,1]})}en.maxOpen&&Fe.push({interval:[nn[1],1/0],close:[0,0]}),reformIntervals(Fe),each$f(Fe,function(fn,hn){fn.index=hn,fn.text=this.formatValueText(fn.interval)},this)},categories:function(Fe){var en=this.option;each$f(en.categories,function(tn){Fe.push({text:this.formatValueText(tn,!0),value:tn})},this),normalizeReverse(en,Fe)},pieces:function(Fe){var en=this.option;each$f(en.pieces,function(tn,nn){isObject$3(tn)||(tn={value:tn});var rn={text:"",index:nn};if(tn.label!=null&&(rn.text=tn.label),tn.hasOwnProperty("value")){var an=rn.value=tn.value;rn.interval=[an,an],rn.close=[1,1]}else{for(var ln=rn.interval=[],cn=rn.close=[0,0],un=[1,0,1],fn=[-1/0,1/0],hn=[],pn=0;pn<2;pn++){for(var gn=[["gte","gt","min"],["lte","lt","max"]][pn],mn=0;mn<3&&ln[pn]==null;mn++)ln[pn]=tn[gn[mn]],cn[pn]=un[mn],hn[pn]=mn===2;ln[pn]==null&&(ln[pn]=fn[pn])}hn[0]&&ln[1]===1/0&&(cn[0]=0),hn[1]&&ln[0]===-1/0&&(cn[1]=0),ln[0]===ln[1]&&cn[0]&&cn[1]&&(rn.value=ln[0])}rn.visual=VisualMapping$1.retrieveVisuals(tn),Fe.push(rn)},this),normalizeReverse(en,Fe),reformIntervals(Fe),each$f(Fe,function(tn){var nn=tn.close,rn=[["<","â¤"][nn[1]],[">","â¥"][nn[0]]];tn.text=tn.text||this.formatValueText(tn.value!=null?tn.value:tn.interval,!1,rn)},this)}};function normalizeReverse(Fe,en){var tn=Fe.inverse;(Fe.orient==="vertical"?!tn:tn)&&en.reverse()}const PiecewiseModel$1=PiecewiseModel;var PiecewiseVisualMapView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type=en.type,tn}return en.prototype.doRender=function(){var tn=this.group;tn.removeAll();var nn=this.visualMapModel,rn=nn.get("textGap"),an=nn.textStyleModel,ln=an.getFont(),cn=an.getTextColor(),un=this._getItemAlign(),fn=nn.itemSize,hn=this._getViewData(),pn=hn.endsText,gn=retrieve(nn.get("showLabel",!0),!pn);pn&&this._renderEndsText(tn,pn[0],fn,gn,un),each$f(hn.viewPieceList,function(mn){var _n=mn.piece,kn=new Group$4;kn.onclick=bind$1(this._onItemClick,this,_n),this._enableHoverLink(kn,mn.indexInModelPieceList);var Cn=nn.getRepresentValue(_n);if(this._createItemSymbol(kn,Cn,[0,0,fn[0],fn[1]]),gn){var xn=this.visualMapModel.getValueState(Cn);kn.add(new ZRText$1({style:{x:un==="right"?-rn:fn[0]+rn,y:fn[1]/2,text:_n.text,verticalAlign:"middle",align:un,font:ln,fill:cn,opacity:xn==="outOfRange"?.5:1}}))}tn.add(kn)},this),pn&&this._renderEndsText(tn,pn[1],fn,gn,un),box(nn.get("orient"),tn,nn.get("itemGap")),this.renderBackground(tn),this.positionGroup(tn)},en.prototype._enableHoverLink=function(tn,nn){var rn=this;tn.on("mouseover",function(){return an("highlight")}).on("mouseout",function(){return an("downplay")});var an=function(ln){var cn=rn.visualMapModel;cn.option.hoverLink&&rn.api.dispatchAction({type:ln,batch:makeHighDownBatch(cn.findTargetDataIndices(nn),cn)})}},en.prototype._getItemAlign=function(){var tn=this.visualMapModel,nn=tn.option;if(nn.orient==="vertical")return getItemAlign(tn,this.api,tn.itemSize);var rn=nn.align;return(!rn||rn==="auto")&&(rn="left"),rn},en.prototype._renderEndsText=function(tn,nn,rn,an,ln){if(nn){var cn=new Group$4,un=this.visualMapModel.textStyleModel;cn.add(new ZRText$1({style:createTextStyle$1(un,{x:an?ln==="right"?rn[0]:0:rn[0]/2,y:rn[1]/2,verticalAlign:"middle",align:an?ln:"center",text:nn})})),tn.add(cn)}},en.prototype._getViewData=function(){var tn=this.visualMapModel,nn=map$1(tn.getPieceList(),function(cn,un){return{piece:cn,indexInModelPieceList:un}}),rn=tn.get("text"),an=tn.get("orient"),ln=tn.get("inverse");return(an==="horizontal"?ln:!ln)?nn.reverse():rn&&(rn=rn.slice().reverse()),{viewPieceList:nn,endsText:rn}},en.prototype._createItemSymbol=function(tn,nn,rn){tn.add(createSymbol$1(this.getControllerVisual(nn,"symbol"),rn[0],rn[1],rn[2],rn[3],this.getControllerVisual(nn,"color")))},en.prototype._onItemClick=function(tn){var nn=this.visualMapModel,rn=nn.option,an=rn.selectedMode;if(an){var ln=clone$4(rn.selected),cn=nn.getSelectedMapKey(tn);an==="single"||an===!0?(ln[cn]=!0,each$f(ln,function(un,fn){ln[fn]=fn===cn})):ln[cn]=!ln[cn],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:ln})}},en.type="visualMap.piecewise",en}(VisualMapView$1);const PiecewiseView=PiecewiseVisualMapView;function install$4(Fe){Fe.registerComponentModel(PiecewiseModel$1),Fe.registerComponentView(PiecewiseView),installCommon(Fe)}function install$3(Fe){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(Fe,en){var tn=Fe.getModel("aria");if(!tn.get("enabled"))return;var nn=clone$4(DEFAULT_OPTION);merge(nn.label,Fe.getLocaleModel().get("aria"),!1),merge(tn.option,nn,!1),rn(),an();function rn(){var fn=tn.getModel("decal"),hn=fn.get("show");if(hn){var pn=createHashMap();Fe.eachSeries(function(gn){if(!gn.isColorBySeries()){var mn=pn.get(gn.type);mn||(mn={},pn.set(gn.type,mn)),inner(gn).scope=mn}}),Fe.eachRawSeries(function(gn){if(Fe.isSeriesFiltered(gn))return;if(isFunction(gn.enableAriaDecal)){gn.enableAriaDecal();return}var mn=gn.getData();if(gn.isColorBySeries()){var Sn=getDecalFromPalette(gn.ecModel,gn.name,decalPaletteScope,Fe.getSeriesCount()),Mn=mn.getVisual("decal");mn.setVisual("decal",In(Mn,Sn))}else{var _n=gn.getRawData(),kn={},Cn=inner(gn).scope;mn.each(function(On){var Pn=mn.getRawIndex(On);kn[Pn]=On});var xn=_n.count();_n.each(function(On){var Pn=kn[On],Tn=_n.getName(On)||On+"",Nn=getDecalFromPalette(gn.ecModel,Tn,Cn,xn),Hn=mn.getItemVisual(Pn,"decal");mn.setItemVisual(Pn,"decal",In(Hn,Nn))})}function In(On,Pn){var Tn=On?extend$1(extend$1({},Pn),On):Pn;return Tn.dirty=!0,Tn}})}}function an(){var fn=Fe.getLocaleModel().get("aria"),hn=tn.getModel("label");if(hn.option=defaults(hn.option,fn),!!hn.get("enabled")){var pn=en.getZr().dom;if(hn.get("description")){pn.setAttribute("aria-label",hn.get("description"));return}var gn=Fe.getSeriesCount(),mn=hn.get(["data","maxCount"])||10,_n=hn.get(["series","maxCount"])||10,kn=Math.min(gn,_n),Cn;if(!(gn<1)){var xn=cn();if(xn){var Sn=hn.get(["general","withTitle"]);Cn=ln(Sn,{title:xn})}else Cn=hn.get(["general","withoutTitle"]);var Mn=[],In=gn>1?hn.get(["series","multiple","prefix"]):hn.get(["series","single","prefix"]);Cn+=ln(In,{seriesCount:gn}),Fe.eachSeries(function(Nn,Hn){if(Hn<kn){var Un=void 0,jn=Nn.get("name"),Yn=jn?"withName":"withoutName";Un=gn>1?hn.get(["series","multiple",Yn]):hn.get(["series","single",Yn]),Un=ln(Un,{seriesId:Nn.seriesIndex,seriesName:Nn.get("name"),seriesType:un(Nn.subType)});var Wn=Nn.getData();if(Wn.count()>mn){var Qn=hn.get(["data","partialData"]);Un+=ln(Qn,{displayCnt:mn})}else Un+=hn.get(["data","allData"]);for(var Xn=hn.get(["data","separator","middle"]),jr=hn.get(["data","separator","end"]),Wr=[],Jr=0;Jr<Wn.count();Jr++)if(Jr<mn){var ci=Wn.getName(Jr),ti=Wn.getValues(Jr),Zr=hn.get(["data",ci?"withName":"withoutName"]);Wr.push(ln(Zr,{name:ci,value:ti.join(Xn)}))}Un+=Wr.join(Xn)+jr,Mn.push(Un)}});var On=hn.getModel(["series","multiple","separator"]),Pn=On.get("middle"),Tn=On.get("end");Cn+=Mn.join(Pn)+Tn,pn.setAttribute("aria-label",Cn)}}}function ln(fn,hn){if(!isString(fn))return fn;var pn=fn;return each$f(hn,function(gn,mn){pn=pn.replace(new RegExp("\\{\\s*"+mn+"\\s*\\}","g"),gn)}),pn}function cn(){var fn=Fe.get("title");return fn&&fn.length&&(fn=fn[0]),fn&&fn.text}function un(fn){return Fe.getLocaleModel().get(["series","typeNames"])[fn]||"èªå®ä¹å¾"}}function ariaPreprocessor(Fe){if(!(!Fe||!Fe.aria)){var en=Fe.aria;en.show!=null&&(en.enabled=en.show),en.label=en.label||{},each$f(["description","general","series","data"],function(tn){en[tn]!=null&&(en.label[tn]=en[tn])})}}function install$2(Fe){Fe.registerPreprocessor(ariaPreprocessor),Fe.registerVisual(Fe.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function Fe(en){var tn=this._condVal=isString(en)?new RegExp(en):isRegExp(en)?en:null;if(tn==null){var nn="";throwError(nn)}}return Fe.prototype.evaluate=function(en){var tn=typeof en;return isString(tn)?this._condVal.test(en):isNumber(tn)?this._condVal.test(en+""):!1},Fe}(),ConstConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){return this.value},Fe}(),AndConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){for(var en=this.children,tn=0;tn<en.length;tn++)if(!en[tn].evaluate())return!1;return!0},Fe}(),OrConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){for(var en=this.children,tn=0;tn<en.length;tn++)if(en[tn].evaluate())return!0;return!1},Fe}(),NotConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){return!this.child.evaluate()},Fe}(),RelationalConditionInternal=function(){function Fe(){}return Fe.prototype.evaluate=function(){for(var en=!!this.valueParser,tn=this.getValue,nn=tn(this.valueGetterParam),rn=en?this.valueParser(nn):null,an=0;an<this.subCondList.length;an++)if(!this.subCondList[an].evaluate(en?rn:nn))return!1;return!0},Fe}();function parseOption(Fe,en){if(Fe===!0||Fe===!1){var tn=new ConstConditionInternal;return tn.value=Fe,tn}var nn="";return isObjectNotArray(Fe)||throwError(nn),Fe.and?parseAndOrOption("and",Fe,en):Fe.or?parseAndOrOption("or",Fe,en):Fe.not?parseNotOption(Fe,en):parseRelationalOption(Fe,en)}function parseAndOrOption(Fe,en,tn){var nn=en[Fe],rn="";isArray$1(nn)||throwError(rn),nn.length||throwError(rn);var an=Fe==="and"?new AndConditionInternal:new OrConditionInternal;return an.children=map$1(nn,function(ln){return parseOption(ln,tn)}),an.children.length||throwError(rn),an}function parseNotOption(Fe,en){var tn=Fe.not,nn="";isObjectNotArray(tn)||throwError(nn);var rn=new NotConditionInternal;return rn.child=parseOption(tn,en),rn.child||throwError(nn),rn}function parseRelationalOption(Fe,en){for(var tn="",nn=en.prepareGetValue(Fe),rn=[],an=keys(Fe),ln=Fe.parser,cn=ln?getRawValueParser(ln):null,un=0;un<an.length;un++){var fn=an[un];if(!(fn==="parser"||en.valueGetterAttrMap.get(fn))){var hn=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,fn)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[fn]:fn,pn=Fe[fn],gn=cn?cn(pn):pn,mn=createFilterComparator(hn,gn)||hn==="reg"&&new RegExpEvaluator(gn);mn||throwError(tn),rn.push(mn)}}rn.length||throwError(tn);var _n=new RelationalConditionInternal;return _n.valueGetterParam=nn,_n.valueParser=cn,_n.getValue=en.getValue,_n.subCondList=rn,_n}function isObjectNotArray(Fe){return isObject$3(Fe)&&!isArrayLike(Fe)}var ConditionalExpressionParsed=function(){function Fe(en,tn){this._cond=parseOption(en,tn)}return Fe.prototype.evaluate=function(){return this._cond.evaluate()},Fe}();function parseConditionalExpression(Fe,en){return new ConditionalExpressionParsed(Fe,en)}var filterTransform={type:"echarts:filter",transform:function(Fe){for(var en=Fe.upstream,tn,nn=parseConditionalExpression(Fe.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(cn){var un="",fn=cn.dimension;hasOwn(cn,"dimension")||throwError(un);var hn=en.getDimensionInfo(fn);return hn||throwError(un),{dimIdx:hn.index}},getValue:function(cn){return en.retrieveValueFromItem(tn,cn.dimIdx)}}),rn=[],an=0,ln=en.count();an<ln;an++)tn=en.getRawDataItem(an),nn.evaluate()&&rn.push(tn);return{data:rn}}},sortTransform={type:"echarts:sort",transform:function(Fe){var en=Fe.upstream,tn=Fe.config,nn="",rn=normalizeToArray(tn);rn.length||throwError(nn);var an=[];each$f(rn,function(hn){var pn=hn.dimension,gn=hn.order,mn=hn.parser,_n=hn.incomparable;if(pn==null&&throwError(nn),gn!=="asc"&&gn!=="desc"&&throwError(nn),_n&&_n!=="min"&&_n!=="max"){var kn="";throwError(kn)}if(gn!=="asc"&&gn!=="desc"){var Cn="";throwError(Cn)}var xn=en.getDimensionInfo(pn);xn||throwError(nn);var Sn=mn?getRawValueParser(mn):null;mn&&!Sn&&throwError(nn),an.push({dimIdx:xn.index,parser:Sn,comparator:new SortOrderComparator(gn,_n)})});var ln=en.sourceFormat;ln!==SOURCE_FORMAT_ARRAY_ROWS&&ln!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(nn);for(var cn=[],un=0,fn=en.count();un<fn;un++)cn.push(en.getRawDataItem(un));return cn.sort(function(hn,pn){for(var gn=0;gn<an.length;gn++){var mn=an[gn],_n=en.retrieveValueFromItem(hn,mn.dimIdx),kn=en.retrieveValueFromItem(pn,mn.dimIdx);mn.parser&&(_n=mn.parser(_n),kn=mn.parser(kn));var Cn=mn.comparator.evaluate(_n,kn);if(Cn!==0)return Cn}return 0}),{data:cn}}};function install$1(Fe){Fe.registerTransform(filterTransform),Fe.registerTransform(sortTransform)}var DatasetModel=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type="dataset",tn}return en.prototype.init=function(tn,nn,rn){Fe.prototype.init.call(this,tn,nn,rn),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},en.prototype.mergeOption=function(tn,nn){Fe.prototype.mergeOption.call(this,tn,nn),disableTransformOptionMerge(this)},en.prototype.optionUpdated=function(){this._sourceManager.dirty()},en.prototype.getSourceManager=function(){return this._sourceManager},en.type="dataset",en.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},en}(ComponentModel$1),DatasetView=function(Fe){__extends(en,Fe);function en(){var tn=Fe!==null&&Fe.apply(this,arguments)||this;return tn.type="dataset",tn}return en.type="dataset",en}(ComponentView$1);function install(Fe){Fe.registerComponentModel(DatasetModel),Fe.registerComponentView(DatasetView)}var CMD=PathProxy$1.CMD;function aroundEqual(Fe,en){return Math.abs(Fe-en)<1e-5}function pathToBezierCurves(Fe){var en=Fe.data,tn=Fe.len(),nn=[],rn,an=0,ln=0,cn=0,un=0;function fn(Wn,Qn){rn&&rn.length>2&&nn.push(rn),rn=[Wn,Qn]}function hn(Wn,Qn,Xn,jr){aroundEqual(Wn,Xn)&&aroundEqual(Qn,jr)||rn.push(Wn,Qn,Xn,jr,Xn,jr)}function pn(Wn,Qn,Xn,jr,Wr,Jr){var ci=Math.abs(Qn-Wn),ti=Math.tan(ci/4)*4/3,Zr=Qn<Wn?-1:1,Br=Math.cos(Wn),Jn=Math.sin(Wn),oi=Math.cos(Qn),pi=Math.sin(Qn),ri=Br*Wr+Xn,fi=Jn*Jr+jr,yi=oi*Wr+Xn,Si=pi*Jr+jr,Pi=Wr*ti*Zr,Ui=Jr*ti*Zr;rn.push(ri-Pi*Jn,fi+Ui*Br,yi+Pi*pi,Si-Ui*oi,yi,Si)}for(var gn,mn,_n,kn,Cn=0;Cn<tn;){var xn=en[Cn++],Sn=Cn===1;switch(Sn&&(an=en[Cn],ln=en[Cn+1],cn=an,un=ln,(xn===CMD.L||xn===CMD.C||xn===CMD.Q)&&(rn=[cn,un])),xn){case CMD.M:an=cn=en[Cn++],ln=un=en[Cn++],fn(cn,un);break;case CMD.L:gn=en[Cn++],mn=en[Cn++],hn(an,ln,gn,mn),an=gn,ln=mn;break;case CMD.C:rn.push(en[Cn++],en[Cn++],en[Cn++],en[Cn++],an=en[Cn++],ln=en[Cn++]);break;case CMD.Q:gn=en[Cn++],mn=en[Cn++],_n=en[Cn++],kn=en[Cn++],rn.push(an+2/3*(gn-an),ln+2/3*(mn-ln),_n+2/3*(gn-_n),kn+2/3*(mn-kn),_n,kn),an=_n,ln=kn;break;case CMD.A:var Mn=en[Cn++],In=en[Cn++],On=en[Cn++],Pn=en[Cn++],Tn=en[Cn++],Nn=en[Cn++]+Tn;Cn+=1;var Hn=!en[Cn++];gn=Math.cos(Tn)*On+Mn,mn=Math.sin(Tn)*Pn+In,Sn?(cn=gn,un=mn,fn(cn,un)):hn(an,ln,gn,mn),an=Math.cos(Nn)*On+Mn,ln=Math.sin(Nn)*Pn+In;for(var Un=(Hn?-1:1)*Math.PI/2,jn=Tn;Hn?jn>Nn:jn<Nn;jn+=Un){var Yn=Hn?Math.max(jn+Un,Nn):Math.min(jn+Un,Nn);pn(jn,Yn,Mn,In,On,Pn)}break;case CMD.R:cn=an=en[Cn++],un=ln=en[Cn++],gn=cn+en[Cn++],mn=un+en[Cn++],fn(gn,un),hn(gn,un,gn,mn),hn(gn,mn,cn,mn),hn(cn,mn,cn,un),hn(cn,un,gn,un);break;case CMD.Z:rn&&hn(an,ln,cn,un),an=cn,ln=un;break}}return rn&&rn.length>2&&nn.push(rn),nn}function adpativeBezier(Fe,en,tn,nn,rn,an,ln,cn,un,fn){if(aroundEqual(Fe,tn)&&aroundEqual(en,nn)&&aroundEqual(rn,ln)&&aroundEqual(an,cn)){un.push(ln,cn);return}var hn=2/fn,pn=hn*hn,gn=ln-Fe,mn=cn-en,_n=Math.sqrt(gn*gn+mn*mn);gn/=_n,mn/=_n;var kn=tn-Fe,Cn=nn-en,xn=rn-ln,Sn=an-cn,Mn=kn*kn+Cn*Cn,In=xn*xn+Sn*Sn;if(Mn<pn&&In<pn){un.push(ln,cn);return}var On=gn*kn+mn*Cn,Pn=-gn*xn-mn*Sn,Tn=Mn-On*On,Nn=In-Pn*Pn;if(Tn<pn&&On>=0&&Nn<pn&&Pn>=0){un.push(ln,cn);return}var Hn=[],Un=[];cubicSubdivide(Fe,tn,rn,ln,.5,Hn),cubicSubdivide(en,nn,an,cn,.5,Un),adpativeBezier(Hn[0],Un[0],Hn[1],Un[1],Hn[2],Un[2],Hn[3],Un[3],un,fn),adpativeBezier(Hn[4],Un[4],Hn[5],Un[5],Hn[6],Un[6],Hn[7],Un[7],un,fn)}function pathToPolygons(Fe,en){var tn=pathToBezierCurves(Fe),nn=[];en=en||1;for(var rn=0;rn<tn.length;rn++){var an=tn[rn],ln=[],cn=an[0],un=an[1];ln.push(cn,un);for(var fn=2;fn<an.length;){var hn=an[fn++],pn=an[fn++],gn=an[fn++],mn=an[fn++],_n=an[fn++],kn=an[fn++];adpativeBezier(cn,un,hn,pn,gn,mn,_n,kn,ln,en),cn=_n,un=kn}nn.push(ln)}return nn}function getDividingGrids(Fe,en,tn){var nn=Fe[en],rn=Fe[1-en],an=Math.abs(nn/rn),ln=Math.ceil(Math.sqrt(an*tn)),cn=Math.floor(tn/ln);cn===0&&(cn=1,ln=tn);for(var un=[],fn=0;fn<ln;fn++)un.push(cn);var hn=ln*cn,pn=tn-hn;if(pn>0)for(var fn=0;fn<pn;fn++)un[fn%ln]+=1;return un}function divideSector(Fe,en,tn){for(var nn=Fe.r0,rn=Fe.r,an=Fe.startAngle,ln=Fe.endAngle,cn=Math.abs(ln-an),un=cn*rn,fn=rn-nn,hn=un>Math.abs(fn),pn=getDividingGrids([un,fn],hn?0:1,en),gn=(hn?cn:fn)/pn.length,mn=0;mn<pn.length;mn++)for(var _n=(hn?fn:cn)/pn[mn],kn=0;kn<pn[mn];kn++){var Cn={};hn?(Cn.startAngle=an+gn*mn,Cn.endAngle=an+gn*(mn+1),Cn.r0=nn+_n*kn,Cn.r=nn+_n*(kn+1)):(Cn.startAngle=an+_n*kn,Cn.endAngle=an+_n*(kn+1),Cn.r0=nn+gn*mn,Cn.r=nn+gn*(mn+1)),Cn.clockwise=Fe.clockwise,Cn.cx=Fe.cx,Cn.cy=Fe.cy,tn.push(Cn)}}function divideRect(Fe,en,tn){for(var nn=Fe.width,rn=Fe.height,an=nn>rn,ln=getDividingGrids([nn,rn],an?0:1,en),cn=an?"width":"height",un=an?"height":"width",fn=an?"x":"y",hn=an?"y":"x",pn=Fe[cn]/ln.length,gn=0;gn<ln.length;gn++)for(var mn=Fe[un]/ln[gn],_n=0;_n<ln[gn];_n++){var kn={};kn[fn]=gn*pn,kn[hn]=_n*mn,kn[cn]=pn,kn[un]=mn,kn.x+=Fe.x,kn.y+=Fe.y,tn.push(kn)}}function crossProduct2d(Fe,en,tn,nn){return Fe*nn-tn*en}function lineLineIntersect(Fe,en,tn,nn,rn,an,ln,cn){var un=tn-Fe,fn=nn-en,hn=ln-rn,pn=cn-an,gn=crossProduct2d(hn,pn,un,fn);if(Math.abs(gn)<1e-6)return null;var mn=Fe-rn,_n=en-an,kn=crossProduct2d(mn,_n,hn,pn)/gn;return kn<0||kn>1?null:new Point$1(kn*un+Fe,kn*fn+en)}function projPtOnLine(Fe,en,tn){var nn=new Point$1;Point$1.sub(nn,tn,en),nn.normalize();var rn=new Point$1;Point$1.sub(rn,Fe,en);var an=rn.dot(nn);return an}function addToPoly(Fe,en){var tn=Fe[Fe.length-1];tn&&tn[0]===en[0]&&tn[1]===en[1]||Fe.push(en)}function splitPolygonByLine(Fe,en,tn){for(var nn=Fe.length,rn=[],an=0;an<nn;an++){var ln=Fe[an],cn=Fe[(an+1)%nn],un=lineLineIntersect(ln[0],ln[1],cn[0],cn[1],en.x,en.y,tn.x,tn.y);un&&rn.push({projPt:projPtOnLine(un,en,tn),pt:un,idx:an})}if(rn.length<2)return[{points:Fe},{points:Fe}];rn.sort(function(Cn,xn){return Cn.projPt-xn.projPt});var fn=rn[0],hn=rn[rn.length-1];if(hn.idx<fn.idx){var pn=fn;fn=hn,hn=pn}for(var gn=[fn.pt.x,fn.pt.y],mn=[hn.pt.x,hn.pt.y],_n=[gn],kn=[mn],an=fn.idx+1;an<=hn.idx;an++)addToPoly(_n,Fe[an].slice());addToPoly(_n,mn),addToPoly(_n,gn);for(var an=hn.idx+1;an<=fn.idx+nn;an++)addToPoly(kn,Fe[an%nn].slice());return addToPoly(kn,gn),addToPoly(kn,mn),[{points:_n},{points:kn}]}function binaryDividePolygon(Fe){var en=Fe.points,tn=[],nn=[];fromPoints(en,tn,nn);var rn=new BoundingRect$1(tn[0],tn[1],nn[0]-tn[0],nn[1]-tn[1]),an=rn.width,ln=rn.height,cn=rn.x,un=rn.y,fn=new Point$1,hn=new Point$1;return an>ln?(fn.x=hn.x=cn+an/2,fn.y=un,hn.y=un+ln):(fn.y=hn.y=un+ln/2,fn.x=cn,hn.x=cn+an),splitPolygonByLine(en,fn,hn)}function binaryDivideRecursive(Fe,en,tn,nn){if(tn===1)nn.push(en);else{var rn=Math.floor(tn/2),an=Fe(en);binaryDivideRecursive(Fe,an[0],rn,nn),binaryDivideRecursive(Fe,an[1],tn-rn,nn)}return nn}function clone(Fe,en){for(var tn=[],nn=0;nn<en;nn++)tn.push(clonePath(Fe));return tn}function copyPathProps(Fe,en){en.setStyle(Fe.style),en.z=Fe.z,en.z2=Fe.z2,en.zlevel=Fe.zlevel}function polygonConvert(Fe){for(var en=[],tn=0;tn<Fe.length;)en.push([Fe[tn++],Fe[tn++]]);return en}function split(Fe,en){var tn=[],nn=Fe.shape,rn;switch(Fe.type){case"rect":divideRect(nn,en,tn),rn=Rect$3;break;case"sector":divideSector(nn,en,tn),rn=Sector$1;break;case"circle":divideSector({r0:0,r:nn.r,startAngle:0,endAngle:Math.PI*2,cx:nn.cx,cy:nn.cy},en,tn),rn=Sector$1;break;default:var an=Fe.getComputedTransform(),ln=an?Math.sqrt(Math.max(an[0]*an[0]+an[1]*an[1],an[2]*an[2]+an[3]*an[3])):1,cn=map$1(pathToPolygons(Fe.getUpdatedPathProxy(),ln),function(xn){return polygonConvert(xn)}),un=cn.length;if(un===0)binaryDivideRecursive(binaryDividePolygon,{points:cn[0]},en,tn);else if(un===en)for(var fn=0;fn<un;fn++)tn.push({points:cn[fn]});else{var hn=0,pn=map$1(cn,function(xn){var Sn=[],Mn=[];fromPoints(xn,Sn,Mn);var In=(Mn[1]-Sn[1])*(Mn[0]-Sn[0]);return hn+=In,{poly:xn,area:In}});pn.sort(function(xn,Sn){return Sn.area-xn.area});for(var gn=en,fn=0;fn<un;fn++){var mn=pn[fn];if(gn<=0)break;var _n=fn===un-1?gn:Math.ceil(mn.area/hn*en);_n<0||(binaryDivideRecursive(binaryDividePolygon,{points:mn.poly},_n,tn),gn-=_n)}}rn=Polygon$1;break}if(!rn)return clone(Fe,en);for(var kn=[],fn=0;fn<tn.length;fn++){var Cn=new rn;Cn.setShape(tn[fn]),copyPathProps(Fe,Cn),kn.push(Cn)}return kn}function alignSubpath(Fe,en){var tn=Fe.length,nn=en.length;if(tn===nn)return[Fe,en];for(var rn=[],an=[],ln=tn<nn?Fe:en,cn=Math.min(tn,nn),un=Math.abs(nn-tn)/6,fn=(cn-2)/6,hn=Math.ceil(un/fn)+1,pn=[ln[0],ln[1]],gn=un,mn=2;mn<cn;){var _n=ln[mn-2],kn=ln[mn-1],Cn=ln[mn++],xn=ln[mn++],Sn=ln[mn++],Mn=ln[mn++],In=ln[mn++],On=ln[mn++];if(gn<=0){pn.push(Cn,xn,Sn,Mn,In,On);continue}for(var Pn=Math.min(gn,hn-1)+1,Tn=1;Tn<=Pn;Tn++){var Nn=Tn/Pn;cubicSubdivide(_n,Cn,Sn,In,Nn,rn),cubicSubdivide(kn,xn,Mn,On,Nn,an),_n=rn[3],kn=an[3],pn.push(rn[1],an[1],rn[2],an[2],_n,kn),Cn=rn[5],xn=an[5],Sn=rn[6],Mn=an[6]}gn-=Pn-1}return ln===Fe?[pn,en]:[Fe,pn]}function createSubpath(Fe,en){for(var tn=Fe.length,nn=Fe[tn-2],rn=Fe[tn-1],an=[],ln=0;ln<en.length;)an[ln++]=nn,an[ln++]=rn;return an}function alignBezierCurves(Fe,en){for(var tn,nn,rn,an=[],ln=[],cn=0;cn<Math.max(Fe.length,en.length);cn++){var un=Fe[cn],fn=en[cn],hn=void 0,pn=void 0;un?fn?(tn=alignSubpath(un,fn),hn=tn[0],pn=tn[1],nn=hn,rn=pn):(pn=createSubpath(rn||un,un),hn=un):(hn=createSubpath(nn||fn,fn),pn=fn),an.push(hn),ln.push(pn)}return[an,ln]}function centroid(Fe){for(var en=0,tn=0,nn=0,rn=Fe.length,an=0,ln=rn-2;an<rn;ln=an,an+=2){var cn=Fe[ln],un=Fe[ln+1],fn=Fe[an],hn=Fe[an+1],pn=cn*hn-fn*un;en+=pn,tn+=(cn+fn)*pn,nn+=(un+hn)*pn}return en===0?[Fe[0]||0,Fe[1]||0]:[tn/en/3,nn/en/3,en]}function findBestRingOffset(Fe,en,tn,nn){for(var rn=(Fe.length-2)/6,an=1/0,ln=0,cn=Fe.length,un=cn-2,fn=0;fn<rn;fn++){for(var hn=fn*6,pn=0,gn=0;gn<cn;gn+=2){var mn=gn===0?hn:(hn+gn-2)%un+2,_n=Fe[mn]-tn[0],kn=Fe[mn+1]-tn[1],Cn=en[gn]-nn[0],xn=en[gn+1]-nn[1],Sn=Cn-_n,Mn=xn-kn;pn+=Sn*Sn+Mn*Mn}pn<an&&(an=pn,ln=fn)}return ln}function reverse(Fe){for(var en=[],tn=Fe.length,nn=0;nn<tn;nn+=2)en[nn]=Fe[tn-nn-2],en[nn+1]=Fe[tn-nn-1];return en}function findBestMorphingRotation(Fe,en,tn,nn){for(var rn=[],an,ln=0;ln<Fe.length;ln++){var cn=Fe[ln],un=en[ln],fn=centroid(cn),hn=centroid(un);an==null&&(an=fn[2]<0!=hn[2]<0);var pn=[],gn=[],mn=0,_n=1/0,kn=[],Cn=cn.length;an&&(cn=reverse(cn));for(var xn=findBestRingOffset(cn,un,fn,hn)*6,Sn=Cn-2,Mn=0;Mn<Sn;Mn+=2){var In=(xn+Mn)%Sn+2;pn[Mn+2]=cn[In]-fn[0],pn[Mn+3]=cn[In+1]-fn[1]}if(pn[0]=cn[xn]-fn[0],pn[1]=cn[xn+1]-fn[1],tn>0)for(var On=nn/tn,Pn=-nn/2;Pn<=nn/2;Pn+=On){for(var Tn=Math.sin(Pn),Nn=Math.cos(Pn),Hn=0,Mn=0;Mn<cn.length;Mn+=2){var Un=pn[Mn],jn=pn[Mn+1],Yn=un[Mn]-hn[0],Wn=un[Mn+1]-hn[1],Qn=Yn*Nn-Wn*Tn,Xn=Yn*Tn+Wn*Nn;kn[Mn]=Qn,kn[Mn+1]=Xn;var jr=Qn-Un,Wr=Xn-jn;Hn+=jr*jr+Wr*Wr}if(Hn<_n){_n=Hn,mn=Pn;for(var Jr=0;Jr<kn.length;Jr++)gn[Jr]=kn[Jr]}}else for(var ci=0;ci<Cn;ci+=2)gn[ci]=un[ci]-hn[0],gn[ci+1]=un[ci+1]-hn[1];rn.push({from:pn,to:gn,fromCp:fn,toCp:hn,rotation:-mn})}return rn}function isCombineMorphing(Fe){return Fe.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(Fe,en,tn){var nn=SAVED_METHOD_PREFIX+en,rn=Fe[nn]||Fe[en];Fe[nn]||(Fe[nn]=Fe[en]);var an=tn.replace,ln=tn.after,cn=tn.before;Fe[en]=function(){var un=arguments,fn;return cn&&cn.apply(this,un),an?fn=an.apply(this,un):fn=rn.apply(this,un),ln&&ln.apply(this,un),fn}}function restoreMethod(Fe,en){var tn=SAVED_METHOD_PREFIX+en;Fe[tn]&&(Fe[en]=Fe[tn],Fe[tn]=null)}function applyTransformOnBeziers(Fe,en){for(var tn=0;tn<Fe.length;tn++)for(var nn=Fe[tn],rn=0;rn<nn.length;){var an=nn[rn],ln=nn[rn+1];nn[rn++]=en[0]*an+en[2]*ln+en[4],nn[rn++]=en[1]*an+en[3]*ln+en[5]}}function prepareMorphPath(Fe,en){var tn=Fe.getUpdatedPathProxy(),nn=en.getUpdatedPathProxy(),rn=alignBezierCurves(pathToBezierCurves(tn),pathToBezierCurves(nn)),an=rn[0],ln=rn[1],cn=Fe.getComputedTransform(),un=en.getComputedTransform();function fn(){this.transform=null}cn&&applyTransformOnBeziers(an,cn),un&&applyTransformOnBeziers(ln,un),saveAndModifyMethod(en,"updateTransform",{replace:fn}),en.transform=null;var hn=findBestMorphingRotation(an,ln,10,Math.PI),pn=[];saveAndModifyMethod(en,"buildPath",{replace:function(gn){for(var mn=en.__morphT,_n=1-mn,kn=[],Cn=0;Cn<hn.length;Cn++){var xn=hn[Cn],Sn=xn.from,Mn=xn.to,In=xn.rotation*mn,On=xn.fromCp,Pn=xn.toCp,Tn=Math.sin(In),Nn=Math.cos(In);lerp$1(kn,On,Pn,mn);for(var Hn=0;Hn<Sn.length;Hn+=2){var Un=Sn[Hn],jn=Sn[Hn+1],Yn=Mn[Hn],Wn=Mn[Hn+1],Qn=Un*_n+Yn*mn,Xn=jn*_n+Wn*mn;pn[Hn]=Qn*Nn-Xn*Tn+kn[0],pn[Hn+1]=Qn*Tn+Xn*Nn+kn[1]}var jr=pn[0],Wr=pn[1];gn.moveTo(jr,Wr);for(var Hn=2;Hn<Sn.length;){var Yn=pn[Hn++],Wn=pn[Hn++],Jr=pn[Hn++],ci=pn[Hn++],ti=pn[Hn++],Zr=pn[Hn++];jr===Yn&&Wr===Wn&&Jr===ti&&ci===Zr?gn.lineTo(ti,Zr):gn.bezierCurveTo(Yn,Wn,Jr,ci,ti,Zr),jr=ti,Wr=Zr}}}})}function morphPath(Fe,en,tn){if(!Fe||!en)return en;var nn=tn.done,rn=tn.during;prepareMorphPath(Fe,en),en.__morphT=0;function an(){restoreMethod(en,"buildPath"),restoreMethod(en,"updateTransform"),en.__morphT=-1,en.createPathProxy(),en.dirtyShape()}return en.animateTo({__morphT:1},defaults({during:function(ln){en.dirtyShape(),rn&&rn(ln)},done:function(){an(),nn&&nn()}},tn)),en}function hilbert(Fe,en,tn,nn,rn,an){var ln=16;Fe=rn===tn?0:Math.round(32767*(Fe-tn)/(rn-tn)),en=an===nn?0:Math.round(32767*(en-nn)/(an-nn));for(var cn=0,un,fn=(1<<ln)/2;fn>0;fn/=2){var hn=0,pn=0;(Fe&fn)>0&&(hn=1),(en&fn)>0&&(pn=1),cn+=fn*fn*(3*hn^pn),pn===0&&(hn===1&&(Fe=fn-1-Fe,en=fn-1-en),un=Fe,Fe=en,en=un)}return cn}function sortPaths(Fe){var en=1/0,tn=1/0,nn=-1/0,rn=-1/0,an=map$1(Fe,function(cn){var un=cn.getBoundingRect(),fn=cn.getComputedTransform(),hn=un.x+un.width/2+(fn?fn[4]:0),pn=un.y+un.height/2+(fn?fn[5]:0);return en=Math.min(hn,en),tn=Math.min(pn,tn),nn=Math.max(hn,nn),rn=Math.max(pn,rn),[hn,pn]}),ln=map$1(an,function(cn,un){return{cp:cn,z:hilbert(cn[0],cn[1],en,tn,nn,rn),path:Fe[un]}});return ln.sort(function(cn,un){return cn.z-un.z}).map(function(cn){return cn.path})}function defaultDividePath(Fe){return split(Fe.path,Fe.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(Fe,en,tn){var nn=[];function rn(On){for(var Pn=0;Pn<On.length;Pn++){var Tn=On[Pn];isCombineMorphing(Tn)?rn(Tn.childrenRef()):Tn instanceof Path$1&&nn.push(Tn)}}rn(Fe);var an=nn.length;if(!an)return createEmptyReturn();var ln=tn.dividePath||defaultDividePath,cn=ln({path:en,count:an});if(cn.length!==an)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();nn=sortPaths(nn),cn=sortPaths(cn);for(var un=tn.done,fn=tn.during,hn=tn.individualDelay,pn=new Transformable$1,gn=0;gn<an;gn++){var mn=nn[gn],_n=cn[gn];_n.parent=en,_n.copyTransform(pn),hn||prepareMorphPath(mn,_n)}en.__isCombineMorphing=!0,en.childrenRef=function(){return cn};function kn(On){for(var Pn=0;Pn<cn.length;Pn++)cn[Pn].addSelfToZr(On)}saveAndModifyMethod(en,"addSelfToZr",{after:function(On){kn(On)}}),saveAndModifyMethod(en,"removeSelfFromZr",{after:function(On){for(var Pn=0;Pn<cn.length;Pn++)cn[Pn].removeSelfFromZr(On)}});function Cn(){en.__isCombineMorphing=!1,en.__morphT=-1,en.childrenRef=null,restoreMethod(en,"addSelfToZr"),restoreMethod(en,"removeSelfFromZr")}var xn=cn.length;if(hn)for(var Sn=xn,Mn=function(){Sn--,Sn===0&&(Cn(),un&&un())},gn=0;gn<xn;gn++){var In=hn?defaults({delay:(tn.delay||0)+hn(gn,xn,nn[gn],cn[gn]),done:Mn},tn):tn;morphPath(nn[gn],cn[gn],In)}else en.__morphT=0,en.animateTo({__morphT:1},defaults({during:function(On){for(var Pn=0;Pn<xn;Pn++){var Tn=cn[Pn];Tn.__morphT=en.__morphT,Tn.dirtyShape()}fn&&fn(On)},done:function(){Cn();for(var On=0;On<Fe.length;On++)restoreMethod(Fe[On],"updateTransform");un&&un()}},tn));return en.__zr&&kn(en.__zr),{fromIndividuals:nn,toIndividuals:cn,count:xn}}function separateMorph(Fe,en,tn){var nn=en.length,rn=[],an=tn.dividePath||defaultDividePath;function ln(mn){for(var _n=0;_n<mn.length;_n++){var kn=mn[_n];isCombineMorphing(kn)?ln(kn.childrenRef()):kn instanceof Path$1&&rn.push(kn)}}if(isCombineMorphing(Fe)){ln(Fe.childrenRef());var cn=rn.length;if(cn<nn)for(var un=0,fn=cn;fn<nn;fn++)rn.push(clonePath(rn[un++%cn]));rn.length=nn}else{rn=an({path:Fe,count:nn});for(var hn=Fe.getComputedTransform(),fn=0;fn<rn.length;fn++)rn[fn].setLocalTransform(hn);if(rn.length!==nn)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}rn=sortPaths(rn),en=sortPaths(en);for(var pn=tn.individualDelay,fn=0;fn<nn;fn++){var gn=pn?defaults({delay:(tn.delay||0)+pn(fn,nn,rn[fn],en[fn])},tn):tn;morphPath(rn[fn],en[fn],gn)}return{fromIndividuals:rn,toIndividuals:en,count:en.length}}function isMultiple(Fe){return isArray$1(Fe[0])}function prepareMorphBatches(Fe,en){for(var tn=[],nn=Fe.length,rn=0;rn<nn;rn++)tn.push({one:Fe[rn],many:[]});for(var rn=0;rn<en.length;rn++){var an=en[rn].length,ln=void 0;for(ln=0;ln<an;ln++)tn[ln%nn].many.push(en[rn][ln])}for(var cn=0,rn=nn-1;rn>=0;rn--)if(!tn[rn].many.length){var un=tn[cn].many;if(un.length<=1)if(cn)cn=0;else return tn;var an=un.length,fn=Math.ceil(an/2);tn[rn].many=un.slice(fn,an),tn[cn].many=un.slice(0,fn),cn++}return tn}var pathDividers={clone:function(Fe){for(var en=[],tn=1-Math.pow(1-Fe.path.style.opacity,1/Fe.count),nn=0;nn<Fe.count;nn++){var rn=clonePath(Fe.path);rn.setStyle("opacity",tn),en.push(rn)}return en},split:null};function applyMorphAnimation(Fe,en,tn,nn,rn,an){if(!Fe.length||!en.length)return;var ln=getAnimationConfig("update",nn,rn);if(!(ln&&ln.duration>0))return;var cn=nn.getModel("universalTransition").get("delay"),un=Object.assign({setToFinal:!0},ln),fn,hn;isMultiple(Fe)&&(fn=Fe,hn=en),isMultiple(en)&&(fn=en,hn=Fe);function pn(xn,Sn,Mn,In,On){var Pn=xn.many,Tn=xn.one;if(Pn.length===1&&!On){var Nn=Sn?Pn[0]:Tn,Hn=Sn?Tn:Pn[0];if(isCombineMorphing(Nn))pn({many:[Nn],one:Hn},!0,Mn,In,!0);else{var Un=cn?defaults({delay:cn(Mn,In)},un):un;morphPath(Nn,Hn,Un),an(Nn,Hn,Nn,Hn,Un)}}else for(var jn=defaults({dividePath:pathDividers[tn],individualDelay:cn&&function(Wr,Jr,ci,ti){return cn(Wr+Mn,In)}},un),Yn=Sn?combineMorph(Pn,Tn,jn):separateMorph(Tn,Pn,jn),Wn=Yn.fromIndividuals,Qn=Yn.toIndividuals,Xn=Wn.length,jr=0;jr<Xn;jr++){var Un=cn?defaults({delay:cn(jr,Xn)},un):un;an(Wn[jr],Qn[jr],Sn?Pn[jr]:xn.one,Sn?xn.one:Pn[jr],Un)}}for(var gn=fn?fn===Fe:Fe.length>en.length,mn=fn?prepareMorphBatches(hn,fn):prepareMorphBatches(gn?en:Fe,[gn?Fe:en]),_n=0,kn=0;kn<mn.length;kn++)_n+=mn[kn].many.length;for(var Cn=0,kn=0;kn<mn.length;kn++)pn(mn[kn],gn,Cn,_n),Cn+=mn[kn].many.length}function getPathList(Fe){if(!Fe)return[];if(isArray$1(Fe)){for(var en=[],tn=0;tn<Fe.length;tn++)en.push(getPathList(Fe[tn]));return en}var nn=[];return Fe.traverse(function(rn){rn instanceof Path$1&&!rn.disableMorphing&&!rn.invisible&&!rn.ignore&&nn.push(rn)}),nn}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(Fe){for(var en=Fe.dimensions,tn=0;tn<en.length;tn++){var nn=Fe.getDimensionInfo(en[tn]);if(nn&&nn.otherDims.itemGroupId===0)return en[tn]}}function flattenDataDiffItems(Fe){var en=[];return each$f(Fe,function(tn){var nn=tn.data;if(!(nn.count()>DATA_COUNT_THRESHOLD))for(var rn=nn.getIndices(),an=getGroupIdDimension(nn),ln=0;ln<rn.length;ln++)en.push({dataGroupId:tn.dataGroupId,data:nn,dim:tn.dim||an,divide:tn.divide,dataIndex:ln})}),en}function fadeInElement(Fe,en,tn){Fe.traverse(function(nn){nn instanceof Path$1&&initProps(nn,{style:{opacity:0}},en,{dataIndex:tn,isFrom:!0})})}function removeEl(Fe){if(Fe.parent){var en=Fe.getComputedTransform();Fe.setLocalTransform(en),Fe.parent.remove(Fe)}}function stopAnimation(Fe){Fe.stopAnimation(),Fe.isGroup&&Fe.traverse(function(en){en.stopAnimation()})}function animateElementStyles(Fe,en,tn){var nn=getAnimationConfig("update",tn,en);nn&&Fe.traverse(function(rn){if(rn instanceof Displayable$1){var an=getOldStyle(rn);an&&rn.animateFrom({style:an},nn)}})}function isAllIdSame(Fe,en){var tn=Fe.length;if(tn!==en.length)return!1;for(var nn=0;nn<tn;nn++){var rn=Fe[nn],an=en[nn];if(rn.data.getId(rn.dataIndex)!==an.data.getId(an.dataIndex))return!1}return!0}function transitionBetween(Fe,en,tn){var nn=flattenDataDiffItems(Fe),rn=flattenDataDiffItems(en);function an(xn,Sn,Mn,In,On){(Mn||xn)&&Sn.animateFrom({style:Mn&&Mn!==xn?extend$1(extend$1({},Mn.style),xn.style):xn.style},On)}function ln(xn){for(var Sn=0;Sn<xn.length;Sn++)if(xn[Sn].dim)return xn[Sn].dim}var cn=ln(nn),un=ln(rn),fn=!1;function hn(xn,Sn){return function(Mn){var In=Mn.data,On=Mn.dataIndex;if(Sn)return In.getId(On);var Pn=Mn.dataGroupId,Tn=xn?cn||un:un||cn,Nn=Tn&&In.getDimensionInfo(Tn),Hn=Nn&&Nn.ordinalMeta;if(Nn){var Un=In.get(Nn.name,On);return Hn&&Hn.categories[Un]||Un+""}var jn=In.getRawDataItem(On);return jn&&jn.groupId?jn.groupId+"":Pn||In.getId(On)}}var pn=isAllIdSame(nn,rn),gn={};if(!pn)for(var mn=0;mn<rn.length;mn++){var _n=rn[mn],kn=_n.data.getItemGraphicEl(_n.dataIndex);kn&&(gn[kn.id]=!0)}function Cn(xn,Sn){var Mn=nn[Sn],In=rn[xn],On=In.data.hostModel,Pn=Mn.data.getItemGraphicEl(Mn.dataIndex),Tn=In.data.getItemGraphicEl(In.dataIndex);if(Pn===Tn){Tn&&animateElementStyles(Tn,In.dataIndex,On);return}Pn&&gn[Pn.id]||Tn&&(stopAnimation(Tn),Pn?(stopAnimation(Pn),removeEl(Pn),fn=!0,applyMorphAnimation(getPathList(Pn),getPathList(Tn),In.divide,On,xn,an)):fadeInElement(Tn,On,xn))}new DataDiffer$1(nn,rn,hn(!0,pn),hn(!1,pn),null,"multiple").update(Cn).updateManyToOne(function(xn,Sn){var Mn=rn[xn],In=Mn.data,On=In.hostModel,Pn=In.getItemGraphicEl(Mn.dataIndex),Tn=filter(map$1(Sn,function(Nn){return nn[Nn].data.getItemGraphicEl(nn[Nn].dataIndex)}),function(Nn){return Nn&&Nn!==Pn&&!gn[Nn.id]});Pn&&(stopAnimation(Pn),Tn.length?(each$f(Tn,function(Nn){stopAnimation(Nn),removeEl(Nn)}),fn=!0,applyMorphAnimation(getPathList(Tn),getPathList(Pn),Mn.divide,On,xn,an)):fadeInElement(Pn,On,Mn.dataIndex))}).updateOneToMany(function(xn,Sn){var Mn=nn[Sn],In=Mn.data.getItemGraphicEl(Mn.dataIndex);if(!(In&&gn[In.id])){var On=filter(map$1(xn,function(Tn){return rn[Tn].data.getItemGraphicEl(rn[Tn].dataIndex)}),function(Tn){return Tn&&Tn!==In}),Pn=rn[xn[0]].data.hostModel;On.length&&(each$f(On,function(Tn){return stopAnimation(Tn)}),In?(stopAnimation(In),removeEl(In),fn=!0,applyMorphAnimation(getPathList(In),getPathList(On),Mn.divide,Pn,xn[0],an)):each$f(On,function(Tn){return fadeInElement(Tn,Pn,xn[0])}))}}).updateManyToMany(function(xn,Sn){new DataDiffer$1(Sn,xn,function(Mn){return nn[Mn].data.getId(nn[Mn].dataIndex)},function(Mn){return rn[Mn].data.getId(rn[Mn].dataIndex)}).update(function(Mn,In){Cn(xn[Mn],Sn[In])}).execute()}).execute(),fn&&each$f(en,function(xn){var Sn=xn.data,Mn=Sn.hostModel,In=Mn&&tn.getViewOfSeriesModel(Mn),On=getAnimationConfig("update",Mn,0);In&&Mn.isAnimationEnabled()&&On&&On.duration>0&&In.group.traverse(function(Pn){Pn instanceof Path$1&&!Pn.animators.length&&Pn.animateFrom({style:{opacity:0}},On)})})}function getSeriesTransitionKey(Fe){var en=Fe.getModel("universalTransition").get("seriesKey");return en||Fe.id}function convertArraySeriesKeyToString(Fe){return isArray$1(Fe)?Fe.sort().join(","):Fe}function getDivideShapeFromData(Fe){if(Fe.hostModel)return Fe.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(Fe,en){var tn=createHashMap(),nn=createHashMap(),rn=createHashMap();return each$f(Fe.oldSeries,function(an,ln){var cn=Fe.oldDataGroupIds[ln],un=Fe.oldData[ln],fn=getSeriesTransitionKey(an),hn=convertArraySeriesKeyToString(fn);nn.set(hn,{dataGroupId:cn,data:un}),isArray$1(fn)&&each$f(fn,function(pn){rn.set(pn,{key:hn,dataGroupId:cn,data:un})})}),each$f(en.updatedSeries,function(an){if(an.isUniversalTransitionEnabled()&&an.isAnimationEnabled()){var ln=an.get("dataGroupId"),cn=an.getData(),un=getSeriesTransitionKey(an),fn=convertArraySeriesKeyToString(un),hn=nn.get(fn);if(hn)tn.set(fn,{oldSeries:[{dataGroupId:hn.dataGroupId,divide:getDivideShapeFromData(hn.data),data:hn.data}],newSeries:[{dataGroupId:ln,divide:getDivideShapeFromData(cn),data:cn}]});else if(isArray$1(un)){var pn=[];each$f(un,function(_n){var kn=nn.get(_n);kn.data&&pn.push({dataGroupId:kn.dataGroupId,divide:getDivideShapeFromData(kn.data),data:kn.data})}),pn.length&&tn.set(fn,{oldSeries:pn,newSeries:[{dataGroupId:ln,data:cn,divide:getDivideShapeFromData(cn)}]})}else{var gn=rn.get(un);if(gn){var mn=tn.get(gn.key);mn||(mn={oldSeries:[{dataGroupId:gn.dataGroupId,data:gn.data,divide:getDivideShapeFromData(gn.data)}],newSeries:[]},tn.set(gn.key,mn)),mn.newSeries.push({dataGroupId:ln,data:cn,divide:getDivideShapeFromData(cn)})}}}}),tn}function querySeries(Fe,en){for(var tn=0;tn<Fe.length;tn++){var nn=en.seriesIndex!=null&&en.seriesIndex===Fe[tn].seriesIndex||en.seriesId!=null&&en.seriesId===Fe[tn].id;if(nn)return tn}}function transitionSeriesFromOpt(Fe,en,tn,nn){var rn=[],an=[];each$f(normalizeToArray(Fe.from),function(ln){var cn=querySeries(en.oldSeries,ln);cn>=0&&rn.push({dataGroupId:en.oldDataGroupIds[cn],data:en.oldData[cn],divide:getDivideShapeFromData(en.oldData[cn]),dim:ln.dimension})}),each$f(normalizeToArray(Fe.to),function(ln){var cn=querySeries(tn.updatedSeries,ln);if(cn>=0){var un=tn.updatedSeries[cn].getData();an.push({dataGroupId:en.oldDataGroupIds[cn],data:un,divide:getDivideShapeFromData(un),dim:ln.dimension})}}),rn.length>0&&an.length>0&&transitionBetween(rn,an,nn)}function installUniversalTransition(Fe){Fe.registerUpdateLifecycle("series:beforeupdate",function(en,tn,nn){each$f(normalizeToArray(nn.seriesTransition),function(rn){each$f(normalizeToArray(rn.to),function(an){for(var ln=nn.updatedSeries,cn=0;cn<ln.length;cn++)(an.seriesIndex!=null&&an.seriesIndex===ln[cn].seriesIndex||an.seriesId!=null&&an.seriesId===ln[cn].id)&&(ln[cn][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),Fe.registerUpdateLifecycle("series:transition",function(en,tn,nn){var rn=getUniversalTransitionGlobalStore(tn);if(rn.oldSeries&&nn.updatedSeries&&nn.optionChanged){var an=nn.seriesTransition;if(an)each$f(normalizeToArray(an),function(mn){transitionSeriesFromOpt(mn,rn,nn,tn)});else{var ln=findTransitionSeriesBatches(rn,nn);each$f(ln.keys(),function(mn){var _n=ln.get(mn);transitionBetween(_n.oldSeries,_n.newSeries,tn)})}each$f(nn.updatedSeries,function(mn){mn[SERIES_UNIVERSAL_TRANSITION_PROP]&&(mn[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var cn=en.getSeries(),un=rn.oldSeries=[],fn=rn.oldDataGroupIds=[],hn=rn.oldData=[],pn=0;pn<cn.length;pn++){var gn=cn[pn].getData();gn.count()<DATA_COUNT_THRESHOLD&&(un.push(cn[pn]),fn.push(cn[pn].get("dataGroupId")),hn.push(gn))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);const echarts=Object.freeze(Object.defineProperty({__proto__:null,Axis:Axis$1,ChartView:ChartView$1,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,List:SeriesData$1,Model:Model$1,PRIORITY,SeriesModel:SeriesModel$1,color,connect,dataTool,dependencies,disConnect,disconnect,dispose,env:env$1,extendChartView,extendComponentModel,extendComponentView,extendSeriesModel,format,getCoordinateSystemDimensions,getInstanceByDom,getInstanceById,getMap,graphic,helper,init:init$1,innerDrawElementOnCanvas:brushSingle,matrix,number,parseGeoJSON,parseGeoJson:parseGeoJSON,registerAction,registerCoordinateSystem,registerLayout,registerLoading,registerLocale,registerMap:registerMap$1,registerPostInit,registerPostUpdate,registerPreprocessor,registerProcessor,registerTheme,registerTransform,registerUpdateLifecycle,registerVisual,setCanvasCreator,setPlatformAPI,throttle,time,use,util,vector,version,zrUtil:util$1,zrender},Symbol.toStringTag,{value:"Module"}));var objectExtend=extend;function extend(){var Fe=[].slice.call(arguments),en=!1;typeof Fe[0]=="boolean"&&(en=Fe.shift());var tn=Fe[0];if(isUnextendable(tn))throw new Error("extendee must be an object");for(var nn=Fe.slice(1),rn=nn.length,an=0;an<rn;an++){var ln=nn[an];for(var cn in ln)if(Object.prototype.hasOwnProperty.call(ln,cn)){var un=ln[cn];if(en&&isCloneable(un)){var fn=Array.isArray(un)?[]:{};tn[cn]=extend(!0,Object.prototype.hasOwnProperty.call(tn,cn)&&!isUnextendable(tn[cn])?tn[cn]:fn,un)}else tn[cn]=un}}return tn}function isCloneable(Fe){return Array.isArray(Fe)||{}.toString.call(Fe)=="[object Object]"}function isUnextendable(Fe){return!Fe||typeof Fe!="object"&&typeof Fe!="function"}function $parcel$interopDefault(Fe){return Fe&&Fe.__esModule?Fe.default:Fe}class $4040acfd8584338d$export$2e2bcd8739ae039{on(en,tn){return this._callbacks=this._callbacks||{},this._callbacks[en]||(this._callbacks[en]=[]),this._callbacks[en].push(tn),this}emit(en,...tn){this._callbacks=this._callbacks||{};let nn=this._callbacks[en];if(nn)for(let rn of nn)rn.apply(this,tn);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+en,{args:tn})),this}makeEvent(en,tn){let nn={bubbles:!0,cancelable:!0,detail:tn};if(typeof window.CustomEvent=="function")return new CustomEvent(en,nn);var rn=document.createEvent("CustomEvent");return rn.initCustomEvent(en,nn.bubbles,nn.cancelable,nn.detail),rn}off(en,tn){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let nn=this._callbacks[en];if(!nn)return this;if(arguments.length===1)return delete this._callbacks[en],this;for(let rn=0;rn<nn.length;rn++)if(nn[rn]===tn){nn.splice(rn,1);break}return this}}var $fd6031f88dce2e32$exports={};$fd6031f88dce2e32$exports=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let $4ca367182776f80b$var$defaultOptions={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(Fe,en,tn){if(tn)return{dzuuid:tn.file.upload.uuid,dzchunkindex:tn.index,dztotalfilesize:tn.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:tn.file.upload.totalChunkCount,dzchunkbyteoffset:tn.index*this.options.chunkSize}},accept(Fe,en){return en()},chunksUploaded:function(Fe,en){en()},binaryBody:!1,fallback(){let Fe;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let tn of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(tn.className)){Fe=tn,tn.className="dz-message";break}Fe||(Fe=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(Fe));let en=Fe.getElementsByTagName("span")[0];return en&&(en.textContent!=null?en.textContent=this.options.dictFallbackMessage:en.innerText!=null&&(en.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(Fe,en,tn,nn){let rn={srcX:0,srcY:0,srcWidth:Fe.width,srcHeight:Fe.height},an=Fe.width/Fe.height;en==null&&tn==null?(en=rn.srcWidth,tn=rn.srcHeight):en==null?en=tn*an:tn==null&&(tn=en/an),en=Math.min(en,rn.srcWidth),tn=Math.min(tn,rn.srcHeight);let ln=en/tn;if(rn.srcWidth>en||rn.srcHeight>tn)if(nn==="crop")an>ln?(rn.srcHeight=Fe.height,rn.srcWidth=rn.srcHeight*ln):(rn.srcWidth=Fe.width,rn.srcHeight=rn.srcWidth/ln);else if(nn==="contain")an>ln?tn=en/an:en=tn*an;else throw new Error(`Unknown resizeMethod '${nn}'`);return rn.srcX=(Fe.width-rn.srcWidth)/2,rn.srcY=(Fe.height-rn.srcHeight)/2,rn.trgWidth=en,rn.trgHeight=tn,rn},transformFile(Fe,en){return(this.options.resizeWidth||this.options.resizeHeight)&&Fe.type.match(/image.*/)?this.resizeImage(Fe,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,en):en(Fe)},previewTemplate:$parcel$interopDefault($fd6031f88dce2e32$exports),drop(Fe){return this.element.classList.remove("dz-drag-hover")},dragstart(Fe){},dragend(Fe){return this.element.classList.remove("dz-drag-hover")},dragenter(Fe){return this.element.classList.add("dz-drag-hover")},dragover(Fe){return this.element.classList.add("dz-drag-hover")},dragleave(Fe){return this.element.classList.remove("dz-drag-hover")},paste(Fe){},reset(){return this.element.classList.remove("dz-started")},addedfile(Fe){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){Fe.previewElement=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(this.options.previewTemplate.trim()),Fe.previewTemplate=Fe.previewElement,this.previewsContainer.appendChild(Fe.previewElement);for(var en of Fe.previewElement.querySelectorAll("[data-dz-name]"))en.textContent=Fe.name;for(en of Fe.previewElement.querySelectorAll("[data-dz-size]"))en.innerHTML=this.filesize(Fe.size);this.options.addRemoveLinks&&(Fe._removeLink=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),Fe.previewElement.appendChild(Fe._removeLink));let tn=nn=>(nn.preventDefault(),nn.stopPropagation(),Fe.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING?$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(Fe)):this.options.dictRemoveFileConfirmation?$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(Fe)):this.removeFile(Fe));for(let nn of Fe.previewElement.querySelectorAll("[data-dz-remove]"))nn.addEventListener("click",tn)}},removedfile(Fe){return Fe.previewElement!=null&&Fe.previewElement.parentNode!=null&&Fe.previewElement.parentNode.removeChild(Fe.previewElement),this._updateMaxFilesReachedClass()},thumbnail(Fe,en){if(Fe.previewElement){Fe.previewElement.classList.remove("dz-file-preview");for(let tn of Fe.previewElement.querySelectorAll("[data-dz-thumbnail]"))tn.alt=Fe.name,tn.src=en;return setTimeout(()=>Fe.previewElement.classList.add("dz-image-preview"),1)}},error(Fe,en){if(Fe.previewElement){Fe.previewElement.classList.add("dz-error"),typeof en!="string"&&en.error&&(en=en.error);for(let tn of Fe.previewElement.querySelectorAll("[data-dz-errormessage]"))tn.textContent=en}},errormultiple(){},processing(Fe){if(Fe.previewElement&&(Fe.previewElement.classList.add("dz-processing"),Fe._removeLink))return Fe._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(Fe,en,tn){if(Fe.previewElement)for(let nn of Fe.previewElement.querySelectorAll("[data-dz-uploadprogress]"))nn.nodeName==="PROGRESS"?nn.value=en:nn.style.width=`${en}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(Fe){if(Fe.previewElement)return Fe.previewElement.classList.add("dz-success")},successmultiple(){},canceled(Fe){return this.emit("error",Fe,this.options.dictUploadCanceled)},canceledmultiple(){},complete(Fe){if(Fe._removeLink&&(Fe._removeLink.innerHTML=this.options.dictRemoveFile),Fe.previewElement)return Fe.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var $4ca367182776f80b$export$2e2bcd8739ae039=$4ca367182776f80b$var$defaultOptions;class $3ed269f2f0fb224b$export$2e2bcd8739ae039 extends $4040acfd8584338d$export$2e2bcd8739ae039{static initClass(){this.prototype.Emitter=$4040acfd8584338d$export$2e2bcd8739ae039,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(en=>en.accepted).map(en=>en)}getRejectedFiles(){return this.files.filter(en=>!en.accepted).map(en=>en)}getFilesWithStatus(en){return this.files.filter(tn=>tn.status===en).map(tn=>tn)}getQueuedFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED)}getActiveFiles(){return this.files.filter(en=>en.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING||en.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED).map(en=>en)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild($3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let nn=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:rn}=this.hiddenFileInput;if(rn.length)for(let an of rn)this.addFile(an);this.emit("addedfiles",rn),nn()})};nn()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let nn of this.events)this.on(nn,this.options[nn]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",nn=>this.emit("complete",nn)),this.on("complete",nn=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const en=function(nn){if(nn.dataTransfer.types){for(var rn=0;rn<nn.dataTransfer.types.length;rn++)if(nn.dataTransfer.types[rn]==="Files")return!0}return!1};let tn=function(nn){if(en(nn))return nn.stopPropagation(),nn.preventDefault?nn.preventDefault():nn.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:nn=>this.emit("dragstart",nn),dragenter:nn=>(tn(nn),this.emit("dragenter",nn)),dragover:nn=>{let rn;try{rn=nn.dataTransfer.effectAllowed}catch{}return nn.dataTransfer.dropEffect=rn==="move"||rn==="linkMove"?"move":"copy",tn(nn),this.emit("dragover",nn)},dragleave:nn=>this.emit("dragleave",nn),drop:nn=>(tn(nn),this.drop(nn)),dragend:nn=>this.emit("dragend",nn)}}],this.clickableElements.forEach(nn=>this.listeners.push({element:nn,events:{click:rn=>((nn!==this.element||rn.target===this.element||$3ed269f2f0fb224b$export$2e2bcd8739ae039.elementInside(rn.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.splice($3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.indexOf(this),1)}updateTotalUploadProgress(){let en,tn=0,nn=0;if(this.getActiveFiles().length){for(let an of this.getActiveFiles())tn+=an.upload.bytesSent,nn+=an.upload.total;en=100*tn/nn}else en=100;return this.emit("totaluploadprogress",en,nn,tn)}_getParamName(en){return typeof this.options.paramName=="function"?this.options.paramName(en):`${this.options.paramName}${this.options.uploadMultiple?`[${en}]`:""}`}_renameFile(en){return typeof this.options.renameFile!="function"?en.name:this.options.renameFile(en)}getFallbackForm(){let en,tn;if(en=this.getExistingFallback())return en;let nn='<div class="dz-fallback">';this.options.dictFallbackText&&(nn+=`<p>${this.options.dictFallbackText}</p>`),nn+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let rn=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(nn);return this.element.tagName!=="FORM"?(tn=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),tn.appendChild(rn)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),tn??rn}getExistingFallback(){let en=function(nn){for(let rn of nn)if(/(^| )fallback($| )/.test(rn.className))return rn};for(let nn of["div","form"]){var tn;if(tn=en(this.element.getElementsByTagName(nn)))return tn}}setupEventListeners(){return this.listeners.map(en=>(()=>{let tn=[];for(let nn in en.events){let rn=en.events[nn];tn.push(en.element.addEventListener(nn,rn,!1))}return tn})())}removeEventListeners(){return this.listeners.map(en=>(()=>{let tn=[];for(let nn in en.events){let rn=en.events[nn];tn.push(en.element.removeEventListener(nn,rn,!1))}return tn})())}disable(){return this.clickableElements.forEach(en=>en.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(en=>this.cancelUpload(en))}enable(){return delete this.disabled,this.clickableElements.forEach(en=>en.classList.add("dz-clickable")),this.setupEventListeners()}filesize(en){let tn=0,nn="b";if(en>0){let rn=["tb","gb","mb","kb","b"];for(let an=0;an<rn.length;an++){let ln=rn[an],cn=Math.pow(this.options.filesizeBase,4-an)/10;if(en>=cn){tn=en/Math.pow(this.options.filesizeBase,4-an),nn=ln;break}}tn=Math.round(10*tn)/10}return`<strong>${tn}</strong> ${this.options.dictFileSizeUnits[nn]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(en){if(!en.dataTransfer)return;this.emit("drop",en);let tn=[];for(let nn=0;nn<en.dataTransfer.files.length;nn++)tn[nn]=en.dataTransfer.files[nn];if(tn.length){let{items:nn}=en.dataTransfer;nn&&nn.length&&nn[0].webkitGetAsEntry!=null?this._addFilesFromItems(nn):this.handleFiles(tn)}this.emit("addedfiles",tn)}paste(en){if($3ed269f2f0fb224b$var$__guard__(en!=null?en.clipboardData:void 0,nn=>nn.items)==null)return;this.emit("paste",en);let{items:tn}=en.clipboardData;if(tn.length)return this._addFilesFromItems(tn)}handleFiles(en){for(let tn of en)this.addFile(tn)}_addFilesFromItems(en){return(()=>{let tn=[];for(let rn of en){var nn;rn.webkitGetAsEntry!=null&&(nn=rn.webkitGetAsEntry())?nn.isFile?tn.push(this.addFile(rn.getAsFile())):nn.isDirectory?tn.push(this._addFilesFromDirectory(nn,nn.name)):tn.push(void 0):rn.getAsFile!=null&&(rn.kind==null||rn.kind==="file")?tn.push(this.addFile(rn.getAsFile())):tn.push(void 0)}return tn})()}_addFilesFromDirectory(en,tn){let nn=en.createReader(),rn=ln=>$3ed269f2f0fb224b$var$__guardMethod__(console,"log",cn=>cn.log(ln));var an=()=>nn.readEntries(ln=>{if(ln.length>0){for(let cn of ln)cn.isFile?cn.file(un=>{if(!(this.options.ignoreHiddenFiles&&un.name.substring(0,1)==="."))return un.fullPath=`${tn}/${un.name}`,this.addFile(un)}):cn.isDirectory&&this._addFilesFromDirectory(cn,`${tn}/${cn.name}`);an()}return null},rn);return an()}accept(en,tn){this.options.maxFilesize&&en.size>this.options.maxFilesize*1048576?tn(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(en.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):$3ed269f2f0fb224b$export$2e2bcd8739ae039.isValidFile(en,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(tn(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",en)):this.options.accept.call(this,en,tn):tn(this.options.dictInvalidFileType)}addFile(en){en.upload={uuid:$3ed269f2f0fb224b$export$2e2bcd8739ae039.uuidv4(),progress:0,total:en.size,bytesSent:0,filename:this._renameFile(en)},this.files.push(en),en.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED,this.emit("addedfile",en),this._enqueueThumbnail(en),this.accept(en,tn=>{tn?(en.accepted=!1,this._errorProcessing([en],tn)):(en.accepted=!0,this.options.autoQueue&&this.enqueueFile(en)),this._updateMaxFilesReachedClass()})}enqueueFiles(en){for(let tn of en)this.enqueueFile(tn);return null}enqueueFile(en){if(en.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED&&en.accepted===!0){if(en.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(en){if(this.options.createImageThumbnails&&en.type.match(/image.*/)&&en.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(en),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let en=this._thumbnailQueue.shift();return this.createThumbnail(en,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,tn=>(this.emit("thumbnail",en,tn),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(en){if(en.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING&&this.cancelUpload(en),this.files=$3ed269f2f0fb224b$var$without(this.files,en),this.emit("removedfile",en),this.files.length===0)return this.emit("reset")}removeAllFiles(en){en==null&&(en=!1);for(let tn of this.files.slice())(tn.status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING||en)&&this.removeFile(tn);return null}resizeImage(en,tn,nn,rn,an){return this.createThumbnail(en,tn,nn,rn,!0,(ln,cn)=>{if(cn==null)return an(en);{let{resizeMimeType:un}=this.options;un==null&&(un=en.type);let fn=cn.toDataURL(un,this.options.resizeQuality);return(un==="image/jpeg"||un==="image/jpg")&&(fn=$3ed269f2f0fb224b$var$ExifRestore.restore(en.dataURL,fn)),an($3ed269f2f0fb224b$export$2e2bcd8739ae039.dataURItoBlob(fn))}})}createThumbnail(en,tn,nn,rn,an,ln){let cn=new FileReader;cn.onload=()=>{if(en.dataURL=cn.result,en.type==="image/svg+xml"){ln!=null&&ln(cn.result);return}this.createThumbnailFromUrl(en,tn,nn,rn,an,ln)},cn.readAsDataURL(en)}displayExistingFile(en,tn,nn,rn,an=!0){if(this.emit("addedfile",en),this.emit("complete",en),!an)this.emit("thumbnail",en,tn),nn&&nn();else{let ln=cn=>{this.emit("thumbnail",en,cn),nn&&nn()};en.dataURL=tn,this.createThumbnailFromUrl(en,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,ln,rn)}}createThumbnailFromUrl(en,tn,nn,rn,an,ln,cn){let un=document.createElement("img");return cn&&(un.crossOrigin=cn),an=getComputedStyle(document.body).imageOrientation=="from-image"?!1:an,un.onload=()=>{let fn=hn=>hn(1);return typeof EXIF<"u"&&EXIF!==null&&an&&(fn=hn=>EXIF.getData(un,function(){return hn(EXIF.getTag(this,"Orientation"))})),fn(hn=>{en.width=un.width,en.height=un.height;let pn=this.options.resize.call(this,en,tn,nn,rn),gn=document.createElement("canvas"),mn=gn.getContext("2d");switch(gn.width=pn.trgWidth,gn.height=pn.trgHeight,hn>4&&(gn.width=pn.trgHeight,gn.height=pn.trgWidth),hn){case 2:mn.translate(gn.width,0),mn.scale(-1,1);break;case 3:mn.translate(gn.width,gn.height),mn.rotate(Math.PI);break;case 4:mn.translate(0,gn.height),mn.scale(1,-1);break;case 5:mn.rotate(.5*Math.PI),mn.scale(1,-1);break;case 6:mn.rotate(.5*Math.PI),mn.translate(0,-gn.width);break;case 7:mn.rotate(.5*Math.PI),mn.translate(gn.height,-gn.width),mn.scale(-1,1);break;case 8:mn.rotate(-.5*Math.PI),mn.translate(-gn.height,0);break}$3ed269f2f0fb224b$var$drawImageIOSFix(mn,un,pn.srcX!=null?pn.srcX:0,pn.srcY!=null?pn.srcY:0,pn.srcWidth,pn.srcHeight,pn.trgX!=null?pn.trgX:0,pn.trgY!=null?pn.trgY:0,pn.trgWidth,pn.trgHeight);let _n=gn.toDataURL("image/png");if(ln!=null)return ln(_n,gn)})},ln!=null&&(un.onerror=ln),un.src=en.dataURL}processQueue(){let{parallelUploads:en}=this.options,tn=this.getUploadingFiles().length,nn=tn;if(tn>=en)return;let rn=this.getQueuedFiles();if(rn.length>0){if(this.options.uploadMultiple)return this.processFiles(rn.slice(0,en-tn));for(;nn<en;){if(!rn.length)return;this.processFile(rn.shift()),nn++}}}processFile(en){return this.processFiles([en])}processFiles(en){for(let tn of en)tn.processing=!0,tn.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING,this.emit("processing",tn);return this.options.uploadMultiple&&this.emit("processingmultiple",en),this.uploadFiles(en)}_getFilesWithXhr(en){return this.files.filter(tn=>tn.xhr===en).map(tn=>tn)}cancelUpload(en){if(en.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING){let tn=this._getFilesWithXhr(en.xhr);for(let nn of tn)nn.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED;typeof en.xhr<"u"&&en.xhr.abort();for(let nn of tn)this.emit("canceled",nn);this.options.uploadMultiple&&this.emit("canceledmultiple",tn)}else(en.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED||en.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED)&&(en.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED,this.emit("canceled",en),this.options.uploadMultiple&&this.emit("canceledmultiple",[en]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(en,...tn){return typeof en=="function"?en.apply(this,tn):en}uploadFile(en){return this.uploadFiles([en])}uploadFiles(en){this._transformFiles(en,tn=>{if(this.options.chunking){let nn=tn[0];en[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||nn.size>this.options.chunkSize),en[0].upload.totalChunkCount=Math.ceil(nn.size/this.options.chunkSize)}if(en[0].upload.chunked){let nn=en[0],rn=tn[0];nn.upload.chunks=[];let an=()=>{let ln=0;for(;nn.upload.chunks[ln]!==void 0;)ln++;if(ln>=nn.upload.totalChunkCount)return;let cn=ln*this.options.chunkSize,un=Math.min(cn+this.options.chunkSize,rn.size),fn={name:this._getParamName(0),data:rn.webkitSlice?rn.webkitSlice(cn,un):rn.slice(cn,un),filename:nn.upload.filename,chunkIndex:ln};nn.upload.chunks[ln]={file:nn,index:ln,dataBlock:fn,status:$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING,progress:0,retries:0},this._uploadData(en,[fn])};if(nn.upload.finishedChunkUpload=(ln,cn)=>{let un=!0;ln.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS,ln.dataBlock=null,ln.response=ln.xhr.responseText,ln.responseHeaders=ln.xhr.getAllResponseHeaders(),ln.xhr=null;for(let fn=0;fn<nn.upload.totalChunkCount;fn++){if(nn.upload.chunks[fn]===void 0)return an();nn.upload.chunks[fn].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS&&(un=!1)}un&&this.options.chunksUploaded(nn,()=>{this._finished(en,cn,null)})},this.options.parallelChunkUploads)for(let ln=0;ln<nn.upload.totalChunkCount;ln++)an();else an()}else{let nn=[];for(let rn=0;rn<en.length;rn++)nn[rn]={name:this._getParamName(rn),data:tn[rn],filename:en[rn].upload.filename};this._uploadData(en,nn)}})}_getChunk(en,tn){for(let nn=0;nn<en.upload.totalChunkCount;nn++)if(en.upload.chunks[nn]!==void 0&&en.upload.chunks[nn].xhr===tn)return en.upload.chunks[nn]}_uploadData(en,tn){let nn=new XMLHttpRequest;for(let fn of en)fn.xhr=nn;en[0].upload.chunked&&(en[0].upload.chunks[tn[0].chunkIndex].xhr=nn);let rn=this.resolveOption(this.options.method,en,tn),an=this.resolveOption(this.options.url,en,tn);nn.open(rn,an,!0),this.resolveOption(this.options.timeout,en)&&(nn.timeout=this.resolveOption(this.options.timeout,en)),nn.withCredentials=!!this.options.withCredentials,nn.onload=fn=>{this._finishedUploading(en,nn,fn)},nn.ontimeout=()=>{this._handleUploadError(en,nn,`Request timedout after ${this.options.timeout/1e3} seconds`)},nn.onerror=()=>{this._handleUploadError(en,nn)};let cn=nn.upload!=null?nn.upload:nn;cn.onprogress=fn=>this._updateFilesUploadProgress(en,nn,fn);let un=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(un["Content-Type"]=en[0].type),this.options.headers&&objectExtend(un,this.options.headers);for(let fn in un){let hn=un[fn];hn&&nn.setRequestHeader(fn,hn)}if(this.options.binaryBody){for(let fn of en)this.emit("sending",fn,nn);this.options.uploadMultiple&&this.emit("sendingmultiple",en,nn),this.submitRequest(nn,null,en)}else{let fn=new FormData;if(this.options.params){let hn=this.options.params;typeof hn=="function"&&(hn=hn.call(this,en,nn,en[0].upload.chunked?this._getChunk(en[0],nn):null));for(let pn in hn){let gn=hn[pn];if(Array.isArray(gn))for(let mn=0;mn<gn.length;mn++)fn.append(pn,gn[mn]);else fn.append(pn,gn)}}for(let hn of en)this.emit("sending",hn,nn,fn);this.options.uploadMultiple&&this.emit("sendingmultiple",en,nn,fn),this._addFormElementData(fn);for(let hn=0;hn<tn.length;hn++){let pn=tn[hn];fn.append(pn.name,pn.data,pn.filename)}this.submitRequest(nn,fn,en)}}_transformFiles(en,tn){let nn=[],rn=0;for(let an=0;an<en.length;an++)this.options.transformFile.call(this,en[an],ln=>{nn[an]=ln,++rn===en.length&&tn(nn)})}_addFormElementData(en){if(this.element.tagName==="FORM")for(let tn of this.element.querySelectorAll("input, textarea, select, button")){let nn=tn.getAttribute("name"),rn=tn.getAttribute("type");if(rn&&(rn=rn.toLowerCase()),!(typeof nn>"u"||nn===null))if(tn.tagName==="SELECT"&&tn.hasAttribute("multiple"))for(let an of tn.options)an.selected&&en.append(nn,an.value);else(!rn||rn!=="checkbox"&&rn!=="radio"||tn.checked)&&en.append(nn,tn.value)}}_updateFilesUploadProgress(en,tn,nn){if(en[0].upload.chunked){let rn=en[0],an=this._getChunk(rn,tn);nn?(an.progress=100*nn.loaded/nn.total,an.total=nn.total,an.bytesSent=nn.loaded):(an.progress=100,an.bytesSent=an.total),rn.upload.progress=0,rn.upload.total=0,rn.upload.bytesSent=0;for(let ln=0;ln<rn.upload.totalChunkCount;ln++)rn.upload.chunks[ln]&&typeof rn.upload.chunks[ln].progress<"u"&&(rn.upload.progress+=rn.upload.chunks[ln].progress,rn.upload.total+=rn.upload.chunks[ln].total,rn.upload.bytesSent+=rn.upload.chunks[ln].bytesSent);rn.upload.progress=rn.upload.progress/rn.upload.totalChunkCount,this.emit("uploadprogress",rn,rn.upload.progress,rn.upload.bytesSent)}else for(let rn of en)rn.upload.total&&rn.upload.bytesSent&&rn.upload.bytesSent==rn.upload.total||(nn?(rn.upload.progress=100*nn.loaded/nn.total,rn.upload.total=nn.total,rn.upload.bytesSent=nn.loaded):(rn.upload.progress=100,rn.upload.bytesSent=rn.upload.total),this.emit("uploadprogress",rn,rn.upload.progress,rn.upload.bytesSent))}_finishedUploading(en,tn,nn){let rn;if(en[0].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED&&tn.readyState===4){if(tn.responseType!=="arraybuffer"&&tn.responseType!=="blob"&&(rn=tn.responseText,tn.getResponseHeader("content-type")&&~tn.getResponseHeader("content-type").indexOf("application/json")))try{rn=JSON.parse(rn)}catch(an){nn=an,rn="Invalid JSON response from server."}this._updateFilesUploadProgress(en,tn),200<=tn.status&&tn.status<300?en[0].upload.chunked?en[0].upload.finishedChunkUpload(this._getChunk(en[0],tn),rn):this._finished(en,rn,nn):this._handleUploadError(en,tn,rn)}}_handleUploadError(en,tn,nn){if(en[0].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED){if(en[0].upload.chunked&&this.options.retryChunks){let rn=this._getChunk(en[0],tn);if(rn.retries++<this.options.retryChunksLimit){this._uploadData(en,[rn.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(en,nn||this.options.dictResponseError.replace("{{statusCode}}",tn.status),tn)}}submitRequest(en,tn,nn){if(en.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(nn[0].upload.chunked){const rn=this._getChunk(nn[0],en);en.send(rn.dataBlock.data)}else en.send(nn[0]);else en.send(tn)}_finished(en,tn,nn){for(let rn of en)rn.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS,this.emit("success",rn,tn,nn),this.emit("complete",rn);if(this.options.uploadMultiple&&(this.emit("successmultiple",en,tn,nn),this.emit("completemultiple",en)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(en,tn,nn){for(let rn of en)rn.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.ERROR,this.emit("error",rn,tn,nn),this.emit("complete",rn);if(this.options.uploadMultiple&&(this.emit("errormultiple",en,tn,nn),this.emit("completemultiple",en)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(en){let tn=Math.random()*16|0;return(en==="x"?tn:tn&3|8).toString(16)})}constructor(en,tn){super();let nn,rn;if(this.element=en,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.push(this),this.element.dropzone=this;let an=(rn=$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement(this.element))!=null?rn:{};if(this.options=objectExtend(!0,{},$4ca367182776f80b$export$2e2bcd8739ae039,an,tn??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!$3ed269f2f0fb224b$export$2e2bcd8739ae039.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=ln=>this.options.renameFilename.call(this,ln.name,ln)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(nn=this.getExistingFallback())&&nn.parentNode&&nn.parentNode.removeChild(nn),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElements(this.options.clickable,"clickable")),this.init()}}$3ed269f2f0fb224b$export$2e2bcd8739ae039.initClass();$3ed269f2f0fb224b$export$2e2bcd8739ae039.options={};$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement=function(Fe){if(Fe.getAttribute("id"))return $3ed269f2f0fb224b$export$2e2bcd8739ae039.options[$3ed269f2f0fb224b$var$camelize(Fe.getAttribute("id"))]};$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances=[];$3ed269f2f0fb224b$export$2e2bcd8739ae039.forElement=function(Fe){if(typeof Fe=="string"&&(Fe=document.querySelector(Fe)),(Fe!=null?Fe.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return Fe.dropzone};$3ed269f2f0fb224b$export$2e2bcd8739ae039.discover=function(){let Fe;if(document.querySelectorAll)Fe=document.querySelectorAll(".dropzone");else{Fe=[];let en=tn=>(()=>{let nn=[];for(let rn of tn)/(^| )dropzone($| )/.test(rn.className)?nn.push(Fe.push(rn)):nn.push(void 0);return nn})();en(document.getElementsByTagName("div")),en(document.getElementsByTagName("form"))}return(()=>{let en=[];for(let tn of Fe)$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement(tn)!==!1?en.push(new $3ed269f2f0fb224b$export$2e2bcd8739ae039(tn)):en.push(void 0);return en})()};$3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];$3ed269f2f0fb224b$export$2e2bcd8739ae039.isBrowserSupported=function(){let Fe=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))Fe=!1;else{$3ed269f2f0fb224b$export$2e2bcd8739ae039.blacklistedBrowsers!==void 0&&($3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers=$3ed269f2f0fb224b$export$2e2bcd8739ae039.blacklistedBrowsers);for(let en of $3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers)if(en.test(navigator.userAgent)){Fe=!1;continue}}else Fe=!1;return Fe};$3ed269f2f0fb224b$export$2e2bcd8739ae039.dataURItoBlob=function(Fe){let en=atob(Fe.split(",")[1]),tn=Fe.split(",")[0].split(":")[1].split(";")[0],nn=new ArrayBuffer(en.length),rn=new Uint8Array(nn);for(let an=0,ln=en.length,cn=0<=ln;cn?an<=ln:an>=ln;cn?an++:an--)rn[an]=en.charCodeAt(an);return new Blob([nn],{type:tn})};const $3ed269f2f0fb224b$var$without=(Fe,en)=>Fe.filter(tn=>tn!==en).map(tn=>tn),$3ed269f2f0fb224b$var$camelize=Fe=>Fe.replace(/[\-_](\w)/g,en=>en.charAt(1).toUpperCase());$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement=function(Fe){let en=document.createElement("div");return en.innerHTML=Fe,en.childNodes[0]};$3ed269f2f0fb224b$export$2e2bcd8739ae039.elementInside=function(Fe,en){if(Fe===en)return!0;for(;Fe=Fe.parentNode;)if(Fe===en)return!0;return!1};$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement=function(Fe,en){let tn;if(typeof Fe=="string"?tn=document.querySelector(Fe):Fe.nodeType!=null&&(tn=Fe),tn==null)throw new Error(`Invalid \`${en}\` option provided. Please provide a CSS selector or a plain HTML element.`);return tn};$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElements=function(Fe,en){let tn,nn;if(Fe instanceof Array){nn=[];try{for(tn of Fe)nn.push(this.getElement(tn,en))}catch{nn=null}}else if(typeof Fe=="string"){nn=[];for(tn of document.querySelectorAll(Fe))nn.push(tn)}else Fe.nodeType!=null&&(nn=[Fe]);if(nn==null||!nn.length)throw new Error(`Invalid \`${en}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return nn};$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm=function(Fe,en,tn){if(window.confirm(Fe))return en();if(tn!=null)return tn()};$3ed269f2f0fb224b$export$2e2bcd8739ae039.isValidFile=function(Fe,en){if(!en)return!0;en=en.split(",");let tn=Fe.type,nn=tn.replace(/\/.*$/,"");for(let rn of en)if(rn=rn.trim(),rn.charAt(0)==="."){if(Fe.name.toLowerCase().indexOf(rn.toLowerCase(),Fe.name.length-rn.length)!==-1)return!0}else if(/\/\*$/.test(rn)){if(nn===rn.replace(/\/.*$/,""))return!0}else if(tn===rn)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(Fe){return this.each(function(){return new $3ed269f2f0fb224b$export$2e2bcd8739ae039(this,Fe)})});$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED="added";$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED="queued";$3ed269f2f0fb224b$export$2e2bcd8739ae039.ACCEPTED=$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED;$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING="uploading";$3ed269f2f0fb224b$export$2e2bcd8739ae039.PROCESSING=$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING;$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED="canceled";$3ed269f2f0fb224b$export$2e2bcd8739ae039.ERROR="error";$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS="success";let $3ed269f2f0fb224b$var$detectVerticalSquash=function(Fe){Fe.naturalWidth;let en=Fe.naturalHeight,tn=document.createElement("canvas");tn.width=1,tn.height=en;let nn=tn.getContext("2d");nn.drawImage(Fe,0,0);let{data:rn}=nn.getImageData(1,0,1,en),an=0,ln=en,cn=en;for(;cn>an;)rn[(cn-1)*4+3]===0?ln=cn:an=cn,cn=ln+an>>1;let un=cn/en;return un===0?1:un};var $3ed269f2f0fb224b$var$drawImageIOSFix=function(Fe,en,tn,nn,rn,an,ln,cn,un,fn){let hn=$3ed269f2f0fb224b$var$detectVerticalSquash(en);return Fe.drawImage(en,tn,nn,rn,an,ln,cn,un,fn/hn)};class $3ed269f2f0fb224b$var$ExifRestore{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(en){let tn="",nn,rn,an="",ln,cn,un,fn="",hn=0;for(;nn=en[hn++],rn=en[hn++],an=en[hn++],ln=nn>>2,cn=(nn&3)<<4|rn>>4,un=(rn&15)<<2|an>>6,fn=an&63,isNaN(rn)?un=fn=64:isNaN(an)&&(fn=64),tn=tn+this.KEY_STR.charAt(ln)+this.KEY_STR.charAt(cn)+this.KEY_STR.charAt(un)+this.KEY_STR.charAt(fn),nn=rn=an="",ln=cn=un=fn="",hn<en.length;);return tn}static restore(en,tn){if(!en.match("data:image/jpeg;base64,"))return tn;let nn=this.decode64(en.replace("data:image/jpeg;base64,","")),rn=this.slice2Segments(nn),an=this.exifManipulation(tn,rn);return`data:image/jpeg;base64,${this.encode64(an)}`}static exifManipulation(en,tn){let nn=this.getExifArray(tn),rn=this.insertExif(en,nn);return new Uint8Array(rn)}static getExifArray(en){let tn,nn=0;for(;nn<en.length;){if(tn=en[nn],tn[0]===255&tn[1]===225)return tn;nn++}return[]}static insertExif(en,tn){let nn=en.replace("data:image/jpeg;base64,",""),rn=this.decode64(nn),an=rn.indexOf(255,3),ln=rn.slice(0,an),cn=rn.slice(an),un=ln;return un=un.concat(tn),un=un.concat(cn),un}static slice2Segments(en){let tn=0,nn=[];for(;;){var rn;if(en[tn]===255&en[tn+1]===218)break;if(en[tn]===255&en[tn+1]===216)tn+=2;else{rn=en[tn+2]*256+en[tn+3];let an=tn+rn+2,ln=en.slice(tn,an);nn.push(ln),tn=an}if(tn>en.length)break}return nn}static decode64(en){let tn,nn,rn="",an,ln,cn,un="",fn=0,hn=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(en)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),en=en.replace(/[^A-Za-z0-9\+\/\=]/g,"");an=this.KEY_STR.indexOf(en.charAt(fn++)),ln=this.KEY_STR.indexOf(en.charAt(fn++)),cn=this.KEY_STR.indexOf(en.charAt(fn++)),un=this.KEY_STR.indexOf(en.charAt(fn++)),tn=an<<2|ln>>4,nn=(ln&15)<<4|cn>>2,rn=(cn&3)<<6|un,hn.push(tn),cn!==64&&hn.push(nn),un!==64&&hn.push(rn),tn=nn=rn="",an=ln=cn=un="",fn<en.length;);return hn}}$3ed269f2f0fb224b$var$ExifRestore.initClass();function $3ed269f2f0fb224b$var$__guard__(Fe,en){return typeof Fe<"u"&&Fe!==null?en(Fe):void 0}function $3ed269f2f0fb224b$var$__guardMethod__(Fe,en,tn){if(typeof Fe<"u"&&Fe!==null&&typeof Fe[en]=="function")return tn(Fe,en)}var htmx_min$1={exports:{}};(function(module){(function(Fe,en){module.exports?module.exports=en():Fe.htmx=Fe.htmx||en()})(typeof self<"u"?self:commonjsGlobal,function(){return function(){var Y={onLoad:t,process:Dt,on:Z,off:K,trigger:fe,ajax:Cr,find:E,findAll:f,closest:d,values:function(Fe,en){var tn=or(Fe,en||"post");return tn.values},remove:B,addClass:F,removeClass:n,toggleClass:V,takeClass:j,defineExtension:Ar,removeExtension:Nr,logAll:X,logNone:U,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get"],selfRequestsOnly:!1,scrollIntoViewOnBoost:!0},parseInterval:v,_:e,createEventSource:function(Fe){return new EventSource(Fe,{withCredentials:!0})},createWebSocket:function(Fe){var en=new WebSocket(Fe,[]);return en.binaryType=Y.config.wsBinaryType,en},version:"1.9.8"},r={addTriggerHandler:St,bodyContains:oe,canAccessLocalStorage:M,findThisElement:ve,filterValues:cr,hasAttribute:o,getAttributeValue:ee,getClosestAttributeValue:re,getClosestMatch:c,getExpressionVars:wr,getHeaders:fr,getInputValues:or,getInternalData:ie,getSwapSpecification:dr,getTriggerSpecs:Ze,getTarget:ge,makeFragment:l,mergeObjects:se,makeSettleInfo:T,oobSwap:ye,querySelectorExt:le,selectAndSwap:Ue,settleImmediately:Jt,shouldCancel:tt,triggerEvent:fe,triggerErrorEvent:ue,withExtensions:C},b=["get","post","put","delete","patch"],w=b.map(function(Fe){return"[hx-"+Fe+"], [data-hx-"+Fe+"]"}).join(", ");function v(Fe){if(Fe!=null)return Fe.slice(-2)=="ms"?parseFloat(Fe.slice(0,-2))||void 0:Fe.slice(-1)=="s"?parseFloat(Fe.slice(0,-1))*1e3||void 0:Fe.slice(-1)=="m"?parseFloat(Fe.slice(0,-1))*1e3*60||void 0:parseFloat(Fe)||void 0}function Q(Fe,en){return Fe.getAttribute&&Fe.getAttribute(en)}function o(Fe,en){return Fe.hasAttribute&&(Fe.hasAttribute(en)||Fe.hasAttribute("data-"+en))}function ee(Fe,en){return Q(Fe,en)||Q(Fe,"data-"+en)}function u(Fe){return Fe.parentElement}function te(){return document}function c(Fe,en){for(;Fe&&!en(Fe);)Fe=u(Fe);return Fe||null}function R(Fe,en,tn){var nn=ee(en,tn),rn=ee(en,"hx-disinherit");return Fe!==en&&rn&&(rn==="*"||rn.split(" ").indexOf(tn)>=0)?"unset":nn}function re(Fe,en){var tn=null;if(c(Fe,function(nn){return tn=R(Fe,nn,en)}),tn!=="unset")return tn}function h(Fe,en){var tn=Fe.matches||Fe.matchesSelector||Fe.msMatchesSelector||Fe.mozMatchesSelector||Fe.webkitMatchesSelector||Fe.oMatchesSelector;return tn&&tn.call(Fe,en)}function q(Fe){var en=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,tn=en.exec(Fe);return tn?tn[1].toLowerCase():""}function i(Fe,en){for(var tn=new DOMParser,nn=tn.parseFromString(Fe,"text/html"),rn=nn.body;en>0;)en--,rn=rn.firstChild;return rn==null&&(rn=te().createDocumentFragment()),rn}function H(Fe){return Fe.match(/<body/)}function l(Fe){var en=!H(Fe);if(Y.config.useTemplateFragments&&en){var tn=i("<body><template>"+Fe+"</template></body>",0);return tn.querySelector("template").content}else{var nn=q(Fe);switch(nn){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return i("<table>"+Fe+"</table>",1);case"col":return i("<table><colgroup>"+Fe+"</colgroup></table>",2);case"tr":return i("<table><tbody>"+Fe+"</tbody></table>",2);case"td":case"th":return i("<table><tbody><tr>"+Fe+"</tr></tbody></table>",3);case"script":case"style":return i("<div>"+Fe+"</div>",1);default:return i(Fe,0)}}}function ne(Fe){Fe&&Fe()}function L(Fe,en){return Object.prototype.toString.call(Fe)==="[object "+en+"]"}function A(Fe){return L(Fe,"Function")}function N(Fe){return L(Fe,"Object")}function ie(Fe){var en="htmx-internal-data",tn=Fe[en];return tn||(tn=Fe[en]={}),tn}function I(Fe){var en=[];if(Fe)for(var tn=0;tn<Fe.length;tn++)en.push(Fe[tn]);return en}function ae(Fe,en){if(Fe)for(var tn=0;tn<Fe.length;tn++)en(Fe[tn])}function k(Fe){var en=Fe.getBoundingClientRect(),tn=en.top,nn=en.bottom;return tn<window.innerHeight&&nn>=0}function oe(Fe){return Fe.getRootNode&&Fe.getRootNode()instanceof window.ShadowRoot?te().body.contains(Fe.getRootNode().host):te().body.contains(Fe)}function P(Fe){return Fe.trim().split(/\s+/)}function se(Fe,en){for(var tn in en)en.hasOwnProperty(tn)&&(Fe[tn]=en[tn]);return Fe}function S(Fe){try{return JSON.parse(Fe)}catch(en){return y(en),null}}function M(){var Fe="htmx:localStorageTest";try{return localStorage.setItem(Fe,Fe),localStorage.removeItem(Fe),!0}catch{return!1}}function D(Fe){try{var en=new URL(Fe);return en&&(Fe=en.pathname+en.search),Fe.match("^/$")||(Fe=Fe.replace(/\/+$/,"")),Fe}catch{return Fe}}function e(e){return xr(te().body,function(){return eval(e)})}function t(Fe){var en=Y.on("htmx:load",function(tn){Fe(tn.detail.elt)});return en}function X(){Y.logger=function(Fe,en,tn){console&&console.log(en,Fe,tn)}}function U(){Y.logger=null}function E(Fe,en){return en?Fe.querySelector(en):E(te(),Fe)}function f(Fe,en){return en?Fe.querySelectorAll(en):f(te(),Fe)}function B(Fe,en){Fe=s(Fe),en?setTimeout(function(){B(Fe),Fe=null},en):Fe.parentElement.removeChild(Fe)}function F(Fe,en,tn){Fe=s(Fe),tn?setTimeout(function(){F(Fe,en),Fe=null},tn):Fe.classList&&Fe.classList.add(en)}function n(Fe,en,tn){Fe=s(Fe),tn?setTimeout(function(){n(Fe,en),Fe=null},tn):Fe.classList&&(Fe.classList.remove(en),Fe.classList.length===0&&Fe.removeAttribute("class"))}function V(Fe,en){Fe=s(Fe),Fe.classList.toggle(en)}function j(Fe,en){Fe=s(Fe),ae(Fe.parentElement.children,function(tn){n(tn,en)}),F(Fe,en)}function d(Fe,en){if(Fe=s(Fe),Fe.closest)return Fe.closest(en);do if(Fe==null||h(Fe,en))return Fe;while(Fe=Fe&&u(Fe));return null}function g(Fe,en){return Fe.substring(0,en.length)===en}function _(Fe,en){return Fe.substring(Fe.length-en.length)===en}function z(Fe){var en=Fe.trim();return g(en,"<")&&_(en,"/>")?en.substring(1,en.length-2):en}function W(Fe,en){return en.indexOf("closest ")===0?[d(Fe,z(en.substr(8)))]:en.indexOf("find ")===0?[E(Fe,z(en.substr(5)))]:en==="next"?[Fe.nextElementSibling]:en.indexOf("next ")===0?[$(Fe,z(en.substr(5)))]:en==="previous"?[Fe.previousElementSibling]:en.indexOf("previous ")===0?[G(Fe,z(en.substr(9)))]:en==="document"?[document]:en==="window"?[window]:en==="body"?[document.body]:te().querySelectorAll(z(en))}var $=function(Fe,en){for(var tn=te().querySelectorAll(en),nn=0;nn<tn.length;nn++){var rn=tn[nn];if(rn.compareDocumentPosition(Fe)===Node.DOCUMENT_POSITION_PRECEDING)return rn}},G=function(Fe,en){for(var tn=te().querySelectorAll(en),nn=tn.length-1;nn>=0;nn--){var rn=tn[nn];if(rn.compareDocumentPosition(Fe)===Node.DOCUMENT_POSITION_FOLLOWING)return rn}};function le(Fe,en){return en?W(Fe,en)[0]:W(te().body,Fe)[0]}function s(Fe){return L(Fe,"String")?E(Fe):Fe}function J(Fe,en,tn){return A(en)?{target:te().body,event:Fe,listener:en}:{target:s(Fe),event:en,listener:tn}}function Z(Fe,en,tn){Pr(function(){var rn=J(Fe,en,tn);rn.target.addEventListener(rn.event,rn.listener)});var nn=A(en);return nn?en:tn}function K(Fe,en,tn){return Pr(function(){var nn=J(Fe,en,tn);nn.target.removeEventListener(nn.event,nn.listener)}),A(en)?en:tn}var he=te().createElement("output");function de(Fe,en){var tn=re(Fe,en);if(tn){if(tn==="this")return[ve(Fe,en)];var nn=W(Fe,tn);return nn.length===0?(y('The selector "'+tn+'" on '+en+" returned no matches!"),[he]):nn}}function ve(Fe,en){return c(Fe,function(tn){return ee(tn,en)!=null})}function ge(Fe){var en=re(Fe,"hx-target");if(en)return en==="this"?ve(Fe,"hx-target"):le(Fe,en);var tn=ie(Fe);return tn.boosted?te().body:Fe}function me(Fe){for(var en=Y.config.attributesToSettle,tn=0;tn<en.length;tn++)if(Fe===en[tn])return!0;return!1}function pe(Fe,en){ae(Fe.attributes,function(tn){!en.hasAttribute(tn.name)&&me(tn.name)&&Fe.removeAttribute(tn.name)}),ae(en.attributes,function(tn){me(tn.name)&&Fe.setAttribute(tn.name,tn.value)})}function xe(Fe,en){for(var tn=Ir(en),nn=0;nn<tn.length;nn++){var rn=tn[nn];try{if(rn.isInlineSwap(Fe))return!0}catch(an){y(an)}}return Fe==="outerHTML"}function ye(Fe,en,tn){var nn="#"+Q(en,"id"),rn="outerHTML";Fe==="true"||(Fe.indexOf(":")>0?(rn=Fe.substr(0,Fe.indexOf(":")),nn=Fe.substr(Fe.indexOf(":")+1,Fe.length)):rn=Fe);var an=te().querySelectorAll(nn);return an?(ae(an,function(ln){var cn,un=en.cloneNode(!0);cn=te().createDocumentFragment(),cn.appendChild(un),xe(rn,ln)||(cn=un);var fn={shouldSwap:!0,target:ln,fragment:cn};fe(ln,"htmx:oobBeforeSwap",fn)&&(ln=fn.target,fn.shouldSwap&&De(rn,ln,ln,cn,tn),ae(tn.elts,function(hn){fe(hn,"htmx:oobAfterSwap",fn)}))}),en.parentNode.removeChild(en)):(en.parentNode.removeChild(en),ue(te().body,"htmx:oobErrorNoTarget",{content:en})),Fe}function be(Fe,en,tn){var nn=re(Fe,"hx-select-oob");if(nn){var rn=nn.split(",");for(let fn=0;fn<rn.length;fn++){var an=rn[fn].split(":",2),ln=an[0].trim();ln.indexOf("#")===0&&(ln=ln.substring(1));var cn=an[1]||"true",un=en.querySelector("#"+ln);un&&ye(cn,un,tn)}}ae(f(en,"[hx-swap-oob], [data-hx-swap-oob]"),function(fn){var hn=ee(fn,"hx-swap-oob");hn!=null&&ye(hn,fn,tn)})}function we(Fe){ae(f(Fe,"[hx-preserve], [data-hx-preserve]"),function(en){var tn=ee(en,"id"),nn=te().getElementById(tn);nn!=null&&en.parentNode.replaceChild(nn,en)})}function Se(Fe,en,tn){ae(en.querySelectorAll("[id]"),function(nn){var rn=Q(nn,"id");if(rn&&rn.length>0){var an=rn.replace("'","\\'"),ln=nn.tagName.replace(":","\\:"),cn=Fe.querySelector(ln+"[id='"+an+"']");if(cn&&cn!==Fe){var un=nn.cloneNode();pe(nn,cn),tn.tasks.push(function(){pe(nn,un)})}}})}function Ee(Fe){return function(){n(Fe,Y.config.addedClass),Dt(Fe),Ct(Fe),Ce(Fe),fe(Fe,"htmx:load")}}function Ce(Fe){var en="[autofocus]",tn=h(Fe,en)?Fe:Fe.querySelector(en);tn!=null&&tn.focus()}function a(Fe,en,tn,nn){for(Se(Fe,tn,nn);tn.childNodes.length>0;){var rn=tn.firstChild;F(rn,Y.config.addedClass),Fe.insertBefore(rn,en),rn.nodeType!==Node.TEXT_NODE&&rn.nodeType!==Node.COMMENT_NODE&&nn.tasks.push(Ee(rn))}}function Te(Fe,en){for(var tn=0;tn<Fe.length;)en=(en<<5)-en+Fe.charCodeAt(tn++)|0;return en}function Oe(Fe){var en=0;if(Fe.attributes)for(var tn=0;tn<Fe.attributes.length;tn++){var nn=Fe.attributes[tn];nn.value&&(en=Te(nn.name,en),en=Te(nn.value,en))}return en}function Re(Fe){var en=ie(Fe);if(en.onHandlers){for(let tn=0;tn<en.onHandlers.length;tn++){const nn=en.onHandlers[tn];Fe.removeEventListener(nn.event,nn.listener)}delete en.onHandlers}}function qe(Fe){var en=ie(Fe);en.timeout&&clearTimeout(en.timeout),en.webSocket&&en.webSocket.close(),en.sseEventSource&&en.sseEventSource.close(),en.listenerInfos&&ae(en.listenerInfos,function(tn){tn.on&&tn.on.removeEventListener(tn.trigger,tn.listener)}),en.initHash&&(en.initHash=null),Re(Fe)}function m(Fe){fe(Fe,"htmx:beforeCleanupElement"),qe(Fe),Fe.children&&ae(Fe.children,function(en){m(en)})}function He(Fe,en,tn){if(Fe.tagName==="BODY")return Pe(Fe,en,tn);var nn,rn=Fe.previousSibling;for(a(u(Fe),Fe,en,tn),rn==null?nn=u(Fe).firstChild:nn=rn.nextSibling,ie(Fe).replacedWith=nn,tn.elts=tn.elts.filter(function(an){return an!=Fe});nn&&nn!==Fe;)nn.nodeType===Node.ELEMENT_NODE&&tn.elts.push(nn),nn=nn.nextElementSibling;m(Fe),u(Fe).removeChild(Fe)}function Le(Fe,en,tn){return a(Fe,Fe.firstChild,en,tn)}function Ae(Fe,en,tn){return a(u(Fe),Fe,en,tn)}function Ne(Fe,en,tn){return a(Fe,null,en,tn)}function Ie(Fe,en,tn){return a(u(Fe),Fe.nextSibling,en,tn)}function ke(Fe,en,tn){return m(Fe),u(Fe).removeChild(Fe)}function Pe(Fe,en,tn){var nn=Fe.firstChild;if(a(Fe,nn,en,tn),nn){for(;nn.nextSibling;)m(nn.nextSibling),Fe.removeChild(nn.nextSibling);m(nn),Fe.removeChild(nn)}}function Me(Fe,en,tn){var nn=tn||re(Fe,"hx-select");if(nn){var rn=te().createDocumentFragment();ae(en.querySelectorAll(nn),function(an){rn.appendChild(an)}),en=rn}return en}function De(Fe,en,tn,nn,rn){switch(Fe){case"none":return;case"outerHTML":He(tn,nn,rn);return;case"afterbegin":Le(tn,nn,rn);return;case"beforebegin":Ae(tn,nn,rn);return;case"beforeend":Ne(tn,nn,rn);return;case"afterend":Ie(tn,nn,rn);return;case"delete":ke(tn);return;default:for(var an=Ir(en),ln=0;ln<an.length;ln++){var cn=an[ln];try{var un=cn.handleSwap(Fe,tn,nn,rn);if(un){if(typeof un.length<"u")for(var fn=0;fn<un.length;fn++){var hn=un[fn];hn.nodeType!==Node.TEXT_NODE&&hn.nodeType!==Node.COMMENT_NODE&&rn.tasks.push(Ee(hn))}return}}catch(pn){y(pn)}}Fe==="innerHTML"?Pe(tn,nn,rn):De(Y.config.defaultSwapStyle,en,tn,nn,rn)}}function Xe(Fe){if(Fe.indexOf("<title")>-1){var en=Fe.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),tn=en.match(/<title(\s[^>]*>|>)([\s\S]*?)<\/title>/im);if(tn)return tn[2]}}function Ue(Fe,en,tn,nn,rn,an){rn.title=Xe(nn);var ln=l(nn);if(ln)return be(tn,ln,rn),ln=Me(tn,ln,an),we(ln),De(Fe,tn,en,ln,rn)}function Be(Fe,en,tn){var nn=Fe.getResponseHeader(en);if(nn.indexOf("{")===0){var rn=S(nn);for(var an in rn)if(rn.hasOwnProperty(an)){var ln=rn[an];N(ln)||(ln={value:ln}),fe(tn,an,ln)}}else for(var cn=nn.split(","),un=0;un<cn.length;un++)fe(tn,cn[un].trim(),[])}var p=/[\s,]/,Ve=/[_$a-zA-Z]/,je=/[_$a-zA-Z0-9]/,_e=['"',"'","/"],ze=/[^\s]/;function We(Fe){for(var en=[],tn=0;tn<Fe.length;){if(Ve.exec(Fe.charAt(tn))){for(var nn=tn;je.exec(Fe.charAt(tn+1));)tn++;en.push(Fe.substr(nn,tn-nn+1))}else if(_e.indexOf(Fe.charAt(tn))!==-1){var rn=Fe.charAt(tn),nn=tn;for(tn++;tn<Fe.length&&Fe.charAt(tn)!==rn;)Fe.charAt(tn)==="\\"&&tn++,tn++;en.push(Fe.substr(nn,tn-nn+1))}else{var an=Fe.charAt(tn);en.push(an)}tn++}return en}function $e(Fe,en,tn){return Ve.exec(Fe.charAt(0))&&Fe!=="true"&&Fe!=="false"&&Fe!=="this"&&Fe!==tn&&en!=="."}function Ge(Fe,en,tn){if(en[0]==="["){en.shift();for(var nn=1,rn=" return (function("+tn+"){ return (",an=null;en.length>0;){var ln=en[0];if(ln==="]"){if(nn--,nn===0){an===null&&(rn=rn+"true"),en.shift(),rn+=")})";try{var cn=xr(Fe,function(){return Function(rn)()},function(){return!0});return cn.source=rn,cn}catch(un){return ue(te().body,"htmx:syntax:error",{error:un,source:rn}),null}}}else ln==="["&&nn++;$e(ln,an,tn)?rn+="(("+tn+"."+ln+") ? ("+tn+"."+ln+") : (window."+ln+"))":rn=rn+ln,an=en.shift()}}}function x(Fe,en){for(var tn="";Fe.length>0&&!Fe[0].match(en);)tn+=Fe.shift();return tn}var Je="input, textarea, select";function Ze(Fe){var en=ee(Fe,"hx-trigger"),tn=[];if(en){var nn=We(en);do{x(nn,ze);var rn=nn.length,an=x(nn,/[,\[\s]/);if(an!=="")if(an==="every"){var ln={trigger:"every"};x(nn,ze),ln.pollInterval=v(x(nn,/[,\[\s]/)),x(nn,ze);var cn=Ge(Fe,nn,"event");cn&&(ln.eventFilter=cn),tn.push(ln)}else if(an.indexOf("sse:")===0)tn.push({trigger:"sse",sseEvent:an.substr(4)});else{var un={trigger:an},cn=Ge(Fe,nn,"event");for(cn&&(un.eventFilter=cn);nn.length>0&&nn[0]!==",";){x(nn,ze);var fn=nn.shift();if(fn==="changed")un.changed=!0;else if(fn==="once")un.once=!0;else if(fn==="consume")un.consume=!0;else if(fn==="delay"&&nn[0]===":")nn.shift(),un.delay=v(x(nn,p));else if(fn==="from"&&nn[0]===":"){nn.shift();var hn=x(nn,p);if(hn==="closest"||hn==="find"||hn==="next"||hn==="previous"){nn.shift();var pn=x(nn,p);pn.length>0&&(hn+=" "+pn)}un.from=hn}else fn==="target"&&nn[0]===":"?(nn.shift(),un.target=x(nn,p)):fn==="throttle"&&nn[0]===":"?(nn.shift(),un.throttle=v(x(nn,p))):fn==="queue"&&nn[0]===":"?(nn.shift(),un.queue=x(nn,p)):(fn==="root"||fn==="threshold")&&nn[0]===":"?(nn.shift(),un[fn]=x(nn,p)):ue(Fe,"htmx:syntax:error",{token:nn.shift()})}tn.push(un)}nn.length===rn&&ue(Fe,"htmx:syntax:error",{token:nn.shift()}),x(nn,ze)}while(nn[0]===","&&nn.shift())}return tn.length>0?tn:h(Fe,"form")?[{trigger:"submit"}]:h(Fe,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:h(Fe,Je)?[{trigger:"change"}]:[{trigger:"click"}]}function Ke(Fe){ie(Fe).cancelled=!0}function Ye(Fe,en,tn){var nn=ie(Fe);nn.timeout=setTimeout(function(){oe(Fe)&&nn.cancelled!==!0&&(nt(tn,Fe,Ut("hx:poll:trigger",{triggerSpec:tn,target:Fe}))||en(Fe),Ye(Fe,en,tn))},tn.pollInterval)}function Qe(Fe){return location.hostname===Fe.hostname&&Q(Fe,"href")&&Q(Fe,"href").indexOf("#")!==0}function et(Fe,en,tn){if(Fe.tagName==="A"&&Qe(Fe)&&(Fe.target===""||Fe.target==="_self")||Fe.tagName==="FORM"){en.boosted=!0;var nn,rn;if(Fe.tagName==="A")nn="get",rn=Q(Fe,"href");else{var an=Q(Fe,"method");nn=an?an.toLowerCase():"get",rn=Q(Fe,"action")}tn.forEach(function(ln){it(Fe,function(cn,un){if(d(cn,Y.config.disableSelector)){m(cn);return}ce(nn,rn,cn,un)},en,ln,!0)})}}function tt(Fe,en){return!!((Fe.type==="submit"||Fe.type==="click")&&(en.tagName==="FORM"||h(en,'input[type="submit"], button')&&d(en,"form")!==null||en.tagName==="A"&&en.href&&(en.getAttribute("href")==="#"||en.getAttribute("href").indexOf("#")!==0)))}function rt(Fe,en){return ie(Fe).boosted&&Fe.tagName==="A"&&en.type==="click"&&(en.ctrlKey||en.metaKey)}function nt(Fe,en,tn){var nn=Fe.eventFilter;if(nn)try{return nn.call(en,tn)!==!0}catch(rn){return ue(te().body,"htmx:eventFilter:error",{error:rn,source:nn.source}),!0}return!1}function it(Fe,en,tn,nn,rn){var an=ie(Fe),ln;nn.from?ln=W(Fe,nn.from):ln=[Fe],nn.changed&&ln.forEach(function(cn){var un=ie(cn);un.lastValue=cn.value}),ae(ln,function(cn){var un=function(fn){if(!oe(Fe)){cn.removeEventListener(nn.trigger,un);return}if(!rt(Fe,fn)&&((rn||tt(fn,Fe))&&fn.preventDefault(),!nt(nn,Fe,fn))){var hn=ie(fn);if(hn.triggerSpec=nn,hn.handledFor==null&&(hn.handledFor=[]),hn.handledFor.indexOf(Fe)<0){if(hn.handledFor.push(Fe),nn.consume&&fn.stopPropagation(),nn.target&&fn.target&&!h(fn.target,nn.target))return;if(nn.once){if(an.triggeredOnce)return;an.triggeredOnce=!0}if(nn.changed){var pn=ie(cn);if(pn.lastValue===cn.value)return;pn.lastValue=cn.value}if(an.delayed&&clearTimeout(an.delayed),an.throttle)return;nn.throttle?an.throttle||(en(Fe,fn),an.throttle=setTimeout(function(){an.throttle=null},nn.throttle)):nn.delay?an.delayed=setTimeout(function(){en(Fe,fn)},nn.delay):(fe(Fe,"htmx:trigger"),en(Fe,fn))}}};tn.listenerInfos==null&&(tn.listenerInfos=[]),tn.listenerInfos.push({trigger:nn.trigger,listener:un,on:cn}),cn.addEventListener(nn.trigger,un)})}var at=!1,ot=null;function st(){ot||(ot=function(){at=!0},window.addEventListener("scroll",ot),setInterval(function(){at&&(at=!1,ae(te().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),function(Fe){lt(Fe)}))},200))}function lt(Fe){if(!o(Fe,"data-hx-revealed")&&k(Fe)){Fe.setAttribute("data-hx-revealed","true");var en=ie(Fe);en.initHash?fe(Fe,"revealed"):Fe.addEventListener("htmx:afterProcessNode",function(tn){fe(Fe,"revealed")},{once:!0})}}function ut(Fe,en,tn){for(var nn=P(tn),rn=0;rn<nn.length;rn++){var an=nn[rn].split(/:(.+)/);an[0]==="connect"&&ft(Fe,an[1],0),an[0]==="send"&&ht(Fe)}}function ft(Fe,en,tn){if(oe(Fe)){if(en.indexOf("/")==0){var nn=location.hostname+(location.port?":"+location.port:"");location.protocol=="https:"?en="wss://"+nn+en:location.protocol=="http:"&&(en="ws://"+nn+en)}var rn=Y.createWebSocket(en);rn.onerror=function(an){ue(Fe,"htmx:wsError",{error:an,socket:rn}),ct(Fe)},rn.onclose=function(an){if([1006,1012,1013].indexOf(an.code)>=0){var ln=dt(tn);setTimeout(function(){ft(Fe,en,tn+1)},ln)}},rn.onopen=function(an){tn=0},ie(Fe).webSocket=rn,rn.addEventListener("message",function(an){if(!ct(Fe)){var ln=an.data;C(Fe,function(gn){ln=gn.transformResponse(ln,null,Fe)});for(var cn=T(Fe),un=l(ln),fn=I(un.children),hn=0;hn<fn.length;hn++){var pn=fn[hn];ye(ee(pn,"hx-swap-oob")||"true",pn,cn)}Jt(cn.tasks)}})}}function ct(Fe){if(!oe(Fe))return ie(Fe).webSocket.close(),!0}function ht(Fe){var en=c(Fe,function(tn){return ie(tn).webSocket!=null});en?Fe.addEventListener(Ze(Fe)[0].trigger,function(tn){var nn=ie(en).webSocket,rn=fr(Fe,en),an=or(Fe,"post"),ln=an.errors,cn=an.values,un=wr(Fe),fn=se(cn,un),hn=cr(fn,Fe);if(hn.HEADERS=rn,ln&&ln.length>0){fe(Fe,"htmx:validation:halted",ln);return}nn.send(JSON.stringify(hn)),tt(tn,Fe)&&tn.preventDefault()}):ue(Fe,"htmx:noWebSocketSourceError")}function dt(Fe){var en=Y.config.wsReconnectDelay;if(typeof en=="function")return en(Fe);if(en==="full-jitter"){var tn=Math.min(Fe,6),nn=1e3*Math.pow(2,tn);return nn*Math.random()}y('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function vt(Fe,en,tn){for(var nn=P(tn),rn=0;rn<nn.length;rn++){var an=nn[rn].split(/:(.+)/);an[0]==="connect"&&gt(Fe,an[1]),an[0]==="swap"&&mt(Fe,an[1])}}function gt(Fe,en){var tn=Y.createEventSource(en);tn.onerror=function(nn){ue(Fe,"htmx:sseError",{error:nn,source:tn}),xt(Fe)},ie(Fe).sseEventSource=tn}function mt(Fe,en){var tn=c(Fe,yt);if(tn){var nn=ie(tn).sseEventSource,rn=function(an){if(!xt(tn)){if(!oe(Fe)){nn.removeEventListener(en,rn);return}var ln=an.data;C(Fe,function(hn){ln=hn.transformResponse(ln,null,Fe)});var cn=dr(Fe),un=ge(Fe),fn=T(Fe);Ue(cn.swapStyle,un,Fe,ln,fn),Jt(fn.tasks),fe(Fe,"htmx:sseMessage",an)}};ie(Fe).sseListener=rn,nn.addEventListener(en,rn)}else ue(Fe,"htmx:noSSESourceError")}function pt(Fe,en,tn){var nn=c(Fe,yt);if(nn){var rn=ie(nn).sseEventSource,an=function(){xt(nn)||(oe(Fe)?en(Fe):rn.removeEventListener(tn,an))};ie(Fe).sseListener=an,rn.addEventListener(tn,an)}else ue(Fe,"htmx:noSSESourceError")}function xt(Fe){if(!oe(Fe))return ie(Fe).sseEventSource.close(),!0}function yt(Fe){return ie(Fe).sseEventSource!=null}function bt(Fe,en,tn,nn){var rn=function(){tn.loaded||(tn.loaded=!0,en(Fe))};nn?setTimeout(rn,nn):rn()}function wt(Fe,en,tn){var nn=!1;return ae(b,function(rn){if(o(Fe,"hx-"+rn)){var an=ee(Fe,"hx-"+rn);nn=!0,en.path=an,en.verb=rn,tn.forEach(function(ln){St(Fe,ln,en,function(cn,un){if(d(cn,Y.config.disableSelector)){m(cn);return}ce(rn,an,cn,un)})})}}),nn}function St(Fe,en,tn,nn){if(en.sseEvent)pt(Fe,nn,en.sseEvent);else if(en.trigger==="revealed")st(),it(Fe,nn,tn,en),lt(Fe);else if(en.trigger==="intersect"){var rn={};en.root&&(rn.root=le(Fe,en.root)),en.threshold&&(rn.threshold=parseFloat(en.threshold));var an=new IntersectionObserver(function(ln){for(var cn=0;cn<ln.length;cn++){var un=ln[cn];if(un.isIntersecting){fe(Fe,"intersect");break}}},rn);an.observe(Fe),it(Fe,nn,tn,en)}else en.trigger==="load"?nt(en,Fe,Ut("load",{elt:Fe}))||bt(Fe,nn,tn,en.delay):en.pollInterval?(tn.polling=!0,Ye(Fe,nn,en)):it(Fe,nn,tn,en)}function Et(Fe){if(Y.config.allowScriptTags&&(Fe.type==="text/javascript"||Fe.type==="module"||Fe.type==="")){var en=te().createElement("script");ae(Fe.attributes,function(nn){en.setAttribute(nn.name,nn.value)}),en.textContent=Fe.textContent,en.async=!1,Y.config.inlineScriptNonce&&(en.nonce=Y.config.inlineScriptNonce);var tn=Fe.parentElement;try{tn.insertBefore(en,Fe)}catch(nn){y(nn)}finally{Fe.parentElement&&Fe.parentElement.removeChild(Fe)}}}function Ct(Fe){h(Fe,"script")&&Et(Fe),ae(f(Fe,"script"),function(en){Et(en)})}function Tt(){return document.querySelector("[hx-boost], [data-hx-boost]")}function Ot(Fe){var en=null,tn=[];if(document.evaluate)for(var nn=document.evaluate('//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") ]]',Fe);en=nn.iterateNext();)tn.push(en);else for(var rn=document.getElementsByTagName("*"),an=0;an<rn.length;an++)for(var ln=rn[an].attributes,cn=0;cn<ln.length;cn++){var un=ln[cn].name;(g(un,"hx-on:")||g(un,"data-hx-on:"))&&tn.push(rn[an])}return tn}function Rt(Fe){if(Fe.querySelectorAll){var en=Tt()?", a":"",tn=Fe.querySelectorAll(w+en+", form, [type='submit'], [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger], [hx-on], [data-hx-on]");return tn}else return[]}function qt(Fe){var en=d(Fe.target,"button, input[type='submit']"),tn=Lt(Fe);tn&&(tn.lastButtonClicked=en)}function Ht(Fe){var en=Lt(Fe);en&&(en.lastButtonClicked=null)}function Lt(Fe){var en=d(Fe.target,"button, input[type='submit']");if(en){var tn=s("#"+Q(en,"form"))||d(en,"form");if(tn)return ie(tn)}}function At(Fe){Fe.addEventListener("click",qt),Fe.addEventListener("focusin",qt),Fe.addEventListener("focusout",Ht)}function Nt(Fe){var en=We(Fe),tn=0;for(let nn=0;nn<en.length;nn++){const rn=en[nn];rn==="{"?tn++:rn==="}"&&tn--}return tn}function It(Fe,en,tn){var nn=ie(Fe);Array.isArray(nn.onHandlers)||(nn.onHandlers=[]);var rn,an=function(ln){return xr(Fe,function(){rn||(rn=new Function("event",tn)),rn.call(Fe,ln)})};Fe.addEventListener(en,an),nn.onHandlers.push({event:en,listener:an})}function kt(Fe){var en=ee(Fe,"hx-on");if(en){for(var tn={},nn=en.split(`
`),rn=null,an=0;nn.length>0;){var ln=nn.shift(),cn=ln.match(/^\s*([a-zA-Z:\-\.]+:)(.*)/);an===0&&cn?(ln.split(":"),rn=cn[1].slice(0,-1),tn[rn]=cn[2]):tn[rn]+=ln,an+=Nt(ln)}for(var un in tn)It(Fe,un,tn[un])}}function Pt(Fe){Re(Fe);for(var en=0;en<Fe.attributes.length;en++){var tn=Fe.attributes[en].name,nn=Fe.attributes[en].value;if(g(tn,"hx-on:")||g(tn,"data-hx-on:")){let rn=tn.slice(tn.indexOf(":")+1);g(rn,":")&&(rn="htmx"+rn),It(Fe,rn,nn)}}}function Mt(Fe){if(d(Fe,Y.config.disableSelector)){m(Fe);return}var en=ie(Fe);if(en.initHash!==Oe(Fe)){qe(Fe),en.initHash=Oe(Fe),kt(Fe),fe(Fe,"htmx:beforeProcessNode"),Fe.value&&(en.lastValue=Fe.value);var tn=Ze(Fe),nn=wt(Fe,en,tn);nn||(re(Fe,"hx-boost")==="true"?et(Fe,en,tn):o(Fe,"hx-trigger")&&tn.forEach(function(ln){St(Fe,ln,en,function(){})})),(Fe.tagName==="FORM"||Q(Fe,"type")==="submit"&&o(Fe,"form"))&&At(Fe);var rn=ee(Fe,"hx-sse");rn&&vt(Fe,en,rn);var an=ee(Fe,"hx-ws");an&&ut(Fe,en,an),fe(Fe,"htmx:afterProcessNode")}}function Dt(Fe){if(Fe=s(Fe),d(Fe,Y.config.disableSelector)){m(Fe);return}Mt(Fe),ae(Rt(Fe),function(en){Mt(en)}),ae(Ot(Fe),Pt)}function Xt(Fe){return Fe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Ut(Fe,en){var tn;return window.CustomEvent&&typeof window.CustomEvent=="function"?tn=new CustomEvent(Fe,{bubbles:!0,cancelable:!0,detail:en}):(tn=te().createEvent("CustomEvent"),tn.initCustomEvent(Fe,!0,!0,en)),tn}function ue(Fe,en,tn){fe(Fe,en,se({error:en},tn))}function Bt(Fe){return Fe==="htmx:afterProcessNode"}function C(Fe,en){ae(Ir(Fe),function(tn){try{en(tn)}catch(nn){y(nn)}})}function y(Fe){console.error?console.error(Fe):console.log&&console.log("ERROR: ",Fe)}function fe(Fe,en,tn){Fe=s(Fe),tn==null&&(tn={}),tn.elt=Fe;var nn=Ut(en,tn);Y.logger&&!Bt(en)&&Y.logger(Fe,en,tn),tn.error&&(y(tn.error),fe(Fe,"htmx:error",{errorInfo:tn}));var rn=Fe.dispatchEvent(nn),an=Xt(en);if(rn&&an!==en){var ln=Ut(an,nn.detail);rn=rn&&Fe.dispatchEvent(ln)}return C(Fe,function(cn){rn=rn&&cn.onEvent(en,nn)!==!1&&!nn.defaultPrevented}),rn}var Ft=location.pathname+location.search;function Vt(){var Fe=te().querySelector("[hx-history-elt],[data-hx-history-elt]");return Fe||te().body}function jt(Fe,en,tn,nn){if(M()){if(Y.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}Fe=D(Fe);for(var rn=S(localStorage.getItem("htmx-history-cache"))||[],an=0;an<rn.length;an++)if(rn[an].url===Fe){rn.splice(an,1);break}var ln={url:Fe,content:en,title:tn,scroll:nn};for(fe(te().body,"htmx:historyItemCreated",{item:ln,cache:rn}),rn.push(ln);rn.length>Y.config.historyCacheSize;)rn.shift();for(;rn.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(rn));break}catch(cn){ue(te().body,"htmx:historyCacheError",{cause:cn,cache:rn}),rn.shift()}}}function _t(Fe){if(!M())return null;Fe=D(Fe);for(var en=S(localStorage.getItem("htmx-history-cache"))||[],tn=0;tn<en.length;tn++)if(en[tn].url===Fe)return en[tn];return null}function zt(Fe){var en=Y.config.requestClass,tn=Fe.cloneNode(!0);return ae(f(tn,"."+en),function(nn){n(nn,en)}),tn.innerHTML}function Wt(){var Fe=Vt(),en=Ft||location.pathname+location.search,tn;try{tn=te().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{tn=te().querySelector('[hx-history="false"],[data-hx-history="false"]')}tn||(fe(te().body,"htmx:beforeHistorySave",{path:en,historyElt:Fe}),jt(en,zt(Fe),te().title,window.scrollY)),Y.config.historyEnabled&&history.replaceState({htmx:!0},te().title,window.location.href)}function $t(Fe){Y.config.getCacheBusterParam&&(Fe=Fe.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(_(Fe,"&")||_(Fe,"?"))&&(Fe=Fe.slice(0,-1))),Y.config.historyEnabled&&history.pushState({htmx:!0},"",Fe),Ft=Fe}function Gt(Fe){Y.config.historyEnabled&&history.replaceState({htmx:!0},"",Fe),Ft=Fe}function Jt(Fe){ae(Fe,function(en){en.call()})}function Zt(Fe){var en=new XMLHttpRequest,tn={path:Fe,xhr:en};fe(te().body,"htmx:historyCacheMiss",tn),en.open("GET",Fe,!0),en.setRequestHeader("HX-History-Restore-Request","true"),en.onload=function(){if(this.status>=200&&this.status<400){fe(te().body,"htmx:historyCacheMissLoad",tn);var nn=l(this.response);nn=nn.querySelector("[hx-history-elt],[data-hx-history-elt]")||nn;var rn=Vt(),an=T(rn),ln=Xe(this.response);if(ln){var cn=E("title");cn?cn.innerHTML=ln:window.document.title=ln}Pe(rn,nn,an),Jt(an.tasks),Ft=Fe,fe(te().body,"htmx:historyRestore",{path:Fe,cacheMiss:!0,serverResponse:this.response})}else ue(te().body,"htmx:historyCacheMissLoadError",tn)},en.send()}function Kt(Fe){Wt(),Fe=Fe||location.pathname+location.search;var en=_t(Fe);if(en){var tn=l(en.content),nn=Vt(),rn=T(nn);Pe(nn,tn,rn),Jt(rn.tasks),document.title=en.title,setTimeout(function(){window.scrollTo(0,en.scroll)},0),Ft=Fe,fe(te().body,"htmx:historyRestore",{path:Fe,item:en})}else Y.config.refreshOnHistoryMiss?window.location.reload(!0):Zt(Fe)}function Yt(Fe){var en=de(Fe,"hx-indicator");return en==null&&(en=[Fe]),ae(en,function(tn){var nn=ie(tn);nn.requestCount=(nn.requestCount||0)+1,tn.classList.add.call(tn.classList,Y.config.requestClass)}),en}function Qt(Fe){var en=de(Fe,"hx-disabled-elt");return en==null&&(en=[]),ae(en,function(tn){var nn=ie(tn);nn.requestCount=(nn.requestCount||0)+1,tn.setAttribute("disabled","")}),en}function er(Fe,en){ae(Fe,function(tn){var nn=ie(tn);nn.requestCount=(nn.requestCount||0)-1,nn.requestCount===0&&tn.classList.remove.call(tn.classList,Y.config.requestClass)}),ae(en,function(tn){var nn=ie(tn);nn.requestCount=(nn.requestCount||0)-1,nn.requestCount===0&&tn.removeAttribute("disabled")})}function tr(Fe,en){for(var tn=0;tn<Fe.length;tn++){var nn=Fe[tn];if(nn.isSameNode(en))return!0}return!1}function rr(Fe){return Fe.name===""||Fe.name==null||Fe.disabled||Fe.type==="button"||Fe.type==="submit"||Fe.tagName==="image"||Fe.tagName==="reset"||Fe.tagName==="file"?!1:Fe.type==="checkbox"||Fe.type==="radio"?Fe.checked:!0}function nr(Fe,en,tn){if(Fe!=null&&en!=null){var nn=tn[Fe];nn===void 0?tn[Fe]=en:Array.isArray(nn)?Array.isArray(en)?tn[Fe]=nn.concat(en):nn.push(en):Array.isArray(en)?tn[Fe]=[nn].concat(en):tn[Fe]=[nn,en]}}function ir(Fe,en,tn,nn,rn){if(!(nn==null||tr(Fe,nn))){if(Fe.push(nn),rr(nn)){var an=Q(nn,"name"),ln=nn.value;nn.multiple&&nn.tagName==="SELECT"&&(ln=I(nn.querySelectorAll("option:checked")).map(function(un){return un.value})),nn.files&&(ln=I(nn.files)),nr(an,ln,en),rn&&ar(nn,tn)}if(h(nn,"form")){var cn=nn.elements;ae(cn,function(un){ir(Fe,en,tn,un,rn)})}}}function ar(Fe,en){Fe.willValidate&&(fe(Fe,"htmx:validation:validate"),Fe.checkValidity()||(en.push({elt:Fe,message:Fe.validationMessage,validity:Fe.validity}),fe(Fe,"htmx:validation:failed",{message:Fe.validationMessage,validity:Fe.validity})))}function or(Fe,en){var tn=[],nn={},rn={},an=[],ln=ie(Fe);ln.lastButtonClicked&&!oe(ln.lastButtonClicked)&&(ln.lastButtonClicked=null);var cn=h(Fe,"form")&&Fe.noValidate!==!0||ee(Fe,"hx-validate")==="true";if(ln.lastButtonClicked&&(cn=cn&&ln.lastButtonClicked.formNoValidate!==!0),en!=="get"&&ir(tn,rn,an,d(Fe,"form"),cn),ir(tn,nn,an,Fe,cn),ln.lastButtonClicked||Fe.tagName==="BUTTON"||Fe.tagName==="INPUT"&&Q(Fe,"type")==="submit"){var un=ln.lastButtonClicked||Fe,fn=Q(un,"name");nr(fn,un.value,rn)}var hn=de(Fe,"hx-include");return ae(hn,function(pn){ir(tn,nn,an,pn,cn),h(pn,"form")||ae(pn.querySelectorAll(Je),function(gn){ir(tn,nn,an,gn,cn)})}),nn=se(nn,rn),{errors:an,values:nn}}function sr(Fe,en,tn){Fe!==""&&(Fe+="&"),String(tn)==="[object Object]"&&(tn=JSON.stringify(tn));var nn=encodeURIComponent(tn);return Fe+=encodeURIComponent(en)+"="+nn,Fe}function lr(Fe){var en="";for(var tn in Fe)if(Fe.hasOwnProperty(tn)){var nn=Fe[tn];Array.isArray(nn)?ae(nn,function(rn){en=sr(en,tn,rn)}):en=sr(en,tn,nn)}return en}function ur(Fe){var en=new FormData;for(var tn in Fe)if(Fe.hasOwnProperty(tn)){var nn=Fe[tn];Array.isArray(nn)?ae(nn,function(rn){en.append(tn,rn)}):en.append(tn,nn)}return en}function fr(Fe,en,tn){var nn={"HX-Request":"true","HX-Trigger":Q(Fe,"id"),"HX-Trigger-Name":Q(Fe,"name"),"HX-Target":ee(en,"id"),"HX-Current-URL":te().location.href};return pr(Fe,"hx-headers",!1,nn),tn!==void 0&&(nn["HX-Prompt"]=tn),ie(Fe).boosted&&(nn["HX-Boosted"]="true"),nn}function cr(Fe,en){var tn=re(en,"hx-params");if(tn){if(tn==="none")return{};if(tn==="*")return Fe;if(tn.indexOf("not ")===0)return ae(tn.substr(4).split(","),function(rn){rn=rn.trim(),delete Fe[rn]}),Fe;var nn={};return ae(tn.split(","),function(rn){rn=rn.trim(),nn[rn]=Fe[rn]}),nn}else return Fe}function hr(Fe){return Q(Fe,"href")&&Q(Fe,"href").indexOf("#")>=0}function dr(Fe,en){var tn=en||re(Fe,"hx-swap"),nn={swapStyle:ie(Fe).boosted?"innerHTML":Y.config.defaultSwapStyle,swapDelay:Y.config.defaultSwapDelay,settleDelay:Y.config.defaultSettleDelay};if(Y.config.scrollIntoViewOnBoost&&ie(Fe).boosted&&!hr(Fe)&&(nn.show="top"),tn){var rn=P(tn);if(rn.length>0)for(var an=0;an<rn.length;an++){var ln=rn[an];if(ln.indexOf("swap:")===0)nn.swapDelay=v(ln.substr(5));else if(ln.indexOf("settle:")===0)nn.settleDelay=v(ln.substr(7));else if(ln.indexOf("transition:")===0)nn.transition=ln.substr(11)==="true";else if(ln.indexOf("ignoreTitle:")===0)nn.ignoreTitle=ln.substr(12)==="true";else if(ln.indexOf("scroll:")===0){var cn=ln.substr(7),un=cn.split(":"),fn=un.pop(),hn=un.length>0?un.join(":"):null;nn.scroll=fn,nn.scrollTarget=hn}else if(ln.indexOf("show:")===0){var pn=ln.substr(5),un=pn.split(":"),gn=un.pop(),hn=un.length>0?un.join(":"):null;nn.show=gn,nn.showTarget=hn}else if(ln.indexOf("focus-scroll:")===0){var mn=ln.substr(13);nn.focusScroll=mn=="true"}else an==0?nn.swapStyle=ln:y("Unknown modifier in hx-swap: "+ln)}}return nn}function vr(Fe){return re(Fe,"hx-encoding")==="multipart/form-data"||h(Fe,"form")&&Q(Fe,"enctype")==="multipart/form-data"}function gr(Fe,en,tn){var nn=null;return C(en,function(rn){nn==null&&(nn=rn.encodeParameters(Fe,tn,en))}),nn??(vr(en)?ur(tn):lr(tn))}function T(Fe){return{tasks:[],elts:[Fe]}}function mr(Fe,en){var tn=Fe[0],nn=Fe[Fe.length-1];if(en.scroll){var rn=null;en.scrollTarget&&(rn=le(tn,en.scrollTarget)),en.scroll==="top"&&(tn||rn)&&(rn=rn||tn,rn.scrollTop=0),en.scroll==="bottom"&&(nn||rn)&&(rn=rn||nn,rn.scrollTop=rn.scrollHeight)}if(en.show){var rn=null;if(en.showTarget){var an=en.showTarget;en.showTarget==="window"&&(an="body"),rn=le(tn,an)}en.show==="top"&&(tn||rn)&&(rn=rn||tn,rn.scrollIntoView({block:"start",behavior:Y.config.scrollBehavior})),en.show==="bottom"&&(nn||rn)&&(rn=rn||nn,rn.scrollIntoView({block:"end",behavior:Y.config.scrollBehavior}))}}function pr(Fe,en,tn,nn){if(nn==null&&(nn={}),Fe==null)return nn;var rn=ee(Fe,en);if(rn){var an=rn.trim(),ln=tn;if(an==="unset")return null;an.indexOf("javascript:")===0?(an=an.substr(11),ln=!0):an.indexOf("js:")===0&&(an=an.substr(3),ln=!0),an.indexOf("{")!==0&&(an="{"+an+"}");var cn;ln?cn=xr(Fe,function(){return Function("return ("+an+")")()},{}):cn=S(an);for(var un in cn)cn.hasOwnProperty(un)&&nn[un]==null&&(nn[un]=cn[un])}return pr(u(Fe),en,tn,nn)}function xr(Fe,en,tn){return Y.config.allowEval?en():(ue(Fe,"htmx:evalDisallowedError"),tn)}function yr(Fe,en){return pr(Fe,"hx-vars",!0,en)}function br(Fe,en){return pr(Fe,"hx-vals",!1,en)}function wr(Fe){return se(yr(Fe),br(Fe))}function Sr(Fe,en,tn){if(tn!==null)try{Fe.setRequestHeader(en,tn)}catch{Fe.setRequestHeader(en,encodeURIComponent(tn)),Fe.setRequestHeader(en+"-URI-AutoEncoded","true")}}function Er(Fe){if(Fe.responseURL&&typeof URL<"u")try{var en=new URL(Fe.responseURL);return en.pathname+en.search}catch{ue(te().body,"htmx:badResponseUrl",{url:Fe.responseURL})}}function O(Fe,en){return Fe.getAllResponseHeaders().match(en)}function Cr(Fe,en,tn){return Fe=Fe.toLowerCase(),tn?tn instanceof Element||L(tn,"String")?ce(Fe,en,null,null,{targetOverride:s(tn),returnPromise:!0}):ce(Fe,en,s(tn.source),tn.event,{handler:tn.handler,headers:tn.headers,values:tn.values,targetOverride:s(tn.target),swapOverride:tn.swap,returnPromise:!0}):ce(Fe,en,null,null,{returnPromise:!0})}function Tr(Fe){for(var en=[];Fe;)en.push(Fe),Fe=Fe.parentElement;return en}function Or(Fe,en,tn){var nn,rn;if(typeof URL=="function"){rn=new URL(en,document.location.href);var an=document.location.origin;nn=an===rn.origin}else rn=en,nn=g(en,document.location.origin);return Y.config.selfRequestsOnly&&!nn?!1:fe(Fe,"htmx:validateUrl",se({url:rn,sameHost:nn},tn))}function ce(Fe,en,tn,nn,rn,an){var ln=null,cn=null;if(rn=rn??{},rn.returnPromise&&typeof Promise<"u")var un=new Promise(function(Fo,Po){ln=Fo,cn=Po});tn==null&&(tn=te().body);var fn=rn.handler||qr;if(!oe(tn))return ne(ln),un;var hn=rn.targetOverride||ge(tn);if(hn==null||hn==he)return ue(tn,"htmx:targetError",{target:ee(tn,"hx-target")}),ne(cn),un;var pn=ie(tn),gn=pn.lastButtonClicked;if(gn){var mn=Q(gn,"formaction");mn!=null&&(en=mn);var _n=Q(gn,"formmethod");_n!=null&&_n.toLowerCase()!=="dialog"&&(Fe=_n)}var kn=re(tn,"hx-confirm");if(an===void 0){var Cn=function(Fo){return ce(Fe,en,tn,nn,rn,!!Fo)},xn={target:hn,elt:tn,path:en,verb:Fe,triggeringEvent:nn,etc:rn,issueRequest:Cn,question:kn};if(fe(tn,"htmx:confirm",xn)===!1)return ne(ln),un}var Sn=tn,Mn=re(tn,"hx-sync"),In=null,On=!1;if(Mn){var Pn=Mn.split(":"),Tn=Pn[0].trim();if(Tn==="this"?Sn=ve(tn,"hx-sync"):Sn=le(tn,Tn),Mn=(Pn[1]||"drop").trim(),pn=ie(Sn),Mn==="drop"&&pn.xhr&&pn.abortable!==!0)return ne(ln),un;if(Mn==="abort"){if(pn.xhr)return ne(ln),un;On=!0}else if(Mn==="replace")fe(Sn,"htmx:abort");else if(Mn.indexOf("queue")===0){var Nn=Mn.split(" ");In=(Nn[1]||"last").trim()}}if(pn.xhr)if(pn.abortable)fe(Sn,"htmx:abort");else{if(In==null){if(nn){var Hn=ie(nn);Hn&&Hn.triggerSpec&&Hn.triggerSpec.queue&&(In=Hn.triggerSpec.queue)}In==null&&(In="last")}return pn.queuedRequests==null&&(pn.queuedRequests=[]),In==="first"&&pn.queuedRequests.length===0?pn.queuedRequests.push(function(){ce(Fe,en,tn,nn,rn)}):In==="all"?pn.queuedRequests.push(function(){ce(Fe,en,tn,nn,rn)}):In==="last"&&(pn.queuedRequests=[],pn.queuedRequests.push(function(){ce(Fe,en,tn,nn,rn)})),ne(ln),un}var Un=new XMLHttpRequest;pn.xhr=Un,pn.abortable=On;var jn=function(){if(pn.xhr=null,pn.abortable=!1,pn.queuedRequests!=null&&pn.queuedRequests.length>0){var Fo=pn.queuedRequests.shift();Fo()}},Yn=re(tn,"hx-prompt");if(Yn){var Wn=prompt(Yn);if(Wn===null||!fe(tn,"htmx:prompt",{prompt:Wn,target:hn}))return ne(ln),jn(),un}if(kn&&!an&&!confirm(kn))return ne(ln),jn(),un;var Qn=fr(tn,hn,Wn);rn.headers&&(Qn=se(Qn,rn.headers));var Xn=or(tn,Fe),jr=Xn.errors,Wr=Xn.values;rn.values&&(Wr=se(Wr,rn.values));var Jr=wr(tn),ci=se(Wr,Jr),ti=cr(ci,tn);Fe!=="get"&&!vr(tn)&&(Qn["Content-Type"]="application/x-www-form-urlencoded"),Y.config.getCacheBusterParam&&Fe==="get"&&(ti["org.htmx.cache-buster"]=Q(hn,"id")||"true"),(en==null||en==="")&&(en=te().location.href);var Zr=pr(tn,"hx-request"),Br=ie(tn).boosted,Jn=Y.config.methodsThatUseUrlParams.indexOf(Fe)>=0,oi={boosted:Br,useUrlParams:Jn,parameters:ti,unfilteredParameters:ci,headers:Qn,target:hn,verb:Fe,errors:jr,withCredentials:rn.credentials||Zr.credentials||Y.config.withCredentials,timeout:rn.timeout||Zr.timeout||Y.config.timeout,path:en,triggeringEvent:nn};if(!fe(tn,"htmx:configRequest",oi))return ne(ln),jn(),un;if(en=oi.path,Fe=oi.verb,Qn=oi.headers,ti=oi.parameters,jr=oi.errors,Jn=oi.useUrlParams,jr&&jr.length>0)return fe(tn,"htmx:validation:halted",oi),ne(ln),jn(),un;var pi=en.split("#"),ri=pi[0],fi=pi[1],yi=en;if(Jn){yi=ri;var Si=Object.keys(ti).length!==0;Si&&(yi.indexOf("?")<0?yi+="?":yi+="&",yi+=lr(ti),fi&&(yi+="#"+fi))}if(!Or(tn,yi,oi))return ue(tn,"htmx:invalidPath",oi),ne(cn),un;if(Un.open(Fe.toUpperCase(),yi,!0),Un.overrideMimeType("text/html"),Un.withCredentials=oi.withCredentials,Un.timeout=oi.timeout,!Zr.noHeaders){for(var Pi in Qn)if(Qn.hasOwnProperty(Pi)){var Ui=Qn[Pi];Sr(Un,Pi,Ui)}}var ji={xhr:Un,target:hn,requestConfig:oi,etc:rn,boosted:Br,pathInfo:{requestPath:en,finalRequestPath:yi,anchor:fi}};if(Un.onload=function(){try{var Fo=Tr(tn);if(ji.pathInfo.responsePath=Er(Un),fn(tn,ji),er(go,po),fe(tn,"htmx:afterRequest",ji),fe(tn,"htmx:afterOnLoad",ji),!oe(tn)){for(var Po=null;Fo.length>0&&Po==null;){var Oi=Fo.shift();oe(Oi)&&(Po=Oi)}Po&&(fe(Po,"htmx:afterRequest",ji),fe(Po,"htmx:afterOnLoad",ji))}ne(ln),jn()}catch(Wi){throw ue(tn,"htmx:onLoadError",se({error:Wi},ji)),Wi}},Un.onerror=function(){er(go,po),ue(tn,"htmx:afterRequest",ji),ue(tn,"htmx:sendError",ji),ne(cn),jn()},Un.onabort=function(){er(go,po),ue(tn,"htmx:afterRequest",ji),ue(tn,"htmx:sendAbort",ji),ne(cn),jn()},Un.ontimeout=function(){er(go,po),ue(tn,"htmx:afterRequest",ji),ue(tn,"htmx:timeout",ji),ne(cn),jn()},!fe(tn,"htmx:beforeRequest",ji))return ne(ln),jn(),un;var go=Yt(tn),po=Qt(tn);ae(["loadstart","loadend","progress","abort"],function(Fo){ae([Un,Un.upload],function(Po){Po.addEventListener(Fo,function(Oi){fe(tn,"htmx:xhr:"+Fo,{lengthComputable:Oi.lengthComputable,loaded:Oi.loaded,total:Oi.total})})})}),fe(tn,"htmx:beforeSend",ji);var Yi=Jn?null:gr(Un,tn,ti);return Un.send(Yi),un}function Rr(Fe,en){var tn=en.xhr,nn=null,rn=null;if(O(tn,/HX-Push:/i)?(nn=tn.getResponseHeader("HX-Push"),rn="push"):O(tn,/HX-Push-Url:/i)?(nn=tn.getResponseHeader("HX-Push-Url"),rn="push"):O(tn,/HX-Replace-Url:/i)&&(nn=tn.getResponseHeader("HX-Replace-Url"),rn="replace"),nn)return nn==="false"?{}:{type:rn,path:nn};var an=en.pathInfo.finalRequestPath,ln=en.pathInfo.responsePath,cn=re(Fe,"hx-push-url"),un=re(Fe,"hx-replace-url"),fn=ie(Fe).boosted,hn=null,pn=null;return cn?(hn="push",pn=cn):un?(hn="replace",pn=un):fn&&(hn="push",pn=ln||an),pn?pn==="false"?{}:(pn==="true"&&(pn=ln||an),en.pathInfo.anchor&&pn.indexOf("#")===-1&&(pn=pn+"#"+en.pathInfo.anchor),{type:hn,path:pn}):{}}function qr(Fe,en){var tn=en.xhr,nn=en.target,rn=en.etc;if(en.requestConfig,!!fe(Fe,"htmx:beforeOnLoad",en)){if(O(tn,/HX-Trigger:/i)&&Be(tn,"HX-Trigger",Fe),O(tn,/HX-Location:/i)){Wt();var an=tn.getResponseHeader("HX-Location"),ln;an.indexOf("{")===0&&(ln=S(an),an=ln.path,delete ln.path),Cr("GET",an,ln).then(function(){$t(an)});return}var cn=O(tn,/HX-Refresh:/i)&&tn.getResponseHeader("HX-Refresh")==="true";if(O(tn,/HX-Redirect:/i)){location.href=tn.getResponseHeader("HX-Redirect"),cn&&location.reload();return}if(cn){location.reload();return}O(tn,/HX-Retarget:/i)&&(en.target=te().querySelector(tn.getResponseHeader("HX-Retarget")));var un=Rr(Fe,en),fn=tn.status>=200&&tn.status<400&&tn.status!==204,hn=tn.response,pn=tn.status>=400,gn=Y.config.ignoreTitle,mn=se({shouldSwap:fn,serverResponse:hn,isError:pn,ignoreTitle:gn},en);if(fe(nn,"htmx:beforeSwap",mn)){if(nn=mn.target,hn=mn.serverResponse,pn=mn.isError,gn=mn.ignoreTitle,en.target=nn,en.failed=pn,en.successful=!pn,mn.shouldSwap){tn.status===286&&Ke(Fe),C(Fe,function(Pn){hn=Pn.transformResponse(hn,tn,Fe)}),un.type&&Wt();var _n=rn.swapOverride;O(tn,/HX-Reswap:/i)&&(_n=tn.getResponseHeader("HX-Reswap"));var ln=dr(Fe,_n);ln.hasOwnProperty("ignoreTitle")&&(gn=ln.ignoreTitle),nn.classList.add(Y.config.swappingClass);var kn=null,Cn=null,xn=function(){try{var Pn=document.activeElement,Tn={};try{Tn={elt:Pn,start:Pn?Pn.selectionStart:null,end:Pn?Pn.selectionEnd:null}}catch{}var Nn;O(tn,/HX-Reselect:/i)&&(Nn=tn.getResponseHeader("HX-Reselect"));var Hn=T(nn);if(Ue(ln.swapStyle,nn,Fe,hn,Hn,Nn),Tn.elt&&!oe(Tn.elt)&&Q(Tn.elt,"id")){var Un=document.getElementById(Q(Tn.elt,"id")),jn={preventScroll:ln.focusScroll!==void 0?!ln.focusScroll:!Y.config.defaultFocusScroll};if(Un){if(Tn.start&&Un.setSelectionRange)try{Un.setSelectionRange(Tn.start,Tn.end)}catch{}Un.focus(jn)}}if(nn.classList.remove(Y.config.swappingClass),ae(Hn.elts,function(Qn){Qn.classList&&Qn.classList.add(Y.config.settlingClass),fe(Qn,"htmx:afterSwap",en)}),O(tn,/HX-Trigger-After-Swap:/i)){var Yn=Fe;oe(Fe)||(Yn=te().body),Be(tn,"HX-Trigger-After-Swap",Yn)}var Wn=function(){if(ae(Hn.tasks,function(Wr){Wr.call()}),ae(Hn.elts,function(Wr){Wr.classList&&Wr.classList.remove(Y.config.settlingClass),fe(Wr,"htmx:afterSettle",en)}),un.type&&(fe(te().body,"htmx:beforeHistoryUpdate",se({history:un},en)),un.type==="push"?($t(un.path),fe(te().body,"htmx:pushedIntoHistory",{path:un.path})):(Gt(un.path),fe(te().body,"htmx:replacedInHistory",{path:un.path}))),en.pathInfo.anchor){var Qn=te().getElementById(en.pathInfo.anchor);Qn&&Qn.scrollIntoView({block:"start",behavior:"auto"})}if(Hn.title&&!gn){var Xn=E("title");Xn?Xn.innerHTML=Hn.title:window.document.title=Hn.title}if(mr(Hn.elts,ln),O(tn,/HX-Trigger-After-Settle:/i)){var jr=Fe;oe(Fe)||(jr=te().body),Be(tn,"HX-Trigger-After-Settle",jr)}ne(kn)};ln.settleDelay>0?setTimeout(Wn,ln.settleDelay):Wn()}catch(Qn){throw ue(Fe,"htmx:swapError",en),ne(Cn),Qn}},Sn=Y.config.globalViewTransitions;if(ln.hasOwnProperty("transition")&&(Sn=ln.transition),Sn&&fe(Fe,"htmx:beforeTransition",en)&&typeof Promise<"u"&&document.startViewTransition){var Mn=new Promise(function(Pn,Tn){kn=Pn,Cn=Tn}),In=xn;xn=function(){document.startViewTransition(function(){return In(),Mn})}}ln.swapDelay>0?setTimeout(xn,ln.swapDelay):xn()}pn&&ue(Fe,"htmx:responseError",se({error:"Response Status Error Code "+tn.status+" from "+en.pathInfo.requestPath},en))}}}var Hr={};function Lr(){return{init:function(Fe){return null},onEvent:function(Fe,en){return!0},transformResponse:function(Fe,en,tn){return Fe},isInlineSwap:function(Fe){return!1},handleSwap:function(Fe,en,tn,nn){return!1},encodeParameters:function(Fe,en,tn){return null}}}function Ar(Fe,en){en.init&&en.init(r),Hr[Fe]=se(Lr(),en)}function Nr(Fe){delete Hr[Fe]}function Ir(Fe,en,tn){if(Fe==null)return en;en==null&&(en=[]),tn==null&&(tn=[]);var nn=ee(Fe,"hx-ext");return nn&&ae(nn.split(","),function(rn){if(rn=rn.replace(/ /g,""),rn.slice(0,7)=="ignore:"){tn.push(rn.slice(7));return}if(tn.indexOf(rn)<0){var an=Hr[rn];an&&en.indexOf(an)<0&&en.push(an)}}),Ir(u(Fe),en,tn)}var kr=!1;te().addEventListener("DOMContentLoaded",function(){kr=!0});function Pr(Fe){kr||te().readyState==="complete"?Fe():te().addEventListener("DOMContentLoaded",Fe)}function Mr(){Y.config.includeIndicatorStyles!==!1&&te().head.insertAdjacentHTML("beforeend","<style>                      ."+Y.config.indicatorClass+"{opacity:0;transition: opacity 200ms ease-in;}                      ."+Y.config.requestClass+" ."+Y.config.indicatorClass+"{opacity:1}                      ."+Y.config.requestClass+"."+Y.config.indicatorClass+"{opacity:1}                    </style>")}function Dr(){var Fe=te().querySelector('meta[name="htmx-config"]');return Fe?S(Fe.content):null}function Xr(){var Fe=Dr();Fe&&(Y.config=se(Y.config,Fe))}return Pr(function(){Xr(),Mr();var Fe=te().body;Dt(Fe);var en=te().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");Fe.addEventListener("htmx:abort",function(nn){var rn=nn.target,an=ie(rn);an&&an.xhr&&an.xhr.abort()});var tn=window.onpopstate;window.onpopstate=function(nn){nn.state&&nn.state.htmx?(Kt(),ae(en,function(rn){fe(rn,"htmx:restored",{document:te(),triggerEvent:fe})})):tn&&tn(nn)},setTimeout(function(){fe(Fe,"htmx:load",{}),Fe=null},0)}),Y}()})})(htmx_min$1);var htmx_minExports=htmx_min$1.exports;const htmx_min=getDefaultExportFromCjs(htmx_minExports),htmx$1=_mergeNamespaces({__proto__:null,default:htmx_min},[htmx_minExports]);var quill={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(Fe,en){(function(nn,rn){Fe.exports=rn()})(typeof self<"u"?self:commonjsGlobal,function(){return function(tn){var nn={};function rn(an){if(nn[an])return nn[an].exports;var ln=nn[an]={i:an,l:!1,exports:{}};return tn[an].call(ln.exports,ln,ln.exports,rn),ln.l=!0,ln.exports}return rn.m=tn,rn.c=nn,rn.d=function(an,ln,cn){rn.o(an,ln)||Object.defineProperty(an,ln,{configurable:!1,enumerable:!0,get:cn})},rn.n=function(an){var ln=an&&an.__esModule?function(){return an.default}:function(){return an};return rn.d(ln,"a",ln),ln},rn.o=function(an,ln){return Object.prototype.hasOwnProperty.call(an,ln)},rn.p="",rn(rn.s=109)}([function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(17),ln=rn(18),cn=rn(19),un=rn(45),fn=rn(46),hn=rn(47),pn=rn(48),gn=rn(49),mn=rn(12),_n=rn(32),kn=rn(33),Cn=rn(31),xn=rn(1),Sn={Scope:xn.Scope,create:xn.create,find:xn.find,query:xn.query,register:xn.register,Container:an.default,Format:ln.default,Leaf:cn.default,Embed:pn.default,Scroll:un.default,Block:hn.default,Inline:fn.default,Text:gn.default,Attributor:{Attribute:mn.default,Class:_n.default,Style:kn.default,Store:Cn.default}};nn.default=Sn},function(tn,nn,rn){var an=this&&this.__extends||function(){var Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xn,Sn){xn.__proto__=Sn}||function(xn,Sn){for(var Mn in Sn)Sn.hasOwnProperty(Mn)&&(xn[Mn]=Sn[Mn])};return function(xn,Sn){Cn(xn,Sn);function Mn(){this.constructor=xn}xn.prototype=Sn===null?Object.create(Sn):(Mn.prototype=Sn.prototype,new Mn)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=function(Cn){an(xn,Cn);function xn(Sn){var Mn=this;return Sn="[Parchment] "+Sn,Mn=Cn.call(this,Sn)||this,Mn.message=Sn,Mn.name=Mn.constructor.name,Mn}return xn}(Error);nn.ParchmentError=ln;var cn={},un={},fn={},hn={};nn.DATA_KEY="__blot";var pn;(function(Cn){Cn[Cn.TYPE=3]="TYPE",Cn[Cn.LEVEL=12]="LEVEL",Cn[Cn.ATTRIBUTE=13]="ATTRIBUTE",Cn[Cn.BLOT=14]="BLOT",Cn[Cn.INLINE=7]="INLINE",Cn[Cn.BLOCK=11]="BLOCK",Cn[Cn.BLOCK_BLOT=10]="BLOCK_BLOT",Cn[Cn.INLINE_BLOT=6]="INLINE_BLOT",Cn[Cn.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Cn[Cn.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Cn[Cn.ANY=15]="ANY"})(pn=nn.Scope||(nn.Scope={}));function gn(Cn,xn){var Sn=_n(Cn);if(Sn==null)throw new ln("Unable to create "+Cn+" blot");var Mn=Sn,In=Cn instanceof Node||Cn.nodeType===Node.TEXT_NODE?Cn:Mn.create(xn);return new Mn(In,xn)}nn.create=gn;function mn(Cn,xn){return xn===void 0&&(xn=!1),Cn==null?null:Cn[nn.DATA_KEY]!=null?Cn[nn.DATA_KEY].blot:xn?mn(Cn.parentNode,xn):null}nn.find=mn;function _n(Cn,xn){xn===void 0&&(xn=pn.ANY);var Sn;if(typeof Cn=="string")Sn=hn[Cn]||cn[Cn];else if(Cn instanceof Text||Cn.nodeType===Node.TEXT_NODE)Sn=hn.text;else if(typeof Cn=="number")Cn&pn.LEVEL&pn.BLOCK?Sn=hn.block:Cn&pn.LEVEL&pn.INLINE&&(Sn=hn.inline);else if(Cn instanceof HTMLElement){var Mn=(Cn.getAttribute("class")||"").split(/\s+/);for(var In in Mn)if(Sn=un[Mn[In]],Sn)break;Sn=Sn||fn[Cn.tagName]}return Sn==null?null:xn&pn.LEVEL&Sn.scope&&xn&pn.TYPE&Sn.scope?Sn:null}nn.query=_n;function kn(){for(var Cn=[],xn=0;xn<arguments.length;xn++)Cn[xn]=arguments[xn];if(Cn.length>1)return Cn.map(function(In){return kn(In)});var Sn=Cn[0];if(typeof Sn.blotName!="string"&&typeof Sn.attrName!="string")throw new ln("Invalid definition");if(Sn.blotName==="abstract")throw new ln("Cannot register abstract class");if(hn[Sn.blotName||Sn.attrName]=Sn,typeof Sn.keyName=="string")cn[Sn.keyName]=Sn;else if(Sn.className!=null&&(un[Sn.className]=Sn),Sn.tagName!=null){Array.isArray(Sn.tagName)?Sn.tagName=Sn.tagName.map(function(In){return In.toUpperCase()}):Sn.tagName=Sn.tagName.toUpperCase();var Mn=Array.isArray(Sn.tagName)?Sn.tagName:[Sn.tagName];Mn.forEach(function(In){(fn[In]==null||Sn.className==null)&&(fn[In]=Sn)})}return Sn}nn.register=kn},function(tn,nn,rn){var an=rn(51),ln=rn(11),cn=rn(3),un=rn(20),fn=String.fromCharCode(0),hn=function(pn){Array.isArray(pn)?this.ops=pn:pn!=null&&Array.isArray(pn.ops)?this.ops=pn.ops:this.ops=[]};hn.prototype.insert=function(pn,gn){var mn={};return pn.length===0?this:(mn.insert=pn,gn!=null&&typeof gn=="object"&&Object.keys(gn).length>0&&(mn.attributes=gn),this.push(mn))},hn.prototype.delete=function(pn){return pn<=0?this:this.push({delete:pn})},hn.prototype.retain=function(pn,gn){if(pn<=0)return this;var mn={retain:pn};return gn!=null&&typeof gn=="object"&&Object.keys(gn).length>0&&(mn.attributes=gn),this.push(mn)},hn.prototype.push=function(pn){var gn=this.ops.length,mn=this.ops[gn-1];if(pn=cn(!0,{},pn),typeof mn=="object"){if(typeof pn.delete=="number"&&typeof mn.delete=="number")return this.ops[gn-1]={delete:mn.delete+pn.delete},this;if(typeof mn.delete=="number"&&pn.insert!=null&&(gn-=1,mn=this.ops[gn-1],typeof mn!="object"))return this.ops.unshift(pn),this;if(ln(pn.attributes,mn.attributes)){if(typeof pn.insert=="string"&&typeof mn.insert=="string")return this.ops[gn-1]={insert:mn.insert+pn.insert},typeof pn.attributes=="object"&&(this.ops[gn-1].attributes=pn.attributes),this;if(typeof pn.retain=="number"&&typeof mn.retain=="number")return this.ops[gn-1]={retain:mn.retain+pn.retain},typeof pn.attributes=="object"&&(this.ops[gn-1].attributes=pn.attributes),this}}return gn===this.ops.length?this.ops.push(pn):this.ops.splice(gn,0,pn),this},hn.prototype.chop=function(){var pn=this.ops[this.ops.length-1];return pn&&pn.retain&&!pn.attributes&&this.ops.pop(),this},hn.prototype.filter=function(pn){return this.ops.filter(pn)},hn.prototype.forEach=function(pn){this.ops.forEach(pn)},hn.prototype.map=function(pn){return this.ops.map(pn)},hn.prototype.partition=function(pn){var gn=[],mn=[];return this.forEach(function(_n){var kn=pn(_n)?gn:mn;kn.push(_n)}),[gn,mn]},hn.prototype.reduce=function(pn,gn){return this.ops.reduce(pn,gn)},hn.prototype.changeLength=function(){return this.reduce(function(pn,gn){return gn.insert?pn+un.length(gn):gn.delete?pn-gn.delete:pn},0)},hn.prototype.length=function(){return this.reduce(function(pn,gn){return pn+un.length(gn)},0)},hn.prototype.slice=function(pn,gn){pn=pn||0,typeof gn!="number"&&(gn=1/0);for(var mn=[],_n=un.iterator(this.ops),kn=0;kn<gn&&_n.hasNext();){var Cn;kn<pn?Cn=_n.next(pn-kn):(Cn=_n.next(gn-kn),mn.push(Cn)),kn+=un.length(Cn)}return new hn(mn)},hn.prototype.compose=function(pn){var gn=un.iterator(this.ops),mn=un.iterator(pn.ops),_n=[],kn=mn.peek();if(kn!=null&&typeof kn.retain=="number"&&kn.attributes==null){for(var Cn=kn.retain;gn.peekType()==="insert"&&gn.peekLength()<=Cn;)Cn-=gn.peekLength(),_n.push(gn.next());kn.retain-Cn>0&&mn.next(kn.retain-Cn)}for(var xn=new hn(_n);gn.hasNext()||mn.hasNext();)if(mn.peekType()==="insert")xn.push(mn.next());else if(gn.peekType()==="delete")xn.push(gn.next());else{var Sn=Math.min(gn.peekLength(),mn.peekLength()),Mn=gn.next(Sn),In=mn.next(Sn);if(typeof In.retain=="number"){var On={};typeof Mn.retain=="number"?On.retain=Sn:On.insert=Mn.insert;var Pn=un.attributes.compose(Mn.attributes,In.attributes,typeof Mn.retain=="number");if(Pn&&(On.attributes=Pn),xn.push(On),!mn.hasNext()&&ln(xn.ops[xn.ops.length-1],On)){var Tn=new hn(gn.rest());return xn.concat(Tn).chop()}}else typeof In.delete=="number"&&typeof Mn.retain=="number"&&xn.push(In)}return xn.chop()},hn.prototype.concat=function(pn){var gn=new hn(this.ops.slice());return pn.ops.length>0&&(gn.push(pn.ops[0]),gn.ops=gn.ops.concat(pn.ops.slice(1))),gn},hn.prototype.diff=function(pn,gn){if(this.ops===pn.ops)return new hn;var mn=[this,pn].map(function(Sn){return Sn.map(function(Mn){if(Mn.insert!=null)return typeof Mn.insert=="string"?Mn.insert:fn;var In=Sn===pn?"on":"with";throw new Error("diff() called "+In+" non-document")}).join("")}),_n=new hn,kn=an(mn[0],mn[1],gn),Cn=un.iterator(this.ops),xn=un.iterator(pn.ops);return kn.forEach(function(Sn){for(var Mn=Sn[1].length;Mn>0;){var In=0;switch(Sn[0]){case an.INSERT:In=Math.min(xn.peekLength(),Mn),_n.push(xn.next(In));break;case an.DELETE:In=Math.min(Mn,Cn.peekLength()),Cn.next(In),_n.delete(In);break;case an.EQUAL:In=Math.min(Cn.peekLength(),xn.peekLength(),Mn);var On=Cn.next(In),Pn=xn.next(In);ln(On.insert,Pn.insert)?_n.retain(In,un.attributes.diff(On.attributes,Pn.attributes)):_n.push(Pn).delete(In);break}Mn-=In}}),_n.chop()},hn.prototype.eachLine=function(pn,gn){gn=gn||`
`;for(var mn=un.iterator(this.ops),_n=new hn,kn=0;mn.hasNext();){if(mn.peekType()!=="insert")return;var Cn=mn.peek(),xn=un.length(Cn)-mn.peekLength(),Sn=typeof Cn.insert=="string"?Cn.insert.indexOf(gn,xn)-xn:-1;if(Sn<0)_n.push(mn.next());else if(Sn>0)_n.push(mn.next(Sn));else{if(pn(_n,mn.next(1).attributes||{},kn)===!1)return;kn+=1,_n=new hn}}_n.length()>0&&pn(_n,{},kn)},hn.prototype.transform=function(pn,gn){if(gn=!!gn,typeof pn=="number")return this.transformPosition(pn,gn);for(var mn=un.iterator(this.ops),_n=un.iterator(pn.ops),kn=new hn;mn.hasNext()||_n.hasNext();)if(mn.peekType()==="insert"&&(gn||_n.peekType()!=="insert"))kn.retain(un.length(mn.next()));else if(_n.peekType()==="insert")kn.push(_n.next());else{var Cn=Math.min(mn.peekLength(),_n.peekLength()),xn=mn.next(Cn),Sn=_n.next(Cn);if(xn.delete)continue;Sn.delete?kn.push(Sn):kn.retain(Cn,un.attributes.transform(xn.attributes,Sn.attributes,gn))}return kn.chop()},hn.prototype.transformPosition=function(pn,gn){gn=!!gn;for(var mn=un.iterator(this.ops),_n=0;mn.hasNext()&&_n<=pn;){var kn=mn.peekLength(),Cn=mn.peekType();if(mn.next(),Cn==="delete"){pn-=Math.min(kn,pn-_n);continue}else Cn==="insert"&&(_n<pn||!gn)&&(pn+=kn);_n+=kn}return pn},tn.exports=hn},function(tn,nn){var rn=Object.prototype.hasOwnProperty,an=Object.prototype.toString,ln=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,un=function(mn){return typeof Array.isArray=="function"?Array.isArray(mn):an.call(mn)==="[object Array]"},fn=function(mn){if(!mn||an.call(mn)!=="[object Object]")return!1;var _n=rn.call(mn,"constructor"),kn=mn.constructor&&mn.constructor.prototype&&rn.call(mn.constructor.prototype,"isPrototypeOf");if(mn.constructor&&!_n&&!kn)return!1;var Cn;for(Cn in mn);return typeof Cn>"u"||rn.call(mn,Cn)},hn=function(mn,_n){ln&&_n.name==="__proto__"?ln(mn,_n.name,{enumerable:!0,configurable:!0,value:_n.newValue,writable:!0}):mn[_n.name]=_n.newValue},pn=function(mn,_n){if(_n==="__proto__")if(rn.call(mn,_n)){if(cn)return cn(mn,_n).value}else return;return mn[_n]};tn.exports=function gn(){var mn,_n,kn,Cn,xn,Sn,Mn=arguments[0],In=1,On=arguments.length,Pn=!1;for(typeof Mn=="boolean"&&(Pn=Mn,Mn=arguments[1]||{},In=2),(Mn==null||typeof Mn!="object"&&typeof Mn!="function")&&(Mn={});In<On;++In)if(mn=arguments[In],mn!=null)for(_n in mn)kn=pn(Mn,_n),Cn=pn(mn,_n),Mn!==Cn&&(Pn&&Cn&&(fn(Cn)||(xn=un(Cn)))?(xn?(xn=!1,Sn=kn&&un(kn)?kn:[]):Sn=kn&&fn(kn)?kn:{},hn(Mn,{name:_n,newValue:gn(Pn,Sn,Cn)})):typeof Cn<"u"&&hn(Mn,{name:_n,newValue:Cn}));return Mn}},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=nn.BlockEmbed=nn.bubbleFormats=void 0;var an=function(){function jn(Yn,Wn){for(var Qn=0;Qn<Wn.length;Qn++){var Xn=Wn[Qn];Xn.enumerable=Xn.enumerable||!1,Xn.configurable=!0,"value"in Xn&&(Xn.writable=!0),Object.defineProperty(Yn,Xn.key,Xn)}}return function(Yn,Wn,Qn){return Wn&&jn(Yn.prototype,Wn),Qn&&jn(Yn,Qn),Yn}}(),ln=function jn(Yn,Wn,Qn){Yn===null&&(Yn=Function.prototype);var Xn=Object.getOwnPropertyDescriptor(Yn,Wn);if(Xn===void 0){var jr=Object.getPrototypeOf(Yn);return jr===null?void 0:jn(jr,Wn,Qn)}else{if("value"in Xn)return Xn.value;var Wr=Xn.get;return Wr===void 0?void 0:Wr.call(Qn)}},cn=rn(3),un=Mn(cn),fn=rn(2),hn=Mn(fn),pn=rn(0),gn=Mn(pn),mn=rn(16),_n=Mn(mn),kn=rn(6),Cn=Mn(kn),xn=rn(7),Sn=Mn(xn);function Mn(jn){return jn&&jn.__esModule?jn:{default:jn}}function In(jn,Yn){if(!(jn instanceof Yn))throw new TypeError("Cannot call a class as a function")}function On(jn,Yn){if(!jn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Yn&&(typeof Yn=="object"||typeof Yn=="function")?Yn:jn}function Pn(jn,Yn){if(typeof Yn!="function"&&Yn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Yn);jn.prototype=Object.create(Yn&&Yn.prototype,{constructor:{value:jn,enumerable:!1,writable:!0,configurable:!0}}),Yn&&(Object.setPrototypeOf?Object.setPrototypeOf(jn,Yn):jn.__proto__=Yn)}var Tn=1,Nn=function(jn){Pn(Yn,jn);function Yn(){return In(this,Yn),On(this,(Yn.__proto__||Object.getPrototypeOf(Yn)).apply(this,arguments))}return an(Yn,[{key:"attach",value:function(){ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"attach",this).call(this),this.attributes=new gn.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new hn.default().insert(this.value(),(0,un.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(Qn,Xn){var jr=gn.default.query(Qn,gn.default.Scope.BLOCK_ATTRIBUTE);jr!=null&&this.attributes.attribute(jr,Xn)}},{key:"formatAt",value:function(Qn,Xn,jr,Wr){this.format(jr,Wr)}},{key:"insertAt",value:function(Qn,Xn,jr){if(typeof Xn=="string"&&Xn.endsWith(`
`)){var Wr=gn.default.create(Hn.blotName);this.parent.insertBefore(Wr,Qn===0?this:this.next),Wr.insertAt(0,Xn.slice(0,-1))}else ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"insertAt",this).call(this,Qn,Xn,jr)}}]),Yn}(gn.default.Embed);Nn.scope=gn.default.Scope.BLOCK_BLOT;var Hn=function(jn){Pn(Yn,jn);function Yn(Wn){In(this,Yn);var Qn=On(this,(Yn.__proto__||Object.getPrototypeOf(Yn)).call(this,Wn));return Qn.cache={},Qn}return an(Yn,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(gn.default.Leaf).reduce(function(Qn,Xn){return Xn.length()===0?Qn:Qn.insert(Xn.value(),Un(Xn))},new hn.default).insert(`
`,Un(this))),this.cache.delta}},{key:"deleteAt",value:function(Qn,Xn){ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"deleteAt",this).call(this,Qn,Xn),this.cache={}}},{key:"formatAt",value:function(Qn,Xn,jr,Wr){Xn<=0||(gn.default.query(jr,gn.default.Scope.BLOCK)?Qn+Xn===this.length()&&this.format(jr,Wr):ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"formatAt",this).call(this,Qn,Math.min(Xn,this.length()-Qn-1),jr,Wr),this.cache={})}},{key:"insertAt",value:function(Qn,Xn,jr){if(jr!=null)return ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"insertAt",this).call(this,Qn,Xn,jr);if(Xn.length!==0){var Wr=Xn.split(`
`),Jr=Wr.shift();Jr.length>0&&(Qn<this.length()-1||this.children.tail==null?ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"insertAt",this).call(this,Math.min(Qn,this.length()-1),Jr):this.children.tail.insertAt(this.children.tail.length(),Jr),this.cache={});var ci=this;Wr.reduce(function(ti,Zr){return ci=ci.split(ti,!0),ci.insertAt(0,Zr),Zr.length},Qn+Jr.length)}}},{key:"insertBefore",value:function(Qn,Xn){var jr=this.children.head;ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"insertBefore",this).call(this,Qn,Xn),jr instanceof _n.default&&jr.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"length",this).call(this)+Tn),this.cache.length}},{key:"moveChildren",value:function(Qn,Xn){ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"moveChildren",this).call(this,Qn,Xn),this.cache={}}},{key:"optimize",value:function(Qn){ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"optimize",this).call(this,Qn),this.cache={}}},{key:"path",value:function(Qn){return ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"path",this).call(this,Qn,!0)}},{key:"removeChild",value:function(Qn){ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"removeChild",this).call(this,Qn),this.cache={}}},{key:"split",value:function(Qn){var Xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Xn&&(Qn===0||Qn>=this.length()-Tn)){var jr=this.clone();return Qn===0?(this.parent.insertBefore(jr,this),this):(this.parent.insertBefore(jr,this.next),jr)}else{var Wr=ln(Yn.prototype.__proto__||Object.getPrototypeOf(Yn.prototype),"split",this).call(this,Qn,Xn);return this.cache={},Wr}}}]),Yn}(gn.default.Block);Hn.blotName="block",Hn.tagName="P",Hn.defaultChild="break",Hn.allowedChildren=[Cn.default,gn.default.Embed,Sn.default];function Un(jn){var Yn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return jn==null||(typeof jn.formats=="function"&&(Yn=(0,un.default)(Yn,jn.formats())),jn.parent==null||jn.parent.blotName=="scroll"||jn.parent.statics.scope!==jn.statics.scope)?Yn:Un(jn.parent,Yn)}nn.bubbleFormats=Un,nn.BlockEmbed=Nn,nn.default=Hn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=nn.overload=nn.expandConfig=void 0;var an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ci){return typeof ci}:function(ci){return ci&&typeof Symbol=="function"&&ci.constructor===Symbol&&ci!==Symbol.prototype?"symbol":typeof ci},ln=function(){function ci(ti,Zr){var Br=[],Jn=!0,oi=!1,pi=void 0;try{for(var ri=ti[Symbol.iterator](),fi;!(Jn=(fi=ri.next()).done)&&(Br.push(fi.value),!(Zr&&Br.length===Zr));Jn=!0);}catch(yi){oi=!0,pi=yi}finally{try{!Jn&&ri.return&&ri.return()}finally{if(oi)throw pi}}return Br}return function(ti,Zr){if(Array.isArray(ti))return ti;if(Symbol.iterator in Object(ti))return ci(ti,Zr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),cn=function(){function ci(ti,Zr){for(var Br=0;Br<Zr.length;Br++){var Jn=Zr[Br];Jn.enumerable=Jn.enumerable||!1,Jn.configurable=!0,"value"in Jn&&(Jn.writable=!0),Object.defineProperty(ti,Jn.key,Jn)}}return function(ti,Zr,Br){return Zr&&ci(ti.prototype,Zr),Br&&ci(ti,Br),ti}}();rn(50);var un=rn(2),fn=Un(un),hn=rn(14),pn=Un(hn),gn=rn(8),mn=Un(gn),_n=rn(9),kn=Un(_n),Cn=rn(0),xn=Un(Cn),Sn=rn(15),Mn=Un(Sn),In=rn(3),On=Un(In),Pn=rn(10),Tn=Un(Pn),Nn=rn(34),Hn=Un(Nn);function Un(ci){return ci&&ci.__esModule?ci:{default:ci}}function jn(ci,ti,Zr){return ti in ci?Object.defineProperty(ci,ti,{value:Zr,enumerable:!0,configurable:!0,writable:!0}):ci[ti]=Zr,ci}function Yn(ci,ti){if(!(ci instanceof ti))throw new TypeError("Cannot call a class as a function")}var Wn=(0,Tn.default)("quill"),Qn=function(){cn(ci,null,[{key:"debug",value:function(Zr){Zr===!0&&(Zr="log"),Tn.default.level(Zr)}},{key:"find",value:function(Zr){return Zr.__quill||xn.default.find(Zr)}},{key:"import",value:function(Zr){return this.imports[Zr]==null&&Wn.error("Cannot import "+Zr+". Are you sure it was registered?"),this.imports[Zr]}},{key:"register",value:function(Zr,Br){var Jn=this,oi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof Zr!="string"){var pi=Zr.attrName||Zr.blotName;typeof pi=="string"?this.register("formats/"+pi,Zr,Br):Object.keys(Zr).forEach(function(ri){Jn.register(ri,Zr[ri],Br)})}else this.imports[Zr]!=null&&!oi&&Wn.warn("Overwriting "+Zr+" with",Br),this.imports[Zr]=Br,(Zr.startsWith("blots/")||Zr.startsWith("formats/"))&&Br.blotName!=="abstract"?xn.default.register(Br):Zr.startsWith("modules")&&typeof Br.register=="function"&&Br.register()}}]);function ci(ti){var Zr=this,Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Yn(this,ci),this.options=Xn(ti,Br),this.container=this.options.container,this.container==null)return Wn.error("Invalid Quill container",ti);this.options.debug&&ci.debug(this.options.debug);var Jn=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new mn.default,this.scroll=xn.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new pn.default(this.scroll),this.selection=new Mn.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(mn.default.events.EDITOR_CHANGE,function(pi){pi===mn.default.events.TEXT_CHANGE&&Zr.root.classList.toggle("ql-blank",Zr.editor.isBlank())}),this.emitter.on(mn.default.events.SCROLL_UPDATE,function(pi,ri){var fi=Zr.selection.lastRange,yi=fi&&fi.length===0?fi.index:void 0;jr.call(Zr,function(){return Zr.editor.update(null,ri,yi)},pi)});var oi=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+Jn+"<p><br></p></div>");this.setContents(oi),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return cn(ci,[{key:"addContainer",value:function(Zr){var Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof Zr=="string"){var Jn=Zr;Zr=document.createElement("div"),Zr.classList.add(Jn)}return this.container.insertBefore(Zr,Br),Zr}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(Zr,Br,Jn){var oi=this,pi=Wr(Zr,Br,Jn),ri=ln(pi,4);return Zr=ri[0],Br=ri[1],Jn=ri[3],jr.call(this,function(){return oi.editor.deleteText(Zr,Br)},Jn,Zr,-1*Br)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var Zr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(Zr),this.container.classList.toggle("ql-disabled",!Zr)}},{key:"focus",value:function(){var Zr=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=Zr,this.scrollIntoView()}},{key:"format",value:function(Zr,Br){var Jn=this,oi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mn.default.sources.API;return jr.call(this,function(){var pi=Jn.getSelection(!0),ri=new fn.default;if(pi==null)return ri;if(xn.default.query(Zr,xn.default.Scope.BLOCK))ri=Jn.editor.formatLine(pi.index,pi.length,jn({},Zr,Br));else{if(pi.length===0)return Jn.selection.format(Zr,Br),ri;ri=Jn.editor.formatText(pi.index,pi.length,jn({},Zr,Br))}return Jn.setSelection(pi,mn.default.sources.SILENT),ri},oi)}},{key:"formatLine",value:function(Zr,Br,Jn,oi,pi){var ri=this,fi=void 0,yi=Wr(Zr,Br,Jn,oi,pi),Si=ln(yi,4);return Zr=Si[0],Br=Si[1],fi=Si[2],pi=Si[3],jr.call(this,function(){return ri.editor.formatLine(Zr,Br,fi)},pi,Zr,0)}},{key:"formatText",value:function(Zr,Br,Jn,oi,pi){var ri=this,fi=void 0,yi=Wr(Zr,Br,Jn,oi,pi),Si=ln(yi,4);return Zr=Si[0],Br=Si[1],fi=Si[2],pi=Si[3],jr.call(this,function(){return ri.editor.formatText(Zr,Br,fi)},pi,Zr,0)}},{key:"getBounds",value:function(Zr){var Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Jn=void 0;typeof Zr=="number"?Jn=this.selection.getBounds(Zr,Br):Jn=this.selection.getBounds(Zr.index,Zr.length);var oi=this.container.getBoundingClientRect();return{bottom:Jn.bottom-oi.top,height:Jn.height,left:Jn.left-oi.left,right:Jn.right-oi.left,top:Jn.top-oi.top,width:Jn.width}}},{key:"getContents",value:function(){var Zr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-Zr,Jn=Wr(Zr,Br),oi=ln(Jn,2);return Zr=oi[0],Br=oi[1],this.editor.getContents(Zr,Br)}},{key:"getFormat",value:function(){var Zr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof Zr=="number"?this.editor.getFormat(Zr,Br):this.editor.getFormat(Zr.index,Zr.length)}},{key:"getIndex",value:function(Zr){return Zr.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(Zr){return this.scroll.leaf(Zr)}},{key:"getLine",value:function(Zr){return this.scroll.line(Zr)}},{key:"getLines",value:function(){var Zr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof Zr!="number"?this.scroll.lines(Zr.index,Zr.length):this.scroll.lines(Zr,Br)}},{key:"getModule",value:function(Zr){return this.theme.modules[Zr]}},{key:"getSelection",value:function(){var Zr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Zr&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var Zr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-Zr,Jn=Wr(Zr,Br),oi=ln(Jn,2);return Zr=oi[0],Br=oi[1],this.editor.getText(Zr,Br)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(Zr,Br,Jn){var oi=this,pi=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ci.sources.API;return jr.call(this,function(){return oi.editor.insertEmbed(Zr,Br,Jn)},pi,Zr)}},{key:"insertText",value:function(Zr,Br,Jn,oi,pi){var ri=this,fi=void 0,yi=Wr(Zr,0,Jn,oi,pi),Si=ln(yi,4);return Zr=Si[0],fi=Si[2],pi=Si[3],jr.call(this,function(){return ri.editor.insertText(Zr,Br,fi)},pi,Zr,Br.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(Zr,Br,Jn){this.clipboard.dangerouslyPasteHTML(Zr,Br,Jn)}},{key:"removeFormat",value:function(Zr,Br,Jn){var oi=this,pi=Wr(Zr,Br,Jn),ri=ln(pi,4);return Zr=ri[0],Br=ri[1],Jn=ri[3],jr.call(this,function(){return oi.editor.removeFormat(Zr,Br)},Jn,Zr)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(Zr){var Br=this,Jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mn.default.sources.API;return jr.call(this,function(){Zr=new fn.default(Zr);var oi=Br.getLength(),pi=Br.editor.deleteText(0,oi),ri=Br.editor.applyDelta(Zr),fi=ri.ops[ri.ops.length-1];fi!=null&&typeof fi.insert=="string"&&fi.insert[fi.insert.length-1]===`
`&&(Br.editor.deleteText(Br.getLength()-1,1),ri.delete(1));var yi=pi.compose(ri);return yi},Jn)}},{key:"setSelection",value:function(Zr,Br,Jn){if(Zr==null)this.selection.setRange(null,Br||ci.sources.API);else{var oi=Wr(Zr,Br,Jn),pi=ln(oi,4);Zr=pi[0],Br=pi[1],Jn=pi[3],this.selection.setRange(new Sn.Range(Zr,Br),Jn),Jn!==mn.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(Zr){var Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mn.default.sources.API,Jn=new fn.default().insert(Zr);return this.setContents(Jn,Br)}},{key:"update",value:function(){var Zr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mn.default.sources.USER,Br=this.scroll.update(Zr);return this.selection.update(Zr),Br}},{key:"updateContents",value:function(Zr){var Br=this,Jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mn.default.sources.API;return jr.call(this,function(){return Zr=new fn.default(Zr),Br.editor.applyDelta(Zr,Jn)},Jn,!0)}}]),ci}();Qn.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},Qn.events=mn.default.events,Qn.sources=mn.default.sources,Qn.version="1.3.7",Qn.imports={delta:fn.default,parchment:xn.default,"core/module":kn.default,"core/theme":Hn.default};function Xn(ci,ti){if(ti=(0,On.default)(!0,{container:ci,modules:{clipboard:!0,keyboard:!0,history:!0}},ti),!ti.theme||ti.theme===Qn.DEFAULTS.theme)ti.theme=Hn.default;else if(ti.theme=Qn.import("themes/"+ti.theme),ti.theme==null)throw new Error("Invalid theme "+ti.theme+". Did you register it?");var Zr=(0,On.default)(!0,{},ti.theme.DEFAULTS);[Zr,ti].forEach(function(oi){oi.modules=oi.modules||{},Object.keys(oi.modules).forEach(function(pi){oi.modules[pi]===!0&&(oi.modules[pi]={})})});var Br=Object.keys(Zr.modules).concat(Object.keys(ti.modules)),Jn=Br.reduce(function(oi,pi){var ri=Qn.import("modules/"+pi);return ri==null?Wn.error("Cannot load "+pi+" module. Are you sure you registered it?"):oi[pi]=ri.DEFAULTS||{},oi},{});return ti.modules!=null&&ti.modules.toolbar&&ti.modules.toolbar.constructor!==Object&&(ti.modules.toolbar={container:ti.modules.toolbar}),ti=(0,On.default)(!0,{},Qn.DEFAULTS,{modules:Jn},Zr,ti),["bounds","container","scrollingContainer"].forEach(function(oi){typeof ti[oi]=="string"&&(ti[oi]=document.querySelector(ti[oi]))}),ti.modules=Object.keys(ti.modules).reduce(function(oi,pi){return ti.modules[pi]&&(oi[pi]=ti.modules[pi]),oi},{}),ti}function jr(ci,ti,Zr,Br){if(this.options.strict&&!this.isEnabled()&&ti===mn.default.sources.USER)return new fn.default;var Jn=Zr==null?null:this.getSelection(),oi=this.editor.delta,pi=ci();if(Jn!=null&&(Zr===!0&&(Zr=Jn.index),Br==null?Jn=Jr(Jn,pi,ti):Br!==0&&(Jn=Jr(Jn,Zr,Br,ti)),this.setSelection(Jn,mn.default.sources.SILENT)),pi.length()>0){var ri,fi=[mn.default.events.TEXT_CHANGE,pi,oi,ti];if((ri=this.emitter).emit.apply(ri,[mn.default.events.EDITOR_CHANGE].concat(fi)),ti!==mn.default.sources.SILENT){var yi;(yi=this.emitter).emit.apply(yi,fi)}}return pi}function Wr(ci,ti,Zr,Br,Jn){var oi={};return typeof ci.index=="number"&&typeof ci.length=="number"?typeof ti!="number"?(Jn=Br,Br=Zr,Zr=ti,ti=ci.length,ci=ci.index):(ti=ci.length,ci=ci.index):typeof ti!="number"&&(Jn=Br,Br=Zr,Zr=ti,ti=0),(typeof Zr>"u"?"undefined":an(Zr))==="object"?(oi=Zr,Jn=Br):typeof Zr=="string"&&(Br!=null?oi[Zr]=Br:Jn=Zr),Jn=Jn||mn.default.sources.API,[ci,ti,oi,Jn]}function Jr(ci,ti,Zr,Br){if(ci==null)return null;var Jn=void 0,oi=void 0;if(ti instanceof fn.default){var pi=[ci.index,ci.index+ci.length].map(function(Si){return ti.transformPosition(Si,Br!==mn.default.sources.USER)}),ri=ln(pi,2);Jn=ri[0],oi=ri[1]}else{var fi=[ci.index,ci.index+ci.length].map(function(Si){return Si<ti||Si===ti&&Br===mn.default.sources.USER?Si:Zr>=0?Si+Zr:Math.max(ti,Si+Zr)}),yi=ln(fi,2);Jn=yi[0],oi=yi[1]}return new Sn.Range(Jn,oi-Jn)}nn.expandConfig=Xn,nn.overload=Wr,nn.default=Qn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function Cn(xn,Sn){for(var Mn=0;Mn<Sn.length;Mn++){var In=Sn[Mn];In.enumerable=In.enumerable||!1,In.configurable=!0,"value"in In&&(In.writable=!0),Object.defineProperty(xn,In.key,In)}}return function(xn,Sn,Mn){return Sn&&Cn(xn.prototype,Sn),Mn&&Cn(xn,Mn),xn}}(),ln=function Cn(xn,Sn,Mn){xn===null&&(xn=Function.prototype);var In=Object.getOwnPropertyDescriptor(xn,Sn);if(In===void 0){var On=Object.getPrototypeOf(xn);return On===null?void 0:Cn(On,Sn,Mn)}else{if("value"in In)return In.value;var Pn=In.get;return Pn===void 0?void 0:Pn.call(Mn)}},cn=rn(7),un=pn(cn),fn=rn(0),hn=pn(fn);function pn(Cn){return Cn&&Cn.__esModule?Cn:{default:Cn}}function gn(Cn,xn){if(!(Cn instanceof xn))throw new TypeError("Cannot call a class as a function")}function mn(Cn,xn){if(!Cn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xn&&(typeof xn=="object"||typeof xn=="function")?xn:Cn}function _n(Cn,xn){if(typeof xn!="function"&&xn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof xn);Cn.prototype=Object.create(xn&&xn.prototype,{constructor:{value:Cn,enumerable:!1,writable:!0,configurable:!0}}),xn&&(Object.setPrototypeOf?Object.setPrototypeOf(Cn,xn):Cn.__proto__=xn)}var kn=function(Cn){_n(xn,Cn);function xn(){return gn(this,xn),mn(this,(xn.__proto__||Object.getPrototypeOf(xn)).apply(this,arguments))}return an(xn,[{key:"formatAt",value:function(Mn,In,On,Pn){if(xn.compare(this.statics.blotName,On)<0&&hn.default.query(On,hn.default.Scope.BLOT)){var Tn=this.isolate(Mn,In);Pn&&Tn.wrap(On,Pn)}else ln(xn.prototype.__proto__||Object.getPrototypeOf(xn.prototype),"formatAt",this).call(this,Mn,In,On,Pn)}},{key:"optimize",value:function(Mn){if(ln(xn.prototype.__proto__||Object.getPrototypeOf(xn.prototype),"optimize",this).call(this,Mn),this.parent instanceof xn&&xn.compare(this.statics.blotName,this.parent.statics.blotName)>0){var In=this.parent.isolate(this.offset(),this.length());this.moveChildren(In),In.wrap(this)}}}],[{key:"compare",value:function(Mn,In){var On=xn.order.indexOf(Mn),Pn=xn.order.indexOf(In);return On>=0||Pn>=0?On-Pn:Mn===In?0:Mn<In?-1:1}}]),xn}(hn.default.Inline);kn.allowedChildren=[kn,hn.default.Embed,un.default],kn.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],nn.default=kn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(0),ln=cn(an);function cn(gn){return gn&&gn.__esModule?gn:{default:gn}}function un(gn,mn){if(!(gn instanceof mn))throw new TypeError("Cannot call a class as a function")}function fn(gn,mn){if(!gn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mn&&(typeof mn=="object"||typeof mn=="function")?mn:gn}function hn(gn,mn){if(typeof mn!="function"&&mn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mn);gn.prototype=Object.create(mn&&mn.prototype,{constructor:{value:gn,enumerable:!1,writable:!0,configurable:!0}}),mn&&(Object.setPrototypeOf?Object.setPrototypeOf(gn,mn):gn.__proto__=mn)}var pn=function(gn){hn(mn,gn);function mn(){return un(this,mn),fn(this,(mn.__proto__||Object.getPrototypeOf(mn)).apply(this,arguments))}return mn}(ln.default.Text);nn.default=pn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function Sn(Mn,In){for(var On=0;On<In.length;On++){var Pn=In[On];Pn.enumerable=Pn.enumerable||!1,Pn.configurable=!0,"value"in Pn&&(Pn.writable=!0),Object.defineProperty(Mn,Pn.key,Pn)}}return function(Mn,In,On){return In&&Sn(Mn.prototype,In),On&&Sn(Mn,On),Mn}}(),ln=function Sn(Mn,In,On){Mn===null&&(Mn=Function.prototype);var Pn=Object.getOwnPropertyDescriptor(Mn,In);if(Pn===void 0){var Tn=Object.getPrototypeOf(Mn);return Tn===null?void 0:Sn(Tn,In,On)}else{if("value"in Pn)return Pn.value;var Nn=Pn.get;return Nn===void 0?void 0:Nn.call(On)}},cn=rn(54),un=pn(cn),fn=rn(10),hn=pn(fn);function pn(Sn){return Sn&&Sn.__esModule?Sn:{default:Sn}}function gn(Sn,Mn){if(!(Sn instanceof Mn))throw new TypeError("Cannot call a class as a function")}function mn(Sn,Mn){if(!Sn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mn&&(typeof Mn=="object"||typeof Mn=="function")?Mn:Sn}function _n(Sn,Mn){if(typeof Mn!="function"&&Mn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Mn);Sn.prototype=Object.create(Mn&&Mn.prototype,{constructor:{value:Sn,enumerable:!1,writable:!0,configurable:!0}}),Mn&&(Object.setPrototypeOf?Object.setPrototypeOf(Sn,Mn):Sn.__proto__=Mn)}var kn=(0,hn.default)("quill:events"),Cn=["selectionchange","mousedown","mouseup","click"];Cn.forEach(function(Sn){document.addEventListener(Sn,function(){for(var Mn=arguments.length,In=Array(Mn),On=0;On<Mn;On++)In[On]=arguments[On];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(Pn){if(Pn.__quill&&Pn.__quill.emitter){var Tn;(Tn=Pn.__quill.emitter).handleDOM.apply(Tn,In)}})})});var xn=function(Sn){_n(Mn,Sn);function Mn(){gn(this,Mn);var In=mn(this,(Mn.__proto__||Object.getPrototypeOf(Mn)).call(this));return In.listeners={},In.on("error",kn.error),In}return an(Mn,[{key:"emit",value:function(){kn.log.apply(kn,arguments),ln(Mn.prototype.__proto__||Object.getPrototypeOf(Mn.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(On){for(var Pn=arguments.length,Tn=Array(Pn>1?Pn-1:0),Nn=1;Nn<Pn;Nn++)Tn[Nn-1]=arguments[Nn];(this.listeners[On.type]||[]).forEach(function(Hn){var Un=Hn.node,jn=Hn.handler;(On.target===Un||Un.contains(On.target))&&jn.apply(void 0,[On].concat(Tn))})}},{key:"listenDOM",value:function(On,Pn,Tn){this.listeners[On]||(this.listeners[On]=[]),this.listeners[On].push({node:Pn,handler:Tn})}}]),Mn}(un.default);xn.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},xn.sources={API:"api",SILENT:"silent",USER:"user"},nn.default=xn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});function an(cn,un){if(!(cn instanceof un))throw new TypeError("Cannot call a class as a function")}var ln=function cn(un){var fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};an(this,cn),this.quill=un,this.options=fn};ln.DEFAULTS={},nn.default=ln},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=["error","warn","log","info"],ln="warn";function cn(fn){if(an.indexOf(fn)<=an.indexOf(ln)){for(var hn,pn=arguments.length,gn=Array(pn>1?pn-1:0),mn=1;mn<pn;mn++)gn[mn-1]=arguments[mn];(hn=console)[fn].apply(hn,gn)}}function un(fn){return an.reduce(function(hn,pn){return hn[pn]=cn.bind(console,pn,fn),hn},{})}cn.level=un.level=function(fn){ln=fn},nn.default=un},function(tn,nn,rn){var an=Array.prototype.slice,ln=rn(52),cn=rn(53),un=tn.exports=function(gn,mn,_n){return _n||(_n={}),gn===mn?!0:gn instanceof Date&&mn instanceof Date?gn.getTime()===mn.getTime():!gn||!mn||typeof gn!="object"&&typeof mn!="object"?_n.strict?gn===mn:gn==mn:pn(gn,mn,_n)};function fn(gn){return gn==null}function hn(gn){return!(!gn||typeof gn!="object"||typeof gn.length!="number"||typeof gn.copy!="function"||typeof gn.slice!="function"||gn.length>0&&typeof gn[0]!="number")}function pn(gn,mn,_n){var kn,Cn;if(fn(gn)||fn(mn)||gn.prototype!==mn.prototype)return!1;if(cn(gn))return cn(mn)?(gn=an.call(gn),mn=an.call(mn),un(gn,mn,_n)):!1;if(hn(gn)){if(!hn(mn)||gn.length!==mn.length)return!1;for(kn=0;kn<gn.length;kn++)if(gn[kn]!==mn[kn])return!1;return!0}try{var xn=ln(gn),Sn=ln(mn)}catch{return!1}if(xn.length!=Sn.length)return!1;for(xn.sort(),Sn.sort(),kn=xn.length-1;kn>=0;kn--)if(xn[kn]!=Sn[kn])return!1;for(kn=xn.length-1;kn>=0;kn--)if(Cn=xn[kn],!un(gn[Cn],mn[Cn],_n))return!1;return typeof gn==typeof mn}},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(1),ln=function(){function cn(un,fn,hn){hn===void 0&&(hn={}),this.attrName=un,this.keyName=fn;var pn=an.Scope.TYPE&an.Scope.ATTRIBUTE;hn.scope!=null?this.scope=hn.scope&an.Scope.LEVEL|pn:this.scope=an.Scope.ATTRIBUTE,hn.whitelist!=null&&(this.whitelist=hn.whitelist)}return cn.keys=function(un){return[].map.call(un.attributes,function(fn){return fn.name})},cn.prototype.add=function(un,fn){return this.canAdd(un,fn)?(un.setAttribute(this.keyName,fn),!0):!1},cn.prototype.canAdd=function(un,fn){var hn=an.query(un,an.Scope.BLOT&(this.scope|an.Scope.TYPE));return hn==null?!1:this.whitelist==null?!0:typeof fn=="string"?this.whitelist.indexOf(fn.replace(/["']/g,""))>-1:this.whitelist.indexOf(fn)>-1},cn.prototype.remove=function(un){un.removeAttribute(this.keyName)},cn.prototype.value=function(un){var fn=un.getAttribute(this.keyName);return this.canAdd(un,fn)&&fn?fn:""},cn}();nn.default=ln},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=nn.Code=void 0;var an=function(){function Nn(Hn,Un){var jn=[],Yn=!0,Wn=!1,Qn=void 0;try{for(var Xn=Hn[Symbol.iterator](),jr;!(Yn=(jr=Xn.next()).done)&&(jn.push(jr.value),!(Un&&jn.length===Un));Yn=!0);}catch(Wr){Wn=!0,Qn=Wr}finally{try{!Yn&&Xn.return&&Xn.return()}finally{if(Wn)throw Qn}}return jn}return function(Hn,Un){if(Array.isArray(Hn))return Hn;if(Symbol.iterator in Object(Hn))return Nn(Hn,Un);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ln=function(){function Nn(Hn,Un){for(var jn=0;jn<Un.length;jn++){var Yn=Un[jn];Yn.enumerable=Yn.enumerable||!1,Yn.configurable=!0,"value"in Yn&&(Yn.writable=!0),Object.defineProperty(Hn,Yn.key,Yn)}}return function(Hn,Un,jn){return Un&&Nn(Hn.prototype,Un),jn&&Nn(Hn,jn),Hn}}(),cn=function Nn(Hn,Un,jn){Hn===null&&(Hn=Function.prototype);var Yn=Object.getOwnPropertyDescriptor(Hn,Un);if(Yn===void 0){var Wn=Object.getPrototypeOf(Hn);return Wn===null?void 0:Nn(Wn,Un,jn)}else{if("value"in Yn)return Yn.value;var Qn=Yn.get;return Qn===void 0?void 0:Qn.call(jn)}},un=rn(2),fn=Sn(un),hn=rn(0),pn=Sn(hn),gn=rn(4),mn=Sn(gn),_n=rn(6),kn=Sn(_n),Cn=rn(7),xn=Sn(Cn);function Sn(Nn){return Nn&&Nn.__esModule?Nn:{default:Nn}}function Mn(Nn,Hn){if(!(Nn instanceof Hn))throw new TypeError("Cannot call a class as a function")}function In(Nn,Hn){if(!Nn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Hn&&(typeof Hn=="object"||typeof Hn=="function")?Hn:Nn}function On(Nn,Hn){if(typeof Hn!="function"&&Hn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Hn);Nn.prototype=Object.create(Hn&&Hn.prototype,{constructor:{value:Nn,enumerable:!1,writable:!0,configurable:!0}}),Hn&&(Object.setPrototypeOf?Object.setPrototypeOf(Nn,Hn):Nn.__proto__=Hn)}var Pn=function(Nn){On(Hn,Nn);function Hn(){return Mn(this,Hn),In(this,(Hn.__proto__||Object.getPrototypeOf(Hn)).apply(this,arguments))}return Hn}(kn.default);Pn.blotName="code",Pn.tagName="CODE";var Tn=function(Nn){On(Hn,Nn);function Hn(){return Mn(this,Hn),In(this,(Hn.__proto__||Object.getPrototypeOf(Hn)).apply(this,arguments))}return ln(Hn,[{key:"delta",value:function(){var jn=this,Yn=this.domNode.textContent;return Yn.endsWith(`
`)&&(Yn=Yn.slice(0,-1)),Yn.split(`
`).reduce(function(Wn,Qn){return Wn.insert(Qn).insert(`
`,jn.formats())},new fn.default)}},{key:"format",value:function(jn,Yn){if(!(jn===this.statics.blotName&&Yn)){var Wn=this.descendant(xn.default,this.length()-1),Qn=an(Wn,1),Xn=Qn[0];Xn!=null&&Xn.deleteAt(Xn.length()-1,1),cn(Hn.prototype.__proto__||Object.getPrototypeOf(Hn.prototype),"format",this).call(this,jn,Yn)}}},{key:"formatAt",value:function(jn,Yn,Wn,Qn){if(Yn!==0&&!(pn.default.query(Wn,pn.default.Scope.BLOCK)==null||Wn===this.statics.blotName&&Qn===this.statics.formats(this.domNode))){var Xn=this.newlineIndex(jn);if(!(Xn<0||Xn>=jn+Yn)){var jr=this.newlineIndex(jn,!0)+1,Wr=Xn-jr+1,Jr=this.isolate(jr,Wr),ci=Jr.next;Jr.format(Wn,Qn),ci instanceof Hn&&ci.formatAt(0,jn-jr+Yn-Wr,Wn,Qn)}}}},{key:"insertAt",value:function(jn,Yn,Wn){if(Wn==null){var Qn=this.descendant(xn.default,jn),Xn=an(Qn,2),jr=Xn[0],Wr=Xn[1];jr.insertAt(Wr,Yn)}}},{key:"length",value:function(){var jn=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?jn:jn+1}},{key:"newlineIndex",value:function(jn){var Yn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Yn)return this.domNode.textContent.slice(0,jn).lastIndexOf(`
`);var Wn=this.domNode.textContent.slice(jn).indexOf(`
`);return Wn>-1?jn+Wn:-1}},{key:"optimize",value:function(jn){this.domNode.textContent.endsWith(`
`)||this.appendChild(pn.default.create("text",`
`)),cn(Hn.prototype.__proto__||Object.getPrototypeOf(Hn.prototype),"optimize",this).call(this,jn);var Yn=this.next;Yn!=null&&Yn.prev===this&&Yn.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===Yn.statics.formats(Yn.domNode)&&(Yn.optimize(jn),Yn.moveChildren(this),Yn.remove())}},{key:"replace",value:function(jn){cn(Hn.prototype.__proto__||Object.getPrototypeOf(Hn.prototype),"replace",this).call(this,jn),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(Yn){var Wn=pn.default.find(Yn);Wn==null?Yn.parentNode.removeChild(Yn):Wn instanceof pn.default.Embed?Wn.remove():Wn.unwrap()})}}],[{key:"create",value:function(jn){var Yn=cn(Hn.__proto__||Object.getPrototypeOf(Hn),"create",this).call(this,jn);return Yn.setAttribute("spellcheck",!1),Yn}},{key:"formats",value:function(){return!0}}]),Hn}(mn.default);Tn.blotName="code-block",Tn.tagName="PRE",Tn.TAB="  ",nn.Code=Pn,nn.default=Tn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ci){return typeof ci}:function(ci){return ci&&typeof Symbol=="function"&&ci.constructor===Symbol&&ci!==Symbol.prototype?"symbol":typeof ci},ln=function(){function ci(ti,Zr){var Br=[],Jn=!0,oi=!1,pi=void 0;try{for(var ri=ti[Symbol.iterator](),fi;!(Jn=(fi=ri.next()).done)&&(Br.push(fi.value),!(Zr&&Br.length===Zr));Jn=!0);}catch(yi){oi=!0,pi=yi}finally{try{!Jn&&ri.return&&ri.return()}finally{if(oi)throw pi}}return Br}return function(ti,Zr){if(Array.isArray(ti))return ti;if(Symbol.iterator in Object(ti))return ci(ti,Zr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),cn=function(){function ci(ti,Zr){for(var Br=0;Br<Zr.length;Br++){var Jn=Zr[Br];Jn.enumerable=Jn.enumerable||!1,Jn.configurable=!0,"value"in Jn&&(Jn.writable=!0),Object.defineProperty(ti,Jn.key,Jn)}}return function(ti,Zr,Br){return Zr&&ci(ti.prototype,Zr),Br&&ci(ti,Br),ti}}(),un=rn(2),fn=Yn(un),hn=rn(20),pn=Yn(hn),gn=rn(0),mn=Yn(gn),_n=rn(13),kn=Yn(_n),Cn=rn(24),xn=Yn(Cn),Sn=rn(4),Mn=Yn(Sn),In=rn(16),On=Yn(In),Pn=rn(21),Tn=Yn(Pn),Nn=rn(11),Hn=Yn(Nn),Un=rn(3),jn=Yn(Un);function Yn(ci){return ci&&ci.__esModule?ci:{default:ci}}function Wn(ci,ti,Zr){return ti in ci?Object.defineProperty(ci,ti,{value:Zr,enumerable:!0,configurable:!0,writable:!0}):ci[ti]=Zr,ci}function Qn(ci,ti){if(!(ci instanceof ti))throw new TypeError("Cannot call a class as a function")}var Xn=/^[ -~]*$/,jr=function(){function ci(ti){Qn(this,ci),this.scroll=ti,this.delta=this.getDelta()}return cn(ci,[{key:"applyDelta",value:function(Zr){var Br=this,Jn=!1;this.scroll.update();var oi=this.scroll.length();return this.scroll.batchStart(),Zr=Jr(Zr),Zr.reduce(function(pi,ri){var fi=ri.retain||ri.delete||ri.insert.length||1,yi=ri.attributes||{};if(ri.insert!=null){if(typeof ri.insert=="string"){var Si=ri.insert;Si.endsWith(`
`)&&Jn&&(Jn=!1,Si=Si.slice(0,-1)),pi>=oi&&!Si.endsWith(`
`)&&(Jn=!0),Br.scroll.insertAt(pi,Si);var Pi=Br.scroll.line(pi),Ui=ln(Pi,2),ji=Ui[0],go=Ui[1],po=(0,jn.default)({},(0,Sn.bubbleFormats)(ji));if(ji instanceof Mn.default){var Yi=ji.descendant(mn.default.Leaf,go),Fo=ln(Yi,1),Po=Fo[0];po=(0,jn.default)(po,(0,Sn.bubbleFormats)(Po))}yi=pn.default.attributes.diff(po,yi)||{}}else if(an(ri.insert)==="object"){var Oi=Object.keys(ri.insert)[0];if(Oi==null)return pi;Br.scroll.insertAt(pi,Oi,ri.insert[Oi])}oi+=fi}return Object.keys(yi).forEach(function(Wi){Br.scroll.formatAt(pi,fi,Wi,yi[Wi])}),pi+fi},0),Zr.reduce(function(pi,ri){return typeof ri.delete=="number"?(Br.scroll.deleteAt(pi,ri.delete),pi):pi+(ri.retain||ri.insert.length||1)},0),this.scroll.batchEnd(),this.update(Zr)}},{key:"deleteText",value:function(Zr,Br){return this.scroll.deleteAt(Zr,Br),this.update(new fn.default().retain(Zr).delete(Br))}},{key:"formatLine",value:function(Zr,Br){var Jn=this,oi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(oi).forEach(function(pi){if(!(Jn.scroll.whitelist!=null&&!Jn.scroll.whitelist[pi])){var ri=Jn.scroll.lines(Zr,Math.max(Br,1)),fi=Br;ri.forEach(function(yi){var Si=yi.length();if(!(yi instanceof kn.default))yi.format(pi,oi[pi]);else{var Pi=Zr-yi.offset(Jn.scroll),Ui=yi.newlineIndex(Pi+fi)-Pi+1;yi.formatAt(Pi,Ui,pi,oi[pi])}fi-=Si})}}),this.scroll.optimize(),this.update(new fn.default().retain(Zr).retain(Br,(0,Tn.default)(oi)))}},{key:"formatText",value:function(Zr,Br){var Jn=this,oi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(oi).forEach(function(pi){Jn.scroll.formatAt(Zr,Br,pi,oi[pi])}),this.update(new fn.default().retain(Zr).retain(Br,(0,Tn.default)(oi)))}},{key:"getContents",value:function(Zr,Br){return this.delta.slice(Zr,Zr+Br)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(Zr,Br){return Zr.concat(Br.delta())},new fn.default)}},{key:"getFormat",value:function(Zr){var Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Jn=[],oi=[];Br===0?this.scroll.path(Zr).forEach(function(ri){var fi=ln(ri,1),yi=fi[0];yi instanceof Mn.default?Jn.push(yi):yi instanceof mn.default.Leaf&&oi.push(yi)}):(Jn=this.scroll.lines(Zr,Br),oi=this.scroll.descendants(mn.default.Leaf,Zr,Br));var pi=[Jn,oi].map(function(ri){if(ri.length===0)return{};for(var fi=(0,Sn.bubbleFormats)(ri.shift());Object.keys(fi).length>0;){var yi=ri.shift();if(yi==null)return fi;fi=Wr((0,Sn.bubbleFormats)(yi),fi)}return fi});return jn.default.apply(jn.default,pi)}},{key:"getText",value:function(Zr,Br){return this.getContents(Zr,Br).filter(function(Jn){return typeof Jn.insert=="string"}).map(function(Jn){return Jn.insert}).join("")}},{key:"insertEmbed",value:function(Zr,Br,Jn){return this.scroll.insertAt(Zr,Br,Jn),this.update(new fn.default().retain(Zr).insert(Wn({},Br,Jn)))}},{key:"insertText",value:function(Zr,Br){var Jn=this,oi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Br=Br.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(Zr,Br),Object.keys(oi).forEach(function(pi){Jn.scroll.formatAt(Zr,Br.length,pi,oi[pi])}),this.update(new fn.default().retain(Zr).insert(Br,(0,Tn.default)(oi)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var Zr=this.scroll.children.head;return Zr.statics.blotName!==Mn.default.blotName||Zr.children.length>1?!1:Zr.children.head instanceof On.default}},{key:"removeFormat",value:function(Zr,Br){var Jn=this.getText(Zr,Br),oi=this.scroll.line(Zr+Br),pi=ln(oi,2),ri=pi[0],fi=pi[1],yi=0,Si=new fn.default;ri!=null&&(ri instanceof kn.default?yi=ri.newlineIndex(fi)-fi+1:yi=ri.length()-fi,Si=ri.delta().slice(fi,fi+yi-1).insert(`
`));var Pi=this.getContents(Zr,Br+yi),Ui=Pi.diff(new fn.default().insert(Jn).concat(Si)),ji=new fn.default().retain(Zr).concat(Ui);return this.applyDelta(ji)}},{key:"update",value:function(Zr){var Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Jn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,oi=this.delta;if(Br.length===1&&Br[0].type==="characterData"&&Br[0].target.data.match(Xn)&&mn.default.find(Br[0].target)){var pi=mn.default.find(Br[0].target),ri=(0,Sn.bubbleFormats)(pi),fi=pi.offset(this.scroll),yi=Br[0].oldValue.replace(xn.default.CONTENTS,""),Si=new fn.default().insert(yi),Pi=new fn.default().insert(pi.value()),Ui=new fn.default().retain(fi).concat(Si.diff(Pi,Jn));Zr=Ui.reduce(function(ji,go){return go.insert?ji.insert(go.insert,ri):ji.push(go)},new fn.default),this.delta=oi.compose(Zr)}else this.delta=this.getDelta(),(!Zr||!(0,Hn.default)(oi.compose(Zr),this.delta))&&(Zr=oi.diff(this.delta,Jn));return Zr}}]),ci}();function Wr(ci,ti){return Object.keys(ti).reduce(function(Zr,Br){return ci[Br]==null||(ti[Br]===ci[Br]?Zr[Br]=ti[Br]:Array.isArray(ti[Br])?ti[Br].indexOf(ci[Br])<0&&(Zr[Br]=ti[Br].concat([ci[Br]])):Zr[Br]=[ti[Br],ci[Br]]),Zr},{})}function Jr(ci){return ci.reduce(function(ti,Zr){if(Zr.insert===1){var Br=(0,Tn.default)(Zr.attributes);return delete Br.image,ti.insert({image:Zr.attributes.image},Br)}if(Zr.attributes!=null&&(Zr.attributes.list===!0||Zr.attributes.bullet===!0)&&(Zr=(0,Tn.default)(Zr),Zr.attributes.list?Zr.attributes.list="ordered":(Zr.attributes.list="bullet",delete Zr.attributes.bullet)),typeof Zr.insert=="string"){var Jn=Zr.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return ti.insert(Jn,Zr.attributes)}return ti.push(Zr)},new fn.default)}nn.default=jr},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=nn.Range=void 0;var an=function(){function Nn(Hn,Un){var jn=[],Yn=!0,Wn=!1,Qn=void 0;try{for(var Xn=Hn[Symbol.iterator](),jr;!(Yn=(jr=Xn.next()).done)&&(jn.push(jr.value),!(Un&&jn.length===Un));Yn=!0);}catch(Wr){Wn=!0,Qn=Wr}finally{try{!Yn&&Xn.return&&Xn.return()}finally{if(Wn)throw Qn}}return jn}return function(Hn,Un){if(Array.isArray(Hn))return Hn;if(Symbol.iterator in Object(Hn))return Nn(Hn,Un);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ln=function(){function Nn(Hn,Un){for(var jn=0;jn<Un.length;jn++){var Yn=Un[jn];Yn.enumerable=Yn.enumerable||!1,Yn.configurable=!0,"value"in Yn&&(Yn.writable=!0),Object.defineProperty(Hn,Yn.key,Yn)}}return function(Hn,Un,jn){return Un&&Nn(Hn.prototype,Un),jn&&Nn(Hn,jn),Hn}}(),cn=rn(0),un=xn(cn),fn=rn(21),hn=xn(fn),pn=rn(11),gn=xn(pn),mn=rn(8),_n=xn(mn),kn=rn(10),Cn=xn(kn);function xn(Nn){return Nn&&Nn.__esModule?Nn:{default:Nn}}function Sn(Nn){if(Array.isArray(Nn)){for(var Hn=0,Un=Array(Nn.length);Hn<Nn.length;Hn++)Un[Hn]=Nn[Hn];return Un}else return Array.from(Nn)}function Mn(Nn,Hn){if(!(Nn instanceof Hn))throw new TypeError("Cannot call a class as a function")}var In=(0,Cn.default)("quill:selection"),On=function Nn(Hn){var Un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Mn(this,Nn),this.index=Hn,this.length=Un},Pn=function(){function Nn(Hn,Un){var jn=this;Mn(this,Nn),this.emitter=Un,this.scroll=Hn,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=un.default.create("cursor",this),this.lastRange=this.savedRange=new On(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){jn.mouseDown||setTimeout(jn.update.bind(jn,_n.default.sources.USER),1)}),this.emitter.on(_n.default.events.EDITOR_CHANGE,function(Yn,Wn){Yn===_n.default.events.TEXT_CHANGE&&Wn.length()>0&&jn.update(_n.default.sources.SILENT)}),this.emitter.on(_n.default.events.SCROLL_BEFORE_UPDATE,function(){if(jn.hasFocus()){var Yn=jn.getNativeRange();Yn!=null&&Yn.start.node!==jn.cursor.textNode&&jn.emitter.once(_n.default.events.SCROLL_UPDATE,function(){try{jn.setNativeRange(Yn.start.node,Yn.start.offset,Yn.end.node,Yn.end.offset)}catch{}})}}),this.emitter.on(_n.default.events.SCROLL_OPTIMIZE,function(Yn,Wn){if(Wn.range){var Qn=Wn.range,Xn=Qn.startNode,jr=Qn.startOffset,Wr=Qn.endNode,Jr=Qn.endOffset;jn.setNativeRange(Xn,jr,Wr,Jr)}}),this.update(_n.default.sources.SILENT)}return ln(Nn,[{key:"handleComposition",value:function(){var Un=this;this.root.addEventListener("compositionstart",function(){Un.composing=!0}),this.root.addEventListener("compositionend",function(){if(Un.composing=!1,Un.cursor.parent){var jn=Un.cursor.restore();if(!jn)return;setTimeout(function(){Un.setNativeRange(jn.startNode,jn.startOffset,jn.endNode,jn.endOffset)},1)}})}},{key:"handleDragging",value:function(){var Un=this;this.emitter.listenDOM("mousedown",document.body,function(){Un.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){Un.mouseDown=!1,Un.update(_n.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(Un,jn){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[Un])){this.scroll.update();var Yn=this.getNativeRange();if(!(Yn==null||!Yn.native.collapsed||un.default.query(Un,un.default.Scope.BLOCK))){if(Yn.start.node!==this.cursor.textNode){var Wn=un.default.find(Yn.start.node,!1);if(Wn==null)return;if(Wn instanceof un.default.Leaf){var Qn=Wn.split(Yn.start.offset);Wn.parent.insertBefore(this.cursor,Qn)}else Wn.insertBefore(this.cursor,Yn.start.node);this.cursor.attach()}this.cursor.format(Un,jn),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(Un){var jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Yn=this.scroll.length();Un=Math.min(Un,Yn-1),jn=Math.min(Un+jn,Yn-1)-Un;var Wn=void 0,Qn=this.scroll.leaf(Un),Xn=an(Qn,2),jr=Xn[0],Wr=Xn[1];if(jr==null)return null;var Jr=jr.position(Wr,!0),ci=an(Jr,2);Wn=ci[0],Wr=ci[1];var ti=document.createRange();if(jn>0){ti.setStart(Wn,Wr);var Zr=this.scroll.leaf(Un+jn),Br=an(Zr,2);if(jr=Br[0],Wr=Br[1],jr==null)return null;var Jn=jr.position(Wr,!0),oi=an(Jn,2);return Wn=oi[0],Wr=oi[1],ti.setEnd(Wn,Wr),ti.getBoundingClientRect()}else{var pi="left",ri=void 0;return Wn instanceof Text?(Wr<Wn.data.length?(ti.setStart(Wn,Wr),ti.setEnd(Wn,Wr+1)):(ti.setStart(Wn,Wr-1),ti.setEnd(Wn,Wr),pi="right"),ri=ti.getBoundingClientRect()):(ri=jr.domNode.getBoundingClientRect(),Wr>0&&(pi="right")),{bottom:ri.top+ri.height,height:ri.height,left:ri[pi],right:ri[pi],top:ri.top,width:0}}}},{key:"getNativeRange",value:function(){var Un=document.getSelection();if(Un==null||Un.rangeCount<=0)return null;var jn=Un.getRangeAt(0);if(jn==null)return null;var Yn=this.normalizeNative(jn);return In.info("getNativeRange",Yn),Yn}},{key:"getRange",value:function(){var Un=this.getNativeRange();if(Un==null)return[null,null];var jn=this.normalizedToRange(Un);return[jn,Un]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(Un){var jn=this,Yn=[[Un.start.node,Un.start.offset]];Un.native.collapsed||Yn.push([Un.end.node,Un.end.offset]);var Wn=Yn.map(function(jr){var Wr=an(jr,2),Jr=Wr[0],ci=Wr[1],ti=un.default.find(Jr,!0),Zr=ti.offset(jn.scroll);return ci===0?Zr:ti instanceof un.default.Container?Zr+ti.length():Zr+ti.index(Jr,ci)}),Qn=Math.min(Math.max.apply(Math,Sn(Wn)),this.scroll.length()-1),Xn=Math.min.apply(Math,[Qn].concat(Sn(Wn)));return new On(Xn,Qn-Xn)}},{key:"normalizeNative",value:function(Un){if(!Tn(this.root,Un.startContainer)||!Un.collapsed&&!Tn(this.root,Un.endContainer))return null;var jn={start:{node:Un.startContainer,offset:Un.startOffset},end:{node:Un.endContainer,offset:Un.endOffset},native:Un};return[jn.start,jn.end].forEach(function(Yn){for(var Wn=Yn.node,Qn=Yn.offset;!(Wn instanceof Text)&&Wn.childNodes.length>0;)if(Wn.childNodes.length>Qn)Wn=Wn.childNodes[Qn],Qn=0;else if(Wn.childNodes.length===Qn)Wn=Wn.lastChild,Qn=Wn instanceof Text?Wn.data.length:Wn.childNodes.length+1;else break;Yn.node=Wn,Yn.offset=Qn}),jn}},{key:"rangeToNative",value:function(Un){var jn=this,Yn=Un.collapsed?[Un.index]:[Un.index,Un.index+Un.length],Wn=[],Qn=this.scroll.length();return Yn.forEach(function(Xn,jr){Xn=Math.min(Qn-1,Xn);var Wr=void 0,Jr=jn.scroll.leaf(Xn),ci=an(Jr,2),ti=ci[0],Zr=ci[1],Br=ti.position(Zr,jr!==0),Jn=an(Br,2);Wr=Jn[0],Zr=Jn[1],Wn.push(Wr,Zr)}),Wn.length<2&&(Wn=Wn.concat(Wn)),Wn}},{key:"scrollIntoView",value:function(Un){var jn=this.lastRange;if(jn!=null){var Yn=this.getBounds(jn.index,jn.length);if(Yn!=null){var Wn=this.scroll.length()-1,Qn=this.scroll.line(Math.min(jn.index,Wn)),Xn=an(Qn,1),jr=Xn[0],Wr=jr;if(jn.length>0){var Jr=this.scroll.line(Math.min(jn.index+jn.length,Wn)),ci=an(Jr,1);Wr=ci[0]}if(!(jr==null||Wr==null)){var ti=Un.getBoundingClientRect();Yn.top<ti.top?Un.scrollTop-=ti.top-Yn.top:Yn.bottom>ti.bottom&&(Un.scrollTop+=Yn.bottom-ti.bottom)}}}}},{key:"setNativeRange",value:function(Un,jn){var Yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Un,Wn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:jn,Qn=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(In.info("setNativeRange",Un,jn,Yn,Wn),!(Un!=null&&(this.root.parentNode==null||Un.parentNode==null||Yn.parentNode==null))){var Xn=document.getSelection();if(Xn!=null)if(Un!=null){this.hasFocus()||this.root.focus();var jr=(this.getNativeRange()||{}).native;if(jr==null||Qn||Un!==jr.startContainer||jn!==jr.startOffset||Yn!==jr.endContainer||Wn!==jr.endOffset){Un.tagName=="BR"&&(jn=[].indexOf.call(Un.parentNode.childNodes,Un),Un=Un.parentNode),Yn.tagName=="BR"&&(Wn=[].indexOf.call(Yn.parentNode.childNodes,Yn),Yn=Yn.parentNode);var Wr=document.createRange();Wr.setStart(Un,jn),Wr.setEnd(Yn,Wn),Xn.removeAllRanges(),Xn.addRange(Wr)}}else Xn.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(Un){var jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_n.default.sources.API;if(typeof jn=="string"&&(Yn=jn,jn=!1),In.info("setRange",Un),Un!=null){var Wn=this.rangeToNative(Un);this.setNativeRange.apply(this,Sn(Wn).concat([jn]))}else this.setNativeRange(null);this.update(Yn)}},{key:"update",value:function(){var Un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_n.default.sources.USER,jn=this.lastRange,Yn=this.getRange(),Wn=an(Yn,2),Qn=Wn[0],Xn=Wn[1];if(this.lastRange=Qn,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,gn.default)(jn,this.lastRange)){var jr;!this.composing&&Xn!=null&&Xn.native.collapsed&&Xn.start.node!==this.cursor.textNode&&this.cursor.restore();var Wr=[_n.default.events.SELECTION_CHANGE,(0,hn.default)(this.lastRange),(0,hn.default)(jn),Un];if((jr=this.emitter).emit.apply(jr,[_n.default.events.EDITOR_CHANGE].concat(Wr)),Un!==_n.default.sources.SILENT){var Jr;(Jr=this.emitter).emit.apply(Jr,Wr)}}}}]),Nn}();function Tn(Nn,Hn){try{Hn.parentNode}catch{return!1}return Hn instanceof Text&&(Hn=Hn.parentNode),Nn.contains(Hn)}nn.Range=On,nn.default=Pn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function _n(kn,Cn){for(var xn=0;xn<Cn.length;xn++){var Sn=Cn[xn];Sn.enumerable=Sn.enumerable||!1,Sn.configurable=!0,"value"in Sn&&(Sn.writable=!0),Object.defineProperty(kn,Sn.key,Sn)}}return function(kn,Cn,xn){return Cn&&_n(kn.prototype,Cn),xn&&_n(kn,xn),kn}}(),ln=function _n(kn,Cn,xn){kn===null&&(kn=Function.prototype);var Sn=Object.getOwnPropertyDescriptor(kn,Cn);if(Sn===void 0){var Mn=Object.getPrototypeOf(kn);return Mn===null?void 0:_n(Mn,Cn,xn)}else{if("value"in Sn)return Sn.value;var In=Sn.get;return In===void 0?void 0:In.call(xn)}},cn=rn(0),un=fn(cn);function fn(_n){return _n&&_n.__esModule?_n:{default:_n}}function hn(_n,kn){if(!(_n instanceof kn))throw new TypeError("Cannot call a class as a function")}function pn(_n,kn){if(!_n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kn&&(typeof kn=="object"||typeof kn=="function")?kn:_n}function gn(_n,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kn);_n.prototype=Object.create(kn&&kn.prototype,{constructor:{value:_n,enumerable:!1,writable:!0,configurable:!0}}),kn&&(Object.setPrototypeOf?Object.setPrototypeOf(_n,kn):_n.__proto__=kn)}var mn=function(_n){gn(kn,_n);function kn(){return hn(this,kn),pn(this,(kn.__proto__||Object.getPrototypeOf(kn)).apply(this,arguments))}return an(kn,[{key:"insertInto",value:function(xn,Sn){xn.children.length===0?ln(kn.prototype.__proto__||Object.getPrototypeOf(kn.prototype),"insertInto",this).call(this,xn,Sn):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),kn}(un.default.Embed);mn.blotName="break",mn.tagName="BR",nn.default=mn},function(tn,nn,rn){var an=this&&this.__extends||function(){var pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gn,mn){gn.__proto__=mn}||function(gn,mn){for(var _n in mn)mn.hasOwnProperty(_n)&&(gn[_n]=mn[_n])};return function(gn,mn){pn(gn,mn);function _n(){this.constructor=gn}gn.prototype=mn===null?Object.create(mn):(_n.prototype=mn.prototype,new _n)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(44),cn=rn(30),un=rn(1),fn=function(pn){an(gn,pn);function gn(mn){var _n=pn.call(this,mn)||this;return _n.build(),_n}return gn.prototype.appendChild=function(mn){this.insertBefore(mn)},gn.prototype.attach=function(){pn.prototype.attach.call(this),this.children.forEach(function(mn){mn.attach()})},gn.prototype.build=function(){var mn=this;this.children=new ln.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_n){try{var kn=hn(_n);mn.insertBefore(kn,mn.children.head||void 0)}catch(Cn){if(Cn instanceof un.ParchmentError)return;throw Cn}})},gn.prototype.deleteAt=function(mn,_n){if(mn===0&&_n===this.length())return this.remove();this.children.forEachAt(mn,_n,function(kn,Cn,xn){kn.deleteAt(Cn,xn)})},gn.prototype.descendant=function(mn,_n){var kn=this.children.find(_n),Cn=kn[0],xn=kn[1];return mn.blotName==null&&mn(Cn)||mn.blotName!=null&&Cn instanceof mn?[Cn,xn]:Cn instanceof gn?Cn.descendant(mn,xn):[null,-1]},gn.prototype.descendants=function(mn,_n,kn){_n===void 0&&(_n=0),kn===void 0&&(kn=Number.MAX_VALUE);var Cn=[],xn=kn;return this.children.forEachAt(_n,kn,function(Sn,Mn,In){(mn.blotName==null&&mn(Sn)||mn.blotName!=null&&Sn instanceof mn)&&Cn.push(Sn),Sn instanceof gn&&(Cn=Cn.concat(Sn.descendants(mn,Mn,xn))),xn-=In}),Cn},gn.prototype.detach=function(){this.children.forEach(function(mn){mn.detach()}),pn.prototype.detach.call(this)},gn.prototype.formatAt=function(mn,_n,kn,Cn){this.children.forEachAt(mn,_n,function(xn,Sn,Mn){xn.formatAt(Sn,Mn,kn,Cn)})},gn.prototype.insertAt=function(mn,_n,kn){var Cn=this.children.find(mn),xn=Cn[0],Sn=Cn[1];if(xn)xn.insertAt(Sn,_n,kn);else{var Mn=kn==null?un.create("text",_n):un.create(_n,kn);this.appendChild(Mn)}},gn.prototype.insertBefore=function(mn,_n){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(kn){return mn instanceof kn}))throw new un.ParchmentError("Cannot insert "+mn.statics.blotName+" into "+this.statics.blotName);mn.insertInto(this,_n)},gn.prototype.length=function(){return this.children.reduce(function(mn,_n){return mn+_n.length()},0)},gn.prototype.moveChildren=function(mn,_n){this.children.forEach(function(kn){mn.insertBefore(kn,_n)})},gn.prototype.optimize=function(mn){if(pn.prototype.optimize.call(this,mn),this.children.length===0)if(this.statics.defaultChild!=null){var _n=un.create(this.statics.defaultChild);this.appendChild(_n),_n.optimize(mn)}else this.remove()},gn.prototype.path=function(mn,_n){_n===void 0&&(_n=!1);var kn=this.children.find(mn,_n),Cn=kn[0],xn=kn[1],Sn=[[this,mn]];return Cn instanceof gn?Sn.concat(Cn.path(xn,_n)):(Cn!=null&&Sn.push([Cn,xn]),Sn)},gn.prototype.removeChild=function(mn){this.children.remove(mn)},gn.prototype.replace=function(mn){mn instanceof gn&&mn.moveChildren(this),pn.prototype.replace.call(this,mn)},gn.prototype.split=function(mn,_n){if(_n===void 0&&(_n=!1),!_n){if(mn===0)return this;if(mn===this.length())return this.next}var kn=this.clone();return this.parent.insertBefore(kn,this.next),this.children.forEachAt(mn,this.length(),function(Cn,xn,Sn){Cn=Cn.split(xn,_n),kn.appendChild(Cn)}),kn},gn.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},gn.prototype.update=function(mn,_n){var kn=this,Cn=[],xn=[];mn.forEach(function(Sn){Sn.target===kn.domNode&&Sn.type==="childList"&&(Cn.push.apply(Cn,Sn.addedNodes),xn.push.apply(xn,Sn.removedNodes))}),xn.forEach(function(Sn){if(!(Sn.parentNode!=null&&Sn.tagName!=="IFRAME"&&document.body.compareDocumentPosition(Sn)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Mn=un.find(Sn);Mn!=null&&(Mn.domNode.parentNode==null||Mn.domNode.parentNode===kn.domNode)&&Mn.detach()}}),Cn.filter(function(Sn){return Sn.parentNode==kn.domNode}).sort(function(Sn,Mn){return Sn===Mn?0:Sn.compareDocumentPosition(Mn)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(Sn){var Mn=null;Sn.nextSibling!=null&&(Mn=un.find(Sn.nextSibling));var In=hn(Sn);(In.next!=Mn||In.next==null)&&(In.parent!=null&&In.parent.removeChild(kn),kn.insertBefore(In,Mn||void 0))})},gn}(cn.default);function hn(pn){var gn=un.find(pn);if(gn==null)try{gn=un.create(pn)}catch{gn=un.create(un.Scope.INLINE),[].slice.call(pn.childNodes).forEach(function(_n){gn.domNode.appendChild(_n)}),pn.parentNode&&pn.parentNode.replaceChild(gn.domNode,pn),gn.attach()}return gn}nn.default=fn},function(tn,nn,rn){var an=this&&this.__extends||function(){var pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gn,mn){gn.__proto__=mn}||function(gn,mn){for(var _n in mn)mn.hasOwnProperty(_n)&&(gn[_n]=mn[_n])};return function(gn,mn){pn(gn,mn);function _n(){this.constructor=gn}gn.prototype=mn===null?Object.create(mn):(_n.prototype=mn.prototype,new _n)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(12),cn=rn(31),un=rn(17),fn=rn(1),hn=function(pn){an(gn,pn);function gn(mn){var _n=pn.call(this,mn)||this;return _n.attributes=new cn.default(_n.domNode),_n}return gn.formats=function(mn){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return mn.tagName.toLowerCase()},gn.prototype.format=function(mn,_n){var kn=fn.query(mn);kn instanceof ln.default?this.attributes.attribute(kn,_n):_n&&kn!=null&&(mn!==this.statics.blotName||this.formats()[mn]!==_n)&&this.replaceWith(mn,_n)},gn.prototype.formats=function(){var mn=this.attributes.values(),_n=this.statics.formats(this.domNode);return _n!=null&&(mn[this.statics.blotName]=_n),mn},gn.prototype.replaceWith=function(mn,_n){var kn=pn.prototype.replaceWith.call(this,mn,_n);return this.attributes.copy(kn),kn},gn.prototype.update=function(mn,_n){var kn=this;pn.prototype.update.call(this,mn,_n),mn.some(function(Cn){return Cn.target===kn.domNode&&Cn.type==="attributes"})&&this.attributes.build()},gn.prototype.wrap=function(mn,_n){var kn=pn.prototype.wrap.call(this,mn,_n);return kn instanceof gn&&kn.statics.scope===this.statics.scope&&this.attributes.move(kn),kn},gn}(un.default);nn.default=hn},function(tn,nn,rn){var an=this&&this.__extends||function(){var fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(hn,pn){hn.__proto__=pn}||function(hn,pn){for(var gn in pn)pn.hasOwnProperty(gn)&&(hn[gn]=pn[gn])};return function(hn,pn){fn(hn,pn);function gn(){this.constructor=hn}hn.prototype=pn===null?Object.create(pn):(gn.prototype=pn.prototype,new gn)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(30),cn=rn(1),un=function(fn){an(hn,fn);function hn(){return fn!==null&&fn.apply(this,arguments)||this}return hn.value=function(pn){return!0},hn.prototype.index=function(pn,gn){return this.domNode===pn||this.domNode.compareDocumentPosition(pn)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(gn,1):-1},hn.prototype.position=function(pn,gn){var mn=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return pn>0&&(mn+=1),[this.parent.domNode,mn]},hn.prototype.value=function(){var pn;return pn={},pn[this.statics.blotName]=this.statics.value(this.domNode)||!0,pn},hn.scope=cn.Scope.INLINE_BLOT,hn}(ln.default);nn.default=un},function(tn,nn,rn){var an=rn(11),ln=rn(3),cn={attributes:{compose:function(fn,hn,pn){typeof fn!="object"&&(fn={}),typeof hn!="object"&&(hn={});var gn=ln(!0,{},hn);pn||(gn=Object.keys(gn).reduce(function(_n,kn){return gn[kn]!=null&&(_n[kn]=gn[kn]),_n},{}));for(var mn in fn)fn[mn]!==void 0&&hn[mn]===void 0&&(gn[mn]=fn[mn]);return Object.keys(gn).length>0?gn:void 0},diff:function(fn,hn){typeof fn!="object"&&(fn={}),typeof hn!="object"&&(hn={});var pn=Object.keys(fn).concat(Object.keys(hn)).reduce(function(gn,mn){return an(fn[mn],hn[mn])||(gn[mn]=hn[mn]===void 0?null:hn[mn]),gn},{});return Object.keys(pn).length>0?pn:void 0},transform:function(fn,hn,pn){if(typeof fn!="object")return hn;if(typeof hn=="object"){if(!pn)return hn;var gn=Object.keys(hn).reduce(function(mn,_n){return fn[_n]===void 0&&(mn[_n]=hn[_n]),mn},{});return Object.keys(gn).length>0?gn:void 0}}},iterator:function(fn){return new un(fn)},length:function(fn){return typeof fn.delete=="number"?fn.delete:typeof fn.retain=="number"?fn.retain:typeof fn.insert=="string"?fn.insert.length:1}};function un(fn){this.ops=fn,this.index=0,this.offset=0}un.prototype.hasNext=function(){return this.peekLength()<1/0},un.prototype.next=function(fn){fn||(fn=1/0);var hn=this.ops[this.index];if(hn){var pn=this.offset,gn=cn.length(hn);if(fn>=gn-pn?(fn=gn-pn,this.index+=1,this.offset=0):this.offset+=fn,typeof hn.delete=="number")return{delete:fn};var mn={};return hn.attributes&&(mn.attributes=hn.attributes),typeof hn.retain=="number"?mn.retain=fn:typeof hn.insert=="string"?mn.insert=hn.insert.substr(pn,fn):mn.insert=hn.insert,mn}else return{retain:1/0}},un.prototype.peek=function(){return this.ops[this.index]},un.prototype.peekLength=function(){return this.ops[this.index]?cn.length(this.ops[this.index])-this.offset:1/0},un.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},un.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var fn=this.offset,hn=this.index,pn=this.next(),gn=this.ops.slice(this.index);return this.offset=fn,this.index=hn,[pn].concat(gn)}else return[]},tn.exports=cn},function(tn,nn){var rn=function(){function an(kn,Cn){return Cn!=null&&kn instanceof Cn}var ln;try{ln=Map}catch{ln=function(){}}var cn;try{cn=Set}catch{cn=function(){}}var un;try{un=Promise}catch{un=function(){}}function fn(kn,Cn,xn,Sn,Mn){typeof Cn=="object"&&(xn=Cn.depth,Sn=Cn.prototype,Mn=Cn.includeNonEnumerable,Cn=Cn.circular);var In=[],On=[],Pn=typeof Buffer<"u";typeof Cn>"u"&&(Cn=!0),typeof xn>"u"&&(xn=1/0);function Tn(Nn,Hn){if(Nn===null)return null;if(Hn===0)return Nn;var Un,jn;if(typeof Nn!="object")return Nn;if(an(Nn,ln))Un=new ln;else if(an(Nn,cn))Un=new cn;else if(an(Nn,un))Un=new un(function(ti,Zr){Nn.then(function(Br){ti(Tn(Br,Hn-1))},function(Br){Zr(Tn(Br,Hn-1))})});else if(fn.__isArray(Nn))Un=[];else if(fn.__isRegExp(Nn))Un=new RegExp(Nn.source,_n(Nn)),Nn.lastIndex&&(Un.lastIndex=Nn.lastIndex);else if(fn.__isDate(Nn))Un=new Date(Nn.getTime());else{if(Pn&&Buffer.isBuffer(Nn))return Buffer.allocUnsafe?Un=Buffer.allocUnsafe(Nn.length):Un=new Buffer(Nn.length),Nn.copy(Un),Un;an(Nn,Error)?Un=Object.create(Nn):typeof Sn>"u"?(jn=Object.getPrototypeOf(Nn),Un=Object.create(jn)):(Un=Object.create(Sn),jn=Sn)}if(Cn){var Yn=In.indexOf(Nn);if(Yn!=-1)return On[Yn];In.push(Nn),On.push(Un)}an(Nn,ln)&&Nn.forEach(function(ti,Zr){var Br=Tn(Zr,Hn-1),Jn=Tn(ti,Hn-1);Un.set(Br,Jn)}),an(Nn,cn)&&Nn.forEach(function(ti){var Zr=Tn(ti,Hn-1);Un.add(Zr)});for(var Wn in Nn){var Qn;jn&&(Qn=Object.getOwnPropertyDescriptor(jn,Wn)),!(Qn&&Qn.set==null)&&(Un[Wn]=Tn(Nn[Wn],Hn-1))}if(Object.getOwnPropertySymbols)for(var Xn=Object.getOwnPropertySymbols(Nn),Wn=0;Wn<Xn.length;Wn++){var jr=Xn[Wn],Wr=Object.getOwnPropertyDescriptor(Nn,jr);Wr&&!Wr.enumerable&&!Mn||(Un[jr]=Tn(Nn[jr],Hn-1),Wr.enumerable||Object.defineProperty(Un,jr,{enumerable:!1}))}if(Mn)for(var Jr=Object.getOwnPropertyNames(Nn),Wn=0;Wn<Jr.length;Wn++){var ci=Jr[Wn],Wr=Object.getOwnPropertyDescriptor(Nn,ci);Wr&&Wr.enumerable||(Un[ci]=Tn(Nn[ci],Hn-1),Object.defineProperty(Un,ci,{enumerable:!1}))}return Un}return Tn(kn,xn)}fn.clonePrototype=function(Cn){if(Cn===null)return null;var xn=function(){};return xn.prototype=Cn,new xn};function hn(kn){return Object.prototype.toString.call(kn)}fn.__objToStr=hn;function pn(kn){return typeof kn=="object"&&hn(kn)==="[object Date]"}fn.__isDate=pn;function gn(kn){return typeof kn=="object"&&hn(kn)==="[object Array]"}fn.__isArray=gn;function mn(kn){return typeof kn=="object"&&hn(kn)==="[object RegExp]"}fn.__isRegExp=mn;function _n(kn){var Cn="";return kn.global&&(Cn+="g"),kn.ignoreCase&&(Cn+="i"),kn.multiline&&(Cn+="m"),Cn}return fn.__getRegExpFlags=_n,fn}();typeof tn=="object"&&tn.exports&&(tn.exports=rn)},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function Un(jn,Yn){var Wn=[],Qn=!0,Xn=!1,jr=void 0;try{for(var Wr=jn[Symbol.iterator](),Jr;!(Qn=(Jr=Wr.next()).done)&&(Wn.push(Jr.value),!(Yn&&Wn.length===Yn));Qn=!0);}catch(ci){Xn=!0,jr=ci}finally{try{!Qn&&Wr.return&&Wr.return()}finally{if(Xn)throw jr}}return Wn}return function(jn,Yn){if(Array.isArray(jn))return jn;if(Symbol.iterator in Object(jn))return Un(jn,Yn);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ln=function(){function Un(jn,Yn){for(var Wn=0;Wn<Yn.length;Wn++){var Qn=Yn[Wn];Qn.enumerable=Qn.enumerable||!1,Qn.configurable=!0,"value"in Qn&&(Qn.writable=!0),Object.defineProperty(jn,Qn.key,Qn)}}return function(jn,Yn,Wn){return Yn&&Un(jn.prototype,Yn),Wn&&Un(jn,Wn),jn}}(),cn=function Un(jn,Yn,Wn){jn===null&&(jn=Function.prototype);var Qn=Object.getOwnPropertyDescriptor(jn,Yn);if(Qn===void 0){var Xn=Object.getPrototypeOf(jn);return Xn===null?void 0:Un(Xn,Yn,Wn)}else{if("value"in Qn)return Qn.value;var jr=Qn.get;return jr===void 0?void 0:jr.call(Wn)}},un=rn(0),fn=In(un),hn=rn(8),pn=In(hn),gn=rn(4),mn=In(gn),_n=rn(16),kn=In(_n),Cn=rn(13),xn=In(Cn),Sn=rn(25),Mn=In(Sn);function In(Un){return Un&&Un.__esModule?Un:{default:Un}}function On(Un,jn){if(!(Un instanceof jn))throw new TypeError("Cannot call a class as a function")}function Pn(Un,jn){if(!Un)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jn&&(typeof jn=="object"||typeof jn=="function")?jn:Un}function Tn(Un,jn){if(typeof jn!="function"&&jn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof jn);Un.prototype=Object.create(jn&&jn.prototype,{constructor:{value:Un,enumerable:!1,writable:!0,configurable:!0}}),jn&&(Object.setPrototypeOf?Object.setPrototypeOf(Un,jn):Un.__proto__=jn)}function Nn(Un){return Un instanceof mn.default||Un instanceof gn.BlockEmbed}var Hn=function(Un){Tn(jn,Un);function jn(Yn,Wn){On(this,jn);var Qn=Pn(this,(jn.__proto__||Object.getPrototypeOf(jn)).call(this,Yn));return Qn.emitter=Wn.emitter,Array.isArray(Wn.whitelist)&&(Qn.whitelist=Wn.whitelist.reduce(function(Xn,jr){return Xn[jr]=!0,Xn},{})),Qn.domNode.addEventListener("DOMNodeInserted",function(){}),Qn.optimize(),Qn.enable(),Qn}return ln(jn,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(Wn,Qn){var Xn=this.line(Wn),jr=an(Xn,2),Wr=jr[0],Jr=jr[1],ci=this.line(Wn+Qn),ti=an(ci,1),Zr=ti[0];if(cn(jn.prototype.__proto__||Object.getPrototypeOf(jn.prototype),"deleteAt",this).call(this,Wn,Qn),Zr!=null&&Wr!==Zr&&Jr>0){if(Wr instanceof gn.BlockEmbed||Zr instanceof gn.BlockEmbed){this.optimize();return}if(Wr instanceof xn.default){var Br=Wr.newlineIndex(Wr.length(),!0);if(Br>-1&&(Wr=Wr.split(Br+1),Wr===Zr)){this.optimize();return}}else if(Zr instanceof xn.default){var Jn=Zr.newlineIndex(0);Jn>-1&&Zr.split(Jn+1)}var oi=Zr.children.head instanceof kn.default?null:Zr.children.head;Wr.moveChildren(Zr,oi),Wr.remove()}this.optimize()}},{key:"enable",value:function(){var Wn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",Wn)}},{key:"formatAt",value:function(Wn,Qn,Xn,jr){this.whitelist!=null&&!this.whitelist[Xn]||(cn(jn.prototype.__proto__||Object.getPrototypeOf(jn.prototype),"formatAt",this).call(this,Wn,Qn,Xn,jr),this.optimize())}},{key:"insertAt",value:function(Wn,Qn,Xn){if(!(Xn!=null&&this.whitelist!=null&&!this.whitelist[Qn])){if(Wn>=this.length())if(Xn==null||fn.default.query(Qn,fn.default.Scope.BLOCK)==null){var jr=fn.default.create(this.statics.defaultChild);this.appendChild(jr),Xn==null&&Qn.endsWith(`
`)&&(Qn=Qn.slice(0,-1)),jr.insertAt(0,Qn,Xn)}else{var Wr=fn.default.create(Qn,Xn);this.appendChild(Wr)}else cn(jn.prototype.__proto__||Object.getPrototypeOf(jn.prototype),"insertAt",this).call(this,Wn,Qn,Xn);this.optimize()}}},{key:"insertBefore",value:function(Wn,Qn){if(Wn.statics.scope===fn.default.Scope.INLINE_BLOT){var Xn=fn.default.create(this.statics.defaultChild);Xn.appendChild(Wn),Wn=Xn}cn(jn.prototype.__proto__||Object.getPrototypeOf(jn.prototype),"insertBefore",this).call(this,Wn,Qn)}},{key:"leaf",value:function(Wn){return this.path(Wn).pop()||[null,-1]}},{key:"line",value:function(Wn){return Wn===this.length()?this.line(Wn-1):this.descendant(Nn,Wn)}},{key:"lines",value:function(){var Wn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Xn=function jr(Wr,Jr,ci){var ti=[],Zr=ci;return Wr.children.forEachAt(Jr,ci,function(Br,Jn,oi){Nn(Br)?ti.push(Br):Br instanceof fn.default.Container&&(ti=ti.concat(jr(Br,Jn,Zr))),Zr-=oi}),ti};return Xn(this,Wn,Qn)}},{key:"optimize",value:function(){var Wn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(cn(jn.prototype.__proto__||Object.getPrototypeOf(jn.prototype),"optimize",this).call(this,Wn,Qn),Wn.length>0&&this.emitter.emit(pn.default.events.SCROLL_OPTIMIZE,Wn,Qn))}},{key:"path",value:function(Wn){return cn(jn.prototype.__proto__||Object.getPrototypeOf(jn.prototype),"path",this).call(this,Wn).slice(1)}},{key:"update",value:function(Wn){if(this.batch!==!0){var Qn=pn.default.sources.USER;typeof Wn=="string"&&(Qn=Wn),Array.isArray(Wn)||(Wn=this.observer.takeRecords()),Wn.length>0&&this.emitter.emit(pn.default.events.SCROLL_BEFORE_UPDATE,Qn,Wn),cn(jn.prototype.__proto__||Object.getPrototypeOf(jn.prototype),"update",this).call(this,Wn.concat([])),Wn.length>0&&this.emitter.emit(pn.default.events.SCROLL_UPDATE,Qn,Wn)}}}]),jn}(fn.default.Scroll);Hn.blotName="scroll",Hn.className="ql-editor",Hn.tagName="DIV",Hn.defaultChild="block",Hn.allowedChildren=[mn.default,gn.BlockEmbed,Mn.default],nn.default=Hn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.SHORTKEY=nn.default=void 0;var an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ri){return typeof ri}:function(ri){return ri&&typeof Symbol=="function"&&ri.constructor===Symbol&&ri!==Symbol.prototype?"symbol":typeof ri},ln=function(){function ri(fi,yi){var Si=[],Pi=!0,Ui=!1,ji=void 0;try{for(var go=fi[Symbol.iterator](),po;!(Pi=(po=go.next()).done)&&(Si.push(po.value),!(yi&&Si.length===yi));Pi=!0);}catch(Yi){Ui=!0,ji=Yi}finally{try{!Pi&&go.return&&go.return()}finally{if(Ui)throw ji}}return Si}return function(fi,yi){if(Array.isArray(fi))return fi;if(Symbol.iterator in Object(fi))return ri(fi,yi);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),cn=function(){function ri(fi,yi){for(var Si=0;Si<yi.length;Si++){var Pi=yi[Si];Pi.enumerable=Pi.enumerable||!1,Pi.configurable=!0,"value"in Pi&&(Pi.writable=!0),Object.defineProperty(fi,Pi.key,Pi)}}return function(fi,yi,Si){return yi&&ri(fi.prototype,yi),Si&&ri(fi,Si),fi}}(),un=rn(21),fn=Un(un),hn=rn(11),pn=Un(hn),gn=rn(3),mn=Un(gn),_n=rn(2),kn=Un(_n),Cn=rn(20),xn=Un(Cn),Sn=rn(0),Mn=Un(Sn),In=rn(5),On=Un(In),Pn=rn(10),Tn=Un(Pn),Nn=rn(9),Hn=Un(Nn);function Un(ri){return ri&&ri.__esModule?ri:{default:ri}}function jn(ri,fi,yi){return fi in ri?Object.defineProperty(ri,fi,{value:yi,enumerable:!0,configurable:!0,writable:!0}):ri[fi]=yi,ri}function Yn(ri,fi){if(!(ri instanceof fi))throw new TypeError("Cannot call a class as a function")}function Wn(ri,fi){if(!ri)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fi&&(typeof fi=="object"||typeof fi=="function")?fi:ri}function Qn(ri,fi){if(typeof fi!="function"&&fi!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fi);ri.prototype=Object.create(fi&&fi.prototype,{constructor:{value:ri,enumerable:!1,writable:!0,configurable:!0}}),fi&&(Object.setPrototypeOf?Object.setPrototypeOf(ri,fi):ri.__proto__=fi)}var Xn=(0,Tn.default)("quill:keyboard"),jr=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Wr=function(ri){Qn(fi,ri),cn(fi,null,[{key:"match",value:function(Si,Pi){return Pi=pi(Pi),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ui){return!!Pi[Ui]!==Si[Ui]&&Pi[Ui]!==null})?!1:Pi.key===(Si.which||Si.keyCode)}}]);function fi(yi,Si){Yn(this,fi);var Pi=Wn(this,(fi.__proto__||Object.getPrototypeOf(fi)).call(this,yi,Si));return Pi.bindings={},Object.keys(Pi.options.bindings).forEach(function(Ui){Ui==="list autofill"&&yi.scroll.whitelist!=null&&!yi.scroll.whitelist.list||Pi.options.bindings[Ui]&&Pi.addBinding(Pi.options.bindings[Ui])}),Pi.addBinding({key:fi.keys.ENTER,shiftKey:null},Br),Pi.addBinding({key:fi.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Pi.addBinding({key:fi.keys.BACKSPACE},{collapsed:!0},ci),Pi.addBinding({key:fi.keys.DELETE},{collapsed:!0},ti)):(Pi.addBinding({key:fi.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ci),Pi.addBinding({key:fi.keys.DELETE},{collapsed:!0,suffix:/^.?$/},ti)),Pi.addBinding({key:fi.keys.BACKSPACE},{collapsed:!1},Zr),Pi.addBinding({key:fi.keys.DELETE},{collapsed:!1},Zr),Pi.addBinding({key:fi.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ci),Pi.listen(),Pi}return cn(fi,[{key:"addBinding",value:function(Si){var Pi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ui=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ji=pi(Si);if(ji==null||ji.key==null)return Xn.warn("Attempted to add invalid keyboard binding",ji);typeof Pi=="function"&&(Pi={handler:Pi}),typeof Ui=="function"&&(Ui={handler:Ui}),ji=(0,mn.default)(ji,Pi,Ui),this.bindings[ji.key]=this.bindings[ji.key]||[],this.bindings[ji.key].push(ji)}},{key:"listen",value:function(){var Si=this;this.quill.root.addEventListener("keydown",function(Pi){if(!Pi.defaultPrevented){var Ui=Pi.which||Pi.keyCode,ji=(Si.bindings[Ui]||[]).filter(function(bi){return fi.match(Pi,bi)});if(ji.length!==0){var go=Si.quill.getSelection();if(!(go==null||!Si.quill.hasFocus())){var po=Si.quill.getLine(go.index),Yi=ln(po,2),Fo=Yi[0],Po=Yi[1],Oi=Si.quill.getLeaf(go.index),Wi=ln(Oi,2),vo=Wi[0],mo=Wi[1],ro=go.length===0?[vo,mo]:Si.quill.getLeaf(go.index+go.length),Oo=ln(ro,2),Mi=Oo[0],gi=Oo[1],Ti=vo instanceof Mn.default.Text?vo.value().slice(0,mo):"",li=Mi instanceof Mn.default.Text?Mi.value().slice(gi):"",di={collapsed:go.length===0,empty:go.length===0&&Fo.length()<=1,format:Si.quill.getFormat(go),offset:Po,prefix:Ti,suffix:li},Di=ji.some(function(bi){if(bi.collapsed!=null&&bi.collapsed!==di.collapsed||bi.empty!=null&&bi.empty!==di.empty||bi.offset!=null&&bi.offset!==di.offset)return!1;if(Array.isArray(bi.format)){if(bi.format.every(function(Li){return di.format[Li]==null}))return!1}else if(an(bi.format)==="object"&&!Object.keys(bi.format).every(function(Li){return bi.format[Li]===!0?di.format[Li]!=null:bi.format[Li]===!1?di.format[Li]==null:(0,pn.default)(bi.format[Li],di.format[Li])}))return!1;return bi.prefix!=null&&!bi.prefix.test(di.prefix)||bi.suffix!=null&&!bi.suffix.test(di.suffix)?!1:bi.handler.call(Si,go,di)!==!0});Di&&Pi.preventDefault()}}}})}}]),fi}(Hn.default);Wr.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Wr.DEFAULTS={bindings:{bold:oi("bold"),italic:oi("italic"),underline:oi("underline"),indent:{key:Wr.keys.TAB,format:["blockquote","indent","list"],handler:function(fi,yi){if(yi.collapsed&&yi.offset!==0)return!0;this.quill.format("indent","+1",On.default.sources.USER)}},outdent:{key:Wr.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(fi,yi){if(yi.collapsed&&yi.offset!==0)return!0;this.quill.format("indent","-1",On.default.sources.USER)}},"outdent backspace":{key:Wr.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(fi,yi){yi.format.indent!=null?this.quill.format("indent","-1",On.default.sources.USER):yi.format.list!=null&&this.quill.format("list",!1,On.default.sources.USER)}},"indent code-block":Jn(!0),"outdent code-block":Jn(!1),"remove tab":{key:Wr.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(fi){this.quill.deleteText(fi.index-1,1,On.default.sources.USER)}},tab:{key:Wr.keys.TAB,handler:function(fi){this.quill.history.cutoff();var yi=new kn.default().retain(fi.index).delete(fi.length).insert("	");this.quill.updateContents(yi,On.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(fi.index+1,On.default.sources.SILENT)}},"list empty enter":{key:Wr.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(fi,yi){this.quill.format("list",!1,On.default.sources.USER),yi.format.indent&&this.quill.format("indent",!1,On.default.sources.USER)}},"checklist enter":{key:Wr.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(fi){var yi=this.quill.getLine(fi.index),Si=ln(yi,2),Pi=Si[0],Ui=Si[1],ji=(0,mn.default)({},Pi.formats(),{list:"checked"}),go=new kn.default().retain(fi.index).insert(`
`,ji).retain(Pi.length()-Ui-1).retain(1,{list:"unchecked"});this.quill.updateContents(go,On.default.sources.USER),this.quill.setSelection(fi.index+1,On.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Wr.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(fi,yi){var Si=this.quill.getLine(fi.index),Pi=ln(Si,2),Ui=Pi[0],ji=Pi[1],go=new kn.default().retain(fi.index).insert(`
`,yi.format).retain(Ui.length()-ji-1).retain(1,{header:null});this.quill.updateContents(go,On.default.sources.USER),this.quill.setSelection(fi.index+1,On.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(fi,yi){var Si=yi.prefix.length,Pi=this.quill.getLine(fi.index),Ui=ln(Pi,2),ji=Ui[0],go=Ui[1];if(go>Si)return!0;var po=void 0;switch(yi.prefix.trim()){case"[]":case"[ ]":po="unchecked";break;case"[x]":po="checked";break;case"-":case"*":po="bullet";break;default:po="ordered"}this.quill.insertText(fi.index," ",On.default.sources.USER),this.quill.history.cutoff();var Yi=new kn.default().retain(fi.index-go).delete(Si+1).retain(ji.length()-2-go).retain(1,{list:po});this.quill.updateContents(Yi,On.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(fi.index-Si,On.default.sources.SILENT)}},"code exit":{key:Wr.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(fi){var yi=this.quill.getLine(fi.index),Si=ln(yi,2),Pi=Si[0],Ui=Si[1],ji=new kn.default().retain(fi.index+Pi.length()-Ui-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ji,On.default.sources.USER)}},"embed left":Jr(Wr.keys.LEFT,!1),"embed left shift":Jr(Wr.keys.LEFT,!0),"embed right":Jr(Wr.keys.RIGHT,!1),"embed right shift":Jr(Wr.keys.RIGHT,!0)}};function Jr(ri,fi){var yi,Si=ri===Wr.keys.LEFT?"prefix":"suffix";return yi={key:ri,shiftKey:fi,altKey:null},jn(yi,Si,/^$/),jn(yi,"handler",function(Ui){var ji=Ui.index;ri===Wr.keys.RIGHT&&(ji+=Ui.length+1);var go=this.quill.getLeaf(ji),po=ln(go,1),Yi=po[0];return Yi instanceof Mn.default.Embed?(ri===Wr.keys.LEFT?fi?this.quill.setSelection(Ui.index-1,Ui.length+1,On.default.sources.USER):this.quill.setSelection(Ui.index-1,On.default.sources.USER):fi?this.quill.setSelection(Ui.index,Ui.length+1,On.default.sources.USER):this.quill.setSelection(Ui.index+Ui.length+1,On.default.sources.USER),!1):!0}),yi}function ci(ri,fi){if(!(ri.index===0||this.quill.getLength()<=1)){var yi=this.quill.getLine(ri.index),Si=ln(yi,1),Pi=Si[0],Ui={};if(fi.offset===0){var ji=this.quill.getLine(ri.index-1),go=ln(ji,1),po=go[0];if(po!=null&&po.length()>1){var Yi=Pi.formats(),Fo=this.quill.getFormat(ri.index-1,1);Ui=xn.default.attributes.diff(Yi,Fo)||{}}}var Po=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(fi.prefix)?2:1;this.quill.deleteText(ri.index-Po,Po,On.default.sources.USER),Object.keys(Ui).length>0&&this.quill.formatLine(ri.index-Po,Po,Ui,On.default.sources.USER),this.quill.focus()}}function ti(ri,fi){var yi=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(fi.suffix)?2:1;if(!(ri.index>=this.quill.getLength()-yi)){var Si={},Pi=0,Ui=this.quill.getLine(ri.index),ji=ln(Ui,1),go=ji[0];if(fi.offset>=go.length()-1){var po=this.quill.getLine(ri.index+1),Yi=ln(po,1),Fo=Yi[0];if(Fo){var Po=go.formats(),Oi=this.quill.getFormat(ri.index,1);Si=xn.default.attributes.diff(Po,Oi)||{},Pi=Fo.length()}}this.quill.deleteText(ri.index,yi,On.default.sources.USER),Object.keys(Si).length>0&&this.quill.formatLine(ri.index+Pi-1,yi,Si,On.default.sources.USER)}}function Zr(ri){var fi=this.quill.getLines(ri),yi={};if(fi.length>1){var Si=fi[0].formats(),Pi=fi[fi.length-1].formats();yi=xn.default.attributes.diff(Pi,Si)||{}}this.quill.deleteText(ri,On.default.sources.USER),Object.keys(yi).length>0&&this.quill.formatLine(ri.index,1,yi,On.default.sources.USER),this.quill.setSelection(ri.index,On.default.sources.SILENT),this.quill.focus()}function Br(ri,fi){var yi=this;ri.length>0&&this.quill.scroll.deleteAt(ri.index,ri.length);var Si=Object.keys(fi.format).reduce(function(Pi,Ui){return Mn.default.query(Ui,Mn.default.Scope.BLOCK)&&!Array.isArray(fi.format[Ui])&&(Pi[Ui]=fi.format[Ui]),Pi},{});this.quill.insertText(ri.index,`
`,Si,On.default.sources.USER),this.quill.setSelection(ri.index+1,On.default.sources.SILENT),this.quill.focus(),Object.keys(fi.format).forEach(function(Pi){Si[Pi]==null&&(Array.isArray(fi.format[Pi])||Pi!=="link"&&yi.quill.format(Pi,fi.format[Pi],On.default.sources.USER))})}function Jn(ri){return{key:Wr.keys.TAB,shiftKey:!ri,format:{"code-block":!0},handler:function(yi){var Si=Mn.default.query("code-block"),Pi=yi.index,Ui=yi.length,ji=this.quill.scroll.descendant(Si,Pi),go=ln(ji,2),po=go[0],Yi=go[1];if(po!=null){var Fo=this.quill.getIndex(po),Po=po.newlineIndex(Yi,!0)+1,Oi=po.newlineIndex(Fo+Yi+Ui),Wi=po.domNode.textContent.slice(Po,Oi).split(`
`);Yi=0,Wi.forEach(function(vo,mo){ri?(po.insertAt(Po+Yi,Si.TAB),Yi+=Si.TAB.length,mo===0?Pi+=Si.TAB.length:Ui+=Si.TAB.length):vo.startsWith(Si.TAB)&&(po.deleteAt(Po+Yi,Si.TAB.length),Yi-=Si.TAB.length,mo===0?Pi-=Si.TAB.length:Ui-=Si.TAB.length),Yi+=vo.length+1}),this.quill.update(On.default.sources.USER),this.quill.setSelection(Pi,Ui,On.default.sources.SILENT)}}}}function oi(ri){return{key:ri[0].toUpperCase(),shortKey:!0,handler:function(yi,Si){this.quill.format(ri,!Si.format[ri],On.default.sources.USER)}}}function pi(ri){if(typeof ri=="string"||typeof ri=="number")return pi({key:ri});if((typeof ri>"u"?"undefined":an(ri))==="object"&&(ri=(0,fn.default)(ri,!1)),typeof ri.key=="string")if(Wr.keys[ri.key.toUpperCase()]!=null)ri.key=Wr.keys[ri.key.toUpperCase()];else if(ri.key.length===1)ri.key=ri.key.toUpperCase().charCodeAt(0);else return null;return ri.shortKey&&(ri[jr]=ri.shortKey,delete ri.shortKey),ri}nn.default=Wr,nn.SHORTKEY=jr},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function xn(Sn,Mn){var In=[],On=!0,Pn=!1,Tn=void 0;try{for(var Nn=Sn[Symbol.iterator](),Hn;!(On=(Hn=Nn.next()).done)&&(In.push(Hn.value),!(Mn&&In.length===Mn));On=!0);}catch(Un){Pn=!0,Tn=Un}finally{try{!On&&Nn.return&&Nn.return()}finally{if(Pn)throw Tn}}return In}return function(Sn,Mn){if(Array.isArray(Sn))return Sn;if(Symbol.iterator in Object(Sn))return xn(Sn,Mn);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ln=function xn(Sn,Mn,In){Sn===null&&(Sn=Function.prototype);var On=Object.getOwnPropertyDescriptor(Sn,Mn);if(On===void 0){var Pn=Object.getPrototypeOf(Sn);return Pn===null?void 0:xn(Pn,Mn,In)}else{if("value"in On)return On.value;var Tn=On.get;return Tn===void 0?void 0:Tn.call(In)}},cn=function(){function xn(Sn,Mn){for(var In=0;In<Mn.length;In++){var On=Mn[In];On.enumerable=On.enumerable||!1,On.configurable=!0,"value"in On&&(On.writable=!0),Object.defineProperty(Sn,On.key,On)}}return function(Sn,Mn,In){return Mn&&xn(Sn.prototype,Mn),In&&xn(Sn,In),Sn}}(),un=rn(0),fn=gn(un),hn=rn(7),pn=gn(hn);function gn(xn){return xn&&xn.__esModule?xn:{default:xn}}function mn(xn,Sn){if(!(xn instanceof Sn))throw new TypeError("Cannot call a class as a function")}function _n(xn,Sn){if(!xn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Sn&&(typeof Sn=="object"||typeof Sn=="function")?Sn:xn}function kn(xn,Sn){if(typeof Sn!="function"&&Sn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Sn);xn.prototype=Object.create(Sn&&Sn.prototype,{constructor:{value:xn,enumerable:!1,writable:!0,configurable:!0}}),Sn&&(Object.setPrototypeOf?Object.setPrototypeOf(xn,Sn):xn.__proto__=Sn)}var Cn=function(xn){kn(Sn,xn),cn(Sn,null,[{key:"value",value:function(){}}]);function Sn(Mn,In){mn(this,Sn);var On=_n(this,(Sn.__proto__||Object.getPrototypeOf(Sn)).call(this,Mn));return On.selection=In,On.textNode=document.createTextNode(Sn.CONTENTS),On.domNode.appendChild(On.textNode),On._length=0,On}return cn(Sn,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(In,On){if(this._length!==0)return ln(Sn.prototype.__proto__||Object.getPrototypeOf(Sn.prototype),"format",this).call(this,In,On);for(var Pn=this,Tn=0;Pn!=null&&Pn.statics.scope!==fn.default.Scope.BLOCK_BLOT;)Tn+=Pn.offset(Pn.parent),Pn=Pn.parent;Pn!=null&&(this._length=Sn.CONTENTS.length,Pn.optimize(),Pn.formatAt(Tn,Sn.CONTENTS.length,In,On),this._length=0)}},{key:"index",value:function(In,On){return In===this.textNode?0:ln(Sn.prototype.__proto__||Object.getPrototypeOf(Sn.prototype),"index",this).call(this,In,On)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){ln(Sn.prototype.__proto__||Object.getPrototypeOf(Sn.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var In=this.textNode,On=this.selection.getNativeRange(),Pn=void 0,Tn=void 0,Nn=void 0;if(On!=null&&On.start.node===In&&On.end.node===In){var Hn=[In,On.start.offset,On.end.offset];Pn=Hn[0],Tn=Hn[1],Nn=Hn[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==Sn.CONTENTS){var Un=this.textNode.data.split(Sn.CONTENTS).join("");this.next instanceof pn.default?(Pn=this.next.domNode,this.next.insertAt(0,Un),this.textNode.data=Sn.CONTENTS):(this.textNode.data=Un,this.parent.insertBefore(fn.default.create(this.textNode),this),this.textNode=document.createTextNode(Sn.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),Tn!=null){var jn=[Tn,Nn].map(function(Wn){return Math.max(0,Math.min(Pn.data.length,Wn-1))}),Yn=an(jn,2);return Tn=Yn[0],Nn=Yn[1],{startNode:Pn,startOffset:Tn,endNode:Pn,endOffset:Nn}}}}},{key:"update",value:function(In,On){var Pn=this;if(In.some(function(Nn){return Nn.type==="characterData"&&Nn.target===Pn.textNode})){var Tn=this.restore();Tn&&(On.range=Tn)}}},{key:"value",value:function(){return""}}]),Sn}(fn.default.Embed);Cn.blotName="cursor",Cn.className="ql-cursor",Cn.tagName="span",Cn.CONTENTS="\uFEFF",nn.default=Cn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(0),ln=fn(an),cn=rn(4),un=fn(cn);function fn(_n){return _n&&_n.__esModule?_n:{default:_n}}function hn(_n,kn){if(!(_n instanceof kn))throw new TypeError("Cannot call a class as a function")}function pn(_n,kn){if(!_n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kn&&(typeof kn=="object"||typeof kn=="function")?kn:_n}function gn(_n,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kn);_n.prototype=Object.create(kn&&kn.prototype,{constructor:{value:_n,enumerable:!1,writable:!0,configurable:!0}}),kn&&(Object.setPrototypeOf?Object.setPrototypeOf(_n,kn):_n.__proto__=kn)}var mn=function(_n){gn(kn,_n);function kn(){return hn(this,kn),pn(this,(kn.__proto__||Object.getPrototypeOf(kn)).apply(this,arguments))}return kn}(ln.default.Container);mn.allowedChildren=[un.default,cn.BlockEmbed,mn],nn.default=mn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.ColorStyle=nn.ColorClass=nn.ColorAttributor=void 0;var an=function(){function Cn(xn,Sn){for(var Mn=0;Mn<Sn.length;Mn++){var In=Sn[Mn];In.enumerable=In.enumerable||!1,In.configurable=!0,"value"in In&&(In.writable=!0),Object.defineProperty(xn,In.key,In)}}return function(xn,Sn,Mn){return Sn&&Cn(xn.prototype,Sn),Mn&&Cn(xn,Mn),xn}}(),ln=function Cn(xn,Sn,Mn){xn===null&&(xn=Function.prototype);var In=Object.getOwnPropertyDescriptor(xn,Sn);if(In===void 0){var On=Object.getPrototypeOf(xn);return On===null?void 0:Cn(On,Sn,Mn)}else{if("value"in In)return In.value;var Pn=In.get;return Pn===void 0?void 0:Pn.call(Mn)}},cn=rn(0),un=fn(cn);function fn(Cn){return Cn&&Cn.__esModule?Cn:{default:Cn}}function hn(Cn,xn){if(!(Cn instanceof xn))throw new TypeError("Cannot call a class as a function")}function pn(Cn,xn){if(!Cn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xn&&(typeof xn=="object"||typeof xn=="function")?xn:Cn}function gn(Cn,xn){if(typeof xn!="function"&&xn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof xn);Cn.prototype=Object.create(xn&&xn.prototype,{constructor:{value:Cn,enumerable:!1,writable:!0,configurable:!0}}),xn&&(Object.setPrototypeOf?Object.setPrototypeOf(Cn,xn):Cn.__proto__=xn)}var mn=function(Cn){gn(xn,Cn);function xn(){return hn(this,xn),pn(this,(xn.__proto__||Object.getPrototypeOf(xn)).apply(this,arguments))}return an(xn,[{key:"value",value:function(Mn){var In=ln(xn.prototype.__proto__||Object.getPrototypeOf(xn.prototype),"value",this).call(this,Mn);return In.startsWith("rgb(")?(In=In.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+In.split(",").map(function(On){return("00"+parseInt(On).toString(16)).slice(-2)}).join("")):In}}]),xn}(un.default.Attributor.Style),_n=new un.default.Attributor.Class("color","ql-color",{scope:un.default.Scope.INLINE}),kn=new mn("color","color",{scope:un.default.Scope.INLINE});nn.ColorAttributor=mn,nn.ColorClass=_n,nn.ColorStyle=kn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.sanitize=nn.default=void 0;var an=function(){function kn(Cn,xn){for(var Sn=0;Sn<xn.length;Sn++){var Mn=xn[Sn];Mn.enumerable=Mn.enumerable||!1,Mn.configurable=!0,"value"in Mn&&(Mn.writable=!0),Object.defineProperty(Cn,Mn.key,Mn)}}return function(Cn,xn,Sn){return xn&&kn(Cn.prototype,xn),Sn&&kn(Cn,Sn),Cn}}(),ln=function kn(Cn,xn,Sn){Cn===null&&(Cn=Function.prototype);var Mn=Object.getOwnPropertyDescriptor(Cn,xn);if(Mn===void 0){var In=Object.getPrototypeOf(Cn);return In===null?void 0:kn(In,xn,Sn)}else{if("value"in Mn)return Mn.value;var On=Mn.get;return On===void 0?void 0:On.call(Sn)}},cn=rn(6),un=fn(cn);function fn(kn){return kn&&kn.__esModule?kn:{default:kn}}function hn(kn,Cn){if(!(kn instanceof Cn))throw new TypeError("Cannot call a class as a function")}function pn(kn,Cn){if(!kn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Cn&&(typeof Cn=="object"||typeof Cn=="function")?Cn:kn}function gn(kn,Cn){if(typeof Cn!="function"&&Cn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Cn);kn.prototype=Object.create(Cn&&Cn.prototype,{constructor:{value:kn,enumerable:!1,writable:!0,configurable:!0}}),Cn&&(Object.setPrototypeOf?Object.setPrototypeOf(kn,Cn):kn.__proto__=Cn)}var mn=function(kn){gn(Cn,kn);function Cn(){return hn(this,Cn),pn(this,(Cn.__proto__||Object.getPrototypeOf(Cn)).apply(this,arguments))}return an(Cn,[{key:"format",value:function(Sn,Mn){if(Sn!==this.statics.blotName||!Mn)return ln(Cn.prototype.__proto__||Object.getPrototypeOf(Cn.prototype),"format",this).call(this,Sn,Mn);Mn=this.constructor.sanitize(Mn),this.domNode.setAttribute("href",Mn)}}],[{key:"create",value:function(Sn){var Mn=ln(Cn.__proto__||Object.getPrototypeOf(Cn),"create",this).call(this,Sn);return Sn=this.sanitize(Sn),Mn.setAttribute("href",Sn),Mn.setAttribute("rel","noopener noreferrer"),Mn.setAttribute("target","_blank"),Mn}},{key:"formats",value:function(Sn){return Sn.getAttribute("href")}},{key:"sanitize",value:function(Sn){return _n(Sn,this.PROTOCOL_WHITELIST)?Sn:this.SANITIZED_URL}}]),Cn}(un.default);mn.blotName="link",mn.tagName="A",mn.SANITIZED_URL="about:blank",mn.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _n(kn,Cn){var xn=document.createElement("a");xn.href=kn;var Sn=xn.href.slice(0,xn.href.indexOf(":"));return Cn.indexOf(Sn)>-1}nn.default=mn,nn.sanitize=_n},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Cn){return typeof Cn}:function(Cn){return Cn&&typeof Symbol=="function"&&Cn.constructor===Symbol&&Cn!==Symbol.prototype?"symbol":typeof Cn},ln=function(){function Cn(xn,Sn){for(var Mn=0;Mn<Sn.length;Mn++){var In=Sn[Mn];In.enumerable=In.enumerable||!1,In.configurable=!0,"value"in In&&(In.writable=!0),Object.defineProperty(xn,In.key,In)}}return function(xn,Sn,Mn){return Sn&&Cn(xn.prototype,Sn),Mn&&Cn(xn,Mn),xn}}(),cn=rn(23),un=pn(cn),fn=rn(107),hn=pn(fn);function pn(Cn){return Cn&&Cn.__esModule?Cn:{default:Cn}}function gn(Cn,xn){if(!(Cn instanceof xn))throw new TypeError("Cannot call a class as a function")}var mn=0;function _n(Cn,xn){Cn.setAttribute(xn,Cn.getAttribute(xn)!=="true")}var kn=function(){function Cn(xn){var Sn=this;gn(this,Cn),this.select=xn,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){Sn.togglePicker()}),this.label.addEventListener("keydown",function(Mn){switch(Mn.keyCode){case un.default.keys.ENTER:Sn.togglePicker();break;case un.default.keys.ESCAPE:Sn.escape(),Mn.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return ln(Cn,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_n(this.label,"aria-expanded"),_n(this.options,"aria-hidden")}},{key:"buildItem",value:function(Sn){var Mn=this,In=document.createElement("span");return In.tabIndex="0",In.setAttribute("role","button"),In.classList.add("ql-picker-item"),Sn.hasAttribute("value")&&In.setAttribute("data-value",Sn.getAttribute("value")),Sn.textContent&&In.setAttribute("data-label",Sn.textContent),In.addEventListener("click",function(){Mn.selectItem(In,!0)}),In.addEventListener("keydown",function(On){switch(On.keyCode){case un.default.keys.ENTER:Mn.selectItem(In,!0),On.preventDefault();break;case un.default.keys.ESCAPE:Mn.escape(),On.preventDefault();break}}),In}},{key:"buildLabel",value:function(){var Sn=document.createElement("span");return Sn.classList.add("ql-picker-label"),Sn.innerHTML=hn.default,Sn.tabIndex="0",Sn.setAttribute("role","button"),Sn.setAttribute("aria-expanded","false"),this.container.appendChild(Sn),Sn}},{key:"buildOptions",value:function(){var Sn=this,Mn=document.createElement("span");Mn.classList.add("ql-picker-options"),Mn.setAttribute("aria-hidden","true"),Mn.tabIndex="-1",Mn.id="ql-picker-options-"+mn,mn+=1,this.label.setAttribute("aria-controls",Mn.id),this.options=Mn,[].slice.call(this.select.options).forEach(function(In){var On=Sn.buildItem(In);Mn.appendChild(On),In.selected===!0&&Sn.selectItem(On)}),this.container.appendChild(Mn)}},{key:"buildPicker",value:function(){var Sn=this;[].slice.call(this.select.attributes).forEach(function(Mn){Sn.container.setAttribute(Mn.name,Mn.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var Sn=this;this.close(),setTimeout(function(){return Sn.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(Sn){var Mn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,In=this.container.querySelector(".ql-selected");if(Sn!==In&&(In!=null&&In.classList.remove("ql-selected"),Sn!=null&&(Sn.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(Sn.parentNode.children,Sn),Sn.hasAttribute("data-value")?this.label.setAttribute("data-value",Sn.getAttribute("data-value")):this.label.removeAttribute("data-value"),Sn.hasAttribute("data-label")?this.label.setAttribute("data-label",Sn.getAttribute("data-label")):this.label.removeAttribute("data-label"),Mn))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":an(Event))==="object"){var On=document.createEvent("Event");On.initEvent("change",!0,!0),this.select.dispatchEvent(On)}this.close()}}},{key:"update",value:function(){var Sn=void 0;if(this.select.selectedIndex>-1){var Mn=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];Sn=this.select.options[this.select.selectedIndex],this.selectItem(Mn)}else this.selectItem(null);var In=Sn!=null&&Sn!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",In)}}]),Cn}();nn.default=kn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(0),ln=Xn(an),cn=rn(5),un=Xn(cn),fn=rn(4),hn=Xn(fn),pn=rn(16),gn=Xn(pn),mn=rn(25),_n=Xn(mn),kn=rn(24),Cn=Xn(kn),xn=rn(35),Sn=Xn(xn),Mn=rn(6),In=Xn(Mn),On=rn(22),Pn=Xn(On),Tn=rn(7),Nn=Xn(Tn),Hn=rn(55),Un=Xn(Hn),jn=rn(42),Yn=Xn(jn),Wn=rn(23),Qn=Xn(Wn);function Xn(jr){return jr&&jr.__esModule?jr:{default:jr}}un.default.register({"blots/block":hn.default,"blots/block/embed":fn.BlockEmbed,"blots/break":gn.default,"blots/container":_n.default,"blots/cursor":Cn.default,"blots/embed":Sn.default,"blots/inline":In.default,"blots/scroll":Pn.default,"blots/text":Nn.default,"modules/clipboard":Un.default,"modules/history":Yn.default,"modules/keyboard":Qn.default}),ln.default.register(hn.default,gn.default,Cn.default,In.default,Pn.default,Nn.default),nn.default=un.default},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(1),ln=function(){function cn(un){this.domNode=un,this.domNode[an.DATA_KEY]={blot:this}}return Object.defineProperty(cn.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),cn.create=function(un){if(this.tagName==null)throw new an.ParchmentError("Blot definition missing tagName");var fn;return Array.isArray(this.tagName)?(typeof un=="string"&&(un=un.toUpperCase(),parseInt(un).toString()===un&&(un=parseInt(un))),typeof un=="number"?fn=document.createElement(this.tagName[un-1]):this.tagName.indexOf(un)>-1?fn=document.createElement(un):fn=document.createElement(this.tagName[0])):fn=document.createElement(this.tagName),this.className&&fn.classList.add(this.className),fn},cn.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},cn.prototype.clone=function(){var un=this.domNode.cloneNode(!1);return an.create(un)},cn.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[an.DATA_KEY]},cn.prototype.deleteAt=function(un,fn){var hn=this.isolate(un,fn);hn.remove()},cn.prototype.formatAt=function(un,fn,hn,pn){var gn=this.isolate(un,fn);if(an.query(hn,an.Scope.BLOT)!=null&&pn)gn.wrap(hn,pn);else if(an.query(hn,an.Scope.ATTRIBUTE)!=null){var mn=an.create(this.statics.scope);gn.wrap(mn),mn.format(hn,pn)}},cn.prototype.insertAt=function(un,fn,hn){var pn=hn==null?an.create("text",fn):an.create(fn,hn),gn=this.split(un);this.parent.insertBefore(pn,gn)},cn.prototype.insertInto=function(un,fn){fn===void 0&&(fn=null),this.parent!=null&&this.parent.children.remove(this);var hn=null;un.children.insertBefore(this,fn),fn!=null&&(hn=fn.domNode),(this.domNode.parentNode!=un.domNode||this.domNode.nextSibling!=hn)&&un.domNode.insertBefore(this.domNode,hn),this.parent=un,this.attach()},cn.prototype.isolate=function(un,fn){var hn=this.split(un);return hn.split(fn),hn},cn.prototype.length=function(){return 1},cn.prototype.offset=function(un){return un===void 0&&(un=this.parent),this.parent==null||this==un?0:this.parent.children.offset(this)+this.parent.offset(un)},cn.prototype.optimize=function(un){this.domNode[an.DATA_KEY]!=null&&delete this.domNode[an.DATA_KEY].mutations},cn.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},cn.prototype.replace=function(un){un.parent!=null&&(un.parent.insertBefore(this,un.next),un.remove())},cn.prototype.replaceWith=function(un,fn){var hn=typeof un=="string"?an.create(un,fn):un;return hn.replace(this),hn},cn.prototype.split=function(un,fn){return un===0?this:this.next},cn.prototype.update=function(un,fn){},cn.prototype.wrap=function(un,fn){var hn=typeof un=="string"?an.create(un,fn):un;return this.parent!=null&&this.parent.insertBefore(hn,this.next),hn.appendChild(this),hn},cn.blotName="abstract",cn}();nn.default=ln},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(12),ln=rn(32),cn=rn(33),un=rn(1),fn=function(){function hn(pn){this.attributes={},this.domNode=pn,this.build()}return hn.prototype.attribute=function(pn,gn){gn?pn.add(this.domNode,gn)&&(pn.value(this.domNode)!=null?this.attributes[pn.attrName]=pn:delete this.attributes[pn.attrName]):(pn.remove(this.domNode),delete this.attributes[pn.attrName])},hn.prototype.build=function(){var pn=this;this.attributes={};var gn=an.default.keys(this.domNode),mn=ln.default.keys(this.domNode),_n=cn.default.keys(this.domNode);gn.concat(mn).concat(_n).forEach(function(kn){var Cn=un.query(kn,un.Scope.ATTRIBUTE);Cn instanceof an.default&&(pn.attributes[Cn.attrName]=Cn)})},hn.prototype.copy=function(pn){var gn=this;Object.keys(this.attributes).forEach(function(mn){var _n=gn.attributes[mn].value(gn.domNode);pn.format(mn,_n)})},hn.prototype.move=function(pn){var gn=this;this.copy(pn),Object.keys(this.attributes).forEach(function(mn){gn.attributes[mn].remove(gn.domNode)}),this.attributes={}},hn.prototype.values=function(){var pn=this;return Object.keys(this.attributes).reduce(function(gn,mn){return gn[mn]=pn.attributes[mn].value(pn.domNode),gn},{})},hn}();nn.default=fn},function(tn,nn,rn){var an=this&&this.__extends||function(){var fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(hn,pn){hn.__proto__=pn}||function(hn,pn){for(var gn in pn)pn.hasOwnProperty(gn)&&(hn[gn]=pn[gn])};return function(hn,pn){fn(hn,pn);function gn(){this.constructor=hn}hn.prototype=pn===null?Object.create(pn):(gn.prototype=pn.prototype,new gn)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(12);function cn(fn,hn){var pn=fn.getAttribute("class")||"";return pn.split(/\s+/).filter(function(gn){return gn.indexOf(hn+"-")===0})}var un=function(fn){an(hn,fn);function hn(){return fn!==null&&fn.apply(this,arguments)||this}return hn.keys=function(pn){return(pn.getAttribute("class")||"").split(/\s+/).map(function(gn){return gn.split("-").slice(0,-1).join("-")})},hn.prototype.add=function(pn,gn){return this.canAdd(pn,gn)?(this.remove(pn),pn.classList.add(this.keyName+"-"+gn),!0):!1},hn.prototype.remove=function(pn){var gn=cn(pn,this.keyName);gn.forEach(function(mn){pn.classList.remove(mn)}),pn.classList.length===0&&pn.removeAttribute("class")},hn.prototype.value=function(pn){var gn=cn(pn,this.keyName)[0]||"",mn=gn.slice(this.keyName.length+1);return this.canAdd(pn,mn)?mn:""},hn}(ln.default);nn.default=un},function(tn,nn,rn){var an=this&&this.__extends||function(){var fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(hn,pn){hn.__proto__=pn}||function(hn,pn){for(var gn in pn)pn.hasOwnProperty(gn)&&(hn[gn]=pn[gn])};return function(hn,pn){fn(hn,pn);function gn(){this.constructor=hn}hn.prototype=pn===null?Object.create(pn):(gn.prototype=pn.prototype,new gn)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(12);function cn(fn){var hn=fn.split("-"),pn=hn.slice(1).map(function(gn){return gn[0].toUpperCase()+gn.slice(1)}).join("");return hn[0]+pn}var un=function(fn){an(hn,fn);function hn(){return fn!==null&&fn.apply(this,arguments)||this}return hn.keys=function(pn){return(pn.getAttribute("style")||"").split(";").map(function(gn){var mn=gn.split(":");return mn[0].trim()})},hn.prototype.add=function(pn,gn){return this.canAdd(pn,gn)?(pn.style[cn(this.keyName)]=gn,!0):!1},hn.prototype.remove=function(pn){pn.style[cn(this.keyName)]="",pn.getAttribute("style")||pn.removeAttribute("style")},hn.prototype.value=function(pn){var gn=pn.style[cn(this.keyName)];return this.canAdd(pn,gn)?gn:""},hn}(ln.default);nn.default=un},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function un(fn,hn){for(var pn=0;pn<hn.length;pn++){var gn=hn[pn];gn.enumerable=gn.enumerable||!1,gn.configurable=!0,"value"in gn&&(gn.writable=!0),Object.defineProperty(fn,gn.key,gn)}}return function(fn,hn,pn){return hn&&un(fn.prototype,hn),pn&&un(fn,pn),fn}}();function ln(un,fn){if(!(un instanceof fn))throw new TypeError("Cannot call a class as a function")}var cn=function(){function un(fn,hn){ln(this,un),this.quill=fn,this.options=hn,this.modules={}}return an(un,[{key:"init",value:function(){var hn=this;Object.keys(this.options.modules).forEach(function(pn){hn.modules[pn]==null&&hn.addModule(pn)})}},{key:"addModule",value:function(hn){var pn=this.quill.constructor.import("modules/"+hn);return this.modules[hn]=new pn(this.quill,this.options.modules[hn]||{}),this.modules[hn]}}]),un}();cn.DEFAULTS={modules:{}},cn.themes={default:cn},nn.default=cn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function xn(Sn,Mn){for(var In=0;In<Mn.length;In++){var On=Mn[In];On.enumerable=On.enumerable||!1,On.configurable=!0,"value"in On&&(On.writable=!0),Object.defineProperty(Sn,On.key,On)}}return function(Sn,Mn,In){return Mn&&xn(Sn.prototype,Mn),In&&xn(Sn,In),Sn}}(),ln=function xn(Sn,Mn,In){Sn===null&&(Sn=Function.prototype);var On=Object.getOwnPropertyDescriptor(Sn,Mn);if(On===void 0){var Pn=Object.getPrototypeOf(Sn);return Pn===null?void 0:xn(Pn,Mn,In)}else{if("value"in On)return On.value;var Tn=On.get;return Tn===void 0?void 0:Tn.call(In)}},cn=rn(0),un=pn(cn),fn=rn(7),hn=pn(fn);function pn(xn){return xn&&xn.__esModule?xn:{default:xn}}function gn(xn,Sn){if(!(xn instanceof Sn))throw new TypeError("Cannot call a class as a function")}function mn(xn,Sn){if(!xn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Sn&&(typeof Sn=="object"||typeof Sn=="function")?Sn:xn}function _n(xn,Sn){if(typeof Sn!="function"&&Sn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Sn);xn.prototype=Object.create(Sn&&Sn.prototype,{constructor:{value:xn,enumerable:!1,writable:!0,configurable:!0}}),Sn&&(Object.setPrototypeOf?Object.setPrototypeOf(xn,Sn):xn.__proto__=Sn)}var kn="\uFEFF",Cn=function(xn){_n(Sn,xn);function Sn(Mn){gn(this,Sn);var In=mn(this,(Sn.__proto__||Object.getPrototypeOf(Sn)).call(this,Mn));return In.contentNode=document.createElement("span"),In.contentNode.setAttribute("contenteditable",!1),[].slice.call(In.domNode.childNodes).forEach(function(On){In.contentNode.appendChild(On)}),In.leftGuard=document.createTextNode(kn),In.rightGuard=document.createTextNode(kn),In.domNode.appendChild(In.leftGuard),In.domNode.appendChild(In.contentNode),In.domNode.appendChild(In.rightGuard),In}return an(Sn,[{key:"index",value:function(In,On){return In===this.leftGuard?0:In===this.rightGuard?1:ln(Sn.prototype.__proto__||Object.getPrototypeOf(Sn.prototype),"index",this).call(this,In,On)}},{key:"restore",value:function(In){var On=void 0,Pn=void 0,Tn=In.data.split(kn).join("");if(In===this.leftGuard)if(this.prev instanceof hn.default){var Nn=this.prev.length();this.prev.insertAt(Nn,Tn),On={startNode:this.prev.domNode,startOffset:Nn+Tn.length}}else Pn=document.createTextNode(Tn),this.parent.insertBefore(un.default.create(Pn),this),On={startNode:Pn,startOffset:Tn.length};else In===this.rightGuard&&(this.next instanceof hn.default?(this.next.insertAt(0,Tn),On={startNode:this.next.domNode,startOffset:Tn.length}):(Pn=document.createTextNode(Tn),this.parent.insertBefore(un.default.create(Pn),this.next),On={startNode:Pn,startOffset:Tn.length}));return In.data=kn,On}},{key:"update",value:function(In,On){var Pn=this;In.forEach(function(Tn){if(Tn.type==="characterData"&&(Tn.target===Pn.leftGuard||Tn.target===Pn.rightGuard)){var Nn=Pn.restore(Tn.target);Nn&&(On.range=Nn)}})}}]),Sn}(un.default.Embed);nn.default=Cn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.AlignStyle=nn.AlignClass=nn.AlignAttribute=void 0;var an=rn(0),ln=cn(an);function cn(gn){return gn&&gn.__esModule?gn:{default:gn}}var un={scope:ln.default.Scope.BLOCK,whitelist:["right","center","justify"]},fn=new ln.default.Attributor.Attribute("align","align",un),hn=new ln.default.Attributor.Class("align","ql-align",un),pn=new ln.default.Attributor.Style("align","text-align",un);nn.AlignAttribute=fn,nn.AlignClass=hn,nn.AlignStyle=pn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.BackgroundStyle=nn.BackgroundClass=void 0;var an=rn(0),ln=un(an),cn=rn(26);function un(pn){return pn&&pn.__esModule?pn:{default:pn}}var fn=new ln.default.Attributor.Class("background","ql-bg",{scope:ln.default.Scope.INLINE}),hn=new cn.ColorAttributor("background","background-color",{scope:ln.default.Scope.INLINE});nn.BackgroundClass=fn,nn.BackgroundStyle=hn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.DirectionStyle=nn.DirectionClass=nn.DirectionAttribute=void 0;var an=rn(0),ln=cn(an);function cn(gn){return gn&&gn.__esModule?gn:{default:gn}}var un={scope:ln.default.Scope.BLOCK,whitelist:["rtl"]},fn=new ln.default.Attributor.Attribute("direction","dir",un),hn=new ln.default.Attributor.Class("direction","ql-direction",un),pn=new ln.default.Attributor.Style("direction","direction",un);nn.DirectionAttribute=fn,nn.DirectionClass=hn,nn.DirectionStyle=pn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.FontClass=nn.FontStyle=void 0;var an=function(){function xn(Sn,Mn){for(var In=0;In<Mn.length;In++){var On=Mn[In];On.enumerable=On.enumerable||!1,On.configurable=!0,"value"in On&&(On.writable=!0),Object.defineProperty(Sn,On.key,On)}}return function(Sn,Mn,In){return Mn&&xn(Sn.prototype,Mn),In&&xn(Sn,In),Sn}}(),ln=function xn(Sn,Mn,In){Sn===null&&(Sn=Function.prototype);var On=Object.getOwnPropertyDescriptor(Sn,Mn);if(On===void 0){var Pn=Object.getPrototypeOf(Sn);return Pn===null?void 0:xn(Pn,Mn,In)}else{if("value"in On)return On.value;var Tn=On.get;return Tn===void 0?void 0:Tn.call(In)}},cn=rn(0),un=fn(cn);function fn(xn){return xn&&xn.__esModule?xn:{default:xn}}function hn(xn,Sn){if(!(xn instanceof Sn))throw new TypeError("Cannot call a class as a function")}function pn(xn,Sn){if(!xn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Sn&&(typeof Sn=="object"||typeof Sn=="function")?Sn:xn}function gn(xn,Sn){if(typeof Sn!="function"&&Sn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Sn);xn.prototype=Object.create(Sn&&Sn.prototype,{constructor:{value:xn,enumerable:!1,writable:!0,configurable:!0}}),Sn&&(Object.setPrototypeOf?Object.setPrototypeOf(xn,Sn):xn.__proto__=Sn)}var mn={scope:un.default.Scope.INLINE,whitelist:["serif","monospace"]},_n=new un.default.Attributor.Class("font","ql-font",mn),kn=function(xn){gn(Sn,xn);function Sn(){return hn(this,Sn),pn(this,(Sn.__proto__||Object.getPrototypeOf(Sn)).apply(this,arguments))}return an(Sn,[{key:"value",value:function(In){return ln(Sn.prototype.__proto__||Object.getPrototypeOf(Sn.prototype),"value",this).call(this,In).replace(/["']/g,"")}}]),Sn}(un.default.Attributor.Style),Cn=new kn("font","font-family",mn);nn.FontStyle=Cn,nn.FontClass=_n},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.SizeStyle=nn.SizeClass=void 0;var an=rn(0),ln=cn(an);function cn(hn){return hn&&hn.__esModule?hn:{default:hn}}var un=new ln.default.Attributor.Class("size","ql-size",{scope:ln.default.Scope.INLINE,whitelist:["small","large","huge"]}),fn=new ln.default.Attributor.Style("size","font-size",{scope:ln.default.Scope.INLINE,whitelist:["10px","18px","32px"]});nn.SizeClass=un,nn.SizeStyle=fn},function(tn,nn,rn){tn.exports={align:{"":rn(76),center:rn(77),right:rn(78),justify:rn(79)},background:rn(80),blockquote:rn(81),bold:rn(82),clean:rn(83),code:rn(58),"code-block":rn(58),color:rn(84),direction:{"":rn(85),rtl:rn(86)},float:{center:rn(87),full:rn(88),left:rn(89),right:rn(90)},formula:rn(91),header:{1:rn(92),2:rn(93)},italic:rn(94),image:rn(95),indent:{"+1":rn(96),"-1":rn(97)},link:rn(98),list:{ordered:rn(99),bullet:rn(100),check:rn(101)},script:{sub:rn(102),super:rn(103)},strike:rn(104),underline:rn(105),video:rn(106)}},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.getLastChangeIndex=nn.default=void 0;var an=function(){function Mn(In,On){for(var Pn=0;Pn<On.length;Pn++){var Tn=On[Pn];Tn.enumerable=Tn.enumerable||!1,Tn.configurable=!0,"value"in Tn&&(Tn.writable=!0),Object.defineProperty(In,Tn.key,Tn)}}return function(In,On,Pn){return On&&Mn(In.prototype,On),Pn&&Mn(In,Pn),In}}(),ln=rn(0),cn=gn(ln),un=rn(5),fn=gn(un),hn=rn(9),pn=gn(hn);function gn(Mn){return Mn&&Mn.__esModule?Mn:{default:Mn}}function mn(Mn,In){if(!(Mn instanceof In))throw new TypeError("Cannot call a class as a function")}function _n(Mn,In){if(!Mn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return In&&(typeof In=="object"||typeof In=="function")?In:Mn}function kn(Mn,In){if(typeof In!="function"&&In!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof In);Mn.prototype=Object.create(In&&In.prototype,{constructor:{value:Mn,enumerable:!1,writable:!0,configurable:!0}}),In&&(Object.setPrototypeOf?Object.setPrototypeOf(Mn,In):Mn.__proto__=In)}var Cn=function(Mn){kn(In,Mn);function In(On,Pn){mn(this,In);var Tn=_n(this,(In.__proto__||Object.getPrototypeOf(In)).call(this,On,Pn));return Tn.lastRecorded=0,Tn.ignoreChange=!1,Tn.clear(),Tn.quill.on(fn.default.events.EDITOR_CHANGE,function(Nn,Hn,Un,jn){Nn!==fn.default.events.TEXT_CHANGE||Tn.ignoreChange||(!Tn.options.userOnly||jn===fn.default.sources.USER?Tn.record(Hn,Un):Tn.transform(Hn))}),Tn.quill.keyboard.addBinding({key:"Z",shortKey:!0},Tn.undo.bind(Tn)),Tn.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},Tn.redo.bind(Tn)),/Win/i.test(navigator.platform)&&Tn.quill.keyboard.addBinding({key:"Y",shortKey:!0},Tn.redo.bind(Tn)),Tn}return an(In,[{key:"change",value:function(Pn,Tn){if(this.stack[Pn].length!==0){var Nn=this.stack[Pn].pop();this.stack[Tn].push(Nn),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(Nn[Pn],fn.default.sources.USER),this.ignoreChange=!1;var Hn=Sn(Nn[Pn]);this.quill.setSelection(Hn)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(Pn,Tn){if(Pn.ops.length!==0){this.stack.redo=[];var Nn=this.quill.getContents().diff(Tn),Hn=Date.now();if(this.lastRecorded+this.options.delay>Hn&&this.stack.undo.length>0){var Un=this.stack.undo.pop();Nn=Nn.compose(Un.undo),Pn=Un.redo.compose(Pn)}else this.lastRecorded=Hn;this.stack.undo.push({redo:Pn,undo:Nn}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(Pn){this.stack.undo.forEach(function(Tn){Tn.undo=Pn.transform(Tn.undo,!0),Tn.redo=Pn.transform(Tn.redo,!0)}),this.stack.redo.forEach(function(Tn){Tn.undo=Pn.transform(Tn.undo,!0),Tn.redo=Pn.transform(Tn.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),In}(pn.default);Cn.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function xn(Mn){var In=Mn.ops[Mn.ops.length-1];return In==null?!1:In.insert!=null?typeof In.insert=="string"&&In.insert.endsWith(`
`):In.attributes!=null?Object.keys(In.attributes).some(function(On){return cn.default.query(On,cn.default.Scope.BLOCK)!=null}):!1}function Sn(Mn){var In=Mn.reduce(function(Pn,Tn){return Pn+=Tn.delete||0,Pn},0),On=Mn.length()-In;return xn(Mn)&&(On-=1),On}nn.default=Cn,nn.getLastChangeIndex=Sn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=nn.BaseTooltip=void 0;var an=function(){function Br(Jn,oi){for(var pi=0;pi<oi.length;pi++){var ri=oi[pi];ri.enumerable=ri.enumerable||!1,ri.configurable=!0,"value"in ri&&(ri.writable=!0),Object.defineProperty(Jn,ri.key,ri)}}return function(Jn,oi,pi){return oi&&Br(Jn.prototype,oi),pi&&Br(Jn,pi),Jn}}(),ln=function Br(Jn,oi,pi){Jn===null&&(Jn=Function.prototype);var ri=Object.getOwnPropertyDescriptor(Jn,oi);if(ri===void 0){var fi=Object.getPrototypeOf(Jn);return fi===null?void 0:Br(fi,oi,pi)}else{if("value"in ri)return ri.value;var yi=ri.get;return yi===void 0?void 0:yi.call(pi)}},cn=rn(3),un=Hn(cn),fn=rn(2),hn=Hn(fn),pn=rn(8),gn=Hn(pn),mn=rn(23),_n=Hn(mn),kn=rn(34),Cn=Hn(kn),xn=rn(59),Sn=Hn(xn),Mn=rn(60),In=Hn(Mn),On=rn(28),Pn=Hn(On),Tn=rn(61),Nn=Hn(Tn);function Hn(Br){return Br&&Br.__esModule?Br:{default:Br}}function Un(Br,Jn){if(!(Br instanceof Jn))throw new TypeError("Cannot call a class as a function")}function jn(Br,Jn){if(!Br)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Jn&&(typeof Jn=="object"||typeof Jn=="function")?Jn:Br}function Yn(Br,Jn){if(typeof Jn!="function"&&Jn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Jn);Br.prototype=Object.create(Jn&&Jn.prototype,{constructor:{value:Br,enumerable:!1,writable:!0,configurable:!0}}),Jn&&(Object.setPrototypeOf?Object.setPrototypeOf(Br,Jn):Br.__proto__=Jn)}var Wn=[!1,"center","right","justify"],Qn=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Xn=[!1,"serif","monospace"],jr=["1","2","3",!1],Wr=["small",!1,"large","huge"],Jr=function(Br){Yn(Jn,Br);function Jn(oi,pi){Un(this,Jn);var ri=jn(this,(Jn.__proto__||Object.getPrototypeOf(Jn)).call(this,oi,pi)),fi=function yi(Si){if(!document.body.contains(oi.root))return document.body.removeEventListener("click",yi);ri.tooltip!=null&&!ri.tooltip.root.contains(Si.target)&&document.activeElement!==ri.tooltip.textbox&&!ri.quill.hasFocus()&&ri.tooltip.hide(),ri.pickers!=null&&ri.pickers.forEach(function(Pi){Pi.container.contains(Si.target)||Pi.close()})};return oi.emitter.listenDOM("click",document.body,fi),ri}return an(Jn,[{key:"addModule",value:function(pi){var ri=ln(Jn.prototype.__proto__||Object.getPrototypeOf(Jn.prototype),"addModule",this).call(this,pi);return pi==="toolbar"&&this.extendToolbar(ri),ri}},{key:"buildButtons",value:function(pi,ri){pi.forEach(function(fi){var yi=fi.getAttribute("class")||"";yi.split(/\s+/).forEach(function(Si){if(Si.startsWith("ql-")&&(Si=Si.slice(3),ri[Si]!=null))if(Si==="direction")fi.innerHTML=ri[Si][""]+ri[Si].rtl;else if(typeof ri[Si]=="string")fi.innerHTML=ri[Si];else{var Pi=fi.value||"";Pi!=null&&ri[Si][Pi]&&(fi.innerHTML=ri[Si][Pi])}})})}},{key:"buildPickers",value:function(pi,ri){var fi=this;this.pickers=pi.map(function(Si){if(Si.classList.contains("ql-align"))return Si.querySelector("option")==null&&Zr(Si,Wn),new In.default(Si,ri.align);if(Si.classList.contains("ql-background")||Si.classList.contains("ql-color")){var Pi=Si.classList.contains("ql-background")?"background":"color";return Si.querySelector("option")==null&&Zr(Si,Qn,Pi==="background"?"#ffffff":"#000000"),new Sn.default(Si,ri[Pi])}else return Si.querySelector("option")==null&&(Si.classList.contains("ql-font")?Zr(Si,Xn):Si.classList.contains("ql-header")?Zr(Si,jr):Si.classList.contains("ql-size")&&Zr(Si,Wr)),new Pn.default(Si)});var yi=function(){fi.pickers.forEach(function(Pi){Pi.update()})};this.quill.on(gn.default.events.EDITOR_CHANGE,yi)}}]),Jn}(Cn.default);Jr.DEFAULTS=(0,un.default)(!0,{},Cn.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var Jn=this,oi=this.container.querySelector("input.ql-image[type=file]");oi==null&&(oi=document.createElement("input"),oi.setAttribute("type","file"),oi.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),oi.classList.add("ql-image"),oi.addEventListener("change",function(){if(oi.files!=null&&oi.files[0]!=null){var pi=new FileReader;pi.onload=function(ri){var fi=Jn.quill.getSelection(!0);Jn.quill.updateContents(new hn.default().retain(fi.index).delete(fi.length).insert({image:ri.target.result}),gn.default.sources.USER),Jn.quill.setSelection(fi.index+1,gn.default.sources.SILENT),oi.value=""},pi.readAsDataURL(oi.files[0])}}),this.container.appendChild(oi)),oi.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ci=function(Br){Yn(Jn,Br);function Jn(oi,pi){Un(this,Jn);var ri=jn(this,(Jn.__proto__||Object.getPrototypeOf(Jn)).call(this,oi,pi));return ri.textbox=ri.root.querySelector('input[type="text"]'),ri.listen(),ri}return an(Jn,[{key:"listen",value:function(){var pi=this;this.textbox.addEventListener("keydown",function(ri){_n.default.match(ri,"enter")?(pi.save(),ri.preventDefault()):_n.default.match(ri,"escape")&&(pi.cancel(),ri.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var pi=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",ri=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),ri!=null?this.textbox.value=ri:pi!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+pi)||""),this.root.setAttribute("data-mode",pi)}},{key:"restoreFocus",value:function(){var pi=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=pi}},{key:"save",value:function(){var pi=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var ri=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",pi,gn.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",pi,gn.default.sources.USER)),this.quill.root.scrollTop=ri;break}case"video":pi=ti(pi);case"formula":{if(!pi)break;var fi=this.quill.getSelection(!0);if(fi!=null){var yi=fi.index+fi.length;this.quill.insertEmbed(yi,this.root.getAttribute("data-mode"),pi,gn.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(yi+1," ",gn.default.sources.USER),this.quill.setSelection(yi+2,gn.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),Jn}(Nn.default);function ti(Br){var Jn=Br.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||Br.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return Jn?(Jn[1]||"https")+"://www.youtube.com/embed/"+Jn[2]+"?showinfo=0":(Jn=Br.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(Jn[1]||"https")+"://player.vimeo.com/video/"+Jn[2]+"/":Br}function Zr(Br,Jn){var oi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Jn.forEach(function(pi){var ri=document.createElement("option");pi===oi?ri.setAttribute("selected","selected"):ri.setAttribute("value",pi),Br.appendChild(ri)})}nn.BaseTooltip=ci,nn.default=Jr},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function ln(){this.head=this.tail=null,this.length=0}return ln.prototype.append=function(){for(var cn=[],un=0;un<arguments.length;un++)cn[un]=arguments[un];this.insertBefore(cn[0],null),cn.length>1&&this.append.apply(this,cn.slice(1))},ln.prototype.contains=function(cn){for(var un,fn=this.iterator();un=fn();)if(un===cn)return!0;return!1},ln.prototype.insertBefore=function(cn,un){cn&&(cn.next=un,un!=null?(cn.prev=un.prev,un.prev!=null&&(un.prev.next=cn),un.prev=cn,un===this.head&&(this.head=cn)):this.tail!=null?(this.tail.next=cn,cn.prev=this.tail,this.tail=cn):(cn.prev=null,this.head=this.tail=cn),this.length+=1)},ln.prototype.offset=function(cn){for(var un=0,fn=this.head;fn!=null;){if(fn===cn)return un;un+=fn.length(),fn=fn.next}return-1},ln.prototype.remove=function(cn){this.contains(cn)&&(cn.prev!=null&&(cn.prev.next=cn.next),cn.next!=null&&(cn.next.prev=cn.prev),cn===this.head&&(this.head=cn.next),cn===this.tail&&(this.tail=cn.prev),this.length-=1)},ln.prototype.iterator=function(cn){return cn===void 0&&(cn=this.head),function(){var un=cn;return cn!=null&&(cn=cn.next),un}},ln.prototype.find=function(cn,un){un===void 0&&(un=!1);for(var fn,hn=this.iterator();fn=hn();){var pn=fn.length();if(cn<pn||un&&cn===pn&&(fn.next==null||fn.next.length()!==0))return[fn,cn];cn-=pn}return[null,0]},ln.prototype.forEach=function(cn){for(var un,fn=this.iterator();un=fn();)cn(un)},ln.prototype.forEachAt=function(cn,un,fn){if(!(un<=0))for(var hn=this.find(cn),pn=hn[0],gn=hn[1],mn,_n=cn-gn,kn=this.iterator(pn);(mn=kn())&&_n<cn+un;){var Cn=mn.length();cn>_n?fn(mn,cn-_n,Math.min(un,_n+Cn-cn)):fn(mn,0,Math.min(Cn,cn+un-_n)),_n+=Cn}},ln.prototype.map=function(cn){return this.reduce(function(un,fn){return un.push(cn(fn)),un},[])},ln.prototype.reduce=function(cn,un){for(var fn,hn=this.iterator();fn=hn();)un=cn(un,fn);return un},ln}();nn.default=an},function(tn,nn,rn){var an=this&&this.__extends||function(){var pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gn,mn){gn.__proto__=mn}||function(gn,mn){for(var _n in mn)mn.hasOwnProperty(_n)&&(gn[_n]=mn[_n])};return function(gn,mn){pn(gn,mn);function _n(){this.constructor=gn}gn.prototype=mn===null?Object.create(mn):(_n.prototype=mn.prototype,new _n)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(17),cn=rn(1),un={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},fn=100,hn=function(pn){an(gn,pn);function gn(mn){var _n=pn.call(this,mn)||this;return _n.scroll=_n,_n.observer=new MutationObserver(function(kn){_n.update(kn)}),_n.observer.observe(_n.domNode,un),_n.attach(),_n}return gn.prototype.detach=function(){pn.prototype.detach.call(this),this.observer.disconnect()},gn.prototype.deleteAt=function(mn,_n){this.update(),mn===0&&_n===this.length()?this.children.forEach(function(kn){kn.remove()}):pn.prototype.deleteAt.call(this,mn,_n)},gn.prototype.formatAt=function(mn,_n,kn,Cn){this.update(),pn.prototype.formatAt.call(this,mn,_n,kn,Cn)},gn.prototype.insertAt=function(mn,_n,kn){this.update(),pn.prototype.insertAt.call(this,mn,_n,kn)},gn.prototype.optimize=function(mn,_n){var kn=this;mn===void 0&&(mn=[]),_n===void 0&&(_n={}),pn.prototype.optimize.call(this,_n);for(var Cn=[].slice.call(this.observer.takeRecords());Cn.length>0;)mn.push(Cn.pop());for(var xn=function(On,Pn){Pn===void 0&&(Pn=!0),!(On==null||On===kn)&&On.domNode.parentNode!=null&&(On.domNode[cn.DATA_KEY].mutations==null&&(On.domNode[cn.DATA_KEY].mutations=[]),Pn&&xn(On.parent))},Sn=function(On){On.domNode[cn.DATA_KEY]==null||On.domNode[cn.DATA_KEY].mutations==null||(On instanceof ln.default&&On.children.forEach(Sn),On.optimize(_n))},Mn=mn,In=0;Mn.length>0;In+=1){if(In>=fn)throw new Error("[Parchment] Maximum optimize iterations reached");for(Mn.forEach(function(On){var Pn=cn.find(On.target,!0);Pn!=null&&(Pn.domNode===On.target&&(On.type==="childList"?(xn(cn.find(On.previousSibling,!1)),[].forEach.call(On.addedNodes,function(Tn){var Nn=cn.find(Tn,!1);xn(Nn,!1),Nn instanceof ln.default&&Nn.children.forEach(function(Hn){xn(Hn,!1)})})):On.type==="attributes"&&xn(Pn.prev)),xn(Pn))}),this.children.forEach(Sn),Mn=[].slice.call(this.observer.takeRecords()),Cn=Mn.slice();Cn.length>0;)mn.push(Cn.pop())}},gn.prototype.update=function(mn,_n){var kn=this;_n===void 0&&(_n={}),mn=mn||this.observer.takeRecords(),mn.map(function(Cn){var xn=cn.find(Cn.target,!0);return xn==null?null:xn.domNode[cn.DATA_KEY].mutations==null?(xn.domNode[cn.DATA_KEY].mutations=[Cn],xn):(xn.domNode[cn.DATA_KEY].mutations.push(Cn),null)}).forEach(function(Cn){Cn==null||Cn===kn||Cn.domNode[cn.DATA_KEY]==null||Cn.update(Cn.domNode[cn.DATA_KEY].mutations||[],_n)}),this.domNode[cn.DATA_KEY].mutations!=null&&pn.prototype.update.call(this,this.domNode[cn.DATA_KEY].mutations,_n),this.optimize(mn,_n)},gn.blotName="scroll",gn.defaultChild="block",gn.scope=cn.Scope.BLOCK_BLOT,gn.tagName="DIV",gn}(ln.default);nn.default=hn},function(tn,nn,rn){var an=this&&this.__extends||function(){var hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pn,gn){pn.__proto__=gn}||function(pn,gn){for(var mn in gn)gn.hasOwnProperty(mn)&&(pn[mn]=gn[mn])};return function(pn,gn){hn(pn,gn);function mn(){this.constructor=pn}pn.prototype=gn===null?Object.create(gn):(mn.prototype=gn.prototype,new mn)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(18),cn=rn(1);function un(hn,pn){if(Object.keys(hn).length!==Object.keys(pn).length)return!1;for(var gn in hn)if(hn[gn]!==pn[gn])return!1;return!0}var fn=function(hn){an(pn,hn);function pn(){return hn!==null&&hn.apply(this,arguments)||this}return pn.formats=function(gn){if(gn.tagName!==pn.tagName)return hn.formats.call(this,gn)},pn.prototype.format=function(gn,mn){var _n=this;gn===this.statics.blotName&&!mn?(this.children.forEach(function(kn){kn instanceof ln.default||(kn=kn.wrap(pn.blotName,!0)),_n.attributes.copy(kn)}),this.unwrap()):hn.prototype.format.call(this,gn,mn)},pn.prototype.formatAt=function(gn,mn,_n,kn){if(this.formats()[_n]!=null||cn.query(_n,cn.Scope.ATTRIBUTE)){var Cn=this.isolate(gn,mn);Cn.format(_n,kn)}else hn.prototype.formatAt.call(this,gn,mn,_n,kn)},pn.prototype.optimize=function(gn){hn.prototype.optimize.call(this,gn);var mn=this.formats();if(Object.keys(mn).length===0)return this.unwrap();var _n=this.next;_n instanceof pn&&_n.prev===this&&un(mn,_n.formats())&&(_n.moveChildren(this),_n.remove())},pn.blotName="inline",pn.scope=cn.Scope.INLINE_BLOT,pn.tagName="SPAN",pn}(ln.default);nn.default=fn},function(tn,nn,rn){var an=this&&this.__extends||function(){var fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(hn,pn){hn.__proto__=pn}||function(hn,pn){for(var gn in pn)pn.hasOwnProperty(gn)&&(hn[gn]=pn[gn])};return function(hn,pn){fn(hn,pn);function gn(){this.constructor=hn}hn.prototype=pn===null?Object.create(pn):(gn.prototype=pn.prototype,new gn)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(18),cn=rn(1),un=function(fn){an(hn,fn);function hn(){return fn!==null&&fn.apply(this,arguments)||this}return hn.formats=function(pn){var gn=cn.query(hn.blotName).tagName;if(pn.tagName!==gn)return fn.formats.call(this,pn)},hn.prototype.format=function(pn,gn){cn.query(pn,cn.Scope.BLOCK)!=null&&(pn===this.statics.blotName&&!gn?this.replaceWith(hn.blotName):fn.prototype.format.call(this,pn,gn))},hn.prototype.formatAt=function(pn,gn,mn,_n){cn.query(mn,cn.Scope.BLOCK)!=null?this.format(mn,_n):fn.prototype.formatAt.call(this,pn,gn,mn,_n)},hn.prototype.insertAt=function(pn,gn,mn){if(mn==null||cn.query(gn,cn.Scope.INLINE)!=null)fn.prototype.insertAt.call(this,pn,gn,mn);else{var _n=this.split(pn),kn=cn.create(gn,mn);_n.parent.insertBefore(kn,_n)}},hn.prototype.update=function(pn,gn){navigator.userAgent.match(/Trident/)?this.build():fn.prototype.update.call(this,pn,gn)},hn.blotName="block",hn.scope=cn.Scope.BLOCK_BLOT,hn.tagName="P",hn}(ln.default);nn.default=un},function(tn,nn,rn){var an=this&&this.__extends||function(){var un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fn,hn){fn.__proto__=hn}||function(fn,hn){for(var pn in hn)hn.hasOwnProperty(pn)&&(fn[pn]=hn[pn])};return function(fn,hn){un(fn,hn);function pn(){this.constructor=fn}fn.prototype=hn===null?Object.create(hn):(pn.prototype=hn.prototype,new pn)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(19),cn=function(un){an(fn,un);function fn(){return un!==null&&un.apply(this,arguments)||this}return fn.formats=function(hn){},fn.prototype.format=function(hn,pn){un.prototype.formatAt.call(this,0,this.length(),hn,pn)},fn.prototype.formatAt=function(hn,pn,gn,mn){hn===0&&pn===this.length()?this.format(gn,mn):un.prototype.formatAt.call(this,hn,pn,gn,mn)},fn.prototype.formats=function(){return this.statics.formats(this.domNode)},fn}(ln.default);nn.default=cn},function(tn,nn,rn){var an=this&&this.__extends||function(){var fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(hn,pn){hn.__proto__=pn}||function(hn,pn){for(var gn in pn)pn.hasOwnProperty(gn)&&(hn[gn]=pn[gn])};return function(hn,pn){fn(hn,pn);function gn(){this.constructor=hn}hn.prototype=pn===null?Object.create(pn):(gn.prototype=pn.prototype,new gn)}}();Object.defineProperty(nn,"__esModule",{value:!0});var ln=rn(19),cn=rn(1),un=function(fn){an(hn,fn);function hn(pn){var gn=fn.call(this,pn)||this;return gn.text=gn.statics.value(gn.domNode),gn}return hn.create=function(pn){return document.createTextNode(pn)},hn.value=function(pn){var gn=pn.data;return gn.normalize&&(gn=gn.normalize()),gn},hn.prototype.deleteAt=function(pn,gn){this.domNode.data=this.text=this.text.slice(0,pn)+this.text.slice(pn+gn)},hn.prototype.index=function(pn,gn){return this.domNode===pn?gn:-1},hn.prototype.insertAt=function(pn,gn,mn){mn==null?(this.text=this.text.slice(0,pn)+gn+this.text.slice(pn),this.domNode.data=this.text):fn.prototype.insertAt.call(this,pn,gn,mn)},hn.prototype.length=function(){return this.text.length},hn.prototype.optimize=function(pn){fn.prototype.optimize.call(this,pn),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof hn&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},hn.prototype.position=function(pn,gn){return[this.domNode,pn]},hn.prototype.split=function(pn,gn){if(gn===void 0&&(gn=!1),!gn){if(pn===0)return this;if(pn===this.length())return this.next}var mn=cn.create(this.domNode.splitText(pn));return this.parent.insertBefore(mn,this.next),this.text=this.statics.value(this.domNode),mn},hn.prototype.update=function(pn,gn){var mn=this;pn.some(function(_n){return _n.type==="characterData"&&_n.target===mn.domNode})&&(this.text=this.statics.value(this.domNode))},hn.prototype.value=function(){return this.text},hn.blotName="text",hn.scope=cn.Scope.INLINE_BLOT,hn}(ln.default);nn.default=un},function(tn,nn,rn){var an=document.createElement("div");if(an.classList.toggle("test-class",!1),an.classList.contains("test-class")){var ln=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(cn,un){return arguments.length>1&&!this.contains(cn)==!un?un:ln.call(this,cn)}}String.prototype.startsWith||(String.prototype.startsWith=function(cn,un){return un=un||0,this.substr(un,cn.length)===cn}),String.prototype.endsWith||(String.prototype.endsWith=function(cn,un){var fn=this.toString();(typeof un!="number"||!isFinite(un)||Math.floor(un)!==un||un>fn.length)&&(un=fn.length),un-=cn.length;var hn=fn.indexOf(cn,un);return hn!==-1&&hn===un}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(un){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof un!="function")throw new TypeError("predicate must be a function");for(var fn=Object(this),hn=fn.length>>>0,pn=arguments[1],gn,mn=0;mn<hn;mn++)if(gn=fn[mn],un.call(pn,gn,mn,fn))return gn}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(tn,nn){var rn=-1,an=1,ln=0;function cn(In,On,Pn){if(In==On)return In?[[ln,In]]:[];(Pn<0||In.length<Pn)&&(Pn=null);var Tn=pn(In,On),Nn=In.substring(0,Tn);In=In.substring(Tn),On=On.substring(Tn),Tn=gn(In,On);var Hn=In.substring(In.length-Tn);In=In.substring(0,In.length-Tn),On=On.substring(0,On.length-Tn);var Un=un(In,On);return Nn&&Un.unshift([ln,Nn]),Hn&&Un.push([ln,Hn]),_n(Un),Pn!=null&&(Un=xn(Un,Pn)),Un=Sn(Un),Un}function un(In,On){var Pn;if(!In)return[[an,On]];if(!On)return[[rn,In]];var Tn=In.length>On.length?In:On,Nn=In.length>On.length?On:In,Hn=Tn.indexOf(Nn);if(Hn!=-1)return Pn=[[an,Tn.substring(0,Hn)],[ln,Nn],[an,Tn.substring(Hn+Nn.length)]],In.length>On.length&&(Pn[0][0]=Pn[2][0]=rn),Pn;if(Nn.length==1)return[[rn,In],[an,On]];var Un=mn(In,On);if(Un){var jn=Un[0],Yn=Un[1],Wn=Un[2],Qn=Un[3],Xn=Un[4],jr=cn(jn,Wn),Wr=cn(Yn,Qn);return jr.concat([[ln,Xn]],Wr)}return fn(In,On)}function fn(In,On){for(var Pn=In.length,Tn=On.length,Nn=Math.ceil((Pn+Tn)/2),Hn=Nn,Un=2*Nn,jn=new Array(Un),Yn=new Array(Un),Wn=0;Wn<Un;Wn++)jn[Wn]=-1,Yn[Wn]=-1;jn[Hn+1]=0,Yn[Hn+1]=0;for(var Qn=Pn-Tn,Xn=Qn%2!=0,jr=0,Wr=0,Jr=0,ci=0,ti=0;ti<Nn;ti++){for(var Zr=-ti+jr;Zr<=ti-Wr;Zr+=2){var Br=Hn+Zr,Jn;Zr==-ti||Zr!=ti&&jn[Br-1]<jn[Br+1]?Jn=jn[Br+1]:Jn=jn[Br-1]+1;for(var oi=Jn-Zr;Jn<Pn&&oi<Tn&&In.charAt(Jn)==On.charAt(oi);)Jn++,oi++;if(jn[Br]=Jn,Jn>Pn)Wr+=2;else if(oi>Tn)jr+=2;else if(Xn){var pi=Hn+Qn-Zr;if(pi>=0&&pi<Un&&Yn[pi]!=-1){var ri=Pn-Yn[pi];if(Jn>=ri)return hn(In,On,Jn,oi)}}}for(var fi=-ti+Jr;fi<=ti-ci;fi+=2){var pi=Hn+fi,ri;fi==-ti||fi!=ti&&Yn[pi-1]<Yn[pi+1]?ri=Yn[pi+1]:ri=Yn[pi-1]+1;for(var yi=ri-fi;ri<Pn&&yi<Tn&&In.charAt(Pn-ri-1)==On.charAt(Tn-yi-1);)ri++,yi++;if(Yn[pi]=ri,ri>Pn)ci+=2;else if(yi>Tn)Jr+=2;else if(!Xn){var Br=Hn+Qn-fi;if(Br>=0&&Br<Un&&jn[Br]!=-1){var Jn=jn[Br],oi=Hn+Jn-Br;if(ri=Pn-ri,Jn>=ri)return hn(In,On,Jn,oi)}}}}return[[rn,In],[an,On]]}function hn(In,On,Pn,Tn){var Nn=In.substring(0,Pn),Hn=On.substring(0,Tn),Un=In.substring(Pn),jn=On.substring(Tn),Yn=cn(Nn,Hn),Wn=cn(Un,jn);return Yn.concat(Wn)}function pn(In,On){if(!In||!On||In.charAt(0)!=On.charAt(0))return 0;for(var Pn=0,Tn=Math.min(In.length,On.length),Nn=Tn,Hn=0;Pn<Nn;)In.substring(Hn,Nn)==On.substring(Hn,Nn)?(Pn=Nn,Hn=Pn):Tn=Nn,Nn=Math.floor((Tn-Pn)/2+Pn);return Nn}function gn(In,On){if(!In||!On||In.charAt(In.length-1)!=On.charAt(On.length-1))return 0;for(var Pn=0,Tn=Math.min(In.length,On.length),Nn=Tn,Hn=0;Pn<Nn;)In.substring(In.length-Nn,In.length-Hn)==On.substring(On.length-Nn,On.length-Hn)?(Pn=Nn,Hn=Pn):Tn=Nn,Nn=Math.floor((Tn-Pn)/2+Pn);return Nn}function mn(In,On){var Pn=In.length>On.length?In:On,Tn=In.length>On.length?On:In;if(Pn.length<4||Tn.length*2<Pn.length)return null;function Nn(Wr,Jr,ci){for(var ti=Wr.substring(ci,ci+Math.floor(Wr.length/4)),Zr=-1,Br="",Jn,oi,pi,ri;(Zr=Jr.indexOf(ti,Zr+1))!=-1;){var fi=pn(Wr.substring(ci),Jr.substring(Zr)),yi=gn(Wr.substring(0,ci),Jr.substring(0,Zr));Br.length<yi+fi&&(Br=Jr.substring(Zr-yi,Zr)+Jr.substring(Zr,Zr+fi),Jn=Wr.substring(0,ci-yi),oi=Wr.substring(ci+fi),pi=Jr.substring(0,Zr-yi),ri=Jr.substring(Zr+fi))}return Br.length*2>=Wr.length?[Jn,oi,pi,ri,Br]:null}var Hn=Nn(Pn,Tn,Math.ceil(Pn.length/4)),Un=Nn(Pn,Tn,Math.ceil(Pn.length/2)),jn;if(!Hn&&!Un)return null;Un?Hn?jn=Hn[4].length>Un[4].length?Hn:Un:jn=Un:jn=Hn;var Yn,Wn,Qn,Xn;In.length>On.length?(Yn=jn[0],Wn=jn[1],Qn=jn[2],Xn=jn[3]):(Qn=jn[0],Xn=jn[1],Yn=jn[2],Wn=jn[3]);var jr=jn[4];return[Yn,Wn,Qn,Xn,jr]}function _n(In){In.push([ln,""]);for(var On=0,Pn=0,Tn=0,Nn="",Hn="",Un;On<In.length;)switch(In[On][0]){case an:Tn++,Hn+=In[On][1],On++;break;case rn:Pn++,Nn+=In[On][1],On++;break;case ln:Pn+Tn>1?(Pn!==0&&Tn!==0&&(Un=pn(Hn,Nn),Un!==0&&(On-Pn-Tn>0&&In[On-Pn-Tn-1][0]==ln?In[On-Pn-Tn-1][1]+=Hn.substring(0,Un):(In.splice(0,0,[ln,Hn.substring(0,Un)]),On++),Hn=Hn.substring(Un),Nn=Nn.substring(Un)),Un=gn(Hn,Nn),Un!==0&&(In[On][1]=Hn.substring(Hn.length-Un)+In[On][1],Hn=Hn.substring(0,Hn.length-Un),Nn=Nn.substring(0,Nn.length-Un))),Pn===0?In.splice(On-Tn,Pn+Tn,[an,Hn]):Tn===0?In.splice(On-Pn,Pn+Tn,[rn,Nn]):In.splice(On-Pn-Tn,Pn+Tn,[rn,Nn],[an,Hn]),On=On-Pn-Tn+(Pn?1:0)+(Tn?1:0)+1):On!==0&&In[On-1][0]==ln?(In[On-1][1]+=In[On][1],In.splice(On,1)):On++,Tn=0,Pn=0,Nn="",Hn="";break}In[In.length-1][1]===""&&In.pop();var jn=!1;for(On=1;On<In.length-1;)In[On-1][0]==ln&&In[On+1][0]==ln&&(In[On][1].substring(In[On][1].length-In[On-1][1].length)==In[On-1][1]?(In[On][1]=In[On-1][1]+In[On][1].substring(0,In[On][1].length-In[On-1][1].length),In[On+1][1]=In[On-1][1]+In[On+1][1],In.splice(On-1,1),jn=!0):In[On][1].substring(0,In[On+1][1].length)==In[On+1][1]&&(In[On-1][1]+=In[On+1][1],In[On][1]=In[On][1].substring(In[On+1][1].length)+In[On+1][1],In.splice(On+1,1),jn=!0)),On++;jn&&_n(In)}var kn=cn;kn.INSERT=an,kn.DELETE=rn,kn.EQUAL=ln,tn.exports=kn;function Cn(In,On){if(On===0)return[ln,In];for(var Pn=0,Tn=0;Tn<In.length;Tn++){var Nn=In[Tn];if(Nn[0]===rn||Nn[0]===ln){var Hn=Pn+Nn[1].length;if(On===Hn)return[Tn+1,In];if(On<Hn){In=In.slice();var Un=On-Pn,jn=[Nn[0],Nn[1].slice(0,Un)],Yn=[Nn[0],Nn[1].slice(Un)];return In.splice(Tn,1,jn,Yn),[Tn+1,In]}else Pn=Hn}}throw new Error("cursor_pos is out of bounds!")}function xn(In,On){var Pn=Cn(In,On),Tn=Pn[1],Nn=Pn[0],Hn=Tn[Nn],Un=Tn[Nn+1];if(Hn==null)return In;if(Hn[0]!==ln)return In;if(Un!=null&&Hn[1]+Un[1]===Un[1]+Hn[1])return Tn.splice(Nn,2,Un,Hn),Mn(Tn,Nn,2);if(Un!=null&&Un[1].indexOf(Hn[1])===0){Tn.splice(Nn,2,[Un[0],Hn[1]],[0,Hn[1]]);var jn=Un[1].slice(Hn[1].length);return jn.length>0&&Tn.splice(Nn+2,0,[Un[0],jn]),Mn(Tn,Nn,3)}else return In}function Sn(In){for(var On=!1,Pn=function(Un){return Un.charCodeAt(0)>=56320&&Un.charCodeAt(0)<=57343},Tn=function(Un){return Un.charCodeAt(Un.length-1)>=55296&&Un.charCodeAt(Un.length-1)<=56319},Nn=2;Nn<In.length;Nn+=1)In[Nn-2][0]===ln&&Tn(In[Nn-2][1])&&In[Nn-1][0]===rn&&Pn(In[Nn-1][1])&&In[Nn][0]===an&&Pn(In[Nn][1])&&(On=!0,In[Nn-1][1]=In[Nn-2][1].slice(-1)+In[Nn-1][1],In[Nn][1]=In[Nn-2][1].slice(-1)+In[Nn][1],In[Nn-2][1]=In[Nn-2][1].slice(0,-1));if(!On)return In;for(var Hn=[],Nn=0;Nn<In.length;Nn+=1)In[Nn][1].length>0&&Hn.push(In[Nn]);return Hn}function Mn(In,On,Pn){for(var Tn=On+Pn-1;Tn>=0&&Tn>=On-1;Tn--)if(Tn+1<In.length){var Nn=In[Tn],Hn=In[Tn+1];Nn[0]===Hn[1]&&In.splice(Tn,2,[Nn[0],Nn[1]+Hn[1]])}return In}},function(tn,nn){nn=tn.exports=typeof Object.keys=="function"?Object.keys:rn,nn.shim=rn;function rn(an){var ln=[];for(var cn in an)ln.push(cn);return ln}},function(tn,nn){var rn=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";nn=tn.exports=rn?an:ln,nn.supported=an;function an(cn){return Object.prototype.toString.call(cn)=="[object Arguments]"}nn.unsupported=ln;function ln(cn){return cn&&typeof cn=="object"&&typeof cn.length=="number"&&Object.prototype.hasOwnProperty.call(cn,"callee")&&!Object.prototype.propertyIsEnumerable.call(cn,"callee")||!1}},function(tn,nn){var rn=Object.prototype.hasOwnProperty,an="~";function ln(){}Object.create&&(ln.prototype=Object.create(null),new ln().__proto__||(an=!1));function cn(fn,hn,pn){this.fn=fn,this.context=hn,this.once=pn||!1}function un(){this._events=new ln,this._eventsCount=0}un.prototype.eventNames=function(){var hn=[],pn,gn;if(this._eventsCount===0)return hn;for(gn in pn=this._events)rn.call(pn,gn)&&hn.push(an?gn.slice(1):gn);return Object.getOwnPropertySymbols?hn.concat(Object.getOwnPropertySymbols(pn)):hn},un.prototype.listeners=function(hn,pn){var gn=an?an+hn:hn,mn=this._events[gn];if(pn)return!!mn;if(!mn)return[];if(mn.fn)return[mn.fn];for(var _n=0,kn=mn.length,Cn=new Array(kn);_n<kn;_n++)Cn[_n]=mn[_n].fn;return Cn},un.prototype.emit=function(hn,pn,gn,mn,_n,kn){var Cn=an?an+hn:hn;if(!this._events[Cn])return!1;var xn=this._events[Cn],Sn=arguments.length,Mn,In;if(xn.fn){switch(xn.once&&this.removeListener(hn,xn.fn,void 0,!0),Sn){case 1:return xn.fn.call(xn.context),!0;case 2:return xn.fn.call(xn.context,pn),!0;case 3:return xn.fn.call(xn.context,pn,gn),!0;case 4:return xn.fn.call(xn.context,pn,gn,mn),!0;case 5:return xn.fn.call(xn.context,pn,gn,mn,_n),!0;case 6:return xn.fn.call(xn.context,pn,gn,mn,_n,kn),!0}for(In=1,Mn=new Array(Sn-1);In<Sn;In++)Mn[In-1]=arguments[In];xn.fn.apply(xn.context,Mn)}else{var On=xn.length,Pn;for(In=0;In<On;In++)switch(xn[In].once&&this.removeListener(hn,xn[In].fn,void 0,!0),Sn){case 1:xn[In].fn.call(xn[In].context);break;case 2:xn[In].fn.call(xn[In].context,pn);break;case 3:xn[In].fn.call(xn[In].context,pn,gn);break;case 4:xn[In].fn.call(xn[In].context,pn,gn,mn);break;default:if(!Mn)for(Pn=1,Mn=new Array(Sn-1);Pn<Sn;Pn++)Mn[Pn-1]=arguments[Pn];xn[In].fn.apply(xn[In].context,Mn)}}return!0},un.prototype.on=function(hn,pn,gn){var mn=new cn(pn,gn||this),_n=an?an+hn:hn;return this._events[_n]?this._events[_n].fn?this._events[_n]=[this._events[_n],mn]:this._events[_n].push(mn):(this._events[_n]=mn,this._eventsCount++),this},un.prototype.once=function(hn,pn,gn){var mn=new cn(pn,gn||this,!0),_n=an?an+hn:hn;return this._events[_n]?this._events[_n].fn?this._events[_n]=[this._events[_n],mn]:this._events[_n].push(mn):(this._events[_n]=mn,this._eventsCount++),this},un.prototype.removeListener=function(hn,pn,gn,mn){var _n=an?an+hn:hn;if(!this._events[_n])return this;if(!pn)return--this._eventsCount===0?this._events=new ln:delete this._events[_n],this;var kn=this._events[_n];if(kn.fn)kn.fn===pn&&(!mn||kn.once)&&(!gn||kn.context===gn)&&(--this._eventsCount===0?this._events=new ln:delete this._events[_n]);else{for(var Cn=0,xn=[],Sn=kn.length;Cn<Sn;Cn++)(kn[Cn].fn!==pn||mn&&!kn[Cn].once||gn&&kn[Cn].context!==gn)&&xn.push(kn[Cn]);xn.length?this._events[_n]=xn.length===1?xn[0]:xn:--this._eventsCount===0?this._events=new ln:delete this._events[_n]}return this},un.prototype.removeAllListeners=function(hn){var pn;return hn?(pn=an?an+hn:hn,this._events[pn]&&(--this._eventsCount===0?this._events=new ln:delete this._events[pn])):(this._events=new ln,this._eventsCount=0),this},un.prototype.off=un.prototype.removeListener,un.prototype.addListener=un.prototype.on,un.prototype.setMaxListeners=function(){return this},un.prefixed=an,un.EventEmitter=un,typeof tn<"u"&&(tn.exports=un)},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.matchText=nn.matchSpacing=nn.matchNewline=nn.matchBlot=nn.matchAttributor=nn.default=void 0;var an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oi){return typeof Oi}:function(Oi){return Oi&&typeof Symbol=="function"&&Oi.constructor===Symbol&&Oi!==Symbol.prototype?"symbol":typeof Oi},ln=function(){function Oi(Wi,vo){var mo=[],ro=!0,Oo=!1,Mi=void 0;try{for(var gi=Wi[Symbol.iterator](),Ti;!(ro=(Ti=gi.next()).done)&&(mo.push(Ti.value),!(vo&&mo.length===vo));ro=!0);}catch(li){Oo=!0,Mi=li}finally{try{!ro&&gi.return&&gi.return()}finally{if(Oo)throw Mi}}return mo}return function(Wi,vo){if(Array.isArray(Wi))return Wi;if(Symbol.iterator in Object(Wi))return Oi(Wi,vo);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),cn=function(){function Oi(Wi,vo){for(var mo=0;mo<vo.length;mo++){var ro=vo[mo];ro.enumerable=ro.enumerable||!1,ro.configurable=!0,"value"in ro&&(ro.writable=!0),Object.defineProperty(Wi,ro.key,ro)}}return function(Wi,vo,mo){return vo&&Oi(Wi.prototype,vo),mo&&Oi(Wi,mo),Wi}}(),un=rn(3),fn=Yn(un),hn=rn(2),pn=Yn(hn),gn=rn(0),mn=Yn(gn),_n=rn(5),kn=Yn(_n),Cn=rn(10),xn=Yn(Cn),Sn=rn(9),Mn=Yn(Sn),In=rn(36),On=rn(37),Pn=rn(13),Tn=Yn(Pn),Nn=rn(26),Hn=rn(38),Un=rn(39),jn=rn(40);function Yn(Oi){return Oi&&Oi.__esModule?Oi:{default:Oi}}function Wn(Oi,Wi,vo){return Wi in Oi?Object.defineProperty(Oi,Wi,{value:vo,enumerable:!0,configurable:!0,writable:!0}):Oi[Wi]=vo,Oi}function Qn(Oi,Wi){if(!(Oi instanceof Wi))throw new TypeError("Cannot call a class as a function")}function Xn(Oi,Wi){if(!Oi)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Wi&&(typeof Wi=="object"||typeof Wi=="function")?Wi:Oi}function jr(Oi,Wi){if(typeof Wi!="function"&&Wi!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Wi);Oi.prototype=Object.create(Wi&&Wi.prototype,{constructor:{value:Oi,enumerable:!1,writable:!0,configurable:!0}}),Wi&&(Object.setPrototypeOf?Object.setPrototypeOf(Oi,Wi):Oi.__proto__=Wi)}var Wr=(0,xn.default)("quill:clipboard"),Jr="__ql-matcher",ci=[[Node.TEXT_NODE,Po],[Node.TEXT_NODE,po],["br",Ui],[Node.ELEMENT_NODE,po],[Node.ELEMENT_NODE,Pi],[Node.ELEMENT_NODE,Yi],[Node.ELEMENT_NODE,Si],[Node.ELEMENT_NODE,Fo],["li",go],["b",yi.bind(yi,"bold")],["i",yi.bind(yi,"italic")],["style",ji]],ti=[In.AlignAttribute,Hn.DirectionAttribute].reduce(function(Oi,Wi){return Oi[Wi.keyName]=Wi,Oi},{}),Zr=[In.AlignStyle,On.BackgroundStyle,Nn.ColorStyle,Hn.DirectionStyle,Un.FontStyle,jn.SizeStyle].reduce(function(Oi,Wi){return Oi[Wi.keyName]=Wi,Oi},{}),Br=function(Oi){jr(Wi,Oi);function Wi(vo,mo){Qn(this,Wi);var ro=Xn(this,(Wi.__proto__||Object.getPrototypeOf(Wi)).call(this,vo,mo));return ro.quill.root.addEventListener("paste",ro.onPaste.bind(ro)),ro.container=ro.quill.addContainer("ql-clipboard"),ro.container.setAttribute("contenteditable",!0),ro.container.setAttribute("tabindex",-1),ro.matchers=[],ci.concat(ro.options.matchers).forEach(function(Oo){var Mi=ln(Oo,2),gi=Mi[0],Ti=Mi[1];!mo.matchVisual&&Ti===Yi||ro.addMatcher(gi,Ti)}),ro}return cn(Wi,[{key:"addMatcher",value:function(mo,ro){this.matchers.push([mo,ro])}},{key:"convert",value:function(mo){if(typeof mo=="string")return this.container.innerHTML=mo.replace(/\>\r?\n +\</g,"><"),this.convert();var ro=this.quill.getFormat(this.quill.selection.savedRange.index);if(ro[Tn.default.blotName]){var Oo=this.container.innerText;return this.container.innerHTML="",new pn.default().insert(Oo,Wn({},Tn.default.blotName,ro[Tn.default.blotName]))}var Mi=this.prepareMatching(),gi=ln(Mi,2),Ti=gi[0],li=gi[1],di=fi(this.container,Ti,li);return pi(di,`
`)&&di.ops[di.ops.length-1].attributes==null&&(di=di.compose(new pn.default().retain(di.length()-1).delete(1))),Wr.log("convert",this.container.innerHTML,di),this.container.innerHTML="",di}},{key:"dangerouslyPasteHTML",value:function(mo,ro){var Oo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kn.default.sources.API;if(typeof mo=="string")this.quill.setContents(this.convert(mo),ro),this.quill.setSelection(0,kn.default.sources.SILENT);else{var Mi=this.convert(ro);this.quill.updateContents(new pn.default().retain(mo).concat(Mi),Oo),this.quill.setSelection(mo+Mi.length(),kn.default.sources.SILENT)}}},{key:"onPaste",value:function(mo){var ro=this;if(!(mo.defaultPrevented||!this.quill.isEnabled())){var Oo=this.quill.getSelection(),Mi=new pn.default().retain(Oo.index),gi=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(kn.default.sources.SILENT),setTimeout(function(){Mi=Mi.concat(ro.convert()).delete(Oo.length),ro.quill.updateContents(Mi,kn.default.sources.USER),ro.quill.setSelection(Mi.length()-Oo.length,kn.default.sources.SILENT),ro.quill.scrollingContainer.scrollTop=gi,ro.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var mo=this,ro=[],Oo=[];return this.matchers.forEach(function(Mi){var gi=ln(Mi,2),Ti=gi[0],li=gi[1];switch(Ti){case Node.TEXT_NODE:Oo.push(li);break;case Node.ELEMENT_NODE:ro.push(li);break;default:[].forEach.call(mo.container.querySelectorAll(Ti),function(di){di[Jr]=di[Jr]||[],di[Jr].push(li)});break}}),[ro,Oo]}}]),Wi}(Mn.default);Br.DEFAULTS={matchers:[],matchVisual:!0};function Jn(Oi,Wi,vo){return(typeof Wi>"u"?"undefined":an(Wi))==="object"?Object.keys(Wi).reduce(function(mo,ro){return Jn(mo,ro,Wi[ro])},Oi):Oi.reduce(function(mo,ro){return ro.attributes&&ro.attributes[Wi]?mo.push(ro):mo.insert(ro.insert,(0,fn.default)({},Wn({},Wi,vo),ro.attributes))},new pn.default)}function oi(Oi){if(Oi.nodeType!==Node.ELEMENT_NODE)return{};var Wi="__ql-computed-style";return Oi[Wi]||(Oi[Wi]=window.getComputedStyle(Oi))}function pi(Oi,Wi){for(var vo="",mo=Oi.ops.length-1;mo>=0&&vo.length<Wi.length;--mo){var ro=Oi.ops[mo];if(typeof ro.insert!="string")break;vo=ro.insert+vo}return vo.slice(-1*Wi.length)===Wi}function ri(Oi){if(Oi.childNodes.length===0)return!1;var Wi=oi(Oi);return["block","list-item"].indexOf(Wi.display)>-1}function fi(Oi,Wi,vo){return Oi.nodeType===Oi.TEXT_NODE?vo.reduce(function(mo,ro){return ro(Oi,mo)},new pn.default):Oi.nodeType===Oi.ELEMENT_NODE?[].reduce.call(Oi.childNodes||[],function(mo,ro){var Oo=fi(ro,Wi,vo);return ro.nodeType===Oi.ELEMENT_NODE&&(Oo=Wi.reduce(function(Mi,gi){return gi(ro,Mi)},Oo),Oo=(ro[Jr]||[]).reduce(function(Mi,gi){return gi(ro,Mi)},Oo)),mo.concat(Oo)},new pn.default):new pn.default}function yi(Oi,Wi,vo){return Jn(vo,Oi,!0)}function Si(Oi,Wi){var vo=mn.default.Attributor.Attribute.keys(Oi),mo=mn.default.Attributor.Class.keys(Oi),ro=mn.default.Attributor.Style.keys(Oi),Oo={};return vo.concat(mo).concat(ro).forEach(function(Mi){var gi=mn.default.query(Mi,mn.default.Scope.ATTRIBUTE);gi!=null&&(Oo[gi.attrName]=gi.value(Oi),Oo[gi.attrName])||(gi=ti[Mi],gi!=null&&(gi.attrName===Mi||gi.keyName===Mi)&&(Oo[gi.attrName]=gi.value(Oi)||void 0),gi=Zr[Mi],gi!=null&&(gi.attrName===Mi||gi.keyName===Mi)&&(gi=Zr[Mi],Oo[gi.attrName]=gi.value(Oi)||void 0))}),Object.keys(Oo).length>0&&(Wi=Jn(Wi,Oo)),Wi}function Pi(Oi,Wi){var vo=mn.default.query(Oi);if(vo==null)return Wi;if(vo.prototype instanceof mn.default.Embed){var mo={},ro=vo.value(Oi);ro!=null&&(mo[vo.blotName]=ro,Wi=new pn.default().insert(mo,vo.formats(Oi)))}else typeof vo.formats=="function"&&(Wi=Jn(Wi,vo.blotName,vo.formats(Oi)));return Wi}function Ui(Oi,Wi){return pi(Wi,`
`)||Wi.insert(`
`),Wi}function ji(){return new pn.default}function go(Oi,Wi){var vo=mn.default.query(Oi);if(vo==null||vo.blotName!=="list-item"||!pi(Wi,`
`))return Wi;for(var mo=-1,ro=Oi.parentNode;!ro.classList.contains("ql-clipboard");)(mn.default.query(ro)||{}).blotName==="list"&&(mo+=1),ro=ro.parentNode;return mo<=0?Wi:Wi.compose(new pn.default().retain(Wi.length()-1).retain(1,{indent:mo}))}function po(Oi,Wi){return pi(Wi,`
`)||(ri(Oi)||Wi.length()>0&&Oi.nextSibling&&ri(Oi.nextSibling))&&Wi.insert(`
`),Wi}function Yi(Oi,Wi){if(ri(Oi)&&Oi.nextElementSibling!=null&&!pi(Wi,`

`)){var vo=Oi.offsetHeight+parseFloat(oi(Oi).marginTop)+parseFloat(oi(Oi).marginBottom);Oi.nextElementSibling.offsetTop>Oi.offsetTop+vo*1.5&&Wi.insert(`
`)}return Wi}function Fo(Oi,Wi){var vo={},mo=Oi.style||{};return mo.fontStyle&&oi(Oi).fontStyle==="italic"&&(vo.italic=!0),mo.fontWeight&&(oi(Oi).fontWeight.startsWith("bold")||parseInt(oi(Oi).fontWeight)>=700)&&(vo.bold=!0),Object.keys(vo).length>0&&(Wi=Jn(Wi,vo)),parseFloat(mo.textIndent||0)>0&&(Wi=new pn.default().insert("	").concat(Wi)),Wi}function Po(Oi,Wi){var vo=Oi.data;if(Oi.parentNode.tagName==="O:P")return Wi.insert(vo.trim());if(vo.trim().length===0&&Oi.parentNode.classList.contains("ql-clipboard"))return Wi;if(!oi(Oi.parentNode).whiteSpace.startsWith("pre")){var mo=function(Oo,Mi){return Mi=Mi.replace(/[^\u00a0]/g,""),Mi.length<1&&Oo?" ":Mi};vo=vo.replace(/\r\n/g," ").replace(/\n/g," "),vo=vo.replace(/\s\s+/g,mo.bind(mo,!0)),(Oi.previousSibling==null&&ri(Oi.parentNode)||Oi.previousSibling!=null&&ri(Oi.previousSibling))&&(vo=vo.replace(/^\s+/,mo.bind(mo,!1))),(Oi.nextSibling==null&&ri(Oi.parentNode)||Oi.nextSibling!=null&&ri(Oi.nextSibling))&&(vo=vo.replace(/\s+$/,mo.bind(mo,!1)))}return Wi.insert(vo)}nn.default=Br,nn.matchAttributor=Si,nn.matchBlot=Pi,nn.matchNewline=po,nn.matchSpacing=Yi,nn.matchText=Po},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function _n(kn,Cn){for(var xn=0;xn<Cn.length;xn++){var Sn=Cn[xn];Sn.enumerable=Sn.enumerable||!1,Sn.configurable=!0,"value"in Sn&&(Sn.writable=!0),Object.defineProperty(kn,Sn.key,Sn)}}return function(kn,Cn,xn){return Cn&&_n(kn.prototype,Cn),xn&&_n(kn,xn),kn}}(),ln=function _n(kn,Cn,xn){kn===null&&(kn=Function.prototype);var Sn=Object.getOwnPropertyDescriptor(kn,Cn);if(Sn===void 0){var Mn=Object.getPrototypeOf(kn);return Mn===null?void 0:_n(Mn,Cn,xn)}else{if("value"in Sn)return Sn.value;var In=Sn.get;return In===void 0?void 0:In.call(xn)}},cn=rn(6),un=fn(cn);function fn(_n){return _n&&_n.__esModule?_n:{default:_n}}function hn(_n,kn){if(!(_n instanceof kn))throw new TypeError("Cannot call a class as a function")}function pn(_n,kn){if(!_n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kn&&(typeof kn=="object"||typeof kn=="function")?kn:_n}function gn(_n,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kn);_n.prototype=Object.create(kn&&kn.prototype,{constructor:{value:_n,enumerable:!1,writable:!0,configurable:!0}}),kn&&(Object.setPrototypeOf?Object.setPrototypeOf(_n,kn):_n.__proto__=kn)}var mn=function(_n){gn(kn,_n);function kn(){return hn(this,kn),pn(this,(kn.__proto__||Object.getPrototypeOf(kn)).apply(this,arguments))}return an(kn,[{key:"optimize",value:function(xn){ln(kn.prototype.__proto__||Object.getPrototypeOf(kn.prototype),"optimize",this).call(this,xn),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return ln(kn.__proto__||Object.getPrototypeOf(kn),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),kn}(un.default);mn.blotName="bold",mn.tagName=["STRONG","B"],nn.default=mn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.addControls=nn.default=void 0;var an=function(){function jn(Yn,Wn){var Qn=[],Xn=!0,jr=!1,Wr=void 0;try{for(var Jr=Yn[Symbol.iterator](),ci;!(Xn=(ci=Jr.next()).done)&&(Qn.push(ci.value),!(Wn&&Qn.length===Wn));Xn=!0);}catch(ti){jr=!0,Wr=ti}finally{try{!Xn&&Jr.return&&Jr.return()}finally{if(jr)throw Wr}}return Qn}return function(Yn,Wn){if(Array.isArray(Yn))return Yn;if(Symbol.iterator in Object(Yn))return jn(Yn,Wn);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ln=function(){function jn(Yn,Wn){for(var Qn=0;Qn<Wn.length;Qn++){var Xn=Wn[Qn];Xn.enumerable=Xn.enumerable||!1,Xn.configurable=!0,"value"in Xn&&(Xn.writable=!0),Object.defineProperty(Yn,Xn.key,Xn)}}return function(Yn,Wn,Qn){return Wn&&jn(Yn.prototype,Wn),Qn&&jn(Yn,Qn),Yn}}(),cn=rn(2),un=xn(cn),fn=rn(0),hn=xn(fn),pn=rn(5),gn=xn(pn),mn=rn(10),_n=xn(mn),kn=rn(9),Cn=xn(kn);function xn(jn){return jn&&jn.__esModule?jn:{default:jn}}function Sn(jn,Yn,Wn){return Yn in jn?Object.defineProperty(jn,Yn,{value:Wn,enumerable:!0,configurable:!0,writable:!0}):jn[Yn]=Wn,jn}function Mn(jn,Yn){if(!(jn instanceof Yn))throw new TypeError("Cannot call a class as a function")}function In(jn,Yn){if(!jn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Yn&&(typeof Yn=="object"||typeof Yn=="function")?Yn:jn}function On(jn,Yn){if(typeof Yn!="function"&&Yn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Yn);jn.prototype=Object.create(Yn&&Yn.prototype,{constructor:{value:jn,enumerable:!1,writable:!0,configurable:!0}}),Yn&&(Object.setPrototypeOf?Object.setPrototypeOf(jn,Yn):jn.__proto__=Yn)}var Pn=(0,_n.default)("quill:toolbar"),Tn=function(jn){On(Yn,jn);function Yn(Wn,Qn){Mn(this,Yn);var Xn=In(this,(Yn.__proto__||Object.getPrototypeOf(Yn)).call(this,Wn,Qn));if(Array.isArray(Xn.options.container)){var jr=document.createElement("div");Hn(jr,Xn.options.container),Wn.container.parentNode.insertBefore(jr,Wn.container),Xn.container=jr}else typeof Xn.options.container=="string"?Xn.container=document.querySelector(Xn.options.container):Xn.container=Xn.options.container;if(!(Xn.container instanceof HTMLElement)){var Wr;return Wr=Pn.error("Container required for toolbar",Xn.options),In(Xn,Wr)}return Xn.container.classList.add("ql-toolbar"),Xn.controls=[],Xn.handlers={},Object.keys(Xn.options.handlers).forEach(function(Jr){Xn.addHandler(Jr,Xn.options.handlers[Jr])}),[].forEach.call(Xn.container.querySelectorAll("button, select"),function(Jr){Xn.attach(Jr)}),Xn.quill.on(gn.default.events.EDITOR_CHANGE,function(Jr,ci){Jr===gn.default.events.SELECTION_CHANGE&&Xn.update(ci)}),Xn.quill.on(gn.default.events.SCROLL_OPTIMIZE,function(){var Jr=Xn.quill.selection.getRange(),ci=an(Jr,1),ti=ci[0];Xn.update(ti)}),Xn}return ln(Yn,[{key:"addHandler",value:function(Qn,Xn){this.handlers[Qn]=Xn}},{key:"attach",value:function(Qn){var Xn=this,jr=[].find.call(Qn.classList,function(Jr){return Jr.indexOf("ql-")===0});if(jr){if(jr=jr.slice(3),Qn.tagName==="BUTTON"&&Qn.setAttribute("type","button"),this.handlers[jr]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[jr]==null){Pn.warn("ignoring attaching to disabled format",jr,Qn);return}if(hn.default.query(jr)==null){Pn.warn("ignoring attaching to nonexistent format",jr,Qn);return}}var Wr=Qn.tagName==="SELECT"?"change":"click";Qn.addEventListener(Wr,function(Jr){var ci=void 0;if(Qn.tagName==="SELECT"){if(Qn.selectedIndex<0)return;var ti=Qn.options[Qn.selectedIndex];ti.hasAttribute("selected")?ci=!1:ci=ti.value||!1}else Qn.classList.contains("ql-active")?ci=!1:ci=Qn.value||!Qn.hasAttribute("value"),Jr.preventDefault();Xn.quill.focus();var Zr=Xn.quill.selection.getRange(),Br=an(Zr,1),Jn=Br[0];if(Xn.handlers[jr]!=null)Xn.handlers[jr].call(Xn,ci);else if(hn.default.query(jr).prototype instanceof hn.default.Embed){if(ci=prompt("Enter "+jr),!ci)return;Xn.quill.updateContents(new un.default().retain(Jn.index).delete(Jn.length).insert(Sn({},jr,ci)),gn.default.sources.USER)}else Xn.quill.format(jr,ci,gn.default.sources.USER);Xn.update(Jn)}),this.controls.push([jr,Qn])}}},{key:"update",value:function(Qn){var Xn=Qn==null?{}:this.quill.getFormat(Qn);this.controls.forEach(function(jr){var Wr=an(jr,2),Jr=Wr[0],ci=Wr[1];if(ci.tagName==="SELECT"){var ti=void 0;if(Qn==null)ti=null;else if(Xn[Jr]==null)ti=ci.querySelector("option[selected]");else if(!Array.isArray(Xn[Jr])){var Zr=Xn[Jr];typeof Zr=="string"&&(Zr=Zr.replace(/\"/g,'\\"')),ti=ci.querySelector('option[value="'+Zr+'"]')}ti==null?(ci.value="",ci.selectedIndex=-1):ti.selected=!0}else if(Qn==null)ci.classList.remove("ql-active");else if(ci.hasAttribute("value")){var Br=Xn[Jr]===ci.getAttribute("value")||Xn[Jr]!=null&&Xn[Jr].toString()===ci.getAttribute("value")||Xn[Jr]==null&&!ci.getAttribute("value");ci.classList.toggle("ql-active",Br)}else ci.classList.toggle("ql-active",Xn[Jr]!=null)})}}]),Yn}(Cn.default);Tn.DEFAULTS={};function Nn(jn,Yn,Wn){var Qn=document.createElement("button");Qn.setAttribute("type","button"),Qn.classList.add("ql-"+Yn),Wn!=null&&(Qn.value=Wn),jn.appendChild(Qn)}function Hn(jn,Yn){Array.isArray(Yn[0])||(Yn=[Yn]),Yn.forEach(function(Wn){var Qn=document.createElement("span");Qn.classList.add("ql-formats"),Wn.forEach(function(Xn){if(typeof Xn=="string")Nn(Qn,Xn);else{var jr=Object.keys(Xn)[0],Wr=Xn[jr];Array.isArray(Wr)?Un(Qn,jr,Wr):Nn(Qn,jr,Wr)}}),jn.appendChild(Qn)})}function Un(jn,Yn,Wn){var Qn=document.createElement("select");Qn.classList.add("ql-"+Yn),Wn.forEach(function(Xn){var jr=document.createElement("option");Xn!==!1?jr.setAttribute("value",Xn):jr.setAttribute("selected","selected"),Qn.appendChild(jr)}),jn.appendChild(Qn)}Tn.DEFAULTS={container:null,handlers:{clean:function(){var Yn=this,Wn=this.quill.getSelection();if(Wn!=null)if(Wn.length==0){var Qn=this.quill.getFormat();Object.keys(Qn).forEach(function(Xn){hn.default.query(Xn,hn.default.Scope.INLINE)!=null&&Yn.quill.format(Xn,!1)})}else this.quill.removeFormat(Wn,gn.default.sources.USER)},direction:function(Yn){var Wn=this.quill.getFormat().align;Yn==="rtl"&&Wn==null?this.quill.format("align","right",gn.default.sources.USER):!Yn&&Wn==="right"&&this.quill.format("align",!1,gn.default.sources.USER),this.quill.format("direction",Yn,gn.default.sources.USER)},indent:function(Yn){var Wn=this.quill.getSelection(),Qn=this.quill.getFormat(Wn),Xn=parseInt(Qn.indent||0);if(Yn==="+1"||Yn==="-1"){var jr=Yn==="+1"?1:-1;Qn.direction==="rtl"&&(jr*=-1),this.quill.format("indent",Xn+jr,gn.default.sources.USER)}},link:function(Yn){Yn===!0&&(Yn=prompt("Enter link URL:")),this.quill.format("link",Yn,gn.default.sources.USER)},list:function(Yn){var Wn=this.quill.getSelection(),Qn=this.quill.getFormat(Wn);Yn==="check"?Qn.list==="checked"||Qn.list==="unchecked"?this.quill.format("list",!1,gn.default.sources.USER):this.quill.format("list","unchecked",gn.default.sources.USER):this.quill.format("list",Yn,gn.default.sources.USER)}}},nn.default=Tn,nn.addControls=Hn},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function _n(kn,Cn){for(var xn=0;xn<Cn.length;xn++){var Sn=Cn[xn];Sn.enumerable=Sn.enumerable||!1,Sn.configurable=!0,"value"in Sn&&(Sn.writable=!0),Object.defineProperty(kn,Sn.key,Sn)}}return function(kn,Cn,xn){return Cn&&_n(kn.prototype,Cn),xn&&_n(kn,xn),kn}}(),ln=function _n(kn,Cn,xn){kn===null&&(kn=Function.prototype);var Sn=Object.getOwnPropertyDescriptor(kn,Cn);if(Sn===void 0){var Mn=Object.getPrototypeOf(kn);return Mn===null?void 0:_n(Mn,Cn,xn)}else{if("value"in Sn)return Sn.value;var In=Sn.get;return In===void 0?void 0:In.call(xn)}},cn=rn(28),un=fn(cn);function fn(_n){return _n&&_n.__esModule?_n:{default:_n}}function hn(_n,kn){if(!(_n instanceof kn))throw new TypeError("Cannot call a class as a function")}function pn(_n,kn){if(!_n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kn&&(typeof kn=="object"||typeof kn=="function")?kn:_n}function gn(_n,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kn);_n.prototype=Object.create(kn&&kn.prototype,{constructor:{value:_n,enumerable:!1,writable:!0,configurable:!0}}),kn&&(Object.setPrototypeOf?Object.setPrototypeOf(_n,kn):_n.__proto__=kn)}var mn=function(_n){gn(kn,_n);function kn(Cn,xn){hn(this,kn);var Sn=pn(this,(kn.__proto__||Object.getPrototypeOf(kn)).call(this,Cn));return Sn.label.innerHTML=xn,Sn.container.classList.add("ql-color-picker"),[].slice.call(Sn.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(Mn){Mn.classList.add("ql-primary")}),Sn}return an(kn,[{key:"buildItem",value:function(xn){var Sn=ln(kn.prototype.__proto__||Object.getPrototypeOf(kn.prototype),"buildItem",this).call(this,xn);return Sn.style.backgroundColor=xn.getAttribute("value")||"",Sn}},{key:"selectItem",value:function(xn,Sn){ln(kn.prototype.__proto__||Object.getPrototypeOf(kn.prototype),"selectItem",this).call(this,xn,Sn);var Mn=this.label.querySelector(".ql-color-label"),In=xn&&xn.getAttribute("data-value")||"";Mn&&(Mn.tagName==="line"?Mn.style.stroke=In:Mn.style.fill=In)}}]),kn}(un.default);nn.default=mn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function _n(kn,Cn){for(var xn=0;xn<Cn.length;xn++){var Sn=Cn[xn];Sn.enumerable=Sn.enumerable||!1,Sn.configurable=!0,"value"in Sn&&(Sn.writable=!0),Object.defineProperty(kn,Sn.key,Sn)}}return function(kn,Cn,xn){return Cn&&_n(kn.prototype,Cn),xn&&_n(kn,xn),kn}}(),ln=function _n(kn,Cn,xn){kn===null&&(kn=Function.prototype);var Sn=Object.getOwnPropertyDescriptor(kn,Cn);if(Sn===void 0){var Mn=Object.getPrototypeOf(kn);return Mn===null?void 0:_n(Mn,Cn,xn)}else{if("value"in Sn)return Sn.value;var In=Sn.get;return In===void 0?void 0:In.call(xn)}},cn=rn(28),un=fn(cn);function fn(_n){return _n&&_n.__esModule?_n:{default:_n}}function hn(_n,kn){if(!(_n instanceof kn))throw new TypeError("Cannot call a class as a function")}function pn(_n,kn){if(!_n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kn&&(typeof kn=="object"||typeof kn=="function")?kn:_n}function gn(_n,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kn);_n.prototype=Object.create(kn&&kn.prototype,{constructor:{value:_n,enumerable:!1,writable:!0,configurable:!0}}),kn&&(Object.setPrototypeOf?Object.setPrototypeOf(_n,kn):_n.__proto__=kn)}var mn=function(_n){gn(kn,_n);function kn(Cn,xn){hn(this,kn);var Sn=pn(this,(kn.__proto__||Object.getPrototypeOf(kn)).call(this,Cn));return Sn.container.classList.add("ql-icon-picker"),[].forEach.call(Sn.container.querySelectorAll(".ql-picker-item"),function(Mn){Mn.innerHTML=xn[Mn.getAttribute("data-value")||""]}),Sn.defaultItem=Sn.container.querySelector(".ql-selected"),Sn.selectItem(Sn.defaultItem),Sn}return an(kn,[{key:"selectItem",value:function(xn,Sn){ln(kn.prototype.__proto__||Object.getPrototypeOf(kn.prototype),"selectItem",this).call(this,xn,Sn),xn=xn||this.defaultItem,this.label.innerHTML=xn.innerHTML}}]),kn}(un.default);nn.default=mn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function un(fn,hn){for(var pn=0;pn<hn.length;pn++){var gn=hn[pn];gn.enumerable=gn.enumerable||!1,gn.configurable=!0,"value"in gn&&(gn.writable=!0),Object.defineProperty(fn,gn.key,gn)}}return function(fn,hn,pn){return hn&&un(fn.prototype,hn),pn&&un(fn,pn),fn}}();function ln(un,fn){if(!(un instanceof fn))throw new TypeError("Cannot call a class as a function")}var cn=function(){function un(fn,hn){var pn=this;ln(this,un),this.quill=fn,this.boundsContainer=hn||document.body,this.root=fn.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){pn.root.style.marginTop=-1*pn.quill.root.scrollTop+"px"}),this.hide()}return an(un,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(hn){var pn=hn.left+hn.width/2-this.root.offsetWidth/2,gn=hn.bottom+this.quill.root.scrollTop;this.root.style.left=pn+"px",this.root.style.top=gn+"px",this.root.classList.remove("ql-flip");var mn=this.boundsContainer.getBoundingClientRect(),_n=this.root.getBoundingClientRect(),kn=0;if(_n.right>mn.right&&(kn=mn.right-_n.right,this.root.style.left=pn+kn+"px"),_n.left<mn.left&&(kn=mn.left-_n.left,this.root.style.left=pn+kn+"px"),_n.bottom>mn.bottom){var Cn=_n.bottom-_n.top,xn=hn.bottom-hn.top+Cn;this.root.style.top=gn-xn+"px",this.root.classList.add("ql-flip")}return kn}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),un}();nn.default=cn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function Un(jn,Yn){var Wn=[],Qn=!0,Xn=!1,jr=void 0;try{for(var Wr=jn[Symbol.iterator](),Jr;!(Qn=(Jr=Wr.next()).done)&&(Wn.push(Jr.value),!(Yn&&Wn.length===Yn));Qn=!0);}catch(ci){Xn=!0,jr=ci}finally{try{!Qn&&Wr.return&&Wr.return()}finally{if(Xn)throw jr}}return Wn}return function(jn,Yn){if(Array.isArray(jn))return jn;if(Symbol.iterator in Object(jn))return Un(jn,Yn);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ln=function Un(jn,Yn,Wn){jn===null&&(jn=Function.prototype);var Qn=Object.getOwnPropertyDescriptor(jn,Yn);if(Qn===void 0){var Xn=Object.getPrototypeOf(jn);return Xn===null?void 0:Un(Xn,Yn,Wn)}else{if("value"in Qn)return Qn.value;var jr=Qn.get;return jr===void 0?void 0:jr.call(Wn)}},cn=function(){function Un(jn,Yn){for(var Wn=0;Wn<Yn.length;Wn++){var Qn=Yn[Wn];Qn.enumerable=Qn.enumerable||!1,Qn.configurable=!0,"value"in Qn&&(Qn.writable=!0),Object.defineProperty(jn,Qn.key,Qn)}}return function(jn,Yn,Wn){return Yn&&Un(jn.prototype,Yn),Wn&&Un(jn,Wn),jn}}(),un=rn(3),fn=Mn(un),hn=rn(8),pn=Mn(hn),gn=rn(43),mn=Mn(gn),_n=rn(27),kn=Mn(_n),Cn=rn(15),xn=rn(41),Sn=Mn(xn);function Mn(Un){return Un&&Un.__esModule?Un:{default:Un}}function In(Un,jn){if(!(Un instanceof jn))throw new TypeError("Cannot call a class as a function")}function On(Un,jn){if(!Un)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jn&&(typeof jn=="object"||typeof jn=="function")?jn:Un}function Pn(Un,jn){if(typeof jn!="function"&&jn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof jn);Un.prototype=Object.create(jn&&jn.prototype,{constructor:{value:Un,enumerable:!1,writable:!0,configurable:!0}}),jn&&(Object.setPrototypeOf?Object.setPrototypeOf(Un,jn):Un.__proto__=jn)}var Tn=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],Nn=function(Un){Pn(jn,Un);function jn(Yn,Wn){In(this,jn),Wn.modules.toolbar!=null&&Wn.modules.toolbar.container==null&&(Wn.modules.toolbar.container=Tn);var Qn=On(this,(jn.__proto__||Object.getPrototypeOf(jn)).call(this,Yn,Wn));return Qn.quill.container.classList.add("ql-snow"),Qn}return cn(jn,[{key:"extendToolbar",value:function(Wn){Wn.container.classList.add("ql-snow"),this.buildButtons([].slice.call(Wn.container.querySelectorAll("button")),Sn.default),this.buildPickers([].slice.call(Wn.container.querySelectorAll("select")),Sn.default),this.tooltip=new Hn(this.quill,this.options.bounds),Wn.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(Qn,Xn){Wn.handlers.link.call(Wn,!Xn.format.link)})}}]),jn}(mn.default);Nn.DEFAULTS=(0,fn.default)(!0,{},mn.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(jn){if(jn){var Yn=this.quill.getSelection();if(Yn==null||Yn.length==0)return;var Wn=this.quill.getText(Yn);/^\S+@\S+\.\S+$/.test(Wn)&&Wn.indexOf("mailto:")!==0&&(Wn="mailto:"+Wn);var Qn=this.quill.theme.tooltip;Qn.edit("link",Wn)}else this.quill.format("link",!1)}}}}});var Hn=function(Un){Pn(jn,Un);function jn(Yn,Wn){In(this,jn);var Qn=On(this,(jn.__proto__||Object.getPrototypeOf(jn)).call(this,Yn,Wn));return Qn.preview=Qn.root.querySelector("a.ql-preview"),Qn}return cn(jn,[{key:"listen",value:function(){var Wn=this;ln(jn.prototype.__proto__||Object.getPrototypeOf(jn.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(Qn){Wn.root.classList.contains("ql-editing")?Wn.save():Wn.edit("link",Wn.preview.textContent),Qn.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(Qn){if(Wn.linkRange!=null){var Xn=Wn.linkRange;Wn.restoreFocus(),Wn.quill.formatText(Xn,"link",!1,pn.default.sources.USER),delete Wn.linkRange}Qn.preventDefault(),Wn.hide()}),this.quill.on(pn.default.events.SELECTION_CHANGE,function(Qn,Xn,jr){if(Qn!=null){if(Qn.length===0&&jr===pn.default.sources.USER){var Wr=Wn.quill.scroll.descendant(kn.default,Qn.index),Jr=an(Wr,2),ci=Jr[0],ti=Jr[1];if(ci!=null){Wn.linkRange=new Cn.Range(Qn.index-ti,ci.length());var Zr=kn.default.formats(ci.domNode);Wn.preview.textContent=Zr,Wn.preview.setAttribute("href",Zr),Wn.show(),Wn.position(Wn.quill.getBounds(Wn.linkRange));return}}else delete Wn.linkRange;Wn.hide()}})}},{key:"show",value:function(){ln(jn.prototype.__proto__||Object.getPrototypeOf(jn.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),jn}(gn.BaseTooltip);Hn.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),nn.default=Nn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(29),ln=ro(an),cn=rn(36),un=rn(38),fn=rn(64),hn=rn(65),pn=ro(hn),gn=rn(66),mn=ro(gn),_n=rn(67),kn=ro(_n),Cn=rn(37),xn=rn(26),Sn=rn(39),Mn=rn(40),In=rn(56),On=ro(In),Pn=rn(68),Tn=ro(Pn),Nn=rn(27),Hn=ro(Nn),Un=rn(69),jn=ro(Un),Yn=rn(70),Wn=ro(Yn),Qn=rn(71),Xn=ro(Qn),jr=rn(72),Wr=ro(jr),Jr=rn(73),ci=ro(Jr),ti=rn(13),Zr=ro(ti),Br=rn(74),Jn=ro(Br),oi=rn(75),pi=ro(oi),ri=rn(57),fi=ro(ri),yi=rn(41),Si=ro(yi),Pi=rn(28),Ui=ro(Pi),ji=rn(59),go=ro(ji),po=rn(60),Yi=ro(po),Fo=rn(61),Po=ro(Fo),Oi=rn(108),Wi=ro(Oi),vo=rn(62),mo=ro(vo);function ro(Oo){return Oo&&Oo.__esModule?Oo:{default:Oo}}ln.default.register({"attributors/attribute/direction":un.DirectionAttribute,"attributors/class/align":cn.AlignClass,"attributors/class/background":Cn.BackgroundClass,"attributors/class/color":xn.ColorClass,"attributors/class/direction":un.DirectionClass,"attributors/class/font":Sn.FontClass,"attributors/class/size":Mn.SizeClass,"attributors/style/align":cn.AlignStyle,"attributors/style/background":Cn.BackgroundStyle,"attributors/style/color":xn.ColorStyle,"attributors/style/direction":un.DirectionStyle,"attributors/style/font":Sn.FontStyle,"attributors/style/size":Mn.SizeStyle},!0),ln.default.register({"formats/align":cn.AlignClass,"formats/direction":un.DirectionClass,"formats/indent":fn.IndentClass,"formats/background":Cn.BackgroundStyle,"formats/color":xn.ColorStyle,"formats/font":Sn.FontClass,"formats/size":Mn.SizeClass,"formats/blockquote":pn.default,"formats/code-block":Zr.default,"formats/header":mn.default,"formats/list":kn.default,"formats/bold":On.default,"formats/code":ti.Code,"formats/italic":Tn.default,"formats/link":Hn.default,"formats/script":jn.default,"formats/strike":Wn.default,"formats/underline":Xn.default,"formats/image":Wr.default,"formats/video":ci.default,"formats/list/item":_n.ListItem,"modules/formula":Jn.default,"modules/syntax":pi.default,"modules/toolbar":fi.default,"themes/bubble":Wi.default,"themes/snow":mo.default,"ui/icons":Si.default,"ui/picker":Ui.default,"ui/icon-picker":Yi.default,"ui/color-picker":go.default,"ui/tooltip":Po.default},!0),nn.default=ln.default},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.IndentClass=void 0;var an=function(){function kn(Cn,xn){for(var Sn=0;Sn<xn.length;Sn++){var Mn=xn[Sn];Mn.enumerable=Mn.enumerable||!1,Mn.configurable=!0,"value"in Mn&&(Mn.writable=!0),Object.defineProperty(Cn,Mn.key,Mn)}}return function(Cn,xn,Sn){return xn&&kn(Cn.prototype,xn),Sn&&kn(Cn,Sn),Cn}}(),ln=function kn(Cn,xn,Sn){Cn===null&&(Cn=Function.prototype);var Mn=Object.getOwnPropertyDescriptor(Cn,xn);if(Mn===void 0){var In=Object.getPrototypeOf(Cn);return In===null?void 0:kn(In,xn,Sn)}else{if("value"in Mn)return Mn.value;var On=Mn.get;return On===void 0?void 0:On.call(Sn)}},cn=rn(0),un=fn(cn);function fn(kn){return kn&&kn.__esModule?kn:{default:kn}}function hn(kn,Cn){if(!(kn instanceof Cn))throw new TypeError("Cannot call a class as a function")}function pn(kn,Cn){if(!kn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Cn&&(typeof Cn=="object"||typeof Cn=="function")?Cn:kn}function gn(kn,Cn){if(typeof Cn!="function"&&Cn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Cn);kn.prototype=Object.create(Cn&&Cn.prototype,{constructor:{value:kn,enumerable:!1,writable:!0,configurable:!0}}),Cn&&(Object.setPrototypeOf?Object.setPrototypeOf(kn,Cn):kn.__proto__=Cn)}var mn=function(kn){gn(Cn,kn);function Cn(){return hn(this,Cn),pn(this,(Cn.__proto__||Object.getPrototypeOf(Cn)).apply(this,arguments))}return an(Cn,[{key:"add",value:function(Sn,Mn){if(Mn==="+1"||Mn==="-1"){var In=this.value(Sn)||0;Mn=Mn==="+1"?In+1:In-1}return Mn===0?(this.remove(Sn),!0):ln(Cn.prototype.__proto__||Object.getPrototypeOf(Cn.prototype),"add",this).call(this,Sn,Mn)}},{key:"canAdd",value:function(Sn,Mn){return ln(Cn.prototype.__proto__||Object.getPrototypeOf(Cn.prototype),"canAdd",this).call(this,Sn,Mn)||ln(Cn.prototype.__proto__||Object.getPrototypeOf(Cn.prototype),"canAdd",this).call(this,Sn,parseInt(Mn))}},{key:"value",value:function(Sn){return parseInt(ln(Cn.prototype.__proto__||Object.getPrototypeOf(Cn.prototype),"value",this).call(this,Sn))||void 0}}]),Cn}(un.default.Attributor.Class),_n=new mn("indent","ql-indent",{scope:un.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});nn.IndentClass=_n},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(4),ln=cn(an);function cn(gn){return gn&&gn.__esModule?gn:{default:gn}}function un(gn,mn){if(!(gn instanceof mn))throw new TypeError("Cannot call a class as a function")}function fn(gn,mn){if(!gn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mn&&(typeof mn=="object"||typeof mn=="function")?mn:gn}function hn(gn,mn){if(typeof mn!="function"&&mn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mn);gn.prototype=Object.create(mn&&mn.prototype,{constructor:{value:gn,enumerable:!1,writable:!0,configurable:!0}}),mn&&(Object.setPrototypeOf?Object.setPrototypeOf(gn,mn):gn.__proto__=mn)}var pn=function(gn){hn(mn,gn);function mn(){return un(this,mn),fn(this,(mn.__proto__||Object.getPrototypeOf(mn)).apply(this,arguments))}return mn}(ln.default);pn.blotName="blockquote",pn.tagName="blockquote",nn.default=pn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function mn(_n,kn){for(var Cn=0;Cn<kn.length;Cn++){var xn=kn[Cn];xn.enumerable=xn.enumerable||!1,xn.configurable=!0,"value"in xn&&(xn.writable=!0),Object.defineProperty(_n,xn.key,xn)}}return function(_n,kn,Cn){return kn&&mn(_n.prototype,kn),Cn&&mn(_n,Cn),_n}}(),ln=rn(4),cn=un(ln);function un(mn){return mn&&mn.__esModule?mn:{default:mn}}function fn(mn,_n){if(!(mn instanceof _n))throw new TypeError("Cannot call a class as a function")}function hn(mn,_n){if(!mn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _n&&(typeof _n=="object"||typeof _n=="function")?_n:mn}function pn(mn,_n){if(typeof _n!="function"&&_n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _n);mn.prototype=Object.create(_n&&_n.prototype,{constructor:{value:mn,enumerable:!1,writable:!0,configurable:!0}}),_n&&(Object.setPrototypeOf?Object.setPrototypeOf(mn,_n):mn.__proto__=_n)}var gn=function(mn){pn(_n,mn);function _n(){return fn(this,_n),hn(this,(_n.__proto__||Object.getPrototypeOf(_n)).apply(this,arguments))}return an(_n,null,[{key:"formats",value:function(Cn){return this.tagName.indexOf(Cn.tagName)+1}}]),_n}(cn.default);gn.blotName="header",gn.tagName=["H1","H2","H3","H4","H5","H6"],nn.default=gn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=nn.ListItem=void 0;var an=function(){function In(On,Pn){for(var Tn=0;Tn<Pn.length;Tn++){var Nn=Pn[Tn];Nn.enumerable=Nn.enumerable||!1,Nn.configurable=!0,"value"in Nn&&(Nn.writable=!0),Object.defineProperty(On,Nn.key,Nn)}}return function(On,Pn,Tn){return Pn&&In(On.prototype,Pn),Tn&&In(On,Tn),On}}(),ln=function In(On,Pn,Tn){On===null&&(On=Function.prototype);var Nn=Object.getOwnPropertyDescriptor(On,Pn);if(Nn===void 0){var Hn=Object.getPrototypeOf(On);return Hn===null?void 0:In(Hn,Pn,Tn)}else{if("value"in Nn)return Nn.value;var Un=Nn.get;return Un===void 0?void 0:Un.call(Tn)}},cn=rn(0),un=mn(cn),fn=rn(4),hn=mn(fn),pn=rn(25),gn=mn(pn);function mn(In){return In&&In.__esModule?In:{default:In}}function _n(In,On,Pn){return On in In?Object.defineProperty(In,On,{value:Pn,enumerable:!0,configurable:!0,writable:!0}):In[On]=Pn,In}function kn(In,On){if(!(In instanceof On))throw new TypeError("Cannot call a class as a function")}function Cn(In,On){if(!In)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return On&&(typeof On=="object"||typeof On=="function")?On:In}function xn(In,On){if(typeof On!="function"&&On!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof On);In.prototype=Object.create(On&&On.prototype,{constructor:{value:In,enumerable:!1,writable:!0,configurable:!0}}),On&&(Object.setPrototypeOf?Object.setPrototypeOf(In,On):In.__proto__=On)}var Sn=function(In){xn(On,In);function On(){return kn(this,On),Cn(this,(On.__proto__||Object.getPrototypeOf(On)).apply(this,arguments))}return an(On,[{key:"format",value:function(Tn,Nn){Tn===Mn.blotName&&!Nn?this.replaceWith(un.default.create(this.statics.scope)):ln(On.prototype.__proto__||Object.getPrototypeOf(On.prototype),"format",this).call(this,Tn,Nn)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():ln(On.prototype.__proto__||Object.getPrototypeOf(On.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(Tn,Nn){return this.parent.isolate(this.offset(this.parent),this.length()),Tn===this.parent.statics.blotName?(this.parent.replaceWith(Tn,Nn),this):(this.parent.unwrap(),ln(On.prototype.__proto__||Object.getPrototypeOf(On.prototype),"replaceWith",this).call(this,Tn,Nn))}}],[{key:"formats",value:function(Tn){return Tn.tagName===this.tagName?void 0:ln(On.__proto__||Object.getPrototypeOf(On),"formats",this).call(this,Tn)}}]),On}(hn.default);Sn.blotName="list-item",Sn.tagName="LI";var Mn=function(In){xn(On,In),an(On,null,[{key:"create",value:function(Tn){var Nn=Tn==="ordered"?"OL":"UL",Hn=ln(On.__proto__||Object.getPrototypeOf(On),"create",this).call(this,Nn);return(Tn==="checked"||Tn==="unchecked")&&Hn.setAttribute("data-checked",Tn==="checked"),Hn}},{key:"formats",value:function(Tn){if(Tn.tagName==="OL")return"ordered";if(Tn.tagName==="UL")return Tn.hasAttribute("data-checked")?Tn.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function On(Pn){kn(this,On);var Tn=Cn(this,(On.__proto__||Object.getPrototypeOf(On)).call(this,Pn)),Nn=function(Un){if(Un.target.parentNode===Pn){var jn=Tn.statics.formats(Pn),Yn=un.default.find(Un.target);jn==="checked"?Yn.format("list","unchecked"):jn==="unchecked"&&Yn.format("list","checked")}};return Pn.addEventListener("touchstart",Nn),Pn.addEventListener("mousedown",Nn),Tn}return an(On,[{key:"format",value:function(Tn,Nn){this.children.length>0&&this.children.tail.format(Tn,Nn)}},{key:"formats",value:function(){return _n({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(Tn,Nn){if(Tn instanceof Sn)ln(On.prototype.__proto__||Object.getPrototypeOf(On.prototype),"insertBefore",this).call(this,Tn,Nn);else{var Hn=Nn==null?this.length():Nn.offset(this),Un=this.split(Hn);Un.parent.insertBefore(Tn,Un)}}},{key:"optimize",value:function(Tn){ln(On.prototype.__proto__||Object.getPrototypeOf(On.prototype),"optimize",this).call(this,Tn);var Nn=this.next;Nn!=null&&Nn.prev===this&&Nn.statics.blotName===this.statics.blotName&&Nn.domNode.tagName===this.domNode.tagName&&Nn.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(Nn.moveChildren(this),Nn.remove())}},{key:"replace",value:function(Tn){if(Tn.statics.blotName!==this.statics.blotName){var Nn=un.default.create(this.statics.defaultChild);Tn.moveChildren(Nn),this.appendChild(Nn)}ln(On.prototype.__proto__||Object.getPrototypeOf(On.prototype),"replace",this).call(this,Tn)}}]),On}(gn.default);Mn.blotName="list",Mn.scope=un.default.Scope.BLOCK_BLOT,Mn.tagName=["OL","UL"],Mn.defaultChild="list-item",Mn.allowedChildren=[Sn],nn.ListItem=Sn,nn.default=Mn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(56),ln=cn(an);function cn(gn){return gn&&gn.__esModule?gn:{default:gn}}function un(gn,mn){if(!(gn instanceof mn))throw new TypeError("Cannot call a class as a function")}function fn(gn,mn){if(!gn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mn&&(typeof mn=="object"||typeof mn=="function")?mn:gn}function hn(gn,mn){if(typeof mn!="function"&&mn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mn);gn.prototype=Object.create(mn&&mn.prototype,{constructor:{value:gn,enumerable:!1,writable:!0,configurable:!0}}),mn&&(Object.setPrototypeOf?Object.setPrototypeOf(gn,mn):gn.__proto__=mn)}var pn=function(gn){hn(mn,gn);function mn(){return un(this,mn),fn(this,(mn.__proto__||Object.getPrototypeOf(mn)).apply(this,arguments))}return mn}(ln.default);pn.blotName="italic",pn.tagName=["EM","I"],nn.default=pn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function _n(kn,Cn){for(var xn=0;xn<Cn.length;xn++){var Sn=Cn[xn];Sn.enumerable=Sn.enumerable||!1,Sn.configurable=!0,"value"in Sn&&(Sn.writable=!0),Object.defineProperty(kn,Sn.key,Sn)}}return function(kn,Cn,xn){return Cn&&_n(kn.prototype,Cn),xn&&_n(kn,xn),kn}}(),ln=function _n(kn,Cn,xn){kn===null&&(kn=Function.prototype);var Sn=Object.getOwnPropertyDescriptor(kn,Cn);if(Sn===void 0){var Mn=Object.getPrototypeOf(kn);return Mn===null?void 0:_n(Mn,Cn,xn)}else{if("value"in Sn)return Sn.value;var In=Sn.get;return In===void 0?void 0:In.call(xn)}},cn=rn(6),un=fn(cn);function fn(_n){return _n&&_n.__esModule?_n:{default:_n}}function hn(_n,kn){if(!(_n instanceof kn))throw new TypeError("Cannot call a class as a function")}function pn(_n,kn){if(!_n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kn&&(typeof kn=="object"||typeof kn=="function")?kn:_n}function gn(_n,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kn);_n.prototype=Object.create(kn&&kn.prototype,{constructor:{value:_n,enumerable:!1,writable:!0,configurable:!0}}),kn&&(Object.setPrototypeOf?Object.setPrototypeOf(_n,kn):_n.__proto__=kn)}var mn=function(_n){gn(kn,_n);function kn(){return hn(this,kn),pn(this,(kn.__proto__||Object.getPrototypeOf(kn)).apply(this,arguments))}return an(kn,null,[{key:"create",value:function(xn){return xn==="super"?document.createElement("sup"):xn==="sub"?document.createElement("sub"):ln(kn.__proto__||Object.getPrototypeOf(kn),"create",this).call(this,xn)}},{key:"formats",value:function(xn){if(xn.tagName==="SUB")return"sub";if(xn.tagName==="SUP")return"super"}}]),kn}(un.default);mn.blotName="script",mn.tagName=["SUB","SUP"],nn.default=mn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(6),ln=cn(an);function cn(gn){return gn&&gn.__esModule?gn:{default:gn}}function un(gn,mn){if(!(gn instanceof mn))throw new TypeError("Cannot call a class as a function")}function fn(gn,mn){if(!gn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mn&&(typeof mn=="object"||typeof mn=="function")?mn:gn}function hn(gn,mn){if(typeof mn!="function"&&mn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mn);gn.prototype=Object.create(mn&&mn.prototype,{constructor:{value:gn,enumerable:!1,writable:!0,configurable:!0}}),mn&&(Object.setPrototypeOf?Object.setPrototypeOf(gn,mn):gn.__proto__=mn)}var pn=function(gn){hn(mn,gn);function mn(){return un(this,mn),fn(this,(mn.__proto__||Object.getPrototypeOf(mn)).apply(this,arguments))}return mn}(ln.default);pn.blotName="strike",pn.tagName="S",nn.default=pn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=rn(6),ln=cn(an);function cn(gn){return gn&&gn.__esModule?gn:{default:gn}}function un(gn,mn){if(!(gn instanceof mn))throw new TypeError("Cannot call a class as a function")}function fn(gn,mn){if(!gn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mn&&(typeof mn=="object"||typeof mn=="function")?mn:gn}function hn(gn,mn){if(typeof mn!="function"&&mn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mn);gn.prototype=Object.create(mn&&mn.prototype,{constructor:{value:gn,enumerable:!1,writable:!0,configurable:!0}}),mn&&(Object.setPrototypeOf?Object.setPrototypeOf(gn,mn):gn.__proto__=mn)}var pn=function(gn){hn(mn,gn);function mn(){return un(this,mn),fn(this,(mn.__proto__||Object.getPrototypeOf(mn)).apply(this,arguments))}return mn}(ln.default);pn.blotName="underline",pn.tagName="U",nn.default=pn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function Cn(xn,Sn){for(var Mn=0;Mn<Sn.length;Mn++){var In=Sn[Mn];In.enumerable=In.enumerable||!1,In.configurable=!0,"value"in In&&(In.writable=!0),Object.defineProperty(xn,In.key,In)}}return function(xn,Sn,Mn){return Sn&&Cn(xn.prototype,Sn),Mn&&Cn(xn,Mn),xn}}(),ln=function Cn(xn,Sn,Mn){xn===null&&(xn=Function.prototype);var In=Object.getOwnPropertyDescriptor(xn,Sn);if(In===void 0){var On=Object.getPrototypeOf(xn);return On===null?void 0:Cn(On,Sn,Mn)}else{if("value"in In)return In.value;var Pn=In.get;return Pn===void 0?void 0:Pn.call(Mn)}},cn=rn(0),un=hn(cn),fn=rn(27);function hn(Cn){return Cn&&Cn.__esModule?Cn:{default:Cn}}function pn(Cn,xn){if(!(Cn instanceof xn))throw new TypeError("Cannot call a class as a function")}function gn(Cn,xn){if(!Cn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xn&&(typeof xn=="object"||typeof xn=="function")?xn:Cn}function mn(Cn,xn){if(typeof xn!="function"&&xn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof xn);Cn.prototype=Object.create(xn&&xn.prototype,{constructor:{value:Cn,enumerable:!1,writable:!0,configurable:!0}}),xn&&(Object.setPrototypeOf?Object.setPrototypeOf(Cn,xn):Cn.__proto__=xn)}var _n=["alt","height","width"],kn=function(Cn){mn(xn,Cn);function xn(){return pn(this,xn),gn(this,(xn.__proto__||Object.getPrototypeOf(xn)).apply(this,arguments))}return an(xn,[{key:"format",value:function(Mn,In){_n.indexOf(Mn)>-1?In?this.domNode.setAttribute(Mn,In):this.domNode.removeAttribute(Mn):ln(xn.prototype.__proto__||Object.getPrototypeOf(xn.prototype),"format",this).call(this,Mn,In)}}],[{key:"create",value:function(Mn){var In=ln(xn.__proto__||Object.getPrototypeOf(xn),"create",this).call(this,Mn);return typeof Mn=="string"&&In.setAttribute("src",this.sanitize(Mn)),In}},{key:"formats",value:function(Mn){return _n.reduce(function(In,On){return Mn.hasAttribute(On)&&(In[On]=Mn.getAttribute(On)),In},{})}},{key:"match",value:function(Mn){return/\.(jpe?g|gif|png)$/.test(Mn)||/^data:image\/.+;base64/.test(Mn)}},{key:"sanitize",value:function(Mn){return(0,fn.sanitize)(Mn,["http","https","data"])?Mn:"//:0"}},{key:"value",value:function(Mn){return Mn.getAttribute("src")}}]),xn}(un.default.Embed);kn.blotName="image",kn.tagName="IMG",nn.default=kn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0});var an=function(){function Cn(xn,Sn){for(var Mn=0;Mn<Sn.length;Mn++){var In=Sn[Mn];In.enumerable=In.enumerable||!1,In.configurable=!0,"value"in In&&(In.writable=!0),Object.defineProperty(xn,In.key,In)}}return function(xn,Sn,Mn){return Sn&&Cn(xn.prototype,Sn),Mn&&Cn(xn,Mn),xn}}(),ln=function Cn(xn,Sn,Mn){xn===null&&(xn=Function.prototype);var In=Object.getOwnPropertyDescriptor(xn,Sn);if(In===void 0){var On=Object.getPrototypeOf(xn);return On===null?void 0:Cn(On,Sn,Mn)}else{if("value"in In)return In.value;var Pn=In.get;return Pn===void 0?void 0:Pn.call(Mn)}},cn=rn(4),un=rn(27),fn=hn(un);function hn(Cn){return Cn&&Cn.__esModule?Cn:{default:Cn}}function pn(Cn,xn){if(!(Cn instanceof xn))throw new TypeError("Cannot call a class as a function")}function gn(Cn,xn){if(!Cn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xn&&(typeof xn=="object"||typeof xn=="function")?xn:Cn}function mn(Cn,xn){if(typeof xn!="function"&&xn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof xn);Cn.prototype=Object.create(xn&&xn.prototype,{constructor:{value:Cn,enumerable:!1,writable:!0,configurable:!0}}),xn&&(Object.setPrototypeOf?Object.setPrototypeOf(Cn,xn):Cn.__proto__=xn)}var _n=["height","width"],kn=function(Cn){mn(xn,Cn);function xn(){return pn(this,xn),gn(this,(xn.__proto__||Object.getPrototypeOf(xn)).apply(this,arguments))}return an(xn,[{key:"format",value:function(Mn,In){_n.indexOf(Mn)>-1?In?this.domNode.setAttribute(Mn,In):this.domNode.removeAttribute(Mn):ln(xn.prototype.__proto__||Object.getPrototypeOf(xn.prototype),"format",this).call(this,Mn,In)}}],[{key:"create",value:function(Mn){var In=ln(xn.__proto__||Object.getPrototypeOf(xn),"create",this).call(this,Mn);return In.setAttribute("frameborder","0"),In.setAttribute("allowfullscreen",!0),In.setAttribute("src",this.sanitize(Mn)),In}},{key:"formats",value:function(Mn){return _n.reduce(function(In,On){return Mn.hasAttribute(On)&&(In[On]=Mn.getAttribute(On)),In},{})}},{key:"sanitize",value:function(Mn){return fn.default.sanitize(Mn)}},{key:"value",value:function(Mn){return Mn.getAttribute("src")}}]),xn}(cn.BlockEmbed);kn.blotName="video",kn.className="ql-video",kn.tagName="IFRAME",nn.default=kn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=nn.FormulaBlot=void 0;var an=function(){function Mn(In,On){for(var Pn=0;Pn<On.length;Pn++){var Tn=On[Pn];Tn.enumerable=Tn.enumerable||!1,Tn.configurable=!0,"value"in Tn&&(Tn.writable=!0),Object.defineProperty(In,Tn.key,Tn)}}return function(In,On,Pn){return On&&Mn(In.prototype,On),Pn&&Mn(In,Pn),In}}(),ln=function Mn(In,On,Pn){In===null&&(In=Function.prototype);var Tn=Object.getOwnPropertyDescriptor(In,On);if(Tn===void 0){var Nn=Object.getPrototypeOf(In);return Nn===null?void 0:Mn(Nn,On,Pn)}else{if("value"in Tn)return Tn.value;var Hn=Tn.get;return Hn===void 0?void 0:Hn.call(Pn)}},cn=rn(35),un=mn(cn),fn=rn(5),hn=mn(fn),pn=rn(9),gn=mn(pn);function mn(Mn){return Mn&&Mn.__esModule?Mn:{default:Mn}}function _n(Mn,In){if(!(Mn instanceof In))throw new TypeError("Cannot call a class as a function")}function kn(Mn,In){if(!Mn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return In&&(typeof In=="object"||typeof In=="function")?In:Mn}function Cn(Mn,In){if(typeof In!="function"&&In!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof In);Mn.prototype=Object.create(In&&In.prototype,{constructor:{value:Mn,enumerable:!1,writable:!0,configurable:!0}}),In&&(Object.setPrototypeOf?Object.setPrototypeOf(Mn,In):Mn.__proto__=In)}var xn=function(Mn){Cn(In,Mn);function In(){return _n(this,In),kn(this,(In.__proto__||Object.getPrototypeOf(In)).apply(this,arguments))}return an(In,null,[{key:"create",value:function(Pn){var Tn=ln(In.__proto__||Object.getPrototypeOf(In),"create",this).call(this,Pn);return typeof Pn=="string"&&(window.katex.render(Pn,Tn,{throwOnError:!1,errorColor:"#f00"}),Tn.setAttribute("data-value",Pn)),Tn}},{key:"value",value:function(Pn){return Pn.getAttribute("data-value")}}]),In}(un.default);xn.blotName="formula",xn.className="ql-formula",xn.tagName="SPAN";var Sn=function(Mn){Cn(In,Mn),an(In,null,[{key:"register",value:function(){hn.default.register(xn,!0)}}]);function In(){_n(this,In);var On=kn(this,(In.__proto__||Object.getPrototypeOf(In)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return On}return In}(gn.default);nn.FormulaBlot=xn,nn.default=Sn},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=nn.CodeToken=nn.CodeBlock=void 0;var an=function(){function Pn(Tn,Nn){for(var Hn=0;Hn<Nn.length;Hn++){var Un=Nn[Hn];Un.enumerable=Un.enumerable||!1,Un.configurable=!0,"value"in Un&&(Un.writable=!0),Object.defineProperty(Tn,Un.key,Un)}}return function(Tn,Nn,Hn){return Nn&&Pn(Tn.prototype,Nn),Hn&&Pn(Tn,Hn),Tn}}(),ln=function Pn(Tn,Nn,Hn){Tn===null&&(Tn=Function.prototype);var Un=Object.getOwnPropertyDescriptor(Tn,Nn);if(Un===void 0){var jn=Object.getPrototypeOf(Tn);return jn===null?void 0:Pn(jn,Nn,Hn)}else{if("value"in Un)return Un.value;var Yn=Un.get;return Yn===void 0?void 0:Yn.call(Hn)}},cn=rn(0),un=kn(cn),fn=rn(5),hn=kn(fn),pn=rn(9),gn=kn(pn),mn=rn(13),_n=kn(mn);function kn(Pn){return Pn&&Pn.__esModule?Pn:{default:Pn}}function Cn(Pn,Tn){if(!(Pn instanceof Tn))throw new TypeError("Cannot call a class as a function")}function xn(Pn,Tn){if(!Pn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tn&&(typeof Tn=="object"||typeof Tn=="function")?Tn:Pn}function Sn(Pn,Tn){if(typeof Tn!="function"&&Tn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Tn);Pn.prototype=Object.create(Tn&&Tn.prototype,{constructor:{value:Pn,enumerable:!1,writable:!0,configurable:!0}}),Tn&&(Object.setPrototypeOf?Object.setPrototypeOf(Pn,Tn):Pn.__proto__=Tn)}var Mn=function(Pn){Sn(Tn,Pn);function Tn(){return Cn(this,Tn),xn(this,(Tn.__proto__||Object.getPrototypeOf(Tn)).apply(this,arguments))}return an(Tn,[{key:"replaceWith",value:function(Hn){this.domNode.textContent=this.domNode.textContent,this.attach(),ln(Tn.prototype.__proto__||Object.getPrototypeOf(Tn.prototype),"replaceWith",this).call(this,Hn)}},{key:"highlight",value:function(Hn){var Un=this.domNode.textContent;this.cachedText!==Un&&((Un.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=Hn(Un),this.domNode.normalize(),this.attach()),this.cachedText=Un)}}]),Tn}(_n.default);Mn.className="ql-syntax";var In=new un.default.Attributor.Class("token","hljs",{scope:un.default.Scope.INLINE}),On=function(Pn){Sn(Tn,Pn),an(Tn,null,[{key:"register",value:function(){hn.default.register(In,!0),hn.default.register(Mn,!0)}}]);function Tn(Nn,Hn){Cn(this,Tn);var Un=xn(this,(Tn.__proto__||Object.getPrototypeOf(Tn)).call(this,Nn,Hn));if(typeof Un.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var jn=null;return Un.quill.on(hn.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(jn),jn=setTimeout(function(){Un.highlight(),jn=null},Un.options.interval)}),Un.highlight(),Un}return an(Tn,[{key:"highlight",value:function(){var Hn=this;if(!this.quill.selection.composing){this.quill.update(hn.default.sources.USER);var Un=this.quill.getSelection();this.quill.scroll.descendants(Mn).forEach(function(jn){jn.highlight(Hn.options.highlight)}),this.quill.update(hn.default.sources.SILENT),Un!=null&&this.quill.setSelection(Un,hn.default.sources.SILENT)}}}]),Tn}(gn.default);On.DEFAULTS={highlight:function(){return window.hljs==null?null:function(Pn){var Tn=window.hljs.highlightAuto(Pn);return Tn.value}}(),interval:1e3},nn.CodeBlock=Mn,nn.CodeToken=In,nn.default=On},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(tn,nn){tn.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(tn,nn){tn.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(tn,nn){tn.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(tn,nn){tn.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(tn,nn){tn.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(tn,nn,rn){Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=nn.BubbleTooltip=void 0;var an=function Tn(Nn,Hn,Un){Nn===null&&(Nn=Function.prototype);var jn=Object.getOwnPropertyDescriptor(Nn,Hn);if(jn===void 0){var Yn=Object.getPrototypeOf(Nn);return Yn===null?void 0:Tn(Yn,Hn,Un)}else{if("value"in jn)return jn.value;var Wn=jn.get;return Wn===void 0?void 0:Wn.call(Un)}},ln=function(){function Tn(Nn,Hn){for(var Un=0;Un<Hn.length;Un++){var jn=Hn[Un];jn.enumerable=jn.enumerable||!1,jn.configurable=!0,"value"in jn&&(jn.writable=!0),Object.defineProperty(Nn,jn.key,jn)}}return function(Nn,Hn,Un){return Hn&&Tn(Nn.prototype,Hn),Un&&Tn(Nn,Un),Nn}}(),cn=rn(3),un=Cn(cn),fn=rn(8),hn=Cn(fn),pn=rn(43),gn=Cn(pn),mn=rn(15),_n=rn(41),kn=Cn(_n);function Cn(Tn){return Tn&&Tn.__esModule?Tn:{default:Tn}}function xn(Tn,Nn){if(!(Tn instanceof Nn))throw new TypeError("Cannot call a class as a function")}function Sn(Tn,Nn){if(!Tn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nn&&(typeof Nn=="object"||typeof Nn=="function")?Nn:Tn}function Mn(Tn,Nn){if(typeof Nn!="function"&&Nn!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Nn);Tn.prototype=Object.create(Nn&&Nn.prototype,{constructor:{value:Tn,enumerable:!1,writable:!0,configurable:!0}}),Nn&&(Object.setPrototypeOf?Object.setPrototypeOf(Tn,Nn):Tn.__proto__=Nn)}var In=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],On=function(Tn){Mn(Nn,Tn);function Nn(Hn,Un){xn(this,Nn),Un.modules.toolbar!=null&&Un.modules.toolbar.container==null&&(Un.modules.toolbar.container=In);var jn=Sn(this,(Nn.__proto__||Object.getPrototypeOf(Nn)).call(this,Hn,Un));return jn.quill.container.classList.add("ql-bubble"),jn}return ln(Nn,[{key:"extendToolbar",value:function(Un){this.tooltip=new Pn(this.quill,this.options.bounds),this.tooltip.root.appendChild(Un.container),this.buildButtons([].slice.call(Un.container.querySelectorAll("button")),kn.default),this.buildPickers([].slice.call(Un.container.querySelectorAll("select")),kn.default)}}]),Nn}(gn.default);On.DEFAULTS=(0,un.default)(!0,{},gn.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Nn){Nn?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var Pn=function(Tn){Mn(Nn,Tn);function Nn(Hn,Un){xn(this,Nn);var jn=Sn(this,(Nn.__proto__||Object.getPrototypeOf(Nn)).call(this,Hn,Un));return jn.quill.on(hn.default.events.EDITOR_CHANGE,function(Yn,Wn,Qn,Xn){if(Yn===hn.default.events.SELECTION_CHANGE)if(Wn!=null&&Wn.length>0&&Xn===hn.default.sources.USER){jn.show(),jn.root.style.left="0px",jn.root.style.width="",jn.root.style.width=jn.root.offsetWidth+"px";var jr=jn.quill.getLines(Wn.index,Wn.length);if(jr.length===1)jn.position(jn.quill.getBounds(Wn));else{var Wr=jr[jr.length-1],Jr=jn.quill.getIndex(Wr),ci=Math.min(Wr.length()-1,Wn.index+Wn.length-Jr),ti=jn.quill.getBounds(new mn.Range(Jr,ci));jn.position(ti)}}else document.activeElement!==jn.textbox&&jn.quill.hasFocus()&&jn.hide()}),jn}return ln(Nn,[{key:"listen",value:function(){var Un=this;an(Nn.prototype.__proto__||Object.getPrototypeOf(Nn.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){Un.root.classList.remove("ql-editing")}),this.quill.on(hn.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!Un.root.classList.contains("ql-hidden")){var jn=Un.quill.getSelection();jn!=null&&Un.position(Un.quill.getBounds(jn))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(Un){var jn=an(Nn.prototype.__proto__||Object.getPrototypeOf(Nn.prototype),"position",this).call(this,Un),Yn=this.root.querySelector(".ql-tooltip-arrow");if(Yn.style.marginLeft="",jn===0)return jn;Yn.style.marginLeft=-1*jn-Yn.offsetWidth/2+"px"}}]),Nn}(pn.BaseTooltip);Pn.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),nn.BubbleTooltip=Pn,nn.default=On},function(tn,nn,rn){tn.exports=rn(63)}]).default})})(quill);var quillExports=quill.exports;const Quill=getDefaultExportFromCjs(quillExports),intlTelInput$1="",sweetalert2="",select2="";Element.prototype.matches||(Element.prototype.matches=function(Fe){for(var en=(this.document||this.ownerDocument).querySelectorAll(Fe),tn=en.length;--tn>=0&&en.item(tn)!==this;);return tn>-1});Element.prototype.closest||(Element.prototype.closest=function(Fe){var en=this,tn=this;if(!document.documentElement.contains(en))return null;do{if(tn.matches(Fe))return tn;tn=tn.parentElement}while(tn!==null);return null});/**
 * ChildNode.remove() polyfill
 * https://gomakethings.com/removing-an-element-from-the-dom-the-es6-way/
 * @author Chris Ferdinandi
 * @license MIT
 */(function(Fe){for(var en=0;en<Fe.length;en++)!window[Fe[en]]||"remove"in window[Fe[en]].prototype||(window[Fe[en]].prototype.remove=function(){this.parentNode.removeChild(this)})})(["Element","CharacterData","DocumentType"]);(function(){for(var Fe=0,en=["webkit","moz"],tn=0;tn<en.length&&!window.requestAnimationFrame;++tn)window.requestAnimationFrame=window[en[tn]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[en[tn]+"CancelAnimationFrame"]||window[en[tn]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(nn){var rn=new Date().getTime(),an=Math.max(0,16-(rn-Fe)),ln=window.setTimeout(function(){nn(rn+an)},an);return Fe=rn+an,ln}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(nn){clearTimeout(nn)})})();(function(Fe){Fe.forEach(function(en){en.hasOwnProperty("prepend")||Object.defineProperty(en,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var nn=Array.prototype.slice.call(arguments),rn=document.createDocumentFragment();nn.forEach(function(an){var ln=an instanceof Node;rn.appendChild(ln?an:document.createTextNode(String(an)))}),this.insertBefore(rn,this.firstChild)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);Element.prototype.getAttributeNames==null&&(Element.prototype.getAttributeNames=function(){for(var Fe=this.attributes,en=Fe.length,tn=new Array(en),nn=0;nn<en;nn++)tn[nn]=Fe[nn].name;return tn});window.KTUtilElementDataStore={};window.KTUtilElementDataStoreID=0;window.KTUtilDelegatedEventHandlers={};var KTUtil$1=function(){var Fe=[],en=function(){var tn=function(){for(var rn=0;rn<Fe.length;rn++){var an=Fe[rn];an.call()}},nn;window.addEventListener("resize",function(){KTUtil$1.throttle(nn,function(){tn()},200)})};return{init:function(tn){en()},addResizeHandler:function(tn){Fe.push(tn)},removeResizeHandler:function(tn){for(var nn=0;nn<Fe.length;nn++)tn===Fe[nn]&&delete Fe[nn]},runResizeHandlers:function(){_runResizeHandlers()},resize:function(){if(typeof Event=="function")window.dispatchEvent(new Event("resize"));else{var tn=window.document.createEvent("UIEvents");tn.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(tn)}},getURLParam:function(tn){var nn=window.location.search.substring(1),rn,an,ln=nn.split("&");for(rn=0;rn<ln.length;rn++)if(an=ln[rn].split("="),an[0]==tn)return unescape(an[1]);return null},isMobileDevice:function(){var tn=this.getViewPort().width<this.getBreakpoint("lg");return tn===!1&&(tn=navigator.userAgent.match(/iPad/i)!=null),tn},isDesktopDevice:function(){return!KTUtil$1.isMobileDevice()},getViewPort:function(){var tn=window,nn="inner";return"innerWidth"in window||(nn="client",tn=document.documentElement||document.body),{width:tn[nn+"Width"],height:tn[nn+"Height"]}},isBreakpointUp:function(tn){var nn=this.getViewPort().width,rn=this.getBreakpoint(tn);return nn>=rn},isBreakpointDown:function(tn){var nn=this.getViewPort().width,rn=this.getBreakpoint(tn);return nn<rn},getViewportWidth:function(){return this.getViewPort().width},getUniqueId:function(tn){return tn+Math.floor(Math.random()*new Date().getTime())},getBreakpoint:function(tn){var nn=this.getCssVariableValue("--bs-"+tn);return nn&&(nn=parseInt(nn.trim())),nn},isset:function(tn,nn){var rn;if(nn=nn||"",nn.indexOf("[")!==-1)throw new Error("Unsupported object path notation.");nn=nn.split(".");do{if(tn===void 0||(rn=nn.shift(),!tn.hasOwnProperty(rn)))return!1;tn=tn[rn]}while(nn.length);return!0},getHighestZindex:function(tn){for(var nn,rn;tn&&tn!==document;){if(nn=KTUtil$1.css(tn,"position"),(nn==="absolute"||nn==="relative"||nn==="fixed")&&(rn=parseInt(KTUtil$1.css(tn,"z-index")),!isNaN(rn)&&rn!==0))return rn;tn=tn.parentNode}return 1},hasFixedPositionedParent:function(tn){for(var nn;tn&&tn!==document;){if(nn=KTUtil$1.css(tn,"position"),nn==="fixed")return!0;tn=tn.parentNode}return!1},sleep:function(tn){for(var nn=new Date().getTime(),rn=0;rn<1e7&&!(new Date().getTime()-nn>tn);rn++);},getRandomInt:function(tn,nn){return Math.floor(Math.random()*(nn-tn+1))+tn},isAngularVersion:function(){return window.Zone!==void 0},deepExtend:function(tn){tn=tn||{};for(var nn=1;nn<arguments.length;nn++){var rn=arguments[nn];if(rn){for(var an in rn)if(rn.hasOwnProperty(an)){if(Object.prototype.toString.call(rn[an])==="[object Object]"){tn[an]=KTUtil$1.deepExtend(tn[an],rn[an]);continue}tn[an]=rn[an]}}}return tn},extend:function(tn){tn=tn||{};for(var nn=1;nn<arguments.length;nn++)if(arguments[nn])for(var rn in arguments[nn])arguments[nn].hasOwnProperty(rn)&&(tn[rn]=arguments[nn][rn]);return tn},getBody:function(){return document.getElementsByTagName("body")[0]},hasClasses:function(tn,nn){if(tn){for(var rn=nn.split(" "),an=0;an<rn.length;an++)if(KTUtil$1.hasClass(tn,KTUtil$1.trim(rn[an]))==!1)return!1;return!0}},hasClass:function(tn,nn){if(tn)return tn.classList?tn.classList.contains(nn):new RegExp("\\b"+nn+"\\b").test(tn.className)},addClass:function(tn,nn){if(!(!tn||typeof nn>"u")){var rn=nn.split(" ");if(tn.classList)for(var an=0;an<rn.length;an++)rn[an]&&rn[an].length>0&&tn.classList.add(KTUtil$1.trim(rn[an]));else if(!KTUtil$1.hasClass(tn,nn))for(var ln=0;ln<rn.length;ln++)tn.className+=" "+KTUtil$1.trim(rn[ln])}},removeClass:function(tn,nn){if(!(!tn||typeof nn>"u")){var rn=nn.split(" ");if(tn.classList)for(var an=0;an<rn.length;an++)tn.classList.remove(KTUtil$1.trim(rn[an]));else if(KTUtil$1.hasClass(tn,nn))for(var ln=0;ln<rn.length;ln++)tn.className=tn.className.replace(new RegExp("\\b"+KTUtil$1.trim(rn[ln])+"\\b","g"),"")}},triggerCustomEvent:function(tn,nn,rn){var an;window.CustomEvent?an=new CustomEvent(nn,{detail:rn}):(an=document.createEvent("CustomEvent"),an.initCustomEvent(nn,!0,!0,rn)),tn.dispatchEvent(an)},triggerEvent:function(tn,nn){var rn;if(tn.ownerDocument)rn=tn.ownerDocument;else if(tn.nodeType==9)rn=tn;else throw new Error("Invalid node passed to fireEvent: "+tn.id);if(tn.dispatchEvent){var an="";switch(nn){case"click":case"mouseenter":case"mouseleave":case"mousedown":case"mouseup":an="MouseEvents";break;case"focus":case"change":case"blur":case"select":an="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+nn+"'."}var ln=rn.createEvent(an),cn=nn!="change";ln.initEvent(nn,cn,!0),ln.synthetic=!0,tn.dispatchEvent(ln,!0)}else if(tn.fireEvent){var ln=rn.createEventObject();ln.synthetic=!0,tn.fireEvent("on"+nn,ln)}},index:function(tn){for(var nn=tn.parentNode.children,rn=0;rn<nn.length;rn++)if(nn[rn]==tn)return rn},trim:function(tn){return tn.trim()},eventTriggered:function(tn){return tn.currentTarget.dataset.triggered?!0:(tn.currentTarget.dataset.triggered=!0,!1)},remove:function(tn){tn&&tn.parentNode&&tn.parentNode.removeChild(tn)},find:function(tn,nn){return tn!==null?tn.querySelector(nn):null},findAll:function(tn,nn){return tn!==null?tn.querySelectorAll(nn):null},insertAfter:function(tn,nn){return nn.parentNode.insertBefore(tn,nn.nextSibling)},parents:function(tn,nn){for(var rn=[];tn&&tn!==document;tn=tn.parentNode){if(nn){tn.matches(nn)&&rn.push(tn);continue}rn.push(tn)}return rn},children:function(tn,nn,rn){if(!tn||!tn.childNodes)return null;for(var an=[],ln=0,cn=tn.childNodes.length,ln;ln<cn;++ln)tn.childNodes[ln].nodeType==1&&KTUtil$1.matches(tn.childNodes[ln],nn,rn)&&an.push(tn.childNodes[ln]);return an},child:function(tn,nn,rn){var an=KTUtil$1.children(tn,nn,rn);return an?an[0]:null},matches:function(tn,nn,rn){var an=Element.prototype,ln=an.matches||an.webkitMatchesSelector||an.mozMatchesSelector||an.msMatchesSelector||function(cn){return[].indexOf.call(document.querySelectorAll(cn),this)!==-1};return tn&&tn.tagName?ln.call(tn,nn):!1},data:function(tn){return{set:function(nn,rn){tn&&(tn.customDataTag===void 0&&(window.KTUtilElementDataStoreID++,tn.customDataTag=window.KTUtilElementDataStoreID),window.KTUtilElementDataStore[tn.customDataTag]===void 0&&(window.KTUtilElementDataStore[tn.customDataTag]={}),window.KTUtilElementDataStore[tn.customDataTag][nn]=rn)},get:function(nn){if(tn)return tn.customDataTag===void 0?null:this.has(nn)?window.KTUtilElementDataStore[tn.customDataTag][nn]:null},has:function(nn){return!tn||tn.customDataTag===void 0?!1:!!(window.KTUtilElementDataStore[tn.customDataTag]&&window.KTUtilElementDataStore[tn.customDataTag][nn])},remove:function(nn){tn&&this.has(nn)&&delete window.KTUtilElementDataStore[tn.customDataTag][nn]}}},outerWidth:function(tn,nn){var rn;return nn===!0?(rn=parseFloat(tn.offsetWidth),rn+=parseFloat(KTUtil$1.css(tn,"margin-left"))+parseFloat(KTUtil$1.css(tn,"margin-right")),parseFloat(rn)):(rn=parseFloat(tn.offsetWidth),rn)},offset:function(tn){var nn,rn;if(tn)return tn.getClientRects().length?(nn=tn.getBoundingClientRect(),rn=tn.ownerDocument.defaultView,{top:nn.top+rn.pageYOffset,left:nn.left+rn.pageXOffset,right:window.innerWidth-(tn.offsetLeft+tn.offsetWidth)}):{top:0,left:0}},height:function(tn){return KTUtil$1.css(tn,"height")},outerHeight:function(tn,nn){var rn=tn.offsetHeight,an;return typeof nn<"u"&&nn===!0&&(an=getComputedStyle(tn),rn+=parseInt(an.marginTop)+parseInt(an.marginBottom)),rn},visible:function(tn){return!(tn.offsetWidth===0&&tn.offsetHeight===0)},isVisibleInContainer:function(tn,nn,rn=0){const an=tn.offsetTop,ln=an+tn.clientHeight+rn,cn=nn.scrollTop,un=cn+nn.clientHeight;return an>=cn&&ln<=un},getRelativeTopPosition:function(tn,nn){return tn.offsetTop-nn.offsetTop},attr:function(tn,nn,rn){if(tn!=null)if(rn!==void 0)tn.setAttribute(nn,rn);else return tn.getAttribute(nn)},hasAttr:function(tn,nn){if(tn!=null)return!!tn.getAttribute(nn)},removeAttr:function(tn,nn){tn!=null&&tn.removeAttribute(nn)},animate:function(tn,nn,rn,an,fn,cn){var un={},fn;if(un.linear=function(_n,kn,Cn,xn){return Cn*_n/xn+kn},fn=un.linear,typeof tn!="number"||typeof nn!="number"||typeof rn!="number"||typeof an!="function")return;typeof cn!="function"&&(cn=function(){});var hn=window.requestAnimationFrame||function(_n){window.setTimeout(_n,1e3/50)},pn=nn-tn;function gn(_n){var kn=(_n||+new Date)-mn;kn>=0&&an(fn(kn,tn,pn,rn)),kn>=0&&kn>=rn?(an(nn),cn()):hn(gn)}an(tn);var mn=window.performance&&window.performance.now?window.performance.now():+new Date;hn(gn)},actualCss:function(tn,nn,rn){var an="";if(tn instanceof HTMLElement)if(!tn.getAttribute("kt-hidden-"+nn)||rn===!1){var ln;return an=tn.style.cssText,tn.style.cssText="position: absolute; visibility: hidden; display: block;",nn=="width"?ln=tn.offsetWidth:nn=="height"&&(ln=tn.offsetHeight),tn.style.cssText=an,tn.setAttribute("kt-hidden-"+nn,ln),parseFloat(ln)}else return parseFloat(tn.getAttribute("kt-hidden-"+nn))},actualHeight:function(tn,nn){return KTUtil$1.actualCss(tn,"height",nn)},actualWidth:function(tn,nn){return KTUtil$1.actualCss(tn,"width",nn)},getScroll:function(tn,nn){return nn="scroll"+nn,tn==window||tn==document?self[nn=="scrollTop"?"pageYOffset":"pageXOffset"]||browserSupportsBoxModel&&document.documentElement[nn]||document.body[nn]:tn[nn]},css:function(tn,nn,rn,an){if(tn)if(rn!==void 0)an===!0?tn.style.setProperty(nn,rn,"important"):tn.style[nn]=rn;else{var ln=(tn.ownerDocument||document).defaultView;if(ln&&ln.getComputedStyle)return nn=nn.replace(/([A-Z])/g,"-$1").toLowerCase(),ln.getComputedStyle(tn,null).getPropertyValue(nn);if(tn.currentStyle)return nn=nn.replace(/\-(\w)/g,function(cn,un){return un.toUpperCase()}),rn=tn.currentStyle[nn],/^\d+(em|pt|%|ex)?$/i.test(rn)?function(cn){var un=tn.style.left,fn=tn.runtimeStyle.left;return tn.runtimeStyle.left=tn.currentStyle.left,tn.style.left=cn||0,cn=tn.style.pixelLeft+"px",tn.style.left=un,tn.runtimeStyle.left=fn,cn}(rn):rn}},slide:function(tn,nn,rn,an,ln){if(!(!tn||nn=="up"&&KTUtil$1.visible(tn)===!1||nn=="down"&&KTUtil$1.visible(tn)===!0)){rn=rn||600;var cn=KTUtil$1.actualHeight(tn),un=!1,fn=!1;KTUtil$1.css(tn,"padding-top")&&KTUtil$1.data(tn).has("slide-padding-top")!==!0&&KTUtil$1.data(tn).set("slide-padding-top",KTUtil$1.css(tn,"padding-top")),KTUtil$1.css(tn,"padding-bottom")&&KTUtil$1.data(tn).has("slide-padding-bottom")!==!0&&KTUtil$1.data(tn).set("slide-padding-bottom",KTUtil$1.css(tn,"padding-bottom")),KTUtil$1.data(tn).has("slide-padding-top")&&(un=parseInt(KTUtil$1.data(tn).get("slide-padding-top"))),KTUtil$1.data(tn).has("slide-padding-bottom")&&(fn=parseInt(KTUtil$1.data(tn).get("slide-padding-bottom"))),nn=="up"?(tn.style.cssText="display: block; overflow: hidden;",un&&KTUtil$1.animate(0,un,rn,function(hn){tn.style.paddingTop=un-hn+"px"},"linear"),fn&&KTUtil$1.animate(0,fn,rn,function(hn){tn.style.paddingBottom=fn-hn+"px"},"linear"),KTUtil$1.animate(0,cn,rn,function(hn){tn.style.height=cn-hn+"px"},"linear",function(){tn.style.height="",tn.style.display="none",typeof an=="function"&&an()})):nn=="down"&&(tn.style.cssText="display: block; overflow: hidden;",un&&KTUtil$1.animate(0,un,rn,function(hn){tn.style.paddingTop=hn+"px"},"linear",function(){tn.style.paddingTop=""}),fn&&KTUtil$1.animate(0,fn,rn,function(hn){tn.style.paddingBottom=hn+"px"},"linear",function(){tn.style.paddingBottom=""}),KTUtil$1.animate(0,cn,rn,function(hn){tn.style.height=hn+"px"},"linear",function(){tn.style.height="",tn.style.display="",tn.style.overflow="",typeof an=="function"&&an()}))}},slideUp:function(tn,nn,rn){KTUtil$1.slide(tn,"up",nn,rn)},slideDown:function(tn,nn,rn){KTUtil$1.slide(tn,"down",nn,rn)},show:function(tn,nn){typeof tn<"u"&&(tn.style.display=nn||"block")},hide:function(tn){typeof tn<"u"&&(tn.style.display="none")},addEvent:function(tn,nn,rn,an){typeof tn<"u"&&tn!==null&&tn.addEventListener(nn,rn)},removeEvent:function(tn,nn,rn){tn!==null&&tn.removeEventListener(nn,rn)},on:function(tn,nn,rn,an){if(tn!==null){var ln=KTUtil$1.getUniqueId("event");return window.KTUtilDelegatedEventHandlers[ln]=function(cn){for(var un=tn.querySelectorAll(nn),fn=cn.target;fn&&fn!==tn;){for(var hn=0,pn=un.length;hn<pn;hn++)fn===un[hn]&&an.call(fn,cn);fn=fn.parentNode}},KTUtil$1.addEvent(tn,rn,window.KTUtilDelegatedEventHandlers[ln]),ln}},off:function(tn,nn,rn){!tn||!window.KTUtilDelegatedEventHandlers[rn]||(KTUtil$1.removeEvent(tn,nn,window.KTUtilDelegatedEventHandlers[rn]),delete window.KTUtilDelegatedEventHandlers[rn])},one:function(nn,rn,an){nn.addEventListener(rn,function ln(cn){return cn.target&&cn.target.removeEventListener&&cn.target.removeEventListener(cn.type,ln),nn&&nn.removeEventListener&&cn.currentTarget.removeEventListener(cn.type,ln),an(cn)})},hash:function(tn){var nn=0,rn,an;if(tn.length===0)return nn;for(rn=0;rn<tn.length;rn++)an=tn.charCodeAt(rn),nn=(nn<<5)-nn+an,nn|=0;return nn},animateClass:function(tn,nn,rn){var an,ln={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var cn in ln)tn.style[cn]!==void 0&&(an=ln[cn]);KTUtil$1.addClass(tn,nn),KTUtil$1.one(tn,an,function(){KTUtil$1.removeClass(tn,nn)}),rn&&KTUtil$1.one(tn,an,rn)},transitionEnd:function(tn,nn){var rn,an={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"msTransitionEnd"};for(var ln in an)tn.style[ln]!==void 0&&(rn=an[ln]);KTUtil$1.one(tn,rn,nn)},animationEnd:function(tn,nn){var rn,an={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var ln in an)tn.style[ln]!==void 0&&(rn=an[ln]);KTUtil$1.one(tn,rn,nn)},animateDelay:function(tn,nn){for(var rn=["webkit-","moz-","ms-","o-",""],an=0;an<rn.length;an++)KTUtil$1.css(tn,rn[an]+"animation-delay",nn)},animateDuration:function(tn,nn){for(var rn=["webkit-","moz-","ms-","o-",""],an=0;an<rn.length;an++)KTUtil$1.css(tn,rn[an]+"animation-duration",nn)},scrollTo:function(tn,nn,an){var an=an||500,ln=tn?KTUtil$1.offset(tn).top:0,cn=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,un,fn;nn&&(ln=ln-nn),un=cn,fn=ln,KTUtil$1.animate(un,fn,an,function(hn){document.documentElement.scrollTop=hn,document.body.parentNode.scrollTop=hn,document.body.scrollTop=hn})},scrollTop:function(tn,nn){KTUtil$1.scrollTo(null,tn,nn)},isArray:function(tn){return tn&&Array.isArray(tn)},isEmpty:function(tn){for(var nn in tn)if(tn.hasOwnProperty(nn))return!1;return!0},numberString:function(tn){tn+="";for(var nn=tn.split("."),rn=nn[0],an=nn.length>1?"."+nn[1]:"",ln=/(\d+)(\d{3})/;ln.test(rn);)rn=rn.replace(ln,"$1,$2");return rn+an},isRTL:function(){return document.querySelector("html").getAttribute("direction")==="rtl"},snakeToCamel:function(tn){return tn.replace(/(\-\w)/g,function(nn){return nn[1].toUpperCase()})},filterBoolean:function(tn){return tn===!0||tn==="true"?!0:tn===!1||tn==="false"?!1:tn},setHTML:function(tn,nn){tn.innerHTML=nn},getHTML:function(tn){if(tn)return tn.innerHTML},getDocumentHeight:function(){var tn=document.body,nn=document.documentElement;return Math.max(tn.scrollHeight,tn.offsetHeight,nn.clientHeight,nn.scrollHeight,nn.offsetHeight)},getScrollTop:function(){return(document.scrollingElement||document.documentElement).scrollTop},colorLighten:function(tn,nn){const rn=function(an,ln){let cn=parseInt(an,16)+ln,un=cn>255?255:cn;return un=un.toString(16).length>1?un.toString(16):`0${un.toString(16)}`,un};return tn=tn.indexOf("#")>=0?tn.substring(1,tn.length):tn,nn=parseInt(255*nn/100),tn=`#${rn(tn.substring(0,2),nn)}${rn(tn.substring(2,4),nn)}${rn(tn.substring(4,6),nn)}`},colorDarken:function(tn,nn){const rn=function(an,ln){let cn=parseInt(an,16)-ln,un=cn<0?0:cn;return un=un.toString(16).length>1?un.toString(16):`0${un.toString(16)}`,un};return tn=tn.indexOf("#")>=0?tn.substring(1,tn.length):tn,nn=parseInt(255*nn/100),tn=`#${rn(tn.substring(0,2),nn)}${rn(tn.substring(2,4),nn)}${rn(tn.substring(4,6),nn)}`},throttle:function(tn,nn,rn){tn||(tn=setTimeout(function(){nn(),tn=void 0},rn))},debounce:function(tn,nn,rn){clearTimeout(tn),tn=setTimeout(nn,rn)},parseJson:function(tn){if(typeof tn=="string"){tn=tn.replace(/'/g,'"');var nn=tn.replace(/(\w+:)|(\w+ :)/g,function(rn){return'"'+rn.substring(0,rn.length-1)+'":'});try{tn=JSON.parse(nn)}catch{}}return tn},getResponsiveValue:function(tn,nn){var rn=this.getViewPort().width,an=null;if(tn=KTUtil$1.parseJson(tn),typeof tn=="object"){var ln,cn=-1,un;for(var fn in tn)fn==="default"?un=0:un=this.getBreakpoint(fn)?this.getBreakpoint(fn):parseInt(fn),un<=rn&&un>cn&&(ln=fn,cn=un);ln?an=tn[ln]:an=tn}else an=tn;return an},each:function(tn,nn){return[].slice.call(tn).map(nn)},getSelectorMatchValue:function(tn){var nn=null;if(tn=KTUtil$1.parseJson(tn),typeof tn=="object"){if(tn.match!==void 0){var rn=Object.keys(tn.match)[0];tn=Object.values(tn.match)[0],document.querySelector(rn)!==null&&(nn=tn)}}else nn=tn;return nn},getConditionalValue:function(nn){var nn=KTUtil$1.parseJson(nn),rn=KTUtil$1.getResponsiveValue(nn);return rn!==null&&rn.match!==void 0&&(rn=KTUtil$1.getSelectorMatchValue(rn)),rn===null&&nn!==null&&nn.default!==void 0&&(rn=nn.default),rn},getCssVariableValue:function(tn){var nn=getComputedStyle(document.documentElement).getPropertyValue(tn);return nn&&nn.length>0&&(nn=nn.trim()),nn},isInViewport:function(tn){var nn=tn.getBoundingClientRect();return nn.top>=0&&nn.left>=0&&nn.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&nn.right<=(window.innerWidth||document.documentElement.clientWidth)},isPartiallyInViewport:function(tn){let nn=tn.getBoundingClientRect().left,rn=tn.getBoundingClientRect().top,an=Math.max(document.documentElement.clientWidth,window.innerWidth||0),ln=Math.max(document.documentElement.clientHeight,window.innerHeight||0),cn=tn.clientWidth,un=tn.clientHeight;return rn<ln&&rn+un>0&&nn<an&&nn+cn>0},onDOMContentLoaded:function(tn){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",tn):tn()},inIframe:function(){try{return window.self!==window.top}catch{return!0}},isHexColor(tn){return/^#[0-9A-F]{6}$/i.test(tn)}}}();window.KTUtil=KTUtil$1;var KTApp=function(){var Fe=!1,en=!1,tn=!1,nn=function(Tn,Nn){if(Tn.getAttribute("data-kt-initialized")!=="1"){var Hn={};Tn.hasAttribute("data-bs-delay-hide")&&(Hn.hide=Tn.getAttribute("data-bs-delay-hide")),Tn.hasAttribute("data-bs-delay-show")&&(Hn.show=Tn.getAttribute("data-bs-delay-show")),Hn&&(Nn.delay=Hn),Tn.hasAttribute("data-bs-dismiss")&&Tn.getAttribute("data-bs-dismiss")=="click"&&(Nn.dismiss="click");var Un=new bootstrap.Tooltip(Tn,Nn);return Nn.dismiss&&Nn.dismiss==="click"&&Tn.addEventListener("click",function(jn){Un.hide()}),Tn.setAttribute("data-kt-initialized","1"),Un}},rn=function(){var Tn=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));Tn.map(function(Nn){nn(Nn,{})})},an=function(Tn,Nn){if(Tn.getAttribute("data-kt-initialized")!=="1"){var Hn={};Tn.hasAttribute("data-bs-delay-hide")&&(Hn.hide=Tn.getAttribute("data-bs-delay-hide")),Tn.hasAttribute("data-bs-delay-show")&&(Hn.show=Tn.getAttribute("data-bs-delay-show")),Hn&&(Nn.delay=Hn),Tn.getAttribute("data-bs-dismiss")=="true"&&(Nn.dismiss=!0),Nn.dismiss===!0&&(Nn.template='<div class="popover" role="tooltip"><div class="popover-arrow"></div><span class="popover-dismiss btn btn-icon"></span><h3 class="popover-header"></h3><div class="popover-body"></div></div>');var Un=new bootstrap.Popover(Tn,Nn);if(Nn.dismiss===!0){var jn=function(Yn){Un.hide()};Tn.addEventListener("shown.bs.popover",function(){var Yn=document.getElementById(Tn.getAttribute("aria-describedby"));Yn.addEventListener("click",jn)}),Tn.addEventListener("hide.bs.popover",function(){var Yn=document.getElementById(Tn.getAttribute("aria-describedby"));Yn.removeEventListener("click",jn)})}return Tn.setAttribute("data-kt-initialized","1"),Un}},ln=function(){var Tn=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));Tn.map(function(Nn){an(Nn,{})})},cn=function(){var Tn=[].slice.call(document.querySelectorAll('[data-kt-buttons="true"]'));Tn.map(function(Nn){if(Nn.getAttribute("data-kt-initialized")!=="1"){var Hn=Nn.hasAttribute("data-kt-buttons-target")?Nn.getAttribute("data-kt-buttons-target"):".btn",Un=[].slice.call(Nn.querySelectorAll(Hn));KTUtil.on(Nn,Hn,"click",function(jn){Un.map(function(Yn){Yn.classList.remove("active")}),this.classList.add("active")}),Nn.setAttribute("data-kt-initialized","1")}})},un=function(){if(!(typeof jQuery>"u")&&!(typeof $.fn.daterangepicker>"u")){var Tn=[].slice.call(document.querySelectorAll('[data-kt-daterangepicker="true"]')),Nn=moment().subtract(29,"days"),Hn=moment();Tn.map(function(Un){if(Un.getAttribute("data-kt-initialized")!=="1"){var jn=Un.querySelector("div"),Yn=Un.hasAttribute("data-kt-daterangepicker-opens")?Un.getAttribute("data-kt-daterangepicker-opens"):"left",Wn=Un.getAttribute("data-kt-daterangepicker-range"),Qn=function(Xn,jr){var Wr=moment();jn&&(Wr.isSame(Xn,"day")&&Wr.isSame(jr,"day")?jn.innerHTML=Xn.format("D MMM YYYY"):jn.innerHTML=Xn.format("D MMM YYYY")+" - "+jr.format("D MMM YYYY"))};Wn==="today"&&(Nn=moment(),Hn=moment()),$(Un).daterangepicker({startDate:Nn,endDate:Hn,opens:Yn,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},Qn),Qn(Nn,Hn),Un.setAttribute("data-kt-initialized","1")}})}},fn=function(){if(!(typeof jQuery>"u")&&!(typeof $.fn.select2>"u")){var Tn=[].slice.call(document.querySelectorAll('[data-control="select2"], [data-kt-select2="true"]'));Tn.map(function(Nn){if(Nn.getAttribute("data-kt-initialized")!=="1"){var Hn={dir:document.body.getAttribute("direction")};Nn.getAttribute("data-hide-search")=="true"&&(Hn.minimumResultsForSearch=1/0),$(Nn).select2(Hn),Nn.setAttribute("data-kt-initialized","1")}}),en===!1&&(en=!0,$(document).on("select2:open",function(Nn){var Hn=document.querySelectorAll(".select2-container--open .select2-search__field");Hn.length>0&&Hn[Hn.length-1].focus()}))}},hn=function(){if(!(typeof autosize>"u")){var Tn=[].slice.call(document.querySelectorAll('[data-kt-autosize="true"]'));Tn.map(function(Nn){Nn.getAttribute("data-kt-initialized")!=="1"&&(autosize(Nn),Nn.setAttribute("data-kt-initialized","1"))})}},pn=function(){if(!(typeof countUp>"u")){var Tn=[].slice.call(document.querySelectorAll('[data-kt-countup="true"]:not(.counted)'));Tn.map(function(Nn){if(KTUtil.isInViewport(Nn)&&KTUtil.visible(Nn)){if(Nn.getAttribute("data-kt-initialized")==="1")return;var Hn={},Un=Nn.getAttribute("data-kt-countup-value");Un=parseFloat(Un.replace(/,/g,"")),Nn.hasAttribute("data-kt-countup-start-val")&&(Hn.startVal=parseFloat(Nn.getAttribute("data-kt-countup-start-val"))),Nn.hasAttribute("data-kt-countup-duration")&&(Hn.duration=parseInt(Nn.getAttribute("data-kt-countup-duration"))),Nn.hasAttribute("data-kt-countup-decimal-places")&&(Hn.decimalPlaces=parseInt(Nn.getAttribute("data-kt-countup-decimal-places"))),Nn.hasAttribute("data-kt-countup-prefix")&&(Hn.prefix=Nn.getAttribute("data-kt-countup-prefix")),Nn.hasAttribute("data-kt-countup-separator")&&(Hn.separator=Nn.getAttribute("data-kt-countup-separator")),Nn.hasAttribute("data-kt-countup-suffix")&&(Hn.suffix=Nn.getAttribute("data-kt-countup-suffix"));var jn=new countUp.CountUp(Nn,Un,Hn);jn.start(),Nn.classList.add("counted"),Nn.setAttribute("data-kt-initialized","1")}})}},gn=function(){if(!(typeof countUp>"u")){tn===!1&&(pn(),window.addEventListener("scroll",pn));var Tn=[].slice.call(document.querySelectorAll('[data-kt-countup-tabs="true"][data-bs-toggle="tab"]'));Tn.map(function(Nn){Nn.getAttribute("data-kt-initialized")!=="1"&&(Nn.addEventListener("shown.bs.tab",pn),Nn.setAttribute("data-kt-initialized","1"))}),tn=!0}},mn=function(){if(typeof tns>"u")return;var Tn=function(Hn){if(!Hn)return;const Un={},jn=function(Wn){return Wn==="true"?!0:Wn==="false"?!1:Wn};Hn.getAttributeNames().forEach(function(Wn){if(/^data-tns-.*/g.test(Wn)){let Qn=Wn.replace("data-tns-","").toLowerCase().replace(/(?:[\s-])\w/g,function(Xn){return Xn.replace("-","").toUpperCase()});if(Wn==="data-tns-responsive"){const Xn=Hn.getAttribute(Wn).replace(/(\w+:)|(\w+ :)/g,function(jr){return'"'+jr.substring(0,jr.length-1)+'":'});try{Un[Qn]=JSON.parse(Xn)}catch{}}else Un[Qn]=jn(Hn.getAttribute(Wn))}});const Yn=Object.assign({},{container:Hn,slideBy:"page",autoplay:!0,autoplayButtonOutput:!1},Un);return Hn.closest(".tns")&&KTUtil.addClass(Hn.closest(".tns"),"tns-initiazlied"),tns(Yn)};const Nn=Array.prototype.slice.call(document.querySelectorAll('[data-tns="true"]'),0);!Nn&&Nn.length===0||Nn.forEach(function(Hn){Hn.getAttribute("data-kt-initialized")!=="1"&&(Tn(Hn),Hn.setAttribute("data-kt-initialized","1"))})},_n=function(){Fe!==!0&&(typeof SmoothScroll>"u"||new SmoothScroll('a[data-kt-scroll-toggle][href*="#"]',{speed:1e3,speedAsDuration:!0,offset:function(Tn,Nn){if(Tn.hasAttribute("data-kt-scroll-offset")){var Hn=KTUtil.getResponsiveValue(Tn.getAttribute("data-kt-scroll-offset"));return Hn}else return 0}}))},kn=function(){KTUtil.on(document.body,'[data-kt-card-action="remove"]',"click",function(Tn){Tn.preventDefault();const Nn=this.closest(".card");if(!Nn)return;const Hn=this.getAttribute("data-kt-card-confirm-message");this.getAttribute("data-kt-card-confirm")==="true"?Swal.fire({text:Hn||"Are you sure to remove ?",icon:"warning",buttonsStyling:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel",customClass:{confirmButton:"btn btn-primary",denyButton:"btn btn-danger"}}).then(function(jn){jn.isConfirmed&&Nn.remove()}):Nn.remove()})},Cn=function(){var Tn=Array.prototype.slice.call(document.querySelectorAll("[data-bs-stacked-modal]"));Tn&&Tn.length>0&&Tn.forEach(Nn=>{Nn.getAttribute("data-kt-initialized")!=="1"&&(Nn.setAttribute("data-kt-initialized","1"),Nn.addEventListener("click",function(Hn){Hn.preventDefault();const Un=document.querySelector(this.getAttribute("data-bs-stacked-modal"));Un&&new bootstrap.Modal(Un).show()}))})},xn=function(){Fe!==!0&&KTUtil.on(document.body,'[data-kt-check="true"]',"change",function(Tn){var Nn=this,Hn=document.querySelectorAll(Nn.getAttribute("data-kt-check-target"));KTUtil.each(Hn,function(Un){Un.type=="checkbox"?Un.checked=Nn.checked:Un.classList.toggle("active")})})},Sn=function(){Fe!==!0&&KTUtil.on(document.body,'.collapsible[data-bs-toggle="collapse"]',"click",function(Tn){if(this.classList.contains("collapsed")?(this.classList.remove("active"),this.blur()):this.classList.add("active"),this.hasAttribute("data-kt-toggle-text")){var Nn=this.getAttribute("data-kt-toggle-text"),Hn=this.querySelector('[data-kt-toggle-text-target="true"]'),Hn=Hn||this;this.setAttribute("data-kt-toggle-text",Hn.innerText),Hn.innerText=Nn}})},Mn=function(){Fe!==!0&&KTUtil.on(document.body,'[data-kt-rotate="true"]',"click",function(Tn){this.classList.contains("active")?(this.classList.remove("active"),this.blur()):this.classList.add("active")})},In=function(){if(typeof lozad>"u")return;lozad().observe()},On=function(){document.body.classList.add("page-loading"),document.body.setAttribute("data-kt-app-page-loading","on")},Pn=function(){document.body.classList.remove("page-loading"),document.body.removeAttribute("data-kt-app-page-loading")};return{init:function(){In(),_n(),kn(),Cn(),xn(),Sn(),Mn(),rn(),ln(),un(),cn(),fn(),pn(),gn(),hn(),mn(),Fe=!0},showPageLoading:function(){On()},hidePageLoading:function(){Pn()},createBootstrapPopover:function(Tn,Nn){return an(Tn,Nn)},createBootstrapTooltip:function(Tn,Nn){return nn(Tn,Nn)}}}();window.addEventListener("DOMContentLoaded",Fe=>{window.KTApp=KTApp.init()});const initDatatable=()=>{var Fe={language:{info:_LANG_.Showing+" _START_ "+_LANG_.to+" _END_ "+_LANG_.of+" _TOTAL_ ",infoEmpty:_LANG_.ShowingNoRecords,emptyTable:_LANG_.NoDataAvailableInTable,lengthMenu:"_MENU_",paginate:{first:'<i class="first"></i>',last:'<i class="last"></i>',next:'<i class="next"></i>',previous:'<i class="previous"></i>'},zeroRecords:_LANG_.sZeroRecords,infoFiltered:"(Affichage de _MAX_ ligne(s))"}};$.extend(!0,$.fn.dataTable.defaults,Fe);var en=$.fn.dataTable;$.extend(!0,en.defaults,{dom:"<'table-responsive'tr><'flex flex-col items-start justify-between p-4 space-y-3 md:flex-row md:items-center md:space-y-0'<'text-sm font-normal text-gray-500 dark:text-gray-400 flex flex-row items-center justify-between'li><'inline-flex items-stretch -space-x-px'p>>",renderer:"bootstrap"}),$.extend(en.ext.classes,{sWrapper:"dataTables_wrapper dt-tailwindcss",sFilterInput:"form-control form-control-sm form-control-solid",sLengthSelect:"form-select form-select-sm form-select-solid",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),en.ext.renderer.pageButton.bootstrap=function(tn,nn,rn,an,ln,cn){var un=new en.Api(tn),fn=tn.oClasses,hn=tn.oLanguage.oPaginate,pn=tn.oLanguage.oAria.paginate||{},gn,mn,_n=0,kn=function(xn,Sn){var Mn,In,On,Pn,Tn=function(Nn){Nn.preventDefault(),!$(Nn.currentTarget).hasClass("disabled")&&un.page()!=Nn.data.action&&un.page(Nn.data.action).draw("page")};for(Mn=0,In=Sn.length;Mn<In;Mn++)if(Pn=Sn[Mn],Array.isArray(Pn))kn(xn,Pn);else{switch(gn="",mn="",Pn){case"ellipsis":gn="&#x2026;",mn="disabled";break;case"first":gn=hn.sFirst,mn=Pn+(ln>0?"":" disabled");break;case"previous":gn=hn.sPrevious,mn=Pn+(ln>0?"":" disabled");break;case"next":gn=hn.sNext,mn=Pn+(ln<cn-1?"":" disabled");break;case"last":gn=hn.sLast,mn=Pn+(ln<cn-1?"":" disabled");break;default:gn=Pn+1,mn=ln===Pn?"active":"";break}gn&&(On=$("<li>",{class:fn.sPageButton+" "+mn,id:rn===0&&typeof Pn=="string"?tn.sTableId+"_"+Pn:null}).append($("<a>",{href:"#","aria-controls":tn.sTableId,"aria-label":pn[Pn],"data-dt-idx":_n,tabindex:tn.iTabIndex,class:"page-link"}).html(gn)).appendTo(xn),tn.oApi._fnBindAction(On,{action:Pn},Tn),_n++)}},Cn;try{Cn=$(nn).find(document.activeElement).data("dt-idx")}catch{}kn($(nn).empty().html('<ul class="pagination"/>').children("ul"),an),Cn!==void 0&&$(nn).find("[data-dt-idx="+Cn+"]").trigger("focus")}},initPhoneIntl=()=>{const Fe=document.querySelectorAll(".phoneintl"),en=document.querySelector('[name="country"]');en&&$(".select2-country").on("select2:select",function(tn){console.info(en.value),Fe&&Fe.forEach(function(nn){var rn=intlTelInput(nn,{initialCountry:en.value,allowDropdown:!1,localizedCountries:en.value,autoPlaceholder:"aggressive",placeholderNumberType:"FIXED_LINE",nationalMode:!1,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"});rn.setCountry(en.value),nn.addEventListener("countrychange",function(){var an=document.querySelector('[name="country"]');an&&(an.value=rn.getSelectedCountryData().dialCode)}),nn.addEventListener("open:countrydropdown",function(){}),nn.addEventListener("close:countrydropdown",function(){})})}),Fe&&Fe.forEach(function(tn){var nn=intlTelInput(tn,{initialCountry:en.value??"US",allowDropdown:!1,localizedCountries:en.value,autoPlaceholder:"aggressive",placeholderNumberType:"FIXED_LINE",nationalMode:!1,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"});tn.addEventListener("countrychange",function(){var rn=document.querySelector('[name="country"]');rn&&(rn.value=nn.getSelectedCountryData().iso2.toUpperCase())}),tn.addEventListener("open:countrydropdown",function(){}),tn.addEventListener("close:countrydropdown",function(){})})};document.addEventListener("alpine:init",()=>{Alpine.data("listen",()=>({confirmationModal:!1,emitTo(Fe,en,tn){console.log(Fe),console.log(en),console.log(tn),this.confirmationModal=!0}})),Alpine.store("config",{userIsAuthenticated:!0}),Alpine.store("toasts",{counter:0,list:[],createToast(Fe,en="info"){const tn=this.list.length;let nn=this.list.filter(rn=>rn.visible).length+1;this.list.push({id:this.counter++,message:Fe,type:en,visible:!0}),setTimeout(()=>{this.destroyToast(tn)},4e3*nn)},destroyToast(Fe){this.list[Fe].visible=!1}}),Alpine.store("sidebar",{full:!1,active:"home",navOpen:!1}),Alpine.data("dropdown",()=>({open:!1,toggle(Fe){this.open=!this.open,Alpine.store("sidebar").active=Fe},activeClass:"bg-gray-800 text-gray-200",expandedClass:"border-l border-gray-400 ml-4 pl-4",shrinkedClass:"sm:absolute top-0 left-20 sm:shadow-md sm:z-10 sm:bg-gray-900 sm:rounded-md sm:p-4 border-l sm:border-none border-gray-400 ml-4 pl-4 sm:ml-0 w-28"})),Alpine.data("sub_dropdown",()=>({sub_open:!1,sub_toggle(){this.sub_open=!this.sub_open},sub_expandedClass:"border-l border-gray-400 ml-4 pl-4",sub_shrinkedClass:"sm:absolute top-0 left-28 sm:shadow-md sm:z-10 sm:bg-gray-900 sm:rounded-md sm:p-4 border-l sm:border-none border-gray-400 ml-4 pl-4 sm:ml-0 w-28"})),Alpine.data("tooltip",()=>({show:!1,visibleClass:"block sm:absolute -top-7 sm:border border-gray-800 left-5 sm:text-sm sm:bg-gray-900 sm:px-2 sm:py-1 sm:rounded-md z-50"})),Alpine.data("noticesHandler",()=>({notices:[],visible:[],add(Fe){Fe.id=Date.now(),this.notices.push(Fe),this.fire(Fe.id)},fire(Fe){this.visible.push(this.notices.find(tn=>tn.id==Fe));const en=4500*this.visible.length;setTimeout(()=>{this.remove(Fe)},en)},remove(Fe){const en=this.visible.find(nn=>nn.id==Fe),tn=this.visible.indexOf(en);this.visible.splice(tn,1)},getIcon(Fe){if(Fe.type=="success")return"<div class='text-green-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-check' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z'/></svg></div>";if(Fe.type=="info")return"<div class='text-blue-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-info' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z'/><circle cx='8' cy='4.5' r='1'/></svg></div>";if(Fe.type=="warning")return"<div class='text-orange-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-exclamation' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z'/></svg></div>";if(Fe.type=="error")return"<div class='text-red-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-x' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z'/><path fill-rule='evenodd' d='M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z'/></svg></div>"}})),Alpine.data("appGeneratePassword",()=>({showPasswordField:!0,passwordScore:0,new_password:"",pass_confirm:"",chars:{lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",numeric:"0123456789",symbols:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"},init(){console.log("changePassword loaded"),this.generatePassword()},charsLength:12,checkStrength:function(){if(!this.new_password)return this.passwordScore=0;this.passwordScore=zxcvbn(this.new_password).score+1},generatePassword:function(){console.log(document.getElementById("charsSymbols").checked);var Fe=this.shuffleArray(((document.getElementById("charsLower").checked?this.chars.lower:"")+(document.getElementById("charsUpper").checked?this.chars.upper:"")+(document.getElementById("charsNumeric").checked?this.chars.numeric:"")+(document.getElementById("charsSymbols").checked?this.chars.symbols:"")).split("")).join("").substring(0,this.charsLength);this.new_password=Fe,this.pass_confirm=Fe,this.checkStrength()},shuffleArray(Fe){for(let en=Fe.length-1;en>0;en--){const tn=Math.floor(Math.random()*(en+1));[Fe[en],Fe[tn]]=[Fe[tn],Fe[en]]}return Fe}})),Alpine.data("initSelect2Alpine",()=>({selectedCity:"",init(){this.select2=$(this.$refs.select).select2(),this.select2.on("select2:select",Fe=>{this.selectedCity=Fe.target.value}),this.$watch("selectedCity",Fe=>{this.select2.val(Fe).trigger("change")})}})),Alpine.data("initDatePickerRange",()=>({value:[moment().subtract(1,"M"),moment()],init(){_LANG_.today,_LANG_.yesterday,$(this.$refs.picker).daterangepicker({minYear:parseInt(moment().subtract(10,"years").format("YYYY"),10),maxYear:parseInt(moment().add(10,"years").format("YYYY"),10),autoUpdateInput:!1,startDate:this.value[0],endDate:this.value[1],locale:{applyLabel:_LANG_.appliquer,format:moment.localeData().longDateFormat("L"),cancelLabel:_LANG_.annuler,weekLabel:"W",customRangeLabel:_LANG_.custom,daysOfWeek:moment.weekdaysMin(),monthNames:moment.monthsShort(),firstDay:moment.localeData().firstDayOfWeek()},ranges:{todaylang:[moment(),moment()],yesterdaLang:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},(Fe,en)=>{this.value[0]=Fe.format("DD/MM/YYYY"),this.value[1]=en.format("DD/MM/YYYY")}),this.$watch("value",()=>{$(this.$refs.picker).data("daterangepicker").setStartDate(this.value[0]),$(this.$refs.picker).data("daterangepicker").setEndDate(this.value[1])})}})),Alpine.data("xModalMedia",Fe=>({dataUUID:"",file:[],identifier:"test",multiple:!1,container:"element",media_selected:"",media_target:"",init(en){console.log("modal MÃ©dia loaded"),this.identifier=this.$el.getAttribute("data-media-identifier"),this.multiple=this.$el.getAttribute("data-media-multiple"),this.container=this.$el.getAttribute("data-media-container"),this.media_selected=this.$el.querySelector(".media_selected"),this.media_target=this.$el.querySelector(".media_target"),this.$el.querySelectorAll(".element-media-modal").forEach(tn=>{tn.addEventListener("click",nn=>{let rn=tn.querySelector("img");const an=tn.classList.contains("selected");for(var ln=0;ln<this.$el.querySelectorAll(".element-media-modal").length;ln++)this.$el.querySelectorAll(".element-media-modal")[ln].classList.remove("selected");this.media_selected.value="",an||(tn.classList.add("selected"),this.dataUUID=tn.getAttribute("data-uuid"),console.log("mÃ©dia selected : "+this.dataUUID),console.log(this.identifier),this.file=rn.getAttribute("data-media-file"),console.log(this.media_selected),this.media_selected.value=this.dataUUID,this.insert())})})},insert(){console.log("fafa"),console.log(this.dataUUID),console.log(this.container),console.log(this.file),this.$el.querySelector('[name="btwinserer"]').addEventListener("click",function(en){console.log(en.__x.getUnobservedData());var tn=document.querySelector(".selected");if(console.log(en),console.log(tn),console.log(this.container),console.log(this.file),containerBody=document.querySelector("body"),containerBody){let nn=container.querySelector("img");nn.src=this.file[0]}})}})),Alpine.data("drop_file_component",()=>({dropingFile:!1,handleFileDrop(Fe){event.dataTransfer.files.length>0&&Fe.dataTransfer.files}}))});const initHtmx$1=()=>{typeof window.htmx<"u"&&(htmx.config.useTemplateFragments=!0);let Fe=[];function en(un){return htmx.closest(un,"[data-loading-states]")||document.body}function tn(un,fn){document.body.contains(un)&&fn()}function nn(un,fn){const hn=htmx.closest(un,"[data-loading-path]");return hn?hn.getAttribute("data-loading-path")===fn:!0}function rn(un,fn,hn,pn){const gn=htmx.closest(un,"[data-loading-delay]");if(gn){const mn=gn.getAttribute("data-loading-delay")||2e3,_n=setTimeout(()=>{hn(),Fe.push(()=>{tn(fn,()=>pn())})},mn);Fe.push(()=>{tn(fn,()=>clearTimeout(_n))})}else hn(),Fe.push(()=>{tn(fn,()=>pn())})}function an(un,fn,hn){return Array.from(htmx.findAll(un,`[${fn}]`)).filter(pn=>nn(pn,hn))}function ln(un){return un.getAttribute("data-loading-target")?Array.from(htmx.findAll(un.getAttribute("data-loading-target"))):[un]}htmx.defineExtension("loading-states",{onEvent:function(un,fn){if(un==="htmx:beforeRequest"){const hn=en(fn.target),pn=["data-loading","data-loading-class","data-loading-class-remove","data-loading-disable","data-loading-aria-busy"];let gn={};pn.forEach(mn=>{gn[mn]=an(hn,mn,fn.detail.pathInfo.requestPath)}),gn["data-loading"].forEach(mn=>{ln(mn).forEach(_n=>{rn(mn,_n,()=>_n.style.display=mn.getAttribute("data-loading")||"inline-block",()=>_n.style.display="none")})}),gn["data-loading-class"].forEach(mn=>{const _n=mn.getAttribute("data-loading-class").split(" ");ln(mn).forEach(kn=>{rn(mn,kn,()=>_n.forEach(Cn=>kn.classList.add(Cn)),()=>_n.forEach(Cn=>kn.classList.remove(Cn)))})}),gn["data-loading-class-remove"].forEach(mn=>{const _n=mn.getAttribute("data-loading-class-remove").split(" ");ln(mn).forEach(kn=>{ln(mn).forEach(Cn=>{rn(mn,Cn,()=>_n.forEach(xn=>Cn.classList.remove(xn)),()=>_n.forEach(xn=>Cn.classList.add(xn)))})})}),gn["data-loading-disable"].forEach(mn=>{ln(mn).forEach(_n=>{_n.setAttribute("disabled",!0),setTimeout(()=>{_n.removeAttribute("disabled")},"2000")})}),gn["data-loading-aria-busy"].forEach(mn=>{ln(mn).forEach(_n=>{rn(mn,_n,()=>_n.setAttribute("aria-busy","true"),()=>_n.removeAttribute("aria-busy"))})})}if(un==="htmx:beforeOnLoad")for(;Fe.length>0;)Fe.shift()()}}),htmx.defineExtension("alpine-morph",{isInlineSwap:function(un){return un==="morph"},handleSwap:function(un,fn,hn){if(un==="morph")return hn.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(Alpine.morph(fn,hn.firstElementChild),[fn]):(Alpine.morph(fn,hn.outerHTML),[fn])}}),htmx.defineExtension("restored",{onEvent:function(un,fn){if(un==="htmx:restored"){var hn=fn.detail.document.querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']"),pn=Array.from(hn).find(gn=>gn.outerHTML===fn.detail.elt.outerHTML);fn.detail.triggerEvent(pn,"restored")}}}),htmx.defineExtension("json-enc",{onEvent:function(un,fn){un==="htmx:configRequest"&&(fn.detail.headers["Content-Type"]="application/json")},encodeParameters:function(un,fn,hn){return un.overrideMimeType("text/json"),JSON.stringify(fn)}}),htmx.defineExtension("debug",{onEvent:function(un,fn){if(console.debug)console.debug(un,fn);else if(console)console.log("DEBUG:",un,fn);else throw"NO CONSOLE SUPPORTED"}}),function(){function un(fn){var hn={};for(var pn in fn)hn[pn]=fn[pn];return JSON.stringify(hn,function(gn,mn){if(mn instanceof Node){var _n=mn.tagName;return _n?(_n=_n.toLowerCase(),mn.id&&(_n+="#"+mn.id),mn.classList&&mn.classList.length&&(_n+="."+mn.classList.toString().replace(" ",".")),_n):"Node"}return mn instanceof Window?"Window":mn})}htmx.defineExtension("event-header",{onEvent:function(fn,hn){fn==="htmx:configRequest"&&hn.detail.triggeringEvent&&(hn.detail.headers["Triggering-Event"]=un(hn.detail.triggeringEvent))}})}(),htmx.defineExtension("client-side-templates",{transformResponse:function(un,fn,hn){var pn=htmx.closest(hn,"[mustache-template]");if(pn){var gn=JSON.parse(un),mn=pn.getAttribute("mustache-template"),_n=htmx.find("#"+mn);if(_n)return Mustache.render(_n.innerHTML,gn);throw"Unknown mustache template: "+mn}var kn=htmx.closest(hn,"[handlebars-template]");if(kn){var gn=JSON.parse(un),Cn=kn.getAttribute("handlebars-template");return Handlebars.partials[Cn](gn)}var xn=htmx.closest(hn,"[nunjucks-template]");if(xn){var gn=JSON.parse(un),Cn=xn.getAttribute("nunjucks-template"),_n=htmx.find("#"+Cn);return _n?nunjucks.renderString(_n.innerHTML,gn):nunjucks.render(Cn,gn)}return un}}),htmx.defineExtension("disable-element",{onEvent:function(un,fn){let hn=fn.detail.elt,pn=hn.getAttribute("hx-disable-element"),gn=pn=="self"?hn:document.querySelector(pn);un==="htmx:beforeRequest"&&gn?gn.disabled=!0:un=="htmx:afterRequest"&&gn&&(gn.disabled=!1)}}),htmx.defineExtension("echarts",{transformResponse:function(un,fn,hn){var pn=JSON.parse(un),gn=pn,mn=document.getElementById("charts"),_n=window.echarts.getInstanceByDom(mn);delete pn.id,_n.setOption(gn)}}),htmx.defineExtension("reset-on-success",{onEvent:function(un,fn){if(un!=="htmx:beforeSwap"||fn.detail.isError)return;const hn=fn.detail.requestConfig.elt;if(!(!hn.closest('[hx-reset-on-success="true"]')&&!hn.closest("[data-hx-reset-on-success]")))switch(hn.tagName){case"INPUT":hn.value="";case"TEXTAREA":hn.value="";break;case"SELECT":break;case"FORM":hn.reset();break}}});const cn={initHTMXXRequestedWithXMLHttpRequest:function(){document.body.addEventListener("htmx:configRequest",un=>{un.detail.headers["X-CSRF-TOKEN"]=document.querySelector("[name=X-CSRF-TOKEN]").content,un.detail.headers["X-Requested-With"]="XMLHttpRequest"}),document.body.addEventListener("htmx:beforeSwap",function(un){}),htmx.on("htmx:afterSettle",function(un){un.detail.xhr.getResponseHeader("content-type")}),htmx.on("htmx:afterSwap",function(un){}),htmx.on("htmx:afterRequest",function(un){}),htmx.on("htmx:responseError",function(un){let fn=new CustomEvent("notify",{bubbles:!0,cancelable:!0,detail:{content:un.detail.xhr.statusText,type:"error"}});document.dispatchEvent(fn)})},listenToHTMXRequests:function(){htmx.on("htmx:afterSettle",function(un){const fn=document.getElementById("location_notice");let hn={type:"error",text:"Server encountered error"};fn&&(hn={type:fn.dataset.noticeType,text:fn.value});const pn="notice";cn.dispatchCustomEvent(pn,hn)})},getCSRFToken:function(){return htmx.find("._post_token")},dispatchCustomEvent:function(un,fn,hn){const pn=new CustomEvent(un,{detail:fn});hn?hn.dispatchEvent(pn):window.dispatchEvent(pn)},noticesHandler:function(){return{notices:[],visible:[],add(un){un.id=Date.now(),this.notices.push(un),this.fire(un.id)},fire(un){this.visible.push(this.notices.find(hn=>hn.id==un));const fn=2500*this.visible.length;setTimeout(()=>{this.remove(un)},fn)},remove(un){const fn=this.visible.find(pn=>pn.id==un),hn=this.visible.indexOf(fn);this.visible.splice(hn,1)},getIcon(un){if(un.type=="success")return"<div class='text-green-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-check' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z'/></svg></div>";if(un.type=="info")return"<div class='text-blue-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-info' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z'/><circle cx='8' cy='4.5' r='1'/></svg></div>";if(un.type=="warning")return"<div class='text-orange-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-exclamation' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z'/></svg></div>";if(un.type=="error")return"<div class='text-red-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-x' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z'/><path fill-rule='evenodd' d='M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z'/></svg></div>"}}}};document.addEventListener("DOMContentLoaded",function(un){typeof htmx<"u"&&(cn.initHTMXXRequestedWithXMLHttpRequest(),cn.listenToHTMXRequests())})},initHtmx=()=>{var Fe=null;function en(tn,nn){if(tn&&tn.indexOf("<head")>-1){const Sn=document.createElement("html");var rn=tn.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),an=rn.match(/(<head(\s[^>]*>|>)([\s\S]*?)<\/head>)/im);if(an){var ln=[],cn=[],un=[],fn=[];Sn.innerHTML=an;var hn=Sn.querySelector("head"),pn=document.head;if(hn==null)return;var gn=new Map;for(const Mn of hn.children)gn.set(Mn.outerHTML,Mn);var mn=Fe.getAttributeValue(hn,"hx-head")||nn;for(const Mn of pn.children){var _n=gn.has(Mn.outerHTML),kn=Mn.getAttribute("hx-head")==="re-eval",Cn=Fe.getAttributeValue(Mn,"hx-preserve")==="true";_n||Cn?kn?cn.push(Mn):(gn.delete(Mn.outerHTML),un.push(Mn)):mn==="append"?kn&&(cn.push(Mn),fn.push(Mn)):Fe.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:Mn})!==!1&&cn.push(Mn)}fn.push(...gn.values());for(const Mn of fn){var xn=document.createRange().createContextualFragment(Mn.outerHTML);Fe.triggerEvent(document.body,"htmx:addingHeadElement",{headElement:xn})!==!1&&(pn.appendChild(xn),ln.push(xn))}for(const Mn of cn)Fe.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:Mn})!==!1&&pn.removeChild(Mn);Fe.triggerEvent(document.body,"htmx:afterHeadMerge",{added:ln,kept:un,removed:cn})}}}htmx.defineExtension("head-support",{init:function(tn){Fe=tn,htmx.on("htmx:afterSwap",function(nn){var rn=nn.detail.xhr.response;Fe.triggerEvent(document.body,"htmx:beforeHeadMerge",nn.detail)&&en(rn,nn.detail.boosted?"merge":"append")}),htmx.on("htmx:historyRestore",function(nn){Fe.triggerEvent(document.body,"htmx:beforeHeadMerge",nn.detail)&&(nn.detail.cacheMiss?en(nn.detail.serverResponse,"merge"):en(nn.detail.item.head,"merge"))}),htmx.on("htmx:historyItemCreated",function(nn){var rn=nn.detail.item;rn.head=document.head.outerHTML})}})},wsHtmx=()=>{var Fe;htmx.defineExtension("ws",{init:function(mn){Fe=mn,htmx.createWebSocket||(htmx.createWebSocket=hn),htmx.config.wsReconnectDelay||(htmx.config.wsReconnectDelay="full-jitter")},onEvent:function(mn,_n){switch(mn){case"htmx:beforeCleanupElement":var kn=Fe.getInternalData(_n.target);kn.webSocket&&kn.webSocket.close();return;case"htmx:beforeProcessNode":var Cn=_n.target;gn(pn(Cn,"ws-connect"),function(xn){nn(xn)}),gn(pn(Cn,"ws-send"),function(xn){an(xn)})}}});function en(mn){return mn.trim().split(/\s+/)}function tn(mn){var _n=Fe.getAttributeValue(mn,"hx-ws");if(_n)for(var kn=en(_n),Cn=0;Cn<kn.length;Cn++){var xn=kn[Cn].split(/:(.+)/);if(xn[0]==="connect")return xn[1]}}function nn(mn){if(Fe.bodyContains(mn)){var _n=Fe.getAttributeValue(mn,"ws-connect");if(_n==null||_n===""){var kn=tn(mn);if(kn==null)return;_n=kn}if(_n.indexOf("/")===0){var Cn=location.hostname+(location.port?":"+location.port:"");location.protocol==="https:"?_n="wss://"+Cn+_n:location.protocol==="http:"&&(_n="ws://"+Cn+_n)}var xn=rn(mn,function(){return htmx.createWebSocket(_n)});xn.addEventListener("message",function(Sn){if(!fn(mn)){var Mn=Sn.data;if(Fe.triggerEvent(mn,"htmx:wsBeforeMessage",{message:Mn,socketWrapper:xn.publicInterface})){Fe.withExtensions(mn,function(Nn){Mn=Nn.transformResponse(Mn,null,mn)});var In=Fe.makeSettleInfo(mn),On=Fe.makeFragment(Mn);if(On.children.length)for(var Pn=Array.from(On.children),Tn=0;Tn<Pn.length;Tn++)Fe.oobSwap(Fe.getAttributeValue(Pn[Tn],"hx-swap-oob")||"true",Pn[Tn],In);Fe.settleImmediately(In.tasks),Fe.triggerEvent(mn,"htmx:wsAfterMessage",{message:Mn,socketWrapper:xn.publicInterface})}}}),Fe.getInternalData(mn).webSocket=xn}}function rn(mn,_n){var kn={socket:null,messageQueue:[],retryCount:0,events:{},addEventListener:function(Cn,xn){this.socket&&this.socket.addEventListener(Cn,xn),this.events[Cn]||(this.events[Cn]=[]),this.events[Cn].push(xn)},sendImmediately:function(Cn,xn){this.socket||Fe.triggerErrorEvent(),xn&&Fe.triggerEvent(xn,"htmx:wsBeforeSend",{message:Cn,socketWrapper:this.publicInterface})&&(this.socket.send(Cn),xn&&Fe.triggerEvent(xn,"htmx:wsAfterSend",{message:Cn,socketWrapper:this.publicInterface}))},send:function(Cn,xn){this.socket.readyState!==this.socket.OPEN?this.messageQueue.push({message:Cn,sendElt:xn}):this.sendImmediately(Cn,xn)},handleQueuedMessages:function(){for(;this.messageQueue.length>0;){var Cn=this.messageQueue[0];if(this.socket.readyState===this.socket.OPEN)this.sendImmediately(Cn.message,Cn.sendElt),this.messageQueue.shift();else break}},init:function(){this.socket&&this.socket.readyState===this.socket.OPEN&&this.socket.close();var Cn=_n();Fe.triggerEvent(mn,"htmx:wsConnecting",{event:{type:"connecting"}}),this.socket=Cn,Cn.onopen=function(Sn){kn.retryCount=0,Fe.triggerEvent(mn,"htmx:wsOpen",{event:Sn,socketWrapper:kn.publicInterface}),kn.handleQueuedMessages()},Cn.onclose=function(Sn){if(!fn(mn)&&[1006,1012,1013].indexOf(Sn.code)>=0){var Mn=un(kn.retryCount);setTimeout(function(){kn.retryCount+=1,kn.init()},Mn)}Fe.triggerEvent(mn,"htmx:wsClose",{event:Sn,socketWrapper:kn.publicInterface})},Cn.onerror=function(Sn){Fe.triggerErrorEvent(mn,"htmx:wsError",{error:Sn,socketWrapper:kn}),fn(mn)};var xn=this.events;Object.keys(xn).forEach(function(Sn){xn[Sn].forEach(function(Mn){Cn.addEventListener(Sn,Mn)})})},close:function(){this.socket.close()}};return kn.init(),kn.publicInterface={send:kn.send.bind(kn),sendImmediately:kn.sendImmediately.bind(kn),queue:kn.messageQueue},kn}function an(mn){var _n=Fe.getAttributeValue(mn,"hx-ws");if(!(_n&&_n!=="send")){var kn=Fe.getClosestMatch(mn,ln);cn(kn,mn)}}function ln(mn){return Fe.getInternalData(mn).webSocket!=null}function cn(mn,_n){var kn=Fe.getInternalData(_n),Cn=Fe.getTriggerSpecs(_n);Cn.forEach(function(xn){Fe.addTriggerHandler(_n,xn,kn,function(Sn,Mn){if(!fn(mn)){var In=Fe.getInternalData(mn).webSocket,On=Fe.getHeaders(_n,Fe.getTarget(_n)),Pn=Fe.getInputValues(_n,"post"),Tn=Pn.errors,Nn=Pn.values,Hn=Fe.getExpressionVars(_n),Un=Fe.mergeObjects(Nn,Hn),jn=Fe.filterValues(Un,_n),Yn={parameters:jn,unfilteredParameters:Un,headers:On,errors:Tn,triggeringEvent:Mn,messageBody:void 0,socketWrapper:In.publicInterface};if(Fe.triggerEvent(Sn,"htmx:wsConfigSend",Yn)){if(Tn&&Tn.length>0){Fe.triggerEvent(Sn,"htmx:validation:halted",Tn);return}var Wn=Yn.messageBody;if(Wn===void 0){var Qn=Object.assign({},Yn.parameters);Yn.headers&&(Qn.HEADERS=On),Wn=JSON.stringify(Qn)}In.send(Wn,Sn),Mn&&Fe.shouldCancel(Mn,Sn)&&Mn.preventDefault()}}})})}function un(mn){var _n=htmx.config.wsReconnectDelay;if(typeof _n=="function")return _n(mn);if(_n==="full-jitter"){var kn=Math.min(mn,6),Cn=1e3*Math.pow(2,kn);return Cn*Math.random()}logError('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function fn(mn){return Fe.bodyContains(mn)?!1:(Fe.getInternalData(mn).webSocket.close(),!0)}function hn(mn){var _n=new WebSocket(mn,[]);return _n.binaryType=htmx.config.wsBinaryType,_n}function pn(mn,_n){var kn=[];return(Fe.hasAttribute(mn,_n)||Fe.hasAttribute(mn,"hx-ws"))&&kn.push(mn),mn.querySelectorAll("["+_n+"], [data-"+_n+"], [data-hx-ws], [hx-ws]").forEach(function(Cn){kn.push(Cn)}),kn}function gn(mn,_n){if(mn)for(var kn=0;kn<mn.length;kn++)_n(mn[kn])}};window.Ci4DataTables=window.Ci4DataTables||{};document.querySelector("html");window.jQuery=window.$=$$3;window.intlTelInput=intlTelInput$3;window.Swal=Swal$1;window.Sortable=Sortable;window.nestedSort=NestedSort;window.axios=axios$1;select2$1();window.select2=select2$1;window.daterangepicker=daterangepicker;window.EasyMDE=EasyMDE$1;window.ClassicEditor=ClassicEditor;window.Alpine=module_default$6;window.datatable=DataTable;window.echarts=echarts;window.dropzone=$3ed269f2f0fb224b$export$2e2bcd8739ae039;window.htmx=htmx$1;window.Quill=Quill;module_default$6.plugin(module_default$4);module_default$6.plugin(module_default$3);module_default$6.plugin(module_default$5);module_default$6.plugin(module_default$2);module_default$6.plugin(module_default);module_default$6.plugin(Clipboard.configure({onCopy:()=>{console.log("Copied!")}}));module_default$6.plugin(module_default$1);window.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="X-CSRF-TOKEN"]').getAttribute("content")};module_default$6.start();initDatatable();initPhoneIntl();initHtmx$1();initHtmx();wsHtmx();htmx_minExports.on("htmx:afterSettle",function(Fe){initPhoneIntl()});function _getElementById(Fe){return document.getElementById(Fe)}window._getElementById=_getElementById();function toggleSelectAll(Fe){for(var en=Fe.closest("table"),tn=en.getElementsByTagName("input"),nn=0;nn<tn.length;nn++)tn[nn].type=="checkbox"&&(tn[nn].checked=Fe.checked)}document.querySelector(".select-all")&&document.querySelector(".select-all").addEventListener("click",function(Fe){toggleSelectAll(Fe.target)});document.body.addEventListener("deleteConfirmed",function(Fe){document.getElementById("recordSelector").dispatchEvent(new CustomEvent("deleteOK"))});document.body.addEventListener("showMessage",function(Fe){if(typeof Fe.detail.content=="object"){var en=Fe.detail.content,tn="<ul>";Object.keys(en).forEach(nn=>{tn+="<li>"+en[nn]+"</li>"}),tn+="</ul>"}else tn=Fe.detail.content;document.dispatchEvent(new CustomEvent("notify",{detail:{content:tn,type:Fe.detail.type},bubbles:!0}))});function updateOnlineStatus(Fe){let en=navigator.onLine?"online":"offline",tn=navigator.onLine?"success":"error";Fe.type!=null&&document.dispatchEvent(new CustomEvent("notify",{detail:{content:en,type:tn},bubbles:!0}))}window.addEventListener("online",updateOnlineStatus);window.addEventListener("offline",updateOnlineStatus);updateOnlineStatus({});window.dispatchEvent(new CustomEvent("deletemodalcomponent",{detail:{showDeleteModal:!1,title:"my-modal",message:"my-modal",id:"8"},bubbles:!0}));window.dispatchEvent(new CustomEvent("authdisplaydatamodalcomponent",{detail:{showAuthDisplayDataModal:!1,title:"my-modal",message:"my-modal",id:"8"},bubbles:!0}));window.dispatchEvent(new CustomEvent("modalcomponent",{detail:{showModal:!1},bubbles:!0}));const searchField=document.getElementById("search-field");searchField&&searchField.addEventListener("keypress",function(Fe){Fe.keyCode==13&&Fe.preventDefault()});htmx_minExports.onLoad(function(Fe){document.querySelectorAll(".maxlength").forEach(tn=>{var nn=document.querySelector("."+tn.getAttribute("id"));const rn=tn.getAttribute("data-limit-word"),an=()=>{let ln=nn.value.length,cn=rn-ln;tn.textContent=cn+"/"+rn,cn<=0?(tn.classList.remove("text-black-800","text-warning-800"),tn.classList.add("text-red-800")):cn<20?(tn.classList.remove("text-black-800","text-red-800"),tn.classList.add("text-warning-800")):(tn.classList.remove("text-warning-800","text-red-800"),tn.classList.add("text-black-800"))};nn.addEventListener("input",an),an()})});window.onload=function(){let Fe=document.querySelectorAll("input.noenter,select.noenter");for(var en=0;en<Fe.length;en++)Fe[en].addEventListener("keypress",function(tn){tn.which==13&&tn.preventDefault()})};const INACTIVE_USER_TIME_THRESHOLD=9e5;let userActivityTimeout=null;activateActivityTracker();function activateActivityTracker(){window.addEventListener("mousemove",resetUserActivityTimeout),window.addEventListener("scroll",resetUserActivityTimeout),window.addEventListener("keydown",resetUserActivityTimeout),window.addEventListener("resize",resetUserActivityTimeout),window.addEventListener("beforeunload",deactivateActivityTracker)}function deactivateActivityTracker(){window.removeEventListener("mousemove",resetUserActivityTimeout),window.removeEventListener("scroll",resetUserActivityTimeout),window.removeEventListener("keydown",resetUserActivityTimeout),window.removeEventListener("resize",resetUserActivityTimeout),window.removeEventListener("beforeunload",deactivateActivityTracker)}function resetUserActivityTimeout(){clearTimeout(userActivityTimeout),userActivityTimeout=setTimeout(()=>{inactiveUserAction()},INACTIVE_USER_TIME_THRESHOLD),console.log("User is inactive = false")}function inactiveUserAction(){console.log("User is inactive = true"),window.dispatchEvent(new CustomEvent("modaldelainotactivity",{detail:{userActivity:!0},bubbles:!0}))}});export default HD();
